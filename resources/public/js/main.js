var shadow$provide = {};
(function(){
shadow$provide[0]=function(Ja,A,rb,E){var k=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;rb.exports=function(){try{if(!Object.assign)return!1;var H=new String("abc");H[5]="de";if("5"===Object.getOwnPropertyNames(H)[0])return!1;var N={};for(H=0;10>H;H++)N["_"+String.fromCharCode(H)]=H;if("0123456789"!==Object.getOwnPropertyNames(N).map(function(v){return N[v]}).join(""))return!1;var x={};"abcdefghijklmnopqrst".split("").forEach(function(v){x[v]=
v});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},x)).join("")?!1:!0}catch(v){return!1}}()?Object.assign:function(H,N){if(null===H||void 0===H)throw new TypeError("Object.assign cannot be called with null or undefined");var x=Object(H);for(var v,u=1;u<arguments.length;u++){var m=Object(arguments[u]);for(var g in m)l.call(m,g)&&(x[g]=m[g]);if(k){v=k(m);for(var d=0;d<v.length;d++)w.call(m,v[d])&&(x[v[d]]=m[v[d]])}}return x}};
shadow$provide[1]=function(Ja,A,rb,E){function k(Z){if(null===Z||"object"!==typeof Z)return null;Z=G&&Z[G]||Z["@@iterator"];return"function"===typeof Z?Z:null}function l(Z){for(var P="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+Z,C=1;C<arguments.length;C++)P+="\x26args[]\x3d"+encodeURIComponent(arguments[C]);return"Minified React error #"+Z+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w(Z,P,C){this.props=
Z;this.context=P;this.refs=R;this.updater=C||K}function H(){}function N(Z,P,C){this.props=Z;this.context=P;this.refs=R;this.updater=C||K}function x(Z,P,C){var V,ia={},aa=null,ya=null;if(null!=P)for(V in void 0!==P.ref&&(ya=P.ref),void 0!==P.key&&(aa=""+P.key),P)ja.call(P,V)&&!fa.hasOwnProperty(V)&&(ia[V]=P[V]);var va=arguments.length-2;if(1===va)ia.children=C;else if(1<va){for(var Ia=Array(va),bb=0;bb<va;bb++)Ia[bb]=arguments[bb+2];ia.children=Ia}if(Z&&Z.defaultProps)for(V in va=Z.defaultProps,va)void 0===
ia[V]&&(ia[V]=va[V]);return{$$typeof:y,type:Z,key:aa,ref:ya,props:ia,_owner:T.current}}function v(Z,P){return{$$typeof:y,type:Z.type,key:P,ref:Z.ref,props:Z.props,_owner:Z._owner}}function u(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===y}function m(Z){var P={"\x3d":"\x3d0",":":"\x3d2"};return"$"+Z.replace(/[=:]/g,function(C){return P[C]})}function g(Z,P){return"object"===typeof Z&&null!==Z&&null!=Z.key?m(""+Z.key):P.toString(36)}function d(Z,P,C,V,ia){var aa=typeof Z;if("undefined"===aa||
"boolean"===aa)Z=null;var ya=!1;if(null===Z)ya=!0;else switch(aa){case "string":case "number":ya=!0;break;case "object":switch(Z.$$typeof){case y:case B:ya=!0}}if(ya)return ya=Z,ia=ia(ya),Z=""===V?"."+g(ya,0):V,Array.isArray(ia)?(C="",null!=Z&&(C=Z.replace(ha,"$\x26/")+"/"),d(ia,P,C,"",function(bb){return bb})):null!=ia&&(u(ia)&&(ia=v(ia,C+(!ia.key||ya&&ya.key===ia.key?"":(""+ia.key).replace(ha,"$\x26/")+"/")+Z)),P.push(ia)),1;ya=0;V=""===V?".":V+":";if(Array.isArray(Z))for(var va=0;va<Z.length;va++){aa=
Z[va];var Ia=V+g(aa,va);ya+=d(aa,P,C,Ia,ia)}else if(Ia=k(Z),"function"===typeof Ia)for(Z=Ia.call(Z),va=0;!(aa=Z.next()).done;)aa=aa.value,Ia=V+g(aa,va++),ya+=d(aa,P,C,Ia,ia);else if("object"===aa)throw P=""+Z,Error(l(31,"[object Object]"===P?"object with keys {"+Object.keys(Z).join(", ")+"}":P));return ya}function f(Z,P,C){if(null==Z)return Z;var V=[],ia=0;d(Z,V,"","",function(aa){return P.call(C,aa,ia++)});return V}function a(Z){if(-1===Z._status){var P=Z._result;P=P();Z._status=0;Z._result=P;P.then(function(C){0===
Z._status&&(C=C.default,Z._status=1,Z._result=C)},function(C){0===Z._status&&(Z._status=2,Z._result=C)})}if(1===Z._status)return Z._result;throw Z._result;}function e(){var Z=la.current;if(null===Z)throw Error(l(321));return Z}var n=A(0),y=60103,B=60106;E.Fragment=60107;E.StrictMode=60108;E.Profiler=60114;var D=60109,O=60110,M=60112;E.Suspense=60113;var F=60115,z=60116;"function"===typeof Symbol&&Symbol.for&&(Ja=Symbol.for,y=Ja("react.element"),B=Ja("react.portal"),E.Fragment=Ja("react.fragment"),
E.StrictMode=Ja("react.strict_mode"),E.Profiler=Ja("react.profiler"),D=Ja("react.provider"),O=Ja("react.context"),M=Ja("react.forward_ref"),E.Suspense=Ja("react.suspense"),F=Ja("react.memo"),z=Ja("react.lazy"));var G="function"===typeof Symbol&&Symbol.iterator,K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R={};w.prototype.isReactComponent={};w.prototype.setState=function(Z,P){if("object"!==typeof Z&&"function"!==typeof Z&&
null!=Z)throw Error(l(85));this.updater.enqueueSetState(this,Z,P,"setState")};w.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};H.prototype=w.prototype;Ja=N.prototype=new H;Ja.constructor=N;n(Ja,w.prototype);Ja.isPureReactComponent=!0;var T={current:null},ja=Object.prototype.hasOwnProperty,fa={key:!0,ref:!0,__self:!0,__source:!0},ha=/\/+/g,la={current:null};Ja={ReactCurrentDispatcher:la,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},
assign:n};E.Children={map:f,forEach:function(Z,P,C){f(Z,function(){P.apply(this,arguments)},C)},count:function(Z){var P=0;f(Z,function(){P++});return P},toArray:function(Z){return f(Z,function(P){return P})||[]},only:function(Z){if(!u(Z))throw Error(l(143));return Z}};E.Component=w;E.PureComponent=N;E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ja;E.cloneElement=function(Z,P,C){if(null===Z||void 0===Z)throw Error(l(267,Z));var V=n({},Z.props),ia=Z.key,aa=Z.ref,ya=Z._owner;if(null!=P){void 0!==
P.ref&&(aa=P.ref,ya=T.current);void 0!==P.key&&(ia=""+P.key);if(Z.type&&Z.type.defaultProps)var va=Z.type.defaultProps;for(Ia in P)ja.call(P,Ia)&&!fa.hasOwnProperty(Ia)&&(V[Ia]=void 0===P[Ia]&&void 0!==va?va[Ia]:P[Ia])}var Ia=arguments.length-2;if(1===Ia)V.children=C;else if(1<Ia){va=Array(Ia);for(var bb=0;bb<Ia;bb++)va[bb]=arguments[bb+2];V.children=va}return{$$typeof:y,type:Z.type,key:ia,ref:aa,props:V,_owner:ya}};E.createContext=function(Z,P){void 0===P&&(P=null);Z={$$typeof:O,_calculateChangedBits:P,
_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null};Z.Provider={$$typeof:D,_context:Z};return Z.Consumer=Z};E.createElement=x;E.createFactory=function(Z){var P=x.bind(null,Z);P.type=Z;return P};E.createRef=function(){return{current:null}};E.forwardRef=function(Z){return{$$typeof:M,render:Z}};E.isValidElement=u;E.lazy=function(Z){return{$$typeof:z,_payload:{_status:-1,_result:Z},_init:a}};E.memo=function(Z,P){return{$$typeof:F,type:Z,compare:void 0===P?null:P}};E.useCallback=
function(Z,P){return e().useCallback(Z,P)};E.useContext=function(Z,P){return e().useContext(Z,P)};E.useDebugValue=function(){};E.useEffect=function(Z,P){return e().useEffect(Z,P)};E.useImperativeHandle=function(Z,P,C){return e().useImperativeHandle(Z,P,C)};E.useLayoutEffect=function(Z,P){return e().useLayoutEffect(Z,P)};E.useMemo=function(Z,P){return e().useMemo(Z,P)};E.useReducer=function(Z,P,C){return e().useReducer(Z,P,C)};E.useRef=function(Z){return e().useRef(Z)};E.useState=function(Z){return e().useState(Z)};
E.version="17.0.1"};
shadow$provide[3]=function(Ja,A,rb,E){rb.exports=A(1)};
shadow$provide[4]=function(Ja,A,rb,E){function k(C,V){var ia=C.length;C.push(V);a:for(;;){var aa=ia-1>>>1,ya=C[aa];if(void 0!==ya&&0<H(ya,V))C[aa]=V,C[ia]=ya,ia=aa;else break a}}function l(C){C=C[0];return void 0===C?null:C}function w(C){var V=C[0];if(void 0!==V){var ia=C.pop();if(ia!==V){C[0]=ia;var aa=0,ya=C.length;a:for(;aa<ya;){var va=2*(aa+1)-1,Ia=C[va],bb=va+1,kb=C[bb];if(void 0!==Ia&&0>H(Ia,ia))void 0!==kb&&0>H(kb,Ia)?(C[aa]=kb,C[bb]=ia,aa=bb):(C[aa]=Ia,C[va]=ia,aa=va);else if(void 0!==kb&&
0>H(kb,ia))C[aa]=kb,C[bb]=ia,aa=bb;else break a}}return V}return null}function H(C,V){var ia=C.sortIndex-V.sortIndex;return 0!==ia?ia:C.id-V.id}function N(C){for(var V=l(T);null!==V;){if(null===V.callback)w(T);else if(V.startTime<=C)w(T),V.sortIndex=V.expirationTime,k(R,V);else break;V=l(T)}}function x(C){P=!1;N(C);if(!Z)if(null!==l(R))Z=!0,e(v);else{var V=l(T);null!==V&&n(x,V.startTime-C)}}function v(C,V){Z=!1;P&&(P=!1,y());la=!0;var ia=ha;try{N(V);for(fa=l(R);null!==fa&&(!(fa.expirationTime>V)||
C&&!E.unstable_shouldYield());){var aa=fa.callback;if("function"===typeof aa){fa.callback=null;ha=fa.priorityLevel;var ya=aa(fa.expirationTime<=V);V=E.unstable_now();"function"===typeof ya?fa.callback=ya:fa===l(R)&&w(R);N(V)}else w(R);fa=l(R)}if(null!==fa)var va=!0;else{var Ia=l(T);null!==Ia&&n(x,Ia.startTime-V);va=!1}return va}finally{fa=null,ha=ia,la=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;E.unstable_now=function(){return u.now()}}else{var m=
Date,g=m.now();E.unstable_now=function(){return m.now()-g}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var d=null,f=null,a=function(){if(null!==d)try{var C=E.unstable_now();d(!0,C);d=null}catch(V){throw setTimeout(a,0),V;}};var e=function(C){null!==d?setTimeout(e,0,C):(d=C,setTimeout(a,0))};var n=function(C,V){f=setTimeout(C,V)};var y=function(){clearTimeout(f)};E.unstable_shouldYield=function(){return!1};Ja=E.unstable_forceFrameRate=function(){}}else{var B=window.setTimeout,
D=window.clearTimeout;"undefined"!==typeof console&&(Ja=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ja&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var O=!1,M=null,
F=-1,z=5,G=0;E.unstable_shouldYield=function(){return E.unstable_now()>=G};Ja=function(){};E.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<C?Math.floor(1E3/C):5};A=new MessageChannel;var K=A.port2;A.port1.onmessage=function(){if(null!==M){var C=E.unstable_now();G=C+z;try{M(!0,C)?K.postMessage(null):(O=!1,M=null)}catch(V){throw K.postMessage(null),V;}}else O=!1};e=function(C){M=
C;O||(O=!0,K.postMessage(null))};n=function(C,V){F=B(function(){C(E.unstable_now())},V)};y=function(){D(F);F=-1}}var R=[],T=[],ja=1,fa=null,ha=3,la=!1,Z=!1,P=!1;E.unstable_IdlePriority=5;E.unstable_ImmediatePriority=1;E.unstable_LowPriority=4;E.unstable_NormalPriority=3;E.unstable_Profiling=null;E.unstable_UserBlockingPriority=2;E.unstable_cancelCallback=function(C){C.callback=null};E.unstable_continueExecution=function(){Z||la||(Z=!0,e(v))};E.unstable_getCurrentPriorityLevel=function(){return ha};
E.unstable_getFirstCallbackNode=function(){return l(R)};E.unstable_next=function(C){switch(ha){case 1:case 2:case 3:var V=3;break;default:V=ha}var ia=ha;ha=V;try{return C()}finally{ha=ia}};E.unstable_pauseExecution=function(){};E.unstable_requestPaint=Ja;E.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ia=ha;ha=C;try{return V()}finally{ha=ia}};E.unstable_scheduleCallback=function(C,V,ia){var aa=E.unstable_now();"object"===typeof ia&&null!==
ia?(ia=ia.delay,ia="number"===typeof ia&&0<ia?aa+ia:aa):ia=aa;switch(C){case 1:var ya=-1;break;case 2:ya=250;break;case 5:ya=1073741823;break;case 4:ya=1E4;break;default:ya=5E3}ya=ia+ya;C={id:ja++,callback:V,priorityLevel:C,startTime:ia,expirationTime:ya,sortIndex:-1};ia>aa?(C.sortIndex=ia,k(T,C),null===l(R)&&C===l(T)&&(P?y():P=!0,n(x,ia-aa))):(C.sortIndex=ya,k(R,C),Z||la||(Z=!0,e(v)));return C};E.unstable_wrapCallback=function(C){var V=ha;return function(){var ia=ha;ha=V;try{return C.apply(this,
arguments)}finally{ha=ia}}}};
shadow$provide[6]=function(Ja,A,rb,E){rb.exports=A(4)};
shadow$provide[7]=function(Ja,A,rb,E){function k(q){for(var J="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+q,da=1;da<arguments.length;da++)J+="\x26args[]\x3d"+encodeURIComponent(arguments[da]);return"Minified React error #"+q+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(q,J){w(q,J);w(q+"Capture",J)}function w(q,J){vh[q]=J;for(q=0;q<J.length;q++)Ei.add(J[q])}function H(q){if(Vj.call(Wj,q))return!0;
if(Vj.call(Xj,q))return!1;if(Yj.test(q))return Wj[q]=!0;Xj[q]=!0;return!1}function N(q,J,da,Qa){if(null!==da&&0===da.type)return!1;switch(typeof J){case "function":case "symbol":return!0;case "boolean":if(Qa)return!1;if(null!==da)return!da.acceptsBooleans;q=q.toLowerCase().slice(0,5);return"data-"!==q&&"aria-"!==q;default:return!1}}function x(q,J,da,Qa){if(null===J||"undefined"===typeof J||N(q,J,da,Qa))return!0;if(Qa)return!1;if(null!==da)switch(da.type){case 3:return!J;case 4:return!1===J;case 5:return isNaN(J);
case 6:return isNaN(J)||1>J}return!1}function v(q,J,da,Qa,ib,yb,Ob){this.acceptsBooleans=2===J||3===J||4===J;this.attributeName=Qa;this.attributeNamespace=ib;this.mustUseProperty=da;this.propertyName=q;this.type=J;this.sanitizeURL=yb;this.removeEmptyString=Ob}function u(q){return q[1].toUpperCase()}function m(q,J,da,Qa){var ib=vg.hasOwnProperty(J)?vg[J]:null;(null!==ib?0===ib.type:Qa?0:2<J.length&&("o"===J[0]||"O"===J[0])&&("n"===J[1]||"N"===J[1]))||(x(J,da,ib,Qa)&&(da=null),Qa||null===ib?H(J)&&(null===
da?q.removeAttribute(J):q.setAttribute(J,""+da)):ib.mustUseProperty?q[ib.propertyName]=null===da?3===ib.type?!1:"":da:(J=ib.attributeName,Qa=ib.attributeNamespace,null===da?q.removeAttribute(J):(ib=ib.type,da=3===ib||4===ib&&!0===da?"":""+da,Qa?q.setAttributeNS(Qa,J,da):q.setAttribute(J,da))))}function g(q){if(null===q||"object"!==typeof q)return null;q=ri&&q[ri]||q["@@iterator"];return"function"===typeof q?q:null}function d(q){if(void 0===dh)try{throw Error();}catch(da){var J=da.stack.trim().match(/\n( *(at )?)/);
dh=J&&J[1]||""}return"\n"+dh+q}function f(q,J){if(!q||Aj)return"";Aj=!0;var da=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(J)if(J=function(){throw Error();},Object.defineProperty(J.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(J,[])}catch(Fc){var Qa=Fc}Reflect.construct(q,[],J)}else{try{J.call()}catch(Fc){Qa=Fc}q.call(J.prototype)}else{try{throw Error();}catch(Fc){Qa=Fc}q()}}catch(Fc){if(Fc&&Qa&&"string"===
typeof Fc.stack){for(var ib=Fc.stack.split("\n"),yb=Qa.stack.split("\n"),Ob=ib.length-1,fc=yb.length-1;1<=Ob&&0<=fc&&ib[Ob]!==yb[fc];)fc--;for(;1<=Ob&&0<=fc;Ob--,fc--)if(ib[Ob]!==yb[fc]){if(1!==Ob||1!==fc){do if(Ob--,fc--,0>fc||ib[Ob]!==yb[fc])return"\n"+ib[Ob].replace(" at new "," at ");while(1<=Ob&&0<=fc)}break}}}finally{Aj=!1,Error.prepareStackTrace=da}return(q=q?q.displayName||q.name:"")?d(q):""}function a(q){switch(q.tag){case 5:return d(q.type);case 16:return d("Lazy");case 13:return d("Suspense");
case 19:return d("SuspenseList");case 0:case 2:case 15:return q=f(q.type,!1),q;case 11:return q=f(q.type.render,!1),q;case 22:return q=f(q.type._render,!1),q;case 1:return q=f(q.type,!0),q;default:return""}}function e(q){if(null==q)return null;if("function"===typeof q)return q.displayName||q.name||null;if("string"===typeof q)return q;switch(q){case Zg:return"Fragment";case wg:return"Portal";case bi:return"Profiler";case Eg:return"StrictMode";case Ff:return"Suspense";case Ag:return"SuspenseList"}if("object"===
typeof q)switch(q.$$typeof){case Fi:return(q.displayName||"Context")+".Consumer";case eh:return(q._context.displayName||"Context")+".Provider";case wf:var J=q.render;J=J.displayName||J.name||"";return q.displayName||(""!==J?"ForwardRef("+J+")":"ForwardRef");case ci:return e(q.type);case Jg:return e(q._render);case Gh:J=q._payload;q=q._init;try{return e(q(J))}catch(da){}}return null}function n(q){switch(typeof q){case "boolean":case "number":case "object":case "string":case "undefined":return q;default:return""}}
function y(q){var J=q.type;return(q=q.nodeName)&&"input"===q.toLowerCase()&&("checkbox"===J||"radio"===J)}function B(q){var J=y(q)?"checked":"value",da=Object.getOwnPropertyDescriptor(q.constructor.prototype,J),Qa=""+q[J];if(!q.hasOwnProperty(J)&&"undefined"!==typeof da&&"function"===typeof da.get&&"function"===typeof da.set){var ib=da.get,yb=da.set;Object.defineProperty(q,J,{configurable:!0,get:function(){return ib.call(this)},set:function(Ob){Qa=""+Ob;yb.call(this,Ob)}});Object.defineProperty(q,
J,{enumerable:da.enumerable});return{getValue:function(){return Qa},setValue:function(Ob){Qa=""+Ob},stopTracking:function(){q._valueTracker=null;delete q[J]}}}}function D(q){q._valueTracker||(q._valueTracker=B(q))}function O(q){if(!q)return!1;var J=q._valueTracker;if(!J)return!0;var da=J.getValue(),Qa="";q&&(Qa=y(q)?q.checked?"true":"false":q.value);q=Qa;return q!==da?(J.setValue(q),!0):!1}function M(q){q=q||("undefined"!==typeof document?document:void 0);if("undefined"===typeof q)return null;try{return q.activeElement||
q.body}catch(J){return q.body}}function F(q,J){var da=J.checked;return lg({},J,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=da?da:q._wrapperState.initialChecked})}function z(q,J){var da=null==J.defaultValue?"":J.defaultValue,Qa=null!=J.checked?J.checked:J.defaultChecked;da=n(null!=J.value?J.value:da);q._wrapperState={initialChecked:Qa,initialValue:da,controlled:"checkbox"===J.type||"radio"===J.type?null!=J.checked:null!=J.value}}function G(q,J){J=J.checked;null!=J&&m(q,"checked",
J,!1)}function K(q,J){G(q,J);var da=n(J.value),Qa=J.type;if(null!=da)if("number"===Qa){if(0===da&&""===q.value||q.value!=da)q.value=""+da}else q.value!==""+da&&(q.value=""+da);else if("submit"===Qa||"reset"===Qa){q.removeAttribute("value");return}J.hasOwnProperty("value")?T(q,J.type,da):J.hasOwnProperty("defaultValue")&&T(q,J.type,n(J.defaultValue));null==J.checked&&null!=J.defaultChecked&&(q.defaultChecked=!!J.defaultChecked)}function R(q,J,da){if(J.hasOwnProperty("value")||J.hasOwnProperty("defaultValue")){var Qa=
J.type;if(!("submit"!==Qa&&"reset"!==Qa||void 0!==J.value&&null!==J.value))return;J=""+q._wrapperState.initialValue;da||J===q.value||(q.value=J);q.defaultValue=J}da=q.name;""!==da&&(q.name="");q.defaultChecked=!!q._wrapperState.initialChecked;""!==da&&(q.name=da)}function T(q,J,da){if("number"!==J||M(q.ownerDocument)!==q)null==da?q.defaultValue=""+q._wrapperState.initialValue:q.defaultValue!==""+da&&(q.defaultValue=""+da)}function ja(q){var J="";Gi.Children.forEach(q,function(da){null!=da&&(J+=da)});
return J}function fa(q,J){q=lg({children:void 0},J);if(J=ja(J.children))q.children=J;return q}function ha(q,J,da,Qa){q=q.options;if(J){J={};for(var ib=0;ib<da.length;ib++)J["$"+da[ib]]=!0;for(da=0;da<q.length;da++)ib=J.hasOwnProperty("$"+q[da].value),q[da].selected!==ib&&(q[da].selected=ib),ib&&Qa&&(q[da].defaultSelected=!0)}else{da=""+n(da);J=null;for(ib=0;ib<q.length;ib++){if(q[ib].value===da){q[ib].selected=!0;Qa&&(q[ib].defaultSelected=!0);return}null!==J||q[ib].disabled||(J=q[ib])}null!==J&&
(J.selected=!0)}}function la(q,J){if(null!=J.dangerouslySetInnerHTML)throw Error(k(91));return lg({},J,{value:void 0,defaultValue:void 0,children:""+q._wrapperState.initialValue})}function Z(q,J){var da=J.value;if(null==da){da=J.children;J=J.defaultValue;if(null!=da){if(null!=J)throw Error(k(92));if(Array.isArray(da)){if(!(1>=da.length))throw Error(k(93));da=da[0]}J=da}null==J&&(J="");da=J}q._wrapperState={initialValue:n(da)}}function P(q,J){var da=n(J.value),Qa=n(J.defaultValue);null!=da&&(da=""+
da,da!==q.value&&(q.value=da),null==J.defaultValue&&q.defaultValue!==da&&(q.defaultValue=da));null!=Qa&&(q.defaultValue=""+Qa)}function C(q){var J=q.textContent;J===q._wrapperState.initialValue&&""!==J&&null!==J&&(q.value=J)}function V(q){switch(q){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(q,J){return null==q||"http://www.w3.org/1999/xhtml"===q?V(J):"http://www.w3.org/2000/svg"===q&&
"foreignObject"===J?"http://www.w3.org/1999/xhtml":q}function aa(q,J){if(J){var da=q.firstChild;if(da&&da===q.lastChild&&3===da.nodeType){da.nodeValue=J;return}}q.textContent=J}function ya(q,J,da){return null==J||"boolean"===typeof J||""===J?"":da||"number"!==typeof J||0===J||Vh.hasOwnProperty(q)&&Vh[q]?(""+J).trim():J+"px"}function va(q,J){q=q.style;for(var da in J)if(J.hasOwnProperty(da)){var Qa=0===da.indexOf("--"),ib=ya(da,J[da],Qa);"float"===da&&(da="cssFloat");Qa?q.setProperty(da,ib):q[da]=
ib}}function Ia(q,J){if(J){if(Hi[q]&&(null!=J.children||null!=J.dangerouslySetInnerHTML))throw Error(k(137,q));if(null!=J.dangerouslySetInnerHTML){if(null!=J.children)throw Error(k(60));if(!("object"===typeof J.dangerouslySetInnerHTML&&"__html"in J.dangerouslySetInnerHTML))throw Error(k(61));}if(null!=J.style&&"object"!==typeof J.style)throw Error(k(62));}}function bb(q,J){if(-1===q.indexOf("-"))return"string"===typeof J.is;switch(q){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function kb(q){q=q.target||q.srcElement||window;q.correspondingUseElement&&(q=q.correspondingUseElement);return 3===q.nodeType?q.parentNode:q}function ua(q){if(q=Ge(q)){if("function"!==typeof di)throw Error(k(280));var J=q.stateNode;J&&(J=Ye(J),di(q.stateNode,q.type,J))}}function Ta(q){pf?mh?mh.push(q):mh=[q]:pf=q}function Ya(){if(pf){var q=pf,J=mh;mh=pf=null;ua(q);if(J)for(q=0;q<J.length;q++)ua(J[q])}}function Da(q,J){return q(J)}function ta(q,J,da,Qa,ib){return q(J,da,Qa,ib)}function U(){}
function W(){if(null!==pf||null!==mh)U(),Ya()}function ba(q,J,da){if(ei)return q(J,da);ei=!0;try{return mg(q,J,da)}finally{ei=!1,W()}}function ca(q,J){var da=q.stateNode;if(null===da)return null;var Qa=Ye(da);if(null===Qa)return null;da=Qa[J];a:switch(J){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Qa=!Qa.disabled)||
(q=q.type,Qa=!("button"===q||"input"===q||"select"===q||"textarea"===q));q=!Qa;break a;default:q=!1}if(q)return null;if(da&&"function"!==typeof da)throw Error(k(231,J,typeof da));return da}function ra(q,J,da,Qa,ib,yb,Ob,fc,Fc){var sd=Array.prototype.slice.call(arguments,3);try{J.apply(da,sd)}catch(ve){this.onError(ve)}}function qa(q,J,da,Qa,ib,yb,Ob,fc,Fc){fi=!1;Wh=null;ra.apply(Te,arguments)}function Fa(q,J,da,Qa,ib,yb,Ob,fc,Fc){qa.apply(this,arguments);if(fi){if(fi){var sd=Wh;fi=!1;Wh=null}else throw Error(k(198));
Hh||(Hh=!0,gi=sd)}}function na(q){var J=q,da=q;if(q.alternate)for(;J.return;)J=J.return;else{q=J;do J=q,0!==(J.flags&1026)&&(da=J.return),q=J.return;while(q)}return 3===J.tag?da:null}function Ra(q){if(13===q.tag){var J=q.memoizedState;null===J&&(q=q.alternate,null!==q&&(J=q.memoizedState));if(null!==J)return J.dehydrated}return null}function db(q){if(na(q)!==q)throw Error(k(188));}function $a(q){var J=q.alternate;if(!J){J=na(q);if(null===J)throw Error(k(188));return J!==q?null:q}for(var da=q,Qa=J;;){var ib=
da.return;if(null===ib)break;var yb=ib.alternate;if(null===yb){Qa=ib.return;if(null!==Qa){da=Qa;continue}break}if(ib.child===yb.child){for(yb=ib.child;yb;){if(yb===da)return db(ib),q;if(yb===Qa)return db(ib),J;yb=yb.sibling}throw Error(k(188));}if(da.return!==Qa.return)da=ib,Qa=yb;else{for(var Ob=!1,fc=ib.child;fc;){if(fc===da){Ob=!0;da=ib;Qa=yb;break}if(fc===Qa){Ob=!0;Qa=ib;da=yb;break}fc=fc.sibling}if(!Ob){for(fc=yb.child;fc;){if(fc===da){Ob=!0;da=yb;Qa=ib;break}if(fc===Qa){Ob=!0;Qa=yb;da=ib;break}fc=
fc.sibling}if(!Ob)throw Error(k(189));}}if(da.alternate!==Qa)throw Error(k(190));}if(3!==da.tag)throw Error(k(188));return da.stateNode.current===da?q:J}function Ca(q){q=$a(q);if(!q)return null;for(var J=q;;){if(5===J.tag||6===J.tag)return J;if(J.child)J.child.return=J,J=J.child;else{if(J===q)break;for(;!J.sibling;){if(!J.return||J.return===q)return null;J=J.return}J.sibling.return=J.return;J=J.sibling}}return null}function Ga(q,J){for(var da=q.alternate;null!==J;){if(J===q||J===da)return!0;J=J.return}return!1}
function pa(q,J,da,Qa,ib){return{blockedOn:q,domEventName:J,eventSystemFlags:da|16,nativeEvent:ib,targetContainers:[Qa]}}function Ha(q,J){switch(q){case "focusin":case "focusout":wh=null;break;case "dragenter":case "dragleave":Ih=null;break;case "mouseover":case "mouseout":Xh=null;break;case "pointerover":case "pointerout":Ii.delete(J.pointerId);break;case "gotpointercapture":case "lostpointercapture":si.delete(J.pointerId)}}function Ua(q,J,da,Qa,ib,yb){if(null===q||q.nativeEvent!==yb)return q=pa(J,
da,Qa,ib,yb),null!==J&&(J=Ge(J),null!==J&&ol(J)),q;q.eventSystemFlags|=Qa;J=q.targetContainers;null!==ib&&-1===J.indexOf(ib)&&J.push(ib);return q}function jb(q,J,da,Qa,ib){switch(J){case "focusin":return wh=Ua(wh,q,J,da,Qa,ib),!0;case "dragenter":return Ih=Ua(Ih,q,J,da,Qa,ib),!0;case "mouseover":return Xh=Ua(Xh,q,J,da,Qa,ib),!0;case "pointerover":var yb=ib.pointerId;Ii.set(yb,Ua(Ii.get(yb)||null,q,J,da,Qa,ib));return!0;case "gotpointercapture":return yb=ib.pointerId,si.set(yb,Ua(si.get(yb)||null,
q,J,da,Qa,ib)),!0}return!1}function Fb(q){var J=jf(q.target);if(null!==J){var da=na(J);if(null!==da)if(J=da.tag,13===J){if(J=Ra(da),null!==J){q.blockedOn=J;nh(q.lanePriority,function(){Dg.unstable_runWithPriority(q.priority,function(){Jh(da)})});return}}else if(3===J&&da.stateNode.hydrate){q.blockedOn=3===da.tag?da.stateNode.containerInfo:null;return}}q.blockedOn=null}function Xb(q){if(null!==q.blockedOn)return!1;for(var J=q.targetContainers;0<J.length;){var da=Eb(q.domEventName,q.eventSystemFlags,
J[0],q.nativeEvent);if(null!==da)return J=Ge(da),null!==J&&ol(J),q.blockedOn=da,!1;J.shift()}return!0}function nc(q,J,da){Xb(q)&&da.delete(J)}function md(){for(dj=!1;0<ih.length;){var q=ih[0];if(null!==q.blockedOn){q=Ge(q.blockedOn);null!==q&&zk(q);break}for(var J=q.targetContainers;0<J.length;){var da=Eb(q.domEventName,q.eventSystemFlags,J[0],q.nativeEvent);if(null!==da){q.blockedOn=da;break}J.shift()}null===q.blockedOn&&ih.shift()}null!==wh&&Xb(wh)&&(wh=null);null!==Ih&&Xb(Ih)&&(Ih=null);null!==
Xh&&Xb(Xh)&&(Xh=null);Ii.forEach(nc);si.forEach(nc)}function pc(q,J){q.blockedOn===J&&(q.blockedOn=null,dj||(dj=!0,Dg.unstable_scheduleCallback(Dg.unstable_NormalPriority,md)))}function Hc(q){function J(ib){return pc(ib,q)}if(0<ih.length){pc(ih[0],q);for(var da=1;da<ih.length;da++){var Qa=ih[da];Qa.blockedOn===q&&(Qa.blockedOn=null)}}null!==wh&&pc(wh,q);null!==Ih&&pc(Ih,q);null!==Xh&&pc(Xh,q);Ii.forEach(J);si.forEach(J);for(da=0;da<Kh.length;da++)Qa=Kh[da],Qa.blockedOn===q&&(Qa.blockedOn=null);for(;0<
Kh.length&&(da=Kh[0],null===da.blockedOn);)Fb(da),null===da.blockedOn&&Kh.shift()}function mb(q,J){var da={};da[q.toLowerCase()]=J.toLowerCase();da["Webkit"+q]="webkit"+J;da["Moz"+q]="moz"+J;return da}function hc(q){if(kg[q])return kg[q];if(!jh[q])return q;var J=jh[q],da;for(da in J)if(J.hasOwnProperty(da)&&da in Ji)return kg[q]=J[da];return q}function jc(q,J){for(var da=0;da<q.length;da+=2){var Qa=q[da],ib=q[da+1];ib="on"+(ib[0].toUpperCase()+ib.slice(1));Zj.set(Qa,J);Yh.set(Qa,ib);l(ib,[Qa])}}function rc(q){if(0!==
(1&q))return ag=15,1;if(0!==(2&q))return ag=14,2;if(0!==(4&q))return ag=13,4;var J=24&q;if(0!==J)return ag=12,J;if(0!==(q&32))return ag=11,32;J=192&q;if(0!==J)return ag=10,J;if(0!==(q&256))return ag=9,256;J=3584&q;if(0!==J)return ag=8,J;if(0!==(q&4096))return ag=7,4096;J=4186112&q;if(0!==J)return ag=6,J;J=62914560&q;if(0!==J)return ag=5,J;if(q&67108864)return ag=4,67108864;if(0!==(q&134217728))return ag=3,134217728;J=805306368&q;if(0!==J)return ag=2,J;if(0!==(1073741824&q))return ag=1,1073741824;
ag=8;return q}function Pc(q){switch(q){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sc(q){switch(q){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(k(358,q));}}function Uc(q,J){var da=q.pendingLanes;if(0===da)return ag=0;var Qa=0,ib=0,yb=q.expiredLanes,Ob=q.suspendedLanes,fc=q.pingedLanes;if(0!==yb)Qa=
yb,ib=ag=15;else if(yb=da&134217727,0!==yb){var Fc=yb&~Ob;0!==Fc?(Qa=rc(Fc),ib=ag):(fc&=yb,0!==fc&&(Qa=rc(fc),ib=ag))}else yb=da&~Ob,0!==yb?(Qa=rc(yb),ib=ag):0!==fc&&(Qa=rc(fc),ib=ag);if(0===Qa)return 0;Qa=31-Lh(Qa);Qa=da&((0>Qa?0:1<<Qa)<<1)-1;if(0!==J&&J!==Qa&&0===(J&Ob)){rc(J);if(ib<=ag)return J;ag=ib}J=q.entangledLanes;if(0!==J)for(q=q.entanglements,J&=Qa;0<J;)da=31-Lh(J),ib=1<<da,Qa|=q[da],J&=~ib;return Qa}function Sc(q){q=q.pendingLanes&-1073741825;return 0!==q?q:q&1073741824?1073741824:0}function Lc(q,
J){switch(q){case 15:return 1;case 14:return 2;case 12:return q=Fd(24&~J),0===q?Lc(10,J):q;case 10:return q=Fd(192&~J),0===q?Lc(8,J):q;case 8:return q=Fd(3584&~J),0===q&&(q=Fd(4186112&~J),0===q&&(q=512)),q;case 2:return J=Fd(805306368&~J),0===J&&(J=268435456),J}throw Error(k(358,q));}function Fd(q){return q&-q}function ge(q){for(var J=[],da=0;31>da;da++)J.push(q);return J}function wd(q,J,da){q.pendingLanes|=J;var Qa=J-1;q.suspendedLanes&=Qa;q.pingedLanes&=Qa;q=q.eventTimes;J=31-Lh(J);q[J]=da}function vd(q){return 0===
q?32:31-(oh(q)/Mh|0)|0}function Wd(q,J,da,Qa){Tf||U();var ib=gc,yb=Tf;Tf=!0;try{ta(ib,q,J,da,Qa)}finally{(Tf=yb)||W()}}function Pb(q,J,da,Qa){ej(Nh,gc.bind(null,q,J,da,Qa))}function gc(q,J,da,Qa){if(Bj){var ib;if((ib=0===(J&4))&&0<ih.length&&-1<ti.indexOf(q))q=pa(null,q,J,da,Qa),ih.push(q);else{var yb=Eb(q,J,da,Qa);if(null===yb)ib&&Ha(q,Qa);else{if(ib){if(-1<ti.indexOf(q)){q=pa(yb,q,J,da,Qa);ih.push(q);return}if(jb(yb,q,J,da,Qa))return;Ha(q,Qa)}Zd(q,J,Qa,null,da)}}}}function Eb(q,J,da,Qa){var ib=
kb(Qa);ib=jf(ib);if(null!==ib){var yb=na(ib);if(null===yb)ib=null;else{var Ob=yb.tag;if(13===Ob){ib=Ra(yb);if(null!==ib)return ib;ib=null}else if(3===Ob){if(yb.stateNode.hydrate)return 3===yb.tag?yb.stateNode.containerInfo:null;ib=null}else yb!==ib&&(ib=null)}}Zd(q,J,Qa,ib,da);return null}function zc(){if(Og)return Og;var q,J=ui,da=J.length,Qa,ib="value"in ph?ph.value:ph.textContent,yb=ib.length;for(q=0;q<da&&J[q]===ib[q];q++);var Ob=da-q;for(Qa=1;Qa<=Ob&&J[da-Qa]===ib[yb-Qa];Qa++);return Og=ib.slice(q,
1<Qa?1-Qa:void 0)}function Vc(q){var J=q.keyCode;"charCode"in q?(q=q.charCode,0===q&&13===J&&(q=13)):q=J;10===q&&(q=13);return 32<=q||13===q?q:0}function Ed(){return!0}function Vd(){return!1}function Ka(q){function J(da,Qa,ib,yb,Ob){this._reactName=da;this._targetInst=ib;this.type=Qa;this.nativeEvent=yb;this.target=Ob;this.currentTarget=null;for(var fc in q)q.hasOwnProperty(fc)&&(da=q[fc],this[fc]=da?da(yb):yb[fc]);this.isDefaultPrevented=(null!=yb.defaultPrevented?yb.defaultPrevented:!1===yb.returnValue)?
Ed:Vd;this.isPropagationStopped=Vd;return this}lg(J.prototype,{preventDefault:function(){this.defaultPrevented=!0;var da=this.nativeEvent;da&&(da.preventDefault?da.preventDefault():"unknown"!==typeof da.returnValue&&(da.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var da=this.nativeEvent;da&&(da.stopPropagation?da.stopPropagation():"unknown"!==typeof da.cancelBubble&&(da.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed});return J}function eb(q){var J=
this.nativeEvent;return J.getModifierState?J.getModifierState(q):(q=Ki[q])?!!J[q]:!1}function wb(){return eb}function Hb(q,J){switch(q){case "keyup":return-1!==X.indexOf(J.keyCode);case "keydown":return 229!==J.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ac(q){q=q.detail;return"object"===typeof q&&"data"in q?q.data:null}function Lb(q,J){switch(q){case "compositionend":return ac(J);case "keypress":if(32!==J.which)return null;tb=!0;return ab;case "textInput":return q=
J.data,q===ab&&tb?null:q;default:return null}}function Ac(q,J){if(Ib)return"compositionend"===q||!S&&Hb(q,J)?(q=zc(),Og=ui=ph=null,Ib=!1,q):null;switch(q){case "paste":return null;case "keypress":if(!(J.ctrlKey||J.altKey||J.metaKey)||J.ctrlKey&&J.altKey){if(J.char&&1<J.char.length)return J.char;if(J.which)return String.fromCharCode(J.which)}return null;case "compositionend":return Xa&&"ko"!==J.locale?null:J.data;default:return null}}function tc(q){var J=q&&q.nodeName&&q.nodeName.toLowerCase();return"input"===
J?!!dc[q.type]:"textarea"===J?!0:!1}function pb(q,J,da,Qa){Ta(Qa);J=zf(J,"onChange");0<J.length&&(da=new Jf("onChange","change",null,da,Qa),q.push({event:da,listeners:J}))}function Bb(q){De(q,0)}function Ub(q){var J=Td(q);if(O(J))return q}function mc(q,J){if("change"===q)return J}function Bc(){Rc&&(Rc.detachEvent("onpropertychange",Cc),vc=Rc=null)}function Cc(q){if("value"===q.propertyName&&Ub(vc)){var J=[];pb(J,vc,q,kb(q));q=Bb;if(Tf)q(J);else{Tf=!0;try{Da(q,J)}finally{Tf=!1,W()}}}}function Xc(q,
J,da){"focusin"===q?(Bc(),Rc=J,vc=da,Rc.attachEvent("onpropertychange",Cc)):"focusout"===q&&Bc()}function Qb(q){if("selectionchange"===q||"keyup"===q||"keydown"===q)return Ub(vc)}function Ic(q,J){if("click"===q)return Ub(J)}function Dc(q,J){if("input"===q||"change"===q)return Ub(J)}function uc(q,J){return q===J&&(0!==q||1/q===1/J)||q!==q&&J!==J}function Tc(q,J){if(bf(q,J))return!0;if("object"!==typeof q||null===q||"object"!==typeof J||null===J)return!1;var da=Object.keys(q),Qa=Object.keys(J);if(da.length!==
Qa.length)return!1;for(Qa=0;Qa<da.length;Qa++)if(!He.call(J,da[Qa])||!bf(q[da[Qa]],J[da[Qa]]))return!1;return!0}function ad(q){for(;q&&q.firstChild;)q=q.firstChild;return q}function ld(q,J){var da=ad(q);q=0;for(var Qa;da;){if(3===da.nodeType){Qa=q+da.textContent.length;if(q<=J&&Qa>=J)return{node:da,offset:J-q};q=Qa}a:{for(;da;){if(da.nextSibling){da=da.nextSibling;break a}da=da.parentNode}da=void 0}da=ad(da)}}function Cd(q,J){return q&&J?q===J?!0:q&&3===q.nodeType?!1:J&&3===J.nodeType?Cd(q,J.parentNode):
"contains"in q?q.contains(J):q.compareDocumentPosition?!!(q.compareDocumentPosition(J)&16):!1:!1}function Dd(){for(var q=window,J=M();J instanceof q.HTMLIFrameElement;){try{var da="string"===typeof J.contentWindow.location.href}catch(Qa){da=!1}if(da)q=J.contentWindow;else break;J=M(q.document)}return J}function Ud(q){var J=q&&q.nodeName&&q.nodeName.toLowerCase();return J&&("input"===J&&("text"===q.type||"search"===q.type||"tel"===q.type||"url"===q.type||"password"===q.type)||"textarea"===J||"true"===
q.contentEditable)}function ae(q,J,da){var Qa=da.window===da?da.document:9===da.nodeType?da:da.ownerDocument;qf||null==Af||Af!==M(Qa)||(Qa=Af,"selectionStart"in Qa&&Ud(Qa)?Qa={start:Qa.selectionStart,end:Qa.selectionEnd}:(Qa=(Qa.ownerDocument&&Qa.ownerDocument.defaultView||window).getSelection(),Qa={anchorNode:Qa.anchorNode,anchorOffset:Qa.anchorOffset,focusNode:Qa.focusNode,focusOffset:Qa.focusOffset}),Wf&&Tc(Wf,Qa)||(Wf=Qa,Qa=zf(bg,"onSelect"),0<Qa.length&&(J=new Jf("onSelect","select",null,J,da),
q.push({event:J,listeners:Qa}),J.target=Af)))}function oe(q,J,da){var Qa=q.type||"unknown-event";q.currentTarget=da;Fa(Qa,J,void 0,q);q.currentTarget=null}function De(q,J){J=0!==(J&4);for(var da=0;da<q.length;da++){var Qa=q[da],ib=Qa.event;Qa=Qa.listeners;a:{var yb=void 0;if(J)for(var Ob=Qa.length-1;0<=Ob;Ob--){var fc=Qa[Ob],Fc=fc.instance,sd=fc.currentTarget;fc=fc.listener;if(Fc!==yb&&ib.isPropagationStopped())break a;oe(ib,fc,sd);yb=Fc}else for(Ob=0;Ob<Qa.length;Ob++){fc=Qa[Ob];Fc=fc.instance;sd=
fc.currentTarget;fc=fc.listener;if(Fc!==yb&&ib.isPropagationStopped())break a;oe(ib,fc,sd);yb=Fc}}}if(Hh)throw q=gi,Hh=!1,gi=null,q;}function fe(q,J){var da=Xf(J),Qa=q+"__bubble";da.has(Qa)||(df(J,q,2,!1),da.add(Qa))}function ef(q){q[Pg]||(q[Pg]=!0,Ei.forEach(function(J){Kg.has(J)||Ze(J,!1,q,null);Ze(J,!0,q,null)}))}function Ze(q,J,da,Qa){var ib=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,yb=da;"selectionchange"===q&&9!==da.nodeType&&(yb=da.ownerDocument);if(null!==Qa&&!J&&Kg.has(q)){if("scroll"!==
q)return;ib|=2;yb=Qa}var Ob=Xf(yb),fc=q+"__"+(J?"capture":"bubble");Ob.has(fc)||(J&&(ib|=4),df(yb,q,ib,J),Ob.add(fc))}function df(q,J,da,Qa){var ib=Zj.get(J);switch(void 0===ib?2:ib){case 0:ib=Wd;break;case 1:ib=Pb;break;default:ib=gc}da=ib.bind(null,J,da,q);ib=void 0;!Li||"touchstart"!==J&&"touchmove"!==J&&"wheel"!==J||(ib=!0);Qa?void 0!==ib?q.addEventListener(J,da,{capture:!0,passive:ib}):q.addEventListener(J,da,!0):void 0!==ib?q.addEventListener(J,da,{passive:ib}):q.addEventListener(J,da,!1)}function Zd(q,
J,da,Qa,ib){var yb=Qa;if(0===(J&1)&&0===(J&2)&&null!==Qa)a:for(;;){if(null===Qa)return;var Ob=Qa.tag;if(3===Ob||4===Ob){var fc=Qa.stateNode.containerInfo;if(fc===ib||8===fc.nodeType&&fc.parentNode===ib)break;if(4===Ob)for(Ob=Qa.return;null!==Ob;){var Fc=Ob.tag;if(3===Fc||4===Fc)if(Fc=Ob.stateNode.containerInfo,Fc===ib||8===Fc.nodeType&&Fc.parentNode===ib)return;Ob=Ob.return}for(;null!==fc;){Ob=jf(fc);if(null===Ob)return;Fc=Ob.tag;if(5===Fc||6===Fc){Qa=yb=Ob;continue a}fc=fc.parentNode}}Qa=Qa.return}ba(function(){var sd=
yb,ve=kb(da),ff=[];a:{var Ld=Yh.get(q);if(void 0!==Ld){var Ke=Jf,gf=q;switch(q){case "keypress":if(0===Vc(da))break a;case "keydown":case "keyup":Ke=fj;break;case "focusin":gf="focus";Ke=vi;break;case "focusout":gf="blur";Ke=vi;break;case "beforeblur":case "afterblur":Ke=vi;break;case "click":if(2===da.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Ke=gj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Ke=
Oh;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Ke=xg;break;case xh:case Cj:case ak:Ke=Mi;break;case Ph:Ke=hj;break;case "scroll":Ke=Dj;break;case "wheel":Ke=p;break;case "copy":case "cut":case "paste":Ke=Ak;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Ke=Qg}var $e=0!==(J&4),cd=!$e&&"scroll"===q,Nc=$e?null!==Ld?Ld+"Capture":null:Ld;$e=[];for(var $c=
sd,Bd;null!==$c;){Bd=$c;var Jd=Bd.stateNode;5===Bd.tag&&null!==Jd&&(Bd=Jd,null!==Nc&&(Jd=ca($c,Nc),null!=Jd&&$e.push(he($c,Jd,Bd))));if(cd)break;$c=$c.return}0<$e.length&&(Ld=new Ke(Ld,gf,null,da,ve),ff.push({event:Ld,listeners:$e}))}}if(0===(J&7)){Ld="mouseover"===q||"pointerover"===q;Ke="mouseout"===q||"pointerout"===q;if(!Ld||0!==(J&16)||!(gf=da.relatedTarget||da.fromElement)||!jf(gf)&&!gf[Ej])if(Ke||Ld){Ld=ve.window===ve?ve:(Ld=ve.ownerDocument)?Ld.defaultView||Ld.parentWindow:window;if(Ke){if(gf=
da.relatedTarget||da.toElement,Ke=sd,gf=gf?jf(gf):null,null!==gf&&(cd=na(gf),gf!==cd||5!==gf.tag&&6!==gf.tag))gf=null}else Ke=null,gf=sd;if(Ke!==gf){$e=gj;Jd="onMouseLeave";Nc="onMouseEnter";$c="mouse";if("pointerout"===q||"pointerover"===q)$e=Qg,Jd="onPointerLeave",Nc="onPointerEnter",$c="pointer";cd=null==Ke?Ld:Td(Ke);Bd=null==gf?Ld:Td(gf);Ld=new $e(Jd,$c+"leave",Ke,da,ve);Ld.target=cd;Ld.relatedTarget=Bd;Jd=null;jf(ve)===sd&&($e=new $e(Nc,$c+"enter",gf,da,ve),$e.target=Bd,$e.relatedTarget=cd,Jd=
$e);cd=Jd;if(Ke&&gf)b:{$e=Ke;Nc=gf;$c=0;for(Bd=$e;Bd;Bd=Ue(Bd))$c++;Bd=0;for(Jd=Nc;Jd;Jd=Ue(Jd))Bd++;for(;0<$c-Bd;)$e=Ue($e),$c--;for(;0<Bd-$c;)Nc=Ue(Nc),Bd--;for(;$c--;){if($e===Nc||null!==Nc&&$e===Nc.alternate)break b;$e=Ue($e);Nc=Ue(Nc)}$e=null}else $e=null;null!==Ke&&Nf(ff,Ld,Ke,$e,!1);null!==gf&&null!==cd&&Nf(ff,cd,gf,$e,!0)}}Ld=sd?Td(sd):window;Ke=Ld.nodeName&&Ld.nodeName.toLowerCase();if("select"===Ke||"input"===Ke&&"file"===Ld.type)var cf=mc;else if(tc(Ld))if(wc)cf=Dc;else{cf=Qb;var Ae=Xc}else(Ke=
Ld.nodeName)&&"input"===Ke.toLowerCase()&&("checkbox"===Ld.type||"radio"===Ld.type)&&(cf=Ic);cf&&(cf=cf(q,sd))?pb(ff,cf,da,ve):(Ae&&Ae(q,Ld,sd),"focusout"===q&&(Ae=Ld._wrapperState)&&Ae.controlled&&"number"===Ld.type&&T(Ld,"number",Ld.value));Ae=sd?Td(sd):window;switch(q){case "focusin":if(tc(Ae)||"true"===Ae.contentEditable)Af=Ae,bg=sd,Wf=null;break;case "focusout":Wf=bg=Af=null;break;case "mousedown":qf=!0;break;case "contextmenu":case "mouseup":case "dragend":qf=!1;ae(ff,da,ve);break;case "selectionchange":if(cg)break;
case "keydown":case "keyup":ae(ff,da,ve)}var hf;if(S)a:{switch(q){case "compositionstart":var Kf="onCompositionStart";break a;case "compositionend":Kf="onCompositionEnd";break a;case "compositionupdate":Kf="onCompositionUpdate";break a}Kf=void 0}else Ib?Hb(q,da)&&(Kf="onCompositionEnd"):"keydown"===q&&229===da.keyCode&&(Kf="onCompositionStart");Kf&&(Xa&&"ko"!==da.locale&&(Ib||"onCompositionStart"!==Kf?"onCompositionEnd"===Kf&&Ib&&(hf=zc()):(ph=ve,ui="value"in ph?ph.value:ph.textContent,Ib=!0)),Ae=
zf(sd,Kf),0<Ae.length&&(Kf=new ij(Kf,q,null,da,ve),ff.push({event:Kf,listeners:Ae}),hf?Kf.data=hf:(hf=ac(da),null!==hf&&(Kf.data=hf))));if(hf=La?Lb(q,da):Ac(q,da))sd=zf(sd,"onBeforeInput"),0<sd.length&&(ve=new ij("onBeforeInput","beforeinput",null,da,ve),ff.push({event:ve,listeners:sd}),ve.data=hf)}De(ff,J)})}function he(q,J,da){return{instance:q,listener:J,currentTarget:da}}function zf(q,J){for(var da=J+"Capture",Qa=[];null!==q;){var ib=q,yb=ib.stateNode;5===ib.tag&&null!==yb&&(ib=yb,yb=ca(q,da),
null!=yb&&Qa.unshift(he(q,yb,ib)),yb=ca(q,J),null!=yb&&Qa.push(he(q,yb,ib)));q=q.return}return Qa}function Ue(q){if(null===q)return null;do q=q.return;while(q&&5!==q.tag);return q?q:null}function Nf(q,J,da,Qa,ib){for(var yb=J._reactName,Ob=[];null!==da&&da!==Qa;){var fc=da,Fc=fc.alternate,sd=fc.stateNode;if(null!==Fc&&Fc===Qa)break;5===fc.tag&&null!==sd&&(fc=sd,ib?(Fc=ca(da,yb),null!=Fc&&Ob.unshift(he(da,Fc,fc))):ib||(Fc=ca(da,yb),null!=Fc&&Ob.push(he(da,Fc,fc))));da=da.return}0!==Ob.length&&q.push({event:J,
listeners:Ob})}function me(){}function te(q,J){switch(q){case "button":case "input":case "select":case "textarea":return!!J.autoFocus}return!1}function kf(q,J){return"textarea"===q||"option"===q||"noscript"===q||"string"===typeof J.children||"number"===typeof J.children||"object"===typeof J.dangerouslySetInnerHTML&&null!==J.dangerouslySetInnerHTML&&null!=J.dangerouslySetInnerHTML.__html}function we(q){1===q.nodeType?q.textContent="":9===q.nodeType&&(q=q.body,null!=q&&(q.textContent=""))}function Od(q){for(;null!=
q;q=q.nextSibling){var J=q.nodeType;if(1===J||3===J)break}return q}function Xd(q){q=q.previousSibling;for(var J=0;q;){if(8===q.nodeType){var da=q.data;if("$"===da||"$!"===da||"$?"===da){if(0===J)return q;J--}else"/$"===da&&J++}q=q.previousSibling}return null}function Be(q){return{$$typeof:Zh,toString:q,valueOf:q}}function jf(q){var J=q[wi];if(J)return J;for(var da=q.parentNode;da;){if(J=da[Ej]||da[wi]){da=J.alternate;if(null!==J.child||null!==da&&null!==da.child)for(q=Xd(q);null!==q;){if(da=q[wi])return da;
q=Xd(q)}return J}q=da;da=q.parentNode}return null}function Ge(q){q=q[wi]||q[Ej];return!q||5!==q.tag&&6!==q.tag&&13!==q.tag&&3!==q.tag?null:q}function Td(q){if(5===q.tag||6===q.tag)return q.stateNode;throw Error(k(33));}function Ye(q){return q[Bk]||null}function Xf(q){var J=q[Zk];void 0===J&&(J=q[Zk]=new Set);return J}function Gc(q){return{current:q}}function xe(q){0>ng||(q.current=$k[ng],$k[ng]=null,ng--)}function le(q,J){ng++;$k[ng]=q.current;q.current=J}function kc(q,J){var da=q.type.contextTypes;
if(!da)return Rg;var Qa=q.stateNode;if(Qa&&Qa.__reactInternalMemoizedUnmaskedChildContext===J)return Qa.__reactInternalMemoizedMaskedChildContext;var ib={},yb;for(yb in da)ib[yb]=J[yb];Qa&&(q=q.stateNode,q.__reactInternalMemoizedUnmaskedChildContext=J,q.__reactInternalMemoizedMaskedChildContext=ib);return ib}function Fe(q){q=q.childContextTypes;return null!==q&&void 0!==q}function ue(){xe(Lg);xe(Sg)}function lf(q,J,da){if(Sg.current!==Rg)throw Error(k(168));le(Sg,J);le(Lg,da)}function Yf(q,J,da){var Qa=
q.stateNode;q=J.childContextTypes;if("function"!==typeof Qa.getChildContext)return da;Qa=Qa.getChildContext();for(var ib in Qa)if(!(ib in q))throw Error(k(108,e(J)||"Unknown",ib));return lg({},da,Qa)}function If(q){q=(q=q.stateNode)&&q.__reactInternalMemoizedMergedChildContext||Rg;Ni=Sg.current;le(Sg,q);le(Lg,Lg.current);return!0}function Sf(q,J,da){var Qa=q.stateNode;if(!Qa)throw Error(k(169));da?(q=Yf(q,J,Ni),Qa.__reactInternalMemoizedMergedChildContext=q,xe(Lg),xe(Sg),le(Sg,q)):xe(Lg);le(Lg,da)}
function Bf(){switch(pl()){case Ck:return 99;case bk:return 98;case ql:return 97;case rl:return 96;case sl:return 95;default:throw Error(k(332));}}function qe(q){switch(q){case 99:return Ck;case 98:return bk;case 97:return ql;case 96:return rl;case 95:return sl;default:throw Error(k(332));}}function yc(q,J){q=qe(q);return tl(q,J)}function wa(q,J,da){q=qe(q);return Dk(q,J,da)}function Ea(){if(null!==Fj){var q=Fj;Fj=null;ck(q)}Za()}function Za(){if(!al&&null!==xi){al=!0;var q=0;try{var J=xi;yc(99,function(){for(;q<
J.length;q++){var da=J[q];do da=da(!0);while(null!==da)}});xi=null}catch(da){throw null!==xi&&(xi=xi.slice(q+1)),Dk(Ck,Ea),da;}finally{al=!1}}}function Cb(q,J){if(q&&q.defaultProps){J=lg({},J);q=q.defaultProps;for(var da in q)void 0===J[da]&&(J[da]=q[da])}return J}function ub(q){var J=Ek.current;xe(Ek);q.type._context._currentValue=J}function Yb(q,J){for(;null!==q;){var da=q.alternate;if((q.childLanes&J)===J)if(null===da||(da.childLanes&J)===J)break;else da.childLanes|=J;else q.childLanes|=J,null!==
da&&(da.childLanes|=J);q=q.return}}function $b(q,J){Gj=q;Oi=Pi=null;q=q.dependencies;null!==q&&null!==q.firstContext&&(0!==(q.lanes&J)&&($h=!0),q.firstContext=null)}function Oc(q,J){if(Oi!==q&&!1!==J&&0!==J){if("number"!==typeof J||1073741823===J)Oi=q,J=1073741823;J={context:q,observedBits:J,next:null};if(null===Pi){if(null===Gj)throw Error(k(308));Pi=J;Gj.dependencies={lanes:0,firstContext:J,responders:null}}else Pi=Pi.next=J}return q._currentValue}function gd(q){q.updateQueue={baseState:q.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Mc(q,J){q=q.updateQueue;J.updateQueue===q&&(J.updateQueue={baseState:q.baseState,firstBaseUpdate:q.firstBaseUpdate,lastBaseUpdate:q.lastBaseUpdate,shared:q.shared,effects:q.effects})}function Nd(q,J){return{eventTime:q,lane:J,tag:0,payload:null,callback:null,next:null}}function od(q,J){q=q.updateQueue;if(null!==q){q=q.shared;var da=q.pending;null===da?J.next=J:(J.next=da.next,da.next=J);q.pending=J}}function Id(q,
J){var da=q.updateQueue,Qa=q.alternate;if(null!==Qa&&(Qa=Qa.updateQueue,da===Qa)){var ib=null,yb=null;da=da.firstBaseUpdate;if(null!==da){do{var Ob={eventTime:da.eventTime,lane:da.lane,tag:da.tag,payload:da.payload,callback:da.callback,next:null};null===yb?ib=yb=Ob:yb=yb.next=Ob;da=da.next}while(null!==da);null===yb?ib=yb=J:yb=yb.next=J}else ib=yb=J;da={baseState:Qa.baseState,firstBaseUpdate:ib,lastBaseUpdate:yb,shared:Qa.shared,effects:Qa.effects};q.updateQueue=da}else q=da.lastBaseUpdate,null===
q?da.firstBaseUpdate=J:q.next=J,da.lastBaseUpdate=J}function jd(q,J,da,Qa){var ib=q.updateQueue;hi=!1;var yb=ib.firstBaseUpdate,Ob=ib.lastBaseUpdate,fc=ib.shared.pending;if(null!==fc){ib.shared.pending=null;var Fc=fc,sd=Fc.next;Fc.next=null;null===Ob?yb=sd:Ob.next=sd;Ob=Fc;var ve=q.alternate;if(null!==ve){ve=ve.updateQueue;var ff=ve.lastBaseUpdate;ff!==Ob&&(null===ff?ve.firstBaseUpdate=sd:ff.next=sd,ve.lastBaseUpdate=Fc)}}if(null!==yb){ff=ib.baseState;Ob=0;ve=sd=Fc=null;do{fc=yb.lane;var Ld=yb.eventTime;
if((Qa&fc)===fc){null!==ve&&(ve=ve.next={eventTime:Ld,lane:0,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null});a:{var Ke=q,gf=yb;fc=J;Ld=da;switch(gf.tag){case 1:Ke=gf.payload;if("function"===typeof Ke){ff=Ke.call(Ld,ff,fc);break a}ff=Ke;break a;case 3:Ke.flags=Ke.flags&-4097|64;case 0:Ke=gf.payload;fc="function"===typeof Ke?Ke.call(Ld,ff,fc):Ke;if(null===fc||void 0===fc)break a;ff=lg({},ff,fc);break a;case 2:hi=!0}}null!==yb.callback&&(q.flags|=32,fc=ib.effects,null===fc?ib.effects=
[yb]:fc.push(yb))}else Ld={eventTime:Ld,lane:fc,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null},null===ve?(sd=ve=Ld,Fc=ff):ve=ve.next=Ld,Ob|=fc;yb=yb.next;if(null===yb)if(fc=ib.shared.pending,null===fc)break;else yb=fc.next,fc.next=null,ib.lastBaseUpdate=fc,ib.shared.pending=null}while(1);null===ve&&(Fc=ff);ib.baseState=Fc;ib.firstBaseUpdate=sd;ib.lastBaseUpdate=ve;dk|=Ob;q.lanes=Ob;q.memoizedState=ff}}function Qd(q,J,da){q=J.effects;J.effects=null;if(null!==q)for(J=0;J<q.length;J++){var Qa=
q[J],ib=Qa.callback;if(null!==ib){Qa.callback=null;Qa=da;if("function"!==typeof ib)throw Error(k(191,ib));ib.call(Qa)}}}function ie(q,J,da,Qa){J=q.memoizedState;da=da(Qa,J);da=null===da||void 0===da?J:lg({},J,da);q.memoizedState=da;0===q.lanes&&(q.updateQueue.baseState=da)}function Gf(q,J,da,Qa,ib,yb,Ob){q=q.stateNode;return"function"===typeof q.shouldComponentUpdate?q.shouldComponentUpdate(Qa,yb,Ob):J.prototype&&J.prototype.isPureReactComponent?!Tc(da,Qa)||!Tc(ib,yb):!0}function tf(q,J,da){var Qa=
!1,ib=Rg,yb=J.contextType;"object"===typeof yb&&null!==yb?yb=Oc(yb):(ib=Fe(J)?Ni:Sg.current,Qa=J.contextTypes,yb=(Qa=null!==Qa&&void 0!==Qa)?kc(q,ib):Rg);J=new J(da,yb);q.memoizedState=null!==J.state&&void 0!==J.state?J.state:null;J.updater=Fk;q.stateNode=J;J._reactInternals=q;Qa&&(q=q.stateNode,q.__reactInternalMemoizedUnmaskedChildContext=ib,q.__reactInternalMemoizedMaskedChildContext=yb);return J}function kd(q,J,da,Qa){q=J.state;"function"===typeof J.componentWillReceiveProps&&J.componentWillReceiveProps(da,
Qa);"function"===typeof J.UNSAFE_componentWillReceiveProps&&J.UNSAFE_componentWillReceiveProps(da,Qa);J.state!==q&&Fk.enqueueReplaceState(J,J.state,null)}function We(q,J,da,Qa){var ib=q.stateNode;ib.props=da;ib.state=q.memoizedState;ib.refs=ul;gd(q);var yb=J.contextType;"object"===typeof yb&&null!==yb?ib.context=Oc(yb):(yb=Fe(J)?Ni:Sg.current,ib.context=kc(q,yb));jd(q,da,ib,Qa);ib.state=q.memoizedState;yb=J.getDerivedStateFromProps;"function"===typeof yb&&(ie(q,J,yb,da),ib.state=q.memoizedState);
"function"===typeof J.getDerivedStateFromProps||"function"===typeof ib.getSnapshotBeforeUpdate||"function"!==typeof ib.UNSAFE_componentWillMount&&"function"!==typeof ib.componentWillMount||(J=ib.state,"function"===typeof ib.componentWillMount&&ib.componentWillMount(),"function"===typeof ib.UNSAFE_componentWillMount&&ib.UNSAFE_componentWillMount(),J!==ib.state&&Fk.enqueueReplaceState(ib,ib.state,null),jd(q,da,ib,Qa),ib.state=q.memoizedState);"function"===typeof ib.componentDidMount&&(q.flags|=4)}function uf(q,
J,da){q=da.ref;if(null!==q&&"function"!==typeof q&&"object"!==typeof q){if(da._owner){if(da=da._owner){if(1!==da.tag)throw Error(k(309));var Qa=da.stateNode}if(!Qa)throw Error(k(147,q));var ib=""+q;if(null!==J&&null!==J.ref&&"function"===typeof J.ref&&J.ref._stringRef===ib)return J.ref;J=function(yb){var Ob=Qa.refs;Ob===ul&&(Ob=Qa.refs={});null===yb?delete Ob[ib]:Ob[ib]=yb};J._stringRef=ib;return J}if("string"!==typeof q)throw Error(k(284));if(!da._owner)throw Error(k(290,q));}return q}function mf(q,
J){if("textarea"!==q.type)throw Error(k(31,"[object Object]"===Object.prototype.toString.call(J)?"object with keys {"+Object.keys(J).join(", ")+"}":J));}function Zf(q){function J(cd,Nc){if(q){var $c=cd.lastEffect;null!==$c?($c.nextEffect=Nc,cd.lastEffect=Nc):cd.firstEffect=cd.lastEffect=Nc;Nc.nextEffect=null;Nc.flags=8}}function da(cd,Nc){if(!q)return null;for(;null!==Nc;)J(cd,Nc),Nc=Nc.sibling;return null}function Qa(cd,Nc){for(cd=new Map;null!==Nc;)null!==Nc.key?cd.set(Nc.key,Nc):cd.set(Nc.index,
Nc),Nc=Nc.sibling;return cd}function ib(cd,Nc){cd=qg(cd,Nc);cd.index=0;cd.sibling=null;return cd}function yb(cd,Nc,$c){cd.index=$c;if(!q)return Nc;$c=cd.alternate;if(null!==$c)return $c=$c.index,$c<Nc?(cd.flags=2,Nc):$c;cd.flags=2;return Nc}function Ob(cd){q&&null===cd.alternate&&(cd.flags=2);return cd}function fc(cd,Nc,$c,Bd){if(null===Nc||6!==Nc.tag)return Nc=Hj($c,cd.mode,Bd),Nc.return=cd,Nc;Nc=ib(Nc,$c);Nc.return=cd;return Nc}function Fc(cd,Nc,$c,Bd){if(null!==Nc&&Nc.elementType===$c.type)return Bd=
ib(Nc,$c.props),Bd.ref=uf(cd,Nc,$c),Bd.return=cd,Bd;Bd=yi($c.type,$c.key,$c.props,null,cd.mode,Bd);Bd.ref=uf(cd,Nc,$c);Bd.return=cd;return Bd}function sd(cd,Nc,$c,Bd){if(null===Nc||4!==Nc.tag||Nc.stateNode.containerInfo!==$c.containerInfo||Nc.stateNode.implementation!==$c.implementation)return Nc=Qi($c,cd.mode,Bd),Nc.return=cd,Nc;Nc=ib(Nc,$c.children||[]);Nc.return=cd;return Nc}function ve(cd,Nc,$c,Bd,Jd){if(null===Nc||7!==Nc.tag)return Nc=zi($c,cd.mode,Bd,Jd),Nc.return=cd,Nc;Nc=ib(Nc,$c);Nc.return=
cd;return Nc}function ff(cd,Nc,$c){if("string"===typeof Nc||"number"===typeof Nc)return Nc=Hj(""+Nc,cd.mode,$c),Nc.return=cd,Nc;if("object"===typeof Nc&&null!==Nc){switch(Nc.$$typeof){case Ri:return $c=yi(Nc.type,Nc.key,Nc.props,null,cd.mode,$c),$c.ref=uf(cd,null,Nc),$c.return=cd,$c;case wg:return Nc=Qi(Nc,cd.mode,$c),Nc.return=cd,Nc}if(Gk(Nc)||g(Nc))return Nc=zi(Nc,cd.mode,$c,null),Nc.return=cd,Nc;mf(cd,Nc)}return null}function Ld(cd,Nc,$c,Bd){var Jd=null!==Nc?Nc.key:null;if("string"===typeof $c||
"number"===typeof $c)return null!==Jd?null:fc(cd,Nc,""+$c,Bd);if("object"===typeof $c&&null!==$c){switch($c.$$typeof){case Ri:return $c.key===Jd?$c.type===Zg?ve(cd,Nc,$c.props.children,Bd,Jd):Fc(cd,Nc,$c,Bd):null;case wg:return $c.key===Jd?sd(cd,Nc,$c,Bd):null}if(Gk($c)||g($c))return null!==Jd?null:ve(cd,Nc,$c,Bd,null);mf(cd,$c)}return null}function Ke(cd,Nc,$c,Bd,Jd){if("string"===typeof Bd||"number"===typeof Bd)return cd=cd.get($c)||null,fc(Nc,cd,""+Bd,Jd);if("object"===typeof Bd&&null!==Bd){switch(Bd.$$typeof){case Ri:return cd=
cd.get(null===Bd.key?$c:Bd.key)||null,Bd.type===Zg?ve(Nc,cd,Bd.props.children,Jd,Bd.key):Fc(Nc,cd,Bd,Jd);case wg:return cd=cd.get(null===Bd.key?$c:Bd.key)||null,sd(Nc,cd,Bd,Jd)}if(Gk(Bd)||g(Bd))return cd=cd.get($c)||null,ve(Nc,cd,Bd,Jd,null);mf(Nc,Bd)}return null}function gf(cd,Nc,$c,Bd){for(var Jd=null,cf=null,Ae=Nc,hf=Nc=0,Kf=null;null!==Ae&&hf<$c.length;hf++){Ae.index>hf?(Kf=Ae,Ae=null):Kf=Ae.sibling;var xf=Ld(cd,Ae,$c[hf],Bd);if(null===xf){null===Ae&&(Ae=Kf);break}q&&Ae&&null===xf.alternate&&
J(cd,Ae);Nc=yb(xf,Nc,hf);null===cf?Jd=xf:cf.sibling=xf;cf=xf;Ae=Kf}if(hf===$c.length)return da(cd,Ae),Jd;if(null===Ae){for(;hf<$c.length;hf++)Ae=ff(cd,$c[hf],Bd),null!==Ae&&(Nc=yb(Ae,Nc,hf),null===cf?Jd=Ae:cf.sibling=Ae,cf=Ae);return Jd}for(Ae=Qa(cd,Ae);hf<$c.length;hf++)Kf=Ke(Ae,cd,hf,$c[hf],Bd),null!==Kf&&(q&&null!==Kf.alternate&&Ae.delete(null===Kf.key?hf:Kf.key),Nc=yb(Kf,Nc,hf),null===cf?Jd=Kf:cf.sibling=Kf,cf=Kf);q&&Ae.forEach(function(Si){return J(cd,Si)});return Jd}function $e(cd,Nc,$c,Bd){var Jd=
g($c);if("function"!==typeof Jd)throw Error(k(150));$c=Jd.call($c);if(null==$c)throw Error(k(151));for(var cf=Jd=null,Ae=Nc,hf=Nc=0,Kf=null,xf=$c.next();null!==Ae&&!xf.done;hf++,xf=$c.next()){Ae.index>hf?(Kf=Ae,Ae=null):Kf=Ae.sibling;var Si=Ld(cd,Ae,xf.value,Bd);if(null===Si){null===Ae&&(Ae=Kf);break}q&&Ae&&null===Si.alternate&&J(cd,Ae);Nc=yb(Si,Nc,hf);null===cf?Jd=Si:cf.sibling=Si;cf=Si;Ae=Kf}if(xf.done)return da(cd,Ae),Jd;if(null===Ae){for(;!xf.done;hf++,xf=$c.next())xf=ff(cd,xf.value,Bd),null!==
xf&&(Nc=yb(xf,Nc,hf),null===cf?Jd=xf:cf.sibling=xf,cf=xf);return Jd}for(Ae=Qa(cd,Ae);!xf.done;hf++,xf=$c.next())xf=Ke(Ae,cd,hf,xf.value,Bd),null!==xf&&(q&&null!==xf.alternate&&Ae.delete(null===xf.key?hf:xf.key),Nc=yb(xf,Nc,hf),null===cf?Jd=xf:cf.sibling=xf,cf=xf);q&&Ae.forEach(function(vl){return J(cd,vl)});return Jd}return function(cd,Nc,$c,Bd){var Jd="object"===typeof $c&&null!==$c&&$c.type===Zg&&null===$c.key;Jd&&($c=$c.props.children);var cf="object"===typeof $c&&null!==$c;if(cf)switch($c.$$typeof){case Ri:a:{cf=
$c.key;for(Jd=Nc;null!==Jd;){if(Jd.key===cf){switch(Jd.tag){case 7:if($c.type===Zg){da(cd,Jd.sibling);Nc=ib(Jd,$c.props.children);Nc.return=cd;cd=Nc;break a}break;default:if(Jd.elementType===$c.type){da(cd,Jd.sibling);Nc=ib(Jd,$c.props);Nc.ref=uf(cd,Jd,$c);Nc.return=cd;cd=Nc;break a}}da(cd,Jd);break}else J(cd,Jd);Jd=Jd.sibling}$c.type===Zg?(Nc=zi($c.props.children,cd.mode,Bd,$c.key),Nc.return=cd,cd=Nc):(Bd=yi($c.type,$c.key,$c.props,null,cd.mode,Bd),Bd.ref=uf(cd,Nc,$c),Bd.return=cd,cd=Bd)}return Ob(cd);
case wg:a:{for(Jd=$c.key;null!==Nc;){if(Nc.key===Jd)if(4===Nc.tag&&Nc.stateNode.containerInfo===$c.containerInfo&&Nc.stateNode.implementation===$c.implementation){da(cd,Nc.sibling);Nc=ib(Nc,$c.children||[]);Nc.return=cd;cd=Nc;break a}else{da(cd,Nc);break}else J(cd,Nc);Nc=Nc.sibling}Nc=Qi($c,cd.mode,Bd);Nc.return=cd;cd=Nc}return Ob(cd)}if("string"===typeof $c||"number"===typeof $c)return $c=""+$c,null!==Nc&&6===Nc.tag?(da(cd,Nc.sibling),Nc=ib(Nc,$c),Nc.return=cd,cd=Nc):(da(cd,Nc),Nc=Hj($c,cd.mode,
Bd),Nc.return=cd,cd=Nc),Ob(cd);if(Gk($c))return gf(cd,Nc,$c,Bd);if(g($c))return $e(cd,Nc,$c,Bd);cf&&mf(cd,$c);if("undefined"===typeof $c&&!Jd)switch(cd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(k(152,e(cd.type)||"Component"));}return da(cd,Nc)}}function yf(q){if(q===ii)throw Error(k(174));return q}function Pe(q,J){le(rf,J);le(ji,q);le(qh,ii);q=J.nodeType;switch(q){case 9:case 11:J=(J=J.documentElement)?J.namespaceURI:ia(null,"");break;default:q=8===q?J.parentNode:J,J=q.namespaceURI||
null,q=q.tagName,J=ia(J,q)}xe(qh);le(qh,J)}function nf(){xe(qh);xe(ji);xe(rf)}function Aa(q){yf(rf.current);var J=yf(qh.current),da=ia(J,q.type);J!==da&&(le(ji,q),le(qh,da))}function Pa(q){ji.current===q&&(xe(qh),xe(ji))}function vb(q){for(var J=q;null!==J;){if(13===J.tag){var da=J.memoizedState;if(null!==da&&(da=da.dehydrated,null===da||"$?"===da.data||"$!"===da.data))return J}else if(19===J.tag&&void 0!==J.memoizedProps.revealOrder){if(0!==(J.flags&64))return J}else if(null!==J.child){J.child.return=
J;J=J.child;continue}if(J===q)break;for(;null===J.sibling;){if(null===J.return||J.return===q)return null;J=J.return}J.sibling.return=J.return;J=J.sibling}return null}function Wb(q,J){var da=kh(5,null,null,0);da.elementType="DELETED";da.type="DELETED";da.stateNode=J;da.return=q;da.flags=8;null!==q.lastEffect?(q.lastEffect.nextEffect=da,q.lastEffect=da):q.firstEffect=q.lastEffect=da}function Tb(q,J){switch(q.tag){case 5:var da=q.type;J=1!==J.nodeType||da.toLowerCase()!==J.nodeName.toLowerCase()?null:
J;return null!==J?(q.stateNode=J,!0):!1;case 6:return J=""===q.pendingProps||3!==J.nodeType?null:J,null!==J?(q.stateNode=J,!0):!1;case 13:return!1;default:return!1}}function ic(q){if(fh){var J=Tg;if(J){var da=J;if(!Tb(q,J)){J=Od(da.nextSibling);if(!J||!Tb(q,J)){q.flags=q.flags&-1025|2;fh=!1;Hd=q;return}Wb(Hd,da)}Hd=q;Tg=Od(J.firstChild)}else q.flags=q.flags&-1025|2,fh=!1,Hd=q}}function oc(q){for(q=q.return;null!==q&&5!==q.tag&&3!==q.tag&&13!==q.tag;)q=q.return;Hd=q}function fd(q){if(q!==Hd)return!1;
if(!fh)return oc(q),fh=!0,!1;var J=q.type;if(5!==q.tag||"head"!==J&&"body"!==J&&!kf(J,q.memoizedProps))for(J=Tg;J;)Wb(q,J),J=Od(J.nextSibling);oc(q);if(13===q.tag){q=q.memoizedState;q=null!==q?q.dehydrated:null;if(!q)throw Error(k(317));a:{q=q.nextSibling;for(J=0;q;){if(8===q.nodeType){var da=q.data;if("/$"===da){if(0===J){Tg=Od(q.nextSibling);break a}J--}else"$"!==da&&"$!"!==da&&"$?"!==da||J++}q=q.nextSibling}Tg=null}}else Tg=Hd?Od(q.stateNode.nextSibling):null;return!0}function Wc(){for(var q=0;q<
jj.length;q++)jj[q]._workInProgressVersionPrimary=null;jj.length=0}function nd(){throw Error(k(321));}function Kd(q,J){if(null===J)return!1;for(var da=0;da<J.length&&da<q.length;da++)if(!bf(q[da],J[da]))return!1;return!0}function de(q,J,da,Qa,ib,yb){ek=yb;rg=J;J.memoizedState=null;J.updateQueue=null;J.lanes=0;Ij.current=null===q||null===q.memoizedState?Hl:Il;q=da(Qa,ib);if(fk){yb=0;do{fk=!1;if(!(25>yb))throw Error(k(301));yb+=1;Ug=$g=null;J.updateQueue=null;Ij.current=bl;q=da(Qa,ib)}while(fk)}Ij.current=
Hk;J=null!==$g&&null!==$g.next;ek=0;Ug=$g=rg=null;Ik=!1;if(J)throw Error(k(300));return q}function je(){var q={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Ug?rg.memoizedState=Ug=q:Ug=Ug.next=q;return Ug}function Gd(){if(null===$g){var q=rg.alternate;q=null!==q?q.memoizedState:null}else q=$g.next;var J=null===Ug?rg.memoizedState:Ug.next;if(null!==J)Ug=J,$g=q;else{if(null===q)throw Error(k(310));$g=q;q={memoizedState:$g.memoizedState,baseState:$g.baseState,baseQueue:$g.baseQueue,
queue:$g.queue,next:null};null===Ug?rg.memoizedState=Ug=q:Ug=Ug.next=q}return Ug}function Le(q,J){return"function"===typeof J?J(q):J}function $d(q){var J=Gd(),da=J.queue;if(null===da)throw Error(k(311));da.lastRenderedReducer=q;var Qa=$g,ib=Qa.baseQueue,yb=da.pending;if(null!==yb){if(null!==ib){var Ob=ib.next;ib.next=yb.next;yb.next=Ob}Qa.baseQueue=ib=yb;da.pending=null}if(null!==ib){ib=ib.next;Qa=Qa.baseState;var fc=Ob=yb=null,Fc=ib;do{var sd=Fc.lane;if((ek&sd)===sd)null!==fc&&(fc=fc.next={lane:0,
action:Fc.action,eagerReducer:Fc.eagerReducer,eagerState:Fc.eagerState,next:null}),Qa=Fc.eagerReducer===q?Fc.eagerState:q(Qa,Fc.action);else{var ve={lane:sd,action:Fc.action,eagerReducer:Fc.eagerReducer,eagerState:Fc.eagerState,next:null};null===fc?(Ob=fc=ve,yb=Qa):fc=fc.next=ve;rg.lanes|=sd;dk|=sd}Fc=Fc.next}while(null!==Fc&&Fc!==ib);null===fc?yb=Qa:fc.next=Ob;bf(Qa,J.memoizedState)||($h=!0);J.memoizedState=Qa;J.baseState=yb;J.baseQueue=fc;da.lastRenderedState=Qa}return[J.memoizedState,da.dispatch]}
function Ie(q){var J=Gd(),da=J.queue;if(null===da)throw Error(k(311));da.lastRenderedReducer=q;var Qa=da.dispatch,ib=da.pending,yb=J.memoizedState;if(null!==ib){da.pending=null;var Ob=ib=ib.next;do yb=q(yb,Ob.action),Ob=Ob.next;while(Ob!==ib);bf(yb,J.memoizedState)||($h=!0);J.memoizedState=yb;null===J.baseQueue&&(J.baseState=yb);da.lastRenderedState=yb}return[yb,Qa]}function Ce(q,J,da){var Qa=J._getVersion;Qa=Qa(J._source);var ib=J._workInProgressVersionPrimary;if(null!==ib)q=ib===Qa;else if(q=q.mutableReadLanes,
q=(ek&q)===q)J._workInProgressVersionPrimary=Qa,jj.push(J);if(q)return da(J._source);jj.push(J);throw Error(k(350));}function Qe(q,J,da,Qa){var ib=ah;if(null===ib)throw Error(k(349));var yb=J._getVersion,Ob=yb(J._source),fc=Ij.current,Fc=fc.useState(function(){return Ce(ib,J,da)}),sd=Fc[1],ve=Fc[0];Fc=Ug;var ff=q.memoizedState,Ld=ff.refs,Ke=Ld.getSnapshot,gf=ff.source;ff=ff.subscribe;var $e=rg;q.memoizedState={refs:Ld,source:J,subscribe:Qa};fc.useEffect(function(){Ld.getSnapshot=da;Ld.setSnapshot=
sd;var cd=yb(J._source);if(!bf(Ob,cd)){cd=da(J._source);bf(ve,cd)||(sd(cd),cd=Jc($e),ib.mutableReadLanes|=cd&ib.pendingLanes);cd=ib.mutableReadLanes;ib.entangledLanes|=cd;for(var Nc=ib.entanglements,$c=cd;0<$c;){var Bd=31-Lh($c),Jd=1<<Bd;Nc[Bd]|=cd;$c&=~Jd}}},[da,J,Qa]);fc.useEffect(function(){return Qa(J._source,function(){var cd=Ld.getSnapshot,Nc=Ld.setSnapshot;try{Nc(cd(J._source));var $c=Jc($e);ib.mutableReadLanes|=$c&ib.pendingLanes}catch(Bd){Nc(function(){throw Bd;})}})},[J,Qa]);bf(Ke,da)&&
bf(gf,J)&&bf(ff,Qa)||(q={pending:null,dispatch:null,lastRenderedReducer:Le,lastRenderedState:ve},q.dispatch=sd=Kb.bind(null,rg,q),Fc.queue=q,Fc.baseQueue=null,ve=Ce(ib,J,da),Fc.memoizedState=Fc.baseState=ve);return ve}function Uf(q,J,da){var Qa=Gd();return Qe(Qa,q,J,da)}function ne(q){var J=je();"function"===typeof q&&(q=q());J.memoizedState=J.baseState=q;q=J.queue={pending:null,dispatch:null,lastRenderedReducer:Le,lastRenderedState:q};q=q.dispatch=Kb.bind(null,rg,q);return[J.memoizedState,q]}function sf(q,
J,da,Qa){q={tag:q,create:J,destroy:da,deps:Qa,next:null};J=rg.updateQueue;null===J?(J={lastEffect:null},rg.updateQueue=J,J.lastEffect=q.next=q):(da=J.lastEffect,null===da?J.lastEffect=q.next=q:(Qa=da.next,da.next=q,q.next=Qa,J.lastEffect=q));return q}function Cf(q){var J=je();q={current:q};return J.memoizedState=q}function Bg(){return Gd().memoizedState}function Lf(q,J,da,Qa){var ib=je();rg.flags|=q;ib.memoizedState=sf(1|J,da,void 0,void 0===Qa?null:Qa)}function jg(q,J,da,Qa){var ib=Gd();Qa=void 0===
Qa?null:Qa;var yb=void 0;if(null!==$g){var Ob=$g.memoizedState;yb=Ob.destroy;if(null!==Qa&&Kd(Qa,Ob.deps)){sf(J,da,yb,Qa);return}}rg.flags|=q;ib.memoizedState=sf(1|J,da,yb,Qa)}function xa(q,J){return Lf(516,4,q,J)}function za(q,J){return jg(516,4,q,J)}function Na(q,J){return jg(4,2,q,J)}function Sa(q,J){if("function"===typeof J)return q=q(),J(q),function(){J(null)};if(null!==J&&void 0!==J)return q=q(),J.current=q,function(){J.current=null}}function fb(q,J,da){da=null!==da&&void 0!==da?da.concat([q]):
null;return jg(4,2,Sa.bind(null,J,q),da)}function hb(){}function qb(q,J){var da=Gd();J=void 0===J?null:J;var Qa=da.memoizedState;if(null!==Qa&&null!==J&&Kd(J,Qa[1]))return Qa[0];da.memoizedState=[q,J];return q}function Db(q,J){var da=Gd();J=void 0===J?null:J;var Qa=da.memoizedState;if(null!==Qa&&null!==J&&Kd(J,Qa[1]))return Qa[0];q=q();da.memoizedState=[q,J];return q}function Ab(q,J){var da=Bf();yc(98>da?98:da,function(){q(!0)});yc(97<da?97:da,function(){var Qa=yh.transition;yh.transition=1;try{q(!1),
J()}finally{yh.transition=Qa}})}function Kb(q,J,da){var Qa=bd(),ib=Jc(q),yb={lane:ib,action:da,eagerReducer:null,eagerState:null,next:null},Ob=J.pending;null===Ob?yb.next=yb:(yb.next=Ob.next,Ob.next=yb);J.pending=yb;Ob=q.alternate;if(q===rg||null!==Ob&&Ob===rg)fk=Ik=!0;else{if(0===q.lanes&&(null===Ob||0===Ob.lanes)&&(Ob=J.lastRenderedReducer,null!==Ob))try{var fc=J.lastRenderedState,Fc=Ob(fc,da);yb.eagerReducer=Ob;yb.eagerState=Fc;if(bf(Fc,fc))return}catch(sd){}finally{}ud(q,ib,Qa)}}function Jb(q,
J,da,Qa){J.child=null===q?Je(J,null,da,Qa):Jk(J,q.child,da,Qa)}function cc(q,J,da,Qa,ib){da=da.render;var yb=J.ref;$b(J,ib);Qa=de(q,J,da,Qa,yb,ib);if(null!==q&&!$h)return J.updateQueue=q.updateQueue,J.flags&=-517,q.lanes&=~ib,Ad(q,J,ib);J.flags|=1;Jb(q,J,Qa,ib);return J.child}function xc(q,J,da,Qa,ib,yb){if(null===q){var Ob=da.type;if("function"===typeof Ob&&!Jj(Ob)&&void 0===Ob.defaultProps&&null===da.compare&&void 0===da.defaultProps)return J.tag=15,J.type=Ob,Y(q,J,Ob,Qa,ib,yb);q=yi(da.type,null,
Qa,J,J.mode,yb);q.ref=J.ref;q.return=J;return J.child=q}Ob=q.child;if(0===(ib&yb)&&(ib=Ob.memoizedProps,da=da.compare,da=null!==da?da:Tc,da(ib,Qa)&&q.ref===J.ref))return Ad(q,J,yb);J.flags|=1;q=qg(Ob,Qa);q.ref=J.ref;q.return=J;return J.child=q}function Y(q,J,da,Qa,ib,yb){if(null!==q&&Tc(q.memoizedProps,Qa)&&q.ref===J.ref)if($h=!1,0!==(yb&ib))0!==(q.flags&16384)&&($h=!0);else return J.lanes=q.lanes,Ad(q,J,yb);return Va(q,J,da,Qa,yb)}function oa(q,J,da){var Qa=J.pendingProps,ib=Qa.children,yb=null!==
q?q.memoizedState:null;if("hidden"===Qa.mode||"unstable-defer-without-hiding"===Qa.mode)if(0===(J.mode&4))J.memoizedState={baseLanes:0},xd(J,da);else if(0!==(da&1073741824))J.memoizedState={baseLanes:0},xd(J,null!==yb?yb.baseLanes:da);else return q=null!==yb?yb.baseLanes|da:da,J.lanes=J.childLanes=1073741824,J.memoizedState={baseLanes:q},xd(J,q),null;else null!==yb?(Qa=yb.baseLanes|da,J.memoizedState=null):Qa=da,xd(J,Qa);Jb(q,J,ib,da);return J.child}function Oa(q,J){var da=J.ref;if(null===q&&null!==
da||null!==q&&q.ref!==da)J.flags|=128}function Va(q,J,da,Qa,ib){var yb=Fe(da)?Ni:Sg.current;yb=kc(J,yb);$b(J,ib);da=de(q,J,da,Qa,yb,ib);if(null!==q&&!$h)return J.updateQueue=q.updateQueue,J.flags&=-517,q.lanes&=~ib,Ad(q,J,ib);J.flags|=1;Jb(q,J,da,ib);return J.child}function xb(q,J,da,Qa,ib){if(Fe(da)){var yb=!0;If(J)}else yb=!1;$b(J,ib);if(null===J.stateNode)null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2),tf(J,da,Qa),We(J,da,Qa,ib),Qa=!0;else if(null===q){var Ob=J.stateNode,fc=J.memoizedProps;
Ob.props=fc;var Fc=Ob.context,sd=da.contextType;"object"===typeof sd&&null!==sd?sd=Oc(sd):(sd=Fe(da)?Ni:Sg.current,sd=kc(J,sd));var ve=da.getDerivedStateFromProps,ff="function"===typeof ve||"function"===typeof Ob.getSnapshotBeforeUpdate;ff||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||(fc!==Qa||Fc!==sd)&&kd(J,Ob,Qa,sd);hi=!1;var Ld=J.memoizedState;Ob.state=Ld;jd(J,Qa,Ob,ib);Fc=J.memoizedState;fc!==Qa||Ld!==Fc||Lg.current||hi?("function"===
typeof ve&&(ie(J,da,ve,Qa),Fc=J.memoizedState),(fc=hi||Gf(J,da,fc,Qa,Ld,Fc,sd))?(ff||"function"!==typeof Ob.UNSAFE_componentWillMount&&"function"!==typeof Ob.componentWillMount||("function"===typeof Ob.componentWillMount&&Ob.componentWillMount(),"function"===typeof Ob.UNSAFE_componentWillMount&&Ob.UNSAFE_componentWillMount()),"function"===typeof Ob.componentDidMount&&(J.flags|=4)):("function"===typeof Ob.componentDidMount&&(J.flags|=4),J.memoizedProps=Qa,J.memoizedState=Fc),Ob.props=Qa,Ob.state=Fc,
Ob.context=sd,Qa=fc):("function"===typeof Ob.componentDidMount&&(J.flags|=4),Qa=!1)}else{Ob=J.stateNode;Mc(q,J);fc=J.memoizedProps;sd=J.type===J.elementType?fc:Cb(J.type,fc);Ob.props=sd;ff=J.pendingProps;Ld=Ob.context;Fc=da.contextType;"object"===typeof Fc&&null!==Fc?Fc=Oc(Fc):(Fc=Fe(da)?Ni:Sg.current,Fc=kc(J,Fc));var Ke=da.getDerivedStateFromProps;(ve="function"===typeof Ke||"function"===typeof Ob.getSnapshotBeforeUpdate)||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||
(fc!==ff||Ld!==Fc)&&kd(J,Ob,Qa,Fc);hi=!1;Ld=J.memoizedState;Ob.state=Ld;jd(J,Qa,Ob,ib);var gf=J.memoizedState;fc!==ff||Ld!==gf||Lg.current||hi?("function"===typeof Ke&&(ie(J,da,Ke,Qa),gf=J.memoizedState),(sd=hi||Gf(J,da,sd,Qa,Ld,gf,Fc))?(ve||"function"!==typeof Ob.UNSAFE_componentWillUpdate&&"function"!==typeof Ob.componentWillUpdate||("function"===typeof Ob.componentWillUpdate&&Ob.componentWillUpdate(Qa,gf,Fc),"function"===typeof Ob.UNSAFE_componentWillUpdate&&Ob.UNSAFE_componentWillUpdate(Qa,gf,
Fc)),"function"===typeof Ob.componentDidUpdate&&(J.flags|=4),"function"===typeof Ob.getSnapshotBeforeUpdate&&(J.flags|=256)):("function"!==typeof Ob.componentDidUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=256),J.memoizedProps=Qa,J.memoizedState=gf),Ob.props=Qa,Ob.state=gf,Ob.context=Fc,Qa=sd):("function"!==typeof Ob.componentDidUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||
(J.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=256),Qa=!1)}return Sb(q,J,da,Qa,yb,ib)}function Sb(q,J,da,Qa,ib,yb){Oa(q,J);var Ob=0!==(J.flags&64);if(!Qa&&!Ob)return ib&&Sf(J,da,!1),Ad(q,J,yb);Qa=J.stateNode;cl.current=J;var fc=Ob&&"function"!==typeof da.getDerivedStateFromError?null:Qa.render();J.flags|=1;null!==q&&Ob?(J.child=Jk(J,q.child,null,yb),J.child=Jk(J,null,fc,yb)):Jb(q,J,fc,yb);J.memoizedState=Qa.state;ib&&Sf(J,da,!0);
return J.child}function Zb(q){var J=q.stateNode;J.pendingContext?lf(q,J.pendingContext,J.pendingContext!==J.context):J.context&&lf(q,J.context,!1);Pe(q,J.containerInfo)}function qc(q,J,da){var Qa=J.pendingProps,ib=of.current,yb=!1,Ob;(Ob=0!==(J.flags&64))||(Ob=null!==q&&null===q.memoizedState?!1:0!==(ib&2));Ob?(yb=!0,J.flags&=-65):null!==q&&null===q.memoizedState||void 0===Qa.fallback||!0===Qa.unstable_avoidThisFallback||(ib|=1);le(of,ib&1);if(null===q){void 0!==Qa.fallback&&ic(J);q=Qa.children;ib=
Qa.fallback;if(yb)return q=Ec(J,q,ib,da),J.child.memoizedState={baseLanes:da},J.memoizedState=gk,q;if("number"===typeof Qa.unstable_expectedLoadTime)return q=Ec(J,q,ib,da),J.child.memoizedState={baseLanes:da},J.memoizedState=gk,J.lanes=33554432,q;da=Ai({mode:"visible",children:q},J.mode,da,null);da.return=J;return J.child=da}if(null!==q.memoizedState){if(yb)return Qa=Zc(q,J,Qa.children,Qa.fallback,da),yb=J.child,ib=q.child.memoizedState,yb.memoizedState=null===ib?{baseLanes:da}:{baseLanes:ib.baseLanes|
da},yb.childLanes=q.childLanes&~da,J.memoizedState=gk,Qa;da=ed(q,J,Qa.children,da);J.memoizedState=null;return da}if(yb)return Qa=Zc(q,J,Qa.children,Qa.fallback,da),yb=J.child,ib=q.child.memoizedState,yb.memoizedState=null===ib?{baseLanes:da}:{baseLanes:ib.baseLanes|da},yb.childLanes=q.childLanes&~da,J.memoizedState=gk,Qa;da=ed(q,J,Qa.children,da);J.memoizedState=null;return da}function Ec(q,J,da,Qa){var ib=q.mode,yb=q.child;J={mode:"hidden",children:J};0===(ib&2)&&null!==yb?(yb.childLanes=0,yb.pendingProps=
J):yb=Ai(J,ib,0,null);da=zi(da,ib,Qa,null);yb.return=q;da.return=q;yb.sibling=da;q.child=yb;return da}function ed(q,J,da,Qa){var ib=q.child;q=ib.sibling;da=qg(ib,{mode:"visible",children:da});0===(J.mode&2)&&(da.lanes=Qa);da.return=J;da.sibling=null;null!==q&&(q.nextEffect=null,q.flags=8,J.firstEffect=J.lastEffect=q);return J.child=da}function Zc(q,J,da,Qa,ib){var yb=J.mode,Ob=q.child;q=Ob.sibling;var fc={mode:"hidden",children:da};0===(yb&2)&&J.child!==Ob?(da=J.child,da.childLanes=0,da.pendingProps=
fc,Ob=da.lastEffect,null!==Ob?(J.firstEffect=da.firstEffect,J.lastEffect=Ob,Ob.nextEffect=null):J.firstEffect=J.lastEffect=null):da=qg(Ob,fc);null!==q?Qa=qg(q,Qa):(Qa=zi(Qa,yb,ib,null),Qa.flags|=2);Qa.return=J;da.return=J;da.sibling=Qa;J.child=da;return Qa}function Pd(q,J){q.lanes|=J;var da=q.alternate;null!==da&&(da.lanes|=J);Yb(q.return,J)}function be(q,J,da,Qa,ib,yb){var Ob=q.memoizedState;null===Ob?q.memoizedState={isBackwards:J,rendering:null,renderingStartTime:0,last:Qa,tail:da,tailMode:ib,
lastEffect:yb}:(Ob.isBackwards=J,Ob.rendering=null,Ob.renderingStartTime=0,Ob.last=Qa,Ob.tail=da,Ob.tailMode=ib,Ob.lastEffect=yb)}function pd(q,J,da){var Qa=J.pendingProps,ib=Qa.revealOrder,yb=Qa.tail;Jb(q,J,Qa.children,da);Qa=of.current;if(0!==(Qa&2))Qa=Qa&1|2,J.flags|=64;else{if(null!==q&&0!==(q.flags&64))a:for(q=J.child;null!==q;){if(13===q.tag)null!==q.memoizedState&&Pd(q,da);else if(19===q.tag)Pd(q,da);else if(null!==q.child){q.child.return=q;q=q.child;continue}if(q===J)break a;for(;null===q.sibling;){if(null===
q.return||q.return===J)break a;q=q.return}q.sibling.return=q.return;q=q.sibling}Qa&=1}le(of,Qa);if(0===(J.mode&2))J.memoizedState=null;else switch(ib){case "forwards":da=J.child;for(ib=null;null!==da;)q=da.alternate,null!==q&&null===vb(q)&&(ib=da),da=da.sibling;da=ib;null===da?(ib=J.child,J.child=null):(ib=da.sibling,da.sibling=null);be(J,!1,ib,da,yb,J.lastEffect);break;case "backwards":da=null;ib=J.child;for(J.child=null;null!==ib;){q=ib.alternate;if(null!==q&&null===vb(q)){J.child=ib;break}q=ib.sibling;
ib.sibling=da;da=ib;ib=q}be(J,!0,da,null,yb,J.lastEffect);break;case "together":be(J,!1,null,null,void 0,J.lastEffect);break;default:J.memoizedState=null}return J.child}function Ad(q,J,da){null!==q&&(J.dependencies=q.dependencies);dk|=J.lanes;if(0!==(da&J.childLanes)){if(null!==q&&J.child!==q.child)throw Error(k(153));if(null!==J.child){q=J.child;da=qg(q,q.pendingProps);J.child=da;for(da.return=J;null!==q.sibling;)q=q.sibling,da=da.sibling=qg(q,q.pendingProps),da.return=J;da.sibling=null}return J.child}return null}
function id(q,J){if(!fh)switch(q.tailMode){case "hidden":J=q.tail;for(var da=null;null!==J;)null!==J.alternate&&(da=J),J=J.sibling;null===da?q.tail=null:da.sibling=null;break;case "collapsed":da=q.tail;for(var Qa=null;null!==da;)null!==da.alternate&&(Qa=da),da=da.sibling;null===Qa?J||null===q.tail?q.tail=null:q.tail.sibling=null:Qa.sibling=null}}function af(q,J,da){var Qa=J.pendingProps;switch(J.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fe(J.type)&&
ue(),null;case 3:nf();xe(Lg);xe(Sg);Wc();Qa=J.stateNode;Qa.pendingContext&&(Qa.context=Qa.pendingContext,Qa.pendingContext=null);if(null===q||null===q.child)fd(J)?J.flags|=4:Qa.hydrate||(J.flags|=256);zh(J);return null;case 5:Pa(J);var ib=yf(rf.current);da=J.type;if(null!==q&&null!=J.stateNode)Kk(q,J,da,Qa,ib),q.ref!==J.ref&&(J.flags|=128);else{if(!Qa){if(null===J.stateNode)throw Error(k(166));return null}q=yf(qh.current);if(fd(J)){Qa=J.stateNode;da=J.type;var yb=J.memoizedProps;Qa[wi]=J;Qa[Bk]=yb;
switch(da){case "dialog":fe("cancel",Qa);fe("close",Qa);break;case "iframe":case "object":case "embed":fe("load",Qa);break;case "video":case "audio":for(q=0;q<Of.length;q++)fe(Of[q],Qa);break;case "source":fe("error",Qa);break;case "img":case "image":case "link":fe("error",Qa);fe("load",Qa);break;case "details":fe("toggle",Qa);break;case "input":z(Qa,yb);fe("invalid",Qa);break;case "select":Qa._wrapperState={wasMultiple:!!yb.multiple};fe("invalid",Qa);break;case "textarea":Z(Qa,yb),fe("invalid",Qa)}Ia(da,
yb);q=null;for(var Ob in yb)yb.hasOwnProperty(Ob)&&(ib=yb[Ob],"children"===Ob?"string"===typeof ib?Qa.textContent!==ib&&(q=["children",ib]):"number"===typeof ib&&Qa.textContent!==""+ib&&(q=["children",""+ib]):vh.hasOwnProperty(Ob)&&null!=ib&&"onScroll"===Ob&&fe("scroll",Qa));switch(da){case "input":D(Qa);R(Qa,yb,!0);break;case "textarea":D(Qa);C(Qa);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(Qa.onclick=me)}Qa=q;J.updateQueue=Qa;null!==Qa&&(J.flags|=4)}else{Ob=
9===ib.nodeType?ib:ib.ownerDocument;q===Vg.html&&(q=V(da));q===Vg.html?"script"===da?(q=Ob.createElement("div"),q.innerHTML="\x3cscript\x3e\x3c/script\x3e",q=q.removeChild(q.firstChild)):"string"===typeof Qa.is?q=Ob.createElement(da,{is:Qa.is}):(q=Ob.createElement(da),"select"===da&&(Ob=q,Qa.multiple?Ob.multiple=!0:Qa.size&&(Ob.size=Qa.size))):q=Ob.createElementNS(q,da);q[wi]=J;q[Bk]=Qa;wl(q,J,!1,!1);J.stateNode=q;Ob=bb(da,Qa);switch(da){case "dialog":fe("cancel",q);fe("close",q);ib=Qa;break;case "iframe":case "object":case "embed":fe("load",
q);ib=Qa;break;case "video":case "audio":for(ib=0;ib<Of.length;ib++)fe(Of[ib],q);ib=Qa;break;case "source":fe("error",q);ib=Qa;break;case "img":case "image":case "link":fe("error",q);fe("load",q);ib=Qa;break;case "details":fe("toggle",q);ib=Qa;break;case "input":z(q,Qa);ib=F(q,Qa);fe("invalid",q);break;case "option":ib=fa(q,Qa);break;case "select":q._wrapperState={wasMultiple:!!Qa.multiple};ib=lg({},Qa,{value:void 0});fe("invalid",q);break;case "textarea":Z(q,Qa);ib=la(q,Qa);fe("invalid",q);break;
default:ib=Qa}Ia(da,ib);var fc=ib;for(yb in fc)if(fc.hasOwnProperty(yb)){var Fc=fc[yb];"style"===yb?va(q,Fc):"dangerouslySetInnerHTML"===yb?(Fc=Fc?Fc.__html:void 0,null!=Fc&&Kj(q,Fc)):"children"===yb?"string"===typeof Fc?("textarea"!==da||""!==Fc)&&aa(q,Fc):"number"===typeof Fc&&aa(q,""+Fc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(vh.hasOwnProperty(yb)?null!=Fc&&"onScroll"===yb&&fe("scroll",q):null!=Fc&&m(q,yb,Fc,Ob))}switch(da){case "input":D(q);
R(q,Qa,!1);break;case "textarea":D(q);C(q);break;case "option":null!=Qa.value&&q.setAttribute("value",""+n(Qa.value));break;case "select":q.multiple=!!Qa.multiple;yb=Qa.value;null!=yb?ha(q,!!Qa.multiple,yb,!1):null!=Qa.defaultValue&&ha(q,!!Qa.multiple,Qa.defaultValue,!0);break;default:"function"===typeof ib.onClick&&(q.onclick=me)}te(da,Qa)&&(J.flags|=4)}null!==J.ref&&(J.flags|=128)}return null;case 6:if(q&&null!=J.stateNode)Jl(q,J,q.memoizedProps,Qa);else{if("string"!==typeof Qa&&null===J.stateNode)throw Error(k(166));
da=yf(rf.current);yf(qh.current);fd(J)?(Qa=J.stateNode,da=J.memoizedProps,Qa[wi]=J,Qa.nodeValue!==da&&(J.flags|=4)):(Qa=(9===da.nodeType?da:da.ownerDocument).createTextNode(Qa),Qa[wi]=J,J.stateNode=Qa)}return null;case 13:xe(of);Qa=J.memoizedState;if(0!==(J.flags&64))return J.lanes=da,J;Qa=null!==Qa;da=!1;null===q?void 0!==J.memoizedProps.fallback&&fd(J):da=null!==q.memoizedState;if(Qa&&!da&&0!==(J.mode&2))if(null===q&&!0!==J.memoizedProps.unstable_avoidThisFallback||0!==(of.current&1))0===bh&&(bh=
3);else{if(0===bh||3===bh)bh=4;null===ah||0===(dk&134217727)&&0===(rh&134217727)||re(ah,fg)}if(Qa||da)J.flags|=4;return null;case 4:return nf(),zh(J),null===q&&ef(J.stateNode.containerInfo),null;case 10:return ub(J),null;case 17:return Fe(J.type)&&ue(),null;case 19:xe(of);Qa=J.memoizedState;if(null===Qa)return null;yb=0!==(J.flags&64);Ob=Qa.rendering;if(null===Ob)if(yb)id(Qa,!1);else{if(0!==bh||null!==q&&0!==(q.flags&64))for(q=J.child;null!==q;){Ob=vb(q);if(null!==Ob){J.flags|=64;id(Qa,!1);yb=Ob.updateQueue;
null!==yb&&(J.updateQueue=yb,J.flags|=4);null===Qa.lastEffect&&(J.firstEffect=null);J.lastEffect=Qa.lastEffect;Qa=da;for(da=J.child;null!==da;)yb=da,q=Qa,yb.flags&=2,yb.nextEffect=null,yb.firstEffect=null,yb.lastEffect=null,Ob=yb.alternate,null===Ob?(yb.childLanes=0,yb.lanes=q,yb.child=null,yb.memoizedProps=null,yb.memoizedState=null,yb.updateQueue=null,yb.dependencies=null,yb.stateNode=null):(yb.childLanes=Ob.childLanes,yb.lanes=Ob.lanes,yb.child=Ob.child,yb.memoizedProps=Ob.memoizedProps,yb.memoizedState=
Ob.memoizedState,yb.updateQueue=Ob.updateQueue,yb.type=Ob.type,q=Ob.dependencies,yb.dependencies=null===q?null:{lanes:q.lanes,firstContext:q.firstContext}),da=da.sibling;le(of,of.current&1|2);return J.child}q=q.sibling}null!==Qa.tail&&gh()>dl&&(J.flags|=64,yb=!0,id(Qa,!1),J.lanes=33554432)}else{if(!yb)if(q=vb(Ob),null!==q){if(J.flags|=64,yb=!0,da=q.updateQueue,null!==da&&(J.updateQueue=da,J.flags|=4),id(Qa,!0),null===Qa.tail&&"hidden"===Qa.tailMode&&!Ob.alternate&&!fh)return J=J.lastEffect=Qa.lastEffect,
null!==J&&(J.nextEffect=null),null}else 2*gh()-Qa.renderingStartTime>dl&&1073741824!==da&&(J.flags|=64,yb=!0,id(Qa,!1),J.lanes=33554432);Qa.isBackwards?(Ob.sibling=J.child,J.child=Ob):(da=Qa.last,null!==da?da.sibling=Ob:J.child=Ob,Qa.last=Ob)}return null!==Qa.tail?(da=Qa.tail,Qa.rendering=da,Qa.tail=da.sibling,Qa.lastEffect=J.lastEffect,Qa.renderingStartTime=gh(),da.sibling=null,J=of.current,le(of,yb?J&1|2:J&1),da):null;case 23:case 24:return Oe(),null!==q&&null!==q.memoizedState!==(null!==J.memoizedState)&&
"unstable-defer-without-hiding"!==Qa.mode&&(J.flags|=4),null}throw Error(k(156,J.tag));}function Wa(q){switch(q.tag){case 1:Fe(q.type)&&ue();var J=q.flags;return J&4096?(q.flags=J&-4097|64,q):null;case 3:nf();xe(Lg);xe(Sg);Wc();J=q.flags;if(0!==(J&64))throw Error(k(285));q.flags=J&-4097|64;return q;case 5:return Pa(q),null;case 13:return xe(of),J=q.flags,J&4096?(q.flags=J&-4097|64,q):null;case 19:return xe(of),null;case 4:return nf(),null;case 10:return ub(q),null;case 23:case 24:return Oe(),null;
default:return null}}function ob(q,J){try{var da="",Qa=J;do da+=a(Qa),Qa=Qa.return;while(Qa)}catch(ib){da="\nError generating stack: "+ib.message+"\n"+ib.stack}return{value:q,source:J,stack:da}}function zb(q,J){try{console.error(J.value)}catch(da){setTimeout(function(){throw da;})}}function Mb(q,J,da){da=Nd(-1,da);da.tag=3;da.payload={element:null};var Qa=J.value;da.callback=function(){kj||(kj=!0,Lk=Qa);zb(q,J)};return da}function bc(q,J,da){da=Nd(-1,da);da.tag=3;var Qa=q.type.getDerivedStateFromError;
if("function"===typeof Qa){var ib=J.value;da.payload=function(){zb(q,J);return Qa(ib)}}var yb=q.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(da.callback=function(){"function"!==typeof Qa&&(null===ki?ki=new Set([this]):ki.add(this),zb(q,J));var Ob=J.stack;this.componentDidCatch(J.value,{componentStack:null!==Ob?Ob:""})});return da}function Kc(q){var J=q.ref;if(null!==J)if("function"===typeof J)try{J(null)}catch(da){Ah(q,da)}else J.current=null}function r(q,J){switch(J.tag){case 0:case 11:case 15:case 22:return;
case 1:if(J.flags&256&&null!==q){var da=q.memoizedProps,Qa=q.memoizedState;q=J.stateNode;J=q.getSnapshotBeforeUpdate(J.elementType===J.type?da:Cb(J.type,da),Qa);q.__reactInternalSnapshotBeforeUpdate=J}return;case 3:J.flags&256&&we(J.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(k(163));}function Q(q,J,da){switch(da.tag){case 0:case 11:case 15:case 22:J=da.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){q=J=J.next;do{if(3===(q.tag&3)){var Qa=q.create;q.destroy=
Qa()}q=q.next}while(q!==J)}J=da.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){q=J=J.next;do{var ib=q;Qa=ib.next;ib=ib.tag;0!==(ib&4)&&0!==(ib&1)&&(hk(da,q),Ti(da,q));q=Qa}while(q!==J)}return;case 1:q=da.stateNode;da.flags&4&&(null===J?q.componentDidMount():(Qa=da.elementType===da.type?J.memoizedProps:Cb(da.type,J.memoizedProps),q.componentDidUpdate(Qa,J.memoizedState,q.__reactInternalSnapshotBeforeUpdate)));J=da.updateQueue;null!==J&&Qd(da,J,q);return;case 3:J=da.updateQueue;if(null!==J){q=
null;if(null!==da.child)switch(da.child.tag){case 5:q=da.child.stateNode;break;case 1:q=da.child.stateNode}Qd(da,J,q)}return;case 5:q=da.stateNode;null===J&&da.flags&4&&te(da.type,da.memoizedProps)&&q.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===da.memoizedState&&(da=da.alternate,null!==da&&(da=da.memoizedState,null!==da&&(da=da.dehydrated,null!==da&&Hc(da))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(k(163));}function ma(q,J){for(var da=
q;;){if(5===da.tag){var Qa=da.stateNode;if(J)Qa=Qa.style,"function"===typeof Qa.setProperty?Qa.setProperty("display","none","important"):Qa.display="none";else{Qa=da.stateNode;var ib=da.memoizedProps.style;ib=void 0!==ib&&null!==ib&&ib.hasOwnProperty("display")?ib.display:null;Qa.style.display=ya("display",ib)}}else if(6===da.tag)da.stateNode.nodeValue=J?"":da.memoizedProps;else if((23!==da.tag&&24!==da.tag||null===da.memoizedState||da===q)&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===
q)break;for(;null===da.sibling;){if(null===da.return||da.return===q)return;da=da.return}da.sibling.return=da.return;da=da.sibling}}function Ma(q,J){if(lj&&"function"===typeof lj.onCommitFiberUnmount)try{lj.onCommitFiberUnmount(el,J)}catch(yb){}switch(J.tag){case 0:case 11:case 14:case 15:case 22:q=J.updateQueue;if(null!==q&&(q=q.lastEffect,null!==q)){var da=q=q.next;do{var Qa=da,ib=Qa.destroy;Qa=Qa.tag;if(void 0!==ib)if(0!==(Qa&4))hk(J,da);else{Qa=J;try{ib()}catch(yb){Ah(Qa,yb)}}da=da.next}while(da!==
q)}break;case 1:Kc(J);q=J.stateNode;if("function"===typeof q.componentWillUnmount)try{q.props=J.memoizedProps,q.state=J.memoizedState,q.componentWillUnmount()}catch(yb){Ah(J,yb)}break;case 5:Kc(J);break;case 4:Vb(q,J)}}function gb(q){q.alternate=null;q.child=null;q.dependencies=null;q.firstEffect=null;q.lastEffect=null;q.memoizedProps=null;q.memoizedState=null;q.pendingProps=null;q.return=null;q.updateQueue=null}function lb(q){return 5===q.tag||3===q.tag||4===q.tag}function sb(q){a:{for(var J=q.return;null!==
J;){if(lb(J))break a;J=J.return}throw Error(k(160));}var da=J;J=da.stateNode;switch(da.tag){case 5:var Qa=!1;break;case 3:J=J.containerInfo;Qa=!0;break;case 4:J=J.containerInfo;Qa=!0;break;default:throw Error(k(161));}da.flags&16&&(aa(J,""),da.flags&=-17);da=q;a:b:for(;;){for(;null===da.sibling;){if(null===da.return||lb(da.return)){da=null;break a}da=da.return}da.sibling.return=da.return;for(da=da.sibling;5!==da.tag&&6!==da.tag&&18!==da.tag;){if(da.flags&2)continue b;if(null===da.child||4===da.tag)continue b;
else da.child.return=da,da=da.child}if(!(da.flags&2)){da=da.stateNode;break a}}Qa?Rb(q,da,J):ec(q,da,J)}function Rb(q,J,da){var Qa=q.tag,ib=5===Qa||6===Qa;if(ib)q=ib?q.stateNode:q.stateNode.instance,J?8===da.nodeType?da.parentNode.insertBefore(q,J):da.insertBefore(q,J):(8===da.nodeType?(J=da.parentNode,J.insertBefore(q,da)):(J=da,J.appendChild(q)),da=da._reactRootContainer,null!==da&&void 0!==da||null!==J.onclick||(J.onclick=me));else if(4!==Qa&&(q=q.child,null!==q))for(Rb(q,J,da),q=q.sibling;null!==
q;)Rb(q,J,da),q=q.sibling}function ec(q,J,da){var Qa=q.tag,ib=5===Qa||6===Qa;if(ib)q=ib?q.stateNode:q.stateNode.instance,J?da.insertBefore(q,J):da.appendChild(q);else if(4!==Qa&&(q=q.child,null!==q))for(ec(q,J,da),q=q.sibling;null!==q;)ec(q,J,da),q=q.sibling}function Vb(q,J){for(var da=J,Qa=!1,ib,yb;;){if(!Qa){Qa=da.return;a:for(;;){if(null===Qa)throw Error(k(160));ib=Qa.stateNode;switch(Qa.tag){case 5:yb=!1;break a;case 3:ib=ib.containerInfo;yb=!0;break a;case 4:ib=ib.containerInfo;yb=!0;break a}Qa=
Qa.return}Qa=!0}if(5===da.tag||6===da.tag){var Ob=q,fc=da,Fc=fc;a:for(;;)if(Ma(Ob,Fc),null!==Fc.child&&4!==Fc.tag)Fc.child.return=Fc,Fc=Fc.child;else{if(Fc===fc)break a;for(;null===Fc.sibling;){if(null===Fc.return||Fc.return===fc)break a;Fc=Fc.return}Fc.sibling.return=Fc.return;Fc=Fc.sibling}yb?(Ob=ib,fc=da.stateNode,8===Ob.nodeType?Ob.parentNode.removeChild(fc):Ob.removeChild(fc)):ib.removeChild(da.stateNode)}else if(4===da.tag){if(null!==da.child){ib=da.stateNode.containerInfo;yb=!0;da.child.return=
da;da=da.child;continue}}else if(Ma(q,da),null!==da.child){da.child.return=da;da=da.child;continue}if(da===J)break;for(;null===da.sibling;){if(null===da.return||da.return===J)return;da=da.return;4===da.tag&&(Qa=!1)}da.sibling.return=da.return;da=da.sibling}}function Qc(q,J){switch(J.tag){case 0:case 11:case 14:case 15:case 22:var da=J.updateQueue;da=null!==da?da.lastEffect:null;if(null!==da){var Qa=da=da.next;do 3===(Qa.tag&3)&&(q=Qa.destroy,Qa.destroy=void 0,void 0!==q&&q()),Qa=Qa.next;while(Qa!==
da)}return;case 1:return;case 5:da=J.stateNode;if(null!=da){Qa=J.memoizedProps;var ib=null!==q?q.memoizedProps:Qa;q=J.type;var yb=J.updateQueue;J.updateQueue=null;if(null!==yb){da[Bk]=Qa;"input"===q&&"radio"===Qa.type&&null!=Qa.name&&G(da,Qa);bb(q,ib);J=bb(q,Qa);for(ib=0;ib<yb.length;ib+=2){var Ob=yb[ib],fc=yb[ib+1];"style"===Ob?va(da,fc):"dangerouslySetInnerHTML"===Ob?Kj(da,fc):"children"===Ob?aa(da,fc):m(da,Ob,fc,J)}switch(q){case "input":K(da,Qa);break;case "textarea":P(da,Qa);break;case "select":q=
da._wrapperState.wasMultiple,da._wrapperState.wasMultiple=!!Qa.multiple,yb=Qa.value,null!=yb?ha(da,!!Qa.multiple,yb,!1):q!==!!Qa.multiple&&(null!=Qa.defaultValue?ha(da,!!Qa.multiple,Qa.defaultValue,!0):ha(da,!!Qa.multiple,Qa.multiple?[]:"",!1))}}}return;case 6:if(null===J.stateNode)throw Error(k(162));J.stateNode.nodeValue=J.memoizedProps;return;case 3:da=J.stateNode;da.hydrate&&(da.hydrate=!1,Hc(da.containerInfo));return;case 12:return;case 13:null!==J.memoizedState&&(Mk=gh(),ma(J.child,!0));dd(J);
return;case 19:dd(J);return;case 17:return;case 23:case 24:ma(J,null!==J.memoizedState);return}throw Error(k(163));}function dd(q){var J=q.updateQueue;if(null!==J){q.updateQueue=null;var da=q.stateNode;null===da&&(da=q.stateNode=new Kl);J.forEach(function(Qa){var ib=Nk.bind(null,q,Qa);da.has(Qa)||(da.add(Qa),Qa.then(ib,ib))})}}function zd(q,J){return null!==q&&(q=q.memoizedState,null===q||null!==q.dehydrated)?(J=J.memoizedState,null!==J&&null===J.dehydrated):!1}function rd(){dl=gh()+500}function bd(){return 0!==
(Ne&48)?gh():-1!==Cg?Cg:Cg=gh()}function Jc(q){q=q.mode;if(0===(q&2))return 1;if(0===(q&4))return 99===Bf()?1:2;0===ai&&(ai=mj);if(0!==Ll.transition){0!==ik&&(ik=null!==Ok?Ok.pendingLanes:0);q=ai;var J=4186112&~ik;J&=-J;0===J&&(q=4186112&~q,J=q&-q,0===J&&(J=8192));return J}q=Bf();0!==(Ne&4)&&98===q?q=Lc(12,ai):(q=Pc(q),q=Lc(q,ai));return q}function ud(q,J,da){if(50<jk)throw jk=0,kk=null,Error(k(185));q=ee(q,J);if(null===q)return null;wd(q,J,da);q===ah&&(rh|=J,4===bh&&re(q,fg));var Qa=Bf();1===J?0!==
(Ne&8)&&0===(Ne&48)?Pf(q):(Sd(q,da),0===Ne&&(rd(),Ea())):(0===(Ne&4)||98!==Qa&&99!==Qa||(null===Bi?Bi=new Set([q]):Bi.add(q)),Sd(q,da));Ok=q}function ee(q,J){q.lanes|=J;var da=q.alternate;null!==da&&(da.lanes|=J);da=q;for(q=q.return;null!==q;)q.childLanes|=J,da=q.alternate,null!==da&&(da.childLanes|=J),da=q,q=q.return;return 3===da.tag?da.stateNode:null}function Sd(q,J){for(var da=q.callbackNode,Qa=q.suspendedLanes,ib=q.pingedLanes,yb=q.expirationTimes,Ob=q.pendingLanes;0<Ob;){var fc=31-Lh(Ob),Fc=
1<<fc,sd=yb[fc];if(-1===sd){if(0===(Fc&Qa)||0!==(Fc&ib)){sd=J;rc(Fc);var ve=ag;yb[fc]=10<=ve?sd+250:6<=ve?sd+5E3:-1}}else sd<=J&&(q.expiredLanes|=Fc);Ob&=~Fc}Qa=Uc(q,q===ah?fg:0);J=ag;if(0===Qa)null!==da&&(da!==fl&&ck(da),q.callbackNode=null,q.callbackPriority=0);else{if(null!==da){if(q.callbackPriority===J)return;da!==fl&&ck(da)}15===J?(da=Pf.bind(null,q),null===xi?(xi=[da],Fj=Dk(Ck,Za)):xi.push(da),da=fl):14===J?da=wa(99,Pf.bind(null,q)):(da=sc(J),da=wa(da,ye.bind(null,q)));q.callbackPriority=J;
q.callbackNode=da}}function ye(q){Cg=-1;ik=ai=0;if(0!==(Ne&48))throw Error(k(327));var J=q.callbackNode;if(sh()&&q.callbackNode!==J)return null;var da=Uc(q,q===ah?fg:0);if(0===da)return null;var Qa=da,ib=Ne;Ne|=16;var yb=$f();if(ah!==q||fg!==Qa)rd(),dg(q,Qa);do try{for(;null!==Mg&&!Pk();)Df(Mg);break}catch(fc){Xe(q,fc)}while(1);Oi=Pi=Gj=null;Qk.current=yb;Ne=ib;null!==Mg?Qa=0:(ah=null,fg=0,Qa=bh);if(0!==(mj&rh))dg(q,0);else if(0!==Qa){2===Qa&&(Ne|=64,q.hydrate&&(q.hydrate=!1,we(q.containerInfo)),
da=Sc(q),0!==da&&(Qa=vf(q,da)));if(1===Qa)throw J=Qh,dg(q,0),re(q,da),Sd(q,gh()),J;q.finishedWork=q.current.alternate;q.finishedLanes=da;switch(Qa){case 0:case 1:throw Error(k(345));case 2:Vf(q);break;case 3:re(q,da);if((da&62914560)===da&&(Qa=Mk+500-gh(),10<Qa)){if(0!==Uc(q,0))break;ib=q.suspendedLanes;if((ib&da)!==da){bd();q.pingedLanes|=q.suspendedLanes&ib;break}q.timeoutHandle=li(Vf.bind(null,q),Qa);break}Vf(q);break;case 4:re(q,da);if((da&4186112)===da)break;Qa=q.eventTimes;for(ib=-1;0<da;){var Ob=
31-Lh(da);yb=1<<Ob;Ob=Qa[Ob];Ob>ib&&(ib=Ob);da&=~yb}da=ib;da=gh()-da;da=(120>da?120:480>da?480:1080>da?1080:1920>da?1920:3E3>da?3E3:4320>da?4320:1960*Rk(da/1960))-da;if(10<da){q.timeoutHandle=li(Vf.bind(null,q),da);break}Vf(q);break;case 5:Vf(q);break;default:throw Error(k(329));}}Sd(q,gh());return q.callbackNode===J?ye.bind(null,q):null}function re(q,J){J&=~Lj;J&=~rh;q.suspendedLanes|=J;q.pingedLanes&=~J;for(q=q.expirationTimes;0<J;){var da=31-Lh(J),Qa=1<<da;q[da]=-1;J&=~Qa}}function Pf(q){if(0!==
(Ne&48))throw Error(k(327));sh();if(q===ah&&0!==(q.expiredLanes&fg)){var J=fg,da=vf(q,J);0!==(mj&rh)&&(J=Uc(q,J),da=vf(q,J))}else J=Uc(q,0),da=vf(q,J);0!==q.tag&&2===da&&(Ne|=64,q.hydrate&&(q.hydrate=!1,we(q.containerInfo)),J=Sc(q),0!==J&&(da=vf(q,J)));if(1===da)throw da=Qh,dg(q,0),re(q,J),Sd(q,gh()),da;q.finishedWork=q.current.alternate;q.finishedLanes=J;Vf(q);Sd(q,gh());return null}function ke(){if(null!==Bi){var q=Bi;Bi=null;q.forEach(function(J){J.expiredLanes|=24&J.pendingLanes;Sd(J,gh())})}Ea()}
function pe(q,J){var da=Ne;Ne|=1;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}}function Re(q,J){var da=Ne;Ne&=-2;Ne|=8;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}}function xd(q,J){le(lk,Wg);Wg|=J;mj|=J}function Oe(){Wg=lk.current;xe(lk)}function dg(q,J){q.finishedWork=null;q.finishedLanes=0;var da=q.timeoutHandle;-1!==da&&(q.timeoutHandle=-1,Mj(da));if(null!==Mg)for(da=Mg.return;null!==da;){var Qa=da;switch(Qa.tag){case 1:Qa=Qa.type.childContextTypes;null!==Qa&&void 0!==Qa&&ue();break;
case 3:nf();xe(Lg);xe(Sg);Wc();break;case 5:Pa(Qa);break;case 4:nf();break;case 13:xe(of);break;case 19:xe(of);break;case 10:ub(Qa);break;case 23:case 24:Oe()}da=da.return}ah=q;Mg=qg(q.current,null);fg=Wg=mj=J;bh=0;Qh=null;Lj=rh=dk=0}function Xe(q,J){do{var da=Mg;try{Oi=Pi=Gj=null;Ij.current=Hk;if(Ik){for(var Qa=rg.memoizedState;null!==Qa;){var ib=Qa.queue;null!==ib&&(ib.pending=null);Qa=Qa.next}Ik=!1}ek=0;Ug=$g=rg=null;fk=!1;gl.current=null;if(null===da||null===da.return){bh=1;Qh=J;Mg=null;break}a:{var yb=
q,Ob=da.return,fc=da,Fc=J;J=fg;fc.flags|=2048;fc.firstEffect=fc.lastEffect=null;if(null!==Fc&&"object"===typeof Fc&&"function"===typeof Fc.then){var sd=Fc;if(0===(fc.mode&2)){var ve=fc.alternate;ve?(fc.updateQueue=ve.updateQueue,fc.memoizedState=ve.memoizedState,fc.lanes=ve.lanes):(fc.updateQueue=null,fc.memoizedState=null)}var ff=0!==(of.current&1),Ld=Ob;do{var Ke;if(Ke=13===Ld.tag){var gf=Ld.memoizedState;if(null!==gf)Ke=null!==gf.dehydrated?!0:!1;else{var $e=Ld.memoizedProps;Ke=void 0===$e.fallback?
!1:!0!==$e.unstable_avoidThisFallback?!0:ff?!1:!0}}if(Ke){var cd=Ld.updateQueue;if(null===cd){var Nc=new Set;Nc.add(sd);Ld.updateQueue=Nc}else cd.add(sd);if(0===(Ld.mode&2)){Ld.flags|=64;fc.flags|=16384;fc.flags&=-2981;if(1===fc.tag)if(null===fc.alternate)fc.tag=17;else{var $c=Nd(-1,1);$c.tag=2;od(fc,$c)}fc.lanes|=1;break a}Fc=void 0;fc=J;var Bd=yb.pingCache;null===Bd?(Bd=yb.pingCache=new Sk,Fc=new Set,Bd.set(sd,Fc)):(Fc=Bd.get(sd),void 0===Fc&&(Fc=new Set,Bd.set(sd,Fc)));if(!Fc.has(fc)){Fc.add(fc);
var Jd=nj.bind(null,yb,sd,fc);sd.then(Jd,Jd)}Ld.flags|=4096;Ld.lanes=J;break a}Ld=Ld.return}while(null!==Ld);Fc=Error((e(fc.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==bh&&(bh=2);Fc=ob(Fc,fc);Ld=Ob;do{switch(Ld.tag){case 3:yb=Fc;Ld.flags|=4096;J&=-J;Ld.lanes|=J;var cf=Mb(Ld,yb,J);Id(Ld,cf);break a;case 1:yb=Fc;var Ae=
Ld.type,hf=Ld.stateNode;if(0===(Ld.flags&64)&&("function"===typeof Ae.getDerivedStateFromError||null!==hf&&"function"===typeof hf.componentDidCatch&&(null===ki||!ki.has(hf)))){Ld.flags|=4096;J&=-J;Ld.lanes|=J;var Kf=bc(Ld,yb,J);Id(Ld,Kf);break a}}Ld=Ld.return}while(null!==Ld)}Qf(da)}catch(xf){J=xf;Mg===da&&null!==da&&(Mg=da.return);continue}break}while(1)}function $f(){var q=Qk.current;Qk.current=Hk;return null===q?Hk:q}function vf(q,J){var da=Ne;Ne|=16;var Qa=$f();ah===q&&fg===J||dg(q,J);do try{for(;null!==
Mg;)Df(Mg);break}catch(ib){Xe(q,ib)}while(1);Oi=Pi=Gj=null;Ne=da;Qk.current=Qa;if(null!==Mg)throw Error(k(261));ah=null;fg=0;return bh}function Df(q){var J=Ml(q.alternate,q,Wg);q.memoizedProps=q.pendingProps;null===J?Qf(q):Mg=J;gl.current=null}function Qf(q){var J=q;do{var da=J.alternate;q=J.return;if(0===(J.flags&2048)){da=af(da,J,Wg);if(null!==da){Mg=da;return}da=J;if(24!==da.tag&&23!==da.tag||null===da.memoizedState||0!==(Wg&1073741824)||0===(da.mode&4)){for(var Qa=0,ib=da.child;null!==ib;)Qa|=
ib.lanes|ib.childLanes,ib=ib.sibling;da.childLanes=Qa}null!==q&&0===(q.flags&2048)&&(null===q.firstEffect&&(q.firstEffect=J.firstEffect),null!==J.lastEffect&&(null!==q.lastEffect&&(q.lastEffect.nextEffect=J.firstEffect),q.lastEffect=J.lastEffect),1<J.flags&&(null!==q.lastEffect?q.lastEffect.nextEffect=J:q.firstEffect=J,q.lastEffect=J))}else{da=Wa(J);if(null!==da){da.flags&=2047;Mg=da;return}null!==q&&(q.firstEffect=q.lastEffect=null,q.flags|=2048)}J=J.sibling;if(null!==J){Mg=J;return}Mg=J=q}while(null!==
J);0===bh&&(bh=5)}function Vf(q){var J=Bf();yc(99,Xg.bind(null,q,J));return null}function Xg(q,J){do sh();while(null!==mk);if(0!==(Ne&48))throw Error(k(327));var da=q.finishedWork;if(null===da)return null;q.finishedWork=null;q.finishedLanes=0;if(da===q.current)throw Error(k(177));q.callbackNode=null;var Qa=da.lanes|da.childLanes,ib=Qa,yb=q.pendingLanes&~ib;q.pendingLanes=ib;q.suspendedLanes=0;q.pingedLanes=0;q.expiredLanes&=ib;q.mutableReadLanes&=ib;q.entangledLanes&=ib;ib=q.entanglements;for(var Ob=
q.eventTimes,fc=q.expirationTimes;0<yb;){var Fc=31-Lh(yb),sd=1<<Fc;ib[Fc]=0;Ob[Fc]=-1;fc[Fc]=-1;yb&=~sd}null!==Bi&&0===(Qa&24)&&Bi.has(q)&&Bi.delete(q);q===ah&&(Mg=ah=null,fg=0);1<da.flags?null!==da.lastEffect?(da.lastEffect.nextEffect=da,Qa=da.firstEffect):Qa=da:Qa=da.firstEffect;if(null!==Qa){ib=Ne;Ne|=32;gl.current=null;ch=Bj;Ob=Dd();if(Ud(Ob)){if("selectionStart"in Ob)fc={start:Ob.selectionStart,end:Ob.selectionEnd};else a:if(fc=(fc=Ob.ownerDocument)&&fc.defaultView||window,(sd=fc.getSelection&&
fc.getSelection())&&0!==sd.rangeCount){fc=sd.anchorNode;yb=sd.anchorOffset;Fc=sd.focusNode;sd=sd.focusOffset;try{fc.nodeType,Fc.nodeType}catch(xf){fc=null;break a}var ve=0,ff=-1,Ld=-1,Ke=0,gf=0,$e=Ob,cd=null;b:for(;;){for(var Nc;;){$e!==fc||0!==yb&&3!==$e.nodeType||(ff=ve+yb);$e!==Fc||0!==sd&&3!==$e.nodeType||(Ld=ve+sd);3===$e.nodeType&&(ve+=$e.nodeValue.length);if(null===(Nc=$e.firstChild))break;cd=$e;$e=Nc}for(;;){if($e===Ob)break b;cd===fc&&++Ke===yb&&(ff=ve);cd===Fc&&++gf===sd&&(Ld=ve);if(null!==
(Nc=$e.nextSibling))break;$e=cd;cd=$e.parentNode}$e=Nc}fc=-1===ff||-1===Ld?null:{start:ff,end:Ld}}else fc=null;fc=fc||{start:0,end:0}}else fc=null;Rh={focusedElem:Ob,selectionRange:fc};Bj=!1;Nj=null;th=!1;ze=Qa;do try{Bh()}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);Nj=null;ze=Qa;do try{for(Ob=q;null!==ze;){var $c=ze.flags;$c&16&&aa(ze.stateNode,"");if($c&128){var Bd=ze.alternate;if(null!==Bd){var Jd=Bd.ref;null!==Jd&&("function"===typeof Jd?Jd(null):Jd.current=
null)}}switch($c&1038){case 2:sb(ze);ze.flags&=-3;break;case 6:sb(ze);ze.flags&=-3;Qc(ze.alternate,ze);break;case 1024:ze.flags&=-1025;break;case 1028:ze.flags&=-1025;Qc(ze.alternate,ze);break;case 4:Qc(ze.alternate,ze);break;case 8:fc=ze;Vb(Ob,fc);var cf=fc.alternate;gb(fc);null!==cf&&gb(cf)}ze=ze.nextEffect}}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);Jd=Rh;Bd=Dd();$c=Jd.focusedElem;Ob=Jd.selectionRange;if(Bd!==$c&&$c&&$c.ownerDocument&&Cd($c.ownerDocument.documentElement,
$c)){null!==Ob&&Ud($c)&&(Bd=Ob.start,Jd=Ob.end,void 0===Jd&&(Jd=Bd),"selectionStart"in $c?($c.selectionStart=Bd,$c.selectionEnd=Math.min(Jd,$c.value.length)):(Jd=(Bd=$c.ownerDocument||document)&&Bd.defaultView||window,Jd.getSelection&&(Jd=Jd.getSelection(),fc=$c.textContent.length,cf=Math.min(Ob.start,fc),Ob=void 0===Ob.end?cf:Math.min(Ob.end,fc),!Jd.extend&&cf>Ob&&(fc=Ob,Ob=cf,cf=fc),fc=ld($c,cf),yb=ld($c,Ob),fc&&yb&&(1!==Jd.rangeCount||Jd.anchorNode!==fc.node||Jd.anchorOffset!==fc.offset||Jd.focusNode!==
yb.node||Jd.focusOffset!==yb.offset)&&(Bd=Bd.createRange(),Bd.setStart(fc.node,fc.offset),Jd.removeAllRanges(),cf>Ob?(Jd.addRange(Bd),Jd.extend(yb.node,yb.offset)):(Bd.setEnd(yb.node,yb.offset),Jd.addRange(Bd))))));Bd=[];for(Jd=$c;Jd=Jd.parentNode;)1===Jd.nodeType&&Bd.push({element:Jd,left:Jd.scrollLeft,top:Jd.scrollTop});"function"===typeof $c.focus&&$c.focus();for($c=0;$c<Bd.length;$c++)Jd=Bd[$c],Jd.element.scrollLeft=Jd.left,Jd.element.scrollTop=Jd.top}Bj=!!ch;Rh=ch=null;q.current=da;ze=Qa;do try{for($c=
q;null!==ze;){var Ae=ze.flags;Ae&36&&Q($c,ze.alternate,ze);if(Ae&128){Bd=void 0;var hf=ze.ref;if(null!==hf){var Kf=ze.stateNode;switch(ze.tag){case 5:Bd=Kf;break;default:Bd=Kf}"function"===typeof hf?hf(Bd):hf.current=Bd}}ze=ze.nextEffect}}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);ze=null;Nl();Ne=ib}else q.current=da;if(Ci)Ci=!1,mk=q,Oj=J;else for(ze=Qa;null!==ze;)J=ze.nextEffect,ze.nextEffect=null,ze.flags&8&&(Ae=ze,Ae.sibling=null,Ae.stateNode=null),ze=
J;Qa=q.pendingLanes;0===Qa&&(ki=null);1===Qa?q===kk?jk++:(jk=0,kk=q):jk=0;da=da.stateNode;if(lj&&"function"===typeof lj.onCommitFiberRoot)try{lj.onCommitFiberRoot(el,da,void 0,64===(da.current.flags&64))}catch(xf){}Sd(q,gh());if(kj)throw kj=!1,q=Lk,Lk=null,q;if(0!==(Ne&8))return null;Ea();return null}function Bh(){for(;null!==ze;){var q=ze.alternate;th||null===Nj||(0!==(ze.flags&8)?Ga(ze,Nj)&&(th=!0):13===ze.tag&&zd(q,ze)&&Ga(ze,Nj)&&(th=!0));var J=ze.flags;0!==(J&256)&&r(q,ze);0===(J&512)||Ci||(Ci=
!0,wa(97,function(){sh();return null}));ze=ze.nextEffect}}function sh(){if(90!==Oj){var q=97<Oj?97:Oj;Oj=90;return yc(q,nk)}return!1}function Ti(q,J){ok.push(J,q);Ci||(Ci=!0,wa(97,function(){sh();return null}))}function hk(q,J){hl.push(J,q);Ci||(Ci=!0,wa(97,function(){sh();return null}))}function nk(){if(null===mk)return!1;var q=mk;mk=null;if(0!==(Ne&48))throw Error(k(331));var J=Ne;Ne|=32;var da=hl;hl=[];for(var Qa=0;Qa<da.length;Qa+=2){var ib=da[Qa],yb=da[Qa+1],Ob=ib.destroy;ib.destroy=void 0;if("function"===
typeof Ob)try{Ob()}catch(Fc){if(null===yb)throw Error(k(330));Ah(yb,Fc)}}da=ok;ok=[];for(Qa=0;Qa<da.length;Qa+=2){ib=da[Qa];yb=da[Qa+1];try{var fc=ib.create;ib.destroy=fc()}catch(Fc){if(null===yb)throw Error(k(330));Ah(yb,Fc)}}for(fc=q.current.firstEffect;null!==fc;)q=fc.nextEffect,fc.nextEffect=null,fc.flags&8&&(fc.sibling=null,fc.stateNode=null),fc=q;Ne=J;Ea();return!0}function Pj(q,J,da){J=ob(da,J);J=Mb(q,J,1);od(q,J);J=bd();q=ee(q,1);null!==q&&(wd(q,1,J),Sd(q,J))}function Ah(q,J){if(3===q.tag)Pj(q,
q,J);else for(var da=q.return;null!==da;){if(3===da.tag){Pj(da,q,J);break}else if(1===da.tag){var Qa=da.stateNode;if("function"===typeof da.type.getDerivedStateFromError||"function"===typeof Qa.componentDidCatch&&(null===ki||!ki.has(Qa))){q=ob(J,q);var ib=bc(da,q,1);od(da,ib);ib=bd();da=ee(da,1);if(null!==da)wd(da,1,ib),Sd(da,ib);else if("function"===typeof Qa.componentDidCatch&&(null===ki||!ki.has(Qa)))try{Qa.componentDidCatch(J,q)}catch(yb){}break}}da=da.return}}function nj(q,J,da){var Qa=q.pingCache;
null!==Qa&&Qa.delete(J);J=bd();q.pingedLanes|=q.suspendedLanes&da;ah===q&&(fg&da)===da&&(4===bh||3===bh&&(fg&62914560)===fg&&500>gh()-Mk?dg(q,0):Lj|=da);Sd(q,J)}function Nk(q,J){var da=q.stateNode;null!==da&&da.delete(J);J=0;0===J&&(J=q.mode,0===(J&2)?J=1:0===(J&4)?J=99===Bf()?1:2:(0===ai&&(ai=mj),J=Fd(62914560&~ai),0===J&&(J=4194304)));da=bd();q=ee(q,J);null!==q&&(wd(q,J,da),Sd(q,da))}function Fg(q,J,da,Qa){this.tag=q;this.key=da;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=
null;this.index=0;this.ref=null;this.pendingProps=J;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Qa;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function kh(q,J,da,Qa){return new Fg(q,J,da,Qa)}function Jj(q){q=q.prototype;return!(!q||!q.isReactComponent)}function oj(q){if("function"===typeof q)return Jj(q)?1:0;if(void 0!==q&&null!==q){q=q.$$typeof;if(q===wf)return 11;if(q===ci)return 14}return 2}
function qg(q,J){var da=q.alternate;null===da?(da=kh(q.tag,J,q.key,q.mode),da.elementType=q.elementType,da.type=q.type,da.stateNode=q.stateNode,da.alternate=q,q.alternate=da):(da.pendingProps=J,da.type=q.type,da.flags=0,da.nextEffect=null,da.firstEffect=null,da.lastEffect=null);da.childLanes=q.childLanes;da.lanes=q.lanes;da.child=q.child;da.memoizedProps=q.memoizedProps;da.memoizedState=q.memoizedState;da.updateQueue=q.updateQueue;J=q.dependencies;da.dependencies=null===J?null:{lanes:J.lanes,firstContext:J.firstContext};
da.sibling=q.sibling;da.index=q.index;da.ref=q.ref;return da}function yi(q,J,da,Qa,ib,yb){var Ob=2;Qa=q;if("function"===typeof q)Jj(q)&&(Ob=1);else if("string"===typeof q)Ob=5;else a:switch(q){case Zg:return zi(da.children,ib,yb,J);case pk:Ob=8;ib|=16;break;case Eg:Ob=8;ib|=1;break;case bi:return q=kh(12,da,J,ib|8),q.elementType=bi,q.type=bi,q.lanes=yb,q;case Ff:return q=kh(13,da,J,ib),q.type=Ff,q.elementType=Ff,q.lanes=yb,q;case Ag:return q=kh(19,da,J,ib),q.elementType=Ag,q.lanes=yb,q;case pj:return Ai(da,
ib,yb,J);case mi:return q=kh(24,da,J,ib),q.elementType=mi,q.lanes=yb,q;default:if("object"===typeof q&&null!==q)switch(q.$$typeof){case eh:Ob=10;break a;case Fi:Ob=9;break a;case wf:Ob=11;break a;case ci:Ob=14;break a;case Gh:Ob=16;Qa=null;break a;case Jg:Ob=22;break a}throw Error(k(130,null==q?q:typeof q,""));}J=kh(Ob,da,J,ib);J.elementType=q;J.type=Qa;J.lanes=yb;return J}function zi(q,J,da,Qa){q=kh(7,q,Qa,J);q.lanes=da;return q}function Ai(q,J,da,Qa){q=kh(23,q,Qa,J);q.elementType=pj;q.lanes=da;
return q}function Hj(q,J,da){q=kh(6,q,null,J);q.lanes=da;return q}function Qi(q,J,da){J=kh(4,null!==q.children?q.children:[],q.key,J);J.lanes=da;J.stateNode={containerInfo:q.containerInfo,pendingChildren:null,implementation:q.implementation};return J}function ni(q,J,da){this.tag=J;this.containerInfo=q;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=da;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=
ge(0);this.expirationTimes=ge(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=ge(0);this.mutableSourceEagerHydrationData=null}function Ui(q,J,da){var Qa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wg,key:null==Qa?null:""+Qa,children:q,containerInfo:J,implementation:da}}function qj(q,J,da,Qa){var ib=J.current,yb=bd(),Ob=Jc(ib);a:if(da){da=da._reactInternals;
b:{if(na(da)!==da||1!==da.tag)throw Error(k(170));var fc=da;do{switch(fc.tag){case 3:fc=fc.stateNode.context;break b;case 1:if(Fe(fc.type)){fc=fc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}fc=fc.return}while(null!==fc);throw Error(k(171));}if(1===da.tag){var Fc=da.type;if(Fe(Fc)){da=Yf(da,Fc,fc);break a}}da=fc}else da=Rg;null===J.context?J.context=da:J.pendingContext=da;J=Nd(yb,Ob);J.payload={element:q};Qa=void 0===Qa?null:Qa;null!==Qa&&(J.callback=Qa);od(ib,J);ud(ib,Ob,yb);return Ob}
function hh(q){q=q.current;if(!q.child)return null;switch(q.child.tag){case 5:return q.child.stateNode;default:return q.child.stateNode}}function Vi(q,J){q=q.memoizedState;if(null!==q&&null!==q.dehydrated){var da=q.retryLane;q.retryLane=0!==da&&da<J?da:J}}function Qj(q,J){Vi(q,J);(q=q.alternate)&&Vi(q,J)}function Tk(){return null}function rj(q,J,da){var Qa=null!=da&&null!=da.hydrationOptions&&da.hydrationOptions.mutableSources||null;da=new ni(q,J,null!=da&&!0===da.hydrate);J=kh(3,null,null,2===J?
7:1===J?3:0);da.current=J;J.stateNode=da;gd(J);q[Ej]=da.current;ef(8===q.nodeType?q.parentNode:q);if(Qa)for(q=0;q<Qa.length;q++){J=Qa[q];var ib=J._getVersion;ib=ib(J._source);null==da.mutableSourceEagerHydrationData?da.mutableSourceEagerHydrationData=[J,ib]:da.mutableSourceEagerHydrationData.push(J,ib)}this._internalRoot=da}function sj(q){return!(!q||1!==q.nodeType&&9!==q.nodeType&&11!==q.nodeType&&(8!==q.nodeType||" react-mount-point-unstable "!==q.nodeValue))}function og(q,J){J||(J=q?9===q.nodeType?
q.documentElement:q.firstChild:null,J=!(!J||1!==J.nodeType||!J.hasAttribute("data-reactroot")));if(!J)for(var da;da=q.lastChild;)q.removeChild(da);return new rj(q,0,J?{hydrate:!0}:void 0)}function Wi(q,J,da,Qa,ib){var yb=da._reactRootContainer;if(yb){var Ob=yb._internalRoot;if("function"===typeof ib){var fc=ib;ib=function(){var sd=hh(Ob);fc.call(sd)}}qj(J,Ob,q,ib)}else{yb=da._reactRootContainer=og(da,Qa);Ob=yb._internalRoot;if("function"===typeof ib){var Fc=ib;ib=function(){var sd=hh(Ob);Fc.call(sd)}}Re(function(){qj(J,
Ob,q,ib)})}return hh(Ob)}function oi(q,J){var da=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sj(J))throw Error(k(200));return Ui(q,J,null,da)}var Gi=A(3),lg=A(0),Dg=A(6);if(!Gi)throw Error(k(227));var Ei=new Set,vh={},Sh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Yj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Vj=Object.prototype.hasOwnProperty,Xj={},Wj={},vg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(q){vg[q]=new v(q,0,!1,q,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(q){var J=q[0];vg[J]=new v(J,1,!1,q[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(q){vg[q]=
new v(q,2,!1,q.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(q){vg[q]=new v(q,2,!1,q,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(q){vg[q]=new v(q,3,!1,q.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(q){vg[q]=new v(q,3,!0,q,null,!1,!1)});["capture","download"].forEach(function(q){vg[q]=new v(q,4,!1,q,null,!1,!1)});["cols","rows","size","span"].forEach(function(q){vg[q]=new v(q,6,!1,q,null,!1,!1)});["rowSpan","start"].forEach(function(q){vg[q]=new v(q,5,!1,q.toLowerCase(),null,!1,!1)});var tj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(q){var J=
q.replace(tj,u);vg[J]=new v(J,1,!1,q,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(q){var J=q.replace(tj,u);vg[J]=new v(J,1,!1,q,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(q){var J=q.replace(tj,u);vg[J]=new v(J,1,!1,q,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(q){vg[q]=new v(q,1,!1,q.toLowerCase(),null,!1,!1)});vg.xlinkHref=new v("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(q){vg[q]=new v(q,1,!1,q.toLowerCase(),null,!0,!0)});var Th=Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=60103,wg=60106,Zg=60107,Eg=60108,bi=60114,eh=60109,Fi=60110,wf=60112,Ff=60113,Ag=60120,ci=60115,Gh=60116,Jg=60121,Zh=60128,pk=60129,pj=60130,mi=60131;if("function"===typeof Symbol&&Symbol.for){var ug=Symbol.for;Ri=ug("react.element");wg=ug("react.portal");Zg=ug("react.fragment");
Eg=ug("react.strict_mode");bi=ug("react.profiler");eh=ug("react.provider");Fi=ug("react.context");wf=ug("react.forward_ref");Ff=ug("react.suspense");Ag=ug("react.suspense_list");ci=ug("react.memo");Gh=ug("react.lazy");Jg=ug("react.block");ug("react.scope");Zh=ug("react.opaque.id");pk=ug("react.debug_trace_mode");pj=ug("react.offscreen");mi=ug("react.legacy_hidden")}var ri="function"===typeof Symbol&&Symbol.iterator,dh,Aj=!1,Vg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},Ch,Kj=function(q){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(J,da,Qa,ib){MSApp.execUnsafeLocalFunction(function(){return q(J,da,Qa,ib)})}:q}(function(q,J){if(q.namespaceURI!==Vg.svg||"innerHTML"in q)q.innerHTML=J;else{Ch=Ch||document.createElement("div");Ch.innerHTML="\x3csvg\x3e"+J.valueOf().toString()+"\x3c/svg\x3e";for(J=Ch.firstChild;q.firstChild;)q.removeChild(q.firstChild);for(;J.firstChild;)q.appendChild(J.firstChild)}}),Vh={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dh=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(q){Dh.forEach(function(J){J=J+q.charAt(0).toUpperCase()+q.substring(1);Vh[J]=Vh[q]})});var Hi=lg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),di=null,pf=null,mh=null,mg=Da,Tf=!1,ei=!1,Li=!1;if(Sh)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Li=
!0}});window.addEventListener("test",Xi,Xi);window.removeEventListener("test",Xi,Xi)}catch(q){Li=!1}var fi=!1,Wh=null,Hh=!1,gi=null,Te={onError:function(q){fi=!0;Wh=q}},dj=!1,ih=[],wh=null,Ih=null,Xh=null,Ii=new Map,si=new Map,Kh=[],ti="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),jh=
{animationend:mb("Animation","AnimationEnd"),animationiteration:mb("Animation","AnimationIteration"),animationstart:mb("Animation","AnimationStart"),transitionend:mb("Transition","TransitionEnd")},kg={},Ji={};Sh&&(Ji=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);var xh=hc("animationend"),Cj=hc("animationiteration"),
ak=hc("animationstart"),Ph=hc("transitionend"),Yh=new Map,Zj=new Map,qk=["abort","abort",xh,"animationEnd",Cj,"animationIteration",ak,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ph,"transitionEnd","waiting","waiting"],Di=Dg.unstable_now;Di();var ag=8,Lh=Math.clz32?Math.clz32:vd,oh=Math.log,Mh=Math.LN2,Nh=Dg.unstable_UserBlockingPriority,ej=Dg.unstable_runWithPriority,Bj=!0,ph=null,ui=null,Og=null,Hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(q){return q.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=Ka(Hg),Uh=lg({},Hg,{view:0,detail:0}),
Dj=Ka(Uh),lh,pi,Yi,Gg=lg({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wb,button:0,buttons:0,relatedTarget:function(q){return void 0===q.relatedTarget?q.fromElement===q.srcElement?q.toElement:q.fromElement:q.relatedTarget},movementX:function(q){if("movementX"in q)return q.movementX;q!==Yi&&(Yi&&"mousemove"===q.type?(lh=q.screenX-Yi.screenX,pi=q.screenY-Yi.screenY):pi=lh=0,Yi=q);return lh},movementY:function(q){return"movementY"in
q?q.movementY:pi}}),gj=Ka(Gg),rk=lg({},Gg,{dataTransfer:0}),Oh=Ka(rk),Zi=lg({},Uh,{relatedTarget:0}),vi=Ka(Zi),$i=lg({},Hg,{animationName:0,elapsedTime:0,pseudoElement:0}),Mi=Ka($i),aj=lg({},Hg,{clipboardData:function(q){return"clipboardData"in q?q.clipboardData:window.clipboardData}}),Ak=Ka(aj),sk=lg({},Hg,{data:0}),ij=Ka(sk),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},uj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ki={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
Uk=lg({},Uh,{key:function(q){if(q.key){var J=bj[q.key]||q.key;if("Unidentified"!==J)return J}return"keypress"===q.type?(q=Vc(q),13===q?"Enter":String.fromCharCode(q)):"keydown"===q.type||"keyup"===q.type?uj[q.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wb,charCode:function(q){return"keypress"===q.type?Vc(q):0},keyCode:function(q){return"keydown"===q.type||"keyup"===q.type?q.keyCode:0},which:function(q){return"keypress"===
q.type?Vc(q):"keydown"===q.type||"keyup"===q.type?q.keyCode:0}}),fj=Ka(Uk),vj=lg({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Ka(vj),eg=lg({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wb}),xg=Ka(eg),il=lg({},Hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),hj=Ka(il),b=lg({},Gg,{deltaX:function(q){return"deltaX"in q?q.deltaX:"wheelDeltaX"in q?-q.wheelDeltaX:
0},deltaY:function(q){return"deltaY"in q?q.deltaY:"wheelDeltaY"in q?-q.wheelDeltaY:"wheelDelta"in q?-q.wheelDelta:0},deltaZ:0,deltaMode:0}),p=Ka(b),X=[9,13,27,32],S=Sh&&"CompositionEvent"in window,ea=null;Sh&&"documentMode"in document&&(ea=document.documentMode);var La=Sh&&"TextEvent"in window&&!ea,Xa=Sh&&(!S||ea&&8<ea&&11>=ea),ab=String.fromCharCode(32),tb=!1,Ib=!1,dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},Rc=null,vc=null,wc=!1;if(Sh){if(Sh){var td="oninput"in document;if(!td){var ce=document.createElement("div");ce.setAttribute("oninput","return;");td="function"===typeof ce.oninput}var Se=td}else Se=!1;wc=Se&&(!document.documentMode||9<document.documentMode)}var bf="function"===typeof Object.is?Object.is:uc,He=Object.prototype.hasOwnProperty,cg=Sh&&"documentMode"in document&&11>=document.documentMode,Af=null,bg=null,Wf=null,qf=!1;jc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);jc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);jc(qk,2);for(var gg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Rf=0;Rf<gg.length;Rf++)Zj.set(gg[Rf],0);w("onMouseEnter",["mouseout","mouseover"]);w("onMouseLeave",
["mouseout","mouseover"]);w("onPointerEnter",["pointerout","pointerover"]);w("onPointerLeave",["pointerout","pointerover"]);l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));l("onBeforeInput",["compositionend","keypress","textInput","paste"]);l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));l("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Of)),Pg="_reactListening"+Math.random().toString(36).slice(2),
ch=null,Rh=null,li="function"===typeof setTimeout?setTimeout:void 0,Mj="function"===typeof clearTimeout?clearTimeout:void 0,Vk=0,tk=Math.random().toString(36).slice(2),wi="__reactFiber$"+tk,Bk="__reactProps$"+tk,Ej="__reactContainer$"+tk,Zk="__reactEvents$"+tk,$k=[],ng=-1,Rg={},Sg=Gc(Rg),Lg=Gc(!1),Ni=Rg,el=null,lj=null,tl=Dg.unstable_runWithPriority,Dk=Dg.unstable_scheduleCallback,ck=Dg.unstable_cancelCallback,Pk=Dg.unstable_shouldYield,xl=Dg.unstable_requestPaint,uk=Dg.unstable_now,pl=Dg.unstable_getCurrentPriorityLevel,
Ck=Dg.unstable_ImmediatePriority,bk=Dg.unstable_UserBlockingPriority,ql=Dg.unstable_NormalPriority,rl=Dg.unstable_LowPriority,sl=Dg.unstable_IdlePriority,fl={},Nl=void 0!==xl?xl:function(){},xi=null,Fj=null,al=!1,yl=uk(),gh=1E4>yl?uk:function(){return uk()-yl},Ll=Th.ReactCurrentBatchConfig,Ek=Gc(null),Gj=null,Pi=null,Oi=null,hi=!1,ul=(new Gi.Component).refs,Fk={isMounted:function(q){return(q=q._reactInternals)?na(q)===q:!1},enqueueSetState:function(q,J,da){q=q._reactInternals;var Qa=bd(),ib=Jc(q),
yb=Nd(Qa,ib);yb.payload=J;void 0!==da&&null!==da&&(yb.callback=da);od(q,yb);ud(q,ib,Qa)},enqueueReplaceState:function(q,J,da){q=q._reactInternals;var Qa=bd(),ib=Jc(q),yb=Nd(Qa,ib);yb.tag=1;yb.payload=J;void 0!==da&&null!==da&&(yb.callback=da);od(q,yb);ud(q,ib,Qa)},enqueueForceUpdate:function(q,J){q=q._reactInternals;var da=bd(),Qa=Jc(q),ib=Nd(da,Qa);ib.tag=2;void 0!==J&&null!==J&&(ib.callback=J);od(q,ib);ud(q,Qa,da)}},Gk=Array.isArray,Jk=Zf(!0),Je=Zf(!1),ii={},qh=Gc(ii),ji=Gc(ii),rf=Gc(ii),of=Gc(0),
Hd=null,Tg=null,fh=!1,jj=[],Ij=Th.ReactCurrentDispatcher,yh=Th.ReactCurrentBatchConfig,ek=0,rg=null,$g=null,Ug=null,Ik=!1,fk=!1,Hk={readContext:Oc,useCallback:nd,useContext:nd,useEffect:nd,useImperativeHandle:nd,useLayoutEffect:nd,useMemo:nd,useReducer:nd,useRef:nd,useState:nd,useDebugValue:nd,useDeferredValue:nd,useTransition:nd,useMutableSource:nd,useOpaqueIdentifier:nd,unstable_isNewReconciler:!1},Hl={readContext:Oc,useCallback:function(q,J){je().memoizedState=[q,void 0===J?null:J];return q},useContext:Oc,
useEffect:xa,useImperativeHandle:function(q,J,da){da=null!==da&&void 0!==da?da.concat([q]):null;return Lf(4,2,Sa.bind(null,J,q),da)},useLayoutEffect:function(q,J){return Lf(4,2,q,J)},useMemo:function(q,J){var da=je();J=void 0===J?null:J;q=q();da.memoizedState=[q,J];return q},useReducer:function(q,J,da){var Qa=je();J=void 0!==da?da(J):J;Qa.memoizedState=Qa.baseState=J;q=Qa.queue={pending:null,dispatch:null,lastRenderedReducer:q,lastRenderedState:J};q=q.dispatch=Kb.bind(null,rg,q);return[Qa.memoizedState,
q]},useRef:Cf,useState:ne,useDebugValue:hb,useDeferredValue:function(q){var J=ne(q),da=J[0],Qa=J[1];xa(function(){var ib=yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=ne(!1),J=q[0];q=Ab.bind(null,q[1]);Cf(q);return[q,J]},useMutableSource:function(q,J,da){var Qa=je();Qa.memoizedState={refs:{getSnapshot:J,setSnapshot:null},source:q,subscribe:da};return Qe(Qa,q,J,da)},useOpaqueIdentifier:function(){if(fh){var q=!1,J=Be(function(){q||
(q=!0,da("r:"+(Vk++).toString(36)));throw Error(k(355));}),da=ne(J)[1];0===(rg.mode&2)&&(rg.flags|=516,sf(5,function(){da("r:"+(Vk++).toString(36))},void 0,null));return J}J="r:"+(Vk++).toString(36);ne(J);return J},unstable_isNewReconciler:!1},Il={readContext:Oc,useCallback:qb,useContext:Oc,useEffect:za,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Db,useReducer:$d,useRef:Bg,useState:function(){return $d(Le)},useDebugValue:hb,useDeferredValue:function(q){var J=$d(Le),da=J[0],Qa=J[1];za(function(){var ib=
yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=$d(Le)[0];return[Bg().current,q]},useMutableSource:Uf,useOpaqueIdentifier:function(){return $d(Le)[0]},unstable_isNewReconciler:!1},bl={readContext:Oc,useCallback:qb,useContext:Oc,useEffect:za,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Db,useReducer:Ie,useRef:Bg,useState:function(){return Ie(Le)},useDebugValue:hb,useDeferredValue:function(q){var J=Ie(Le),da=J[0],Qa=J[1];za(function(){var ib=
yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=Ie(Le)[0];return[Bg().current,q]},useMutableSource:Uf,useOpaqueIdentifier:function(){return Ie(Le)[0]},unstable_isNewReconciler:!1},cl=Th.ReactCurrentOwner,$h=!1,gk={dehydrated:null,retryLane:0};var wl=function(q,J){for(var da=J.child;null!==da;){if(5===da.tag||6===da.tag)q.appendChild(da.stateNode);else if(4!==da.tag&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===J)break;
for(;null===da.sibling;){if(null===da.return||da.return===J)return;da=da.return}da.sibling.return=da.return;da=da.sibling}};var zh=function(){};var Kk=function(q,J,da,Qa){var ib=q.memoizedProps;if(ib!==Qa){q=J.stateNode;yf(qh.current);var yb=null;switch(da){case "input":ib=F(q,ib);Qa=F(q,Qa);yb=[];break;case "option":ib=fa(q,ib);Qa=fa(q,Qa);yb=[];break;case "select":ib=lg({},ib,{value:void 0});Qa=lg({},Qa,{value:void 0});yb=[];break;case "textarea":ib=la(q,ib);Qa=la(q,Qa);yb=[];break;default:"function"!==
typeof ib.onClick&&"function"===typeof Qa.onClick&&(q.onclick=me)}Ia(da,Qa);var Ob;da=null;for(sd in ib)if(!Qa.hasOwnProperty(sd)&&ib.hasOwnProperty(sd)&&null!=ib[sd])if("style"===sd){var fc=ib[sd];for(Ob in fc)fc.hasOwnProperty(Ob)&&(da||(da={}),da[Ob]="")}else"dangerouslySetInnerHTML"!==sd&&"children"!==sd&&"suppressContentEditableWarning"!==sd&&"suppressHydrationWarning"!==sd&&"autoFocus"!==sd&&(vh.hasOwnProperty(sd)?yb||(yb=[]):(yb=yb||[]).push(sd,null));for(sd in Qa){var Fc=Qa[sd];fc=null!=ib?
ib[sd]:void 0;if(Qa.hasOwnProperty(sd)&&Fc!==fc&&(null!=Fc||null!=fc))if("style"===sd)if(fc){for(Ob in fc)!fc.hasOwnProperty(Ob)||Fc&&Fc.hasOwnProperty(Ob)||(da||(da={}),da[Ob]="");for(Ob in Fc)Fc.hasOwnProperty(Ob)&&fc[Ob]!==Fc[Ob]&&(da||(da={}),da[Ob]=Fc[Ob])}else da||(yb||(yb=[]),yb.push(sd,da)),da=Fc;else"dangerouslySetInnerHTML"===sd?(Fc=Fc?Fc.__html:void 0,fc=fc?fc.__html:void 0,null!=Fc&&fc!==Fc&&(yb=yb||[]).push(sd,Fc)):"children"===sd?"string"!==typeof Fc&&"number"!==typeof Fc||(yb=yb||[]).push(sd,
""+Fc):"suppressContentEditableWarning"!==sd&&"suppressHydrationWarning"!==sd&&(vh.hasOwnProperty(sd)?(null!=Fc&&"onScroll"===sd&&fe("scroll",q),yb||fc===Fc||(yb=[])):"object"===typeof Fc&&null!==Fc&&Fc.$$typeof===Zh?Fc.toString():(yb=yb||[]).push(sd,Fc))}da&&(yb=yb||[]).push("style",da);var sd;if(J.updateQueue=yb)J.flags|=4}};var Jl=function(q,J,da,Qa){da!==Qa&&(J.flags|=4)};var Sk="function"===typeof WeakMap?WeakMap:Map,Kl="function"===typeof WeakSet?WeakSet:Set,Rk=Math.ceil,Qk=Th.ReactCurrentDispatcher,
gl=Th.ReactCurrentOwner,Ne=0,ah=null,Mg=null,fg=0,Wg=0,lk=Gc(0),bh=0,Qh=null,mj=0,dk=0,rh=0,Lj=0,Ok=null,Mk=0,dl=Infinity,ze=null,kj=!1,Lk=null,ki=null,Ci=!1,mk=null,Oj=90,ok=[],hl=[],Bi=null,jk=0,kk=null,Cg=-1,ai=0,ik=0,Nj=null,th=!1;var Ml=function(q,J,da){var Qa=J.lanes;if(null!==q)if(q.memoizedProps!==J.pendingProps||Lg.current)$h=!0;else if(0!==(da&Qa))$h=0!==(q.flags&16384)?!0:!1;else{$h=!1;switch(J.tag){case 3:Zb(J);Tg=Hd=null;fh=!1;break;case 5:Aa(J);break;case 1:Fe(J.type)&&If(J);break;case 4:Pe(J,
J.stateNode.containerInfo);break;case 10:Qa=J.memoizedProps.value;var ib=J.type._context;le(Ek,ib._currentValue);ib._currentValue=Qa;break;case 13:if(null!==J.memoizedState){if(0!==(da&J.child.childLanes))return qc(q,J,da);le(of,of.current&1);J=Ad(q,J,da);return null!==J?J.sibling:null}le(of,of.current&1);break;case 19:Qa=0!==(da&J.childLanes);if(0!==(q.flags&64)){if(Qa)return pd(q,J,da);J.flags|=64}ib=J.memoizedState;null!==ib&&(ib.rendering=null,ib.tail=null,ib.lastEffect=null);le(of,of.current);
if(Qa)break;else return null;case 23:case 24:return J.lanes=0,oa(q,J,da)}return Ad(q,J,da)}else $h=!1;J.lanes=0;switch(J.tag){case 2:Qa=J.type;null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2);q=J.pendingProps;ib=kc(J,Sg.current);$b(J,da);ib=de(null,J,Qa,q,ib,da);J.flags|=1;if("object"===typeof ib&&null!==ib&&"function"===typeof ib.render&&void 0===ib.$$typeof){J.tag=1;J.memoizedState=null;J.updateQueue=null;if(Fe(Qa)){var yb=!0;If(J)}else yb=!1;J.memoizedState=null!==ib.state&&void 0!==ib.state?
ib.state:null;gd(J);var Ob=Qa.getDerivedStateFromProps;"function"===typeof Ob&&ie(J,Qa,Ob,q);ib.updater=Fk;J.stateNode=ib;ib._reactInternals=J;We(J,Qa,q,da);J=Sb(null,J,Qa,!0,yb,da)}else J.tag=0,Jb(null,J,ib,da),J=J.child;return J;case 16:ib=J.elementType;a:{null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2);q=J.pendingProps;yb=ib._init;ib=yb(ib._payload);J.type=ib;yb=J.tag=oj(ib);q=Cb(ib,q);switch(yb){case 0:J=Va(null,J,ib,q,da);break a;case 1:J=xb(null,J,ib,q,da);break a;case 11:J=cc(null,
J,ib,q,da);break a;case 14:J=xc(null,J,ib,Cb(ib.type,q),Qa,da);break a}throw Error(k(306,ib,""));}return J;case 0:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),Va(q,J,Qa,ib,da);case 1:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),xb(q,J,Qa,ib,da);case 3:Zb(J);Qa=J.updateQueue;if(null===q||null===Qa)throw Error(k(282));Qa=J.pendingProps;ib=J.memoizedState;ib=null!==ib?ib.element:null;Mc(q,J);jd(J,Qa,null,da);Qa=J.memoizedState.element;if(Qa===ib)Tg=Hd=
null,fh=!1,J=Ad(q,J,da);else{ib=J.stateNode;if(yb=ib.hydrate)Tg=Od(J.stateNode.containerInfo.firstChild),Hd=J,yb=fh=!0;if(yb){q=ib.mutableSourceEagerHydrationData;if(null!=q)for(ib=0;ib<q.length;ib+=2)yb=q[ib],yb._workInProgressVersionPrimary=q[ib+1],jj.push(yb);da=Je(J,null,Qa,da);for(J.child=da;da;)da.flags=da.flags&-3|1024,da=da.sibling}else Jb(q,J,Qa,da),Tg=Hd=null,fh=!1;J=J.child}return J;case 5:return Aa(J),null===q&&ic(J),Qa=J.type,ib=J.pendingProps,yb=null!==q?q.memoizedProps:null,Ob=ib.children,
kf(Qa,ib)?Ob=null:null!==yb&&kf(Qa,yb)&&(J.flags|=16),Oa(q,J),Jb(q,J,Ob,da),J.child;case 6:return null===q&&ic(J),null;case 13:return qc(q,J,da);case 4:return Pe(J,J.stateNode.containerInfo),Qa=J.pendingProps,null===q?J.child=Jk(J,null,Qa,da):Jb(q,J,Qa,da),J.child;case 11:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),cc(q,J,Qa,ib,da);case 7:return Jb(q,J,J.pendingProps,da),J.child;case 8:return Jb(q,J,J.pendingProps.children,da),J.child;case 12:return Jb(q,J,J.pendingProps.children,
da),J.child;case 10:a:{Qa=J.type._context;ib=J.pendingProps;Ob=J.memoizedProps;yb=ib.value;var fc=J.type._context;le(Ek,fc._currentValue);fc._currentValue=yb;if(null!==Ob)if(fc=Ob.value,yb=bf(fc,yb)?0:("function"===typeof Qa._calculateChangedBits?Qa._calculateChangedBits(fc,yb):1073741823)|0,0===yb){if(Ob.children===ib.children&&!Lg.current){J=Ad(q,J,da);break a}}else for(fc=J.child,null!==fc&&(fc.return=J);null!==fc;){var Fc=fc.dependencies;if(null!==Fc){Ob=fc.child;for(var sd=Fc.firstContext;null!==
sd;){if(sd.context===Qa&&0!==(sd.observedBits&yb)){1===fc.tag&&(sd=Nd(-1,da&-da),sd.tag=2,od(fc,sd));fc.lanes|=da;sd=fc.alternate;null!==sd&&(sd.lanes|=da);Yb(fc.return,da);Fc.lanes|=da;break}sd=sd.next}}else Ob=10===fc.tag?fc.type===J.type?null:fc.child:fc.child;if(null!==Ob)Ob.return=fc;else for(Ob=fc;null!==Ob;){if(Ob===J){Ob=null;break}fc=Ob.sibling;if(null!==fc){fc.return=Ob.return;Ob=fc;break}Ob=Ob.return}fc=Ob}Jb(q,J,ib.children,da);J=J.child}return J;case 9:return ib=J.type,yb=J.pendingProps,
Qa=yb.children,$b(J,da),ib=Oc(ib,yb.unstable_observedBits),Qa=Qa(ib),J.flags|=1,Jb(q,J,Qa,da),J.child;case 14:return ib=J.type,yb=Cb(ib,J.pendingProps),yb=Cb(ib.type,yb),xc(q,J,ib,yb,Qa,da);case 15:return Y(q,J,J.type,J.pendingProps,Qa,da);case 17:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2),J.tag=1,Fe(Qa)?(q=!0,If(J)):q=!1,$b(J,da),tf(J,Qa,ib),We(J,Qa,ib,da),Sb(null,J,Qa,!0,q,da);case 19:return pd(q,J,da);case 23:return oa(q,
J,da);case 24:return oa(q,J,da)}throw Error(k(156,J.tag));};rj.prototype.render=function(q){qj(q,this._internalRoot,null,null)};rj.prototype.unmount=function(){var q=this._internalRoot,J=q.containerInfo;qj(null,q,null,function(){J[Ej]=null})};var zk=function(q){if(13===q.tag){var J=bd();ud(q,4,J);Qj(q,4)}};var ol=function(q){if(13===q.tag){var J=bd();ud(q,67108864,J);Qj(q,67108864)}};var Jh=function(q){if(13===q.tag){var J=bd(),da=Jc(q);ud(q,da,J);Qj(q,da)}};var nh=function(q,J){return J()};di=function(q,
J,da){switch(J){case "input":K(q,da);J=da.name;if("radio"===da.type&&null!=J){for(da=q;da.parentNode;)da=da.parentNode;da=da.querySelectorAll("input[name\x3d"+JSON.stringify(""+J)+'][type\x3d"radio"]');for(J=0;J<da.length;J++){var Qa=da[J];if(Qa!==q&&Qa.form===q.form){var ib=Ye(Qa);if(!ib)throw Error(k(90));O(Qa);K(Qa,ib)}}}break;case "textarea":P(q,da);break;case "select":J=da.value,null!=J&&ha(q,!!da.multiple,J,!1)}};Da=pe;ta=function(q,J,da,Qa,ib){var yb=Ne;Ne|=4;try{return yc(98,q.bind(null,J,
da,Qa,ib))}finally{Ne=yb,0===Ne&&(rd(),Ea())}};U=function(){0===(Ne&49)&&(ke(),sh())};mg=function(q,J){var da=Ne;Ne|=2;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}};var wj={Events:[Ge,Td,Ye,Ta,Ya,sh,{current:!1}]},vk={findFiberByHostInstance:jf,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Ol={bundleType:vk.bundleType,version:vk.version,rendererPackageName:vk.rendererPackageName,rendererConfig:vk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,
overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Th.ReactCurrentDispatcher,findHostInstanceByFiber:function(q){q=Ca(q);return null===q?null:q.stateNode},findFiberByHostInstance:vk.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;
if(!Yg.isDisabled&&Yg.supportsFiber)try{el=Yg.inject(Ol),lj=Yg}catch(q){}}E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wj;E.createPortal=oi;E.findDOMNode=function(q){if(null==q)return null;if(1===q.nodeType)return q;var J=q._reactInternals;if(void 0===J){if("function"===typeof q.render)throw Error(k(188));throw Error(k(268,Object.keys(q)));}q=Ca(J);return q=null===q?null:q.stateNode};E.flushSync=function(q,J){var da=Ne;if(0!==(da&48))return q(J);Ne|=1;try{if(q)return yc(99,q.bind(null,J))}finally{Ne=
da,Ea()}};E.hydrate=function(q,J,da){if(!sj(J))throw Error(k(200));return Wi(null,q,J,!0,da)};E.render=function(q,J,da){if(!sj(J))throw Error(k(200));return Wi(null,q,J,!1,da)};E.unmountComponentAtNode=function(q){if(!sj(q))throw Error(k(40));return q._reactRootContainer?(Re(function(){Wi(null,null,q,!1,function(){q._reactRootContainer=null;q[Ej]=null})}),!0):!1};E.unstable_batchedUpdates=pe;E.unstable_createPortal=function(q,J){return oi(q,J,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};E.unstable_renderSubtreeIntoContainer=function(q,J,da,Qa){if(!sj(da))throw Error(k(200));if(null==q||void 0===q._reactInternals)throw Error(k(38));return Wi(q,J,da,!1,Qa)};E.version="17.0.1"};
shadow$provide[12]=function(Ja,A,rb,E){function k(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k)}catch(l){console.error(l)}}k();rb.exports=A(7)};
shadow$provide[13]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=l():"function"===typeof define&&define.amd?define(l):(k="undefined"!==typeof globalThis?globalThis:k||self,k.marked=l())})(this,function(){function k(qa,Fa){for(var na=0;na<Fa.length;na++){var Ra=Fa[na];Ra.enumerable=Ra.enumerable||!1;Ra.configurable=!0;"value"in Ra&&(Ra.writable=!0);Object.defineProperty(qa,Ra.key,Ra)}}function l(qa,Fa,na){Fa&&k(qa.prototype,Fa);na&&k(qa,na);return qa}function w(qa,
Fa){if(qa){if("string"===typeof qa)return H(qa,Fa);var na=Object.prototype.toString.call(qa).slice(8,-1);"Object"===na&&qa.constructor&&(na=qa.constructor.name);if("Map"===na||"Set"===na)return Array.from(qa);if("Arguments"===na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(na))return H(qa,Fa)}}function H(qa,Fa){if(null==Fa||Fa>qa.length)Fa=qa.length;for(var na=0,Ra=Array(Fa);na<Fa;na++)Ra[na]=qa[na];return Ra}function N(qa,Fa){var na;if("undefined"===typeof Symbol||null==qa[Symbol.iterator]){if(Array.isArray(qa)||
(na=w(qa))||Fa&&qa&&"number"===typeof qa.length){na&&(qa=na);var Ra=0;return function(){return Ra>=qa.length?{done:!0}:{done:!1,value:qa[Ra++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}na=qa[Symbol.iterator]();return na.next.bind(na)}function x(qa){return qa.replace(M,function(Fa,na){na=na.toLowerCase();return"colon"===na?":":"#"===na.charAt(0)?"x"===na.charAt(1)?String.fromCharCode(parseInt(na.substring(2),
16)):String.fromCharCode(+na.substring(1)):""})}function v(qa,Fa,na){var Ra=qa.length;if(0===Ra)return"";for(var db=0;db<Ra;){var $a=qa.charAt(Ra-db-1);if($a!==Fa||na)if($a!==Fa&&na)db++;else break;else db++}return qa.substr(0,Ra-db)}function u(qa,Fa,na){var Ra=Fa.href;Fa=Fa.title?P(Fa.title):null;var db=qa[1].replace(/\\([\[\]])/g,"$1");return"!"!==qa[0].charAt(0)?{type:"link",raw:na,href:Ra,title:Fa,text:db}:{type:"image",raw:na,href:Ra,title:Fa,text:P(db)}}function m(qa,Fa){qa=qa.match(/^(\s+)(?:```)/);
if(null===qa)return Fa;var na=qa[1];return Fa.split("\n").map(function(Ra){var db=Ra.match(/^\s+/);return null===db?Ra:db[0].length>=na.length?Ra.slice(na.length):Ra}).join("\n")}function g(qa){return qa.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function d(qa){var Fa="",na,Ra=qa.length;for(na=0;na<Ra;na++){var db=qa.charCodeAt(na);.5<Math.random()&&(db="x"+
db.toString(16));Fa+="\x26#"+db+";"}return Fa}function f(qa,Fa,na){if("undefined"===typeof qa||null===qa)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(qa)+", string expected");"function"===typeof Fa&&(na=Fa,Fa=null);Fa=W({},f.defaults,Fa||{});ba(Fa);if(na){var Ra=Fa.highlight;try{var db=bb.lex(qa,Fa)}catch(pa){return na(pa)}var $a=function(pa){if(!pa)try{var Ha=U.parse(db,Fa)}catch(Ua){pa=
Ua}Fa.highlight=Ra;return pa?na(pa):na(null,Ha)};if(!Ra||3>Ra.length)return $a();delete Fa.highlight;if(!db.length)return $a();var Ca=0;f.walkTokens(db,function(pa){"code"===pa.type&&(Ca++,setTimeout(function(){Ra(pa.text,pa.lang,function(Ha,Ua){if(Ha)return $a(Ha);null!=Ua&&Ua!==pa.text&&(pa.text=Ua,pa.escaped=!0);Ca--;0===Ca&&$a()})},0))});0===Ca&&$a()}else try{var Ga=bb.lex(qa,Fa);Fa.walkTokens&&f.walkTokens(Ga,Fa.walkTokens);return U.parse(Ga,Fa)}catch(pa){pa.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(Fa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ca(pa.message+"",!0)+"\x3c/pre\x3e";throw pa;}}var a=function(qa){var Fa={exports:{}};return qa(Fa,Fa.exports),Fa.exports}(function(qa){function Fa(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}qa.exports={defaults:Fa(),getDefaults:Fa,
changeDefaults:function(na){qa.exports.defaults=na}}}),e=/[&<>"']/,n=/[&<>"']/g,y=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,D={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},O=function(qa){return D[qa]},M=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,F=/(^|[^\[])\^/g,z=/[^\w:]/g,G=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,K={},R=/^[^:]+:\/*[^/]*$/,T=/^([^:]+:)[\s\S]*$/,ja=/^([^:]+:\/*[^/]*)[\s\S]*$/,fa=function(qa,Fa){if(Fa){if(e.test(qa))return qa.replace(n,O)}else if(y.test(qa))return qa.replace(B,
O);return qa},ha=function(qa){for(var Fa=1,na,Ra;Fa<arguments.length;Fa++)for(Ra in na=arguments[Fa],na)Object.prototype.hasOwnProperty.call(na,Ra)&&(qa[Ra]=na[Ra]);return qa},la=a.defaults,Z=function(qa,Fa){qa=qa.replace(/\|/g,function(Ra,db,$a){for(Ra=!1;0<=--db&&"\\"===$a[db];)Ra=!Ra;return Ra?"|":" |"}).split(/ \|/);var na=0;if(qa.length>Fa)qa.splice(Fa);else for(;qa.length<Fa;)qa.push("");for(;na<qa.length;na++)qa[na]=qa[na].trim().replace(/\\\|/g,"|");return qa},P=fa,C=function(){function qa(na){this.options=
na||la}var Fa=qa.prototype;Fa.space=function(na){if(na=this.rules.block.newline.exec(na))return 1<na[0].length?{type:"space",raw:na[0]}:{raw:"\n"}};Fa.code=function(na){if(na=this.rules.block.code.exec(na)){var Ra=na[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:na[0],codeBlockStyle:"indented",text:this.options.pedantic?Ra:v(Ra,"\n")}}};Fa.fences=function(na){if(na=this.rules.block.fences.exec(na)){var Ra=na[0],db=m(Ra,na[3]||"");return{type:"code",raw:Ra,lang:na[2]?na[2].trim():na[2],text:db}}};
Fa.heading=function(na){if(na=this.rules.block.heading.exec(na)){var Ra=na[2].trim();if(/#$/.test(Ra)){var db=v(Ra,"#");if(this.options.pedantic)Ra=db.trim();else if(!db||/ $/.test(db))Ra=db.trim()}return{type:"heading",raw:na[0],depth:na[1].length,text:Ra}}};Fa.nptable=function(na){if(na=this.rules.block.nptable.exec(na))if(na={type:"table",header:Z(na[1].replace(/^ *| *\| *$/g,"")),align:na[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:na[3]?na[3].replace(/\n$/,"").split("\n"):[],raw:na[0]},
na.header.length===na.align.length){var Ra=na.align.length,db;for(db=0;db<Ra;db++)/^ *-+: *$/.test(na.align[db])?na.align[db]="right":/^ *:-+: *$/.test(na.align[db])?na.align[db]="center":/^ *:-+ *$/.test(na.align[db])?na.align[db]="left":na.align[db]=null;Ra=na.cells.length;for(db=0;db<Ra;db++)na.cells[db]=Z(na.cells[db],na.header.length);return na}};Fa.hr=function(na){if(na=this.rules.block.hr.exec(na))return{type:"hr",raw:na[0]}};Fa.blockquote=function(na){if(na=this.rules.block.blockquote.exec(na)){var Ra=
na[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:na[0],text:Ra}}};Fa.list=function(na){var Ra=this.rules.block.list.exec(na);if(Ra){na=Ra[0];var db=Ra[2],$a=1<db.length,Ca={type:"list",raw:na,ordered:$a,start:$a?+db.slice(0,-1):"",loose:!1,items:[]};Ra=Ra[0].match(this.rules.block.item);var Ga=!1,pa,Ha=Ra.length;var Ua=this.rules.block.listItemStart.exec(Ra[0]);for(var jb=0;jb<Ha;jb++){na=pa=Ra[jb];if(jb!==Ha-1){var Fb=this.rules.block.listItemStart.exec(Ra[jb+1]);if(this.options.pedantic?
Fb[1].length>Ua[1].length:Fb[1].length>Ua[0].length||3<Fb[1].length){Ra.splice(jb,2,Ra[jb]+"\n"+Ra[jb+1]);jb--;Ha--;continue}else if(!this.options.pedantic||this.options.smartLists?Fb[2][Fb[2].length-1]!==db[db.length-1]:$a===(1===Fb[2].length))Ua=Ra.slice(jb+1).join("\n"),Ca.raw=Ca.raw.substring(0,Ca.raw.length-Ua.length),jb=Ha-1;Ua=Fb}Fb=pa.length;pa=pa.replace(/^ *([*+-]|\d+[.)]) ?/,"");~pa.indexOf("\n ")&&(Fb-=pa.length,pa=this.options.pedantic?pa.replace(/^ {1,4}/gm,""):pa.replace(new RegExp("^ {1,"+
Fb+"}","gm"),""));Fb=Ga||/\n\n(?!\s*$)/.test(pa);jb!==Ha-1&&(Ga="\n"===pa.charAt(pa.length-1),Fb||(Fb=Ga));Fb&&(Ca.loose=!0);if(this.options.gfm){var Xb=/^\[[ xX]\] /.test(pa);var nc=void 0;Xb&&(nc=" "!==pa[1],pa=pa.replace(/^\[[ xX]\] +/,""))}Ca.items.push({type:"list_item",raw:na,task:Xb,checked:nc,loose:Fb,text:pa})}return Ca}};Fa.html=function(na){if(na=this.rules.block.html.exec(na))return{type:this.options.sanitize?"paragraph":"html",raw:na[0],pre:!this.options.sanitizer&&("pre"===na[1]||"script"===
na[1]||"style"===na[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]}};Fa.def=function(na){if(na=this.rules.block.def.exec(na))return na[3]&&(na[3]=na[3].substring(1,na[3].length-1)),{tag:na[1].toLowerCase().replace(/\s+/g," "),raw:na[0],href:na[2],title:na[3]}};Fa.table=function(na){var Ra=this.rules.block.table.exec(na);if(Ra&&(na={type:"table",header:Z(Ra[1].replace(/^ *| *\| *$/g,"")),align:Ra[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ra[3]?
Ra[3].replace(/\n$/,"").split("\n"):[]},na.header.length===na.align.length)){na.raw=Ra[0];Ra=na.align.length;var db;for(db=0;db<Ra;db++)/^ *-+: *$/.test(na.align[db])?na.align[db]="right":/^ *:-+: *$/.test(na.align[db])?na.align[db]="center":/^ *:-+ *$/.test(na.align[db])?na.align[db]="left":na.align[db]=null;Ra=na.cells.length;for(db=0;db<Ra;db++)na.cells[db]=Z(na.cells[db].replace(/^ *\| *| *\| *$/g,""),na.header.length);return na}};Fa.lheading=function(na){if(na=this.rules.block.lheading.exec(na))return{type:"heading",
raw:na[0],depth:"\x3d"===na[2].charAt(0)?1:2,text:na[1]}};Fa.paragraph=function(na){if(na=this.rules.block.paragraph.exec(na))return{type:"paragraph",raw:na[0],text:"\n"===na[1].charAt(na[1].length-1)?na[1].slice(0,-1):na[1]}};Fa.text=function(na){if(na=this.rules.block.text.exec(na))return{type:"text",raw:na[0],text:na[0]}};Fa.escape=function(na){if(na=this.rules.inline.escape.exec(na))return{type:"escape",raw:na[0],text:P(na[1])}};Fa.tag=function(na,Ra,db){if(na=this.rules.inline.tag.exec(na))return!Ra&&
/^<a /i.test(na[0])?Ra=!0:Ra&&/^<\/a>/i.test(na[0])&&(Ra=!1),!db&&/^<(pre|code|kbd|script)(\s|>)/i.test(na[0])?db=!0:db&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(na[0])&&(db=!1),{type:this.options.sanitize?"text":"html",raw:na[0],inLink:Ra,inRawBlock:db,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]}};Fa.link=function(na){if(na=this.rules.inline.link.exec(na)){var Ra=na[2].trim();if(!this.options.pedantic&&/^</.test(Ra)){if(!/>$/.test(Ra))return;var db=
v(Ra.slice(0,-1),"\\");if(0===(Ra.length-db.length)%2)return}else{a:{db=na[2];if(-1!==db.indexOf(")"))for(var $a=db.length,Ca=0,Ga=0;Ga<$a;Ga++)if("\\"===db[Ga])Ga++;else if("("===db[Ga])Ca++;else if(")"===db[Ga]&&(Ca--,0>Ca)){db=Ga;break a}db=-1}-1<db&&($a=(0===na[0].indexOf("!")?5:4)+na[1].length+db,na[2]=na[2].substring(0,db),na[0]=na[0].substring(0,$a).trim(),na[3]="")}db=na[2];$a="";if(this.options.pedantic){if(Ca=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(db))db=Ca[1],$a=Ca[3]}else $a=na[3]?na[3].slice(1,
-1):"";db=db.trim();/^</.test(db)&&(db=this.options.pedantic&&!/>$/.test(Ra)?db.slice(1):db.slice(1,-1));return u(na,{href:db?db.replace(this.rules.inline._escapes,"$1"):db,title:$a?$a.replace(this.rules.inline._escapes,"$1"):$a},na[0])}};Fa.reflink=function(na,Ra){var db;if((db=this.rules.inline.reflink.exec(na))||(db=this.rules.inline.nolink.exec(na)))return na=(db[2]||db[1]).replace(/\s+/g," "),na=Ra[na.toLowerCase()],na&&na.href?u(db,na,db[0]):(Ra=db[0].charAt(0),{type:"text",raw:Ra,text:Ra})};
Fa.emStrong=function(na,Ra,db){void 0===db&&(db="");var $a=this.rules.inline.emStrong.lDelim.exec(na);if($a&&(!$a[3]||!db.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ca=
$a[1]||$a[2]||"";if(!Ca||Ca&&(""===db||this.rules.inline.punctuation.exec(db))){db=$a[0].length-1;var Ga;Ca=db;var pa=0,Ha="*"===$a[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;Ha.lastIndex=0;for(Ra=Ra.slice(-1*na.length+db);null!=($a=Ha.exec(Ra));)if(Ga=$a[1]||$a[2]||$a[3]||$a[4]||$a[5]||$a[6])if(Ga=Ga.length,$a[3]||$a[4])Ca+=Ga;else if(($a[5]||$a[6])&&db%3&&!((db+Ga)%3))pa+=Ga;else if(Ca-=Ga,!(0<Ca)){0>=Ca+pa-Ga&&!Ra.slice(Ha.lastIndex).match(Ha)&&(Ga=Math.min(Ga,
Ga+Ca+pa));if(Math.min(db,Ga)%2)return{type:"em",raw:na.slice(0,db+$a.index+Ga+1),text:na.slice(1,db+$a.index+Ga)};if(0===Math.min(db,Ga)%2)return{type:"strong",raw:na.slice(0,db+$a.index+Ga+1),text:na.slice(2,db+$a.index+Ga-1)}}}}};Fa.codespan=function(na){if(na=this.rules.inline.code.exec(na)){var Ra=na[2].replace(/\n/g," "),db=/[^ ]/.test(Ra),$a=/^ /.test(Ra)&&/ $/.test(Ra);db&&$a&&(Ra=Ra.substring(1,Ra.length-1));Ra=P(Ra,!0);return{type:"codespan",raw:na[0],text:Ra}}};Fa.br=function(na){if(na=
this.rules.inline.br.exec(na))return{type:"br",raw:na[0]}};Fa.del=function(na){if(na=this.rules.inline.del.exec(na))return{type:"del",raw:na[0],text:na[2]}};Fa.autolink=function(na,Ra){if(na=this.rules.inline.autolink.exec(na)){if("@"===na[2]){Ra=P(this.options.mangle?Ra(na[1]):na[1]);var db="mailto:"+Ra}else db=Ra=P(na[1]);return{type:"link",raw:na[0],text:Ra,href:db,tokens:[{type:"text",raw:Ra,text:Ra}]}}};Fa.url=function(na,Ra){if(na=this.rules.inline.url.exec(na)){if("@"===na[2]){Ra=P(this.options.mangle?
Ra(na[0]):na[0]);var db="mailto:"+Ra}else{do Ra=na[0],na[0]=this.rules.inline._backpedal.exec(na[0])[0];while(Ra!==na[0]);Ra=P(na[0]);db="www."===na[1]?"http://"+Ra:Ra}return{type:"link",raw:na[0],text:Ra,href:db,tokens:[{type:"text",raw:Ra,text:Ra}]}}};Fa.inlineText=function(na,Ra,db){if(na=this.rules.inline.text.exec(na))return Ra=Ra?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]:P(this.options.smartypants?db(na[0]):na[0]),{type:"text",raw:na[0],text:Ra}};
return qa}(),V={exec:function(){}},ia=function(qa,Fa){qa=qa.source||qa;Fa=Fa||"";var na={replace:function(Ra,db){db=db.source||db;db=db.replace(F,"$1");qa=qa.replace(Ra,db);return na},getRegex:function(){return new RegExp(qa,Fa)}};return na},aa={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:V,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};aa.def=ia(aa.def).replace("label",aa._label).replace("title",aa._title).getRegex();aa.bullet=/(?:[*+-]|\d{1,9}[.)])/;aa.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
aa.item=ia(aa.item,"gm").replace(/bull/g,aa.bullet).getRegex();aa.listItemStart=ia(/^( *)(bull)/).replace("bull",aa.bullet).getRegex();aa.list=ia(aa.list).replace(/bull/g,aa.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+aa.def.source+")").getRegex();aa._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
aa._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;aa.html=ia(aa.html,"i").replace("comment",aa._comment).replace("tag",aa._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();aa.paragraph=ia(aa._paragraph).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.blockquote=ia(aa.blockquote).replace("paragraph",aa.paragraph).getRegex();aa.normal=ha({},aa);aa.gfm=ha({},aa.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});aa.gfm.nptable=
ia(aa.gfm.nptable).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.gfm.table=ia(aa.gfm.table).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences",
" {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.pedantic=ha({},aa.normal,{html:ia("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",aa._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,paragraph:ia(aa.normal._paragraph).replace("hr",aa.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",aa.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ya={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/__[^_]*?\*[^_]*?__|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
rDelimUnd:/\*\*[^*]*?_[^*]*?\*\*|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};ya.punctuation=ia(ya.punctuation).replace(/punctuation/g,ya._punctuation).getRegex();
ya.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ya.escapedEmSt=/\\\*|\\_/g;ya._comment=ia(aa._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();ya.emStrong.lDelim=ia(ya.emStrong.lDelim).replace(/punct/g,ya._punctuation).getRegex();ya.emStrong.rDelimAst=ia(ya.emStrong.rDelimAst,"g").replace(/punct/g,ya._punctuation).getRegex();ya.emStrong.rDelimUnd=ia(ya.emStrong.rDelimUnd,"g").replace(/punct/g,ya._punctuation).getRegex();ya._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ya._scheme=
/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ya._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ya.autolink=ia(ya.autolink).replace("scheme",ya._scheme).replace("email",ya._email).getRegex();ya._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ya.tag=ia(ya.tag).replace("comment",ya._comment).replace("attribute",ya._attribute).getRegex();ya._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
ya._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ya._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ya.link=ia(ya.link).replace("label",ya._label).replace("href",ya._href).replace("title",ya._title).getRegex();ya.reflink=ia(ya.reflink).replace("label",ya._label).getRegex();ya.reflinkSearch=ia(ya.reflinkSearch,"g").replace("reflink",ya.reflink).replace("nolink",ya.nolink).getRegex();ya.normal=ha({},ya);ya.pedantic=ha({},ya.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ia(/^!?\[(label)\]\((.*?)\)/).replace("label",ya._label).getRegex(),reflink:ia(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ya._label).getRegex()});ya.gfm=ha({},ya.normal,{escape:ia(ya.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});ya.gfm.url=ia(ya.gfm.url,"i").replace("email",ya.gfm._extended_email).getRegex();ya.breaks=ha({},ya.gfm,{br:ia(ya.br).replace("{2,}","*").getRegex(),
text:ia(ya.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var va=a.defaults,Ia=function(qa,Fa){if(1>Fa)return"";for(var na="";1<Fa;)Fa&1&&(na+=qa),Fa>>=1,qa+=qa;return na+qa},bb=function(){function qa(na){this.tokens=[];this.tokens.links=Object.create(null);this.options=na||va;this.options.tokenizer=this.options.tokenizer||new C;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;na={block:aa.normal,inline:ya.normal};this.options.pedantic?(na.block=
aa.pedantic,na.inline=ya.pedantic):this.options.gfm&&(na.block=aa.gfm,na.inline=this.options.breaks?ya.breaks:ya.gfm);this.tokenizer.rules=na}qa.lex=function(na,Ra){return(new qa(Ra)).lex(na)};qa.lexInline=function(na,Ra){return(new qa(Ra)).inlineTokens(na)};var Fa=qa.prototype;Fa.lex=function(na){na=na.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(na,this.tokens,!0);this.inline(this.tokens);return this.tokens};Fa.blockTokens=function(na,Ra,db){void 0===Ra&&(Ra=[]);void 0===db&&
(db=!0);this.options.pedantic&&(na=na.replace(/^ +$/gm,""));for(var $a,Ca,Ga;na;)if($a=this.tokenizer.space(na))na=na.substring($a.raw.length),$a.type&&Ra.push($a);else if($a=this.tokenizer.code(na))na=na.substring($a.raw.length),(Ca=Ra[Ra.length-1])&&"paragraph"===Ca.type?(Ca.raw+="\n"+$a.raw,Ca.text+="\n"+$a.text):Ra.push($a);else if($a=this.tokenizer.fences(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.heading(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=
this.tokenizer.nptable(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.hr(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.blockquote(na))na=na.substring($a.raw.length),$a.tokens=this.blockTokens($a.text,[],db),Ra.push($a);else if($a=this.tokenizer.list(na)){na=na.substring($a.raw.length);Ga=$a.items.length;for(Ca=0;Ca<Ga;Ca++)$a.items[Ca].tokens=this.blockTokens($a.items[Ca].text,[],!1);Ra.push($a)}else if($a=this.tokenizer.html(na))na=na.substring($a.raw.length),
Ra.push($a);else if(db&&($a=this.tokenizer.def(na)))na=na.substring($a.raw.length),this.tokens.links[$a.tag]||(this.tokens.links[$a.tag]={href:$a.href,title:$a.title});else if($a=this.tokenizer.table(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.lheading(na))na=na.substring($a.raw.length),Ra.push($a);else if(db&&($a=this.tokenizer.paragraph(na)))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.text(na))na=na.substring($a.raw.length),(Ca=Ra[Ra.length-
1])&&"text"===Ca.type?(Ca.raw+="\n"+$a.raw,Ca.text+="\n"+$a.text):Ra.push($a);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);return Ra};Fa.inline=function(na){var Ra,db,$a,Ca=na.length;for(Ra=0;Ra<Ca;Ra++){var Ga=na[Ra];switch(Ga.type){case "paragraph":case "text":case "heading":Ga.tokens=[];this.inlineTokens(Ga.text,Ga.tokens);break;case "table":Ga.tokens={header:[],cells:[]};var pa=Ga.header.length;for(db=0;db<pa;db++)Ga.tokens.header[db]=
[],this.inlineTokens(Ga.header[db],Ga.tokens.header[db]);pa=Ga.cells.length;for(db=0;db<pa;db++){var Ha=Ga.cells[db];Ga.tokens.cells[db]=[];for($a=0;$a<Ha.length;$a++)Ga.tokens.cells[db][$a]=[],this.inlineTokens(Ha[$a],Ga.tokens.cells[db][$a])}break;case "blockquote":this.inline(Ga.tokens);break;case "list":for(pa=Ga.items.length,db=0;db<pa;db++)this.inline(Ga.items[db].tokens)}}return na};Fa.inlineTokens=function(na,Ra,db,$a){void 0===Ra&&(Ra=[]);void 0===db&&(db=!1);void 0===$a&&($a=!1);var Ca,
Ga=na,pa;if(this.tokens.links){var Ha=Object.keys(this.tokens.links);if(0<Ha.length)for(;null!=(Ca=this.tokenizer.rules.inline.reflinkSearch.exec(Ga));)Ha.includes(Ca[0].slice(Ca[0].lastIndexOf("[")+1,-1))&&(Ga=Ga.slice(0,Ca.index)+"["+Ia("a",Ca[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ca=this.tokenizer.rules.inline.blockSkip.exec(Ga));)Ga=Ga.slice(0,Ca.index)+"["+Ia("a",Ca[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
for(;null!=(Ca=this.tokenizer.rules.inline.escapedEmSt.exec(Ga));)Ga=Ga.slice(0,Ca.index)+"++"+Ga.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;na;){Ua||(pa="");var Ua=!1;if(Ca=this.tokenizer.escape(na))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.tag(na,db,$a))na=na.substring(Ca.raw.length),db=Ca.inLink,$a=Ca.inRawBlock,(Ha=Ra[Ra.length-1])&&"text"===Ca.type&&"text"===Ha.type?(Ha.raw+=Ca.raw,Ha.text+=Ca.text):Ra.push(Ca);else if(Ca=this.tokenizer.link(na))na=
na.substring(Ca.raw.length),"link"===Ca.type&&(Ca.tokens=this.inlineTokens(Ca.text,[],!0,$a)),Ra.push(Ca);else if(Ca=this.tokenizer.reflink(na,this.tokens.links))na=na.substring(Ca.raw.length),Ha=Ra[Ra.length-1],"link"===Ca.type?(Ca.tokens=this.inlineTokens(Ca.text,[],!0,$a),Ra.push(Ca)):Ha&&"text"===Ca.type&&"text"===Ha.type?(Ha.raw+=Ca.raw,Ha.text+=Ca.text):Ra.push(Ca);else if(Ca=this.tokenizer.emStrong(na,Ga,pa))na=na.substring(Ca.raw.length),Ca.tokens=this.inlineTokens(Ca.text,[],db,$a),Ra.push(Ca);
else if(Ca=this.tokenizer.codespan(na))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.br(na))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.del(na))na=na.substring(Ca.raw.length),Ca.tokens=this.inlineTokens(Ca.text,[],db,$a),Ra.push(Ca);else if(Ca=this.tokenizer.autolink(na,d))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(!db&&(Ca=this.tokenizer.url(na,d)))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.inlineText(na,$a,g))na=na.substring(Ca.raw.length),
"_"!==Ca.raw.slice(-1)&&(pa=Ca.raw.slice(-1)),Ua=!0,(Ha=Ra[Ra.length-1])&&"text"===Ha.type?(Ha.raw+=Ca.raw,Ha.text+=Ca.text):Ra.push(Ca);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);}return Ra};l(qa,null,[{key:"rules",get:function(){return{block:aa,inline:ya}}}]);return qa}(),kb=a.defaults,ua=function(qa,Fa,na){if(qa){try{var Ra=decodeURIComponent(x(na)).replace(z,"").toLowerCase()}catch(db){return null}if(0===Ra.indexOf("javascript:")||
0===Ra.indexOf("vbscript:")||0===Ra.indexOf("data:"))return null}Fa&&!G.test(na)&&(qa=Fa,K[" "+qa]||(R.test(qa)?K[" "+qa]=qa+"/":K[" "+qa]=v(qa,"/",!0)),qa=K[" "+qa],Fa=-1===qa.indexOf(":"),na="//"===na.substring(0,2)?Fa?na:qa.replace(T,"$1")+na:"/"===na.charAt(0)?Fa?na:qa.replace(ja,"$1")+na:qa+na);try{na=encodeURI(na).replace(/%25/g,"%")}catch(db){return null}return na},Ta=function(){function qa(na){this.options=na||kb}var Fa=qa.prototype;Fa.code=function(na,Ra,db){Ra=(Ra||"").match(/\S*/)[0];if(this.options.highlight){var $a=
this.options.highlight(na,Ra);null!=$a&&$a!==na&&(db=!0,na=$a)}na=na.replace(/\n$/,"")+"\n";return Ra?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+fa(Ra,!0)+'"\x3e'+(db?na:fa(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(db?na:fa(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Fa.blockquote=function(na){return"\x3cblockquote\x3e\n"+na+"\x3c/blockquote\x3e\n"};Fa.html=function(na){return na};Fa.heading=function(na,Ra,db,$a){return this.options.headerIds?"\x3ch"+Ra+' id\x3d"'+
this.options.headerPrefix+$a.slug(db)+'"\x3e'+na+"\x3c/h"+Ra+"\x3e\n":"\x3ch"+Ra+"\x3e"+na+"\x3c/h"+Ra+"\x3e\n"};Fa.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};Fa.list=function(na,Ra,db){var $a=Ra?"ol":"ul";return"\x3c"+$a+(Ra&&1!==db?' start\x3d"'+db+'"':"")+"\x3e\n"+na+"\x3c/"+$a+"\x3e\n"};Fa.listitem=function(na){return"\x3cli\x3e"+na+"\x3c/li\x3e\n"};Fa.checkbox=function(na){return"\x3cinput "+(na?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?
" /":"")+"\x3e "};Fa.paragraph=function(na){return"\x3cp\x3e"+na+"\x3c/p\x3e\n"};Fa.table=function(na,Ra){Ra&&(Ra="\x3ctbody\x3e"+Ra+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+na+"\x3c/thead\x3e\n"+Ra+"\x3c/table\x3e\n"};Fa.tablerow=function(na){return"\x3ctr\x3e\n"+na+"\x3c/tr\x3e\n"};Fa.tablecell=function(na,Ra){var db=Ra.header?"th":"td";return(Ra.align?"\x3c"+db+' align\x3d"'+Ra.align+'"\x3e':"\x3c"+db+"\x3e")+na+"\x3c/"+db+"\x3e\n"};Fa.strong=function(na){return"\x3cstrong\x3e"+
na+"\x3c/strong\x3e"};Fa.em=function(na){return"\x3cem\x3e"+na+"\x3c/em\x3e"};Fa.codespan=function(na){return"\x3ccode\x3e"+na+"\x3c/code\x3e"};Fa.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};Fa.del=function(na){return"\x3cdel\x3e"+na+"\x3c/del\x3e"};Fa.link=function(na,Ra,db){na=ua(this.options.sanitize,this.options.baseUrl,na);if(null===na)return db;na='\x3ca href\x3d"'+fa(na)+'"';Ra&&(na+=' title\x3d"'+Ra+'"');return na+("\x3e"+db+"\x3c/a\x3e")};Fa.image=function(na,Ra,db){na=
ua(this.options.sanitize,this.options.baseUrl,na);if(null===na)return db;na='\x3cimg src\x3d"'+na+'" alt\x3d"'+db+'"';Ra&&(na+=' title\x3d"'+Ra+'"');return na+=this.options.xhtml?"/\x3e":"\x3e"};Fa.text=function(na){return na};return qa}(),Ya=function(){function qa(){}var Fa=qa.prototype;Fa.strong=function(na){return na};Fa.em=function(na){return na};Fa.codespan=function(na){return na};Fa.del=function(na){return na};Fa.html=function(na){return na};Fa.text=function(na){return na};Fa.link=function(na,
Ra,db){return""+db};Fa.image=function(na,Ra,db){return""+db};Fa.br=function(){return""};return qa}(),Da=function(){function qa(){this.seen={}}var Fa=qa.prototype;Fa.serialize=function(na){return na.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Fa.getNextSafeSlug=function(na,Ra){var db=na,$a=0;if(this.seen.hasOwnProperty(db)){$a=this.seen[na];do $a++,db=na+"-"+$a;while(this.seen.hasOwnProperty(db))}Ra||
(this.seen[na]=$a,this.seen[db]=0);return db};Fa.slug=function(na,Ra){void 0===Ra&&(Ra={});na=this.serialize(na);return this.getNextSafeSlug(na,Ra.dryrun)};return qa}(),ta=a.defaults,U=function(){function qa(na){this.options=na||ta;this.options.renderer=this.options.renderer||new Ta;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Ya;this.slugger=new Da}qa.parse=function(na,Ra){return(new qa(Ra)).parse(na)};qa.parseInline=function(na,Ra){return(new qa(Ra)).parseInline(na)};
var Fa=qa.prototype;Fa.parse=function(na,Ra){void 0===Ra&&(Ra=!0);var db="",$a,Ca,Ga,pa,Ha=na.length;for($a=0;$a<Ha;$a++){var Ua=na[$a];switch(Ua.type){case "space":continue;case "hr":db+=this.renderer.hr();continue;case "heading":db+=this.renderer.heading(this.parseInline(Ua.tokens),Ua.depth,x(this.parseInline(Ua.tokens,this.textRenderer)),this.slugger);continue;case "code":db+=this.renderer.code(Ua.text,Ua.lang,Ua.escaped);continue;case "table":var jb=pa="";var Fb=Ua.header.length;for(Ca=0;Ca<Fb;Ca++)jb+=
this.renderer.tablecell(this.parseInline(Ua.tokens.header[Ca]),{header:!0,align:Ua.align[Ca]});pa+=this.renderer.tablerow(jb);var Xb="";Fb=Ua.cells.length;for(Ca=0;Ca<Fb;Ca++){var nc=Ua.tokens.cells[Ca];jb="";var md=nc.length;for(Ga=0;Ga<md;Ga++)jb+=this.renderer.tablecell(this.parseInline(nc[Ga]),{header:!1,align:Ua.align[Ga]});Xb+=this.renderer.tablerow(jb)}db+=this.renderer.table(pa,Xb);continue;case "blockquote":Xb=this.parse(Ua.tokens);db+=this.renderer.blockquote(Xb);continue;case "list":Ga=
Ua.ordered;md=Ua.start;nc=Ua.loose;Fb=Ua.items.length;Xb="";for(Ca=0;Ca<Fb;Ca++){pa=Ua.items[Ca];var pc=pa.checked;var Hc=pa.task;jb="";if(pa.task){var mb=this.renderer.checkbox(pc);nc?0<pa.tokens.length&&"text"===pa.tokens[0].type?(pa.tokens[0].text=mb+" "+pa.tokens[0].text,pa.tokens[0].tokens&&0<pa.tokens[0].tokens.length&&"text"===pa.tokens[0].tokens[0].type&&(pa.tokens[0].tokens[0].text=mb+" "+pa.tokens[0].tokens[0].text)):pa.tokens.unshift({type:"text",text:mb}):jb+=mb}jb+=this.parse(pa.tokens,
nc);Xb+=this.renderer.listitem(jb,Hc,pc)}db+=this.renderer.list(Xb,Ga,md);continue;case "html":db+=this.renderer.html(Ua.text);continue;case "paragraph":db+=this.renderer.paragraph(this.parseInline(Ua.tokens));continue;case "text":for(Xb=Ua.tokens?this.parseInline(Ua.tokens):Ua.text;$a+1<Ha&&"text"===na[$a+1].type;)Ua=na[++$a],Xb+="\n"+(Ua.tokens?this.parseInline(Ua.tokens):Ua.text);db+=Ra?this.renderer.paragraph(Xb):Xb;continue;default:na='Token with "'+Ua.type+'" type was not found.';if(this.options.silent){console.error(na);
return}throw Error(na);}}return db};Fa.parseInline=function(na,Ra){Ra=Ra||this.renderer;var db="",$a,Ca=na.length;for($a=0;$a<Ca;$a++){var Ga=na[$a];switch(Ga.type){case "escape":db+=Ra.text(Ga.text);break;case "html":db+=Ra.html(Ga.text);break;case "link":db+=Ra.link(Ga.href,Ga.title,this.parseInline(Ga.tokens,Ra));break;case "image":db+=Ra.image(Ga.href,Ga.title,Ga.text);break;case "strong":db+=Ra.strong(this.parseInline(Ga.tokens,Ra));break;case "em":db+=Ra.em(this.parseInline(Ga.tokens,Ra));break;
case "codespan":db+=Ra.codespan(Ga.text);break;case "br":db+=Ra.br();break;case "del":db+=Ra.del(this.parseInline(Ga.tokens,Ra));break;case "text":db+=Ra.text(Ga.text);break;default:na='Token with "'+Ga.type+'" type was not found.';if(this.options.silent){console.error(na);return}throw Error(na);}}return db};return qa}(),W=ha,ba=function(qa){qa&&qa.sanitize&&!qa.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
ca=fa;ha=a.getDefaults;var ra=a.changeDefaults;a=a.defaults;f.options=f.setOptions=function(qa){W(f.defaults,qa);ra(f.defaults);return f};f.getDefaults=ha;f.defaults=a;f.use=function(qa){var Fa=W({},qa);qa.renderer&&function(){var Ra=f.defaults.renderer||new Ta,db=function(Ca){var Ga=Ra[Ca];Ra[Ca]=function(){for(var pa=arguments.length,Ha=Array(pa),Ua=0;Ua<pa;Ua++)Ha[Ua]=arguments[Ua];pa=qa.renderer[Ca].apply(Ra,Ha);!1===pa&&(pa=Ga.apply(Ra,Ha));return pa}},$a;for($a in qa.renderer)db($a);Fa.renderer=
Ra}();qa.tokenizer&&function(){var Ra=f.defaults.tokenizer||new C,db=function(Ca){var Ga=Ra[Ca];Ra[Ca]=function(){for(var pa=arguments.length,Ha=Array(pa),Ua=0;Ua<pa;Ua++)Ha[Ua]=arguments[Ua];pa=qa.tokenizer[Ca].apply(Ra,Ha);!1===pa&&(pa=Ga.apply(Ra,Ha));return pa}},$a;for($a in qa.tokenizer)db($a);Fa.tokenizer=Ra}();if(qa.walkTokens){var na=f.defaults.walkTokens;Fa.walkTokens=function(Ra){qa.walkTokens(Ra);na&&na(Ra)}}f.setOptions(Fa)};f.walkTokens=function(qa,Fa){qa=N(qa);for(var na;!(na=qa()).done;)switch(na=
na.value,Fa(na),na.type){case "table":for(var Ra=N(na.tokens.header),db;!(db=Ra()).done;)f.walkTokens(db.value,Fa);for(na=N(na.tokens.cells);!(Ra=na()).done;)for(Ra=N(Ra.value);!(db=Ra()).done;)f.walkTokens(db.value,Fa);break;case "list":f.walkTokens(na.items,Fa);break;default:na.tokens&&f.walkTokens(na.tokens,Fa)}};f.parseInline=function(qa,Fa){if("undefined"===typeof qa||null===qa)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(qa)+", string expected");Fa=W({},f.defaults,Fa||{});ba(Fa);try{var na=bb.lexInline(qa,Fa);Fa.walkTokens&&f.walkTokens(na,Fa.walkTokens);return U.parseInline(na,Fa)}catch(Ra){Ra.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Fa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ca(Ra.message+"",!0)+"\x3c/pre\x3e";throw Ra;}};f.Parser=U;f.parser=U.parse;f.Renderer=Ta;f.TextRenderer=Ya;f.Lexer=bb;f.lexer=bb.lex;f.Tokenizer=C;f.Slugger=
Da;return f.parse=f})};
shadow$provide[14]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={}))})(this,function(k){function l(ta,U,W){ta.fields=U||[];ta.fname=W;return ta}function w(ta){return null==ta?null:ta.fields}function H(ta){return 1===ta.length?R(ta[0]):T(ta)}function N(ta){throw Error(ta);}function x(ta){function U(){W.push(qa+ta.substring(Fa,na));qa="";
Fa=na+1}const W=[],ba=ta.length;let ca=null,ra=0,qa="",Fa,na,Ra;ta+="";for(Fa=na=0;na<ba;++na)(Ra=ta[na],"\\"===Ra)?(qa+=ta.substring(Fa,na),qa+=ta.substring(++na,++na),Fa=na):Ra===ca?(U(),ca=null,ra=-1):ca||(Fa===ra&&'"'===Ra?(Fa=na+1,ca=Ra):Fa===ra&&"'"===Ra?(Fa=na+1,ca=Ra):"."!==Ra||ra?"["===Ra?(na>Fa&&U(),ra=Fa=na+1):"]"===Ra&&(ra||N("Access path missing open bracket: "+ta),0<ra&&U(),ra=0,Fa=na+1):na>Fa?U():Fa=na+1);ra&&N("Access path missing closing bracket: "+ta);ca&&N("Access path missing closing quote: "+
ta);na>Fa&&(na++,U());return W}function v(ta,U,W){const ba=x(ta);ta=1===ba.length?ba[0]:ta;return l((W&&W.get||H)(ba),[ta],U||ta)}function u(ta,U,W){U=[U].concat([].slice.call(W));console[ta].apply(console,U)}function m(ta){return ta===Object(ta)}function g(ta,U,W,ba){if("__proto__"!==U){var ca;if(m(W)&&!C(W))for(ca in ta=m(ta[U])?ta[U]:ta[U]={},W)ba&&(!0===ba||ba[ca])?g(ta,ca,W[ca]):"__proto__"!==ca&&(ta[ca]=W[ca]);else ta[U]=W}}function d(ta,U){function W(ra){ba[ra.name]||(ba[ra.name]=1,ca.push(ra))}
if(null==ta)return U;const ba={},ca=[];U.forEach(W);ta.forEach(W);return ca}function f(ta){return ta[ta.length-1]}function a(ta){return null==ta||""===ta?null:+ta}function e(ta,U,W,ba){const ca=W(ta[0]);ta=W(f(ta));U*=ta-ca;return[ba(ca-U),ba(ta-U)]}function n(ta,U,W,ba,ca){const ra=ba(ta[0]);ta=ba(f(ta));U=null!=U?ba(U):(ra+ta)/2;return[ca(U+(ra-U)*W),ca(U+(ta-U)*W)]}function y(ta){return null!=ta?C(ta)?ta:[ta]:[]}function B(ta){return"function"===typeof ta}function D(ta){for(let U,W,ba=1,ca=arguments.length;ba<
ca;++ba)for(W in U=arguments[ba],U)ta[W]=U[W];return ta}function O(ta,U){return Ta.call(ta,U)}function M(ta){return"[object Date]"===Object.prototype.toString.call(ta)}function F(ta){return"number"===typeof ta}function z(ta){return"string"===typeof ta}function G(ta,U){let W="";for(;0<=--U;)W+=ta;return W}function K(ta){return C(ta)?"["+ta.map(K)+"]":m(ta)||z(ta)?JSON.stringify(ta).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ta}const R=ta=>function(U){return U[ta]},T=ta=>{const U=ta.length;
return function(W){for(let ba=0;ba<U;++ba)W=W[ta[ba]];return W}},ja=v("id"),fa=l(ta=>ta,[],"identity"),ha=l(()=>0,[],"zero"),la=l(()=>1,[],"one"),Z=l(()=>!0,[],"true"),P=l(()=>!1,[],"false");var C=Array.isArray;const V=ta=>U=>ta*Math.exp(U),ia=ta=>U=>Math.log(ta*U),aa=ta=>U=>Math.sign(U)*Math.log1p(Math.abs(U/ta)),ya=ta=>U=>Math.sign(U)*Math.expm1(Math.abs(U))*ta,va=ta=>U=>0>U?-Math.pow(-U,ta):Math.pow(U,ta),Ia=(ta,U)=>(ta<U||null==ta)&&null!=U?-1:(ta>U||null==U)&&null!=ta?1:(U=U instanceof Date?
+U:U,ta=ta instanceof Date?+ta:ta)!==ta&&U===U?-1:U!==U&&ta===ta?1:0,bb=(ta,U)=>1===ta.length?kb(ta[0],U[0]):ua(ta,U,ta.length),kb=(ta,U)=>function(W,ba){return Ia(ta(W),ta(ba))*U},ua=(ta,U,W)=>{U.push(0);return function(ba,ca){var ra=0;let qa=-1;for(;0===ra&&++qa<W;)ra=ta[qa],ra=Ia(ra(ba),ra(ca));return ra*U[qa]}},Ta=Object.prototype.hasOwnProperty,Ya={},Da=ta=>F(ta)?ta:M(ta)?ta:Date.parse(ta);k.Debug=4;k.Error=1;k.Info=3;k.None=0;k.Warn=2;k.accessor=l;k.accessorFields=w;k.accessorName=function(ta){return null==
ta?null:ta.fname};k.array=y;k.ascending=Ia;k.clampRange=function(ta,U,W){let ba=ta[0];ta=ta[1];let ca;ta<ba&&(ca=ta,ta=ba,ba=ca);ca=ta-ba;return ca>=W-U?[U,W]:[ba=Math.min(Math.max(ba,U),W-ca),ba+ca]};k.compare=function(ta,U,W){W=W||{};U=y(U)||[];const ba=[],ca=[],ra={},qa=W.comparator||bb;y(ta).forEach((Fa,na)=>{null!=Fa&&(ba.push("descending"===U[na]?-1:1),ca.push(Fa=B(Fa)?Fa:v(Fa,null,W)),(w(Fa)||[]).forEach(Ra=>ra[Ra]=1))});return 0===ca.length?null:l(qa(ca,ba),Object.keys(ra))};k.constant=function(ta){return B(ta)?
ta:()=>ta};k.debounce=function(ta,U){let W;return ba=>{W&&clearTimeout(W);W=setTimeout(()=>(U(ba),W=null),ta)}};k.error=N;k.extend=D;k.extent=function(ta,U){let W=0,ba,ca,ra,qa;if(ta&&(ba=ta.length))if(null==U){for(ca=ta[W];W<ba&&(null==ca||ca!==ca);ca=ta[++W]);for(ra=qa=ca;W<ba;++W)ca=ta[W],null!=ca&&(ca<ra&&(ra=ca),ca>qa&&(qa=ca))}else{for(ca=U(ta[W]);W<ba&&(null==ca||ca!==ca);ca=U(ta[++W]));for(ra=qa=ca;W<ba;++W)ca=U(ta[W]),null!=ca&&(ca<ra&&(ra=ca),ca>qa&&(qa=ca))}return[ra,qa]};k.extentIndex=
function(ta,U){const W=ta.length;let ba=-1,ca,ra,qa,Fa,na;if(null==U){for(;++ba<W;)if(ra=ta[ba],null!=ra&&ra>=ra){ca=qa=ra;break}if(ba===W)return[-1,-1];for(Fa=na=ba;++ba<W;)ra=ta[ba],null!=ra&&(ca>ra&&(ca=ra,Fa=ba),qa<ra&&(qa=ra,na=ba))}else{for(;++ba<W;)if(ra=U(ta[ba],ba,ta),null!=ra&&ra>=ra){ca=qa=ra;break}if(ba===W)return[-1,-1];for(Fa=na=ba;++ba<W;)ra=U(ta[ba],ba,ta),null!=ra&&(ca>ra&&(ca=ra,Fa=ba),qa<ra&&(qa=ra,na=ba))}return[Fa,na]};k.falsy=P;k.fastmap=function(ta){function U(ra){return O(W,
ra)&&W[ra]!==Ya}let W={},ba;const ca={size:0,empty:0,object:W,has:U,get(ra){return U(ra)?W[ra]:void 0},set(ra,qa){U(ra)||(++ca.size,W[ra]===Ya&&--ca.empty);W[ra]=qa;return this},delete(ra){U(ra)&&(--ca.size,++ca.empty,W[ra]=Ya);return this},clear(){ca.size=ca.empty=0;ca.object=W={}},test(ra){return arguments.length?(ba=ra,ca):ba},clean(){const ra={};let qa=0;for(const Fa in W){const na=W[Fa];na===Ya||ba&&ba(na)||(ra[Fa]=na,++qa)}ca.size=qa;ca.empty=0;ca.object=W=ra}};ta&&Object.keys(ta).forEach(ra=>
{ca.set(ra,ta[ra])});return ca};k.field=v;k.flush=function(ta,U,W,ba,ca,ra){if(!W&&0!==W)return ra;W=+W;let qa=ta[0],Fa=f(ta);Fa<qa&&(ta=qa,qa=Fa,Fa=ta);ta=Math.abs(U-qa);U=Math.abs(Fa-U);return ta<U&&ta<=W?ba:U<=W?ca:ra};k.hasOwnProperty=O;k.id=ja;k.identity=fa;k.inherits=function(ta,U,W){U=ta.prototype=Object.create(U.prototype);U.constructor=ta;return D(U,W)};k.inrange=function(ta,U,W,ba){let ca=U[0];U=U[U.length-1];let ra;ca>U&&(ra=ca,ca=U,U=ra);return(void 0===W||W?ca<=ta:ca<ta)&&(void 0===ba||
ba?ta<=U:ta<U)};k.isArray=C;k.isBoolean=function(ta){return"boolean"===typeof ta};k.isDate=M;k.isFunction=B;k.isIterable=function(ta){return ta&&B(ta[Symbol.iterator])};k.isNumber=F;k.isObject=m;k.isRegExp=function(ta){return"[object RegExp]"===Object.prototype.toString.call(ta)};k.isString=z;k.key=function(ta,U,W){ta&&(ta=U?y(ta).map(ra=>ra.replace(/\\(.)/g,"$1")):y(ta));const ba=ta&&ta.length,ca=W&&W.get||H;W=ra=>ca(U?[ra]:x(ra));if(ba)if(1===ba){const ra=W(ta[0]);W=function(qa){return""+ra(qa)}}else{const ra=
ta.map(W);W=function(qa){let Fa=""+ra[0](qa),na=0;for(;++na<ba;)Fa+="|"+ra[na](qa);return Fa}}else W=function(){return""};return l(W,ta,"key")};k.lerp=function(ta,U){const W=ta[0];ta=f(ta);return(U=+U)?1===U?ta:W+U*(ta-W):W};k.logger=function(ta,U){let W=ta||0;return{level(ba){return arguments.length?(W=+ba,this):W},error(){1<=W&&u(U||"error","ERROR",arguments);return this},warn(){2<=W&&u(U||"warn","WARN",arguments);return this},info(){3<=W&&u(U||"log","INFO",arguments);return this},debug(){4<=W&&
u(U||"log","DEBUG",arguments);return this}}};k.lruCache=function(ta){ta=+ta||1E4;let U,W,ba;const ca=()=>{U={};W={};ba=0},ra=(qa,Fa)=>{++ba>ta&&(W=U,U={},ba=1);return U[qa]=Fa};ca();return{clear:ca,has:qa=>O(U,qa)||O(W,qa),get:qa=>O(U,qa)?U[qa]:O(W,qa)?ra(qa,W[qa]):void 0,set:(qa,Fa)=>O(U,qa)?U[qa]=Fa:ra(qa,Fa)}};k.merge=function(ta,U,W,ba){const ca=U.length,ra=W.length;if(!ra)return U;if(!ca)return W;ba=ba||new U.constructor(ca+ra);let qa=0,Fa=0,na=0;for(;qa<ca&&Fa<ra;++na)ba[na]=0<ta(U[qa],W[Fa])?
W[Fa++]:U[qa++];for(;qa<ca;++qa,++na)ba[na]=U[qa];for(;Fa<ra;++Fa,++na)ba[na]=W[Fa];return ba};k.mergeConfig=function(...ta){return ta.reduce((U,W)=>{for(const ba in W)"signals"===ba?U.signals=d(U.signals,W.signals):g(U,ba,W[ba],"legend"===ba?{layout:1}:"style"===ba?!0:null);return U},{})};k.one=la;k.pad=function(ta,U,W,ba){W=W||" ";ta+="";U-=ta.length;return 0>=U?ta:"left"===ba?G(W,U)+ta:"center"===ba?G(W,~~(U/2))+ta+G(W,Math.ceil(U/2)):ta+G(W,U)};k.panLinear=function(ta,U){return e(ta,U,a,fa)};
k.panLog=function(ta,U){var W=Math.sign(ta[0]);return e(ta,U,ia(W),V(W))};k.panPow=function(ta,U,W){return e(ta,U,va(W),va(1/W))};k.panSymlog=function(ta,U,W){return e(ta,U,aa(W),ya(W))};k.peek=f;k.quarter=function(ta){return 1+~~((new Date(ta)).getMonth()/3)};k.repeat=G;k.span=function(ta){return ta&&f(ta)-ta[0]||0};k.splitAccessPath=x;k.stringValue=K;k.toBoolean=function(ta){return null==ta||""===ta?null:ta&&"false"!==ta&&"0"!==ta?!!ta:!1};k.toDate=function(ta,U){U=U||Da;return null==ta||""===ta?
null:U(ta)};k.toNumber=a;k.toSet=function(ta){const U={},W=ta.length;for(let ba=0;ba<W;++ba)U[ta[ba]]=!0;return U};k.toString=function(ta){return null==ta||""===ta?null:ta+""};k.truncate=function(ta,U,W,ba){ba=null!=ba?ba:"…";ta+="";const ca=ta.length,ra=Math.max(0,U-ba.length);return ca<=U?ta:"left"===W?ba+ta.slice(ca-ra):"center"===W?ta.slice(0,Math.ceil(ra/2))+ba+ta.slice(ca-~~(ra/2)):ta.slice(0,ra)+ba};k.truthy=Z;k.utcquarter=function(ta){return 1+~~((new Date(ta)).getUTCMonth()/3)};k.visitArray=
function(ta,U,W){if(ta)if(U){const ba=ta.length;for(let ca=0;ca<ba;++ca){const ra=U(ta[ca]);ra&&W(ra,ca,ta)}}else ta.forEach(W)};k.writeConfig=g;k.zero=ha;k.zoomLinear=function(ta,U,W){return n(ta,U,W,a,fa)};k.zoomLog=function(ta,U,W){const ba=Math.sign(ta[0]);return n(ta,U,W,ia(ba),V(ba))};k.zoomPow=function(ta,U,W,ba){return n(ta,U,W,va(ba),va(1/ba))};k.zoomSymlog=function(ta,U,W,ba){return n(ta,U,W,aa(ba),ya(ba))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[15]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(Ca,Ga){return Ca<Ga?-1:Ca>Ga?1:Ca>=Ga?0:NaN}function w(Ca){function Ga(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);for(;Fb<Xb;){const nc=Fb+Xb>>>1;0>Ha(Ua[nc],jb)?Fb=nc+1:Xb=nc}return Fb}let pa=Ca,Ha=Ca;1===Ca.length&&(pa=(Ua,
jb)=>Ca(Ua)-jb,Ha=H(Ca));return{left:Ga,center:function(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);Xb=Ga(Ua,jb,Fb,Xb-1);return Xb>Fb&&pa(Ua[Xb-1],jb)>-pa(Ua[Xb],jb)?Xb-1:Xb},right:function(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);for(;Fb<Xb;){const nc=Fb+Xb>>>1;0<Ha(Ua[nc],jb)?Xb=nc:Fb=nc+1}return Fb}}}function H(Ca){return(Ga,pa)=>l(Ca(Ga),pa)}function N(Ca){return null===Ca?NaN:+Ca}function*x(Ca,Ga){if(void 0===Ga)for(var pa of Ca)null!=pa&&(pa=+pa)>=pa&&(yield pa);else{pa=
-1;for(let Ha of Ca)null!=(Ha=Ga(Ha,++pa,Ca))&&(Ha=+Ha)>=Ha&&(yield Ha)}}function v(Ca,Ga){let pa=0;if(void 0===Ga)for(var Ha of Ca)null!=Ha&&(Ha=+Ha)>=Ha&&++pa;else{Ha=-1;for(let Ua of Ca)null!=(Ua=Ga(Ua,++Ha,Ca))&&(Ua=+Ua)>=Ua&&++pa}return pa}function u(Ca){return Ca.length|0}function m(Ca){return!(0<Ca)}function g(Ca){return"object"!==typeof Ca||"length"in Ca?Ca:Array.from(Ca)}function d(Ca){return Ga=>Ca(...Ga)}function f(Ca,Ga){let pa=0,Ha,Ua=0,jb=0;if(void 0===Ga)for(var Fb of Ca)null!=Fb&&
(Fb=+Fb)>=Fb&&(Ha=Fb-Ua,Ua+=Ha/++pa,jb+=Ha*(Fb-Ua));else{Fb=-1;for(let Xb of Ca)null!=(Xb=Ga(Xb,++Fb,Ca))&&(Xb=+Xb)>=Xb&&(Ha=Xb-Ua,Ua+=Ha/++pa,jb+=Ha*(Xb-Ua))}if(1<pa)return jb/(pa-1)}function a(Ca,Ga){return(Ca=f(Ca,Ga))?Math.sqrt(Ca):Ca}function e(Ca,Ga){let pa,Ha;if(void 0===Ga)for(var Ua of Ca)null!=Ua&&(void 0===pa?Ua>=Ua&&(pa=Ha=Ua):(pa>Ua&&(pa=Ua),Ha<Ua&&(Ha=Ua)));else{Ua=-1;for(let jb of Ca)null!=(jb=Ga(jb,++Ua,Ca))&&(void 0===pa?jb>=jb&&(pa=Ha=jb):(pa>jb&&(pa=jb),Ha<jb&&(Ha=jb)))}return[pa,
Ha]}function n({_intern:Ca,_key:Ga},pa){Ga=Ga(pa);return Ca.has(Ga)?Ca.get(Ga):pa}function y({_intern:Ca,_key:Ga},pa){Ga=Ga(pa);if(Ca.has(Ga))return Ca.get(Ga);Ca.set(Ga,pa);return pa}function B({_intern:Ca,_key:Ga},pa){Ga=Ga(pa);Ca.has(Ga)&&(pa=Ca.get(pa),Ca.delete(Ga));return pa}function D(Ca){return null!==Ca&&"object"===typeof Ca?Ca.valueOf():Ca}function O(Ca){return Ca}function M(Ca,...Ga){return G(Ca,O,O,Ga)}function F(Ca,Ga,...pa){return G(Ca,O,Ga,pa)}function z(Ca){if(1!==Ca.length)throw Error("duplicate key");
return Ca[0]}function G(Ca,Ga,pa,Ha){return function Xb(jb,Fb){if(Fb>=Ha.length)return pa(jb);const nc=new ra,md=Ha[Fb++];let pc=-1;for(const Hc of jb){const mb=md(Hc,++pc,jb),hc=nc.get(mb);hc?hc.push(Hc):nc.set(mb,[Hc])}for(const [Hc,mb]of nc)nc.set(Hc,Xb(mb,Fb));return Ga(nc)}(Ca,0)}function K(Ca,Ga){return Array.from(Ga,pa=>Ca[pa])}function R(Ca,...Ga){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");Ca=Array.from(Ca);let [pa=l]=Ga;if(1===pa.length||1<Ga.length){const Ha=
Uint32Array.from(Ca,(Ua,jb)=>jb);1<Ga.length?(Ga=Ga.map(Ua=>Ca.map(Ua)),Ha.sort((Ua,jb)=>{for(const Fb of Ga){const Xb=l(Fb[Ua],Fb[jb]);if(Xb)return Xb}})):(pa=Ca.map(pa),Ha.sort((Ua,jb)=>l(pa[Ua],pa[jb])));return K(Ca,Ha)}return Ca.sort(pa)}function T(Ca){return function(){return Ca}}function ja(Ca,Ga,pa){var Ha,Ua=-1,jb;Ga=+Ga;Ca=+Ca;pa=+pa;if(Ca===Ga&&0<pa)return[Ca];if(Ha=Ga<Ca){var Fb=Ca;Ca=Ga;Ga=Fb}if(0===(jb=fa(Ca,Ga,pa))||!isFinite(jb))return[];if(0<jb)for(Ca=Math.ceil(Ca/jb),Ga=Math.floor(Ga/
jb),Ga=Array(Fb=Math.ceil(Ga-Ca+1));++Ua<Fb;)Ga[Ua]=(Ca+Ua)*jb;else for(jb=-jb,Ca=Math.ceil(Ca*jb),Ga=Math.floor(Ga*jb),Ga=Array(Fb=Math.ceil(Ga-Ca+1));++Ua<Fb;)Ga[Ua]=(Ca+Ua)/jb;Ha&&Ga.reverse();return Ga}function fa(Ca,Ga,pa){Ga=(Ga-Ca)/Math.max(0,pa);Ca=Math.floor(Math.log(Ga)/Math.LN10);Ga/=Math.pow(10,Ca);return 0<=Ca?(Ga>=na?10:Ga>=Ra?5:Ga>=db?2:1)*Math.pow(10,Ca):-Math.pow(10,-Ca)/(Ga>=na?10:Ga>=Ra?5:Ga>=db?2:1)}function ha(Ca,Ga,pa){let Ha;for(;;){const Ua=fa(Ca,Ga,pa);if(Ua===Ha||0===Ua||
!isFinite(Ua))return[Ca,Ga];0<Ua?(Ca=Math.floor(Ca/Ua)*Ua,Ga=Math.ceil(Ga/Ua)*Ua):0>Ua&&(Ca=Math.ceil(Ca*Ua)/Ua,Ga=Math.floor(Ga*Ua)/Ua);Ha=Ua}}function la(Ca){return Math.ceil(Math.log(v(Ca))/Math.LN2)+1}function Z(){function Ca(Ua){Array.isArray(Ua)||(Ua=Array.from(Ua));var jb,Fb=Ua.length,Xb=Array(Fb);for(jb=0;jb<Fb;++jb)Xb[jb]=Ga(Ua[jb],jb,Ua);var nc=pa(Xb),md=nc[0];nc=nc[1];var pc=Ha(Xb,md,nc);if(!Array.isArray(pc)){jb=nc;var Hc=+pc;pa===e&&([md,nc]=ha(md,nc,Hc));pc=ja(md,nc,Hc);pc[pc.length-
1]>=nc&&(jb>=nc&&pa===e?(jb=fa(md,nc,Hc),isFinite(jb)&&(0<jb?nc=(Math.floor(nc/jb)+1)*jb:0>jb&&(nc=(Math.ceil(nc*-jb)+1)/-jb))):pc.pop())}for(Hc=pc.length;pc[0]<=md;)pc.shift(),--Hc;for(;pc[Hc-1]>nc;)pc.pop(),--Hc;var mb=Array(Hc+1);for(jb=0;jb<=Hc;++jb){var hc=mb[jb]=[];hc.x0=0<jb?pc[jb-1]:md;hc.x1=jb<Hc?pc[jb]:nc}for(jb=0;jb<Fb;++jb)hc=Xb[jb],md<=hc&&hc<=nc&&mb[W(pc,hc,0,Hc)].push(Ua[jb]);return mb}var Ga=O,pa=e,Ha=la;Ca.value=function(Ua){return arguments.length?(Ga="function"===typeof Ua?Ua:T(Ua),
Ca):Ga};Ca.domain=function(Ua){return arguments.length?(pa="function"===typeof Ua?Ua:T([Ua[0],Ua[1]]),Ca):pa};Ca.thresholds=function(Ua){return arguments.length?(Ha="function"===typeof Ua?Ua:Array.isArray(Ua)?T(Fa.call(Ua)):T(Ua),Ca):Ha};return Ca}function P(Ca,Ga){let pa;if(void 0===Ga)for(var Ha of Ca)null!=Ha&&(pa<Ha||void 0===pa&&Ha>=Ha)&&(pa=Ha);else{Ha=-1;for(let Ua of Ca)null!=(Ua=Ga(Ua,++Ha,Ca))&&(pa<Ua||void 0===pa&&Ua>=Ua)&&(pa=Ua)}return pa}function C(Ca,Ga){let pa;if(void 0===Ga)for(var Ha of Ca)null!=
Ha&&(pa>Ha||void 0===pa&&Ha>=Ha)&&(pa=Ha);else{Ha=-1;for(let Ua of Ca)null!=(Ua=Ga(Ua,++Ha,Ca))&&(pa>Ua||void 0===pa&&Ua>=Ua)&&(pa=Ua)}return pa}function V(Ca,Ga,pa=0,Ha=Ca.length-1,Ua=l){for(;Ha>pa;){if(600<Ha-pa){var jb=Ha-pa+1,Fb=Ga-pa+1,Xb=Math.log(jb),nc=.5*Math.exp(2*Xb/3);Xb=.5*Math.sqrt(Xb*nc*(jb-nc)/jb)*(0>Fb-jb/2?-1:1);V(Ca,Ga,Math.max(pa,Math.floor(Ga-Fb*nc/jb+Xb)),Math.min(Ha,Math.floor(Ga+(jb-Fb)*nc/jb+Xb)),Ua)}jb=Ca[Ga];Fb=pa;nc=Ha;ia(Ca,pa,Ga);for(0<Ua(Ca[Ha],jb)&&ia(Ca,pa,Ha);Fb<nc;){ia(Ca,
Fb,nc);++Fb;for(--nc;0>Ua(Ca[Fb],jb);)++Fb;for(;0<Ua(Ca[nc],jb);)--nc}0===Ua(Ca[pa],jb)?ia(Ca,pa,nc):(++nc,ia(Ca,nc,Ha));nc<=Ga&&(pa=nc+1);Ga<=nc&&(Ha=nc-1)}return Ca}function ia(Ca,Ga,pa){const Ha=Ca[Ga];Ca[Ga]=Ca[pa];Ca[pa]=Ha}function aa(Ca,Ga,pa){Ca=Float64Array.from(x(Ca,pa));if(pa=Ca.length){if(0>=(Ga=+Ga)||2>pa)return C(Ca);if(1<=Ga)return P(Ca);Ga*=pa-1;pa=Math.floor(Ga);var Ha=P(V(Ca,pa).subarray(0,pa+1));Ca=C(Ca.subarray(pa+1));return Ha+(Ca-Ha)*(Ga-pa)}}function ya(Ca,Ga){let pa,Ha=-1,
Ua=-1;if(void 0===Ga)for(const jb of Ca)++Ua,null!=jb&&(pa<jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);else for(let jb of Ca)null!=(jb=Ga(jb,++Ua,Ca))&&(pa<jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);return Ha}function*va(Ca){for(const Ga of Ca)yield*Ga}function Ia(Ca,Ga){let pa,Ha=-1,Ua=-1;if(void 0===Ga)for(const jb of Ca)++Ua,null!=jb&&(pa>jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);else for(let jb of Ca)null!=(jb=Ga(jb,++Ua,Ca))&&(pa>jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);return Ha}function bb(Ca,Ga){return[Ca,
Ga]}function kb(Ca,Ga=l){if(1===Ga.length)return Ia(Ca,Ga);let pa,Ha=-1,Ua=-1;for(const jb of Ca)if(++Ua,0>Ha?0===Ga(jb,jb):0>Ga(jb,pa))pa=jb,Ha=Ua;return Ha}function ua(Ca){return function(Ga,pa=0,Ha=Ga.length){for(Ha-=pa=+pa;Ha;){const Ua=Ca()*Ha--|0,jb=Ga[Ha+pa];Ga[Ha+pa]=Ga[Ua+pa];Ga[Ua+pa]=jb}return Ga}}function Ta(Ca){if(!(jb=Ca.length))return[];for(var Ga=-1,pa=C(Ca,Ya),Ha=Array(pa);++Ga<pa;)for(var Ua=-1,jb,Fb=Ha[Ga]=Array(jb);++Ua<jb;)Fb[Ua]=Ca[Ua][Ga];return Ha}function Ya(Ca){return Ca.length}
function Da(Ca){return Ca instanceof Set?Ca:new Set(Ca)}function ta(Ca,Ga){Ca=Ca[Symbol.iterator]();const pa=new Set;for(const Ha of Ga){if(pa.has(Ha))continue;let Ua;for(;{value:Ga,done:Ua}=Ca.next();){if(Ua)return!1;pa.add(Ga);if(Object.is(Ha,Ga))break}}return!0}var U=w(l);const W=U.right;U=U.left;const ba=w(N).center;class ca{constructor(){this._partials=new Float64Array(32);this._n=0}add(Ca){const Ga=this._partials;let pa=0;for(let Ha=0;Ha<this._n&&32>Ha;Ha++){const Ua=Ga[Ha],jb=Ca+Ua;(Ca=Math.abs(Ca)<
Math.abs(Ua)?Ca-(jb-Ua):Ua-(jb-Ca))&&(Ga[pa++]=Ca);Ca=jb}Ga[pa]=Ca;this._n=pa+1;return this}valueOf(){const Ca=this._partials;let Ga=this._n;let pa,Ha=0;if(0<Ga){for(Ha=Ca[--Ga];0<Ga;){var Ua=Ha;pa=Ca[--Ga];Ha=Ua+pa;if(Ua=pa-(Ha-Ua))break}0<Ga&&(0>Ua&&0>Ca[Ga-1]||0<Ua&&0<Ca[Ga-1])&&(pa=2*Ua,Ua=Ha+pa,pa==Ua-Ha&&(Ha=Ua))}return Ha}}class ra extends Map{constructor(Ca=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const [pa,Ha]of Ca)this.set(pa,Ha)}get(Ca){return super.get(n(this,
Ca))}has(Ca){return super.has(n(this,Ca))}set(Ca,Ga){return super.set(y(this,Ca),Ga)}delete(Ca){return super.delete(B(this,Ca))}}class qa extends Set{constructor(Ca=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const pa of Ca)this.add(pa)}has(Ca){return super.has(n(this,Ca))}add(Ca){return super.add(y(this,Ca))}delete(Ca){return super.delete(B(this,Ca))}}var Fa=Array.prototype.slice,na=Math.sqrt(50),Ra=Math.sqrt(10),db=Math.sqrt(2),$a=ua(Math.random);
k.Adder=ca;k.InternMap=ra;k.InternSet=qa;k.ascending=l;k.bin=Z;k.bisect=W;k.bisectCenter=ba;k.bisectLeft=U;k.bisectRight=W;k.bisector=w;k.count=v;k.cross=function(...Ca){const Ga="function"===typeof Ca[Ca.length-1]&&d(Ca.pop());Ca=Ca.map(g);const pa=Ca.map(u),Ha=Ca.length-1,Ua=Array(Ha+1).fill(0),jb=[];if(0>Ha||pa.some(m))return jb;for(;;){jb.push(Ua.map((Xb,nc)=>Ca[nc][Xb]));let Fb=Ha;for(;++Ua[Fb]===pa[Fb];){if(0===Fb)return Ga?jb.map(Ga):jb;Ua[Fb--]=0}}};k.cumsum=function(Ca,Ga){var pa=0,Ha=0;
return Float64Array.from(Ca,void 0===Ga?Ua=>pa+=+Ua||0:Ua=>pa+=+Ga(Ua,Ha++,Ca)||0)};k.descending=function(Ca,Ga){return Ga<Ca?-1:Ga>Ca?1:Ga>=Ca?0:NaN};k.deviation=a;k.difference=function(Ca,...Ga){Ca=new Set(Ca);for(const pa of Ga)for(const Ha of pa)Ca.delete(Ha);return Ca};k.disjoint=function(Ca,Ga){Ga=Ga[Symbol.iterator]();const pa=new Set;for(const Ha of Ca){if(pa.has(Ha))return!1;let Ua;for(;({value:Ca,done:Ua}=Ga.next())&&!Ua;){if(Object.is(Ha,Ca))return!1;pa.add(Ca)}}return!0};k.every=function(Ca,
Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let pa=-1;for(const Ha of Ca)if(!Ga(Ha,++pa,Ca))return!1;return!0};k.extent=e;k.filter=function(Ca,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");const pa=[];let Ha=-1;for(const Ua of Ca)Ga(Ua,++Ha,Ca)&&pa.push(Ua);return pa};k.fsum=function(Ca,Ga){const pa=new ca;if(void 0===Ga)for(var Ha of Ca)(Ha=+Ha)&&pa.add(Ha);else{Ha=-1;for(let Ua of Ca)(Ua=+Ga(Ua,++Ha,Ca))&&pa.add(Ua)}return+pa};k.greatest=
function(Ca,Ga=l){let pa,Ha=!1;if(1===Ga.length){let Ua;for(const jb of Ca)if(Ca=Ga(jb),Ha?0<l(Ca,Ua):0===l(Ca,Ca))pa=jb,Ua=Ca,Ha=!0}else for(const Ua of Ca)if(Ha?0<Ga(Ua,pa):0===Ga(Ua,Ua))pa=Ua,Ha=!0;return pa};k.greatestIndex=function(Ca,Ga=l){if(1===Ga.length)return ya(Ca,Ga);let pa,Ha=-1,Ua=-1;for(const jb of Ca)if(++Ua,0>Ha?0===Ga(jb,jb):0<Ga(jb,pa))pa=jb,Ha=Ua;return Ha};k.group=M;k.groupSort=function(Ca,Ga,pa){return(1===Ga.length?R(F(Ca,Ga,pa),([Ha,Ua],[jb,Fb])=>l(Ua,Fb)||l(Ha,jb)):R(M(Ca,
pa),([Ha,Ua],[jb,Fb])=>Ga(Ua,Fb)||l(Ha,jb))).map(([Ha])=>Ha)};k.groups=function(Ca,...Ga){return G(Ca,Array.from,O,Ga)};k.histogram=Z;k.index=function(Ca,...Ga){return G(Ca,O,z,Ga)};k.indexes=function(Ca,...Ga){return G(Ca,Array.from,z,Ga)};k.intersection=function(Ca,...Ga){Ca=new Set(Ca);Ga=Ga.map(Da);a:for(const pa of Ca)for(const Ha of Ga)if(!Ha.has(pa)){Ca.delete(pa);continue a}return Ca};k.least=function(Ca,Ga=l){let pa,Ha=!1;if(1===Ga.length){let Ua;for(const jb of Ca)if(Ca=Ga(jb),Ha?0>l(Ca,
Ua):0===l(Ca,Ca))pa=jb,Ua=Ca,Ha=!0}else for(const Ua of Ca)if(Ha?0>Ga(Ua,pa):0===Ga(Ua,Ua))pa=Ua,Ha=!0;return pa};k.leastIndex=kb;k.map=function(Ca,Ga){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof Ga)throw new TypeError("mapper is not a function");return Array.from(Ca,(pa,Ha)=>Ga(pa,Ha,Ca))};k.max=P;k.maxIndex=ya;k.mean=function(Ca,Ga){let pa=0,Ha=0;if(void 0===Ga)for(var Ua of Ca)null!=Ua&&(Ua=+Ua)>=Ua&&(++pa,Ha+=Ua);else{Ua=-1;for(let jb of Ca)null!=
(jb=Ga(jb,++Ua,Ca))&&(jb=+jb)>=jb&&(++pa,Ha+=jb)}if(pa)return Ha/pa};k.median=function(Ca,Ga){return aa(Ca,.5,Ga)};k.merge=function(Ca){return Array.from(va(Ca))};k.min=C;k.minIndex=Ia;k.nice=ha;k.pairs=function(Ca,Ga=bb){const pa=[];let Ha,Ua=!1;for(const jb of Ca)Ua&&pa.push(Ga(Ha,jb)),Ha=jb,Ua=!0;return pa};k.permute=K;k.quantile=aa;k.quantileSorted=function(Ca,Ga,pa=N){if(Ha=Ca.length){if(0>=(Ga=+Ga)||2>Ha)return+pa(Ca[0],0,Ca);if(1<=Ga)return+pa(Ca[Ha-1],Ha-1,Ca);var Ha;Ga*=Ha-1;Ha=Math.floor(Ga);
var Ua=+pa(Ca[Ha],Ha,Ca);Ca=+pa(Ca[Ha+1],Ha+1,Ca);return Ua+(Ca-Ua)*(Ga-Ha)}};k.quickselect=V;k.range=function(Ca,Ga,pa){Ca=+Ca;Ga=+Ga;pa=2>(Ua=arguments.length)?(Ga=Ca,Ca=0,1):3>Ua?1:+pa;for(var Ha=-1,Ua=Math.max(0,Math.ceil((Ga-Ca)/pa))|0,jb=Array(Ua);++Ha<Ua;)jb[Ha]=Ca+Ha*pa;return jb};k.reduce=function(Ca,Ga,pa){if("function"!==typeof Ga)throw new TypeError("reducer is not a function");const Ha=Ca[Symbol.iterator]();let Ua,jb,Fb=-1;if(3>arguments.length){({done:Ua,value:pa}=Ha.next());if(Ua)return;
++Fb}for(;{done:Ua,value:jb}=Ha.next(),!Ua;)pa=Ga(pa,jb,++Fb,Ca);return pa};k.reverse=function(Ca){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Ca).reverse()};k.rollup=F;k.rollups=function(Ca,Ga,...pa){return G(Ca,Array.from,Ga,pa)};k.scan=function(Ca,Ga){Ca=kb(Ca,Ga);return 0>Ca?void 0:Ca};k.shuffle=$a;k.shuffler=ua;k.some=function(Ca,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let pa=-1;for(const Ha of Ca)if(Ga(Ha,
++pa,Ca))return!0;return!1};k.sort=R;k.subset=function(Ca,Ga){return ta(Ga,Ca)};k.sum=function(Ca,Ga){let pa=0;if(void 0===Ga)for(var Ha of Ca){if(Ha=+Ha)pa+=Ha}else{Ha=-1;for(let Ua of Ca)if(Ua=+Ga(Ua,++Ha,Ca))pa+=Ua}return pa};k.superset=ta;k.thresholdFreedmanDiaconis=function(Ca,Ga,pa){return Math.ceil((pa-Ga)/(2*(aa(Ca,.75)-aa(Ca,.25))*Math.pow(v(Ca),-1/3)))};k.thresholdScott=function(Ca,Ga,pa){return Math.ceil((pa-Ga)/(3.5*a(Ca)*Math.pow(v(Ca),-1/3)))};k.thresholdSturges=la;k.tickIncrement=fa;
k.tickStep=function(Ca,Ga,pa){var Ha=Math.abs(Ga-Ca)/Math.max(0,pa);pa=Math.pow(10,Math.floor(Math.log(Ha)/Math.LN10));Ha/=pa;Ha>=na?pa*=10:Ha>=Ra?pa*=5:Ha>=db&&(pa*=2);return Ga<Ca?-pa:pa};k.ticks=ja;k.transpose=Ta;k.union=function(...Ca){const Ga=new Set;for(const pa of Ca)for(const Ha of pa)Ga.add(Ha);return Ga};k.variance=f;k.zip=function(){return Ta(arguments)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[16]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(D,O){if(0>(O=(D=O?D.toExponential(O-1):D.toExponential()).indexOf("e")))return null;var M=D.slice(0,O);return[1<M.length?M[0]+M.slice(2):M,+D.slice(O+1)]}function w(D){return D=l(Math.abs(D)),D?D[1]:NaN}function H(D,O){return function(M,
F){for(var z=M.length,G=[],K=0,R=D[0],T=0;0<z&&0<R;){T+R+1>F&&(R=Math.max(1,F-T));G.push(M.substring(z-=R,z+R));if((T+=R+1)>F)break;R=D[K=(K+1)%D.length]}return G.reverse().join(O)}}function N(D){return function(O){return O.replace(/[0-9]/g,function(M){return D[+M]})}}function x(D){if(!(O=f.exec(D)))throw Error("invalid format: "+D);var O;return new v({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}function v(D){this.fill=
void 0===D.fill?" ":D.fill+"";this.align=void 0===D.align?"\x3e":D.align+"";this.sign=void 0===D.sign?"-":D.sign+"";this.symbol=void 0===D.symbol?"":D.symbol+"";this.zero=!!D.zero;this.width=void 0===D.width?void 0:+D.width;this.comma=!!D.comma;this.precision=void 0===D.precision?void 0:+D.precision;this.trim=!!D.trim;this.type=void 0===D.type?"":D.type+""}function u(D,O){O=l(D,O);if(!O)return D+"";D=O[0];O=O[1];return 0>O?"0."+Array(-O).join("0")+D:D.length>O+1?D.slice(0,O+1)+"."+D.slice(O+1):D+
Array(O-D.length+2).join("0")}function m(D){return D}function g(D){function O(fa){function ha(Ya){var Da=bb,ta=kb,U,W;if("c"===Ia)ta=ua(Ya)+ta,Ya="";else{Ya=+Ya;var ba=0>Ya||0>1/Ya;Ya=isNaN(Ya)?ja:ua(Math.abs(Ya),ya);if(va){var ca=Ya.length,ra=1,qa=-1;a:for(;ra<ca;++ra)switch(Ya[ra]){case ".":qa=U=ra;break;case "0":0===qa&&(qa=ra);U=ra;break;default:if(!+Ya[ra])break a;0<qa&&(qa=0)}Ya=0<qa?Ya.slice(0,qa)+Ya.slice(U+1):Ya}ba&&0===+Ya&&"+"!==P&&(ba=!1);Da=(ba?"("===P?P:T:"-"===P||"("===P?"":P)+Da;ta=
("s"===Ia?y[8+a/3]:"")+ta+(ba&&"("===P?")":"");if(Ta)for(ba=-1,U=Ya.length;++ba<U;)if(W=Ya.charCodeAt(ba),48>W||57<W){ta=(46===W?G+Ya.slice(ba+1):Ya.slice(ba))+ta;Ya=Ya.slice(0,ba);break}}aa&&!V&&(Ya=M(Ya,Infinity));W=Da.length+Ya.length+ta.length;ba=W<ia?Array(ia-W+1).join(la):"";aa&&V&&(Ya=M(ba+Ya,ba.length?ia-ta.length:Infinity),ba="");switch(Z){case "\x3c":Ya=Da+Ya+ta+ba;break;case "\x3d":Ya=Da+ba+Ya+ta;break;case "^":Ya=ba.slice(0,W=ba.length>>1)+Da+Ya+ta+ba.slice(W);break;default:Ya=ba+Da+Ya+
ta}return K(Ya)}fa=x(fa);var la=fa.fill,Z=fa.align,P=fa.sign,C=fa.symbol,V=fa.zero,ia=fa.width,aa=fa.comma,ya=fa.precision,va=fa.trim,Ia=fa.type;"n"===Ia?(aa=!0,Ia="g"):e[Ia]||(void 0===ya&&(ya=12),va=!0,Ia="g");if(V||"0"===la&&"\x3d"===Z)V=!0,la="0",Z="\x3d";var bb="$"===C?F:"#"===C&&/[boxX]/.test(Ia)?"0"+Ia.toLowerCase():"",kb="$"===C?z:/[%p]/.test(Ia)?R:"",ua=e[Ia],Ta=/[defgprs%]/.test(Ia);ya=void 0===ya?6:/[gprs]/.test(Ia)?Math.max(1,Math.min(21,ya)):Math.max(0,Math.min(20,ya));ha.toString=function(){return fa+
""};return ha}var M=void 0===D.grouping||void 0===D.thousands?m:H(n.call(D.grouping,Number),D.thousands+""),F=void 0===D.currency?"":D.currency[0]+"",z=void 0===D.currency?"":D.currency[1]+"",G=void 0===D.decimal?".":D.decimal+"",K=void 0===D.numerals?m:N(n.call(D.numerals,String)),R=void 0===D.percent?"%":D.percent+"",T=void 0===D.minus?"−":D.minus+"",ja=void 0===D.nan?"NaN":D.nan+"";return{format:O,formatPrefix:function(fa,ha){var la=O((fa=x(fa),fa.type="f",fa));fa=3*Math.max(-8,Math.min(8,Math.floor(w(ha)/
3)));var Z=Math.pow(10,-fa),P=y[8+fa/3];return function(C){return la(Z*C)+P}}}}function d(D){B=g(D);k.format=B.format;k.formatPrefix=B.formatPrefix;return B}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;x.prototype=v.prototype;v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var a,e={"%":(D,O)=>(100*D).toFixed(O),b:D=>Math.round(D).toString(2),c:D=>D+"",d:function(D){return 1E21<=Math.abs(D=Math.round(D))?D.toLocaleString("en").replace(/,/g,""):D.toString(10)},e:(D,O)=>D.toExponential(O),f:(D,O)=>D.toFixed(O),g:(D,O)=>D.toPrecision(O),o:D=>Math.round(D).toString(8),p:(D,O)=>u(100*D,O),r:u,s:function(D,O){var M=l(D,O);if(!M)return D+"";var F=M[0];M=M[1];M=M-(a=3*Math.max(-8,Math.min(8,Math.floor(M/3))))+1;var z=F.length;return M===z?F:M>z?F+Array(M-
z+1).join("0"):0<M?F.slice(0,M)+"."+F.slice(M):"0."+Array(1-M).join("0")+l(D,Math.max(0,O+M-1))[0]},X:D=>Math.round(D).toString(16).toUpperCase(),x:D=>Math.round(D).toString(16)},n=Array.prototype.map,y="y z a f p n µ m  k M G T P E Z Y".split(" "),B;d({thousands:",",grouping:[3],currency:["$",""]});k.FormatSpecifier=v;k.formatDefaultLocale=d;k.formatLocale=g;k.formatSpecifier=x;k.precisionFixed=function(D){return Math.max(0,-w(Math.abs(D)))};k.precisionPrefix=function(D,O){return Math.max(0,3*Math.max(-8,
Math.min(8,Math.floor(w(O)/3)))-w(Math.abs(D)))};k.precisionRound=function(D,O){D=Math.abs(D);O=Math.abs(O)-D;return Math.max(0,w(O)-w(D))+1};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(Ga,pa,Ha,Ua){function jb(Fb){return Ga(Fb=0===arguments.length?new Date:new Date(+Fb)),Fb}jb.floor=function(Fb){return Ga(Fb=new Date(+Fb)),Fb};jb.ceil=function(Fb){return Ga(Fb=new Date(Fb-1)),pa(Fb,1),Ga(Fb),Fb};jb.round=function(Fb){var Xb=jb(Fb),nc=jb.ceil(Fb);return Fb-Xb<
nc-Fb?Xb:nc};jb.offset=function(Fb,Xb){return pa(Fb=new Date(+Fb),null==Xb?1:Math.floor(Xb)),Fb};jb.range=function(Fb,Xb,nc){var md=[],pc;Fb=jb.ceil(Fb);nc=null==nc?1:Math.floor(nc);if(!(Fb<Xb&&0<nc))return md;do md.push(pc=new Date(+Fb)),pa(Fb,nc),Ga(Fb);while(pc<Fb&&Fb<Xb);return md};jb.filter=function(Fb){return l(function(Xb){if(Xb>=Xb)for(;Ga(Xb),!Fb(Xb);)Xb.setTime(Xb-1)},function(Xb,nc){if(Xb>=Xb)if(0>nc)for(;0>=++nc;)for(;pa(Xb,-1),!Fb(Xb););else for(;0<=--nc;)for(;pa(Xb,1),!Fb(Xb););})};
Ha&&(jb.count=function(Fb,Xb){N.setTime(+Fb);x.setTime(+Xb);Ga(N);Ga(x);return Math.floor(Ha(N,x))},jb.every=function(Fb){Fb=Math.floor(Fb);return isFinite(Fb)&&0<Fb?1<Fb?jb.filter(Ua?function(Xb){return 0===Ua(Xb)%Fb}:function(Xb){return 0===jb.count(0,Xb)%Fb}):jb:null});return jb}function w(Ga){return l(function(pa){pa.setDate(pa.getDate()-(pa.getDay()+7-Ga)%7);pa.setHours(0,0,0,0)},function(pa,Ha){pa.setDate(pa.getDate()+7*Ha)},function(pa,Ha){return(Ha-pa-6E4*(Ha.getTimezoneOffset()-pa.getTimezoneOffset()))/
6048E5})}function H(Ga){return l(function(pa){pa.setUTCDate(pa.getUTCDate()-(pa.getUTCDay()+7-Ga)%7);pa.setUTCHours(0,0,0,0)},function(pa,Ha){pa.setUTCDate(pa.getUTCDate()+7*Ha)},function(pa,Ha){return(Ha-pa)/6048E5})}var N=new Date,x=new Date,v=l(function(){},function(Ga,pa){Ga.setTime(+Ga+pa)},function(Ga,pa){return pa-Ga});v.every=function(Ga){Ga=Math.floor(Ga);return isFinite(Ga)&&0<Ga?1<Ga?l(function(pa){pa.setTime(Math.floor(pa/Ga)*Ga)},function(pa,Ha){pa.setTime(+pa+Ha*Ga)},function(pa,Ha){return(Ha-
pa)/Ga}):v:null};var u=v.range,m=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds())},function(Ga,pa){Ga.setTime(+Ga+1E3*pa)},function(Ga,pa){return(pa-Ga)/1E3},function(Ga){return Ga.getUTCSeconds()}),g=m.range,d=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds())},function(Ga,pa){Ga.setTime(+Ga+6E4*pa)},function(Ga,pa){return(pa-Ga)/6E4},function(Ga){return Ga.getMinutes()}),f=d.range,a=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds()-6E4*Ga.getMinutes())},
function(Ga,pa){Ga.setTime(+Ga+36E5*pa)},function(Ga,pa){return(pa-Ga)/36E5},function(Ga){return Ga.getHours()}),e=a.range,n=l(Ga=>Ga.setHours(0,0,0,0),(Ga,pa)=>Ga.setDate(Ga.getDate()+pa),(Ga,pa)=>(pa-Ga-6E4*(pa.getTimezoneOffset()-Ga.getTimezoneOffset()))/864E5,Ga=>Ga.getDate()-1),y=n.range,B=w(0),D=w(1),O=w(2),M=w(3),F=w(4),z=w(5),G=w(6),K=B.range,R=D.range,T=O.range,ja=M.range,fa=F.range,ha=z.range,la=G.range,Z=l(function(Ga){Ga.setDate(1);Ga.setHours(0,0,0,0)},function(Ga,pa){Ga.setMonth(Ga.getMonth()+
pa)},function(Ga,pa){return pa.getMonth()-Ga.getMonth()+12*(pa.getFullYear()-Ga.getFullYear())},function(Ga){return Ga.getMonth()}),P=Z.range,C=l(function(Ga){Ga.setMonth(0,1);Ga.setHours(0,0,0,0)},function(Ga,pa){Ga.setFullYear(Ga.getFullYear()+pa)},function(Ga,pa){return pa.getFullYear()-Ga.getFullYear()},function(Ga){return Ga.getFullYear()});C.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?l(function(pa){pa.setFullYear(Math.floor(pa.getFullYear()/Ga)*Ga);pa.setMonth(0,1);pa.setHours(0,
0,0,0)},function(pa,Ha){pa.setFullYear(pa.getFullYear()+Ha*Ga)}):null};var V=C.range,ia=l(function(Ga){Ga.setUTCSeconds(0,0)},function(Ga,pa){Ga.setTime(+Ga+6E4*pa)},function(Ga,pa){return(pa-Ga)/6E4},function(Ga){return Ga.getUTCMinutes()}),aa=ia.range,ya=l(function(Ga){Ga.setUTCMinutes(0,0,0)},function(Ga,pa){Ga.setTime(+Ga+36E5*pa)},function(Ga,pa){return(pa-Ga)/36E5},function(Ga){return Ga.getUTCHours()}),va=ya.range,Ia=l(function(Ga){Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCDate(Ga.getUTCDate()+
pa)},function(Ga,pa){return(pa-Ga)/864E5},function(Ga){return Ga.getUTCDate()-1}),bb=Ia.range,kb=H(0),ua=H(1),Ta=H(2),Ya=H(3),Da=H(4),ta=H(5),U=H(6),W=kb.range,ba=ua.range,ca=Ta.range,ra=Ya.range,qa=Da.range,Fa=ta.range,na=U.range,Ra=l(function(Ga){Ga.setUTCDate(1);Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCMonth(Ga.getUTCMonth()+pa)},function(Ga,pa){return pa.getUTCMonth()-Ga.getUTCMonth()+12*(pa.getUTCFullYear()-Ga.getUTCFullYear())},function(Ga){return Ga.getUTCMonth()}),db=Ra.range,$a=
l(function(Ga){Ga.setUTCMonth(0,1);Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCFullYear(Ga.getUTCFullYear()+pa)},function(Ga,pa){return pa.getUTCFullYear()-Ga.getUTCFullYear()},function(Ga){return Ga.getUTCFullYear()});$a.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?l(function(pa){pa.setUTCFullYear(Math.floor(pa.getUTCFullYear()/Ga)*Ga);pa.setUTCMonth(0,1);pa.setUTCHours(0,0,0,0)},function(pa,Ha){pa.setUTCFullYear(pa.getUTCFullYear()+Ha*Ga)}):null};var Ca=$a.range;k.timeDay=n;
k.timeDays=y;k.timeFriday=z;k.timeFridays=ha;k.timeHour=a;k.timeHours=e;k.timeInterval=l;k.timeMillisecond=v;k.timeMilliseconds=u;k.timeMinute=d;k.timeMinutes=f;k.timeMonday=D;k.timeMondays=R;k.timeMonth=Z;k.timeMonths=P;k.timeSaturday=G;k.timeSaturdays=la;k.timeSecond=m;k.timeSeconds=g;k.timeSunday=B;k.timeSundays=K;k.timeThursday=F;k.timeThursdays=fa;k.timeTuesday=O;k.timeTuesdays=T;k.timeWednesday=M;k.timeWednesdays=ja;k.timeWeek=B;k.timeWeeks=K;k.timeYear=C;k.timeYears=V;k.utcDay=Ia;k.utcDays=
bb;k.utcFriday=ta;k.utcFridays=Fa;k.utcHour=ya;k.utcHours=va;k.utcMillisecond=v;k.utcMilliseconds=u;k.utcMinute=ia;k.utcMinutes=aa;k.utcMonday=ua;k.utcMondays=ba;k.utcMonth=Ra;k.utcMonths=db;k.utcSaturday=U;k.utcSaturdays=na;k.utcSecond=m;k.utcSeconds=g;k.utcSunday=kb;k.utcSundays=W;k.utcThursday=Da;k.utcThursdays=qa;k.utcTuesday=Ta;k.utcTuesdays=ca;k.utcWednesday=Ya;k.utcWednesdays=ra;k.utcWeek=kb;k.utcWeeks=W;k.utcYear=$a;k.utcYears=Ca;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(17),A(15)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3))})(this,function(k,l,w,H){function N(va){const Ia=l.array(va).slice(),bb={};Ia.length||l.error("Missing time unit.");Ia.forEach(kb=>{l.hasOwnProperty(D,kb)?bb[kb]=1:l.error(`Invalid time unit: ${kb}.`)});
1<(bb.week||bb.day?1:0)+(bb.quarter||bb.month||bb.date?1:0)+(bb.dayofyear?1:0)&&l.error(`Incompatible time units: ${va}`);Ia.sort((kb,ua)=>D[kb]-D[ua]);return Ia}function x(va){M.setFullYear(va);M.setMonth(0);M.setDate(1);M.setHours(0,0,0,0);return M}function v(va){return w.timeDay.count(x(va.getFullYear())-1,va)}function u(va){return w.timeWeek.count(x(va.getFullYear())-1,va)}function m(va,Ia,bb,kb,ua,Ta,Ya){return 0<=va&&100>va?(Ia=new Date(-1,Ia,bb,kb,ua,Ta,Ya),Ia.setFullYear(va),Ia):new Date(va,
Ia,bb,kb,ua,Ta,Ya)}function g(va){const Ia=Date.UTC(va.getUTCFullYear(),0,1);return w.utcDay.count(Ia-1,va)}function d(va){const Ia=Date.UTC(va.getUTCFullYear(),0,1);return w.utcWeek.count(Ia-1,va)}function f(va){M.setTime(Date.UTC(va,0,1));return M.getUTCDay()}function a(va,Ia,bb,kb,ua,Ta,Ya){return 0<=va&&100>va?(va=new Date(Date.UTC(-1,Ia,bb,kb,ua,Ta,Ya)),va.setUTCFullYear(bb.y),va):new Date(Date.UTC(va,Ia,bb,kb,ua,Ta,Ya))}function e(va,Ia,bb,kb,ua){const Ta=Ia||1,Ya=l.peek(va);Ia=(Fa,na,Ra)=>
{Ra=Ra||Fa;return n(bb[Ra],kb[Ra],Fa===Ya&&Ta,na)};const Da=new Date;va=l.toSet(va);const ta=va.year?Ia("year"):l.constant(2012),U=va.month?Ia("month"):va.quarter?Ia("quarter"):l.zero,W=va.week&&va.day?Ia("day",1,"weekday"):va.week?Ia("week",1):va.day?Ia("day",1):va.date?Ia("date",1):va.dayofyear?Ia("dayofyear",1):l.one,ba=va.hours?Ia("hours"):l.zero,ca=va.minutes?Ia("minutes"):l.zero,ra=va.seconds?Ia("seconds"):l.zero,qa=va.milliseconds?Ia("milliseconds"):l.zero;return function(Fa){Da.setTime(+Fa);
Fa=ta(Da);return ua(Fa,U(Da),W(Da,Fa),ba(Da),ca(Da),ra(Da),qa(Da))}}function n(va,Ia,bb,kb){const ua=1>=bb?va:kb?(Ta,Ya)=>kb+bb*Math.floor((va(Ta,Ya)-kb)/bb):(Ta,Ya)=>bb*Math.floor(va(Ta,Ya)/bb);return Ia?(Ta,Ya)=>Ia(ua(Ta,Ya),Ya):ua}function y(va,Ia,bb){return Ia+7*va-(bb+6)%7}const B="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),D=B.reduce((va,Ia,bb)=>(va[Ia]=1+bb,va),{}),O={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",
["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},M=new Date,F={["year"]:va=>va.getFullYear(),["quarter"]:va=>Math.floor(va.getMonth()/3),["month"]:va=>va.getMonth(),["date"]:va=>va.getDate(),["hours"]:va=>va.getHours(),["minutes"]:va=>va.getMinutes(),["seconds"]:va=>va.getSeconds(),["milliseconds"]:va=>va.getMilliseconds(),["dayofyear"]:va=>v(va),["week"]:va=>
u(va),["weekday"]:(va,Ia)=>y(u(va),va.getDay(),x(Ia).getDay()),["day"]:(va,Ia)=>y(1,va.getDay(),x(Ia).getDay())},z={["quarter"]:va=>3*va,["week"]:(va,Ia)=>y(va,0,x(Ia).getDay())},G={["year"]:va=>va.getUTCFullYear(),["quarter"]:va=>Math.floor(va.getUTCMonth()/3),["month"]:va=>va.getUTCMonth(),["date"]:va=>va.getUTCDate(),["hours"]:va=>va.getUTCHours(),["minutes"]:va=>va.getUTCMinutes(),["seconds"]:va=>va.getUTCSeconds(),["milliseconds"]:va=>va.getUTCMilliseconds(),["dayofyear"]:va=>g(va),["week"]:va=>
d(va),["day"]:(va,Ia)=>y(1,va.getUTCDay(),f(Ia)),["weekday"]:(va,Ia)=>y(d(va),va.getUTCDay(),f(Ia))},K={["quarter"]:va=>3*va,["week"]:(va,Ia)=>y(va,0,f(Ia))},R={["year"]:w.timeYear,["quarter"]:w.timeMonth.every(3),["month"]:w.timeMonth,["week"]:w.timeWeek,["date"]:w.timeDay,["day"]:w.timeDay,["dayofyear"]:w.timeDay,["hours"]:w.timeHour,["minutes"]:w.timeMinute,["seconds"]:w.timeSecond,["milliseconds"]:w.timeMillisecond},T={["year"]:w.utcYear,["quarter"]:w.utcMonth.every(3),["month"]:w.utcMonth,["week"]:w.utcWeek,
["date"]:w.utcDay,["day"]:w.utcDay,["dayofyear"]:w.utcDay,["hours"]:w.utcHour,["minutes"]:w.utcMinute,["seconds"]:w.utcSecond,["milliseconds"]:w.utcMillisecond},ja=6048E5,fa=2592E6,ha=31536E6,la="year month date hours minutes seconds milliseconds".split(" "),Z=la.slice(0,-1),P=Z.slice(0,-1),C=P.slice(0,-1),V=C.slice(0,-1),ia=["year","month"],aa=["year"],ya=[[Z,1,1E3],[Z,5,5E3],[Z,15,15E3],[Z,30,3E4],[P,1,6E4],[P,5,3E5],[P,15,9E5],[P,30,18E5],[C,1,36E5],[C,3,108E5],[C,6,216E5],[C,12,432E5],[V,1,864E5],
[["year","week"],1,ja],[ia,1,fa],[ia,3,3*fa],[aa,1,ha]];k.DATE="date";k.DAY="day";k.DAYOFYEAR="dayofyear";k.HOURS="hours";k.MILLISECONDS="milliseconds";k.MINUTES="minutes";k.MONTH="month";k.QUARTER="quarter";k.SECONDS="seconds";k.TIME_UNITS=B;k.WEEK="week";k.YEAR="year";k.dayofyear=function(va){return v(new Date(va))};k.timeBin=function(va){var Ia=va.extent;va=va.maxbins||40;var bb=Math.abs(l.span(Ia))/va;let kb=H.bisector(ua=>ua[2]).right(ya,bb);kb===ya.length?(bb=aa,Ia=H.tickStep(Ia[0]/ha,Ia[1]/
ha,va)):kb?(kb=ya[bb/ya[kb-1][2]<ya[kb][2]/bb?kb-1:kb],bb=kb[0],Ia=kb[1]):(bb=la,Ia=Math.max(H.tickStep(Ia[0],Ia[1],va),1));return{units:bb,step:Ia}};k.timeFloor=function(va,Ia){return e(va,Ia||1,F,z,m)};k.timeInterval=function(va){return R[va]};k.timeOffset=function(va,Ia,bb){return(va=R[va])?va.offset(Ia,bb):void 0};k.timeSequence=function(va,Ia,bb,kb){return(va=R[va])?va.range(Ia,bb,kb):void 0};k.timeUnitSpecifier=function(va,Ia){Ia=l.extend({},O,Ia);va=N(va);const bb=va.length;let kb="",ua,Ta,
Ya;for(ua=0;ua<bb;)for(Ta=va.length;Ta>ua;--Ta)if(Ya=va.slice(ua,Ta).join("-"),null!=Ia[Ya]){kb+=Ia[Ya];ua=Ta;break}return kb.trim()};k.timeUnits=N;k.utcFloor=function(va,Ia){return e(va,Ia||1,G,K,a)};k.utcInterval=function(va){return T[va]};k.utcOffset=function(va,Ia,bb){return(va=T[va])?va.offset(Ia,bb):void 0};k.utcSequence=function(va,Ia,bb,kb){return(va=T[va])?va.range(Ia,bb,kb):void 0};k.utcdayofyear=function(va){return g(new Date(va))};k.utcweek=function(va){return d(new Date(va))};k.week=
function(va){return u(new Date(va))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(17)):"function"===typeof define&&define.amd?define(["exports","d3-time"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(Pb){if(0<=Pb.y&&100>Pb.y){var gc=new Date(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L);gc.setFullYear(Pb.y);return gc}return new Date(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L)}function H(Pb){if(0<=Pb.y&&100>Pb.y){var gc=new Date(Date.UTC(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L));
gc.setUTCFullYear(Pb.y);return gc}return new Date(Date.UTC(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L))}function N(Pb,gc,Eb){return{y:Pb,m:gc,d:Eb,H:0,M:0,S:0,L:0}}function x(Pb){function gc(uc,Tc){return function(ad){var ld=[],Cd=-1,Dd=0,Ud=uc.length,ae,oe;for(ad instanceof Date||(ad=new Date(+ad));++Cd<Ud;)if(37===uc.charCodeAt(Cd)){ld.push(uc.slice(Dd,Cd));null!=(Dd=Sc[ae=uc.charAt(++Cd)])?ae=uc.charAt(++Cd):Dd="e"===ae?" ":"0";if(oe=Tc[ae])ae=oe(ad,Dd);ld.push(ae);Dd=Cd+1}ld.push(uc.slice(Dd,Cd));return ld.join("")}}
function Eb(uc,Tc){return function(ad){var ld=N(1900,void 0,1);if(zc(ld,uc,ad+="",0)!=ad.length)return null;if("Q"in ld)return new Date(ld.Q);if("s"in ld)return new Date(1E3*ld.s+("L"in ld?ld.L:0));!Tc||"Z"in ld||(ld.Z=0);"p"in ld&&(ld.H=ld.H%12+12*ld.p);void 0===ld.m&&(ld.m="q"in ld?ld.q:0);if("V"in ld){if(1>ld.V||53<ld.V)return null;"w"in ld||(ld.w=1);if("Z"in ld){ad=H(N(ld.y,0,1));var Cd=ad.getUTCDay();ad=4<Cd||0===Cd?l.utcMonday.ceil(ad):l.utcMonday(ad);ad=l.utcDay.offset(ad,7*(ld.V-1));ld.y=
ad.getUTCFullYear();ld.m=ad.getUTCMonth();ld.d=ad.getUTCDate()+(ld.w+6)%7}else ad=w(N(ld.y,0,1)),Cd=ad.getDay(),ad=4<Cd||0===Cd?l.timeMonday.ceil(ad):l.timeMonday(ad),ad=l.timeDay.offset(ad,7*(ld.V-1)),ld.y=ad.getFullYear(),ld.m=ad.getMonth(),ld.d=ad.getDate()+(ld.w+6)%7}else if("W"in ld||"U"in ld)"w"in ld||(ld.w="u"in ld?ld.u%7:"W"in ld?1:0),Cd="Z"in ld?H(N(ld.y,0,1)).getUTCDay():w(N(ld.y,0,1)).getDay(),ld.m=0,ld.d="W"in ld?(ld.w+6)%7+7*ld.W-(Cd+5)%7:ld.w+7*ld.U-(Cd+6)%7;return"Z"in ld?(ld.H+=ld.Z/
100|0,ld.M+=ld.Z%100,H(ld)):w(ld)}}function zc(uc,Tc,ad,ld){for(var Cd=0,Dd=Tc.length,Ud=ad.length,ae;Cd<Dd;){if(ld>=Ud)return-1;ae=Tc.charCodeAt(Cd++);if(37===ae){if(ae=Tc.charAt(Cd++),ae=Dc[ae in Sc?Tc.charAt(Cd++):ae],!ae||0>(ld=ae(uc,ad,ld)))return-1}else if(ae!=ad.charCodeAt(ld++))return-1}return ld}var Vc=Pb.dateTime,Ed=Pb.date,Vd=Pb.time,Ka=Pb.periods,eb=Pb.days,wb=Pb.shortDays,Hb=Pb.months,ac=Pb.shortMonths,Lb=m(Ka),Ac=g(Ka),tc=m(eb),pb=g(eb),Bb=m(wb),Ub=g(wb),mc=m(Hb),Bc=g(Hb),Cc=m(ac),Xc=
g(ac),Qb={a:function(uc){return wb[uc.getDay()]},A:function(uc){return eb[uc.getDay()]},b:function(uc){return ac[uc.getMonth()]},B:function(uc){return Hb[uc.getMonth()]},c:null,d:Z,e:Z,f:aa,g:U,G:ba,H:P,I:C,j:V,L:ia,m:ya,M:va,p:function(uc){return Ka[+(12<=uc.getHours())]},q:function(uc){return 1+~~(uc.getMonth()/3)},Q:jc,s:rc,S:Ia,u:bb,U:kb,V:Ta,w:Ya,W:Da,x:null,X:null,y:ta,Y:W,Z:ca,"%":hc},Ic={a:function(uc){return wb[uc.getUTCDay()]},A:function(uc){return eb[uc.getUTCDay()]},b:function(uc){return ac[uc.getUTCMonth()]},
B:function(uc){return Hb[uc.getUTCMonth()]},c:null,d:ra,e:ra,f:db,g:md,G:Hc,H:qa,I:Fa,j:na,L:Ra,m:$a,M:Ca,p:function(uc){return Ka[+(12<=uc.getUTCHours())]},q:function(uc){return 1+~~(uc.getUTCMonth()/3)},Q:jc,s:rc,S:Ga,u:pa,U:Ha,V:jb,w:Fb,W:Xb,x:null,X:null,y:nc,Y:pc,Z:mb,"%":hc},Dc={a:function(uc,Tc,ad){return(Tc=Bb.exec(Tc.slice(ad)))?(uc.w=Ub.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},A:function(uc,Tc,ad){return(Tc=tc.exec(Tc.slice(ad)))?(uc.w=pb.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},
b:function(uc,Tc,ad){return(Tc=Cc.exec(Tc.slice(ad)))?(uc.m=Xc.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},B:function(uc,Tc,ad){return(Tc=mc.exec(Tc.slice(ad)))?(uc.m=Bc.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},c:function(uc,Tc,ad){return zc(uc,Vc,Tc,ad)},d:F,e:F,f:ja,g:B,G:y,H:G,I:G,j:z,L:T,m:M,M:K,p:function(uc,Tc,ad){return(Tc=Lb.exec(Tc.slice(ad)))?(uc.p=Ac.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},q:O,Q:ha,s:la,S:R,u:f,U:a,V:e,w:d,W:n,x:function(uc,Tc,ad){return zc(uc,Ed,Tc,ad)},X:function(uc,
Tc,ad){return zc(uc,Vd,Tc,ad)},y:B,Y:y,Z:D,"%":fa};Qb.x=gc(Ed,Qb);Qb.X=gc(Vd,Qb);Qb.c=gc(Vc,Qb);Ic.x=gc(Ed,Ic);Ic.X=gc(Vd,Ic);Ic.c=gc(Vc,Ic);return{format:function(uc){var Tc=gc(uc+="",Qb);Tc.toString=function(){return uc};return Tc},parse:function(uc){var Tc=Eb(uc+="",!1);Tc.toString=function(){return uc};return Tc},utcFormat:function(uc){var Tc=gc(uc+="",Ic);Tc.toString=function(){return uc};return Tc},utcParse:function(uc){var Tc=Eb(uc+="",!0);Tc.toString=function(){return uc};return Tc}}}function v(Pb,
gc,Eb){var zc=0>Pb?"-":"";Pb=(zc?-Pb:Pb)+"";var Vc=Pb.length;return zc+(Vc<Eb?Array(Eb-Vc+1).join(gc)+Pb:Pb)}function u(Pb){return Pb.replace(ge,"\\$\x26")}function m(Pb){return new RegExp("^(?:"+Pb.map(u).join("|")+")","i")}function g(Pb){return new Map(Pb.map((gc,Eb)=>[gc.toLowerCase(),Eb]))}function d(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.w=+gc[0],Eb+gc[0].length):-1}function f(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.u=+gc[0],Eb+gc[0].length):-1}function a(Pb,gc,Eb){return(gc=
Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.U=+gc[0],Eb+gc[0].length):-1}function e(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.V=+gc[0],Eb+gc[0].length):-1}function n(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.W=+gc[0],Eb+gc[0].length):-1}function y(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+4)))?(Pb.y=+gc[0],Eb+gc[0].length):-1}function B(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.y=+gc[0]+(68<+gc[0]?1900:2E3),Eb+gc[0].length):-1}function D(Pb,gc,Eb){return(gc=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(gc.slice(Eb,
Eb+6)))?(Pb.Z=gc[1]?0:-(gc[2]+(gc[3]||"00")),Eb+gc[0].length):-1}function O(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.q=3*gc[0]-3,Eb+gc[0].length):-1}function M(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.m=gc[0]-1,Eb+gc[0].length):-1}function F(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.d=+gc[0],Eb+gc[0].length):-1}function z(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+3)))?(Pb.m=0,Pb.d=+gc[0],Eb+gc[0].length):-1}function G(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?
(Pb.H=+gc[0],Eb+gc[0].length):-1}function K(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.M=+gc[0],Eb+gc[0].length):-1}function R(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.S=+gc[0],Eb+gc[0].length):-1}function T(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+3)))?(Pb.L=+gc[0],Eb+gc[0].length):-1}function ja(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+6)))?(Pb.L=Math.floor(gc[0]/1E3),Eb+gc[0].length):-1}function fa(Pb,gc,Eb){return(Pb=Fd.exec(gc.slice(Eb,Eb+1)))?Eb+Pb[0].length:-1}function ha(Pb,
gc,Eb){return(gc=Lc.exec(gc.slice(Eb)))?(Pb.Q=+gc[0],Eb+gc[0].length):-1}function la(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb)))?(Pb.s=+gc[0],Eb+gc[0].length):-1}function Z(Pb,gc){return v(Pb.getDate(),gc,2)}function P(Pb,gc){return v(Pb.getHours(),gc,2)}function C(Pb,gc){return v(Pb.getHours()%12||12,gc,2)}function V(Pb,gc){return v(1+l.timeDay.count(l.timeYear(Pb),Pb),gc,3)}function ia(Pb,gc){return v(Pb.getMilliseconds(),gc,3)}function aa(Pb,gc){return ia(Pb,gc)+"000"}function ya(Pb,gc){return v(Pb.getMonth()+
1,gc,2)}function va(Pb,gc){return v(Pb.getMinutes(),gc,2)}function Ia(Pb,gc){return v(Pb.getSeconds(),gc,2)}function bb(Pb){Pb=Pb.getDay();return 0===Pb?7:Pb}function kb(Pb,gc){return v(l.timeSunday.count(l.timeYear(Pb)-1,Pb),gc,2)}function ua(Pb){var gc=Pb.getDay();return 4<=gc||0===gc?l.timeThursday(Pb):l.timeThursday.ceil(Pb)}function Ta(Pb,gc){Pb=ua(Pb);return v(l.timeThursday.count(l.timeYear(Pb),Pb)+(4===l.timeYear(Pb).getDay()),gc,2)}function Ya(Pb){return Pb.getDay()}function Da(Pb,gc){return v(l.timeMonday.count(l.timeYear(Pb)-
1,Pb),gc,2)}function ta(Pb,gc){return v(Pb.getFullYear()%100,gc,2)}function U(Pb,gc){Pb=ua(Pb);return v(Pb.getFullYear()%100,gc,2)}function W(Pb,gc){return v(Pb.getFullYear()%1E4,gc,4)}function ba(Pb,gc){var Eb=Pb.getDay();Pb=4<=Eb||0===Eb?l.timeThursday(Pb):l.timeThursday.ceil(Pb);return v(Pb.getFullYear()%1E4,gc,4)}function ca(Pb){Pb=Pb.getTimezoneOffset();return(0<Pb?"-":(Pb*=-1,"+"))+v(Pb/60|0,"0",2)+v(Pb%60,"0",2)}function ra(Pb,gc){return v(Pb.getUTCDate(),gc,2)}function qa(Pb,gc){return v(Pb.getUTCHours(),
gc,2)}function Fa(Pb,gc){return v(Pb.getUTCHours()%12||12,gc,2)}function na(Pb,gc){return v(1+l.utcDay.count(l.utcYear(Pb),Pb),gc,3)}function Ra(Pb,gc){return v(Pb.getUTCMilliseconds(),gc,3)}function db(Pb,gc){return Ra(Pb,gc)+"000"}function $a(Pb,gc){return v(Pb.getUTCMonth()+1,gc,2)}function Ca(Pb,gc){return v(Pb.getUTCMinutes(),gc,2)}function Ga(Pb,gc){return v(Pb.getUTCSeconds(),gc,2)}function pa(Pb){Pb=Pb.getUTCDay();return 0===Pb?7:Pb}function Ha(Pb,gc){return v(l.utcSunday.count(l.utcYear(Pb)-
1,Pb),gc,2)}function Ua(Pb){var gc=Pb.getUTCDay();return 4<=gc||0===gc?l.utcThursday(Pb):l.utcThursday.ceil(Pb)}function jb(Pb,gc){Pb=Ua(Pb);return v(l.utcThursday.count(l.utcYear(Pb),Pb)+(4===l.utcYear(Pb).getUTCDay()),gc,2)}function Fb(Pb){return Pb.getUTCDay()}function Xb(Pb,gc){return v(l.utcMonday.count(l.utcYear(Pb)-1,Pb),gc,2)}function nc(Pb,gc){return v(Pb.getUTCFullYear()%100,gc,2)}function md(Pb,gc){Pb=Ua(Pb);return v(Pb.getUTCFullYear()%100,gc,2)}function pc(Pb,gc){return v(Pb.getUTCFullYear()%
1E4,gc,4)}function Hc(Pb,gc){var Eb=Pb.getUTCDay();Pb=4<=Eb||0===Eb?l.utcThursday(Pb):l.utcThursday.ceil(Pb);return v(Pb.getUTCFullYear()%1E4,gc,4)}function mb(){return"+0000"}function hc(){return"%"}function jc(Pb){return+Pb}function rc(Pb){return Math.floor(+Pb/1E3)}function Pc(Pb){wd=x(Pb);k.timeFormat=wd.format;k.timeParse=wd.parse;k.utcFormat=wd.utcFormat;k.utcParse=wd.utcParse;return wd}function sc(Pb){return Pb.toISOString()}function Uc(Pb){Pb=new Date(Pb);return isNaN(Pb)?null:Pb}var Sc={"-":"",
_:" ",0:"0"},Lc=/^\s*\d+/,Fd=/^%/,ge=/[\\^$*+?|[\]().{}]/g,wd;Pc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var vd=Date.prototype.toISOString?sc:k.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),
Wd=+new Date("2000-01-01T00:00:00.000Z")?Uc:k.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");k.isoFormat=vd;k.isoParse=Wd;k.timeFormatDefaultLocale=Pc;k.timeFormatLocale=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(16),A(18),A(14),A(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3,k.d3,k.vega,k.vega,k.d3))})(this,function(k,l,w,H,N,x){function v(F){const z={};return G=>z[G]||(z[G]=F(G))}function u(F,z){return G=>{G=F(G);const K=G.indexOf(z);if(0>K)return G;
a:{var R=G.lastIndexOf("e");if(!(0<R)){for(R=G.length;--R>K;){var T=G.charCodeAt(R);if(48<=T&&57>=T){R+=1;break a}}R=void 0}}for(T=R<G.length?G.slice(R):"";--R>K;)if("0"!==G[R]){++R;break}return G.slice(0,R)+T}}function m(F){const z=v(F.format),G=F.formatPrefix;return{format:z,formatPrefix:G,formatFloat(K){K=w.formatSpecifier(K||",");if(null==K.precision){K.precision=12;switch(K.type){case "%":K.precision-=2;break;case "e":--K.precision}return u(z(K),z(".1f")(1)[1])}return z(K)},formatSpan(K,R,T,
ja){ja=w.formatSpecifier(null==ja?",f":ja);T=l.tickStep(K,R,T);K=Math.max(Math.abs(K),Math.abs(R));if(null==ja.precision)switch(ja.type){case "s":return isNaN(R=w.precisionPrefix(T,K))||(ja.precision=R),G(ja,K);case "":case "e":case "g":case "p":case "r":isNaN(R=w.precisionRound(T,K))||(ja.precision=R-("e"===ja.type));break;case "f":case "%":isNaN(R=w.precisionFixed(T))||(ja.precision=R-2*("%"===ja.type))}return z(ja)}}}function g(){return O=m({format:w.format,formatPrefix:w.formatPrefix})}function d(F){return m(w.formatLocale(F))}
function f(F){return arguments.length?O=d(F):O}function a(F,z,G){G=G||{};N.isObject(G)||N.error(`Invalid time multi-format specifier: ${G}`);const K=z(H.SECONDS),R=z(H.MINUTES),T=z(H.HOURS),ja=z(H.DATE),fa=z(H.WEEK),ha=z(H.MONTH),la=z(H.QUARTER),Z=z(H.YEAR),P=F(G[H.MILLISECONDS]||".%L"),C=F(G[H.SECONDS]||":%S"),V=F(G[H.MINUTES]||"%I:%M"),ia=F(G[H.HOURS]||"%I %p"),aa=F(G[H.DATE]||G[H.DAY]||"%a %d"),ya=F(G[H.WEEK]||"%b %d"),va=F(G[H.MONTH]||"%B"),Ia=F(G[H.QUARTER]||"%B"),bb=F(G[H.YEAR]||"%Y");return kb=>
(K(kb)<kb?P:R(kb)<kb?C:T(kb)<kb?V:ja(kb)<kb?ia:ha(kb)<kb?fa(kb)<kb?aa:ya:Z(kb)<kb?la(kb)<kb?va:Ia:bb)(kb)}function e(F){const z=v(F.format),G=v(F.utcFormat);return{timeFormat:K=>N.isString(K)?z(K):a(z,H.timeInterval,K),utcFormat:K=>N.isString(K)?G(K):a(G,H.utcInterval,K),timeParse:v(F.parse),utcParse:v(F.utcParse)}}function n(){return M=e({format:x.timeFormat,parse:x.timeParse,utcFormat:x.utcFormat,utcParse:x.utcParse})}function y(F){return e(x.timeFormatLocale(F))}function B(F){return arguments.length?
M=y(F):M}function D(F,z){var G=arguments.length;G&&2!==G&&N.error("defaultLocale expects either zero or two arguments.");if(G){G=f(F);var K=B(z);G=N.extend({},G,K)}else G=f(),K=B(),G=N.extend({},G,K);return G}let O;g();let M;n();k.defaultLocale=D;k.locale=function(F,z){F=F?d(F):f();z=z?y(z):B();return N.extend({},F,z)};k.numberFormatDefaultLocale=f;k.numberFormatLocale=d;k.resetDefaultLocale=function(){g();n();return D()};k.resetNumberFormatDefaultLocale=g;k.resetTimeFormatDefaultLocale=n;k.timeFormatDefaultLocale=
B;k.timeFormatLocale=y;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ja,A,rb,E){function k(x){var v=x.length;if(0<v%4)throw Error("Invalid string. Length must be a multiple of 4");x=x.indexOf("\x3d");-1===x&&(x=v);return[x,x===v?0:4-x%4]}function l(x,v,u){for(var m=[],g=v;g<u;g+=3)v=(x[g]<<16&16711680)+(x[g+1]<<8&65280)+(x[g+2]&255),m.push(w[v>>18&63]+w[v>>12&63]+w[v>>6&63]+w[v&63]);return m.join("")}E.byteLength=function(x){x=k(x);var v=x[1];return 3*(x[0]+v)/4-v};E.toByteArray=function(x){var v=k(x);var u=v[0];v=v[1];var m=new N(3*(u+
v)/4-v),g=0,d=0<v?u-4:u,f;for(f=0;f<d;f+=4)u=H[x.charCodeAt(f)]<<18|H[x.charCodeAt(f+1)]<<12|H[x.charCodeAt(f+2)]<<6|H[x.charCodeAt(f+3)],m[g++]=u>>16&255,m[g++]=u>>8&255,m[g++]=u&255;2===v&&(u=H[x.charCodeAt(f)]<<2|H[x.charCodeAt(f+1)]>>4,m[g++]=u&255);1===v&&(u=H[x.charCodeAt(f)]<<10|H[x.charCodeAt(f+1)]<<4|H[x.charCodeAt(f+2)]>>2,m[g++]=u>>8&255,m[g++]=u&255);return m};E.fromByteArray=function(x){for(var v=x.length,u=v%3,m=[],g=0,d=v-u;g<d;g+=16383)m.push(l(x,g,g+16383>d?d:g+16383));1===u?(x=x[v-
1],m.push(w[x>>2]+w[x<<4&63]+"\x3d\x3d")):2===u&&(x=(x[v-2]<<8)+x[v-1],m.push(w[x>>10]+w[x>>4&63]+w[x<<2&63]+"\x3d"));return m.join("")};var w=[],H=[],N="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ja=0;64>Ja;++Ja)w[Ja]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ja],H["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ja)]=Ja;H[45]=62;H[95]=63};
shadow$provide[22]=function(Ja,A,rb,E){E.read=function(k,l,w,H,N){var x=8*N-H-1;var v=(1<<x)-1,u=v>>1,m=-7;N=w?N-1:0;var g=w?-1:1,d=k[l+N];N+=g;w=d&(1<<-m)-1;d>>=-m;for(m+=x;0<m;w=256*w+k[l+N],N+=g,m-=8);x=w&(1<<-m)-1;w>>=-m;for(m+=H;0<m;x=256*x+k[l+N],N+=g,m-=8);if(0===w)w=1-u;else{if(w===v)return x?NaN:Infinity*(d?-1:1);x+=Math.pow(2,H);w-=u}return(d?-1:1)*x*Math.pow(2,w-H)};E.write=function(k,l,w,H,N,x){var v,u=8*x-N-1,m=(1<<u)-1,g=m>>1,d=23===N?Math.pow(2,-24)-Math.pow(2,-77):0;x=H?0:x-1;var f=
H?1:-1,a=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,H=m):(H=Math.floor(Math.log(l)/Math.LN2),1>l*(v=Math.pow(2,-H))&&(H--,v*=2),l=1<=H+g?l+d/v:l+d*Math.pow(2,1-g),2<=l*v&&(H++,v/=2),H+g>=m?(l=0,H=m):1<=H+g?(l=(l*v-1)*Math.pow(2,N),H+=g):(l=l*Math.pow(2,g-1)*Math.pow(2,N),H=0));for(;8<=N;k[w+x]=l&255,x+=f,l/=256,N-=8);H=H<<N|l;for(u+=N;0<u;k[w+x]=H&255,x+=f,H/=256,u-=8);k[w+x-f]|=128*a}};
shadow$provide[23]=function(Ja,A,rb,E){var k={}.toString;rb.exports=Array.isArray||function(l){return"[object Array]"==k.call(l)}};
shadow$provide[24]=function(Ja,A,rb,E){function k(){try{var P=new Uint8Array(1);P.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===P.foo()&&"function"===typeof P.subarray&&0===P.subarray(1,1).byteLength}catch(C){return!1}}function l(P,C){if((w.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<C)throw new RangeError("Invalid typed array length");w.TYPED_ARRAY_SUPPORT?(P=new Uint8Array(C),P.__proto__=w.prototype):(null===P&&(P=new w(C)),P.length=C);return P}function w(P,C,V){if(!(w.TYPED_ARRAY_SUPPORT||
this instanceof w))return new w(P,C,V);if("number"===typeof P){if("string"===typeof C)throw Error("If encoding is specified then the first argument must be a string");return x(this,P)}return H(this,P,C,V)}function H(P,C,V,ia){if("number"===typeof C)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&C instanceof ArrayBuffer){C.byteLength;if(0>V||C.byteLength<V)throw new RangeError("'offset' is out of bounds");if(C.byteLength<V+(ia||0))throw new RangeError("'length' is out of bounds");
C=void 0===V&&void 0===ia?new Uint8Array(C):void 0===ia?new Uint8Array(C,V):new Uint8Array(C,V,ia);w.TYPED_ARRAY_SUPPORT?(P=C,P.__proto__=w.prototype):P=v(P,C);return P}if("string"===typeof C){ia=P;P=V;if("string"!==typeof P||""===P)P="utf8";if(!w.isEncoding(P))throw new TypeError('"encoding" must be a valid string encoding');V=g(C,P)|0;ia=l(ia,V);C=ia.write(C,P);C!==V&&(ia=ia.slice(0,C));return ia}return u(P,C)}function N(P){if("number"!==typeof P)throw new TypeError('"size" argument must be a number');
if(0>P)throw new RangeError('"size" argument must not be negative');}function x(P,C){N(C);P=l(P,0>C?0:m(C)|0);if(!w.TYPED_ARRAY_SUPPORT)for(var V=0;V<C;++V)P[V]=0;return P}function v(P,C){var V=0>C.length?0:m(C.length)|0;P=l(P,V);for(var ia=0;ia<V;ia+=1)P[ia]=C[ia]&255;return P}function u(P,C){if(w.isBuffer(C)){var V=m(C.length)|0;P=l(P,V);if(0===P.length)return P;C.copy(P,0,0,V);return P}if(C){if("undefined"!==typeof ArrayBuffer&&C.buffer instanceof ArrayBuffer||"length"in C)return(V="number"!==
typeof C.length)||(V=C.length,V=V!==V),V?l(P,0):v(P,C);if("Buffer"===C.type&&ha(C.data))return v(P,C.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function m(P){if(P>=(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return P|0}function g(P,C){if(w.isBuffer(P))return P.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(P)||P instanceof ArrayBuffer))return P.byteLength;"string"!==typeof P&&(P=""+P);var V=P.length;if(0===V)return 0;for(var ia=!1;;)switch(C){case "ascii":case "latin1":case "binary":return V;case "utf8":case "utf-8":case void 0:return K(P).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*V;case "hex":return V>>>1;case "base64":return ja.toByteArray(G(P)).length;default:if(ia)return K(P).length;C=(""+
C).toLowerCase();ia=!0}}function d(P,C,V){var ia=!1;if(void 0===C||0>C)C=0;if(C>this.length)return"";if(void 0===V||V>this.length)V=this.length;if(0>=V)return"";V>>>=0;C>>>=0;if(V<=C)return"";for(P||(P="utf8");;)switch(P){case "hex":P=C;C=V;V=this.length;if(!P||0>P)P=0;if(!C||0>C||C>V)C=V;ia="";for(V=P;V<C;++V)P=ia,ia=this[V],ia=16>ia?"0"+ia.toString(16):ia.toString(16),ia=P+ia;return ia;case "utf8":case "utf-8":return n(this,C,V);case "ascii":P="";for(V=Math.min(this.length,V);C<V;++C)P+=String.fromCharCode(this[C]&
127);return P;case "latin1":case "binary":P="";for(V=Math.min(this.length,V);C<V;++C)P+=String.fromCharCode(this[C]);return P;case "base64":return C=0===C&&V===this.length?ja.fromByteArray(this):ja.fromByteArray(this.slice(C,V)),C;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":C=this.slice(C,V);V="";for(P=0;P<C.length;P+=2)V+=String.fromCharCode(C[P]+256*C[P+1]);return V;default:if(ia)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase();ia=!0}}function f(P,C,V){var ia=P[C];
P[C]=P[V];P[V]=ia}function a(P,C,V,ia,aa){if(0===P.length)return-1;"string"===typeof V?(ia=V,V=0):2147483647<V?V=2147483647:-2147483648>V&&(V=-2147483648);V=+V;isNaN(V)&&(V=aa?0:P.length-1);0>V&&(V=P.length+V);if(V>=P.length){if(aa)return-1;V=P.length-1}else if(0>V)if(aa)V=0;else return-1;"string"===typeof C&&(C=w.from(C,ia));if(w.isBuffer(C))return 0===C.length?-1:e(P,C,V,ia,aa);if("number"===typeof C)return C&=255,w.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?aa?Uint8Array.prototype.indexOf.call(P,
C,V):Uint8Array.prototype.lastIndexOf.call(P,C,V):e(P,[C],V,ia,aa);throw new TypeError("val must be string, number or Buffer");}function e(P,C,V,ia,aa){function ya(kb,ua){return 1===va?kb[ua]:kb.readUInt16BE(ua*va)}var va=1,Ia=P.length,bb=C.length;if(void 0!==ia&&(ia=String(ia).toLowerCase(),"ucs2"===ia||"ucs-2"===ia||"utf16le"===ia||"utf-16le"===ia)){if(2>P.length||2>C.length)return-1;va=2;Ia/=2;bb/=2;V/=2}if(aa)for(ia=-1;V<Ia;V++)if(ya(P,V)===ya(C,-1===ia?0:V-ia)){if(-1===ia&&(ia=V),V-ia+1===bb)return ia*
va}else-1!==ia&&(V-=V-ia),ia=-1;else for(V+bb>Ia&&(V=Ia-bb);0<=V;V--){Ia=!0;for(ia=0;ia<bb;ia++)if(ya(P,V+ia)!==ya(C,ia)){Ia=!1;break}if(Ia)return V}return-1}function n(P,C,V){V=Math.min(P.length,V);for(var ia=[];C<V;){var aa=P[C],ya=null,va=239<aa?4:223<aa?3:191<aa?2:1;if(C+va<=V)switch(va){case 1:128>aa&&(ya=aa);break;case 2:var Ia=P[C+1];128===(Ia&192)&&(aa=(aa&31)<<6|Ia&63,127<aa&&(ya=aa));break;case 3:Ia=P[C+1];var bb=P[C+2];128===(Ia&192)&&128===(bb&192)&&(aa=(aa&15)<<12|(Ia&63)<<6|bb&63,2047<
aa&&(55296>aa||57343<aa)&&(ya=aa));break;case 4:Ia=P[C+1];bb=P[C+2];var kb=P[C+3];128===(Ia&192)&&128===(bb&192)&&128===(kb&192)&&(aa=(aa&15)<<18|(Ia&63)<<12|(bb&63)<<6|kb&63,65535<aa&&1114112>aa&&(ya=aa))}null===ya?(ya=65533,va=1):65535<ya&&(ya-=65536,ia.push(ya>>>10&1023|55296),ya=56320|ya&1023);ia.push(ya);C+=va}P=ia.length;if(P<=la)ia=String.fromCharCode.apply(String,ia);else{V="";for(C=0;C<P;)V+=String.fromCharCode.apply(String,ia.slice(C,C+=la));ia=V}return ia}function y(P,C,V){if(0!==P%1||
0>P)throw new RangeError("offset is not uint");if(P+C>V)throw new RangeError("Trying to access beyond buffer length");}function B(P,C,V,ia,aa,ya){if(!w.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>aa||C<ya)throw new RangeError('"value" argument is out of bounds');if(V+ia>P.length)throw new RangeError("Index out of range");}function D(P,C,V,ia){0>C&&(C=65535+C+1);for(var aa=0,ya=Math.min(P.length-V,2);aa<ya;++aa)P[V+aa]=(C&255<<8*(ia?aa:1-aa))>>>8*(ia?aa:1-aa)}
function O(P,C,V,ia){0>C&&(C=4294967295+C+1);for(var aa=0,ya=Math.min(P.length-V,4);aa<ya;++aa)P[V+aa]=C>>>8*(ia?aa:3-aa)&255}function M(P,C,V,ia,aa,ya){if(V+ia>P.length)throw new RangeError("Index out of range");if(0>V)throw new RangeError("Index out of range");}function F(P,C,V,ia,aa){aa||M(P,C,V,4,3.4028234663852886E38,-3.4028234663852886E38);fa.write(P,C,V,ia,23,4);return V+4}function z(P,C,V,ia,aa){aa||M(P,C,V,8,1.7976931348623157E308,-1.7976931348623157E308);fa.write(P,C,V,ia,52,8);return V+
8}function G(P){P=P.trim?P.trim():P.replace(/^\s+|\s+$/g,"");P=P.replace(Z,"");if(2>P.length)return"";for(;0!==P.length%4;)P+="\x3d";return P}function K(P,C){C=C||Infinity;for(var V,ia=P.length,aa=null,ya=[],va=0;va<ia;++va){V=P.charCodeAt(va);if(55295<V&&57344>V){if(!aa){if(56319<V){-1<(C-=3)&&ya.push(239,191,189);continue}else if(va+1===ia){-1<(C-=3)&&ya.push(239,191,189);continue}aa=V;continue}if(56320>V){-1<(C-=3)&&ya.push(239,191,189);aa=V;continue}V=(aa-55296<<10|V-56320)+65536}else aa&&-1<
(C-=3)&&ya.push(239,191,189);aa=null;if(128>V){if(0>--C)break;ya.push(V)}else if(2048>V){if(0>(C-=2))break;ya.push(V>>6|192,V&63|128)}else if(65536>V){if(0>(C-=3))break;ya.push(V>>12|224,V>>6&63|128,V&63|128)}else if(1114112>V){if(0>(C-=4))break;ya.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw Error("Invalid code point");}return ya}function R(P){for(var C=[],V=0;V<P.length;++V)C.push(P.charCodeAt(V)&255);return C}function T(P,C,V,ia){for(var aa=0;aa<ia&&!(aa+V>=C.length||aa>=P.length);++aa)C[aa+
V]=P[aa];return aa}var ja=A(21),fa=A(22),ha=A(23);E.Buffer=w;E.SlowBuffer=function(P){+P!=P&&(P=0);return w.alloc(+P)};E.INSPECT_MAX_BYTES=50;w.TYPED_ARRAY_SUPPORT=void 0!==Ja.TYPED_ARRAY_SUPPORT?Ja.TYPED_ARRAY_SUPPORT:k();E.kMaxLength=w.TYPED_ARRAY_SUPPORT?2147483647:1073741823;w.poolSize=8192;w._augment=function(P){P.__proto__=w.prototype;return P};w.from=function(P,C,V){return H(null,P,C,V)};w.TYPED_ARRAY_SUPPORT&&(w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,"undefined"!==
typeof Symbol&&Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0}));w.alloc=function(P,C,V){N(P);P=0>=P?l(null,P):void 0!==C?"string"===typeof V?l(null,P).fill(C,V):l(null,P).fill(C):l(null,P);return P};w.allocUnsafe=function(P){return x(null,P)};w.allocUnsafeSlow=function(P){return x(null,P)};w.isBuffer=function(P){return!(null==P||!P._isBuffer)};w.compare=function(P,C){if(!w.isBuffer(P)||!w.isBuffer(C))throw new TypeError("Arguments must be Buffers");
if(P===C)return 0;for(var V=P.length,ia=C.length,aa=0,ya=Math.min(V,ia);aa<ya;++aa)if(P[aa]!==C[aa]){V=P[aa];ia=C[aa];break}return V<ia?-1:ia<V?1:0};w.isEncoding=function(P){switch(String(P).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};w.concat=function(P,C){if(!ha(P))throw new TypeError('"list" argument must be an Array of Buffers');if(0===P.length)return w.alloc(0);
var V;if(void 0===C)for(V=C=0;V<P.length;++V)C+=P[V].length;C=w.allocUnsafe(C);var ia=0;for(V=0;V<P.length;++V){var aa=P[V];if(!w.isBuffer(aa))throw new TypeError('"list" argument must be an Array of Buffers');aa.copy(C,ia);ia+=aa.length}return C};w.byteLength=g;w.prototype._isBuffer=!0;w.prototype.swap16=function(){var P=this.length;if(0!==P%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<P;C+=2)f(this,C,C+1);return this};w.prototype.swap32=function(){var P=this.length;
if(0!==P%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<P;C+=4)f(this,C,C+3),f(this,C+1,C+2);return this};w.prototype.swap64=function(){var P=this.length;if(0!==P%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<P;C+=8)f(this,C,C+7),f(this,C+1,C+6),f(this,C+2,C+5),f(this,C+3,C+4);return this};w.prototype.toString=function(){var P=this.length|0;return 0===P?"":0===arguments.length?n(this,0,P):d.apply(this,arguments)};w.prototype.equals=
function(P){if(!w.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:0===w.compare(this,P)};w.prototype.inspect=function(){var P="",C=E.INSPECT_MAX_BYTES;0<this.length&&(P=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(P+=" ... "));return"\x3cBuffer "+P+"\x3e"};w.prototype.compare=function(P,C,V,ia,aa){if(!w.isBuffer(P))throw new TypeError("Argument must be a Buffer");void 0===C&&(C=0);void 0===V&&(V=P?P.length:0);void 0===ia&&(ia=0);void 0===aa&&(aa=
this.length);if(0>C||V>P.length||0>ia||aa>this.length)throw new RangeError("out of range index");if(ia>=aa&&C>=V)return 0;if(ia>=aa)return-1;if(C>=V)return 1;C>>>=0;V>>>=0;ia>>>=0;aa>>>=0;if(this===P)return 0;var ya=aa-ia,va=V-C,Ia=Math.min(ya,va);ia=this.slice(ia,aa);P=P.slice(C,V);for(C=0;C<Ia;++C)if(ia[C]!==P[C]){ya=ia[C];va=P[C];break}return ya<va?-1:va<ya?1:0};w.prototype.includes=function(P,C,V){return-1!==this.indexOf(P,C,V)};w.prototype.indexOf=function(P,C,V){return a(this,P,C,V,!0)};w.prototype.lastIndexOf=
function(P,C,V){return a(this,P,C,V,!1)};w.prototype.write=function(P,C,V,ia){if(void 0===C)ia="utf8",V=this.length,C=0;else if(void 0===V&&"string"===typeof C)ia=C,V=this.length,C=0;else if(isFinite(C))C|=0,isFinite(V)?(V|=0,void 0===ia&&(ia="utf8")):(ia=V,V=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var aa=this.length-C;if(void 0===V||V>aa)V=aa;if(0<P.length&&(0>V||0>C)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");
ia||(ia="utf8");for(aa=!1;;)switch(ia){case "hex":a:{C=Number(C)||0;ia=this.length-C;V?(V=Number(V),V>ia&&(V=ia)):V=ia;ia=P.length;if(0!==ia%2)throw new TypeError("Invalid hex string");V>ia/2&&(V=ia/2);for(ia=0;ia<V;++ia){aa=parseInt(P.substr(2*ia,2),16);if(isNaN(aa)){P=ia;break a}this[C+ia]=aa}P=ia}return P;case "utf8":case "utf-8":return T(K(P,this.length-C),this,C,V);case "ascii":return T(R(P),this,C,V);case "latin1":case "binary":return T(R(P),this,C,V);case "base64":return T(ja.toByteArray(G(P)),
this,C,V);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":ia=P;aa=this.length-C;for(var ya=[],va=0;va<ia.length&&!(0>(aa-=2));++va){var Ia=ia.charCodeAt(va);P=Ia>>8;Ia%=256;ya.push(Ia);ya.push(P)}return T(ya,this,C,V);default:if(aa)throw new TypeError("Unknown encoding: "+ia);ia=(""+ia).toLowerCase();aa=!0}};w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var la=4096;w.prototype.slice=function(P,C){var V=this.length;P=~~P;C=void 0===
C?V:~~C;0>P?(P+=V,0>P&&(P=0)):P>V&&(P=V);0>C?(C+=V,0>C&&(C=0)):C>V&&(C=V);C<P&&(C=P);if(w.TYPED_ARRAY_SUPPORT)C=this.subarray(P,C),C.__proto__=w.prototype;else{V=C-P;C=new w(V,void 0);for(var ia=0;ia<V;++ia)C[ia]=this[ia+P]}return C};w.prototype.readUIntLE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P];for(var ia=1,aa=0;++aa<C&&(ia*=256);)V+=this[P+aa]*ia;return V};w.prototype.readUIntBE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P+--C];for(var ia=1;0<C&&(ia*=256);)V+=this[P+
--C]*ia;return V};w.prototype.readUInt8=function(P,C){C||y(P,1,this.length);return this[P]};w.prototype.readUInt16LE=function(P,C){C||y(P,2,this.length);return this[P]|this[P+1]<<8};w.prototype.readUInt16BE=function(P,C){C||y(P,2,this.length);return this[P]<<8|this[P+1]};w.prototype.readUInt32LE=function(P,C){C||y(P,4,this.length);return(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]};w.prototype.readUInt32BE=function(P,C){C||y(P,4,this.length);return 16777216*this[P]+(this[P+1]<<16|this[P+
2]<<8|this[P+3])};w.prototype.readIntLE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P];for(var ia=1,aa=0;++aa<C&&(ia*=256);)V+=this[P+aa]*ia;V>=128*ia&&(V-=Math.pow(2,8*C));return V};w.prototype.readIntBE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=C;for(var ia=1,aa=this[P+--V];0<V&&(ia*=256);)aa+=this[P+--V]*ia;aa>=128*ia&&(aa-=Math.pow(2,8*C));return aa};w.prototype.readInt8=function(P,C){C||y(P,1,this.length);return this[P]&128?-1*(255-this[P]+1):this[P]};w.prototype.readInt16LE=
function(P,C){C||y(P,2,this.length);P=this[P]|this[P+1]<<8;return P&32768?P|4294901760:P};w.prototype.readInt16BE=function(P,C){C||y(P,2,this.length);P=this[P+1]|this[P]<<8;return P&32768?P|4294901760:P};w.prototype.readInt32LE=function(P,C){C||y(P,4,this.length);return this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24};w.prototype.readInt32BE=function(P,C){C||y(P,4,this.length);return this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]};w.prototype.readFloatLE=function(P,C){C||y(P,4,this.length);return fa.read(this,
P,!0,23,4)};w.prototype.readFloatBE=function(P,C){C||y(P,4,this.length);return fa.read(this,P,!1,23,4)};w.prototype.readDoubleLE=function(P,C){C||y(P,8,this.length);return fa.read(this,P,!0,52,8)};w.prototype.readDoubleBE=function(P,C){C||y(P,8,this.length);return fa.read(this,P,!1,52,8)};w.prototype.writeUIntLE=function(P,C,V,ia){P=+P;C|=0;V|=0;ia||B(this,P,C,V,Math.pow(2,8*V)-1,0);ia=1;var aa=0;for(this[C]=P&255;++aa<V&&(ia*=256);)this[C+aa]=P/ia&255;return C+V};w.prototype.writeUIntBE=function(P,
C,V,ia){P=+P;C|=0;V|=0;ia||B(this,P,C,V,Math.pow(2,8*V)-1,0);ia=V-1;var aa=1;for(this[C+ia]=P&255;0<=--ia&&(aa*=256);)this[C+ia]=P/aa&255;return C+V};w.prototype.writeUInt8=function(P,C,V){P=+P;C|=0;V||B(this,P,C,1,255,0);w.TYPED_ARRAY_SUPPORT||(P=Math.floor(P));this[C]=P&255;return C+1};w.prototype.writeUInt16LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8):D(this,P,C,!0);return C+2};w.prototype.writeUInt16BE=function(P,C,V){P=+P;C|=0;V||
B(this,P,C,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>8,this[C+1]=P&255):D(this,P,C,!1);return C+2};w.prototype.writeUInt32LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[C+3]=P>>>24,this[C+2]=P>>>16,this[C+1]=P>>>8,this[C]=P&255):O(this,P,C,!0);return C+4};w.prototype.writeUInt32BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>24,this[C+1]=P>>>16,this[C+2]=P>>>8,this[C+3]=P&255):O(this,P,C,!1);return C+4};w.prototype.writeIntLE=
function(P,C,V,ia){P=+P;C|=0;ia||(ia=Math.pow(2,8*V-1),B(this,P,C,V,ia-1,-ia));ia=0;var aa=1,ya=0;for(this[C]=P&255;++ia<V&&(aa*=256);)0>P&&0===ya&&0!==this[C+ia-1]&&(ya=1),this[C+ia]=(P/aa>>0)-ya&255;return C+V};w.prototype.writeIntBE=function(P,C,V,ia){P=+P;C|=0;ia||(ia=Math.pow(2,8*V-1),B(this,P,C,V,ia-1,-ia));ia=V-1;var aa=1,ya=0;for(this[C+ia]=P&255;0<=--ia&&(aa*=256);)0>P&&0===ya&&0!==this[C+ia+1]&&(ya=1),this[C+ia]=(P/aa>>0)-ya&255;return C+V};w.prototype.writeInt8=function(P,C,V){P=+P;C|=
0;V||B(this,P,C,1,127,-128);w.TYPED_ARRAY_SUPPORT||(P=Math.floor(P));0>P&&(P=255+P+1);this[C]=P&255;return C+1};w.prototype.writeInt16LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8):D(this,P,C,!0);return C+2};w.prototype.writeInt16BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>8,this[C+1]=P&255):D(this,P,C,!1);return C+2};w.prototype.writeInt32LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,
4,2147483647,-2147483648);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8,this[C+2]=P>>>16,this[C+3]=P>>>24):O(this,P,C,!0);return C+4};w.prototype.writeInt32BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,2147483647,-2147483648);0>P&&(P=4294967295+P+1);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>24,this[C+1]=P>>>16,this[C+2]=P>>>8,this[C+3]=P&255):O(this,P,C,!1);return C+4};w.prototype.writeFloatLE=function(P,C,V){return F(this,P,C,!0,V)};w.prototype.writeFloatBE=function(P,C,V){return F(this,P,C,!1,V)};
w.prototype.writeDoubleLE=function(P,C,V){return z(this,P,C,!0,V)};w.prototype.writeDoubleBE=function(P,C,V){return z(this,P,C,!1,V)};w.prototype.copy=function(P,C,V,ia){V||(V=0);ia||0===ia||(ia=this.length);C>=P.length&&(C=P.length);C||(C=0);0<ia&&ia<V&&(ia=V);if(ia===V||0===P.length||0===this.length)return 0;if(0>C)throw new RangeError("targetStart out of bounds");if(0>V||V>=this.length)throw new RangeError("sourceStart out of bounds");if(0>ia)throw new RangeError("sourceEnd out of bounds");ia>
this.length&&(ia=this.length);P.length-C<ia-V&&(ia=P.length-C+V);var aa=ia-V;if(this===P&&V<C&&C<ia)for(ia=aa-1;0<=ia;--ia)P[ia+C]=this[ia+V];else if(1E3>aa||!w.TYPED_ARRAY_SUPPORT)for(ia=0;ia<aa;++ia)P[ia+C]=this[ia+V];else Uint8Array.prototype.set.call(P,this.subarray(V,V+aa),C);return aa};w.prototype.fill=function(P,C,V,ia){if("string"===typeof P){"string"===typeof C?(ia=C,C=0,V=this.length):"string"===typeof V&&(ia=V,V=this.length);if(1===P.length){var aa=P.charCodeAt(0);256>aa&&(P=aa)}if(void 0!==
ia&&"string"!==typeof ia)throw new TypeError("encoding must be a string");if("string"===typeof ia&&!w.isEncoding(ia))throw new TypeError("Unknown encoding: "+ia);}else"number"===typeof P&&(P&=255);if(0>C||this.length<C||this.length<V)throw new RangeError("Out of range index");if(V<=C)return this;C>>>=0;V=void 0===V?this.length:V>>>0;P||(P=0);if("number"===typeof P)for(ia=C;ia<V;++ia)this[ia]=P;else for(P=w.isBuffer(P)?P:K((new w(P,ia)).toString()),aa=P.length,ia=0;ia<V-C;++ia)this[ia+C]=P[ia%aa];
return this};var Z=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[25]=function(Ja,A,rb,E){var k=A(24).Buffer;!function(l,w){"object"==typeof E&&"undefined"!=typeof rb?w(E,A(14),A(20)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],w):w((l="undefined"!=typeof globalThis?globalThis:l||self).vega={},l.vega,l.vega)}(this,function(l,w,H){function N(ua,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Da=yield Ya.sanitize(ua,Ta),ta=Da.href;return Da.localFile?Ya.file(ta):Ya.http(ta,
Ta)})}function x(ua,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ta=w.extend({},Ya.options,Ta);const Da=Ya.fileAccess,ta={href:null};let U,W,ba;var ca=Z.test(ua.replace(P,""));null!=ua&&"string"==typeof ua&&ca||w.error("Sanitize failure, invalid URI: "+w.stringValue(ua));ca=la.test(ua);return(ba=Ta.baseURL)&&!ca&&(ua.startsWith("/")||"/"===ba[ba.length-1]||(ua="/"+ua),ua=ba+ua),W=(U=ua.startsWith("file://"))||"file"===Ta.mode||"http"!==Ta.mode&&!ca&&Da,U?ua=ua.slice(7):
ua.startsWith("//")&&("file"===Ta.defaultProtocol?(ua=ua.slice(2),W=!0):ua=(Ta.defaultProtocol||"http")+":"+ua),Object.defineProperty(ta,"localFile",{value:!!W}),ta.href=ua,Ta.target&&(ta.target=Ta.target+""),Ta.rel&&(ta.rel=Ta.rel+""),"image"===Ta.context&&Ta.crossOrigin&&(ta.crossOrigin=Ta.crossOrigin+""),ta})}function v(ua){return ua?Ta=>new Promise((Ya,Da)=>{ua.readFile(Ta,(ta,U)=>{ta?Da(ta):Ya(U)})}):u}function u(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No file system access.")})}
function m(ua){return ua?function(Ta,Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ta=w.extend({},Da.options.http,Ya);const U=Ya&&Ya.response;ta=yield ua(Ta,ta);return ta.ok?w.isFunction(ta[U])?ta[U]():ta.text():w.error(ta.status+""+ta.statusText)})}:g}function g(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No HTTP fetch method available.")})}function d(ua,Ta){if(!ua||!ua.length)return"unknown";const Ya=ua.length,Da=ia.length,ta=
ia.map((W,ba)=>ba+1);for(let W,ba,ca=0,ra=0;ca<Ya;++ca)for(ba=Ta?ua[ca][Ta]:ua[ca],W=0;W<Da;++W)if(ta[W]&&null!=(U=ba)&&U==U&&!ia[W](ba)&&(ta[W]=0,++ra,ra===ia.length))return"string";var U;return aa[ta.reduce((W,ba)=>0===W?ba:W,0)-1]}function f(ua,Ta){return Ta.reduce((Ya,Da)=>(Ya[Da]=d(ua,Da),Ya),{})}function a(ua){return new Function("d","return {"+ua.map(function(Ta,Ya){return JSON.stringify(Ta)+": d["+Ya+'] || ""'}).join(",")+"}")}function e(ua){var Ta=Object.create(null),Ya=[];return ua.forEach(function(Da){for(var ta in Da)ta in
Ta||Ya.push(Ta[ta]=ta)}),Ya}function n(ua,Ta){ua+="";var Ya=ua.length;return Ya<Ta?Array(Ta-Ya+1).join(0)+ua:ua}function y(ua){function Ta(ba,ca){function ra(){if($a)return va;if(Ca)return Ca=!1,ya;var pa,Ha,Ua=Ra;if(34===ba.charCodeAt(Ua)){for(;Ra++<na&&34!==ba.charCodeAt(Ra)||34===ba.charCodeAt(++Ra););return(pa=Ra)>=na?$a=!0:10===(Ha=ba.charCodeAt(Ra++))?Ca=!0:13===Ha&&(Ca=!0,10===ba.charCodeAt(Ra)&&++Ra),ba.slice(Ua+1,pa-1).replace(/""/g,'"')}for(;Ra<na;){if(10===(Ha=ba.charCodeAt(pa=Ra++)))Ca=
!0;else if(13===Ha)Ca=!0,10===ba.charCodeAt(Ra)&&++Ra;else if(Ha!==W)continue;return ba.slice(Ua,pa)}return $a=!0,ba.slice(Ua,na)}var qa,Fa=[],na=ba.length,Ra=0,db=0,$a=0>=na,Ca=!1;10===ba.charCodeAt(na-1)&&--na;for(13===ba.charCodeAt(na-1)&&--na;(qa=ra())!==va;){for(var Ga=[];qa!==ya&&qa!==va;)Ga.push(qa),qa=ra();ca&&null==(Ga=ca(Ga,db++))||Fa.push(Ga)}return Fa}function Ya(ba,ca){return ba.map(function(ra){return ca.map(function(qa){return ta(ra[qa])}).join(ua)})}function Da(ba){return ba.map(ta).join(ua)}
function ta(ba){if(null==ba)var ca="";else{if(ba instanceof Date){var ra=ba.getUTCHours();var qa=ba.getUTCMinutes(),Fa=ba.getUTCSeconds(),na=ba.getUTCMilliseconds();ra=isNaN(ba)?"Invalid Date":(0>(ca=ba.getUTCFullYear())?"-"+n(-ca,6):9999<ca?"+"+n(ca,6):n(ca,4))+"-"+n(ba.getUTCMonth()+1,2)+"-"+n(ba.getUTCDate(),2)+(na?"T"+n(ra,2)+":"+n(qa,2)+":"+n(Fa,2)+"."+n(na,3)+"Z":Fa?"T"+n(ra,2)+":"+n(qa,2)+":"+n(Fa,2)+"Z":qa||ra?"T"+n(ra,2)+":"+n(qa,2)+"Z":"")}else ra=U.test(ba+="")?'"'+ba.replace(/"/g,'""')+
'"':ba;ca=ra}return ca}var U=new RegExp('["'+ua+"\n\r]"),W=ua.charCodeAt(0);return{parse:function(ba,ca){var ra,qa;ba=Ta(ba,function(Fa,na){if(ra)return ra(Fa,na-1);qa=Fa;ra=ca?function(Ra,db){var $a=a(Ra);return function(Ca,Ga){return db($a(Ca),Ga,Ra)}}(Fa,ca):a(Fa)});return ba.columns=qa||[],ba},parseRows:Ta,format:function(ba,ca){return null==ca&&(ca=e(ba)),[ca.map(ta).join(ua)].concat(Ya(ba,ca)).join("\n")},formatBody:function(ba,ca){return null==ca&&(ca=e(ba)),Ya(ba,ca).join("\n")},formatRows:function(ba){return ba.map(Da).join("\n")},
formatRow:Da,formatValue:ta}}function B(ua){const Ta=function(Ya,Da){const ta={delimiter:ua};return D(Ya,Da?w.extend(Da,ta):ta)};return Ta.responseType="text",Ta}function D(ua,Ta){return Ta.header&&(ua=Ta.header.map(w.stringValue).join(Ta.delimiter)+"\n"+ua),y(Ta.delimiter).parse(ua+"")}function O(ua,Ta){const Ya=Ta&&Ta.property?w.field(Ta.property):w.identity;!w.isObject(ua)||(Da=ua,"function"==typeof k&&w.isFunction(k.isBuffer)&&k.isBuffer(Da))?Ta=Ya(JSON.parse(ua)):(ua=Ya(ua),!w.isArray(ua)&&w.isIterable(ua)&&
(ua=[...ua]),Ta=Ta&&Ta.copy?JSON.parse(JSON.stringify(ua)):ua);return Ta;var Da}function M(ua){return ua}function F(ua,Ta){return"string"==typeof Ta&&(Ta=ua.objects[Ta]),"GeometryCollection"===Ta.type?{type:"FeatureCollection",features:Ta.geometries.map(function(Ya){return z(ua,Ya)})}:z(ua,Ta)}function z(ua,Ta){var Ya=Ta.id,Da=Ta.bbox,ta=null==Ta.properties?{}:Ta.properties;ua=G(ua,Ta);return null==Ya&&null==Da?{type:"Feature",properties:ta,geometry:ua}:null==Da?{type:"Feature",id:Ya,properties:ta,
geometry:ua}:{type:"Feature",id:Ya,bbox:Da,properties:ta,geometry:ua}}function G(ua,Ta){function Ya(ca){return W(ca)}function Da(ca){for(var ra=[],qa=0,Fa=ca.length;qa<Fa;++qa){var na,Ra=ca[qa],db=ra;db.length&&db.pop();var $a=ba[0>Ra?~Ra:Ra],Ca=0;for(na=$a.length;Ca<na;++Ca)db.push(W($a[Ca],Ca));if(0>Ra)for(Ra=db.length,$a=Ra-na;$a<--Ra;)na=db[$a],db[$a++]=db[Ra],db[Ra]=na}return 2>ra.length&&ra.push(ra[0]),ra}function ta(ca){for(ca=Da(ca);4>ca.length;)ca.push(ca[0]);return ca}function U(ca){return ca.map(ta)}
var W=function(ca){if(null==ca)return M;var ra,qa,Fa=ca.scale[0],na=ca.scale[1],Ra=ca.translate[0],db=ca.translate[1];return function($a,Ca){Ca||(ra=qa=0);Ca=2;var Ga=$a.length,pa=Array(Ga);pa[0]=(ra+=$a[0])*Fa+Ra;for(pa[1]=(qa+=$a[1])*na+db;Ca<Ga;)pa[Ca]=$a[Ca],++Ca;return pa}}(ua.transform),ba=ua.arcs;return function qa(ra){var Fa=ra.type;switch(Fa){case "GeometryCollection":return{type:Fa,geometries:ra.geometries.map(qa)};case "Point":ra=W(ra.coordinates);break;case "MultiPoint":ra=ra.coordinates.map(Ya);
break;case "LineString":ra=Da(ra.arcs);break;case "MultiLineString":ra=ra.arcs.map(Da);break;case "Polygon":ra=U(ra.arcs);break;case "MultiPolygon":ra=ra.arcs.map(U);break;default:return null}return{type:Fa,coordinates:ra}}(Ta)}function K(ua,Ta){function Ya(ca,ra){for(var qa in ca){var Fa=ca[qa];delete ra[Fa.start];delete Fa.start;delete Fa.end;Fa.forEach(function(na){Da[0>na?~na:na]=1});W.push(Fa)}}var Da={},ta={},U={},W=[],ba=-1;return Ta.forEach(function(ca,ra){var qa,Fa=ua.arcs[0>ca?~ca:ca];3>
Fa.length&&!Fa[1][0]&&!Fa[1][1]&&(qa=Ta[++ba],Ta[ba]=ca,Ta[ra]=qa)}),Ta.forEach(function(ca){var ra=function(na){var Ra,db=ua.arcs[0>na?~na:na],$a=db[0];ua.transform?(Ra=[0,0],db.forEach(function(Ca){Ra[0]+=Ca[0];Ra[1]+=Ca[1]})):Ra=db[db.length-1];return 0>na?[Ra,$a]:[$a,Ra]}(ca);var qa=ra[0],Fa=ra[1];(ra=U[qa])?(delete U[ra.end],ra.push(ca),ra.end=Fa,ca=ta[Fa])?(delete ta[ca.start],qa=ca===ra?ra:ra.concat(ca),ta[qa.start=ra.start]=U[qa.end=ca.end]=qa):ta[ra.start]=U[ra.end]=ra:(ra=ta[Fa])?(delete ta[ra.start],
ra.unshift(ca),ra.start=qa,ca=U[qa])?(delete U[ca.end],qa=ca===ra?ra:ca.concat(ra),ta[qa.start=ca.start]=U[qa.end=ra.end]=qa):ta[ra.start]=U[ra.end]=ra:ta[(ra=[ca]).start=qa]=U[ra.end=Fa]=ra}),Ya(U,ta),Ya(ta,U),Ta.forEach(function(ca){Da[0>ca?~ca:ca]||W.push([ca])}),W}function R(ua){return G(ua,T.apply(this,arguments))}function T(ua,Ta,Ya){var Da;if(1<arguments.length)var ta=ja(ua,Ta,Ya);else{var U=0;for(ta=Array(Da=ua.arcs.length);U<Da;++U)ta[U]=U}return{type:"MultiLineString",arcs:K(ua,ta)}}function ja(ua,
Ta,Ya){function Da(ra){var qa=0>ra?~ra:ra;(ca[qa]||(ca[qa]=[])).push({i:ra,g:W})}function ta(ra){ra.forEach(Da)}function U(ra){ra.forEach(ta)}var W,ba=[],ca=[];return function Fa(qa){switch(W=qa,qa.type){case "GeometryCollection":qa.geometries.forEach(Fa);break;case "LineString":ta(qa.arcs);break;case "MultiLineString":case "Polygon":U(qa.arcs);break;case "MultiPolygon":qa.arcs.forEach(U),!0}}(Ta),ca.forEach(null==Ya?function(qa){ba.push(qa[0].i)}:function(qa){Ya(qa[0].g,qa[qa.length-1].g)&&ba.push(qa[0].i)}),
ba}function fa(ua,Ta){let Ya,Da,ta,U;return ua=O(ua,Ta),Ta&&Ta.feature?(Ya=F,ta=Ta.feature):Ta&&Ta.mesh?(Ya=R,ta=Ta.mesh,U=Ia[Ta.filter]):w.error("Missing TopoJSON feature or mesh parameter."),Da=(Da=ua.objects[ta])?Ya(ua,Da,U):w.error("Invalid TopoJSON object: "+ta),Da&&Da.features||[Da]}function ha(ua,Ta){return 1<arguments.length?(bb[ua]=Ta,this):w.hasOwnProperty(bb,ua)?bb[ua]:null}const la=/^([A-Za-z]+:)?\/\//,Z=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
P=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,C=ua=>!(Number.isNaN(+ua)||ua instanceof Date),V={boolean:w.toBoolean,integer:w.toNumber,number:w.toNumber,date:w.toDate,string:w.toString,unknown:w.identity},ia=[ua=>"true"===ua||"false"===ua||!0===ua||!1===ua,ua=>C(ua)&&Number.isInteger(+ua),C,ua=>!Number.isNaN(Date.parse(ua))],aa=["boolean","integer","number","date"];var ya={},va={};D.responseType="text";O.responseType="json";const Ia={interior:(ua,Ta)=>ua!==Ta,exterior:(ua,Ta)=>ua===
Ta};fa.responseType="json";const bb={dsv:D,csv:B(","),tsv:B("\t"),json:O,topojson:fa},kb=function(ua,Ta){return Ya=>({options:Ya||{},sanitize:x,load:N,fileAccess:!!Ta,file:v(Ta),http:m(ua)})}("undefined"!=typeof fetch&&fetch,null);l.format=bb;l.formats=ha;l.inferType=d;l.inferTypes=f;l.loader=kb;l.read=function(ua,Ta,Ya,Da){const ta=ha((Ta=Ta||{}).type||"json");return ta||w.error("Unknown data format type: "+Ta.type),ua=ta(ua,Ta),Ta.parse&&function(U,W,ba,ca){if(U.length){var ra=H.timeFormatDefaultLocale();
ba=ba||ra.timeParse;ca=ca||ra.utcParse;var qa,Fa,na=U.columns||Object.keys(U[0]);"auto"===W&&(W=f(U,na));na=Object.keys(W);var Ra=na.map(Ga=>{var pa=W[Ga];if(pa&&(pa.startsWith("date:")||pa.startsWith("utc:")))return Ga=pa.split(/:(.+)?/,2),pa=Ga[1],("'"===pa[0]&&"'"===pa[pa.length-1]||'"'===pa[0]&&'"'===pa[pa.length-1])&&(pa=pa.slice(1,-1)),("utc"===Ga[0]?ca:ba)(pa);if(!V[pa])throw Error("Illegal format pattern: "+Ga+":"+pa);return V[pa]});var db=0;var $a=U.length;for(Fa=na.length;db<$a;++db)for(ra=
U[db],qa=0;qa<Fa;++qa){var Ca=na[qa];ra[Ca]=Ra[qa](ra[Ca])}}}(ua,Ta.parse,Ya,Da),w.hasOwnProperty(ua,"columns")&&delete ua.columns,ua};l.responseType=function(ua){return(ua=ha(ua))&&ua.responseType||"text"};l.typeParsers=V;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(25),A(20)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(ua){const Ta=ua||l.identity,Ya=[],Da={};Ya.add=ta=>{const U=Ta(ta);Da[U]||(Da[U]=1,Ya.push(ta));return Ya};Ya.remove=ta=>{const U=Ta(ta);Da[U]&&(Da[U]=0,
ta=Ya.indexOf(ta),0<=ta&&Ya.splice(ta,1));return Ya};return Ya}function x(ua,Ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Ta(ua)}catch(Ya){ua.error(Ya)}})}function v(ua){ua=ua===Object(ua)?ua:{data:ua};if(!ua[C]){var Ta=V++;ua[C]=Ta}return ua}function u(ua,Ta){for(const Ya in ua)Ta[Ya]=ua[Ya];return Ta}function m(ua){return ua&&ua.constructor===g}function g(){const ua=[],Ta=[],Ya=[],Da=[],ta=[];let U=null,W=!1;return{constructor:g,insert(ba){ba=l.array(ba);const ca=
ba.length;for(let ra=0;ra<ca;++ra)ua.push(ba[ra]);return this},remove(ba){const ca=l.isFunction(ba)?Da:Ta;ba=l.array(ba);const ra=ba.length;for(let qa=0;qa<ra;++qa)ca.push(ba[qa]);return this},modify(ba,ca,ra){ca={field:ca,value:l.constant(ra)};l.isFunction(ba)?(ca.filter=ba,ta.push(ca)):(ca.tuple=ba,Ya.push(ca));return this},encode(ba,ca){l.isFunction(ba)?ta.push({filter:ba,field:ca}):Ya.push({tuple:ba,field:ca});return this},clean(ba){U=ba;return this},reflow(){W=!0;return this},pulse(ba,ca){function ra(pa,
Ha,Ua){Ua?pa[Ha]=Ua(pa):ba.encode=Ha;W||(Fa[pa[C]]=pa)}const qa={},Fa={};let na,Ra,db,$a,Ca,Ga;na=0;for(Ra=ca.length;na<Ra;++na)qa[ca[na][C]]=1;na=0;for(Ra=Ta.length;na<Ra;++na)Ca=Ta[na],qa[Ca[C]]=-1;na=0;for(Ra=Da.length;na<Ra;++na)$a=Da[na],ca.forEach(pa=>{$a(pa)&&(qa[pa[C]]=-1)});na=0;for(Ra=ua.length;na<Ra;++na)Ca=ua[na],Ga=Ca[C],qa[Ga]?qa[Ga]=1:ba.add.push(v(ua[na]));na=0;for(Ra=ca.length;na<Ra;++na)Ca=ca[na],0>qa[Ca[C]]&&ba.rem.push(Ca);na=0;for(Ra=Ya.length;na<Ra;++na)db=Ya[na],Ca=db.tuple,
$a=db.field,Ga=qa[Ca[C]],0<Ga&&(ra(Ca,$a,db.value),ba.modifies($a));na=0;for(Ra=ta.length;na<Ra;++na)db=ta[na],$a=db.filter,ca.forEach(pa=>{$a(pa)&&0<qa[pa[C]]&&ra(pa,db.field,db.value)}),ba.modifies(db.field);if(W)ba.mod=Ta.length||Da.length?ca.filter(pa=>0<qa[pa[C]]):ca.slice();else for(Ga in Fa)ba.mod.push(Fa[Ga]);(U||null==U&&(Ta.length||Da.length))&&ba.clean(!0);return ba}}}function d(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function f(ua,Ta,Ya,Da){this.id=++ia;this.value=
ua;this.qrank=this.rank=this.stamp=-1;this.flags=0;Ta&&(this._update=Ta);Ya&&this.parameters(Ya,Da)}function a(ua){return function(Ta){const Ya=this.flags;if(0===arguments.length)return!!(Ya&ua);this.flags=Ta?Ya|ua:Ya&~ua;return this}}function e(ua,Ta,Ya){this.id=++ya;this.value=null;Ya&&(this.receive=Ya);ua&&(this._filter=ua);Ta&&(this._apply=Ta)}function n(ua,Ta,Ya){return new e(ua,Ta,Ya)}function y(ua){let Ta;const Ya=new Promise(Da=>Ta=Da);Ya.requests=0;Ya.done=()=>{0===--Ya.requests&&(ua._pending=
null,Ta(ua))};return ua._pending=Ya}function B(ua,Ta,Ya,Da,ta,U){const W=l.extend({},U,va);let ba;l.isFunction(Ya)||(Ya=l.constant(Ya));void 0===Da?ta=ca=>ua.touch(Ya(ca)):l.isFunction(Da)?(ba=new f(null,Da,ta,!1),ta=ca=>{ba.evaluate(ca);ca=Ya(ca);const ra=ba.value;m(ra)?ua.pulse(ca,ra,U):ua.update(ca,ra,W)}):ta=ca=>ua.update(Ya(ca),Da,W);Ta.apply(ta)}function D(ua,Ta,Ya,Da,ta,U){void 0===Da?Ta.targets().add(Ya):(U=U||{},Da=new f(null,O(Ya,Da),ta,!1),Da.modified(U.force),Da.rank=Ta.rank,Ta.targets().add(Da),
Ya&&(Da.skip(!0),Da.value=Ya.value,Da.targets().add(Ya),ua.connect(Ya,[Da])))}function O(ua,Ta){Ta=l.isFunction(Ta)?Ta:l.constant(Ta);return ua?function(Ya,Da){Ya=Ta(Ya,Da);ua.skip()||(ua.skip(Ya!==this.value).value=Ya);return Ya}:Ta}function M(ua,Ta,Ya){this.dataflow=ua;this.stamp=null==Ta?-1:Ta;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Ya||null}function F(ua,Ta){const Ya=[];l.visitArray(ua,Ta,Da=>Ya.push(Da));return Ya}function z(ua,Ta){const Ya={};ua.visit(Ta,Da=>{Ya[Da[C]]=
1});return Da=>Ya[Da[C]]?null:Da}function G(ua,Ta){return ua?(Ya,Da)=>ua(Ya,Da)&&Ta(Ya,Da):Ta}function K(ua,Ta,Ya,Da){const ta=Ya.length;let U=0;this.dataflow=ua;this.stamp=Ta;this.fields=null;this.encode=Da||null;this.pulses=Ya;for(ua=0;ua<ta;++ua)if(Da=Ya[ua],Da.stamp===Ta){if(Da.fields){const W=this.fields||(this.fields={});for(const ba in Da.fields)W[ba]=1}Da.changed(this.ADD)&&(U|=this.ADD);Da.changed(this.REM)&&(U|=this.REM);Da.changed(this.MOD)&&(U|=this.MOD)}this.changes=U}function R(ua){ua.error("Dataflow already running. Use runAsync() to chain invocations.");
return ua}function T(ua,Ta){if(Ta&&Ta.stamp===ua.stamp)return Ta;ua=ua.fork();Ta&&Ta!==Ia&&(ua.source=Ta.source);return ua}function ja(ua){let Ta=[];return{clear:()=>Ta=[],size:()=>Ta.length,peek:()=>Ta[0],push:Ya=>{Ta.push(Ya);return fa(Ta,0,Ta.length-1,ua)},pop:()=>{var Ya=Ta.pop();let Da;if(Ta.length){Da=Ta[0];Ta[0]=Ya;{Ya=Ta;var ta=0;const U=ta,W=Ya.length,ba=Ya[ta];let ca=(ta<<1)+1,ra;for(;ca<W;)ra=ca+1,ra<W&&0<=ua(Ya[ca],Ya[ra])&&(ca=ra),Ya[ta]=Ya[ca],ta=ca,ca=(ta<<1)+1;Ya[ta]=ba;fa(Ya,U,ta,
ua)}}else Da=Ya;return Da}}}function fa(ua,Ta,Ya,Da){let ta,U;const W=ua[Ya];for(;Ya>Ta;)if(U=Ya-1>>1,ta=ua[U],0>Da(W,ta))ua[Ya]=ta,Ya=U;else break;return ua[Ya]=W}function ha(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=H.defaultLocale();try{this._loader=w.loader()}catch(ua){}this._touched=N(l.id);this._input={};this._pulse=null;this._heap=ja((ua,Ta)=>ua.qrank-Ta.qrank);this._postrun=[]}function la(ua){return function(){return this._log[ua].apply(this,arguments)}}
function Z(ua,Ta){f.call(this,ua,null,Ta)}function P(ua){ua=ua&&ua.toLowerCase();return l.hasOwnProperty(kb,ua)?kb[ua]:null}const C=Symbol("vega_id");let V=1;d.prototype={set(ua,Ta,Ya,Da){const ta=this[ua],U=this["_:mod:_"];if(null!=Ta&&0<=Ta){if(ta[Ta]!==Ya||Da)ta[Ta]=Ya,U[Ta+":"+ua]=-1,U[ua]=-1}else if(ta!==Ya||Da)this[ua]=Ya,U[ua]=l.isArray(Ya)?1+Ya.length:-1;return this},modified(ua,Ta){const Ya=this["_:mod:_"];if(!arguments.length){for(var Da in Ya)if(Ya[Da])return!0;return!1}if(l.isArray(ua)){for(Da=
0;Da<ua.length;++Da)if(Ya[ua[Da]])return!0;return!1}return null!=Ta&&0<=Ta?Ta+1<Ya[ua]||!!Ya[Ta+":"+ua]:!!Ya[ua]},clear(){this["_:mod:_"]={};return this}};let ia=0;const aa=new d;f.prototype={targets(){return this._targets||(this._targets=N(l.id))},set(ua){return this.value!==ua?(this.value=ua,1):0},skip:a(1),modified:a(2),parameters(ua,Ta,Ya){Ta=!1!==Ta;const Da=this._argval=this._argval||new d,ta=this._argops=this._argops||[],U=[];let W,ba,ca,ra;const qa=(Fa,na,Ra)=>{Ra instanceof f?(Ra!==this&&
(Ta&&Ra.targets().add(this),U.push(Ra)),ta.push({op:Ra,name:Fa,index:na})):Da.set(Fa,na,Ra)};for(W in ua)if(ba=ua[W],"pulse"===W)l.array(ba).forEach(Fa=>{Fa instanceof f?Fa!==this&&(Fa.targets().add(this),U.push(Fa)):l.error("Pulse parameters must be operator instances.")}),this.source=ba;else if(l.isArray(ba))for(Da.set(W,-1,Array(ca=ba.length)),ra=0;ra<ca;++ra)qa(W,ra,ba[ra]);else qa(W,-1,ba);this.marshall().clear();Ya&&(ta.initonly=!0);return U},marshall(ua){const Ta=this._argval||aa,Ya=this._argops;
let Da,ta,U,W;if(Ya){const ba=Ya.length;for(ta=0;ta<ba;++ta)Da=Ya[ta],U=Da.op,W=U.modified()&&U.stamp===ua,Ta.set(Da.name,Da.index,U.value,W);if(Ya.initonly){for(ta=0;ta<ba;++ta)Da=Ya[ta],Da.op.targets().remove(this);this._update=this._argops=null}}return Ta},detach(){const ua=this._argops;let Ta,Ya;if(ua)for(Ta=0,Ya=ua.length;Ta<Ya;++Ta){var Da=ua[Ta];Da=Da.op;Da._targets&&Da._targets.remove(this)}},evaluate(ua){var Ta=this._update;if(Ta){const Ya=this.marshall(ua.stamp);Ta=Ta.call(this,Ya,ua);Ya.clear();
if(Ta!==this.value)this.value=Ta;else if(!this.modified())return ua.StopPropagation}},run(ua){if(ua.stamp<this.stamp)return ua.StopPropagation;let Ta;this.skip()?(this.skip(!1),Ta=0):Ta=this.evaluate(ua);return this.pulse=Ta||ua}};let ya=0;e.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=N(l.id))},consume(ua){if(!arguments.length)return!!this._consume;this._consume=!!ua;return this},receive(ua){if(this._filter(ua)){const Ta=this.value=this._apply(ua),
Ya=this._targets,Da=Ya?Ya.length:0;for(let ta=0;ta<Da;++ta)Ya[ta].receive(Ta);this._consume&&(ua.preventDefault(),ua.stopPropagation())}},filter(ua){ua=n(ua);this.targets().add(ua);return ua},apply(ua){ua=n(null,ua);this.targets().add(ua);return ua},merge(){const ua=n();this.targets().add(ua);for(let Ta=0,Ya=arguments.length;Ta<Ya;++Ta)arguments[Ta].targets().add(ua);return ua},throttle(ua){let Ta=-1;return this.filter(()=>{const Ya=Date.now();return Ya-Ta>ua?(Ta=Ya,1):0})},debounce(ua){const Ta=
n();this.targets().add(n(null,null,l.debounce(ua,Ya=>{const Da=Ya.dataflow;Ta.receive(Ya);Da&&Da.run&&Da.run()})));return Ta},between(ua,Ta){let Ya=!1;ua.targets().add(n(null,null,()=>Ya=!0));Ta.targets().add(n(null,null,()=>Ya=!1));return this.filter(()=>Ya)},detach(){}};const va={skip:!0},Ia={};M.prototype={StopPropagation:Ia,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(ua){return(new M(this.dataflow)).init(this,ua)},clone(){const ua=this.fork(7);
ua.add=ua.add.slice();ua.rem=ua.rem.slice();ua.mod=ua.mod.slice();ua.source&&(ua.source=ua.source.slice());return ua.materialize(23)},addAll(){let ua=this;ua.source&&ua.add!==ua.rem&&(ua.rem.length||ua.source.length!==ua.add.length)&&(ua=(new M(this.dataflow)).init(this),ua.add=ua.source,ua.rem=[]);return ua},init(ua,Ta){this.stamp=ua.stamp;this.encode=ua.encode;!ua.fields||Ta&64||(this.fields=ua.fields);Ta&1?(this.addF=ua.addF,this.add=ua.add):(this.addF=null,this.add=[]);Ta&2?(this.remF=ua.remF,
this.rem=ua.rem):(this.remF=null,this.rem=[]);Ta&4?(this.modF=ua.modF,this.mod=ua.mod):(this.modF=null,this.mod=[]);Ta&32?this.source=this.srcF=null:(this.srcF=ua.srcF,this.source=ua.source,ua.cleans&&(this.cleans=ua.cleans));return this},runAfter(ua){this.dataflow.runAfter(ua)},changed(ua){ua=ua||7;return ua&1&&this.add.length||ua&2&&this.rem.length||ua&4&&this.mod.length},reflow(ua){if(ua)return this.fork(7).reflow();ua=this.add.length;const Ta=this.source&&this.source.length;Ta&&Ta!==ua&&(this.mod=
this.source,ua&&this.filter(4,z(this,1)));return this},clean(ua){return arguments.length?(this.cleans=!!ua,this):this.cleans},modifies(ua){const Ta=this.fields||(this.fields={});l.isArray(ua)?ua.forEach(Ya=>Ta[Ya]=!0):Ta[ua]=!0;return this},modified(ua,Ta){const Ya=this.fields;return(Ta||this.mod.length)&&Ya?arguments.length?l.isArray(ua)?ua.some(Da=>Ya[Da]):Ya[ua]:!!Ya:!1},filter(ua,Ta){ua&1&&(this.addF=G(this.addF,Ta));ua&2&&(this.remF=G(this.remF,Ta));ua&4&&(this.modF=G(this.modF,Ta));ua&16&&(this.srcF=
G(this.srcF,Ta));return this},materialize(ua){ua=ua||7;ua&1&&this.addF&&(this.add=F(this.add,this.addF),this.addF=null);ua&2&&this.remF&&(this.rem=F(this.rem,this.remF),this.remF=null);ua&4&&this.modF&&(this.mod=F(this.mod,this.modF),this.modF=null);ua&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(ua,Ta){if(ua&16)return l.visitArray(this.source,this.srcF,Ta),this;ua&1&&l.visitArray(this.add,this.addF,Ta);ua&2&&l.visitArray(this.rem,this.remF,Ta);ua&4&&
l.visitArray(this.mod,this.modF,Ta);const Ya=this.source;ua&8&&Ya&&(ua=this.add.length+this.mod.length,ua!==Ya.length&&(ua?l.visitArray(Ya,z(this,5),Ta):l.visitArray(Ya,this.srcF,Ta)));return this}};l.inherits(K,M,{fork(ua){const Ta=(new M(this.dataflow)).init(this,ua&this.NO_FIELDS);void 0!==ua&&(ua&Ta.ADD&&this.visit(Ta.ADD,Ya=>Ta.add.push(Ya)),ua&Ta.REM&&this.visit(Ta.REM,Ya=>Ta.rem.push(Ya)),ua&Ta.MOD&&this.visit(Ta.MOD,Ya=>Ta.mod.push(Ya)));return Ta},changed(ua){return this.changes&ua},modified(ua){const Ta=
this.fields;return Ta&&this.changes&this.MOD?l.isArray(ua)?ua.some(Ya=>Ta[Ya]):Ta[ua]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},visit(ua,Ta){const Ya=this.pulses,Da=Ya.length;let ta=0;if(ua&this.SOURCE)for(;ta<Da;++ta)Ya[ta].visit(ua,Ta);else for(;ta<Da;++ta)Ya[ta].stamp===this.stamp&&Ya[ta].visit(ua,Ta);return this}});const bb={skip:!1,force:!1};ha.prototype={stamp(){return this._clock},loader(ua){return arguments.length?
(this._loader=ua,this):this._loader},locale(ua){return arguments.length?(this._locale=ua,this):this._locale},logger(ua){return arguments.length?(this._log=ua,this):this._log},error:la("error"),warn:la("warn"),info:la("info"),debug:la("debug"),logLevel:la("level"),cleanThreshold:1E4,add:function(ua,Ta,Ya,Da){let ta=1;ua instanceof f||(ua&&ua.prototype instanceof f?ua=new ua:l.isFunction(ua)?ua=new f(null,ua):(ta=0,ua=new f(ua,Ta)));this.rank(ua);ta&&(Da=Ya,Ya=Ta);Ya&&this.connect(ua,ua.parameters(Ya,
Da));this.touch(ua);return ua},connect:function(ua,Ta){const Ya=ua.rank,Da=Ta.length;for(let ta=0;ta<Da;++ta)if(Ya<Ta[ta].rank){this.rerank(ua);break}},rank:function(ua){ua.rank=++this._rank},rerank:function(ua){const Ta=[ua];let Ya,Da,ta;for(;Ta.length;)if(this.rank(Ya=Ta.pop()),Da=Ya._targets)for(ta=Da.length;0<=--ta;)Ta.push(Ya=Da[ta]),Ya===ua&&l.error("Cycle detected in dataflow graph.")},pulse:function(ua,Ta,Ya){this.touch(ua,Ya||bb);Ya=new M(this,this._clock+(this._pulse?0:1));const Da=ua.pulse&&
ua.pulse.source||[];Ya.target=ua;this._input[ua.id]=Ta.pulse(Ya,Da);return this},touch:function(ua,Ta){Ta=Ta||bb;this._pulse?this._enqueue(ua):this._touched.add(ua);Ta.skip&&ua.skip(!0);return this},update:function(ua,Ta,Ya){Ya=Ya||bb;(ua.set(Ta)||Ya.force)&&this.touch(ua,Ya);return this},changeset:g,ingest:function(ua,Ta,Ya){Ta=this.parse(Ta,Ya);return this.pulse(ua,this.changeset().insert(Ta))},parse:function(ua,Ta){const Ya=this.locale();return w.read(ua,Ta,Ya.timeParse,Ya.utcParse)},preload:function(ua,
Ta,Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ta=Da._pending||y(Da);ta.requests+=1;const U=yield Da.request(Ta,Ya);Da.pulse(ua,Da.changeset().remove(l.truthy).insert(U.data||[]));ta.done();return U})},request:function(ua,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Da=0,ta;try{ta=yield Ya.loader().load(ua,{context:"dataflow",response:w.responseType(Ta&&Ta.type)});try{ta=Ya.parse(ta,Ta)}catch(U){Da=-2,Ya.warn("Data ingestion failed",
ua,U)}}catch(U){Da=-1,Ya.warn("Loading failed",ua,U)}return{data:ta,status:Da}})},events:function(ua,Ta,Ya,Da){const ta=this,U=n(Ya,Da);Ya=function(W){W.dataflow=ta;try{U.receive(W)}catch(ba){ta.error(ba)}finally{ta.run()}};ua="string"===typeof ua&&"undefined"!==typeof document?document.querySelectorAll(ua):l.array(ua);Da=ua.length;for(let W=0;W<Da;++W)ua[W].addEventListener(Ta,Ya);return U},on:function(ua,Ta,Ya,Da,ta){(ua instanceof f?D:B)(this,ua,Ta,Ya,Da,ta);return this},evaluate:function(ua,Ta,
Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ta=[];if(Da._pulse)return R(Da);Da._pending&&(yield Da._pending);Ta&&(yield x(Da,Ta));if(!Da._touched.length)return Da.debug("Dataflow invoked, but nothing to do."),Da;var U=++Da._clock;Da._pulse=new M(Da,U,ua);Da._touched.forEach(qa=>Da._enqueue(qa,!0));Da._touched=N(l.id);var W=0;let ba,ca,ra;try{for(;0<Da._heap.size();)ba=Da._heap.pop(),ba.rank!==ba.qrank?Da._enqueue(ba,!0):(ca=ba.run(Da._getPulse(ba,ua)),ca.then?
ca=yield ca:ca.async&&(ta.push(ca.async),ca=Ia),ca!==Ia&&ba._targets&&ba._targets.forEach(qa=>Da._enqueue(qa)),++W)}catch(qa){Da._heap.clear(),ra=qa}Da._input={};Da._pulse=null;Da.debug(`Pulse ${U}: ${W} operators`);ra&&(Da._postrun=[],Da.error(ra));if(Da._postrun.length)for(U=Da._postrun.sort((qa,Fa)=>Fa.priority-qa.priority),Da._postrun=[],W=0;W<U.length;++W)yield x(Da,U[W].callback);Ya&&(yield x(Da,Ya));ta.length&&Promise.all(ta).then(qa=>Da.runAsync(null,()=>{qa.forEach(Fa=>{try{Fa(Da)}catch(na){Da.error(na)}})}));
return Da})},run:function(ua,Ta,Ya){return this._pulse?R(this):(this.evaluate(ua,Ta,Ya),this)},runAsync:function(ua,Ta,Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Da._running;)yield Da._running;const ta=()=>Da._running=null;(Da._running=Da.evaluate(ua,Ta,Ya)).then(ta,ta);return Da._running})},runAfter:function(ua,Ta,Ya){if(this._pulse||Ta)this._postrun.push({priority:Ya||0,callback:ua});else try{ua(this)}catch(Da){this.error(Da)}},_enqueue:function(ua,Ta){const Ya=
ua.stamp<this._clock;Ya&&(ua.stamp=this._clock);if(Ya||Ta)ua.qrank=ua.rank,this._heap.push(ua)},_getPulse:function(ua,Ta){const Ya=ua.source,Da=this._clock;return Ya&&l.isArray(Ya)?new K(this,Da,Ya.map(ta=>ta.pulse),Ta):this._input[ua.id]||T(this._pulse,Ya&&Ya.pulse)}};l.inherits(Z,f,{run(ua){if(ua.stamp<this.stamp)return ua.StopPropagation;let Ta;this.skip()?this.skip(!1):Ta=this.evaluate(ua);Ta=Ta||ua;Ta.then?Ta=Ta.then(Ya=>this.pulse=Ya):Ta!==ua.StopPropagation&&(this.pulse=Ta);return Ta},evaluate(ua){const Ta=
this.marshall(ua.stamp);ua=this.transform(Ta,ua);Ta.clear();return ua},transform(){}});const kb={};k.Dataflow=ha;k.EventStream=e;k.MultiPulse=K;k.Operator=f;k.Parameters=d;k.Pulse=M;k.Transform=Z;k.UniqueList=N;k.asyncCallback=x;k.changeset=g;k.definition=function(ua){return(ua=P(ua))&&ua.Definition||null};k.derive=function(ua){return u(ua,v({}))};k.ingest=v;k.isChangeSet=m;k.isTuple=function(ua){return!(!ua||!ua[C])};k.rederive=u;k.replace=function(ua,Ta){Ta[C]=ua[C];return Ta};k.stableCompare=function(ua,
Ta){return ua?Ta?(Ya,Da)=>ua(Ya,Da)||Ta(Ya)[C]-Ta(Da)[C]:(Ya,Da)=>ua(Ya,Da)||Ya[C]-Da[C]:null};k.transform=P;k.transforms=kb;k.tupleid=function(ua){return ua[C]};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[27]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3))})(this,function(k,l){function*w(C,V){if(null==V)for(var ia of C)null!=ia&&""!==ia&&(ia=+ia)>=ia&&(yield ia);else{ia=-1;for(let aa of C)aa=V(aa,++ia,C),null!=aa&&""!==aa&&(aa=+aa)>=aa&&(yield aa)}}function H(C,V,ia){const aa=Float64Array.from(w(C,
ia));aa.sort(l.ascending);return V.map(ya=>l.quantileSorted(aa,ya))}function N(C,V){return H(C,[.25,.5,.75],V)}function x(C,V){const ia=C.length,aa=l.deviation(C,V);C=N(C,V);return 1.06*(Math.min(aa,(C[2]-C[0])/1.34)||aa||Math.abs(C[0])||1)*Math.pow(ia,-.2)}function v(C,V){const ia=C.length;let aa=0,ya=1,va,Ia;for(;C[aa]===C[ya];)++ya;for(;ya<ia;){for(va=ya+1;C[ya]===C[va];)++va;if(C[ya]-C[ya-1]<V){for(Ia=ya+(aa+va-ya-ya>>1);Ia<ya;)C[Ia++]=C[ya];for(;Ia>ya;)C[Ia--]=C[aa]}aa=ya;ya=va}return C}function u(C,
V){C=C||0;V=null==V?1:V;let ia,aa;if(Z===Z)ia=Z,Z=NaN;else{do{ia=2*k.random()-1;aa=2*k.random()-1;var ya=ia*ia+aa*aa}while(0===ya||1<ya);ya=Math.sqrt(-2*Math.log(ya)/ya);ia*=ya;Z=aa*ya}return C+ia*V}function m(C,V,ia){ia=null==ia?1:ia;C=(C-(V||0))/ia;return Math.exp(-.5*C*C)/(ia*ha)}function g(C,V,ia){C=(C-(V||0))/(null==ia?1:ia);V=Math.abs(C);37<V?ia=0:(ia=Math.exp(-V*V/2),7.07106781186547>V?(ia*=(((((.0352624965998911*V+.700383064443688)*V+6.37396220353165)*V+33.912866078383)*V+112.079291497871)*
V+221.213596169931)*V+220.206867912376,ia/=((((((.0883883476483184*V+1.75566716318264)*V+16.064177579207)*V+86.7807322029461)*V+296.564248779674)*V+637.333633378831)*V+793.826512519948)*V+440.413735824752):ia=ia/(V+1/(V+2/(V+3/(V+4/(V+.65)))))/2.506628274631);return 0<C?1-ia:ia}function d(C,V,ia){if(0>C||1<C)return NaN;C=2*C-1;var aa=-Math.log((1-C)*(1+C));6.25>aa?(aa-=3.125,aa=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+
(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):16>aa?(aa=Math.sqrt(aa)-
3.25,aa=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):
Number.isFinite(aa)?(aa=Math.sqrt(aa)-5,aa=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):aa=Infinity;C*=
aa;return(V||0)+(null==ia?1:ia)*la*C}function f(C,V){let ia,aa;const ya={mean(va){return arguments.length?(ia=va||0,ya):ia},stdev(va){return arguments.length?(aa=null==va?1:va,ya):aa},sample:()=>u(ia,aa),pdf:va=>m(va,ia,aa),cdf:va=>g(va,ia,aa),icdf:va=>d(va,ia,aa)};return ya.mean(C).stdev(V)}function a(C,V){V=null==V?1:V;return Math.exp((C||0)+u()*V)}function e(C,V,ia){if(0>=C)return 0;ia=null==ia?1:ia;V=(Math.log(C)-(V||0))/ia;return Math.exp(-.5*V*V)/(ia*ha*C)}function n(C,V,ia){return g(Math.log(C),
V,ia)}function y(C,V,ia){return Math.exp(d(C,V,ia))}function B(C,V){null==V&&(V=null==C?1:C,C=0);return C+(V-C)*k.random()}function D(C,V,ia){null==ia&&(ia=null==V?1:V,V=0);return C>=V&&C<=ia?1/(ia-V):0}function O(C,V,ia){null==ia&&(ia=null==V?1:V,V=0);return C<V?0:C>ia?1:(C-V)/(ia-V)}function M(C,V,ia){null==ia&&(ia=null==V?1:V,V=0);return 0<=C&&1>=C?V+C*(ia-V):NaN}function F(C,V,ia,aa){aa-=C*C;ia=1E-24>Math.abs(aa)?0:(ia-C*V)/aa;return[V-ia*C,ia]}function z(C,V,ia,aa){C=C.filter(Ya=>{let Da=V(Ya);
Ya=ia(Ya);return null!=Da&&(Da=+Da)>=Da&&null!=Ya&&(Ya=+Ya)>=Ya});aa&&C.sort((Ya,Da)=>V(Ya)-V(Da));aa=C.length;const ya=new Float64Array(aa),va=new Float64Array(aa);let Ia=0,bb=0,kb=0,ua,Ta;for(Ta of C)ya[Ia]=C=+V(Ta),va[Ia]=ua=+ia(Ta),++Ia,bb+=(C-bb)/Ia,kb+=(ua-kb)/Ia;for(Ia=0;Ia<aa;++Ia)ya[Ia]-=bb,va[Ia]-=kb;return[ya,va,bb,kb]}function G(C,V,ia,aa){let ya=-1,va;for(const Ia of C)C=V(Ia),va=ia(Ia),null!=C&&(C=+C)>=C&&null!=va&&(va=+va)>=va&&aa(C,va,++ya)}function K(C,V,ia,aa,ya){let va=0,Ia=0;G(C,
V,ia,(bb,kb)=>{bb=kb-ya(bb);kb-=aa;va+=bb*bb;Ia+=kb*kb});return 1-va/Ia}function R(C,V,ia){let aa=0,ya=0,va=0,Ia=0,bb=0;G(C,V,ia,(Ta,Ya)=>{++bb;aa+=(Ta-aa)/bb;ya+=(Ya-ya)/bb;va+=(Ta*Ya-va)/bb;Ia+=(Ta*Ta-Ia)/bb});const kb=F(aa,ya,va,Ia),ua=Ta=>kb[0]+kb[1]*Ta;return{coef:kb,predict:ua,rSquared:K(C,V,ia,ya,ua)}}function T(C,V,ia){const [aa,ya,va,Ia]=z(C,V,ia);var bb=aa.length,kb=0;let ua=0;var Ta=0;let Ya=0,Da=0,ta,U,W,ba;for(ta=0;ta<bb;)U=aa[ta],W=ya[ta++],ba=U*U,kb+=(ba-kb)/ta,ua+=(ba*U-ua)/ta,Ta+=
(ba*ba-Ta)/ta,Ya+=(U*W-Ya)/ta,Da+=(ba*W-Da)/ta;bb=Ta-kb*kb;Ta=kb*bb-ua*ua;const ca=(Da*kb-Ya*ua)/Ta,ra=(Ya*bb-Da*ua)/Ta,qa=-ca*kb;kb=Fa=>{Fa-=va;return ca*Fa*Fa+ra*Fa+qa+Ia};return{coef:[qa-ra*va+ca*va*va+Ia,ra-2*ca*va,ca],predict:kb,rSquared:K(C,V,ia,Ia,kb)}}function ja(C,V,ia,aa){const ya=Array(C);let va,Ia,bb;for(va=0;va<C;++va)ya[va]=0;for(va=C-1;0<=va;--va)for(Ia=V[va],bb=1,ya[va]+=Ia,C=1;C<=va;++C)bb*=(va+1-C)/C,ya[va-C]+=Ia*Math.pow(ia,C)*bb;ya[0]+=aa;return ya}function fa(C){const V=C.length-
1,ia=[];let aa,ya,va,Ia,bb;for(aa=0;aa<V;++aa){Ia=aa;for(ya=aa+1;ya<V;++ya)Math.abs(C[aa][ya])>Math.abs(C[aa][Ia])&&(Ia=ya);for(va=aa;va<V+1;++va)bb=C[va][aa],C[va][aa]=C[va][Ia],C[va][Ia]=bb;for(ya=aa+1;ya<V;++ya)for(va=V;va>=aa;va--)C[va][ya]-=C[va][aa]*C[aa][ya]/C[aa][aa]}for(ya=V-1;0<=ya;--ya){bb=0;for(va=ya+1;va<V;++va)bb+=C[va][ya]*ia[va];ia[ya]=(C[V][ya]-bb)/C[ya][ya]}return ia}k.random=Math.random;const ha=Math.sqrt(2*Math.PI),la=Math.SQRT2;let Z=NaN;const P=.1*Math.PI/180;k.bandwidthNRD=
x;k.bin=function(C){var V=C.maxbins||20;const ia=C.base||10,aa=Math.log(ia),ya=C.divide||[5,2];let va=C.extent[0],Ia=C.extent[1];let bb,kb,ua,Ta;const Ya=C.span||Ia-va||Math.abs(va)||1;if(C.step)var Da=C.step;else if(C.steps){kb=Ya/V;ua=0;for(Ta=C.steps.length;ua<Ta&&C.steps[ua]<kb;++ua);Da=C.steps[Math.max(0,ua-1)]}else{Da=Math.ceil(Math.log(V)/aa);bb=C.minstep||0;for(Da=Math.max(bb,Math.pow(ia,Math.round(Math.log(Ya)/aa)-Da));Math.ceil(Ya/Da)>V;)Da*=ia;ua=0;for(Ta=ya.length;ua<Ta;++ua)kb=Da/ya[ua],
kb>=bb&&Ya/kb<=V&&(Da=kb)}kb=Math.log(Da);V=Math.pow(ia,-(0<=kb?0:~~(-kb/aa)+1)-1);if(C.nice||void 0===C.nice)kb=Math.floor(va/Da+V)*Da,va=va<kb?kb-Da:kb,Ia=Math.ceil(Ia/Da)*Da;return{start:va,stop:Ia===va?va+Da:Ia,step:Da}};k.bootstrapCI=function(C,V,ia,aa){if(!C.length)return[void 0,void 0];C=Float64Array.from(w(C,aa));aa=C.length;let ya,va,Ia,bb;Ia=0;for(bb=Array(V);Ia<V;++Ia){for(va=ya=0;va<aa;++va)ya+=C[~~(k.random()*aa)];bb[Ia]=ya/aa}bb.sort(l.ascending);return[l.quantile(bb,ia/2),l.quantile(bb,
1-ia/2)]};k.cumulativeLogNormal=n;k.cumulativeNormal=g;k.cumulativeUniform=O;k.densityLogNormal=e;k.densityNormal=m;k.densityUniform=D;k.dotbin=function(C,V,ia,aa){aa=aa||(Da=>Da);const ya=C.length,va=new Float64Array(ya);let Ia=0,bb=1,kb=aa(C[0]),ua=kb,Ta=kb+V,Ya;for(;bb<ya;++bb){Ya=aa(C[bb]);if(Ya>=Ta){for(ua=(kb+ua)/2;Ia<bb;++Ia)va[Ia]=ua;Ta=Ya+V;kb=Ya}ua=Ya}for(ua=(kb+ua)/2;Ia<bb;++Ia)va[Ia]=ua;return ia?v(va,V+V/4):va};k.quantileLogNormal=y;k.quantileNormal=d;k.quantileUniform=M;k.quantiles=
H;k.quartiles=N;k.randomInteger=function(C,V){null==V&&(V=C,C=0);let ia,aa,ya;const va={min(Ia){return arguments.length?(ia=Ia||0,ya=aa-ia,va):ia},max(Ia){return arguments.length?(aa=Ia||0,ya=aa-ia,va):aa},sample(){return ia+Math.floor(ya*k.random())},pdf(Ia){return Ia===Math.floor(Ia)&&Ia>=ia&&Ia<aa?1/ya:0},cdf(Ia){Ia=Math.floor(Ia);return Ia<ia?0:Ia>=aa?1:(Ia-ia+1)/ya},icdf(Ia){return 0<=Ia&&1>=Ia?ia-1+Math.floor(Ia*ya):NaN}};return va.min(C).max(V)};k.randomKDE=function(C,V){const ia=f();let aa=
0;const ya={data(va){return arguments.length?(aa=(C=va)?va.length:0,ya.bandwidth(V)):C},bandwidth(va){if(!arguments.length)return V;V=va;!V&&C&&(V=x(C));return ya},sample(){return C[~~(k.random()*aa)]+V*ia.sample()},pdf(va){let Ia=0,bb=0;for(;bb<aa;++bb)Ia+=ia.pdf((va-C[bb])/V);return Ia/V/aa},cdf(va){let Ia=0,bb=0;for(;bb<aa;++bb)Ia+=ia.cdf((va-C[bb])/V);return Ia/aa},icdf(){throw Error("KDE icdf not supported.");}};return ya.data(C)};k.randomLCG=function(C){return function(){C=(1103515245*C+12345)%
2147483647;return C/2147483647}};k.randomLogNormal=function(C,V){let ia,aa;const ya={mean(va){return arguments.length?(ia=va||0,ya):ia},stdev(va){return arguments.length?(aa=null==va?1:va,ya):aa},sample:()=>a(ia,aa),pdf:va=>e(va,ia,aa),cdf:va=>n(va,ia,aa),icdf:va=>y(va,ia,aa)};return ya.mean(C).stdev(V)};k.randomMixture=function(C,V){let ia=0,aa;const ya={weights(va){if(arguments.length){{var Ia=V=va||[];const bb=[];let kb=0,ua;for(ua=0;ua<ia;++ua)kb+=bb[ua]=null==Ia[ua]?1:+Ia[ua];for(ua=0;ua<ia;++ua)bb[ua]/=
kb;aa=bb}return ya}return V},distributions(va){return arguments.length?(va?(ia=va.length,C=va):(ia=0,C=[]),ya.weights(V)):C},sample(){const va=k.random();let Ia=C[ia-1],bb=aa[0],kb=0;for(;kb<ia-1;bb+=aa[++kb])if(va<bb){Ia=C[kb];break}return Ia.sample()},pdf(va){let Ia=0,bb=0;for(;bb<ia;++bb)Ia+=aa[bb]*C[bb].pdf(va);return Ia},cdf(va){let Ia=0,bb=0;for(;bb<ia;++bb)Ia+=aa[bb]*C[bb].cdf(va);return Ia},icdf(){throw Error("Mixture icdf not supported.");}};return ya.distributions(C).weights(V)};k.randomNormal=
f;k.randomUniform=function(C,V){let ia,aa;const ya={min(va){return arguments.length?(ia=va||0,ya):ia},max(va){return arguments.length?(aa=null==va?1:va,ya):aa},sample:()=>B(ia,aa),pdf:va=>D(va,ia,aa),cdf:va=>O(va,ia,aa),icdf:va=>M(va,ia,aa)};null==V&&(V=null==C?1:C,C=0);return ya.min(C).max(V)};k.regressionExp=function(C,V,ia){const [aa,,ya,va]=z(C,V,ia);let Ia=0,bb=0,kb=0,ua=0,Ta=0,Ya,Da,ta;G(C,V,ia,(ca,ra)=>{Ya=aa[Ta++];Da=Math.log(ra);ta=Ya*ra;Ia+=(ra*Da-Ia)/Ta;bb+=(ta-bb)/Ta;kb+=(ta*Da-kb)/Ta;
ua+=(Ya*ta-ua)/Ta});const [U,W]=F(bb/va,Ia/va,kb/va,ua/va),ba=ca=>Math.exp(U+W*(ca-ya));return{coef:[Math.exp(U-W*ya),W],predict:ba,rSquared:K(C,V,ia,va,ba)}};k.regressionLinear=R;k.regressionLoess=function(C,V,ia,aa){const [ya,va,Ia,bb]=z(C,V,ia,!0);C=ya.length;V=Math.max(2,~~(aa*C));aa=new Float64Array(C);ia=new Float64Array(C);var kb=(new Float64Array(C)).fill(1);for(var ua=-1;2>=++ua;){var Ta=[0,V-1];for(let qa=0;qa<C;++qa){var Ya=ya[qa],Da=Ta[0],ta=Ta[1],U=0,W=0,ba=0,ca=0;let Fa=0;const na=1/
Math.abs(ya[Ya-ya[Da]>ya[ta]-Ya?Da:ta]-Ya||1);for(;Da<=ta;++Da){const $a=ya[Da],Ca=va[Da];var ra=Math.abs(Ya-$a)*na;const Ga=(ra=1-ra*ra*ra)*ra*ra*kb[Da];ra=$a*Ga;U+=Ga;W+=ra;ba+=Ca*Ga;ca+=Ca*ra;Fa+=$a*ra}const [Ra,db]=F(W/U,ba/U,ca/U,Fa/U);aa[qa]=Ra+db*Ya;ia[qa]=Math.abs(va[qa]-aa[qa]);Ya=ya;ta=qa+1;U=Ta;W=Ya[ta];ba=U[0];ca=U[1]+1;if(!(ca>=Ya.length))for(;ta>ba&&Ya[ca]-W<=W-Ya[ba];)U[0]=++ba,U[1]=ca,++ca}if(2===ua)break;Ta=l.median(ia);if(1E-12>Math.abs(Ta))break;for(let qa=0,Fa,na;qa<C;++qa)Fa=
ia[qa]/(6*Ta),kb[qa]=1<=Fa?1E-12:(na=1-Fa*Fa)*na}C=ya.length;V=[];kb=ia=0;for(ua=[];ia<C;++ia)Ta=ya[ia]+Ia,ua[0]===Ta?ua[1]+=(aa[ia]-ua[1])/++kb:(kb=0,ua[1]+=bb,ua=[Ta,aa[ia]],V.push(ua));ua[1]+=bb;return aa=V};k.regressionLog=function(C,V,ia){let aa=0,ya=0,va=0,Ia=0,bb=0;G(C,V,ia,(Ta,Ya)=>{++bb;Ta=Math.log(Ta);aa+=(Ta-aa)/bb;ya+=(Ya-ya)/bb;va+=(Ta*Ya-va)/bb;Ia+=(Ta*Ta-Ia)/bb});const kb=F(aa,ya,va,Ia),ua=Ta=>kb[0]+kb[1]*Math.log(Ta);return{coef:kb,predict:ua,rSquared:K(C,V,ia,ya,ua)}};k.regressionPoly=
function(C,V,ia,aa){if(1===aa)return R(C,V,ia);if(2===aa)return T(C,V,ia);const [ya,va,Ia,bb]=z(C,V,ia);var kb=ya.length;const ua=[],Ta=[],Ya=aa+1;let Da,ta,U,W;for(Da=0;Da<Ya;++Da){for(U=ta=0;ta<kb;++ta)U+=Math.pow(ya[ta],Da)*va[ta];ua.push(U);W=new Float64Array(Ya);for(aa=0;aa<Ya;++aa){for(U=ta=0;ta<kb;++ta)U+=Math.pow(ya[ta],Da+aa);W[aa]=U}Ta.push(W)}Ta.push(ua);const ba=fa(Ta);kb=ca=>{ca-=Ia;let ra=bb+ba[0]+ba[1]*ca+ba[2]*ca*ca;for(Da=3;Da<Ya;++Da)ra+=ba[Da]*Math.pow(ca,Da);return ra};return{coef:ja(Ya,
ba,-Ia,bb),predict:kb,rSquared:K(C,V,ia,bb,kb)}};k.regressionPow=function(C,V,ia){let aa=0,ya=0,va=0,Ia=0,bb=0,kb=0;G(C,V,ia,(Ya,Da)=>{Ya=Math.log(Ya);const ta=Math.log(Da);++kb;aa+=(Ya-aa)/kb;ya+=(ta-ya)/kb;va+=(Ya*ta-va)/kb;Ia+=(Ya*Ya-Ia)/kb;bb+=(Da-bb)/kb});const ua=F(aa,ya,va,Ia),Ta=Ya=>ua[0]*Math.pow(Ya,ua[1]);ua[0]=Math.exp(ua[0]);return{coef:ua,predict:Ta,rSquared:K(C,V,ia,bb,Ta)}};k.regressionQuad=T;k.sampleCurve=function(C,V,ia,aa){ia=ia||25;aa=Math.max(ia,aa||200);var ya=Ta=>[Ta,C(Ta)],
va=V[0];const Ia=V[1],bb=Ia-va;var kb=bb/aa;V=[[va,C(va)]];const ua=[];if(ia===aa){for(kb=1;kb<aa;++kb)V.push(ya(va+kb/ia*bb));V.push([Ia,C(Ia)]);return V}ua.push([Ia,C(Ia)]);for(aa=ia;0<--aa;)ua.push(ya(va+aa/ia*bb));ia=V[0];for(ya=ua[ua.length-1];ya;)va=(ia[0]+ya[0])/2,va=[va,C(va)],va[0]-ia[0]>=kb&&Math.abs(Math.atan2(ya[1]-ia[1],ya[0]-ia[0])-Math.atan2(va[1]-ia[1],va[0]-ia[0]))>P?ua.push(va):(ia=ya,V.push(ya),ua.pop()),ya=ua[ua.length-1];return V};k.sampleLogNormal=a;k.sampleNormal=u;k.sampleUniform=
B;k.setRandom=function(C){k.random=C};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26),A(27),A(15),A(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega))})(this,function(k,l,w,H,N,x){function v(Ka){return eb=>{const wb=Ka.length;let Hb=1,ac=String(Ka[0](eb));for(;Hb<wb;++Hb)ac+="|"+Ka[Hb](eb);
return ac}}function u(Ka){return Ka&&Ka.length?1===Ka.length?Ka[0]:v(Ka):function(){return""}}function m(Ka,eb){return wb=>l.extend({name:Ka,out:wb||Ka},vd,eb)}function g(Ka,eb){return Ka.idx-eb.idx}function d(Ka){const eb={};Ka.forEach(Hb=>eb[Hb.name]=Hb);const wb=Hb=>{Hb.req&&Hb.req.forEach(ac=>{eb[ac]||wb(eb[ac]=Wd[ac]())})};Ka.forEach(wb);return Object.values(eb).sort(g)}function f(){this.missing=this.valid=0;this._ops.forEach(Ka=>Ka.init(this))}function a(Ka,eb){null==Ka||""===Ka?++this.missing:
Ka===Ka&&(++this.valid,this._ops.forEach(wb=>wb.add(this,Ka,eb)))}function e(Ka,eb){null==Ka||""===Ka?--this.missing:Ka===Ka&&(--this.valid,this._ops.forEach(wb=>wb.rem(this,Ka,eb)))}function n(Ka){this._out.forEach(eb=>Ka[eb.out]=eb.value(this));return Ka}function y(Ka,eb){function wb(Lb){this._ops=Hb;this._out=ac;this.cell=Lb;this.init()}eb=eb||l.identity;const Hb=d(Ka),ac=Ka.slice().sort(g);wb.prototype.init=f;wb.prototype.add=a;wb.prototype.rem=e;wb.prototype.set=n;wb.prototype.get=eb;wb.fields=
Ka.map(Lb=>Lb.out);return wb}function B(Ka){this._key=Ka?l.field(Ka):w.tupleid;this.reset()}function D(Ka){w.Transform.call(this,null,Ka);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function O(Ka){w.Transform.call(this,null,Ka)}function M(Ka,eb,wb){let Hb=eb||[],ac=wb||[],Lb={},Ac=0;return{add:tc=>ac.push(tc),remove:tc=>Lb[Ka(tc)]=++Ac,size:()=>
Hb.length,data:(tc,pb)=>{Ac&&(Hb=Hb.filter(Bb=>!Lb[Ka(Bb)]),Lb={},Ac=0);pb&&tc&&Hb.sort(tc);ac.length&&(Hb=tc?l.merge(tc,Hb,ac.sort(tc)):Hb.concat(ac),ac=[]);return Hb}}}function F(Ka){w.Transform.call(this,[],Ka)}function z(Ka){w.Operator.call(this,null,G,Ka)}function G(Ka){return this.value&&!Ka.modified()?this.value:l.compare(Ka.fields,Ka.orders)}function K(Ka){w.Transform.call(this,null,Ka)}function R(Ka){w.Transform.call(this,null,Ka)}function T(Ka,eb){var wb=Ka["function"];l.hasOwnProperty(gc,
wb)||l.error("Unknown distribution function: "+wb);wb=gc[wb]();for(const Hb in Ka)if("field"===Hb)wb.data((Ka.from||eb()).map(Ka[Hb]));else if("distributions"===Hb)wb[Hb](Ka[Hb].map(ac=>T(ac,eb)));else if("function"===typeof wb[Hb])wb[Hb](Ka[Hb]);return wb}function ja(Ka){w.Transform.call(this,null,Ka)}function fa(Ka){return()=>Ka.materialize(Ka.SOURCE).source}function ha(Ka,eb){return Ka?Ka.map((wb,Hb)=>eb[Hb]||l.accessorName(wb)):null}function la(Ka,eb,wb){const Hb=[],ac=mc=>mc(pb);let Lb,Ac,tc,
pb,Bb,Ub;if(null==eb)Hb.push(Ka.map(wb));else for(Lb={},Ac=0,tc=Ka.length;Ac<tc;++Ac)pb=Ka[Ac],Bb=eb.map(ac),Ub=Lb[Bb],Ub||(Lb[Bb]=Ub=[],Ub.dims=Bb,Hb.push(Ub)),Ub.push(wb(pb));return Hb}function Z(Ka){w.Transform.call(this,null,Ka)}function P(Ka){w.Operator.call(this,null,C,Ka);this.modified(!0)}function C(Ka){const eb=Ka.expr;return this.value&&!Ka.modified("expr")?this.value:l.accessor(wb=>eb(wb,Ka),l.accessorFields(eb),l.accessorName(eb))}function V(Ka){w.Transform.call(this,[void 0,void 0],Ka)}
function ia(Ka,eb){w.Operator.call(this,Ka);this.parent=eb;this.count=0}function aa(Ka){w.Transform.call(this,{},Ka);this._keys=l.fastmap();const eb=this._targets=[];eb.active=0;eb.forEach=wb=>{for(let Hb=0,ac=eb.active;Hb<ac;++Hb)wb(eb[Hb],Hb,eb)}}function ya(Ka){w.Operator.call(this,null,va,Ka)}function va(Ka){return this.value&&!Ka.modified()?this.value:l.isArray(Ka.name)?l.array(Ka.name).map(eb=>l.field(eb)):l.field(Ka.name,Ka.as)}function Ia(Ka){w.Transform.call(this,l.fastmap(),Ka)}function bb(Ka){w.Transform.call(this,
[],Ka)}function kb(Ka){w.Transform.call(this,[],Ka)}function ua(Ka){w.Transform.call(this,null,Ka)}function Ta(Ka){w.Transform.call(this,[],Ka)}function Ya(Ka){w.Transform.call(this,[],Ka)}function Da(Ka){var eb=Ka.method||Eb.value;if(null==Eb[eb])l.error("Unrecognized imputation method: "+eb);else{if(eb===Eb.value){var wb=void 0!==Ka.value?Ka.value:0;return()=>wb}return Eb[eb]}}function ta(Ka){const eb=Ka.field;return wb=>wb?eb(wb):NaN}function U(Ka,eb,wb,Hb){var ac=Qb=>Qb(mc),Lb=[];Hb=Hb?Hb.slice():
[];var Ac={},tc={},pb,Bb;Hb.forEach((Qb,Ic)=>Ac[Qb]=Ic+1);var Ub=0;for(Bb=Ka.length;Ub<Bb;++Ub){var mc=Ka[Ub];var Bc=wb(mc);var Cc=Ac[Bc]||(Ac[Bc]=Hb.push(Bc));var Xc=(Bc=eb?eb.map(ac):zc)+"";(pb=tc[Xc])||(pb=tc[Xc]=[],Lb.push(pb),pb.values=Bc);pb[Cc-1]=mc}Lb.domain=Hb;return Lb}function W(Ka){D.call(this,Ka)}function ba(Ka){w.Transform.call(this,null,Ka)}function ca(Ka){w.Operator.call(this,null,ra,Ka)}function ra(Ka){return this.value&&!Ka.modified()?this.value:l.key(Ka.fields,Ka.flat)}function qa(Ka){w.Transform.call(this,
[],Ka);this._pending=null}function Fa(Ka){return Ka.modified("async")&&!(Ka.modified("values")||Ka.modified("url")||Ka.modified("format"))}function na(Ka,eb,wb){wb.forEach(w.ingest);eb=eb.fork(eb.NO_FIELDS&eb.NO_SOURCE);eb.rem=Ka.value;Ka.value=eb.source=eb.add=wb;Ka._pending=null;eb.rem.length&&eb.clean(!0);return eb}function Ra(Ka){w.Transform.call(this,{},Ka)}function db(Ka){w.Operator.call(this,null,$a,Ka)}function $a(Ka){if(this.value&&!Ka.modified())return this.value;Ka=Ka.extents;const eb=
Ka.length;let wb=Infinity,Hb=-Infinity,ac,Lb;for(ac=0;ac<eb;++ac)Lb=Ka[ac],Lb[0]<wb&&(wb=Lb[0]),Lb[1]>Hb&&(Hb=Lb[1]);return[wb,Hb]}function Ca(Ka){w.Operator.call(this,null,Ga,Ka)}function Ga(Ka){return this.value&&!Ka.modified()?this.value:Ka.values.reduce((eb,wb)=>eb.concat(wb),[])}function pa(Ka){w.Transform.call(this,null,Ka)}function Ha(Ka){D.call(this,Ka)}function Ua(Ka,eb){const wb=Ka.field,Hb=Ka.value,ac=("count"===Ka.op?"__count__":Ka.op)||"sum",Lb=l.accessorFields(wb).concat(l.accessorFields(Hb)),
Ac=Fb(wb,Ka.limit||0,eb);eb.changed()&&Ka.set("__pivot__",null,null,!0);return{key:Ka.key,groupby:Ka.groupby,ops:Ac.map(()=>ac),fields:Ac.map(tc=>jb(tc,wb,Hb,Lb)),as:Ac.map(tc=>tc+""),modified:Ka.modified.bind(Ka)}}function jb(Ka,eb,wb,Hb){return l.accessor(ac=>eb(ac)===Ka?wb(ac):NaN,Hb,Ka+"")}function Fb(Ka,eb,wb){const Hb={},ac=[];wb.visit(wb.SOURCE,Lb=>{Lb=Ka(Lb);Hb[Lb]||(Hb[Lb]=1,ac.push(Lb))});ac.sort(l.ascending);return eb?ac.slice(0,eb):ac}function Xb(Ka){aa.call(this,Ka)}function nc(Ka){w.Transform.call(this,
null,Ka)}function md(Ka){w.Transform.call(this,null,Ka)}function pc(Ka){w.Transform.call(this,null,Ka)}function Hc(Ka){w.Transform.call(this,null,Ka)}function mb(Ka){w.Transform.call(this,[],Ka);this.count=0}function hc(Ka){w.Transform.call(this,null,Ka)}function jc(Ka){w.Transform.call(this,null,Ka);this.modified(!0)}function rc(Ka){w.Transform.call(this,null,Ka)}function Pc(Ka){w.Transform.call(this,l.fastmap(),Ka)}function sc(Ka){w.Transform.call(this,null,Ka)}function Uc(Ka,eb,wb,Hb){const ac=
Ed[Ka](eb,wb);return{init:ac.init||l.zero,update:function(Lb,Ac){Ac[Hb]=ac.next(Lb)}}}function Sc(Ka){function eb(Cc){l.array(l.accessorFields(Cc)).forEach(Xc=>pb[Xc]=1)}const wb=l.array(Ka.ops),Hb=l.array(Ka.fields),ac=l.array(Ka.params),Lb=l.array(Ka.as),Ac=this.outputs=[],tc=this.windows=[],pb={},Bb={},Ub=[],mc=[];let Bc=!0;eb(Ka.sort);wb.forEach((Cc,Xc)=>{const Qb=Hb[Xc],Ic=l.accessorName(Qb),Dc=Lb[Xc]||Cc+(Ic?"_"+Ic:"");eb(Qb);Ac.push(Dc);l.hasOwnProperty(Ed,Cc)?tc.push(Uc(Cc,Hb[Xc],ac[Xc],Dc)):
(null==Qb&&"count"!==Cc&&l.error("Null aggregate field specified."),"count"===Cc?Ub.push(Dc):(Bc=!1,Xc=Bb[Ic],Xc||(Xc=Bb[Ic]=[],Xc.field=Qb,mc.push(Xc)),Xc.push(Wd[Cc](Dc))))});if(Ub.length||mc.length)this.cell=Lc(mc,Ub,Bc);this.inputs=Object.keys(pb)}function Lc(Ka,eb,wb){Ka=Ka.map(pb=>y(pb,pb.field));const Hb={num:0,agg:null,store:!1,count:eb};if(!wb)for(var ac=Ka.length,Lb=Hb.agg=Array(ac),Ac=0;Ac<ac;++Ac)Lb[Ac]=new Ka[Ac](Hb);if(Hb.store)var tc=Hb.data=new B;Hb.add=function(pb){Hb.num+=1;if(!wb){tc&&
tc.add(pb);for(let Bb=0;Bb<ac;++Bb)Lb[Bb].add(Lb[Bb].get(pb),pb)}};Hb.rem=function(pb){--Hb.num;if(!wb){tc&&tc.rem(pb);for(let Bb=0;Bb<ac;++Bb)Lb[Bb].rem(Lb[Bb].get(pb),pb)}};Hb.set=function(pb){let Bb,Ub;tc&&tc.values();Bb=0;for(Ub=eb.length;Bb<Ub;++Bb)pb[eb[Bb]]=Hb.num;if(!wb)for(Bb=0,Ub=Lb.length;Bb<Ub;++Bb)Lb[Bb].set(pb)};Hb.init=function(){Hb.num=0;tc&&tc.reset();for(let pb=0;pb<ac;++pb)Lb[pb].init()};return Hb}function Fd(Ka){w.Transform.call(this,{},Ka);this._mlen=0;this._mods=[]}function ge(Ka,
eb,wb,Hb){var ac=Hb.sort;const Lb=ac&&!Hb.ignorePeers;Hb=Hb.frame||[null,0];Ka=Ka.data(wb);wb=Ka.length;const Ac=Lb?N.bisector(ac):null;ac={i0:0,i1:0,p0:0,p1:0,index:0,data:Ka,compare:ac||l.constant(-1)};eb.init();for(let mc=0;mc<wb;++mc){var tc=ac,pb=Hb,Bb=mc,Ub=wb;tc.p0=tc.i0;tc.p1=tc.i1;tc.i0=null==pb[0]?0:Math.max(0,Bb-Math.abs(pb[0]));tc.i1=null==pb[1]?Ub:Math.min(Ub,Bb+Math.abs(pb[1])+1);tc.index=Bb;if(Lb){{tc=ac;pb=Ac;Bb=tc.i0;Ub=tc.i1-1;const Bc=tc.compare,Cc=tc.data,Xc=Cc.length-1;0<Bb&&
!Bc(Cc[Bb],Cc[Bb-1])&&(tc.i0=pb.left(Cc,Cc[Bb]));Ub<Xc&&!Bc(Cc[Ub],Cc[Ub+1])&&(tc.i1=pb.right(Cc,Cc[Ub]))}}eb.update(ac,Ka[mc])}}var wd=()=>{};const vd={init:wd,add:wd,rem:wd,idx:0},Wd={values:{init:Ka=>Ka.cell.store=!0,value:Ka=>Ka.cell.data.values(),idx:-1},count:{value:Ka=>Ka.cell.num},__count__:{value:Ka=>Ka.missing+Ka.valid},missing:{value:Ka=>Ka.missing},valid:{value:Ka=>Ka.valid},sum:{init:Ka=>Ka.sum=0,value:Ka=>Ka.sum,add:(Ka,eb)=>Ka.sum+=+eb,rem:(Ka,eb)=>Ka.sum-=eb},product:{init:Ka=>Ka.product=
1,value:Ka=>Ka.valid?Ka.product:void 0,add:(Ka,eb)=>Ka.product*=eb,rem:(Ka,eb)=>Ka.product/=eb},mean:{init:Ka=>Ka.mean=0,value:Ka=>Ka.valid?Ka.mean:void 0,add:(Ka,eb)=>(Ka.mean_d=eb-Ka.mean,Ka.mean+=Ka.mean_d/Ka.valid),rem:(Ka,eb)=>(Ka.mean_d=eb-Ka.mean,Ka.mean-=Ka.valid?Ka.mean_d/Ka.valid:Ka.mean)},average:{value:Ka=>Ka.valid?Ka.mean:void 0,req:["mean"],idx:1},variance:{init:Ka=>Ka.dev=0,value:Ka=>1<Ka.valid?Ka.dev/(Ka.valid-1):void 0,add:(Ka,eb)=>Ka.dev+=Ka.mean_d*(eb-Ka.mean),rem:(Ka,eb)=>Ka.dev-=
Ka.mean_d*(eb-Ka.mean),req:["mean"],idx:1},variancep:{value:Ka=>1<Ka.valid?Ka.dev/Ka.valid:void 0,req:["variance"],idx:2},stdev:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/(Ka.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/Ka.valid):void 0,req:["variance"],idx:2},stderr:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/(Ka.valid*(Ka.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ka=>Ka.cell.data.distinct(Ka.get),req:["values"],idx:3},ci0:{value:Ka=>Ka.cell.data.ci0(Ka.get),
req:["values"],idx:3},ci1:{value:Ka=>Ka.cell.data.ci1(Ka.get),req:["values"],idx:3},median:{value:Ka=>Ka.cell.data.q2(Ka.get),req:["values"],idx:3},q1:{value:Ka=>Ka.cell.data.q1(Ka.get),req:["values"],idx:3},q3:{value:Ka=>Ka.cell.data.q3(Ka.get),req:["values"],idx:3},min:{init:Ka=>Ka.min=void 0,value:Ka=>Ka.min=Number.isNaN(Ka.min)?Ka.cell.data.min(Ka.get):Ka.min,add:(Ka,eb)=>{if(eb<Ka.min||void 0===Ka.min)Ka.min=eb},rem:(Ka,eb)=>{eb<=Ka.min&&(Ka.min=NaN)},req:["values"],idx:4},max:{init:Ka=>Ka.max=
void 0,value:Ka=>Ka.max=Number.isNaN(Ka.max)?Ka.cell.data.max(Ka.get):Ka.max,add:(Ka,eb)=>{if(eb>Ka.max||void 0===Ka.max)Ka.max=eb},rem:(Ka,eb)=>{eb>=Ka.max&&(Ka.max=NaN)},req:["values"],idx:4},argmin:{init:Ka=>Ka.argmin=void 0,value:Ka=>Ka.argmin||Ka.cell.data.argmin(Ka.get),add:(Ka,eb,wb)=>{eb<Ka.min&&(Ka.argmin=wb)},rem:(Ka,eb)=>{eb<=Ka.min&&(Ka.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ka=>Ka.argmax=void 0,value:Ka=>Ka.argmax||Ka.cell.data.argmax(Ka.get),add:(Ka,eb,wb)=>{eb>Ka.max&&
(Ka.argmax=wb)},rem:(Ka,eb)=>{eb>=Ka.max&&(Ka.argmax=void 0)},req:["max","values"],idx:3}};wd=Object.keys(Wd);wd.forEach(Ka=>{Wd[Ka]=m(Ka,Wd[Ka])});var Pb=B.prototype;Pb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Pb.add=function(Ka){this._add.push(Ka)};Pb.rem=function(Ka){this._rem.push(Ka)};Pb.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ka=this._add;var eb=this._rem;const wb=this._key,Hb=Ka.length,ac=eb.length,Lb=Array(Hb-ac),
Ac={};let tc,pb;for(tc=0;tc<ac;++tc)Ac[wb(eb[tc])]=1;for(eb=tc=0;tc<Hb;++tc)Ac[wb(pb=Ka[tc])]?Ac[wb(pb)]=0:Lb[eb++]=pb;this._rem=[];return this._add=Lb};Pb.distinct=function(Ka){const eb=this.values(),wb={};let Hb=eb.length,ac=0,Lb;for(;0<=--Hb;)Lb=Ka(eb[Hb])+"",l.hasOwnProperty(wb,Lb)||(wb[Lb]=1,++ac);return ac};Pb.extent=function(Ka){if(this._get!==Ka||!this._ext){const eb=this.values(),wb=l.extentIndex(eb,Ka);this._ext=[eb[wb[0]],eb[wb[1]]];this._get=Ka}return this._ext};Pb.argmin=function(Ka){return this.extent(Ka)[0]||
{}};Pb.argmax=function(Ka){return this.extent(Ka)[1]||{}};Pb.min=function(Ka){const eb=this.extent(Ka)[0];return null!=eb?Ka(eb):void 0};Pb.max=function(Ka){const eb=this.extent(Ka)[1];return null!=eb?Ka(eb):void 0};Pb.quartile=function(Ka){this._get===Ka&&this._q||(this._q=H.quartiles(this.values(),Ka),this._get=Ka);return this._q};Pb.q1=function(Ka){return this.quartile(Ka)[0]};Pb.q2=function(Ka){return this.quartile(Ka)[1]};Pb.q3=function(Ka){return this.quartile(Ka)[2]};Pb.ci=function(Ka){this._get===
Ka&&this._ci||(this._ci=H.bootstrapCI(this.values(),1E3,.05,Ka),this._get=Ka);return this._ci};Pb.ci0=function(Ka){return this.ci(Ka)[0]};Pb.ci1=function(Ka){return this.ci(Ka)[1]};D.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:wd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean",
"default":!1},{name:"key",type:"field"}]};l.inherits(D,w.Transform,{transform(Ka,eb){const wb=this,Hb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),ac=Ka.modified();wb.stamp=Hb.stamp;wb.value&&(ac||eb.modified(wb._inputs,!0))?(wb._prev=wb.value,wb.value=ac?wb.init(Ka):{},eb.visit(eb.SOURCE,Lb=>wb.add(Lb))):(wb.value=wb.value||wb.init(Ka),eb.visit(eb.REM,Lb=>wb.rem(Lb)),eb.visit(eb.ADD,Lb=>wb.add(Lb)));Hb.modifies(wb._outputs);wb._drop=!1!==Ka.drop;Ka.cross&&1<wb._dims.length&&(wb._drop=!1,wb.cross());eb.clean()&&
wb._drop&&Hb.clean(!0).runAfter(()=>this.clean());return wb.changes(Hb)},cross(){function Ka(tc){let pb,Bb,Ub,mc;for(pb in tc)for(Ub=tc[pb].tuple,Bb=0;Bb<Ac;++Bb)Lb[Bb][mc=Ub[ac[Bb]]]=mc}function eb(tc,pb,Bb){const Ub=ac[Bb],mc=Lb[Bb++];for(const Bc in mc){const Cc=tc?tc+"|"+Bc:Bc;pb[Ub]=mc[Bc];Bb<Ac?eb(Cc,pb,Bb):Hb[Cc]||wb.cell(Cc,pb)}}const wb=this,Hb=wb.value,ac=wb._dnames,Lb=ac.map(()=>({})),Ac=ac.length;Ka(wb._prev);Ka(Hb);eb("",{},0)},init(Ka){function eb(Qb){Qb=l.array(l.accessorFields(Qb));
const Ic=Qb.length;let Dc=0,uc;for(;Dc<Ic;++Dc)ac[uc=Qb[Dc]]||(ac[uc]=1,wb.push(uc))}const wb=this._inputs=[],Hb=this._outputs=[],ac={};this._dims=l.array(Ka.groupby);this._dnames=this._dims.map(Qb=>{const Ic=l.accessorName(Qb);eb(Qb);Hb.push(Ic);return Ic});this.cellkey=Ka.key?Ka.key:u(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Lb=Ka.fields||[null],Ac=Ka.ops||["count"];Ka=Ka.as||[];const tc=Lb.length,pb={};let Bb,Ub,mc,Bc,Cc,Xc;tc!==Ac.length&&l.error("Unmatched number of fields and aggregate ops.");
for(Xc=0;Xc<tc;++Xc)Bb=Lb[Xc],Ub=Ac[Xc],null==Bb&&"count"!==Ub&&l.error("Null aggregate field specified."),Bc=l.accessorName(Bb),Cc=Ka[Xc]||Ub+(Bc?"_"+Bc:""),Hb.push(Cc),"count"===Ub?this._counts.push(Cc):(mc=pb[Bc],mc||(eb(Bb),mc=pb[Bc]=[],mc.field=Bb,this._measures.push(mc)),"count"!==Ub&&(this._countOnly=!1),mc.push(Wd[Ub](Cc)));this._measures=this._measures.map(Qb=>y(Qb,Qb.field));return{}},cellkey:u(),cell(Ka,eb){let wb=this.value[Ka];wb?0===wb.num&&this._drop&&wb.stamp<this.stamp?(wb.stamp=
this.stamp,this._adds[this._alen++]=wb):wb.stamp<this.stamp&&(wb.stamp=this.stamp,this._mods[this._mlen++]=wb):(wb=this.value[Ka]=this.newcell(Ka,eb),this._adds[this._alen++]=wb);return wb},newcell(Ka,eb){Ka={key:Ka,num:0,agg:null,tuple:this.newtuple(eb,this._prev&&this._prev[Ka]),stamp:this.stamp,store:!1};if(!this._countOnly){eb=this._measures;const wb=eb.length;Ka.agg=Array(wb);for(let Hb=0;Hb<wb;++Hb)Ka.agg[Hb]=new eb[Hb](Ka)}Ka.store&&(Ka.data=new B);return Ka},newtuple(Ka,eb){const wb=this._dnames,
Hb=this._dims,ac=Hb.length,Lb={};for(let Ac=0;Ac<ac;++Ac)Lb[wb[Ac]]=Hb[Ac](Ka);return eb?w.replace(eb.tuple,Lb):w.ingest(Lb)},clean(){const Ka=this.value;for(const eb in Ka)0===Ka[eb].num&&delete Ka[eb]},add(Ka){var eb=this.cellkey(Ka);eb=this.cell(eb,Ka);eb.num+=1;if(!this._countOnly){eb.store&&eb.data.add(Ka);eb=eb.agg;for(let wb=0,Hb=eb.length;wb<Hb;++wb)eb[wb].add(eb[wb].get(Ka),Ka)}},rem(Ka){var eb=this.cellkey(Ka);eb=this.cell(eb,Ka);--eb.num;if(!this._countOnly){eb.store&&eb.data.rem(Ka);eb=
eb.agg;for(let wb=0,Hb=eb.length;wb<Hb;++wb)eb[wb].rem(eb[wb].get(Ka),Ka)}},celltuple(Ka){const eb=Ka.tuple,wb=this._counts;Ka.store&&Ka.data.values();for(let Hb=0,ac=wb.length;Hb<ac;++Hb)eb[wb[Hb]]=Ka.num;if(!this._countOnly){Ka=Ka.agg;for(let Hb=0,ac=Ka.length;Hb<ac;++Hb)Ka[Hb].set(eb)}return eb},changes(Ka){const eb=this._adds,wb=this._mods;var Hb=this._prev;const ac=this._drop,Lb=Ka.add,Ac=Ka.rem,tc=Ka.mod;let pb;var Bb;if(Hb)for(Bb in Hb)pb=Hb[Bb],ac&&!pb.num||Ac.push(pb.tuple);Hb=0;for(Bb=this._alen;Hb<
Bb;++Hb)Lb.push(this.celltuple(eb[Hb])),eb[Hb]=null;Hb=0;for(Bb=this._mlen;Hb<Bb;++Hb)pb=wb[Hb],(0===pb.num&&ac?Ac:tc).push(this.celltuple(pb)),wb[Hb]=null;this._alen=this._mlen=0;this._prev=null;return Ka}});O.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};l.inherits(O,w.Transform,{transform(Ka,eb){const wb=!1!==Ka.interval,Hb=this._bins(Ka),ac=Hb.start,Lb=Hb.step,Ac=Ka.as||["bin0","bin1"],tc=Ac[0],
pb=Ac[1];Ka.modified()?(eb=eb.reflow(!0),Ka=eb.SOURCE):Ka=eb.modified(l.accessorFields(Ka.field))?eb.ADD_MOD:eb.ADD;eb.visit(Ka,wb?Bb=>{const Ub=Hb(Bb);Bb[tc]=Ub;Bb[pb]=null==Ub?null:ac+Lb*(1+(Ub-ac)/Lb)}:Bb=>Bb[tc]=Hb(Bb));return eb.modifies(wb?Ac:tc)},_bins(Ka){if(this.value&&!Ka.modified())return this.value;const eb=Ka.field,wb=H.bin(Ka),Hb=wb.step;let ac=wb.start,Lb=ac+Math.ceil((wb.stop-ac)/Hb)*Hb;var Ac;null!=(Ac=Ka.anchor)&&(Ac-=ac+Hb*Math.floor((Ac-ac)/Hb),ac+=Ac,Lb+=Ac);Ac=function(tc){tc=
l.toNumber(eb(tc));return null==tc?null:tc<ac?-Infinity:tc>Lb?Infinity:(tc=Math.max(ac,Math.min(tc,Lb-Hb)),ac+Hb*Math.floor(1E-14+(tc-ac)/Hb))};Ac.start=ac;Ac.stop=wb.stop;Ac.step=Hb;return this.value=l.accessor(Ac,l.accessorFields(eb),Ka.name||"bin_"+l.accessorName(eb))}});F.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(F,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.ALL),Hb=M(w.tupleid,this.value,wb.materialize(wb.ADD).add),ac=Ka.sort;Ka=eb.changed()||
ac&&(Ka.modified("sort")||eb.modified(ac.fields));wb.visit(wb.REM,Hb.remove);this.modified(Ka);this.value=wb.source=Hb.data(w.stableCompare(ac),Ka);eb.source&&eb.source.root&&(this.value.root=eb.source.root);return wb}});l.inherits(z,w.Operator);K.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(K,w.Transform,{transform(Ka,eb){var wb=Ub=>mc=>{mc=tc(mc);var Bc=Lb;switch(Ka.case){case "upper":mc=mc.toUpperCase();break;case "lower":mc=mc.toLowerCase()}mc=mc.match(Bc)||[];var Cc;Bc=0;for(var Xc=mc.length;Bc<Xc;++Bc)Ac.test(Cc=mc[Bc])||Ub(Cc)};const Hb=this._parameterCheck(Ka,eb),ac=this._counts,Lb=this._match,Ac=this._stop,tc=Ka.field,pb=Ka.as||["text","count"],Bb=wb(Ub=>ac[Ub]=1+(ac[Ub]||
0));wb=wb(Ub=>--ac[Ub]);Hb?eb.visit(eb.SOURCE,Bb):(eb.visit(eb.ADD,Bb),eb.visit(eb.REM,wb));return this._finish(eb,pb)},_parameterCheck(Ka,eb){let wb=!1;if(Ka.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ka.stopwords||"")+"$","i"),wb=!0;if(Ka.modified("pattern")||!this._match)this._match=new RegExp(Ka.pattern||"[\\w']+","g"),wb=!0;if(Ka.modified("field")||eb.modified(Ka.field.fields))wb=!0;wb&&(this._counts={});return wb},_finish(Ka,eb){const wb=this._counts,Hb=this._tuples||(this._tuples=
{}),ac=eb[0],Lb=eb[1];Ka=Ka.fork(Ka.NO_SOURCE|Ka.NO_FIELDS);let Ac,tc,pb;for(Ac in wb)tc=Hb[Ac],pb=wb[Ac]||0,!tc&&pb?(Hb[Ac]=tc=w.ingest({}),tc[ac]=Ac,tc[Lb]=pb,Ka.add.push(tc)):0===pb?(tc&&Ka.rem.push(tc),wb[Ac]=null,Hb[Ac]=null):tc[Lb]!==pb&&(tc[Lb]=pb,Ka.mod.push(tc));return Ka.modifies(eb)}});R.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};l.inherits(R,w.Transform,{transform(Ka,eb){const wb=
eb.fork(eb.NO_SOURCE),Hb=Ka.as||["a","b"],ac=Hb[0],Lb=Hb[1];var Ac=!this.value||eb.changed(eb.ADD_REM)||Ka.modified("as")||Ka.modified("filter"),tc=this.value;if(Ac){tc&&(wb.rem=tc);eb=tc=eb.materialize(eb.SOURCE).source;Ka=Ka.filter||l.truthy;Ac=[];tc={};for(var pb=eb.length,Bb=0,Ub,mc;Bb<pb;++Bb)for(tc[ac]=mc=eb[Bb],Ub=0;Ub<pb;++Ub)tc[Lb]=eb[Ub],Ka(tc)&&(Ac.push(w.ingest(tc)),tc={},tc[ac]=mc);wb.add=this.value=Ac}else wb.mod=tc;wb.source=this.value;return wb.modifies(Hb)}});const gc={kde:H.randomKDE,
mixture:H.randomMixture,normal:H.randomNormal,lognormal:H.randomLogNormal,uniform:H.randomUniform};Pb=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ja.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Pb.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Pb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ja,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ka.modified()){const Hb=T(Ka.distribution,fa(eb));eb=Ka.steps||Ka.minsteps||25;const ac=Ka.steps||Ka.maxsteps||200;let Lb=Ka.method||"pdf";"pdf"!==Lb&&"cdf"!==Lb&&l.error("Invalid density method: "+Lb);Ka.extent||Hb.data||l.error("Missing density extent parameter.");
Lb=Hb[Lb];const Ac=Ka.as||["value","density"];Ka=Ka.extent||l.extent(Hb.data());Ka=H.sampleCurve(Lb,Ka,eb,ac).map(tc=>{const pb={};pb[Ac[0]]=tc[0];pb[Ac[1]]=tc[1];return w.ingest(pb)});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=Ka}return wb}});Z.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(Z,w.Transform,{transform(Ka,eb){if(this.value&&!Ka.modified()&&!eb.changed())return eb;var wb=eb.materialize(eb.SOURCE).source;const Hb=la(eb.source,Ka.groupby,l.identity),ac=Ka.smooth||!1,Lb=Ka.field;wb=Ka.step||l.span(l.extent(wb,Lb))/30;const Ac=w.stableCompare((Bc,Cc)=>Lb(Bc)-Lb(Cc));Ka=Ka.as||"bin";const tc=Hb.length;let pb=Infinity,Bb=-Infinity,Ub=0,mc;for(;Ub<tc;++Ub){const Bc=Hb[Ub].sort(Ac);mc=-1;for(const Cc of H.dotbin(Bc,wb,ac,Lb))Cc<pb&&(pb=Cc),Cc>Bb&&(Bb=Cc),Bc[++mc][Ka]=
Cc}this.value={start:pb,stop:Bb,step:wb};return eb.reflow(!0).modifies(Ka)}});l.inherits(P,w.Operator);V.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(V,w.Transform,{transform(Ka,eb){var wb=this.value;const Hb=Ka.field;Ka=eb.changed()||eb.modified(Hb.fields)||Ka.modified("field");let ac=wb[0],Lb=wb[1];if(Ka||null==ac)ac=Infinity,Lb=-Infinity;eb.visit(Ka?eb.SOURCE:eb.ADD,Ac=>{Ac=l.toNumber(Hb(Ac));null!=Ac&&(Ac<ac&&(ac=Ac),Ac>Lb&&(Lb=Ac))});Number.isFinite(ac)&&
Number.isFinite(Lb)||((wb=l.accessorName(Hb))&&(wb=` for field "${wb}"`),eb.dataflow.warn(`Infinite extent${wb}: [${ac}, ${Lb}]`),ac=Lb=void 0);this.value=[ac,Lb]}});l.inherits(ia,w.Operator,{connect(Ka){this.detachSubflow=Ka.detachSubflow;this.targets().add(Ka);return Ka.source=this},add(Ka){this.count+=1;this.value.add.push(Ka)},rem(Ka){--this.count;this.value.rem.push(Ka)},mod(Ka){this.value.mod.push(Ka)},init(Ka){this.value.init(Ka,Ka.NO_SOURCE)},evaluate(){return this.value}});l.inherits(aa,
w.Transform,{activate(Ka){this._targets[this._targets.active++]=Ka},subflow(Ka,eb,wb,Hb){const ac=this.value;let Lb=l.hasOwnProperty(ac,Ka)&&ac[Ka],Ac;Lb?Lb.value.stamp<wb.stamp&&(Lb.init(wb),this.activate(Lb)):(Ac=Hb||(Ac=this._group[Ka])&&Ac.tuple,Hb=wb.dataflow,Lb=new ia(wb.fork(wb.NO_SOURCE),this),Hb.add(Lb).connect(eb(Hb,Ka,Ac)),ac[Ka]=Lb,this.activate(Lb));return Lb},clean(){const Ka=this.value;for(const eb in Ka)if(0===Ka[eb].count){const wb=Ka[eb].detachSubflow;wb&&wb();delete Ka[eb]}},initTargets(){const Ka=
this._targets,eb=Ka.length;for(let wb=0;wb<eb&&null!=Ka[wb];++wb)Ka[wb]=null;Ka.active=0},transform(Ka,eb){const wb=eb.dataflow,Hb=Ka.key,ac=Ka.subflow,Lb=this._keys,Ac=Ka.modified("key"),tc=pb=>this.subflow(pb,ac,eb);this._group=Ka.group||{};this.initTargets();eb.visit(eb.REM,pb=>{const Bb=w.tupleid(pb),Ub=Lb.get(Bb);void 0!==Ub&&(Lb.delete(Bb),tc(Ub).rem(pb))});eb.visit(eb.ADD,pb=>{const Bb=Hb(pb);Lb.set(w.tupleid(pb),Bb);tc(Bb).add(pb)});Ac||eb.modified(Hb.fields)?eb.visit(eb.MOD,pb=>{const Bb=
w.tupleid(pb),Ub=Lb.get(Bb),mc=Hb(pb);Ub===mc?tc(mc).mod(pb):(Lb.set(Bb,mc),tc(Ub).rem(pb),tc(mc).add(pb))}):eb.changed(eb.MOD)&&eb.visit(eb.MOD,pb=>{tc(Lb.get(w.tupleid(pb))).mod(pb)});Ac&&eb.visit(eb.REFLOW,pb=>{const Bb=w.tupleid(pb),Ub=Lb.get(Bb),mc=Hb(pb);Ub!==mc&&(Lb.set(Bb,mc),tc(Ub).rem(pb),tc(mc).add(pb))});eb.clean()?wb.runAfter(()=>{this.clean();Lb.clean()}):Lb.empty>wb.cleanThreshold&&wb.runAfter(Lb.clean);return eb}});l.inherits(ya,w.Operator);Ia.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};l.inherits(Ia,w.Transform,{transform(Ka,eb){function wb(mc){const Bc=w.tupleid(mc),Cc=Bb(mc,Ka),Xc=ac.get(Bc);Cc&&Xc?(ac.delete(Bc),Ac.push(mc)):Cc||Xc?Ub&&Cc&&!Xc&&pb.push(mc):(ac.set(Bc,1),tc.push(mc))}const Hb=eb.dataflow,ac=this.value,Lb=eb.fork(),Ac=Lb.add,tc=Lb.rem,pb=Lb.mod,Bb=Ka.expr;let Ub=!0;eb.visit(eb.REM,mc=>{const Bc=w.tupleid(mc);ac.has(Bc)?ac.delete(Bc):tc.push(mc)});eb.visit(eb.ADD,mc=>{Bb(mc,Ka)?Ac.push(mc):ac.set(w.tupleid(mc),1)});
eb.visit(eb.MOD,wb);Ka.modified()&&(Ub=!1,eb.visit(eb.REFLOW,wb));ac.empty>Hb.cleanThreshold&&Hb.runAfter(ac.clean);return Lb}});bb.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(bb,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE),Hb=Ka.fields,ac=ha(Hb,Ka.as||[]),Lb=Ka.index||null,Ac=ac.length;wb.rem=this.value;eb.visit(eb.SOURCE,tc=>{const pb=Hb.map(Xc=>
Xc(tc)),Bb=pb.reduce((Xc,Qb)=>Math.max(Xc,Qb.length),0);let Ub=0,mc,Bc,Cc;for(;Ub<Bb;++Ub){Bc=w.derive(tc);for(mc=0;mc<Ac;++mc)Bc[ac[mc]]=null==(Cc=pb[mc][Ub])?null:Cc;Lb&&(Bc[Lb]=Ub);wb.add.push(Bc)}});this.value=wb.source=wb.add;Lb&&wb.modifies(Lb);return wb.modifies(ac)}});kb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(kb,w.Transform,{transform(Ka,eb){const wb=
eb.fork(eb.NO_SOURCE),Hb=Ka.fields,ac=Hb.map(l.accessorName);Ka=Ka.as||["key","value"];const Lb=Ka[0],Ac=Ka[1],tc=Hb.length;wb.rem=this.value;eb.visit(eb.SOURCE,pb=>{for(let Bb=0,Ub;Bb<tc;++Bb)Ub=w.derive(pb),Ub[Lb]=ac[Bb],Ub[Ac]=Hb[Bb](pb),wb.add.push(Ub)});this.value=wb.source=wb.add;return wb.modifies(Ka)}});ua.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(ua,w.Transform,
{transform(Ka,eb){const wb=Ka.expr,Hb=Ka.as,ac=Ka.modified(),Lb=Ka.initonly?eb.ADD:ac?eb.SOURCE:eb.modified(wb.fields)||eb.modified(Hb)?eb.ADD_MOD:eb.ADD;ac&&(eb=eb.materialize().reflow(!0));Ka.initonly||eb.modifies(Hb);return eb.visit(Lb,Ac=>Ac[Hb]=wb(Ac,Ka))}});l.inherits(Ta,w.Transform,{transform(Ka,eb){eb=eb.fork(eb.ALL);const wb=Ka.generator;let Hb=this.value,ac=Ka.size-Hb.length,Lb,Ac;if(0<ac){for(Lb=[];0<=--ac;)Lb.push(Ac=w.ingest(wb(Ka))),Hb.push(Ac);eb.add=eb.add.length?eb.materialize(eb.ADD).add.concat(Lb):
Lb}else Ka=Hb.slice(0,-ac),eb.rem=eb.rem.length?eb.materialize(eb.REM).rem.concat(Ka):Ka,Hb=Hb.slice(-ac);eb.source=this.value=Hb;return eb}});const Eb={value:"value",median:N.median,mean:N.mean,min:N.min,max:N.max},zc=[];Ya.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median",
"max","min"]},{name:"value","default":0}]};l.inherits(Ya,w.Transform,{transform(Ka,eb){var wb=eb.fork(eb.ALL),Hb=Da(Ka),ac=ta(Ka),Lb=l.accessorName(Ka.field),Ac=l.accessorName(Ka.key),tc=(Ka.groupby||[]).map(l.accessorName);Ka=U(eb.source,Ka.groupby,Ka.key,Ka.keyvals);eb=[];var pb=this.value,Bb=Ka.domain.length,Ub,mc,Bc;var Cc=0;for(mc=Ka.length;Cc<mc;++Cc){var Xc=Ka[Cc];var Qb=Xc.values;var Ic=NaN;for(Ub=0;Ub<Bb;++Ub)if(null==Xc[Ub]){var Dc=Ka.domain[Ub];var uc={_impute:!0};var Tc=0;for(Bc=Qb.length;Tc<
Bc;++Tc)uc[tc[Tc]]=Qb[Tc];uc[Ac]=Dc;uc[Lb]=Number.isNaN(Ic)?Ic=Hb(Xc,ac):Ic;eb.push(w.ingest(uc))}}eb.length&&(wb.add=wb.materialize(wb.ADD).add.concat(eb));pb.length&&(wb.rem=wb.materialize(wb.REM).rem.concat(pb));this.value=eb;return wb}});W.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:wd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};
l.inherits(W,D,{transform(Ka,eb){const wb=this,Hb=Ka.modified();let ac;wb.value&&(Hb||eb.modified(wb._inputs,!0))?(ac=wb.value=Hb?wb.init(Ka):{},eb.visit(eb.SOURCE,Lb=>wb.add(Lb))):(ac=wb.value=wb.value||this.init(Ka),eb.visit(eb.REM,Lb=>wb.rem(Lb)),eb.visit(eb.ADD,Lb=>wb.add(Lb)));wb.changes();eb.visit(eb.SOURCE,Lb=>{l.extend(Lb,ac[wb.cellkey(Lb)].tuple)});return eb.reflow(Hb).modifies(this._outputs)},changes(){const Ka=this._adds,eb=this._mods;let wb,Hb;wb=0;for(Hb=this._alen;wb<Hb;++wb)this.celltuple(Ka[wb]),
Ka[wb]=null;wb=0;for(Hb=this._mlen;wb<Hb;++wb)this.celltuple(eb[wb]),eb[wb]=null;this._alen=this._mlen=0}});ba.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ba,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ka.modified()){eb=eb.materialize(eb.SOURCE).source;const Hb=la(eb,Ka.groupby,Ka.field),ac=(Ka.groupby||[]).map(l.accessorName),Lb=Ka.bandwidth,Ac=Ka.cumulative?"cdf":"pdf",tc=Ka.as||["value","density"],
pb=[];let Bb=Ka.extent,Ub=Ka.steps||Ka.minsteps||25,mc=Ka.steps||Ka.maxsteps||200;"pdf"!==Ac&&"cdf"!==Ac&&l.error("Invalid density method: "+Ac);"shared"===Ka.resolve&&(Bb||(Bb=l.extent(eb,Ka.field)),Ub=mc=Ka.steps||mc);Hb.forEach(Bc=>{const Cc=H.randomKDE(Bc,Lb)[Ac],Xc=Ka.counts?Bc.length:1,Qb=Bb||l.extent(Bc);H.sampleCurve(Cc,Qb,Ub,mc).forEach(Ic=>{const Dc={};for(let uc=0;uc<ac.length;++uc)Dc[ac[uc]]=Bc.dims[uc];Dc[tc[0]]=Ic[0];Dc[tc[1]]=Ic[1]*Xc;pb.push(w.ingest(Dc))})});this.value&&(wb.rem=this.value);
this.value=wb.add=wb.source=pb}return wb}});l.inherits(ca,w.Operator);l.inherits(qa,w.Transform,{transform(Ka,eb){const wb=eb.dataflow;return this._pending?na(this,eb,this._pending):Fa(Ka)?eb.StopPropagation:Ka.values?na(this,eb,wb.parse(Ka.values,Ka.format)):Ka.async?{async:wb.request(Ka.url,Ka.format).then(Hb=>{this._pending=l.array(Hb.data);return ac=>ac.touch(this)})}:wb.request(Ka.url,Ka.format).then(Hb=>na(this,eb,l.array(Hb.data)))}});Ra.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Ra,w.Transform,{transform(Ka,eb){const wb=Ka.fields,Hb=Ka.index,ac=Ka.values,Lb=null==Ka.default?null:Ka.default;var Ac=Ka.modified();const tc=wb.length;let pb=Ac?eb.SOURCE:eb.ADD,Bb=eb,Ub=Ka.as,mc;ac?(mc=ac.length,1<tc&&!Ub&&l.error('Multi-field lookup requires explicit "as" parameter.'),
Ub&&Ub.length!==tc*mc&&l.error('The "as" parameter has too few output field names.'),Ub=Ub||ac.map(l.accessorName),Ka=function(Bc){for(var Cc=0,Xc=0,Qb,Ic;Cc<tc;++Cc)if(Ic=Hb.get(wb[Cc](Bc)),null==Ic)for(Qb=0;Qb<mc;++Qb,++Xc)Bc[Ub[Xc]]=Lb;else for(Qb=0;Qb<mc;++Qb,++Xc)Bc[Ub[Xc]]=ac[Qb](Ic)}):(Ub||l.error("Missing output field names."),Ka=function(Bc){for(var Cc=0,Xc;Cc<tc;++Cc)Xc=Hb.get(wb[Cc](Bc)),Bc[Ub[Cc]]=null==Xc?Lb:Xc});Ac?Bb=eb.reflow(!0):(Ac=wb.some(Bc=>eb.modified(Bc.fields)),pb|=Ac?eb.MOD:
0);eb.visit(pb,Ka);return Bb.modifies(Ub)}});l.inherits(db,w.Operator);l.inherits(Ca,w.Operator);l.inherits(pa,w.Transform,{transform(Ka,eb){this.modified(Ka.modified());this.value=Ka;return eb.fork(eb.NO_SOURCE|eb.NO_FIELDS)}});Ha.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:wd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};l.inherits(Ha,D,{_transform:D.prototype.transform,transform(Ka,eb){return this._transform(Ua(Ka,eb),eb)}});l.inherits(Xb,aa,{transform(Ka,eb){const wb=Ka.subflow,Hb=Ka.field,ac=Lb=>this.subflow(w.tupleid(Lb),wb,eb,Lb);(Ka.modified("field")||Hb&&eb.modified(l.accessorFields(Hb)))&&l.error("PreFacet does not support field modification.");this.initTargets();Hb?(eb.visit(eb.MOD,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>Ac.mod(tc))}),eb.visit(eb.ADD,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>
Ac.add(w.ingest(tc)))}),eb.visit(eb.REM,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>Ac.rem(tc))})):(eb.visit(eb.MOD,Lb=>ac(Lb).mod(Lb)),eb.visit(eb.ADD,Lb=>ac(Lb).add(Lb)),eb.visit(eb.REM,Lb=>ac(Lb).rem(Lb)));eb.clean()&&eb.runAfter(()=>this.clean());return eb}});nc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(nc,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE),Hb=Ka.fields,
ac=ha(Ka.fields,Ka.as||[]),Lb=Hb?(tc,pb)=>{for(let Bb=0,Ub=Hb.length;Bb<Ub;++Bb)pb[ac[Bb]]=Hb[Bb](tc);return pb}:w.rederive;let Ac;this.value?Ac=this.value:(eb=eb.addAll(),Ac=this.value={});eb.visit(eb.REM,tc=>{tc=w.tupleid(tc);wb.rem.push(Ac[tc]);Ac[tc]=null});eb.visit(eb.ADD,tc=>{const pb=Lb(tc,w.ingest({}));Ac[w.tupleid(tc)]=pb;wb.add.push(pb)});eb.visit(eb.MOD,tc=>{wb.mod.push(Lb(tc,Ac[w.tupleid(tc)]))});return wb}});l.inherits(md,w.Transform,{transform(Ka,eb){this.value=Ka.value;return Ka.modified("value")?
eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});pc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};l.inherits(pc,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),Hb=Ka.as||["prob","value"];if(this.value&&!Ka.modified()&&!eb.changed())return wb.source=
this.value,wb;eb=eb.materialize(eb.SOURCE).source;eb=la(eb,Ka.groupby,Ka.field);const ac=(Ka.groupby||[]).map(l.accessorName),Lb=[],Ac=Ka.step||.01,tc=Ka.probs||N.range(Ac/2,1-1E-14,Ac),pb=tc.length;eb.forEach(Bb=>{const Ub=H.quantiles(Bb,tc);for(let mc=0;mc<pb;++mc){const Bc={};for(let Cc=0;Cc<ac.length;++Cc)Bc[ac[Cc]]=Bb.dims[Cc];Bc[Hb[0]]=tc[mc];Bc[Hb[1]]=Ub[mc];Lb.push(w.ingest(Bc))}});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=Lb;return wb}});l.inherits(Hc,w.Transform,{transform(Ka,
eb){let wb,Hb;this.value?Hb=this.value:(wb=eb=eb.addAll(),Hb=this.value={});Ka.derive&&(wb=eb.fork(eb.NO_SOURCE),eb.visit(eb.REM,ac=>{ac=w.tupleid(ac);wb.rem.push(Hb[ac]);Hb[ac]=null}),eb.visit(eb.ADD,ac=>{const Lb=w.derive(ac);Hb[w.tupleid(ac)]=Lb;wb.add.push(Lb)}),eb.visit(eb.MOD,ac=>{const Lb=Hb[w.tupleid(ac)];for(const Ac in ac)Lb[Ac]=ac[Ac],wb.modifies(Ac);wb.mod.push(Lb)}));return wb}});mb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(mb,
w.Transform,{transform(Ka,eb){function wb(Ub){let mc,Bc;tc.length<Lb?tc.push(Ub):(Bc=~~((pb+1)*H.random()),Bc<tc.length&&Bc>=Bb&&(mc=tc[Bc],Ac[w.tupleid(mc)]&&Hb.rem.push(mc),tc[Bc]=Ub));++pb}const Hb=eb.fork(eb.NO_SOURCE);var ac=Ka.modified("size");const Lb=Ka.size,Ac=this.value.reduce((Ub,mc)=>(Ub[w.tupleid(mc)]=1,Ub),{});let tc=this.value,pb=this.count,Bb=0;eb.rem.length&&(eb.visit(eb.REM,Ub=>{const mc=w.tupleid(Ub);Ac[mc]&&(Ac[mc]=-1,Hb.rem.push(Ub));--pb}),tc=tc.filter(Ub=>-1!==Ac[w.tupleid(Ub)]));
(eb.rem.length||ac)&&tc.length<Lb&&eb.source&&(Bb=pb=tc.length,eb.visit(eb.SOURCE,Ub=>{Ac[w.tupleid(Ub)]||wb(Ub)}),Bb=-1);if(ac&&tc.length>Lb){Ka=tc.length-Lb;for(ac=0;ac<Ka;++ac)Ac[w.tupleid(tc[ac])]=-1,Hb.rem.push(tc[ac]);tc=tc.slice(Ka)}eb.mod.length&&eb.visit(eb.MOD,Ub=>{Ac[w.tupleid(Ub)]&&Hb.mod.push(Ub)});eb.add.length&&eb.visit(eb.ADD,wb);if(eb.add.length||0>Bb)Hb.add=tc.filter(Ub=>!Ac[w.tupleid(Ub)]);this.count=pb;this.value=Hb.source=tc;return Hb}});hc.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(hc,w.Transform,{transform(Ka,eb){if(!this.value||Ka.modified()){var wb=eb.materialize().fork(eb.MOD),Hb=Ka.as||"data";wb.rem=this.value?eb.rem.concat(this.value):eb.rem;this.value=N.range(Ka.start,Ka.stop,Ka.step||1).map(ac=>{const Lb={};Lb[Hb]=ac;return w.ingest(Lb)});wb.add=eb.add.concat(this.value);return wb}}});
l.inherits(jc,w.Transform,{transform(Ka,eb){this.value=eb.source;return eb.changed()?eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});const Vc=["unit0","unit1"];rc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:x.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Vc}]};l.inherits(rc,w.Transform,{transform(Ka,eb){const wb=Ka.field,Hb=!1!==Ka.interval;var ac="utc"===Ka.timezone;const Lb=this._floor(Ka,eb),Ac=(ac?x.utcInterval:x.timeInterval)(Lb.unit).offset;ac=Ka.as||Vc;const tc=ac[0],pb=ac[1],Bb=Lb.step;let Ub=Lb.start||Infinity,mc=Lb.stop||-Infinity,Bc=eb.ADD;if(Ka.modified()||eb.modified(l.accessorFields(wb)))eb=eb.reflow(!0),Bc=eb.SOURCE,Ub=Infinity,
mc=-Infinity;eb.visit(Bc,Cc=>{var Xc=wb(Cc);let Qb;null==Xc?(Cc[tc]=null,Hb&&(Cc[pb]=null)):(Cc[tc]=Xc=Qb=Lb(Xc),Hb&&(Cc[pb]=Qb=Ac(Xc,Bb)),Xc<Ub&&(Ub=Xc),Qb>mc&&(mc=Qb))});Lb.start=Ub;Lb.stop=mc;return eb.modifies(Hb?ac:tc)},_floor(Ka,eb){var wb="utc"===Ka.timezone;const {units:Hb,step:ac}=Ka.units?{units:Ka.units,step:Ka.step||1}:x.timeBin({extent:Ka.extent||l.extent(eb.materialize(eb.SOURCE).source,Ka.field),maxbins:Ka.maxbins});Ka=x.timeUnits(Hb);eb=this.value||{};wb=(wb?x.utcFloor:x.timeFloor)(Ka,
ac);wb.unit=l.peek(Ka);wb.units=Ka;wb.step=ac;wb.start=eb.start;wb.stop=eb.stop;return this.value=wb}});l.inherits(Pc,w.Transform,{transform(Ka,eb){const wb=eb.dataflow,Hb=Ka.field,ac=this.value,Lb=tc=>ac.set(Hb(tc),tc);let Ac=!0;Ka.modified("field")||eb.modified(Hb.fields)?(ac.clear(),eb.visit(eb.SOURCE,Lb)):eb.changed()?(eb.visit(eb.REM,tc=>ac.delete(Hb(tc))),eb.visit(eb.ADD,Lb)):Ac=!1;this.modified(Ac);ac.empty>wb.cleanThreshold&&wb.runAfter(ac.clean);return eb.fork()}});l.inherits(sc,w.Transform,
{transform(Ka,eb){if(!this.value||Ka.modified("field")||Ka.modified("sort")||eb.changed()||Ka.sort&&eb.modified(Ka.sort.fields))this.value=(Ka.sort?eb.source.slice().sort(w.stableCompare(Ka.sort)):eb.source).map(Ka.field)}});const Ed={row_number:function(){return{next:Ka=>Ka.index+1}},rank:function(){let Ka;return{init:()=>Ka=1,next:eb=>{const wb=eb.index,Hb=eb.data;return wb&&eb.compare(Hb[wb-1],Hb[wb])?Ka=wb+1:Ka}}},dense_rank:function(){let Ka;return{init:()=>Ka=1,next:eb=>{const wb=eb.index,Hb=
eb.data;return wb&&eb.compare(Hb[wb-1],Hb[wb])?++Ka:Ka}}},percent_rank:function(){const Ka=Ed.rank(),eb=Ka.next;return{init:Ka.init,next:wb=>(eb(wb)-1)/(wb.data.length-1)}},cume_dist:function(){let Ka;return{init:()=>Ka=0,next:eb=>{const wb=eb.data,Hb=eb.compare;eb=eb.index;if(Ka<eb){for(;eb+1<wb.length&&!Hb(wb[eb],wb[eb+1]);)++eb;Ka=eb}return(1+Ka)/wb.length}}},ntile:function(Ka,eb){eb=+eb;0<eb||l.error("ntile num must be greater than zero.");Ka=Ed.cume_dist();const wb=Ka.next;return{init:Ka.init,
next:Hb=>Math.ceil(eb*wb(Hb))}},lag:function(Ka,eb){eb=+eb||1;return{next:wb=>{const Hb=wb.index-eb;return 0<=Hb?Ka(wb.data[Hb]):null}}},lead:function(Ka,eb){eb=+eb||1;return{next:wb=>{const Hb=wb.index+eb;wb=wb.data;return Hb<wb.length?Ka(wb[Hb]):null}}},first_value:function(Ka){return{next:eb=>Ka(eb.data[eb.i0])}},last_value:function(Ka){return{next:eb=>Ka(eb.data[eb.i1-1])}},nth_value:function(Ka,eb){eb=+eb;0<eb||l.error("nth_value nth must be greater than zero.");return{next:wb=>{const Hb=wb.i0+
(eb-1);return Hb<wb.i1?Ka(wb.data[Hb]):null}}},prev_value:function(Ka){let eb;return{init:()=>eb=null,next:wb=>{wb=Ka(wb.data[wb.index]);return null!=wb?eb=wb:eb}}},next_value:function(Ka){let eb,wb;return{init:()=>(eb=null,wb=-1),next:Hb=>{var ac=Hb.data;if(Hb.index<=wb)ac=eb;else{a:{Hb=Hb.index;for(let Lb=ac.length;Hb<Lb;++Hb)if(null!=Ka(ac[Hb]))break a;Hb=-1}ac=0>(wb=Hb)?(wb=ac.length,eb=null):eb=Ka(ac[wb])}return ac}}}};Pb=Object.keys(Ed);const Vd=Sc.prototype;Vd.init=function(){this.windows.forEach(Ka=>
Ka.init());this.cell&&this.cell.init()};Vd.update=function(Ka,eb){const wb=this.cell,Hb=this.windows,ac=Ka.data,Lb=Hb&&Hb.length;let Ac;if(wb){for(Ac=Ka.p0;Ac<Ka.i0;++Ac)wb.rem(ac[Ac]);for(Ac=Ka.p1;Ac<Ka.i1;++Ac)wb.add(ac[Ac]);wb.set(eb)}for(Ac=0;Ac<Lb;++Ac)Hb[Ac].update(Ka,eb)};Fd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Pb.concat(wd)},{name:"params",type:"number","null":!0,
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(Fd,w.Transform,{transform(Ka,eb){this.stamp=eb.stamp;const wb=Ka.modified(),Hb=w.stableCompare(Ka.sort),ac=u(Ka.groupby),Lb=tc=>this.group(ac(tc));let Ac=this.state;if(!Ac||wb)Ac=this.state=new Sc(Ka);wb||eb.modified(Ac.inputs)?(this.value={},eb.visit(eb.SOURCE,
tc=>Lb(tc).add(tc))):(eb.visit(eb.REM,tc=>Lb(tc).remove(tc)),eb.visit(eb.ADD,tc=>Lb(tc).add(tc)));for(let tc=0,pb=this._mlen;tc<pb;++tc)ge(this._mods[tc],Ac,Hb,Ka);this._mlen=0;this._mods=[];return eb.reflow(wb).modifies(Ac.outputs)},group(Ka){let eb=this.value[Ka];eb||(eb=this.value[Ka]=M(w.tupleid),eb.stamp=-1);eb.stamp<this.stamp&&(eb.stamp=this.stamp,this._mods[this._mlen++]=eb);return eb}});k.aggregate=D;k.bin=O;k.collect=F;k.compare=z;k.countpattern=K;k.cross=R;k.density=ja;k.dotbin=Z;k.expression=
P;k.extent=V;k.facet=aa;k.field=ya;k.filter=Ia;k.flatten=bb;k.fold=kb;k.formula=ua;k.generate=Ta;k.impute=Ya;k.joinaggregate=W;k.kde=ba;k.key=ca;k.load=qa;k.lookup=Ra;k.multiextent=db;k.multivalues=Ca;k.params=pa;k.pivot=Ha;k.prefacet=Xb;k.project=nc;k.proxy=md;k.quantile=pc;k.relay=Hc;k.sample=mb;k.sequence=hc;k.sieve=jc;k.subflow=ia;k.timeunit=rc;k.tupleindex=Pc;k.values=sc;k.window=Fd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function w(){return new l}const H=Math.PI,N=2*H,x=N-1E-6;l.prototype=w.prototype={constructor:l,moveTo:function(v,u){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+u)},closePath:function(){null!==this._x1&&(this._x1=
this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(v,u){this._+="L"+(this._x1=+v)+","+(this._y1=+u)},quadraticCurveTo:function(v,u,m,g){this._+="Q"+ +v+","+ +u+","+(this._x1=+m)+","+(this._y1=+g)},bezierCurveTo:function(v,u,m,g,d,f){this._+="C"+ +v+","+ +u+","+ +m+","+ +g+","+(this._x1=+d)+","+(this._y1=+f)},arcTo:function(v,u,m,g,d){v=+v;u=+u;m=+m;g=+g;d=+d;var f=this._x1,a=this._y1,e=m-v,n=g-u,y=f-v,B=a-u,D=y*y+B*B;if(0>d)throw Error("negative radius: "+d);if(null===this._x1)this._+="M"+(this._x1=
v)+","+(this._y1=u);else if(1E-6<D)if(1E-6<Math.abs(B*e-n*y)&&d){m-=f;g-=a;var O=e*e+n*n;a=Math.sqrt(O);f=Math.sqrt(D);D=d*Math.tan((H-Math.acos((O+D-(m*m+g*g))/(2*a*f)))/2);f=D/f;D/=a;1E-6<Math.abs(f-1)&&(this._+="L"+(v+f*y)+","+(u+f*B));this._+="A"+d+","+d+",0,0,"+ +(B*m>y*g)+","+(this._x1=v+D*e)+","+(this._y1=u+D*n)}else this._+="L"+(this._x1=v)+","+(this._y1=u)},arc:function(v,u,m,g,d,f){v=+v;u=+u;m=+m;f=!!f;var a=m*Math.cos(g),e=m*Math.sin(g),n=v+a,y=u+e,B=1^f;g=f?g-d:d-g;if(0>m)throw Error("negative radius: "+
m);if(null===this._x1)this._+="M"+n+","+y;else if(1E-6<Math.abs(this._x1-n)||1E-6<Math.abs(this._y1-y))this._+="L"+n+","+y;m&&(0>g&&(g=g%N+N),g>x?this._+="A"+m+","+m+",0,1,"+B+","+(v-a)+","+(u-e)+"A"+m+","+m+",0,1,"+B+","+(this._x1=n)+","+(this._y1=y):1E-6<g&&(this._+="A"+m+","+m+",0,"+ +(g>=H)+","+B+","+(this._x1=v+m*Math.cos(d))+","+(this._y1=u+m*Math.sin(d))))},rect:function(v,u,m,g){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+u)+"h"+ +m+"v"+ +g+"h"+-m+"Z"},toString:function(){return this._}};
k.path=w;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(29)):"function"===typeof define&&define.amd?define(["exports","d3-path"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(pb){return function(){return pb}}function H(pb){return 1<=pb?jc:-1>=pb?-jc:Math.asin(pb)}function N(pb){return pb.innerRadius}function x(pb){return pb.outerRadius}function v(pb){return pb.startAngle}function u(pb){return pb.endAngle}function m(pb){return pb&&
pb.padAngle}function g(pb,Bb,Ub,mc,Bc,Cc,Xc){var Qb=pb-Ub,Ic=Bb-mc;Xc=(Xc?Cc:-Cc)/mb(Qb*Qb+Ic*Ic);Ic*=Xc;Qb*=-Xc;var Dc=pb+Ic,uc=Bb+Qb,Tc=Ub+Ic,ad=mc+Qb;Ub=(Dc+Tc)/2;mc=(uc+ad)/2;Bb=Tc-Dc;pb=ad-uc;Xc=Bb*Bb+pb*pb;Cc=Bc-Cc;ad=Dc*ad-Tc*uc;var ld=(0>pb?-1:1)*mb(md(0,Cc*Cc*Xc-ad*ad));Dc=(ad*pb-Bb*ld)/Xc;uc=(-ad*Bb-pb*ld)/Xc;Tc=(ad*pb+Bb*ld)/Xc;Bb=(-ad*Bb+pb*ld)/Xc;pb=Dc-Ub;Xc=uc-mc;Ub=Tc-Ub;mc=Bb-mc;pb*pb+Xc*Xc>Ub*Ub+mc*mc&&(Dc=Tc,uc=Bb);return{cx:Dc,cy:uc,x01:-Ic,y01:-Qb,x11:Dc*(Bc/Cc-1),y11:uc*(Bc/Cc-
1)}}function d(pb){return"object"===typeof pb&&"length"in pb?pb:Array.from(pb)}function f(pb){this._context=pb}function a(pb){return new f(pb)}function e(pb){return pb[0]}function n(pb){return pb[1]}function y(pb,Bb){function Ub(Qb){var Ic,Dc=(Qb=d(Qb)).length,uc,Tc=!1,ad;null==Bc&&(Xc=Cc(ad=l.path()));for(Ic=0;Ic<=Dc;++Ic)!(Ic<Dc&&mc(uc=Qb[Ic],Ic,Qb))===Tc&&((Tc=!Tc)?Xc.lineStart():Xc.lineEnd()),Tc&&Xc.point(+pb(uc,Ic,Qb),+Bb(uc,Ic,Qb));if(ad)return Xc=null,ad+""||null}var mc=w(!0),Bc=null,Cc=a,
Xc=null;pb="function"===typeof pb?pb:void 0===pb?e:w(pb);Bb="function"===typeof Bb?Bb:void 0===Bb?n:w(Bb);Ub.x=function(Qb){return arguments.length?(pb="function"===typeof Qb?Qb:w(+Qb),Ub):pb};Ub.y=function(Qb){return arguments.length?(Bb="function"===typeof Qb?Qb:w(+Qb),Ub):Bb};Ub.defined=function(Qb){return arguments.length?(mc="function"===typeof Qb?Qb:w(!!Qb),Ub):mc};Ub.curve=function(Qb){return arguments.length?(Cc=Qb,null!=Bc&&(Xc=Cc(Bc)),Ub):Cc};Ub.context=function(Qb){return arguments.length?
(null==Qb?Bc=Xc=null:Xc=Cc(Bc=Qb),Ub):Bc};return Ub}function B(pb,Bb,Ub){function mc(uc){var Tc,ad,ld=(uc=d(uc)).length,Cd,Dd=!1,Ud,ae=Array(ld),oe=Array(ld);null==Qb&&(Dc=Ic(Ud=l.path()));for(Tc=0;Tc<=ld;++Tc){if(!(Tc<ld&&Xc(Cd=uc[Tc],Tc,uc))===Dd)if(Dd=!Dd){var De=Tc;Dc.areaStart();Dc.lineStart()}else{Dc.lineEnd();Dc.lineStart();for(ad=Tc-1;ad>=De;--ad)Dc.point(ae[ad],oe[ad]);Dc.lineEnd();Dc.areaEnd()}Dd&&(ae[Tc]=+pb(Cd,Tc,uc),oe[Tc]=+Bb(Cd,Tc,uc),Dc.point(Cc?+Cc(Cd,Tc,uc):ae[Tc],Ub?+Ub(Cd,Tc,uc):
oe[Tc]))}if(Ud)return Dc=null,Ud+""||null}function Bc(){return y().defined(Xc).curve(Ic).context(Qb)}var Cc=null,Xc=w(!0),Qb=null,Ic=a,Dc=null;pb="function"===typeof pb?pb:void 0===pb?e:w(+pb);Bb="function"===typeof Bb?Bb:void 0===Bb?w(0):w(+Bb);Ub="function"===typeof Ub?Ub:void 0===Ub?n:w(+Ub);mc.x=function(uc){return arguments.length?(pb="function"===typeof uc?uc:w(+uc),Cc=null,mc):pb};mc.x0=function(uc){return arguments.length?(pb="function"===typeof uc?uc:w(+uc),mc):pb};mc.x1=function(uc){return arguments.length?
(Cc=null==uc?null:"function"===typeof uc?uc:w(+uc),mc):Cc};mc.y=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:w(+uc),Ub=null,mc):Bb};mc.y0=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:w(+uc),mc):Bb};mc.y1=function(uc){return arguments.length?(Ub=null==uc?null:"function"===typeof uc?uc:w(+uc),mc):Ub};mc.lineX0=mc.lineY0=function(){return Bc().x(pb).y(Bb)};mc.lineY1=function(){return Bc().x(pb).y(Ub)};mc.lineX1=function(){return Bc().x(Cc).y(Bb)};mc.defined=
function(uc){return arguments.length?(Xc="function"===typeof uc?uc:w(!!uc),mc):Xc};mc.curve=function(uc){return arguments.length?(Ic=uc,null!=Qb&&(Dc=Ic(Qb)),mc):Ic};mc.context=function(uc){return arguments.length?(null==uc?Qb=Dc=null:Dc=Ic(Qb=uc),mc):Qb};return mc}function D(pb,Bb){return Bb<pb?-1:Bb>pb?1:Bb>=pb?0:NaN}function O(pb){return pb}function M(pb){this._curve=pb}function F(pb){function Bb(Ub){return new M(pb(Ub))}Bb._curve=pb;return Bb}function z(pb){var Bb=pb.curve;pb.angle=pb.x;delete pb.x;
pb.radius=pb.y;delete pb.y;pb.curve=function(Ub){return arguments.length?Bb(F(Ub)):Bb()._curve};return pb}function G(){return z(y().curve(sc))}function K(){var pb=B().curve(sc),Bb=pb.curve,Ub=pb.lineX0,mc=pb.lineX1,Bc=pb.lineY0,Cc=pb.lineY1;pb.angle=pb.x;delete pb.x;pb.startAngle=pb.x0;delete pb.x0;pb.endAngle=pb.x1;delete pb.x1;pb.radius=pb.y;delete pb.y;pb.innerRadius=pb.y0;delete pb.y0;pb.outerRadius=pb.y1;delete pb.y1;pb.lineStartAngle=function(){return z(Ub())};delete pb.lineX0;pb.lineEndAngle=
function(){return z(mc())};delete pb.lineX1;pb.lineInnerRadius=function(){return z(Bc())};delete pb.lineY0;pb.lineOuterRadius=function(){return z(Cc())};delete pb.lineY1;pb.curve=function(Xc){return arguments.length?Bb(F(Xc)):Bb()._curve};return pb}function R(pb,Bb){return[(Bb=+Bb)*Math.cos(pb-=Math.PI/2),Bb*Math.sin(pb)]}function T(pb){return pb.source}function ja(pb){return pb.target}function fa(pb){function Bb(){var Qb,Ic=Pc.call(arguments),Dc=Ub.apply(this,Ic),uc=mc.apply(this,Ic);Xc||(Xc=Qb=
l.path());pb(Xc,+Bc.apply(this,(Ic[0]=Dc,Ic)),+Cc.apply(this,Ic),+Bc.apply(this,(Ic[0]=uc,Ic)),+Cc.apply(this,Ic));if(Qb)return Xc=null,Qb+""||null}var Ub=T,mc=ja,Bc=e,Cc=n,Xc=null;Bb.source=function(Qb){return arguments.length?(Ub=Qb,Bb):Ub};Bb.target=function(Qb){return arguments.length?(mc=Qb,Bb):mc};Bb.x=function(Qb){return arguments.length?(Bc="function"===typeof Qb?Qb:w(+Qb),Bb):Bc};Bb.y=function(Qb){return arguments.length?(Cc="function"===typeof Qb?Qb:w(+Qb),Bb):Cc};Bb.context=function(Qb){return arguments.length?
(Xc=null==Qb?null:Qb,Bb):Xc};return Bb}function ha(pb,Bb,Ub,mc,Bc){pb.moveTo(Bb,Ub);pb.bezierCurveTo(Bb=(Bb+mc)/2,Ub,Bb,Bc,mc,Bc)}function la(pb,Bb,Ub,mc,Bc){pb.moveTo(Bb,Ub);pb.bezierCurveTo(Bb,Ub=(Ub+Bc)/2,mc,Ub,mc,Bc)}function Z(pb,Bb,Ub,mc,Bc){var Cc=R(Bb,Ub);Bb=R(Bb,Ub=(Ub+Bc)/2);Ub=R(mc,Ub);mc=R(mc,Bc);pb.moveTo(Cc[0],Cc[1]);pb.bezierCurveTo(Bb[0],Bb[1],Ub[0],Ub[1],mc[0],mc[1])}function P(){}function C(pb,Bb,Ub){pb._context.bezierCurveTo((2*pb._x0+pb._x1)/3,(2*pb._y0+pb._y1)/3,(pb._x0+2*pb._x1)/
3,(pb._y0+2*pb._y1)/3,(pb._x0+4*pb._x1+Bb)/6,(pb._y0+4*pb._y1+Ub)/6)}function V(pb){this._context=pb}function ia(pb){this._context=pb}function aa(pb){this._context=pb}function ya(pb,Bb){this._basis=new V(pb);this._beta=Bb}function va(pb,Bb,Ub){pb._context.bezierCurveTo(pb._x1+pb._k*(pb._x2-pb._x0),pb._y1+pb._k*(pb._y2-pb._y0),pb._x2+pb._k*(pb._x1-Bb),pb._y2+pb._k*(pb._y1-Ub),pb._x2,pb._y2)}function Ia(pb,Bb){this._context=pb;this._k=(1-Bb)/6}function bb(pb,Bb){this._context=pb;this._k=(1-Bb)/6}function kb(pb,
Bb){this._context=pb;this._k=(1-Bb)/6}function ua(pb,Bb,Ub){var mc=pb._x1,Bc=pb._y1,Cc=pb._x2,Xc=pb._y2;if(1E-12<pb._l01_a){var Qb=2*pb._l01_2a+3*pb._l01_a*pb._l12_a+pb._l12_2a,Ic=3*pb._l01_a*(pb._l01_a+pb._l12_a);mc=(mc*Qb-pb._x0*pb._l12_2a+pb._x2*pb._l01_2a)/Ic;Bc=(Bc*Qb-pb._y0*pb._l12_2a+pb._y2*pb._l01_2a)/Ic}1E-12<pb._l23_a&&(Qb=2*pb._l23_2a+3*pb._l23_a*pb._l12_a+pb._l12_2a,Ic=3*pb._l23_a*(pb._l23_a+pb._l12_a),Cc=(Cc*Qb+pb._x1*pb._l23_2a-Bb*pb._l12_2a)/Ic,Xc=(Xc*Qb+pb._y1*pb._l23_2a-Ub*pb._l12_2a)/
Ic);pb._context.bezierCurveTo(mc,Bc,Cc,Xc,pb._x2,pb._y2)}function Ta(pb,Bb){this._context=pb;this._alpha=Bb}function Ya(pb,Bb){this._context=pb;this._alpha=Bb}function Da(pb,Bb){this._context=pb;this._alpha=Bb}function ta(pb){this._context=pb}function U(pb,Bb,Ub){var mc=pb._x1-pb._x0;Bb-=pb._x1;var Bc=(pb._y1-pb._y0)/(mc||0>Bb&&-0);pb=(Ub-pb._y1)/(Bb||0>mc&&-0);return((0>Bc?-1:1)+(0>pb?-1:1))*Math.min(Math.abs(Bc),Math.abs(pb),.5*Math.abs((Bc*Bb+pb*mc)/(mc+Bb)))||0}function W(pb,Bb){var Ub=pb._x1-
pb._x0;return Ub?(3*(pb._y1-pb._y0)/Ub-Bb)/2:Bb}function ba(pb,Bb,Ub){var mc=pb._x0,Bc=pb._x1,Cc=pb._y1,Xc=(Bc-mc)/3;pb._context.bezierCurveTo(mc+Xc,pb._y0+Xc*Bb,Bc-Xc,Cc-Xc*Ub,Bc,Cc)}function ca(pb){this._context=pb}function ra(pb){this._context=new qa(pb)}function qa(pb){this._context=pb}function Fa(pb){this._context=pb}function na(pb){var Bb,Ub=pb.length-1,mc=Array(Ub),Bc=Array(Ub),Cc=Array(Ub);mc[0]=0;Bc[0]=2;Cc[0]=pb[0]+2*pb[1];for(Bb=1;Bb<Ub-1;++Bb)mc[Bb]=1,Bc[Bb]=4,Cc[Bb]=4*pb[Bb]+2*pb[Bb+
1];mc[Ub-1]=2;Bc[Ub-1]=7;Cc[Ub-1]=8*pb[Ub-1]+pb[Ub];for(Bb=1;Bb<Ub;++Bb){var Xc=mc[Bb]/Bc[Bb-1];Bc[Bb]-=Xc;Cc[Bb]-=Xc*Cc[Bb-1]}mc[Ub-1]=Cc[Ub-1]/Bc[Ub-1];for(Bb=Ub-2;0<=Bb;--Bb)mc[Bb]=(Cc[Bb]-mc[Bb+1])/Bc[Bb];Bc[Ub-1]=(pb[Ub]+mc[Ub-1])/2;for(Bb=0;Bb<Ub-1;++Bb)Bc[Bb]=2*pb[Bb+1]-mc[Bb+1];return[mc,Bc]}function Ra(pb,Bb){this._context=pb;this._t=Bb}function db(pb,Bb){if(1<(Xc=pb.length))for(var Ub=1,mc,Bc,Cc=pb[Bb[0]],Xc,Qb=Cc.length;Ub<Xc;++Ub)for(Bc=Cc,Cc=pb[Bb[Ub]],mc=0;mc<Qb;++mc)Cc[mc][1]+=Cc[mc][0]=
isNaN(Bc[mc][1])?Bc[mc][0]:Bc[mc][1]}function $a(pb){pb=pb.length;for(var Bb=Array(pb);0<=--pb;)Bb[pb]=pb;return Bb}function Ca(pb,Bb){return pb[Bb]}function Ga(pb){const Bb=[];Bb.key=pb;return Bb}function pa(pb){var Bb=pb.map(Ha);return $a(pb).sort(function(Ub,mc){return Bb[Ub]-Bb[mc]})}function Ha(pb){for(var Bb=-1,Ub=0,mc=pb.length,Bc,Cc=-Infinity;++Bb<mc;)(Bc=+pb[Bb][1])>Cc&&(Cc=Bc,Ub=Bb);return Ub}function Ua(pb){var Bb=pb.map(jb);return $a(pb).sort(function(Ub,mc){return Bb[Ub]-Bb[mc]})}function jb(pb){for(var Bb=
0,Ub=-1,mc=pb.length,Bc;++Ub<mc;)if(Bc=+pb[Ub][1])Bb+=Bc;return Bb}var Fb=Math.abs,Xb=Math.atan2,nc=Math.cos,md=Math.max,pc=Math.min,Hc=Math.sin,mb=Math.sqrt,hc=Math.PI,jc=hc/2,rc=2*hc,Pc=Array.prototype.slice;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(pb,Bb):this._context.moveTo(pb,Bb);break;case 1:this._point=2;default:this._context.lineTo(pb,Bb)}}};var sc=F(a);M.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(pb,Bb){this._curve.point(Bb*Math.sin(pb),Bb*-Math.cos(pb))}};var Uc={draw:function(pb,Bb){Bb=Math.sqrt(Bb/hc);pb.moveTo(Bb,0);pb.arc(0,0,Bb,0,rc)}},Sc=
{draw:function(pb,Bb){Bb=Math.sqrt(Bb/5)/2;pb.moveTo(-3*Bb,-Bb);pb.lineTo(-Bb,-Bb);pb.lineTo(-Bb,-3*Bb);pb.lineTo(Bb,-3*Bb);pb.lineTo(Bb,-Bb);pb.lineTo(3*Bb,-Bb);pb.lineTo(3*Bb,Bb);pb.lineTo(Bb,Bb);pb.lineTo(Bb,3*Bb);pb.lineTo(-Bb,3*Bb);pb.lineTo(-Bb,Bb);pb.lineTo(-3*Bb,Bb);pb.closePath()}},Lc=Math.sqrt(1/3),Fd=2*Lc,ge={draw:function(pb,Bb){Bb=Math.sqrt(Bb/Fd);var Ub=Bb*Lc;pb.moveTo(0,-Bb);pb.lineTo(Ub,0);pb.lineTo(0,Bb);pb.lineTo(-Ub,0);pb.closePath()}},wd=Math.sin(hc/10)/Math.sin(7*hc/10),vd=Math.sin(rc/
10)*wd,Wd=-Math.cos(rc/10)*wd;wd={draw:function(pb,Bb){Bb=Math.sqrt(.8908130915292852*Bb);var Ub=vd*Bb,mc=Wd*Bb;pb.moveTo(0,-Bb);pb.lineTo(Ub,mc);for(var Bc=1;5>Bc;++Bc){var Cc=rc*Bc/5,Xc=Math.cos(Cc);Cc=Math.sin(Cc);pb.lineTo(Cc*Bb,-Xc*Bb);pb.lineTo(Xc*Ub-Cc*mc,Cc*Ub+Xc*mc)}pb.closePath()}};var Pb={draw:function(pb,Bb){Bb=Math.sqrt(Bb);var Ub=-Bb/2;pb.rect(Ub,Ub,Bb,Bb)}},gc=Math.sqrt(3),Eb={draw:function(pb,Bb){Bb=-Math.sqrt(Bb/(3*gc));pb.moveTo(0,2*Bb);pb.lineTo(-gc*Bb,-Bb);pb.lineTo(gc*Bb,-Bb);
pb.closePath()}},zc=Math.sqrt(3)/2,Vc=1/Math.sqrt(12),Ed=3*(Vc/2+1),Vd={draw:function(pb,Bb){var Ub=Math.sqrt(Bb/Ed);Bb=Ub/2;var mc=Ub*Vc;Ub=Ub*Vc+Ub;var Bc=-Bb;pb.moveTo(Bb,mc);pb.lineTo(Bb,Ub);pb.lineTo(Bc,Ub);pb.lineTo(-.5*Bb-zc*mc,zc*Bb+-.5*mc);pb.lineTo(-.5*Bb-zc*Ub,zc*Bb+-.5*Ub);pb.lineTo(-.5*Bc-zc*Ub,zc*Bc+-.5*Ub);pb.lineTo(-.5*Bb+zc*mc,-.5*mc-zc*Bb);pb.lineTo(-.5*Bb+zc*Ub,-.5*Ub-zc*Bb);pb.lineTo(-.5*Bc+zc*Ub,-.5*Ub-zc*Bc);pb.closePath()}},Ka=[Uc,Sc,ge,Pb,wd,Eb,Vd];V.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pb,Bb):this._context.moveTo(pb,Bb);break;case 1:this._point=2;
break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};ia.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._x2=pb;this._y2=Bb;break;case 1:this._point=2;this._x3=pb;this._y3=Bb;break;case 2:this._point=3;this._x4=pb;this._y4=Bb;this._context.moveTo((this._x0+4*this._x1+pb)/6,(this._y0+
4*this._y1+Bb)/6);break;default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=
3;var Ub=(this._x0+4*this._x1+pb)/6,mc=(this._y0+4*this._y1+Bb)/6;this._line?this._context.lineTo(Ub,mc):this._context.moveTo(Ub,mc);break;case 3:this._point=4;default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};ya.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var pb=this._x,Bb=this._y,Ub=pb.length-1;if(0<Ub)for(var mc=pb[0],Bc=Bb[0],Cc=pb[Ub]-mc,Xc=Bb[Ub]-Bc,Qb=-1,Ic;++Qb<=Ub;)Ic=Qb/Ub,this._basis.point(this._beta*
pb[Qb]+(1-this._beta)*(mc+Ic*Cc),this._beta*Bb[Qb]+(1-this._beta)*(Bc+Ic*Xc));this._x=this._y=null;this._basis.lineEnd()},point:function(pb,Bb){this._x.push(+pb);this._y.push(+Bb)}};var eb=function Ub(Bb){function mc(Bc){return 1===Bb?new V(Bc):new ya(Bc,Bb)}mc.beta=function(Bc){return Ub(+Bc)};return mc}(.85);Ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:va(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bb,Ub){Bb=+Bb;Ub=+Ub;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bb,Ub):this._context.moveTo(Bb,Ub);break;case 1:this._point=2;this._x1=Bb;this._y1=Ub;break;case 2:this._point=3;default:va(this,Bb,Ub)}this._x0=this._x1;this._x1=this._x2;this._x2=Bb;this._y0=this._y1;this._y1=this._y2;this._y2=Ub}};var wb=function mc(Ub){function Bc(Cc){return new Ia(Cc,
Ub)}Bc.tension=function(Cc){return mc(+Cc)};return Bc}(0);bb.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Ub,mc){Ub=+Ub;mc=+mc;switch(this._point){case 0:this._point=1;this._x3=Ub;this._y3=mc;break;case 1:this._point=2;this._context.moveTo(this._x4=Ub,this._y4=mc);break;case 2:this._point=3;this._x5=Ub;this._y5=mc;break;default:va(this,Ub,mc)}this._x0=this._x1;this._x1=this._x2;this._x2=Ub;this._y0=this._y1;this._y1=this._y2;this._y2=mc}};var Hb=function Bc(mc){function Cc(Xc){return new bb(Xc,mc)}Cc.tension=function(Xc){return Bc(+Xc)};return Cc}(0);kb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(mc,Bc){mc=+mc;Bc=+Bc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:va(this,mc,Bc)}this._x0=this._x1;this._x1=this._x2;this._x2=mc;this._y0=this._y1;this._y1=this._y2;this._y2=Bc}};var ac=function Cc(Bc){function Xc(Qb){return new kb(Qb,Bc)}Xc.tension=function(Qb){return Cc(+Qb)};return Xc}(0);Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bc,Cc){Bc=+Bc;Cc=+Cc;if(this._point){var Xc=this._x2-Bc,Qb=this._y2-Cc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Xc*Xc+Qb*Qb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bc,Cc):this._context.moveTo(Bc,Cc);break;case 1:this._point=
2;break;case 2:this._point=3;default:ua(this,Bc,Cc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Bc;this._y0=this._y1;this._y1=this._y2;this._y2=Cc}};var Lb=function Xc(Cc){function Qb(Ic){return Cc?new Ta(Ic,Cc):new Ia(Ic,0)}Qb.alpha=function(Ic){return Xc(+Ic)};return Qb}(.5);Ya.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Cc,Xc){Cc=+Cc;Xc=+Xc;if(this._point){var Qb=this._x2-Cc,Ic=this._y2-
Xc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Qb*Qb+Ic*Ic,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Cc;this._y3=Xc;break;case 1:this._point=2;this._context.moveTo(this._x4=Cc,this._y4=Xc);break;case 2:this._point=3;this._x5=Cc;this._y5=Xc;break;default:ua(this,Cc,Xc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Cc;this._y0=this._y1;this._y1=this._y2;this._y2=Xc}};var Ac=function Qb(Xc){function Ic(Dc){return Xc?
new Ya(Dc,Xc):new bb(Dc,0)}Ic.alpha=function(Dc){return Qb(+Dc)};return Ic}(.5);Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Xc,Qb){Xc=+Xc;Qb=+Qb;if(this._point){var Ic=
this._x2-Xc,Dc=this._y2-Qb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ic*Ic+Dc*Dc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ua(this,Xc,Qb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Xc;this._y0=this._y1;this._y1=
this._y2;this._y2=Qb}};var tc=function Ic(Qb){function Dc(uc){return Qb?new Da(uc,Qb):new kb(uc,0)}Dc.alpha=function(uc){return Ic(+uc)};return Dc}(.5);ta.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Qb,Ic){Qb=+Qb;Ic=+Ic;this._point?this._context.lineTo(Qb,Ic):(this._point=1,this._context.moveTo(Qb,Ic))}};ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ba(this,this._t0,W(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Qb,Ic){var Dc=NaN;Qb=+Qb;Ic=+Ic;if(Qb!==this._x1||Ic!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Qb,Ic):this._context.moveTo(Qb,Ic);break;case 1:this._point=2;
break;case 2:this._point=3;ba(this,W(this,Dc=U(this,Qb,Ic)),Dc);break;default:ba(this,this._t0,Dc=U(this,Qb,Ic))}this._x0=this._x1;this._x1=Qb;this._y0=this._y1;this._y1=Ic;this._t0=Dc}}};(ra.prototype=Object.create(ca.prototype)).point=function(Qb,Ic){ca.prototype.point.call(this,Ic,Qb)};qa.prototype={moveTo:function(Qb,Ic){this._context.moveTo(Ic,Qb)},closePath:function(){this._context.closePath()},lineTo:function(Qb,Ic){this._context.lineTo(Ic,Qb)},bezierCurveTo:function(Qb,Ic,Dc,uc,Tc,ad){this._context.bezierCurveTo(Ic,
Qb,uc,Dc,ad,Tc)}};Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Qb=this._x,Ic=this._y,Dc=Qb.length;if(Dc)if(this._line?this._context.lineTo(Qb[0],Ic[0]):this._context.moveTo(Qb[0],Ic[0]),2===Dc)this._context.lineTo(Qb[1],Ic[1]);else for(var uc=na(Qb),Tc=na(Ic),ad=0,ld=1;ld<Dc;++ad,++ld)this._context.bezierCurveTo(uc[0][ad],Tc[0][ad],uc[1][ad],Tc[1][ad],Qb[ld],Ic[ld]);(this._line||0!==this._line&&
1===Dc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Qb,Ic){this._x.push(+Qb);this._y.push(+Ic)}};Ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Qb,Ic){Qb=+Qb;Ic=+Ic;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Qb,Ic):this._context.moveTo(Qb,Ic);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Ic),this._context.lineTo(Qb,Ic);else{var Dc=this._x*(1-this._t)+Qb*this._t;this._context.lineTo(Dc,this._y);this._context.lineTo(Dc,Ic)}}this._x=Qb;this._y=Ic}};k.arc=function(){function Qb(){var Ud,ae=+Ic.apply(this,arguments),oe=+Dc.apply(this,arguments),De=ad.apply(this,arguments)-
jc,fe=ld.apply(this,arguments)-jc,ef=Fb(fe-De),Ze=fe>De;Dd||(Dd=Ud=l.path());if(oe<ae){var df=oe;oe=ae;ae=df}if(1E-12<oe)if(ef>rc-1E-12)Dd.moveTo(oe*nc(De),oe*Hc(De)),Dd.arc(0,0,oe,De,fe,!Ze),1E-12<ae&&(Dd.moveTo(ae*nc(fe),ae*Hc(fe)),Dd.arc(0,0,ae,fe,De,Ze));else{var Zd=De,he=fe;df=De;var zf=fe,Ue=ef,Nf=ef,me=Cd.apply(this,arguments)/2,te=1E-12<me&&(Tc?+Tc.apply(this,arguments):mb(ae*ae+oe*oe)),kf=pc(Fb(oe-ae)/2,+uc.apply(this,arguments)),we=kf,Od=kf;if(1E-12<te){var Xd=H(te/ae*Hc(me));me=H(te/oe*
Hc(me));1E-12<(Ue-=2*Xd)?(Xd*=Ze?1:-1,df+=Xd,zf-=Xd):(Ue=0,df=zf=(De+fe)/2);1E-12<(Nf-=2*me)?(me*=Ze?1:-1,Zd+=me,he-=me):(Nf=0,Zd=he=(De+fe)/2)}De=oe*nc(Zd);fe=oe*Hc(Zd);Xd=ae*nc(zf);me=ae*Hc(zf);if(1E-12<kf){var Be=oe*nc(he),jf=oe*Hc(he),Ge=ae*nc(df),Td=ae*Hc(df);if(ef=ef<hc){var Ye=Ge-De;ef=Td-fe;te=Xd-Be;var Xf=me-jf,Gc=Xf*Ye-te*ef;1E-12>Gc*Gc?Ye=void 0:(Gc=(te*(fe-jf)-Xf*(De-Be))/Gc,Ye=[De+Gc*Ye,fe+Gc*ef]);ef=Ye}ef&&(we=De-Ye[0],Od=fe-Ye[1],ef=Be-Ye[0],te=jf-Ye[1],we=(we*ef+Od*te)/(mb(we*we+Od*
Od)*mb(ef*ef+te*te)),Od=1/Hc((1<we?0:-1>we?hc:Math.acos(we))/2),Ye=mb(Ye[0]*Ye[0]+Ye[1]*Ye[1]),we=pc(kf,(ae-Ye)/(Od-1)),Od=pc(kf,(oe-Ye)/(Od+1)))}1E-12<Nf?1E-12<Od?(Zd=g(Ge,Td,De,fe,oe,Od,Ze),he=g(Be,jf,Xd,me,oe,Od,Ze),Dd.moveTo(Zd.cx+Zd.x01,Zd.cy+Zd.y01),Od<kf?Dd.arc(Zd.cx,Zd.cy,Od,Xb(Zd.y01,Zd.x01),Xb(he.y01,he.x01),!Ze):(Dd.arc(Zd.cx,Zd.cy,Od,Xb(Zd.y01,Zd.x01),Xb(Zd.y11,Zd.x11),!Ze),Dd.arc(0,0,oe,Xb(Zd.cy+Zd.y11,Zd.cx+Zd.x11),Xb(he.cy+he.y11,he.cx+he.x11),!Ze),Dd.arc(he.cx,he.cy,Od,Xb(he.y11,he.x11),
Xb(he.y01,he.x01),!Ze))):(Dd.moveTo(De,fe),Dd.arc(0,0,oe,Zd,he,!Ze)):Dd.moveTo(De,fe);1E-12<ae&&1E-12<Ue?1E-12<we?(Zd=g(Xd,me,Be,jf,ae,-we,Ze),he=g(De,fe,Ge,Td,ae,-we,Ze),Dd.lineTo(Zd.cx+Zd.x01,Zd.cy+Zd.y01),we<kf?Dd.arc(Zd.cx,Zd.cy,we,Xb(Zd.y01,Zd.x01),Xb(he.y01,he.x01),!Ze):(Dd.arc(Zd.cx,Zd.cy,we,Xb(Zd.y01,Zd.x01),Xb(Zd.y11,Zd.x11),!Ze),Dd.arc(0,0,ae,Xb(Zd.cy+Zd.y11,Zd.cx+Zd.x11),Xb(he.cy+he.y11,he.cx+he.x11),Ze),Dd.arc(he.cx,he.cy,we,Xb(he.y11,he.x11),Xb(he.y01,he.x01),!Ze))):Dd.arc(0,0,ae,zf,
df,Ze):Dd.lineTo(Xd,me)}else Dd.moveTo(0,0);Dd.closePath();if(Ud)return Dd=null,Ud+""||null}var Ic=N,Dc=x,uc=w(0),Tc=null,ad=v,ld=u,Cd=m,Dd=null;Qb.centroid=function(){var Ud=(+Ic.apply(this,arguments)+ +Dc.apply(this,arguments))/2,ae=(+ad.apply(this,arguments)+ +ld.apply(this,arguments))/2-hc/2;return[nc(ae)*Ud,Hc(ae)*Ud]};Qb.innerRadius=function(Ud){return arguments.length?(Ic="function"===typeof Ud?Ud:w(+Ud),Qb):Ic};Qb.outerRadius=function(Ud){return arguments.length?(Dc="function"===typeof Ud?
Ud:w(+Ud),Qb):Dc};Qb.cornerRadius=function(Ud){return arguments.length?(uc="function"===typeof Ud?Ud:w(+Ud),Qb):uc};Qb.padRadius=function(Ud){return arguments.length?(Tc=null==Ud?null:"function"===typeof Ud?Ud:w(+Ud),Qb):Tc};Qb.startAngle=function(Ud){return arguments.length?(ad="function"===typeof Ud?Ud:w(+Ud),Qb):ad};Qb.endAngle=function(Ud){return arguments.length?(ld="function"===typeof Ud?Ud:w(+Ud),Qb):ld};Qb.padAngle=function(Ud){return arguments.length?(Cd="function"===typeof Ud?Ud:w(+Ud),
Qb):Cd};Qb.context=function(Ud){return arguments.length?(Dd=null==Ud?null:Ud,Qb):Dd};return Qb};k.area=B;k.areaRadial=K;k.curveBasis=function(Qb){return new V(Qb)};k.curveBasisClosed=function(Qb){return new ia(Qb)};k.curveBasisOpen=function(Qb){return new aa(Qb)};k.curveBundle=eb;k.curveCardinal=wb;k.curveCardinalClosed=Hb;k.curveCardinalOpen=ac;k.curveCatmullRom=Lb;k.curveCatmullRomClosed=Ac;k.curveCatmullRomOpen=tc;k.curveLinear=a;k.curveLinearClosed=function(Qb){return new ta(Qb)};k.curveMonotoneX=
function(Qb){return new ca(Qb)};k.curveMonotoneY=function(Qb){return new ra(Qb)};k.curveNatural=function(Qb){return new Fa(Qb)};k.curveStep=function(Qb){return new Ra(Qb,.5)};k.curveStepAfter=function(Qb){return new Ra(Qb,1)};k.curveStepBefore=function(Qb){return new Ra(Qb,0)};k.line=y;k.lineRadial=G;k.linkHorizontal=function(){return fa(ha)};k.linkRadial=function(){var Qb=fa(Z);Qb.angle=Qb.x;delete Qb.x;Qb.radius=Qb.y;delete Qb.y;return Qb};k.linkVertical=function(){return fa(la)};k.pie=function(){function Qb(Cd){var Dd,
Ud=(Cd=d(Cd)).length;var ae=0;var oe=Array(Ud),De=Array(Ud),fe=+Tc.apply(this,arguments);var ef=Math.min(rc,Math.max(-rc,ad.apply(this,arguments)-fe));var Ze=Math.min(Math.abs(ef)/Ud,ld.apply(this,arguments)),df=Ze*(0>ef?-1:1),Zd;for(Dd=0;Dd<Ud;++Dd)0<(Zd=De[oe[Dd]=Dd]=+Ic(Cd[Dd],Dd,Cd))&&(ae+=Zd);null!=Dc?oe.sort(function(zf,Ue){return Dc(De[zf],De[Ue])}):null!=uc&&oe.sort(function(zf,Ue){return uc(Cd[zf],Cd[Ue])});Dd=0;for(ef=ae?(ef-Ud*df)/ae:0;Dd<Ud;++Dd,fe=he){ae=oe[Dd];Zd=De[ae];var he=fe+(0<
Zd?Zd*ef:0)+df;De[ae]={data:Cd[ae],index:Dd,value:Zd,startAngle:fe,endAngle:he,padAngle:Ze}}return De}var Ic=O,Dc=D,uc=null,Tc=w(0),ad=w(rc),ld=w(0);Qb.value=function(Cd){return arguments.length?(Ic="function"===typeof Cd?Cd:w(+Cd),Qb):Ic};Qb.sortValues=function(Cd){return arguments.length?(Dc=Cd,uc=null,Qb):Dc};Qb.sort=function(Cd){return arguments.length?(uc=Cd,Dc=null,Qb):uc};Qb.startAngle=function(Cd){return arguments.length?(Tc="function"===typeof Cd?Cd:w(+Cd),Qb):Tc};Qb.endAngle=function(Cd){return arguments.length?
(ad="function"===typeof Cd?Cd:w(+Cd),Qb):ad};Qb.padAngle=function(Cd){return arguments.length?(ld="function"===typeof Cd?Cd:w(+Cd),Qb):ld};return Qb};k.pointRadial=R;k.radialArea=K;k.radialLine=G;k.stack=function(){function Qb(ad){var ld=Array.from(Ic.apply(this,arguments),Ga),Cd=ld.length,Dd=-1;for(const ae of ad){var Ud=0;for(++Dd;Ud<Cd;++Ud)(ld[Ud][Dd]=[0,+Tc(ae,ld[Ud].key,Dd,ad)]).data=ae}Ud=0;for(Dd=d(Dc(ld));Ud<Cd;++Ud)ld[Dd[Ud]].index=Ud;uc(ld,Dd);return ld}var Ic=w([]),Dc=$a,uc=db,Tc=Ca;Qb.keys=
function(ad){return arguments.length?(Ic="function"===typeof ad?ad:w(Array.from(ad)),Qb):Ic};Qb.value=function(ad){return arguments.length?(Tc="function"===typeof ad?ad:w(+ad),Qb):Tc};Qb.order=function(ad){return arguments.length?(Dc=null==ad?$a:"function"===typeof ad?ad:w(Array.from(ad)),Qb):Dc};Qb.offset=function(ad){return arguments.length?(uc=null==ad?db:ad,Qb):uc};return Qb};k.stackOffsetDiverging=function(Qb,Ic){if(0<(Dd=Qb.length))for(var Dc,uc=0,Tc,ad,ld,Cd,Dd,Ud=Qb[Ic[0]].length;uc<Ud;++uc)for(Dc=
ld=Cd=0;Dc<Dd;++Dc)0<(ad=(Tc=Qb[Ic[Dc]][uc])[1]-Tc[0])?(Tc[0]=ld,Tc[1]=ld+=ad):0>ad?(Tc[1]=Cd,Tc[0]=Cd+=ad):(Tc[0]=0,Tc[1]=ad)};k.stackOffsetExpand=function(Qb,Ic){if(0<(uc=Qb.length)){for(var Dc,uc,Tc=0,ad=Qb[0].length,ld;Tc<ad;++Tc){for(ld=Dc=0;Dc<uc;++Dc)ld+=Qb[Dc][Tc][1]||0;if(ld)for(Dc=0;Dc<uc;++Dc)Qb[Dc][Tc][1]/=ld}db(Qb,Ic)}};k.stackOffsetNone=db;k.stackOffsetSilhouette=function(Qb,Ic){if(0<(Tc=Qb.length)){for(var Dc=0,uc=Qb[Ic[0]],Tc,ad=uc.length;Dc<ad;++Dc){for(var ld=0,Cd=0;ld<Tc;++ld)Cd+=
Qb[ld][Dc][1]||0;uc[Dc][1]+=uc[Dc][0]=-Cd/2}db(Qb,Ic)}};k.stackOffsetWiggle=function(Qb,Ic){if(0<(ld=Qb.length)&&0<(ad=(Tc=Qb[Ic[0]]).length)){for(var Dc=0,uc=1,Tc,ad,ld;uc<ad;++uc){for(var Cd=0,Dd=0,Ud=0;Cd<ld;++Cd){var ae=Qb[Ic[Cd]],oe=ae[uc][1]||0;ae=(oe-(ae[uc-1][1]||0))/2;for(var De=0;De<Cd;++De){var fe=Qb[Ic[De]];ae+=(fe[uc][1]||0)-(fe[uc-1][1]||0)}Dd+=oe;Ud+=ae*oe}Tc[uc-1][1]+=Tc[uc-1][0]=Dc;Dd&&(Dc-=Ud/Dd)}Tc[uc-1][1]+=Tc[uc-1][0]=Dc;db(Qb,Ic)}};k.stackOrderAppearance=pa;k.stackOrderAscending=
Ua;k.stackOrderDescending=function(Qb){return Ua(Qb).reverse()};k.stackOrderInsideOut=function(Qb){var Ic=Qb.length,Dc=Qb.map(jb),uc=pa(Qb),Tc=0,ad=0,ld=[],Cd=[];for(Qb=0;Qb<Ic;++Qb){var Dd=uc[Qb];Tc<ad?(Tc+=Dc[Dd],ld.push(Dd)):(ad+=Dc[Dd],Cd.push(Dd))}return Cd.reverse().concat(ld)};k.stackOrderNone=$a;k.stackOrderReverse=function(Qb){return $a(Qb).reverse()};k.symbol=function(Qb,Ic){function Dc(){var Tc;uc||(uc=Tc=l.path());Qb.apply(this,arguments).draw(uc,+Ic.apply(this,arguments));if(Tc)return uc=
null,Tc+""||null}var uc=null;Qb="function"===typeof Qb?Qb:w(Qb||Uc);Ic="function"===typeof Ic?Ic:w(void 0===Ic?64:+Ic);Dc.type=function(Tc){return arguments.length?(Qb="function"===typeof Tc?Tc:w(Tc),Dc):Qb};Dc.size=function(Tc){return arguments.length?(Ic="function"===typeof Tc?Tc:w(+Tc),Dc):Ic};Dc.context=function(Tc){return arguments.length?(uc=null==Tc?null:Tc,Dc):uc};return Dc};k.symbolCircle=Uc;k.symbolCross=Sc;k.symbolDiamond=ge;k.symbolSquare=Pb;k.symbolStar=wd;k.symbolTriangle=Eb;k.symbolWye=
Vd;k.symbols=Ka;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ja,A,rb,E){!function(k,l){"object"==typeof E&&"undefined"!=typeof rb?l(E):"function"==typeof define&&define.amd?define(["exports"],l):l((k="undefined"!=typeof globalThis?globalThis:k||self).vega={})}(this,function(k){function l(w,H){if("undefined"!=typeof document&&document.createElement){const N=document.createElement("canvas");if(N&&N.getContext)return N.width=w,N.height=H,N}return null}k.canvas=l;k.domCanvas=l;k.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[32]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(ca,ra,qa){ca.prototype=ra.prototype=qa;qa.constructor=ca}function w(ca,ra){ca=Object.create(ca.prototype);for(var qa in ra)ca[qa]=ra[qa];return ca}function H(){}function N(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function v(ca){var ra,qa;ca=(ca+
"").trim().toLowerCase();return(ra=ia.exec(ca))?(qa=ra[1].length,ra=parseInt(ra[1],16),6===qa?u(ra):3===qa?new f(ra>>8&15|ra>>4&240,ra>>4&15|ra&240,(ra&15)<<4|ra&15,1):8===qa?m(ra>>24&255,ra>>16&255,ra>>8&255,(ra&255)/255):4===qa?m(ra>>12&15|ra>>8&240,ra>>8&15|ra>>4&240,ra>>4&15|ra&240,((ra&15)<<4|ra&15)/255):null):(ra=aa.exec(ca))?new f(ra[1],ra[2],ra[3],1):(ra=ya.exec(ca))?new f(255*ra[1]/100,255*ra[2]/100,255*ra[3]/100,1):(ra=va.exec(ca))?m(ra[1],ra[2],ra[3],ra[4]):(ra=Ia.exec(ca))?m(255*ra[1]/
100,255*ra[2]/100,255*ra[3]/100,ra[4]):(ra=bb.exec(ca))?y(ra[1],ra[2]/100,ra[3]/100,1):(ra=kb.exec(ca))?y(ra[1],ra[2]/100,ra[3]/100,ra[4]):ua.hasOwnProperty(ca)?u(ua[ca]):"transparent"===ca?new f(NaN,NaN,NaN,0):null}function u(ca){return new f(ca>>16&255,ca>>8&255,ca&255,1)}function m(ca,ra,qa,Fa){0>=Fa&&(ca=ra=qa=NaN);return new f(ca,ra,qa,Fa)}function g(ca){ca instanceof H||(ca=v(ca));if(!ca)return new f;ca=ca.rgb();return new f(ca.r,ca.g,ca.b,ca.opacity)}function d(ca,ra,qa,Fa){return 1===arguments.length?
g(ca):new f(ca,ra,qa,null==Fa?1:Fa)}function f(ca,ra,qa,Fa){this.r=+ca;this.g=+ra;this.b=+qa;this.opacity=+Fa}function a(){return"#"+n(this.r)+n(this.g)+n(this.b)}function e(){var ca=this.opacity;ca=isNaN(ca)?1:Math.max(0,Math.min(1,ca));return(1===ca?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===ca?")":", "+ca+")")}function n(ca){ca=Math.max(0,Math.min(255,Math.round(ca)||
0));return(16>ca?"0":"")+ca.toString(16)}function y(ca,ra,qa,Fa){0>=Fa?ca=ra=qa=NaN:0>=qa||1<=qa?ca=ra=NaN:0>=ra&&(ca=NaN);return new O(ca,ra,qa,Fa)}function B(ca){if(ca instanceof O)return new O(ca.h,ca.s,ca.l,ca.opacity);ca instanceof H||(ca=v(ca));if(!ca)return new O;if(ca instanceof O)return ca;ca=ca.rgb();var ra=ca.r/255,qa=ca.g/255,Fa=ca.b/255,na=Math.min(ra,qa,Fa),Ra=Math.max(ra,qa,Fa),db=NaN,$a=Ra-na,Ca=(Ra+na)/2;$a?(db=ra===Ra?(qa-Fa)/$a+6*(qa<Fa):qa===Ra?(Fa-ra)/$a+2:(ra-qa)/$a+4,$a/=.5>
Ca?Ra+na:2-Ra-na,db*=60):$a=0<Ca&&1>Ca?0:db;return new O(db,$a,Ca,ca.opacity)}function D(ca,ra,qa,Fa){return 1===arguments.length?B(ca):new O(ca,ra,qa,null==Fa?1:Fa)}function O(ca,ra,qa,Fa){this.h=+ca;this.s=+ra;this.l=+qa;this.opacity=+Fa}function M(ca,ra,qa){return 255*(60>ca?ra+(qa-ra)*ca/60:180>ca?qa:240>ca?ra+(qa-ra)*(240-ca)/60:ra)}function F(ca){if(ca instanceof G)return new G(ca.l,ca.a,ca.b,ca.opacity);if(ca instanceof la)return Z(ca);ca instanceof f||(ca=g(ca));var ra=ja(ca.r),qa=ja(ca.g),
Fa=ja(ca.b),na=K(.2225045*ra+.7168786*qa+.0606169*Fa);if(ra===qa&&qa===Fa)var Ra=ra=na;else Ra=K((.4360747*ra+.3850649*qa+.1430804*Fa)/.96422),ra=K((.0139322*ra+.0971045*qa+.7141733*Fa)/.82521);return new G(116*na-16,500*(Ra-na),200*(na-ra),ca.opacity)}function z(ca,ra,qa,Fa){return 1===arguments.length?F(ca):new G(ca,ra,qa,null==Fa?1:Fa)}function G(ca,ra,qa,Fa){this.l=+ca;this.a=+ra;this.b=+qa;this.opacity=+Fa}function K(ca){return ca>W?Math.pow(ca,1/3):ca/U+Da}function R(ca){return ca>ta?ca*ca*
ca:U*(ca-Da)}function T(ca){return 255*(.0031308>=ca?12.92*ca:1.055*Math.pow(ca,1/2.4)-.055)}function ja(ca){return.04045>=(ca/=255)?ca/12.92:Math.pow((ca+.055)/1.055,2.4)}function fa(ca){if(ca instanceof la)return new la(ca.h,ca.c,ca.l,ca.opacity);ca instanceof G||(ca=F(ca));if(0===ca.a&&0===ca.b)return new la(NaN,0<ca.l&&100>ca.l?0:NaN,ca.l,ca.opacity);var ra=Math.atan2(ca.b,ca.a)*Ya;return new la(0>ra?ra+360:ra,Math.sqrt(ca.a*ca.a+ca.b*ca.b),ca.l,ca.opacity)}function ha(ca,ra,qa,Fa){return 1===
arguments.length?fa(ca):new la(ca,ra,qa,null==Fa?1:Fa)}function la(ca,ra,qa,Fa){this.h=+ca;this.c=+ra;this.l=+qa;this.opacity=+Fa}function Z(ca){if(isNaN(ca.h))return new G(ca.l,0,0,ca.opacity);var ra=ca.h*Ta;return new G(ca.l,Math.cos(ra)*ca.c,Math.sin(ra)*ca.c,ca.opacity)}function P(ca,ra,qa,Fa){if(1===arguments.length){var na=ca;if(na instanceof C)na=new C(na.h,na.s,na.l,na.opacity);else{na instanceof f||(na=g(na));var Ra=na.g/255,db=na.b/255,$a=(ba*db+na.r/255*-1.7884503806-3.5172982438*Ra)/(ba+
-1.7884503806-3.5172982438);db-=$a;var Ca=(1.97294*(Ra-$a)- -.29227*db)/-.90649;db=(Ra=Math.sqrt(Ca*Ca+db*db)/(1.97294*$a*(1-$a)))?Math.atan2(Ca,db)*Ya-120:NaN;na=new C(0>db?db+360:db,Ra,$a,na.opacity)}}else na=new C(ca,ra,qa,null==Fa?1:Fa);return na}function C(ca,ra,qa,Fa){this.h=+ca;this.s=+ra;this.l=+qa;this.opacity=+Fa}var V=1/.7,ia=/^#([0-9a-f]{3,8})$/,aa=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,ya=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
va=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ia=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,bb=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,kb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l(H,v,{copy:function(ca){return Object.assign(new this.constructor,this,ca)},displayable:function(){return this.rgb().displayable()},hex:N,formatHex:N,formatHsl:function(){return B(this).formatHsl()},formatRgb:x,toString:x});l(f,d,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new f(this.r*ca,this.g*ca,this.b*ca,this.opacity)},darker:function(ca){ca=null==ca?.7:
Math.pow(.7,ca);return new f(this.r*ca,this.g*ca,this.b*ca,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:a,formatHex:a,formatRgb:e,toString:e}));l(O,D,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new O(this.h,this.s,this.l*ca,this.opacity)},darker:function(ca){ca=null==ca?.7:Math.pow(.7,ca);return new O(this.h,this.s,this.l*ca,this.opacity)},
rgb:function(){var ca=this.h%360+360*(0>this.h),ra=isNaN(ca)||isNaN(this.s)?0:this.s,qa=this.l;ra=qa+(.5>qa?qa:1-qa)*ra;qa=2*qa-ra;return new f(M(240<=ca?ca-240:ca+120,qa,ra),M(ca,qa,ra),M(120>ca?ca+240:ca-120,qa,ra),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var ca=this.opacity;ca=isNaN(ca)?1:Math.max(0,Math.min(1,ca));return(1===ca?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+
"%, "+100*(this.l||0)+"%"+(1===ca?")":", "+ca+")")}}));const Ta=Math.PI/180,Ya=180/Math.PI,Da=4/29,ta=6/29,U=3*ta*ta,W=ta*ta*ta;l(G,z,w(H,{brighter:function(ca){return new G(this.l+18*(null==ca?1:ca),this.a,this.b,this.opacity)},darker:function(ca){return new G(this.l-18*(null==ca?1:ca),this.a,this.b,this.opacity)},rgb:function(){var ca=(this.l+16)/116,ra=isNaN(this.a)?ca:ca+this.a/500,qa=isNaN(this.b)?ca:ca-this.b/200;ra=.96422*R(ra);ca=1*R(ca);qa=.82521*R(qa);return new f(T(3.1338561*ra-1.6168667*
ca-.4906146*qa),T(-.9787684*ra+1.9161415*ca+.033454*qa),T(.0719453*ra-.2289914*ca+1.4052427*qa),this.opacity)}}));l(la,ha,w(H,{brighter:function(ca){return new la(this.h,this.c,this.l+18*(null==ca?1:ca),this.opacity)},darker:function(ca){return new la(this.h,this.c,this.l-18*(null==ca?1:ca),this.opacity)},rgb:function(){return Z(this).rgb()}}));var ba=1.78277*-.29227-.1347134789;l(C,P,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new C(this.h,this.s,this.l*ca,this.opacity)},darker:function(ca){ca=
null==ca?.7:Math.pow(.7,ca);return new C(this.h,this.s,this.l*ca,this.opacity)},rgb:function(){var ca=isNaN(this.h)?0:(this.h+120)*Ta,ra=+this.l,qa=isNaN(this.s)?0:this.s*ra*(1-ra),Fa=Math.cos(ca);ca=Math.sin(ca);return new f(255*(ra+qa*(-.14861*Fa+1.78277*ca)),255*(ra+qa*(-.29227*Fa+-.90649*ca)),255*(ra+1.97294*qa*Fa),this.opacity)}}));k.color=v;k.cubehelix=P;k.gray=function(ca,ra){return new G(ca,0,0,null==ra?1:ra)};k.hcl=ha;k.hsl=D;k.lab=z;k.lch=function(ca,ra,qa,Fa){return 1===arguments.length?
fa(ca):new la(qa,ra,ca,null==Fa?1:Fa)};k.rgb=d;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(32)):"function"===typeof define&&define.amd?define(["exports","d3-color"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(ta,U,W,ba,ca){var ra=ta*ta,qa=ra*ta;return((1-3*ta+3*ra-qa)*U+(4-6*ra+3*qa)*W+(1+3*ta+3*ra-3*qa)*ba+qa*ca)/6}function H(ta){var U=ta.length-1;return function(W){var ba=0>=W?W=0:1<=W?(W=1,U-1):Math.floor(W*U),ca=ta[ba],ra=ta[ba+1];return w((W-ba/U)*U,0<ba?
ta[ba-1]:2*ca-ra,ca,ra,ba<U-1?ta[ba+2]:2*ra-ca)}}function N(ta){var U=ta.length;return function(W){var ba=Math.floor((0>(W%=1)?++W:W)*U);return w((W-ba/U)*U,ta[(ba+U-1)%U],ta[ba%U],ta[(ba+1)%U],ta[(ba+2)%U])}}function x(ta,U){return function(W){return ta+W*U}}function v(ta,U,W){return ta=Math.pow(ta,W),U=Math.pow(U,W)-ta,W=1/W,function(ba){return Math.pow(ta+ba*U,W)}}function u(ta,U){var W=U-ta;return W?x(ta,180<W||-180>W?W-360*Math.round(W/360):W):fa(isNaN(ta)?U:ta)}function m(ta){return 1===(ta=
+ta)?g:function(U,W){return W-U?v(U,W,ta):fa(isNaN(U)?W:U)}}function g(ta,U){var W=U-ta;return W?x(ta,W):fa(isNaN(ta)?U:ta)}function d(ta){return function(U){var W=U.length,ba=Array(W),ca=Array(W),ra=Array(W),qa;for(qa=0;qa<W;++qa){var Fa=l.rgb(U[qa]);ba[qa]=Fa.r||0;ca[qa]=Fa.g||0;ra[qa]=Fa.b||0}ba=ta(ba);ca=ta(ca);ra=ta(ra);Fa.opacity=1;return function(na){Fa.r=ba(na);Fa.g=ca(na);Fa.b=ra(na);return Fa+""}}}function f(ta,U){U||(U=[]);var W=ta?Math.min(U.length,ta.length):0,ba=U.slice(),ca;return function(ra){for(ca=
0;ca<W;++ca)ba[ca]=ta[ca]*(1-ra)+U[ca]*ra;return ba}}function a(ta){return ArrayBuffer.isView(ta)&&!(ta instanceof DataView)}function e(ta,U){var W=U?U.length:0,ba=ta?Math.min(W,ta.length):0,ca=Array(ba),ra=Array(W),qa;for(qa=0;qa<ba;++qa)ca[qa]=F(ta[qa],U[qa]);for(;qa<W;++qa)ra[qa]=U[qa];return function(Fa){for(qa=0;qa<ba;++qa)ra[qa]=ca[qa](Fa);return ra}}function n(ta,U){var W=new Date;return ta=+ta,U=+U,function(ba){return W.setTime(ta*(1-ba)+U*ba),W}}function y(ta,U){return ta=+ta,U=+U,function(W){return ta*
(1-W)+U*W}}function B(ta,U){var W={},ba={},ca;if(null===ta||"object"!==typeof ta)ta={};if(null===U||"object"!==typeof U)U={};for(ca in U)ca in ta?W[ca]=F(ta[ca],U[ca]):ba[ca]=U[ca];return function(ra){for(ca in W)ba[ca]=W[ca](ra);return ba}}function D(ta){return function(){return ta}}function O(ta){return function(U){return ta(U)+""}}function M(ta,U){var W=P.lastIndex=C.lastIndex=0,ba,ca,ra,qa=-1,Fa=[],na=[];ta+="";for(U+="";(ba=P.exec(ta))&&(ca=C.exec(U));)(ra=ca.index)>W&&(ra=U.slice(W,ra),Fa[qa]?
Fa[qa]+=ra:Fa[++qa]=ra),(ba=ba[0])===(ca=ca[0])?Fa[qa]?Fa[qa]+=ca:Fa[++qa]=ca:(Fa[++qa]=null,na.push({i:qa,x:y(ba,ca)})),W=C.lastIndex;W<U.length&&(ra=U.slice(W),Fa[qa]?Fa[qa]+=ra:Fa[++qa]=ra);return 2>Fa.length?na[0]?O(na[0].x):D(U):(U=na.length,function(Ra){for(var db=0,$a;db<U;++db)Fa[($a=na[db]).i]=$a.x(Ra);return Fa.join("")})}function F(ta,U){var W=typeof U,ba;return null==U||"boolean"===W?fa(U):("number"===W?y:"string"===W?(ba=l.color(U))?(U=ba,ha):M:U instanceof l.color?ha:U instanceof Date?
n:a(U)?f:Array.isArray(U)?e:"function"!==typeof U.valueOf&&"function"!==typeof U.toString||isNaN(U)?B:y)(ta,U)}function z(ta,U,W,ba,ca,ra){var qa,Fa,na;if(qa=Math.sqrt(ta*ta+U*U))ta/=qa,U/=qa;if(na=ta*W+U*ba)W-=ta*na,ba-=U*na;if(Fa=Math.sqrt(W*W+ba*ba))W/=Fa,ba/=Fa,na/=Fa;ta*ba<U*W&&(ta=-ta,U=-U,na=-na,qa=-qa);return{translateX:ca,translateY:ra,rotate:Math.atan2(U,ta)*V,skewX:Math.atan(na)*V,scaleX:qa,scaleY:Fa}}function G(ta,U,W,ba){function ca(Ra){return Ra.length?Ra.pop()+" ":""}function ra(Ra,
db,$a,Ca,Ga,pa){Ra!==$a||db!==Ca?(Ga=Ga.push("translate(",null,U,null,W),pa.push({i:Ga-4,x:y(Ra,$a)},{i:Ga-2,x:y(db,Ca)})):($a||Ca)&&Ga.push("translate("+$a+U+Ca+W)}function qa(Ra,db,$a,Ca){Ra!==db?(180<Ra-db?db+=360:180<db-Ra&&(Ra+=360),Ca.push({i:$a.push(ca($a)+"rotate(",null,ba)-2,x:y(Ra,db)})):db&&$a.push(ca($a)+"rotate("+db+ba)}function Fa(Ra,db,$a,Ca){Ra!==db?Ca.push({i:$a.push(ca($a)+"skewX(",null,ba)-2,x:y(Ra,db)}):db&&$a.push(ca($a)+"skewX("+db+ba)}function na(Ra,db,$a,Ca,Ga,pa){Ra!==$a||
db!==Ca?(Ga=Ga.push(ca(Ga)+"scale(",null,",",null,")"),pa.push({i:Ga-4,x:y(Ra,$a)},{i:Ga-2,x:y(db,Ca)})):1===$a&&1===Ca||Ga.push(ca(Ga)+"scale("+$a+","+Ca+")")}return function(Ra,db){var $a=[],Ca=[];Ra=ta(Ra);db=ta(db);ra(Ra.translateX,Ra.translateY,db.translateX,db.translateY,$a,Ca);qa(Ra.rotate,db.rotate,$a,Ca);Fa(Ra.skewX,db.skewX,$a,Ca);na(Ra.scaleX,Ra.scaleY,db.scaleX,db.scaleY,$a,Ca);Ra=db=null;return function(Ga){for(var pa=-1,Ha=Ca.length,Ua;++pa<Ha;)$a[(Ua=Ca[pa]).i]=Ua.x(Ga);return $a.join("")}}}
function K(ta){return((ta=Math.exp(ta))+1/ta)/2}function R(ta){return function(U,W){var ba=ta((U=l.hsl(U)).h,(W=l.hsl(W)).h),ca=g(U.s,W.s),ra=g(U.l,W.l),qa=g(U.opacity,W.opacity);return function(Fa){U.h=ba(Fa);U.s=ca(Fa);U.l=ra(Fa);U.opacity=qa(Fa);return U+""}}}function T(ta){return function(U,W){var ba=ta((U=l.hcl(U)).h,(W=l.hcl(W)).h),ca=g(U.c,W.c),ra=g(U.l,W.l),qa=g(U.opacity,W.opacity);return function(Fa){U.h=ba(Fa);U.c=ca(Fa);U.l=ra(Fa);U.opacity=qa(Fa);return U+""}}}function ja(ta){return function ba(W){function ca(ra,
qa){var Fa=ta((ra=l.cubehelix(ra)).h,(qa=l.cubehelix(qa)).h),na=g(ra.s,qa.s),Ra=g(ra.l,qa.l),db=g(ra.opacity,qa.opacity);return function($a){ra.h=Fa($a);ra.s=na($a);ra.l=Ra(Math.pow($a,W));ra.opacity=db($a);return ra+""}}W=+W;ca.gamma=ba;return ca}(1)}var fa=ta=>()=>ta,ha=function W(U){function ba(ra,qa){var Fa=ca((ra=l.rgb(ra)).r,(qa=l.rgb(qa)).r),na=ca(ra.g,qa.g),Ra=ca(ra.b,qa.b),db=g(ra.opacity,qa.opacity);return function($a){ra.r=Fa($a);ra.g=na($a);ra.b=Ra($a);ra.opacity=db($a);return ra+""}}
var ca=m(U);ba.gamma=W;return ba}(1),la=d(H),Z=d(N),P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C=new RegExp(P.source,"g"),V=180/Math.PI,ia={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},aa,ya=G(function(U){U=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(U+"");return U.isIdentity?ia:z(U.a,U.b,U.c,U.d,U.e,U.f)},"px, ","px)","deg)"),va=G(function(U){if(null==U)return ia;aa||(aa=document.createElementNS("http://www.w3.org/2000/svg","g"));aa.setAttribute("transform",
U);if(!(U=aa.transform.baseVal.consolidate()))return ia;U=U.matrix;return z(U.a,U.b,U.c,U.d,U.e,U.f)},", ",")",")"),Ia=function ra(W,ba,ca){function qa(Fa,na){var Ra=Fa[0],db=Fa[1],$a=Fa[2];Fa=na[2];var Ca=na[0]-Ra,Ga=na[1]-db,pa=Ca*Ca+Ga*Ga;if(1E-12>pa){var Ha=Math.log(Fa/$a)/W;Fa=function(Fb){return[Ra+Fb*Ca,db+Fb*Ga,$a*Math.exp(W*Fb*Ha)]}}else{var Ua=Math.sqrt(pa);na=(Fa*Fa-$a*$a+ca*pa)/(2*$a*ba*Ua);Fa=(Fa*Fa-$a*$a-ca*pa)/(2*Fa*ba*Ua);var jb=Math.log(Math.sqrt(na*na+1)-na);Ha=(Math.log(Math.sqrt(Fa*
Fa+1)-Fa)-jb)/W;Fa=function(Fb){Fb*=Ha;var Xb=K(jb),nc=W*Fb+jb;var md=((nc=Math.exp(2*nc))-1)/(nc+1);var pc=jb;nc=((pc=Math.exp(pc))-1/pc)/2;md=$a/(ba*Ua)*(Xb*md-nc);return[Ra+md*Ca,db+md*Ga,$a*Xb/K(W*Fb+jb)]}}Fa.duration=1E3*Ha*W/Math.SQRT2;return Fa}qa.rho=function(Fa){Fa=Math.max(.001,+Fa);var na=Fa*Fa;return ra(Fa,na,na*na)};return qa}(Math.SQRT2,2,4),bb=R(u),kb=R(g),ua=T(u),Ta=T(g),Ya=ja(u),Da=ja(g);k.interpolate=F;k.interpolateArray=function(W,ba){return(a(ba)?f:e)(W,ba)};k.interpolateBasis=
H;k.interpolateBasisClosed=N;k.interpolateCubehelix=Ya;k.interpolateCubehelixLong=Da;k.interpolateDate=n;k.interpolateDiscrete=function(W){var ba=W.length;return function(ca){return W[Math.max(0,Math.min(ba-1,Math.floor(ca*ba)))]}};k.interpolateHcl=ua;k.interpolateHclLong=Ta;k.interpolateHsl=bb;k.interpolateHslLong=kb;k.interpolateHue=function(W,ba){var ca=u(+W,+ba);return function(ra){ra=ca(ra);return ra-360*Math.floor(ra/360)}};k.interpolateLab=function(W,ba){var ca=g((W=l.lab(W)).l,(ba=l.lab(ba)).l),
ra=g(W.a,ba.a),qa=g(W.b,ba.b),Fa=g(W.opacity,ba.opacity);return function(na){W.l=ca(na);W.a=ra(na);W.b=qa(na);W.opacity=Fa(na);return W+""}};k.interpolateNumber=y;k.interpolateNumberArray=f;k.interpolateObject=B;k.interpolateRgb=ha;k.interpolateRgbBasis=la;k.interpolateRgbBasisClosed=Z;k.interpolateRound=function(W,ba){return W=+W,ba=+ba,function(ca){return Math.round(W*(1-ca)+ba*ca)}};k.interpolateString=M;k.interpolateTransformCss=ya;k.interpolateTransformSvg=va;k.interpolateZoom=Ia;k.piecewise=
function(W,ba){void 0===ba&&(ba=W,W=F);for(var ca=0,ra=ba.length-1,qa=ba[0],Fa=Array(0>ra?0:ra);ca<ra;)Fa[ca]=W(qa,qa=ba[++ca]);return function(na){var Ra=Math.max(0,Math.min(ra-1,Math.floor(na*=ra)));return Fa[Ra](na-Ra)}};k.quantize=function(W,ba){for(var ca=Array(ba),ra=0;ra<ba;++ra)ca[ra]=W(ra/(ba-1));return ca};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[34]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(33),A(16),A(17),A(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),l):(k=k||self,l(k.d3=k.d3||{},k.d3,k.d3,k.d3,k.d3,k.d3))})(this,function(k,l,w,H,N,x){function v(mb,hc){switch(arguments.length){case 0:break;case 1:this.range(mb);break;default:this.range(hc).domain(mb)}return this}function u(mb,hc){switch(arguments.length){case 0:break;
case 1:"function"===typeof mb?this.interpolator(mb):this.range(mb);break;default:this.domain(mb),"function"===typeof hc?this.interpolator(hc):this.range(hc)}return this}function m(){function mb(sc){var Uc=sc+"",Sc=hc.get(Uc);if(!Sc){if(Pc!==Xb)return Pc;hc.set(Uc,Sc=jc.push(sc))}return rc[(Sc-1)%rc.length]}var hc=new Map,jc=[],rc=[],Pc=Xb;mb.domain=function(sc){if(!arguments.length)return jc.slice();jc=[];hc=new Map;for(const Uc of sc){const Sc=Uc+"";hc.has(Sc)||hc.set(Sc,jc.push(Uc))}return mb};
mb.range=function(sc){return arguments.length?(rc=Array.from(sc),mb):rc.slice()};mb.unknown=function(sc){return arguments.length?(Pc=sc,mb):Pc};mb.copy=function(){return m(jc,rc).unknown(Pc)};v.apply(mb,arguments);return mb}function g(){function mb(){var vd=jc().length,Wd=sc<Pc,Pb=Wd?sc:Pc,gc=Wd?Pc:sc;Uc=(gc-Pb)/Math.max(1,vd-Fd+2*ge);Lc&&(Uc=Math.floor(Uc));Pb+=(gc-Pb-Uc*(vd-Fd))*wd;Sc=Uc*(1-Fd);Lc&&(Pb=Math.round(Pb),Sc=Math.round(Sc));vd=l.range(vd).map(function(Eb){return Pb+Uc*Eb});return rc(Wd?
vd.reverse():vd)}var hc=m().unknown(void 0),jc=hc.domain,rc=hc.range,Pc=0,sc=1,Uc,Sc,Lc=!1,Fd=0,ge=0,wd=.5;delete hc.unknown;hc.domain=function(vd){return arguments.length?(jc(vd),mb()):jc()};hc.range=function(vd){return arguments.length?([Pc,sc]=vd,Pc=+Pc,sc=+sc,mb()):[Pc,sc]};hc.rangeRound=function(vd){return[Pc,sc]=vd,Pc=+Pc,sc=+sc,Lc=!0,mb()};hc.bandwidth=function(){return Sc};hc.step=function(){return Uc};hc.round=function(vd){return arguments.length?(Lc=!!vd,mb()):Lc};hc.padding=function(vd){return arguments.length?
(Fd=Math.min(1,ge=+vd),mb()):Fd};hc.paddingInner=function(vd){return arguments.length?(Fd=Math.min(1,vd),mb()):Fd};hc.paddingOuter=function(vd){return arguments.length?(ge=+vd,mb()):ge};hc.align=function(vd){return arguments.length?(wd=Math.max(0,Math.min(1,vd)),mb()):wd};hc.copy=function(){return g(jc(),[Pc,sc]).round(Lc).paddingInner(Fd).paddingOuter(ge).align(wd)};return v.apply(mb(),arguments)}function d(mb){var hc=mb.copy;mb.padding=mb.paddingOuter;delete mb.paddingInner;delete mb.paddingOuter;
mb.copy=function(){return d(hc())};return mb}function f(mb){return function(){return mb}}function a(mb){return+mb}function e(mb){return mb}function n(mb,hc){return(hc-=mb=+mb)?function(jc){return(jc-mb)/hc}:f(isNaN(hc)?NaN:.5)}function y(mb,hc){if(mb>hc){var jc=mb;mb=hc;hc=jc}return function(rc){return Math.max(mb,Math.min(hc,rc))}}function B(mb,hc,jc){var rc=mb[0];mb=mb[1];var Pc=hc[0];hc=hc[1];mb<rc?(rc=n(mb,rc),Pc=jc(hc,Pc)):(rc=n(rc,mb),Pc=jc(Pc,hc));return function(sc){return Pc(rc(sc))}}function D(mb,
hc,jc){var rc=Math.min(mb.length,hc.length)-1,Pc=Array(rc),sc=Array(rc),Uc=-1;mb[rc]<mb[0]&&(mb=mb.slice().reverse(),hc=hc.slice().reverse());for(;++Uc<rc;)Pc[Uc]=n(mb[Uc],mb[Uc+1]),sc[Uc]=jc(hc[Uc],hc[Uc+1]);return function(Sc){var Lc=l.bisect(mb,Sc,1,rc)-1;return sc[Lc](Pc[Lc](Sc))}}function O(mb,hc){return hc.domain(mb.domain()).range(mb.range()).interpolate(mb.interpolate()).clamp(mb.clamp()).unknown(mb.unknown())}function M(){function mb(){var vd=Math.min(jc.length,rc.length);Lc!==e&&(Lc=y(jc[0],
jc[vd-1]));Fd=2<vd?D:B;ge=wd=null;return hc}function hc(vd){return isNaN(vd=+vd)?Sc:(ge||(ge=Fd(jc.map(sc),rc,Pc)))(sc(Lc(vd)))}var jc=nc,rc=nc,Pc=w.interpolate,sc,Uc,Sc,Lc=e,Fd,ge,wd;hc.invert=function(vd){return Lc(Uc((wd||(wd=Fd(rc,jc.map(sc),w.interpolateNumber)))(vd)))};hc.domain=function(vd){return arguments.length?(jc=Array.from(vd,a),mb()):jc.slice()};hc.range=function(vd){return arguments.length?(rc=Array.from(vd),mb()):rc.slice()};hc.rangeRound=function(vd){return rc=Array.from(vd),Pc=w.interpolateRound,
mb()};hc.clamp=function(vd){return arguments.length?(Lc=vd?!0:e,mb()):Lc!==e};hc.interpolate=function(vd){return arguments.length?(Pc=vd,mb()):Pc};hc.unknown=function(vd){return arguments.length?(Sc=vd,hc):Sc};return function(vd,Wd){sc=vd;Uc=Wd;return mb()}}function F(mb,hc,jc,rc){jc=l.tickStep(mb,hc,jc);var Pc;rc=H.formatSpecifier(null==rc?",f":rc);switch(rc.type){case "s":return mb=Math.max(Math.abs(mb),Math.abs(hc)),null!=rc.precision||isNaN(Pc=H.precisionPrefix(jc,mb))||(rc.precision=Pc),H.formatPrefix(rc,
mb);case "":case "e":case "g":case "p":case "r":null!=rc.precision||isNaN(Pc=H.precisionRound(jc,Math.max(Math.abs(mb),Math.abs(hc))))||(rc.precision=Pc-("e"===rc.type));break;case "f":case "%":null!=rc.precision||isNaN(Pc=H.precisionFixed(jc))||(rc.precision=Pc-2*("%"===rc.type))}return H.format(rc)}function z(mb){var hc=mb.domain;mb.ticks=function(jc){var rc=hc();return l.ticks(rc[0],rc[rc.length-1],null==jc?10:jc)};mb.tickFormat=function(jc,rc){var Pc=hc();return F(Pc[0],Pc[Pc.length-1],null==
jc?10:jc,rc)};mb.nice=function(jc){null==jc&&(jc=10);var rc=hc(),Pc=0,sc=rc.length-1,Uc=rc[Pc],Sc=rc[sc],Lc=10;if(Sc<Uc){var Fd=Uc;Uc=Sc;Sc=Fd;Fd=Pc;Pc=sc;sc=Fd}for(;0<Lc--;){Fd=l.tickIncrement(Uc,Sc,jc);if(Fd===ge)return rc[Pc]=Uc,rc[sc]=Sc,hc(rc);if(0<Fd)Uc=Math.floor(Uc/Fd)*Fd,Sc=Math.ceil(Sc/Fd)*Fd;else if(0>Fd)Uc=Math.ceil(Uc*Fd)/Fd,Sc=Math.floor(Sc*Fd)/Fd;else break;var ge=Fd}return mb};return mb}function G(){var mb=M()(e,e);mb.copy=function(){return O(mb,G())};v.apply(mb,arguments);return z(mb)}
function K(mb){function hc(rc){return isNaN(rc=+rc)?jc:rc}var jc;hc.invert=hc;hc.domain=hc.range=function(rc){return arguments.length?(mb=Array.from(rc,a),hc):mb.slice()};hc.unknown=function(rc){return arguments.length?(jc=rc,hc):jc};hc.copy=function(){return K(mb).unknown(jc)};mb=arguments.length?Array.from(mb,a):[0,1];return z(hc)}function R(mb,hc){mb=mb.slice();var jc=0,rc=mb.length-1,Pc=mb[jc],sc=mb[rc];if(sc<Pc){var Uc=jc;jc=rc;rc=Uc;Uc=Pc;Pc=sc;sc=Uc}mb[jc]=hc.floor(Pc);mb[rc]=hc.ceil(sc);return mb}
function T(mb){return Math.log(mb)}function ja(mb){return Math.exp(mb)}function fa(mb){return-Math.log(-mb)}function ha(mb){return-Math.exp(-mb)}function la(mb){return isFinite(mb)?+("1e"+mb):0>mb?0:mb}function Z(mb){return 10===mb?la:mb===Math.E?Math.exp:function(hc){return Math.pow(mb,hc)}}function P(mb){return mb===Math.E?Math.log:10===mb&&Math.log10||2===mb&&Math.log2||(mb=Math.log(mb),function(hc){return Math.log(hc)/mb})}function C(mb){return function(hc){return-mb(-hc)}}function V(mb){function hc(){sc=
P(Pc);Uc=Z(Pc);0>rc()[0]?(sc=C(sc),Uc=C(Uc),mb(fa,ha)):mb(T,ja);return jc}var jc=mb(T,ja),rc=jc.domain,Pc=10,sc,Uc;jc.base=function(Sc){return arguments.length?(Pc=+Sc,hc()):Pc};jc.domain=function(Sc){return arguments.length?(rc(Sc),hc()):rc()};jc.ticks=function(Sc){var Lc=rc(),Fd=Lc[0];Lc=Lc[Lc.length-1];var ge;if(ge=Lc<Fd)wd=Fd,Fd=Lc,Lc=wd;var wd=sc(Fd),vd=sc(Lc),Wd=null==Sc?10:+Sc,Pb=[];if(!(Pc%1)&&vd-wd<Wd){wd=Math.floor(wd);vd=Math.ceil(vd);if(0<Fd)for(;wd<=vd;++wd){var gc=1;for(Sc=Uc(wd);gc<
Pc;++gc){var Eb=Sc*gc;if(!(Eb<Fd)){if(Eb>Lc)break;Pb.push(Eb)}}}else for(;wd<=vd;++wd)for(gc=Pc-1,Sc=Uc(wd);1<=gc;--gc)if(Eb=Sc*gc,!(Eb<Fd)){if(Eb>Lc)break;Pb.push(Eb)}2*Pb.length<Wd&&(Pb=l.ticks(Fd,Lc,Wd))}else Pb=l.ticks(wd,vd,Math.min(vd-wd,Wd)).map(Uc);return ge?Pb.reverse():Pb};jc.tickFormat=function(Sc,Lc){null==Lc&&(Lc=10===Pc?".0e":",");"function"!==typeof Lc&&(Lc=H.format(Lc));if(Infinity===Sc)return Lc;null==Sc&&(Sc=10);var Fd=Math.max(1,Pc*Sc/jc.ticks().length);return function(ge){var wd=
ge/Uc(Math.round(sc(ge)));wd*Pc<Pc-.5&&(wd*=Pc);return wd<=Fd?Lc(ge):""}};jc.nice=function(){return rc(R(rc(),{floor:function(Sc){return Uc(Math.floor(sc(Sc)))},ceil:function(Sc){return Uc(Math.ceil(sc(Sc)))}}))};return jc}function ia(){var mb=V(M()).domain([1,10]);mb.copy=function(){return O(mb,ia()).base(mb.base())};v.apply(mb,arguments);return mb}function aa(mb){return function(hc){return Math.sign(hc)*Math.log1p(Math.abs(hc/mb))}}function ya(mb){return function(hc){return Math.sign(hc)*Math.expm1(Math.abs(hc))*
mb}}function va(mb){var hc=1,jc=mb(aa(hc),ya(hc));jc.constant=function(rc){return arguments.length?mb(aa(hc=+rc),ya(hc)):hc};return z(jc)}function Ia(){var mb=va(M());mb.copy=function(){return O(mb,Ia()).constant(mb.constant())};return v.apply(mb,arguments)}function bb(mb){return function(hc){return 0>hc?-Math.pow(-hc,mb):Math.pow(hc,mb)}}function kb(mb){return 0>mb?-Math.sqrt(-mb):Math.sqrt(mb)}function ua(mb){return 0>mb?-mb*mb:mb*mb}function Ta(mb){var hc=mb(e,e),jc=1;hc.exponent=function(rc){return arguments.length?
(jc=+rc,1===jc?mb(e,e):.5===jc?mb(kb,ua):mb(bb(jc),bb(1/jc))):jc};return z(hc)}function Ya(){var mb=Ta(M());mb.copy=function(){return O(mb,Ya()).exponent(mb.exponent())};v.apply(mb,arguments);return mb}function Da(mb){return Math.sign(mb)*mb*mb}function ta(){function mb(sc){sc=hc(sc);sc=Math.sign(sc)*Math.sqrt(Math.abs(sc));return isNaN(sc)?Pc:rc?Math.round(sc):sc}var hc=M()(e,e),jc=[0,1],rc=!1,Pc;mb.invert=function(sc){return hc.invert(Da(sc))};mb.domain=function(sc){return arguments.length?(hc.domain(sc),
mb):hc.domain()};mb.range=function(sc){return arguments.length?(hc.range((jc=Array.from(sc,a)).map(Da)),mb):jc.slice()};mb.rangeRound=function(sc){return mb.range(sc).round(!0)};mb.round=function(sc){return arguments.length?(rc=!!sc,mb):rc};mb.clamp=function(sc){return arguments.length?(hc.clamp(sc),mb):hc.clamp()};mb.unknown=function(sc){return arguments.length?(Pc=sc,mb):Pc};mb.copy=function(){return ta(hc.domain(),jc).round(rc).clamp(hc.clamp()).unknown(Pc)};v.apply(mb,arguments);return z(mb)}
function U(){function mb(){var Uc=0,Sc=Math.max(1,rc.length);for(Pc=Array(Sc-1);++Uc<Sc;)Pc[Uc-1]=l.quantileSorted(jc,Uc/Sc);return hc}function hc(Uc){return isNaN(Uc=+Uc)?sc:rc[l.bisect(Pc,Uc)]}var jc=[],rc=[],Pc=[],sc;hc.invertExtent=function(Uc){Uc=rc.indexOf(Uc);return 0>Uc?[NaN,NaN]:[0<Uc?Pc[Uc-1]:jc[0],Uc<Pc.length?Pc[Uc]:jc[jc.length-1]]};hc.domain=function(Uc){if(!arguments.length)return jc.slice();jc=[];for(let Sc of Uc)null==Sc||isNaN(Sc=+Sc)||jc.push(Sc);jc.sort(l.ascending);return mb()};
hc.range=function(Uc){return arguments.length?(rc=Array.from(Uc),mb()):rc.slice()};hc.unknown=function(Uc){return arguments.length?(sc=Uc,hc):sc};hc.quantiles=function(){return Pc.slice()};hc.copy=function(){return U().domain(jc).range(rc).unknown(sc)};return v.apply(hc,arguments)}function W(){function mb(Lc){return Lc<=Lc?Uc[l.bisect(sc,Lc,0,Pc)]:Sc}function hc(){var Lc=-1;for(sc=Array(Pc);++Lc<Pc;)sc[Lc]=((Lc+1)*rc-(Lc-Pc)*jc)/(Pc+1);return mb}var jc=0,rc=1,Pc=1,sc=[.5],Uc=[0,1],Sc;mb.domain=function(Lc){return arguments.length?
([jc,rc]=Lc,jc=+jc,rc=+rc,hc()):[jc,rc]};mb.range=function(Lc){return arguments.length?(Pc=(Uc=Array.from(Lc)).length-1,hc()):Uc.slice()};mb.invertExtent=function(Lc){Lc=Uc.indexOf(Lc);return 0>Lc?[NaN,NaN]:1>Lc?[jc,sc[0]]:Lc>=Pc?[sc[Pc-1],rc]:[sc[Lc-1],sc[Lc]]};mb.unknown=function(Lc){return arguments.length?(Sc=Lc,mb):mb};mb.thresholds=function(){return sc.slice()};mb.copy=function(){return W().domain([jc,rc]).range(Uc).unknown(Sc)};return v.apply(z(mb),arguments)}function ba(){function mb(sc){return sc<=
sc?jc[l.bisect(hc,sc,0,Pc)]:rc}var hc=[.5],jc=[0,1],rc,Pc=1;mb.domain=function(sc){return arguments.length?(hc=Array.from(sc),Pc=Math.min(hc.length,jc.length-1),mb):hc.slice()};mb.range=function(sc){return arguments.length?(jc=Array.from(sc),Pc=Math.min(hc.length,jc.length-1),mb):jc.slice()};mb.invertExtent=function(sc){sc=jc.indexOf(sc);return[hc[sc-1],hc[sc]]};mb.unknown=function(sc){return arguments.length?(rc=sc,mb):rc};mb.copy=function(){return ba().domain(hc).range(jc).unknown(rc)};return v.apply(mb,
arguments)}function ca(mb){return new Date(mb)}function ra(mb){return mb instanceof Date?+mb:+new Date(+mb)}function qa(mb,hc,jc,rc,Pc,sc,Uc,Sc,Lc){function Fd(wb){return(Uc(wb)<wb?Pb:sc(wb)<wb?gc:Pc(wb)<wb?Eb:rc(wb)<wb?zc:hc(wb)<wb?jc(wb)<wb?Vc:Ed:mb(wb)<wb?Vd:Ka)(wb)}function ge(wb,Hb,ac){null==wb&&(wb=10);if("number"===typeof wb){var Lb=Math.abs(ac-Hb)/wb,Ac=l.bisector(function(tc){return tc[2]}).right(eb,Lb);Ac===eb.length?(Hb=l.tickStep(Hb/Hc,ac/Hc,wb),wb=mb):Ac?(Ac=eb[Lb/eb[Ac-1][2]<eb[Ac][2]/
Lb?Ac-1:Ac],Hb=Ac[1],wb=Ac[0]):(Hb=Math.max(l.tickStep(Hb,ac,wb),1),wb=Sc);return wb.every(Hb)}return wb}var wd=M()(e,e),vd=wd.invert,Wd=wd.domain,Pb=Lc(".%L"),gc=Lc(":%S"),Eb=Lc("%I:%M"),zc=Lc("%I %p"),Vc=Lc("%a %d"),Ed=Lc("%b %d"),Vd=Lc("%B"),Ka=Lc("%Y"),eb=[[Uc,1,1E3],[Uc,5,5E3],[Uc,15,15E3],[Uc,30,3E4],[sc,1,6E4],[sc,5,3E5],[sc,15,9E5],[sc,30,18E5],[Pc,1,36E5],[Pc,3,108E5],[Pc,6,216E5],[Pc,12,432E5],[rc,1,864E5],[rc,2,1728E5],[jc,1,md],[hc,1,pc],[hc,3,3*pc],[mb,1,Hc]];wd.invert=function(wb){return new Date(vd(wb))};
wd.domain=function(wb){return arguments.length?Wd(Array.from(wb,ra)):Wd().map(ca)};wd.ticks=function(wb){var Hb=Wd(),ac=Hb[0];Hb=Hb[Hb.length-1];var Lb=Hb<ac;if(Lb){var Ac=ac;ac=Hb;Hb=Ac}Ac=(Ac=ge(wb,ac,Hb))?Ac.range(ac,Hb+1):[];return Lb?Ac.reverse():Ac};wd.tickFormat=function(wb,Hb){return null==Hb?Fd:Lc(Hb)};wd.nice=function(wb){var Hb=Wd();return(wb=ge(wb,Hb[0],Hb[Hb.length-1]))?Wd(R(Hb,wb)):wd};wd.copy=function(){return O(wd,qa(mb,hc,jc,rc,Pc,sc,Uc,Sc,Lc))};return wd}function Fa(){function mb(wd){return isNaN(wd=
+wd)?ge:Lc(0===Uc?.5:(wd=(Sc(wd)-Pc)*Uc,Fd?Math.max(0,Math.min(1,wd)):wd))}function hc(wd){return function(vd){var Wd,Pb;return arguments.length?([Wd,Pb]=vd,Lc=wd(Wd,Pb),mb):[Lc(0),Lc(1)]}}var jc=0,rc=1,Pc,sc,Uc,Sc,Lc=e,Fd=!1,ge;mb.domain=function(wd){return arguments.length?([jc,rc]=wd,Pc=Sc(jc=+jc),sc=Sc(rc=+rc),Uc=Pc===sc?0:1/(sc-Pc),mb):[jc,rc]};mb.clamp=function(wd){return arguments.length?(Fd=!!wd,mb):Fd};mb.interpolator=function(wd){return arguments.length?(Lc=wd,mb):Lc};mb.range=hc(w.interpolate);
mb.rangeRound=hc(w.interpolateRound);mb.unknown=function(wd){return arguments.length?(ge=wd,mb):ge};return function(wd){Sc=wd;Pc=wd(jc);sc=wd(rc);Uc=Pc===sc?0:1/(sc-Pc);return mb}}function na(mb,hc){return hc.domain(mb.domain()).interpolator(mb.interpolator()).clamp(mb.clamp()).unknown(mb.unknown())}function Ra(){var mb=z(Fa()(e));mb.copy=function(){return na(mb,Ra())};return u.apply(mb,arguments)}function db(){var mb=V(Fa()).domain([1,10]);mb.copy=function(){return na(mb,db()).base(mb.base())};return u.apply(mb,
arguments)}function $a(){var mb=va(Fa());mb.copy=function(){return na(mb,$a()).constant(mb.constant())};return u.apply(mb,arguments)}function Ca(){var mb=Ta(Fa());mb.copy=function(){return na(mb,Ca()).exponent(mb.exponent())};return u.apply(mb,arguments)}function Ga(){function mb(rc){if(!isNaN(rc=+rc))return jc((l.bisect(hc,rc,1)-1)/(hc.length-1))}var hc=[],jc=e;mb.domain=function(rc){if(!arguments.length)return hc.slice();hc=[];for(let Pc of rc)null==Pc||isNaN(Pc=+Pc)||hc.push(Pc);hc.sort(l.ascending);
return mb};mb.interpolator=function(rc){return arguments.length?(jc=rc,mb):jc};mb.range=function(){return hc.map((rc,Pc)=>jc(Pc/(hc.length-1)))};mb.quantiles=function(rc){return Array.from({length:rc+1},(Pc,sc)=>l.quantile(hc,sc/rc))};mb.copy=function(){return Ga(jc).domain(hc)};return u.apply(mb,arguments)}function pa(){function mb(gc){return isNaN(gc=+gc)?Pb:(gc=.5+((gc=+vd(gc))-Sc)*(sc*gc<sc*Sc?Fd:ge),wd(Wd?Math.max(0,Math.min(1,gc)):gc))}function hc(gc){return function(Eb){var zc,Vc,Ed;return arguments.length?
([zc,Vc,Ed]=Eb,wd=w.piecewise(gc,[zc,Vc,Ed]),mb):[wd(0),wd(.5),wd(1)]}}var jc=0,rc=.5,Pc=1,sc=1,Uc,Sc,Lc,Fd,ge,wd=e,vd,Wd=!1,Pb;mb.domain=function(gc){return arguments.length?([jc,rc,Pc]=gc,Uc=vd(jc=+jc),Sc=vd(rc=+rc),Lc=vd(Pc=+Pc),Fd=Uc===Sc?0:.5/(Sc-Uc),ge=Sc===Lc?0:.5/(Lc-Sc),sc=Sc<Uc?-1:1,mb):[jc,rc,Pc]};mb.clamp=function(gc){return arguments.length?(Wd=!!gc,mb):Wd};mb.interpolator=function(gc){return arguments.length?(wd=gc,mb):wd};mb.range=hc(w.interpolate);mb.rangeRound=hc(w.interpolateRound);
mb.unknown=function(gc){return arguments.length?(Pb=gc,mb):Pb};return function(gc){vd=gc;Uc=gc(jc);Sc=gc(rc);Lc=gc(Pc);Fd=Uc===Sc?0:.5/(Sc-Uc);ge=Sc===Lc?0:.5/(Lc-Sc);sc=Sc<Uc?-1:1;return mb}}function Ha(){var mb=z(pa()(e));mb.copy=function(){return na(mb,Ha())};return u.apply(mb,arguments)}function Ua(){var mb=V(pa()).domain([.1,1,10]);mb.copy=function(){return na(mb,Ua()).base(mb.base())};return u.apply(mb,arguments)}function jb(){var mb=va(pa());mb.copy=function(){return na(mb,jb()).constant(mb.constant())};
return u.apply(mb,arguments)}function Fb(){var mb=Ta(pa());mb.copy=function(){return na(mb,Fb()).exponent(mb.exponent())};return u.apply(mb,arguments)}const Xb=Symbol("implicit");var nc=[0,1],md=6048E5,pc=2592E6,Hc=31536E6;k.scaleBand=g;k.scaleDiverging=Ha;k.scaleDivergingLog=Ua;k.scaleDivergingPow=Fb;k.scaleDivergingSqrt=function(){return Fb.apply(null,arguments).exponent(.5)};k.scaleDivergingSymlog=jb;k.scaleIdentity=K;k.scaleImplicit=Xb;k.scaleLinear=G;k.scaleLog=ia;k.scaleOrdinal=m;k.scalePoint=
function(){return d(g.apply(null,arguments).paddingInner(1))};k.scalePow=Ya;k.scaleQuantile=U;k.scaleQuantize=W;k.scaleRadial=ta;k.scaleSequential=Ra;k.scaleSequentialLog=db;k.scaleSequentialPow=Ca;k.scaleSequentialQuantile=Ga;k.scaleSequentialSqrt=function(){return Ca.apply(null,arguments).exponent(.5)};k.scaleSequentialSymlog=$a;k.scaleSqrt=function(){return Ya.apply(null,arguments).exponent(.5)};k.scaleSymlog=Ia;k.scaleThreshold=ba;k.scaleTime=function(){return v.apply(qa(N.timeYear,N.timeMonth,
N.timeWeek,N.timeDay,N.timeHour,N.timeMinute,N.timeSecond,N.timeMillisecond,x.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};k.scaleUtc=function(){return v.apply(qa(N.utcYear,N.utcMonth,N.utcWeek,N.utcDay,N.utcHour,N.utcMinute,N.utcSecond,N.utcMillisecond,x.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};k.tickFormat=F;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(15),A(34),A(33),A(18)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3,k.d3,k.vega))})(this,function(k,l,w,H,N,x){function v(U,W,ba){W=U-W+2*ba;return U?0<W?W:1:0}function u(U){return function(W){let ba=W[0];W=W[1];let ca;W<ba&&(ca=
ba,ba=W,W=ca);return[U.invert(ba),U.invert(W)]}}function m(U){return function(W){const ba=U.range();let ca=W[0];W=W[1];let ra=-1,qa;let Fa;if(W<ca){var na=ca;ca=W;W=na}na=0;for(Fa=ba.length;na<Fa;++na)ba[na]>=ca&&ba[na]<=W&&(0>ra&&(ra=na),qa=na);if(!(0>ra))return ca=U.invertExtent(ba[ra]),W=U.invertExtent(ba[qa]),[void 0===ca[0]?ca[1]:ca[0],void 0===W[1]?W[0]:W[1]]}}function g(){function U(){var Ca=ba().length;const Ga=ra[1]<ra[0],pa=ra[1-Ga],Ha=v(Ca,Ra,db);let Ua=ra[Ga-0];qa=(pa-Ua)/(Ha||1);na&&
(qa=Math.floor(qa));Ua+=(pa-Ua-qa*(Ca-Ra))*$a;Fa=qa*(1-Ra);na&&(Ua=Math.round(Ua),Fa=Math.round(Fa));Ca=w.range(Ca).map(jb=>Ua+qa*jb);return ca(Ga?Ca.reverse():Ca)}const W=H.scaleOrdinal().unknown(void 0),ba=W.domain,ca=W.range;let ra=[0,1],qa,Fa,na=!1,Ra=0,db=0,$a=.5;delete W.unknown;W.domain=function(Ca){return arguments.length?(ba(Ca),U()):ba()};W.range=function(Ca){return arguments.length?(ra=[+Ca[0],+Ca[1]],U()):ra.slice()};W.rangeRound=function(Ca){ra=[+Ca[0],+Ca[1]];na=!0;return U()};W.bandwidth=
function(){return Fa};W.step=function(){return qa};W.round=function(Ca){return arguments.length?(na=!!Ca,U()):na};W.padding=function(Ca){return arguments.length?(Ra=db=Math.max(0,Math.min(1,Ca)),U()):Ra};W.paddingInner=function(Ca){return arguments.length?(Ra=Math.max(0,Math.min(1,Ca)),U()):Ra};W.paddingOuter=function(Ca){return arguments.length?(db=Math.max(0,Math.min(1,Ca)),U()):db};W.align=function(Ca){return arguments.length?($a=Math.max(0,Math.min(1,Ca)),U()):$a};W.invertRange=function(Ca){if(null!=
Ca[0]&&null!=Ca[1]){var Ga=ra[1]<ra[0],pa=Ga?ca().reverse():ca(),Ha=pa.length-1,Ua=+Ca[0],jb=+Ca[1];if(Ua===Ua&&jb===jb){if(jb<Ua){var Fb=Ua;Ua=jb;jb=Fb}if(!(jb<pa[0]||Ua>ra[1-Ga]))return Ca=Math.max(0,w.bisectRight(pa,Ua)-1),jb=Ua===jb?Ca:w.bisectRight(pa,jb)-1,Ua-pa[Ca]>Fa+1E-10&&++Ca,Ga&&(Fb=Ca,Ca=Ha-jb,jb=Ha-Fb),Ca>jb?void 0:ba().slice(Ca,jb+1)}}};W.invert=function(Ca){return(Ca=W.invertRange([Ca,Ca]))?Ca[0]:Ca};W.copy=function(){return g().domain(ba()).range(ra).round(na).paddingInner(Ra).paddingOuter(db).align($a)};
return U()}function d(U){const W=U.copy;U.padding=U.paddingOuter;delete U.paddingInner;U.copy=function(){return d(W())};return U}function f(){function U(ca){return null==ca||ca!==ca?void 0:ba[(w.bisect(W,ca)-1)%ba.length]}let W=[],ba=[];U.domain=function(ca){return arguments.length?(W=V.call(ca,l.toNumber),U):W.slice()};U.range=function(ca){return arguments.length?(ba=ia.call(ca),U):ba.slice()};U.tickFormat=function(ca,ra){return H.tickFormat(W[0],l.peek(W),null==ca?10:ca,ra)};U.copy=function(){return f().domain(U.domain()).range(U.range())};
return U}function a(U,W,ba){const ca=function(){const ra=W();ra.invertRange||(ra.invertRange=ra.invert?u(ra):ra.invertExtent?m(ra):void 0);ra.type=U;return ra};ca.metadata=l.toSet(l.array(ba));return ca}function e(U,W,ba){return 1<arguments.length?(aa[U]=a(U,W,ba),this):n(U)?aa[U]:void 0}function n(U){return l.hasOwnProperty(aa,U)}function y(U,W){return(U=aa[U])&&U.metadata[W]}function B(U){return y(U,"discrete")}function D(U){return y(U,"discretizing")}function O(U){return y(U,"log")}function M(U){return y(U,
"temporal")}function F(U,W,ba){return N.piecewise(z(W||"rgb",ba),U)}function z(U,W){U=C[G(U)];return null!=W&&U&&U.gamma?U.gamma(W):U}function G(U){return"interpolate"+U.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function K(U){const W=U.length/6|0,ba=Array(W);for(let ca=0;ca<W;)ba[ca]="#"+U.slice(6*ca,6*++ca);return ba}function R(U,W){for(const ba in U)T(ba,W(U[ba]))}function T(U,W){U=U&&U.toLowerCase();return 1<arguments.length?(va[U]=W,this):va[U]}function ja(U,W,ba){var ca=
U.range();let ra=ca[0],qa=l.peek(ca);ca=bb;ra>qa&&(ca=qa,qa=ra,ra=ca,ca=kb);ra=Math.floor(ra);qa=Math.ceil(qa);W=W.map(Fa=>[Fa,U(Fa)]).filter(Fa=>ra<=Fa[1]&&Fa[1]<=qa).sort(ca).map(Fa=>Fa[0]);if(0<ba&&1<W.length){for(ca=[W[0],l.peek(W)];W.length>ba&&3<=W.length;)W=W.filter((Fa,na)=>!(na%2));3>W.length&&(W=ca)}return W}function fa(U,W){return U.bins?ja(U,U.bins):U.ticks?U.ticks(W):U.domain()}function ha(U,W,ba,ca,ra,qa){const Fa=W.type;let na=Ia;if("time"===Fa||"time"===ra)na=U.timeFormat(ca);else if("utc"===
Fa||"utc"===ra)na=U.utcFormat(ca);else if(O(Fa)){const Ra=U.formatFloat(ca);if(qa||W.bins)na=Ra;else{const db=la(W,ba,!1);na=$a=>db($a)?Ra($a):""}}else W.tickFormat?(W=W.domain(),na=U.formatSpan(W[0],W[W.length-1],ba,ca)):ca&&(na=U.format(ca));return na}function la(U,W,ba){const ca=fa(U,W),ra=U.base(),qa=Math.log(ra),Fa=Math.max(1,ra*W/ca.length);U=na=>{na/=Math.pow(ra,Math.round(Math.log(na)/qa));na*ra<ra-.5&&(na*=ra);return na<=Fa};return ba?ca.filter(U):U}function Z(U,W){U.bins?(U=U.bins,W=U.slice(0,
-1),W.max=l.peek(U),U=W):"log"===U.type?U=la(U,W,!0):ua[U.type]?(U=U[ua[U.type]](),U=[-Infinity].concat(U),U.max=Infinity):U=fa(U,W);return U}function P(U,W,ba,ca,ra,qa,Fa){if(Ta[W.type]&&"time"!==qa&&"utc"!==qa){{ba=W[Ta[W.type]]();qa=ba.length;Fa=1<qa?ba[1]-ba[0]:ba[0];let na;for(na=1;na<qa;++na)Fa=Math.min(Fa,ba[na]-ba[na-1]);U=U.formatSpan(0,Fa,30,ra)}}else U=ha(U,W,ba,ra,qa,Fa);return"symbol"===ca&&(ua[W.type]||W.bins)?Ya(U):"discrete"===ca?Da(U):ta(U)}var C=function(U){if(U&&U.__esModule)return U;
var W=Object.create(null);U&&Object.keys(U).forEach(function(ba){if("default"!==ba){var ca=Object.getOwnPropertyDescriptor(U,ba);Object.defineProperty(W,ba,ca.get?ca:{enumerable:!0,get:function(){return U[ba]}})}});W["default"]=U;return Object.freeze(W)}(N),V=Array.prototype.map;const ia=Array.prototype.slice,aa={};e("identity",H.scaleIdentity);e("linear",H.scaleLinear,"continuous");e("log",H.scaleLog,["continuous","log"]);e("pow",H.scalePow,"continuous");e("sqrt",H.scaleSqrt,"continuous");e("symlog",
H.scaleSymlog,"continuous");e("time",H.scaleTime,["continuous","temporal"]);e("utc",H.scaleUtc,["continuous","temporal"]);e("sequential",H.scaleSequential,["continuous","interpolating"]);e("sequential-linear",H.scaleSequential,["continuous","interpolating"]);e("sequential-log",H.scaleSequentialLog,["continuous","interpolating","log"]);e("sequential-pow",H.scaleSequentialPow,["continuous","interpolating"]);e("sequential-sqrt",H.scaleSequentialSqrt,["continuous","interpolating"]);e("sequential-symlog",
H.scaleSequentialSymlog,["continuous","interpolating"]);e("diverging-linear",H.scaleDiverging,["continuous","interpolating"]);e("diverging-log",H.scaleDivergingLog,["continuous","interpolating","log"]);e("diverging-pow",H.scaleDivergingPow,["continuous","interpolating"]);e("diverging-sqrt",H.scaleDivergingSqrt,["continuous","interpolating"]);e("diverging-symlog",H.scaleDivergingSymlog,["continuous","interpolating"]);e("quantile",H.scaleQuantile,["discretizing","quantile"]);e("quantize",H.scaleQuantize,
"discretizing");e("threshold",H.scaleThreshold,"discretizing");e("bin-ordinal",f,["discrete","discretizing"]);e("ordinal",H.scaleOrdinal,"discrete");e("band",g,"discrete");e("point",function(){return d(g().paddingInner(1))},"discrete");const ya=["clamp","base","constant","exponent"],va={};R({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},K);R({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},U=>F(K(U)));const Ia=U=>l.isArray(U)?U.map(W=>String(W)):String(U),bb=(U,W)=>U[1]-W[1],kb=(U,W)=>W[1]-U[1],ua={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},Ta={["quantile"]:"quantiles",["quantize"]:"domain"},Ya=U=>(W,ba,ca)=>{ba=ca[ba+1];ca=ca.max;ca=null!=ca?ca:Infinity;ba=null!=
ba?ba:ca;W=Number.isFinite(W)?U(W):null;ba=Number.isFinite(ba)?U(ba):null;return W&&ba?W+" – "+ba:ba?"\x3c "+ba:"≥ "+W},Da=U=>(W,ba)=>ba?U(W):null,ta=U=>W=>U(W);Object.defineProperty(k,"scaleImplicit",{enumerable:!0,get:function(){return H.scaleImplicit}});k.Band="band";k.BinOrdinal="bin-ordinal";k.DiscreteLegend="discrete";k.Diverging="diverging";k.GradientLegend="gradient";k.Identity="identity";k.Linear="linear";k.Log="log";k.Ordinal="ordinal";k.Point="point";k.Pow="pow";k.Quantile="quantile";k.Quantize=
"quantize";k.Sequential="sequential";k.Sqrt="sqrt";k.SymbolLegend="symbol";k.Symlog="symlog";k.Threshold="threshold";k.Time="time";k.UTC="utc";k.bandSpace=v;k.domainCaption=function(U,W,ba){ba=ba||{};var ca=Math.max(3,ba.maxlen||7);{var ra=ba.format;const qa=(ba=ba.formatType)||W.type;l.isString(ra)&&M(qa)&&(ra=ra.replace(/%a/g,"%A").replace(/%b/g,"%B"));U=ra||"time"!==qa?ra||"utc"!==qa?P(U,W,5,null,ra,ba,!0):U.utcFormat("%A, %d %B %Y, %X UTC"):U.timeFormat("%A, %d %B %Y, %X")}if(D(W.type))return ca=
Z(W).slice(1).map(U),W=ca.length,`${W} boundar${1===W?"y":"ies"}: ${ca.join(", ")}`;if(B(W.type))return ra=W.domain(),W=ra.length,ca=W>ca?ra.slice(0,ca-2).map(U).join(", ")+", ending with "+ra.slice(-1).map(U):ra.map(U).join(", "),`${W} value${1===W?"":"s"}: ${ca}`;ca=W.domain();return`values from ${U(ca[0])} to ${U(l.peek(ca))}`};k.interpolate=z;k.interpolateColors=F;k.interpolateRange=function(U,W){const ba=W[0],ca=l.peek(W)-ba;return function(ra){return U(ba+ra*ca)}};k.isContinuous=function(U){return y(U,
"continuous")};k.isDiscrete=B;k.isDiscretizing=D;k.isInterpolating=function(U){return y(U,"interpolating")};k.isLogarithmic=O;k.isQuantile=function(U){return y(U,"quantile")};k.isTemporal=M;k.isValidScaleType=n;k.labelFormat=P;k.labelFraction=function(U){var W=U.domain();const ba=W.length-1;let ca=+W[0];W=+l.peek(W);let ra=W-ca;"threshold"===U.type&&(U=ba?ra/ba:.1,ca-=U,W+=U,ra=W-ca);return qa=>(qa-ca)/ra};k.labelValues=Z;k.quantizeInterpolator=function(U,W){const ba=Array(W),ca=W+1;for(let ra=0;ra<
W;)ba[ra]=U(++ra/ca);return ba};k.scale=e;k.scaleCopy=function(U){const W=U.type;U=U.copy();U.type=W;return U};k.scaleFraction=function(U,W,ba){var ca=ba-W;let ra,qa;return ca&&Number.isFinite(ca)?(ca=(ra=U.type).indexOf("-"),ra=0>ca?ra:ra.slice(ca+1),qa=e(ra)().domain([W,ba]).range([0,1]),ya.forEach(Fa=>U[Fa]?qa[Fa](U[Fa]()):0),qa):l.constant(.5)};k.scheme=T;k.tickCount=function(U,W,ba){let ca;l.isNumber(W)&&(U.bins&&(W=Math.max(W,U.bins.length)),null!=ba&&(W=Math.min(W,Math.floor(l.span(U.domain())/
ba||1))));l.isObject(W)&&(ca=W.step,W=W.interval);l.isString(W)&&(W="time"===U.type?x.timeInterval(W):"utc"==U.type?x.utcInterval(W):l.error("Only time and utc scales accept interval strings."),ca&&(W=W.every(ca)));return W};k.tickFormat=ha;k.tickValues=fa;k.validTicks=ja;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(30),A(29),A(31),A(25),A(35)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x,v){function u(Y,oa,Oa){const Va=Y.gradient;let xb=Y.id,Sb="radial"===Va?"p_":"";xb||(xb=Y.id="gradient_"+
Be++,"radial"===Va?(Y.x1=m(Y.x1,.5),Y.y1=m(Y.y1,.5),Y.r1=m(Y.r1,0),Y.x2=m(Y.x2,.5),Y.y2=m(Y.y2,.5),Y.r2=m(Y.r2,.5),Sb="p_"):(Y.x1=m(Y.x1,0),Y.y1=m(Y.y1,0),Y.x2=m(Y.x2,1),Y.y2=m(Y.y2,0)));oa[xb]=Y;return"url("+(Oa||"")+"#"+Sb+xb+")"}function m(Y,oa){return null!=Y?Y:oa}function g(Y,oa,Oa){Y=l.hasOwnProperty(jf,Y)&&jf[Y];var Va=null;Y&&(Va=Y.curve||Y[oa||"vertical"],Y.tension&&null!=Oa&&(Va=Va[Y.tension](Oa)));return Va}function d(Y){const oa=[];let Oa,Va,xb,Sb;var Zb;const qc=Y.slice().replace(Td[0],
"###$1").split(Td[1]).slice(1);Y=0;for(Sb=qc.length;Y<Sb;++Y){var Ec=qc[Y];var ed=Ec.slice(1).trim().replace(Td[2],"$1###$2").replace(Td[3],"$1###$2").split(Td[4]);Va=Ec.charAt(0);Ec=[Va];xb=0;for(Zb=ed.length;xb<Zb;++xb)(Oa=+ed[xb])===Oa&&Ec.push(Oa);ed=Ge[Va.toLowerCase()];if(Ec.length-1>ed)for(Zb=Ec.length,xb=1,oa.push([Va].concat(Ec.slice(xb,xb+=ed))),Va="M"===Va?"L":"m"===Va?"l":Va;xb<Zb;xb+=ed)oa.push([Va].concat(Ec.slice(xb,xb+ed)));else oa.push(Ec)}return oa}function f(Y,oa,Oa,Va,xb,Sb,Zb,
qc,Ec){const ed=Fe.call(arguments);if(le[ed])return le[ed];var Zc=Zb*Ye;const Pd=Math.sin(Zc);Zc=Math.cos(Zc);Oa=Math.abs(Oa);Va=Math.abs(Va);var be=Zc*(qc-Y)*.5+Pd*(Ec-oa)*.5,pd=Zc*(Ec-oa)*.5-Pd*(qc-Y)*.5;be=be*be/(Oa*Oa)+pd*pd/(Va*Va);1<be&&(be=Math.sqrt(be),Oa*=be,Va*=be);var Ad=Zc/Oa,id=Pd/Oa,af=-Pd/Va,Wa=Zc/Va;be=Ad*qc+id*Ec;pd=af*qc+Wa*Ec;Ad=Ad*Y+id*oa;id=af*Y+Wa*oa;af=1/((Ad-be)*(Ad-be)+(id-pd)*(id-pd))-.25;0>af&&(af=0);Wa=Math.sqrt(af);Sb==xb&&(Wa=-Wa);af=.5*(be+Ad)-Wa*(id-pd);Wa=.5*(pd+id)+
Wa*(Ad-be);be=Math.atan2(pd-Wa,be-af);pd=Math.atan2(id-Wa,Ad-af)-be;0>pd&&1===Sb?pd+=Gc:0<pd&&0===Sb&&(pd-=Gc);Ad=Math.ceil(Math.abs(pd/(Xf+.001)));id=[];for(let ob=0;ob<Ad;++ob)id[ob]=[af,Wa,be+ob*pd/Ad,be+(ob+1)*pd/Ad,Oa,Va,Pd,Zc];return le[ed]=id}function a(Y,oa,Oa,Va,xb,Sb){var Zb=null,qc=0,Ec=0,ed=0,Zc=0;null==Oa&&(Oa=0);null==Va&&(Va=0);null==xb&&(xb=1);null==Sb&&(Sb=xb);Y.beginPath&&Y.beginPath();for(var Pd=0,be=oa.length;Pd<be;++Pd){var pd=oa[Pd];if(1!==xb||1!==Sb){var Ad=xb;var id=Sb;var af=
ue[0]=pd[0];if("a"===af||"A"===af)ue[1]=Ad*pd[1],ue[2]=id*pd[2],ue[3]=pd[3],ue[4]=pd[4],ue[5]=pd[5],ue[6]=Ad*pd[6],ue[7]=id*pd[7];else if("h"===af||"H"===af)ue[1]=Ad*pd[1];else if("v"===af||"V"===af)ue[1]=id*pd[1];else{af=1;for(var Wa=pd.length;af<Wa;++af)ue[af]=(1==af%2?Ad:id)*pd[af]}pd=ue}switch(pd[0]){case "l":qc+=pd[1];Ec+=pd[2];Y.lineTo(qc+Oa,Ec+Va);break;case "L":qc=pd[1];Ec=pd[2];Y.lineTo(qc+Oa,Ec+Va);break;case "h":qc+=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "H":qc=pd[1];Y.lineTo(qc+Oa,Ec+
Va);break;case "v":Ec+=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "V":Ec=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "m":qc+=pd[1];Ec+=pd[2];Y.moveTo(qc+Oa,Ec+Va);break;case "M":qc=pd[1];Ec=pd[2];Y.moveTo(qc+Oa,Ec+Va);break;case "c":Ad=qc+pd[5];id=Ec+pd[6];ed=qc+pd[3];Zc=Ec+pd[4];Y.bezierCurveTo(qc+pd[1]+Oa,Ec+pd[2]+Va,ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "C":qc=pd[5];Ec=pd[6];ed=pd[3];Zc=pd[4];Y.bezierCurveTo(pd[1]+Oa,pd[2]+Va,ed+Oa,Zc+Va,qc+Oa,Ec+Va);break;case "s":Ad=qc+pd[3];id=Ec+pd[4];ed=
2*qc-ed;Zc=2*Ec-Zc;Y.bezierCurveTo(ed+Oa,Zc+Va,qc+pd[1]+Oa,Ec+pd[2]+Va,Ad+Oa,id+Va);ed=qc+pd[1];Zc=Ec+pd[2];qc=Ad;Ec=id;break;case "S":Ad=pd[3];id=pd[4];ed=2*qc-ed;Zc=2*Ec-Zc;Y.bezierCurveTo(ed+Oa,Zc+Va,pd[1]+Oa,pd[2]+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=pd[1];Zc=pd[2];break;case "q":Ad=qc+pd[3];id=Ec+pd[4];ed=qc+pd[1];Zc=Ec+pd[2];Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "Q":Ad=pd[3];id=pd[4];Y.quadraticCurveTo(pd[1]+Oa,pd[2]+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=pd[1];Zc=pd[2];break;
case "t":Ad=qc+pd[1];id=Ec+pd[2];null===Zb[0].match(/[QqTt]/)?(ed=qc,Zc=Ec):"t"===Zb[0]?(ed=2*qc-ob,Zc=2*Ec-zb):"q"===Zb[0]&&(ed=2*qc-ed,Zc=2*Ec-Zc);var ob=ed;var zb=Zc;Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=qc+pd[1];Zc=Ec+pd[2];break;case "T":Ad=pd[1];id=pd[2];ed=2*qc-ed;Zc=2*Ec-Zc;Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "a":e(Y,qc+Oa,Ec+Va,[pd[1],pd[2],pd[3],pd[4],pd[5],pd[6]+qc+Oa,pd[7]+Ec+Va]);qc+=pd[6];Ec+=pd[7];break;case "A":e(Y,qc+Oa,Ec+Va,[pd[1],
pd[2],pd[3],pd[4],pd[5],pd[6]+Oa,pd[7]+Va]);qc=pd[6];Ec=pd[7];break;case "z":case "Z":Y.closePath()}Zb=pd}}function e(Y,oa,Oa,Va){oa=f(Va[5],Va[6],Va[0],Va[1],Va[3],Va[4],Va[2],oa,Oa);for(Oa=0;Oa<oa.length;++Oa){a:{var xb=oa[Oa];Va=Fe.call(xb);if(kc[Va]){Va=kc[Va];break a}var Sb=xb[0],Zb=xb[1],qc=xb[2],Ec=xb[3],ed=xb[4],Zc=xb[5],Pd=xb[6],be=xb[7];xb=be*ed;const Ad=-Pd*Zc;ed*=Pd;Zc*=be;var pd=Math.cos(qc);const id=Math.sin(qc);Pd=Math.cos(Ec);be=Math.sin(Ec);qc=.5*(Ec-qc);Ec=Math.sin(.5*qc);Ec=8/3*
Ec*Ec/Math.sin(qc);qc=Sb+pd-Ec*id;pd=Zb+id+Ec*pd;Sb+=Pd;Zb+=be;be=Sb+Ec*be;Pd=Zb-Ec*Pd;Va=kc[Va]=[xb*qc+Ad*pd,ed*qc+Zc*pd,xb*be+Ad*Pd,ed*be+Zc*Pd,xb*Sb+Ad*Zb,ed*Sb+Zc*Zb]}Y.bezierCurveTo(Va[0],Va[1],Va[2],Va[3],Va[4],Va[5])}}function n(Y){return l.hasOwnProperty(lf,Y)?lf[Y]:y(Y)}function y(Y){if(!l.hasOwnProperty(Yf,Y)){const oa=d(Y);Yf[Y]={draw:function(Oa,Va){a(Oa,oa,0,0,Math.sqrt(Va)/2)}}}return Yf[Y]}function B(Y){return Y.x}function D(Y){return Y.y}function O(Y){return Y.width}function M(Y){return Y.height}
function F(Y){return"function"===typeof Y?Y:()=>+Y}function z(Y,oa,Oa){return Math.max(oa,Math.min(Y,Oa))}function G(){function Y(Zc,Pd,be){var pd;Pd=null!=Pd?Pd:+oa.call(this,Zc);be=null!=be?be:+Oa.call(this,Zc);var Ad=+Va.call(this,Zc),id=+xb.call(this,Zc),af=Math.min(Ad,id)/2,Wa=z(+Sb.call(this,Zc),0,af),ob=z(+Zb.call(this,Zc),0,af),zb=z(+qc.call(this,Zc),0,af);Zc=z(+Ec.call(this,Zc),0,af);ed||(ed=pd=H.path());0>=Wa&&0>=ob&&0>=zb&&0>=Zc?ed.rect(Pd,be,Ad,id):(Ad=Pd+Ad,id=be+id,ed.moveTo(Pd+Wa,be),
ed.lineTo(Ad-ob,be),ed.bezierCurveTo(Ad-.448084975506*ob,be,Ad,be+.448084975506*ob,Ad,be+ob),ed.lineTo(Ad,id-Zc),ed.bezierCurveTo(Ad,id-.448084975506*Zc,Ad-.448084975506*Zc,id,Ad-Zc,id),ed.lineTo(Pd+zb,id),ed.bezierCurveTo(Pd+.448084975506*zb,id,Pd,id-.448084975506*zb,Pd,id-zb),ed.lineTo(Pd,be+Wa),ed.bezierCurveTo(Pd,be+.448084975506*Wa,Pd+.448084975506*Wa,be,Pd+Wa,be),ed.closePath());if(pd)return ed=null,pd+""||null}var oa=B,Oa=D,Va=O,xb=M,Sb=F(0),Zb=Sb,qc=Sb,Ec=Sb,ed=null;Y.x=function(Zc){return arguments.length?
(oa=F(Zc),Y):oa};Y.y=function(Zc){return arguments.length?(Oa=F(Zc),Y):Oa};Y.width=function(Zc){return arguments.length?(Va=F(Zc),Y):Va};Y.height=function(Zc){return arguments.length?(xb=F(Zc),Y):xb};Y.cornerRadius=function(Zc,Pd,be,pd){return arguments.length?(Sb=F(Zc),Zb=null!=Pd?F(Pd):Sb,Ec=null!=be?F(be):Sb,qc=null!=pd?F(pd):Zb,Y):Sb};Y.context=function(Zc){return arguments.length?(ed=null==Zc?null:Zc,Y):ed};return Y}function K(){function Y(Zc){var Pd,be=Zc.length,pd,Ad=!1,id;null==Sb&&(Sb=id=
H.path());for(Pd=0;Pd<=be;++Pd)if(!(Pd<be&&xb(pd=Zc[Pd],Pd,Zc))===Ad&&(Ad=!Ad)&&(Zb=0),Ad){{var af=+oa(pd,Pd,Zc),Wa=+Oa(pd,Pd,Zc);const r=+Va(pd,Pd,Zc)/2;if(Zb){var ob=Ec-Wa,zb=af-qc;if(ob||zb){var Mb=Math.sqrt(ob*ob+zb*zb),bc=(ob/=Mb)*ed;Mb=(zb/=Mb)*ed;var Kc=Math.atan2(zb,ob);Sb.moveTo(qc-bc,Ec-Mb);Sb.lineTo(af-ob*r,Wa-zb*r);Sb.arc(af,Wa,r,Kc-Math.PI,Kc);Sb.lineTo(qc+bc,Ec+Mb);Sb.arc(qc,Ec,ed,Kc,Kc+Math.PI)}else Sb.arc(af,Wa,r,0,Gc);Sb.closePath()}else Zb=1;qc=af;Ec=Wa;ed=r}}if(id)return Sb=null,
id+""||null}var oa,Oa,Va,xb,Sb=null,Zb,qc,Ec,ed;Y.x=function(Zc){return arguments.length?(oa=Zc,Y):oa};Y.y=function(Zc){return arguments.length?(Oa=Zc,Y):Oa};Y.size=function(Zc){return arguments.length?(Va=Zc,Y):Va};Y.defined=function(Zc){return arguments.length?(xb=Zc,Y):xb};Y.context=function(Zc){return arguments.length?(Sb=null==Zc?null:Zc,Y):Sb};return Y}function R(Y,oa){return null!=Y?Y:oa}function T(Y){return Y.cornerRadius||Y.cornerRadiusTopLeft||Y.cornerRadiusTopRight||Y.cornerRadiusBottomRight||
Y.cornerRadiusBottomLeft}function ja(Y,oa,Oa,Va){return Za.context(Y)(oa,Oa,Va)}function fa(Y,oa,Oa){var Va=oa.clip;Y=Y._defs;oa=oa.clip_id||(oa.clip_id="clip"+Yb++);Y=Y.clipping[oa]||(Y.clipping[oa]={id:oa});l.isFunction(Va)?Y.path=Va(null):T(Oa)?Y.path=ja(null,Oa,0,0):(Y.width=Oa.width||0,Y.height=Oa.height||0);return"url(#"+oa+")"}function ha(Y){this.clear();Y&&this.union(Y)}function la(Y){this.mark=Y;this.bounds=this.bounds||new ha}function Z(Y){la.call(this,Y);this.items=this.items||[]}function P(Y){this._pending=
0;this._loader=Y||x.loader()}function C(Y,oa,Oa){if(oa.stroke&&0!==oa.opacity&&0!==oa.strokeOpacity){const Va=null!=oa.strokeWidth?+oa.strokeWidth:1;Y.expand(Va+(Oa?oa.strokeJoin&&"miter"!==oa.strokeJoin?0:Va:0))}return Y}function V(Y,oa){Oc=Y;oa?(Nd=oa*Ye,od=Qd=Math.cos(Nd),Id=Math.sin(Nd),jd=-Id):(od=Qd=1,Nd=Id=jd=0);return uf}function ia(Y,oa,Oa,Va){Oa=(Y-oa)/(Y+Oa-2*oa);0<Oa&&1>Oa&&Va(Y+(oa-Y)*Oa)}function aa(Y,oa,Oa,Va,xb){const Sb=Va-Y+3*oa-3*Oa,Zb=Y+Oa-2*oa;var qc=Y-oa;let Ec=0,ed=0;1E-14<
Math.abs(Sb)?(qc=Zb*Zb+qc*Sb,0<=qc&&(qc=Math.sqrt(qc),Ec=(-Zb+qc)/Sb,ed=(-Zb-qc)/Sb)):Ec=.5*qc/Zb;0<Ec&&1>Ec&&xb(ya(Ec,Y,oa,Oa,Va));0<ed&&1>ed&&xb(ya(ed,Y,oa,Oa,Va))}function ya(Y,oa,Oa,Va,xb){const Sb=1-Y,Zb=Sb*Sb,qc=Y*Y;return Zb*Sb*oa+3*Zb*Y*Oa+3*Sb*qc*Va+qc*Y*xb}function va(Y){return function(oa,Oa){if(!mf)return!0;Y(mf,oa);Zf.clear().union(oa.bounds).intersect(Oa).round();const {x1:Va,y1:xb,x2:Sb,y2:Zb}=Zf;for(oa=xb;oa<=Zb;++oa)for(Oa=Va;Oa<=Sb;++Oa)if(mf.isPointInPath(Oa,oa))return!0;return!1}}
function Ia(Y,oa){return oa.contains(Y.x||0,Y.y||0)}function bb(Y,oa){const Oa=Y.x||0,Va=Y.y||0;return oa.intersects(Zf.set(Oa,Va,Oa+(Y.width||0),Va+(Y.height||0)))}function kb(Y,oa){const Oa=Y.x||0,Va=Y.y||0;return ua(oa,Oa,Va,null!=Y.x2?Y.x2:Oa,null!=Y.y2?Y.y2:Va)}function ua(Y,oa,Oa,Va,xb){const {x1:Sb,y1:Zb,x2:qc,y2:Ec}=Y;Y=Va-oa;xb-=Oa;Va=0;let ed=1,Zc,Pd,be,pd;for(pd=0;4>pd;++pd){0===pd&&(Zc=-Y,Pd=-(Sb-oa));1===pd&&(Zc=Y,Pd=qc-oa);2===pd&&(Zc=-xb,Pd=-(Zb-Oa));3===pd&&(Zc=xb,Pd=Ec-Oa);if(1E-10>
Math.abs(Zc)&&0>Pd)return!1;be=Pd/Zc;if(0>Zc){if(be>ed)return!1;be>Va&&(Va=be)}else if(0<Zc){if(be<Va)return!1;be<ed&&(ed=be)}}return!0}function Ta(Y,oa){Y.globalCompositeOperation=oa.blend||"source-over"}function Ya(Y,oa){return null==Y?oa:Y}function Da(Y,oa){const Oa=oa.length;for(let Va=0;Va<Oa;++Va)Y.addColorStop(oa[Va].offset,oa[Va].color);return Y}function ta(Y,oa,Oa){const Va=Oa.width(),xb=Oa.height();if("radial"===oa.gradient)Y=Y.createRadialGradient(Oa.x1+Ya(oa.x1,.5)*Va,Oa.y1+Ya(oa.y1,.5)*
xb,Math.max(Va,xb)*Ya(oa.r1,0),Oa.x1+Ya(oa.x2,.5)*Va,Oa.y1+Ya(oa.y2,.5)*xb,Math.max(Va,xb)*Ya(oa.r2,.5));else{const Sb=Ya(oa.x1,0),Zb=Ya(oa.y1,0),qc=Ya(oa.x2,1),Ec=Ya(oa.y2,0);if(Sb===qc||Zb===Ec||Va===xb)Y=Y.createLinearGradient(Oa.x1+Sb*Va,Oa.y1+Zb*xb,Oa.x1+qc*Va,Oa.y1+Ec*xb);else{Oa=N.canvas(Math.ceil(Va),Math.ceil(xb));const ed=Oa.getContext("2d");ed.scale(Va,xb);ed.fillStyle=Da(ed.createLinearGradient(Sb,Zb,qc,Ec),oa.stops);ed.fillRect(0,0,Va,xb);return Y.createPattern(Oa,"no-repeat")}}return Da(Y,
oa.stops)}function U(Y,oa,Oa){Oa*=null==oa.fillOpacity?1:oa.fillOpacity;return 0<Oa?(Y.globalAlpha=Oa,oa=(Oa=oa.fill)&&Oa.gradient?ta(Y,Oa,oa.bounds):Oa,Y.fillStyle=oa,!0):!1}function W(Y,oa,Oa){var Va=null!=(Va=oa.strokeWidth)?Va:1;if(0>=Va)return!1;Oa*=null==oa.strokeOpacity?1:oa.strokeOpacity;return 0<Oa?(Y.globalAlpha=Oa,Oa=(Oa=oa.stroke)&&Oa.gradient?ta(Y,Oa,oa.bounds):Oa,Y.strokeStyle=Oa,Y.lineWidth=Va,Y.lineCap=oa.strokeCap||"butt",Y.lineJoin=oa.strokeJoin||"miter",Y.miterLimit=oa.strokeMiterLimit||
10,Y.setLineDash&&(Y.setLineDash(oa.strokeDash||yf),Y.lineDashOffset=oa.strokeDashOffset||0),!0):!1}function ba(Y,oa){return Y.zindex-oa.zindex||Y.index-oa.index}function ca(Y){if(!Y.zdirty)return Y.zitems;var oa=Y.items,Oa=[],Va;var xb=0;for(Va=oa.length;xb<Va;++xb){var Sb=oa[xb];Sb.index=xb;Sb.zindex&&Oa.push(Sb)}Y.zdirty=!1;return Y.zitems=Oa.sort(ba)}function ra(Y,oa){var Oa=Y.items,Va;if(Oa&&Oa.length){var xb=ca(Y);if(xb&&xb.length){Y=0;for(Va=Oa.length;Y<Va;++Y)Oa[Y].zindex||oa(Oa[Y]);Oa=xb}Y=
0;for(Va=Oa.length;Y<Va;++Y)oa(Oa[Y])}}function qa(Y,oa){var Oa=Y.items,Va,xb;if(!Oa||!Oa.length)return null;const Sb=ca(Y);Sb&&Sb.length&&(Oa=Sb);for(xb=Oa.length;0<=--xb;)if(Va=oa(Oa[xb]))return Va;if(Oa===Sb)for(Oa=Y.items,xb=Oa.length;0<=--xb;)if(!Oa[xb].zindex&&(Va=oa(Oa[xb])))return Va;return null}function Fa(Y){return function(oa,Oa,Va){ra(Oa,xb=>{Va&&!Va.intersects(xb.bounds)||Ra(Y,oa,xb,xb)})}}function na(Y){return function(oa,Oa,Va){!Oa.items.length||Va&&!Va.intersects(Oa.bounds)||Ra(Y,
oa,Oa.items[0],Oa.items)}}function Ra(Y,oa,Oa,Va){var xb=null==Oa.opacity?1:Oa.opacity;0===xb||Y(oa,Va)||(Ta(oa,Oa),Oa.fill&&U(oa,Oa,xb)&&oa.fill(),Oa.stroke&&W(oa,Oa,xb)&&oa.stroke())}function db(Y){Y=Y||l.truthy;return function(oa,Oa,Va,xb,Sb,Zb){Va*=oa.pixelRatio;xb*=oa.pixelRatio;return qa(Oa,qc=>{const Ec=qc.bounds;if((!Ec||Ec.contains(Sb,Zb))&&Ec&&Y(oa,qc,Va,xb,Sb,Zb))return qc})}}function $a(Y,oa){return function(Oa,Va,xb,Sb){var Zb=Array.isArray(Va)?Va[0]:Va,qc=null==oa?Zb.fill:oa,Ec=Zb.stroke&&
Oa.isPointInStroke;if(Ec){var ed=Zb.strokeWidth;Zb=Zb.strokeCap;Oa.lineWidth=null!=ed?ed:1;Oa.lineCap=null!=Zb?Zb:"butt"}return Y(Oa,Va)?!1:qc&&Oa.isPointInPath(xb,Sb)||Ec&&Oa.isPointInStroke(xb,Sb)}}function Ca(Y,oa){return"translate("+Y+","+oa+")"}function Ga(Y,oa,Oa){function Va(xb,Sb){var Zb=Sb.x||0,qc=Sb.y||0,Ec=Sb.angle||0;xb.translate(Zb,qc);Ec&&xb.rotate(Ec*=Ye);xb.beginPath();oa(xb,Sb);Ec&&xb.rotate(-Ec);xb.translate(-Zb,-qc)}return{type:Y,tag:"path",nested:!1,attr:function(xb,Sb){var Zb=
Ca(Sb.x||0,Sb.y||0)+(Sb.angle?" rotate("+(Sb.angle+")"):"");xb("transform",Zb);xb("d",oa(null,Sb))},bound:function(xb,Sb){oa(V(xb,Sb.angle),Sb);return C(xb,Sb).translate(Sb.x||0,Sb.y||0)},draw:Fa(Va),pick:db($a(Va)),isect:Oa||va(Va)}}function pa(Y,oa,Oa){function Va(Sb,Zb){Sb.beginPath();oa(Sb,Zb)}const xb=$a(Va);return{type:Y,tag:"path",nested:!0,attr:function(Sb,Zb){Zb=Zb.mark.items;Zb.length&&Sb("d",oa(null,Zb))},bound:function(Sb,Zb){Zb=Zb.items;if(0===Zb.length)return Sb;oa(V(Sb),Zb);return C(Sb,
Zb[0])},draw:na(Va),pick:function(Sb,Zb,qc,Ec,ed,Zc){var Pd=Zb.items;Zb=Zb.bounds;if(!Pd||!Pd.length||Zb&&!Zb.contains(ed,Zc))return null;qc*=Sb.pixelRatio;Ec*=Sb.pixelRatio;return xb(Sb,Pd,qc,Ec)?Pd[0]:null},isect:Ia,tip:Oa}}function Ha(Y,oa){Y.beginPath();T(oa)?ja(Y,oa,0,0):Y.rect(0,0,oa.width||0,oa.height||0);Y.clip()}function Ua(Y){const oa=Ya(Y.strokeWidth,1);return null!=Y.strokeOffset?Y.strokeOffset:Y.stroke&&.5<oa&&1.5>oa?.5-Math.abs(oa-1):0}function jb(Y,oa,Oa,Va){const xb=Ua(oa);Y.beginPath();
ja(Y,oa,(Oa||0)+xb,(Va||0)+xb)}function Fb(Y,oa){var Oa=Y.image;if(!Oa||Y.url&&Y.url!==Oa.url)Oa={complete:!1,width:0,height:0},oa.loadImage(Y.url).then(Va=>{Y.image=Va;Y.image.url=Y.url});return Oa}function Xb(Y,oa){return null!=Y.width?Y.width:oa&&oa.width?!1!==Y.aspect&&Y.height?Y.height*oa.width/oa.height:oa.width:0}function nc(Y,oa){return null!=Y.height?Y.height:oa&&oa.height?!1!==Y.aspect&&Y.width?Y.width*oa.height/oa.width:oa.height:0}function md(Y,oa){return"center"===Y?oa/2:"right"===Y?
oa:0}function pc(Y,oa){return"middle"===Y?oa/2:"bottom"===Y?oa:0}function Hc(Y,oa){var Oa=oa.path;if(null==Oa)return!0;var Va=oa.x||0,xb=oa.y||0,Sb=oa.scaleX||1,Zb=oa.scaleY||1,qc=(oa.angle||0)*Ye,Ec=oa.pathCache;Ec&&Ec.path===Oa||((oa.pathCache=Ec=d(Oa)).path=Oa);qc&&Y.rotate&&Y.translate?(Y.translate(Va,xb),Y.rotate(qc),a(Y,Ec,0,0,Sb,Zb),Y.rotate(-qc),Y.translate(-Va,-xb)):a(Y,Ec,Va,xb,Sb,Zb)}function mb(Y,oa){Y.beginPath();ja(Y,oa)}function hc(Y,oa,Oa){if(oa.stroke&&W(Y,oa,Oa)){Oa=oa.x||0;var Va=
oa.y||0;var xb=null!=oa.x2?oa.x2:Oa;oa=null!=oa.y2?oa.y2:Va;Y.beginPath();Y.moveTo(Oa,Va);Y.lineTo(xb,oa);return!0}return!1}function jc(Y){Gd.width=Y&&mf?Pc:rc}function rc(Y,oa){oa=Fd(Y,oa);Y=Uc(Y);return~~(.8*oa.length*Y)}function Pc(Y,oa){return 0>=Uc(Y)||!(oa=Fd(Y,oa))?0:sc(oa,vd(Y))}function sc(Y,oa){const Oa=`(${oa}) ${Y}`;let Va=je.get(Oa);void 0===Va&&(mf.font=oa,Va=mf.measureText(Y).width,je.set(Oa,Va));return Va}function Uc(Y){return null!=Y.fontSize?+Y.fontSize||0:11}function Sc(Y){return null!=
Y.lineHeight?Y.lineHeight:Uc(Y)+2}function Lc(Y){Y=Y.lineBreak&&Y.text&&!l.isArray(Y.text)?Y.text.split(Y.lineBreak):Y.text;return l.isArray(Y)?1<Y.length?Y:Y[0]:Y}function Fd(Y,oa){oa=null==oa?"":(oa+"").trim();if(0<Y.limit&&oa.length){var Oa=+Y.limit,Va=ge(Y);if(!(Va(oa)<Oa)){var xb=Y.ellipsis||"…",Sb="rtl"===Y.dir;Y=0;var Zb=oa.length;Oa-=Va(xb);if(Sb){for(;Y<Zb;)Sb=Y+Zb>>>1,Va(oa.slice(Sb))>Oa?Y=Sb+1:Zb=Sb;oa=xb+oa.slice(Y)}else{for(;Y<Zb;)Sb=1+(Y+Zb>>>1),Va(oa.slice(0,Sb))<Oa?Y=Sb:Zb=Sb-1;oa=
oa.slice(0,Y)+xb}}}return oa}function ge(Y){if(Gd.width===Pc){const oa=vd(Y);return Oa=>sc(Oa,oa)}{const oa=Uc(Y);return Oa=>~~(.8*Oa.length*oa)}}function wd(Y,oa){Y=Y.font;return(oa&&Y?String(Y).replace(/"/g,"'"):Y)||"sans-serif"}function vd(Y,oa){return(Y.fontStyle?Y.fontStyle+" ":"")+(Y.fontVariant?Y.fontVariant+" ":"")+(Y.fontWeight?Y.fontWeight+" ":"")+Uc(Y)+"px "+wd(Y,oa)}function Wd(Y){var oa=Y.baseline,Oa=Uc(Y);return Math.round("top"===oa?.79*Oa:"middle"===oa?.3*Oa:"bottom"===oa?-.21*Oa:
"line-top"===oa?.29*Oa+.5*Sc(Y):"line-bottom"===oa?.29*Oa-.5*Sc(Y):0)}function Pb(Y){var oa=Y.x||0,Oa=Y.y||0,Va=Y.radius||0;Va&&(Y=(Y.theta||0)-Xf,oa+=Va*Math.cos(Y),Oa+=Va*Math.sin(Y));$d.x1=oa;$d.y1=Oa;return $d}function gc(Y,oa,Oa){var Va=Gd.height(oa),xb=oa.align,Sb=Pb(oa),Zb=Sb.x1;Sb=Sb.y1;var qc=oa.dx||0,Ec=(oa.dy||0)+Wd(oa)-Math.round(.8*Va),ed=Lc(oa);l.isArray(ed)?(Va+=Sc(oa)*(ed.length-1),ed=ed.reduce((Zc,Pd)=>Math.max(Zc,Gd.width(oa,Pd)),0)):ed=Gd.width(oa,ed);"center"===xb?qc-=ed/2:"right"===
xb&&(qc-=ed);Y.set(qc+=Zb,Ec+=Sb,qc+ed,Ec+Va);if(oa.angle&&!Oa)Y.rotate(oa.angle*Ye,Zb,Sb);else if(2===Oa)return Y.rotatedPoints(oa.angle*Ye,Zb,Sb);return Y}function Eb(Y,oa,Oa){var Va=Qe[Y.mark.marktype];oa=oa||Va.bound;Va.nested&&(Y=Y.mark);return oa(Y.bounds||(Y.bounds=new ha),Y,Oa)}function zc(Y,oa,Oa){var Va=Qe[Y.marktype],xb=Va.bound,Sb=Y.items,Zb=Sb&&Sb.length;if(Va.nested)return Zb?Y=Sb[0]:(Uf.mark=Y,Y=Uf),Oa=Eb(Y,xb,Oa),oa=oa&&oa.union(Oa)||Oa;oa=oa||Y.bounds&&Y.bounds.clear()||new ha;if(Zb)for(Va=
0,Zb=Sb.length;Va<Zb;++Va)oa.union(Eb(Sb[Va],xb,Oa));return Y.bounds=oa}function Vc(Y,oa){return JSON.stringify(Y,ne,oa)}function Ed(Y){Y="string"===typeof Y?JSON.parse(Y):Y;return Vd(Y)}function Vd(Y){var oa=Y.marktype,Oa=Y.items,Va;if(Oa){var xb=0;for(Va=Oa.length;xb<Va;++xb){var Sb=oa?"mark":"group";Oa[xb][Sb]=Y;Oa[xb].zindex&&(Oa[xb][Sb].zdirty=!0);"group"===(oa||Sb)&&Vd(Oa[xb])}}oa&&zc(Y);return Y}function Ka(Y){arguments.length?this.root=Ed(Y):(this.root=eb({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new Z(this.root)])}function eb(Y,oa){oa={bounds:new ha,clip:!!Y.clip,group:oa,interactive:!1===Y.interactive?!1:!0,items:[],marktype:Y.marktype,name:Y.name||void 0,role:Y.role||void 0,zindex:Y.zindex||0};null!=Y.aria&&(oa.aria=Y.aria);Y.description&&(oa.description=Y.description);return oa}function wb(Y,oa,Oa){!Y&&"undefined"!==typeof document&&document.createElement&&(Y=document);return Y?Oa?Y.createElementNS(Oa,oa):Y.createElement(oa):null}function Hb(Y,oa){oa=oa.toLowerCase();
Y=Y.childNodes;for(var Oa=0,Va=Y.length;Oa<Va;++Oa)if(Y[Oa].tagName.toLowerCase()===oa)return Y[Oa]}function ac(Y,oa,Oa,Va){oa=Y.childNodes[oa];if(!oa||oa.tagName.toLowerCase()!==Oa.toLowerCase()){var xb=oa||null;oa=wb(Y.ownerDocument,Oa,Va);Y.insertBefore(oa,xb)}return oa}function Lb(Y,oa){for(var Oa=Y.childNodes,Va=Oa.length;Va>oa;)Y.removeChild(Oa[--Va]);return Y}function Ac(Y){return"mark-"+Y.marktype+(Y.role?" role-"+Y.role:"")+(Y.name?" "+Y.name:"")}function tc(Y,oa){const Oa=oa.getBoundingClientRect();
return[Y.clientX-Oa.left-(oa.clientLeft||0),Y.clientY-Oa.top-(oa.clientTop||0)]}function pb(Y,oa){this._active=null;this._handlers={};this._loader=Y||x.loader();this._tooltip=oa||Bb}function Bb(Y,oa,Oa,Va){Y.element().setAttribute("title",Va||"")}function Ub(Y){this._bgcolor=this._el=null;this._loader=new P(Y)}function mc(Y,oa){pb.call(this,Y,oa);this._touch=this._down=null;this._first=!0;this._events={}}function Bc(Y,oa){("touchstart"===oa||"touchmove"===oa||"touchend"===oa?["touchstart","touchmove",
"touchend"]:[oa]).forEach(Oa=>Cc(Y,Oa))}function Cc(Y,oa){const Oa=Y.canvas();Oa&&!Y._events[oa]&&(Y._events[oa]=1,Oa.addEventListener(oa,Y[oa]?Va=>Y[oa](Va):Va=>Y.fire(oa,Va)))}function Xc(Y,oa,Oa){return function(Va){const xb=this._active,Sb=this.pickEvent(Va);Sb!==xb&&(xb&&xb.exit||this.fire(Oa,Va),this._active=Sb,this.fire(oa,Va));this.fire(Y,Va)}}function Qb(Y){return function(oa){this.fire(Y,oa);this._active=null}}function Ic(Y){Ub.call(this,Y);this._options={};this._redraw=!1;this._dirty=new ha;
this._tempb=new ha}function Dc(Y,oa){pb.call(this,Y,oa);const Oa=this;Oa._hrefHandler=Bg(Oa,(Va,xb)=>{xb&&xb.href&&Oa.handleHref(Va,xb,xb.href)});Oa._tooltipHandler=Bg(Oa,(Va,xb)=>{Oa.handleTooltip(Va,xb,"mouseout"!==Va.type)})}function uc(Y,oa){var Oa=!1===oa.aria;Y("aria-hidden",Oa||void 0);if(Oa||null==oa.description)for(const Va in za)Y(za[Va],void 0);else Oa=oa.mark.marktype,Y("aria-label",oa.description),Y("role",oa.ariaRole||("group"===Oa?"graphics-object":"graphics-symbol")),Y("aria-roledescription",
oa.ariaRoleDescription||`${Oa} mark`)}function Tc(Y){return!1===Y.aria?{["aria-hidden"]:!0}:jg[Y.role]?null:xa[Y.role]?ld(Y,xa[Y.role]):ad(Y)}function ad(Y){const oa=Y.marktype,Oa="group"===oa||"text"===oa||Y.items.some(Va=>null!=Va.description&&!1!==Va.aria);return Lf(Oa?"graphics-object":"graphics-symbol",`${oa} mark container`,Y.description)}function ld(Y,oa){try{const Oa=Y.items[0],Va=oa.caption||(()=>"");return Lf(oa.role||"graphics-symbol",oa.desc,Oa.description||Va(Oa))}catch(Oa){return null}}
function Cd(Y){try{return l.array(l.peek(Y.items).items[0].text).join(" ")}catch(oa){return null}}function Dd(Y){Y=Y.map(oa=>oa+("fill"===oa||"stroke"===oa?" color":""));return 2>Y.length?Y[0]:Y.slice(0,-1).join(", ")+" and "+l.peek(Y)}function Ud(){let Y="",oa="",Oa="";const Va=[],xb=(Zb,qc)=>{null!=qc&&(oa+=` ${Zb}="${Na(qc).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Sb},Sb={open(Zb,...qc){oa&&(Y+=`${oa}>${Oa}`,oa=Oa="");Va.push(Zb);
oa="\x3c"+Zb;for(const Ec of qc)for(const ed in Ec)xb(ed,Ec[ed]);return Sb},close(){const Zb=Va.pop();Y=oa?Y+(oa+(Oa?`>${Oa}</${Zb}>`:"/\x3e")):Y+`</${Zb}>`;oa=Oa="";return Sb},attr:xb,text:Zb=>(Oa+=Na(Zb),Sb),toString:()=>Y};return Sb}function ae(Y,oa){Y.open(oa.tagName);if(oa.hasAttributes()){var Oa=oa.attributes,Va=Oa.length;for(var xb=0;xb<Va;++xb)Y.attr(Oa[xb].name,Oa[xb].value)}if(oa.hasChildNodes())for(oa=oa.childNodes,Oa=oa.length,Va=0;Va<Oa;Va++)xb=oa[Va],3===xb.nodeType?Y.text(xb.nodeValue):
ae(Y,xb);return Y.close()}function oe(Y){Ub.call(this,Y);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function De(Y,oa){for(;Y&&Y.dirty!==oa;Y=Y.mark.group)if(Y.dirty=oa,Y.mark&&Y.mark.dirty!==oa)Y.mark.dirty=oa;else break}function fe(Y,oa,Oa){oa=oa.lastChild.previousSibling;let Va,xb=0;ra(Oa,Sb=>{Va=Y.mark(oa,Sb,Va);++xb});Lb(oa,1+xb)}function ef(Y,oa,Oa,Va,xb){let Sb=Y._svg;if(!Sb){var Zb=oa.ownerDocument;Sb=wb(Zb,Va,qb);Y._svg=Sb;Y.mark&&(Sb.__data__=Y,Sb.__values__={fill:"default"},
"g"===Va&&(Va=wb(Zb,"path",qb),Sb.appendChild(Va),Va.__data__=Y,Va=wb(Zb,"g",qb),Sb.appendChild(Va),Va.__data__=Y,Zb=wb(Zb,"path",qb),Sb.appendChild(Zb),Zb.__data__=Y,Zb.__values__={fill:"default"}))}(Sb.ownerSVGElement!==xb||Sb.parentNode&&1<Sb.parentNode.childNodes.length&&Sb.previousSibling!=Oa)&&oa.insertBefore(Sb,Oa?Oa.nextSibling:oa.firstChild);return Sb}function Ze(Y,oa,Oa){if(oa!==Kb[Y]){if(Oa){var Va=Ab;null!=oa?Va.setAttributeNS(Oa,Y,oa):Va.removeAttributeNS(Oa,Y)}else he(Ab,Y,oa);Kb[Y]=
oa}}function df(Y,oa,Oa){Oa!==Kb[oa]&&(null==Oa?Y.style.removeProperty(oa):Y.style.setProperty(oa,Oa+""),Kb[oa]=Oa)}function Zd(Y,oa){for(const Oa in oa)he(Y,Oa,oa[Oa])}function he(Y,oa,Oa){null!=Oa?Y.setAttribute(oa,Oa):Y.removeAttribute(oa)}function zf(){let Y;return"undefined"===typeof window?"":(Y=window.location).hash?Y.href.slice(0,-Y.hash.length):Y.href}function Ue(Y){Ub.call(this,Y);this._text=null;this._defs={gradient:{},clipping:{}}}function Nf(Y,oa,Oa,Va,xb){if(null==oa)return Y;"bgrect"===
Va&&!1===Oa.interactive&&(Y["pointer-events"]="none");if("bgfore"===Va&&(!1===Oa.interactive&&(Y["pointer-events"]="none"),Y.display="none",null!==oa.fill))return Y;"image"===Va&&!1===oa.smooth&&(Y.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===Va&&(Y["font-family"]=wd(oa),Y["font-size"]=Uc(oa)+"px",Y["font-style"]=oa.fontStyle,Y["font-variant"]=oa.fontVariant,Y["font-weight"]=oa.fontWeight);for(const Sb in fb)Oa=oa[Sb],Va=fb[Sb],("transparent"!==Oa||"fill"!==Va&&"stroke"!==
Va)&&null!=Oa&&(Oa&&Oa.gradient&&(Oa=u(Oa,xb.gradient,"")),Y[Va]=Oa);return Y}function me(Y,oa,Oa,Va){if(Y.bounds&&oa.intersects(Y.bounds)&&("group"===Y.marktype||!1!==Y.interactive&&(!Oa||Oa(Y)))){const Sb=Y.items;var xb=Y.marktype;Y=Sb.length;let Zb=0;if("group"===xb)for(;Zb<Y;++Zb)te(Sb[Zb],oa,Oa,Va);else for(Oa=Qe[xb].isect;Zb<Y;++Zb)xb=Sb[Zb],kf(xb,oa,Oa)&&Va.push(xb)}return Va}function te(Y,oa,Oa,Va){Oa&&Oa(Y.mark)&&kf(Y,oa,Qe.group.isect)&&Va.push(Y);const xb=Y.items,Sb=xb&&xb.length;if(Sb){const Zb=
Y.x||0;Y=Y.y||0;oa.translate(-Zb,-Y);for(let qc=0;qc<Sb;++qc)me(xb[qc],oa,Oa,Va);oa.translate(Zb,Y)}return Va}function kf(Y,oa,Oa){const Va=Y.bounds;return oa.encloses(Va)||oa.intersects(Va)&&Oa(Y,oa)}function we(Y,oa,Oa){return Y===oa?!0:"path"===Oa?Od(Y,oa):Y instanceof Date&&oa instanceof Date?+Y===+oa:l.isNumber(Y)&&l.isNumber(oa)?1E-9>=Math.abs(Y-oa):Y&&oa&&(l.isObject(Y)||l.isObject(oa))?Xd(Y,oa):Y==oa}function Od(Y,oa){return we(d(Y),d(oa))}function Xd(Y,oa){var Oa=Object.keys(Y),Va=Object.keys(oa),
xb;if(Oa.length!==Va.length)return!1;Oa.sort();Va.sort();for(xb=Oa.length-1;0<=xb;xb--)if(Oa[xb]!=Va[xb])return!1;for(xb=Oa.length-1;0<=xb;xb--)if(Va=Oa[xb],!we(Y[Va],oa[Va],Va))return!1;return typeof Y===typeof oa}let Be=0;const jf={basis:{curve:w.curveBasis},"basis-closed":{curve:w.curveBasisClosed},"basis-open":{curve:w.curveBasisOpen},bundle:{curve:w.curveBundle,tension:"beta",value:.85},cardinal:{curve:w.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:w.curveCardinalOpen,tension:"tension",
value:0},"cardinal-closed":{curve:w.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:w.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:w.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:w.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:w.curveLinear},"linear-closed":{curve:w.curveLinearClosed},monotone:{horizontal:w.curveMonotoneY,vertical:w.curveMonotoneX},natural:{curve:w.curveNatural},step:{curve:w.curveStep},"step-after":{curve:w.curveStepAfter},
"step-before":{curve:w.curveStepBefore}},Ge={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Td=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Ye=Math.PI/180,Xf=Math.PI/2,Gc=2*Math.PI,xe=Math.sqrt(3)/2;var le={},kc={},Fe=[].join;const ue=["l",0,0,0,0,0,0,0],lf={circle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(oa,0);Y.arc(0,0,oa,0,Gc)}},cross:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=oa/2.5;Y.moveTo(-oa,-Oa);Y.lineTo(-oa,Oa);Y.lineTo(-Oa,Oa);Y.lineTo(-Oa,oa);Y.lineTo(Oa,
oa);Y.lineTo(Oa,Oa);Y.lineTo(oa,Oa);Y.lineTo(oa,-Oa);Y.lineTo(Oa,-Oa);Y.lineTo(Oa,-oa);Y.lineTo(-Oa,-oa);Y.lineTo(-Oa,-Oa);Y.closePath()}},diamond:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(0,-oa);Y.lineTo(oa,0);Y.lineTo(0,oa);Y.closePath()}},square:{draw:function(Y,oa){oa=Math.sqrt(oa);var Oa=-oa/2;Y.rect(Oa,Oa,oa,oa)}},arrow:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=oa/7,Va=oa/2.5,xb=oa/8;Y.moveTo(-Oa,oa);Y.lineTo(Oa,oa);Y.lineTo(Oa,-xb);Y.lineTo(Va,-xb);Y.lineTo(0,-oa);
Y.lineTo(-Va,-xb);Y.lineTo(-Oa,-xb);Y.closePath()}},wedge:{draw:function(Y,oa){var Oa=Math.sqrt(oa)/2;oa=xe*Oa;var Va=oa-.5773502691896257*Oa;Oa/=4;Y.moveTo(0,-oa-Va);Y.lineTo(-Oa,oa-Va);Y.lineTo(Oa,oa-Va);Y.closePath()}},triangle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa,Va=Oa-.5773502691896257*oa;Y.moveTo(0,-Oa-Va);Y.lineTo(-oa,Oa-Va);Y.lineTo(oa,Oa-Va);Y.closePath()}},"triangle-up":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(0,-Oa);Y.lineTo(-oa,Oa);Y.lineTo(oa,Oa);
Y.closePath()}},"triangle-down":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(0,Oa);Y.lineTo(-oa,-Oa);Y.lineTo(oa,-Oa);Y.closePath()}},"triangle-right":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(Oa,0);Y.lineTo(-Oa,-oa);Y.lineTo(-Oa,oa);Y.closePath()}},"triangle-left":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(-Oa,0);Y.lineTo(Oa,-oa);Y.lineTo(Oa,oa);Y.closePath()}},stroke:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(oa,0)}}};
var Yf={};const If=Y=>Y.x||0,Sf=Y=>Y.y||0,Bf=Y=>!1!==Y.defined,qe=w.arc().startAngle(Y=>Y.startAngle||0).endAngle(Y=>Y.endAngle||0).padAngle(Y=>Y.padAngle||0).innerRadius(Y=>Y.innerRadius||0).outerRadius(Y=>Y.outerRadius||0).cornerRadius(Y=>Y.cornerRadius||0),yc=w.area().x(If).y1(Sf).y0(Y=>(Y.y||0)+(Y.height||0)).defined(Bf),wa=w.area().y(Sf).x1(If).x0(Y=>(Y.x||0)+(Y.width||0)).defined(Bf),Ea=w.line().x(If).y(Sf).defined(Bf),Za=G().x(If).y(Sf).width(Y=>Y.width||0).height(Y=>Y.height||0).cornerRadius(Y=>
R(Y.cornerRadiusTopLeft,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusTopRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomLeft,Y.cornerRadius)||0),Cb=w.symbol().type(Y=>n(Y.shape||"circle")).size(Y=>R(Y.size,64)),ub=K().x(If).y(Sf).defined(Bf).size(Y=>Y.size||1);var Yb=1;ha.prototype={clone(){return new ha(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===
+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(Y){return this.x1===Y.x1&&this.y1===Y.y1&&this.x2===Y.x2&&this.y2===Y.y2},set(Y,oa,Oa,Va){Oa<Y?(this.x2=Y,this.x1=Oa):(this.x1=Y,this.x2=Oa);Va<oa?(this.y2=oa,this.y1=Va):(this.y1=oa,this.y2=Va);return this},add(Y,oa){Y<this.x1&&(this.x1=Y);oa<this.y1&&(this.y1=oa);Y>this.x2&&(this.x2=Y);oa>this.y2&&(this.y2=oa);return this},expand(Y){this.x1-=Y;this.y1-=Y;this.x2+=Y;this.y2+=Y;return this},
round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(Y){this.x1*=Y;this.y1*=Y;this.x2*=Y;this.y2*=Y;return this},translate(Y,oa){this.x1+=Y;this.x2+=Y;this.y1+=oa;this.y2+=oa;return this},rotate(Y,oa,Oa){Y=this.rotatedPoints(Y,oa,Oa);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(Y,oa,Oa){var {x1:Va,y1:xb,x2:Sb,y2:Zb}=this,qc=Math.cos(Y);Y=Math.sin(Y);var Ec=oa-oa*qc+
Oa*Y;oa=Oa-oa*Y-Oa*qc;return[qc*Va-Y*xb+Ec,Y*Va+qc*xb+oa,qc*Va-Y*Zb+Ec,Y*Va+qc*Zb+oa,qc*Sb-Y*xb+Ec,Y*Sb+qc*xb+oa,qc*Sb-Y*Zb+Ec,Y*Sb+qc*Zb+oa]},union(Y){Y.x1<this.x1&&(this.x1=Y.x1);Y.y1<this.y1&&(this.y1=Y.y1);Y.x2>this.x2&&(this.x2=Y.x2);Y.y2>this.y2&&(this.y2=Y.y2);return this},intersect(Y){Y.x1>this.x1&&(this.x1=Y.x1);Y.y1>this.y1&&(this.y1=Y.y1);Y.x2<this.x2&&(this.x2=Y.x2);Y.y2<this.y2&&(this.y2=Y.y2);return this},encloses(Y){return Y&&this.x1<=Y.x1&&this.x2>=Y.x2&&this.y1<=Y.y1&&this.y2>=Y.y2},
alignsWith(Y){return Y&&(this.x1==Y.x1||this.x2==Y.x2||this.y1==Y.y1||this.y2==Y.y2)},intersects(Y){return Y&&!(this.x2<Y.x1||this.x1>Y.x2||this.y2<Y.y1||this.y1>Y.y2)},contains(Y,oa){return!(Y<this.x1||Y>this.x2||oa<this.y1||oa>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};l.inherits(Z,la);P.prototype={pending(){return this._pending},sanitizeURL(Y){const oa=this;oa._pending+=1;return oa._loader.sanitize(Y,{context:"href"}).then(Oa=>{--oa._pending;return Oa}).catch(()=>
{--oa._pending;return null})},loadImage(Y){const oa=this,Oa=N.image();oa._pending+=1;return oa._loader.sanitize(Y,{context:"image"}).then(Va=>{const xb=Va.href;if(!xb||!Oa)throw{url:xb};const Sb=new Oa;Va=l.hasOwnProperty(Va,"crossOrigin")?Va.crossOrigin:"anonymous";null!=Va&&(Sb.crossOrigin=Va);Sb.onload=()=>{--oa._pending};Sb.onerror=()=>{--oa._pending};Sb.src=xb;return Sb}).catch(Va=>{--oa._pending;return{complete:!1,width:0,height:0,src:Va&&Va.url||""}})},ready(){const Y=this;return new Promise(oa=>
{function Oa(Va){Y.pending()?setTimeout(()=>{Oa(!0)},10):oa(Va)}Oa(!1)})}};const $b=Gc-1E-8;let Oc,gd,Mc,Nd,od,Id,jd,Qd;const ie=(Y,oa)=>{Y=gd=Y;oa=Mc=oa;return Oc.add(Y,oa)},Gf=Y=>Oc.add(Y,Oc.y1),tf=Y=>Oc.add(Oc.x1,Y),kd=(Y,oa)=>Oc.add(od*Y+jd*oa,Id*Y+Qd*oa),We=(Y,oa)=>ie(od*Y+jd*oa,Id*Y+Qd*oa),uf={beginPath(){},closePath(){},moveTo:We,lineTo:We,rect(Y,oa,Oa,Va){Nd?(kd(Y+Oa,oa),kd(Y+Oa,oa+Va),kd(Y,oa+Va),We(Y,oa)):(Oc.add(Y+Oa,oa+Va),ie(Y,oa))},quadraticCurveTo(Y,oa,Oa,Va){const xb=Id*Y+Qd*oa,Sb=
od*Oa+jd*Va;Oa=Id*Oa+Qd*Va;ia(gd,od*Y+jd*oa,Sb,Gf);ia(Mc,xb,Oa,tf);ie(Sb,Oa)},bezierCurveTo(Y,oa,Oa,Va,xb,Sb){const Zb=Id*Y+Qd*oa,qc=Id*Oa+Qd*Va,Ec=od*xb+jd*Sb;xb=Id*xb+Qd*Sb;aa(gd,od*Y+jd*oa,od*Oa+jd*Va,Ec,Gf);aa(Mc,Zb,qc,xb,tf);ie(Ec,xb)},arc(Y,oa,Oa,Va,xb,Sb){Va+=Nd;xb+=Nd;gd=Oa*Math.cos(xb)+Y;Mc=Oa*Math.sin(xb)+oa;if(Math.abs(xb-Va)>$b)Oc.add(Y-Oa,oa-Oa),Oc.add(Y+Oa,oa+Oa);else{const Zb=Ec=>Oc.add(Oa*Math.cos(Ec)+Y,Oa*Math.sin(Ec)+oa);let qc;Zb(Va);Zb(xb);if(xb!==Va)if(Va%=Gc,0>Va&&(Va+=Gc),xb%=
Gc,0>xb&&(xb+=Gc),xb<Va&&(Sb=!Sb,qc=Va,Va=xb,xb=qc),Sb)for(xb-=Gc,qc=Va-Va%Xf,Va=0;4>Va&&qc>xb;++Va,qc-=Xf)Zb(qc);else for(qc=Va-Va%Xf+Xf,Va=0;4>Va&&qc<xb;++Va,qc+=Xf)Zb(qc)}}};var mf=(mf=N.canvas(1,1))?mf.getContext("2d"):null;const Zf=new ha;var yf=[],Pe=Ga("arc",function(Y,oa){return qe.context(Y)(oa)}),nf=pa("area",function(Y,oa){const Oa=oa[0];return("horizontal"===Oa.orient?wa:yc).curve(g(Oa.interpolate||"linear",Oa.orient,Oa.tension)).context(Y)(oa)},function(Y,oa){oa="horizontal"===Y[0].orient?
oa[1]:oa[0];for(var Oa="horizontal"===Y[0].orient?"y":"x",Va=Y.length,xb=Infinity,Sb,Zb;0<=--Va;)!1!==Y[Va].defined&&(Zb=Math.abs(Y[Va][Oa]-oa),Zb<xb&&(xb=Zb,Sb=Y[Va]));return Sb});const Aa=$a(jb),Pa=$a(jb,!1),vb=$a(jb,!0);var Wb={type:"group",tag:"g",nested:!1,attr:function(Y,oa){Y("transform",Ca(oa.x||0,oa.y||0))},bound:function(Y,oa){if(!oa.clip&&oa.items){const Oa=oa.items,Va=Oa.length;for(let xb=0;xb<Va;++xb)Y.union(Oa[xb].bounds)}(oa.clip||oa.width||oa.height)&&!oa.noBound&&Y.add(0,0).add(oa.width||
0,oa.height||0);C(Y,oa);return Y.translate(oa.x||0,oa.y||0)},draw:function(Y,oa,Oa){ra(oa,Va=>{const xb=Va.x||0,Sb=Va.y||0,Zb=Va.strokeForeground,qc=null==Va.opacity?1:Va.opacity;(Va.stroke||Va.fill)&&qc&&(jb(Y,Va,xb,Sb),Ta(Y,Va),Va.fill&&U(Y,Va,qc)&&Y.fill(),Va.stroke&&!Zb&&W(Y,Va,qc)&&Y.stroke());Y.save();Y.translate(xb,Sb);Va.clip&&Ha(Y,Va);Oa&&Oa.translate(-xb,-Sb);ra(Va,Ec=>{this.draw(Y,Ec,Oa)});Oa&&Oa.translate(xb,Sb);Y.restore();Zb&&Va.stroke&&qc&&(jb(Y,Va,xb,Sb),Ta(Y,Va),W(Y,Va,qc)&&Y.stroke())})},
pick:function(Y,oa,Oa,Va,xb,Sb){if(oa.bounds&&!oa.bounds.contains(xb,Sb)||!oa.items)return null;const Zb=Oa*Y.pixelRatio,qc=Va*Y.pixelRatio;return qa(oa,Ec=>{let ed,Zc;var Pd=Ec.bounds;if(!Pd||Pd.contains(xb,Sb)){ed=Ec.x||0;Zc=Ec.y||0;Pd=ed+(Ec.width||0);var be=Zc+(Ec.height||0),pd=Ec.clip;if(!pd||!(xb<ed||xb>Pd||Sb<Zc||Sb>be)){Y.save();Y.translate(ed,Zc);ed=xb-ed;Zc=Sb-Zc;if(pd&&T(Ec)&&!vb(Y,Ec,Zb,qc))return Y.restore(),null;be=Ec.strokeForeground;if((pd=!1!==oa.interactive)&&be&&Ec.stroke&&Pa(Y,
Ec,Zb,qc))return Y.restore(),Ec;Pd=qa(Ec,Ad=>(!1!==Ad.interactive||"group"===Ad.marktype)&&Ad.bounds&&Ad.bounds.contains(ed,Zc)?this.pick(Ad,Oa,Va,ed,Zc):null);!Pd&&pd&&(Ec.fill||!be&&Ec.stroke)&&Aa(Y,Ec,Zb,qc)&&(Pd=Ec);Y.restore();return Pd||null}}})},isect:bb,content:function(Y,oa,Oa){oa=oa.clip?fa(Oa,oa,oa):null;Y("clip-path",oa)},background:function(Y,oa){Y("class","background");Y("aria-hidden",!0);{const Oa=Ua(oa);Y("d",ja(null,oa,Oa,Oa))}},foreground:function(Y,oa){Y("class","foreground");Y("aria-hidden",
!0);if(oa.strokeForeground){{const Oa=Ua(oa);Y("d",ja(null,oa,Oa,Oa))}}else Y("d","")}},Tb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},ic={type:"image",tag:"image",nested:!1,attr:function(Y,oa,Oa){var Va=Fb(oa,Oa);Oa=Xb(oa,Va);const xb=nc(oa,Va),Sb=(oa.x||0)-md(oa.align,Oa),Zb=(oa.y||0)-pc(oa.baseline,xb);Va=!Va.src&&Va.toDataURL?Va.toDataURL():Va.src||"";Y("href",Va,Tb["xmlns:xlink"],"xlink:href");Y("transform",Ca(Sb,Zb));Y("width",Oa);Y("height",
xb);Y("preserveAspectRatio",!1===oa.aspect?"none":"xMidYMid")},bound:function(Y,oa){var Oa=oa.image;const Va=Xb(oa,Oa);Oa=nc(oa,Oa);const xb=(oa.x||0)-md(oa.align,Va);oa=(oa.y||0)-pc(oa.baseline,Oa);return Y.set(xb,oa,xb+Va,oa+Oa)},draw:function(Y,oa,Oa){ra(oa,Va=>{if(!Oa||Oa.intersects(Va.bounds)){var xb=Fb(Va,this),Sb=Xb(Va,xb),Zb=nc(Va,xb),qc=(Va.x||0)-md(Va.align,Sb),Ec=(Va.y||0)-pc(Va.baseline,Zb),ed;if(!1!==Va.aspect){var Zc=xb.width/xb.height;var Pd=Va.width/Va.height;Zc===Zc&&Pd===Pd&&Zc!==
Pd&&(Pd<Zc?(Zc=Sb/Zc,Ec+=(Zb-Zc)/2,Zb=Zc):(Zc*=Zb,qc+=(Sb-Zc)/2,Sb=Zc))}if(xb.complete||xb.toDataURL)Ta(Y,Va),Y.globalAlpha=null!=(ed=Va.opacity)?ed:1,Y.imageSmoothingEnabled=!1!==Va.smooth,Y.drawImage(xb,qc,Ec,Sb,Zb)}})},pick:db(),isect:l.truthy,get:Fb,xOffset:md,yOffset:pc},oc=pa("line",function(Y,oa){const Oa=oa[0];return Ea.curve(g(Oa.interpolate||"linear",Oa.orient,Oa.tension)).context(Y)(oa)},function(Y,oa){for(var Oa=Math.pow(Y[0].strokeWidth||1,2),Va=Y.length,xb,Sb;0<=--Va;)if(!1!==Y[Va].defined&&
(xb=Y[Va].x-oa[0],Sb=Y[Va].y-oa[1],xb=xb*xb+Sb*Sb,xb<Oa))return Y[Va];return null}),fd={type:"path",tag:"path",nested:!1,attr:function(Y,oa){var Oa=oa.scaleY||1;1===(oa.scaleX||1)&&1===Oa||Y("vector-effect","non-scaling-stroke");Oa=Ca(oa.x||0,oa.y||0)+(oa.angle?" rotate("+(oa.angle+")"):"")+(oa.scaleX||oa.scaleY?" scale("+((oa.scaleX||1)+","+(oa.scaleY||1)+")"):"");Y("transform",Oa);Y("d",oa.path)},bound:function(Y,oa){return Hc(V(Y,oa.angle),oa)?Y.set(0,0,0,0):C(Y,oa,!0)},draw:Fa(Hc),pick:db($a(Hc)),
isect:va(Hc)},Wc={type:"rect",tag:"path",nested:!1,attr:function(Y,oa){Y("d",ja(null,oa))},bound:function(Y,oa){var Oa,Va;return C(Y.set(Oa=oa.x||0,Va=oa.y||0,Oa+oa.width||0,Va+oa.height||0),oa)},draw:Fa(mb),pick:db($a(mb)),isect:bb},nd={type:"rule",tag:"line",nested:!1,attr:function(Y,oa){Y("transform",Ca(oa.x||0,oa.y||0));Y("x2",null!=oa.x2?oa.x2-(oa.x||0):0);Y("y2",null!=oa.y2?oa.y2-(oa.y||0):0)},bound:function(Y,oa){var Oa,Va;return C(Y.set(Oa=oa.x||0,Va=oa.y||0,null!=oa.x2?oa.x2:Oa,null!=oa.y2?
oa.y2:Va),oa)},draw:function(Y,oa,Oa){ra(oa,Va=>{if(!Oa||Oa.intersects(Va.bounds)){var xb=null==Va.opacity?1:Va.opacity;xb&&hc(Y,Va,xb)&&(Ta(Y,Va),Y.stroke())}})},pick:db(function(Y,oa,Oa,Va){return Y.isPointInStroke?hc(Y,oa,1)&&Y.isPointInStroke(Oa,Va):!1}),isect:kb},Kd=Ga("shape",function(Y,oa){return(oa.mark.shape||oa.shape).context(Y)(oa)}),de=Ga("symbol",function(Y,oa){return Cb.context(Y)(oa)},Ia);const je=l.lruCache();var Gd={height:Uc,measureWidth:Pc,estimateWidth:rc,width:rc,canvas:jc};jc(!0);
const Le={left:"start",center:"middle",right:"end"},$d=new ha;var Ie={type:"text",tag:"text",nested:!1,attr:function(Y,oa){var Oa=oa.dx||0,Va=(oa.dy||0)+Wd(oa),xb=Pb(oa),Sb=xb.x1;xb=xb.y1;var Zb=oa.angle||0;Y("text-anchor",Le[oa.align]||"start");if(Zb){if(oa=Ca(Sb,xb)+" rotate("+(Zb+")"),Oa||Va)oa+=" "+Ca(Oa,Va)}else oa=Ca(Sb+Oa,xb+Va);Y("transform",oa)},bound:gc,draw:function(Y,oa,Oa){ra(oa,Va=>{var xb=null==Va.opacity?1:Va.opacity,Sb;if(!(Oa&&!Oa.intersects(Va.bounds)||0===xb||0>=Va.fontSize||null==
Va.text||0===Va.text.length)){Y.font=vd(Va);Y.textAlign=Va.align||"left";var Zb=Pb(Va);var qc=Zb.x1;Zb=Zb.y1;Va.angle&&(Y.save(),Y.translate(qc,Zb),Y.rotate(Va.angle*Ye),qc=Zb=0);qc+=Va.dx||0;Zb+=(Va.dy||0)+Wd(Va);var Ec=Lc(Va);Ta(Y,Va);if(l.isArray(Ec)){var ed=Sc(Va);for(Sb=0;Sb<Ec.length;++Sb){var Zc=Fd(Va,Ec[Sb]);Va.fill&&U(Y,Va,xb)&&Y.fillText(Zc,qc,Zb);Va.stroke&&W(Y,Va,xb)&&Y.strokeText(Zc,qc,Zb);Zb+=ed}}else Zc=Fd(Va,Ec),Va.fill&&U(Y,Va,xb)&&Y.fillText(Zc,qc,Zb),Va.stroke&&W(Y,Va,xb)&&Y.strokeText(Zc,
qc,Zb);Va.angle&&Y.restore()}})},pick:db(function(Y,oa,Oa,Va,xb,Sb){if(0>=oa.fontSize)return!1;if(!oa.angle)return!0;Oa=Pb(oa);Y=Oa.x1;Oa=Oa.y1;Va=gc($d,oa,1);var Zb=-oa.angle*Ye;oa=Math.cos(Zb);Zb=Math.sin(Zb);return Va.contains(oa*xb-Zb*Sb+(Y-oa*Y+Zb*Oa),Zb*xb+oa*Sb+(Oa-Zb*Y-oa*Oa))}),isect:function(Y,oa){Y=gc($d,Y,2);return ua(oa,Y[0],Y[1],Y[2],Y[3])||ua(oa,Y[0],Y[1],Y[4],Y[5])||ua(oa,Y[4],Y[5],Y[6],Y[7])||ua(oa,Y[2],Y[3],Y[6],Y[7])}},Ce=pa("trail",function(Y,oa){return ub.context(Y)(oa)},function(Y,
oa){for(var Oa=Y.length,Va,xb;0<=--Oa;)if(!1!==Y[Oa].defined&&(Va=Y[Oa].x-oa[0],xb=Y[Oa].y-oa[1],xb=Va*Va+xb*xb,Va=Y[Oa].size||1,xb<Va*Va))return Y[Oa];return null}),Qe={arc:Pe,area:nf,group:Wb,image:ic,line:oc,path:fd,rect:Wc,rule:nd,shape:Kd,symbol:de,text:Ie,trail:Ce},Uf={mark:null};const ne="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Ka.prototype={toJSON(Y){return Vc(this.root,Y||0)},mark(Y,oa,Oa){oa=oa||this.root.items[0];Y=eb(Y,oa);oa.items[Oa]=Y;Y.zindex&&(Y.group.zdirty=!0);return Y}};pb.prototype={initialize(Y,oa,Oa){this._el=Y;this._obj=Oa||null;return this.origin(oa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(Y){return arguments.length?(this._origin=Y||[0,0],this):this._origin.slice()},scene(Y){if(!arguments.length)return this._scene;this._scene=Y;return this},on(){},off(){},_handlerIndex(Y,
oa,Oa){for(let Va=Y?Y.length:0;0<=--Va;)if(Y[Va].type===oa&&(!Oa||Y[Va].handler===Oa))return Va;return-1},handlers(Y){const oa=this._handlers,Oa=[];if(Y)Oa.push(...oa[this.eventName(Y)]);else for(const Va in oa)Oa.push(...oa[Va]);return Oa},eventName(Y){const oa=Y.indexOf(".");return 0>oa?Y:Y.slice(0,oa)},handleHref(Y,oa,Oa){this._loader.sanitize(Oa,{context:"href"}).then(Va=>{const xb=new MouseEvent(Y.type,Y),Sb=wb(null,"a");for(const Zb in Va)Sb.setAttribute(Zb,Va[Zb]);Sb.dispatchEvent(xb)}).catch(()=>
{})},handleTooltip(Y,oa,Oa){if(oa&&null!=oa.tooltip){var Va=this.canvas(),xb=this._origin,Sb=oa&&oa.mark,Zb;if(Sb&&(Zb=Qe[Sb.marktype]).tip){Va=tc(Y,Va);Va[0]-=xb[0];for(Va[1]-=xb[1];oa=oa.mark.group;)Va[0]-=oa.x||0,Va[1]-=oa.y||0;oa=Zb.tip(Sb.items,Va)}this._tooltip.call(this._obj,this,Y,oa,Oa&&oa&&oa.tooltip||null)}},getItemBoundingClientRect(Y){var oa=this.canvas();if(oa){var Oa=oa.getBoundingClientRect(),Va=this._origin,xb=Y.bounds;oa=xb.width();var Sb=xb.height(),Zb=xb.x1+Va[0]+Oa.left;for(Oa=
xb.y1+Va[1]+Oa.top;Y.mark&&(Y=Y.mark.group);)Zb+=Y.x||0,Oa+=Y.y||0;return{x:Zb,y:Oa,width:oa,height:Sb,left:Zb,top:Oa,right:Zb+oa,bottom:Oa+Sb}}}};Ub.prototype={initialize(Y,oa,Oa,Va,xb){this._el=Y;return this.resize(oa,Oa,Va,xb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(Y){if(0===arguments.length)return this._bgcolor;this._bgcolor=Y;return this},resize(Y,oa,Oa,Va){this._width=Y;this._height=oa;this._origin=Oa||[0,0];this._scale=Va||1;return this},dirty(){},
render(Y){const oa=this;oa._call=function(){oa._render(Y)};oa._call();oa._call=null;return oa},_render(){},renderAsync(Y){const oa=this.render(Y);return this._ready?this._ready.then(()=>oa):Promise.resolve(oa)},_load(Y,oa){var Oa=this;Y=Oa._loader[Y](oa);if(!Oa._ready){const Va=Oa._call;Oa._ready=Oa._loader.ready().then(xb=>{xb&&Va();Oa._ready=null})}return Y},sanitizeURL(Y){return this._load("sanitizeURL",Y)},loadImage(Y){return this._load("loadImage",Y)}};l.inherits(mc,pb,{initialize(Y,oa,Oa){this._canvas=
Y&&Hb(Y,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(Va=>Bc(this,Va));return pb.prototype.initialize.call(this,Y,oa,Oa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(Y){this.fire("mousewheel",Y)},mousemove:Xc("mousemove","mouseover","mouseout"),
dragover:Xc("dragover","dragenter","dragleave"),mouseout:Qb("mouseout"),dragleave:Qb("dragleave"),mousedown(Y){this._down=this._active;this.fire("mousedown",Y)},click(Y){this._down===this._active&&(this.fire("click",Y),this._down=null)},touchstart(Y){this._touch=this.pickEvent(Y.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",Y,!0)},touchmove(Y){this.fire("touchmove",Y,!0)},touchend(Y){this.fire("touchend",Y,!0);this._touch=null},fire(Y,oa,Oa){Oa=Oa?
this._touch:this._active;const Va=this._handlers[Y];oa.vegaType=Y;"click"===Y&&Oa&&Oa.href?this.handleHref(oa,Oa,Oa.href):("mousemove"===Y||"mouseout"===Y)&&this.handleTooltip(oa,Oa,"mouseout"!==Y);if(Va)for(let xb=0,Sb=Va.length;xb<Sb;++xb)Va[xb].handler.call(this._obj,oa,Oa)},on(Y,oa){const Oa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Oa],Y,oa)&&(Bc(this,Y),(Va[Oa]||(Va[Oa]=[])).push({type:Y,handler:oa}));return this},off(Y,oa){var Oa=this.eventName(Y);Oa=this._handlers[Oa];Y=
this._handlerIndex(Oa,Y,oa);0<=Y&&Oa.splice(Y,1);return this},pickEvent(Y){Y=tc(Y,this._canvas);const oa=this._origin;return this.pick(this._scene,Y[0],Y[1],Y[0]-oa[0],Y[1]-oa[1])},pick(Y,oa,Oa,Va,xb){const Sb=this.context();return Qe[Y.marktype].pick.call(this,Sb,Y,oa,Oa,Va,xb)}});var sf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Cf=Ub.prototype;l.inherits(Ic,Ub,{initialize(Y,oa,Oa,Va,xb,Sb){this._options=Sb||{};this._canvas=this._options.externalContext?null:N.canvas(1,1,this._options.type);
Y&&this._canvas&&(Lb(Y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Cf.initialize.call(this,Y,oa,Oa,Va,xb)},resize(Y,oa,Oa,Va){Cf.resize.call(this,Y,oa,Oa,Va);if(this._canvas){{Y=this._canvas;oa=this._width;Oa=this._height;Va=this._origin;var xb=this._scale,Sb=this._options.context;const qc="undefined"!==typeof HTMLElement&&Y instanceof HTMLElement&&null!=Y.parentNode,Ec=Y.getContext("2d");xb=qc?sf:xb;Y.width=oa*xb;Y.height=Oa*xb;for(var Zb in Sb)Ec[Zb]=Sb[Zb];qc&&
1!==xb&&(Y.style.width=oa+"px",Y.style.height=Oa+"px");Ec.pixelRatio=xb;Ec.setTransform(xb,0,0,xb,xb*Va[0],xb*Va[1])}}else(Zb=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),Zb.scale(this._scale,this._scale),Zb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(Y){const oa=this._tempb.clear().union(Y.bounds);
for(Y=Y.mark.group;Y;)oa.translate(Y.x||0,Y.y||0),Y=Y.mark.group;this._dirty.union(oa)},_render(Y){const oa=this.context(),Oa=this._origin,Va=this._width,xb=this._height,Sb=this._dirty;var Zb=(new ha).set(0,0,Va,xb).translate(-Oa[0],-Oa[1]);oa.save();this._redraw||Sb.empty()?Zb=(this._redraw=!1,Zb.expand(1)):(Zb=Zb.intersect(Sb),Zb.expand(1).round(),oa.pixelRatio%1&&Zb.scale(oa.pixelRatio).round().scale(1/oa.pixelRatio),Zb.translate(-(Oa[0]%1),-(Oa[1]%1)),oa.beginPath(),oa.rect(Zb.x1,Zb.y1,Zb.width(),
Zb.height()),oa.clip());this.clear(-Oa[0],-Oa[1],Va,xb);this.draw(oa,Y,Zb);oa.restore();Sb.clear();return this},draw(Y,oa,Oa){const Va=Qe[oa.marktype];if(oa.clip){var xb=oa.clip;Y.save();l.isFunction(xb)?(Y.beginPath(),xb(Y),Y.clip()):Ha(Y,oa.group)}Va.draw.call(this,Y,oa,Oa);oa.clip&&Y.restore()},clear(Y,oa,Oa,Va){const xb=this._options,Sb=this.context();"pdf"===xb.type||xb.externalContext||Sb.clearRect(Y,oa,Oa,Va);null!=this._bgcolor&&(Sb.fillStyle=this._bgcolor,Sb.fillRect(Y,oa,Oa,Va))}});const Bg=
(Y,oa)=>Oa=>{let Va=Oa.target.__data__;Va=Array.isArray(Va)?Va[0]:Va;Oa.vegaType=Oa.type;oa.call(Y._obj,Oa,Va)};l.inherits(Dc,pb,{initialize(Y,oa,Oa){let Va=this._svg;Va&&(Va.removeEventListener("click",this._hrefHandler),Va.removeEventListener("mousemove",this._tooltipHandler),Va.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=Va=Y&&Hb(Y,"svg"))Va.addEventListener("click",this._hrefHandler),Va.addEventListener("mousemove",this._tooltipHandler),Va.addEventListener("mouseout",this._tooltipHandler);
return pb.prototype.initialize.call(this,Y,oa,Oa)},canvas(){return this._svg},on(Y,oa){const Oa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Oa],Y,oa)&&(Y={type:Y,handler:oa,listener:Bg(this,oa)},(Va[Oa]||(Va[Oa]=[])).push(Y),this._svg&&this._svg.addEventListener(Oa,Y.listener));return this},off(Y,oa){const Oa=this.eventName(Y),Va=this._handlers[Oa];Y=this._handlerIndex(Va,Y,oa);0<=Y&&(this._svg&&this._svg.removeEventListener(Oa,Va[Y].listener),Va.splice(Y,1));return this}});const Lf=
(Y,oa,Oa)=>({["role"]:Y,["aria-roledescription"]:oa,["aria-label"]:Oa||void 0}),jg=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),xa={axis:{desc:"axis",caption:function(Y){var oa=Y.datum;const Oa=Y.orient,Va=oa.title?Cd(Y):null;var xb=Y.context;oa=xb.scales[oa.scale].value;xb=xb.dataflow.locale();const Sb=oa.type;return`${"left"===Oa||"right"===Oa?"Y":"X"}-axis`+(Va?` titled '${Va}'`:
"")+` for a ${v.isDiscrete(Sb)?"discrete":Sb} scale`+` with ${v.domainCaption(xb,oa,Y)}`}},legend:{desc:"legend",caption:function(Y){var oa=Y.datum;const Oa=oa.title?Cd(Y):null,Va=`${oa.type||""} legend`.trim();var xb=oa.scales;oa=Object.keys(xb);var Sb=Y.context;xb=Sb.scales[xb[oa[0]]].value;Sb=Sb.dataflow.locale();return(Va.length?Va[0].toUpperCase()+Va.slice(1):Va)+(Oa?` titled '${Oa}'`:"")+` for ${Dd(oa)}`+` with ${v.domainCaption(Sb,xb,Y)}`}},"title-text":{desc:"title",caption:Y=>`Title text '${l.array(Y.text).join(" ")}'`},
"title-subtitle":{desc:"subtitle",caption:Y=>`Subtitle text '${l.array(Y.text).join(" ")}'`}},za={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Na=Y=>(Y+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Sa=Y=>ae(Ud(),Y)+"",fb={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",
strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},hb={fill:"none","stroke-miterlimit":10},qb=Tb.xmlns,Db=Ub.prototype;l.inherits(oe,Ub,{initialize(Y,oa,Oa,Va,xb){this._defs={};this._clearDefs();Y&&(this._svg=ac(Y,0,"svg",qb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",qb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Tb["xmlns:xlink"]),this._svg.setAttribute("version",Tb.version),this._svg.setAttribute("class","marks"),Lb(Y,
1),this._root=ac(this._svg,0,"g",qb),Zd(this._root,hb),Lb(this._svg,1));this.background(this._bgcolor);return Db.initialize.call(this,Y,oa,Oa,Va,xb)},background(Y){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",Y);return Db.background.apply(this,arguments)},resize(Y,oa,Oa,Va){Db.resize.call(this,Y,oa,Oa,Va);this._svg&&(Zd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",
`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const Y=this._svg,oa=this._bgcolor;if(!Y)return null;let Oa;oa&&(Y.removeAttribute("style"),Oa=ac(Y,0,"rect",qb),Zd(Oa,{width:this._width,height:this._height,fill:oa}));const Va=Sa(Y);oa&&(Y.removeChild(Oa),this._svg.style.setProperty("background-color",oa));return Va},_render(Y){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,Y),Lb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;
return this},dirty(Y){Y.dirty!==this._dirtyID&&(Y.dirty=this._dirtyID,this._dirty.push(Y))},isDirty(Y){return this._dirtyAll||!Y._svg||Y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const Y=this._dirty;if(!Y.length||!this._dirtyID)return!0;const oa=++this._dirtyID;let Oa;let Va,xb,Sb,Zb;Sb=0;for(Zb=Y.length;Sb<Zb;++Sb){Oa=Y[Sb];var qc=Oa.mark;qc.marktype!==Va&&(Va=qc.marktype,xb=Qe[Va]);qc.zdirty&&qc.dirty!==oa&&(this._dirtyAll=!1,De(Oa,oa),qc.items.forEach(Ec=>{Ec.dirty=oa}));qc.zdirty||
(Oa.exit?(xb.nested&&qc.items.length?(qc=qc.items[0],qc._svg&&this._update(xb,qc._svg,qc)):Oa._svg&&(qc=Oa._svg.parentNode)&&qc.removeChild(Oa._svg),Oa._svg=null):(Oa=xb.nested?qc.items[0]:Oa,Oa._update!==oa&&(Oa._svg&&Oa._svg.ownerSVGElement?this._update(xb,Oa._svg,Oa):(this._dirtyAll=!1,De(Oa,oa)),Oa._update=oa)))}return!this._dirtyAll},mark(Y,oa,Oa){if(!this.isDirty(oa))return oa._svg;const Va=this._svg,xb=Qe[oa.marktype];var Sb=!1===oa.interactive?"none":null;const Zb="g"===xb.tag;let qc=null,
Ec=0;const ed=ef(oa,Y,Oa,"g",Va);ed.setAttribute("class",Ac(oa));Y=Tc(oa);for(const Zc in Y)he(ed,Zc,Y[Zc]);Zb||he(ed,"pointer-events",Sb);he(ed,"clip-path",oa.clip?fa(this,oa,oa.group):null);Sb=Zc=>{const Pd=this.isDirty(Zc),be=ef(Zc,ed,qc,xb.tag,Va);Pd&&(this._update(xb,be,Zc),Zb&&fe(this,be,Zc));qc=be;++Ec};xb.nested?oa.items.length&&Sb(oa.items[0]):ra(oa,Sb);Lb(ed,Ec);return ed},_update(Y,oa,Oa){Ab=oa;Kb=oa.__values__;uc(Ze,Oa);Y.attr(Ze,Oa,this);const Va=Jb[Y.type];Va&&Va.call(this,Y,oa,Oa);
Ab&&this.style(Ab,Oa)},style(Y,oa){if(null!=oa)for(const Oa in fb){let Va="font"===Oa?wd(oa):oa[Oa];if(Va===Kb[Oa])continue;const xb=fb[Oa];null==Va?Y.removeAttribute(xb):(Va&&Va.gradient&&(Va=u(Va,this._defs.gradient,zf())),Y.setAttribute(xb,Va+""));Kb[Oa]=Va}},defs(){const Y=this._svg,oa=this._defs;let Oa=oa.el;var Va=0;for(var xb in oa.gradient){Oa||(oa.el=Oa=ac(Y,1,"defs",qb));{var Sb=void 0;let Ec,ed;var Zb=Oa,qc=oa.gradient[xb];"radial"===qc.gradient?(Sb=ac(Zb,Va++,"pattern",qb),Zd(Sb,{id:"p_"+
qc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Sb=ac(Sb,0,"rect",qb),Zd(Sb,{width:1,height:1,fill:`url(${zf()}#${qc.id})`}),Zb=ac(Zb,Va++,"radialGradient",qb),Zd(Zb,{id:qc.id,fx:qc.x1,fy:qc.y1,fr:qc.r1,cx:qc.x2,cy:qc.y2,r:qc.r2})):(Zb=ac(Zb,Va++,"linearGradient",qb),Zd(Zb,{id:qc.id,x1:qc.x1,x2:qc.x2,y1:qc.y1,y2:qc.y2}));ed=0;for(Ec=qc.stops.length;ed<Ec;++ed)Sb=ac(Zb,ed,"stop",qb),Sb.setAttribute("offset",qc.stops[ed].offset),Sb.setAttribute("stop-color",
qc.stops[ed].color);Lb(Zb,ed)}}for(const Ec in oa.clipping)Oa||(oa.el=Oa=ac(Y,1,"defs",qb)),Zb=Oa,qc=oa.clipping[Ec],xb=Va,Zb=ac(Zb,xb,"clipPath",qb),Zb.setAttribute("id",qc.id),qc.path?(Va=ac(Zb,0,"path",qb),Va.setAttribute("d",qc.path)):(Va=ac(Zb,0,"rect",qb),Zd(Va,{x:0,y:0,width:qc.width,height:qc.height})),Lb(Zb,1),Va=xb+1;Oa&&(0===Va?(Y.removeChild(Oa),oa.el=null):Lb(Oa,Va))},_clearDefs(){const Y=this._defs;Y.gradient={};Y.clipping={}}});let Ab=null,Kb=null;const Jb={group(Y,oa,Oa){const Va=
Ab=oa.childNodes[2];Kb=Va.__values__;Y.foreground(Ze,Oa,this);Kb=oa.__values__;Ab=oa.childNodes[1];Y.content(Ze,Oa,this);oa=Ab=oa.childNodes[0];Y.background(Ze,Oa,this);Y=!1===Oa.mark.interactive?"none":null;Y!==Kb.events&&(he(Va,"pointer-events",Y),he(oa,"pointer-events",Y),Kb.events=Y);Oa.strokeForeground&&Oa.stroke?(Y=Oa.fill,he(Va,"display",null),this.style(oa,Oa),he(oa,"stroke",null),Y&&(Oa.fill=null),Kb=Va.__values__,this.style(Va,Oa),Y&&(Oa.fill=Y),Ab=null):he(Va,"display","none")},image(Y,
oa,Oa){!1===Oa.smooth?(df(oa,"image-rendering","optimizeSpeed"),df(oa,"image-rendering","pixelated")):df(oa,"image-rendering",null)},text(Y,oa,Oa){Y=Lc(Oa);let Va,xb,Sb;l.isArray(Y)?(Va=Y.map(Zb=>Fd(Oa,Zb)),Y=Va.join("\n"),Y!==Kb.text&&(Lb(oa,0),xb=oa.ownerDocument,Sb=Sc(Oa),Va.forEach((Zb,qc)=>{const Ec=wb(xb,"tspan",qb);Ec.__data__=Oa;Ec.textContent=Zb;qc&&(Ec.setAttribute("x",0),Ec.setAttribute("dy",Sb));oa.appendChild(Ec)}),Kb.text=Y)):(Va=Fd(Oa,Y),Va!==Kb.text&&(oa.textContent=Va,Kb.text=Va));
he(oa,"font-family",wd(Oa));he(oa,"font-size",Uc(Oa)+"px");he(oa,"font-style",Oa.fontStyle);he(oa,"font-variant",Oa.fontVariant);he(oa,"font-weight",Oa.fontWeight)}};l.inherits(Ue,Ub,{svg(){return this._text},_render(Y){const oa=Ud();oa.open("svg",l.extend({},Tb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const Oa=this._bgcolor;Oa&&"transparent"!==Oa&&"none"!==Oa&&oa.open("rect",{width:this._width,height:this._height,
fill:Oa}).close();oa.open("g",hb,{transform:"translate("+this._origin+")"});this.mark(oa,Y);oa.close();this.defs(oa);this._text=oa.close()+"";return this},mark(Y,oa){const Oa=Qe[oa.marktype],Va=Oa.tag,xb=[uc,Oa.attr];Y.open("g",{"class":Ac(oa),"clip-path":oa.clip?fa(this,oa,oa.group):null},Tc(oa),{"pointer-events":"g"!==Va&&!1===oa.interactive?"none":null});const Sb=Zb=>{const qc=this.href(Zb);qc&&Y.open("a",qc);Y.open(Va,this.attr(oa,Zb,xb,"g"!==Va?Va:null));if("text"===Va){var Ec=Lc(Zb);if(l.isArray(Ec)){var ed=
{x:0,dy:Sc(Zb)};for(var Zc=0;Zc<Ec.length;++Zc)Y.open("tspan",Zc?ed:null).text(Fd(Zb,Ec[Zc])).close()}else Y.text(Fd(Zb,Ec))}else"g"===Va&&(Ec=Zb.strokeForeground,ed=Zb.fill,Zc=Zb.stroke,Ec&&Zc&&(Zb.stroke=null),Y.open("path",this.attr(oa,Zb,Oa.background,"bgrect")).close(),Y.open("g",this.attr(oa,Zb,Oa.content)),ra(Zb,Pd=>this.mark(Y,Pd)),Y.close(),Ec&&Zc?(ed&&(Zb.fill=null),Zb.stroke=Zc,Y.open("path",this.attr(oa,Zb,Oa.foreground,"bgrect")).close(),ed&&(Zb.fill=ed)):Y.open("path",this.attr(oa,Zb,
Oa.foreground,"bgfore")).close());Y.close();qc&&Y.close()};Oa.nested?oa.items&&oa.items.length&&Sb(oa.items[0]):ra(oa,Sb);return Y.close()},href(Y){const oa=Y.href;if(oa){if(Y=this._hrefs&&this._hrefs[oa])return Y;this.sanitizeURL(oa).then(Oa=>{Oa["xlink:href"]=Oa.href;Oa.href=null;(this._hrefs||(this._hrefs={}))[oa]=Oa})}return null},attr(Y,oa,Oa,Va){const xb={},Sb=(Zb,qc,Ec,ed)=>{xb[ed||Zb]=qc};Array.isArray(Oa)?Oa.forEach(Zb=>Zb(Sb,oa,this)):Oa(Sb,oa,this);Va&&Nf(xb,oa,Y,Va,this._defs);return xb},
defs(Y){var oa=this._defs.gradient;const Oa=this._defs.clipping;if(0!==Object.keys(oa).length+Object.keys(Oa).length){Y.open("defs");for(const xb in oa){var Va=oa[xb];const Sb=Va.stops;"radial"===Va.gradient?(Y.open("pattern",{id:"p_"+xb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Y.open("rect",{width:"1",height:"1",fill:"url(#"+xb+")"}).close(),Y.close(),Y.open("radialGradient",{id:xb,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):Y.open("linearGradient",
{id:xb,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2});for(Va=0;Va<Sb.length;++Va)Y.open("stop",{offset:Sb[Va].offset,"stop-color":Sb[Va].color}).close();Y.close()}for(const xb in Oa)oa=Oa[xb],Y.open("clipPath",{id:xb}),oa.path?Y.open("path",{d:oa.path}).close():Y.open("rect",{x:0,y:0,width:oa.width,height:oa.height}).close(),Y.close();Y.close()}}});const cc={};cc.canvas=cc.png={renderer:Ic,headless:Ic,handler:mc};cc.svg={renderer:oe,headless:Ue,handler:Dc};cc.none={};const xc=new ha;k.Bounds=ha;k.CanvasHandler=
mc;k.CanvasRenderer=Ic;k.Gradient=function(Y,oa){var Oa=[],Va;return Va={gradient:"linear",x1:Y?Y[0]:0,y1:Y?Y[1]:0,x2:oa?oa[0]:1,y2:oa?oa[1]:0,stops:Oa,stop:function(xb,Sb){Oa.push({offset:xb,color:Sb});return Va}}};k.GroupItem=Z;k.Handler=pb;k.Item=la;k.Marks=Qe;k.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};k.Renderer=Ub;k.ResourceLoader=P;k.SVGHandler=Dc;k.SVGRenderer=oe;k.SVGStringRenderer=Ue;k.Scenegraph=Ka;k.boundClip=function(Y){const oa=Y.clip;if(l.isFunction(oa))oa(V(xc.clear()));
else if(oa)xc.set(0,0,Y.group.width,Y.group.height);else return;Y.bounds.intersect(xc)};k.boundContext=V;k.boundItem=Eb;k.boundMark=zc;k.boundStroke=C;k.domChild=ac;k.domClear=Lb;k.domCreate=wb;k.domFind=Hb;k.font=vd;k.fontFamily=wd;k.fontSize=Uc;k.intersect=function(Y,oa,Oa){const Va=[];oa=(new ha).union(oa);const xb=Y.marktype;return xb?me(Y,oa,Oa,Va):"group"===xb?te(Y,oa,Oa,Va):l.error("Intersect scene must be mark node or group item.")};k.intersectBoxLine=ua;k.intersectPath=va;k.intersectPoint=
Ia;k.intersectRule=kb;k.lineHeight=Sc;k.markup=Ud;k.multiLineOffset=function(Y){const oa=Lc(Y);return(l.isArray(oa)?oa.length-1:0)*Sc(Y)};k.pathCurves=g;k.pathEqual=Od;k.pathParse=d;k.pathRectangle=G;k.pathRender=a;k.pathSymbols=n;k.pathTrail=K;k.point=tc;k.renderModule=function(Y,oa){Y=String(Y||"").toLowerCase();return 1<arguments.length?(cc[Y]=oa,this):cc[Y]};k.resetSVGClipId=function(){Yb=1};k.resetSVGDefIds=function(){Yb=1;Be=0};k.sceneEqual=we;k.sceneFromJSON=Ed;k.scenePickVisit=qa;k.sceneToJSON=
Vc;k.sceneVisit=ra;k.sceneZOrder=ca;k.serializeXML=Sa;k.textMetrics=Gd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(36),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(W){l.Transform.call(this,null,W)}function x(W,ba,ca){return ba(W.bounds.clear(),W,ca)}function v(W){l.Transform.call(this,
0,W)}function u(W){return W._signals[":vega_identifier:"]||(W._signals[":vega_identifier:"]=W.add(0))}function m(W){l.Transform.call(this,null,W)}function g(W){const ba=W.groups;W=W.parent;return ba&&1===ba.size?ba.get(Object.keys(ba.object)[0]):ba&&W?ba.lookup(W):null}function d(W){l.Transform.call(this,null,W)}function f(W){l.Transform.call(this,null,W)}function a(W,ba,ca){return W[ba]===ca?0:(W[ba]=ca,1)}function e(W){W=W.items[0].orient;return"left"===W||"right"===W}function n(W,ba,ca,ra){ba=
ba.items[0];var qa=ba.datum,Fa=null!=ba.translate?ba.translate:.5,na=ba.orient,Ra=+qa.grid;var db=[qa.ticks?Ra++:-1,qa.labels?Ra++:-1,Ra+ +qa.domain];Ra=ba.range;var $a=ba.offset,Ca=ba.position,Ga=ba.minExtent,pa=ba.maxExtent;qa=qa.title&&ba.items[db[2]].items[0];var Ha=ba.titlePadding,Ua=ba.bounds,jb=qa&&w.multiLineOffset(qa),Fb;Da.clear().union(Ua);Ua.clear();-1<(Fb=db[0])&&Ua.union(ba.items[Fb].bounds);-1<(Fb=db[1])&&Ua.union(ba.items[Fb].bounds);switch(na){case "top":ca=Ca||0;ra=-$a;Ga=Math.max(Ga,
Math.min(pa,-Ua.y1));Ua.add(0,-Ga).add(Ra,0);qa&&y(W,qa,Ga,Ha,jb,0,-1,Ua);break;case "left":ca=-$a;ra=Ca||0;Ga=Math.max(Ga,Math.min(pa,-Ua.x1));Ua.add(-Ga,0).add(0,Ra);qa&&y(W,qa,Ga,Ha,jb,1,-1,Ua);break;case "right":ca+=$a;ra=Ca||0;Ga=Math.max(Ga,Math.min(pa,Ua.x2));Ua.add(0,0).add(Ga,Ra);qa&&y(W,qa,Ga,Ha,jb,1,1,Ua);break;case "bottom":ca=Ca||0;ra+=$a;Ga=Math.max(Ga,Math.min(pa,Ua.y2));Ua.add(0,0).add(Ra,Ga);qa&&y(W,qa,Ga,Ha,0,0,1,Ua);break;default:ca=ba.x,ra=ba.y}w.boundStroke(Ua.translate(ca,ra),
ba);a(ba,"x",ca+Fa)|a(ba,"y",ra+Fa)&&(ba.bounds=Da,W.dirty(ba),ba.bounds=Ua,W.dirty(ba));return ba.mark.bounds.clear().union(Ua)}function y(W,ba,ca,ra,qa,Fa,na,Ra){const db=ba.bounds;ba.auto&&(ca=na*(ca+qa+ra),qa=ra=0,W.dirty(ba),Fa?ra=(ba.x||0)-(ba.x=ca):qa=(ba.y||0)-(ba.y=ca),ba.mark.bounds.clear().union(db.translate(-ra,-qa)),W.dirty(ba));Ra.union(db)}function B(W){return(new w.Bounds).set(0,0,W.width||0,W.height||0)}function D(W){const ba=W.bounds.clone();return ba.empty()?ba.set(0,0,0,0):ba.translate(-(W.x||
0),-(W.y||0))}function O(W,ba,ca){W=H.isObject(W)?W[ba]:W;return null!=W?W:void 0!==ca?ca:0}function M(W){return 0>W?Math.ceil(-W):0}function F(W,ba,ca){var ra=!ca.nodirty,qa="flush"===ca.bounds?B:D,Fa=Da.set(0,0,0,0),na=O(ca.align,"column"),Ra=O(ca.align,"row"),db=O(ca.padding,"column"),$a=O(ca.padding,"row"),Ca=ca.columns||ba.length,Ga=0>=Ca?1:Math.ceil(ba.length/Ca),pa=ba.length,Ha=Array(pa),Ua=Array(Ca),jb=0,Fb=Array(pa),Xb=Array(Ga),nc=0,md=Array(pa),pc=Array(pa),Hc=Array(pa),mb,hc,jc;for(mb=
0;mb<Ca;++mb)Ua[mb]=0;for(mb=0;mb<Ga;++mb)Xb[mb]=0;for(mb=0;mb<pa;++mb){var rc=ba[mb];var Pc=Hc[mb]=qa(rc);rc.x=rc.x||0;md[mb]=0;rc.y=rc.y||0;pc[mb]=0;rc=mb%Ca;var sc=~~(mb/Ca);jb=Math.max(jb,hc=Math.ceil(Pc.x2));nc=Math.max(nc,jc=Math.ceil(Pc.y2));Ua[rc]=Math.max(Ua[rc],hc);Xb[sc]=Math.max(Xb[sc],jc);Ha[mb]=db+M(Pc.x1);Fb[mb]=$a+M(Pc.y1);ra&&W.dirty(ba[mb])}for(mb=0;mb<pa;++mb)0===mb%Ca&&(Ha[mb]=0),mb<Ca&&(Fb[mb]=0);if("each"===na)for(rc=1;rc<Ca;++rc){qa=0;for(mb=rc;mb<pa;mb+=Ca)qa<Ha[mb]&&(qa=Ha[mb]);
for(mb=rc;mb<pa;mb+=Ca)Ha[mb]=qa+Ua[rc-1]}else if("all"===na){for(mb=qa=0;mb<pa;++mb)mb%Ca&&qa<Ha[mb]&&(qa=Ha[mb]);for(mb=0;mb<pa;++mb)mb%Ca&&(Ha[mb]=qa+jb)}else for(na=!1,rc=1;rc<Ca;++rc)for(mb=rc;mb<pa;mb+=Ca)Ha[mb]+=Ua[rc-1];if("each"===Ra)for(sc=1;sc<Ga;++sc){qa=0;mb=sc*Ca;for(rc=mb+Ca;mb<rc;++mb)qa<Fb[mb]&&(qa=Fb[mb]);for(mb=sc*Ca;mb<rc;++mb)Fb[mb]=qa+Xb[sc-1]}else if("all"===Ra){qa=0;for(mb=Ca;mb<pa;++mb)qa<Fb[mb]&&(qa=Fb[mb]);for(mb=Ca;mb<pa;++mb)Fb[mb]=qa+nc}else for(Ra=!1,sc=1;sc<Ga;++sc)for(mb=
sc*Ca,rc=mb+Ca;mb<rc;++mb)Fb[mb]+=Xb[sc-1];for(mb=sc=0;mb<pa;++mb)sc=Ha[mb]+(mb%Ca?sc:0),md[mb]+=sc-ba[mb].x;for(rc=0;rc<Ca;++rc)for(Ha=0,mb=rc;mb<pa;mb+=Ca)Ha+=Fb[mb],pc[mb]+=Ha-ba[mb].y;if(na&&O(ca.center,"column")&&1<Ga)for(mb=0;mb<pa;++mb)Pc="all"===na?jb:Ua[mb%Ca],sc=Pc-Hc[mb].x2-ba[mb].x-md[mb],0<sc&&(md[mb]+=sc/2);if(Ra&&O(ca.center,"row")&&1!==Ca)for(mb=0;mb<pa;++mb)Pc="all"===Ra?nc:Xb[~~(mb/Ca)],Ha=Pc-Hc[mb].y2-ba[mb].y-pc[mb],0<Ha&&(pc[mb]+=Ha/2);for(mb=0;mb<pa;++mb)Fa.union(Hc[mb].translate(md[mb],
pc[mb]));sc=O(ca.anchor,"x");Ha=O(ca.anchor,"y");switch(O(ca.anchor,"column")){case "end":sc-=Fa.width();break;case "middle":sc-=Fa.width()/2}switch(O(ca.anchor,"row")){case "end":Ha-=Fa.height();break;case "middle":Ha-=Fa.height()/2}sc=Math.round(sc);Ha=Math.round(Ha);Fa.clear();for(mb=0;mb<pa;++mb)ba[mb].mark.bounds.clear();for(mb=0;mb<pa;++mb)rc=ba[mb],rc.x+=md[mb]+=sc,rc.y+=pc[mb]+=Ha,Fa.union(rc.mark.bounds.union(rc.bounds.translate(md[mb],pc[mb]))),ra&&W.dirty(rc);return Fa}function z(W,ba){return"x1"===
ba?W.x||0:"y1"===ba?W.y||0:"x2"===ba?(W.x||0)+(W.width||0):"y2"===ba?(W.y||0)+(W.height||0):void 0}function G(W,ba){return W.bounds[ba]}function K(W,ba,ca,ra,qa,Fa,na,Ra,db,$a,Ca,Ga,pa,Ha){var Ua=ca.length,jb=ra=0,Fb,Xb;if(!Ua)return ra;for(Fb=Ca;Fb<Ua;Fb+=Ga)ca[Fb]&&(ra=na(ra,db(ca[Fb],$a)));if(!ba.length)return ra;ba.length>qa&&(W.warn("Grid headers exceed limit: "+qa),ba=ba.slice(0,qa));ra+=Fa;qa=0;for(Fa=ba.length;qa<Fa;++qa)W.dirty(ba[qa]),ba[qa].mark.bounds.clear();Fb=Ca;qa=0;for(Fa=ba.length;qa<
Fa;++qa,Fb+=Ga){db=ba[qa];Ca=db.mark.bounds;for(Ua=Fb;0<=Ua&&null==(Xb=ca[Ua]);Ua-=pa);if(Ra){Ua=null==Ha?Xb.x:Math.round(Xb.bounds.x1+Ha*Xb.bounds.width());var nc=ra}else Ua=ra,nc=null==Ha?Xb.y:Math.round(Xb.bounds.y1+Ha*Xb.bounds.height());Ca.union(db.bounds.translate(Ua-(db.x||0),nc-(db.y||0)));db.x=Ua;db.y=nc;W.dirty(db);jb=na(jb,Ca[$a])}return jb}function R(W,ba,ca,ra,qa,Fa){if(ba){W.dirty(ba);var na=ca;ra?na=Math.round(qa.x1+Fa*qa.width()):ca=Math.round(qa.y1+Fa*qa.height());ba.bounds.translate(na-
(ba.x||0),ca-(ba.y||0));ba.mark.bounds.clear().union(ba.bounds);ba.x=na;ba.y=ca;W.dirty(ba)}}function T(W,ba){const ca=W[ba]||{};return(ra,qa)=>null!=ca[ra]?ca[ra]:null!=W[ra]?W[ra]:qa}function ja(W,ba){let ca=-Infinity;W.forEach(ra=>{null!=ra.offset&&(ca=Math.max(ca,ra.offset))});return-Infinity<ca?ca:ba}function fa(W,ba,ca,ra,qa,Fa,na){const Ra=T(ca,ba);ca=ja(W,Ra("offset",0));const db=Ra("anchor","start"),$a="end"===db?1:"middle"===db?.5:0;W={align:"each",bounds:Ra("bounds","flush"),columns:"vertical"===
Ra("direction")?1:W.length,padding:Ra("margin",8),center:Ra("center"),nodirty:!0};switch(ba){case "left":W.anchor={x:Math.floor(ra.x1)-ca,column:"end",y:$a*(na||ra.height()+2*ra.y1),row:db};break;case "right":W.anchor={x:Math.ceil(ra.x2)+ca,y:$a*(na||ra.height()+2*ra.y1),row:db};break;case "top":W.anchor={y:Math.floor(qa.y1)-ca,row:"end",x:$a*(Fa||qa.width()+2*qa.x1),column:db};break;case "bottom":W.anchor={y:Math.ceil(qa.y2)+ca,x:$a*(Fa||qa.width()+2*qa.x1),column:db};break;case "top-left":W.anchor=
{x:ca,y:ca};break;case "top-right":W.anchor={x:Fa-ca,y:ca,column:"end"};break;case "bottom-left":W.anchor={x:ca,y:na-ca,row:"end"};break;case "bottom-right":W.anchor={x:Fa-ca,y:na-ca,column:"end",row:"end"}}return W}function ha(W,ba){ba=ba.items[0];var ca=ba.datum,ra=ba.orient,qa=ba.bounds,Fa=ba.x,na=ba.y;ba._bounds?ba._bounds.clear().union(qa):ba._bounds=qa.clone();qa.clear();var Ra=ba.items[0].items[0];var db=ba.padding,$a=db-Ra.x,Ca=db-Ra.y;if(ba.datum.title){var Ga=ba.items[1].items[0],pa=Ga.anchor,
Ha=ba.titlePadding||0,Ua=db-Ga.x,jb=db-Ga.y;switch(Ga.orient){case "left":$a+=Math.ceil(Ga.bounds.width())+Ha;break;case "right":case "bottom":break;default:Ca+=Ga.bounds.height()+Ha}($a||Ca)&&P(W,Ra,$a,Ca);switch(Ga.orient){case "left":jb+=Z(ba,Ra,Ga,pa,1,1);break;case "right":Ua+=Z(ba,Ra,Ga,"end",0,0)+Ha;jb+=Z(ba,Ra,Ga,pa,1,1);break;case "bottom":Ua+=Z(ba,Ra,Ga,pa,0,0);jb+=Z(ba,Ra,Ga,"end",-1,0,1)+Ha;break;default:Ua+=Z(ba,Ra,Ga,pa,0,0)}(Ua||jb)&&P(W,Ga,Ua,jb);0>(Ua=Math.round(Ga.bounds.x1-db))&&
(P(W,Ra,-Ua,0),P(W,Ga,-Ua,0))}else($a||Ca)&&P(W,Ra,$a,Ca);qa=la(ba,qa);W=2*ba.padding;Ra=2*ba.padding;qa.empty()||(W=Math.ceil(qa.width()+W),Ra=Math.ceil(qa.height()+Ra));"symbol"===ca.type&&C(ba.items[0].items[0].items[0].items);"none"!==ra&&(ba.x=Fa=0,ba.y=na=0);ba.width=W;ba.height=Ra;w.boundStroke(qa.set(Fa,na,Fa+W,na+Ra),ba);ba.mark.bounds.clear().union(qa);return ba}function la(W,ba){W.items.forEach(ca=>ba.union(ca.bounds));ba.x1=W.padding;ba.y1=W.padding;return ba}function Z(W,ba,ca,ra,qa,
Fa,na){const Ra=ca.datum.vgrad;W=("symbol"===W.datum.type||!Fa&&Ra||na?ba:ba.items[0]).bounds[qa?"y2":"x2"]-W.padding;ba=Ra&&Fa?W:0;Fa=Ra&&Fa?0:W;ca=0>=qa?0:w.multiLineOffset(ca);return Math.round("start"===ra?ba:"end"===ra?Fa-ca:.5*(W-ca))}function P(W,ba,ca,ra){ba.x+=ca;ba.y+=ra;ba.bounds.translate(ca,ra);ba.mark.bounds.translate(ca,ra);W.dirty(ba)}function C(W){const ba=W.reduce((ca,ra)=>{ca[ra.column]=Math.max(ra.bounds.x2-ra.x,ca[ra.column]||0);return ca},{});W.forEach(ca=>{ca.width=ba[ca.column];
ca.height=ca.bounds.y2-ca.y})}function V(W,ba,ca,ra,qa){var Fa=ba.items[0],na=Fa.orient,Ra=Fa.anchor,db=Fa.offset,$a=Fa.padding,Ca=Fa.items[0].items[0],Ga=Fa.items[1]&&Fa.items[1].items[0],pa="left"===na||"right"===na?ra:ca,Ha=0,Ua=ca=0;"group"!==Fa.frame?"left"===na?(Ha=qa.y2,pa=qa.y1):"right"===na?(Ha=qa.y1,pa=qa.y2):(Ha=qa.x1,pa=qa.x2):"left"===na&&(Ha=ra,pa=0);ra="start"===Ra?Ha:"end"===Ra?pa:(Ha+pa)/2;if(Ga&&Ga.text){switch(na){case "top":case "bottom":Ua=Ca.bounds.height()+$a;break;case "left":ca=
Ca.bounds.width()+$a;break;case "right":ca=-Ca.bounds.width()-$a}Da.clear().union(Ga.bounds);Da.translate(ca-(Ga.x||0),Ua-(Ga.y||0));a(Ga,"x",ca)|a(Ga,"y",Ua)&&(W.dirty(Ga),Ga.bounds.clear().union(Da),Ga.mark.bounds.clear().union(Da),W.dirty(Ga));Da.clear().union(Ga.bounds)}else Da.clear();Da.union(Ca.bounds);switch(na){case "top":na=ra;qa=qa.y1-Da.height()-db;break;case "left":na=qa.x1-Da.width()-db;qa=ra;break;case "right":na=qa.x2+Da.width()+db;qa=ra;break;case "bottom":na=ra;qa=qa.y2+db;break;
default:na=Fa.x,qa=Fa.y}a(Fa,"x",na)|a(Fa,"y",qa)&&(Da.translate(na,qa),W.dirty(Fa),Fa.bounds.clear().union(Da),ba.bounds.clear().union(Da),W.dirty(Fa));return Fa.bounds}function ia(W){l.Transform.call(this,null,W)}function aa(W){return W&&"legend-entry"!==W.mark.role}function ya(W,ba,ca){var ra=ba.items,qa=Math.max(0,ba.width||0),Fa=Math.max(0,ba.height||0),na=(new w.Bounds).set(0,0,qa,Fa),Ra=na.clone(),db=na.clone(),$a=[],Ca,Ga;var pa=0;for(Ga=ra.length;pa<Ga;++pa){var Ha=ra[pa];switch(Ha.role){case "axis":var Ua=
e(Ha)?Ra:db;Ua.union(n(W,Ha,qa,Fa));break;case "title":var jb=Ha;break;case "legend":$a.push(ha(W,Ha));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Ra.union(Ha.bounds);db.union(Ha.bounds);break;default:na.union(Ha.bounds)}}if($a.length){const Fb={};$a.forEach(Xb=>{Ca=Xb.orient||"right";"none"!==Ca&&(Fb[Ca]||(Fb[Ca]=[])).push(Xb)});for(const Xb in Fb)ra=Fb[Xb],F(W,ra,fa(ra,Xb,ca.legends,Ra,db,qa,Fa));
$a.forEach(Xb=>{const nc=Xb.bounds;nc.equals(Xb._bounds)||(Xb.bounds=Xb._bounds,W.dirty(Xb),Xb.bounds=nc,W.dirty(Xb));if(ca.autosize&&"fit"===ca.autosize.type)switch(Xb.orient){case "left":case "right":na.add(nc.x1,0).add(nc.x2,0);break;case "top":case "bottom":na.add(0,nc.y1).add(0,nc.y2)}else na.union(nc)})}na.union(Ra).union(db);jb&&na.union(V(W,jb,qa,Fa,na));ba.clip&&na.set(0,0,ba.width||0,ba.height||0);va(W,ba,na,ca)}function va(W,ba,ca,ra){ra=ra.autosize||{};const qa=ra.type;if(!(1>W._autosize)&&
qa){var Fa=W._width,na=W._height,Ra=Math.max(0,ba.width||0),db=Math.max(0,Math.ceil(-ca.x1));ba=Math.max(0,ba.height||0);var $a=Math.max(0,Math.ceil(-ca.y1)),Ca=Math.max(0,Math.ceil(ca.x2-Ra));ca=Math.max(0,Math.ceil(ca.y2-ba));if("padding"===ra.contains){const Ga=W.padding();Fa-=Ga.left+Ga.right;na-=Ga.top+Ga.bottom}"none"===qa?($a=db=0,Ra=Fa,ba=na):"fit"===qa?(Ra=Math.max(0,Fa-db-Ca),ba=Math.max(0,na-$a-ca)):"fit-x"===qa?(Ra=Math.max(0,Fa-db-Ca),na=ba+$a+ca):"fit-y"===qa?(Fa=Ra+db+Ca,ba=Math.max(0,
na-$a-ca)):"pad"===qa&&(Fa=Ra+db+Ca,na=ba+$a+ca);W._resizeView(Fa,na,Ra,ba,[db,$a],ra.resize)}}H.inherits(N,l.Transform,{transform(W,ba){const ca=ba.dataflow,ra=W.mark,qa=ra.marktype,Fa=w.Marks[qa],na=Fa.bound;let Ra=ra.bounds,db;if(Fa.nested)ra.items.length&&ca.dirty(ra.items[0]),Ra=x(ra,na),ra.items.forEach($a=>{$a.bounds.clear().union(Ra)});else if("group"===qa||W.modified())switch(ba.visit(ba.MOD,$a=>ca.dirty($a)),Ra.clear(),ra.items.forEach($a=>Ra.union(x($a,na))),ra.role){case "axis":case "legend":case "title":ba.reflow()}else db=
ba.changed(ba.REM),ba.visit(ba.ADD,$a=>{Ra.union(x($a,na))}),ba.visit(ba.MOD,$a=>{db=db||Ra.alignsWith($a.bounds);ca.dirty($a);Ra.union(x($a,na))}),db&&(Ra.clear(),ra.items.forEach($a=>Ra.union($a.bounds)));w.boundClip(ra);return ba.modifies("bounds")}});v.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};H.inherits(v,l.Transform,{transform(W,ba){const ca=u(ba.dataflow),ra=W.as;let qa=ca.value;ba.visit(ba.ADD,Fa=>Fa[ra]=Fa[ra]||++qa);ca.set(this.value=
qa);return ba}});H.inherits(m,l.Transform,{transform(W,ba){let ca=this.value;ca||(ca=ba.dataflow.scenegraph().mark(W.markdef,g(W),W.index),ca.group.context=W.context,W.context.group||(W.context.group=ca.group),ca.source=this.source,ca.clip=W.clip,ca.interactive=W.interactive,this.value=ca);const ra="group"===ca.marktype?w.GroupItem:w.Item;ba.visit(ba.ADD,qa=>ra.call(qa,ca));if(W.modified("clip")||W.modified("interactive"))ca.clip=W.clip,ca.interactive=!!W.interactive,ca.zdirty=!0,ba.reflow();ca.items=
ba.source;return ba}});const Ia={parity:W=>W.filter((ba,ca)=>ca%2?ba.opacity=0:1),greedy:(W,ba)=>{let ca;return W.filter((ra,qa)=>qa&&bb(ca.bounds,ra.bounds,ba)?ra.opacity=0:(ca=ra,1))}},bb=(W,ba,ca)=>ca>Math.max(ba.x1-W.x2,W.x1-ba.x2,ba.y1-W.y2,W.y1-ba.y2),kb=(W,ba)=>{for(var ca=1,ra=W.length,qa=W[0].bounds;ca<ra;++ca)if(bb(qa,qa=W[ca].bounds,ba))return!0},ua=W=>{W=W.bounds;return 1<W.width()&&1<W.height()},Ta=(W,ba,ca)=>{W=W.range();var ra=new w.Bounds;"top"===ba||"bottom"===ba?ra.set(W[0],-Infinity,
W[1],Infinity):ra.set(-Infinity,W[0],Infinity,W[1]);ra.expand(ca||1);return qa=>ra.encloses(qa.bounds)},Ya=W=>{W.forEach(ba=>ba.opacity=1);return W};H.inherits(d,l.Transform,{transform(W,ba){const ca=Ia[W.method]||Ia.parity,ra=W.separation||0;let qa=ba.materialize(ba.SOURCE).source,Fa,na;if(qa&&qa.length){if(!W.method)return W.modified("method")&&(Ya(qa),ba=ba.reflow(W.modified()).modifies("opacity")),ba;qa=qa.filter(ua);if(qa.length){W.sort&&(qa=qa.slice().sort(W.sort));Fa=Ya(qa);ba=ba.reflow(W.modified()).modifies("opacity");
if(3<=Fa.length&&kb(Fa,ra)){do Fa=ca(Fa,ra);while(3<=Fa.length&&kb(Fa,ra));3>Fa.length&&!H.peek(qa).opacity&&(1<Fa.length&&(H.peek(Fa).opacity=0),H.peek(qa).opacity=1)}W.boundScale&&0<=W.boundTolerance&&(na=Ta(W.boundScale,W.boundOrient,+W.boundTolerance),qa.forEach(db=>{na(db)||(db.opacity=0)}));var Ra=Fa[0].mark.bounds.clear();qa.forEach(db=>{db.opacity&&Ra.union(db.bounds)});return ba}}}});H.inherits(f,l.Transform,{transform(W,ba){const ca=ba.dataflow;ba.visit(ba.ALL,ra=>ca.dirty(ra));ba.fields&&
ba.fields.zindex&&(W=ba.source&&ba.source[0])&&(W.mark.zdirty=!0)}});const Da=new w.Bounds,ta=(W,ba)=>Math.floor(Math.min(W,ba)),U=(W,ba)=>Math.ceil(Math.max(W,ba));H.inherits(ia,l.Transform,{transform(W,ba){const ca=ba.dataflow;W.mark.items.forEach(ra=>{if(W.layout){var qa=W.layout;var Fa=ra.items;for(var na=Fa.length,Ra=0,db,$a,Ca={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Ra<na;++Ra)if(db=Fa[Ra],$a=db.items,"group"===db.marktype)switch(db.role){case "axis":case "legend":case "title":break;
case "row-header":Ca.rowheaders.push(...$a);break;case "row-footer":Ca.rowfooters.push(...$a);break;case "column-header":Ca.colheaders.push(...$a);break;case "column-footer":Ca.colfooters.push(...$a);break;case "row-title":Ca.rowtitle=$a[0];break;case "column-title":Ca.coltitle=$a[0];break;default:Ca.marks.push(...$a)}Fa=Ca;$a=Fa.marks;Ca="flush"===qa.bounds?z:G;na=qa.offset;var Ga=qa.columns||$a.length,pa=0>=Ga?1:Math.ceil($a.length/Ga),Ha=pa*Ga;Ra=F(ca,$a,qa);Ra.empty()&&Ra.set(0,0,0,0);if(Fa.rowheaders){db=
O(qa.headerBand,"row",null);var Ua=K(ca,Fa.rowheaders,$a,Ga,pa,-O(na,"rowHeader"),ta,0,Ca,"x1",0,Ga,1,db)}if(Fa.colheaders){db=O(qa.headerBand,"column",null);var jb=K(ca,Fa.colheaders,$a,Ga,Ga,-O(na,"columnHeader"),ta,1,Ca,"y1",0,1,Ga,db)}if(Fa.rowfooters){db=O(qa.footerBand,"row",null);var Fb=K(ca,Fa.rowfooters,$a,Ga,pa,O(na,"rowFooter"),U,0,Ca,"x2",Ga-1,Ga,1,db)}if(Fa.colfooters){db=O(qa.footerBand,"column",null);var Xb=K(ca,Fa.colfooters,$a,Ga,Ga,O(na,"columnFooter"),U,1,Ca,"y2",Ha-Ga,1,Ga,db)}Fa.rowtitle&&
(db=O(qa.titleAnchor,"row"),$a=O(na,"rowTitle"),$a="end"===db?Fb+$a:Ua-$a,db=O(qa.titleBand,"row",.5),R(ca,Fa.rowtitle,$a,0,Ra,db));Fa.coltitle&&(db=O(qa.titleAnchor,"column"),$a=O(na,"columnTitle"),$a="end"===db?Xb+$a:jb-$a,db=O(qa.titleBand,"column",.5),R(ca,Fa.coltitle,$a,1,Ra,db))}ya(ca,ra,W)});return aa(W.mark.group)?ba.reflow():ba}});k.bound=N;k.identifier=v;k.mark=m;k.overlap=d;k.render=f;k.viewlayout=ia;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(35),A(14),A(15),A(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.d3))})(this,function(k,l,w,H,N,x){function v(aa){l.Transform.call(this,null,aa)}function u(aa){l.Transform.call(this,null,aa)}function m(){return l.ingest({})}
function g(aa){const ya=H.fastmap().test(va=>va.exit);ya.lookup=va=>ya.get(aa(va));return ya}function d(aa){l.Transform.call(this,null,aa)}function f(aa){l.Transform.call(this,[],aa)}function a(aa){l.Transform.call(this,{},aa)}function e(aa){l.Transform.call(this,null,aa)}function n(aa){return w.isContinuous(aa)&&aa!==w.Sequential}function y(aa){l.Transform.call(this,null,aa);this.modified(!0)}function B(aa,ya,va){w.isLogarithmic(aa)&&Math.abs(ya.reduce((Ia,bb)=>Ia+(0>bb?-1:0<bb?1:0),0))!==ya.length&&
va.warn("Log scale domain includes zero: "+H.stringValue(ya));return ya}function D(aa,ya,va){return H.isFunction(aa)&&(ya||va)?w.interpolateRange(aa,O(ya||[0,1],va)):aa}function O(aa,ya){return ya?aa.slice().reverse():aa}function M(aa){l.Transform.call(this,null,aa)}function F(aa){l.Transform.call(this,null,aa)}function z(aa,ya,va,Ia,bb){ya=(ya-aa.sum)/2;for(var kb=aa.length,ua=0,Ta;ua<kb;++ua)Ta=aa[ua],Ta[Ia]=ya,Ta[bb]=ya+=Math.abs(va(Ta))}function G(aa,ya,va,Ia,bb){ya=1/aa.sum;for(var kb=0,ua=aa.length,
Ta=0,Ya=0,Da;Ta<ua;++Ta)Da=aa[Ta],Da[Ia]=kb,Da[bb]=kb=ya*(Ya+=Math.abs(va(Da)))}function K(aa,ya,va,Ia,bb){for(var kb=ya=0,ua=aa.length,Ta=0,Ya,Da;Ta<ua;++Ta)Da=aa[Ta],Ya=+va(Da),0>Ya?(Da[Ia]=kb,Da[bb]=kb+=Ya):(Da[Ia]=ya,Da[bb]=ya+=Ya)}function R(aa,ya,va,Ia){var bb=[],kb=W=>W(Da),ua;if(null==ya)bb.push(aa.slice());else{var Ta={};var Ya=0;for(ua=aa.length;Ya<ua;++Ya){var Da=aa[Ya];var ta=ya.map(kb);var U=Ta[ta];U||(Ta[ta]=U=[],bb.push(U));U.push(Da)}}kb=ta=0;for(aa=bb.length;ta<aa;++ta){U=bb[ta];
ya=Ya=0;for(ua=U.length;Ya<ua;++Ya)ya+=Math.abs(Ia(U[Ya]));U.sum=ya;ya>kb&&(kb=ya);va&&U.sort(va)}bb.max=kb;return bb}H.inherits(v,l.Transform,{transform(aa,ya){if(this.value&&!aa.modified())return ya.StopPropagation;var va=ya.dataflow.locale();ya=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);var Ia=this.value,bb=aa.scale,kb=w.tickCount(bb,null==aa.count?aa.values?aa.values.length:10:aa.count,aa.minstep),ua=aa.format||w.tickFormat(va,bb,kb,aa.formatSpecifier,aa.formatType,!!aa.values),Ta=aa.values?w.validTicks(bb,
aa.values,kb):w.tickValues(bb,kb);Ia&&(ya.rem=Ia);Ia=Ta.map((Ya,Da)=>l.ingest({index:Da/(Ta.length-1||1),value:Ya,label:ua(Ya)}));aa.extra&&Ia.length&&Ia.push(l.ingest({index:-1,extra:{value:Ia[0].value},label:""}));ya.source=Ia;this.value=ya.add=Ia;return ya}});H.inherits(u,l.Transform,{transform(aa,ya){var va=ya.dataflow,Ia=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),bb=aa.item||m,kb=aa.key||l.tupleid,ua=this.value;H.isArray(Ia.encode)&&(Ia.encode=null);ua&&(aa.modified("key")||ya.modified(kb))&&H.error("DataJoin does not support modified key function or fields.");
ua||(ya=ya.addAll(),this.value=ua=g(kb));ya.visit(ya.ADD,Ta=>{const Ya=kb(Ta);let Da=ua.get(Ya);Da?Da.exit?(ua.empty--,Ia.add.push(Da)):Ia.mod.push(Da):(Da=bb(Ta),ua.set(Ya,Da),Ia.add.push(Da));Da.datum=Ta;Da.exit=!1});ya.visit(ya.MOD,Ta=>{var Ya=kb(Ta);if(Ya=ua.get(Ya))Ya.datum=Ta,Ia.mod.push(Ya)});ya.visit(ya.REM,Ta=>{var Ya=kb(Ta);Ya=ua.get(Ya);Ta!==Ya.datum||Ya.exit||(Ia.rem.push(Ya),Ya.exit=!0,++ua.empty)});ya.changed(ya.ADD_MOD)&&Ia.modifies("datum");(ya.clean()||aa.clean&&ua.empty>va.cleanThreshold)&&
va.runAfter(ua.clean);return Ia}});H.inherits(d,l.Transform,{transform(aa,ya){var va=ya.fork(ya.ADD_REM),Ia=aa.mod||!1,bb=aa.encoders,kb=ya.encode;if(H.isArray(kb))if(va.changed()||kb.every(U=>bb[U]))kb=kb[0],va.encode=null;else return ya.StopPropagation;var ua="enter"===kb,Ta=bb.update||H.falsy,Ya=bb.enter||H.falsy,Da=bb.exit||H.falsy,ta=(kb&&!ua?bb[kb]:Ta)||H.falsy;ya.changed(ya.ADD)&&(ya.visit(ya.ADD,U=>{Ya(U,aa);Ta(U,aa)}),va.modifies(Ya.output),va.modifies(Ta.output),ta!==H.falsy&&ta!==Ta&&(ya.visit(ya.ADD,
U=>{ta(U,aa)}),va.modifies(ta.output)));ya.changed(ya.REM)&&Da!==H.falsy&&(ya.visit(ya.REM,U=>{Da(U,aa)}),va.modifies(Da.output));if(ua||ta!==H.falsy)kb=ya.MOD|(aa.modified()?ya.REFLOW:0),ua?(ya.visit(kb,U=>{const W=Ya(U,aa)||Ia;(ta(U,aa)||W)&&va.mod.push(U)}),va.mod.length&&va.modifies(Ya.output)):ya.visit(kb,U=>{(ta(U,aa)||Ia)&&va.mod.push(U)}),va.mod.length&&va.modifies(ta.output);return va.changed()?va:ya.StopPropagation}});H.inherits(f,l.Transform,{transform(aa,ya){if(null!=this.value&&!aa.modified())return ya.StopPropagation;
var va=ya.dataflow.locale(),Ia=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),bb=this.value,kb=aa.type||w.SymbolLegend,ua=aa.scale,Ta=+aa.limit,Ya=w.tickCount(ua,null==aa.count?5:aa.count,aa.minstep),Da=!!aa.values||kb===w.SymbolLegend,ta=aa.format||w.labelFormat(va,ua,Ya,kb,aa.formatSpecifier,aa.formatType,Da),U=aa.values||w.labelValues(ua,Ya),W;bb&&(Ia.rem=bb);if(kb===w.SymbolLegend){if(Ta&&U.length>Ta){ya.dataflow.warn("Symbol legend count exceeds limit, filtering items.");bb=U.slice(0,Ta-1);var ba=!0}else bb=
U;if(H.isFunction(W=aa.size)){aa.values||0!==ua(bb[0])||(bb=bb.slice(1));var ca=bb.reduce((qa,Fa)=>Math.max(qa,W(Fa,aa)),0)}else W=H.constant(ca=W||8);bb=bb.map((qa,Fa)=>l.ingest({index:Fa,label:ta(qa,Fa,bb),value:qa,offset:ca,size:W(qa,aa)}));ba&&(ba=U[bb.length],bb.push(l.ingest({index:bb.length,label:`\u2026${U.length-bb.length} entries`,value:ba,offset:ca,size:W(ba,aa)})))}else if(kb===w.GradientLegend){ya=ua.domain();var ra=w.scaleFraction(ua,ya[0],H.peek(ya));3>U.length&&!aa.values&&ya[0]!==
H.peek(ya)&&(U=[ya[0],H.peek(ya)]);bb=U.map((qa,Fa)=>l.ingest({index:Fa,label:ta(qa,Fa,U),value:qa,perc:ra(qa)}))}else W=U.length-1,ra=w.labelFraction(ua),bb=U.map((qa,Fa)=>l.ingest({index:Fa,label:ta(qa,Fa,U),value:qa,perc:Fa?ra(qa):0,perc2:Fa===W?1:ra(U[Fa+1])}));Ia.source=bb;this.value=Ia.add=bb;return Ia}});const T=aa=>aa.source.x,ja=aa=>aa.source.y,fa=aa=>aa.target.x,ha=aa=>aa.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},
{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};H.inherits(a,l.Transform,{transform(aa,ya){var va=aa.sourceX||T,Ia=aa.sourceY||ja,bb=
aa.targetX||fa,kb=aa.targetY||ha,ua=aa.as||"path",Ta=aa.shape||"line",Ya=C.get(Ta+"-"+(aa.orient||"vertical"))||C.get(Ta);Ya||H.error("LinkPath unsupported type: "+aa.shape+(aa.orient?"-"+aa.orient:""));ya.visit(ya.SOURCE,Da=>{Da[ua]=Ya(va(Da),Ia(Da),bb(Da),kb(Da))});return ya.reflow(aa.modified()).modifies(ua)}});const la=(aa,ya,va,Ia)=>"M"+aa+","+ya+"L"+va+","+Ia,Z=(aa,ya,va,Ia)=>{var bb=va-aa,kb=Ia-ya,ua=Math.sqrt(bb*bb+kb*kb)/2;return"M"+aa+","+ya+"A"+ua+","+ua+" "+180*Math.atan2(kb,bb)/Math.PI+
" 0 1 "+va+","+Ia},P=(aa,ya,va,Ia)=>{var bb=va-aa;const kb=Ia-ya,ua=.2*(bb+kb);bb=.2*(kb-bb);return"M"+aa+","+ya+"C"+(aa+ua)+","+(ya+bb)+" "+(va+bb)+","+(Ia-ua)+" "+va+","+Ia},C=H.fastmap({line:la,"line-radial":(aa,ya,va,Ia)=>la(ya*Math.cos(aa),ya*Math.sin(aa),Ia*Math.cos(va),Ia*Math.sin(va)),arc:Z,"arc-radial":(aa,ya,va,Ia)=>Z(ya*Math.cos(aa),ya*Math.sin(aa),Ia*Math.cos(va),Ia*Math.sin(va)),curve:P,"curve-radial":(aa,ya,va,Ia)=>P(ya*Math.cos(aa),ya*Math.sin(aa),Ia*Math.cos(va),Ia*Math.sin(va)),"orthogonal-horizontal":(aa,
ya,va,Ia)=>"M"+aa+","+ya+"V"+Ia+"H"+va,"orthogonal-vertical":(aa,ya,va,Ia)=>"M"+aa+","+ya+"H"+va+"V"+Ia,"orthogonal-radial":(aa,ya,va,Ia)=>{const bb=Math.cos(va),kb=Math.sin(va);return"M"+ya*Math.cos(aa)+","+ya*Math.sin(aa)+"A"+ya+","+ya+" 0 0,"+((Math.abs(va-aa)>Math.PI?va<=aa:va>aa)?1:0)+" "+ya*bb+","+ya*kb+"L"+Ia*bb+","+Ia*kb},"diagonal-horizontal":(aa,ya,va,Ia)=>{const bb=(aa+va)/2;return"M"+aa+","+ya+"C"+bb+","+ya+" "+bb+","+Ia+" "+va+","+Ia},"diagonal-vertical":(aa,ya,va,Ia)=>{const bb=(ya+
Ia)/2;return"M"+aa+","+ya+"C"+aa+","+bb+" "+va+","+bb+" "+va+","+Ia},"diagonal-radial":(aa,ya,va,Ia)=>{const bb=Math.cos(aa);aa=Math.sin(aa);const kb=Math.cos(va);va=Math.sin(va);const ua=(ya+Ia)/2;return"M"+ya*bb+","+ya*aa+"C"+ua*bb+","+ua*aa+" "+ua*kb+","+ua*va+" "+Ia*kb+","+Ia*va}});e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};H.inherits(e,l.Transform,{transform(aa,ya){var va=aa.as||["startAngle","endAngle"],Ia=va[0],bb=va[1],kb=aa.startAngle||0,ua=null!=aa.endAngle?aa.endAngle:2*Math.PI,Ta=ya.source,Ya=Ta.map(aa.field||H.one),Da=Ya.length,ta=kb;kb=(ua-kb)/N.sum(Ya);ua=N.range(Da);var U;aa.sort&&ua.sort((ca,ra)=>Ya[ca]-Ya[ra]);for(U=0;U<Da;++U){var W=Ya[ua[U]];var ba=Ta[ua[U]];ba[Ia]=ta;ba[bb]=ta+=W*kb}this.value=Ya;return ya.reflow(aa.modified()).modifies(va)}});
const V=H.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));H.inherits(y,l.Transform,{transform(aa,ya){var va=ya.dataflow,Ia=this.value;var bb=aa.type;var kb="";if(bb===w.Sequential)bb=w.Sequential+"-"+w.Linear;else{var ua=aa.type;if(ua=w.isContinuous(ua)&&ua!==w.Time&&ua!==w.UTC&&(aa.scheme||aa.range&&aa.range.length&&aa.range.every(H.isString)))kb=
aa.rawDomain?aa.rawDomain.length:aa.domain?aa.domain.length+ +(null!=aa.domainMid):0,kb=2===kb?w.Sequential+"-":3===kb?w.Diverging+"-":"";bb=(kb+bb||w.Linear).toLowerCase()}Ia&&bb===Ia.type||(this.value=Ia=w.scale(bb)());for(bb in aa)V[bb]||"padding"===bb&&n(Ia.type)||(H.isFunction(Ia[bb])?Ia[bb](aa[bb]):va.warn("Unsupported scale property: "+bb));kb=bb=Ia;(ua=aa.domainRaw)?(Ia.domain(B(Ia.type,ua,va)),ua=ua.length):ua=-1;if(-1<ua)va=ua;else{var Ta=aa.domain;ua=Ia.type;var Ya;!(Ya=aa.zero)&&(Ya=void 0===
aa.zero)&&(Ya=Ia.type,Ya=!Ia.bins&&(Ya===w.Linear||Ya===w.Pow||Ya===w.Sqrt));if(Ta){if(n(ua)&&aa.padding&&Ta[0]!==H.peek(Ta)){var Da=aa.range,ta=aa.padding;var U=aa.exponent;var W=aa.constant;Da=Math.abs(H.peek(Da)-Da[0]);ta=Da/(Da-2*ta);U=ua===w.Log?H.zoomLog(Ta,null,ta):ua===w.Sqrt?H.zoomPow(Ta,null,ta,.5):ua===w.Pow?H.zoomPow(Ta,null,ta,U||1):ua===w.Symlog?H.zoomSymlog(Ta,null,ta,W||1):H.zoomLinear(Ta,null,ta);Ta=Ta.slice();Ta[0]=U[0];Ta[Ta.length-1]=U[1]}if(Ya||null!=aa.domainMin||null!=aa.domainMax||
null!=aa.domainMid)U=(Ta=Ta.slice()).length-1||1,Ya&&(0<Ta[0]&&(Ta[0]=0),0>Ta[U]&&(Ta[U]=0)),null!=aa.domainMin&&(Ta[0]=aa.domainMin),null!=aa.domainMax&&(Ta[U]=aa.domainMax),null!=aa.domainMid&&(Ya=aa.domainMid,W=Ya>Ta[U]?U+1:Ya<Ta[0]?0:U,W!==U&&va.warn("Scale domainMid exceeds domain min or max.",Ya),Ta.splice(W,0,Ya));Ia.domain(B(ua,Ta,va));ua===w.Ordinal&&Ia.unknown(aa.domainImplicit?w.scaleImplicit:void 0);aa.nice&&Ia.nice&&Ia.nice(!0!==aa.nice&&w.tickCount(Ia,aa.nice)||null);va=Ta.length}else va=
0}(ua=aa.bins)&&!H.isArray(ua)&&(Ya=kb.domain(),Ia=Ya[0],Ya=H.peek(Ya),Ta=ua.step,U=null==ua.start?Ia:ua.start,ua=null==ua.stop?Ya:ua.stop,Ta||H.error("Scale bins parameter missing step property."),U<Ia&&(U=Ta*Math.ceil(Ia/Ta)),ua>Ya&&(ua=Ta*Math.floor(Ya/Ta)),ua=N.range(U,ua+Ta/2,Ta));ua?kb.bins=ua:kb.bins&&delete kb.bins;kb.type===w.BinOrdinal&&(ua?aa.domain||aa.domainRaw||(kb.domain(ua),va=ua.length):kb.bins=kb.domain());Ia=va;a:{kb=bb.type;va=aa.round||!1;ua=aa.range;if(null!=aa.rangeStep)kb!==
w.Band&&kb!==w.Point&&H.error("Only band and point scales support rangeStep."),ua=[0,aa.rangeStep*w.bandSpace(Ia,kb===w.Point?1:(null!=aa.paddingInner?aa.paddingInner:aa.padding)||0,(null!=aa.paddingOuter?aa.paddingOuter:aa.padding)||0)];else if(aa.scheme&&(ua=aa.schemeExtent,H.isArray(aa.scheme)?Ya=w.interpolateColors(aa.scheme,aa.interpolate,aa.interpolateGamma):(Ya=aa.scheme.toLowerCase(),(Ya=w.scheme(Ya))||H.error(`Unrecognized scheme name: ${aa.scheme}`)),Ia=kb===w.Threshold?Ia+1:kb===w.BinOrdinal?
Ia-1:kb===w.Quantile||kb===w.Quantize?+aa.schemeCount||5:Ia,ua=w.isInterpolating(kb)?D(Ya,ua,aa.reverse):H.isFunction(Ya)?w.quantizeInterpolator(D(Ya,ua),Ia):kb===w.Ordinal?Ya:Ya.slice(0,Ia),H.isFunction(ua)))if(bb.interpolator){bb.interpolator(ua);break a}else H.error(`Scale type ${kb} does not support interpolating color schemes.`);ua&&w.isInterpolating(kb)?bb.interpolator(w.interpolateColors(O(ua,aa.reverse),aa.interpolate,aa.interpolateGamma)):(ua&&aa.interpolate&&bb.interpolate?bb.interpolate(w.interpolate(aa.interpolate,
aa.interpolateGamma)):H.isFunction(bb.round)?bb.round(va):H.isFunction(bb.rangeRound)&&bb.interpolate(va?x.interpolateRound:x.interpolate),ua&&bb.range(O(ua,aa.reverse)))}return ya.fork(ya.NO_SOURCE|ya.NO_FIELDS)}});H.inherits(M,l.Transform,{transform(aa,ya){const va=aa.modified("sort")||ya.changed(ya.ADD)||ya.modified(aa.sort.fields)||ya.modified("datum");va&&ya.source.sort(l.stableCompare(aa.sort));this.modified(va);return ya}});const ia=["y0","y1"];F.Definition={type:"Stack",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":ia}]};H.inherits(F,l.Transform,{transform(aa,ya){var va=aa.as||ia,Ia=va[0],bb=va[1],kb=l.stableCompare(aa.sort),ua=aa.field||H.one,Ta="center"===aa.offset?z:"normalize"===aa.offset?G:K,Ya;kb=R(ya.source,aa.groupby,kb,ua);var Da=0;var ta=kb.length;for(Ya=kb.max;Da<
ta;++Da)Ta(kb[Da],Ya,ua,Ia,bb);return ya.reflow(aa.modified()).modifies(va)}});k.axisticks=v;k.datajoin=u;k.encode=d;k.legendentries=f;k.linkpath=a;k.pie=e;k.scale=y;k.sortitems=M;k.stack=F;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(Wa){return 1<Wa?0:-1>Wa?me:Math.acos(Wa)}function H(Wa){return 1<Wa?te:-1>Wa?-te:Math.asin(Wa)}function N(Wa){return(Wa=kc(Wa/2))*Wa}function x(){}function v(Wa,ob){if(Wa&&If.hasOwnProperty(Wa.type))If[Wa.type](Wa,ob)}function u(Wa,ob,zb){var Mb=-1;zb=Wa.length-
zb;for(ob.lineStart();++Mb<zb;){var bc=Wa[Mb];ob.point(bc[0],bc[1],bc[2])}ob.lineEnd()}function m(Wa,ob){var zb=-1,Mb=Wa.length;for(ob.polygonStart();++zb<Mb;)u(Wa[zb],ob,1);ob.polygonEnd()}function g(Wa,ob){if(Wa&&Yf.hasOwnProperty(Wa.type))Yf[Wa.type](Wa,ob);else v(Wa,ob)}function d(){Cb.point=a}function f(){e(qe,yc)}function a(Wa,ob){Cb.point=e;qe=Wa;yc=ob;Wa*=Xd;ob*=Xd;wa=Wa;Ea=Td(ob=ob/2+kf);Za=kc(ob)}function e(Wa,ob){Wa*=Xd;ob*=Xd;ob=ob/2+kf;var zb=Wa-wa,Mb=0<=zb?1:-1,bc=Mb*zb;zb=Td(ob);ob=
kc(ob);var Kc=Za*ob,r=Ea*zb+Kc*Td(bc);Mb=Kc*Mb*kc(bc);Sf.add(Ge(Mb,r));wa=Wa;Ea=zb;Za=ob}function n(Wa){return[Ge(Wa[1],Wa[0]),H(Wa[2])]}function y(Wa){var ob=Wa[0];Wa=Wa[1];var zb=Td(Wa);return[zb*Td(ob),zb*kc(ob),kc(Wa)]}function B(Wa,ob){return Wa[0]*ob[0]+Wa[1]*ob[1]+Wa[2]*ob[2]}function D(Wa,ob){return[Wa[1]*ob[2]-Wa[2]*ob[1],Wa[2]*ob[0]-Wa[0]*ob[2],Wa[0]*ob[1]-Wa[1]*ob[0]]}function O(Wa,ob){Wa[0]+=ob[0];Wa[1]+=ob[1];Wa[2]+=ob[2]}function M(Wa,ob){return[Wa[0]*ob,Wa[1]*ob,Wa[2]*ob]}function F(Wa){var ob=
ue(Wa[0]*Wa[0]+Wa[1]*Wa[1]+Wa[2]*Wa[2]);Wa[0]/=ob;Wa[1]/=ob;Wa[2]/=ob}function z(Wa,ob){jd.push(Qd=[ub=Wa,$b=Wa]);ob<Yb&&(Yb=ob);ob>Oc&&(Oc=ob)}function G(Wa,ob){var zb=y([Wa*Xd,ob*Xd]);if(od){var Mb=D(od,zb);Mb=D([Mb[1],-Mb[0],0],Mb);F(Mb);Mb=n(Mb);var bc=Wa-gd,Kc=0<bc?1:-1,r=Mb[0]*Od*Kc;bc=180<Be(bc);bc^(Kc*gd<r&&r<Kc*Wa)?(Mb=Mb[1]*Od,Mb>Oc&&(Oc=Mb)):(r=(r+360)%360-180,bc^(Kc*gd<r&&r<Kc*Wa))?(Mb=-Mb[1]*Od,Mb<Yb&&(Yb=Mb)):(ob<Yb&&(Yb=ob),ob>Oc&&(Oc=ob));bc?Wa<gd?ha(ub,Wa)>ha(ub,$b)&&($b=Wa):ha(Wa,
$b)>ha(ub,$b)&&(ub=Wa):$b>=ub?(Wa<ub&&(ub=Wa),Wa>$b&&($b=Wa)):Wa>gd?ha(ub,Wa)>ha(ub,$b)&&($b=Wa):ha(Wa,$b)>ha(ub,$b)&&(ub=Wa)}else jd.push(Qd=[ub=Wa,$b=Wa]);ob<Yb&&(Yb=ob);ob>Oc&&(Oc=ob);od=zb;gd=Wa}function K(){ie.point=G}function R(){Qd[0]=ub;Qd[1]=$b;ie.point=z;od=null}function T(Wa,ob){if(od){var zb=Wa-gd;Id.add(180<Be(zb)?zb+(0<zb?360:-360):zb)}else Mc=Wa,Nd=ob;Cb.point(Wa,ob);G(Wa,ob)}function ja(){Cb.lineStart()}function fa(){T(Mc,Nd);Cb.lineEnd();1E-6<Be(Id)&&(ub=-($b=180));Qd[0]=ub;Qd[1]=
$b;od=null}function ha(Wa,ob){return 0>(ob-=Wa)?ob+360:ob}function la(Wa,ob){return Wa[0]-ob[0]}function Z(Wa,ob){return Wa[0]<=Wa[1]?Wa[0]<=ob&&ob<=Wa[1]:ob<Wa[0]||Wa[1]<ob}function P(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob);C(zb*Td(Wa),zb*kc(Wa),kc(ob))}function C(Wa,ob,zb){++Gf;kd+=(Wa-kd)/Gf;We+=(ob-We)/Gf;uf+=(zb-uf)/Gf}function V(){oc.point=ia}function ia(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob);Wb=zb*Td(Wa);Tb=zb*kc(Wa);ic=kc(ob);oc.point=aa;C(Wb,Tb,ic)}function aa(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob),Mb=
zb*Td(Wa);Wa=zb*kc(Wa);ob=kc(ob);var bc=Ge(ue((bc=Tb*ob-ic*Wa)*bc+(bc=ic*Mb-Wb*ob)*bc+(bc=Wb*Wa-Tb*Mb)*bc),Wb*Mb+Tb*Wa+ic*ob);tf+=bc;mf+=bc*(Wb+(Wb=Mb));Zf+=bc*(Tb+(Tb=Wa));yf+=bc*(ic+(ic=ob));C(Wb,Tb,ic)}function ya(){oc.point=P}function va(){oc.point=bb}function Ia(){kb(Pa,vb);oc.point=P}function bb(Wa,ob){Pa=Wa;vb=ob;Wa*=Xd;ob*=Xd;oc.point=kb;var zb=Td(ob);Wb=zb*Td(Wa);Tb=zb*kc(Wa);ic=kc(ob);C(Wb,Tb,ic)}function kb(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob),Mb=zb*Td(Wa);Wa=zb*kc(Wa);ob=kc(ob);zb=Tb*ob-
ic*Wa;var bc=ic*Mb-Wb*ob,Kc=Wb*Wa-Tb*Mb,r=Gc(zb,bc,Kc),Q=H(r);r=r&&-Q/r;Pe.add(r*zb);nf.add(r*bc);Aa.add(r*Kc);tf+=Q;mf+=Q*(Wb+(Wb=Mb));Zf+=Q*(Tb+(Tb=Wa));yf+=Q*(ic+(ic=ob));C(Wb,Tb,ic)}function ua(Wa){return function(){return Wa}}function Ta(Wa,ob){function zb(Mb,bc){return Mb=Wa(Mb,bc),ob(Mb[0],Mb[1])}Wa.invert&&ob.invert&&(zb.invert=function(Mb,bc){return Mb=ob.invert(Mb,bc),Mb&&Wa.invert(Mb[0],Mb[1])});return zb}function Ya(Wa,ob){return[Be(Wa)>me?Wa+Math.round(-Wa/we)*we:Wa,ob]}function Da(Wa,
ob,zb){return(Wa%=we)?ob||zb?Ta(U(Wa),W(ob,zb)):U(Wa):ob||zb?W(ob,zb):Ya}function ta(Wa){return function(ob,zb){return ob+=Wa,[ob>me?ob-we:ob<-me?ob+we:ob,zb]}}function U(Wa){var ob=ta(Wa);ob.invert=ta(-Wa);return ob}function W(Wa,ob){function zb(Q,ma){var Ma=Td(ma),gb=Td(Q)*Ma;Q=kc(Q)*Ma;ma=kc(ma);Ma=ma*Mb+gb*bc;return[Ge(Q*Kc-Ma*r,gb*Mb-ma*bc),H(Ma*Kc+Q*r)]}var Mb=Td(Wa),bc=kc(Wa),Kc=Td(ob),r=kc(ob);zb.invert=function(Q,ma){var Ma=Td(ma),gb=Td(Q)*Ma;Q=kc(Q)*Ma;ma=kc(ma);Ma=ma*Kc-Q*r;return[Ge(Q*
Kc+ma*r,gb*Mb+Ma*bc),H(Ma*Mb-gb*bc)]};return zb}function ba(Wa){function ob(zb){zb=Wa(zb[0]*Xd,zb[1]*Xd);return zb[0]*=Od,zb[1]*=Od,zb}Wa=Da(Wa[0]*Xd,Wa[1]*Xd,2<Wa.length?Wa[2]*Xd:0);ob.invert=function(zb){zb=Wa.invert(zb[0]*Xd,zb[1]*Xd);return zb[0]*=Od,zb[1]*=Od,zb};return ob}function ca(Wa,ob,zb,Mb,bc,Kc){if(zb){var r=Td(ob),Q=kc(ob);zb*=Mb;if(null==bc)bc=ob+Mb*we,Kc=ob-zb/2;else if(bc=ra(r,bc),Kc=ra(r,Kc),0<Mb?bc<Kc:bc>Kc)bc+=Mb*we;for(;0<Mb?bc>Kc:bc<Kc;bc-=zb)ob=n([r,-Q*Td(bc),-Q*kc(bc)]),Wa.point(ob[0],
ob[1])}}function ra(Wa,ob){ob=y(ob);ob[0]-=Wa;F(ob);Wa=w(-ob[1]);return((0>-ob[2]?-Wa:Wa)+we-1E-6)%we}function qa(){var Wa=[],ob;return{point:function(zb,Mb,bc){ob.push([zb,Mb,bc])},lineStart:function(){Wa.push(ob=[])},lineEnd:x,rejoin:function(){1<Wa.length&&Wa.push(Wa.pop().concat(Wa.shift()))},result:function(){var zb=Wa;Wa=[];ob=null;return zb}}}function Fa(Wa,ob){return 1E-6>Be(Wa[0]-ob[0])&&1E-6>Be(Wa[1]-ob[1])}function na(Wa,ob,zb,Mb){this.x=Wa;this.z=ob;this.o=zb;this.e=Mb;this.v=!1;this.n=
this.p=null}function Ra(Wa,ob,zb,Mb,bc){var Kc=[],r=[];Wa.forEach(function(lb){if(!(0>=(sb=lb.length-1))){var sb,Rb=lb[0],ec=lb[sb];if(Fa(Rb,ec)){if(!Rb[2]&&!ec[2]){bc.lineStart();for(Q=0;Q<sb;++Q)bc.point((Rb=lb[Q])[0],Rb[1]);bc.lineEnd();return}ec[0]+=2E-6}Kc.push(sb=new na(Rb,lb,null,!0));r.push(sb.o=new na(Rb,null,sb,!1));Kc.push(sb=new na(ec,lb,null,!1));r.push(sb.o=new na(ec,null,sb,!0))}});if(Kc.length){r.sort(ob);db(Kc);db(r);var Q=0;for(Wa=r.length;Q<Wa;++Q)r[Q].e=zb=!zb;zb=Kc[0];for(var ma;;){for(var Ma=
zb,gb=!0;Ma.v;)if((Ma=Ma.n)===zb)return;ob=Ma.z;bc.lineStart();do{Ma.v=Ma.o.v=!0;if(Ma.e){if(gb)for(Q=0,Wa=ob.length;Q<Wa;++Q)bc.point((ma=ob[Q])[0],ma[1]);else Mb(Ma.x,Ma.n.x,1,bc);Ma=Ma.n}else{if(gb)for(ob=Ma.p.z,Q=ob.length-1;0<=Q;--Q)bc.point((ma=ob[Q])[0],ma[1]);else Mb(Ma.x,Ma.p.x,-1,bc);Ma=Ma.p}Ma=Ma.o;ob=Ma.z;gb=!gb}while(!Ma.v);bc.lineEnd()}}}function db(Wa){if(ob=Wa.length){for(var ob,zb=0,Mb=Wa[0],bc;++zb<ob;)Mb.n=bc=Wa[zb],bc.p=Mb,Mb=bc;Mb.n=bc=Wa[0];bc.p=Mb}}function $a(Wa){return Be(Wa[0])<=
me?Wa[0]:Fe(Wa[0])*((Be(Wa[0])+me)%we-me)}function Ca(Wa,ob){var zb=$a(ob);ob=ob[1];var Mb=kc(ob),bc=[kc(zb),-Td(zb),0],Kc=0,r=0,Q=new l.Adder;1===Mb?ob=te+1E-6:-1===Mb&&(ob=-te-1E-6);Mb=0;for(var ma=Wa.length;Mb<ma;++Mb)if(gb=(Ma=Wa[Mb]).length){var Ma,gb,lb=Ma[gb-1],sb=$a(lb),Rb=lb[1]/2+kf,ec=kc(Rb),Vb=Td(Rb);for(Rb=0;Rb<gb;++Rb,sb=dd,ec=zd,Vb=rd,lb=Qc){var Qc=Ma[Rb],dd=$a(Qc);rd=Qc[1]/2+kf;var zd=kc(rd),rd=Td(rd),bd=dd-sb,Jc=0<=bd?1:-1,ud=Jc*bd,ee=ud>me;ec*=zd;Q.add(Ge(ec*Jc*kc(ud),Vb*rd+ec*Td(ud)));
Kc+=ee?bd+Jc*we:bd;ee^sb>=zb^dd>=zb&&(lb=D(y(lb),y(Qc)),F(lb),sb=D(bc,lb),F(sb),sb=(ee^0<=bd?-1:1)*H(sb[2]),ob>sb||ob===sb&&(lb[0]||lb[1]))&&(r+=ee^0<=bd?1:-1)}}return(-1E-6>Kc||1E-6>Kc&&-1E-12>Q)^r&1}function Ga(Wa,ob,zb,Mb){return function(bc){function Kc(bd,Jc){Wa(bd,Jc)&&bc.point(bd,Jc)}function r(bd,Jc){sb.point(bd,Jc)}function Q(){rd.point=r;sb.lineStart()}function ma(){rd.point=Kc;sb.lineEnd()}function Ma(bd,Jc){zd.push([bd,Jc]);ec.point(bd,Jc)}function gb(){ec.lineStart();zd=[]}function lb(){Ma(zd[0][0],
zd[0][1]);ec.lineEnd();var bd=ec.clean(),Jc=Rb.result(),ud=Jc.length,ee;zd.pop();Qc.push(zd);zd=null;if(ud)if(bd&1){if(ud=Jc[0],0<(Jc=ud.length-1)){Vb||(bc.polygonStart(),Vb=!0);bc.lineStart();for(bd=0;bd<Jc;++bd)bc.point((ee=ud[bd])[0],ee[1]);bc.lineEnd()}}else 1<ud&&bd&2&&Jc.push(Jc.pop().concat(Jc.shift())),dd.push(Jc.filter(pa))}var sb=ob(bc),Rb=qa(),ec=ob(Rb),Vb=!1,Qc,dd,zd,rd={point:Kc,lineStart:Q,lineEnd:ma,polygonStart:function(){rd.point=Ma;rd.lineStart=gb;rd.lineEnd=lb;dd=[];Qc=[]},polygonEnd:function(){rd.point=
Kc;rd.lineStart=Q;rd.lineEnd=ma;dd=l.merge(dd);var bd=Ca(Qc,Mb);dd.length?(Vb||(bc.polygonStart(),Vb=!0),Ra(dd,Ha,bd,zb,bc)):bd&&(Vb||(bc.polygonStart(),Vb=!0),bc.lineStart(),zb(null,null,1,bc),bc.lineEnd());Vb&&(bc.polygonEnd(),Vb=!1);dd=Qc=null},sphere:function(){bc.polygonStart();bc.lineStart();zb(null,null,1,bc);bc.lineEnd();bc.polygonEnd()}};return rd}}function pa(Wa){return 1<Wa.length}function Ha(Wa,ob){return(0>(Wa=Wa.x)[0]?Wa[1]-te-1E-6:te-Wa[1])-(0>(ob=ob.x)[0]?ob[1]-te-1E-6:te-ob[1])}function Ua(Wa){function ob(ma,
Ma){return Td(ma)*Td(Ma)>bc}function zb(ma,Ma,gb){var lb=y(ma),sb=y(Ma),Rb=[1,0,0];sb=D(lb,sb);var ec=B(sb,sb);lb=sb[0];var Vb=ec-lb*lb;if(!Vb)return!gb&&ma;ec=bc*ec/Vb;Vb=-bc*lb/Vb;lb=D(Rb,sb);Rb=M(Rb,ec);sb=M(sb,Vb);O(Rb,sb);sb=B(Rb,lb);ec=B(lb,lb);Vb=sb*sb-ec*(B(Rb,Rb)-1);if(!(0>Vb)){var Qc=ue(Vb);Vb=M(lb,(-sb-Qc)/ec);O(Vb,Rb);Vb=n(Vb);if(!gb)return Vb;gb=ma[0];var dd=Ma[0];ma=ma[1];Ma=Ma[1];if(dd<gb){var zd=gb;gb=dd;dd=zd}var rd=dd-gb,bd=1E-6>Be(rd-me);!bd&&Ma<ma&&(zd=ma,ma=Ma,Ma=zd);if(bd||1E-6>
rd?bd?0<ma+Ma^Vb[1]<(1E-6>Be(Vb[0]-gb)?ma:Ma):ma<=Vb[1]&&Vb[1]<=Ma:rd>me^(gb<=Vb[0]&&Vb[0]<=dd))return Ma=M(lb,(-sb+Qc)/ec),O(Ma,Rb),[Vb,n(Ma)]}}function Mb(ma,Ma){var gb=r?Wa:me-Wa,lb=0;ma<-gb?lb|=1:ma>gb&&(lb|=2);Ma<-gb?lb|=4:Ma>gb&&(lb|=8);return lb}var bc=Td(Wa),Kc=6*Xd,r=0<bc,Q=1E-6<Be(bc);return Ga(ob,function(ma){var Ma,gb,lb,sb,Rb;return{lineStart:function(){sb=lb=!1;Rb=1},point:function(ec,Vb){var Qc=[ec,Vb],dd=ob(ec,Vb);Vb=r?dd?0:Mb(ec,Vb):dd?Mb(ec+(0>ec?me:-me),Vb):0;!Ma&&(sb=lb=dd)&&ma.lineStart();
dd!==lb&&(ec=zb(Ma,Qc),!ec||Fa(Ma,ec)||Fa(Qc,ec))&&(Qc[2]=1);if(dd!==lb)Rb=0,dd?(ma.lineStart(),ec=zb(Qc,Ma),ma.point(ec[0],ec[1])):(ec=zb(Ma,Qc),ma.point(ec[0],ec[1],2),ma.lineEnd()),Ma=ec;else if(Q&&Ma&&r^dd){var zd;Vb&gb||!(zd=zb(Qc,Ma,!0))||(Rb=0,r?(ma.lineStart(),ma.point(zd[0][0],zd[0][1]),ma.point(zd[1][0],zd[1][1]),ma.lineEnd()):(ma.point(zd[1][0],zd[1][1]),ma.lineEnd(),ma.lineStart(),ma.point(zd[0][0],zd[0][1],3)))}!dd||Ma&&Fa(Ma,Qc)||ma.point(Qc[0],Qc[1]);Ma=Qc;lb=dd;gb=Vb},lineEnd:function(){lb&&
ma.lineEnd();Ma=null},clean:function(){return Rb|(sb&&lb)<<1}}},function(ma,Ma,gb,lb){ca(lb,Wa,Kc,gb,ma,Ma)},r?[0,-Wa]:[-me,Wa-me])}function jb(Wa,ob,zb,Mb,bc,Kc){var r=Wa[0],Q=Wa[1],ma=0,Ma=1,gb=ob[0]-r,lb=ob[1]-Q;zb-=r;if(gb||!(0<zb)){zb/=gb;if(0>gb){if(zb<ma)return;zb<Ma&&(Ma=zb)}else if(0<gb){if(zb>Ma)return;zb>ma&&(ma=zb)}zb=bc-r;if(gb||!(0>zb)){zb/=gb;if(0>gb){if(zb>Ma)return;zb>ma&&(ma=zb)}else if(0<gb){if(zb<ma)return;zb<Ma&&(Ma=zb)}zb=Mb-Q;if(lb||!(0<zb)){zb/=lb;if(0>lb){if(zb<ma)return;
zb<Ma&&(Ma=zb)}else if(0<lb){if(zb>Ma)return;zb>ma&&(ma=zb)}zb=Kc-Q;if(lb||!(0>zb)){zb/=lb;if(0>lb){if(zb>Ma)return;zb>ma&&(ma=zb)}else if(0<lb){if(zb<ma)return;zb<Ma&&(Ma=zb)}0<ma&&(Wa[0]=r+ma*gb,Wa[1]=Q+ma*lb);1>Ma&&(ob[0]=r+Ma*gb,ob[1]=Q+Ma*lb);return!0}}}}}function Fb(Wa,ob,zb,Mb){function bc(ma,Ma,gb,lb){var sb=0,Rb=0;if(null==ma||(sb=Kc(ma,gb))!==(Rb=Kc(Ma,gb))||0>Q(ma,Ma)^0<gb){do lb.point(0===sb||3===sb?Wa:zb,1<sb?Mb:ob);while((sb=(sb+gb+4)%4)!==Rb)}else lb.point(Ma[0],Ma[1])}function Kc(ma,
Ma){return 1E-6>Be(ma[0]-Wa)?0<Ma?0:3:1E-6>Be(ma[0]-zb)?0<Ma?2:1:1E-6>Be(ma[1]-ob)?0<Ma?1:0:0<Ma?3:2}function r(ma,Ma){return Q(ma.x,Ma.x)}function Q(ma,Ma){var gb=Kc(ma,1),lb=Kc(Ma,1);return gb!==lb?gb-lb:0===gb?Ma[1]-ma[1]:1===gb?ma[0]-Ma[0]:2===gb?ma[1]-Ma[1]:Ma[0]-ma[0]}return function(ma){function Ma(ye,re){Wa<=ye&&ye<=zb&&ob<=re&&re<=Mb&&lb.point(ye,re)}function gb(ye,re){var Pf=Wa<=ye&&ye<=zb&&ob<=re&&re<=Mb;ec&&Vb.push([ye,re]);if(ud)Qc=ye,dd=re,zd=Pf,ud=!1,Pf&&(lb.lineStart(),lb.point(ye,
re));else if(Pf&&Jc)lb.point(ye,re);else{var ke=[rd=Math.max(-1E9,Math.min(1E9,rd)),bd=Math.max(-1E9,Math.min(1E9,bd))],pe=[ye=Math.max(-1E9,Math.min(1E9,ye)),re=Math.max(-1E9,Math.min(1E9,re))];jb(ke,pe,Wa,ob,zb,Mb)?(Jc||(lb.lineStart(),lb.point(ke[0],ke[1])),lb.point(pe[0],pe[1]),Pf||lb.lineEnd(),ee=!1):Pf&&(lb.lineStart(),lb.point(ye,re),ee=!1)}rd=ye;bd=re;Jc=Pf}var lb=ma,sb=qa(),Rb,ec,Vb,Qc,dd,zd,rd,bd,Jc,ud,ee,Sd={point:Ma,lineStart:function(){Sd.point=gb;ec&&ec.push(Vb=[]);ud=!0;Jc=!1;rd=bd=
NaN},lineEnd:function(){Rb&&(gb(Qc,dd),zd&&Jc&&sb.rejoin(),Rb.push(sb.result()));Sd.point=Ma;Jc&&lb.lineEnd()},polygonStart:function(){lb=sb;Rb=[];ec=[];ee=!0},polygonEnd:function(){for(var ye,re=ye=0,Pf=ec.length;re<Pf;++re){var ke=ec[re],pe=1,Re=ke.length,xd=ke[0],Oe=xd[0];for(xd=xd[1];pe<Re;++pe){var dg=Oe;var Xe=xd;xd=ke[pe];Oe=xd[0];xd=xd[1];Xe<=Mb?xd>Mb&&(Oe-dg)*(Mb-Xe)>(xd-Xe)*(Wa-dg)&&++ye:xd<=Mb&&(Oe-dg)*(Mb-Xe)<(xd-Xe)*(Wa-dg)&&--ye}}re=ee&&ye;Pf=(Rb=l.merge(Rb)).length;if(re||Pf)ma.polygonStart(),
re&&(ma.lineStart(),bc(null,null,1,ma),ma.lineEnd()),Pf&&Ra(Rb,r,ye,bc,ma),ma.polygonEnd();lb=ma;Rb=ec=Vb=null}};return Sd}}function Xb(){je.point=je.lineEnd=x}function nc(Wa,ob){Wa*=Xd;ob*=Xd;nd=Wa;Kd=kc(ob);de=Td(ob);je.point=md}function md(Wa,ob){Wa*=Xd;ob*=Xd;var zb=kc(ob);ob=Td(ob);var Mb=Be(Wa-nd),bc=Td(Mb);Mb=kc(Mb);Mb*=ob;var Kc=de*zb-Kd*ob*bc;bc=Kd*zb+de*ob*bc;Wc.add(Ge(ue(Mb*Mb+Kc*Kc),bc));nd=Wa;Kd=zb;de=ob}function pc(Wa){Wc=new l.Adder;g(Wa,je);return+Wc}function Hc(Wa,ob){Gd[0]=Wa;Gd[1]=
ob;return pc(Le)}function mb(Wa,ob){return Wa&&Ie.hasOwnProperty(Wa.type)?Ie[Wa.type](Wa,ob):!1}function hc(Wa,ob){for(var zb,Mb,bc,Kc=0,r=Wa.length;Kc<r;Kc++){Mb=Hc(Wa[Kc],ob);if(0===Mb||0<Kc&&(bc=Hc(Wa[Kc],Wa[Kc-1]),0<bc&&zb<=bc&&Mb<=bc&&(zb+Mb-bc)*(1-Math.pow((zb-Mb)/bc,2))<1E-12*bc))return!0;zb=Mb}return!1}function jc(Wa,ob){return!!Ca(Wa.map(rc),Pc(ob))}function rc(Wa){return Wa=Wa.map(Pc),Wa.pop(),Wa}function Pc(Wa){return[Wa[0]*Xd,Wa[1]*Xd]}function sc(Wa,ob,zb){var Mb=l.range(Wa,ob-1E-6,zb).concat(ob);
return function(bc){return Mb.map(function(Kc){return[bc,Kc]})}}function Uc(Wa,ob,zb){var Mb=l.range(Wa,ob-1E-6,zb).concat(ob);return function(bc){return Mb.map(function(Kc){return[Kc,bc]})}}function Sc(){function Wa(){return{type:"MultiLineString",coordinates:ob()}}function ob(){return l.range(Ye(Kc/sb)*sb,bc,sb).map(Qc).concat(l.range(Ye(Ma/Rb)*Rb,ma,Rb).map(dd)).concat(l.range(Ye(Mb/gb)*gb,zb,gb).filter(function(rd){return 1E-6<Be(rd%sb)}).map(ec)).concat(l.range(Ye(Q/lb)*lb,r,lb).filter(function(rd){return 1E-6<
Be(rd%Rb)}).map(Vb))}var zb,Mb,bc,Kc,r,Q,ma,Ma,gb=10,lb=gb,sb=90,Rb=360,ec,Vb,Qc,dd,zd=2.5;Wa.lines=function(){return ob().map(function(rd){return{type:"LineString",coordinates:rd}})};Wa.outline=function(){return{type:"Polygon",coordinates:[Qc(Kc).concat(dd(ma).slice(1),Qc(bc).reverse().slice(1),dd(Ma).reverse().slice(1))]}};Wa.extent=function(rd){return arguments.length?Wa.extentMajor(rd).extentMinor(rd):Wa.extentMinor()};Wa.extentMajor=function(rd){if(!arguments.length)return[[Kc,Ma],[bc,ma]];Kc=
+rd[0][0];bc=+rd[1][0];Ma=+rd[0][1];ma=+rd[1][1];Kc>bc&&(rd=Kc,Kc=bc,bc=rd);Ma>ma&&(rd=Ma,Ma=ma,ma=rd);return Wa.precision(zd)};Wa.extentMinor=function(rd){if(!arguments.length)return[[Mb,Q],[zb,r]];Mb=+rd[0][0];zb=+rd[1][0];Q=+rd[0][1];r=+rd[1][1];Mb>zb&&(rd=Mb,Mb=zb,zb=rd);Q>r&&(rd=Q,Q=r,r=rd);return Wa.precision(zd)};Wa.step=function(rd){return arguments.length?Wa.stepMajor(rd).stepMinor(rd):Wa.stepMinor()};Wa.stepMajor=function(rd){if(!arguments.length)return[sb,Rb];sb=+rd[0];Rb=+rd[1];return Wa};
Wa.stepMinor=function(rd){if(!arguments.length)return[gb,lb];gb=+rd[0];lb=+rd[1];return Wa};Wa.precision=function(rd){if(!arguments.length)return zd;zd=+rd;ec=sc(Q,r,90);Vb=Uc(Mb,zb,zd);Qc=sc(Ma,ma,90);dd=Uc(Kc,bc,zd);return Wa};return Wa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Lc(){Lf.point=Fd}function Fd(Wa,ob){Lf.point=ge;ne=Cf=Wa;sf=Bg=ob}function ge(Wa,ob){Uf.add(Bg*Wa-Cf*ob);Cf=Wa;Bg=ob}function wd(){ge(ne,sf)}function vd(Wa,
ob){fb+=Wa;hb+=ob;++qb}function Wd(){xb.point=Pb}function Pb(Wa,ob){xb.point=gc;vd(Oa=Wa,Va=ob)}function gc(Wa,ob){var zb=Wa-Oa,Mb=ob-Va;zb=ue(zb*zb+Mb*Mb);Db+=zb*(Oa+Wa)/2;Ab+=zb*(Va+ob)/2;Kb+=zb;vd(Oa=Wa,Va=ob)}function Eb(){xb.point=vd}function zc(){xb.point=Ed}function Vc(){Vd(Y,oa)}function Ed(Wa,ob){xb.point=Vd;vd(Y=Oa=Wa,oa=Va=ob)}function Vd(Wa,ob){var zb=Wa-Oa,Mb=ob-Va;zb=ue(zb*zb+Mb*Mb);Db+=zb*(Oa+Wa)/2;Ab+=zb*(Va+ob)/2;Kb+=zb;zb=Va*Wa-Oa*ob;Jb+=zb*(Oa+Wa);cc+=zb*(Va+ob);xc+=3*zb;vd(Oa=
Wa,Va=ob)}function Ka(Wa){this._context=Wa}function eb(Wa,ob){Pd.point=wb;qc=ed=Wa;Ec=Zc=ob}function wb(Wa,ob){ed-=Wa;Zc-=ob;Sb.add(ue(ed*ed+Zc*Zc));ed=Wa;Zc=ob}function Hb(){this._string=[]}function ac(Wa){return"m0,"+Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+-2*Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+2*Wa+"z"}function Lb(Wa){return function(ob){var zb=new Ac,Mb;for(Mb in Wa)zb[Mb]=Wa[Mb];zb.stream=ob;return zb}}function Ac(){}function tc(Wa,ob,zb){var Mb=Wa.clipExtent&&Wa.clipExtent();Wa.scale(150).translate([0,0]);null!=
Mb&&Wa.clipExtent(null);g(zb,Wa.stream(Sa));ob(Sa.result());null!=Mb&&Wa.clipExtent(Mb);return Wa}function pb(Wa,ob,zb){return tc(Wa,function(Mb){var bc=ob[1][0]-ob[0][0],Kc=ob[1][1]-ob[0][1],r=Math.min(bc/(Mb[1][0]-Mb[0][0]),Kc/(Mb[1][1]-Mb[0][1]));bc=+ob[0][0]+(bc-r*(Mb[1][0]+Mb[0][0]))/2;Mb=+ob[0][1]+(Kc-r*(Mb[1][1]+Mb[0][1]))/2;Wa.scale(150*r).translate([bc,Mb])},zb)}function Bb(Wa,ob,zb){return tc(Wa,function(Mb){var bc=+ob,Kc=bc/(Mb[1][0]-Mb[0][0]);bc=(bc-Kc*(Mb[1][0]+Mb[0][0]))/2;Mb=-Kc*Mb[0][1];
Wa.scale(150*Kc).translate([bc,Mb])},zb)}function Ub(Wa,ob,zb){return tc(Wa,function(Mb){var bc=+ob,Kc=bc/(Mb[1][1]-Mb[0][1]),r=-Kc*Mb[0][0];Mb=(bc-Kc*(Mb[1][1]+Mb[0][1]))/2;Wa.scale(150*Kc).translate([r,Mb])},zb)}function mc(Wa){return Lb({point:function(ob,zb){ob=Wa(ob,zb);this.stream.point(ob[0],ob[1])}})}function Bc(Wa,ob){function zb(Mb,bc,Kc,r,Q,ma,Ma,gb,lb,sb,Rb,ec,Vb,Qc){var dd=Ma-Mb,zd=gb-bc,rd=dd*dd+zd*zd;if(rd>4*ob&&Vb--){var bd=r+sb,Jc=Q+Rb,ud=ma+ec,ee=ue(bd*bd+Jc*Jc+ud*ud),Sd=H(ud/=ee),
ye=1E-6>Be(Be(ud)-1)||1E-6>Be(Kc-lb)?(Kc+lb)/2:Ge(Jc,bd),re=Wa(ye,Sd);Sd=re[0];re=re[1];var Pf=Sd-Mb,ke=re-bc,pe=zd*Pf-dd*ke;if(pe*pe/rd>ob||.3<Be((dd*Pf+zd*ke)/rd-.5)||r*sb+Q*Rb+ma*ec<be)zb(Mb,bc,Kc,r,Q,ma,Sd,re,ye,bd/=ee,Jc/=ee,ud,Vb,Qc),Qc.point(Sd,re),zb(Sd,re,ye,bd,Jc,ud,Ma,gb,lb,sb,Rb,ec,Vb,Qc)}}return function(Mb){function bc(Sd,ye){Sd=Wa(Sd,ye);Mb.point(Sd[0],Sd[1])}function Kc(){zd=NaN;ee.point=r;Mb.lineStart()}function r(Sd,ye){var re=y([Sd,ye]);ye=Wa(Sd,ye);zb(zd,rd,dd,bd,Jc,ud,zd=ye[0],
rd=ye[1],dd=Sd,bd=re[0],Jc=re[1],ud=re[2],16,Mb);Mb.point(zd,rd)}function Q(){ee.point=bc;Mb.lineEnd()}function ma(){Kc();ee.point=Ma;ee.lineEnd=gb}function Ma(Sd,ye){r(lb=Sd,ye);sb=zd;Rb=rd;ec=bd;Vb=Jc;Qc=ud;ee.point=r}function gb(){zb(zd,rd,dd,bd,Jc,ud,sb,Rb,lb,ec,Vb,Qc,16,Mb);ee.lineEnd=Q;Q()}var lb,sb,Rb,ec,Vb,Qc,dd,zd,rd,bd,Jc,ud,ee={point:bc,lineStart:Kc,lineEnd:Q,polygonStart:function(){Mb.polygonStart();ee.lineStart=ma},polygonEnd:function(){Mb.polygonEnd();ee.lineStart=Kc}};return ee}}function Cc(Wa){return Lb({point:function(ob,
zb){ob=Wa(ob,zb);return this.stream.point(ob[0],ob[1])}})}function Xc(Wa,ob,zb,Mb,bc){function Kc(r,Q){r*=Mb;Q*=bc;return[ob+Wa*r,zb-Wa*Q]}Kc.invert=function(r,Q){return[(r-ob)/Wa*Mb,(zb-Q)/Wa*bc]};return Kc}function Qb(Wa,ob,zb,Mb,bc,Kc){function r(ec,Vb){ec*=Mb;Vb*=bc;return[ma*ec-Ma*Vb+ob,zb-Ma*ec-ma*Vb]}if(!Kc)return Xc(Wa,ob,zb,Mb,bc);var Q=Td(Kc);Kc=kc(Kc);var ma=Q*Wa,Ma=Kc*Wa,gb=Q/Wa,lb=Kc/Wa,sb=(Kc*zb-Q*ob)/Wa,Rb=(Kc*ob+Q*zb)/Wa;r.invert=function(ec,Vb){return[Mb*(gb*ec-lb*Vb+sb),bc*(Rb-lb*
ec-gb*Vb)]};return r}function Ic(Wa){return Dc(function(){return Wa})()}function Dc(Wa){function ob(xd){return ke(xd[0]*Xd,xd[1]*Xd)}function zb(xd){return(xd=ke.invert(xd[0],xd[1]))&&[xd[0]*Od,xd[1]*Od]}function Mb(){var xd=Qb(r,0,0,Qc,dd,Vb).apply(null,Kc(Ma,gb));xd=Qb(r,Q-xd[0],ma-xd[1],Qc,dd,Vb);ec=Da(lb,sb,Rb);Pf=Ta(Kc,xd);ke=Ta(ec,Pf);xd=Pf;re=+ye?Bc(xd,ye):mc(xd);return bc()}function bc(){pe=Re=null;return ob}var Kc,r=150,Q=480,ma=250,Ma=0,gb=0,lb=0,sb=0,Rb=0,ec,Vb=0,Qc=1,dd=1,zd=null,rd=fd,
bd=null,Jc,ud,ee,Sd=Ce,ye=.5,re,Pf,ke,pe,Re;ob.stream=function(xd){return pe&&Re===xd?pe:pe=pd(Cc(ec)(rd(re(Sd(Re=xd)))))};ob.preclip=function(xd){return arguments.length?(rd=xd,zd=void 0,bc()):rd};ob.postclip=function(xd){return arguments.length?(Sd=xd,bd=Jc=ud=ee=null,bc()):Sd};ob.clipAngle=function(xd){return arguments.length?(rd=+xd?Ua(zd=xd*Xd):(zd=null,fd),bc()):zd*Od};ob.clipExtent=function(xd){return arguments.length?(Sd=null==xd?(bd=Jc=ud=ee=null,Ce):Fb(bd=+xd[0][0],Jc=+xd[0][1],ud=+xd[1][0],
ee=+xd[1][1]),bc()):null==bd?null:[[bd,Jc],[ud,ee]]};ob.scale=function(xd){return arguments.length?(r=+xd,Mb()):r};ob.translate=function(xd){return arguments.length?(Q=+xd[0],ma=+xd[1],Mb()):[Q,ma]};ob.center=function(xd){return arguments.length?(Ma=xd[0]%360*Xd,gb=xd[1]%360*Xd,Mb()):[Ma*Od,gb*Od]};ob.rotate=function(xd){return arguments.length?(lb=xd[0]%360*Xd,sb=xd[1]%360*Xd,Rb=2<xd.length?xd[2]%360*Xd:0,Mb()):[lb*Od,sb*Od,Rb*Od]};ob.angle=function(xd){return arguments.length?(Vb=xd%360*Xd,Mb()):
Vb*Od};ob.reflectX=function(xd){return arguments.length?(Qc=xd?-1:1,Mb()):0>Qc};ob.reflectY=function(xd){return arguments.length?(dd=xd?-1:1,Mb()):0>dd};ob.precision=function(xd){if(arguments.length){var Oe=Pf;var dg=ye=xd*xd;Oe=(re=+dg?Bc(Oe,dg):mc(Oe),bc())}else Oe=ue(ye);return Oe};ob.fitExtent=function(xd,Oe){return pb(ob,xd,Oe)};ob.fitSize=function(xd,Oe){return pb(ob,[[0,0],xd],Oe)};ob.fitWidth=function(xd,Oe){return Bb(ob,xd,Oe)};ob.fitHeight=function(xd,Oe){return Ub(ob,xd,Oe)};return function(){Kc=
Wa.apply(this,arguments);ob.invert=Kc.invert&&zb;return Mb()}}function uc(Wa){var ob=0,zb=me/3,Mb=Dc(Wa);Wa=Mb(ob,zb);Wa.parallels=function(bc){return arguments.length?Mb(ob=bc[0]*Xd,zb=bc[1]*Xd):[ob*Od,zb*Od]};return Wa}function Tc(Wa){function ob(Mb,bc){return[Mb*zb,kc(bc)/zb]}var zb=Td(Wa);ob.invert=function(Mb,bc){return[Mb/zb,H(bc*zb)]};return ob}function ad(Wa,ob){function zb(Q,ma){ma=ue(Kc-2*bc*kc(ma))/bc;return[ma*kc(Q*=bc),r-ma*Td(Q)]}var Mb=kc(Wa),bc=(Mb+kc(ob))/2;if(1E-6>Be(bc))return Tc(Wa);
var Kc=1+Mb*(2*bc-Mb),r=ue(Kc)/bc;zb.invert=function(Q,ma){ma=r-ma;var Ma=Ge(Q,Be(ma))*Fe(ma);0>ma*bc&&(Ma-=me*Fe(Q)*Fe(ma));return[Ma/bc,H((Kc-(Q*Q+ma*ma)*bc*bc)/(2*bc))]};return zb}function ld(){return uc(ad).scale(155.424).center([0,33.6442])}function Cd(){return ld().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Dd(Wa){var ob=Wa.length;return{point:function(zb,Mb){for(var bc=-1;++bc<ob;)Wa[bc].point(zb,Mb)},sphere:function(){for(var zb=-1;++zb<
ob;)Wa[zb].sphere()},lineStart:function(){for(var zb=-1;++zb<ob;)Wa[zb].lineStart()},lineEnd:function(){for(var zb=-1;++zb<ob;)Wa[zb].lineEnd()},polygonStart:function(){for(var zb=-1;++zb<ob;)Wa[zb].polygonStart()},polygonEnd:function(){for(var zb=-1;++zb<ob;)Wa[zb].polygonEnd()}}}function Ud(Wa){return function(ob,zb){var Mb=Td(ob),bc=Td(zb);Mb=Wa(Mb*bc);return Infinity===Mb?[2,0]:[Mb*bc*kc(ob),Mb*kc(zb)]}}function ae(Wa){return function(ob,zb){var Mb=ue(ob*ob+zb*zb),bc=Wa(Mb),Kc=kc(bc);bc=Td(bc);
return[Ge(ob*Kc,Mb*bc),H(Mb&&zb*Kc/Mb)]}}function oe(Wa,ob){return[Wa,xe(lf((te+ob)/2))]}function De(Wa){function ob(){var lb=me*bc(),sb=zb(ba(zb.rotate()).invert([0,0]));return r(null==Q?[[sb[0]-lb,sb[1]-lb],[sb[0]+lb,sb[1]+lb]]:Wa===oe?[[Math.max(sb[0]-lb,Q),ma],[Math.min(sb[0]+lb,Ma),gb]]:[[Q,Math.max(sb[1]-lb,ma)],[Ma,Math.min(sb[1]+lb,gb)]])}var zb=Ic(Wa),Mb=zb.center,bc=zb.scale,Kc=zb.translate,r=zb.clipExtent,Q=null,ma,Ma,gb;zb.scale=function(lb){return arguments.length?(bc(lb),ob()):bc()};
zb.translate=function(lb){return arguments.length?(Kc(lb),ob()):Kc()};zb.center=function(lb){return arguments.length?(Mb(lb),ob()):Mb()};zb.clipExtent=function(lb){return arguments.length?(null==lb?Q=ma=Ma=gb=null:(Q=+lb[0][0],ma=+lb[0][1],Ma=+lb[1][0],gb=+lb[1][1]),ob()):null==Q?null:[[Q,ma],[Ma,gb]]};return ob()}function fe(Wa,ob){function zb(r,Q){0<Kc?Q<-te+1E-6&&(Q=-te+1E-6):Q>te-1E-6&&(Q=te-1E-6);Q=Kc/le(lf((te+Q)/2),bc);return[Q*kc(bc*r),Kc-Q*Td(bc*r)]}var Mb=Td(Wa),bc=Wa===ob?kc(Wa):xe(Mb/
Td(ob))/xe(lf((te+ob)/2)/lf((te+Wa)/2)),Kc=Mb*le(lf((te+Wa)/2),bc)/bc;if(!bc)return oe;zb.invert=function(r,Q){Q=Kc-Q;var ma=Fe(bc)*ue(r*r+Q*Q),Ma=Ge(r,Be(Q))*Fe(Q);0>Q*bc&&(Ma-=me*Fe(r)*Fe(Q));return[Ma/bc,2*jf(le(Kc/ma,1/bc))-te]};return zb}function ef(Wa,ob){return[Wa,ob]}function Ze(Wa,ob){function zb(r,Q){Q=Kc-Q;r*=bc;return[Q*kc(r),Kc-Q*Td(r)]}var Mb=Td(Wa),bc=Wa===ob?kc(Wa):(Mb-Td(ob))/(ob-Wa),Kc=Mb/bc+Wa;if(1E-6>Be(bc))return ef;zb.invert=function(r,Q){Q=Kc-Q;var ma=Ge(r,Be(Q))*Fe(Q);0>Q*
bc&&(ma-=me*Fe(r)*Fe(Q));return[ma/bc,Kc-Fe(bc)*ue(r*r+Q*Q)]};return zb}function df(Wa,ob){ob=H(af*kc(ob));var zb=ob*ob,Mb=zb*zb*zb;return[Wa*Td(ob)/(af*(1.340264+3*-.081106*zb+Mb*(7*8.93E-4+.034164*zb))),ob*(1.340264+-.081106*zb+Mb*(8.93E-4+.003796*zb))]}function Zd(Wa,ob){var zb=Td(ob),Mb=Td(Wa)*zb;return[zb*kc(Wa)/Mb,kc(ob)/Mb]}function he(Wa,ob){var zb=ob*ob,Mb=zb*zb;return[Wa*(.8707-.131979*zb+Mb*(-.013791+Mb*(.003971*zb-.001529*Mb))),ob*(1.007226+zb*(.015085+Mb*(-.044475+.028874*zb-.005916*
Mb)))]}function zf(Wa,ob){return[Td(ob)*kc(Wa),kc(ob)]}function Ue(Wa,ob){var zb=Td(ob),Mb=1+Td(Wa)*zb;return[zb*kc(Wa)/Mb,kc(ob)/Mb]}function Nf(Wa,ob){return[xe(lf((te+ob)/2)),-Wa]}var me=Math.PI,te=me/2,kf=me/4,we=2*me,Od=180/me,Xd=me/180,Be=Math.abs,jf=Math.atan,Ge=Math.atan2,Td=Math.cos,Ye=Math.ceil,Xf=Math.exp,Gc=Math.hypot,xe=Math.log,le=Math.pow,kc=Math.sin,Fe=Math.sign||function(Wa){return 0<Wa?1:0>Wa?-1:0},ue=Math.sqrt,lf=Math.tan,Yf={Feature:function(Wa,ob){v(Wa.geometry,ob)},FeatureCollection:function(Wa,
ob){Wa=Wa.features;for(var zb=-1,Mb=Wa.length;++zb<Mb;)v(Wa[zb].geometry,ob)}},If={Sphere:function(Wa,ob){ob.sphere()},Point:function(Wa,ob){Wa=Wa.coordinates;ob.point(Wa[0],Wa[1],Wa[2])},MultiPoint:function(Wa,ob){for(var zb=Wa.coordinates,Mb=-1,bc=zb.length;++Mb<bc;)Wa=zb[Mb],ob.point(Wa[0],Wa[1],Wa[2])},LineString:function(Wa,ob){u(Wa.coordinates,ob,0)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)u(Wa[zb],ob,0)},Polygon:function(Wa,ob){m(Wa.coordinates,
ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)m(Wa[zb],ob)},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;for(var zb=-1,Mb=Wa.length;++zb<Mb;)v(Wa[zb],ob)}},Sf=new l.Adder,Bf=new l.Adder,qe,yc,wa,Ea,Za,Cb={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Sf=new l.Adder;Cb.lineStart=d;Cb.lineEnd=f},polygonEnd:function(){var Wa=+Sf;Bf.add(0>Wa?we+Wa:Wa);this.lineStart=this.lineEnd=this.point=x},sphere:function(){Bf.add(we)}},ub,Yb,$b,Oc,gd,Mc,Nd,
od,Id,jd,Qd,ie={point:z,lineStart:K,lineEnd:R,polygonStart:function(){ie.point=T;ie.lineStart=ja;ie.lineEnd=fa;Id=new l.Adder;Cb.polygonStart()},polygonEnd:function(){Cb.polygonEnd();ie.point=z;ie.lineStart=K;ie.lineEnd=R;0>Sf?(ub=-($b=180),Yb=-(Oc=90)):1E-6<Id?Oc=90:-1E-6>Id&&(Yb=-90);Qd[0]=ub;Qd[1]=$b},sphere:function(){ub=-($b=180);Yb=-(Oc=90)}},Gf,tf,kd,We,uf,mf,Zf,yf,Pe,nf,Aa,Pa,vb,Wb,Tb,ic,oc={sphere:x,point:P,lineStart:V,lineEnd:ya,polygonStart:function(){oc.lineStart=va;oc.lineEnd=Ia},polygonEnd:function(){oc.lineStart=
V;oc.lineEnd=ya}};Ya.invert=Ya;var fd=Ga(function(){return!0},function(Wa){var ob=NaN,zb=NaN,Mb=NaN,bc;return{lineStart:function(){Wa.lineStart();bc=1},point:function(Kc,r){var Q=0<Kc?me:-me,ma=Be(Kc-ob);if(1E-6>Be(ma-me))Wa.point(ob,zb=0<(zb+r)/2?te:-te),Wa.point(Mb,zb),Wa.lineEnd(),Wa.lineStart(),Wa.point(Q,zb),Wa.point(Kc,zb),bc=0;else if(Mb!==Q&&ma>=me){1E-6>Be(ob-Mb)&&(ob-=1E-6*Mb);1E-6>Be(Kc-Q)&&(Kc-=1E-6*Q);ma=ob;var Ma=zb,gb=Kc,lb,sb,Rb=kc(ma-gb);zb=1E-6<Be(Rb)?jf((kc(Ma)*(sb=Td(r))*kc(gb)-
kc(r)*(lb=Td(Ma))*kc(ma))/(lb*sb*Rb)):(Ma+r)/2;Wa.point(Mb,zb);Wa.lineEnd();Wa.lineStart();Wa.point(Q,zb);bc=0}Wa.point(ob=Kc,zb=r);Mb=Q},lineEnd:function(){Wa.lineEnd();ob=zb=NaN},clean:function(){return 2-bc}}},function(Wa,ob,zb,Mb){null==Wa?(zb*=te,Mb.point(-me,zb),Mb.point(0,zb),Mb.point(me,zb),Mb.point(me,0),Mb.point(me,-zb),Mb.point(0,-zb),Mb.point(-me,-zb),Mb.point(-me,0),Mb.point(-me,zb)):1E-6<Be(Wa[0]-ob[0])?(Wa=Wa[0]<ob[0]?me:-me,zb=zb*Wa/2,Mb.point(-Wa,zb),Mb.point(0,zb),Mb.point(Wa,zb)):
Mb.point(ob[0],ob[1])},[-me,-te]),Wc,nd,Kd,de,je={sphere:x,point:x,lineStart:function(){je.point=nc;je.lineEnd=Xb},lineEnd:x,polygonStart:x,polygonEnd:x},Gd=[null,null],Le={type:"LineString",coordinates:Gd},$d={Feature:function(Wa,ob){return mb(Wa.geometry,ob)},FeatureCollection:function(Wa,ob){Wa=Wa.features;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(mb(Wa[zb].geometry,ob))return!0;return!1}},Ie={Sphere:function(){return!0},Point:function(Wa,ob){return 0===Hc(Wa.coordinates,ob)},MultiPoint:function(Wa,
ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(0===Hc(Wa[zb],ob))return!0;return!1},LineString:function(Wa,ob){return hc(Wa.coordinates,ob)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(hc(Wa[zb],ob))return!0;return!1},Polygon:function(Wa,ob){return jc(Wa.coordinates,ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(jc(Wa[zb],ob))return!0;return!1},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;
for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(mb(Wa[zb],ob))return!0;return!1}},Ce=Wa=>Wa,Qe=new l.Adder,Uf=new l.Adder,ne,sf,Cf,Bg,Lf={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Lf.lineStart=Lc;Lf.lineEnd=wd},polygonEnd:function(){Lf.lineStart=Lf.lineEnd=Lf.point=x;Qe.add(Be(Uf));Uf=new l.Adder},result:function(){var Wa=Qe/2;Qe=new l.Adder;return Wa}},jg=Infinity,xa=jg,za=-jg,Na=za,Sa={point:function(Wa,ob){Wa<jg&&(jg=Wa);Wa>za&&(za=Wa);ob<xa&&(xa=ob);ob>Na&&(Na=ob)},lineStart:x,lineEnd:x,polygonStart:x,
polygonEnd:x,result:function(){var Wa=[[jg,xa],[za,Na]];za=Na=-(xa=jg=Infinity);return Wa}},fb=0,hb=0,qb=0,Db=0,Ab=0,Kb=0,Jb=0,cc=0,xc=0,Y,oa,Oa,Va,xb={point:vd,lineStart:Wd,lineEnd:Eb,polygonStart:function(){xb.lineStart=zc;xb.lineEnd=Vc},polygonEnd:function(){xb.point=vd;xb.lineStart=Wd;xb.lineEnd=Eb},result:function(){var Wa=xc?[Jb/xc,cc/xc]:Kb?[Db/Kb,Ab/Kb]:qb?[fb/qb,hb/qb]:[NaN,NaN];fb=hb=qb=Db=Ab=Kb=Jb=cc=xc=0;return Wa}};Ka.prototype={_radius:4.5,pointRadius:function(Wa){return this._radius=
Wa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Wa,ob){switch(this._point){case 0:this._context.moveTo(Wa,ob);this._point=1;break;case 1:this._context.lineTo(Wa,ob);break;default:this._context.moveTo(Wa+this._radius,ob),this._context.arc(Wa,ob,this._radius,0,we)}},result:x};var Sb=new l.Adder,Zb,qc,Ec,ed,Zc,Pd={point:x,lineStart:function(){Pd.point=
eb},lineEnd:function(){Zb&&wb(qc,Ec);Pd.point=x},polygonStart:function(){Zb=!0},polygonEnd:function(){Zb=null},result:function(){var Wa=+Sb;Sb=new l.Adder;return Wa}};Hb.prototype={_radius:4.5,_circle:ac(4.5),pointRadius:function(Wa){(Wa=+Wa)!==this._radius&&(this._radius=Wa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Wa,
ob){switch(this._point){case 0:this._string.push("M",Wa,",",ob);this._point=1;break;case 1:this._string.push("L",Wa,",",ob);break;default:null==this._circle&&(this._circle=ac(this._radius)),this._string.push("M",Wa,",",ob,this._circle)}},result:function(){if(this._string.length){var Wa=this._string.join("");this._string=[];return Wa}return null}};Ac.prototype={constructor:Ac,point:function(Wa,ob){this.stream.point(Wa,ob)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Td(30*Xd),pd=Lb({point:function(Wa,ob){this.stream.point(Wa*Xd,ob*Xd)}}),Ad=Ud(function(Wa){return ue(2/(1+Wa))});Ad.invert=ae(function(Wa){return 2*H(Wa/2)});var id=Ud(function(Wa){return(Wa=w(Wa))&&Wa/kc(Wa)});id.invert=ae(function(Wa){return Wa});oe.invert=function(Wa,ob){return[Wa,2*jf(Xf(ob))-te]};ef.invert=ef;var af=ue(3)/2;df.invert=function(Wa,
ob){for(var zb=ob,Mb=zb*zb,bc=Mb*Mb*Mb,Kc=0,r;12>Kc&&!(r=zb*(1.340264+-.081106*Mb+bc*(8.93E-4+.003796*Mb))-ob,Mb=1.340264+3*-.081106*Mb+bc*(7*8.93E-4+.034164*Mb),zb-=r/=Mb,Mb=zb*zb,bc=Mb*Mb*Mb,1E-12>Be(r));++Kc);return[af*Wa*(1.340264+3*-.081106*Mb+bc*(7*8.93E-4+.034164*Mb))/Td(zb),H(kc(zb)/af)]};Zd.invert=ae(jf);he.invert=function(Wa,ob){var zb=ob,Mb=25;do{var bc=zb*zb;var Kc=bc*bc;zb-=Kc=(zb*(1.007226+bc*(.015085+Kc*(-.044475+.028874*bc-.005916*Kc)))-ob)/(1.007226+bc*(.045255+Kc*(-.311325+.259866*
bc-.005916*11*Kc)))}while(1E-6<Be(Kc)&&0<--Mb);return[Wa/(.8707+(bc=zb*zb)*(-.131979+bc*(-.013791+bc*bc*bc*(.003971-.001529*bc)))),zb]};zf.invert=ae(H);Ue.invert=ae(function(Wa){return 2*jf(Wa)});Nf.invert=function(Wa,ob){return[-ob,2*jf(Xf(Wa))-te]};k.geoAlbers=Cd;k.geoAlbersUsa=function(){function Wa(sb){var Rb=sb[0];sb=sb[1];return gb=null,(Kc.point(Rb,sb),gb)||(Q.point(Rb,sb),gb)||(Ma.point(Rb,sb),gb)}function ob(){zb=Mb=null;return Wa}var zb,Mb,bc=Cd(),Kc,r=ld().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),Q,ma=ld().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ma,gb,lb={point:function(sb,Rb){gb=[sb,Rb]}};Wa.invert=function(sb){var Rb=bc.scale(),ec=bc.translate(),Vb=(sb[0]-ec[0])/Rb;Rb=(sb[1]-ec[1])/Rb;return(.12<=Rb&&.234>Rb&&-.425<=Vb&&-.214>Vb?r:.166<=Rb&&.234>Rb&&-.214<=Vb&&-.115>Vb?ma:bc).invert(sb)};Wa.stream=function(sb){return zb&&Mb===sb?zb:zb=Dd([bc.stream(Mb=sb),r.stream(sb),ma.stream(sb)])};Wa.precision=function(sb){if(!arguments.length)return bc.precision();bc.precision(sb);
r.precision(sb);ma.precision(sb);return ob()};Wa.scale=function(sb){if(!arguments.length)return bc.scale();bc.scale(sb);r.scale(.35*sb);ma.scale(sb);return Wa.translate(bc.translate())};Wa.translate=function(sb){if(!arguments.length)return bc.translate();var Rb=bc.scale(),ec=+sb[0],Vb=+sb[1];Kc=bc.translate(sb).clipExtent([[ec-.455*Rb,Vb-.238*Rb],[ec+.455*Rb,Vb+.238*Rb]]).stream(lb);Q=r.translate([ec-.307*Rb,Vb+.201*Rb]).clipExtent([[ec-.425*Rb+1E-6,Vb+.12*Rb+1E-6],[ec-.214*Rb-1E-6,Vb+.234*Rb-1E-6]]).stream(lb);
Ma=ma.translate([ec-.205*Rb,Vb+.212*Rb]).clipExtent([[ec-.214*Rb+1E-6,Vb+.166*Rb+1E-6],[ec-.115*Rb-1E-6,Vb+.234*Rb-1E-6]]).stream(lb);return ob()};Wa.fitExtent=function(sb,Rb){return pb(Wa,sb,Rb)};Wa.fitSize=function(sb,Rb){return pb(Wa,[[0,0],sb],Rb)};Wa.fitWidth=function(sb,Rb){return Bb(Wa,sb,Rb)};Wa.fitHeight=function(sb,Rb){return Ub(Wa,sb,Rb)};return Wa.scale(1070)};k.geoArea=function(Wa){Bf=new l.Adder;g(Wa,Cb);return 2*Bf};k.geoAzimuthalEqualArea=function(){return Ic(Ad).scale(124.75).clipAngle(179.999)};
k.geoAzimuthalEqualAreaRaw=Ad;k.geoAzimuthalEquidistant=function(){return Ic(id).scale(79.4188).clipAngle(179.999)};k.geoAzimuthalEquidistantRaw=id;k.geoBounds=function(Wa){var ob,zb,Mb;Oc=$b=-(ub=Yb=Infinity);jd=[];g(Wa,ie);if(ob=jd.length){jd.sort(la);Wa=1;var bc=jd[0];for(zb=[bc];Wa<ob;++Wa){var Kc=jd[Wa];Z(bc,Kc[0])||Z(bc,Kc[1])?(ha(bc[0],Kc[1])>ha(bc[0],bc[1])&&(bc[1]=Kc[1]),ha(Kc[0],bc[1])>ha(bc[0],bc[1])&&(bc[0]=Kc[0])):zb.push(bc=Kc)}var r=-Infinity;ob=zb.length-1;Wa=0;for(bc=zb[ob];Wa<=ob;bc=
Kc,++Wa)Kc=zb[Wa],(Mb=ha(bc[1],Kc[0]))>r&&(r=Mb,ub=Kc[0],$b=bc[1])}jd=Qd=null;return Infinity===ub||Infinity===Yb?[[NaN,NaN],[NaN,NaN]]:[[ub,Yb],[$b,Oc]]};k.geoCentroid=function(Wa){Gf=tf=kd=We=uf=mf=Zf=yf=0;Pe=new l.Adder;nf=new l.Adder;Aa=new l.Adder;g(Wa,oc);Wa=+Pe;var ob=+nf,zb=+Aa,Mb=Gc(Wa,ob,zb);return 1E-12>Mb&&(Wa=mf,ob=Zf,zb=yf,1E-6>tf&&(Wa=kd,ob=We,zb=uf),Mb=Gc(Wa,ob,zb),1E-12>Mb)?[NaN,NaN]:[Ge(ob,Wa)*Od,H(zb/Mb)*Od]};k.geoCircle=function(){function Wa(){var Q=ob.apply(this,arguments),ma=
zb.apply(this,arguments)*Xd,Ma=Mb.apply(this,arguments)*Xd;bc=[];Kc=Da(-Q[0]*Xd,-Q[1]*Xd,0).invert;ca(r,ma,Ma,1);Q={type:"Polygon",coordinates:[bc]};bc=Kc=null;return Q}var ob=ua([0,0]),zb=ua(90),Mb=ua(6),bc,Kc,r={point:function(Q,ma){bc.push(Q=Kc(Q,ma));Q[0]*=Od;Q[1]*=Od}};Wa.center=function(Q){return arguments.length?(ob="function"===typeof Q?Q:ua([+Q[0],+Q[1]]),Wa):ob};Wa.radius=function(Q){return arguments.length?(zb="function"===typeof Q?Q:ua(+Q),Wa):zb};Wa.precision=function(Q){return arguments.length?
(Mb="function"===typeof Q?Q:ua(+Q),Wa):Mb};return Wa};k.geoClipAntimeridian=fd;k.geoClipCircle=Ua;k.geoClipExtent=function(){var Wa=0,ob=0,zb=960,Mb=500,bc,Kc,r;return r={stream:function(Q){return bc&&Kc===Q?bc:bc=Fb(Wa,ob,zb,Mb)(Kc=Q)},extent:function(Q){return arguments.length?(Wa=+Q[0][0],ob=+Q[0][1],zb=+Q[1][0],Mb=+Q[1][1],bc=Kc=null,r):[[Wa,ob],[zb,Mb]]}}};k.geoClipRectangle=Fb;k.geoConicConformal=function(){return uc(fe).scale(109.5).parallels([30,30])};k.geoConicConformalRaw=fe;k.geoConicEqualArea=
ld;k.geoConicEqualAreaRaw=ad;k.geoConicEquidistant=function(){return uc(Ze).scale(131.154).center([0,13.9389])};k.geoConicEquidistantRaw=Ze;k.geoContains=function(Wa,ob){return(Wa&&$d.hasOwnProperty(Wa.type)?$d[Wa.type]:mb)(Wa,ob)};k.geoDistance=Hc;k.geoEqualEarth=function(){return Ic(df).scale(177.158)};k.geoEqualEarthRaw=df;k.geoEquirectangular=function(){return Ic(ef).scale(152.63)};k.geoEquirectangularRaw=ef;k.geoGnomonic=function(){return Ic(Zd).scale(144.049).clipAngle(60)};k.geoGnomonicRaw=
Zd;k.geoGraticule=Sc;k.geoGraticule10=function(){return Sc()()};k.geoIdentity=function(){function Wa(){ec=zb*Kc;Vb=zb*r;zd=rd=null;return ob}function ob(bd){var Jc=bd[0]*ec;bd=bd[1]*Vb;if(Q){var ud=bd*ma-Jc*Ma;Jc=Jc*ma+bd*Ma;bd=ud}return[Jc+Mb,bd+bc]}var zb=1,Mb=0,bc=0,Kc=1,r=1,Q=0,ma,Ma,gb=null,lb,sb,Rb,ec=1,Vb=1,Qc=Lb({point:function(bd,Jc){bd=ob([bd,Jc]);this.stream.point(bd[0],bd[1])}}),dd=Ce,zd,rd;ob.invert=function(bd){var Jc=bd[0]-Mb;bd=bd[1]-bc;if(Q){var ud=bd*ma+Jc*Ma;Jc=Jc*ma-bd*Ma;bd=ud}return[Jc/
ec,bd/Vb]};ob.stream=function(bd){return zd&&rd===bd?zd:zd=Qc(dd(rd=bd))};ob.postclip=function(bd){return arguments.length?(dd=bd,gb=lb=sb=Rb=null,Wa()):dd};ob.clipExtent=function(bd){return arguments.length?(dd=null==bd?(gb=lb=sb=Rb=null,Ce):Fb(gb=+bd[0][0],lb=+bd[0][1],sb=+bd[1][0],Rb=+bd[1][1]),Wa()):null==gb?null:[[gb,lb],[sb,Rb]]};ob.scale=function(bd){return arguments.length?(zb=+bd,Wa()):zb};ob.translate=function(bd){return arguments.length?(Mb=+bd[0],bc=+bd[1],Wa()):[Mb,bc]};ob.angle=function(bd){return arguments.length?
(Q=bd%360*Xd,Ma=kc(Q),ma=Td(Q),Wa()):Q*Od};ob.reflectX=function(bd){return arguments.length?(Kc=bd?-1:1,Wa()):0>Kc};ob.reflectY=function(bd){return arguments.length?(r=bd?-1:1,Wa()):0>r};ob.fitExtent=function(bd,Jc){return pb(ob,bd,Jc)};ob.fitSize=function(bd,Jc){return pb(ob,[[0,0],bd],Jc)};ob.fitWidth=function(bd,Jc){return Bb(ob,bd,Jc)};ob.fitHeight=function(bd,Jc){return Ub(ob,bd,Jc)};return ob};k.geoInterpolate=function(Wa,ob){var zb=Wa[0]*Xd,Mb=Wa[1]*Xd;Wa=ob[0]*Xd;ob=ob[1]*Xd;var bc=Td(Mb),
Kc=kc(Mb),r=Td(ob),Q=kc(ob),ma=bc*Td(zb),Ma=bc*kc(zb),gb=r*Td(Wa),lb=r*kc(Wa),sb=2*H(ue(N(ob-Mb)+bc*r*N(Wa-zb))),Rb=kc(sb);Wa=sb?function(ec){var Vb=kc(ec*=sb)/Rb,Qc=kc(sb-ec)/Rb;ec=Qc*ma+Vb*gb;var dd=Qc*Ma+Vb*lb;Vb=Qc*Kc+Vb*Q;return[Ge(dd,ec)*Od,Ge(Vb,ue(ec*ec+dd*dd))*Od]}:function(){return[zb*Od,Mb*Od]};Wa.distance=sb;return Wa};k.geoLength=pc;k.geoMercator=function(){return De(oe).scale(961/we)};k.geoMercatorRaw=oe;k.geoNaturalEarth1=function(){return Ic(he).scale(175.295)};k.geoNaturalEarth1Raw=
he;k.geoOrthographic=function(){return Ic(zf).scale(249.5).clipAngle(90.000001)};k.geoOrthographicRaw=zf;k.geoPath=function(Wa,ob){function zb(r){r&&("function"===typeof Mb&&Kc.pointRadius(+Mb.apply(this,arguments)),g(r,bc(Kc)));return Kc.result()}var Mb=4.5,bc,Kc;zb.area=function(r){g(r,bc(Lf));return Lf.result()};zb.measure=function(r){g(r,bc(Pd));return Pd.result()};zb.bounds=function(r){g(r,bc(Sa));return Sa.result()};zb.centroid=function(r){g(r,bc(xb));return xb.result()};zb.projection=function(r){return arguments.length?
(bc=null==r?(Wa=null,Ce):(Wa=r).stream,zb):Wa};zb.context=function(r){if(!arguments.length)return ob;Kc=null==r?(ob=null,new Hb):new Ka(ob=r);"function"!==typeof Mb&&Kc.pointRadius(Mb);return zb};zb.pointRadius=function(r){if(!arguments.length)return Mb;Mb="function"===typeof r?r:(Kc.pointRadius(+r),+r);return zb};return zb.projection(Wa).context(ob)};k.geoProjection=Ic;k.geoProjectionMutator=Dc;k.geoRotation=ba;k.geoStereographic=function(){return Ic(Ue).scale(250).clipAngle(142)};k.geoStereographicRaw=
Ue;k.geoStream=g;k.geoTransform=function(Wa){return{stream:Lb(Wa)}};k.geoTransverseMercator=function(){var Wa=De(Nf),ob=Wa.center,zb=Wa.rotate;Wa.center=function(Mb){return arguments.length?ob([-Mb[1],Mb[0]]):(Mb=ob(),[Mb[1],-Mb[0]])};Wa.rotate=function(Mb){return arguments.length?zb([Mb[0],Mb[1],2<Mb.length?Mb[2]+90:90]):(Mb=zb(),[Mb[0],Mb[1],Mb[2]-90])};return zb([0,0,90]).scale(159.155)};k.geoTransverseMercatorRaw=Nf;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(39),A(15)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],l):l(k.d3=k.d3||{},k.d3,k.d3)})(this,function(k,l,w){function H(xa){return 1<xa?Za:-1>xa?-Za:Math.asin(xa)}function N(xa){return 1<xa?0:-1>xa?Ea:Math.acos(xa)}function x(xa){return 0<xa?Math.sqrt(xa):0}function v(xa){return(Fe(xa)-Fe(-xa))/2}function u(xa){return(Fe(xa)+Fe(-xa))/2}function m(xa){function za(fb,
hb){var qb=kc(fb),Db=kc(hb);hb=yc(hb);qb*=Db;qb=-((1-qb?lf((1+qb)/2)/(1-qb):-.5)+Sa/(1+qb));return[qb*Db*yc(fb),qb*hb]}var Na=wa(xa/2),Sa=2*lf(kc(xa/2))/(Na*Na);za.invert=function(fb,hb){var qb=x(fb*fb+hb*hb),Db=-xa/2,Ab=50;if(!qb)return[0,0];do{var Kb=Db/2;var Jb=kc(Kb);Kb=yc(Kb);var cc=Kb/Jb,xc=-lf(Gc(Jb));Db-=Jb=(2/cc*xc-Sa*cc-qb)/(-xc/(Kb*Kb)+1-Sa/(2*Jb*Jb))*(0>Jb?.7:1)}while(1E-6<Gc(Jb)&&0<--Ab);Ab=yc(Db);return[le(fb*Ab,qb*kc(Db)),H(hb*Ab/qb)]};return za}function g(xa,za){var Na=kc(za);var Sa=
(Sa=N(Na*kc(xa/=2)))?Sa/Math.sin(Sa):1;return[2*Na*yc(xa)*Sa,yc(za)*Sa]}function d(xa){function za(Db,Ab){var Kb=kc(Ab),Jb=kc(Db/=2);return[(1+Kb)*yc(Db),(fb*Ab>-le(Jb,hb)-.001?0:10*-fb)+qb+yc(Ab)*Sa-(1+Kb)*Na*Jb]}var Na=yc(xa),Sa=kc(xa),fb=0<=xa?1:-1,hb=wa(fb*xa),qb=(1+Na-Sa)/2;za.invert=function(Db,Ab){var Kb=0,Jb=0,cc=50;do{var xc=kc(Kb),Y=yc(Kb),oa=kc(Jb),Oa=yc(Jb),Va=1+oa,xb=Va*Y-Db,Sb=qb+Oa*Sa-Va*Na*xc-Ab,Zb=Va*xc/2,qc=-Y*Oa;Y=Na*Va*Y/2;oa=Sa*oa+Na*xc*Oa;xc=qc*Y-oa*Zb;qc=(Sb*qc-xb*oa)/xc/2;
xb=(xb*Y-Sb*Zb)/xc;2<Gc(xb)&&(xb/=2);Kb-=qc;Jb-=xb}while((1E-6<Gc(qc)||1E-6<Gc(xb))&&0<--cc);return fb*Jb>-le(kc(Kb),hb)-.001?[2*Kb,Jb]:null};return za}function f(xa,za){za=wa(za/2);var Na=x(1-za*za),Sa=1+Na*kc(xa/=2);xa=yc(xa)*Na/Sa;za/=Sa;Sa=xa*xa;Na=za*za;return[4/3*xa*(3+Sa-3*Na),4/3*za*(3+3*Sa-Na)]}function a(xa,za){var Na=Gc(za);return Na<Cb?[xa,lf(wa(Cb+za/2))]:[xa*kc(Na)*(2*Yb-1/yc(Na)),qe(za)*(2*Yb*(Na-Cb)-lf(wa(Na/2)))]}function e(xa){function za(Sa,fb){fb=l.geoAzimuthalEquidistantRaw(Sa,
fb);if(Gc(Sa)>Za){Sa=le(fb[1],fb[0]);var hb=x(fb[0]*fb[0]+fb[1]*fb[1]),qb=Na*Bf((Sa-Za)/Na)+Za,Db=le(yc(Sa-=qb),2-kc(Sa));Sa=qb+H(Ea/hb*yc(Db))-Db;fb[0]=hb*kc(Sa);fb[1]=hb*yc(Sa)}return fb}var Na=2*Ea/xa;za.invert=function(Sa,fb){var hb=x(Sa*Sa+fb*fb);if(hb>Za){var qb=le(fb,Sa);Sa=Na*Bf((qb-Za)/Na)+Za;fb=qb>Sa?-1:1;qb=hb*kc(Sa-qb);qb=1/wa(fb*N((qb-Ea)/x(Ea*(Ea-2*qb)+hb*hb)));qb=Sa+2*xe((qb+fb*x(qb*qb-3))/3);Sa=hb*kc(qb);fb=hb*yc(qb)}return l.geoAzimuthalEquidistantRaw.invert(Sa,fb)};return za}function n(xa,
za){function Na(Sa,fb){Sa=l.geoAzimuthalEqualAreaRaw(Sa/za,fb);Sa[0]*=xa;return Sa}2>arguments.length&&(za=xa);if(1===za)return l.geoAzimuthalEqualAreaRaw;if(Infinity===za)return y;Na.invert=function(Sa,fb){Sa=l.geoAzimuthalEqualAreaRaw.invert(Sa/xa,fb);Sa[0]*=za;return Sa};return Na}function y(xa,za){return[xa*kc(za)/kc(za/=2),2*yc(za)]}function B(xa,za,Na){var Sa=100;Na=void 0===Na?0:+Na;za=+za;do{var fb=xa(Na);var hb=xa(Na+1E-6);fb===hb&&(hb=fb+1E-6);Na-=fb=-1E-6*(fb-za)/(fb-hb)}while(0<Sa--&&
1E-6<Gc(fb));return 0>Sa?NaN:Na}function D(xa,za,Na){void 0===za&&(za=40);void 0===Na&&(Na=1E-12);return function(Sa,fb,hb,qb){hb=void 0===hb?0:+hb;qb=void 0===qb?0:+qb;for(var Db=0;Db<za;Db++){var Ab=xa(hb,qb),Kb=Ab[0]-Sa,Jb=Ab[1]-fb;if(Gc(Kb)<Na&&Gc(Jb)<Na)break;var cc=Kb*Kb+Jb*Jb;if(cc>xc)hb-=oa/=2,qb-=Va/=2;else{var xc=cc;cc=(0<hb?-1:1)*Na;var Y=(0<qb?-1:1)*Na;var oa=xa(hb+cc,qb);var Oa=xa(hb,qb+Y);var Va=(oa[0]-Ab[0])/cc;cc=(oa[1]-Ab[1])/cc;oa=(Oa[0]-Ab[0])/Y;Ab=(Oa[1]-Ab[1])/Y;Y=Ab*Va-cc*oa;
Y=(.5>Gc(Y)?.5:1)/Y;oa=(Jb*oa-Kb*Ab)*Y;Va=(Kb*cc-Jb*Va)*Y;hb+=oa;qb+=Va;if(Gc(oa)<Na&&Gc(Va)<Na)break}}return[hb,qb]}}function O(){function xa(Na,Sa){if(-1.4>Na+Sa){var fb=(Na-Sa+1.6)*(Na+Sa+1.4)/8;Na+=fb;Sa-=.8*fb*yc(Sa+Ea/2)}fb=za(Na,Sa);Na=(1-kc(Na*Sa))/12;0>fb[1]&&(fb[0]*=1+Na);0<fb[1]&&(fb[1]*=1+Na/1.5*fb[0]*fb[0]);return fb}var za=n(1.68,2);xa.invert=D(xa);return xa}function M(xa,za){xa*=yc(za);var Na=30,Sa;do za-=Sa=(za+yc(za)-xa)/(1+kc(za));while(1E-6<Gc(Sa)&&0<--Na);return za/2}function F(xa,
za,Na){function Sa(fb,hb){return[xa*fb*kc(hb=M(Na,hb)),za*yc(hb)]}Sa.invert=function(fb,hb){return hb=H(hb/za),[fb/(xa*kc(hb)),H((2*hb+yc(2*hb))/Na)]};return Sa}function z(xa,za){var Na=M(Ea,za);return[2.00276*xa/(1/kc(za)+1.11072/kc(Na)),(za+Yb*yc(Na))/2.00276]}function G(xa){var za=0,Na=l.geoProjectionMutator(xa);xa=Na(za);xa.parallel=function(Sa){return arguments.length?Na(za=Sa*Mc):za*gd};return xa}function K(xa,za){return[xa*kc(za),za]}function R(xa){function za(Sa,fb){var hb=Na+xa-fb;Sa=hb?
Sa*kc(fb)/hb:hb;return[hb*yc(Sa),Na-hb*kc(Sa)]}if(!xa)return K;var Na=1/wa(xa);za.invert=function(Sa,fb){var hb=x(Sa*Sa+(fb=Na-fb)*fb),qb=Na+xa-hb;return[hb/kc(qb)*le(Sa,fb),qb]};return za}function T(xa){function za(Na,Sa){Na=(Sa=Za-Sa)?Na*xa*yc(Sa)/Sa:Sa;return[Sa*yc(Na)/xa,Za-Sa*kc(Na)]}za.invert=function(Na,Sa){Na*=xa;var fb=Za-Sa;Sa=x(Na*Na+fb*fb);Na=le(Na,fb);return[(Sa?Sa/yc(Sa):1)*Na/xa,Za-Sa]};return za}function ja(xa,za,Na,Sa,fb,hb){var qb=kc(hb);if(1<Gc(xa)||1<Gc(hb))xa=N(Na*fb+za*Sa*qb);
else{xa=yc(xa/2);var Db=yc(hb/2);xa=2*H(x(xa*xa+za*Sa*Db*Db))}return 1E-6<Gc(xa)?[xa,le(Sa*yc(hb),za*fb-Na*Sa*qb)]:[0,0]}function fa(xa,za,Na){return N((xa*xa+za*za-Na*Na)/(2*xa*za))}function ha(xa,za,Na){var Sa=[[xa[0],xa[1],yc(xa[1]),kc(xa[1])],[za[0],za[1],yc(za[1]),kc(za[1])],[Na[0],Na[1],yc(Na[1]),kc(Na[1])]];xa=Sa[2];for(Na=0;3>Na;++Na,xa=za)za=Sa[Na],xa.v=ja(za[1]-xa[1],xa[3],xa[2],za[3],za[2],za[0]-xa[0]),xa.point=[0,0];xa=fa(Sa[0].v[0],Sa[2].v[0],Sa[1].v[0]);var fb=fa(Sa[0].v[0],Sa[1].v[0],
Sa[2].v[0]),hb=Ea-xa;Sa[2].point[1]=0;Sa[0].point[0]=-(Sa[1].point[0]=Sa[0].v[0]/2);var qb=[Sa[2].point[0]=Sa[0].point[0]+Sa[2].v[0]*kc(xa),2*(Sa[0].point[1]=Sa[1].point[1]=Sa[2].v[0]*yc(xa))];return function(Db,Ab){var Kb=yc(Ab),Jb=kc(Ab),cc=Array(3),xc;for(xc=0;3>xc;++xc){var Y=Sa[xc];cc[xc]=ja(Ab-Y[1],Y[3],Y[2],Jb,Kb,Db-Y[0]);if(!cc[xc][0])return Y.point;var oa=cc[xc];Y=cc[xc][1]-Y.v[1];Y-=2*Ea*ue((Y+Ea)/(2*Ea));oa[1]=Y}Db=qb.slice();for(xc=0;3>xc;++xc)Ab=fa(Sa[xc].v[0],cc[xc][0],cc[2==xc?0:xc+
1][0]),0>cc[xc][1]&&(Ab=-Ab),xc?1==xc?(Ab=fb-Ab,Db[0]-=cc[xc][0]*kc(Ab),Db[1]-=cc[xc][0]*yc(Ab)):(Ab=hb-Ab,Db[0]+=cc[xc][0]*kc(Ab),Db[1]+=cc[xc][0]*yc(Ab)):(Db[0]+=cc[xc][0]*kc(Ab),Db[1]-=cc[xc][0]*yc(Ab));Db[0]/=3;Db[1]/=3;return Db}}function la(xa){return xa[0]*=Mc,xa[1]*=Mc,xa}function Z(xa,za,Na){var Sa=l.geoCentroid({type:"MultiPoint",coordinates:[xa,za,Na]});Sa=[-Sa[0],-Sa[1]];var fb=l.geoRotation(Sa);xa=ha(la(fb(xa)),la(fb(za)),la(fb(Na)));xa.invert=D(xa);xa=l.geoProjection(xa).rotate(Sa);
var hb=xa.center;delete xa.rotate;xa.center=function(qb){return arguments.length?hb(fb(qb)):fb.invert(hb())};return xa.clipAngle(90)}function P(xa,za){za=x(1-yc(za));return[2/$b*xa*za,$b*(1-za)]}function C(xa){function za(Sa,fb){return[Sa,(Sa?Sa/yc(Sa):1)*(yc(fb)*kc(Sa)-Na*kc(fb))]}var Na=wa(xa);za.invert=Na?function(Sa,fb){Sa&&(fb*=yc(Sa)/Sa);var hb=kc(Sa);return[Sa,2*le(x(hb*hb+Na*Na-fb*fb)-hb,Na-fb)]}:function(Sa,fb){return[Sa,H(Sa?fb*wa(Sa)/Sa:fb)]};return za}function V(xa,za){return[Qd*xa*(2*
kc(2*za/3)-1)/$b,Qd*$b*yc(za/3)]}function ia(xa){function za(Sa,fb){return[Sa*Na,yc(fb)/Na]}var Na=kc(xa);za.invert=function(Sa,fb){return[Sa/Na,H(fb*Na)]};return za}function aa(xa){function za(Sa,fb){return[Sa*Na,(1+Na)*wa(fb/2)]}var Na=kc(xa);za.invert=function(Sa,fb){return[Sa/Na,2*xe(fb/(1+Na))]};return za}function ya(xa,za){var Na=x(8/(3*Ea));return[Na*xa*(1-Gc(za)/Ea),Na*za]}function va(xa,za){var Na=x(4-3*yc(Gc(za)));return[2/x(6*Ea)*xa*Na,qe(za)*x(2*Ea/3)*(2-Na)]}function Ia(xa,za){var Na=
x(Ea*(4+Ea));return[2/Na*xa*(1+x(1-4*za*za/(Ea*Ea))),4/Na*za]}function bb(xa,za){var Na=(2+Za)*yc(za);za/=2;for(var Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);Sa++)fb=kc(za),za-=fb=(za+yc(za)*(fb+2)-Na)/(2*fb*(1+fb));return[2/x(Ea*(4+Ea))*xa*(1+kc(za)),2*x(Ea/(4+Ea))*yc(za)]}function kb(xa,za){return[xa*(1+kc(za))/x(2+Ea),2*za/x(2+Ea)]}function ua(xa,za){for(var Na=(1+Za)*yc(za),Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);Sa++)za-=fb=(za+yc(za)-Na)/(1+kc(za));Na=x(2+Ea);return[xa*(1+kc(za))/Na,2*za/Na]}function Ta(xa,
za){var Na=yc(xa/=2);xa=kc(xa);var Sa=x(kc(za)),fb=kc(za/=2);za=yc(za)/(fb+Yb*xa*Sa);var hb=x(2/(1+za*za));Na=x((Yb*fb+(xa+Na)*Sa)/(Yb*fb+(xa-Na)*Sa));return[ie*(hb*(Na-1/Na)-2*lf(Na)),ie*(hb*za*(Na+1/Na)-2*xe(za))]}function Ya(xa,za){za=wa(za/2);return[xa*Gf*x(1-za*za),(1+Gf)*za]}function Da(xa,za){var Na=za/2,Sa=kc(Na);return[2*xa/$b*kc(za)*Sa*Sa,$b*wa(Na)]}function ta(xa){function za(Ab,Kb){var Jb=kc(Kb),cc=yc(Kb);return[Jb/(fb+xa*Jb)*Ab,fb*Kb+xa*cc]}function Na(Ab,Kb){Ab=za(Ab,Kb);return[Ab[0]*
Db,Ab[1]/Db]}function Sa(Ab){return Na(0,Ab)[1]}var fb=1-xa,hb=za(Ea,0)[0]-za(-Ea,0)[0],qb=za(0,Za)[1]-za(0,-Za)[1],Db=x(2*qb/hb);Na.invert=function(Ab,Kb){Kb=B(Sa,Kb);return[Ab/Db*(xa+fb/kc(Kb)),Kb]};return Na}function U(xa){return[2*xa[0],2*xe(yc(xa[1]*Mc))*gd]}function W(xa,za){function Na(hb,qb){hb=l.geoAzimuthalEquidistantRaw(hb,qb);qb=hb[0];var Db=hb[1],Ab=qb*qb+Db*Db;if(Ab>fb){var Kb=x(Ab);qb=le(Db,qb);Ab=Sa*Bf(qb/Sa);Db=qb-Ab;var Jb=xa*kc(Db),cc=(xa*yc(Db)-Db*yc(Jb))/(Za-Jb),xc=ba(Db,cc),
Y=(Ea-xa)/ca(xc,Jb,Ea);qb=Kb;var oa=50,Oa;do qb-=Oa=(xa+ca(xc,Jb,qb)*Y-Kb)/(xc(qb)*Y);while(1E-6<Gc(Oa)&&0<--oa);Db*=yc(qb);qb<Za&&(Db-=cc*(qb-Za));Kb=yc(Ab);Ab=kc(Ab);hb[0]=qb*Ab-Db*Kb;hb[1]=qb*Kb+Db*Ab}return hb}var Sa=2*Ea/za,fb=xa*xa;Na.invert=function(hb,qb){var Db=hb*hb+qb*qb;if(Db>fb){var Ab=x(Db);qb=le(qb,hb);Db=Sa*Bf(qb/Sa);qb-=Db;hb=Ab*kc(qb);qb=Ab*yc(qb);Ab=hb-Za;for(var Kb=yc(hb),Jb=qb/Kb,cc=hb<Za?Infinity:0,xc=10;;){var Y=xa*yc(Jb),oa=xa*kc(Jb),Oa=yc(oa),Va=Za-oa,xb=(Y-Jb*Oa)/Va,Sb=ba(Jb,
xb);if(1E-12>Gc(cc)||!--xc)break;Jb-=cc=(Jb*Kb-xb*Ab-qb)/(Kb-2*Ab*(Va*(oa+Jb*Y*kc(oa)-Oa)-Y*(Y-Jb*Oa))/(Va*Va))}Ab=xa+ca(Sb,oa,hb)*(Ea-xa)/ca(Sb,oa,Ea);qb=Db+Jb;hb=Ab*kc(qb);qb=Ab*yc(qb)}return l.geoAzimuthalEquidistantRaw.invert(hb,qb)};return Na}function ba(xa,za){return function(Na){var Sa=xa*kc(Na);Na<Za&&(Sa-=za);return x(1+Sa*Sa)}}function ca(xa,za,Na){var Sa=(Na-za)/50;Na=xa(za)+xa(Na);for(var fb=1;50>fb;++fb)Na+=2*xa(za+=Sa);return.5*Na*Sa}function ra(xa,za,Na,Sa,fb,hb,qb,Db){function Ab(Kb,
Jb){if(!Jb)return[xa*Kb/Ea,0];var cc=Jb*Jb,xc=xa+cc*(za+cc*(Na+cc*Sa)),Y=Jb*(fb-1+cc*(hb-Db+cc*qb));Y=(xc*xc+Y*Y)/(2*Y);Kb=Kb*H(xc/Y)/Ea;return[Y*yc(Kb),Jb*(1+cc*Db)+Y*(1-kc(Kb))]}8>arguments.length&&(Db=0);Ab.invert=function(Kb,Jb){var cc=Ea*Kb/xa,xc=Jb,Y=50;do{var oa=xc*xc,Oa=xa+oa*(za+oa*(Na+oa*Sa)),Va=xc*(fb-1+oa*(hb-Db+oa*qb)),xb=Oa*Oa+Va*Va,Sb=2*Va;var Zb=xb/Sb;var qc=Zb*Zb;var Ec=H(Oa/Zb)/Ea;var ed=cc*Ec,Zc=Oa*Oa,Pd=(2*za+oa*(4*Na+6*oa*Sa))*xc,be=fb+oa*(3*hb+5*oa*qb);Va=(2*(Oa*Pd+Va*(be-1))*
Sb-2*xb*(be-1))/(Sb*Sb);xb=kc(ed);be=yc(ed);Sb=Zb*xb;ed=Zb*be;qc=cc/Ea*(1/x(1-Zc/qc))*(Pd*Zb-Oa*Va)/qc;Oa=ed-Kb;oa=xc*(1+oa*Db)+Zb-Sb-Jb;Zb=Va*be+Sb*qc;Zc=Sb*Ec;Va=1+Va-(Va*xb-ed*qc);Ec*=ed;xb=Zb*Ec-Va*Zc;if(!xb)break;cc-=Zb=(oa*Zb-Oa*Va)/xb;xc-=Ec=(Oa*Ec-oa*Zc)/xb}while((1E-6<Gc(Zb)||1E-6<Gc(Ec))&&0<--Y);return[cc,xc]};return Ab}function qa(xa,za){var Na=xa*xa,Sa=za*za;return[xa*(1-.162388*Sa)*(.87-9.52426E-4*Na*Na),za*(1+Sa/12)]}function Fa(xa){function za(Sa,fb){var hb=0<Sa?-.5:.5;Sa=xa(Sa+hb*
Ea,fb);Sa[0]-=hb*Na;return Sa}var Na=xa(Za,0)[0]-xa(-Za,0)[0];xa.invert&&(za.invert=function(Sa,fb){var hb=0<Sa?-.5:.5;Sa=xa.invert(Sa+hb*Na,fb);hb=Sa[0]-hb*Ea;hb<-Ea?hb+=2*Ea:hb>Ea&&(hb-=2*Ea);Sa[0]=hb;return Sa});return za}function na(xa,za){var Na=qe(xa),Sa=qe(za),fb=kc(za),hb=kc(xa)*fb;xa=yc(xa)*fb;za=yc(Sa*za);xa=Gc(le(xa,za));za=H(hb);1E-6<Gc(xa-Za)&&(xa%=Za);hb=Ra(xa>Ea/4?Za-xa:xa,za);xa>Ea/4&&(za=hb[0],hb[0]=-hb[1],hb[1]=-za);return hb[0]*=Na,hb[1]*=-Sa,hb}function Ra(xa,za){if(za===Za)return[0,
0];var Na=yc(za),Sa=Na*Na,fb=Sa*Sa,hb=1+fb,qb=1+3*fb,Db=1-fb,Ab=H(1/x(hb)),Kb=Db+Sa*hb*Ab,Jb=(1-Na)/Kb,cc=x(Jb),xc=Jb*hb,Y=x(xc),oa=cc*Db;if(0===xa)return[0,-(oa+Sa*Y)];var Oa=kc(za),Va=1/Oa,xb=2*Na*Oa;Ab=(-Kb*Oa-(1-Na)*(-3*Sa+Ab*qb)*xb)/(Kb*Kb);Na=-Va*xb;hb=-Va*(Sa*hb*Ab+Jb*qb*xb);Db=-2*Va*(.5*Ab/cc*Db-2*Sa*cc*xb);cc=4*xa/Ea;if(xa>.222*Ea||za<Ea/4&&xa>.175*Ea){za=(oa+Sa*x(xc*(1+fb)-oa*oa))/(1+fb);if(xa>Ea/4)return[za,za];fb=za;Va=.5*za;za=.5*(Va+fb);xa=50;do{xb=x(xc-za*za);xb=za*(Db+Na*xb)+hb*H(za/
Y)-cc;if(!xb)break;0>xb?Va=za:fb=za;za=.5*(Va+fb)}while(1E-6<Gc(fb-Va)&&0<--xa)}else{za=1E-6;xa=25;do xb=za*za,fb=x(xc-xb),qb=Db+Na*fb,Va=za*qb+hb*H(za/Y)-cc,xb=qb+(hb-Na*xb)/fb,za-=fb=fb?Va/xb:0;while(1E-6<Gc(fb)&&0<--xa)}return[za,-oa-Sa*x(xc-za*za)]}function db(xa,za){if(1E-6>za){var Na=yc(xa);var Sa=kc(xa);var fb=za*(xa-Na*Sa)/4;return[Na-fb*Sa,Sa+fb*Na,1-za*Na*Na/2,xa-fb]}if(.999999<=za){fb=(1-za)/4;Sa=u(xa);Na=Fe(2*xa);Na=(Na-1)/(Na+1);za=1/Sa;var hb=Sa*v(xa);return[Na+fb*(hb-xa)/(Sa*Sa),za-
fb*Na*za*(hb-xa),za+fb*Na*za*(hb+xa),2*xe(Fe(xa))-Za+fb*(hb-xa)/Sa]}var qb=[1,0,0,0,0,0,0,0,0],Db=[x(za),0,0,0,0,0,0,0,0],Ab=0;Sa=x(1-za);for(hb=1;1E-6<Gc(Db[Ab]/qb[Ab])&&8>Ab;)fb=qb[Ab++],Db[Ab]=(fb-Sa)/2,qb[Ab]=(fb+Sa)/2,Sa=x(fb*Sa),hb*=2;za=hb*qb[Ab]*xa;do Na=Db[Ab]*yc(Sa=za)/qb[Ab],za=(H(Na)+za)/2;while(--Ab);return[yc(za),Na=kc(za),Na/kc(za-Sa),za]}function $a(xa,za){if(!za)return xa;if(1===za)return lf(wa(xa/2+Cb));var Na=1,Sa=x(1-za),fb=x(za);for(za=0;1E-6<Gc(fb);za++)xa%Ea?(fb=xe(Sa*wa(xa)/
Na),0>fb&&(fb+=Ea),xa+=fb+~~(xa/Ea)*Ea):xa+=xa,fb=(Na+Sa)/2,Sa=x(Na*Sa),fb=((Na=fb)-Sa)/2;return xa/(Sf(2,za)*Na)}function Ca(xa,za){var Na=(Yb-1)/(Yb+1),Sa=x(1-Na*Na),fb=$a(Za,Sa*Sa),hb=lf(wa(Ea/4+Gc(za)/2));hb=Fe(-1*hb)/x(Na);Na=hb*kc(-1*xa);var qb=hb*yc(-1*xa);xa=Na*Na;hb=qb+1;qb=1-xa-qb*qb;xa=[.5*((0<=Na?Za:-Za)-le(qb,2*Na)),-.25*lf(qb*qb+4*xa)+.5*lf(hb*hb+xa)];Na=xa[0];xa=xa[1];Sa*=Sa;hb=Gc(Na);qb=Gc(xa);qb=v(qb);if(hb){var Db=1/yc(hb);hb=1/(wa(hb)*wa(hb));qb=-(hb+Sa*qb*qb*Db*Db-1+Sa);qb=(-qb+
x(qb*qb-4*(Sa-1)*hb))/2;Sa=[$a(xe(1/x(qb)),Sa)*qe(Na),$a(xe(x((qb/hb-1)/Sa)),1-Sa)*qe(xa)]}else Sa=[0,$a(xe(qb),1-Sa)*qe(xa)];return[-Sa[1],(0<=za?1:-1)*(.5*fb-Sa[0])]}function Ga(xa){function za(hb,qb){var Db=fb(hb,qb);hb=Db[0];qb=Db[1];Db=yc(qb);qb=kc(qb);var Ab=kc(hb),Kb=N(Na*Db+Sa*qb*Ab),Jb=yc(Kb);Kb=1E-6<Gc(Jb)?Kb/Jb:1;return[Kb*Sa*yc(hb),(Gc(hb)>Za?Kb:-Kb)*(Na*qb-Sa*Db*Ab)]}var Na=yc(xa),Sa=kc(xa),fb=pa(xa);fb.invert=pa(-xa);za.invert=function(hb,qb){var Db=x(hb*hb+qb*qb),Ab=-yc(Db),Kb=kc(Db),
Jb=Db*Kb,cc=-qb*Ab,xc=Db*Na,Y=x(Jb*Jb+cc*cc-xc*xc);Jb=le(Jb*xc+cc*Y,cc*xc-Jb*Y);hb=(Db>Za?-1:1)*le(hb*Ab,Db*kc(Jb)*Kb+qb*yc(Jb)*Ab);return fb.invert(hb,Jb)};return za}function pa(xa){var za=yc(xa),Na=kc(xa);return function(Sa,fb){var hb=kc(fb),qb=kc(Sa)*hb;Sa=yc(Sa)*hb;fb=yc(fb);return[le(Sa,qb*Na-fb*za),H(fb*Na+qb*za)]}}function Ha(xa){function za(Jb,cc){var xc=Gc(cc);if(xc>Na){var Y=If(xa-1,Yf(0,ue((Jb+Ea)/Db)));Jb+=Ea*(xa-1)/xa-Y*Db;Jb=P(Jb,xc);Jb[0]=Jb[0]*Oc/Sa-Oc*(xa-1)/(2*xa)+Y*Oc/xa;Jb[1]=
fb+4*(Jb[1]-hb)*qb/Oc;0>cc&&(Jb[1]=-Jb[1])}else Jb=Zf(Jb,cc);Jb[0]*=Ab;Jb[1]/=Kb;return Jb}var Na=mf*Mc,Sa=P(Ea,Na)[0]-P(-Ea,Na)[0],fb=Zf(0,Na)[1],hb=P(0,Na)[1],qb=$b-hb,Db=Oc/xa,Ab=4/Oc,Kb=fb+qb*qb*4/Oc;za.invert=function(Jb,cc){Jb/=Ab;cc*=Kb;var xc=Gc(cc);if(xc>fb){var Y=If(xa-1,Yf(0,ue((Jb+Ea)/Db)));Jb=(Jb+Ea*(xa-1)/xa-Y*Db)*Sa/Oc;Jb=P.invert(Jb,.25*(xc-fb)*Oc/qb+hb);Jb[0]-=Ea*(xa-1)/xa-Y*Db;0>cc&&(Jb[1]=-Jb[1]);return Jb}return Zf.invert(Jb,cc)};return za}function Ua(xa,za){return[xa,za&1?89.999999:
mf]}function jb(xa,za){return[xa,za&1?-89.999999:-mf]}function Fb(xa){return[.999999*xa[0],xa[1]]}function Xb(xa){var za=[].concat(w.range(-180,180+xa/2,xa).map(Ua),w.range(180,-180-xa/2,-xa).map(jb));return{type:"Polygon",coordinates:[180===xa?za.map(Fb):za]}}function nc(xa){function za(Jb,cc){var xc=1-yc(cc);if(xc&&2>xc){var Y=Za-cc,oa=25;do{var Oa=yc(Y);var Va=kc(Y);cc=fb+le(Oa,Na-Va);Va=1+Kb-2*Na*Va;Y-=Oa=(Y-Ab*fb-Na*Oa+Va*cc-.5*xc*qb)/(2*Na*Oa*cc)}while(1E-12<Gc(Oa)&&0<--oa);xc=hb*x(Va);Jb=Jb*
cc/Ea}else xc=hb*(xa+xc),Jb=Jb*fb/Ea;return[xc*yc(Jb),Db-xc*kc(Jb)]}var Na=1+xa,Sa=yc(1/Na),fb=H(Sa),hb=2*x(Ea/(qb=Ea+4*fb*Na)),qb,Db=.5*hb*(Na+x(xa*(2+xa))),Ab=xa*xa,Kb=Na*Na;za.invert=function(Jb,cc){var xc=Jb*Jb+(cc-=Db)*cc;cc=(1+Kb-xc/(hb*hb))/(2*Na);var Y=N(cc),oa=yc(Y),Oa=fb+le(oa,Na-cc);return[H(Jb/x(xc))*Ea/Oa,H(1-2*(Y-Ab*fb-Na*oa+(1+Kb-2*Na*cc)*Oa)/qb)]};return za}function md(xa,za){return-.7109889596207567<za?(xa=Id(xa,za),xa[1]+=.0528035274542,xa):K(xa,za)}function pc(xa,za){return.7109889596207567<
Gc(za)?(xa=Id(xa,za),xa[1]-=0<za?.0528035274542:-.0528035274542,xa):K(xa,za)}function Hc(xa,za,Na,Sa){function fb(cc){return x(1+xa*kc(2*cc)+za*kc(4*cc))}function hb(cc){cc*=Na;return(2*cc+(1+xa-za/2)*yc(2*cc)+(xa+za)/2*yc(4*cc)+za/2*yc(6*cc))/Na}function qb(cc){return fb(cc)*yc(cc)}var Db=x(4*Ea/(2*Na+(1+xa-za/2)*yc(2*Na)+(xa+za)/2*yc(4*Na)+za/2*yc(6*Na))),Ab=x(Sa*yc(Na)*x((1+xa*kc(2*Na)+za*kc(4*Na))/(1+xa+za))),Kb=Na*hb(1),Jb=function(cc,xc){var Y=Na*B(hb,Kb*yc(xc)/Na,xc/Ea);isNaN(Y)&&(Y=Na*qe(xc));
xc=Db*fb(Y);return[xc*Ab*cc/Ea*kc(Y),xc/Ab*yc(Y)]};Jb.invert=function(cc,xc){xc=B(qb,xc*Ab/Db);return[cc*Ea/(kc(xc)*Db*Ab*fb(xc)),H(Na*hb(xc/Na)/Kb)]};0===Na&&(Db=x(Sa/Ea),Jb=function(cc,xc){return[cc*Db,yc(xc)/Db]},Jb.invert=function(cc,xc){return[cc/Db,H(xc*Db)]});return Jb}function mb(xa,za,Na,Sa,fb,hb,qb,Db,Ab,Kb,Jb){if(Jb.nanEncountered)return NaN;var cc=Na-za;var xc=xa(za+.25*cc);var Y=xa(Na-.25*cc);if(isNaN(xc))Jb.nanEncountered=!0;else if(isNaN(Y))Jb.nanEncountered=!0;else{var oa=cc*(Sa+4*
xc+fb)/12;var Oa=cc*(fb+4*Y+hb)/12;var Va=oa+Oa;qb=(Va-qb)/15;if(Kb>Ab)return Jb.maxDepthCount++,Va+qb;if(Math.abs(qb)<Db)return Va+qb;cc=za+.5*cc;za=mb(xa,za,cc,Sa,xc,fb,oa,.5*Db,Ab,Kb+1,Jb);if(isNaN(za))return Jb.nanEncountered=!0,NaN;xa=mb(xa,cc,Na,fb,Y,hb,Oa,.5*Db,Ab,Kb+1,Jb);return isNaN(xa)?(Jb.nanEncountered=!0,NaN):za+xa}}function hc(xa,za,Na,Sa,fb){void 0===Sa&&(Sa=1E-8);void 0===fb&&(fb=20);var hb=xa(za),qb=xa(.5*(za+Na)),Db=xa(Na);return mb(xa,za,Na,hb,qb,Db,(hb+4*qb+Db)*(Na-za)/6,Sa,fb,
1,{maxDepthCount:0,nanEncountered:!1})}function jc(xa,za,Na){function Sa(Jb){return xa+(1-xa)*Sf(1-Sf(Jb,za),1/za)}function fb(Jb){var cc=0,xc=1E3,Y=500;do Db[Y]>Jb?xc=Y:cc=Y,Y=cc+xc>>1;while(Y>cc);(cc=Db[Y+1]-Db[Y])&&(cc=(Jb-Db[Y+1])/cc);return(Y+1+cc)/1E3}for(var hb=1/hc(Sa,0,1,1E-4),qb=1.00000001*hb,Db=[],Ab=0;1E3>=Ab;Ab++)Db.push(hc(Sa,0,Ab/1E3,1E-4)*qb);var Kb=2*fb(1)/Ea*hb/Na;Na=function(Jb,cc){var xc=fb(Gc(yc(cc)));Jb*=Sa(xc);xc/=Kb;return[Jb,0<=cc?xc:-xc]};Na.invert=function(Jb,cc){var xc;
cc*=Kb;1>Gc(cc)&&(xc=qe(cc)*H(hc(Sa,0,Gc(cc),1E-4)*hb));return[Jb/Sa(Gc(cc)),xc]};return Na}function rc(xa,za){for(var Na=-1,Sa=xa.length,fb=xa[0],hb,qb,Db,Ab=[];++Na<Sa;){hb=xa[Na];qb=(hb[0]-fb[0])/za;Db=(hb[1]-fb[1])/za;for(var Kb=0;Kb<za;++Kb)Ab.push([fb[0]+Kb*qb,fb[1]+Kb*Db]);fb=hb}Ab.push(hb);return Ab}function Pc(xa){var za=[],Na,Sa=xa[0].length;for(Na=0;Na<Sa;++Na){var fb=xa[0][Na];var hb=fb[0][0];var qb=fb[0][1];var Db=fb[1][1];var Ab=fb[2][0];fb=fb[2][1];za.push(rc([[hb+1E-6,qb+1E-6],[hb+
1E-6,Db-1E-6],[Ab-1E-6,Db-1E-6],[Ab-1E-6,fb+1E-6]],30))}for(Na=xa[1].length-1;0<=Na;--Na)fb=xa[1][Na],hb=fb[0][0],qb=fb[0][1],Db=fb[1][1],Ab=fb[2][0],fb=fb[2][1],za.push(rc([[Ab-1E-6,fb-1E-6],[Ab-1E-6,Db+1E-6],[hb+1E-6,Db+1E-6],[hb+1E-6,qb-1E-6]],30));return{type:"Polygon",coordinates:[w.merge(za)]}}function sc(xa,za,Na){function Sa(Ab,Kb){for(var Jb=0>Kb?-1:1,cc=za[+(0>Kb)],xc=0,Y=cc.length-1;xc<Y&&Ab>cc[xc][2][0];++xc);Ab=xa(Ab-cc[xc][1][0],Kb);Ab[0]+=xa(cc[xc][1][0],Jb*Kb>Jb*cc[xc][0][1]?cc[xc][0][1]:
Kb)[0];return Ab}var fb,hb;Na?Sa.invert=Na(Sa):xa.invert&&(Sa.invert=function(Ab,Kb){for(var Jb=hb[+(0>Kb)],cc=za[+(0>Kb)],xc=0,Y=Jb.length;xc<Y;++xc){var oa=Jb[xc];if(oa[0][0]<=Ab&&Ab<oa[1][0]&&oa[0][1]<=Kb&&Kb<oa[1][1])return Jb=xa.invert(Ab-xa(cc[xc][1][0],0)[0],Kb),Jb[0]+=cc[xc][1][0],cc=Sa(Jb[0],Jb[1]),Ab=[Ab,Kb],1E-6>Gc(cc[0]-Ab[0])&&1E-6>Gc(cc[1]-Ab[1])?Jb:null}});var qb=l.geoProjection(Sa),Db=qb.stream;qb.stream=function(Ab){var Kb=qb.rotate(),Jb=Db(Ab),cc=(qb.rotate([0,0]),Db(Ab));qb.rotate(Kb);
Jb.sphere=function(){l.geoStream(fb,cc)};return Jb};qb.lobes=function(Ab){if(!arguments.length)return za.map(function(Kb){return Kb.map(function(Jb){return[[Jb[0][0]*gd,Jb[0][1]*gd],[Jb[1][0]*gd,Jb[1][1]*gd],[Jb[2][0]*gd,Jb[2][1]*gd]]})});fb=Pc(Ab);za=Ab.map(function(Kb){return Kb.map(function(Jb){return[[Jb[0][0]*Mc,Jb[0][1]*Mc],[Jb[1][0]*Mc,Jb[1][1]*Mc],[Jb[2][0]*Mc,Jb[2][1]*Mc]]})});hb=za.map(function(Kb){return Kb.map(function(Jb){var cc=xa(Jb[0][0],Jb[0][1])[0],xc=xa(Jb[2][0],Jb[2][1])[0],Y=
xa(Jb[1][0],Jb[0][1])[1];Jb=xa(Jb[1][0],Jb[1][1])[1];if(Y>Jb){var oa=Y;Y=Jb;Jb=oa}return[[cc,Y],[xc,Jb]]})});return qb};null!=za&&qb.lobes(za);return qb}function Uc(xa,za){return[3/Oc*xa*x(Ea*Ea/3-za*za),za]}function Sc(xa){function za(Na,Sa){if(1E-6>Gc(Gc(Sa)-Za))return[0,0>Sa?-2:2];Sa=yc(Sa);Sa=Sf((1+Sa)/(1-Sa),xa/2);var fb=.5*(Sa+1/Sa)+kc(Na*=xa);return[2*yc(Na)/fb,(Sa-1/Sa)/fb]}za.invert=function(Na,Sa){var fb=Gc(Sa);if(1E-6>Gc(fb-2))return Na?null:[0,qe(Sa)*Za];if(2<fb)return null;Na/=2;Sa/=
2;fb=Na*Na;var hb=Sa*Sa;Sa=2*Sa/(1+fb+hb);Sa=Sf((1+Sa)/(1-Sa),1/xa);return[le(2*Na,1-fb-hb)/xa,H((Sa-1)/(Sa+1))]};return za}function Lc(xa,za){return[xa*(1+x(kc(za)))/2,za/(kc(za/2)*kc(xa/6))]}function Fd(xa,za){var Na=xa*xa,Sa=za*za;return[xa*(.975534+Sa*(-.119161+-.0143059*Na+-.0547009*Sa)),za*(1.00384+Na*(.0802894+-.02855*Sa+1.99025E-4*Na)+Sa*(.0998909+-.0491032*Sa))]}function ge(xa,za){return[yc(xa)/kc(za),wa(za)*kc(xa)]}function wd(xa){function za(fb,hb){var qb=hb-xa,Db=1E-6>Gc(qb)?fb*Na:1E-6>
Gc(Db=Cb+hb/2)||1E-6>Gc(Gc(Db)-Za)?0:fb*qb/lf(wa(Db)/Sa);return[Db,qb]}var Na=kc(xa),Sa=wa(Cb+xa/2);za.invert=function(fb,hb){var qb,Db=hb+xa;return[1E-6>Gc(hb)?fb/Na:1E-6>Gc(qb=Cb+Db/2)||1E-6>Gc(Gc(qb)-Za)?0:fb*lf(wa(qb)/Sa)/hb,Db]};return za}function vd(xa,za){return[xa,1.25*lf(wa(Cb+.4*za))]}function Wd(xa){function za(Sa,fb){var hb=kc(fb),qb=2/(1+hb*kc(Sa));Sa=qb*hb*yc(Sa);fb=qb*yc(fb);qb=Na;hb=xa[qb];for(var Db=hb[0],Ab=hb[1],Kb;0<=--qb;)hb=xa[qb],Db=hb[0]+Sa*(Kb=Db)-fb*Ab,Ab=hb[1]+Sa*Ab+fb*
Kb;Db=Sa*(Kb=Db)-fb*Ab;return[Db,Sa*Ab+fb*Kb]}var Na=xa.length-1;za.invert=function(Sa,fb){var hb=20,qb=Sa,Db=fb;do{for(var Ab=Na,Kb=xa[Ab],Jb=Kb[0],cc=Kb[1],xc=0,Y=0,oa;0<=--Ab;)Kb=xa[Ab],xc=Jb+qb*(oa=xc)-Db*Y,Y=cc+qb*Y+Db*oa,Jb=Kb[0]+qb*(oa=Jb)-Db*cc,cc=Kb[1]+qb*cc+Db*oa;xc=Jb+qb*(oa=xc)-Db*Y;Y=cc+qb*Y+Db*oa;Jb=qb*(oa=Jb)-Db*cc-Sa;cc=qb*cc+Db*oa-fb;Kb=xc*xc+Y*Y;qb-=Ab=(Jb*xc+cc*Y)/Kb;Db-=Jb=(cc*xc-Jb*Y)/Kb}while(1E-12<Gc(Ab)+Gc(Jb)&&0<--hb);if(hb)return Sa=x(qb*qb+Db*Db),fb=2*xe(.5*Sa),hb=yc(fb),
[le(qb*hb,Sa*kc(fb)),Sa?H(Db*hb/Sa):0]};return za}function Pb(xa,za){xa=l.geoProjection(Wd(xa)).rotate(za).clipAngle(90);var Na=l.geoRotation(za),Sa=xa.center;delete xa.rotate;xa.center=function(fb){return arguments.length?Sa(Na(fb)):Na.invert(Sa())};return xa}function gc(xa,za){za=H(7*yc(za)/(3*nd));return[nd*xa*(2*kc(2*za/3)-1)/Kd,9*yc(za/3)/Kd]}function Eb(xa,za){for(var Na=(1+ub)*yc(za),Sa=0,fb;25>Sa&&!(za-=fb=(yc(za/2)+yc(za)-Na)/(.5*kc(za/2)+kc(za)),1E-6>Gc(fb));Sa++);return[xa*(1+2*kc(za)/
kc(za/2))/(3*Yb),2*x(3)*yc(za/2)/x(2+Yb)]}function zc(xa,za){var Na=x(6/(4+Ea)),Sa=(1+Ea/4)*yc(za);za/=2;for(var fb=0,hb;25>fb&&!(za-=hb=(za/2+yc(za)-Sa)/(.5+kc(za)),1E-6>Gc(hb));fb++);return[Na*(.5+kc(za))*xa/1.5,Na*za]}function Vc(xa,za){var Na=za*za,Sa=Na*Na,fb=Na*Sa;return[xa*(.84719-.13063*Na+fb*fb*(-.04515+.05494*Na-.02326*Sa+.00331*fb)),za*(1.01183+Sa*Sa*(-.02625+.01926*Na-.00396*Sa))]}function Ed(xa,za){return[xa*(1+kc(za))/2,2*(za-wa(za/2))]}function Vd(xa,za){var Na=yc(za),Sa=kc(za),fb=
qe(xa);if(0===xa||Gc(za)===Za)return[0,za];if(0===za)return[xa,0];if(Gc(xa)===Za)return[xa*Sa,Za*Na];xa=Ea/(2*xa)-2*xa/Ea;var hb=2*za/Ea,qb=(1-hb*hb)/(Na-hb),Db=xa*xa,Ab=qb*qb;hb=1+Db/Ab;var Kb=1+Ab/Db,Jb=(xa*Na/qb-xa/2)/hb,cc=(Ab*Na/Db+qb/2)/Kb;Na=cc*cc-(Ab*Na*Na/Db+qb*Na-1)/Kb;return[Za*(Jb+x(Jb*Jb+Sa*Sa/hb)*fb),Za*(cc+x(0>Na?0:Na)*qe(-za*xa)*fb)]}function Ka(xa,za){var Na=za*za;return[xa,za*(1.0148+Na*Na*(.23185+Na*(-.14499+.02406*Na)))]}function eb(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=wa(za);
xa*=yc(za);return[yc(xa)/Na,za+(1-kc(xa))/Na]}function wb(xa,za){var Na=ac(xa[1],xa[0]),Sa=ac(za[1],za[0]),fb=le(Na[0]*Sa[1]-Na[1]*Sa[0],Na[0]*Sa[0]+Na[1]*Sa[1]);Na=x(Na[0]*Na[0]+Na[1]*Na[1])/x(Sa[0]*Sa[0]+Sa[1]*Sa[1]);return Hb([1,0,xa[0][0],0,1,xa[0][1]],Hb([Na,0,0,0,Na,0],Hb([kc(fb),yc(fb),0,-yc(fb),kc(fb),0],[1,0,-za[0][0],0,1,-za[0][1]])))}function Hb(xa,za){return[xa[0]*za[0]+xa[1]*za[3],xa[0]*za[1]+xa[1]*za[4],xa[0]*za[2]+xa[1]*za[5]+xa[2],xa[3]*za[0]+xa[4]*za[3],xa[3]*za[1]+xa[4]*za[4],xa[3]*
za[2]+xa[4]*za[5]+xa[5]]}function ac(xa,za){return[xa[0]-za[0],xa[1]-za[1]]}function Lb(xa,za){function Na(Db,Ab){Db.edges=Bb(Db.face);if(Ab.face){var Kb=Db.shared=pb(Db.face,Ab.face),Jb=wb(Kb.map(Ab.project),Kb.map(Db.project));Db.transform=Ab.transform?Hb(Ab.transform,Jb):Jb;Jb=Ab.edges;for(var cc=0,xc=Jb.length;cc<xc;++cc)tc(Kb[0],Jb[cc][1])&&tc(Kb[1],Jb[cc][0])&&(Jb[cc]=Db),tc(Kb[0],Jb[cc][0])&&tc(Kb[1],Jb[cc][1])&&(Jb[cc]=Db);Jb=Db.edges;cc=0;for(xc=Jb.length;cc<xc;++cc)tc(Kb[0],Jb[cc][0])&&
tc(Kb[1],Jb[cc][1])&&(Jb[cc]=Ab),tc(Kb[0],Jb[cc][1])&&tc(Kb[1],Jb[cc][0])&&(Jb[cc]=Ab)}else Db.transform=Ab.transform;Db.children&&Db.children.forEach(function(Y){Na(Y,Db)});return Db}function Sa(Db,Ab){var Kb=za(Db,Ab);Db=Kb.project([Db*gd,Ab*gd]);if(Kb=Kb.transform)return[Kb[0]*Db[0]+Kb[1]*Db[1]+Kb[2],-(Kb[3]*Db[0]+Kb[4]*Db[1]+Kb[5])];Db[1]=-Db[1];return Db}function fb(Db,Ab){var Kb=Db.project.invert,Jb=Db.transform,cc=Ab;if(Jb){var xc=1/(Jb[0]*Jb[4]-Jb[1]*Jb[3]);Jb=[xc*Jb[4],-xc*Jb[1],xc*(Jb[1]*
Jb[5]-Jb[2]*Jb[4]),-xc*Jb[3],xc*Jb[0],xc*(Jb[2]*Jb[3]-Jb[0]*Jb[5])];cc=[Jb[0]*cc[0]+Jb[1]*cc[1]+Jb[2],Jb[3]*cc[0]+Jb[4]*cc[1]+Jb[5]]}if(Jb=Kb)Kb=Y=Kb(cc),Kb=za(Kb[0]*Mc,Kb[1]*Mc),Jb=Db===Kb;if(Jb)return Y;var Y;Db=Db.children;Kb=0;for(cc=Db&&Db.length;Kb<cc;++Kb)if(Y=fb(Db[Kb],Ab))return Y}Na(xa,{transform:null});Ub(xa)&&(Sa.invert=function(Db,Ab){return(Db=fb(xa,[Db,-Ab]))&&(Db[0]*=Mc,Db[1]*=Mc,Db)});var hb=l.geoProjection(Sa),qb=hb.stream;hb.stream=function(Db){var Ab=hb.rotate(),Kb=qb(Db),Jb=(hb.rotate([0,
0]),qb(Db));hb.rotate(Ab);Kb.sphere=function(){Jb.polygonStart();Jb.lineStart();Ac(Jb,xa);Jb.lineEnd();Jb.polygonEnd()};return Kb};return hb.angle(-30)}function Ac(xa,za,Na){var Sa,fb=za.edges,hb=fb.length;var qb={type:"MultiPoint",coordinates:za.face};var Db=za.face.filter(function(cc){return 90!==Gc(cc[1])}),Ab=l.geoBounds({type:"MultiPoint",coordinates:Db});Db=!1;var Kb=-1,Jb=Ab[1][0]-Ab[0][0];Ab=180===Jb||360===Jb?[(Ab[0][0]+Ab[1][0])/2,(Ab[0][1]+Ab[1][1])/2]:l.geoCentroid(qb);if(Na)for(;++Kb<
hb&&fb[Kb]!==Na;);++Kb;for(Jb=0;Jb<hb;++Jb)qb=fb[(Jb+Kb)%hb],Array.isArray(qb)?(Db||(xa.point((Sa=l.geoInterpolate(qb[0],Ab)(1E-6))[0],Sa[1]),Db=!0),xa.point((Sa=l.geoInterpolate(qb[1],Ab)(1E-6))[0],Sa[1])):(Db=!1,qb!==Na&&Ac(xa,qb,za))}function tc(xa,za){return xa&&za&&xa[0]===za[0]&&xa[1]===za[1]}function pb(xa,za){for(var Na,Sa,fb=xa.length,hb=null,qb=0;qb<fb;++qb){Na=xa[qb];for(var Db=za.length;0<=--Db;)if(Sa=za[Db],Na[0]===Sa[0]&&Na[1]===Sa[1]){if(hb)return[hb,Na];hb=Na}}}function Bb(xa){for(var za=
xa.length,Na=[],Sa=xa[za-1],fb=0;fb<za;++fb)Na.push([Sa,Sa=xa[fb]]);return Na}function Ub(xa){return xa.project.invert||xa.children&&xa.children.some(Ub)}function mc(xa,za){xa=P(xa,za);return[xa[0]*$d,xa[1]]}function Bc(xa,za){for(var Na=0,Sa=xa.length,fb=0;Na<Sa;++Na)fb+=xa[Na]*za[Na];return fb}function Cc(xa,za){return[xa[1]*za[2]-xa[2]*za[1],xa[2]*za[0]-xa[0]*za[2],xa[0]*za[1]-xa[1]*za[0]]}function Xc(xa){return[le(xa[1],xa[0])*gd,H(Yf(-1,If(1,xa[2])))*gd]}function Qb(xa){var za=xa[0]*Mc;xa=xa[1]*
Mc;var Na=kc(xa);return[Na*kc(za),Na*yc(za),yc(xa)]}function Ic(xa,za){return{type:"FeatureCollection",features:xa.features.map(function(Na){return Dc(Na,za)})}}function Dc(xa,za){return{type:"Feature",id:xa.id,properties:xa.properties,geometry:Tc(xa.geometry,za)}}function uc(xa,za){return{type:"GeometryCollection",geometries:xa.geometries.map(function(Na){return Tc(Na,za)})}}function Tc(xa,za){if(!xa)return null;if("GeometryCollection"===xa.type)return uc(xa,za);switch(xa.type){case "Point":var Na=
Uf;break;case "MultiPoint":Na=Uf;break;case "LineString":Na=ne;break;case "MultiLineString":Na=ne;break;case "Polygon":Na=sf;break;case "MultiPolygon":Na=sf;break;case "Sphere":Na=sf;break;default:return null}l.geoStream(xa,za(Na));return Na.result()}function ad(xa){function za(Sa,fb){var hb=Gc(Sa)<Za;fb=xa(hb?Sa:0<Sa?Sa-Ea:Sa+Ea,fb);Sa=(fb[0]-fb[1])*ub;fb=(fb[0]+fb[1])*ub;if(hb)return[Sa,fb];hb=Na*ub;var qb=0<Sa^0<fb?-1:1;return[qb*Sa-qe(fb)*hb,qb*fb-qe(Sa)*hb]}var Na=xa(Za,0)[0]-xa(-Za,0)[0];xa.invert&&
(za.invert=function(Sa,fb){var hb=(Sa+fb)*ub,qb=(fb-Sa)*ub,Db=Gc(hb)<.5*Na&&Gc(qb)<.5*Na;if(!Db){var Ab=Na*ub,Kb=0<hb^0<qb?-1:1;Sa=-Kb*Sa+(0<qb?1:-1)*Ab;fb=-Kb*fb+(0<hb?1:-1)*Ab;hb=(-Sa-fb)*ub;qb=(Sa-fb)*ub}fb=xa.invert(hb,qb);Db||(fb[0]+=0<hb?Ea:-Ea);return fb});return l.geoProjection(za).rotate([-90,-90,45]).clipAngle(179.999)}function ld(xa){function za(Sa,fb){Sa=Na?wa(Sa*Na/2)/Na:Sa/2;if(!fb)return[2*Sa,-xa];Sa=2*xe(Sa*yc(fb));var hb=1/wa(fb);return[yc(Sa)*hb,fb+(1-kc(Sa))*hb-xa]}var Na=yc(xa);
za.invert=function(Sa,fb){if(1E-6>Gc(fb+=xa))return[Na?2*xe(Na*Sa/2)/Na:Sa,0];var hb=Sa*Sa+fb*fb,qb=0,Db=10;do{var Ab=wa(qb);var Kb=1/kc(qb),Jb=hb-2*fb*qb+qb*qb;qb-=Ab=(Ab*Jb+2*(qb-fb))/(2+Jb*Kb*Kb+2*(qb-fb)*Ab)}while(1E-6<Gc(Ab)&&0<--Db);Sa*=Ab=wa(qb);fb=wa(Gc(fb)<Gc(qb+1/Ab)?.5*H(Sa):.5*N(Sa)+Ea/4)/yc(qb);return[Na?2*xe(Na*fb)/Na:2*fb,qb]};return za}function Cd(xa,za){var Na=If(18,36*Gc(za)/Ea),Sa=ue(Na);Na-=Sa;var fb=(Ab=Cf[Sa])[0],hb=Ab[1],qb=(Ab=Cf[++Sa])[0],Db=Ab[1];Sa=(Ab=Cf[If(19,++Sa)])[0];
Ab=Ab[1];var Ab;return[xa*(qb+Na*(Sa-fb)/2+Na*Na*(Sa-2*qb+fb)/2),(0<za?Za:-Za)*(Db+Na*(Ab-hb)/2+Na*Na*(Ab-2*Db+hb)/2)]}function Dd(xa){function za(Na,Sa){var fb=kc(Sa),hb=(xa-1)/(xa-fb*kc(Na));return[hb*fb*yc(Na),hb*yc(Sa)]}za.invert=function(Na,Sa){var fb=Na*Na+Sa*Sa,hb=x(fb);fb=(xa-x(1-fb*(xa+1)/(xa-1)))/((xa-1)/hb+hb/(xa-1));return[le(Na*fb,hb*x(1-fb*fb)),hb?H(Sa*fb/hb):0]};return za}function Ud(xa,za){function Na(qb,Db){qb=Sa(qb,Db);Db=qb[1];var Ab=Db*hb/(xa-1)+fb;return[qb[0]*fb/Ab,Db/Ab]}var Sa=
Dd(xa);if(!za)return Sa;var fb=kc(za),hb=yc(za);Na.invert=function(qb,Db){var Ab=(xa-1)/(xa-1-Db*hb);return Sa.invert(Ab*qb,Ab*Db*fb)};return Na}function ae(xa){return 0<xa.length}function oe(xa){return-90===xa||90===xa?[0,xa]:[-180,Math.floor(1E4*xa)/1E4]}function De(xa){var za=xa[0],Na=xa[1],Sa=!1;-179.9999>=za?(za=-180,Sa=!0):179.9999<=za&&(za=180,Sa=!0);-89.9999>=Na?(Na=-90,Sa=!0):89.9999<=Na&&(Na=90,Sa=!0);return Sa?[za,Na]:xa}function fe(xa){return xa.map(De)}function ef(xa,za,Na){for(var Sa=
0,fb=xa.length;Sa<fb;++Sa){var hb=xa[Sa].slice();Na.push({index:-1,polygon:za,ring:hb});for(var qb=0,Db=hb.length;qb<Db;++qb){var Ab=hb[qb],Kb=Ab[0],Jb=Ab[1];if(-179.9999>=Kb||179.9999<=Kb||-89.9999>=Jb||89.9999<=Jb){hb[qb]=De(Ab);for(Ab=qb+1;Ab<Db;++Ab){var cc=hb[Ab];Kb=cc[0];cc=cc[1];if(-179.9999<Kb&&179.9999>Kb&&-89.9999<cc&&89.9999>cc)break}if(Ab!==qb+1){qb?(qb={index:-1,polygon:za,ring:hb.slice(0,qb+1)},qb.ring[qb.ring.length-1]=oe(Jb),Na[Na.length-1]=qb):Na.pop();if(Ab>=Db)break;Na.push({index:-1,
polygon:za,ring:hb=hb.slice(Ab-1)});hb[0]=oe(hb[0][1]);qb=-1;Db=hb.length}}}}}function Ze(xa){var za,Na=xa.length,Sa={},fb={};for(za=0;za<Na;++za){var hb=xa[za];var qb=hb.ring[0];var Db=hb.ring[hb.ring.length-1];qb[0]===Db[0]&&qb[1]===Db[1]?(hb.polygon.push(hb.ring),xa[za]=null):(hb.index=za,Sa[qb]=fb[Db]=hb)}for(za=0;za<Na;++za)if(hb=xa[za]){qb=hb.ring[0];Db=hb.ring[hb.ring.length-1];var Ab=fb[qb];var Kb=Sa[Db];delete Sa[qb];delete fb[Db];qb[0]===Db[0]&&qb[1]===Db[1]?hb.polygon.push(hb.ring):Ab?
(delete fb[qb],delete Sa[Ab.ring[0]],Ab.ring.pop(),xa[Ab.index]=null,hb={index:-1,polygon:Ab.polygon,ring:Ab.ring.concat(hb.ring)},Ab===Kb?hb.polygon.push(hb.ring):(hb.index=Na++,xa.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb))):Kb?(delete Sa[Db],delete fb[Kb.ring[Kb.ring.length-1]],hb.ring.pop(),hb={index:Na++,polygon:Kb.polygon,ring:hb.ring.concat(Kb.ring)},xa[Kb.index]=null,xa.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb)):(hb.ring.push(hb.ring[0]),hb.polygon.push(hb.ring))}}function df(xa){var za=
{type:"Feature",geometry:Zd(xa.geometry)};null!=xa.id&&(za.id=xa.id);null!=xa.bbox&&(za.bbox=xa.bbox);null!=xa.properties&&(za.properties=xa.properties);return za}function Zd(xa){if(null==xa)return xa;switch(xa.type){case "GeometryCollection":var za={type:"GeometryCollection",geometries:xa.geometries.map(Zd)};break;case "Point":za={type:"Point",coordinates:De(xa.coordinates)};break;case "MultiPoint":case "LineString":za={type:xa.type,coordinates:fe(xa.coordinates)};break;case "MultiLineString":za=
{type:"MultiLineString",coordinates:xa.coordinates.map(fe)};break;case "Polygon":var Na=[];ef(xa.coordinates,Na,za=[]);Ze(za);za={type:"Polygon",coordinates:Na};break;case "MultiPolygon":za=[];Na=-1;var Sa=xa.coordinates.length;for(var fb=Array(Sa);++Na<Sa;)ef(xa.coordinates[Na],fb[Na]=[],za);Ze(za);za={type:"MultiPolygon",coordinates:fb.filter(ae)};break;default:return xa}null!=xa.bbox&&(za.bbox=xa.bbox);return za}function he(xa,za){za=wa(za/2);var Na=yc(Cb*za);return[xa*(.74482-.34588*Na*Na),1.70711*
za]}function zf(xa,za,Na){var Sa=l.geoInterpolate(za,Na);Na=Sa(.5);za=l.geoRotation([-Na[0],-Na[1]])(za);Sa=Sa.distance/2;var fb=-H(yc(za[1]*Mc)/yc(Sa));Na=[-Na[0],-Na[1],-(0<za[0]?Ea-fb:fb)*gd];xa=l.geoProjection(xa(Sa)).rotate(Na);var hb=l.geoRotation(Na),qb=xa.center;delete xa.rotate;xa.center=function(Db){return arguments.length?qb(hb(Db)):hb.invert(qb())};return xa.clipAngle(90)}function Ue(xa){function za(Sa,fb){Sa=l.geoGnomonicRaw(Sa,fb);Sa[0]*=Na;return Sa}var Na=kc(xa);za.invert=function(Sa,
fb){return l.geoGnomonicRaw.invert(Sa/Na,fb)};return za}function Nf(xa,za){return zf(Ue,xa,za)}function me(xa){function za(Db,Ab){var Kb=N(kc(Ab)*kc(Db-Na));Db=N(kc(Ab)*kc(Db-Sa));Kb*=Kb;Db*=Db;return[(Kb-Db)/(2*xa),(0>Ab?-1:1)*x(4*fb*Db-(fb-Kb+Db)*(fb-Kb+Db))/(2*xa)]}if(!(xa*=2))return l.geoAzimuthalEquidistantRaw;var Na=-xa/2,Sa=-Na,fb=xa*xa,hb=wa(Sa),qb=.5/yc(Sa);za.invert=function(Db,Ab){var Kb=Ab*Ab,Jb=kc(x(Kb+(cc=Db+Na)*cc));Db=kc(x(Kb+(cc=Db+Sa)*cc));var cc,xc;return[le(xc=Jb-Db,cc=(Jb+Db)*
hb),(0>Ab?-1:1)*N(x(cc*cc+xc*xc)*qb)]};return za}function te(xa,za){return zf(me,xa,za)}function kf(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=Gc(za/Za),Sa=H(Na);if(1E-6>Gc(xa)||1E-6>Gc(Gc(za)-Za))return[0,qe(za)*Ea*wa(Sa/2)];var fb=kc(Sa);Sa=Gc(Ea/xa-xa/Ea)/2;var hb=Sa*Sa;fb/=Na+fb-1;Na=fb*(2/Na-1);var qb=Na*Na,Db=qb+hb,Ab=fb-qb,Kb=hb+fb;return[qe(xa)*Ea*(Sa*Ab+x(hb*Ab*Ab-Db*(fb*fb-qb)))/Db,qe(za)*Ea*(Na*Kb-Sa*x((hb+1)*Db-Kb*Kb))/Db]}function we(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=Gc(za/Za),
Sa=H(Na);if(1E-6>Gc(xa)||1E-6>Gc(Gc(za)-Za))return[0,qe(za)*Ea*wa(Sa/2)];var fb=kc(Sa);Sa=Gc(Ea/xa-xa/Ea)/2;var hb=Sa*Sa;Na=fb*(x(1+hb)-Sa*fb)/(1+hb*Na*Na);return[qe(xa)*Ea*Na,qe(za)*Ea*x(1-Na*(2*Sa+Na))]}function Od(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=za/Za,Sa=H(Na);if(1E-6>Gc(xa)||1E-6>Gc(Gc(za)-Za))return[0,Ea*wa(Sa/2)];za=(Ea/xa-xa/Ea)/2;Na/=1+kc(Sa);return[Ea*(qe(xa)*x(za*za+1-Na*Na)-za),Ea*Na]}function Xd(xa,za){if(!za)return[xa,0];var Na=Gc(za);if(!xa||Na===Za)return[0,za];var Sa=Na/
Za;Na=Sa*Sa;var fb=(8*Sa-Na*(Na+2)-5)/(2*Na*(Sa-1)),hb=fb*fb,qb=Sa*fb,Db=Na+hb+2*qb;Sa+=3*fb;fb=xa/Za;fb+=1/fb;fb=qe(Gc(xa)-Za)*x(fb*fb-4);var Ab=fb*fb;Na=(fb*(Db+hb-1)+2*x(Db*(Na+hb*Ab-1)+(1-Na)*(Na*(Sa*Sa+4*hb)+12*qb*hb+4*hb*hb)))/(4*Db+Ab);return[qe(xa)*Za*Na,qe(za)*Za*x(1+fb*Gc(Na)-Na*Na)]}function Be(xa,za,Na,Sa,fb){function hb(qb,Db){Db=Na*yc(Sa*Db);var Ab=x(1-Db*Db),Kb=x(2/(1+Ab*kc(qb*=fb)));return[xa*Ab*Kb*yc(qb),za*Db*Kb]}hb.invert=function(qb,Db){var Ab=qb/xa,Kb=Db/za;Ab=x(Ab*Ab+Kb*Kb);
Kb=2*H(Ab/2);return[le(qb*wa(Kb),xa*Ab)/fb,Ab&&H(Db*yc(Kb)/(za*Na*Ab))/Sa]};return hb}function jf(xa,za,Na,Sa){var fb=Ea/3;xa=Yf(xa,1E-6);za=Yf(za,1E-6);xa=If(xa,Za);za=If(za,Ea-1E-6);Na=Yf(Na,0);Na=If(Na,99.999999);Sa=Yf(Sa,1E-6);var hb=Sa/100;Na=N((Na/100+1)*kc(fb))/fb;fb=yc(xa)/yc(Na*Za);Sa=za/Ea;za=x(hb*yc(xa/2)/yc(za/2));xa=za/x(Sa*fb*Na);za=1/(za*x(Sa*fb*Na));return Be(xa,za,fb,Na,Sa)}function Ge(){var xa=65*Mc,za=60*Mc,Na=20,Sa=200,fb=l.geoProjectionMutator(jf),hb=fb(xa,za,Na,Sa);hb.poleline=
function(qb){return arguments.length?fb(xa=+qb*Mc,za,Na,Sa):xa*gd};hb.parallels=function(qb){return arguments.length?fb(xa,za=+qb*Mc,Na,Sa):za*gd};hb.inflation=function(qb){return arguments.length?fb(xa,za,Na=+qb,Sa):Na};hb.ratio=function(qb){return arguments.length?fb(xa,za,Na,Sa=+qb):Sa};return hb.scale(163.775)}function Td(xa,za){return[xa*x(1-3*za*za/(Ea*Ea)),za]}function Ye(xa,za){var Na=kc(za),Sa=kc(xa)*Na,fb=1-Sa;za=kc(xa=le(yc(xa)*Na,-yc(za)));xa=yc(xa);Na=x(1-Sa*Sa);return[xa*Na-za*fb,-za*
Na-xa*fb]}function Xf(xa,za){var Na=g(xa,za);return[(Na[0]+xa/Za)/2,(Na[1]+za)/2]}var Gc=Math.abs,xe=Math.atan,le=Math.atan2,kc=Math.cos,Fe=Math.exp,ue=Math.floor,lf=Math.log,Yf=Math.max,If=Math.min,Sf=Math.pow,Bf=Math.round,qe=Math.sign||function(xa){return 0<xa?1:0>xa?-1:0},yc=Math.sin,wa=Math.tan,Ea=Math.PI,Za=Ea/2,Cb=Ea/4,ub=Math.SQRT1_2,Yb=x(2),$b=x(Ea),Oc=2*Ea,gd=180/Ea,Mc=Ea/180;g.invert=function(xa,za){if(!(xa*xa+4*za*za>Ea*Ea+1E-6)){var Na=xa,Sa=za,fb=25;do{var hb=yc(Na),qb=yc(Na/2),Db=kc(Na/
2),Ab=yc(Sa),Kb=kc(Sa),Jb=yc(2*Sa),cc=Ab*Ab,xc=Kb*Kb,Y=qb*qb,oa=1-xc*Db*Db,Oa=oa?N(Kb*Db)*x(Va=1/oa):Va=0,Va;oa=2*Oa*Kb*qb-xa;var xb=Oa*Ab-za,Sb=Va*(xc*Y+Oa*Kb*Db*cc),Zb=Va*(.5*hb*Jb-2*Oa*Ab*qb);hb=.25*Va*(Jb*qb-Oa*Ab*xc*hb);Kb=Va*(cc*Db+Oa*Y*Kb);Db=Zb*hb-Kb*Sb;if(!Db)break;Zb=(xb*Zb-oa*Kb)/Db;oa=(oa*hb-xb*Sb)/Db;Na-=Zb;Sa-=oa}while((1E-6<Gc(Zb)||1E-6<Gc(oa))&&0<--fb);return[Na,Sa]}};f.invert=function(xa,za){xa*=.375;za*=.375;if(!xa&&1<Gc(za))return null;var Na=1+xa*xa+za*za,Sa=x((Na-x(Na*Na-4*za*
za))/2);Na=H(Sa)/3;Sa?(Sa=Gc(za/Sa),Sa=lf(Sa+x(Sa*Sa-1))/3):(Sa=Gc(xa),Sa=lf(Sa+x(Sa*Sa+1))/3);var fb=kc(Na),hb=u(Sa),qb=hb*hb-fb*fb;return[2*qe(xa)*le(v(Sa)*fb,.25-qb),2*qe(za)*le(hb*yc(Na),.25+qb)]};var Nd=x(8),od=lf(1+Yb);a.invert=function(xa,za){if((fb=Gc(za))<od)return[xa,2*xe(Fe(za))-Za];var Na=Cb,Sa=25,fb;do{var hb=kc(Na/2);var qb=wa(Na/2);Na-=hb=(Nd*(Na-Cb)-lf(qb)-fb)/(Nd-hb*hb/(2*qb))}while(1E-12<Gc(hb)&&0<--Sa);return[xa/(kc(Na)*(Nd-1/yc(Na))),qe(za)*Na]};y.invert=function(xa,za){za=2*H(za/
2);return[xa*kc(za/2)/kc(za),za]};var Id=F(Yb/Za,Yb,Ea);z.invert=function(xa,za){var Na=2.00276*za;za=0>za?-Cb:Cb;var Sa=25;do{var fb=Na-Yb*yc(za);za-=fb=(yc(2*za)+2*za-Ea*yc(fb))/(2*kc(2*za)+2+Ea*kc(fb)*Yb*kc(za))}while(1E-6<Gc(fb)&&0<--Sa);fb=Na-Yb*yc(za);return[xa*(1/kc(fb)+1.11072/kc(za))/2.00276,fb]};K.invert=function(xa,za){return[xa/kc(za),za]};var jd=F(1,4/Ea,Ea);P.invert=function(xa,za){var Na=(Na=za/$b-1)*Na;return[0<Na?xa*x(Ea/Na)/2:0,H(1-Na)]};var Qd=x(3);V.invert=function(xa,za){za=3*
H(za/(Qd*$b));return[$b*xa/(Qd*(2*kc(2*za/3)-1)),za]};ya.invert=function(xa,za){var Na=x(8/(3*Ea));za/=Na;return[xa/(Na*(1-Gc(za)/Ea)),za]};va.invert=function(xa,za){var Na=2-Gc(za)/x(2*Ea/3);return[xa*x(6*Ea)/(2*Na),qe(za)*H((4-Na*Na)/3)]};Ia.invert=function(xa,za){var Na=x(Ea*(4+Ea))/2;return[xa*Na/(1+x(1-za*za*(4+Ea)/(4*Ea))),za*Na/2]};bb.invert=function(xa,za){za=za*x((4+Ea)/Ea)/2;var Na=H(za),Sa=kc(Na);return[xa/(2/x(Ea*(4+Ea))*(1+Sa)),H((Na+za*(Sa+2))/(2+Za))]};kb.invert=function(xa,za){var Na=
x(2+Ea);za=za*Na/2;return[Na*xa/(1+kc(za)),za]};ua.invert=function(xa,za){var Na=1+Za,Sa=x(Na/2);return[2*xa*Sa/(1+kc(za*=Sa)),H((za+yc(za))/Na)]};var ie=3+2*Yb;Ta.invert=function(xa,za){if(!(fb=f.invert(xa/1.2,1.065*za)))return null;var Na=fb[0];fb=fb[1];var Sa=20,fb;xa/=ie;za/=ie;do{var hb=Na/2,qb=fb/2,Db=yc(hb),Ab=kc(hb),Kb=yc(qb),Jb=kc(qb),cc=kc(fb),xc=x(cc),Y=Kb/(Jb+Yb*Ab*xc),oa=Y*Y,Oa=x(2/(1+oa)),Va=(Yb*Jb+(Ab+Db)*xc)/(Yb*Jb+(Ab-Db)*xc),xb=x(Va),Sb=xb-1/xb,Zb=xb+1/xb;qb=Oa*Sb-2*lf(xb)-xa;hb=
Oa*Y*Zb-2*xe(Y)-za;var qc=Kb&&ub*xc*Db*oa/Kb,Ec=(Yb*Ab*Jb+xc)/(2*(Jb+Yb*Ab*xc)*(Jb+Yb*Ab*xc)*xc),ed=-.5*Y*Oa*Oa*Oa,Zc=ed*qc;ed*=Ec;var Pd=(Pd=2*Jb+Yb*xc*(Ab-Db))*Pd*xb;Ab=(Yb*Ab*Jb*xc+cc)/Pd;Kb=-(Yb*Db*Kb)/(xc*Pd);Db=Sb*Zc-2*Ab/xb+Oa*(Ab+Ab/Va);xb=Sb*ed-2*Kb/xb+Oa*(Kb+Kb/Va);qc=Y*Zb*Zc-2*qc/(1+oa)+Oa*Zb*qc+Oa*Y*(Ab-Ab/Va);oa=Y*Zb*ed-2*Ec/(1+oa)+Oa*Zb*Ec+Oa*Y*(Kb-Kb/Va);Y=xb*qc-oa*Db;if(!Y)break;oa=(hb*xb-qb*oa)/Y;qb=(qb*qc-hb*Db)/Y;Na-=oa;fb=Yf(-Za,If(Za,fb-qb))}while((1E-6<Gc(oa)||1E-6<Gc(qb))&&
0<--Sa);return 1E-6>Gc(Gc(fb)-Za)?[0,fb]:Sa&&[Na,fb]};var Gf=kc(35*Mc);Ya.invert=function(xa,za){za/=1+Gf;return[xa&&xa/(Gf*x(1-za*za)),2*xe(za)]};Da.invert=function(xa,za){var Na=xe(za/$b);za=kc(Na);Na*=2;return[xa*$b/2/(kc(Na)*za*za),Na]};var tf=ra(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),kd=ra(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),We=ra(5/6*Ea,-.62636,-.0344,0,1.3493,-.05524,0,.045);qa.invert=function(xa,za){var Na=xa,Sa=za,fb=50,hb;do{var qb=Sa*Sa;Sa-=hb=
(Sa*(1+qb/12)-za)/(1+qb/4)}while(1E-6<Gc(hb)&&0<--fb);fb=50;xa/=1-.162388*qb;do{var Db=(Db=Na*Na)*Db;Na-=hb=(Na*(.87-9.52426E-4*Db)-xa)/(.87-.00476213*Db)}while(1E-6<Gc(hb)&&0<--fb);return[Na,Sa]};var uf=ra(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);na.invert=function(xa,za){1<Gc(xa)&&(xa=2*qe(xa)-xa);1<Gc(za)&&(za=2*qe(za)-za);var Na=qe(xa),Sa=qe(za),fb=-Na*xa,hb=-Sa*za;za=1>hb/fb;xa=za?hb:fb;var qb=za?fb:hb,Db=0,Ab=1;fb=.5;for(var Kb=50;;){hb=fb*fb;var Jb=x(fb),cc=H(1/x(1+hb)),xc=1-
hb+fb*(1+hb)*cc,Y=(1-Jb)/xc,oa=x(Y),Oa=Y*(1+hb),Va=oa*(1-hb),xb=x(Oa-xa*xa);Va=qb+Va+fb*xb;if(1E-12>Gc(Ab-Db)||0===--Kb||0===Va)break;0<Va?Db=fb:Ab=fb;fb=.5*(Db+Ab)}Kb?(qb=H(Jb),Kb=kc(qb),Db=1/Kb,Ab=2*Jb*Kb,Jb=(-xc*Kb-(1-Jb)*(-3*fb+cc*(1+3*hb))*Ab)/(xc*xc),fb=[Ea/4*(xa*(-2*Db*(.5*Jb/oa*(1-hb)-2*fb*oa*Ab)+-Db*Ab*xb)+-Db*(fb*(1+hb)*Jb+Y*(1+3*hb)*Ab)*H(xa/x(Oa))),qb]):fb=null;xa=fb[0];fb=fb[1];hb=kc(fb);za&&(xa=-Za-xa);return[Na*(le(yc(xa)*hb,-yc(fb))+Ea),Sa*H(kc(xa)*hb)]};Ca.invert=function(xa,za){var Na=
(Yb-1)/(Yb+1),Sa=x(1-Na*Na);za=.5*$a(Za,Sa*Sa)-za;xa=-xa;Sa*=Sa;if(za)if(za=db(za,Sa),xa){xa=db(xa,1-Sa);var fb=xa[1]*xa[1]+Sa*za[0]*za[0]*xa[0]*xa[0];za=[[za[0]*xa[2]/fb,za[1]*za[2]*xa[0]*xa[1]/fb],[za[1]*xa[1]/fb,-za[0]*za[2]*xa[0]*xa[2]/fb],[za[2]*xa[1]*xa[2]/fb,-Sa*za[0]*za[1]*xa[0]/fb]]}else za=[[za[0],0],[za[1],0],[za[2],0]];else xa=db(xa,1-Sa),za=[[0,xa[0]/xa[1]],[1/xa[1],0],[xa[2]/xa[1],0]];Sa=za[0];za=za[1];xa=za[0]*za[0]+za[1]*za[1];Sa=[(Sa[0]*za[0]+Sa[1]*za[1])/xa,(Sa[1]*za[0]-Sa[0]*za[1])/
xa];return[le(Sa[1],Sa[0])/-1,2*xe(Fe(-.5*lf(Na*Sa[0]*Sa[0]+Na*Sa[1]*Sa[1])))-Za]};var mf=H(1-1/3)*gd,Zf=ia(0);md.invert=function(xa,za){return-.7109889596207567<za?Id.invert(xa,za-.0528035274542):K.invert(xa,za)};pc.invert=function(xa,za){return.7109889596207567<Gc(za)?Id.invert(xa,za+(0<za?.0528035274542:-.0528035274542)):K.invert(xa,za)};var yf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],
[140,-90],[180,0]]]],Pe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],nf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Aa=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Pa=[[[[-180,35],
[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],vb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Uc.invert=function(xa,za){return[Oc/3*xa/x(Ea*Ea/3-za*za),za]};var Wb=Ea/Yb;Lc.invert=function(xa,za){var Na=Gc(xa),Sa=Gc(za),fb=1E-6,hb=Za;Sa<Wb?hb*=Sa/Wb:fb+=6*N(Wb/Sa);for(var qb=0;25>qb;qb++){var Db=
yc(hb),Ab=x(kc(hb)),Kb=yc(hb/2),Jb=kc(hb/2),cc=yc(fb/6),xc=kc(fb/6),Y=.5*fb*(1+Ab)-Na,oa=hb/(Jb*xc)-Sa;Db=Ab?-.25*fb*Db/Ab:0;Ab=.5*(1+Ab);Kb=(1+.5*hb*Kb/Jb)/(Jb*xc);cc=hb/Jb*(cc/6)/(xc*xc);Jb=Db*cc-Kb*Ab;cc=(Y*cc-oa*Ab)/Jb;Y=(oa*Db-Y*Kb)/Jb;hb-=cc;fb-=Y;if(1E-6>Gc(cc)&&1E-6>Gc(Y))break}return[0>xa?-fb:fb,0>za?-hb:hb]};Fd.invert=function(xa,za){var Na=qe(xa)*Ea,Sa=za/2,fb=50;do{var hb=Na*Na,qb=Sa*Sa,Db=Na*Sa,Ab=Na*(.975534+qb*(-.119161+-.0143059*hb+-.0547009*qb))-xa,Kb=Sa*(1.00384+hb*(.0802894+-.02855*
qb+1.99025E-4*hb)+qb*(.0998909+-.0491032*qb))-za,Jb=.975534-qb*(.119161+.0429177*hb+.0547009*qb),cc=-Db*(.238322+.2188036*qb+.0286118*hb);Db*=.1605788+7.961E-4*hb+-.0571*qb;qb=1.00384+hb*(.0802894+1.99025E-4*hb)+qb*(3*(.0998909-.02855*hb)-.245516*qb);hb=cc*Db-qb*Jb;cc=(Kb*cc-Ab*qb)/hb;Ab=(Ab*Db-Kb*Jb)/hb;Na-=cc;Sa-=Ab}while((1E-6<Gc(cc)||1E-6<Gc(Ab))&&0<--fb);return fb&&[Na,Sa]};ge.invert=function(xa,za){var Na=xa*xa,Sa=za*za+1,fb=Na+Sa;Na=xa?ub*x((fb-x(fb*fb-4*Na))/Na):1/x(Sa);return[H(xa*Na),qe(za)*
N(Na)]};vd.invert=function(xa,za){return[xa,2.5*xe(Fe(.8*za))-.625*Ea]};var Tb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ic=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],oc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],fd=[[.9245,0],[0,0],[.01943,0]],Wc=[[.721316,
0],[0,0],[-.00881625,-.00617325]],nd=x(6),Kd=x(7);gc.invert=function(xa,za){za=3*H(za*Kd/9);return[xa*Kd/(nd*(2*kc(2*za/3)-1)),H(3*yc(za)*nd/7)]};Eb.invert=function(xa,za){za=za*x(2+Yb)/(2*x(3));var Na=2*H(za);return[3*Yb*xa/(1+2*kc(Na)/kc(Na/2)),H((za+yc(Na))/(1+ub))]};zc.invert=function(xa,za){var Na=x(6/(4+Ea));za/=Na;1E-6>Gc(Gc(za)-Za)&&(za=0>za?-Za:Za);return[1.5*xa/(Na*(.5+kc(za))),H((za/2+yc(za))/(1+Ea/4))]};Vc.invert=function(xa,za){var Na=za,Sa=25;do{var fb=Na*Na;var hb=fb*fb;Na-=fb=(Na*
(1.01183+hb*hb*(-.02625+.01926*fb-.00396*hb))-za)/(1.01183+hb*hb*(-.23625+.21186*fb+-.05148*hb))}while(1E-12<Gc(fb)&&0<--Sa);fb=Na*Na;hb=fb*fb;za=fb*hb;return[xa/(.84719-.13063*fb+za*za*(-.04515+.05494*fb-.02326*hb+.00331*za)),Na]};Ed.invert=function(xa,za){for(var Na=za/2,Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);++Sa)fb=kc(za/2),za-=fb=(za-wa(za/2)-Na)/(1-.5/(fb*fb));return[2*xa/(1+kc(za)),za]};var de=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,
0]]]];Vd.invert=function(xa,za){xa/=Za;za/=Za;var Na=xa*xa,Sa=Na+za*za,fb=Ea*Ea;return[xa?(Sa-1+x((1-Sa)*(1-Sa)+4*Na))/(2*xa)*Za:0,B(function(hb){return Sa*(Ea*yc(hb)-2*hb)*Ea+4*hb*hb*(za-yc(hb))+2*Ea*hb-fb*za},0)]};var je=5*.23185;Ka.invert=function(xa,za){1.790857183<za?za=1.790857183:-1.790857183>za&&(za=-1.790857183);var Na=za;do{var Sa=Na*Na;Na-=Sa=(Na*(1.0148+Sa*Sa*(.23185+Sa*(-.14499+.02406*Sa)))-za)/(1.0148+Sa*Sa*(je+Sa*(-1.01493+.21654*Sa)))}while(1E-6<Gc(Sa));return[xa,Na]};eb.invert=function(xa,
za){if(1E-6>Gc(za))return[xa,0];var Na=xa*xa+za*za,Sa=.5*za,fb=10;do{var hb=wa(Sa);var qb=1/kc(Sa),Db=Na-2*za*Sa+Sa*Sa;Sa-=hb=(hb*Db+2*(Sa-za))/(2+Db*qb*qb+2*(Sa-za)*hb)}while(1E-6<Gc(hb)&&0<--fb);hb=wa(Sa);return[(Gc(za)<Gc(Sa+1/hb)?H(xa*hb):qe(za)*qe(xa)*(N(Gc(xa*hb))+Za))/yc(Sa),Sa]};var Gd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Le=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(xa){return xa.map(function(za){return Gd[za]})}),$d=2/x(3);mc.invert=function(xa,
za){return P.invert(xa/$d,za)};var Ie=()=>{},Ce=[],Qe=[],Uf={point:function(xa,za){Ce.push([xa,za])},result:function(){var xa=Ce.length?2>Ce.length?{type:"Point",coordinates:Ce[0]}:{type:"MultiPoint",coordinates:Ce}:null;Ce=[];return xa}},ne={lineStart:Ie,point:function(xa,za){Ce.push([xa,za])},lineEnd:function(){Ce.length&&(Qe.push(Ce),Ce=[])},result:function(){var xa=Qe.length?2>Qe.length?{type:"LineString",coordinates:Qe[0]}:{type:"MultiLineString",coordinates:Qe}:null;Qe=[];return xa}},sf={polygonStart:Ie,
lineStart:Ie,point:function(xa,za){Ce.push([xa,za])},lineEnd:function(){var xa=Ce.length;if(xa){do Ce.push(Ce[0].slice());while(4>++xa);Qe.push(Ce);Ce=[]}},polygonEnd:Ie,result:function(){if(!Qe.length)return null;var xa=[],za=[];Qe.forEach(function(Na){if(4>(fb=Na.length))var Sa=!1;else{Sa=0;for(var fb,hb=Na[fb-1][1]*Na[0][0]-Na[fb-1][0]*Na[0][1];++Sa<fb;)hb+=Na[Sa-1][1]*Na[Sa][0]-Na[Sa-1][0]*Na[Sa][1];Sa=0>=hb}Sa?xa.push([Na]):za.push(Na)});za.forEach(function(Na){var Sa=Na[0];xa.some(function(fb){for(var hb=
fb[0],qb=Sa[0],Db=Sa[1],Ab=!1,Kb=0,Jb=hb.length,cc=Jb-1;Kb<Jb;cc=Kb++){var xc=hb[Kb],Y=xc[0];xc=xc[1];var oa=hb[cc];cc=oa[0];oa=oa[1];xc>Db^oa>Db&&qb<(cc-Y)*(Db-xc)/(oa-xc)+Y&&(Ab=!Ab)}if(Ab)return fb.push(Na),!0})||xa.push([Na])});Qe=[];return xa.length?1<xa.length?{type:"MultiPolygon",coordinates:xa}:{type:"Polygon",coordinates:xa[0]}:null}},Cf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,
.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Cf.forEach(function(xa){xa[1]*=1.0144});Cd.invert=function(xa,za){var Na=za/Za,Sa=90*Na,fb=If(18,Gc(Sa/5)),hb=Yf(0,ue(fb));do{var qb=Cf[hb][1],Db=Cf[hb+1][1],Ab=Cf[If(19,hb+2)][1],Kb=Ab-qb;qb=Ab-2*Db+qb;Db=2*(Gc(Na)-Db)/Kb;Kb=qb/Kb;Kb=Db*(1-Kb*Db*(1-2*Kb*Db));if(0<=Kb||1===hb){Sa=(0<=za?5:-5)*(Kb+fb);Na=50;do fb=If(18,Gc(Sa)/5),hb=ue(fb),Kb=fb-hb,qb=Cf[hb][1],Db=Cf[hb+1][1],Ab=Cf[If(19,hb+2)][1],
Sa-=(fb=(0<=za?Za:-Za)*(Db+Kb*(Ab-qb)/2+Kb*Kb*(Ab-2*Db+qb)/2)-za)*gd;while(1E-12<Gc(fb)&&0<--Na);break}}while(0<=--hb);za=Cf[hb][0];fb=Cf[hb+1][0];hb=Cf[If(19,hb+2)][0];return[xa/(fb+Kb*(hb-za)/2+Kb*Kb*(hb-2*fb+za)/2),Sa*Mc]};he.invert=function(xa,za){za/=1.70711;var Na=yc(Cb*za);return[xa/(.74482-.34588*Na*Na),2*xe(za)]};kf.invert=function(xa,za){if(1E-6>Gc(za))return[xa,0];if(1E-6>Gc(xa))return[0,Za*yc(2*xe(za/Ea))];var Na=(xa/=Ea)*xa,Sa=(za/=Ea)*za,fb=Na+Sa,hb=fb*fb,qb=-Gc(za)*(1+fb),Db=qb-2*Sa+
Na,Ab=-2*qb+1+2*Sa+hb,Kb=Sa/Ab+(2*Db*Db*Db/(Ab*Ab*Ab)-9*qb*Db/(Ab*Ab))/27,Jb=(qb-Db*Db/(3*Ab))/Ab;qb=2*x(-Jb/3);Kb=N(3*Kb/(Jb*qb))/3;return[Ea*(fb-1+x(1+2*(Na-Sa)+hb))/(2*xa),qe(za)*Ea*(-qb*kc(Kb+Ea/3)-Db/(3*Ab))]};we.invert=function(xa,za){if(!xa)return[0,Za*yc(2*xe(za/Ea))];var Na=Gc(xa/Ea),Sa=(1-Na*Na-(za/=Ea)*za)/(2*Na),fb=x(Sa*Sa+1);return[qe(xa)*Ea*(fb-Sa),qe(za)*Za*yc(2*le(x((1-2*Sa*Na)*(Sa+fb)-Na),x(fb+Sa+Na)))]};Od.invert=function(xa,za){if(!za)return[xa,0];za/=Ea;var Na=(Ea*Ea*(1-za*za)-
xa*xa)/(2*Ea*xa);return[xa?Ea*(qe(xa)*x(Na*Na+1)-Na):0,Za*yc(2*xe(za))]};Xd.invert=function(xa,za){if(!xa||!za)return[xa,za];var Na=qe(za);za=Gc(za)/Ea;var Sa=qe(xa)*xa/Za,fb=(Sa*Sa-1+4*za*za)/Gc(Sa),hb=fb*fb,qb=za*(2-(.5<za?If(za,Gc(xa)):0));za=xa*xa+za*za;var Db=50;do{var Ab=qb*qb;var Kb=(8*qb-Ab*(Ab+2)-5)/(2*Ab*(qb-1));var Jb=(3*qb-Ab*qb-10)/(2*Ab*qb),cc=Kb*Kb,xc=qb*Kb,Y=qb+Kb,oa=Y*Y,Oa=qb+3*Kb,Va=-2*Y*(4*xc*cc+(1-4*Ab+3*Ab*Ab)*(1+Jb)+cc*(-6+14*Ab-hb+(-8+8*Ab-2*hb)*Jb)+xc*(-8+12*Ab+(-10+10*Ab-
hb)*Jb));Ab=x(oa*(Ab+cc*hb-1)+(1-Ab)*(Ab*(Oa*Oa+4*cc)+cc*(12*xc+4*cc)));qb-=Kb=(fb*(oa+cc-1)+2*Ab-Sa*(4*oa+hb))/(fb*(2*Kb*Jb+2*Y*(1+Jb))+Va/Ab-8*Y*(fb*(-1+cc+oa)+2*Ab)*(1+Jb)/(hb+4*oa))}while(1E-6<Kb*za*za&&0<--Db);return[qe(xa)*(x(fb*fb+4)+fb)*Ea/4,Na*Za*qb]};var Bg=4*Ea+3*x(3),Lf=2*x(2*Ea*x(3)/Bg),jg=F(Lf*x(3)/Ea,Lf,Bg/6);Td.invert=function(xa,za){return[xa/x(1-3*za*za/(Ea*Ea)),za]};Ye.invert=function(xa,za){var Na=(xa*xa+za*za)/-2,Sa=x(-Na*(2+Na)),fb=za*Na+xa*Sa;xa=xa*Na-za*Sa;za=x(xa*xa+fb*fb);
return[le(Sa*fb,za*(1+Na)),za?-H(Sa*xa/za):0]};Xf.invert=function(xa,za){var Na=xa,Sa=za,fb=25;do{var hb=kc(Sa),qb=yc(Sa),Db=yc(2*Sa),Ab=qb*qb,Kb=hb*hb,Jb=yc(Na),cc=kc(Na/2),xc=yc(Na/2),Y=xc*xc,oa=1-Kb*cc*cc,Oa=oa?N(hb*cc)*x(Va=1/oa):Va=0,Va;oa=.5*(2*Oa*hb*xc+Na/Za)-xa;var xb=.5*(Oa*qb+Sa)-za,Sb=.5*Va*(Kb*Y+Oa*hb*cc*Ab)+.5/Za,Zb=Va*(Jb*Db/4-Oa*qb*xc);qb=.125*Va*(Db*xc-Oa*qb*Kb*Jb);Ab=.5*Va*(Ab*cc+Oa*Y*hb)+.5;hb=Zb*qb-Ab*Sb;Zb=(xb*Zb-oa*Ab)/hb;oa=(oa*qb-xb*Sb)/hb;Na-=Zb;Sa-=oa}while((1E-6<Gc(Zb)||
1E-6<Gc(oa))&&0<--fb);return[Na,Sa]};k.geoAiry=function(){var xa=Za,za=l.geoProjectionMutator(m),Na=za(xa);Na.radius=function(Sa){return arguments.length?za(xa=Sa*Mc):xa*gd};return Na.scale(179.976).clipAngle(147)};k.geoAiryRaw=m;k.geoAitoff=function(){return l.geoProjection(g).scale(152.63)};k.geoAitoffRaw=g;k.geoArmadillo=function(){var xa=20*Mc,za=0<=xa?1:-1,Na=wa(za*xa),Sa=l.geoProjectionMutator(d),fb=Sa(xa),hb=fb.stream;fb.parallel=function(qb){if(!arguments.length)return xa*gd;Na=wa((za=0<=
(xa=qb*Mc)?1:-1)*xa);return Sa(xa)};fb.stream=function(qb){var Db=fb.rotate(),Ab=hb(qb),Kb=(fb.rotate([0,0]),hb(qb)),Jb=fb.precision();fb.rotate(Db);Ab.sphere=function(){Kb.polygonStart();Kb.lineStart();for(var cc=-180*za;180>za*cc;cc+=90*za)Kb.point(cc,90*za);if(xa)for(;-180<=za*(cc-=3*za*Jb);)Kb.point(cc,za*-le(kc(cc*Mc/2),Na)*gd);Kb.lineEnd();Kb.polygonEnd()};return Ab};return fb.scale(218.695).center([0,28.0974])};k.geoArmadilloRaw=d;k.geoAugust=function(){return l.geoProjection(f).scale(66.1603)};
k.geoAugustRaw=f;k.geoBaker=function(){return l.geoProjection(a).scale(112.314)};k.geoBakerRaw=a;k.geoBerghaus=function(){var xa=5,za=l.geoProjectionMutator(e),Na=za(xa),Sa=Na.stream,fb=-kc(.01*Mc),hb=yc(.01*Mc);Na.lobes=function(qb){return arguments.length?za(xa=+qb):xa};Na.stream=function(qb){var Db=Na.rotate(),Ab=Sa(qb),Kb=(Na.rotate([0,0]),Sa(qb));Na.rotate(Db);Ab.sphere=function(){Kb.polygonStart();Kb.lineStart();for(var Jb=0,cc=360/xa,xc=2*Ea/xa,Y=90-180/xa,oa=Za;Jb<xa;++Jb,Y-=cc,oa-=xc)Kb.point(le(hb*
kc(oa),fb)*gd,H(hb*yc(oa))*gd),-90>Y?(Kb.point(-90,-180-Y-.01),Kb.point(-90,-180-Y+.01)):(Kb.point(90,Y+.01),Kb.point(90,Y-.01));Kb.lineEnd();Kb.polygonEnd()};return Ab};return Na.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};k.geoBerghausRaw=e;k.geoBertin1953=function(){return l.geoProjection(O()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};k.geoBertin1953Raw=O;k.geoBoggs=function(){return l.geoProjection(z).scale(160.857)};k.geoBoggsRaw=z;k.geoBonne=function(){return G(R).scale(123.082).center([0,
26.1441]).parallel(45)};k.geoBonneRaw=R;k.geoBottomley=function(){var xa=.5,za=l.geoProjectionMutator(T),Na=za(xa);Na.fraction=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(158.837)};k.geoBottomleyRaw=T;k.geoBromley=function(){return l.geoProjection(jd).scale(152.63)};k.geoBromleyRaw=jd;k.geoChamberlin=Z;k.geoChamberlinRaw=ha;k.geoChamberlinAfrica=function(){return Z([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};k.geoCollignon=function(){return l.geoProjection(P).scale(95.6464).center([0,
30])};k.geoCollignonRaw=P;k.geoCraig=function(){return G(C).scale(249.828).clipAngle(90)};k.geoCraigRaw=C;k.geoCraster=function(){return l.geoProjection(V).scale(156.19)};k.geoCrasterRaw=V;k.geoCylindricalEqualArea=function(){return G(ia).parallel(38.58).scale(195.044)};k.geoCylindricalEqualAreaRaw=ia;k.geoCylindricalStereographic=function(){return G(aa).scale(124.75)};k.geoCylindricalStereographicRaw=aa;k.geoEckert1=function(){return l.geoProjection(ya).scale(165.664)};k.geoEckert1Raw=ya;k.geoEckert2=
function(){return l.geoProjection(va).scale(165.664)};k.geoEckert2Raw=va;k.geoEckert3=function(){return l.geoProjection(Ia).scale(180.739)};k.geoEckert3Raw=Ia;k.geoEckert4=function(){return l.geoProjection(bb).scale(180.739)};k.geoEckert4Raw=bb;k.geoEckert5=function(){return l.geoProjection(kb).scale(173.044)};k.geoEckert5Raw=kb;k.geoEckert6=function(){return l.geoProjection(ua).scale(173.044)};k.geoEckert6Raw=ua;k.geoEisenlohr=function(){return l.geoProjection(Ta).scale(62.5271)};k.geoEisenlohrRaw=
Ta;k.geoFahey=function(){return l.geoProjection(Ya).scale(137.152)};k.geoFaheyRaw=Ya;k.geoFoucaut=function(){return l.geoProjection(Da).scale(135.264)};k.geoFoucautRaw=Da;k.geoFoucautSinusoidal=function(){var xa=.5,za=l.geoProjectionMutator(ta),Na=za(xa);Na.alpha=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(168.725)};k.geoFoucautSinusoidalRaw=ta;k.geoGilbert=function(xa){function za(hb){return Sa([hb[0]/2,H(wa(hb[1]/2*Mc))*gd])}function Na(hb){za[hb]=function(){return arguments.length?
(Sa[hb].apply(Sa,arguments),za):Sa[hb]()}}null==xa&&(xa=l.geoOrthographic);var Sa=xa(),fb=l.geoEquirectangular().scale(gd).precision(0).clipAngle(null).translate([0,0]);Sa.invert&&(za.invert=function(hb){return U(Sa.invert(hb))});za.stream=function(hb){var qb=Sa.stream(hb);hb=fb.stream({point:function(Db,Ab){qb.point(Db/2,H(wa(-Ab/2*Mc))*gd)},lineStart:function(){qb.lineStart()},lineEnd:function(){qb.lineEnd()},polygonStart:function(){qb.polygonStart()},polygonEnd:function(){qb.polygonEnd()}});hb.sphere=
qb.sphere;return hb};za.rotate=function(hb){return arguments.length?(fb.rotate(hb),za):fb.rotate()};za.center=function(hb){return arguments.length?(Sa.center([hb[0]/2,H(wa(hb[1]/2*Mc))*gd]),za):U(Sa.center())};Na("angle");Na("clipAngle");Na("clipExtent");Na("fitExtent");Na("fitHeight");Na("fitSize");Na("fitWidth");Na("scale");Na("translate");Na("precision");return za.scale(249.5)};k.geoGingery=function(){var xa=6,za=30*Mc,Na=kc(za),Sa=yc(za),fb=l.geoProjectionMutator(W),hb=fb(za,xa),qb=hb.stream,
Db=-kc(.01*Mc),Ab=yc(.01*Mc);hb.radius=function(Kb){if(!arguments.length)return za*gd;Na=kc(za=Kb*Mc);Sa=yc(za);return fb(za,xa)};hb.lobes=function(Kb){return arguments.length?fb(za,xa=+Kb):xa};hb.stream=function(Kb){var Jb=hb.rotate(),cc=qb(Kb),xc=(hb.rotate([0,0]),qb(Kb));hb.rotate(Jb);cc.sphere=function(){xc.polygonStart();xc.lineStart();for(var Y=0,oa=2*Ea/xa,Oa=0;Y<xa;++Y,Oa-=oa)xc.point(le(Ab*kc(Oa),Db)*gd,H(Ab*yc(Oa))*gd),xc.point(le(Sa*kc(Oa-oa/2),Na)*gd,H(Sa*yc(Oa-oa/2))*gd);xc.lineEnd();
xc.polygonEnd()};return cc};return hb.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};k.geoGingeryRaw=W;k.geoGinzburg4=function(){return l.geoProjection(tf).scale(149.995)};k.geoGinzburg4Raw=tf;k.geoGinzburg5=function(){return l.geoProjection(kd).scale(153.93)};k.geoGinzburg5Raw=kd;k.geoGinzburg6=function(){return l.geoProjection(We).scale(130.945)};k.geoGinzburg6Raw=We;k.geoGinzburg8=function(){return l.geoProjection(qa).scale(131.747)};k.geoGinzburg8Raw=qa;k.geoGinzburg9=function(){return l.geoProjection(uf).scale(131.087)};
k.geoGinzburg9Raw=uf;k.geoGringorten=function(){return l.geoProjection(Fa(na)).scale(239.75)};k.geoGringortenRaw=na;k.geoGuyou=function(){return l.geoProjection(Fa(Ca)).scale(151.496)};k.geoGuyouRaw=Ca;k.geoHammer=function(){var xa=2,za=l.geoProjectionMutator(n),Na=za(xa);Na.coefficient=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(169.529)};k.geoHammerRaw=n;k.geoHammerRetroazimuthal=function(){var xa=0,za=l.geoProjectionMutator(Ga),Na=za(xa),Sa=Na.rotate,fb=Na.stream,hb=l.geoCircle();
Na.parallel=function(qb){if(!arguments.length)return xa*gd;var Db=Na.rotate();return za(xa=qb*Mc).rotate(Db)};Na.rotate=function(qb){if(!arguments.length)return qb=Sa.call(Na),qb[1]+=xa*gd,qb;Sa.call(Na,[qb[0],qb[1]-xa*gd]);hb.center([-qb[0],-qb[1]]);return Na};Na.stream=function(qb){qb=fb(qb);qb.sphere=function(){qb.polygonStart();var Db=hb.radius(89.99)().coordinates[0],Ab=Db.length-1,Kb=-1,Jb;for(qb.lineStart();++Kb<Ab;)qb.point((Jb=Db[Kb])[0],Jb[1]);qb.lineEnd();Db=hb.radius(90.01)().coordinates[0];
for(qb.lineStart();0<=--Kb;)qb.point((Jb=Db[Kb])[0],Jb[1]);qb.lineEnd();qb.polygonEnd()};return qb};return Na.scale(79.4187).parallel(45).clipAngle(179.999)};k.geoHammerRetroazimuthalRaw=Ga;k.geoHealpix=function(){var xa=4,za=l.geoProjectionMutator(Ha),Na=za(xa),Sa=Na.stream;Na.lobes=function(fb){return arguments.length?za(xa=+fb):xa};Na.stream=function(fb){var hb=Na.rotate(),qb=Sa(fb),Db=(Na.rotate([0,0]),Sa(fb));Na.rotate(hb);qb.sphere=function(){l.geoStream(Xb(180/xa),Db)};return qb};return Na.scale(239.75)};
k.geoHealpixRaw=Ha;k.geoHill=function(){var xa=1,za=l.geoProjectionMutator(nc),Na=za(xa);Na.ratio=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(167.774).center([0,18.67])};k.geoHillRaw=nc;k.geoHomolosine=function(){return l.geoProjection(pc).scale(152.63)};k.geoHomolosineRaw=pc;k.geoHufnagel=function(){var xa=1,za=0,Na=45*Mc,Sa=2,fb=l.geoProjectionMutator(Hc),hb=fb(xa,za,Na,Sa);hb.a=function(qb){return arguments.length?fb(xa=+qb,za,Na,Sa):xa};hb.b=function(qb){return arguments.length?
fb(xa,za=+qb,Na,Sa):za};hb.psiMax=function(qb){return arguments.length?fb(xa,za,Na=+qb*Mc,Sa):Na*gd};hb.ratio=function(qb){return arguments.length?fb(xa,za,Na,Sa=+qb):Sa};return hb.scale(180.739)};k.geoHufnagelRaw=Hc;k.geoHyperelliptical=function(){var xa=0,za=2.5,Na=1.183136,Sa=l.geoProjectionMutator(jc),fb=Sa(xa,za,Na);fb.alpha=function(hb){return arguments.length?Sa(xa=+hb,za,Na):xa};fb.k=function(hb){return arguments.length?Sa(xa,za=+hb,Na):za};fb.gamma=function(hb){return arguments.length?Sa(xa,
za,Na=+hb):Na};return fb.scale(152.63)};k.geoHyperellipticalRaw=jc;k.geoInterrupt=sc;k.geoInterruptedBoggs=function(){return sc(z,yf).scale(160.857)};k.geoInterruptedHomolosine=function(){return sc(pc,Pe).scale(152.63)};k.geoInterruptedMollweide=function(){return sc(Id,nf).scale(169.529)};k.geoInterruptedMollweideHemispheres=function(){return sc(Id,Aa).scale(169.529).rotate([20,0])};k.geoInterruptedSinuMollweide=function(){return sc(md,Pa,D).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};k.geoInterruptedSinusoidal=
function(){return sc(K,vb).scale(152.63).rotate([-20,0])};k.geoKavrayskiy7=function(){return l.geoProjection(Uc).scale(158.837)};k.geoKavrayskiy7Raw=Uc;k.geoLagrange=function(){var xa=.5,za=l.geoProjectionMutator(Sc),Na=za(xa);Na.spacing=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(124.75)};k.geoLagrangeRaw=Sc;k.geoLarrivee=function(){return l.geoProjection(Lc).scale(97.2672)};k.geoLarriveeRaw=Lc;k.geoLaskowski=function(){return l.geoProjection(Fd).scale(139.98)};k.geoLaskowskiRaw=
Fd;k.geoLittrow=function(){return l.geoProjection(ge).scale(144.049).clipAngle(89.999)};k.geoLittrowRaw=ge;k.geoLoximuthal=function(){return G(wd).parallel(40).scale(158.837)};k.geoLoximuthalRaw=wd;k.geoMiller=function(){return l.geoProjection(vd).scale(108.318)};k.geoMillerRaw=vd;k.geoModifiedStereographic=Pb;k.geoModifiedStereographicRaw=Wd;k.geoModifiedStereographicAlaska=function(){return Pb(Tb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};k.geoModifiedStereographicGs48=
function(){return Pb(ic,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};k.geoModifiedStereographicGs50=function(){return Pb(oc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};k.geoModifiedStereographicMiller=function(){return Pb(fd,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};k.geoModifiedStereographicLee=function(){return Pb(Wc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};k.geoMollweide=function(){return l.geoProjection(Id).scale(169.529)};
k.geoMollweideRaw=Id;k.geoMtFlatPolarParabolic=function(){return l.geoProjection(gc).scale(164.859)};k.geoMtFlatPolarParabolicRaw=gc;k.geoMtFlatPolarQuartic=function(){return l.geoProjection(Eb).scale(188.209)};k.geoMtFlatPolarQuarticRaw=Eb;k.geoMtFlatPolarSinusoidal=function(){return l.geoProjection(zc).scale(166.518)};k.geoMtFlatPolarSinusoidalRaw=zc;k.geoNaturalEarth2=function(){return l.geoProjection(Vc).scale(175.295)};k.geoNaturalEarth2Raw=Vc;k.geoNellHammer=function(){return l.geoProjection(Ed).scale(152.63)};
k.geoNellHammerRaw=Ed;k.geoInterruptedQuarticAuthalic=function(){return sc(n(Infinity),de).rotate([20,0]).scale(152.63)};k.geoNicolosi=function(){return l.geoProjection(Vd).scale(127.267)};k.geoNicolosiRaw=Vd;k.geoPatterson=function(){return l.geoProjection(Ka).scale(139.319)};k.geoPattersonRaw=Ka;k.geoPolyconic=function(){return l.geoProjection(eb).scale(103.74)};k.geoPolyconicRaw=eb;k.geoPolyhedral=Lb;k.geoPolyhedralButterfly=function(xa){xa=xa||function(Na){Na=l.geoCentroid({type:"MultiPoint",
coordinates:Na});return l.geoGnomonic().scale(1).translate([0,0]).rotate([-Na[0],-Na[1]])};var za=Le.map(function(Na){return{face:Na,project:xa(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=za[Na])&&(Na.children||(Na.children=[])).push(za[Sa])});return Lb(za[0],function(Na,Sa){return za[Na<-Ea/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ea/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(101.858).center([0,45])};k.geoPolyhedralCollignon=function(xa){xa=xa||function(Na){Na=l.geoCentroid({type:"MultiPoint",coordinates:Na});
return l.geoProjection(mc).translate([0,0]).scale(1).rotate(0<Na[1]?[-Na[0],0]:[180-Na[0],180])};var za=Le.map(function(Na){return{face:Na,project:xa(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=za[Na])&&(Na.children||(Na.children=[])).push(za[Sa])});return Lb(za[0],function(Na,Sa){return za[Na<-Ea/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ea/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};k.geoPolyhedralWaterman=function(xa){xa=xa||function(hb){hb=6===hb.length?l.geoCentroid({type:"MultiPoint",
coordinates:hb}):hb[0];return l.geoGnomonic().scale(1).translate([0,0]).rotate([-hb[0],-hb[1]])};var za=Le.map(function(hb){hb=hb.map(Qb);for(var qb=hb.length,Db=hb[qb-1],Ab,Kb=[],Jb=0;Jb<qb;++Jb)Ab=hb[Jb],Kb.push(Xc([.9486832980505138*Db[0]+.31622776601683794*Ab[0],.9486832980505138*Db[1]+.31622776601683794*Ab[1],.9486832980505138*Db[2]+.31622776601683794*Ab[2]]),Xc([.9486832980505138*Ab[0]+.31622776601683794*Db[0],.9486832980505138*Ab[1]+.31622776601683794*Db[1],.9486832980505138*Ab[2]+.31622776601683794*
Db[2]])),Db=Ab;return Kb}),Na=[],Sa=[-1,0,0,1,0,1,4,5];za.forEach(function(hb,qb){for(var Db=Le[qb],Ab=Db.length,Kb=Na[qb]=[],Jb=0;Jb<Ab;++Jb)za.push([Db[Jb],hb[(2*Jb+2)%(2*Ab)],hb[(2*Jb+1)%(2*Ab)]]),Sa.push(qb),Kb.push(Cc(Qb(hb[(2*Jb+2)%(2*Ab)]),Qb(hb[(2*Jb+1)%(2*Ab)])))});var fb=za.map(function(hb){return{project:xa(hb),face:hb}});Sa.forEach(function(hb,qb){(hb=fb[hb])&&(hb.children||(hb.children=[])).push(fb[qb])});return Lb(fb[0],function(hb,qb){var Db=kc(qb);Db=[Db*kc(hb),Db*yc(hb),yc(qb)];hb=
hb<-Ea/2?0>qb?6:4:0>hb?0>qb?2:0:hb<Ea/2?0>qb?3:1:0>qb?7:5;qb=Na[hb];return fb[0>Bc(qb[0],Db)?8+3*hb:0>Bc(qb[1],Db)?3*hb+9:0>Bc(qb[2],Db)?3*hb+10:hb]}).angle(-30).scale(110.625).center([0,45])};k.geoProject=function(xa,za){za=za.stream;if(!za)throw Error("invalid projection");switch(xa&&xa.type){case "Feature":var Na=Dc;break;case "FeatureCollection":Na=Ic;break;default:Na=Tc}return Na(xa,za)};k.geoGringortenQuincuncial=function(){return ad(na).scale(176.423)};k.geoPeirceQuincuncial=function(){return ad(Ca).scale(111.48)};
k.geoQuantize=function(xa,za){function Na(Ab){var Kb=Ab.length,Jb=2,cc=Array(Kb);cc[0]=+Ab[0].toFixed(za);for(cc[1]=+Ab[1].toFixed(za);Jb<Kb;)cc[Jb]=Ab[Jb],++Jb;return cc}function Sa(Ab){for(var Kb=Na(Ab[0]),Jb=[Kb],cc=1;cc<Ab.length;cc++){var xc=Na(Ab[cc]);if(2<xc.length||xc[0]!=Kb[0]||xc[1]!=Kb[1])Jb.push(xc),Kb=xc}1===Jb.length&&1<Ab.length&&Jb.push(Na(Ab[Ab.length-1]));return Jb}function fb(Ab){return Ab.map(Sa)}function hb(Ab){if(null==Ab)return Ab;switch(Ab.type){case "GeometryCollection":var Kb=
{type:"GeometryCollection",geometries:Ab.geometries.map(hb)};break;case "Point":Kb={type:"Point",coordinates:Na(Ab.coordinates)};break;case "MultiPoint":Kb={type:Ab.type,coordinates:Ab.coordinates.map(Na)};break;case "LineString":Kb={type:Ab.type,coordinates:Sa(Ab.coordinates)};break;case "MultiLineString":case "Polygon":Kb={type:Ab.type,coordinates:fb(Ab.coordinates)};break;case "MultiPolygon":Kb={type:"MultiPolygon",coordinates:Ab.coordinates.map(fb)};break;default:return Ab}null!=Ab.bbox&&(Kb.bbox=
Ab.bbox);return Kb}function qb(Ab){var Kb={type:"Feature",properties:Ab.properties,geometry:hb(Ab.geometry)};null!=Ab.id&&(Kb.id=Ab.id);null!=Ab.bbox&&(Kb.bbox=Ab.bbox);return Kb}if(!(0<=(za=+za)&&20>=za))throw Error("invalid digits");if(null!=xa)switch(xa.type){case "Feature":return qb(xa);case "FeatureCollection":var Db={type:"FeatureCollection",features:xa.features.map(qb)};null!=xa.bbox&&(Db.bbox=xa.bbox);return Db;default:return hb(xa)}return xa};k.geoQuincuncial=ad;k.geoRectangularPolyconic=
function(){return G(ld).scale(131.215)};k.geoRectangularPolyconicRaw=ld;k.geoRobinson=function(){return l.geoProjection(Cd).scale(152.63)};k.geoRobinsonRaw=Cd;k.geoSatellite=function(){var xa=2,za=0,Na=l.geoProjectionMutator(Ud),Sa=Na(xa,za);Sa.distance=function(fb){return arguments.length?Na(xa=+fb,za):xa};Sa.tilt=function(fb){return arguments.length?Na(xa,za=fb*Mc):za*gd};return Sa.scale(432.147).clipAngle(N(1/xa)*gd-1E-6)};k.geoSatelliteRaw=Ud;k.geoSinuMollweide=function(){return l.geoProjection(md).rotate([-20,
-55]).scale(164.263).center([0,-5.4036])};k.geoSinuMollweideRaw=md;k.geoSinusoidal=function(){return l.geoProjection(K).scale(152.63)};k.geoSinusoidalRaw=K;k.geoStitch=function(xa){if(null==xa)return xa;switch(xa.type){case "Feature":return df(xa);case "FeatureCollection":var za={type:"FeatureCollection",features:xa.features.map(df)};null!=xa.bbox&&(za.bbox=xa.bbox);return za;default:return Zd(xa)}};k.geoTimes=function(){return l.geoProjection(he).scale(146.153)};k.geoTimesRaw=he;k.geoTwoPointAzimuthal=
Nf;k.geoTwoPointAzimuthalRaw=Ue;k.geoTwoPointAzimuthalUsa=function(){return Nf([-158,21.5],[-77,39]).clipAngle(60).scale(400)};k.geoTwoPointEquidistant=te;k.geoTwoPointEquidistantRaw=me;k.geoTwoPointEquidistantUsa=function(){return te([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};k.geoVanDerGrinten=function(){return l.geoProjection(kf).scale(79.4183)};k.geoVanDerGrintenRaw=kf;k.geoVanDerGrinten2=function(){return l.geoProjection(we).scale(79.4183)};k.geoVanDerGrinten2Raw=we;k.geoVanDerGrinten3=
function(){return l.geoProjection(Od).scale(79.4183)};k.geoVanDerGrinten3Raw=Od;k.geoVanDerGrinten4=function(){return l.geoProjection(Xd).scale(127.16)};k.geoVanDerGrinten4Raw=Xd;k.geoWagner=Ge;k.geoWagner7=function(){return Ge().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};k.geoWagnerRaw=jf;k.geoWagner4=function(){return l.geoProjection(jg).scale(176.84)};k.geoWagner4Raw=jg;k.geoWagner6=function(){return l.geoProjection(Td).scale(152.63)};k.geoWagner6Raw=Td;k.geoWiechel=function(){return l.geoProjection(Ye).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};k.geoWiechelRaw=Ye;k.geoWinkel3=function(){return l.geoProjection(Xf).scale(158.837)};k.geoWinkel3Raw=Xf;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(39),A(40)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3,k.d3))})(this,function(k,l,w){function H(m,g){return function f(){const a=g();a.type=m;a.path=l.geoPath().projection(a);a.copy=a.copy||function(){const e=f();v.forEach(n=>{if(a[n])e[n](a[n]())});e.path.pointRadius(a.path.pointRadius());
return e};return a}}function N(m,g){if(!m||"string"!==typeof m)throw Error("Projection type must be a name string.");m=m.toLowerCase();return 1<arguments.length?(u[m]=H(m,g),this):u[m]||null}const x=l.geoPath(),v="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),u={albers:l.geoAlbers,albersusa:l.geoAlbersUsa,azimuthalequalarea:l.geoAzimuthalEqualArea,azimuthalequidistant:l.geoAzimuthalEquidistant,
conicconformal:l.geoConicConformal,conicequalarea:l.geoConicEqualArea,conicequidistant:l.geoConicEquidistant,equalEarth:l.geoEqualEarth,equirectangular:l.geoEquirectangular,gnomonic:l.geoGnomonic,identity:l.geoIdentity,mercator:l.geoMercator,mollweide:w.geoMollweide,naturalEarth1:l.geoNaturalEarth1,orthographic:l.geoOrthographic,stereographic:l.geoStereographic,transversemercator:l.geoTransverseMercator};for(const m in u)N(m,u[m]);k.getProjectionPath=function(m){return m&&m.path||x};k.projection=
N;k.projectionProperties=v;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(15),A(27),A(41),A(39),A(32),A(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.d3,k.vega))})(this,function(k,l,w,H,N,x,v,u,m){function g(){}
function d(){function Da(qa,Fa){return Fa.map(na=>ta(qa,na))}function ta(qa,Fa){var na=[],Ra=[];U(qa,Fa,db=>{ra(db,qa,Fa);for(var $a=0,Ca=db.length,Ga=db[Ca-1][1]*db[0][0]-db[Ca-1][0]*db[0][1];++$a<Ca;)Ga+=db[$a-1][1]*db[$a][0]-db[$a-1][0]*db[$a][1];0<Ga?na.push([db]):Ra.push(db)});Ra.forEach(db=>{for(var $a=0,Ca=na.length,Ga;$a<Ca;++$a){a:{var pa=(Ga=na[$a])[0];for(var Ha=db,Ua=-1,jb=Ha.length;++Ua<jb;){b:{var Fb=pa;for(var Xb=Ha[Ua],nc=Xb[0],md=Xb[1],pc=-1,Hc=0,mb=Fb.length,hc=mb-1;Hc<mb;hc=Hc++){var jc=
Fb[Hc],rc=jc[0],Pc=jc[1],sc=Fb[hc];hc=sc[0];var Uc=sc[1],Sc,Lc=jc;jc=sc;sc=Xb;if(Sc=(jc[0]-Lc[0])*(sc[1]-Lc[1])===(sc[0]-Lc[0])*(jc[1]-Lc[1]))Lc=Lc[Sc=+(Lc[0]===jc[0])],sc=sc[Sc],jc=jc[Sc],Sc=Lc<=sc&&sc<=jc||jc<=sc&&sc<=Lc;if(Sc){Fb=0;break b}Pc>md!==Uc>md&&nc<(hc-rc)*(md-Pc)/(Uc-Pc)+rc&&(pc=-pc)}Fb=pc}if(Fb){pa=Fb;break a}}pa=0}if(-1!==pa){Ga.push(db);break}}});return{type:"MultiPolygon",value:Fa,coordinates:na}}function U(qa,Fa,na){function Ra(Fb){var Xb=[Fb[0][0]+Ga,Fb[0][1]+Ca];Fb=[Fb[1][0]+Ga,
Fb[1][1]+Ca];var nc=2*Xb[0]+Xb[1]*(ba+1)*4,md=2*Fb[0]+Fb[1]*(ba+1)*4,pc,Hc;(pc=$a[nc])?(Hc=db[md])?(delete $a[pc.end],delete db[Hc.start],pc===Hc?(pc.ring.push(Fb),na(pc.ring)):db[pc.start]=$a[Hc.end]={start:pc.start,end:Hc.end,ring:pc.ring.concat(Hc.ring)}):(delete $a[pc.end],pc.ring.push(Fb),$a[pc.end=md]=pc):(pc=db[md])?(Hc=$a[nc])?(delete db[pc.start],delete $a[Hc.end],pc===Hc?(pc.ring.push(Fb),na(pc.ring)):db[Hc.start]=$a[pc.end]={start:Hc.start,end:pc.end,ring:Hc.ring.concat(pc.ring)}):(delete db[pc.start],
pc.ring.unshift(Xb),db[pc.start=nc]=pc):db[nc]=$a[md]={start:nc,end:md,ring:[Xb,Fb]}}var db=[],$a=[],Ca;var Ga=Ca=-1;var pa=qa[0]>=Fa;for(Ta[pa<<1].forEach(Ra);++Ga<ba-1;){var Ha=pa;pa=qa[Ga+1]>=Fa;Ta[Ha|pa<<1].forEach(Ra)}for(Ta[pa<<0].forEach(Ra);++Ca<ca-1;){Ga=-1;pa=qa[Ca*ba+ba]>=Fa;var Ua=qa[Ca*ba]>=Fa;for(Ta[pa<<1|Ua<<2].forEach(Ra);++Ga<ba-1;){Ha=pa;pa=qa[Ca*ba+ba+Ga+1]>=Fa;var jb=Ua;Ua=qa[Ca*ba+Ga+1]>=Fa;Ta[Ha|pa<<1|Ua<<2|jb<<3].forEach(Ra)}Ta[pa|Ua<<3].forEach(Ra)}Ga=-1;Ua=qa[Ca*ba]>=Fa;for(Ta[Ua<<
2].forEach(Ra);++Ga<ba-1;)jb=Ua,Ua=qa[Ca*ba+Ga+1]>=Fa,Ta[Ua<<2|jb<<3].forEach(Ra);Ta[Ua<<3].forEach(Ra)}function W(qa,Fa,na){qa.forEach(Ra=>{var db=Ra[0],$a=Ra[1],Ca=db|0,Ga=$a|0,pa=Fa[Ga*ba+Ca];if(0<db&&db<ba&&Ca===db){var Ha=Fa[Ga*ba+Ca-1];Ra[0]=db+(na-Ha)/(pa-Ha)-.5}0<$a&&$a<ca&&Ga===$a&&(Ha=Fa[(Ga-1)*ba+Ca],Ra[1]=$a+(na-Ha)/(pa-Ha)-.5)})}var ba=1,ca=1,ra=W;Da.contour=ta;Da.size=function(qa){if(!arguments.length)return[ba,ca];var Fa=Math.floor(qa[0]),na=Math.floor(qa[1]);0<=Fa&&0<=na||w.error("invalid size");
return ba=Fa,ca=na,Da};Da.smooth=function(qa){return arguments.length?(ra=qa?W:g,Da):ra===W};return Da}function f(Da,ta,U){return function(W){var ba=w.extent(W);W=U?Math.min(ba[0],0):ba[0];ba=ba[1];var ca=ba-W;ca=ta?H.tickStep(W,ba,Da):ca/(Da+1);return H.range(W+ca,ba,ca)}}function a(Da){l.Transform.call(this,null,Da)}function e(Da,ta,U){const W=f(U.levels||10,U.nice,!1!==U.zero);return"shared"!==U.resolve?W:W(Da.map(ba=>H.max(ta(ba).values)))}function n(Da,ta,U,W){var ba=W.scale||ta.scale;let ca=
W.translate||ta.translate;w.isFunction(ba)&&(ba=ba(U,W));w.isFunction(ca)&&(ca=ca(U,W));if(1!==ba&&null!=ba||ca)U=(w.isNumber(ba)?ba:ba[0])||1,ba=(w.isNumber(ba)?ba:ba[1])||1,Da.forEach(y(ta,U,ba,ca&&ca[0]||0,ca&&ca[1]||0))}function y(Da,ta,U,W,ba){function ca(db){db.forEach(ra)}function ra(db){Ra&&db.reverse();db.forEach(qa)}function qa(db){db[0]=(db[0]-Fa)*ta+W;db[1]=(db[1]-na)*U+ba}const Fa=Da.x1||0,na=Da.y1||0,Ra=0>ta*U;return function(db){db.coordinates.forEach(ca);return db}}function B(Da,ta,
U){Da=0<=Da?Da:N.bandwidthNRD(ta,U);return Math.round((Math.sqrt(4*Da*Da+1)-1)/2)}function D(Da){return w.isFunction(Da)?Da:w.constant(+Da)}function O(){function Da(Fa,na){const Ra=B(ba[0],Fa,ta)>>qa,db=B(ba[1],Fa,U)>>qa,$a=Ra?Ra+2:0,Ca=db?db+2:0,Ga=2*$a+(ca>>qa),pa=2*Ca+(ra>>qa),Ha=new Float32Array(Ga*pa),Ua=new Float32Array(Ga*pa);let jb=Ha;Fa.forEach(Fb=>{const Xb=$a+(+ta(Fb)>>qa),nc=Ca+(+U(Fb)>>qa);0<=Xb&&Xb<Ga&&0<=nc&&nc<pa&&(Ha[Xb+nc*Ga]+=+W(Fb))});0<Ra&&0<db?(M(Ga,pa,Ha,Ua,Ra),F(Ga,pa,Ua,Ha,
db),M(Ga,pa,Ha,Ua,Ra),F(Ga,pa,Ua,Ha,db),M(Ga,pa,Ha,Ua,Ra),F(Ga,pa,Ua,Ha,db)):0<Ra?(M(Ga,pa,Ha,Ua,Ra),M(Ga,pa,Ua,Ha,Ra),M(Ga,pa,Ha,Ua,Ra),jb=Ua):0<db&&(F(Ga,pa,Ha,Ua,db),F(Ga,pa,Ua,Ha,db),F(Ga,pa,Ha,Ua,db),jb=Ua);Fa=na?Math.pow(2,-2*qa):1/H.sum(jb);for(let Fb=0,Xb=Ga*pa;Fb<Xb;++Fb)jb[Fb]*=Fa;return{values:jb,scale:1<<qa,width:Ga,height:pa,x1:$a,y1:Ca,x2:$a+(ca>>qa),y2:Ca+(ra>>qa)}}var ta=Fa=>Fa[0],U=Fa=>Fa[1],W=w.one,ba=[-1,-1],ca=960,ra=500,qa=2;Da.x=function(Fa){return arguments.length?(ta=D(Fa),
Da):ta};Da.y=function(Fa){return arguments.length?(U=D(Fa),Da):U};Da.weight=function(Fa){return arguments.length?(W=D(Fa),Da):W};Da.size=function(Fa){if(!arguments.length)return[ca,ra];var na=+Fa[0],Ra=+Fa[1];0<=na&&0<=Ra||w.error("invalid size");return ca=na,ra=Ra,Da};Da.cellSize=function(Fa){if(!arguments.length)return 1<<qa;1<=(Fa=+Fa)||w.error("invalid cell size");qa=Math.floor(Math.log(Fa)/Math.LN2);return Da};Da.bandwidth=function(Fa){if(!arguments.length)return ba;Fa=w.array(Fa);1===Fa.length&&
(Fa=[+Fa[0],+Fa[0]]);2!==Fa.length&&w.error("invalid bandwidth");return ba=Fa,Da};return Da}function M(Da,ta,U,W,ba){const ca=(ba<<1)+1;for(let ra=0;ra<ta;++ra)for(let qa=0,Fa=0;qa<Da+ba;++qa)qa<Da&&(Fa+=U[qa+ra*Da]),qa>=ba&&(qa>=ca&&(Fa-=U[qa-ca+ra*Da]),W[qa-ba+ra*Da]=Fa/Math.min(qa+1,Da-1+ca-qa,ca))}function F(Da,ta,U,W,ba){const ca=(ba<<1)+1;for(let ra=0;ra<Da;++ra)for(let qa=0,Fa=0;qa<ta+ba;++qa)qa<ta&&(Fa+=U[ra+qa*Da]),qa>=ba&&(qa>=ca&&(Fa-=U[ra+(qa-ca)*Da]),W[ra+(qa-ba)*Da]=Fa/Math.min(qa+1,
ta-1+ca-qa,ca))}function z(Da){l.Transform.call(this,null,Da)}function G(Da,ta){Ya.forEach(U=>null!=ta[U]?Da[U](ta[U]):0);return Da}function K(Da,ta){var U=[],W=Ra=>Ra(qa),ba;if(null==ta)U.push(Da);else{var ca={};var ra=0;for(ba=Da.length;ra<ba;++ra){var qa=Da[ra];var Fa=ta.map(W);var na=ca[Fa];na||(ca[Fa]=na=[],na.dims=Fa,U.push(na));na.push(qa)}}return U}function R(Da){l.Transform.call(this,null,Da)}function T(Da){l.Transform.call(this,null,Da)}function ja(Da){l.Transform.call(this,null,Da)}function fa(Da,
ta){const U=Da.pointRadius();Da.context(null);null!=ta&&Da.pointRadius(ta);return U}function ha(Da){l.Transform.call(this,null,Da)}function la(Da){l.Transform.call(this,null,Da)}function Z(Da,ta,U){const W=null==U?ba=>Da(ta(ba)):ba=>{var ca=Da.pointRadius();ba=Da.pointRadius(U)(ta(ba));Da.pointRadius(ca);return ba};W.context=ba=>{Da.context(ba);return W};return W}function P(Da){l.Transform.call(this,[],Da);this.generator=v.geoGraticule()}function C(Da){l.Transform.call(this,null,Da)}function V(Da,
ta){let U;w.isFunction(Da)?(U=W=>u.rgb(Da(W,ta)),U.dep=aa(Da)):U=w.constant(u.rgb(Da||"#888"));return U}function ia(Da,ta){let U;w.isFunction(Da)?(U=W=>Da(W,ta),U.dep=aa(Da)):Da?U=w.constant(Da):(U=W=>W.$value/W.$max||0,U.dep=!0);return U}function aa(Da){if(!w.isFunction(Da))return!1;Da=w.toSet(w.accessorFields(Da));return Da.$x||Da.$y||Da.$value||Da.$max}function ya(Da,ta,U,W){const ba=Da.width;var ca=Da.height;const ra=Da.x1||0,qa=Da.y1||0,Fa=Da.x2||ba;ca=Da.y2||ca;const na=Da.values;Da=na?Ga=>
na[Ga]:w.zero;const Ra=m.canvas(Fa-ra,ca-qa),db=Ra.getContext("2d"),$a=db.getImageData(0,0,Fa-ra,ca-qa),Ca=$a.data;for(let Ga=qa,pa=0;Ga<ca;++Ga){ta.$y=Ga-qa;for(let Ha=ra,Ua=Ga*ba;Ha<Fa;++Ha,pa+=4){ta.$x=Ha-ra;ta.$value=Da(Ha+Ua);const jb=U(ta);Ca[pa+0]=jb.r;Ca[pa+1]=jb.g;Ca[pa+2]=jb.b;Ca[pa+3]=~~(255*W(ta))}}db.putImageData($a,0,0);return Ra}function va(Da){l.Transform.call(this,null,Da);this.modified(!0)}function Ia(Da,ta){const U=kb(ta.fit);ta.extent?Da.fitExtent(ta.extent,U):ta.size?Da.fitSize(ta.size,
U):0}function bb(Da){const ta=x.projection((Da||"mercator").toLowerCase());ta||w.error("Unrecognized projection type: "+Da);return ta()}function kb(Da){Da=w.array(Da);return 1===Da.length?Da[0]:{type:"FeatureCollection",features:Da.reduce((ta,U)=>ta.concat(ua(U)),[])}}function ua(Da){return"FeatureCollection"===Da.type?Da.features:w.array(Da).filter(ta=>null!=ta).map(ta=>"Feature"===ta.type?ta:{type:"Feature",geometry:ta})}const Ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,
.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};w.inherits(a,l.Transform,{transform(Da,ta){if(this.value&&!ta.changed()&&!Da.modified())return ta.StopPropagation;var U=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS);ta=ta.materialize(ta.SOURCE).source;var W=Da.field||w.identity,ba=d().smooth(!1!==Da.smooth),
ca=Da.thresholds||e(ta,W,Da),ra=null===Da.as?null:Da.as||"contour",qa=[];ta.forEach(Fa=>{const na=W(Fa),Ra=ba.size([na.width,na.height])(na.values,w.isArray(ca)?ca:ca(na.values));n(Ra,na,Fa,Da);Ra.forEach(db=>{qa.push(l.rederive(Fa,l.ingest(null!=ra?{[ra]:db}:db)))})});this.value&&(U.rem=this.value);this.value=U.source=U.add=qa;return U}});z.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",
type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Ya="x y weight size cellSize bandwidth".split(" ");w.inherits(z,l.Transform,{transform(Da,ta){function U(Fa,na){for(let Ra=0;Ra<ba.length;++Ra)Fa[ba[Ra]]=na[Ra];return Fa}if(this.value&&!ta.changed()&&!Da.modified())return ta.StopPropagation;
var W=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS);ta=ta.materialize(ta.SOURCE).source;ta=K(ta,Da.groupby);var ba=(Da.groupby||[]).map(w.accessorName),ca=G(O(),Da),ra=Da.as||"grid",qa=[];qa=ta.map(Fa=>l.ingest(U({[ra]:ca(Fa,Da.counts)},Fa.dims)));this.value&&(W.rem=this.value);this.value=W.source=W.add=qa;return W}});R.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",
type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};w.inherits(R,l.Transform,{transform(Da,ta){if(this.value&&!ta.changed()&&!Da.modified())return ta.StopPropagation;var U=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS),W=d().smooth(!1!==Da.smooth),ba=Da.values,ca=Da.thresholds||f(Da.count||10,Da.nice,
!!ba),ra=Da.size;if(!ba){ba=ta.materialize(ta.SOURCE).source;Da=G(O(),Da)(ba,!0);var qa=y(Da,Da.scale||1,Da.scale||1,0,0);ra=[Da.width,Da.height];ba=Da.values}ca=w.isArray(ca)?ca:ca(ba);ba=W.size(ra)(ba,ca);qa&&ba.forEach(qa);this.value&&(U.rem=this.value);this.value=U.source=U.add=(ba||[]).map(l.ingest);return U}});T.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};w.inherits(T,l.Transform,{transform(Da,ta){var U=this._features,
W=this._points,ba=Da.fields,ca=ba&&ba[0],ra=ba&&ba[1],qa=Da.geojson||!ba&&w.identity;ba=ta.ADD;Da=Da.modified()||ta.changed(ta.REM)||ta.modified(w.accessorFields(qa))||ca&&ta.modified(w.accessorFields(ca))||ra&&ta.modified(w.accessorFields(ra));if(!this.value||Da)ba=ta.SOURCE,this._features=U=[],this._points=W=[];qa&&ta.visit(ba,Fa=>U.push(qa(Fa)));ca&&ra&&(ta.visit(ba,Fa=>{var na=ca(Fa);Fa=ra(Fa);null!=na&&null!=Fa&&(na=+na)===na&&(Fa=+Fa)===Fa&&W.push([na,Fa])}),U=U.concat({type:"Feature",geometry:{type:"MultiPoint",
coordinates:W}}));this.value={type:"FeatureCollection",features:U}}});ja.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};w.inherits(ja,l.Transform,{transform(Da,ta){var U=ta.fork(ta.ALL),W=this.value,ba=Da.field||w.identity,ca=Da.as||"path",ra=U.SOURCE;!W||Da.modified()?(this.value=W=x.getProjectionPath(Da.projection),U.materialize().reflow()):
ra=ba===w.identity||ta.modified(ba.fields)?U.ADD_MOD:U.ADD;Da=fa(W,Da.pointRadius);U.visit(ra,qa=>qa[ca]=W(ba(qa)));W.pointRadius(Da);return U.modifies(ca)}});ha.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};w.inherits(ha,l.Transform,{transform(Da,ta){function U(na){const Ra=W([ba(na),ca(na)]);Ra?(na[qa]=Ra[0],na[Fa]=
Ra[1]):(na[qa]=void 0,na[Fa]=void 0)}var W=Da.projection,ba=Da.fields[0],ca=Da.fields[1],ra=Da.as||["x","y"],qa=ra[0],Fa=ra[1];Da.modified()?ta=ta.materialize().reflow(!0).visit(ta.SOURCE,U):(Da=ta.modified(ba.fields)||ta.modified(ca.fields),ta.visit(Da?ta.ADD_MOD:ta.ADD,U));return ta.modifies(ra)}});la.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",
type:"string","default":"shape"}]};w.inherits(la,l.Transform,{transform(Da,ta){ta=ta.fork(ta.ALL);var U=this.value,W=Da.as||"shape",ba=ta.ADD;if(!U||Da.modified())this.value=U=Z(x.getProjectionPath(Da.projection),Da.field||w.field("datum"),Da.pointRadius),ta.materialize().reflow(),ba=ta.SOURCE;ta.visit(ba,ca=>ca[W]=U);return ta.modifies(W)}});P.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};w.inherits(P,l.Transform,{transform(Da,ta){var U=this.value,W=this.generator;if(!U.length||
Da.modified())for(const ba in Da)if(w.isFunction(W[ba]))W[ba](Da[ba]);Da=W();U.length?ta.mod.push(l.replace(U[0],Da)):ta.add.push(l.ingest(Da));U[0]=Da;return ta}});C.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};w.inherits(C,l.Transform,{transform(Da,ta){if(!ta.changed()&&
!Da.modified())return ta.StopPropagation;var U=ta.materialize(ta.SOURCE).source,W="shared"===Da.resolve,ba=Da.field||w.identity,ca=ia(Da.opacity,Da),ra=V(Da.color,Da),qa=Da.as||"image",Fa={$x:0,$y:0,$value:0,$max:W?H.max(U.map(na=>H.max(ba(na).values))):0};U.forEach(na=>{const Ra=ba(na),db=w.extend({},na,Fa);W||(db.$max=H.max(Ra.values||[]));na[qa]=ya(Ra,db,ra.dep?ra:w.constant(ra(db)),ca.dep?ca:w.constant(ca(db)))});return ta.reflow(!0).modifies(qa)}});w.inherits(va,l.Transform,{transform(Da,ta){let U=
this.value;!U||Da.modified("type")?(this.value=U=bb(Da.type),x.projectionProperties.forEach(W=>{if(null!=Da[W]){var ba=U,ca=Da[W];if(w.isFunction(ba[W]))ba[W](ca)}})):x.projectionProperties.forEach(W=>{if(Da.modified(W)){var ba=U,ca=Da[W];if(w.isFunction(ba[W]))ba[W](ca)}});null!=Da.pointRadius&&U.path.pointRadius(Da.pointRadius);Da.fit&&Ia(U,Da);return ta.fork(ta.NO_SOURCE|ta.NO_FIELDS)}});k.contour=R;k.geojson=T;k.geopath=ja;k.geopoint=ha;k.geoshape=la;k.graticule=P;k.heatmap=C;k.isocontour=a;k.kde2d=
z;k.projection=va;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(g,d,f,a){if(isNaN(d)||isNaN(f))return g;var e,n=g._root;a={data:a};var y=g._x0,B=g._y0,D=g._x1,O=g._y1,M,F,z,G;if(!n)return g._root=a,g;for(;n.length;)if((z=d>=(M=(y+D)/2))?y=M:D=M,(G=f>=(F=(B+O)/2))?B=F:O=F,e=n,!(n=n[z|=G<<1]))return e[z]=a,g;var K=+g._x.call(null,n.data);var R=
+g._y.call(null,n.data);if(d===K&&f===R)return a.next=n,e?e[z]=a:g._root=a,g;do e=e?e[z]=Array(4):g._root=Array(4),(z=d>=(M=(y+D)/2))?y=M:D=M,(G=f>=(F=(B+O)/2))?B=F:O=F;while((z|=G<<1)===(G=(R>=F)<<1|K>=M));return e[G]=n,e[z]=a,g}function w(g,d,f,a,e){this.node=g;this.x0=d;this.y0=f;this.x1=a;this.y1=e}function H(g){return g[0]}function N(g){return g[1]}function x(g,d,f){d=new v(null==d?H:d,null==f?N:f,NaN,NaN,NaN,NaN);return null==g?d:d.addAll(g)}function v(g,d,f,a,e,n){this._x=g;this._y=d;this._x0=
f;this._y0=a;this._x1=e;this._y1=n;this._root=void 0}function u(g){for(var d={data:g.data},f=d;g=g.next;)f=f.next={data:g.data};return d}var m=x.prototype=v.prototype;m.copy=function(){var g=new v(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,f,a;if(!d)return g;if(!d.length)return g._root=u(d),g;for(f=[{source:d,target:g._root=Array(4)}];d=f.pop();)for(var e=0;4>e;++e)if(a=d.source[e])a.length?f.push({source:a,target:d.target[e]=Array(4)}):d.target[e]=u(a);return g};m.add=function(g){const d=
+this._x.call(null,g),f=+this._y.call(null,g);return l(this.cover(d,f),d,f,g)};m.addAll=function(g){var d,f,a=g.length,e,n,y=Array(a),B=Array(a),D=Infinity,O=Infinity,M=-Infinity,F=-Infinity;for(f=0;f<a;++f)isNaN(e=+this._x.call(null,d=g[f]))||isNaN(n=+this._y.call(null,d))||(y[f]=e,B[f]=n,e<D&&(D=e),e>M&&(M=e),n<O&&(O=n),n>F&&(F=n));if(D>M||O>F)return this;this.cover(D,O).cover(M,F);for(f=0;f<a;++f)l(this,y[f],B[f],g[f]);return this};m.cover=function(g,d){if(isNaN(g=+g)||isNaN(d=+d))return this;
var f=this._x0,a=this._y0,e=this._x1,n=this._y1;if(isNaN(f))e=(f=Math.floor(g))+1,n=(a=Math.floor(d))+1;else{for(var y=e-f||1,B=this._root,D,O;f>g||g>=e||a>d||d>=n;)switch(O=(d<a)<<1|g<f,D=Array(4),D[O]=B,B=D,y*=2,O){case 0:e=f+y;n=a+y;break;case 1:f=e-y;n=a+y;break;case 2:e=f+y;a=n-y;break;case 3:f=e-y,a=n-y}this._root&&this._root.length&&(this._root=B)}this._x0=f;this._y0=a;this._x1=e;this._y1=n;return this};m.data=function(){var g=[];this.visit(function(d){if(!d.length){do g.push(d.data);while(d=
d.next)}});return g};m.extent=function(g){return arguments.length?this.cover(+g[0][0],+g[0][1]).cover(+g[1][0],+g[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};m.find=function(g,d,f){var a=this._x0,e=this._y0,n,y,B,D,O=this._x1,M=this._y1,F=[],z=this._root,G;z&&F.push(new w(z,a,e,O,M));null==f?f=Infinity:(a=g-f,e=d-f,O=g+f,M=d+f,f*=f);for(;G=F.pop();)if(!(!(z=G.node)||(n=G.x0)>O||(y=G.y0)>M||(B=G.x1)<a||(D=G.y1)<e))if(z.length){G=(n+B)/2;var K=(y+D)/2;F.push(new w(z[3],
G,K,B,D),new w(z[2],n,K,G,D),new w(z[1],G,y,B,K),new w(z[0],n,y,G,K));if(z=(d>=K)<<1|g>=G)G=F[F.length-1],F[F.length-1]=F[F.length-1-z],F[F.length-1-z]=G}else if(G=g-+this._x.call(null,z.data),K=d-+this._y.call(null,z.data),G=G*G+K*K,G<f){var R=Math.sqrt(f=G);a=g-R;e=d-R;O=g+R;M=d+R;R=z.data}return R};m.remove=function(g){if(isNaN(D=+this._x.call(null,g))||isNaN(O=+this._y.call(null,g)))return this;var d,f=this._root,a,e=this._x0,n=this._y0,y=this._x1,B=this._y1,D,O,M,F,z,G;if(!f)return this;if(f.length)for(;;){(z=
D>=(M=(e+y)/2))?e=M:y=M;(G=O>=(F=(n+B)/2))?n=F:B=F;if(!(d=f,f=f[z|=G<<1]))return this;if(!f.length)break;if(d[z+1&3]||d[z+2&3]||d[z+3&3]){var K=d;var R=z}}for(;f.data!==g;)if(!(a=f,f=f.next))return this;(g=f.next)&&delete f.next;if(a)return g?a.next=g:delete a.next,this;if(!d)return this._root=g,this;g?d[z]=g:delete d[z];(f=d[0]||d[1]||d[2]||d[3])&&f===(d[3]||d[2]||d[1]||d[0])&&!f.length&&(K?K[R]=f:this._root=f);return this};m.removeAll=function(g){for(var d=0,f=g.length;d<f;++d)this.remove(g[d]);
return this};m.root=function(){return this._root};m.size=function(){var g=0;this.visit(function(d){if(!d.length){do++g;while(d=d.next)}});return g};m.visit=function(g){var d=[],f,a=this._root,e,n,y,B;for(a&&d.push(new w(a,this._x0,this._y0,this._x1,this._y1));f=d.pop();)if(!g(a=f.node,n=f.x0,y=f.y0,B=f.x1,f=f.y1)&&a.length){var D=(n+B)/2,O=(y+f)/2;(e=a[3])&&d.push(new w(e,D,O,B,f));(e=a[2])&&d.push(new w(e,n,O,D,f));(e=a[1])&&d.push(new w(e,D,y,B,O));(e=a[0])&&d.push(new w(e,n,y,D,O))}return this};
m.visitAfter=function(g){var d=[],f=[],a;for(this._root&&d.push(new w(this._root,this._x0,this._y0,this._x1,this._y1));a=d.pop();){var e=a.node;if(e.length){var n,y=a.x0,B=a.y0,D=a.x1,O=a.y1,M=(y+D)/2,F=(B+O)/2;(n=e[0])&&d.push(new w(n,y,B,M,F));(n=e[1])&&d.push(new w(n,M,B,D,F));(n=e[2])&&d.push(new w(n,y,F,M,O));(n=e[3])&&d.push(new w(n,M,F,D,O))}f.push(a)}for(;a=f.pop();)g(a.node,a.x0,a.y0,a.x1,a.y1);return this};m.x=function(g){return arguments.length?(this._x=g,this):this._x};m.y=function(g){return arguments.length?
(this._y=g,this):this._y};k.quadtree=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){for(var v=0,u=arguments.length,m={},g;v<u;++v){if(!(g=arguments[v]+"")||g in m||/[\s.]/.test(g))throw Error("illegal type: "+g);m[g]=[]}return new w(m)}function w(v){this._=v}function H(v,u){return v.trim().split(/^|\s+/).map(function(m){var g="",d=m.indexOf(".");0<=d&&(g=m.slice(d+
1),m=m.slice(0,d));if(m&&!u.hasOwnProperty(m))throw Error("unknown type: "+m);return{type:m,name:g}})}function N(v,u,m){for(var g=0,d=v.length;g<d;++g)if(v[g].name===u){v[g]=x;v=v.slice(0,g).concat(v.slice(g+1));break}null!=m&&v.push({name:u,value:m});return v}var x={value:()=>{}};w.prototype=l.prototype={constructor:w,on:function(v,u){var m=this._,g=H(v+"",m),d,f=-1,a=g.length;if(2>arguments.length)for(;++f<a;){var e;if(e=d=(v=g[f]).type){a:{e=m[d];for(var n=0,y=e.length;n<y;++n)if((d=e[n]).name===
v.name){d=d.value;break a}d=void 0}e=d}if(e)return d}else{if(null!=u&&"function"!==typeof u)throw Error("invalid callback: "+u);for(;++f<a;)if(d=(v=g[f]).type)m[d]=N(m[d],v.name,u);else if(null==u)for(d in m)m[d]=N(m[d],v.name,null);return this}},copy:function(){var v={},u=this._,m;for(m in u)v[m]=u[m].slice();return new w(v)},call:function(v,u){if(0<(d=arguments.length-2))for(var m=Array(d),g=0,d,f;g<d;++g)m[g]=arguments[g+2];if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);f=this._[v];
g=0;for(d=f.length;g<d;++g)f[g].value.apply(u,m)},apply:function(v,u,m){if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);v=this._[v];for(var g=0,d=v.length;g<d;++g)v[g].value.apply(u,m)}};k.dispatch=l;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){return y||(O(w),y=D.now()+B)}function w(){y=0}function H(){this._call=this._time=this._next=null}function N(M,F,z){var G=new H;G.restart(M,F,z);return G}function x(){l();++g;for(var M=a,F;M;)0<=(F=y-M._time)&&M._call.call(null,F),M=M._next;--g}function v(){y=(n=D.now())+B;g=
d=0;try{x()}finally{g=0;for(var M,F=a,z,G=Infinity;F;)F._call?(G>F._time&&(G=F._time),M=F,F=F._next):(z=F._next,F._next=null,F=M?M._next=z:a=z);e=M;m(G);y=0}}function u(){var M=D.now(),F=M-n;1E3<F&&(B-=F,n=M)}function m(M){g||(d&&(d=clearTimeout(d)),24<M-y?(Infinity>M&&(d=setTimeout(v,M-D.now()-B)),f&&(f=clearInterval(f))):(f||(n=D.now(),f=setInterval(u,1E3)),g=1,O(v)))}var g=0,d=0,f=0,a,e,n=0,y=0,B=0,D="object"===typeof performance&&performance.now?performance:Date,O="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(M){setTimeout(M,17)};H.prototype=N.prototype={constructor:H,restart:function(M,F,z){if("function"!==typeof M)throw new TypeError("callback is not a function");z=(null==z?l():+z)+(null==F?0:+F);this._next||e===this||(e?e._next=this:a=this,e=this);this._call=M;this._time=z;m()},stop:function(){this._call&&(this._call=null,this._time=Infinity,m())}};k.interval=function(M,F,z){var G=new H,K=F;if(null==F)return G.restart(M,F,z),G;G._restart=G.restart;
G.restart=function(R,T,ja){T=+T;ja=null==ja?l():+ja;G._restart(function la(ha){ha+=K;G._restart(la,K+=T,ja);R(ha)},T,ja)};G.restart(M,F,z);return G};k.now=l;k.timeout=function(M,F,z){var G=new H;F=null==F?0:+F;G.restart(K=>{G.stop();M(K+F)},F,z);return G};k.timer=N;k.timerFlush=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(43),A(44),A(45)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],l):(k=k||self,l(k.d3=k.d3||{},k.d3,k.d3,k.d3))})(this,function(k,l,w,H){function N(e){return function(){return e}}function x(e){return e.x+e.vx}function v(e){return e.y+e.vy}function u(e){return e.index}function m(e,n){e=e.get(n);if(!e)throw Error("node not found: "+n);return e}function g(){let e=
1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function d(e){return e.x}function f(e){return e.y}var a=Math.PI*(3-Math.sqrt(5));k.forceCenter=function(e,n){function y(){var O,M=B.length,F=0,z=0;for(O=0;O<M;++O){var G=B[O];F+=G.x;z+=G.y}F=(F/M-e)*D;z=(z/M-n)*D;for(O=0;O<M;++O)G=B[O],G.x-=F,G.y-=z}var B,D=1;null==e&&(e=0);null==n&&(n=0);y.initialize=function(O){B=O};y.x=function(O){return arguments.length?(e=+O,y):e};y.y=function(O){return arguments.length?(n=+O,y):n};y.strength=function(O){return arguments.length?
(D=+O,y):D};return y};k.forceCollide=function(e){function n(){function G(C,V,ia,aa,ya){var va=C.data;C=C.r;var Ia=la+C;if(va)va.index>ja.index&&(V=fa-va.x-va.vx,ia=ha-va.y-va.vy,aa=V*V+ia*ia,aa<Ia*Ia&&(0===V&&(V=1E-6*(M()-.5),aa+=V*V),0===ia&&(ia=1E-6*(M()-.5),aa+=ia*ia),aa=(Ia-(aa=Math.sqrt(aa)))/aa*F,ja.vx+=(V*=aa)*(Ia=(C*=C)/(Z+C)),ja.vy+=(ia*=aa)*Ia,va.vx-=V*(Ia=1-Ia),va.vy-=ia*Ia));else return V>fa+Ia||aa<fa-Ia||ia>ha+Ia||ya<ha-Ia}for(var K,R=D.length,T,ja,fa,ha,la,Z,P=0;P<z;++P)for(T=l.quadtree(D,
x,v).visitAfter(y),K=0;K<R;++K)ja=D[K],la=O[ja.index],Z=la*la,fa=ja.x+ja.vx,ha=ja.y+ja.vy,T.visit(G)}function y(G){if(G.data)return G.r=O[G.data.index];for(var K=G.r=0;4>K;++K)G[K]&&G[K].r>G.r&&(G.r=G[K].r)}function B(){if(D){var G,K=D.length;O=Array(K);for(G=0;G<K;++G){var R=D[G];O[R.index]=+e(R,G,D)}}}var D,O,M,F=1,z=1;"function"!==typeof e&&(e=N(null==e?1:+e));n.initialize=function(G,K){D=G;M=K;B()};n.iterations=function(G){return arguments.length?(z=+G,n):z};n.strength=function(G){return arguments.length?
(F=+G,n):F};n.radius=function(G){return arguments.length?(e="function"===typeof G?G:N(+G),B(),n):e};return n};k.forceLink=function(e){function n(ha){for(var la=0,Z=e.length;la<fa;++la)for(var P=0,C,V,ia,aa,ya;P<Z;++P)C=e[P],V=C.source,C=C.target,ia=C.x+C.vx-V.x-V.vx||1E-6*(ja()-.5),aa=C.y+C.vy-V.y-V.vy||1E-6*(ja()-.5),ya=Math.sqrt(ia*ia+aa*aa),ya=(ya-G[P])/ya*ha*F[P],ia*=ya,aa*=ya,C.vx-=ia*(ya=T[P]),C.vy-=aa*ya,V.vx+=ia*(ya=1-ya),V.vy+=aa*ya}function y(){if(K){var ha=K.length,la=e.length,Z=new Map(K.map((C,
V)=>[O(C,V,K),C]));var P=0;for(R=Array(ha);P<la;++P)ha=e[P],ha.index=P,"object"!==typeof ha.source&&(ha.source=m(Z,ha.source)),"object"!==typeof ha.target&&(ha.target=m(Z,ha.target)),R[ha.source.index]=(R[ha.source.index]||0)+1,R[ha.target.index]=(R[ha.target.index]||0)+1;P=0;for(T=Array(la);P<la;++P)ha=e[P],T[P]=R[ha.source.index]/(R[ha.source.index]+R[ha.target.index]);F=Array(la);B();G=Array(la);D()}}function B(){if(K)for(var ha=0,la=e.length;ha<la;++ha)F[ha]=+M(e[ha],ha,e)}function D(){if(K)for(var ha=
0,la=e.length;ha<la;++ha)G[ha]=+z(e[ha],ha,e)}var O=u,M=function(ha){return 1/Math.min(R[ha.source.index],R[ha.target.index])},F,z=N(30),G,K,R,T,ja,fa=1;null==e&&(e=[]);n.initialize=function(ha,la){K=ha;ja=la;y()};n.links=function(ha){return arguments.length?(e=ha,y(),n):e};n.id=function(ha){return arguments.length?(O=ha,n):O};n.iterations=function(ha){return arguments.length?(fa=+ha,n):fa};n.strength=function(ha){return arguments.length?(M="function"===typeof ha?ha:N(+ha),B(),n):M};n.distance=function(ha){return arguments.length?
(z="function"===typeof ha?ha:N(+ha),D(),n):z};return n};k.forceManyBody=function(){function e(ja){var fa=D.length,ha=l.quadtree(D,d,f).visitAfter(y);F=ja;for(ja=0;ja<fa;++ja)O=D[ja],ha.visit(B)}function n(){if(D){var ja,fa=D.length;G=Array(fa);for(ja=0;ja<fa;++ja){var ha=D[ja];G[ha.index]=+z(ha,ja,D)}}}function y(ja){var fa=0,ha,la,Z=0,P,C,V;if(ja.length){for(P=C=V=0;4>V;++V)(ha=ja[V])&&(la=Math.abs(ha.value))&&(fa+=ha.value,Z+=la,P+=la*ha.x,C+=la*ha.y);ja.x=P/Z;ja.y=C/Z}else{ha=ja;ha.x=ha.data.x;
ha.y=ha.data.y;do fa+=G[ha.data.index];while(ha=ha.next)}ja.value=fa}function B(ja,fa,ha,la){if(!ja.value)return!0;ha=ja.x-O.x;var Z=ja.y-O.y;fa=la-fa;la=ha*ha+Z*Z;if(fa*fa/T<la)return la<R&&(0===ha&&(ha=1E-6*(M()-.5),la+=ha*ha),0===Z&&(Z=1E-6*(M()-.5),la+=Z*Z),la<K&&(la=Math.sqrt(K*la)),O.vx+=ha*ja.value*F/la,O.vy+=Z*ja.value*F/la),!0;if(!(ja.length||la>=R)){if(ja.data!==O||ja.next)0===ha&&(ha=1E-6*(M()-.5),la+=ha*ha),0===Z&&(Z=1E-6*(M()-.5),la+=Z*Z),la<K&&(la=Math.sqrt(K*la));do ja.data!==O&&(fa=
G[ja.data.index]*F/la,O.vx+=ha*fa,O.vy+=Z*fa);while(ja=ja.next)}}var D,O,M,F,z=N(-30),G,K=1,R=Infinity,T=.81;e.initialize=function(ja,fa){D=ja;M=fa;n()};e.strength=function(ja){return arguments.length?(z="function"===typeof ja?ja:N(+ja),n(),e):z};e.distanceMin=function(ja){return arguments.length?(K=ja*ja,e):Math.sqrt(K)};e.distanceMax=function(ja){return arguments.length?(R=ja*ja,e):Math.sqrt(R)};e.theta=function(ja){return arguments.length?(T=ja*ja,e):Math.sqrt(T)};return e};k.forceRadial=function(e,
n,y){function B(G){for(var K=0,R=O.length;K<R;++K){var T=O[K],ja=T.x-n||1E-6,fa=T.y-y||1E-6,ha=Math.sqrt(ja*ja+fa*fa);ha=(z[K]-ha)*F[K]*G/ha;T.vx+=ja*ha;T.vy+=fa*ha}}function D(){if(O){var G,K=O.length;F=Array(K);z=Array(K);for(G=0;G<K;++G)z[G]=+e(O[G],G,O),F[G]=isNaN(z[G])?0:+M(O[G],G,O)}}var O,M=N(.1),F,z;"function"!==typeof e&&(e=N(+e));null==n&&(n=0);null==y&&(y=0);B.initialize=function(G){O=G;D()};B.strength=function(G){return arguments.length?(M="function"===typeof G?G:N(+G),D(),B):M};B.radius=
function(G){return arguments.length?(e="function"===typeof G?G:N(+G),D(),B):e};B.x=function(G){return arguments.length?(n=+G,B):n};B.y=function(G){return arguments.length?(y=+G,B):y};return B};k.forceSimulation=function(e){function n(){y();ja.call("tick",O);M<F&&(T.stop(),ja.call("end",O))}function y(ha){var la,Z=e.length;void 0===ha&&(ha=1);for(var P=0;P<ha;++P)for(M+=(G-M)*z,R.forEach(function(V){V(M)}),la=0;la<Z;++la){var C=e[la];null==C.fx?C.x+=C.vx*=K:(C.x=C.fx,C.vx=0);null==C.fy?C.y+=C.vy*=
K:(C.y=C.fy,C.vy=0)}return O}function B(){for(var ha=0,la=e.length,Z;ha<la;++ha){Z=e[ha];Z.index=ha;null!=Z.fx&&(Z.x=Z.fx);null!=Z.fy&&(Z.y=Z.fy);if(isNaN(Z.x)||isNaN(Z.y)){var P=10*Math.sqrt(.5+ha),C=ha*a;Z.x=P*Math.cos(C);Z.y=P*Math.sin(C)}if(isNaN(Z.vx)||isNaN(Z.vy))Z.vx=Z.vy=0}}function D(ha){ha.initialize&&ha.initialize(e,fa);return ha}var O,M=1,F=.001,z=1-Math.pow(F,1/300),G=0,K=.6,R=new Map,T=H.timer(n),ja=w.dispatch("tick","end"),fa=g();null==e&&(e=[]);B();return O={tick:y,restart:function(){return T.restart(n),
O},stop:function(){return T.stop(),O},nodes:function(ha){return arguments.length?(e=ha,B(),R.forEach(D),O):e},alpha:function(ha){return arguments.length?(M=+ha,O):M},alphaMin:function(ha){return arguments.length?(F=+ha,O):F},alphaDecay:function(ha){return arguments.length?(z=+ha,O):+z},alphaTarget:function(ha){return arguments.length?(G=+ha,O):G},velocityDecay:function(ha){return arguments.length?(K=1-ha,O):1-K},randomSource:function(ha){return arguments.length?(fa=ha,R.forEach(D),O):fa},force:function(ha,
la){return 1<arguments.length?(null==la?R.delete(ha):R.set(ha,D(la)),O):R.get(ha)},find:function(ha,la,Z){var P,C=e.length;Z=null==Z?Infinity:Z*Z;for(P=0;P<C;++P){var V=e[P];var ia=ha-V.x;var aa=la-V.y;ia=ia*ia+aa*aa;if(ia<Z){var ya=V;Z=ia}}return ya},on:function(ha,la){return 1<arguments.length?(ja.on(ha,la),O):ja.on(ha)}}};k.forceX=function(e){function n(F){for(var z=0,G=D.length,K;z<G;++z)K=D[z],K.vx+=(M[z]-K.x)*O[z]*F}function y(){if(D){var F,z=D.length;O=Array(z);M=Array(z);for(F=0;F<z;++F)O[F]=
isNaN(M[F]=+e(D[F],F,D))?0:+B(D[F],F,D)}}var B=N(.1),D,O,M;"function"!==typeof e&&(e=N(null==e?0:+e));n.initialize=function(F){D=F;y()};n.strength=function(F){return arguments.length?(B="function"===typeof F?F:N(+F),y(),n):B};n.x=function(F){return arguments.length?(e="function"===typeof F?F:N(+F),y(),n):e};return n};k.forceY=function(e){function n(F){for(var z=0,G=D.length,K;z<G;++z)K=D[z],K.vy+=(M[z]-K.y)*O[z]*F}function y(){if(D){var F,z=D.length;O=Array(z);M=Array(z);for(F=0;F<z;++F)O[F]=isNaN(M[F]=
+e(D[F],F,D))?0:+B(D[F],F,D)}}var B=N(.1),D,O,M;"function"!==typeof e&&(e=N(null==e?0:+e));n.initialize=function(F){D=F;y()};n.strength=function(F){return arguments.length?(B="function"===typeof F?F:N(+F),y(),n):B};n.y=function(F){return arguments.length?(e="function"===typeof F?F:N(+F),y(),n):e};return n};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(46)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(e){l.Transform.call(this,null,e)}function x(e,n){return()=>e.touch(n).run()}function v(e,n){e=H.forceSimulation(e);const y=e.stop,
B=e.restart;let D=!1;e.stopped=()=>D;e.restart=()=>(D=!1,B());e.stop=()=>(D=!0,y());return u(e,n,!0).on("end",()=>D=!0)}function u(e,n,y,B){var D=w.array(n.forces),O;var M=0;for(O=d.length;M<O;++M){var F=d[M];if("forces"!==F&&n.modified(F))e[F](n[F])}M=0;for(O=D.length;M<O;++M){var z="forces"+M;if(y||n.modified("forces",M)){F=void 0;var G=D[M];w.hasOwnProperty(g,G.force)||w.error("Unrecognized force: "+G.force);var K=g[G.force]();for(F in G)w.isFunction(K[F])&&m(K[F],G[F],G);F=K}else{if(F=B)a:{K=
F=void 0;G=D[M];var R=B;for(K in G)if(w.isFunction(F=G[K])&&R.modified(w.accessorFields(F))){F=1;break a}F=0}F=F?e.force(z):null}F&&e.force(z,F)}for(O=e.numForces||0;M<O;++M)e.force("forces"+M,null);e.numForces=D.length;return e}function m(e,n,y){e(w.isFunction(n)?B=>n(B,y):n)}const g={center:H.forceCenter,collide:H.forceCollide,nbody:H.forceManyBody,link:H.forceLink,x:H.forceX,y:H.forceY},d=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],f=["static","iterations"],a=["x","y","vx","vy"];
N.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":a}]};w.inherits(N,l.Transform,{transform(e,n){var y=this.value,B=n.changed(n.ADD_REM),D=e.modified(d),O=e.iterations||300;y?(B&&(n.modifies("index"),
y.nodes(n.source)),(D||n.changed(n.MOD))&&u(y,e,0,n)):(this.value=y=v(n.source,e),y.on("tick",x(n.dataflow,this)),e.static||(B=!0,y.tick()),n.modifies("index"));if(D||B||e.modified(f)||n.changed()&&e.restart)if(y.alpha(Math.max(y.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(y.alphaMin(),1/O)),e.static)for(y.stop();0<=--O;)y.tick();else if(y.stopped()&&y.restart(),!B)return n.StopPropagation;return this.finish(e,n)},finish(e,n){const y=n.dataflow;for(let F=this._argops,z=0,G=F.length,K;z<G;++z)if(K=
F[z],"forces"===K.name&&"link"===K.op._argval.force)for(var B=K.op._argops,D=0,O=B.length,M;D<O;++D)if("links"===B[D].name&&(M=B[D].op.source)){y.pulse(M,y.changeset().reflow());break}return n.reflow(e.modified()).modifies(a)}});k.force=N;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(U,W){return U.parent===W.parent?1:2}function w(U,W){return U+W.x}function H(U,W){return Math.max(U,W.y)}function N(U){for(var W;W=U.children;)U=W[0];return U}function x(U){for(var W;W=U.children;)U=W[W.length-1];return U}function v(U){var W=0,ba=U.children,ca=ba&&ba.length;if(ca)for(;0<=
--ca;)W+=ba[ca].value;else W=1;U.value=W}function u(U,W){U instanceof Map?(U=[void 0,U],void 0===W&&(W=g)):void 0===W&&(W=m);U=new a(U);for(var ba,ca=[U],ra,qa,Fa,na;ba=ca.pop();)if((qa=W(ba.data))&&(na=(qa=Array.from(qa)).length))for(ba.children=qa,Fa=na-1;0<=Fa;--Fa)ca.push(ra=qa[Fa]=new a(qa[Fa])),ra.parent=ba,ra.depth=ba.depth+1;return U.eachBefore(f)}function m(U){return U.children}function g(U){return Array.isArray(U)?U[1]:null}function d(U){void 0!==U.data.value&&(U.value=U.data.value);U.data=
U.data.data}function f(U){var W=0;do U.height=W;while((U=U.parent)&&U.height<++W)}function a(U){this.data=U;this.depth=this.height=0;this.parent=null}function e(U){var W=0;U=Array.from(U);for(var ba=U.length,ca,ra;ba;)ra=Math.random()*ba--|0,ca=U[ba],U[ba]=U[ra],U[ra]=ca;ba=U.length;ca=[];for(var qa;W<ba;)if(ra=U[W],qa&&y(qa,ra))++W;else{a:if(W=ca,B(ra,W))W=[ra];else{for(ca=0;ca<W.length;++ca)if(n(ra,W[ca])&&B(D(W[ca],ra),W)){W=[W[ca],ra];break a}for(ca=0;ca<W.length-1;++ca)for(qa=ca+1;qa<W.length;++qa)if(n(D(W[ca],
W[qa]),ra)&&n(D(W[ca],ra),W[qa])&&n(D(W[qa],ra),W[ca])&&B(O(W[ca],W[qa],ra),W)){W=[W[ca],W[qa],ra];break a}throw Error();}a:{W=ca=W;switch(W.length){case 1:W=W[0];W={x:W.x,y:W.y,r:W.r};break a;case 2:W=D(W[0],W[1]);break a;case 3:W=O(W[0],W[1],W[2]);break a}W=void 0}qa=W;W=0}return qa}function n(U,W){var ba=U.r-W.r,ca=W.x-U.x;U=W.y-U.y;return 0>ba||ba*ba<ca*ca+U*U}function y(U,W){var ba=U.r-W.r+1E-9*Math.max(U.r,W.r,1),ca=W.x-U.x;U=W.y-U.y;return 0<ba&&ba*ba>ca*ca+U*U}function B(U,W){for(var ba=0;ba<
W.length;++ba)if(!y(U,W[ba]))return!1;return!0}function D(U,W){var ba=U.x,ca=U.y;U=U.r;var ra=W.x,qa=W.y;W=W.r;var Fa=ra-ba,na=qa-ca,Ra=W-U,db=Math.sqrt(Fa*Fa+na*na);return{x:(ba+ra+Fa/db*Ra)/2,y:(ca+qa+na/db*Ra)/2,r:(db+U+W)/2}}function O(U,W,ba){var ca=U.x,ra=U.y;U=U.r;var qa=W.x,Fa=W.y,na=W.r,Ra=ba.x,db=ba.y,$a=ba.r;ba=ca-qa;W=ca-Ra;var Ca=ra-Fa,Ga=ra-db,pa=na-U,Ha=$a-U,Ua=ca*ca+ra*ra-U*U;Fa=Ua-qa*qa-Fa*Fa+na*na;db=Ua-Ra*Ra-db*db+$a*$a;Ra=W*Ca-ba*Ga;qa=(Ca*db-Ga*Fa)/(2*Ra)-ca;Ca=(Ga*pa-Ca*Ha)/
Ra;Ga=(W*Fa-ba*db)/(2*Ra)-ra;ba=(ba*Ha-W*pa)/Ra;W=Ca*Ca+ba*ba-1;pa=2*(U+qa*Ca+Ga*ba);U=qa*qa+Ga*Ga-U*U;U=-(W?(pa+Math.sqrt(pa*pa-4*W*U))/(2*W):U/pa);return{x:ca+qa+Ca*U,y:ra+Ga+ba*U,r:U}}function M(U,W,ba){var ca=U.x-W.x,ra=U.y-W.y,qa=ca*ca+ra*ra;if(qa){var Fa=W.r+ba.r;Fa*=Fa;var na=U.r+ba.r;na*=na;if(Fa>na){var Ra=(qa+na-Fa)/(2*qa);Fa=Math.sqrt(Math.max(0,na/qa-Ra*Ra));ba.x=U.x-Ra*ca-Fa*ra;ba.y=U.y-Ra*ra+Fa*ca}else Ra=(qa+Fa-na)/(2*qa),Fa=Math.sqrt(Math.max(0,Fa/qa-Ra*Ra)),ba.x=W.x+Ra*ca-Fa*ra,ba.y=
W.y+Ra*ra+Fa*ca}else ba.x=W.x+ba.r,ba.y=W.y}function F(U,W){var ba=U.r+W.r-1E-6,ca=W.x-U.x;U=W.y-U.y;return 0<ba&&ba*ba>ca*ca+U*U}function z(U){var W=U._,ba=U.next._,ca=W.r+ba.r;U=(W.x*ba.r+ba.x*W.r)/ca;W=(W.y*ba.r+ba.y*W.r)/ca;return U*U+W*W}function G(U){this._=U;this.previous=this.next=null}function K(U){if(!(ba=(U="object"===typeof U&&"length"in U?U:Array.from(U)).length))return 0;var W,ba;var ca=U[0];ca.x=0;ca.y=0;if(!(1<ba))return ca.r;var ra=U[1];ca.x=-ra.r;ra.x=ca.r;ra.y=0;if(!(2<ba))return ca.r+
ra.r;M(ra,ca,W=U[2]);ca=new G(ca);ra=new G(ra);W=new G(W);ca.next=W.previous=ra;ra.next=ca.previous=W;W.next=ra.previous=ca;var qa=3;a:for(;qa<ba;++qa){M(ca._,ra._,W=U[qa]);W=new G(W);var Fa=ra.next;var na=ca.previous;var Ra=ra._.r;var db=ca._.r;do if(Ra<=db){if(F(Fa._,W._)){ra=Fa;ca.next=ra;ra.previous=ca;--qa;continue a}Ra+=Fa._.r;Fa=Fa.next}else{if(F(na._,W._)){ca=na;ca.next=ra;ra.previous=ca;--qa;continue a}db+=na._.r;na=na.previous}while(Fa!==na.next);W.previous=ca;W.next=ra;ca.next=ra.previous=
ra=W;for(Fa=z(ca);(W=W.next)!==ra;)(na=z(W))<Fa&&(ca=W,Fa=na);ra=ca.next}ca=[ra._];for(W=ra;(W=W.next)!==ra;)ca.push(W._);W=e(ca);for(qa=0;qa<ba;++qa)ca=U[qa],ca.x-=W.x,ca.y-=W.y;return W.r}function R(U){if("function"!==typeof U)throw Error();return U}function T(){return 0}function ja(U){return function(){return U}}function fa(U){return Math.sqrt(U.value)}function ha(U){return function(W){W.children||(W.r=Math.max(0,+U(W)||0))}}function la(U,W){return function(ba){if(ca=ba.children){var ca,ra,qa=
ca.length,Fa=U(ba)*W||0;if(Fa)for(ra=0;ra<qa;++ra)ca[ra].r+=Fa;var na=K(ca);if(Fa)for(ra=0;ra<qa;++ra)ca[ra].r-=Fa;ba.r=na+Fa}}}function Z(U){return function(W){var ba=W.parent;W.r*=U;ba&&(W.x=ba.x+U*W.x,W.y=ba.y+U*W.y)}}function P(U){U.x0=Math.round(U.x0);U.y0=Math.round(U.y0);U.x1=Math.round(U.x1);U.y1=Math.round(U.y1)}function C(U,W,ba,ca,ra){var qa=U.children,Fa=-1,na=qa.length;for(ca=U.value&&(ca-W)/U.value;++Fa<na;)U=qa[Fa],U.y0=ba,U.y1=ra,U.x0=W,U.x1=W+=U.value*ca}function V(U){return U.id}
function ia(U){return U.parentId}function aa(U,W){return U.parent===W.parent?1:2}function ya(U){var W=U.children;return W?W[0]:U.t}function va(U){var W=U.children;return W?W[W.length-1]:U.t}function Ia(U,W){this._=U;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=W}function bb(U){U=new Ia(U,0);for(var W,ba=[U],ca,ra,qa;W=ba.pop();)if(ra=W._.children)for(W.children=Array(ca=ra.length),qa=ca-1;0<=qa;--qa)ba.push(ca=W.children[qa]=new Ia(ra[qa],qa)),
ca.parent=W;(U.parent=new Ia(null,0)).children=[U];return U}function kb(U,W,ba,ca,ra){var qa=U.children,Fa=-1,na=qa.length;for(ra=U.value&&(ra-ba)/U.value;++Fa<na;)U=qa[Fa],U.x0=W,U.x1=ca,U.y0=ba,U.y1=ba+=U.value*ra}function ua(U,W,ba,ca,ra,qa){for(var Fa=[],na=W.children,Ra,db,$a=Ra=0,Ca=na.length,Ga,pa=W.value,Ha,Ua,jb,Fb,Xb,nc;Ra<Ca;){W=ra-ba;Ga=qa-ca;do Ha=na[$a++].value;while(!Ha&&$a<Ca);Ua=jb=Ha;nc=Math.max(Ga/W,W/Ga)/(pa*U);Fb=Ha*Ha*nc;for(Xb=Math.max(jb/Fb,Fb/Ua);$a<Ca;++$a){Ha+=db=na[$a].value;
db<Ua&&(Ua=db);db>jb&&(jb=db);Fb=Ha*Ha*nc;Fb=Math.max(jb/Fb,Fb/Ua);if(Fb>Xb){Ha-=db;break}Xb=Fb}Fa.push(Ra={value:Ha,dice:W<Ga,children:na.slice(Ra,$a)});Ra.dice?C(Ra,ba,ca,ra,pa?ca+=Ga*Ha/pa:qa):kb(Ra,ba,ca,pa?ba+=W*Ha/pa:ra,qa);pa-=Ha;Ra=$a}return Fa}a.prototype=u.prototype={constructor:a,count:function(){return this.eachAfter(v)},each:function(U,W){let ba=-1;for(const ca of this)U.call(W,ca,++ba,this);return this},eachAfter:function(U,W){for(var ba,ca=[this],ra=[],qa,Fa,na=-1;ba=ca.pop();)if(ra.push(ba),
ba=ba.children)for(qa=0,Fa=ba.length;qa<Fa;++qa)ca.push(ba[qa]);for(;ba=ra.pop();)U.call(W,ba,++na,this);return this},eachBefore:function(U,W){for(var ba,ca=[this],ra,qa=-1;ba=ca.pop();)if(U.call(W,ba,++qa,this),ba=ba.children)for(ra=ba.length-1;0<=ra;--ra)ca.push(ba[ra]);return this},find:function(U,W){let ba=-1;for(const ca of this)if(U.call(W,ca,++ba,this))return ca},sum:function(U){return this.eachAfter(function(W){for(var ba=+U(W.data)||0,ca=W.children,ra=ca&&ca.length;0<=--ra;)ba+=ca[ra].value;
W.value=ba})},sort:function(U){return this.eachBefore(function(W){W.children&&W.children.sort(U)})},path:function(U){var W=this;var ba=W;var ca=U;if(ba!==ca){var ra=ba.ancestors(),qa=ca.ancestors(),Fa=null;ba=ra.pop();for(ca=qa.pop();ba===ca;)Fa=ba,ba=ra.pop(),ca=qa.pop();ba=Fa}for(ca=[W];W!==ba;)W=W.parent,ca.push(W);for(W=ca.length;U!==ba;)ca.splice(W,0,U),U=U.parent;return ca},ancestors:function(){for(var U=this,W=[U];U=U.parent;)W.push(U);return W},descendants:function(){return Array.from(this)},
leaves:function(){var U=[];this.eachBefore(function(W){W.children||U.push(W)});return U},links:function(){var U=this,W=[];U.each(function(ba){ba!==U&&W.push({source:ba.parent,target:ba})});return W},copy:function(){return u(this).eachBefore(d)},[Symbol.iterator]:function*(){var U,W=[this],ba;do{var ca=W.reverse();for(W=[];U=ca.pop();)if(yield U,U=U.children){var ra=0;for(ba=U.length;ra<ba;++ra)W.push(U[ra])}}while(W.length)}};var Ta={depth:-1},Ya={};Ia.prototype=Object.create(a.prototype);var Da=
(1+Math.sqrt(5))/2,ta=function ba(W){function ca(ra,qa,Fa,na,Ra){ua(W,ra,qa,Fa,na,Ra)}ca.ratio=function(ra){return ba(1<(ra=+ra)?ra:1)};return ca}(Da);Da=function ca(ba){function ra(qa,Fa,na,Ra,db){if(($a=qa._squarify)&&$a.ratio===ba)for(var $a,Ca,Ga,pa=-1,Ha,Ua=$a.length,jb=qa.value;++pa<Ua;){qa=$a[pa];Ca=qa.children;Ga=qa.value=0;for(Ha=Ca.length;Ga<Ha;++Ga)qa.value+=Ca[Ga].value;qa.dice?C(qa,Fa,na,Ra,jb?na+=(db-na)*qa.value/jb:db):kb(qa,Fa,na,jb?Fa+=(Ra-Fa)*qa.value/jb:Ra,db);jb-=qa.value}else qa._squarify=
$a=ua(ba,qa,Fa,na,Ra,db),$a.ratio=ba}ra.ratio=function(qa){return ca(1<(qa=+qa)?qa:1)};return ra}(Da);k.cluster=function(){function ba(na){var Ra,db=0;na.eachAfter(function(Ha){var Ua=Ha.children;if(Ua){var jb=Ua.reduce(w,0)/Ua.length;Ha.x=jb;Ha.y=1+Ua.reduce(H,0)}else Ha.x=Ra?db+=ca(Ha,Ra):0,Ha.y=0,Ra=Ha});var $a=N(na),Ca=x(na),Ga=$a.x-ca($a,Ca)/2,pa=Ca.x+ca(Ca,$a)/2;return na.eachAfter(Fa?function(Ha){Ha.x=(Ha.x-na.x)*ra;Ha.y=(na.y-Ha.y)*qa}:function(Ha){Ha.x=(Ha.x-Ga)/(pa-Ga)*ra;Ha.y=(1-(na.y?
Ha.y/na.y:1))*qa})}var ca=l,ra=1,qa=1,Fa=!1;ba.separation=function(na){return arguments.length?(ca=na,ba):ca};ba.size=function(na){return arguments.length?(Fa=!1,ra=+na[0],qa=+na[1],ba):Fa?null:[ra,qa]};ba.nodeSize=function(na){return arguments.length?(Fa=!0,ra=+na[0],qa=+na[1],ba):Fa?[ra,qa]:null};return ba};k.hierarchy=u;k.pack=function(){function ba(na){na.x=ra/2;na.y=qa/2;ca?na.eachBefore(ha(ca)).eachAfter(la(Fa,.5)).eachBefore(Z(1)):na.eachBefore(ha(fa)).eachAfter(la(T,1)).eachAfter(la(Fa,na.r/
Math.min(ra,qa))).eachBefore(Z(Math.min(ra,qa)/(2*na.r)));return na}var ca=null,ra=1,qa=1,Fa=T;ba.radius=function(na){return arguments.length?(ca=null==na?null:R(na),ba):ca};ba.size=function(na){return arguments.length?(ra=+na[0],qa=+na[1],ba):[ra,qa]};ba.padding=function(na){return arguments.length?(Fa="function"===typeof na?na:ja(+na),ba):Fa};return ba};k.packEnclose=e;k.packSiblings=function(ba){K(ba);return ba};k.partition=function(){function ba(Ra){var db=Ra.height+1;Ra.x0=Ra.y0=Fa;Ra.x1=ra;
Ra.y1=qa/db;Ra.eachBefore(ca(qa,db));na&&Ra.eachBefore(P);return Ra}function ca(Ra,db){return function($a){$a.children&&C($a,$a.x0,Ra*($a.depth+1)/db,$a.x1,Ra*($a.depth+2)/db);var Ca=$a.x0,Ga=$a.y0,pa=$a.x1-Fa,Ha=$a.y1-Fa;pa<Ca&&(Ca=pa=(Ca+pa)/2);Ha<Ga&&(Ga=Ha=(Ga+Ha)/2);$a.x0=Ca;$a.y0=Ga;$a.x1=pa;$a.y1=Ha}}var ra=1,qa=1,Fa=0,na=!1;ba.round=function(Ra){return arguments.length?(na=!!Ra,ba):na};ba.size=function(Ra){return arguments.length?(ra=+Ra[0],qa=+Ra[1],ba):[ra,qa]};ba.padding=function(Ra){return arguments.length?
(Fa=+Ra,ba):Fa};return ba};k.stratify=function(){function ba(qa){var Fa=Array.from(qa),na=Fa.length,Ra,db,$a=new Map;for(Ra=0;Ra<na;++Ra){var Ca=Fa[Ra];var Ga=Fa[Ra]=new a(Ca);if(null!=(db=ca(Ca,Ra,qa))&&(db+="")){var pa=Ga.id=db;$a.set(pa,$a.has(pa)?Ya:Ga)}null!=(db=ra(Ca,Ra,qa))&&(db+="")&&(Ga.parent=db)}for(Ra=0;Ra<na;++Ra)if(Ga=Fa[Ra],db=Ga.parent){qa=$a.get(db);if(!qa)throw Error("missing: "+db);if(qa===Ya)throw Error("ambiguous: "+db);qa.children?qa.children.push(Ga):qa.children=[Ga];Ga.parent=
qa}else{if(Ha)throw Error("multiple roots");var Ha=Ga}if(!Ha)throw Error("no root");Ha.parent=Ta;Ha.eachBefore(function(Ua){Ua.depth=Ua.parent.depth+1;--na}).eachBefore(f);Ha.parent=null;if(0<na)throw Error("cycle");return Ha}var ca=V,ra=ia;ba.id=function(qa){return arguments.length?(ca=R(qa),ba):ca};ba.parentId=function(qa){return arguments.length?(ra=R(qa),ba):ra};return ba};k.tree=function(){function ba($a){var Ca=bb($a);Ca.eachAfter(ca);Ca.parent.m=-Ca.z;Ca.eachBefore(ra);if(db)$a.eachBefore(qa);
else{var Ga=$a,pa=$a,Ha=$a;$a.eachBefore(function(Xb){Xb.x<Ga.x&&(Ga=Xb);Xb.x>pa.x&&(pa=Xb);Xb.depth>Ha.depth&&(Ha=Xb)});Ca=Ga===pa?1:Fa(Ga,pa)/2;var Ua=Ca-Ga.x,jb=na/(pa.x+Ca+Ua),Fb=Ra/(Ha.depth||1);$a.eachBefore(function(Xb){Xb.x=(Xb.x+Ua)*jb;Xb.y=Xb.depth*Fb})}return $a}function ca($a){var Ca=$a.children,Ga=$a.parent.children,pa=$a.i?Ga[$a.i-1]:null;if(Ca){for(var Ha=0,Ua=0,jb=$a.children,Fb=jb.length,Xb;0<=--Fb;)Xb=jb[Fb],Xb.z+=Ha,Xb.m+=Ha,Ha+=Xb.s+(Ua+=Xb.c);Ca=(Ca[0].z+Ca[Ca.length-1].z)/2;
pa?($a.z=pa.z+Fa($a._,pa._),$a.m=$a.z-Ca):$a.z=Ca}else pa&&($a.z=pa.z+Fa($a._,pa._));Ca=$a.parent;Ga=$a.parent.A||Ga[0];if(pa){Ua=Ha=$a;jb=Ha.parent.children[0];Fb=Ha.m;Xb=Ua.m;for(var nc=pa.m,md=jb.m,pc;pa=va(pa),Ha=ya(Ha),pa&&Ha;){jb=ya(jb);Ua=va(Ua);Ua.a=$a;pc=pa.z+nc-Ha.z-Fb+Fa(pa._,Ha._);if(0<pc){var Hc=pa.a.parent===$a.parent?pa.a:Ga,mb=$a,hc=pc,jc=hc/(mb.i-Hc.i);mb.c-=jc;mb.s+=hc;Hc.c+=jc;mb.z+=hc;mb.m+=hc;Fb+=pc;Xb+=pc}nc+=pa.m;Fb+=Ha.m;md+=jb.m;Xb+=Ua.m}pa&&!va(Ua)&&(Ua.t=pa,Ua.m+=nc-Xb);
Ha&&!ya(jb)&&(jb.t=Ha,jb.m+=Fb-md,Ga=$a)}Ca.A=Ga}function ra($a){$a._.x=$a.z+$a.parent.m;$a.m+=$a.parent.m}function qa($a){$a.x*=na;$a.y=$a.depth*Ra}var Fa=aa,na=1,Ra=1,db=null;ba.separation=function($a){return arguments.length?(Fa=$a,ba):Fa};ba.size=function($a){return arguments.length?(db=!1,na=+$a[0],Ra=+$a[1],ba):db?null:[na,Ra]};ba.nodeSize=function($a){return arguments.length?(db=!0,na=+$a[0],Ra=+$a[1],ba):db?[na,Ra]:null};return ba};k.treemap=function(){function ba(Ha){Ha.x0=Ha.y0=0;Ha.x1=
Fa;Ha.y1=na;Ha.eachBefore(ca);Ra=[0];qa&&Ha.eachBefore(P);return Ha}function ca(Ha){var Ua=Ra[Ha.depth],jb=Ha.x0+Ua,Fb=Ha.y0+Ua,Xb=Ha.x1-Ua,nc=Ha.y1-Ua;Xb<jb&&(jb=Xb=(jb+Xb)/2);nc<Fb&&(Fb=nc=(Fb+nc)/2);Ha.x0=jb;Ha.y0=Fb;Ha.x1=Xb;Ha.y1=nc;Ha.children&&(Ua=Ra[Ha.depth+1]=db(Ha)/2,jb+=pa(Ha)-Ua,Fb+=$a(Ha)-Ua,Xb-=Ca(Ha)-Ua,nc-=Ga(Ha)-Ua,Xb<jb&&(jb=Xb=(jb+Xb)/2),nc<Fb&&(Fb=nc=(Fb+nc)/2),ra(Ha,jb,Fb,Xb,nc))}var ra=ta,qa=!1,Fa=1,na=1,Ra=[0],db=T,$a=T,Ca=T,Ga=T,pa=T;ba.round=function(Ha){return arguments.length?
(qa=!!Ha,ba):qa};ba.size=function(Ha){return arguments.length?(Fa=+Ha[0],na=+Ha[1],ba):[Fa,na]};ba.tile=function(Ha){return arguments.length?(ra=R(Ha),ba):ra};ba.padding=function(Ha){return arguments.length?ba.paddingInner(Ha).paddingOuter(Ha):ba.paddingInner()};ba.paddingInner=function(Ha){return arguments.length?(db="function"===typeof Ha?Ha:ja(+Ha),ba):db};ba.paddingOuter=function(Ha){return arguments.length?ba.paddingTop(Ha).paddingRight(Ha).paddingBottom(Ha).paddingLeft(Ha):ba.paddingTop()};
ba.paddingTop=function(Ha){return arguments.length?($a="function"===typeof Ha?Ha:ja(+Ha),ba):$a};ba.paddingRight=function(Ha){return arguments.length?(Ca="function"===typeof Ha?Ha:ja(+Ha),ba):Ca};ba.paddingBottom=function(Ha){return arguments.length?(Ga="function"===typeof Ha?Ha:ja(+Ha),ba):Ga};ba.paddingLeft=function(Ha){return arguments.length?(pa="function"===typeof Ha?Ha:ja(+Ha),ba):pa};return ba};k.treemapBinary=function(ba,ca,ra,qa,Fa){function na(pa,Ha,Ua,jb,Fb,Xb,nc){if(pa>=Ha-1)pa=Ra[pa],
pa.x0=jb,pa.y0=Fb,pa.x1=Xb,pa.y1=nc;else{for(var md=Ga[pa],pc=Ua/2+md,Hc=pa+1,mb=Ha-1;Hc<mb;){var hc=Hc+mb>>>1;Ga[hc]<pc?Hc=hc+1:mb=hc}pc-Ga[Hc-1]<Ga[Hc]-pc&&pa+1<Hc&&--Hc;md=Ga[Hc]-md;pc=Ua-md;Xb-jb>nc-Fb?(Ua=Ua?(jb*pc+Xb*md)/Ua:Xb,na(pa,Hc,md,jb,Fb,Ua,nc),na(Hc,Ha,pc,Ua,Fb,Xb,nc)):(Ua=Ua?(Fb*pc+nc*md)/Ua:nc,na(pa,Hc,md,jb,Fb,Xb,Ua),na(Hc,Ha,pc,jb,Ua,Xb,nc))}}var Ra=ba.children,db,$a=Ra.length,Ca,Ga=Array($a+1);for(Ga[0]=Ca=db=0;db<$a;++db)Ga[db+1]=Ca+=Ra[db].value;na(0,$a,ba.value,ca,ra,qa,Fa)};
k.treemapDice=C;k.treemapResquarify=Da;k.treemapSlice=kb;k.treemapSliceDice=function(ba,ca,ra,qa,Fa){(ba.depth&1?kb:C)(ba,ca,ra,qa,Fa)};k.treemapSquarify=ta;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(F,z,G){const K={};F.each(R=>{const T=R.data;G(T)&&(K[z(T)]=R)});F.lookup=K;return F}function x(F){l.Transform.call(this,null,F)}function v(){function F(R,
T){if(T>=G.length)return R;const ja=R.length,fa=G[T++],ha={},la={};let Z=-1,P,C,V;for(;++Z<ja;)P=fa(C=R[Z])+"",(V=ha[P])?V.push(C):ha[P]=[C];for(P in ha)la[P]=F(ha[P],T);return la}function z(R,T){if(++T>G.length)return R;const ja=[];for(const fa in R)ja.push({key:fa,values:z(R[fa],T)});return ja}const G=[],K={entries:R=>z(F(R,0),0),key:R=>(G.push(R),K)};return K}function u(F){l.Transform.call(this,null,F)}function m(F,z,G){for(let K,R=0,T=z.length;R<T;++R)if(K=z[R],K in G)F[K](G[K])}function g(F){u.call(this,
F)}function d(F){u.call(this,F)}function f(F){l.Transform.call(this,null,F)}function a(F){u.call(this,F)}function e(F){l.Transform.call(this,[],F)}function n(F){u.call(this,F)}x.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const y=F=>F.values;w.inherits(x,l.Transform,{transform(F,z){z.source||w.error("Nest transform requires an upstream data source.");var G=F.generate,K=F.modified(),R=z.clone(),T=this.value;
if(!T||K||z.changed())T&&T.each(ja=>{ja.children&&l.isTuple(ja.data)&&R.rem.push(ja.data)}),this.value=T=H.hierarchy({values:w.array(F.keys).reduce((ja,fa)=>{ja.key(fa);return ja},v()).entries(R.source)},y),G&&T.each(ja=>{ja.children&&(ja=l.ingest(ja.data),R.add.push(ja),R.source.push(ja))}),N(T,l.tupleid,l.tupleid);R.source.root=T;return R}});const B=(F,z)=>F.parent===z.parent?1:2;w.inherits(u,l.Transform,{transform(F,z){z.source&&z.source.root||w.error(this.constructor.name+" transform requires a backing tree data source.");
const G=this.layout(F.method),K=this.fields,R=z.source.root,T=F.as||K;F.field?R.sum(F.field):R.count();F.sort&&R.sort(l.stableCompare(F.sort,ja=>ja.data));m(G,this.params,F);G.separation&&G.separation(!1!==F.separation?B:w.one);try{this.value=G(R)}catch(ja){w.error(ja)}R.each(ja=>{{const fa=ja.data,ha=K.length-1;for(let la=0;la<ha;++la)fa[T[la]]=ja[K[la]];fa[T[ha]]=ja.children?ja.children.length:0}});return z.reflow(F.modified()).modifies(T).modifies("leaf")}});var D=["x","y","r","depth","children"];
g.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(g,u,{layout:H.pack,params:["radius","size","padding"],fields:D});D="x0 y0 x1 y1 depth children".split(" ");d.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(d,u,{layout:H.partition,params:["size","round","padding"],fields:D});f.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};w.inherits(f,l.Transform,{transform(F,
z){z.source||w.error("Stratify transform requires an upstream data source.");let G=this.value;const K=F.modified(),R=z.fork(z.ALL).materialize(z.SOURCE);z=!G||K||z.changed(z.ADD_REM)||z.modified(F.key.fields)||z.modified(F.parentKey.fields);R.source=R.source.slice();z&&(G=R.source.length?N(H.stratify().id(F.key).parentId(F.parentKey)(R.source),F.key,w.truthy):N(H.stratify()([{}]),F.key,F.key));R.source.root=this.value=G;return R}});const O={tidy:H.tree,cluster:H.cluster};D=["x","y","depth","children"];
a.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(a,u,{layout(F){F=F||"tidy";if(w.hasOwnProperty(O,F))return O[F]();w.error("Unrecognized Tree layout method: "+
F)},params:["size","nodeSize"],fields:D});e.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};w.inherits(e,l.Transform,{transform(F,z){F=this.value;const G=z.source&&z.source.root,K=z.fork(z.NO_SOURCE),R={};G||w.error("TreeLinks transform requires a tree data source.");z.changed(z.ADD_REM)?(K.rem=F,z.visit(z.SOURCE,T=>R[l.tupleid(T)]=1),G.each(T=>{const ja=T.data;(T=T.parent&&T.parent.data)&&R[l.tupleid(ja)]&&R[l.tupleid(T)]&&K.add.push(l.ingest({source:T,target:ja}))}),
this.value=K.add):z.changed(z.MOD)&&(z.visit(z.MOD,T=>R[l.tupleid(T)]=1),F.forEach(T=>{(R[l.tupleid(T.source)]||R[l.tupleid(T.target)])&&K.mod.push(T)}));return K}});const M={binary:H.treemapBinary,dice:H.treemapDice,slice:H.treemapSlice,slicedice:H.treemapSliceDice,squarify:H.treemapSquarify,resquarify:H.treemapResquarify};D="x0 y0 x1 y1 depth children".split(" ");n.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",
type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",
type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(n,u,{layout(){const F=H.treemap();F.ratio=z=>{const G=F.tile();G.ratio&&F.tile(G.ratio(z))};F.method=z=>{w.hasOwnProperty(M,z)?F.tile(M[z]):w.error("Unrecognized Treemap layout method: "+z)};return F},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:D});k.nest=x;k.pack=
g;k.partition=d;k.stratify=f;k.tree=a;k.treelinks=e;k.treemap=n;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(31),A(26),A(36),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N){function x(Z,P){const C=Z.bitmap();(P||[]).forEach(V=>C.set(Z(V.boundary[0]),Z(V.boundary[3])));return[C,
void 0]}function v(Z,P,C,V){const ia=Z.width,aa=Z.height,ya=C||V,va=l.canvas(ia,aa).getContext("2d");P.forEach(Da=>u(va,Da,ya));P=new Uint32Array(va.getImageData(0,0,ia,aa).data.buffer);C=Z.bitmap();const Ia=ya&&Z.bitmap();let bb,kb,ua,Ta,Ya;for(kb=0;kb<aa;++kb)for(bb=0;bb<ia;++bb)if(Ya=P[kb*ia+bb]&4278190080)ua=Z(bb),Ta=Z(kb),V||C.set(ua,Ta),ya&&Ya^268435456&&Ia.set(ua,Ta);return[C,Ia]}function u(Z,P,C){if(P.length){var V=P[0].mark.marktype;"group"===V?P.forEach(ia=>{ia.items.forEach(aa=>u(Z,aa.items,
C))}):H.Marks[V].draw(Z,{items:C?P.map(m):P})}}function m(Z){Z=w.rederive(Z,{});Z.stroke&&(Z.strokeOpacity=1);Z.fill&&(Z.fillOpacity=.0625,Z.stroke="#000",Z.strokeOpacity=1,Z.strokeWidth=2);return Z}function g(Z,P){const C=new Uint32Array(~~((Z*P+32)/32));return{array:C,get:(V,ia)=>{V=ia*Z+V;return C[V>>>5]&1<<(V&31)},set:(V,ia)=>{V=ia*Z+V;C[V>>>5]|=1<<(V&31)},clear:(V,ia)=>{V=ia*Z+V;C[V>>>5]&=~(1<<(V&31))},getRange:(V,ia,aa,ya)=>{let va,Ia,bb;for(;ya>=ia;--ya){var kb=ya*Z+V;va=ya*Z+aa;Ia=kb>>>5;
bb=va>>>5;if(Ia===bb){if(C[Ia]&F[kb&31]&z[(va&31)+1])return!0}else{if(C[Ia]&F[kb&31]||C[bb]&z[(va&31)+1])return!0;for(kb=Ia+1;kb<bb;++kb)if(C[kb])return!0}}return!1},setRange:(V,ia,aa,ya)=>{let va,Ia,bb;for(;ia<=ya;++ia){var kb=ia*Z+V;va=ia*Z+aa;Ia=kb>>>5;bb=va>>>5;if(Ia===bb)C[Ia]|=F[kb&31]&z[(va&31)+1];else for(C[Ia]|=F[kb&31],C[bb]|=z[(va&31)+1],kb=Ia+1;kb<bb;++kb)C[kb]|=4294967295}},clearRange:(V,ia,aa,ya)=>{let va,Ia,bb;for(;ia<=ya;++ia){var kb=ia*Z+V;va=ia*Z+aa;Ia=kb>>>5;bb=va>>>5;if(Ia===bb)C[Ia]&=
z[kb&31]|F[(va&31)+1];else for(C[Ia]&=z[kb&31],C[bb]&=F[(va&31)+1],kb=Ia+1;kb<bb;++kb)C[kb]&=0}},outOfBounds:(V,ia,aa,ya)=>0>V||0>ia||ya>=P||aa>=Z}}function d(Z,P,C){const V=Math.max(1,Math.sqrt(Z*P/1E6)),ia=~~((Z+2*C+V)/V),aa=~~((P+2*C+V)/V),ya=va=>~~((va+C)/V);ya.invert=va=>va*V-C;ya.bitmap=()=>g(ia,aa);ya.ratio=V;ya.padding=C;ya.width=Z;ya.height=P;return ya}function f(Z,P,C,V,ia,aa){C/=2;return 0>Z-C||Z+C>ia||0>P-(C=V/2)||P+C>aa}function a(Z,P,C,V,ia,aa,ya,va){ia=ia*aa/(2*V);V=Z(P-ia);P=Z(P+ia);
ia=Z(C-(aa/=2));Z=Z(C+aa);return ya.outOfBounds(V,ia,P,Z)||ya.getRange(V,ia,P,Z)||va&&va.getRange(V,ia,P,Z)}function e(Z,P,C,V){const ia=Z.width,aa=Z.height,ya=P[0],va=P[1],Ia=V.length;return function(bb){const kb=bb.boundary,ua=bb.datum.fontSize;if(0>kb[2]||0>kb[5]||kb[0]>ia||kb[3]>aa)return!1;let Ta=0,Ya,Da;let ta,U;let W;let ba;let ca,ra;for(let Hc=0;Hc<Ia;++Hc){Ya=(C[Hc]&3)-1;Da=(C[Hc]>>>2&3)-1;var qa=0===Ya&&0===Da||0>V[Hc];var Fa=Ya&&Da?Math.SQRT1_2:1;ta=0>V[Hc]?-1:1;U=kb[1+Ya]+V[Hc]*Ya*Fa;
ba=kb[4+Da]+ta*ua*Da/2+V[Hc]*Da*Fa;Fa=ba-ua/2;W=ba+ua/2;var na=Z(U);ca=Z(Fa);ra=Z(W);if(!Ta){var Ra=na;var db=ca;var $a=ra;var Ca=ya,Ga=va,pa=U,Ha=U,Ua=Fa,jb=W,Fb=kb,Xb=qa;if(!Ca.outOfBounds(Ra,db,na,$a)&&(Xb&&Ga?!Ga.getRange(Ra,db,na,$a)&&Fb[0]<=pa&&Ha<=Fb[2]&&Fb[3]<=Ua&&jb<=Fb[5]:!Ca.getRange(Ra,db,na,$a)))Ta=H.textMetrics.width(bb.datum,bb.datum.text);else continue}db=U+ta*Ta*Ya/2;U=db-Ta/2;Ra=db+Ta/2;na=Z(U);$a=Z(Ra);Ca=na;Ga=$a;pa=ca;Ha=ra;Ua=ya;jb=va;Fb=U;Xb=Ra;var nc=Fa,md=W,pc=kb;if(!Ua.outOfBounds(Ca,
pa,Ga,Ha)&&(qa&&jb?!jb.getRange(Ca,pa,Ga,Ha)&&pc[0]<=Fb&&Xb<=pc[2]&&pc[3]<=nc&&md<=pc[5]:!Ua.getRange(Ca,pa,Ga,Ha)))return bb.x=Ya?0>Ya*ta?Ra:U:db,bb.y=Da?0>Da*ta?W:Fa:ba,bb.align=R[Ya*ta+1],bb.baseline=T[Da*ta+1],ya.setRange(na,ca,$a,ra),!0}return!1}}function n(Z,P,C,V,ia,aa,ya,va,Ia,bb,kb){if(!Z.length)return Z;var ua=Math.max(V.length,ia.length);V=y(V,ua);ia=B(ia,ua);ua=D(Z[0].datum);const Ta="group"===ua&&Z[0].datum.items[Ia].marktype,Ya="area"===Ta,Da=O(ua,Ta,va,Ia);P=d(P[0],P[1],bb);bb=Ya&&
"naive"===kb;va=Z.map(W=>({datum:W,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Da(W)}));if(!bb){C&&va.sort((W,ba)=>C(W.datum,ba.datum));var ta=!1;for(bb=0;bb<ia.length&&!ta;++bb)ta=5===ia[bb]||0>V[bb];ua&&(ya||Ya)&&(aa=[Z.map(W=>W.datum)].concat(aa));ta=aa.length?v(P,aa,ta,Ya):x(P,ya&&va)}const U=Ya?fa[kb](P,ta,ya,Ia):e(P,ta,ia,V);va.forEach(W=>W.opacity=+U(W));return va}function y(Z,P){const C=new Float64Array(P),V=Z.length;for(let ia=0;ia<V;++ia)C[ia]=Z[ia]||0;for(Z=V;Z<P;++Z)C[Z]=
C[V-1];return C}function B(Z,P){const C=new Int8Array(P),V=Z.length;for(let ia=0;ia<V;++ia)C[ia]|=ja[Z[ia]];for(Z=V;Z<P;++Z)C[Z]=C[V-1];return C}function D(Z){return Z&&Z.mark&&Z.mark.marktype}function O(Z,P,C,V){const ia=aa=>[aa.x,aa.x,aa.x,aa.y,aa.y,aa.y];return Z?"line"===Z||"area"===Z?aa=>ia(aa.datum):"line"===P?aa=>{aa=aa.datum.items[V].items;return ia(aa.length?aa["start"===C?0:aa.length-1]:{x:NaN,y:NaN})}:aa=>{aa=aa.datum.bounds;return[aa.x1,(aa.x1+aa.x2)/2,aa.x2,aa.y1,(aa.y1+aa.y2)/2,aa.y2]}:
ia}function M(Z){w.Transform.call(this,null,Z)}const F=new Uint32Array(33),z=new Uint32Array(33);z[0]=0;F[0]=~z[0];for(let Z=1;32>=Z;++Z)z[Z]=z[Z-1]<<1|1,F[Z]=~z[Z];const G=[-1,-1,1,1],K=[-1,1,-1,1],R=["right","center","left"],T=["bottom","middle","top"],ja={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},fa={naive:function(Z,P,C,V){const ia=Z.width,aa=Z.height;return function(ya){const va=ya.datum.datum.items[V].items,Ia=va.length,bb=ya.datum.fontSize,
kb=H.textMetrics.width(ya.datum,ya.datum.text);let ua=0;let Ta,Ya,Da,ta,U;for(let ba=0;ba<Ia;++ba){var W=va[ba].x;Ya=va[ba].y;Ta=void 0===va[ba].x2?W:va[ba].x2;Da=void 0===va[ba].y2?Ya:va[ba].y2;ta=(W+Ta)/2;U=(Ya+Da)/2;W=Math.abs(Ta-W+Da-Ya);W>=ua&&(ua=W,ya.x=ta,ya.y=U)}ta=kb/2;U=bb/2;W=ya.x-ta;Ta=ya.x+ta;Ya=ya.y-U;Da=ya.y+U;ya.align="center";0>W&&Ta<=ia?ya.align="left":0<=W&&ia<Ta&&(ya.align="right");ya.baseline="middle";0>Ya&&Da<=aa?ya.baseline="top":0<=Ya&&aa<Da&&(ya.baseline="bottom");return!0}},
"reduced-search":function(Z,P,C,V){function ia(bb,kb,ua,Ta,Ya){bb=Z.invert(bb);kb=Z.invert(kb);let Da=ua,ta=ya,U;if(!f(bb,kb,Ta,Ya,aa,ya)&&!a(Z,bb,kb,Ya,Ta,Da,va,Ia)&&!a(Z,bb,kb,Ya,Ta,Ya,va,null)){for(;1<=ta-Da;)U=(Da+ta)/2,a(Z,bb,kb,Ya,Ta,U,va,Ia)?ta=U:Da=U;if(Da>ua)return[bb,kb,Da,!0]}}const aa=Z.width,ya=Z.height,va=P[0],Ia=P[1];return function(bb){const kb=bb.datum.datum.items[V].items,ua=kb.length,Ta=bb.datum.fontSize,Ya=H.textMetrics.width(bb.datum,bb.datum.text);let Da=C?Ta:0,ta=!1,U=!1,W=
0;let ba;let ca;let ra,qa,Fa,na,Ra,db,$a,Ca;for(let Ua=0;Ua<ua;++Ua){var Ga=kb[Ua].x;var pa=kb[Ua].y;ba=void 0===kb[Ua].x2?Ga:kb[Ua].x2;ca=void 0===kb[Ua].y2?pa:kb[Ua].y2;if(Ga>ba){var Ha=Ga;Ga=ba;ba=Ha}pa>ca&&(Ha=pa,pa=ca,ca=Ha);qa=Z(Ga);na=Z(ba);Fa=~~((qa+na)/2);Ra=Z(pa);$a=Z(ca);db=~~((Ra+$a)/2);for(Ha=Fa;Ha>=qa;--Ha)for(ra=db;ra>=Ra;--ra)(Ca=ia(Ha,ra,Da,Ya,Ta))&&([bb.x,bb.y,Da,ta]=Ca);for(Ha=Fa;Ha<=na;++Ha)for(ra=db;ra<=$a;++ra)(Ca=ia(Ha,ra,Da,Ya,Ta))&&([bb.x,bb.y,Da,ta]=Ca);ta||C||(Ha=Math.abs(ba-
Ga+ca-pa),Ga=(Ga+ba)/2,pa=(pa+ca)/2,Ha>=W&&!f(Ga,pa,Ya,Ta,aa,ya)&&!a(Z,Ga,pa,Ta,Ya,Ta,va,null)&&(W=Ha,bb.x=Ga,bb.y=pa,U=!0))}return ta||U?(Ga=Ya/2,pa=Ta/2,va.setRange(Z(bb.x-Ga),Z(bb.y-pa),Z(bb.x+Ga),Z(bb.y+pa)),bb.align="center",bb.baseline="middle",!0):!1}},floodfill:function(Z,P,C,V){const ia=Z.width,aa=Z.height,ya=P[0],va=P[1],Ia=Z.bitmap();return function(bb){const kb=bb.datum.datum.items[V].items,ua=kb.length,Ta=bb.datum.fontSize,Ya=H.textMetrics.width(bb.datum,bb.datum.text),Da=[];let ta=C?
Ta:0,U=!1,W=!1,ba=0,ca,ra,qa,Fa,na,Ra;var db;for(let Ga=0;Ga<ua;++Ga){ca=kb[Ga].x;qa=kb[Ga].y;ra=void 0===kb[Ga].x2?ca:kb[Ga].x2;Fa=void 0===kb[Ga].y2?qa:kb[Ga].y2;for(Da.push([Z((ca+ra)/2),Z((qa+Fa)/2)]);Da.length;)if([$a,Ca]=Da.pop(),!(ya.get($a,Ca)||va.get($a,Ca)||Ia.get($a,Ca))){Ia.set($a,Ca);for(db=0;4>db;++db)na=$a+G[db],Ra=Ca+K[db],Ia.outOfBounds(na,Ra,na,Ra)||Da.push([na,Ra]);na=Z.invert($a);Ra=Z.invert(Ca);var $a=ta;var Ca=aa;if(!f(na,Ra,Ya,Ta,ia,aa)&&!a(Z,na,Ra,Ta,Ya,$a,ya,va)&&!a(Z,na,
Ra,Ta,Ya,Ta,ya,null)){for(;1<=Ca-$a;)db=($a+Ca)/2,a(Z,na,Ra,Ta,Ya,db,ya,va)?Ca=db:$a=db;$a>ta&&(bb.x=na,bb.y=Ra,ta=$a,U=!0)}}U||C||($a=Math.abs(ra-ca+Fa-qa),na=(ca+ra)/2,Ra=(qa+Fa)/2,$a>=ba&&!f(na,Ra,Ya,Ta,ia,aa)&&!a(Z,na,Ra,Ta,Ya,Ta,ya,null)&&(ba=$a,bb.x=na,bb.y=Ra,W=!0))}return U||W?(na=Ya/2,Ra=Ta/2,ya.setRange(Z(bb.x-na),Z(bb.y-Ra),Z(bb.x+na),Z(bb.y+Ra)),bb.align="center",bb.baseline="middle",!0):!1}}},ha=["x","y","opacity","align","baseline"],la="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
M.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:la},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:ha.length,default:ha}]};N.inherits(M,w.Transform,{transform(Z,P){function C(aa){aa=Z[aa];return N.isFunction(aa)&&P.modified(aa.fields)}const V=Z.modified();if(V||P.changed(P.ADD_REM)||C("sort")){Z.size&&2===Z.size.length||N.error("Size parameter should be specified as a [width, height] array.");var ia=Z.as||ha;n(P.materialize(P.SOURCE).source,Z.size,Z.sort,N.array(Z.offset||1),N.array(Z.anchor||la),Z.avoidMarks||[],!1===Z.avoidBaseMark?
!1:!0,Z.lineAnchor||"end",Z.markIndex||0,Z.padding||0,Z.method||"naive").forEach(aa=>{const ya=aa.datum;ya[ia[0]]=aa.x;ya[ia[1]]=aa.y;ya[ia[2]]=aa.opacity;ya[ia[3]]=aa.align;ya[ia[4]]=aa.baseline});return P.reflow(V).modifies(ia)}}});k.label=M;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(27),A(26),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(m,g){var d=[],f=function(O){return O(y)},a;if(null==g)d.push(m);else{var e={};var n=0;for(a=m.length;n<a;++n){var y=m[n];var B=g.map(f);var D=e[B];
D||(e[B]=D=[],D.dims=B,d.push(D));D.push(y)}}return d}function x(m){w.Transform.call(this,null,m)}function v(m){w.Transform.call(this,null,m)}x.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};H.inherits(x,w.Transform,{transform(m,g){const d=g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||
m.modified()){g=g.materialize(g.SOURCE).source;g=N(g,m.groupby);const f=(m.groupby||[]).map(H.accessorName),a=f.length,e=m.as||[H.accessorName(m.x),H.accessorName(m.y)],n=[];g.forEach(y=>{l.regressionLoess(y,m.x,m.y,m.bandwidth||.3).forEach(B=>{const D={};for(let O=0;O<a;++O)D[f[O]]=y.dims[O];D[e[0]]=B[0];D[e[1]]=B[1];n.push(w.ingest(D))})});this.value&&(d.rem=this.value);this.value=d.add=d.source=n}return d}});const u={linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,
quad:l.regressionQuad,poly:l.regressionPoly};v.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(u)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};H.inherits(v,w.Transform,{transform(m,g){const d=
g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||m.modified()){var f=g.materialize(g.SOURCE).source;f=N(f,m.groupby);const a=(m.groupby||[]).map(H.accessorName),e=m.method||"linear",n=m.order||3,y="poly"===e?n:"quad"===e?2:1,B=m.as||[H.accessorName(m.x),H.accessorName(m.y)],D=u[e],O=[];let M=m.extent;H.hasOwnProperty(u,e)||H.error("Invalid regression method: "+e);null!=M&&"log"===e&&0>=M[0]&&(g.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),M=null);f.forEach(F=>
{if(F.length<=y)g.dataflow.warn("Skipping regression with more parameters than data points.");else{var z=D(F,m.x,m.y,n);if(m.params)O.push(w.ingest({keys:F.dims,coef:z.coef,rSquared:z.rSquared}));else{var G=M||H.extent(F,m.x),K=R=>{const T={};for(let ja=0;ja<a.length;++ja)T[a[ja]]=F.dims[ja];T[B[0]]=R[0];T[B[1]]=R[1];O.push(w.ingest(T))};"linear"===e?G.forEach(R=>K([R,z.predict(R)])):l.sampleCurve(z.predict,G,25,200).forEach(K)}}});this.value&&(d.rem=this.value);this.value=d.add=d.source=O}return d}});
k.loess=x;k.regression=v;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[52]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(K,R){K/=Math.abs(K)+Math.abs(R);return(0<R?3-K:1+K)/4}function w(K,R,T,ja){K-=T;R-=ja;return K*K+R*R}function H(K,R,T,ja,fa,ha){ja=(ja-R)*(fa-K);K=(T-K)*(ha-R);return Math.abs(ja-K)>=3.3306690738754716E-16*Math.abs(ja+K)?ja-K:0}function N(K,R,T,ja,fa,ha){return 0>(H(fa,ha,K,R,
T,ja)||H(K,R,T,ja,fa,ha)||H(T,ja,fa,ha,K,R))}function x(K,R,T,ja){if(20>=ja-T)for(var fa=T+1;fa<=ja;fa++){for(var ha=K[fa],la=R[ha],Z=fa-1;Z>=T&&R[K[Z]]>la;)K[Z+1]=K[Z--];K[Z+1]=ha}else{fa=T+1;ha=ja;v(K,T+ja>>1,fa);R[K[T]]>R[K[ja]]&&v(K,T,ja);R[K[fa]]>R[K[ja]]&&v(K,fa,ja);R[K[T]]>R[K[fa]]&&v(K,T,fa);la=K[fa];for(Z=R[la];;){do fa++;while(R[K[fa]]<Z);do ha--;while(R[K[ha]]>Z);if(ha<fa)break;v(K,fa,ha)}K[T+1]=K[ha];K[ha]=la;ja-fa+1>=ha-T?(x(K,R,fa,ja),x(K,R,T,ha-1)):(x(K,R,T,ha-1),x(K,R,fa,ja))}}function v(K,
R,T){const ja=K[R];K[R]=K[T];K[T]=ja}function u(K){return K[0]}function m(K){return K[1]}function g(K){return K[0]}function d(K){return K[1]}function f(K){const {triangles:R,coords:T}=K;for(K=0;K<R.length;K+=3){const ja=2*R[K],fa=2*R[K+1],ha=2*R[K+2];if(1E-10<(T[ha]-T[ja])*(T[fa+1]-T[ja+1])-(T[fa]-T[ja])*(T[ha+1]-T[ja+1]))return!1}return!0}function a(K,R,T){return[K+Math.sin(K+R)*T,R+Math.cos(K-R)*T]}function*e(K,R,T,ja){let fa=0;for(const ha of K)yield R.call(ja,ha,fa,K),yield T.call(ja,ha,fa,K),
++fa}const n=Math.pow(2,-52),y=new Uint32Array(512);class B{static from(K,R=u,T=m){const ja=K.length,fa=new Float64Array(2*ja);for(let ha=0;ha<ja;ha++){const la=K[ha];fa[2*ha]=R(la);fa[2*ha+1]=T(la)}return new B(fa)}constructor(K){const R=K.length>>1;if(0<R&&"number"!==typeof K[0])throw Error("Expected coords to contain numbers.");this.coords=K;K=Math.max(2*R-5,0);this._triangles=new Uint32Array(3*K);this._halfedges=new Int32Array(3*K);this._hashSize=Math.ceil(Math.sqrt(R));this._hullPrev=new Uint32Array(R);
this._hullNext=new Uint32Array(R);this._hullTri=new Uint32Array(R);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(R);this._dists=new Float64Array(R);this.update()}update(){const {coords:K,_hullPrev:R,_hullNext:T,_hullTri:ja,_hullHash:fa}=this;var ha=K.length>>1,la=Infinity,Z=Infinity,P=-Infinity,C=-Infinity;for(var V=0;V<ha;V++){var ia=K[2*V];var aa=K[2*V+1];ia<la&&(la=ia);aa<Z&&(Z=aa);ia>P&&(P=ia);aa>C&&(C=aa);this._ids[V]=V}P=(la+P)/2;Z=(Z+C)/2;la=Infinity;for(C=
0;C<ha;C++)if(V=w(P,Z,K[2*C],K[2*C+1]),V<la){var ya=C;la=V}Z=K[2*ya];C=K[2*ya+1];la=Infinity;for(P=0;P<ha;P++)if(P!==ya&&(V=w(Z,C,K[2*P],K[2*P+1]),V<la&&0<V)){var va=P;la=V}la=K[2*va];P=K[2*va+1];aa=Infinity;for(V=0;V<ha;V++)if(V!==ya&&V!==va){ia=la-Z;var Ia=P-C;var bb=K[2*V]-Z;var kb=K[2*V+1]-C,ua=ia*ia+Ia*Ia,Ta=bb*bb+kb*kb,Ya=.5/(ia*kb-Ia*bb);Ia=(kb*ua-Ia*Ta)*Ya;ia=(ia*Ta-bb*ua)*Ya;ia=Ia*Ia+ia*ia;if(ia<aa){var Da=V;aa=ia}}V=K[2*Da];ia=K[2*Da+1];if(Infinity===aa){for(ya=0;ya<ha;ya++)this._dists[ya]=
K[2*ya]-K[0]||K[2*ya+1]-K[1];x(this._ids,this._dists,0,ha-1);ya=new Uint32Array(ha);va=0;for(let ta=0,U=-Infinity;ta<ha;ta++)Da=this._ids[ta],this._dists[Da]>U&&(ya[va++]=Da,U=this._dists[Da]);this.hull=ya.subarray(0,va);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{N(Z,C,la,P,V,ia)&&(aa=va,bb=la,ua=P,va=Da,la=V,P=ia,Da=aa,V=bb,ia=ua);bb=la-Z;aa=P-C;ua=V-Z;kb=ia-C;Ta=bb*bb+aa*aa;Ya=ua*ua+kb*kb;Ia=.5/(bb*kb-aa*ua);aa=Z+(kb*Ta-aa*Ya)*Ia;bb=C+(bb*Ya-ua*Ta)*Ia;this._cx=aa;this._cy=
bb;for(ua=0;ua<ha;ua++)this._dists[ua]=w(K[2*ua],K[2*ua+1],aa,bb);x(this._ids,this._dists,0,ha-1);this._hullStart=ya;ha=3;T[ya]=R[Da]=va;T[va]=R[ya]=Da;T[Da]=R[va]=ya;ja[ya]=0;ja[va]=1;ja[Da]=2;fa.fill(-1);fa[this._hashKey(Z,C)]=ya;fa[this._hashKey(la,P)]=va;fa[this._hashKey(V,ia)]=Da;this.trianglesLen=0;this._addTriangle(ya,va,Da,-1,-1,-1);for(let ta=0,U,W;ta<this._ids.length;ta++){Z=this._ids[ta];C=K[2*Z];la=K[2*Z+1];if(0<ta&&Math.abs(C-U)<=n&&Math.abs(la-W)<=n)continue;U=C;W=la;if(Z===ya||Z===
va||Z===Da)continue;P=0;for(let ca=0,ra=this._hashKey(C,la);ca<this._hashSize&&(P=fa[(ra+ca)%this._hashSize],-1===P||P===T[P]);ca++);V=P=R[P];let ba;for(;ba=T[V],!N(C,la,K[2*V],K[2*V+1],K[2*ba],K[2*ba+1]);)if(V=ba,V===P){V=-1;break}if(-1!==V){ia=this._addTriangle(V,Z,T[V],-1,-1,ja[V]);ja[Z]=this._legalize(ia+2);ja[V]=ia;ha++;for(aa=T[V];ba=T[aa],N(C,la,K[2*aa],K[2*aa+1],K[2*ba],K[2*ba+1]);)ia=this._addTriangle(aa,Z,ba,ja[Z],-1,ja[aa]),ja[Z]=this._legalize(ia+2),T[aa]=aa,ha--,aa=ba;if(V===P)for(;ba=
R[V],N(C,la,K[2*ba],K[2*ba+1],K[2*V],K[2*V+1]);)ia=this._addTriangle(ba,Z,V,-1,ja[V],ja[ba]),this._legalize(ia+2),ja[ba]=ia,T[V]=V,ha--,V=ba;this._hullStart=R[Z]=V;T[V]=R[aa]=Z;T[Z]=aa;fa[this._hashKey(C,la)]=Z;fa[this._hashKey(K[2*V],K[2*V+1])]=V}}this.hull=new Uint32Array(ha);for(let ta=0,U=this._hullStart;ta<ha;ta++)this.hull[ta]=U,U=T[U];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(K,R){return Math.floor(l(K-
this._cx,R-this._cy)*this._hashSize)%this._hashSize}_legalize(K){const {_triangles:R,_halfedges:T,coords:ja}=this;let fa=0;for(var ha;;){const ya=T[K];var la=K-K%3;ha=la+(K+2)%3;if(-1===ya){if(0===fa)break;K=y[--fa];continue}const va=ya-ya%3,Ia=va+(ya+2)%3;var Z=R[ha],P=R[K],C=R[la+(K+1)%3];la=R[Ia];{var V=ja[2*la],ia=ja[2*la+1];var aa=ja[2*Z]-V;const bb=ja[2*Z+1]-ia,kb=ja[2*P]-V;P=ja[2*P+1]-ia;V=ja[2*C]-V;ia=ja[2*C+1]-ia;C=kb*kb+P*P;const ua=V*V+ia*ia;aa=0>aa*(P*ua-C*ia)-bb*(kb*ua-C*V)+(aa*aa+bb*
bb)*(kb*ia-P*V)}if(aa){R[K]=la;R[ya]=Z;Z=T[Ia];if(-1===Z){la=this._hullStart;do{if(this._hullTri[la]===Ia){this._hullTri[la]=K;break}la=this._hullPrev[la]}while(la!==this._hullStart)}this._link(K,Z);this._link(ya,T[ha]);this._link(ha,Ia);ha=va+(ya+1)%3;fa<y.length&&(y[fa++]=ha)}else{if(0===fa)break;K=y[--fa]}}return ha}_link(K,R){this._halfedges[K]=R;-1!==R&&(this._halfedges[R]=K)}_addTriangle(K,R,T,ja,fa,ha){const la=this.trianglesLen;this._triangles[la]=K;this._triangles[la+1]=R;this._triangles[la+
2]=T;this._link(la,ja);this._link(la+1,fa);this._link(la+2,ha);this.trianglesLen+=3;return la}}class D{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(K,R){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(K,R){this._+=`L${this._x1=+K},${this._y1=+R}`}arc(K,R,T){K=+K;R=+R;T=+T;const ja=K+T,fa=R;if(0>T)throw Error("negative radius");if(null===this._x1)this._+=`M${ja},${fa}`;else if(1E-6<
Math.abs(this._x1-ja)||1E-6<Math.abs(this._y1-fa))this._+="L"+ja+","+fa;T&&(this._+=`A${T},${T},0,1,1,${K-T},${R}A${T},${T},0,1,1,${this._x1=ja},${this._y1=fa}`)}rect(K,R,T,ja){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}h${+T}v${+ja}h${-T}Z`}value(){return this._||null}}class O{constructor(){this._=[]}moveTo(K,R){this._.push([K,R])}closePath(){this._.push(this._[0].slice())}lineTo(K,R){this._.push([K,R])}value(){return this._.length?this._:null}}class M{constructor(K,[R,T,ja,fa]=[0,
0,960,500]){if(!((ja=+ja)>=(R=+R)&&(fa=+fa)>=(T=+T)))throw Error("invalid bounds");this.delaunay=K;this._circumcenters=new Float64Array(2*K.points.length);this.vectors=new Float64Array(2*K.points.length);this.xmax=ja;this.xmin=R;this.ymax=fa;this.ymin=T;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:K,hull:R,triangles:T},vectors:ja}=this;var fa=this.circumcenters=this._circumcenters.subarray(0,T.length/3*2);for(let aa=0,ya=0,va=T.length,Ia,bb;aa<
va;aa+=3,ya+=2){var ha=2*T[aa],la=2*T[aa+1],Z=2*T[aa+2],P=K[ha];ha=K[ha+1];var C=K[Z],V=K[Z+1];Z=K[la]-P;la=K[la+1]-ha;var ia=C-P;const kb=V-ha,ua=Z*Z+la*la,Ta=ia*ia+kb*kb,Ya=2*(Z*kb-la*ia);Ya?1E-8>Math.abs(Ya)?(Ia=(P+C)/2,bb=(ha+V)/2):(C=1/Ya,Ia=P+(kb*ua-la*Ta)*C,bb=ha+(Z*Ta-ia*ua)*C):(Ia=(P+C)/2-1E8*kb,bb=(ha+V)/2+1E8*ia);fa[ya]=Ia;fa[ya+1]=bb}fa=R[R.length-1];ha=4*fa;Z=K[2*fa];la=K[2*fa+1];ja.fill(0);for(ia=0;ia<R.length;++ia)fa=R[ia],P=ha,C=Z,V=la,ha=4*fa,Z=K[2*fa],la=K[2*fa+1],ja[P+2]=ja[ha]=
V-la,ja[P+3]=ja[ha+1]=Z-C}render(K){const R=null==K?K=new D:void 0,{delaunay:{halfedges:T,inedges:ja,hull:fa},circumcenters:ha,vectors:la}=this;if(1>=fa.length)return null;for(let ia=0,aa=T.length;ia<aa;++ia){var Z=T[ia];if(!(Z<ia)){var P=2*Math.floor(ia/3);Z=2*Math.floor(Z/3);this._renderSegment(ha[P],ha[P+1],ha[Z],ha[Z+1],K)}}P=fa[fa.length-1];for(Z=0;Z<fa.length;++Z){var C=P;P=fa[Z];var V=2*Math.floor(ja[P]/3);const ia=ha[V];V=ha[V+1];C*=4;(C=this._project(ia,V,la[C+2],la[C+3]))&&this._renderSegment(ia,
V,C[0],C[1],K)}return R&&R.value()}renderBounds(K){const R=null==K?K=new D:void 0;K.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return R&&R.value()}renderCell(K,R){const T=null==R?R=new D:void 0;K=this._clip(K);if(null!==K&&K.length){R.moveTo(K[0],K[1]);for(var ja=K.length;K[0]===K[ja-2]&&K[1]===K[ja-1]&&1<ja;)ja-=2;for(let fa=2;fa<ja;fa+=2)K[fa]===K[fa-2]&&K[fa+1]===K[fa-1]||R.lineTo(K[fa],K[fa+1]);R.closePath();return T&&T.value()}}*cellPolygons(){var {delaunay:{points:K}}=
this;for(let R=0,T=K.length/2;R<T;++R)if(K=this.cellPolygon(R))K.index=R,yield K}cellPolygon(K){const R=new O;this.renderCell(K,R);return R.value()}_renderSegment(K,R,T,ja,fa){const ha=this._regioncode(K,R),la=this._regioncode(T,ja);if(0===ha&&0===la)fa.moveTo(K,R),fa.lineTo(T,ja);else if(K=this._clipSegment(K,R,T,ja,ha,la))fa.moveTo(K[0],K[1]),fa.lineTo(K[2],K[3])}contains(K,R,T){return(R=+R,R!==R)||(T=+T,T!==T)?!1:this.delaunay._step(K,R,T)===K}*neighbors(K){const R=this._clip(K);if(R)for(const T of this.delaunay.neighbors(K))if(K=
this._clip(T))a:for(let ja=0,fa=R.length;ja<fa;ja+=2)for(let ha=0,la=K.length;ha<la;ha+=2)if(R[ja]==K[ha]&&R[ja+1]==K[ha+1]&&R[(ja+2)%fa]==K[(ha+la-2)%la]&&R[(ja+3)%fa]==K[(ha+la-1)%la]){yield T;break a}}_cell(K){const {circumcenters:R,delaunay:{inedges:T,halfedges:ja,triangles:fa}}=this,ha=T[K];if(-1===ha)return null;const la=[];let Z=ha;do{const P=Math.floor(Z/3);la.push(R[2*P],R[2*P+1]);Z=2===Z%3?Z-2:Z+1;if(fa[Z]!==K)break;Z=ja[Z]}while(Z!==ha&&-1!==Z);return la}_clip(K){if(0===K&&1===this.delaunay.hull.length)return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const R=this._cell(K);if(null===R)return null;const {vectors:T}=this,ja=4*K;return T[ja]||T[ja+1]?this._clipInfinite(K,R,T[ja],T[ja+1],T[ja+2],T[ja+3]):this._clipFinite(K,R)}_clipFinite(K,R){const T=R.length;let ja=null;let fa=R[T-2],ha=R[T-1];let la=this._regioncode(fa,ha),Z;for(let ia=0;ia<T;ia+=2){var P=fa;var C=ha;fa=R[ia];ha=R[ia+1];var V=la;la=this._regioncode(fa,ha);if(0===V&&0===la)Z=0,ja?ja.push(fa,ha):ja=[fa,ha];else{let aa,
ya;if(0===V){if(null===(P=this._clipSegment(P,C,fa,ha,V,la)))continue;[C,V,aa,ya]=P}else{if(null===(P=this._clipSegment(fa,ha,P,C,la,V)))continue;[aa,ya,C,V]=P;P=Z;Z=this._edgecode(C,V);P&&Z&&this._edge(K,P,Z,ja,ja.length);ja?ja.push(C,V):ja=[C,V]}P=Z;Z=this._edgecode(aa,ya);P&&Z&&this._edge(K,P,Z,ja,ja.length);ja?ja.push(aa,ya):ja=[aa,ya]}}if(ja)P=Z,Z=this._edgecode(ja[0],ja[1]),P&&Z&&this._edge(K,P,Z,ja,ja.length);else if(this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ja}_clipSegment(K,R,T,ja,fa,ha){for(;;){if(0===fa&&0===ha)return[K,R,T,ja];if(fa&ha)return null;var la=void 0;let Z;la=fa||ha;la&8?(la=K+(T-K)*(this.ymax-R)/(ja-R),Z=this.ymax):la&4?(la=K+(T-K)*(this.ymin-R)/(ja-R),Z=this.ymin):la&2?(Z=R+(ja-R)*(this.xmax-K)/(T-K),la=this.xmax):(Z=R+(ja-R)*(this.xmin-K)/(T-K),la=this.xmin);fa?(K=la,R=Z,fa=this._regioncode(K,R)):(T=la,ja=Z,ha=this._regioncode(T,ja))}}_clipInfinite(K,R,T,
ja,fa,ha){R=Array.from(R);let la;(la=this._project(R[0],R[1],T,ja))&&R.unshift(la[0],la[1]);(la=this._project(R[R.length-2],R[R.length-1],fa,ha))&&R.push(la[0],la[1]);if(R=this._clipFinite(K,R))for(let Z=0,P=R.length,C,V=this._edgecode(R[P-2],R[P-1]);Z<P;Z+=2)C=V,V=this._edgecode(R[Z],R[Z+1]),C&&V&&(Z=this._edge(K,C,V,R,Z),P=R.length);else this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(R=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return R}_edge(K,
R,T,ja,fa){for(;R!==T;){let ha,la;switch(R){case 5:R=4;continue;case 4:R=6;ha=this.xmax;la=this.ymin;break;case 6:R=2;continue;case 2:R=10;ha=this.xmax;la=this.ymax;break;case 10:R=8;continue;case 8:R=9;ha=this.xmin;la=this.ymax;break;case 9:R=1;continue;case 1:R=5,ha=this.xmin,la=this.ymin}ja[fa]===ha&&ja[fa+1]===la||!this.contains(K,ha,la)||(ja.splice(fa,0,ha,la),fa+=2)}if(4<ja.length)for(K=0;K<ja.length;K+=2)if(R=(K+2)%ja.length,T=(K+4)%ja.length,ja[K]===ja[R]&&ja[R]===ja[T]||ja[K+1]===ja[R+1]&&
ja[R+1]===ja[T+1])ja.splice(R,2),K-=2;return fa}_project(K,R,T,ja){let fa=Infinity,ha,la,Z;if(0>ja){if(R<=this.ymin)return null;(ha=(this.ymin-R)/ja)<fa&&(Z=this.ymin,la=K+(fa=ha)*T)}else if(0<ja){if(R>=this.ymax)return null;(ha=(this.ymax-R)/ja)<fa&&(Z=this.ymax,la=K+(fa=ha)*T)}if(0<T){if(K>=this.xmax)return null;(ha=(this.xmax-K)/T)<fa&&(la=this.xmax,Z=R+ha*ja)}else if(0>T){if(K<=this.xmin)return null;(ha=(this.xmin-K)/T)<fa&&(la=this.xmin,Z=R+ha*ja)}return[la,Z]}_edgecode(K,R){return(K===this.xmin?
1:K===this.xmax?2:0)|(R===this.ymin?4:R===this.ymax?8:0)}_regioncode(K,R){return(K<this.xmin?1:K>this.xmax?2:0)|(R<this.ymin?4:R>this.ymax?8:0)}}const F=2*Math.PI,z=Math.pow;class G{static from(K,R=g,T=d,ja){if("length"in K){{const fa=K.length,ha=new Float64Array(2*fa);for(let la=0;la<fa;++la){const Z=K[la];ha[2*la]=R.call(ja,Z,la,K);ha[2*la+1]=T.call(ja,Z,la,K)}K=ha}}else K=Float64Array.from(e(K,R,T,ja));return new G(K)}constructor(K){this._delaunator=new B(K);this.inedges=new Int32Array(K.length/
2);this._hullIndex=new Int32Array(K.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var K=this._delaunator;const R=this.points;if(K.hull&&2<K.hull.length&&f(K)){this.collinear=Int32Array.from({length:R.length/2},(la,Z)=>Z).sort((la,Z)=>R[2*la]-R[2*Z]||R[2*la+1]-R[2*Z+1]);K=this.collinear[0];var T=this.collinear[this.collinear.length-1];K=[R[2*K],R[2*K+1],R[2*T],R[2*T+1]];K=1E-8*Math.hypot(K[3]-K[1],K[2]-K[0]);for(let la=
0,Z=R.length/2;la<Z;++la)T=a(R[2*la],R[2*la+1],K),R[2*la]=T[0],R[2*la+1]=T[1];this._delaunator=new B(R)}else delete this.collinear;K=this.halfedges=this._delaunator.halfedges;T=this.hull=this._delaunator.hull;const ja=this.triangles=this._delaunator.triangles,fa=this.inedges.fill(-1),ha=this._hullIndex.fill(-1);for(let la=0,Z=K.length;la<Z;++la){const P=ja[2===la%3?la-2:la+1];if(-1===K[la]||-1===fa[P])fa[P]=la}for(let la=0,Z=T.length;la<Z;++la)ha[T[la]]=la;2>=T.length&&0<T.length&&(this.triangles=
(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=T[0],this.triangles[1]=T[1],this.triangles[2]=T[1],fa[T[0]]=1,2===T.length&&(fa[T[1]]=0))}voronoi(K){return new M(this,K)}*neighbors(K){const {inedges:R,hull:T,_hullIndex:ja,halfedges:fa,triangles:ha,collinear:la}=this;if(la){var Z=la.indexOf(K);0<Z&&(yield la[Z-1]);Z<la.length-1&&(yield la[Z+1])}else{var P=R[K];if(-1!==P){var C=P;do{yield(Z=ha[C]);C=2===C%3?C-2:C+1;if(ha[C]!==K)break;C=fa[C];if(-1===C){K=T[(ja[K]+
1)%T.length];K!==Z&&(yield K);break}}while(C!==P)}}}find(K,R,T=0){if((K=+K,K!==K)||(R=+R,R!==R))return-1;const ja=T;let fa;for(;0<=(fa=this._step(T,K,R))&&fa!==T&&fa!==ja;)T=fa;return fa}_step(K,R,T){const {inedges:ja,hull:fa,_hullIndex:ha,halfedges:la,triangles:Z,points:P}=this;if(-1===ja[K]||!P.length)return(K+1)%(P.length>>1);let C=K,V=z(R-P[2*K],2)+z(T-P[2*K+1],2);const ia=ja[K];let aa=ia;do{let ya=Z[aa];const va=z(R-P[2*ya],2)+z(T-P[2*ya+1],2);va<V&&(V=va,C=ya);aa=2===aa%3?aa-2:aa+1;if(Z[aa]!==
K)break;aa=la[aa];if(-1===aa){aa=fa[(ha[K]+1)%fa.length];if(aa!==ya&&z(R-P[2*aa],2)+z(T-P[2*aa+1],2)<V)return aa;break}}while(aa!==ia);return C}render(K){const R=null==K?K=new D:void 0,{points:T,halfedges:ja,triangles:fa}=this;for(let la=0,Z=ja.length;la<Z;++la){var ha=ja[la];if(ha<la)continue;const P=2*fa[la];ha=2*fa[ha];K.moveTo(T[P],T[P+1]);K.lineTo(T[ha],T[ha+1])}this.renderHull(K);return R&&R.value()}renderPoints(K,R=2){const T=null==K?K=new D:void 0,{points:ja}=this;for(let fa=0,ha=ja.length;fa<
ha;fa+=2){const la=ja[fa],Z=ja[fa+1];K.moveTo(la+R,Z);K.arc(la,Z,R,0,F)}return T&&T.value()}renderHull(K){const R=null==K?K=new D:void 0,{hull:T,points:ja}=this;var fa=2*T[0];const ha=T.length;K.moveTo(ja[fa],ja[fa+1]);for(fa=1;fa<ha;++fa){const la=2*T[fa];K.lineTo(ja[la],ja[la+1])}K.closePath();return R&&R.value()}hullPolygon(){const K=new O;this.renderHull(K);return K.value()}renderTriangle(K,R){const T=null==R?R=new D:void 0,{points:ja,triangles:fa}=this,ha=2*fa[K*=3],la=2*fa[K+1];K=2*fa[K+2];
R.moveTo(ja[ha],ja[ha+1]);R.lineTo(ja[la],ja[la+1]);R.lineTo(ja[K],ja[K+1]);R.closePath();return T&&T.value()}*trianglePolygons(){const {triangles:K}=this;for(let R=0,T=K.length/3;R<T;++R)yield this.trianglePolygon(R)}trianglePolygon(K){const R=new O;this.renderTriangle(K,R);return R.value()}}k.Delaunay=G;k.Voronoi=M;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(52)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(v){l.Transform.call(this,null,v)}N.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},
{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const x=[-1E5,-1E5,1E5,1E5];w.inherits(N,l.Transform,{transform(v,u){const m=v.as||"path",g=u.source;if(!g||!g.length)return u;var d=v.size;d=d?[0,0,d[0],d[1]]:(d=v.extent)?[d[0][0],d[0][1],d[1][0],d[1][1]]:x;d=this.value=H.Delaunay.from(g,v.x,v.y).voronoi(d);
for(let e=0,n=g.length;e<n;++e){var f=d.cellPolygon(e),a=g[e];if(f){{const y=f[0][0],B=f[0][1];let D=f.length-1;for(;f[D][0]===y&&f[D][1]===B;--D);f="M"+f.slice(0,D+1).join("L")+"Z"}}else f=null;a[m]=f}return u.reflow(v.modified()).modifies(m)}});k.voronoi=N;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[54]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(31),A(26),A(14),A(35),A(27)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x){function v(){function D(P){P.width=P.height=1;var C=Math.sqrt(P.getContext("2d").getImageData(0,
0,1,1).data.length>>2);P.width=2048/C;P.height=2048/C;P=P.getContext("2d");P.fillStyle=P.strokeStyle="red";P.textAlign="center";return{context:P,ratio:C}}function O(P,C,V){for(var ia=C.x,aa=C.y,ya=Math.sqrt(M[0]*M[0]+M[1]*M[1]),va=fa(M),Ia=.5>la()?1:-1,bb=-Ia,kb,ua;kb=va(bb+=Ia);){ua=~~kb[0];kb=~~kb[1];if(Math.min(Math.abs(ua),Math.abs(kb))>=ya)break;C.x=ia+ua;C.y=aa+kb;if(!(0>C.x+C.x0||0>C.y+C.y0||C.x+C.x1>M[0]||C.y+C.y1>M[1])){if(!(ua=!V)){a:{ua=M[0];ua>>=5;kb=C.sprite;var Ta=C.width>>5;var Ya=
C.x-(Ta<<4);for(var Da=Ya&127,ta=32-Da,U=C.y1-C.y0,W=(C.y+C.y0)*ua+(Ya>>5),ba=0;ba<U;ba++){for(var ca=Ya=0;ca<=Ta;ca++)if((Ya<<ta|(ca<Ta?(Ya=kb[ba*Ta+ca])>>>Da:0))&P[W+ca]){ua=!0;break a}W+=ua}ua=!1}ua=!ua}if(ua&&(!V||C.x+C.x1>V[0].x&&C.x+C.x0<V[1].x&&C.y+C.y1>V[0].y&&C.y+C.y0<V[1].y)){V=C.sprite;ia=C.width>>5;aa=M[0]>>5;bb=C.x-(ia<<4);ya=bb&127;va=32-ya;Ia=C.y1-C.y0;bb=(C.y+C.y0)*aa+(bb>>5);for(kb=0;kb<Ia;kb++){for(Ta=ua=0;Ta<=ia;Ta++)P[bb+Ta]=P[bb+Ta]|ua<<va|(Ta<ia?(ua=V[kb*ia+Ta])>>>ya:0);bb+=
aa}C.sprite=null;return!0}}}return!1}var M=[256,256],F,z,G,K,R,T,ja,fa=g,ha=[],la=Math.random,Z={layout:function(){for(var P=D(l.canvas()),C=d((M[0]>>5)*M[1]),V=null,ia=ha.length,aa=-1,ya=[],va=ha.map(bb=>({text:F(bb),font:z(bb),style:K(bb),weight:R(bb),rotate:T(bb),size:~~(G(bb)+1E-14),padding:ja(bb),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:bb})).sort((bb,kb)=>kb.size-bb.size);++aa<ia;){var Ia=va[aa];Ia.x=M[0]*(la()+.5)>>1;Ia.y=M[1]*(la()+.5)>>1;u(P,Ia,va,aa);Ia.hasText&&O(C,
Ia,V)&&(ya.push(Ia),V?m(V,Ia):V=[{x:Ia.x+Ia.x0,y:Ia.y+Ia.y0},{x:Ia.x+Ia.x1,y:Ia.y+Ia.y1}],Ia.x-=M[0]>>1,Ia.y-=M[1]>>1)}return ya},words:function(P){return arguments.length?(ha=P,Z):ha},size:function(P){return arguments.length?(M=[+P[0],+P[1]],Z):M},font:function(P){return arguments.length?(z=f(P),Z):z},fontStyle:function(P){return arguments.length?(K=f(P),Z):K},fontWeight:function(P){return arguments.length?(R=f(P),Z):R},rotate:function(P){return arguments.length?(T=f(P),Z):T},text:function(P){return arguments.length?
(F=f(P),Z):F},spiral:function(P){return arguments.length?(fa=n[P]||P,Z):fa},fontSize:function(P){return arguments.length?(G=f(P),Z):G},padding:function(P){return arguments.length?(ja=f(P),Z):ja},random:function(P){return arguments.length?(la=P,Z):la}};return Z}function u(D,O,M,F){if(!O.sprite){var z=D.context,G=D.ratio;z.clearRect(0,0,2048/G,2048/G);var K=D=0,R=0,T=M.length;for(--F;++F<T;){O=M[F];z.save();z.font=O.style+" "+O.weight+" "+~~((O.size+1)/G)+"px "+O.font;var ja=z.measureText(O.text+"m").width*
G;var fa=O.size<<1;if(O.rotate){var ha=Math.sin(O.rotate*e),la=Math.cos(O.rotate*e),Z=ja*la,P=ja*ha;la*=fa;ja=fa*ha;ja=Math.max(Math.abs(Z+ja),Math.abs(Z-ja))+31>>5<<5;fa=~~Math.max(Math.abs(P+la),Math.abs(P-la))}else ja=ja+31>>5<<5;fa>R&&(R=fa);2048<=D+ja&&(D=0,K+=R,R=0);if(2048<=K+fa)break;z.translate((D+(ja>>1))/G,(K+(fa>>1))/G);O.rotate&&z.rotate(O.rotate*e);z.fillText(O.text,0,0);O.padding&&(z.lineWidth=2*O.padding,z.strokeText(O.text,0,0));z.restore();O.width=ja;O.height=fa;O.xoff=D;O.yoff=
K;O.x1=ja>>1;O.y1=fa>>1;O.x0=-O.x1;O.y0=-O.y1;O.hasText=!0;D+=ja}T=z.getImageData(0,0,2048/G,2048/G).data;for(Z=[];0<=--F;)if(O=M[F],O.hasText){ja=O.width;z=ja>>5;fa=O.y1-O.y0;for(G=0;G<fa*z;G++)Z[G]=0;D=O.xoff;if(null==D)break;K=O.yoff;P=0;ha=-1;for(R=0;R<fa;R++){for(G=0;G<ja;G++)la=T[2048*(K+R)+(D+G)<<2]?1<<31-G%32:0,Z[z*R+(G>>5)]|=la,P|=la;P?ha=R:(O.y0++,fa--,R--,K++)}O.y1=O.y0+ha;O.sprite=Z.slice(0,(O.y1-O.y0)*z)}}}function m(D,O){var M=D[0];D=D[1];O.x+O.x0<M.x&&(M.x=O.x+O.x0);O.y+O.y0<M.y&&(M.y=
O.y+O.y0);O.x+O.x1>D.x&&(D.x=O.x+O.x1);O.y+O.y1>D.y&&(D.y=O.y+O.y1)}function g(D){var O=D[0]/D[1];return function(M){return[O*(M*=.1)*Math.cos(M),M*Math.sin(M)]}}function d(D){for(var O=[],M=-1;++M<D;)O[M]=0;return O}function f(D){return"function"===typeof D?D:function(){return D}}function a(D){w.Transform.call(this,v(),D)}var e=Math.PI/180,n={archimedean:g,rectangular:function(D){var O=4*D[0]/D[1],M=0,F=0;return function(z){var G=0>z?-1:1;switch(Math.sqrt(1+4*G*z)-G&3){case 0:M+=O;break;case 1:F+=
4;break;case 2:M-=O;break;default:F-=4}return[M,F]}}};const y="x y font fontSize fontStyle fontWeight angle".split(" "),B="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",
expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":y}]};H.inherits(a,w.Transform,{transform(D,O){function M(ja){ja=D[ja];return H.isFunction(ja)&&O.modified(ja.fields)}!D.size||D.size[0]&&D.size[1]||H.error("Wordcloud size dimensions must be non-zero.");
const F=D.modified();if(F||O.changed(O.ADD_REM)||B.some(M)){var z=O.materialize(O.SOURCE).source,G=this.value,K=D.as||y,R=D.fontSize||14,T;H.isFunction(R)?T=D.fontSizeRange:R=H.constant(R);if(T){const ja=R,fa=N.scale("sqrt")().domain(H.extent(z,ja)).range(T);R=ha=>fa(ja(ha))}z.forEach(ja=>{ja[K[0]]=NaN;ja[K[1]]=NaN;ja[K[3]]=0});z=G.words(z).text(D.text).size(D.size||[500,500]).padding(D.padding||1).spiral(D.spiral||"archimedean").rotate(D.rotate||0).font(D.font||"sans-serif").fontStyle(D.fontStyle||
"normal").fontWeight(D.fontWeight||"normal").fontSize(R).random(x.random).layout();R=G.size();G=R[0]>>1;R=R[1]>>1;T=z.length;for(let ja=0,fa,ha;ja<T;++ja)fa=z[ja],ha=fa.datum,ha[K[0]]=fa.x+G,ha[K[1]]=fa.y+R,ha[K[2]]=fa.font,ha[K[3]]=fa.size,ha[K[4]]=fa.style,ha[K[5]]=fa.weight,ha[K[6]]=fa.rotate;return O.reflow(F).modifies(K)}}});k.wordcloud=a;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[55]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(26),A(14)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.d3,k.vega,k.vega))})(this,function(k,l,w,H){function N(){let n=8,y=[],B=new Uint32Array(0),D=x(0,n),O=x(0,n);return{data:()=>y,seen:()=>{var M=B;var F=y.length;M.length>=F||(F=new M.constructor(F),
F.set(M),M=F);return B=M},add(M){for(let F=0,z=y.length,G=M.length,K;F<G;++F)K=M[F],K._index=z++,y.push(K)},remove(M,F){const z=y.length;M=Array(z-M);const G=y;let K,R,T;for(R=0;!F[R]&&R<z;++R)M[R]=y[R],G[R]=R;for(T=R;R<z;++R)K=y[R],F[R]?G[R]=-1:(G[R]=T,D[T]=D[R],O[T]=O[R],M[T]=K,K._index=T++),D[R]=0;y=M;return G},size:()=>y.length,curr:()=>D,prev:()=>O,reset:M=>O[M]=D[M],all:()=>257>n?255:65537>n?65535:4294967295,set(M,F){D[M]|=F},clear(M,F){D[M]&=~F},resize(M,F){if(M>D.length||F>n)n=Math.max(F,
n),D=x(M,n,D),O=x(M,n)}}}function x(n,y,B){n=(257>y?f:65537>y?a:e)(n);B&&n.set(B);return n}function v(n,y,B){const D=1<<y;return{one:D,zero:~D,range:B.slice(),bisect:n.bisect,index:n.index,size:n.size,onAdd(O,M){var F=this.bisect(this.range,O.value);O=O.index;const z=F[0];F=F[1];const G=O.length;let K;for(K=0;K<z;++K)M[O[K]]|=D;for(K=F;K<G;++K)M[O[K]]|=D;return this}}}function u(){let n=new Uint32Array(0),y=[],B=0;return{insert:function(D,O,M){if(!O.length)return[];const F=B,z=O.length,G=new Uint32Array(z);
let K=Array(z);var R;for(R=0;R<z;++R)K[R]=D(O[R]),G[R]=R;K=m(K,G);if(F){D=y;O=n;y=Array(F+z);n=new Uint32Array(F+z);{R=K;var T=y,ja=n;let fa=0,ha=0,la;for(la=0;fa<F&&ha<z;++la)D[fa]<R[ha]?(T[la]=D[fa],ja[la]=O[fa++]):(T[la]=R[ha],ja[la]=G[ha++]+M);for(;fa<F;++fa,++la)T[la]=D[fa],ja[la]=O[fa];for(;ha<z;++ha,++la)T[la]=R[ha],ja[la]=G[ha]+M}}else{if(0<M)for(R=0;R<z;++R)G[R]+=M;y=K;n=G}B=F+z;return{index:G,value:K}},remove:function(D,O){const M=B;let F,z,G;for(z=0;!O[n[z]]&&z<M;++z);for(G=z;z<M;++z)O[F=
n[z]]||(n[G]=F,y[G]=y[z],++G);B=M-D},bisect:function(D,O){let M;O?M=O.length:(O=y,M=B);return[l.bisectLeft(O,D[0],0,M),l.bisectRight(O,D[1],0,M)]},reindex:function(D){for(let O=0,M=B;O<M;++O)n[O]=D[n[O]]},index:()=>n,size:()=>B}}function m(n,y){n.sort.call(y,(B,D)=>{B=n[B];D=n[D];return B<D?-1:B>D?1:0});return l.permute(n,y)}function g(n){w.Transform.call(this,N(),n);this._dims=this._indices=null}function d(n){w.Transform.call(this,null,n)}const f=n=>new Uint8Array(n),a=n=>new Uint16Array(n),e=n=>
new Uint32Array(n);g.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};H.inherits(g,w.Transform,{transform(n,y){return this._dims?n.modified("fields")||n.fields.some(B=>y.modified(B.fields))?this.reinit(n,y):this.eval(n,y):this.init(n,y)},init(n,y){const B=n.fields,D=n.query,O=this._indices={},M=this._dims=[],F=D.length;let z=0;for(var G;z<F;++z)G=B[z].fname,
G=O[G]||(O[G]=u()),M.push(v(G,z,D[z]));return this.eval(n,y)},reinit(n,y){const B=y.materialize().fork(),D=n.fields,O=n.query,M=this._indices,F=this._dims,z=this.value,G=z.curr(),K=z.prev(),R=z.all(),T=B.rem=B.add,ja=B.mod,fa=O.length,ha={};let la;var Z;let P,C,V,ia;K.set(G);y.rem.length&&(P=this.remove(n,y,B));y.add.length&&z.add(y.add);if(y.mod.length){C={};var aa=y.mod;V=0;for(Z=aa.length;V<Z;++V)C[aa[V]._index]=1}for(V=0;V<fa;++V)if(ia=D[V],!F[V]||n.modified("fields",V)||y.modified(ia.fields))Z=
ia.fname,(aa=ha[Z])||(M[Z]=la=u(),ha[Z]=aa=la.insert(ia,y.source,0)),F[V]=v(la,V,O[V]).onAdd(aa,G);V=0;for(Z=z.data().length;V<Z;++V)P[V]||(K[V]!==G[V]?T.push(V):C[V]&&G[V]!==R&&ja.push(V));z.mask=(1<<fa)-1;return B},eval(n,y){const B=y.materialize().fork(),D=this._dims.length;let O=0;y.rem.length&&(this.remove(n,y,B),O|=(1<<D)-1);n.modified("query")&&!n.modified("fields")&&(O|=this.update(n,y,B));y.add.length&&(this.insert(n,y,B),O|=(1<<D)-1);y.mod.length&&(this.modify(y,B),O|=(1<<D)-1);this.value.mask=
O;return B},insert(n,y,B){y=y.add;var D=this.value;const O=this._dims,M=this._indices;n=n.fields;const F={};B=B.add;const z=D.size()+y.length,G=O.length;let K=D.size();D.resize(z,G);D.add(y);const R=D.curr(),T=D.prev(),ja=D.all();for(D=0;D<G;++D){var fa=n[D].fname;fa=F[fa]||(F[fa]=M[fa].insert(n[D],y,K));O[D].onAdd(fa,R)}for(;K<z;++K)T[K]=ja,R[K]!==ja&&B.push(K)},modify(n,y){y=y.mod;var B=this.value;const D=B.curr();B=B.all();n=n.mod;let O,M,F;O=0;for(M=n.length;O<M;++O)F=n[O]._index,D[F]!==B&&y.push(F)},
remove(n,y,B){n=this._indices;var D=this.value;const O=D.curr(),M=D.prev();D=D.all();const F={};B=B.rem;const z=y.rem;let G,K,R,T;G=0;for(K=z.length;G<K;++G)R=z[G]._index,F[R]=1,M[R]=T=O[R],O[R]=D,T!==D&&B.push(R);for(R in n)n[R].remove(K,F);this.reindex(y,K,F);return F},reindex(n,y,B){const D=this._indices,O=this.value;n.runAfter(()=>{const M=O.remove(y,B);for(const F in D)D[F].reindex(M)})},update(n,y,B){const D=this._dims,O=n.query;y=y.stamp;const M=D.length;let F=0,z,G;for(G=B.filters=0;G<M;++G)n.modified("query",
G)&&(z=G,++F);if(1===F)F=D[z].one,this.incrementOne(D[z],O[z],B.add,B.rem);else for(F=G=0;G<M;++G)n.modified("query",G)&&(F|=D[G].one,this.incrementAll(D[G],O[G],y,B.add),B.rem=B.add);return F},incrementAll(n,y,B,D){var O=this.value;const M=O.seen(),F=O.curr();O=O.prev();const z=n.index();var G=n.bisect(n.range),K=n.bisect(y);const R=K[0];K=K[1];const T=G[0];G=G[1];const ja=n.one;let fa,ha,la;if(R<T)for(fa=R,ha=Math.min(T,K);fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;
else if(R>T)for(fa=T,ha=Math.min(R,G);fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;if(K>G)for(fa=Math.max(R,G),ha=K;fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;else if(K<G)for(fa=Math.max(T,K),ha=G;fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;n.range=y.slice()},incrementOne(n,y,B,D){const O=this.value.curr(),M=n.index();var F=n.bisect(n.range),z=n.bisect(y);const G=z[0];z=z[1];const K=F[0];F=F[1];const R=n.one;
let T,ja,fa;if(G<K)for(T=G,ja=Math.min(K,z);T<ja;++T)fa=M[T],O[fa]^=R,B.push(fa);else if(G>K)for(T=K,ja=Math.min(G,F);T<ja;++T)fa=M[T],O[fa]^=R,D.push(fa);if(z>F)for(T=Math.max(G,F),ja=z;T<ja;++T)fa=M[T],O[fa]^=R,B.push(fa);else if(z<F)for(T=Math.max(K,z),ja=F;T<ja;++T)fa=M[T],O[fa]^=R,D.push(fa);n.range=y.slice()}});d.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",
required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};H.inherits(d,w.Transform,{transform(n,y){const B=~(n.ignore||0);n=n.filter;const D=n.mask;if(0===(D&B))return y.StopPropagation;y=y.fork(y.ALL);const O=n.data(),M=n.curr(),F=n.prev(),z=G=>M[G]&B?null:O[G];y.filter(y.MOD,z);D&D-1?(y.filter(y.ADD,G=>{const K=M[G]&B;return!K&&K^F[G]&B?O[G]:null}),y.filter(y.REM,G=>{const K=M[G]&B;return!K||K^K^F[G]&B?null:O[G]})):(y.filter(y.ADD,z),y.filter(y.REM,G=>(M[G]&B)===D?O[G]:
null));return y.filter(y.SOURCE,G=>z(G._index))}});k.crossfilter=g;k.resolvefilter=d;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[56]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega))})(this,function(k,l){function w(U){this.type=U}function H(U){switch(U.type){case "ArrayExpression":return U.elements;case "BinaryExpression":case "LogicalExpression":return[U.left,U.right];case "CallExpression":return[U.callee].concat(U.arguments);
case "ConditionalExpression":return[U.test,U.consequent,U.alternate];case "MemberExpression":return[U.object,U.property];case "ObjectExpression":return U.properties;case "Property":return[U.key,U.value];case "UnaryExpression":return[U.argument];default:return[]}}function N(U,W){if(!U)throw Error("ASSERT: "+W);}function x(U){return 48<=U&&57>=U}function v(U){return 0<="0123456789abcdefABCDEF".indexOf(U)}function u(U){return 0<="01234567".indexOf(U)}function m(U){return 10===U||13===U||8232===U||8233===
U}function g(U){return 36===U||95===U||65<=U&&90>=U||97<=U&&122>=U||92===U||128<=U&&ua.test(String.fromCharCode(U))}function d(U){return 36===U||95===U||65<=U&&90>=U||97<=U&&122>=U||48<=U&&57>=U||92===U||128<=U&&Ta.test(String.fromCharCode(U))}function f(){for(;Ia<bb;){const U=va.charCodeAt(Ia);if(32===U||9===U||11===U||12===U||160===U||5760<=U&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(U)||m(U))++Ia;else break}}function a(U){var W=0;var ba=
"u"===U?4:2;for(U=0;U<ba;++U)if(Ia<bb&&v(va[Ia])){var ca=va[Ia++];W=16*W+"0123456789abcdef".indexOf(ca.toLowerCase())}else T({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(W)}function e(){var U=va.charCodeAt(Ia++);var W=String.fromCharCode(U);92===U&&(117!==va.charCodeAt(Ia)&&T({},"Unexpected token %0","ILLEGAL"),++Ia,(U=a("u"))&&"\\"!==U&&g(U.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),W=U);for(;Ia<bb;){U=va.charCodeAt(Ia);if(!d(U))break;++Ia;W+=String.fromCharCode(U);92===
U&&(W=W.substr(0,W.length-1),117!==va.charCodeAt(Ia)&&T({},"Unexpected token %0","ILLEGAL"),++Ia,(U=a("u"))&&"\\"!==U&&d(U.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),W+=U)}return W}function n(){var U=Ia,W=va.charCodeAt(Ia),ba=va[Ia];switch(W){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ia,{type:7,value:String.fromCharCode(W),start:U,end:Ia};default:var ca=va.charCodeAt(Ia+1);if(61===ca)switch(W){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ia+=
2,{type:7,value:String.fromCharCode(W)+String.fromCharCode(ca),start:U,end:Ia};case 33:case 61:return Ia+=2,61===va.charCodeAt(Ia)&&++Ia,{type:7,value:va.slice(U,Ia),start:U,end:Ia}}}W=va.substr(Ia,4);if("\x3e\x3e\x3e\x3d"===W)return Ia+=4,{type:7,value:W,start:U,end:Ia};W=W.substr(0,3);if("\x3e\x3e\x3e"===W||"\x3c\x3c\x3d"===W||"\x3e\x3e\x3d"===W)return Ia+=3,{type:7,value:W,start:U,end:Ia};W=W.substr(0,2);if(ba===W[1]&&0<="+-\x3c\x3e\x26|".indexOf(ba)||"\x3d\x3e"===W)return Ia+=2,{type:7,value:W,
start:U,end:Ia};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(ba))return++Ia,{type:7,value:ba,start:U,end:Ia};T({},"Unexpected token %0","ILLEGAL")}function y(){var U=va[Ia];N(x(U.charCodeAt(0))||"."===U,"Numeric literal must start with a decimal digit or a decimal point");var W=Ia;var ba="";if("."!==U){ba=va[Ia++];U=va[Ia];if("0"===ba){if("x"===U||"X"===U){++Ia;for(ba="";Ia<bb&&v(va[Ia]);)ba+=va[Ia++];0===ba.length&&T({},"Unexpected token %0","ILLEGAL");g(va.charCodeAt(Ia))&&T({},"Unexpected token %0",
"ILLEGAL");return W={type:6,value:parseInt("0x"+ba,16),start:W,end:Ia}}if(u(U)){for(ba="0"+va[Ia++];Ia<bb&&u(va[Ia]);)ba+=va[Ia++];(g(va.charCodeAt(Ia))||x(va.charCodeAt(Ia)))&&T({},"Unexpected token %0","ILLEGAL");return W={type:6,value:parseInt(ba,8),octal:!0,start:W,end:Ia}}U&&x(U.charCodeAt(0))&&T({},"Unexpected token %0","ILLEGAL")}for(;x(va.charCodeAt(Ia));)ba+=va[Ia++];U=va[Ia]}if("."===U){for(ba+=va[Ia++];x(va.charCodeAt(Ia));)ba+=va[Ia++];U=va[Ia]}if("e"===U||"E"===U){ba+=va[Ia++];U=va[Ia];
if("+"===U||"-"===U)ba+=va[Ia++];if(x(va.charCodeAt(Ia)))for(;x(va.charCodeAt(Ia));)ba+=va[Ia++];else T({},"Unexpected token %0","ILLEGAL")}g(va.charCodeAt(Ia))&&T({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(ba),start:W,end:Ia}}function B(U,W){let ba=U;0<=W.indexOf("u")&&(ba=ba.replace(/\\u\{([0-9a-fA-F]+)\}/g,(ca,ra)=>{if(1114111>=parseInt(ra,16))return"x";T({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ba)}catch(ca){T({},
"Invalid regular expression")}try{return new RegExp(U,W)}catch(ca){return null}}function D(){f();if(Ia>=bb)return{type:2,start:Ia,end:Ia};var U=va.charCodeAt(Ia);if(g(U)){U=Ia;if(92===va.charCodeAt(Ia))var W=e();else a:{for(W=Ia++;Ia<bb;){var ba=va.charCodeAt(Ia);if(92===ba){Ia=W;W=e();break a}if(d(ba))++Ia;else break}W=va.slice(W,Ia)}return{type:1===W.length?3:Ya.hasOwnProperty(W)?4:"null"===W?5:"true"===W||"false"===W?1:3,value:W,start:U,end:Ia}}if(40===U||41===U||59===U)return n();if(39===U||34===
U){var ca="";ba=!1;U=va[Ia];N("'"===U||'"'===U,"String literal must starts with a quote");W=Ia;for(++Ia;Ia<bb;){var ra=va[Ia++];if(ra===U){U="";break}else if("\\"===ra)if((ra=va[Ia++])&&m(ra.charCodeAt(0)))"\r"===ra&&"\n"===va[Ia]&&++Ia;else switch(ra){case "u":case "x":if("{"===va[Ia]){++Ia;var qa=va[Ia];ra=0;for("}"===qa&&T({},"Unexpected token %0","ILLEGAL");Ia<bb;){qa=va[Ia++];if(!v(qa))break;ra=16*ra+"0123456789abcdef".indexOf(qa.toLowerCase())}(1114111<ra||"}"!==qa)&&T({},"Unexpected token %0",
"ILLEGAL");ra=65535>=ra?String.fromCharCode(ra):String.fromCharCode((ra-65536>>10)+55296,(ra-65536&1023)+56320);ca+=ra}else ca+=a(ra);break;case "n":ca+="\n";break;case "r":ca+="\r";break;case "t":ca+="\t";break;case "b":ca+="\b";break;case "f":ca+="\f";break;case "v":ca+="\x0B";break;default:u(ra)?(qa="01234567".indexOf(ra),0!==qa&&(ba=!0),Ia<bb&&u(va[Ia])&&(ba=!0,qa=8*qa+"01234567".indexOf(va[Ia++]),0<="0123".indexOf(ra)&&Ia<bb&&u(va[Ia])&&(qa=8*qa+"01234567".indexOf(va[Ia++]))),ca+=String.fromCharCode(qa)):
ca+=ra}else if(m(ra.charCodeAt(0)))break;else ca+=ra}""!==U&&T({},"Unexpected token %0","ILLEGAL");return{type:8,value:ca,octal:ba,start:W,end:Ia}}return 46===U?x(va.charCodeAt(Ia+1))?y():n():x(U)?y():n()}function O(){const U=kb;Ia=U.end;kb=D();Ia=U.end;return U}function M(){const U=Ia;kb=D();Ia=U}function F(U,W,ba){const ca=new w("||"===U||"\x26\x26"===U?"LogicalExpression":"BinaryExpression");ca.operator=U;ca.left=W;ca.right=ba;return ca}function z(U){const W=new w("Identifier");W.name=U;return W}
function G(U){const W=new w("Literal");W.value=U.value;W.raw=va.slice(U.start,U.end);U.regex&&("//"===W.raw&&(W.raw="/(?:)/"),W.regex=U.regex);return W}function K(U,W,ba){const ca=new w("MemberExpression");ca.computed="["===U;ca.object=W;ca.property=ba;ca.computed||(ba.member=!0);return ca}function R(U,W,ba){const ca=new w("Property");ca.key=W;ca.value=ba;ca.kind=U;return ca}function T(U,W){var ba=Array.prototype.slice.call(arguments,2),ca=W.replace(/%(\d)/g,(qa,Fa)=>{N(Fa<ba.length,"Message reference must be in range");
return ba[Fa]});var ra=Error(ca);ra.index=Ia;ra.description=ca;throw ra;}function ja(U){2===U.type&&T(U,"Unexpected end of input");6===U.type&&T(U,"Unexpected number");8===U.type&&T(U,"Unexpected string");3===U.type&&T(U,"Unexpected identifier");4===U.type&&T(U,"Unexpected reserved word");T(U,"Unexpected token %0",U.value)}function fa(U){const W=O();7===W.type&&W.value===U||ja(W)}function ha(U){return 7===kb.type&&kb.value===U}function la(){Ia=kb.start;const U=O();return 8===U.type||6===U.type?(U.octal&&
T(U,"Octal literals are not allowed in strict mode."),G(U)):z(U.value)}function Z(){if(ha("(")){fa("(");var U=aa();fa(")");return U}if(ha("[")){U=[];Ia=kb.start;for(fa("[");!ha("]");)ha(",")?(O(),U.push(null)):(U.push(ia()),ha("]")||fa(","));O();var W=new w("ArrayExpression");W.elements=U;return U=W}if(ha("{")){U=[];W={};var ba=String;Ia=kb.start;for(fa("{");!ha("}");){Ia=kb.start;var ca=kb;if(3===ca.type){var ra=la();fa(":");ca=ia();ca=R("init",ra,ca)}else 2===ca.type||7===ca.type?(ja(ca),ca=void 0):
(ra=la(),fa(":"),ca=ia(),ca=R("init",ra,ca));ra="Identifier"===ca.key.type?ca.key.name:ba(ca.key.value);ra="$"+ra;Object.prototype.hasOwnProperty.call(W,ra)?T({},"Duplicate data property in object literal not allowed in strict mode"):W[ra]=!0;U.push(ca);ha("}")||fa(",")}fa("}");W=new w("ObjectExpression");W.properties=U;return U=W}U=kb.type;Ia=kb.start;if(3===U||Da[kb.value])W=z(O().value);else if(8===U||6===U)kb.octal&&T(kb,"Octal literals are not allowed in strict mode."),W=G(O());else{if(4===U)throw Error("Disabled.");
if(1===U)U=O(),U.value="true"===U.value,W=G(U);else if(5===U)U=O(),U.value=null,W=G(U);else if(ha("/")||ha("/\x3d")){var qa;kb=null;f();U=Ia;W=va[Ia];N("/"===W,"Regular expression literal must start with a slash");ba=va[Ia++];for(ra=ca=!1;Ia<bb;)if(W=va[Ia++],ba+=W,"\\"===W)W=va[Ia++],m(W.charCodeAt(0))&&T({},"Invalid regular expression: missing /"),ba+=W;else if(m(W.charCodeAt(0)))T({},"Invalid regular expression: missing /");else if(ca)"]"===W&&(ca=!1);else if("/"===W){ra=!0;break}else"["===W&&
(ca=!0);ra||T({},"Invalid regular expression: missing /");W=ba.substr(1,ba.length-2);for(qa=ra="";Ia<bb;){ca=va[Ia];if(!d(ca.charCodeAt(0)))break;++Ia;"\\"===ca&&Ia<bb?T({},"Unexpected token %0","ILLEGAL"):(qa+=ca,ra+=ca)}0<=qa.search(/[^gimuy]/g)&&T({},"Invalid regular expression",qa);ca=qa;qa=B(W,ca);W=G({literal:ba+ra,value:qa,regex:{pattern:W,flags:ca},start:U,end:Ia});M()}else ja(O())}return W}function P(){var U;for(U=Z();;)if(ha(".")){fa(".");Ia=kb.start;var W=O();3===W.type||4===W.type||1===
W.type||5===W.type||ja(W);W=z(W.value);U=K(".",U,W)}else if(ha("(")){W=[];fa("(");if(!ha(")"))for(;Ia<bb;){W.push(ia());if(ha(")"))break;fa(",")}fa(")");{const ba=new w("CallExpression");ba.callee=U;ba.arguments=W;U=ba}}else if(ha("["))fa("["),W=aa(),fa("]"),U=K("[",U,W);else break;if(7===kb.type&&(ha("++")||ha("--")))throw Error("Disabled.");return U}function C(){if(7!==kb.type&&4!==kb.type)var U=P();else{if(ha("++")||ha("--"))throw Error("Disabled.");if(ha("+")||ha("-")||ha("~")||ha("!")){var W=
O();U=C();{W=W.value;const ba=new w("UnaryExpression");ba.operator=W;ba.argument=U;ba.prefix=!0;U=ba}}else{if(4===kb.type&&"delete"===kb.value||4===kb.type&&"void"===kb.value||4===kb.type&&"typeof"===kb.value)throw Error("Disabled.");U=P()}}return U}function V(U){let W=0;if(7!==U.type&&4!==U.type)return 0;switch(U.value){case "||":W=1;break;case "\x26\x26":W=2;break;case "|":W=3;break;case "^":W=4;break;case "\x26":W=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":W=6;break;
case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":W=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":W=8;break;case "+":case "-":W=9;break;case "*":case "/":case "%":W=11}return W}function ia(){var U=kb;var W=C();var ba=kb;var ca=V(ba);if(0===ca)var ra=W;else{ba.prec=ca;O();U=[U,kb];var qa=C();for(ra=[W,ba,qa];0<(ca=V(kb));){for(;2<ra.length&&ca<=ra[ra.length-2].prec;)qa=ra.pop(),ba=ra.pop().value,W=ra.pop(),U.pop(),W=F(ba,W,qa),ra.push(W);ba=O();ba.prec=
ca;ra.push(ba);U.push(kb);W=C();ra.push(W)}ca=ra.length-1;W=ra[ca];for(U.pop();1<ca;)U.pop(),W=F(ra[ca-1].value,ra[ca-2],W),ca-=2;ra=W}ha("?")&&(O(),U=ia(),fa(":"),ca=ia(),W=new w("ConditionalExpression"),W.test=ra,W.consequent=U,W.alternate=ca,ra=W);return ra}function aa(){const U=ia();if(ha(","))throw Error("Disabled.");return U}function ya(U){function W(ba,ca,ra){return qa=>{{let Fa=U(qa[0]);ca&&(Fa=ca+"("+Fa+")",0===ca.lastIndexOf("new ",0)&&(Fa="("+Fa+")"));qa=Fa+"."+ba+(0>ra?"":0===ra?"()":
"("+qa.slice(1).map(U).join(",")+")")}return qa}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(ba){3>ba.length&&l.error("Missing arguments to clamp function.");3<ba.length&&l.error("Too many arguments to clamp function.");
ba=ba.map(U);return"Math.max("+ba[1]+", Math.min("+ba[2]+","+ba[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:W("getDate","new Date",0),day:W("getDay","new Date",0),year:W("getFullYear","new Date",0),month:W("getMonth","new Date",0),hours:W("getHours","new Date",0),minutes:W("getMinutes","new Date",0),seconds:W("getSeconds","new Date",0),milliseconds:W("getMilliseconds","new Date",0),time:W("getTime","new Date",0),timezoneoffset:W("getTimezoneOffset","new Date",0),utcdate:W("getUTCDate",
"new Date",0),utcday:W("getUTCDay","new Date",0),utcyear:W("getUTCFullYear","new Date",0),utcmonth:W("getUTCMonth","new Date",0),utchours:W("getUTCHours","new Date",0),utcminutes:W("getUTCMinutes","new Date",0),utcseconds:W("getUTCSeconds","new Date",0),utcmilliseconds:W("getUTCMilliseconds","new Date",0),length:W("length",null,-1),join:W("join",null),indexof:W("indexOf",null),lastindexof:W("lastIndexOf",null),slice:W("slice",null),reverse:function(ba){return"("+U(ba[0])+").slice().reverse()"},parseFloat:"parseFloat",
parseInt:"parseInt",upper:W("toUpperCase","String",0),lower:W("toLowerCase","String",0),substring:W("substring","String"),split:W("split","String"),replace:W("replace","String"),trim:W("trim","String",0),regexp:"RegExp",test:W("test","RegExp"),if:function(ba){3>ba.length&&l.error("Missing arguments to if function.");3<ba.length&&l.error("Too many arguments to if function.");ba=ba.map(U);return"("+ba[0]+"?"+ba[1]+":"+ba[2]+")"}}}w.prototype.visit=function(U){let W,ba,ca;if(U(this))return 1;W=H(this);
ba=0;for(ca=W.length;ba<ca;++ba)if(W[ba].visit(U))return 1};var va,Ia,bb,kb,ua=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ta=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Ya={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Da={"if":1};var ta={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};k.ASTNode=w;k.ArrayExpression="ArrayExpression";k.BinaryExpression="BinaryExpression";k.CallExpression="CallExpression";k.ConditionalExpression="ConditionalExpression";k.Identifier="Identifier";k.Literal="Literal";k.LogicalExpression="LogicalExpression";k.MemberExpression="MemberExpression";k.ObjectExpression="ObjectExpression";
k.Property="Property";k.RawCode="RawCode";k.UnaryExpression="UnaryExpression";k.codegen=function(U){function W(Ha){if(l.isString(Ha))return Ha;const Ua=pa[Ha.type];null==Ua&&l.error("Unsupported type: "+Ha.type);return Ua(Ha)}function ba(Ha){Ha={code:W(Ha),globals:Object.keys($a),fields:Object.keys(Ca)};$a={};Ca={};return Ha}U=U||{};const ca=U.allowed?l.toSet(U.allowed):{},ra=U.forbidden?l.toSet(U.forbidden):{},qa=U.constants||ta,Fa=(U.functions||ya)(W),na=U.globalvar,Ra=U.fieldvar,db=l.isFunction(na)?
na:Ha=>`${na}["${Ha}"]`;let $a={},Ca={},Ga=0;const pa={Literal:Ha=>Ha.raw,Identifier:Ha=>{Ha=Ha.name;if(0<Ga)return Ha;if(l.hasOwnProperty(ra,Ha))return l.error("Illegal identifier: "+Ha);if(l.hasOwnProperty(qa,Ha))return qa[Ha];if(l.hasOwnProperty(ca,Ha))return Ha;$a[Ha]=1;return db(Ha)},MemberExpression:Ha=>{const Ua=!Ha.computed,jb=W(Ha.object);Ua&&(Ga+=1);Ha=W(Ha.property);if(jb===Ra){var Fb=Ca;var Xb=(Xb=Ha&&Ha.length-1)&&('"'===Ha[0]&&'"'===Ha[Xb]||"'"===Ha[0]&&"'"===Ha[Xb])?Ha.slice(1,-1):
Ha;Fb[Xb]=1}Ua&&--Ga;return jb+(Ua?"."+Ha:"["+Ha+"]")},CallExpression:Ha=>{"Identifier"!==Ha.callee.type&&l.error("Illegal callee type: "+Ha.callee.type);const Ua=Ha.callee.name;Ha=Ha.arguments;const jb=l.hasOwnProperty(Fa,Ua)&&Fa[Ua];jb||l.error("Unrecognized function: "+Ua);return l.isFunction(jb)?jb(Ha):jb+"("+Ha.map(W).join(",")+")"},ArrayExpression:Ha=>"["+Ha.elements.map(W).join(",")+"]",BinaryExpression:Ha=>"("+W(Ha.left)+Ha.operator+W(Ha.right)+")",UnaryExpression:Ha=>"("+Ha.operator+W(Ha.argument)+
")",ConditionalExpression:Ha=>"("+W(Ha.test)+"?"+W(Ha.consequent)+":"+W(Ha.alternate)+")",LogicalExpression:Ha=>"("+W(Ha.left)+Ha.operator+W(Ha.right)+")",ObjectExpression:Ha=>"{"+Ha.properties.map(W).join(",")+"}",Property:Ha=>{Ga+=1;const Ua=W(Ha.key);--Ga;return Ua+":"+W(Ha.value)}};ba.functions=Fa;ba.constants=qa;return ba};k.constants=ta;k.functions=ya;k.parse=function(U){va=U;Ia=0;bb=va.length;kb=null;M();U=aa();if(2!==kb.type)throw Error("Unexpect token after expression.");return U};Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[57]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(56)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega))})(this,function(k,l,w){function H(d){return(f,a)=>{f=d(f);return f<a?-1:f>a?1:f>=a?0:NaN}}function N(d,f){var a=f.fields;f=f.values;for(var e=a.length,n=0,y,B;n<e;++n)if(B=a[n],B.getter=l.field.getter||l.field(B.field),
y=B.getter(d),l.isDate(y)&&(y=l.toNumber(y)),l.isDate(f[n])&&(f[n]=l.toNumber(f[n])),l.isDate(f[n][0])&&(f[n]=f[n].map(l.toNumber)),"E"===B.type){if(l.isArray(f[n])?0>f[n].indexOf(y):y!==f[n])return!1}else if("R"===B.type){if(!l.inrange(y,f[n]))return!1}else if("R-RE"===B.type){if(!l.inrange(y,f[n],!0,!1))return!1}else if("R-E"===B.type){if(!l.inrange(y,f[n],!1,!1))return!1}else if("R-LE"===B.type&&!l.inrange(y,f[n],!1,!0))return!1;return!0}const x=l.field("_vgsid_"),v=function(d){function f(n,y,
B,D){null==B&&(B=0);null==D&&(D=n.length);for(;B<D;){const O=B+D>>>1;0>e(n[O],y)?B=O+1:D=O}return B}let a=d,e=d;1===d.length&&(a=(n,y)=>d(n)-y,e=H(d));return{left:f,center:function(n,y,B,D){null==B&&(B=0);null==D&&(D=n.length);D=f(n,y,B,D-1);return D>B&&a(n[D-1],y)>-a(n[D],y)?D-1:D},right:function(n,y,B,D){null==B&&(B=0);null==D&&(D=n.length);for(;B<D;){const O=B+D>>>1;0<e(n[O],y)?D=O:B=O+1}return B}}}(x),u=v.left,m=v.right;var g={E_union:function(d,f){if(!d.length)return f;for(var a=0,e=f.length;a<
e;++a)0>d.indexOf(f[a])&&d.push(f[a]);return d},E_intersect:function(d,f){return d.length?d.filter(a=>0<=f.indexOf(a)):f},R_union:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];d[0]>a&&(d[0]=a);d[1]<e&&(d[1]=e);return d},R_intersect:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];if(e<d[0]||d[1]<a)return[];d[0]<a&&(d[0]=a);d[1]>e&&(d[1]=e);return d}};k.selectionIdTest=function(d,f,a){var e=
this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;f=x(f);const n=u(d,f);if(n===d.length||x(d[n])!==f)return!1;if(e&&a){if(1===e.size)return!0;if(m(d,f)-n<e.size)return!1}return!0};k.selectionResolve=function(d,f,a,e){d=(d=this.context.data[d])?d.values.value:[];for(var n={},y={},B={},D,O,M,F,z,G,K=d.length,R=0,T,ja;R<K;++R){D=d[R];M=D.unit;O=D.fields;D=D.values;T=0;for(ja=O.length;T<ja;++T)F=O[T],z=n[F.field]||(n[F.field]={}),G=z[M]||(z[M]=
[]),B[F.field]=F=F.type.charAt(0),F=g[F+"_union"],z[M]=F(G,l.array(D[T]));a&&(G=y[M]||(y[M]=[]),G.push(l.array(D).reduce((fa,ha,la)=>(fa[O[la].field]=ha,fa),{})))}f=f||"union";Object.keys(n).forEach(fa=>{n[fa]=Object.keys(n[fa]).map(ha=>n[fa][ha]).reduce((ha,la)=>void 0===ha?la:g[B[fa]+"_"+f](ha,la))});d=Object.keys(y);a&&d.length&&(n[e?"vlPoint":"vlMulti"]="union"===f?{["or"]:d.reduce((fa,ha)=>(fa.push(...y[ha]),fa),[])}:{["and"]:d.map(fa=>({["or"]:y[fa]}))});return n};k.selectionTest=function(d,
f,a){var e=this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;for(var n=d.length,y=0,B,D,O,M;y<n;++y)if(B=d[y],e&&a){if(D=D||{},O=D[M=B.unit]||0,-1!==O){B=N(f,B);D[M]=B?-1:++O;if(B&&1===e.size)return!0;if(!B&&O===e.get(M).count)return!1}}else if(B=N(f,B),a^B)return B;return n&&a};k.selectionTuples=function(d,f){return d.map(a=>l.extend({values:f.fields.map(e=>(e.getter||(e.getter=l.field(e.field)))(a.datum))},f))};k.selectionVisitor=function(d,
f,a,e){f[0].type!==w.Literal&&l.error("First argument to selection functions must be a string literal.");d=f[0].value;f=2<=f.length&&l.peek(f).value;const n=":"+d;"intersect"!==f||l.hasOwnProperty(e,"@unit")||(e["@unit"]=a.getData(d).indataRef(a,"unit"));l.hasOwnProperty(e,n)||(e[n]=a.getData(d).tuplesRef())};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[58]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(56),A(39),A(32),A(26),A(35),A(36),A(57),A(27),A(18),A(15)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.d3,k.d3,k.vega,k.vega,k.vega,k.vega,k.vega,k.vega,
k.d3))})(this,function(k,l,w,H,N,x,v,u,m,g,d,f){function a(Eb){return(Eb=this.context.data[Eb])?Eb.values.value:[]}function e(Eb,zc,Vc){return(Vc=(Eb=this.context.data[Eb]["index:"+zc])?Eb.value.get(Vc):void 0)?Vc.count:Vc}function n(Eb,zc){const Vc=this.context.dataflow;Vc.pulse(this.context.data[Eb].input,Vc.changeset().remove(l.truthy).insert(zc));return 1}function y(Eb,zc,Vc){if(Eb){const Ed=this.context.dataflow;Ed.pulse(Eb.mark.source,Ed.changeset().encode(Eb,zc))}return void 0!==Vc?Vc:Eb}function B(Eb,
zc,Vc){if(!Number.isInteger(Eb)||!Number.isInteger(zc))return"";Uc.setYear(2E3);Uc.setMonth(Eb);Uc.setDate(zc);return rc.call(this,Uc,Vc)}function D(Eb){return B.call(this,Eb,1,"%B")}function O(Eb){return B.call(this,Eb,1,"%b")}function M(Eb){return B.call(this,0,2+Eb,"%A")}function F(Eb){return B.call(this,0,2+Eb,"%a")}function z(Eb,zc,Vc,Ed){zc[0].type!==w.Literal&&l.error("First argument to data functions must be a string literal.");Eb=zc[0].value;zc=":"+Eb;if(!l.hasOwnProperty(zc,Ed))try{Ed[zc]=
Vc.getData(Eb).tuplesRef()}catch(Vd){}}function G(Eb,zc,Vc,Ed){zc[0].type!==w.Literal&&l.error("First argument to indata must be a string literal.");zc[1].type!==w.Literal&&l.error("Second argument to indata must be a string literal.");Eb=zc[0].value;zc=zc[1].value;const Vd="@"+zc;l.hasOwnProperty(Vd,Ed)||(Ed[Vd]=Vc.getData(Eb).indataRef(Vc,zc))}function K(Eb,zc,Vc,Ed){if(zc[0].type===w.Literal)R(Vc,Ed,zc[0].value);else for(Eb in Vc.scales)R(Vc,Ed,Eb)}function R(Eb,zc,Vc){const Ed="%"+Vc;if(!l.hasOwnProperty(zc,
Ed))try{zc[Ed]=Eb.scaleRef(Vc)}catch(Vd){}}function T(Eb,zc){let Vc;return l.isFunction(Eb)?Eb:l.isString(Eb)?(Vc=zc.scales[Eb])&&Vc.value:void 0}function ja(Eb,zc,Vc){zc.__bandwidth=Vd=>Vd&&Vd.bandwidth?Vd.bandwidth():0;Vc._bandwidth=K;Vc._range=K;Vc._scale=K;const Ed=Vd=>"_["+(Vd.type===w.Literal?l.stringValue("%"+Vd.value):l.stringValue("%")+"+"+Eb(Vd))+"]";return{_bandwidth:Vd=>`this.__bandwidth(${Ed(Vd[0])})`,_range:Vd=>`${Ed(Vd[0])}.range()`,_scale:Vd=>`${Ed(Vd[0])}(${Eb(Vd[1])})`}}function fa(Eb,
zc){return function(Vc,Ed,Vd){return Vc?(Vc=T(Vc,(Vd||this).context))&&Vc.path[Eb](Ed):zc(Ed)}}function ha(Eb){const zc=this.context.group;let Vc=!1;if(zc)for(;Eb;){if(Eb===zc){Vc=!0;break}Eb=Eb.mark.group}return Vc}function la(Eb,zc,Vc){try{Eb[zc].apply(Eb,["EXPRESSION"].concat([].slice.call(Vc)))}catch(Ed){Eb.warn(Ed)}return Vc[Vc.length-1]}function Z(){return la(this.context.dataflow,"warn",arguments)}function P(){return la(this.context.dataflow,"info",arguments)}function C(){return la(this.context.dataflow,
"debug",arguments)}function V(Eb){Eb/=255;return.03928>=Eb?Eb/12.92:Math.pow((Eb+.055)/1.055,2.4)}function ia(Eb){var zc=N.rgb(Eb);Eb=V(zc.r);const Vc=V(zc.g);zc=V(zc.b);return.2126*Eb+.7152*Vc+.0722*zc}function aa(Eb,zc){Eb=ia(Eb);zc=ia(zc);return(Math.max(Eb,zc)+.05)/(Math.min(Eb,zc)+.05)}function ya(){const Eb=[].slice.call(arguments);Eb.unshift({});return l.extend(...Eb)}function va(Eb,zc){if(Eb===zc||Eb!==Eb&&zc!==zc)Eb=!0;else if(l.isArray(Eb))if(l.isArray(zc)&&Eb.length===zc.length)a:{for(let Vc=
0,Ed=Eb.length;Vc<Ed;++Vc)if(!va(Eb[Vc],zc[Vc])){Eb=!1;break a}Eb=!0}else Eb=!1;else Eb=l.isObject(Eb)&&l.isObject(zc)?Ia(Eb,zc):!1;return Eb}function Ia(Eb,zc){for(const Vc in Eb)if(!va(Eb[Vc],zc[Vc]))return!1;return!0}function bb(Eb){return zc=>Ia(Eb,zc)}function kb(Eb,zc,Vc,Ed,Vd,Ka){const eb=this.context.dataflow,wb=this.context.data[Eb],Hb=wb.input;Eb=eb.stamp();let ac=wb.changes,Lb;if(!1===eb._trigger||!(Hb.value.length||zc||Ed))return 0;if(!ac||ac.stamp<Eb)wb.changes=ac=eb.changeset(),ac.stamp=
Eb,eb.runAfter(()=>{wb.modified=!0;eb.pulse(Hb,ac).run()},!0,1);Vc&&(Vc=!0===Vc?l.truthy:l.isArray(Vc)||x.isTuple(Vc)?Vc:bb(Vc),ac.remove(Vc));zc&&ac.insert(zc);Ed&&(Vc=bb(Ed),Hb.value.some(Vc)?ac.remove(Vc):ac.insert(Ed));if(Vd)for(Lb in Ka)ac.modify(Vd,Lb,Ka[Lb]);return 1}function ua(Eb){var zc=Eb.touches;Eb=zc[0].clientX-zc[1].clientX;zc=zc[0].clientY-zc[1].clientY;return Math.sqrt(Eb*Eb+zc*zc)}function Ta(Eb){Eb=Eb.touches;return Math.atan2(Eb[0].clientY-Eb[1].clientY,Eb[0].clientX-Eb[1].clientX)}
function Ya(Eb,zc){zc=Fd[zc]||(Fd[zc]=l.field(zc));return l.isArray(Eb)?Eb.map(zc):zc(Eb)}function Da(Eb){return l.isArray(Eb)||ArrayBuffer.isView(Eb)?Eb:null}function ta(Eb){return Da(Eb)||(l.isString(Eb)?Eb:null)}function U(Eb,...zc){return Da(Eb).join(...zc)}function W(Eb,...zc){return ta(Eb).indexOf(...zc)}function ba(Eb,...zc){return ta(Eb).lastIndexOf(...zc)}function ca(Eb,...zc){return ta(Eb).slice(...zc)}function ra(Eb,zc,Vc){l.isFunction(Vc)&&l.error("Function argument passed to replace.");
return String(Eb).replace(zc,Vc)}function qa(Eb){return Da(Eb).slice().reverse()}function Fa(Eb,zc,Vc){return v.bandSpace(Eb||0,zc||0,Vc||0)}function na(Eb,zc){return(Eb=T(Eb,(zc||this).context))&&Eb.bandwidth?Eb.bandwidth():0}function Ra(Eb,zc){return(Eb=T(Eb,(zc||this).context))?Eb.copy():void 0}function db(Eb,zc){return(Eb=T(Eb,(zc||this).context))?Eb.domain():[]}function $a(Eb,zc,Vc){return(Eb=T(Eb,(Vc||this).context))?l.isArray(zc)?(Eb.invertRange||Eb.invert)(zc):(Eb.invert||Eb.invertExtent)(zc):
void 0}function Ca(Eb,zc){return(Eb=T(Eb,(zc||this).context))&&Eb.range?Eb.range():[]}function Ga(Eb,zc,Vc){return(Eb=T(Eb,(Vc||this).context))?Eb(zc):void 0}function pa(Eb,zc,Vc,Ed,Vd){Eb=T(Eb,(Vd||this).context);const Ka=u.Gradient(zc,Vc);zc=Eb.domain();Vc=zc[0];Vd=l.peek(zc);let eb=l.identity;Vd-Vc?eb=v.scaleFraction(Eb,Vc,Vd):Eb=(Eb.interpolator?v.scale("sequential")().interpolator(Eb.interpolator()):v.scale("linear")().interpolate(Eb.interpolate()).range(Eb.range())).domain([Vc=0,Vd=1]);Eb.ticks&&
(zc=Eb.ticks(+Ed||15),Vc!==zc[0]&&zc.unshift(Vc),Vd!==l.peek(zc)&&zc.push(Vd));zc.forEach(wb=>Ka.stop(eb(wb),Eb(wb)));return Ka}function Ha(Eb,zc,Vc){const Ed=T(Eb,(Vc||this).context);return function(Vd){return Ed?Ed.path.context(Vd)(zc):""}}function Ua(Eb){let zc=null;return function(Vc){return Vc?u.pathRender(Vc,zc=zc||u.pathParse(Eb)):Eb}}function jb(Eb,zc){Eb=a.call(zc,Eb);return Eb.root&&Eb.root.lookup||{}}function Fb(Eb,zc,Vc){Eb=jb(Eb,this);zc=Eb[zc];Vc=Eb[Vc];return zc&&Vc?zc.path(Vc).map(ge):
void 0}function Xb(Eb,zc){return(Eb=jb(Eb,this)[zc])?Eb.ancestors().map(ge):void 0}function nc(){const Eb="undefined"!==typeof window&&window||null;return Eb?Eb.screen:{}}function md(){const Eb="undefined"!==typeof window&&window||null;return Eb?[Eb.innerWidth,Eb.innerHeight]:[void 0,void 0]}function pc(){var Eb=this.context.dataflow;return(Eb=Eb.container&&Eb.container())?[Eb.clientWidth,Eb.clientHeight]:[void 0,void 0]}function Hc(Eb){let zc=null;if(Eb){const Vc=l.array(Eb.marktype),Ed=l.array(Eb.markname);
zc=Vd=>(!Vc.length||Vc.some(Ka=>Vd.marktype===Ka))&&(!Ed.length||Ed.some(Ka=>Vd.name===Ka))}return zc}function mb(Eb,zc,Vc){if(1===arguments.length)return wd[Eb];wd[Eb]=zc;Vc&&(Wd[Eb]=Vc);gc&&(gc.functions[Eb]="this."+Eb);return this}var hc=Eb=>function(zc,Vc){return this.context.dataflow.locale()[Eb](Vc)(zc)};const jc=hc("format"),rc=hc("timeFormat"),Pc=hc("utcFormat"),sc=hc("timeParse");hc=hc("utcParse");const Uc=new Date(2E3,0,1),Sc=fa("area",H.geoArea),Lc=fa("bounds",H.geoBounds);H=fa("centroid",
H.geoCentroid);const Fd={},ge=Eb=>Eb.data,wd={random(){return g.random()},cumulativeNormal:g.cumulativeNormal,cumulativeLogNormal:g.cumulativeLogNormal,cumulativeUniform:g.cumulativeUniform,densityNormal:g.densityNormal,densityLogNormal:g.densityLogNormal,densityUniform:g.densityUniform,quantileNormal:g.quantileNormal,quantileLogNormal:g.quantileLogNormal,quantileUniform:g.quantileUniform,sampleNormal:g.sampleNormal,sampleLogNormal:g.sampleLogNormal,sampleUniform:g.sampleUniform,isArray:l.isArray,
isBoolean:l.isBoolean,isDate:l.isDate,isDefined(Eb){return void 0!==Eb},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:x.isTuple,isValid(Eb){return null!=Eb&&Eb===Eb},toBoolean:l.toBoolean,toDate:l.toDate,toNumber:l.toNumber,toString:l.toString,indexof:W,join:U,lastindexof:ba,replace:ra,reverse:qa,slice:ca,flush:l.flush,lerp:l.lerp,merge:ya,pad:l.pad,peek:l.peek,pluck:Ya,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:N.rgb,lab:N.lab,hcl:N.hcl,hsl:N.hsl,
luminance:ia,contrast:aa,sequence:f.range,format:jc,utcFormat:Pc,utcParse:hc,utcOffset:d.utcOffset,utcSequence:d.utcSequence,timeFormat:rc,timeParse:sc,timeOffset:d.timeOffset,timeSequence:d.timeSequence,timeUnitSpecifier:d.timeUnitSpecifier,monthFormat:D,monthAbbrevFormat:O,dayFormat:M,dayAbbrevFormat:F,quarter:l.quarter,utcquarter:l.utcquarter,week:d.week,utcweek:d.utcweek,dayofyear:d.dayofyear,utcdayofyear:d.utcdayofyear,warn:Z,info:P,debug:C,extent:l.extent,inScope:ha,intersect:function(Eb,zc,
Vc){if(!Eb)return[];const [Ed,Vd]=Eb;Eb=(new u.Bounds).set(Ed[0],Ed[1],Vd[0],Vd[1]);Vc=Vc||this.context.dataflow.scenegraph().root;return u.intersect(Vc,Eb,Hc(zc))},clampRange:l.clampRange,pinchDistance:ua,pinchAngle:Ta,screen:nc,containerSize:pc,windowSize:md,bandspace:Fa,setdata:n,pathShape:Ua,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:y,modify:kb},vd="view item group xy x y".split(" "),
Wd={},Pb={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Eb=>`_[${l.stringValue("$"+Eb)}]`,functions:function(Eb){const zc=w.functions(Eb);vd.forEach(Vc=>zc[Vc]="event.vega."+Vc);for(const Vc in wd)zc[Vc]="this."+Vc;l.extend(zc,ja(Eb,wd,Wd));return zc},constants:w.constants,visitors:Wd},gc=w.codegen(Pb);mb("bandwidth",na,K);mb("copy",Ra,K);mb("domain",db,K);mb("range",Ca,K);mb("invert",$a,K);mb("scale",Ga,K);mb("gradient",pa,K);mb("geoArea",Sc,K);mb("geoBounds",Lc,K);
mb("geoCentroid",H,K);mb("geoShape",Ha,K);mb("indata",e,G);mb("data",a,z);mb("treePath",Fb,z);mb("treeAncestors",Xb,z);mb("vlSelectionTest",m.selectionTest,m.selectionVisitor);mb("vlSelectionIdTest",m.selectionIdTest,m.selectionVisitor);mb("vlSelectionResolve",m.selectionResolve,m.selectionVisitor);mb("vlSelectionTuples",m.selectionTuples);k.DataPrefix=":";k.IndexPrefix="@";k.ScalePrefix="%";k.SignalPrefix="$";k.bandspace=Fa;k.bandwidth=na;k.codeGenerator=gc;k.codegenParams=Pb;k.containerSize=pc;
k.contrast=aa;k.copy=Ra;k.data=a;k.dataVisitor=z;k.dayAbbrevFormat=F;k.dayFormat=M;k.debug=C;k.domain=db;k.encode=y;k.expressionFunction=mb;k.format=jc;k.functionContext=wd;k.geoArea=Sc;k.geoBounds=Lc;k.geoCentroid=H;k.geoShape=Ha;k.inScope=ha;k.indata=e;k.indataVisitor=G;k.indexof=W;k.info=P;k.invert=$a;k.join=U;k.lastindexof=ba;k.luminance=ia;k.merge=ya;k.modify=kb;k.monthAbbrevFormat=O;k.monthFormat=D;k.parseExpression=function(Eb,zc){const Vc={};let Ed;try{Eb=l.isString(Eb)?Eb:l.stringValue(Eb)+
"",Ed=w.parse(Eb)}catch(Vd){l.error("Expression parse error: "+Eb)}Ed.visit(Vd=>{if(Vd.type===w.CallExpression){var Ka=Vd.callee.name,eb=Pb.visitors[Ka];eb&&eb(Ka,Vd.arguments,zc,Vc)}});Eb=gc(Ed);Eb.globals.forEach(Vd=>{const Ka="$"+Vd;!l.hasOwnProperty(Vc,Ka)&&zc.getSignal(Vd)&&(Vc[Ka]=zc.signalRef(Vd))});return{$expr:l.extend({code:Eb.code},zc.options.ast?{ast:Ed}:null),$fields:Eb.fields,$params:Vc}};k.pathShape=Ua;k.pinchAngle=Ta;k.pinchDistance=ua;k.pluck=Ya;k.range=Ca;k.replace=ra;k.reverse=
qa;k.scale=Ga;k.scaleGradient=pa;k.scaleVisitor=K;k.screen=nc;k.setdata=n;k.slice=ca;k.timeFormat=rc;k.timeParse=sc;k.treeAncestors=Xb;k.treePath=Fb;k.utcFormat=Pc;k.utcParse=hc;k.warn=Z;k.windowSize=md;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[59]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega))})(this,function(k,l,w){function H(a,e,n){";"!==n[n.length-1]&&(n="return("+n+");");e=Function(...e.concat(n));return a&&a.functions?e.bind(a.functions):e}function N(a,e,n){if(!a||!l.isObject(a))return a;for(let y=0,
B=d.length,D;y<B;++y)if(D=d[y],l.hasOwnProperty(a,D.key))return D.parse(a,e,n);return a}function x(a,e,n,y){this.dataflow=a;this.transforms=e;this.events=a.events.bind(a);this.expr=y||g;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};n&&(this.functions=Object.create(n),this.functions.context=this)}function v(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const u=l.toSet(["rule"]),m=l.toSet(["group","image","rect"]);var g={operator:(a,e)=>H(a,["_"],e.code),parameter:(a,e)=>H(a,["datum","_"],e.code),event:(a,e)=>H(a,["event"],e.code),handler:(a,e)=>H(a,["_","event"],`var datum=event.item&&event.item.datum;return ${e.code};`),encode:(a,e)=>{const {marktype:n,channels:y}=e;e="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var B in y){const D="o["+l.stringValue(B)+"]";e+=`$=${y[B].code};if(${D}!==$)${D}=$,m=1;`}B="";u[n]||(y.x2&&(y.x?(m[n]&&(B+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),B+="o.width\x3do.x2-o.x;"):B+="o.x\x3do.x2-(o.width||0);"),y.xc&&(B+="o.x\x3do.xc-(o.width||0)/2;"),y.y2&&(y.y?(m[n]&&(B+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),B+="o.height\x3do.y2-o.y;"):B+="o.y\x3do.y2-(o.height||0);"),y.yc&&(B+="o.y\x3do.yc-(o.height||0)/2;"));e+=B;return H(a,["item","_"],e+"return m;")},codegen:{get(a){a=
`[${a.map(l.stringValue).join("][")}]`;const e=Function("_",`return _${a};`);e.path=a;return e},comparator(a,e){let n;a=Function("a","b","var u, v; return "+a.map((y,B)=>{const D=e[B];let O;y.path?(O=`a${y.path}`,y=`b${y.path}`):((n=n||{})["f"+B]=y,O=`this.f${B}(a)`,y=`this.f${B}(b)`);B=-D;return`((u = ${O}) < (v = ${y}) || u == null) && v != null ? ${B}
  : (u > v || v == null) && u != null ? ${D}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${B}
  : v !== v && u === u ? ${D} : `}).join("")+"0;");return n?a.bind(n):a}}},d=[{key:"$ref",parse:function(a,e){return e.get(a.$ref)||l.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,e){const n="k:"+a.$key+"_"+!!a.$flat;return e.fn[n]||(e.fn[n]=l.key(a.$key,a.$flat,e.expr.codegen))}},{key:"$expr",parse:function(a,e,n){a.$params&&e.parseParameters(a.$params,n);n="e:"+a.$expr.code+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.accessor(e.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,e){if(!a.$field)return null;const n="f:"+a.$field+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.field(a.$field,a.$name,e.expr.codegen))}},{key:"$encode",parse:function(a,e){a=a.$encode;const n={};for(const y in a){const B=a[y];n[y]=l.accessor(e.encodeExpression(B.$expr),B.$fields);n[y].output=B.$output}return n}},{key:"$compare",parse:function(a,e){const n="c:"+a.$compare+"_"+a.$order,y=l.array(a.$compare).map(B=>B&&B.$tupleid?w.tupleid:B);return e.fn[n]||(e.fn[n]=l.compare(y,
a.$order,e.expr.codegen))}},{key:"$context",parse:function(a,e){return e}},{key:"$subflow",parse:function(a,e){const n=a.$subflow;return function(y,B,D){const O=e.fork().parse(n);y=O.get(n.operators[0].id);(B=O.signals.parent)&&B.set(D);y.detachSubflow=()=>e.detach(O);return y}}},{key:"$tupleid",parse:function(){return w.tupleid}}];const f={skip:!0};x.prototype=v.prototype={fork(){const a=new v(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(n=>
n!==a);const e=Object.keys(a.nodes);for(const n of e)a.nodes[n]._targets=null;for(const n of e)a.nodes[n].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,e){return this.nodes[a]=e},add(a,e){const n=this,y=n.dataflow,B=a.value;n.set(a.id,e);"collect"===(a.type+"").toLowerCase()&&B&&(B.$ingest?y.ingest(e,B.$ingest,B.$format):B.$request?y.preload(e,B.$request,B.$format):y.pulse(e,y.changeset().insert(B)));a.root&&(n.root=e);if(a.parent){let D=n.get(a.parent.$ref);D?(y.connect(D,[e]),e.targets().add(D)):
(n.unresolved=n.unresolved||[]).push(()=>{D=n.get(a.parent.$ref);y.connect(D,[e]);e.targets().add(D)})}a.signal&&(n.signals[a.signal]=e);a.scale&&(n.scales[a.scale]=e);if(a.data)for(const D in a.data){const O=n.data[D]||(n.data[D]={});a.data[D].forEach(M=>O[M]=e)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,e){this.add(a,this.dataflow.add(a.value,e))},transform(a,e){this.add(a,this.dataflow.add(this.transforms[(e+"").toLowerCase()]))},stream(a,e){this.set(a.id,
e)},update(a,e,n,y,B){this.dataflow.on(e,n,y,B,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const e=this,n=a.operators||[];a.background&&(e.background=a.background);a.eventConfig&&(e.eventConfig=a.eventConfig);a.locale&&(e.locale=a.locale);n.forEach(y=>
e.parseOperator(y));n.forEach(y=>e.parseOperatorParameters(y));(a.streams||[]).forEach(y=>e.parseStream(y));(a.updates||[]).forEach(y=>e.parseUpdate(y));return e.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const e=this.get(a.id);e||l.error("Invalid operator id: "+a.id);this.dataflow.connect(e,e.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,e){e=e||{};const n=this;for(const y in a){const B=a[y];e[y]=l.isArray(B)?B.map(D=>N(D,n,e)):N(B,n,e)}return e},parseStream:function(a){var e=this,n=null!=a.filter?e.eventExpression(a.filter):void 0,y=null!=a.stream?e.get(a.stream):void 0;if(a.source)y=e.events(a.source,a.type,n);else if(a.merge){var B=a.merge.map(D=>e.get(D));y=B[0].merge.apply(B[0],B.slice(1))}a.between&&(B=a.between.map(D=>e.get(D)),y=y.between(B[0],B[1]));a.filter&&(y=y.filter(n));
null!=a.throttle&&(y=y.throttle(+a.throttle));null!=a.debounce&&(y=y.debounce(+a.debounce));null==y&&l.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&y.consume(!0);e.stream(a,y)},parseUpdate:function(a){var e=l.isObject(e=a.source)?e.$ref:e;e=this.get(e);var n=a.update,y=void 0;e||l.error("Source not defined: "+a.source);var B=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);n&&n.$expr&&(n.$params&&(y=this.parseParameters(n.$params)),n=this.handlerExpression(n.$expr));
this.update(a,e,B,n,y)},getState:function(a){var e=this,n={};if(a.signals){var y=n.signals={};Object.keys(e.signals).forEach(D=>{const O=e.signals[D];a.signals(D,O)&&(y[D]=O.value)})}if(a.data){var B=n.data={};Object.keys(e.data).forEach(D=>{const O=e.data[D];a.data(D,O)&&(B[D]=O.input.value)})}e.subcontext&&!1!==a.recurse&&(n.subcontext=e.subcontext.map(D=>D.getState(a)));return n},setState:function(a){var e=this,n=e.dataflow,y=a.data,B=a.signals;Object.keys(B||{}).forEach(D=>{n.update(e.signals[D],
B[D],f)});Object.keys(y||{}).forEach(D=>{n.pulse(e.data[D].input,n.changeset().remove(l.truthy).insert(y[D]))});(a.subcontext||[]).forEach((D,O)=>{(O=e.subcontext[O])&&O.setState(D)})}};k.context=function(a,e,n,y){return new x(a,e,n,y)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[60]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26),A(36),A(15),A(58),A(59),A(45),A(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.vega))})(this,function(k,l,w,H,N,x,v,u,m){function g(pa){const Ha=pa.container();
Ha&&(Ha.setAttribute("role","graphics-document"),Ha.setAttribute("aria-roleDescription","visualization"),d(Ha,pa.description()))}function d(pa,Ha){pa&&(null==Ha?pa.removeAttribute("aria-label"):pa.setAttribute("aria-label",Ha))}function f(pa){pa.add(null,Ha=>{pa._background=Ha.bg;pa._resize=1;return Ha.bg},{bg:pa._signals.background})}function a(pa){const Ha=pa._signals.cursor||(pa._signals.cursor=pa.add({user:"default",item:null}));pa.on(pa.events("view","mousemove"),Ha,(Ua,jb)=>{const Fb=(Ua=Ha.value)?
l.isString(Ua)?Ua:Ua.user:"default";jb=jb.item&&jb.item.cursor||null;return Ua&&Fb===Ua.user&&jb==Ua.item?Ua:{user:Fb,item:jb}});pa.add(null,function(Ua){Ua=Ua.cursor;let jb=this.value;l.isString(Ua)||(jb=Ua.item,Ua=Ua.user);e(pa,Ua&&"default"!==Ua?Ua:jb||Ua);return jb},{cursor:Ha})}function e(pa,Ha){if(pa=pa.globalCursor()?"undefined"!==typeof document&&document.body:pa.container())return null==Ha?pa.style.removeProperty("cursor"):pa.style.cursor=Ha}function n(pa,Ha){pa=pa._runtime.data;l.hasOwnProperty(pa,
Ha)||l.error("Unrecognized data set: "+Ha);return pa[Ha]}function y(pa,Ha){w.isChangeSet(Ha)||l.error("Second argument to changes must be a changeset.");pa=n(this,pa);pa.modified=!0;return this.pulse(pa.input,Ha)}function B(pa){var Ha=pa.padding();return Math.max(0,pa._viewWidth+Ha.left+Ha.right)}function D(pa){var Ha=pa.padding();return Math.max(0,pa._viewHeight+Ha.top+Ha.bottom)}function O(pa){var Ha=pa.padding();pa=pa._origin;return[Ha.left+pa[0],Ha.top+pa[1]]}function M(pa){var Ha=O(pa),Ua=B(pa),
jb=D(pa);pa._renderer.background(pa.background());pa._renderer.resize(Ua,jb,Ha);pa._handler.origin(Ha);pa._resizeListeners.forEach(Fb=>{try{Fb(Ua,jb)}catch(Xb){pa.error(Xb)}})}function F(pa,Ha,Ua){var jb=pa._renderer;jb=jb&&jb.canvas();if(jb){var Fb=O(pa);var Xb=Ha.changedTouches?Ha.changedTouches[0]:Ha;Xb=H.point(Xb,jb);Xb[0]-=Fb[0];Xb[1]-=Fb[1]}Ha.dataflow=pa;Ha.item=Ua;Ha.vega=z(pa,Ua,Xb);return Ha}function z(pa,Ha,Ua){function jb(nc){var md=Xb,pc;if(nc)for(pc=Ha;pc;pc=pc.mark.group)if(pc.mark.name===
nc){md=pc;break}return md&&md.mark&&md.mark.interactive?md:{}}function Fb(nc){if(!nc)return Ua;l.isString(nc)&&(nc=jb(nc));const md=Ua.slice();for(;nc;)md[0]-=nc.x||0,md[1]-=nc.y||0,nc=nc.mark&&nc.mark.group;return md}const Xb=Ha?"group"===Ha.mark.marktype?Ha:Ha.mark.group:null;return{view:l.constant(pa),item:l.constant(Ha||{}),group:jb,xy:Fb,x:nc=>Fb(nc)[0],y:nc=>Fb(nc)[1]}}function G(pa){pa=l.extend({defaults:{}},pa);const Ha=(Ua,jb)=>{jb.forEach(Fb=>{l.isArray(Ua[Fb])&&(Ua[Fb]=l.toSet(Ua[Fb]))})};
Ha(pa.defaults,["prevent","allow"]);Ha(pa,["view","window","selector"]);return pa}function K(pa,Ha,Ua){const jb=pa._eventConfig&&pa._eventConfig[Ha];return!1===jb||l.isObject(jb)&&!jb[Ua]?(pa.warn(`Blocked ${Ha} ${Ua} event listener.`),!1):!0}function R(pa){return pa.item}function T(pa){return pa.item.mark.source}function ja(pa){return function(Ha,Ua){return Ua.vega.view().changeset().encode(Ua.item,pa)}}function fa(pa,Ha,Ua){pa=document.createElement(pa);for(const jb in Ha)pa.setAttribute(jb,Ha[jb]);
null!=Ua&&(pa.textContent=Ua);return pa}function ha(pa,Ha,Ua){if(Ha){var jb=Ua.param,Fb=Ua.state;Fb||(Fb=Ua.state={elements:null,active:!1,set:null,update:Xb=>{Xb!==pa.signal(jb.signal)&&pa.runAsync(null,()=>{Fb.source=!0;pa.signal(jb.signal,Xb)})}},jb.debounce&&(Fb.update=l.debounce(jb.debounce,Fb.update)));la(Fb,Ha,jb,pa.signal(jb.signal));Fb.active||(pa.on(pa._signals[jb.signal],null,()=>{Fb.source?Fb.source=!1:Fb.set(pa.signal(jb.signal))}),Fb.active=!0);return Fb}}function la(pa,Ha,Ua,jb){const Fb=
fa("div",{"class":"vega-bind"}),Xb="radio"===Ua.input?Fb:Fb.appendChild(fa("label"));Xb.appendChild(fa("span",{"class":"vega-bind-name"},Ua.name||Ua.signal));Ha.appendChild(Fb);Ha=Z;switch(Ua.input){case "checkbox":Ha=P;break;case "select":Ha=C;break;case "radio":Ha=V;break;case "range":Ha=ia}Ha(pa,Xb,Ua,jb)}function Z(pa,Ha,Ua,jb){const Fb=fa("input");for(const Xb in Ua)"signal"!==Xb&&"element"!==Xb&&Fb.setAttribute("input"===Xb?"type":Xb,Ua[Xb]);Fb.setAttribute("name",Ua.signal);Fb.value=jb;Ha.appendChild(Fb);
Fb.addEventListener("input",()=>pa.update(Fb.value));pa.elements=[Fb];pa.set=Xb=>Fb.value=Xb}function P(pa,Ha,Ua,jb){Ua={type:"checkbox",name:Ua.signal};jb&&(Ua.checked=!0);const Fb=fa("input",Ua);Ha.appendChild(Fb);Fb.addEventListener("change",()=>pa.update(Fb.checked));pa.elements=[Fb];pa.set=Xb=>Fb.checked=!!Xb||null}function C(pa,Ha,Ua,jb){const Fb=fa("select",{name:Ua.signal}),Xb=Ua.labels||[];Ua.options.forEach((nc,md)=>{const pc={value:nc};aa(nc,jb)&&(pc.selected=!0);Fb.appendChild(fa("option",
pc,(Xb[md]||nc)+""))});Ha.appendChild(Fb);Fb.addEventListener("change",()=>{pa.update(Ua.options[Fb.selectedIndex])});pa.elements=[Fb];pa.set=nc=>{for(let md=0,pc=Ua.options.length;md<pc;++md)if(aa(Ua.options[md],nc)){Fb.selectedIndex=md;break}}}function V(pa,Ha,Ua,jb){const Fb=fa("span",{"class":"vega-bind-radio"}),Xb=Ua.labels||[];Ha.appendChild(Fb);pa.elements=Ua.options.map((nc,md)=>{var pc={type:"radio",name:Ua.signal,value:nc};aa(nc,jb)&&(pc.checked=!0);pc=fa("input",pc);pc.addEventListener("change",
()=>pa.update(nc));md=fa("label",{},(Xb[md]||nc)+"");md.prepend(pc);Fb.appendChild(md);return pc});pa.set=nc=>{const md=pa.elements,pc=md.length;for(let Hc=0;Hc<pc;++Hc)aa(md[Hc].value,nc)&&(md[Hc].checked=!0)}}function ia(pa,Ha,Ua,jb){jb=void 0!==jb?jb:(+Ua.max+ +Ua.min)/2;const Fb=null!=Ua.max?Ua.max:Math.max(100,+jb)||100,Xb=Ua.min||Math.min(0,Fb,+jb)||0,nc=Ua.step||N.tickStep(Xb,Fb,100),md=fa("input",{type:"range",name:Ua.signal,min:Xb,max:Fb,step:nc});md.value=jb;const pc=fa("span",{},+jb);Ha.appendChild(md);
Ha.appendChild(pc);Ha=()=>{pc.textContent=md.value;pa.update(+md.value)};md.addEventListener("input",Ha);md.addEventListener("change",Ha);pa.elements=[md];pa.set=Hc=>{md.value=Hc;pc.textContent=Hc}}function aa(pa,Ha){return pa===Ha||pa+""===Ha+""}function ya(pa,Ha,Ua,jb,Fb,Xb){Ha=Ha||new jb(pa.loader());return Ha.initialize(Ua,B(pa),D(pa),O(pa),Fb,Xb).background(pa.background())}function va(pa,Ha){return Ha?function(){try{Ha.apply(this,arguments)}catch(Ua){pa.error(Ua)}}:null}function Ia(pa,Ha,Ua,
jb){const Fb=(new jb(pa.loader(),va(pa,pa.tooltip()))).scene(pa.scenegraph().root).initialize(Ua,O(pa),pa);Ha&&Ha.handlers().forEach(Xb=>{Fb.on(Xb.type,Xb.handler)});return Fb}function bb(pa,Ha){if("string"===typeof Ha)if("undefined"!==typeof document){if(Ha=document.querySelector(Ha),!Ha)return pa.error("Signal bind element not found: "+Ha),null}else return pa.error("DOM document instance not found."),null;if(Ha)try{Ha.innerHTML=""}catch(Ua){Ha=null,pa.error(Ua)}return Ha}function kb(pa){l.isObject(pa)?
pa={top:+pa.top||0,bottom:+pa.bottom||0,left:+pa.left||0,right:+pa.right||0}:(pa=+pa||0,pa={top:pa,bottom:pa,left:pa,right:pa});return pa}function ua(pa,Ha,Ua,jb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Fb=H.renderModule(Ha);(Fb=Fb&&Fb.headless)||l.error("Unrecognized renderer type: "+Ha);yield pa.runAsync();return ya(pa,null,null,Fb,Ua,jb).renderAsync(pa._scenegraph.root)})}function Ta(pa,Ha,Ua){return v.context(pa,w.transforms,x.functionContext,Ua).parse(Ha)}function Ya(pa,
Ha){var Ua=pa.autosize();pa=pa.padding();return Ha-(Ua&&"padding"===Ua.contains?pa.left+pa.right:0)}function Da(pa,Ha){var Ua=pa.autosize();pa=pa.padding();return Ha-(Ua&&"padding"===Ua.contains?pa.top+pa.bottom:0)}function ta(pa){function Ha(){pa._autosize=pa._resize=1}var Ua=pa._signals,jb=Ua.width,Fb=Ua.height;Ua=Ua.padding;pa._resizeWidth=pa.add(null,nc=>{pa._width=nc.size;pa._viewWidth=Ya(pa,nc.size);Ha()},{size:jb});pa._resizeHeight=pa.add(null,nc=>{pa._height=nc.size;pa._viewHeight=Da(pa,nc.size);
Ha()},{size:Fb});const Xb=pa.add(null,Ha,{pad:Ua});pa._resizeWidth.rank=jb.rank+1;pa._resizeHeight.rank=Fb.rank+1;Xb.rank=Ua.rank+1}function U(pa,Ha){return Ha.modified&&l.isArray(Ha.input.value)&&pa.indexOf("_:vega:_")}function W(pa,Ha){return!("parent"===pa||Ha instanceof w.transforms.proxy)}function ba(pa,Ha,Ua,jb){(pa=pa.element())&&pa.setAttribute("title",ca(jb))}function ca(pa){return null==pa?"":l.isArray(pa)?"["+pa.map(qa).join(", ")+"]":l.isObject(pa)&&!l.isDate(pa)?ra(pa):pa+""}function ra(pa){return Object.keys(pa).map(Ha=>
{const Ua=pa[Ha];return Ha+": "+(l.isArray(Ua)?"["+Ua.map(qa).join(", ")+"]":qa(Ua))}).join("\n")}function qa(pa){return l.isArray(pa)?"[…]":l.isObject(pa)&&!l.isDate(pa)?"{…}":pa}function Fa(pa,Ha){Ha=Ha||{};w.Dataflow.call(this);Ha.loader&&this.loader(Ha.loader);Ha.logger&&this.logger(Ha.logger);null!=Ha.logLevel&&this.logLevel(Ha.logLevel);if(Ha.locale||pa.locale){var Ua=l.extend({},pa.locale,Ha.locale);this.locale(m.locale(Ua.number,Ua.time))}this._elBind=this._el=null;this._renderType=Ha.renderer||
H.RenderType.Canvas;this._scenegraph=new H.Scenegraph;Ua=this._scenegraph.root;this._renderer=null;this._tooltip=Ha.tooltip||ba;this._redraw=!0;this._handler=(new H.CanvasHandler).scene(Ua);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=G(pa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const jb=Ta(this,pa,Ha.expr);this._runtime=jb;this._signals=jb.signals;this._bind=(pa.bindings||[]).map(Fb=>({state:null,
param:l.extend({},Fb)}));jb.root&&jb.root.set(Ua);Ua.source=jb.data.root.input;this.pulse(jb.data.root.input,this.changeset().insert(Ua.items));this._width=this.width();this._height=this.height();this._viewWidth=Ya(this,this._width);this._viewHeight=Da(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;ta(this);f(this);a(this);this.description(pa.description);Ha.hover&&this.hover();Ha.container&&this.initialize(Ha.container,Ha.bind)}function na(pa,Ha){return l.hasOwnProperty(pa._signals,
Ha)?pa._signals[Ha]:l.error("Unrecognized signal name: "+l.stringValue(Ha))}function Ra(pa,Ha){pa=(pa._targets||[]).filter(Ua=>Ua._update&&Ua._update.handler===Ha);return pa.length?pa[0]:null}function db(pa,Ha,Ua,jb){let Fb=Ra(Ua,jb);Fb||(Fb=va(pa,()=>jb(Ha,Ua.value)),Fb.handler=jb,pa.on(Ua,null,Fb));return pa}function $a(pa,Ha,Ua){(Ua=Ra(Ha,Ua))&&Ha._targets.remove(Ua);return pa}const Ca={trap:!1};var Ga={skip:!0};l.inherits(Fa,w.Dataflow,{evaluate(pa,Ha,Ua){const jb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield w.Dataflow.prototype.evaluate.call(jb,
pa,Ha);if(jb._redraw||jb._resize)try{jb._renderer&&(jb._resize&&(jb._resize=0,M(jb)),yield jb._renderer.renderAsync(jb._scenegraph.root)),jb._redraw=!1}catch(Fb){jb.error(Fb)}Ua&&w.asyncCallback(jb,Ua);return jb})},dirty(pa){this._redraw=!0;this._renderer&&this._renderer.dirty(pa)},description(pa){if(arguments.length){const Ha=null!=pa?pa+"":null;Ha!==this._desc&&d(this._el,this._desc=Ha);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},
signal(pa,Ha,Ua){const jb=na(this,pa);return 1===arguments.length?jb.value:this.update(jb,Ha,Ua)},width(pa){return arguments.length?this.signal("width",pa):this.signal("width")},height(pa){return arguments.length?this.signal("height",pa):this.signal("height")},padding(pa){return arguments.length?this.signal("padding",kb(pa)):kb(this.signal("padding"))},autosize(pa){return arguments.length?this.signal("autosize",pa):this.signal("autosize")},background(pa){return arguments.length?this.signal("background",
pa):this.signal("background")},renderer(pa){if(!arguments.length)return this._renderType;H.renderModule(pa)||l.error("Unrecognized renderer type: "+pa);pa!==this._renderType&&(this._renderType=pa,this._resetRenderer());return this},tooltip(pa){if(!arguments.length)return this._tooltip;pa!==this._tooltip&&(this._tooltip=pa,this._resetRenderer());return this},loader(pa){if(!arguments.length)return this._loader;pa!==this._loader&&(w.Dataflow.prototype.loader.call(this,pa),this._resetRenderer());return this},
resize(){this._autosize=1;return this.touch(na(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(pa,Ha,Ua,jb,Fb,Xb){this.runAfter(nc=>{let md=0;nc._autosize=0;nc.width()!==Ua&&(md=1,nc.signal("width",Ua,Ga),nc._resizeWidth.skip(!0));nc.height()!==jb&&(md=1,nc.signal("height",jb,Ga),nc._resizeHeight.skip(!0));nc._viewWidth!==pa&&(nc._resize=1,nc._viewWidth=pa);nc._viewHeight!==Ha&&(nc._resize=1,nc._viewHeight=Ha);
if(nc._origin[0]!==Fb[0]||nc._origin[1]!==Fb[1])nc._resize=1,nc._origin=Fb;md&&nc.run("enter");Xb&&nc.runAfter(pc=>pc.resize())},!1,1)},addEventListener(pa,Ha,Ua){let jb=Ha;Ua&&!1===Ua.trap||(jb=va(this,Ha),jb.raw=Ha);this._handler.on(pa,jb);return this},removeEventListener(pa,Ha){for(var Ua=this._handler.handlers(pa),jb=Ua.length,Fb,Xb;0<=--jb;)if(Xb=Ua[jb].type,Fb=Ua[jb].handler,pa===Xb&&(Ha===Fb||Ha===Fb.raw)){this._handler.off(Xb,Fb);break}return this},addResizeListener(pa){const Ha=this._resizeListeners;
0>Ha.indexOf(pa)&&Ha.push(pa);return this},removeResizeListener(pa){var Ha=this._resizeListeners;pa=Ha.indexOf(pa);0<=pa&&Ha.splice(pa,1);return this},addSignalListener(pa,Ha){return db(this,pa,na(this,pa),Ha)},removeSignalListener(pa,Ha){return $a(this,na(this,pa),Ha)},addDataListener(pa,Ha){return db(this,pa,n(this,pa).values,Ha)},removeDataListener(pa,Ha){return $a(this,n(this,pa).values,Ha)},globalCursor(pa){if(arguments.length){if(this._globalCursor!==!!pa){const Ha=e(this,null);this._globalCursor=
!!pa;Ha&&e(this,Ha)}return this}return this._globalCursor},preventDefault(pa){return arguments.length?(this._preventDefault=pa,this):this._preventDefault},timer:function(pa,Ha){this._timers.push(u.interval(function(Ua){pa({timestamp:Date.now(),elapsed:Ua})},Ha))},events:function(pa,Ha,Ua){var jb=this,Fb=new w.EventStream(Ua);Ua=function(pc,Hc){jb.runAsync(null,()=>{var mb;if(mb="view"===pa){var hc=jb._eventConfig.defaults;mb=hc.prevent;hc=hc.allow;mb=!1===mb||!0===hc?!1:!0===mb||!1===hc?!0:mb?mb[Ha]:
hc?!hc[Ha]:jb.preventDefault()}mb&&pc.preventDefault();Fb.receive(F(jb,pc,Hc))})};var Xb;if("timer"===pa)K(jb,"timer",Ha)&&jb.timer(Ua,Ha);else if("view"===pa)K(jb,"view",Ha)&&jb.addEventListener(Ha,Ua,Ca);else if("window"===pa?K(jb,"window",Ha)&&"undefined"!==typeof window&&(Xb=[window]):"undefined"!==typeof document&&K(jb,"selector",Ha)&&(Xb=document.querySelectorAll(pa)),Xb){for(var nc=0,md=Xb.length;nc<md;++nc)Xb[nc].addEventListener(Ha,Ua);jb._eventListeners.push({type:Ha,sources:Xb,handler:Ua})}else jb.warn("Can not resolve event source: "+
pa);return Fb},finalize:function(){var pa=this._tooltip,Ha=this._timers,Ua=this._eventListeners,jb;for(jb=Ha.length;0<=--jb;)Ha[jb].stop();for(jb=Ua.length;0<=--jb;){var Fb=Ua[jb];for(Ha=Fb.sources.length;0<=--Ha;)Fb.sources[Ha].removeEventListener(Fb.type,Fb.handler)}pa&&pa.call(this,this._handler,null,null,null);return this},hover:function(pa,Ha){pa=[pa||"hover"];Ha=[Ha||"update",pa[0]];this.on(this.events("view","mouseover",R),T,ja(pa));this.on(this.events("view","mouseout",R),T,ja(Ha));return this},
data:function(pa,Ha){return 2>arguments.length?n(this,pa).values.value:y.call(this,pa,w.changeset().remove(l.truthy).insert(Ha))},change:y,insert:function(pa,Ha){return y.call(this,pa,w.changeset().insert(Ha))},remove:function(pa,Ha){return y.call(this,pa,w.changeset().remove(Ha))},scale:function(pa){var Ha=this._runtime.scales;l.hasOwnProperty(Ha,pa)||l.error("Unrecognized scale or projection: "+pa);return Ha[pa].value},initialize:function(pa,Ha){const Ua=this;var jb=Ua._renderType;const Fb=Ua._eventConfig.bind;
var Xb=H.renderModule(jb);pa=Ua._el=pa?bb(Ua,pa):null;g(Ua);Xb||Ua.error("Unrecognized renderer type: "+jb);jb=Xb.handler||H.CanvasHandler;Xb=pa?Xb.renderer:Xb.headless;Ua._renderer=Xb?ya(Ua,Ua._renderer,pa,Xb):null;Ua._handler=Ia(Ua,Ua._handler,pa,jb);Ua._redraw=!0;pa&&"none"!==Fb&&(Ha=Ha?Ua._elBind=bb(Ua,Ha):pa.appendChild(fa("form",{"class":"vega-bindings"})),Ua._bind.forEach(nc=>{nc.param.element&&"container"!==Fb&&(nc.element=bb(Ua,nc.param.element))}),Ua._bind.forEach(nc=>{ha(Ua,nc.element||
Ha,nc)}));return Ua},toImageURL:function(pa,Ha){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){pa!==H.RenderType.Canvas&&pa!==H.RenderType.SVG&&pa!==H.RenderType.PNG&&l.error("Unrecognized image type: "+pa);var jb=yield ua(Ua,pa,Ha);pa===H.RenderType.SVG?(jb=jb.svg(),jb=new Blob([jb],{type:"image/svg+xml"}),jb=window.URL.createObjectURL(jb)):jb=jb.canvas().toDataURL("image/png");return jb})},toCanvas:function(pa,Ha){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ua(Ua,
H.RenderType.Canvas,pa,Ha)).canvas()})},toSVG:function(pa){const Ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ua(Ha,H.RenderType.SVG,pa)).svg()})},getState:function(pa){return this._runtime.getState(pa||{data:U,signals:W,recurse:!0})},setState:function(pa){this.runAsync(null,Ha=>{Ha._trigger=!1;Ha._runtime.setState(pa)},Ha=>{Ha._trigger=!0});return this}});k.View=Fa;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[61]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={}))})(this,function(k){function l(g,d,f,a,e){const n=g.length;let y=0,B;for(;d<n;++d)if(B=g[d],y||B!==f)e&&0<=e.indexOf(B)?--y:a&&0<=a.indexOf(B)&&++y;else break;return d}function w(g){const d=[],f=g.length;let a=0,e=0;for(;e<f;)e=l(g,e,",","[{","]}"),d.push(g.substring(a,
e).trim()),a=++e;if(0===d.length)throw"Empty event selector: "+g;return d}function H(g){if("["===g[0]){var d=g;var f=d.length;g=l(d,1,"]","[","]");if(g===f)throw"Empty between selector: "+d;f=w(d.substring(1,g));if(2!==f.length)throw"Between selector must have two elements: "+d;d=d.slice(g+1).trim();if("\x3e"!==d[0])throw"Expected '\x3e' after between selector: "+d;f=f.map(H);d=H(d.slice(1).trim());d.between?d={between:f,stream:d}:d.between=f}else{{f={source:u};const a=[];let e=[0,0],n=0,y=0,B=g.length,
D=0,O;if("}"===g[B-1]){D=g.lastIndexOf("{");if(0<=D){try{e=N(g.substring(D+1,B-1))}catch(M){throw"Invalid throttle specification: "+g;}g=g.slice(0,D).trim();B=g.length}else throw"Unmatched right brace: "+g;D=0}if(!B)throw g;"@"===g[0]&&(n=++D);O=l(g,D,":");O<B&&(a.push(g.substring(y,O).trim()),y=D=++O);D=l(g,D,"[");if(D===B)a.push(g.substring(y,B).trim());else if(a.push(g.substring(y,D).trim()),d=[],y=++D,y===B)throw"Unmatched left bracket: "+g;for(;D<B;){D=l(g,D,"]");if(D===B)throw"Unmatched left bracket: "+
g;d.push(g.substring(y,D).trim());if(D<B-1&&"["!==g[++D])throw"Expected left bracket: "+g;y=++D}if(!(B=a.length)||x.test(a[B-1]))throw"Invalid event selector: "+g;1<B?(f.type=a[1],n?f.markname=a[0].slice(1):m[a[0]]?f.marktype=a[0]:f.source=a[0]):f.type=a[0];"!"===f.type.slice(-1)&&(f.consume=!0,f.type=f.type.slice(0,-1));null!=d&&(f.filter=d);e[0]&&(f.throttle=e[0]);e[1]&&(f.debounce=e[1]);d=f}}return d}function N(g){const d=g.split(",");if(!g.length||2<d.length)throw g;return d.map(f=>{f=+f;if(f!==
f)throw g;return f})}const x=/[[\]{}]/,v={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let u,m;k.selector=function(g,d,f){u=d||"view";m=f||v;return w(g.trim()).map(H)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[62]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(58),A(61),A(35),A(26)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x){function v(Aa){return l.isObject(Aa)?Aa:{type:Aa||"pad"}}function u(Aa){l.isObject(Aa)?Aa=Aa.signal?
Aa:{top:+Aa.top||0,bottom:+Aa.bottom||0,left:+Aa.left||0,right:+Aa.right||0}:(Aa=+Aa||0,Aa={top:Aa,bottom:Aa,left:Aa,right:Aa});return Aa}function m(Aa,Pa,vb,Wb){return null!=vb?(l.isObject(vb)&&!l.isArray(vb)||l.isArray(vb)&&vb.length&&l.isObject(vb[0])?Aa.update[Pa]=vb:Aa[Wb||"enter"][Pa]={value:vb},1):0}function g(Aa,Pa,vb){for(const Wb in Pa)m(Aa,Wb,Pa[Wb]);for(const Wb in vb)m(Aa,Wb,vb[Wb],"update")}function d(Aa,Pa,vb){for(const Wb in Pa)vb&&l.hasOwnProperty(vb,Wb)||(Aa[Wb]=l.extend(Aa[Wb]||
{},Pa[Wb]));return Aa}function f(Aa,Pa){return Pa&&(Pa.enter&&Pa.enter[Aa]||Pa.update&&Pa.update[Aa])}function a(Aa,Pa,vb,Wb,Tb){const ic={},oc={};let fd,Wc;Wc="lineBreak";"text"!==Pa||null==Tb[Wc]||f(Wc,Aa)||e(ic,Wc,Tb[Wc]);if("legend"==vb||String(vb).startsWith("axis"))vb=null;vb="frame"===vb?Tb.group:"mark"===vb?l.extend({},Tb.mark,Tb[Pa]):null;for(Wc in vb)(Pa=f(Wc,Aa)||("fill"===Wc||"stroke"===Wc)&&(f("fill",Aa)||f("stroke",Aa)))||e(ic,Wc,vb[Wc]);l.array(Wb).forEach(nd=>{nd=Tb.style&&Tb.style[nd];
for(const Kd in nd)f(Kd,Aa)||e(ic,Kd,nd[Kd])});Aa=l.extend({},Aa);for(Wc in ic)vb=ic[Wc],vb.signal?(fd=fd||{})[Wc]=vb:oc[Wc]=vb;Aa.enter=l.extend(oc,Aa.enter);fd&&(Aa.update=l.extend(fd,Aa.update));return Aa}function e(Aa,Pa,vb){Aa[Pa]=vb&&vb.signal?{signal:vb.signal}:{value:vb}}function n(Aa){if(null!=Aa.gradient)return y(Aa);if(Aa.signal)var Pa=`(${Aa.signal})`;else Aa.color?(Pa=Aa.color,Pa=Pa.c?me("hcl",Pa.h,Pa.c,Pa.l):Pa.h||Pa.s?me("hsl",Pa.h,Pa.s,Pa.l):Pa.l||Pa.a?me("lab",Pa.l,Pa.a,Pa.b):Pa.r||
Pa.g||Pa.b?me("rgb",Pa.r,Pa.g,Pa.b):null):Pa=null!=Aa.field?D(Aa.field):void 0!==Aa.value?l.stringValue(Aa.value):void 0;if(null!=Aa.scale){{const vb=Nf(Aa.scale);null!=Aa.range?Pa=`lerp(_range(${vb}), ${+Aa.range})`:(void 0!==Pa&&(Pa=`_scale(${vb}, ${Pa})`),Aa.band&&(Pa=(Pa?Pa+"+":"")+`_bandwidth(${vb})`+(1===+Aa.band?"":"*"+B(Aa.band)),Aa.extra&&(Pa=`(datum.extra ? _scale(${vb}, datum.extra.value) : ${Pa})`)),null==Pa&&(Pa="0"))}}void 0===Pa&&(Pa=null);null!=Aa.exponent&&(Pa=`pow(${Pa},${B(Aa.exponent)})`);
null!=Aa.mult&&(Pa+=`*${B(Aa.mult)}`);null!=Aa.offset&&(Pa+=`+${B(Aa.offset)}`);Aa.round&&(Pa=`round(${Pa})`);return Pa}function y(Aa){const Pa=[Aa.start,Aa.stop,Aa.count].map(vb=>null==vb?null:l.stringValue(vb));for(;Pa.length&&null==l.peek(Pa);)Pa.pop();Pa.unshift(Nf(Aa.gradient));return`gradient(${Pa.join(",")})`}function B(Aa){return l.isObject(Aa)?"("+n(Aa)+")":Aa}function D(Aa){return O(l.isObject(Aa)?Aa:{datum:Aa})}function O(Aa){let Pa;if(Aa.signal){Pa="datum";var vb=Aa.signal}else if(Aa.group||
Aa.parent){vb=Math.max(1,Aa.level||1);for(Pa="item";0<vb--;)Pa+=".mark.group";Aa.parent?(vb=Aa.parent,Pa+=".datum"):vb=Aa.group}else Aa.datum?(Pa="datum",vb=Aa.datum):l.error("Invalid field reference: "+l.stringValue(Aa));Aa.signal||(vb=l.isString(vb)?l.splitAccessPath(vb).map(l.stringValue).join("]["):O(vb));return Pa+"["+vb+"]"}function M(Aa){let Pa="";Aa.forEach(vb=>{const Wb=n(vb);Pa+=vb.test?`(${vb.test})?${Wb}:`:Wb});":"===l.peek(Pa)&&(Pa+="null");return Pa}function F(Aa,Pa,vb,Wb,Tb,ic){const oc=
{};ic=ic||{};ic.encoders={$encode:oc};Aa=a(Aa,Pa,vb,Wb,Tb.config);for(const Kd in Aa){{vb=Aa[Kd];Wb=Pa;var fd=ic,Wc=Tb;const de={},je={};for(const Gd in vb)if(null!=vb[Gd]){var nd=vb[Gd];nd=l.isArray(nd)?M(nd):n(nd);de[Gd]=z(nd,Wc,fd,je)}vb={$expr:{marktype:Wb,channels:de},$fields:Object.keys(je),$output:Object.keys(vb)}}oc[Kd]=vb}return ic}function z(Aa,Pa,vb,Wb){Aa=w.parseExpression(Aa,Pa);Aa.$fields.forEach(Tb=>Wb[Tb]=1);l.extend(vb,Aa.$params);return Aa.$expr}function G(Aa,Pa){l.error(Aa+' for "outer" push: '+
l.stringValue(Pa))}function K(Aa,Pa){const vb=Aa.name;if("outer"===Aa.push)Pa.signals[vb]||G("No prior signal definition",vb),te.forEach(Wb=>{void 0!==Aa[Wb]&&G("Invalid property ",Wb)});else{const Wb=Pa.addSignal(vb,Aa.value);!1===Aa.react&&(Wb.react=!1);Aa.bind&&Pa.addBinding(vb,Aa.bind)}}function R(Aa,Pa,vb,Wb){this.id=-1;this.type=Aa;this.value=Pa;this.params=vb;Wb&&(this.parent=Wb)}function T(Aa){const Pa={$ref:Aa.id};0>Aa.id&&(Aa.refs=Aa.refs||[]).push(Pa);return Pa}function ja(Aa,Pa){return Pa?
{$field:Aa,$name:Pa}:{$field:Aa}}function fa(Aa,Pa){Aa={$key:Aa};Pa&&(Aa.$flat=!0);return Aa}function ha(Aa,Pa){return(Aa&&Aa.signal?"$"+Aa.signal:Aa||"")+(Aa&&Pa?"_":"")+(Pa&&Pa.signal?"$"+Pa.signal:Pa||"")}function la(Aa){return Aa&&Aa.signal}function Z(Aa){if(la(Aa))return!0;if(l.isObject(Aa))for(const Pa in Aa)if(Z(Aa[Pa]))return!0;return!1}function P(Aa,Pa){return null!=Aa?Aa:Pa}function C(Aa){return Aa&&Aa.signal||Aa}function V(Aa,Pa){return(Aa.merge?aa:Aa.stream?ya:Aa.type?va:l.error("Invalid stream specification: "+
l.stringValue(Aa)))(Aa,Pa)}function ia(Aa){return"scope"===Aa?"view":Aa||"view"}function aa(Aa,Pa){const vb=Aa.merge.map(Wb=>V(Wb,Pa));Aa=Ia({merge:vb},Aa,Pa);return Pa.addStream(Aa).id}function ya(Aa,Pa){const vb=V(Aa.stream,Pa);Aa=Ia({stream:vb},Aa,Pa);return Pa.addStream(Aa).id}function va(Aa,Pa){let vb;"timer"===Aa.type?(vb=Pa.event("timer",Aa.throttle),Aa={between:Aa.between,filter:Aa.filter}):vb=Pa.event(ia(Aa.source),Aa.type);Aa=Ia({stream:vb},Aa,Pa);return 1===Object.keys(Aa).length?vb:Pa.addStream(Aa).id}
function Ia(Aa,Pa,vb){let Wb=Pa.between;Wb&&(2!==Wb.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(Pa)),Aa.between=[V(Wb[0],vb),V(Wb[1],vb)]);Wb=Pa.filter?[].concat(Pa.filter):[];(Pa.marktype||Pa.markname||Pa.markrole)&&Wb.push(bb(Pa.marktype,Pa.markname,Pa.markrole));"scope"===Pa.source&&Wb.push("inScope(event.item)");Wb.length&&(Aa.filter=w.parseExpression("("+Wb.join(")\x26\x26(")+")",vb).$expr);null!=(Wb=Pa.throttle)&&(Aa.throttle=+Wb);null!=(Wb=Pa.debounce)&&
(Aa.debounce=+Wb);Pa.consume&&(Aa.consume=!0);return Aa}function bb(Aa,Pa,vb){return"event.item"+(Aa&&"*"!==Aa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Aa+"'":"")+(vb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+vb+"'":"")+(Pa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Pa+"'":"")}function kb(Aa,Pa,vb){const Wb=Aa.encode,Tb={target:vb};vb=Aa.events;let ic=Aa.update,oc=[];vb||l.error("Signal update missing events specification.");l.isString(vb)&&(vb=H.selector(vb,Pa.isSubscope()?"scope":"view"));
vb=l.array(vb).filter(fd=>fd.signal||fd.scale?(oc.push(fd),0):1);1<oc.length&&(oc=[Ta(oc)]);vb.length&&oc.push(1<vb.length?{merge:vb}:vb[0]);null!=Wb&&(ic&&l.error("Signal encode and update are mutually exclusive."),ic="encode(item(),"+l.stringValue(Wb)+")");Tb.update=l.isString(ic)?w.parseExpression(ic,Pa):null!=ic.expr?w.parseExpression(ic.expr,Pa):null!=ic.value?ic.value:null!=ic.signal?{$expr:we,$params:{$value:Pa.signalRef(ic.signal)}}:l.error("Invalid signal update specification.");Aa.force&&
(Tb.options={force:!0});oc.forEach(fd=>Pa.addUpdate(l.extend(ua(fd,Pa),Tb)))}function ua(Aa,Pa){return{source:Aa.signal?Pa.signalRef(Aa.signal):Aa.scale?Pa.scaleRef(Aa.scale):V(Aa,Pa)}}function Ta(Aa){return{signal:"["+Aa.map(Pa=>Pa.scale?'scale("'+Pa.scale+'")':Pa.signal)+"]"}}function Ya(Aa,Pa){const vb=Pa.getSignal(Aa.name);let Wb=Aa.update;Aa.init&&(Wb?l.error("Signals can not include both init and update expressions."):(Wb=Aa.init,vb.initonly=!0));Wb&&(Wb=w.parseExpression(Wb,Pa),vb.update=Wb.$expr,
vb.params=Wb.$params);Aa.on&&Aa.on.forEach(Tb=>kb(Tb,Pa,vb.id))}function Da(Aa,Pa){return l.isObject(Aa)?Aa.signal?Pa.signalRef(Aa.signal):l.error("Unsupported object: "+l.stringValue(Aa)):Aa}function ta(Aa,Pa){return Aa.signal?Pa.signalRef(Aa.signal):Aa.map(vb=>Da(vb,Pa))}function U(Aa){l.error("Can not find data set: "+l.stringValue(Aa))}function W(Aa,Pa,vb){if(Aa)return Aa.signal?vb.signalRef(Aa.signal):(l.isArray(Aa)?ba:Aa.fields?ra:ca)(Aa,Pa,vb);null==Pa.domainMin&&null==Pa.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}
function ba(Aa,Pa,vb){return Aa.map(Wb=>Da(Wb,vb))}function ca(Aa,Pa,vb){const Wb=vb.getData(Aa.data);Wb||U(Aa.data);return N.isDiscrete(Pa.type)?Wb.valuesRef(vb,Aa.field,Fa(Aa.sort,!1)):N.isQuantile(Pa.type)?Wb.domainRef(vb,Aa.field):Wb.extentRef(vb,Aa.field)}function ra(Aa,Pa,vb){const Wb=Aa.data,Tb=Aa.fields.reduce((ic,oc)=>{if(l.isString(oc))oc={data:Wb,field:oc};else if(l.isArray(oc)||oc.signal){{var fd=oc;oc="_:vega:_"+gd++;const Wc=Ge({});l.isArray(fd)?Wc.value={$ingest:fd}:fd.signal&&(fd=
"setdata("+l.stringValue(oc)+","+fd.signal+")",Wc.params.input=vb.signalRef(fd));vb.addDataPipeline(oc,[Wc,ub({})]);oc={data:oc,field:"data"}}}ic.push(oc);return ic},[]);return(N.isDiscrete(Pa.type)?qa:N.isQuantile(Pa.type)?na:Ra)(Aa,vb,Tb)}function qa(Aa,Pa,vb){const Wb=Fa(Aa.sort,!0);Aa=vb.map(ic=>{const oc=Pa.getData(ic.data);oc||U(ic.data);return oc.countsRef(Pa,ic.field,Wb)});const Tb={groupby:kf,pulse:Aa};Wb&&(Aa=Wb.op||"count",vb=Wb.field?ha(Aa,Wb.field):"count",Tb.ops=[Mc[Aa]],Tb.fields=[Pa.fieldRef(vb)],
Tb.as=[vb]);Aa=Pa.add(Xd(Tb));Aa=Pa.add(Ge({pulse:T(Aa)}));vb=Pa.add(Oc({field:kf,sort:Pa.sortRef(Wb),pulse:T(Aa)}));return T(vb)}function Fa(Aa,Pa){Aa&&(Aa.field||Aa.op?Aa.field||"count"===Aa.op?Pa&&Aa.field&&Aa.op&&!Mc[Aa.op]&&l.error("Multiple domain scales can not be sorted using "+Aa.op):l.error("No field provided for sort aggregate op: "+Aa.op):l.isObject(Aa)?Aa.field="key":Aa={field:"key"});return Aa}function na(Aa,Pa,vb){Aa=vb.map(Wb=>{const Tb=Pa.getData(Wb.data);Tb||U(Wb.data);return Tb.domainRef(Pa,
Wb.field)});return T(Pa.add(If({values:Aa})))}function Ra(Aa,Pa,vb){Aa=vb.map(Wb=>{const Tb=Pa.getData(Wb.data);Tb||U(Wb.data);return Tb.extentRef(Pa,Wb.field)});return T(Pa.add(Yf({extents:Aa})))}function db(Aa,Pa,vb){const Wb=Pa.config.range;let Tb=Aa.range;if(Tb.signal)return Pa.signalRef(Tb.signal);if(l.isString(Tb)){if(Wb&&l.hasOwnProperty(Wb,Tb))return Aa=l.extend({},Aa,{range:Wb[Tb]}),db(Aa,Pa,vb);"width"===Tb?Tb=[0,{signal:"width"}]:"height"===Tb?Tb=N.isDiscrete(Aa.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Tb))}else{if(Tb.scheme){vb.scheme=l.isArray(Tb.scheme)?ta(Tb.scheme,Pa):Da(Tb.scheme,Pa);Tb.extent&&(vb.schemeExtent=ta(Tb.extent,Pa));Tb.count&&(vb.schemeCount=Da(Tb.count,Pa));return}if(Tb.step){vb.rangeStep=Da(Tb.step,Pa);return}if(N.isDiscrete(Aa.type)&&!l.isArray(Tb))return W(Tb,Aa,Pa);l.isArray(Tb)||l.error("Unsupported range type: "+l.stringValue(Tb))}return Tb.map(ic=>(l.isArray(ic)?ta:Da)(ic,Pa))}function $a(Aa,
Pa,vb){return l.isArray(Aa)?Aa.map(Wb=>$a(Wb,Pa,vb)):l.isObject(Aa)?Aa.signal?vb.signalRef(Aa.signal):"fit"===Pa?Aa:l.error("Unsupported parameter object: "+l.stringValue(Aa)):Aa}function Ca(Aa){Aa.type="group";Aa.interactive=Aa.interactive||!1;return Aa}function Ga(Aa,Pa){const vb=(Wb,Tb)=>P(Aa[Wb],P(Pa[Wb],Tb));vb.isVertical=Wb=>"vertical"===P(Aa.direction,Pa.direction||(Wb?Pa.symbolDirection:Pa.gradientDirection));vb.gradientLength=()=>P(Aa.gradientLength,Pa.gradientLength||Pa.gradientWidth);vb.gradientThickness=
()=>P(Aa.gradientThickness,Pa.gradientThickness||Pa.gradientHeight);vb.entryColumns=()=>P(Aa.columns,P(Pa.columns,+vb.isVertical(!0)));return vb}function pa(Aa,Pa){return(Aa=Pa&&(Pa.update&&Pa.update[Aa]||Pa.enter&&Pa.enter[Aa]))&&Aa.signal?Aa:Aa?Aa.value:null}function Ha(Aa,Pa,vb){return`item.anchor === '${"start"}' ? ${Aa} : item.anchor === '${"end"}' ? ${Pa} : ${vb}`}function Ua(Aa,Pa){return Pa?Aa?l.isObject(Aa)?Object.assign({},Aa,{offset:Ua(Aa.offset,Pa)}):{value:Aa,offset:Pa}:Pa:Aa}function jb(Aa,
Pa){Pa?(Aa.name=Pa.name,Aa.style=Pa.style||Aa.style,Aa.interactive=!!Pa.interactive,Aa.encode=d(Aa.encode,Pa,od)):Aa.interactive=!1;return Aa}function Fb(Aa,Pa,vb,Wb){Aa=Ga(Aa,vb);var Tb=Aa.isVertical();vb=Aa.gradientThickness();const ic=Aa.gradientLength();let oc,fd,Wc;Tb?(Tb=[0,1],fd=[0,0],Wc=vb,vb=ic):(Tb=[0,0],fd=[1,0],Wc=ic);Pa={enter:oc={opacity:Id,x:Id,y:Id,width:Ue(Wc),height:Ue(vb)},update:l.extend({},oc,{opacity:jd,fill:{gradient:Pa,start:Tb,stop:fd}}),exit:{opacity:Id}};g(Pa,{stroke:Aa("gradientStrokeColor"),
strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return jb({type:"rect",role:"legend-gradient",encode:Pa},Wb)}function Xb(Aa,Pa,vb,Wb,Tb){Aa=Ga(Aa,vb);const ic=Aa.isVertical();vb=Aa.gradientThickness();const oc=Aa.gradientLength();var fd;let Wc,nd,Kd,de="";ic?(fd="y",nd="y2",Wc="x",Kd="width",de="1-"):(fd="x",nd="x2",Wc="y",Kd="height");Pa={opacity:Id,fill:{scale:Pa,field:"value"}};Pa[fd]={signal:de+"datum.perc",mult:oc};Pa[Wc]=Id;Pa[nd]={signal:de+"datum.perc2",mult:oc};Pa[Kd]=
Ue(vb);fd={enter:Pa,update:l.extend({},Pa,{opacity:jd}),exit:{opacity:Id}};g(fd,{stroke:Aa("gradientStrokeColor"),strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return jb({type:"rect",role:"legend-band",key:"value",from:Tb,encode:fd},Wb)}function nc(Aa,Pa,vb,Wb){const Tb=Ga(Aa,Pa);var ic=Tb.isVertical();const oc=Ue(Tb.gradientThickness()),fd=Tb.gradientLength();let Wc=Tb("labelOverlap"),nd,Kd,de,je="";const Gd={enter:nd={opacity:Id},update:Kd={opacity:jd,text:{field:"label"}},
exit:{opacity:Id}};g(Gd,{fill:Tb("labelColor"),fillOpacity:Tb("labelOpacity"),font:Tb("labelFont"),fontSize:Tb("labelFontSize"),fontStyle:Tb("labelFontStyle"),fontWeight:Tb("labelFontWeight"),limit:P(Aa.labelLimit,Pa.gradientLabelLimit)});ic?(nd.align={value:"left"},nd.baseline=Kd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},ic="y",de="x",je="1-"):(nd.align=Kd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},nd.baseline={value:"top"},
ic="x",de="y");nd[ic]=Kd[ic]={signal:je+"datum.perc",mult:fd};nd[de]=Kd[de]=oc;oc.offset=P(Aa.labelOffset,Pa.gradientLabelOffset)||0;Wc=Wc?{separation:Tb("labelSeparation"),method:Wc,order:"datum.index"}:void 0;return jb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Wb,encode:Gd,overlap:Wc},vb)}function md(Aa,Pa,vb,Wb,Tb){var ic=Ga(Aa,Pa);const oc=vb.entries,fd=!(!oc||!oc.interactive),Wc=oc?oc.name:void 0,nd=ic("clipHeight"),Kd=ic("symbolOffset"),de={data:"value"},je=`(${Tb}) ? datum.${"offset"} : datum.${"size"}`,
Gd=nd?Ue(nd):{field:"size"},Le=`max(1, ${Tb})`;let $d,Ie;Gd.mult=.5;var Ce={enter:$d={opacity:Id,x:{signal:je,mult:.5,offset:Kd},y:Gd},update:Ie={opacity:jd,x:$d.x,y:$d.y},exit:{opacity:Id}};let Qe=null,Uf=null;Aa.fill||(Qe=Pa.symbolBaseFillColor,Uf=Pa.symbolBaseStrokeColor);g(Ce,{fill:ic("symbolFillColor",Qe),shape:ic("symbolType"),size:ic("symbolSize"),stroke:ic("symbolStrokeColor",Uf),strokeDash:ic("symbolDash"),strokeDashOffset:ic("symbolDashOffset"),strokeWidth:ic("symbolStrokeWidth")},{opacity:ic("symbolOpacity")});
Nd.forEach(ne=>{Aa[ne]&&(Ie[ne]=$d[ne]={scale:Aa[ne],field:"value"})});Pa=jb({type:"symbol",role:"legend-symbol",key:"value",from:de,clip:nd?!0:void 0,encode:Ce},vb.symbols);Ce=Ue(Kd);Ce.offset=ic("labelOffset");Ce={enter:$d={opacity:Id,x:{signal:je,offset:Ce},y:Gd},update:Ie={opacity:jd,text:{field:"label"},x:$d.x,y:$d.y},exit:{opacity:Id}};g(Ce,{align:ic("labelAlign"),baseline:ic("labelBaseline"),fill:ic("labelColor"),fillOpacity:ic("labelOpacity"),font:ic("labelFont"),fontSize:ic("labelFontSize"),
fontStyle:ic("labelFontStyle"),fontWeight:ic("labelFontWeight"),limit:ic("labelLimit")});vb=jb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:de,encode:Ce},vb.labels);Ce={enter:{noBound:{value:!nd},width:Id,height:nd?Ue(nd):Id,opacity:Id},exit:{opacity:Id},update:Ie={opacity:jd,row:{signal:null},column:{signal:null}}};ic.isVertical(!0)?(ic=`ceil(item.mark.items.length / ${Le})`,Ie.row.signal=`${"datum.index"}%${ic}`,Ie.column.signal=`floor(${"datum.index"} / ${ic})`,ic={field:["row",
"datum.index"]}):(Ie.row.signal=`floor(${"datum.index"} / ${Le})`,Ie.column.signal=`${"datum.index"} % ${Le}`,ic={field:"datum.index"});Ie.column.signal=`(${Tb})?${Ie.column.signal}:${"datum.index"}`;Wb={facet:{data:Wb,name:"value",groupby:"index"}};return Ca({role:"scope",from:Wb,encode:d(Ce,oc,od),marks:[Pa,vb],name:Wc,interactive:fd,sort:ic})}function pc(Aa,Pa){Aa=Ga(Aa,Pa);return{align:Aa("gridAlign"),columns:Aa.entryColumns(),center:{row:!0,column:!1},padding:{row:Aa("rowPadding"),column:Aa("columnPadding")}}}
function Hc(Aa,Pa,vb,Wb){Pa=Ga(Aa,Pa);const Tb={enter:{opacity:Id},update:{opacity:jd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Id}};g(Tb,{orient:Pa("titleOrient"),_anchor:Pa("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Gf},baseline:{signal:tf},text:Aa.title,fill:Pa("titleColor"),fillOpacity:Pa("titleOpacity"),font:Pa("titleFont"),fontSize:Pa("titleFontSize"),fontStyle:Pa("titleFontStyle"),fontWeight:Pa("titleFontWeight"),limit:Pa("titleLimit"),lineHeight:Pa("titleLineHeight")},{align:Pa("titleAlign"),baseline:Pa("titleBaseline")});return jb({type:"text",role:"legend-title",style:"guide-title",from:Wb,encode:Tb},vb)}function mb(Aa,Pa){let vb;l.isObject(Aa)&&(Aa.signal?vb=Aa.signal:Aa.path?vb="pathShape("+
hc(Aa.path)+")":Aa.sphere&&(vb="geoShape("+hc(Aa.sphere)+', {type: "Sphere"})'));return vb?Pa.signalRef(vb):!!Aa}function hc(Aa){return l.isObject(Aa)&&Aa.signal?Aa.signal:l.stringValue(Aa)}function jc(Aa){const Pa=Aa.role||"";return Pa.indexOf("axis")&&Pa.indexOf("legend")&&Pa.indexOf("title")?"group"===Aa.type?"scope":Pa||"mark":Pa}function rc(Aa){return{marktype:Aa.type,name:Aa.name||void 0,role:Aa.role||jc(Aa),zindex:+Aa.zindex||void 0,aria:Aa.aria,description:Aa.description}}function Pc(Aa,Pa){return Aa&&
Aa.signal?Pa.signalRef(Aa.signal):!1===Aa?!1:!0}function sc(Aa,Pa){const vb=x.definition(Aa.type);vb||l.error("Unrecognized transform type: "+l.stringValue(Aa.type));var Wb=vb.type.toLowerCase();var Tb=Uc(vb,Aa,Pa);Wb=new R(Wb,null,Tb,void 0);Aa.signal&&Pa.addSignal(Aa.signal,Pa.proxy(Wb));Wb.metadata=vb.metadata||{};return Wb}function Uc(Aa,Pa,vb){const Wb={},Tb=Aa.params.length;for(let ic=0;ic<Tb;++ic){const oc=Aa.params[ic];Wb[oc.name]=Sc(oc,Pa,vb)}return Wb}function Sc(Aa,Pa,vb){const Wb=Aa.type,
Tb=Pa[Aa.name];if("index"===Wb)return Fd(Aa,Pa,vb);if(void 0===Tb)Aa.required&&l.error("Missing required "+l.stringValue(Pa.type)+" parameter: "+l.stringValue(Aa.name));else return"param"===Wb?ge(Aa,Pa,vb):"projection"===Wb?vb.projectionRef(Pa[Aa.name]):Aa.array&&!la(Tb)?Tb.map(ic=>Lc(Aa,ic,vb)):Lc(Aa,Tb,vb)}function Lc(Aa,Pa,vb){const Wb=Aa.type;return la(Pa)?"expr"===Wb?l.error("Expression references can not be signals."):"field"===Wb?vb.fieldRef(Pa):"compare"===Wb?vb.compareRef(Pa):vb.signalRef(Pa.signal):
(Aa=Aa.expr||"field"===Wb)&&Pa&&Pa.expr?vb.exprRef(Pa.expr,Pa.as):Aa&&Pa&&Pa.field?ja(Pa.field,Pa.as):"expr"===Wb?w.parseExpression(Pa,vb):"data"===Wb?T(vb.getData(Pa).values):"field"===Wb?ja(Pa):"compare"===Wb?vb.compareRef(Pa):Pa}function Fd(Aa,Pa,vb){l.isString(Pa.from)||l.error('Lookup "from" parameter must be a string literal.');return vb.getData(Pa.from).lookupRef(vb,Pa.key)}function ge(Aa,Pa,vb){Pa=Pa[Aa.name];return Aa.array?(l.isArray(Pa)||l.error("Expected an array of sub-parameters. Instead: "+
l.stringValue(Pa)),Pa.map(Wb=>wd(Aa,Wb,vb))):wd(Aa,Pa,vb)}function wd(Aa,Pa,vb){const Wb=Aa.params.length;let Tb;for(let ic=0;ic<Wb;++ic){Tb=Aa.params[ic];for(const oc in Tb.key)if(Tb.key[oc]!==Pa[oc]){Tb=null;break}if(Tb)break}Tb||l.error("Unsupported parameter: "+l.stringValue(Pa));Aa=l.extend(Uc(Tb,Pa,vb),Tb.key);return T(vb.add(Bf(Aa)))}function vd(Aa,Pa,vb){let Wb,Tb,ic,oc;if(!Aa)ic=T(vb.add(Ge(null,[{}])));else if(Wb=Aa.facet)Pa||l.error("Only group marks can be faceted."),null!=Wb.field?ic=
oc=Wd(Wb,vb):(Aa.data?oc=T(vb.getData(Aa.data).aggregate):(Pa=sc(l.extend({type:"aggregate",groupby:l.array(Wb.groupby)},Wb.aggregate),vb),Pa.params.key=vb.keyRef(Wb.groupby),Pa.params.pulse=Wd(Wb,vb),ic=oc=T(vb.add(Pa))),Tb=vb.keyRef(Wb.groupby,!0));ic||(ic=Wd(Aa,vb));return{key:Tb,pulse:ic,parent:oc}}function Wd(Aa,Pa){return Aa.$ref?Aa:Aa.data&&Aa.data.$ref?Aa.data:T(Pa.getData(Aa.data).output)}function Pb(Aa,Pa,vb,Wb,Tb){this.scope=Aa;this.input=Pa;this.output=vb;this.values=Wb;this.aggregate=
Tb;this.index={}}function gc(Aa){return l.isString(Aa)?Aa:null}function Eb(Aa,Pa,vb){const Wb=ha(vb.op,vb.field);let Tb;if(Pa.ops)for(let ic=0,oc=Pa.as.length;ic<oc;++ic){if(Pa.as[ic]===Wb)return}else Pa.ops=["count"],Pa.fields=[null],Pa.as=["count"];vb.op&&(Pa.ops.push((Tb=vb.op.signal)?Aa.signalRef(Tb):vb.op),Pa.fields.push(Aa.fieldRef(vb.field)),Pa.as.push(Wb))}function zc(Aa,Pa,vb,Wb,Tb,ic,oc){vb=Pa[vb]||(Pa[vb]={});var fd=l.isObject(ic)?("descending"===ic.order?"-":"+")+ha(ic.op,ic.field):"";
let Wc=gc(Tb);if(null!=Wc){Aa=Pa.scope;Wc+=fd?"|"+fd:"";var nd=vb[Wc]}nd||(nd=ic?{field:kf,pulse:Pa.countsRef(Aa,Tb,ic)}:{field:Aa.fieldRef(Tb),pulse:T(Pa.output)},fd&&(nd.sort=Aa.sortRef(ic)),Aa=Aa.add(new R(Wb,void 0,nd,void 0)),oc&&(Pa.index[Tb]=Aa),nd=T(Aa),null!=Wc&&(vb[Wc]=nd));return nd}function Vc(Aa,Pa,vb){var Wb=Aa.from.facet;const Tb=Wb.name,ic=Wd(Wb,Pa);let oc;Wb.name||l.error("Facet must have a name: "+l.stringValue(Wb));Wb.data||l.error("Facet must reference a data set: "+l.stringValue(Wb));
Wb.field?oc=Pa.add(qe({field:Pa.fieldRef(Wb.field),pulse:ic})):Wb.groupby?oc=Pa.add(xe({key:Pa.keyRef(Wb.groupby),group:T(Pa.proxy(vb.parent)),pulse:ic})):l.error("Facet must specify groupby or field: "+l.stringValue(Wb));Pa=Pa.fork();vb=Pa.add(Ge());Wb=Pa.add(ub({pulse:T(vb)}));Pa.addData(Tb,new Pb(Pa,vb,vb,Wb));Pa.addSignal("parent",null);oc.params.subflow={$subflow:Pa.parse(Aa).toRuntime()}}function Ed(Aa,Pa,vb){vb=Pa.add(qe({pulse:vb.pulse}));Pa=Pa.fork();Pa.add(ub());Pa.addSignal("parent",null);
vb.params.subflow={$subflow:Pa.parse(Aa).toRuntime()}}function Vd(Aa,Pa,vb){const Wb=Aa.remove,Tb=Aa.insert,ic=Aa.toggle,oc=Aa.modify,fd=Aa.values,Wc=Pa.add(new R("operator",void 0,void 0,void 0));Aa="if("+Aa.trigger+',modify("'+vb+'",'+[Tb,Wb,ic,oc,fd].map(nd=>null==nd?"null":nd).join(",")+"),0)";Pa=w.parseExpression(Aa,Pa);Wc.update=Pa.$expr;Wc.params=Pa.$params}function Ka(Aa,Pa){var vb=jc(Aa),Wb="group"===Aa.type,Tb=Aa.from&&Aa.from.facet;const ic=Aa.overlap;let oc=Aa.layout||"scope"===vb||"frame"===
vb,fd,Wc,nd,Kd,de,je;const Gd="mark"===vb||oc||Tb,Le=vd(Aa.from,Wb,Pa);Wc=Pa.add(Ye({key:Le.key||(Aa.key?ja(Aa.key):void 0),pulse:Le.pulse,clean:!Wb}));const $d=T(Wc);Wc=nd=Pa.add(Ge({pulse:$d}));Wc=Pa.add(lf({markdef:rc(Aa),interactive:Pc(Aa.interactive,Pa),clip:mb(Aa.clip,Pa),context:{$context:!0},groups:Pa.lookup(),parent:Pa.signals.parent?Pa.signalRef("parent"):null,index:Pa.markpath(),pulse:T(Wc)}));var Ie=T(Wc);Wc=Kd=Pa.add(Xf(F(Aa.encode,Aa.type,vb,Aa.style,Pa,{mod:!1,pulse:Ie})));Wc.params.parent=
Pa.encode();Aa.transform&&Aa.transform.forEach(Qe=>{Qe=sc(Qe,Pa);const Uf=Qe.metadata;(Uf.generates||Uf.changes)&&l.error("Mark transforms should not generate new data.");Uf.nomod||(Kd.params.mod=!0);Qe.params.pulse=T(Wc);Pa.add(Wc=Qe)});Aa.sort&&(Wc=Pa.add(Yb({sort:Pa.compareRef(Aa.sort),pulse:T(Wc)})));vb=T(Wc);if(Tb||oc)oc=Pa.add($b({layout:Pa.objectProperty(Aa.layout),legends:Pa.legends,mark:Ie,pulse:vb})),je=T(oc);const Ce=Pa.add(jf({mark:Ie,pulse:je||vb}));Ie=T(Ce);Wb&&(Gd&&(fd=Pa.operators,
fd.pop(),oc&&fd.pop()),Pa.pushState(vb,je||Ie,$d),Tb?Vc(Aa,Pa,Le):Gd?Ed(Aa,Pa,Le):Pa.parse(Aa),Pa.popState(),Gd&&(oc&&fd.push(oc),fd.push(Ce)));ic&&(Ie=eb(ic,Ie,Pa));Wb=Pa.add(Za({pulse:Ie}));Tb=Pa.add(ub({pulse:T(Wb)},void 0,Pa.parent()));null!=Aa.name&&(de=Aa.name,Pa.addData(de,new Pb(Pa,nd,Wb,Tb)),Aa.on&&Aa.on.forEach(Qe=>{(Qe.insert||Qe.remove||Qe.toggle)&&l.error("Marks only support modify triggers.");Vd(Qe,Pa,de)}))}function eb(Aa,Pa,vb){const Wb=Aa.method,Tb=Aa.bound,ic=Aa.separation;Pa={separation:la(ic)?
vb.signalRef(ic.signal):ic,method:la(Wb)?vb.signalRef(Wb.signal):Wb,pulse:Pa};Aa.order&&(Pa.sort=vb.compareRef({field:Aa.order}));Tb&&(Aa=Tb.tolerance,Pa.boundTolerance=la(Aa)?vb.signalRef(Aa.signal):+Aa,Pa.boundScale=vb.scaleRef(Tb.scale),Pa.boundOrient=Tb.orient);return T(vb.add(Sf(Pa)))}function wb(Aa,Pa){const vb=Pa.config.legend,Wb=Aa.encode||{},Tb=Ga(Aa,vb),ic=Wb.legend||{},oc=ic.name||void 0,fd=ic.interactive,Wc=ic.style,nd={};let Kd=0,de,je;Nd.forEach(Ce=>Aa[Ce]?(nd[Ce]=Aa[Ce],Kd=Kd||Aa[Ce]):
0);Kd||l.error("Missing valid scale for legend.");var Gd=Hb(Aa,Pa.scaleType(Kd));const Le={title:null!=Aa.title,scales:nd,type:Gd,vgrad:"symbol"!==Gd&&Tb.isVertical()},$d=T(Pa.add(Ge(null,[Le]))),Ie=T(Pa.add(Fe(je={type:Gd,scale:Pa.scaleRef(Kd),count:Pa.objectProperty(Tb("tickCount")),limit:Pa.property(Tb("symbolLimit")),values:Pa.objectProperty(Aa.values),minstep:Pa.property(Aa.tickMinStep),formatType:Pa.property(Aa.formatType),formatSpecifier:Pa.property(Aa.format)})));"gradient"===Gd?(Gd=[Fb(Aa,
Kd,vb,Wb.gradient),nc(Aa,vb,Wb.labels,Ie)],je.count=je.count||Pa.signalRef(`max(2,2*floor((${C(Tb.gradientLength())})/100))`)):"discrete"===Gd?Gd=[Xb(Aa,Kd,vb,Wb.gradient,Ie),nc(Aa,vb,Wb.labels,Ie)]:(de=pc(Aa,vb),Gd=[md(Aa,vb,Wb,Ie,C(de.columns))],je.size=Ac(Aa,Pa,Gd[0].marks));Gd=[Ca({role:"legend-entry",from:$d,encode:{enter:{x:{value:0},y:{value:0}}},marks:Gd,layout:de,interactive:fd})];Le.title&&Gd.push(Hc(Aa,vb,Wb.title,$d));return Ka(Ca({role:"legend",from:$d,encode:d(Lb(Tb,Aa,vb),ic,od),marks:Gd,
aria:Tb("aria"),description:Tb("description"),zindex:Tb("zindex"),name:oc,interactive:fd,style:Wc}),Pa)}function Hb(Aa,Pa){let vb=Aa.type||"symbol";Aa.type||1!==ac(Aa)||!Aa.fill&&!Aa.stroke||(vb=N.isContinuous(Pa)?"gradient":N.isDiscretizing(Pa)?"discrete":"symbol");return"gradient"!==vb?vb:N.isDiscretizing(Pa)?"discrete":"gradient"}function ac(Aa){return Nd.reduce((Pa,vb)=>Pa+(Aa[vb]?1:0),0)}function Lb(Aa,Pa,vb){const Wb={enter:{},update:{}};g(Wb,{orient:Aa("orient"),offset:Aa("offset"),padding:Aa("padding"),
titlePadding:Aa("titlePadding"),cornerRadius:Aa("cornerRadius"),fill:Aa("fillColor"),stroke:Aa("strokeColor"),strokeWidth:vb.strokeWidth,strokeDash:vb.strokeDash,x:Aa("legendX"),y:Aa("legendY"),format:Pa.format,formatType:Pa.formatType});return Wb}function Ac(Aa,Pa,vb){const Wb=C(tc("size",Aa,vb));Aa=C(tc("strokeWidth",Aa,vb));(vb=pa("fontSize",vb[1].encode))||(vb=(vb=Pa.config.style["guide-label"])&&vb.fontSize);vb=C(vb);return w.parseExpression(`max(ceil(sqrt(${Wb})+${Aa}),${vb})`,Pa)}function tc(Aa,
Pa,vb){return Pa[Aa]?`scale("${Pa[Aa]}",datum)`:pa(Aa,vb[0].encode)}function pb(Aa,Pa){Aa=l.isString(Aa)?{text:Aa}:Aa;const vb=Ga(Aa,Pa.config.title),Wb=Aa.encode||{};var Tb=Wb.group||{};const ic=Tb.name||void 0,oc=Tb.interactive,fd=Tb.style,Wc=[],nd=T(Pa.add(Ge(null,[{}])));Wc.push(Ub(Aa,vb,Bb(Aa),nd));Aa.subtitle&&Wc.push(mc(Aa,vb,Wb.subtitle,nd));Aa={enter:{},update:{}};g(Aa,{orient:vb("orient"),anchor:vb("anchor"),align:{signal:Qd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:vb("limit"),frame:vb("frame"),offset:vb("offset")||0,padding:vb("subtitlePadding")});Tb=d(Aa,Tb,od);return Ka(Ca({role:"title",from:nd,encode:Tb,marks:Wc,aria:vb("aria"),description:vb("description"),zindex:vb("zindex"),name:ic,interactive:oc,style:fd}),Pa)}function Bb(Aa){const Pa=Aa.encode;return Pa&&Pa.title||l.extend({name:Aa.name,interactive:Aa.interactive,style:Aa.style},Pa)}function Ub(Aa,Pa,vb,Wb){var Tb={value:0};Tb={enter:{opacity:Tb},update:{opacity:{value:1}},exit:{opacity:Tb}};
g(Tb,{text:Aa.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Pa("dx"),dy:Pa("dy"),fill:Pa("color"),font:Pa("font"),fontSize:Pa("fontSize"),fontStyle:Pa("fontStyle"),fontWeight:Pa("fontWeight"),lineHeight:Pa("lineHeight")},{align:Pa("align"),angle:Pa("angle"),baseline:Pa("baseline")});return jb({type:"text",role:"title-text",style:"group-title",from:Wb,encode:Tb},vb)}function mc(Aa,Pa,vb,Wb){var Tb={value:0};
Tb={enter:{opacity:Tb},update:{opacity:{value:1}},exit:{opacity:Tb}};g(Tb,{text:Aa.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Pa("dx"),dy:Pa("dy"),fill:Pa("subtitleColor"),font:Pa("subtitleFont"),fontSize:Pa("subtitleFontSize"),fontStyle:Pa("subtitleFontStyle"),fontWeight:Pa("subtitleFontWeight"),lineHeight:Pa("subtitleLineHeight")},{align:Pa("align"),angle:Pa("angle"),baseline:Pa("baseline")});return jb({type:"text",
role:"title-subtitle",style:"group-subtitle",from:Wb,encode:Tb},vb)}function Bc(Aa,Pa){const vb=[];Aa.transform&&Aa.transform.forEach(Wb=>{vb.push(sc(Wb,Pa))});Aa.on&&Aa.on.forEach(Wb=>{Vd(Wb,Pa,Aa.name)});Pa.addDataPipeline(Aa.name,Cc(Aa,Pa,vb))}function Cc(Aa,Pa,vb){const Wb=[];let Tb=null,ic=!1,oc=!1,fd,Wc,nd,Kd;Aa.values?la(Aa.values)||Z(Aa.format)?(Wb.push(Qb(Pa,Aa)),Wb.push(Tb=Xc())):Wb.push(Tb=Xc({$ingest:Aa.values,$format:Aa.format})):Aa.url?Z(Aa.url)||Z(Aa.format)?(Wb.push(Qb(Pa,Aa)),Wb.push(Tb=
Xc())):Wb.push(Tb=Xc({$request:Aa.url,$format:Aa.format})):Aa.source&&(Tb=fd=l.array(Aa.source).map(de=>T(Pa.getData(de).output)),Wb.push(null));Aa=0;for(Wc=vb.length;Aa<Wc;++Aa)nd=vb[Aa],Kd=nd.metadata,Tb||Kd.source||Wb.push(Tb=Xc()),Wb.push(nd),Kd.generates&&(oc=!0),Kd.modifies&&!oc&&(ic=!0),Kd.source?Tb=nd:Kd.changes&&(Tb=null);fd&&(Wc=fd.length-1,Wb[0]=Ea({derive:ic,pulse:Wc?fd:fd[0]}),(ic||Wc)&&Wb.splice(1,0,Xc()));Tb||Wb.push(Xc());Wb.push(ub({}));return Wb}function Xc(Aa){Aa=Ge({},Aa);Aa.metadata=
{source:!0};return Aa}function Qb(Aa,Pa){return ue({url:Pa.url?Aa.property(Pa.url):void 0,async:Pa.async?Aa.property(Pa.async):void 0,values:Pa.values?Aa.property(Pa.values):void 0,format:Aa.objectProperty(Pa.format)})}function Ic(Aa,Pa,vb,Wb){let Tb;if(Pa&&l.hasOwnProperty(Pa,Aa))return Pa[Aa];if(l.hasOwnProperty(vb,Aa))return vb[Aa];if(Aa.startsWith("title")){switch(Aa){case "titleColor":Tb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Tb=Aa[5].toLowerCase()+Aa.slice(6)}return Wb["guide-title"][Tb]}if(Aa.startsWith("label")){switch(Aa){case "labelColor":Tb=
"fill";break;case "labelFont":case "labelFontSize":Tb=Aa[5].toLowerCase()+Aa.slice(6)}return Wb["guide-label"][Tb]}return null}function Dc(Aa){const Pa={};for(const vb of Aa)if(vb)for(const Wb in vb)Pa[Wb]=1;return Object.keys(Pa)}function uc(Aa,Pa,vb,Wb){var Tb=Ga(Aa,Pa);Pa=Aa.orient;let ic,oc;const fd={enter:ic={opacity:Id},update:oc={opacity:jd},exit:{opacity:Id}};g(fd,{stroke:Tb("domainColor"),strokeCap:Tb("domainCap"),strokeDash:Tb("domainDash"),strokeDashOffset:Tb("domainDashOffset"),strokeWidth:Tb("domainWidth"),
strokeOpacity:Tb("domainOpacity")});Tb={scale:Aa.scale,range:0};Aa={scale:Aa.scale,range:1};ic.x=oc.x=We(Pa,Tb,Id);ic.x2=oc.x2=We(Pa,Aa);ic.y=oc.y=uf(Pa,Tb,Id);ic.y2=oc.y2=uf(Pa,Aa);return jb({type:"rule",role:"axis-domain",from:Wb,encode:fd},vb)}function Tc(Aa,Pa,vb,Wb,Tb){var ic=Ga(Aa,Pa);Pa=Aa.orient;var oc=Aa.gridScale;const fd=kd(Pa,1,-1);a:{var Wc=Aa.offset;if(1!==fd)if(l.isObject(Wc)){for(var nd=Wc=l.extend({},Wc);null!=nd.mult;)if(l.isObject(nd.mult))nd=nd.mult=l.extend({},nd.mult);else{nd.mult=
la(fd)?{signal:`(${nd.mult}) * (${fd.signal})`}:nd.mult*fd;break a}nd.mult=fd}else Wc=la(fd)?{signal:`(${fd.signal}) * (${Wc||0})`}:fd*(Wc||0)}const Kd=Wc;let de;const je={enter:Wc={opacity:Id},update:de={opacity:jd},exit:nd={opacity:Id}};g(je,{stroke:ic("gridColor"),strokeCap:ic("gridCap"),strokeDash:ic("gridDash"),strokeDashOffset:ic("gridDashOffset"),strokeOpacity:ic("gridOpacity"),strokeWidth:ic("gridWidth")});Aa={scale:Aa.scale,field:"value",band:Tb.band,extra:Tb.extra,offset:Tb.offset,round:ic("tickRound")};
ic=We(Pa,{signal:"height"},{signal:"width"});Tb=oc?{scale:oc,range:0,mult:fd,offset:Kd}:{value:0,offset:Kd};oc=oc?{scale:oc,range:1,mult:fd,offset:Kd}:l.extend(ic,{mult:fd,offset:Kd});Wc.x=de.x=We(Pa,Aa,Tb);Wc.y=de.y=uf(Pa,Aa,Tb);Wc.x2=de.x2=uf(Pa,oc);Wc.y2=de.y2=We(Pa,oc);nd.x=We(Pa,Aa);nd.y=uf(Pa,Aa);return jb({type:"rule",role:"axis-grid",key:"value",from:Wb,encode:je},vb)}function ad(Aa,Pa,vb,Wb,Tb,ic){const oc=Ga(Aa,Pa);Pa=Aa.orient;const fd=kd(Pa,-1,1);let Wc,nd,Kd;const de={enter:Wc={opacity:Id},
update:Kd={opacity:jd},exit:nd={opacity:Id}};g(de,{stroke:oc("tickColor"),strokeCap:oc("tickCap"),strokeDash:oc("tickDash"),strokeDashOffset:oc("tickDashOffset"),strokeOpacity:oc("tickOpacity"),strokeWidth:oc("tickWidth")});Tb=Ue(Tb);Tb.mult=fd;Aa={scale:Aa.scale,field:"value",band:ic.band,extra:ic.extra,offset:ic.offset,round:oc("tickRound")};Kd.y=Wc.y=We(Pa,Id,Aa);Kd.y2=Wc.y2=We(Pa,Tb);nd.x=We(Pa,Aa);Kd.x=Wc.x=uf(Pa,Id,Aa);Kd.x2=Wc.x2=uf(Pa,Tb);nd.y=uf(Pa,Aa);return jb({type:"rule",role:"axis-tick",
key:"value",from:Wb,encode:de},vb)}function ld(Aa,Pa,vb,Wb,Tb){return{signal:'flush(range("'+Aa+'"), scale("'+Aa+'", datum.value), '+Pa+","+vb+","+Wb+","+Tb+")"}}function Cd(Aa,Pa,vb,Wb,Tb,ic){Pa=Ga(Aa,Pa);const oc=Aa.orient;Aa=Aa.scale;var fd=kd(oc,-1,1),Wc=C(Pa("labelFlush")),nd=C(Pa("labelFlushOffset")),Kd=Pa("labelAlign"),de=Pa("labelBaseline");let je=0===Wc||!!Wc;var Gd=Ue(Tb);Gd.mult=fd;Gd.offset=Ue(Pa("labelPadding")||0);Gd.offset.mult=fd;fd={scale:Aa,field:"value",band:.5,offset:Ua(ic.offset,
Pa("labelOffset"))};ic=je?ld(Aa,Wc,'"left"','"right"','"center"'):{value:"center"};Tb=la(oc)?yf(`${oc.signal} === '${"right"}'`,"left","right"):"right"===oc?{value:"left"}:{value:"right"};ic=We(oc,ic,Tb);Tb=We(oc,mf(oc,"bottom","top"),je?ld(Aa,Wc,'"top"','"bottom"','"middle"'):{value:"middle"});Wc=ld(Aa,Wc,`-(${nd})`,nd,0);je=je&&nd;Gd={opacity:Id,x:We(oc,fd,Gd),y:uf(oc,fd,Gd)};Gd={enter:Gd,update:nd={opacity:jd,text:{field:"label"},x:Gd.x,y:Gd.y,align:ic,baseline:Tb},exit:{opacity:Id,x:Gd.x,y:Gd.y}};
g(Gd,{dx:!Kd&&je?We(oc,Wc):null,dy:!de&&je?uf(oc,Wc):null});g(Gd,{angle:Pa("labelAngle"),fill:Pa("labelColor"),fillOpacity:Pa("labelOpacity"),font:Pa("labelFont"),fontSize:Pa("labelFontSize"),fontWeight:Pa("labelFontWeight"),fontStyle:Pa("labelFontStyle"),limit:Pa("labelLimit"),lineHeight:Pa("labelLineHeight")},{align:Kd,baseline:de});Kd=Pa("labelBound");de=(de=Pa("labelOverlap"))||Kd?{separation:Pa("labelSeparation"),method:de,order:"datum.index",bound:Kd?{scale:Aa,orient:oc,tolerance:Kd}:null}:
void 0;nd.align!==ic&&(nd.align=nf(nd.align,ic));nd.baseline!==Tb&&(nd.baseline=nf(nd.baseline,Tb));return jb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Wb,encode:Gd,overlap:de},vb)}function Dd(Aa,Pa,vb,Wb){Pa=Ga(Aa,Pa);const Tb=Aa.orient,ic=kd(Tb,-1,1);let oc,fd;const Wc={enter:oc={opacity:Id,anchor:Ue(Pa("titleAnchor",null)),align:{signal:Qd}},update:fd=l.extend({},oc,{opacity:jd,text:Ue(Aa.title)}),exit:{opacity:Id}};Aa={signal:`lerp(range("${Aa.scale}"), ${Ha(0,1,.5)})`};
fd.x=We(Tb,Aa);fd.y=uf(Tb,Aa);Aa=la(ic)?{signal:`(${ic.signal}) * ${90}`}:{value:90*ic};oc.angle=We(Tb,Id,Aa);oc.baseline=We(Tb,mf(Tb,"bottom","top"),{value:"bottom"});fd.angle=oc.angle;fd.baseline=oc.baseline;g(Wc,{fill:Pa("titleColor"),fillOpacity:Pa("titleOpacity"),font:Pa("titleFont"),fontSize:Pa("titleFontSize"),fontStyle:Pa("titleFontStyle"),fontWeight:Pa("titleFontWeight"),limit:Pa("titleLimit"),lineHeight:Pa("titleLineHeight")},{align:Pa("titleAlign"),angle:Pa("titleAngle"),baseline:Pa("titleBaseline")});
Ud(Pa,Tb,Wc,vb);Wc.update.align=nf(Wc.update.align,oc.align);Wc.update.angle=nf(Wc.update.angle,oc.angle);Wc.update.baseline=nf(Wc.update.baseline,oc.baseline);return jb({type:"text",role:"axis-title",style:"guide-title",from:Wb,encode:Wc},vb)}function Ud(Aa,Pa,vb,Wb){const Tb=(oc,fd)=>null!=oc?(vb.update[fd]=nf(Ue(oc),vb.update[fd]),!1):f(fd,Wb)?!1:!0,ic=Tb(Aa("titleX"),"x");Aa=Tb(Aa("titleY"),"y");vb.enter.auto=Aa===ic?Ue(Aa):We(Pa,Ue(Aa),Ue(ic))}function ae(Aa,Pa,vb){const Wb=l.array(Aa.signals),
Tb=l.array(Aa.scales);vb||Wb.forEach(ic=>K(ic,Pa));l.array(Aa.projections).forEach(ic=>{{const oc=Pa.config.projection||{},fd={};for(const Wc in ic)"name"!==Wc&&(fd[Wc]=$a(ic[Wc],Wc,Pa));for(const Wc in oc)null==fd[Wc]&&(fd[Wc]=$a(oc[Wc],Wc,Pa));Pa.addProjection(ic.name,fd)}});Tb.forEach(ic=>{{const oc=ic.type||"linear";N.isValidScaleType(oc)||l.error("Unrecognized scale type: "+l.stringValue(oc));Pa.addScale(ic.name,{type:oc,domain:void 0})}});l.array(Aa.data).forEach(ic=>Bc(ic,Pa));Tb.forEach(ic=>
{{const Wc=Pa.getScale(ic.name).params;let nd;Wc.domain=W(ic.domain,ic,Pa);null!=ic.range&&(Wc.range=db(ic,Pa,Wc));if(null!=ic.interpolate){var oc=ic.interpolate,fd=Wc;fd.interpolate=Da(oc.type||oc);null!=oc.gamma&&(fd.interpolateGamma=Da(oc.gamma))}null!=ic.nice&&(oc=ic.nice,oc=l.isObject(oc)?{interval:Da(oc.interval),step:Da(oc.step)}:Da(oc),Wc.nice=oc);null!=ic.bins&&(oc=ic.bins,oc=oc.signal||l.isArray(oc)?ta(oc,Pa):Pa.objectProperty(oc),Wc.bins=oc);for(nd in ic)l.hasOwnProperty(Wc,nd)||"name"===
nd||(Wc[nd]=Da(ic[nd],Pa))}});(vb||Wb).forEach(ic=>Ya(ic,Pa));l.array(Aa.axes).forEach(ic=>{var oc=Pa.config,fd=oc.style,Wc=oc.axis,nd="band"===Pa.scaleType(ic.scale)&&oc.axisBand,Kd=ic.orient;if(la(Kd)){var de=Dc([oc.axisX,oc.axisY]);var je=Dc([oc.axisTop,oc.axisBottom,oc.axisLeft,oc.axisRight]);var Gd={};for(ne of de)Gd[ne]=We(Kd,Ic(ne,oc.axisX,Wc,fd),Ic(ne,oc.axisY,Wc,fd));de={};for(ne of je){je=de;var Le=ne;var $d=Kd.signal;var Ie=Ic(ne,oc.axisTop,Wc,fd),Ce=Ic(ne,oc.axisBottom,Wc,fd),Qe=Ic(ne,
oc.axisLeft,Wc,fd),Uf=Ic(ne,oc.axisRight,Wc,fd);$d={signal:(null!=Qe?`${$d} === '${"left"}' ? (${Pe(Qe)}) : `:"")+(null!=Ce?`${$d} === '${"bottom"}' ? (${Pe(Ce)}) : `:"")+(null!=Uf?`${$d} === '${"right"}' ? (${Pe(Uf)}) : `:"")+(null!=Ie?`${$d} === '${"top"}' ? (${Pe(Ie)}) : `:"")+"(null)"};je[Le]=$d}}else Gd="top"===Kd||"bottom"===Kd?oc.axisX:oc.axisY,de=oc["axis"+Kd[0].toUpperCase()+Kd.slice(1)];Gd=Gd||de||nd?l.extend({},Wc,Gd,de,nd):Wc;var ne=ic.encode||{};oc=ne.axis||{};fd=oc.name||void 0;Wc=oc.interactive;
nd=oc.style;$d=Kd=Ga(ic,Gd);de=$d("tickBand");je=$d("tickOffset");de?de.signal?(Le={signal:`(${de.signal}) === 'extent' ? 1 : 0.5`},$d={signal:`(${de.signal}) === 'extent'`},l.isObject(je)||(je={signal:`(${de.signal}) === 'extent' ? 0 : ${je}`})):"extent"===de?(Le=1,$d=!0,je=0):(Le=.5,$d=!1):(Le=$d("bandPosition"),$d=$d("tickExtra"));Le={extra:$d,band:Le,offset:je};$d={scale:ic.scale,ticks:!!Kd("ticks"),labels:!!Kd("labels"),grid:!!Kd("grid"),domain:!!Kd("domain"),title:null!=ic.title};de=T(Pa.add(Ge({},
[$d])));Ie=T(Pa.add(Be({scale:Pa.scaleRef(ic.scale),extra:Pa.property(Le.extra),count:Pa.objectProperty(ic.tickCount),values:Pa.objectProperty(ic.values),minstep:Pa.property(ic.tickMinStep),formatType:Pa.property(ic.formatType),formatSpecifier:Pa.property(ic.format)})));je=[];$d.grid&&je.push(Tc(ic,Gd,ne.grid,Ie,Le));if($d.ticks){var sf=Kd("tickSize");je.push(ad(ic,Gd,ne.ticks,Ie,sf,Le))}$d.labels&&(sf=$d.ticks?sf:0,je.push(Cd(ic,Gd,ne.labels,Ie,sf,Le)));$d.domain&&je.push(uc(ic,Gd,ne.domain,de));
$d.title&&je.push(Dd(ic,Gd,ne.title,de));sf=Kd;Gd={enter:{},update:{}};g(Gd,{orient:sf("orient"),offset:sf("offset")||0,position:P(ic.position,0),titlePadding:sf("titlePadding"),minExtent:sf("minExtent"),maxExtent:sf("maxExtent"),range:{signal:`abs(span(range("${ic.scale}")))`},translate:sf("translate"),format:ic.format,formatType:ic.formatType});ic=Gd;return ic=Ka(Ca({role:"axis",from:de,encode:d(ic,oc,od),marks:je,aria:Kd("aria"),description:Kd("description"),zindex:Kd("zindex"),name:fd,interactive:Wc,
style:nd}),Pa)});l.array(Aa.marks).forEach(ic=>Ka(ic,Pa));l.array(Aa.legends).forEach(ic=>wb(ic,Pa));Aa.title&&pb(Aa.title,Pa);Pa.parseLambdas();return Pa}function oe(Aa,Pa){var vb=Pa.config;const Wb=T(Pa.root=Pa.add(new R("operator",void 0,void 0,void 0))),Tb=fe(Aa,vb);Tb.forEach(fd=>K(fd,Pa));Pa.description=Aa.description||vb.description;Pa.eventConfig=vb.events;Pa.legends=Pa.objectProperty(vb.legend&&vb.legend.layout);Pa.locale=vb.locale;vb=Pa.add(Ge());const ic=Pa.add(Xf(F(d({enter:{x:{value:0},
y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},Aa.encode),"group","frame",Aa.style,Pa,{pulse:T(vb)}))),oc=Pa.add($b({layout:Pa.objectProperty(Aa.layout),legends:Pa.legends,autosize:Pa.signalRef("autosize"),mark:Wb,pulse:T(ic)}));Pa.operators.pop();Pa.pushState(T(ic),T(oc),null);ae(Aa,Pa,Tb);Pa.operators.push(oc);Aa=Pa.add(jf({mark:Wb,pulse:T(oc)}));Aa=Pa.add(Za({pulse:T(Aa)}));Aa=Pa.add(ub({pulse:T(Aa)}));Pa.addData("root",new Pb(Pa,vb,vb,Aa));return Pa}function De(Aa,Pa){return Pa&&
Pa.signal?{name:Aa,update:Pa.signal}:{name:Aa,value:Pa}}function fe(Aa,Pa){const vb=oc=>P(Aa[oc],Pa[oc]),Wb=[De("background",vb("background")),De("autosize",v(vb("autosize"))),De("padding",u(vb("padding"))),De("width",vb("width")||0),De("height",vb("height")||0)],Tb=Wb.reduce((oc,fd)=>(oc[fd.name]=fd,oc),{}),ic={};l.array(Aa.signals).forEach(oc=>{l.hasOwnProperty(Tb,oc.name)?oc=l.extend(Tb[oc.name],oc):Wb.push(oc);ic[oc.name]=oc});l.array(Pa.signals).forEach(oc=>{l.hasOwnProperty(ic,oc.name)||l.hasOwnProperty(Tb,
oc.name)||Wb.push(oc)});return Wb}function ef(Aa,Pa){this.config=Aa||{};this.options=Pa||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Ze(Aa){this.config=Aa.config;this.options=Aa.options;this.legends=Aa.legends;this.field=Object.create(Aa.field);
this.signals=Object.create(Aa.signals);this.lambdas=Object.create(Aa.lambdas);this.scales=Object.create(Aa.scales);this.events=Object.create(Aa.events);this.data=Object.create(Aa.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++Aa._nextsub[0];this._nextsub=Aa._nextsub;this._parent=Aa._parent.slice();this._encode=Aa._encode.slice();this._lookup=Aa._lookup.slice();this._markpath=Aa._markpath}function df(Aa){return(l.isArray(Aa)?Zd:he)(Aa)}function Zd(Aa){const Pa=Aa.length;
let vb="[";for(let Wb=0;Wb<Pa;++Wb){const Tb=Aa[Wb];vb+=(0<Wb?",":"")+(l.isObject(Tb)?Tb.signal||df(Tb):l.stringValue(Tb))}return vb+"]"}function he(Aa){let Pa="{",vb=0,Wb,Tb;for(Wb in Aa)Tb=Aa[Wb],Pa+=(1<++vb?",":"")+l.stringValue(Wb)+":"+(l.isObject(Tb)?Tb.signal||df(Tb):l.stringValue(Tb));return Pa+"}"}function zf(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},
image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",
fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,
titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",
symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Ue=Aa=>l.isObject(Aa)&&!l.isArray(Aa)?l.extend({},
Aa):{value:Aa},Nf=Aa=>l.isString(Aa)?l.stringValue(Aa):Aa.signal?`(${Aa.signal})`:D(Aa),me=(Aa,Pa,vb,Wb)=>`(${Aa}(${[Pa,vb,Wb].map(n).join(",")})+'')`,te=["value","update","init","react","bind"],kf=ja("key"),we={code:"_.$value",ast:{type:"Identifier",value:"value"}},Od=Aa=>(Pa,vb,Wb)=>new R(Aa,vb,Pa||void 0,Wb),Xd=Od("aggregate"),Be=Od("axisticks"),jf=Od("bound"),Ge=Od("collect"),Td=Od("compare"),Ye=Od("datajoin"),Xf=Od("encode"),Gc=Od("expression"),xe=Od("facet"),le=Od("field"),kc=Od("key"),Fe=Od("legendentries"),
ue=Od("load"),lf=Od("mark"),Yf=Od("multiextent"),If=Od("multivalues"),Sf=Od("overlap"),Bf=Od("params"),qe=Od("prefacet"),yc=Od("projection"),wa=Od("proxy"),Ea=Od("relay"),Za=Od("render"),Cb=Od("scale"),ub=Od("sieve"),Yb=Od("sortitems"),$b=Od("viewlayout"),Oc=Od("values");let gd=0;const Mc={min:"min",max:"max",count:"sum"},Nd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),od={name:1,style:1,interactive:1},Id={value:0},jd={value:1},Qd=Ha(l.stringValue("left"),l.stringValue("right"),
l.stringValue("center")),ie=Ha('"top"','"bottom"','"middle"'),Gf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Ha('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Qd}`,tf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${ie}) : "top"`;Pb.fromEntries=
function(Aa,Pa){const vb=Pa.length,Wb=Pa[vb-1],Tb=Pa[vb-2];let ic=Pa[0],oc=null,fd=1;ic&&"load"===ic.type&&(ic=Pa[1]);for(Aa.add(Pa[0]);fd<vb;++fd)Pa[fd].params.pulse=T(Pa[fd-1]),Aa.add(Pa[fd]),"aggregate"===Pa[fd].type&&(oc=Pa[fd]);return new Pb(Aa,ic,Tb,Wb,oc)};Pb.prototype={countsRef(Aa,Pa,vb){const Wb=this.counts||(this.counts={}),Tb=gc(Pa);if(null!=Tb){Aa=this.scope;var ic=Wb[Tb]}ic?vb&&vb.field&&Eb(Aa,ic.agg.params,vb):(ic={groupby:Aa.fieldRef(Pa,"key"),pulse:T(this.output)},vb&&vb.field&&Eb(Aa,
ic,vb),vb=Aa.add(Xd(ic)),ic=Aa.add(Ge({pulse:T(vb)})),ic={agg:vb,ref:T(ic)},null!=Tb&&(Wb[Tb]=ic));return ic.ref},tuplesRef(){return T(this.values)},extentRef(Aa,Pa){return zc(Aa,this,"extent","extent",Pa,!1)},domainRef(Aa,Pa){return zc(Aa,this,"domain","values",Pa,!1)},valuesRef(Aa,Pa,vb){return zc(Aa,this,"vals","values",Pa,vb||!0)},lookupRef(Aa,Pa){return zc(Aa,this,"lookup","tupleindex",Pa,!1)},indataRef(Aa,Pa){return zc(Aa,this,"indata","tupleindex",Pa,!0,!0)}};const kd=(Aa,Pa,vb)=>{la(Aa)?(Aa=
Aa.signal,Pa=yf(`${Aa} === '${"left"}' || ${Aa} === '${"top"}'`,Pa,vb)):Pa="left"===Aa||"top"===Aa?Pa:vb;return Pa},We=(Aa,Pa,vb)=>{la(Aa)?(Aa=Aa.signal,Pa=Zf(`${Aa} === '${"top"}' || ${Aa} === '${"bottom"}'`,Pa,vb)):Pa="bottom"===Aa||"top"===Aa?Pa:vb;return Pa},uf=(Aa,Pa,vb)=>{la(Aa)?(Aa=Aa.signal,Pa=Zf(`${Aa} !== '${"top"}' && ${Aa} !== '${"bottom"}'`,Pa,vb)):Pa="bottom"===Aa||"top"===Aa?vb:Pa;return Pa},mf=(Aa,Pa,vb)=>la(Aa)?yf(`${Aa.signal} === '${"top"}'`,Pa,vb):"top"===Aa?{value:Pa}:{value:vb},
Zf=(Aa,Pa,vb)=>{Pa=null!=Pa?Ue(Pa):Pa;vb=null!=vb?Ue(vb):vb;if(null!=Pa&&1!==Object.keys(Pa).length||null!=vb&&1!==Object.keys(vb).length)return[l.extend({test:Aa},Pa)].concat(vb||[]);Pa=Pa?Pa.signal||l.stringValue(Pa.value):null;vb=vb?vb.signal||l.stringValue(vb.value):null;return{signal:`${Aa} ? (${Pa}) : (${vb})`}},yf=(Aa,Pa,vb)=>({signal:`${Aa} ? (${Pe(Pa)}) : (${Pe(vb)})`}),Pe=Aa=>la(Aa)?Aa.signal:null==Aa?null:l.stringValue(Aa),nf=(Aa,Pa)=>{const vb=Aa.signal;return vb&&vb.endsWith("(null)")?
{signal:vb.slice(0,-6)+Pa.signal}:Aa};ef.prototype=Ze.prototype={parse(Aa){return ae(Aa,this)},fork(){return new Ze(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(Aa){this.operators.push(Aa);Aa.id=this.id();Aa.refs&&(Aa.refs.forEach(Pa=>{Pa.$ref=
Aa.id}),Aa.refs=null);return Aa},proxy(Aa){Aa=Aa instanceof R?T(Aa):Aa;return this.add(wa({value:Aa}))},addStream(Aa){this.streams.push(Aa);Aa.id=this.id();return Aa},addUpdate(Aa){this.updates.push(Aa);return Aa},finish(){function Aa(Wb,Tb,ic){Wb&&(Wb=Wb.data||(Wb.data={}),Tb=Wb[Tb]||(Wb[Tb]=[]),Tb.push(ic))}let Pa,vb;this.root&&(this.root.root=!0);for(Pa in this.signals)this.signals[Pa].signal=Pa;for(Pa in this.scales)this.scales[Pa].scale=Pa;for(Pa in this.data){vb=this.data[Pa];Aa(vb.input,Pa,
"input");Aa(vb.output,Pa,"output");Aa(vb.values,Pa,"values");for(const Wb in vb.index)Aa(vb.index[Wb],Pa,"index:"+Wb)}return this},pushState(Aa,Pa,vb){this._encode.push(T(this.add(ub({pulse:Aa}))));this._parent.push(Pa);this._lookup.push(vb?T(this.proxy(vb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const Aa=
this._markpath;return++Aa[Aa.length-1]},fieldRef(Aa,Pa){if(l.isString(Aa))return ja(Aa,Pa);Aa.signal||l.error("Unsupported field reference: "+l.stringValue(Aa));Aa=Aa.signal;var vb=this.field[Aa];vb||(vb={name:this.signalRef(Aa)},Pa&&(vb.as=Pa),this.field[Aa]=vb=T(this.add(le(vb))));return vb},compareRef(Aa){let Pa=!1;const vb=Tb=>la(Tb)?(Pa=!0,this.signalRef(Tb.signal)):Tb&&Tb.expr?(Pa=!0,this.exprRef(Tb.expr)):Tb,Wb=l.array(Aa.field).map(vb);Aa=l.array(Aa.order).map(vb);return Pa?T(this.add(Td({fields:Wb,
orders:Aa}))):{$compare:Wb,$order:Aa}},keyRef(Aa,Pa){let vb=!1;const Wb=this.signals;Aa=l.array(Aa).map(Tb=>la(Tb)?(vb=!0,T(Wb[Tb.signal])):Tb);return vb?T(this.add(kc({fields:Aa,flat:Pa}))):fa(Aa,Pa)},sortRef(Aa){if(!Aa)return Aa;const Pa=ha(Aa.op,Aa.field);Aa=Aa.order||"ascending";return Aa.signal?T(this.add(Td({fields:Pa,orders:this.signalRef(Aa.signal)}))):{$compare:Pa,$order:Aa}},event(Aa,Pa){const vb=Aa+":"+Pa;if(!this.events[vb]){const Wb=this.id();this.streams.push({id:Wb,source:Aa,type:Pa});
this.events[vb]=Wb}return this.events[vb]},hasOwnSignal(Aa){return l.hasOwnProperty(this.signals,Aa)},addSignal(Aa,Pa){this.hasOwnSignal(Aa)&&l.error("Duplicate signal name: "+l.stringValue(Aa));Pa=Pa instanceof R?Pa:this.add(new R("operator",Pa,void 0,void 0));return this.signals[Aa]=Pa},getSignal(Aa){this.signals[Aa]||l.error("Unrecognized signal name: "+l.stringValue(Aa));return this.signals[Aa]},signalRef(Aa){if(this.signals[Aa])return T(this.signals[Aa]);l.hasOwnProperty(this.lambdas,Aa)||(this.lambdas[Aa]=
this.add(new R("operator",null,void 0,void 0)));return T(this.lambdas[Aa])},parseLambdas(){const Aa=Object.keys(this.lambdas);for(let vb=0,Wb=Aa.length;vb<Wb;++vb){var Pa=Aa[vb];const Tb=w.parseExpression(Pa,this);Pa=this.lambdas[Pa];Pa.params=Tb.$params;Pa.update=Tb.$expr}},property(Aa){return Aa&&Aa.signal?this.signalRef(Aa.signal):Aa},objectProperty(Aa){return Aa&&l.isObject(Aa)?this.signalRef(Aa.signal||df(Aa)):Aa},exprRef(Aa,Pa){Aa={expr:w.parseExpression(Aa,this)};Pa&&(Aa.expr.$name=Pa);return T(this.add(Gc(Aa)))},
addBinding(Aa,Pa){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(Aa));this.bindings.push(l.extend({signal:Aa},Pa))},addScaleProj(Aa,Pa){l.hasOwnProperty(this.scales,Aa)&&l.error("Duplicate scale or projection name: "+l.stringValue(Aa));this.scales[Aa]=this.add(Pa)},addScale(Aa,Pa){this.addScaleProj(Aa,Cb(Pa))},addProjection(Aa,Pa){this.addScaleProj(Aa,yc(Pa))},getScale(Aa){this.scales[Aa]||l.error("Unrecognized scale name: "+l.stringValue(Aa));return this.scales[Aa]},
scaleRef(Aa){return T(this.getScale(Aa))},scaleType(Aa){return this.getScale(Aa).params.type},projectionRef(Aa){return this.scaleRef(Aa)},projectionType(Aa){return this.scaleType(Aa)},addData(Aa,Pa){l.hasOwnProperty(this.data,Aa)&&l.error("Duplicate data set name: "+l.stringValue(Aa));return this.data[Aa]=Pa},getData(Aa){this.data[Aa]||l.error("Undefined data set name: "+l.stringValue(Aa));return this.data[Aa]},addDataPipeline(Aa,Pa){l.hasOwnProperty(this.data,Aa)&&l.error("Duplicate data set name: "+
l.stringValue(Aa));return this.addData(Aa,Pb.fromEntries(this,Pa))}};k.AxisDomainRole="axis-domain";k.AxisGridRole="axis-grid";k.AxisLabelRole="axis-label";k.AxisRole="axis";k.AxisTickRole="axis-tick";k.AxisTitleRole="axis-title";k.DataScope=Pb;k.FrameRole="frame";k.LegendEntryRole="legend-entry";k.LegendLabelRole="legend-label";k.LegendRole="legend";k.LegendSymbolRole="legend-symbol";k.LegendTitleRole="legend-title";k.MarkRole="mark";k.Scope=ef;k.ScopeRole="scope";k.config=zf;k.parse=function(Aa,
Pa,vb){l.isObject(Aa)||l.error("Input Vega specification must be an object.");Pa=l.mergeConfig(zf(),Pa,Aa.config);return oe(Aa,new ef(Pa,vb)).toRuntime()};k.signal=K;k.signalUpdates=Ya;k.stream=V;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[63]=function(Ja,A,rb,E){function k(K){if(K&&K.__esModule)return K;var R=Object.create(null);K&&Object.keys(K).forEach(function(T){if("default"!==T){var ja=Object.getOwnPropertyDescriptor(K,T);Object.defineProperty(R,T,ja.get?ja:{enumerable:!0,get:function(){return K[T]}})}});R["default"]=K;return Object.freeze(R)}Object.defineProperty(E,"__esModule",{value:!0});var l=A(14),w=A(26),H=A(28),N=A(37),x=A(38),v=A(42),u=A(47),m=A(49),g=A(50),d=A(51),f=A(53);rb=A(54);Ja=A(55);var a=A(27),
e=A(18),n=A(25),y=A(36),B=A(35),D=A(41),O=A(60),M=A(20),F=A(58),z=A(62),G=A(59);A=k(H);N=k(N);x=k(x);v=k(v);u=k(u);m=k(m);g=k(g);d=k(d);f=k(f);rb=k(rb);Ja=k(Ja);l.extend(w.transforms,A,N,x,v,u,g,m,d,f,rb,Ja);Object.keys(l).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return l[K]}})});Object.keys(a).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return a[K]}})});Object.keys(e).forEach(function(K){"default"!==
K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return e[K]}})});Object.keys(n).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return n[K]}})});Object.keys(y).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return y[K]}})});Object.defineProperty(E,"Dataflow",{enumerable:!0,get:function(){return w.Dataflow}});Object.defineProperty(E,"EventStream",{enumerable:!0,get:function(){return w.EventStream}});Object.defineProperty(E,
"MultiPulse",{enumerable:!0,get:function(){return w.MultiPulse}});Object.defineProperty(E,"Operator",{enumerable:!0,get:function(){return w.Operator}});Object.defineProperty(E,"Parameters",{enumerable:!0,get:function(){return w.Parameters}});Object.defineProperty(E,"Pulse",{enumerable:!0,get:function(){return w.Pulse}});Object.defineProperty(E,"Transform",{enumerable:!0,get:function(){return w.Transform}});Object.defineProperty(E,"changeset",{enumerable:!0,get:function(){return w.changeset}});Object.defineProperty(E,
"definition",{enumerable:!0,get:function(){return w.definition}});Object.defineProperty(E,"ingest",{enumerable:!0,get:function(){return w.ingest}});Object.defineProperty(E,"isTuple",{enumerable:!0,get:function(){return w.isTuple}});Object.defineProperty(E,"transform",{enumerable:!0,get:function(){return w.transform}});Object.defineProperty(E,"transforms",{enumerable:!0,get:function(){return w.transforms}});Object.defineProperty(E,"tupleid",{enumerable:!0,get:function(){return w.tupleid}});Object.defineProperty(E,
"interpolate",{enumerable:!0,get:function(){return B.interpolate}});Object.defineProperty(E,"interpolateColors",{enumerable:!0,get:function(){return B.interpolateColors}});Object.defineProperty(E,"interpolateRange",{enumerable:!0,get:function(){return B.interpolateRange}});Object.defineProperty(E,"quantizeInterpolator",{enumerable:!0,get:function(){return B.quantizeInterpolator}});Object.defineProperty(E,"scale",{enumerable:!0,get:function(){return B.scale}});Object.defineProperty(E,"scheme",{enumerable:!0,
get:function(){return B.scheme}});Object.defineProperty(E,"projection",{enumerable:!0,get:function(){return D.projection}});Object.defineProperty(E,"View",{enumerable:!0,get:function(){return O.View}});Object.defineProperty(E,"defaultLocale",{enumerable:!0,get:function(){return M.defaultLocale}});Object.defineProperty(E,"formatLocale",{enumerable:!0,get:function(){return M.numberFormatDefaultLocale}});Object.defineProperty(E,"locale",{enumerable:!0,get:function(){return M.locale}});Object.defineProperty(E,
"resetDefaultLocale",{enumerable:!0,get:function(){return M.resetDefaultLocale}});Object.defineProperty(E,"timeFormatLocale",{enumerable:!0,get:function(){return M.timeFormatDefaultLocale}});Object.defineProperty(E,"expressionFunction",{enumerable:!0,get:function(){return F.expressionFunction}});Object.defineProperty(E,"parse",{enumerable:!0,get:function(){return z.parse}});Object.defineProperty(E,"runtimeContext",{enumerable:!0,get:function(){return G.context}});E.version="5.19.1"};
shadow$provide[64]=function(Ja,A,rb,E){var k=A(24).Buffer;(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?w(E):"function"===typeof define&&define.amd?define(["exports"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,w(l.vegaLite={}))})(this,function(l){function w(h,I,c){h.fields=I||[];h.fname=c;return h}function H(h){return 1===h.length?Fk(h[0]):Gk(h)}function N(h){function I(){c.push(sa+h.substring(Ba,cb));sa="";Ba=cb+1}const c=[],t=h.length;let L=null,ka=0,sa="",Ba,cb,nb;h+=
"";for(Ba=cb=0;cb<t;++cb)if(nb=h[cb],"\\"===nb)sa+=h.substring(Ba,cb),sa+=h.substring(++cb,++cb),Ba=cb;else if(nb===L)I(),L=null,ka=-1;else if(!L)if(Ba===ka&&'"'===nb)Ba=cb+1,L=nb;else if(Ba===ka&&"'"===nb)Ba=cb+1,L=nb;else if("."===nb&&!ka)cb>Ba?I():Ba=cb+1;else if("["===nb)cb>Ba&&I(),ka=Ba=cb+1;else if("]"===nb){if(!ka)throw Error("Access path missing open bracket: "+h);0<ka&&I();ka=0;Ba=cb+1}if(ka)throw Error("Access path missing closing bracket: "+h);if(L)throw Error("Access path missing closing quote: "+
h);cb>Ba&&(cb++,I());return c}function x(h,I,c){I=[I].concat([].slice.call(c));console[h].apply(console,I)}function v(h){return h===Object(h)}function u(...h){return h.reduce((I,c)=>{for(const t in c)"signals"===t?I.signals=g(I.signals,c.signals):m(I,t,c[t],"legend"===t?{layout:1}:"style"===t?!0:null);return I},{})}function m(h,I,c,t){if("__proto__"!==I){var L;if(v(c)&&!Je(c))for(L in h=v(h[I])?h[I]:h[I]={},c)t&&(!0===t||t[L])?m(h,L,c[L]):"__proto__"!==L&&(h[L]=c[L]);else h[I]=c}}function g(h,I){function c(ka){t[ka.name]||
(t[ka.name]=1,L.push(ka))}if(null==h)return I;const t={},L=[];I.forEach(c);h.forEach(c);return L}function d(h){return null!=h?Je(h)?h:[h]:[]}function f(h){return"boolean"===typeof h}function a(h){return"number"===typeof h}function e(h){return"string"===typeof h}function n(h){return Je(h)?"["+h.map(n)+"]":v(h)||e(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}function y(h){const I={},c=h.length;for(let t=0;t<c;++t)I[h[t]]=!0;return I}function B(h,I){if(h.not)B(h.not,
I);else if(h.and)for(const c of h.and)B(c,I);else if(h.or)for(const c of h.or)B(c,I);else I(h)}function D(h,I){return h.not?{not:D(h.not,I)}:h.and?{and:h.and.map(c=>D(c,I))}:h.or?{or:h.or.map(c=>D(c,I))}:I(h)}function O(h,I){const c={};for(const t of I)ii.call(h,t)&&(c[t]=h[t]);return c}function M(h,I){h=Object.assign({},h);for(const c of I)delete h[c];return h}function F(h){if(a(h))return h;h=e(h)?h:qh(h);if(250>h.length)return h;let I=0;for(let c=0;c<h.length;c++){const t=h.charCodeAt(c);I=(I<<
5)-I+t;I&=I}return I}function z(h){return!1===h||null===h}function G(h,I){return-1<h.indexOf(I)}function K(h,I){let c=0;for(const t of h.entries()){const [L,ka]=t;if(I(ka,L,c++))return!0}return!1}function R(h,I){let c=0;for(const t of h.entries()){const [L,ka]=t;if(!I(ka,L,c++))return!1}return!0}function T(h,...I){for(const t of I){I=h;var c=null!==t&&void 0!==t?t:{};for(const L of Hd(c))m(I,L,c[L],!0)}return h}function ja(h,I){const c=[],t={};for(const L of h)h=I(L),h in t||(t[h]=1,c.push(L));return c}
function fa(h,I){if(h.size!==I.size)return!1;for(const c of h)if(!I.has(c))return!1;return!0}function ha(h,I){for(const c of h)if(I.has(c))return!0;return!1}function la(h){const I=new Set;for(const c of h){const t=N(c).map((L,ka)=>0===ka?L:"[".concat(L,"]"));h=t.map((L,ka)=>t.slice(0,ka+1).join(""));for(const L of h)I.add(L)}return I}function Z(h,I){return void 0===h||void 0===I?!0:ha(la(h),la(I))}function P(h){return 0===Hd(h).length}function C(h){return!0===h||!1===h}function V(h){const I=h.replace(/\W/g,
"_");return(h.match(/^\d+/)?"_":"")+I}function ia(h,I){return h.not?"!("+ia(h.not,I)+")":h.and?"("+h.and.map(c=>ia(c,I)).join(") \x26\x26 (")+")":h.or?"("+h.or.map(c=>ia(c,I)).join(") || (")+")":I(h)}function aa(h,I){if(0===I.length)return!0;const c=I.shift();c in h&&aa(h[c],I)&&delete h[c];return P(h)}function ya(h){return h.charAt(0).toUpperCase()+h.substr(1)}function va(h,I){I=void 0===I?"datum":I;h=N(h);const c=[];for(let t=1;t<=h.length;t++){const L="[".concat(h.slice(0,t).map(n).join("]["),
"]");c.push("".concat(I).concat(L))}return c.join(" \x26\x26 ")}function Ia(h,I){return"".concat(void 0===I?"datum":I,"[").concat(n(N(h).join(".")),"]")}function bb(h){return h.replace(/(\[|\]|\.|'|")/g,"\\$1")}function kb(h){return"".concat(N(h).map(bb).join("\\."))}function ua(h,I,c){return h.replace(new RegExp(I.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),c)}function Ta(h){return"".concat(N(h).join("."))}function Ya(h){return h?N(h).length:0}function Da(...h){for(const I of h)if(void 0!==I)return I}
function ta(h){const I=++jj;return h?String(h)+I:I}function U(h){return W(h)?h:"__".concat(h)}function W(h){return 0===h.indexOf("__")}function ba(h){if(void 0!==h)return(h%360+360)%360}function ca(h){return a(h)?!0:!isNaN(h)&&!isNaN(parseFloat(h))}function ra(h){return h&&h.condition}function qa(h){return!!h&&!!h.argmin}function Fa(h){return!!h&&!!h.argmax}function na(h){return e(h)&&!!Ik[h]}function Ra(h){return e(h)&&G(Hk,h)}function db(h){switch(h){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function $a(h){return"color"===h||"fill"===h||"stroke"===h}function Ca(h){return Ga(h)!==h}function Ga(h){switch(h){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return h}function pa(h){if(h in bl)switch(h){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return h}
function Ha(h){switch(h){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Ua(h){switch(h){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function jb(h){switch(h){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function Fb(h){return"width"===h?"x":"y"}function Xb(h){switch(h){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Ok;case "x":case "y":case "latitude":case "longitude":return dl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function nc(h){switch(h){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function md(h){f(h)&&
(h=Tb(h,void 0));return"bin"+Hd(h).map(I=>mb(h[I])?V("_".concat(I,"_").concat(fh(h[I]))):V("_".concat(I,"_").concat(h[I]))).join("")}function pc(h){return!0===h||v(h)&&!h.binned}function Hc(h){return"binned"===h||v(h)&&!0===h.binned}function mb(h){return null===h||void 0===h?void 0:h.selection}function hc(h){switch(h){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function jc(h,I,c){I in h?Object.defineProperty(h,I,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[I]=c;return h}function rc(h,I,c){I=I.get(h);if(!I)throw new TypeError("attempted to set private field on non-instance");if(I.set)I.set.call(h,c);else{if(!I.writable)throw new TypeError("attempted to set read only private field");I.value=c}return c}function Pc(h){return"Invalid specification ".concat(JSON.stringify(h),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function sc(h){return"".concat("width"==h?"Width":"Height",' "container" only works for single views and layered views.')}function Uc(h){const I="width"==h?"x":"y";return"".concat("width"==h?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(I,'".')}function Sc(h){return h?'Dropping "fit-'.concat(h,'" because spec has discrete ').concat(Ua(h),"."):'Dropping "fit" because spec has discrete size.'}function Lc(h){return"Unknown field for ".concat(h,". Cannot calculate view size.")}
function Fd(h){return'Cannot project a selection on encoding channel "'.concat(h,'", which has no field.')}function ge(h,I){return'Cannot project a selection on encoding channel "'.concat(h,'" as it uses an aggregate function ("').concat(I,'").')}function wd(h){return"Selection not supported for ".concat(h," yet.")}function vd(h){return'The "columns" property cannot be used when "'.concat(h,'" has nested row/column.')}function Wd(h,I,c){return'An ancestor parsed field "'.concat(h,'" as ').concat(c,
" but a child wants to parse the field as ").concat(I,".")}function Pb(h){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(h," are dropped.")}function gc(h,I){const {fill:c,stroke:t}=I;return"Dropping color ".concat(h," as the plot also has ").concat(c&&t?"fill and stroke":c?"fill":"stroke",".")}function Eb(h,I){return"Dropping ".concat(of(h),' from channel "').concat(I,'" since it does not contain any data field, datum, value, or signal.')}function zc(h,
I,c){return"".concat(h,' dropped as it is incompatible with "').concat(I,'"').concat(c?" when ".concat(c):"",".")}function Vc(h){return"".concat(h,"-encoding is dropped as ").concat(h," is not a valid encoding channel.")}function Ed(h,I){return'Using discrete channel "'.concat(h,'" to encode "').concat(I,'" field can be misleading as it does not encode ').concat("ordinal"===I?"order":"magnitude",".")}function Vd(h,I,c){return"".concat(c,"-scale's \"").concat(I,'" is dropped as it does not work with ').concat(h,
" scale.")}function Ka(h){return'The step for "'.concat(h,'" is dropped because the ').concat("width"===h?"x":"y"," is continuous.")}function eb(h){return'Cannot stack "'.concat(h,'" if there is already "').concat(h,'2".')}function wb(h,I){return"Invalid ".concat(h,": ").concat(of(I),".")}function Hb(h){return"1D error band does not support ".concat(h,".")}function ac(h){return"Channel ".concat(h,' is required for "binned" bin.')}function Lb(...h){kj.warn(...h)}function Ac(h){if(h&&v(h))for(const I of ok)if(I in
h)return!0;return!1}function tc(h){ca(h)&&(h=+h);if(a(h))return h-1;{var I=h.toLowerCase();const c=Lk.indexOf(I);if(-1!==c)return c;I=I.substr(0,3);I=ki.indexOf(I);if(-1!==I)return I;throw Error(wb("month",h));}}function pb(h){ca(h)&&(h=+h);if(a(h))return h%7;{var I=h.toLowerCase();const c=Ci.indexOf(I);if(-1!==c)return c;I=I.substr(0,3);I=mk.indexOf(I);if(-1!==I)return I;throw Error(wb("day",h));}}function Bb(h,I){const c=[];I&&void 0!==h.day&&1<Hd(h).length&&(Lb("Dropping day from datetime ".concat(of(h),
" as day cannot be combined with other units.")),h=rf(h),delete h.day);void 0!==h.year?c.push(h.year):c.push(2012);if(void 0!==h.month){var t=I?tc(h.month):h.month;c.push(t)}else if(void 0!==h.quarter){if(I)if(t=h.quarter,ca(t)&&(t=+t),a(t))4<t&&Lb(wb("quarter",t)),--t;else throw Error(wb("quarter",t));else t=h.quarter;c.push(a(t)?3*t:t+"*3")}else c.push(0);void 0!==h.date?c.push(h.date):void 0!==h.day?(I=I?pb(h.day):h.day,c.push(a(I)?I+1:I+"+1")):c.push(1);for(const L of["hours","minutes","seconds",
"milliseconds"])I=h[L],c.push("undefined"===typeof I?0:I);return c}function Ub(h){const I=Bb(h,!0).join(", ");return h.utc?"utc(".concat(I,")"):"datetime(".concat(I,")")}function mc(h){const I=Bb(h,!0);return h.utc?+new Date(Date.UTC(...I)):+new Date(...I)}function Bc(h){const I=[];for(const c of ok)Cc(h,c)&&I.push(c);return I}function Cc(h,I){const c=h.indexOf(I);return 0>c||0<c&&"seconds"===I&&"i"===h.charAt(c-1)||h.length>c+3&&"day"===I&&"o"===h.charAt(c+3)||0<c&&"year"===I&&"f"===h.charAt(c-1)?
!1:!0}function Xc(h){if(h)return h=Bc(h),"timeUnitSpecifier(".concat(qh(h),", ").concat(qh(hl),")")}function Qb(h){if(h){var I;e(h)?I={unit:h}:v(h)&&(I=Object.assign({},h,h.unit?{unit:h.unit}:{}));I.unit.startsWith("utc")&&(I.utc=!0,I.unit=I.unit.substr(3));return I}}function Ic(h){var I=Qb(h);h=Object.assign({},I);I=I.utc;const c=(delete h.utc,h);return c.unit?(I?"utc":"")+Hd(c).map(t=>V("".concat("unit"===t?"":"_".concat(t,"_")).concat(c[t]))).join(""):(I?"utc":"")+"timeunit"+Hd(c).map(t=>V("_".concat(t,
"_").concat(c[t]))).join("")}function Dc(h){return h&&!!h.signal}function uc(h){return!!h.step}function Tc(h){return Je(h)?!1:"field"in h&&"data"in h}function ad(h){return h&&!!h.field&&void 0!==h.equal}function ld(h){return h&&!!h.field&&void 0!==h.lt}function Cd(h){return h&&!!h.field&&void 0!==h.lte}function Dd(h){return h&&!!h.field&&void 0!==h.gt}function Ud(h){return h&&!!h.field&&void 0!==h.gte}function ae(h){return h&&h.field&&(Je(h.range)&&2===h.range.length||Dc(h.range))?!0:!1}function oe(h){return h&&
!!h.field&&(Je(h.oneOf)||Je(h.in))}function De(h){return oe(h)||ad(h)||ae(h)||ld(h)||Dd(h)||Cd(h)||Ud(h)}function fe(h,I){return fd(h,{timeUnit:I,wrapTime:!0})}function ef(h,I){return h.map(c=>fe(c,I))}function Ze(h,I){I=void 0===I?!0:I;var c,{field:t}=h;const L=null===(c=Qb(h.timeUnit))||void 0===c?void 0:c.unit;if(L){{({end:c}={end:!1});t=va(t);const Ba=L.startsWith("utc")?"utc":"";const cb={};for(sa of ok)if(Cc(L,sa)){var ka=sa;ka="quarter"===ka?"(".concat(Ba,"quarter(").concat(t,")-1)"):"".concat(Ba).concat(ka,
"(").concat(t,")");cb[sa]=ka;ka=sa}c&&(cb[ka]+="+1");var sa=cb;c=Bb(sa,!1).join(", ");sa=sa.utc?"utc(".concat(c,")"):"datetime(".concat(c,")")}sa="time("+sa+")"}else sa=kd(h,{expr:"datum"});if(ad(h))return sa+"\x3d\x3d\x3d"+fe(h.equal,L);if(ld(h))return I=h.lt,"".concat(sa,"\x3c").concat(fe(I,L));if(Dd(h))return I=h.gt,"".concat(sa,"\x3e").concat(fe(I,L));if(Cd(h))return I=h.lte,"".concat(sa,"\x3c\x3d").concat(fe(I,L));if(Ud(h))return I=h.gte,"".concat(sa,"\x3e\x3d").concat(fe(I,L));if(oe(h))return"indexof([".concat(ef(h.oneOf,
L).join(","),"], ").concat(sa,") !\x3d\x3d -1");if(h&&h.field&&void 0!==h.valid)return df(sa,h.valid);if(ae(h)){({range:c}=h);h=Dc(c)?{signal:"".concat(c.signal,"[0]")}:c[0];c=Dc(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==h&&null!==c&&I)return"inrange("+sa+", ["+fe(h,L)+", "+fe(c,L)+"])";I=[];null!==h&&I.push("".concat(sa," \x3e\x3d ").concat(fe(h,L)));null!==c&&I.push("".concat(sa," \x3c\x3d ").concat(fe(c,L)));return 0<I.length?I.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(h)));
}function df(h,I){return void 0===I||I?"isValid(".concat(h,") \x26\x26 isFinite(+").concat(h,")"):"!isValid(".concat(h,") || !isFinite(+").concat(h,")")}function Zd(h){if(De(h)&&h.timeUnit){var I;return Object.assign({},h,{timeUnit:null===(I=Qb(h.timeUnit))||void 0===I?void 0:I.unit})}return h}function he(h){if(h)switch(h=h.toLowerCase(),h){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function zf(h){return null===h||void 0===h?void 0:h.selection}function Ue(h,I){switch(I){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!G(["point","band","identity"],h);case "bins":return!G(["point","band","identity","ordinal"],h);case "round":return h in th||"band"===h||"point"===h;case "padding":case "rangeMin":case "rangeMax":return h in th||G(["point","band"],h);case "paddingOuter":case "align":return G(["point",
"band"],h);case "paddingInner":return"band"===h;case "domainMax":case "domainMid":case "domainMin":case "clamp":return h in th;case "nice":return h in th||"quantize"===h||"threshold"===h;case "exponent":return"pow"===h;case "base":return"log"===h;case "constant":return"symlog"===h;case "zero":return h in Jh&&!G(["log","time","utc","threshold","quantile"],h)}}function Nf(h,I){switch(I){case "interpolate":case "scheme":case "domainMid":if(!$a(h))return'Cannot use the scale property "'.concat(h,'" with non-color channel.')}}
function me(h,I){if(!rh[h])return!1;switch(h){case "x":case "y":case "theta":case "radius":return I in th||G(["band","point"],I);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return I in th||I in zk||G(["band","point","ordinal"],I);case "color":case "fill":case "stroke":return"band"!==I;case "strokeDash":return"ordinal"===I||I in zk;case "shape":return"ordinal"===I}}function te(h){return h&&!!h.expr}function kf(h){const I=Hd(h||{}),c={};for(const t of I)c[t]=
Gd(h[t]);return c}function we(h){return G(["line","area","trail"],h)}function Od(h){return h.type}function Xd(h){const {channel:I,channelDef:c,markDef:t,scale:L,config:ka}=h;h=Ye(h);return $b(c)&&!Ra(c.aggregate)&&L&&L.get("type")in th&&!1===L.get("zero")?Be({fieldDef:c,channel:I,markDef:t,ref:h,config:ka}):h}function Be(h){var {fieldDef:I,channel:c,markDef:t,ref:L,config:ka}=h;if(we(t.type)||null===ne("invalid",t,ka))return L;{h=jf(I,!0);const sa="y"===Ga(c)?{field:{group:"height"}}:{value:0};h=
Object.assign({},{test:h},sa)}return[h,L]}function jf(h,I){I=void 0===I?!0:I;return df(e(h)?h:kd(h,{expr:"datum"}),!I)}function Ge(h,I,c,t){const L={};I&&(L.scale=I);gd(h)?({datum:h}=h,Ac(h)?L.signal=Ub(h):Dc(h)?L.signal=h.signal:te(h)?L.signal=h.expr:L.value=h):L.field=kd(h,c);if(t){const {offset:ka,band:sa}=t;ka&&(L.offset=ka);sa&&(L.band=sa)}return L}function Td(h){var {scaleName:I,fieldOrDatumDef:c,fieldOrDatumDef2:t,offset:L,startSuffix:ka,band:sa=.5}=h,Ba=0<sa&&1>sa?"datum":void 0;h=kd(c,{expr:Ba,
suffix:ka});const cb=void 0!==t?kd(t,{expr:Ba}):kd(c,{suffix:"end",expr:Ba});Ba={};0===sa||1===sa?(Ba.scale=I,Ba.field=0===sa?h:cb):(h="".concat(sa," * ").concat(h," + ").concat(1-sa," * ").concat(cb),Ba.signal='scale("'.concat(I,'", ').concat(h,")"));L&&(Ba.offset=L);return Ba}function Ye(h){var {channel:I,channelDef:c,channel2Def:t,markDef:L,config:ka,scaleName:sa,scale:Ba,stack:cb,offset:nb,defaultRef:Gb,band:Nb}=h;if(c){if(od(c)){var lc,Yc;if(Id(c)){var hd;Nb=null!==(hd=Nb)&&void 0!==hd?hd:Za({channel:I,
fieldDef:c,fieldDef2:t,markDef:L,stack:cb,config:ka,isMidPoint:!0});const {bin:qd,timeUnit:Md,type:Rd}=c;if(pc(qd)||Nb&&Md&&"temporal"===Rd)return cb&&cb.impute?Ge(c,sa,{binSuffix:"mid"},{offset:nb}):Nb?Td({scaleName:sa,fieldOrDatumDef:c,band:Nb,offset:nb}):Ge(c,sa,nd(c,I)?{binSuffix:"range"}:{},{offset:nb});if(Hc(qd)){if($b(t))return Td({scaleName:sa,fieldOrDatumDef:c,fieldOrDatumDef2:t,band:Nb,offset:nb});Lb(ac("x"===I?"x2":"y2"))}}h=null===Ba||void 0===Ba?void 0:Ba.get("type");return Ge(c,sa,h in
nh?{binSuffix:"range"}:{},{offset:nb,band:"band"===h?null!==(lc=null!==(Yc=Nb)&&void 0!==Yc?Yc:c.band)&&void 0!==lc?lc:.5:void 0})}if(jd(c))return lc=nb?{offset:nb}:{},Object.assign({},Xf(I,c.value),lc)}"function"===typeof Gb&&(Gb=Gb());return Gb?Object.assign({},Gb,nb?{offset:nb}:{}):Gb}function Xf(h,I){return G(["x","x2"],h)&&"width"===I?{field:{group:"width"}}:G(["y","y2"],h)&&"height"===I?{field:{group:"height"}}:$d(I)}function Gc(h){return h&&"number"!==h&&"time"!==h}function xe(h,I,c){return"".concat(h,
"(").concat(I).concat(c?", ".concat(JSON.stringify(c)):"",")")}function le(h){var {fieldOrDatumDef:I,format:c,formatType:t,expr:L,normalizeStack:ka,config:sa}=h;if(Gc(t))return Fe({fieldOrDatumDef:I,format:c,formatType:t,expr:L,config:sa});h=kc(I,L,ka);if(oc(I)){var Ba,cb;var nb=$b(I)?null===(Ba=Qb(I.timeUnit))||void 0===Ba?void 0:Ba.unit:void 0,Gb=c,Nb=sa.timeFormat;Ba=Qd(I)&&(null===(cb=I.scale)||void 0===cb?void 0:cb.type)===Cg.UTC;!nb||Gb?(Gb=e(Gb)?Gb:Nb,h="".concat(Ba?"utc":"time","Format(").concat(h,
", '").concat(Gb,"')")):nb?(cb=Xc(nb),nb=Ba||nb.startsWith("utc"),h="".concat(nb?"utc":"time","Format(").concat(h,", ").concat(cb,")")):h=void 0;return h?{signal:h}:void 0}c=Yf(Oc(I),c,sa);return $b(I)&&pc(I.bin)?(cb=kd(I,{expr:L,binSuffix:"end"}),{signal:Bf(h,cb,c,t,sa)}):c||"quantitative"===Oc(I)?{signal:"".concat(If(h,c))}:{signal:"isValid(".concat(h,") ? ").concat(h,' : ""+').concat(h)}}function kc(h,I,c){if($b(h))return c?"".concat(kd(h,{expr:I,suffix:"end"}),"-").concat(kd(h,{expr:I,suffix:"start"})):
kd(h,{expr:I});({datum:h}=h);h=Ac(h)?Ub(h):"".concat(JSON.stringify(h));return h}function Fe(h){var {fieldOrDatumDef:I,format:c,formatType:t,expr:L,normalizeStack:ka,config:sa,field:Ba}=h,cb;Ba=null!==(cb=Ba)&&void 0!==cb?cb:kc(I,L,ka);return $b(I)&&pc(I.bin)?(h=kd(I,{expr:L,binSuffix:"end"}),{signal:Bf(Ba,h,c,t,sa)}):{signal:xe(t,Ba,c)}}function ue(h,I,c,t,L,ka){if(!Gc(t)){if(oc(h)){var sa;h=$b(h)?null===(sa=Qb(h.timeUnit))||void 0===sa?void 0:sa.unit:void 0;c=c?c:h?{signal:Xc(h)}:ka?void 0:L.timeFormat;
return c}return Yf(I,c,L)}}function lf(h,I,c){if(h&&(Dc(h)||"number"===h||"time"===h))return h;if(oc(I)&&"time"!==c&&"utc"!==c)return"time"}function Yf(h,I,c){if(e(I))return I;if("quantitative"===h)return c.numberFormat}function If(h,I){return"format(".concat(h,', "').concat(I||"",'")')}function Sf(h,I,c,t){var L;return Gc(c)?xe(c,h,I):If(h,null!==(L=e(I)?I:void 0)&&void 0!==L?L:t.numberFormat)}function Bf(h,I,c,t,L){const ka=Sf(h,c,t,L);I=Sf(I,c,t,L);return"".concat(df(h,!1),' ? "null" : ').concat(ka,
' + "').concat(" – ",'" + ').concat(I)}function qe(h){return!!h&&("count"===h.op||!!h.field)}function yc(h){return!!h&&Je(h)}function wa(h){return"row"in h||"column"in h}function Ea(h){const {field:I,timeUnit:c,bin:t,aggregate:L}=h;return Object.assign({},c?{timeUnit:c}:{},t?{bin:t}:{},L?{aggregate:L}:{},{field:I})}function Za(h){var {channel:I,fieldDef:c,fieldDef2:t,markDef:L,stack:ka,config:sa,isMidPoint:Ba}=h;if(od(c)&&void 0!==c.band)return c.band;if($b(c)){const {timeUnit:cb,bin:nb}=c;if(cb&&
!t)return Ba?sf("timeUnitBandPosition",L,sa):G(["rect","bar","image","arc"],L.type)?sf("timeUnitBand",L,sa):0;if(pc(nb))return G(["rect","bar","image","arc"],L.type)&&!Ba?1:.5}if((null===ka||void 0===ka?void 0:ka.fieldChannel)===I&&Ba)return.5}function Cb(h,I,c,t,L,ka){return pc(I.bin)||I.timeUnit&&Id(I)&&"temporal"===I.type?!!Za({channel:h,fieldDef:I,fieldDef2:c,stack:t,markDef:L,config:ka}):!1}function ub(h){h=h&&h.condition;return!!h&&!Je(h)&&$b(h)}function Yb(h){h=h&&h.condition;return!!h&&!Je(h)&&
od(h)}function $b(h){return!!h&&(!!h.field||"count"===h.aggregate)}function Oc(h){return h&&h.type}function gd(h){return!!h&&"datum"in h}function Mc(h){return Id(h)&&!We(h)||Nd(h)}function Nd(h){return gd(h)&&a(h.datum)}function od(h){return $b(h)||gd(h)}function Id(h){return!!h&&("field"in h||"count"===h.aggregate)&&"type"in h}function jd(h){return h&&"value"in h&&"value"in h}function Qd(h){return!!h&&("scale"in h||"sort"in h)}function ie(h){return h&&("axis"in h||"stack"in h||"impute"in h)}function Gf(h){return!!h&&
("format"in h||"formatType"in h)}function tf(h){return M(h,["legend","axis","header","scale"])}function kd(h,I){I=void 0===I?{}:I;let c=h.field;const t=I.prefix;let L=I.suffix,ka="";if("count"===h.aggregate)c=U("count");else{let nb;if(!I.nofn)if("op"in h)nb=h.op;else{const {bin:Gb,aggregate:Nb,timeUnit:lc}=h;if(pc(Gb)){var sa,Ba;nb=md(Gb);L=(null!==(sa=I.binSuffix)&&void 0!==sa?sa:"")+(null!==(Ba=I.suffix)&&void 0!==Ba?Ba:"")}else if(Nb)Fa(Nb)?(ka='["'.concat(c,'"]'),c="argmax_".concat(Nb.argmax)):
qa(Nb)?(ka='["'.concat(c,'"]'),c="argmin_".concat(Nb.argmin)):nb=String(Nb);else if(lc){var cb;nb=Ic(lc);L=(!G(["range","mid"],I.binSuffix)&&I.binSuffix||"")+(null!==(cb=I.suffix)&&void 0!==cb?cb:"")}}nb&&(c=c?"".concat(nb,"_").concat(c):nb)}L&&(c="".concat(c,"_").concat(L));t&&(c="".concat(t,"_").concat(c));return I.forAs?Ta(c):I.expr?Ia(c,I.expr)+ka:kb(c)+ka}function We(h){switch(h.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return $b(h)&&!!h.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(h.type,
'".'));}function uf(h,I){const {field:c,bin:t,timeUnit:L,aggregate:ka}=h;if("count"===ka)return I.countTitle;if(pc(t))return"".concat(c," (binned)");if(L){var sa;if(h=null===(sa=Qb(L))||void 0===sa?void 0:sa.unit)return"".concat(c," (").concat(Bc(h).join("-"),")")}else if(ka)return Fa(ka)?"".concat(c," for max ").concat(ka.argmax):qa(ka)?"".concat(c," for min ").concat(ka.argmin):"".concat(ya(ka)," of ").concat(c);return c}function mf(h,I,c){var {allowDisabling:t,includeDefault:L=!0}=c,ka;c=null===
(ka=Zf(h))||void 0===ka?void 0:ka.title;if(!$b(h))return c;I=L?cf(h,I):void 0;if(t)return Da(c,h.title,I);var sa;return null!==(sa=null!==c&&void 0!==c?c:h.title)&&void 0!==sa?sa:I}function Zf(h){if(ie(h)&&h.axis)return h.axis;if(h&&"legend"in h&&h.legend)return h.legend;if(h&&"header"in h&&h.header)return h.header}function yf(h){if(Gf(h)){const {format:c,formatType:t}=h;return{format:c,formatType:t}}{var I;h=null!==(I=Zf(h))&&void 0!==I?I:{};const {format:c,formatType:t}=h;return{format:c,formatType:t}}}
function Pe(h,I){var c;switch(I){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in h&&Je(h.sort))return"ordinal";const {aggregate:t,bin:L,timeUnit:ka}=h;if(ka)return"temporal";if(L||t&&!Fa(t)&&!qa(t))return"quantitative";if(Qd(h)&&(null===(c=h.scale)||void 0===c?0:c.type))switch(ai[h.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}
function nf(h){if($b(h))return h;if(ub(h))return h.condition}function Aa(h){if(od(h))return h;if(Yb(h))return h.condition}function Pa(h,I,c,t){t=void 0===t?{}:t;return e(h)||a(h)||f(h)?(c=e(h)?"string":a(h)?"number":"boolean",I="Channel ".concat(I," is a ").concat(c,". Converted to {value: ").concat(of(h),"}."),Lb(I),{value:h}):od(h)?vb(h,I,c,t):Yb(h)?Object.assign({},h,{condition:vb(h.condition,I,c,t)}):h}function vb(h,I,c,t){if(Gf(h)){var L=Object.assign({},h),ka=h.formatType;L=(delete L.format,
delete L.formatType,L);if(Gc(ka)&&!c.customFormatTypes)return Lb(Pb(I)),vb(L,I,c,t)}else if((ka=ie(h)?"axis":h&&"legend"in h?"legend":h&&"header"in h?"header":null)&&h[ka]){var sa=h[ka];L=Object.assign({},sa);sa=sa.formatType;L=(delete L.format,delete L.formatType,L);if(Gc(sa)&&!c.customFormatTypes)return Lb(Pb(I)),vb(Object.assign({},h,{[ka]:L}),I,c,t)}if($b(h))return Wb(h,I,t);I=h.type;I||({datum:I}=h,I=a(I)?"quantitative":e(I)?"nominal":Ac(I)?"temporal":void 0,h=Object.assign({},h,{type:I}));return h}
function Wb(h,I,c){({compositeMark:c=!1}=void 0===c?{}:c);const {aggregate:t,timeUnit:L,bin:ka,field:sa}=h;h=Object.assign({},h);c||!t||na(t)||Fa(t)||qa(t)||(Lb('Invalid aggregation operator "'.concat(t,'".')),delete h.aggregate);L&&(h.timeUnit=Qb(L));sa&&(h.field="".concat(sa));pc(ka)&&(h.bin=Tb(ka,I));!Hc(ka)||I in fg||Lb("Channel ".concat(I,' should not be used with "binned" bin.'));if(Id(h)){({type:c}=h);var Ba=he(c);c!==Ba&&(h.type=Ba);"quantitative"!==c&&Ra(t)&&(c='Invalid field type "'.concat(c,
'" for aggregate: "').concat(t,'", using "quantitative" instead.'),Lb(c),h.type="quantitative")}else Ca(I)||(c=Pe(h,I),h.type=c);if(Id(h)){const {compatible:cb,warning:nb}=ic(h,I)||{};!1===cb&&Lb(nb)}if("sort"in h&&e(h.sort)){({sort:I}=h);if(I in Bd)return Object.assign({},h,{sort:{encoding:I}});c=I.substr(1);if("-"===I.charAt(0)&&c in Bd)return Object.assign({},h,{sort:{encoding:c,order:"descending"}})}return h&&"header"in h&&({header:I}=h,Ba=I,c=Object.assign({},Ba),Ba=Ba.orient,c=(delete c.orient,
c),Ba)?Object.assign({},h,{header:Object.assign({},c,{labelOrient:I.labelOrient||Ba,titleOrient:I.titleOrient||Ba})}):h}function Tb(h,I){return f(h)?{maxbins:hc(I)}:"binned"===h?{binned:!0}:h.maxbins||h.step?h:Object.assign({},h,{maxbins:hc(I)})}function ic(h,I){const c=h.type;if("geojson"===c&&"shape"!==I)return{compatible:!1,warning:"Channel ".concat(I," should not be used with a geojson data.")};switch(I){case "row":case "column":case "facet":return We(h)?Ae:{compatible:!1,warning:"".concat(I,
" encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ae;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==c?{compatible:!1,warning:"Channel ".concat(I," should be used with a quantitative field only, not ").concat(h.type," field.")}:Ae;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
c||h.sort?Ae:{compatible:!1,warning:"Channel ".concat(I," should not be used with an unsorted discrete field.")};case "strokeDash":return G(["ordinal","nominal"],h.type)?Ae:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return G(["ordinal","nominal","geojson"],h.type)?Ae:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==h.type||"sort"in h?Ae:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function oc(h){var {formatType:I}=yf(h),c;if(!(c="time"===I)){if(I=!I)I=h&&("temporal"===h.type||$b(h)&&!!h.timeUnit);c=I}return c}function fd(h,I){var {timeUnit:c,type:t,wrapTime:L,undefinedIfExprNotRequired:ka}=I;var sa=(I=c&&(null===(sa=Qb(c))||void 0===sa?void 0:sa.unit))||"temporal"===t;let Ba;te(h)?Ba=h.expr:Dc(h)?Ba=h.signal:Ac(h)?(sa=!0,Ba=Ub(h)):(e(h)||a(h))&&sa&&(Ba="datetime(".concat(JSON.stringify(h),")"),Oj[I]&&(a(h)&&1E4>h||e(h)&&isNaN(Date.parse(h)))&&(Ba=Ub({[I]:h})));return Ba?L&&
sa?"time(".concat(Ba,")"):Ba:ka?void 0:JSON.stringify(h)}function Wc(h,I){const {type:c}=h;return I.map(t=>{const L=fd(t,{timeUnit:$b(h)?h.timeUnit:void 0,type:c,undefinedIfExprNotRequired:!0});return void 0!==L?{signal:L}:t})}function nd(h,I){return pc(h.bin)?!!rh[I]&&G(["ordinal","nominal"],h.type):(console.warn("Only call this method for binned field defs."),!1)}function Kd(h){var I=Object.assign({},h),c=h.anchor;const t=h.frame,L=h.offset,ka=h.orient;var sa=h.color,Ba=h.subtitleColor,cb=h.subtitleFont;
const nb=h.subtitleFontSize,Gb=h.subtitleFontStyle,Nb=h.subtitleFontWeight,lc=h.subtitleLineHeight;h=h.subtitlePadding;I=(delete I.anchor,delete I.frame,delete I.offset,delete I.orient,delete I.color,delete I.subtitleColor,delete I.subtitleFont,delete I.subtitleFontSize,delete I.subtitleFontStyle,delete I.subtitleFontWeight,delete I.subtitleLineHeight,delete I.subtitlePadding,I);sa=Object.assign({},I,sa?{fill:sa}:{});c=Object.assign({},c?{anchor:c}:{},t?{frame:t}:{},L?{offset:L}:{},ka?{orient:ka}:
{});Ba=Object.assign({},Ba?{subtitleColor:Ba}:{},cb?{subtitleFont:cb}:{},nb?{subtitleFontSize:nb}:{},Gb?{subtitleFontStyle:Gb}:{},Nb?{subtitleFontWeight:Nb}:{},lc?{subtitleLineHeight:lc}:{},h?{subtitlePadding:h}:{});cb=O(sa,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:sa,subtitleMarkConfig:cb,nonMark:c,subtitle:Ba}}function de(h){return e(h)||Je(h)&&e(h[0])}function je(h){const I=Je(h.condition)?h.condition.map(Le):Le(h.condition);return Object.assign({},Gd(h),{condition:I})}function Gd(h){if(te(h)){var I=
Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return h}function Le(h){if(te(h)){var I=Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return h}function $d(h){if(te(h)){var I=Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return Dc(h)?h:void 0!==h?{value:h}:void 0}function Ie(h){return Dc(h)?h.signal:n(h.value)}function Ce(h){return Dc(h)?h.signal:null==h?null:n(h)}function Qe(h,
I,c){for(const t of c)c=sf(t,I.markDef,I.config),void 0!==c&&(h[t]=$d(c));return h}function Uf(h){var I;return[].concat(h.type,null!==(I=h.style)&&void 0!==I?I:[])}function ne(h,I,c,t){t=void 0===t?{}:t;const {vgChannel:L,ignoreVgConfig:ka}=t;if(L&&void 0!==I[L])return I[L];if(void 0!==I[h])return I[h];if(!ka||L&&L!==h)return sf(h,I,c,t)}function sf(h,I,c,t){({vgChannel:t}=void 0===t?{}:t);return Da(t?Cf(h,I,c.style):void 0,Cf(h,I,c.style),t?c[I.type][t]:void 0,c[I.type][h],t?c.mark[t]:c.mark[h])}
function Cf(h,I,c){return Bg(h,Uf(I),c)}function Bg(h,I,c){I=d(I);let t;for(const L of I)(I=c[L])&&void 0!==I[h]&&(t=I[h]);return t}function Lf(h,I){return d(h).reduce((c,t)=>{var L;c.field.push(kd(t,I));c.order.push(null!==(L=t.sort)&&void 0!==L?L:"ascending");return c},{field:[],order:[]})}function jg(h,I){const c=[...h];I.forEach(t=>{for(const L of c)if(ji(L,t))return;c.push(t)});return c}function xa(h,I){return ji(h,I)||!I?h:h?[...d(h),...d(I)].join(", "):I}function za(h,I){const c=h.value;I=
I.value;if(null==c||null===I)return{explicit:h.explicit,value:null};if((de(c)||Dc(c))&&(de(I)||Dc(I)))return{explicit:h.explicit,value:xa(c,I)};if(de(c)||Dc(c))return{explicit:h.explicit,value:c};if(de(I)||Dc(I))return{explicit:h.explicit,value:I};if(!(de(c)||Dc(c)||de(I)||Dc(I)))return{explicit:h.explicit,value:jg(c,I)};throw Error("It should never reach here");}function Na(h){return"mark"in h}function Sa(h,I){return(h=h&&h[I])?Je(h)?K(h,c=>!!c.field):$b(h)||ub(h):!1}function fb(h){return K(Jl,I=>
Sa(h,I)?(I=h[I],Je(I)?K(I,c=>!!c.aggregate):(I=nf(I))&&!!I.aggregate):!1)}function hb(h,I){const c=[],t=[],L=[],ka=[],sa={};Jb(h,(Ba,cb)=>{if($b(Ba)){var nb=Object.assign({},Ba),Gb=Ba.field;const lc=Ba.aggregate,Yc=Ba.bin,hd=Ba.timeUnit;nb=(delete nb.field,delete nb.aggregate,delete nb.bin,delete nb.timeUnit,nb);if(lc||hd||Yc){var Nb=Zf(Ba);const qd=Nb&&Nb.title;Nb=kd(Ba,{forAs:!0});nb=Object.assign({},qd?[]:{title:mf(Ba,I,{allowDisabling:!0})},nb,{field:Nb});if(lc){let Md;Fa(lc)?(Md="argmax",Nb=
kd({op:"argmax",field:lc.argmax},{forAs:!0}),nb.field="".concat(Nb,".").concat(Gb)):qa(lc)?(Md="argmin",Nb=kd({op:"argmin",field:lc.argmin},{forAs:!0}),nb.field="".concat(Nb,".").concat(Gb)):"boxplot"!==lc&&"errorbar"!==lc&&"errorband"!==lc&&(Md=lc);Md&&(Ba={op:Md,as:Nb},Gb&&(Ba.field=Gb),ka.push(Ba))}else c.push(Nb),Id(Ba)&&pc(Yc)?(t.push({bin:Yc,field:Gb,as:Nb}),c.push(kd(Ba,{binSuffix:"end"})),nd(Ba,cb)&&c.push(kd(Ba,{binSuffix:"range"})),cb in fg&&(sa[cb+"2"]={field:Nb+"_end"}),nb.bin="binned",
Ca(cb)||(nb.type="quantitative")):hd&&(L.push({timeUnit:hd,field:Gb,as:Nb}),(Gb=Id(Ba)&&"temporal"!==Ba.type&&"time")&&("text"===cb||"tooltip"===cb?nb.formatType=Gb:ah[cb]?nb.legend=Object.assign({},{formatType:Gb},nb.legend):cb in fg&&(nb.axis=Object.assign({},{formatType:Gb},nb.axis))));sa[cb]=nb}else c.push(Gb),sa[cb]=h[cb]}else sa[cb]=h[cb]});return{bins:t,timeUnits:L,aggregate:ka,groupby:c,encoding:sa}}function qb(h,I,c){c=Xb(I)[c];return c&&("binned"!==c||(c=h["x2"===I?"x":"y"],$b(c)&&$b(h[I])&&
Hc(c.bin)))?!0:!1}function Db(h,I,c,t){return Hd(h).reduce((L,ka)=>{if(!Kk[ka])return Lb(Vc(ka)),L;const sa=h[ka];"angle"!==ka||"arc"!==I||h.theta||(Lb("Arc marks uses theta channel rather than angle, replacing angle with theta."),ka="theta");if(!qb(h,ka,I))return Lb(zc(ka,I)),L;if("size"===ka&&"line"===I){const Ba=nf(h[ka]);if(null===Ba||void 0===Ba?0:Ba.aggregate)return Lb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),L}if("color"===ka&&(c?"fill"in
h:"stroke"in h))return Lb(gc("encoding",{fill:"fill"in h,stroke:"stroke"in h})),L;if("detail"===ka||"order"===ka&&!Je(sa)&&!jd(sa)||"tooltip"===ka&&Je(sa))sa&&(L[ka]=d(sa).reduce((Ba,cb)=>{$b(cb)?Ba.push(Wb(cb,ka)):Lb(Eb(cb,ka));return Ba},[]));else{if("tooltip"===ka&&null===sa)L[ka]=null;else if(!($b(sa)||gd(sa)||jd(sa)||sa&&"condition"in sa||Dc(sa)))return Lb(Eb(sa,ka)),L;L[ka]=Pa(sa,ka,t)}return L},{})}function Ab(h,I){const c={};for(const t of Hd(h)){const L=Pa(h[t],t,I,{compositeMark:!0});c[t]=
L}return c}function Kb(h){const I=[];for(const c of Hd(h))if(Sa(h,c)){const t=d(h[c]);for(const L of t)$b(L)?I.push(L):ub(L)&&I.push(L.condition)}return I}function Jb(h,I,c){if(h)for(const t of Hd(h)){const L=h[t];if(Je(L))for(const ka of L)I.call(c,ka,t);else I.call(c,L,t)}}function cc(h,I,c,t){return h?Hd(h).reduce((L,ka)=>{const sa=h[ka];return Je(sa)?sa.reduce((Ba,cb)=>I.call(t,Ba,cb,ka),L):I.call(t,L,sa,ka)},c):c}function xc(h,I){return Hd(I).reduce((c,t)=>{switch(t){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return c;
case "order":if("line"===h||"trail"===h)return c;case "detail":case "key":t=I[t];if(Je(t)||$b(t))for(var L of d(t))L.aggregate||c.push(kd(L,{}));return c;case "size":if("trail"===h)return c;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(L=nf(I[t]))&&!L.aggregate&&c.push(kd(L,{})),c}},[])}function Y(h,I,c,t){t=void 0===t?!0:t;if("tooltip"in c)return{tooltip:c.tooltip};h=h.map(L=>{var {fieldPrefix:ka,titlePrefix:sa}=
L;L=t?" of ".concat(oa(I)):"";return{field:ka+I.field,type:I.type,title:Dc(sa)?{signal:sa+'"'.concat(escape(L),'"')}:sa+L}});c=Kb(c).map(tf);return{tooltip:[...h,...ja(c,F)]}}function oa(h){const {title:I,field:c}=h;return Da(I,c)}function Oa(h,I,c,t,L){const {scale:ka,axis:sa}=c;return Ba=>{var {partName:cb,mark:nb,positionPrefix:Gb,endPositionPrefix:Nb,extraEncoding:lc={}}=Ba;Ba=oa(c);return Va(h,cb,L,{mark:nb,encoding:Object.assign({},{[I]:Object.assign({},{field:Gb+"_"+c.field,type:c.type},void 0!==
Ba?{title:Ba}:{},void 0!==ka?{scale:ka}:{},void 0!==sa?{axis:sa}:{})},e(Nb)?{[I+"2"]:{field:Nb+"_"+c.field}}:{},t,lc)})}}function Va(h,I,c,t){const {clip:L,color:ka,opacity:sa}=h,Ba=h.type;return h[I]||void 0===h[I]&&c[I]?[Object.assign({},t,{mark:Object.assign({},c[I],L?{clip:L}:{},ka?{color:ka}:{},sa?{opacity:sa}:{},Od(t.mark)?t.mark:{type:t.mark},{style:"".concat(Ba,"-").concat(I)},f(h[I])?{}:h[I])})]:[]}function xb(h,I,c){({encoding:h}=h);I="vertical"===I?"y":"x";const t=h[I+"2"],L=h[I+"Error"],
ka=h[I+"Error2"];return{continuousAxisChannelDef:Sb(h[I],c),continuousAxisChannelDef2:Sb(t,c),continuousAxisChannelDefError:Sb(L,c),continuousAxisChannelDefError2:Sb(ka,c),continuousAxis:I}}function Sb(h,I){if(h&&h.aggregate){var c=Object.assign({},h);h=h.aggregate;c=(delete c.aggregate,c);h!==I&&(I="Continuous axis should not have customized aggregation function ".concat(h,"; ").concat(I," already agregates the axis."),Lb(I));return c}return h}function Zb(h,I){const {mark:c,encoding:t}=h,{x:L,y:ka}=
t;if(Od(c)&&c.orient)return c.orient;if(Mc(L)){if(Mc(ka)){h=$b(L)&&L.aggregate;const sa=$b(ka)&&ka.aggregate;if(!h&&sa===I)return"vertical";if(sa||h!==I){if(h===I&&sa===I)throw Error("Both x and y cannot have aggregate");return oc(ka)&&!oc(L)?"horizontal":"vertical"}}return"horizontal"}if(Mc(ka))return"vertical";throw Error("Need a valid continuous axis for ".concat(I,"s"));}function qc(h){return a(h)?"tukey":h}function Ec(h,I){var {config:c}=I,t,L=h=Object.assign({},h,{encoding:Ab(h.encoding,c)});
I=Object.assign({},L);var ka=L.mark;L=L.selection;I=(delete I.mark,delete I.encoding,delete I.selection,delete I.projection,I);ka=Od(ka)?ka:{type:ka};L&&Lb(wd("boxplot"));L=null!==(t=ka.extent)&&void 0!==t?t:c.boxplot.extent;var sa=ne("size",ka,c);t=qc(L);var Ba;{var cb=h;h=Zb(cb,"boxplot");const {continuousAxisChannelDef:hg,continuousAxis:Ng}=xb(cb,h,"boxplot");var nb=hg.field,Gb=qc(L),Nb=[...ed(nb),{op:"median",field:nb,as:"mid_box_"+nb},{op:"min",field:nb,as:("min-max"===Gb?"lower_whisker_":"min_")+
nb},{op:"max",field:nb,as:("min-max"===Gb?"upper_whisker_":"max_")+nb}];nb="min-max"===Gb||"tukey"===Gb?[]:[{calculate:'datum["upper_box_'.concat(nb,'"] - datum["lower_box_').concat(nb,'"]'),as:"iqr_"+nb},{calculate:'min(datum["upper_box_'.concat(nb,'"] + datum["iqr_').concat(nb,'"] * ').concat(L,', datum["max_').concat(nb,'"])'),as:"upper_whisker_"+nb},{calculate:'max(datum["lower_box_'.concat(nb,'"] - datum["iqr_').concat(nb,'"] * ').concat(L,', datum["min_').concat(nb,'"])'),as:"lower_whisker_"+
nb}];cb=Object.assign({},cb.encoding);Gb=(delete cb[Ng],cb);cb=Object.assign({},Gb);Gb=Gb.tooltip;cb=(delete cb.tooltip,cb);if(Gb){var lc;if(Je(Gb)){for(var Yc of Gb)Yc.aggregate?(Ba||(Ba=[]),Ba.push(Yc)):(lc||(lc=[]),lc.push(Yc));Ba&&(cb.tooltip=Ba)}else Gb.aggregate?cb.tooltip=Gb:lc=Gb;Je(lc)&&1===lc.length&&(lc=lc[0]);Ba={customTooltipWithoutAggregatedField:lc,filteredEncoding:cb}}else Ba={filteredEncoding:cb};const {customTooltipWithoutAggregatedField:yg,filteredEncoding:Pl}=Ba,{bins:Rj,timeUnits:jl,
aggregate:dm,groupby:em,encoding:Dm}=hb(Pl,c);Ba=[...Rj,...jl,{aggregate:[...dm,...Nb],groupby:em},...nb];Ba={bins:Rj,timeUnits:jl,transform:Ba,groupby:em,aggregate:dm,continuousAxisChannelDef:hg,continuousAxis:Ng,encodingWithoutContinuousAxis:Dm,ticksOrient:"vertical"===h?"horizontal":"vertical",boxOrient:h,customTooltipWithoutAggregatedField:yg}}const {bins:hd,timeUnits:qd,transform:Md,continuousAxisChannelDef:Rd,continuousAxis:Ee,groupby:Hf,aggregate:se,encodingWithoutContinuousAxis:Ef,ticksOrient:Yd,
boxOrient:sg,customTooltipWithoutAggregatedField:Mf}=Ba;lc=Object.assign({},Ef);Ba=Ef.color;Nb=Ef.size;lc=(delete lc.color,delete lc.size,lc);Yc=Oa(ka,Ee,Rd,lc,c.boxplot);h=Oa(ka,Ee,Rd,Ef,c.boxplot);Nb=Oa(ka,Ee,Rd,Object.assign({},lc,Nb?{size:Nb}:{}),c.boxplot);nb=Y([{fieldPrefix:"min-max"===t?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===t?"lower_whisker_":
"min_",titlePrefix:"Min"}],Rd,Ef);cb={type:"tick",color:"black",opacity:1,orient:Yd,invalid:null,aria:!1};Gb="min-max"===t?nb:Y([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Rd,Ef);Yc=[...Yc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Gb}),...Yc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",
extraEncoding:Gb}),...Yc({partName:"ticks",mark:cb,positionPrefix:"lower_whisker",extraEncoding:Gb}),...Yc({partName:"ticks",mark:cb,positionPrefix:"upper_whisker",extraEncoding:Gb})];sa=[..."tukey"!==t?Yc:[],...h({partName:"box",mark:Object.assign({},{type:"bar"},sa?{size:sa}:{},{orient:sg,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:nb}),...Nb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},v(c.boxplot.median)&&
c.boxplot.median.color?{color:c.boxplot.median.color}:{},sa?{size:sa}:{},{orient:Yd,aria:!1}),positionPrefix:"mid_box",extraEncoding:nb})];if("min-max"===t){var Ve;return Object.assign({},I,{transform:(null!==(Ve=I.transform)&&void 0!==Ve?Ve:[]).concat(Md),layer:sa})}Ve='datum["lower_box_'.concat(Rd.field,'"]');t='datum["upper_box_'.concat(Rd.field,'"]');h="(".concat(t," - ").concat(Ve,")");Ve="".concat(Ve," - ").concat(L," * ").concat(h);h="".concat(t," + ").concat(L," * ").concat(h);Nb='datum["'.concat(Rd.field,
'"]');L={joinaggregate:ed(Rd.field),groupby:Hf};t={transform:[{filter:"(".concat(Ve," \x3c\x3d ").concat(Nb,") \x26\x26 (").concat(Nb," \x3c\x3d ").concat(h,")")},{aggregate:[{op:"min",field:Rd.field,as:"lower_whisker_"+Rd.field},{op:"max",field:Rd.field,as:"upper_whisker_"+Rd.field},{op:"min",field:"lower_box_"+Rd.field,as:"lower_box_"+Rd.field},{op:"max",field:"upper_box_"+Rd.field,as:"upper_box_"+Rd.field},...se],groupby:Hf}],layer:Yc};lc=Object.assign({},lc);lc=(delete lc.tooltip,lc);const {scale:pg,
axis:Ig}=Rd;Yc=oa(Rd);nb=M(Ig,["title"]);c=Va(ka,"outliers",c.boxplot,{transform:[{filter:"(".concat(Nb," \x3c ").concat(Ve,") || (").concat(Nb," \x3e ").concat(h,")")}],mark:"point",encoding:Object.assign({},{[Ee]:Object.assign({},{field:Rd.field,type:Rd.type},void 0!==Yc?{title:Yc}:{},void 0!==pg?{scale:pg}:{},P(nb)?{}:{axis:nb})},lc,Ba?{color:Ba}:{},Mf?{tooltip:Mf}:{})})[0];ka=[...hd,...qd,L];c?c={transform:ka,layer:[c,t]}:(c=t,c.transform.unshift(...ka));return Object.assign({},I,{layer:[c,{transform:Md,
layer:sa}]})}function ed(h){return[{op:"q1",field:h,as:"lower_box_"+h},{op:"q3",field:h,as:"upper_box_"+h}]}function Zc(h,I){({config:I}=I);h=Object.assign({},h,{encoding:Ab(h.encoding,I)});const {transform:c,continuousAxisChannelDef:t,continuousAxis:L,encodingWithoutContinuousAxis:ka,ticksOrient:sa,markDef:Ba,outerSpec:cb,tooltipEncoding:nb}=be(h,"errorbar",I);delete ka.size;h=Oa(Ba,L,t,ka,I.errorbar);I=Ba.thickness;var Gb=Ba.size;Gb=Object.assign({},{type:"tick",orient:sa,aria:!1},void 0!==I?{thickness:I}:
{},void 0!==Gb?{size:Gb}:{});h=[...h({partName:"ticks",mark:Gb,positionPrefix:"lower",extraEncoding:nb}),...h({partName:"ticks",mark:Gb,positionPrefix:"upper",extraEncoding:nb}),...h({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==I?{size:I}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:nb})];return Object.assign({},cb,{transform:c},1<h.length?{layer:h}:Object.assign({},h[0]))}function Pd(h,I){var {encoding:c}=h;if(!(!od(c.x)&&!od(c.y)||
od(c.x2)||od(c.y2)||od(c.xError)||od(c.xError2)||od(c.yError)||od(c.yError2)))return{orient:Zb(h,I),inputType:"raw"};var t=od(c.x2)||od(c.y2);var L=od(c.xError)||od(c.xError2)||od(c.yError)||od(c.yError2);h=c.x;const ka=c.y;if(t){if(L)throw Error("".concat(I," cannot be both type aggregated-upper-lower and aggregated-error"));t=c.x2;c=c.y2;if(od(t)&&od(c))throw Error("".concat(I," cannot have both x2 and y2"));if(od(t)){if(Mc(h))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(I));
}if(od(c)){if(Mc(ka))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(I));}}else{t=c.xError;L=c.yError;const sa=c.yError2;if(od(c.xError2)&&!od(t))throw Error("".concat(I," cannot have xError2 without xError"));if(od(sa)&&!od(L))throw Error("".concat(I," cannot have yError2 without yError"));if(od(t)&&od(L))throw Error("".concat(I," cannot have both xError and yError with both are quantiative"));if(od(t)){if(Mc(h))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(od(L)){if(Mc(ka))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function be(h,I,c){var t,L=Object.assign({},h),ka=h.mark,sa=h.encoding,Ba=h.selection;L=(delete L.mark,delete L.encoding,delete L.selection,delete L.projection,L);ka=Od(ka)?ka:{type:ka};Ba&&Lb(wd(I));const {orient:cb,
inputType:nb}=Pd(h,I),{continuousAxisChannelDef:Gb,continuousAxisChannelDef2:Nb,continuousAxisChannelDefError:lc,continuousAxisChannelDefError2:Yc,continuousAxis:hd}=xb(h,cb,I);Ba=[];h=[];var qd=Gb.field,Md=!1;if("raw"===nb){var Rd=ka.center?ka.center:ka.extent?"iqr"===ka.extent?"median":"mean":c.errorbar.center;var Ee=ka.extent?ka.extent:"mean"===Rd?"stderr":"iqr";"median"===Rd!==("iqr"===Ee)&&(Ba=Ee,Ba="".concat(Rd," is not usually used with ").concat(Ba," for ").concat(I,"."),Lb(Ba));"stderr"===
Ee||"stdev"===Ee?(Ba=[{op:Ee,field:qd,as:"extent_"+qd},{op:Rd,field:qd,as:"center_"+qd}],h=[{calculate:'datum["center_'.concat(qd,'"] + datum["extent_').concat(qd,'"]'),as:"upper_"+qd},{calculate:'datum["center_'.concat(qd,'"] - datum["extent_').concat(qd,'"]'),as:"lower_"+qd}],qd={fieldPrefix:"center_",titlePrefix:ya(Rd)},Md=Ee,Md={fieldPrefix:"upper_",titlePrefix:ya(Rd)+" + "+Md},I=Ee,I=ya(Rd)+" - "+I,Rd=[qd,Md,{fieldPrefix:"lower_",titlePrefix:I}],Md=!0):("ci"===Ee?(I="mean",Rd="ci0",Ee="ci1"):
(I="median",Rd="q1",Ee="q3"),Ba=[{op:Rd,field:qd,as:"lower_"+qd},{op:Ee,field:qd,as:"upper_"+qd},{op:I,field:qd,as:"center_"+qd}],Rd=[{fieldPrefix:"upper_",titlePrefix:mf({field:qd,aggregate:Ee,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:mf({field:qd,aggregate:Rd,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:mf({field:qd,aggregate:I,type:"quantitative"},c,{allowDisabling:!1})}])}else{if(ka.center||ka.extent){I=ka.center;var Hf=ka.extent;
I="".concat(Hf?"extent ":"").concat(Hf&&I?"and ":"").concat(I?"center ":"").concat(Hf&&I?"are ":"is ","not needed when data are aggregated.");Lb(I)}"aggregated-upper-lower"===nb?(Rd=[],h=[{calculate:'datum["'.concat(Nb.field,'"]'),as:"upper_"+qd},{calculate:'datum["'.concat(qd,'"]'),as:"lower_"+qd}]):"aggregated-error"===nb&&(Rd=[{fieldPrefix:"",titlePrefix:qd}],h=[{calculate:'datum["'.concat(qd,'"] + datum["').concat(lc.field,'"]'),as:"upper_"+qd}],Yc?h.push({calculate:'datum["'.concat(qd,'"] + datum["').concat(Yc.field,
'"]'),as:"lower_"+qd}):h.push({calculate:'datum["'.concat(qd,'"] - datum["').concat(lc.field,'"]'),as:"lower_"+qd}));for(Ee of h)Rd.push({fieldPrefix:Ee.as.substring(0,6),titlePrefix:ua(ua(Ee.calculate,'datum["',""),'"]',"")})}h={postAggregateCalculates:h,errorBarSpecificAggregate:Ba,tooltipSummary:Rd,tooltipTitleWithFieldName:Md};const {errorBarSpecificAggregate:se,postAggregateCalculates:Ef,tooltipSummary:Yd,tooltipTitleWithFieldName:sg}=h;sa=Object.assign({},sa);h="x"===hd?"x2":"y2";Ba="x"===hd?
"xError":"yError";qd="x"===hd?"xError2":"yError2";sa=(delete sa[hd],delete sa[h],delete sa[Ba],delete sa[qd],sa);const {bins:Mf,timeUnits:Ve,aggregate:pg,groupby:Ig,encoding:hg}=hb(sa,c);c=[...pg,...se];sa="raw"!==nb?[]:Ig;h=Y(Yd,Gb,hg,sg);return{transform:[...null!==(t=L.transform)&&void 0!==t?t:[],...Mf,...Ve,...0===c.length?[]:[{aggregate:c,groupby:sa}],...Ef],groupby:sa,continuousAxisChannelDef:Gb,continuousAxis:hd,encodingWithoutContinuousAxis:hg,ticksOrient:"vertical"===cb?"horizontal":"vertical",
markDef:ka,outerSpec:L,tooltipEncoding:h}}function pd(h,I){({config:I}=I);h=Object.assign({},h,{encoding:Ab(h.encoding,I)});const {transform:c,continuousAxisChannelDef:t,continuousAxis:L,encodingWithoutContinuousAxis:ka,markDef:sa,outerSpec:Ba,tooltipEncoding:cb}=be(h,"errorband",I);I=Oa(sa,L,t,ka,I.errorband);h=void 0!==h.encoding.x&&void 0!==h.encoding.y;let nb={type:h?"area":"rect"},Gb={type:h?"line":"rule"};const Nb=Object.assign({},sa.interpolate?{interpolate:sa.interpolate}:{},sa.tension&&sa.interpolate?
{tension:sa.tension}:{});h?(nb=Object.assign({},nb,Nb,{ariaRoleDescription:"errorband"}),Gb=Object.assign({},Gb,Nb,{aria:!1})):sa.interpolate?Lb(Hb("interpolate")):sa.tension&&Lb(Hb("tension"));return Object.assign({},Ba,{transform:c,layer:[...I({partName:"band",mark:nb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:cb}),...I({partName:"borders",mark:Gb,positionPrefix:"lower",extraEncoding:cb}),...I({partName:"borders",mark:Gb,positionPrefix:"upper",extraEncoding:cb})]})}function Ad(h,
I,c){I=new hf(h,I);vl[h]={normalizer:I,parts:c}}function id(h){const I=[];for(const L of h||[]){var c=L,t=Object.assign({},c);h=c.expr;c=c.bind;t=(delete t.expr,delete t.bind,t);c&&h?(h=Object.assign({},t,{bind:c,init:h}),I.push(h)):(h=Object.assign({},t,h?{update:h}:{},c?{bind:c}:{}),I.push(h))}return I}function af(h){return!!h&&("legend"===h||!!h.legend)}function Wa(h){return af(h)&&v(h)}function ob(h,I){const c={};for(const t of Em)h&&void 0!==h[t]&&(c[t]=Gd(h[t]));I&&(c.params=h.params);return c}
function zb(h){return v(h)&&void 0!==h.step}function Mb(h){return h.view||h.width||h.height}function bc(h,I,c){const t={},{spacing:L,columns:ka}=c[I];void 0!==L&&(t.spacing=L);void 0!==ka&&("facet"in h&&!wa(h.facet)||"concat"in h)&&(t.columns=ka);"vconcat"in h&&(t.columns=1);for(const cb of Fm)if(void 0!==h[cb])if("spacing"===cb){var sa,Ba;I=h[cb];t[cb]=a(I)?I:{row:null!==(sa=I.row)&&void 0!==sa?sa:L,column:null!==(Ba=I.column)&&void 0!==Ba?Ba:L}}else t[cb]=h[cb];return t}function Kc(h,I){var c;return null!==
(c=h[I])&&void 0!==c?c:h["width"===I?"continuousWidth":"continuousHeight"]}function r(h,I){h=Q(h,I);return zb(h)?h.step:20}function Q(h,I){var c;I=null!==(c=h[I])&&void 0!==c?c:h["width"===I?"discreteWidth":"discreteHeight"];return Da(I,{step:h.step})}function ma(h){var I=Hd(h||{});const c={};for(const t of I)I=h[t],c[t]=ra(I)?je(I):Gd(I);return c}function Ma(h){h=void 0===h?{}:h;var I=Object.assign({},h),c=h.color,t=h.font;h=h.fontSize;I=(delete I.color,delete I.font,delete I.fontSize,I);t=t?{text:{font:t},
style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}:{};c?(c=void 0===c?{}:c,c={signals:[{name:"color",value:v(c)?Object.assign({},fm,c):fm}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},
axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):c={};h=h?{signals:[{name:"fontSize",value:v(h)?Object.assign({},gm,h):gm}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=u({},Gm,t,c,h,I||{});I=M(h,Hm);for(var L of["background","lineBreak","padding"])h[L]&&(I[L]=Gd(h[L]));for(var ka of Nc)h[ka]&&(I[ka]=kf(h[ka]));for(var sa of Ug)h[sa]&&(I[sa]=ma(h[sa]));for(const cb of hm)h[cb]&&(I[cb]=kf(h[cb]));h.legend&&(I.legend=kf(h.legend));h.scale&&(I.scale=kf(h.scale));if(h.style){L=h.style;ka=
Hd(L);sa={};for(Ba of ka)sa[Ba]=ma(L[Ba]);var Ba=sa;I.style=Ba}h.title&&(I.title=kf(h.title));h.view&&(I.view=kf(h.view));return I}function gb(h){h=rf(h);for(var I of Im)delete h[I];if(h.axis)for(var c in h.axis)ra(h.axis[c])&&delete h.axis[c];if(h.legend)for(var t of Jm)delete h.legend[t];if(h.mark){for(var L of cd)delete h.mark[L];h.mark.tooltip&&v(h.mark.tooltip)&&delete h.mark.tooltip}h.params&&(h.signals=(h.signals||[]).concat(id(h.params)),delete h.params);for(var ka of Km){for(const cb of cd)delete h[ka][cb];
if(I=Lm[ka])for(const cb of I)delete h[ka][cb];c=I=void 0;t=h;L=ka;var sa=void 0,Ba=t[L];"view"===L&&(sa="cell");Ba=Object.assign({},Ba,t.style[null!==(c=sa)&&void 0!==c?c:L]);P(Ba)||(t.style[null!==(I=sa)&&void 0!==I?I:L]=Ba);delete t[L]}for(const cb of Hd(vl))delete h[cb];{ka=h;const {titleMarkConfig:cb,subtitleMarkConfig:nb,subtitle:Gb}=Kd(ka.title);P(cb)||(ka.style["group-title"]=Object.assign({},ka.style["group-title"],cb));P(nb)||(ka.style["group-subtitle"]=Object.assign({},ka.style["group-subtitle"],
nb));P(Gb)?delete ka.title:ka.title=Gb}for(const cb in h)v(h[cb])&&P(h[cb])&&delete h[cb];return P(h)?void 0:h}function lb(h,I){const c="x"===I?"y":"radius";var t=h[I];h=h[c];if($b(t)&&$b(h))if("quantitative"===Oc(t)&&"quantitative"===Oc(h)){if(t.stack)return I;if(h.stack)return c;const sa=$b(t)&&!!t.aggregate,Ba=$b(h)&&!!h.aggregate;if(sa!==Ba)return sa?I:c;var L,ka;t=null===(L=t.scale)||void 0===L?void 0:L.type;L=null===(ka=h.scale)||void 0===ka?void 0:ka.type;if(t&&"linear"!==t)return c;if(L&&
"linear"!==L)return I}else{if("quantitative"===Oc(t))return I;if("quantitative"===Oc(h))return c}else{if("quantitative"===Oc(t))return I;if("quantitative"===Oc(h))return c}}function sb(h){switch(h){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Rb(h,I,c){c=void 0===c?{}:c;h=Od(h)?h.type:h;if(!Mm.has(h))return null;const t=lb(I,"x")||lb(I,"theta");if(!t)return null;const L=I[t];var ka=$b(L)?kd(L,{}):void 0;let sa=sb(t),Ba=I[sa],cb=$b(Ba)?kd(Ba,
{}):void 0;cb===ka&&(sa=Ba=cb=void 0);ka=Mg.reduce((Gb,Nb)=>{if("tooltip"!==Nb&&Sa(I,Nb)){var lc=I[Nb];for(const Yc of d(lc)){lc=nf(Yc);if(lc.aggregate)continue;const hd=kd(lc,{});hd&&hd===cb||Gb.push({channel:Nb,fieldDef:lc})}}return Gb},[]);let nb;void 0!==L.stack?nb=f(L.stack)?L.stack?"zero":null:L.stack:0<ka.length&&Nm.has(h)&&(nb="zero");if(!(nb&&nb in Om)||fb(I)&&0===ka.length)return null;if(L.scale&&L.scale.type&&L.scale.type!==Cg.LINEAR){if(c.disallowNonLinearStack)return null;Lb("Cannot stack non-linear scale (".concat(L.scale.type,
")."))}if(od(I[Ha(t)]))return void 0!==L.stack&&Lb(eb(t)),null;$b(L)&&L.aggregate&&!G(Hl,L.aggregate)&&Lb('Stacking is applied even though the aggregate function is non-summative ("'.concat(L.aggregate,'").'));return{groupbyChannel:Ba?sa:void 0,groupbyField:cb,fieldChannel:t,impute:null===L.impute?!1:we(h),stackBy:ka,offset:nb}}function ec(h){h=Object.assign({},h);h=(delete h.point,delete h.line,h);return 1<Hd(h).length?h:h.type}function Vb(h){for(const I of["line","area","rule","trail"])h[I]&&(h=
Object.assign({},h,{[I]:M(h[I],["point","line"])}));return h}function Qc(h,I,c){I=void 0===I?{}:I;if("transparent"===h.point)return{opacity:0};if(h.point)return v(h.point)?h.point:{};if(void 0!==h.point)return null;if(I.point||c.shape)return v(I.point)?I.point:{}}function dd(h,I){I=void 0===I?{}:I;if(h.line)return!0===h.line?{}:h.line;if(void 0!==h.line)return null;if(I.line)return!0===I.line?{}:I.line}function zd(h,I){return I?ee(h,I):h}function rd(h,I,c){const t=I[h];if(t&&!e(t)&&"repeat"in t){if(t.repeat in
c)return Object.assign({},I,{[h]:c[t.repeat]});Lb('Unknown repeated value "'.concat(t.repeat,'".'))}else return I}function bd(h,I){h=rd("field",h,I);if(void 0!==h){if(null===h)return null;"sort"in h&&qe(h.sort)&&(I=rd("field",h.sort,I),h=Object.assign({},h,I?{sort:I}:{}));return h}}function Jc(h,I){if($b(h))return bd(h,I);I=rd("datum",h,I);I===h||I.type||(I.type="nominal");return I}function ud(h,I){if(od(h)){if(I=Jc(h,I))return I;if(h&&"condition"in h)return{condition:h.condition}}else{if(Yb(h)){if(I=
Jc(h.condition,I))return Object.assign({},h,{condition:I});h=Object.assign({},h);return delete h.condition,h}return h}}function ee(h,I){const c={};for(const L in h)if(ii.call(h,L)){var t=h[L];Je(t)?c[L]=t.map(ka=>ud(ka,I)).filter(ka=>ka):(t=ud(t,I),void 0!==t&&(c[L]=t))}return c}function Sd(h){var {parentEncoding:I,encoding:c={},layer:t}=h;h={};if(I){var L=new Set([...Hd(I),...Hd(c)]);for(const ka of L){L=c[ka];const sa=I[ka];if(od(L))L=Object.assign({},sa,L),h[ka]=L;else if(Yb(L))h[ka]=Object.assign({},
L,{condition:Object.assign({},sa,L.condition)});else if(L||null===L)h[ka]=L;else if(t||jd(sa)||Dc(sa)||od(sa)||Je(sa))h[ka]=sa}}else h=c;return!h||P(h)?void 0:h}function ye(h){const {parentProjection:I,projection:c}=h;if(I&&c){{const {parentProjection:t,projection:L}={parentProjection:I,projection:c};h="Layer's shared projection ".concat(of(t)," is overridden by a child projection ").concat(of(L),".")}Lb(h)}return null!==c&&void 0!==c?c:I}function re(h,I){void 0===I&&(I=Ma(h.config));var c=I;c=void 0===
c?{}:c;c=Pm.map(h,{config:c});const {width:t,height:L}=h;{let {width:ka,height:sa}={width:t,height:L,autosize:h.autosize};h=Na(c)||"layer"in c;const Ba={};h?"container"==ka&&"container"==sa?(Ba.type="fit",Ba.contains="padding"):"container"==ka?(Ba.type="fit-x",Ba.contains="padding"):"container"==sa&&(Ba.type="fit-y",Ba.contains="padding"):("container"==ka&&(Lb(sc("width")),ka=void 0),"container"==sa&&(Lb(sc("height")),sa=void 0));I=Object.assign({},{type:"pad"},Ba,I?Pf(I.autosize):{},Pf(c.autosize));
"fit"!==I.type||h||(Lb('Autosize "fit" only works for single views and layered views.'),I.type="pad");"container"==ka&&"fit"!=I.type&&"fit-x"!=I.type&&Lb(Uc("width"));"container"==sa&&"fit"!=I.type&&"fit-y"!=I.type&&Lb(Uc("height"));h=ji(I,{type:"pad"})?void 0:I}return Object.assign({},c,h?{autosize:h}:{})}function Pf(h){return e(h)?{type:h}:null!==h&&void 0!==h?h:{}}function ke(h){return{explicit:!0,value:h}}function pe(h){return{explicit:!1,value:h}}function Re(h){return(I,c,t,L)=>{const ka=h(I.value,
c.value);return 0<ka?I:0>ka?c:xd(I,c,t,L)}}function xd(h,I,c,t){if(h.explicit&&I.explicit){var L=h.value;I=I.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(of(L)," and ").concat(of(I),"). Using ").concat(of(L),".");Lb(c)}return h}function Oe(h,I,c,t,L){L=void 0===L?xd:L;return void 0===h||void 0===h.value?I:h.explicit&&!I.explicit?h:I.explicit&&!h.explicit?I:ji(h.value,I.value)?h:L(h,I,c,t)}function dg(h){return"name"in h&&!("url"in h)&&!("values"in h)&&
!Xe(h)}function Xe(h){return h&&("sequence"in h||"sphere"in h||"graticule"in h)}function $f(h){return h.map(I=>"filter"in I?{filter:D(I.filter,Zd)}:I)}function vf(h,I,c){im=I||"view";jm=c||Qm;return Qf(h.trim()).map(Vf)}function Df(h,I,c,t,L){const ka=h.length;let sa=0,Ba;for(;I<ka;++I)if(Ba=h[I],sa||Ba!==c)L&&0<=L.indexOf(Ba)?--sa:t&&0<=t.indexOf(Ba)&&++sa;else break;return I}function Qf(h){const I=[],c=h.length;let t=0,L=0;for(;L<c;)L=Df(h,L,",","[{","]}"),I.push(h.substring(t,L).trim()),t=++L;
if(0===I.length)throw"Empty event selector: "+h;return I}function Vf(h){if("["===h[0]){var I=h;var c=I.length;h=Df(I,1,"]","[","]");if(h===c)throw"Empty between selector: "+I;c=Qf(I.substring(1,h));if(2!==c.length)throw"Between selector must have two elements: "+I;I=I.slice(h+1).trim();if("\x3e"!==I[0])throw"Expected '\x3e' after between selector: "+I;c=c.map(Vf);I=Vf(I.slice(1).trim());I.between?I={between:c,stream:I}:I.between=c}else{{c={source:im};const t=[];let L=[0,0],ka=0,sa=0,Ba=h.length,cb=
0,nb;if("}"===h[Ba-1]){cb=h.lastIndexOf("{");if(0<=cb){try{L=Xg(h.substring(cb+1,Ba-1))}catch(Gb){throw"Invalid throttle specification: "+h;}h=h.slice(0,cb).trim();Ba=h.length}else throw"Unmatched right brace: "+h;cb=0}if(!Ba)throw h;"@"===h[0]&&(ka=++cb);nb=Df(h,cb,":");nb<Ba&&(t.push(h.substring(sa,nb).trim()),sa=cb=++nb);cb=Df(h,cb,"[");if(cb===Ba)t.push(h.substring(sa,Ba).trim());else if(t.push(h.substring(sa,cb).trim()),I=[],sa=++cb,sa===Ba)throw"Unmatched left bracket: "+h;for(;cb<Ba;){cb=Df(h,
cb,"]");if(cb===Ba)throw"Unmatched left bracket: "+h;I.push(h.substring(sa,cb).trim());if(cb<Ba-1&&"["!==h[++cb])throw"Expected left bracket: "+h;sa=++cb}if(!(Ba=t.length)||Rm.test(t[Ba-1]))throw"Invalid event selector: "+h;1<Ba?(c.type=t[1],ka?c.markname=t[0].slice(1):jm[t[0]]?c.marktype=t[0]:c.source=t[0]):c.type=t[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=I&&(c.filter=I);L[0]&&(c.throttle=L[0]);L[1]&&(c.debounce=L[1]);I=c}}return I}function Xg(h){const I=h.split(",");
if(!h.length||2<I.length)throw h;return I.map(c=>{c=+c;if(c!==c)throw h;return c})}function Bh(h,I,c,t){var L=!!I&&"condition"in I&&I.condition;I=t(I);return L?(L=d(L).map(ka=>{const sa=t(ka);ka=ka.selection?Xh(h,ka.selection):Kh(h,ka.test);return Object.assign({},{test:ka},sa)}),{[c]:[...L,...void 0!==I?[I]:[]]}):void 0!==I?{[c]:I}:{}}function sh(h,I){I=void 0===I?"text":I;return Bh(h,h.encoding[I],I,c=>Ti(c,h.config))}function Ti(h,I,c){c=void 0===c?"datum":c;if(h){if(jd(h))return $d(h.value);if(od(h)){const {format:t,
formatType:L}=yf(h);return le({fieldOrDatumDef:h,format:t,formatType:L,expr:c,config:I})}}}function hk(h,I){I=void 0===I?{}:I;const {encoding:c,markDef:t,config:L,stack:ka}=h,sa=c.tooltip;if(Je(sa))return{tooltip:Pj({tooltip:sa},ka,L,I)};{const Ba=I.reactiveGeom?"datum.datum":"datum";return Bh(h,sa,"tooltip",cb=>{const nb=Ti(cb,L,Ba);if(nb)return nb;if(null!==cb){cb=ne("tooltip",t,L);!0===cb&&(cb={content:"encoding"});if(e(cb))return{value:cb};if(v(cb))return Dc(cb)?cb:"encoding"===cb.content?Pj(c,
ka,L,I):{signal:Ba}}})}}function nk(h,I,c,t){function L(cb,nb){var Gb,Nb=Ga(nb);cb=Id(cb)?cb:Object.assign({},cb,{type:h[Nb].type});Nb=cb.title||cf(cb,c);Nb=d(Nb).join(", ");if(nb in fg){const hd="x"===nb?"x2":"y2";var lc=nf(h[hd]);if(Hc(cb.bin)&&lc){var Yc=kd(cb,{expr:sa});lc=kd(lc,{expr:sa});const {format:qd,formatType:Md}=yf(cb);Yc=Bf(Yc,lc,qd,Md,c);ka[hd]=!0}else if(I&&I.fieldChannel===nb&&"normalize"===I.offset){const {format:qd,formatType:Md}=yf(cb);Yc=le({fieldOrDatumDef:cb,format:qd,formatType:Md,
expr:sa,config:c,normalizeStack:!0}).signal}}Yc=null!==(Gb=Yc)&&void 0!==Gb?Gb:Ti(cb,c,sa).signal;Ba.push({channel:nb,key:Nb,value:Yc})}({reactiveGeom:t}=void 0===t?{}:t);const ka={},sa=t?"datum.datum":"datum",Ba=[];Jb(h,(cb,nb)=>{$b(cb)?L(cb,nb):ub(cb)&&L(cb.condition,nb)});t={};for(const cb of Ba){const {channel:nb,key:Gb,value:Nb}=cb;ka[nb]||t[Gb]||(t[Gb]=Nb)}return t}function Pj(h,I,c,t){({reactiveGeom:t}=void 0===t?{}:t);h=nk(h,I,c,{reactiveGeom:t});h=fh(h).map(L=>{var [ka,sa]=L;return'"'.concat(ka,
'": ').concat(sa)});return 0<h.length?{signal:"{".concat(h.join(", "),"}")}:void 0}function Ah(h){const {markDef:I,config:c}=h,t=ne("aria",I,c);return!1===t?{}:Object.assign({},t?{aria:t}:{},nj(h),Nk(h))}function nj(h){const {mark:I,markDef:c,config:t}=h;if(!1===t.aria)return{};h=ne("ariaRoleDescription",c,t);return null!=h?{ariaRoleDescription:{value:h}}:I in jk?{}:{ariaRoleDescription:{value:I}}}function Nk(h){const {encoding:I,markDef:c,config:t,stack:L}=h;var ka=I.description;if(ka)return Bh(h,
ka,"description",sa=>Ti(sa,h.config));ka=ne("description",c,t);if(null!=ka)return{description:$d(ka)};if(!1===t.aria)return{};ka=nk(I,L,t);if(!P(ka))return{description:{signal:fh(ka).map((sa,Ba)=>{var [cb,nb]=sa;return'"'.concat(0<Ba?"; ":"").concat(cb,': " + (').concat(nb,")")}).join(" + ")}}}function Fg(h,I,c){c=void 0===c?{}:c;const {markDef:t,encoding:L,config:ka}=I,{vgChannel:sa}=c;let {defaultRef:Ba,defaultValue:cb}=c;if(void 0===Ba){var nb;cb=null!==(nb=cb)&&void 0!==nb?nb:ne(h,t,ka,{vgChannel:sa,
ignoreVgConfig:!0});void 0!==cb&&(Ba=$d(cb))}return Bh(I,L[h],null!==sa&&void 0!==sa?sa:h,Gb=>Ye({channel:h,channelDef:Gb,markDef:t,config:ka,scaleName:I.scaleName(h),scale:I.getScaleComponent(h),stack:null,defaultRef:Ba}))}function kh(h,I){I=void 0===I?{filled:void 0}:I;var c,t,L,ka;const {markDef:sa,encoding:Ba,config:cb}=h,{type:nb}=sa;I=null!==(c=I.filled)&&void 0!==c?c:ne("filled",sa,cb);c=G(["bar","point","circle","square","geoshape"],nb)?"transparent":void 0;c=null!==(t=null!==(L=ne(!0===I?
"color":void 0,sa,cb,{vgChannel:"fill"}))&&void 0!==L?L:cb.mark[!0===I&&"color"])&&void 0!==t?t:c;t=null!==(ka=ne(!1===I?"color":void 0,sa,cb,{vgChannel:"stroke"}))&&void 0!==ka?ka:cb.mark[!1===I&&"color"];ka=I?"fill":"stroke";L=Object.assign({},c?{fill:$d(c)}:{},t?{stroke:$d(t)}:{});sa.color&&(I?sa.fill:sa.stroke)&&Lb(gc("property",{fill:"fill"in sa,stroke:"stroke"in sa}));return Object.assign({},L,Fg("color",h,{vgChannel:ka,defaultValue:I?c:t}),Fg("fill",h,{defaultValue:Ba.fill?c:void 0}),Fg("stroke",
h,{defaultValue:Ba.stroke?t:void 0}))}function Jj(h){const {encoding:I,mark:c}=h,t=I.order;return!we(c)&&jd(t)?Bh(h,t,"zindex",L=>$d(L.value)):{}}function oj(h,I){h=jb(h);if(I=I[h])return I}function qg(h,I,c){var {defaultPos:t,vgChannel:L,isMidPoint:ka}=c;const {encoding:sa,markDef:Ba,config:cb,stack:nb}=I;c=sa[h];const Gb=sa[Ha(h)],Nb=I.scaleName(h),lc=I.getScaleComponent(h),Yc=oj(h,Ba),hd=yi({model:I,defaultPos:t,channel:h,scaleName:Nb,scale:lc});if(!c&&h in fg&&(sa.latitude||sa.longitude))I={field:I.getName(h)};
else a:{I={channel:h,channelDef:c,channel2Def:Gb,markDef:Ba,config:cb,isMidPoint:ka,scaleName:Nb,scale:lc,stack:nb,offset:Yc,defaultRef:hd};const {channel:qd,channelDef:Md,isMidPoint:Rd,scaleName:Ee,stack:Hf,offset:se,markDef:Ef,config:Yd}=I;if(od(Md)&&Hf&&qd===Hf.fieldChannel){if($b(Md)&&(I=Za({channel:qd,fieldDef:Md,isMidPoint:Rd,markDef:Ef,stack:Hf,config:Yd}),void 0!==I)){I=Td({scaleName:Ee,fieldOrDatumDef:Md,startSuffix:"start",band:I,offset:se});break a}I=Ge(Md,Ee,{suffix:"end"},{offset:se})}else I=
Xd(I)}return I?{[L||h]:I}:void 0}function yi(h){var {model:I,defaultPos:c,channel:t,scaleName:L,scale:ka}=h;const {markDef:sa,config:Ba}=I;return()=>{var cb=Ga(t),nb=pa(t);nb=ne(t,sa,Ba,{vgChannel:nb});if(void 0!==nb)return Xf(t,nb);switch(c){case "zeroOrMin":case "zeroOrMax":if(L&&(nb=ka.get("type"),!G([Cg.LOG,Cg.TIME,Cg.UTC],nb)&&ka.domainDefinitelyIncludesZero()))return{scale:L,value:0};if("zeroOrMin"===c)return"y"===cb?{field:{group:"height"}}:{value:0};switch(cb){case "radius":return{signal:"min(".concat(I.width.signal,
",").concat(I.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return cb=I[Ua(t)],Object.assign({},cb,{mult:.5})}}}function zi(h,I,c,t){t=void 0===t?"middle":t;if("radius"===h||"theta"===h)return pa(h);var L="x"===h?"align":"baseline";I=ne(L,I,c);Dc(I)?(Lb("The ".concat(L," for range marks cannot be an expression")),L=void 0):L=I;return"x"===h?Sm[L||("top"===t?"left":"center")]:Tm[L||t]}function Ai(h,I,c){var {defaultPos:t,
defaultPos2:L,range:ka}=c;return ka?Hj(h,I,{defaultPos:t,defaultPos2:L}):qg(h,I,{defaultPos:t})}function Hj(h,I,c){var {defaultPos:t,defaultPos2:L}=c;const {markDef:ka,config:sa}=I;var Ba=Ha(h);c=Ua(h);{const {encoding:se,mark:Ef,markDef:Yd,stack:sg,config:Mf}=I;var cb=Ga(Ba);const Ve=Ua(Ba),pg=pa(Ba);var nb=se[cb];const Ig=I.scaleName(cb),hg=I.getScaleComponent(cb);cb=Ba in se||Ba in Yd?oj(Ba,I.markDef):oj(cb,I.markDef);if(nb||"x2"!==Ba&&"y2"!==Ba||!se.latitude&&!se.longitude){var {channel:Gb,channelDef:Nb,
channel2Def:lc,markDef:Yc,config:hd,scaleName:qd,scale:Md,stack:Rd,offset:Ee,defaultRef:Hf}={channel:Ba,channelDef:nb,channel2Def:se[Ba],markDef:Yd,config:Mf,scaleName:Ig,scale:hg,stack:sg,offset:cb,defaultRef:void 0};nb=od(Nb)&&Rd&&Gb.charAt(0)===Rd.fieldChannel.charAt(0)?Ge(Nb,qd,{suffix:"start"},{offset:Ee}):Xd({channel:Gb,channelDef:lc,scaleName:qd,scale:Md,stack:Rd,markDef:Yc,config:hd,offset:Ee,defaultRef:Hf});Ba=void 0!==nb?{[pg]:nb}:Qi(Ba,Yd)||Qi(Ba,{[Ba]:Cf(Ba,Yd,Mf.style),[Ve]:Cf(Ve,Yd,
Mf.style)})||Qi(Ba,Mf[Ef])||Qi(Ba,Mf.mark)||{[pg]:yi({model:I,defaultPos:L,channel:Ba,scaleName:Ig,scale:hg})()}}else Ba={[pg]:{field:I.getName(Ba)}}}c=Ba[c]?zi(h,ka,sa):pa(h);return Object.assign({},qg(h,I,{defaultPos:t,vgChannel:c}),Ba)}function Qi(h,I){const c=Ua(h),t=pa(h);if(void 0!==I[t])return{[t]:Xf(h,I[t])};if(void 0!==I[h])return{[t]:Xf(h,I[h])};if(I[c])return{[c]:Xf(h,I[c])}}function ni(h,I,c){var t,L;const {config:ka,encoding:sa,markDef:Ba,stack:cb}=h;var nb=Ha(I),Gb=Ua(I),Nb=sa[I];nb=
sa[nb];var lc=h.getScaleComponent(I),Yc=lc?lc.get("type"):void 0,hd=h.scaleName(I);const qd=Ba.orient;Gb=null!==(t=null!==(L=sa[Gb])&&void 0!==L?L:sa.size)&&void 0!==t?t:ne("size",Ba,ka,{vgChannel:Gb});t="bar"===c&&("x"===I?"vertical"===qd:"horizontal"===qd);if($b(Nb)&&(pc(Nb.bin)||Hc(Nb.bin)||Nb.timeUnit&&!nb)&&!Gb&&!(Yc in nh)){var Md,Rd;c=Za({channel:I,fieldDef:Nb,stack:cb,markDef:Ba,config:ka});h=null===(Md=h.component.axes[I])||void 0===Md?void 0:Md[0];h=null!==(Rd=null===h||void 0===h?void 0:
h.get("translate"))&&void 0!==Rd?Rd:.5;a:{I={fieldDef:Nb,fieldDef2:nb,channel:I,markDef:Ba,scaleName:hd,band:c,axisTranslate:h,spacing:I in fg?ne("binSpacing",Ba,ka):void 0,reverse:lc.get("reverse"),config:ka};var {fieldDef:Ee,fieldDef2:Hf,channel:se,band:Ef,scaleName:Yd,markDef:sg,spacing:Mf=0,axisTranslate:Ve,reverse:pg,config:Ig}=I;I=Ha(se);Nb=pa(se);h=pa(I);c=oj(se,sg);if(pc(Ee.bin)||Ee.timeUnit)I={[h]:qj({channel:se,fieldDef:Ee,scaleName:Yd,markDef:sg,band:(1-Ef)/2,offset:Ui(I,Mf,pg,Ve,c),config:Ig}),
[Nb]:qj({channel:se,fieldDef:Ee,scaleName:Yd,markDef:sg,band:1-(1-Ef)/2,offset:Ui(se,Mf,pg,Ve,c),config:Ig})};else{if(Hc(Ee.bin)){var hg=Ge(Ee,Yd,{},{offset:Ui(I,Mf,pg,Ve,c)});if($b(Hf)){I={[h]:hg,[Nb]:Ge(Hf,Yd,{},{offset:Ui(se,Mf,pg,Ve,c)})};break a}if(v(Ee.bin)&&Ee.bin.step){I={[h]:hg,[Nb]:{signal:'scale("'.concat(Yd,'", ').concat(kd(Ee,{expr:"datum"})," + ").concat(Ee.bin.step,")"),offset:Ui(se,Mf,pg,Ve,c)}};break a}}Lb(ac(I));I=void 0}}return I}if((od(Nb)&&Yc in nh||t)&&!nb){{var Ng;const {markDef:yg,
encoding:Pl,config:Rj,stack:jl}=h;Md=yg.orient;lc=h.scaleName(I);hd=h.getScaleComponent(I);Rd=Ua(I);nb=Ha(I);Md="horizontal"===Md&&"y"===I||"vertical"===Md&&"x"===I;t=ne(Md?"size":Rd,yg,Rj,{vgChannel:Rd});if(Pl.size||void 0!==t)Md?hg=Fg("size",h,{vgChannel:Rd,defaultValue:t}):Lb('Cannot apply size to non-oriented mark "'.concat(yg.type,'".'));Md=null!==(Ng=od(Nb)?Za({channel:I,fieldDef:Nb,markDef:yg,stack:jl,config:Rj}):void 0)&&void 0!==Ng?Ng:1;hg||(Yc=Rd,Ng=lc,t=hd,hg=Rj,L=Md,t?(Yc=t.get("type"),
"point"===Yc||"band"===Yc?void 0!==hg[c].discreteBandSize?c={value:hg[c].discreteBandSize}:Yc===Cg.POINT?(c=t.get("range"),c=uc(c)&&a(c.step)?{value:c.step-2}:{value:18}):c={scale:Ng,band:L}:c={value:hg[c].continuousBandSize}):(Ng=r(hg.view,Yc),c=Da(hg[c].discreteBandSize,Ng-2),c=void 0!==c?{value:c}:void 0),hg={[Rd]:c});t="band"!==(null===hd||void 0===hd?void 0:hd.get("type"))||!("band"in hg[Rd]);c=zi(I,yg,Rj,t?"middle":"top");Ng=oj(I,yg);I=Xd({channel:I,channelDef:Nb,markDef:yg,config:Rj,scaleName:lc,
scale:hd,stack:jl,offset:Ng,defaultRef:yi({model:h,defaultPos:"mid",channel:I,scaleName:lc,scale:hd}),band:t?.5:(1-Md)/2});Rd?I=Object.assign({},{[c]:I},hg):(Nb=pa(nb),h=hg[Rd],h=Ng?Object.assign({},h,{offset:Ng}):h,I={[c]:I,[Nb]:Je(I)?[I[0],Object.assign({},I[1],{offset:h})]:Object.assign({},I,{offset:h})})}return I}return Hj(I,h,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Ui(h,I,c,t,L){if(h in bl)return 0;h="x"===h||"y2"===h?-I/2:I/2;if(Dc(c)||Dc(L)||Dc(t))return c=Ce(c),L=Ce(L),
t=(t=Ce(t))?"".concat(t," + "):"",c=c?"(".concat(c," ? -1 : 1) * "):"",h=L?"(".concat(L," + ").concat(h,")"):h,{signal:t+c+h};L=L||0;return t+(c?-L-h:+L+h)}function qj(h){var {channel:I,fieldDef:c,scaleName:t,markDef:L,band:ka,offset:sa,config:Ba}=h;h=Td({scaleName:t,fieldOrDatumDef:c,band:ka,offset:sa});return Be({fieldDef:c,channel:I,markDef:L,ref:h,config:Ba})}function hh(h,I){const {fill:c,stroke:t}="include"===I.color?kh(h):{};return Object.assign({},Qj(h.markDef,I),Vi(h,"fill",c),Vi(h,"stroke",
t),Fg("opacity",h),Fg("fillOpacity",h),Fg("strokeOpacity",h),Fg("strokeWidth",h),Fg("strokeDash",h),Jj(h),hk(h),sh(h,"href"),Ah(h))}function Vi(h,I,c){const {config:t,mark:L,markDef:ka}=h;return"hide"===ne("invalid",ka,t)&&c&&!we(L)&&(h=Tk(h,{invalid:!0,channels:Lj}))?{[I]:[{test:h,value:null},...d(c)]}:c?{[I]:c}:{}}function Qj(h,I){return Bi.reduce((c,t)=>{Um.has(t)||void 0===h[t]||"ignore"===I[t]||(c[t]=$d(h[t]));return c},{})}function Tk(h,I){var {invalid:c=!1,channels:t}=I;I=t.reduce((L,ka)=>
{var sa=h.getScaleComponent(ka);sa&&(sa=sa.get("type"),(ka=h.vgField(ka,{expr:"datum"}))&&sa in Jh&&(L[ka]=!0));return L},{});I=Hd(I);if(0<I.length){const L=c?"||":"\x26\x26";return I.map(ka=>jf(ka,c)).join(" ".concat(L," "))}}function rj(h){const {config:I,markDef:c}=h;return ne("invalid",c,I)&&(h=sj(h,{channels:Wg}))?{defined:{signal:h}}:{}}function sj(h,I){var {invalid:c=!1,channels:t}=I;I=t.reduce((L,ka)=>{var sa=h.getScaleComponent(ka);sa&&(sa=sa.get("type"),(ka=h.vgField(ka,{expr:"datum"}))&&
sa in Jh&&(L[ka]=!0));return L},{});I=Hd(I);if(0<I.length){const L=c?"||":"\x26\x26";return I.map(ka=>jf(ka,c)).join(" ".concat(L," "))}}function og(h,I){if(void 0!==I)return{[h]:$d(I)}}function Wi(h,I){h=n(h.scaleName(I));return"domain(".concat(h,")")}function oi(h){var I;return h.parent&&Lg(h.parent)&&(null!==(I=!h.parent.parent)&&void 0!==I?I:oi(h.parent.parent))}function Gi(h,I,c){var t;const L=null===(t=h.fieldDef(I))||void 0===t?void 0:t.field;Zg(h,ka=>{var sa;const Ba=null!==(sa=ka.project.hasField[L])&&
void 0!==sa?sa:ka.project.hasChannel[I];if(Ba&&km.has(ka)){var cb;sa=null!==(cb=c.get("selections"))&&void 0!==cb?cb:[];sa.push(ka.name);c.set("selections",sa,!1);Ba.hasLegend=!0}})}function lg(h,I,c,t,L){var ka,sa=I.name,Ba=sa+"_translate_anchor";sa+="_translate_delta";var cb=c.channel;const nb=Sj.has(I);I=L.filter(Nb=>Nb.name===c.signals[nb?"data":"visual"])[0];t=h.getSizeSignalRef(t).signal;h=h.getScaleComponent(cb);L=h.get("type");const Gb=nb&&"x"===cb?"-":"";Ba="".concat(Ba,".extent_").concat(cb);
cb="".concat(Gb).concat(sa,".").concat(cb," / ")+(nb?"".concat(t):"span(".concat(Ba,")"));Ba="".concat(nb?"log"===L?"panLog":"pow"===L?"panPow":"panLinear":"panLinear","(").concat(Ba,", ").concat(cb)+(nb&&"pow"===L?", ".concat(null!==(ka=h.get("exponent"))&&void 0!==ka?ka:1):"")+")";I.on.push({events:{signal:sa},update:nb?Ba:"clampRange(".concat(Ba,", 0, ").concat(t,")")})}function Dg(h,I,c,t,L){var ka,sa=I.name;const Ba=c.channel,cb=Sj.has(I);I=L.filter(Nb=>Nb.name===c.signals[cb?"data":"visual"])[0];
t=h.getSizeSignalRef(t).signal;L=h.getScaleComponent(Ba);const nb=L.get("type"),Gb=cb?Wi(h,Ba):I.name;h=sa+"_zoom_delta";sa="".concat(sa).concat("_zoom_anchor",".").concat(Ba);sa="".concat(cb?"log"===nb?"zoomLog":"pow"===nb?"zoomPow":"zoomLinear":"zoomLinear","(").concat(Gb,", ").concat(sa,", ").concat(h)+(cb&&"pow"===nb?", ".concat(null!==(ka=L.get("exponent"))&&void 0!==ka?ka:1):"")+")";I.on.push({events:{signal:h},update:cb?sa:"clampRange(".concat(sa,", 0, ").concat(t,")")})}function Ei(h,I){for(const c of Vm)c.has(h)&&
I(c)}function vh(h,I,c){I=void 0===I?!0:I;c=void 0===c?Jk:c;return Je(h)?(h=h.map(t=>vh(t,I,c)),I?"[".concat(h.join(", "),"]"):h):Ac(h)?I?c(Ub(h)):c(mc(h)):I?c(JSON.stringify(h)):h}function Sh(h,I){Zg(h,(c,t)=>{const L=c.name;let ka=t.modifyExpr(h,c);I.push(...t.signals(h,c));Ei(c,sa=>{sa.signals&&(I=sa.signals(h,c,I));sa.modifyExpr&&(ka=sa.modifyExpr(h,c,ka))});I.push({name:L+"_modify",on:[{events:{signal:c.name+"_tuple"},update:"modify(".concat(n(c.name+"_store"),", ").concat(ka,")")}]})});return tj(I)}
function Yj(h,I){h.component.selection&&Hd(h.component.selection).length&&(h=n(h.getName("cell")),I.unshift({name:"facet",value:{},on:[{events:vf("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(h,").datum")}]}));return tj(I)}function Vj(h,I){let c=!1;Zg(h,(t,L)=>{const ka=t.name,sa=n(ka+"_store");if(0===I.filter(Ba=>Ba.name===ka).length){const Ba="global"===t.resolve?"union":t.resolve,cb="multi"===t.type?", true)":")";I.push({name:t.name,update:"".concat("vlSelectionResolve",
"(").concat(sa,", ").concat(n(Ba)).concat(cb)})}c=!0;L.topLevelSignals&&(I=L.topLevelSignals(h,t,I));Ei(t,Ba=>{Ba.topLevelSignals&&(I=Ba.topLevelSignals(h,t,I))})});c&&0===I.filter(t=>"unit"===t.name).length&&I.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return tj(I)}function Xj(h,I){const c=[...I];Zg(h,t=>{const L={name:t.name+"_store"};if(t.init){const ka=t.project.items.map(Ba=>{Ba=Object.assign({},Ba);return delete Ba.signals,Ba}),sa=t.init.map(Ba=>
vh(Ba,!1));L.values="interval"===t.type?[{unit:Eg(h,{escape:!1}),fields:ka,values:sa}]:sa.map(Ba=>({unit:Eg(h,{escape:!1}),fields:ka,values:Ba}))}c.filter(ka=>ka.name===t.name+"_store").length||c.push(L)});return c}function Wj(h,I){Zg(h,(c,t)=>{I=t.marks?t.marks(h,c,I):I;Ei(c,L=>{L.marks&&(I=L.marks(h,c,I))})});return I}function vg(h,I){for(const c of h.children)ng(c)&&(I=Wj(c,I));return I}function tj(h){return h.map(I=>{I.on&&!I.on.length&&delete I.on;return I})}function Th(h,I,c,t){const L=c.channel,
ka=c.signals.visual;c=c.signals.data;const sa=Sj.has(I),Ba=n(h.scaleName(L));var cb=h.getScaleComponent(L);cb=cb?cb.get("type"):void 0;const nb=lc=>"scale(".concat(Ba,", ").concat(lc,")"),Gb=h.getSizeSignalRef("x"===L?"width":"height").signal,Nb="".concat(L,"(unit)");h=Ri(I,(lc,Yc)=>[...lc,{events:Yc.between[0],update:"[".concat(Nb,", ").concat(Nb,"]")},{events:Yc,update:"[".concat(ka,"[0], clamp(").concat(Nb,", 0, ").concat(Gb,")]")}]);h.push({events:{signal:I.name+"_scale_trigger"},update:cb in
Jh?"[".concat(nb("".concat(c,"[0]")),", ").concat(nb("".concat(c,"[1]")),"]"):"[0, 0]"});return sa?[{name:c,on:[]}]:[Object.assign({},{name:ka},t?{init:vh(t,!0,nb)}:{value:[]},{on:h}),Object.assign({},{name:c},t?{init:vh(t)}:{},{on:[{events:{signal:ka},update:"".concat(ka,"[0] \x3d\x3d\x3d ").concat(ka,"[1] ? null : invert(").concat(Ba,", ").concat(ka,")")}]})]}function Ri(h,I){return h.events.reduce((c,t)=>t.between?I(c,t):(Lb("".concat(t," is not an ordered event stream for interval selections.")),
c),[])}function wg(h,I){const c=I.name;var t=c+"_tuple_fields";const L=I.project.items.map(ka=>{const sa=h.fieldDef(ka.channel);return sa&&sa.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ka.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ka.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(ka.field),"]")}).join(", ");t="unit: ".concat(Eg(h),", fields: ").concat(t,
", values");I=I.events;return[{name:c+"_tuple",on:I?[{events:I,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(t,": [").concat(L,"]} : null"),force:!0}]:[]}]}function Zg(h,I){if(h=h.component.selection)for(const c of Tg(h))if(!0===I(c,Wm[c.type]))break}function Eg(h,I){({escape:I}=void 0===I?{escape:!0}:I);I=I?n(h.name):h.name;for(h=h.parent;h&&!Rg(h);)h=h.parent;if(h){const {facet:c}=h;for(const t of zh)c[t]&&(I+=" + '__facet_".concat(t,"_' + (facet[").concat(n(h.vgField(t)),
"])"))}return I}function bi(h){let I=!1;Zg(h,c=>{I=I||c.project.items.some(t=>"_vgsid_"===t.field)});return I}function eh(h){this.type=h}function Fi(h){switch(h.type){case "ArrayExpression":return h.elements;case "BinaryExpression":case "LogicalExpression":return[h.left,h.right];case "CallExpression":return[h.callee].concat(h.arguments);case "ConditionalExpression":return[h.test,h.consequent,h.alternate];case "MemberExpression":return[h.object,h.property];case "ObjectExpression":return h.properties;
case "Property":return[h.key,h.value];case "UnaryExpression":return[h.argument];default:return[]}}function wf(h,I){if(!h)throw Error("ASSERT: "+I);}function Ff(h){return 48<=h&&57>=h}function Ag(h){return 0<="0123456789abcdefABCDEF".indexOf(h)}function ci(h){return 0<="01234567".indexOf(h)}function Gh(h){return 10===h||13===h||8232===h||8233===h}function Jg(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||92===h||128<=h&&Xm.test(String.fromCharCode(h))}function Zh(h){return 36===h||95===h||
65<=h&&90>=h||97<=h&&122>=h||48<=h&&57>=h||92===h||128<=h&&Ym.test(String.fromCharCode(h))}function pk(){for(;yd<uh;){const h=Me.charCodeAt(yd);if(32===h||9===h||11===h||12===h||160===h||5760<=h&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(h)||Gh(h))++yd;else break}}function pj(h){var I=0;var c="u"===h?4:2;for(h=0;h<c;++h)if(yd<uh&&Ag(Me[yd])){var t=Me[yd++];I=16*I+"0123456789abcdef".indexOf(t.toLowerCase())}else pf({},"Unexpected token %0",
"ILLEGAL");return String.fromCharCode(I)}function mi(){var h=Me.charCodeAt(yd++);var I=String.fromCharCode(h);92===h&&(117!==Me.charCodeAt(yd)&&pf({},"Unexpected token %0","ILLEGAL"),++yd,(h=pj("u"))&&"\\"!==h&&Jg(h.charCodeAt(0))||pf({},"Unexpected token %0","ILLEGAL"),I=h);for(;yd<uh;){h=Me.charCodeAt(yd);if(!Zh(h))break;++yd;I+=String.fromCharCode(h);92===h&&(I=I.substr(0,I.length-1),117!==Me.charCodeAt(yd)&&pf({},"Unexpected token %0","ILLEGAL"),++yd,(h=pj("u"))&&"\\"!==h&&Zh(h.charCodeAt(0))||
pf({},"Unexpected token %0","ILLEGAL"),I+=h)}return I}function ug(){var h=yd,I=Me.charCodeAt(yd),c=Me[yd];switch(I){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++yd,{type:7,value:String.fromCharCode(I),start:h,end:yd};default:var t=Me.charCodeAt(yd+1);if(61===t)switch(I){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return yd+=2,{type:7,value:String.fromCharCode(I)+String.fromCharCode(t),start:h,end:yd};
case 33:case 61:return yd+=2,61===Me.charCodeAt(yd)&&++yd,{type:7,value:Me.slice(h,yd),start:h,end:yd}}}I=Me.substr(yd,4);if("\x3e\x3e\x3e\x3d"===I)return yd+=4,{type:7,value:I,start:h,end:yd};I=I.substr(0,3);if("\x3e\x3e\x3e"===I||"\x3c\x3c\x3d"===I||"\x3e\x3e\x3d"===I)return yd+=3,{type:7,value:I,start:h,end:yd};I=I.substr(0,2);if(c===I[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===I)return yd+=2,{type:7,value:I,start:h,end:yd};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++yd,{type:7,
value:c,start:h,end:yd};pf({},"Unexpected token %0","ILLEGAL")}function ri(){var h=Me[yd];wf(Ff(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");var I=yd;var c="";if("."!==h){c=Me[yd++];h=Me[yd];if("0"===c){if("x"===h||"X"===h){++yd;for(c="";yd<uh&&Ag(Me[yd]);)c+=Me[yd++];0===c.length&&pf({},"Unexpected token %0","ILLEGAL");Jg(Me.charCodeAt(yd))&&pf({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt("0x"+c,16),start:I,end:yd}}if(ci(h)){for(c=
"0"+Me[yd++];yd<uh&&ci(Me[yd]);)c+=Me[yd++];(Jg(Me.charCodeAt(yd))||Ff(Me.charCodeAt(yd)))&&pf({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt(c,8),octal:!0,start:I,end:yd}}h&&Ff(h.charCodeAt(0))&&pf({},"Unexpected token %0","ILLEGAL")}for(;Ff(Me.charCodeAt(yd));)c+=Me[yd++];h=Me[yd]}if("."===h){for(c+=Me[yd++];Ff(Me.charCodeAt(yd));)c+=Me[yd++];h=Me[yd]}if("e"===h||"E"===h){c+=Me[yd++];h=Me[yd];if("+"===h||"-"===h)c+=Me[yd++];if(Ff(Me.charCodeAt(yd)))for(;Ff(Me.charCodeAt(yd));)c+=
Me[yd++];else pf({},"Unexpected token %0","ILLEGAL")}Jg(Me.charCodeAt(yd))&&pf({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:I,end:yd}}function dh(h,I){let c=h;0<=I.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,(t,L)=>{if(1114111>=parseInt(L,16))return"x";pf({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(t){pf({},"Invalid regular expression")}try{return new RegExp(h,I)}catch(t){return null}}function Aj(){pk();
if(yd>=uh)return{type:2,start:yd,end:yd};var h=Me.charCodeAt(yd);if(Jg(h)){h=yd;if(92===Me.charCodeAt(yd))var I=mi();else a:{for(I=yd++;yd<uh;){var c=Me.charCodeAt(yd);if(92===c){yd=I;I=mi();break a}if(Zh(c))++yd;else break}I=Me.slice(I,yd)}return{type:1===I.length?3:Zm.hasOwnProperty(I)?4:"null"===I?5:"true"===I||"false"===I?1:3,value:I,start:h,end:yd}}if(40===h||41===h||59===h)return ug();if(39===h||34===h){var t="";c=!1;h=Me[yd];wf("'"===h||'"'===h,"String literal must starts with a quote");I=
yd;for(++yd;yd<uh;){var L=Me[yd++];if(L===h){h="";break}else if("\\"===L)if((L=Me[yd++])&&Gh(L.charCodeAt(0)))"\r"===L&&"\n"===Me[yd]&&++yd;else switch(L){case "u":case "x":if("{"===Me[yd]){++yd;var ka=Me[yd];L=0;for("}"===ka&&pf({},"Unexpected token %0","ILLEGAL");yd<uh;){ka=Me[yd++];if(!Ag(ka))break;L=16*L+"0123456789abcdef".indexOf(ka.toLowerCase())}(1114111<L||"}"!==ka)&&pf({},"Unexpected token %0","ILLEGAL");L=65535>=L?String.fromCharCode(L):String.fromCharCode((L-65536>>10)+55296,(L-65536&1023)+
56320);t+=L}else t+=pj(L);break;case "n":t+="\n";break;case "r":t+="\r";break;case "t":t+="\t";break;case "b":t+="\b";break;case "f":t+="\f";break;case "v":t+="\x0B";break;default:ci(L)?(ka="01234567".indexOf(L),0!==ka&&(c=!0),yd<uh&&ci(Me[yd])&&(c=!0,ka=8*ka+"01234567".indexOf(Me[yd++]),0<="0123".indexOf(L)&&yd<uh&&ci(Me[yd])&&(ka=8*ka+"01234567".indexOf(Me[yd++]))),t+=String.fromCharCode(ka)):t+=L}else if(Gh(L.charCodeAt(0)))break;else t+=L}""!==h&&pf({},"Unexpected token %0","ILLEGAL");return{type:8,
value:t,octal:c,start:I,end:yd}}return 46===h?Ff(Me.charCodeAt(yd+1))?ri():ug():Ff(h)?ri():ug()}function Vg(){const h=ig;yd=h.end;ig=Aj();yd=h.end;return h}function Ch(){const h=yd;ig=Aj();yd=h}function Kj(h,I,c){const t=new eh("||"===h||"\x26\x26"===h?"LogicalExpression":"BinaryExpression");t.operator=h;t.left=I;t.right=c;return t}function Vh(h){const I=new eh("Identifier");I.name=h;return I}function Dh(h){const I=new eh("Literal");I.value=h.value;I.raw=Me.slice(h.start,h.end);h.regex&&("//"===I.raw&&
(I.raw="/(?:)/"),I.regex=h.regex);return I}function Hi(h,I,c){const t=new eh("MemberExpression");t.computed="["===h;t.object=I;t.property=c;t.computed||(c.member=!0);return t}function di(h,I,c){const t=new eh("Property");t.key=I;t.value=c;t.kind=h;return t}function pf(h,I){var c=Array.prototype.slice.call(arguments,2),t=I.replace(/%(\d)/g,(ka,sa)=>{wf(sa<c.length,"Message reference must be in range");return c[sa]});var L=Error(t);L.index=yd;L.description=t;throw L;}function mh(h){2===h.type&&pf(h,
"Unexpected end of input");6===h.type&&pf(h,"Unexpected number");8===h.type&&pf(h,"Unexpected string");3===h.type&&pf(h,"Unexpected identifier");4===h.type&&pf(h,"Unexpected reserved word");pf(h,"Unexpected token %0",h.value)}function mg(h){const I=Vg();7===I.type&&I.value===h||mh(I)}function Tf(h){return 7===ig.type&&ig.value===h}function ei(){yd=ig.start;const h=Vg();return 8===h.type||6===h.type?(h.octal&&pf(h,"Octal literals are not allowed in strict mode."),Dh(h)):Vh(h.value)}function Li(){if(Tf("(")){mg("(");
var h=gi();mg(")");return h}if(Tf("[")){h=[];yd=ig.start;for(mg("[");!Tf("]");)Tf(",")?(Vg(),h.push(null)):(h.push(Hh()),Tf("]")||mg(","));Vg();var I=new eh("ArrayExpression");I.elements=h;return h=I}if(Tf("{")){h=[];I={};var c=String;yd=ig.start;for(mg("{");!Tf("}");){yd=ig.start;var t=ig;if(3===t.type){var L=ei();mg(":");t=Hh();t=di("init",L,t)}else 2===t.type||7===t.type?(mh(t),t=void 0):(L=ei(),mg(":"),t=Hh(),t=di("init",L,t));L="Identifier"===t.key.type?t.key.name:c(t.key.value);L="$"+L;Object.prototype.hasOwnProperty.call(I,
L)?pf({},"Duplicate data property in object literal not allowed in strict mode"):I[L]=!0;h.push(t);Tf("}")||mg(",")}mg("}");I=new eh("ObjectExpression");I.properties=h;return h=I}h=ig.type;yd=ig.start;if(3===h||$m[ig.value])I=Vh(Vg().value);else if(8===h||6===h)ig.octal&&pf(ig,"Octal literals are not allowed in strict mode."),I=Dh(Vg());else{if(4===h)throw Error("Disabled.");if(1===h)h=Vg(),h.value="true"===h.value,I=Dh(h);else if(5===h)h=Vg(),h.value=null,I=Dh(h);else if(Tf("/")||Tf("/\x3d")){var ka;
ig=null;pk();h=yd;I=Me[yd];wf("/"===I,"Regular expression literal must start with a slash");c=Me[yd++];for(L=t=!1;yd<uh;)if(I=Me[yd++],c+=I,"\\"===I)I=Me[yd++],Gh(I.charCodeAt(0))&&pf({},"Invalid regular expression: missing /"),c+=I;else if(Gh(I.charCodeAt(0)))pf({},"Invalid regular expression: missing /");else if(t)"]"===I&&(t=!1);else if("/"===I){L=!0;break}else"["===I&&(t=!0);L||pf({},"Invalid regular expression: missing /");I=c.substr(1,c.length-2);for(ka=L="";yd<uh;){t=Me[yd];if(!Zh(t.charCodeAt(0)))break;
++yd;"\\"===t&&yd<uh?pf({},"Unexpected token %0","ILLEGAL"):(ka+=t,L+=t)}0<=ka.search(/[^gimuy]/g)&&pf({},"Invalid regular expression",ka);t=ka;ka=dh(I,t);I=Dh({literal:c+L,value:ka,regex:{pattern:I,flags:t},start:h,end:yd});Ch()}else mh(Vg())}return I}function Xi(){var h;for(h=Li();;)if(Tf(".")){mg(".");yd=ig.start;var I=Vg();3===I.type||4===I.type||1===I.type||5===I.type||mh(I);I=Vh(I.value);h=Hi(".",h,I)}else if(Tf("(")){I=[];mg("(");if(!Tf(")"))for(;yd<uh;){I.push(Hh());if(Tf(")"))break;mg(",")}mg(")");
{const c=new eh("CallExpression");c.callee=h;c.arguments=I;h=c}}else if(Tf("["))mg("["),I=gi(),mg("]"),h=Hi("[",h,I);else break;if(7===ig.type&&(Tf("++")||Tf("--")))throw Error("Disabled.");return h}function fi(){if(7!==ig.type&&4!==ig.type)var h=Xi();else{if(Tf("++")||Tf("--"))throw Error("Disabled.");if(Tf("+")||Tf("-")||Tf("~")||Tf("!")){var I=Vg();h=fi();{I=I.value;const c=new eh("UnaryExpression");c.operator=I;c.argument=h;c.prefix=!0;h=c}}else{if(4===ig.type&&"delete"===ig.value||4===ig.type&&
"void"===ig.value||4===ig.type&&"typeof"===ig.value)throw Error("Disabled.");h=Xi()}}return h}function Wh(h){let I=0;if(7!==h.type&&4!==h.type)return 0;switch(h.value){case "||":I=1;break;case "\x26\x26":I=2;break;case "|":I=3;break;case "^":I=4;break;case "\x26":I=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":I=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":I=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":I=8;break;
case "+":case "-":I=9;break;case "*":case "/":case "%":I=11}return I}function Hh(){var h=ig;var I=fi();var c=ig;var t=Wh(c);if(0===t)var L=I;else{c.prec=t;Vg();h=[h,ig];var ka=fi();for(L=[I,c,ka];0<(t=Wh(ig));){for(;2<L.length&&t<=L[L.length-2].prec;)ka=L.pop(),c=L.pop().value,I=L.pop(),h.pop(),I=Kj(c,I,ka),L.push(I);c=Vg();c.prec=t;L.push(c);h.push(ig);I=fi();L.push(I)}t=L.length-1;I=L[t];for(h.pop();1<t;)h.pop(),I=Kj(L[t-1].value,L[t-2],I),t-=2;L=I}Tf("?")&&(Vg(),h=Hh(),mg(":"),t=Hh(),I=new eh("ConditionalExpression"),
I.test=L,I.consequent=h,I.alternate=t,L=I);return L}function gi(){const h=Hh();if(Tf(","))throw Error("Disabled.");return h}function Te(h){Me=h;yd=0;uh=Me.length;ig=null;Ch();h=gi();if(2!==ig.type)throw Error("Unexpect token after expression.");return h}function dj(h){const I=[];if("Identifier"===h.type)return[h.name];if("Literal"===h.type)return[h.value];"MemberExpression"===h.type&&(I.push(...dj(h.object)),I.push(...dj(h.property)));return I}function ih(h){return"MemberExpression"===h.object.type?
ih(h.object):"datum"===h.object.name}function wh(h){h=Te(h);const I=new Set;h.visit(c=>{"MemberExpression"===c.type&&ih(c)&&I.add(dj(c).slice(1).join("."))});return I}function Ih(h,I){const c={},t=h.config.selection;for(const sa of Hd(null!==I&&void 0!==I?I:{})){const Ba=rf(I[sa]);var L=Object.assign({},t[Ba.type]);L=(delete L.fields,delete L.encodings,L);for(const nb in L)if(!("encodings"===nb&&Ba.fields||"fields"===nb&&Ba.encodings)&&("mark"===nb&&(Ba[nb]=Object.assign({},L[nb],Ba[nb])),void 0===
Ba[nb]||!0===Ba[nb])){var ka;Ba[nb]=null!==(ka=L[nb])&&void 0!==ka?ka:Ba[nb]}L=V(sa);const cb=c[L]=Object.assign({},Ba,{name:L,events:e(Ba.on)?vf(Ba.on,"scope"):rf(Ba.on)});Ei(cb,nb=>{nb.has(cb)&&nb.parse&&nb.parse(h,cb,Ba,I[sa])})}return c}function Xh(h,I,c,t){t=void 0===t?"datum":t;const L=[];I=ia(I,function(ka){var sa=V(ka);ka=h.getSelectionComponent(sa,ka);sa=n(sa+"_store");if(ka.project.timeUnit){const Ba=null!==c&&void 0!==c?c:h.component.data.raw,cb=ka.project.timeUnit.clone();Ba.parent?cb.insertAsParentOf(Ba):
Ba.parent=cb}"none"!==ka.empty&&L.push(sa);return"vlSelectionTest(".concat(sa,", ").concat(t)+("global"===ka.resolve?")":", ".concat(n(ka.resolve),")"))});return(L.length?"!("+L.map(ka=>"length(data(".concat(ka,"))")).join(" || ")+") || ":"")+"(".concat(I,")")}function Ii(h,I){const c=I.encoding;let t=I.field;if(!c&&!t)t=h.project.items[0].field,1<h.project.items.length&&Lb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(n(t),"."));else if(c&&
!t){const L=h.project.items.filter(ka=>ka.channel===c);!L.length||1<L.length?(t=h.project.items[0].field,Lb((L.length?"Multiple ":"No ")+"matching ".concat(n(c)," encoding found for selection ").concat(n(I.selection),". ")+'Using "field": '.concat(n(t),"."))):t=L[0].field}return"".concat(h.name,"[").concat(n(t),"]")}function si(h,I){Zg(h,c=>{const t=c.name,L=h.getName("lookup_".concat(t));h.component.data.outputNodes[L]=c.materialized=new Eh(new kl(I,h,{selection:t}),L,zg.Lookup,h.component.data.outputNodeRefCounts)})}
function Kh(h,I,c){return ia(I,t=>e(t)?t:(null===t||void 0===t?0:t.selection)?Xh(h,t.selection,c):Ze(t))}function ti(h,I){if(h)return Je(h)&&!de(h)?h.map(c=>cf(c,I)).join(", "):h}function jh(h,I,c,t){var L,ka,sa;h.encode=null!==(L=h.encode)&&void 0!==L?L:{};h.encode[I]=null!==(ka=h.encode[I])&&void 0!==ka?ka:{};h.encode[I].update=null!==(sa=h.encode[I].update)&&void 0!==sa?sa:{};h.encode[I].update[c]=t}function kg(h,I,c,t){t=void 0===t?{header:!1}:t;var L=h.combine(),ka=Object.assign({},L),sa=L.disable;
const Ba=L.orient,cb=L.scale,nb=L.labelExpr,Gb=L.title;L=L.zindex;ka=(delete ka.disable,delete ka.orient,delete ka.scale,delete ka.labelExpr,delete ka.title,delete ka.zindex,ka);if(!sa){for(const hd in ka){var Nb=ek[hd];sa=ka[hd];if(Nb&&Nb!==I&&"both"!==Nb)delete ka[hd];else if(ra(sa)){Nb=sa;sa=Object.assign({},Nb);Nb=Nb.condition;sa=(delete sa.condition,sa);Nb=d(Nb);const qd=Ij[hd];if(qd){const {vgProp:Md,part:Rd}=qd;sa=[...Nb.map(Ee=>{var Hf=Object.assign({},Ee);Ee=Ee.test;Hf=(delete Hf.test,Hf);
return Object.assign({},{test:Kh(null,Ee)},Hf)}),sa];jh(ka,Rd,Md,sa);delete ka[hd]}else null===qd&&(sa={signal:Nb.map(Md=>{var Rd=Object.assign({},Md);Md=Md.test;Rd=(delete Rd.test,Rd);return"".concat(Kh(null,Md)," ? ").concat(Ie(Rd)," : ")}).join("")+Ie(sa)},ka[hd]=sa)}else if(Dc(sa)&&(Nb=Ij[hd])){const {vgProp:qd,part:Md}=Nb;jh(ka,Md,qd,sa);delete ka[hd]}}if("grid"===I){if(ka.grid)return ka.encode&&({grid:c}=ka.encode,ka.encode=Object.assign({},c?{grid:c}:{}),P(ka.encode)&&delete ka.encode),Object.assign({},
{scale:cb,orient:Ba},ka,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Da(L,0)})}else if(t.header||!h.mainExtracted){if(void 0!==nb){var lc,Yc;I=nb;(null===(lc=ka.encode)||void 0===lc?0:null===(Yc=lc.labels)||void 0===Yc?0:Yc.update)&&Dc(ka.encode.labels.update.text)&&(I=ua(nb,"datum.label",ka.encode.labels.update.text.signal));jh(ka,"labels","text",{signal:I})}null===ka.labelAlign&&delete ka.labelAlign;if(ka.encode){for(const hd of yh)h.hasAxisPart(hd)||delete ka.encode[hd];
P(ka.encode)&&delete ka.encode}h=ti(Gb,c);return Object.assign({},{scale:cb,orient:Ba,grid:!1},h?{title:h}:{},ka,!1===c.aria?{aria:!1}:{},{zindex:Da(L,0)})}}}function Ji(h){const {axes:I}=h.component,c=[];for(const t of Wg)if(I[t])for(const L of I[t])if(!L.get("disable")&&!L.get("gridScale")){const ka="x"===t?"height":"width",sa=h.getSizeSignalRef(ka).signal;ka!==sa&&c.push({name:ka,update:sa})}return c}function xh(h,I){const {x:c=[],y:t=[]}=h;return[...c.map(L=>kg(L,"grid",I)),...t.map(L=>kg(L,"grid",
I)),...c.map(L=>kg(L,"main",I)),...t.map(L=>kg(L,"main",I))].filter(L=>L)}function Cj(h,I,c,t){return Object.assign.apply(null,[{},...h.map(L=>{if("axisOrient"===L){L="x"===c?"bottom":"left";const ka=I["x"===c?"axisBottom":"axisLeft"]||{},sa=I["x"===c?"axisTop":"axisRight"]||{},Ba=new Set([...Hd(ka),...Hd(sa)]),cb={};for(const nb of Ba.values())cb[nb]={signal:"".concat(t.signal,' \x3d\x3d\x3d "').concat(L,'" ? ').concat(Ce(ka[nb])," : ").concat(Ce(sa[nb]))};return cb}return I[L]})])}function ak(h,
I,c,t){var L="band"===I?["axisDiscrete","axisBand"]:"point"===I?["axisDiscrete","axisPoint"]:I in Ml?["axisQuantitative"]:"time"===I||"utc"===I?["axisTemporal"]:[];const ka="x"===h?"axisX":"axisY";I=Dc(c)?"axisOrient":"axis"+ya(c);L=[...L,...L.map(sa=>ka+sa.substr(4))];I=["axis",I,ka];return{vlOnlyAxisConfig:Cj(L,t,h,c),vgAxisConfig:Cj(I,t,h,c),axisConfigStyle:Ph([...I,...L],t)}}function Ph(h,I){const c=[{}];for(const L of h){var t;if(h=null===(t=I[L])||void 0===t?void 0:t.style){h=d(h);for(const ka of h)c.push(I.style[ka])}}return Object.assign.apply(null,
c)}function Yh(h,I,c,t){t=void 0===t?{}:t;I=Bg(h,c,I);if(void 0!==I)return{configFrom:"style",configValue:I};for(const ka of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var L;if(void 0!==(null===(L=t[ka])||void 0===L?void 0:L[h]))return{configFrom:ka,configValue:t[ka][h]}}return{}}function Zj(h,I,c,t,L){const ka=null===I||void 0===I?void 0:I.labelAngle;if(void 0!==ka)return Dc(ka)?ka:ba(ka);({configValue:I}=Yh("labelAngle",t,null===I||void 0===I?void 0:I.style,L));if(void 0!==I)return ba(I);
if("x"===c&&G(["nominal","ordinal"],h.type)&&(!$b(h)||!h.timeUnit))return 270}function qk(h){return"(((".concat(h.signal," % 360) + 360) % 360)")}function Di(h,I,c,t){if(void 0!==h)return"x"===c?Dc(h)?(t=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "top")'):"top"===I,{signal:"(45 \x3c ".concat(t," \x26\x26 ").concat(t," \x3c 135) || (225 \x3c ").concat(t," \x26\x26 ").concat(t,' \x3c 315) ? "middle" :')+"(".concat(t," \x3c\x3d 45 || 315 \x3c\x3d ").concat(t,") \x3d\x3d\x3d ").concat(I,' ? "bottom" : "top"')}):
45<h&&135>h||225<h&&315>h?"middle":Dc(I)?(t=45>=h||315<=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(t,' "top" ? "bottom" : "top"')}):(45>=h||315<=h)===("top"===I)?"bottom":"top":Dc(h)?(h=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "left")'):"left"===I,t=t?'"middle"':"null",{signal:"".concat(h," \x3c\x3d 45 || 315 \x3c\x3d ").concat(h," || (135 \x3c\x3d ").concat(h," \x26\x26 ").concat(h," \x3c\x3d 225) ? ").concat(t," : (45 \x3c\x3d ").concat(h," \x26\x26 ").concat(h,
" \x3c\x3d 135) \x3d\x3d\x3d ").concat(I,' ? "top" : "bottom"')}):45>=h||315<=h||135<=h&&225>=h?t?"middle":null:Dc(I)?(t=45<=h&&135>=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(t,' "left" ? "top" : "bottom"')}):(45<=h&&135>=h)===("left"===I)?"top":"bottom"}function ag(h,I,c){if(void 0!==h){var t=(c="x"===c)?0:90,L=c?"bottom":"left";return Dc(h)?(h=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "').concat(L,'")'):I===L,{signal:"(".concat(t?"("+h+" + 90)":h," % 180 \x3d\x3d\x3d 0) ? ").concat(c?
null:'"center"'," :")+"(".concat(t," \x3c ").concat(h," \x26\x26 ").concat(h," \x3c ").concat(180+t,") \x3d\x3d\x3d ").concat(I,' ? "left" : "right"')}):0===(h+t)%180?c?null:"center":Dc(I)?(c=t<h&&h<180+t?"\x3d\x3d\x3d":"!\x3d\x3d",I="".concat(I.signal," ").concat(c,' "').concat(L,'"'),{signal:"".concat(I,' ? "left" : "right"')}):(t<h&&h<180+t)===(I===L)?"left":"right"}}function Lh(h,I){var c="x"===I?"x2":"y2";I=h.fieldDef(I);h=h.fieldDef(c);c=I?I.title:void 0;h=h?h.title:void 0;if(c&&h)return xa(c,
h);if(c)return c;if(h)return h;if(void 0!==c)return c;if(void 0!==h)return h}function oh(h,I,c){return kd(h,Object.assign({},{prefix:I,suffix:"sort_index"},null!==c&&void 0!==c?c:{}))}function Mh(h,I){return G(["top","bottom"],I)?"column":G(["left","right"],I)?"row":"row"===h?"row":"column"}function Nh(h,I,c,t){return Da((I||{})[h],("row"===t?c.headerRow:"column"===t?c.headerColumn:c.headerFacet)[h],c.header[h])}function ej(h,I,c,t){const L={};for(const ka of h)h=Nh(ka,I||{},c,t),void 0!==h&&(L[ka]=
h);return L}function Bj(h,I){const c=h.component.layoutHeaders[I].title,t=h.config?h.config:void 0;h=h.component.layoutHeaders[I].facetFieldDef?h.component.layoutHeaders[I].facetFieldDef:void 0;const {titleAnchor:L,titleAngle:ka,titleOrient:sa}=ej(["titleAnchor","titleAngle","titleOrient"],h.header,t,I),Ba=Mh(I,sa),cb=ba(ka);return{name:"".concat(I,"-title"),type:"group",role:"".concat(Ba,"-title"),title:Object.assign({},{text:c},"row"===I?{orient:"left"}:{},{style:"guide-title"},ui(cb,Ba),ph(Ba,
cb,L),Uh(t,h,I,an,lm))}}function ph(h,I,c){switch(void 0===c?"middle":c){case "start":return{align:"left"};case "end":return{align:"right"}}return(h=ag(I,"row"===h?"left":"top","row"===h?"y":"x"))?{align:h}:{}}function ui(h,I){return(h=Di(h,"row"===I?"left":"top","row"===I?"y":"x",!0))?{baseline:h}:{}}function Og(h,I){const c=h.component.layoutHeaders[I],t=[];for(const Nb of Ql)if(c[Nb])for(const lc of c[Nb]){a:{var L=h;var ka=I,sa=Nb,Ba=c,cb=lc;if(cb){let Yc=null;const {facetFieldDef:hd}=Ba;var nb=
L.config?L.config:void 0;if(hd&&cb.labels){var {labelOrient:Gb}=ej(["labelOrient"],hd.header,nb,ka);if("row"===ka&&!G(["top","bottom"],Gb)||"column"===ka&&!G(["left","right"],Gb))Yc=Jf(hd,ka,nb)}nb=Rg(L)&&!wa(L.facet);Gb=cb.axes;const qd=0<(null===Gb||void 0===Gb?void 0:Gb.length);if(Yc||qd){const Md="row"===ka?"height":"width";L=Object.assign({},{name:L.getName("".concat(ka,"_").concat(sa)),type:"group",role:"".concat(ka,"-").concat(sa)},Ba.facetFieldDef?{from:{data:L.getName(ka+"_domain")},sort:Hg(hd,
ka)}:{},qd&&nb?{from:{data:L.getName("facet_domain_".concat(ka))}}:{},Yc?{title:Yc}:{},cb.sizeSignal?{encode:{update:{[Md]:cb.sizeSignal}}}:{},qd?{axes:Gb}:{});break a}}L=null}null!=L&&t.push(L)}return t}function Hg(h,I){const {sort:c}=h;if(qe(c)){var t;return{field:kd(c,{expr:"datum"}),order:null!==(t=c.order)&&void 0!==t?t:"ascending"}}return Je(c)?{field:oh(h,I,{expr:"datum"}),order:"ascending"}:{field:kd(h,{expr:"datum"}),order:null!==c&&void 0!==c?c:"ascending"}}function Jf(h,I,c){const {format:t,
formatType:L,labelAngle:ka,labelAnchor:sa,labelOrient:Ba,labelExpr:cb}=ej("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),h.header,c,I),nb=le({fieldOrDatumDef:h,format:t,formatType:L,expr:"parent",config:c}).signal,Gb=Mh(I,Ba);return Object.assign({},{text:{signal:cb?ua(ua(cb,"datum.label",nb),"datum.value",kd(h,{expr:"parent"})):nb}},"row"===I?{orient:"left"}:{},{style:"guide-label",frame:"group"},ui(ka,Gb),ph(Gb,ka,sa),Uh(c,h,I,bn,mm))}function Uh(h,I,c,t,L){const ka=
{};for(const sa of t)L[sa]&&(t=Nh(sa,null===I||void 0===I?void 0:I.header,h,c),void 0!==t&&(ka[L[sa]]=t));return ka}function Dj(h){return[...lh(h,"width"),...lh(h,"height"),...lh(h,"childWidth"),...lh(h,"childHeight")]}function lh(h,I){var c="width"===I?"x":"y",t=h.component.layoutSize.get(I);if(!t||"merged"===t)return[];I=h.getSizeSignalRef(I).signal;if("step"===t){if(t=h.getScaleComponent(c)){var L=t.get("type");const ka=t.get("range");if(L in nh&&uc(ka))return L=h.scaleName(c),Rg(h.parent)&&"independent"===
h.parent.component.resolve.scale[c]?[{name:L+"_step",value:ka.step}]:[{name:L+"_step",value:ka.step},{name:I,update:pi(L,t,"domain('".concat(L,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==t?(c=(t=I.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",h=Kc(h.config.view,t?"width":"height"),h="isFinite(".concat(c,") ? ").concat(c," : ").concat(h),[{name:I,init:h,on:[{update:h,events:"window:resize"}]}]):[{name:I,value:t}]}function pi(h,
I,c){const t=I.get("type"),L=I.get("padding"),ka=Da(I.get("paddingOuter"),L);I=I.get("paddingInner");I="band"===t?void 0!==I?I:L:1;return"bandspace(".concat(c,", ").concat(Ce(I),", ").concat(Ce(ka),") * ").concat(h,"_step")}function Yi(h){return"childWidth"===h?"width":"childHeight"===h?"height":h}function Gg(h,I){return Hd(h).reduce((c,t)=>Object.assign({},c,Bh(I,h[t],t,L=>$d(L.value))),{})}function gj(h,I){const c=I in fg?"axis":"legend";return"independent"===h.scale[I]?("shared"===h[c][I]&&Lb('Setting the scale to be independent for "'.concat(I,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):h[c][I]||"shared"}function rk(h){return Zi(h,(I,c)=>Math.max(I,c.value))}function Oh(h){return Zi(h,(I,c)=>Da(I,c.value))}function Zi(h,I){var c=h&&h.condition;if(c=!!c&&(Je(c)||jd(c)))return d(h.condition).reduce(I,h.value);if(jd(h))return h.value}function vi(h,I,c){h=I.get("selections");if(null!==h&&void 0!==h&&h.length){var t=n(c.field);return h.map(L=>{const ka=n(V(L)+"_store");return"(!length(data(".concat(ka,
")) || (").concat(L,"[").concat(t,"] \x26\x26 indexof(").concat(L,"[").concat(t,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function $i(h,I,c,t){h=h.getSizeSignalRef(I).signal;return{signal:"clamp(".concat(h,", ").concat(c,", ").concat(t,")")}}function Mi(h){var I;if(ng(h)){var {encoding:c}=h,t={};for(const Mf of["color",...nm]){var L=Aa(c[Mf]);if(L&&h.getScaleComponent(Mf)&&("shape"!==Mf||!$b(L)||"geojson"!==L.type)){a:{var ka=L=void 0,sa=void 0,Ba=void 0,cb=void 0;var nb=void 0;var Gb=h,Nb=
Mf;let Ve=Gb.legend(Nb);const {markDef:pg,encoding:Ig,config:hg}=Gb;var lc=hg.legend;b:{var Yc=Gb;var hd=Nb,qd=Yc.scaleName(hd);if("trail"===Yc.mark){if("color"===hd){Yc={stroke:qd};break b}if("size"===hd){Yc={strokeWidth:qd};break b}}Yc="color"===hd?Yc.markDef.filled?{fill:qd}:{stroke:qd}:{[hd]:qd}}Yc=new cn({},Yc);Gi(Gb,Nb,Yc);hd=void 0!==Ve?!Ve:lc.disable;Yc.set("disable",hd,void 0!==Ve);if(hd){L=Yc;break a}Ve=Ve||{};qd=Gb.getScaleComponent(Nb).get("type");hd=Aa(Ig[Nb]);var Md=$b(hd)?null===(nb=
Qb(hd.timeUnit))||void 0===nb?void 0:nb.unit:void 0;const Ng=Ve.orient||hg.legend.orient||"right";nb={legend:Ve,channel:Nb,timeUnit:Md,scaleType:qd};({legend:Md}=nb);Md=Md.type;b:{var {channel:Rd,timeUnit:Ee,scaleType:Hf}=nb;if($a(Rd)){if(G(["quarter","month","day"],Ee)){nb="symbol";break b}if(Hf in th){nb="gradient";break b}}nb="symbol"}nb=Da(Md,nb);var {legendConfig:se,legendType:Ef,orient:Yd,legend:sg}={legend:Ve,legendType:nb,orient:Ng,legendConfig:lc};if(null!==(sa=null!==(ka=sg.direction)&&
void 0!==ka?ka:se[Ef?"gradientDirection":"symbolDirection"])&&void 0!==sa)ka=sa;else b:{switch(Yd){case "top":case "bottom":ka="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ka="gradient"===Ef?"horizontal":void 0;break b}ka=void 0}lc={legend:Ve,channel:Nb,model:Gb,markDef:pg,encoding:Ig,fieldOrDatumDef:hd,legendConfig:lc,config:hg,scaleType:qd,orient:Ng,legendType:nb,direction:ka};for(const yg of om)if(!("gradient"===nb&&yg.startsWith("symbol")||"symbol"===nb&&
yg.startsWith("gradient"))&&(ka=yg in pm?pm[yg](lc):Ve[yg],void 0!==ka)){b:{sa=Gb.fieldDef(Nb);switch(yg){case "disable":sa=void 0!==Ve;break b;case "values":sa=!(null===Ve||void 0===Ve||!Ve.values);break b;case "title":if("title"===yg&&ka===(null===sa||void 0===sa?void 0:sa.title)){sa=!0;break b}}sa=ka===(Ve||{})[yg]}(sa||void 0===hg.legend[yg])&&Yc.set(yg,ka,sa)}lc=null!==(cb=null===(Ba=Ve)||void 0===Ba?void 0:Ba.encoding)&&void 0!==cb?cb:{};Ba=Yc.get("selections");cb={};Nb={fieldOrDatumDef:hd,
model:Gb,channel:Nb,legendCmpt:Yc,legendType:nb};for(const yg of"labels legend title symbols gradient entries".split(" "))ka=Gg(null!==(I=lc[yg])&&void 0!==I?I:{},Gb),ka=yg in qm?qm[yg](ka,Nb):ka,void 0===ka||P(ka)||(cb[yg]=Object.assign({},(null===Ba||void 0===Ba?0:Ba.length)&&$b(hd)?{name:"".concat(V(hd.field),"_legend_").concat(yg)}:{},(null===Ba||void 0===Ba?0:Ba.length)?{interactive:!!Ba}:{},{update:ka}));P(cb)||Yc.set("encode",cb,!(null===(L=Ve)||void 0===L||!L.encoding));L=Yc}t[Mf]=L}}I=t}else{{const {legends:Mf,
resolve:Ve}=h.component;for(c of h.children){Mi(c);for(t of Hd(c.component.legends))Ve.legend[t]=gj(h.component.resolve,t),"shared"===Ve.legend[t]&&(Mf[t]=aj(Mf[t],c.component.legends[t]),Mf[t]||(Ve.legend[t]="independent",delete Mf[t]))}for(L of Hd(Mf))for(Gb of h.children)Gb.component.legends[L]&&"shared"===Ve.legend[L]&&delete Gb.component.legends[L];I=Mf}}return h.component.legends=I}function aj(h,I){if(!h)return I.clone();var c=h.getWithExplicit("orient");const t=I.getWithExplicit("orient");
if(!c.explicit||!t.explicit||c.value===t.value){var L=!1;for(const nb of om)c=Oe(h.getWithExplicit(nb),I.getWithExplicit(nb),nb,"legend",(Gb,Nb)=>{switch(nb){case "symbolType":return Gb="circle"===Nb.value?Nb:Gb,Gb;case "title":return za(Gb,Nb);case "type":return L=!0,pe("symbol")}return xd(Gb,Nb,nb,"legend")}),h.setWithExplicit(nb,c);if(L){var ka,sa,Ba,cb;(null===(ka=h.implicit)||void 0===ka?0:null===(sa=ka.encode)||void 0===sa?0:sa.gradient)&&aa(h.implicit,["encode","gradient"]);(null===(Ba=h.explicit)||
void 0===Ba?0:null===(cb=Ba.encode)||void 0===cb?0:cb.gradient)&&aa(h.explicit,["encode","gradient"])}return h}}function Ak(h){const I=h.component.legends,c={};for(const L of Hd(I)){var t=h.getScaleComponent(L);t=of(t.get("domains"));if(c[t])for(const ka of c[t])aj(ka,I[L])||c[t].push(I[L]);else c[t]=[I[L].clone()]}return Tg(c).flat().map(L=>{{var ka=h.config,sa,Ba=L.combine();L=Object.assign({},Ba);const hd=Ba.disable;Ba=Ba.labelExpr;L=(delete L.disable,delete L.labelExpr,delete L.selections,L);
if(hd)var cb=void 0;else{!1===ka.aria&&void 0==L.aria&&(L.aria=!1);if(null===(sa=L.encode)||void 0===sa?0:sa.symbols){ka=L.encode.symbols.update;!ka.fill||"transparent"===ka.fill.value||ka.stroke||L.stroke||(ka.stroke={value:"transparent"});for(var nb of nm)L[nb]&&delete ka[nb]}L.title||delete L.title;if(void 0!==Ba){var Gb,Nb;nb=Ba;(null===(Gb=L.encode)||void 0===Gb?0:null===(Nb=Gb.labels)||void 0===Nb?0:Nb.update)&&Dc(L.encode.labels.update.text)&&(nb=ua(Ba,"datum.label",L.encode.labels.update.text.signal));
Gb=L;Nb={signal:nb};var lc,Yc;Gb.encode=null!==(cb=Gb.encode)&&void 0!==cb?cb:{};Gb.encode.labels=null!==(lc=Gb.encode.labels)&&void 0!==lc?lc:{};Gb.encode.labels.update=null!==(Yc=Gb.encode.labels.update)&&void 0!==Yc?Yc:{};Gb.encode.labels.update.text=Nb}cb=L}}return cb}).filter(L=>void 0!==L)}function sk(h){return h.children.reduce((I,c)=>I.concat(c.assembleProjections()),ij(h))}function ij(h){var I=h.component.projection;if(!I||I.merged)return[];const c=I.combine(),{name:t}=c;if(I.data){const L=
{signal:"[".concat(I.size.map(ka=>ka.signal).join(", "),"]")};I=I.data.reduce((ka,sa)=>{sa=Dc(sa)?sa.signal:"data('".concat(h.lookupDataSource(sa),"')");G(ka,sa)||ka.push(sa);return ka},[]);if(0>=I.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:t,size:L,fit:{signal:1<I.length?"[".concat(I.join(", "),"]"):I[0]}},c)]}return[Object.assign({},{name:t},{translate:{signal:"[width / 2, height / 2]"}},c)]}function bj(h){var I=h.component;if(ng(h))if(h.hasProjection){var c;
const ka=h.specifiedProjection;var t=!(ka&&(null!=ka.scale||null!=ka.translate));const sa=t?[h.getSizeSignalRef("width"),h.getSizeSignalRef("height")]:void 0;if(t){{t=[];const {encoding:Ba}=h;for(L of[["longitude","latitude"],["longitude2","latitude2"]])(Aa(Ba[L[0]])||Aa(Ba[L[1]]))&&t.push({signal:h.getName("geojson_".concat(t.length))});h.channelHasField("shape")&&"geojson"===h.typedFieldDef("shape").type&&t.push({signal:h.getName("geojson_".concat(t.length))});0===t.length&&t.push(h.requestDataName(zg.Main));
var L=t}}else L=void 0;h=new rm(h.projectionName(!0),Object.assign({},null!==(c=h.config.projection)&&void 0!==c?c:{},null!==ka&&void 0!==ka?ka:{}),sa,L)}else h=void 0;else h=Ki(h);I.projection=h}function uj(h,I){const c=R(dn,t=>!ii.call(h.explicit,t)&&!ii.call(I.explicit,t)||ii.call(h.explicit,t)&&ii.call(I.explicit,t)&&of(h.get(t))===of(I.get(t))?!0:!1);if(of(h.size)===of(I.size)){if(c)return h;if(of(h.explicit)===of({}))return I;if(of(I.explicit)===of({}))return h}return null}function Ki(h){if(0!==
h.children.length){var I;for(var c of h.children)bj(c);c=R(h.children,t=>{if(t=t.component.projection){if(I)return(t=uj(I,t))&&(I=t),!!t;I=t}return!0});if(I&&c){c=h.projectionName(!0);const t=new rm(c,I.specifiedProjection,I.size,rf(I.data));for(const L of h.children)if(h=L.component.projection)h.isFit&&t.data.push(...L.component.projection.data),L.renameProjection(h.get("name"),c),h.merged=!0;return t}}}function Uk(h,I,c,t){if(nd(I,c)){var L,ka;h=ng(h)?null!==(L=null!==(ka=h.axis(c))&&void 0!==ka?
ka:h.legend(c))&&void 0!==L?L:{}:{};L=kd(I,{expr:"datum"});ka=kd(I,{expr:"datum",binSuffix:"end"});return{formulaAs:kd(I,{binSuffix:"range",forAs:!0}),formula:Bf(L,ka,h.format,h.formatType,t)}}return{}}function fj(h,I){return"".concat(md(h),"_").concat(I)}function vj(h,I,c){var t;c=null!==(t=Tb(c,void 0))&&void 0!==t?t:{};I=fj(c,I);return h.getName("".concat(I,"_bins"))}function Qg(h,I,c){let t;t="as"in h?e(h.as)?[h.as,"".concat(h.as,"_end")]:[h.as[0],h.as[1]]:[kd(h,{forAs:!0}),kd(h,{binSuffix:"end",
forAs:!0})];const L=Object.assign({},Tb(I,void 0));I=fj(L,h.field);var ka={signal:c.getName("".concat(I,"_bins")),extentSignal:c.getName("".concat(I,"_extent"))};const {signal:sa,extentSignal:Ba}=ka;if(mb(L.extent)){var cb=L.extent;ka=cb.selection;cb=Ii(c.getSelectionComponent(V(ka),ka),cb);delete L.extent}h=Object.assign({},{bin:L,field:h.field,as:[t]},sa?{signal:sa}:{},Ba?{extentSignal:Ba}:{},cb?{span:cb}:{});return{key:I,binComponent:h}}function eg(h){return"'"===h[0]&&"'"===h[h.length-1]||'"'===
h[0]&&'"'===h[h.length-1]?h.slice(1,-1):h}function xg(h,I){h=va(h);if("number"===I)return"toNumber(".concat(h,")");if("boolean"===I)return"toBoolean(".concat(h,")");if("string"===I)return"toString(".concat(h,")");if("date"===I)return"toDate(".concat(h,")");if("flatten"===I)return h;if(0===I.indexOf("date:"))return I=eg(I.slice(5,I.length)),"timeParse(".concat(h,",'").concat(I,"')");if(0===I.indexOf("utc:"))return I=eg(I.slice(4,I.length)),"utcParse(".concat(h,",'").concat(I,"')");Lb('Unrecognized parse "'.concat(I,
'".'));return null}function il(h){const I={};B(h.filter,c=>{if(De(c)){let L=null;if(ad(c))L=Gd(c.equal);else if(Cd(c))L=Gd(c.lte);else if(ld(c))L=Gd(c.lt);else if(Dd(c))L=Gd(c.gt);else if(Ud(c))L=Gd(c.gte);else if(ae(c))L=c.range[0];else if(oe(c)){var t;L=(null!==(t=c.oneOf)&&void 0!==t?t:c["in"])[0]}L&&(Ac(L)?I[c.field]="date":a(L)?I[c.field]="number":e(L)&&(I[c.field]="string"));c.timeUnit&&(I[c.field]="date")}});return I}function hj(h){function I(t){if(oc(t))c[t.field]="date";else{var L;if(L="quantitative"===
t.type)L=t.aggregate,L=e(L)&&G(["min","max"],L);L?c[t.field]="number":1<Ya(t.field)?t.field in c||(c[t.field]="flatten"):Qd(t)&&qe(t.sort)&&1<Ya(t.sort.field)&&(t.sort.field in c||(c[t.sort.field]="flatten"))}}const c={};(ng(h)||Rg(h))&&h.forEachFieldDef((t,L)=>{Id(t)?I(t):(L=Ga(L),L=h.fieldDef(L),I(Object.assign({},t,{type:L.type})))});if(ng(h)){const {mark:t,markDef:L,encoding:ka}=h;if(we(t)&&!h.encoding.order){const sa=ka["horizontal"===L.orient?"y":"x"];!$b(sa)||"quantitative"!==sa.type||sa.field in
c||(c[sa.field]="number")}}return c}function b(h){return h instanceof wk||h instanceof zl||h instanceof Al}function p(h){return h.stack.stackBy.reduce((I,c)=>{(c=kd(c.fieldDef))&&I.push(c);return I},[])}function X(h){return Je(h)&&h.every(I=>e(I))&&1<h.length}function S(h){function I(c){if(!(c instanceof Wk)){const t=c.clone();if(t instanceof Eh){const L="scale_"+t.getSource();t.setSource(L);h.model.component.data.outputNodes[L]=t}else(t instanceof cj||t instanceof Tj||t instanceof ll||t instanceof
Xk)&&t.addDimensions(h.fields);for(const L of c.children.flatMap(I))L.parent=t;return[t]}return c.children.flatMap(I)}return I}function ea(h){if(h instanceof Wk)if(1!==h.numChildren()||h.children[0]instanceof Eh){var I=h.model.component.data.main;La(I);const c=S(h);h=h.children.map(c).flat();for(const t of h)t.parent=I}else I=h.children[0],(I instanceof cj||I instanceof Tj||I instanceof ll||I instanceof Xk)&&I.addDimensions(h.fields),I.swapWithParent(),ea(h);else h.children.map(ea)}function La(h){if(h instanceof
Eh&&h.type===zg.Main&&1===h.numChildren()){const I=h.children[0];I instanceof Wk||(I.swapWithParent(),La(h))}}function Xa(h){for(const I of h){for(const c of I.children)if(c.parent!==I)return!1;if(!Xa(I.children))return!1}return!0}function ab(h,I){let c=!1;for(const t of I)c=h.optimize(t)||c;return c}function tb(h,I,c){let t=h.sources,L=!1;L=ab(new en,t)||L;L=ab(new fn(I),t)||L;t=t.filter(ka=>0<ka.numChildren());L=ab(new gn,t)||L;t=t.filter(ka=>0<ka.numChildren());c||(L=ab(new hn,t)||L,L=ab(new jn(I),
t)||L,L=ab(new kn,t)||L,L=ab(new ln,t)||L,L=ab(new mn,t)||L,L=ab(new nn,t)||L,L=ab(new on,t)||L,L=ab(new pn,t)||L);h.sources=t;return L}function Ib(h){const I=h.component.scales;for(const nb of Hd(I)){var c=h;var t=nb,L=c.getScaleComponent(t).get("type"),{encoding:ka}=c;var sa=c.scaleDomain(t);var Ba=c.typedFieldDef(t),cb=c.config.scale;if("unaggregated"===sa){const {valid:Gb,reason:Nb}=Se(Ba,L);Gb||(Lb(Nb),sa=void 0)}else void 0===sa&&cb.useUnaggregatedDomain&&({valid:Ba}=Se(Ba,L),Ba&&(sa="unaggregated"));
sa!==c.scaleDomain(t)&&(c.specifiedScales[t]=Object.assign({},c.specifiedScales[t],{domain:sa}));c="x"===t&&Aa(ka.x2)?Aa(ka.x)?Oe(wc(L,sa,c,"x"),wc(L,sa,c,"x2"),"domain","scale",bf):wc(L,sa,c,"x2"):"y"===t&&Aa(ka.y2)?Aa(ka.y)?Oe(wc(L,sa,c,"y"),wc(L,sa,c,"y2"),"domain","scale",bf):wc(L,sa,c,"y2"):wc(L,sa,c,t);I[nb].setWithExplicit("domains",c);ka=void 0;t=h.component.scales[nb];sa=h.specifiedScales[nb].domain;L=null===(ka=h.fieldDef(nb))||void 0===ka?void 0:ka.bin;ka=zf(sa)&&sa;L=v(L)&&mb(L.extent)&&
L.extent;(ka||L)&&t.set("selectionExtent",null!==ka&&void 0!==ka?ka:L,!0);if(h.component.data.isFaceted){for(t=h;!Rg(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[nb])for(const Gb of c.value)Tc(Gb)&&(Gb.data="scale_"+Gb.data.replace("scale_",""))}}}function dc(h){for(var I of h.children){var c=I;ng(c)?Ib(c):dc(c)}c=h.component.scales;for(const L of Hd(c)){let ka;I=null;for(const sa of h.children){var t=sa.component.scales[L];t&&(ka=void 0===ka?t.getWithExplicit("domains"):Oe(ka,
t.getWithExplicit("domains"),"domains","scale",bf),t=t.get("selectionExtent"),I&&t&&I.selection!==t.selection&&Lb("The same selection must be used to override scale domains in a layered view."),I=t)}c[L].setWithExplicit("domains",ka);I&&c[L].set("selectionExtent",I,!0)}}function Rc(h,I,c){return h.map(t=>{t=fd(t,{timeUnit:c,type:I});return{signal:"{data: ".concat(t,"}")}})}function vc(h,I,c){var t;c=null===(t=Qb(c))||void 0===t?void 0:t.unit;return"temporal"===I||c?Rc(h,I,c):[h]}function wc(h,I,c,
t){var {encoding:L}=c;L=Aa(L[t]);const {type:ka}=L,sa=L.timeUnit;if(I&&I.unionWith)return t=wc(h,void 0,c,t),I=vc(I.unionWith,ka,sa),ke([...t.value,...I]);if(Dc(I))return ke([I]);if(I&&"unaggregated"!==I&&!zf(I))return ke(vc(I,ka,sa));var Ba=c.stack;if(Ba&&t===Ba.fieldChannel){if("normalize"===Ba.offset)return pe([[0,1]]);I=c.requestDataName(zg.Main);return pe([{data:I,field:c.vgField(t,{suffix:"start"})},{data:I,field:c.vgField(t,{suffix:"end"})}])}Ba=rh[t]&&$b(L)?ce(c,t,h):void 0;if(gd(L))return t=
vc([L.datum],ka,sa),pe(t);if("unaggregated"===I)return t=c.requestDataName(zg.Main),{field:I}=L,pe([{data:t,field:kd({field:I,aggregate:"min"})},{data:t,field:kd({field:I,aggregate:"max"})}]);if(pc(L.bin)){if(h in nh)return"bin-ordinal"===h?pe([]):pe([{data:C(Ba)?c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t,nd(L,t)?{binSuffix:"range"}:{}),sort:!0!==Ba&&v(Ba)?Ba:{field:c.vgField(t,{}),op:"min"}}]);({bin:I}=L);if(pc(I)){const cb=vj(c,L.field,I);return pe([new qi(()=>{const nb=
c.getSignalName(cb);return"[".concat(nb,".start, ").concat(nb,".stop]")})])}return pe([{data:c.requestDataName(zg.Main),field:c.vgField(t,{})}])}return L.timeUnit&&G(["time","utc"],h)&&Cb(t,L,ng(c)?c.encoding[Ha(t)]:void 0,c.stack,c.markDef,c.config)?(I=c.requestDataName(zg.Main),pe([{data:I,field:c.vgField(t)},{data:I,field:c.vgField(t,{suffix:"end"})}])):Ba?pe([{data:C(Ba)?c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t),sort:Ba}]):pe([{data:c.requestDataName(zg.Main),field:c.vgField(t)}])}
function td(h,I){const {op:c,field:t,order:L}=h;return Object.assign({},{op:null!==c&&void 0!==c?c:I?"sum":"min"},t?{field:kb(t)}:{},L?{order:L}:{})}function ce(h,I,c){if(c in nh){var t=h.fieldDef(I);c=t.sort;if(yc(c))return{op:"min",field:oh(t,I),order:"ascending"};({stack:t}=h);var L=t?[...t.groupbyField?[t.groupbyField]:[],...t.stackBy.map(ka=>ka.fieldDef.field)]:void 0;if(qe(c))return h=t&&!G(L,c.field),td(c,h);if(c&&c.encoding){const {encoding:ka,order:sa}=c;h=h.fieldDef(ka);const {aggregate:Ba,
field:cb}=h;I=t&&!G(L,cb);if(qa(Ba)||Fa(Ba))return td({field:kd(h),order:sa},I);if(na(Ba)||!Ba)return td({op:Ba,field:cb,order:sa},I)}else{if("descending"===c)return{op:"min",field:h.vgField(I),order:"descending"};if(G(["ascending",void 0],c))return!0}}}function Se(h,I){const {aggregate:c,type:t}=h;return c?e(c)&&!Il[c]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(c,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===t&&"log"===I?{valid:!1,
reason:"Unaggregated domain is currently unsupported for log scale (".concat(of(h),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(of(h),").")}}function bf(h,I,c,t){if(h.explicit&&I.explicit){var L=h.value,ka=I.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(of(L)," and ").concat(of(ka),"). Using the union of the two domains.");Lb(c)}return{explicit:h.explicit,value:[...h.value,...I.value]}}function He(h){var I=
ja(h.map(L=>Tc(L)?(L=Object.assign({},L),delete L.sort,L):L),F),c=ja(h.map(L=>{if(Tc(L))return L=L.sort,void 0===L||C(L)||("op"in L&&"count"===L.op&&delete L.field,"ascending"===L.order&&delete L.order),L}).filter(L=>void 0!==L),F);if(0!==I.length){if(1===I.length){I=h[0];if(Tc(I)&&0<c.length){var t=c[0];1<c.length?(Lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),t=!0):v(t)&&"field"in t&&I.field===t.field&&(t=t.order?{order:t.order}:!0);return Object.assign({},
I,{sort:t})}return I}c=ja(c.map(L=>{if(C(L)||!("op"in L)||e(L.op)&&L.op in fk)return L;Lb("Dropping sort property ".concat(of(L),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),F);1===c.length?t=c[0]:1<c.length&&(Lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),t=!0);c=ja(h.map(L=>Tc(L)?L.data:null),L=>L);return 1===c.length&&null!==c[0]?Object.assign({},{data:c[0],fields:I.map(L=>L.field)},t?{sort:t}:{}):Object.assign({},
{fields:I},t?{sort:t}:{})}}function cg(h){if(Tc(h)&&e(h.field))return h.field;var I=Je(h)?!1:"fields"in h&&!("data"in h);if(I){let c;for(const t of h.fields)if(Tc(t)&&e(t.field))if(!c)c=t.field;else if(c!==t.field)return Lb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),c;Lb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return c}I=Je(h)?!1:"fields"in h&&"data"in h;if(I)return Lb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),h=h.fields[0],e(h)?h:void 0}function Af(h,I){I=h.component.scales[I].get("domains").map(c=>{Tc(c)&&(c.data=h.lookupDataSource(c.data));return c});return He(I)}function bg(h){return Lg(h)||Sg(h)?h.children.reduce((I,c)=>I.concat(bg(c)),Wf(h)):Wf(h)}function Wf(h){return Hd(h.component.scales).reduce((I,
c)=>{var t=h.component.scales[c];if(t.merged)return I;var L=t.combine(),ka=Object.assign({},L);t=L.name;const sa=L.type,Ba=L.selectionExtent,cb=L.reverse;ka=(delete ka.name,delete ka.type,delete ka.selectionExtent,delete ka.domains,delete ka.range,delete ka.reverse,ka);L=L.range;c in fg?uc(L)&&(L={step:{signal:t+"_step"}}):v(L)&&Tc(L)&&(L=Object.assign({},L,{data:h.lookupDataSource(L.data)}));if(Ba){var nb=Ba.selection;nb=h.getSelectionComponent(nb,V(nb));nb={signal:Ii(nb,Ba)}}c=Af(h,c);I.push(Object.assign({},
{name:t,type:sa},c?{domain:c}:{},nb?{domainRaw:nb}:{},{range:L},void 0!==cb?{reverse:cb}:{},ka));return I},[])}function qf(h){return"x"===h?"width":"y"===h?"height":void 0}function gg(h,I){const c=h.fieldDef(I);if(c&&c.bin&&pc(c.bin)){const t=vj(h,c.field,c.bin);I=qf(I);const L=h.getName(I);return new qi(()=>{var ka=h.getSignalName(t);ka="(".concat(ka,".stop - ").concat(ka,".start) / ").concat(ka,".step");return"".concat(h.getSignalName(L)," / (").concat(ka,")")})}}function Rf(h,I){const c=I.specifiedScales[h];
var {size:t}=I,L=I.getScaleComponent(h).get("type");for(var ka of qn)if(void 0!==c[ka]){const cb=Ue(L,ka),nb=Nf(h,ka);if(cb)if(nb)Lb(nb);else switch(ka){case "range":L=c.range;if(Je(L)){if(h in fg)return ke(L.map(Gb=>{if("width"===Gb||"height"===Gb){Gb=I.getName(Gb);const Nb=I.getSignalName.bind(I);return qi.fromName(Nb,Gb)}return Gb}))}else if(v(L))return ke({data:I.requestDataName(zg.Main),field:L.field,sort:{op:"min",field:I.vgField(h)}});return ke(L);case "scheme":return ke(Of(c[ka]))}else Lb(Vd(L,
ka,h))}if("x"===h||"y"===h)if(ka="x"===h?"width":"height",t=t[ka],zb(t)){if(L in nh)return ke({step:t.step});Lb(Ka(ka))}const {rangeMin:sa,rangeMax:Ba}=c;h=Kg(h,I);return(void 0!==sa||void 0!==Ba)&&Ue(L,"rangeMin")&&Je(h)&&2===h.length?ke([null!==sa&&void 0!==sa?sa:h[0],null!==Ba&&void 0!==Ba?Ba:h[1]]):pe(h)}function Of(h){return!e(h)&&h.name?Object.assign({},{scheme:h.name},M(h,["name"])):{scheme:h}}function Kg(h,I){const {size:c,config:t,mark:L,encoding:ka}=I;var sa=I.getSignalName.bind(I),{type:Ba}=
Aa(ka[h]);const cb=I.getScaleComponent(h).get("type"),{domain:nb,domainMid:Gb}=I.specifiedScales[h];switch(h){case "x":case "y":if(G(["point","band"],cb))if("x"===h&&!c.width){if(Ba=Q(t.view,"width"),zb(Ba))return Ba}else if("y"===h&&!c.height&&(Ba=Q(t.view,"height"),zb(Ba)))return Ba;Ba=qf(h);Ba=I.getName(Ba);return"y"===h&&cb in Jh?[qi.fromName(sa,Ba),0]:[0,qi.fromName(sa,Ba)];case "size":return sa=I.component.scales[h].get("zero"),sa=Rh(L,sa,t),Ba=li(L,c,I,t),cb in zk?ch(sa,Ba,Pg(cb,t,nb,h)):[sa,
Ba];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new qi(()=>{const Nb=I.getSignalName("width"),lc=I.getSignalName("height");return"min(".concat(Nb,",").concat(lc,")/2")})];case "strokeWidth":return[t.scale.minStrokeWidth,t.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===cb?"nominal"===Ba?"category":"ordinal":void 0!==Gb?"diverging":"rect"===L||
"geoshape"===L?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[t.scale.minOpacity,t.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(h));}function Pg(h,I,c,t){switch(h){case "quantile":return I.scale.quantileCount;case "quantize":return I.scale.quantizeCount;case "threshold":if(void 0!==c&&Je(c))return c.length+1;Lb("Domain for ".concat(t," is required for threshold scale."));return 3}}function ch(h,I,c){const t=()=>{const L=Ce(I),ka=Ce(h),sa=
"(".concat(L," - ").concat(ka,") / (").concat(c," - 1)");return"sequence(".concat(ka,", ").concat(L," + ").concat(sa,", ").concat(sa,")")};return Dc(I)?new qi(t):{signal:t()}}function Rh(h,I,c){if(I)return Dc(I)?{signal:"".concat(I.signal," ? 0 : ").concat(Rh(h,!1,c))}:0;switch(h){case "bar":case "tick":return c.scale.minBandSize;case "line":case "trail":case "rule":return c.scale.minStrokeWidth;case "text":return c.scale.minFontSize;case "point":case "square":case "circle":return c.scale.minSize}throw Error(zc("size",
h));}function li(h,I,c,t){c={x:gg(c,"x"),y:gg(c,"y")};switch(h){case "bar":case "tick":{if(void 0!==t.scale.maxBandSize)return t.scale.maxBandSize;const L=Mj(I,c,t.view);return a(L)?L-1:new qi(()=>"".concat(L.signal," - 1"))}case "line":case "trail":case "rule":return t.scale.maxStrokeWidth;case "text":return t.scale.maxFontSize;case "point":case "square":case "circle":{if(t.scale.maxSize)return t.scale.maxSize;const L=Mj(I,c,t.view);return a(L)?Math.pow(.95*L,2):new qi(()=>"pow(".concat(.95," * ").concat(L.signal,
", 2)"))}}throw Error(zc("size",h));}function Mj(h,I,c){const t=zb(h.width)?h.width.step:r(c,"width"),L=zb(h.height)?h.height.step:r(c,"height");return I.x||I.y?new qi(()=>"min(".concat([I.x?I.x.signal:t,I.y?I.y.signal:L].join(", "),")")):Math.min(t,L)}function Vk(h,I){if(ng(h)){{const sa=h.component.scales,{config:Ba,encoding:cb,markDef:nb,specifiedScales:Gb}=h;for(const Nb of Hd(sa)){var c=Gb[Nb];const lc=sa[Nb];var t=h.getScaleComponent(Nb),L=Aa(cb[Nb]),ka=c[I];const Yc=t.get("type"),hd=t.get("padding");
t=t.get("paddingInner");const qd=Ue(Yc,I),Md=Nf(Nb,I);void 0!==ka&&(qd?Md&&Lb(Md):Lb(Vd(Yc,I,Nb)));if(qd&&void 0===Md)if(void 0!==ka)switch(ka=L.timeUnit,L=L.type,I){case "domainMax":case "domainMin":Ac(c[I])||"temporal"===L||ka?lc.set(I,{signal:fd(c[I],{type:L,timeUnit:ka})},!0):lc.set(I,c[I],!0);break;default:lc.copyKeyFromObject(I,c)}else c=I in sm?sm[I]({model:h,channel:Nb,fieldOrDatumDef:L,scaleType:Yc,scalePadding:hd,scalePaddingInner:t,domain:c.domain,markDef:nb,config:Ba}):Ba.scale[I],void 0!==
c&&lc.set(I,c,!1)}}}else wi(h,I)}function tk(h){if(ng(h)){{const I=h.component.scales;for(const c of Lj){const t=I[c];if(!t)continue;const L=Rf(c,h);t.setWithExplicit("range",L)}}}else wi(h,"range")}function wi(h,I){const c=h.component.scales;for(var t of h.children)"range"===I?tk(t):Vk(t,I);for(const L of Hd(c)){let ka;for(const sa of h.children)if(t=sa.component.scales[L])t=t.getWithExplicit(I),ka=Oe(ka,t,I,"scale",Re((Ba,cb)=>{switch(I){case "range":if(Ba.step&&cb.step)return Ba.step-cb.step}return 0}));
c[L].setWithExplicit(I,ka)}}function Bk(h,I){const c=I.bin;if(pc(c)){const t=vj(h,I.field,c);return new qi(()=>h.getSignalName(t))}if(Hc(c)&&v(c)&&void 0!==c.step)return{step:c.step}}function Ej(h,I,c){var t;switch(I.type){case "nominal":case "ordinal":if($a(h)||"discrete"===nc(h))return"shape"===h&&"ordinal"===I.type&&Lb(Ed(h,"ordinal")),"ordinal";if(h in fg){if(G(["rect","bar","image","rule"],c))return"band"}else if("arc"===c&&h in lk)return"band";return void 0!==I.band||ie(I)&&(null===(t=I.axis)||
void 0===t?0:t.tickBand)?"band":"point";case "temporal":if(!$a(h)){if("discrete"===nc(h))return Lb(Ed(h,"temporal")),"ordinal";if($b(I)&&I.timeUnit&&Qb(I.timeUnit).utc)return"utc"}return"time";case "quantitative":if($a(h)){if($b(I)&&pc(I.bin))return"bin-ordinal"}else if("discrete"===nc(h))return Lb(Ed(h,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(I.type,'".'));}function Zk(h){if(ng(h))h.component.scales=$k(h);else{var I=h.component;{const Ba=
h.component.scales={},cb={};var c=h.component.resolve;for(const nb of h.children){Zk(nb);for(const Gb of Hd(nb.component.scales)){var t,L=c.scale;if(null!==(t=c.scale[Gb])&&void 0!==t)var ka=t;else{ka=Gb;var sa=h;if(Lg(sa)||Rg(sa))ka="shared";else if(Sg(sa))ka=ka in fg?"independent":"shared";else throw Error("invalid model type for resolve");}L[Gb]=ka;if("shared"===c.scale[Gb])if(L=cb[Gb],ka=nb.component.scales[Gb].getWithExplicit("type"),L){{sa=ai[L.value];const Nb=ai[ka.value];sa=sa===Nb||"ordinal-position"===
sa&&"time"===Nb||"ordinal-position"===Nb&&"time"===sa}sa?cb[Gb]=Oe(L,ka,"type","scale",rn):(c.scale[Gb]="independent",delete cb[Gb])}else cb[Gb]=ka}}for(const nb of Hd(cb)){t=h.scaleName(nb,!0);Ba[nb]=new tm(t,cb[nb]);for(const Gb of h.children)if(c=Gb.component.scales[nb])Gb.renameScale(c.get("name"),t),c.merged=!0}h=Ba}I.scales=h}}function $k(h){const {encoding:I,mark:c}=h;return Lj.reduce((t,L)=>{var ka=Aa(I[L]);if(ka&&c===Ke&&"shape"===L&&"geojson"===ka.type)return t;let sa=ka&&ka.scale;if(ka&&
null!==sa&&!1!==sa){var Ba;sa=null!==(Ba=sa)&&void 0!==Ba?Ba:{};var cb=sa;Ba=Ej(L,ka,c);({type:cb}=cb);if(rh[L]){if(void 0!==cb)if(me(L,cb)){var nb;if(nb=$b(ka))nb=cb,ka=ka.type,nb=!(G(["ordinal","nominal"],ka)?void 0===nb||nb in nh:"temporal"===ka?G([Cg.TIME,Cg.UTC,void 0],nb):"quantitative"===ka?G([Cg.LOG,Cg.POW,Cg.SQRT,Cg.SYMLOG,Cg.QUANTILE,Cg.QUANTIZE,Cg.THRESHOLD,Cg.LINEAR,void 0],nb):1);nb?(ka=Ba,ka='FieldDef does not work with "'.concat(cb,'" scale. We are using "').concat(ka,'" scale instead.'),
Lb(ka)):Ba=cb}else ka=cb,cb=Ba,ka='Channel "'.concat(L,'" does not work with "').concat(ka,'" scale. We are using "').concat(cb,'" scale instead.'),Lb(ka)}else Ba=null;t[L]=new tm(h.scaleName(L+"",!0),{value:Ba,explicit:sa.type===Ba})}return t},{})}function ng(h){return"unit"===(null===h||void 0===h?void 0:h.type)}function Rg(h){return"facet"===(null===h||void 0===h?void 0:h.type)}function Sg(h){return"concat"===(null===h||void 0===h?void 0:h.type)}function Lg(h){return"layer"===(null===h||void 0===
h?void 0:h.type)}function Ni(h){function I(t,L){t instanceof wk&&!(t.isGenerator||"url"in t.data)&&(h.push(L),L={name:null,source:L.name,transform:[]});if(t instanceof Fh)if(t.parent instanceof wk&&!L.source){var ka;L.format=Object.assign({},null!==(ka=L.format)&&void 0!==ka?ka:{},{parse:t.assembleFormatParse()});L.transform.push(...t.assembleTransforms(!0))}else L.transform.push(...t.assembleTransforms());if(t instanceof Wk){L.name||(L.name="data_".concat(c++));!L.source||0<L.transform.length?(h.push(L),
t.data=L.name):t.data=L.source;for(const sa of t.assemble())h.push(sa)}else switch((t instanceof zl||t instanceof Al||t instanceof Bl||t instanceof kl||t instanceof ml||t instanceof Cl||t instanceof nl||t instanceof cj||t instanceof Dl||t instanceof ll||t instanceof Xk||t instanceof Rl||t instanceof Sl||t instanceof Tl||t instanceof Ul||t instanceof Vl||t instanceof Wl||t instanceof xk||t instanceof Xl||t instanceof Yl)&&L.transform.push(t.assemble()),(t instanceof xj||t instanceof yj||t instanceof
Yk||t instanceof Tj)&&L.transform.push(...t.assemble()),t instanceof Eh&&(L.source&&0===L.transform.length?t.setSource(L.source):t.parent instanceof Eh?t.setSource(L.name):(L.name||(L.name="data_".concat(c++)),t.setSource(L.name),1===t.numChildren()&&(h.push(L),L={name:null,source:L.name,transform:[]}))),t.numChildren()){case 0:t instanceof Eh&&(!L.source||0<L.transform.length)&&h.push(L);break;case 1:I(t.children[0],L);break;default:L.name||(L.name="data_".concat(c++));ka=L.name;!L.source||0<L.transform.length?
h.push(L):ka=L.source;for(const sa of t.children)I(sa,{name:null,source:ka,transform:[]})}}let c=0;return I}function el(h){const I=[],c=Ni(I);for(const t of h.children)c(t,{source:h.name,name:null,transform:[]});return I}function lj(h,I){const c=[];var t=Ni(c);let L=0;for(const Ba of h.sources){Ba.hasName()||(Ba.dataName="source_".concat(L++));const cb=Ba.assemble();t(Ba,cb)}for(const Ba of c)0===Ba.transform.length&&delete Ba.transform;t=0;for(const Ba of c.entries()){const [cb,nb]=Ba;var ka;0!==
(null!==(ka=nb.transform)&&void 0!==ka?ka:[]).length||nb.source||c.splice(t++,0,c.splice(cb,1)[0])}for(const Ba of c)for(const cb of null!==(sa=Ba.transform)&&void 0!==sa?sa:[]){var sa;"lookup"===cb.type&&(cb.from=h.outputNodes[cb.from].getSource())}for(const Ba of c)Ba.name in I&&(Ba.values=I[Ba.name]);return c}function tl(h,I,c){I="row"===I?"height":"width";return{labels:c,sizeSignal:h.child.component.layoutSize.get(I)?h.child.getSizeSignalRef(I):void 0,axes:[]}}function Dk(h,I){var {child:c}=h;
if(c.component.axes[I]){const {layoutHeaders:L,resolve:ka}=h.component;ka.axis[I]=gj(ka,I);if("shared"===ka.axis[I]){const sa="x"===I?"column":"row",Ba=L[sa];for(const cb of c.component.axes[I]){var t;I=cb.get("orient");I="top"===I||"left"===I||Dc(I)?"header":"footer";Ba[I]=null!==(t=Ba[I])&&void 0!==t?t:[tl(h,sa,!1)];(c=kg(cb,"main",h.config,{header:!0}))&&Ba[I][0].axes.push(c);cb.mainExtracted=!0}}}}function ck(h){for(const I of h.children)I.parseLayoutSize()}function Pk(h,I){const c=Yi(I),t=Fb(c),
L=h.component.resolve,ka=h.component.layoutSize;let sa;for(const Ba of h.children){const cb=Ba.component.layoutSize.getWithExplicit(c),nb=L.scale[t];if("independent"===nb&&"step"===cb.value){sa=void 0;break}if(sa){if("independent"===nb&&sa.value!==cb.value){sa=void 0;break}sa=Oe(sa,cb,c,"")}else sa=cb}if(sa){for(const Ba of h.children)h.renameSignal(Ba.getName(c),h.getName(I)),Ba.component.layoutSize.set(c,"merged",!1);ka.setWithExplicit(I,sa)}else ka.setWithExplicit(I,{explicit:!1,value:void 0})}
function xl(h,I){const c=h.config;var t=h.getScaleComponent("width"===I?"x":"y");if(t)return h=t.get("type"),t=t.get("range"),h in nh?(I=Q(c.view,I),uc(t)||zb(I)?"step":I):Kc(c.view,I);if(h.hasProjection||"arc"===h.mark)return Kc(c.view,I);I=Q(c.view,I);return zb(I)?I.step:I}function uk(h,I,c){return kd(I,Object.assign({},{suffix:"by_".concat(kd(h))},null!==c&&void 0!==c?c:{}))}function pl(h,I){for(const Ba of I){var c,t,L,ka;I=Ba.data;if(h.name&&Ba.hasName()&&h.name!==Ba.dataName)continue;const cb=
null===(c=h.format)||void 0===c?void 0:c.mesh;var sa=null===(t=I.format)||void 0===t?void 0:t.feature;if(cb&&sa)continue;const nb=null===(L=h.format)||void 0===L?void 0:L.feature;if(!nb&&!sa||nb===sa)if(sa=null===(ka=I.format)||void 0===ka?void 0:ka.mesh,!cb&&!sa||cb===sa)if("values"in h&&"values"in I){if(ji(h.values,I.values))return Ba}else if("url"in h&&"url"in I){if(h.url===I.url)return Ba}else if(dg(h)&&h.name===Ba.dataName)return Ba}return null}function Ck(h,I){if(h.data||!h.parent){if(null===
h.data)return h=new wk({values:[]}),I.push(h),h;const c=pl(h.data,I);if(c)return Xe(h.data)||(c.data.format=T({},h.data.format,c.data.format)),!c.hasName()&&h.data.name&&(c.dataName=h.data.name),c;h=new wk(h.data);I.push(h);return h}return h.parent.component.data.facetRoot?h.parent.component.data.facetRoot:h.parent.component.data.main}function bk(h){var I,c,t,L=Ck(h,h.component.data.sources);const {outputNodes:ka,outputNodeRefCounts:sa}=h.component.data,Ba=h.parent?h.parent.component.data.ancestorParse.clone():
new sn,cb=h.data;Xe(cb)?("sequence"in cb?L=new Al(L,cb.sequence):"graticule"in cb&&(L=new zl(L,cb.graticule)),Ba.parseNothing=!0):null===(null===cb||void 0===cb?void 0:null===(I=cb.format)||void 0===I?void 0:I.parse)&&(Ba.parseNothing=!0);L=null!==(c=Fh.makeExplicit(L,h,Ba))&&void 0!==c?c:L;L=new xk(L);I=h.parent&&Lg(h.parent);if((ng(h)||Rg(h))&&I){var nb;L=null!==(nb=xj.makeFromEncoding(L,h))&&void 0!==nb?nb:L}if(0<h.transforms.length){nb=0;for(const Yd of h.transforms){var Gb=c=void 0;if("calculate"in
Yd)Gb=L=new ml(L,Yd),c="derived";else if("filter"in Yd){var Nb;Gb=il(Yd);Gb=L=null!==(Nb=Fh.makeWithAncestors(L,{},Gb,Ba))&&void 0!==Nb?Nb:L;L=new kl(L,h,Yd.filter)}else if("bin"in Yd)Gb=L=xj.makeFromTransform(L,Yd,h),c="number";else if("timeUnit"in Yd)c="date",void 0===Ba.getWithExplicit(Yd.field).value&&(L=new Fh(L,{[Yd.field]:c}),Ba.set(Yd.field,c,!1)),Gb=L=yj.makeFromTransform(L,Yd);else if("aggregate"in Yd)Gb=L=cj.makeFromTransform(L,Yd),c="number",bi(h)&&(L=new xk(L));else if("lookup"in Yd)Gb=
L=Dl.make(L,h,Yd,nb++),c="derived";else if("window"in Yd)Gb=L=new ll(L,Yd),c="number";else if("joinaggregate"in Yd)Gb=L=new Xk(L,Yd),c="number";else if("stack"in Yd)Gb=L=Tj.makeFromTransform(L,Yd),c="derived";else if("fold"in Yd)Gb=L=new Rl(L,Yd),c="derived";else if("flatten"in Yd)Gb=L=new Sl(L,Yd),c="derived";else if("pivot"in Yd)Gb=L=new Yl(L,Yd),c="derived";else if("sample"in Yd)L=new Xl(L,Yd);else if("impute"in Yd)Gb=L=Yk.makeFromTransform(L,Yd),c="derived";else if("density"in Yd)Gb=L=new Tl(L,
Yd),c="derived";else if("quantile"in Yd)Gb=L=new Vl(L,Yd),c="derived";else if("regression"in Yd)Gb=L=new Wl(L,Yd),c="derived";else if("loess"in Yd)Gb=L=new Ul(L,Yd),c="derived";else{Lb("Ignoring an invalid transform: ".concat(of(Yd),"."));continue}if(Gb&&void 0!==c)for(const sg of null!==(lc=Gb.producedFields())&&void 0!==lc?lc:[]){var lc;Ba.set(sg,c,!1)}}}Nb={};if(ng(h)&&h.component.selection)for(hd of Hd(h.component.selection)){lc=h.component.selection[hd];for(var Yc of lc.project.items)!Yc.channel&&
1<Ya(Yc.field)&&(Nb[Yc.field]="flatten")}var hd=Nb;Yc=hj(h);L=null!==(t=Fh.makeWithAncestors(L,{},Object.assign({},hd,Yc),Ba))&&void 0!==t?t:L;ng(h)&&(L=nl.parseAll(L,h),L=Cl.parseAll(L,h));if(ng(h)||Rg(h)){var qd;if(!I){var Md;L=null!==(Md=xj.makeFromEncoding(L,h))&&void 0!==Md?Md:L}L=null!==(qd=yj.makeFromEncoding(L,h))&&void 0!==qd?qd:L;L=ml.parseAllForSortIndex(L,h)}qd=h.getDataName(zg.Raw);t=new Eh(L,qd,zg.Raw,sa);L=ka[qd]=t;if(ng(h)){var Rd,Ee;if(qd=cj.makeFromEncoding(L,h))L=qd,bi(h)&&(L=new xk(L));
L=null!==(Rd=Yk.makeFromEncoding(L,h))&&void 0!==Rd?Rd:L;L=null!==(Ee=Tj.makeFromEncoding(L,h))&&void 0!==Ee?Ee:L}if(ng(h)){var Hf;L=null!==(Hf=Bl.make(L,h))&&void 0!==Hf?Hf:L}Ee=h.getDataName(zg.Main);Rd=new Eh(L,Ee,zg.Main,sa);L=ka[Ee]=Rd;ng(h)&&si(h,Rd);Hf=null;if(Rg(h)){var se;Ee=h.getName("facet");{Hf=L;const {row:Yd,column:sg}=h.facet;if(Yd&&sg){qd=null;for(Ef of[Yd,sg])if(qe(Ef.sort)){const {field:Mf,op:Ve="min"}=Ef.sort;Hf=qd=new Xk(Hf,{joinaggregate:[{op:Ve,field:Mf,as:uk(Ef,Ef.sort,{forAs:!0})}],
groupby:[kd(Ef)]})}var Ef=qd}else Ef=null}L=null!==(se=Ef)&&void 0!==se?se:L;Hf=new Wk(L,h,Ee,Rd.getSource());ka[Ee]=Hf}return Object.assign({},h.component.data,{outputNodes:ka,outputNodeRefCounts:sa,raw:t,main:Rd,facetRoot:Hf,ancestorParse:Ba})}function ql(h){return Wg.reduce((I,c)=>{h.component.scales[c]&&(I[c]=[Nl(c,h)]);return I},{})}function rl(h,I){if(h){if(h.length!==I.length)return;const c=h.length;for(let t=0;t<c;t++){const L=h[t],ka=I[t];if(!!L!==!!ka)return;if(L&&ka){const sa=L.getWithExplicit("orient"),
Ba=ka.getWithExplicit("orient");if(sa.explicit&&Ba.explicit&&sa.value!==Ba.value)return;h[t]=sl(L,ka)}}}else return I.map(c=>c.clone());return h}function sl(h,I){for(const c of um){const t=Oe(h.getWithExplicit(c),I.getWithExplicit(c),c,"axis",(L,ka)=>{switch(c){case "title":return za(L,ka);case "gridScale":return{explicit:L.explicit,value:Da(L.value,ka.value)}}return xd(L,ka,c,"axis")});h.setWithExplicit(c,t)}return h}function fl(h,I,c,t,L){if("disable"===I)return void 0!==c;c=c||{};switch(I){case "titleAngle":case "labelAngle":return h===
(Dc(c.labelAngle)?c.labelAngle:ba(c.labelAngle));case "values":return!!c.values;case "encode":return!!c.encoding||!!c.labelAngle;case "title":if(h===Lh(t,L))return!0}return h===c[I]}function Nl(h,I){var c,t,L,ka,sa;let Ba=I.axis(h);const cb=new vm;var nb=Aa(I.encoding[h]);const {mark:Gb,config:Nb}=I;var lc=(null===(c=Ba)||void 0===c?void 0:c.orient)||(null===(t=Nb["x"===h?"axisX":"axisY"])||void 0===t?void 0:t.orient)||(null===(L=Nb.axis)||void 0===L?void 0:L.orient)||("x"===h?"bottom":"left");t=
I.getScaleComponent(h).get("type");c=ak(h,t,lc,I.config);L=void 0!==Ba?!Ba:Yh("disable",Nb.style,null===(ka=Ba)||void 0===ka?void 0:ka.style,c).configValue;cb.set("disable",L,void 0!==Ba);if(L)return cb;Ba=Ba||{};ka=Zj(nb,Ba,h,Nb.style,c);nb={fieldOrDatumDef:nb,axis:Ba,channel:h,model:I,scaleType:t,orient:lc,labelAngle:ka,mark:Gb,config:Nb};for(const hd of um)if(lc=hd in wm?wm[hd](nb):$g[hd]?Ba[hd]:void 0,ka=void 0!==lc,t=fl(lc,hd,Ba,I,h),ka&&t)cb.set(hd,lc,t);else{const {configValue:qd,configFrom:Md}=
$g[hd]&&"values"!==hd?Yh(hd,Nb.style,Ba.style,c):{};L=void 0!==qd;ka&&!L?cb.set(hd,lc,t):("vgAxisConfig"!==Md||tn.has(hd)&&L||ra(qd)||Dc(qd))&&cb.set(hd,qd,!1)}const Yc=null!==(sa=Ba.encoding)&&void 0!==sa?sa:{};sa=yh.reduce((hd,qd)=>{var Md;if(!cb.hasAxisPart(qd))return hd;var Rd=Gg(null!==(Md=Yc[qd])&&void 0!==Md?Md:{},I);if("labels"===qd){{var Ee;const {encoding:Hf,config:se}=I;Md=null!==(Ee=Aa(Hf[h]))&&void 0!==Ee?Ee:Aa(Hf[Ha(h)]);Ee=I.axis(h)||{};const {format:Ef,formatType:Yd}=Ee;Rd=Gc(Yd)?
Object.assign({},{text:Fe({fieldOrDatumDef:Md,field:"datum.value",format:Ef,formatType:Yd,config:se})},Rd):Rd}}void 0===Rd||P(Rd)||(hd[qd]={update:Rd});return hd},{});P(sa)||cb.set("encode",sa,!!Ba.encoding||void 0!==Ba.labelAngle);return cb}function xi(h,I,c){switch(h){case yb:case ff:case Ld:case Fc:case Ob:case Qa:return}const {x:t,y:L,x2:ka,y2:sa}=I;switch(h){case da:if($b(t)&&(Hc(t.bin)||$b(L)&&L.aggregate&&!t.aggregate))break;if($b(L)&&(Hc(L.bin)||$b(t)&&t.aggregate&&!L.aggregate))return"horizontal";
if(sa||ka){if(c)return c;if(!ka&&($b(t)&&"quantitative"===t.type&&!pc(t.bin)||Nd(t)))return"horizontal";if(!sa&&($b(L)&&"quantitative"===L.type&&!pc(L.bin)||Nd(L)))break}case fc:if(!(!ka||$b(t)&&Hc(t.bin)||!sa||$b(L)&&Hc(L.bin)))return;case J:if(sa){if($b(L)&&Hc(L.bin))return"horizontal";break}else if(ka)if($b(t)&&Hc(t.bin))break;else return"horizontal";else if(h===fc)if(t&&!L)break;else if(L&&!t)return"horizontal";case ib:case sd:I=Mc(t);var Ba=Mc(L);if(I&&!Ba)return"tick"!==h?"horizontal":"vertical";
if(!I&&Ba)return"tick"!==h?"vertical":"horizontal";if(I&&Ba){I="temporal"===t.type;Ba="temporal"===L.type;if(I&&!Ba)return"tick"!==h?"vertical":"horizontal";if(!I&&Ba)return"tick"!==h?"horizontal":"vertical";if(!t.aggregate&&L.aggregate)return"tick"!==h?"vertical":"horizontal";if(t.aggregate&&!L.aggregate)return"tick"!==h?"horizontal":"vertical";if(c)return c}else{if(c)return c;return}}return"vertical"}function Fj(h,I){return Object.assign({},hh(h,{align:"ignore",baseline:"ignore",color:"include",
size:"include",orient:"ignore",theta:"ignore"}),qg("x",h,{defaultPos:"mid"}),qg("y",h,{defaultPos:"mid"}),Fg("size",h),Fg("angle",h),I?{shape:{value:I}}:Fg("shape",h))}function al(h,I,c){if(void 0===ne("align",h,c))return"center"}function yl(h,I,c){if(void 0===ne("baseline",h,c))return"middle"}function gh(h){var I;const {config:c,markDef:t}=h;var {orient:L}=t;const ka="horizontal"===L?"width":"height";h=h.getScaleComponent("horizontal"===L?"x":"y");L=null!==(I=ne("size",t,c,{vgChannel:ka}))&&void 0!==
I?I:c.tick.bandSize;return void 0!==L?L:(I=h?h.get("range"):void 0)&&uc(I)&&a(I.step)?3*I.step/4:3*r(c.view,ka)/4}function Ll(h){if(G([ib,J,ve],h.mark)){var I=xc(h.mark,h.encoding);if(0<I.length)return Ek(h,I)}else if(G([da],h.mark)&&(I=kk.some(c=>ne(c,h.markDef,h.config)),h.stack&&!h.fieldDef("size")&&I))return Gj(h);return Oi(h)}function Ek(h,I){return[{name:h.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+h.requestDataName(zg.Main),data:h.requestDataName(zg.Main),groupby:I}},
encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Oi(h,{fromPrefix:"faceted_path_"})}]}function Gj(h){const [I]=Oi(h,{fromPrefix:"stack_group_"}),c=h.scaleName(h.stack.fieldChannel),t=cb=>{cb=void 0===cb?{}:cb;return h.vgField(h.stack.fieldChannel,cb)};var L=(cb,nb)=>{nb=[t({prefix:"min",suffix:"start",expr:nb}),t({prefix:"max",suffix:"start",expr:nb}),t({prefix:"min",suffix:"end",expr:nb}),t({prefix:"max",suffix:"end",expr:nb})];return"".concat(cb,"(").concat(nb.map(Gb=>
"scale('".concat(c,"',").concat(Gb,")")).join(","),")")};let ka;"x"===h.stack.fieldChannel?(L=Object.assign({},O(I.encode.update,["y","yc","y2","height",...kk]),{x:{signal:L("min","datum")},x2:{signal:L("max","datum")},clip:{value:!0}}),ka={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},I.encode.update=Object.assign({},M(I.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(L=Object.assign({},O(I.encode.update,["x","xc","x2","width"]),{y:{signal:L("min","datum")},y2:{signal:L("max",
"datum")},clip:{value:!0}}),ka={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},I.encode.update=Object.assign({},M(I.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var sa of kk){var Ba=sf(sa,h.markDef,h.config);I.encode.update[sa]?(L[sa]=I.encode.update[sa],delete I.encode.update[sa]):Ba&&(L[sa]=$d(Ba));Ba&&(I.encode.update[sa]={value:0})}sa=h.fieldDef(h.stack.groupbyChannel);Ba=kd(sa)?[kd(sa)]:[];((null===sa||void 0===sa?0:sa.bin)||(null===sa||void 0===sa?0:sa.timeUnit))&&
Ba.push(kd(sa,{binSuffix:"end"}));L="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((cb,nb)=>{if(I.encode.update[nb])return Object.assign({},cb,{[nb]:I.encode.update[nb]});{const Gb=sf(nb,h.markDef,h.config);return void 0!==Gb?Object.assign({},cb,{[nb]:$d(Gb)}):cb}},L);L.stroke&&(L.strokeForeground={value:!0},L.strokeOffset={value:0});return[{type:"group",from:{facet:{data:h.requestDataName(zg.Main),name:"stack_group_"+h.requestDataName(zg.Main),
groupby:Ba,aggregate:{fields:[t({suffix:"start"}),t({suffix:"start"}),t({suffix:"end"}),t({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:L},marks:[{type:"group",encode:{update:ka},marks:[I]}]}]}function Pi(h){const {encoding:I,stack:c,mark:t,markDef:L,config:ka}=h;var sa=I.order;if(!(!Je(sa)&&jd(sa)&&z(sa.value)||!sa&&z(ne("order",L,ka)))){if((Je(sa)||$b(sa))&&!c)return Lf(sa,{expr:"datum"});if(we(t)){const Ba="horizontal"===L.orient?"y":"x",cb=I[Ba];if($b(cb)){sa=cb.sort;if(Je(sa))return{field:kd(cb,
{prefix:Ba,suffix:"sort_index",expr:"datum"})};if(qe(sa))return{field:kd({aggregate:fb(h.encoding)?sa.op:void 0,field:sa.field},{expr:"datum"})};if(sa&&sa.encoding)return h=h.fieldDef(sa.encoding),{field:kd(h,{expr:"datum"}),order:sa.order};if(null!==sa)return{field:kd(cb,{binSuffix:h.stack&&h.stack.impute?"mid":void 0,expr:"datum"})}}}}}function Oi(h,I){I=void 0===I?{fromPrefix:""}:I;const {mark:c,markDef:t,encoding:L,config:ka}=h;var sa=t.clip;var Ba=h.getScaleComponent("x");var cb=h.getScaleComponent("y");
Ba=Ba&&Ba.get("selectionExtent")||cb&&cb.get("selectionExtent")?!0:void 0;cb=(cb=h.component.projection)&&!cb.isFit?!0:void 0;sa=Da(sa,Ba,cb);Ba=Uf(t);cb=L.key;const nb=Pi(h);var Gb;if(h.component.selection){for(var Nb=Gb=Hd(h.component.selection).length,lc=h.parent;lc&&0===Nb;)Nb=Hd(lc.component.selection).length,lc=lc.parent;Gb=Nb?{interactive:0<Gb||!!h.encoding.tooltip}:null}else Gb=null;Nb=ne("aria",t,ka);lc=El[c].postEncodingTransform?El[c].postEncodingTransform(h):null;return[Object.assign({},
{name:h.getName("marks"),type:El[c].vgMark},sa?{clip:!0}:{},Ba?{style:Ba}:{},cb?{key:cb.field}:{},nb?{sort:nb}:{},Gb?Gb:{},!1===Nb?{aria:Nb}:{},{from:{data:I.fromPrefix+h.requestDataName(zg.Main)},encode:{update:El[c].encodeEntry(h)}},lc?{transform:lc}:{})]}function hi(h,I,c,t,L){if("facet"in h)return new Fl(h,I,c,L);if("layer"in h)return new xm(h,I,c,t,L);if(Na(h))return new ym(h,I,c,t,L);if("vconcat"in h||"hconcat"in h||"concat"in h)return new un(h,I,c,L);throw Error(Pc(h));}function ul(h,I,c,t){c=
void 0===c?{}:c;const L=h.config?gb(h.config):void 0;c=[].concat(h.assembleSelectionData([]),lj(h.component.data,c));const ka=h.assembleProjections(),sa=h.assembleTitle(),Ba=h.assembleGroupStyle(),cb=h.assembleGroupEncodeEntry(!0);let nb=h.assembleLayoutSignals();nb=nb.filter(lc=>"width"!==lc.name&&"height"!==lc.name||void 0===lc.value?!0:(I[lc.name]=+lc.value,!1));var Gb=Object.assign({},I);const Nb=I.params;Gb=(delete Gb.params,Gb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
h.description?{description:h.description}:{},Gb,sa?{title:sa}:{},Ba?{style:Ba}:{},cb?{encode:{update:cb}}:{},{data:c},0<ka.length?{projections:ka}:{},h.assembleGroup([...nb,...h.assembleSelectionTopLevelSignals([]),...id(Nb)]),L?{config:L}:{},t?{usermeta:t}:{})}const Fk=h=>function(I){return I[h]},Gk=h=>{const I=h.length;return function(c){for(let t=0;t<I;++t)c=c[h[t]];return c}};(function(h,I,c){const t=N(h);h=1===t.length?t[0]:h;return w((c&&c.get||H)(t),[h],I||h)})("id");const Jk=w(h=>h,[],"identity");
w(()=>0,[],"zero");w(()=>1,[],"one");w(()=>!0,[],"true");w(()=>!1,[],"false");var Je=Array.isArray;const ii=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function c(I){var t=isNaN(I)?1:Number(I);return t?Array.prototype.reduce.call(this,function(L,ka){return Array.isArray(ka)?L.push.apply(L,c.call(ka,t-1)):L.push(ka),L},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,
"flatMap",{configurable:!0,value:function(I){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var qh=function(I,c){c||(c={});"function"===typeof c&&(c={cmp:c});var t="boolean"===typeof c.cycles?c.cycles:!1,L=c.cmp&&function(sa){return function(Ba){return function(cb,nb){return sa({key:cb,value:Ba[cb]},{key:nb,value:Ba[nb]})}}}(c.cmp),ka=[];return function cb(Ba){Ba&&Ba.toJSON&&"function"===typeof Ba.toJSON&&(Ba=Ba.toJSON());if(void 0!==Ba){if("number"==typeof Ba)return isFinite(Ba)?
""+Ba:"null";if("object"!==typeof Ba)return JSON.stringify(Ba);var nb;if(Array.isArray(Ba)){var Gb="[";for(nb=0;nb<Ba.length;nb++)nb&&(Gb+=","),Gb+=cb(Ba[nb])||"null";return Gb+"]"}if(null===Ba)return"null";if(-1!==ka.indexOf(Ba)){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Nb=ka.push(Ba)-1,lc=Object.keys(Ba).sort(L&&L(Ba));Gb="";for(nb=0;nb<lc.length;nb++){var Yc=lc[nb],hd=cb(Ba[Yc]);hd&&(Gb&&(Gb+=","),Gb+=JSON.stringify(Yc)+":"+hd)}ka.splice(Nb,
1);return"{"+Gb+"}"}}(I)};const ji=function L(c,t){if(c===t)return!0;if(c&&t&&"object"==typeof c&&"object"==typeof t){if(c.constructor!==t.constructor)return!1;var ka;if(Array.isArray(c)){var sa=c.length;if(sa!=t.length)return!1;for(ka=sa;0!==ka--;)if(!L(c[ka],t[ka]))return!1;return!0}if(c.constructor===RegExp)return c.source===t.source&&c.flags===t.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===t.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===t.toString();
var Ba=Object.keys(c);sa=Ba.length;if(sa!==Object.keys(t).length)return!1;for(ka=sa;0!==ka--;)if(!Object.prototype.hasOwnProperty.call(t,Ba[ka]))return!1;for(ka=sa;0!==ka--;)if(sa=Ba[ka],!L(c[sa],t[sa]))return!1;return!0}return c!==c&&t!==t},rf=function(c,t,L){return L={path:t,exports:{},require:function(ka,sa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},c(L,L.exports),L.exports}(function(c){var t=function(){function L(Nb,lc){return null!=lc&&Nb instanceof
lc}function ka(Nb,lc,Yc,hd,qd){function Md(se,Ef){if(null===se)return null;if(0===Ef||"object"!=typeof se)return se;if(L(se,cb))var Yd=new cb;else if(L(se,nb))Yd=new nb;else if(L(se,Gb))Yd=new Gb(function(Ig,hg){se.then(function(Ng){Ig(Md(Ng,Ef-1))},function(Ng){hg(Md(Ng,Ef-1))})});else if(ka.__isArray(se))Yd=[];else if(ka.__isRegExp(se))Yd=new RegExp(se.source,Ba(se)),se.lastIndex&&(Yd.lastIndex=se.lastIndex);else if(ka.__isDate(se))Yd=new Date(se.getTime());else{if(Hf&&k.isBuffer(se))return Yd=
k.allocUnsafe?k.allocUnsafe(se.length):new k(se.length),se.copy(Yd),Yd;if(L(se,Error))Yd=Object.create(se);else if("undefined"==typeof hd){var sg=Object.getPrototypeOf(se);Yd=Object.create(sg)}else Yd=Object.create(hd),sg=hd}if(lc){var Mf=Rd.indexOf(se);if(-1!=Mf)return Ee[Mf];Rd.push(se);Ee.push(Yd)}L(se,cb)&&se.forEach(function(Ig,hg){hg=Md(hg,Ef-1);Ig=Md(Ig,Ef-1);Yd.set(hg,Ig)});L(se,nb)&&se.forEach(function(Ig){Ig=Md(Ig,Ef-1);Yd.add(Ig)});for(var Ve in se){var pg;sg&&(pg=Object.getOwnPropertyDescriptor(sg,
Ve));pg&&null==pg.set||(Yd[Ve]=Md(se[Ve],Ef-1))}if(Object.getOwnPropertySymbols)for(Mf=Object.getOwnPropertySymbols(se),Ve=0;Ve<Mf.length;Ve++)if(pg=Mf[Ve],sg=Object.getOwnPropertyDescriptor(se,pg),!sg||sg.enumerable||qd)Yd[pg]=Md(se[pg],Ef-1),sg.enumerable||Object.defineProperty(Yd,pg,{enumerable:!1});if(qd)for(Mf=Object.getOwnPropertyNames(se),Ve=0;Ve<Mf.length;Ve++)pg=Mf[Ve],sg=Object.getOwnPropertyDescriptor(se,pg),sg&&sg.enumerable||(Yd[pg]=Md(se[pg],Ef-1),Object.defineProperty(Yd,pg,{enumerable:!1}));
return Yd}"object"===typeof lc&&(Yc=lc.depth,hd=lc.prototype,qd=lc.includeNonEnumerable,lc=lc.circular);var Rd=[],Ee=[],Hf="undefined"!=typeof k;"undefined"==typeof lc&&(lc=!0);"undefined"==typeof Yc&&(Yc=Infinity);return Md(Nb,Yc)}function sa(Nb){return Object.prototype.toString.call(Nb)}function Ba(Nb){var lc="";Nb.global&&(lc+="g");Nb.ignoreCase&&(lc+="i");Nb.multiline&&(lc+="m");return lc}try{var cb=Map}catch(Nb){cb=function(){}}try{var nb=Set}catch(Nb){nb=function(){}}try{var Gb=Promise}catch(Nb){Gb=
function(){}}ka.clonePrototype=function(Nb){if(null===Nb)return null;var lc=function(){};lc.prototype=Nb;return new lc};ka.__objToStr=sa;ka.__isDate=function(Nb){return"object"===typeof Nb&&"[object Date]"===sa(Nb)};ka.__isArray=function(Nb){return"object"===typeof Nb&&"[object Array]"===sa(Nb)};ka.__isRegExp=function(Nb){return"object"===typeof Nb&&"[object RegExp]"===sa(Nb)};ka.__getRegExpFlags=Ba;return ka}();c.exports&&(c.exports=t)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(c=>
qh(c)).join(","),")")};const of=qh,Hd=Object.keys,Tg=Object.values,fh=Object.entries;let jj=42;const Ij={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,
gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},yh=["domain","grid","labels",
"ticks","title"],ek={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",
labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",
titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},rg={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,
domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,
tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},$g=Object.assign({},rg,{style:1,labelExpr:1,encoding:1}),Ug=Hd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,
axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Ik={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},fk={count:1,min:1,max:1},Hk=["count","valid","missing","distinct"],
Hl=["count","sum","distinct","valid","missing"],Il=y("mean average median q1 q3 min max".split(" ")),bl={theta:1,theta2:1,radius:1,radius2:1},cl={longitude:1,longitude2:1,latitude:1,latitude2:1},$h=Hd(cl),gk=Object.assign({},{x:1,y:1,x2:1,y2:1},bl,cl,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),wl={row:1,column:1,facet:1},zh=Hd(wl),Kk=Object.assign({},gk,wl),Jl=
Hd(Kk);var Sk=Object.assign({},Kk),Kl=(delete Sk.order,delete Sk.detail,delete Sk.tooltip,Sk),Rk=Object.assign({},Kl);const Qk=(delete Rk.row,delete Rk.column,delete Rk.facet,Rk),gl="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var Ne=Object.assign({},gk);const ah=(delete Ne.x,delete Ne.y,delete Ne.x2,delete Ne.y2,delete Ne.latitude,delete Ne.longitude,delete Ne.latitude2,delete Ne.longitude2,delete Ne.theta,delete Ne.theta2,delete Ne.radius,delete Ne.radius2,Ne),Mg=Hd(ah),fg={x:1,y:1},Wg=
Hd(fg),lk={theta:1,radius:1},bh=Hd(lk);var Qh=Object.assign({},ah);const mj=(delete Qh.text,delete Qh.tooltip,delete Qh.href,delete Qh.url,delete Qh.description,delete Qh.detail,delete Qh.key,delete Qh.order,Qh),dk=Hd(mj),rh=Object.assign({},fg,lk,mj),Lj=Hd(rh),Ok={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Mk=Object.assign({},Ok);const dl=
(delete Mk.geoshape,Mk),ze=function(c,t){let L=c||0;return{level(ka){return arguments.length?(L=+ka,this):L},error(){1<=L&&x(t||"error","ERROR",arguments);return this},warn(){2<=L&&x(t||"warn","WARN",arguments);return this},info(){3<=L&&x(t||"log","INFO",arguments);return this},debug(){4<=L&&x(t||"log","DEBUG",arguments);return this}}}(2);let kj=ze;const Lk="january february march april may june july august september october november december".split(" "),ki=Lk.map(c=>c.substr(0,3)),Ci="sunday monday tuesday wednesday thursday friday saturday".split(" "),
mk=Ci.map(c=>c.substr(0,3)),Oj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},ok=Hd(Oj),hl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Bi=Hd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,
shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),jk={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},kk=["cornerRadius","cornerRadiusTopLeft",
"cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Cg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},ai={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal",
"bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ik={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Nj="linear log pow sqrt symlog time utc".split(" "),th=y(Nj),Ml=y(["linear","log","pow","sqrt","symlog"]),zk=y(["quantile","quantize","threshold"]),ol=Nj.concat(["quantile","quantize","threshold",
"sequential","identity"]),Jh=y(ol),nh=y(["ordinal","bin-ordinal","point","band"]);var wj=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const vk=(delete wj.type,delete wj.domain,delete wj.range,delete wj.rangeMax,delete wj.rangeMin,delete wj.scheme,wj),Ol=Hd(vk),Yg={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},q=Yg.arc,J=Yg.area,da=Yg.bar,Qa=Yg.image,ib=Yg.line,yb=Yg.point,Ob=Yg.rect,fc=Yg.rule,Fc=Yg.text,sd=Yg.tick,ve=Yg.trail,ff=Yg.circle,Ld=Yg.square,Ke=Yg.geoshape,gf=Hd(Yg);y(gf);const $e="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),cd=Hd({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Nc=Hd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),$c={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Bd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Jd=(c,t)=>{switch(t.fieldTitle){case "plain":return c.field;case "functional":{const {aggregate:L,
bin:ka,timeUnit:sa,field:Ba}=c;Fa(L)?c="".concat(Ba," for argmax(").concat(L.argmax,")"):qa(L)?c="".concat(Ba," for argmin(").concat(L.argmin,")"):(c=Qb(sa),c=(c=L||(null===c||void 0===c?void 0:c.unit)||(null===c||void 0===c?void 0:c.maxbins)&&"timeunit"||pc(ka)&&"bin")?c.toUpperCase()+"("+Ba+")":Ba)}return c;default:return uf(c,t)}};let cf=Jd;const Ae={compatible:!0};class hf{constructor(c,t){this.name=c;this.run=t}hasMatchingType(c){return Na(c)?(c=c.mark,(Od(c)?c.type:c)===this.name):!1}}const Kf=
new hf("boxplot",Ec),xf=new hf("errorbar",Zc),Si=new hf("errorband",pd),vl={};Ad("boxplot",Ec,["box","median","outliers","rule","ticks"]);Ad("errorbar",Zc,["ticks","rule"]);Ad("errorband",pd,["band","borders"]);const Jm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],lm={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",
titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},mm={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},an=Hd(lm),bn=Hd(mm),hm=Hd({header:1,headerRow:1,headerColumn:1,
headerFacet:1}),nm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Em=["background","padding"],Fm=Hd({align:1,bounds:1,center:1,columns:1,spacing:1}),Gm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,
continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},
projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",
encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},zj="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),gm={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},fm={blue:zj[0],orange:zj[1],red:zj[2],teal:zj[3],green:zj[4],yellow:zj[5],purple:zj[6],pink:zj[7],
brown:zj[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Hm=[...Nc,...Ug,...hm,"background","padding","legend","lineBreak","scale","style","title","view"],Km=["view",...gf],Im="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Lm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class vn{map(c,t){return"facet"in c?this.mapFacet(c,t):"repeat"in c?this.mapRepeat(c,t):"hconcat"in c?this.mapHConcat(c,t):"vconcat"in c?this.mapVConcat(c,t):"concat"in c?this.mapConcat(c,t):this.mapLayerOrUnit(c,
t)}mapLayerOrUnit(c,t){if("layer"in c)return this.mapLayer(c,t);if(Na(c))return this.mapUnit(c,t);throw Error(Pc(c));}mapLayer(c,t){return Object.assign({},c,{layer:c.layer.map(L=>this.mapLayerOrUnit(L,t))})}mapHConcat(c,t){return Object.assign({},c,{hconcat:c.hconcat.map(L=>this.map(L,t))})}mapVConcat(c,t){return Object.assign({},c,{vconcat:c.vconcat.map(L=>this.map(L,t))})}mapConcat(c,t){var L=Object.assign({},c);c=c.concat;L=(delete L.concat,L);return Object.assign({},L,{concat:c.map(ka=>this.map(ka,
t))})}mapFacet(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}mapRepeat(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}}const Om={zero:1,center:1,normalize:1},Mm=new Set([q,da,J,fc,yb,ff,Ld,ib,Fc,sd]),Nm=new Set([da,J,q]);class wn{constructor(){jc(this,"name","path-overlay")}hasMatchingType(c,t){if(Na(c)){const {mark:L,encoding:ka}=c;c=Od(L)?L:{type:L};switch(c.type){case "line":case "rule":case "trail":return!!Qc(c,t[c.type],ka);case "area":return!!Qc(c,t[c.type],ka)||!!dd(c,
t[c.type])}}return!1}run(c,t,L){const {config:ka}=t;var sa=Object.assign({},c),Ba=c.selection;const cb=c.projection;var nb=c.mark;c=c.encoding;sa=(delete sa.selection,delete sa.projection,delete sa.mark,delete sa.encoding,sa);c=Ab(c,ka);nb=Od(nb)?nb:{type:nb};const Gb=Qc(nb,ka[nb.type],c),Nb="area"===nb.type&&dd(nb,ka[nb.type]);Ba=[Object.assign({},Ba?{selection:Ba}:{},{mark:ec(Object.assign({},"area"===nb.type&&void 0===nb.opacity&&void 0===nb.fillOpacity?{opacity:.7}:{},nb)),encoding:M(c,["shape"])})];
const lc=Rb(nb,c);let Yc=c;if(lc){const {fieldChannel:hd,offset:qd}=lc;Yc=Object.assign({},c,{[hd]:Object.assign({},c[hd],qd?{stack:qd}:{})})}Nb&&Ba.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"line"},O(nb,["clip","interpolate","tension","tooltip"]),Nb),encoding:Yc}));Gb&&Ba.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},O(nb,["clip","tooltip"]),Gb),encoding:Yc}));return L(Object.assign({},sa,{layer:Ba}),Object.assign({},
t,{config:Vb(ka)}))}}class xn{constructor(){jc(this,"name","RangeStep")}hasMatchingType(c){if(Na(c)&&c.encoding)for(const L of Wg){const ka=c.encoding[L];if(ka&&od(ka)){var t;if(null===ka||void 0===ka?0:null===(t=ka.scale)||void 0===t?0:t.rangeStep)return!0}}return!1}run(c){const t={};let L=Object.assign({},c.encoding);for(const nb of Wg){const Gb=Ua(nb);var ka=L[nb];if(ka&&od(ka)){var sa;if(null===ka||void 0===ka?0:null===(sa=ka.scale)||void 0===sa?0:sa.rangeStep){var Ba=Object.assign({},ka);ka=
ka.scale;Ba=(delete Ba.scale,Ba);var cb=Object.assign({},ka);cb=(delete cb.rangeStep,cb);t[Gb]={step:ka.rangeStep};Lb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');L=Object.assign({},L,{[nb]:Object.assign({},Ba,P(cb)?{}:{scale:cb})})}}}return Object.assign({},t,c,{encoding:L})}}class yn{constructor(){jc(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Na(c)){const {encoding:t,
mark:L}=c;if("line"===L)for(const ka of gl)if(c=Ga(ka),c=t[c],t[ka]&&($b(c)&&!Hc(c.bin)||gd(c)))return!0}return!1}run(c,t,L){var {encoding:ka}=c,sa=!!ka.x2;ka="Line mark is for continuous lines and thus cannot be used with ".concat(sa&&ka.y2?"x2 and y2":sa?"x2":"y2",". We will use the rule mark (line segments) instead.");Lb(ka);return L(Object.assign({},c,{mark:"rule"}),t)}}class zn extends vn{constructor(...c){super(...c);jc(this,"nonFacetUnitNormalizers",[Kf,xf,Si,new wn,new yn,new xn])}map(c,t){if(Na(c)){const L=
Sa(c.encoding,"row"),ka=Sa(c.encoding,"column"),sa=Sa(c.encoding,"facet");if(L||ka||sa)return this.mapFacetedUnit(c,t)}return super.map(c,t)}mapUnit(c,t){const {parentEncoding:L,parentProjection:ka}=t;var sa=zd(c.encoding,t.repeater);c=Object.assign({},c,sa?{encoding:sa}:{});if(L||ka)return this.mapUnitWithParentEncodingOrProjection(c,t);sa=this.mapLayerOrUnit.bind(this);for(const Ba of this.nonFacetUnitNormalizers)if(Ba.hasMatchingType(c,t.config))return Ba.run(c,t,sa);return c}mapRepeat(c,t){return!Je(c.repeat)&&
c.repeat.layer?this.mapLayerRepeat(c,t):this.mapNonLayerRepeat(c,t)}mapLayerRepeat(c,t){var L=Object.assign({},c);const ka=c.repeat,sa=c.spec;L=(delete L.repeat,delete L.spec,L);const {row:Ba,column:cb,layer:nb}=ka,{repeater:Gb={},repeaterPrefix:Nb=""}=t;return Ba||cb?this.mapRepeat(Object.assign({},c,{repeat:Object.assign({},Ba?{row:Ba}:{},cb?{column:cb}:{}),spec:{repeat:{layer:nb},spec:sa}}),t):Object.assign({},L,{layer:nb.map(lc=>{var Yc=Object.assign({},Gb,{layer:lc});lc=(sa.name||"")+Nb+"child__layer_".concat(V(lc));
Yc=this.mapLayerOrUnit(sa,Object.assign({},t,{repeater:Yc,repeaterPrefix:lc}));Yc.name=lc;return Yc})})}mapNonLayerRepeat(c,t){var L,ka=c,sa=Object.assign({},ka);const Ba=ka.repeat,cb=ka.spec;ka=ka.data;sa=(delete sa.repeat,delete sa.spec,delete sa.data,sa);!Je(Ba)&&c.columns&&(c=M(c,["columns"]),Lb(vd("repeat")));const nb=[],{repeater:Gb={},repeaterPrefix:Nb=""}=t,lc=!Je(Ba)&&Ba.row||[Gb?Gb.row:null],Yc=!Je(Ba)&&Ba.column||[Gb?Gb.column:null];var hd=Je(Ba)&&Ba||[Gb?Gb.repeat:null];for(const Md of hd)for(const Rd of lc)for(const Ee of Yc){var qd=
{repeat:Md,row:Rd,column:Ee,layer:Gb.layer};hd=(cb.name||"")+Nb+"child__"+(Je(Ba)?"".concat(V(Md)):(Ba.row?"row_".concat(V(Rd)):"")+(Ba.column?"column_".concat(V(Ee)):""));qd=this.map(cb,Object.assign({},t,{repeater:qd,repeaterPrefix:hd}));qd.name=hd;nb.push(M(qd,["data"]))}c=Je(Ba)?c.columns:Ba.column?Ba.column.length:1;return Object.assign({},{data:null!==(L=cb.data)&&void 0!==L?L:ka,align:"all"},sa,{columns:c,concat:nb})}mapFacet(c,t){const {facet:L}=c;wa(L)&&c.columns&&(c=M(c,["columns"]),Lb(vd("facet")));
return super.mapFacet(c,t)}mapUnitWithParentEncodingOrProjection(c,t){const {encoding:L,projection:ka}=c,{parentEncoding:sa,parentProjection:Ba,config:cb}=t,nb=ye({parentProjection:Ba,projection:ka});t=Sd({parentEncoding:sa,encoding:zd(L,t.repeater)});return this.mapUnit(Object.assign({},c,nb?{projection:nb}:{},t?{encoding:t}:{}),{config:cb})}mapFacetedUnit(c,t){var L=c.encoding,ka=Object.assign({},L),sa=L.row;const Ba=L.column;L=L.facet;const cb=(delete ka.row,delete ka.column,delete ka.facet,ka);
var nb=Object.assign({},c);ka=c.mark;const Gb=c.width,Nb=c.projection,lc=c.height,Yc=c.view;c=c.selection;nb=(delete nb.mark,delete nb.width,delete nb.projection,delete nb.height,delete nb.view,delete nb.selection,delete nb.encoding,nb);const {facetMapping:hd,layout:qd}=this.getFacetMappingAndLayout({row:sa,column:Ba,facet:L},t);sa=zd(cb,t.repeater);return this.mapFacet(Object.assign({},nb,qd,{facet:hd,spec:Object.assign({},Gb?{width:Gb}:{},lc?{height:lc}:{},Yc?{view:Yc}:{},Nb?{projection:Nb}:{},
{mark:ka,encoding:sa},c?{selection:c}:{})}),t)}getFacetMappingAndLayout(c,t){const {row:L,column:ka,facet:sa}=c;if(L||ka){sa&&(t=[...L?["row"]:[],...ka?["column"]:[]],t="Facet encoding dropped as ".concat(t.join(" and ")," ").concat(1<t.length?"are":"is"," also specified."),Lb(t));t={};var Ba={};for(var cb of["row","column"]){const lc=c[cb];if(lc){var nb=Object.assign({},lc);nb=(delete nb.align,delete nb.center,delete nb.spacing,delete nb.columns,nb);t[cb]=nb;for(var Gb of["align","center","spacing"])if(void 0!==
lc[Gb]){var Nb;Ba[Gb]=null!==(Nb=Ba[Gb])&&void 0!==Nb?Nb:{};Ba[Gb][cb]=lc[Gb]}}}return{facetMapping:t,layout:Ba}}Ba=Object.assign({},sa);c=sa.align;Nb=sa.center;cb=sa.spacing;Gb=sa.columns;Ba=(delete Ba.align,delete Ba.center,delete Ba.spacing,delete Ba.columns,Ba);t=(t=t.repeater)?wa(Ba)?ee(Ba,t):bd(Ba,t):Ba;return{facetMapping:t,layout:Object.assign({},c?{align:c}:{},Nb?{center:Nb}:{},cb?{spacing:cb}:{},Gb?{columns:Gb}:{})}}mapLayer(c,t){var L=Object.assign({},t),ka=t.parentEncoding;t=t.parentProjection;
L=(delete L.parentEncoding,delete L.parentProjection,L);var sa=Object.assign({},c);const Ba=c.encoding;c=c.projection;sa=(delete sa.encoding,delete sa.projection,sa);ka=Object.assign({},L,{parentEncoding:Sd({parentEncoding:ka,encoding:Ba,layer:!0}),parentProjection:ye({parentProjection:t,projection:c})});return super.mapLayer(sa,ka)}}const Pm=new zn;class Uj{constructor(c,t){c=void 0===c?{}:c;t=void 0===t?{}:t;this.explicit=c;this.implicit=t}clone(){return new Uj(rf(this.explicit),rf(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(c){return Da(this.explicit[c],this.implicit[c])}getWithExplicit(c){return void 0!==this.explicit[c]?{explicit:!0,value:this.explicit[c]}:void 0!==this.implicit[c]?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,t){void 0!==t.value&&this.set(c,t.value,t.explicit)}set(c,t,L){delete this[L?"implicit":"explicit"][c];this[L?"explicit":"implicit"][c]=t;return this}copyKeyFromSplit(c,t){void 0!==t.explicit[c]?this.set(c,t.explicit[c],!0):
void 0!==t.implicit[c]&&this.set(c,t.implicit[c],!1)}copyKeyFromObject(c,t){void 0!==t[c]&&this.set(c,t[c],!0)}copyAll(c){for(const t of Hd(c.combine())){const L=c.getWithExplicit(t);this.setWithExplicit(t,L)}}}class sn extends Uj{constructor(c,t,L){c=void 0===c?{}:c;t=void 0===t?{}:t;L=void 0===L?!1:L;super(c,t);this.explicit=c;this.implicit=t;this.parseNothing=L}clone(){const c=super.clone();c.parseNothing=this.parseNothing;return c}}let zg;(function(c){c[c.Raw=0]="Raw";c[c.Main=1]="Main";c[c.Row=
2]="Row";c[c.Column=3]="Column";c[c.Lookup=4]="Lookup"})(zg||(zg={}));const Rm=/[[\]{}]/,Qm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let im,jm;const Sm={left:"x",center:"xc",right:"x2"},Tm={top:"y",middle:"yc",bottom:"y2"},Um=new Set(["aria"]),zm={has:c=>"interval"!==c.type&&c.nearest,parse:(c,t)=>{if(t.events)for(const L of t.events)L.markname=c.getName("voronoi")},marks:(c,t,L)=>{const {x:ka,y:sa}=t.project.hasChannel;t=c.mark;if(we(t))return Lb('The "nearest" transform is not supported for '.concat(t,
" marks.")),L;t={name:c.getName("voronoi"),type:"path",interactive:!0,from:{data:c.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},hk(c,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:ka||!sa?"datum.datum.x || 0":"0"},y:{expr:sa||!ka?"datum.datum.y || 0":"0"},size:[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]}]};let Ba=0,cb=!1;L.forEach((nb,Gb)=>{var Nb;nb=null!==(Nb=nb.name)&&
void 0!==Nb?Nb:"";nb===c.component.mark[0].name?Ba=Gb:0<=nb.indexOf("voronoi")&&(cb=!0)});cb||L.splice(Ba+1,0,t);return L}};class tg{constructor(c,t){this.debugName=t;jc(this,"_children",[]);jc(this,"_parent",null);jc(this,"_hash",void 0);c&&(this.parent=c)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(c){(this._parent=c)&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,t){-1<this._children.indexOf(c)?
Lb("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,c):this._children.push(c)}removeChild(c){c=this._children.indexOf(c);this._children.splice(c,1);return c}remove(){let c=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,c++)}insertAsParentOf(c){const t=c.parent;t.removeChild(this);this.parent=t;c.parent=this}swapWithParent(){const c=this._parent,t=c.parent;for(const L of this._children)L.parent=c;this._children=
[];c.removeChild(this);c.parent.removeChild(c);this.parent=t;c.parent=this}}class Eh extends tg{clone(){const c=new this.constructor;c.debugName="clone_"+this.debugName;c._source=this._source;c._name="clone_"+this._name;c.type=this.type;c.refCounts=this.refCounts;c.refCounts[c._name]=0;return c}constructor(c,t,L,ka){super(c,t);this.type=L;this.refCounts=ka;jc(this,"_source",void 0);jc(this,"_name",void 0);this._source=this._name=t;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=
0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(ta()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class yj extends tg{clone(){return new yj(null,rf(this.formula))}constructor(c,t){super(c);this.formula=t}static makeFromEncoding(c,t){const L=t.reduceFieldDef((ka,sa,Ba)=>{const {field:cb,timeUnit:nb}=sa,Gb=ng(t)?
t.encoding[Ha(Ba)]:void 0;Ba=ng(t)&&Cb(Ba,sa,Gb,t.stack,t.markDef,t.config);nb&&(sa=kd(sa,{forAs:!0}),ka[F({as:sa,field:cb,timeUnit:nb})]=Object.assign({},{as:sa,field:cb,timeUnit:nb},Ba?{band:!0}:{}));return ka},{});return P(L)?null:new yj(c,L)}static makeFromTransform(c,t){var L=Object.assign({},t);t=Object.assign({},L);L=L.timeUnit;t=(delete t.timeUnit,t);L=Qb(L);t=Object.assign({},t,{timeUnit:L});return new yj(c,{[F(t)]:t})}merge(c){this.formula=Object.assign({},this.formula);for(const t in c.formula)if(!this.formula[t]||
c.formula[t].band)this.formula[t]=c.formula[t];for(const t of c.children)c.removeChild(t),t.parent=this;c.remove()}removeFormulas(c){const t={};for(const L of fh(this.formula)){const [ka,sa]=L;c.has(sa.as)||(t[ka]=sa)}this.formula=t}producedFields(){return new Set(Tg(this.formula).map(c=>c.as))}dependentFields(){return new Set(Tg(this.formula).map(c=>c.field))}hash(){return"TimeUnit ".concat(F(this.formula))}assemble(){const c=[];for(const ka of Tg(this.formula)){const {field:sa,as:Ba,timeUnit:cb}=
ka;var t=Qb(cb),L=Object.assign({},t);const nb=t.unit;t=t.utc;L=(delete L.unit,delete L.utc,L);c.push(Object.assign({},{field:kb(sa),type:"timeunit"},nb?{units:Bc(nb)}:{},t?{timezone:"utc"}:{},L,{as:[Ba,"".concat(Ba,"_end")]}))}return c}}class An{constructor(...c){jc(this,"hasChannel",void 0);jc(this,"hasField",void 0);jc(this,"timeUnit",void 0);jc(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}}}const Am={has:c=>"single"===c.type&&"global"===c.resolve&&c.bind&&"scales"!==c.bind&&
!af(c.bind),parse:(c,t,L,ka)=>{ka.on||delete t.events;ka.clear||delete t.clear},topLevelSignals:(c,t,L)=>{const ka=t.name;c=t.project;const sa=t.bind,Ba=t.init&&t.init[0],cb=zm.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";c.items.forEach((nb,Gb)=>{const Nb=V("".concat(ka,"_").concat(nb.field));if(!L.filter(hd=>hd.name===Nb).length){var lc,Yc;L.unshift(Object.assign({},{name:Nb},Ba?{init:vh(Ba[Gb])}:{value:null},{on:t.events?[{events:t.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(cb,
"[").concat(n(nb.field),"] : null")}]:[],bind:null!==(lc=null!==(Yc=sa[nb.field])&&void 0!==Yc?Yc:sa[nb.channel])&&void 0!==lc?lc:sa}))}});return L},signals:(c,t,L)=>{const ka=t.name;var sa=t.project;c=L.filter(cb=>cb.name===ka+"_tuple")[0];t=ka+"_tuple_fields";sa=sa.items.map(cb=>V("".concat(ka,"_").concat(cb.field)));const Ba=sa.map(cb=>"".concat(cb," !\x3d\x3d null")).join(" \x26\x26 ");sa.length&&(c.update="".concat(Ba," ? {fields: ").concat(t,", values: [").concat(sa.join(", "),"]} : null"));
delete c.value;delete c.on;return L}},Bm={has:c=>"multi"===c.type&&!!c.toggle,signals:(c,t,L)=>L.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(c,t)=>{const L=t.name+"_tuple",ka=t.name+"_toggle";return"".concat(ka," ? null : ").concat(L,", ")+("global"===t.resolve?"".concat(ka," ? null : true, "):"".concat(ka," ? null : {unit: ").concat(Eg(c),"}, "))+"".concat(ka," ? ").concat(L," : null")}},Sj={has:c=>"interval"===c.type&&"global"===c.resolve&&c.bind&&
"scales"===c.bind,parse:(c,t)=>{const L=t.scales=[];for(const sa of t.project.items){var ka=sa.channel;if(!rh[ka])continue;const Ba=(ka=c.getScaleComponent(ka))?ka.get("type"):void 0;ka&&Ba in Jh?(ka.set("selectionExtent",{selection:t.name,field:sa.field},!0),L.push(sa)):Lb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(c,t,L)=>{const ka=t.scales.filter(Ba=>0===L.filter(cb=>cb.name===Ba.signals.data).length);if(!c.parent||oi(c)||0===
ka.length)return L;c=L.filter(Ba=>Ba.name===t.name)[0];let sa=c.update;if(0<=sa.indexOf("vlSelectionResolve"))c.update="{".concat(ka.map(Ba=>"".concat(n(Ba.field),": ").concat(Ba.signals.data)).join(", "),"}");else{for(const Ba of ka){const cb="".concat(n(Ba.field),": ").concat(Ba.signals.data);0>sa.indexOf(cb)&&(sa="".concat(sa.substring(0,sa.length-1),", ").concat(cb,"}"))}c.update=sa}return L.concat(ka.map(Ba=>({name:Ba.signals.data})))},signals:(c,t,L)=>{if(c.parent&&!oi(c))for(const ka of t.scales)c=
L.filter(sa=>sa.name===ka.signals.data)[0],c.push="outer",delete c.value,delete c.update;return L}},km={has:c=>{const t="global"===c.resolve&&c.bind&&af(c.bind);c=1===c.project.items.length&&"_vgsid_"!==c.project.items[0].field;t&&!c&&Lb("Legend bindings are only supported for selections over an individual field or encoding channel.");return t&&c},parse:(c,t,L,ka)=>{ka.on||delete t.events;ka.clear||delete t.clear;if(ka.on||ka.clear)for(const Ba of t.events){var sa;Ba.filter=d(null!==(sa=Ba.filter)&&
void 0!==sa?sa:[]);0>Ba.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&Ba.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}c=Wa(t.bind)?t.bind.legend:"click";c=e(c)?vf(c,"view"):d(c);t.bind={legend:{merge:c}}},topLevelSignals:(c,t,L)=>{c=t.name;const ka=Wa(t.bind)&&t.bind.legend,sa=cb=>nb=>{nb=rf(nb);nb.markname=cb;return nb};for(const cb of t.project.items){if(!cb.hasLegend)continue;var Ba="".concat(V(cb.field),"_legend");const nb=
"".concat(c,"_").concat(Ba);0===L.filter(Gb=>Gb.name===nb).length&&(Ba=ka.merge.map(sa("".concat(Ba,"_symbols"))).concat(ka.merge.map(sa("".concat(Ba,"_labels")))).concat(ka.merge.map(sa("".concat(Ba,"_entries")))),L.unshift(Object.assign({},{name:nb},t.init?{}:{value:null},{on:[{events:Ba,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:ka.merge,update:"!event.item || !datum ? null : ".concat(nb),force:!0}]})))}return L},signals:(c,t,L)=>{const ka=t.name;var sa=t.project;
c=L.find(nb=>nb.name===ka+"_tuple");var Ba=ka+"_tuple_fields";sa=sa.items.filter(nb=>nb.hasLegend).map(nb=>V("".concat(ka,"_").concat(V(nb.field),"_legend")));const cb=sa.map(nb=>"".concat(nb," !\x3d\x3d null")).join(" \x26\x26 ");Ba="".concat(cb," ? {fields: ").concat(Ba,", values: [").concat(sa.join(", "),"]} : null");t.events&&0<sa.length?c.on.push({events:sa.map(nb=>({signal:nb})),update:Ba}):0<sa.length&&(c.update=Ba,delete c.value,delete c.on);c=L.find(nb=>nb.name===ka+"_toggle");Ba=Wa(t.bind)&&
t.bind.legend;c&&(t.events?c.on.push(Object.assign({},c.on[0],{events:Ba})):c.on[0].events=Ba);return L}},Vm=[{has:()=>!0,parse:(c,t,L)=>{var ka;const sa=t.name,Ba=null!==(ka=t.project)&&void 0!==ka?ka:t.project=new An,cb={};ka={};const nb=new Set,Gb=(hd,qd)=>{hd="visual"===qd?hd.channel:hd.field;let Md=V("".concat(sa,"_").concat(hd));for(let Rd=1;nb.has(Md);Rd++)Md=V("".concat(sa,"_").concat(hd,"_").concat(Rd));nb.add(Md);return{[qd]:Md}};if(!L.fields&&!L.encodings){const hd=c.config.selection[L.type];
if(L.init)for(const qd of d(L.init))for(const Md of Hd(qd))Qk[Md]?(L.encodings||(L.encodings=[])).push(Md):"interval"===L.type?(Lb('Interval selections should be initialized using "x" and/or "y" keys.'),L.encodings=hd.encodings):(L.fields||(L.fields=[])).push(Md);else L.encodings=hd.encodings,L.fields=hd.fields}for(var Nb of null!==(lc=L.fields)&&void 0!==lc?lc:[]){var lc;lc={type:"E",field:Nb};lc.signals=Object.assign({},Gb(lc,"data"));Ba.items.push(lc);Ba.hasField[Nb]=lc}for(const hd of null!==
(Yc=L.encodings)&&void 0!==Yc?Yc:[]){var Yc;(Nb=c.fieldDef(hd))?(Yc=Nb.field,Nb.aggregate?Lb(ge(hd,Nb.aggregate)):Yc?(Nb.timeUnit&&(Yc=c.vgField(hd),lc={timeUnit:Nb.timeUnit,as:Yc,field:Nb.field},ka[F(lc)]=lc),cb[Yc]||(lc="E","interval"===t.type?c.getScaleComponent(hd).get("type")in Jh&&(lc="R"):Nb.bin&&(lc="R-RE"),Nb={field:Yc,channel:hd,type:lc},Nb.signals=Object.assign({},Gb(Nb,"data"),Gb(Nb,"visual")),Ba.items.push(cb[Yc]=Nb),Ba.hasField[Yc]=Ba.hasChannel[hd]=cb[Yc])):Lb(Fd(hd))):Lb(Fd(hd))}L.init&&
(c=hd=>Ba.items.map(qd=>void 0!==hd[qd.channel]?hd[qd.channel]:hd[qd.field]),"interval"===L.type?t.init=c(L.init):(L=d(L.init),t.init=L.map(c)));P(ka)||(Ba.timeUnit=new yj(null,ka))},signals:(c,t,L)=>{const ka=t.name+"_tuple_fields";return 0<L.filter(sa=>sa.name===ka).length?L:L.concat({name:ka,value:t.project.items.map(sa=>{sa=Object.assign({},sa);sa=(delete sa.signals,delete sa.hasLegend,sa);sa.field=kb(sa.field);return sa})})}},Bm,Sj,km,{has:c=>"interval"===c.type&&c.translate,signals:(c,t,L)=>
{const ka=t.name,sa=Sj.has(t),Ba=ka+"_translate_anchor",{x:cb,y:nb}=t.project.hasChannel;let Gb=vf(t.translate,"scope");sa||(Gb=Gb.map(Nb=>(Nb.between[0].markname=ka+"_brush",Nb)));L.push({name:Ba,value:{},on:[{events:Gb.map(Nb=>Nb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==cb?", extent_x: "+(sa?Wi(c,"x"):"slice(".concat(cb.signals.visual,")")):"")+(void 0!==nb?", extent_y: "+(sa?Wi(c,"y"):"slice(".concat(nb.signals.visual,")")):"")+"}"}]},{name:ka+"_translate_delta",value:{},on:[{events:Gb,
update:"{x: ".concat(Ba,".x - x(unit), y: ").concat(Ba,".y - y(unit)}")}]});void 0!==cb&&lg(c,t,cb,"width",L);void 0!==nb&&lg(c,t,nb,"height",L);return L}},{has:c=>"interval"===c.type&&c.zoom,signals:(c,t,L)=>{const ka=t.name,sa=Sj.has(t),Ba=ka+"_zoom_delta",{x:cb,y:nb}=t.project.hasChannel,Gb=n(c.scaleName("x")),Nb=n(c.scaleName("y"));let lc=vf(t.zoom,"scope");sa||(lc=lc.map(Yc=>(Yc.markname=ka+"_brush",Yc)));L.push({name:ka+"_zoom_anchor",on:[{events:lc,update:sa?"{"+[Gb?"x: invert(".concat(Gb,
", x(unit))"):"",Nb?"y: invert(".concat(Nb,", y(unit))"):""].filter(Yc=>!!Yc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:Ba,on:[{events:lc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==cb&&Dg(c,t,cb,"width",L);void 0!==nb&&Dg(c,t,nb,"height",L);return L}},Am,zm,{has:c=>void 0!==c.clear&&!1!==c.clear,parse:(c,t,L)=>{L.clear&&(t.clear=e(L.clear)?vf(L.clear,"scope"):L.clear)},topLevelSignals:(c,t,L)=>{if(Am.has(t))for(const ka of t.project.items)c=L.findIndex(sa=>
sa.name===V("".concat(t.name,"_").concat(ka.field))),-1!==c&&L[c].on.push({events:t.clear,update:"null"});return L},signals:(c,t,L)=>{function ka(sa,Ba){-1!==sa&&L[sa].on&&L[sa].on.push({events:t.clear,update:Ba})}if("interval"===t.type)for(const sa of t.project.items)c=L.findIndex(Ba=>Ba.name===sa.signals.visual),ka(c,"[0, 0]"),-1===c&&(c=L.findIndex(Ba=>Ba.name===sa.signals.data),ka(c,"null"));else c=L.findIndex(sa=>sa.name===t.name+"_tuple"),ka(c,"null"),Bm.has(t)&&(c=L.findIndex(sa=>sa.name===
t.name+"_toggle"),ka(c,"false"));return L}}],Wm={single:{signals:wg,modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"true":"{unit: ".concat(Eg(c),"}"))},multi:{signals:wg,modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"null":"{unit: ".concat(Eg(c),"}"))},interval:{signals:(c,t)=>{const L=t.name;var ka=L+"_tuple_fields",sa=Sj.has(t);const Ba=[],cb=[],nb=[];if(t.translate&&!sa){const Gb="!event.item || event.item.mark.name !\x3d\x3d ".concat(n(L+"_brush"));Ri(t,(Nb,lc)=>{var Yc;
lc=d(null!==(Yc=lc.between[0].filter)&&void 0!==Yc?Yc:lc.between[0].filter=[]);0>lc.indexOf(Gb)&&lc.push(Gb);return Nb})}t.project.items.forEach((Gb,Nb)=>{const lc=Gb.channel;if("x"!==lc&&"y"!==lc)Lb("Interval selections only support x and y encoding channels.");else{Nb=Th(c,t,Gb,t.init?t.init[Nb]:null);var Yc=Gb.signals.data;Gb=Gb.signals.visual;var hd=n(c.scaleName(lc)),qd=c.getScaleComponent(lc).get("type")in Jh?"+":"";Ba.push(...Nb);cb.push(Yc);nb.push({scaleName:c.scaleName(lc),expr:"(!isArray(".concat(Yc,
") || ")+"(".concat(qd,"invert(").concat(hd,", ").concat(Gb,")[0] \x3d\x3d\x3d ").concat(qd).concat(Yc,"[0] \x26\x26 ")+"".concat(qd,"invert(").concat(hd,", ").concat(Gb,")[1] \x3d\x3d\x3d ").concat(qd).concat(Yc,"[1]))")})}});sa||Ba.push({name:L+"_scale_trigger",value:{},on:[{events:nb.map(Gb=>({scale:Gb.scaleName})),update:nb.map(Gb=>Gb.expr).join(" \x26\x26 ")+" ? ".concat(L+"_scale_trigger"," : {}")}]});sa=t.init;ka="unit: ".concat(Eg(c),", fields: ").concat(ka,", values");return Ba.concat(Object.assign({},
{name:L+"_tuple"},sa?{init:"{".concat(ka,": ").concat(vh(sa),"}")}:{},{on:[{events:[{signal:cb.join(" || ")}],update:cb.join(" \x26\x26 ")+" ? {".concat(ka,": [").concat(cb,"]} : null")}]}))},modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"true":"{unit: ".concat(Eg(c),"}")),marks:(c,t,L)=>{const ka=t.name,{x:sa,y:Ba}=t.project.hasChannel,cb=sa&&sa.signals.visual,nb=Ba&&Ba.signals.visual;var Gb="data(".concat(n(t.name+"_store"),")");if(Sj.has(t))return L;const Nb={x:void 0!==sa?{signal:"".concat(cb,
"[0]")}:{value:0},y:void 0!==Ba?{signal:"".concat(nb,"[0]")}:{value:0},x2:void 0!==sa?{signal:"".concat(cb,"[1]")}:{field:{group:"width"}},y2:void 0!==Ba?{signal:"".concat(nb,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve)for(var lc of Hd(Nb))Nb[lc]=[Object.assign({},{test:"".concat(Gb,".length \x26\x26 ").concat(Gb,"[0].unit \x3d\x3d\x3d ").concat(Eg(c))},Nb[lc]),{value:0}];lc=t.mark;Gb=Object.assign({},lc);c=lc.fill;t=lc.fillOpacity;lc=lc.cursor;const Yc=(delete Gb.fill,delete Gb.fillOpacity,
delete Gb.cursor,Gb);Gb=Hd(Yc).reduce((hd,qd)=>{hd[qd]=[{test:[void 0!==sa&&"".concat(cb,"[0] !\x3d\x3d ").concat(cb,"[1]"),void 0!==Ba&&"".concat(nb,"[0] !\x3d\x3d ").concat(nb,"[1]")].filter(Md=>Md).join(" \x26\x26 "),value:Yc[qd]},{value:null}];return hd},{});return[{name:ka+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:t}},update:Nb}},...L,{name:ka+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},lc?{cursor:{value:lc}}:{},{fill:{value:"transparent"}}),
update:Object.assign({},Nb,Gb)}}]}}};eh.prototype.visit=function(c){let t,L,ka;if(c(this))return 1;t=Fi(this);L=0;for(ka=t.length;L<ka;++L)if(t[L].visit(c))return 1};var Me,yd,uh,ig,Xm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ym=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Zm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},$m={"if":1};class kl extends tg{clone(){return new kl(null,
this.model,rf(this.filter))}constructor(c,t,L){super(c);this.model=t;this.filter=L;jc(this,"expr",void 0);jc(this,"_dependentFields",void 0);this.expr=Kh(this.model,this.filter,this);this._dependentFields=wh(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const wm={scale:c=>{var {model:t,channel:L}=c;return t.scaleName(L)},format:c=>{var {fieldOrDatumDef:t,config:L,axis:ka}=
c;const {format:sa,formatType:Ba}=ka;return ue(t,t.type,sa,Ba,L,!0)},formatType:c=>{var {axis:t,fieldOrDatumDef:L,scaleType:ka}=c;({formatType:c}=t);return lf(c,L,ka)},grid:c=>{var {fieldOrDatumDef:t,axis:L,scaleType:ka}=c;if($b(t)&&Hc(t.bin))return!1;var sa;return null!==(sa=L.grid)&&void 0!==sa?sa:!(ka in nh)&&$b(t)&&!pc(null===t||void 0===t?void 0:t.bin)},gridScale:c=>{var {model:t,channel:L}=c;c="x"===L?"y":"x";c=t.getScaleComponent(c)?t.scaleName(c):void 0;return c},labelAlign:c=>{var {axis:t,
labelAngle:L,orient:ka,channel:sa}=c;return t.labelAlign||ag(L,ka,sa)},labelAngle:c=>{({labelAngle:c}=c);return c},labelBaseline:c=>{var {axis:t,labelAngle:L,orient:ka,channel:sa}=c;return t.labelBaseline||Di(L,ka,sa)},labelFlush:c=>{var {axis:t,fieldOrDatumDef:L,channel:ka}=c,sa;c=null!==(sa=t.labelFlush)&&void 0!==sa?sa:"x"===ka&&G(["quantitative","temporal"],L.type)?!0:void 0;return c},labelOverlap:c=>{var {axis:t,fieldOrDatumDef:L,scaleType:ka}=c,sa;if(null!==(sa=t.labelOverlap)&&void 0!==sa)c=
sa;else{c=L.type;sa=$b(L)&&!!L.timeUnit;var Ba=$b(L)?L.sort:void 0;c=sa&&!v(Ba)||"nominal"!==c&&"ordinal"!==c?"log"===ka||"symlog"===ka?"greedy":!0:void 0}return c},orient:c=>{({orient:c}=c);return c},tickCount:c=>{var {channel:t,model:L,axis:ka,fieldOrDatumDef:sa,scaleType:Ba}=c,cb;c=(c="x"===t?"width":"y"===t?"height":void 0)?L.getSizeSignalRef(c):void 0;if(null===(cb=ka.tickCount)||void 0===cb)a:{var {fieldOrDatumDef:nb,scaleType:Gb,size:Nb,values:lc}={fieldOrDatumDef:sa,scaleType:Ba,size:c,values:ka.values};
if(lc||Gb in nh||"log"===Gb)cb=void 0;else{if($b(nb)){var Yc;if(pc(nb.bin)){cb={signal:"ceil(".concat(Nb.signal,"/10)")};break a}if(nb.timeUnit&&G(["month","hours","day","quarter"],null===(Yc=Qb(nb.timeUnit))||void 0===Yc?void 0:Yc.unit)){cb=void 0;break a}}cb={signal:"ceil(".concat(Nb.signal,"/40)")}}}return cb},title:c=>{var {axis:t,model:L,channel:ka}=c;if(void 0!==t.title)return t.title;c=Lh(L,ka);if(void 0!==c)return c;c=L.typedFieldDef(ka);const sa=L.fieldDef("x"===ka?"x2":"y2");return jg(c?
[Ea(c)]:[],$b(sa)?[Ea(sa)]:[])},values:c=>{var {axis:t,fieldOrDatumDef:L}=c;c=t.values;c=Je(c)?Wc(L,c):Dc(c)?c:void 0;return c},zindex:c=>{var {axis:t,fieldOrDatumDef:L,mark:ka}=c,sa;c=null!==(sa=t.zindex)&&void 0!==sa?sa:"rect"===ka&&We(L)?1:0;return c}};class ml extends tg{clone(){return new ml(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t;jc(this,"_dependentFields",void 0);this._dependentFields=wh(this.transform.calculate)}static parseAllForSortIndex(c,t){t.forEachFieldDef((L,
ka)=>{if(Qd(L)&&yc(L.sort)){const {field:Ba,timeUnit:cb}=L;var sa=L.sort;sa=sa.map((nb,Gb)=>"".concat(Ze({field:Ba,timeUnit:cb,equal:nb})," ? ").concat(Gb," : ")).join("")+sa.length;c=new ml(c,{calculate:sa,as:oh(L,ka,{forAs:!0})})}});return c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(F(this.transform))}}const Zl=["row","column"],
Ql=["header","footer"],Bn={column:{start:0,end:1},row:{start:1,end:0}},Cn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,
labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},
{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),om=Hd(Cn);class cn extends Uj{}const qm={symbols:function(c,t){var {fieldOrDatumDef:L,model:ka,channel:sa,legendCmpt:Ba,legendType:cb}=t,nb,Gb,Nb,lc;if("symbol"===cb){var {markDef:Yc,encoding:hd,config:qd,mark:Md}=ka,Rd=Yc.filled&&"trail"!==Md;t=Object.assign({},Qe({},ka,$e),kh(ka,{filled:Rd}));var Ee=null!==(nb=Ba.get("symbolOpacity"))&&void 0!==nb?nb:qd.legend.symbolOpacity;nb=null!==
(Gb=Ba.get("symbolFillColor"))&&void 0!==Gb?Gb:qd.legend.symbolFillColor;Gb=null!==(Nb=Ba.get("symbolStrokeColor"))&&void 0!==Nb?Nb:qd.legend.symbolStrokeColor;Nb=void 0===Ee?null!==(lc=rk(hd.opacity))&&void 0!==lc?lc:Yc.opacity:void 0;if(t.fill)if("fill"===sa||Rd&&"color"===sa)delete t.fill;else if(t.fill.field)if(nb)delete t.fill;else{var Hf;t.fill=$d(null!==(Hf=qd.legend.symbolBaseFillColor)&&void 0!==Hf?Hf:"black");t.fillOpacity=$d(null!==Nb&&void 0!==Nb?Nb:1)}else if(Je(t.fill)){var se,Ef,Yd;
if(lc=null!==(se=null!==(Ef=Oh(null!==(Yd=hd.fill)&&void 0!==Yd?Yd:hd.color))&&void 0!==Ef?Ef:Yc.fill)&&void 0!==se?se:Rd&&Yc.color)t.fill=$d(lc)}t.stroke&&("stroke"===sa||!Rd&&"color"===sa?delete t.stroke:t.stroke.field||Gb?delete t.stroke:Je(t.stroke)&&(se=Da(Oh(hd.stroke||hd.color),Yc.stroke,Rd?Yc.color:void 0))&&(t.stroke={value:se}));"opacity"!==sa&&((se=$b(L)&&vi(ka,Ba,L))?t.opacity=[Object.assign({},{test:se},$d(null!==Nb&&void 0!==Nb?Nb:1)),$d(qd.legend.unselectedOpacity)]:Nb&&(t.opacity=
$d(Nb)));t=Object.assign({},t,c);return P(t)?void 0:t}},gradient:function(c,t){var {model:L,legendType:ka,legendCmpt:sa}=t,Ba;if("gradient"===ka){var {config:cb,markDef:nb,encoding:Gb}=L;t={};var Nb=void 0===(null!==(Ba=sa.get("gradientOpacity"))&&void 0!==Ba?Ba:cb.legend.gradientOpacity)?rk(Gb.opacity)||nb.opacity:void 0;Nb&&(t.opacity=$d(Nb));t=Object.assign({},t,c);return P(t)?void 0:t}},labels:function(c,t){var {fieldOrDatumDef:L,model:ka,channel:sa,legendCmpt:Ba}=t;t=ka.legend(sa)||{};const cb=
ka.config;var nb=$b(L)?vi(ka,Ba,L):void 0;nb=nb?[{test:nb,value:1},{value:cb.legend.unselectedOpacity}]:void 0;const {format:Gb,formatType:Nb}=t;t=Gc(Nb)?Fe({fieldOrDatumDef:L,field:"datum.value",format:Gb,formatType:Nb,config:cb}):void 0;c=Object.assign({},nb?{opacity:nb}:{},t?{text:t}:{},c);return P(c)?void 0:c},entries:function(c,t){({legendCmpt:t}=t);t=t.get("selections");return(null===t||void 0===t?0:t.length)?Object.assign({},c,{fill:{value:"transparent"}}):c}},pm={direction:c=>{({direction:c}=
c);return c},format:c=>{var {fieldOrDatumDef:t,legend:L,config:ka}=c;const {format:sa,formatType:Ba}=L;return ue(t,t.type,sa,Ba,ka,!1)},formatType:c=>{var {legend:t,fieldOrDatumDef:L,scaleType:ka}=c;({formatType:c}=t);return lf(c,L,ka)},gradientLength:c=>{var t,L;const {legend:ka,legendConfig:sa}=c;if(null!==(t=null!==(L=ka.gradientLength)&&void 0!==L?L:sa.gradientLength)&&void 0!==t)c=t;else{{var {legendConfig:Ba,model:cb,direction:nb,orient:Gb,scaleType:Nb}=c;const {gradientHorizontalMaxLength:lc,
gradientHorizontalMinLength:Yc,gradientVerticalMaxLength:hd,gradientVerticalMinLength:qd}=Ba;c=Nb in th?"horizontal"===nb?"top"===Gb||"bottom"===Gb?$i(cb,"width",Yc,lc):Yc:$i(cb,"height",qd,hd):void 0}}return c},labelOverlap:c=>{var {legend:t,legendConfig:L,scaleType:ka}=c,sa,Ba;c=null!==(sa=null!==(Ba=t.labelOverlap)&&void 0!==Ba?Ba:L.labelOverlap)&&void 0!==sa?sa:G(["quantile","threshold","log","symlog"],ka)?"greedy":void 0;return c},symbolType:c=>{var {legend:t,markDef:L,channel:ka,encoding:sa}=
c,Ba;if(null!==(Ba=t.symbolType)&&void 0!==Ba)var cb=Ba;else a:{c=L.type;Ba=L.shape;if("shape"!==ka&&(Ba=null!==(cb=Oh(sa.shape))&&void 0!==cb?cb:Ba)){cb=Ba;break a}switch(c){case "bar":case "rect":case "image":case "square":cb="square";break a;case "line":case "trail":case "rule":cb="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":cb="circle";break a}cb=void 0}return cb},title:c=>{var {fieldOrDatumDef:t,config:L}=c;return mf(t,L,{allowDisabling:!0})},
type:c=>{var {legendType:t,scaleType:L,channel:ka}=c;if($a(ka)&&L in th){if("gradient"===t)return}else if("symbol"===t)return;return t},values:c=>{var {fieldOrDatumDef:t,legend:L}=c;c=L.values;c=Je(c)?Wc(t,c):Dc(c)?c:void 0;return c}},dn="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class rm extends Uj{constructor(c,t,L,ka){super(Object.assign({},t),{name:c});this.specifiedProjection=t;this.size=
L;this.data=ka;jc(this,"merged",!1)}get isFit(){return!!this.data}}class xj extends tg{clone(){return new xj(null,rf(this.bins))}constructor(c,t){super(c);this.bins=t}static makeFromEncoding(c,t){const L=t.reduceFieldDef((ka,sa,Ba)=>{if(Id(sa)&&pc(sa.bin)){const {key:cb,binComponent:nb}=Qg(sa,sa.bin,t);ka[cb]=Object.assign({},nb,ka[cb],Uk(t,sa,Ba,t.config))}return ka},{});return P(L)?null:new xj(c,L)}static makeFromTransform(c,t,L){const {key:ka,binComponent:sa}=Qg(t,t.bin,L);return new xj(c,{[ka]:sa})}merge(c,
t){for(const L of Hd(c.bins))L in this.bins?(t(c.bins[L].signal,this.bins[L].signal),this.bins[L].as=ja([...this.bins[L].as,...c.bins[L].as],F)):this.bins[L]=c.bins[L];for(const L of c.children)c.removeChild(L),L.parent=this;c.remove()}producedFields(){return new Set(Tg(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Tg(this.bins).map(c=>c.field))}hash(){return"Bin ".concat(F(this.bins))}assemble(){return Tg(this.bins).flatMap(c=>{const t=[],[L,...ka]=c.as;var sa=c.bin,Ba=Object.assign({},
sa);sa=sa.extent;Ba=(delete Ba.extent,Ba);Ba=Object.assign({},{type:"bin",field:kb(c.field),as:L,signal:c.signal},mb(sa)?{extent:null}:{extent:sa},c.span?{span:{signal:"span(".concat(c.span,")")}}:{},Ba);!sa&&c.extentSignal&&(t.push({type:"extent",field:kb(c.field),signal:c.extentSignal}),Ba.extent={signal:c.extentSignal});t.push(Ba);for(const cb of ka)for(sa=0;2>sa;sa++)t.push({type:"formula",expr:kd({field:L[sa]},{expr:"datum"}),as:cb[sa]});c.formula&&t.push({type:"formula",expr:c.formula,as:c.formulaAs});
return t})}}class cj extends tg{clone(){return new cj(null,new Set(this.dimensions),rf(this.measures))}constructor(c,t,L){super(c);this.dimensions=t;this.measures=L}get groupBy(){return this.dimensions}static makeFromEncoding(c,t){let L=!1;t.forEachFieldDef(Ba=>{Ba.aggregate&&(L=!0)});const ka={},sa=new Set;if(!L)return null;t.forEachFieldDef((Ba,cb)=>{const {aggregate:nb,field:Gb}=Ba;if(nb)if("count"===nb){var Nb;ka["*"]=null!==(Nb=ka["*"])&&void 0!==Nb?Nb:{};ka["*"].count=new Set([kd(Ba,{forAs:!0})])}else{if(qa(nb)||
Fa(nb)){var lc;Ba=qa(nb)?"argmin":"argmax";Nb=nb[Ba];ka[Nb]=null!==(lc=ka[Nb])&&void 0!==lc?lc:{};ka[Nb][Ba]=new Set([kd({op:Ba,field:Nb},{forAs:!0})])}else{var Yc;ka[Gb]=null!==(Yc=ka[Gb])&&void 0!==Yc?Yc:{};ka[Gb][nb]=new Set([kd(Ba,{forAs:!0})])}if(rh[cb]&&"unaggregated"===t.scaleDomain(cb)){var hd;ka[Gb]=null!==(hd=ka[Gb])&&void 0!==hd?hd:{};ka[Gb].min=new Set([kd({field:Gb,aggregate:"min"},{forAs:!0})]);ka[Gb].max=new Set([kd({field:Gb,aggregate:"max"},{forAs:!0})])}}else lc=ng(t)?t.encoding[Ha(cb)]:
void 0,Id(Ba)&&ng(t)&&Cb(cb,Ba,lc,t.stack,t.markDef,t.config)?(sa.add(kd(Ba,{})),sa.add(kd(Ba,{suffix:"end"})),Ba.bin&&nd(Ba,cb)&&sa.add(kd(Ba,{binSuffix:"range"}))):cb in cl?(cb=db(cb),sa.add(t.getName(cb))):sa.add(kd(Ba))});return 0===sa.size+Hd(ka).length?null:new cj(c,sa,ka)}static makeFromTransform(c,t){const L=new Set,ka={};for(const nb of t.aggregate){const {op:Gb,field:Nb,as:lc}=nb;if(Gb)if("count"===Gb){var sa;ka["*"]=null!==(sa=ka["*"])&&void 0!==sa?sa:{};ka["*"].count=new Set([lc?lc:kd(nb,
{forAs:!0})])}else{var Ba;ka[Nb]=null!==(Ba=ka[Nb])&&void 0!==Ba?Ba:{};ka[Nb][Gb]=new Set([lc?lc:kd(nb,{forAs:!0})])}}for(const nb of null!==(cb=t.groupby)&&void 0!==cb?cb:[]){var cb;L.add(nb)}return 0===L.size+Hd(ka).length?null:new cj(c,L,ka)}merge(c){if(fa(this.dimensions,c.dimensions)){var t=this.measures;c=c.measures;for(const ka of Hd(c)){const sa=c[ka];for(const Ba of Hd(sa))if(ka in t){var L;t[ka][Ba]=new Set([...null!==(L=t[ka][Ba])&&void 0!==L?L:[],...sa[Ba]])}else t[ka]={[Ba]:sa[Ba]}}return!0}kj.debug(...["different dimensions, cannot merge"]);
return!1}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Hd(this.measures)])}producedFields(){const c=new Set;for(const t of Hd(this.measures))for(const L of Hd(this.measures[t])){const ka=this.measures[t][L];0===ka.size?c.add("".concat(L,"_").concat(t)):ka.forEach(c.add,c)}return c}hash(){return"Aggregate ".concat(F({dimensions:this.dimensions,measures:this.measures}))}assemble(){const c=[],t=[],L=[];for(const ka of Hd(this.measures))for(const sa of Hd(this.measures[ka]))for(const Ba of this.measures[ka][sa])L.push(Ba),
c.push(sa),t.push("*"===ka?null:kb(ka));return{type:"aggregate",groupby:[...this.dimensions].map(kb),ops:c,fields:t,as:L}}}class Wk extends tg{constructor(c,t,L,ka){super(c);this.model=t;this.name=L;this.data=ka;jc(this,"column",void 0);jc(this,"row",void 0);jc(this,"facet",void 0);jc(this,"childModel",void 0);for(const sa of zh)if(c=t.facet[sa]){const {bin:Ba,sort:cb}=c;this[sa]=Object.assign({},{name:t.getName("".concat(sa,"_domain")),fields:[kd(c),...pc(Ba)?[kd(c,{binSuffix:"end"})]:[]]},qe(cb)?
{sortField:cb}:Je(cb)?{sortIndexField:oh(c,sa)}:{})}this.childModel=t.child}hash(){let c="Facet";for(const t of zh)this[t]&&(c+=" ".concat(t.charAt(0),":").concat(F(this[t])));return c}get fields(){const c=[];for(const L of zh){var t;(null===(t=this[L])||void 0===t?0:t.fields)&&c.push(...this[L].fields)}return c}dependentFields(){const c=new Set(this.fields);for(const t of zh)this[t]&&(this[t].sortField&&c.add(this[t].sortField.field),this[t].sortIndexField&&c.add(this[t].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const c=
{};for(const ka of Wg){var t=this.childModel.component.scales[ka];if(t&&!t.merged){var L=t.get("type");t=t.get("range");L in nh&&uc(t)&&(L=Af(this.childModel,ka),(L=cg(L))?c[ka]=L:Lb(Lc(ka)))}}return c}assembleRowColumnHeaderData(c,t,L){const ka={row:"y",column:"x"}[c],sa=[],Ba=[],cb=[];L&&L[ka]&&(t?(sa.push("distinct_".concat(L[ka])),Ba.push("max")):(sa.push(L[ka]),Ba.push("distinct")),cb.push("distinct_".concat(L[ka])));const {sortField:nb,sortIndexField:Gb}=this[c];if(nb){const {op:Nb="min",field:lc}=
nb;sa.push(lc);Ba.push(Nb);cb.push(kd(nb,{forAs:!0}))}else Gb&&(sa.push(Gb),Ba.push("max"),cb.push(Gb));return{name:this[c].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[c].fields},sa.length?{fields:sa,ops:Ba,as:cb}:{})]}}assembleFacetHeaderData(c){const {columns:t}=this.model.layout,{layoutHeaders:L}=this.model.component,ka=[],sa={};for(const lc of Zl){for(const Yc of Ql){var Ba,cb=null!==(Ba=L[lc]&&L[lc][Yc])&&void 0!==Ba?Ba:[];for(const hd of cb){var nb;
if(0<(null===(nb=hd.axes)||void 0===nb?void 0:nb.length)){sa[lc]=!0;break}}}sa[lc]&&(cb='length(data("'.concat(this.facet.name,'"))'),cb="row"===lc?t?{signal:"ceil(".concat(cb," / ").concat(t,")")}:1:t?{signal:"min(".concat(cb,", ").concat(t,")")}:{signal:cb},ka.push({name:"".concat(this.facet.name,"_").concat(lc),transform:[{type:"sequence",start:0,stop:cb}]}))}const {row:Gb,column:Nb}=sa;(Gb||Nb)&&ka.unshift(this.assembleRowColumnHeaderData("facet",null,c));return ka}assemble(){const c=[];var t=
null;const L=this.getChildIndependentFieldsWithStep(),{column:ka,row:sa,facet:Ba}=this;if(ka&&sa&&(L.x||L.y)){var cb,nb;t="cross_".concat(this.column.name,"_").concat(this.row.name);const Gb=[].concat(null!==(cb=L.x)&&void 0!==cb?cb:[],null!==(nb=L.y)&&void 0!==nb?nb:[]);cb=Gb.map(()=>"distinct");c.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Gb,ops:cb}]})}for(const Gb of["column","row"])this[Gb]&&c.push(this.assembleRowColumnHeaderData(Gb,t,L));Ba&&(t=this.assembleFacetHeaderData(L))&&
c.push(...t);return c}}class Fh extends tg{clone(){return new Fh(null,rf(this._parse))}constructor(c,t){super(c);jc(this,"_parse",void 0);this._parse=t}hash(){return"Parse ".concat(F(this._parse))}static makeExplicit(c,t,L){let ka={};t=t.data;!Xe(t)&&t&&t.format&&t.format.parse&&(ka=t.format.parse);return this.makeWithAncestors(c,ka,{},L)}static makeWithAncestors(c,t,L,ka){for(var sa of Hd(L)){const cb=ka.getWithExplicit(sa);void 0!==cb.value&&(cb.explicit||cb.value===L[sa]||"derived"===cb.value||
"flatten"===L[sa]?delete L[sa]:Lb(Wd(sa,L[sa],cb.value)))}for(var Ba of Hd(t))sa=ka.get(Ba),void 0!==sa&&(sa===t[Ba]?delete t[Ba]:Lb(Wd(Ba,t[Ba],sa)));t=new Uj(t,L);ka.copyAll(t);L={};for(const cb of Hd(t.combine()))Ba=t.get(cb),null!==Ba&&(L[cb]=Ba);return 0===Hd(L).length||ka.parseNothing?null:new Fh(c,L)}get parse(){return this._parse}merge(c){this._parse=Object.assign({},this._parse,c.parse);c.remove()}assembleFormatParse(){const c={};for(const t of Hd(this._parse)){const L=this._parse[t];1===
Ya(t)&&(c[t]=L)}return c}producedFields(){return new Set(Hd(this._parse))}dependentFields(){return new Set(Hd(this._parse))}assembleTransforms(c){c=void 0===c?!1:c;return Hd(this._parse).filter(t=>c?1<Ya(t):!0).map(t=>{const L=xg(t,this._parse[t]);return L?{type:"formula",expr:L,as:Ta(t)}:null}).filter(t=>null!==t)}}class xk extends tg{clone(){return new xk(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class zl extends tg{clone(){return new zl(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(F(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Al extends tg{clone(){return new Al(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){var c;return new Set([null!==(c=this.params.as)&&
void 0!==c?c:"data"])}hash(){return"Hash ".concat(F(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class wk extends tg{constructor(c){var t;super(null);jc(this,"_data",void 0);jc(this,"_name",void 0);jc(this,"_generator",void 0);c=null!==(t=c)&&void 0!==t?t:{name:"source"};let L;Xe(c)||(L=c.format?Object.assign({},M(c.format,["parse"])):{});if("values"in c)this._data={values:c.values};else if("url"in c)this._data={url:c.url},L.type||(t=/(?:\.([^.]+))?$/.exec(c.url)[1],
G(["json","csv","tsv","dsv","topojson"],t)||(t="json"),L.type=t);else if("sphere"in c)this._data={values:[{type:"Sphere"}]};else if(dg(c)||Xe(c))this._data={};this._generator=Xe(c);c.name&&(this._name=c.name);L&&!P(L)&&(this._data.format=L)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Gl=new WeakMap;class $l{constructor(){Gl.set(this,{writable:!0,value:void 0});rc(this,Gl,!1)}setModified(){rc(this,Gl,!0)}get modifiedFlag(){var c=Gl.get(this);if(!c)throw new TypeError("attempted to get private field on non-instance");c=c.get?c.get.call(this):c.value;return c}}class yk extends $l{getNodeDepths(c,
t,L){L.set(c,t);for(const ka of c.children)this.getNodeDepths(ka,t+1,L);return L}optimize(c){c=[...this.getNodeDepths(c,0,new Map).entries()].sort((t,L)=>L[1]-t[1]);for(const t of c)this.run(t[0]);return this.modifiedFlag}}class am extends $l{optimize(c){this.run(c);for(const t of c.children)this.optimize(t);return this.modifiedFlag}}class on extends am{mergeNodes(c,t){const L=t.shift();for(const ka of t)c.removeChild(ka),ka.parent=L,ka.remove()}run(c){const t=c.children.map(ka=>ka.hash()),L={};for(let ka=
0;ka<t.length;ka++)void 0===L[t[ka]]?L[t[ka]]=[c.children[ka]]:L[t[ka]].push(c.children[ka]);for(const ka of Hd(L))1<L[ka].length&&(this.setModified(),this.mergeNodes(c,L[ka]))}}class fn extends am{constructor(c){super();jc(this,"requiresSelectionId",void 0);this.requiresSelectionId=c&&bi(c)}run(c){!(c instanceof xk)||this.requiresSelectionId&&(b(c.parent)||c.parent instanceof cj||c.parent instanceof Fh)||(this.setModified(),c.remove())}}class kn extends $l{optimize(c){this.run(c,new Set);return this.modifiedFlag}run(c,
t){let L=new Set;c instanceof yj&&(L=c.producedFields(),ha(L,t)&&(this.setModified(),c.removeFormulas(t),0===c.producedFields.length&&c.remove()));for(const ka of c.children)this.run(ka,new Set([...t,...L]))}}class en extends am{constructor(){super()}run(c){c instanceof Eh&&!c.isRequired()&&(this.setModified(),c.remove())}}class hn extends yk{run(c){if(!(b(c)||1<c.numChildren()))for(const t of c.children)t instanceof Fh&&(c instanceof Fh?(this.setModified(),c.merge(t)):Z(c.producedFields(),t.dependentFields())||
(this.setModified(),t.swapWithParent()))}}class ln extends yk{run(c){const t=[...c.children];var L=c.children.filter(sa=>sa instanceof Fh);if(1<c.numChildren()&&1<=L.length){const sa={};var ka=new Set;for(const Ba of L){L=Ba.parse;for(const cb of Hd(L))cb in sa?sa[cb]!==L[cb]&&ka.add(cb):sa[cb]=L[cb]}for(const Ba of ka)delete sa[Ba];if(!P(sa)){this.setModified();ka=new Fh(c,sa);for(const Ba of t){if(Ba instanceof Fh)for(const cb of Hd(sa))delete Ba.parse[cb];c.removeChild(Ba);Ba.parent=ka;Ba instanceof
Fh&&0===Hd(Ba.parse).length&&Ba.remove()}}}}}class gn extends yk{run(c){c instanceof Eh||0<c.numChildren()||c instanceof Wk||c instanceof wk||(this.setModified(),c.remove())}}class nn extends yk{run(c){c=c.children.filter(L=>L instanceof yj);const t=c.pop();for(const L of c)this.setModified(),t.merge(L)}}class mn extends yk{run(c){var t=c.children.filter(sa=>sa instanceof cj);const L={};for(var ka of t)t=F(ka.groupBy),t in L||(L[t]=[]),L[t].push(ka);for(const sa of Hd(L))if(ka=L[sa],1<ka.length){t=
ka.pop();for(const Ba of ka)t.merge(Ba)&&(c.removeChild(Ba),Ba.parent=t,Ba.remove(),this.setModified())}}}class jn extends yk{constructor(c){super();this.model=c}run(c){var t=!(b(c)||c instanceof kl||c instanceof Fh||c instanceof xk);const L=[],ka=[];for(const sa of c.children)sa instanceof xj&&(t&&!Z(c.producedFields(),sa.dependentFields())?L.push(sa):ka.push(sa));if(0<L.length){t=L.pop();for(const sa of L)t.merge(sa,this.model.renameSignal.bind(this.model));this.setModified();c instanceof xj?c.merge(t,
this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(1<ka.length){c=ka.pop();for(const sa of ka)c.merge(sa,this.model.renameSignal.bind(this.model));this.setModified()}}}class pn extends yk{run(c){var t=[...c.children];if(K(t,sa=>sa instanceof Eh)&&!(1>=c.numChildren())){var L=[];for(const sa of t)if(sa instanceof Eh){for(t=sa;1===t.numChildren();){const [Ba]=t.children;if(Ba instanceof Eh)t=Ba;else break}L.push(...t.children);if(ka)c.removeChild(sa),sa.parent=ka.parent,ka.parent.removeChild(ka),
ka.parent=t,this.setModified();else var ka=t}else L.push(sa);if(L.length){this.setModified();for(const sa of L)sa.parent.removeChild(sa),sa.parent=ka}}}}class Xk extends tg{clone(){return new Xk(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=ja(this.transform.groupby.concat(c),t=>t)}dependentFields(){const c=new Set;this.transform.groupby&&this.transform.groupby.forEach(c.add,c);this.transform.joinaggregate.map(t=>t.field).filter(t=>void 0!==
t).forEach(c.add,c);return c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:kd(c)}hash(){return"JoinAggregateTransform ".concat(F(this.transform))}assemble(){const c=[],t=[],L=[];for(var ka of this.transform.joinaggregate)t.push(ka.op),L.push(this.getDefaultName(ka)),c.push(void 0===ka.field?null:ka.field);ka=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:L,ops:t,fields:c},
void 0!==ka?{groupby:ka}:{})}}class Tj extends tg{clone(){return new Tj(null,rf(this._stack))}constructor(c,t){super(c);jc(this,"_stack",void 0);this._stack=t}static makeFromTransform(c,t){const {stack:L,groupby:ka,as:sa,offset:Ba="zero"}=t;var cb=[];const nb=[];if(void 0!==t.sort)for(const Gb of t.sort)cb.push(Gb.field),nb.push(Da(Gb.order,"ascending"));cb={field:cb,order:nb};t=X(sa)?sa:e(sa)?[sa,sa+"_end"]:[t.stack+"_start",t.stack+"_end"];return new Tj(c,{stackField:L,groupby:ka,offset:Ba,sort:cb,
facetby:[],as:t})}static makeFromEncoding(c,t){var L=t.stack,{encoding:ka}=t;if(!L)return null;const {groupbyChannel:sa,fieldChannel:Ba,offset:cb,impute:nb}=L;let Gb;sa&&(Gb=nf(ka[sa]));L=p(t);ka=t.encoding.order;ka=Je(ka)||$b(ka)?Lf(ka):L.reduce((Nb,lc)=>{Nb.field.push(lc);Nb.order.push("y"===Ba?"descending":"ascending");return Nb},{field:[],order:[]});return new Tj(c,{dimensionFieldDef:Gb,stackField:t.vgField(Ba),facetby:[],stackby:L,sort:ka,offset:cb,impute:nb,as:[t.vgField(Ba,{suffix:"start",
forAs:!0}),t.vgField(Ba,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){const c=new Set;c.add(this._stack.stackField);this.getGroupbyFields().forEach(c.add,c);this._stack.facetby.forEach(c.add,c);this._stack.sort.field.forEach(c.add,c);return c}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(F(this._stack))}getGroupbyFields(){const {dimensionFieldDef:c,impute:t,groupby:L}=this._stack;return c?
c.bin?t?[kd(c,{binSuffix:"mid"})]:[kd(c,{}),kd(c,{binSuffix:"end"})]:[kd(c)]:null!==L&&void 0!==L?L:[]}assemble(){const c=[],{facetby:t,dimensionFieldDef:L,stackField:ka,stackby:sa,sort:Ba,offset:cb,impute:nb,as:Gb}=this._stack;if(nb&&L){const {band:Nb=.5,bin:lc}=L;lc&&c.push({type:"formula",expr:"".concat(Nb,"*")+kd(L,{expr:"datum"})+"+".concat(1-Nb,"*")+kd(L,{expr:"datum",binSuffix:"end"}),as:kd(L,{binSuffix:"mid",forAs:!0})});c.push({type:"impute",field:ka,groupby:[...sa,...t],key:kd(L,{binSuffix:"mid"}),
method:"value",value:0})}c.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:ka,sort:Ba,as:Gb,offset:cb});return c}}class ll extends tg{clone(){return new ll(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=ja(this.transform.groupby.concat(c),t=>t)}dependentFields(){var c,t;const L=new Set;(null!==(c=this.transform.groupby)&&void 0!==c?c:[]).forEach(L.add,L);(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach(ka=>L.add(ka.field));
this.transform.window.map(ka=>ka.field).filter(ka=>void 0!==ka).forEach(L.add,L);return L}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:kd(c)}hash(){return"WindowTransform ".concat(F(this.transform))}assemble(){const c=[],t=[],L=[],ka=[];for(var sa of this.transform.window)t.push(sa.op),L.push(this.getDefaultName(sa)),ka.push(void 0===sa.param?null:sa.param),c.push(void 0===sa.field?null:sa.field);sa=this.transform.frame;
const Ba=this.transform.groupby;if(sa&&null===sa[0]&&null===sa[1]&&t.every(Nb=>na(Nb)))return Object.assign({},{type:"joinaggregate",as:L,ops:t,fields:c},void 0!==Ba?{groupby:Ba}:{});const cb=[],nb=[];if(void 0!==this.transform.sort)for(const Nb of this.transform.sort){var Gb;cb.push(Nb.field);nb.push(null!==(Gb=Nb.order)&&void 0!==Gb?Gb:"ascending")}Gb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:ka,as:L,ops:t,fields:c,sort:{field:cb,order:nb}},void 0!==Gb?{ignorePeers:Gb}:
{},void 0!==Ba?{groupby:Ba}:{},void 0!==sa?{frame:sa}:{})}}class qi{constructor(c){jc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,t){return new qi(()=>c(t))}}class tm extends Uj{constructor(c,t){super({},{name:c});jc(this,"merged",!1);this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:K(this.get("domains"),c=>Je(c)&&2===c.length&&0>=c[0]&&0<=c[1])}}const qn=["range","scheme"],sm={bins:c=>{var {model:t,
fieldOrDatumDef:L}=c;return $b(L)?Bk(t,L):void 0},interpolate:c=>{var {channel:t,fieldOrDatumDef:L}=c;c=L.type;c=G(["color","fill","stroke"],t)&&"nominal"!==c?"hcl":void 0;return c},nice:c=>{var {scaleType:t,channel:L,fieldOrDatumDef:ka}=c;var sa;c=(null===(sa=nf(ka))||void 0===sa?0:sa.bin)||G([Cg.TIME,Cg.UTC],t)?void 0:L in fg?!0:void 0;return c},padding:c=>{var {channel:t,scaleType:L,fieldOrDatumDef:ka,markDef:sa,config:Ba}=c;a:{c=Ba.scale;var cb=Ba.bar;if(t in fg){if(L in th){if(void 0!==c.continuousPadding){c=
c.continuousPadding;break a}const {type:nb,orient:Gb}=sa;if("bar"===nb&&(!$b(ka)||!ka.bin&&!ka.timeUnit)&&("vertical"===Gb&&"x"===t||"horizontal"===Gb&&"y"===t)){c=cb.continuousBandSize;break a}}if(L===Cg.POINT){c=c.pointPadding;break a}}c=void 0}return c},paddingInner:c=>{var {scalePadding:t,channel:L,markDef:ka,config:sa}=c;if(void 0!==t)c=void 0;else if(L in fg){const {bandPaddingInner:Ba,barBandPaddingInner:cb,rectBandPaddingInner:nb}=sa.scale;c=Da(Ba,"bar"===ka.type?cb:nb)}else c=void 0;return c},
paddingOuter:c=>{var {scalePadding:t,channel:L,scaleType:ka,scalePaddingInner:sa,config:Ba}=c;void 0!==t?c=void 0:L in fg&&ka===Cg.BAND?({bandPaddingOuter:c}=Ba.scale,c=Da(c,Dc(sa)?{signal:"".concat(sa.signal,"/2")}:sa/2)):c=void 0;return c},reverse:c=>{var {fieldOrDatumDef:t,scaleType:L,channel:ka,config:sa}=c;c=$b(t)?t.sort:void 0;var Ba=sa.scale;c="x"===ka&&void 0!==Ba.xReverse?L in Jh&&"descending"===c?Dc(Ba.xReverse)?{signal:"!".concat(Ba.xReverse.signal)}:!Ba.xReverse:Ba.xReverse:L in Jh&&"descending"===
c?!0:void 0;return c},zero:c=>{var {channel:t,fieldOrDatumDef:L,domain:ka,markDef:sa,scaleType:Ba}=c;a:if(ka&&"unaggregated"!==ka&&Ba in Jh){if(Je(ka)&&(c=ka[ka.length-1],0>=ka[0]&&0<=c)){c=!0;break a}c=!1}else if("size"!==t||"quantitative"!==L.type||Ba in zk)if($b(L)&&L.bin||!G([...Wg,...bh],t))c=!1;else{const {orient:cb,type:nb}=sa;c=G(["bar","area","line","trail"],nb)&&("horizontal"===cb&&"y"===t||"vertical"===cb&&"x"===t)?!1:!0}else c=!0;return c}},rn=Re((c,t)=>ik[c]-ik[t]);class bm{constructor(){jc(this,
"nameMap",void 0);this.nameMap={}}rename(c,t){this.nameMap[c]=t}has(c){return void 0!==this.nameMap[c]}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}class cm{constructor(c,t,L,ka,sa,Ba,cb){var nb,Gb;this.type=t;this.parent=L;this.config=sa;jc(this,"name",void 0);jc(this,"size",void 0);jc(this,"title",void 0);jc(this,"description",void 0);jc(this,"data",void 0);jc(this,"transforms",void 0);jc(this,"layout",void 0);jc(this,"scaleNameMap",void 0);jc(this,"projectionNameMap",
void 0);jc(this,"signalNameMap",void 0);jc(this,"component",void 0);jc(this,"view",void 0);jc(this,"children",[]);jc(this,"correctDataNames",Nb=>{Nb.from&&Nb.from.data&&(Nb.from.data=this.lookupDataSource(Nb.from.data));Nb.from&&Nb.from.facet&&Nb.from.facet.data&&(Nb.from.facet.data=this.lookupDataSource(Nb.from.facet.data));return Nb});this.parent=L;this.config=sa;this.view=kf(cb);this.name=null!==(nb=c.name)&&void 0!==nb?nb:ka;this.title=de(c.title)?{text:c.title}:c.title?this.initTitle(c.title):
void 0;this.scaleNameMap=L?L.scaleNameMap:new bm;this.projectionNameMap=L?L.projectionNameMap:new bm;this.signalNameMap=L?L.signalNameMap:new bm;this.data=c.data;this.description=c.description;this.transforms=$f(null!==(Gb=c.transform)&&void 0!==Gb?Gb:[]);this.layout="layer"===t||"unit"===t?{}:bc(c,t,sa);this.component={data:{sources:L?L.component.data.sources:[],outputNodes:L?L.component.data.outputNodes:{},outputNodeRefCounts:L?L.component.data.outputNodeRefCounts:{},isFaceted:"facet"in c||L&&L.component.data.isFaceted&&
void 0===c.data},layoutSize:new Uj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},Ba?rf(Ba):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(c){const t=Hd(c),L={text:Gd(c.text)};for(const ka of t)L[ka]=Gd(c[ka]);return L}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:c}={};Zk(this);ng(this)?Ib(this):dc(this);for(const t of Ol)Vk(this,t);c||tk(this)}parseProjection(){bj(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Mi(this)}assembleGroupStyle(){if("unit"===
this.type||"layer"===this.type){var c,t;return null!==(c=null===(t=this.view)||void 0===t?void 0:t.style)&&void 0!==c?c:"cell"}}assembleEncodeFromView(c){c=Object.assign({},c);c=(delete c.style,c);const t={};for(const L of Hd(c)){const ka=c[L];void 0!==ka&&(t[L]=$d(ka))}return t}assembleGroupEncodeEntry(c){let t={};this.view&&(t=this.assembleEncodeFromView(this.view));if(!c&&(this.description&&(t.description=$d(this.description)),"unit"===this.type||"layer"===this.type)){var L;return Object.assign({},
{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(L=t)&&void 0!==L?L:{})}return P(t)?void 0:t}assembleLayout(){if(this.layout){var c=this.layout,t=Object.assign({},c);c=c.spacing;t=(delete t.spacing,t);var {component:L,config:ka}=this;{var sa=L.layoutHeaders;const nb={};for(cb of zh){var Ba=sa[cb];if(null===Ba||void 0===Ba?0:Ba.facetFieldDef){const {titleAnchor:Gb,titleOrient:Nb}=ej(["titleAnchor","titleOrient"],Ba.facetFieldDef.header,ka,cb);Ba=Mh(cb,Nb);const lc=
Bn[Ba][Gb];void 0!==lc&&(nb[Ba]=lc)}}var cb=P(nb)?void 0:nb}return Object.assign({},{padding:c},this.assembleDefaultLayout(),t,cb?{titleBand:cb}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:c}=this.component;let t=[];for(const L of zh)c[L].title&&t.push(Bj(this,L));for(const L of Zl)t=t.concat(Og(this,L));return t}assembleAxes(){return xh(this.component.axes,this.config)}assembleLegends(){return Ak(this)}assembleProjections(){var c=Lg(this)||Sg(this)?sk(this):ij(this);
return c}assembleTitle(){var c,t=null!==(c=this.title)&&void 0!==c?c:{};c=Object.assign({},t);t=t.encoding;c=(delete c.encoding,c);t=Object.assign({},Kd(this.config.title).nonMark,c,t?{encode:{update:t}}:{});if(t.text){if(G(["unit","layer"],this.type)){if(G(["middle",void 0],t.anchor)){var L;t.frame=null!==(L=t.frame)&&void 0!==L?L:"group"}}else{var ka;t.anchor=null!==(ka=t.anchor)&&void 0!==ka?ka:"start"}return P(t)?void 0:t}}assembleGroup(c){c=void 0===c?[]:c;const t={};c=c.concat(this.assembleSignals());
0<c.length&&(t.signals=c);if(c=this.assembleLayout())t.layout=c;t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());c=!this.parent||Rg(this.parent)?bg(this):[];0<c.length&&(t.scales=c);c=this.assembleAxes();0<c.length&&(t.axes=c);c=this.assembleLegends();0<c.length&&(t.legends=c);return t}getName(c){return V((this.name?this.name+"_":"")+c)}getDataName(c){return this.getName(zg[c].toLowerCase())}requestDataName(c){c=this.getDataName(c);const t=this.component.data.outputNodeRefCounts;
t[c]=(t[c]||0)+1;return c}getSizeSignalRef(c){if(Rg(this.parent)){var t=Yi(c),L=Fb(t);if((t=this.component.scales[L])&&!t.merged){var ka=t.get("type");const sa=t.get("range");if(ka in nh&&uc(sa)){c=t.get("name");ka=Af(this,L);if(ka=cg(ka))return L=kd({aggregate:"distinct",field:ka},{expr:"datum"}),{signal:pi(c,t,L)};Lb(Lc(L));return null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){const t=this.component.data.outputNodes[c];return t?t.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,
t){this.signalNameMap.rename(c,t)}renameScale(c,t){this.scaleNameMap.rename(c,t)}renameProjection(c,t){this.projectionNameMap.rename(c,t)}scaleName(c,t){if(t)return this.getName(c);if(Kk[c]&&rh[c]&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const t=this.component.scales[c];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,t){let L=this.component.selection[c];!L&&this.parent&&(L=this.parent.getSelectionComponent(c,t));if(!L)throw Error('Cannot find a selection named "'.concat(t,'".'));return L}hasAxisOrientSignalRef(){var c,t;return(null===(c=this.component.axes.x)||void 0===c?void 0:c.some(L=>L.hasOrientSignalRef()))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some(L=>L.hasOrientSignalRef()))}}
class Cm extends cm{vgField(c,t){t=void 0===t?{}:t;if(c=this.fieldDef(c))return kd(c,t)}reduceFieldDef(c,t){return cc(this.getMapping(),(L,ka,sa)=>(ka=nf(ka))?c(L,ka,sa):L,t)}forEachFieldDef(c,t){Jb(this.getMapping(),(L,ka)=>{(L=nf(L))&&c(L,ka)},t)}}class Tl extends tg{clone(){return new Tl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?
ka:"value",null!==(sa=c[1])&&void 0!==sa?sa:"density"]}dependentFields(){var c;return new Set([this.transform.density,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);c=c.density;t=(delete t.density,t);return Object.assign({},{type:"kde",field:c},t)}}class Bl extends tg{clone(){return new Bl(null,Object.assign({},this.filter))}constructor(c,
t){super(c);this.filter=t}static make(c,t){const {config:L,mark:ka,markDef:sa}=t;if("filter"!==ne("invalid",sa,L))return null;const Ba=t.reduceFieldDef((cb,nb,Gb)=>{(Gb=!!rh[Gb]&&t.getScaleComponent(Gb))&&Gb.get("type")in Jh&&"count"!==nb.aggregate&&!we(ka)&&(cb[nb.field]=nb);return cb},{});return Hd(Ba).length?new Bl(c,Ba):null}dependentFields(){return new Set(Hd(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(F(this.filter))}assemble(){const c=Hd(this.filter).reduce((t,
L)=>{L=this.filter[L];const ka=kd(L,{expr:"datum"});null!==L&&("temporal"===L.type?t.push("(isDate(".concat(ka,") || (isValid(").concat(ka,") \x26\x26 isFinite(+").concat(ka,")))")):"quantitative"===L.type&&(t.push("isValid(".concat(ka,")")),t.push("isFinite(+".concat(ka,")"))));return t},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null}}class Sl extends tg{clone(){return new Sl(this.parent,rf(this.transform))}constructor(c,t){super(c);this.transform=t;this.transform=rf(t);const {flatten:L,
as:ka=[]}=this.transform;this.transform.as=L.map((sa,Ba)=>{var cb;return null!==(cb=ka[Ba])&&void 0!==cb?cb:sa})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(F(this.transform))}assemble(){const {flatten:c,as:t}=this.transform;return{type:"flatten",fields:c,as:t}}}class Rl extends tg{clone(){return new Rl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=
rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:"key",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(F(this.transform))}assemble(){const {fold:c,as:t}=this.transform;return{type:"fold",fields:c,as:t}}}class nl extends tg{clone(){return new nl(null,rf(this.fields),this.geojson,this.signal)}static parseAll(c,
t){if(t.component.projection&&!t.component.projection.isFit)return c;let L=0;for(var ka of[["longitude","latitude"],["longitude2","latitude2"]]){const sa=ka.map(Ba=>{Ba=Aa(t.encoding[Ba]);return $b(Ba)?Ba.field:gd(Ba)?{expr:"".concat(Ba.datum)}:jd(Ba)?{expr:"".concat(Ba.value)}:void 0});if(sa[0]||sa[1])c=new nl(c,sa,null,t.getName("geojson_".concat(L++)))}t.channelHasField("shape")&&(ka=t.typedFieldDef("shape"),"geojson"===ka.type&&(c=new nl(c,null,ka.field,t.getName("geojson_".concat(L++)))));return c}constructor(c,
t,L,ka){super(c);this.fields=t;this.geojson=L;this.signal=ka}dependentFields(){var c;const t=(null!==(c=this.fields)&&void 0!==c?c:[]).filter(e);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(F(this.fields))}assemble(){return Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class Cl extends tg{clone(){return new Cl(null,
this.projection,rf(this.fields),rf(this.as))}constructor(c,t,L,ka){super(c);this.projection=t;this.fields=L;this.as=ka}static parseAll(c,t){if(!t.projectionName())return c;for(const L of[["longitude","latitude"],["longitude2","latitude2"]]){const ka=L.map(Ba=>{Ba=Aa(t.encoding[Ba]);return $b(Ba)?Ba.field:gd(Ba)?{expr:"".concat(Ba.datum)}:jd(Ba)?{expr:"".concat(Ba.value)}:void 0}),sa="longitude2"===L[0]?"2":"";if(ka[0]||ka[1])c=new Cl(c,t.projectionName(),ka,[t.getName("x"+sa),t.getName("y"+sa)])}return c}dependentFields(){return new Set(this.fields.filter(e))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection,
" ").concat(F(this.fields)," ").concat(F(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Yk extends tg{clone(){return new Yk(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){var c;return new Set([this.transform.impute,this.transform.key,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){const {start:t=0,stop:L,step:ka}=c;
c=[t,L,...ka?[ka]:[]].join();return{signal:"sequence(".concat(c,")")}}static makeFromTransform(c,t){return new Yk(c,t)}static makeFromEncoding(c,t){const L=t.encoding;var ka=L.x;const sa=L.y;if($b(ka)&&$b(sa)){const Ba=ka.impute?ka:sa.impute?sa:void 0;if(void 0===Ba)return;ka=ka.impute?sa:sa.impute?ka:void 0;const {method:cb,value:nb,frame:Gb,keyvals:Nb}=Ba.impute;t=xc(t.mark,L);return new Yk(c,Object.assign({},{impute:Ba.field,key:ka.field},cb?{method:cb}:{},void 0!==nb?{value:nb}:{},Gb?{frame:Gb}:
{},void 0!==Nb?{keyvals:Nb}:{},t.length?{groupby:t}:{}))}return null}hash(){return"Impute ".concat(F(this.transform))}assemble(){const {impute:c,key:t,keyvals:L,method:ka,groupby:sa,value:Ba,frame:cb=[null,null]}=this.transform,nb=Object.assign({},{type:"impute",field:c,key:t},L?{keyvals:void 0!==(null===L||void 0===L?void 0:L.stop)?this.processSequence(L):L}:{},{method:"value"},sa?{groupby:sa}:{},{value:ka&&"value"!==ka?null:Ba});if(ka&&"value"!==ka){const Gb=Object.assign({},{type:"window",as:["imputed_".concat(c,
"_value")],ops:[ka],fields:[c],frame:cb,ignorePeers:!1},sa?{groupby:sa}:{}),Nb={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,"_value : datum.").concat(c),as:c};return[nb,Gb,Nb]}return[nb]}}class Ul extends tg{clone(){return new Ul(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:t.on,null!==(sa=
c[1])&&void 0!==sa?sa:t.loess]}dependentFields(){var c;return new Set([this.transform.loess,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);const L=c.loess;c=c.on;t=(delete t.loess,delete t.on,t);return Object.assign({},{type:"loess",x:c,y:L},t)}}class Dl extends tg{clone(){return new Dl(null,rf(this.transform),
this.secondary)}constructor(c,t,L){super(c);this.transform=t;this.secondary=L}static make(c,t,L,ka){const sa=t.component.data.sources,{from:Ba}=L;var cb=null;if("data"in Ba)cb=pl(Ba.data,sa),cb||(cb=new wk(Ba.data),sa.push(cb)),ka=t.getName("lookup_".concat(ka)),cb=new Eh(cb,ka,zg.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[ka]=cb;else if("selection"in Ba&&(ka=Ba.selection,L=Object.assign({},{as:ka},L),cb=t.getSelectionComponent(V(ka),ka).materialized,!cb))throw Error('Cannot define and lookup the "'.concat(ka,
'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new Dl(c,L,cb.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?d(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(F({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var c=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:d(this.transform.as)}:
{});else c=this.transform.as,e(c)||(Lb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),c="_lookup"),c={as:[c]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},c,this.transform.default?{default:this.transform.default}:{})}}class Vl extends tg{clone(){return new Vl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=
t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:"prob",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){var c;return new Set([this.transform.quantile,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);c=c.quantile;t=(delete t.quantile,
t);return Object.assign({},{type:"quantile",field:c},t)}}class Wl extends tg{clone(){return new Wl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:t.on,null!==(sa=c[1])&&void 0!==sa?sa:t.regression]}dependentFields(){var c;return new Set([this.transform.regression,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(F(this.transform))}assemble(){var c=
this.transform,t=Object.assign({},c);const L=c.regression;c=c.on;t=(delete t.regression,delete t.on,t);return Object.assign({},{type:"regression",x:c,y:L},t)}}class Yl extends tg{clone(){return new Yl(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){var t;this.transform.groupby=ja((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(c),L=>L)}producedFields(){}dependentFields(){var c;return new Set([this.transform.pivot,this.transform.value,...null!==(c=this.transform.groupby)&&
void 0!==c?c:[]])}hash(){return"PivotTransform ".concat(F(this.transform))}assemble(){const {pivot:c,value:t,groupby:L,limit:ka,op:sa}=this.transform;return Object.assign({},{type:"pivot",field:c,value:t},void 0!==ka?{limit:ka}:{},void 0!==sa?{op:sa}:{},void 0!==L?{groupby:L}:{})}}class Xl extends tg{clone(){return new Xl(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(F(this.transform))}assemble(){return{type:"sample",
size:this.transform.sample}}}class Fl extends Cm{constructor(c,t,L,ka){super(c,"facet",t,L,ka,c.resolve);jc(this,"facet",void 0);jc(this,"child",void 0);jc(this,"children",void 0);this.child=hi(c.spec,this,this.getName("child"),void 0,ka);this.children=[this.child];this.facet=this.initFacet(c.facet)}initFacet(c){if(!wa(c))return{facet:this.initFacetFieldDef(c,"facet")};var t=Hd(c);const L={};for(const ka of t){if(!G(["row","column"],ka)){Lb(zc(ka,"facet"));break}t=c[ka];if(void 0===t.field){Lb(Eb(t,
ka));break}L[ka]=this.initFacetFieldDef(t,ka)}return L}initFacetFieldDef(c,t){var L=Object.assign({},c);c=c.header;L=(delete L.header,L);t=Wb(L,t);c&&(t.header=kf(c));return t}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=bk(this);this.child.parseData()}parseLayoutSize(){ck(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();
for(const sa of zh){{var c=void 0,t=sa;const {facet:Ba,config:cb,child:nb,component:Gb}=this;if(this.channelHasField(t)){const Nb=Ba[t];var L=Nh("title",null,cb,t);L=mf(Nb,cb,{allowDisabling:!0,includeDefault:void 0===L||!!L});nb.component.layoutHeaders[t].title&&(L=Je(L)?L.join(", "):L,L+=" / "+nb.component.layoutHeaders[t].title,nb.component.layoutHeaders[t].title=null);var ka=Nh("labelOrient",Nb,cb,t);const lc=null!==(c=Nb.header)&&void 0!==c?c:{};c=Da(lc.labels,cb.header.labels,!0);ka=G(["bottom",
"right"],ka)?"footer":"header";Gb.layoutHeaders[t]={title:L,facetFieldDef:Nb,[ka]:"facet"===t?[]:[tl(this,t,c)]}}}}Dk(this,"x");Dk(this,"y")}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){const c={};for(const cb of zh)for(const nb of Ql){const Gb=this.component.layoutHeaders[cb];var t=Gb[nb],{facetFieldDef:L}=
Gb;if(L&&(L=Nh("titleOrient",L.header,this.config,cb),G(["right","bottom"],L))){var ka;L=Mh(cb,L);c.titleAnchor=null!==(ka=c.titleAnchor)&&void 0!==ka?ka:{};c.titleAnchor[L]="end"}if(null===t||void 0===t?0:t[0]){t="row"===cb?"height":"width";L="header"===nb?"headerBand":"footerBand";if("facet"!==cb&&!this.child.component.layoutSize.get(t)){var sa;c[L]=null!==(sa=c[L])&&void 0!==sa?sa:{};c[L][cb]=.5}if(Gb.title){var Ba;c.offset=null!==(Ba=c.offset)&&void 0!==Ba?Ba:{};c.offset["row"===cb?"rowTitle":
"columnTitle"]=10}}}return c}assembleDefaultLayout(){const {column:c,row:t}=this.facet,L=c?this.columnDistinctSignal():t?1:void 0;let ka="all";t||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(ka="none"):ka="none";return Object.assign({},this.getHeaderLayoutMixins(),L?{columns:L}:{},{bounds:"full",align:ka})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Fl)){const c=
this.getName("column_domain");return{signal:"length(data('".concat(c,"'))")}}}assembleGroup(c){return this.parent&&this.parent instanceof Fl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:kd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(c)):super.assembleGroup(c)}getCardinalityAggregateForChild(){const c=[],t=[],L=[];if(this.child instanceof Fl){if(this.child.channelHasField("column")){var ka=kd(this.child.facet.column);c.push(ka);t.push("distinct");
L.push("distinct_".concat(ka))}}else for(ka of Wg){var sa=this.child.component.scales[ka];if(sa&&!sa.merged){var Ba=sa.get("type");sa=sa.get("range");Ba in nh&&uc(sa)&&(Ba=Af(this.child,ka),(Ba=cg(Ba))?(c.push(Ba),t.push("distinct"),L.push("distinct_".concat(Ba))):Lb(Lc(ka)))}}return{fields:c,ops:t,as:L}}assembleFacet(){const {name:c,data:t}=this.component.data.facetRoot,{row:L,column:ka}=this.facet,{fields:sa,ops:Ba,as:cb}=this.getCardinalityAggregateForChild(),nb=[];for(var Gb of zh){var Nb=this.facet[Gb];
if(Nb){nb.push(kd(Nb));const {bin:lc,sort:Yc}=Nb;pc(lc)&&nb.push(kd(Nb,{binSuffix:"end"}));if(qe(Yc)){const {field:hd,op:qd="min"}=Yc;Nb=uk(Nb,Yc);L&&ka?(sa.push(Nb),Ba.push("max")):(sa.push(hd),Ba.push(qd));cb.push(Nb)}else Je(Yc)&&(Nb=oh(Nb,Gb),sa.push(Nb),Ba.push("max"),cb.push(Nb))}}Gb=!!L&&!!ka;return Object.assign({},{name:c,data:t,groupby:nb},Gb||0<sa.length?{aggregate:Object.assign({},Gb?{cross:Gb}:{},sa.length?{fields:sa,ops:Ba,as:cb}:{})}:{})}facetSortFields(c){var {facet:t}=this;return(t=
t[c])?qe(t.sort)?[uk(t,t.sort,{expr:"datum"})]:Je(t.sort)?[oh(t,c,{expr:"datum"})]:[kd(t,{expr:"datum"})]:[]}facetSortOrder(c){const {facet:t}=this;return(c=t[c])?({sort:c}=c,[(qe(c)?c.order:!Je(c)&&c)||"ascending"]):[]}assembleLabelTitle(){const {facet:c,config:t}=this;if(c.facet)return Jf(c.facet,"facet",t);const L={row:["top","bottom"],column:["left","right"]};for(const sa of Zl)if(c[sa]){var ka;const Ba=Nh("labelOrient",null===(ka=c[sa])||void 0===ka?void 0:ka.header,t,sa);if(G(L[sa],Ba))return Jf(c[sa],
sa,t)}}assembleMarks(){const {child:c}=this,t=el(this.component.data.facetRoot),L=c.assembleGroupEncodeEntry(!1),ka=this.assembleLabelTitle()||c.assembleTitle(),sa=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},ka?{title:ka}:{},sa?{style:sa}:{},{from:{facet:this.assembleFacet()},sort:{field:zh.map(Ba=>this.facetSortFields(Ba)).flat(),order:zh.map(Ba=>this.facetSortOrder(Ba)).flat()}},0<t.length?{data:t}:{},L?{encode:{update:L}}:{},c.assembleGroup(Yj(this,[])))]}getMapping(){return this.facet}}
class un extends cm{constructor(c,t,L,ka){var sa,Ba,cb,nb;super(c,"concat",t,L,ka,c.resolve);jc(this,"children",void 0);"shared"!==(null===(sa=c.resolve)||void 0===sa?void 0:null===(Ba=sa.axis)||void 0===Ba?void 0:Ba.x)&&"shared"!==(null===(cb=c.resolve)||void 0===cb?void 0:null===(nb=cb.axis)||void 0===nb?void 0:nb.y)||Lb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(c).map((Gb,Nb)=>hi(Gb,this,this.getName("concat_"+
Nb),void 0,ka))}parseData(){this.component.data=bk(this);for(const c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Hd(c.component.selection))this.component.selection[t]=c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(const c of this.children)c.parseAxesAndHeaders()}getChildren(c){return"vconcat"in c?c.vconcat:"hconcat"in c?c.hconcat:c.concat}parseLayoutSize(){{ck(this);
const c=void 0===this.layout.columns?"height":"childHeight";Pk(this,1===this.layout.columns?"width":"childWidth");Pk(this,c)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,L)=>L.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){this.children.forEach(c=>c.assembleSignals());return[]}assembleLayoutSignals(){const c=Dj(this);for(const t of this.children)c.push(...t.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((t,
L)=>L.assembleSelectionData(t),c)}assembleMarks(){return this.children.map(c=>{const t=c.assembleTitle(),L=c.assembleGroupStyle(),ka=c.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:c.getName("group")},t?{title:t}:{},L?{style:L}:{},ka?{encode:{update:ka}}:{},c.assembleGroup())})}assembleDefaultLayout(){const c=this.layout.columns;return Object.assign({},null!=c?{columns:c}:{},{bounds:"full",align:"each"})}}const Dn=Object.assign({},{disable:1,gridScale:1,scale:1},rg,{labelExpr:1,
encode:1}),um=Hd(Dn);class vm extends Uj{constructor(c,t,L){c=void 0===c?{}:c;t=void 0===t?{}:t;L=void 0===L?!1:L;super();this.explicit=c;this.implicit=t;this.mainExtracted=L}clone(){return new vm(rf(this.explicit),rf(this.implicit),this.mainExtracted)}hasAxisPart(c){if("axis"===c)return!0;if("grid"===c||"title"===c)return!!this.get(c);c=this.get(c);return!(!1===c||null===c)}hasOrientSignalRef(){return Dc(this.explicit.orient)}}const En={bottom:"top",top:"bottom",left:"right",right:"left"},tn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
El={arc:{vgMark:"arc",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),ni(c,"radius","arc"),ni(c,"theta","arc"))},area:{vgMark:"area",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Ai("x",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===c.markDef.orient}),
Ai("y",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===c.markDef.orient}),rj(c))},bar:{vgMark:"rect",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","bar"),ni(c,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:c=>Fj(c,"circle")},geoshape:{vgMark:"shape",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:c=>{var {encoding:t}=c;t=t.shape;return[Object.assign({},{type:"geoshape",projection:c.projectionName()},t&&$b(t)&&"geojson"===t.type?{field:kd(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","image"),ni(c,"y","image"),sh(c,"url"))},line:{vgMark:"line",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),Fg("size",c,{vgChannel:"strokeWidth"}),rj(c))},point:{vgMark:"symbol",encodeEntry:c=>Fj(c)},rect:{vgMark:"rect",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","rect"),ni(c,"y","rect"))},rule:{vgMark:"rule",encodeEntry:c=>{var {markDef:t}=c;t=t.orient;return c.encoding.x||c.encoding.y||c.encoding.latitude||
c.encoding.longitude?Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ai("x",c,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t}),Ai("y",c,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t}),Fg("size",c,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:c=>Fj(c,"square")},text:{vgMark:"text",encodeEntry:c=>{const {config:t,encoding:L}=
c;return Object.assign({},hh(c,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),sh(c),Fg("size",c,{vgChannel:"fontSize"}),Fg("angle",c),og("align",al(c.markDef,L,t)),og("baseline",yl(c.markDef,L,t)),qg("radius",c,{defaultPos:null,isMidPoint:!0}),qg("theta",c,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:c=>{const {config:t,markDef:L}=c;var ka=L.orient;const sa="horizontal"===
ka?"width":"height";ka="horizontal"===ka?"height":"width";return Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid",vgChannel:"xc"}),qg("y",c,{defaultPos:"mid",vgChannel:"yc"}),Fg("size",c,{defaultValue:gh(c),vgChannel:sa}),{[ka]:$d(ne("thickness",L,t))})}},trail:{vgMark:"trail",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),Fg("size",c),rj(c))}};class ym extends Cm{constructor(c,t,L,ka,sa){ka=void 0===ka?{}:ka;super(c,"unit",t,L,sa,void 0,Mb(c)?c.view:void 0);jc(this,"markDef",void 0);jc(this,"encoding",void 0);jc(this,"specifiedScales",{});jc(this,"stack",void 0);jc(this,"specifiedAxes",{});jc(this,"specifiedLegends",{});jc(this,"specifiedProjection",{});jc(this,"selection",{});jc(this,"children",[]);var Ba=Od(c.mark)?Object.assign({},c.mark):{type:c.mark};t=
Ba.type;if(void 0===Ba.filled){({graticule:L}={graticule:c.data&&"graticule"in c.data});if(L)L=!1;else{L=sf("filled",Ba,sa);var cb=Ba.type;L=Da(L,cb!==yb&&cb!==ib&&cb!==fc)}Ba.filled=L}L=this.encoding=Db(c.encoding||{},t,Ba.filled,sa);Ba=kf(Ba);cb=ne("orient",Ba,sa);Ba.orient=xi(Ba.type,L,cb);void 0!==cb&&cb!==Ba.orient&&(cb='Specified orient "'.concat(Ba.orient,'" overridden with "').concat(cb,'".'),Lb(cb));if("bar"===Ba.type&&Ba.orient&&(cb=ne("cornerRadiusEnd",Ba,sa),void 0!==cb)){const lc="horizontal"===
Ba.orient&&L.x2||"vertical"===Ba.orient&&L.y2?["cornerRadius"]:$c[Ba.orient];for(var nb of lc)Ba[nb]=cb;void 0!==Ba.cornerRadiusEnd&&delete Ba.cornerRadiusEnd}void 0===ne("opacity",Ba,sa)&&(nb=G([yb,sd,ff,Ld],Ba.type)&&!fb(L)?.7:void 0,Ba.opacity=nb);void 0===ne("cursor",Ba,sa)&&(nb=Ba,sa=L.href||nb.href||ne("href",nb,sa)?"pointer":nb.cursor,Ba.cursor=sa);this.markDef=sa=Ba;ka={encoding:L,size:Mb(c)?Object.assign({},ka,c.width?{width:c.width}:{},c.height?{height:c.height}:{}):ka};var {encoding:Gb,
size:Nb}=ka;for(const lc of Wg)ka=Ua(lc),zb(Nb[ka])&&Mc(Gb[lc])&&(delete Nb[ka],Lb(Ka(ka)));this.size=Nb;this.stack=Rb(t,L);this.specifiedScales=this.initScales(t,L);this.specifiedAxes=this.initAxes(L);this.specifiedLegends=this.initLegends(L);this.specifiedProjection=c.projection;this.selection=c.selection}get hasProjection(){const {encoding:c}=this,t=this.mark===Ke,L=c&&$h.some(ka=>od(c[ka]));return t||L}scaleDomain(c){return(c=this.specifiedScales[c])?c.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,
t){return Lj.reduce((L,ka)=>{const sa=Aa(t[ka]);if(sa){var Ba;L[ka]=this.initScale(null!==(Ba=sa.scale)&&void 0!==Ba?Ba:{})}return L},{})}initScale(c){const {domain:t,range:L}=c;c=kf(c);Je(t)&&(c.domain=t.map(Gd));Je(L)&&(c.range=L.map(Gd));return c}initAxes(c){return Wg.reduce((t,L)=>{var ka=c[L];if(od(ka)||"x"===L&&od(c.x2)||"y"===L&&od(c.y2))ka=od(ka)?ka.axis:void 0,t[L]=ka?this.initAxis(Object.assign({},ka)):ka;return t},{})}initAxis(c){var t=Hd(c);const L={};for(const ka of t)t=c[ka],L[ka]=ra(t)?
je(t):Gd(t);return L}initLegends(c){return dk.reduce((t,L)=>{var ka=Aa(c[L]),sa;if(sa=ka)a:{switch(L){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":sa=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":sa=!1;break a}sa=void 0}sa&&(ka=ka.legend,t[L]=ka?kf(ka):ka);return t},{})}parseData(){this.component.data=bk(this)}parseLayoutSize(){{const {size:t,component:L}=this;for(const ka of Wg){const sa=Ua(ka);if(t[sa]){var c=
t[sa];L.layoutSize.set(sa,zb(c)?"step":c,!0)}else c=xl(this,sa),L.layoutSize.set(sa,c,!1)}}}parseSelections(){this.component.selection=Ih(this,this.selection)}parseMarkGroup(){this.component.mark=Ll(this)}parseAxesAndHeaders(){this.component.axes=ql(this)}assembleSelectionTopLevelSignals(c){return Vj(this,c)}assembleSignals(){return[...Ji(this),...Sh(this,[])]}assembleSelectionData(c){return Xj(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return Dj(this)}assembleMarks(){var c;let t=
null!==(c=this.component.mark)&&void 0!==c?c:[];this.parent&&Lg(this.parent)||(t=Wj(this,t));return t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return Sa(this.encoding,c)}fieldDef(c){return nf(this.encoding[c])}typedFieldDef(c){c=this.fieldDef(c);return Id(c)?c:null}}class xm extends cm{constructor(c,t,L,ka,sa){super(c,"layer",t,L,sa,c.resolve,c.view);jc(this,"children",void 0);const Ba=Object.assign({},ka,c.width?{width:c.width}:
{},c.height?{height:c.height}:{});this.children=c.layer.map((cb,nb)=>{if("layer"in cb)return new xm(cb,this,this.getName("layer_"+nb),Ba,sa);if(Na(cb))return new ym(cb,this,this.getName("layer_"+nb),Ba,sa);throw Error(Pc(cb));})}parseData(){this.component.data=bk(this);for(const c of this.children)c.parseData()}parseLayoutSize(){ck(this);Pk(this,"width");Pk(this,"height")}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Hd(c.component.selection))this.component.selection[t]=
c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:L,resolve:ka}=this.component,sa={top:0,bottom:0,right:0,left:0};for(var c of this.children){c.parseAxesAndHeaders();for(const Ba of Hd(c.component.axes))ka.axis[Ba]=gj(this.component.resolve,Ba),"shared"===ka.axis[Ba]&&(L[Ba]=rl(L[Ba],c.component.axes[Ba]),L[Ba]||(ka.axis[Ba]="independent",delete L[Ba]))}for(const Ba of Wg){for(const cb of this.children)if(cb.component.axes[Ba]){if("independent"===
ka.axis[Ba]){var t;L[Ba]=(null!==(t=L[Ba])&&void 0!==t?t:[]).concat(cb.component.axes[Ba]);for(const nb of cb.component.axes[Ba]){const {value:Gb,explicit:Nb}=nb.getWithExplicit("orient");Dc(Gb)||(0<sa[Gb]&&!Nb&&(c=En[Gb],sa[Gb]>sa[c]&&nb.set("orient",c,!1)),sa[Gb]++)}}delete cb.component.axes[Ba]}if("independent"===ka.axis[Ba]&&L[Ba]&&1<L[Ba].length)for(const cb of L[Ba])cb.get("grid")&&!cb.explicit.grid&&(cb.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,
L)=>L.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleSignals()),Ji(this))}assembleLayoutSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleLayoutSignals()),Dj(this))}assembleSelectionData(c){return this.children.reduce((t,L)=>L.assembleSelectionData(t),c)}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(const t of this.children)if(c=t.assembleTitle())return c}assembleLayout(){return null}assembleMarks(){return vg(this,
this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,t)=>c.concat(t.assembleLegends()),Ak(this))}}l.accessPathDepth=Ya;l.accessPathWithDatum=va;l.compile=function(c,t){t=void 0===t?{}:t;t.logger&&(kj=t.logger);t.fieldTitle&&(cf=t.fieldTitle);try{const lc=Ma(u(t.config,c.config)),Yc=re(c,lc),hd=hi(Yc,null,"",void 0,lc);hd.parse();{var L=hd.component.data,ka=hd;Xa(L.sources);let qd=0,Md=0;for(var sa=0;5>sa&&tb(L,ka,!0);sa++)qd++;L.sources.map(ea);for(sa=0;5>
sa&&tb(L,ka,!1);sa++)Md++;Xa(L.sources);5===Math.max(qd,Md)&&Lb("Maximum optimization runs(".concat(5,") reached."))}{var Ba=Yc.autosize;L=lc;ka=hd;const qd=ka.component.layoutSize.get("width"),Md=ka.component.layoutSize.get("height");void 0===Ba?(Ba={type:"pad"},ka.hasAxisOrientSignalRef()&&(Ba.resize=!0)):e(Ba)&&(Ba={type:Ba});var cb;if(cb=qd&&Md){var nb=Ba.type;cb="fit"===nb||"fit-x"===nb||"fit-y"===nb}if(cb)if("step"===qd&&"step"===Md)Lb(Sc()),Ba.type="pad";else if("step"===qd||"step"===Md){nb=
"step"===qd?"width":"height";Lb(Sc(Fb(nb)));cb=Ba;var Gb=(nb="width"===nb?"height":"width","fit-".concat(Fb(nb)));cb.type=Gb}var Nb=Object.assign({},1===Hd(Ba).length&&Ba.type?"pad"===Ba.type?{}:{autosize:Ba.type}:{autosize:Ba},ob(L,!1),ob(c,!0))}return{spec:ul(hd,Nb,c.datasets,c.usermeta),normalized:Yc}}finally{t.logger&&(kj=ze),t.fieldTitle&&(cf=Jd)}};l.contains=G;l.deepEqual=ji;l.deleteNestedProperty=aa;l.duplicate=rf;l.entries=fh;l.every=R;l.fieldIntersection=Z;l.flatAccessWithDatum=Ia;l.getFirstDefined=
Da;l.hasIntersection=ha;l.hash=F;l.internalField=U;l.isBoolean=C;l.isEmpty=P;l.isEqual=function(c,t){const L=Hd(c),ka=Hd(t);if(L.length!==ka.length)return!1;for(const sa of L)if(c[sa]!==t[sa])return!1;return!0};l.isInternalField=W;l.isNullOrFalse=z;l.isNumeric=ca;l.keys=Hd;l.logicalExpr=ia;l.mergeDeep=T;l.normalize=re;l.normalizeAngle=ba;l.omit=M;l.pick=O;l.prefixGenerator=la;l.removePathFromField=Ta;l.replaceAll=ua;l.replacePathInField=kb;l.resetIdCounter=function(){jj=42};l.setEqual=fa;l.some=K;
l.stringify=of;l.titleCase=ya;l.unique=ja;l.uniqueId=ta;l.vals=Tg;l.varName=V;l.version="4.17.0";Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[65]=function(Ja,A,rb,E){function k(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function w(n){if(m===setTimeout)return setTimeout(n,0);if((m===k||!m)&&setTimeout)return m=setTimeout,setTimeout(n,0);try{return m(n,0)}catch(y){try{return m.call(null,n,0)}catch(B){return m.call(this,n,0)}}}function H(n){if(g===clearTimeout)return clearTimeout(n);if((g===l||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(n);try{return g(n)}catch(y){try{return g.call(null,
n)}catch(B){return g.call(this,n)}}}function N(){f&&a&&(f=!1,a.length?d=a.concat(d):e=-1,d.length&&x())}function x(){if(!f){var n=w(N);f=!0;for(var y=d.length;y;){a=d;for(d=[];++e<y;)a&&a[e].run();e=-1;y=d.length}a=null;f=!1;H(n)}}function v(n,y){this.fun=n;this.array=y}function u(){}Ja=rb.exports={};try{var m="function"===typeof setTimeout?setTimeout:k}catch(n){m=k}try{var g="function"===typeof clearTimeout?clearTimeout:l}catch(n){g=l}var d=[],f=!1,a,e=-1;Ja.nextTick=function(n){var y=Array(arguments.length-
1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)y[B-1]=arguments[B];d.push(new v(n,y));1!==d.length||f||w(x)};v.prototype.run=function(){this.fun.apply(null,this.array)};Ja.title="browser";Ja.browser=!0;Ja.env={};Ja.argv=[];Ja.version="";Ja.versions={};Ja.on=u;Ja.addListener=u;Ja.once=u;Ja.off=u;Ja.removeListener=u;Ja.removeAllListeners=u;Ja.emit=u;Ja.prependListener=u;Ja.prependOnceListener=u;Ja.listeners=function(n){return[]};Ja.binding=function(n){throw Error("process.binding is not supported");
};Ja.cwd=function(){return"/"};Ja.chdir=function(n){throw Error("process.chdir is not supported");};Ja.umask=function(){return 0}};
shadow$provide[66]=function(Ja,A,rb,E){var k=A(65);(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=w(A(63),A(64)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,l.vegaEmbed=w(l.vega,l.vegaLite))})(this,function(l,w){function H(wa){if(wa&&wa.__esModule)return wa;var Ea=Object.create(null);wa&&Object.keys(wa).forEach(function(Za){if("default"!==Za){var Cb=Object.getOwnPropertyDescriptor(wa,Za);Object.defineProperty(Ea,
Za,Cb.get?Cb:{enumerable:!0,get:function(){return wa[Za]}})}});Ea["default"]=wa;return Object.freeze(Ea)}function N(wa,Ea,Za,Cb){function ub(Yb){return Yb instanceof Za?Yb:new Za(function($b){$b(Yb)})}return new (Za||(Za=Promise))(function(Yb,$b){function Oc(Nd){try{Mc(Cb.next(Nd))}catch(od){$b(od)}}function gd(Nd){try{Mc(Cb["throw"](Nd))}catch(od){$b(od)}}function Mc(Nd){Nd.done?Yb(Nd.value):ub(Nd.value).then(Oc,gd)}Mc((Cb=Cb.apply(wa,Ea||[])).next())})}function x(wa,Ea){function Za(Mc){return function(Nd){return Cb([Mc,
Nd])}}function Cb(Mc){if(Yb)throw new TypeError("Generator is already executing.");for(;ub;)try{if(Yb=1,$b&&(Oc=Mc[0]&2?$b["return"]:Mc[0]?$b["throw"]||((Oc=$b["return"])&&Oc.call($b),0):$b.next)&&!(Oc=Oc.call($b,Mc[1])).done)return Oc;if($b=0,Oc)Mc=[Mc[0]&2,Oc.value];switch(Mc[0]){case 0:case 1:Oc=Mc;break;case 4:return ub.label++,{value:Mc[1],done:!1};case 5:ub.label++;$b=Mc[1];Mc=[0];continue;case 7:Mc=ub.ops.pop();ub.trys.pop();continue;default:if(!(Oc=ub.trys,Oc=0<Oc.length&&Oc[Oc.length-1])&&
(6===Mc[0]||2===Mc[0])){ub=0;continue}if(3===Mc[0]&&(!Oc||Mc[1]>Oc[0]&&Mc[1]<Oc[3]))ub.label=Mc[1];else if(6===Mc[0]&&ub.label<Oc[1])ub.label=Oc[1],Oc=Mc;else if(Oc&&ub.label<Oc[2])ub.label=Oc[2],ub.ops.push(Mc);else{Oc[2]&&ub.ops.pop();ub.trys.pop();continue}}Mc=Ea.call(wa,ub)}catch(Nd){Mc=[6,Nd],$b=0}finally{Yb=Oc=0}if(Mc[0]&5)throw Mc[1];return{value:Mc[0]?Mc[1]:void 0,done:!0}}var ub={label:0,sent:function(){if(Oc[0]&1)throw Oc[1];return Oc[1]},trys:[],ops:[]},Yb,$b,Oc,gd;return gd={next:Za(0),
"throw":Za(1),"return":Za(2)},"function"===typeof Symbol&&(gd[Symbol.iterator]=function(){return this}),gd}function v(wa){if(Array.isArray(wa)){var Ea=Array(wa.length);for(wa=0;wa<Ea.length;wa++)Ea[wa]=""+wa;return Ea}if(Object.keys)return Object.keys(wa);Ea=[];for(var Za in wa)ta.call(wa,Za)&&Ea.push(Za);return Ea}function u(wa){switch(typeof wa){case "object":return JSON.parse(JSON.stringify(wa));case "undefined":return null;default:return wa}}function m(wa){for(var Ea=0,Za=wa.length,Cb;Ea<Za;)if(Cb=
wa.charCodeAt(Ea),48<=Cb&&57>=Cb)Ea++;else return!1;return!0}function g(wa){return-1===wa.indexOf("/")&&-1===wa.indexOf("~")?wa:wa.replace(/~/g,"~0").replace(/\//g,"~1")}function d(wa){return wa.replace(/~1/g,"/").replace(/~0/g,"~")}function f(wa){if(void 0===wa)return!0;if(wa)if(Array.isArray(wa))for(var Ea=0,Za=wa.length;Ea<Za;Ea++){if(f(wa[Ea]))return!0}else if("object"===typeof wa){Za=v(wa);var Cb=Za.length;for(Ea=0;Ea<Cb;Ea++)if(f(wa[Za[Ea]]))return!0}return!1}function a(wa,Ea){wa=[wa];for(var Za in Ea){var Cb=
"object"===typeof Ea[Za]?JSON.stringify(Ea[Za],null,2):Ea[Za];"undefined"!==typeof Cb&&wa.push(Za+": "+Cb)}return wa.join("\n")}function e(wa,Ea){if(""==Ea)return wa;Ea={op:"_get",path:Ea};n(wa,Ea);return Ea.value}function n(wa,Ea,Za,Cb,ub,Yb){void 0===Za&&(Za=!1);void 0===Cb&&(Cb=!0);void 0===ub&&(ub=!0);void 0===Yb&&(Yb=0);Za&&("function"==typeof Za?Za(Ea,0,wa,Ea.path):B(Ea,0));if(""===Ea.path){ub={newDocument:wa};if("add"===Ea.op)return ub.newDocument=Ea.value,ub;if("replace"===Ea.op)return ub.newDocument=
Ea.value,ub.removed=wa,ub;if("move"===Ea.op||"copy"===Ea.op)return ub.newDocument=e(wa,Ea.from),"move"===Ea.op&&(ub.removed=wa),ub;if("test"===Ea.op){ub.test=O(wa,Ea.value);if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,wa);ub.newDocument=wa;return ub}if("remove"===Ea.op)return ub.removed=wa,ub.newDocument=null,ub;if("_get"===Ea.op)return Ea.value=wa,ub;if(Za)throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Yb,Ea,wa);return ub}Cb||(wa=u(wa));Cb=(Ea.path||"").split("/");var $b=wa,Oc=1,gd=Cb.length,Mc=void 0,Nd;for(Nd="function"==typeof Za?Za:B;;){var od=Cb[Oc];if(ub&&"__proto__"==od)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Za&&void 0===Mc&&(void 0===$b[od]?Mc=Cb.slice(0,Oc).join("/"):Oc==gd-1&&(Mc=Ea.path),void 0!==
Mc&&Nd(Ea,0,wa,Mc));Oc++;if(Array.isArray($b)){if("-"===od)od=$b.length;else{if(Za&&!m(od))throw new W("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Yb,Ea,wa);m(od)&&(od=~~od)}if(Oc>=gd){if(Za&&"add"===Ea.op&&od>$b.length)throw new W("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Yb,Ea,wa);ub=ca[Ea.op].call(Ea,$b,od,wa);
if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,wa);return ub}}else if(od&&-1!=od.indexOf("~")&&(od=d(od)),Oc>=gd){ub=ba[Ea.op].call(Ea,$b,od,wa);if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,wa);return ub}$b=$b[od]}}function y(wa,Ea,Za,Cb,ub){void 0===Cb&&(Cb=!0);void 0===ub&&(ub=!0);if(Za&&!Array.isArray(Ea))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Cb||(wa=u(wa));Cb=Array(Ea.length);for(var Yb=0,
$b=Ea.length;Yb<$b;Yb++)Cb[Yb]=n(wa,Ea[Yb],Za,!0,ub,Yb),wa=Cb[Yb].newDocument;Cb.newDocument=wa;return Cb}function B(wa,Ea,Za,Cb){if("object"!==typeof wa||null===wa||Array.isArray(wa))throw new W("Operation is not an object","OPERATION_NOT_AN_OBJECT",Ea,wa,Za);if(ba[wa.op]){if("string"!==typeof wa.path)throw new W("Operation `path` property is not a string","OPERATION_PATH_INVALID",Ea,wa,Za);if(0!==wa.path.indexOf("/")&&0<wa.path.length)throw new W('Operation `path` property must start with "/"',
"OPERATION_PATH_INVALID",Ea,wa,Za);if("move"!==wa.op&&"copy"!==wa.op||"string"===typeof wa.from)if("add"!==wa.op&&"replace"!==wa.op&&"test"!==wa.op||void 0!==wa.value){if(("add"===wa.op||"replace"===wa.op||"test"===wa.op)&&f(wa.value))throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Ea,wa,Za);if(Za)if("add"==wa.op){var ub=wa.path.split("/").length;Cb=Cb.split("/").length;if(ub!==Cb+1&&ub!==Cb)throw new W("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Ea,wa,Za);}else if("replace"===wa.op||"remove"===wa.op||"_get"===wa.op){if(wa.path!==Cb)throw new W("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Ea,wa,Za);}else if(("move"===wa.op||"copy"===wa.op)&&(ub=D([{op:"_get",path:wa.from,value:void 0}],Za))&&"OPERATION_PATH_UNRESOLVABLE"===ub.name)throw new W("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Ea,wa,Za);}else throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Ea,wa,Za);else throw new W("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Ea,wa,Za);}else throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ea,wa,Za);}function D(wa,Ea,Za){try{if(!Array.isArray(wa))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Ea)y(u(Ea),u(wa),Za||!0);else{Za=Za||B;for(var Cb=0;Cb<wa.length;Cb++)Za(wa[Cb],
Cb,Ea,void 0)}}catch(ub){if(ub instanceof W)return ub;throw ub;}}function O(wa,Ea){if(wa===Ea)return!0;if(wa&&Ea&&"object"==typeof wa&&"object"==typeof Ea){var Za=Array.isArray(wa),Cb=Array.isArray(Ea);if(Za&&Cb){var ub=wa.length;if(ub!=Ea.length)return!1;for(Za=ub;0!==Za--;)if(!O(wa[Za],Ea[Za]))return!1;return!0}if(Za!=Cb)return!1;Cb=Object.keys(wa);ub=Cb.length;if(ub!==Object.keys(Ea).length)return!1;for(Za=ub;0!==Za--;)if(!Ea.hasOwnProperty(Cb[Za]))return!1;for(Za=ub;0!==Za--;)if(ub=Cb[Za],!O(wa[ub],
Ea[ub]))return!1;return!0}return wa!==wa&&Ea!==Ea}function M(wa,Ea){void 0===Ea&&(Ea=!1);var Za=qa.get(wa.object);F(Za.value,wa.object,wa.patches,"",Ea);wa.patches.length&&y(Za.value,wa.patches);Ea=wa.patches;0<Ea.length&&(wa.patches=[],wa.callback&&wa.callback(Ea));return Ea}function F(wa,Ea,Za,Cb,ub){if(Ea!==wa){"function"===typeof Ea.toJSON&&(Ea=Ea.toJSON());for(var Yb=v(Ea),$b=v(wa),Oc=!1,gd=$b.length-1;0<=gd;gd--){var Mc=$b[gd],Nd=wa[Mc];if(!ta.call(Ea,Mc)||void 0===Ea[Mc]&&void 0!==Nd&&!1===
Array.isArray(Ea))Array.isArray(wa)===Array.isArray(Ea)?(ub&&Za.push({op:"test",path:Cb+"/"+g(Mc),value:u(Nd)}),Za.push({op:"remove",path:Cb+"/"+g(Mc)}),Oc=!0):(ub&&Za.push({op:"test",path:Cb,value:wa}),Za.push({op:"replace",path:Cb,value:Ea}));else{var od=Ea[Mc];"object"==typeof Nd&&null!=Nd&&"object"==typeof od&&null!=od?F(Nd,od,Za,Cb+"/"+g(Mc),ub):Nd!==od&&(ub&&Za.push({op:"test",path:Cb+"/"+g(Mc),value:u(Nd)}),Za.push({op:"replace",path:Cb+"/"+g(Mc),value:u(od)}))}}if(Oc||Yb.length!=$b.length)for(gd=
0;gd<Yb.length;gd++)Mc=Yb[gd],ta.call(wa,Mc)||void 0===Ea[Mc]||Za.push({op:"add",path:Cb+"/"+g(Mc),value:u(Ea[Mc])})}}function z(wa){var Ea=this;Ea instanceof z||(Ea=new z);Ea.tail=null;Ea.head=null;Ea.length=0;if(wa&&"function"===typeof wa.forEach)wa.forEach(function(ub){Ea.push(ub)});else if(0<arguments.length)for(var Za=0,Cb=arguments.length;Za<Cb;Za++)Ea.push(arguments[Za]);return Ea}function G(wa,Ea,Za,Cb){if(!(this instanceof G))return new G(wa,Ea,Za,Cb);this.list=Cb;this.value=wa;Ea?(Ea.next=
this,this.prev=Ea):this.prev=null;Za?(Za.prev=this,this.next=Za):this.next=null}function K(wa){const [Ea,Za]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(wa).slice(1,3);return{library:Ea,version:Za}}function R(wa,Ea,Za){wa.fields=Ea||[];wa.fname=Za;return wa}function T(wa){return 1===wa.length?Ye(wa[0]):Xf(wa)}function ja(wa){function Ea(){Za.push($b+wa.substring(Oc,gd));$b="";Oc=gd+1}const Za=[],Cb=wa.length;let ub=null,Yb=0,$b="",Oc,gd,Mc;wa+="";for(Oc=gd=0;gd<Cb;++gd)if(Mc=wa[gd],"\\"===Mc)$b+=
wa.substring(Oc,gd),$b+=wa.substring(++gd,++gd),Oc=gd;else if(Mc===ub)Ea(),ub=null,Yb=-1;else if(!ub)if(Oc===Yb&&'"'===Mc)Oc=gd+1,ub=Mc;else if(Oc===Yb&&"'"===Mc)Oc=gd+1,ub=Mc;else if("."===Mc&&!Yb)gd>Oc?Ea():Oc=gd+1;else if("["===Mc)gd>Oc&&Ea(),Yb=Oc=gd+1;else if("]"===Mc){if(!Yb)throw Error("Access path missing open bracket: "+wa);0<Yb&&Ea();Yb=0;Oc=gd+1}if(Yb)throw Error("Access path missing closing bracket: "+wa);if(ub)throw Error("Access path missing closing quote: "+wa);gd>Oc&&(gd++,Ea());return Za}
function fa(wa,Ea){var Za={},Cb;for(Cb in wa)Object.prototype.hasOwnProperty.call(wa,Cb)&&0>Ea.indexOf(Cb)&&(Za[Cb]=wa[Cb]);if(null!=wa&&"function"===typeof Object.getOwnPropertySymbols){var ub=0;for(Cb=Object.getOwnPropertySymbols(wa);ub<Cb.length;ub++)0>Ea.indexOf(Cb[ub])&&Object.prototype.propertyIsEnumerable.call(wa,Cb[ub])&&(Za[Cb[ub]]=wa[Cb[ub]])}return Za}function ha(wa,Ea,Za){if(Gc(wa))return`[${wa.map(ub=>Ea("string"===typeof ub?ub:JSON.stringify(ub,la(Za)))).join(", ")}]`;if(wa===Object(wa)){let ub=
"";const {title:Yb,image:$b}=wa;wa=fa(wa,["title","image"]);Yb&&(ub+=`<h2>${Ea(Yb)}</h2>`);$b&&(ub+=`<img src="${Ea($b)}">`);var Cb=Object.keys(wa);if(0<Cb.length){ub+="\x3ctable\x3e";for(const Oc of Cb)Cb=wa[Oc],void 0!==Cb&&(Cb===Object(Cb)&&(Cb=JSON.stringify(Cb,la(Za))),ub+=`<tr><td class="key">${Ea(Oc)}:</td><td class="value">${Ea(Cb)}</td></tr>`);ub+="\x3c/table\x3e"}return ub||"{}"}return Ea(wa)}function la(wa){const Ea=[];return function(Za,Cb){if("object"!==typeof Cb||null===Cb)return Cb;
Za=Ea.indexOf(this)+1;Ea.length=Za;if(Ea.length>wa)return"[Object]";if(0<=Ea.indexOf(Cb))return"[Circular]";Ea.push(Cb);return Cb}}function Z(wa,Ea,Za){function Cb(gd){gd.source===Yb&&(Oc=0,wa.removeEventListener("message",Cb,!1))}function ub(){0>=Oc||(Yb.postMessage(Za,$b),setTimeout(ub,250),--Oc)}var Yb=wa.open(Ea),$b=(new URL(Ea)).origin,Oc=40;wa.addEventListener("message",Cb,!1);setTimeout(ub,250)}function P(wa){for(var Ea=[],Za=1;Za<arguments.length;Za++)Ea[Za-1]=arguments[Za];for(Za=0;Za<Ea.length;Za++)for(var Cb=
wa,ub=Ea[Za],Yb=0,$b=Object.keys(ub);Yb<$b.length;Yb++){var Oc=$b[Yb];l.writeConfig(Cb,Oc,ub[Oc],!0)}return wa}function C(wa,Ea,Za,Cb){Ea="\x3chtml\x3e\x3chead\x3e"+Ea+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Za="\x3c/code\x3e\x3c/pre\x3e"+Za+"\x3c/body\x3e\x3c/html\x3e";var ub=window.open("");ub.document.write(Ea+wa+Za);ub.document.title=Sf[Cb]+" JSON Source"}function V(wa,Ea){var Za;return wa.$schema?(wa=K(wa.$schema),Ea&&Ea!==wa.library&&console.warn("The given visualization spec is written in "+
Sf[wa.library]+", but mode argument sets "+(null!==(Za=Sf[Ea])&&void 0!==Za?Za:Ea)+"."),Ea=wa.library,Be.satisfies(Bf[Ea],"^"+wa.version.slice(1))||console.warn("The input spec uses "+Sf[Ea]+" "+wa.version+", but the current version of "+Sf[Ea]+" is v"+Bf[Ea]+"."),Ea):"mark"in wa||"encoding"in wa||"layer"in wa||"hconcat"in wa||"vconcat"in wa||"facet"in wa||"repeat"in wa?"vega-lite":"marks"in wa||"signals"in wa||"scales"in wa||"axes"in wa?"vega":null!==Ea&&void 0!==Ea?Ea:"vega"}function ia(wa){return wa&&
"load"in wa?wa:Fe.loader(wa)}function aa(wa){var Ea;return null!==(Ea=wa.usermeta&&wa.usermeta.embedOptions)&&void 0!==Ea?Ea:{}}function ya(wa,Ea,Za){var Cb,ub,Yb;void 0===Za&&(Za={});return N(this,void 0,void 0,function(){var $b,Oc,gd,Mc,Nd,od,Id,jd;return x(this,function(Qd){switch(Qd.label){case 0:if(!l.isString(Ea))return[3,2];Oc=ia(Za.loader);Mc=(gd=JSON).parse;return[4,Oc.load(Ea)];case 1:return $b=Mc.apply(gd,[Qd.sent()]),[3,3];case 2:$b=Ea,Qd.label=3;case 3:Nd=aa($b).loader;if(!Oc||Nd)Oc=
ia(null!==(Cb=Za.loader)&&void 0!==Cb?Cb:Nd);return[4,va(aa($b),Oc)];case 4:return od=Qd.sent(),[4,va(Za,Oc)];case 5:return Id=Qd.sent(),jd=Ya(Ya({},P(Id,od)),{config:l.mergeConfig(null!==(ub=Id.config)&&void 0!==ub?ub:{},null!==(Yb=od.config)&&void 0!==Yb?Yb:{})}),[4,bb(wa,$b,jd,Oc)];case 6:return[2,Qd.sent()]}})})}function va(wa,Ea){var Za;return N(this,void 0,void 0,function(){var Cb,ub,Yb,$b,Oc,gd,Mc,Nd;return x(this,function(od){switch(od.label){case 0:if(!l.isString(wa.config))return[3,2];$b=
(Yb=JSON).parse;return[4,Ea.load(wa.config)];case 1:return ub=$b.apply(Yb,[od.sent()]),[3,3];case 2:ub=null!==(Za=wa.config)&&void 0!==Za?Za:{},od.label=3;case 3:Cb=ub;if(!l.isString(wa.patch))return[3,5];Nd=(Mc=JSON).parse;return[4,Ea.load(wa.patch)];case 4:return gd=Nd.apply(Mc,[od.sent()]),[3,6];case 5:gd=wa.patch,od.label=6;case 6:return Oc=gd,[2,Ya(Ya(Ya({},wa),Oc?{patch:Oc}:{}),Cb?{config:Cb}:{})]}})})}function Ia(wa){var Ea;wa=wa.getRootNode?wa.getRootNode():document;return wa instanceof ShadowRoot?
{root:wa,rootContainer:wa}:{root:document,rootContainer:null!==(Ea=document.head)&&void 0!==Ea?Ea:document.body}}function bb(wa,Ea,Za,Cb){var ub,Yb,$b,Oc,gd,Mc;void 0===Za&&(Za={});return N(this,void 0,void 0,function(){function Nd(){Kd&&document.removeEventListener("click",Kd);Tb.finalize()}var od,Id,jd,Qd,ie,Gf,tf,kd,We,uf,mf,Zf,yf,Pe,nf,Aa,Pa,vb,Wb,Tb,ic,oc,fd,Wc,nd,Kd,de,je,Gd,Le,$d,Ie,Ce,Qe,Uf,ne,sf,Cf;return x(this,function(Bg){switch(Bg.label){case 0:od=Za.theme?l.mergeConfig(Td[Za.theme],
null!==(ub=Za.config)&&void 0!==ub?ub:{}):Za.config;Id=l.isBoolean(Za.actions)?Za.actions:P({},Yf,null!==(Yb=Za.actions)&&void 0!==Yb?Yb:{});jd=Ya(Ya({},If),Za.i18n);Qd=null!==($b=Za.renderer)&&void 0!==$b?$b:"canvas";ie=null!==(Oc=Za.logLevel)&&void 0!==Oc?Oc:Fe.Warn;Gf=null!==(gd=Za.downloadFileName)&&void 0!==gd?gd:"visualization";tf="string"===typeof wa?document.querySelector(wa):wa;if(!tf)throw Error(wa+" does not exist");!1!==Za.defaultStyle&&(kd=Ia(tf),We=kd.root,uf=kd.rootContainer,We.getElementById("vega-embed-style")||
(mf=document.createElement("style"),mf.id="vega-embed-style",mf.innerText=void 0===Za.defaultStyle||!0===Za.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Za.defaultStyle,uf.appendChild(mf)));Zf=V(Ea,Za.mode);yf=qe[Zf](Ea,od);"vega-lite"===Zf&&yf.$schema&&(Pe=K(yf.$schema),Be.satisfies(Bf.vega,"^"+Pe.version.slice(1))||console.warn("The compiled spec uses Vega "+Pe.version+", but current version is v"+Bf.vega+"."));tf.classList.add("vega-embed");Id&&tf.classList.add("has-actions");tf.innerHTML="";nf=tf;Id&&(Aa=document.createElement("div"),Aa.classList.add("chart-wrapper"),tf.appendChild(Aa),nf=Aa);(Pa=Za.patch)&&(yf=Pa instanceof Function?Pa(yf):y(yf,
Pa,!0,!1).newDocument);Za.formatLocale&&Fe.formatLocale(Za.formatLocale);Za.timeFormatLocale&&Fe.timeFormatLocale(Za.timeFormatLocale);vb=Za.ast;Wb=Fe.parse(yf,"vega-lite"===Zf?{}:od,{ast:vb});Tb=new Fe.View(Wb,Ya({loader:Cb,logLevel:ie,renderer:Qd},vb?{expr:Fe.expressionInterpreter}:{}));!1!==Za.tooltip&&(ic=void 0,ic="function"===typeof Za.tooltip?Za.tooltip:(new le(!0===Za.tooltip?{}:Za.tooltip)).call,Tb.tooltip(ic));oc=Za.hover;void 0===oc&&(oc="vega"===Zf);oc&&(fd="boolean"===typeof oc?{}:oc,
Wc=fd.hoverSet,nd=fd.updateSet,Tb.hover(Wc,nd));Za&&(null!=Za.width&&Tb.width(Za.width),null!=Za.height&&Tb.height(Za.height),null!=Za.padding&&Tb.padding(Za.padding));return[4,Tb.initialize(nf,Za.bind).runAsync()];case 1:Bg.sent();if(!1!==Id){de=tf;!1!==Za.defaultStyle&&(je=document.createElement("details"),je.title=jd.CLICK_TO_VIEW_ACTIONS,tf.append(je),de=je,Gd=document.createElement("summary"),Gd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
je.append(Gd),Kd=function(Lf){je.contains(Lf.target)||je.removeAttribute("open")},document.addEventListener("click",Kd));Le=document.createElement("div");de.append(Le);Le.classList.add("vega-actions");if(!0===Id||!1!==Id["export"])for($d=function(Lf){if(!0===Id||!0===Id["export"]||Id["export"][Lf]){var jg=jd[Lf.toUpperCase()+"_ACTION"],xa=document.createElement("a");xa.text=jg;xa.href="#";xa.target="_blank";xa.download=Gf+"."+Lf;xa.addEventListener("mousedown",function(za){return N(this,void 0,void 0,
function(){var Na;return x(this,function(Sa){switch(Sa.label){case 0:return za.preventDefault(),[4,Tb.toImageURL(Lf,Za.scaleFactor)];case 1:return this.href=Na=Sa.sent(),[2]}})})});Le.append(xa)}},Ie=0,Ce=["svg","png"];Ie<Ce.length;Ie++)Qe=Ce[Ie],$d(Qe);if(!0===Id||!1!==Id.source)Uf=document.createElement("a"),Uf.text=jd.SOURCE_ACTION,Uf.href="#",Uf.addEventListener("click",function(Lf){var jg,xa;C($a(Ea),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(xa=Za.sourceFooter)&&void 0!==xa?xa:"",
Zf);Lf.preventDefault()}),Le.append(Uf);"vega-lite"!==Zf||!0!==Id&&!1===Id.compiled||(ne=document.createElement("a"),ne.text=jd.COMPILED_ACTION,ne.href="#",ne.addEventListener("click",function(Lf){var jg,xa;C($a(yf),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(xa=Za.sourceFooter)&&void 0!==xa?xa:"","vega");Lf.preventDefault()}),Le.append(ne));if(!0===Id||!1!==Id.editor)sf=null!==(Mc=Za.editorUrl)&&void 0!==Mc?Mc:"https://vega.github.io/editor/",Cf=document.createElement("a"),Cf.text=jd.EDITOR_ACTION,
Cf.href="#",Cf.addEventListener("click",function(Lf){Z(window,sf,{config:od,mode:Zf,renderer:Qd,spec:$a(Ea)});Lf.preventDefault()}),Le.append(Cf)}return[2,{view:Tb,spec:Ea,vgSpec:yf,finalize:Nd}]}})})}function kb(wa,Ea){var Za;void 0===Ea&&(Ea={});return N(this,void 0,void 0,function(){var Cb,ub,Yb,$b;return x(this,function(Oc){switch(Oc.label){case 0:return Cb=document.createElement("div"),Cb.classList.add("vega-embed-wrapper"),ub=document.createElement("div"),Cb.appendChild(ub),Yb=!0===Ea.actions||
!1===Ea.actions?Ea.actions:Ya({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Za=Ea.actions)&&void 0!==Za?Za:{}),[4,ya(ub,wa,Ya({actions:Yb},null!==Ea&&void 0!==Ea?Ea:{}))];case 1:return $b=Oc.sent(),Cb.value=$b.view,[2,Cb]}})})}var ua=H(l),Ta=H(w),Ya=function(){Ya=Object.assign||function(wa){for(var Ea,Za=1,Cb=arguments.length;Za<Cb;Za++){Ea=arguments[Za];for(var ub in Ea)Object.prototype.hasOwnProperty.call(Ea,ub)&&(wa[ub]=Ea[ub])}return wa};return Ya.apply(this,arguments)},Da=function(){var wa=
function(Ea,Za){wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cb,ub){Cb.__proto__=ub}||function(Cb,ub){for(var Yb in ub)ub.hasOwnProperty(Yb)&&(Cb[Yb]=ub[Yb])};return wa(Ea,Za)};return function(Ea,Za){function Cb(){this.constructor=Ea}wa(Ea,Za);Ea.prototype=null===Za?Object.create(Za):(Cb.prototype=Za.prototype,new Cb)}}(),ta=Object.prototype.hasOwnProperty,U=function(wa){function Ea(Za,Cb,ub,Yb,$b){var Oc=this.constructor,gd=wa.call(this,a(Za,{name:Cb,index:ub,operation:Yb,tree:$b}))||
this;gd.name=Cb;gd.index=ub;gd.operation=Yb;gd.tree=$b;Object.setPrototypeOf(gd,Oc.prototype);gd.message=a(Za,{name:Cb,index:ub,operation:Yb,tree:$b});return gd}Da(Ea,wa);return Ea}(Error),W=U,ba={add:function(wa,Ea,Za){wa[Ea]=this.value;return{newDocument:Za}},remove:function(wa,Ea,Za){var Cb=wa[Ea];delete wa[Ea];return{newDocument:Za,removed:Cb}},replace:function(wa,Ea,Za){var Cb=wa[Ea];wa[Ea]=this.value;return{newDocument:Za,removed:Cb}},move:function(wa,Ea,Za){(wa=e(Za,this.path))&&(wa=u(wa));
Ea=n(Za,{op:"remove",path:this.from}).removed;n(Za,{op:"add",path:this.path,value:Ea});return{newDocument:Za,removed:wa}},copy:function(wa,Ea,Za){wa=e(Za,this.from);n(Za,{op:"add",path:this.path,value:u(wa)});return{newDocument:Za}},test:function(wa,Ea,Za){return{newDocument:Za,test:O(wa[Ea],this.value)}},_get:function(wa,Ea,Za){this.value=wa[Ea];return{newDocument:Za}}},ca={add:function(wa,Ea,Za){m(Ea)?wa.splice(Ea,0,this.value):wa[Ea]=this.value;return{newDocument:Za,index:Ea}},remove:function(wa,
Ea,Za){wa=wa.splice(Ea,1);return{newDocument:Za,removed:wa[0]}},replace:function(wa,Ea,Za){var Cb=wa[Ea];wa[Ea]=this.value;return{newDocument:Za,removed:Cb}},move:ba.move,copy:ba.copy,test:ba.test,_get:ba._get},ra=Object.freeze({__proto__:null,JsonPatchError:W,deepClone:u,getValueByPointer:e,applyOperation:n,applyPatch:y,applyReducer:function(wa,Ea,Za){var Cb=n(wa,Ea);if(!1===Cb.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Za,Ea,wa);return Cb.newDocument},validator:B,validate:D,
_areEquals:O}),qa=new WeakMap,Fa=function(){return function(wa){this.observers=new Map;this.obj=wa}}(),na=function(){return function(wa,Ea){this.callback=wa;this.observer=Ea}}(),Ra=Object.freeze({__proto__:null,unobserve:function(wa,Ea){Ea.unobserve()},observe:function(wa,Ea){var Za=qa.get(wa);if(Za){var Cb=Za.observers.get(Ea);var ub=Cb&&Cb.observer}else Za=new Fa(wa),qa.set(wa,Za);if(ub)return ub;ub={};Za.value=u(wa);if(Ea){ub.callback=Ea;ub.next=null;var Yb=function(){M(ub)},$b=function(){clearTimeout(ub.next);
ub.next=setTimeout(Yb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",$b),window.addEventListener("keyup",$b),window.addEventListener("mousedown",$b),window.addEventListener("keydown",$b),window.addEventListener("change",$b))}ub.patches=[];ub.object=wa;ub.unobserve=function(){M(ub);clearTimeout(ub.next);Za.observers.delete(ub.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",$b),window.removeEventListener("keyup",$b),window.removeEventListener("mousedown",
$b),window.removeEventListener("keydown",$b),window.removeEventListener("change",$b))};Za.observers.set(Ea,new na(Ea,ub));return ub},generate:M,compare:function(wa,Ea,Za){void 0===Za&&(Za=!1);var Cb=[];F(wa,Ea,Cb,"",Za);return Cb}});Object.assign({},ra,Ra,{JsonPatchError:U,deepClone:u,escapePathComponent:g,unescapePathComponent:d});var db=/("(?:[^\\"]|\\.)*")|[:,]/g,$a=function(wa,Ea){Ea=Ea||{};var Za=JSON.stringify([1],void 0,void 0===Ea.indent?2:Ea.indent).slice(2,-3);var Cb=""===Za?Infinity:void 0===
Ea.maxLength?80:Ea.maxLength;var ub=Ea.replacer;return function Mc($b,Oc,gd){$b&&"function"===typeof $b.toJSON&&($b=$b.toJSON());var Nd=JSON.stringify($b,ub);if(void 0===Nd)return Nd;gd=Cb-Oc.length-gd;if(Nd.length<=gd){var od=Nd.replace(db,function(We,uf){return uf||We+" "});if(od.length<=gd)return od}null!=ub&&($b=JSON.parse(Nd),ub=void 0);if("object"===typeof $b&&null!==$b){var Id=Oc+Za;var jd=[];var Qd=0;if(Array.isArray($b)){var ie="[";od="]";for(gd=$b.length;Qd<gd;Qd++)jd.push(Mc($b[Qd],Id,
Qd===gd-1?0:1)||"null")}else{ie="{";od="}";var Gf=Object.keys($b);for(gd=Gf.length;Qd<gd;Qd++){var tf=Gf[Qd];var kd=JSON.stringify(tf)+": ";tf=Mc($b[tf],Id,kd.length+(Qd===gd-1?0:1));void 0!==tf&&jd.push(kd+tf)}}if(0<jd.length)return[ie,Za+jd.join(",\n"+Id),od].join("\n"+Oc)}return Nd}(wa,"",0)},Ca={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ga="object"===typeof k&&k.env&&k.env.NODE_DEBUG&&/\bsemver\b/i.test(k.env.NODE_DEBUG)?
(...wa)=>console.error("SEMVER",...wa):()=>{},pa=function(wa){var Ea={exports:{}};return wa(Ea,Ea.exports),Ea.exports}(function(wa,Ea){const {MAX_SAFE_COMPONENT_LENGTH:Za}=Ca;Ea=wa.exports={};const Cb=Ea.re=[],ub=Ea.src=[],Yb=Ea.t={};let $b=0;wa=(Oc,gd,Mc)=>{const Nd=$b++;Ga(Nd,gd);Yb[Oc]=Nd;ub[Nd]=gd;Cb[Nd]=new RegExp(gd,Mc?"g":void 0)};wa("NUMERICIDENTIFIER","0|[1-9]\\d*");wa("NUMERICIDENTIFIERLOOSE","[0-9]+");wa("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");wa("MAINVERSION",`(${ub[Yb.NUMERICIDENTIFIER]})\\.`+
`(${ub[Yb.NUMERICIDENTIFIER]})\\.`+`(${ub[Yb.NUMERICIDENTIFIER]})`);wa("MAINVERSIONLOOSE",`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})`);wa("PRERELEASEIDENTIFIER",`(?:${ub[Yb.NUMERICIDENTIFIER]}|${ub[Yb.NONNUMERICIDENTIFIER]})`);wa("PRERELEASEIDENTIFIERLOOSE",`(?:${ub[Yb.NUMERICIDENTIFIERLOOSE]}|${ub[Yb.NONNUMERICIDENTIFIER]})`);wa("PRERELEASE",`(?:-(${ub[Yb.PRERELEASEIDENTIFIER]}(?:\\.${ub[Yb.PRERELEASEIDENTIFIER]})*))`);wa("PRERELEASELOOSE",
`(?:-?(${ub[Yb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ub[Yb.PRERELEASEIDENTIFIERLOOSE]})*))`);wa("BUILDIDENTIFIER","[0-9A-Za-z-]+");wa("BUILD",`(?:\\+(${ub[Yb.BUILDIDENTIFIER]}(?:\\.${ub[Yb.BUILDIDENTIFIER]})*))`);wa("FULLPLAIN",`v?${ub[Yb.MAINVERSION]}${ub[Yb.PRERELEASE]}?${ub[Yb.BUILD]}?`);wa("FULL",`^${ub[Yb.FULLPLAIN]}$`);wa("LOOSEPLAIN",`[v=\\s]*${ub[Yb.MAINVERSIONLOOSE]}${ub[Yb.PRERELEASELOOSE]}?${ub[Yb.BUILD]}?`);wa("LOOSE",`^${ub[Yb.LOOSEPLAIN]}$`);wa("GTLT","((?:\x3c|\x3e)?\x3d?)");wa("XRANGEIDENTIFIERLOOSE",
`${ub[Yb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);wa("XRANGEIDENTIFIER",`${ub[Yb.NUMERICIDENTIFIER]}|x|X|\\*`);wa("XRANGEPLAIN",`[v=\\s]*(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:${ub[Yb.PRERELEASE]})?${ub[Yb.BUILD]}?`+")?)?");wa("XRANGEPLAINLOOSE",`[v=\\s]*(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:${ub[Yb.PRERELEASELOOSE]})?${ub[Yb.BUILD]}?`+")?)?");wa("XRANGE",
`^${ub[Yb.GTLT]}\\s*${ub[Yb.XRANGEPLAIN]}$`);wa("XRANGELOOSE",`^${ub[Yb.GTLT]}\\s*${ub[Yb.XRANGEPLAINLOOSE]}$`);wa("COERCE",`${"(^|[^\\d])(\\d{1,"}${Za}})`+`(?:\\.(\\d{1,${Za}}))?`+`(?:\\.(\\d{1,${Za}}))?`+"(?:$|[^\\d])");wa("COERCERTL",ub[Yb.COERCE],!0);wa("LONETILDE","(?:~\x3e?)");wa("TILDETRIM",`(\\s*)${ub[Yb.LONETILDE]}\\s+`,!0);Ea.tildeTrimReplace="$1~";wa("TILDE",`^${ub[Yb.LONETILDE]}${ub[Yb.XRANGEPLAIN]}$`);wa("TILDELOOSE",`^${ub[Yb.LONETILDE]}${ub[Yb.XRANGEPLAINLOOSE]}$`);wa("LONECARET","(?:\\^)");
wa("CARETTRIM",`(\\s*)${ub[Yb.LONECARET]}\\s+`,!0);Ea.caretTrimReplace="$1^";wa("CARET",`^${ub[Yb.LONECARET]}${ub[Yb.XRANGEPLAIN]}$`);wa("CARETLOOSE",`^${ub[Yb.LONECARET]}${ub[Yb.XRANGEPLAINLOOSE]}$`);wa("COMPARATORLOOSE",`^${ub[Yb.GTLT]}\\s*(${ub[Yb.LOOSEPLAIN]})$|^$`);wa("COMPARATOR",`^${ub[Yb.GTLT]}\\s*(${ub[Yb.FULLPLAIN]})$|^$`);wa("COMPARATORTRIM",`(\\s*)${ub[Yb.GTLT]}\\s*(${ub[Yb.LOOSEPLAIN]}|${ub[Yb.XRANGEPLAIN]})`,!0);Ea.comparatorTrimReplace="$1$2$3";wa("HYPHENRANGE",`^\\s*(${ub[Yb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${ub[Yb.XRANGEPLAIN]})`+"\\s*$");wa("HYPHENRANGELOOSE",`^\\s*(${ub[Yb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${ub[Yb.XRANGEPLAINLOOSE]})`+"\\s*$");wa("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");wa("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");wa("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const Ha=["includePrerelease","loose","rtl"];var Ua=wa=>wa?"object"!==typeof wa?{loose:!0}:Ha.filter(Ea=>wa[Ea]).reduce((Ea,Za)=>{Ea[Za]=!0;return Ea},{}):{};const jb=/^[0-9]+$/,Fb=(wa,Ea)=>{const Za=jb.test(wa),Cb=jb.test(Ea);
Za&&Cb&&(wa=+wa,Ea=+Ea);return wa===Ea?0:Za&&!Cb?-1:Cb&&!Za?1:wa<Ea?-1:1};var Xb={compareIdentifiers:Fb,rcompareIdentifiers:(wa,Ea)=>Fb(Ea,wa)};const {MAX_LENGTH:nc,MAX_SAFE_INTEGER:md}=Ca,{re:pc,t:Hc}=pa,{compareIdentifiers:mb}=Xb;class hc{constructor(wa,Ea){Ea=Ua(Ea);if(wa instanceof hc){if(wa.loose===!!Ea.loose&&wa.includePrerelease===!!Ea.includePrerelease)return wa;wa=wa.version}else if("string"!==typeof wa)throw new TypeError(`Invalid Version: ${wa}`);if(wa.length>nc)throw new TypeError(`version is longer than ${nc} characters`);
Ga("SemVer",wa,Ea);this.options=Ea;this.loose=!!Ea.loose;this.includePrerelease=!!Ea.includePrerelease;Ea=wa.trim().match(Ea.loose?pc[Hc.LOOSE]:pc[Hc.FULL]);if(!Ea)throw new TypeError(`Invalid Version: ${wa}`);this.raw=wa;this.major=+Ea[1];this.minor=+Ea[2];this.patch=+Ea[3];if(this.major>md||0>this.major)throw new TypeError("Invalid major version");if(this.minor>md||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>md||0>this.patch)throw new TypeError("Invalid patch version");
this.prerelease=Ea[4]?Ea[4].split(".").map(Za=>{if(/^[0-9]+$/.test(Za)){const Cb=+Za;if(0<=Cb&&Cb<md)return Cb}return Za}):[];this.build=Ea[5]?Ea[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(wa){Ga("SemVer.compare",this.version,this.options,wa);if(!(wa instanceof hc)){if("string"===typeof wa&&wa===this.version)return 0;
wa=new hc(wa,this.options)}return wa.version===this.version?0:this.compareMain(wa)||this.comparePre(wa)}compareMain(wa){wa instanceof hc||(wa=new hc(wa,this.options));return mb(this.major,wa.major)||mb(this.minor,wa.minor)||mb(this.patch,wa.patch)}comparePre(wa){wa instanceof hc||(wa=new hc(wa,this.options));if(this.prerelease.length&&!wa.prerelease.length)return-1;if(!this.prerelease.length&&wa.prerelease.length)return 1;if(!this.prerelease.length&&!wa.prerelease.length)return 0;let Ea=0;do{const Za=
this.prerelease[Ea],Cb=wa.prerelease[Ea];Ga("prerelease compare",Ea,Za,Cb);if(void 0===Za&&void 0===Cb)return 0;if(void 0===Cb)return 1;if(void 0===Za)return-1;if(Za!==Cb)return mb(Za,Cb)}while(++Ea)}compareBuild(wa){wa instanceof hc||(wa=new hc(wa,this.options));let Ea=0;do{const Za=this.build[Ea],Cb=wa.build[Ea];Ga("prerelease compare",Ea,Za,Cb);if(void 0===Za&&void 0===Cb)return 0;if(void 0===Cb)return 1;if(void 0===Za)return-1;if(Za!==Cb)return mb(Za,Cb)}while(++Ea)}inc(wa,Ea){switch(wa){case "premajor":this.minor=
this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Ea);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Ea);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Ea);this.inc("pre",Ea);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Ea);this.inc("pre",Ea);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&
0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(wa=this.prerelease.length;0<=--wa;)"number"===typeof this.prerelease[wa]&&(this.prerelease[wa]++,wa=-2);-1===wa&&this.prerelease.push(0)}Ea&&(this.prerelease[0]===Ea?isNaN(this.prerelease[1])&&(this.prerelease=[Ea,0]):this.prerelease=[Ea,0]);break;default:throw Error(`invalid increment argument: ${wa}`);
}this.format();this.raw=this.version;return this}}var jc=hc;const {MAX_LENGTH:rc}=Ca,{re:Pc,t:sc}=pa;var Uc=(wa,Ea)=>{Ea=Ua(Ea);if(wa instanceof jc)return wa;if("string"!==typeof wa||wa.length>rc||!(Ea.loose?Pc[sc.LOOSE]:Pc[sc.FULL]).test(wa))return null;try{return new jc(wa,Ea)}catch(Za){return null}},Sc=(wa,Ea,Za)=>(new jc(wa,Za)).compare(new jc(Ea,Za)),Lc=(wa,Ea,Za)=>{wa=new jc(wa,Za);Ea=new jc(Ea,Za);return wa.compare(Ea)||wa.compareBuild(Ea)},Fd=(wa,Ea,Za)=>0<Sc(wa,Ea,Za),ge=(wa,Ea,Za)=>0>Sc(wa,
Ea,Za),wd=(wa,Ea,Za)=>0<=Sc(wa,Ea,Za),vd=(wa,Ea,Za)=>0>=Sc(wa,Ea,Za),Wd=(wa,Ea,Za,Cb)=>{switch(Ea){case "\x3d\x3d\x3d":return"object"===typeof wa&&(wa=wa.version),"object"===typeof Za&&(Za=Za.version),wa===Za;case "!\x3d\x3d":return"object"===typeof wa&&(wa=wa.version),"object"===typeof Za&&(Za=Za.version),wa!==Za;case "":case "\x3d":case "\x3d\x3d":return 0===Sc(wa,Za,Cb);case "!\x3d":return 0!==Sc(wa,Za,Cb);case "\x3e":return 0<Sc(wa,Za,Cb);case "\x3e\x3d":return 0<=Sc(wa,Za,Cb);case "\x3c":return 0>
Sc(wa,Za,Cb);case "\x3c\x3d":return 0>=Sc(wa,Za,Cb);default:throw new TypeError(`Invalid operator: ${Ea}`);}};const {re:Pb,t:gc}=pa;var Eb=function(wa){wa.prototype[Symbol.iterator]=function*(){for(let Ea=this.head;Ea;Ea=Ea.next)yield Ea.value}};z.Node=G;z.create=z;z.prototype.removeNode=function(wa){if(wa.list!==this)throw Error("removing node which does not belong to this list");var Ea=wa.next,Za=wa.prev;Ea&&(Ea.prev=Za);Za&&(Za.next=Ea);wa===this.head&&(this.head=Ea);wa===this.tail&&(this.tail=
Za);wa.list.length--;wa.next=null;wa.prev=null;wa.list=null;return Ea};z.prototype.unshiftNode=function(wa){if(wa!==this.head){wa.list&&wa.list.removeNode(wa);var Ea=this.head;wa.list=this;if(wa.next=Ea)Ea.prev=wa;this.head=wa;this.tail||(this.tail=wa);this.length++}};z.prototype.pushNode=function(wa){if(wa!==this.tail){wa.list&&wa.list.removeNode(wa);var Ea=this.tail;wa.list=this;if(wa.prev=Ea)Ea.next=wa;this.tail=wa;this.head||(this.head=wa);this.length++}};z.prototype.push=function(){for(var wa=
0,Ea=arguments.length;wa<Ea;wa++)this.tail=new G(arguments[wa],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};z.prototype.unshift=function(){for(var wa=0,Ea=arguments.length;wa<Ea;wa++)this.head=new G(arguments[wa],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};z.prototype.pop=function(){if(this.tail){var wa=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return wa}};z.prototype.shift=
function(){if(this.head){var wa=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return wa}};z.prototype.forEach=function(wa,Ea){Ea=Ea||this;for(var Za=this.head,Cb=0;null!==Za;Cb++)wa.call(Ea,Za.value,Cb,this),Za=Za.next};z.prototype.forEachReverse=function(wa,Ea){Ea=Ea||this;for(var Za=this.tail,Cb=this.length-1;null!==Za;Cb--)wa.call(Ea,Za.value,Cb,this),Za=Za.prev};z.prototype.get=function(wa){for(var Ea=0,Za=this.head;null!==Za&&Ea<wa;Ea++)Za=Za.next;
if(Ea===wa&&null!==Za)return Za.value};z.prototype.getReverse=function(wa){for(var Ea=0,Za=this.tail;null!==Za&&Ea<wa;Ea++)Za=Za.prev;if(Ea===wa&&null!==Za)return Za.value};z.prototype.map=function(wa,Ea){Ea=Ea||this;for(var Za=new z,Cb=this.head;null!==Cb;)Za.push(wa.call(Ea,Cb.value,this)),Cb=Cb.next;return Za};z.prototype.mapReverse=function(wa,Ea){Ea=Ea||this;for(var Za=new z,Cb=this.tail;null!==Cb;)Za.push(wa.call(Ea,Cb.value,this)),Cb=Cb.prev;return Za};z.prototype.reduce=function(wa,Ea){var Za=
this.head;if(1<arguments.length)var Cb=Ea;else if(this.head)Za=this.head.next,Cb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=0;null!==Za;ub++)Cb=wa(Cb,Za.value,ub),Za=Za.next;return Cb};z.prototype.reduceReverse=function(wa,Ea){var Za=this.tail;if(1<arguments.length)var Cb=Ea;else if(this.tail)Za=this.tail.prev,Cb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=this.length-1;null!==Za;ub--)Cb=wa(Cb,
Za.value,ub),Za=Za.prev;return Cb};z.prototype.toArray=function(){for(var wa=Array(this.length),Ea=0,Za=this.head;null!==Za;Ea++)wa[Ea]=Za.value,Za=Za.next;return wa};z.prototype.toArrayReverse=function(){for(var wa=Array(this.length),Ea=0,Za=this.tail;null!==Za;Ea++)wa[Ea]=Za.value,Za=Za.prev;return wa};z.prototype.slice=function(wa,Ea){Ea=Ea||this.length;0>Ea&&(Ea+=this.length);wa=wa||0;0>wa&&(wa+=this.length);var Za=new z;if(Ea<wa||0>Ea)return Za;0>wa&&(wa=0);Ea>this.length&&(Ea=this.length);for(var Cb=
0,ub=this.head;null!==ub&&Cb<wa;Cb++)ub=ub.next;for(;null!==ub&&Cb<Ea;Cb++,ub=ub.next)Za.push(ub.value);return Za};z.prototype.sliceReverse=function(wa,Ea){Ea=Ea||this.length;0>Ea&&(Ea+=this.length);wa=wa||0;0>wa&&(wa+=this.length);var Za=new z;if(Ea<wa||0>Ea)return Za;0>wa&&(wa=0);Ea>this.length&&(Ea=this.length);for(var Cb=this.length,ub=this.tail;null!==ub&&Cb>Ea;Cb--)ub=ub.prev;for(;null!==ub&&Cb>wa;Cb--,ub=ub.prev)Za.push(ub.value);return Za};z.prototype.splice=function(wa,Ea,...Za){wa>this.length&&
(wa=this.length-1);0>wa&&(wa=this.length+wa);for(var Cb=0,ub=this.head;null!==ub&&Cb<wa;Cb++)ub=ub.next;wa=[];for(Cb=0;ub&&Cb<Ea;Cb++)wa.push(ub.value),ub=this.removeNode(ub);null===ub&&(ub=this.tail);ub!==this.head&&ub!==this.tail&&(ub=ub.prev);for(Cb=0;Cb<Za.length;Cb++)Ea=ub,ub=Za[Cb],Ea=Ea===this.head?new G(ub,null,Ea,this):new G(ub,Ea,Ea.next,this),null===Ea.next&&(this.tail=Ea),null===Ea.prev&&(this.head=Ea),this.length++,ub=Ea;return wa};z.prototype.reverse=function(){for(var wa=this.head,
Ea=this.tail,Za=wa;null!==Za;Za=Za.prev){var Cb=Za.prev;Za.prev=Za.next;Za.next=Cb}this.head=Ea;this.tail=wa;return this};try{Eb(z)}catch(wa){}const zc=Symbol("max"),Vc=Symbol("length"),Ed=Symbol("lengthCalculator"),Vd=Symbol("allowStale"),Ka=Symbol("maxAge"),eb=Symbol("dispose"),wb=Symbol("noDisposeOnSet"),Hb=Symbol("lruList"),ac=Symbol("cache"),Lb=Symbol("updateAgeOnGet"),Ac=()=>1;class tc{constructor(wa){"number"===typeof wa&&(wa={max:wa});wa||(wa={});if(wa.max&&("number"!==typeof wa.max||0>wa.max))throw new TypeError("max must be a non-negative number");
this[zc]=wa.max||Infinity;const Ea=wa.length||Ac;this[Ed]="function"!==typeof Ea?Ac:Ea;this[Vd]=wa.stale||!1;if(wa.maxAge&&"number"!==typeof wa.maxAge)throw new TypeError("maxAge must be a number");this[Ka]=wa.maxAge||0;this[eb]=wa.dispose;this[wb]=wa.noDisposeOnSet||!1;this[Lb]=wa.updateAgeOnGet||!1;this.reset()}set max(wa){if("number"!==typeof wa||0>wa)throw new TypeError("max must be a non-negative number");this[zc]=wa||Infinity;Ub(this)}get max(){return this[zc]}set allowStale(wa){this[Vd]=!!wa}get allowStale(){return this[Vd]}set maxAge(wa){if("number"!==
typeof wa)throw new TypeError("maxAge must be a non-negative number");this[Ka]=wa;Ub(this)}get maxAge(){return this[Ka]}set lengthCalculator(wa){"function"!==typeof wa&&(wa=Ac);wa!==this[Ed]&&(this[Ed]=wa,this[Vc]=0,this[Hb].forEach(Ea=>{Ea.length=this[Ed](Ea.value,Ea.key);this[Vc]+=Ea.length}));Ub(this)}get lengthCalculator(){return this[Ed]}get length(){return this[Vc]}get itemCount(){return this[Hb].length}rforEach(wa,Ea){Ea=Ea||this;for(let Za=this[Hb].tail;null!==Za;){const Cb=Za.prev;Cc(this,
wa,Za,Ea);Za=Cb}}forEach(wa,Ea){Ea=Ea||this;for(let Za=this[Hb].head;null!==Za;){const Cb=Za.next;Cc(this,wa,Za,Ea);Za=Cb}}keys(){return this[Hb].toArray().map(wa=>wa.key)}values(){return this[Hb].toArray().map(wa=>wa.value)}reset(){this[eb]&&this[Hb]&&this[Hb].length&&this[Hb].forEach(wa=>this[eb](wa.key,wa.value));this[ac]=new Map;this[Hb]=new z;this[Vc]=0}dump(){return this[Hb].map(wa=>Bb(this,wa)?!1:{k:wa.key,v:wa.value,e:wa.now+(wa.maxAge||0)}).toArray().filter(wa=>wa)}dumpLru(){return this[Hb]}set(wa,
Ea,Za){if((Za=Za||this[Ka])&&"number"!==typeof Za)throw new TypeError("maxAge must be a number");const Cb=Za?Date.now():0,ub=this[Ed](Ea,wa);if(this[ac].has(wa)){if(ub>this[zc])return mc(this,this[ac].get(wa)),!1;const Yb=this[ac].get(wa).value;if(this[eb]&&!this[wb])this[eb](wa,Yb.value);Yb.now=Cb;Yb.maxAge=Za;Yb.value=Ea;this[Vc]+=ub-Yb.length;Yb.length=ub;this.get(wa);Ub(this);return!0}Za=new Bc(wa,Ea,ub,Cb,Za);if(Za.length>this[zc]){if(this[eb])this[eb](wa,Ea);return!1}this[Vc]+=Za.length;this[Hb].unshift(Za);
this[ac].set(wa,this[Hb].head);Ub(this);return!0}has(wa){if(!this[ac].has(wa))return!1;wa=this[ac].get(wa).value;return!Bb(this,wa)}get(wa){return pb(this,wa,!0)}peek(wa){return pb(this,wa,!1)}pop(){const wa=this[Hb].tail;if(!wa)return null;mc(this,wa);return wa.value}del(wa){mc(this,this[ac].get(wa))}load(wa){this.reset();const Ea=Date.now();for(let Cb=wa.length-1;0<=Cb;Cb--){const ub=wa[Cb];var Za=ub.e||0;0===Za?this.set(ub.k,ub.v):(Za-=Ea,0<Za&&this.set(ub.k,ub.v,Za))}}prune(){this[ac].forEach((wa,
Ea)=>pb(this,Ea,!1))}}const pb=(wa,Ea,Za)=>{if(Ea=wa[ac].get(Ea)){const Cb=Ea.value;if(Bb(wa,Cb)){if(mc(wa,Ea),!wa[Vd])return}else Za&&(wa[Lb]&&(Ea.value.now=Date.now()),wa[Hb].unshiftNode(Ea));return Cb.value}},Bb=(wa,Ea)=>{if(!Ea||!Ea.maxAge&&!wa[Ka])return!1;const Za=Date.now()-Ea.now;return Ea.maxAge?Za>Ea.maxAge:wa[Ka]&&Za>wa[Ka]},Ub=wa=>{if(wa[Vc]>wa[zc])for(let Ea=wa[Hb].tail;wa[Vc]>wa[zc]&&null!==Ea;){const Za=Ea.prev;mc(wa,Ea);Ea=Za}},mc=(wa,Ea)=>{if(Ea){const Za=Ea.value;if(wa[eb])wa[eb](Za.key,
Za.value);wa[Vc]-=Za.length;wa[ac].delete(Za.key);wa[Hb].removeNode(Ea)}};class Bc{constructor(wa,Ea,Za,Cb,ub){this.key=wa;this.value=Ea;this.length=Za;this.now=Cb;this.maxAge=ub||0}}const Cc=(wa,Ea,Za,Cb)=>{let ub=Za.value;Bb(wa,ub)&&(mc(wa,Za),wa[Vd]||(ub=void 0));ub&&Ea.call(Cb,ub.value,ub.key,wa)};class Xc{constructor(wa,Ea){Ea=Ua(Ea);if(wa instanceof Xc)return wa.loose===!!Ea.loose&&wa.includePrerelease===!!Ea.includePrerelease?wa:new Xc(wa.raw,Ea);if(wa instanceof he)return this.raw=wa.value,
this.set=[[wa]],this.format(),this;this.options=Ea;this.loose=!!Ea.loose;this.includePrerelease=!!Ea.includePrerelease;this.raw=wa;this.set=wa.split(/\s*\|\|\s*/).map(Za=>this.parseRange(Za.trim())).filter(Za=>Za.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${wa}`);if(1<this.set.length)if(wa=this.set[0],this.set=this.set.filter(Za=>"\x3c0.0.0-0"!==Za[0].value),0===this.set.length)this.set=[wa];else if(1<this.set.length)for(const Za of this.set)if(1===Za.length&&""===Za[0].value){this.set=
[Za];break}this.format()}format(){return this.range=this.set.map(wa=>wa.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(wa){wa=wa.trim();const Ea=`parseRange:${Object.keys(this.options).join(",")}:${wa}`;var Za=Ic.get(Ea);if(Za)return Za;Za=this.options.loose;wa=wa.replace(Za?Dc[uc.HYPHENRANGELOOSE]:Dc[uc.HYPHENRANGE],Ze(this.options.includePrerelease));Ga("hyphen replace",wa);wa=wa.replace(Dc[uc.COMPARATORTRIM],Tc);Ga("comparator trim",wa,Dc[uc.COMPARATORTRIM]);wa=wa.replace(Dc[uc.TILDETRIM],
ad);wa=wa.replace(Dc[uc.CARETTRIM],ld);wa=wa.split(/\s+/).join(" ");const Cb=Za?Dc[uc.COMPARATORLOOSE]:Dc[uc.COMPARATOR];wa=wa.split(" ").map(Yb=>{var $b=Yb;Yb=this.options;Ga("comp",$b,Yb);$b=oe($b,Yb);Ga("caret",$b);$b=Ud($b,Yb);Ga("tildes",$b);$b=fe($b,Yb);Ga("xrange",$b);Ga("replaceStars",$b,Yb);$b=$b.trim().replace(Dc[uc.STAR],"");Ga("stars",$b);return $b}).join(" ").split(/\s+/).map(Yb=>{var $b=this.options;Ga("replaceGTE0",Yb,$b);return Yb.trim().replace(Dc[$b.includePrerelease?uc.GTE0PRE:
uc.GTE0],"")}).filter(this.options.loose?Yb=>!!Yb.match(Cb):()=>!0).map(Yb=>new he(Yb,this.options));wa.length;Za=new Map;for(var ub of wa){if("\x3c0.0.0-0"===ub.value)return[ub];Za.set(ub.value,ub)}1<Za.size&&Za.has("")&&Za.delete("");ub=[...Za.values()];Ic.set(Ea,ub);return ub}intersects(wa,Ea){if(!(wa instanceof Xc))throw new TypeError("a Range is required");return this.set.some(Za=>Cd(Za,Ea)&&wa.set.some(Cb=>Cd(Cb,Ea)&&Za.every(ub=>Cb.every(Yb=>ub.intersects(Yb,Ea)))))}test(wa){if(!wa)return!1;
if("string"===typeof wa)try{wa=new jc(wa,this.options)}catch(Yb){return!1}for(let Yb=0;Yb<this.set.length;Yb++){a:{var Ea=this.set[Yb];var Za=wa,Cb=this.options;for(var ub=0;ub<Ea.length;ub++)if(!Ea[ub].test(Za)){Ea=!1;break a}if(Za.prerelease.length&&!Cb.includePrerelease){for(Cb=0;Cb<Ea.length;Cb++)if(Ga(Ea[Cb].semver),Ea[Cb].semver!==he.ANY&&0<Ea[Cb].semver.prerelease.length&&(ub=Ea[Cb].semver,ub.major===Za.major&&ub.minor===Za.minor&&ub.patch===Za.patch)){Ea=!0;break a}Ea=!1}else Ea=!0}if(Ea)return!0}return!1}}
var Qb=Xc;const Ic=new tc({max:1E3}),{re:Dc,t:uc,comparatorTrimReplace:Tc,tildeTrimReplace:ad,caretTrimReplace:ld}=pa,Cd=(wa,Ea)=>{let Za=!0;wa=wa.slice();let Cb=wa.pop();for(;Za&&wa.length;)Za=wa.every(ub=>Cb.intersects(ub,Ea)),Cb=wa.pop();return Za},Dd=wa=>!wa||"x"===wa.toLowerCase()||"*"===wa,Ud=(wa,Ea)=>wa.trim().split(/\s+/).map(Za=>ae(Za,Ea)).join(" "),ae=(wa,Ea)=>wa.replace(Ea.loose?Dc[uc.TILDELOOSE]:Dc[uc.TILDE],(Za,Cb,ub,Yb,$b)=>{Ga("tilde",wa,Za,Cb,ub,Yb,$b);Dd(Cb)?Za="":Dd(ub)?Za=`>=${Cb}.0.0 <${+Cb+
1}.0.0-0`:Dd(Yb)?Za=`>=${Cb}.${ub}.0 <${Cb}.${+ub+1}.0-0`:$b?(Ga("replaceTilde pr",$b),Za=`>=${Cb}.${ub}.${Yb}-${$b} <${Cb}.${+ub+1}.0-0`):Za=`>=${Cb}.${ub}.${Yb} <${Cb}.${+ub+1}.0-0`;Ga("tilde return",Za);return Za}),oe=(wa,Ea)=>wa.trim().split(/\s+/).map(Za=>De(Za,Ea)).join(" "),De=(wa,Ea)=>{Ga("caret",wa,Ea);const Za=Ea.includePrerelease?"-0":"";return wa.replace(Ea.loose?Dc[uc.CARETLOOSE]:Dc[uc.CARET],(Cb,ub,Yb,$b,Oc)=>{Ga("caret",wa,Cb,ub,Yb,$b,Oc);Dd(ub)?Cb="":Dd(Yb)?Cb=`>=${ub}.0.0${Za} <${+ub+
1}.0.0-0`:Dd($b)?Cb="0"===ub?`>=${ub}.${Yb}.0${Za} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.0${Za} <${+ub+1}.0.0-0`:Oc?(Ga("replaceCaret pr",Oc),Cb="0"===ub?"0"===Yb?`>=${ub}.${Yb}.${$b}-${Oc} <${ub}.${Yb}.${+$b+1}-0`:`>=${ub}.${Yb}.${$b}-${Oc} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.${$b}-${Oc} <${+ub+1}.0.0-0`):(Ga("no pr"),Cb="0"===ub?"0"===Yb?`>=${ub}.${Yb}.${$b}${Za} <${ub}.${Yb}.${+$b+1}-0`:`>=${ub}.${Yb}.${$b}${Za} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.${$b} <${+ub+1}.0.0-0`);Ga("caret return",Cb);return Cb})},
fe=(wa,Ea)=>{Ga("replaceXRanges",wa,Ea);return wa.split(/\s+/).map(Za=>ef(Za,Ea)).join(" ")},ef=(wa,Ea)=>{wa=wa.trim();return wa.replace(Ea.loose?Dc[uc.XRANGELOOSE]:Dc[uc.XRANGE],(Za,Cb,ub,Yb,$b,Oc)=>{Ga("xRange",wa,Za,Cb,ub,Yb,$b,Oc);const gd=Dd(ub),Mc=gd||Dd(Yb);$b=Mc||Dd($b);"\x3d"===Cb&&$b&&(Cb="");Oc=Ea.includePrerelease?"-0":"";gd?Za="\x3e"===Cb||"\x3c"===Cb?"\x3c0.0.0-0":"*":Cb&&$b?(Mc&&(Yb=0),$b=0,"\x3e"===Cb?(Cb="\x3e\x3d",Mc?(ub=+ub+1,Yb=0):Yb=+Yb+1,$b=0):"\x3c\x3d"===Cb&&(Cb="\x3c",Mc?
ub=+ub+1:Yb=+Yb+1),"\x3c"===Cb&&(Oc="-0"),Za=`${Cb+ub}.${Yb}.${$b}${Oc}`):Mc?Za=`>=${ub}.0.0${Oc} <${+ub+1}.0.0-0`:$b&&(Za=`>=${ub}.${Yb}.0${Oc} <${ub}.${+Yb+1}.0-0`);Ga("xRange return",Za);return Za})},Ze=wa=>(Ea,Za,Cb,ub,Yb,$b,Oc,gd,Mc,Nd,od,Id,jd)=>{Za=Dd(Cb)?"":Dd(ub)?`>=${Cb}.0.0${wa?"-0":""}`:Dd(Yb)?`>=${Cb}.${ub}.0${wa?"-0":""}`:$b?`>=${Za}`:`>=${Za}${wa?"-0":""}`;gd=Dd(Mc)?"":Dd(Nd)?`<${+Mc+1}.0.0-0`:Dd(od)?`<${Mc}.${+Nd+1}.0-0`:Id?`<=${Mc}.${Nd}.${od}-${Id}`:wa?`<${Mc}.${Nd}.${+od+1}-0`:
`<=${gd}`;return`${Za} ${gd}`.trim()},df=Symbol("SemVer ANY");class Zd{static get ANY(){return df}constructor(wa,Ea){Ea=Ua(Ea);if(wa instanceof Zd){if(wa.loose===!!Ea.loose)return wa;wa=wa.value}Ga("comparator",wa,Ea);this.options=Ea;this.loose=!!Ea.loose;this.parse(wa);this.value=this.semver===df?"":this.operator+this.semver.version;Ga("comp",this)}parse(wa){const Ea=wa.match(this.options.loose?zf[Ue.COMPARATORLOOSE]:zf[Ue.COMPARATOR]);if(!Ea)throw new TypeError(`Invalid comparator: ${wa}`);this.operator=
void 0!==Ea[1]?Ea[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Ea[2]?new jc(Ea[2],this.options.loose):df}toString(){return this.value}test(wa){Ga("Comparator.test",wa,this.options.loose);if(this.semver===df||wa===df)return!0;if("string"===typeof wa)try{wa=new jc(wa,this.options)}catch(Ea){return!1}return Wd(wa,this.operator,this.semver,this.options)}intersects(wa,Ea){if(!(wa instanceof Zd))throw new TypeError("a Comparator is required");Ea&&"object"===typeof Ea||(Ea={loose:!!Ea,includePrerelease:!1});
if(""===this.operator)return""===this.value?!0:(new Qb(wa.value,Ea)).test(this.value);if(""===wa.operator)return""===wa.value?!0:(new Qb(this.value,Ea)).test(wa.semver);const Za=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===wa.operator||"\x3e"===wa.operator),Cb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===wa.operator||"\x3c"===wa.operator),ub=this.semver.version===wa.semver.version,Yb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===
wa.operator||"\x3c\x3d"===wa.operator),$b=Wd(this.semver,"\x3c",wa.semver,Ea)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===wa.operator||"\x3c"===wa.operator);wa=Wd(this.semver,"\x3e",wa.semver,Ea)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===wa.operator||"\x3e"===wa.operator);return Za||Cb||ub&&Yb||$b||wa}}var he=Zd;const {re:zf,t:Ue}=pa;var Nf=(wa,Ea,Za)=>{try{Ea=new Qb(Ea,Za)}catch(Cb){return!1}return Ea.test(wa)};const {ANY:me}=he;var te=(wa,Ea,Za,
Cb)=>{wa=new jc(wa,Cb);Ea=new Qb(Ea,Cb);let ub,Yb,$b,Oc;switch(Za){case "\x3e":ub=Fd;Za=vd;Yb=ge;$b="\x3e";Oc="\x3e\x3d";break;case "\x3c":ub=ge;Za=wd;Yb=Fd;$b="\x3c";Oc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(Nf(wa,Ea,Cb))return!1;for(let gd=0;gd<Ea.set.length;++gd){let Mc=null,Nd=null;Ea.set[gd].forEach(od=>{od.semver===me&&(od=new he("\x3e\x3d0.0.0"));Mc=Mc||od;Nd=Nd||od;ub(od.semver,Mc.semver,Cb)?Mc=od:Yb(od.semver,Nd.semver,Cb)&&(Nd=od)});
if(Mc.operator===$b||Mc.operator===Oc||(!Nd.operator||Nd.operator===$b)&&Za(wa,Nd.semver)||Nd.operator===Oc&&Yb(wa,Nd.semver))return!1}return!0};const {ANY:kf}=he,we=(wa,Ea,Za)=>{if(wa===Ea)return!0;if(1===wa.length&&wa[0].semver===kf)return 1===Ea.length&&Ea[0].semver===kf;const Cb=new Set;let ub,Yb;for(const Mc of wa)"\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator?ub=Od(ub,Mc,Za):"\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator?Yb=Xd(Yb,Mc,Za):Cb.add(Mc.semver);if(1<Cb.size)return null;let $b;if(ub&&
Yb&&($b=Sc(ub.semver,Yb.semver,Za),0<$b||0===$b&&("\x3e\x3d"!==ub.operator||"\x3c\x3d"!==Yb.operator)))return null;for(const Mc of Cb){if(ub&&!Nf(Mc,String(ub),Za)||Yb&&!Nf(Mc,String(Yb),Za))return null;for(const Nd of Ea)if(!Nf(Mc,String(Nd),Za))return!1;return!0}let Oc,gd;for(const Mc of Ea){gd=gd||"\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator;Oc=Oc||"\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator;if(ub)if("\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator){if(wa=Od(ub,Mc,Za),wa===Mc&&wa!==ub)return!1}else if("\x3e\x3d"===
ub.operator&&!Nf(ub.semver,String(Mc),Za))return!1;if(Yb)if("\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator){if(wa=Xd(Yb,Mc,Za),wa===Mc&&wa!==Yb)return!1}else if("\x3c\x3d"===Yb.operator&&!Nf(Yb.semver,String(Mc),Za))return!1;if(!Mc.operator&&(Yb||ub)&&0!==$b)return!1}return ub&&Oc&&!Yb&&0!==$b||Yb&&gd&&!ub&&0!==$b?!1:!0},Od=(wa,Ea,Za)=>{if(!wa)return Ea;Za=Sc(wa.semver,Ea.semver,Za);return 0<Za?wa:0>Za?Ea:"\x3e"===Ea.operator&&"\x3e\x3d"===wa.operator?Ea:wa},Xd=(wa,Ea,Za)=>{if(!wa)return Ea;Za=Sc(wa.semver,
Ea.semver,Za);return 0>Za?wa:0<Za?Ea:"\x3c"===Ea.operator&&"\x3c\x3d"===wa.operator?Ea:wa};var Be={re:pa.re,src:pa.src,tokens:pa.t,SEMVER_SPEC_VERSION:Ca.SEMVER_SPEC_VERSION,SemVer:jc,compareIdentifiers:Xb.compareIdentifiers,rcompareIdentifiers:Xb.rcompareIdentifiers,parse:Uc,valid:(wa,Ea)=>(wa=Uc(wa,Ea))?wa.version:null,clean:(wa,Ea)=>(wa=Uc(wa.trim().replace(/^[=v]+/,""),Ea))?wa.version:null,inc:(wa,Ea,Za,Cb)=>{"string"===typeof Za&&(Cb=Za,Za=void 0);try{return(new jc(wa,Za)).inc(Ea,Cb).version}catch(ub){return null}},
diff:(wa,Ea)=>{if(0===Sc(wa,Ea,void 0))return null;{wa=Uc(wa);Ea=Uc(Ea);var Za=wa.prerelease.length||Ea.prerelease.length;const Cb=Za?"pre":"";Za=Za?"prerelease":"";for(const ub in wa)if(("major"===ub||"minor"===ub||"patch"===ub)&&wa[ub]!==Ea[ub])return Cb+ub;return Za}},major:(wa,Ea)=>(new jc(wa,Ea)).major,minor:(wa,Ea)=>(new jc(wa,Ea)).minor,patch:(wa,Ea)=>(new jc(wa,Ea)).patch,prerelease:(wa,Ea)=>(wa=Uc(wa,Ea))&&wa.prerelease.length?wa.prerelease:null,compare:Sc,rcompare:(wa,Ea,Za)=>Sc(Ea,wa,Za),
compareLoose:(wa,Ea)=>Sc(wa,Ea,!0),compareBuild:Lc,sort:(wa,Ea)=>wa.sort((Za,Cb)=>Lc(Za,Cb,Ea)),rsort:(wa,Ea)=>wa.sort((Za,Cb)=>Lc(Cb,Za,Ea)),gt:Fd,lt:ge,eq:(wa,Ea,Za)=>0===Sc(wa,Ea,Za),neq:(wa,Ea,Za)=>0!==Sc(wa,Ea,Za),gte:wd,lte:vd,cmp:Wd,coerce:(wa,Ea)=>{if(wa instanceof jc)return wa;"number"===typeof wa&&(wa=String(wa));if("string"!==typeof wa)return null;Ea=Ea||{};let Za=null;if(Ea.rtl){let Cb;for(;(Cb=Pb[gc.COERCERTL].exec(wa))&&(!Za||Za.index+Za[0].length!==wa.length);)Za&&Cb.index+Cb[0].length===
Za.index+Za[0].length||(Za=Cb),Pb[gc.COERCERTL].lastIndex=Cb.index+Cb[1].length+Cb[2].length;Pb[gc.COERCERTL].lastIndex=-1}else Za=wa.match(Pb[gc.COERCE]);return null===Za?null:Uc(`${Za[2]}.${Za[3]||"0"}.${Za[4]||"0"}`,Ea)},Comparator:he,Range:Qb,satisfies:Nf,toComparators:(wa,Ea)=>(new Qb(wa,Ea)).set.map(Za=>Za.map(Cb=>Cb.value).join(" ").trim().split(" ")),maxSatisfying:(wa,Ea,Za)=>{let Cb=null,ub=null,Yb=null;try{Yb=new Qb(Ea,Za)}catch($b){return null}wa.forEach($b=>{!Yb.test($b)||Cb&&-1!==ub.compare($b)||
(Cb=$b,ub=new jc(Cb,Za))});return Cb},minSatisfying:(wa,Ea,Za)=>{let Cb=null,ub=null,Yb=null;try{Yb=new Qb(Ea,Za)}catch($b){return null}wa.forEach($b=>{!Yb.test($b)||Cb&&1!==ub.compare($b)||(Cb=$b,ub=new jc(Cb,Za))});return Cb},minVersion:(wa,Ea)=>{wa=new Qb(wa,Ea);Ea=new jc("0.0.0");if(wa.test(Ea))return Ea;Ea=new jc("0.0.0-0");if(wa.test(Ea))return Ea;Ea=null;for(let Za=0;Za<wa.set.length;++Za){let Cb=null;wa.set[Za].forEach(ub=>{const Yb=new jc(ub.semver.version);switch(ub.operator){case "\x3e":0===
Yb.prerelease.length?Yb.patch++:Yb.prerelease.push(0),Yb.raw=Yb.format();case "":case "\x3e\x3d":if(!Cb||0<Sc(Yb,Cb,void 0))Cb=Yb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${ub.operator}`);}});!Cb||Ea&&!(0<Sc(Ea,Cb,void 0))||(Ea=Cb)}return Ea&&wa.test(Ea)?Ea:null},validRange:(wa,Ea)=>{try{return(new Qb(wa,Ea)).range||"*"}catch(Za){return null}},outside:te,gtr:(wa,Ea,Za)=>te(wa,Ea,"\x3e",Za),ltr:(wa,Ea,Za)=>te(wa,Ea,"\x3c",Za),intersects:(wa,Ea,Za)=>{wa=new Qb(wa,
Za);Ea=new Qb(Ea,Za);return wa.intersects(Ea)},simplifyRange:(wa,Ea,Za)=>{var Cb=[],ub=null;let Yb=null;wa=wa.sort(($b,Oc)=>Sc($b,Oc,Za));for(const $b of wa)Nf($b,Ea,Za)?(Yb=$b,ub||(ub=$b)):(Yb&&Cb.push([ub,Yb]),ub=Yb=null);ub&&Cb.push([ub,null]);ub=[];for(const [$b,Oc]of Cb)$b===Oc?ub.push($b):Oc||$b!==wa[0]?Oc?$b===wa[0]?ub.push(`<=${Oc}`):ub.push(`${$b} - ${Oc}`):ub.push(`>=${$b}`):ub.push("*");Cb=ub.join(" || ");return Cb.length<("string"===typeof Ea.raw?Ea.raw:String(Ea)).length?Cb:Ea},subset:(wa,
Ea,Za)=>{if(wa===Ea)return!0;wa=new Qb(wa,Za);Ea=new Qb(Ea,Za);let Cb=!1;a:for(const ub of wa.set){for(const Yb of Ea.set)if(wa=we(ub,Yb,Za),Cb=Cb||null!==wa,wa)continue a;if(Cb)return!1}return!0}};const jf={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Ge={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Td=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},
rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",
grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:jf["category-6"],diverging:jf["fireandice-6"],heatmap:jf["fire-7"],ordinal:jf["fire-7"],ramp:jf["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Ge["six-groups-cat-1"],diverging:Ge["diverging-colors"],heatmap:Ge["diverging-colors"],ordinal:Ge["six-groups-seq"],ramp:Ge["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Ye=wa=>function(Ea){return Ea[wa]},Xf=wa=>{const Ea=wa.length;return function(Za){for(let Cb=0;Cb<Ea;++Cb)Za=Za[wa[Cb]];return Za}};(function(wa,Ea,Za){const Cb=ja(wa);wa=1===Cb.length?Cb[0]:wa;return R((Za&&Za.get||T)(Cb),[wa],Ea||wa)})("id");R(wa=>wa,[],"identity");R(()=>0,[],"zero");
R(()=>1,[],"one");R(()=>!0,[],"true");R(()=>!1,[],"false");var Gc=Array.isArray;const xe={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(wa){return String(wa).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class le{constructor(wa){this.options=Object.assign(Object.assign({},xe),wa);var Ea=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){wa=
document.createElement("style");wa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Ea))throw Error("Invalid HTML ID");Ea="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
Ea);wa.innerHTML=Ea;Ea=document.head;0<Ea.childNodes.length?Ea.insertBefore(wa,Ea.childNodes[0]):Ea.appendChild(wa)}}tooltipHandler(wa,Ea,Za,Cb){this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el);if(null==Cb||""===Cb)this.el.classList.remove("visible",
`${this.options.theme}-theme`);else{this.el.innerHTML=ha(Cb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",`${this.options.theme}-theme`);wa=this.el.getBoundingClientRect();var ub=this.options.offsetX;Za=this.options.offsetY;Cb=Ea.clientX+ub;Cb+wa.width>window.innerWidth&&(Cb=+Ea.clientX-ub-wa.width);ub=Ea.clientY+Za;ub+wa.height>window.innerHeight&&(ub=+Ea.clientY-Za-wa.height);Ea={x:Cb,y:ub};var {x:Yb,y:$b}=Ea;this.el.setAttribute("style",`top: ${$b}px; left: ${Yb}px`)}}}
String.prototype.startsWith||(String.prototype.startsWith=function(wa,Ea){return this.substr(!Ea||0>Ea?0:+Ea,wa.length)===wa});var kc,Fe=ua,ue=Ta,lf="undefined"!==typeof window?window:void 0;void 0===ue&&(null===(kc=null===lf||void 0===lf?void 0:lf.vl)||void 0===kc?0:kc.compile)&&(ue=lf.vl);var Yf={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},If={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Sf={vega:"Vega","vega-lite":"Vega-Lite"},Bf={vega:Fe.version,"vega-lite":ue?ue.version:"not available"},qe={vega:function(wa){return wa},"vega-lite":function(wa,Ea){return ue.compile(wa,{config:Ea}).spec}},yc=function(){for(var wa=[],Ea=0;Ea<arguments.length;Ea++)wa[Ea]=arguments[Ea];if(Ea=1<wa.length){if(Ea=l.isString(wa[0]))Ea=wa[0],Ea=!(Ea.startsWith("http://")||Ea.startsWith("https://")||Ea.startsWith("//"));Ea=Ea||wa[0]instanceof HTMLElement||
3===wa.length}return Ea?ya(wa[0],wa[1],wa[2]):kb(wa[0],wa[1])};yc.vegaLite=ue;yc.vl=ue;yc.container=kb;yc.embed=ya;yc.vega=Fe;yc["default"]=ya;yc.version="6.15.1";return yc})};
shadow$provide[67]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=l():"function"===typeof define&&define.amd?define(l):(k=k||self,k.CodeMirror=l())})(this,function(){function k(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function l(b){for(var p=b.childNodes.length;0<p;--p)b.removeChild(b.firstChild);return b}function w(b,p){return l(b).appendChild(p)}function H(b,p,X,S){b=document.createElement(b);X&&(b.className=X);S&&(b.style.cssText=S);if("string"==
typeof p)b.appendChild(document.createTextNode(p));else if(p)for(X=0;X<p.length;++X)b.appendChild(p[X]);return b}function N(b,p,X,S){b=H(b,p,X,S);b.setAttribute("role","presentation");return b}function x(b,p){3==p.nodeType&&(p=p.parentNode);if(b.contains)return b.contains(p);do if(11==p.nodeType&&(p=p.host),p==b)return!0;while(p=p.parentNode)}function v(){try{var b=document.activeElement}catch(p){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function u(b,p){var X=b.className;k(p).test(X)||(b.className+=(X?" ":"")+p)}function m(b,p){b=b.split(" ");for(var X=0;X<b.length;X++)b[X]&&!k(b[X]).test(p)&&(p+=" "+b[X]);return p}function g(b){var p=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,p)}}function d(b,p,X){p||(p={});for(var S in b)!b.hasOwnProperty(S)||!1===X&&p.hasOwnProperty(S)||(p[S]=b[S]);return p}function f(b,p,X,S,ea){null==p&&(p=b.search(/[^\s\u00a0]/),-1==p&&(p=b.length));S=S||0;for(ea=
ea||0;;){var La=b.indexOf("\t",S);if(0>La||La>=p)return ea+(p-S);ea+=La-S;ea+=X-ea%X;S=La+1}}function a(b,p){for(var X=0;X<b.length;++X)if(b[X]==p)return X;return-1}function e(b,p,X){for(var S=0,ea=0;;){var La=b.indexOf("\t",S);-1==La&&(La=b.length);var Xa=La-S;if(La==b.length||ea+Xa>=p)return S+Math.min(Xa,p-ea);ea+=La-S;ea+=X-ea%X;S=La+1;if(ea>=p)return S}}function n(b){for(;Li.length<=b;)Li.push(y(Li)+" ");return Li[b]}function y(b){return b[b.length-1]}function B(b,p){for(var X=[],S=0;S<b.length;S++)X[S]=
p(b[S],S);return X}function D(b,p,X){for(var S=0,ea=X(p);S<b.length&&X(b[S])<=ea;)S++;b.splice(S,0,p)}function O(){}function M(b,p){Object.create?b=Object.create(b):(O.prototype=b,b=new O);p&&d(p,b);return b}function F(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||Xi.test(b))}function z(b,p){return p?-1<p.source.indexOf("\\w")&&F(b)?!0:p.test(b):F(b)}function G(b){for(var p in b)if(b.hasOwnProperty(p)&&b[p])return!1;return!0}function K(b){return 768<=b.charCodeAt(0)&&fi.test(b)}
function R(b,p,X){for(;(0>X?0<p:p<b.length)&&K(b.charAt(p));)p+=X;return p}function T(b,p,X){for(var S=p>X?-1:1;;){if(p==X)return p;var ea=(p+X)/2;ea=0>S?Math.ceil(ea):Math.floor(ea);if(ea==p)return b(ea)?p:X;b(ea)?X=ea:p=ea+S}}function ja(b,p,X,S){if(!b)return S(p,X,"ltr",0);for(var ea=!1,La=0;La<b.length;++La){var Xa=b[La];if(Xa.from<X&&Xa.to>p||p==X&&Xa.to==p)S(Math.max(Xa.from,p),Math.min(Xa.to,X),1==Xa.level?"rtl":"ltr",La),ea=!0}ea||S(p,X,"ltr")}function fa(b,p,X){var S;Wh=null;for(var ea=0;ea<
b.length;++ea){var La=b[ea];if(La.from<p&&La.to>p)return ea;La.to==p&&(La.from!=La.to&&"before"==X?S=ea:Wh=ea);La.from==p&&(La.from!=La.to&&"before"!=X?S=ea:Wh=ea)}return null!=S?S:Wh}function ha(b,p){var X=b.order;null==X&&(X=b.order=Hh(b.text,p));return X}function la(b,p,X){if(b.removeEventListener)b.removeEventListener(p,X,!1);else if(b.detachEvent)b.detachEvent("on"+p,X);else{var S=(b=b._handlers)&&b[p];S&&(X=a(S,X),-1<X&&(b[p]=S.slice(0,X).concat(S.slice(X+1))))}}function Z(b,p){var X=b._handlers&&
b._handlers[p]||gi;if(X.length)for(var S=Array.prototype.slice.call(arguments,2),ea=0;ea<X.length;++ea)X[ea].apply(null,S)}function P(b,p,X){"string"==typeof p&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}});Z(b,X||p.type,b,p);return va(p)||p.codemirrorIgnore}function C(b){var p=b._handlers&&b._handlers.cursorActivity;if(p){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var X=0;X<p.length;++X)-1==a(b,p[X])&&b.push(p[X])}}function V(b,p){return 0<(b._handlers&&
b._handlers[p]||gi).length}function ia(b){b.prototype.on=function(p,X){Te(this,p,X)};b.prototype.off=function(p,X){la(this,p,X)}}function aa(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function ya(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function va(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Ia(b){aa(b);ya(b)}function bb(b){var p=b.which;null==p&&(b.button&1?p=1:b.button&2?p=3:b.button&4&&(p=2));dh&&b.ctrlKey&&1==p&&(p=3);return p}
function kb(b){if(null==ih){var p=H("span","​");w(b,H("span",[p,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(ih=1>=p.offsetWidth&&2<p.offsetHeight&&!(wf&&8>Ff))}b=ih?H("span","​"):H("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function ua(b,p){2<arguments.length&&(p.dependencies=Array.prototype.slice.call(arguments,2));Kh[b]=p}function Ta(b){if("string"==typeof b&&ti.hasOwnProperty(b))b=ti[b];else if(b&&"string"==
typeof b.name&&ti.hasOwnProperty(b.name)){var p=ti[b.name];"string"==typeof p&&(p={name:p});b=M(p,b);b.name=p.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Ta("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Ta("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Ya(b,p){p=Ta(p);var X=Kh[p.name];if(!X)return Ya(b,"text/plain");b=X(b,p);if(jh.hasOwnProperty(p.name)){X=jh[p.name];for(var S in X)X.hasOwnProperty(S)&&
(b.hasOwnProperty(S)&&(b["_"+S]=b[S]),b[S]=X[S])}b.name=p.name;p.helperType&&(b.helperType=p.helperType);if(p.modeProps)for(var ea in p.modeProps)b[ea]=p.modeProps[ea];return b}function Da(b,p){b=jh.hasOwnProperty(b)?jh[b]:jh[b]={};d(p,b)}function ta(b,p){if(!0===p)return p;if(b.copyState)return b.copyState(p);b={};for(var X in p){var S=p[X];S instanceof Array&&(S=S.concat([]));b[X]=S}return b}function U(b,p){for(var X;b.innerMode;){X=b.innerMode(p);if(!X||X.mode==b)break;p=X.state;b=X.mode}return X||
{mode:b,state:p}}function W(b,p,X){return b.startState?b.startState(p,X):!0}function ba(b,p){p-=b.first;if(0>p||p>=b.size)throw Error("There is no line "+(p+b.first)+" in the document.");for(;!b.lines;)for(var X=0;;++X){var S=b.children[X],ea=S.chunkSize();if(p<ea){b=S;break}p-=ea}return b.lines[p]}function ca(b,p,X){var S=[],ea=p.line;b.iter(p.line,X.line+1,function(La){La=La.text;ea==X.line&&(La=La.slice(0,X.ch));ea==p.line&&(La=La.slice(p.ch));S.push(La);++ea});return S}function ra(b,p,X){var S=
[];b.iter(p,X,function(ea){S.push(ea.text)});return S}function qa(b,p){if(p-=b.height)for(;b;b=b.parent)b.height+=p}function Fa(b){if(null==b.parent)return null;var p=b.parent;b=a(p.lines,b);for(var X=p.parent;X;p=X,X=X.parent)for(var S=0;X.children[S]!=p;++S)b+=X.children[S].chunkSize();return b+p.first}function na(b,p){var X=b.first;a:do{for(var S=0;S<b.children.length;++S){var ea=b.children[S],La=ea.height;if(p<La){b=ea;continue a}p-=La;X+=ea.chunkSize()}return X}while(!b.lines);for(S=0;S<b.lines.length;++S){ea=
b.lines[S].height;if(p<ea)break;p-=ea}return X+S}function Ra(b,p){return p>=b.first&&p<b.first+b.size}function db(b,p){return String(b.lineNumberFormatter(p+b.firstLineNumber))}function $a(b,p,X){void 0===X&&(X=null);if(!(this instanceof $a))return new $a(b,p,X);this.line=b;this.ch=p;this.sticky=X}function Ca(b,p){return b.line-p.line||b.ch-p.ch}function Ga(b,p){return b.sticky==p.sticky&&0==Ca(b,p)}function pa(b){return $a(b.line,b.ch)}function Ha(b,p){return 0>Ca(b,p)?p:b}function Ua(b,p){return 0>
Ca(b,p)?b:p}function jb(b,p){if(p.line<b.first)return $a(b.first,0);var X=b.first+b.size-1;if(p.line>X)return $a(X,ba(b,X).text.length);b=ba(b,p.line).text.length;X=p.ch;p=null==X||X>b?$a(p.line,b):0>X?$a(p.line,0):p;return p}function Fb(b,p){for(var X=[],S=0;S<p.length;S++)X[S]=jb(b,p[S]);return X}function Xb(b,p,X,S){var ea=[b.state.modeGen],La={};rc(b,p.text,b.doc.mode,X,function(tb,Ib){return ea.push(tb,Ib)},La,S);var Xa=X.state;S=function(tb){X.baseTokens=ea;var Ib=b.state.overlays[tb],dc=1,
Rc=0;X.state=!0;rc(b,p.text,Ib.mode,X,function(vc,wc){for(var td=dc;Rc<vc;){var ce=ea[dc];ce>vc&&ea.splice(dc,1,vc,ea[dc+1],ce);dc+=2;Rc=Math.min(vc,ce)}if(wc)if(Ib.opaque)ea.splice(td,dc-td,vc,"overlay "+wc),dc=td+2;else for(;td<dc;td+=2)vc=ea[td+1],ea[td+1]=(vc?vc+" ":"")+"overlay "+wc},La);X.state=Xa;X.baseTokens=null;X.baseTokenPos=1};for(var ab=0;ab<b.state.overlays.length;++ab)S(ab);return{styles:ea,classes:La.bgClass||La.textClass?La:null}}function nc(b,p,X){if(!p.styles||p.styles[0]!=b.state.modeGen){var S=
md(b,Fa(p)),ea=p.text.length>b.options.maxHighlightLength&&ta(b.doc.mode,S.state),La=Xb(b,p,S);ea&&(S.state=ea);p.stateAfter=S.save(!ea);p.styles=La.styles;La.classes?p.styleClasses=La.classes:p.styleClasses&&(p.styleClasses=null);X===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return p.styles}function md(b,p,X){var S=b.doc,ea=b.display;if(!S.mode.startState)return new xh(S,!0,p);var La=Pc(b,p,X),Xa=La>S.first&&ba(S,La-1).stateAfter,ab=Xa?xh.fromSaved(S,
Xa,La):new xh(S,W(S.mode),La);S.iter(La,p,function(tb){pc(b,tb.text,ab);var Ib=ab.line;tb.stateAfter=Ib==p-1||0==Ib%5||Ib>=ea.viewFrom&&Ib<ea.viewTo?ab.save():null;ab.nextLine()});X&&(S.modeFrontier=ab.line);return ab}function pc(b,p,X,S){var ea=b.doc.mode;b=new kg(p,b.options.tabSize,X);b.start=b.pos=S||0;for(""==p&&Hc(ea,X.state);!b.eol();)mb(ea,b,X.state),b.start=b.pos}function Hc(b,p){if(b.blankLine)return b.blankLine(p);if(b.innerMode&&(b=U(b,p),b.mode.blankLine))return b.mode.blankLine(b.state)}
function mb(b,p,X,S){for(var ea=0;10>ea;ea++){S&&(S[0]=U(b,X).mode);var La=b.token(p,X);if(p.pos>p.start)return La}throw Error("Mode "+b.name+" failed to advance stream.");}function hc(b,p,X,S){var ea=b.doc,La=ea.mode;p=jb(ea,p);var Xa=ba(ea,p.line);X=md(b,p.line,X);b=new kg(Xa.text,b.options.tabSize,X);var ab;for(S&&(ab=[]);(S||b.pos<p.ch)&&!b.eol();){b.start=b.pos;var tb=mb(La,b,X.state);S&&ab.push(new Cj(b,tb,ta(ea.mode,X.state)))}return S?ab:new Cj(b,tb,X.state)}function jc(b,p){if(b)for(;;){var X=
b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!X)break;b=b.slice(0,X.index)+b.slice(X.index+X[0].length);var S=X[1]?"bgClass":"textClass";null==p[S]?p[S]=X[2]:(new RegExp("(?:^|\\s)"+X[2]+"(?:$|\\s)")).test(p[S])||(p[S]+=" "+X[2])}return b}function rc(b,p,X,S,ea,La,Xa){var ab=X.flattenSpans;null==ab&&(ab=b.options.flattenSpans);var tb=0,Ib=null,dc=new kg(p,b.options.tabSize,S),Rc=b.options.addModeClass&&[null];for(""==p&&jc(Hc(X,S.state),La);!dc.eol();){if(dc.pos>b.options.maxHighlightLength){ab=
!1;Xa&&pc(b,p,S,dc.pos);dc.pos=p.length;var vc=null}else vc=jc(mb(X,dc,S.state,Rc),La);if(Rc){var wc=Rc[0].name;wc&&(vc="m-"+(vc?wc+" "+vc:wc))}if(!ab||Ib!=vc){for(;tb<dc.start;)tb=Math.min(dc.start,tb+5E3),ea(tb,Ib);Ib=vc}dc.start=dc.pos}for(;tb<dc.pos;)b=Math.min(dc.pos,tb+5E3),ea(b,Ib),tb=b}function Pc(b,p,X){for(var S,ea,La=b.doc,Xa=X?-1:p-(b.doc.mode.innerMode?1E3:100);p>Xa;--p){if(p<=La.first)return La.first;var ab=ba(La,p-1),tb=ab.stateAfter;if(tb&&(!X||p+(tb instanceof Ji?tb.lookAhead:0)<=
La.modeFrontier))return p;ab=f(ab.text,null,b.options.tabSize);if(null==ea||S>ab)ea=p-1,S=ab}return ea}function sc(b,p){b.modeFrontier=Math.min(b.modeFrontier,p);if(!(b.highlightFrontier<p-10)){for(var X=b.first,S=p-1;S>X;S--){var ea=ba(b,S).stateAfter;if(ea&&(!(ea instanceof Ji)||S+ea.lookAhead<p)){X=S+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,X)}}function Uc(b,p,X){this.marker=b;this.from=p;this.to=X}function Sc(b,p){if(b)for(var X=0;X<b.length;++X){var S=b[X];if(S.marker==p)return S}}
function Lc(b,p){if(p.full)return null;var X=Ra(b,p.from.line)&&ba(b,p.from.line).markedSpans,S=Ra(b,p.to.line)&&ba(b,p.to.line).markedSpans;if(!X&&!S)return null;b=p.from.ch;var ea=p.to.ch,La=0==Ca(p.from,p.to),Xa;if(X)for(var ab=0;ab<X.length;++ab){var tb=X[ab],Ib=tb.marker;if(null==tb.from||(Ib.inclusiveLeft?tb.from<=b:tb.from<b)||!(tb.from!=b||"bookmark"!=Ib.type||La&&tb.marker.insertLeft)){var dc=null==tb.to||(Ib.inclusiveRight?tb.to>=b:tb.to>b);(Xa||(Xa=[])).push(new Uc(Ib,tb.from,dc?null:tb.to))}}X=
Xa;var Rc;if(S)for(Xa=0;Xa<S.length;++Xa)if(ab=S[Xa],tb=ab.marker,null==ab.to||(tb.inclusiveRight?ab.to>=ea:ab.to>ea)||ab.from==ea&&"bookmark"==tb.type&&(!La||ab.marker.insertLeft))Ib=null==ab.from||(tb.inclusiveLeft?ab.from<=ea:ab.from<ea),(Rc||(Rc=[])).push(new Uc(tb,Ib?null:ab.from-ea,null==ab.to?null:ab.to-ea));S=1==p.text.length;ea=y(p.text).length+(S?b:0);if(X)for(La=0;La<X.length;++La)if(Xa=X[La],null==Xa.to)(ab=Sc(Rc,Xa.marker),ab)?S&&(Xa.to=null==ab.to?null:ab.to+ea):Xa.to=b;if(Rc)for(b=
0;b<Rc.length;++b)La=Rc[b],null!=La.to&&(La.to+=ea),null==La.from?Sc(X,La.marker)||(La.from=ea,S&&(X||(X=[])).push(La)):(La.from+=ea,S&&(X||(X=[])).push(La));X&&(X=Fd(X));Rc&&Rc!=X&&(Rc=Fd(Rc));b=[X];if(!S){p=p.text.length-2;var vc;if(0<p&&X)for(S=0;S<X.length;++S)null==X[S].to&&(vc||(vc=[])).push(new Uc(X[S].marker,null,null));for(X=0;X<p;++X)b.push(vc);b.push(Rc)}return b}function Fd(b){for(var p=0;p<b.length;++p){var X=b[p];null!=X.from&&X.from==X.to&&!1!==X.marker.clearWhenEmpty&&b.splice(p--,
1)}return b.length?b:null}function ge(b,p,X){var S=null;b.iter(p.line,X.line+1,function(dc){if(dc.markedSpans)for(var Rc=0;Rc<dc.markedSpans.length;++Rc){var vc=dc.markedSpans[Rc].marker;!vc.readOnly||S&&-1!=a(S,vc)||(S||(S=[])).push(vc)}});if(!S)return null;b=[{from:p,to:X}];for(p=0;p<S.length;++p){X=S[p];for(var ea=X.find(0),La=0;La<b.length;++La){var Xa=b[La];if(!(0>Ca(Xa.to,ea.from)||0<Ca(Xa.from,ea.to))){var ab=[La,1],tb=Ca(Xa.from,ea.from),Ib=Ca(Xa.to,ea.to);(0>tb||!X.inclusiveLeft&&!tb)&&ab.push({from:Xa.from,
to:ea.from});(0<Ib||!X.inclusiveRight&&!Ib)&&ab.push({from:ea.to,to:Xa.to});b.splice.apply(b,ab);La+=ab.length-3}}}return b}function wd(b){var p=b.markedSpans;if(p){for(var X=0;X<p.length;++X)p[X].marker.detachLine(b);b.markedSpans=null}}function vd(b,p){if(p){for(var X=0;X<p.length;++X)p[X].marker.attachLine(b);b.markedSpans=p}}function Wd(b,p){var X=b.lines.length-p.lines.length;if(0!=X)return X;X=b.find();var S=p.find(),ea=Ca(X.from,S.from)||(b.inclusiveLeft?-1:0)-(p.inclusiveLeft?-1:0);return ea?
-ea:(X=Ca(X.to,S.to)||(b.inclusiveRight?1:0)-(p.inclusiveRight?1:0))?X:p.id-b.id}function Pb(b,p){b=Ph&&b.markedSpans;if(b)for(var X,S=0;S<b.length;++S)if(X=b[S],X.marker.collapsed&&null==(p?X.from:X.to)&&(!ea||0>Wd(ea,X.marker)))var ea=X.marker;return ea}function gc(b,p,X,S,ea){b=ba(b,p);if(b=Ph&&b.markedSpans)for(p=0;p<b.length;++p){var La=b[p];if(La.marker.collapsed){var Xa=La.marker.find(0),ab=Ca(Xa.from,X)||(La.marker.inclusiveLeft?-1:0)-(ea.inclusiveLeft?-1:0),tb=Ca(Xa.to,S)||(La.marker.inclusiveRight?
1:0)-(ea.inclusiveRight?1:0);if(!(0<=ab&&0>=tb||0>=ab&&0<=tb)&&(0>=ab&&(La.marker.inclusiveRight&&ea.inclusiveLeft?0<=Ca(Xa.to,X):0<Ca(Xa.to,X))||0<=ab&&(La.marker.inclusiveRight&&ea.inclusiveLeft?0>=Ca(Xa.from,S):0>Ca(Xa.from,S))))return!0}}}function Eb(b){for(var p;p=Pb(b,!0);)b=p.find(-1,!0).line;return b}function zc(b,p){b=ba(b,p);var X=Eb(b);return b==X?p:Fa(X)}function Vc(b,p){if(p>b.lastLine())return p;var X=ba(b,p);if(!Ed(b,X))return p;for(;b=Pb(X,!1);)X=b.find(1,!0).line;return Fa(X)+1}function Ed(b,
p){var X=Ph&&p.markedSpans;if(X)for(var S,ea=0;ea<X.length;++ea)if(S=X[ea],S.marker.collapsed&&(null==S.from||!S.marker.widgetNode&&0==S.from&&S.marker.inclusiveLeft&&Vd(b,p,S)))return!0}function Vd(b,p,X){if(null==X.to)return p=X.marker.find(1,!0),Vd(b,p.line,Sc(p.line.markedSpans,X.marker));if(X.marker.inclusiveRight&&X.to==p.text.length)return!0;for(var S,ea=0;ea<p.markedSpans.length;++ea)if(S=p.markedSpans[ea],S.marker.collapsed&&!S.marker.widgetNode&&S.from==X.to&&(null==S.to||S.to!=X.from)&&
(S.marker.inclusiveLeft||X.marker.inclusiveRight)&&Vd(b,p,S))return!0}function Ka(b){b=Eb(b);for(var p=0,X=b.parent,S=0;S<X.lines.length;++S){var ea=X.lines[S];if(ea==b)break;else p+=ea.height}for(b=X.parent;b;X=b,b=X.parent)for(S=0;S<b.children.length&&(ea=b.children[S],ea!=X);++S)p+=ea.height;return p}function eb(b){if(0==b.height)return 0;for(var p=b.text.length,X,S=b;X=Pb(S,!0);)X=X.find(0,!0),S=X.from.line,p+=X.from.ch-X.to.ch;for(S=b;X=Pb(S,!1);)b=X.find(0,!0),p-=S.text.length-b.from.ch,S=b.to.line,
p+=S.text.length-b.to.ch;return p}function wb(b){var p=b.display;b=b.doc;p.maxLine=ba(b,b.first);p.maxLineLength=eb(p.maxLine);p.maxLineChanged=!0;b.iter(function(X){var S=eb(X);S>p.maxLineLength&&(p.maxLineLength=S,p.maxLine=X)})}function Hb(b,p){if(!b||/^\s*$/.test(b))return null;p=p.addModeClass?qk:Zj;return p[b]||(p[b]=b.replace(/\S+/g,"cm-$\x26"))}function ac(b,p){var X=N("span",null,null,Ag?"padding-right: .1px":null);X={pre:N("pre",[X],"CodeMirror-line"),content:X,col:0,pos:0,cm:b,trailingSpace:!1,
splitSpaces:b.getOption("lineWrapping")};p.measure={};for(var S=0;S<=(p.rest?p.rest.length:0);S++){var ea=S?p.rest[S-1]:p.line,La=void 0;X.pos=0;X.addToken=Ac;var Xa=b.display.measure;if(null!=wh)Xa=wh;else{var ab=w(Xa,document.createTextNode("AخA")),tb=Hi(ab,0,1).getBoundingClientRect();ab=Hi(ab,1,2).getBoundingClientRect();l(Xa);Xa=tb&&tb.left!=tb.right?wh=3>ab.right-tb.right:!1}Xa&&(La=ha(ea,b.doc.direction))&&(X.addToken=tc(X.addToken,La));X.map=[];var Ib=p!=b.display.externalMeasured&&Fa(ea);
a:{var dc=ab=tb=Xa=void 0,Rc=void 0,vc=void 0,wc=void 0;La=X;Ib=nc(b,ea,Ib);var td=ea.markedSpans,ce=ea.text,Se=0;if(td)for(var bf=ce.length,He=0,cg=1,Af="",bg=0;;){if(bg==He){Rc=dc=ab=vc="";tb=Xa=null;bg=Infinity;for(var Wf=[],qf=void 0,gg=0;gg<td.length;++gg){var Rf=td[gg],Of=Rf.marker;if("bookmark"==Of.type&&Rf.from==He&&Of.widgetNode)Wf.push(Of);else if(Rf.from<=He&&(null==Rf.to||Rf.to>He||Of.collapsed&&Rf.to==He&&Rf.from==He)){null!=Rf.to&&Rf.to!=He&&bg>Rf.to&&(bg=Rf.to,dc="");Of.className&&
(Rc+=" "+Of.className);Of.css&&(vc=(vc?vc+";":"")+Of.css);Of.startStyle&&Rf.from==He&&(ab+=" "+Of.startStyle);Of.endStyle&&Rf.to==bg&&(qf||(qf=[])).push(Of.endStyle,Rf.to);Of.title&&((Xa||(Xa={})).title=Of.title);if(Of.attributes)for(var Kg in Of.attributes)(Xa||(Xa={}))[Kg]=Of.attributes[Kg];Of.collapsed&&(!tb||0>Wd(tb.marker,Of))&&(tb=Rf)}else Rf.from>He&&bg>Rf.from&&(bg=Rf.from)}if(qf)for(gg=0;gg<qf.length;gg+=2)qf[gg+1]==bg&&(dc+=" "+qf[gg]);if(!tb||tb.from==He)for(qf=0;qf<Wf.length;++qf)pb(La,
0,Wf[qf]);if(tb&&(tb.from||0)==He){pb(La,(null==tb.to?bf+1:tb.to)-He,tb.marker,null==tb.from);if(null==tb.to)break a;tb.to==He&&(tb=!1)}}if(He>=bf)break;for(Wf=Math.min(bf,bg);;){if(Af){qf=He+Af.length;tb||(gg=qf>Wf?Af.slice(0,Wf-He):Af,La.addToken(La,gg,wc?wc+Rc:Rc,ab,He+gg.length==bg?dc:"",vc,Xa));if(qf>=Wf){Af=Af.slice(Wf-He);He=Wf;break}He=qf;ab=""}Af=ce.slice(Se,Se=Ib[cg++]);wc=Hb(Ib[cg++],La.cm.options)}}else for(Xa=1;Xa<Ib.length;Xa+=2)La.addToken(La,ce.slice(Se,Se=Ib[Xa]),Hb(Ib[Xa+1],La.cm.options))}ea.styleClasses&&
(ea.styleClasses.bgClass&&(X.bgClass=m(ea.styleClasses.bgClass,X.bgClass||"")),ea.styleClasses.textClass&&(X.textClass=m(ea.styleClasses.textClass,X.textClass||"")));0==X.map.length&&X.map.push(0,0,X.content.appendChild(kb(b.display.measure)));0==S?(p.measure.map=X.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(X.map),(p.measure.caches||(p.measure.caches=[])).push({}))}Ag&&(Kg=X.content.lastChild,/\bcm-tab\b/.test(Kg.className)||Kg.querySelector&&Kg.querySelector(".cm-tab"))&&
(X.content.className="cm-tab-wrap-hack");Z(b,"renderLine",b,p.line,X.pre);X.pre.className&&(X.textClass=m(X.pre.className,X.textClass||""));return X}function Lb(b){var p=H("span","•","cm-invalidchar");p.title="\\u"+b.charCodeAt(0).toString(16);p.setAttribute("aria-label",p.title);return p}function Ac(b,p,X,S,ea,La,Xa){if(p){if(b.splitSpaces){var ab=b.trailingSpace;if(1<p.length&&!/  /.test(p))ab=p;else{for(var tb="",Ib=0;Ib<p.length;Ib++){var dc=p.charAt(Ib);" "!=dc||!ab||Ib!=p.length-1&&32!=p.charCodeAt(Ib+
1)||(dc=" ");tb+=dc;ab=" "==dc}ab=tb}}else ab=p;tb=ab;Ib=b.cm.state.specialChars;dc=!1;if(Ib.test(p)){ab=document.createDocumentFragment();for(var Rc=0;;){Ib.lastIndex=Rc;var vc=Ib.exec(p),wc=vc?vc.index-Rc:p.length-Rc;if(wc){var td=document.createTextNode(tb.slice(Rc,Rc+wc));wf&&9>Ff?ab.appendChild(H("span",[td])):ab.appendChild(td);b.map.push(b.pos,b.pos+wc,td);b.col+=wc;b.pos+=wc}if(!vc)break;Rc+=wc+1;"\t"==vc[0]?(vc=b.cm.options.tabSize,vc-=b.col%vc,wc=ab.appendChild(H("span",n(vc),"cm-tab")),
wc.setAttribute("role","presentation"),wc.setAttribute("cm-text","\t"),b.col+=vc):("\r"==vc[0]||"\n"==vc[0]?(wc=ab.appendChild(H("span","\r"==vc[0]?"␍":"␤","cm-invalidchar")),wc.setAttribute("cm-text",vc[0])):(wc=b.cm.options.specialCharPlaceholder(vc[0]),wc.setAttribute("cm-text",vc[0]),wf&&9>Ff?ab.appendChild(H("span",[wc])):ab.appendChild(wc)),b.col+=1);b.map.push(b.pos,b.pos+1,wc);b.pos++}}else b.col+=p.length,ab=document.createTextNode(tb),b.map.push(b.pos,b.pos+p.length,ab),wf&&9>Ff&&(dc=!0),
b.pos+=p.length;b.trailingSpace=32==tb.charCodeAt(p.length-1);if(X||S||ea||dc||La||Xa){p=X||"";S&&(p+=S);ea&&(p+=ea);S=H("span",[ab],p,La);if(Xa)for(var ce in Xa)Xa.hasOwnProperty(ce)&&"style"!=ce&&"class"!=ce&&S.setAttribute(ce,Xa[ce]);return b.content.appendChild(S)}b.content.appendChild(ab)}}function tc(b,p){return function(X,S,ea,La,Xa,ab,tb){ea=ea?ea+" cm-force-border":"cm-force-border";for(var Ib=X.pos,dc=Ib+S.length;;){for(var Rc=void 0,vc=0;vc<p.length&&!(Rc=p[vc],Rc.to>Ib&&Rc.from<=Ib);vc++);
if(Rc.to>=dc)return b(X,S,ea,La,Xa,ab,tb);b(X,S.slice(0,Rc.to-Ib),ea,La,null,ab,tb);La=null;S=S.slice(Rc.to-Ib);Ib=Rc.to}}}function pb(b,p,X,S){var ea=!S&&X.widgetNode;ea&&b.map.push(b.pos,b.pos+p,ea);!S&&b.cm.display.input.needsContentAttribute&&(ea||(ea=b.content.appendChild(document.createElement("span"))),ea.setAttribute("cm-marker",X.id));ea&&(b.cm.display.input.setUneditable(ea),b.content.appendChild(ea));b.pos+=p;b.trailingSpace=!1}function Bb(b,p,X){for(var S=this.line=p,ea;S=Pb(S,!1);)S=
S.find(1,!0).line,(ea||(ea=[])).push(S);this.size=(this.rest=ea)?Fa(y(this.rest))-X+1:1;this.node=this.text=null;this.hidden=Ed(b,p)}function Ub(b,p,X){var S=[],ea;for(ea=p;ea<X;)p=new Bb(b.doc,ba(b.doc,ea),ea),ea+=p.size,S.push(p);return S}function mc(b,p){if(b=b.ownsGroup)try{var X=b.delayedCallbacks,S=0;do{for(;S<X.length;S++)X[S].call(null);for(var ea=0;ea<b.ops.length;ea++){var La=b.ops[ea];if(La.cursorActivityHandlers)for(;La.cursorActivityCalled<La.cursorActivityHandlers.length;)La.cursorActivityHandlers[La.cursorActivityCalled++].call(null,
La.cm)}}while(S<X.length)}finally{Di=null,p(b)}}function Bc(b,p){var X=b._handlers&&b._handlers[p]||gi;if(X.length){var S=Array.prototype.slice.call(arguments,2);if(Di)var ea=Di.delayedCallbacks;else ag?ea=ag:(ea=ag=[],setTimeout(Cc,0));for(var La=function(ab){ea.push(function(){return X[ab].apply(null,S)})},Xa=0;Xa<X.length;++Xa)La(Xa)}}function Cc(){var b=ag;ag=null;for(var p=0;p<b.length;++p)b[p]()}function Xc(b,p,X,S){for(var ea=0;ea<p.changes.length;ea++){var La=p.changes[ea];if("text"==La){La=
b;var Xa=p,ab=Xa.text.className,tb=Ic(La,Xa);Xa.text==Xa.node&&(Xa.node=tb.pre);Xa.text.parentNode.replaceChild(tb.pre,Xa.text);Xa.text=tb.pre;tb.bgClass!=Xa.bgClass||tb.textClass!=Xa.textClass?(Xa.bgClass=tb.bgClass,Xa.textClass=tb.textClass,Dc(La,Xa)):ab&&(Xa.text.className=ab)}else if("gutter"==La)uc(b,p,X,S);else if("class"==La)Dc(b,p);else if("widget"==La){La=b;Xa=p;ab=S;Xa.alignable&&(Xa.alignable=null);tb=k("CodeMirror-linewidget");for(var Ib=Xa.node.firstChild,dc;Ib;Ib=dc)dc=Ib.nextSibling,
tb.test(Ib.className)&&Xa.node.removeChild(Ib);ad(La,Xa,ab)}}p.changes=null}function Qb(b){b.node==b.text&&(b.node=H("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),wf&&8>Ff&&(b.node.style.zIndex=2));return b.node}function Ic(b,p){var X=b.display.externalMeasured;return X&&X.line==p.line?(b.display.externalMeasured=null,p.measure=X.measure,X.built):ac(b,p)}function Dc(b,p){var X=p.bgClass?p.bgClass+" "+(p.line.bgClass||
""):p.line.bgClass;X&&(X+=" CodeMirror-linebackground");if(p.background)X?p.background.className=X:(p.background.parentNode.removeChild(p.background),p.background=null);else if(X){var S=Qb(p);p.background=S.insertBefore(H("div",null,X),S.firstChild);b.display.input.setUneditable(p.background)}p.line.wrapClass?Qb(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");p.text.className=(p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass)||""}function uc(b,p,X,S){p.gutter&&
(p.node.removeChild(p.gutter),p.gutter=null);p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null);if(p.line.gutterClass){var ea=Qb(p);p.gutterBackground=H("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(b.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px; width: "+S.gutterTotalWidth+"px");b.display.input.setUneditable(p.gutterBackground);ea.insertBefore(p.gutterBackground,p.text)}ea=p.line.gutterMarkers;if(b.options.lineNumbers||ea){var La=
Qb(p),Xa=p.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px");b.display.input.setUneditable(Xa);La.insertBefore(Xa,p.text);p.line.gutterClass&&(Xa.className+=" "+p.line.gutterClass);!b.options.lineNumbers||ea&&ea["CodeMirror-linenumbers"]||(p.lineNumber=Xa.appendChild(H("div",db(b.options,X),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+S.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));
if(ea)for(p=0;p<b.display.gutterSpecs.length;++p)X=b.display.gutterSpecs[p].className,(La=ea.hasOwnProperty(X)&&ea[X])&&Xa.appendChild(H("div",[La],"CodeMirror-gutter-elt","left: "+S.gutterLeft[X]+"px; width: "+S.gutterWidth[X]+"px"))}}function Tc(b,p,X,S){var ea=Ic(b,p);p.text=p.node=ea.pre;ea.bgClass&&(p.bgClass=ea.bgClass);ea.textClass&&(p.textClass=ea.textClass);Dc(b,p);uc(b,p,X,S);ad(b,p,S);return p.node}function ad(b,p,X){ld(b,p.line,p,X,!0);if(p.rest)for(var S=0;S<p.rest.length;S++)ld(b,p.rest[S],
p,X,!1)}function ld(b,p,X,S,ea){if(p.widgets){var La=Qb(X),Xa=0;for(p=p.widgets;Xa<p.length;++Xa){var ab=p[Xa],tb=H("div",[ab.node],"CodeMirror-linewidget"+(ab.className?" "+ab.className:""));ab.handleMouseEvents||tb.setAttribute("cm-ignore-events","true");var Ib=ab,dc=tb,Rc=S;if(Ib.noHScroll){(X.alignable||(X.alignable=[])).push(dc);var vc=Rc.wrapperWidth;dc.style.left=Rc.fixedPos+"px";Ib.coverGutter||(vc-=Rc.gutterTotalWidth,dc.style.paddingLeft=Rc.gutterTotalWidth+"px");dc.style.width=vc+"px"}Ib.coverGutter&&
(dc.style.zIndex=5,dc.style.position="relative",Ib.noHScroll||(dc.style.marginLeft=-Rc.gutterTotalWidth+"px"));b.display.input.setUneditable(tb);ea&&ab.above?La.insertBefore(tb,X.gutter||X.text):La.appendChild(tb);Bc(ab,"redraw")}}}function Cd(b){if(null!=b.height)return b.height;var p=b.doc.cm;if(!p)return 0;if(!x(document.body,b.node)){var X="position: relative;";b.coverGutter&&(X+="margin-left: -"+p.display.gutters.offsetWidth+"px;");b.noHScroll&&(X+="width: "+p.display.wrapper.clientWidth+"px;");
w(p.display.measure,H("div",[b.node],null,X))}return b.height=b.node.parentNode.offsetHeight}function Dd(b,p){for(p=p.target||p.srcElement;p!=b.wrapper;p=p.parentNode)if(!p||1==p.nodeType&&"true"==p.getAttribute("cm-ignore-events")||p.parentNode==b.sizer&&p!=b.mover)return!0}function Ud(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function ae(b){if(b.cachedPaddingH)return b.cachedPaddingH;var p=w(b.measure,H("pre","x","CodeMirror-line-like"));p=window.getComputedStyle?window.getComputedStyle(p):
p.currentStyle;p={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};isNaN(p.left)||isNaN(p.right)||(b.cachedPaddingH=p);return p}function oe(b){return 50-b.display.nativeBarWidth}function De(b){return b.display.scroller.clientWidth-oe(b)-b.display.barWidth}function fe(b){return b.display.scroller.clientHeight-oe(b)-b.display.barHeight}function ef(b,p,X){if(b.line==p)return{map:b.measure.map,cache:b.measure.cache};for(var S=0;S<b.rest.length;S++)if(b.rest[S]==p)return{map:b.measure.maps[S],
cache:b.measure.caches[S]};for(p=0;p<b.rest.length;p++)if(Fa(b.rest[p])>X)return{map:b.measure.maps[p],cache:b.measure.caches[p],before:!0}}function Ze(b,p){if(p>=b.display.viewFrom&&p<b.display.viewTo)return b.display.view[qe(b,p)];if((b=b.display.externalMeasured)&&p>=b.lineN&&p<b.lineN+b.size)return b}function df(b,p){var X=Fa(p),S=Ze(b,X);S&&!S.text?S=null:S&&S.changes&&(Xc(b,S,X,lf(b)),b.curOp.forceUpdate=!0);if(!S){var ea=Eb(p);S=Fa(ea);ea=b.display.externalMeasured=new Bb(b.doc,ea,S);ea.lineN=
S;S=ea.built=ac(b,ea);ea.text=S.pre;w(b.display.lineMeasure,S.pre);S=ea}b=ef(S,p,X);return{line:p,view:S,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Zd(b,p,X,S,ea){p.before&&(X=-1);var La=X+(S||"");if(p.cache.hasOwnProperty(La))b=p.cache[La];else{p.rect||(p.rect=p.view.text.getBoundingClientRect());if(!p.hasHeights){var Xa=p.view,ab=p.rect,tb=b.options.lineWrapping,Ib=tb&&De(b);if(!Xa.measure.heights||tb&&Xa.measure.width!=Ib){var dc=Xa.measure.heights=[];if(tb)for(Xa.measure.width=
Ib,Xa=Xa.text.firstChild.getClientRects(),tb=0;tb<Xa.length-1;tb++){Ib=Xa[tb];var Rc=Xa[tb+1];2<Math.abs(Ib.bottom-Rc.bottom)&&dc.push((Ib.bottom+Rc.top)/2-ab.top)}dc.push(ab.bottom-ab.top)}p.hasHeights=!0}dc=S;Xa=he(p.map,X,dc);S=Xa.node;ab=Xa.start;tb=Xa.end;X=Xa.collapse;if(3==S.nodeType){for(var vc=0;4>vc;vc++){for(;ab&&K(p.line.text.charAt(Xa.coverStart+ab));)--ab;for(;Xa.coverStart+tb<Xa.coverEnd&&K(p.line.text.charAt(Xa.coverStart+tb));)++tb;if(wf&&9>Ff&&0==ab&&tb==Xa.coverEnd-Xa.coverStart)var wc=
S.parentNode.getBoundingClientRect();else{wc=Hi(S,ab,tb).getClientRects();tb=Lh;if("left"==dc)for(Ib=0;Ib<wc.length&&(tb=wc[Ib]).left==tb.right;Ib++);else for(Ib=wc.length-1;0<=Ib&&(tb=wc[Ib]).left==tb.right;Ib--);wc=tb}if(wc.left||wc.right||0==ab)break;tb=ab;--ab;X="right"}wf&&11>Ff&&((vc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=si?vc=si:(dc=w(b.display.measure,H("span","x")),vc=dc.getBoundingClientRect(),dc=Hi(dc,0,1).getBoundingClientRect(),vc=si=
1<Math.abs(vc.left-dc.left)),vc=!vc),vc||(vc=screen.logicalXDPI/screen.deviceXDPI,dc=screen.logicalYDPI/screen.deviceYDPI,wc={left:wc.left*vc,right:wc.right*vc,top:wc.top*dc,bottom:wc.bottom*dc}))}else 0<ab&&(X=dc="right"),wc=b.options.lineWrapping&&1<(vc=S.getClientRects()).length?vc["right"==dc?vc.length-1:0]:S.getBoundingClientRect();!(wf&&9>Ff)||ab||wc&&(wc.left||wc.right)||(wc=(wc=S.parentNode.getClientRects()[0])?{left:wc.left,right:wc.left+ue(b.display),top:wc.top,bottom:wc.bottom}:Lh);S=wc.top-
p.rect.top;ab=wc.bottom-p.rect.top;vc=(S+ab)/2;dc=p.view.measure.heights;for(Xa=0;Xa<dc.length-1&&!(vc<dc[Xa]);Xa++);X={left:("right"==X?wc.right:wc.left)-p.rect.left,right:("left"==X?wc.left:wc.right)-p.rect.left,top:Xa?dc[Xa-1]:0,bottom:dc[Xa]};wc.left||wc.right||(X.bogus=!0);b.options.singleCursorHeightPerLine||(X.rtop=S,X.rbottom=ab);b=X;b.bogus||(p.cache[La]=b)}return{left:b.left,right:b.right,top:ea?b.rtop:b.top,bottom:ea?b.rbottom:b.bottom}}function he(b,p,X){for(var S,ea,La,Xa,ab,tb,Ib=0;Ib<
b.length;Ib+=3){ab=b[Ib];tb=b[Ib+1];if(p<ab)ea=0,La=1,Xa="left";else if(p<tb)ea=p-ab,La=ea+1;else if(Ib==b.length-3||p==tb&&b[Ib+3]>p)La=tb-ab,ea=La-1,p>=tb&&(Xa="right");if(null!=ea){S=b[Ib+2];ab==tb&&X==(S.insertLeft?"left":"right")&&(Xa=X);if("left"==X&&0==ea)for(;Ib&&b[Ib-2]==b[Ib-3]&&b[Ib-1].insertLeft;)S=b[(Ib-=3)+2],Xa="left";if("right"==X&&ea==tb-ab)for(;Ib<b.length-3&&b[Ib+3]==b[Ib+4]&&!b[Ib+5].insertLeft;)S=b[(Ib+=3)+2],Xa="right";break}}return{node:S,start:ea,end:La,collapse:Xa,coverStart:ab,
coverEnd:tb}}function zf(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var p=0;p<b.rest.length;p++)b.measure.caches[p]={}}function Ue(b){b.display.externalMeasure=null;l(b.display.lineMeasure);for(var p=0;p<b.display.view.length;p++)zf(b.display.view[p])}function Nf(b){Ue(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function me(){return Gh&&ug?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function te(){return Gh&&ug?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function kf(b){var p=0;if(b.widgets)for(var X=0;X<b.widgets.length;++X)b.widgets[X].above&&(p+=Cd(b.widgets[X]));return p}function we(b,p,X,S,ea){ea||(ea=kf(p),X.top+=ea,X.bottom+=
ea);if("line"==S)return X;S||(S="local");p=Ka(p);p="local"==S?p+b.display.lineSpace.offsetTop:p-b.display.viewOffset;if("page"==S||"window"==S)b=b.display.lineSpace.getBoundingClientRect(),p+=b.top+("window"==S?0:te()),S=b.left+("window"==S?0:me()),X.left+=S,X.right+=S;X.top+=p;X.bottom+=p;return X}function Od(b,p,X){if("div"==X)return p;var S=p.left;p=p.top;"page"==X?(S-=me(),p-=te()):"local"!=X&&X||(X=b.display.sizer.getBoundingClientRect(),S+=X.left,p+=X.top);b=b.display.lineSpace.getBoundingClientRect();
return{left:S-b.left,top:p-b.top}}function Xd(b,p,X,S,ea){S||(S=ba(b.doc,p.line));var La=S;p=p.ch;S=Zd(b,df(b,S),p,ea);return we(b,La,S,X)}function Be(b,p,X,S,ea,La){function Xa(vc,wc){vc=Zd(b,ea,vc,wc?"right":"left",La);wc?vc.left=vc.right:vc.right=vc.left;return we(b,S,vc,X)}function ab(vc,wc,td){return Xa(td?vc-1:vc,1==tb[wc].level!=td)}S=S||ba(b.doc,p.line);ea||(ea=df(b,S));var tb=ha(S,b.doc.direction),Ib=p.ch;p=p.sticky;Ib>=S.text.length?(Ib=S.text.length,p="before"):0>=Ib&&(Ib=0,p="after");
if(!tb)return Xa("before"==p?Ib-1:Ib,"before"==p);var dc=fa(tb,Ib,p),Rc=Wh;dc=ab(Ib,dc,"before"==p);null!=Rc&&(dc.other=ab(Ib,Rc,"before"!=p));return dc}function jf(b,p){var X=0;p=jb(b.doc,p);b.options.lineWrapping||(X=ue(b.display)*p.ch);p=ba(b.doc,p.line);b=Ka(p)+b.display.lineSpace.offsetTop;return{left:X,right:X,top:b,bottom:b+p.height}}function Ge(b,p,X,S,ea){b=$a(b,p,X);b.xRel=ea;S&&(b.outside=S);return b}function Td(b,p,X){var S=b.doc;X+=b.display.viewOffset;if(0>X)return Ge(S.first,0,null,
-1,-1);var ea=na(S,X),La=S.first+S.size-1;if(ea>La)return Ge(S.first+S.size-1,ba(S,La).text.length,null,1,1);0>p&&(p=0);for(var Xa=ba(S,ea);;){La=xe(b,Xa,ea,p,X);var ab=void 0;var tb=La.ch+(0<La.xRel||0<La.outside?1:0);if(Xa=Ph&&Xa.markedSpans)for(var Ib=0;Ib<Xa.length;++Ib){var dc=Xa[Ib];dc.marker.collapsed&&(null==dc.from||dc.from<tb)&&(null==dc.to||dc.to>tb)&&(!ab||0>Wd(ab,dc.marker))&&(ab=dc.marker)}if(!ab)return La;La=ab.find(1);if(La.line==ea)return La;Xa=ba(S,ea=La.line)}}function Ye(b,p,X,
S){S-=kf(p);p=p.text.length;var ea=T(function(La){return Zd(b,X,La-1).bottom<=S},p,0);p=T(function(La){return Zd(b,X,La).top>S},ea,p);return{begin:ea,end:p}}function Xf(b,p,X,S){X||(X=df(b,p));S=we(b,p,Zd(b,X,S),"line").top;return Ye(b,p,X,S)}function Gc(b,p,X,S){return b.bottom<=X?!1:b.top>X?!0:(S?b.left:b.right)>p}function xe(b,p,X,S,ea){ea-=Ka(p);var La=df(b,p),Xa=kf(p),ab=0,tb=p.text.length,Ib=!0,dc=ha(p,b.doc.direction);dc&&(dc=(b.options.lineWrapping?kc:le)(b,p,X,La,dc,S,ea),ab=(Ib=1!=dc.level)?
dc.from:dc.to-1,tb=Ib?dc.to:dc.from-1);var Rc=null,vc=null;dc=T(function(td){var ce=Zd(b,La,td);ce.top+=Xa;ce.bottom+=Xa;if(!Gc(ce,S,ea,!1))return!1;ce.top<=ea&&ce.left<=S&&(Rc=td,vc=ce);return!0},ab,tb);var wc=!1;vc?(ab=S-vc.left<vc.right-S,Ib=ab==Ib,dc=Rc+(Ib?0:1),Ib=Ib?"after":"before",ab=ab?vc.left:vc.right):(Ib||dc!=tb&&dc!=ab||dc++,Ib=0==dc?"after":dc==p.text.length?"before":Zd(b,La,dc-(Ib?1:0)).bottom+Xa<=ea==Ib?"after":"before",wc=Be(b,$a(X,dc,Ib),"line",p,La),ab=wc.left,wc=ea<wc.top?-1:ea>=
wc.bottom?1:0);dc=R(p.text,dc,1);return Ge(X,dc,Ib,wc,S-ab)}function le(b,p,X,S,ea,La,Xa){var ab=T(function(dc){dc=ea[dc];var Rc=1!=dc.level;return Gc(Be(b,$a(X,Rc?dc.to:dc.from,Rc?"before":"after"),"line",p,S),La,Xa,!0)},0,ea.length-1),tb=ea[ab];if(0<ab){var Ib=1!=tb.level;Ib=Be(b,$a(X,Ib?tb.from:tb.to,Ib?"after":"before"),"line",p,S);Gc(Ib,La,Xa,!0)&&Ib.top>Xa&&(tb=ea[ab-1])}return tb}function kc(b,p,X,S,ea,La,Xa){Xa=Ye(b,p,S,Xa);X=Xa.begin;Xa=Xa.end;/\s/.test(p.text.charAt(Xa-1))&&Xa--;for(var ab=
p=null,tb=0;tb<ea.length;tb++){var Ib=ea[tb];if(!(Ib.from>=Xa||Ib.to<=X)){var dc=Zd(b,S,1!=Ib.level?Math.min(Xa,Ib.to)-1:Math.max(X,Ib.from)).right;dc=dc<La?La-dc+1E9:dc-La;if(!p||ab>dc)p=Ib,ab=dc}}p||(p=ea[ea.length-1]);p.from<X&&(p={from:X,to:p.to,level:p.level});p.to>Xa&&(p={from:p.from,to:Xa,level:p.level});return p}function Fe(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==oh){oh=H("pre",null,"CodeMirror-line-like");for(var p=0;49>p;++p)oh.appendChild(document.createTextNode("x")),
oh.appendChild(H("br"));oh.appendChild(document.createTextNode("x"))}w(b.measure,oh);p=oh.offsetHeight/50;3<p&&(b.cachedTextHeight=p);l(b.measure);return p||1}function ue(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var p=H("span","xxxxxxxxxx"),X=H("pre",[p],"CodeMirror-line-like");w(b.measure,X);p=p.getBoundingClientRect();p=(p.right-p.left)/10;2<p&&(b.cachedCharWidth=p);return p||10}function lf(b){for(var p=b.display,X={},S={},ea=p.gutters.clientLeft,La=p.gutters.firstChild,Xa=0;La;La=
La.nextSibling,++Xa){var ab=b.display.gutterSpecs[Xa].className;X[ab]=La.offsetLeft+La.clientLeft+ea;S[ab]=La.clientWidth}return{fixedPos:Yf(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:X,gutterWidth:S,wrapperWidth:p.wrapper.clientWidth}}function Yf(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function If(b){var p=Fe(b.display),X=b.options.lineWrapping,S=X&&Math.max(5,b.display.scroller.clientWidth/ue(b.display)-3);return function(ea){if(Ed(b.doc,
ea))return 0;var La=0;if(ea.widgets)for(var Xa=0;Xa<ea.widgets.length;Xa++)ea.widgets[Xa].height&&(La+=ea.widgets[Xa].height);return X?La+(Math.ceil(ea.text.length/S)||1)*p:La+p}}function Sf(b){var p=b.doc,X=If(b);p.iter(function(S){var ea=X(S);ea!=S.height&&qa(S,ea)})}function Bf(b,p,X,S){var ea=b.display;if(!X&&"true"==(p.target||p.srcElement).getAttribute("cm-not-content"))return null;X=ea.lineSpace.getBoundingClientRect();try{var La=p.clientX-X.left;var Xa=p.clientY-X.top}catch(tb){return null}p=
Td(b,La,Xa);var ab;S&&0<p.xRel&&(ab=ba(b.doc,p.line).text).length==p.ch&&(S=f(ab,ab.length,b.options.tabSize)-ab.length,p=$a(p.line,Math.max(0,Math.round((La-ae(b.display).left)/ue(b.display))-S)));return p}function qe(b,p){if(p>=b.display.viewTo)return null;p-=b.display.viewFrom;if(0>p)return null;b=b.display.view;for(var X=0;X<b.length;X++)if(p-=b[X].size,0>p)return X}function yc(b,p,X,S){null==p&&(p=b.doc.first);null==X&&(X=b.doc.first+b.doc.size);S||(S=0);var ea=b.display;S&&X<ea.viewTo&&(null==
ea.updateLineNumbers||ea.updateLineNumbers>p)&&(ea.updateLineNumbers=p);b.curOp.viewChanged=!0;if(p>=ea.viewTo)Ph&&zc(b.doc,p)<ea.viewTo&&Ea(b);else if(X<=ea.viewFrom)Ph&&Vc(b.doc,X+S)>ea.viewFrom?Ea(b):(ea.viewFrom+=S,ea.viewTo+=S);else if(p<=ea.viewFrom&&X>=ea.viewTo)Ea(b);else if(p<=ea.viewFrom){var La=Za(b,X,X+S,1);La?(ea.view=ea.view.slice(La.index),ea.viewFrom=La.lineN,ea.viewTo+=S):Ea(b)}else if(X>=ea.viewTo)(La=Za(b,p,p,-1))?(ea.view=ea.view.slice(0,La.index),ea.viewTo=La.lineN):Ea(b);else{La=
Za(b,p,p,-1);var Xa=Za(b,X,X+S,1);La&&Xa?(ea.view=ea.view.slice(0,La.index).concat(Ub(b,La.lineN,Xa.lineN)).concat(ea.view.slice(Xa.index)),ea.viewTo+=S):Ea(b)}if(b=ea.externalMeasured)X<b.lineN?b.lineN+=S:p<b.lineN+b.size&&(ea.externalMeasured=null)}function wa(b,p,X){b.curOp.viewChanged=!0;var S=b.display,ea=b.display.externalMeasured;ea&&p>=ea.lineN&&p<ea.lineN+ea.size&&(S.externalMeasured=null);p<S.viewFrom||p>=S.viewTo||(b=S.view[qe(b,p)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==a(b,X)&&
b.push(X)))}function Ea(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Za(b,p,X,S){var ea=qe(b,p),La=b.display.view;if(!Ph||X==b.doc.first+b.doc.size)return{index:ea,lineN:X};for(var Xa=b.display.viewFrom,ab=0;ab<ea;ab++)Xa+=La[ab].size;if(Xa!=p){if(0<S){if(ea==La.length-1)return null;p=Xa+La[ea].size-p;ea++}else p=Xa-p;X+=p}for(;zc(b.doc,X)!=X;){if(ea==(0>S?0:La.length-1))return null;X+=S*La[ea-(0>S?1:0)].size;ea+=S}return{index:ea,lineN:X}}function Cb(b){b=
b.display.view;for(var p=0,X=0;X<b.length;X++){var S=b[X];S.hidden||S.node&&!S.changes||++p}return p}function ub(b){b.display.input.showSelection(b.display.input.prepareSelection())}function Yb(b,p){void 0===p&&(p=!0);for(var X=b.doc,S={},ea=S.cursors=document.createDocumentFragment(),La=S.selection=document.createDocumentFragment(),Xa=0;Xa<X.sel.ranges.length;Xa++)if(p||Xa!=X.sel.primIndex){var ab=X.sel.ranges[Xa];if(!(ab.from().line>=b.display.viewTo||ab.to().line<b.display.viewFrom)){var tb=ab.empty();
(tb||b.options.showCursorWhenSelecting)&&$b(b,ab.head,ea);tb||gd(b,ab,La)}}return S}function $b(b,p,X){p=Be(b,p,"div",null,null,!b.options.singleCursorHeightPerLine);var S=X.appendChild(H("div"," ","CodeMirror-cursor"));S.style.left=p.left+"px";S.style.top=p.top+"px";S.style.height=Math.max(0,p.bottom-p.top)*b.options.cursorHeight+"px";p.other&&(b=X.appendChild(H("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=p.other.left+"px",b.style.top=p.other.top+"px",
b.style.height=.85*(p.other.bottom-p.other.top)+"px")}function Oc(b,p){return b.top-p.top||b.left-p.left}function gd(b,p,X){function S(wc,td,ce,Se){0>td&&(td=0);td=Math.round(td);Se=Math.round(Se);ab.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+wc+"px;\n                             top: "+td+"px; width: "+(null==ce?dc-wc:ce)+"px;\n                             height: "+(Se-td)+"px"))}function ea(wc,td,ce){function Se(qf,gg){return Xd(b,$a(wc,qf),"div",He,gg)}function bf(qf,
gg,Rf){qf=Xf(b,He,null,qf);gg="ltr"==gg==("after"==Rf)?"left":"right";Rf="after"==Rf?qf.begin:qf.end-(/\s/.test(He.text.charAt(qf.end-1))?2:1);return Se(Rf,gg)[gg]}var He=ba(Xa,wc),cg=He.text.length,Af,bg,Wf=ha(He,Xa.direction);ja(Wf,td||0,null==ce?cg:ce,function(qf,gg,Rf,Of){var Kg="ltr"==Rf,Pg=Se(qf,Kg?"left":"right"),ch=Se(gg-1,Kg?"right":"left"),Rh=null==td&&0==qf,li=null==ce&&gg==cg,Mj=0==Of;Of=!Wf||Of==Wf.length-1;3>=ch.top-Pg.top?(gg=(Rc?Rh:li)&&Mj?Ib:(Kg?Pg:ch).left,S(gg,Pg.top,((Rc?li:Rh)&&
Of?dc:(Kg?ch:Pg).right)-gg,Pg.bottom)):(Kg?(Kg=Rc&&Rh&&Mj?Ib:Pg.left,Rh=Rc?dc:bf(qf,Rf,"before"),qf=Rc?Ib:bf(gg,Rf,"after"),li=Rc&&li&&Of?dc:ch.right):(Kg=Rc?bf(qf,Rf,"before"):Ib,Rh=!Rc&&Rh&&Mj?dc:Pg.right,qf=!Rc&&li&&Of?Ib:ch.left,li=Rc?bf(gg,Rf,"after"):dc),S(Kg,Pg.top,Rh-Kg,Pg.bottom),Pg.bottom<ch.top&&S(Ib,Pg.bottom,null,ch.top),S(qf,ch.top,li-qf,ch.bottom));if(!Af||0>Oc(Pg,Af))Af=Pg;0>Oc(ch,Af)&&(Af=ch);if(!bg||0>Oc(Pg,bg))bg=Pg;0>Oc(ch,bg)&&(bg=ch)});return{start:Af,end:bg}}var La=b.display,
Xa=b.doc,ab=document.createDocumentFragment(),tb=ae(b.display),Ib=tb.left,dc=Math.max(La.sizerWidth,De(b)-La.sizer.offsetLeft)-tb.right,Rc="ltr"==Xa.direction;La=p.from();p=p.to();if(La.line==p.line)ea(La.line,La.ch,p.ch);else{var vc=ba(Xa,La.line);tb=ba(Xa,p.line);tb=Eb(vc)==Eb(tb);La=ea(La.line,La.ch,tb?vc.text.length+1:null).end;p=ea(p.line,tb?0:null,p.ch).start;tb&&(La.top<p.top-2?(S(La.right,La.top,null,La.bottom),S(Ib,p.top,p.left,p.bottom)):S(La.right,La.top,p.left-La.right,La.bottom));La.bottom<
p.top&&S(Ib,La.bottom,null,p.top)}X.appendChild(ab)}function Mc(b){if(b.state.focused){var p=b.display;clearInterval(p.blinker);var X=!0;p.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?p.blinker=setInterval(function(){b.hasFocus()||jd(b);p.cursorDiv.style.visibility=(X=!X)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(p.cursorDiv.style.visibility="hidden")}}function Nd(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||Id(b))}function od(b){b.state.delayingBlurEvent=
!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&jd(b))},100)}function Id(b,p){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(Z(b,"focus",b,p),b.state.focused=!0,u(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),Ag&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),
Mc(b))}function jd(b,p){b.state.delayingBlurEvent||(b.state.focused&&(Z(b,"blur",b,p),b.state.focused=!1,Dh(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function Qd(b){for(var p=b.display,X=p.lineDiv.offsetTop,S=0;S<p.view.length;S++){var ea=p.view[S],La=b.options.lineWrapping,Xa=0;if(!ea.hidden){if(wf&&8>Ff){La=ea.node.offsetTop+ea.node.offsetHeight;var ab=La-X;X=La}else{var tb=ea.node.getBoundingClientRect();
ab=tb.bottom-tb.top;!La&&ea.text.firstChild&&(Xa=ea.text.firstChild.getBoundingClientRect().right-tb.left-1)}La=ea.line.height-ab;if(.005<La||-.005>La)if(qa(ea.line,ab),ie(ea.line),ea.rest)for(ab=0;ab<ea.rest.length;ab++)ie(ea.rest[ab]);Xa>b.display.sizerWidth&&(Xa=Math.ceil(Xa/ue(b.display)),Xa>b.display.maxLineLength&&(b.display.maxLineLength=Xa,b.display.maxLine=ea.line,b.display.maxLineChanged=!0))}}}function ie(b){if(b.widgets)for(var p=0;p<b.widgets.length;++p){var X=b.widgets[p],S=X.node.parentNode;
S&&(X.height=S.offsetHeight)}}function Gf(b,p,X){var S=X&&null!=X.top?Math.max(0,X.top):b.scroller.scrollTop;S=Math.floor(S-b.lineSpace.offsetTop);var ea=X&&null!=X.bottom?X.bottom:S+b.wrapper.clientHeight;S=na(p,S);ea=na(p,ea);if(X&&X.ensure){var La=X.ensure.from.line;X=X.ensure.to.line;La<S?(S=La,ea=na(p,Ka(ba(p,La))+b.wrapper.clientHeight)):Math.min(X,p.lastLine())>=ea&&(S=na(p,Ka(ba(p,X))-b.wrapper.clientHeight),ea=X)}return{from:S,to:Math.max(ea,S+1)}}function tf(b,p){var X=b.display,S=Fe(b.display);
0>p.top&&(p.top=0);var ea=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:X.scroller.scrollTop,La=fe(b),Xa={};p.bottom-p.top>La&&(p.bottom=p.top+La);var ab=b.doc.height+Ud(X),tb=p.top<S;S=p.bottom>ab-S;p.top<ea?Xa.scrollTop=tb?0:p.top:p.bottom>ea+La&&(La=Math.min(p.top,(S?ab:p.bottom)-La),La!=ea&&(Xa.scrollTop=La));ea=b.options.fixedGutter?0:X.gutters.offsetWidth;La=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:X.scroller.scrollLeft-ea;b=De(b)-X.gutters.offsetWidth;if(X=p.right-p.left>b)p.right=
p.left+b;10>p.left?Xa.scrollLeft=0:p.left<La?Xa.scrollLeft=Math.max(0,p.left+ea-(X?0:10)):p.right>b+La-3&&(Xa.scrollLeft=p.right+(X?0:10)-b);return Xa}function kd(b,p){null!=p&&(mf(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?b.doc.scrollTop:b.curOp.scrollTop)+p)}function We(b){mf(b);var p=b.getCursor();b.curOp.scrollToPos={from:p,to:p,margin:b.options.cursorScrollMargin}}function uf(b,p,X){null==p&&null==X||mf(b);null!=p&&(b.curOp.scrollLeft=p);null!=X&&(b.curOp.scrollTop=X)}function mf(b){var p=
b.curOp.scrollToPos;if(p){b.curOp.scrollToPos=null;var X=jf(b,p.from),S=jf(b,p.to);Zf(b,X,S,p.margin)}}function Zf(b,p,X,S){p=tf(b,{left:Math.min(p.left,X.left),top:Math.min(p.top,X.top)-S,right:Math.max(p.right,X.right),bottom:Math.max(p.bottom,X.bottom)+S});uf(b,p.scrollLeft,p.scrollTop)}function yf(b,p){2>Math.abs(b.doc.scrollTop-p)||(Eg||Le(b,{top:p}),Pe(b,p,!0),Eg&&Le(b),Kd(b,100))}function Pe(b,p,X){p=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,p));if(b.display.scroller.scrollTop!=
p||X)b.doc.scrollTop=p,b.display.scrollbars.setScrollTop(p),b.display.scroller.scrollTop!=p&&(b.display.scroller.scrollTop=p)}function nf(b,p,X,S){p=Math.max(0,Math.min(p,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));(X?p==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-p))&&!S||(b.doc.scrollLeft=p,Qe(b),b.display.scroller.scrollLeft!=p&&(b.display.scroller.scrollLeft=p),b.display.scrollbars.setScrollLeft(p))}function Aa(b){var p=b.display,X=p.gutters.offsetWidth,S=Math.round(b.doc.height+
Ud(b.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:b.options.fixedGutter?X:0,docHeight:S,scrollHeight:S+oe(b)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:X}}function Pa(b,p){p||(p=Aa(b));var X=b.display.barWidth,S=b.display.barHeight;vb(b,p);for(p=0;4>p&&X!=b.display.barWidth||S!=b.display.barHeight;p++)X!=b.display.barWidth&&b.options.lineWrapping&&
Qd(b),vb(b,Aa(b)),X=b.display.barWidth,S=b.display.barHeight}function vb(b,p){var X=b.display,S=X.scrollbars.update(p);X.sizer.style.paddingRight=(X.barWidth=S.right)+"px";X.sizer.style.paddingBottom=(X.barHeight=S.bottom)+"px";X.heightForcer.style.borderBottom=S.bottom+"px solid transparent";S.right&&S.bottom?(X.scrollbarFiller.style.display="block",X.scrollbarFiller.style.height=S.bottom+"px",X.scrollbarFiller.style.width=S.right+"px"):X.scrollbarFiller.style.display="";S.bottom&&b.options.coverGutterNextToScrollbar&&
b.options.fixedGutter?(X.gutterFiller.style.display="block",X.gutterFiller.style.height=S.bottom+"px",X.gutterFiller.style.width=p.gutterWidth+"px"):X.gutterFiller.style.display=""}function Wb(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&Dh(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new ej[b.options.scrollbarStyle](function(p){b.display.wrapper.insertBefore(p,b.display.scrollbarFiller);Te(p,"mousedown",function(){b.state.focused&&
setTimeout(function(){return b.display.input.focus()},0)});p.setAttribute("cm-not-content","true")},function(p,X){"horizontal"==X?nf(b,p):yf(b,p)},b);b.display.scrollbars.addClass&&u(b.display.wrapper,b.display.scrollbars.addClass)}function Tb(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,
id:++Bj};b=b.curOp;Di?Di.ops.push(b):b.ownsGroup=Di={ops:[b],delayedCallbacks:[]}}function ic(b){(b=b.curOp)&&mc(b,function(p){for(var X=0;X<p.ops.length;X++)p.ops[X].cm.curOp=null;p=p.ops;for(X=0;X<p.length;X++){var S=p[X],ea=S.cm,La=ea.display,Xa=ea.display;!Xa.scrollbarsClipped&&Xa.scroller.offsetWidth&&(Xa.nativeBarWidth=Xa.scroller.offsetWidth-Xa.scroller.clientWidth,Xa.heightForcer.style.height=oe(ea)+"px",Xa.sizer.style.marginBottom=-Xa.nativeBarWidth+"px",Xa.sizer.style.borderRightWidth=oe(ea)+
"px",Xa.scrollbarsClipped=!0);S.updateMaxLine&&wb(ea);S.mustUpdate=S.viewChanged||S.forceUpdate||null!=S.scrollTop||S.scrollToPos&&(S.scrollToPos.from.line<La.viewFrom||S.scrollToPos.to.line>=La.viewTo)||La.maxLineChanged&&ea.options.lineWrapping;S.update=S.mustUpdate&&new ph(ea,S.mustUpdate&&{top:S.scrollTop,ensure:S.scrollToPos},S.forceUpdate)}for(X=0;X<p.length;X++)S=p[X],S.updatedDisplay=S.mustUpdate&&je(S.cm,S.update);for(X=0;X<p.length;X++)if(S=p[X],ea=S.cm,La=ea.display,S.updatedDisplay&&Qd(ea),
S.barMeasure=Aa(ea),La.maxLineChanged&&!ea.options.lineWrapping&&(Xa=La.maxLine.text.length,Xa=Zd(ea,df(ea,La.maxLine),Xa,void 0),S.adjustWidthTo=Xa.left+3,ea.display.sizerWidth=S.adjustWidthTo,S.barMeasure.scrollWidth=Math.max(La.scroller.clientWidth,La.sizer.offsetLeft+S.adjustWidthTo+oe(ea)+ea.display.barWidth),S.maxScrollLeft=Math.max(0,La.sizer.offsetLeft+S.adjustWidthTo-De(ea))),S.updatedDisplay||S.selectionChanged)S.preparedSelection=La.input.prepareSelection();for(X=0;X<p.length;X++)S=p[X],
ea=S.cm,null!=S.adjustWidthTo&&(ea.display.sizer.style.minWidth=S.adjustWidthTo+"px",S.maxScrollLeft<ea.doc.scrollLeft&&nf(ea,Math.min(ea.display.scroller.scrollLeft,S.maxScrollLeft),!0),ea.display.maxLineChanged=!1),La=S.focus&&S.focus==v(),S.preparedSelection&&ea.display.input.showSelection(S.preparedSelection,La),(S.updatedDisplay||S.startHeight!=ea.doc.height)&&Pa(ea,S.barMeasure),S.updatedDisplay&&Ce(ea,S.barMeasure),S.selectionChanged&&Mc(ea),ea.state.focused&&S.updateInput&&ea.display.input.reset(S.typing),
La&&Nd(S.cm);for(X=0;X<p.length;X++){var ab=void 0;S=p[X];ea=S.cm;La=ea.display;Xa=ea.doc;S.updatedDisplay&&Gd(ea,S.update);null==La.wheelStartX||null==S.scrollTop&&null==S.scrollLeft&&!S.scrollToPos||(La.wheelStartX=La.wheelStartY=null);null!=S.scrollTop&&Pe(ea,S.scrollTop,S.forceScroll);null!=S.scrollLeft&&nf(ea,S.scrollLeft,!0,!0);if(S.scrollToPos){var tb=jb(Xa,S.scrollToPos.from);var Ib=jb(Xa,S.scrollToPos.to);var dc=S.scrollToPos.margin;null==dc&&(dc=0);ea.options.lineWrapping||tb!=Ib||(tb=tb.ch?
$a(tb.line,"before"==tb.sticky?tb.ch-1:tb.ch,"after"):tb,Ib="before"==tb.sticky?$a(tb.line,tb.ch+1,"before"):tb);for(var Rc=0;5>Rc;Rc++){var vc=!1;ab=Be(ea,tb);var wc=Ib&&Ib!=tb?Be(ea,Ib):ab;ab={left:Math.min(ab.left,wc.left),top:Math.min(ab.top,wc.top)-dc,right:Math.max(ab.left,wc.left),bottom:Math.max(ab.bottom,wc.bottom)+dc};wc=tf(ea,ab);var td=ea.doc.scrollTop,ce=ea.doc.scrollLeft;null!=wc.scrollTop&&(yf(ea,wc.scrollTop),1<Math.abs(ea.doc.scrollTop-td)&&(vc=!0));null!=wc.scrollLeft&&(nf(ea,wc.scrollLeft),
1<Math.abs(ea.doc.scrollLeft-ce)&&(vc=!0));if(!vc)break}Ib=ab;P(ea,"scrollCursorIntoView")||(dc=ea.display,Rc=dc.sizer.getBoundingClientRect(),tb=null,0>Ib.top+Rc.top?tb=!0:Ib.bottom+Rc.top>(window.innerHeight||document.documentElement.clientHeight)&&(tb=!1),null==tb||pj||(Ib=H("div","​",null,"position: absolute;\n                         top: "+(Ib.top-dc.viewOffset-ea.display.lineSpace.offsetTop)+"px;\n                         height: "+(Ib.bottom-Ib.top+oe(ea)+dc.barHeight)+"px;\n                         left: "+
Ib.left+"px; width: "+Math.max(2,Ib.right-Ib.left)+"px;"),ea.display.lineSpace.appendChild(Ib),Ib.scrollIntoView(tb),ea.display.lineSpace.removeChild(Ib)))}Ib=S.maybeHiddenMarkers;tb=S.maybeUnhiddenMarkers;if(Ib)for(dc=0;dc<Ib.length;++dc)Ib[dc].lines.length||Z(Ib[dc],"hide");if(tb)for(Ib=0;Ib<tb.length;++Ib)tb[Ib].lines.length&&Z(tb[Ib],"unhide");La.wrapper.offsetHeight&&(Xa.scrollTop=ea.display.scroller.scrollTop);S.changeObjs&&Z(ea,"changes",ea,S.changeObjs);S.update&&S.update.finish()}})}function oc(b,
p){if(b.curOp)return p();Tb(b);try{return p()}finally{ic(b)}}function fd(b,p){return function(){if(b.curOp)return p.apply(b,arguments);Tb(b);try{return p.apply(b,arguments)}finally{ic(b)}}}function Wc(b){return function(){if(this.curOp)return b.apply(this,arguments);Tb(this);try{return b.apply(this,arguments)}finally{ic(this)}}}function nd(b){return function(){var p=this.cm;if(!p||p.curOp)return b.apply(this,arguments);Tb(p);try{return b.apply(this,arguments)}finally{ic(p)}}}function Kd(b,p){b.doc.highlightFrontier<
b.display.viewTo&&b.state.highlight.set(p,g(de,b))}function de(b){var p=b.doc;if(!(p.highlightFrontier>=b.display.viewTo)){var X=+new Date+b.options.workTime,S=md(b,p.highlightFrontier),ea=[];p.iter(S.line,Math.min(p.first+p.size,b.display.viewTo+500),function(La){if(S.line>=b.display.viewFrom){var Xa=La.styles,ab=La.text.length>b.options.maxHighlightLength?ta(p.mode,S.state):null,tb=Xb(b,La,S,!0);ab&&(S.state=ab);La.styles=tb.styles;ab=La.styleClasses;(tb=tb.classes)?La.styleClasses=tb:ab&&(La.styleClasses=
null);tb=!Xa||Xa.length!=La.styles.length||ab!=tb&&(!ab||!tb||ab.bgClass!=tb.bgClass||ab.textClass!=tb.textClass);for(ab=0;!tb&&ab<Xa.length;++ab)tb=Xa[ab]!=La.styles[ab];tb&&ea.push(S.line);La.stateAfter=S.save()}else La.text.length<=b.options.maxHighlightLength&&pc(b,La.text,S),La.stateAfter=0==S.line%5?S.save():null;S.nextLine();if(+new Date>X)return Kd(b,b.options.workDelay),!0});p.highlightFrontier=S.line;p.modeFrontier=Math.max(p.modeFrontier,S.line);ea.length&&oc(b,function(){for(var La=0;La<
ea.length;La++)wa(b,ea[La],"text")})}}function je(b,p){var X=b.display,S=b.doc;if(p.editorIsHidden)return Ea(b),!1;if(!p.force&&p.visible.from>=X.viewFrom&&p.visible.to<=X.viewTo&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo)&&X.renderedView==X.view&&0==Cb(b))return!1;Uf(b)&&(Ea(b),p.dims=lf(b));var ea=S.first+S.size,La=Math.max(p.visible.from-b.options.viewportMargin,S.first),Xa=Math.min(ea,p.visible.to+b.options.viewportMargin);X.viewFrom<La&&20>La-X.viewFrom&&(La=Math.max(S.first,
X.viewFrom));X.viewTo>Xa&&20>X.viewTo-Xa&&(Xa=Math.min(ea,X.viewTo));Ph&&(La=zc(b.doc,La),Xa=Vc(b.doc,Xa));S=La!=X.viewFrom||Xa!=X.viewTo||X.lastWrapHeight!=p.wrapperHeight||X.lastWrapWidth!=p.wrapperWidth;ea=b.display;0==ea.view.length||La>=ea.viewTo||Xa<=ea.viewFrom?(ea.view=Ub(b,La,Xa),ea.viewFrom=La):(ea.viewFrom>La?ea.view=Ub(b,La,ea.viewFrom).concat(ea.view):ea.viewFrom<La&&(ea.view=ea.view.slice(qe(b,La))),ea.viewFrom=La,ea.viewTo<Xa?ea.view=ea.view.concat(Ub(b,ea.viewTo,Xa)):ea.viewTo>Xa&&
(ea.view=ea.view.slice(0,qe(b,Xa))));ea.viewTo=Xa;X.viewOffset=Ka(ba(b.doc,X.viewFrom));b.display.mover.style.top=X.viewOffset+"px";Xa=Cb(b);if(!S&&0==Xa&&!p.force&&X.renderedView==X.view&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo))return!1;b.hasFocus()?La=null:(La=v())&&x(b.display.lineDiv,La)?(La={activeElt:La},window.getSelection&&(ea=window.getSelection(),ea.anchorNode&&ea.extend&&x(b.display.lineDiv,ea.anchorNode)&&(La.anchorNode=ea.anchorNode,La.anchorOffset=ea.anchorOffset,
La.focusNode=ea.focusNode,La.focusOffset=ea.focusOffset))):La=null;4<Xa&&(X.lineDiv.style.display="none");$d(b,X.updateLineNumbers,p.dims);4<Xa&&(X.lineDiv.style.display="");X.renderedView=X.view;(Xa=La)&&Xa.activeElt&&Xa.activeElt!=v()&&(Xa.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Xa.activeElt.nodeName)&&Xa.anchorNode&&x(document.body,Xa.anchorNode)&&x(document.body,Xa.focusNode)&&(La=window.getSelection(),ea=document.createRange(),ea.setEnd(Xa.anchorNode,Xa.anchorOffset),ea.collapse(!1),La.removeAllRanges(),
La.addRange(ea),La.extend(Xa.focusNode,Xa.focusOffset)));l(X.cursorDiv);l(X.selectionDiv);X.gutters.style.height=X.sizer.style.minHeight=0;S&&(X.lastWrapHeight=p.wrapperHeight,X.lastWrapWidth=p.wrapperWidth,Kd(b,400));X.updateLineNumbers=null;return!0}function Gd(b,p){for(var X=p.viewport,S=!0;;S=!1){if(S&&b.options.lineWrapping&&p.oldDisplayWidth!=De(b))S&&(p.visible=Gf(b.display,b.doc,X));else if(X&&null!=X.top&&(X={top:Math.min(b.doc.height+Ud(b.display)-fe(b),X.top)}),p.visible=Gf(b.display,b.doc,
X),p.visible.from>=b.display.viewFrom&&p.visible.to<=b.display.viewTo)break;if(!je(b,p))break;Qd(b);S=Aa(b);ub(b);Pa(b,S);Ce(b,S);p.force=!1}p.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)p.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function Le(b,p){p=new ph(b,p);if(je(b,p)){Qd(b);Gd(b,p);var X=Aa(b);ub(b);Pa(b,X);Ce(b,
X);p.finish()}}function $d(b,p,X){function S(vc){var wc=vc.nextSibling;Ag&&dh&&b.display.currentWheelTarget==vc?vc.style.display="none":vc.parentNode.removeChild(vc);return wc}var ea=b.display,La=b.options.lineNumbers,Xa=ea.lineDiv,ab=Xa.firstChild,tb=ea.view;ea=ea.viewFrom;for(var Ib=0;Ib<tb.length;Ib++){var dc=tb[Ib];if(!dc.hidden)if(dc.node&&dc.node.parentNode==Xa){for(;ab!=dc.node;)ab=S(ab);ab=La&&null!=p&&p<=ea&&dc.lineNumber;dc.changes&&(-1<a(dc.changes,"gutter")&&(ab=!1),Xc(b,dc,ea,X));ab&&
(l(dc.lineNumber),dc.lineNumber.appendChild(document.createTextNode(db(b.options,ea))));ab=dc.node.nextSibling}else{var Rc=Tc(b,dc,ea,X);Xa.insertBefore(Rc,ab)}ea+=dc.size}for(;ab;)ab=S(ab)}function Ie(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function Ce(b,p){b.display.sizer.style.minHeight=p.docHeight+"px";b.display.heightForcer.style.top=p.docHeight+"px";b.display.gutters.style.height=p.docHeight+b.display.barHeight+oe(b)+"px"}function Qe(b){var p=b.display,X=p.view;if(p.alignWidgets||
p.gutters.firstChild&&b.options.fixedGutter){for(var S=Yf(p)-p.scroller.scrollLeft+b.doc.scrollLeft,ea=p.gutters.offsetWidth,La=S+"px",Xa=0;Xa<X.length;Xa++)if(!X[Xa].hidden){b.options.fixedGutter&&(X[Xa].gutter&&(X[Xa].gutter.style.left=La),X[Xa].gutterBackground&&(X[Xa].gutterBackground.style.left=La));var ab=X[Xa].alignable;if(ab)for(var tb=0;tb<ab.length;tb++)ab[tb].style.left=La}b.options.fixedGutter&&(p.gutters.style.left=S+ea+"px")}}function Uf(b){if(!b.options.lineNumbers)return!1;var p=b.doc;
p=db(b.options,p.first+p.size-1);var X=b.display;if(p.length!=X.lineNumChars){var S=X.measure.appendChild(H("div",[H("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ea=S.firstChild.offsetWidth;S=S.offsetWidth-ea;X.lineGutter.style.width="";X.lineNumInnerWidth=Math.max(ea,X.lineGutter.offsetWidth-S)+1;X.lineNumWidth=X.lineNumInnerWidth+S;X.lineNumChars=X.lineNumInnerWidth?p.length:-1;X.lineGutter.style.width=X.lineNumWidth+"px";Ie(b.display);return!0}return!1}function ne(b,p){for(var X=[],
S=!1,ea=0;ea<b.length;ea++){var La=b[ea],Xa=null;"string"!=typeof La&&(Xa=La.style,La=La.className);if("CodeMirror-linenumbers"==La)if(p)S=!0;else continue;X.push({className:La,style:Xa})}p&&!S&&X.push({className:"CodeMirror-linenumbers",style:null});return X}function sf(b){var p=b.gutters,X=b.gutterSpecs;l(p);b.lineGutter=null;for(var S=0;S<X.length;++S){var ea=X[S],La=ea.className;ea=ea.style;var Xa=p.appendChild(H("div",null,"CodeMirror-gutter "+La));ea&&(Xa.style.cssText=ea);"CodeMirror-linenumbers"==
La&&(b.lineGutter=Xa,Xa.style.width=(b.lineNumWidth||1)+"px")}p.style.display=X.length?"":"none";Ie(b)}function Cf(b){sf(b.display);yc(b);Qe(b)}function Bg(b,p,X,S){this.input=X;this.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=H("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=N("div",null,"CodeMirror-code");this.selectionDiv=H("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=H("div",null,"CodeMirror-cursors");this.measure=H("div",null,"CodeMirror-measure");this.lineMeasure=H("div",null,"CodeMirror-measure");this.lineSpace=N("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var ea=N("div",[this.lineSpace],"CodeMirror-lines");this.mover=H("div",[ea],null,"position: relative");this.sizer=H("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=H("div",null,null,
"position: absolute; height: 50px; width: 1px;");this.gutters=H("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=H("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=H("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");wf&&8>Ff&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Ag||Eg&&ri||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):
b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=p.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=ne(S.gutters,S.lineNumbers);sf(this);X.init(this)}function Lf(b){var p=b.wheelDeltaX,X=b.wheelDeltaY;null==p&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(p=b.detail);null==X&&b.detail&&b.axis==b.VERTICAL_AXIS?X=b.detail:null==X&&(X=b.wheelDelta);return{x:p,y:X}}function jg(b){b=Lf(b);b.x*=Og;b.y*=Og;return b}function xa(b,p){var X=Lf(p),S=X.x;X=X.y;var ea=b.display,
La=ea.scroller,Xa=La.scrollWidth>La.clientWidth,ab=La.scrollHeight>La.clientHeight;if(S&&Xa||X&&ab){if(X&&dh&&Ag){Xa=p.target;var tb=ea.view;a:for(;Xa!=La;Xa=Xa.parentNode)for(var Ib=0;Ib<tb.length;Ib++)if(tb[Ib].node==Xa){b.display.currentWheelTarget=Xa;break a}}!S||Eg||Jg||null==Og?(X&&null!=Og&&(p=X*Og,ab=b.doc.scrollTop,Xa=ab+ea.wrapper.clientHeight,0>p?ab=Math.max(0,ab+p-50):Xa=Math.min(b.doc.height,Xa+p+50),Le(b,{top:ab,bottom:Xa})),20>ui&&(null==ea.wheelStartX?(ea.wheelStartX=La.scrollLeft,
ea.wheelStartY=La.scrollTop,ea.wheelDX=S,ea.wheelDY=X,setTimeout(function(){if(null!=ea.wheelStartX){var dc=La.scrollLeft-ea.wheelStartX,Rc=La.scrollTop-ea.wheelStartY;dc=Rc&&ea.wheelDY&&Rc/ea.wheelDY||dc&&ea.wheelDX&&dc/ea.wheelDX;ea.wheelStartX=ea.wheelStartY=null;dc&&(Og=(Og*ui+dc)/(ui+1),++ui)}},200)):(ea.wheelDX+=S,ea.wheelDY+=X))):(X&&ab&&yf(b,Math.max(0,La.scrollTop+X*Og)),nf(b,Math.max(0,La.scrollLeft+S*Og)),(!X||X&&ab)&&aa(p),ea.wheelStartX=null)}}function za(b,p,X){b=b&&b.options.selectionsMayTouch;
X=p[X];p.sort(function(tb,Ib){return Ca(tb.from(),Ib.from())});X=a(p,X);for(var S=1;S<p.length;S++){var ea=p[S],La=p[S-1],Xa=Ca(La.to(),ea.from());if(b&&!ea.empty()?0<Xa:0<=Xa){Xa=Ua(La.from(),ea.from());var ab=Ha(La.to(),ea.to());ea=La.empty()?ea.from()==ea.head:La.from()==La.head;S<=X&&--X;p.splice(--S,2,new Jf(ea?ab:Xa,ea?Xa:ab))}}return new Hg(p,X)}function Na(b,p){return new Hg([new Jf(b,p||b)],0)}function Sa(b){return b.text?$a(b.from.line+b.text.length-1,y(b.text).length+(1==b.text.length?
b.from.ch:0)):b.to}function fb(b,p){if(0>Ca(b,p.from))return b;if(0>=Ca(b,p.to))return Sa(p);var X=b.line+p.text.length-(p.to.line-p.from.line)-1,S=b.ch;b.line==p.to.line&&(S+=Sa(p).ch-p.to.ch);return $a(X,S)}function hb(b,p){for(var X=[],S=0;S<b.sel.ranges.length;S++){var ea=b.sel.ranges[S];X.push(new Jf(fb(ea.anchor,p),fb(ea.head,p)))}return za(b.cm,X,b.sel.primIndex)}function qb(b,p,X){return b.line==p.line?$a(X.line,b.ch-p.ch+X.ch):$a(X.line+(b.line-p.line),b.ch)}function Db(b){b.doc.mode=Ya(b.options,
b.doc.modeOption);Ab(b)}function Ab(b){b.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null);p.styles&&(p.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;Kd(b,100);b.state.modeGen++;b.curOp&&yc(b)}function Kb(b,p){return 0==p.from.ch&&0==p.to.ch&&""==y(p.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function Jb(b,p,X,S){function ea(td,ce,Se){td.text=ce;td.stateAfter&&(td.stateAfter=null);td.styles&&(td.styles=null);null!=td.order&&(td.order=null);wd(td);vd(td,Se);ce=
S?S(td):1;ce!=td.height&&qa(td,ce);Bc(td,"change",td,p)}function La(td,ce){for(var Se=[];td<ce;++td)Se.push(new Yh(tb[td],X?X[td]:null,S));return Se}var Xa=p.from,ab=p.to,tb=p.text,Ib=ba(b,Xa.line),dc=ba(b,ab.line),Rc=y(tb),vc=X?X[tb.length-1]:null,wc=ab.line-Xa.line;p.full?(b.insert(0,La(0,tb.length)),b.remove(tb.length,b.size-tb.length)):Kb(b,p)?(ab=La(0,tb.length-1),ea(dc,dc.text,vc),wc&&b.remove(Xa.line,wc),ab.length&&b.insert(Xa.line,ab)):Ib==dc?1==tb.length?ea(Ib,Ib.text.slice(0,Xa.ch)+Rc+Ib.text.slice(ab.ch),
vc):(wc=La(1,tb.length-1),wc.push(new Yh(Rc+Ib.text.slice(ab.ch),vc,S)),ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0],X?X[0]:null),b.insert(Xa.line+1,wc)):1==tb.length?(ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0]+dc.text.slice(ab.ch),X?X[0]:null),b.remove(Xa.line+1,wc)):(ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0],X?X[0]:null),ea(dc,Rc+dc.text.slice(ab.ch),vc),vc=La(1,tb.length-1),1<wc&&b.remove(Xa.line+1,wc-1),b.insert(Xa.line+1,vc));Bc(b,"change",b,p)}function cc(b,p,X){function S(ea,La,Xa){if(ea.linked)for(var ab=0;ab<ea.linked.length;++ab){var tb=
ea.linked[ab];if(tb.doc!=La){var Ib=Xa&&tb.sharedHist;if(!X||Ib)p(tb.doc,Ib),S(tb.doc,ea,Ib)}}}S(b,null,!0)}function xc(b,p){if(p.cm)throw Error("This document is already in use.");b.doc=p;p.cm=b;Sf(b);Db(b);Y(b);b.options.lineWrapping||wb(b);b.options.mode=p.modeOption;yc(b)}function Y(b){("rtl"==b.doc.direction?u:Dh)(b.display.lineDiv,"CodeMirror-rtl")}function oa(b){oc(b,function(){Y(b);yc(b)})}function Oa(b){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=
0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b||1}function Va(b,p){var X={from:pa(p.from),to:Sa(p),text:ca(b,p.from,p.to)};qc(b,X,p.from.line,p.to.line+1);cc(b,function(S){return qc(S,X,p.from.line,p.to.line+1)},!0);return X}function xb(b){for(;b.length;)if(y(b).ranges)b.pop();else break}function Sb(b,p,X,S){var ea=b.history;ea.undone.length=0;var La=+new Date,Xa;if(Xa=ea.lastOp==S||ea.lastOrigin==p.origin&&p.origin&&("+"==p.origin.charAt(0)&&
ea.lastModTime>La-(b.cm?b.cm.options.historyEventDelay:500)||"*"==p.origin.charAt(0))){if(ea.lastOp==S){xb(ea.done);var ab=y(ea.done)}else ea.done.length&&!y(ea.done).ranges?ab=y(ea.done):1<ea.done.length&&!ea.done[ea.done.length-2].ranges?(ea.done.pop(),ab=y(ea.done)):ab=void 0;Xa=ab}if(Xa){var tb=y(ab.changes);0==Ca(p.from,p.to)&&0==Ca(p.from,tb.to)?tb.to=Sa(p):ab.changes.push(Va(b,p))}else for((ab=y(ea.done))&&ab.ranges||Zb(b.sel,ea.done),ab={changes:[Va(b,p)],generation:ea.generation},ea.done.push(ab);ea.done.length>
ea.undoDepth;)ea.done.shift(),ea.done[0].ranges||ea.done.shift();ea.done.push(X);ea.generation=++ea.maxGeneration;ea.lastModTime=ea.lastSelTime=La;ea.lastOp=ea.lastSelOp=S;ea.lastOrigin=ea.lastSelOrigin=p.origin;tb||Z(b,"historyAdded")}function Zb(b,p){var X=y(p);X&&X.ranges&&X.equals(b)||p.push(b)}function qc(b,p,X,S){var ea=p["spans_"+b.id],La=0;b.iter(Math.max(b.first,X),Math.min(b.first+b.size,S),function(Xa){Xa.markedSpans&&((ea||(ea=p["spans_"+b.id]={}))[La]=Xa.markedSpans);++La})}function Ec(b){if(!b)return null;
for(var p,X=0;X<b.length;++X)b[X].marker.explicitlyCleared?p||(p=b.slice(0,X)):p&&p.push(b[X]);return p?p.length?p:null:b}function ed(b,p){var X;if(X=p["spans_"+b.id]){for(var S=[],ea=0;ea<p.text.length;++ea)S.push(Ec(X[ea]));X=S}else X=null;b=Lc(b,p);if(!X)return b;if(!b)return X;for(p=0;p<X.length;++p)if(S=X[p],ea=b[p],S&&ea){var La=0;a:for(;La<ea.length;++La){for(var Xa=ea[La],ab=0;ab<S.length;++ab)if(S[ab].marker==Xa.marker)continue a;S.push(Xa)}}else ea&&(X[p]=ea);return X}function Zc(b,p,X){for(var S=
[],ea=0;ea<b.length;++ea){var La=b[ea];if(La.ranges)S.push(X?Hg.prototype.deepCopy.call(La):La);else{La=La.changes;var Xa=[];S.push({changes:Xa});for(var ab=0;ab<La.length;++ab){var tb=La[ab],Ib;Xa.push({from:tb.from,to:tb.to,text:tb.text});if(p)for(var dc in tb)(Ib=dc.match(/^spans_(\d+)$/))&&-1<a(p,Number(Ib[1]))&&(y(Xa)[dc]=tb[dc],delete tb[dc])}}}return S}function Pd(b,p,X,S){return S?(b=b.anchor,X&&(S=0>Ca(p,b),S!=0>Ca(X,b)?(b=p,p=X):S!=0>Ca(p,X)&&(p=X)),new Jf(b,p)):new Jf(X||p,p)}function be(b,
p,X,S,ea){null==ea&&(ea=b.cm&&(b.cm.display.shift||b.extend));Wa(b,new Hg([Pd(b.sel.primary(),p,X,ea)],0),S)}function pd(b,p,X){for(var S=[],ea=b.cm&&(b.cm.display.shift||b.extend),La=0;La<b.sel.ranges.length;La++)S[La]=Pd(b.sel.ranges[La],p[La],null,ea);p=za(b.cm,S,b.sel.primIndex);Wa(b,p,X)}function Ad(b,p,X,S){var ea=b.sel.ranges.slice(0);ea[p]=X;Wa(b,za(b.cm,ea,b.sel.primIndex),S)}function id(b,p,X){X={ranges:p.ranges,update:function(S){this.ranges=[];for(var ea=0;ea<S.length;ea++)this.ranges[ea]=
new Jf(jb(b,S[ea].anchor),jb(b,S[ea].head))},origin:X&&X.origin};Z(b,"beforeSelectionChange",b,X);b.cm&&Z(b.cm,"beforeSelectionChange",b.cm,X);return X.ranges!=p.ranges?za(b.cm,X.ranges,X.ranges.length-1):p}function af(b,p,X){var S=b.history.done,ea=y(S);ea&&ea.ranges?(S[S.length-1]=p,ob(b,p,X)):Wa(b,p,X)}function Wa(b,p,X){ob(b,p,X);p=b.sel;var S=b.cm?b.cm.curOp.id:NaN,ea=b.history,La=X&&X.origin,Xa;if(!(Xa=S==ea.lastSelOp)&&(Xa=La&&ea.lastSelOrigin==La)&&!(Xa=ea.lastModTime==ea.lastSelTime&&ea.lastOrigin==
La)){Xa=y(ea.done);var ab=La.charAt(0);Xa="*"==ab||"+"==ab&&Xa.ranges.length==p.ranges.length&&Xa.somethingSelected()==p.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}Xa?ea.done[ea.done.length-1]=p:Zb(p,ea.done);ea.lastSelTime=+new Date;ea.lastSelOrigin=La;ea.lastSelOp=S;X&&!1!==X.clearRedo&&xb(ea.undone)}function ob(b,p,X){if(V(b,"beforeSelectionChange")||b.cm&&V(b.cm,"beforeSelectionChange"))p=id(b,p,X);var S=X&&X.bias||(0>Ca(p.primary().head,b.sel.primary().head)?
-1:1);zb(b,bc(b,p,S,!0));X&&!1===X.scroll||!b.cm||"nocursor"==b.cm.getOption("readOnly")||We(b.cm)}function zb(b,p){p.equals(b.sel)||(b.sel=p,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,C(b.cm)),Bc(b,"cursorActivity",b))}function Mb(b){zb(b,bc(b,b.sel,null,!1))}function bc(b,p,X,S){for(var ea,La=0;La<p.ranges.length;La++){var Xa=p.ranges[La],ab=p.ranges.length==b.sel.ranges.length&&b.sel.ranges[La],tb=r(b,Xa.anchor,ab&&ab.anchor,X,S);ab=r(b,Xa.head,ab&&ab.head,X,S);if(ea||tb!=Xa.anchor||
ab!=Xa.head)ea||(ea=p.ranges.slice(0,La)),ea[La]=new Jf(tb,ab)}return ea?za(b.cm,ea,p.primIndex):p}function Kc(b,p,X,S,ea){var La=ba(b,p.line);if(La.markedSpans)for(var Xa=0;Xa<La.markedSpans.length;++Xa){var ab=La.markedSpans[Xa],tb=ab.marker,Ib="selectLeft"in tb?!tb.selectLeft:tb.inclusiveLeft,dc="selectRight"in tb?!tb.selectRight:tb.inclusiveRight;if((null==ab.from||(Ib?ab.from<=p.ch:ab.from<p.ch))&&(null==ab.to||(dc?ab.to>=p.ch:ab.to>p.ch))){if(ea&&(Z(tb,"beforeCursorEnter"),tb.explicitlyCleared))if(La.markedSpans){--Xa;
continue}else break;if(tb.atomic){if(X){Xa=tb.find(0>S?1:-1);ab=void 0;if(0>S?dc:Ib)Xa=Q(b,Xa,-S,Xa&&Xa.line==p.line?La:null);if(Xa&&Xa.line==p.line&&(ab=Ca(Xa,X))&&(0>S?0>ab:0<ab))return Kc(b,Xa,p,S,ea)}X=tb.find(0>S?-1:1);if(0>S?Ib:dc)X=Q(b,X,S,X.line==p.line?La:null);return X?Kc(b,X,p,S,ea):null}}}return p}function r(b,p,X,S,ea){S=S||1;p=Kc(b,p,X,S,ea)||!ea&&Kc(b,p,X,S,!0)||Kc(b,p,X,-S,ea)||!ea&&Kc(b,p,X,-S,!0);return p?p:(b.cantEdit=!0,$a(b.first,0))}function Q(b,p,X,S){return 0>X&&0==p.ch?p.line>
b.first?jb(b,$a(p.line-1)):null:0<X&&p.ch==(S||ba(b,p.line)).text.length?p.line<b.first+b.size-1?$a(p.line+1,0):null:new $a(p.line,p.ch+X)}function ma(b){b.setSelection($a(b.firstLine(),0),$a(b.lastLine()),mg)}function Ma(b,p,X){var S={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return S.canceled=!0}};X&&(S.update=function(ea,La,Xa,ab){ea&&(S.from=jb(b,ea));La&&(S.to=jb(b,La));Xa&&(S.text=Xa);void 0!==ab&&(S.origin=ab)});Z(b,"beforeChange",b,S);b.cm&&Z(b.cm,"beforeChange",
b.cm,S);return S.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:S.from,to:S.to,text:S.text,origin:S.origin}}function gb(b,p,X){if(b.cm){if(!b.cm.curOp)return fd(b.cm,gb)(b,p,X);if(b.cm.state.suppressEdits)return}if(V(b,"beforeChange")||b.cm&&V(b.cm,"beforeChange"))if(p=Ma(b,p,!0),!p)return;if(X=ak&&!X&&ge(b,p.from,p.to))for(var S=X.length-1;0<=S;--S)lb(b,{from:X[S].from,to:X[S].to,text:S?[""]:p.text,origin:p.origin});else lb(b,p)}function lb(b,p){if(1!=p.text.length||""!=p.text[0]||0!=Ca(p.from,
p.to)){var X=hb(b,p);Sb(b,p,X,b.cm?b.cm.curOp.id:NaN);ec(b,p,X,Lc(b,p));var S=[];cc(b,function(ea,La){La||-1!=a(S,ea.history)||(rd(ea.history,p),S.push(ea.history));ec(ea,p,null,Lc(ea,p))})}}function sb(b,p,X){var S=b.cm&&b.cm.state.suppressEdits;if(!S||X){for(var ea=b.history,La,Xa=b.sel,ab="undo"==p?ea.done:ea.undone,tb="undo"==p?ea.undone:ea.done,Ib=0;Ib<ab.length&&(La=ab[Ib],X?!La.ranges||La.equals(b.sel):La.ranges);Ib++);if(Ib!=ab.length){for(ea.lastOrigin=ea.lastSelOrigin=null;;)if(La=ab.pop(),
La.ranges){Zb(La,tb);if(X&&!La.equals(b.sel)){Wa(b,La,{clearRedo:!1});return}Xa=La}else{if(S){ab.push(La);return}break}var dc=[];Zb(Xa,tb);tb.push({changes:dc,generation:ea.generation});ea.generation=La.generation||++ea.maxGeneration;var Rc=V(b,"beforeChange")||b.cm&&V(b.cm,"beforeChange");X=function(vc){var wc=La.changes[vc];wc.origin=p;if(Rc&&!Ma(b,wc,!1))return ab.length=0,{};dc.push(Va(b,wc));var td=vc?hb(b,wc):y(ab);ec(b,wc,td,ed(b,wc));!vc&&b.cm&&b.cm.scrollIntoView({from:wc.from,to:Sa(wc)});
var ce=[];cc(b,function(Se,bf){bf||-1!=a(ce,Se.history)||(rd(Se.history,wc),ce.push(Se.history));ec(Se,wc,null,ed(Se,wc))})};for(S=La.changes.length-1;0<=S;--S)if(ea=X(S))return ea.v}}}function Rb(b,p){if(0!=p&&(b.first+=p,b.sel=new Hg(B(b.sel.ranges,function(ea){return new Jf($a(ea.anchor.line+p,ea.anchor.ch),$a(ea.head.line+p,ea.head.ch))}),b.sel.primIndex),b.cm)){yc(b.cm,b.first,b.first-p,p);for(var X=b.cm.display,S=X.viewFrom;S<X.viewTo;S++)wa(b.cm,S,"gutter")}}function ec(b,p,X,S){if(b.cm&&!b.cm.curOp)return fd(b.cm,
ec)(b,p,X,S);if(p.to.line<b.first)Rb(b,p.text.length-1-(p.to.line-p.from.line));else if(!(p.from.line>b.lastLine())){if(p.from.line<b.first){var ea=p.text.length-1-(b.first-p.from.line);Rb(b,ea);p={from:$a(b.first,0),to:$a(p.to.line+ea,p.to.ch),text:[y(p.text)],origin:p.origin}}ea=b.lastLine();p.to.line>ea&&(p={from:p.from,to:$a(ea,ba(b,ea).text.length),text:[p.text[0]],origin:p.origin});p.removed=ca(b,p.from,p.to);X||(X=hb(b,p));b.cm?Vb(b.cm,p,S):Jb(b,p,S);ob(b,X,mg);b.cantEdit&&r(b,$a(b.firstLine(),
0))&&(b.cantEdit=!1)}}function Vb(b,p,X){var S=b.doc,ea=b.display,La=p.from,Xa=p.to,ab=!1,tb=La.line;b.options.lineWrapping||(tb=Fa(Eb(ba(S,La.line))),S.iter(tb,Xa.line+1,function(Ib){if(Ib==ea.maxLine)return ab=!0}));-1<S.sel.contains(p.from,p.to)&&C(b);Jb(S,p,X,If(b));b.options.lineWrapping||(S.iter(tb,La.line+p.text.length,function(Ib){var dc=eb(Ib);dc>ea.maxLineLength&&(ea.maxLine=Ib,ea.maxLineLength=dc,ea.maxLineChanged=!0,ab=!1)}),ab&&(b.curOp.updateMaxLine=!0));sc(S,La.line);Kd(b,400);X=p.text.length-
(Xa.line-La.line)-1;p.full?yc(b):La.line!=Xa.line||1!=p.text.length||Kb(b.doc,p)?yc(b,La.line,Xa.line+1,X):wa(b,La.line,"text");X=V(b,"changes");if((S=V(b,"change"))||X)p={from:La,to:Xa,text:p.text,removed:p.removed,origin:p.origin},S&&Bc(b,"change",b,p),X&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(p);b.display.selForContextMenu=null}function Qc(b,p,X,S,ea){S||(S=X);0>Ca(S,X)&&(S=[S,X],X=S[0],S=S[1]);"string"==typeof p&&(p=b.splitLines(p));gb(b,{from:X,to:S,text:p,origin:ea})}function dd(b,
p,X,S){X<b.line?b.line+=S:p<b.line&&(b.line=p,b.ch=0)}function zd(b,p,X,S){for(var ea=0;ea<b.length;++ea){var La=b[ea],Xa=!0;if(La.ranges)for(La.copied||(La=b[ea]=La.deepCopy(),La.copied=!0),Xa=0;Xa<La.ranges.length;Xa++)dd(La.ranges[Xa].anchor,p,X,S),dd(La.ranges[Xa].head,p,X,S);else{for(var ab=0;ab<La.changes.length;++ab){var tb=La.changes[ab];if(X<tb.from.line)tb.from=$a(tb.from.line+S,tb.from.ch),tb.to=$a(tb.to.line+S,tb.to.ch);else if(p<=tb.to.line){Xa=!1;break}}Xa||(b.splice(0,ea+1),ea=0)}}}
function rd(b,p){var X=p.from.line,S=p.to.line;p=p.text.length-(S-X)-1;zd(b.done,X,S,p);zd(b.undone,X,S,p)}function bd(b,p,X,S){var ea=p,La=p;"number"==typeof p?La=ba(b,Math.max(b.first,Math.min(p,b.first+b.size-1))):ea=Fa(p);if(null==ea)return null;S(La,ea)&&b.cm&&wa(b.cm,ea,X);return La}function Jc(b){this.lines=b;this.parent=null;for(var p=0,X=0;X<b.length;++X)b[X].parent=this,p+=b[X].height;this.height=p}function ud(b){this.children=b;for(var p=0,X=0,S=0;S<b.length;++S){var ea=b[S];p+=ea.chunkSize();
X+=ea.height;ea.parent=this}this.size=p;this.height=X;this.parent=null}function ee(b,p,X,S){var ea=new Uh(b,X,S),La=b.cm;La&&ea.noHScroll&&(La.display.alignWidgets=!0);bd(b,p,"widget",function(Xa){var ab=Xa.widgets||(Xa.widgets=[]);null==ea.insertAt?ab.push(ea):ab.splice(Math.min(ab.length,Math.max(0,ea.insertAt)),0,ea);ea.line=Xa;La&&!Ed(b,Xa)&&(ab=Ka(Xa)<b.scrollTop,qa(Xa,Xa.height+Cd(ea)),ab&&kd(La,ea.height),La.curOp.forceUpdate=!0);return!0});La&&Bc(La,"lineWidgetAdded",La,ea,"number"==typeof p?
p:Fa(p));return ea}function Sd(b,p,X,S,ea){if(S&&S.shared)return ye(b,p,X,S,ea);if(b.cm&&!b.cm.curOp)return fd(b.cm,Sd)(b,p,X,S,ea);var La=new lh(b,ea);ea=Ca(p,X);S&&d(S,La,!1);if(0<ea||0==ea&&!1!==La.clearWhenEmpty)return La;La.replacedWith&&(La.collapsed=!0,La.widgetNode=N("span",[La.replacedWith],"CodeMirror-widget"),S.handleMouseEvents||La.widgetNode.setAttribute("cm-ignore-events","true"),S.insertLeft&&(La.widgetNode.insertLeft=!0));if(La.collapsed){if(gc(b,p.line,p,X,La)||p.line!=X.line&&gc(b,
X.line,p,X,La))throw Error("Inserting collapsed marker partially overlapping an existing one");Ph=!0}La.addToHistory&&Sb(b,{from:p,to:X,origin:"markText"},b.sel,NaN);var Xa=p.line,ab=b.cm,tb;b.iter(Xa,X.line+1,function(Ib){ab&&La.collapsed&&!ab.options.lineWrapping&&Eb(Ib)==ab.display.maxLine&&(tb=!0);La.collapsed&&Xa!=p.line&&qa(Ib,0);var dc=new Uc(La,Xa==p.line?p.ch:null,Xa==X.line?X.ch:null);Ib.markedSpans=Ib.markedSpans?Ib.markedSpans.concat([dc]):[dc];dc.marker.attachLine(Ib);++Xa});La.collapsed&&
b.iter(p.line,X.line+1,function(Ib){Ed(b,Ib)&&qa(Ib,0)});La.clearOnEnter&&Te(La,"beforeCursorEnter",function(){return La.clear()});La.readOnly&&(ak=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());La.collapsed&&(La.id=++Dj,La.atomic=!0);if(ab){tb&&(ab.curOp.updateMaxLine=!0);if(La.collapsed)yc(ab,p.line,X.line+1);else if(La.className||La.startStyle||La.endStyle||La.css||La.attributes||La.title)for(S=p.line;S<=X.line;S++)wa(ab,S,"text");La.atomic&&Mb(ab.doc);Bc(ab,"markerAdded",
ab,La)}return La}function ye(b,p,X,S,ea){S=d(S);S.shared=!1;var La=[Sd(b,p,X,S,ea)],Xa=La[0],ab=S.widgetNode;cc(b,function(tb){ab&&(S.widgetNode=ab.cloneNode(!0));La.push(Sd(tb,jb(tb,p),jb(tb,X),S,ea));for(var Ib=0;Ib<tb.linked.length;++Ib)if(tb.linked[Ib].isParent)return;Xa=y(La)});return new pi(La,Xa)}function re(b){return b.findMarks($a(b.first,0),b.clipPos($a(b.lastLine())),function(p){return p.parent})}function Pf(b){for(var p=function(S){S=b[S];var ea=[S.primary.doc];cc(S.primary.doc,function(ab){return ea.push(ab)});
for(var La=0;La<S.markers.length;La++){var Xa=S.markers[La];-1==a(ea,Xa.doc)&&(Xa.parent=null,S.markers.splice(La--,1))}},X=0;X<b.length;X++)p(X)}function ke(b){var p=this;pe(p);if(!P(p,b)&&!Dd(p.display,b)){aa(b);wf&&(gj=+new Date);var X=Bf(p,b,!0),S=b.dataTransfer.files;if(X&&!p.isReadOnly())if(S&&S.length&&window.FileReader&&window.File)for(var ea=S.length,La=Array(ea),Xa=0,ab=function(){++Xa==ea&&fd(p,function(){X=jb(p.doc,X);var dc={from:X,to:X,text:p.doc.splitLines(La.filter(function(Rc){return null!=
Rc}).join(p.doc.lineSeparator())),origin:"paste"};gb(p.doc,dc);af(p.doc,Na(jb(p.doc,X),jb(p.doc,Sa(dc))))})()},tb=function(dc,Rc){if(p.options.allowDropFileTypes&&-1==a(p.options.allowDropFileTypes,dc.type))ab();else{var vc=new FileReader;vc.onerror=function(){return ab()};vc.onload=function(){var wc=vc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(wc)||(La[Rc]=wc);ab()};vc.readAsText(dc)}},Ib=0;Ib<S.length;Ib++)tb(S[Ib],Ib);else if(p.state.draggingText&&-1<p.doc.sel.contains(X))p.state.draggingText(b),setTimeout(function(){return p.display.input.focus()},
20);else try{if(tb=b.dataTransfer.getData("Text")){p.state.draggingText&&!p.state.draggingText.copy&&(Ib=p.listSelections());ob(p.doc,Na(X,X));if(Ib)for(S=0;S<Ib.length;++S)Qc(p.doc,"",Ib[S].anchor,Ib[S].head,"drag");p.replaceSelection(tb,"around","paste");p.display.input.focus()}}catch(dc){}}}function pe(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),b.display.dragCursor=null)}function Re(b){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),
X=[],S=0;S<p.length;S++){var ea=p[S].CodeMirror;ea&&X.push(ea)}X.length&&X[0].operation(function(){for(var La=0;La<X.length;La++)b(X[La])})}}function xd(){var b;Te(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;Re(Oe)},100))});Te(window,"blur",function(){return Re(jd)})}function Oe(b){var p=b.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null;p.scrollbarsClipped=!1;b.setSize()}function dg(b){var p=b.split(/-(?!$)/);b=p[p.length-1];for(var X,S,ea,La,Xa=0;Xa<p.length-
1;Xa++){var ab=p[Xa];if(/^(cmd|meta|m)$/i.test(ab))La=!0;else if(/^a(lt)?$/i.test(ab))X=!0;else if(/^(c|ctrl|control)$/i.test(ab))S=!0;else if(/^s(hift)?$/i.test(ab))ea=!0;else throw Error("Unrecognized modifier name: "+ab);}X&&(b="Alt-"+b);S&&(b="Ctrl-"+b);La&&(b="Cmd-"+b);ea&&(b="Shift-"+b);return b}function Xe(b){var p={},X;for(X in b)if(b.hasOwnProperty(X)){var S=b[X];if(!/^(name|fallthrough|(de|at)tach)$/.test(X)){if("..."!=S)for(var ea=B(X.split(" "),dg),La=0;La<ea.length;La++){if(La==ea.length-
1){var Xa=ea.join(" ");var ab=S}else Xa=ea.slice(0,La+1).join(" "),ab="...";var tb=p[Xa];if(!tb)p[Xa]=ab;else if(tb!=ab)throw Error("Inconsistent bindings for "+Xa);}delete b[X]}}for(var Ib in p)b[Ib]=p[Ib];return b}function $f(b,p,X,S){p=Vf(p);var ea=p.call?p.call(b,S):p[b];if(!1===ea)return"nothing";if("..."===ea)return"multi";if(null!=ea&&X(ea))return"handled";if(p.fallthrough){if("[object Array]"!=Object.prototype.toString.call(p.fallthrough))return $f(b,p.fallthrough,X,S);for(ea=0;ea<p.fallthrough.length;ea++){var La=
$f(b,p.fallthrough[ea],X,S);if(La)return La}}}function vf(b){b="string"==typeof b?b:Oh[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Df(b,p,X){var S=b;p.altKey&&"Alt"!=S&&(b="Alt-"+b);(Kj?p.metaKey:p.ctrlKey)&&"Ctrl"!=S&&(b="Ctrl-"+b);(Kj?p.ctrlKey:p.metaKey)&&"Mod"!=S&&(b="Cmd-"+b);!X&&p.shiftKey&&"Shift"!=S&&(b="Shift-"+b);return b}function Qf(b,p){if(Jg&&34==b.keyCode&&b["char"])return!1;var X=Oh[b.keyCode];if(null==X||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(X=b.code);
return Df(X,b,p)}function Vf(b){return"string"==typeof b?Mi[b]:b}function Xg(b,p){for(var X=b.doc.sel.ranges,S=[],ea=0;ea<X.length;ea++){for(var La=p(X[ea]);S.length&&0>=Ca(La.from,y(S).to);){var Xa=S.pop();if(0>Ca(Xa.from,La.from)){La.from=Xa.from;break}}S.push(La)}oc(b,function(){for(var ab=S.length-1;0<=ab;ab--)Qc(b.doc,"",S[ab].from,S[ab].to,"+delete");We(b)})}function Bh(b,p,X){p=R(b.text,p+X,X);return 0>p||p>b.text.length?null:p}function sh(b,p,X){b=Bh(b,p.ch,X);return null==b?null:new $a(p.line,
b,0>X?"after":"before")}function Ti(b,p,X,S,ea){if(b&&("rtl"==p.doc.direction&&(ea=-ea),b=ha(X,p.doc.direction))){b=0>ea?y(b):b[0];var La=0>ea==(1==b.level)?"after":"before";if(0<b.level||"rtl"==p.doc.direction){var Xa=df(p,X);var ab=0>ea?X.text.length-1:0;var tb=Zd(p,Xa,ab).top;ab=T(function(Ib){return Zd(p,Xa,Ib).top==tb},0>ea==(1==b.level)?b.from:b.to-1,ab);"before"==La&&(ab=Bh(X,ab,1))}else ab=0>ea?b.to:b.from;return new $a(S,ab,La)}return new $a(S,0>ea?X.text.length:0,0>ea?"before":"after")}
function hk(b,p,X,S){var ea=ha(p,b.doc.direction);if(!ea)return sh(p,X,S);X.ch>=p.text.length?(X.ch=p.text.length,X.sticky="before"):0>=X.ch&&(X.ch=0,X.sticky="after");var La=fa(ea,X.ch,X.sticky),Xa=ea[La];if("ltr"==b.doc.direction&&0==Xa.level%2&&(0<S?Xa.to>X.ch:Xa.from<X.ch))return sh(p,X,S);var ab=function(wc,td){return Bh(p,wc instanceof $a?wc.ch:wc,td)},tb,Ib=function(wc){if(!b.options.lineWrapping)return{begin:0,end:p.text.length};tb=tb||df(b,p);return Xf(b,p,tb,wc)},dc=Ib("before"==X.sticky?
ab(X,-1):X.ch);if("rtl"==b.doc.direction||1==Xa.level){var Rc=1==Xa.level==0>S,vc=ab(X,Rc?1:-1);if(null!=vc&&(Rc?vc<=Xa.to&&vc<=dc.end:vc>=Xa.from&&vc>=dc.begin))return new $a(X.line,vc,Rc?"before":"after")}Xa=function(wc,td,ce){for(var Se=function(Af,bg){return bg?new $a(X.line,ab(Af,1),"before"):new $a(X.line,Af,"after")};0<=wc&&wc<ea.length;wc+=td){var bf=ea[wc],He=0<td==(1!=bf.level),cg=He?ce.begin:ab(ce.end,-1);if(bf.from<=cg&&cg<bf.to)return Se(cg,He);cg=He?bf.from:ab(bf.to,-1);if(ce.begin<=
cg&&cg<ce.end)return Se(cg,He)}};if(La=Xa(La+S,S,dc))return La;dc=0<S?dc.end:ab(dc.begin,-1);return null==dc||0<S&&dc==p.text.length||!(La=Xa(0<S?0:ea.length-1,S,Ib(dc)))?null:La}function nk(b,p){var X=ba(b.doc,p),S=Eb(X);S!=X&&(p=Fa(S));return Ti(!0,b,S,p,1)}function Pj(b,p){var X=nk(b,p.line),S=ba(b.doc,X.line);b=ha(S,b.doc.direction);return b&&0!=b[0].level?X:(S=Math.max(X.ch,S.text.search(/\S/)),$a(X.line,p.line==X.line&&p.ch<=S&&p.ch?0:S,X.sticky))}function Ah(b,p,X){if("string"==typeof p&&(p=
aj[p],!p))return!1;b.display.input.ensurePolled();var S=b.display.shift,ea=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),X&&(b.display.shift=!1),ea=p(b)!=mh}finally{b.display.shift=S,b.state.suppressEdits=!1}return ea}function nj(b,p,X,S){var ea=b.state.keySeq;if(ea){if(vf(p))return"handled";/'$/.test(p)?b.state.keySeq=null:Ak.set(50,function(){b.state.keySeq==ea&&(b.state.keySeq=null,b.display.input.reset())});if(Nk(b,ea+" "+p,X,S))return!0}return Nk(b,p,X,S)}function Nk(b,p,X,S){a:{for(var ea=
0;ea<b.state.keyMaps.length;ea++){var La=$f(p,b.state.keyMaps[ea],S,b);if(La){S=La;break a}}S=b.options.extraKeys&&$f(p,b.options.extraKeys,S,b)||$f(p,b.options.keyMap,S,b)}"multi"==S&&(b.state.keySeq=p);"handled"==S&&Bc(b,"keyHandled",b,p,X);if("handled"==S||"multi"==S)aa(X),Mc(b);return!!S}function Fg(b,p){var X=Qf(p,!0);return X?p.shiftKey&&!b.state.keySeq?nj(b,"Shift-"+X,p,function(S){return Ah(b,S,!0)})||nj(b,X,p,function(S){if("string"==typeof S?/^go[A-Z]/.test(S):S.motion)return Ah(b,S)}):
nj(b,X,p,function(S){return Ah(b,S)}):!1}function kh(b,p,X){return nj(b,"'"+X+"'",p,function(S){return Ah(b,S,!0)})}function Jj(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=v(),!P(this,b)){wf&&11>Ff&&27==b.keyCode&&(b.returnValue=!1);var p=b.keyCode;this.display.shift=16==p||b.shiftKey;var X=Fg(this,b);Jg&&(sk=X?p:null,!X&&88==p&&!Ii&&(dh?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));Eg&&!dh&&!X&&46==p&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");
18!=p||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||oj(this)}}function oj(b){function p(S){18!=S.keyCode&&S.altKey||(Dh(X,"CodeMirror-crosshair"),la(document,"keyup",p),la(document,"mouseover",p))}var X=b.display.lineDiv;u(X,"CodeMirror-crosshair");Te(document,"keyup",p);Te(document,"mouseover",p)}function qg(b){16==b.keyCode&&(this.doc.sel.shift=!1);P(this,b)}function yi(b){if(!(b.target&&b.target!=this.display.input.getField()||Dd(this.display,b)||P(this,b)||b.ctrlKey&&!b.altKey||
dh&&b.metaKey)){var p=b.keyCode,X=b.charCode;if(Jg&&p==sk)sk=null,aa(b);else if(!Jg||b.which&&!(10>b.which)||!Fg(this,b))if(p=String.fromCharCode(null==X?p:X),"\b"!=p&&!kh(this,b,p))this.display.input.onKeyPress(b)}}function zi(b,p){var X=+new Date;if(uj&&uj.compare(X,b,p))return bj=uj=null,"triple";if(bj&&bj.compare(X,b,p))return uj=new ij(X,b,p),bj=null,"double";bj=new ij(X,b,p);uj=null;return"single"}function Ai(b){var p=this.display;if(!(P(this,b)||p.activeTouch&&p.input.supportsTouch()))if(p.input.ensurePolled(),
p.shift=b.shiftKey,Dd(p,b))Ag||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));else if(!Vi(this,b,"gutterClick",!0)){var X=Bf(this,b),S=bb(b),ea=X?zi(X,S):"single";window.focus();1==S&&this.state.selectingText&&this.state.selectingText(b);if(!X||!Hj(this,S,X,ea,b))if(1==S)X?Qi(this,X,ea,b):(b.target||b.srcElement)==p.scroller&&aa(b);else if(2==S)X&&be(this.doc,X),setTimeout(function(){return p.input.focus()},20);else if(3==S)if(Vh)this.display.input.onContextMenu(b);
else od(this)}}function Hj(b,p,X,S,ea){var La="Click";"double"==S?La="Double"+La:"triple"==S&&(La="Triple"+La);return nj(b,Df((1==p?"Left":2==p?"Middle":"Right")+La,ea),ea,function(Xa){"string"==typeof Xa&&(Xa=aj[Xa]);if(!Xa)return!1;var ab=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),ab=Xa(b,X)!=mh}finally{b.state.suppressEdits=!1}return ab})}function Qi(b,p,X,S){wf?setTimeout(g(Nd,b),0):b.curOp.focus=v();var ea=b.getOption("configureMouse");ea=ea?ea(b,X,S):{};null==ea.unit&&(ea.unit=(Aj?S.shiftKey&&
S.metaKey:S.altKey)?"rectangle":"single"==X?"char":"double"==X?"word":"line");if(null==ea.extend||b.doc.extend)ea.extend=b.doc.extend||S.shiftKey;null==ea.addNew&&(ea.addNew=dh?S.metaKey:S.ctrlKey);null==ea.moveOnDrag&&(ea.moveOnDrag=!(dh?S.altKey:S.ctrlKey));var La=b.doc.sel,Xa;b.options.dragDrop&&dj&&!b.isReadOnly()&&"single"==X&&-1<(Xa=La.contains(p))&&(0>Ca((Xa=La.ranges[Xa]).from(),p)||0<p.xRel)&&(0<Ca(Xa.to(),p)||0>p.xRel)?ni(b,S,p,ea):qj(b,S,p,ea)}function ni(b,p,X,S){var ea=b.display,La=!1,
Xa=fd(b,function(Ib){Ag&&(ea.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=!1:od(b));la(ea.wrapper.ownerDocument,"mouseup",Xa);la(ea.wrapper.ownerDocument,"mousemove",ab);la(ea.scroller,"dragstart",tb);la(ea.scroller,"drop",Xa);La||(aa(Ib),S.addNew||be(b.doc,X,null,null,S.extend),Ag&&!Zh||wf&&9==Ff?setTimeout(function(){ea.wrapper.ownerDocument.body.focus({preventScroll:!0});ea.input.focus()},20):ea.input.focus())}),ab=function(Ib){La=
La||10<=Math.abs(p.clientX-Ib.clientX)+Math.abs(p.clientY-Ib.clientY)},tb=function(){return La=!0};Ag&&(ea.scroller.draggable=!0);b.state.draggingText=Xa;Xa.copy=!S.moveOnDrag;Te(ea.wrapper.ownerDocument,"mouseup",Xa);Te(ea.wrapper.ownerDocument,"mousemove",ab);Te(ea.scroller,"dragstart",tb);Te(ea.scroller,"drop",Xa);b.state.delayingBlurEvent=!0;setTimeout(function(){return ea.input.focus()},20);ea.scroller.dragDrop&&ea.scroller.dragDrop()}function Ui(b,p,X){if("char"==X)return new Jf(p,p);if("word"==
X)return b.findWordAt(p);if("line"==X)return new Jf($a(p.line,0),jb(b.doc,$a(p.line+1,0)));b=X(b,p);return new Jf(b.from,b.to)}function qj(b,p,X,S){function ea(He){if(0!=Ca(wc,He))if(wc=He,"rectangle"==S.unit){var cg=[],Af=b.options.tabSize,bg=f(ba(tb,X.line).text,X.ch,Af),Wf=f(ba(tb,He.line).text,He.ch,Af),qf=Math.min(bg,Wf);bg=Math.max(bg,Wf);Wf=Math.min(X.line,He.line);for(var gg=Math.min(b.lastLine(),Math.max(X.line,He.line));Wf<=gg;Wf++){var Rf=ba(tb,Wf).text,Of=e(Rf,qf,Af);qf==bg?cg.push(new Jf($a(Wf,
Of),$a(Wf,Of))):Rf.length>Of&&cg.push(new Jf($a(Wf,Of),$a(Wf,e(Rf,bg,Af))))}cg.length||cg.push(new Jf(X,X));Wa(tb,za(b,Ib.ranges.slice(0,Rc).concat(cg),Rc),{origin:"*mouse",scroll:!1});b.scrollIntoView(He)}else cg=vc,qf=Ui(b,He,S.unit),He=cg.anchor,0<Ca(qf.anchor,He)?(Af=qf.head,He=Ua(cg.from(),qf.anchor)):(Af=qf.anchor,He=Ha(cg.to(),qf.head)),cg=Ib.ranges.slice(0),cg[Rc]=hh(b,new Jf(jb(tb,He),Af)),Wa(tb,za(b,cg,Rc),Tf)}function La(He){var cg=++ce,Af=Bf(b,He,!0,"rectangle"==S.unit);if(Af)if(0!=Ca(Af,
wc)){b.curOp.focus=v();ea(Af);var bg=Gf(ab,tb);(Af.line>=bg.to||Af.line<bg.from)&&setTimeout(fd(b,function(){ce==cg&&La(He)}),150)}else{var Wf=He.clientY<td.top?-20:He.clientY>td.bottom?20:0;Wf&&setTimeout(fd(b,function(){ce==cg&&(ab.scroller.scrollTop+=Wf,La(He))}),50)}}function Xa(He){b.state.selectingText=!1;ce=Infinity;He&&(aa(He),ab.input.focus());la(ab.wrapper.ownerDocument,"mousemove",Se);la(ab.wrapper.ownerDocument,"mouseup",bf);tb.history.lastSelOrigin=null}wf&&od(b);var ab=b.display,tb=
b.doc;aa(p);var Ib=tb.sel,dc=Ib.ranges;if(S.addNew&&!S.extend){var Rc=tb.sel.contains(X);var vc=-1<Rc?dc[Rc]:new Jf(X,X)}else vc=tb.sel.primary(),Rc=tb.sel.primIndex;"rectangle"==S.unit?(S.addNew||(vc=new Jf(X,X)),X=Bf(b,p,!0,!0),Rc=-1):(p=Ui(b,X,S.unit),vc=S.extend?Pd(vc,p.anchor,p.head,S.extend):p);S.addNew?-1==Rc?(Rc=dc.length,Wa(tb,za(b,dc.concat([vc]),Rc),{scroll:!1,origin:"*mouse"})):1<dc.length&&dc[Rc].empty()&&"char"==S.unit&&!S.extend?(Wa(tb,za(b,dc.slice(0,Rc).concat(dc.slice(Rc+1)),0),
{scroll:!1,origin:"*mouse"}),Ib=tb.sel):Ad(tb,Rc,vc,Tf):(Rc=0,Wa(tb,new Hg([vc],0),Tf),Ib=tb.sel);var wc=X,td=ab.wrapper.getBoundingClientRect(),ce=0,Se=fd(b,function(He){0!==He.buttons&&bb(He)?La(He):Xa(He)}),bf=fd(b,Xa);b.state.selectingText=bf;Te(ab.wrapper.ownerDocument,"mousemove",Se);Te(ab.wrapper.ownerDocument,"mouseup",bf)}function hh(b,p){var X=p.anchor,S=p.head,ea=ba(b.doc,X.line);if(0==Ca(X,S)&&X.sticky==S.sticky)return p;ea=ha(ea);if(!ea)return p;var La=fa(ea,X.ch,X.sticky),Xa=ea[La];
if(Xa.from!=X.ch&&Xa.to!=X.ch)return p;var ab=La+(Xa.from==X.ch==(1!=Xa.level)?0:1);if(0==ab||ab==ea.length)return p;S.line!=X.line?b=0<(S.line-X.line)*("ltr"==b.doc.direction?1:-1):(b=fa(ea,S.ch,S.sticky),La=b-La||(S.ch-X.ch)*(1==Xa.level?-1:1),b=b==ab-1||b==ab?0>La:0<La);ea=ea[ab+(b?-1:0)];ea=(ab=b==(1==ea.level))?ea.from:ea.to;ab=ab?"after":"before";return X.ch==ea&&X.sticky==ab?p:new Jf(new $a(X.line,ea,ab),S)}function Vi(b,p,X,S){if(p.touches){var ea=p.touches[0].clientX;var La=p.touches[0].clientY}else try{ea=
p.clientX,La=p.clientY}catch(tb){return!1}if(ea>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;S&&aa(p);S=b.display;var Xa=S.lineDiv.getBoundingClientRect();if(La>Xa.bottom||!V(b,X))return va(p);La-=Xa.top-S.viewOffset;for(Xa=0;Xa<b.display.gutterSpecs.length;++Xa){var ab=S.gutters.childNodes[Xa];if(ab&&ab.getBoundingClientRect().right>=ea)return ea=na(b.doc,La),Z(b,X,b,ea,b.display.gutterSpecs[Xa].className,p),va(p)}}function Qj(b,p){var X;(X=Dd(b.display,p))||(X=V(b,"gutterContextMenu")?
Vi(b,p,"gutterContextMenu",!1):!1);if(!X&&!P(b,p,"contextmenu")&&!Vh)b.display.input.onContextMenu(p)}function Tk(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");Nf(b)}function rj(b,p,X){!p!=!(X&&X!=Ki)&&(X=b.display.dragFunctions,p=p?Te:la,p(b.display.scroller,"dragstart",X.start),p(b.display.scroller,"dragenter",X.enter),p(b.display.scroller,"dragover",X.over),p(b.display.scroller,"dragleave",X.leave),p(b.display.scroller,
"drop",X.drop))}function sj(b){b.options.lineWrapping?(u(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(Dh(b.display.wrapper,"CodeMirror-wrap"),wb(b));Sf(b);yc(b);Nf(b);setTimeout(function(){return Pa(b)},100)}function og(b,p){var X=this;if(!(this instanceof og))return new og(b,p);this.options=p=p?d(p):{};d(Uk,p,!1);var S=p.value;"string"==typeof S?S=new Gg(S,p.mode,null,p.lineSeparator,p.direction):p.mode&&(S.modeOption=p.mode);this.doc=S;var ea=
new og.inputStyles[p.inputStyle](this);b=this.display=new Bg(b,S,ea,p);b.wrapper.CodeMirror=this;Tk(this);p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Wb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new pf,keySeq:null,specialChars:null};p.autofocus&&!ri&&b.input.focus();wf&&11>Ff&&setTimeout(function(){return X.display.input.reset(!0)},
20);Wi(this);rk||(xd(),rk=!0);Tb(this);this.curOp.forceUpdate=!0;xc(this,S);p.autofocus&&!ri||this.hasFocus()?setTimeout(function(){X.hasFocus()&&!X.state.focused&&Id(X)},20):jd(this);for(var La in fj)if(fj.hasOwnProperty(La))fj[La](this,p[La],Ki);Uf(this);p.finishInit&&p.finishInit(this);for(S=0;S<vj.length;++S)vj[S](this);ic(this);Ag&&p.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function Wi(b){function p(){S.activeTouch&&
(ea=setTimeout(function(){return S.activeTouch=null},1E3),La=S.activeTouch,La.end=+new Date)}function X(ab,tb){if(null==tb.left)return!0;var Ib=tb.left-ab.left;ab=tb.top-ab.top;return 400<Ib*Ib+ab*ab}var S=b.display;Te(S.scroller,"mousedown",fd(b,Ai));wf&&11>Ff?Te(S.scroller,"dblclick",fd(b,function(ab){if(!P(b,ab)){var tb=Bf(b,ab);!tb||Vi(b,ab,"gutterClick",!0)||Dd(b.display,ab)||(aa(ab),ab=b.findWordAt(tb),be(b.doc,ab.anchor,ab.head))}})):Te(S.scroller,"dblclick",function(ab){return P(b,ab)||aa(ab)});
Te(S.scroller,"contextmenu",function(ab){return Qj(b,ab)});Te(S.input.getField(),"contextmenu",function(ab){S.scroller.contains(ab.target)||Qj(b,ab)});var ea,La={end:0};Te(S.scroller,"touchstart",function(ab){var tb;if(tb=!P(b,ab))1!=ab.touches.length?tb=!1:(tb=ab.touches[0],tb=1>=tb.radiusX&&1>=tb.radiusY),tb=!tb;tb&&!Vi(b,ab,"gutterClick",!0)&&(S.input.ensurePolled(),clearTimeout(ea),tb=+new Date,S.activeTouch={start:tb,moved:!1,prev:300>=tb-La.end?La:null},1==ab.touches.length&&(S.activeTouch.left=
ab.touches[0].pageX,S.activeTouch.top=ab.touches[0].pageY))});Te(S.scroller,"touchmove",function(){S.activeTouch&&(S.activeTouch.moved=!0)});Te(S.scroller,"touchend",function(ab){var tb=S.activeTouch;if(tb&&!Dd(S,ab)&&null!=tb.left&&!tb.moved&&300>new Date-tb.start){var Ib=b.coordsChar(S.activeTouch,"page");tb=!tb.prev||X(tb,tb.prev)?new Jf(Ib,Ib):!tb.prev.prev||X(tb,tb.prev.prev)?b.findWordAt(Ib):new Jf($a(Ib.line,0),jb(b.doc,$a(Ib.line+1,0)));b.setSelection(tb.anchor,tb.head);b.focus();aa(ab)}p()});
Te(S.scroller,"touchcancel",p);Te(S.scroller,"scroll",function(){S.scroller.clientHeight&&(yf(b,S.scroller.scrollTop),nf(b,S.scroller.scrollLeft,!0),Z(b,"scroll",b))});Te(S.scroller,"mousewheel",function(ab){return xa(b,ab)});Te(S.scroller,"DOMMouseScroll",function(ab){return xa(b,ab)});Te(S.wrapper,"scroll",function(){return S.wrapper.scrollTop=S.wrapper.scrollLeft=0});S.dragFunctions={enter:function(ab){P(b,ab)||Ia(ab)},over:function(ab){if(!P(b,ab)){var tb=Bf(b,ab);if(tb){var Ib=document.createDocumentFragment();
$b(b,tb,Ib);b.display.dragCursor||(b.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));w(b.display.dragCursor,Ib)}Ia(ab)}},start:function(ab){if(wf&&(!b.state.draggingText||100>+new Date-gj))Ia(ab);else if(!P(b,ab)&&!Dd(b.display,ab)&&(ab.dataTransfer.setData("Text",b.getSelection()),ab.dataTransfer.effectAllowed="copyMove",ab.dataTransfer.setDragImage&&!Zh)){var tb=H("img",null,null,"position: fixed; left: 0; top: 0;");
tb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Jg&&(tb.width=tb.height=1,b.display.wrapper.appendChild(tb),tb._top=tb.offsetTop);ab.dataTransfer.setDragImage(tb,0,0);Jg&&tb.parentNode.removeChild(tb)}},drop:fd(b,ke),leave:function(ab){P(b,ab)||pe(b)}};var Xa=S.input.getField();Te(Xa,"keyup",function(ab){return qg.call(b,ab)});Te(Xa,"keydown",fd(b,Jj));Te(Xa,"keypress",fd(b,yi));Te(Xa,"focus",function(ab){return Id(b,ab)});Te(Xa,"blur",function(ab){return jd(b,
ab)})}function oi(b,p,X,S){var ea=b.doc,La;null==X&&(X="add");"smart"==X&&(ea.mode.indent?La=md(b,p).state:X="prev");var Xa=b.options.tabSize,ab=ba(ea,p),tb=f(ab.text,null,Xa);ab.stateAfter&&(ab.stateAfter=null);var Ib=ab.text.match(/^\s*/)[0];if(!S&&!/\S/.test(ab.text)){var dc=0;X="not"}else if("smart"==X&&(dc=ea.mode.indent(La,ab.text.slice(Ib.length),ab.text),dc==mh||150<dc)){if(!S)return;X="prev"}"prev"==X?dc=p>ea.first?f(ba(ea,p-1).text,null,Xa):0:"add"==X?dc=tb+b.options.indentUnit:"subtract"==
X?dc=tb-b.options.indentUnit:"number"==typeof X&&(dc=tb+X);dc=Math.max(0,dc);X="";S=0;if(b.options.indentWithTabs)for(b=Math.floor(dc/Xa);b;--b)S+=Xa,X+="\t";S<dc&&(X+=n(dc-S));if(X!=Ib)return Qc(ea,X,$a(p,0),$a(p,Ib.length),"+input"),ab.stateAfter=null,!0;for(Xa=0;Xa<ea.sel.ranges.length;Xa++)if(ab=ea.sel.ranges[Xa],ab.head.line==p&&ab.head.ch<Ib.length){p=$a(p,Ib.length);Ad(ea,Xa,new Jf(p,p));break}}function Gi(b,p,X,S,ea){var La=b.doc;b.display.shift=!1;S||(S=La.sel);var Xa=+new Date-200,ab="paste"==
ea||b.state.pasteIncoming>Xa,tb=Ih(p),Ib=null;if(ab&&1<S.ranges.length)if(Qg&&Qg.text.join("\n")==p){if(0==S.ranges.length%Qg.text.length){Ib=[];for(var dc=0;dc<Qg.text.length;dc++)Ib.push(La.splitLines(Qg.text[dc]))}}else tb.length==S.ranges.length&&b.options.pasteLinesPerSelection&&(Ib=B(tb,function(ce){return[ce]}));dc=b.curOp.updateInput;for(var Rc=S.ranges.length-1;0<=Rc;Rc--){var vc=S.ranges[Rc],wc=vc.from(),td=vc.to();vc.empty()&&(X&&0<X?wc=$a(wc.line,wc.ch-X):b.state.overwrite&&!ab?td=$a(td.line,
Math.min(ba(La,td.line).text.length,td.ch+y(tb).length)):ab&&Qg&&Qg.lineWise&&Qg.text.join("\n")==tb.join("\n")&&(wc=td=$a(wc.line,0)));vc={from:wc,to:td,text:Ib?Ib[Rc%Ib.length]:tb,origin:ea||(ab?"paste":b.state.cutIncoming>Xa?"cut":"+input")};gb(b.doc,vc);Bc(b,"inputRead",b,vc)}p&&!ab&&Dg(b,p);We(b);2>b.curOp.updateInput&&(b.curOp.updateInput=dc);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function lg(b,p){var X=b.clipboardData&&b.clipboardData.getData("Text");if(X)return b.preventDefault(),
p.isReadOnly()||p.options.disableInput||oc(p,function(){return Gi(p,X,0,null,"paste")}),!0}function Dg(b,p){if(b.options.electricChars&&b.options.smartIndent)for(var X=b.doc.sel,S=X.ranges.length-1;0<=S;S--){var ea=X.ranges[S];if(!(100<ea.head.ch||S&&X.ranges[S-1].head.line==ea.head.line)){var La=b.getModeAt(ea.head),Xa=!1;if(La.electricChars)for(var ab=0;ab<La.electricChars.length;ab++){if(-1<p.indexOf(La.electricChars.charAt(ab))){Xa=oi(b,ea.head.line,"smart");break}}else La.electricInput&&La.electricInput.test(ba(b.doc,
ea.head.line).text.slice(0,ea.head.ch))&&(Xa=oi(b,ea.head.line,"smart"));Xa&&Bc(b,"electricInput",b,ea.head.line)}}}function Ei(b){for(var p=[],X=[],S=0;S<b.doc.sel.ranges.length;S++){var ea=b.doc.sel.ranges[S].head.line;ea={anchor:$a(ea,0),head:$a(ea+1,0)};X.push(ea);p.push(b.getRange(ea.anchor,ea.head))}return{text:p,ranges:X}}function vh(b,p,X,S){b.setAttribute("autocorrect",X?"":"off");b.setAttribute("autocapitalize",S?"":"off");b.setAttribute("spellcheck",!!p)}function Sh(){var b=H("textarea",
null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),p=H("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Ag?b.style.width="1000px":b.setAttribute("wrap","off");mi&&(b.style.border="1px solid black");vh(b);return p}function Yj(b,p,X,S,ea){function La(ce){if("codepoint"==S){var Se=tb.text.charCodeAt(p.ch+(0<X?0:-1));Se=isNaN(Se)?null:new $a(p.line,Math.max(0,Math.min(tb.text.length,p.ch+X*((0<X?55296<=Se&&56320>Se:56320<=
Se&&57343>Se)?2:1))),-X)}else Se=ea?hk(b.cm,tb,p,X):sh(tb,p,X);if(null==Se){if(ce=!ce)ce=p.line+Ib,ce<b.first||ce>=b.first+b.size?ce=!1:(p=new $a(ce,p.ch,p.sticky),ce=tb=ba(b,ce));if(ce)p=Ti(ea,b.cm,tb,p.line,Ib);else return!1}else p=Se;return!0}var Xa=p,ab=X,tb=ba(b,p.line),Ib=ea&&"rtl"==b.direction?-X:X;if("char"==S||"codepoint"==S)La();else if("column"==S)La(!0);else if("word"==S||"group"==S)for(var dc=null,Rc="group"==S,vc=b.cm&&b.cm.getHelper(p,"wordChars"),wc=!0;!(0>X)||La(!wc);wc=!1){var td=
tb.text.charAt(p.ch)||"\n";td=z(td,vc)?"w":Rc&&"\n"==td?"n":!Rc||/\s/.test(td)?null:"p";!Rc||wc||td||(td="s");if(dc&&dc!=td){0>X&&(X=1,La(),p.sticky="after");break}td&&(dc=td);if(0<X&&!La(!wc))break}ab=r(b,p,Xa,ab,!0);Ga(Xa,ab)&&(ab.hitSide=!0);return ab}function Vj(b,p,X,S){var ea=b.doc,La=p.left;if("page"==S){var Xa=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Fe(b.display),3);Xa=(0<X?p.bottom:p.top)+X*Xa}else"line"==S&&(Xa=0<X?p.bottom+
3:p.top-3);for(;;){p=Td(b,La,Xa);if(!p.outside)break;if(0>X?0>=Xa:Xa>=ea.height){p.hitSide=!0;break}Xa+=5*X}return p}function Xj(b,p){var X=Ze(b,p.line);if(!X||X.hidden)return null;var S=ba(b.doc,p.line);X=ef(X,S,p.line);b=ha(S,b.doc.direction);S="left";b&&(S=fa(b,p.ch)%2?"right":"left");p=he(X.map,p.ch,S);p.offset="right"==p.collapse?p.end:p.start;return p}function Wj(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function vg(b,p){p&&(b.bad=!0);return b}
function tj(b,p,X,S,ea){function La(wc){return function(td){return td.id==wc}}function Xa(){dc&&(Ib+=Rc,vc&&(Ib+=Rc),dc=vc=!1)}function ab(wc){wc&&(Xa(),Ib+=wc)}function tb(wc){if(1==wc.nodeType){var td=wc.getAttribute("cm-text");if(td)ab(td);else{td=wc.getAttribute("cm-marker");var ce;if(td)wc=b.findMarks($a(S,0),$a(ea+1,0),La(+td)),wc.length&&(ce=wc[0].find(0))&&ab(ca(b.doc,ce.from,ce.to).join(Rc));else if("false"!=wc.getAttribute("contenteditable")&&(ce=/^(pre|div|p|li|table|br)$/i.test(wc.nodeName),
/^br$/i.test(wc.nodeName)||0!=wc.textContent.length)){ce&&Xa();for(td=0;td<wc.childNodes.length;td++)tb(wc.childNodes[td]);/^(pre|p)$/i.test(wc.nodeName)&&(vc=!0);ce&&(dc=!0)}}}else 3==wc.nodeType&&ab(wc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Ib="",dc=!1,Rc=b.doc.lineSeparator(),vc=!1;;){tb(p);if(p==X)break;p=p.nextSibling;vc=!1}return Ib}function Th(b,p,X){if(p==b.display.lineDiv){var S=b.display.lineDiv.childNodes[X];if(!S)return vg(b.clipPos($a(b.display.viewTo-1)),!0);
p=null;X=0}else for(S=p;;S=S.parentNode){if(!S||S==b.display.lineDiv)return null;if(S.parentNode&&S.parentNode==b.display.lineDiv)break}for(var ea=0;ea<b.display.view.length;ea++){var La=b.display.view[ea];if(La.node==S)return Ri(La,p,X)}}function Ri(b,p,X){function S(dc,Rc,vc){for(var wc=-1;wc<(Ib?Ib.length:0);wc++)for(var td=0>wc?tb.map:Ib[wc],ce=0;ce<td.length;ce+=3){var Se=td[ce+2];if(Se==dc||Se==Rc){Rc=Fa(0>wc?b.line:b.rest[wc]);wc=td[ce]+vc;if(0>vc||Se!=dc)wc=td[ce+(vc?1:0)];return $a(Rc,wc)}}}
var ea=b.text.firstChild,La=!1;if(!p||!x(ea,p))return vg($a(Fa(b.line),0),!0);if(p==ea&&(La=!0,p=ea.childNodes[X],X=0,!p))return X=b.rest?y(b.rest):b.line,vg($a(Fa(X),X.text.length),La);var Xa=3==p.nodeType?p:null,ab=p;Xa||1!=p.childNodes.length||3!=p.firstChild.nodeType||(Xa=p.firstChild,X&&(X=Xa.nodeValue.length));for(;ab.parentNode!=ea;)ab=ab.parentNode;var tb=b.measure,Ib=tb.maps;if(p=S(Xa,ab,X))return vg(p,La);ea=ab.nextSibling;for(Xa=Xa?Xa.nodeValue.length-X:0;ea;ea=ea.nextSibling){if(p=S(ea,
ea.firstChild,0))return vg($a(p.line,p.ch-Xa),La);Xa+=ea.textContent.length}for(ab=ab.previousSibling;ab;ab=ab.previousSibling){if(p=S(ab,ab.firstChild,-1))return vg($a(p.line,p.ch+X),La);X+=ab.textContent.length}}var wg=navigator.userAgent,Zg=navigator.platform,Eg=/gecko\/\d/i.test(wg),bi=/MSIE \d/.test(wg),eh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wg),Fi=/Edge\/(\d+)/.exec(wg),wf=bi||eh||Fi,Ff=wf&&(bi?document.documentMode||6:+(Fi||eh)[1]),Ag=!Fi&&/WebKit\//.test(wg),ci=Ag&&/Qt\/\d+\.\d+/.test(wg),
Gh=!Fi&&/Chrome\//.test(wg),Jg=/Opera\//.test(wg),Zh=/Apple Computer/.test(navigator.vendor),pk=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(wg),pj=/PhantomJS/.test(wg),mi=Zh&&(/Mobile\/\w+/.test(wg)||2<navigator.maxTouchPoints),ug=/Android/.test(wg),ri=mi||ug||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(wg),dh=mi||/Mac/.test(Zg),Aj=/\bCrOS\b/.test(wg),Vg=/win/i.test(Zg),Ch=Jg&&wg.match(/Version\/(\d*\.\d*)/);Ch&&(Ch=Number(Ch[1]));Ch&&15<=Ch&&(Jg=!1,Ag=!0);var Kj=dh&&(ci||Jg&&(null==Ch||12.11>
Ch)),Vh=Eg||wf&&9<=Ff,Dh=function(b,p){var X=b.className;if(p=k(p).exec(X)){var S=X.slice(p.index+p[0].length);b.className=X.slice(0,p.index)+(S?p[1]+S:"")}};var Hi=document.createRange?function(b,p,X,S){var ea=document.createRange();ea.setEnd(S||b,X);ea.setStart(b,p);return ea}:function(b,p,X){var S=document.body.createTextRange();try{S.moveToElementText(b.parentNode)}catch(ea){return S}S.collapse(!0);S.moveEnd("character",X);S.moveStart("character",p);return S};var di=function(b){b.select()};mi?
di=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:wf&&(di=function(b){try{b.select()}catch(p){}});var pf=function(){this.f=this.id=null;this.time=0;this.handler=g(this.onTimeout,this)};pf.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?b.f():setTimeout(b.handler,b.time-+new Date)};pf.prototype.set=function(b,p){this.f=p;p=+new Date+b;if(!this.id||p<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=p};var mh={toString:function(){return"CodeMirror.Pass"}},
mg={scroll:!1},Tf={origin:"*mouse"},ei={origin:"+move"},Li=[""],Xi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,fi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Wh=null,Hh=function(){function b(ab){return 247>=ab?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ab):1424<=ab&&1524>=ab?"R":1536<=ab&&1785>=ab?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ab-
1536):1774<=ab&&2220>=ab?"r":8192<=ab&&8203>=ab?"w":8204==ab?"b":"L"}function p(ab,tb,Ib){this.level=ab;this.from=tb;this.to=Ib}var X=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,S=/[stwN]/,ea=/[LRr]/,La=/[Lb1n]/,Xa=/[1n]/;return function(ab,tb){var Ib="ltr"==tb?"L":"R";if(0==ab.length||"ltr"==tb&&!X.test(ab))return!1;for(var dc=ab.length,Rc=[],vc=0;vc<dc;++vc)Rc.push(b(ab.charCodeAt(vc)));vc=0;for(var wc=Ib;vc<dc;++vc){var td=Rc[vc];"m"==td?Rc[vc]=wc:wc=td}vc=0;for(wc=Ib;vc<dc;++vc)td=Rc[vc],"1"==
td&&"r"==wc?Rc[vc]="n":ea.test(td)&&(wc=td,"r"==td&&(Rc[vc]="R"));vc=1;for(wc=Rc[0];vc<dc-1;++vc)td=Rc[vc],"+"==td&&"1"==wc&&"1"==Rc[vc+1]?Rc[vc]="1":","!=td||wc!=Rc[vc+1]||"1"!=wc&&"n"!=wc||(Rc[vc]=wc),wc=td;for(vc=0;vc<dc;++vc)if(wc=Rc[vc],","==wc)Rc[vc]="N";else if("%"==wc){for(wc=vc+1;wc<dc&&"%"==Rc[wc];++wc);for(td=vc&&"!"==Rc[vc-1]||wc<dc&&"1"==Rc[wc]?"1":"N";vc<wc;++vc)Rc[vc]=td;vc=wc-1}vc=0;for(wc=Ib;vc<dc;++vc)td=Rc[vc],"L"==wc&&"1"==td?Rc[vc]="L":ea.test(td)&&(wc=td);for(wc=0;wc<dc;++wc)if(S.test(Rc[wc])){for(vc=
wc+1;vc<dc&&S.test(Rc[vc]);++vc);td="L"==(wc?Rc[wc-1]:Ib);for(td=td==("L"==(vc<dc?Rc[vc]:Ib))?td?"L":"R":Ib;wc<vc;++wc)Rc[wc]=td;wc=vc-1}Ib=[];var ce;for(vc=0;vc<dc;)if(La.test(Rc[vc])){wc=vc;for(++vc;vc<dc&&La.test(Rc[vc]);++vc);Ib.push(new p(0,wc,vc))}else{var Se=vc;wc=Ib.length;td="rtl"==tb?1:0;for(++vc;vc<dc&&"L"!=Rc[vc];++vc);for(var bf=Se;bf<vc;)if(Xa.test(Rc[bf])){Se<bf&&(Ib.splice(wc,0,new p(1,Se,bf)),wc+=td);Se=bf;for(++bf;bf<vc&&Xa.test(Rc[bf]);++bf);Ib.splice(wc,0,new p(2,Se,bf));wc+=td;
Se=bf}else++bf;Se<vc&&Ib.splice(wc,0,new p(1,Se,vc))}"ltr"==tb&&(1==Ib[0].level&&(ce=ab.match(/^\s+/))&&(Ib[0].from=ce[0].length,Ib.unshift(new p(0,0,ce[0].length))),1==y(Ib).level&&(ce=ab.match(/\s+$/))&&(y(Ib).to-=ce[0].length,Ib.push(new p(0,dc-ce[0].length,dc))));return"rtl"==tb?Ib.reverse():Ib}}(),gi=[],Te=function(b,p,X){b.addEventListener?b.addEventListener(p,X,!1):b.attachEvent?b.attachEvent("on"+p,X):(b=b._handlers||(b._handlers={}),b[p]=(b[p]||gi).concat(X))},dj=function(){if(wf&&9>Ff)return!1;
var b=H("div");return"draggable"in b||"dragDrop"in b}(),ih,wh,Ih=3!="\n\nb".split(/\n/).length?function(b){for(var p=0,X=[],S=b.length;p<=S;){var ea=b.indexOf("\n",p);-1==ea&&(ea=b.length);var La=b.slice(p,"\r"==b.charAt(ea-1)?ea-1:ea),Xa=La.indexOf("\r");-1!=Xa?(X.push(La.slice(0,Xa)),p+=Xa+1):(X.push(La),p=ea+1)}return X}:function(b){return b.split(/\r\n?|\n/)},Xh=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(p){return!1}}:function(b){try{var p=b.ownerDocument.selection.createRange()}catch(X){}return p&&
p.parentElement()==b?0!=p.compareEndPoints("StartToEnd",p):!1},Ii=function(){var b=H("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),si=null,Kh={},ti={},jh={},kg=function(b,p,X){this.pos=this.start=0;this.string=b;this.tabSize=p||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=X};kg.prototype.eol=function(){return this.pos>=this.string.length};kg.prototype.sol=function(){return this.pos==this.lineStart};kg.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};kg.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};kg.prototype.eat=function(b){var p=this.string.charAt(this.pos);if("string"==typeof b?p==b:p&&(b.test?b.test(p):b(p)))return++this.pos,p};kg.prototype.eatWhile=function(b){for(var p=this.pos;this.eat(b););return this.pos>p};kg.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};kg.prototype.skipToEnd=function(){this.pos=this.string.length};kg.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};kg.prototype.backUp=function(b){this.pos-=b};kg.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};kg.prototype.indentation=
function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};kg.prototype.match=function(b,p,X){if("string"==typeof b){var S=function(La){return X?La.toLowerCase():La},ea=this.string.substr(this.pos,b.length);if(S(ea)==S(b))return!1!==p&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==p&&(this.pos+=b[0].length);return b}};kg.prototype.current=function(){return this.string.slice(this.start,
this.pos)};kg.prototype.hideFirstChars=function(b,p){this.lineStart+=b;try{return p()}finally{this.lineStart-=b}};kg.prototype.lookAhead=function(b){var p=this.lineOracle;return p&&p.lookAhead(b)};kg.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var Ji=function(b,p){this.state=b;this.lookAhead=p},xh=function(b,p,X,S){this.state=p;this.doc=b;this.line=X;this.maxLookAhead=S||0;this.baseTokens=null;this.baseTokenPos=1};xh.prototype.lookAhead=function(b){var p=
this.doc.getLine(this.line+b);null!=p&&b>this.maxLookAhead&&(this.maxLookAhead=b);return p};xh.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};xh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};xh.fromSaved=function(b,p,X){return p instanceof Ji?new xh(b,
ta(b.mode,p.state),X,p.lookAhead):new xh(b,ta(b.mode,p),X)};xh.prototype.save=function(b){b=!1!==b?ta(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Ji(b,this.maxLookAhead):b};var Cj=function(b,p,X){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=p||null;this.state=X},ak=!1,Ph=!1,Yh=function(b,p,X){this.text=b;vd(this,p);this.height=X?X(this):1};Yh.prototype.lineNo=function(){return Fa(this)};ia(Yh);var Zj={},qk={},Di=null,ag=null,Lh={left:0,right:0,top:0,
bottom:0},oh,Mh=function(b,p,X){this.cm=X;var S=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ea=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");S.tabIndex=ea.tabIndex=-1;b(S);b(ea);Te(S,"scroll",function(){S.clientHeight&&p(S.scrollTop,"vertical")});Te(ea,"scroll",function(){ea.clientWidth&&p(ea.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;wf&&8>Ff&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
Mh.prototype.update=function(b){var p=b.scrollWidth>b.clientWidth+1,X=b.scrollHeight>b.clientHeight+1,S=b.nativeBarWidth;X?(this.vert.style.display="block",this.vert.style.bottom=p?S+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(p?S:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");p?(this.horiz.style.display="block",this.horiz.style.right=X?S+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-b.barLeft-(X?S:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==S&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:X?S:0,bottom:p?S:0}};Mh.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Mh.prototype.setScrollTop=function(b){this.vert.scrollTop!=
b&&(this.vert.scrollTop=b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Mh.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=dh&&!pk?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new pf;this.disableVert=new pf};Mh.prototype.enableZeroWidthBar=function(b,p,X){function S(){var ea=b.getBoundingClientRect();("vert"==X?document.elementFromPoint(ea.right-1,(ea.top+ea.bottom)/2):document.elementFromPoint((ea.right+
ea.left)/2,ea.bottom-1))!=b?b.style.pointerEvents="none":p.set(1E3,S)}b.style.pointerEvents="auto";p.set(1E3,S)};Mh.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var Nh=function(){};Nh.prototype.update=function(){return{bottom:0,right:0}};Nh.prototype.setScrollLeft=function(){};Nh.prototype.setScrollTop=function(){};Nh.prototype.clear=function(){};var ej={"native":Mh,"null":Nh},Bj=0,ph=function(b,p,X){var S=b.display;this.viewport=p;this.visible=
Gf(S,b.doc,p);this.editorIsHidden=!S.wrapper.offsetWidth;this.wrapperHeight=S.wrapper.clientHeight;this.wrapperWidth=S.wrapper.clientWidth;this.oldDisplayWidth=De(b);this.force=X;this.dims=lf(b);this.events=[]};ph.prototype.signal=function(b,p){V(b,p)&&this.events.push(arguments)};ph.prototype.finish=function(){for(var b=0;b<this.events.length;b++)Z.apply(null,this.events[b])};var ui=0,Og=null;wf?Og=-.53:Eg?Og=15:Gh?Og=-.7:Zh&&(Og=-1/3);var Hg=function(b,p){this.ranges=b;this.primIndex=p};Hg.prototype.primary=
function(){return this.ranges[this.primIndex]};Hg.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var X=this.ranges[p],S=b.ranges[p];if(!Ga(X.anchor,S.anchor)||!Ga(X.head,S.head))return!1}return!0};Hg.prototype.deepCopy=function(){for(var b=[],p=0;p<this.ranges.length;p++)b[p]=new Jf(pa(this.ranges[p].anchor),pa(this.ranges[p].head));return new Hg(b,this.primIndex)};Hg.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};Hg.prototype.contains=function(b,p){p||(p=b);for(var X=0;X<this.ranges.length;X++){var S=this.ranges[X];if(0<=Ca(p,S.from())&&0>=Ca(b,S.to()))return X}return-1};var Jf=function(b,p){this.anchor=b;this.head=p};Jf.prototype.from=function(){return Ua(this.anchor,this.head)};Jf.prototype.to=function(){return Ha(this.anchor,this.head)};Jf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Jc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,p){for(var X=b,S=b+p;X<S;++X){var ea=this.lines[X];this.height-=ea.height;var La=ea;La.parent=null;wd(La);Bc(ea,"delete")}this.lines.splice(b,p)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,p,X){this.height+=X;this.lines=this.lines.slice(0,b).concat(p).concat(this.lines.slice(b));for(b=0;b<p.length;++b)p[b].parent=this},iterN:function(b,p,X){for(p=b+p;b<p;++b)if(X(this.lines[b]))return!0}};
ud.prototype={chunkSize:function(){return this.size},removeInner:function(b,p){this.size-=p;for(var X=0;X<this.children.length;++X){var S=this.children[X],ea=S.chunkSize();if(b<ea){var La=Math.min(p,ea-b),Xa=S.height;S.removeInner(b,La);this.height-=Xa-S.height;ea==La&&(this.children.splice(X--,1),S.parent=null);if(0==(p-=La))break;b=0}else b-=ea}25>this.size-p&&(1<this.children.length||!(this.children[0]instanceof Jc))&&(b=[],this.collapse(b),this.children=[new Jc(b)],this.children[0].parent=this)},
collapse:function(b){for(var p=0;p<this.children.length;++p)this.children[p].collapse(b)},insertInner:function(b,p,X){this.size+=p.length;this.height+=X;for(var S=0;S<this.children.length;++S){var ea=this.children[S],La=ea.chunkSize();if(b<=La){ea.insertInner(b,p,X);if(ea.lines&&50<ea.lines.length){for(p=b=ea.lines.length%25+25;p<ea.lines.length;)X=new Jc(ea.lines.slice(p,p+=25)),ea.height-=X.height,this.children.splice(++S,0,X),X.parent=this;ea.lines=ea.lines.slice(0,b);this.maybeSpill()}break}b-=
La}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var p=b.children.splice(b.children.length-5,5);p=new ud(p);if(b.parent){b.size-=p.size;b.height-=p.height;var X=a(b.parent.children,b);b.parent.children.splice(X+1,0,p)}else X=new ud(b.children),X.parent=b,b.children=[X,p],b=X;p.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,p,X){for(var S=0;S<this.children.length;++S){var ea=this.children[S],La=ea.chunkSize();if(b<La){La=Math.min(p,La-b);
if(ea.iterN(b,La,X))return!0;if(0==(p-=La))break;b=0}else b-=La}}};var Uh=function(b,p,X){if(X)for(var S in X)X.hasOwnProperty(S)&&(this[S]=X[S]);this.doc=b;this.node=p};Uh.prototype.clear=function(){var b=this.doc.cm,p=this.line.widgets,X=this.line,S=Fa(X);if(null!=S&&p){for(var ea=0;ea<p.length;++ea)p[ea]==this&&p.splice(ea--,1);p.length||(X.widgets=null);var La=Cd(this);qa(X,Math.max(0,X.height-La));b&&(oc(b,function(){var Xa=-La;Ka(X)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&kd(b,Xa);wa(b,
S,"widget")}),Bc(b,"lineWidgetCleared",b,this,S))}};Uh.prototype.changed=function(){var b=this,p=this.height,X=this.doc.cm,S=this.line;this.height=null;var ea=Cd(this)-p;ea&&(Ed(this.doc,S)||qa(S,S.height+ea),X&&oc(X,function(){X.curOp.forceUpdate=!0;Ka(S)<(X.curOp&&X.curOp.scrollTop||X.doc.scrollTop)&&kd(X,ea);Bc(X,"lineWidgetChanged",X,b,Fa(S))}))};ia(Uh);var Dj=0,lh=function(b,p){this.lines=[];this.type=p;this.doc=b;this.id=++Dj};lh.prototype.clear=function(){if(!this.explicitlyCleared){var b=
this.doc.cm,p=b&&!b.curOp;p&&Tb(b);if(V(this,"clear")){var X=this.find();X&&Bc(this,"clear",X.from,X.to)}for(var S=X=null,ea=0;ea<this.lines.length;++ea){var La=this.lines[ea],Xa=Sc(La.markedSpans,this);b&&!this.collapsed?wa(b,Fa(La),"text"):b&&(null!=Xa.to&&(S=Fa(La)),null!=Xa.from&&(X=Fa(La)));for(var ab=La,tb=void 0,Ib=La.markedSpans,dc=Xa,Rc=0;Rc<Ib.length;++Rc)Ib[Rc]!=dc&&(tb||(tb=[])).push(Ib[Rc]);ab.markedSpans=tb;null==Xa.from&&this.collapsed&&!Ed(this.doc,La)&&b&&qa(La,Fe(b.display))}if(b&&
this.collapsed&&!b.options.lineWrapping)for(ea=0;ea<this.lines.length;++ea)La=Eb(this.lines[ea]),Xa=eb(La),Xa>b.display.maxLineLength&&(b.display.maxLine=La,b.display.maxLineLength=Xa,b.display.maxLineChanged=!0);null!=X&&b&&this.collapsed&&yc(b,X,S+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&Mb(b.doc));b&&Bc(b,"markerCleared",b,this,X,S);p&&ic(b);this.parent&&this.parent.clear()}};lh.prototype.find=function(b,p){null==b&&"bookmark"==this.type&&
(b=1);for(var X,S,ea=0;ea<this.lines.length;++ea){var La=this.lines[ea],Xa=Sc(La.markedSpans,this);if(null!=Xa.from&&(X=$a(p?La:Fa(La),Xa.from),-1==b))return X;if(null!=Xa.to&&(S=$a(p?La:Fa(La),Xa.to),1==b))return S}return X&&{from:X,to:S}};lh.prototype.changed=function(){var b=this,p=this.find(-1,!0),X=this,S=this.doc.cm;p&&S&&oc(S,function(){var ea=p.line,La=Fa(p.line);if(La=Ze(S,La))zf(La),S.curOp.selectionChanged=S.curOp.forceUpdate=!0;S.curOp.updateMaxLine=!0;Ed(X.doc,ea)||null==X.height||(La=
X.height,X.height=null,(La=Cd(X)-La)&&qa(ea,ea.height+La));Bc(S,"markerChanged",S,b)})};lh.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;p.maybeHiddenMarkers&&-1!=a(p.maybeHiddenMarkers,this)||(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};lh.prototype.detachLine=function(b){this.lines.splice(a(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};
ia(lh);var pi=function(b,p){this.markers=b;this.primary=p;for(p=0;p<b.length;++p)b[p].parent=this};pi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();Bc(this,"clear")}};pi.prototype.find=function(b,p){return this.primary.find(b,p)};ia(pi);var Yi=0,Gg=function(b,p,X,S,ea){if(!(this instanceof Gg))return new Gg(b,p,X,S,ea);null==X&&(X=0);ud.call(this,[new Jc([new Yh("",null)])]);this.first=X;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=X;X=$a(X,0);this.sel=Na(X);this.history=new Oa(null);this.id=++Yi;this.modeOption=p;this.lineSep=S;this.direction="rtl"==ea?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));Jb(this,{from:X,to:X,text:b});Wa(this,Na(X),mg)};Gg.prototype=M(ud.prototype,{constructor:Gg,iter:function(b,p,X){X?this.iterN(b-this.first,p-b,X):this.iterN(this.first,this.first+this.size,b)},insert:function(b,
p){for(var X=0,S=0;S<p.length;++S)X+=p[S].height;this.insertInner(b-this.first,p,X)},remove:function(b,p){this.removeInner(b-this.first,p)},getValue:function(b){var p=ra(this,this.first,this.first+this.size);return!1===b?p:p.join(b||this.lineSeparator())},setValue:nd(function(b){var p=$a(this.first,0),X=this.first+this.size-1;gb(this,{from:p,to:$a(X,ba(this,X).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&uf(this.cm,0,0);Wa(this,Na(p),mg)}),replaceRange:function(b,p,
X,S){p=jb(this,p);X=X?jb(this,X):p;Qc(this,b,p,X,S)},getRange:function(b,p,X){b=ca(this,jb(this,b),jb(this,p));return!1===X?b:b.join(X||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(Ra(this,b))return ba(this,b)},getLineNumber:function(b){return Fa(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=ba(this,b));return Eb(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(b){return jb(this,b)},getCursor:function(b){var p=this.sel.primary();return null==b||"head"==b?p.head:"anchor"==b?p.anchor:"end"==b||"to"==b||!1===b?p.to():p.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:nd(function(b,p,X){b=jb(this,"number"==typeof b?$a(b,p||0):b);Wa(this,Na(b,null),X)}),setSelection:nd(function(b,p,X){var S=jb(this,b);b=jb(this,p||b);Wa(this,Na(S,b),X)}),extendSelection:nd(function(b,
p,X){be(this,jb(this,b),p&&jb(this,p),X)}),extendSelections:nd(function(b,p){pd(this,Fb(this,b),p)}),extendSelectionsBy:nd(function(b,p){b=B(this.sel.ranges,b);pd(this,Fb(this,b),p)}),setSelections:nd(function(b,p,X){if(b.length){for(var S=[],ea=0;ea<b.length;ea++)S[ea]=new Jf(jb(this,b[ea].anchor),jb(this,b[ea].head));null==p&&(p=Math.min(b.length-1,this.sel.primIndex));Wa(this,za(this.cm,S,p),X)}}),addSelection:nd(function(b,p,X){var S=this.sel.ranges.slice(0);S.push(new Jf(jb(this,b),jb(this,p||
b)));Wa(this,za(this.cm,S,S.length-1),X)}),getSelection:function(b){for(var p=this.sel.ranges,X,S=0;S<p.length;S++){var ea=ca(this,p[S].from(),p[S].to());X=X?X.concat(ea):ea}return!1===b?X:X.join(b||this.lineSeparator())},getSelections:function(b){for(var p=[],X=this.sel.ranges,S=0;S<X.length;S++){var ea=ca(this,X[S].from(),X[S].to());!1!==b&&(ea=ea.join(b||this.lineSeparator()));p[S]=ea}return p},replaceSelection:function(b,p,X){for(var S=[],ea=0;ea<this.sel.ranges.length;ea++)S[ea]=b;this.replaceSelections(S,
p,X||"+input")},replaceSelections:nd(function(b,p,X){for(var S=[],ea=this.sel,La=0;La<ea.ranges.length;La++){var Xa=ea.ranges[La];S[La]={from:Xa.from(),to:Xa.to(),text:this.splitLines(b[La]),origin:X}}if(b=p&&"end"!=p){b=[];ea=X=$a(this.first,0);for(La=0;La<S.length;La++){var ab=S[La];Xa=qb(ab.from,X,ea);var tb=qb(Sa(ab),X,ea);X=ab.to;ea=tb;"around"==p?(ab=this.sel.ranges[La],ab=0>Ca(ab.head,ab.anchor),b[La]=new Jf(ab?tb:Xa,ab?Xa:tb)):b[La]=new Jf(Xa,Xa)}b=new Hg(b,this.sel.primIndex)}p=b;for(b=S.length-
1;0<=b;b--)gb(this,S[b]);p?af(this,p):this.cm&&We(this.cm)}),undo:nd(function(){sb(this,"undo")}),redo:nd(function(){sb(this,"redo")}),undoSelection:nd(function(){sb(this,"undo",!0)}),redoSelection:nd(function(){sb(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,p=0,X=0,S=0;S<b.done.length;S++)b.done[S].ranges||++p;for(S=0;S<b.undone.length;S++)b.undone[S].ranges||++X;return{undo:p,redo:X}},clearHistory:function(){var b=
this;this.history=new Oa(this.history.maxGeneration);cc(this,function(p){return p.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Zc(this.history.done),undone:Zc(this.history.undone)}},setHistory:function(b){var p=
this.history=new Oa(this.history.maxGeneration);p.done=Zc(b.done.slice(0),null,!0);p.undone=Zc(b.undone.slice(0),null,!0)},setGutterMarker:nd(function(b,p,X){return bd(this,b,"gutter",function(S){var ea=S.gutterMarkers||(S.gutterMarkers={});ea[p]=X;!X&&G(ea)&&(S.gutterMarkers=null);return!0})}),clearGutter:nd(function(b){var p=this;this.iter(function(X){X.gutterMarkers&&X.gutterMarkers[b]&&bd(p,X,"gutter",function(){X.gutterMarkers[b]=null;G(X.gutterMarkers)&&(X.gutterMarkers=null);return!0})})}),
lineInfo:function(b){if("number"==typeof b){if(!Ra(this,b))return null;var p=b;b=ba(this,b);if(!b)return null}else if(p=Fa(b),null==p)return null;return{line:p,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:nd(function(b,p,X){return bd(this,b,"gutter"==p?"gutter":"class",function(S){var ea="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass";if(S[ea]){if(k(X).test(S[ea]))return!1;
S[ea]+=" "+X}else S[ea]=X;return!0})}),removeLineClass:nd(function(b,p,X){return bd(this,b,"gutter"==p?"gutter":"class",function(S){var ea="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass",La=S[ea];if(La)if(null==X)S[ea]=null;else{var Xa=La.match(k(X));if(!Xa)return!1;var ab=Xa.index+Xa[0].length;S[ea]=La.slice(0,Xa.index)+(Xa.index&&ab!=La.length?" ":"")+La.slice(ab)||null}else return!1;return!0})}),addLineWidget:nd(function(b,p,X){return ee(this,b,p,X)}),removeLineWidget:function(b){b.clear()},
markText:function(b,p,X){return Sd(this,jb(this,b),jb(this,p),X,X&&X.type||"range")},setBookmark:function(b,p){p={replacedWith:p&&(null==p.nodeType?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};b=jb(this,b);return Sd(this,b,b,p,"bookmark")},findMarksAt:function(b){b=jb(this,b);var p=[],X=ba(this,b.line).markedSpans;if(X)for(var S=0;S<X.length;++S){var ea=X[S];(null==ea.from||ea.from<=b.ch)&&(null==ea.to||ea.to>=b.ch)&&p.push(ea.marker.parent||
ea.marker)}return p},findMarks:function(b,p,X){b=jb(this,b);p=jb(this,p);var S=[],ea=b.line;this.iter(b.line,p.line+1,function(La){if(La=La.markedSpans)for(var Xa=0;Xa<La.length;Xa++){var ab=La[Xa];null!=ab.to&&ea==b.line&&b.ch>=ab.to||null==ab.from&&ea!=b.line||null!=ab.from&&ea==p.line&&ab.from>=p.ch||X&&!X(ab.marker)||S.push(ab.marker.parent||ab.marker)}++ea});return S},getAllMarks:function(){var b=[];this.iter(function(p){if(p=p.markedSpans)for(var X=0;X<p.length;++X)null!=p[X].from&&b.push(p[X].marker)});
return b},posFromIndex:function(b){var p,X=this.first,S=this.lineSeparator().length;this.iter(function(ea){ea=ea.text.length+S;if(ea>b)return p=b,!0;b-=ea;++X});return jb(this,$a(X,p))},indexFromPos:function(b){b=jb(this,b);var p=b.ch;if(b.line<this.first||0>b.ch)return 0;var X=this.lineSeparator().length;this.iter(this.first,b.line,function(S){p+=S.text.length+X});return p},copy:function(b){var p=new Gg(ra(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
p.scrollTop=this.scrollTop;p.scrollLeft=this.scrollLeft;p.sel=this.sel;p.extend=!1;b&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory()));return p},linkedDoc:function(b){b||(b={});var p=this.first,X=this.first+this.size;null!=b.from&&b.from>p&&(p=b.from);null!=b.to&&b.to<X&&(X=b.to);p=new Gg(ra(this,p,X),b.mode||this.modeOption,p,this.lineSep,this.direction);b.sharedHist&&(p.history=this.history);(this.linked||(this.linked=[])).push({doc:p,sharedHist:b.sharedHist});p.linked=
[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=re(this);for(X=0;X<b.length;X++){var S=b[X],ea=S.find(),La=p.clipPos(ea.from);ea=p.clipPos(ea.to);Ca(La,ea)&&(La=Sd(p,La,ea,S.primary,S.primary.type),S.markers.push(La),La.parent=S)}return p},unlinkDoc:function(b){b instanceof og&&(b=b.doc);if(this.linked)for(var p=0;p<this.linked.length;++p)if(this.linked[p].doc==b){this.linked.splice(p,1);b.unlinkDoc(this);Pf(re(this));break}if(b.history==this.history){var X=[b.id];cc(b,function(S){return X.push(S.id)},
!0);b.history=new Oa(null);b.history.done=Zc(this.history.done,X);b.history.undone=Zc(this.history.undone,X)}},iterLinkedDocs:function(b){cc(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?b.split(this.lineSep):Ih(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:nd(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(p){return p.order=null}),this.cm&&oa(this.cm))})});
Gg.prototype.eachLine=Gg.prototype.iter;for(var gj=0,rk=!1,Oh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zi=0;10>Zi;Zi++)Oh[Zi+48]=Oh[Zi+96]=String(Zi);for(var vi=65;90>=vi;vi++)Oh[vi]=String.fromCharCode(vi);for(var $i=1;12>=$i;$i++)Oh[$i+111]=Oh[$i+63235]="F"+$i;var Mi={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp",
"Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter",
"Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Mi["default"]=dh?Mi.macDefault:Mi.pcDefault;var aj={selectAll:ma,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),
b.getCursor("head"),mg)},killLine:function(b){return Xg(b,function(p){if(p.empty()){var X=ba(b.doc,p.head.line).text.length;return p.head.ch==X&&p.head.line<b.lastLine()?{from:p.head,to:$a(p.head.line+1,0)}:{from:p.head,to:$a(p.head.line,X)}}return{from:p.from(),to:p.to()}})},deleteLine:function(b){return Xg(b,function(p){return{from:$a(p.from().line,0),to:jb(b.doc,$a(p.to().line+1,0))}})},delLineLeft:function(b){return Xg(b,function(p){return{from:$a(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(b){return Xg(b,
function(p){var X=b.charCoords(p.head,"div").top+5;return{from:b.coordsChar({left:0,top:X},"div"),to:p.from()}})},delWrappedLineRight:function(b){return Xg(b,function(p){var X=b.charCoords(p.head,"div").top+5;X=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:X},"div");return{from:p.from(),to:X}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection($a(b.firstLine(),
0))},goDocEnd:function(b){return b.extendSelection($a(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(p){return nk(b,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(p){return Pj(b,p.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(p){p=p.head.line;var X=ba(b.doc,p);var S=X;for(var ea;ea=Pb(S,!1);)S=ea.find(1,!0).line;S!=X&&(p=Fa(S));return Ti(!0,b,X,p,-1)},{origin:"+move",
bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:p},"div")},ei)},goLineLeft:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:0,top:p},"div")},ei)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(p){var X=b.cursorCoords(p.head,"div").top+5;X=b.coordsChar({left:0,top:X},"div");return X.ch<b.getLine(X.line).search(/\S/)?
Pj(b,p.head):X},ei)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,
"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},
indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var p=[],X=b.listSelections(),S=b.options.tabSize,ea=0;ea<X.length;ea++){var La=X[ea].from();La=f(b.getLine(La.line),La.ch,S);p.push(n(S-La%S))}b.replaceSelections(p)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return oc(b,
function(){for(var p=b.listSelections(),X=[],S=0;S<p.length;S++)if(p[S].empty()){var ea=p[S].head,La=ba(b.doc,ea.line).text;if(La)if(ea.ch==La.length&&(ea=new $a(ea.line,ea.ch-1)),0<ea.ch)ea=new $a(ea.line,ea.ch+1),b.replaceRange(La.charAt(ea.ch-1)+La.charAt(ea.ch-2),$a(ea.line,ea.ch-2),ea,"+transpose");else if(ea.line>b.doc.first){var Xa=ba(b.doc,ea.line-1).text;Xa&&(ea=new $a(ea.line,1),b.replaceRange(La.charAt(0)+b.doc.lineSeparator()+Xa.charAt(Xa.length-1),$a(ea.line-1,Xa.length-1),ea,"+transpose"))}X.push(new Jf(ea,
ea))}b.setSelections(X)})},newlineAndIndent:function(b){return oc(b,function(){for(var p=b.listSelections(),X=p.length-1;0<=X;X--)b.replaceRange(b.doc.lineSeparator(),p[X].anchor,p[X].head,"+input");p=b.listSelections();for(X=0;X<p.length;X++)b.indentLine(p[X].from().line,null,!0);We(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},Ak=new pf,sk=null,ij=function(b,p,X){this.time=b;this.pos=p;this.button=X};ij.prototype.compare=
function(b,p,X){return this.time+400>b&&0==Ca(p,this.pos)&&X==this.button};var bj,uj,Ki={toString:function(){return"CodeMirror.Init"}},Uk={},fj={};og.defaults=Uk;og.optionHandlers=fj;var vj=[];og.defineInitHook=function(b){return vj.push(b)};var Qg=null,eg=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new pf;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};eg.prototype.init=function(b){function p(ab){for(ab=
ab.target;ab;ab=ab.parentNode){if(ab==Xa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ab.className))break}return!1}function X(ab){if(p(ab)&&!P(La,ab)){if(La.somethingSelected())Qg={lineWise:!1,text:La.getSelections()},"cut"==ab.type&&La.replaceSelection("",null,"cut");else if(La.options.lineWiseCopyCut){var tb=Ei(La);Qg={lineWise:!0,text:tb.text};"cut"==ab.type&&La.operation(function(){La.setSelections(tb.ranges,0,mg);La.replaceSelection("",null,"cut")})}else return;if(ab.clipboardData){ab.clipboardData.clearData();
var Ib=Qg.text.join("\n");ab.clipboardData.setData("Text",Ib);if(ab.clipboardData.getData("Text")==Ib){ab.preventDefault();return}}var dc=Sh();ab=dc.firstChild;La.display.lineSpace.insertBefore(dc,La.display.lineSpace.firstChild);ab.value=Qg.text.join("\n");var Rc=document.activeElement;di(ab);setTimeout(function(){La.display.lineSpace.removeChild(dc);Rc.focus();Rc==Xa&&ea.showPrimarySelection()},50)}}var S=this,ea=this,La=ea.cm,Xa=ea.div=b.lineDiv;vh(Xa,La.options.spellcheck,La.options.autocorrect,
La.options.autocapitalize);Te(Xa,"paste",function(ab){!p(ab)||P(La,ab)||lg(ab,La)||11>=Ff&&setTimeout(fd(La,function(){return S.updateFromDOM()}),20)});Te(Xa,"compositionstart",function(ab){S.composing={data:ab.data,done:!1}});Te(Xa,"compositionupdate",function(ab){S.composing||(S.composing={data:ab.data,done:!1})});Te(Xa,"compositionend",function(ab){S.composing&&(ab.data!=S.composing.data&&S.readFromDOMSoon(),S.composing.done=!0)});Te(Xa,"touchstart",function(){return ea.forceCompositionEnd()});
Te(Xa,"input",function(){S.composing||S.readFromDOMSoon()});Te(Xa,"copy",X);Te(Xa,"cut",X)};eg.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};eg.prototype.prepareSelection=function(){var b=Yb(this.cm,!1);b.focus=document.activeElement==this.div;return b};eg.prototype.showSelection=function(b,p){b&&this.cm.display.view.length&&((b.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(b))};eg.prototype.getSelection=
function(){return this.cm.display.wrapper.ownerDocument.getSelection()};eg.prototype.showPrimarySelection=function(){var b=this.getSelection(),p=this.cm,X=p.doc.sel.primary(),S=X.from();X=X.to();if(p.display.viewTo==p.display.viewFrom||S.line>=p.display.viewTo||X.line<p.display.viewFrom)b.removeAllRanges();else{var ea=Th(p,b.anchorNode,b.anchorOffset),La=Th(p,b.focusNode,b.focusOffset);if(!ea||ea.bad||!La||La.bad||0!=Ca(Ua(ea,La),S)||0!=Ca(Ha(ea,La),X))if(ea=p.display.view,S=S.line>=p.display.viewFrom&&
Xj(p,S)||{node:ea[0].measure.map[2],offset:0},X=X.line<p.display.viewTo&&Xj(p,X),X||(X=ea[ea.length-1].measure,X=X.maps?X.maps[X.maps.length-1]:X.map,X={node:X[X.length-1],offset:X[X.length-2]-X[X.length-3]}),S&&X){ea=b.rangeCount&&b.getRangeAt(0);try{var Xa=Hi(S.node,S.offset,X.offset,X.node)}catch(ab){}Xa&&(!Eg&&p.state.focused?(b.collapse(S.node,S.offset),Xa.collapsed||(b.removeAllRanges(),b.addRange(Xa))):(b.removeAllRanges(),b.addRange(Xa)),ea&&null==b.anchorNode?b.addRange(ea):Eg&&this.startGracePeriod());
this.rememberSelection()}else b.removeAllRanges()}};eg.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};eg.prototype.showMultipleSelections=function(b){w(this.cm.display.cursorDiv,b.cursors);w(this.cm.display.selectionDiv,b.selection)};eg.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=
b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};eg.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return x(this.div,b)};eg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};eg.prototype.blur=function(){this.div.blur()};
eg.prototype.getField=function(){return this.div};eg.prototype.supportsTouch=function(){return!0};eg.prototype.receivedFocus=function(){function b(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,b))}var p=this;this.selectionInEditor()?this.pollSelection():oc(this.cm,function(){return p.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};eg.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||
b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};eg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),p=this.cm;if(ug&&Gh&&this.cm.display.gutterSpecs.length&&Wj(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var X=Th(p,b.anchorNode,b.anchorOffset),
S=Th(p,b.focusNode,b.focusOffset);X&&S&&oc(p,function(){Wa(p.doc,Na(X,S),mg);if(X.bad||S.bad)p.curOp.selectionChanged=!0})}}};eg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,p=b.display,X=b.doc.sel.primary(),S=X.from(),ea=X.to();0==S.ch&&S.line>b.firstLine()&&(S=$a(S.line-1,ba(b.doc,S.line-1).length));ea.ch==ba(b.doc,ea.line).text.length&&ea.line<b.lastLine()&&(ea=$a(ea.line+1,0));if(S.line<p.viewFrom||ea.line>
p.viewTo-1)return!1;var La;S.line==p.viewFrom||0==(La=qe(b,S.line))?(X=Fa(p.view[0].line),La=p.view[0].node):(X=Fa(p.view[La].line),La=p.view[La-1].node.nextSibling);var Xa=qe(b,ea.line);Xa==p.view.length-1?(ea=p.viewTo-1,p=p.lineDiv.lastChild):(ea=Fa(p.view[Xa+1].line)-1,p=p.view[Xa+1].node.previousSibling);if(!La)return!1;p=b.doc.splitLines(tj(b,La,p,X,ea));for(La=ca(b.doc,$a(X,0),$a(ea,ba(b.doc,ea).text.length));1<p.length&&1<La.length;)if(y(p)==y(La))p.pop(),La.pop(),ea--;else if(p[0]==La[0])p.shift(),
La.shift(),X++;else break;var ab=0;Xa=0;for(var tb=p[0],Ib=La[0],dc=Math.min(tb.length,Ib.length);ab<dc&&tb.charCodeAt(ab)==Ib.charCodeAt(ab);)++ab;tb=y(p);Ib=y(La);for(dc=Math.min(tb.length-(1==p.length?ab:0),Ib.length-(1==La.length?ab:0));Xa<dc&&tb.charCodeAt(tb.length-Xa-1)==Ib.charCodeAt(Ib.length-Xa-1);)++Xa;if(1==p.length&&1==La.length&&X==S.line)for(;ab&&ab>S.ch&&tb.charCodeAt(tb.length-Xa-1)==Ib.charCodeAt(Ib.length-Xa-1);)ab--,Xa++;p[p.length-1]=tb.slice(0,tb.length-Xa).replace(/^\u200b+/,
"");p[0]=p[0].slice(ab).replace(/\u200b+$/,"");S=$a(X,ab);X=$a(ea,La.length?y(La).length-Xa:0);if(1<p.length||p[0]||Ca(S,X))return Qc(b.doc,p,S,X,"+input"),!0};eg.prototype.ensurePolled=function(){this.forceCompositionEnd()};eg.prototype.reset=function(){this.forceCompositionEnd()};eg.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};eg.prototype.readFromDOMSoon=function(){var b=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};eg.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||oc(this.cm,function(){return yc(b.cm)})};eg.prototype.setUneditable=function(b){b.contentEditable="false"};eg.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||fd(this.cm,Gi)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};eg.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};eg.prototype.onContextMenu=function(){};eg.prototype.resetPosition=function(){};eg.prototype.needsContentAttribute=!0;var xg=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new pf;this.hasSelection=!1;this.composing=null};xg.prototype.init=function(b){function p(Xa){if(!P(ea,Xa)){if(ea.somethingSelected())Qg={lineWise:!1,
text:ea.getSelections()};else if(ea.options.lineWiseCopyCut){var ab=Ei(ea);Qg={lineWise:!0,text:ab.text};"cut"==Xa.type?ea.setSelections(ab.ranges,null,mg):(S.prevInput="",La.value=ab.text.join("\n"),di(La))}else return;"cut"==Xa.type&&(ea.state.cutIncoming=+new Date)}}var X=this,S=this,ea=this.cm;this.createField(b);var La=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);mi&&(La.style.width="0px");Te(La,"input",function(){wf&&9<=Ff&&X.hasSelection&&(X.hasSelection=null);S.poll()});
Te(La,"paste",function(Xa){P(ea,Xa)||lg(Xa,ea)||(ea.state.pasteIncoming=+new Date,S.fastPoll())});Te(La,"cut",p);Te(La,"copy",p);Te(b.scroller,"paste",function(Xa){if(!Dd(b,Xa)&&!P(ea,Xa))if(La.dispatchEvent){var ab=new Event("paste");ab.clipboardData=Xa.clipboardData;La.dispatchEvent(ab)}else ea.state.pasteIncoming=+new Date,S.focus()});Te(b.lineSpace,"selectstart",function(Xa){Dd(b,Xa)||aa(Xa)});Te(La,"compositionstart",function(){var Xa=ea.getCursor("from");S.composing&&S.composing.range.clear();
S.composing={start:Xa,range:ea.markText(Xa,ea.getCursor("to"),{className:"CodeMirror-composing"})}});Te(La,"compositionend",function(){S.composing&&(S.poll(),S.composing.range.clear(),S.composing=null)})};xg.prototype.createField=function(b){this.wrapper=Sh();this.textarea=this.wrapper.firstChild};xg.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};xg.prototype.prepareSelection=function(){var b=this.cm,p=b.display,
X=b.doc,S=Yb(b);if(b.options.moveInputWithCursor){b=Be(b,X.sel.primary().head,"div");X=p.wrapper.getBoundingClientRect();var ea=p.lineDiv.getBoundingClientRect();S.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,b.top+ea.top-X.top));S.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,b.left+ea.left-X.left))}return S};xg.prototype.showSelection=function(b){var p=this.cm.display;w(p.cursorDiv,b.cursors);w(p.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=
b.teLeft+"px")};xg.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var p=this.cm;p.somethingSelected()?(this.prevInput="",b=p.getSelection(),this.textarea.value=b,p.state.focused&&di(this.textarea),wf&&9<=Ff&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",wf&&9<=Ff&&(this.hasSelection=null))}};xg.prototype.getField=function(){return this.textarea};xg.prototype.supportsTouch=function(){return!1};xg.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&
(!ri||v()!=this.textarea))try{this.textarea.focus()}catch(b){}};xg.prototype.blur=function(){this.textarea.blur()};xg.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};xg.prototype.receivedFocus=function(){this.slowPoll()};xg.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};xg.prototype.fastPoll=function(){function b(){X.poll()||p?(X.pollingFast=!1,X.slowPoll()):
(p=!0,X.polling.set(60,b))}var p=!1,X=this;X.pollingFast=!0;X.polling.set(20,b)};xg.prototype.poll=function(){var b=this,p=this.cm,X=this.textarea,S=this.prevInput;if(this.contextMenuPending||!p.state.focused||Xh(X)&&!S&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var ea=X.value;if(ea==S&&!p.somethingSelected())return!1;if(wf&&9<=Ff&&this.hasSelection===ea||dh&&/[\uf700-\uf7ff]/.test(ea))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var La=
ea.charCodeAt(0);8203!=La||S||(S="​");if(8666==La)return this.reset(),this.cm.execCommand("undo")}var Xa=0;for(La=Math.min(S.length,ea.length);Xa<La&&S.charCodeAt(Xa)==ea.charCodeAt(Xa);)++Xa;oc(p,function(){Gi(p,ea.slice(Xa),S.length-Xa,null,b.composing?"*compose":null);1E3<ea.length||-1<ea.indexOf("\n")?X.value=b.prevInput="":b.prevInput=ea;b.composing&&(b.composing.range.clear(),b.composing.range=p.markText(b.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};xg.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};xg.prototype.onKeyPress=function(){wf&&9<=Ff&&(this.hasSelection=null);this.fastPoll()};xg.prototype.onContextMenu=function(b){function p(){if(null!=Xa.selectionStart){var wc=ea.somethingSelected(),td="​"+(wc?Xa.value:"");Xa.value="⇚";Xa.value=td;S.prevInput=wc?"":"​";Xa.selectionStart=1;Xa.selectionEnd=td.length;La.selForContextMenu=ea.doc.sel}}function X(){if(S.contextMenuPending==X&&(S.contextMenuPending=!1,S.wrapper.style.cssText=
dc,Xa.style.cssText=Ib,wf&&9>Ff&&La.scrollbars.setScrollTop(La.scroller.scrollTop=tb),null!=Xa.selectionStart)){(!wf||wf&&9>Ff)&&p();var wc=0,td=function(){La.selForContextMenu==ea.doc.sel&&0==Xa.selectionStart&&0<Xa.selectionEnd&&"​"==S.prevInput?fd(ea,ma)(ea):10>wc++?La.detectingSelectAll=setTimeout(td,500):(La.selForContextMenu=null,La.input.reset())};La.detectingSelectAll=setTimeout(td,200)}}var S=this,ea=S.cm,La=ea.display,Xa=S.textarea;S.contextMenuPending&&S.contextMenuPending();var ab=Bf(ea,
b),tb=La.scroller.scrollTop;if(ab&&!Jg){ea.options.resetSelectionOnContextMenu&&-1==ea.doc.sel.contains(ab)&&fd(ea,Wa)(ea.doc,Na(ab),mg);var Ib=Xa.style.cssText,dc=S.wrapper.style.cssText;ab=S.wrapper.offsetParent.getBoundingClientRect();S.wrapper.style.cssText="position: static";Xa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-ab.top-5)+"px; left: "+(b.clientX-ab.left-5)+"px;\n      z-index: 1000; background: "+(wf?"rgba(255, 255, 255, .05)":"transparent")+
";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Ag)var Rc=window.scrollY;La.input.focus();Ag&&window.scrollTo(null,Rc);La.input.reset();ea.somethingSelected()||(Xa.value=S.prevInput=" ");S.contextMenuPending=X;La.selForContextMenu=ea.doc.sel;clearTimeout(La.detectingSelectAll);wf&&9<=Ff&&p();if(Vh){Ia(b);var vc=function(){la(window,"mouseup",vc);setTimeout(X,20)};Te(window,"mouseup",vc)}else setTimeout(X,50)}};xg.prototype.readOnlyChanged=
function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};xg.prototype.setUneditable=function(){};xg.prototype.needsContentAttribute=!1;(function(b){function p(S,ea,La,Xa){b.defaults[S]=ea;La&&(X[S]=Xa?function(ab,tb,Ib){Ib!=Ki&&La(ab,tb,Ib)}:La)}var X=b.optionHandlers;b.defineOption=p;b.Init=Ki;p("value","",function(S,ea){return S.setValue(ea)},!0);p("mode",null,function(S,ea){S.doc.modeOption=ea;Db(S)},!0);p("indentUnit",2,Db,!0);p("indentWithTabs",!1);p("smartIndent",
!0);p("tabSize",4,function(S){Ab(S);Nf(S);yc(S)},!0);p("lineSeparator",null,function(S,ea){if(S.doc.lineSep=ea){var La=[],Xa=S.doc.first;S.doc.iter(function(tb){for(var Ib=0;;){var dc=tb.text.indexOf(ea,Ib);if(-1==dc)break;Ib=dc+ea.length;La.push($a(Xa,dc))}Xa++});for(var ab=La.length-1;0<=ab;ab--)Qc(S.doc,ea,La[ab],$a(La[ab].line,La[ab].ch+ea.length))}});p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(S,ea,La){S.state.specialChars=
new RegExp(ea.source+(ea.test("\t")?"":"|\t"),"g");La!=Ki&&S.refresh()});p("specialCharPlaceholder",Lb,function(S){return S.refresh()},!0);p("electricChars",!0);p("inputStyle",ri?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);p("spellcheck",!1,function(S,ea){return S.getInputField().spellcheck=ea},!0);p("autocorrect",!1,function(S,ea){return S.getInputField().autocorrect=ea},!0);p("autocapitalize",!1,function(S,ea){return S.getInputField().autocapitalize=
ea},!0);p("rtlMoveVisually",!Vg);p("wholeLineUpdateBefore",!0);p("theme","default",function(S){Tk(S);Cf(S)},!0);p("keyMap","default",function(S,ea,La){ea=Vf(ea);(La=La!=Ki&&Vf(La))&&La.detach&&La.detach(S,ea);ea.attach&&ea.attach(S,La||null)});p("extraKeys",null);p("configureMouse",null);p("lineWrapping",!1,sj,!0);p("gutters",[],function(S,ea){S.display.gutterSpecs=ne(ea,S.options.lineNumbers);Cf(S)},!0);p("fixedGutter",!0,function(S,ea){S.display.gutters.style.left=ea?Yf(S.display)+"px":"0";S.refresh()},
!0);p("coverGutterNextToScrollbar",!1,function(S){return Pa(S)},!0);p("scrollbarStyle","native",function(S){Wb(S);Pa(S);S.display.scrollbars.setScrollTop(S.doc.scrollTop);S.display.scrollbars.setScrollLeft(S.doc.scrollLeft)},!0);p("lineNumbers",!1,function(S,ea){S.display.gutterSpecs=ne(S.options.gutters,ea);Cf(S)},!0);p("firstLineNumber",1,Cf,!0);p("lineNumberFormatter",function(S){return S},Cf,!0);p("showCursorWhenSelecting",!1,ub,!0);p("resetSelectionOnContextMenu",!0);p("lineWiseCopyCut",!0);
p("pasteLinesPerSelection",!0);p("selectionsMayTouch",!1);p("readOnly",!1,function(S,ea){"nocursor"==ea&&(jd(S),S.display.input.blur());S.display.input.readOnlyChanged(ea)});p("screenReaderLabel",null,function(S,ea){S.display.input.screenReaderLabelChanged(""===ea?null:ea)});p("disableInput",!1,function(S,ea){ea||S.display.input.reset()},!0);p("dragDrop",!0,rj);p("allowDropFileTypes",null);p("cursorBlinkRate",530);p("cursorScrollMargin",0);p("cursorHeight",1,ub,!0);p("singleCursorHeightPerLine",!0,
ub,!0);p("workTime",100);p("workDelay",100);p("flattenSpans",!0,Ab,!0);p("addModeClass",!1,Ab,!0);p("pollInterval",100);p("undoDepth",200,function(S,ea){return S.doc.history.undoDepth=ea});p("historyEventDelay",1250);p("viewportMargin",10,function(S){return S.refresh()},!0);p("maxHighlightLength",1E4,Ab,!0);p("moveInputWithCursor",!0,function(S,ea){ea||S.display.input.resetPosition()});p("tabindex",null,function(S,ea){return S.display.input.getField().tabIndex=ea||""});p("autofocus",null);p("direction",
"ltr",function(S,ea){return S.doc.setDirection(ea)},!0);p("phrases",null)})(og);(function(b){var p=b.optionHandlers,X=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(S,ea){var La=this.options,Xa=La[S];if(La[S]!=ea||"mode"==S)La[S]=ea,p.hasOwnProperty(S)&&fd(this,p[S])(this,ea,Xa),Z(this,"optionChange",this,S)},getOption:function(S){return this.options[S]},getDoc:function(){return this.doc},addKeyMap:function(S,ea){this.state.keyMaps[ea?
"push":"unshift"](Vf(S))},removeKeyMap:function(S){for(var ea=this.state.keyMaps,La=0;La<ea.length;++La)if(ea[La]==S||ea[La].name==S)return ea.splice(La,1),!0},addOverlay:Wc(function(S,ea){var La=S.token?S:b.getMode(this.options,S);if(La.startState)throw Error("Overlays may not be stateful.");D(this.state.overlays,{mode:La,modeSpec:S,opaque:ea&&ea.opaque,priority:ea&&ea.priority||0},function(Xa){return Xa.priority});this.state.modeGen++;yc(this)}),removeOverlay:Wc(function(S){for(var ea=this.state.overlays,
La=0;La<ea.length;++La){var Xa=ea[La].modeSpec;if(Xa==S||"string"==typeof S&&Xa.name==S){ea.splice(La,1);this.state.modeGen++;yc(this);break}}}),indentLine:Wc(function(S,ea,La){"string"!=typeof ea&&"number"!=typeof ea&&(ea=null==ea?this.options.smartIndent?"smart":"prev":ea?"add":"subtract");Ra(this.doc,S)&&oi(this,S,ea,La)}),indentSelection:Wc(function(S){for(var ea=this.doc.sel.ranges,La=-1,Xa=0;Xa<ea.length;Xa++){var ab=ea[Xa];if(ab.empty())ab.head.line>La&&(oi(this,ab.head.line,S,!0),La=ab.head.line,
Xa==this.doc.sel.primIndex&&We(this));else{var tb=ab.from();ab=ab.to();var Ib=Math.max(La,tb.line);La=Math.min(this.lastLine(),ab.line-(ab.ch?0:1))+1;for(ab=Ib;ab<La;++ab)oi(this,ab,S);ab=this.doc.sel.ranges;0==tb.ch&&ea.length==ab.length&&0<ab[Xa].from().ch&&Ad(this.doc,Xa,new Jf(tb,ab[Xa].to()),mg)}}}),getTokenAt:function(S,ea){return hc(this,S,ea)},getLineTokens:function(S,ea){return hc(this,$a(S),ea,!0)},getTokenTypeAt:function(S){S=jb(this.doc,S);var ea=nc(this,ba(this.doc,S.line)),La=0,Xa=(ea.length-
1)/2;S=S.ch;if(0==S)ea=ea[2];else for(;;){var ab=La+Xa>>1;if((ab?ea[2*ab-1]:0)>=S)Xa=ab;else if(ea[2*ab+1]<S)La=ab+1;else{ea=ea[2*ab+2];break}}La=ea?ea.indexOf("overlay "):-1;return 0>La?ea:0==La?null:ea.slice(0,La-1)},getModeAt:function(S){var ea=this.doc.mode;return ea.innerMode?b.innerMode(ea,this.getTokenAt(S).state).mode:ea},getHelper:function(S,ea){return this.getHelpers(S,ea)[0]},getHelpers:function(S,ea){var La=[];if(!X.hasOwnProperty(ea))return La;var Xa=X[ea];S=this.getModeAt(S);if("string"==
typeof S[ea])Xa[S[ea]]&&La.push(Xa[S[ea]]);else if(S[ea])for(var ab=0;ab<S[ea].length;ab++){var tb=Xa[S[ea][ab]];tb&&La.push(tb)}else S.helperType&&Xa[S.helperType]?La.push(Xa[S.helperType]):Xa[S.name]&&La.push(Xa[S.name]);for(ea=0;ea<Xa._global.length;ea++)ab=Xa._global[ea],ab.pred(S,this)&&-1==a(La,ab.val)&&La.push(ab.val);return La},getStateAfter:function(S,ea){var La=this.doc;S=Math.max(La.first,Math.min(null==S?La.first+La.size-1:S,La.first+La.size-1));return md(this,S+1,ea).state},cursorCoords:function(S,
ea){var La=this.doc.sel.primary();S=null==S?La.head:"object"==typeof S?jb(this.doc,S):S?La.from():La.to();return Be(this,S,ea||"page")},charCoords:function(S,ea){return Xd(this,jb(this.doc,S),ea||"page")},coordsChar:function(S,ea){S=Od(this,S,ea||"page");return Td(this,S.left,S.top)},lineAtHeight:function(S,ea){S=Od(this,{top:S,left:0},ea||"page").top;return na(this.doc,S+this.display.viewOffset)},heightAtLine:function(S,ea,La){var Xa=!1;if("number"==typeof S){var ab=this.doc.first+this.doc.size-
1;S<this.doc.first?S=this.doc.first:S>ab&&(S=ab,Xa=!0);S=ba(this.doc,S)}return we(this,S,{top:0,left:0},ea||"page",La||Xa).top+(Xa?this.doc.height-Ka(S):0)},defaultTextHeight:function(){return Fe(this.display)},defaultCharWidth:function(){return ue(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(S,ea,La,Xa,ab){var tb=this.display;S=Be(this,jb(this.doc,S));var Ib=S.bottom,dc=S.left;ea.style.position="absolute";ea.setAttribute("cm-ignore-events",
"true");this.display.input.setUneditable(ea);tb.sizer.appendChild(ea);if("over"==Xa)Ib=S.top;else if("above"==Xa||"near"==Xa){var Rc=Math.max(tb.wrapper.clientHeight,this.doc.height),vc=Math.max(tb.sizer.clientWidth,tb.lineSpace.clientWidth);("above"==Xa||S.bottom+ea.offsetHeight>Rc)&&S.top>ea.offsetHeight?Ib=S.top-ea.offsetHeight:S.bottom+ea.offsetHeight<=Rc&&(Ib=S.bottom);dc+ea.offsetWidth>vc&&(dc=vc-ea.offsetWidth)}ea.style.top=Ib+"px";ea.style.left=ea.style.right="";"right"==ab?(dc=tb.sizer.clientWidth-
ea.offsetWidth,ea.style.right="0px"):("left"==ab?dc=0:"middle"==ab&&(dc=(tb.sizer.clientWidth-ea.offsetWidth)/2),ea.style.left=dc+"px");La&&(S=tf(this,{left:dc,top:Ib,right:dc+ea.offsetWidth,bottom:Ib+ea.offsetHeight}),null!=S.scrollTop&&yf(this,S.scrollTop),null!=S.scrollLeft&&nf(this,S.scrollLeft))},triggerOnKeyDown:Wc(Jj),triggerOnKeyPress:Wc(yi),triggerOnKeyUp:qg,triggerOnMouseDown:Wc(Ai),execCommand:function(S){if(aj.hasOwnProperty(S))return aj[S].call(null,this)},triggerElectric:Wc(function(S){Dg(this,
S)}),findPosH:function(S,ea,La,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);S=jb(this.doc,S);for(var tb=0;tb<ea&&(S=Yj(this.doc,S,ab,La,Xa),!S.hitSide);++tb);return S},moveH:Wc(function(S,ea){var La=this;this.extendSelectionsBy(function(Xa){return La.display.shift||La.doc.extend||Xa.empty()?Yj(La.doc,Xa.head,S,ea,La.options.rtlMoveVisually):0>S?Xa.from():Xa.to()},ei)}),deleteH:Wc(function(S,ea){var La=this.doc;this.doc.sel.somethingSelected()?La.replaceSelection("",null,"+delete"):Xg(this,function(Xa){var ab=
Yj(La,Xa.head,S,ea,!1);return 0>S?{from:ab,to:Xa.head}:{from:Xa.head,to:ab}})}),findPosV:function(S,ea,La,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);var tb=jb(this.doc,S);for(S=0;S<ea&&(tb=Be(this,tb,"div"),null==Xa?Xa=tb.left:tb.left=Xa,tb=Vj(this,tb,ab,La),!tb.hitSide);++S);return tb},moveV:Wc(function(S,ea){var La=this,Xa=this.doc,ab=[],tb=!this.display.shift&&!Xa.extend&&Xa.sel.somethingSelected();Xa.extendSelectionsBy(function(dc){if(tb)return 0>S?dc.from():dc.to();var Rc=Be(La,dc.head,"div");null!=dc.goalColumn&&
(Rc.left=dc.goalColumn);ab.push(Rc.left);var vc=Vj(La,Rc,S,ea);"page"==ea&&dc==Xa.sel.primary()&&kd(La,Xd(La,vc,"div").top-Rc.top);return vc},ei);if(ab.length)for(var Ib=0;Ib<Xa.sel.ranges.length;Ib++)Xa.sel.ranges[Ib].goalColumn=ab[Ib]}),findWordAt:function(S){var ea=ba(this.doc,S.line).text,La=S.ch,Xa=S.ch;if(ea){var ab=this.getHelper(S,"wordChars");"before"!=S.sticky&&Xa!=ea.length||!La?++Xa:--La;var tb=ea.charAt(La);for(tb=z(tb,ab)?function(Ib){return z(Ib,ab)}:/\s/.test(tb)?function(Ib){return/\s/.test(Ib)}:
function(Ib){return!/\s/.test(Ib)&&!z(Ib)};0<La&&tb(ea.charAt(La-1));)--La;for(;Xa<ea.length&&tb(ea.charAt(Xa));)++Xa}return new Jf($a(S.line,La),$a(S.line,Xa))},toggleOverwrite:function(S){if(null==S||S!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?u(this.display.cursorDiv,"CodeMirror-overwrite"):Dh(this.display.cursorDiv,"CodeMirror-overwrite"),Z(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==v()},isReadOnly:function(){return!(!this.options.readOnly&&
!this.doc.cantEdit)},scrollTo:Wc(function(S,ea){uf(this,S,ea)}),getScrollInfo:function(){var S=this.display.scroller;return{left:S.scrollLeft,top:S.scrollTop,height:S.scrollHeight-oe(this)-this.display.barHeight,width:S.scrollWidth-oe(this)-this.display.barWidth,clientHeight:fe(this),clientWidth:De(this)}},scrollIntoView:Wc(function(S,ea){null==S?(S={from:this.doc.sel.primary().head,to:null},null==ea&&(ea=this.options.cursorScrollMargin)):"number"==typeof S?S={from:$a(S,0),to:null}:null==S.from&&
(S={from:S,to:null});S.to||(S.to=S.from);S.margin=ea||0;null!=S.from.line?(mf(this),this.curOp.scrollToPos=S):Zf(this,S.from,S.to,S.margin)}),setSize:Wc(function(S,ea){var La=this,Xa=function(tb){return"number"==typeof tb||/^\d+$/.test(String(tb))?tb+"px":tb};null!=S&&(this.display.wrapper.style.width=Xa(S));null!=ea&&(this.display.wrapper.style.height=Xa(ea));this.options.lineWrapping&&Ue(this);var ab=this.display.viewFrom;this.doc.iter(ab,this.display.viewTo,function(tb){if(tb.widgets)for(var Ib=
0;Ib<tb.widgets.length;Ib++)if(tb.widgets[Ib].noHScroll){wa(La,ab,"widget");break}++ab});this.curOp.forceUpdate=!0;Z(this,"refresh",this)}),operation:function(S){return oc(this,S)},startOperation:function(){return Tb(this)},endOperation:function(){return ic(this)},refresh:Wc(function(){var S=this.display.cachedTextHeight;yc(this);this.curOp.forceUpdate=!0;Nf(this);uf(this,this.doc.scrollLeft,this.doc.scrollTop);Ie(this.display);(null==S||.5<Math.abs(S-Fe(this.display))||this.options.lineWrapping)&&
Sf(this);Z(this,"refresh",this)}),swapDoc:Wc(function(S){var ea=this.doc;ea.cm=null;this.state.selectingText&&this.state.selectingText();xc(this,S);Nf(this);this.display.input.reset();uf(this,S.scrollLeft,S.scrollTop);this.curOp.forceScroll=!0;Bc(this,"swapDoc",this,ea);return ea}),phrase:function(S){var ea=this.options.phrases;return ea&&Object.prototype.hasOwnProperty.call(ea,S)?ea[S]:S},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ia(b);b.registerHelper=function(S,ea,La){X.hasOwnProperty(S)||(X[S]=b[S]={_global:[]});X[S][ea]=La};b.registerGlobalHelper=function(S,ea,La,Xa){b.registerHelper(S,ea,Xa);X[S]._global.push({pred:La,val:Xa})}})(og);var il="iter insert remove copy getEditor constructor".split(" "),hj;for(hj in Gg.prototype)Gg.prototype.hasOwnProperty(hj)&&0>a(il,hj)&&(og.prototype[hj]=function(b){return function(){return b.apply(this.doc,
arguments)}}(Gg.prototype[hj]));ia(Gg);og.inputStyles={textarea:xg,contenteditable:eg};og.defineMode=function(b){og.defaults.mode||"null"==b||(og.defaults.mode=b);ua.apply(this,arguments)};og.defineMIME=function(b,p){ti[b]=p};og.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});og.defineMIME("text/plain","null");og.defineExtension=function(b,p){og.prototype[b]=p};og.defineDocExtension=function(b,p){Gg.prototype[b]=p};og.fromTextArea=function(b,p){function X(){b.value=
ab.getValue()}p=p?d(p):{};p.value=b.value;!p.tabindex&&b.tabIndex&&(p.tabindex=b.tabIndex);!p.placeholder&&b.placeholder&&(p.placeholder=b.placeholder);if(null==p.autofocus){var S=v();p.autofocus=S==b||null!=b.getAttribute("autofocus")&&S==document.body}if(b.form&&(Te(b.form,"submit",X),!p.leaveSubmitMethodAlone)){var ea=b.form;var La=ea.submit;try{var Xa=ea.submit=function(){X();ea.submit=La;ea.submit();ea.submit=Xa}}catch(tb){}}p.finishInit=function(tb){tb.save=X;tb.getTextArea=function(){return b};
tb.toTextArea=function(){tb.toTextArea=isNaN;X();b.parentNode.removeChild(tb.getWrapperElement());b.style.display="";b.form&&(la(b.form,"submit",X),p.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=La))}};b.style.display="none";var ab=og(function(tb){return b.parentNode.insertBefore(tb,b.nextSibling)},p);return ab};(function(b){b.off=la;b.on=Te;b.wheelEventPixels=jg;b.Doc=Gg;b.splitLines=Ih;b.countColumn=f;b.findColumn=e;b.isWordChar=F;b.Pass=mh;b.signal=Z;b.Line=Yh;b.changeEnd=
Sa;b.scrollbarModel=ej;b.Pos=$a;b.cmpPos=Ca;b.modes=Kh;b.mimeModes=ti;b.resolveMode=Ta;b.getMode=Ya;b.modeExtensions=jh;b.extendMode=Da;b.copyState=ta;b.startState=W;b.innerMode=U;b.commands=aj;b.keyMap=Mi;b.keyName=Qf;b.isModifierKey=vf;b.lookupKey=$f;b.normalizeKeyMap=Xe;b.StringStream=kg;b.SharedTextMarker=pi;b.TextMarker=lh;b.LineWidget=Uh;b.e_preventDefault=aa;b.e_stopPropagation=ya;b.e_stop=Ia;b.addClass=u;b.contains=x;b.rmClass=Dh;b.keyNames=Oh})(og);og.version="5.59.2";return og})};
shadow$provide[68]=function(Ja,A,rb,E){(function(k){"object"===typeof E&&"object"===typeof rb?k(A(67)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){k.defineMode("clojure",function(l){function w(O,M){if(O.eatSpace()||O.eat(","))return["space",null];if(O.match(y))return[null,"number"];if(O.match(B))return[null,"string-2"];if(O.eat(/^"/))return(M.tokenize=H)(O,M);if(O.eat(/^[(\[{]/))return["open","bracket"];if(O.eat(/^[)\]}]/))return["close","bracket"];
if(O.eat(/^;/))return O.skipToEnd(),["space","comment"];if(O.eat(/^[#'@^`~]/))return[null,"meta"];var F=O.match(D);F=F&&F[0];return F?"comment"===F&&"("===M.lastToken?(M.tokenize=N)(O,M):v(F,d)||":"===F.charAt(0)?["symbol","atom"]:v(F,f)||v(F,a)?["symbol","keyword"]:"("===M.lastToken?["symbol","builtin"]:["symbol","variable"]:(O.next(),O.eatWhile(function(z){return!v(z,n)}),[null,"error"])}function H(O,M){for(var F=!1,z;z=O.next();){if('"'===z&&!F){M.tokenize=w;break}F=!F&&"\\"===z}return[null,"string"]}
function N(O,M){for(var F=1,z;z=O.next();)if(")"===z&&F--,"("===z&&F++,0===F){O.backUp(1);M.tokenize=w;break}return["space","comment"]}function x(O){for(var M={},F=0;F<O.length;++F)M[O[F]]=!0;return M}function v(O,M){if(M instanceof RegExp)return M.test(O);if(M instanceof Object)return M.propertyIsEnumerable(O)}var u=["false","nil","true"],m=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),g="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
k.registerHelper("hintWords","clojure",[].concat(u,m,g));var d=x(u),f=x(m),a=x(g),e=x("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
n=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,y=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,B=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,D=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:w}},token:function(O,M){O.sol()&&"number"!==typeof M.ctx.indentTo&&(M.ctx.indentTo=M.ctx.start+1);var F=M.tokenize(O,M),z=F[0];F=F[1];var G=O.current();"space"!==z&&("("===M.lastToken&&null===M.ctx.indentTo?"symbol"===z&&v(G,e)?M.ctx.indentTo=M.ctx.start+l.indentUnit:M.ctx.indentTo="next":"next"===M.ctx.indentTo&&(M.ctx.indentTo=O.column()),M.lastToken=G);"open"===z?M.ctx={prev:M.ctx,start:O.column(),indentTo:null}:
"close"===z&&(M.ctx=M.ctx.prev||M.ctx);return F},indent:function(O){var M=O.ctx.indentTo;return"number"===typeof M?M:O.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});k.defineMIME("text/x-clojure","clojure");k.defineMIME("text/x-clojurescript","clojure");k.defineMIME("application/edn","clojure")})};
shadow$provide[69]=function(S,m,Y,r){(function(D){"object"==typeof r&&"object"==typeof Y?D(m(67)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],D):D(CodeMirror)})(function(D){var C={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},v={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};D.defineMode("xml",function(w,u){function n(K,N){function M(Q){N.tokenize=Q;return Q(K,N)}var O=K.next();if("\x3c"==O){if(K.eat("!"))return K.eat("[")?K.match("CDATA[")?M(c("atom","]]\x3e")):null:K.match("--")?M(c("comment","--\x3e")):K.match("DOCTYPE",!0,!0)?(K.eatWhile(/[\w\._\-]/),M(e(1))):null;if(K.eat("?"))return K.eatWhile(/[\w\._\-]/),
N.tokenize=c("meta","?\x3e"),"meta";H=K.eat("/")?"closeTag":"openTag";N.tokenize=k;return"tag bracket"}if("\x26"==O)return(K.eat("#")?K.eat("x")?K.eatWhile(/[a-fA-F\d]/)&&K.eat(";"):K.eatWhile(/[\d]/)&&K.eat(";"):K.eatWhile(/[\w\.\-:]/)&&K.eat(";"))?"atom":"error";K.eatWhile(/[^&<]/);return null}function k(K,N){var M=K.next();if("\x3e"==M||"/"==M&&K.eat("\x3e"))return N.tokenize=n,H="\x3e"==M?"endTag":"selfcloseTag","tag bracket";if("\x3d"==M)return H="equals",null;if("\x3c"==M)return N.tokenize=
n,N.state=f,N.tagName=N.tagStart=null,(K=N.tokenize(K,N))?K+" tag error":"tag error";if(/['"]/.test(M))return N.tokenize=h(M),N.stringStartCol=K.column(),N.tokenize(K,N);K.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function h(K){var N=function(M,O){for(;!M.eol();)if(M.next()==K){O.tokenize=k;break}return"string"};N.isInAttribute=!0;return N}function c(K,N){return function(M,O){for(;!M.eol();){if(M.match(N)){O.tokenize=n;break}M.next()}return K}}function e(K){return function(N,M){for(var O;null!=
(O=N.next());){if("\x3c"==O)return M.tokenize=e(K+1),M.tokenize(N,M);if("\x3e"==O)if(1==K){M.tokenize=n;break}else return M.tokenize=e(K-1),M.tokenize(N,M)}return"meta"}}function b(K,N,M){this.prev=K.context;this.tagName=N||"";this.indent=K.indented;this.startOfLine=M;if(F.doNotIndent.hasOwnProperty(N)||K.context&&K.context.noIndent)this.noIndent=!0}function d(K){K.context&&(K.context=K.context.prev)}function a(K,N){for(var M;K.context;){M=K.context.tagName;if(!F.contextGrabbers.hasOwnProperty(M)||
!F.contextGrabbers[M].hasOwnProperty(N))break;d(K)}}function f(K,N,M){return"openTag"==K?(M.tagStart=N.column(),l):"closeTag"==K?t:f}function l(K,N,M){if("word"==K)return M.tagName=N.current(),P="tag",E;if(F.allowMissingTagName&&"endTag"==K)return P="tag bracket",E(K,N,M);P="error";return l}function t(K,N,M){if("word"==K){K=N.current();M.context&&M.context.tagName!=K&&F.implicitlyClosed.hasOwnProperty(M.context.tagName)&&d(M);if(M.context&&M.context.tagName==K||!1===F.matchClosing)return P="tag",
q;P="tag error";return B}if(F.allowMissingTagName&&"endTag"==K)return P="tag bracket",q(K,N,M);P="error";return B}function q(K,N,M){if("endTag"!=K)return P="error",q;d(M);return f}function B(K,N,M){P="error";return q(K,N,M)}function E(K,N,M){if("word"==K)return P="attribute",z;if("endTag"==K||"selfcloseTag"==K){N=M.tagName;var O=M.tagStart;M.tagName=M.tagStart=null;"selfcloseTag"==K||F.autoSelfClosers.hasOwnProperty(N)?a(M,N):(a(M,N),M.context=new b(M,N,O==M.indented));return f}P="error";return E}
function z(K,N,M){if("equals"==K)return A;F.allowMissing||(P="error");return E(K,N,M)}function A(K,N,M){if("string"==K)return p;if("word"==K&&F.allowUnquoted)return P="string",E;P="error";return E(K,N,M)}function p(K,N,M){return"string"==K?p:E(K,N,M)}var y=w.indentUnit,F={};w=u.htmlMode?C:v;for(var J in w)F[J]=w[J];for(J in u)F[J]=u[J];var H,P;n.isInText=!0;return{startState:function(K){var N={tokenize:n,state:f,indented:K||0,tagName:null,tagStart:null,context:null};null!=K&&(N.baseIndent=K);return N},
token:function(K,N){!N.tagName&&K.sol()&&(N.indented=K.indentation());if(K.eatSpace())return null;H=null;var M=N.tokenize(K,N);(M||H)&&"comment"!=M&&(P=null,N.state=N.state(H||M,K,N),P&&(M="error"==P?M+" error":P));return M},indent:function(K,N,M){var O=K.context;if(K.tokenize.isInAttribute)return K.tagStart==K.indented?K.stringStartCol+1:K.indented+y;if(O&&O.noIndent)return D.Pass;if(K.tokenize!=k&&K.tokenize!=n)return M?M.match(/^(\s*)/)[0].length:0;if(K.tagName)return!1!==F.multilineTagIndentPastTag?
K.tagStart+K.tagName.length+2:K.tagStart+y*(F.multilineTagIndentFactor||1);if(F.alignCDATA&&/<!\[CDATA\[/.test(N))return 0;if((N=N&&/^<(\/)?([\w_:\.-]*)/.exec(N))&&N[1])for(;O;)if(O.tagName==N[2]){O=O.prev;break}else if(F.implicitlyClosed.hasOwnProperty(O.tagName))O=O.prev;else break;else if(N)for(;O;)if((M=F.contextGrabbers[O.tagName])&&M.hasOwnProperty(N[2]))O=O.prev;else break;for(;O&&O.prev&&!O.startOfLine;)O=O.prev;return O?O.indent+y:K.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",
blockCommentEnd:"--\x3e",configuration:F.htmlMode?"html":"xml",helperType:F.htmlMode?"html":"xml",skipAttribute:function(K){K.state==A&&(K.state=E)},xmlCurrentTag:function(K){return K.tagName?{name:K.tagName,close:"closeTag"==K.type}:null},xmlCurrentContext:function(K){var N=[];for(K=K.context;K;K=K.prev)N.push(K.tagName);return N.reverse()}}});D.defineMIME("text/xml","xml");D.defineMIME("application/xml","xml");D.mimeModes.hasOwnProperty("text/html")||D.defineMIME("text/html",{name:"xml",htmlMode:!0})})};
shadow$provide[70]=function(S,m,Y,r){(function(D){"object"==typeof r&&"object"==typeof Y?D(m(67)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],D):D(CodeMirror)})(function(D){D.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",
mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",
ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",
ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},
{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",
mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",
mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",
mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",
mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript",
"application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",
ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",
ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads",
"text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p",
"pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",
mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",
ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",
mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",
ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",
alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",
ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3",
"ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",
mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",
ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];
for(var C=0;C<D.modeInfo.length;C++){var v=D.modeInfo[C];v.mimes&&(v.mime=v.mimes[0])}D.findModeByMIME=function(w){w=w.toLowerCase();for(var u=0;u<D.modeInfo.length;u++){var n=D.modeInfo[u];if(n.mime==w)return n;if(n.mimes)for(var k=0;k<n.mimes.length;k++)if(n.mimes[k]==w)return n}if(/\+xml$/.test(w))return D.findModeByMIME("application/xml");if(/\+json$/.test(w))return D.findModeByMIME("application/json")};D.findModeByExtension=function(w){w=w.toLowerCase();for(var u=0;u<D.modeInfo.length;u++){var n=
D.modeInfo[u];if(n.ext)for(var k=0;k<n.ext.length;k++)if(n.ext[k]==w)return n}};D.findModeByFileName=function(w){for(var u=0;u<D.modeInfo.length;u++){var n=D.modeInfo[u];if(n.file&&n.file.test(w))return n}u=w.lastIndexOf(".");if(w=-1<u&&w.substring(u+1,w.length))return D.findModeByExtension(w)};D.findModeByName=function(w){w=w.toLowerCase();for(var u=0;u<D.modeInfo.length;u++){var n=D.modeInfo[u];if(n.name.toLowerCase()==w)return n;if(n.alias)for(var k=0;k<n.alias.length;k++)if(n.alias[k].toLowerCase()==
w)return n}}})};
shadow$provide[71]=function(S,m,Y,r){(function(D){"object"==typeof r&&"object"==typeof Y?D(m(67),m(69),m(70)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],D):D(CodeMirror)})(function(D){D.defineMode("markdown",function(C,v){function w(G,L,T){L.f=L.inline=T;return T(G,L)}function u(G){G.linkTitle=!1;G.linkHref=!1;G.linkText=!1;G.em=!1;G.strong=!1;G.strikethrough=!1;G.quote=0;G.indentedCode=!1;if(G.f==k){var L=E;L||(L=D.innerMode(B,G.htmlState),L="xml"==
L.mode.name&&null===L.state.tagStart&&!L.state.context&&L.state.tokenize.isInText);L&&(G.f=b,G.block=n,G.htmlState=null)}G.trailingSpace=0;G.trailingSpaceNewLine=!1;G.prevLine=G.thisLine;G.thisLine={stream:null};return null}function n(G,L){var T=G.column()===L.indentation,V=L.prevLine.stream;var X=!V||!/\S/.test(V.string);var aa=L.indentedCode,ba=L.prevLine.hr,fa=!1!==L.list,ka=(L.listStack[L.listStack.length-1]||0)+3;L.indentedCode=!1;V=L.indentation;if(null===L.indentationDiff&&(L.indentationDiff=
L.indentation,fa)){for(L.list=null;V<L.listStack[L.listStack.length-1];)L.listStack.pop(),L.listStack.length?L.indentation=L.listStack[L.listStack.length-1]:L.list=!1;!1!==L.list&&(L.indentationDiff=V-L.listStack[L.listStack.length-1])}var ha=!X&&!ba&&!L.prevLine.header&&(!fa||!aa)&&!L.prevLine.fencedCodeEnd,ma=(!1===L.list||ba||X)&&L.indentation<=ka&&G.match(p);ba=null;if(4<=L.indentationDiff&&(aa||L.prevLine.fencedCodeEnd||L.prevLine.header||X))return G.skipToEnd(),L.indentedCode=!0,z.code;if(G.eatSpace())return null;
if(T&&L.indentation<=ka&&(ba=G.match(J))&&6>=ba[1].length)return L.quote=0,L.header=ba[1].length,L.thisLine.header=!0,v.highlightFormatting&&(L.formatting="header"),L.f=L.inline,c(L);if(L.indentation<=ka&&G.eat("\x3e"))return L.quote=T?1:L.quote+1,v.highlightFormatting&&(L.formatting="quote"),G.eatSpace(),c(L);if(!ma&&!L.setext&&T&&L.indentation<=ka&&(ba=G.match(y)))return T=ba[1]?"ol":"ul",L.indentation=V+G.current().length,L.list=!0,L.quote=0,L.listStack.push(L.indentation),L.em=!1,L.strong=!1,
L.code=!1,L.strikethrough=!1,v.taskLists&&G.match(F,!1)&&(L.taskList=!0),L.f=L.inline,v.highlightFormatting&&(L.formatting=["list","list-"+T]),c(L);if(T&&L.indentation<=ka&&(ba=G.match(K,!0))){L.quote=0;L.fencedEndRE=new RegExp(ba[1]+"+ *$");if(G=v.fencedCodeBlockHighlighting)G=ba[2]||v.fencedCodeBlockDefaultMode,D.findModeByName&&(T=D.findModeByName(G))&&(G=T.mime||T.mimes[0]),G=D.getMode(C,G),G="null"==G.name?null:G;L.localMode=G;L.localMode&&(L.localState=D.startState(L.localMode));L.f=L.block=
h;v.highlightFormatting&&(L.formatting="code-block");L.code=-1;return c(L)}return L.setext||!(ha&&fa||L.quote||!1!==L.list||L.code||ma||N.test(G.string))&&(ba=G.lookAhead(1))&&(ba=ba.match(H))?(L.setext?(L.header=L.setext,L.setext=0,G.skipToEnd(),v.highlightFormatting&&(L.formatting="header")):(L.header="\x3d"==ba[0].charAt(0)?1:2,L.setext=L.header),L.thisLine.header=!0,L.f=L.inline,c(L)):ma?(G.skipToEnd(),L.hr=!0,L.thisLine.hr=!0,z.hr):"["===G.peek()?w(G,L,l):w(G,L,L.inline)}function k(G,L){var T=
B.token(G,L.htmlState);if(!E){var V=D.innerMode(B,L.htmlState);if("xml"==V.mode.name&&null===V.state.tagStart&&!V.state.context&&V.state.tokenize.isInText||L.md_inside&&-1<G.current().indexOf("\x3e"))L.f=b,L.block=n,L.htmlState=null}return T}function h(G,L){var T=L.listStack[L.listStack.length-1]||0,V=L.indentation<T;if(L.fencedEndRE&&L.indentation<=T+3&&(V||G.match(L.fencedEndRE))){v.highlightFormatting&&(L.formatting="code-block");var X;V||(X=c(L));L.localMode=L.localState=null;L.block=n;L.f=b;
L.fencedEndRE=null;L.code=0;L.thisLine.fencedCodeEnd=!0;return V?(T=L.block,L.f=L.block=T,T(G,L)):X}if(L.localMode)return L.localMode.token(G,L.localState);G.skipToEnd();return z.code}function c(G){var L=[];if(G.formatting){L.push(z.formatting);"string"===typeof G.formatting&&(G.formatting=[G.formatting]);for(var T=0;T<G.formatting.length;T++)L.push(z.formatting+"-"+G.formatting[T]),"header"===G.formatting[T]&&L.push(z.formatting+"-"+G.formatting[T]+"-"+G.header),"quote"===G.formatting[T]&&(!v.maxBlockquoteDepth||
v.maxBlockquoteDepth>=G.quote?L.push(z.formatting+"-"+G.formatting[T]+"-"+G.quote):L.push("error"))}if(G.taskOpen)return L.push("meta"),L.length?L.join(" "):null;if(G.taskClosed)return L.push("property"),L.length?L.join(" "):null;G.linkHref?L.push(z.linkHref,"url"):(G.strong&&L.push(z.strong),G.em&&L.push(z.em),G.strikethrough&&L.push(z.strikethrough),G.emoji&&L.push(z.emoji),G.linkText&&L.push(z.linkText),G.code&&L.push(z.code),G.image&&L.push(z.image),G.imageAltText&&L.push(z.imageAltText,"link"),
G.imageMarker&&L.push(z.imageMarker));G.header&&L.push(z.header,z.header+"-"+G.header);G.quote&&(L.push(z.quote),!v.maxBlockquoteDepth||v.maxBlockquoteDepth>=G.quote?L.push(z.quote+"-"+G.quote):L.push(z.quote+"-"+v.maxBlockquoteDepth));!1!==G.list&&((T=(G.listStack.length-1)%3)?1===T?L.push(z.list2):L.push(z.list3):L.push(z.list1));G.trailingSpaceNewLine?L.push("trailing-space-new-line"):G.trailingSpace&&L.push("trailing-space-"+(G.trailingSpace%2?"a":"b"));return L.length?L.join(" "):null}function e(G,
L){if(G.match(P,!0))return c(L)}function b(G,L){var T=L.text(G,L);if("undefined"!==typeof T)return T;if(L.list)return L.list=null,c(L);if(L.taskList)return" "===G.match(F,!0)[1]?L.taskOpen=!0:L.taskClosed=!0,v.highlightFormatting&&(L.formatting="task"),L.taskList=!1,c(L);L.taskOpen=!1;L.taskClosed=!1;if(L.header&&G.match(/^#+$/,!0))return v.highlightFormatting&&(L.formatting="header"),c(L);T=G.next();if(L.linkTitle){L.linkTitle=!1;var V=T;"("===T&&(V=")");V=(V+"").replace(/([.?*+^\[\]\\(){}|-])/g,
"\\$1");if(G.match(new RegExp("^\\s*(?:[^"+V+"\\\\]+|\\\\\\\\|\\\\.)"+V),!0))return z.linkHref}if("`"===T){T=L.formatting;v.highlightFormatting&&(L.formatting="code");G.eatWhile("`");G=G.current().length;if(0!=L.code||L.quote&&1!=G){if(G==L.code)return G=c(L),L.code=0,G;L.formatting=T;return c(L)}L.code=G;return c(L)}if(L.code)return c(L);if("\\"===T&&(G.next(),v.highlightFormatting))return T=c(L),L=z.formatting+"-escape",T?T+" "+L:L;if("!"===T&&G.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return L.imageMarker=
!0,L.image=!0,v.highlightFormatting&&(L.formatting="image"),c(L);if("["===T&&L.imageMarker&&G.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return L.imageMarker=!1,L.imageAltText=!0,v.highlightFormatting&&(L.formatting="image"),c(L);if("]"===T&&L.imageAltText)return v.highlightFormatting&&(L.formatting="image"),T=c(L),L.imageAltText=!1,L.image=!1,L.inline=L.f=a,T;if("["===T&&!L.image){if(L.linkText&&G.match(/^.*?\]/))return c(L);L.linkText=!0;v.highlightFormatting&&(L.formatting="link");return c(L)}if("]"===
T&&L.linkText)return v.highlightFormatting&&(L.formatting="link"),T=c(L),L.linkText=!1,L.inline=L.f=G.match(/\(.*?\)| ?\[.*?\]/,!1)?a:b,T;if("\x3c"===T&&G.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return L.f=L.inline=d,v.highlightFormatting&&(L.formatting="link"),T=c(L),(T?T+" ":"")+z.linkInline;if("\x3c"===T&&G.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return L.f=L.inline=d,v.highlightFormatting&&(L.formatting="link"),T=c(L),(T?T+" ":"")+z.linkEmail;if(v.xml&&"\x3c"===T&&G.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,
!1))return T=G.string.indexOf("\x3e",G.pos),-1!=T&&(T=G.string.substring(G.start,T),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(T)&&(L.md_inside=!0)),G.backUp(1),L.htmlState=D.startState(B),T=k,L.f=L.block=T,T(G,L);if(v.xml&&"\x3c"===T&&G.match(/^\/\w*?>/))return L.md_inside=!1,"tag";if("*"===T||"_"===T){for(var X=1,aa=1==G.pos?" ":G.string.charAt(G.pos-2);3>X&&G.eat(T);)X++;var ba=G.peek()||" ",fa=!/\s/.test(ba)&&(!M.test(ba)||/\s/.test(aa)||M.test(aa)),ka=!/\s/.test(aa)&&(!M.test(aa)||/\s/.test(ba)||
M.test(ba)),ha=V=null;X%2&&(L.em||!fa||"*"!==T&&ka&&!M.test(aa)?L.em!=T||!ka||"*"!==T&&fa&&!M.test(ba)||(V=!1):V=!0);1<X&&(L.strong||!fa||"*"!==T&&ka&&!M.test(aa)?L.strong!=T||!ka||"*"!==T&&fa&&!M.test(ba)||(ha=!1):ha=!0);if(null!=ha||null!=V)return v.highlightFormatting&&(L.formatting=null==V?"strong":null==ha?"em":"strong em"),!0===V&&(L.em=T),!0===ha&&(L.strong=T),G=c(L),!1===V&&(L.em=!1),!1===ha&&(L.strong=!1),G}else if(" "===T&&(G.eat("*")||G.eat("_"))){if(" "===G.peek())return c(L);G.backUp(1)}if(v.strikethrough)if("~"===
T&&G.eatWhile(T)){if(L.strikethrough)return v.highlightFormatting&&(L.formatting="strikethrough"),G=c(L),L.strikethrough=!1,G;if(G.match(/^[^\s]/,!1))return L.strikethrough=!0,v.highlightFormatting&&(L.formatting="strikethrough"),c(L)}else if(" "===T&&G.match("~~",!0)){if(" "===G.peek())return c(L);G.backUp(2)}if(v.emoji&&":"===T&&G.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return L.emoji=!0,v.highlightFormatting&&(L.formatting="emoji"),G=c(L),L.emoji=!1,G;" "===T&&(G.match(/^ +$/,
!1)?L.trailingSpace++:L.trailingSpace&&(L.trailingSpaceNewLine=!0));return c(L)}function d(G,L){if("\x3e"===G.next())return L.f=L.inline=b,v.highlightFormatting&&(L.formatting="link"),G=c(L),(G?G+" ":"")+z.linkInline;G.match(/^[^>]+/,!0);return z.linkInline}function a(G,L){if(G.eatSpace())return null;G=G.next();return"("===G||"["===G?(L.f=L.inline=f("("===G?")":"]"),v.highlightFormatting&&(L.formatting="link-string"),L.linkHref=!0,c(L)):"error"}function f(G){return function(L,T){if(L.next()===G)return T.f=
T.inline=b,v.highlightFormatting&&(T.formatting="link-string"),L=c(T),T.linkHref=!1,L;L.match(O[G]);T.linkHref=!0;return c(T)}}function l(G,L){return G.match(/^([^\]\\]|\\.)*\]:/,!1)?(L.f=t,G.next(),v.highlightFormatting&&(L.formatting="link"),L.linkText=!0,c(L)):w(G,L,b)}function t(G,L){if(G.match("]:",!0))return L.f=L.inline=q,v.highlightFormatting&&(L.formatting="link"),G=c(L),L.linkText=!1,G;G.match(/^([^\]\\]|\\.)+/,!0);return z.linkText}function q(G,L){if(G.eatSpace())return null;G.match(/^[^\s]+/,
!0);void 0===G.peek()?L.linkTitle=!0:G.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0);L.f=L.inline=b;return z.linkHref+" url"}var B=D.getMode(C,"text/html"),E="null"==B.name;void 0===v.highlightFormatting&&(v.highlightFormatting=!1);void 0===v.maxBlockquoteDepth&&(v.maxBlockquoteDepth=0);void 0===v.taskLists&&(v.taskLists=!1);void 0===v.strikethrough&&(v.strikethrough=!1);void 0===v.emoji&&(v.emoji=!1);void 0===v.fencedCodeBlockHighlighting&&(v.fencedCodeBlockHighlighting=
!0);void 0===v.fencedCodeBlockDefaultMode&&(v.fencedCodeBlockDefaultMode="text/plain");void 0===v.xml&&(v.xml=!0);void 0===v.tokenTypeOverrides&&(v.tokenTypeOverrides={});var z={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",
emoji:"builtin"},A;for(A in z)z.hasOwnProperty(A)&&v.tokenTypeOverrides[A]&&(z[A]=v.tokenTypeOverrides[A]);var p=/^([*\-_])(?:\s*\1){2,}\s*$/,y=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,F=/^\[(x| )\](?=\s)/i,J=v.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,H=/^ {0,3}(?:={1,}|-{2,})\s*$/,P=/^[^#!\[\]*_\\<>` "'(~:]+/,K=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,N=/^\s*\[[^\]]+?\]:.*$/,M=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
O={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},Q={startState:function(){return{f:n,prevLine:{stream:null},thisLine:{stream:null},block:n,htmlState:null,indentation:0,inline:b,text:e,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(G){return{f:G.f,
prevLine:G.prevLine,thisLine:G.thisLine,block:G.block,htmlState:G.htmlState&&D.copyState(B,G.htmlState),indentation:G.indentation,localMode:G.localMode,localState:G.localMode?D.copyState(G.localMode,G.localState):null,inline:G.inline,text:G.text,formatting:!1,linkText:G.linkText,linkTitle:G.linkTitle,linkHref:G.linkHref,code:G.code,em:G.em,strong:G.strong,strikethrough:G.strikethrough,emoji:G.emoji,header:G.header,setext:G.setext,hr:G.hr,taskList:G.taskList,list:G.list,listStack:G.listStack.slice(0),
quote:G.quote,indentedCode:G.indentedCode,trailingSpace:G.trailingSpace,trailingSpaceNewLine:G.trailingSpaceNewLine,md_inside:G.md_inside,fencedEndRE:G.fencedEndRE}},token:function(G,L){L.formatting=!1;if(G!=L.thisLine.stream){L.header=0;L.hr=!1;if(G.match(/^\s*$/,!0))return u(L),null;L.prevLine=L.thisLine;L.thisLine={stream:G};L.taskList=!1;L.trailingSpace=0;L.trailingSpaceNewLine=!1;if(!L.localState&&(L.f=L.block,L.f!=k)){var T=G.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;L.indentation=T;
L.indentationDiff=null;if(0<T)return null}}return L.f(G,L)},innerMode:function(G){return G.block==k?{state:G.htmlState,mode:B}:G.localState?{state:G.localState,mode:G.localMode}:{state:G,mode:Q}},indent:function(G,L,T){return G.block==k&&B.indent?B.indent(G.htmlState,L,T):G.localState&&G.localMode.indent?G.localMode.indent(G.localState,L,T):D.Pass},blankLine:u,getType:c,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Q},"xml");D.defineMIME("text/markdown",
"markdown");D.defineMIME("text/x-markdown","markdown")})};
shadow$provide[72]=function(S,m,Y,r){(function(D){"object"==typeof r&&"object"==typeof Y?D(m(67)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],D):D(CodeMirror)})(function(D){D.overlayMode=function(C,v,w){return{startState:function(){return{base:D.startState(C),overlay:D.startState(v),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(u){return{base:D.copyState(C,u.base),overlay:D.copyState(v,u.overlay),basePos:u.basePos,baseCur:null,overlayPos:u.overlayPos,
overlayCur:null}},token:function(u,n){if(u!=n.streamSeen||Math.min(n.basePos,n.overlayPos)<u.start)n.streamSeen=u,n.basePos=n.overlayPos=u.start;u.start==n.basePos&&(n.baseCur=C.token(u,n.base),n.basePos=u.pos);u.start==n.overlayPos&&(u.pos=u.start,n.overlayCur=v.token(u,n.overlay),n.overlayPos=u.pos);u.pos=Math.min(n.basePos,n.overlayPos);return null==n.overlayCur?n.baseCur:null!=n.baseCur&&n.overlay.combineTokens||w&&null==n.overlay.combineTokens?n.baseCur+" "+n.overlayCur:n.overlayCur},indent:C.indent&&
function(u,n,k){return C.indent(u.base,n,k)},electricChars:C.electricChars,innerMode:function(u){return{state:u.base,mode:C}},blankLine:function(u){var n,k;C.blankLine&&(n=C.blankLine(u.base));v.blankLine&&(k=v.blankLine(u.overlay));return null==k?n:w&&null!=n?n+" "+k:k}}}})};
shadow$provide[73]=function(S,m,Y,r){(function(D){"object"==typeof r&&"object"==typeof Y?D(m(67),m(71),m(72)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],D):D(CodeMirror)})(function(D){var C=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;
D.defineMode("gfm",function(v,w){var u=0,n={taskLists:!0,strikethrough:!0,emoji:!0},k;for(k in w)n[k]=w[k];n.name="markdown";return D.overlayMode(D.getMode(v,n),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(h){return{code:h.code,codeBlock:h.codeBlock,ateSpace:h.ateSpace}},token:function(h,c){c.combineTokens=null;if(c.codeBlock){if(h.match(/^```+/))return c.codeBlock=!1,null;h.skipToEnd();return null}h.sol()&&(c.code=!1);if(h.sol()&&h.match(/^```+/))return h.skipToEnd(),
c.codeBlock=!0,null;if("`"===h.peek()){h.next();var e=h.pos;h.eatWhile("`");h=1+h.pos-e;c.code?h===u&&(c.code=!1):(u=h,c.code=!0);return null}if(c.code)return h.next(),null;if(h.eatSpace())return c.ateSpace=!0,null;if(h.sol()||c.ateSpace)if(c.ateSpace=!1,!1!==w.gitHubSpice&&(h.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||h.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)))return c.combineTokens=!0,"link";if(h.match(C)&&"]("!=h.string.slice(h.start-
2,h.start)&&(0==h.start||/\W/.test(h.string.charAt(h.start-1))))return c.combineTokens=!0,"link";h.next();return null},blankLine:function(h){h.code=!1;return null}})},"markdown");D.defineMIME("text/x-gfm","gfm")})};
shadow$provide[74]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(){function D(){this.disposed=!1}D.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};D.prototype.disposeInternal=function(){};return D}();r["default"]=S};
shadow$provide[75]=function(S,m,Y,r){function D(C,v){return C>v?1:C<v?-1:0}Object.defineProperty(r,"__esModule",{value:!0});r.binarySearch=function(C,v,w){for(var u,n=w||D,k=0,h=C.length,c=!1;k<h;)w=k+(h-k>>1),u=+n(C[w],v),0>u?k=w+1:(h=w,c=!u);return c?k:~k};r.numberSafeCompareFunction=D;r.includes=function(C,v){return 0<=C.indexOf(v)};r.linearFindNearest=function(C,v,w){var u=C.length;if(C[0]<=v)return 0;if(!(v<=C[u-1]))if(0<w)for(w=1;w<u;++w){if(C[w]<v)return w-1}else if(0>w)for(w=1;w<u;++w){if(C[w]<=
v)return w}else for(w=1;w<u;++w){if(C[w]==v)return w;if(C[w]<v)return C[w-1]-v<v-C[w]?w-1:w}return u-1};r.reverseSubArray=function(C,v,w){for(;v<w;){var u=C[v];C[v]=C[w];C[w]=u;++v;--w}};r.extend=function(C,v){v=Array.isArray(v)?v:[v];for(var w=v.length,u=0;u<w;u++)C[C.length]=v[u]};r.remove=function(C,v){v=C.indexOf(v);var w=-1<v;w&&C.splice(v,1);return w};r.find=function(C,v){for(var w=C.length>>>0,u,n=0;n<w;n++)if(u=C[n],v(u,n,C))return u;return null};r.equals=function(C,v){var w=C.length;if(w!==
v.length)return!1;for(var u=0;u<w;u++)if(C[u]!==v[u])return!1;return!0};r.stableSort=function(C,v){var w=C.length,u=Array(C.length),n;for(n=0;n<w;n++)u[n]={index:n,value:C[n]};u.sort(function(k,h){return v(k.value,h.value)||k.index-h.index});for(n=0;n<C.length;n++)C[n]=u[n].value};r.findIndex=function(C,v){var w;return C.every(function(u,n){w=n;return!v(u,n,C)})?-1:w};r.isSorted=function(C,v,w){var u=v||D;return C.every(function(n,k){if(0===k)return!0;n=u(C[k-1],n);return!(0<n||w&&0===n)})}};
shadow$provide[76]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.TRUE=function(){return!0};r.FALSE=function(){return!1};r.VOID=function(){};r.memoizeOne=function(C){var v=!1,w,u,n;return function(){var k=Array.prototype.slice.call(arguments);v&&this===n&&(0,D.equals)(k,u)||(v=!0,n=this,u=k,w=C.apply(this,arguments));return w}};var D=m(75)};
shadow$provide[77]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["abstract"]=function(){throw Error("Unimplemented abstract method.");};r.getUid=function(C){return C.ol_uid||(C.ol_uid=String(++D))};r.VERSION=void 0;var D=0;r.VERSION="6.5.0"};
shadow$provide[78]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=m(77),C=function(){var v=function(w,u){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,k){n.__proto__=k}||function(n,k){for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(n[h]=k[h])};return v(w,u)};return function(w,u){function n(){this.constructor=w}v(w,u);w.prototype=null===u?Object.create(u):(n.prototype=u.prototype,new n)}}();S=function(v){function w(u){var n=
"Assertion failed. See https://openlayers.org/en/"+("latest"===D.VERSION?D.VERSION:"v"+D.VERSION.split("-")[0])+"/doc/errors/#"+u+" for details.";var k=v.call(this,n)||this;k.code=u;k.name="AssertionError";k.message=n;return k}C(w,v);return w}(Error);r["default"]=S};
shadow$provide[79]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.assert=function(C,v){if(!C)throw new D["default"](v);};var D=function(C){return C&&C.__esModule?C:{"default":C}}(m(78))};
shadow$provide[80]=function(S,m,Y,r){function D(){return[1,0,0,1,0,0]}function C(e,b){var d=e[0],a=e[1],f=e[2],l=e[3],t=e[4],q=e[5],B=b[0],E=b[1],z=b[2],A=b[3],p=b[4];b=b[5];e[0]=d*B+f*E;e[1]=a*B+l*E;e[2]=d*z+f*A;e[3]=a*z+l*A;e[4]=d*p+f*b+t;e[5]=a*p+l*b+q;return e}function v(e,b,d,a,f,l,t){e[0]=b;e[1]=d;e[2]=a;e[3]=f;e[4]=l;e[5]=t;return e}function w(e,b,d,a,f,l,t,q){var B=Math.sin(l);l=Math.cos(l);e[0]=a*l;e[1]=f*B;e[2]=-a*B;e[3]=f*l;e[4]=t*a*l-q*a*B+b;e[5]=t*f*B+q*f*l+d;return e}function u(e,b){var d=
n(b);(0,h.assert)(0!==d,32);var a=b[0],f=b[1],l=b[2],t=b[3],q=b[4];b=b[5];e[0]=t/d;e[1]=-f/d;e[2]=-l/d;e[3]=a/d;e[4]=(l*b-t*q)/d;e[5]=-(a*b-f*q)/d;return e}function n(e){return e[0]*e[3]-e[1]*e[2]}function k(e){return"matrix("+e.join(", ")+")"}Object.defineProperty(r,"__esModule",{value:!0});r.create=D;r.reset=function(e){return v(e,1,0,0,1,0,0)};r.multiply=C;r.set=v;r.setFromArray=function(e,b){e[0]=b[0];e[1]=b[1];e[2]=b[2];e[3]=b[3];e[4]=b[4];e[5]=b[5];return e};r.apply=function(e,b){var d=b[0],
a=b[1];b[0]=e[0]*d+e[2]*a+e[4];b[1]=e[1]*d+e[3]*a+e[5];return b};r.rotate=function(e,b){var d=Math.cos(b);b=Math.sin(b);return C(e,v(c,d,b,-b,d,0,0))};r.scale=function(e,b,d){return C(e,v(c,b,0,0,d,0,0))};r.makeScale=function(e,b,d){return v(e,b,0,0,d,0,0)};r.translate=function(e,b,d){return C(e,v(c,1,0,0,1,b,d))};r.compose=w;r.composeCssTransform=function(e,b,d,a,f,l,t){return k(w(D(),e,b,d,a,f,l,t))};r.invert=function(e){return u(e,e)};r.makeInverse=u;r.determinant=n;r.toString=k;var h=m(79),c=
Array(6)};
shadow$provide[81]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[82]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[83]=function(S,m,Y,r){function D(H){return H&&H.__esModule?H:{"default":H}}function C(H,P,K){return H[0]<=P&&P<=H[2]&&H[1]<=K&&K<=H[3]}function v(H,P){var K=H[1],N=H[2],M=H[3],O=P[0];P=P[1];var Q=F["default"].UNKNOWN;O<H[0]?Q|=F["default"].LEFT:O>N&&(Q|=F["default"].RIGHT);P<K?Q|=F["default"].BELOW:P>M&&(Q|=F["default"].ABOVE);Q===F["default"].UNKNOWN&&(Q=F["default"].INTERSECTING);return Q}function w(){return[Infinity,Infinity,-Infinity,-Infinity]}function u(H,P,K,N,M){return M?(M[0]=
H,M[1]=P,M[2]=K,M[3]=N,M):[H,P,K,N]}function n(H){return u(Infinity,Infinity,-Infinity,-Infinity,H)}function k(H,P){P[0]<H[0]&&(H[0]=P[0]);P[0]>H[2]&&(H[2]=P[0]);P[1]<H[1]&&(H[1]=P[1]);P[1]>H[3]&&(H[3]=P[1])}function h(H,P){for(var K=0,N=P.length;K<N;++K)k(H,P[K]);return H}function c(H,P,K,N,M){for(;K<N;K+=M)b(H,P[K],P[K+1]);return H}function e(H,P){for(var K=0,N=P.length;K<N;++K)h(H,P[K]);return H}function b(H,P,K){H[0]=Math.min(H[0],P);H[1]=Math.min(H[1],K);H[2]=Math.max(H[2],P);H[3]=Math.max(H[3],
K)}function d(H){var P=0;p(H)||(P=z(H)*t(H));return P}function a(H){return[H[0],H[1]]}function f(H){return[H[2],H[1]]}function l(H){return[(H[0]+H[2])/2,(H[1]+H[3])/2]}function t(H){return H[3]-H[1]}function q(H,P,K){K=K?K:w();A(H,P)?(K[0]=H[0]>P[0]?H[0]:P[0],K[1]=H[1]>P[1]?H[1]:P[1],K[2]=H[2]<P[2]?H[2]:P[2],K[3]=H[3]<P[3]?H[3]:P[3]):n(K);return K}function B(H){return[H[0],H[3]]}function E(H){return[H[2],H[3]]}function z(H){return H[2]-H[0]}function A(H,P){return H[0]<=P[2]&&H[2]>=P[0]&&H[1]<=P[3]&&
H[3]>=P[1]}function p(H){return H[2]<H[0]||H[3]<H[1]}Object.defineProperty(r,"__esModule",{value:!0});r.boundingExtent=function(H){for(var P=w(),K=0,N=H.length;K<N;++K)k(P,H[K]);return P};r.buffer=function(H,P,K){return K?(K[0]=H[0]-P,K[1]=H[1]-P,K[2]=H[2]+P,K[3]=H[3]+P,K):[H[0]-P,H[1]-P,H[2]+P,H[3]+P]};r.clone=function(H,P){return P?(P[0]=H[0],P[1]=H[1],P[2]=H[2],P[3]=H[3],P):H.slice()};r.closestSquaredDistanceXY=function(H,P,K){P=P<H[0]?H[0]-P:H[2]<P?P-H[2]:0;H=K<H[1]?H[1]-K:H[3]<K?K-H[3]:0;return P*
P+H*H};r.containsCoordinate=function(H,P){return C(H,P[0],P[1])};r.containsExtent=function(H,P){return H[0]<=P[0]&&P[2]<=H[2]&&H[1]<=P[1]&&P[3]<=H[3]};r.containsXY=C;r.coordinateRelationship=v;r.createEmpty=w;r.createOrUpdate=u;r.createOrUpdateEmpty=n;r.createOrUpdateFromCoordinate=function(H,P){var K=H[0];H=H[1];return u(K,H,K,H,P)};r.createOrUpdateFromCoordinates=function(H,P){P=n(P);return h(P,H)};r.createOrUpdateFromFlatCoordinates=function(H,P,K,N,M){M=n(M);return c(M,H,P,K,N)};r.createOrUpdateFromRings=
function(H,P){P=n(P);return e(P,H)};r.equals=function(H,P){return H[0]==P[0]&&H[2]==P[2]&&H[1]==P[1]&&H[3]==P[3]};r.approximatelyEquals=function(H,P,K){return Math.abs(H[0]-P[0])<K&&Math.abs(H[2]-P[2])<K&&Math.abs(H[1]-P[1])<K&&Math.abs(H[3]-P[3])<K};r.extend=function(H,P){P[0]<H[0]&&(H[0]=P[0]);P[2]>H[2]&&(H[2]=P[2]);P[1]<H[1]&&(H[1]=P[1]);P[3]>H[3]&&(H[3]=P[3]);return H};r.extendCoordinate=k;r.extendCoordinates=h;r.extendFlatCoordinates=c;r.extendRings=e;r.extendXY=b;r.forEachCorner=function(H,
P){var K;return(K=P(a(H)))||(K=P(f(H)))||(K=P(E(H)))?K:(K=P(B(H)))?K:!1};r.getArea=d;r.getBottomLeft=a;r.getBottomRight=f;r.getCenter=l;r.getCorner=function(H,P){var K;P===y["default"].BOTTOM_LEFT?K=a(H):P===y["default"].BOTTOM_RIGHT?K=f(H):P===y["default"].TOP_LEFT?K=B(H):P===y["default"].TOP_RIGHT?K=E(H):(0,J.assert)(!1,13);return K};r.getEnlargedArea=function(H,P){return(Math.max(H[2],P[2])-Math.min(H[0],P[0]))*(Math.max(H[3],P[3])-Math.min(H[1],P[1]))};r.getForViewAndSize=function(H,P,K,N,M){var O=
P*N[0]/2;N=P*N[1]/2;P=Math.cos(K);var Q=Math.sin(K);K=O*P;O*=Q;P*=N;var G=N*Q,L=H[0],T=H[1];H=L-K+G;N=L-K-G;Q=L+K-G;K=L+K+G;G=T-O-P;L=T-O+P;var V=T+O+P;O=T+O-P;return u(Math.min(H,N,Q,K),Math.min(G,L,V,O),Math.max(H,N,Q,K),Math.max(G,L,V,O),M)};r.getHeight=t;r.getIntersectionArea=function(H,P){H=q(H,P);return d(H)};r.getIntersection=q;r.getMargin=function(H){return z(H)+t(H)};r.getSize=function(H){return[H[2]-H[0],H[3]-H[1]]};r.getTopLeft=B;r.getTopRight=E;r.getWidth=z;r.intersects=A;r.isEmpty=p;
r.returnOrUpdate=function(H,P){return P?(P[0]=H[0],P[1]=H[1],P[2]=H[2],P[3]=H[3],P):H};r.scaleFromCenter=function(H,P){var K=(H[2]-H[0])/2*(P-1);P=(H[3]-H[1])/2*(P-1);H[0]-=K;H[2]+=K;H[1]-=P;H[3]+=P};r.intersectsSegment=function(H,P,K){var N=!1,M=v(H,P),O=v(H,K);if(M===F["default"].INTERSECTING||O===F["default"].INTERSECTING)N=!0;else{var Q=H[0],G=H[1],L=H[2];H=H[3];var T=K[0];K=K[1];P=(K-P[1])/(T-P[0]);O&F["default"].ABOVE&&!(M&F["default"].ABOVE)&&(N=T-(K-H)/P,N=N>=Q&&N<=L);N||!(O&F["default"].RIGHT)||
M&F["default"].RIGHT||(N=K-(T-L)*P,N=N>=G&&N<=H);N||!(O&F["default"].BELOW)||M&F["default"].BELOW||(N=T-(K-G)/P,N=N>=Q&&N<=L);N||!(O&F["default"].LEFT)||M&F["default"].LEFT||(N=K-(T-Q)*P,N=N>=G&&N<=H)}return N};r.applyTransform=function(H,P,K,N){var M=[];if(1<N)for(var O=H[2]-H[0],Q=H[3]-H[1],G=0;G<N;++G)M.push(H[0]+O*G/N,H[1],H[2],H[1]+Q*G/N,H[2]-O*G/N,H[3],H[0],H[3]-Q*G/N);else M=[H[0],H[1],H[2],H[1],H[2],H[3],H[0],H[3]];P(M,M,2);P=[];H=[];G=0;for(N=M.length;G<N;G+=2)P.push(M[G]),H.push(M[G+1]);
M=Math.min.apply(null,P);G=Math.min.apply(null,H);P=Math.max.apply(null,P);H=Math.max.apply(null,H);return u(M,G,P,H,K)};r.wrapX=function(H,P){var K=P.getExtent(),N=l(H);P.canWrapX()&&(N[0]<K[0]||N[0]>=K[2])&&(P=z(K),K=Math.floor((N[0]-K[0])/P)*P,H[0]-=K,H[2]-=K);return H};var y=D(m(81)),F=D(m(82)),J=m(79)};
shadow$provide[84]=function(S,m,Y,r){function D(C,v,w,u){C=w-C;v=u-v;return C*C+v*v}Object.defineProperty(r,"__esModule",{value:!0});r.clamp=function(C,v,w){return Math.min(Math.max(C,v),w)};r.squaredSegmentDistance=function(C,v,w,u,n,k){var h=n-w,c=k-u;if(0!==h||0!==c){var e=((C-w)*h+(v-u)*c)/(h*h+c*c);1<e?(w=n,u=k):0<e&&(w+=h*e,u+=c*e)}return D(C,v,w,u)};r.squaredDistance=D;r.solveLinearSystem=function(C){for(var v=C.length,w=0;w<v;w++){for(var u=w,n=Math.abs(C[w][w]),k=w+1;k<v;k++){var h=Math.abs(C[k][w]);
h>n&&(n=h,u=k)}if(0===n)return null;n=C[u];C[u]=C[w];C[w]=n;for(u=w+1;u<v;u++)for(n=-C[u][w]/C[w][w],k=w;k<v+1;k++)C[u][k]=w==k?0:C[u][k]+n*C[w][k]}w=Array(v);for(u=v-1;0<=u;u--)for(w[u]=C[u][v]/C[u][u],n=u-1;0<=n;n--)C[n][v]-=C[n][u]*w[u];return w};r.toDegrees=function(C){return 180*C/Math.PI};r.toRadians=function(C){return C*Math.PI/180};r.modulo=function(C,v){C%=v;return 0>C*v?C+v:C};r.lerp=function(C,v,w){return C+w*(v-C)};r.log2=r.cosh=void 0;S=function(){return"cosh"in Math?Math.cosh:function(C){C=
Math.exp(C);return(C+1/C)/2}}();r.cosh=S;S=function(){return"log2"in Math?Math.log2:function(C){return Math.log(C)*Math.LOG2E}}();r.log2=S};
shadow$provide[85]=function(S,m,Y,r){function D(c){var e=document.createElement("div");e.style.color=c;return""!==e.style.color?(document.body.appendChild(e),c=getComputedStyle(e).color,document.body.removeChild(e),c):""}function C(c){c[0]=(0,u.clamp)(c[0]+.5|0,0,255);c[1]=(0,u.clamp)(c[1]+.5|0,0,255);c[2]=(0,u.clamp)(c[2]+.5|0,0,255);c[3]=(0,u.clamp)(c[3],0,1);return c}function v(c){var e=c[0];e!=(e|0)&&(e=e+.5|0);var b=c[1];b!=(b|0)&&(b=b+.5|0);var d=c[2];d!=(d|0)&&(d=d+.5|0);return"rgba("+e+","+
b+","+d+","+(void 0===c[3]?1:c[3])+")"}Object.defineProperty(r,"__esModule",{value:!0});r.asString=function(c){return"string"===typeof c?c:v(c)};r.asArray=function(c){return Array.isArray(c)?c:h(c)};r.normalize=C;r.toString=v;r.isStringColor=function(c){k.test(c)&&(c=D(c));return n.test(c)||0===c.indexOf("rgba(")||0===c.indexOf("rgb(")};r.fromString=void 0;var w=m(79),u=m(84),n=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,k=/^([a-z]*)$|^hsla?\(.*\)$/i,h=function(){var c={},e=0;return function(b){if(c.hasOwnProperty(b))var d=
c[b];else{if(1024<=e){d=0;for(var a in c)0===(d++&3)&&(delete c[a],--e)}d=b;k.exec(d)&&(d=D(d));if(n.exec(d)){a=d.length-1;var f=4>=a?1:2;var l=4===a||8===a;a=parseInt(d.substr(1+0*f,f),16);var t=parseInt(d.substr(1+1*f,f),16);var q=parseInt(d.substr(1+2*f,f),16);d=l?parseInt(d.substr(1+3*f,f),16):255;1==f&&(a=(a<<4)+a,t=(t<<4)+t,q=(q<<4)+q,l&&(d=(d<<4)+d));f=[a,t,q,d/255]}else 0==d.indexOf("rgba(")?(f=d.slice(5,-1).split(",").map(Number),C(f)):0==d.indexOf("rgb(")?(f=d.slice(4,-1).split(",").map(Number),
f.push(1),C(f)):(0,w.assert)(!1,14);d=f;c[b]=d;++e}return d}}();r.fromString=h};
shadow$provide[86]=function(S,m,Y,r){function D(v,w,u){u=u?(0,C.asString)(u):"null";return w+":"+v+":"+u}Object.defineProperty(r,"__esModule",{value:!0});r.shared=r["default"]=void 0;var C=m(85);S=function(){function v(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}v.prototype.clear=function(){this.cache_={};this.cacheSize_=0};v.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};v.prototype.expire=function(){if(this.canExpireCache()){var w=0,u;for(u in this.cache_){var n=
this.cache_[u];0!==(w++&3)||n.hasListener()||(delete this.cache_[u],--this.cacheSize_)}}};v.prototype.get=function(w,u,n){w=D(w,u,n);return w in this.cache_?this.cache_[w]:null};v.prototype.set=function(w,u,n,k){w=D(w,u,n);this.cache_[w]=k;++this.cacheSize_};v.prototype.setSize=function(w){this.maxCacheSize_=w;this.expire()};return v}();r["default"]=S;S=new S;r.shared=S};
shadow$provide[87]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.stopPropagation=function(D){D.stopPropagation()};r.preventDefault=function(D){D.preventDefault()};r["default"]=void 0;S=function(){function D(C){this.type=C;this.target=null}D.prototype.preventDefault=function(){this.propagationStopped=!0};D.prototype.stopPropagation=function(){this.propagationStopped=!0};return D}();r["default"]=S};
shadow$provide[88]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={PROPERTYCHANGE:"propertychange"}};
shadow$provide[89]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.clear=function(D){for(var C in D)delete D[C]};r.isEmpty=function(D){for(var C in D)return!1;return!C};r.getValues=r.assign=void 0;r.assign="function"===typeof Object.assign?Object.assign:function(D,C){if(void 0===D||null===D)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(D),w=1,u=arguments.length;w<u;++w){var n=arguments[w];if(void 0!==n&&null!==n)for(var k in n)n.hasOwnProperty(k)&&
(v[k]=n[k])}return v};r.getValues="function"===typeof Object.values?Object.values:function(D){var C=[],v;for(v in D)C.push(D[v]);return C}};
shadow$provide[90]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(74));var C=D(m(87)),v=m(76),w=m(89),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===h?
Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(h){var c=n.call(this)||this;c.eventTarget_=h;c.pendingRemovals_=null;c.dispatching_=null;c.listeners_=null;return c}u(k,n);k.prototype.addEventListener=function(h,c){if(h&&c){var e=this.listeners_||(this.listeners_={});h=e[h]||(e[h]=[]);-1===h.indexOf(c)&&h.push(c)}};k.prototype.dispatchEvent=function(h){var c="string"===typeof h?new C["default"](h):h;h=c.type;c.target||(c.target=this.eventTarget_||this);var e=this.listeners_&&
this.listeners_[h];if(e){var b=this.dispatching_||(this.dispatching_={}),d=this.pendingRemovals_||(this.pendingRemovals_={});h in b||(b[h]=0,d[h]=0);++b[h];for(var a=0,f=e.length;a<f;++a){var l="handleEvent"in e[a]?e[a].handleEvent(c):e[a].call(this,c);if(!1===l||c.propagationStopped){l=!1;break}}--b[h];if(0===b[h]){c=d[h];for(delete d[h];c--;)this.removeEventListener(h,v.VOID);delete b[h]}return l}};k.prototype.disposeInternal=function(){this.listeners_&&(0,w.clear)(this.listeners_)};k.prototype.getListeners=
function(h){return this.listeners_&&this.listeners_[h]||void 0};k.prototype.hasListener=function(h){return this.listeners_?h?h in this.listeners_:0<Object.keys(this.listeners_).length:!1};k.prototype.removeEventListener=function(h,c){var e=this.listeners_&&this.listeners_[h];e&&(c=e.indexOf(c),-1!==c&&(this.pendingRemovals_&&h in this.pendingRemovals_?(e[c]=v.VOID,++this.pendingRemovals_[h]):(e.splice(c,1),0===e.length&&delete this.listeners_[h])))};return k}(S["default"]);r["default"]=m};
shadow$provide[91]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[92]=function(S,m,Y,r){function D(v,w,u,n,k){n&&n!==v&&(u=u.bind(n));if(k){var h=u;u=function(){v.removeEventListener(w,u);h.apply(this,arguments)}}n={target:v,type:w,listener:u};v.addEventListener(w,u);return n}Object.defineProperty(r,"__esModule",{value:!0});r.listen=D;r.listenOnce=function(v,w,u,n){return D(v,w,u,n,!0)};r.unlistenByKey=function(v){v&&v.target&&(v.target.removeEventListener(v.type,v.listener),(0,C.clear)(v))};var C=m(89)};
shadow$provide[93]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}function C(n){if(Array.isArray(n))for(var k=0,h=n.length;k<h;++k)(0,w.unlistenByKey)(n[k]);else(0,w.unlistenByKey)(n)}Object.defineProperty(r,"__esModule",{value:!0});r.unByKey=C;r["default"]=void 0;S=D(m(90));var v=D(m(91)),w=m(92),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,
b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(){var h=n.call(this)||this;h.revision_=0;return h}u(k,n);k.prototype.changed=function(){++this.revision_;this.dispatchEvent(v["default"].CHANGE)};k.prototype.getRevision=function(){return this.revision_};k.prototype.on=function(h,c){if(Array.isArray(h)){for(var e=h.length,b=Array(e),d=0;d<e;++d)b[d]=(0,w.listen)(this,
h[d],c);return b}return(0,w.listen)(this,h,c)};k.prototype.once=function(h,c){if(Array.isArray(h)){var e=h.length;var b=Array(e);for(var d=0;d<e;++d)b[d]=(0,w.listenOnce)(this,h[d],c)}else b=(0,w.listenOnce)(this,h,c);return c.ol_key=b};k.prototype.un=function(h,c){var e=c.ol_key;if(e)C(e);else if(Array.isArray(h)){e=0;for(var b=h.length;e<b;++e)this.removeEventListener(h[e],c)}else this.removeEventListener(h,c)};return k}(S["default"]);r["default"]=m};
shadow$provide[94]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}function C(c){return h.hasOwnProperty(c)?h[c]:h[c]="change:"+c}Object.defineProperty(r,"__esModule",{value:!0});r.getChangeEventType=C;r["default"]=r.ObjectEvent=void 0;S=D(m(87));var v=D(m(88));Y=D(m(93));var w=m(89),u=m(77),n=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,
f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),k=function(c){function e(b,d,a){b=c.call(this,b)||this;b.key=d;b.oldValue=a;return b}n(e,c);return e}(S["default"]);r.ObjectEvent=k;m=function(c){function e(b){var d=c.call(this)||this;(0,u.getUid)(d);d.values_=null;void 0!==b&&d.setProperties(b);return d}n(e,c);e.prototype.get=function(b){var d;this.values_&&this.values_.hasOwnProperty(b)&&
(d=this.values_[b]);return d};e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};e.prototype.getProperties=function(){return this.values_&&(0,w.assign)({},this.values_)||{}};e.prototype.hasProperties=function(){return!!this.values_};e.prototype.notify=function(b,d){var a=C(b);this.dispatchEvent(new k(a,b,d));a=v["default"].PROPERTYCHANGE;this.dispatchEvent(new k(a,b,d))};e.prototype.set=function(b,d,a){var f=this.values_||(this.values_={});a?f[b]=d:(a=f[b],f[b]=d,a!==
d&&this.notify(b,a))};e.prototype.setProperties=function(b,d){for(var a in b)this.set(a,b[a],d)};e.prototype.applyProperties=function(b){b.values_&&(0,w.assign)(this.values_||(this.values_={}),b.values_)};e.prototype.unset=function(b,d){if(this.values_&&b in this.values_){var a=this.values_[b];delete this.values_[b];(0,w.isEmpty)(this.values_)&&(this.values_=null);d||this.notify(b,a)}};return e}(Y["default"]);var h={};r["default"]=m};
shadow$provide[95]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}};
shadow$provide[96]=function(S,m,Y,r){function D(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(94));var C=D(m(95)),v=m(77),w=m(79),u=m(89),n=m(84),k=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=c}h(c,e);c.prototype=
null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();m=function(h){function c(e){var b=h.call(this)||this,d=(0,u.assign)({},e);d[C["default"].OPACITY]=void 0!==e.opacity?e.opacity:1;(0,w.assert)("number"===typeof d[C["default"].OPACITY],64);d[C["default"].VISIBLE]=void 0!==e.visible?e.visible:!0;d[C["default"].Z_INDEX]=e.zIndex;d[C["default"].MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:Infinity;d[C["default"].MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0;d[C["default"].MIN_ZOOM]=
void 0!==e.minZoom?e.minZoom:-Infinity;d[C["default"].MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:Infinity;b.className_=void 0!==d.className?e.className:"ol-layer";delete d.className;b.setProperties(d);b.state_=null;return b}k(c,h);c.prototype.getClassName=function(){return this.className_};c.prototype.getLayerState=function(e){e=this.state_||{layer:this,managed:void 0===e?!0:e};var b=this.getZIndex();e.opacity=(0,n.clamp)(Math.round(100*this.getOpacity())/100,0,1);e.sourceState=this.getSourceState();
e.visible=this.getVisible();e.extent=this.getExtent();e.zIndex=void 0!==b?b:!1===e.managed?Infinity:0;e.maxResolution=this.getMaxResolution();e.minResolution=Math.max(this.getMinResolution(),0);e.minZoom=this.getMinZoom();e.maxZoom=this.getMaxZoom();return this.state_=e};c.prototype.getLayersArray=function(e){return(0,v["abstract"])()};c.prototype.getLayerStatesArray=function(e){return(0,v["abstract"])()};c.prototype.getExtent=function(){return this.get(C["default"].EXTENT)};c.prototype.getMaxResolution=
function(){return this.get(C["default"].MAX_RESOLUTION)};c.prototype.getMinResolution=function(){return this.get(C["default"].MIN_RESOLUTION)};c.prototype.getMinZoom=function(){return this.get(C["default"].MIN_ZOOM)};c.prototype.getMaxZoom=function(){return this.get(C["default"].MAX_ZOOM)};c.prototype.getOpacity=function(){return this.get(C["default"].OPACITY)};c.prototype.getSourceState=function(){return(0,v["abstract"])()};c.prototype.getVisible=function(){return this.get(C["default"].VISIBLE)};
c.prototype.getZIndex=function(){return this.get(C["default"].Z_INDEX)};c.prototype.setExtent=function(e){this.set(C["default"].EXTENT,e)};c.prototype.setMaxResolution=function(e){this.set(C["default"].MAX_RESOLUTION,e)};c.prototype.setMinResolution=function(e){this.set(C["default"].MIN_RESOLUTION,e)};c.prototype.setMaxZoom=function(e){this.set(C["default"].MAX_ZOOM,e)};c.prototype.setMinZoom=function(e){this.set(C["default"].MIN_ZOOM,e)};c.prototype.setOpacity=function(e){(0,w.assert)("number"===
typeof e,64);this.set(C["default"].OPACITY,e)};c.prototype.setVisible=function(e){this.set(C["default"].VISIBLE,e)};c.prototype.setZIndex=function(e){this.set(C["default"].Z_INDEX,e)};c.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=null);h.prototype.disposeInternal.call(this)};return c}(S["default"]);r["default"]=m};
shadow$provide[97]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[98]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[99]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r.inView=function(b,d){if(!b.visible)return!1;var a=d.resolution;if(a<b.minResolution||a>=b.maxResolution)return!1;d=d.zoom;return d>b.minZoom&&d<=b.maxZoom};r["default"]=void 0;S=D(m(96));var C=D(m(91)),v=D(m(95)),w=D(m(97)),u=D(m(98)),n=m(79),k=m(89),h=m(94),c=m(92),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,
l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a){var f=(0,k.assign)({},a);delete f.source;f=b.call(this,f)||this;f.mapPrecomposeKey_=null;f.mapRenderKey_=null;f.sourceChangeKey_=null;f.renderer_=null;a.render&&(f.render=a.render);a.map&&f.setMap(a.map);f.addEventListener((0,
h.getChangeEventType)(v["default"].SOURCE),f.handleSourcePropertyChange_);f.setSource(a.source?a.source:null);return f}e(d,b);d.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};d.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};d.prototype.getSource=function(){return this.get(v["default"].SOURCE)||null};d.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():u["default"].UNDEFINED};d.prototype.handleSourceChange_=
function(){this.changed()};d.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,c.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,c.listen)(a,C["default"].CHANGE,this.handleSourceChange_,this));this.changed()};d.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)};d.prototype.render=function(a,f){var l=this.getRenderer();if(l.prepareFrame(a))return l.renderFrame(a,f)};d.prototype.setMap=
function(a){this.mapPrecomposeKey_&&((0,c.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,c.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,c.listen)(a,w["default"].PRECOMPOSE,function(f){f=f.frameState.layerStatesArray;var l=this.getLayerState(!1);(0,n.assert)(!f.some(function(t){return t.layer===l.layer}),67);f.push(l)},this),this.mapRenderKey_=(0,c.listen)(this,C["default"].CHANGE,a.render,a),
this.changed())};d.prototype.setSource=function(a){this.set(v["default"].SOURCE,a)};d.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};d.prototype.hasRenderer=function(){return!!this.renderer_};d.prototype.createRenderer=function(){return null};d.prototype.disposeInternal=function(){this.setSource(null);b.prototype.disposeInternal.call(this)};return d}(S["default"]);r["default"]=m};
shadow$provide[100]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.padNumber=function(D,C,v){D=void 0!==v?D.toFixed(v):""+D;v=D.indexOf(".");v=-1===v?D.length:v;return v>C?D:Array(1+C-v).join("0")+D};r.compareVersions=function(D,C){D=(""+D).split(".");C=(""+C).split(".");for(var v=0;v<Math.max(D.length,C.length);v++){var w=parseInt(D[v]||"0",10),u=parseInt(C[v]||"0",10);if(w>u)return 1;if(u>w)return-1}return 0}};
shadow$provide[101]=function(S,m,Y,r){function D(e,b){var d=e[0];e=e[1];var a=b[0],f=b[1];b=a[0];a=a[1];var l=f[0];f=f[1];var t=l-b,q=f-a;d=0===t&&0===q?0:(t*(d-b)+q*(e-a))/(t*t+q*q||0);0>=d?(e=b,d=a):1<=d?(e=l,d=f):(e=b+d*t,d=a+d*q);return[e,d]}function C(e,b,d){b=(0,h.modulo)(b+180,360)-180;var a=Math.abs(3600*b);d=d||0;var f=Math.pow(10,d),l=Math.floor(a/3600),t=Math.floor((a-3600*l)/60);a=Math.ceil((a-3600*l-60*t)*f)/f;60<=a&&(a=0,t+=1);60<=t&&(t=0,l+=1);return l+"° "+(0,c.padNumber)(t,2)+"′ "+
(0,c.padNumber)(a,2,d)+"″"+(0==b?"":" "+e.charAt(0>b?1:0))}function v(e,b,d){return e?b.replace("{x}",e[0].toFixed(d)).replace("{y}",e[1].toFixed(d)):""}function w(e,b){var d=e[0]-b[0];e=e[1]-b[1];return d*d+e*e}function u(e,b){return v(e,"{x}, {y}",b)}function n(e,b,d){var a=b.getExtent(),f=0;b.canWrapX()&&(e[0]<a[0]||e[0]>a[2])&&(b=d||(0,k.getWidth)(a),f=Math.floor((e[0]-a[0])/b));return f}Object.defineProperty(r,"__esModule",{value:!0});r.add=function(e,b){e[0]+=+b[0];e[1]+=+b[1];return e};r.closestOnCircle=
function(e,b){var d=b.getRadius(),a=b.getCenter();b=a[0];a=a[1];var f=e[0]-b;e=e[1]-a;0===f&&0===e&&(f=1);var l=Math.sqrt(f*f+e*e);return[b+d*f/l,a+d*e/l]};r.closestOnSegment=D;r.createStringXY=function(e){return function(b){return u(b,e)}};r.degreesToStringHDMS=C;r.format=v;r.equals=function(e,b){for(var d=!0,a=e.length-1;0<=a;--a)if(e[a]!=b[a]){d=!1;break}return d};r.rotate=function(e,b){var d=Math.cos(b);b=Math.sin(b);var a=e[1]*d+e[0]*b;e[0]=e[0]*d-e[1]*b;e[1]=a;return e};r.scale=function(e,b){e[0]*=
b;e[1]*=b;return e};r.squaredDistance=w;r.distance=function(e,b){return Math.sqrt(w(e,b))};r.squaredDistanceToSegment=function(e,b){return w(e,D(e,b))};r.toStringHDMS=function(e,b){return e?C("NS",e[1],b)+" "+C("EW",e[0],b):""};r.toStringXY=u;r.wrapX=function(e,b){if(b.canWrapX()){var d=(0,k.getWidth)(b.getExtent());(b=n(e,b,d))&&(e[0]-=b*d)}return e};r.getWorldsAway=n;var k=m(83),h=m(84),c=m(100)};
shadow$provide[102]=function(S,m,Y,r){function D(e,b){n.shared.expire()}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(e){return e&&e.__esModule?e:{"default":e}}(m(74));var C=m(76),v=m(77),w=m(80),u=m(83),n=m(86),k=m(99),h=m(101),c=function(){var e=function(b,d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,
d){function a(){this.constructor=b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();m=function(e){function b(d){var a=e.call(this)||this;a.map_=d;return a}c(b,e);b.prototype.dispatchRenderEvent=function(d,a){(0,v["abstract"])()};b.prototype.calculateMatrices2D=function(d){var a=d.viewState,f=d.coordinateToPixelTransform,l=d.pixelToCoordinateTransform;(0,w.compose)(f,d.size[0]/2,d.size[1]/2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,w.makeInverse)(l,
f)};b.prototype.forEachFeatureAtCoordinate=function(d,a,f,l,t,q,B,E){function z(L,T,V,X){return t.call(q,T,L?V:null,X)}var A=a.viewState,p=A.projection,y=(0,h.wrapX)(d.slice(),p),F=[[0,0]];p.canWrapX()&&l&&(l=p.getExtent(),l=(0,u.getWidth)(l),F.push([-l,0],[l,0]));l=a.layerStatesArray;p=l.length;for(var J=[],H=[],P=0;P<F.length;P++)for(var K=p-1;0<=K;--K){var N=l[K],M=N.layer;if(M.hasRenderer()&&(0,k.inView)(N,A)&&B.call(E,M)){var O=M.getRenderer();M=M.getSource();if(O&&M){M=M.getWrapX()?y:d;N=z.bind(null,
N.managed);H[0]=M[0]+F[P][0];H[1]=M[1]+F[P][1];var Q=O.forEachFeatureAtCoordinate(H,a,f,N,J)}if(Q)return Q}}if(0!==J.length){var G=1/J.length;J.forEach(function(L,T){return L.distanceSq+=T*G});J.sort(function(L,T){return L.distanceSq-T.distanceSq});J.some(function(L){return Q=L.callback(L.feature,L.layer,L.geometry)});return Q}};b.prototype.forEachLayerAtPixel=function(d,a,f,l,t){return(0,v["abstract"])()};b.prototype.hasFeatureAtCoordinate=function(d,a,f,l,t,q){return void 0!==this.forEachFeatureAtCoordinate(d,
a,f,l,C.TRUE,this,t,q)};b.prototype.getMap=function(){return this.map_};b.prototype.renderFrame=function(d){(0,v["abstract"])()};b.prototype.scheduleExpireIconCache=function(d){n.shared.canExpireCache()&&d.postRenderFunctions.push(D)};return b}(S["default"]);r["default"]=m};
shadow$provide[103]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(C){return C&&C.__esModule?C:{"default":C}}(m(87));var D=function(){var C=function(v,w){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,n){u.__proto__=n}||function(u,n){for(var k in n)Object.prototype.hasOwnProperty.call(n,k)&&(u[k]=n[k])};return C(v,w)};return function(v,w){function u(){this.constructor=v}C(v,w);v.prototype=null===w?Object.create(w):(u.prototype=
w.prototype,new u)}}();S=function(C){function v(w,u,n,k){w=C.call(this,w)||this;w.inversePixelTransform=u;w.frameState=n;w.context=k;return w}D(v,C);return v}(S["default"]);r["default"]=S};
shadow$provide[104]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.getFontParameters=r.CLASS_COLLAPSED=r.CLASS_CONTROL=r.CLASS_UNSUPPORTED=r.CLASS_UNSELECTABLE=r.CLASS_SELECTABLE=r.CLASS_HIDDEN=void 0;r.CLASS_HIDDEN="ol-hidden";r.CLASS_SELECTABLE="ol-selectable";r.CLASS_UNSELECTABLE="ol-unselectable";r.CLASS_UNSUPPORTED="ol-unsupported";r.CLASS_CONTROL="ol-control";r.CLASS_COLLAPSED="ol-collapsed";var D=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx])?))?\s*([-,\"\'\sa-z]+?)\s*$/i,
C="style variant weight size lineHeight family".split(" ");r.getFontParameters=function(v){v=v.match(D);if(!v)return null;for(var w={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},u=0,n=C.length;u<n;++u){var k=v[u+1];void 0!==k&&(w[C[u]]=k)}w.families=w.family.split(/,\s?/);return w}};
shadow$provide[105]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.PASSIVE_EVENT_LISTENERS=r.IMAGE_DECODE=r.WORKER_OFFSCREEN_CANVAS=r.DEVICE_PIXEL_RATIO=r.MAC=r.WEBKIT=r.SAFARI=r.FIREFOX=void 0;S="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";m=-1!==S.indexOf("firefox");r.FIREFOX=m;m=-1!==S.indexOf("safari")&&-1==S.indexOf("chrom");r.SAFARI=m;m=-1!==S.indexOf("webkit")&&-1==S.indexOf("edge");r.WEBKIT=m;S=-1!==S.indexOf("macintosh");
r.MAC=S;r.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;r.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;r.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;S=function(){var D=!1;try{var C=Object.defineProperty({},"passive",{get:function(){D=!0}});window.addEventListener("_",null,C);window.removeEventListener("_",null,C)}catch(v){}return D}();r.PASSIVE_EVENT_LISTENERS=
S};
shadow$provide[106]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.createCanvasContext2D=function(C,v,w){w=w&&w.length?w.shift():D.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(C||300,v||300):document.createElement("canvas");C&&(w.width=C);v&&(w.height=v);return w.getContext("2d")};r.outerWidth=function(C){var v=C.offsetWidth;C=getComputedStyle(C);return v+=parseInt(C.marginLeft,10)+parseInt(C.marginRight,10)};r.outerHeight=function(C){var v=C.offsetHeight;C=getComputedStyle(C);
return v+=parseInt(C.marginTop,10)+parseInt(C.marginBottom,10)};r.replaceNode=function(C,v){var w=v.parentNode;w&&w.replaceChild(C,v)};r.removeNode=function(C){return C&&C.parentNode?C.parentNode.removeChild(C):null};r.removeChildren=function(C){for(;C.lastChild;)C.removeChild(C.lastChild)};r.replaceChildren=function(C,v){for(var w=C.childNodes,u=0;;++u){var n=w[u],k=v[u];if(!n&&!k)break;n!==k&&(n?k?C.insertBefore(k,n):(C.removeChild(n),--u):C.appendChild(k))}};var D=m(105)};
shadow$provide[107]=function(S,m,Y,r){function D(f){return f&&f.__esModule?f:{"default":f}}function C(f,l){e||(e=(0,n.createCanvasContext2D)(1,1));f!=b&&(e.font=f,b=e.font);return e.measureText(l)}function v(f,l){return C(f,l).width}Object.defineProperty(r,"__esModule",{value:!0});r.measureTextWidth=v;r.measureAndCacheTextWidth=function(f,l,t){if(l in t)return t[l];f=v(f,l);return t[l]=f};r.measureTextWidths=function(f,l,t){for(var q=l.length,B=0,E=0;E<q;++E){var z=v(f,l[E]);B=Math.max(B,z);t.push(z)}return B};
r.rotateAtOffset=function(f,l,t,q){0!==l&&(f.translate(t,q),f.rotate(l),f.translate(-t,-q))};r.drawImageOrLabel=function(f,l,t,q,B,E,z,A,p,y,F){f.save();1!==t&&(f.globalAlpha*=t);l&&f.setTransform.apply(f,l);if(q.contextInstructions)for(f.translate(p,y),f.scale(F[0],F[1]),l=q.contextInstructions,t=0,q=l.length;t<q;t+=2)Array.isArray(l[t+1])?f[l[t]].apply(f,l[t+1]):f[l[t]]=l[t+1];else 0>F[0]||0>F[1]?(f.translate(p,y),f.scale(F[0],F[1]),f.drawImage(q,B,E,z,A,0,0,z,A)):f.drawImage(q,B,E,z,A,p,y,z*F[0],
A*F[1]);f.restore()};r.createTransformString=function(f){if(w.WORKER_OFFSCREEN_CANVAS)return(0,h.toString)(f);a||(a=(0,n.createCanvasContext2D)(1,1).canvas);a.style.transform=(0,h.toString)(f);return a.style.transform};r.measureTextHeight=r.registerFont=r.textHeights=r.labelCache=r.checkedFonts=r.defaultLineWidth=r.defaultPadding=r.defaultTextBaseline=r.defaultTextAlign=r.defaultStrokeStyle=r.defaultMiterLimit=r.defaultLineJoin=r.defaultLineDashOffset=r.defaultLineDash=r.defaultLineCap=r.defaultFillStyle=
r.defaultFont=void 0;S=D(m(94));Y=D(m(90));var w=m(105),u=m(89),n=m(106),k=m(104),h=m(80);r.defaultFont="10px sans-serif";r.defaultFillStyle="#000";r.defaultLineCap="round";r.defaultLineDash=[];r.defaultLineDashOffset=0;r.defaultLineJoin="round";r.defaultMiterLimit=10;r.defaultStrokeStyle="#000";r.defaultTextAlign="center";r.defaultTextBaseline="middle";r.defaultPadding=[0,0,0,0];r.defaultLineWidth=1;var c=new S["default"];r.checkedFonts=c;m=new Y["default"];r.labelCache=m;m.setSize=function(){console.warn("labelCache is deprecated.")};
var e=null,b,d={};r.textHeights=d;m=function(){function f(z,A,p){for(var y=!0,F=0;F<q;++F){var J=t[F];E=v(z+" "+A+" 32px "+J,"wmytzilWMYTZIL@#/\x26?$%10");p!=J&&(J=v(z+" "+A+" 32px "+p+","+J,"wmytzilWMYTZIL@#/\x26?$%10"),y=y&&J!=E)}return y?!0:!1}function l(){for(var z=!0,A=c.getKeys(),p=0,y=A.length;p<y;++p){var F=A[p];100>c.get(F)&&(f.apply(this,F.split("\n"))?((0,u.clear)(d),e=null,b=void 0,c.set(F,100)):(c.set(F,c.get(F)+1,!0),z=!1))}z&&(clearInterval(B),B=void 0)}var t=["monospace","serif"],
q=t.length,B,E;return function(z){if(z=(0,k.getFontParameters)(z))for(var A=z.families,p=0,y=A.length;p<y;++p){var F=A[p],J=z.style+"\n"+z.weight+"\n"+F;void 0===c.get(J)&&(c.set(J,100,!0),f(z.style,z.weight,F)||(c.set(J,0,!0),void 0===B&&(B=setInterval(l,32))))}}}();r.registerFont=m;m=function(){var f;return function(l){var t=d[l];if(void 0==t){if(w.WORKER_OFFSCREEN_CANVAS){t=(0,k.getFontParameters)(l);var q=C(l,"Žg");t=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(q.actualBoundingBoxAscent+
q.actualBoundingBoxDescent)}else f||(f=document.createElement("div"),f.innerHTML="M",f.style.margin="0 !important",f.style.padding="0 !important",f.style.position="absolute !important",f.style.left="-99999px !important"),f.style.font=l,document.body.appendChild(f),t=f.offsetHeight,document.body.removeChild(f);d[l]=t}return t}}();r.measureTextHeight=m;var a=null};
shadow$provide[108]=function(S,m,Y,r){function D(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(102));var C=D(m(88)),v=D(m(103)),w=D(m(97)),u=D(m(98)),n=m(104),k=m(107),h=m(99),c=m(92),e=m(106),b=function(){var d=function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,t){l.__proto__=t}||function(l,t){for(var q in t)Object.prototype.hasOwnProperty.call(t,q)&&(l[q]=t[q])};return d(a,f)};return function(a,
f){function l(){this.constructor=a}d(a,f);a.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)}}();m=function(d){function a(f){var l=d.call(this,f)||this;l.fontChangeListenerKey_=(0,c.listen)(k.checkedFonts,C["default"].PROPERTYCHANGE,f.redrawText.bind(f));l.element_=document.createElement("div");var t=l.element_.style;t.position="absolute";t.width="100%";t.height="100%";t.zIndex="0";l.element_.className=n.CLASS_UNSELECTABLE+" ol-layers";f=f.getViewport();f.insertBefore(l.element_,
f.firstChild||null);l.children_=[];l.renderedVisible_=!0;return l}b(a,d);a.prototype.dispatchRenderEvent=function(f,l){var t=this.getMap();t.hasListener(f)&&(f=new v["default"](f,void 0,l),t.dispatchEvent(f))};a.prototype.disposeInternal=function(){(0,c.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);d.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(f){if(f){this.calculateMatrices2D(f);this.dispatchRenderEvent(w["default"].PRECOMPOSE,
f);var l=f.layerStatesArray.sort(function(y,F){return y.zIndex-F.zIndex}),t=f.viewState;this.children_.length=0;for(var q=[],B=null,E=0,z=l.length;E<z;++E){var A=l[E];f.layerIndex=E;if((0,h.inView)(A,t)&&(A.sourceState==u["default"].READY||A.sourceState==u["default"].UNDEFINED)){A=A.layer;var p=A.render(f,B);p&&(p!==B&&(this.children_.push(p),B=p),"getDeclutter"in A&&q.push(A))}}for(E=q.length-1;0<=E;--E)q[E].renderDeclutter(f);(0,e.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(w["default"].POSTCOMPOSE,
f);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(f)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(f,l,t,q,B){for(var E=l.viewState,z=l.layerStatesArray,A=z.length-1;0<=A;--A){var p=z[A],y=p.layer;if(y.hasRenderer()&&(0,h.inView)(p,E)&&B(y)&&(p=y.getRenderer().getDataAtPixel(f,l,t))&&(y=q(y,p)))return y}};return a}(S["default"]);r["default"]=m};
shadow$provide[109]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={ADD:"add",REMOVE:"remove"}};
shadow$provide[110]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.CollectionEvent=void 0;var C=D(m(78));S=D(m(94));var v=D(m(109));m=D(m(87));var w=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=
k}n(k,h);k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}(),u=function(n){function k(h,c,e){h=n.call(this,h)||this;h.element=c;h.index=e;return h}w(k,n);return k}(m["default"]);r.CollectionEvent=u;m=function(n){function k(h,c){var e=n.call(this)||this;e.unique_=!!(c||{}).unique;e.array_=h?h:[];if(e.unique_)for(h=0,c=e.array_.length;h<c;++h)e.assertUnique_(e.array_[h],h);e.updateLength_();return e}w(k,n);k.prototype.clear=function(){for(;0<this.getLength();)this.pop()};k.prototype.extend=
function(h){for(var c=0,e=h.length;c<e;++c)this.push(h[c]);return this};k.prototype.forEach=function(h){for(var c=this.array_,e=0,b=c.length;e<b;++e)h(c[e],e,c)};k.prototype.getArray=function(){return this.array_};k.prototype.item=function(h){return this.array_[h]};k.prototype.getLength=function(){return this.get("length")};k.prototype.insertAt=function(h,c){this.unique_&&this.assertUnique_(c);this.array_.splice(h,0,c);this.updateLength_();this.dispatchEvent(new u(v["default"].ADD,c,h))};k.prototype.pop=
function(){return this.removeAt(this.getLength()-1)};k.prototype.push=function(h){this.unique_&&this.assertUnique_(h);var c=this.getLength();this.insertAt(c,h);return this.getLength()};k.prototype.remove=function(h){for(var c=this.array_,e=0,b=c.length;e<b;++e)if(c[e]===h)return this.removeAt(e)};k.prototype.removeAt=function(h){var c=this.array_[h];this.array_.splice(h,1);this.updateLength_();this.dispatchEvent(new u(v["default"].REMOVE,c,h));return c};k.prototype.setAt=function(h,c){var e=this.getLength();
if(h<e)this.unique_&&this.assertUnique_(c,h),e=this.array_[h],this.array_[h]=c,this.dispatchEvent(new u(v["default"].REMOVE,e,h)),this.dispatchEvent(new u(v["default"].ADD,c,h));else{for(;e<h;++e)this.insertAt(e,void 0);this.insertAt(h,c)}};k.prototype.updateLength_=function(){this.set("length",this.array_.length)};k.prototype.assertUnique_=function(h,c){for(var e=0,b=this.array_.length;e<b;++e)if(this.array_[e]===h&&e!==c)throw new C["default"](58);};return k}(S["default"]);r["default"]=m};
shadow$provide[111]=function(S,m,Y,r){function D(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(96));var C=D(m(110)),v=D(m(109)),w=D(m(91)),u=D(m(88)),n=D(m(98)),k=m(79),h=m(89),c=m(94),e=m(83),b=m(77),d=m(92),a=function(){var f=function(l,t){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,B){q.__proto__=B}||function(q,B){for(var E in B)Object.prototype.hasOwnProperty.call(B,E)&&(q[E]=B[E])};return f(l,t)};return function(l,
t){function q(){this.constructor=l}f(l,t);l.prototype=null===t?Object.create(t):(q.prototype=t.prototype,new q)}}();m=function(f){function l(t){var q=t||{};t=(0,h.assign)({},q);delete t.layers;q=q.layers;t=f.call(this,t)||this;t.layersListenerKeys_=[];t.listenerKeys_={};t.addEventListener((0,c.getChangeEventType)("layers"),t.handleLayersChanged_);q?Array.isArray(q)?q=new C["default"](q.slice(),{unique:!0}):(0,k.assert)("function"===typeof q.getArray,43):q=new C["default"](void 0,{unique:!0});t.setLayers(q);
return t}a(l,f);l.prototype.handleLayerChange_=function(){this.changed()};l.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(d.unlistenByKey);this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push((0,d.listen)(t,v["default"].ADD,this.handleLayersAdd_,this),(0,d.listen)(t,v["default"].REMOVE,this.handleLayersRemove_,this));for(var q in this.listenerKeys_)this.listenerKeys_[q].forEach(d.unlistenByKey);(0,h.clear)(this.listenerKeys_);t=t.getArray();
q=0;for(var B=t.length;q<B;q++){var E=t[q];this.listenerKeys_[(0,b.getUid)(E)]=[(0,d.listen)(E,u["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,d.listen)(E,w["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()};l.prototype.handleLayersAdd_=function(t){t=t.element;this.listenerKeys_[(0,b.getUid)(t)]=[(0,d.listen)(t,u["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,d.listen)(t,w["default"].CHANGE,this.handleLayerChange_,this)];this.changed()};l.prototype.handleLayersRemove_=
function(t){t=t.element;t=(0,b.getUid)(t);this.listenerKeys_[t].forEach(d.unlistenByKey);delete this.listenerKeys_[t];this.changed()};l.prototype.getLayers=function(){return this.get("layers")};l.prototype.setLayers=function(t){this.set("layers",t)};l.prototype.getLayersArray=function(t){var q=void 0!==t?t:[];this.getLayers().forEach(function(B){B.getLayersArray(q)});return q};l.prototype.getLayerStatesArray=function(t){var q=void 0!==t?t:[],B=q.length;this.getLayers().forEach(function(A){A.getLayerStatesArray(q)});
t=this.getLayerState();for(var E=q.length;B<E;B++){var z=q[B];z.opacity*=t.opacity;z.visible=z.visible&&t.visible;z.maxResolution=Math.min(z.maxResolution,t.maxResolution);z.minResolution=Math.max(z.minResolution,t.minResolution);z.minZoom=Math.max(z.minZoom,t.minZoom);z.maxZoom=Math.min(z.maxZoom,t.maxZoom);void 0!==t.extent&&(z.extent=void 0!==z.extent?(0,e.getIntersection)(z.extent,t.extent):t.extent)}return q};l.prototype.getSourceState=function(){return n["default"].READY};return l}(S["default"]);
r["default"]=m};
shadow$provide[112]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(C){return C&&C.__esModule?C:{"default":C}}(m(87));var D=function(){var C=function(v,w){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,n){u.__proto__=n}||function(u,n){for(var k in n)Object.prototype.hasOwnProperty.call(n,k)&&(u[k]=n[k])};return C(v,w)};return function(v,w){function u(){this.constructor=v}C(v,w);v.prototype=null===w?Object.create(w):(u.prototype=
w.prototype,new u)}}();S=function(C){function v(w,u,n){w=C.call(this,w)||this;w.map=u;w.frameState=void 0!==n?n:null;return w}D(v,C);return v}(S["default"]);r["default"]=S};
shadow$provide[113]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(C){return C&&C.__esModule?C:{"default":C}}(m(112));var D=function(){var C=function(v,w){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,n){u.__proto__=n}||function(u,n){for(var k in n)Object.prototype.hasOwnProperty.call(n,k)&&(u[k]=n[k])};return C(v,w)};return function(v,w){function u(){this.constructor=v}C(v,w);v.prototype=null===w?Object.create(w):(u.prototype=
w.prototype,new u)}}();S=function(C){function v(w,u,n,k,h){w=C.call(this,w,u,h)||this;w.originalEvent=n;w.pixel_=null;w.coordinate_=null;w.dragging=void 0!==k?k:!1;return w}D(v,C);Object.defineProperty(v.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(w){this.pixel_=w},enumerable:!1,configurable:!0});Object.defineProperty(v.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));
return this.coordinate_},set:function(w){this.coordinate_=w},enumerable:!1,configurable:!0});v.prototype.preventDefault=function(){C.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};v.prototype.stopPropagation=function(){C.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return v}(S["default"]);r["default"]=S};
shadow$provide[114]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=(S=m(91))&&S.__esModule?S:{"default":S};r["default"]={SINGLECLICK:"singleclick",CLICK:S["default"].CLICK,DBLCLICK:S["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[115]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[116]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(90));var C=D(m(91)),v=D(m(113)),w=D(m(114)),u=D(m(115)),n=m(105),k=m(92),h=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=
e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();m=function(c){function e(b,d){var a=c.call(this,b)||this;a.map_=b;a.emulateClicks_=!1;a.dragging_=!1;a.dragListenerKeys_=[];a.moveTolerance_=d?d*n.DEVICE_PIXEL_RATIO:n.DEVICE_PIXEL_RATIO;a.down_=null;b=a.map_.getViewport();a.activePointers_=0;a.trackedTouches_={};a.element_=b;a.pointerdownListenerKey_=(0,k.listen)(b,u["default"].POINTERDOWN,a.handlePointerDown_,a);a.relayedListenerKey_=(0,k.listen)(b,u["default"].POINTERMOVE,
a.relayEvent_,a);a.boundHandleTouchMove_=a.handleTouchMove_.bind(a);a.element_.addEventListener(C["default"].TOUCHMOVE,a.boundHandleTouchMove_,n.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return a}h(e,c);e.prototype.emulateClick_=function(b){var d=new v["default"](w["default"].CLICK,this.map_,b);this.dispatchEvent(d);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,d=new v["default"](w["default"].DBLCLICK,this.map_,b),this.dispatchEvent(d)):this.clickTimeoutId_=
setTimeout(function(){this.clickTimeoutId_=void 0;var a=new v["default"](w["default"].SINGLECLICK,this.map_,b);this.dispatchEvent(a)}.bind(this),250)};e.prototype.updateActivePointers_=function(b){b.type==w["default"].POINTERUP||b.type==w["default"].POINTERCANCEL?delete this.trackedTouches_[b.pointerId]:b.type==w["default"].POINTERDOWN&&(this.trackedTouches_[b.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};e.prototype.handlePointerUp_=function(b){this.updateActivePointers_(b);
var d=new v["default"](w["default"].POINTERUP,this.map_,b);this.dispatchEvent(d);this.emulateClicks_&&!d.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(b)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(k.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};e.prototype.isMouseActionButton_=function(b){return 0===b.button};e.prototype.handlePointerDown_=function(b){this.emulateClicks_=0===this.activePointers_;this.updateActivePointers_(b);
var d=new v["default"](w["default"].POINTERDOWN,this.map_,b);this.dispatchEvent(d);this.down_=b;0===this.dragListenerKeys_.length&&(b=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,k.listen)(b,w["default"].POINTERMOVE,this.handlePointerMove_,this),(0,k.listen)(b,w["default"].POINTERUP,this.handlePointerUp_,this),(0,k.listen)(this.element_,w["default"].POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==b&&this.dragListenerKeys_.push((0,
k.listen)(this.element_.getRootNode(),w["default"].POINTERUP,this.handlePointerUp_,this)))};e.prototype.handlePointerMove_=function(b){this.isMoving_(b)&&(this.dragging_=!0,b=new v["default"](w["default"].POINTERDRAG,this.map_,b,this.dragging_),this.dispatchEvent(b))};e.prototype.relayEvent_=function(b){this.originalPointerMoveEvent_=b;var d=!(!this.down_||!this.isMoving_(b));this.dispatchEvent(new v["default"](b.type,this.map_,b,d))};e.prototype.handleTouchMove_=function(b){this.originalPointerMoveEvent_&&
!this.originalPointerMoveEvent_.defaultPrevented||b.preventDefault()};e.prototype.isMoving_=function(b){return this.dragging_||Math.abs(b.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(b.clientY-this.down_.clientY)>this.moveTolerance_};e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,k.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(C["default"].TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&
((0,k.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(k.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;c.prototype.disposeInternal.call(this)};return e}(S["default"]);r["default"]=m};
shadow$provide[117]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}};
shadow$provide[118]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[119]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.DROP=void 0;var D=m(79),C=m(89);r.DROP=Infinity;S=function(){function v(w,u){this.priorityFunction_=w;this.keyFunction_=u;this.elements_=[];this.priorities_=[];this.queuedElements_={}}v.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,C.clear)(this.queuedElements_)};v.prototype.dequeue=function(){var w=this.elements_,u=this.priorities_,n=w[0];1==w.length?(w.length=0,
u.length=0):(w[0]=w.pop(),u[0]=u.pop(),this.siftUp_(0));w=this.keyFunction_(n);delete this.queuedElements_[w];return n};v.prototype.enqueue=function(w){(0,D.assert)(!(this.keyFunction_(w)in this.queuedElements_),31);var u=this.priorityFunction_(w);return Infinity!=u?(this.elements_.push(w),this.priorities_.push(u),this.queuedElements_[this.keyFunction_(w)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};v.prototype.getCount=function(){return this.elements_.length};v.prototype.getLeftChildIndex_=
function(w){return 2*w+1};v.prototype.getRightChildIndex_=function(w){return 2*w+2};v.prototype.getParentIndex_=function(w){return w-1>>1};v.prototype.heapify_=function(){var w;for(w=(this.elements_.length>>1)-1;0<=w;w--)this.siftUp_(w)};v.prototype.isEmpty=function(){return 0===this.elements_.length};v.prototype.isKeyQueued=function(w){return w in this.queuedElements_};v.prototype.isQueued=function(w){return this.isKeyQueued(this.keyFunction_(w))};v.prototype.siftUp_=function(w){for(var u=this.elements_,
n=this.priorities_,k=u.length,h=u[w],c=n[w],e=w;w<k>>1;){var b=this.getLeftChildIndex_(w),d=this.getRightChildIndex_(w);b=d<k&&n[d]<n[b]?d:b;u[w]=u[b];n[w]=n[b];w=b}u[w]=h;n[w]=c;this.siftDown_(e,w)};v.prototype.siftDown_=function(w,u){for(var n=this.elements_,k=this.priorities_,h=n[u],c=k[u];u>w;){var e=this.getParentIndex_(u);if(k[e]>c)n[u]=n[e],k[u]=k[e],u=e;else break}n[u]=h;k[u]=c};v.prototype.reprioritize=function(){var w=this.priorityFunction_,u=this.elements_,n=this.priorities_,k=0,h=u.length,
c;for(c=0;c<h;++c){var e=u[c];var b=w(e);Infinity==b?delete this.queuedElements_[this.keyFunction_(e)]:(n[k]=b,u[k++]=e)}u.length=k;n.length=k;this.heapify_()};return v}();r["default"]=S};
shadow$provide[120]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[121]=function(S,m,Y,r){function D(h){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return D(h)}function C(){if("function"!==typeof WeakMap)return null;var h=new WeakMap;C=function(){return h};return h}function v(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(r,"__esModule",{value:!0});r.getTilePriority=function(h,
c,e,b,d){if(!(h&&e in h.wantedTiles&&h.wantedTiles[e][c.getKey()]))return u.DROP;c=h.viewState.center;h=b[0]-c[0];b=b[1]-c[1];return 65536*Math.log(d)+Math.sqrt(h*h+b*b)/d};r["default"]=void 0;var w=v(m(91)),u=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==D(h)&&"function"!==typeof h)return{"default":h};var c=C();if(c&&c.has(h))return c.get(h);var e={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in h)if(Object.prototype.hasOwnProperty.call(h,d)){var a=b?Object.getOwnPropertyDescriptor(h,
d):null;a&&(a.get||a.set)?Object.defineProperty(e,d,a):e[d]=h[d]}e["default"]=h;c&&c.set(h,e);return e}(m(119)),n=v(m(120)),k=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=c}h(c,e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();S=function(h){function c(e,
b){var d=h.call(this,function(a){return e.apply(null,a)},function(a){return a[0].getKey()})||this;d.boundHandleTileChange_=d.handleTileChange.bind(d);d.tileChangeCallback_=b;d.tilesLoading_=0;d.tilesLoadingKeys_={};return d}k(c,h);c.prototype.enqueue=function(e){var b=h.prototype.enqueue.call(this,e);b&&e[0].addEventListener(w["default"].CHANGE,this.boundHandleTileChange_);return b};c.prototype.getTilesLoading=function(){return this.tilesLoading_};c.prototype.handleTileChange=function(e){e=e.target;
var b=e.getState();if(e.hifi&&b===n["default"].LOADED||b===n["default"].ERROR||b===n["default"].EMPTY)e.removeEventListener(w["default"].CHANGE,this.boundHandleTileChange_),e=e.getKey(),e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()};c.prototype.loadMoreTiles=function(e,b){for(var d=0,a,f,l;this.tilesLoading_<e&&d<b&&0<this.getCount();)f=this.dequeue()[0],l=f.getKey(),a=f.getState(),a!==n["default"].IDLE||l in this.tilesLoadingKeys_||
(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++d,f.load())};return c}(u["default"]);r["default"]=S};
shadow$provide[122]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[123]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.METERS_PER_UNIT=void 0;S={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};m={};r.METERS_PER_UNIT=m;m[S.DEGREES]=12741994*Math.PI/360;m[S.FEET]=.3048;m[S.METERS]=1;m[S.USFEET]=1200/3937;r["default"]=S};
shadow$provide[124]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={ANIMATING:0,INTERACTING:1}};
shadow$provide[125]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[126]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.DEFAULT_MAX_ZOOM=42;r.DEFAULT_TILE_SIZE=256};
shadow$provide[127]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=m(123);S=function(){function C(v){this.code_=v.code;this.units_=v.units;this.extent_=void 0!==v.extent?v.extent:null;this.worldExtent_=void 0!==v.worldExtent?v.worldExtent:null;this.axisOrientation_=void 0!==v.axisOrientation?v.axisOrientation:"enu";this.global_=void 0!==v.global?v.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=v.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=v.metersPerUnit}C.prototype.canWrapX=function(){return this.canWrapX_};C.prototype.getCode=function(){return this.code_};C.prototype.getExtent=function(){return this.extent_};C.prototype.getUnits=function(){return this.units_};C.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||D.METERS_PER_UNIT[this.units_]};C.prototype.getWorldExtent=function(){return this.worldExtent_};C.prototype.getAxisOrientation=function(){return this.axisOrientation_};
C.prototype.isGlobal=function(){return this.global_};C.prototype.setGlobal=function(v){this.global_=v;this.canWrapX_=!(!v||!this.extent_)};C.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};C.prototype.setDefaultTileGrid=function(v){this.defaultTileGrid_=v};C.prototype.setExtent=function(v){this.extent_=v;this.canWrapX_=!(!this.global_||!v)};C.prototype.setWorldExtent=function(v){this.worldExtent_=v};C.prototype.setGetPointResolution=function(v){this.getPointResolutionFunc_=v};
C.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return C}();r["default"]=S};
shadow$provide[128]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(r,"__esModule",{value:!0});r.fromEPSG4326=function(c,e,b){var d=c.length;b=1<b?b:2;void 0===e&&(e=2<b?c.slice():Array(d));for(var a=0;a<d;a+=b){e[a]=u*c[a]/180;var f=6378137*Math.log(Math.tan(Math.PI*(+c[a+1]+90)/360));f>h?f=h:f<-h&&(f=-h);e[a+1]=f}return e};r.toEPSG4326=function(c,e,b){var d=c.length;b=1<b?b:2;void 0===e&&(e=2<b?c.slice():Array(d));for(var a=0;a<d;a+=b)e[a]=180*c[a]/u,
e[a+1]=360*Math.atan(Math.exp(c[a+1]/6378137))/Math.PI-90;return e};r.PROJECTIONS=r.MAX_SAFE_Y=r.WORLD_EXTENT=r.EXTENT=r.HALF_SIZE=r.RADIUS=void 0;S=D(m(127));var C=D(m(123)),v=m(84),w=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=e}c(e,b);e.prototype=null===b?Object.create(b):
(d.prototype=b.prototype,new d)}}();r.RADIUS=6378137;var u=6378137*Math.PI;r.HALF_SIZE=u;var n=[-u,-u,u,u];r.EXTENT=n;var k=[-180,-85,180,85];r.WORLD_EXTENT=k;var h=6378137*Math.log(Math.tan(Math.PI/2));r.MAX_SAFE_Y=h;m=function(c){function e(b){return c.call(this,{code:b,units:C["default"].METERS,extent:n,global:!0,worldExtent:k,getPointResolution:function(d,a){return d/(0,v.cosh)(a[1]/6378137)}})||this}w(e,c);return e}(S["default"]);m=[new m("EPSG:3857"),new m("EPSG:102100"),new m("EPSG:102113"),
new m("EPSG:900913"),new m("http://www.opengis.net/gml/srs/epsg.xml#3857")];r.PROJECTIONS=m};
shadow$provide[129]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r.PROJECTIONS=r.METERS_PER_UNIT=r.EXTENT=r.RADIUS=void 0;S=D(m(127));var C=D(m(123)),v=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,
h);k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();r.RADIUS=6378137;var w=[-180,-90,180,90];r.EXTENT=w;var u=6378137*Math.PI/180;r.METERS_PER_UNIT=u;m=function(n){function k(h,c){return n.call(this,{code:h,units:C["default"].DEGREES,extent:w,axisOrientation:c,global:!0,metersPerUnit:u,worldExtent:w})||this}v(k,n);return k}(S["default"]);m=[new m("CRS:84"),new m("EPSG:4326","neu"),new m("urn:ogc:def:crs:OGC:1.3:CRS84"),new m("urn:ogc:def:crs:OGC:2:84"),new m("http://www.opengis.net/gml/srs/epsg.xml#4326",
"neu")];r.PROJECTIONS=m};
shadow$provide[130]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.clear=function(){D={}};r.get=function(C){return D[C]||D[C.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};r.add=function(C,v){D[C]=v};var D={}};
shadow$provide[131]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.clear=function(){C={}};r.add=function(v,w,u){v=v.getCode();w=w.getCode();v in C||(C[v]={});C[v][w]=u};r.remove=function(v,w){v=v.getCode();w=w.getCode();var u=C[v][w];delete C[v][w];(0,D.isEmpty)(C[v])&&delete C[v];return u};r.get=function(v,w){var u;v in C&&w in C[v]&&(u=C[v][w]);return u};var D=m(89),C={}};
shadow$provide[132]=function(S,m,Y,r){function D(c,e,b){b=b||h;var d=(0,k.toRadians)(c[1]),a=(0,k.toRadians)(e[1]),f=(a-d)/2;c=(0,k.toRadians)(e[0]-c[0])/2;c=Math.sin(f)*Math.sin(f)+Math.sin(c)*Math.sin(c)*Math.cos(d)*Math.cos(a);return 2*b*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function C(c,e){for(var b=0,d=0,a=c.length;d<a-1;++d)b+=D(c[d],c[d+1],e);return b}function v(c,e){var b=e||{},d=b.radius||h;b=b.projection||"EPSG:3857";var a=c.getType();a!==n["default"].GEOMETRY_COLLECTION&&(c=c.clone().transform(b,
"EPSG:4326"));b=0;var f;switch(a){case n["default"].POINT:case n["default"].MULTI_POINT:break;case n["default"].LINE_STRING:case n["default"].LINEAR_RING:e=c.getCoordinates();b=C(e,d);break;case n["default"].MULTI_LINE_STRING:case n["default"].POLYGON:e=c.getCoordinates();c=0;for(a=e.length;c<a;++c)b+=C(e[c],d);break;case n["default"].MULTI_POLYGON:e=c.getCoordinates();c=0;for(a=e.length;c<a;++c){var l=e[c];var t=0;for(f=l.length;t<f;++t)b+=C(l[t],d)}break;case n["default"].GEOMETRY_COLLECTION:d=
c.getGeometries();c=0;for(a=d.length;c<a;++c)b+=v(d[c],e);break;default:throw Error("Unsupported geometry type: "+a);}return b}function w(c,e){for(var b=0,d=c.length,a=c[d-1][0],f=c[d-1][1],l=0;l<d;l++){var t=c[l][0],q=c[l][1];b+=(0,k.toRadians)(t-a)*(2+Math.sin((0,k.toRadians)(f))+Math.sin((0,k.toRadians)(q)));a=t;f=q}return b*e*e/2}function u(c,e){var b=e||{},d=b.radius||h;b=b.projection||"EPSG:3857";var a=c.getType();a!==n["default"].GEOMETRY_COLLECTION&&(c=c.clone().transform(b,"EPSG:4326"));
b=0;var f;switch(a){case n["default"].POINT:case n["default"].MULTI_POINT:case n["default"].LINE_STRING:case n["default"].MULTI_LINE_STRING:case n["default"].LINEAR_RING:break;case n["default"].POLYGON:e=c.getCoordinates();b=Math.abs(w(e[0],d));c=1;for(a=e.length;c<a;++c)b-=Math.abs(w(e[c],d));break;case n["default"].MULTI_POLYGON:e=c.getCoordinates();c=0;for(a=e.length;c<a;++c){var l=e[c];b+=Math.abs(w(l[0],d));var t=1;for(f=l.length;t<f;++t)b-=Math.abs(w(l[t],d))}break;case n["default"].GEOMETRY_COLLECTION:d=
c.getGeometries();c=0;for(a=d.length;c<a;++c)b+=u(d[c],e);break;default:throw Error("Unsupported geometry type: "+a);}return b}Object.defineProperty(r,"__esModule",{value:!0});r.getDistance=D;r.getLength=v;r.getArea=u;r.offset=function(c,e,b,d){var a=d||h;d=(0,k.toRadians)(c[1]);c=(0,k.toRadians)(c[0]);a=e/a;e=Math.asin(Math.sin(d)*Math.cos(a)+Math.cos(d)*Math.sin(a)*Math.cos(b));b=c+Math.atan2(Math.sin(b)*Math.sin(a)*Math.cos(d),Math.cos(a)-Math.sin(d)*Math.sin(e));return[(0,k.toDegrees)(b),(0,k.toDegrees)(e)]};
r.DEFAULT_RADIUS=void 0;var n=function(c){return c&&c.__esModule?c:{"default":c}}(m(122)),k=m(84),h=6371008.8;r.DEFAULT_RADIUS=h};
shadow$provide[133]=function(S,m,Y,r){function D(K){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"===typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};return D(K)}function C(){if("function"!==typeof WeakMap)return null;var K=new WeakMap;C=function(){return K};return K}function v(K,N,M){if(void 0!==N){M=0;for(var O=K.length;M<O;++M)N[M]=K[M];K=N}else K=K.slice();return K}function w(K,N,M){if(void 0!==
N&&K!==N){M=0;for(var O=K.length;M<O;++M)N[M]=K[M];K=N}return K}function u(K){(0,A.add)(K.getCode(),K);(0,p.add)(K,K,v)}function n(K){K.forEach(u)}function k(K){return"string"===typeof K?(0,A.get)(K):K||null}function h(K){n(K);K.forEach(function(N){K.forEach(function(M){N!==M&&(0,p.add)(N,M,v)})})}function c(K,N,M,O){K.forEach(function(Q){N.forEach(function(G){(0,p.add)(Q,G,M);(0,p.add)(G,Q,O)})})}function e(K){return function(N,M,O){var Q=N.length;O=void 0!==O?O:2;M=void 0!==M?M:Array(Q);for(var G=
0;G<Q;G+=O){var L=K([N[G],N[G+1]]);M[G]=L[0];M[G+1]=L[1];for(L=O-1;2<=L;--L)M[G+L]=N[G+L]}return M}}function b(K,N){K=K.getCode();N=N.getCode();(N=(0,p.get)(K,N))||(N=w);return N}function d(K,N){K=k(K);N=k(N);return b(K,N)}function a(K,N,M){return d(N,M)(K,void 0,K.length)}function f(K,N,M,O){N=d(N,M);return(0,y.applyTransform)(K,N,void 0,O)}function l(K){P=k(K)}function t(){h(E.PROJECTIONS);h(z.PROJECTIONS);c(z.PROJECTIONS,E.PROJECTIONS,E.fromEPSG4326,E.toEPSG4326)}Object.defineProperty(r,"__esModule",
{value:!0});r.cloneTransform=v;r.identityTransform=w;r.addProjection=u;r.addProjections=n;r.get=k;r.getPointResolution=function(K,N,M,O){K=k(K);var Q=K.getPointResolutionFunc();if(Q)N=Q(N,M),O&&O!==K.getUnits()&&(K=K.getMetersPerUnit())&&(N=N*K/B.METERS_PER_UNIT[O]);else{var G=K.getUnits();G==B["default"].DEGREES&&!O||O==B["default"].DEGREES||(Q=b(K,k("EPSG:4326")),Q===w&&G!==B["default"].DEGREES?N*=K.getMetersPerUnit():(N=[M[0]-N/2,M[1],M[0]+N/2,M[1],M[0],M[1]-N/2,M[0],M[1]+N/2],N=Q(N,N,2),M=(0,
J.getDistance)(N.slice(0,2),N.slice(2,4)),N=(0,J.getDistance)(N.slice(4,6),N.slice(6,8)),N=(M+N)/2),K=O?B.METERS_PER_UNIT[O]:K.getMetersPerUnit(),void 0!==K&&(N/=K))}return N};r.addEquivalentProjections=h;r.addEquivalentTransforms=c;r.clearAllProjections=function(){(0,A.clear)();(0,p.clear)()};r.createProjection=function(K,N){return K?"string"===typeof K?k(K):K:k(N)};r.createTransformFromCoordinateTransform=e;r.addCoordinateTransforms=function(K,N,M,O){K=k(K);N=k(N);(0,p.add)(K,N,e(M));(0,p.add)(N,
K,e(O))};r.fromLonLat=function(K,N){return a(K,"EPSG:4326",void 0!==N?N:"EPSG:3857")};r.toLonLat=function(K,N){K=a(K,void 0!==N?N:"EPSG:3857","EPSG:4326");N=K[0];if(-180>N||180<N)K[0]=(0,F.modulo)(N+180,360)-180;return K};r.equivalent=function(K,N){if(K===N)return!0;var M=K.getUnits()===N.getUnits();return K.getCode()===N.getCode()?M:b(K,N)===v&&M};r.getTransformFromProjections=b;r.getTransform=d;r.transform=a;r.transformExtent=f;r.transformWithProjections=function(K,N,M){return b(N,M)(K)};r.setUserProjection=
l;r.clearUserProjection=function(){P=null};r.getUserProjection=function(){return P};r.useGeographic=function(){l("EPSG:4326")};r.toUserCoordinate=function(K,N){return P?a(K,N,P):K};r.fromUserCoordinate=function(K,N){return P?a(K,P,N):K};r.toUserExtent=function(K,N){return P?f(K,N,P):K};r.fromUserExtent=function(K,N){return P?f(K,P,N):K};r.createSafeCoordinateTransform=function(K,N,M){return function(O){var Q=O[0],G=O[1],L;if(K.canWrapX()){var T=K.getExtent(),V=(0,y.getWidth)(T);(L=(0,H.getWorldsAway)(O,
K,V))&&(Q-=L*V);Q=(0,F.clamp)(Q,T[0],T[2]);G=(0,F.clamp)(G,T[1],T[3]);O=M([Q,G])}else O=M(O);L&&N.canWrapX()&&(O[0]+=L*(0,y.getWidth)(N.getExtent()));return O}};r.addCommon=t;Object.defineProperty(r,"Projection",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty(r,"METERS_PER_UNIT",{enumerable:!0,get:function(){return B.METERS_PER_UNIT}});var q=function(K){return K&&K.__esModule?K:{"default":K}}(m(127)),B=function(K){if(K&&K.__esModule)return K;if(null===K||"object"!==D(K)&&
"function"!==typeof K)return{"default":K};var N=C();if(N&&N.has(K))return N.get(K);var M={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor,Q;for(Q in K)if(Object.prototype.hasOwnProperty.call(K,Q)){var G=O?Object.getOwnPropertyDescriptor(K,Q):null;G&&(G.get||G.set)?Object.defineProperty(M,Q,G):M[Q]=K[Q]}M["default"]=K;N&&N.set(K,M);return M}(m(123)),E=m(128),z=m(129),A=m(130),p=m(131),y=m(83),F=m(84),J=m(132),H=m(101),P=null;t()};
shadow$provide[134]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.createExtent=function(C,v,w){return function(u,n,k,h,c){if(u){var e=v?0:k[0]*n,b=v?0:k[1]*n;k=c?c[0]:0;var d=c?c[1]:0;c=C[0]+e/2+k;e=C[2]-e/2+k;k=C[1]+b/2+d;b=C[3]-b/2+d;c>e&&(e=c=(e+c)/2);k>b&&(b=k=(b+k)/2);d=(0,D.clamp)(u[0],c,e);var a=(0,D.clamp)(u[1],k,b);n*=30;h&&w&&(d+=-n*Math.log(1+Math.max(0,c-u[0])/n)+n*Math.log(1+Math.max(0,u[0]-e)/n),a+=-n*Math.log(1+Math.max(0,k-u[1])/n)+n*Math.log(1+Math.max(0,u[1]-
b)/n));return[d,a]}}};r.none=function(C){return C};var D=m(84)};
shadow$provide[135]=function(S,m,Y,r){function D(n,k,h,c){var e=(0,w.getWidth)(k)/h[0];k=(0,w.getHeight)(k)/h[1];return c?Math.min(n,Math.max(e,k)):Math.min(n,Math.min(e,k))}function C(n,k,h){var c=Math.min(n,k);c*=Math.log(1+50*Math.max(0,n/k-1))/50+1;h&&(c=Math.max(c,h),c/=Math.log(1+50*Math.max(0,h/n-1))/50+1);return(0,v.clamp)(c,h/2,2*k)}Object.defineProperty(r,"__esModule",{value:!0});r.createSnapToResolutions=function(n,k,h,c){return function(e,b,d,a){if(void 0!==e){var f=n[0],l=n[n.length-
1];d=h?D(f,h,d,c):f;if(a)return void 0===k||k?C(e,d,l):(0,v.clamp)(e,l,d);e=Math.min(d,e);b=Math.floor((0,u.linearFindNearest)(n,e,b));return n[b]>d&&b<n.length-1?n[b+1]:n[b]}}};r.createSnapToPower=function(n,k,h,c,e,b){return function(d,a,f,l){if(void 0!==d){f=e?D(k,e,f,b):k;var t=void 0!==h?h:0;if(l)return void 0===c||c?C(d,f,t):(0,v.clamp)(d,t,f);d=k/Math.pow(n,Math.max(Math.ceil(Math.log(k/f)/Math.log(n)-1E-9),Math.floor(Math.log(k/Math.min(f,d))/Math.log(n)+(-a*(.5-1E-9)+.5))));return(0,v.clamp)(d,
t,f)}}};r.createMinMaxResolution=function(n,k,h,c,e){return function(b,d,a,f){if(void 0!==b)return d=c?D(n,c,a,e):n,void 0!==h&&!h||!f?(0,v.clamp)(b,k,d):C(b,d,k)}};var v=m(84),w=m(83),u=m(75)};
shadow$provide[136]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.disable=function(C){if(void 0!==C)return 0};r.none=function(C){if(void 0!==C)return C};r.createSnapToN=function(C){var v=2*Math.PI/C;return function(w,u){if(u)return w;if(void 0!==w)return w=Math.floor(w/v+.5)*v}};r.createSnapToZero=function(C){var v=C||(0,D.toRadians)(5);return function(w,u){if(u)return w;if(void 0!==w)return Math.abs(w)<=v?0:w}};var D=m(84)};
shadow$provide[137]=function(S,m,Y,r){function D(v){return Math.pow(v,3)}function C(v){return 3*v*v-2*v*v*v}Object.defineProperty(r,"__esModule",{value:!0});r.easeIn=D;r.easeOut=function(v){return 1-D(1-v)};r.inAndOut=C;r.linear=function(v){return v};r.upAndDown=function(v){return.5>v?C(2*v):1-C(2*(v-.5))}};
shadow$provide[138]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[139]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.transform2D=function(D,C,v,w,u,n){for(var k=n?n:[],h=0;C<v;C+=w){var c=D[C],e=D[C+1];k[h++]=u[0]*c+u[2]*e+u[4];k[h++]=u[1]*c+u[3]*e+u[5]}n&&k.length!=h&&(k.length=h);return k};r.rotate=function(D,C,v,w,u,n,k){var h=k?k:[],c=Math.cos(u);u=Math.sin(u);var e=n[0];n=n[1];for(var b=0;C<v;C+=w){var d=D[C]-e,a=D[C+1]-n;h[b++]=e+d*c-a*u;h[b++]=n+d*u+a*c;for(d=C+2;d<C+w;++d)h[b++]=D[d]}k&&h.length!=b&&(h.length=b);return h};
r.scale=function(D,C,v,w,u,n,k,h){var c=h?h:[],e=k[0];k=k[1];for(var b=0;C<v;C+=w){var d=D[C]-e,a=D[C+1]-k;c[b++]=e+u*d;c[b++]=k+n*a;for(d=C+2;d<C+w;++d)c[b++]=D[d]}h&&c.length!=b&&(c.length=b);return c};r.translate=function(D,C,v,w,u,n,k){for(var h=k?k:[],c=0;C<v;C+=w){h[c++]=D[C]+u;h[c++]=D[C+1]+n;for(var e=C+2;e<C+w;++e)h[c++]=D[e]}k&&h.length!=c&&(h.length=c);return h}};
shadow$provide[140]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(94));var C=D(m(123)),v=m(77),w=m(80),u=m(83),n=m(133),k=m(76),h=m(139),c=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),e=(0,w.create)();m=function(b){function d(){var a=b.call(this)||this;a.extent_=(0,u.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,k.memoizeOne)(function(f,l,t){if(!t)return this.getSimplifiedGeometry(l);f=this.clone();f.applyTransform(t);return f.getSimplifiedGeometry(l)});return a}c(d,b);d.prototype.simplifyTransformed=
function(a,f){return this.simplifyTransformedInternal(this.getRevision(),a,f)};d.prototype.clone=function(){return(0,v["abstract"])()};d.prototype.closestPointXY=function(a,f,l,t){return(0,v["abstract"])()};d.prototype.containsXY=function(a,f){var l=this.getClosestPoint([a,f]);return l[0]===a&&l[1]===f};d.prototype.getClosestPoint=function(a,f){f=f?f:[NaN,NaN];this.closestPointXY(a[0],a[1],f,Infinity);return f};d.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};d.prototype.computeExtent=
function(a){return(0,v["abstract"])()};d.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var f=this.computeExtent(this.extent_);(isNaN(f[0])||isNaN(f[1]))&&(0,u.createOrUpdateEmpty)(f);this.extentRevision_=this.getRevision()}return(0,u.returnOrUpdate)(this.extent_,a)};d.prototype.rotate=function(a,f){(0,v["abstract"])()};d.prototype.scale=function(a,f,l){(0,v["abstract"])()};d.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};d.prototype.getSimplifiedGeometry=
function(a){return(0,v["abstract"])()};d.prototype.getType=function(){return(0,v["abstract"])()};d.prototype.applyTransform=function(a){(0,v["abstract"])()};d.prototype.intersectsExtent=function(a){return(0,v["abstract"])()};d.prototype.translate=function(a,f){(0,v["abstract"])()};d.prototype.transform=function(a,f){var l=(0,n.get)(a);a=l.getUnits()==C["default"].TILE_PIXELS?function(t,q,B){var E=l.getExtent(),z=l.getWorldExtent();E=(0,u.getHeight)(z)/(0,u.getHeight)(E);(0,w.compose)(e,z[0],z[3],
E,-E,0,0,0);(0,h.transform2D)(t,0,t.length,B,e,q);return(0,n.getTransform)(l,f)(t,q,B)}:(0,n.getTransform)(l,f);this.applyTransform(a);return this};return d}(S["default"]);r["default"]=m};
shadow$provide[141]=function(S,m,Y,r){function D(h){return h&&h.__esModule?h:{"default":h}}function C(h){var c;h==v["default"].XY?c=2:h==v["default"].XYZ||h==v["default"].XYM?c=3:h==v["default"].XYZM&&(c=4);return c}Object.defineProperty(r,"__esModule",{value:!0});r.getStrideForLayout=C;r.transformGeom2D=function(h,c,e){var b=h.getFlatCoordinates();return b?(h=h.getStride(),(0,n.transform2D)(b,0,b.length,h,c,e)):null};r["default"]=void 0;S=D(m(140));var v=D(m(138)),w=m(77),u=m(83),n=m(139),k=function(){var h=
function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=c}h(c,e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();m=function(h){function c(){var e=h.call(this)||this;e.layout=v["default"].XY;e.stride=2;e.flatCoordinates=null;return e}k(c,h);c.prototype.computeExtent=function(e){return(0,
u.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};c.prototype.getCoordinates=function(){return(0,w["abstract"])()};c.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};c.prototype.getFlatCoordinates=function(){return this.flatCoordinates};c.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};c.prototype.getLayout=function(){return this.layout};
c.prototype.getSimplifiedGeometry=function(e){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var b=this.getSimplifiedGeometryInternal(e);if(b.getFlatCoordinates().length<this.flatCoordinates.length)return b;this.simplifiedGeometryMaxMinSquaredTolerance=e;return this};c.prototype.getSimplifiedGeometryInternal=
function(e){return this};c.prototype.getStride=function(){return this.stride};c.prototype.setFlatCoordinates=function(e,b){this.stride=C(e);this.layout=e;this.flatCoordinates=b};c.prototype.setCoordinates=function(e,b){(0,w["abstract"])()};c.prototype.setLayout=function(e,b,d){if(e)b=C(e);else{for(e=0;e<d;++e){if(0===b.length){this.layout=v["default"].XY;this.stride=2;return}b=b[0]}b=b.length;if(2==b)var a=v["default"].XY;else 3==b?a=v["default"].XYZ:4==b&&(a=v["default"].XYZM);e=a}this.layout=e;
this.stride=b};c.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};c.prototype.rotate=function(e,b){var d=this.getFlatCoordinates();if(d){var a=this.getStride();(0,n.rotate)(d,0,d.length,a,e,b,d);this.changed()}};c.prototype.scale=function(e,b,d){void 0===b&&(b=e);d||(d=(0,u.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var f=this.getStride();(0,n.scale)(a,0,a.length,f,e,b,d,a);this.changed()}};
c.prototype.translate=function(e,b){var d=this.getFlatCoordinates();if(d){var a=this.getStride();(0,n.translate)(d,0,d.length,a,e,b,d);this.changed()}};return c}(S["default"]);r["default"]=m};
shadow$provide[142]=function(S,m,Y,r){function D(k,h,c,e,b,d,a){var f=k[h],l=k[h+1],t=k[c]-f,q=k[c+1]-l;if(0!==t||0!==q)if(d=((b-f)*t+(d-l)*q)/(t*t+q*q),1<d)h=c;else if(0<d){for(b=0;b<e;++b)a[b]=(0,n.lerp)(k[h+b],k[c+b],d);a.length=e;return}for(b=0;b<e;++b)a[b]=k[h+b];a.length=e}function C(k,h,c,e,b){var d=k[h],a=k[h+1];for(h+=e;h<c;h+=e){var f=k[h],l=k[h+1];d=(0,n.squaredDistance)(d,a,f,l);d>b&&(b=d);d=f;a=l}return b}function v(k,h,c,e,b){for(var d=0,a=c.length;d<a;++d){var f=c[d];b=C(k,h,f,e,b);
h=f}return b}function w(k,h,c,e,b,d,a,f,l,t,q){if(h==c)return t;if(0===b){var B=(0,n.squaredDistance)(a,f,k[h],k[h+1]);if(B<t){for(q=0;q<e;++q)l[q]=k[h+q];l.length=e;return B}return t}for(var E=q?q:[NaN,NaN],z=h+e;z<c;)if(D(k,z-e,z,e,a,f,E),B=(0,n.squaredDistance)(a,f,E[0],E[1]),B<t){t=B;for(q=0;q<e;++q)l[q]=E[q];l.length=e;z+=e}else z+=e*Math.max((Math.sqrt(B)-Math.sqrt(t))/b|0,1);if(d&&(D(k,c-e,h,e,a,f,E),B=(0,n.squaredDistance)(a,f,E[0],E[1]),B<t)){t=B;for(q=0;q<e;++q)l[q]=E[q];l.length=e}return t}
function u(k,h,c,e,b,d,a,f,l,t,q){q=q?q:[NaN,NaN];for(var B=0,E=c.length;B<E;++B){var z=c[B];t=w(k,h,z,e,b,d,a,f,l,t,q);h=z}return t}Object.defineProperty(r,"__esModule",{value:!0});r.maxSquaredDelta=C;r.arrayMaxSquaredDelta=v;r.multiArrayMaxSquaredDelta=function(k,h,c,e,b){for(var d=0,a=c.length;d<a;++d){var f=c[d];b=v(k,h,f,e,b);h=f[f.length-1]}return b};r.assignClosestPoint=w;r.assignClosestArrayPoint=u;r.assignClosestMultiArrayPoint=function(k,h,c,e,b,d,a,f,l,t,q){q=q?q:[NaN,NaN];for(var B=0,
E=c.length;B<E;++B){var z=c[B];t=u(k,h,z,e,b,d,a,f,l,t,q);h=z[z.length-1]}return t};var n=m(84)};
shadow$provide[143]=function(S,m,Y,r){function D(v,w,u,n){for(var k=0,h=u.length;k<h;++k)for(var c=u[k],e=0;e<n;++e)v[w++]=c[e];return w}function C(v,w,u,n,k){k=k?k:[];for(var h=0,c=0,e=u.length;c<e;++c)w=D(v,w,u[c],n),k[h++]=w;k.length=h;return k}Object.defineProperty(r,"__esModule",{value:!0});r.deflateCoordinate=function(v,w,u,n){n=0;for(var k=u.length;n<k;++n)v[w++]=u[n];return w};r.deflateCoordinates=D;r.deflateCoordinatesArray=C;r.deflateMultiCoordinatesArray=function(v,w,u,n,k){k=k?k:[];for(var h=
0,c=0,e=u.length;c<e;++c)w=C(v,w,u[c],n,k[h]),k[h++]=w,w=w[w.length-1];k.length=h;return k}};
shadow$provide[144]=function(S,m,Y,r){function D(h,c,e,b,d,a,f){var l=(e-c)/b;if(3>l){for(;c<e;c+=b)a[f++]=h[c],a[f++]=h[c+1];return f}var t=Array(l);t[0]=1;t[l-1]=1;e=[c,e-b];for(var q=0;0<e.length;){for(var B=e.pop(),E=e.pop(),z=0,A=h[E],p=h[E+1],y=h[B],F=h[B+1],J=E+b;J<B;J+=b){var H=h[J],P=h[J+1];H=(0,k.squaredSegmentDistance)(H,P,A,p,y,F);H>z&&(q=J,z=H)}z>d&&(t[(q-c)/b]=1,E+b<q&&e.push(E,q),q+b<B&&e.push(q,B))}for(J=0;J<l;++J)t[J]&&(a[f++]=h[c+J*b],a[f++]=h[c+J*b+1]);return f}function C(h,c,e,
b,d,a,f,l){for(var t=0,q=e.length;t<q;++t){var B=e[t];f=D(h,c,B,b,d,a,f);l.push(f);c=B}return f}function v(h,c,e,b,d,a,f){if(e<=c+b){for(;c<e;c+=b)a[f++]=h[c],a[f++]=h[c+1];return f}var l=h[c],t=h[c+1];a[f++]=l;a[f++]=t;var q=l,B=t;for(c+=b;c<e;c+=b)q=h[c],B=h[c+1],(0,k.squaredDistance)(l,t,q,B)>d&&(a[f++]=q,a[f++]=B,l=q,t=B);if(q!=l||B!=t)a[f++]=q,a[f++]=B;return f}function w(h,c){return c*Math.round(h/c)}function u(h,c,e,b,d,a,f){if(c==e)return f;var l=w(h[c],d),t=w(h[c+1],d);c+=b;a[f++]=l;a[f++]=
t;do{var q=w(h[c],d);var B=w(h[c+1],d);c+=b;if(c==e)return a[f++]=q,a[f++]=B,f}while(q==l&&B==t);for(;c<e;){var E=w(h[c],d),z=w(h[c+1],d);c+=b;if(E!=q||z!=B){var A=q-l,p=B-t,y=E-l,F=z-t;A*F==p*y&&(0>A&&y<A||A==y||0<A&&y>A)&&(0>p&&F<p||p==F||0<p&&F>p)||(a[f++]=q,a[f++]=B,l=q,t=B);q=E;B=z}}a[f++]=q;a[f++]=B;return f}function n(h,c,e,b,d,a,f,l){for(var t=0,q=e.length;t<q;++t){var B=e[t];f=u(h,c,B,b,d,a,f);l.push(f);c=B}return f}Object.defineProperty(r,"__esModule",{value:!0});r.simplifyLineString=function(h,
c,e,b,d,a,f){f=void 0!==f?f:[];a||(e=v(h,c,e,b,d,f,0),h=f,c=0,b=2);f.length=D(h,c,e,b,d,f,0);return f};r.douglasPeucker=D;r.douglasPeuckerArray=C;r.douglasPeuckerMultiArray=function(h,c,e,b,d,a,f,l){for(var t=0,q=e.length;t<q;++t){var B=e[t],E=[];f=C(h,c,B,b,d,a,f,E);l.push(E);c=B[B.length-1]}return f};r.radialDistance=v;r.snap=w;r.quantize=u;r.quantizeArray=n;r.quantizeMultiArray=function(h,c,e,b,d,a,f,l){for(var t=0,q=e.length;t<q;++t){var B=e[t],E=[];f=n(h,c,B,b,d,a,f,E);l.push(E);c=B[B.length-
1]}return f};var k=m(84)};
shadow$provide[145]=function(S,m,Y,r){function D(v,w,u,n,k){k=void 0!==k?k:[];for(var h=0;w<u;w+=n)k[h++]=v.slice(w,w+n);k.length=h;return k}function C(v,w,u,n,k){k=void 0!==k?k:[];for(var h=0,c=0,e=u.length;c<e;++c){var b=u[c];k[h++]=D(v,w,b,n,k[h]);w=b}k.length=h;return k}Object.defineProperty(r,"__esModule",{value:!0});r.inflateCoordinates=D;r.inflateCoordinatesArray=C;r.inflateMultiCoordinatesArray=function(v,w,u,n,k){k=void 0!==k?k:[];for(var h=0,c=0,e=u.length;c<e;++c){var b=u[c];k[h++]=C(v,
w,b,n,k[h]);w=b[b.length-1]}k.length=h;return k}};
shadow$provide[146]=function(S,m,Y,r){function D(v,w,u,n){for(var k=0,h=v[u-n],c=v[u-n+1];w<u;w+=n){var e=v[w],b=v[w+1];k+=c*e-h*b;h=e;c=b}return k/2}function C(v,w,u,n){for(var k=0,h=0,c=u.length;h<c;++h){var e=u[h];k+=D(v,w,e,n);w=e}return k}Object.defineProperty(r,"__esModule",{value:!0});r.linearRing=D;r.linearRings=C;r.linearRingss=function(v,w,u,n){for(var k=0,h=0,c=u.length;h<c;++h){var e=u[h];k+=C(v,w,e,n);w=e[e.length-1]}return k}};
shadow$provide[147]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(138)),v=D(m(122));S=D(m(141));var w=m(142),u=m(83),n=m(143),k=m(144),h=m(145),c=m(146),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a,f){var l=b.call(this)||this;l.maxDelta_=-1;l.maxDeltaRevision_=-1;void 0===f||Array.isArray(a[0])?l.setCoordinates(a,f):l.setFlatCoordinates(f,a);return l}e(d,b);d.prototype.clone=function(){return new d(this.flatCoordinates.slice(),this.layout)};d.prototype.closestPointXY=function(a,f,l,t){if(t<(0,u.closestSquaredDistanceXY)(this.getExtent(),a,f))return t;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,w.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,w.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,f,l,t)};d.prototype.getArea=function(){return(0,c.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getCoordinates=function(){return(0,h.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};d.prototype.getSimplifiedGeometryInternal=function(a){var f=[];f.length=(0,k.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,f,0);return new d(f,C["default"].XY)};d.prototype.getType=function(){return v["default"].LINEAR_RING};d.prototype.intersectsExtent=function(a){return!1};d.prototype.setCoordinates=function(a,f){this.setLayout(f,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,
0,a,this.stride);this.changed()};return d}(S["default"]);r["default"]=m};
shadow$provide[148]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(122));S=D(m(141));var v=m(83),w=m(143),u=m(84),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=
null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c,e){var b=k.call(this)||this;b.setCoordinates(c,e);return b}n(h,k);h.prototype.clone=function(){var c=new h(this.flatCoordinates.slice(),this.layout);c.applyProperties(this);return c};h.prototype.closestPointXY=function(c,e,b,d){var a=this.flatCoordinates;c=(0,u.squaredDistance)(c,e,a[0],a[1]);if(c<d){d=this.stride;for(e=0;e<d;++e)b[e]=a[e];b.length=d;return c}return d};h.prototype.getCoordinates=function(){return this.flatCoordinates?
this.flatCoordinates.slice():[]};h.prototype.computeExtent=function(c){return(0,v.createOrUpdateFromCoordinate)(this.flatCoordinates,c)};h.prototype.getType=function(){return C["default"].POINT};h.prototype.intersectsExtent=function(c){return(0,v.containsXY)(c,this.flatCoordinates[0],this.flatCoordinates[1])};h.prototype.setCoordinates=function(c,e){this.setLayout(e,c,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,w.deflateCoordinate)(this.flatCoordinates,0,c,this.stride);
this.changed()};return h}(S["default"]);r["default"]=m};
shadow$provide[149]=function(S,m,Y,r){function D(w,u,n,k,h,c){for(var e=0,b=w[n-k],d=w[n-k+1];u<n;u+=k){var a=w[u],f=w[u+1];d<=c?f>c&&0<(a-b)*(c-d)-(h-b)*(f-d)&&e++:f<=c&&0>(a-b)*(c-d)-(h-b)*(f-d)&&e--;b=a;d=f}return 0!==e}function C(w,u,n,k,h,c){if(0===n.length||!D(w,u,n[0],k,h,c))return!1;u=1;for(var e=n.length;u<e;++u)if(D(w,n[u-1],n[u],k,h,c))return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0});r.linearRingContainsExtent=function(w,u,n,k,h){return!(0,v.forEachCorner)(h,function(c){return!D(w,
u,n,k,c[0],c[1])})};r.linearRingContainsXY=D;r.linearRingsContainsXY=C;r.linearRingssContainsXY=function(w,u,n,k,h,c){if(0===n.length)return!1;for(var e=0,b=n.length;e<b;++e){var d=n[e];if(C(w,u,d,k,h,c))return!0;u=d[d.length-1]}return!1};var v=m(83)};
shadow$provide[150]=function(S,m,Y,r){function D(w,u,n,k,h,c,e){for(var b,d,a,f,l,t=h[c+1],q=[],B=0,E=n.length;B<E;++B){var z=n[B];a=w[z-k];l=w[z-k+1];for(b=u;b<z;b+=k){f=w[b];d=w[b+1];if(t<=l&&d<=t||l<=t&&t<=d)a=(t-l)/(d-l)*(f-a)+a,q.push(a);a=f;l=d}}B=NaN;E=-Infinity;q.sort(v.numberSafeCompareFunction);a=q[0];b=1;for(d=q.length;b<d;++b)f=q[b],z=Math.abs(f-a),z>E&&(a=(a+f)/2,(0,C.linearRingsContainsXY)(w,u,n,k,a,t)&&(B=a,E=z)),a=f;isNaN(B)&&(B=h[c]);return e?(e.push(B,t,E),e):[B,t,E]}Object.defineProperty(r,
"__esModule",{value:!0});r.getInteriorPointOfArray=D;r.getInteriorPointsOfMultiArray=function(w,u,n,k,h){for(var c=[],e=0,b=n.length;e<b;++e){var d=n[e];c=D(w,u,d,k,h,2*e,c);u=d[d.length-1]}return c};var C=m(149),v=m(75)};
shadow$provide[151]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.forEach=function(D,C,v,w,u){for(var n=[D[C],D[C+1]],k=[],h;C+w<v;C+=w){k[0]=D[C+w];k[1]=D[C+w+1];if(h=u(n,k))return h;n[0]=k[0];n[1]=k[1]}return!1}};
shadow$provide[152]=function(S,m,Y,r){function D(k,h,c,e,b){var d=(0,w.extendFlatCoordinates)((0,w.createEmpty)(),k,h,c,e);return(0,w.intersects)(b,d)?(0,w.containsExtent)(b,d)||d[0]>=b[0]&&d[2]<=b[2]||d[1]>=b[1]&&d[3]<=b[3]?!0:(0,u.forEach)(k,h,c,e,function(a,f){return(0,w.intersectsSegment)(b,a,f)}):!1}function C(k,h,c,e,b){return D(k,h,c,e,b)||(0,n.linearRingContainsXY)(k,h,c,e,b[0],b[1])||(0,n.linearRingContainsXY)(k,h,c,e,b[0],b[3])||(0,n.linearRingContainsXY)(k,h,c,e,b[2],b[1])||(0,n.linearRingContainsXY)(k,
h,c,e,b[2],b[3])?!0:!1}function v(k,h,c,e,b){if(!C(k,h,c[0],e,b))return!1;if(1===c.length)return!0;h=1;for(var d=c.length;h<d;++h)if((0,n.linearRingContainsExtent)(k,c[h-1],c[h],e,b)&&!D(k,c[h-1],c[h],e,b))return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0});r.intersectsLineString=D;r.intersectsLineStringArray=function(k,h,c,e,b){for(var d=0,a=c.length;d<a;++d){if(D(k,h,c[d],e,b))return!0;h=c[d]}return!1};r.intersectsLinearRing=C;r.intersectsLinearRingArray=v;r.intersectsLinearRingMultiArray=
function(k,h,c,e,b){for(var d=0,a=c.length;d<a;++d){var f=c[d];if(v(k,h,f,e,b))return!0;h=f[f.length-1]}return!1};var w=m(83),u=m(151),n=m(149)};
shadow$provide[153]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.coordinates=function(D,C,v,w){for(;C<v-w;){for(var u=0;u<w;++u){var n=D[C+u];D[C+u]=D[v-w+u];D[v-w+u]=n}C+=w;v-=w}}};
shadow$provide[154]=function(S,m,Y,r){function D(u,n,k,h){for(var c=0,e=u[k-h],b=u[k-h+1];n<k;n+=h){var d=u[n],a=u[n+1];c+=(d-e)*(a+b);e=d;b=a}return 0===c?void 0:0<c}function C(u,n,k,h,c){c=void 0!==c?c:!1;for(var e=0,b=k.length;e<b;++e){var d=k[e];n=D(u,n,d,h);if(0===e){if(c&&n||!c&&!n)return!1}else if(c&&!n||!c&&n)return!1;n=d}return!0}function v(u,n,k,h,c){c=void 0!==c?c:!1;for(var e=0,b=k.length;e<b;++e){var d=k[e],a=D(u,n,d,h);(0===e?c&&a||!c&&!a:c&&!a||!c&&a)&&(0,w.coordinates)(u,n,d,h);n=
d}return n}Object.defineProperty(r,"__esModule",{value:!0});r.linearRingIsClockwise=D;r.linearRingsAreOriented=C;r.linearRingssAreOriented=function(u,n,k,h,c){for(var e=0,b=k.length;e<b;++e){var d=k[e];if(!C(u,n,d,h,c))return!1;d.length&&(n=d[d.length-1])}return!0};r.orientLinearRings=v;r.orientLinearRingsArray=function(u,n,k,h,c){for(var e=0,b=k.length;e<b;++e)n=v(u,n,k[e],h,c);return n};var w=m(153)};
shadow$provide[155]=function(S,m,Y,r){function D(p){return p&&p.__esModule?p:{"default":p}}function C(p,y,F,J){var H=p.getFlatCoordinates(),P=p.getStride(),K=H.length/P-1;J=J?J:0;for(var N=0;N<=K;++N){var M=N*P,O=J+2*(0,q.modulo)(N,K)*Math.PI/K;H[M]=y[0]+F*Math.cos(O);H[M+1]=y[1]+F*Math.sin(O)}p.changed()}Object.defineProperty(r,"__esModule",{value:!0});r.circular=function(p,y,F,J){F=F?F:32;for(var H=[],P=0;P<F;++P)(0,e.extend)(H,(0,E.offset)(p,y,2*Math.PI*P/F,J));H.push(H[0],H[1]);return new A(H,
v["default"].XY,[H.length])};r.fromExtent=function(p){var y=p[0],F=p[1],J=p[2];p=p[3];y=[y,F,y,p,J,p,J,F,y,F];return new A(y,v["default"].XY,[y.length])};r.fromCircle=function(p,y,F){var J=y?y:32,H=p.getStride(),P=p.getLayout();y=p.getCenter();J=H*(J+1);for(var K=Array(J),N=0;N<J;N+=H){K[N]=0;K[N+1]=0;for(var M=2;M<H;M++)K[N+M]=y[M]}H=new A(K,P,[K.length]);C(H,y,p.getRadius(),F);return H};r.makeRegular=C;r["default"]=void 0;var v=D(m(138)),w=D(m(122)),u=D(m(147)),n=D(m(148));S=D(m(141));var k=m(142),
h=m(83),c=m(143),e=m(75),b=m(150),d=m(145),a=m(152),f=m(154),l=m(146),t=m(149),q=m(84),B=m(144),E=m(132),z=function(){var p=function(y,F){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,H){J.__proto__=H}||function(J,H){for(var P in H)Object.prototype.hasOwnProperty.call(H,P)&&(J[P]=H[P])};return p(y,F)};return function(y,F){function J(){this.constructor=y}p(y,F);y.prototype=null===F?Object.create(F):(J.prototype=F.prototype,new J)}}(),A=function(p){function y(F,J,H){var P=p.call(this)||
this;P.ends_=[];P.flatInteriorPointRevision_=-1;P.flatInteriorPoint_=null;P.maxDelta_=-1;P.maxDeltaRevision_=-1;P.orientedRevision_=-1;P.orientedFlatCoordinates_=null;void 0!==J&&H?(P.setFlatCoordinates(J,F),P.ends_=H):P.setCoordinates(F,J);return P}z(y,p);y.prototype.appendLinearRing=function(F){this.flatCoordinates?(0,e.extend)(this.flatCoordinates,F.getFlatCoordinates()):this.flatCoordinates=F.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};y.prototype.clone=
function(){var F=new y(this.flatCoordinates.slice(),this.layout,this.ends_.slice());F.applyProperties(this);return F};y.prototype.closestPointXY=function(F,J,H,P){if(P<(0,h.closestSquaredDistanceXY)(this.getExtent(),F,J))return P;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,k.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,k.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,
this.maxDelta_,!0,F,J,H,P)};y.prototype.containsXY=function(F,J){return(0,t.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,F,J)};y.prototype.getArea=function(){return(0,l.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};y.prototype.getCoordinates=function(F){if(void 0!==F){var J=this.getOrientedFlatCoordinates().slice();(0,f.orientLinearRings)(J,0,this.ends_,this.stride,F)}else J=this.flatCoordinates;return(0,d.inflateCoordinatesArray)(J,
0,this.ends_,this.stride)};y.prototype.getEnds=function(){return this.ends_};y.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var F=(0,h.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,b.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,F,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};y.prototype.getInteriorPoint=function(){return new n["default"](this.getFlatInteriorPoint(),
v["default"].XYM)};y.prototype.getLinearRingCount=function(){return this.ends_.length};y.prototype.getLinearRing=function(F){return 0>F||this.ends_.length<=F?null:new u["default"](this.flatCoordinates.slice(0===F?0:this.ends_[F-1],this.ends_[F]),this.layout)};y.prototype.getLinearRings=function(){for(var F=this.layout,J=this.flatCoordinates,H=this.ends_,P=[],K=0,N=0,M=H.length;N<M;++N){var O=H[N];K=new u["default"](J.slice(K,O),F);P.push(K);K=O}return P};y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=
this.getRevision()){var F=this.flatCoordinates;(0,f.linearRingsAreOriented)(F,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=F:(this.orientedFlatCoordinates_=F.slice(),this.orientedFlatCoordinates_.length=(0,f.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};y.prototype.getSimplifiedGeometryInternal=function(F){var J=[],H=[];J.length=(0,B.quantizeArray)(this.flatCoordinates,0,this.ends_,
this.stride,Math.sqrt(F),J,0,H);return new y(J,v["default"].XY,H)};y.prototype.getType=function(){return w["default"].POLYGON};y.prototype.intersectsExtent=function(F){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,F)};y.prototype.setCoordinates=function(F,J){this.setLayout(J,F,2);this.flatCoordinates||(this.flatCoordinates=[]);F=(0,c.deflateCoordinatesArray)(this.flatCoordinates,0,F,this.stride,this.ends_);this.flatCoordinates.length=0===F.length?
0:F[F.length-1];this.changed()};return y}(S["default"]);r["default"]=A};
shadow$provide[156]=function(S,m,Y,r){function D(K){return K&&K.__esModule?K:{"default":K}}function C(K,N){setTimeout(function(){K(N)},0)}function v(K){if(void 0!==K.extent){var N=void 0!==K.smoothExtentConstraint?K.smoothExtentConstraint:!0;return(0,B.createExtent)(K.extent,K.constrainOnlyCenter,N)}N=(0,a.createProjection)(K.projection,"EPSG:3857");return!0!==K.multiWorld&&N.isGlobal()?(K=N.getExtent().slice(),K[0]=-Infinity,K[2]=Infinity,(0,B.createExtent)(K,!1,!1)):B.none}function w(K){var N=void 0!==
K.minZoom?K.minZoom:P,M=void 0!==K.maxZoom?K.maxZoom:28,O=void 0!==K.zoomFactor?K.zoomFactor:2;var Q=void 0!==K.multiWorld?K.multiWorld:!1;var G=void 0!==K.smoothResolutionConstraint?K.smoothResolutionConstraint:!0,L=void 0!==K.showFullExtent?K.showFullExtent:!1;var T=(0,a.createProjection)(K.projection,"EPSG:3857");var V=T.getExtent(),X=K.constrainOnlyCenter,aa=K.extent;Q||aa||!T.isGlobal()||(X=!1,aa=V);if(void 0!==K.resolutions)V=K.resolutions,Q=V[N],T=void 0!==V[M]?V[M]:V[V.length-1],K=K.constrainResolution?
(0,z.createSnapToResolutions)(V,G,!X&&aa,L):(0,z.createMinMaxResolution)(Q,T,G,!X&&aa,L);else{V=(V?Math.max((0,y.getWidth)(V),(0,y.getHeight)(V)):360*a.METERS_PER_UNIT[c["default"].DEGREES]/T.getMetersPerUnit())/d.DEFAULT_TILE_SIZE/Math.pow(2,P);var ba=V/Math.pow(2,28-P);Q=K.maxResolution;void 0!==Q?N=0:Q=V/Math.pow(O,N);T=K.minResolution;void 0===T&&(T=void 0!==K.maxZoom?void 0!==K.maxResolution?Q/Math.pow(O,M):V/Math.pow(O,M):ba);M=N+Math.floor(Math.log(Q/T)/Math.log(O));T=Q/Math.pow(O,M-N);K=K.constrainResolution?
(0,z.createSnapToPower)(O,Q,T,G,!X&&aa,L):(0,z.createMinMaxResolution)(Q,T,G,!X&&aa,L)}return{constraint:K,maxResolution:Q,minResolution:T,minZoom:N,zoomFactor:O}}function u(K){return(void 0!==K.enableRotation?K.enableRotation:1)?(K=K.constrainRotation,void 0===K||!0===K?(0,A.createSnapToZero)():!1===K?A.none:"number"===typeof K?(0,A.createSnapToN)(K):A.none):A.disable}function n(K){return K.sourceCenter&&K.targetCenter&&!(0,l.equals)(K.sourceCenter,K.targetCenter)||K.sourceResolution!==K.targetResolution||
K.sourceRotation!==K.targetRotation?!1:!0}function k(K,N,M,O,Q){var G=Math.cos(-Q);Q=Math.sin(-Q);var L=K[0]*G-K[1]*Q;K=K[1]*G+K[0]*Q;L+=(N[0]/2-M[0])*O;K+=(M[1]-N[1]/2)*O;Q=-Q;return[L*G-K*Q,K*G+L*Q]}Object.defineProperty(r,"__esModule",{value:!0});r.createCenterConstraint=v;r.createResolutionConstraint=w;r.createRotationConstraint=u;r.isNoopAnimation=n;r["default"]=void 0;S=D(m(94));var h=D(m(122)),c=D(m(123)),e=D(m(124)),b=D(m(125)),d=m(126),a=m(133),f=m(76),l=m(101),t=m(79),q=m(89),B=m(134),E=
m(84),z=m(135),A=m(136),p=m(137),y=m(83),F=m(75),J=m(155),H=function(){var K=function(N,M){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,Q){O.__proto__=Q}||function(O,Q){for(var G in Q)Object.prototype.hasOwnProperty.call(Q,G)&&(O[G]=Q[G])};return K(N,M)};return function(N,M){function O(){this.constructor=N}K(N,M);N.prototype=null===M?Object.create(M):(O.prototype=M.prototype,new O)}}(),P=0;m=function(K){function N(M){var O=K.call(this)||this;M=(0,q.assign)({},M);O.hints_=[0,
0];O.animations_=[];O.projection_=(0,a.createProjection)(M.projection,"EPSG:3857");O.viewportSize_=[100,100];O.targetCenter_=null;O.cancelAnchor_=void 0;M.center&&(M.center=(0,a.fromUserCoordinate)(M.center,O.projection_));M.extent&&(M.extent=(0,a.fromUserExtent)(M.extent,O.projection_));O.applyOptions_(M);return O}H(N,K);N.prototype.applyOptions_=function(M){var O=w(M);this.maxResolution_=O.maxResolution;this.minResolution_=O.minResolution;this.zoomFactor_=O.zoomFactor;this.resolutions_=M.resolutions;
this.padding=M.padding;this.minZoom_=O.minZoom;var Q=v(M);O=O.constraint;var G=u(M);this.constraints_={center:Q,resolution:O,rotation:G};this.setRotation(void 0!==M.rotation?M.rotation:0);this.setCenterInternal(void 0!==M.center?M.center:null);void 0!==M.resolution?this.setResolution(M.resolution):void 0!==M.zoom&&this.setZoom(M.zoom);this.setProperties({});this.options_=M};N.prototype.getUpdatedOptions_=function(M){var O=(0,q.assign)({},this.options_);void 0!==O.resolution?O.resolution=this.getResolution():
O.zoom=this.getZoom();O.center=this.getCenterInternal();O.rotation=this.getRotation();return(0,q.assign)({},O,M)};N.prototype.animate=function(M){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var O=Array(arguments.length),Q=0;Q<O.length;++Q){var G=arguments[Q];G.center&&(G=(0,q.assign)({},G),G.center=(0,a.fromUserCoordinate)(G.center,this.getProjection()));G.anchor&&(G=(0,q.assign)({},G),G.anchor=(0,a.fromUserCoordinate)(G.anchor,this.getProjection()));O[Q]=G}this.animateInternal.apply(this,
O)};N.prototype.animateInternal=function(M){var O=arguments.length;if(1<O&&"function"===typeof arguments[O-1]){var Q=arguments[O-1];--O}if(this.isDef()){for(var G=Date.now(),L=this.targetCenter_.slice(),T=this.targetResolution_,V=this.targetRotation_,X=[],aa=0;aa<O;++aa){var ba=arguments[aa],fa={start:G,complete:!1,anchor:ba.anchor,duration:void 0!==ba.duration?ba.duration:1E3,easing:ba.easing||p.inAndOut,callback:Q};ba.center&&(fa.sourceCenter=L,fa.targetCenter=ba.center.slice(),L=fa.targetCenter);
void 0!==ba.zoom?(fa.sourceResolution=T,fa.targetResolution=this.getResolutionForZoom(ba.zoom),T=fa.targetResolution):ba.resolution&&(fa.sourceResolution=T,fa.targetResolution=ba.resolution,T=fa.targetResolution);void 0!==ba.rotation&&(fa.sourceRotation=V,ba=(0,E.modulo)(ba.rotation-V+Math.PI,2*Math.PI)-Math.PI,fa.targetRotation=V+ba,V=fa.targetRotation);n(fa)?fa.complete=!0:G+=fa.duration;X.push(fa)}this.animations_.push(X);this.setHint(e["default"].ANIMATING,1);this.updateAnimations_()}else O=arguments[O-
1],O.center&&this.setCenterInternal(O.center),void 0!==O.zoom&&this.setZoom(O.zoom),void 0!==O.rotation&&this.setRotation(O.rotation),Q&&C(Q,!0)};N.prototype.getAnimating=function(){return 0<this.hints_[e["default"].ANIMATING]};N.prototype.getInteracting=function(){return 0<this.hints_[e["default"].INTERACTING]};N.prototype.cancelAnimations=function(){this.setHint(e["default"].ANIMATING,-this.hints_[e["default"].ANIMATING]);for(var M,O=0,Q=this.animations_.length;O<Q;++O){var G=this.animations_[O];
G[0].callback&&C(G[0].callback,!1);if(!M)for(var L=0,T=G.length;L<T;++L){var V=G[L];if(!V.complete){M=V.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=M};N.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var M=Date.now(),O=!1,Q=this.animations_.length-1;0<=Q;--Q){for(var G=this.animations_[Q],L=!0,T=0,V=G.length;T<V;++T){var X=G[T];if(!X.complete){O=M-
X.start;O=0<X.duration?O/X.duration:1;1<=O?(X.complete=!0,O=1):L=!1;O=X.easing(O);if(X.sourceCenter){var aa=X.sourceCenter[0],ba=X.sourceCenter[1];this.targetCenter_=[aa+O*(X.targetCenter[0]-aa),ba+O*(X.targetCenter[1]-ba)]}X.sourceResolution&&X.targetResolution&&(aa=1===O?X.targetResolution:X.sourceResolution+O*(X.targetResolution-X.sourceResolution),X.anchor&&(ba=this.getViewportSize_(this.getRotation()),ba=this.constraints_.resolution(aa,0,ba,!0),this.targetCenter_=this.calculateCenterZoom(ba,
X.anchor)),this.targetResolution_=aa,this.applyTargetState_(!0));void 0!==X.sourceRotation&&void 0!==X.targetRotation&&(O=1===O?(0,E.modulo)(X.targetRotation+Math.PI,2*Math.PI)-Math.PI:X.sourceRotation+O*(X.targetRotation-X.sourceRotation),X.anchor&&(aa=this.constraints_.rotation(O,!0),this.targetCenter_=this.calculateCenterRotate(aa,X.anchor)),this.targetRotation_=O);this.applyTargetState_(!0);O=!0;if(!X.complete)break}}L&&(this.animations_[Q]=null,this.setHint(e["default"].ANIMATING,-1),(G=G[0].callback)&&
C(G,!0))}this.animations_=this.animations_.filter(Boolean);O&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};N.prototype.calculateCenterRotate=function(M,O){var Q=this.getCenterInternal();if(void 0!==Q){var G=[Q[0]-O[0],Q[1]-O[1]];(0,l.rotate)(G,M-this.getRotation());(0,l.add)(G,O)}return G};N.prototype.calculateCenterZoom=function(M,O){var Q,G=this.getCenterInternal(),L=this.getResolution();void 0!==G&&void 0!==L&&(Q=[O[0]-
M*(O[0]-G[0])/L,O[1]-M*(O[1]-G[1])/L]);return Q};N.prototype.getViewportSize_=function(M){var O=this.viewportSize_;if(M){var Q=O[0];O=O[1];return[Math.abs(Q*Math.cos(M))+Math.abs(O*Math.sin(M)),Math.abs(Q*Math.sin(M))+Math.abs(O*Math.cos(M))]}return O};N.prototype.setViewportSize=function(M){this.viewportSize_=Array.isArray(M)?M.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};N.prototype.getCenter=function(){var M=this.getCenterInternal();return M?(0,a.toUserCoordinate)(M,this.getProjection()):
M};N.prototype.getCenterInternal=function(){return this.get(b["default"].CENTER)};N.prototype.getConstraints=function(){return this.constraints_};N.prototype.getConstrainResolution=function(){return this.options_.constrainResolution};N.prototype.getHints=function(M){return void 0!==M?(M[0]=this.hints_[0],M[1]=this.hints_[1],M):this.hints_.slice()};N.prototype.calculateExtent=function(M){M=this.calculateExtentInternal(M);return(0,a.toUserExtent)(M,this.getProjection())};N.prototype.calculateExtentInternal=
function(M){M=M||this.getViewportSize_();var O=this.getCenterInternal();(0,t.assert)(O,1);var Q=this.getResolution();(0,t.assert)(void 0!==Q,2);var G=this.getRotation();(0,t.assert)(void 0!==G,3);return(0,y.getForViewAndSize)(O,Q,G,M)};N.prototype.getMaxResolution=function(){return this.maxResolution_};N.prototype.getMinResolution=function(){return this.minResolution_};N.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};N.prototype.setMaxZoom=function(M){this.applyOptions_(this.getUpdatedOptions_({maxZoom:M}))};
N.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};N.prototype.setMinZoom=function(M){this.applyOptions_(this.getUpdatedOptions_({minZoom:M}))};N.prototype.setConstrainResolution=function(M){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:M}))};N.prototype.getProjection=function(){return this.projection_};N.prototype.getResolution=function(){return this.get(b["default"].RESOLUTION)};N.prototype.getResolutions=function(){return this.resolutions_};
N.prototype.getResolutionForExtent=function(M,O){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(M,this.getProjection()),O)};N.prototype.getResolutionForExtentInternal=function(M,O){var Q=O||this.getViewportSize_();O=(0,y.getWidth)(M)/Q[0];M=(0,y.getHeight)(M)/Q[1];return Math.max(O,M)};N.prototype.getResolutionForValueFunction=function(M){var O=M||2,Q=this.getConstrainedResolution(this.maxResolution_),G=Math.log(Q/this.minResolution_)/Math.log(O);return function(L){return Q/Math.pow(O,
L*G)}};N.prototype.getRotation=function(){return this.get(b["default"].ROTATION)};N.prototype.getValueForResolutionFunction=function(M){var O=Math.log(M||2),Q=this.getConstrainedResolution(this.maxResolution_),G=Math.log(Q/this.minResolution_)/O;return function(L){return Math.log(Q/L)/O/G}};N.prototype.getViewportSizeMinusPadding_=function(M){M=this.getViewportSize_(M);var O=this.padding;O&&(M=[M[0]-O[1]-O[3],M[1]-O[0]-O[2]]);return M};N.prototype.getState=function(){var M=this.getProjection(),O=
this.getResolution(),Q=this.getRotation(),G=this.getCenterInternal(),L=this.padding;if(L){var T=this.getViewportSizeMinusPadding_();G=k(G,this.getViewportSize_(),[T[0]/2+L[3],T[1]/2+L[0]],O,Q)}return{center:G.slice(0),projection:void 0!==M?M:null,resolution:O,rotation:Q,zoom:this.getZoom()}};N.prototype.getZoom=function(){var M,O=this.getResolution();void 0!==O&&(M=this.getZoomForResolution(O));return M};N.prototype.getZoomForResolution=function(M){var O=this.minZoom_||0,Q;if(this.resolutions_){O=
Q=(0,F.linearFindNearest)(this.resolutions_,M,1);var G=this.resolutions_[Q];Q=Q==this.resolutions_.length-1?2:G/this.resolutions_[Q+1]}else G=this.maxResolution_,Q=this.zoomFactor_;return O+Math.log(G/M)/Math.log(Q)};N.prototype.getResolutionForZoom=function(M){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var O=(0,E.clamp)(Math.floor(M),0,this.resolutions_.length-2);return this.resolutions_[O]/Math.pow(this.resolutions_[O]/this.resolutions_[O+1],(0,E.clamp)(M-O,0,1))}return this.maxResolution_/
Math.pow(this.zoomFactor_,M-this.minZoom_)};N.prototype.fit=function(M,O){(0,t.assert)(Array.isArray(M)||"function"===typeof M.getSimplifiedGeometry,24);if(Array.isArray(M)){(0,t.assert)(!(0,y.isEmpty)(M),25);var Q=(0,a.fromUserExtent)(M,this.getProjection());M=(0,J.fromExtent)(Q)}else M.getType()===h["default"].CIRCLE?(Q=(0,a.fromUserExtent)(M.getExtent(),this.getProjection()),M=(0,J.fromExtent)(Q),M.rotate(this.getRotation(),(0,y.getCenter)(Q))):M=(Q=(0,a.getUserProjection)())?M.clone().transform(Q,
this.getProjection()):M;this.fitInternal(M,O)};N.prototype.fitInternal=function(M,O){O=O||{};var Q=O.size;Q||(Q=this.getViewportSizeMinusPadding_());var G=void 0!==O.padding?O.padding:[0,0,0,0],L=void 0!==O.nearest?O.nearest:!1;var T=void 0!==O.minResolution?O.minResolution:void 0!==O.maxZoom?this.getResolutionForZoom(O.maxZoom):0;var V=M.getFlatCoordinates(),X=this.getRotation(),aa=Math.cos(-X);X=Math.sin(-X);var ba=Infinity,fa=Infinity,ka=-Infinity,ha=-Infinity;M=M.getStride();for(var ma=0,Aa=V.length;ma<
Aa;ma+=M){var ea=V[ma]*aa-V[ma+1]*X,ja=V[ma]*X+V[ma+1]*aa;ba=Math.min(ba,ea);fa=Math.min(fa,ja);ka=Math.max(ka,ea);ha=Math.max(ha,ja)}Q=this.getResolutionForExtentInternal([ba,fa,ka,ha],[Q[0]-G[1]-G[3],Q[1]-G[0]-G[2]]);Q=isNaN(Q)?T:Math.max(Q,T);Q=this.getConstrainedResolution(Q,L?0:1);X=-X;L=(ba+ka)/2+(G[1]-G[3])/2*Q;G=(fa+ha)/2+(G[0]-G[2])/2*Q;aa=this.getConstrainedCenter([L*aa-G*X,G*aa+L*X],Q);G=O.callback?O.callback:f.VOID;void 0!==O.duration?this.animateInternal({resolution:Q,center:aa,duration:O.duration,
easing:O.easing},G):(this.targetResolution_=Q,this.targetCenter_=aa,this.applyTargetState_(!1,!0),C(G,!0))};N.prototype.centerOn=function(M,O,Q){this.centerOnInternal((0,a.fromUserCoordinate)(M,this.getProjection()),O,Q)};N.prototype.centerOnInternal=function(M,O,Q){this.setCenterInternal(k(M,O,Q,this.getResolution(),this.getRotation()))};N.prototype.calculateCenterShift=function(M,O,Q,G){var L=this.padding;if(L&&M){var T=this.getViewportSizeMinusPadding_(-Q);O=k(M,G,[T[0]/2+L[3],T[1]/2+L[0]],O,Q);
T=[M[0]-O[0],M[1]-O[1]]}return T};N.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};N.prototype.adjustCenter=function(M){var O=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([O[0]+M[0],O[1]+M[1]])};N.prototype.adjustCenterInternal=function(M){var O=this.targetCenter_;this.setCenterInternal([O[0]+M[0],O[1]+M[1]])};N.prototype.adjustResolution=function(M,O){O=O&&(0,a.fromUserCoordinate)(O,this.getProjection());this.adjustResolutionInternal(M,
O)};N.prototype.adjustResolutionInternal=function(M,O){var Q=this.getAnimating()||this.getInteracting(),G=this.getViewportSize_(this.getRotation());Q=this.constraints_.resolution(this.targetResolution_*M,0,G,Q);O&&(this.targetCenter_=this.calculateCenterZoom(Q,O));this.targetResolution_*=M;this.applyTargetState_()};N.prototype.adjustZoom=function(M,O){this.adjustResolution(Math.pow(this.zoomFactor_,-M),O)};N.prototype.adjustRotation=function(M,O){O&&(O=(0,a.fromUserCoordinate)(O,this.getProjection()));
this.adjustRotationInternal(M,O)};N.prototype.adjustRotationInternal=function(M,O){var Q=this.getAnimating()||this.getInteracting();Q=this.constraints_.rotation(this.targetRotation_+M,Q);O&&(this.targetCenter_=this.calculateCenterRotate(Q,O));this.targetRotation_+=M;this.applyTargetState_()};N.prototype.setCenter=function(M){this.setCenterInternal((0,a.fromUserCoordinate)(M,this.getProjection()))};N.prototype.setCenterInternal=function(M){this.targetCenter_=M;this.applyTargetState_()};N.prototype.setHint=
function(M,O){this.hints_[M]+=O;this.changed();return this.hints_[M]};N.prototype.setResolution=function(M){this.targetResolution_=M;this.applyTargetState_()};N.prototype.setRotation=function(M){this.targetRotation_=M;this.applyTargetState_()};N.prototype.setZoom=function(M){this.setResolution(this.getResolutionForZoom(M))};N.prototype.applyTargetState_=function(M,O){var Q=this.getAnimating()||this.getInteracting()||O;O=this.constraints_.rotation(this.targetRotation_,Q);var G=this.getViewportSize_(O),
L=this.constraints_.resolution(this.targetResolution_,0,G,Q);Q=this.constraints_.center(this.targetCenter_,L,G,Q,this.calculateCenterShift(this.targetCenter_,L,O,G));this.get(b["default"].ROTATION)!==O&&this.set(b["default"].ROTATION,O);this.get(b["default"].RESOLUTION)!==L&&this.set(b["default"].RESOLUTION,L);this.get(b["default"].CENTER)&&(0,l.equals)(this.get(b["default"].CENTER),Q)||this.set(b["default"].CENTER,Q);this.getAnimating()&&!M&&this.cancelAnimations();this.cancelAnchor_=void 0};N.prototype.resolveConstraints=
function(M,O,Q){M=void 0!==M?M:200;var G=O||0;O=this.constraints_.rotation(this.targetRotation_);var L=this.getViewportSize_(O);G=this.constraints_.resolution(this.targetResolution_,G,L);L=this.constraints_.center(this.targetCenter_,G,L,!1,this.calculateCenterShift(this.targetCenter_,G,O,L));0!==M||this.cancelAnchor_?(Q=Q||(0===M?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===G&&this.getRotation()===O&&this.getCenterInternal()&&(0,l.equals)(this.getCenterInternal(),L)||
(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:O,center:L,resolution:G,duration:M,easing:p.easeOut,anchor:Q}))):(this.targetResolution_=G,this.targetRotation_=O,this.targetCenter_=L,this.applyTargetState_())};N.prototype.beginInteraction=function(){this.resolveConstraints(0);this.setHint(e["default"].INTERACTING,1)};N.prototype.endInteraction=function(M,O,Q){Q=Q&&(0,a.fromUserCoordinate)(Q,this.getProjection());this.endInteractionInternal(M,O,Q)};N.prototype.endInteractionInternal=
function(M,O,Q){this.setHint(e["default"].INTERACTING,-1);this.resolveConstraints(M,O,Q)};N.prototype.getConstrainedCenter=function(M,O){var Q=this.getViewportSize_(this.getRotation());return this.constraints_.center(M,O||this.getResolution(),Q)};N.prototype.getConstrainedZoom=function(M,O){M=this.getResolutionForZoom(M);return this.getZoomForResolution(this.getConstrainedResolution(M,O))};N.prototype.getConstrainedResolution=function(M,O){O=O||0;var Q=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(M,
O,Q)};return N}(S["default"]);r["default"]=m};
shadow$provide[157]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.buffer=function(D,C,v){void 0===v&&(v=[0,0]);v[0]=D[0]+2*C;v[1]=D[1]+2*C;return v};r.hasArea=function(D){return 0<D[0]&&0<D[1]};r.scale=function(D,C,v){void 0===v&&(v=[0,0]);v[0]=D[0]*C+.5|0;v[1]=D[1]*C+.5|0;return v};r.toSize=function(D,C){if(Array.isArray(D))return D;void 0===C?C=[D,D]:(C[0]=D,C[1]=D);return C}};
shadow$provide[158]=function(S,m,Y,r){function D(G){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"===typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};return D(G)}function C(G){return G&&G.__esModule?G:{"default":G}}function v(){if("function"!==typeof WeakMap)return null;var G=new WeakMap;v=function(){return G};return G}function w(G){if(G&&G.__esModule)return G;if(null===G||"object"!==D(G)&&
"function"!==typeof G)return{"default":G};var L=v();if(L&&L.has(G))return L.get(G);var T={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor,X;for(X in G)if(Object.prototype.hasOwnProperty.call(G,X)){var aa=V?Object.getOwnPropertyDescriptor(G,X):null;aa&&(aa.get||aa.set)?Object.defineProperty(T,X,aa):T[X]=G[X]}T["default"]=G;L&&L.set(G,T);return T}function u(G){var L=null;void 0!==G.keyboardEventTarget&&(L="string"===typeof G.keyboardEventTarget?document.getElementById(G.keyboardEventTarget):
G.keyboardEventTarget);var T={},V=G.layers&&"function"===typeof G.layers.getLayers?G.layers:new e["default"]({layers:G.layers});T[t["default"].LAYERGROUP]=V;T[t["default"].TARGET]=G.target;T[t["default"].VIEW]=void 0!==G.view?G.view:new A["default"];if(void 0!==G.controls)if(Array.isArray(G.controls))var X=new k["default"](G.controls.slice());else(0,H.assert)("function"===typeof G.controls.getArray,47),X=G.controls;if(void 0!==G.interactions)if(Array.isArray(G.interactions))var aa=new k["default"](G.interactions.slice());
else(0,H.assert)("function"===typeof G.interactions.getArray,48),aa=G.interactions;void 0!==G.overlays?Array.isArray(G.overlays)?G=new k["default"](G.overlays.slice()):((0,H.assert)("function"===typeof G.overlays.getArray,49),G=G.overlays):G=new k["default"];return{controls:X,interactions:aa,keyboardEventTarget:L,overlays:G,values:T}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var n=w(m(94)),k=C(m(110)),h=C(m(109)),c=C(m(91)),e=C(m(111)),b=C(m(113)),d=C(m(116)),a=C(m(114)),
f=C(m(112)),l=C(m(117)),t=C(m(118)),q=C(m(88)),B=C(m(115)),E=C(m(97)),z=w(m(121)),A=C(m(156)),p=C(m(124)),y=m(105),F=m(76),J=m(80),H=m(79),P=m(83),K=m(133),N=m(157),M=m(92),O=m(106),Q=function(){var G=function(L,T){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,X){V.__proto__=X}||function(V,X){for(var aa in X)Object.prototype.hasOwnProperty.call(X,aa)&&(V[aa]=X[aa])};return G(L,T)};return function(L,T){function V(){this.constructor=L}G(L,T);L.prototype=null===T?Object.create(T):
(V.prototype=T.prototype,new V)}}();S=function(G){function L(T){var V=G.call(this)||this,X=u(T);V.boundHandleBrowserEvent_=V.handleBrowserEvent.bind(V);V.maxTilesLoading_=void 0!==T.maxTilesLoading?T.maxTilesLoading:16;V.pixelRatio_=void 0!==T.pixelRatio?T.pixelRatio:y.DEVICE_PIXEL_RATIO;V.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(V);V.coordinateToPixelTransform_=(0,J.create)();V.pixelToCoordinateTransform_=(0,J.create)();V.frameIndex_=0;V.frameState_=
null;V.previousExtent_=null;V.viewPropertyListenerKey_=null;V.viewChangeListenerKey_=null;V.layerGroupPropertyListenerKeys_=null;V.viewport_=document.createElement("div");V.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");V.viewport_.style.position="relative";V.viewport_.style.overflow="hidden";V.viewport_.style.width="100%";V.viewport_.style.height="100%";V.overlayContainer_=document.createElement("div");V.overlayContainer_.style.position="absolute";V.overlayContainer_.style.zIndex=
"0";V.overlayContainer_.style.width="100%";V.overlayContainer_.style.height="100%";V.overlayContainer_.style.pointerEvents="none";V.overlayContainer_.className="ol-overlaycontainer";V.viewport_.appendChild(V.overlayContainer_);V.overlayContainerStopEvent_=document.createElement("div");V.overlayContainerStopEvent_.style.position="absolute";V.overlayContainerStopEvent_.style.zIndex="0";V.overlayContainerStopEvent_.style.width="100%";V.overlayContainerStopEvent_.style.height="100%";V.overlayContainerStopEvent_.style.pointerEvents=
"none";V.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";V.viewport_.appendChild(V.overlayContainerStopEvent_);V.mapBrowserEventHandler_=null;V.moveTolerance_=T.moveTolerance;V.keyboardEventTarget_=X.keyboardEventTarget;V.keyHandlerKeys_=null;V.controls=X.controls||new k["default"];V.interactions=X.interactions||new k["default"];V.overlays_=X.overlays;V.overlayIdIndex_={};V.renderer_=null;V.postRenderFunctions_=[];V.tileQueue_=new z["default"](V.getTilePriority.bind(V),V.handleTileChange_.bind(V));
V.addEventListener((0,n.getChangeEventType)(t["default"].LAYERGROUP),V.handleLayerGroupChanged_);V.addEventListener((0,n.getChangeEventType)(t["default"].VIEW),V.handleViewChanged_);V.addEventListener((0,n.getChangeEventType)(t["default"].SIZE),V.handleSizeChanged_);V.addEventListener((0,n.getChangeEventType)(t["default"].TARGET),V.handleTargetChanged_);V.setProperties(X.values);V.controls.forEach(function(aa){aa.setMap(this)}.bind(V));V.controls.addEventListener(h["default"].ADD,function(aa){aa.element.setMap(this)}.bind(V));
V.controls.addEventListener(h["default"].REMOVE,function(aa){aa.element.setMap(null)}.bind(V));V.interactions.forEach(function(aa){aa.setMap(this)}.bind(V));V.interactions.addEventListener(h["default"].ADD,function(aa){aa.element.setMap(this)}.bind(V));V.interactions.addEventListener(h["default"].REMOVE,function(aa){aa.element.setMap(null)}.bind(V));V.overlays_.forEach(V.addOverlayInternal_.bind(V));V.overlays_.addEventListener(h["default"].ADD,function(aa){this.addOverlayInternal_(aa.element)}.bind(V));
V.overlays_.addEventListener(h["default"].REMOVE,function(aa){var ba=aa.element.getId();void 0!==ba&&delete this.overlayIdIndex_[ba.toString()];aa.element.setMap(null)}.bind(V));return V}Q(L,G);L.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};L.prototype.addControl=function(T){this.getControls().push(T)};L.prototype.addInteraction=function(T){this.getInteractions().push(T)};L.prototype.addLayer=function(T){this.getLayerGroup().getLayers().push(T)};
L.prototype.addOverlay=function(T){this.getOverlays().push(T)};L.prototype.addOverlayInternal_=function(T){var V=T.getId();void 0!==V&&(this.overlayIdIndex_[V.toString()]=T);T.setMap(this)};L.prototype.disposeInternal=function(){this.setTarget(null);G.prototype.disposeInternal.call(this)};L.prototype.forEachFeatureAtPixel=function(T,V,X){if(this.frameState_)return T=this.getCoordinateFromPixelInternal(T),X=void 0!==X?X:{},this.renderer_.forEachFeatureAtCoordinate(T,this.frameState_,void 0!==X.hitTolerance?
X.hitTolerance:0,!1!==X.checkWrapped,V,null,void 0!==X.layerFilter?X.layerFilter:F.TRUE,null)};L.prototype.getFeaturesAtPixel=function(T,V){var X=[];this.forEachFeatureAtPixel(T,function(aa){X.push(aa)},V);return X};L.prototype.forEachLayerAtPixel=function(T,V,X){if(this.frameState_)return X=X||{},this.renderer_.forEachLayerAtPixel(T,this.frameState_,void 0!==X.hitTolerance?X.hitTolerance:0,V,X.layerFilter||F.TRUE)};L.prototype.hasFeatureAtPixel=function(T,V){if(!this.frameState_)return!1;T=this.getCoordinateFromPixelInternal(T);
V=void 0!==V?V:{};return this.renderer_.hasFeatureAtCoordinate(T,this.frameState_,void 0!==V.hitTolerance?V.hitTolerance:0,!1!==V.checkWrapped,void 0!==V.layerFilter?V.layerFilter:F.TRUE,null)};L.prototype.getEventCoordinate=function(T){return this.getCoordinateFromPixel(this.getEventPixel(T))};L.prototype.getEventCoordinateInternal=function(T){return this.getCoordinateFromPixelInternal(this.getEventPixel(T))};L.prototype.getEventPixel=function(T){var V=this.viewport_.getBoundingClientRect();T="changedTouches"in
T?T.changedTouches[0]:T;return[T.clientX-V.left,T.clientY-V.top]};L.prototype.getTarget=function(){return this.get(t["default"].TARGET)};L.prototype.getTargetElement=function(){var T=this.getTarget();return void 0!==T?"string"===typeof T?document.getElementById(T):T:null};L.prototype.getCoordinateFromPixel=function(T){return(0,K.toUserCoordinate)(this.getCoordinateFromPixelInternal(T),this.getView().getProjection())};L.prototype.getCoordinateFromPixelInternal=function(T){var V=this.frameState_;return V?
(0,J.apply)(V.pixelToCoordinateTransform,T.slice()):null};L.prototype.getControls=function(){return this.controls};L.prototype.getOverlays=function(){return this.overlays_};L.prototype.getOverlayById=function(T){T=this.overlayIdIndex_[T.toString()];return void 0!==T?T:null};L.prototype.getInteractions=function(){return this.interactions};L.prototype.getLayerGroup=function(){return this.get(t["default"].LAYERGROUP)};L.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};L.prototype.getLoading=
function(){for(var T=this.getLayerGroup().getLayerStatesArray(),V=0,X=T.length;V<X;++V){var aa=T[V].layer.getSource();if(aa&&aa.loading)return!0}return!1};L.prototype.getPixelFromCoordinate=function(T){T=(0,K.fromUserCoordinate)(T,this.getView().getProjection());return this.getPixelFromCoordinateInternal(T)};L.prototype.getPixelFromCoordinateInternal=function(T){var V=this.frameState_;return V?(0,J.apply)(V.coordinateToPixelTransform,T.slice(0,2)):null};L.prototype.getRenderer=function(){return this.renderer_};
L.prototype.getSize=function(){return this.get(t["default"].SIZE)};L.prototype.getView=function(){return this.get(t["default"].VIEW)};L.prototype.getViewport=function(){return this.viewport_};L.prototype.getOverlayContainer=function(){return this.overlayContainer_};L.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};L.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document};L.prototype.getTilePriority=
function(T,V,X,aa){return(0,z.getTilePriority)(this.frameState_,T,V,X,aa)};L.prototype.handleBrowserEvent=function(T,V){T=new b["default"](V||T.type,this,T);this.handleMapBrowserEvent(T)};L.prototype.handleMapBrowserEvent=function(T){if(this.frameState_){var V=T.originalEvent,X=V.type;if(X===B["default"].POINTERDOWN||X===c["default"].WHEEL||X===c["default"].KEYDOWN){X=this.getOwnerDocument();var aa=this.viewport_.getRootNode?this.viewport_.getRootNode():X;V="host"in aa?aa.elementFromPoint(V.clientX,
V.clientY):V.target;if(this.overlayContainerStopEvent_.contains(V)||!(aa===X?X.documentElement:aa).contains(V))return}T.frameState=this.frameState_;if(!1!==this.dispatchEvent(T))for(V=this.getInteractions().getArray().slice(),X=V.length-1;0<=X&&(aa=V[X],aa.getMap()!==this||!aa.getActive()||!this.getTargetElement()||aa.handleEvent(T)&&!T.propagationStopped);X--);}};L.prototype.handlePostRender=function(){var T=this.frameState_,V=this.tileQueue_;if(!V.isEmpty()){var X=this.maxTilesLoading_,aa=X;if(T){var ba=
T.viewHints;if(ba[p["default"].ANIMATING]||ba[p["default"].INTERACTING])X=(aa=!y.IMAGE_DECODE&&8<Date.now()-T.time)?0:8,aa=aa?0:2}V.getTilesLoading()<X&&(V.reprioritize(),V.loadMoreTiles(X,aa))}!T||!this.hasListener(E["default"].RENDERCOMPLETE)||T.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(E["default"].RENDERCOMPLETE,T);V=this.postRenderFunctions_;X=0;for(aa=V.length;X<aa;++X)V[X](this,T);V.length=0};L.prototype.handleSizeChanged_=function(){this.getView()&&
!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};L.prototype.handleTargetChanged_=function(){var T;this.getTarget()&&(T=this.getTargetElement());if(this.mapBrowserEventHandler_){for(var V=0,X=this.keyHandlerKeys_.length;V<X;++V)(0,M.unlistenByKey)(this.keyHandlerKeys_[V]);this.keyHandlerKeys_=null;this.viewport_.removeEventListener(c["default"].CONTEXTMENU,this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(c["default"].WHEEL,this.boundHandleBrowserEvent_);
void 0!==this.handleResize_&&(removeEventListener(c["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,O.removeNode)(this.viewport_)}if(T){T.appendChild(this.viewport_);this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new d["default"](this,this.moveTolerance_);for(var aa in a["default"])this.mapBrowserEventHandler_.addEventListener(a["default"][aa],this.handleMapBrowserEvent.bind(this));
this.viewport_.addEventListener(c["default"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(c["default"].WHEEL,this.boundHandleBrowserEvent_,y.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);T=this.keyboardEventTarget_?this.keyboardEventTarget_:T;this.keyHandlerKeys_=[(0,M.listen)(T,c["default"].KEYDOWN,this.handleBrowserEvent,this),(0,M.listen)(T,c["default"].KEYPRESS,this.handleBrowserEvent,this)];this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(c["default"].RESIZE,
this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};L.prototype.handleTileChange_=function(){this.render()};L.prototype.handleViewPropertyChanged_=function(){this.render()};L.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&
((0,M.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,M.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var T=this.getView();T&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,M.listen)(T,q["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,M.listen)(T,c["default"].CHANGE,this.handleViewPropertyChanged_,this),T.resolveConstraints(0));this.render()};
L.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(M.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var T=this.getLayerGroup();T&&(this.layerGroupPropertyListenerKeys_=[(0,M.listen)(T,q["default"].PROPERTYCHANGE,this.render,this),(0,M.listen)(T,c["default"].CHANGE,this.render,this)]);this.render()};L.prototype.isRendered=function(){return!!this.frameState_};L.prototype.renderSync=function(){this.animationDelayKey_&&
cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};L.prototype.redrawText=function(){for(var T=this.getLayerGroup().getLayerStatesArray(),V=0,X=T.length;V<X;++V){var aa=T[V].layer;aa.hasRenderer()&&aa.getRenderer().handleFontsChanged()}};L.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};L.prototype.removeControl=function(T){return this.getControls().remove(T)};L.prototype.removeInteraction=
function(T){return this.getInteractions().remove(T)};L.prototype.removeLayer=function(T){return this.getLayerGroup().getLayers().remove(T)};L.prototype.removeOverlay=function(T){return this.getOverlays().remove(T)};L.prototype.renderFrame_=function(T){var V=this,X=this.getSize(),aa=this.getView(),ba=this.frameState_,fa=null;void 0!==X&&(0,N.hasArea)(X)&&aa&&aa.isDef()&&(fa=aa.getHints(this.frameState_?this.frameState_.viewHints:void 0),aa=aa.getState(),fa={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,
declutterTree:null,extent:(0,P.getForViewAndSize)(aa.center,aa.resolution,aa.rotation,X),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:X,tileQueue:this.tileQueue_,time:T,usedTiles:{},viewState:aa,viewHints:fa,wantedTiles:{}});this.frameState_=fa;this.renderer_.renderFrame(fa);fa&&(fa.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,
fa.postRenderFunctions),!ba||this.previousExtent_&&((0,P.isEmpty)(this.previousExtent_)||(0,P.equals)(fa.extent,this.previousExtent_))||(this.dispatchEvent(new f["default"](l["default"].MOVESTART,this,ba)),this.previousExtent_=(0,P.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||fa.viewHints[p["default"].ANIMATING]||fa.viewHints[p["default"].INTERACTING]||(0,P.equals)(fa.extent,this.previousExtent_)||(this.dispatchEvent(new f["default"](l["default"].MOVEEND,this,fa)),(0,P.clone)(fa.extent,
this.previousExtent_)));this.dispatchEvent(new f["default"](l["default"].POSTRENDER,this,fa));this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){V.postRenderTimeoutHandle_=void 0;V.handlePostRender()},0))};L.prototype.setLayerGroup=function(T){this.set(t["default"].LAYERGROUP,T)};L.prototype.setSize=function(T){this.set(t["default"].SIZE,T)};L.prototype.setTarget=function(T){this.set(t["default"].TARGET,T)};L.prototype.setView=function(T){this.set(t["default"].VIEW,
T)};L.prototype.updateSize=function(){var T=this.getTargetElement();if(T){var V=getComputedStyle(T);this.setSize([T.offsetWidth-parseFloat(V.borderLeftWidth)-parseFloat(V.paddingLeft)-parseFloat(V.paddingRight)-parseFloat(V.borderRightWidth),T.offsetHeight-parseFloat(V.borderTopWidth)-parseFloat(V.paddingTop)-parseFloat(V.paddingBottom)-parseFloat(V.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()};L.prototype.updateViewportSize_=function(){var T=this.getView();if(T){var V=
void 0,X=getComputedStyle(this.viewport_);X.width&&X.height&&(V=[parseInt(X.width,10),parseInt(X.height,10)]);T.setViewportSize(V)}};return L}(n["default"]);r["default"]=S};
shadow$provide[159]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(94));var C=D(m(117)),v=m(76),w=m(92),u=m(106),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=
null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c){var e=k.call(this)||this,b=c.element;!b||c.target||b.style.pointerEvents||(b.style.pointerEvents="auto");e.element=b?b:null;e.target_=null;e.map_=null;e.listenerKeys=[];c.render&&(e.render=c.render);c.target&&e.setTarget(c.target);return e}n(h,k);h.prototype.disposeInternal=function(){(0,u.removeNode)(this.element);k.prototype.disposeInternal.call(this)};h.prototype.getMap=function(){return this.map_};h.prototype.setMap=
function(c){this.map_&&(0,u.removeNode)(this.element);for(var e=0,b=this.listenerKeys.length;e<b;++e)(0,w.unlistenByKey)(this.listenerKeys[e]);this.listenerKeys.length=0;if(this.map_=c)(this.target_?this.target_:c.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==v.VOID&&this.listenerKeys.push((0,w.listen)(c,C["default"].POSTRENDER,this.render,this)),c.render()};h.prototype.render=function(c){};h.prototype.setTarget=function(c){this.target_="string"===typeof c?document.getElementById(c):
c};return h}(S["default"]);r["default"]=m};
shadow$provide[160]=function(S,m,Y,r){function D(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(159));var C=D(m(91)),v=m(104),w=m(75),u=m(99),n=m(106),k=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=c}h(c,e);
c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();m=function(h){function c(e){var b=e?e:{};e=h.call(this,{element:document.createElement("div"),render:b.render,target:b.target})||this;e.ulElement_=document.createElement("ul");e.collapsed_=void 0!==b.collapsed?b.collapsed:!0;e.userCollapsed_=e.collapsed_;e.overrideCollapsible_=void 0!==b.collapsible;e.collapsible_=void 0!==b.collapsible?b.collapsible:!0;e.collapsible_||(e.collapsed_=!1);var d=void 0!==b.className?b.className:
"ol-attribution",a=void 0!==b.tipLabel?b.tipLabel:"Attributions",f=void 0!==b.expandClassName?b.expandClassName:d+"-expand",l=void 0!==b.collapseLabel?b.collapseLabel:"»",t=void 0!==b.collapseClassName?b.collapseClassName:d+"-collpase";"string"===typeof l?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=l,e.collapseLabel_.className=t):e.collapseLabel_=l;b=void 0!==b.label?b.label:"i";"string"===typeof b?(e.label_=document.createElement("span"),e.label_.textContent=b,e.label_.className=
f):e.label_=b;b=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_;f=document.createElement("button");f.setAttribute("type","button");f.title=a;f.appendChild(b);f.addEventListener(C["default"].CLICK,e.handleClick_.bind(e),!1);a=e.element;a.className=d+" "+v.CLASS_UNSELECTABLE+" "+v.CLASS_CONTROL+(e.collapsed_&&e.collapsible_?" "+v.CLASS_COLLAPSED:"")+(e.collapsible_?"":" ol-uncollapsible");a.appendChild(e.ulElement_);a.appendChild(f);e.renderedAttributions_=[];e.renderedVisible_=!0;return e}
k(c,h);c.prototype.collectSourceAttributions_=function(e){for(var b={},d=[],a=!0,f=e.layerStatesArray,l=0,t=f.length;l<t;++l){var q=f[l];if((0,u.inView)(q,e.viewState)){var B=q.layer.getSource();if(B&&(q=B.getAttributions())&&(q=q(e)))if(a=a&&!1!==B.getAttributionsCollapsible(),Array.isArray(q)){B=0;for(var E=q.length;B<E;++B)q[B]in b||(d.push(q[B]),b[q[B]]=!0)}else q in b||(d.push(q),b[q]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return d};c.prototype.updateElement_=function(e){if(e){e=
this.collectSourceAttributions_(e);var b=0<e.length;this.renderedVisible_!=b&&(this.element.style.display=b?"":"none",this.renderedVisible_=b);if(!(0,w.equals)(e,this.renderedAttributions_)){(0,n.removeChildren)(this.ulElement_);b=0;for(var d=e.length;b<d;++b){var a=document.createElement("li");a.innerHTML=e[b];this.ulElement_.appendChild(a)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};c.prototype.handleClick_=function(e){e.preventDefault();
this.handleToggle_();this.userCollapsed_=this.collapsed_};c.prototype.handleToggle_=function(){this.element.classList.toggle(v.CLASS_COLLAPSED);this.collapsed_?(0,n.replaceNode)(this.collapseLabel_,this.label_):(0,n.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};c.prototype.getCollapsible=function(){return this.collapsible_};c.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&
this.handleToggle_())};c.prototype.setCollapsed=function(e){this.userCollapsed_=e;this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()};c.prototype.getCollapsed=function(){return this.collapsed_};c.prototype.render=function(e){this.updateElement_(e.frameState)};return c}(S["default"]);r["default"]=m};
shadow$provide[161]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(159));var C=D(m(91)),v=m(104),w=m(137),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===
h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(h){var c=h?h:{};h=n.call(this,{element:document.createElement("div"),render:c.render,target:c.target})||this;var e=void 0!==c.className?c.className:"ol-rotate",b=void 0!==c.label?c.label:"⇧",d=void 0!==c.compassClassName?c.compassClassName:"ol-compass";h.label_=null;"string"===typeof b?(h.label_=document.createElement("span"),h.label_.className=d,h.label_.textContent=b):(h.label_=b,h.label_.classList.add(d));d=c.tipLabel?
c.tipLabel:"Reset rotation";b=document.createElement("button");b.className=e+"-reset";b.setAttribute("type","button");b.title=d;b.appendChild(h.label_);b.addEventListener(C["default"].CLICK,h.handleClick_.bind(h),!1);d=h.element;d.className=e+" "+v.CLASS_UNSELECTABLE+" "+v.CLASS_CONTROL;d.appendChild(b);h.callResetNorth_=c.resetNorth?c.resetNorth:void 0;h.duration_=void 0!==c.duration?c.duration:250;h.autoHide_=void 0!==c.autoHide?c.autoHide:!0;h.rotation_=void 0;h.autoHide_&&h.element.classList.add(v.CLASS_HIDDEN);
return h}u(k,n);k.prototype.handleClick_=function(h){h.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};k.prototype.resetNorth_=function(){var h=this.getMap().getView();if(h){var c=h.getRotation();void 0!==c&&(0<this.duration_&&0!==c%(2*Math.PI)?h.animate({rotation:0,duration:this.duration_,easing:w.easeOut}):h.setRotation(0))}};k.prototype.render=function(h){if(h=h.frameState){h=h.viewState.rotation;if(h!=this.rotation_){var c="rotate("+h+"rad)";if(this.autoHide_){var e=
this.element.classList.contains(v.CLASS_HIDDEN);e||0!==h?e&&0!==h&&this.element.classList.remove(v.CLASS_HIDDEN):this.element.classList.add(v.CLASS_HIDDEN)}this.label_.style.transform=c}this.rotation_=h}};return k}(S["default"]);r["default"]=m};
shadow$provide[162]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(159));var C=D(m(91)),v=m(104),w=m(137),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===
h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(h){var c=h?h:{};h=n.call(this,{element:document.createElement("div"),target:c.target})||this;var e=void 0!==c.className?c.className:"ol-zoom",b=void 0!==c.delta?c.delta:1,d=void 0!==c.zoomInClassName?c.zoomInClassName:e+"-in",a=void 0!==c.zoomOutClassName?c.zoomOutClassName:e+"-out",f=void 0!==c.zoomInLabel?c.zoomInLabel:"+",l=void 0!==c.zoomOutLabel?c.zoomOutLabel:"−",t=void 0!==c.zoomInTipLabel?c.zoomInTipLabel:"Zoom in",
q=void 0!==c.zoomOutTipLabel?c.zoomOutTipLabel:"Zoom out",B=document.createElement("button");B.className=d;B.setAttribute("type","button");B.title=t;B.appendChild("string"===typeof f?document.createTextNode(f):f);B.addEventListener(C["default"].CLICK,h.handleClick_.bind(h,b),!1);d=document.createElement("button");d.className=a;d.setAttribute("type","button");d.title=q;d.appendChild("string"===typeof l?document.createTextNode(l):l);d.addEventListener(C["default"].CLICK,h.handleClick_.bind(h,-b),!1);
b=h.element;b.className=e+" "+v.CLASS_UNSELECTABLE+" "+v.CLASS_CONTROL;b.appendChild(B);b.appendChild(d);h.duration_=void 0!==c.duration?c.duration:250;return h}u(k,n);k.prototype.handleClick_=function(h,c){c.preventDefault();this.zoomByDelta_(h)};k.prototype.zoomByDelta_=function(h){var c=this.getMap().getView();if(c){var e=c.getZoom();void 0!==e&&(h=c.getConstrainedZoom(e+h),0<this.duration_?(c.getAnimating()&&c.cancelAnimations(),c.animate({zoom:h,duration:this.duration_,easing:w.easeOut})):c.setZoom(h))}};
return k}(S["default"]);r["default"]=m};
shadow$provide[163]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}function C(){var b=document.body;return!!(b.webkitRequestFullscreen||b.msRequestFullscreen&&document.msFullscreenEnabled||b.requestFullscreen&&document.fullscreenEnabled)}function v(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function w(b){b.requestFullscreen?b.requestFullscreen():b.msRequestFullscreen?b.msRequestFullscreen():b.webkitRequestFullscreen&&b.webkitRequestFullscreen()}
Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(159));var u=D(m(91)),n=m(104),k=m(92),h=m(106),c=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),e=["fullscreenchange","webkitfullscreenchange",
"MSFullscreenChange"];m=function(b){function d(a){var f=a?a:{};a=b.call(this,{element:document.createElement("div"),target:f.target})||this;a.cssClassName_=void 0!==f.className?f.className:"ol-full-screen";a.activeClassName_=void 0!==f.activeClassName?f.activeClassName.split(" "):[a.cssClassName_+"-true"];a.inactiveClassName_=void 0!==f.inactiveClassName?f.inactiveClassName.split(" "):[a.cssClassName_+"-false"];var l=void 0!==f.label?f.label:"⤢";a.labelNode_="string"===typeof l?document.createTextNode(l):
l;l=void 0!==f.labelActive?f.labelActive:"×";a.labelActiveNode_="string"===typeof l?document.createTextNode(l):l;a.button_=document.createElement("button");l=f.tipLabel?f.tipLabel:"Toggle full-screen";a.setClassName_(a.button_,v());a.button_.setAttribute("type","button");a.button_.title=l;a.button_.appendChild(a.labelNode_);a.button_.addEventListener(u["default"].CLICK,a.handleClick_.bind(a),!1);l=a.cssClassName_+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL+" "+(C()?"":n.CLASS_UNSUPPORTED);var t=
a.element;t.className=l;t.appendChild(a.button_);a.keys_=void 0!==f.keys?f.keys:!1;a.source_=f.source;return a}c(d,b);d.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};d.prototype.handleFullScreen_=function(){if(C()){var a=this.getMap();a&&(v()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.source_?"string"===typeof this.source_?document.getElementById(this.source_):
this.source_:a.getTargetElement(),this.keys_?a.webkitRequestFullscreen?a.webkitRequestFullscreen():w(a):w(a)))}};d.prototype.handleFullScreenChange_=function(){var a=this.getMap();v()?(this.setClassName_(this.button_,!0),(0,h.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,h.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen"));a&&a.updateSize()};d.prototype.setClassName_=function(a,
f){var l,t,q,B=this.activeClassName_,E=this.inactiveClassName_;f=f?B:E;(l=a.classList).remove.apply(l,B);(t=a.classList).remove.apply(t,E);(q=a.classList).add.apply(q,f)};d.prototype.setMap=function(a){b.prototype.setMap.call(this,a);if(a){a=0;for(var f=e.length;a<f;++a)this.listenerKeys.push((0,k.listen)(document,e[a],this.handleFullScreenChange_,this))}};return d}(S["default"]);r["default"]=m};
shadow$provide[164]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(159));var C=D(m(115)),v=m(94),w=m(133),u=m(92),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=
null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c){var e=c?c:{},b=document.createElement("div");b.className=void 0!==e.className?e.className:"ol-mouse-position";c=k.call(this,{element:b,render:e.render,target:e.target})||this;c.addEventListener((0,v.getChangeEventType)("projection"),c.handleProjectionChanged_);e.coordinateFormat&&c.setCoordinateFormat(e.coordinateFormat);e.projection&&c.setProjection(e.projection);c.undefinedHTML_=void 0!==e.undefinedHTML?e.undefinedHTML:
"\x26#160;";c.renderOnMouseOut_=!!c.undefinedHTML_;c.renderedHTML_=b.innerHTML;c.mapProjection_=null;c.transform_=null;return c}n(h,k);h.prototype.handleProjectionChanged_=function(){this.transform_=null};h.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};h.prototype.getProjection=function(){return this.get("projection")};h.prototype.handleMouseMove=function(c){var e=this.getMap();this.updateHTML_(e.getEventPixel(c))};h.prototype.handleMouseOut=function(c){this.updateHTML_(null)};
h.prototype.setMap=function(c){k.prototype.setMap.call(this,c);c&&(c=c.getViewport(),this.listenerKeys.push((0,u.listen)(c,C["default"].POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,u.listen)(c,C["default"].POINTEROUT,this.handleMouseOut,this)))};h.prototype.setCoordinateFormat=function(c){this.set("coordinateFormat",c)};h.prototype.setProjection=function(c){this.set("projection",(0,w.get)(c))};h.prototype.updateHTML_=function(c){var e=this.undefinedHTML_;
if(c&&this.mapProjection_){if(!this.transform_){var b=this.getProjection();this.transform_=b?(0,w.getTransformFromProjections)(this.mapProjection_,b):w.identityTransform}if(c=this.getMap().getCoordinateFromPixelInternal(c)){if(e=(0,w.getUserProjection)())this.transform_=(0,w.getTransformFromProjections)(this.mapProjection_,e);this.transform_(c,c);e=(e=this.getCoordinateFormat())?e(c):c.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=e)};h.prototype.render=
function(c){c=c.frameState;c?this.mapProjection_!=c.viewState.projection&&(this.mapProjection_=c.viewState.projection,this.transform_=null):this.mapProjection_=null};return h}(S["default"]);r["default"]=m};
shadow$provide[165]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[166]=function(S,m,Y,r){function D(d){return d&&d.__esModule?d:{"default":d}}function C(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;C=function(){return d};return d}function v(d){v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return v(d)}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==v(d)&&"function"!==typeof d)return{"default":d};var a=C();if(a&&a.has(d))return a.get(d);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in d)if(Object.prototype.hasOwnProperty.call(d,t)){var q=l?Object.getOwnPropertyDescriptor(d,t):null;q&&(q.get||q.set)?Object.defineProperty(f,t,q):f[t]=d[t]}f["default"]=d;a&&a.set(d,f);return f}(m(94)),u=D(m(117)),n=D(m(165)),k=m(104),h=m(83),c=m(92),e=m(106),b=function(){var d=
function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,t){l.__proto__=t}||function(l,t){for(var q in t)Object.prototype.hasOwnProperty.call(t,q)&&(l[q]=t[q])};return d(a,f)};return function(a,f){function l(){this.constructor=a}d(a,f);a.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)}}();S=function(d){function a(f){var l=d.call(this)||this;l.options=f;l.id=f.id;l.insertFirst=void 0!==f.insertFirst?f.insertFirst:!0;l.stopEvent=void 0!==f.stopEvent?f.stopEvent:
!0;l.element=document.createElement("div");l.element.className=void 0!==f.className?f.className:"ol-overlay-container "+k.CLASS_SELECTABLE;l.element.style.position="absolute";l.element.style.pointerEvents="auto";var t=f.autoPan;t&&"object"!==v(t)&&(t={animation:f.autoPanAnimation,margin:f.autoPanMargin});l.autoPan=t||!1;l.rendered={transform_:"",visible:!0};l.mapPostrenderListenerKey=null;l.addEventListener((0,w.getChangeEventType)("element"),l.handleElementChanged);l.addEventListener((0,w.getChangeEventType)("map"),
l.handleMapChanged);l.addEventListener((0,w.getChangeEventType)("offset"),l.handleOffsetChanged);l.addEventListener((0,w.getChangeEventType)("position"),l.handlePositionChanged);l.addEventListener((0,w.getChangeEventType)("positioning"),l.handlePositioningChanged);void 0!==f.element&&l.setElement(f.element);l.setOffset(void 0!==f.offset?f.offset:[0,0]);l.setPositioning(void 0!==f.positioning?f.positioning:n["default"].TOP_LEFT);void 0!==f.position&&l.setPosition(f.position);return l}b(a,d);a.prototype.getElement=
function(){return this.get("element")};a.prototype.getId=function(){return this.id};a.prototype.getMap=function(){return this.get("map")};a.prototype.getOffset=function(){return this.get("offset")};a.prototype.getPosition=function(){return this.get("position")};a.prototype.getPositioning=function(){return this.get("positioning")};a.prototype.handleElementChanged=function(){(0,e.removeChildren)(this.element);var f=this.getElement();f&&this.element.appendChild(f)};a.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&
((0,e.removeNode)(this.element),(0,c.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var f=this.getMap();f&&(this.mapPostrenderListenerKey=(0,c.listen)(f,u["default"].POSTRENDER,this.render,this),this.updatePixelPosition(),f=this.stopEvent?f.getOverlayContainerStopEvent():f.getOverlayContainer(),this.insertFirst?f.insertBefore(this.element,f.childNodes[0]||null):f.appendChild(this.element),this.performAutoPan())};a.prototype.render=function(){this.updatePixelPosition()};
a.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};a.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};a.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};a.prototype.setElement=function(f){this.set("element",f)};a.prototype.setMap=function(f){this.set("map",f)};a.prototype.setOffset=function(f){this.set("offset",f)};a.prototype.setPosition=function(f){this.set("position",f)};a.prototype.performAutoPan=function(){this.autoPan&&
this.panIntoView(this.autoPan)};a.prototype.panIntoView=function(f){var l=this.getMap();if(l&&l.getTargetElement()&&this.get("position")){var t=this.getRect(l.getTargetElement(),l.getSize()),q=this.getElement(),B=this.getRect(q,[(0,e.outerWidth)(q),(0,e.outerHeight)(q)]);f=f||{};q=void 0===f.margin?20:f.margin;if(!(0,h.containsExtent)(t,B)){var E=B[0]-t[0],z=t[2]-B[2],A=B[1]-t[1];B=t[3]-B[3];t=[0,0];0>E?t[0]=E-q:0>z&&(t[0]=Math.abs(z)+q);0>A?t[1]=A-q:0>B&&(t[1]=Math.abs(B)+q);if(0!==t[0]||0!==t[1])if(q=
l.getView().getCenterInternal(),q=l.getPixelFromCoordinateInternal(q))t=[q[0]+t[0],q[1]+t[1]],f=f.animation||{},l.getView().animateInternal({center:l.getCoordinateFromPixelInternal(t),duration:f.duration,easing:f.easing})}}};a.prototype.getRect=function(f,l){var t=f.getBoundingClientRect();f=t.left+window.pageXOffset;t=t.top+window.pageYOffset;return[f,t,f+l[0],t+l[1]]};a.prototype.setPositioning=function(f){this.set("positioning",f)};a.prototype.setVisible=function(f){this.rendered.visible!==f&&
(this.element.style.display=f?"":"none",this.rendered.visible=f)};a.prototype.updatePixelPosition=function(){var f=this.getMap(),l=this.getPosition();f&&f.isRendered()&&l?(l=f.getPixelFromCoordinate(l),f=f.getSize(),this.updateRenderedPosition(l,f)):this.setVisible(!1)};a.prototype.updateRenderedPosition=function(f,l){l=this.element.style;var t=this.getOffset(),q=this.getPositioning();this.setVisible(!0);var B=Math.round(f[0]+t[0])+"px";f=Math.round(f[1]+t[1])+"px";var E=t="0%";if(q==n["default"].BOTTOM_RIGHT||
q==n["default"].CENTER_RIGHT||q==n["default"].TOP_RIGHT)t="-100%";else if(q==n["default"].BOTTOM_CENTER||q==n["default"].CENTER_CENTER||q==n["default"].TOP_CENTER)t="-50%";if(q==n["default"].BOTTOM_LEFT||q==n["default"].BOTTOM_CENTER||q==n["default"].BOTTOM_RIGHT)E="-100%";else if(q==n["default"].CENTER_LEFT||q==n["default"].CENTER_CENTER||q==n["default"].CENTER_RIGHT)E="-50%";q="translate("+t+", "+E+") translate("+B+", "+f+")";this.rendered.transform_!=q&&(this.rendered.transform_=q,l.transform=
q,l.msTransform=q)};a.prototype.getOptions=function(){return this.options};return a}(w["default"]);r["default"]=S};
shadow$provide[167]=function(S,m,Y,r){function D(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(108));S=D(m(159));var v=D(m(91)),w=D(m(117)),u=D(m(118)),n=D(m(88)),k=D(m(166)),h=D(m(165));Y=D(m(158));var c=D(m(156)),e=D(m(125)),b=m(104),d=m(83),a=m(94),f=m(92),l=m(155),t=m(106),q=function(){var E=function(z,A){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var F in y)Object.prototype.hasOwnProperty.call(y,
F)&&(p[F]=y[F])};return E(z,A)};return function(z,A){function p(){this.constructor=z}E(z,A);z.prototype=null===A?Object.create(A):(p.prototype=A.prototype,new p)}}(),B=function(E){function z(){return null!==E&&E.apply(this,arguments)||this}q(z,E);z.prototype.createRenderer=function(){return new C["default"](this)};return z}(Y["default"]);m=function(E){function z(A){var p=this,y=A?A:{};p=E.call(this,{element:document.createElement("div"),render:y.render,target:y.target})||this;p.boundHandleRotationChanged_=
p.handleRotationChanged_.bind(p);p.collapsed_=void 0!==y.collapsed?y.collapsed:!0;p.collapsible_=void 0!==y.collapsible?y.collapsible:!0;p.collapsible_||(p.collapsed_=!1);p.rotateWithView_=void 0!==y.rotateWithView?y.rotateWithView:!1;p.viewExtent_=void 0;A=void 0!==y.className?y.className:"ol-overviewmap";var F=void 0!==y.tipLabel?y.tipLabel:"Overview map",J=void 0!==y.collapseLabel?y.collapseLabel:"«";"string"===typeof J?(p.collapseLabel_=document.createElement("span"),p.collapseLabel_.textContent=
J):p.collapseLabel_=J;J=void 0!==y.label?y.label:"»";"string"===typeof J?(p.label_=document.createElement("span"),p.label_.textContent=J):p.label_=J;var H=p.collapsible_&&!p.collapsed_?p.collapseLabel_:p.label_;J=document.createElement("button");J.setAttribute("type","button");J.title=F;J.appendChild(H);J.addEventListener(v["default"].CLICK,p.handleClick_.bind(p),!1);p.ovmapDiv_=document.createElement("div");p.ovmapDiv_.className="ol-overviewmap-map";p.view_=y.view;p.ovmap_=new B({view:y.view});var P=
p.ovmap_;y.layers&&y.layers.forEach(function(Q){P.addLayer(Q)});y=document.createElement("div");y.className="ol-overviewmap-box";y.style.boxSizing="border-box";p.boxOverlay_=new k["default"]({position:[0,0],positioning:h["default"].CENTER_CENTER,element:y});p.ovmap_.addOverlay(p.boxOverlay_);y=p.element;y.className=A+" "+b.CLASS_UNSELECTABLE+" "+b.CLASS_CONTROL+(p.collapsed_&&p.collapsible_?" "+b.CLASS_COLLAPSED:"")+(p.collapsible_?"":" ol-uncollapsible");y.appendChild(p.ovmapDiv_);y.appendChild(J);
var K=p,N=p.boxOverlay_,M=function(Q){Q=P.getEventCoordinateInternal({clientX:Q.clientX,clientY:Q.clientY});N.setPosition(Q)},O=function L(G){G=P.getEventCoordinateInternal(G);K.getMap().getView().setCenterInternal(G);window.removeEventListener("mousemove",M);window.removeEventListener("mouseup",L)};p.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",M);window.addEventListener("mouseup",O)});return p}q(z,E);z.prototype.setMap=function(A){var p=this.getMap();
A!==p&&(p&&((p=p.getView())&&this.unbindView_(p),this.ovmap_.setTarget(null)),E.prototype.setMap.call(this,A),A&&(this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,f.listen)(A,n["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),A=A.getView()))&&(this.bindView_(A),A.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))};z.prototype.handleMapPropertyChange_=function(A){A.key===u["default"].VIEW&&((A=A.oldValue)&&this.unbindView_(A),A=this.getMap().getView(),this.bindView_(A))};
z.prototype.bindView_=function(A){if(!this.view_){var p=new c["default"]({projection:A.getProjection()});this.ovmap_.setView(p)}A.addEventListener((0,a.getChangeEventType)(e["default"].ROTATION),this.boundHandleRotationChanged_);this.handleRotationChanged_()};z.prototype.unbindView_=function(A){A.removeEventListener((0,a.getChangeEventType)(e["default"].ROTATION),this.boundHandleRotationChanged_)};z.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};
z.prototype.validateExtent_=function(){var A=this.getMap(),p=this.ovmap_;if(A.isRendered()&&p.isRendered()){var y=A.getSize();A=A.getView().calculateExtentInternal(y);if(!this.viewExtent_||!(0,d.equals)(A,this.viewExtent_)){this.viewExtent_=A;var F=p.getSize();y=p.getView().calculateExtentInternal(F);var J=p.getPixelFromCoordinateInternal((0,d.getTopLeft)(A)),H=p.getPixelFromCoordinateInternal((0,d.getBottomRight)(A));p=Math.abs(J[0]-H[0]);J=Math.abs(J[1]-H[1]);H=F[0];F=F[1];p<.1*H||J<.1*F||p>.75*
H||J>.75*F?this.resetExtent_():(0,d.containsExtent)(y,A)||this.recenter_()}}};z.prototype.resetExtent_=function(){var A=this.getMap(),p=this.ovmap_,y=A.getSize();A=A.getView().calculateExtentInternal(y);p=p.getView();y=1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2));(0,d.scaleFromCenter)(A,y);p.fitInternal((0,l.fromExtent)(A))};z.prototype.recenter_=function(){var A=this.getMap(),p=this.ovmap_;A=A.getView();p.getView().setCenterInternal(A.getCenterInternal())};z.prototype.updateBox_=function(){var A=
this.getMap(),p=this.ovmap_;if(A.isRendered()&&p.isRendered()){var y=A.getSize(),F=A.getView(),J=p.getView();p=this.rotateWithView_?0:-F.getRotation();A=this.boxOverlay_;var H=this.boxOverlay_.getElement(),P=F.getCenterInternal();F=F.getResolution();var K=J.getResolution();J=y[0]*F/K;y=y[1]*F/K;A.setPosition(P);H&&(H.style.width=J+"px",H.style.height=y+"px",H.style.transform="rotate("+p+"rad)")}};z.prototype.handleClick_=function(A){A.preventDefault();this.handleToggle_()};z.prototype.handleToggle_=
function(){this.element.classList.toggle(b.CLASS_COLLAPSED);this.collapsed_?(0,t.replaceNode)(this.collapseLabel_,this.label_):(0,t.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;var A=this.ovmap_;this.collapsed_||(A.isRendered()?(this.viewExtent_=void 0,A.render()):(A.updateSize(),this.resetExtent_(),(0,f.listenOnce)(A,w["default"].POSTRENDER,function(p){this.updateBox_()},this)))};z.prototype.getCollapsible=function(){return this.collapsible_};z.prototype.setCollapsible=
function(A){this.collapsible_!==A&&(this.collapsible_=A,this.element.classList.toggle("ol-uncollapsible"),!A&&this.collapsed_&&this.handleToggle_())};z.prototype.setCollapsed=function(A){this.collapsible_&&this.collapsed_!==A&&this.handleToggle_()};z.prototype.getCollapsed=function(){return this.collapsed_};z.prototype.getRotateWithView=function(){return this.rotateWithView_};z.prototype.setRotateWithView=function(A){this.rotateWithView_!==A&&(this.rotateWithView_=A,0!==this.getMap().getView().getRotation()&&
(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};z.prototype.getOverviewMap=function(){return this.ovmap_};z.prototype.render=function(A){this.validateExtent_();this.updateBox_()};return z}(S["default"]);r["default"]=m};
shadow$provide[168]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.Units=void 0;S=D(m(159));var C=D(m(123)),v=m(104),w=m(133),u=m(79),n=m(94),k=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),h={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};r.Units=h;var c=[1,2,5],e=25.4/.28;m=function(b){function d(a){var f=a?a:{},l=void 0!==f.className?f.className:f.bar?"ol-scale-bar":"ol-scale-line";a=b.call(this,{element:document.createElement("div"),render:f.render,target:f.target})||this;a.innerElement_=document.createElement("div");a.innerElement_.className=l+"-inner";a.element.className=
l+" "+v.CLASS_UNSELECTABLE;a.element.appendChild(a.innerElement_);a.viewState_=null;a.minWidth_=void 0!==f.minWidth?f.minWidth:64;a.renderedVisible_=!1;a.renderedWidth_=void 0;a.renderedHTML_="";a.addEventListener((0,n.getChangeEventType)("units"),a.handleUnitsChanged_);a.setUnits(f.units||h.METRIC);a.scaleBar_=f.bar||!1;a.scaleBarSteps_=f.steps||4;a.scaleBarText_=f.text||!1;a.dpi_=f.dpi||void 0;return a}k(d,b);d.prototype.getUnits=function(){return this.get("units")};d.prototype.handleUnitsChanged_=
function(){this.updateElement_()};d.prototype.setUnits=function(a){this.set("units",a)};d.prototype.setDpi=function(a){this.dpi_=a};d.prototype.updateElement_=function(){var a=this.viewState_;if(a){var f=a.center,l=a.projection,t=this.getUnits(),q=t==h.DEGREES?C["default"].DEGREES:C["default"].METERS;a=(0,w.getPointResolution)(l,a.resolution,f,q);f=this.minWidth_*(this.dpi_||e)/e;q=f*a;l="";t==h.DEGREES?(t=w.METERS_PER_UNIT[C["default"].DEGREES],q*=t,q<t/60?(l="″",a*=3600):q<t?(l="′",a*=60):l="°"):
t==h.IMPERIAL?.9144>q?(l="in",a/=.0254):1609.344>q?(l="ft",a/=.3048):(l="mi",a/=1609.344):t==h.NAUTICAL?(a/=1852,l="nm"):t==h.METRIC?.001>q?(l="μm",a*=1E6):1>q?(l="mm",a*=1E3):1E3>q?l="m":(l="km",a/=1E3):t==h.US?.9144>q?(l="in",a*=39.37):1609.344>q?(l="ft",a/=.30480061):(l="mi",a/=1609.3472):(0,u.assert)(!1,33);q=3*Math.floor(Math.log(f*a)/Math.log(10));for(var B,E;;){E=Math.floor(q/3);B=c[(q%3+3)%3]*Math.pow(10,E);t=Math.round(B/a);if(isNaN(t)){this.element.style.display="none";this.renderedVisible_=
!1;return}if(t>=f)break;++q}a=this.scaleBar_?this.createScaleBar(t,B,l):B.toFixed(0>E?-E:0)+" "+l;this.renderedHTML_!=a&&(this.renderedHTML_=this.innerElement_.innerHTML=a);this.renderedWidth_!=t&&(this.innerElement_.style.width=t+"px",this.renderedWidth_=t);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};d.prototype.createScaleBar=function(a,f,l){for(var t="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),
q=[],B=a/this.scaleBarSteps_,E="#ffffff",z=0;z<this.scaleBarSteps_;z++)0===z&&q.push(this.createMarker("absolute",z)),q.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+B+"px;background-color: "+E+';"\x3e\x3c/div\x3e'+this.createMarker("relative",z)+(0===z%2||2===this.scaleBarSteps_?this.createStepText(z,a,!1,f,l):"")+"\x3c/div\x3e"),z===this.scaleBarSteps_-1&&q.push(this.createStepText(z+1,a,!0,f,l)),E="#ffffff"===E?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+
(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+a+'px;"\x3e'+t+"\x3c/div\x3e":"")+q.join("")+"\x3c/div\x3e"};d.prototype.createMarker=function(a,f){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+a+";top: "+("absolute"===a?3:-10)+'px;"\x3e\x3c/div\x3e'};d.prototype.createStepText=function(a,f,l,t,q){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===a?-3:f/this.scaleBarSteps_*-1)+"px;text-align: "+(0===a?"left":"center")+"; min-width: "+
(0===a?0:f/this.scaleBarSteps_*2)+"px;left: "+(l?f+"px":"unset")+';"\x3e'+((0===a?0:Math.round(t/this.scaleBarSteps_*a*100)/100)+(0===a?"":" "+q))+"\x3c/div\x3e"};d.prototype.getScaleForResolution=function(){var a=(0,w.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),f=this.dpi_||e,l=this.viewState_.projection.getMetersPerUnit(),t=1E3/25.4;return parseFloat(a.toString())*l*t*f};d.prototype.render=function(a){this.viewState_=(a=a.frameState)?a.viewState:
null;this.updateElement_()};return d}(S["default"]);r["default"]=m};
shadow$provide[169]=function(S,m,Y,r){function D(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(159));var C=D(m(91)),v=D(m(115)),w=m(104),u=m(84),n=m(137),k=m(92),h=m(87),c=function(){var e=function(b,d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=
b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();m=function(e){function b(d){var a=d?d:{};d=e.call(this,{element:document.createElement("div"),render:a.render})||this;d.dragListenerKeys_=[];d.currentResolution_=void 0;d.direction_=0;d.heightLimit_=0;d.widthLimit_=0;d.thumbSize_=null;d.sliderInitialized_=!1;d.duration_=void 0!==a.duration?a.duration:200;a=void 0!==a.className?a.className:"ol-zoomslider";var f=document.createElement("button");f.setAttribute("type",
"button");f.className=a+"-thumb "+w.CLASS_UNSELECTABLE;var l=d.element;l.className=a+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;l.appendChild(f);l.addEventListener(v["default"].POINTERDOWN,d.handleDraggerStart_.bind(d),!1);l.addEventListener(v["default"].POINTERMOVE,d.handleDraggerDrag_.bind(d),!1);l.addEventListener(v["default"].POINTERUP,d.handleDraggerEnd_.bind(d),!1);l.addEventListener(C["default"].CLICK,d.handleContainerClick_.bind(d),!1);f.addEventListener(C["default"].CLICK,h.stopPropagation,
!1);return d}c(b,e);b.prototype.setMap=function(d){e.prototype.setMap.call(this,d);d&&d.render()};b.prototype.initSlider_=function(){var d=this.element,a=d.offsetWidth,f=d.offsetHeight;if(0===a&&0===f)return this.sliderInitialized_=!1;var l=d.firstElementChild,t=getComputedStyle(l);d=l.offsetWidth+parseFloat(t.marginRight)+parseFloat(t.marginLeft);l=l.offsetHeight+parseFloat(t.marginTop)+parseFloat(t.marginBottom);this.thumbSize_=[d,l];a>f?(this.direction_=1,this.widthLimit_=a-d):(this.direction_=
0,this.heightLimit_=f-l);return this.sliderInitialized_=!0};b.prototype.handleContainerClick_=function(d){var a=this.getMap().getView();d=this.getRelativePosition_(d.offsetX-this.thumbSize_[0]/2,d.offsetY-this.thumbSize_[1]/2);d=this.getResolutionForPosition_(d);d=a.getConstrainedZoom(a.getZoomForResolution(d));a.animateInternal({zoom:d,duration:this.duration_,easing:n.easeOut})};b.prototype.handleDraggerStart_=function(d){if(!this.dragging_&&d.target===this.element.firstElementChild){var a=this.element.firstElementChild;
this.getMap().getView().beginInteraction();this.startX_=d.clientX-parseFloat(a.style.left);this.startY_=d.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){d=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var f=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,k.listen)(f,v["default"].POINTERMOVE,d,this),(0,k.listen)(f,v["default"].POINTERUP,a,this))}}};b.prototype.handleDraggerDrag_=function(d){this.dragging_&&(d=this.getRelativePosition_(d.clientX-
this.startX_,d.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(d),this.getMap().getView().setResolution(this.currentResolution_))};b.prototype.handleDraggerEnd_=function(d){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(k.unlistenByKey),this.dragListenerKeys_.length=0)};b.prototype.setThumbPosition_=function(d){d=this.getPositionForResolution_(d);var a=this.element.firstElementChild;
1==this.direction_?a.style.left=this.widthLimit_*d+"px":a.style.top=this.heightLimit_*d+"px"};b.prototype.getRelativePosition_=function(d,a){d=1===this.direction_?d/this.widthLimit_:a/this.heightLimit_;return(0,u.clamp)(d,0,1)};b.prototype.getResolutionForPosition_=function(d){return this.getMap().getView().getResolutionForValueFunction()(1-d)};b.prototype.getPositionForResolution_=function(d){var a=this.getMap().getView().getValueForResolutionFunction();return(0,u.clamp)(1-a(d),0,1)};b.prototype.render=
function(d){d.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=d=d.frameState.viewState.resolution,this.setThumbPosition_(d))};return b}(S["default"]);r["default"]=m};
shadow$provide[170]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(159));var C=D(m(91)),v=m(104),w=m(155),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===
h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(h){var c=h?h:{};h=n.call(this,{element:document.createElement("div"),target:c.target})||this;h.extent=c.extent?c.extent:null;var e=void 0!==c.className?c.className:"ol-zoom-extent",b=void 0!==c.label?c.label:"E",d=void 0!==c.tipLabel?c.tipLabel:"Fit to extent";c=document.createElement("button");c.setAttribute("type","button");c.title=d;c.appendChild("string"===typeof b?document.createTextNode(b):b);c.addEventListener(C["default"].CLICK,
h.handleClick_.bind(h),!1);b=h.element;b.className=e+" "+v.CLASS_UNSELECTABLE+" "+v.CLASS_CONTROL;b.appendChild(c);return h}u(k,n);k.prototype.handleClick_=function(h){h.preventDefault();this.handleZoomToExtent()};k.prototype.handleZoomToExtent=function(){var h=this.getMap().getView(),c=this.extent?this.extent:h.getProjection().getExtent();h.fitInternal((0,w.fromExtent)(c))};return k}(S["default"]);r["default"]=m};
shadow$provide[171]=function(S,m,Y,r){function D(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(r,"__esModule",{value:!0});r.defaults=function(a){a=a?a:{};var f=new v["default"];(void 0!==a.zoom?a.zoom:1)&&f.push(new u["default"](a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&f.push(new w["default"](a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&f.push(new C["default"](a.attributionOptions));return f};Object.defineProperty(r,"Attribution",{enumerable:!0,get:function(){return C["default"]}});
Object.defineProperty(r,"Rotate",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(r,"Zoom",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(r,"Control",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(r,"FullScreen",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(r,"MousePosition",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(r,"OverviewMap",{enumerable:!0,get:function(){return c["default"]}});
Object.defineProperty(r,"ScaleLine",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(r,"ZoomSlider",{enumerable:!0,get:function(){return b["default"]}});Object.defineProperty(r,"ZoomToExtent",{enumerable:!0,get:function(){return d["default"]}});var C=D(m(160)),v=D(m(110)),w=D(m(161)),u=D(m(162)),n=D(m(159)),k=D(m(163)),h=D(m(164)),c=D(m(167)),e=D(m(168)),b=D(m(169)),d=D(m(170))};
shadow$provide[172]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={ACTIVE:"active"}};
shadow$provide[173]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r.pan=function(u,n,k){var h=u.getCenterInternal();h&&u.animateInternal({duration:void 0!==k?k:250,easing:v.linear,center:u.getConstrainedCenter([h[0]+n[0],h[1]+n[1]])})};r.zoomByDelta=function(u,n,k,h){var c=u.getZoom();void 0!==c&&(n=u.getConstrainedZoom(c+n),n=u.getResolutionForZoom(n),u.getAnimating()&&u.cancelAnimations(),u.animate({resolution:n,anchor:k,
duration:void 0!==h?h:250,easing:v.easeOut}))};r["default"]=void 0;S=D(m(94));var C=D(m(172)),v=m(137),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){var h=u.call(this)||
this;k&&k.handleEvent&&(h.handleEvent=k.handleEvent);h.map_=null;h.setActive(!0);return h}w(n,u);n.prototype.getActive=function(){return this.get(C["default"].ACTIVE)};n.prototype.getMap=function(){return this.map_};n.prototype.handleEvent=function(k){return!0};n.prototype.setActive=function(k){this.set(C["default"].ACTIVE,k)};n.prototype.setMap=function(k){this.map_=k};return n}(S["default"]);r["default"]=m};
shadow$provide[174]=function(S,m,Y,r){function D(n){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};return D(n)}function C(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;C=function(){return n};return n}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=function(n){if(n&&n.__esModule)return n;if(null===
n||"object"!==D(n)&&"function"!==typeof n)return{"default":n};var k=C();if(k&&k.has(n))return k.get(n);var h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var b=c?Object.getOwnPropertyDescriptor(n,e):null;b&&(b.get||b.set)?Object.defineProperty(h,e,b):h[e]=n[e]}h["default"]=n;k&&k.set(n,h);return h}(m(173)),w=function(n){return n&&n.__esModule?n:{"default":n}}(m(114)),u=function(){var n=function(k,h){n=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();S=function(n){function k(h){var c=n.call(this)||this;h=h?h:{};c.delta_=h.delta?h.delta:1;c.duration_=void 0!==h.duration?h.duration:250;return c}u(k,n);k.prototype.handleEvent=function(h){var c=!1;if(h.type==
w["default"].DBLCLICK){c=h.originalEvent;var e=h.coordinate,b=c.shiftKey?-this.delta_:this.delta_;h=h.map.getView();(0,v.zoomByDelta)(h,b,e,this.duration_);c.preventDefault();c=!0}return!c};return k}(v["default"]);r["default"]=S};
shadow$provide[175]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r.centroid=function(u){for(var n=u.length,k=0,h=0,c=0;c<n;c++)k+=u[c].clientX,h+=u[c].clientY;return[k/n,h/n]};r["default"]=void 0;S=D(m(173));var C=D(m(114)),v=m(89),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=
c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){var h=k?k:{};k=u.call(this,h)||this;h.handleDownEvent&&(k.handleDownEvent=h.handleDownEvent);h.handleDragEvent&&(k.handleDragEvent=h.handleDragEvent);h.handleMoveEvent&&(k.handleMoveEvent=h.handleMoveEvent);h.handleUpEvent&&(k.handleUpEvent=h.handleUpEvent);h.stopDown&&(k.stopDown=h.stopDown);k.handlingDownUpSequence=
!1;k.trackedPointers_={};k.targetPointers=[];return k}w(n,u);n.prototype.getPointerCount=function(){return this.targetPointers.length};n.prototype.handleDownEvent=function(k){return!1};n.prototype.handleDragEvent=function(k){};n.prototype.handleEvent=function(k){if(!k.originalEvent)return!0;var h=!1;this.updateTrackedPointers_(k);this.handlingDownUpSequence?k.type==C["default"].POINTERDRAG?(this.handleDragEvent(k),k.originalEvent.preventDefault()):k.type==C["default"].POINTERUP&&(this.handlingDownUpSequence=
this.handleUpEvent(k)&&0<this.targetPointers.length):k.type==C["default"].POINTERDOWN?(this.handlingDownUpSequence=k=this.handleDownEvent(k),h=this.stopDown(k)):k.type==C["default"].POINTERMOVE&&this.handleMoveEvent(k);return!h};n.prototype.handleMoveEvent=function(k){};n.prototype.handleUpEvent=function(k){return!1};n.prototype.stopDown=function(k){return k};n.prototype.updateTrackedPointers_=function(k){var h=k.type;if(h===C["default"].POINTERDOWN||h===C["default"].POINTERDRAG||h===C["default"].POINTERUP){h=
k.originalEvent;var c=h.pointerId.toString();k.type==C["default"].POINTERUP?delete this.trackedPointers_[c]:k.type==C["default"].POINTERDOWN?this.trackedPointers_[c]=h:c in this.trackedPointers_&&(this.trackedPointers_[c]=h);this.targetPointers=(0,v.getValues)(this.trackedPointers_)}};return n}(S["default"]);r["default"]=m};
shadow$provide[176]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.all=function(u){var n=arguments;return function(k){for(var h=!0,c=0,e=n.length;c<e&&(h=h&&n[c](k),h);++c);return h}};r.primaryAction=r.penOnly=r.touchOnly=r.mouseOnly=r.targetNotEditable=r.shiftKeyOnly=r.platformModifierKeyOnly=r.noModifierKeys=r.doubleClick=r.singleClick=r.pointerMove=r.never=r.mouseActionButton=r.click=r.always=r.focusWithTabindex=r.focus=r.altShiftKeysOnly=r.altKeyOnly=void 0;var D=function(u){return u&&
u.__esModule?u:{"default":u}}(m(114));S=m(76);var C=m(105),v=m(79);r.altKeyOnly=function(u){u=u.originalEvent;return u.altKey&&!(u.metaKey||u.ctrlKey)&&!u.shiftKey};r.altShiftKeysOnly=function(u){u=u.originalEvent;return u.altKey&&!(u.metaKey||u.ctrlKey)&&u.shiftKey};var w=function(u){return u.target.getTargetElement().contains(document.activeElement)};r.focus=w;r.focusWithTabindex=function(u){return u.map.getTargetElement().hasAttribute("tabindex")?w(u):!0};r.always=S.TRUE;r.click=function(u){return u.type==
D["default"].CLICK};r.mouseActionButton=function(u){u=u.originalEvent;return 0==u.button&&!(C.WEBKIT&&C.MAC&&u.ctrlKey)};r.never=S.FALSE;r.pointerMove=function(u){return"pointermove"==u.type};r.singleClick=function(u){return u.type==D["default"].SINGLECLICK};r.doubleClick=function(u){return u.type==D["default"].DBLCLICK};r.noModifierKeys=function(u){u=u.originalEvent;return!u.altKey&&!(u.metaKey||u.ctrlKey)&&!u.shiftKey};r.platformModifierKeyOnly=function(u){u=u.originalEvent;return!u.altKey&&(C.MAC?
u.metaKey:u.ctrlKey)&&!u.shiftKey};r.shiftKeyOnly=function(u){u=u.originalEvent;return!u.altKey&&!(u.metaKey||u.ctrlKey)&&u.shiftKey};r.targetNotEditable=function(u){u=u.originalEvent.target.tagName;return"INPUT"!==u&&"SELECT"!==u&&"TEXTAREA"!==u};r.mouseOnly=function(u){u=u.originalEvent;(0,v.assert)(void 0!==u,56);return"mouse"==u.pointerType};r.touchOnly=function(u){u=u.originalEvent;(0,v.assert)(void 0!==u,56);return"touch"===u.pointerType};r.penOnly=function(u){u=u.originalEvent;(0,v.assert)(void 0!==
u,56);return"pen"===u.pointerType};r.primaryAction=function(u){u=u.originalEvent;(0,v.assert)(void 0!==u,56);return u.isPrimary&&0===u.button}};
shadow$provide[177]=function(S,m,Y,r){function D(c){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return D(c)}function C(){if("function"!==typeof WeakMap)return null;var c=new WeakMap;C=function(){return c};return c}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=function(c){if(c&&c.__esModule)return c;if(null===
c||"object"!==D(c)&&"function"!==typeof c)return{"default":c};var e=C();if(e&&e.has(c))return e.get(c);var b={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in c)if(Object.prototype.hasOwnProperty.call(c,a)){var f=d?Object.getOwnPropertyDescriptor(c,a):null;f&&(f.get||f.set)?Object.defineProperty(b,a,f):b[a]=c[a]}b["default"]=c;e&&e.set(c,b);return b}(m(175)),w=m(76),u=m(176),n=m(137),k=m(101),h=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();S=function(c){function e(b){var d=c.call(this,{stopDown:w.FALSE})||this;b=b?b:{};d.kinetic_=b.kinetic;d.lastCentroid=null;d.panning_=!1;var a=b.condition?b.condition:(0,u.all)(u.noModifierKeys,u.primaryAction);d.condition_=b.onFocusOnly?
(0,u.all)(u.focusWithTabindex,a):a;d.noKinetic_=!1;return d}h(e,c);e.prototype.handleDragEvent=function(b){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var d=this.targetPointers,a=(0,v.centroid)(d);if(d.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){var f=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],l=b.map.getView();(0,k.scale)(f,l.getResolution());(0,k.rotate)(f,l.getRotation());l.adjustCenterInternal(f)}}else this.kinetic_&&
this.kinetic_.begin();this.lastCentroid=a;this.lastPointersCount_=d.length;b.originalEvent.preventDefault()};e.prototype.handleUpEvent=function(b){var d=b.map;b=d.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),f=this.kinetic_.getAngle(),l=b.getCenterInternal();l=d.getPixelFromCoordinateInternal(l);d=d.getCoordinateFromPixelInternal([l[0]-a*Math.cos(f),l[1]-a*Math.sin(f)]);b.animateInternal({center:b.getConstrainedCenter(d),
duration:500,easing:n.easeOut})}this.panning_&&(this.panning_=!1,b.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0};e.prototype.handleDownEvent=function(b){return 0<this.targetPointers.length&&this.condition_(b)?(b=b.map.getView(),this.lastCentroid=null,b.getAnimating()&&b.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return e}(v["default"]);r["default"]=S};
shadow$provide[178]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(u){return u&&u.__esModule?u:{"default":u}}(m(175));var D=m(76),C=m(176),v=m(136),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){var h=k?k:{};k=u.call(this,{stopDown:D.FALSE})||this;k.condition_=h.condition?h.condition:C.altShiftKeysOnly;k.lastAngle_=void 0;k.duration_=void 0!==h.duration?h.duration:250;return k}w(n,u);n.prototype.handleDragEvent=function(k){if((0,C.mouseOnly)(k)){var h=k.map,c=h.getView();c.getConstraints().rotation!==v.disable&&(h=h.getSize(),k=k.pixel,k=Math.atan2(h[1]/2-k[1],k[0]-h[0]/2),void 0!==this.lastAngle_&&c.adjustRotationInternal(-(k-
this.lastAngle_)),this.lastAngle_=k)}};n.prototype.handleUpEvent=function(k){if(!(0,C.mouseOnly)(k))return!0;k.map.getView().endInteraction(this.duration_);return!1};n.prototype.handleDownEvent=function(k){return(0,C.mouseOnly)(k)&&(0,C.mouseActionButton)(k)&&this.condition_(k)?(k.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return n}(S["default"]);r["default"]=m};
shadow$provide[179]=function(S,m,Y,r){function D(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(74));var C=D(m(155)),v=function(){var w=function(u,n){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])};return w(u,n)};return function(u,n){function k(){this.constructor=u}w(u,n);u.prototype=null===n?Object.create(n):
(k.prototype=n.prototype,new k)}}();m=function(w){function u(n){var k=w.call(this)||this;k.geometry_=null;k.element_=document.createElement("div");k.element_.style.position="absolute";k.element_.style.pointerEvents="auto";k.element_.className="ol-box "+n;k.map_=null;k.startPixel_=null;k.endPixel_=null;return k}v(u,w);u.prototype.disposeInternal=function(){this.setMap(null)};u.prototype.render_=function(){var n=this.startPixel_,k=this.endPixel_,h=this.element_.style;h.left=Math.min(n[0],k[0])+"px";
h.top=Math.min(n[1],k[1])+"px";h.width=Math.abs(k[0]-n[0])+"px";h.height=Math.abs(k[1]-n[1])+"px"};u.prototype.setMap=function(n){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var k=this.element_.style;k.left="inherit";k.top="inherit";k.width="inherit";k.height="inherit"}(this.map_=n)&&this.map_.getOverlayContainer().appendChild(this.element_)};u.prototype.setPixels=function(n,k){this.startPixel_=n;this.endPixel_=k;this.createOrUpdateGeometry();this.render_()};u.prototype.createOrUpdateGeometry=
function(){var n=this.startPixel_,k=this.endPixel_;n=[n,[n[0],k[1]],k,[k[0],n[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice();this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new C["default"]([n])};u.prototype.getGeometry=function(){return this.geometry_};return u}(S["default"]);r["default"]=m};
shadow$provide[180]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.DragBoxEvent=void 0;S=D(m(87));Y=D(m(175));var C=D(m(179)),v=m(176),w=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);
k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}(),u=function(n){function k(h,c,e){h=n.call(this,h)||this;h.coordinate=c;h.mapBrowserEvent=e;return h}w(k,n);return k}(S["default"]);r.DragBoxEvent=u;m=function(n){function k(h){var c=n.call(this)||this;h=h?h:{};c.box_=new C["default"](h.className||"ol-dragbox");c.minArea_=void 0!==h.minArea?h.minArea:64;h.onBoxEnd&&(c.onBoxEnd=h.onBoxEnd);c.startPixel_=null;c.condition_=h.condition?h.condition:v.mouseActionButton;c.boxEndCondition_=
h.boxEndCondition?h.boxEndCondition:c.defaultBoxEndCondition;return c}w(k,n);k.prototype.defaultBoxEndCondition=function(h,c,e){h=e[0]-c[0];c=e[1]-c[1];return h*h+c*c>=this.minArea_};k.prototype.getGeometry=function(){return this.box_.getGeometry()};k.prototype.handleDragEvent=function(h){this.box_.setPixels(this.startPixel_,h.pixel);this.dispatchEvent(new u("boxdrag",h.coordinate,h))};k.prototype.handleUpEvent=function(h){this.box_.setMap(null);var c=this.boxEndCondition_(h,this.startPixel_,h.pixel);
if(c)this.onBoxEnd(h);this.dispatchEvent(new u(c?"boxend":"boxcancel",h.coordinate,h));return!1};k.prototype.handleDownEvent=function(h){return this.condition_(h)?(this.startPixel_=h.pixel,this.box_.setMap(h.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new u("boxstart",h.coordinate,h)),!0):!1};k.prototype.onBoxEnd=function(h){};return k}(Y["default"]);r["default"]=m};
shadow$provide[181]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(u){return u&&u.__esModule?u:{"default":u}}(m(180));var D=m(83),C=m(137),v=m(176),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){var h=k?k:{};k=u.call(this,{condition:h.condition?h.condition:v.shiftKeyOnly,className:h.className||"ol-dragzoom",minArea:h.minArea})||this;k.duration_=void 0!==h.duration?h.duration:200;k.out_=void 0!==h.out?h.out:!1;return k}w(n,u);n.prototype.onBoxEnd=function(k){var h=this.getMap();k=h.getView();var c=h.getSize(),e=this.getGeometry().getExtent();if(this.out_){var b=k.calculateExtentInternal(c);e=(0,D.createOrUpdateFromCoordinates)([h.getPixelFromCoordinateInternal((0,
D.getBottomLeft)(e)),h.getPixelFromCoordinateInternal((0,D.getTopRight)(e))]);e=k.getResolutionForExtentInternal(e,c);(0,D.scaleFromCenter)(b,1/e);e=b}c=k.getConstrainedResolution(k.getResolutionForExtentInternal(e,c));b=k.getConstrainedCenter((0,D.getCenter)(e),c);k.animateInternal({resolution:c,center:b,duration:this.duration_,easing:C.easeOut})};return n}(S["default"]);r["default"]=m};
shadow$provide[182]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[183]=function(S,m,Y,r){function D(e){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return D(e)}function C(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;C=function(){return e};return e}function v(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
v(m(91)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==D(e)&&"function"!==typeof e)return{"default":e};var b=C();if(b&&b.has(e))return b.get(e);var d={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in e)if(Object.prototype.hasOwnProperty.call(e,f)){var l=a?Object.getOwnPropertyDescriptor(e,f):null;l&&(l.get||l.set)?Object.defineProperty(d,f,l):d[f]=e[f]}d["default"]=e;b&&b.set(e,d);return d}(m(173)),n=v(m(182)),k=m(176),h=m(101),c=function(){var e=function(b,
d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();S=function(e){function b(d){var a=e.call(this)||this;d=d||{};a.defaultCondition_=function(f){return(0,k.noModifierKeys)(f)&&(0,k.targetNotEditable)(f)};a.condition_=void 0!==d.condition?
d.condition:a.defaultCondition_;a.duration_=void 0!==d.duration?d.duration:100;a.pixelDelta_=void 0!==d.pixelDelta?d.pixelDelta:128;return a}c(b,e);b.prototype.handleEvent=function(d){var a=!1;if(d.type==w["default"].KEYDOWN){var f=d.originalEvent,l=f.keyCode;if(this.condition_(d)&&(l==n["default"].DOWN||l==n["default"].LEFT||l==n["default"].RIGHT||l==n["default"].UP)){d=d.map.getView();a=d.getResolution()*this.pixelDelta_;var t=0,q=0;l==n["default"].DOWN?q=-a:l==n["default"].LEFT?t=-a:l==n["default"].RIGHT?
t=a:q=a;l=[t,q];(0,h.rotate)(l,d.getRotation());(0,u.pan)(d,l,this.duration_);f.preventDefault();a=!0}}return!a};return b}(u["default"]);r["default"]=S};
shadow$provide[184]=function(S,m,Y,r){function D(k){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return D(k)}function C(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;C=function(){return k};return k}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=function(k){return k&&k.__esModule?k:{"default":k}}(m(91)),
w=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==D(k)&&"function"!==typeof k)return{"default":k};var h=C();if(h&&h.has(k))return h.get(k);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,b;for(b in k)if(Object.prototype.hasOwnProperty.call(k,b)){var d=e?Object.getOwnPropertyDescriptor(k,b):null;d&&(d.get||d.set)?Object.defineProperty(c,b,d):c[b]=k[b]}c["default"]=k;h&&h.set(k,c);return c}(m(173)),u=m(176),n=function(){var k=function(h,c){k=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();S=function(k){function h(c){var e=k.call(this)||this;c=c?c:{};e.condition_=c.condition?c.condition:u.targetNotEditable;e.delta_=c.delta?c.delta:1;e.duration_=void 0!==c.duration?c.duration:100;return e}n(h,
k);h.prototype.handleEvent=function(c){var e=!1;if(c.type==v["default"].KEYDOWN||c.type==v["default"].KEYPRESS){var b=c.originalEvent,d=b.charCode;!this.condition_(c)||43!=d&&45!=d||(e=43==d?this.delta_:-this.delta_,c=c.map.getView(),(0,w.zoomByDelta)(c,e,void 0,this.duration_),b.preventDefault(),e=!0)}return!e};return h}(w["default"]);r["default"]=S};
shadow$provide[185]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(){function D(C,v,w){this.decay_=C;this.minVelocity_=v;this.delay_=w;this.points_=[];this.initialVelocity_=this.angle_=0}D.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};D.prototype.update=function(C,v){this.points_.push(C,v,Date.now())};D.prototype.end=function(){if(6>this.points_.length)return!1;var C=Date.now()-this.delay_,v=this.points_.length-
3;if(this.points_[v+2]<C)return!1;for(var w=v-3;0<w&&this.points_[w+2]>C;)w-=3;C=this.points_[v+2]-this.points_[w+2];if(C<1E3/60)return!1;var u=this.points_[v]-this.points_[w];v=this.points_[v+1]-this.points_[w+1];this.angle_=Math.atan2(v,u);this.initialVelocity_=Math.sqrt(u*u+v*v)/C;return this.initialVelocity_>this.minVelocity_};D.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};D.prototype.getAngle=function(){return this.angle_};return D}();r["default"]=
S};
shadow$provide[186]=function(S,m,Y,r){function D(e){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return D(e)}function C(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;C=function(){return e};return e}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.Mode=void 0;var v=function(e){return e&&e.__esModule?e:{"default":e}}(m(91)),
w=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==D(e)&&"function"!==typeof e)return{"default":e};var b=C();if(b&&b.has(e))return b.get(e);var d={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in e)if(Object.prototype.hasOwnProperty.call(e,f)){var l=a?Object.getOwnPropertyDescriptor(e,f):null;l&&(l.get||l.set)?Object.defineProperty(d,f,l):d[f]=e[f]}d["default"]=e;b&&b.set(e,d);return d}(m(173)),u=m(105),n=m(176),k=m(84),h=function(){var e=function(b,d){e=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}(),c={TRACKPAD:"trackpad",WHEEL:"wheel"};r.Mode=c;S=function(e){function b(d){var a=d?d:{};d=e.call(this,a)||this;d.totalDelta_=0;d.lastDelta_=0;d.maxDelta_=void 0!==a.maxDelta?a.maxDelta:1;d.duration_=void 0!==
a.duration?a.duration:250;d.timeout_=void 0!==a.timeout?a.timeout:80;d.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;d.constrainResolution_=void 0!==a.constrainResolution?a.constrainResolution:!1;var f=a.condition?a.condition:n.always;d.condition_=a.onFocusOnly?(0,n.all)(n.focusWithTabindex,f):f;d.lastAnchor_=null;d.startTime_=void 0;d.mode_=void 0;d.trackpadEventGap_=400;d.deltaPerZoom_=300;return d}h(b,e);b.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,
this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};b.prototype.handleEvent=function(d){if(!this.condition_(d)||d.type!==v["default"].WHEEL)return!0;var a=d.map,f=d.originalEvent;f.preventDefault();this.useAnchor_&&(this.lastAnchor_=d.coordinate);if(d.type==v["default"].WHEEL){var l=f.deltaY;u.FIREFOX&&f.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(l/=u.DEVICE_PIXEL_RATIO);f.deltaMode===WheelEvent.DOM_DELTA_LINE&&(l*=40)}if(0===l)return!1;this.lastDelta_=l;d=Date.now();void 0===this.startTime_&&
(this.startTime_=d);if(!this.mode_||d-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(l)?c.TRACKPAD:c.WHEEL;f=a.getView();if(this.mode_===c.TRACKPAD&&!f.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(f.getAnimating()&&f.cancelAnimations(),f.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),f.adjustZoom(-l/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=
d,!1;this.totalDelta_+=l;l=Math.max(this.timeout_-(d-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),l);return!1};b.prototype.handleWheelZoom_=function(d){d=d.getView();d.getAnimating()&&d.cancelAnimations();var a=-(0,k.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(d.getConstrainResolution()||this.constrainResolution_)a=a?0<a?1:-1:0;(0,w.zoomByDelta)(d,a,this.lastAnchor_,
this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};b.prototype.setMouseAnchor=function(d){this.useAnchor_=d;d||(this.lastAnchor_=null)};return b}(w["default"]);r["default"]=S};
shadow$provide[187]=function(S,m,Y,r){function D(k){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return D(k)}function C(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;C=function(){return k};return k}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=function(k){if(k&&k.__esModule)return k;if(null===
k||"object"!==D(k)&&"function"!==typeof k)return{"default":k};var h=C();if(h&&h.has(k))return h.get(k);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,b;for(b in k)if(Object.prototype.hasOwnProperty.call(k,b)){var d=e?Object.getOwnPropertyDescriptor(k,b):null;d&&(d.get||d.set)?Object.defineProperty(c,b,d):c[b]=k[b]}c["default"]=k;h&&h.set(k,c);return c}(m(175)),w=m(76),u=m(136),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=
b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();S=function(k){function h(c){var e=c?c:{};e.stopDown||(e.stopDown=w.FALSE);c=k.call(this,e)||this;c.anchor_=null;c.lastAngle_=void 0;c.rotating_=!1;c.rotationDelta_=0;c.threshold_=void 0!==e.threshold?e.threshold:.3;c.duration_=void 0!==e.duration?e.duration:250;return c}
n(h,k);h.prototype.handleDragEvent=function(c){var e=0,b=this.targetPointers[0],d=this.targetPointers[1];b=Math.atan2(d.clientY-b.clientY,d.clientX-b.clientX);void 0!==this.lastAngle_&&(e=b-this.lastAngle_,this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=b;c=c.map;b=c.getView();if(b.getConstraints().rotation!==u.disable){d=c.getViewport().getBoundingClientRect();var a=(0,v.centroid)(this.targetPointers);a[0]-=d.left;a[1]-=
d.top;this.anchor_=c.getCoordinateFromPixelInternal(a);this.rotating_&&(c.render(),b.adjustRotationInternal(e,this.anchor_))}};h.prototype.handleUpEvent=function(c){return 2>this.targetPointers.length?(c.map.getView().endInteraction(this.duration_),!1):!0};h.prototype.handleDownEvent=function(c){return 2<=this.targetPointers.length?(c=c.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||c.getView().beginInteraction(),!0):!1};return h}(v["default"]);
r["default"]=S};
shadow$provide[188]=function(S,m,Y,r){function D(n){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};return D(n)}function C(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;C=function(){return n};return n}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=function(n){if(n&&n.__esModule)return n;if(null===
n||"object"!==D(n)&&"function"!==typeof n)return{"default":n};var k=C();if(k&&k.has(n))return k.get(n);var h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var b=c?Object.getOwnPropertyDescriptor(n,e):null;b&&(b.get||b.set)?Object.defineProperty(h,e,b):h[e]=n[e]}h["default"]=n;k&&k.set(n,h);return h}(m(175)),w=m(76),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=
e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();S=function(n){function k(h){var c=h?h:{};c.stopDown||(c.stopDown=w.FALSE);h=n.call(this,c)||this;h.anchor_=null;h.duration_=void 0!==c.duration?c.duration:400;h.lastDistance_=void 0;h.lastScaleDelta_=1;return h}u(k,n);k.prototype.handleDragEvent=function(h){var c=
1,e=this.targetPointers[0],b=this.targetPointers[1],d=e.clientX-b.clientX;e=e.clientY-b.clientY;d=Math.sqrt(d*d+e*e);void 0!==this.lastDistance_&&(c=this.lastDistance_/d);this.lastDistance_=d;h=h.map;d=h.getView();1!=c&&(this.lastScaleDelta_=c);e=h.getViewport().getBoundingClientRect();b=(0,v.centroid)(this.targetPointers);b[0]-=e.left;b[1]-=e.top;this.anchor_=h.getCoordinateFromPixelInternal(b);h.render();d.adjustResolutionInternal(c,this.anchor_)};k.prototype.handleUpEvent=function(h){return 2>
this.targetPointers.length?(h.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};k.prototype.handleDownEvent=function(h){return 2<=this.targetPointers.length?(h=h.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||h.getView().beginInteraction(),!0):!1};return k}(v["default"]);r["default"]=S};
shadow$provide[189]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[190]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.DragAndDropEvent=void 0;S=D(m(87));var C=D(m(91)),v=D(m(189));Y=D(m(173));var w=m(76),u=m(133),n=m(92),k=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=
e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),h=function(c){function e(b,d,a,f){b=c.call(this,b)||this;b.features=a;b.file=d;b.projection=f;return b}k(e,c);return e}(S["default"]);r.DragAndDropEvent=h;m=function(c){function e(b){var d=b?b:{};b=c.call(this,{handleEvent:w.TRUE})||this;b.readAsBuffer_=!1;b.formats_=[];for(var a=d.formatConstructors?d.formatConstructors:[],f=0,l=a.length;f<l;++f){var t=a[f];"function"===typeof t&&(t=new t);b.formats_.push(t);b.readAsBuffer_=
b.readAsBuffer_||t.getType()===v["default"].ARRAY_BUFFER}b.projection_=d.projection?(0,u.get)(d.projection):null;b.dropListenKeys_=null;b.source_=d.source||null;b.target=d.target?d.target:null;return b}k(e,c);e.prototype.handleResult_=function(b,d){d=d.target.result;var a=this.getMap(),f=this.projection_;f||(f=a.getView().getProjection());var l;a=this.formats_;for(var t=0,q=a.length;t<q;++t){var B=a[t],E=d;this.readAsBuffer_&&B.getType()!==v["default"].ARRAY_BUFFER&&(void 0===l&&(l=(new TextDecoder).decode(d)),
E=l);if((B=this.tryReadFeatures_(B,E,{featureProjection:f}))&&0<B.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(B));this.dispatchEvent(new h("addfeatures",b,B,f));break}}};e.prototype.registerListeners_=function(){var b=this.getMap();b&&(b=this.target?this.target:b.getViewport(),this.dropListenKeys_=[(0,n.listen)(b,C["default"].DROP,this.handleDrop,this),(0,n.listen)(b,C["default"].DRAGENTER,this.handleStop,this),(0,n.listen)(b,C["default"].DRAGOVER,this.handleStop,this),(0,
n.listen)(b,C["default"].DROP,this.handleStop,this)])};e.prototype.setActive=function(b){!this.getActive()&&b&&this.registerListeners_();this.getActive()&&!b&&this.unregisterListeners_();c.prototype.setActive.call(this,b)};e.prototype.setMap=function(b){this.unregisterListeners_();c.prototype.setMap.call(this,b);this.getActive()&&this.registerListeners_()};e.prototype.tryReadFeatures_=function(b,d,a){try{return b.readFeatures(d,a)}catch(f){return null}};e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&
(this.dropListenKeys_.forEach(n.unlistenByKey),this.dropListenKeys_=null)};e.prototype.handleDrop=function(b){b=b.dataTransfer.files;for(var d=0,a=b.length;d<a;++d){var f=b.item(d),l=new FileReader;l.addEventListener(C["default"].LOAD,this.handleResult_.bind(this,f));this.readAsBuffer_?l.readAsArrayBuffer(f):l.readAsText(f)}};e.prototype.handleStop=function(b){b.stopPropagation();b.preventDefault();b.dataTransfer.dropEffect="copy"};return e}(Y["default"]);r["default"]=m};
shadow$provide[191]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(v){return v&&v.__esModule?v:{"default":v}}(m(175));var D=m(176),C=function(){var v=function(w,u){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,k){n.__proto__=k}||function(n,k){for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(n[h]=k[h])};return v(w,u)};return function(w,u){function n(){this.constructor=w}v(w,u);w.prototype=null===u?Object.create(u):(n.prototype=
u.prototype,new n)}}();m=function(v){function w(u){var n=u?u:{};u=v.call(this,n)||this;u.condition_=n.condition?n.condition:D.shiftKeyOnly;u.lastAngle_=void 0;u.lastMagnitude_=void 0;u.lastScaleDelta_=0;u.duration_=void 0!==n.duration?n.duration:400;return u}C(w,v);w.prototype.handleDragEvent=function(u){if((0,D.mouseOnly)(u)){var n=u.map,k=n.getSize(),h=u.pixel;u=h[0]-k[0]/2;h=k[1]/2-h[1];k=Math.atan2(h,u);u=Math.sqrt(u*u+h*h);n=n.getView();void 0!==this.lastAngle_&&n.adjustRotationInternal(this.lastAngle_-
k);this.lastAngle_=k;void 0!==this.lastMagnitude_&&n.adjustResolutionInternal(this.lastMagnitude_/u);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/u);this.lastMagnitude_=u}};w.prototype.handleUpEvent=function(u){if(!(0,D.mouseOnly)(u))return!0;u.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};w.prototype.handleDownEvent=function(u){return(0,D.mouseOnly)(u)&&this.condition_(u)?(u.map.getView().beginInteraction(),this.lastMagnitude_=
this.lastAngle_=void 0,!0):!1};return w}(S["default"]);r["default"]=m};
shadow$provide[192]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(122));S=D(m(141));var v=m(83),w=m(143),u=m(139),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=
null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c,e,b){var d=k.call(this)||this;void 0!==b&&void 0===e?d.setFlatCoordinates(b,c):d.setCenterAndRadius(c,e?e:0,b);return d}n(h,k);h.prototype.clone=function(){var c=new h(this.flatCoordinates.slice(),void 0,this.layout);c.applyProperties(this);return c};h.prototype.closestPointXY=function(c,e,b,d){var a=this.flatCoordinates;c-=a[0];var f=e-a[1];e=c*c+f*f;if(e<d){0===e?d=0:(d=this.getRadius()/Math.sqrt(e),b[0]=a[0]+
d*c,b[1]=a[1]+d*f,d=2);for(;d<this.stride;++d)b[d]=a[d];b.length=this.stride;return e}return d};h.prototype.containsXY=function(c,e){var b=this.flatCoordinates;c-=b[0];e-=b[1];return c*c+e*e<=this.getRadiusSquared_()};h.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};h.prototype.computeExtent=function(c){var e=this.flatCoordinates,b=e[this.stride]-e[0];return(0,v.createOrUpdate)(e[0]-b,e[1]-b,e[0]+b,e[1]+b,c)};h.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};
h.prototype.getRadiusSquared_=function(){var c=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return c*c+e*e};h.prototype.getType=function(){return C["default"].CIRCLE};h.prototype.intersectsExtent=function(c){var e=this.getExtent();return(0,v.intersects)(c,e)?(e=this.getCenter(),c[0]<=e[0]&&c[2]>=e[0]||c[1]<=e[1]&&c[3]>=e[1]?!0:(0,v.forEachCorner)(c,this.intersectsCoordinate.bind(this))):!1};h.prototype.setCenter=function(c){var e=
this.stride,b=this.flatCoordinates[e]-this.flatCoordinates[0],d=c.slice();d[e]=d[0]+b;for(b=1;b<e;++b)d[e+b]=c[b];this.setFlatCoordinates(this.layout,d);this.changed()};h.prototype.setCenterAndRadius=function(c,e,b){this.setLayout(b,c,0);this.flatCoordinates||(this.flatCoordinates=[]);b=this.flatCoordinates;c=(0,w.deflateCoordinate)(b,0,c,this.stride);b[c++]=b[0]+e;e=1;for(var d=this.stride;e<d;++e)b[c++]=b[e];b.length=c;this.changed()};h.prototype.getCoordinates=function(){return null};h.prototype.setCoordinates=
function(c,e){};h.prototype.setRadius=function(c){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+c;this.changed()};h.prototype.rotate=function(c,e){var b=this.getCenter(),d=this.getStride();this.setCenter((0,u.rotate)(b,0,b.length,d,c,e,b));this.changed()};h.prototype.translate=function(c,e){var b=this.getCenter(),d=this.getStride();this.setCenter((0,u.translate)(b,0,b.length,d,c,e,b));this.changed()};return h}(S["default"]);r["default"]=m};
shadow$provide[193]=function(S,m,Y,r){function D(c){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return D(c)}function C(){if("function"!==typeof WeakMap)return null;var c=new WeakMap;C=function(){return c};return c}function v(c){if("function"===typeof c)return c;if(Array.isArray(c))var e=c;else(0,n.assert)("function"===typeof c.getZIndex,
41),e=[c];return function(){return e}}Object.defineProperty(r,"__esModule",{value:!0});r.createStyleFunction=v;r["default"]=void 0;var w=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==D(c)&&"function"!==typeof c)return{"default":c};var e=C();if(e&&e.has(c))return e.get(c);var b={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in c)if(Object.prototype.hasOwnProperty.call(c,a)){var f=d?Object.getOwnPropertyDescriptor(c,a):null;f&&(f.get||f.set)?Object.defineProperty(b,
a,f):b[a]=c[a]}b["default"]=c;e&&e.set(c,b);return b}(m(94)),u=function(c){return c&&c.__esModule?c:{"default":c}}(m(91)),n=m(79),k=m(92),h=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();S=function(c){function e(b){var d=
c.call(this)||this;d.id_=void 0;d.geometryName_="geometry";d.style_=null;d.styleFunction_=void 0;d.geometryChangeKey_=null;d.addEventListener((0,w.getChangeEventType)(d.geometryName_),d.handleGeometryChanged_);b&&("function"===typeof b.getSimplifiedGeometry?d.setGeometry(b):d.setProperties(b));return d}h(e,c);e.prototype.clone=function(){var b=new e(this.hasProperties()?this.getProperties():null);b.setGeometryName(this.getGeometryName());var d=this.getGeometry();d&&b.setGeometry(d.clone());(d=this.getStyle())&&
b.setStyle(d);return b};e.prototype.getGeometry=function(){return this.get(this.geometryName_)};e.prototype.getId=function(){return this.id_};e.prototype.getGeometryName=function(){return this.geometryName_};e.prototype.getStyle=function(){return this.style_};e.prototype.getStyleFunction=function(){return this.styleFunction_};e.prototype.handleGeometryChange_=function(){this.changed()};e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,k.unlistenByKey)(this.geometryChangeKey_),
this.geometryChangeKey_=null);var b=this.getGeometry();b&&(this.geometryChangeKey_=(0,k.listen)(b,u["default"].CHANGE,this.handleGeometryChange_,this));this.changed()};e.prototype.setGeometry=function(b){this.set(this.geometryName_,b)};e.prototype.setStyle=function(b){this.styleFunction_=(this.style_=b)?v(b):void 0;this.changed()};e.prototype.setId=function(b){this.id_=b;this.changed()};e.prototype.setGeometryName=function(b){this.removeEventListener((0,w.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);
this.geometryName_=b;this.addEventListener((0,w.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);this.handleGeometryChanged_()};return e}(w["default"]);r["default"]=S};
shadow$provide[194]=function(S,m,Y,r){function D(w,u,n,k,h,c){if(n==u)return null;if(h<w[u+k-1])return c?(n=w.slice(u,u+k),n[k-1]=h,n):null;if(w[n-1]<h)return c?(n=w.slice(n-k,n),n[k-1]=h,n):null;if(h==w[u+k-1])return w.slice(u,u+k);u/=k;for(n/=k;u<n;)c=u+n>>1,h<w[(c+1)*k-1]?n=c:u=c+1;n=w[u*k-1];if(h==n)return w.slice((u-1)*k,(u-1)*k+k);c=(h-n)/(w[(u+1)*k-1]-n);n=[];for(var e=0;e<k-1;++e)n.push((0,v.lerp)(w[(u-1)*k+e],w[u*k+e],c));n.push(h);return n}Object.defineProperty(r,"__esModule",{value:!0});
r.interpolatePoint=function(w,u,n,k,h,c,e){var b=(n-u)/k;if(1===b)var d=u;else if(2===b){d=u;var a=h}else if(0!==b){var f=w[u],l=w[u+1],t=0;d=[0];for(b=u+k;b<n;b+=k){var q=w[b],B=w[b+1];t+=Math.sqrt((q-f)*(q-f)+(B-l)*(B-l));d.push(t);f=q;l=B}b=h*t;n=(0,C.binarySearch)(d,b);0>n?(a=(b-d[-n-2])/(d[-n-1]-d[-n-2]),d=u+(-n-2)*k):d=u+n*k}u=1<e?e:2;c=c?c:Array(u);for(b=0;b<u;++b)c[b]=void 0===d?NaN:void 0===a?w[d+b]:(0,v.lerp)(w[d+b],w[d+k+b],a);return c};r.lineStringCoordinateAtM=D;r.lineStringsCoordinateAtM=
function(w,u,n,k,h,c,e){if(e)return D(w,u,n[n.length-1],k,h,c);if(h<w[k-1])return c?(w=w.slice(0,k),w[k-1]=h,w):null;if(w[w.length-1]<h)return c?(w=w.slice(w.length-k),w[k-1]=h,w):null;c=0;for(e=n.length;c<e;++c){var b=n[c];if(u!=b){if(h<w[u+k-1])break;else if(h<=w[b-1])return D(w,u,b,k,h,!1);u=b}}return null};var C=m(75),v=m(84)};
shadow$provide[195]=function(S,m,Y,r){function D(C,v,w,u){var n=C[v],k=C[v+1],h=0;for(v+=u;v<w;v+=u){var c=C[v],e=C[v+1];h+=Math.sqrt((c-n)*(c-n)+(e-k)*(e-k));n=c;k=e}return h}Object.defineProperty(r,"__esModule",{value:!0});r.lineStringLength=D;r.linearRingLength=function(C,v,w,u){var n=D(C,v,w,u),k=C[w-u]-C[v];C=C[w-u+1]-C[v+1];return n+=Math.sqrt(k*k+C*C)}};
shadow$provide[196]=function(S,m,Y,r){function D(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(138)),v=D(m(122));S=D(m(141));var w=m(142),u=m(83),n=m(143),k=m(144),h=m(75),c=m(151),e=m(145),b=m(194),d=m(152),a=m(195),f=function(){var l=function(t,q){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,E){B.__proto__=E}||function(B,E){for(var z in E)Object.prototype.hasOwnProperty.call(E,z)&&(B[z]=E[z])};return l(t,
q)};return function(t,q){function B(){this.constructor=t}l(t,q);t.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}();m=function(l){function t(q,B){var E=l.call(this)||this;E.flatMidpoint_=null;E.flatMidpointRevision_=-1;E.maxDelta_=-1;E.maxDeltaRevision_=-1;void 0===B||Array.isArray(q[0])?E.setCoordinates(q,B):E.setFlatCoordinates(B,q);return E}f(t,l);t.prototype.appendCoordinate=function(q){this.flatCoordinates?(0,h.extend)(this.flatCoordinates,q):this.flatCoordinates=q.slice();
this.changed()};t.prototype.clone=function(){var q=new t(this.flatCoordinates.slice(),this.layout);q.applyProperties(this);return q};t.prototype.closestPointXY=function(q,B,E,z){if(z<(0,u.closestSquaredDistanceXY)(this.getExtent(),q,B))return z;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,w.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,w.assignClosestPoint)(this.flatCoordinates,0,
this.flatCoordinates.length,this.stride,this.maxDelta_,!1,q,B,E,z)};t.prototype.forEachSegment=function(q){return(0,c.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q)};t.prototype.getCoordinateAtM=function(q,B){if(this.layout!=C["default"].XYM&&this.layout!=C["default"].XYZM)return null;B=void 0!==B?B:!1;return(0,b.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q,B)};t.prototype.getCoordinates=function(){return(0,e.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};t.prototype.getCoordinateAt=function(q,B){return(0,b.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q,B,this.stride)};t.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};t.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=
this.getRevision());return this.flatMidpoint_};t.prototype.getSimplifiedGeometryInternal=function(q){var B=[];B.length=(0,k.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q,B,0);return new t(B,C["default"].XY)};t.prototype.getType=function(){return v["default"].LINE_STRING};t.prototype.intersectsExtent=function(q){return(0,d.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q)};t.prototype.setCoordinates=function(q,B){this.setLayout(B,
q,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,0,q,this.stride);this.changed()};return t}(S["default"]);r["default"]=m};
shadow$provide[197]=function(S,m,Y,r){function D(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(138)),v=D(m(122)),w=D(m(196));S=D(m(141));var u=m(142),n=m(83),k=m(143),h=m(144),c=m(75),e=m(145),b=m(194),d=m(152),a=function(){var f=function(l,t){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,B){q.__proto__=B}||function(q,B){for(var E in B)Object.prototype.hasOwnProperty.call(B,E)&&(q[E]=B[E])};return f(l,
t)};return function(l,t){function q(){this.constructor=l}f(l,t);l.prototype=null===t?Object.create(t):(q.prototype=t.prototype,new q)}}();m=function(f){function l(t,q,B){var E=f.call(this)||this;E.ends_=[];E.maxDelta_=-1;E.maxDeltaRevision_=-1;if(Array.isArray(t[0]))E.setCoordinates(t,q);else if(void 0!==q&&B)E.setFlatCoordinates(q,t),E.ends_=B;else{q=E.getLayout();B=[];for(var z=[],A=0,p=t.length;A<p;++A){var y=t[A];0===A&&(q=y.getLayout());(0,c.extend)(B,y.getFlatCoordinates());z.push(B.length)}E.setFlatCoordinates(q,
B);E.ends_=z}return E}a(l,f);l.prototype.appendLineString=function(t){this.flatCoordinates?(0,c.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};l.prototype.clone=function(){var t=new l(this.flatCoordinates.slice(),this.layout,this.ends_.slice());t.applyProperties(this);return t};l.prototype.closestPointXY=function(t,q,B,E){if(E<(0,n.closestSquaredDistanceXY)(this.getExtent(),
t,q))return E;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,u.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,q,B,E)};l.prototype.getCoordinateAtM=function(t,q,B){if(this.layout!=C["default"].XYM&&this.layout!=C["default"].XYZM||0===this.flatCoordinates.length)return null;q=void 0!==q?q:!1;B=void 0!==B?B:
!1;return(0,b.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,q,B)};l.prototype.getCoordinates=function(){return(0,e.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};l.prototype.getEnds=function(){return this.ends_};l.prototype.getLineString=function(t){return 0>t||this.ends_.length<=t?null:new w["default"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)};l.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,
q=this.ends_,B=this.layout,E=[],z=0,A=0,p=q.length;A<p;++A){var y=q[A];z=new w["default"](t.slice(z,y),B);E.push(z);z=y}return E};l.prototype.getFlatMidpoints=function(){for(var t=[],q=this.flatCoordinates,B=0,E=this.ends_,z=this.stride,A=0,p=E.length;A<p;++A){var y=E[A];B=(0,b.interpolatePoint)(q,B,y,z,.5);(0,c.extend)(t,B);B=y}return t};l.prototype.getSimplifiedGeometryInternal=function(t){var q=[],B=[];q.length=(0,h.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,q,0,B);return new l(q,
C["default"].XY,B)};l.prototype.getType=function(){return v["default"].MULTI_LINE_STRING};l.prototype.intersectsExtent=function(t){return(0,d.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)};l.prototype.setCoordinates=function(t,q){this.setLayout(q,t,2);this.flatCoordinates||(this.flatCoordinates=[]);t=(0,k.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1];this.changed()};return l}(S["default"]);
r["default"]=m};
shadow$provide[198]=function(S,m,Y,r){function D(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(122)),v=D(m(148));S=D(m(141));var w=m(83),u=m(143),n=m(75),k=m(145),h=m(84),c=function(){var e=function(b,d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=
b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();m=function(e){function b(d,a){var f=e.call(this)||this;a&&!Array.isArray(d[0])?f.setFlatCoordinates(a,d):f.setCoordinates(d,a);return f}c(b,e);b.prototype.appendPoint=function(d){this.flatCoordinates?(0,n.extend)(this.flatCoordinates,d.getFlatCoordinates()):this.flatCoordinates=d.getFlatCoordinates().slice();this.changed()};b.prototype.clone=function(){var d=new b(this.flatCoordinates.slice(),this.layout);d.applyProperties(this);
return d};b.prototype.closestPointXY=function(d,a,f,l){if(l<(0,w.closestSquaredDistanceXY)(this.getExtent(),d,a))return l;for(var t=this.flatCoordinates,q=this.stride,B=0,E=t.length;B<E;B+=q){var z=(0,h.squaredDistance)(d,a,t[B],t[B+1]);if(z<l){l=z;for(z=0;z<q;++z)f[z]=t[B+z];f.length=q}}return l};b.prototype.getCoordinates=function(){return(0,k.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};b.prototype.getPoint=function(d){var a=this.flatCoordinates?this.flatCoordinates.length/
this.stride:0;return 0>d||a<=d?null:new v["default"](this.flatCoordinates.slice(d*this.stride,(d+1)*this.stride),this.layout)};b.prototype.getPoints=function(){for(var d=this.flatCoordinates,a=this.layout,f=this.stride,l=[],t=0,q=d.length;t<q;t+=f){var B=new v["default"](d.slice(t,t+f),a);l.push(B)}return l};b.prototype.getType=function(){return C["default"].MULTI_POINT};b.prototype.intersectsExtent=function(d){for(var a=this.flatCoordinates,f=this.stride,l=0,t=a.length;l<t;l+=f){var q=a[l],B=a[l+
1];if((0,w.containsXY)(d,q,B))return!0}return!1};b.prototype.setCoordinates=function(d,a){this.setLayout(a,d,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,u.deflateCoordinates)(this.flatCoordinates,0,d,this.stride);this.changed()};return b}(S["default"]);r["default"]=m};
shadow$provide[199]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.linearRingss=function(C,v,w,u){var n=[];(0,D.createEmpty)();for(var k=0,h=w.length;k<h;++k){var c=w[k];v=(0,D.createOrUpdateFromFlatCoordinates)(C,v,c[0],u);n.push((v[0]+v[2])/2,(v[1]+v[3])/2);v=c[c.length-1]}return n};var D=m(83)};
shadow$provide[200]=function(S,m,Y,r){function D(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(138)),v=D(m(122)),w=D(m(198)),u=D(m(155));S=D(m(141));var n=m(142),k=m(83),h=m(143),c=m(75),e=m(150),b=m(145),d=m(152),a=m(154),f=m(146),l=m(199),t=m(149),q=m(144),B=function(){var E=function(z,A){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var F in y)Object.prototype.hasOwnProperty.call(y,
F)&&(p[F]=y[F])};return E(z,A)};return function(z,A){function p(){this.constructor=z}E(z,A);z.prototype=null===A?Object.create(A):(p.prototype=A.prototype,new p)}}();m=function(E){function z(A,p,y){var F=E.call(this)||this;F.endss_=[];F.flatInteriorPointsRevision_=-1;F.flatInteriorPoints_=null;F.maxDelta_=-1;F.maxDeltaRevision_=-1;F.orientedRevision_=-1;F.orientedFlatCoordinates_=null;if(!y&&!Array.isArray(A[0])){p=F.getLayout();var J=A;A=[];y=[];for(var H=0,P=J.length;H<P;++H){var K=J[H];0===H&&
(p=K.getLayout());for(var N=A.length,M=K.getEnds(),O=0,Q=M.length;O<Q;++O)M[O]+=N;(0,c.extend)(A,K.getFlatCoordinates());y.push(M)}}void 0!==p&&y?(F.setFlatCoordinates(p,A),F.endss_=y):F.setCoordinates(A,p);return F}B(z,E);z.prototype.appendPolygon=function(A){if(this.flatCoordinates){var p=this.flatCoordinates.length;(0,c.extend)(this.flatCoordinates,A.getFlatCoordinates());A=A.getEnds().slice();for(var y=0,F=A.length;y<F;++y)A[y]+=p}else this.flatCoordinates=A.getFlatCoordinates().slice(),A=A.getEnds().slice(),
this.endss_.push();this.endss_.push(A);this.changed()};z.prototype.clone=function(){for(var A=this.endss_.length,p=Array(A),y=0;y<A;++y)p[y]=this.endss_[y].slice();A=new z(this.flatCoordinates.slice(),this.layout,p);A.applyProperties(this);return A};z.prototype.closestPointXY=function(A,p,y,F){if(F<(0,k.closestSquaredDistanceXY)(this.getExtent(),A,p))return F;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,n.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,
0)),this.maxDeltaRevision_=this.getRevision());return(0,n.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,A,p,y,F)};z.prototype.containsXY=function(A,p){return(0,t.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,A,p)};z.prototype.getArea=function(){return(0,f.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};z.prototype.getCoordinates=function(A){if(void 0!==A){var p=this.getOrientedFlatCoordinates().slice();
(0,a.orientLinearRingsArray)(p,0,this.endss_,this.stride,A)}else p=this.flatCoordinates;return(0,b.inflateMultiCoordinatesArray)(p,0,this.endss_,this.stride)};z.prototype.getEndss=function(){return this.endss_};z.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var A=(0,l.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,e.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,
A);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};z.prototype.getInteriorPoints=function(){return new w["default"](this.getFlatInteriorPoints().slice(),C["default"].XYM)};z.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var A=this.flatCoordinates;(0,a.linearRingssAreOriented)(A,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=A:(this.orientedFlatCoordinates_=A.slice(),this.orientedFlatCoordinates_.length=
(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};z.prototype.getSimplifiedGeometryInternal=function(A){var p=[],y=[];p.length=(0,q.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(A),p,0,y);return new z(p,C["default"].XY,y)};z.prototype.getPolygon=function(A){if(0>A||this.endss_.length<=A)return null;if(0===A)var p=0;else p=this.endss_[A-1],p=p[p.length-
1];A=this.endss_[A].slice();var y=A[A.length-1];if(0!==p)for(var F=0,J=A.length;F<J;++F)A[F]-=p;return new u["default"](this.flatCoordinates.slice(p,y),this.layout,A)};z.prototype.getPolygons=function(){for(var A=this.layout,p=this.flatCoordinates,y=this.endss_,F=[],J=0,H=0,P=y.length;H<P;++H){var K=y[H].slice(),N=K[K.length-1];if(0!==J)for(var M=0,O=K.length;M<O;++M)K[M]-=J;J=new u["default"](p.slice(J,N),A,K);F.push(J);J=N}return F};z.prototype.getType=function(){return v["default"].MULTI_POLYGON};
z.prototype.intersectsExtent=function(A){return(0,d.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,A)};z.prototype.setCoordinates=function(A,p){this.setLayout(p,A,3);this.flatCoordinates||(this.flatCoordinates=[]);A=(0,h.deflateMultiCoordinatesArray)(this.flatCoordinates,0,A,this.stride,this.endss_);0===A.length?this.flatCoordinates.length=0:(A=A[A.length-1],this.flatCoordinates.length=0===A.length?0:A[A.length-1]);this.changed()};return z}(S["default"]);
r["default"]=m};
shadow$provide[201]=function(S,m,Y,r){!function(D,C){"object"==typeof r&&"undefined"!=typeof Y?Y.exports=C():"function"==typeof define&&define.amd?define(C):(D=D||self).RBush=C()}(this,function(){function D(t,q,B,E,z){!function P(p,y,F,J,H){for(;J>F;){if(600<J-F){var K=J-F+1,N=y-F+1,M=Math.log(K),O=.5*Math.exp(2*M/3);M=.5*Math.sqrt(M*O*(K-O)/K)*(0>N-K/2?-1:1);P(p,y,Math.max(F,Math.floor(y-N*O/K+M)),Math.min(J,Math.floor(y+(K-N)*O/K+M)),H)}K=p[y];N=F;O=J;C(p,F,y);for(0<H(p[J],K)&&C(p,F,J);N<O;){C(p,
N,O);N++;for(O--;0>H(p[N],K);)N++;for(;0<H(p[O],K);)O--}0===H(p[F],K)?C(p,F,O):C(p,++O,J);O<=y&&(F=O+1);y<=O&&(J=O-1)}}(t,q,B||0,E||t.length-1,z||v)}function C(t,q,B){var E=t[q];t[q]=t[B];t[B]=E}function v(t,q){return t<q?-1:t>q?1:0}function w(t,q){u(t,0,t.children.length,q,t)}function u(t,q,B,E,z){z||(z=a(null));z.minX=1/0;z.minY=1/0;z.maxX=-1/0;for(z.maxY=-1/0;q<B;q++){var A=t.children[q];n(z,t.leaf?E(A):A)}return z}function n(t,q){return t.minX=Math.min(t.minX,q.minX),t.minY=Math.min(t.minY,q.minY),
t.maxX=Math.max(t.maxX,q.maxX),t.maxY=Math.max(t.maxY,q.maxY),t}function k(t,q){return t.minX-q.minX}function h(t,q){return t.minY-q.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function e(t){return t.maxX-t.minX+(t.maxY-t.minY)}function b(t,q){return t.minX<=q.minX&&t.minY<=q.minY&&q.maxX<=t.maxX&&q.maxY<=t.maxY}function d(t,q){return q.minX<=t.maxX&&q.minY<=t.maxY&&q.maxX>=t.minX&&q.maxY>=t.minY}function a(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}
function f(t,q,B,E,z){for(var A=[q,B];A.length;)if(!((B=A.pop())-(q=A.pop())<=E)){var p=q+Math.ceil((B-q)/E/2)*E;D(t,p,q,B,z);A.push(q,p,p,B)}}var l=function(t){void 0===t&&(t=9);this._maxEntries=Math.max(4,t);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return l.prototype.all=function(){return this._all(this.data,[])},l.prototype.search=function(t){var q=this.data,B=[];if(!d(t,q))return B;for(var E=this.toBBox,z=[];q;){for(var A=0;A<q.children.length;A++){var p=q.children[A],
y=q.leaf?E(p):p;d(t,y)&&(q.leaf?B.push(p):b(t,y)?this._all(p,B):z.push(p))}q=z.pop()}return B},l.prototype.collides=function(t){var q=this.data;if(!d(t,q))return!1;for(var B=[];q;){for(var E=0;E<q.children.length;E++){var z=q.children[E],A=q.leaf?this.toBBox(z):z;if(d(t,A)){if(q.leaf||b(t,A))return!0;B.push(z)}}q=B.pop()}return!1},l.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var q=0;q<t.length;q++)this.insert(t[q]);return this}t=this._build(t.slice(),
0,t.length-1,0);this.data.children.length?this.data.height===t.height?this._splitRoot(this.data,t):(this.data.height<t.height&&(q=this.data,this.data=t,t=q),this._insert(t,this.data.height-t.height-1,!0)):this.data=t;return this},l.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},l.prototype.clear=function(){return this.data=a([]),this},l.prototype.remove=function(t,q){if(!t)return this;for(var B,E,z,A=this.data,p=this.toBBox(t),y=[],F=[];A||y.length;){if(A||(A=y.pop(),
E=y[y.length-1],B=F.pop(),z=!0),A.leaf){a:{var J=t;var H=A.children,P=q;if(P){for(var K=0;K<H.length;K++)if(P(J,H[K])){J=K;break a}J=-1}else J=H.indexOf(J)}if(-1!==J)return A.children.splice(J,1),y.push(A),this._condense(y),this}z||A.leaf||!b(A,p)?E?(B++,A=E.children[B],z=!1):A=null:(y.push(A),F.push(B),B=0,E=A,A=A.children[0])}return this},l.prototype.toBBox=function(t){return t},l.prototype.compareMinX=function(t,q){return t.minX-q.minX},l.prototype.compareMinY=function(t,q){return t.minY-q.minY},
l.prototype.toJSON=function(){return this.data},l.prototype.fromJSON=function(t){return this.data=t,this},l.prototype._all=function(t,q){for(var B=[];t;)t.leaf?q.push.apply(q,t.children):B.push.apply(B,t.children),t=B.pop();return q},l.prototype._build=function(t,q,B,E){var z,A=B-q+1,p=this._maxEntries;if(A<=p)return w(z=a(t.slice(q,B+1)),this.toBBox),z;E||(E=Math.ceil(Math.log(A)/Math.log(p)),p=Math.ceil(A/Math.pow(p,E-1)));(z=a([])).leaf=!1;z.height=E;A=Math.ceil(A/p);p=A*Math.ceil(Math.sqrt(p));
for(f(t,q,B,p,this.compareMinX);q<=B;q+=p){var y=Math.min(q+p-1,B);f(t,q,y,A,this.compareMinY);for(var F=q;F<=y;F+=A)z.children.push(this._build(t,F,Math.min(F+A-1,y),E-1))}return w(z,this.toBBox),z},l.prototype._chooseSubtree=function(t,q,B,E){for(;E.push(q),!q.leaf&&E.length-1!==B;){for(var z=1/0,A=1/0,p=void 0,y=0;y<q.children.length;y++){var F=q.children[y],J=c(F),H=(P=t,K=F,(Math.max(K.maxX,P.maxX)-Math.min(K.minX,P.minX))*(Math.max(K.maxY,P.maxY)-Math.min(K.minY,P.minY))-J);H<A?(A=H,z=J<z?J:
z,p=F):H===A&&J<z&&(z=J,p=F)}q=p||q.children[0]}var P,K;return q},l.prototype._insert=function(t,q,B){B=B?t:this.toBBox(t);var E=[],z=this._chooseSubtree(B,this.data,q,E);z.children.push(t);for(n(z,B);0<=q&&E[q].children.length>this._maxEntries;)this._split(E,q),q--;this._adjustParentBBoxes(B,E,q)},l.prototype._split=function(t,q){var B=t[q],E=B.children.length,z=this._minEntries;this._chooseSplitAxis(B,z,E);E=this._chooseSplitIndex(B,z,E);E=a(B.children.splice(E,B.children.length-E));E.height=B.height;
E.leaf=B.leaf;w(B,this.toBBox);w(E,this.toBBox);q?t[q-1].children.push(E):this._splitRoot(B,E)},l.prototype._splitRoot=function(t,q){this.data=a([t,q]);this.data.height=t.height+1;this.data.leaf=!1;w(this.data,this.toBBox)},l.prototype._chooseSplitIndex=function(t,q,B){for(var E,z,A,p,y,F,J,H=1/0,P=1/0,K=q;K<=B-q;K++){var N=u(t,0,K,this.toBBox),M=u(t,K,B,this.toBBox),O=(z=N,A=M,p=void 0,y=void 0,F=void 0,J=void 0,p=Math.max(z.minX,A.minX),y=Math.max(z.minY,A.minY),F=Math.min(z.maxX,A.maxX),J=Math.min(z.maxY,
A.maxY),Math.max(0,F-p)*Math.max(0,J-y));N=c(N)+c(M);O<H?(H=O,E=K,P=N<P?N:P):O===H&&N<P&&(P=N,E=K)}return E||B-q},l.prototype._chooseSplitAxis=function(t,q,B){var E=t.leaf?this.compareMinX:k,z=t.leaf?this.compareMinY:h;this._allDistMargin(t,q,B,E)<this._allDistMargin(t,q,B,z)&&t.children.sort(E)},l.prototype._allDistMargin=function(t,q,B,E){t.children.sort(E);E=this.toBBox;for(var z=u(t,0,q,E),A=u(t,B-q,B,E),p=e(z)+e(A),y=q;y<B-q;y++){var F=t.children[y];n(z,t.leaf?E(F):F);p+=e(z)}for(B=B-q-1;B>=
q;B--)z=t.children[B],n(A,t.leaf?E(z):z),p+=e(A);return p},l.prototype._adjustParentBBoxes=function(t,q,B){for(;0<=B;B--)n(q[B],t)},l.prototype._condense=function(t){for(var q=t.length-1,B=void 0;0<=q;q--)0===t[q].children.length?0<q?(B=t[q-1].children).splice(B.indexOf(t[q]),1):this.clear():w(t[q],this.toBBox)},l})};
shadow$provide[202]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[203]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=m(77),C=m(157);S=function(){function v(w){this.opacity_=w.opacity;this.rotateWithView_=w.rotateWithView;this.rotation_=w.rotation;this.scale_=w.scale;this.scaleArray_=(0,C.toSize)(w.scale);this.displacement_=w.displacement}v.prototype.clone=function(){var w=this.getScale();return new v({opacity:this.getOpacity(),scale:Array.isArray(w)?w.slice():w,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};v.prototype.getOpacity=function(){return this.opacity_};v.prototype.getRotateWithView=function(){return this.rotateWithView_};v.prototype.getRotation=function(){return this.rotation_};v.prototype.getScale=function(){return this.scale_};v.prototype.getScaleArray=function(){return this.scaleArray_};v.prototype.getDisplacement=function(){return this.displacement_};v.prototype.getAnchor=function(){return(0,D["abstract"])()};v.prototype.getImage=function(w){return(0,
D["abstract"])()};v.prototype.getHitDetectionImage=function(){return(0,D["abstract"])()};v.prototype.getPixelRatio=function(w){return 1};v.prototype.getImageState=function(){return(0,D["abstract"])()};v.prototype.getImageSize=function(){return(0,D["abstract"])()};v.prototype.getHitDetectionImageSize=function(){return(0,D["abstract"])()};v.prototype.getOrigin=function(){return(0,D["abstract"])()};v.prototype.getSize=function(){return(0,D["abstract"])()};v.prototype.setOpacity=function(w){this.opacity_=
w};v.prototype.setRotateWithView=function(w){this.rotateWithView_=w};v.prototype.setRotation=function(w){this.rotation_=w};v.prototype.setScale=function(w){this.scale_=w;this.scaleArray_=(0,C.toSize)(w)};v.prototype.listenImageChange=function(w){(0,D["abstract"])()};v.prototype.load=function(){(0,D["abstract"])()};v.prototype.unlistenImageChange=function(w){(0,D["abstract"])()};return v}();r["default"]=S};
shadow$provide[204]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.asColorLike=function(C){return Array.isArray(C)?(0,D.toString)(C):C};var D=m(85)};
shadow$provide[205]=function(S,m,Y,r){function D(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(202));S=D(m(203));var v=m(85),w=m(204),u=m(106),n=m(107),k=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=c}h(c,
e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();m=function(h){function c(e){var b=h.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this;b.canvas_={};b.hitDetectionCanvas_=null;b.fill_=void 0!==e.fill?e.fill:null;b.origin_=[0,0];b.points_=e.points;b.radius_=void 0!==e.radius?e.radius:e.radius1;b.radius2_=
e.radius2;b.angle_=void 0!==e.angle?e.angle:0;b.stroke_=void 0!==e.stroke?e.stroke:null;b.anchor_=null;b.size_=null;b.imageSize_=null;b.hitDetectionImageSize_=null;b.render();return b}k(c,h);c.prototype.clone=function(){var e=this.getScale();e=new c({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});e.setOpacity(this.getOpacity());return e};c.prototype.getAnchor=function(){return this.anchor_};c.prototype.getAngle=function(){return this.angle_};c.prototype.getFill=function(){return this.fill_};c.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var e=this.createRenderOptions();this.createHitDetectionCanvas_(e)}return this.hitDetectionCanvas_};c.prototype.getImage=function(e){if(!this.canvas_[e||
1]){var b=this.createRenderOptions(),d=(0,u.createCanvasContext2D)(b.size*e||1,b.size*e||1);this.draw_(b,d,0,0,e||1);this.canvas_[e||1]=d.canvas}return this.canvas_[e||1]};c.prototype.getPixelRatio=function(e){return e};c.prototype.getImageSize=function(){return this.imageSize_};c.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};c.prototype.getImageState=function(){return C["default"].LOADED};c.prototype.getOrigin=function(){return this.origin_};c.prototype.getPoints=
function(){return this.points_};c.prototype.getRadius=function(){return this.radius_};c.prototype.getRadius2=function(){return this.radius2_};c.prototype.getSize=function(){return this.size_};c.prototype.getStroke=function(){return this.stroke_};c.prototype.listenImageChange=function(e){};c.prototype.load=function(){};c.prototype.unlistenImageChange=function(e){};c.prototype.createRenderOptions=function(){var e=n.defaultLineCap,b=n.defaultLineJoin,d=0,a=null,f=0,l=0;if(this.stroke_){var t=this.stroke_.getColor();
null===t&&(t=n.defaultStrokeStyle);t=(0,w.asColorLike)(t);l=this.stroke_.getWidth();void 0===l&&(l=n.defaultLineWidth);a=this.stroke_.getLineDash();f=this.stroke_.getLineDashOffset();b=this.stroke_.getLineJoin();void 0===b&&(b=n.defaultLineJoin);e=this.stroke_.getLineCap();void 0===e&&(e=n.defaultLineCap);d=this.stroke_.getMiterLimit();void 0===d&&(d=n.defaultMiterLimit)}return{strokeStyle:t,strokeWidth:l,size:2*(this.radius_+l)+1,lineCap:e,lineDash:a,lineDashOffset:f,lineJoin:b,miterLimit:d}};c.prototype.render=
function(){var e=this.createRenderOptions(),b=(0,u.createCanvasContext2D)(e.size,e.size);this.draw_(e,b,0,0,1);this.canvas_={};this.canvas_[1]=b.canvas;b=b.canvas.width;var d=this.getDisplacement();this.hitDetectionImageSize_=[e.size,e.size];this.createHitDetectionCanvas_(e);this.anchor_=[b/2-d[0],b/2+d[1]];this.size_=[b,b];this.imageSize_=[b,b]};c.prototype.draw_=function(e,b,d,a,f){b.setTransform(f,0,0,f,0,0);b.translate(d,a);b.beginPath();var l=this.points_;if(Infinity===l)b.arc(e.size/2,e.size/
2,this.radius_,0,2*Math.PI,!0);else{var t=void 0!==this.radius2_?this.radius2_:this.radius_;t!==this.radius_&&(l*=2);for(d=0;d<=l;d++)a=2*d*Math.PI/l-Math.PI/2+this.angle_,f=0===d%2?this.radius_:t,b.lineTo(e.size/2+f*Math.cos(a),e.size/2+f*Math.sin(a))}this.fill_&&(d=this.fill_.getColor(),null===d&&(d=n.defaultFillStyle),b.fillStyle=(0,w.asColorLike)(d),b.fill());this.stroke_&&(b.strokeStyle=e.strokeStyle,b.lineWidth=e.strokeWidth,b.setLineDash&&e.lineDash&&(b.setLineDash(e.lineDash),b.lineDashOffset=
e.lineDashOffset),b.lineCap=e.lineCap,b.lineJoin=e.lineJoin,b.miterLimit=e.miterLimit,b.stroke());b.closePath()};c.prototype.createHitDetectionCanvas_=function(e){this.hitDetectionCanvas_=this.getImage(1);if(this.fill_){var b=this.fill_.getColor(),d=0;"string"===typeof b&&(b=(0,v.asArray)(b));null===b?d=1:Array.isArray(b)&&(d=4===b.length?b[3]:1);0===d&&(b=(0,u.createCanvasContext2D)(e.size,e.size),this.hitDetectionCanvas_=b.canvas,this.drawHitDetectionCanvas_(e,b,0,0))}};c.prototype.drawHitDetectionCanvas_=
function(e,b,d,a){b.translate(d,a);b.beginPath();d=this.points_;if(Infinity===d)b.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(d*=2);var f;for(f=0;f<=d;f++){var l=2*f*Math.PI/d-Math.PI/2+this.angle_;var t=0===f%2?this.radius_:a;b.lineTo(e.size/2+t*Math.cos(l),e.size/2+t*Math.sin(l))}}b.fillStyle=n.defaultFillStyle;b.fill();this.stroke_&&(b.strokeStyle=e.strokeStyle,b.lineWidth=e.strokeWidth,e.lineDash&&(b.setLineDash(e.lineDash),
b.lineDashOffset=e.lineDashOffset),b.stroke());b.closePath()};return c}(S["default"]);r["default"]=m};
shadow$provide[206]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(C){return C&&C.__esModule?C:{"default":C}}(m(205));var D=function(){var C=function(v,w){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,n){u.__proto__=n}||function(u,n){for(var k in n)Object.prototype.hasOwnProperty.call(n,k)&&(u[k]=n[k])};return C(v,w)};return function(v,w){function u(){this.constructor=v}C(v,w);v.prototype=null===w?Object.create(w):(u.prototype=
w.prototype,new u)}}();S=function(C){function v(w){w=w?w:{};return C.call(this,{points:Infinity,fill:w.fill,radius:w.radius,stroke:w.stroke,scale:void 0!==w.scale?w.scale:1,rotation:void 0!==w.rotation?w.rotation:0,rotateWithView:void 0!==w.rotateWithView?w.rotateWithView:!1,displacement:void 0!==w.displacement?w.displacement:[0,0]})||this}D(v,C);v.prototype.clone=function(){var w=this.getScale();w=new v({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():
void 0,radius:this.getRadius(),scale:Array.isArray(w)?w.slice():w,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});w.setOpacity(this.getOpacity());return w};v.prototype.setRadius=function(w){this.radius_=w;this.render()};return v}(S["default"]);r["default"]=S};
shadow$provide[207]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(){function D(C){C=C||{};this.color_=void 0!==C.color?C.color:null}D.prototype.clone=function(){var C=this.getColor();return new D({color:Array.isArray(C)?C.slice():C||void 0})};D.prototype.getColor=function(){return this.color_};D.prototype.setColor=function(C){this.color_=C};return D}();r["default"]=S};
shadow$provide[208]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(){function D(C){C=C||{};this.color_=void 0!==C.color?C.color:null;this.lineCap_=C.lineCap;this.lineDash_=void 0!==C.lineDash?C.lineDash:null;this.lineDashOffset_=C.lineDashOffset;this.lineJoin_=C.lineJoin;this.miterLimit_=C.miterLimit;this.width_=C.width}D.prototype.clone=function(){var C=this.getColor();return new D({color:Array.isArray(C)?C.slice():C||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};D.prototype.getColor=function(){return this.color_};D.prototype.getLineCap=function(){return this.lineCap_};D.prototype.getLineDash=function(){return this.lineDash_};D.prototype.getLineDashOffset=function(){return this.lineDashOffset_};D.prototype.getLineJoin=function(){return this.lineJoin_};D.prototype.getMiterLimit=
function(){return this.miterLimit_};D.prototype.getWidth=function(){return this.width_};D.prototype.setColor=function(C){this.color_=C};D.prototype.setLineCap=function(C){this.lineCap_=C};D.prototype.setLineDash=function(C){this.lineDash_=C};D.prototype.setLineDashOffset=function(C){this.lineDashOffset_=C};D.prototype.setLineJoin=function(C){this.lineJoin_=C};D.prototype.setMiterLimit=function(C){this.miterLimit_=C};D.prototype.setWidth=function(C){this.width_=C};return D}();r["default"]=S};
shadow$provide[209]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}function C(b){C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return C(b)}function v(b){return b.getGeometry()}Object.defineProperty(r,"__esModule",{value:!0});r.toFunction=function(b){if("function"!==typeof b){if(Array.isArray(b))var d=b;else(0,h.assert)("function"===
typeof b.getZIndex,41),d=[b];b=function(){return d}}return b};r.createDefaultStyle=function(b,d){e||(b=new u["default"]({color:"rgba(255,255,255,0.4)"}),d=new k["default"]({color:"#3399CC",width:1.25}),e=[new c({image:new w["default"]({fill:b,stroke:d,radius:5}),fill:b,stroke:d})]);return e};r.createEditingStyle=function(){var b={},d=[255,255,255,1],a=[0,153,255,1];b[n["default"].POLYGON]=[new c({fill:new u["default"]({color:[255,255,255,.5]})})];b[n["default"].MULTI_POLYGON]=b[n["default"].POLYGON];
b[n["default"].LINE_STRING]=[new c({stroke:new k["default"]({color:d,width:5})}),new c({stroke:new k["default"]({color:a,width:3})})];b[n["default"].MULTI_LINE_STRING]=b[n["default"].LINE_STRING];b[n["default"].CIRCLE]=b[n["default"].POLYGON].concat(b[n["default"].LINE_STRING]);b[n["default"].POINT]=[new c({image:new w["default"]({radius:6,fill:new u["default"]({color:a}),stroke:new k["default"]({color:d,width:1.5})}),zIndex:Infinity})];b[n["default"].MULTI_POINT]=b[n["default"].POINT];b[n["default"].GEOMETRY_COLLECTION]=
b[n["default"].POLYGON].concat(b[n["default"].LINE_STRING],b[n["default"].POINT]);return b};r["default"]=void 0;var w=D(m(206)),u=D(m(207)),n=D(m(122)),k=D(m(208)),h=m(79),c=function(){function b(d){d=d||{};this.geometry_=null;this.geometryFunction_=v;void 0!==d.geometry&&this.setGeometry(d.geometry);this.fill_=void 0!==d.fill?d.fill:null;this.image_=void 0!==d.image?d.image:null;this.renderer_=void 0!==d.renderer?d.renderer:null;this.stroke_=void 0!==d.stroke?d.stroke:null;this.text_=void 0!==d.text?
d.text:null;this.zIndex_=d.zIndex}b.prototype.clone=function(){var d=this.getGeometry();d&&"object"===C(d)&&(d=d.clone());return new b({geometry:d,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};b.prototype.getRenderer=function(){return this.renderer_};b.prototype.setRenderer=function(d){this.renderer_=d};b.prototype.getGeometry=
function(){return this.geometry_};b.prototype.getGeometryFunction=function(){return this.geometryFunction_};b.prototype.getFill=function(){return this.fill_};b.prototype.setFill=function(d){this.fill_=d};b.prototype.getImage=function(){return this.image_};b.prototype.setImage=function(d){this.image_=d};b.prototype.getStroke=function(){return this.stroke_};b.prototype.setStroke=function(d){this.stroke_=d};b.prototype.getText=function(){return this.text_};b.prototype.setText=function(d){this.text_=
d};b.prototype.getZIndex=function(){return this.zIndex_};b.prototype.setGeometry=function(d){"function"===typeof d?this.geometryFunction_=d:"string"===typeof d?this.geometryFunction_=function(a){return a.get(d)}:d?void 0!==d&&(this.geometryFunction_=function(){return d}):this.geometryFunction_=v;this.geometry_=d};b.prototype.setZIndex=function(d){this.zIndex_=d};return b}(),e=null;r["default"]=c};
shadow$provide[210]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(99));var C=D(m(201)),v=m(89),w=m(209),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===
h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(h){h=h?h:{};var c=(0,v.assign)({},h);delete c.style;delete c.renderBuffer;delete c.updateWhileAnimating;delete c.updateWhileInteracting;c=n.call(this,c)||this;c.declutter_=void 0!==h.declutter?h.declutter:!1;c.renderBuffer_=void 0!==h.renderBuffer?h.renderBuffer:100;c.style_=null;c.styleFunction_=void 0;c.setStyle(h.style);c.updateWhileAnimating_=void 0!==h.updateWhileAnimating?h.updateWhileAnimating:!1;c.updateWhileInteracting_=
void 0!==h.updateWhileInteracting?h.updateWhileInteracting:!1;return c}u(k,n);k.prototype.getDeclutter=function(){return this.declutter_};k.prototype.getFeatures=function(h){return n.prototype.getFeatures.call(this,h)};k.prototype.getRenderBuffer=function(){return this.renderBuffer_};k.prototype.getRenderOrder=function(){return this.get("renderOrder")};k.prototype.getStyle=function(){return this.style_};k.prototype.getStyleFunction=function(){return this.styleFunction_};k.prototype.getUpdateWhileAnimating=
function(){return this.updateWhileAnimating_};k.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};k.prototype.renderDeclutter=function(h){h.declutterTree||(h.declutterTree=new C["default"](9));this.getRenderer().renderDeclutter(h)};k.prototype.setRenderOrder=function(h){this.set("renderOrder",h)};k.prototype.setStyle=function(h){this.style_=void 0!==h?h:w.createDefaultStyle;this.styleFunction_=null===h?void 0:(0,w.toFunction)(this.style_);this.changed()};return k}(S["default"]);
r["default"]=m};
shadow$provide[211]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};r.fillInstruction=[S.FILL];r.strokeInstruction=[S.STROKE];r.beginPathInstruction=[S.BEGIN_PATH];r.closePathInstruction=[S.CLOSE_PATH];r["default"]=S};
shadow$provide[212]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(){function D(){}D.prototype.drawCustom=function(C,v,w){};D.prototype.drawGeometry=function(C){};D.prototype.setStyle=function(C){};D.prototype.drawCircle=function(C,v){};D.prototype.drawFeature=function(C,v){};D.prototype.drawGeometryCollection=function(C,v){};D.prototype.drawLineString=function(C,v){};D.prototype.drawMultiLineString=function(C,v){};D.prototype.drawMultiPoint=function(C,
v){};D.prototype.drawMultiPolygon=function(C,v){};D.prototype.drawPoint=function(C,v){};D.prototype.drawPolygon=function(C,v){};D.prototype.drawText=function(C,v){};D.prototype.setFillStrokeStyle=function(C,v){};D.prototype.setImageStyle=function(C,v){};D.prototype.setTextStyle=function(C,v){};return D}();r["default"]=S};
shadow$provide[213]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(211)),v=D(m(122)),w=D(m(82));S=D(m(212));var u=m(204),n=m(83),k=m(107),h=m(75),c=m(145),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a,f,l,t){var q=b.call(this)||this;q.tolerance=a;q.maxExtent=f;q.pixelRatio=t;q.maxLineWidth=0;q.resolution=l;q.beginGeometryInstruction1_=null;q.beginGeometryInstruction2_=null;q.bufferedMaxExtent_=null;q.instructions=[];q.coordinates=[];q.tmpCoordinate_=[];q.hitDetectionInstructions=[];q.state={};return q}e(d,b);d.prototype.applyPixelRatio=function(a){var f=this.pixelRatio;return 1==f?a:a.map(function(l){return l*
f})};d.prototype.appendFlatPointCoordinates=function(a,f){for(var l=this.getBufferedMaxExtent(),t=this.tmpCoordinate_,q=this.coordinates,B=q.length,E=0,z=a.length;E<z;E+=f)t[0]=a[E],t[1]=a[E+1],(0,n.containsCoordinate)(l,t)&&(q[B++]=t[0],q[B++]=t[1]);return B};d.prototype.appendFlatLineCoordinates=function(a,f,l,t,q,B){var E=this.coordinates,z=E.length,A=this.getBufferedMaxExtent();B&&(f+=t);B=a[f];var p=a[f+1],y=this.tmpCoordinate_,F=!0,J;for(J=f+t;J<l;J+=t){y[0]=a[J];y[1]=a[J+1];var H=(0,n.coordinateRelationship)(A,
y);H!==P?(F&&(E[z++]=B,E[z++]=p,F=!1),E[z++]=y[0],E[z++]=y[1]):H===w["default"].INTERSECTING?(E[z++]=y[0],E[z++]=y[1],F=!1):F=!0;B=y[0];p=y[1];var P=H}if(q&&F||J===f+t)E[z++]=B,E[z++]=p;return z};d.prototype.drawCustomCoordinates_=function(a,f,l,t,q){for(var B=0,E=l.length;B<E;++B){var z=l[B];f=this.appendFlatLineCoordinates(a,f,z,t,!1,!1);q.push(f);f=z}return f};d.prototype.drawCustom=function(a,f,l){this.beginGeometry(a,f);var t=a.getType(),q=a.getStride(),B=this.coordinates.length,E;if(t==v["default"].MULTI_POLYGON){t=
a.getOrientedFlatCoordinates();var z=[];for(var A=a.getEndss(),p=E=0,y=A.length;p<y;++p){var F=[];E=this.drawCustomCoordinates_(t,E,A[p],q,F);z.push(F)}this.instructions.push([C["default"].CUSTOM,B,z,a,l,c.inflateMultiCoordinatesArray])}else t==v["default"].POLYGON||t==v["default"].MULTI_LINE_STRING?(z=[],t=t==v["default"].POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(t,0,a.getEnds(),q,z),this.instructions.push([C["default"].CUSTOM,B,z,a,l,c.inflateCoordinatesArray])):
t==v["default"].LINE_STRING||t==v["default"].CIRCLE?(t=a.getFlatCoordinates(),q=this.appendFlatLineCoordinates(t,0,t.length,q,!1,!1),this.instructions.push([C["default"].CUSTOM,B,q,a,l,c.inflateCoordinates])):t==v["default"].MULTI_POINT?(t=a.getFlatCoordinates(),q=this.appendFlatPointCoordinates(t,q),q>B&&this.instructions.push([C["default"].CUSTOM,B,q,a,l,c.inflateCoordinates])):t==v["default"].POINT&&(t=a.getFlatCoordinates(),this.coordinates.push(t[0],t[1]),q=this.coordinates.length,this.instructions.push([C["default"].CUSTOM,
B,q,a,l]));this.endGeometry(f)};d.prototype.beginGeometry=function(a,f){this.beginGeometryInstruction1_=[C["default"].BEGIN_GEOMETRY,f,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[C["default"].BEGIN_GEOMETRY,f,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};d.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};d.prototype.reverseHitDetectionInstructions=
function(){var a=this.hitDetectionInstructions;a.reverse();var f,l=a.length,t=-1;for(f=0;f<l;++f){var q=a[f];var B=q[0];B==C["default"].END_GEOMETRY?t=f:B==C["default"].BEGIN_GEOMETRY&&(q[2]=f,(0,h.reverseSubArray)(this.hitDetectionInstructions,t,f),t=-1)}};d.prototype.setFillStrokeStyle=function(a,f){var l=this.state;a?(a=a.getColor(),l.fillStyle=(0,u.asColorLike)(a?a:k.defaultFillStyle)):l.fillStyle=void 0;f?(a=f.getColor(),l.strokeStyle=(0,u.asColorLike)(a?a:k.defaultStrokeStyle),a=f.getLineCap(),
l.lineCap=void 0!==a?a:k.defaultLineCap,a=f.getLineDash(),l.lineDash=a?a.slice():k.defaultLineDash,a=f.getLineDashOffset(),l.lineDashOffset=a?a:k.defaultLineDashOffset,a=f.getLineJoin(),l.lineJoin=void 0!==a?a:k.defaultLineJoin,a=f.getWidth(),l.lineWidth=void 0!==a?a:k.defaultLineWidth,f=f.getMiterLimit(),l.miterLimit=void 0!==f?f:k.defaultMiterLimit,l.lineWidth>this.maxLineWidth&&(this.maxLineWidth=l.lineWidth,this.bufferedMaxExtent_=null)):(l.strokeStyle=void 0,l.lineCap=void 0,l.lineDash=null,
l.lineDashOffset=void 0,l.lineJoin=void 0,l.lineWidth=void 0,l.miterLimit=void 0)};d.prototype.createFill=function(a){a=a.fillStyle;var f=[C["default"].SET_FILL_STYLE,a];"string"!==typeof a&&f.push(!0);return f};d.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};d.prototype.createStroke=function(a){return[C["default"].SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio]};
d.prototype.updateFillStyle=function(a,f){var l=a.fillStyle;if("string"!==typeof l||a.currentFillStyle!=l)void 0!==l&&this.instructions.push(f.call(this,a)),a.currentFillStyle=l};d.prototype.updateStrokeStyle=function(a,f){var l=a.strokeStyle,t=a.lineCap,q=a.lineDash,B=a.lineDashOffset,E=a.lineJoin,z=a.lineWidth,A=a.miterLimit;if(a.currentStrokeStyle!=l||a.currentLineCap!=t||q!=a.currentLineDash&&!(0,h.equals)(a.currentLineDash,q)||a.currentLineDashOffset!=B||a.currentLineJoin!=E||a.currentLineWidth!=
z||a.currentMiterLimit!=A)void 0!==l&&f.call(this,a),a.currentStrokeStyle=l,a.currentLineCap=t,a.currentLineDash=q,a.currentLineDashOffset=B,a.currentLineJoin=E,a.currentLineWidth=z,a.currentMiterLimit=A};d.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[C["default"].END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};d.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,n.clone)(this.maxExtent),0<this.maxLineWidth)){var a=this.resolution*(this.maxLineWidth+1)/2;(0,n.buffer)(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};return d}(S["default"]);r["default"]=m};
shadow$provide[214]=function(S,m,Y,r){function D(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(213));var C=D(m(211)),v=function(){var w=function(u,n){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])};return w(u,n)};return function(u,n){function k(){this.constructor=u}w(u,n);u.prototype=null===n?Object.create(n):
(k.prototype=n.prototype,new k)}}();m=function(w){function u(n,k,h,c){n=w.call(this,n,k,h,c)||this;n.hitDetectionImage_=null;n.image_=null;n.imagePixelRatio_=void 0;n.anchorX_=void 0;n.anchorY_=void 0;n.height_=void 0;n.opacity_=void 0;n.originX_=void 0;n.originY_=void 0;n.rotateWithView_=void 0;n.rotation_=void 0;n.scale_=void 0;n.width_=void 0;n.declutterImageWithText_=void 0;return n}v(u,w);u.prototype.drawPoint=function(n,k){if(this.image_){this.beginGeometry(n,k);var h=n.getFlatCoordinates(),
c=n.getStride();n=this.coordinates.length;h=this.appendFlatPointCoordinates(h,c);this.instructions.push([C["default"].DRAW_IMAGE,n,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([C["default"].DRAW_IMAGE,n,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(k)}};u.prototype.drawMultiPoint=function(n,k){if(this.image_){this.beginGeometry(n,k);var h=n.getFlatCoordinates(),c=n.getStride();n=this.coordinates.length;h=this.appendFlatPointCoordinates(h,c);this.instructions.push([C["default"].DRAW_IMAGE,
n,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([C["default"].DRAW_IMAGE,n,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,
this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(k)}};u.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return w.prototype.finish.call(this)};u.prototype.setImageStyle=
function(n,k){var h=n.getAnchor(),c=n.getSize(),e=n.getHitDetectionImage(),b=n.getImage(this.pixelRatio),d=n.getOrigin();this.imagePixelRatio_=n.getPixelRatio(this.pixelRatio);this.anchorX_=h[0];this.anchorY_=h[1];this.hitDetectionImage_=e;this.image_=b;this.height_=c[1];this.opacity_=n.getOpacity();this.originX_=d[0];this.originY_=d[1];this.rotateWithView_=n.getRotateWithView();this.rotation_=n.getRotation();this.scale_=n.getScaleArray();this.width_=c[0];this.declutterImageWithText_=k};return u}(S["default"]);
r["default"]=m};
shadow$provide[215]=function(S,m,Y,r){function D(u){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};return D(u)}function C(){if("function"!==typeof WeakMap)return null;var u=new WeakMap;C=function(){return u};return u}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(u){return u&&u.__esModule?u:{"default":u}}(m(213));
var v=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==D(u)&&"function"!==typeof u)return{"default":u};var n=C();if(n&&n.has(u))return n.get(u);var k={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in u)if(Object.prototype.hasOwnProperty.call(u,c)){var e=h?Object.getOwnPropertyDescriptor(u,c):null;e&&(e.get||e.set)?Object.defineProperty(k,c,e):k[c]=u[c]}k["default"]=u;n&&n.set(u,k);return k}(m(211)),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}();m=function(u){function n(k,h,c,e){return u.call(this,k,h,c,e)||this}w(n,u);n.prototype.drawFlatCoordinates_=function(k,h,c,e){var b=this.coordinates.length;k=this.appendFlatLineCoordinates(k,h,c,e,!1,!1);b=[v["default"].MOVE_TO_LINE_TO,
b,k];this.instructions.push(b);this.hitDetectionInstructions.push(b);return c};n.prototype.drawLineString=function(k,h){var c=this.state,e=c.lineWidth;void 0!==c.strokeStyle&&void 0!==e&&(this.updateStrokeStyle(c,this.applyStroke),this.beginGeometry(k,h),this.hitDetectionInstructions.push([v["default"].SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset],v.beginPathInstruction),c=k.getFlatCoordinates(),k=k.getStride(),this.drawFlatCoordinates_(c,
0,c.length,k),this.hitDetectionInstructions.push(v.strokeInstruction),this.endGeometry(h))};n.prototype.drawMultiLineString=function(k,h){var c=this.state,e=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==e){this.updateStrokeStyle(c,this.applyStroke);this.beginGeometry(k,h);this.hitDetectionInstructions.push([v["default"].SET_STROKE_STYLE,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset],v.beginPathInstruction);c=k.getEnds();e=k.getFlatCoordinates();k=k.getStride();
for(var b=0,d=0,a=c.length;d<a;++d)b=this.drawFlatCoordinates_(e,b,c[d],k);this.hitDetectionInstructions.push(v.strokeInstruction);this.endGeometry(h)}};n.prototype.finish=function(){var k=this.state;void 0!=k.lastStroke&&k.lastStroke!=this.coordinates.length&&this.instructions.push(v.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return u.prototype.finish.call(this)};n.prototype.applyStroke=function(k){void 0!=k.lastStroke&&k.lastStroke!=this.coordinates.length&&(this.instructions.push(v.strokeInstruction),
k.lastStroke=this.coordinates.length);k.lastStroke=0;u.prototype.applyStroke.call(this,k);this.instructions.push(v.beginPathInstruction)};return n}(S["default"]);r["default"]=m};
shadow$provide[216]=function(S,m,Y,r){function D(k){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return D(k)}function C(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;C=function(){return k};return k}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(k){return k&&k.__esModule?k:{"default":k}}(m(213));
var v=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==D(k)&&"function"!==typeof k)return{"default":k};var h=C();if(h&&h.has(k))return h.get(k);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,b;for(b in k)if(Object.prototype.hasOwnProperty.call(k,b)){var d=e?Object.getOwnPropertyDescriptor(k,b):null;d&&(d.get||d.set)?Object.defineProperty(c,b,d):c[b]=k[b]}c["default"]=k;h&&h.set(k,c);return c}(m(211)),w=m(107),u=m(144),n=function(){var k=function(h,c){k=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c,e,b,d){return k.call(this,c,e,b,d)||this}n(h,k);h.prototype.drawFlatCoordinatess_=function(c,e,b,d){var a=this.state,f=void 0!==a.fillStyle;a=void 0!==a.strokeStyle;var l=b.length;
this.instructions.push(v.beginPathInstruction);this.hitDetectionInstructions.push(v.beginPathInstruction);for(var t=0;t<l;++t){var q=b[t],B=this.coordinates.length;e=this.appendFlatLineCoordinates(c,e,q,d,!0,!a);e=[v["default"].MOVE_TO_LINE_TO,B,e];this.instructions.push(e);this.hitDetectionInstructions.push(e);a&&(this.instructions.push(v.closePathInstruction),this.hitDetectionInstructions.push(v.closePathInstruction));e=q}f&&(this.instructions.push(v.fillInstruction),this.hitDetectionInstructions.push(v.fillInstruction));
a&&(this.instructions.push(v.strokeInstruction),this.hitDetectionInstructions.push(v.strokeInstruction));return e};h.prototype.drawCircle=function(c,e){var b=this.state,d=b.strokeStyle;if(void 0!==b.fillStyle||void 0!==d){this.setFillStrokeStyles_();this.beginGeometry(c,e);void 0!==b.fillStyle&&this.hitDetectionInstructions.push([v["default"].SET_FILL_STYLE,w.defaultFillStyle]);void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([v["default"].SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,
b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]);d=c.getFlatCoordinates();c=c.getStride();var a=this.coordinates.length;this.appendFlatLineCoordinates(d,0,d.length,c,!1,!1);d=[v["default"].CIRCLE,a];this.instructions.push(v.beginPathInstruction,d);this.hitDetectionInstructions.push(v.beginPathInstruction,d);void 0!==b.fillStyle&&(this.instructions.push(v.fillInstruction),this.hitDetectionInstructions.push(v.fillInstruction));void 0!==b.strokeStyle&&(this.instructions.push(v.strokeInstruction),
this.hitDetectionInstructions.push(v.strokeInstruction));this.endGeometry(e)}};h.prototype.drawPolygon=function(c,e){var b=this.state,d=b.strokeStyle;if(void 0!==b.fillStyle||void 0!==d)this.setFillStrokeStyles_(),this.beginGeometry(c,e),void 0!==b.fillStyle&&this.hitDetectionInstructions.push([v["default"].SET_FILL_STYLE,w.defaultFillStyle]),void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([v["default"].SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,
b.lineDashOffset]),b=c.getEnds(),d=c.getOrientedFlatCoordinates(),c=c.getStride(),this.drawFlatCoordinatess_(d,0,b,c),this.endGeometry(e)};h.prototype.drawMultiPolygon=function(c,e){var b=this.state,d=b.strokeStyle;if(void 0!==b.fillStyle||void 0!==d){this.setFillStrokeStyles_();this.beginGeometry(c,e);void 0!==b.fillStyle&&this.hitDetectionInstructions.push([v["default"].SET_FILL_STYLE,w.defaultFillStyle]);void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([v["default"].SET_STROKE_STYLE,
b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]);b=c.getEndss();d=c.getOrientedFlatCoordinates();c=c.getStride();for(var a=0,f=0,l=b.length;f<l;++f)a=this.drawFlatCoordinatess_(d,a,b[f],c);this.endGeometry(e)}};h.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var c=this.tolerance;if(0!==c)for(var e=this.coordinates,b=0,d=e.length;b<d;++b)e[b]=(0,u.snap)(e[b],c);return k.prototype.finish.call(this)};h.prototype.setFillStrokeStyles_=
function(){var c=this.state;void 0!==c.fillStyle&&this.updateFillStyle(c,this.createFill);void 0!==c.strokeStyle&&this.updateStrokeStyle(c,this.applyStroke)};return h}(S["default"]);r["default"]=m};
shadow$provide[217]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={POINT:"point",LINE:"line"}};
shadow$provide[218]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.matchingChunk=function(D,C,v,w,u){for(var n=v,k=v,h=0,c=0,e=v,b,d,a,f,l,t;v<w;v+=u){var q=C[v],B=C[v+1];void 0!==a&&(a=q-a,f=B-f,d=Math.sqrt(a*a+f*f),void 0!==l&&(c+=b,b=Math.acos((l*a+t*f)/(b*d)),b>D&&(c>h&&(h=c,n=e,k=v),c=0,e=v-u)),b=d,l=a,t=f);a=q;f=B}return c+d>h?[e,v]:[n,k]}};
shadow$provide[219]=function(S,m,Y,r){function D(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.TEXT_ALIGN=void 0;S=D(m(213));var C=D(m(211)),v=D(m(122)),w=D(m(217)),u=m(204),n=m(107),k=m(77),h=m(83),c=m(218),e=function(){var d=function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,t){l.__proto__=t}||function(l,t){for(var q in t)Object.prototype.hasOwnProperty.call(t,q)&&(l[q]=t[q])};return d(a,f)};return function(a,
f){function l(){this.constructor=a}d(a,f);a.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)}}(),b={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};r.TEXT_ALIGN=b;m=function(d){function a(f,l,t,q){f=d.call(this,f,l,t,q)||this;f.labels_=null;f.text_="";f.textOffsetX_=0;f.textOffsetY_=0;f.textRotateWithView_=void 0;f.textRotation_=0;f.textFillState_=null;f.fillStates={};f.textStrokeState_=null;f.strokeStates={};f.textState_=
{};f.textStates={};f.textKey_="";f.fillKey_="";f.strokeKey_="";f.declutterImageWithText_=void 0;return f}e(a,d);a.prototype.finish=function(){var f=d.prototype.finish.call(this);f.textStates=this.textStates;f.fillStates=this.fillStates;f.strokeStates=this.strokeStates;return f};a.prototype.drawText=function(f,l){var t=this.textFillState_,q=this.textStrokeState_,B=this.textState_;if(""!==this.text_&&B&&(t||q)){var E=this.coordinates;t=E.length;var z=f.getType();q=null;var A=f.getStride();if(B.placement!==
w["default"].LINE||z!=v["default"].LINE_STRING&&z!=v["default"].MULTI_LINE_STRING&&z!=v["default"].POLYGON&&z!=v["default"].MULTI_POLYGON){E=B.overflow?null:[];switch(z){case v["default"].POINT:case v["default"].MULTI_POINT:q=f.getFlatCoordinates();break;case v["default"].LINE_STRING:q=f.getFlatMidpoint();break;case v["default"].CIRCLE:q=f.getCenter();break;case v["default"].MULTI_LINE_STRING:q=f.getFlatMidpoints();A=2;break;case v["default"].POLYGON:q=f.getFlatInteriorPoint();B.overflow||E.push(q[2]/
this.resolution);A=3;break;case v["default"].MULTI_POLYGON:A=f.getFlatInteriorPoints();q=[];z=0;for(J=A.length;z<J;z+=3)B.overflow||E.push(A[z+2]/this.resolution),q.push(A[z],A[z+1]);if(0===q.length)return;A=2}z=this.appendFlatPointCoordinates(q,A);if(z===t)return;this.saveTextStates_();if(B.backgroundFill||B.backgroundStroke)this.setFillStrokeStyle(B.backgroundFill,B.backgroundStroke),B.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),
B.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(f,l);q=B.padding;if(q!=n.defaultPadding&&(0>B.scale[0]||0>B.scale[1])){q=B.padding[0];A=B.padding[1];var p=B.padding[2];f=B.padding[3];0>B.scale[0]&&(A=-A,f=-f);0>B.scale[1]&&(q=-q,p=-p);q=[q,A,p,f]}var y=this.pixelRatio;this.instructions.push([C["default"].DRAW_IMAGE,t,z,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,
1],NaN,this.declutterImageWithText_,q==n.defaultPadding?n.defaultPadding:q.map(function(K){return K*y}),!!B.backgroundFill,!!B.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,E]);A=1/y;this.hitDetectionInstructions.push([C["default"].DRAW_IMAGE,t,z,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[A,A],NaN,this.declutterImageWithText_,q,!!B.backgroundFill,!!B.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,
this.textOffsetX_,this.textOffsetY_,E])}else{if(!(0,h.intersects)(this.getBufferedMaxExtent(),f.getExtent()))return;p=void 0;q=f.getFlatCoordinates();if(z==v["default"].LINE_STRING)p=[q.length];else if(z==v["default"].MULTI_LINE_STRING)p=f.getEnds();else if(z==v["default"].POLYGON)p=f.getEnds().slice(0,1);else if(z==v["default"].MULTI_POLYGON){var F=f.getEndss();p=[];z=0;for(var J=F.length;z<J;++z)p.push(F[z][0])}this.beginGeometry(f,l);f=B.textAlign;var H=0,P=void 0;J=0;for(F=p.length;J<F;++J){void 0==
f?(z=(0,c.matchingChunk)(B.maxAngle,q,H,p[J],A),H=z[0],P=z[1]):P=p[J];for(z=H;z<P;z+=A)E.push(q[z],q[z+1]);z=E.length;H=p[J];this.drawChars_(t,z);t=z}}this.endGeometry(l)}};a.prototype.saveTextStates_=function(){var f=this.textStrokeState_,l=this.textState_,t=this.textFillState_,q=this.strokeKey_;f&&(q in this.strokeStates||(this.strokeStates[q]={strokeStyle:f.strokeStyle,lineCap:f.lineCap,lineDashOffset:f.lineDashOffset,lineWidth:f.lineWidth,lineJoin:f.lineJoin,miterLimit:f.miterLimit,lineDash:f.lineDash}));
f=this.textKey_;f in this.textStates||(this.textStates[f]={font:l.font,textAlign:l.textAlign||n.defaultTextAlign,textBaseline:l.textBaseline||n.defaultTextBaseline,scale:l.scale});l=this.fillKey_;t&&(l in this.fillStates||(this.fillStates[l]={fillStyle:t.fillStyle}))};a.prototype.drawChars_=function(f,l){var t=this.textStrokeState_,q=this.textState_,B=this.strokeKey_,E=this.textKey_,z=this.fillKey_;this.saveTextStates_();var A=this.pixelRatio,p=b[q.textBaseline],y=this.textOffsetY_*A,F=this.text_;
t=t?t.lineWidth*Math.abs(q.scale[0])/2:0;this.instructions.push([C["default"].DRAW_CHARS,f,l,p,q.overflow,z,q.maxAngle,A,y,B,t*A,F,E,1]);this.hitDetectionInstructions.push([C["default"].DRAW_CHARS,f,l,p,q.overflow,z,q.maxAngle,1,y,B,t,F,E,1/A])};a.prototype.setTextStyle=function(f,l){var t,q;if(f){if(q=f.getFill()){var B=this.textFillState_;B||(this.textFillState_=B={});B.fillStyle=(0,u.asColorLike)(q.getColor()||n.defaultFillStyle)}else this.textFillState_=B=null;if(t=f.getStroke()){q=this.textStrokeState_;
q||(this.textStrokeState_=q={});var E=t.getLineDash(),z=t.getLineDashOffset(),A=t.getWidth(),p=t.getMiterLimit();q.lineCap=t.getLineCap()||n.defaultLineCap;q.lineDash=E?E.slice():n.defaultLineDash;q.lineDashOffset=void 0===z?n.defaultLineDashOffset:z;q.lineJoin=t.getLineJoin()||n.defaultLineJoin;q.lineWidth=void 0===A?n.defaultLineWidth:A;q.miterLimit=void 0===p?n.defaultMiterLimit:p;q.strokeStyle=(0,u.asColorLike)(t.getColor()||n.defaultStrokeStyle)}else this.textStrokeState_=q=null;t=this.textState_;
E=f.getFont()||n.defaultFont;(0,n.registerFont)(E);z=f.getScaleArray();t.overflow=f.getOverflow();t.font=E;t.maxAngle=f.getMaxAngle();t.placement=f.getPlacement();t.textAlign=f.getTextAlign();t.textBaseline=f.getTextBaseline()||n.defaultTextBaseline;t.backgroundFill=f.getBackgroundFill();t.backgroundStroke=f.getBackgroundStroke();t.padding=f.getPadding()||n.defaultPadding;t.scale=void 0===z?[1,1]:z;E=f.getOffsetX();z=f.getOffsetY();A=f.getRotateWithView();p=f.getRotation();this.text_=f.getText()||
"";this.textOffsetX_=void 0===E?0:E;this.textOffsetY_=void 0===z?0:z;this.textRotateWithView_=void 0===A?!1:A;this.textRotation_=void 0===p?0:p;this.strokeKey_=q?("string"==typeof q.strokeStyle?q.strokeStyle:(0,k.getUid)(q.strokeStyle))+q.lineCap+q.lineDashOffset+"|"+q.lineWidth+q.lineJoin+q.miterLimit+"["+q.lineDash.join()+"]":"";this.textKey_=t.font+t.scale+(t.textAlign||"?")+(t.textBaseline||"?");this.fillKey_=B?"string"==typeof B.fillStyle?B.fillStyle:"|"+(0,k.getUid)(B.fillStyle):""}else this.text_=
"";this.declutterImageWithText_=l};return a}(S["default"]);r["default"]=m};
shadow$provide[220]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(213));Y=D(m(214));var C=D(m(215)),v=D(m(216));m=D(m(219));var w={Circle:v["default"],Default:S["default"],Image:Y["default"],LineString:C["default"],Polygon:v["default"],Text:m["default"]};m=function(){function u(n,k,h,c){this.tolerance_=n;this.maxExtent_=k;this.pixelRatio_=c;this.resolution_=h;this.buildersByZIndex_={}}u.prototype.finish=
function(){var n={},k;for(k in this.buildersByZIndex_){n[k]=n[k]||{};var h=this.buildersByZIndex_[k],c;for(c in h){var e=h[c].finish();n[k][c]=e}}return n};u.prototype.getBuilder=function(n,k){var h=void 0!==n?n.toString():"0";n=this.buildersByZIndex_[h];void 0===n&&(n={},this.buildersByZIndex_[h]=n);h=n[k];void 0===h&&(h=new w[k](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[k]=h);return h};return u}();r["default"]=m};
shadow$provide[221]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(91)),v=D(m(202));S=D(m(93));var w=D(m(98)),u=m(77),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);
h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c){var e=k.call(this)||this;e.boundHandleImageChange_=e.handleImageChange_.bind(e);e.layer_=c;e.declutterExecutorGroup=null;return e}n(h,k);h.prototype.getFeatures=function(c){return(0,u["abstract"])()};h.prototype.prepareFrame=function(c){return(0,u["abstract"])()};h.prototype.renderFrame=function(c,e){return(0,u["abstract"])()};h.prototype.loadedTileCallback=function(c,e,b){c[e]||(c[e]={});c[e][b.tileCoord.toString()]=
b};h.prototype.createLoadedTileFinder=function(c,e,b){return function(d,a){var f=this.loadedTileCallback.bind(this,b,d);return c.forEachLoadedTile(e,d,a,f)}.bind(this)};h.prototype.forEachFeatureAtCoordinate=function(c,e,b,d,a){};h.prototype.getDataAtPixel=function(c,e,b){return(0,u["abstract"])()};h.prototype.getLayer=function(){return this.layer_};h.prototype.handleFontsChanged=function(){};h.prototype.handleImageChange_=function(c){c.target.getState()===v["default"].LOADED&&this.renderIfReadyAndVisible()};
h.prototype.loadImage=function(c){var e=c.getState();e!=v["default"].LOADED&&e!=v["default"].ERROR&&c.addEventListener(C["default"].CHANGE,this.boundHandleImageChange_);e==v["default"].IDLE&&(c.load(),e=c.getState());return e==v["default"].LOADED};h.prototype.renderIfReadyAndVisible=function(){var c=this.getLayer();c.getVisible()&&c.getSourceState()==w["default"].READY&&c.changed()};return h}(S["default"]);r["default"]=m};
shadow$provide[222]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(221));var C=D(m(103)),v=D(m(97)),w=m(80),u=m(83),n=m(106),k=m(107),h=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=
e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();m=function(c){function e(b){b=c.call(this,b)||this;b.container=null;b.tempTransform=(0,w.create)();b.pixelTransform=(0,w.create)();b.inversePixelTransform=(0,w.create)();b.context=null;b.containerReused=!1;return b}h(e,c);e.prototype.useContainer=function(b,d,a){a=this.getLayer().getClassName();var f;if(b&&""===b.style.opacity&&b.className===a){var l=b.firstElementChild;l instanceof HTMLCanvasElement&&(f=l.getContext("2d"))}!f||
0!==f.canvas.width&&f.canvas.style.transform!==d?this.containerReused&&(this.context=this.container=null,this.containerReused=!1):(this.container=b,this.context=f,this.containerReused=!0);this.container||(b=document.createElement("div"),b.className=a,d=b.style,d.position="absolute",d.width="100%",d.height="100%",f=(0,n.createCanvasContext2D)(),l=f.canvas,b.appendChild(l),d=l.style,d.position="absolute",d.left="0",d.transformOrigin="top left",this.container=b,this.context=f)};e.prototype.clip=function(b,
d,a){var f=d.pixelRatio,l=d.size[0]*f/2,t=d.size[1]*f/2,q=d.viewState.rotation,B=(0,u.getTopLeft)(a),E=(0,u.getTopRight)(a),z=(0,u.getBottomRight)(a);a=(0,u.getBottomLeft)(a);(0,w.apply)(d.coordinateToPixelTransform,B);(0,w.apply)(d.coordinateToPixelTransform,E);(0,w.apply)(d.coordinateToPixelTransform,z);(0,w.apply)(d.coordinateToPixelTransform,a);b.save();(0,k.rotateAtOffset)(b,-q,l,t);b.beginPath();b.moveTo(B[0]*f,B[1]*f);b.lineTo(E[0]*f,E[1]*f);b.lineTo(z[0]*f,z[1]*f);b.lineTo(a[0]*f,a[1]*f);
b.clip();(0,k.rotateAtOffset)(b,q,l,t)};e.prototype.clipUnrotated=function(b,d,a){var f=(0,u.getTopLeft)(a),l=(0,u.getTopRight)(a),t=(0,u.getBottomRight)(a);a=(0,u.getBottomLeft)(a);(0,w.apply)(d.coordinateToPixelTransform,f);(0,w.apply)(d.coordinateToPixelTransform,l);(0,w.apply)(d.coordinateToPixelTransform,t);(0,w.apply)(d.coordinateToPixelTransform,a);d=this.inversePixelTransform;(0,w.apply)(d,f);(0,w.apply)(d,l);(0,w.apply)(d,t);(0,w.apply)(d,a);b.save();b.beginPath();b.moveTo(Math.round(f[0]),
Math.round(f[1]));b.lineTo(Math.round(l[0]),Math.round(l[1]));b.lineTo(Math.round(t[0]),Math.round(t[1]));b.lineTo(Math.round(a[0]),Math.round(a[1]));b.clip()};e.prototype.dispatchRenderEvent_=function(b,d,a){var f=this.getLayer();f.hasListener(b)&&(b=new C["default"](b,this.inversePixelTransform,a,d),f.dispatchEvent(b))};e.prototype.preRender=function(b,d){this.dispatchRenderEvent_(v["default"].PRERENDER,b,d)};e.prototype.postRender=function(b,d){this.dispatchRenderEvent_(v["default"].POSTRENDER,
b,d)};e.prototype.getRenderTransform=function(b,d,a,f,l,t,q){l/=2;t/=2;d=f/d;f=-d;q=-b[0]+q;b=-b[1];return(0,w.compose)(this.tempTransform,l,t,d,f,-a,q,b)};e.prototype.getDataAtPixel=function(b,d,a){a=(0,w.apply)(this.inversePixelTransform,b.slice());var f=this.context,l=this.getLayer().getExtent();if(l&&(b=(0,w.apply)(d.pixelToCoordinateTransform,b.slice()),!(0,u.containsCoordinate)(l,b)))return null;try{var t=Math.round(a[0]),q=Math.round(a[1]),B=document.createElement("canvas"),E=B.getContext("2d");
B.width=1;B.height=1;E.clearRect(0,0,1,1);E.drawImage(f.canvas,t,q,1,1,0,0,1,1);var z=E.getImageData(0,0,1,1).data}catch(A){return"SecurityError"===A.name?new Uint8Array:z}return 0===z[3]?null:z};return e}(S["default"]);r["default"]=m};
shadow$provide[223]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[224]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.drawTextOnPath=function(v,w,u,n,k,h,c,e,b,d,a,f){function l(){B=t;E=q;w+=n;t=v[w];q=v[w+1];A+=z;z=Math.sqrt((t-B)*(t-B)+(q-E)*(q-E))}var t=v[w],q=v[w+1],B=0,E=0,z=0,A=0;do l();while(w<u-n&&A+z<h);for(var p=(h-A)/z,y=(0,D.lerp)(B,t,p),F=(0,D.lerp)(E,q,p),J=w-n,H=A,P=h+e*b(d,k,a);w<u-n&&A+z<P;)l();p=(P-A)/z;var K=(0,D.lerp)(B,t,p);p=(0,D.lerp)(E,q,p);if(f){var N=[y,F,K,p];(0,C.rotate)(N,0,4,2,f,N,N);f=N[0]>N[2]}else f=
y>K;N=Math.PI;var M=[],O=J+n===w;w=J;z=0;A=H;t=v[w];q=v[w+1];if(O)return l(),u=Math.atan2(q-E,t-B),f&&(u+=0<u?-N:N),M[0]=[(K+y)/2,(p+F)/2,(P-h)/2,u,k],M;y=0;for(F=k.length;y<F;){l();P=Math.atan2(q-E,t-B);f&&(P+=0<P?-N:N);if(void 0!==Q){var Q=P-Q;Q+=Q>N?-2*N:Q<-N?2*N:0;if(Math.abs(Q)>c)return null}Q=P;p=y;for(K=0;y<F;++y){J=e*b(d,k[f?F-y-1:y],a);if(w+n<u&&A+z<h+K+J/2)break;K+=J}y!==p&&(H=f?k.substring(F-p,F-y):k.substring(p,y),p=(h+K/2-A)/z,J=(0,D.lerp)(B,t,p),p=(0,D.lerp)(E,q,p),M.push([J,p,K/2,P,
H]),h+=K)}return M};var D=m(84),C=m(139)};
shadow$provide[225]=function(S,m,Y,r){function D(E){return E[3].declutterBox}function C(E,z){"start"!==z&&"end"!==z||B.test(E)||(z="start"===z?"left":"right");return w.TEXT_ALIGN[z]}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=function(E){return E&&E.__esModule?E:{"default":E}}(m(211)),w=m(219),u=m(105),n=m(80),k=m(83),h=m(107),c=m(224),e=m(75),b=m(195),d=m(139),a=(0,k.createEmpty)(),f=[],l=[],t=[],q=[],B=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+
String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");S=function(){function E(z,A,p,y,F){this.overlaps=p;this.pixelRatio=A;this.resolution=z;this.instructions=y.instructions;this.coordinates=y.coordinates;this.coordinateCache_={};this.renderBuffer_=F;this.renderedTransform_=(0,n.create)();this.hitDetectionInstructions=
y.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=y.fillStates||{};this.strokeStates=y.strokeStates||{};this.textStates=y.textStates||{};this.widths_={};this.labels_={}}E.prototype.createLabel=function(z,A,p,y){var F=z+A+p+y;if(this.labels_[F])return this.labels_[F];var J=y?this.strokeStates[y]:null,H=p?this.fillStates[p]:null,P=this.textStates[A];A=this.pixelRatio;var K=[P.scale[0]*A,P.scale[1]*A],N=C(z,P.textAlign||h.defaultTextAlign);A=y&&J.lineWidth?J.lineWidth:
0;z=z.split("\n");var M=z.length,O=[],Q=(0,h.measureTextWidths)(P.font,z,O),G=(0,h.measureTextHeight)(P.font),L=Q+A;Q=[];var T=(L+2)*K[0],V=(G*M+A)*K[1];T={width:0>T?Math.floor(T):Math.ceil(T),height:0>V?Math.floor(V):Math.ceil(V),contextInstructions:Q};1==K[0]&&1==K[1]||Q.push("scale",K);Q.push("font",P.font);y&&(Q.push("strokeStyle",J.strokeStyle),Q.push("lineWidth",A),Q.push("lineCap",J.lineCap),Q.push("lineJoin",J.lineJoin),Q.push("miterLimit",J.miterLimit),(u.WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:
CanvasRenderingContext2D).prototype.setLineDash&&(Q.push("setLineDash",[J.lineDash]),Q.push("lineDashOffset",J.lineDashOffset)));p&&Q.push("fillStyle",H.fillStyle);Q.push("textBaseline","middle");Q.push("textAlign","center");J=.5-N;H=N*L+J*A;if(y)for(y=0;y<M;++y)Q.push("strokeText",[z[y],H+J*O[y],.5*(A+G)+y*G]);if(p)for(y=0;y<M;++y)Q.push("fillText",[z[y],H+J*O[y],.5*(A+G)+y*G]);return this.labels_[F]=T};E.prototype.replayTextBackground_=function(z,A,p,y,F,J,H){z.beginPath();z.moveTo.apply(z,A);z.lineTo.apply(z,
p);z.lineTo.apply(z,y);z.lineTo.apply(z,F);z.lineTo.apply(z,A);J&&(this.alignFill_=J[2],this.fill_(z));H&&(this.setStrokeStyle_(z,H),z.stroke())};E.prototype.calculateImageOrLabelDimensions_=function(z,A,p,y,F,J,H,P,K,N,M,O,Q,G,L,T){H*=O[0];P*=O[1];H=p-H;P=y-P;z=F+K>z?z-K:F;A=J+N>A?A-N:J;J=G[3]+z*O[0]+G[1];F=G[0]+A*O[1]+G[2];var V=H-G[3];G=P-G[0];if(L||0!==M)f[0]=V,q[0]=V,f[1]=G,l[1]=G,l[0]=V+J,t[0]=l[0],t[1]=G+F,q[1]=t[1];if(0!==M){var X=(0,n.compose)((0,n.create)(),p,y,1,1,M,-p,-y);(0,n.apply)(X,
f);(0,n.apply)(X,l);(0,n.apply)(X,t);(0,n.apply)(X,q);(0,k.createOrUpdate)(Math.min(f[0],l[0],t[0],q[0]),Math.min(f[1],l[1],t[1],q[1]),Math.max(f[0],l[0],t[0],q[0]),Math.max(f[1],l[1],t[1],q[1]),a)}else(0,k.createOrUpdate)(Math.min(V,V+J),Math.min(G,G+F),Math.max(V,V+J),Math.max(G,G+F),a);Q&&(H=Math.round(H),P=Math.round(P));return{drawImageX:H,drawImageY:P,drawImageW:z,drawImageH:A,originX:K,originY:N,declutterBox:{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:T},canvasTransform:X,scale:O}};E.prototype.replayImageOrLabel_=
function(z,A,p,y,F,J,H){var P=y.declutterBox,K=z.canvas,N=H?H[2]*y.scale[0]/2:0;P.minX-N<=K.width/A&&0<=P.maxX+N&&P.minY-N<=K.height/A&&0<=P.maxY+N&&((J||H)&&this.replayTextBackground_(z,f,l,t,q,J,H),(0,h.drawImageOrLabel)(z,y.canvasTransform,F,p,y.originX,y.originY,y.drawImageW,y.drawImageH,y.drawImageX,y.drawImageY,y.scale));return!0};E.prototype.fill_=function(z){if(this.alignFill_){var A=(0,n.apply)(this.renderedTransform_,[0,0]),p=512*this.pixelRatio;z.save();z.translate(A[0]%p,A[1]%p);z.rotate(this.viewRotation_)}z.fill();
this.alignFill_&&z.restore()};E.prototype.setStrokeStyle_=function(z,A){z.strokeStyle=A[1];z.lineWidth=A[2];z.lineCap=A[3];z.lineJoin=A[4];z.miterLimit=A[5];z.setLineDash&&(z.lineDashOffset=A[7],z.setLineDash(A[6]))};E.prototype.drawLabelWithPointPlacement_=function(z,A,p,y){var F=this.textStates[A];A=this.createLabel(z,A,y,p);y=this.strokeStates[p];p=this.pixelRatio;z=C(z,F.textAlign||h.defaultTextAlign);var J=w.TEXT_ALIGN[F.textBaseline||h.defaultTextBaseline];y=y&&y.lineWidth?y.lineWidth:0;return{label:A,
anchorX:z*(A.width/p-2*F.scale[0])+2*(.5-z)*y,anchorY:J*A.height/p+2*(.5-J)*y}};E.prototype.execute_=function(z,A,p,y,F,J,H,P){if(this.pixelCoordinates_&&(0,e.equals)(p,this.renderedTransform_))var K=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),K=(0,d.transform2D)(this.coordinates,0,this.coordinates.length,2,p,this.pixelCoordinates_),(0,n.setFromArray)(this.renderedTransform_,p);var N=0,M=y.length,O,Q=0,G=0,L=null,T=null,V=this.coordinateCache_,X=this.viewRotation_;
p=Math.round(1E12*Math.atan2(-p[1],p[0]))/1E12;for(var aa={context:z,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},ba=this.instructions!=y||this.overlaps?0:200,fa,ka;N<M;){var ha=y[N];switch(ha[0]){case v["default"].BEGIN_GEOMETRY:fa=ha[1];ka=ha[3];fa.getGeometry()?void 0===H||(0,k.intersects)(H,ka.getExtent())?++N:N=ha[2]+1:N=ha[2];break;case v["default"].BEGIN_PATH:Q>ba&&(this.fill_(z),Q=0);G>ba&&(z.stroke(),G=0);if(!Q&&!G){z.beginPath();var ma=O=NaN}++N;break;case v["default"].CIRCLE:var Aa=
ha[1];var ea=K[Aa];var ja=K[Aa+1];var oa=K[Aa+2]-ea;Aa=K[Aa+3]-ja;oa=Math.sqrt(oa*oa+Aa*Aa);z.moveTo(ea+oa,ja);z.arc(ea,ja,oa,0,2*Math.PI,!0);++N;break;case v["default"].CLOSE_PATH:z.closePath();++N;break;case v["default"].CUSTOM:Aa=ha[1];var ra=ha[2];ea=ha[4];ja=6==ha.length?ha[5]:void 0;aa.geometry=ha[3];aa.feature=fa;N in V||(V[N]=[]);oa=V[N];ja?ja(K,Aa,ra,2,oa):(oa[0]=K[Aa],oa[1]=K[Aa+1],oa.length=2);ea(oa,aa);++N;break;case v["default"].DRAW_IMAGE:Aa=ha[1];ra=ha[2];ea=ha[3];var pa=ha[4];var ta=
ha[5];ja=ha[6];var wa=ha[7],ya=ha[8],Ha=ha[9],Ga=ha[10],Ba=ha[11],La=ha[12];oa=ha[13];var Ya=ha[14];!ea&&19<=ha.length&&(pa=ha[18],ea=ha[19],ja=ha[20],oa=ha[21],ja=this.drawLabelWithPointPlacement_(pa,ea,ja,oa),ea=ja.label,ha[3]=ea,pa=(ja.anchorX-ha[22])*this.pixelRatio,ha[4]=pa,ta=(ja.anchorY-ha[23])*this.pixelRatio,ha[5]=ta,ja=ea.height,ha[6]=ja,oa=ea.width,ha[13]=oa);var Qa=void 0;24<ha.length&&(Qa=ha[24]);if(16<ha.length){var Na=ha[15];var xa=ha[16];var pb=ha[17]}else Na=h.defaultPadding,pb=xa=
!1;Ga&&p?Ba+=X:Ga||p||(Ba-=X);for(Ga=0;Aa<ra;Aa+=2)if(!(Qa&&Qa[Ga++]<oa/this.pixelRatio)){ha=this.calculateImageOrLabelDimensions_(ea.width,ea.height,K[Aa],K[Aa+1],oa,ja,pa,ta,ya,Ha,Ba,La,F,Na,xa||pb,fa);var Fa=[z,A,ea,ha,wa,xa?L:null,pb?T:null],Da=void 0,wb=void 0;if(P&&Ya){if(!Ya[Aa]){Ya[Aa]=Fa;continue}Da=Ya[Aa];delete Ya[Aa];wb=D(Da);if(P.collides(wb))continue}P&&P.collides(ha.declutterBox)||(Da&&(P&&P.insert(wb),this.replayImageOrLabel_.apply(this,Da)),P&&P.insert(ha.declutterBox),this.replayImageOrLabel_.apply(this,
Fa))}++N;break;case v["default"].DRAW_CHARS:ta=ha[1];Ba=ha[2];Aa=ha[3];Ya=ha[4];oa=ha[5];La=ha[6];Ha=ha[7];ra=ha[8];ja=ha[9];wa=ha[10];pa=ha[11];ea=ha[12];ya=[ha[13],ha[13]];Ga=this.textStates[ea];ha=Ga.font;Ha=[Ga.scale[0]*Ha,Ga.scale[1]*Ha];ha in this.widths_?Ga=this.widths_[ha]:(Ga={},this.widths_[ha]=Ga);Qa=(0,b.lineStringLength)(K,ta,Ba,2);Na=Math.abs(Ha[0])*(0,h.measureAndCacheTextWidth)(ha,pa,Ga);if(Ya||Na<=Qa)a:if(Ya=(Qa-Na)*w.TEXT_ALIGN[this.textStates[ea].textAlign],La=(0,c.drawTextOnPath)(K,
ta,Ba,2,pa,Ya,La,Math.abs(Ha[0]),h.measureAndCacheTextWidth,ha,Ga,p?0:this.viewRotation_),La){Ba=[];if(ja)for(Ya=0,Ga=La.length;Ya<Ga;++Ya){ha=La[Ya];pa=ha[4];Qa=this.createLabel(pa,ea,"",ja);pa=ha[2]+(0>Ha[0]?-wa:wa);ta=Aa*Qa.height+2*(.5-Aa)*wa*Ha[1]/Ha[0]-ra;ha=this.calculateImageOrLabelDimensions_(Qa.width,Qa.height,ha[0],ha[1],Qa.width,Qa.height,pa,ta,0,0,ha[3],ya,!1,h.defaultPadding,!1,fa);if(P&&P.collides(ha.declutterBox))break a;Ba.push([z,A,Qa,ha,1,null,null])}if(oa)for(Ya=0,Ga=La.length;Ya<
Ga;++Ya){ha=La[Ya];pa=ha[4];Qa=this.createLabel(pa,ea,oa,"");pa=ha[2];ta=Aa*Qa.height-ra;ha=this.calculateImageOrLabelDimensions_(Qa.width,Qa.height,ha[0],ha[1],Qa.width,Qa.height,pa,ta,0,0,ha[3],ya,!1,h.defaultPadding,!1,fa);if(P&&P.collides(ha.declutterBox))break a;Ba.push([z,A,Qa,ha,1,null,null])}P&&P.load(Ba.map(D));ea=0;for(ja=Ba.length;ea<ja;++ea)this.replayImageOrLabel_.apply(this,Ba[ea])}++N;break;case v["default"].END_GEOMETRY:if(void 0!==J&&(fa=ha[1],ea=J(fa,ka)))return ea;++N;break;case v["default"].FILL:ba?
Q++:this.fill_(z);++N;break;case v["default"].MOVE_TO_LINE_TO:Aa=ha[1];ra=ha[2];oa=K[Aa];pa=K[Aa+1];ea=oa+.5|0;ja=pa+.5|0;if(ea!==O||ja!==ma)z.moveTo(oa,pa),O=ea,ma=ja;for(Aa+=2;Aa<ra;Aa+=2)if(oa=K[Aa],pa=K[Aa+1],ea=oa+.5|0,ja=pa+.5|0,Aa==ra-2||ea!==O||ja!==ma)z.lineTo(oa,pa),O=ea,ma=ja;++N;break;case v["default"].SET_FILL_STYLE:L=ha;this.alignFill_=ha[2];Q&&(this.fill_(z),Q=0,G&&(z.stroke(),G=0));z.fillStyle=ha[1];++N;break;case v["default"].SET_STROKE_STYLE:T=ha;G&&(z.stroke(),G=0);this.setStrokeStyle_(z,
ha);++N;break;case v["default"].STROKE:ba?G++:z.stroke();++N;break;default:++N}}Q&&this.fill_(z);G&&z.stroke()};E.prototype.execute=function(z,A,p,y,F,J){this.viewRotation_=y;this.execute_(z,A,p,this.instructions,F,void 0,void 0,J)};E.prototype.executeHitDetection=function(z,A,p,y,F){this.viewRotation_=p;return this.execute_(z,1,A,this.hitDetectionInstructions,!0,y,F)};return E}();r["default"]=S};
shadow$provide[226]=function(S,m,Y,r){function D(a){return a&&a.__esModule?a:{"default":a}}function C(a){if(void 0!==d[a])return d[a];for(var f=2*a+1,l=a*a,t=Array(l+1),q=0;q<=a;++q)for(var B=0;B<=a;++B){var E=q*q+B*B;if(E>l)break;var z=t[E];z||(z=[],t[E]=z);z.push(4*((a+q)*f+(a+B))+3);0<q&&z.push(4*((a-q)*f+(a+B))+3);0<B&&(z.push(4*((a+q)*f+(a-B))+3),0<q&&z.push(4*((a-q)*f+(a-B))+3))}f=[];q=0;for(l=t.length;q<l;++q)t[q]&&f.push.apply(f,t[q]);return d[a]=f}Object.defineProperty(r,"__esModule",{value:!0});
r.getPixelIndexArray=C;r["default"]=void 0;var v=D(m(223)),w=D(m(225)),u=m(83),n=m(80),k=m(106),h=m(89),c=m(75),e=m(139),b=[v["default"].POLYGON,v["default"].CIRCLE,v["default"].LINE_STRING,v["default"].IMAGE,v["default"].TEXT,v["default"].DEFAULT];S=function(){function a(f,l,t,q,B,E){this.maxExtent_=f;this.overlaps_=q;this.pixelRatio_=t;this.resolution_=l;this.renderBuffer_=E;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,n.create)();this.createExecutors_(B)}
a.prototype.clip=function(f,l){l=this.getClipCoords(l);f.beginPath();f.moveTo(l[0],l[1]);f.lineTo(l[2],l[3]);f.lineTo(l[4],l[5]);f.lineTo(l[6],l[7]);f.clip()};a.prototype.createExecutors_=function(f){for(var l in f){var t=this.executorsByZIndex_[l];void 0===t&&(t={},this.executorsByZIndex_[l]=t);var q=f[l],B=[this.renderBuffer_||0,this.renderBuffer_||0],E;for(E in q)t[E]=new w["default"](this.resolution_,this.pixelRatio_,this.overlaps_,q[E],B)}};a.prototype.hasExecutors=function(f){for(var l in this.executorsByZIndex_)for(var t=
this.executorsByZIndex_[l],q=0,B=f.length;q<B;++q)if(f[q]in t)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(f,l,t,q,B,E){function z(M,O){for(var Q=F.getImageData(0,0,A,A).data,G=0,L=H.length;G<L;G++)if(0<Q[H[G]]){if(!E||K!==v["default"].IMAGE&&K!==v["default"].TEXT||-1!==E.indexOf(M))if(G=(H[G]-3)/4,Q=q-G%A,G=q-(G/A|0),M=B(M,O,Q*Q+G*G))return M;F.clearRect(0,0,A,A);break}}q=Math.round(q);var A=2*q+1,p=(0,n.compose)(this.hitDetectionTransform_,q+.5,q+.5,1/l,-1/l,-t,-f[0],-f[1]),
y=!this.hitDetectionContext_;y&&(this.hitDetectionContext_=(0,k.createCanvasContext2D)(A,A));var F=this.hitDetectionContext_;F.canvas.width!==A||F.canvas.height!==A?(F.canvas.width=A,F.canvas.height=A):y||F.clearRect(0,0,A,A);if(void 0!==this.renderBuffer_){var J=(0,u.createEmpty)();(0,u.extendCoordinate)(J,f);(0,u.buffer)(J,l*(this.renderBuffer_+q),J)}var H=C(q);f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(c.numberSafeCompareFunction);for(l=f.length-1;0<=l;--l){var P=this.executorsByZIndex_[f[l].toString()];
for(y=b.length-1;0<=y;--y){var K=b[y];var N=P[K];if(void 0!==N&&(N=N.executeHitDetection(F,p,t,z,J)))return N}}};a.prototype.getClipCoords=function(f){var l=this.maxExtent_;if(!l)return null;var t=l[0],q=l[1],B=l[2];l=l[3];t=[t,q,t,l,B,l,B,q];(0,e.transform2D)(t,0,8,2,f,t);return t};a.prototype.isEmpty=function(){return(0,h.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(f,l,t,q,B,E,z){var A=Object.keys(this.executorsByZIndex_).map(Number);A.sort(c.numberSafeCompareFunction);this.maxExtent_&&
(f.save(),this.clip(f,t));E=E?E:b;var p,y;z&&A.reverse();var F=0;for(p=A.length;F<p;++F){var J=this.executorsByZIndex_[A[F].toString()];var H=0;for(y=E.length;H<y;++H){var P=J[E[H]];void 0!==P&&P.execute(f,l,t,q,B,z)}}this.maxExtent_&&f.restore()};return a}();var d={};r["default"]=S};
shadow$provide[227]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(122));S=D(m(212));var v=m(204),w=m(80),u=m(107),n=m(75),k=m(83),h=m(139),c=m(141),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a,f,l,t,q,B,E){var z=b.call(this)||this;z.context_=a;z.pixelRatio_=f;z.extent_=l;z.transform_=t;z.viewRotation_=q;z.squaredTolerance_=B;z.userTransform_=E;z.contextFillState_=null;z.contextStrokeState_=null;z.contextTextState_=null;z.fillState_=null;z.strokeState_=null;z.image_=null;z.imageAnchorX_=0;z.imageAnchorY_=0;z.imageHeight_=0;z.imageOpacity_=0;z.imageOriginX_=0;z.imageOriginY_=0;z.imageRotateWithView_=
!1;z.imageRotation_=0;z.imageScale_=[0,0];z.imageWidth_=0;z.text_="";z.textOffsetX_=0;z.textOffsetY_=0;z.textRotateWithView_=!1;z.textRotation_=0;z.textScale_=[0,0];z.textFillState_=null;z.textStrokeState_=null;z.textState_=null;z.pixelCoordinates_=[];z.tmpLocalTransform_=(0,w.create)();return z}e(d,b);d.prototype.drawImages_=function(a,f,l,t){if(this.image_){a=(0,h.transform2D)(a,f,l,2,this.transform_,this.pixelCoordinates_);f=this.context_;l=this.tmpLocalTransform_;t=f.globalAlpha;1!=this.imageOpacity_&&
(f.globalAlpha=t*this.imageOpacity_);var q=this.imageRotation_;this.imageRotateWithView_&&(q+=this.viewRotation_);for(var B=0,E=a.length;B<E;B+=2){var z=a[B]-this.imageAnchorX_,A=a[B+1]-this.imageAnchorY_;0!==q||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(z+=this.imageAnchorX_,A+=this.imageAnchorY_,(0,w.compose)(l,z,A,1,1,q,-z,-A),f.setTransform.apply(f,l),f.translate(z,A),f.scale(this.imageScale_[0],this.imageScale_[1]),f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,
this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),f.setTransform(1,0,0,1,0,0)):f.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,z,A,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(f.globalAlpha=t)}};d.prototype.drawText_=function(a,f,l,t){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);
this.setContextTextState_(this.textState_);a=(0,h.transform2D)(a,f,l,t,this.transform_,this.pixelCoordinates_);var q=this.context_,B=this.textRotation_;for(this.textRotateWithView_&&(B+=this.viewRotation_);f<l;f+=t){var E=a[f]+this.textOffsetX_,z=a[f+1]+this.textOffsetY_;if(0!==B||1!=this.textScale_[0]||1!=this.textScale_[1]){var A=(0,w.compose)(this.tmpLocalTransform_,E,z,1,1,B,-E,-z);q.setTransform.apply(q,A);q.translate(E,z);q.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&
q.strokeText(this.text_,0,0);this.textFillState_&&q.fillText(this.text_,0,0);q.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&q.strokeText(this.text_,E,z),this.textFillState_&&q.fillText(this.text_,E,z)}}};d.prototype.moveToLineTo_=function(a,f,l,t,q){var B=this.context_;a=(0,h.transform2D)(a,f,l,t,this.transform_,this.pixelCoordinates_);B.moveTo(a[0],a[1]);f=a.length;q&&(f-=2);for(t=2;t<f;t+=2)B.lineTo(a[t],a[t+1]);q&&B.closePath();return l};d.prototype.drawRings_=function(a,f,l,t){for(var q=
0,B=l.length;q<B;++q)f=this.moveToLineTo_(a,f,l[q],t,!0);return f};d.prototype.drawCircle=function(a){if((0,k.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var f=(0,c.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),l=f[2]-f[0],t=f[3]-f[1];l=Math.sqrt(l*l+t*t);t=this.context_;t.beginPath();t.arc(f[0],f[1],l,0,2*Math.PI);this.fillState_&&
t.fill();this.strokeState_&&t.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};d.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};d.prototype.setTransform=function(a){this.transform_=a};d.prototype.drawGeometry=function(a){switch(a.getType()){case C["default"].POINT:this.drawPoint(a);break;case C["default"].LINE_STRING:this.drawLineString(a);break;case C["default"].POLYGON:this.drawPolygon(a);
break;case C["default"].MULTI_POINT:this.drawMultiPoint(a);break;case C["default"].MULTI_LINE_STRING:this.drawMultiLineString(a);break;case C["default"].MULTI_POLYGON:this.drawMultiPolygon(a);break;case C["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case C["default"].CIRCLE:this.drawCircle(a)}};d.prototype.drawFeature=function(a,f){(a=f.getGeometryFunction()(a))&&(0,k.intersects)(this.extent_,a.getExtent())&&(this.setStyle(f),this.drawGeometry(a))};d.prototype.drawGeometryCollection=
function(a){a=a.getGeometriesArray();for(var f=0,l=a.length;f<l;++f)this.drawGeometry(a[f])};d.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var f=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(f,0,f.length,a);""!==this.text_&&this.drawText_(f,0,f.length,a)};d.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var f=a.getFlatCoordinates();
a=a.getStride();this.image_&&this.drawImages_(f,0,f.length,a);""!==this.text_&&this.drawText_(f,0,f.length,a)};d.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,k.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var f=this.context_,l=a.getFlatCoordinates();f.beginPath();this.moveToLineTo_(l,0,l.length,a.getStride(),!1);f.stroke()}""!==this.text_&&(a=
a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};d.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var f=a.getExtent();if((0,k.intersects)(this.extent_,f)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);f=this.context_;var l=a.getFlatCoordinates(),t=0,q=a.getEnds(),B=a.getStride();f.beginPath();for(var E=0,z=q.length;E<z;++E)t=this.moveToLineTo_(l,t,q[E],B,!1);f.stroke()}""!==this.text_&&(a=
a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};d.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,k.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var f=this.context_;f.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());
this.fillState_&&f.fill();this.strokeState_&&f.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};d.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,k.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var f=this.context_,l=a.getOrientedFlatCoordinates(),
t=0,q=a.getEndss(),B=a.getStride();f.beginPath();for(var E=0,z=q.length;E<z;++E)t=this.drawRings_(l,t,q[E],B);this.fillState_&&f.fill();this.strokeState_&&f.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};d.prototype.setContextFillState_=function(a){var f=this.context_,l=this.contextFillState_;l?l.fillStyle!=a.fillStyle&&(l.fillStyle=a.fillStyle,f.fillStyle=a.fillStyle):(f.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};d.prototype.setContextStrokeState_=
function(a){var f=this.context_,l=this.contextStrokeState_;l?(l.lineCap!=a.lineCap&&(l.lineCap=a.lineCap,f.lineCap=a.lineCap),f.setLineDash&&((0,n.equals)(l.lineDash,a.lineDash)||f.setLineDash(l.lineDash=a.lineDash),l.lineDashOffset!=a.lineDashOffset&&(l.lineDashOffset=a.lineDashOffset,f.lineDashOffset=a.lineDashOffset)),l.lineJoin!=a.lineJoin&&(l.lineJoin=a.lineJoin,f.lineJoin=a.lineJoin),l.lineWidth!=a.lineWidth&&(l.lineWidth=a.lineWidth,f.lineWidth=a.lineWidth),l.miterLimit!=a.miterLimit&&(l.miterLimit=
a.miterLimit,f.miterLimit=a.miterLimit),l.strokeStyle!=a.strokeStyle&&(l.strokeStyle=a.strokeStyle,f.strokeStyle=a.strokeStyle)):(f.lineCap=a.lineCap,f.setLineDash&&(f.setLineDash(a.lineDash),f.lineDashOffset=a.lineDashOffset),f.lineJoin=a.lineJoin,f.lineWidth=a.lineWidth,f.miterLimit=a.miterLimit,f.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
d.prototype.setContextTextState_=function(a){var f=this.context_,l=this.contextTextState_,t=a.textAlign?a.textAlign:u.defaultTextAlign;l?(l.font!=a.font&&(l.font=a.font,f.font=a.font),l.textAlign!=t&&(l.textAlign=t,f.textAlign=t),l.textBaseline!=a.textBaseline&&(l.textBaseline=a.textBaseline,f.textBaseline=a.textBaseline)):(f.font=a.font,f.textAlign=t,f.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:t,textBaseline:a.textBaseline})};d.prototype.setFillStrokeStyle=function(a,
f){a?(a=a.getColor(),this.fillState_={fillStyle:(0,v.asColorLike)(a?a:u.defaultFillStyle)}):this.fillState_=null;if(f){a=f.getColor();var l=f.getLineCap(),t=f.getLineDash(),q=f.getLineDashOffset(),B=f.getLineJoin(),E=f.getWidth();f=f.getMiterLimit();this.strokeState_={lineCap:void 0!==l?l:u.defaultLineCap,lineDash:t?t:u.defaultLineDash,lineDashOffset:q?q:u.defaultLineDashOffset,lineJoin:void 0!==B?B:u.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==E?E:u.defaultLineWidth),miterLimit:void 0!==
f?f:u.defaultMiterLimit,strokeStyle:(0,v.asColorLike)(a?a:u.defaultStrokeStyle)}}else this.strokeState_=null};d.prototype.setImageStyle=function(a){if(a){var f=a.getSize();if(f){var l=a.getAnchor(),t=a.getImage(1),q=a.getOrigin(),B=a.getScaleArray();this.imageAnchorX_=l[0];this.imageAnchorY_=l[1];this.imageHeight_=f[1];this.image_=t;this.imageOpacity_=a.getOpacity();this.imageOriginX_=q[0];this.imageOriginY_=q[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();
this.imageScale_=[this.pixelRatio_*B[0],this.pixelRatio_*B[1]];this.imageWidth_=f[0]}else this.image_=null}else this.image_=null};d.prototype.setTextStyle=function(a){if(a){var f=a.getFill();f?(f=f.getColor(),this.textFillState_={fillStyle:(0,v.asColorLike)(f?f:u.defaultFillStyle)}):this.textFillState_=null;var l=a.getStroke();if(l){f=l.getColor();var t=l.getLineCap(),q=l.getLineDash(),B=l.getLineDashOffset(),E=l.getLineJoin(),z=l.getWidth();l=l.getMiterLimit();this.textStrokeState_={lineCap:void 0!==
t?t:u.defaultLineCap,lineDash:q?q:u.defaultLineDash,lineDashOffset:B?B:u.defaultLineDashOffset,lineJoin:void 0!==E?E:u.defaultLineJoin,lineWidth:void 0!==z?z:u.defaultLineWidth,miterLimit:void 0!==l?l:u.defaultMiterLimit,strokeStyle:(0,v.asColorLike)(f?f:u.defaultStrokeStyle)}}else this.textStrokeState_=null;f=a.getFont();t=a.getOffsetX();q=a.getOffsetY();B=a.getRotateWithView();E=a.getRotation();z=a.getScaleArray();l=a.getText();var A=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==
f?f:u.defaultFont,textAlign:void 0!==A?A:u.defaultTextAlign,textBaseline:void 0!==a?a:u.defaultTextBaseline};this.text_=void 0!==l?l:"";this.textOffsetX_=void 0!==t?this.pixelRatio_*t:0;this.textOffsetY_=void 0!==q?this.pixelRatio_*q:0;this.textRotateWithView_=void 0!==B?B:!1;this.textRotation_=void 0!==E?E:0;this.textScale_=[this.pixelRatio_*z[0],this.pixelRatio_*z[1]]}else this.text_=""};return d}(S["default"]);r["default"]=m};
shadow$provide[228]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[229]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[230]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(90));var C=D(m(91)),v=m(77),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}();m=function(u){function n(k,h,c,e){var b=u.call(this)||this;b.extent=k;b.pixelRatio_=c;b.resolution=h;b.state=e;return b}w(n,u);n.prototype.changed=function(){this.dispatchEvent(C["default"].CHANGE)};n.prototype.getExtent=function(){return this.extent};n.prototype.getImage=function(){return(0,v["abstract"])()};n.prototype.getPixelRatio=function(){return this.pixelRatio_};n.prototype.getResolution=function(){return this.resolution};n.prototype.getState=function(){return this.state};
n.prototype.load=function(){(0,v["abstract"])()};return n}(S["default"]);r["default"]=m};
shadow$provide[231]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}function C(c,e,b){if(c.src&&u.IMAGE_DECODE){var d=!0;c.decode().then(function(){d&&e()})["catch"](function(f){d&&("EncodingError"===f.name&&"Invalid image type."===f.message?e():b())});return function(){d=!1}}var a=[(0,k.listenOnce)(c,v["default"].LOAD,e),(0,k.listenOnce)(c,v["default"].ERROR,b)];return function(){a.forEach(k.unlistenByKey)}}Object.defineProperty(r,"__esModule",{value:!0});r.listenImage=C;r["default"]=
void 0;var v=D(m(91));S=D(m(230));var w=D(m(202)),u=m(105),n=m(83),k=m(92),h=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();m=function(c){function e(b,d,a,f,l,t){b=c.call(this,b,d,a,w["default"].IDLE)||
this;b.src_=f;b.image_=new Image;null!==l&&(b.image_.crossOrigin=l);b.unlisten_=null;b.state=w["default"].IDLE;b.imageLoadFunction_=t;return b}h(e,c);e.prototype.getImage=function(){return this.image_};e.prototype.handleImageError_=function(){this.state=w["default"].ERROR;this.unlistenImage_();this.changed()};e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,n.getHeight)(this.extent)/this.image_.height);this.state=w["default"].LOADED;this.unlistenImage_();this.changed()};
e.prototype.load=function(){if(this.state==w["default"].IDLE||this.state==w["default"].ERROR)this.state=w["default"].LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=C(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};e.prototype.setImage=function(b){this.image_=b};e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return e}(S["default"]);r["default"]=m};
shadow$provide[232]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r.get=function(b,d,a,f,l,t){var q=n.shared.get(d,f,t);q||(q=new e(b,d,a,f,l,t),n.shared.set(d,f,t,q));return q};r["default"]=void 0;S=D(m(90));var C=D(m(91)),v=D(m(202)),w=m(85),u=m(106),n=m(86),k=m(231),h=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,
t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),c=null,e=function(b){function d(a,f,l,t,q,B){var E=b.call(this)||this;E.hitDetectionImage_=null;E.image_=a?a:new Image;null!==t&&(E.image_.crossOrigin=t);E.canvas_={};E.color_=B;E.unlisten_=null;E.imageState_=q;E.size_=l;E.src_=f;return E}h(d,b);d.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===v["default"].LOADED){c||
(c=(0,u.createCanvasContext2D)(1,1));c.drawImage(this.image_,0,0);try{c.getImageData(0,0,1,1),this.tainted_=!1}catch(a){c=null,this.tainted_=!0}}return!0===this.tainted_};d.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(C["default"].CHANGE)};d.prototype.handleImageError_=function(){this.imageState_=v["default"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};d.prototype.handleImageLoad_=function(){this.imageState_=v["default"].LOADED;this.size_?(this.image_.width=this.size_[0],
this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};d.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};d.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};d.prototype.getImageState=function(){return this.imageState_};d.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],
f=this.size_[1],l=(0,u.createCanvasContext2D)(a,f);l.fillRect(0,0,a,f);this.hitDetectionImage_=l.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};d.prototype.getSize=function(){return this.size_};d.prototype.getSrc=function(){return this.src_};d.prototype.load=function(){if(this.imageState_==v["default"].IDLE){this.imageState_=v["default"].LOADING;try{this.image_.src=this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,k.listenImage)(this.image_,this.handleImageLoad_.bind(this),
this.handleImageError_.bind(this))}};d.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]){var f=document.createElement("canvas");this.canvas_[a]=f;f.width=Math.ceil(this.image_.width*a);f.height=Math.ceil(this.image_.height*a);var l=f.getContext("2d");l.scale(a,a);l.drawImage(this.image_,0,0);l.globalCompositeOperation="multiply";if("multiply"===l.globalCompositeOperation||this.isTainted_())l.fillStyle=(0,w.asString)(this.color_),l.fillRect(0,0,f.width,f.height),l.globalCompositeOperation=
"destination-in",l.drawImage(this.image_,0,0);else{a=l.getImageData(0,0,f.width,f.height);f=a.data;for(var t=this.color_[0]/255,q=this.color_[1]/255,B=this.color_[2]/255,E=this.color_[3],z=0,A=f.length;z<A;z+=4)f[z]*=t,f[z+1]*=q,f[z+2]*=B,f[z+3]*=E;l.putImageData(a,0,0)}}};d.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return d}(S["default"]);r["default"]=e};
shadow$provide[233]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(91)),v=D(m(228)),w=D(m(229)),u=D(m(202));S=D(m(203));var n=m(85),k=m(79),h=m(232),c=m(77),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a){var f=a||{};a=b.call(this,{opacity:void 0!==f.opacity?f.opacity:1,rotation:void 0!==f.rotation?f.rotation:0,scale:void 0!==f.scale?f.scale:1,displacement:void 0!==f.displacement?f.displacement:[0,0],rotateWithView:void 0!==f.rotateWithView?f.rotateWithView:!1})||this;a.anchor_=void 0!==f.anchor?f.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==f.anchorOrigin?f.anchorOrigin:
w["default"].TOP_LEFT;a.anchorXUnits_=void 0!==f.anchorXUnits?f.anchorXUnits:v["default"].FRACTION;a.anchorYUnits_=void 0!==f.anchorYUnits?f.anchorYUnits:v["default"].FRACTION;a.crossOrigin_=void 0!==f.crossOrigin?f.crossOrigin:null;var l=void 0!==f.img?f.img:null,t=void 0!==f.imgSize?f.imgSize:null,q=f.src;(0,k.assert)(!(void 0!==q&&l),4);(0,k.assert)(!l||l&&t,5);void 0!==q&&0!==q.length||!l||(q=l.src||(0,c.getUid)(l));(0,k.assert)(void 0!==q&&0<q.length,6);var B=void 0!==f.src?u["default"].IDLE:
u["default"].LOADED;a.color_=void 0!==f.color?(0,n.asArray)(f.color):null;a.iconImage_=(0,h.get)(l,q,t,a.crossOrigin_,B,a.color_);a.offset_=void 0!==f.offset?f.offset:[0,0];a.offsetOrigin_=void 0!==f.offsetOrigin?f.offsetOrigin:w["default"].TOP_LEFT;a.origin_=null;a.size_=void 0!==f.size?f.size:null;return a}e(d,b);d.prototype.clone=function(){var a=this.getScale();return new d({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,
crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(a)?a.slice():a,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};d.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,f=this.getSize();if(this.anchorXUnits_==
v["default"].FRACTION||this.anchorYUnits_==v["default"].FRACTION){if(!f)return null;a=this.anchor_.slice();this.anchorXUnits_==v["default"].FRACTION&&(a[0]*=f[0]);this.anchorYUnits_==v["default"].FRACTION&&(a[1]*=f[1])}if(this.anchorOrigin_!=w["default"].TOP_LEFT){if(!f)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==w["default"].TOP_RIGHT||this.anchorOrigin_==w["default"].BOTTOM_RIGHT)a[0]=-a[0]+f[0];if(this.anchorOrigin_==w["default"].BOTTOM_LEFT||this.anchorOrigin_==
w["default"].BOTTOM_RIGHT)a[1]=-a[1]+f[1]}return this.normalizedAnchor_=a};d.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};d.prototype.getColor=function(){return this.color_};d.prototype.getImage=function(a){return this.iconImage_.getImage(a)};d.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};d.prototype.getImageSize=function(){return this.iconImage_.getSize()};d.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};d.prototype.getImageState=
function(){return this.iconImage_.getImageState()};d.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};d.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_,f=this.getDisplacement();if(this.offsetOrigin_!=w["default"].TOP_LEFT){var l=this.getSize(),t=this.iconImage_.getSize();if(!l||!t)return null;a=a.slice();if(this.offsetOrigin_==w["default"].TOP_RIGHT||this.offsetOrigin_==w["default"].BOTTOM_RIGHT)a[0]=t[0]-l[0]-a[0];if(this.offsetOrigin_==
w["default"].BOTTOM_LEFT||this.offsetOrigin_==w["default"].BOTTOM_RIGHT)a[1]=t[1]-l[1]-a[1]}a[0]+=f[0];a[1]+=f[1];return this.origin_=a};d.prototype.getSrc=function(){return this.iconImage_.getSrc()};d.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};d.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(C["default"].CHANGE,a)};d.prototype.load=function(){this.iconImage_.load()};d.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(C["default"].CHANGE,
a)};return d}(S["default"]);r["default"]=m};
shadow$provide[234]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(207)),v=D(m(217)),w=m(157);S=function(){function u(n){n=n||{};this.font_=n.font;this.rotation_=n.rotation;this.rotateWithView_=n.rotateWithView;this.scale_=n.scale;this.scaleArray_=(0,w.toSize)(void 0!==n.scale?n.scale:1);this.text_=n.text;this.textAlign_=n.textAlign;this.textBaseline_=n.textBaseline;this.fill_=void 0!==n.fill?n.fill:
new C["default"]({color:"#333"});this.maxAngle_=void 0!==n.maxAngle?n.maxAngle:Math.PI/4;this.placement_=void 0!==n.placement?n.placement:v["default"].POINT;this.overflow_=!!n.overflow;this.stroke_=void 0!==n.stroke?n.stroke:null;this.offsetX_=void 0!==n.offsetX?n.offsetX:0;this.offsetY_=void 0!==n.offsetY?n.offsetY:0;this.backgroundFill_=n.backgroundFill?n.backgroundFill:null;this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null;this.padding_=void 0===n.padding?null:n.padding}u.prototype.clone=
function(){var n=this.getScale();return new u({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(n)?n.slice():n,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?
this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})};u.prototype.getOverflow=function(){return this.overflow_};u.prototype.getFont=function(){return this.font_};u.prototype.getMaxAngle=function(){return this.maxAngle_};u.prototype.getPlacement=function(){return this.placement_};u.prototype.getOffsetX=function(){return this.offsetX_};u.prototype.getOffsetY=function(){return this.offsetY_};u.prototype.getFill=
function(){return this.fill_};u.prototype.getRotateWithView=function(){return this.rotateWithView_};u.prototype.getRotation=function(){return this.rotation_};u.prototype.getScale=function(){return this.scale_};u.prototype.getScaleArray=function(){return this.scaleArray_};u.prototype.getStroke=function(){return this.stroke_};u.prototype.getText=function(){return this.text_};u.prototype.getTextAlign=function(){return this.textAlign_};u.prototype.getTextBaseline=function(){return this.textBaseline_};
u.prototype.getBackgroundFill=function(){return this.backgroundFill_};u.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};u.prototype.getPadding=function(){return this.padding_};u.prototype.setOverflow=function(n){this.overflow_=n};u.prototype.setFont=function(n){this.font_=n};u.prototype.setMaxAngle=function(n){this.maxAngle_=n};u.prototype.setOffsetX=function(n){this.offsetX_=n};u.prototype.setOffsetY=function(n){this.offsetY_=n};u.prototype.setPlacement=function(n){this.placement_=
n};u.prototype.setRotateWithView=function(n){this.rotateWithView_=n};u.prototype.setFill=function(n){this.fill_=n};u.prototype.setRotation=function(n){this.rotation_=n};u.prototype.setScale=function(n){this.scale_=n;this.scaleArray_=(0,w.toSize)(void 0!==n?n:1)};u.prototype.setStroke=function(n){this.stroke_=n};u.prototype.setText=function(n){this.text_=n};u.prototype.setTextAlign=function(n){this.textAlign_=n};u.prototype.setTextBaseline=function(n){this.textBaseline_=n};u.prototype.setBackgroundFill=
function(n){this.backgroundFill_=n};u.prototype.setBackgroundStroke=function(n){this.backgroundStroke_=n};u.prototype.setPadding=function(n){this.padding_=n};return u}();r["default"]=S};
shadow$provide[235]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty(r,"Fill",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(r,"Icon",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(r,"IconImage",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(r,
"Image",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(r,"RegularShape",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(r,"Stroke",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(r,"Style",{enumerable:!0,get:function(){return c["default"]}});Object.defineProperty(r,"Text",{enumerable:!0,get:function(){return e["default"]}});var C=D(m(206)),v=D(m(207)),w=D(m(233)),u=D(m(232)),n=D(m(203)),k=D(m(205)),h=D(m(208)),c=D(m(209)),
e=D(m(234))};
shadow$provide[236]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(r,"__esModule",{value:!0});r.createHitDetectionImageData=function(c,e,b,d,a,f,l){var t=c[0]/2;c=c[1]/2;t=(0,n.createCanvasContext2D)(t,c);t.imageSmoothingEnabled=!1;c=t.canvas;l=new C["default"](t,.5,a,null,l);for(var q=b.length,B=Math.floor(16777215/q),E={},z=1;z<=q;++z){var A=b[z-1],p=A.getStyleFunction()||d;if(d){var y=p(A,f);if(y){Array.isArray(y)||(y=[y]);var F="#"+("000000"+(z*B).toString(16)).slice(-6);
p=0;for(var J=y.length;p<J;++p){var H=y[p],P=H.clone(),K=P.getFill();K&&K.setColor(F);(K=P.getStroke())&&K.setColor(F);P.setText(void 0);if(H=H.getImage()){K=H.getImageSize();if(!K)continue;var N=document.createElement("canvas");N.width=K[0];N.height=K[1];var M=N.getContext("2d",{alpha:!1});M.fillStyle=F;N=M.canvas;M.fillRect(0,0,N.width,N.height);M=K?K[0]:N.width;var O=K?K[1]:N.height;(0,n.createCanvasContext2D)(M,O).drawImage(N,0,0);P.setImage(new u.Icon({img:N,imgSize:K,anchor:H.getAnchor(),anchorXUnits:w["default"].PIXELS,
anchorYUnits:w["default"].PIXELS,offset:H.getOrigin(),size:H.getSize(),opacity:H.getOpacity(),scale:H.getScale(),rotation:H.getRotation(),rotateWithView:H.getRotateWithView()}))}K=Number(P.getZIndex());H=E[K];H||(H={},E[K]=H,H[v["default"].POLYGON]=[],H[v["default"].CIRCLE]=[],H[v["default"].LINE_STRING]=[],H[v["default"].POINT]=[]);(K=P.getGeometryFunction()(A))&&(0,k.intersects)(a,K.getExtent())&&H[K.getType().replace("Multi","")].push(K,P)}}}}b=Object.keys(E).map(Number).sort(h.numberSafeCompareFunction);
z=0;for(d=b.length;z<d;++z){H=E[b[z]];for(var Q in H)for(a=H[Q],p=0,J=a.length;p<J;p+=2)for(l.setStyle(a[p+1]),f=0,q=e.length;f<q;++f)l.setTransform(e[f]),l.drawGeometry(a[p])}return t.getImageData(0,0,c.width,c.height)};r.hitDetect=function(c,e,b){var d=[];b&&(c=4*(Math.round(c[0]/2)+Math.round(c[1]/2)*b.width),b=b.data[c+2]+256*(b.data[c+1]+256*b.data[c]),c=Math.floor(16777215/e.length),b&&0===b%c&&d.push(e[b/c-1]));return d};var C=D(m(227)),v=D(m(122)),w=D(m(228)),u=m(235),n=m(106),k=m(83),h=m(75)};
shadow$provide[237]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}function C(c,e,b,d){if(e.getType()==w["default"].GEOMETRY_COLLECTION){e=e.getGeometries();for(var a=0,f=e.length;a<f;++a)C(c,e[a],b,d)}else c.getBuilder(b.getZIndex(),v["default"].DEFAULT).drawCustom(e,d,b.getRenderer())}Object.defineProperty(r,"__esModule",{value:!0});r.defaultOrder=function(c,e){return parseInt((0,n.getUid)(c),10)-parseInt((0,n.getUid)(e),10)};r.getSquaredTolerance=function(c,e){c=k*c/e;return c*
c};r.getTolerance=function(c,e){return k*c/e};r.renderFeature=function(c,e,b,d,a,f,l){var t=!1,q=b.getImage();if(q){var B=q.getImageState();B==u["default"].LOADED||B==u["default"].ERROR?q.unlistenImageChange(a):(B==u["default"].IDLE&&q.load(),q.getImageState(),q.listenImageChange(a),t=!0)}if(a=b.getGeometryFunction()(e))if(d=a.simplifyTransformed(d,f),b.getRenderer())C(c,d,b,e);else(0,h[d.getType()])(c,d,b,e,l);return t};var v=D(m(223)),w=D(m(122)),u=D(m(202)),n=m(77),k=.5,h={Point:function(c,e,b,
d,a){var f=b.getImage(),l=b.getText();if(a){c=a;var t=f&&l&&l.getText()?{}:void 0}if(f){if(f.getImageState()!=u["default"].LOADED)return;a=c.getBuilder(b.getZIndex(),v["default"].IMAGE);a.setImageStyle(f,t);a.drawPoint(e,d)}l&&l.getText()&&(c=c.getBuilder(b.getZIndex(),v["default"].TEXT),c.setTextStyle(l,t),c.drawText(e,d))},LineString:function(c,e,b,d,a){var f=b.getStroke();if(f){var l=c.getBuilder(b.getZIndex(),v["default"].LINE_STRING);l.setFillStrokeStyle(null,f);l.drawLineString(e,d)}(f=b.getText())&&
f.getText()&&(c=(a||c).getBuilder(b.getZIndex(),v["default"].TEXT),c.setTextStyle(f),c.drawText(e,d))},Polygon:function(c,e,b,d,a){var f=b.getFill(),l=b.getStroke();if(f||l){var t=c.getBuilder(b.getZIndex(),v["default"].POLYGON);t.setFillStrokeStyle(f,l);t.drawPolygon(e,d)}(f=b.getText())&&f.getText()&&(c=(a||c).getBuilder(b.getZIndex(),v["default"].TEXT),c.setTextStyle(f),c.drawText(e,d))},MultiPoint:function(c,e,b,d,a){var f=b.getImage(),l=b.getText();if(a){c=a;var t=f&&l&&l.getText()?{}:void 0}if(f){if(f.getImageState()!=
u["default"].LOADED)return;var q=c.getBuilder(b.getZIndex(),v["default"].IMAGE);q.setImageStyle(f,t);q.drawMultiPoint(e,d)}l&&l.getText()&&(c=(a||c).getBuilder(b.getZIndex(),v["default"].TEXT),c.setTextStyle(l,t),c.drawText(e,d))},MultiLineString:function(c,e,b,d,a){var f=b.getStroke();if(f){var l=c.getBuilder(b.getZIndex(),v["default"].LINE_STRING);l.setFillStrokeStyle(null,f);l.drawMultiLineString(e,d)}(f=b.getText())&&f.getText()&&(c=(a||c).getBuilder(b.getZIndex(),v["default"].TEXT),c.setTextStyle(f),
c.drawText(e,d))},MultiPolygon:function(c,e,b,d,a){var f=b.getFill(),l=b.getStroke();if(l||f){var t=c.getBuilder(b.getZIndex(),v["default"].POLYGON);t.setFillStrokeStyle(f,l);t.drawMultiPolygon(e,d)}(f=b.getText())&&f.getText()&&(c=(a||c).getBuilder(b.getZIndex(),v["default"].TEXT),c.setTextStyle(f),c.drawText(e,d))},GeometryCollection:function(c,e,b,d,a){e=e.getGeometriesArray();var f;var l=0;for(f=e.length;l<f;++l)(0,h[e[l].getType()])(c,e[l],b,d,a)},Circle:function(c,e,b,d,a){var f=b.getFill(),
l=b.getStroke();if(f||l){var t=c.getBuilder(b.getZIndex(),v["default"].CIRCLE);t.setFillStrokeStyle(f,l);t.drawCircle(e,d)}(f=b.getText())&&f.getText()&&(c=(a||c).getBuilder(b.getZIndex(),v["default"].TEXT),c.setTextStyle(f),c.drawText(e,d))}}};
shadow$provide[238]=function(S,m,Y,r){function D(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(220));S=D(m(222));var v=D(m(226)),w=D(m(124)),u=m(80),n=m(83),k=m(236),h=m(237),c=m(133),e=m(77),b=m(101),d=function(){var a=function(f,l){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,q){t.__proto__=q}||function(t,q){for(var B in q)Object.prototype.hasOwnProperty.call(q,B)&&(t[B]=q[B])};return a(f,l)};return function(f,
l){function t(){this.constructor=f}a(f,l);f.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)}}();m=function(a){function f(l){l=a.call(this,l)||this;l.boundHandleStyleImageChange_=l.handleStyleImageChange_.bind(l);l.dirty_=!1;l.hitDetectionImageData_=null;l.renderedFeatures_=null;l.renderedRevision_=-1;l.renderedResolution_=NaN;l.renderedExtent_=(0,n.createEmpty)();l.renderedCenter_=null;l.renderedProjection_=null;l.renderedRenderOrder_=null;l.replayGroup_=null;l.replayGroupChanged=
!0;l.declutterExecutorGroup=null;l.clipping=!0;return l}d(f,a);f.prototype.useContainer=function(l,t,q){1>q&&(l=null);a.prototype.useContainer.call(this,l,t,q)};f.prototype.renderWorlds=function(l,t,q){var B=t.extent,E=t.viewState,z=E.center,A=E.resolution,p=E.projection;E=E.rotation;var y=p.getExtent(),F=this.getLayer().getSource(),J=t.pixelRatio,H=t.viewHints;H=!(H[w["default"].ANIMATING]||H[w["default"].INTERACTING]);var P=this.context,K=Math.round(t.size[0]*J);t=Math.round(t.size[1]*J);var N=
F.getWrapX()&&p.canWrapX();p=N?(0,n.getWidth)(y):null;F=N?Math.ceil((B[2]-y[2])/p)+1:1;B=N?Math.floor((B[0]-y[0])/p):0;do y=this.getRenderTransform(z,A,E,J,K,t,B*p),l.execute(P,1,y,E,H,void 0,q);while(++B<F)};f.prototype.renderDeclutter=function(l){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,l,l.declutterTree)};f.prototype.renderFrame=function(l,t){var q=l.pixelRatio,B=l.layerStatesArray[l.layerIndex];(0,u.makeScale)(this.pixelTransform,1/q,1/q);(0,u.makeInverse)(this.inversePixelTransform,
this.pixelTransform);var E=(0,u.toString)(this.pixelTransform);this.useContainer(t,E,B.opacity);t=this.context;var z=t.canvas,A=this.replayGroup_,p=this.declutterExecutorGroup;if(!(A&&!A.isEmpty()||p&&!p.isEmpty()))return!this.containerReused&&0<z.width&&(z.width=0),this.container;p=Math.round(l.size[0]*q);q=Math.round(l.size[1]*q);z.width!=p||z.height!=q?(z.width=p,z.height=q,z.style.transform!==E&&(z.style.transform=E)):this.containerReused||t.clearRect(0,0,p,q);this.preRender(t,l);E=l.viewState;
z=E.projection;q=!1;B.extent&&this.clipping&&(z=(0,c.fromUserExtent)(B.extent,z),(q=!(0,n.containsExtent)(z,l.extent)&&(0,n.intersects)(z,l.extent))&&this.clipUnrotated(t,l,z));this.renderWorlds(A,l);q&&t.restore();this.postRender(t,l);l=B.opacity;B=this.container;l!==parseFloat(B.style.opacity)&&(B.style.opacity=1===l?"":String(l));this.renderedRotation_!==E.rotation&&(this.renderedRotation_=E.rotation,this.hitDetectionImageData_=null);return this.container};f.prototype.getFeatures=function(l){return new Promise(function(t){if(!this.hitDetectionImageData_&&
!this.animatingOrInteracting_){var q=[this.context.canvas.width,this.context.canvas.height];(0,u.apply)(this.pixelTransform,q);var B=this.renderedCenter_,E=this.renderedResolution_,z=this.renderedRotation_,A=this.renderedProjection_,p=this.renderedExtent_,y=this.getLayer(),F=[],J=q[0]/2,H=q[1]/2;F.push(this.getRenderTransform(B,E,z,.5,J,H,0).slice());var P=y.getSource(),K=A.getExtent();if(P.getWrapX()&&A.canWrapX()&&!(0,n.containsExtent)(K,p)){A=p[0];P=(0,n.getWidth)(K);for(var N=0,M;A<K[0];)--N,
M=P*N,F.push(this.getRenderTransform(B,E,z,.5,J,H,M).slice()),A+=P;N=0;for(A=p[2];A>K[2];)++N,M=P*N,F.push(this.getRenderTransform(B,E,z,.5,J,H,M).slice()),A-=P}this.hitDetectionImageData_=(0,k.createHitDetectionImageData)(q,F,this.renderedFeatures_,y.getStyleFunction(),p,E,z)}t((0,k.hitDetect)(l,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};f.prototype.forEachFeatureAtCoordinate=function(l,t,q,B,E){var z=this;if(this.replayGroup_){var A=t.viewState.resolution,p=t.viewState.rotation,
y=this.getLayer(),F={},J=function(K,N,M){var O=(0,e.getUid)(K),Q=F[O];if(!Q){if(0===M)return F[O]=!0,B(K,y,N);E.push(F[O]={feature:K,layer:y,geometry:N,distanceSq:M,callback:B})}else if(!0!==Q&&M<Q.distanceSq){if(0===M)return F[O]=!0,E.splice(E.lastIndexOf(Q),1),B(K,y,N);Q.geometry=N;Q.distanceSq=M}},H,P=[this.replayGroup_];this.declutterExecutorGroup&&P.push(this.declutterExecutorGroup);P.some(function(K){return H=K.forEachFeatureAtCoordinate(l,A,p,q,J,K===z.declutterExecutorGroup?t.declutterTree.all().map(function(N){return N.value}):
null)});return H}};f.prototype.handleFontsChanged=function(){var l=this.getLayer();l.getVisible()&&this.replayGroup_&&l.changed()};f.prototype.handleStyleImageChange_=function(l){this.renderIfReadyAndVisible()};f.prototype.prepareFrame=function(l){var t=this.getLayer(),q=t.getSource();if(!q)return!1;var B=l.viewHints[w["default"].ANIMATING],E=l.viewHints[w["default"].INTERACTING],z=t.getUpdateWhileAnimating(),A=t.getUpdateWhileInteracting();if(!this.dirty_&&!z&&B||!A&&E)return this.animatingOrInteracting_=
!0;this.animatingOrInteracting_=!1;var p=l.extent,y=l.viewState;B=y.projection;var F=y.resolution;E=l.pixelRatio;z=t.getRevision();var J=t.getRenderBuffer();A=t.getRenderOrder();void 0===A&&(A=h.defaultOrder);y=y.center.slice();p=(0,n.buffer)(p,J*F);J=[p.slice()];var H=B.getExtent();if(q.getWrapX()&&B.canWrapX()&&!(0,n.containsExtent)(H,l.extent)){l=(0,n.getWidth)(H);var P=Math.max((0,n.getWidth)(p)/2,l);p[0]=H[0]-P;p[2]=H[2]+P;(0,b.wrapX)(y,B);P=(0,n.wrapX)(J[0],B);P[0]<H[0]&&P[2]<H[2]?J.push([P[0]+
l,P[1],P[2]+l,P[3]]):P[0]>H[0]&&P[2]>H[2]&&J.push([P[0]-l,P[1],P[2]-l,P[3]])}if(!this.dirty_&&this.renderedResolution_==F&&this.renderedRevision_==z&&this.renderedRenderOrder_==A&&(0,n.containsExtent)(this.renderedExtent_,p))return this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var K=new C["default"]((0,h.getTolerance)(F,E),p,F,E),N;this.getLayer().getDeclutter()&&(N=new C["default"]((0,h.getTolerance)(F,E),p,F,E));P=(0,c.getUserProjection)();if(P){l=0;for(H=J.length;l<H;++l)q.loadFeatures((0,
c.toUserExtent)(J[l],B),F,P);var M=(0,c.getTransformFromProjections)(P,B)}else for(l=0,H=J.length;l<H;++l)q.loadFeatures(J[l],F,B);var O=(0,h.getSquaredTolerance)(F,E);J=function(Q){var G,L=Q.getStyleFunction()||t.getStyleFunction();L&&(G=L(Q,F));G&&(Q=this.renderFeature(Q,O,G,K,M,N),this.dirty_=this.dirty_||Q)}.bind(this);l=(0,c.toUserExtent)(p,B);P=q.getFeaturesInExtent(l);A&&P.sort(A);l=0;for(H=P.length;l<H;++l)J(P[l]);this.renderedFeatures_=P;l=K.finish();l=new v["default"](p,F,E,q.getOverlaps(),
l,t.getRenderBuffer());N&&(this.declutterExecutorGroup=new v["default"](p,F,E,q.getOverlaps(),N.finish(),t.getRenderBuffer()));this.renderedResolution_=F;this.renderedRevision_=z;this.renderedRenderOrder_=A;this.renderedExtent_=p;this.renderedCenter_=y;this.renderedProjection_=B;this.replayGroup_=l;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};f.prototype.renderFeature=function(l,t,q,B,E,z){if(!q)return!1;var A=!1;if(Array.isArray(q))for(var p=0,y=q.length;p<y;++p)A=(0,h.renderFeature)(B,
l,q[p],t,this.boundHandleStyleImageChange_,E,z)||A;else A=(0,h.renderFeature)(B,l,q,t,this.boundHandleStyleImageChange_,E,z);return A};return f}(S["default"]);r["default"]=m};
shadow$provide[239]=function(S,m,Y,r){function D(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(210));var C=D(m(238)),v=function(){var w=function(u,n){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])};return w(u,n)};return function(u,n){function k(){this.constructor=u}w(u,n);u.prototype=null===n?Object.create(n):
(k.prototype=n.prototype,new k)}}();m=function(w){function u(n){return w.call(this,n)||this}v(u,w);u.prototype.createRenderer=function(){return new C["default"](this)};return u}(S["default"]);r["default"]=m};
shadow$provide[240]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=function(u){return u&&u.__esModule?u:{"default":u}}(m(201)),C=m(83),v=m(77),w=m(89);S=function(){function u(n){this.rbush_=new D["default"](n);this.items_={}}u.prototype.insert=function(n,k){n={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:k};this.rbush_.insert(n);this.items_[(0,v.getUid)(k)]=n};u.prototype.load=function(n,k){for(var h=Array(k.length),c=0,e=k.length;c<e;c++){var b=n[c],
d=k[c];b={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3],value:d};h[c]=b;this.items_[(0,v.getUid)(d)]=b}this.rbush_.load(h)};u.prototype.remove=function(n){n=(0,v.getUid)(n);var k=this.items_[n];delete this.items_[n];return null!==this.rbush_.remove(k)};u.prototype.update=function(n,k){var h=this.items_[(0,v.getUid)(k)];h=[h.minX,h.minY,h.maxX,h.maxY];(0,C.equals)(h,n)||(this.remove(k),this.insert(n,k))};u.prototype.getAll=function(){return this.rbush_.all().map(function(n){return n.value})};u.prototype.getInExtent=
function(n){return this.rbush_.search({minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}).map(function(k){return k.value})};u.prototype.forEach=function(n){return this.forEach_(this.getAll(),n)};u.prototype.forEachInExtent=function(n,k){return this.forEach_(this.getInExtent(n),k)};u.prototype.forEach_=function(n,k){for(var h,c=0,e=n.length;c<e&&!(h=k(n[c]));c++);return h};u.prototype.isEmpty=function(){return(0,w.isEmpty)(this.items_)};u.prototype.clear=function(){this.rbush_.clear();this.items_={}};u.prototype.getExtent=
function(n){var k=this.rbush_.toJSON();return(0,C.createOrUpdate)(k.minX,k.minY,k.maxX,k.maxY,n)};u.prototype.concat=function(n){this.rbush_.load(n.rbush_.all());for(var k in n.items_)this.items_[k]=n.items_[k]};return u}();r["default"]=S};
shadow$provide[241]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}function C(k){return k?Array.isArray(k)?function(h){return k}:"function"===typeof k?k:function(h){return[k]}:null}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(94));var v=D(m(98)),w=m(77),u=m(133),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,
d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c){var e=k.call(this)||this;e.projection_=(0,u.get)(c.projection);e.attributions_=C(c.attributions);e.attributionsCollapsible_=void 0!==c.attributionsCollapsible?c.attributionsCollapsible:!0;e.loading=!1;e.state_=void 0!==c.state?c.state:v["default"].READY;e.wrapX_=void 0!==c.wrapX?c.wrapX:!1;return e}n(h,k);
h.prototype.getAttributions=function(){return this.attributions_};h.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};h.prototype.getProjection=function(){return this.projection_};h.prototype.getResolutions=function(){return(0,w["abstract"])()};h.prototype.getState=function(){return this.state_};h.prototype.getWrapX=function(){return this.wrapX_};h.prototype.getContextOptions=function(){};h.prototype.refresh=function(){this.changed()};h.prototype.setAttributions=
function(c){this.attributions_=C(c);this.changed()};h.prototype.setState=function(c){this.state_=c;this.changed()};return h}(S["default"]);r["default"]=m};
shadow$provide[242]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[243]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.all=function(D,C){return[[-Infinity,-Infinity,Infinity,Infinity]]};r.bbox=function(D,C){return[D]};r.tile=function(D){return function(C,v){v=D.getZForResolution(v);C=D.getTileRangeForExtentAndZ(C,v);var w=[];v=[v,0,0];for(v[1]=C.minX;v[1]<=C.maxX;++v[1])for(v[2]=C.minY;v[2]<=C.maxY;++v[2])w.push(D.getTileCoordExtent(v));return w}}};
shadow$provide[244]=function(S,m,Y,r){function D(u,n,k,h,c,e,b){var d=new XMLHttpRequest;d.open("GET","function"===typeof u?u(k,h,c):u,!0);n.getType()==C["default"].ARRAY_BUFFER&&(d.responseType="arraybuffer");d.withCredentials=w;d.onload=function(a){if(!d.status||200<=d.status&&300>d.status){a=n.getType();var f=void 0;a==C["default"].JSON||a==C["default"].TEXT?f=d.responseText:a==C["default"].XML?(f=d.responseXML)||(f=(new DOMParser).parseFromString(d.responseText,"application/xml")):a==C["default"].ARRAY_BUFFER&&
(f=d.response);f?e(n.readFeatures(f,{extent:k,featureProjection:c}),n.readProjection(f)):b()}else b()};d.onerror=b;d.send()}Object.defineProperty(r,"__esModule",{value:!0});r.loadFeaturesXhr=D;r.xhr=function(u,n){return function(k,h,c,e,b){var d=this;D(u,n,k,h,c,function(a,f){void 0!==e&&e(a);d.addFeatures(a)},b?b:v.VOID)}};r.setWithCredentials=function(u){w=u};var C=function(u){return u&&u.__esModule?u:{"default":u}}(m(189)),v=m(76),w=!1};
shadow$provide[245]=function(S,m,Y,r){function D(z){return z&&z.__esModule?z:{"default":z}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.VectorSourceEvent=void 0;var C=D(m(110)),v=D(m(109));S=D(m(87));var w=D(m(91)),u=D(m(88)),n=D(m(240));Y=D(m(241));var k=D(m(98)),h=D(m(242)),c=m(76),e=m(243),b=m(79),d=m(83),a=m(75),f=m(77),l=m(89),t=m(92),q=m(244),B=function(){var z=function(A,p){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,F){y.__proto__=F}||function(y,
F){for(var J in F)Object.prototype.hasOwnProperty.call(F,J)&&(y[J]=F[J])};return z(A,p)};return function(A,p){function y(){this.constructor=A}z(A,p);A.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}(),E=function(z){function A(p,y,F){p=z.call(this,p)||this;p.feature=y;p.features=F;return p}B(A,z);return A}(S["default"]);r.VectorSourceEvent=E;m=function(z){function A(p){var y=p||{};p=z.call(this,{attributions:y.attributions,projection:void 0,state:k["default"].READY,wrapX:void 0!==
y.wrapX?y.wrapX:!0})||this;p.loader_=c.VOID;p.format_=y.format;p.overlaps_=void 0===y.overlaps?!0:y.overlaps;p.url_=y.url;void 0!==y.loader?p.loader_=y.loader:void 0!==p.url_&&((0,b.assert)(p.format_,7),p.loader_=(0,q.xhr)(p.url_,p.format_));p.strategy_=void 0!==y.strategy?y.strategy:e.all;var F=void 0!==y.useSpatialIndex?y.useSpatialIndex:!0;p.featuresRtree_=F?new n["default"]:null;p.loadedExtentsRtree_=new n["default"];p.nullGeometryFeatures_={};p.idIndex_={};p.uidIndex_={};p.featureChangeKeys_=
{};p.featuresCollection_=null;if(Array.isArray(y.features))var J=y.features;else if(y.features){var H=y.features;J=H.getArray()}F||void 0!==H||(H=new C["default"](J));void 0!==J&&p.addFeaturesInternal(J);void 0!==H&&p.bindFeaturesCollection_(H);return p}B(A,z);A.prototype.addFeature=function(p){this.addFeatureInternal(p);this.changed()};A.prototype.addFeatureInternal=function(p){var y=(0,f.getUid)(p);if(this.addToIndex_(y,p)){this.setupChangeEvents_(y,p);var F=p.getGeometry();F?(y=F.getExtent(),this.featuresRtree_&&
this.featuresRtree_.insert(y,p)):this.nullGeometryFeatures_[y]=p;this.dispatchEvent(new E(h["default"].ADDFEATURE,p))}else this.featuresCollection_&&this.featuresCollection_.remove(p)};A.prototype.setupChangeEvents_=function(p,y){this.featureChangeKeys_[p]=[(0,t.listen)(y,w["default"].CHANGE,this.handleFeatureChange_,this),(0,t.listen)(y,u["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};A.prototype.addToIndex_=function(p,y){var F=!0,J=y.getId();void 0!==J&&(J.toString()in this.idIndex_?
F=!1:this.idIndex_[J.toString()]=y);F&&((0,b.assert)(!(p in this.uidIndex_),30),this.uidIndex_[p]=y);return F};A.prototype.addFeatures=function(p){this.addFeaturesInternal(p);this.changed()};A.prototype.addFeaturesInternal=function(p){for(var y=[],F=[],J=[],H=0,P=p.length;H<P;H++){var K=p[H],N=(0,f.getUid)(K);this.addToIndex_(N,K)&&F.push(K)}H=0;for(p=F.length;H<p;H++)K=F[H],N=(0,f.getUid)(K),this.setupChangeEvents_(N,K),(P=K.getGeometry())?(N=P.getExtent(),y.push(N),J.push(K)):this.nullGeometryFeatures_[N]=
K;this.featuresRtree_&&this.featuresRtree_.load(y,J);H=0;for(y=F.length;H<y;H++)this.dispatchEvent(new E(h["default"].ADDFEATURE,F[H]))};A.prototype.bindFeaturesCollection_=function(p){var y=!1;this.addEventListener(h["default"].ADDFEATURE,function(F){y||(y=!0,p.push(F.feature),y=!1)});this.addEventListener(h["default"].REMOVEFEATURE,function(F){y||(y=!0,p.remove(F.feature),y=!1)});p.addEventListener(v["default"].ADD,function(F){y||(y=!0,this.addFeature(F.element),y=!1)}.bind(this));p.addEventListener(v["default"].REMOVE,
function(F){y||(y=!0,this.removeFeature(F.element),y=!1)}.bind(this));this.featuresCollection_=p};A.prototype.clear=function(p){if(p){for(var y in this.featureChangeKeys_)this.featureChangeKeys_[y].forEach(t.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var F in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[F])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};p=new E(h["default"].CLEAR);this.dispatchEvent(p);this.changed()};A.prototype.forEachFeature=function(p){if(this.featuresRtree_)return this.featuresRtree_.forEach(p);this.featuresCollection_&&this.featuresCollection_.forEach(p)};A.prototype.forEachFeatureAtCoordinateDirect=function(p,y){return this.forEachFeatureInExtent([p[0],p[1],p[0],p[1]],function(F){if(F.getGeometry().intersectsCoordinate(p))return y(F)})};
A.prototype.forEachFeatureInExtent=function(p,y){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(p,y);this.featuresCollection_&&this.featuresCollection_.forEach(y)};A.prototype.forEachFeatureIntersectingExtent=function(p,y){return this.forEachFeatureInExtent(p,function(F){if(F.getGeometry().intersectsExtent(p)&&(F=y(F)))return F})};A.prototype.getFeaturesCollection=function(){return this.featuresCollection_};A.prototype.getFeatures=function(){if(this.featuresCollection_)var p=this.featuresCollection_.getArray();
else this.featuresRtree_&&(p=this.featuresRtree_.getAll(),(0,l.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(p,(0,l.getValues)(this.nullGeometryFeatures_)));return p};A.prototype.getFeaturesAtCoordinate=function(p){var y=[];this.forEachFeatureAtCoordinateDirect(p,function(F){y.push(F)});return y};A.prototype.getFeaturesInExtent=function(p){return this.featuresRtree_?this.featuresRtree_.getInExtent(p):this.featuresCollection_?this.featuresCollection_.getArray():[]};A.prototype.getClosestFeatureToCoordinate=
function(p,y){var F=p[0],J=p[1],H=null,P=[NaN,NaN],K=Infinity,N=[-Infinity,-Infinity,Infinity,Infinity],M=y?y:c.TRUE;this.featuresRtree_.forEachInExtent(N,function(O){if(M(O)){var Q=O.getGeometry(),G=K;K=Q.closestPointXY(F,J,P,K);K<G&&(H=O,O=Math.sqrt(K),N[0]=F-O,N[1]=J-O,N[2]=F+O,N[3]=J+O)}});return H};A.prototype.getExtent=function(p){return this.featuresRtree_.getExtent(p)};A.prototype.getFeatureById=function(p){p=this.idIndex_[p.toString()];return void 0!==p?p:null};A.prototype.getFeatureByUid=
function(p){p=this.uidIndex_[p];return void 0!==p?p:null};A.prototype.getFormat=function(){return this.format_};A.prototype.getOverlaps=function(){return this.overlaps_};A.prototype.getUrl=function(){return this.url_};A.prototype.handleFeatureChange_=function(p){p=p.target;var y=(0,f.getUid)(p),F=p.getGeometry();F?(F=F.getExtent(),y in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[y],this.featuresRtree_&&this.featuresRtree_.insert(F,p)):this.featuresRtree_&&this.featuresRtree_.update(F,
p)):y in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(p),this.nullGeometryFeatures_[y]=p);F=p.getId();void 0!==F?(y=F.toString(),this.idIndex_[y]!==p&&(this.removeFromIdIndex_(p),this.idIndex_[y]=p)):(this.removeFromIdIndex_(p),this.uidIndex_[y]=p);this.changed();this.dispatchEvent(new E(h["default"].CHANGEFEATURE,p))};A.prototype.hasFeature=function(p){var y=p.getId();return void 0!==y?y in this.idIndex_:(0,f.getUid)(p)in this.uidIndex_};A.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&
(0,l.isEmpty)(this.nullGeometryFeatures_)};A.prototype.loadFeatures=function(p,y,F){var J=this.loadedExtentsRtree_,H=this.strategy_(p,y);this.loading=!1;p=function(M,O){var Q=H[M];J.forEachInExtent(Q,function(G){return(0,d.containsExtent)(G.extent,Q)})||(P.dispatchEvent(new E(h["default"].FEATURESLOADSTART)),P.loader_.call(P,Q,y,F,function(G){this.dispatchEvent(new E(h["default"].FEATURESLOADEND,void 0,G))}.bind(P),function(){this.dispatchEvent(new E(h["default"].FEATURESLOADERROR))}.bind(P)),J.insert(Q,
{extent:Q.slice()}),P.loading=P.loader_!==c.VOID)};for(var P=this,K=0,N=H.length;K<N;++K)p(K,N)};A.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();z.prototype.refresh.call(this)};A.prototype.removeLoadedExtent=function(p){var y=this.loadedExtentsRtree_,F;y.forEachInExtent(p,function(J){if((0,d.equals)(J.extent,p))return F=J,!0});F&&y.remove(F)};A.prototype.removeFeature=function(p){var y=(0,f.getUid)(p);y in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[y]:
this.featuresRtree_&&this.featuresRtree_.remove(p);this.removeFeatureInternal(p);this.changed()};A.prototype.removeFeatureInternal=function(p){var y=(0,f.getUid)(p);this.featureChangeKeys_[y].forEach(t.unlistenByKey);delete this.featureChangeKeys_[y];var F=p.getId();void 0!==F&&delete this.idIndex_[F.toString()];delete this.uidIndex_[y];this.dispatchEvent(new E(h["default"].REMOVEFEATURE,p))};A.prototype.removeFromIdIndex_=function(p){var y=!1,F;for(F in this.idIndex_)if(this.idIndex_[F]===p){delete this.idIndex_[F];
y=!0;break}return y};A.prototype.setLoader=function(p){this.loader_=p};A.prototype.setUrl=function(p){(0,b.assert)(this.format_,7);this.setLoader((0,q.xhr)(p,this.format_))};return A}(Y["default"]);r["default"]=m};
shadow$provide[246]=function(S,m,Y,r){function D(O){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"===typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};return D(O)}function C(){if("function"!==typeof WeakMap)return null;var O=new WeakMap;C=function(){return O};return O}function v(O){return O&&O.__esModule?O:{"default":O}}function w(){var O=(0,F.createEditingStyle)();return function(Q,G){return O[Q.getGeometry().getType()]}}
function u(O){if(O===c["default"].POINT||O===c["default"].MULTI_POINT)var Q=N.POINT;else O===c["default"].LINE_STRING||O===c["default"].MULTI_LINE_STRING?Q=N.LINE_STRING:O===c["default"].POLYGON||O===c["default"].MULTI_POLYGON?Q=N.POLYGON:O===c["default"].CIRCLE&&(Q=N.CIRCLE);return Q}Object.defineProperty(r,"__esModule",{value:!0});r.createRegularPolygon=function(O,Q){return function(G,L,T){var V=(0,J.fromUserCoordinate)(G[0],T);G=(0,J.fromUserCoordinate)(G[G.length-1],T);var X=Math.sqrt((0,P.squaredDistance)(V,
G));L=L?L:(0,B.fromCircle)(new n["default"](V),O);var aa=Q;Q||0===Q||(aa=Math.atan2(G[1]-V[1],G[0]-V[0]));(0,B.makeRegular)(L,V,X,aa);(V=(0,J.getUserProjection)())&&L.transform(T,V);return L}};r.createBox=function(){return function(O,Q,G){O=(0,y.boundingExtent)([O[0],O[O.length-1]].map(function(L){return(0,J.fromUserCoordinate)(L,G)}));O=[[(0,y.getBottomLeft)(O),(0,y.getBottomRight)(O),(0,y.getTopRight)(O),(0,y.getTopLeft)(O),(0,y.getBottomLeft)(O)]];Q?Q.setCoordinates(O):Q=new B["default"](O);(O=
(0,J.getUserProjection)())&&Q.transform(G,O);return Q}};r["default"]=r.DrawEvent=void 0;var n=v(m(192));S=v(m(87));var k=v(m(91)),h=v(m(193)),c=v(m(122)),e=v(m(172)),b=v(m(196)),d=v(m(113)),a=v(m(114)),f=v(m(197)),l=v(m(198)),t=v(m(200)),q=v(m(148));Y=v(m(175));var B=function(O){if(O&&O.__esModule)return O;if(null===O||"object"!==D(O)&&"function"!==typeof O)return{"default":O};var Q=C();if(Q&&Q.has(O))return Q.get(O);var G={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor,T;for(T in O)if(Object.prototype.hasOwnProperty.call(O,
T)){var V=L?Object.getOwnPropertyDescriptor(O,T):null;V&&(V.get||V.set)?Object.defineProperty(G,T,V):G[T]=O[T]}G["default"]=O;Q&&Q.set(O,G);return G}(m(155)),E=v(m(239)),z=v(m(245)),A=m(76),p=m(176),y=m(83),F=m(209),J=m(133),H=m(94),P=m(101),K=function(){var O=function(Q,G){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,T){L.__proto__=T}||function(L,T){for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&(L[V]=T[V])};return O(Q,G)};return function(Q,G){function L(){this.constructor=
Q}O(Q,G);Q.prototype=null===G?Object.create(G):(L.prototype=G.prototype,new L)}}(),N={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},M=function(O){function Q(G,L){G=O.call(this,G)||this;G.feature=L;return G}K(Q,O);return Q}(S["default"]);r.DrawEvent=M;m=function(O){function Q(G){var L=this;G.stopDown||(G.stopDown=A.FALSE);L=O.call(this,G)||this;L.shouldHandle_=!1;L.downPx_=null;L.freehand_=!1;L.source_=G.source?G.source:null;L.features_=G.features?G.features:null;L.snapTolerance_=
G.snapTolerance?G.snapTolerance:12;L.type_=G.type;L.mode_=u(L.type_);L.stopClick_=!!G.stopClick;L.minPoints_=G.minPoints?G.minPoints:L.mode_===N.POLYGON?3:2;L.maxPoints_=L.mode_===N.CIRCLE?2:G.maxPoints?G.maxPoints:Infinity;L.finishCondition_=G.finishCondition?G.finishCondition:A.TRUE;var T=G.geometryFunction;if(!T){var V=L.mode_;if(V===N.CIRCLE)T=function(aa,ba,fa){ba=ba?ba:new n["default"]([NaN,NaN]);var ka=(0,J.fromUserCoordinate)(aa[0],fa);aa=(0,P.squaredDistance)(ka,(0,J.fromUserCoordinate)(aa[aa.length-
1],fa));ba.setCenterAndRadius(ka,Math.sqrt(aa));(aa=(0,J.getUserProjection)())&&ba.transform(fa,aa);return ba};else{var X;V===N.POINT?X=q["default"]:V===N.LINE_STRING?X=b["default"]:V===N.POLYGON&&(X=B["default"]);T=function(aa,ba,fa){ba?V===N.POLYGON?aa[0].length?ba.setCoordinates([aa[0].concat([aa[0][0]])]):ba.setCoordinates([]):ba.setCoordinates(aa):ba=new X(aa);return ba}}}L.geometryFunction_=T;L.dragVertexDelay_=void 0!==G.dragVertexDelay?G.dragVertexDelay:500;L.finishCoordinate_=null;L.sketchFeature_=
null;L.sketchPoint_=null;L.sketchCoords_=null;L.sketchLine_=null;L.sketchLineCoords_=null;L.squaredClickTolerance_=G.clickTolerance?G.clickTolerance*G.clickTolerance:36;L.overlay_=new E["default"]({source:new z["default"]({useSpatialIndex:!1,wrapX:G.wrapX?G.wrapX:!1}),style:G.style?G.style:w(),updateWhileInteracting:!0});L.geometryName_=G.geometryName;L.condition_=G.condition?G.condition:p.noModifierKeys;L.freehandCondition_=G.freehand?p.always:G.freehandCondition?G.freehandCondition:p.shiftKeyOnly;
L.addEventListener((0,H.getChangeEventType)(e["default"].ACTIVE),L.updateState_);return L}K(Q,O);Q.prototype.setMap=function(G){O.prototype.setMap.call(this,G);this.updateState_()};Q.prototype.getOverlay=function(){return this.overlay_};Q.prototype.handleEvent=function(G){G.originalEvent.type===k["default"].CONTEXTMENU&&G.originalEvent.preventDefault();this.freehand_=this.mode_!==N.POINT&&this.freehandCondition_(G);var L=G.type===a["default"].POINTERMOVE,T=!0;!this.freehand_&&this.lastDragTime_&&
G.type===a["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=G.pixel,this.shouldHandle_=!this.freehand_,L=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&G.type===a["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(G.coordinate),T=!1):this.freehand_&&G.type===a["default"].POINTERDOWN?T=!1:L&&2>this.getPointerCount()?(T=G.type===a["default"].POINTERMOVE)&&
this.freehand_?(this.handlePointerMove_(G),this.shouldHandle_&&G.originalEvent.preventDefault()):("mouse"===G.originalEvent.pointerType||G.type===a["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(G):G.type===a["default"].DBLCLICK&&(T=!1);return O.prototype.handleEvent.call(this,G)&&T};Q.prototype.handleDownEvent=function(G){this.shouldHandle_=!this.freehand_;if(this.freehand_)return this.downPx_=G.pixel,this.finishCoordinate_||this.startDrawing_(G.coordinate),!0;if(this.condition_(G))return this.lastDragTime_=
Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new d["default"](a["default"].POINTERMOVE,G.map,G.originalEvent,!1,G.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=G.pixel,!0;this.lastDragTime_=void 0;return!1};Q.prototype.handleUpEvent=function(G){var L=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(G),this.shouldHandle_){switch(!0){case !this.finishCoordinate_:if(this.startDrawing_(G.coordinate),
this.mode_!==N.POINT)break;case this.freehand_||this.atFinish_(G.pixel)&&this.finishCondition_(G):this.finishDrawing();break;case !this.freehand_:this.addToDrawing_(G.coordinate)}L=!1}else this.freehand_&&this.abortDrawing();!L&&this.stopClick_&&G.originalEvent.stopPropagation();return L};Q.prototype.handlePointerMove_=function(G){this.pointerType_=G.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var L=this.downPx_,T=G.pixel,
V=L[0]-T[0];L=L[1]-T[1];V=V*V+L*L;this.shouldHandle_=this.freehand_?V>this.squaredClickTolerance_:V<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(G.coordinate):this.createOrUpdateSketchPoint_(G)};Q.prototype.atFinish_=function(G){var L=!1;if(this.sketchFeature_){var T=!1,V=[this.finishCoordinate_],X=this.mode_;X===N.POINT?L=!0:X===N.CIRCLE?L=2===this.sketchCoords_.length:X===N.LINE_STRING?T=this.sketchCoords_.length>this.minPoints_:X===N.POLYGON&&
(V=this.sketchCoords_,T=V[0].length>this.minPoints_,V=[V[0][0],V[0][V[0].length-2]]);if(T){T=this.getMap();X=0;for(var aa=V.length;X<aa;X++){var ba=V[X],fa=T.getPixelFromCoordinate(ba);L=G[0]-fa[0];fa=G[1]-fa[1];if(L=Math.sqrt(L*L+fa*fa)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=ba;break}}}}return L};Q.prototype.createOrUpdateSketchPoint_=function(G){G=G.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(G):(this.sketchPoint_=new h["default"](new q["default"](G)),
this.updateSketchFeatures_())};Q.prototype.createOrUpdateCustomSketchLine_=function(G){this.sketchLine_||(this.sketchLine_=new h["default"]);G=G.getLinearRing(0);var L=this.sketchLine_.getGeometry();L?(L.setFlatCoordinates(G.getLayout(),G.getFlatCoordinates()),L.changed()):(L=new b["default"](G.getFlatCoordinates(),G.getLayout()),this.sketchLine_.setGeometry(L))};Q.prototype.startDrawing_=function(G){var L=this.getMap().getView().getProjection();this.finishCoordinate_=G;this.mode_===N.POINT?this.sketchCoords_=
G.slice():this.mode_===N.POLYGON?(this.sketchCoords_=[[G.slice(),G.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[G.slice(),G.slice()];this.sketchLineCoords_&&(this.sketchLine_=new h["default"](new b["default"](this.sketchLineCoords_)));G=this.geometryFunction_(this.sketchCoords_,void 0,L);this.sketchFeature_=new h["default"];this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(G);this.updateSketchFeatures_();this.dispatchEvent(new M("drawstart",
this.sketchFeature_))};Q.prototype.modifyDrawing_=function(G){var L=this.getMap(),T=this.sketchFeature_.getGeometry(),V=L.getView().getProjection();if(this.mode_===N.POINT)var X=this.sketchCoords_;else this.mode_===N.POLYGON?(X=this.sketchCoords_[0],X=X[X.length-1],this.atFinish_(L.getPixelFromCoordinate(G))&&(G=this.finishCoordinate_.slice())):(X=this.sketchCoords_,X=X[X.length-1]);X[0]=G[0];X[1]=G[1];this.geometryFunction_(this.sketchCoords_,T,V);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(G);
T.getType()===c["default"].POLYGON&&this.mode_!==N.POLYGON?this.createOrUpdateCustomSketchLine_(T):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};Q.prototype.addToDrawing_=function(G){var L=this.sketchFeature_.getGeometry(),T=this.getMap().getView().getProjection(),V;var X=this.mode_;X===N.LINE_STRING||X===N.CIRCLE?(this.finishCoordinate_=G.slice(),X=this.sketchCoords_,X.length>=this.maxPoints_&&(this.freehand_?X.pop():V=
!0),X.push(G.slice()),this.geometryFunction_(X,L,T)):X===N.POLYGON&&(X=this.sketchCoords_[0],X.length>=this.maxPoints_&&(this.freehand_?X.pop():V=!0),X.push(G.slice()),V&&(this.finishCoordinate_=X[0]),this.geometryFunction_(this.sketchCoords_,L,T));this.updateSketchFeatures_();V&&this.finishDrawing()};Q.prototype.removeLastPoint=function(){if(this.sketchFeature_){var G=this.sketchFeature_.getGeometry(),L=this.getMap().getView().getProjection(),T=this.mode_;if(T===N.LINE_STRING||T===N.CIRCLE){var V=
this.sketchCoords_;V.splice(-2,1);2<=V.length&&(this.finishCoordinate_=V[V.length-2].slice(),T=this.finishCoordinate_.slice(),V[V.length-1]=T,this.sketchPoint_.setGeometry(new q["default"](T)));this.geometryFunction_(V,G,L);G.getType()===c["default"].POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(G)}else if(T===N.POLYGON){V=this.sketchCoords_[0];V.splice(-2,1);var X=this.sketchLine_.getGeometry();2<=V.length&&(T=V[V.length-2].slice(),V[V.length-1]=T,this.sketchPoint_.setGeometry(new q["default"](T)));
X.setCoordinates(V);this.geometryFunction_(this.sketchCoords_,G,L)}1===V.length&&this.abortDrawing();this.updateSketchFeatures_()}};Q.prototype.finishDrawing=function(){var G=this.abortDrawing_();if(G){var L=this.sketchCoords_,T=G.getGeometry(),V=this.getMap().getView().getProjection();this.mode_===N.LINE_STRING?(L.pop(),this.geometryFunction_(L,T,V)):this.mode_===N.POLYGON&&(L[0].pop(),this.geometryFunction_(L,T,V),L=T.getCoordinates());this.type_===c["default"].MULTI_POINT?G.setGeometry(new l["default"]([L])):
this.type_===c["default"].MULTI_LINE_STRING?G.setGeometry(new f["default"]([L])):this.type_===c["default"].MULTI_POLYGON&&G.setGeometry(new t["default"]([L]));this.dispatchEvent(new M("drawend",G));this.features_&&this.features_.push(G);this.source_&&this.source_.addFeature(G)}};Q.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var G=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return G};Q.prototype.abortDrawing=
function(){var G=this.abortDrawing_();G&&this.dispatchEvent(new M("drawabort",G))};Q.prototype.appendCoordinates=function(G){var L=this.mode_,T=!this.sketchFeature_;T&&this.startDrawing_(G[0]);if(L===N.LINE_STRING||L===N.CIRCLE)L=this.sketchCoords_;else if(L===N.POLYGON)L=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;T&&L.shift();L.pop();for(T=0;T<G.length;T++)this.addToDrawing_(G[T]);G=G[G.length-1];this.addToDrawing_(G);this.modifyDrawing_(G)};Q.prototype.extend=
function(G){var L=G.getGeometry();this.sketchFeature_=G;this.sketchCoords_=L.getCoordinates();G=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=G.slice();this.sketchCoords_.push(G.slice());this.sketchPoint_=new h["default"](new q["default"](G));this.updateSketchFeatures_();this.dispatchEvent(new M("drawstart",this.sketchFeature_))};Q.prototype.updateSketchFeatures_=function(){var G=[];this.sketchFeature_&&G.push(this.sketchFeature_);this.sketchLine_&&G.push(this.sketchLine_);
this.sketchPoint_&&G.push(this.sketchPoint_);var L=this.overlay_.getSource();L.clear(!0);L.addFeatures(G)};Q.prototype.updateState_=function(){var G=this.getMap(),L=this.getActive();G&&L||this.abortDrawing();this.overlay_.setMap(L?G:null)};return Q}(Y["default"]);r["default"]=m};
shadow$provide[247]=function(S,m,Y,r){function D(z){return z&&z.__esModule?z:{"default":z}}function C(){var z=(0,l.createEditingStyle)();return function(A,p){return z[k["default"].POLYGON]}}function v(){var z=(0,l.createEditingStyle)();return function(A,p){return z[k["default"].POINT]}}function w(z){return function(A){return(0,a.boundingExtent)([z,A])}}function u(z,A){return z[0]==A[0]?function(p){return(0,a.boundingExtent)([z,[p[0],A[1]]])}:z[1]==A[1]?function(p){return(0,a.boundingExtent)([z,[A[0],
p[1]]])}:null}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.ExtentEvent=void 0;S=D(m(87));var n=D(m(193)),k=D(m(122)),h=D(m(114)),c=D(m(148));Y=D(m(175));var e=D(m(239)),b=D(m(245)),d=m(176),a=m(83),f=m(101),l=m(209),t=m(155),q=m(133),B=function(){var z=function(A,p){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,F){y.__proto__=F}||function(y,F){for(var J in F)Object.prototype.hasOwnProperty.call(F,J)&&(y[J]=F[J])};return z(A,p)};return function(A,p){function y(){this.constructor=
A}z(A,p);A.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}(),E=function(z){function A(p){var y=z.call(this,"extentchanged")||this;y.extent=p;return y}B(A,z);return A}(S["default"]);r.ExtentEvent=E;m=function(z){function A(p){var y=p||{};var F=z.call(this,y)||this;F.condition_=y.condition?y.condition:d.always;F.extent_=null;F.pointerHandler_=null;F.pixelTolerance_=void 0!==y.pixelTolerance?y.pixelTolerance:10;F.snappedToVertex_=!1;F.extentFeature_=null;F.vertexFeature_=null;p||
(p={});F.extentOverlay_=new e["default"]({source:new b["default"]({useSpatialIndex:!1,wrapX:!!p.wrapX}),style:p.boxStyle?p.boxStyle:C(),updateWhileAnimating:!0,updateWhileInteracting:!0});F.vertexOverlay_=new e["default"]({source:new b["default"]({useSpatialIndex:!1,wrapX:!!p.wrapX}),style:p.pointerStyle?p.pointerStyle:v(),updateWhileAnimating:!0,updateWhileInteracting:!0});p.extent&&F.setExtent(p.extent);return F}B(A,z);A.prototype.snapToVertex_=function(p,y){var F=y.getCoordinateFromPixelInternal(p),
J=function(K,N){return(0,f.squaredDistanceToSegment)(F,K)-(0,f.squaredDistanceToSegment)(F,N)},H=this.getExtentInternal();if(H){H=[[[H[0],H[1]],[H[0],H[3]]],[[H[0],H[3]],[H[2],H[3]]],[[H[2],H[3]],[H[2],H[1]]],[[H[2],H[1]],[H[0],H[1]]]];H.sort(J);J=H[0];H=(0,f.closestOnSegment)(F,J);var P=y.getPixelFromCoordinateInternal(H);if((0,f.distance)(p,P)<=this.pixelTolerance_)return p=y.getPixelFromCoordinateInternal(J[0]),y=y.getPixelFromCoordinateInternal(J[1]),p=(0,f.squaredDistance)(P,p),y=(0,f.squaredDistance)(P,
y),(this.snappedToVertex_=Math.sqrt(Math.min(p,y))<=this.pixelTolerance_)&&(H=p>y?J[1]:J[0]),H}return null};A.prototype.handlePointerMove_=function(p){var y=p.pixel;p=p.map;var F=this.snapToVertex_(y,p);F||(F=p.getCoordinateFromPixelInternal(y));this.createOrUpdatePointerFeature_(F)};A.prototype.createOrUpdateExtentFeature_=function(p){var y=this.extentFeature_;y?p?y.setGeometry((0,t.fromExtent)(p)):y.setGeometry(void 0):(this.extentFeature_=y=p?new n["default"]((0,t.fromExtent)(p)):new n["default"]({}),
this.extentOverlay_.getSource().addFeature(y));return y};A.prototype.createOrUpdatePointerFeature_=function(p){var y=this.vertexFeature_;y?y.getGeometry().setCoordinates(p):(this.vertexFeature_=y=new n["default"](new c["default"](p)),this.vertexOverlay_.getSource().addFeature(y));return y};A.prototype.handleEvent=function(p){if(!p.originalEvent||!this.condition_(p))return!0;p.type!=h["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(p);z.prototype.handleEvent.call(this,
p);return!1};A.prototype.handleDownEvent=function(p){var y=p.pixel,F=p.map,J=this.getExtentInternal();p=this.snapToVertex_(y,F);var H=function(P){var K=null,N=null;P[0]==J[0]?K=J[2]:P[0]==J[2]&&(K=J[0]);P[1]==J[1]?N=J[3]:P[1]==J[3]&&(N=J[1]);return null!==K&&null!==N?[K,N]:null};p&&J?(y=p[0]==J[0]||p[0]==J[2]?p[0]:null,F=p[1]==J[1]||p[1]==J[3]?p[1]:null,null!==y&&null!==F?this.pointerHandler_=w(H(p)):null!==y?this.pointerHandler_=u(H([y,J[1]]),H([y,J[3]])):null!==F&&(this.pointerHandler_=u(H([J[0],
F]),H([J[2],F])))):(p=F.getCoordinateFromPixelInternal(y),this.setExtent([p[0],p[1],p[0],p[1]]),this.pointerHandler_=w(p));return!0};A.prototype.handleDragEvent=function(p){this.pointerHandler_&&(p=p.coordinate,this.setExtent(this.pointerHandler_(p)),this.createOrUpdatePointerFeature_(p))};A.prototype.handleUpEvent=function(p){this.pointerHandler_=null;(p=this.getExtentInternal())&&0!==(0,a.getArea)(p)||this.setExtent(null);return!1};A.prototype.setMap=function(p){this.extentOverlay_.setMap(p);this.vertexOverlay_.setMap(p);
z.prototype.setMap.call(this,p)};A.prototype.getExtent=function(){return(0,q.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};A.prototype.getExtentInternal=function(){return this.extent_};A.prototype.setExtent=function(p){this.extent_=p?p:null;this.createOrUpdateExtentFeature_(p);this.dispatchEvent(new E(this.extent_))};return A}(Y["default"]);r["default"]=m};
shadow$provide[248]=function(S,m,Y,r){function D(M){return M&&M.__esModule?M:{"default":M}}function C(M){C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"===typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};return C(M)}function v(M,O){return M.index-O.index}function w(M,O,Q){var G=O.geometry;if(G.getType()===b["default"].CIRCLE&&1===O.index)return(O=(0,F.getUserProjection)())&&(G=G.clone().transform(O,
Q)),Q=(0,z.squaredDistance)(G.getCenter(),(0,F.fromUserCoordinate)(M,Q)),Q=Math.sqrt(Q)-G.getRadius(),Q*Q;M=(0,F.fromUserCoordinate)(M,Q);K[0]=(0,F.fromUserCoordinate)(O.segment[0],Q);K[1]=(0,F.fromUserCoordinate)(O.segment[1],Q);return(0,z.squaredDistanceToSegment)(M,K)}function u(M,O,Q){var G=O.geometry;if(G.getType()===b["default"].CIRCLE&&1===O.index)return O=G,(G=(0,F.getUserProjection)())&&(O=O.clone().transform(G,Q)),(0,F.toUserCoordinate)(O.getClosestPoint((0,F.fromUserCoordinate)(M,Q)),Q);
M=(0,F.fromUserCoordinate)(M,Q);K[0]=(0,F.fromUserCoordinate)(O.segment[0],Q);K[1]=(0,F.fromUserCoordinate)(O.segment[1],Q);return(0,F.toUserCoordinate)((0,z.closestOnSegment)(M,K),Q)}function n(){var M=(0,A.createEditingStyle)();return function(O,Q){return M[b["default"].POINT]}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.ModifyEvent=void 0;var k=D(m(110)),h=D(m(109));S=D(m(87));var c=D(m(91)),e=D(m(193)),b=D(m(122)),d=D(m(114)),a=D(m(148));Y=D(m(175));var f=D(m(240)),l=D(m(242)),
t=D(m(239)),q=D(m(245)),B=m(176),E=m(83),z=m(101),A=m(209),p=m(75),y=m(155),F=m(133),J=m(77),H=function(){var M=function(O,Q){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,L){G.__proto__=L}||function(G,L){for(var T in L)Object.prototype.hasOwnProperty.call(L,T)&&(G[T]=L[T])};return M(O,Q)};return function(O,Q){function G(){this.constructor=O}M(O,Q);O.prototype=null===Q?Object.create(Q):(G.prototype=Q.prototype,new G)}}(),P=[0,0,0,0],K=[],N=function(M){function O(Q,G,L){Q=M.call(this,
Q)||this;Q.features=G;Q.mapBrowserEvent=L;return Q}H(O,M);return O}(S["default"]);r.ModifyEvent=N;m=function(M){function O(Q){var G=M.call(this,Q)||this;G.boundHandleFeatureChange_=G.handleFeatureChange_.bind(G);G.condition_=Q.condition?Q.condition:B.primaryAction;G.defaultDeleteCondition_=function(T){return(0,B.altKeyOnly)(T)&&(0,B.singleClick)(T)};G.deleteCondition_=Q.deleteCondition?Q.deleteCondition:G.defaultDeleteCondition_;G.insertVertexCondition_=Q.insertVertexCondition?Q.insertVertexCondition:
B.always;G.vertexFeature_=null;G.vertexSegments_=null;G.lastPixel_=[0,0];G.ignoreNextSingleClick_=!1;G.featuresBeingModified_=null;G.rBush_=new f["default"];G.pixelTolerance_=void 0!==Q.pixelTolerance?Q.pixelTolerance:10;G.snappedToVertex_=!1;G.changingFeature_=!1;G.dragSegments_=[];G.overlay_=new t["default"]({source:new q["default"]({useSpatialIndex:!1,wrapX:!!Q.wrapX}),style:Q.style?Q.style:n(),updateWhileAnimating:!0,updateWhileInteracting:!0});G.SEGMENT_WRITERS_={Point:G.writePointGeometry_.bind(G),
LineString:G.writeLineStringGeometry_.bind(G),LinearRing:G.writeLineStringGeometry_.bind(G),Polygon:G.writePolygonGeometry_.bind(G),MultiPoint:G.writeMultiPointGeometry_.bind(G),MultiLineString:G.writeMultiLineStringGeometry_.bind(G),MultiPolygon:G.writeMultiPolygonGeometry_.bind(G),Circle:G.writeCircleGeometry_.bind(G),GeometryCollection:G.writeGeometryCollectionGeometry_.bind(G)};G.source_=null;G.hitDetection_=null;if(Q.features)var L=Q.features;else Q.source&&(G.source_=Q.source,L=new k["default"](G.source_.getFeatures()),
G.source_.addEventListener(l["default"].ADDFEATURE,G.handleSourceAdd_.bind(G)),G.source_.addEventListener(l["default"].REMOVEFEATURE,G.handleSourceRemove_.bind(G)));if(!L)throw Error("The modify interaction requires features, a source or a layer");Q.hitDetection&&(G.hitDetection_=Q.hitDetection);G.features_=L;G.features_.forEach(G.addFeature_.bind(G));G.features_.addEventListener(h["default"].ADD,G.handleFeatureAdd_.bind(G));G.features_.addEventListener(h["default"].REMOVE,G.handleFeatureRemove_.bind(G));
G.lastPointerEvent_=null;G.delta_=[0,0];return G}H(O,M);O.prototype.addFeature_=function(Q){var G=Q.getGeometry();if(G){var L=this.SEGMENT_WRITERS_[G.getType()];L&&L(Q,G)}(G=this.getMap())&&G.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,G);Q.addEventListener(c["default"].CHANGE,this.boundHandleFeatureChange_)};O.prototype.willModifyFeatures_=function(Q,G){if(!this.featuresBeingModified_){this.featuresBeingModified_=new k["default"];for(var L=this.featuresBeingModified_.getArray(),
T=0,V=G.length;T<V;++T){var X=G[T][0].feature;-1===L.indexOf(X)&&this.featuresBeingModified_.push(X)}this.dispatchEvent(new N("modifystart",this.featuresBeingModified_,Q))}};O.prototype.removeFeature_=function(Q){this.removeFeatureSegmentData_(Q);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);Q.removeEventListener(c["default"].CHANGE,this.boundHandleFeatureChange_)};O.prototype.removeFeatureSegmentData_=
function(Q){var G=this.rBush_,L=[];G.forEach(function(aa){Q===aa.feature&&L.push(aa)});for(var T=L.length-1;0<=T;--T){for(var V=L[T],X=this.dragSegments_.length-1;0<=X;--X)this.dragSegments_[X][0]===V&&this.dragSegments_.splice(X,1);G.remove(V)}};O.prototype.setActive=function(Q){this.vertexFeature_&&!Q&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);M.prototype.setActive.call(this,Q)};O.prototype.setMap=function(Q){this.overlay_.setMap(Q);M.prototype.setMap.call(this,
Q)};O.prototype.getOverlay=function(){return this.overlay_};O.prototype.handleSourceAdd_=function(Q){Q.feature&&this.features_.push(Q.feature)};O.prototype.handleSourceRemove_=function(Q){Q.feature&&this.features_.remove(Q.feature)};O.prototype.handleFeatureAdd_=function(Q){this.addFeature_(Q.element)};O.prototype.handleFeatureChange_=function(Q){this.changingFeature_||(Q=Q.target,this.removeFeature_(Q),this.addFeature_(Q))};O.prototype.handleFeatureRemove_=function(Q){this.removeFeature_(Q.element)};
O.prototype.writePointGeometry_=function(Q,G){var L=G.getCoordinates();Q={feature:Q,geometry:G,segment:[L,L]};this.rBush_.insert(G.getExtent(),Q)};O.prototype.writeMultiPointGeometry_=function(Q,G){for(var L=G.getCoordinates(),T=0,V=L.length;T<V;++T){var X=L[T];X={feature:Q,geometry:G,depth:[T],index:T,segment:[X,X]};this.rBush_.insert(G.getExtent(),X)}};O.prototype.writeLineStringGeometry_=function(Q,G){for(var L=G.getCoordinates(),T=0,V=L.length-1;T<V;++T){var X=L.slice(T,T+2),aa={feature:Q,geometry:G,
index:T,segment:X};this.rBush_.insert((0,E.boundingExtent)(X),aa)}};O.prototype.writeMultiLineStringGeometry_=function(Q,G){for(var L=G.getCoordinates(),T=0,V=L.length;T<V;++T)for(var X=L[T],aa=0,ba=X.length-1;aa<ba;++aa){var fa=X.slice(aa,aa+2),ka={feature:Q,geometry:G,depth:[T],index:aa,segment:fa};this.rBush_.insert((0,E.boundingExtent)(fa),ka)}};O.prototype.writePolygonGeometry_=function(Q,G){for(var L=G.getCoordinates(),T=0,V=L.length;T<V;++T)for(var X=L[T],aa=0,ba=X.length-1;aa<ba;++aa){var fa=
X.slice(aa,aa+2),ka={feature:Q,geometry:G,depth:[T],index:aa,segment:fa};this.rBush_.insert((0,E.boundingExtent)(fa),ka)}};O.prototype.writeMultiPolygonGeometry_=function(Q,G){for(var L=G.getCoordinates(),T=0,V=L.length;T<V;++T)for(var X=L[T],aa=0,ba=X.length;aa<ba;++aa)for(var fa=X[aa],ka=0,ha=fa.length-1;ka<ha;++ka){var ma=fa.slice(ka,ka+2),Aa={feature:Q,geometry:G,depth:[aa,T],index:ka,segment:ma};this.rBush_.insert((0,E.boundingExtent)(ma),Aa)}};O.prototype.writeCircleGeometry_=function(Q,G){var L=
G.getCenter(),T={feature:Q,geometry:G,index:0,segment:[L,L]};Q={feature:Q,geometry:G,index:1,segment:[L,L]};var V=[T,Q];T.featureSegments=V;Q.featureSegments=V;this.rBush_.insert((0,E.createOrUpdateFromCoordinate)(L),T);(L=(0,F.getUserProjection)())&&this.getMap()&&(T=this.getMap().getView().getProjection(),G=G.clone().transform(L,T),G=(0,y.fromCircle)(G).transform(T,L));this.rBush_.insert(G.getExtent(),Q)};O.prototype.writeGeometryCollectionGeometry_=function(Q,G){G=G.getGeometriesArray();for(var L=
0;L<G.length;++L){var T=G[L];(0,this.SEGMENT_WRITERS_[T.getType()])(Q,T)}};O.prototype.createOrUpdateVertexFeature_=function(Q,G,L){var T=this.vertexFeature_;T?T.getGeometry().setCoordinates(Q):(this.vertexFeature_=T=new e["default"](new a["default"](Q)),this.overlay_.getSource().addFeature(T));T.set("features",G);T.set("geometries",L);return T};O.prototype.handleEvent=function(Q){if(!Q.originalEvent)return!0;this.lastPointerEvent_=Q;var G;Q.map.getView().getInteracting()||Q.type!=d["default"].POINTERMOVE||
this.handlingDownUpSequence||this.handlePointerMove_(Q);this.vertexFeature_&&this.deleteCondition_(Q)&&(G=Q.type==d["default"].SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());Q.type==d["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return M.prototype.handleEvent.call(this,Q)&&!G};O.prototype.handleDragEvent=function(Q){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(Q,this.dragSegments_);for(var G=[Q.coordinate[0]+this.delta_[0],Q.coordinate[1]+this.delta_[1]],L=
[],T=[],V=0,X=this.dragSegments_.length;V<X;++V){var aa=this.dragSegments_[V],ba=aa[0],fa=ba.feature;-1===L.indexOf(fa)&&L.push(fa);fa=ba.geometry;-1===T.indexOf(fa)&&T.push(fa);var ka=ba.depth,ha=void 0,ma=ba.segment;for(aa=aa[1];G.length<fa.getStride();)G.push(ma[aa][G.length]);switch(fa.getType()){case b["default"].POINT:ha=G;ma[0]=G;ma[1]=G;break;case b["default"].MULTI_POINT:ha=fa.getCoordinates();ha[ba.index]=G;ma[0]=G;ma[1]=G;break;case b["default"].LINE_STRING:ha=fa.getCoordinates();ha[ba.index+
aa]=G;ma[aa]=G;break;case b["default"].MULTI_LINE_STRING:ha=fa.getCoordinates();ha[ka[0]][ba.index+aa]=G;ma[aa]=G;break;case b["default"].POLYGON:ha=fa.getCoordinates();ha[ka[0]][ba.index+aa]=G;ma[aa]=G;break;case b["default"].MULTI_POLYGON:ha=fa.getCoordinates();ha[ka[1]][ka[0]][ba.index+aa]=G;ma[aa]=G;break;case b["default"].CIRCLE:ma[0]=G;ma[1]=G;if(0===ba.index)this.changingFeature_=!0,fa.setCenter(G);else{this.changingFeature_=!0;ba=Q.map.getView().getProjection();aa=(0,z.distance)((0,F.fromUserCoordinate)(fa.getCenter(),
ba),(0,F.fromUserCoordinate)(G,ba));if(ka=(0,F.getUserProjection)())ma=fa.clone().transform(ka,ba),ma.setRadius(aa),aa=ma.transform(ba,ka).getRadius();fa.setRadius(aa)}this.changingFeature_=!1}ha&&this.setGeometryCoordinates_(fa,ha)}this.createOrUpdateVertexFeature_(G,L,T)};O.prototype.handleDownEvent=function(Q){if(!this.condition_(Q))return!1;var G=Q.coordinate;this.handlePointerAtPixel_(Q.pixel,Q.map,G);this.dragSegments_.length=0;this.featuresBeingModified_=null;var L=this.vertexFeature_;if(L){var T=
Q.map.getView().getProjection(),V=[];L=L.getGeometry().getCoordinates();var X=(0,E.boundingExtent)([L]);X=this.rBush_.getInExtent(X);var aa={};X.sort(v);for(var ba=0,fa=X.length;ba<fa;++ba){var ka=X[ba],ha=ka.segment,ma=(0,J.getUid)(ka.geometry),Aa=ka.depth;Aa&&(ma+="-"+Aa.join("-"));aa[ma]||(aa[ma]=Array(2));if(ka.geometry.getType()===b["default"].CIRCLE&&1===ka.index)ha=u(G,ka,T),(0,z.equals)(ha,L)&&!aa[ma][0]&&(this.dragSegments_.push([ka,0]),aa[ma][0]=ka);else if((0,z.equals)(ha[0],L)&&!aa[ma][0])this.dragSegments_.push([ka,
0]),aa[ma][0]=ka;else if((0,z.equals)(ha[1],L)&&!aa[ma][1]){if(ka.geometry.getType()!==b["default"].LINE_STRING&&ka.geometry.getType()!==b["default"].MULTI_LINE_STRING||!aa[ma][0]||0!==aa[ma][0].index)this.dragSegments_.push([ka,1]),aa[ma][1]=ka}else(0,J.getUid)(ha)in this.vertexSegments_&&!aa[ma][0]&&!aa[ma][1]&&this.insertVertexCondition_(Q)&&V.push(ka)}V.length&&this.willModifyFeatures_(Q,[V]);for(Q=V.length-1;0<=Q;--Q)this.insertVertex_(V[Q],L)}return!!this.vertexFeature_};O.prototype.handleUpEvent=
function(Q){for(var G=this.dragSegments_.length-1;0<=G;--G){var L=this.dragSegments_[G][0],T=L.geometry;if(T.getType()===b["default"].CIRCLE){var V=T.getCenter(),X=L.featureSegments[0];L=L.featureSegments[1];X.segment[0]=V;X.segment[1]=V;L.segment[0]=V;L.segment[1]=V;this.rBush_.update((0,E.createOrUpdateFromCoordinate)(V),X);if(V=(0,F.getUserProjection)())X=Q.map.getView().getProjection(),T=T.clone().transform(V,X),T=(0,y.fromCircle)(T).transform(X,V);this.rBush_.update(T.getExtent(),L)}else this.rBush_.update((0,
E.boundingExtent)(L.segment),L)}this.featuresBeingModified_&&(this.dispatchEvent(new N("modifyend",this.featuresBeingModified_,Q)),this.featuresBeingModified_=null);return!1};O.prototype.handlePointerMove_=function(Q){this.lastPixel_=Q.pixel;this.handlePointerAtPixel_(Q.pixel,Q.map,Q.coordinate)};O.prototype.handlePointerAtPixel_=function(Q,G,L){var T=this,V=L||G.getCoordinateFromPixel(Q),X=G.getView().getProjection();L=function(ea,ja){return w(V,ea,X)-w(V,ja,X)};var aa;if(this.hitDetection_){var ba=
"object"===C(this.hitDetection_)?function(ea){return ea===T.hitDetection_}:void 0;G.forEachFeatureAtPixel(Q,function(ea,ja,oa){oa=oa||ea.getGeometry();oa.getType()===b["default"].POINT&&(aa=oa,ja=oa.getCoordinates(),ka=[{feature:ea,geometry:oa,segment:[ja,ja]}]);return!0},{layerFilter:ba})}if(!ka){ba=(0,F.fromUserExtent)((0,E.createOrUpdateFromCoordinate)(V,P),X);var fa=G.getView().getResolution()*this.pixelTolerance_;ba=(0,F.toUserExtent)((0,E.buffer)(ba,fa,P),X);var ka=this.rBush_.getInExtent(ba)}if(ka&&
0<ka.length){ba=ka.sort(L)[0];L=ba.segment;fa=u(V,ba,X);var ha=G.getPixelFromCoordinate(fa),ma=(0,z.distance)(Q,ha);if(aa||ma<=this.pixelTolerance_){Q={};Q[(0,J.getUid)(L)]=!0;this.delta_[0]=fa[0]-V[0];this.delta_[1]=fa[1]-V[1];if(ba.geometry.getType()===b["default"].CIRCLE&&1===ba.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(fa,[ba.feature],[ba.geometry]);else{ma=G.getPixelFromCoordinate(L[0]);var Aa=G.getPixelFromCoordinate(L[1]);G=(0,z.squaredDistance)(ha,ma);ha=(0,z.squaredDistance)(ha,
Aa);ma=Math.sqrt(Math.min(G,ha));(this.snappedToVertex_=ma<=this.pixelTolerance_)&&(fa=G>ha?L[1]:L[0]);this.createOrUpdateVertexFeature_(fa,[ba.feature],[ba.geometry]);G={};G[(0,J.getUid)(ba.geometry)]=!0;ba=1;for(fa=ka.length;ba<fa;++ba)if(ha=ka[ba].segment,(0,z.equals)(L[0],ha[0])&&(0,z.equals)(L[1],ha[1])||(0,z.equals)(L[0],ha[1])&&(0,z.equals)(L[1],ha[0]))ma=(0,J.getUid)(ka[ba].geometry),ma in G||(G[ma]=!0,Q[(0,J.getUid)(ha)]=!0);else break}this.vertexSegments_=Q;return}}this.vertexFeature_&&
(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};O.prototype.insertVertex_=function(Q,G){for(var L=Q.segment,T=Q.feature,V=Q.geometry,X=Q.depth,aa=Q.index,ba;G.length<V.getStride();)G.push(0);switch(V.getType()){case b["default"].MULTI_LINE_STRING:ba=V.getCoordinates();ba[X[0]].splice(aa+1,0,G);break;case b["default"].POLYGON:ba=V.getCoordinates();ba[X[0]].splice(aa+1,0,G);break;case b["default"].MULTI_POLYGON:ba=V.getCoordinates();ba[X[1]][X[0]].splice(aa+
1,0,G);break;case b["default"].LINE_STRING:ba=V.getCoordinates();ba.splice(aa+1,0,G);break;default:return}this.setGeometryCoordinates_(V,ba);ba=this.rBush_;ba.remove(Q);this.updateSegmentIndices_(V,aa,X,1);Q={segment:[L[0],G],feature:T,geometry:V,depth:X,index:aa};ba.insert((0,E.boundingExtent)(Q.segment),Q);this.dragSegments_.push([Q,1]);G={segment:[G,L[1]],feature:T,geometry:V,depth:X,index:aa+1};ba.insert((0,E.boundingExtent)(G.segment),G);this.dragSegments_.push([G,0]);this.ignoreNextSingleClick_=
!0};O.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=d["default"].POINTERDRAG){var Q=this.lastPointerEvent_;this.willModifyFeatures_(Q,this.dragSegments_);var G=this.removeVertex_();this.dispatchEvent(new N("modifyend",this.featuresBeingModified_,Q));this.featuresBeingModified_=null;return G}return!1};O.prototype.removeVertex_=function(){var Q=this.dragSegments_,G={},L=!1,T,V;for(V=Q.length-1;0<=V;--V){var X=Q[V];var aa=X[0];var ba=(0,J.getUid)(aa.feature);
aa.depth&&(ba+="-"+aa.depth.join("-"));ba in G||(G[ba]={});0===X[1]?(G[ba].right=aa,G[ba].index=aa.index):1==X[1]&&(G[ba].left=aa,G[ba].index=aa.index+1)}for(ba in G){var fa=G[ba].right;var ka=G[ba].left;V=G[ba].index;var ha=V-1;aa=void 0!==ka?ka:fa;0>ha&&(ha=0);X=aa.geometry;var ma=T=X.getCoordinates();L=!1;switch(X.getType()){case b["default"].MULTI_LINE_STRING:2<T[aa.depth[0]].length&&(T[aa.depth[0]].splice(V,1),L=!0);break;case b["default"].LINE_STRING:2<T.length&&(T.splice(V,1),L=!0);break;case b["default"].MULTI_POLYGON:ma=
ma[aa.depth[1]];case b["default"].POLYGON:ma=ma[aa.depth[0]],4<ma.length&&(V==ma.length-1&&(V=0),ma.splice(V,1),L=!0,0===V&&(ma.pop(),ma.push(ma[0]),ha=ma.length-1))}L&&(this.setGeometryCoordinates_(X,T),ma=[],void 0!==ka&&(this.rBush_.remove(ka),ma.push(ka.segment[0])),void 0!==fa&&(this.rBush_.remove(fa),ma.push(fa.segment[1])),void 0!==ka&&void 0!==fa&&(ka={depth:aa.depth,feature:aa.feature,geometry:aa.geometry,index:ha,segment:ma},this.rBush_.insert((0,E.boundingExtent)(ka.segment),ka)),this.updateSegmentIndices_(X,
V,aa.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Q.length=0)}return L};O.prototype.setGeometryCoordinates_=function(Q,G){this.changingFeature_=!0;Q.setCoordinates(G);this.changingFeature_=!1};O.prototype.updateSegmentIndices_=function(Q,G,L,T){this.rBush_.forEachInExtent(Q.getExtent(),function(V){V.geometry===Q&&(void 0===L||void 0===V.depth||(0,p.equals)(V.depth,L))&&V.index>G&&(V.index+=T)})};return O}(Y["default"]);r["default"]=
m};
shadow$provide[249]=function(S,m,Y,r){function D(l){return l&&l.__esModule?l:{"default":l}}function C(){var l=(0,h.createEditingStyle)();(0,c.extend)(l[u["default"].POLYGON],l[u["default"].LINE_STRING]);(0,c.extend)(l[u["default"].GEOMETRY_COLLECTION],l[u["default"].LINE_STRING]);return function(t){return t.getGeometry()?l[t.getGeometry().getType()]:null}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.SelectEvent=void 0;var v=D(m(110)),w=D(m(109));S=D(m(87));var u=D(m(122));Y=D(m(173));
var n=m(76),k=m(89),h=m(209),c=m(75),e=m(77),b=m(176),d=function(){var l=function(t,q){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,E){B.__proto__=E}||function(B,E){for(var z in E)Object.prototype.hasOwnProperty.call(E,z)&&(B[z]=E[z])};return l(t,q)};return function(t,q){function B(){this.constructor=t}l(t,q);t.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}(),a=function(l){function t(q,B,E,z){q=l.call(this,q)||this;q.selected=B;q.deselected=E;q.mapBrowserEvent=
z;return q}d(t,l);return t}(S["default"]);r.SelectEvent=a;var f={};m=function(l){function t(q){var B=l.call(this)||this;q=q?q:{};B.boundAddFeature_=B.addFeature_.bind(B);B.boundRemoveFeature_=B.removeFeature_.bind(B);B.condition_=q.condition?q.condition:b.singleClick;B.addCondition_=q.addCondition?q.addCondition:b.never;B.removeCondition_=q.removeCondition?q.removeCondition:b.never;B.toggleCondition_=q.toggleCondition?q.toggleCondition:b.shiftKeyOnly;B.multi_=q.multi?q.multi:!1;B.filter_=q.filter?
q.filter:n.TRUE;B.hitTolerance_=q.hitTolerance?q.hitTolerance:0;B.style_=void 0!==q.style?q.style:C();B.features_=q.features||new v["default"];if(q.layers)if("function"===typeof q.layers)q=q.layers;else{var E=q.layers;q=function(z){return(0,c.includes)(E,z)}}else q=n.TRUE;B.layerFilter_=q;B.featureLayerAssociation_={};return B}d(t,l);t.prototype.addFeatureLayerAssociation_=function(q,B){this.featureLayerAssociation_[(0,e.getUid)(q)]=B};t.prototype.getFeatures=function(){return this.features_};t.prototype.getHitTolerance=
function(){return this.hitTolerance_};t.prototype.getLayer=function(q){return this.featureLayerAssociation_[(0,e.getUid)(q)]};t.prototype.setHitTolerance=function(q){this.hitTolerance_=q};t.prototype.setMap=function(q){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));l.prototype.setMap.call(this,q);q?(this.features_.addEventListener(w["default"].ADD,this.boundAddFeature_),this.features_.addEventListener(w["default"].REMOVE,this.boundRemoveFeature_),this.style_&&
this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(w["default"].ADD,this.boundAddFeature_),this.features_.removeEventListener(w["default"].REMOVE,this.boundRemoveFeature_))};t.prototype.addFeature_=function(q){q=q.element;this.style_&&this.applySelectedStyle_(q)};t.prototype.removeFeature_=function(q){q=q.element;this.style_&&this.restorePreviousStyle_(q)};t.prototype.getStyle=function(){return this.style_};t.prototype.applySelectedStyle_=function(q){var B=
(0,e.getUid)(q);B in f||(f[B]=q.getStyle());q.setStyle(this.style_)};t.prototype.restorePreviousStyle_=function(q){for(var B=this.getMap().getInteractions().getArray(),E=B.length-1;0<=E;--E){var z=B[E];if(z!==this&&z instanceof t&&z.getStyle()&&-1!==z.getFeatures().getArray().lastIndexOf(q)){q.setStyle(z.getStyle());return}}B=(0,e.getUid)(q);q.setStyle(f[B]);delete f[B]};t.prototype.removeFeatureLayerAssociation_=function(q){delete this.featureLayerAssociation_[(0,e.getUid)(q)]};t.prototype.handleEvent=
function(q){if(!this.condition_(q))return!0;var B=this.addCondition_(q),E=this.removeCondition_(q),z=this.toggleCondition_(q),A=!B&&!E&&!z,p=q.map,y=this.getFeatures(),F=[],J=[];if(A){(0,k.clear)(this.featureLayerAssociation_);p.forEachFeatureAtPixel(q.pixel,function(P,K){if(this.filter_(P,K))return J.push(P),this.addFeatureLayerAssociation_(P,K),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(A=y.getLength()-1;0<=A;--A){p=y.item(A);var H=J.indexOf(p);
-1<H?J.splice(H,1):(y.remove(p),F.push(p))}0!==J.length&&y.extend(J)}else{p.forEachFeatureAtPixel(q.pixel,function(P,K){if(this.filter_(P,K))return!B&&!z||(0,c.includes)(y.getArray(),P)?(E||z)&&(0,c.includes)(y.getArray(),P)&&(F.push(P),this.removeFeatureLayerAssociation_(P)):(J.push(P),this.addFeatureLayerAssociation_(P,K)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(A=F.length-1;0<=A;--A)y.remove(F[A]);y.extend(J)}(0<J.length||0<F.length)&&this.dispatchEvent(new a("select",
J,F,q));return!0};return t}(Y["default"]);r["default"]=m};
shadow$provide[250]=function(S,m,Y,r){function D(B){return B&&B.__esModule?B:{"default":B}}function C(B){if(B.feature)return B.feature;if(B.element)return B.element}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=D(m(109)),w=D(m(91)),u=D(m(122));S=D(m(175));var n=D(m(240)),k=D(m(242)),h=m(76),c=m(83),e=m(101),b=m(155),d=m(133),a=m(77),f=m(89),l=m(92),t=function(){var B=function(E,z){B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,p){A.__proto__=p}||function(A,
p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(A[y]=p[y])};return B(E,z)};return function(E,z){function A(){this.constructor=E}B(E,z);E.prototype=null===z?Object.create(z):(A.prototype=z.prototype,new A)}}(),q=[];m=function(B){function E(z){var A=z?z:{};A.handleDownEvent||(A.handleDownEvent=h.TRUE);A.stopDown||(A.stopDown=h.FALSE);z=B.call(this,A)||this;z.source_=A.source?A.source:null;z.vertex_=void 0!==A.vertex?A.vertex:!0;z.edge_=void 0!==A.edge?A.edge:!0;z.features_=A.features?
A.features:null;z.featuresListenerKeys_=[];z.featureChangeListenerKeys_={};z.indexedFeaturesExtents_={};z.pendingFeatures_={};z.pixelTolerance_=void 0!==A.pixelTolerance?A.pixelTolerance:10;z.rBush_=new n["default"];z.SEGMENT_WRITERS_={Point:z.writePointGeometry_.bind(z),LineString:z.writeLineStringGeometry_.bind(z),LinearRing:z.writeLineStringGeometry_.bind(z),Polygon:z.writePolygonGeometry_.bind(z),MultiPoint:z.writeMultiPointGeometry_.bind(z),MultiLineString:z.writeMultiLineStringGeometry_.bind(z),
MultiPolygon:z.writeMultiPolygonGeometry_.bind(z),GeometryCollection:z.writeGeometryCollectionGeometry_.bind(z),Circle:z.writeCircleGeometry_.bind(z)};return z}t(E,B);E.prototype.addFeature=function(z,A){A=void 0!==A?A:!0;var p=(0,a.getUid)(z),y=z.getGeometry();if(y){var F=this.SEGMENT_WRITERS_[y.getType()];F&&(this.indexedFeaturesExtents_[p]=y.getExtent((0,c.createEmpty)()),F(z,y))}A&&(this.featureChangeListenerKeys_[p]=(0,l.listen)(z,w["default"].CHANGE,this.handleFeatureChange_,this))};E.prototype.forEachFeatureAdd_=
function(z){this.addFeature(z)};E.prototype.forEachFeatureRemove_=function(z){this.removeFeature(z)};E.prototype.getFeatures_=function(){var z;this.features_?z=this.features_:this.source_&&(z=this.source_.getFeatures());return z};E.prototype.handleEvent=function(z){var A=this.snapTo(z.pixel,z.coordinate,z.map);A.snapped&&(z.coordinate=A.vertex.slice(0,2),z.pixel=A.vertexPixel);return B.prototype.handleEvent.call(this,z)};E.prototype.handleFeatureAdd_=function(z){z=C(z);this.addFeature(z)};E.prototype.handleFeatureRemove_=
function(z){z=C(z);this.removeFeature(z)};E.prototype.handleFeatureChange_=function(z){z=z.target;if(this.handlingDownUpSequence){var A=(0,a.getUid)(z);A in this.pendingFeatures_||(this.pendingFeatures_[A]=z)}else this.updateFeature_(z)};E.prototype.handleUpEvent=function(z){z=(0,f.getValues)(this.pendingFeatures_);z.length&&(z.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};E.prototype.removeFeature=function(z,A){A=void 0!==A?A:!0;var p=(0,a.getUid)(z),y=this.indexedFeaturesExtents_[p];
if(y){var F=this.rBush_,J=[];F.forEachInExtent(y,function(H){z===H.feature&&J.push(H)});for(y=J.length-1;0<=y;--y)F.remove(J[y])}A&&((0,l.unlistenByKey)(this.featureChangeListenerKeys_[p]),delete this.featureChangeListenerKeys_[p])};E.prototype.setMap=function(z){var A=this.getMap(),p=this.featuresListenerKeys_,y=this.getFeatures_();A&&(p.forEach(l.unlistenByKey),p.length=0,y.forEach(this.forEachFeatureRemove_.bind(this)));B.prototype.setMap.call(this,z);z&&(this.features_?p.push((0,l.listen)(this.features_,
v["default"].ADD,this.handleFeatureAdd_,this),(0,l.listen)(this.features_,v["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&p.push((0,l.listen)(this.source_,k["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,l.listen)(this.source_,k["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),y.forEach(this.forEachFeatureAdd_.bind(this)))};E.prototype.snapTo=function(z,A,p){var y=p.getCoordinateFromPixel([z[0]-this.pixelTolerance_,z[1]+this.pixelTolerance_]),F=p.getCoordinateFromPixel([z[0]+
this.pixelTolerance_,z[1]-this.pixelTolerance_]);y=(0,c.boundingExtent)([y,F]);var J=this.rBush_.getInExtent(y);this.vertex_&&!this.edge_&&(J=J.filter(function(G){return G.feature.getGeometry().getType()!==u["default"].CIRCLE}));y=!1;var H=F=null;if(0===J.length)return{snapped:y,vertex:F,vertexPixel:H};var P=p.getView().getProjection();A=(0,d.fromUserCoordinate)(A,P);for(var K,N=Infinity,M=0;M<J.length;++M){var O=J[M];q[0]=(0,d.fromUserCoordinate)(O.segment[0],P);q[1]=(0,d.fromUserCoordinate)(O.segment[1],
P);var Q=(0,e.squaredDistanceToSegment)(A,q);Q<N&&(K=O,N=Q)}J=K.segment;this.vertex_&&!this.edge_?(K=p.getPixelFromCoordinate(J[0]),P=p.getPixelFromCoordinate(J[1]),K=(0,e.squaredDistance)(z,K),z=(0,e.squaredDistance)(z,P),P=Math.sqrt(Math.min(K,z)),P<=this.pixelTolerance_&&(y=!0,F=K>z?J[1]:J[0],H=p.getPixelFromCoordinate(F))):this.edge_&&((N=K.feature.getGeometry().getType()===u["default"].CIRCLE)?(F=K.feature.getGeometry(),(H=(0,d.getUserProjection)())&&(F=F.clone().transform(H,P)),F=(0,d.toUserCoordinate)((0,
e.closestOnCircle)(A,F),P)):(q[0]=(0,d.fromUserCoordinate)(J[0],P),q[1]=(0,d.fromUserCoordinate)(J[1],P),F=(0,d.toUserCoordinate)((0,e.closestOnSegment)(A,q),P)),H=p.getPixelFromCoordinate(F),(0,e.distance)(z,H)<=this.pixelTolerance_&&(y=!0,this.vertex_&&!N&&(K=p.getPixelFromCoordinate(J[0]),P=p.getPixelFromCoordinate(J[1]),K=(0,e.squaredDistance)(H,K),z=(0,e.squaredDistance)(H,P),P=Math.sqrt(Math.min(K,z)),P<=this.pixelTolerance_&&(F=K>z?J[1]:J[0],H=p.getPixelFromCoordinate(F)))));y&&(H=[Math.round(H[0]),
Math.round(H[1])]);return{snapped:y,vertex:F,vertexPixel:H}};E.prototype.updateFeature_=function(z){this.removeFeature(z,!1);this.addFeature(z,!1)};E.prototype.writeCircleGeometry_=function(z,A){var p=this.getMap().getView().getProjection(),y=A;(A=(0,d.getUserProjection)())&&(y=y.clone().transform(A,p));y=(0,b.fromCircle)(y);A&&y.transform(p,A);p=y.getCoordinates()[0];A=0;for(y=p.length-1;A<y;++A){var F=p.slice(A,A+2),J={feature:z,segment:F};this.rBush_.insert((0,c.boundingExtent)(F),J)}};E.prototype.writeGeometryCollectionGeometry_=
function(z,A){A=A.getGeometriesArray();for(var p=0;p<A.length;++p){var y=this.SEGMENT_WRITERS_[A[p].getType()];y&&y(z,A[p])}};E.prototype.writeLineStringGeometry_=function(z,A){A=A.getCoordinates();for(var p=0,y=A.length-1;p<y;++p){var F=A.slice(p,p+2),J={feature:z,segment:F};this.rBush_.insert((0,c.boundingExtent)(F),J)}};E.prototype.writeMultiLineStringGeometry_=function(z,A){A=A.getCoordinates();for(var p=0,y=A.length;p<y;++p)for(var F=A[p],J=0,H=F.length-1;J<H;++J){var P=F.slice(J,J+2),K={feature:z,
segment:P};this.rBush_.insert((0,c.boundingExtent)(P),K)}};E.prototype.writeMultiPointGeometry_=function(z,A){for(var p=A.getCoordinates(),y=0,F=p.length;y<F;++y){var J=p[y];J={feature:z,segment:[J,J]};this.rBush_.insert(A.getExtent(),J)}};E.prototype.writeMultiPolygonGeometry_=function(z,A){A=A.getCoordinates();for(var p=0,y=A.length;p<y;++p)for(var F=A[p],J=0,H=F.length;J<H;++J)for(var P=F[J],K=0,N=P.length-1;K<N;++K){var M=P.slice(K,K+2),O={feature:z,segment:M};this.rBush_.insert((0,c.boundingExtent)(M),
O)}};E.prototype.writePointGeometry_=function(z,A){var p=A.getCoordinates();z={feature:z,segment:[p,p]};this.rBush_.insert(A.getExtent(),z)};E.prototype.writePolygonGeometry_=function(z,A){A=A.getCoordinates();for(var p=0,y=A.length;p<y;++p)for(var F=A[p],J=0,H=F.length-1;J<H;++J){var P=F.slice(J,J+2),K={feature:z,segment:P};this.rBush_.insert((0,c.boundingExtent)(P),K)}};return E}(S["default"]);r["default"]=m};
shadow$provide[251]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.TranslateEvent=void 0;var C=D(m(110));S=D(m(87));var v=D(m(172));Y=D(m(175));var w=m(76),u=m(94),n=m(75),k=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=
e}c(e,b);e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),h=function(c){function e(b,d,a,f,l){b=c.call(this,b)||this;b.features=d;b.coordinate=a;b.startCoordinate=f;b.mapBrowserEvent=l;return b}k(e,c);return e}(S["default"]);r.TranslateEvent=h;m=function(c){function e(b){var d=this;b=b?b:{};d=c.call(this,b)||this;d.lastCoordinate_=null;d.startCoordinate_=null;d.features_=void 0!==b.features?b.features:null;if(b.layers)if("function"===typeof b.layers)var a=b.layers;else{var f=
b.layers;a=function(l){return(0,n.includes)(f,l)}}else a=w.TRUE;d.layerFilter_=a;d.filter_=b.filter?b.filter:w.TRUE;d.hitTolerance_=b.hitTolerance?b.hitTolerance:0;d.lastFeature_=null;d.addEventListener((0,u.getChangeEventType)(v["default"].ACTIVE),d.handleActiveChanged_);return d}k(e,c);e.prototype.handleDownEvent=function(b){this.lastFeature_=this.featuresAtPixel_(b.pixel,b.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=b.coordinate;this.handleMoveEvent(b);
var d=this.features_||new C["default"]([this.lastFeature_]);this.dispatchEvent(new h("translatestart",d,b.coordinate,this.startCoordinate_,b));return!0}return!1};e.prototype.handleUpEvent=function(b){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(b);var d=this.features_||new C["default"]([this.lastFeature_]);this.dispatchEvent(new h("translateend",d,b.coordinate,this.startCoordinate_,b));this.startCoordinate_=null;return!0}return!1};e.prototype.handleDragEvent=function(b){if(this.lastCoordinate_){var d=
b.coordinate,a=d[0]-this.lastCoordinate_[0],f=d[1]-this.lastCoordinate_[1],l=this.features_||new C["default"]([this.lastFeature_]);l.forEach(function(t){var q=t.getGeometry();q.translate(a,f);t.setGeometry(q)});this.lastCoordinate_=d;this.dispatchEvent(new h("translating",l,d,this.startCoordinate_,b))}};e.prototype.handleMoveEvent=function(b){var d=b.map.getViewport();this.featuresAtPixel_(b.pixel,b.map)?(d.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),d.classList.add(this.lastCoordinate_?
"ol-grabbing":"ol-grab")):d.classList.remove("ol-grab","ol-grabbing")};e.prototype.featuresAtPixel_=function(b,d){return d.forEachFeatureAtPixel(b,function(a,f){if(this.filter_(a,f)&&(!this.features_||(0,n.includes)(this.features_.getArray(),a)))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};e.prototype.getHitTolerance=function(){return this.hitTolerance_};e.prototype.setHitTolerance=function(b){this.hitTolerance_=b};e.prototype.setMap=function(b){var d=this.getMap();
c.prototype.setMap.call(this,b);this.updateState_(d)};e.prototype.handleActiveChanged_=function(){this.updateState_(null)};e.prototype.updateState_=function(b){var d=this.getMap(),a=this.getActive();d&&a||(d=d||b)&&d.getViewport().classList.remove("ol-grab","ol-grabbing")};return e}(Y["default"]);r["default"]=m};
shadow$provide[252]=function(S,m,Y,r){function D(F){return F&&F.__esModule?F:{"default":F}}Object.defineProperty(r,"__esModule",{value:!0});r.defaults=function(F){F=F?F:{};var J=new C["default"],H=new c["default"](-.005,.05,100);(void 0!==F.altShiftDragRotate?F.altShiftDragRotate:1)&&J.push(new u["default"]);(void 0!==F.doubleClickZoom?F.doubleClickZoom:1)&&J.push(new v["default"]({delta:F.zoomDelta,duration:F.zoomDuration}));(void 0!==F.dragPan?F.dragPan:1)&&J.push(new w["default"]({onFocusOnly:F.onFocusOnly,
kinetic:H}));(void 0!==F.pinchRotate?F.pinchRotate:1)&&J.push(new b["default"]);(void 0!==F.pinchZoom?F.pinchZoom:1)&&J.push(new d["default"]({duration:F.zoomDuration}));if(void 0!==F.keyboard?F.keyboard:1)J.push(new k["default"]),J.push(new h["default"]({delta:F.zoomDelta,duration:F.zoomDuration}));(void 0!==F.mouseWheelZoom?F.mouseWheelZoom:1)&&J.push(new e["default"]({onFocusOnly:F.onFocusOnly,duration:F.zoomDuration}));(void 0!==F.shiftDragZoom?F.shiftDragZoom:1)&&J.push(new n["default"]({duration:F.zoomDuration}));
return J};Object.defineProperty(r,"DoubleClickZoom",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(r,"DragPan",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(r,"DragRotate",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(r,"DragZoom",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(r,"KeyboardPan",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(r,"KeyboardZoom",{enumerable:!0,
get:function(){return h["default"]}});Object.defineProperty(r,"MouseWheelZoom",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(r,"PinchRotate",{enumerable:!0,get:function(){return b["default"]}});Object.defineProperty(r,"PinchZoom",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(r,"DragAndDrop",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(r,"DragBox",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(r,
"DragRotateAndZoom",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(r,"Draw",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(r,"Extent",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty(r,"Interaction",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(r,"Modify",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(r,"Pointer",{enumerable:!0,get:function(){return z["default"]}});
Object.defineProperty(r,"Select",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty(r,"Snap",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(r,"Translate",{enumerable:!0,get:function(){return y["default"]}});var C=D(m(110)),v=D(m(174)),w=D(m(177)),u=D(m(178)),n=D(m(181)),k=D(m(183)),h=D(m(184)),c=D(m(185)),e=D(m(186)),b=D(m(187)),d=D(m(188)),a=D(m(190)),f=D(m(180)),l=D(m(191)),t=D(m(246)),q=D(m(247)),B=D(m(173)),E=D(m(248)),z=D(m(175)),A=D(m(249)),
p=D(m(250)),y=D(m(251))};
shadow$provide[253]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(108));S=D(m(158));var v=m(89),w=m(171),u=m(252),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=
null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c){c=(0,v.assign)({},c);c.controls||(c.controls=(0,w.defaults)());c.interactions||(c.interactions=(0,u.defaults)({onFocusOnly:!0}));return k.call(this,c)||this}n(h,k);h.prototype.createRenderer=function(){return new C["default"](this)};return h}(S["default"]);r["default"]=m};
shadow$provide[254]=function(S,m,Y,r){function D(h){return h&&h.__esModule?h:{"default":h}}function C(h){for(var c=[],e=0,b=h.length;e<b;++e)c.push(h[e].clone());return c}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=D(m(91));S=D(m(140));var w=D(m(122)),u=m(83),n=m(92),k=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};
return h(c,e)};return function(c,e){function b(){this.constructor=c}h(c,e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();m=function(h){function c(e){var b=h.call(this)||this;b.geometries_=e?e:null;b.changeEventsKeys_=[];b.listenGeometriesChange_();return b}k(c,h);c.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(n.unlistenByKey);this.changeEventsKeys_.length=0};c.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,
b=this.geometries_.length;e<b;++e)this.changeEventsKeys_.push((0,n.listen)(this.geometries_[e],v["default"].CHANGE,this.changed,this))};c.prototype.clone=function(){var e=new c(null);e.setGeometries(this.geometries_);e.applyProperties(this);return e};c.prototype.closestPointXY=function(e,b,d,a){if(a<(0,u.closestSquaredDistanceXY)(this.getExtent(),e,b))return a;for(var f=this.geometries_,l=0,t=f.length;l<t;++l)a=f[l].closestPointXY(e,b,d,a);return a};c.prototype.containsXY=function(e,b){for(var d=
this.geometries_,a=0,f=d.length;a<f;++a)if(d[a].containsXY(e,b))return!0;return!1};c.prototype.computeExtent=function(e){(0,u.createOrUpdateEmpty)(e);for(var b=this.geometries_,d=0,a=b.length;d<a;++d)(0,u.extend)(e,b[d].getExtent());return e};c.prototype.getGeometries=function(){return C(this.geometries_)};c.prototype.getGeometriesArray=function(){return this.geometries_};c.prototype.getGeometriesArrayRecursive=function(){for(var e=[],b=this.geometries_,d=0,a=b.length;d<a;++d)b[d].getType()===this.getType()?
e=e.concat(b[d].getGeometriesArrayRecursive()):e.push(b[d]);return e};c.prototype.getSimplifiedGeometry=function(e){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var b=[],d=this.geometries_,a=!1,f=0,l=d.length;f<l;++f){var t=d[f],q=t.getSimplifiedGeometry(e);b.push(q);
q!==t&&(a=!0)}if(a)return e=new c(null),e.setGeometriesArray(b),e;this.simplifiedGeometryMaxMinSquaredTolerance=e;return this};c.prototype.getType=function(){return w["default"].GEOMETRY_COLLECTION};c.prototype.intersectsExtent=function(e){for(var b=this.geometries_,d=0,a=b.length;d<a;++d)if(b[d].intersectsExtent(e))return!0;return!1};c.prototype.isEmpty=function(){return 0===this.geometries_.length};c.prototype.rotate=function(e,b){for(var d=this.geometries_,a=0,f=d.length;a<f;++a)d[a].rotate(e,
b);this.changed()};c.prototype.scale=function(e,b,d){d||(d=(0,u.getCenter)(this.getExtent()));for(var a=this.geometries_,f=0,l=a.length;f<l;++f)a[f].scale(e,b,d);this.changed()};c.prototype.setGeometries=function(e){this.setGeometriesArray(C(e))};c.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_();this.geometries_=e;this.listenGeometriesChange_();this.changed()};c.prototype.applyTransform=function(e){for(var b=this.geometries_,d=0,a=b.length;d<a;++d)b[d].applyTransform(e);
this.changed()};c.prototype.translate=function(e,b){for(var d=this.geometries_,a=0,f=d.length;a<f;++a)d[a].translate(e,b);this.changed()};c.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();h.prototype.disposeInternal.call(this)};return c}(S["default"]);r["default"]=m};
shadow$provide[255]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.transformGeometryWithOptions=function(u,n,k){var h=k?(0,w.get)(k.featureProjection):null,c=k?(0,w.get)(k.dataProjection):null;h=h&&c&&!(0,w.equivalent)(h,c)?(n?u.clone():u).transform(n?h:c,n?c:h):u;if(n&&k&&void 0!==k.decimals){var e=Math.pow(10,k.decimals);h===u&&(h=u.clone());h.applyTransform(function(b){for(var d=0,a=b.length;d<a;++d)b[d]=Math.round(b[d]*e)/e;return b})}return h};r.transformExtentWithOptions=
function(u,n){var k=n?(0,w.get)(n.featureProjection):null;n=n?(0,w.get)(n.dataProjection):null;return k&&n&&!(0,w.equivalent)(k,n)?(0,w.transformExtent)(u,n,k):u};r["default"]=void 0;var D=function(u){return u&&u.__esModule?u:{"default":u}}(m(123)),C=m(77),v=m(89),w=m(133);S=function(){function u(){this.defaultFeatureProjection=this.dataProjection=null}u.prototype.getReadOptions=function(n,k){if(k){n=k.dataProjection?(0,w.get)(k.dataProjection):this.readProjection(n);k.extent&&n&&n.getUnits()===D["default"].TILE_PIXELS&&
(n=(0,w.get)(n),n.setWorldExtent(k.extent));var h={dataProjection:n,featureProjection:k.featureProjection}}return this.adaptOptions(h)};u.prototype.adaptOptions=function(n){return(0,v.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},n)};u.prototype.getType=function(){return(0,C["abstract"])()};u.prototype.readFeature=function(n,k){return(0,C["abstract"])()};u.prototype.readFeatures=function(n,k){return(0,C["abstract"])()};u.prototype.readGeometry=function(n,
k){return(0,C["abstract"])()};u.prototype.readProjection=function(n){return(0,C["abstract"])()};u.prototype.writeFeature=function(n,k){return(0,C["abstract"])()};u.prototype.writeFeatures=function(n,k){return(0,C["abstract"])()};u.prototype.writeGeometry=function(n,k){return(0,C["abstract"])()};return u}();r["default"]=S};
shadow$provide[256]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}function C(n){return"string"===typeof n?n:""}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(255));var v=D(m(189)),w=m(77),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=
k}n(k,h);k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(){return n.call(this)||this}u(k,n);k.prototype.getType=function(){return v["default"].TEXT};k.prototype.readFeature=function(h,c){return this.readFeatureFromText(C(h),this.adaptOptions(c))};k.prototype.readFeatureFromText=function(h,c){return(0,w["abstract"])()};k.prototype.readFeatures=function(h,c){return this.readFeaturesFromText(C(h),this.adaptOptions(c))};k.prototype.readFeaturesFromText=
function(h,c){return(0,w["abstract"])()};k.prototype.readGeometry=function(h,c){return this.readGeometryFromText(C(h),this.adaptOptions(c))};k.prototype.readGeometryFromText=function(h,c){return(0,w["abstract"])()};k.prototype.readProjection=function(h){return this.readProjectionFromText(C(h))};k.prototype.readProjectionFromText=function(h){return this.dataProjection};k.prototype.writeFeature=function(h,c){return this.writeFeatureText(h,this.adaptOptions(c))};k.prototype.writeFeatureText=function(h,
c){return(0,w["abstract"])()};k.prototype.writeFeatures=function(h,c){return this.writeFeaturesText(h,this.adaptOptions(c))};k.prototype.writeFeaturesText=function(h,c){return(0,w["abstract"])()};k.prototype.writeGeometry=function(h,c){return this.writeGeometryText(h,this.adaptOptions(c))};k.prototype.writeGeometryText=function(h,c){return(0,w["abstract"])()};return k}(S["default"]);r["default"]=m};
shadow$provide[257]=function(S,m,Y,r){function D(p){return p&&p.__esModule?p:{"default":p}}function C(p){p=p.getCoordinates();return 0===p.length?"":p.join(" ")}function v(p){p=p.getCoordinates();for(var y=[],F=0,J=p.length;F<J;++F)y.push(p[F].join(" "));return y.join(",")}function w(p){var y=[];p=p.getLinearRings();for(var F=0,J=p.length;F<J;++F)y.push("("+v(p[F])+")");return y.join(",")}function u(p){var y=p.getType(),F=(0,A[y])(p);y=y.toUpperCase();if("function"===typeof p.getFlatCoordinates){p=
p.getLayout();var J="";if(p===h["default"].XYZ||p===h["default"].XYZM)J+="Z";if(p===h["default"].XYM||p===h["default"].XYZM)J+="M";p=J;0<p.length&&(y+=" "+p)}return 0===F.length?y+" EMPTY":y+"("+F+")"}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var n=D(m(193)),k=D(m(254)),h=D(m(138)),c=D(m(122));S=D(m(196));Y=D(m(197));var e=D(m(198)),b=D(m(200)),d=D(m(148)),a=D(m(155)),f=D(m(256)),l=m(255),t=function(){var p=function(y,F){p=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(J,H){J.__proto__=H}||function(J,H){for(var P in H)Object.prototype.hasOwnProperty.call(H,P)&&(J[P]=H[P])};return p(y,F)};return function(y,F){function J(){this.constructor=y}p(y,F);y.prototype=null===F?Object.create(F):(J.prototype=F.prototype,new J)}}(),q={POINT:d["default"],LINESTRING:S["default"],POLYGON:a["default"],MULTIPOINT:e["default"],MULTILINESTRING:Y["default"],MULTIPOLYGON:b["default"]},B;for(B in c["default"])c["default"][B].toUpperCase();var E=function(){function p(y){this.wkt=
y;this.index_=-1}p.prototype.isAlpha_=function(y){return"a"<=y&&"z">=y||"A"<=y&&"Z">=y};p.prototype.isNumeric_=function(y,F){return"0"<=y&&"9">=y||"."==y&&!(void 0!==F&&F)};p.prototype.isWhiteSpace_=function(y){return" "==y||"\t"==y||"\r"==y||"\n"==y};p.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};p.prototype.nextToken=function(){var y=this.nextChar_(),F=this.index_,J=y;if("("==y)y=2;else if(","==y)y=5;else if(")"==y)y=3;else if(this.isNumeric_(y)||"-"==y)y=4,J=this.readNumber_();
else if(this.isAlpha_(y))y=1,J=this.readText_();else{if(this.isWhiteSpace_(y))return this.nextToken();if(""===y)y=6;else throw Error("Unexpected character: "+y);}return{position:F,value:J,type:y}};p.prototype.readNumber_=function(){var y=this.index_,F=!1,J=!1;do{if("."==H)F=!0;else if("e"==H||"E"==H)J=!0;var H=this.nextChar_()}while(this.isNumeric_(H,F)||!J&&("e"==H||"E"==H)||J&&("-"==H||"+"==H));return parseFloat(this.wkt.substring(y,this.index_--))};p.prototype.readText_=function(){var y=this.index_;
do var F=this.nextChar_();while(this.isAlpha_(F));return this.wkt.substring(y,this.index_--).toUpperCase()};return p}(),z=function(){function p(y){this.lexer_=y;this.layout_=h["default"].XY}p.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};p.prototype.isTokenType=function(y){return this.token_.type==y};p.prototype.match=function(y){(y=this.isTokenType(y))&&this.consume_();return y};p.prototype.parse=function(){this.consume_();return this.parseGeometry_()};p.prototype.parseGeometryLayout_=
function(){var y=h["default"].XY,F=this.token_;this.isTokenType(1)&&(F=F.value,"Z"===F?y=h["default"].XYZ:"M"===F?y=h["default"].XYM:"ZM"===F&&(y=h["default"].XYZM),y!==h["default"].XY&&this.consume_());return y};p.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var y=[];do y.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return y}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};p.prototype.parsePointText_=function(){if(this.match(2)){var y=
this.parsePoint_();if(this.match(3))return y}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};p.prototype.parseLineStringText_=function(){if(this.match(2)){var y=this.parsePointList_();if(this.match(3))return y}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};p.prototype.parsePolygonText_=function(){if(this.match(2)){var y=this.parseLineStringTextList_();if(this.match(3))return y}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());
};p.prototype.parseMultiPointText_=function(){if(this.match(2)){var y=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return y}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};p.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var y=this.parseLineStringTextList_();if(this.match(3))return y}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};p.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var y=
this.parsePolygonTextList_();if(this.match(3))return y}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};p.prototype.parsePoint_=function(){for(var y=[],F=this.layout_.length,J=0;J<F;++J){var H=this.token_;if(this.match(4))y.push(H.value);else break}if(y.length==F)return y;throw Error(this.formatErrorMessage_());};p.prototype.parsePointList_=function(){for(var y=[this.parsePoint_()];this.match(5);)y.push(this.parsePoint_());return y};p.prototype.parsePointTextList_=
function(){for(var y=[this.parsePointText_()];this.match(5);)y.push(this.parsePointText_());return y};p.prototype.parseLineStringTextList_=function(){for(var y=[this.parseLineStringText_()];this.match(5);)y.push(this.parseLineStringText_());return y};p.prototype.parsePolygonTextList_=function(){for(var y=[this.parsePolygonText_()];this.match(5);)y.push(this.parsePolygonText_());return y};p.prototype.isEmptyGeometry_=function(){var y=this.isTokenType(1)&&"EMPTY"==this.token_.value;y&&this.consume_();
return y};p.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};p.prototype.parseGeometry_=function(){var y=this.token_;if(this.match(1)){var F=y.value;this.layout_=this.parseGeometryLayout_();if("GEOMETRYCOLLECTION"==F)return y=this.parseGeometryCollectionText_(),new k["default"](y);y=q[F];if(!y)throw Error("Invalid geometry type: "+F);switch(F){case "POINT":F=this.parsePointText_();break;case "LINESTRING":F=
this.parseLineStringText_();break;case "POLYGON":F=this.parsePolygonText_();break;case "MULTIPOINT":F=this.parseMultiPointText_();break;case "MULTILINESTRING":F=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":F=this.parseMultiPolygonText_();break;default:throw Error("Invalid geometry type: "+F);}F||(F=y===q.POINT?[NaN,NaN]:[]);return new y(F,this.layout_)}throw Error(this.formatErrorMessage_());};return p}();m=function(p){function y(F){var J=p.call(this)||this;F=F?F:{};J.splitCollection_=
void 0!==F.splitCollection?F.splitCollection:!1;return J}t(y,p);y.prototype.parse_=function(F){F=new E(F);return(new z(F)).parse()};y.prototype.readFeatureFromText=function(F,J){return(F=this.readGeometryFromText(F,J))?(J=new n["default"],J.setGeometry(F),J):null};y.prototype.readFeaturesFromText=function(F,J){F=this.readGeometryFromText(F,J);F=this.splitCollection_&&F.getType()==c["default"].GEOMETRY_COLLECTION?F.getGeometriesArray():[F];J=[];for(var H=0,P=F.length;H<P;++H){var K=new n["default"];
K.setGeometry(F[H]);J.push(K)}return J};y.prototype.readGeometryFromText=function(F,J){return(F=this.parse_(F))?(0,l.transformGeometryWithOptions)(F,!1,J):null};y.prototype.writeFeatureText=function(F,J){return(F=F.getGeometry())?this.writeGeometryText(F,J):""};y.prototype.writeFeaturesText=function(F,J){if(1==F.length)return this.writeFeatureText(F[0],J);for(var H=[],P=0,K=F.length;P<K;++P)H.push(F[P].getGeometry());F=new k["default"](H);return this.writeGeometryText(F,J)};y.prototype.writeGeometryText=
function(F,J){return u((0,l.transformGeometryWithOptions)(F,!0,J))};return y}(f["default"]);var A={Point:C,LineString:v,Polygon:w,MultiPoint:function(p){var y=[];p=p.getPoints();for(var F=0,J=p.length;F<J;++F)y.push("("+C(p[F])+")");return y.join(",")},MultiLineString:function(p){var y=[];p=p.getLineStrings();for(var F=0,J=p.length;F<J;++F)y.push("("+v(p[F])+")");return y.join(",")},MultiPolygon:function(p){var y=[];p=p.getPolygons();for(var F=0,J=p.length;F<J;++F)y.push("("+w(p[F])+")");return y.join(",")},
GeometryCollection:function(p){var y=[];p=p.getGeometries();for(var F=0,J=p.length;F<J;++F)y.push(u(p[F]));return y.join(",")}};r["default"]=m};
shadow$provide[258]=function(S,m,Y,r){function D(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(90));var C=D(m(91)),v=D(m(120)),w=m(77),u=m(137),n=function(){var k=function(h,c){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])};return k(h,c)};return function(h,c){function e(){this.constructor=h}k(h,c);h.prototype=
null===c?Object.create(c):(e.prototype=c.prototype,new e)}}();m=function(k){function h(c,e,b){var d=k.call(this)||this;b=b?b:{};d.tileCoord=c;d.state=e;d.interimTile=null;d.hifi=!0;d.key="";d.transition_=void 0===b.transition?250:b.transition;d.transitionStarts_={};return d}n(h,k);h.prototype.changed=function(){this.dispatchEvent(C["default"].CHANGE)};h.prototype.release=function(){};h.prototype.getKey=function(){return this.key+"/"+this.tileCoord};h.prototype.getInterimTile=function(){if(!this.interimTile)return this;
var c=this.interimTile;do{if(c.getState()==v["default"].LOADED)return this.transition_=0,c;c=c.interimTile}while(c);return this};h.prototype.refreshInterimChain=function(){if(this.interimTile){var c=this.interimTile,e=this;do{if(c.getState()==v["default"].LOADED){c.interimTile=null;break}else c.getState()==v["default"].LOADING?e=c:c.getState()==v["default"].IDLE?e.interimTile=c.interimTile:e=c;c=e.interimTile}while(c)}};h.prototype.getTileCoord=function(){return this.tileCoord};h.prototype.getState=
function(){return this.state};h.prototype.setState=function(c){if(this.state!==v["default"].ERROR&&this.state>c)throw Error("Tile load sequence violation");this.state=c;this.changed()};h.prototype.load=function(){(0,w["abstract"])()};h.prototype.getAlpha=function(c,e){if(!this.transition_)return 1;var b=this.transitionStarts_[c];if(!b)b=e,this.transitionStarts_[c]=b;else if(-1===b)return 1;c=e-b+1E3/60;return c>=this.transition_?1:(0,u.easeIn)(c/this.transition_)};h.prototype.inTransition=function(c){return this.transition_?
-1!==this.transitionStarts_[c]:!1};h.prototype.endTransition=function(c){this.transition_&&(this.transitionStarts_[c]=-1)};return h}(S["default"]);r["default"]=m};
shadow$provide[259]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(258));var C=D(m(120)),v=m(106),w=m(231),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===
h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(h,c,e,b,d,a){h=n.call(this,h,c,a)||this;h.crossOrigin_=b;h.src_=e;h.key=e;h.image_=new Image;null!==b&&(h.image_.crossOrigin=b);h.unlisten_=null;h.tileLoadFunction_=d;return h}u(k,n);k.prototype.getImage=function(){return this.image_};k.prototype.handleImageError_=function(){this.state=C["default"].ERROR;this.unlistenImage_();var h=(0,v.createCanvasContext2D)(1,1);h.fillStyle="rgba(0,0,0,0)";h.fillRect(0,0,1,1);this.image_=
h.canvas;this.changed()};k.prototype.handleImageLoad_=function(){var h=this.image_;this.state=h.naturalWidth&&h.naturalHeight?C["default"].LOADED:C["default"].EMPTY;this.unlistenImage_();this.changed()};k.prototype.load=function(){this.state==C["default"].ERROR&&(this.state=C["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==C["default"].IDLE&&(this.state=C["default"].LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),
this.unlisten_=(0,w.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};k.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return k}(S["default"]);r["default"]=m};
shadow$provide[260]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.ERROR_THRESHOLD=.5;r.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[261]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=m(83),C=m(133),v=m(84);S=function(){function w(u,n,k,h,c,e){this.sourceProj_=u;this.targetProj_=n;var b={},d=(0,C.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(B){var E=B[0]+"/"+B[1];b[E]||(b[E]=d(B));return b[E]};this.maxSourceExtent_=h;this.errorThresholdSquared_=c*c;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!h&&!!this.sourceProj_.getExtent()&&(0,D.getWidth)(h)==(0,D.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,D.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,D.getWidth)(this.targetProj_.getExtent()):null;u=(0,D.getTopLeft)(k);n=(0,D.getTopRight)(k);h=(0,D.getBottomRight)(k);c=(0,D.getBottomLeft)(k);var a=this.transformInv_(u),f=this.transformInv_(n),l=this.transformInv_(h),t=this.transformInv_(c);
k=10+(e?Math.max(0,Math.ceil((0,v.log2)((0,D.getArea)(k)/(e*e*65536)))):0);this.addQuad_(u,n,h,c,a,f,l,t,k);if(this.wrapsXInSource_){var q=Infinity;this.triangles_.forEach(function(B,E,z){q=Math.min(q,B.source[0][0],B.source[1][0],B.source[2][0])});this.triangles_.forEach(function(B){if(Math.max(B.source[0][0],B.source[1][0],B.source[2][0])-q>this.sourceWorldWidth_/2){var E=[[B.source[0][0],B.source[0][1]],[B.source[1][0],B.source[1][1]],[B.source[2][0],B.source[2][1]]];E[0][0]-q>this.sourceWorldWidth_/
2&&(E[0][0]-=this.sourceWorldWidth_);E[1][0]-q>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_);E[2][0]-q>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);Math.max(E[0][0],E[1][0],E[2][0])-Math.min(E[0][0],E[1][0],E[2][0])<this.sourceWorldWidth_/2&&(B.source=E)}}.bind(this))}b={}}w.prototype.addTriangle_=function(u,n,k,h,c,e){this.triangles_.push({source:[h,c,e],target:[u,n,k]})};w.prototype.addQuad_=function(u,n,k,h,c,e,b,d,a){var f=(0,D.boundingExtent)([c,e,b,d]),l=this.sourceWorldWidth_?
(0,D.getWidth)(f)/this.sourceWorldWidth_:null,t=this.sourceWorldWidth_,q=this.sourceProj_.canWrapX()&&.5<l&&1>l,B=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var E=(0,D.boundingExtent)([u,n,k,h]);B=.25<(0,D.getWidth)(E)/this.targetWorldWidth_||B}!q&&this.sourceProj_.isGlobal()&&l&&(B=.25<l||B)}if(B||!this.maxSourceExtent_||!(isFinite(f[0])&&isFinite(f[1])&&isFinite(f[2])&&isFinite(f[3]))||(0,D.intersects)(f,this.maxSourceExtent_)){f=0;if(!(B||isFinite(c[0])&&isFinite(c[1])&&
isFinite(e[0])&&isFinite(e[1])&&isFinite(b[0])&&isFinite(b[1])&&isFinite(d[0])&&isFinite(d[1])))if(0<a)B=!0;else if(f=(isFinite(c[0])&&isFinite(c[1])?0:8)+(isFinite(e[0])&&isFinite(e[1])?0:4)+(isFinite(b[0])&&isFinite(b[1])?0:2)+(isFinite(d[0])&&isFinite(d[1])?0:1),1!=f&&2!=f&&4!=f&&8!=f)return;if(0<a&&(B||(B=this.transformInv_([(u[0]+k[0])/2,(u[1]+k[1])/2]),t=q?((0,v.modulo)(c[0],t)+(0,v.modulo)(b[0],t))/2-(0,v.modulo)(B[0],t):(c[0]+b[0])/2-B[0],B=(c[1]+b[1])/2-B[1],B=t*t+B*B>this.errorThresholdSquared_),
B)){Math.abs(u[0]-k[0])<=Math.abs(u[1]-k[1])?(q=[(n[0]+k[0])/2,(n[1]+k[1])/2],t=this.transformInv_(q),B=[(h[0]+u[0])/2,(h[1]+u[1])/2],f=this.transformInv_(B),this.addQuad_(u,n,q,B,c,e,t,f,a-1),this.addQuad_(B,q,k,h,f,t,b,d,a-1)):(q=[(u[0]+n[0])/2,(u[1]+n[1])/2],t=this.transformInv_(q),B=[(k[0]+h[0])/2,(k[1]+h[1])/2],f=this.transformInv_(B),this.addQuad_(u,q,B,h,c,t,f,d,a-1),this.addQuad_(q,n,k,B,t,e,b,f,a-1));return}if(q){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(f&11)&&this.addTriangle_(u,
k,h,c,b,d);0==(f&14)&&this.addTriangle_(u,k,n,c,b,e);f&&(0==(f&13)&&this.addTriangle_(n,h,u,e,d,c),0==(f&7)&&this.addTriangle_(n,h,k,e,d,b))}};w.prototype.calculateSourceExtent=function(){var u=(0,D.createEmpty)();this.triangles_.forEach(function(n,k,h){n=n.source;(0,D.extendCoordinate)(u,n[0]);(0,D.extendCoordinate)(u,n[1]);(0,D.extendCoordinate)(u,n[2])});return u};w.prototype.getTriangles=function(){return this.triangles_};return w}();r["default"]=S};
shadow$provide[262]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.DEFAULT_WMS_VERSION="1.3.0";r.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}};
shadow$provide[263]=function(S,m,Y,r){function D(b,d,a,f,l){b.beginPath();b.moveTo(0,0);b.lineTo(d,a);b.lineTo(f,l);b.closePath();b.save();b.clip();b.fillRect(0,0,Math.max(d,f)+1,Math.max(a,l));b.restore()}function C(b,d){return 2<Math.abs(b[4*d]-210)||2<Math.abs(b[4*d+3]-191.25)}function v(b,d,a,f){var l=(0,h.transform)(a,d,b);a=(0,h.getPointResolution)(d,f,a);d=d.getMetersPerUnit();void 0!==d&&(a*=d);d=b.getMetersPerUnit();void 0!==d&&(a/=d);d=b.getExtent();if(!d||(0,n.containsCoordinate)(d,l))b=
(0,h.getPointResolution)(b,a,l)/a,isFinite(b)&&0<b&&(a/=b);return a}Object.defineProperty(r,"__esModule",{value:!0});r.calculateSourceResolution=v;r.calculateSourceExtentResolution=function(b,d,a,f){var l=(0,n.getCenter)(a),t=v(b,d,l,f);(!isFinite(t)||0>=t)&&(0,n.forEachCorner)(a,function(q){t=v(b,d,q,f);return isFinite(t)&&0<t});return t};r.render=function(b,d,a,f,l,t,q,B,E,z,A,p){function y(N){return Math.round(N*a)/a}var F=(0,k.createCanvasContext2D)(Math.round(a*b),Math.round(a*d));(0,u.assign)(F,
p);if(0===E.length)return F.canvas;F.scale(a,a);F.globalCompositeOperation="lighter";var J=(0,n.createEmpty)();E.forEach(function(N,M,O){(0,n.extend)(J,N.extent)});b=(0,n.getWidth)(J);d=(0,n.getHeight)(J);var H=(0,k.createCanvasContext2D)(Math.round(a*b/f),Math.round(a*d/f));(0,u.assign)(H,p);var P=a/f;E.forEach(function(N,M,O){M=N.extent[0]-J[0];O=-(N.extent[3]-J[3]);var Q=(0,n.getWidth)(N.extent),G=(0,n.getHeight)(N.extent);0<N.image.width&&0<N.image.height&&H.drawImage(N.image,z,z,N.image.width-
2*z,N.image.height-2*z,M*P,O*P,Q*P,G*P)});var K=(0,n.getTopLeft)(q);B.getTriangles().forEach(function(N,M,O){O=N.source;var Q=N.target;N=O[0][0];M=O[0][1];var G=O[1][0],L=O[1][1],T=O[2][0],V=O[2][1];O=y((Q[0][0]-K[0])/t);var X=y(-(Q[0][1]-K[1])/t),aa=y((Q[1][0]-K[0])/t),ba=y(-(Q[1][1]-K[1])/t),fa=y((Q[2][0]-K[0])/t);Q=y(-(Q[2][1]-K[1])/t);G-=N;L-=M;T-=N;V-=M;G=[[G,L,0,0,aa-O],[T,V,0,0,fa-O],[0,0,G,L,ba-X],[0,0,T,V,Q-X]];if(G=(0,c.solveLinearSystem)(G)){F.save();F.beginPath();void 0===e&&(L=document.createElement("canvas").getContext("2d"),
L.globalCompositeOperation="lighter",L.fillStyle="rgba(210, 0, 0, 0.75)",D(L,4,5,4,0),D(L,4,5,0,5),L=L.getImageData(0,0,3,3).data,e=C(L,0)||C(L,4)||C(L,8));if(e||p===w.IMAGE_SMOOTHING_DISABLED)for(F.moveTo(aa,ba),L=O-aa,T=X-ba,V=0;4>V;V++)F.lineTo(aa+y((V+1)*L/4),ba+y(V*T/3)),3!=V&&F.lineTo(aa+y((V+1)*L/4),ba+y((V+1)*T/3));else F.moveTo(aa,ba),F.lineTo(O,X);F.lineTo(fa,Q);F.clip();F.transform(G[0],G[2],G[1],G[3],O,X);F.translate(J[0]-N,J[3]-M);F.scale(f/a,-f/a);F.drawImage(H.canvas,0,0);F.restore()}});
A&&(F.save(),F.globalCompositeOperation="source-over",F.strokeStyle="black",F.lineWidth=1,B.getTriangles().forEach(function(N,M,O){var Q=N.target;N=(Q[0][0]-K[0])/t;M=-(Q[0][1]-K[1])/t;O=(Q[1][0]-K[0])/t;var G=-(Q[1][1]-K[1])/t,L=(Q[2][0]-K[0])/t;Q=-(Q[2][1]-K[1])/t;F.beginPath();F.moveTo(O,G);F.lineTo(N,M);F.lineTo(L,Q);F.closePath();F.stroke()}),F.restore());return F.canvas};var w=m(262),u=m(89),n=m(83),k=m(106),h=m(133),c=m(84),e};
shadow$provide[264]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=m(260),v=D(m(91));S=D(m(258));var w=D(m(120)),u=D(m(261)),n=m(263),k=m(84),h=m(83),c=m(92),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a,f,l,t,q,B,E,z,A,p,y,F){var J=b.call(this,q,w["default"].IDLE)||this;J.renderEdges_=void 0!==y?y:!1;J.contextOptions_=F;J.pixelRatio_=E;J.gutter_=z;J.canvas_=null;J.sourceTileGrid_=f;J.targetTileGrid_=t;J.wrappedTileCoord_=B?B:q;J.sourceTiles_=[];J.sourcesListenerKeys_=null;J.sourceZ_=0;B=t.getTileCoordExtent(J.wrappedTileCoord_);z=J.targetTileGrid_.getExtent();q=J.sourceTileGrid_.getExtent();
B=z?(0,h.getIntersection)(B,z):B;if(0===(0,h.getArea)(B))return J.state=w["default"].EMPTY,J;(z=a.getExtent())&&(q=q?(0,h.getIntersection)(q,z):z);t=t.getResolution(J.wrappedTileCoord_[0]);z=(0,n.calculateSourceExtentResolution)(a,l,B,t);if(!isFinite(z)||0>=z)return J.state=w["default"].EMPTY,J;J.triangulation_=new u["default"](a,l,B,q,z*(void 0!==p?p:C.ERROR_THRESHOLD),t);if(0===J.triangulation_.getTriangles().length)return J.state=w["default"].EMPTY,J;J.sourceZ_=f.getZForResolution(z);l=J.triangulation_.calculateSourceExtent();
q&&(a.canWrapX()?(l[1]=(0,k.clamp)(l[1],q[1],q[3]),l[3]=(0,k.clamp)(l[3],q[1],q[3])):l=(0,h.getIntersection)(l,q));if((0,h.getArea)(l)){a=f.getTileRangeForExtentAndZ(l,J.sourceZ_);for(f=a.minX;f<=a.maxX;f++)for(l=a.minY;l<=a.maxY;l++)(p=A(J.sourceZ_,f,l,E))&&J.sourceTiles_.push(p);0===J.sourceTiles_.length&&(J.state=w["default"].EMPTY)}else J.state=w["default"].EMPTY;return J}e(d,b);d.prototype.getImage=function(){return this.canvas_};d.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(E,
z,A){E&&E.getState()==w["default"].LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(E.tileCoord),image:E.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=w["default"].ERROR;else{var f=this.wrappedTileCoord_[0],l=this.targetTileGrid_.getTileSize(f),t="number"===typeof l?l:l[0];l="number"===typeof l?l:l[1];f=this.targetTileGrid_.getResolution(f);var q=this.sourceTileGrid_.getResolution(this.sourceZ_),B=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
this.canvas_=(0,n.render)(t,l,this.pixelRatio_,q,this.sourceTileGrid_.getExtent(),f,B,this.triangulation_,a,this.gutter_,this.renderEdges_,this.contextOptions_);this.state=w["default"].LOADED}this.changed()};d.prototype.load=function(){if(this.state==w["default"].IDLE){this.state=w["default"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(f,l,t){l=f.getState();if(l==w["default"].IDLE||l==w["default"].LOADING){a++;var q=(0,c.listen)(f,v["default"].CHANGE,
function(B){B=f.getState();if(B==w["default"].LOADED||B==w["default"].ERROR||B==w["default"].EMPTY)(0,c.unlistenByKey)(q),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(q)}}.bind(this));this.sourceTiles_.forEach(function(f,l,t){f.getState()==w["default"].IDLE&&f.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};d.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(c.unlistenByKey);this.sourcesListenerKeys_=null};return d}(S["default"]);
r["default"]=m};
shadow$provide[265]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=m(79);S=function(){function C(v){this.highWaterMark=void 0!==v?v:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}C.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};C.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};C.prototype.containsKey=function(v){return this.entries_.hasOwnProperty(v)};
C.prototype.forEach=function(v){for(var w=this.oldest_;w;)v(w.value_,w.key_,this),w=w.newer};C.prototype.get=function(v,w){v=this.entries_[v];(0,D.assert)(void 0!==v,15);if(v===this.newest_)return v.value_;v===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(v.newer.older=v.older,v.older.newer=v.newer);v.newer=null;v.older=this.newest_;this.newest_=this.newest_.newer=v;return v.value_};C.prototype.remove=function(v){var w=this.entries_[v];(0,D.assert)(void 0!==w,15);if(w===
this.newest_){if(this.newest_=w.older)this.newest_.newer=null}else if(w===this.oldest_){if(this.oldest_=w.newer)this.oldest_.older=null}else w.newer.older=w.older,w.older.newer=w.newer;delete this.entries_[v];--this.count_;return w.value_};C.prototype.getCount=function(){return this.count_};C.prototype.getKeys=function(){var v=Array(this.count_),w=0,u;for(u=this.newest_;u;u=u.older)v[w++]=u.key_;return v};C.prototype.getValues=function(){var v=Array(this.count_),w=0,u;for(u=this.newest_;u;u=u.older)v[w++]=
u.value_;return v};C.prototype.peekLast=function(){return this.oldest_.value_};C.prototype.peekLastKey=function(){return this.oldest_.key_};C.prototype.peekFirstKey=function(){return this.newest_.key_};C.prototype.pop=function(){var v=this.oldest_;delete this.entries_[v.key_];v.newer&&(v.newer.older=null);this.oldest_=v.newer;this.oldest_||(this.newest_=null);--this.count_;return v.value_};C.prototype.replace=function(v,w){this.get(v);this.entries_[v].value_=w};C.prototype.set=function(v,w){(0,D.assert)(!(v in
this.entries_),16);w={key_:v,newer:null,older:this.newest_,value_:w};this.newest_?this.newest_.newer=w:this.oldest_=w;this.newest_=w;this.entries_[v]=w;++this.count_};C.prototype.setSize=function(v){this.highWaterMark=v};return C}();r["default"]=S};
shadow$provide[266]=function(S,m,Y,r){function D(C,v,w){return C+"/"+v+"/"+w}Object.defineProperty(r,"__esModule",{value:!0});r.createOrUpdate=function(C,v,w,u){return void 0!==u?(u[0]=C,u[1]=v,u[2]=w,u):[C,v,w]};r.getKeyZXY=D;r.getKey=function(C){return D(C[0],C[1],C[2])};r.fromKey=function(C){return C.split("/").map(Number)};r.hash=function(C){return(C[1]<<C[0])+C[2]};r.withinExtentAndZ=function(C,v){var w=C[0],u=C[1];C=C[2];return v.getMinZoom()>w||w>v.getMaxZoom()?!1:(v=v.getFullTileRange(w))?
v.containsXY(u,C):!0}};
shadow$provide[267]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(v){return v&&v.__esModule?v:{"default":v}}(m(265));var D=m(266),C=function(){var v=function(w,u){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,k){n.__proto__=k}||function(n,k){for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(n[h]=k[h])};return v(w,u)};return function(w,u){function n(){this.constructor=w}v(w,u);w.prototype=null===u?Object.create(u):(n.prototype=
u.prototype,new n)}}();m=function(v){function w(){return null!==v&&v.apply(this,arguments)||this}C(w,v);w.prototype.expireCache=function(u){for(;this.canExpireCache()&&!(this.peekLast().getKey()in u);)this.pop().release()};w.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var u=this.peekFirstKey(),n=(0,D.fromKey)(u)[0];this.forEach(function(k){k.tileCoord[0]!==n&&(this.remove((0,D.getKey)(k.tileCoord)),k.release())}.bind(this))}};return w}(S["default"]);r["default"]=m};
shadow$provide[268]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[269]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.createOrUpdate=function(C,v,w,u,n){return void 0!==n?(n.minX=C,n.maxX=v,n.minY=w,n.maxY=u,n):new D(C,v,w,u)};r["default"]=void 0;var D=function(){function C(v,w,u,n){this.minX=v;this.maxX=w;this.minY=u;this.maxY=n}C.prototype.contains=function(v){return this.containsXY(v[1],v[2])};C.prototype.containsTileRange=function(v){return this.minX<=v.minX&&v.maxX<=this.maxX&&this.minY<=v.minY&&v.maxY<=this.maxY};C.prototype.containsXY=
function(v,w){return this.minX<=v&&v<=this.maxX&&this.minY<=w&&w<=this.maxY};C.prototype.equals=function(v){return this.minX==v.minX&&this.minY==v.minY&&this.maxX==v.maxX&&this.maxY==v.maxY};C.prototype.extend=function(v){v.minX<this.minX&&(this.minX=v.minX);v.maxX>this.maxX&&(this.maxX=v.maxX);v.minY<this.minY&&(this.minY=v.minY);v.maxY>this.maxY&&(this.maxY=v.maxY)};C.prototype.getHeight=function(){return this.maxY-this.minY+1};C.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
C.prototype.getWidth=function(){return this.maxX-this.minX+1};C.prototype.intersects=function(v){return this.minX<=v.maxX&&this.maxX>=v.minX&&this.minY<=v.maxY&&this.maxY>=v.minY};return C}();r["default"]=D};
shadow$provide[270]=function(S,m,Y,r){function D(d){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return D(d)}function C(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;C=function(){return d};return d}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=function(d){if(d&&d.__esModule)return d;if(null===
d||"object"!==D(d)&&"function"!==typeof d)return{"default":d};var a=C();if(a&&a.has(d))return a.get(d);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in d)if(Object.prototype.hasOwnProperty.call(d,t)){var q=l?Object.getOwnPropertyDescriptor(d,t):null;q&&(q.get||q.set)?Object.defineProperty(f,t,q):f[t]=d[t]}f["default"]=d;a&&a.set(d,f);return f}(m(269)),w=m(126),u=m(79),n=m(84),k=m(83),h=m(266),c=m(75),e=m(157),b=[0,0,0];S=function(){function d(a){this.minZoom=void 0!==a.minZoom?
a.minZoom:0;this.resolutions_=a.resolutions;(0,u.assert)((0,c.isSorted)(this.resolutions_,function(B,E){return E-B},!0),17);if(!a.origins)for(var f=0,l=this.resolutions_.length-1;f<l;++f)if(!t)var t=this.resolutions_[f]/this.resolutions_[f+1];else if(this.resolutions_[f]/this.resolutions_[f+1]!==t){t=void 0;break}this.zoomFactor_=t;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=null;void 0!==a.origins&&(this.origins_=a.origins,(0,u.assert)(this.origins_.length==
this.resolutions_.length,20));var q=a.extent;void 0===q||this.origin_||this.origins_||(this.origin_=(0,k.getTopLeft)(q));(0,u.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,(0,u.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:w.DEFAULT_TILE_SIZE;(0,u.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,
22);this.extent_=void 0!==q?q:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(B,E){B=new v["default"](Math.min(0,B[0]),Math.max(B[0]-1,-1),Math.min(0,B[1]),Math.max(B[1]-1,-1));q&&(E=this.getTileRangeForExtentAndZ(q,E),B.minX=Math.max(E.minX,B.minX),B.maxX=Math.min(E.maxX,B.maxX),B.minY=Math.max(E.minY,B.minY),B.maxY=Math.min(E.maxY,B.maxY));return B},this):q&&this.calculateTileRanges_(q)}d.prototype.forEachTileCoord=function(a,f,l){a=
this.getTileRangeForExtentAndZ(a,f);for(var t=a.minX,q=a.maxX;t<=q;++t)for(var B=a.minY,E=a.maxY;B<=E;++B)l([f,t,B])};d.prototype.forEachTileCoordParentTileRange=function(a,f,l,t){var q=null,B=a[0]-1;if(2===this.zoomFactor_){var E=a[1];var z=a[2]}else q=this.getTileCoordExtent(a,t);for(;B>=this.minZoom;){2===this.zoomFactor_?(E=Math.floor(E/2),z=Math.floor(z/2),a=(0,v.createOrUpdate)(E,E,z,z,l)):a=this.getTileRangeForExtentAndZ(q,B,l);if(f(B,a))return!0;--B}return!1};d.prototype.getExtent=function(){return this.extent_};
d.prototype.getMaxZoom=function(){return this.maxZoom};d.prototype.getMinZoom=function(){return this.minZoom};d.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};d.prototype.getResolution=function(a){return this.resolutions_[a]};d.prototype.getResolutions=function(){return this.resolutions_};d.prototype.getTileCoordChildTileRange=function(a,f,l){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return l=2*a[1],a=2*a[2],(0,v.createOrUpdate)(l,l+1,a,a+1,f);l=this.getTileCoordExtent(a,
l);return this.getTileRangeForExtentAndZ(l,a[0]+1,f)}return null};d.prototype.getTileRangeExtent=function(a,f,l){var t=this.getOrigin(a),q=this.getResolution(a),B=(0,e.toSize)(this.getTileSize(a),this.tmpSize_);a=t[0]+f.minX*B[0]*q;var E=t[0]+(f.maxX+1)*B[0]*q,z=t[1]+f.minY*B[1]*q;f=t[1]+(f.maxY+1)*B[1]*q;return(0,k.createOrUpdate)(a,z,E,f,l)};d.prototype.getTileRangeForExtentAndZ=function(a,f,l){this.getTileCoordForXYAndZ_(a[0],a[3],f,!1,b);var t=b[1],q=b[2];this.getTileCoordForXYAndZ_(a[2],a[1],
f,!0,b);return(0,v.createOrUpdate)(t,b[1],q,b[2],l)};d.prototype.getTileCoordCenter=function(a){var f=this.getOrigin(a[0]),l=this.getResolution(a[0]),t=(0,e.toSize)(this.getTileSize(a[0]),this.tmpSize_);return[f[0]+(a[1]+.5)*t[0]*l,f[1]-(a[2]+.5)*t[1]*l]};d.prototype.getTileCoordExtent=function(a,f){var l=this.getOrigin(a[0]),t=this.getResolution(a[0]),q=(0,e.toSize)(this.getTileSize(a[0]),this.tmpSize_),B=l[0]+a[1]*q[0]*t;a=l[1]-(a[2]+1)*q[1]*t;l=B+q[0]*t;t=a+q[1]*t;return(0,k.createOrUpdate)(B,
a,l,t,f)};d.prototype.getTileCoordForCoordAndResolution=function(a,f,l){return this.getTileCoordForXYAndResolution_(a[0],a[1],f,!1,l)};d.prototype.getTileCoordForXYAndResolution_=function(a,f,l,t,q){var B=this.getZForResolution(l),E=l/this.getResolution(B),z=this.getOrigin(B),A=(0,e.toSize)(this.getTileSize(B),this.tmpSize_);a=E*Math.floor((a-z[0])/l+(t?.5:0))/A[0];f=E*Math.floor((z[1]-f)/l+(t?.5:0))/A[1];t?(a=Math.ceil(a)-1,f=Math.ceil(f)-1):(a=Math.floor(a),f=Math.floor(f));return(0,h.createOrUpdate)(B,
a,f,q)};d.prototype.getTileCoordForXYAndZ_=function(a,f,l,t,q){var B=this.getOrigin(l),E=this.getResolution(l),z=(0,e.toSize)(this.getTileSize(l),this.tmpSize_);a=Math.floor((a-B[0])/E+(t?.5:0))/z[0];f=Math.floor((B[1]-f)/E+(t?.5:0))/z[1];t?(a=Math.ceil(a)-1,f=Math.ceil(f)-1):(a=Math.floor(a),f=Math.floor(f));return(0,h.createOrUpdate)(l,a,f,q)};d.prototype.getTileCoordForCoordAndZ=function(a,f,l){return this.getTileCoordForXYAndZ_(a[0],a[1],f,!1,l)};d.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};
d.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};d.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,a):null};d.prototype.getZForResolution=function(a,f){a=(0,c.linearFindNearest)(this.resolutions_,a,f||0);return(0,n.clamp)(a,this.minZoom,this.maxZoom)};d.prototype.calculateTileRanges_=function(a){for(var f=this.resolutions_.length,l=Array(f),t=this.minZoom;t<
f;++t)l[t]=this.getTileRangeForExtentAndZ(a,t);this.fullTileRanges_=l};return d}();r["default"]=S};
shadow$provide[271]=function(S,m,Y,r){function D(a){return a&&a.__esModule?a:{"default":a}}function C(a,f,l,t){t=void 0!==t?t:n["default"].TOP_LEFT;f=v(a,f,l);return new k["default"]({extent:a,origin:(0,b.getCorner)(a,t),resolutions:f,tileSize:l})}function v(a,f,l,t){f=void 0!==f?f:c.DEFAULT_MAX_ZOOM;var q=(0,b.getHeight)(a);a=(0,b.getWidth)(a);l=(0,d.toSize)(void 0!==l?l:c.DEFAULT_TILE_SIZE);t=0<t?t:Math.max(a/l[0],q/l[1]);f+=1;l=Array(f);for(q=0;q<f;++q)l[q]=t/Math.pow(2,q);return l}function w(a,
f,l,t){a=u(a);return C(a,f,l,t)}function u(a){a=(0,e.get)(a);var f=a.getExtent();f||(a=180*e.METERS_PER_UNIT[h["default"].DEGREES]/a.getMetersPerUnit(),f=(0,b.createOrUpdate)(-a,-a,a,a));return f}Object.defineProperty(r,"__esModule",{value:!0});r.getForProjection=function(a){var f=a.getDefaultTileGrid();f||(f=w(a),a.setDefaultTileGrid(f));return f};r.wrapX=function(a,f,l){var t=f[0],q=a.getTileCoordCenter(f);l=u(l);if((0,b.containsCoordinate)(l,q))return f;f=(0,b.getWidth)(l);q[0]+=f*Math.ceil((l[0]-
q[0])/f);return a.getTileCoordForCoordAndZ(q,t)};r.createForExtent=C;r.createXYZ=function(a){a=a||{};var f=a.extent||(0,e.get)("EPSG:3857").getExtent();a={extent:f,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:v(f,a.maxZoom,a.tileSize,a.maxResolution)};return new k["default"](a)};r.createForProjection=w;r.extentFromProjection=u;var n=D(m(81)),k=D(m(270)),h=D(m(123)),c=m(126),e=m(133),b=m(83),d=m(157)};
shadow$provide[272]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.TileSourceEvent=void 0;S=D(m(87));Y=D(m(241));var C=D(m(267)),v=D(m(120)),w=m(77),u=m(79),n=m(133),k=m(266),h=m(271),c=m(157),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};
return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a){var f=b.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX})||this;f.opaque_=void 0!==a.opaque?a.opaque:!1;f.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;f.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var l=[256,256],t=a.tileGrid;t&&
(0,c.toSize)(t.getTileSize(t.getMinZoom()),l);f.tileCache=new C["default"](a.cacheSize||0);f.tmpSize=[0,0];f.key_=a.key||"";f.tileOptions={transition:a.transition};f.zDirection=a.zDirection?a.zDirection:0;return f}e(d,b);d.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};d.prototype.expireCache=function(a,f){(a=this.getTileCacheForProjection(a))&&a.expireCache(f)};d.prototype.forEachLoadedTile=function(a,f,l,t){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var q=
!0,B,E,z=l.minX;z<=l.maxX;++z)for(var A=l.minY;A<=l.maxY;++A)B=(0,k.getKeyZXY)(f,z,A),E=!1,a.containsKey(B)&&(B=a.get(B),(E=B.getState()===v["default"].LOADED)&&(E=!1!==t(B))),E||(q=!1);return q};d.prototype.getGutterForProjection=function(a){return 0};d.prototype.getKey=function(){return this.key_};d.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};d.prototype.getOpaque=function(a){return this.opaque_};d.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};
d.prototype.getTile=function(a,f,l,t,q){return(0,w["abstract"])()};d.prototype.getTileGrid=function(){return this.tileGrid};d.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,h.getForProjection)(a)};d.prototype.getTileCacheForProjection=function(a){(0,u.assert)((0,n.equivalent)(this.getProjection(),a),68);return this.tileCache};d.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};d.prototype.getTilePixelSize=function(a,f,l){l=this.getTileGridForProjection(l);
f=this.getTilePixelRatio(f);a=(0,c.toSize)(l.getTileSize(a),this.tmpSize);return 1==f?a:(0,c.scale)(a,f,this.tmpSize)};d.prototype.getTileCoordForTileUrlFunction=function(a,f){f=void 0!==f?f:this.getProjection();var l=this.getTileGridForProjection(f);this.getWrapX()&&f.isGlobal()&&(a=(0,h.wrapX)(l,a,f));return(0,k.withinExtentAndZ)(a,l)?a:null};d.prototype.clear=function(){this.tileCache.clear()};d.prototype.refresh=function(){this.clear();b.prototype.refresh.call(this)};d.prototype.updateCacheSize=
function(a,f){f=this.getTileCacheForProjection(f);a>f.highWaterMark&&(f.highWaterMark=a)};d.prototype.useTile=function(a,f,l,t){};return d}(Y["default"]);S=function(b){function d(a,f){a=b.call(this,a)||this;a.tile=f;return a}e(d,b);return d}(S["default"]);r.TileSourceEvent=S;r["default"]=m};
shadow$provide[273]=function(S,m,Y,r){function D(n,k){var h=/\{z\}/g,c=/\{x\}/g,e=/\{y\}/g,b=/\{-y\}/g;return function(d,a,f){if(d)return n.replace(h,d[0].toString()).replace(c,d[1].toString()).replace(e,d[2].toString()).replace(b,function(){var l=k.getFullTileRange(d[0]);(0,v.assert)(l,55);return(l.getHeight()-d[2]-1).toString()})}}function C(n){return 1===n.length?n[0]:function(k,h,c){if(k){var e=(0,u.hash)(k);e=(0,w.modulo)(e,n.length);return n[e](k,h,c)}}}Object.defineProperty(r,"__esModule",
{value:!0});r.createFromTemplate=D;r.createFromTemplates=function(n,k){for(var h=n.length,c=Array(h),e=0;e<h;++e)c[e]=D(n[e],k);return C(c)};r.createFromTileUrlFunctions=C;r.nullTileUrlFunction=function(n,k,h){};r.expandUrl=function(n){var k=[],h=/\{([a-z])-([a-z])\}/.exec(n);if(h){for(var c=h[1].charCodeAt(0),e=h[2].charCodeAt(0);c<=e;++c)k.push(n.replace(h[0],String.fromCharCode(c)));return k}if(h=/\{(\d+)-(\d+)\}/.exec(n)){e=parseInt(h[2],10);for(c=parseInt(h[1],10);c<=e;c++)k.push(n.replace(h[0],
c.toString()));return k}k.push(n);return k};var v=m(79),w=m(84),u=m(266)};
shadow$provide[274]=function(S,m,Y,r){function D(b){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return D(b)}function C(){if("function"!==typeof WeakMap)return null;var b=new WeakMap;C=function(){return b};return b}function v(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
v(m(268)),u=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==D(b)&&"function"!==typeof b)return{"default":b};var d=C();if(d&&d.has(b))return d.get(b);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in b)if(Object.prototype.hasOwnProperty.call(b,l)){var t=f?Object.getOwnPropertyDescriptor(b,l):null;t&&(t.get||t.set)?Object.defineProperty(a,l,t):a[l]=b[l]}a["default"]=b;d&&d.set(b,a);return a}(m(272)),n=v(m(120)),k=m(273),h=m(266),c=m(77),e=function(){var b=
function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();S=function(b){function d(a){var f=b.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,
tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition,key:a.key,attributionsCollapsible:a.attributionsCollapsible,zDirection:a.zDirection})||this;f.generateTileUrlFunction_=f.tileUrlFunction===d.prototype.tileUrlFunction;f.tileLoadFunction=a.tileLoadFunction;a.tileUrlFunction&&(f.tileUrlFunction=a.tileUrlFunction);f.urls=null;a.urls?f.setUrls(a.urls):a.url&&f.setUrl(a.url);f.tileLoadingKeys_={};return f}e(d,b);d.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};
d.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};d.prototype.getUrls=function(){return this.urls};d.prototype.handleTileChange=function(a){a=a.target;var f=(0,c.getUid)(a),l=a.getState();if(l==n["default"].LOADING){this.tileLoadingKeys_[f]=!0;var t=w["default"].TILELOADSTART}else f in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[f],t=l==n["default"].ERROR?w["default"].TILELOADERROR:
l==n["default"].LOADED?w["default"].TILELOADEND:void 0);void 0!=t&&this.dispatchEvent(new u.TileSourceEvent(t,a))};d.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};d.prototype.setTileUrlFunction=function(a,f){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof f?this.setKey(f):this.changed()};d.prototype.setUrl=function(a){this.urls=a=(0,k.expandUrl)(a);this.setUrls(a)};d.prototype.setUrls=function(a){this.urls=
a;var f=a.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,k.createFromTemplates)(a,this.tileGrid),f):this.setKey(f)};d.prototype.tileUrlFunction=function(a,f,l){};d.prototype.useTile=function(a,f,l){a=(0,h.getKeyZXY)(a,f,l);this.tileCache.containsKey(a)&&this.tileCache.get(a)};return d}(u["default"]);r["default"]=S};
shadow$provide[275]=function(S,m,Y,r){function D(l){return l&&l.__esModule?l:{"default":l}}function C(l,t){l.getImage().src=t}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=D(m(91)),w=D(m(259)),u=D(m(264)),n=D(m(267)),k=D(m(120));S=D(m(274));var h=m(260),c=m(262),e=m(133),b=m(266),d=m(271),a=m(77),f=function(){var l=function(t,q){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,E){B.__proto__=E}||function(B,E){for(var z in E)Object.prototype.hasOwnProperty.call(E,
z)&&(B[z]=E[z])};return l(t,q)};return function(t,q){function B(){this.constructor=t}l(t,q);t.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}();m=function(l){function t(q){var B=l.call(this,{attributions:q.attributions,cacheSize:q.cacheSize,opaque:q.opaque,projection:q.projection,state:q.state,tileGrid:q.tileGrid,tileLoadFunction:q.tileLoadFunction?q.tileLoadFunction:C,tilePixelRatio:q.tilePixelRatio,tileUrlFunction:q.tileUrlFunction,url:q.url,urls:q.urls,wrapX:q.wrapX,transition:q.transition,
key:q.key,attributionsCollapsible:q.attributionsCollapsible,zDirection:q.zDirection})||this;B.crossOrigin=void 0!==q.crossOrigin?q.crossOrigin:null;B.tileClass=void 0!==q.tileClass?q.tileClass:w["default"];B.tileCacheForProjection={};B.tileGridForProjection={};B.reprojectionErrorThreshold_=q.reprojectionErrorThreshold;B.contextOptions_=!1===q.imageSmoothing?c.IMAGE_SMOOTHING_DISABLED:void 0;B.renderReprojectionEdges_=!1;return B}f(t,l);t.prototype.canExpireCache=function(){if(!h.ENABLE_RASTER_REPROJECTION)return l.prototype.canExpireCache.call(this);
if(this.tileCache.canExpireCache())return!0;for(var q in this.tileCacheForProjection)if(this.tileCacheForProjection[q].canExpireCache())return!0;return!1};t.prototype.expireCache=function(q,B){if(h.ENABLE_RASTER_REPROJECTION){q=this.getTileCacheForProjection(q);this.tileCache.expireCache(this.tileCache==q?B:{});for(var E in this.tileCacheForProjection){var z=this.tileCacheForProjection[E];z.expireCache(z==q?B:{})}}else l.prototype.expireCache.call(this,q,B)};t.prototype.getContextOptions=function(){return this.contextOptions_};
t.prototype.getGutterForProjection=function(q){return h.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&q&&!(0,e.equivalent)(this.getProjection(),q)?0:this.getGutter()};t.prototype.getGutter=function(){return 0};t.prototype.getKey=function(){return l.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")};t.prototype.getOpaque=function(q){return h.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&q&&!(0,e.equivalent)(this.getProjection(),q)?!1:l.prototype.getOpaque.call(this,
q)};t.prototype.getTileGridForProjection=function(q){if(!h.ENABLE_RASTER_REPROJECTION)return l.prototype.getTileGridForProjection.call(this,q);var B=this.getProjection();return!this.tileGrid||B&&!(0,e.equivalent)(B,q)?(B=(0,a.getUid)(q),B in this.tileGridForProjection||(this.tileGridForProjection[B]=(0,d.getForProjection)(q)),this.tileGridForProjection[B]):this.tileGrid};t.prototype.getTileCacheForProjection=function(q){if(!h.ENABLE_RASTER_REPROJECTION)return l.prototype.getTileCacheForProjection.call(this,
q);var B=this.getProjection();if(!B||(0,e.equivalent)(B,q))return this.tileCache;q=(0,a.getUid)(q);q in this.tileCacheForProjection||(this.tileCacheForProjection[q]=new n["default"](this.tileCache.highWaterMark));return this.tileCacheForProjection[q]};t.prototype.createTile_=function(q,B,E,z,A,p){q=[q,B,E];z=(B=this.getTileCoordForTileUrlFunction(q,A))?this.tileUrlFunction(B,z,A):void 0;z=new this.tileClass(q,void 0!==z?k["default"].IDLE:k["default"].EMPTY,void 0!==z?z:"",this.crossOrigin,this.tileLoadFunction,
this.tileOptions);z.key=p;z.addEventListener(v["default"].CHANGE,this.handleTileChange.bind(this));return z};t.prototype.getTile=function(q,B,E,z,A){var p=this.getProjection();if(h.ENABLE_RASTER_REPROJECTION&&p&&A&&!(0,e.equivalent)(p,A)){var y=this.getTileCacheForProjection(A),F=[q,B,E];q=void 0;B=(0,b.getKey)(F);y.containsKey(B)&&(q=y.get(B));E=this.getKey();if(q&&q.key==E)return q;var J=this.getTileGridForProjection(p),H=this.getTileGridForProjection(A),P=this.getTileCoordForTileUrlFunction(F,
A);z=new u["default"](p,J,A,H,F,P,this.getTilePixelRatio(z),this.getGutter(),function(K,N,M,O){return this.getTileInternal(K,N,M,O,p)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);z.key=E;q?(z.interimTile=q,z.refreshInterimChain(),y.replace(B,z)):y.set(B,z);return z}return this.getTileInternal(q,B,E,z,p||A)};t.prototype.getTileInternal=function(q,B,E,z,A){var p=(0,b.getKeyZXY)(q,B,E),y=this.getKey();if(this.tileCache.containsKey(p)){var F=this.tileCache.get(p);
if(F.key!=y){var J=F;F=this.createTile_(q,B,E,z,A,y);J.getState()==k["default"].IDLE?F.interimTile=J.interimTile:F.interimTile=J;F.refreshInterimChain();this.tileCache.replace(p,F)}}else F=this.createTile_(q,B,E,z,A,y),this.tileCache.set(p,F);return F};t.prototype.setRenderReprojectionEdges=function(q){if(h.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=q){this.renderReprojectionEdges_=q;for(var B in this.tileCacheForProjection)this.tileCacheForProjection[B].clear();this.changed()}};t.prototype.setTileGridForProjection=
function(q,B){h.ENABLE_RASTER_REPROJECTION&&(q=(0,e.get)(q))&&(q=(0,a.getUid)(q),q in this.tileGridForProjection||(this.tileGridForProjection[q]=B))};return t}(S["default"]);r["default"]=m};
shadow$provide[276]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.jsonp=function(C,v,w,u){function n(){delete window[h];k.parentNode.removeChild(k)}var k=document.createElement("script"),h="olc_"+(0,D.getUid)(v);k.async=!0;k.src=C+(-1==C.indexOf("?")?"?":"\x26")+(u||"callback")+"\x3d"+h;var c=setTimeout(function(){n();w&&w()},1E4);window[h]=function(e){clearTimeout(c);n();v(e)};document.getElementsByTagName("head")[0].appendChild(k)};var D=m(77)};
shadow$provide[277]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}function C(b){var d=b[0],a=Array(d),f=1<<d-1,l;for(l=0;l<d;++l){var t=48;b[1]&f&&(t+=1);b[2]&f&&(t+=2);a[l]=String.fromCharCode(t);f>>=1}return a.join("")}Object.defineProperty(r,"__esModule",{value:!0});r.quadKey=C;r["default"]=void 0;var v=D(m(98));S=D(m(275));var w=m(83),u=m(273),n=m(266),k=m(271),h=m(133),c=m(276),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a){var f=void 0!==a.hidpi?a.hidpi:!1;var l=b.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",imageSmoothing:a.imageSmoothing,opaque:!0,projection:(0,h.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,
state:v["default"].LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:f?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})||this;l.hidpi_=f;l.culture_=void 0!==a.culture?a.culture:"en-us";l.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;l.apiKey_=a.key;l.imagerySet_=a.imagerySet;a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+l.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+l.apiKey_+"\x26c\x3d"+l.culture_;(0,c.jsonp)(a,l.handleImageryMetadataResponse.bind(l),
void 0,"jsonp");return l}e(d,b);d.prototype.getApiKey=function(){return this.apiKey_};d.prototype.getImagerySet=function(){return this.imagerySet_};d.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(v["default"].ERROR);else{var f=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?f.zoomMax:this.maxZoom_;var l=this.getProjection();
l=(0,k.extentFromProjection)(l);var t=this.hidpi_?2:1;t=f.imageWidth==f.imageHeight?f.imageWidth/t:[f.imageWidth/t,f.imageHeight/t];this.tileGrid=(0,k.createXYZ)({extent:l,minZoom:f.zoomMin,maxZoom:a,tileSize:t});var q=this.culture_,B=this.hidpi_;this.tileUrlFunction=(0,u.createFromTileUrlFunctions)(f.imageUrlSubdomains.map(function(z){var A=[0,0,0],p=f.imageUrl.replace("{subdomain}",z).replace("{culture}",q);return function(y,F,J){if(y)return(0,n.createOrUpdate)(y[0],y[1],y[2],A),y=p,B&&(y+="\x26dpi\x3dd1\x26device\x3dmobile"),
y.replace("{quadkey}",C(A))}}));if(f.imageryProviders){var E=(0,h.getTransformFromProjections)((0,h.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(z){var A=[],p=z.viewState,y=this.getTileGrid(),F=y.getZForResolution(p.resolution,this.zDirection),J=y.getTileCoordForCoordAndZ(p.center,F)[0];f.imageryProviders.map(function(H){for(var P=!1,K=H.coverageAreas,N=0,M=K.length;N<M;++N){var O=K[N];if(J>=O.zoomMin&&J<=O.zoomMax&&(O=O.bbox,O=[O[1],O[0],O[3],O[2]],O=(0,w.applyTransform)(O,
E),(0,w.intersects)(O,z.extent))){P=!0;break}}P&&A.push(H.attribution)});A.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return A}.bind(this))}this.setState(v["default"].READY)}};return d}(S["default"]);r["default"]=m};
shadow$provide[278]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(v){return v&&v.__esModule?v:{"default":v}}(m(275));var D=m(271),C=function(){var v=function(w,u){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,k){n.__proto__=k}||function(n,k){for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(n[h]=k[h])};return v(w,u)};return function(w,u){function n(){this.constructor=w}v(w,u);w.prototype=null===u?Object.create(u):(n.prototype=
u.prototype,new n)}}();m=function(v){function w(u){u=u||{};var n=void 0!==u.projection?u.projection:"EPSG:3857",k=void 0!==u.tileGrid?u.tileGrid:(0,D.createXYZ)({extent:(0,D.extentFromProjection)(n),maxResolution:u.maxResolution,maxZoom:u.maxZoom,minZoom:u.minZoom,tileSize:u.tileSize});return v.call(this,{attributions:u.attributions,cacheSize:u.cacheSize,crossOrigin:u.crossOrigin,imageSmoothing:u.imageSmoothing,opaque:u.opaque,projection:n,reprojectionErrorThreshold:u.reprojectionErrorThreshold,tileGrid:k,
tileLoadFunction:u.tileLoadFunction,tilePixelRatio:u.tilePixelRatio,tileUrlFunction:u.tileUrlFunction,url:u.url,urls:u.urls,wrapX:void 0!==u.wrapX?u.wrapX:!0,transition:u.transition,attributionsCollapsible:u.attributionsCollapsible,zDirection:u.zDirection})||this}C(w,v);return w}(S["default"]);r["default"]=m};
shadow$provide[279]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(98));S=D(m(278));var v=m(89),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){var h=u.call(this,{attributions:k.attributions,cacheSize:k.cacheSize,crossOrigin:k.crossOrigin,maxZoom:void 0!==k.maxZoom?k.maxZoom:18,minZoom:k.minZoom,projection:k.projection,transition:k.transition,wrapX:k.wrapX})||this;h.account_=k.account;h.mapId_=k.map||"";h.config_=k.config||{};h.templateCache_={};h.initializeMap_();return h}w(n,u);n.prototype.getConfig=function(){return this.config_};n.prototype.updateConfig=function(k){(0,v.assign)(this.config_,
k);this.initializeMap_()};n.prototype.setConfig=function(k){this.config_=k||{};this.initializeMap_()};n.prototype.initializeMap_=function(){var k=JSON.stringify(this.config_);if(this.templateCache_[k])this.applyTemplate_(this.templateCache_[k]);else{var h="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(h+="/named/"+this.mapId_);var c=new XMLHttpRequest;c.addEventListener("load",this.handleInitResponse_.bind(this,k));c.addEventListener("error",this.handleInitError_.bind(this));c.open("POST",
h);c.setRequestHeader("Content-type","application/json");c.send(JSON.stringify(this.config_))}};n.prototype.handleInitResponse_=function(k,h){h=h.target;if(!h.status||200<=h.status&&300>h.status){var c=void 0;try{c=JSON.parse(h.responseText)}catch(e){this.setState(C["default"].ERROR);return}this.applyTemplate_(c);this.templateCache_[k]=c;this.setState(C["default"].READY)}else this.setState(C["default"].ERROR)};n.prototype.handleInitError_=function(k){this.setState(C["default"].ERROR)};n.prototype.applyTemplate_=
function(k){this.setUrl("https://"+k.cdn_url.https+"/"+this.account_+"/api/v1/map/"+k.layergroupid+"/{z}/{x}/{y}.png")};return n}(S["default"]);r["default"]=m};
shadow$provide[280]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(91)),v=D(m(193)),w=D(m(122)),u=D(m(148));S=D(m(245));var n=m(101),k=m(79),h=m(83),c=m(77),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=
d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a){var f=b.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;f.resolution=void 0;f.distance=void 0!==a.distance?a.distance:20;f.features=[];f.geometryFunction=a.geometryFunction||function(l){l=l.getGeometry();(0,k.assert)(l.getType()==w["default"].POINT,10);return l};f.boundRefresh_=f.refresh.bind(f);f.setSource(a.source||null);return f}e(d,b);d.prototype.clear=function(a){this.features.length=
0;b.prototype.clear.call(this,a)};d.prototype.getDistance=function(){return this.distance};d.prototype.getSource=function(){return this.source};d.prototype.loadFeatures=function(a,f,l){this.source.loadFeatures(a,f,l);f!==this.resolution&&(this.clear(),this.resolution=f,this.cluster(),this.addFeatures(this.features))};d.prototype.setDistance=function(a){this.distance=a;this.refresh()};d.prototype.setSource=function(a){this.source&&this.source.removeEventListener(C["default"].CHANGE,this.boundRefresh_);
(this.source=a)&&a.addEventListener(C["default"].CHANGE,this.boundRefresh_);this.refresh()};d.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features)};d.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,h.createEmpty)(),f=this.distance*this.resolution,l=this.source.getFeatures(),t={},q=0,B=l.length;q<B;q++){var E=l[q];(0,c.getUid)(E)in t||!(E=this.geometryFunction(E))||(E=E.getCoordinates(),(0,h.createOrUpdateFromCoordinate)(E,a),(0,
h.buffer)(a,f,a),E=this.source.getFeaturesInExtent(a),E=E.filter(function(z){z=(0,c.getUid)(z);return z in t?!1:t[z]=!0}),this.features.push(this.createCluster(E)))}};d.prototype.createCluster=function(a){for(var f=[0,0],l=a.length-1;0<=l;--l){var t=this.geometryFunction(a[l]);t?(0,n.add)(f,t.getCoordinates()):a.splice(l,1)}(0,n.scale)(f,1/a.length);f=new v["default"](new u["default"](f));f.set("features",a);return f};return d}(S["default"]);r["default"]=m};
shadow$provide[281]=function(S,m,Y,r){function D(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.CustomTile=void 0;var C=m(126);S=D(m(259));var v=D(m(270));Y=D(m(275));var w=D(m(120)),u=m(79),n=m(106),k=m(273),h=m(83),c=m(157),e=function(){var d=function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,t){l.__proto__=t}||function(l,t){for(var q in t)Object.prototype.hasOwnProperty.call(t,q)&&(l[q]=t[q])};return d(a,
f)};return function(a,f){function l(){this.constructor=a}d(a,f);a.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)}}(),b=function(d){function a(f,l,t,q,B,E,z){l=d.call(this,l,t,q,B,E,z)||this;l.zoomifyImage_=null;l.tileSize_=f;return l}e(a,d);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var f=d.prototype.getImage.call(this);if(this.state==w["default"].LOADED){var l=this.tileSize_;if(f.width==l[0]&&f.height==l[1])return this.zoomifyImage_=f;l=(0,
n.createCanvasContext2D)(l[0],l[1]);l.drawImage(f,0,0);return this.zoomifyImage_=l.canvas}return f};return a}(S["default"]);r.CustomTile=b;m=function(d){function a(f){var l=this,t=f.size;l=f.tilePixelRatio||1;var q=t[0],B=t[1],E=[],z=f.tileSize||C.DEFAULT_TILE_SIZE;t=z*l;switch(void 0!==f.tierSizeCalculation?f.tierSizeCalculation:"default"){case "default":for(;q>t||B>t;)E.push([Math.ceil(q/t),Math.ceil(B/t)]),t+=t;break;case "truncated":for(var A=q,p=B;A>t||p>t;)E.push([Math.ceil(A/t),Math.ceil(p/
t)]),A>>=1,p>>=1;break;default:(0,u.assert)(!1,53)}E.push([1,1]);E.reverse();t=[l];var y=[0];A=1;for(p=E.length;A<p;A++)t.push(l<<A),y.push(E[A-1][0]*E[A-1][1]+y[A-1]);t.reverse();q=new v["default"]({tileSize:z,extent:f.extent||[0,-B,q,0],resolutions:t});(B=f.url)&&-1==B.indexOf("{TileGroup}")&&-1==B.indexOf("{tileIndex}")&&(B+="{TileGroup}/{z}-{x}-{y}.jpg");B=(0,k.expandUrl)(B);var F=z*l;B=(0,k.createFromTileUrlFunctions)(B.map(function(J){return function(H,P,K){if(H){P=H[0];K=H[1];H=H[2];var N=
K+H*E[P][0],M={z:P,x:K,y:H,tileIndex:N,TileGroup:"TileGroup"+((N+y[P])/F|0)};return J.replace(/\{(\w+?)\}/g,function(O,Q){return M[Q]})}}}));A=b.bind(null,(0,c.toSize)(z*l));l=d.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:f.projection,tilePixelRatio:l,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:A,tileGrid:q,tileUrlFunction:B,transition:f.transition})||this;l.zDirection=f.zDirection;f=q.getTileCoordForCoordAndResolution((0,
h.getCenter)(q.getExtent()),t[t.length-1]);f=B(f,1,null);t=new Image;t.addEventListener("error",function(){F=z;this.changed()}.bind(l));t.src=f;return l}e(a,d);return a}(Y["default"]);r["default"]=m};
shadow$provide[282]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.Versions=void 0;var D=m(79),C=function(){for(var c=0,e=0,b=arguments.length;e<b;e++)c+=arguments[e].length;c=Array(c);var d=0;for(e=0;e<b;e++)for(var a=arguments[e],f=0,l=a.length;f<l;f++,d++)c[d]=a[f];return c},v={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};r.Versions=v;var w={};w[v.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW",
"sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};w[v.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};w[v.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};w.none={none:{supports:[],formats:[],qualities:[]}};var u=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
n=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,k=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,h={};h[v.VERSION1]=function(c){var e=c.getComplianceLevelSupportedFeatures();void 0===e&&(e=w[v.VERSION1].level0);return{url:void 0===c.imageInfo["@id"]?void 0:c.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:C(e.formats,[void 0===c.imageInfo.formats?[]:c.imageInfo.formats]),qualities:C(e.qualities,[void 0===c.imageInfo.qualities?
[]:c.imageInfo.qualities]),resolutions:c.imageInfo.scale_factors,tileSize:void 0!==c.imageInfo.tile_width?void 0!==c.imageInfo.tile_height?[c.imageInfo.tile_width,c.imageInfo.tile_height]:[c.imageInfo.tile_width,c.imageInfo.tile_width]:void 0!=c.imageInfo.tile_height?[c.imageInfo.tile_height,c.imageInfo.tile_height]:void 0}};h[v.VERSION2]=function(c){var e=c.getComplianceLevelSupportedFeatures(),b=Array.isArray(c.imageInfo.profile)&&1<c.imageInfo.profile.length,d=b&&c.imageInfo.profile[1].supports?
c.imageInfo.profile[1].supports:[],a=b&&c.imageInfo.profile[1].formats?c.imageInfo.profile[1].formats:[];b=b&&c.imageInfo.profile[1].qualities?c.imageInfo.profile[1].qualities:[];return{url:c.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===c.imageInfo.sizes?void 0:c.imageInfo.sizes.map(function(f){return[f.width,f.height]}),tileSize:void 0===c.imageInfo.tiles?void 0:[c.imageInfo.tiles.map(function(f){return f.width})[0],c.imageInfo.tiles.map(function(f){return void 0===f.height?
f.width:f.height})[0]],resolutions:void 0===c.imageInfo.tiles?void 0:c.imageInfo.tiles.map(function(f){return f.scaleFactors})[0],supports:C(e.supports,d),formats:C(e.formats,a),qualities:C(e.qualities,b)}};h[v.VERSION3]=function(c){var e=c.getComplianceLevelSupportedFeatures(),b=void 0===c.imageInfo.extraFormats?e.formats:C(e.formats,c.imageInfo.extraFormats),d=void 0!==c.imageInfo.preferredFormats&&Array.isArray(c.imageInfo.preferredFormats)&&0<c.imageInfo.preferredFormats.length?c.imageInfo.preferredFormats.filter(function(a){return["jpg",
"png","gif"].includes(a)}).reduce(function(a,f){return void 0===a&&b.includes(f)?f:a},void 0):void 0;return{url:c.imageInfo.id,sizes:void 0===c.imageInfo.sizes?void 0:c.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:void 0===c.imageInfo.tiles?void 0:[c.imageInfo.tiles.map(function(a){return a.width})[0],c.imageInfo.tiles.map(function(a){return a.height})[0]],resolutions:void 0===c.imageInfo.tiles?void 0:c.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:void 0===
c.imageInfo.extraFeatures?e.supports:C(e.supports,c.imageInfo.extraFeatures),formats:b,qualities:void 0===c.imageInfo.extraQualities?e.qualities:C(e.qualities,c.imageInfo.extraQualities),preferredFormat:d}};S=function(){function c(e){this.setImageInfo(e)}c.prototype.setImageInfo=function(e){this.imageInfo="string"==typeof e?JSON.parse(e):e};c.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var e=this.imageInfo["@context"]||"ol-no-context";"string"==typeof e&&(e=[e]);for(var b=
0;b<e.length;b++)switch(e[b]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return v.VERSION1;case "http://iiif.io/api/image/2/context.json":return v.VERSION2;case "http://iiif.io/api/image/3/context.json":return v.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(v.VERSION1)&&this.imageInfo.identifier)return v.VERSION1}(0,D.assert)(!1,61)}};c.prototype.getComplianceLevelEntryFromProfile=function(e){if(void 0!==
this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===e&&(e=this.getImageApiVersion()),e){case v.VERSION1:if(u.test(this.imageInfo.profile))return this.imageInfo.profile;break;case v.VERSION3:if(k.test(this.imageInfo.profile))return this.imageInfo.profile;break;case v.VERSION2:if("string"===typeof this.imageInfo.profile&&n.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&
n.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};c.prototype.getComplianceLevelFromProfile=function(e){e=this.getComplianceLevelEntryFromProfile(e);if(void 0!==e)return e=e.match(/level[0-2](?:\.json)?$/g),Array.isArray(e)?e[0].replace(".json",""):void 0};c.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var e=this.getImageApiVersion(),b=this.getComplianceLevelFromProfile(e);return void 0===b?w.none.none:w[e][b]}};c.prototype.getTileSourceOptions=
function(e){e=e||{};var b=this.getImageApiVersion();if(void 0!==b){var d=void 0===b?void 0:h[b](this);if(void 0!==d)return{url:d.url,version:b,size:[this.imageInfo.width,this.imageInfo.height],sizes:d.sizes,format:void 0!==e.format&&d.formats.includes(e.format)?e.format:void 0!==d.preferredFormat?d.preferredFormat:"jpg",supports:d.supports,quality:e.quality&&d.qualities.includes(e.quality)?e.quality:d.qualities.includes("native")?"native":"default",resolutions:Array.isArray(d.resolutions)?d.resolutions.sort(function(a,
f){return f-a}):void 0,tileSize:d.tileSize}}};return c}();r["default"]=S};
shadow$provide[283]=function(S,m,Y,r){function D(b){return b&&b.__esModule?b:{"default":b}}function C(b){return b.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var v=D(m(270));S=D(m(275));var w=m(281),u=m(126),n=m(282),k=m(79),h=m(83),c=m(157),e=function(){var b=function(d,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,
t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();m=function(b){function d(a){var f=this;a=a||{};var l=a.url||"";l+=l.lastIndexOf("/")===l.length-1||""===l?"":"/";var t=a.version||n.Versions.VERSION2,q=a.sizes||[];f=a.size;(0,k.assert)(void 0!=f&&Array.isArray(f)&&2==f.length&&!isNaN(f[0])&&0<f[0]&&!isNaN(f[1])&&0<f[1],60);var B=f[0],E=f[1];f=a.tileSize;var z=a.tilePixelRatio||1,A=a.format||
"jpg",p=a.quality||(a.version==n.Versions.VERSION1?"native":"default"),y=a.resolutions||[],F=a.supports||[],J=a.extent||[0,-E,B,0],H=void 0!=q&&Array.isArray(q)&&0<q.length,P=void 0!==f&&("number"===typeof f&&Number.isInteger(f)&&0<f||Array.isArray(f)&&0<f.length),K=void 0!=F&&Array.isArray(F)&&(F.includes("regionByPx")||F.includes("regionByPct"))&&(F.includes("sizeByWh")||F.includes("sizeByH")||F.includes("sizeByW")||F.includes("sizeByPct")),N,M;y.sort(function(T,V){return V-T});if(P||K){if(void 0!=
f)if("number"===typeof f&&Number.isInteger(f)&&0<f)var O=N=f;else if(Array.isArray(f)&&0<f.length){if(1==f.length||void 0==f[1]&&Number.isInteger(f[0]))N=f[0],O=f[0];2==f.length&&(Number.isInteger(f[0])&&Number.isInteger(f[1])?(N=f[0],O=f[1]):void 0==f[0]&&Number.isInteger(f[1])&&(N=f[1],O=f[1]))}if(void 0===N||void 0===O)O=N=u.DEFAULT_TILE_SIZE;if(0==y.length)for(var Q=M=Math.max(Math.ceil(Math.log(B/N)/Math.LN2),Math.ceil(Math.log(E/O)/Math.LN2));0<=Q;Q--)y.push(Math.pow(2,Q));else Q=Math.max.apply(Math,
y),M=Math.round(Math.log(Q)/Math.LN2)}else if(N=B,O=E,y=[],H){q.sort(function(T,V){return T[0]-V[0]});M=-1;var G=[];for(Q=0;Q<q.length;Q++){var L=B/q[Q][0];0<y.length&&y[y.length-1]==L?G.push(Q):(y.push(L),M++)}if(0<G.length)for(Q=0;Q<G.length;Q++)q.splice(G[Q]-Q,1)}else y.push(1),q.push([B,E]),M=0;J=new v["default"]({tileSize:[N,O],extent:J,origin:(0,h.getTopLeft)(J),resolutions:y});f=w.CustomTile.bind(null,(0,c.toSize)(f||256).map(function(T){return T*z}));f=b.call(this,{attributions:a.attributions,
attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,imageSmoothing:a.imageSmoothing,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:a.state,tileClass:f,tileGrid:J,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:function(T,V,X){var aa;V=T[0];if(!(V>M)){X=T[1];var ba=T[2];T=y[V];if(!(void 0===X||void 0===ba||void 0===T||0>X||Math.ceil(B/T/N)<=X||0>ba||Math.ceil(E/T/O)<=ba)){if(K||P){var fa=X*N*T,ka=ba*O*T,ha=N*T;ba=
O*T;V=N;X=O;fa+ha>B&&(ha=B-fa);ka+ba>E&&(ba=E-ka);fa+N*T>B&&(V=Math.floor((B-fa+T-1)/T));ka+O*T>E&&(X=Math.floor((E-ka+T-1)/T));if(0==fa&&ha==B&&0==ka&&ba==E)var ma="full";else!K||F.includes("regionByPx")?ma=fa+","+ka+","+ha+","+ba:F.includes("regionByPct")&&(ma=C(fa/B*100),fa=C(ka/E*100),ha=C(ha/B*100),ba=C(ba/E*100),ma="pct:"+ma+","+fa+","+ha+","+ba);t!=n.Versions.VERSION3||K&&!F.includes("sizeByWh")?!K||F.includes("sizeByW")?aa=V+",":F.includes("sizeByH")?aa=","+X:F.includes("sizeByWh")?aa=V+","+
X:F.includes("sizeByPct")&&(aa="pct:"+C(100/T)):aa=V+","+X}else ma="full",H?(aa=q[V][0],T=q[V][1],aa=t==n.Versions.VERSION3?aa==B&&T==E?"max":aa+","+T:aa==B?"full":aa+","):aa=t==n.Versions.VERSION3?"max":"full";return l+ma+"/"+aa+"/0/"+p+"."+A}}},transition:a.transition})||this;f.zDirection=a.zDirection;return f}e(d,b);return d}(S["default"]);r["default"]=m};
shadow$provide[284]=function(S,m,Y,r){function D(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=m(260),v=D(m(91));S=D(m(230));var w=D(m(202)),u=D(m(261)),n=m(263),k=m(83),h=m(92),c=function(){var e=function(b,d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=
b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();m=function(e){function b(d,a,f,l,t,q,B){var E,z=d.getExtent(),A=(E=a.getExtent())?(0,k.getIntersection)(f,E):f;E=(0,k.getCenter)(A);E=(0,n.calculateSourceResolution)(d,a,E,l);d=new u["default"](d,a,A,z,E*C.ERROR_THRESHOLD,l);A=d.calculateSourceExtent();E=(t=q(A,E,t))?w["default"].IDLE:w["default"].EMPTY;q=t?t.getPixelRatio():1;E=e.call(this,f,l,q,E)||this;E.targetProj_=a;E.maxSourceExtent_=z;E.triangulation_=d;E.targetResolution_=
l;E.targetExtent_=f;E.sourceImage_=t;E.sourcePixelRatio_=q;E.contextOptions_=B;E.canvas_=null;E.sourceListenerKey_=null;return E}c(b,e);b.prototype.disposeInternal=function(){this.state==w["default"].LOADING&&this.unlistenSource_();e.prototype.disposeInternal.call(this)};b.prototype.getImage=function(){return this.canvas_};b.prototype.getProjection=function(){return this.targetProj_};b.prototype.reproject_=function(){var d=this.sourceImage_.getState();if(d==w["default"].LOADED){var a=(0,k.getWidth)(this.targetExtent_)/
this.targetResolution_,f=(0,k.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,n.render)(a,f,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=d;this.changed()};b.prototype.load=function(){if(this.state==w["default"].IDLE){this.state=w["default"].LOADING;this.changed();var d=
this.sourceImage_.getState();d==w["default"].LOADED||d==w["default"].ERROR?this.reproject_():(this.sourceListenerKey_=(0,h.listen)(this.sourceImage_,v["default"].CHANGE,function(a){a=this.sourceImage_.getState();if(a==w["default"].LOADED||a==w["default"].ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};b.prototype.unlistenSource_=function(){(0,h.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null};return b}(S["default"]);r["default"]=m};
shadow$provide[285]=function(S,m,Y,r){function D(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(r,"__esModule",{value:!0});r.defaultImageLoadFunction=function(a,f){a.getImage().src=f};r["default"]=r.ImageSourceEvent=r.ImageSourceEventType=void 0;S=D(m(87));var C=D(m(202)),v=D(m(284));Y=D(m(241));var w=m(260),u=m(262),n=m(77),k=m(83),h=m(133),c=m(75),e=function(){var a=function(f,l){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,q){t.__proto__=q}||function(t,q){for(var B in q)Object.prototype.hasOwnProperty.call(q,
B)&&(t[B]=q[B])};return a(f,l)};return function(f,l){function t(){this.constructor=f}a(f,l);f.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)}}(),b={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};r.ImageSourceEventType=b;var d=function(a){function f(l,t){l=a.call(this,l)||this;l.image=t;return l}e(f,a);return f}(S["default"]);r.ImageSourceEvent=d;m=function(a){function f(l){var t=a.call(this,{attributions:l.attributions,projection:l.projection,
state:l.state})||this;t.resolutions_=void 0!==l.resolutions?l.resolutions:null;t.reprojectedImage_=null;t.reprojectedRevision_=0;t.contextOptions_=!1===l.imageSmoothing?u.IMAGE_SMOOTHING_DISABLED:void 0;return t}e(f,a);f.prototype.getResolutions=function(){return this.resolutions_};f.prototype.getContextOptions=function(){return this.contextOptions_};f.prototype.findNearestResolution=function(l){this.resolutions_&&(l=(0,c.linearFindNearest)(this.resolutions_,l,0),l=this.resolutions_[l]);return l};
f.prototype.getImage=function(l,t,q,B){var E=this.getProjection();if(w.ENABLE_RASTER_REPROJECTION&&E&&B&&!(0,h.equivalent)(E,B)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,h.equivalent)(this.reprojectedImage_.getProjection(),B)&&this.reprojectedImage_.getResolution()==t&&(0,k.equals)(this.reprojectedImage_.getExtent(),l))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new v["default"](E,B,l,t,q,
function(z,A,p){return this.getImageInternal(z,A,p,E)}.bind(this),this.contextOptions_);this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}E&&(B=E);return this.getImageInternal(l,t,q,B)};f.prototype.getImageInternal=function(l,t,q,B){return(0,n["abstract"])()};f.prototype.handleImageChange=function(l){l=l.target;switch(l.getState()){case C["default"].LOADING:this.loading=!0;this.dispatchEvent(new d(b.IMAGELOADSTART,l));break;case C["default"].LOADED:this.loading=!1;this.dispatchEvent(new d(b.IMAGELOADEND,
l));break;case C["default"].ERROR:this.loading=!1,this.dispatchEvent(new d(b.IMAGELOADERROR,l))}};return f}(Y["default"]);r["default"]=m};
shadow$provide[286]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.appendParams=function(D,C){var v=[];Object.keys(C).forEach(function(u){null!==C[u]&&void 0!==C[u]&&v.push(u+"\x3d"+encodeURIComponent(C[u]))});var w=v.join("\x26");D=D.replace(/[?&]$/,"");D=-1===D.indexOf("?")?D+"?":D+"\x26";return D+w}};
shadow$provide[287]=function(S,m,Y,r){function D(d){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return D(d)}function C(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;C=function(){return d};return d}function v(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
v(m(91)),u=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==D(d)&&"function"!==typeof d)return{"default":d};var a=C();if(a&&a.has(d))return a.get(d);var f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in d)if(Object.prototype.hasOwnProperty.call(d,t)){var q=l?Object.getOwnPropertyDescriptor(d,t):null;q&&(q.get||q.set)?Object.defineProperty(f,t,q):f[t]=d[t]}f["default"]=d;a&&a.set(d,f);return f}(m(285)),n=v(m(231)),k=m(286),h=m(79),c=m(89),e=m(83),b=function(){var d=
function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,t){l.__proto__=t}||function(l,t){for(var q in t)Object.prototype.hasOwnProperty.call(t,q)&&(l[q]=t[q])};return d(a,f)};return function(a,f){function l(){this.constructor=a}d(a,f);a.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)}}();S=function(d){function a(f){var l=f?f:{};f=d.call(this,{attributions:l.attributions,imageSmoothing:l.imageSmoothing,projection:l.projection,resolutions:l.resolutions})||
this;f.crossOrigin_=void 0!==l.crossOrigin?l.crossOrigin:null;f.hidpi_=void 0!==l.hidpi?l.hidpi:!0;f.url_=l.url;f.imageLoadFunction_=void 0!==l.imageLoadFunction?l.imageLoadFunction:u.defaultImageLoadFunction;f.params_=l.params||{};f.image_=null;f.imageSize_=[0,0];f.renderedRevision_=0;f.ratio_=void 0!==l.ratio?l.ratio:1.5;return f}b(a,d);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(f,l,t,q){if(void 0===this.url_)return null;l=this.findNearestResolution(l);
t=this.hidpi_?t:1;var B=this.image_;if(B&&this.renderedRevision_==this.getRevision()&&B.getResolution()==l&&B.getPixelRatio()==t&&(0,e.containsExtent)(B.getExtent(),f))return B;B={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,c.assign)(B,this.params_);f=f.slice();var E=(f[0]+f[2])/2,z=(f[1]+f[3])/2;if(1!=this.ratio_){var A=this.ratio_*(0,e.getWidth)(f)/2,p=this.ratio_*(0,e.getHeight)(f)/2;f[0]=E-A;f[1]=z-p;f[2]=E+A;f[3]=z+p}A=l/t;p=Math.ceil((0,e.getWidth)(f)/A);var y=Math.ceil((0,e.getHeight)(f)/A);
f[0]=E-A*p/2;f[2]=E+A*p/2;f[1]=z-A*y/2;f[3]=z+A*y/2;this.imageSize_[0]=p;this.imageSize_[1]=y;q=this.getRequestUrl_(f,this.imageSize_,t,q,B);this.image_=new n["default"](f,l,t,q,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(w["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.getRequestUrl_=function(f,l,t,q,B){q=q.getCode().split(":").pop();
B.SIZE=l[0]+","+l[1];B.BBOX=f.join(",");B.BBOXSR=q;B.IMAGESR=q;B.DPI=Math.round(90*t);f=this.url_;l=f.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");l==f&&(0,h.assert)(!1,50);return(0,k.appendParams)(l,B)};a.prototype.getUrl=function(){return this.url_};a.prototype.setImageLoadFunction=function(f){this.image_=null;this.imageLoadFunction_=f;this.changed()};a.prototype.setUrl=function(f){f!=this.url_&&(this.url_=f,this.image_=null,this.changed())};a.prototype.updateParams=
function(f){(0,c.assign)(this.params_,f);this.image_=null;this.changed()};return a}(u["default"]);r["default"]=S};
shadow$provide[288]=function(S,m,Y,r){function D(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(230));var C=D(m(202)),v=function(){var w=function(u,n){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])};return w(u,n)};return function(u,n){function k(){this.constructor=u}w(u,n);u.prototype=null===n?Object.create(n):
(k.prototype=n.prototype,new k)}}();m=function(w){function u(n,k,h,c,e){n=w.call(this,n,k,h,void 0!==e?C["default"].IDLE:C["default"].LOADED)||this;n.loader_=void 0!==e?e:null;n.canvas_=c;n.error_=null;return n}v(u,w);u.prototype.getError=function(){return this.error_};u.prototype.handleLoad_=function(n){n?(this.error_=n,this.state=C["default"].ERROR):this.state=C["default"].LOADED;this.changed()};u.prototype.load=function(){this.state==C["default"].IDLE&&(this.state=C["default"].LOADING,this.changed(),
this.loader_(this.handleLoad_.bind(this)))};u.prototype.getImage=function(){return this.canvas_};return u}(S["default"]);r["default"]=m};
shadow$provide[289]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(288));S=D(m(285));var v=m(83),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?
Object.create(k):(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){var h=k?k:{};k=u.call(this,{attributions:h.attributions,imageSmoothing:h.imageSmoothing,projection:h.projection,resolutions:h.resolutions,state:h.state})||this;k.canvasFunction_=h.canvasFunction;k.canvas_=null;k.renderedRevision_=0;k.ratio_=void 0!==h.ratio?h.ratio:1.5;return k}w(n,u);n.prototype.getImageInternal=function(k,h,c,e){h=this.findNearestResolution(h);var b=this.canvas_;if(b&&this.renderedRevision_==this.getRevision()&&
b.getResolution()==h&&b.getPixelRatio()==c&&(0,v.containsExtent)(b.getExtent(),k))return b;k=k.slice();(0,v.scaleFromCenter)(k,this.ratio_);var d=(0,v.getWidth)(k)/h,a=(0,v.getHeight)(k)/h;(e=this.canvasFunction_.call(this,k,h,c,[d*c,a*c],e))&&(b=new C["default"](k,h,c,e));this.canvas_=b;this.renderedRevision_=this.getRevision();return b};return n}(S["default"]);r["default"]=m};
shadow$provide[290]=function(S,m,Y,r){function D(b){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return D(b)}function C(){if("function"!==typeof WeakMap)return null;var b=new WeakMap;C=function(){return b};return b}function v(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
v(m(91)),u=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==D(b)&&"function"!==typeof b)return{"default":b};var d=C();if(d&&d.has(b))return d.get(b);var a={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in b)if(Object.prototype.hasOwnProperty.call(b,l)){var t=f?Object.getOwnPropertyDescriptor(b,l):null;t&&(t.get||t.set)?Object.defineProperty(a,l,t):a[l]=b[l]}a["default"]=b;d&&d.set(b,a);return a}(m(285)),n=v(m(231)),k=m(286),h=m(89),c=m(83),e=function(){var b=function(d,
a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t])};return b(d,a)};return function(d,a){function f(){this.constructor=d}b(d,a);d.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}();S=function(b){function d(a){var f=b.call(this,{imageSmoothing:a.imageSmoothing,projection:a.projection,resolutions:a.resolutions})||this;f.crossOrigin_=void 0!==a.crossOrigin?a.crossOrigin:
null;f.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96;f.params_=a.params||{};f.url_=a.url;f.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:u.defaultImageLoadFunction;f.hidpi_=void 0!==a.hidpi?a.hidpi:!0;f.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1;f.ratio_=void 0!==a.ratio?a.ratio:1;f.useOverlay_=void 0!==a.useOverlay?a.useOverlay:!1;f.image_=null;f.renderedRevision_=0;return f}e(d,b);d.prototype.getParams=function(){return this.params_};d.prototype.getImageInternal=
function(a,f,l,t){f=this.findNearestResolution(f);l=this.hidpi_?l:1;var q=this.image_;if(q&&this.renderedRevision_==this.getRevision()&&q.getResolution()==f&&q.getPixelRatio()==l&&(0,c.containsExtent)(q.getExtent(),a))return q;1!=this.ratio_&&(a=a.slice(),(0,c.scaleFromCenter)(a,this.ratio_));q=(0,c.getWidth)(a)/f;var B=(0,c.getHeight)(a)/f;q=[q*l,B*l];void 0!==this.url_?(t=this.getUrl(this.url_,this.params_,a,q,t),q=new n["default"](a,f,l,t,this.crossOrigin_,this.imageLoadFunction_),q.addEventListener(w["default"].CHANGE,
this.handleImageChange.bind(this))):q=null;this.image_=q;this.renderedRevision_=this.getRevision();return q};d.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};d.prototype.updateParams=function(a){(0,h.assign)(this.params_,a);this.changed()};d.prototype.getUrl=function(a,f,l,t,q){q=this.metersPerUnit_;var B=this.displayDpi_,E=(0,c.getWidth)(l),z=(0,c.getHeight)(l),A=t[0],p=t[1];B=.0254/B;q=p*E>A*z?E*q/(A*B):z*q/(p*B);l=(0,c.getCenter)(l);t={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":
"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(t[0]),SETDISPLAYHEIGHT:Math.round(t[1]),SETVIEWSCALE:q,SETVIEWCENTERX:l[0],SETVIEWCENTERY:l[1]};(0,h.assign)(t,f);return(0,k.appendParams)(a,t)};d.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};return d}(u["default"]);r["default"]=S};
shadow$provide[291]=function(S,m,Y,r){function D(a){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return D(a)}function C(){if("function"!==typeof WeakMap)return null;var a=new WeakMap;C=function(){return a};return a}function v(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
v(m(91)),u=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==D(a)&&"function"!==typeof a)return{"default":a};var f=C();if(f&&f.has(a))return f.get(a);var l={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,q;for(q in a)if(Object.prototype.hasOwnProperty.call(a,q)){var B=t?Object.getOwnPropertyDescriptor(a,q):null;B&&(B.get||B.set)?Object.defineProperty(l,q,B):l[q]=a[q]}l["default"]=a;f&&f.set(a,l);return l}(m(285)),n=v(m(202)),k=v(m(231)),h=m(89),c=m(106),e=m(83),b=m(133),
d=function(){var a=function(f,l){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,q){t.__proto__=q}||function(t,q){for(var B in q)Object.prototype.hasOwnProperty.call(q,B)&&(t[B]=q[B])};return a(f,l)};return function(f,l){function t(){this.constructor=f}a(f,l);f.prototype=null===l?Object.create(l):(t.prototype=l.prototype,new t)}}();S=function(a){function f(l){var t=void 0!==l.crossOrigin?l.crossOrigin:null,q=void 0!==l.imageLoadFunction?l.imageLoadFunction:u.defaultImageLoadFunction;
var B=a.call(this,{attributions:l.attributions,imageSmoothing:l.imageSmoothing,projection:(0,b.get)(l.projection)})||this;B.url_=l.url;B.imageExtent_=l.imageExtent;B.image_=new k["default"](B.imageExtent_,void 0,1,B.url_,t,q);B.imageSize_=l.imageSize?l.imageSize:null;B.image_.addEventListener(w["default"].CHANGE,B.handleImageChange.bind(B));return B}d(f,a);f.prototype.getImageExtent=function(){return this.imageExtent_};f.prototype.getImageInternal=function(l,t,q,B){return(0,e.intersects)(l,this.image_.getExtent())?
this.image_:null};f.prototype.getUrl=function(){return this.url_};f.prototype.handleImageChange=function(l){if(this.image_.getState()==n["default"].LOADED){var t=this.image_.getExtent(),q=this.image_.getImage();if(this.imageSize_){var B=this.imageSize_[0];var E=this.imageSize_[1]}else B=q.width,E=q.height;var z=(0,e.getHeight)(t)/E;t=Math.ceil((0,e.getWidth)(t)/z);t!=B&&(t=(0,c.createCanvasContext2D)(t,E),(0,h.assign)(t,this.getContextOptions()),z=t.canvas,t.drawImage(q,0,0,B,E,0,0,z.width,z.height),
this.image_.setImage(z))}a.prototype.handleImageChange.call(this,l)};return f}(u["default"]);r["default"]=S};
shadow$provide[292]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[293]=function(S,m,Y,r){function D(B){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"===typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};return D(B)}function C(){if("function"!==typeof WeakMap)return null;var B=new WeakMap;C=function(){return B};return B}function v(B){return B&&B.__esModule?B:{"default":B}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
m(262),u=v(m(91)),n=function(B){if(B&&B.__esModule)return B;if(null===B||"object"!==D(B)&&"function"!==typeof B)return{"default":B};var E=C();if(E&&E.has(B))return E.get(B);var z={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in B)if(Object.prototype.hasOwnProperty.call(B,p)){var y=A?Object.getOwnPropertyDescriptor(B,p):null;y&&(y.get||y.set)?Object.defineProperty(z,p,y):z[p]=B[p]}z["default"]=B;E&&E.set(B,z);return z}(m(285)),k=v(m(231)),h=v(m(292)),c=m(286),e=m(79),b=m(89),
d=m(263),a=m(100),f=m(83),l=m(133),t=function(){var B=function(E,z){B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,p){A.__proto__=p}||function(A,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(A[y]=p[y])};return B(E,z)};return function(E,z){function A(){this.constructor=E}B(E,z);E.prototype=null===z?Object.create(z):(A.prototype=z.prototype,new A)}}(),q=[101,101];S=function(B){function E(z){var A=z?z:{};z=B.call(this,{attributions:A.attributions,imageSmoothing:A.imageSmoothing,
projection:A.projection,resolutions:A.resolutions})||this;z.crossOrigin_=void 0!==A.crossOrigin?A.crossOrigin:null;z.url_=A.url;z.imageLoadFunction_=void 0!==A.imageLoadFunction?A.imageLoadFunction:n.defaultImageLoadFunction;z.params_=A.params||{};z.v13_=!0;z.updateV13_();z.serverType_=A.serverType;z.hidpi_=void 0!==A.hidpi?A.hidpi:!0;z.image_=null;z.imageSize_=[0,0];z.renderedRevision_=0;z.ratio_=void 0!==A.ratio?A.ratio:1.5;return z}t(E,B);E.prototype.getFeatureInfoUrl=function(z,A,p,y){if(void 0!==
this.url_){p=(0,l.get)(p);var F=this.getProjection();F&&F!==p&&(A=(0,d.calculateSourceResolution)(F,p,z,A),z=(0,l.transform)(z,p,F));var J=(0,f.getForViewAndSize)(z,A,0,q),H={SERVICE:"WMS",VERSION:w.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,b.assign)(H,this.params_,y);y=Math.floor((J[3]-z[1])/A);H[this.v13_?"I":"X"]=Math.floor((z[0]-J[0])/A);H[this.v13_?"J":"Y"]=y;return this.getRequestUrl_(J,q,1,F||p,H)}};E.prototype.getLegendUrl=
function(z,A){if(void 0!==this.url_){var p={SERVICE:"WMS",VERSION:w.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===A||void 0===A.LAYER){var y=this.params_.LAYERS;if(Array.isArray(y)&&1!==y.length)return;p.LAYER=y}void 0!==z&&(y=this.getProjection()?this.getProjection().getMetersPerUnit():1,p.SCALE=z*y/2.8E-4);(0,b.assign)(p,A);return(0,c.appendParams)(this.url_,p)}};E.prototype.getParams=function(){return this.params_};E.prototype.getImageInternal=function(z,A,p,y){if(void 0===
this.url_)return null;A=this.findNearestResolution(A);1==p||this.hidpi_&&void 0!==this.serverType_||(p=1);var F=A/p,J=(0,f.getCenter)(z),H=Math.ceil((0,f.getWidth)(z)/F),P=Math.ceil((0,f.getHeight)(z)/F);H=(0,f.getForViewAndSize)(J,F,0,[H,P]);P=Math.ceil(this.ratio_*(0,f.getWidth)(z)/F);z=Math.ceil(this.ratio_*(0,f.getHeight)(z)/F);J=(0,f.getForViewAndSize)(J,F,0,[P,z]);if((z=this.image_)&&this.renderedRevision_==this.getRevision()&&z.getResolution()==A&&z.getPixelRatio()==p&&(0,f.containsExtent)(z.getExtent(),
H))return z;H={SERVICE:"WMS",VERSION:w.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,b.assign)(H,this.params_);this.imageSize_[0]=Math.round((0,f.getWidth)(J)/F);this.imageSize_[1]=Math.round((0,f.getHeight)(J)/F);y=this.getRequestUrl_(J,this.imageSize_,p,y,H);this.image_=new k["default"](J,A,p,y,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(u["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};
E.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};E.prototype.getRequestUrl_=function(z,A,p,y,F){(0,e.assert)(void 0!==this.url_,9);F[this.v13_?"CRS":"SRS"]=y.getCode();"STYLES"in this.params_||(F.STYLES="");if(1!=p)switch(this.serverType_){case h["default"].GEOSERVER:p=90*p+.5|0;F.FORMAT_OPTIONS="FORMAT_OPTIONS"in F?F.FORMAT_OPTIONS+(";dpi:"+p):"dpi:"+p;break;case h["default"].MAPSERVER:F.MAP_RESOLUTION=90*p;break;case h["default"].CARMENTA_SERVER:case h["default"].QGIS:F.DPI=
90*p;break;default:(0,e.assert)(!1,8)}F.WIDTH=A[0];F.HEIGHT=A[1];A=y.getAxisOrientation();z=this.v13_&&"ne"==A.substr(0,2)?[z[1],z[0],z[3],z[2]]:z;F.BBOX=z.join(",");return(0,c.appendParams)(this.url_,F)};E.prototype.getUrl=function(){return this.url_};E.prototype.setImageLoadFunction=function(z){this.image_=null;this.imageLoadFunction_=z;this.changed()};E.prototype.setUrl=function(z){z!=this.url_&&(this.url_=z,this.image_=null,this.changed())};E.prototype.updateParams=function(z){(0,b.assign)(this.params_,
z);this.updateV13_();this.image_=null;this.changed()};E.prototype.updateV13_=function(){var z=this.params_.VERSION||w.DEFAULT_WMS_VERSION;this.v13_=0<=(0,a.compareVersions)(z,"1.3")};return E}(n["default"]);r["default"]=S};
shadow$provide[294]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.ATTRIBUTION=void 0;S=function(C){return C&&C.__esModule?C:{"default":C}}(m(278));var D=function(){var C=function(v,w){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,n){u.__proto__=n}||function(u,n){for(var k in n)Object.prototype.hasOwnProperty.call(n,k)&&(u[k]=n[k])};return C(v,w)};return function(v,w){function u(){this.constructor=v}C(v,w);v.prototype=null===w?Object.create(w):
(u.prototype=w.prototype,new u)}}();r.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';S=function(C){function v(w){w=w||{};return C.call(this,{attributions:void 0!==w.attributions?w.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],attributionsCollapsible:!1,cacheSize:w.cacheSize,crossOrigin:void 0!==w.crossOrigin?w.crossOrigin:
"anonymous",imageSmoothing:w.imageSmoothing,maxZoom:void 0!==w.maxZoom?w.maxZoom:19,opaque:void 0!==w.opaque?w.opaque:!0,reprojectionErrorThreshold:w.reprojectionErrorThreshold,tileLoadFunction:w.tileLoadFunction,transition:w.transition,url:void 0!==w.url?w.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:w.wrapX})||this}D(v,C);return v}(S["default"]);r["default"]=S};
shadow$provide[295]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(C){return C&&C.__esModule?C:{"default":C}}(m(99));var D=function(){var C=function(v,w){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,n){u.__proto__=n}||function(u,n){for(var k in n)Object.prototype.hasOwnProperty.call(n,k)&&(u[k]=n[k])};return C(v,w)};return function(v,w){function u(){this.constructor=v}C(v,w);v.prototype=null===w?Object.create(w):(u.prototype=
w.prototype,new u)}}();S=function(C){function v(w){return C.call(this,w?w:{})||this}D(v,C);return v}(S["default"]);r["default"]=S};
shadow$provide[296]=function(S,m,Y,r){function D(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(222));var C=D(m(124)),v=m(260),w=m(89),u=m(80),n=m(83),k=m(107),h=m(133),c=function(){var e=function(b,d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=
b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();m=function(e){function b(d){d=e.call(this,d)||this;d.image_=null;return d}c(b,e);b.prototype.getImage=function(){return this.image_?this.image_.getImage():null};b.prototype.prepareFrame=function(d){var a=d.layerStatesArray[d.layerIndex],f=d.pixelRatio,l=d.viewState,t=l.resolution,q=this.getLayer().getSource(),B=d.viewHints;d=d.extent;void 0!==a.extent&&(d=(0,n.getIntersection)(d,(0,h.fromUserExtent)(a.extent,l.projection)));
B[C["default"].ANIMATING]||B[C["default"].INTERACTING]||(0,n.isEmpty)(d)||(q?(a=l.projection,v.ENABLE_RASTER_REPROJECTION||(l=q.getProjection())&&(a=l),(f=q.getImage(d,t,f,a))&&this.loadImage(f)&&(this.image_=f)):this.image_=null);return!!this.image_};b.prototype.renderFrame=function(d,a){var f=this.image_,l=f.getExtent(),t=f.getResolution(),q=f.getPixelRatio(),B=d.layerStatesArray[d.layerIndex],E=d.pixelRatio,z=d.viewState,A=z.center,p=d.size,y=E*t/(z.resolution*q),F=Math.round(p[0]*E),J=Math.round(p[1]*
E);if(p=z.rotation){var H=Math.round(Math.sqrt(F*F+J*J));J=F=H}(0,u.compose)(this.pixelTransform,d.size[0]/2,d.size[1]/2,1/E,1/E,p,-F/2,-J/2);(0,u.makeInverse)(this.inversePixelTransform,this.pixelTransform);p=(0,k.createTransformString)(this.pixelTransform);this.useContainer(a,p,B.opacity);a=this.context;H=a.canvas;H.width!=F||H.height!=J?(H.width=F,H.height=J):this.containerReused||a.clearRect(0,0,F,J);var P=!1;B.extent&&(z=(0,h.fromUserExtent)(B.extent,z.projection),(P=!(0,n.containsExtent)(z,
d.extent)&&(0,n.intersects)(z,d.extent))&&this.clipUnrotated(a,d,z));f=f.getImage();l=(0,u.compose)(this.tempTransform,F/2,J/2,y,y,0,q*(l[0]-A[0])/t,q*(A[1]-l[3])/t);this.renderedResolution=t*E/q;t=l[4];q=l[5];E=f.width*l[0];l=f.height*l[3];(0,w.assign)(a,this.getLayer().getSource().getContextOptions());this.preRender(a,d);.5<=E&&.5<=l&&(B=B.opacity,A=void 0,1!==B&&(A=this.context.globalAlpha,this.context.globalAlpha=B),this.context.drawImage(f,0,0,+f.width,+f.height,Math.round(t),Math.round(q),Math.round(E),
Math.round(l)),1!==B&&(this.context.globalAlpha=A));this.postRender(a,d);P&&a.restore();p!==H.style.transform&&(H.style.transform=p);return this.container};return b}(S["default"]);r["default"]=m};
shadow$provide[297]=function(S,m,Y,r){function D(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(295));var C=D(m(296)),v=function(){var w=function(u,n){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])};return w(u,n)};return function(u,n){function k(){this.constructor=u}w(u,n);u.prototype=null===n?Object.create(n):
(k.prototype=n.prototype,new k)}}();m=function(w){function u(n){return w.call(this,n)||this}v(u,w);u.prototype.createRenderer=function(){return new C["default"](this)};return u}(S["default"]);r["default"]=m};
shadow$provide[298]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[299]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(99));var C=D(m(298)),v=m(89),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){k=k?k:{};var h=(0,v.assign)({},k);delete h.preload;delete h.useInterimTilesOnError;h=u.call(this,h)||this;h.setPreload(void 0!==k.preload?k.preload:0);h.setUseInterimTilesOnError(void 0!==k.useInterimTilesOnError?k.useInterimTilesOnError:!0);return h}w(n,u);n.prototype.getPreload=function(){return this.get(C["default"].PRELOAD)};n.prototype.setPreload=function(k){this.set(C["default"].PRELOAD,k)};n.prototype.getUseInterimTilesOnError=
function(){return this.get(C["default"].USE_INTERIM_TILES_ON_ERROR)};n.prototype.setUseInterimTilesOnError=function(k){this.set(C["default"].USE_INTERIM_TILES_ON_ERROR,k)};return n}(S["default"]);r["default"]=m};
shadow$provide[300]=function(S,m,Y,r){function D(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(222));var C=D(m(269)),v=D(m(120)),w=m(80),u=m(89),n=m(83),k=m(107),h=m(133),c=m(77),e=m(75),b=function(){var d=function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,t){l.__proto__=t}||function(l,t){for(var q in t)Object.prototype.hasOwnProperty.call(t,q)&&(l[q]=t[q])};return d(a,f)};return function(a,f){function l(){this.constructor=
a}d(a,f);a.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)}}();m=function(d){function a(f){f=d.call(this,f)||this;f.extentChanged=!0;f.renderedExtent_=null;f.renderedProjection=null;f.renderedTiles=[];f.newTiles_=!1;f.tmpExtent=(0,n.createEmpty)();f.tmpTileRange_=new C["default"](0,0,0,0);return f}b(a,d);a.prototype.isDrawableTile=function(f){var l=this.getLayer();f=f.getState();l=l.getUseInterimTilesOnError();return f==v["default"].LOADED||f==v["default"].EMPTY||f==v["default"].ERROR&&
!l};a.prototype.getTile=function(f,l,t,q){var B=q.pixelRatio,E=q.viewState.projection;q=this.getLayer();f=q.getSource().getTile(f,l,t,B,E);f.getState()==v["default"].ERROR&&(q.getUseInterimTilesOnError()?0<q.getPreload()&&(this.newTiles_=!0):f.setState(v["default"].LOADED));this.isDrawableTile(f)||(f=f.getInterimTile());return f};a.prototype.loadedTileCallback=function(f,l,t){return this.isDrawableTile(t)?d.prototype.loadedTileCallback.call(this,f,l,t):!1};a.prototype.prepareFrame=function(f){return!!this.getLayer().getSource()};
a.prototype.renderFrame=function(f,l){var t=f.layerStatesArray[f.layerIndex],q=f.viewState,B=q.projection,E=q.resolution,z=q.center,A=q.rotation;q=f.pixelRatio;var p=this.getLayer(),y=p.getSource(),F=y.getRevision(),J=y.getTileGridForProjection(B),H=J.getZForResolution(E,y.zDirection),P=J.getResolution(H),K=f.extent,N=t.extent&&(0,h.fromUserExtent)(t.extent,B);N&&(K=(0,n.getIntersection)(K,(0,h.fromUserExtent)(t.extent,B)));var M=y.getTilePixelRatio(q),O=Math.round(f.size[0]*M),Q=Math.round(f.size[1]*
M);if(A){var G=Math.round(Math.sqrt(O*O+Q*Q));Q=O=G}G=P*O/2/M;var L=P*Q/2/M;z=[z[0]-G,z[1]-L,z[0]+G,z[1]+L];var T=J.getTileRangeForExtentAndZ(K,H);G={};G[H]={};var V=this.createLoadedTileFinder(y,B,G),X=this.tmpExtent,aa=this.tmpTileRange_;this.newTiles_=!1;for(var ba=T.minX;ba<=T.maxX;++ba)for(var fa=T.minY;fa<=T.maxY;++fa){L=this.getTile(H,ba,fa,f);if(this.isDrawableTile(L)){var ka=(0,c.getUid)(this);if(L.getState()==v["default"].LOADED){G[H][L.tileCoord.toString()]=L;var ha=L.inTransition(ka);
this.newTiles_||!ha&&-1!==this.renderedTiles.indexOf(L)||(this.newTiles_=!0)}if(1===L.getAlpha(ka,f.time))continue}ha=J.getTileCoordChildTileRange(L.tileCoord,aa,X);ka=!1;ha&&(ka=V(H+1,ha));ka||J.forEachTileCoordParentTileRange(L.tileCoord,V,aa,X)}E=P/E;(0,w.compose)(this.pixelTransform,f.size[0]/2,f.size[1]/2,1/M,1/M,A,-O/2,-Q/2);A=(0,k.createTransformString)(this.pixelTransform);this.useContainer(l,A,t.opacity);l=this.context;T=l.canvas;(0,w.makeInverse)(this.inversePixelTransform,this.pixelTransform);
(0,w.compose)(this.tempTransform,O/2,Q/2,E,E,0,-O/2,-Q/2);T.width!=O||T.height!=Q?(T.width=O,T.height=Q):this.containerReused||l.clearRect(0,0,O,Q);N&&this.clipUnrotated(l,f,N);(0,u.assign)(l,y.getContextOptions());this.preRender(l,f);this.renderedTiles.length=0;N=Object.keys(G).map(Number);N.sort(e.numberSafeCompareFunction);if(1!==t.opacity||this.containerReused&&!y.getOpaque(f.viewState.projection)){var ma=[];var Aa=[]}else N=N.reverse();for(O=N.length-1;0<=O;--O){Q=N[O];L=y.getTilePixelSize(Q,
q,B);ba=J.getResolution(Q)/P;V=L[0]*ba*E;X=L[1]*ba*E;aa=J.getTileCoordForCoordAndZ((0,n.getTopLeft)(z),Q);L=J.getTileCoordExtent(aa);ka=(0,w.apply)(this.tempTransform,[M*(L[0]-z[0])/P,M*(z[3]-L[3])/P]);var ea=M*y.getGutterForProjection(B),ja=G[Q],oa;for(oa in ja){L=ja[oa];fa=L.tileCoord;ba=ka[0]-(aa[1]-fa[1])*V;ha=Math.round(ba+V);fa=ka[1]-(aa[2]-fa[2])*X;var ra=Math.round(fa+X);ba=Math.round(ba);fa=Math.round(fa);var pa=ha-ba,ta=ra-fa,wa=H===Q;ha=wa&&1!==L.getAlpha((0,c.getUid)(this),f.time);if(!ha)if(ma){l.save();
ra=[ba,fa,ba+pa,fa,ba+pa,fa+ta,ba,fa+ta];for(var ya=0,Ha=ma.length;ya<Ha;++ya)if(H!==Q&&Q<Aa[ya]){var Ga=ma[ya];l.beginPath();l.moveTo(ra[0],ra[1]);l.lineTo(ra[2],ra[3]);l.lineTo(ra[4],ra[5]);l.lineTo(ra[6],ra[7]);l.moveTo(Ga[6],Ga[7]);l.lineTo(Ga[4],Ga[5]);l.lineTo(Ga[2],Ga[3]);l.lineTo(Ga[0],Ga[1]);l.clip()}ma.push(ra);Aa.push(Q)}else l.clearRect(ba,fa,pa,ta);this.drawTileImage(L,f,ba,fa,pa,ta,ea,wa,t.opacity);ma&&!ha&&l.restore();this.renderedTiles.push(L);this.updateUsedTiles(f.usedTiles,y,L)}}this.renderedRevision=
F;this.renderedResolution=P;this.extentChanged=!this.renderedExtent_||!(0,n.equals)(this.renderedExtent_,z);this.renderedExtent_=z;this.renderedPixelRatio=q;this.renderedProjection=B;this.manageTilePyramid(f,y,J,q,B,K,H,p.getPreload());this.scheduleExpireCache(f,y);this.postRender(l,f);t.extent&&l.restore();A!==T.style.transform&&(T.style.transform=A);return this.container};a.prototype.drawTileImage=function(f,l,t,q,B,E,z,A,p){var y=this.getTileImage(f);if(y){var F=(0,c.getUid)(this),J=A?f.getAlpha(F,
l.time):1;p*=J;var H=p!==this.context.globalAlpha;H&&(this.context.save(),this.context.globalAlpha=p);this.context.drawImage(y,z,z,y.width-2*z,y.height-2*z,t,q,B,E);H&&this.context.restore();1!==J?l.animate=!0:A&&f.endTransition(F)}};a.prototype.getImage=function(){var f=this.context;return f?f.canvas:null};a.prototype.getTileImage=function(f){return f.getImage()};a.prototype.scheduleExpireCache=function(f,l){l.canExpireCache()&&(l=function(t,q,B){q=(0,c.getUid)(t);q in B.usedTiles&&t.expireCache(B.viewState.projection,
B.usedTiles[q])}.bind(null,l),f.postRenderFunctions.push(l))};a.prototype.updateUsedTiles=function(f,l,t){l=(0,c.getUid)(l);l in f||(f[l]={});f[l][t.getKey()]=!0};a.prototype.manageTilePyramid=function(f,l,t,q,B,E,z,A,p){var y=(0,c.getUid)(l);y in f.wantedTiles||(f.wantedTiles[y]={});var F=f.wantedTiles[y];f=f.tileQueue;var J=0,H,P,K;for(K=t.getMinZoom();K<=z;++K){var N=t.getTileRangeForExtentAndZ(E,K,N);var M=t.getResolution(K);for(H=N.minX;H<=N.maxX;++H)for(P=N.minY;P<=N.maxY;++P)if(z-K<=A){++J;
var O=l.getTile(K,H,P,q,B);O.getState()==v["default"].IDLE&&(F[O.getKey()]=!0,f.isKeyQueued(O.getKey())||f.enqueue([O,y,t.getTileCoordCenter(O.tileCoord),M]));void 0!==p&&p(O)}else l.useTile(K,H,P,B)}l.updateCacheSize(J,B)};return a}(S["default"]);r["default"]=m};
shadow$provide[301]=function(S,m,Y,r){function D(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(299));var C=D(m(300)),v=function(){var w=function(u,n){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])};return w(u,n)};return function(u,n){function k(){this.constructor=u}w(u,n);u.prototype=null===n?Object.create(n):
(k.prototype=n.prototype,new k)}}();m=function(w){function u(n){return w.call(this,n)||this}v(u,w);u.prototype.createRenderer=function(){return new C["default"](this)};return u}(S["default"]);r["default"]=m};
shadow$provide[302]=function(S,m,Y,r){function D(K){return K&&K.__esModule?K:{"default":K}}function C(K,N,M){if(y)return new ImageData(K,N,M);N=F.createImageData(N,M);N.data.set(K);return N}function v(K){var N=!0;try{new ImageData(10,10)}catch(M){N=!1}return function(M){var O=M.buffers,Q=M.meta,G=M.width,L=M.height,T=O.length,V=O[0].byteLength;if(M.imageOps){V=Array(T);for(M=0;M<T;++M){var X=M;var aa=new Uint8ClampedArray(O[M]);var ba=G,fa=L;aa=N?new ImageData(aa,ba,fa):{data:aa,width:ba,height:fa};
V[X]=aa}G=K(V,Q).data}else{G=new Uint8ClampedArray(V);L=Array(T);X=Array(T);for(M=0;M<T;++M)L[M]=new Uint8ClampedArray(O[M]),X[M]=[0,0,0,0];for(O=0;O<V;O+=4){for(M=0;M<T;++M)aa=L[M],X[M][0]=aa[O],X[M][1]=aa[O+1],X[M][2]=aa[O+2],X[M][3]=aa[O+3];M=K(X,Q);G[O]=M[0];G[O+1]=M[1];G[O+2]=M[2];G[O+3]=M[3]}}return G.buffer}}function w(K,N){var M=Object.keys(K.lib||{}).map(function(O){return"var "+O+" \x3d "+K.lib[O].toString()+";"}).concat(["var __minion__ \x3d ("+v.toString()+")(",K.operation.toString(),
");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);M=new Blob(M,{type:"text/javascript"});M=URL.createObjectURL(M);M=new Worker(M);M.addEventListener("message",N);return M}function u(K,N){var M=v(K.operation),O=!1;return{postMessage:function(Q){setTimeout(function(){O||N({data:{buffer:M(Q),meta:Q.meta}})},0)},terminate:function(){O=!0}}}function n(K,N){var M=K.getRenderer();
if(!M)throw Error("Unsupported layer type: "+K);if(!M.prepareFrame(N))return null;K=N.size[0];var O=N.size[1];if(0===K||0===O)return null;N=M.renderFrame(N,null);if(N)var Q=N.firstElementChild;if(!(Q instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+Q);if(Q.width===K&&Q.height===O)return Q.getContext("2d").getImageData(0,0,K,O);P?(N=P.canvas,N.width!==K||N.height!==O?P=(0,E.createCanvasContext2D)(K,O):P.clearRect(0,0,K,O)):P=(0,E.createCanvasContext2D)(K,O);P.drawImage(Q,
0,0,K,O);return P.getImageData(0,0,K,O)}function k(K){return K.map(function(N){return N.getLayerState()})}function h(K){for(var N=K.length,M=Array(N),O=0;O<N;++O){var Q=O,G=void 0,L=K[O];L instanceof a["default"]?L instanceof q["default"]?G=new l["default"]({source:L}):L instanceof d["default"]&&(G=new b["default"]({source:L})):G=L;M[Q]=G}return M}Object.defineProperty(r,"__esModule",{value:!0});r.newImageData=C;r["default"]=r.RasterSourceEvent=r.Processor=void 0;S=D(m(74));Y=D(m(87));var c=D(m(91)),
e=D(m(288)),b=D(m(297)),d=D(m(285)),a=D(m(241)),f=D(m(98)),l=D(m(301)),t=D(m(121)),q=D(m(272)),B=m(89),E=m(106),z=m(80),A=m(83),p=function(){var K=function(N,M){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,Q){O.__proto__=Q}||function(O,Q){for(var G in Q)Object.prototype.hasOwnProperty.call(Q,G)&&(O[G]=Q[G])};return K(N,M)};return function(N,M){function O(){this.constructor=N}K(N,M);N.prototype=null===M?Object.create(M):(O.prototype=M.prototype,new O)}}(),y=!0;try{new ImageData(10,
10)}catch(K){y=!1}var F=document.createElement("canvas").getContext("2d"),J=function(K){function N(M){var O=K.call(this)||this;O._imageOps=!!M.imageOps;var Q=0===M.threads?0:O._imageOps?1:M.threads||1;var G=[];if(Q)for(var L=0;L<Q;++L)G[L]=w(M,O._onWorkerMessage.bind(O,L));else G[0]=u(M,O._onWorkerMessage.bind(O,0));O._workers=G;O._queue=[];O._maxQueueLength=M.queue||Infinity;O._running=0;O._dataLookup={};O._job=null;return O}p(N,K);N.prototype.process=function(M,O,Q){this._enqueue({inputs:M,meta:O,
callback:Q});this._dispatch()};N.prototype._enqueue=function(M){for(this._queue.push(M);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};N.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var M=this._queue.shift();this._job=M;var O=M.inputs[0].width,Q=M.inputs[0].height,G=M.inputs.map(function(ka){return ka.data.buffer}),L=this._workers.length;this._running=L;if(1===L)this._workers[0].postMessage({buffers:G,meta:M.meta,imageOps:this._imageOps,
width:O,height:Q},G);else for(var T=4*Math.ceil(M.inputs[0].data.length/4/L),V=0;V<L;++V){for(var X=V*T,aa=[],ba=0,fa=G.length;ba<fa;++ba)aa.push(G[ba].slice(X,X+T));this._workers[V].postMessage({buffers:aa,meta:M.meta,imageOps:this._imageOps,width:O,height:Q},aa)}}};N.prototype._onWorkerMessage=function(M,O){this.disposed||(this._dataLookup[M]=O.data,--this._running,0===this._running&&this._resolveJob())};N.prototype._resolveJob=function(){var M=this._job,O=this._workers.length;if(1===O){var Q=new Uint8ClampedArray(this._dataLookup[0].buffer);
var G=this._dataLookup[0].meta}else{var L=M.inputs[0].data.length;Q=new Uint8ClampedArray(L);G=Array(L);L=4*Math.ceil(L/4/O);for(var T=0;T<O;++T){var V=T*L;Q.set(new Uint8ClampedArray(this._dataLookup[T].buffer),V);G[T]=this._dataLookup[T].meta}}this._job=null;this._dataLookup={};M.callback(null,C(Q,M.inputs[0].width,M.inputs[0].height),G);this._dispatch()};N.prototype.disposeInternal=function(){for(var M=0;M<this._workers.length;++M)this._workers[M].terminate();this._workers.length=0};return N}(S["default"]);
r.Processor=J;var H=function(K){function N(M,O,Q){M=K.call(this,M)||this;M.extent=O.extent;M.resolution=O.viewState.resolution/O.pixelRatio;M.data=Q;return M}p(N,K);return N}(Y["default"]);r.RasterSourceEvent=H;m=function(K){function N(M){var O=K.call(this,{projection:null})||this;O.processor_=null;O.operationType_=void 0!==M.operationType?M.operationType:"pixel";O.threads_=void 0!==M.threads?M.threads:1;O.layers_=h(M.sources);for(var Q=O.changed.bind(O),G=0,L=O.layers_.length;G<L;++G)O.layers_[G].addEventListener(c["default"].CHANGE,
Q);O.tileQueue_=new t["default"](function(){return 1},O.changed.bind(O));O.renderedImageCanvas_=null;O.frameState_={animate:!1,coordinateToPixelTransform:(0,z.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:k(O.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,z.create)(),postRenderFunctions:[],size:[0,0],tileQueue:O.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};O.setAttributions(function(T){for(var V=[],X=0,aa=M.sources.length;X<
aa;++X){var ba=M.sources[X];ba=(ba instanceof a["default"]?ba:ba.getSource()).getAttributions();"function"===typeof ba&&(ba=ba(T),V.push.apply(V,ba))}return 0!==V.length?V:null});void 0!==M.operation&&O.setOperation(M.operation,M.lib);return O}p(N,K);N.prototype.setOperation=function(M,O){this.processor_&&this.processor_.dispose();this.processor_=new J({operation:M,imageOps:"image"===this.operationType_,queue:1,lib:O,threads:this.threads_});this.changed()};N.prototype.updateFrameState_=function(M,
O,Q){var G=(0,B.assign)({},this.frameState_);G.viewState=(0,B.assign)({},G.viewState);var L=(0,A.getCenter)(M);G.extent=M.slice();G.size[0]=Math.round((0,A.getWidth)(M)/O);G.size[1]=Math.round((0,A.getHeight)(M)/O);G.time=Infinity;M=G.viewState;M.center=L;M.projection=Q;M.resolution=O;return G};N.prototype.allSourcesReady_=function(){for(var M=!0,O,Q=0,G=this.layers_.length;Q<G;++Q)if(O=this.layers_[Q].getSource(),O.getState()!==f["default"].READY){M=!1;break}return M};N.prototype.getImage=function(M,
O,Q,G){if(!this.allSourcesReady_())return null;this.requestedFrameState_=Q=this.updateFrameState_(M,O,G);if(this.renderedImageCanvas_){G=this.renderedImageCanvas_.getResolution();var L=this.renderedImageCanvas_.getExtent();O===G&&(0,A.equals)(M,L)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();Q.tileQueue.loadMoreTiles(16,16);Q.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};
N.prototype.processSources_=function(){for(var M=this.requestedFrameState_,O=this.layers_.length,Q=Array(O),G=0;G<O;++G){M.layerIndex=G;var L=n(this.layers_[G],M);if(L)Q[G]=L;else return}O={};this.dispatchEvent(new H("beforeoperations",M,O));this.processor_.process(Q,O,this.onWorkerComplete_.bind(this,M))};N.prototype.onWorkerComplete_=function(M,O,Q,G){if(!O&&Q){O=M.extent;var L=M.viewState.resolution;if(L===this.requestedFrameState_.viewState.resolution&&(0,A.equals)(O,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var T=
this.renderedImageCanvas_.getImage().getContext("2d");else{T=Math.round((0,A.getWidth)(O)/L);var V=Math.round((0,A.getHeight)(O)/L);T=(0,E.createCanvasContext2D)(T,V);this.renderedImageCanvas_=new e["default"](O,L,1,T.canvas)}T.putImageData(Q,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new H("afteroperations",M,G))}}};N.prototype.getImageInternal=function(){return null};N.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();K.prototype.disposeInternal.call(this)};
return N}(d["default"]);var P=null;r["default"]=m};
shadow$provide[303]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(u){return u&&u.__esModule?u:{"default":u}}(m(278));m=m(294);var D=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):(h.prototype=
k.prototype,new h)}}(),C=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',m.ATTRIBUTION],v={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},
"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},w={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};m=function(u){function n(k){var h=k.layer.indexOf("-");h=-1==h?k.layer:k.layer.slice(0,h);h=w[h];var c=v[k.layer];return u.call(this,{attributions:C,cacheSize:k.cacheSize,crossOrigin:"anonymous",
imageSmoothing:k.imageSmoothing,maxZoom:void 0!=k.maxZoom?k.maxZoom:h.maxZoom,minZoom:void 0!=k.minZoom?k.minZoom:h.minZoom,opaque:c.opaque,reprojectionErrorThreshold:k.reprojectionErrorThreshold,tileLoadFunction:k.tileLoadFunction,transition:k.transition,url:void 0!==k.url?k.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+k.layer+"/{z}/{x}/{y}."+c.extension,wrapX:k.wrapX})||this}D(n,u);return n}(S["default"]);r["default"]=m};
shadow$provide[304]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(h){return h&&h.__esModule?h:{"default":h}}(m(275));var D=m(286),C=m(89),v=m(83),w=m(84),u=m(157),n=m(266),k=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=c}h(c,
e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();m=function(h){function c(e){var b=e?e:{};e=h.call(this,{attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,imageSmoothing:b.imageSmoothing,projection:b.projection,reprojectionErrorThreshold:b.reprojectionErrorThreshold,tileGrid:b.tileGrid,tileLoadFunction:b.tileLoadFunction,url:b.url,urls:b.urls,wrapX:void 0!==b.wrapX?b.wrapX:!0,transition:b.transition})||this;e.params_=b.params||{};e.hidpi_=void 0!==
b.hidpi?b.hidpi:!0;e.tmpExtent_=(0,v.createEmpty)();e.setKey(e.getKeyForParams_());return e}k(c,h);c.prototype.getKeyForParams_=function(){var e=0,b=[],d;for(d in this.params_)b[e++]=d+"-"+this.params_[d];return b.join("/")};c.prototype.getParams=function(){return this.params_};c.prototype.getRequestUrl_=function(e,b,d,a,f,l){var t=this.urls;if(t)return f=f.getCode().split(":").pop(),l.SIZE=b[0]+","+b[1],l.BBOX=d.join(","),l.BBOXSR=f,l.IMAGESR=f,l.DPI=Math.round(l.DPI?l.DPI*a:90*a),1==t.length?t=
t[0]:(e=(0,w.modulo)((0,n.hash)(e),t.length),t=t[e]),t=t.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,D.appendParams)(t,l)};c.prototype.getTilePixelRatio=function(e){return this.hidpi_?e:1};c.prototype.updateParams=function(e){(0,C.assign)(this.params_,e);this.setKey(this.getKeyForParams_())};c.prototype.tileUrlFunction=function(e,b,d){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(d));if(!(a.getResolutions().length<=e[0])){1==b||
this.hidpi_||(b=1);var f=a.getTileCoordExtent(e,this.tmpExtent_);a=(0,u.toSize)(a.getTileSize(e[0]),this.tmpSize);1!=b&&(a=(0,u.scale)(a,b,this.tmpSize));var l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,C.assign)(l,this.params_);return this.getRequestUrl_(e,a,f,b,d,l)}};return c}(S["default"]);r["default"]=m};
shadow$provide[305]=function(S,m,Y,r){function D(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(258));var C=D(m(120));Y=D(m(278));var v=m(106),w=m(266),u=m(157),n=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=
c}h(c,e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}(),k=function(h){function c(e,b,d){e=h.call(this,e,C["default"].LOADED)||this;e.tileSize_=b;e.text_=d;e.canvas_=null;return e}n(c,h);c.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var e=this.tileSize_,b=(0,v.createCanvasContext2D)(e[0],e[1]);b.strokeStyle="grey";b.strokeRect(.5,.5,e[0]+.5,e[1]+.5);b.fillStyle="grey";b.strokeStyle="white";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";
b.lineWidth=4;b.strokeText(this.text_,e[0]/2,e[1]/2,e[0]);b.fillText(this.text_,e[0]/2,e[1]/2,e[0]);return this.canvas_=b.canvas};c.prototype.load=function(){};return c}(S["default"]);m=function(h){function c(e){e=e||{};return h.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0!==e.wrapX?e.wrapX:!0,zDirection:e.zDirection})||this}n(c,h);c.prototype.getTile=function(e,b,d){var a=(0,w.getKeyZXY)(e,b,d);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var f=(0,
u.toSize)(this.tileGrid.getTileSize(e));e=[e,b,d];b=this.getTileCoordForTileUrlFunction(e);f=new k(e,f,b?"z:"+b[0]+" x:"+b[1]+" y:"+b[2]:"none");this.tileCache.set(a,f);return f};return c}(Y["default"]);r["default"]=m};
shadow$provide[306]=function(S,m,Y,r){function D(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(98));S=D(m(275));var v=m(83),w=m(79),u=m(273),n=m(271),k=m(133),h=m(276),c=function(){var e=function(b,d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=
b}e(b,d);b.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();m=function(e){function b(d){var a=e.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,imageSmoothing:d.imageSmoothing,projection:(0,k.get)("EPSG:3857"),reprojectionErrorThreshold:d.reprojectionErrorThreshold,state:C["default"].LOADING,tileLoadFunction:d.tileLoadFunction,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition})||this;a.tileJSON_=null;a.tileSize_=d.tileSize;if(d.url)if(d.jsonp)(0,
h.jsonp)(d.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var f=new XMLHttpRequest;f.addEventListener("load",a.onXHRLoad_.bind(a));f.addEventListener("error",a.onXHRError_.bind(a));f.open("GET",d.url);f.send()}else d.tileJSON?a.handleTileJSONResponse(d.tileJSON):(0,w.assert)(!1,51);return a}c(b,e);b.prototype.onXHRLoad_=function(d){d=d.target;if(!d.status||200<=d.status&&300>d.status){var a=void 0;try{a=JSON.parse(d.responseText)}catch(f){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};
b.prototype.onXHRError_=function(d){this.handleTileJSONError()};b.prototype.getTileJSON=function(){return this.tileJSON_};b.prototype.handleTileJSONResponse=function(d){var a=(0,k.get)("EPSG:4326"),f=this.getProjection();if(void 0!==d.bounds){var l=(0,k.getTransformFromProjections)(a,f);l=(0,v.applyTransform)(d.bounds,l)}var t=d.minzoom||0,q=d.maxzoom||22;this.tileGrid=f=(0,n.createXYZ)({extent:(0,n.extentFromProjection)(f),maxZoom:q,minZoom:t,tileSize:this.tileSize_});this.tileUrlFunction=(0,u.createFromTemplates)(d.tiles,
f);if(void 0!==d.attribution&&!this.getAttributions()){var B=void 0!==l?l:a.getExtent();this.setAttributions(function(E){return(0,v.intersects)(B,E.extent)?[d.attribution]:null})}this.tileJSON_=d;this.setState(C["default"].READY)};b.prototype.handleTileJSONError=function(){this.setState(C["default"].ERROR)};return b}(S["default"]);r["default"]=m};
shadow$provide[307]=function(S,m,Y,r){function D(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=m(262);S=D(m(275));var v=D(m(292)),w=m(286),u=m(79),n=m(89),k=m(83),h=m(157),c=m(263),e=m(100),b=m(133),d=m(84),a=m(266),f=function(){var l=function(t,q){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,E){B.__proto__=E}||function(B,E){for(var z in E)Object.prototype.hasOwnProperty.call(E,z)&&(B[z]=E[z])};return l(t,
q)};return function(t,q){function B(){this.constructor=t}l(t,q);t.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}();m=function(l){function t(q){var B=q?q:{},E=B.params||{};q=l.call(this,{attributions:B.attributions,cacheSize:B.cacheSize,crossOrigin:B.crossOrigin,imageSmoothing:B.imageSmoothing,opaque:!("TRANSPARENT"in E?E.TRANSPARENT:1),projection:B.projection,reprojectionErrorThreshold:B.reprojectionErrorThreshold,tileClass:B.tileClass,tileGrid:B.tileGrid,tileLoadFunction:B.tileLoadFunction,
url:B.url,urls:B.urls,wrapX:void 0!==B.wrapX?B.wrapX:!0,transition:B.transition})||this;q.gutter_=void 0!==B.gutter?B.gutter:0;q.params_=E;q.v13_=!0;q.serverType_=B.serverType;q.hidpi_=void 0!==B.hidpi?B.hidpi:!0;q.tmpExtent_=(0,k.createEmpty)();q.updateV13_();q.setKey(q.getKeyForParams_());return q}f(t,l);t.prototype.getFeatureInfoUrl=function(q,B,E,z){E=(0,b.get)(E);var A=this.getProjection(),p=this.getTileGrid();p||(p=this.getTileGridForProjection(E));B=p.getZForResolution(B,this.zDirection);B=
p.getTileCoordForCoordAndZ(q,B);if(!(p.getResolutions().length<=B[0])){var y=p.getResolution(B[0]),F=p.getTileCoordExtent(B,this.tmpExtent_);p=(0,h.toSize)(p.getTileSize(B[0]),this.tmpSize);var J=this.gutter_;0!==J&&(p=(0,h.buffer)(p,J,this.tmpSize),F=(0,k.buffer)(F,y*J,F));A&&A!==E&&(y=(0,c.calculateSourceResolution)(A,E,q,y),F=(0,b.transformExtent)(F,E,A),q=(0,b.transform)(q,E,A));J={SERVICE:"WMS",VERSION:C.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};
(0,n.assign)(J,this.params_,z);z=Math.floor((F[3]-q[1])/y);J[this.v13_?"I":"X"]=Math.floor((q[0]-F[0])/y);J[this.v13_?"J":"Y"]=z;return this.getRequestUrl_(B,p,F,1,A||E,J)}};t.prototype.getLegendUrl=function(q,B){if(void 0!==this.urls[0]){var E={SERVICE:"WMS",VERSION:C.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===B||void 0===B.LAYER){var z=this.params_.LAYERS;if(Array.isArray(z)&&1!==z.length)return;E.LAYER=z}void 0!==q&&(z=this.getProjection()?this.getProjection().getMetersPerUnit():
1,E.SCALE=q*z/2.8E-4);(0,n.assign)(E,B);return(0,w.appendParams)(this.urls[0],E)}};t.prototype.getGutter=function(){return this.gutter_};t.prototype.getParams=function(){return this.params_};t.prototype.getRequestUrl_=function(q,B,E,z,A,p){var y=this.urls;if(y){p.WIDTH=B[0];p.HEIGHT=B[1];p[this.v13_?"CRS":"SRS"]=A.getCode();"STYLES"in this.params_||(p.STYLES="");if(1!=z)switch(this.serverType_){case v["default"].GEOSERVER:B=90*z+.5|0;p.FORMAT_OPTIONS="FORMAT_OPTIONS"in p?p.FORMAT_OPTIONS+(";dpi:"+
B):"dpi:"+B;break;case v["default"].MAPSERVER:p.MAP_RESOLUTION=90*z;break;case v["default"].CARMENTA_SERVER:case v["default"].QGIS:p.DPI=90*z;break;default:(0,u.assert)(!1,52)}A=A.getAxisOrientation();this.v13_&&"ne"==A.substr(0,2)&&(A=E[0],E[0]=E[1],E[1]=A,A=E[2],E[2]=E[3],E[3]=A);p.BBOX=E.join(",");1==y.length?y=y[0]:(q=(0,d.modulo)((0,a.hash)(q),y.length),y=y[q]);return(0,w.appendParams)(y,p)}};t.prototype.getTilePixelRatio=function(q){return this.hidpi_&&void 0!==this.serverType_?q:1};t.prototype.getKeyForParams_=
function(){var q=0,B=[],E;for(E in this.params_)B[q++]=E+"-"+this.params_[E];return B.join("/")};t.prototype.updateParams=function(q){(0,n.assign)(this.params_,q);this.updateV13_();this.setKey(this.getKeyForParams_())};t.prototype.updateV13_=function(){var q=this.params_.VERSION||C.DEFAULT_WMS_VERSION;this.v13_=0<=(0,e.compareVersions)(q,"1.3")};t.prototype.tileUrlFunction=function(q,B,E){var z=this.getTileGrid();z||(z=this.getTileGridForProjection(E));if(!(z.getResolutions().length<=q[0])){1==B||
this.hidpi_&&void 0!==this.serverType_||(B=1);var A=z.getResolution(q[0]),p=z.getTileCoordExtent(q,this.tmpExtent_);z=(0,h.toSize)(z.getTileSize(q[0]),this.tmpSize);var y=this.gutter_;0!==y&&(z=(0,h.buffer)(z,y,this.tmpSize),p=(0,k.buffer)(p,A*y,p));1!=B&&(z=(0,h.scale)(z,B,this.tmpSize));A={SERVICE:"WMS",VERSION:C.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,n.assign)(A,this.params_);return this.getRequestUrl_(q,z,p,B,E,A)}};return t}(S["default"]);r["default"]=m};
shadow$provide[308]=function(S,m,Y,r){function D(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=r.CustomTile=void 0;var C=D(m(91)),v=D(m(98));S=D(m(258));Y=D(m(272));var w=D(m(120)),u=m(83),n=m(79),k=m(273),h=m(271),c=m(266),e=m(133),b=m(92),d=m(276),a=function(){var l=function(t,q){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,E){B.__proto__=E}||function(B,E){for(var z in E)Object.prototype.hasOwnProperty.call(E,z)&&(B[z]=
E[z])};return l(t,q)};return function(t,q){function B(){this.constructor=t}l(t,q);t.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}(),f=function(l){function t(q,B,E,z,A,p){q=l.call(this,q,B)||this;q.src_=E;q.extent_=z;q.preemptive_=A;q.grid_=null;q.keys_=null;q.data_=null;q.jsonp_=p;return q}a(t,l);t.prototype.getImage=function(){return null};t.prototype.getData=function(q){if(!this.grid_||!this.keys_)return null;var B=this.grid_[Math.floor((1-(q[1]-this.extent_[1])/(this.extent_[3]-
this.extent_[1]))*this.grid_.length)];if("string"!==typeof B)return null;q=B.charCodeAt(Math.floor((q[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*B.length));93<=q&&q--;35<=q&&q--;q-=32;B=null;q in this.keys_&&(q=this.keys_[q],B=this.data_&&q in this.data_?this.data_[q]:q);return B};t.prototype.forDataAtCoordinate=function(q,B,E){this.state==w["default"].EMPTY&&!0===E?(this.state=w["default"].IDLE,(0,b.listenOnce)(this,C["default"].CHANGE,function(z){B(this.getData(q))},this),this.loadInternal_()):
!0===E?setTimeout(function(){B(this.getData(q))}.bind(this),0):B(this.getData(q))};t.prototype.getKey=function(){return this.src_};t.prototype.handleError_=function(){this.state=w["default"].ERROR;this.changed()};t.prototype.handleLoad_=function(q){this.grid_=q.grid;this.keys_=q.keys;this.data_=q.data;this.state=w["default"].LOADED;this.changed()};t.prototype.loadInternal_=function(){if(this.state==w["default"].IDLE)if(this.state=w["default"].LOADING,this.jsonp_)(0,d.jsonp)(this.src_,this.handleLoad_.bind(this),
this.handleError_.bind(this));else{var q=new XMLHttpRequest;q.addEventListener("load",this.onXHRLoad_.bind(this));q.addEventListener("error",this.onXHRError_.bind(this));q.open("GET",this.src_);q.send()}};t.prototype.onXHRLoad_=function(q){q=q.target;if(!q.status||200<=q.status&&300>q.status){var B=void 0;try{B=JSON.parse(q.responseText)}catch(E){this.handleError_();return}this.handleLoad_(B)}else this.handleError_()};t.prototype.onXHRError_=function(q){this.handleError_()};t.prototype.load=function(){this.preemptive_?
this.loadInternal_():this.setState(w["default"].EMPTY)};return t}(S["default"]);r.CustomTile=f;m=function(l){function t(q){var B=l.call(this,{projection:(0,e.get)("EPSG:3857"),state:v["default"].LOADING})||this;B.preemptive_=void 0!==q.preemptive?q.preemptive:!0;B.tileUrlFunction_=k.nullTileUrlFunction;B.template_=void 0;B.jsonp_=q.jsonp||!1;if(q.url)if(B.jsonp_)(0,d.jsonp)(q.url,B.handleTileJSONResponse.bind(B),B.handleTileJSONError.bind(B));else{var E=new XMLHttpRequest;E.addEventListener("load",
B.onXHRLoad_.bind(B));E.addEventListener("error",B.onXHRError_.bind(B));E.open("GET",q.url);E.send()}else q.tileJSON?B.handleTileJSONResponse(q.tileJSON):(0,n.assert)(!1,51);return B}a(t,l);t.prototype.onXHRLoad_=function(q){q=q.target;if(!q.status||200<=q.status&&300>q.status){var B=void 0;try{B=JSON.parse(q.responseText)}catch(E){this.handleTileJSONError();return}this.handleTileJSONResponse(B)}else this.handleTileJSONError()};t.prototype.onXHRError_=function(q){this.handleTileJSONError()};t.prototype.getTemplate=
function(){return this.template_};t.prototype.forDataAtCoordinateAndResolution=function(q,B,E,z){this.tileGrid?(B=this.tileGrid.getZForResolution(B,this.zDirection),B=this.tileGrid.getTileCoordForCoordAndZ(q,B),this.getTile(B[0],B[1],B[2],1,this.getProjection()).forDataAtCoordinate(q,E,z)):!0===z?setTimeout(function(){E(null)},0):E(null)};t.prototype.handleTileJSONError=function(){this.setState(v["default"].ERROR)};t.prototype.handleTileJSONResponse=function(q){var B=(0,e.get)("EPSG:4326"),E=this.getProjection();
if(void 0!==q.bounds){var z=(0,e.getTransformFromProjections)(B,E);z=(0,u.applyTransform)(q.bounds,z)}var A=q.minzoom||0,p=q.maxzoom||22;this.tileGrid=E=(0,h.createXYZ)({extent:(0,h.extentFromProjection)(E),maxZoom:p,minZoom:A});this.template_=q.template;if(A=q.grids){this.tileUrlFunction_=(0,k.createFromTemplates)(A,E);if(void 0!==q.attribution){var y=void 0!==z?z:B.getExtent();this.setAttributions(function(F){return(0,u.intersects)(y,F.extent)?[q.attribution]:null})}this.setState(v["default"].READY)}else this.setState(v["default"].ERROR)};
t.prototype.getTile=function(q,B,E,z,A){var p=(0,c.getKeyZXY)(q,B,E);if(this.tileCache.containsKey(p))return this.tileCache.get(p);q=[q,B,E];B=this.getTileCoordForTileUrlFunction(q,A);z=this.tileUrlFunction_(B,z,A);z=new f(q,void 0!==z?w["default"].IDLE:w["default"].EMPTY,void 0!==z?z:"",this.tileGrid.getTileCoordExtent(q),this.preemptive_,this.jsonp_);this.tileCache.set(p,z);return z};t.prototype.useTile=function(q,B,E){q=(0,c.getKeyZXY)(q,B,E);this.tileCache.containsKey(q)&&this.tileCache.get(q)};
return t}(Y["default"]);r["default"]=m};
shadow$provide[309]=function(S,m,Y,r){function D(w){return w&&w.__esModule?w:{"default":w}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(258));var C=D(m(120)),v=function(){var w=function(u,n){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,h){k.__proto__=h}||function(k,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(k[c]=h[c])};return w(u,n)};return function(u,n){function k(){this.constructor=u}w(u,n);u.prototype=null===n?Object.create(n):
(k.prototype=n.prototype,new k)}}();m=function(w){function u(n,k,h,c,e,b){n=w.call(this,n,k,b)||this;n.extent=null;n.format_=c;n.features_=null;n.projection=null;n.tileLoadFunction_=e;n.url_=h;n.key=h;return n}v(u,w);u.prototype.getFormat=function(){return this.format_};u.prototype.getFeatures=function(){return this.features_};u.prototype.load=function(){this.state==C["default"].IDLE&&(this.setState(C["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,
this.resolution,this.projection))};u.prototype.onLoad=function(n,k){this.setFeatures(n)};u.prototype.onError=function(){this.setState(C["default"].ERROR)};u.prototype.setFeatures=function(n){this.features_=n;this.setState(C["default"].LOADED)};u.prototype.setLoader=function(n){this.loader_=n};return u}(S["default"]);r["default"]=m};
shadow$provide[310]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(u){return u&&u.__esModule?u:{"default":u}}(m(258));var D=m(106),C=m(77),v=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}(),w=[];m=function(u){function n(k,h,c,e){k=u.call(this,k,h,{transition:0})||this;k.context_={};k.executorGroups={};k.declutterExecutorGroups={};k.loadingSourceTiles=0;k.errorSourceTileKeys={};k.hitDetectionImageData={};k.replayState_={};k.sourceTiles=null;k.getSourceTiles=e.bind(void 0,k);k.sourceZ=-1;k.hifi=!1;k.wrappedTileCoord=c;return k}v(n,u);n.prototype.getContext=function(k){k=(0,C.getUid)(k);k in this.context_||(this.context_[k]=(0,D.createCanvasContext2D)(1,
1,w));return this.context_[k]};n.prototype.hasContext=function(k){return(0,C.getUid)(k)in this.context_};n.prototype.getImage=function(k){return this.hasContext(k)?this.getContext(k).canvas:null};n.prototype.getReplayState=function(k){k=(0,C.getUid)(k);k in this.replayState_||(this.replayState_[k]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1});return this.replayState_[k]};n.prototype.load=
function(){this.getSourceTiles()};n.prototype.release=function(){for(var k in this.context_)w.push(this.context_[k].canvas),delete this.context_[k];u.prototype.release.call(this)};return n}(S["default"]);r["default"]=m};
shadow$provide[311]=function(S,m,Y,r){function D(l){return l&&l.__esModule?l:{"default":l}}function C(l,t){l.setLoader(function(q,B,E){(0,d.loadFeaturesXhr)(t,l.getFormat(),q,B,E,l.onLoad.bind(l),l.onError.bind(l))})}Object.defineProperty(r,"__esModule",{value:!0});r.defaultLoadFunction=C;r["default"]=void 0;var v=D(m(91)),w=D(m(309)),u=D(m(267)),n=D(m(120));S=D(m(274));var k=D(m(310)),h=m(83),c=m(271),e=m(75),b=m(266),d=m(244),a=m(157),f=function(){var l=function(t,q){l=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(B,E){B.__proto__=E}||function(B,E){for(var z in E)Object.prototype.hasOwnProperty.call(E,z)&&(B[z]=E[z])};return l(t,q)};return function(t,q){function B(){this.constructor=t}l(t,q);t.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}();m=function(l){function t(q){var B=q.projection||"EPSG:3857";var E=q.extent||(0,c.extentFromProjection)(B);E=q.tileGrid||(0,c.createXYZ)({extent:E,maxResolution:q.maxResolution,maxZoom:void 0!==q.maxZoom?q.maxZoom:22,minZoom:q.minZoom,
tileSize:q.tileSize||512});B=l.call(this,{attributions:q.attributions,attributionsCollapsible:q.attributionsCollapsible,cacheSize:q.cacheSize,opaque:!1,projection:B,state:q.state,tileGrid:E,tileLoadFunction:q.tileLoadFunction?q.tileLoadFunction:C,tileUrlFunction:q.tileUrlFunction,url:q.url,urls:q.urls,wrapX:void 0===q.wrapX?!0:q.wrapX,transition:q.transition,zDirection:void 0===q.zDirection?1:q.zDirection})||this;B.format_=q.format?q.format:null;B.loadingTiles_={};B.sourceTileCache=new u["default"](B.tileCache.highWaterMark);
B.overlaps_=void 0==q.overlaps?!0:q.overlaps;B.tileClass=q.tileClass?q.tileClass:w["default"];B.tileGrids_={};return B}f(t,l);t.prototype.getFeaturesInExtent=function(q){var B=[],E=this.tileCache;if(0===E.getCount())return B;var z=(0,b.fromKey)(E.peekFirstKey())[0],A=this.tileGrid;E.forEach(function(p){if(p.tileCoord[0]===z&&p.getState()===n["default"].LOADED){p=p.getSourceTiles();for(var y=0,F=p.length;y<F;++y){var J=p[y],H=J.tileCoord;if((0,h.intersects)(q,A.getTileCoordExtent(H))&&(J=J.getFeatures())){H=
0;for(var P=J.length;H<P;++H){var K=J[H],N=K.getGeometry();(0,h.intersects)(q,N.getExtent())&&B.push(K)}}}}});return B};t.prototype.getOverlaps=function(){return this.overlaps_};t.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};t.prototype.expireCache=function(q,B){l.prototype.expireCache.call(this,q,B);this.sourceTileCache.expireCache({})};t.prototype.getSourceTiles=function(q,B,E){var z=E.wrappedTileCoord,A=this.getTileGridForProjection(B),p=A.getTileCoordExtent(z);
z=A.getResolution(z[0]);(0,h.buffer)(p,-z,p);var y=this.tileGrid;(A=y.getExtent())&&(0,h.getIntersection)(p,A,p);var F=y.getZForResolution(z,1);z=y.getMinZoom();A=E.sourceTiles;if(A&&0<A.length&&A[0].tileCoord[0]===F){var J=A;var H=!0;var P=F}else{J=[];P=F+1;do--P,H=!0,y.forEachTileCoord(p,P,function(K){var N=this.tileUrlFunction(K,q,B);if(void 0!==N)if(this.sourceTileCache.containsKey(N)){var M=this.sourceTileCache.get(N);K=M.getState();if(K===n["default"].LOADED||K===n["default"].ERROR||K===n["default"].EMPTY){J.push(M);
return}}else P===F&&(M=new this.tileClass(K,n["default"].IDLE,N,this.format_,this.tileLoadFunction),M.extent=y.getTileCoordExtent(K),M.projection=B,M.resolution=y.getResolution(K[0]),this.sourceTileCache.set(N,M),M.addEventListener(v["default"].CHANGE,this.handleTileChange.bind(this)),M.load());H=H&&M&&M.getState()===n["default"].LOADED;M&&M.getState()!==n["default"].EMPTY&&E.getState()===n["default"].IDLE&&(E.loadingSourceTiles++,M.addEventListener(v["default"].CHANGE,function Q(){var G=M.getState(),
L=M.getKey();if(G===n["default"].LOADED||G===n["default"].ERROR)G===n["default"].LOADED?(M.removeEventListener(v["default"].CHANGE,Q),E.loadingSourceTiles--,delete E.errorSourceTileKeys[L]):G===n["default"].ERROR&&(E.errorSourceTileKeys[L]=!0),G=Object.keys(E.errorSourceTileKeys).length,0===E.loadingSourceTiles-G&&(E.hifi=0===G,E.sourceZ=F,E.setState(n["default"].LOADED))}))}.bind(this)),H||(J.length=0);while(!H&&P>z)}E.getState()===n["default"].IDLE&&E.setState(n["default"].LOADING);H&&(E.hifi=F===
P,E.sourceZ=P,E.getState()<n["default"].LOADED?E.setState(n["default"].LOADED):A&&(0,e.equals)(J,A)||(E.sourceTiles=J));return J};t.prototype.getTile=function(q,B,E,z,A){var p=(0,b.getKeyZXY)(q,B,E),y=this.getKey();if(this.tileCache.containsKey(p)){var F=this.tileCache.get(p);if(F.key===y)return F}B=[q,B,E];E=this.getTileCoordForTileUrlFunction(B,A);var J=this.getTileGrid().getExtent(),H=this.getTileGridForProjection(A);if(E&&J){var P=H.getTileCoordExtent(E);(0,h.buffer)(P,-H.getResolution(q),P);
(0,h.intersects)(J,P)||(E=null)}var K=!0;null!==E&&(J=this.tileGrid,q=H.getResolution(q),P=J.getZForResolution(q,1),H=H.getTileCoordExtent(E),(0,h.buffer)(H,-q,H),J.forEachTileCoord(H,P,function(N){K=K&&!this.tileUrlFunction(N,z,A)}.bind(this)));B=new k["default"](B,K?n["default"].EMPTY:n["default"].IDLE,E,this.getSourceTiles.bind(this,z,A));B.key=y;F?(B.interimTile=F,B.refreshInterimChain(),this.tileCache.replace(p,B)):this.tileCache.set(p,B);return B};t.prototype.getTileGridForProjection=function(q){var B=
q.getCode(),E=this.tileGrids_[B];E||(E=this.tileGrid,E=(0,c.createForProjection)(q,void 0,E?E.getTileSize(E.getMinZoom()):void 0),this.tileGrids_[B]=E);return E};t.prototype.getTilePixelRatio=function(q){return q};t.prototype.getTilePixelSize=function(q,B,E){E=this.getTileGridForProjection(E);q=(0,a.toSize)(E.getTileSize(q),this.tmpSize);return[Math.round(q[0]*B),Math.round(q[1]*B)]};t.prototype.updateCacheSize=function(q,B){l.prototype.updateCacheSize.call(this,2*q,B)};return t}(S["default"]);r["default"]=
m};
shadow$provide[312]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={KVP:"KVP",REST:"REST"}};
shadow$provide[313]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.createFromCapabilitiesMatrixSet=function(u,n,k){var h=[],c=[],e=[],b=[],d=[],a=void 0!==k?k:[];k=u.SupportedCRS;k=(0,C.get)(k);var f=k.getMetersPerUnit(),l="ne"==k.getAxisOrientation().substr(0,2);u.TileMatrix.sort(function(t,q){return q.ScaleDenominator-t.ScaleDenominator});u.TileMatrix.forEach(function(t){if(0<a.length?(0,D.find)(a,function(z){return t.Identifier==z.TileMatrix?!0:-1===t.Identifier.indexOf(":")?
u.Identifier+":"+t.Identifier===z.TileMatrix:!1}):1){c.push(t.Identifier);var q=2.8E-4*t.ScaleDenominator/f,B=t.TileWidth,E=t.TileHeight;l?e.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):e.push(t.TopLeftCorner);h.push(q);b.push(B==E?B:[B,E]);d.push([t.MatrixWidth,t.MatrixHeight])}});return new w({extent:n,origins:e,resolutions:h,matrixIds:c,tileSizes:b,sizes:d})};r["default"]=void 0;S=function(u){return u&&u.__esModule?u:{"default":u}}(m(270));var D=m(75),C=m(133),v=function(){var u=function(n,k){u=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):(h.prototype=k.prototype,new h)}}(),w=function(u){function n(k){var h=u.call(this,{extent:k.extent,origin:k.origin,origins:k.origins,resolutions:k.resolutions,tileSize:k.tileSize,tileSizes:k.tileSizes,sizes:k.sizes})||
this;h.matrixIds_=k.matrixIds;return h}v(n,u);n.prototype.getMatrixId=function(k){return this.matrixIds_[k]};n.prototype.getMatrixIds=function(){return this.matrixIds_};return n}(S["default"]);r["default"]=w};
shadow$provide[314]=function(S,m,Y,r){function D(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});r.optionsFromCapabilities=function(e,b){var d=e.Contents.Layer;d=(0,h.find)(d,function(P,K,N){return P.Identifier==b.layer});if(null===d)return null;var a=e.Contents.TileMatrixSet;var f=1<d.TileMatrixSetLink.length?"projection"in b?(0,h.findIndex)(d.TileMatrixSetLink,function(P,K,N){K=(0,h.find)(a,function(O){return O.Identifier==P.TileMatrixSet}).SupportedCRS;
N=(0,k.get)(K);var M=(0,k.get)(b.projection);return N&&M?(0,k.equivalent)(N,M):K==b.projection}):(0,h.findIndex)(d.TileMatrixSetLink,function(P,K,N){return P.TileMatrixSet==b.matrixSet}):0;0>f&&(f=0);var l=d.TileMatrixSetLink[f].TileMatrixSet,t=d.TileMatrixSetLink[f].TileMatrixSetLimits,q=d.Format[0];"format"in b&&(q=b.format);f=(0,h.findIndex)(d.Style,function(P,K,N){return"style"in b?P.Title==b.style:P.isDefault});0>f&&(f=0);f=d.Style[f].Identifier;var B={};"Dimension"in d&&d.Dimension.forEach(function(P,
K,N){K=P.Identifier;N=P.Default;void 0===N&&(N=P.Value[0]);B[K]=N});var E=e.Contents.TileMatrixSet,z=(0,h.find)(E,function(P,K,N){return P.Identifier==l}),A;(E=z.SupportedCRS)&&(A=(0,k.get)(E));"projection"in b&&(E=(0,k.get)(b.projection),!E||A&&!(0,k.equivalent)(E,A)||(A=E));var p="ne"==A.getAxisOrientation().substr(0,2);E=z.TileMatrix[0];var y={MinTileCol:0,MinTileRow:0,MaxTileCol:E.MatrixWidth-1,MaxTileRow:E.MatrixHeight-1};if(t){y=t[t.length-1];var F=(0,h.find)(z.TileMatrix,function(P){return P.Identifier===
y.TileMatrix||z.Identifier+":"+P.Identifier===y.TileMatrix});F&&(E=F)}F=2.8E-4*E.ScaleDenominator/A.getMetersPerUnit();p=p?[E.TopLeftCorner[1],E.TopLeftCorner[0]]:E.TopLeftCorner;var J=E.TileWidth*F;E=E.TileHeight*F;E=[p[0]+J*y.MinTileCol,p[1]-E*(1+y.MaxTileRow),p[0]+J*(1+y.MaxTileCol),p[1]-E*y.MinTileRow];null===A.getExtent()&&A.setExtent(E);t=(0,u.createFromCapabilitiesMatrixSet)(z,E,t);var H=[];E=b.requestEncoding;E=void 0!==E?E:"";if("OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata)for(e=
e.OperationsMetadata.GetTile.DCP.HTTP.Get,F=0,p=e.length;F<p;++F)if(e[F].Constraint)if(J=(0,h.find)(e[F].Constraint,function(P){return"GetEncoding"==P.name}).AllowedValues.Value,""===E&&(E=J[0]),E===C["default"].KVP)(0,h.includes)(J,C["default"].KVP)&&H.push(e[F].href);else break;else e[F].href&&(E=C["default"].KVP,H.push(e[F].href));0===H.length&&(E=C["default"].REST,d.ResourceURL.forEach(function(P){"tile"===P.resourceType&&(q=P.format,H.push(P.template))}));return{urls:H,layer:b.layer,matrixSet:l,
format:q,projection:A,requestEncoding:E,tileGrid:t,style:f,dimensions:B,wrapX:!1,crossOrigin:b.crossOrigin}};r["default"]=void 0;S=D(m(275));var C=D(m(312)),v=m(286),w=m(89),u=m(313),n=m(273),k=m(133),h=m(75),c=function(){var e=function(b,d){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(a[l]=f[l])};return e(b,d)};return function(b,d){function a(){this.constructor=b}e(b,d);b.prototype=
null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();m=function(e){function b(d){var a=void 0!==d.requestEncoding?d.requestEncoding:C["default"].KVP;var f=d.tileGrid;var l=d.urls;void 0===l&&void 0!==d.url&&(l=(0,n.expandUrl)(d.url));f=e.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,imageSmoothing:d.imageSmoothing,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,tileClass:d.tileClass,tileGrid:f,tileLoadFunction:d.tileLoadFunction,
tilePixelRatio:d.tilePixelRatio,urls:l,wrapX:void 0!==d.wrapX?d.wrapX:!1,transition:d.transition})||this;f.version_=void 0!==d.version?d.version:"1.0.0";f.format_=void 0!==d.format?d.format:"image/jpeg";f.dimensions_=void 0!==d.dimensions?d.dimensions:{};f.layer_=d.layer;f.matrixSet_=d.matrixSet;f.style_=d.style;f.requestEncoding_=a;f.setKey(f.getKeyForDimensions_());l&&0<l.length&&(f.tileUrlFunction=(0,n.createFromTileUrlFunctions)(l.map(f.createFromWMTSTemplate.bind(f))));return f}c(b,e);b.prototype.setUrls=
function(d){this.urls=d;var a=d.join("\n");this.setTileUrlFunction((0,n.createFromTileUrlFunctions)(d.map(this.createFromWMTSTemplate.bind(this))),a)};b.prototype.getDimensions=function(){return this.dimensions_};b.prototype.getFormat=function(){return this.format_};b.prototype.getLayer=function(){return this.layer_};b.prototype.getMatrixSet=function(){return this.matrixSet_};b.prototype.getRequestEncoding=function(){return this.requestEncoding_};b.prototype.getStyle=function(){return this.style_};
b.prototype.getVersion=function(){return this.version_};b.prototype.getKeyForDimensions_=function(){var d=0,a=[],f;for(f in this.dimensions_)a[d++]=f+"-"+this.dimensions_[f];return a.join("/")};b.prototype.updateDimensions=function(d){(0,w.assign)(this.dimensions_,d);this.setKey(this.getKeyForDimensions_())};b.prototype.createFromWMTSTemplate=function(d){var a=this.requestEncoding_,f={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};a==C["default"].KVP&&(0,w.assign)(f,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});d=a==C["default"].KVP?(0,v.appendParams)(d,f):d.replace(/\{(\w+?)\}/g,function(q,B){return B.toLowerCase()in f?f[B.toLowerCase()]:q});var l=this.tileGrid,t=this.dimensions_;return function(q,B,E){if(q){var z={TileMatrix:l.getMatrixId(q[0]),TileCol:q[1],TileRow:q[2]};(0,w.assign)(z,t);q=d;return q=a==C["default"].KVP?(0,v.appendParams)(q,z):q.replace(/\{(\w+?)\}/g,function(A,p){return z[p]})}}};return b}(S["default"]);r["default"]=m};
shadow$provide[315]=function(S,m,Y,r){function D(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(r,"__esModule",{value:!0});Object.defineProperty(r,"BingMaps",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty(r,"CartoDB",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(r,"Cluster",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(r,"IIIF",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(r,
"Image",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(r,"ImageArcGISRest",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(r,"ImageCanvas",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(r,"ImageMapGuide",{enumerable:!0,get:function(){return c["default"]}});Object.defineProperty(r,"ImageStatic",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(r,"ImageWMS",{enumerable:!0,get:function(){return b["default"]}});
Object.defineProperty(r,"OSM",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(r,"Raster",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(r,"Source",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(r,"Stamen",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(r,"Tile",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(r,"TileArcGISRest",{enumerable:!0,get:function(){return q["default"]}});
Object.defineProperty(r,"TileDebug",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(r,"TileImage",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(r,"TileJSON",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(r,"TileWMS",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty(r,"UrlTile",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(r,"UTFGrid",{enumerable:!0,get:function(){return y["default"]}});
Object.defineProperty(r,"Vector",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(r,"VectorTile",{enumerable:!0,get:function(){return J["default"]}});Object.defineProperty(r,"WMTS",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(r,"XYZ",{enumerable:!0,get:function(){return P["default"]}});Object.defineProperty(r,"Zoomify",{enumerable:!0,get:function(){return K["default"]}});var C=D(m(277)),v=D(m(279)),w=D(m(280)),u=D(m(283)),n=D(m(285)),k=D(m(287)),
h=D(m(289)),c=D(m(290)),e=D(m(291)),b=D(m(293)),d=D(m(294)),a=D(m(302)),f=D(m(241)),l=D(m(303)),t=D(m(272)),q=D(m(304)),B=D(m(305)),E=D(m(275)),z=D(m(306)),A=D(m(307)),p=D(m(274)),y=D(m(308)),F=D(m(245)),J=D(m(311)),H=D(m(314)),P=D(m(278)),K=D(m(281))};
shadow$provide[316]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.toContext=function(n,k){var h=n.canvas,c=k?k:{};k=c.pixelRatio||C.DEVICE_PIXEL_RATIO;if(c=c.size)h.width=c[0]*k,h.height=c[1]*k,h.style.width=c[0]+"px",h.style.height=c[1]+"px";h=[0,0,h.width,h.height];c=(0,v.scale)((0,v.create)(),k,k);return new D["default"](n,k,h,c,0)};r.getVectorContext=function(n){var k=n.frameState,h=(0,v.multiply)(n.inversePixelTransform.slice(),k.coordinateToPixelTransform),c=(0,w.getSquaredTolerance)(k.viewState.resolution,
k.pixelRatio),e,b=(0,u.getUserProjection)();b&&(e=(0,u.getTransformFromProjections)(b,k.viewState.projection));return new D["default"](n.context,k.pixelRatio,k.extent,h,k.viewState.rotation,c,e)};r.getRenderPixel=function(n,k){k=k.slice(0);(0,v.apply)(n.inversePixelTransform.slice(),k);return k};var D=function(n){return n&&n.__esModule?n:{"default":n}}(m(227)),C=m(105),v=m(80),w=m(237),u=m(133)};
shadow$provide[317]=function(S,m,Y,r){function D(w,u,n){for(var k=[],h=w(0),c=w(1),e=u(h),b=u(c),d=[c,h],a=[b,e],f=[1,0],l={},t=1E5,q,B,E,z,A;0<--t&&0<f.length;)E=f.pop(),h=d.pop(),e=a.pop(),c=E.toString(),c in l||(k.push(e[0],e[1]),l[c]=!0),z=f.pop(),c=d.pop(),b=a.pop(),A=(E+z)/2,q=w(A),B=u(q),(0,v.squaredSegmentDistance)(B[0],B[1],e[0],e[1],b[0],b[1])<n?(k.push(b[0],b[1]),c=z.toString(),l[c]=!0):(f.push(z,A,A,E),a.push(b,B,B,e),d.push(c,q,q,h));return k}Object.defineProperty(r,"__esModule",{value:!0});
r.greatCircleArc=function(w,u,n,k,h,c){var e=(0,C.get)("EPSG:4326"),b=Math.cos((0,v.toRadians)(u)),d=Math.sin((0,v.toRadians)(u)),a=Math.cos((0,v.toRadians)(k)),f=Math.sin((0,v.toRadians)(k)),l=Math.cos((0,v.toRadians)(n-w)),t=Math.sin((0,v.toRadians)(n-w)),q=d*f+b*a*l;return D(function(B){if(1<=q)return[n,k];var E=B*Math.acos(q);B=Math.cos(E);var z=Math.sin(E),A=Math.atan2(t*a,b*f-d*a*l);E=Math.asin(d*B+b*z*Math.cos(A));B=(0,v.toRadians)(w)+Math.atan2(Math.sin(A)*z*b,B-d*Math.sin(E));return[(0,v.toDegrees)(B),
(0,v.toDegrees)(E)]},(0,C.getTransform)(e,h),c)};r.meridian=function(w,u,n,k,h){var c=(0,C.get)("EPSG:4326");return D(function(e){return[w,u+(n-u)*e]},(0,C.getTransform)(c,k),h)};r.parallel=function(w,u,n,k,h){var c=(0,C.get)("EPSG:4326");return D(function(e){return[u+(n-u)*e,w]},(0,C.getTransform)(c,k),h)};var C=m(133),v=m(84)};
shadow$provide[318]=function(S,m,Y,r){function D(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(110)),v=D(m(97)),w=D(m(193)),u=D(m(207)),n=D(m(138)),k=D(m(196)),h=D(m(148)),c=D(m(208)),e=D(m(209)),b=D(m(234));S=D(m(239));var d=D(m(245)),a=m(83),f=m(89),l=m(84),t=m(101),q=m(133),B=m(316),E=m(317),z=function(){var y=function(F,J){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,P){H.__proto__=P}||function(H,
P){for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&(H[K]=P[K])};return y(F,J)};return function(F,J){function H(){this.constructor=F}y(F,J);F.prototype=null===J?Object.create(J):(H.prototype=J.prototype,new H)}}(),A=new c["default"]({color:"rgba(0,0,0,0.2)"}),p=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];m=function(y){function F(J){var H=this;J=J?J:{};H=(0,f.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},J);delete H.maxLines;delete H.strokeStyle;delete H.targetSize;
delete H.showLabels;delete H.lonLabelFormatter;delete H.latLabelFormatter;delete H.lonLabelPosition;delete H.latLabelPosition;delete H.lonLabelStyle;delete H.latLabelStyle;delete H.intervals;H=y.call(this,H)||this;H.projection_=null;H.maxLat_=Infinity;H.maxLon_=Infinity;H.minLat_=-Infinity;H.minLon_=-Infinity;H.maxX_=Infinity;H.maxY_=Infinity;H.minX_=-Infinity;H.minY_=-Infinity;H.targetSize_=void 0!==J.targetSize?J.targetSize:100;H.maxLines_=void 0!==J.maxLines?J.maxLines:100;H.meridians_=[];H.parallels_=
[];H.strokeStyle_=void 0!==J.strokeStyle?J.strokeStyle:A;H.fromLonLatTransform_=void 0;H.toLonLatTransform_=void 0;H.projectionCenterLonLat_=null;H.bottomLeft_=null;H.bottomRight_=null;H.topLeft_=null;H.topRight_=null;H.meridiansLabels_=null;H.parallelsLabels_=null;J.showLabels&&(H.lonLabelFormatter_=void 0==J.lonLabelFormatter?t.degreesToStringHDMS.bind(H,"EW"):J.lonLabelFormatter,H.latLabelFormatter_=void 0==J.latLabelFormatter?t.degreesToStringHDMS.bind(H,"NS"):J.latLabelFormatter,H.lonLabelPosition_=
void 0==J.lonLabelPosition?0:J.lonLabelPosition,H.latLabelPosition_=void 0==J.latLabelPosition?1:J.latLabelPosition,H.lonLabelStyleBase_=new e["default"]({text:void 0!==J.lonLabelStyle?J.lonLabelStyle.clone():new b["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new u["default"]({color:"rgba(0,0,0,1)"}),stroke:new c["default"]({color:"rgba(255,255,255,1)",width:3})})}),H.lonLabelStyle_=function(P){P=P.get("graticule_label");this.lonLabelStyleBase_.getText().setText(P);return this.lonLabelStyleBase_}.bind(H),
H.latLabelStyleBase_=new e["default"]({text:void 0!==J.latLabelStyle?J.latLabelStyle.clone():new b["default"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new u["default"]({color:"rgba(0,0,0,1)"}),stroke:new c["default"]({color:"rgba(255,255,255,1)",width:3})})}),H.latLabelStyle_=function(P){P=P.get("graticule_label");this.latLabelStyleBase_.getText().setText(P);return this.latLabelStyleBase_}.bind(H),H.meridiansLabels_=[],H.parallelsLabels_=[],H.addEventListener(v["default"].POSTRENDER,
H.drawLabels_.bind(H)));H.intervals_=void 0!==J.intervals?J.intervals:p;H.setSource(new d["default"]({loader:H.loaderFunction.bind(H),strategy:H.strategyFunction.bind(H),features:new C["default"],overlaps:!1,useSpatialIndex:!1,wrapX:J.wrapX}));H.featurePool_=[];H.lineStyle_=new e["default"]({stroke:H.strokeStyle_});H.loadedExtent_=null;H.renderedExtent_=null;H.setRenderOrder(null);return H}z(F,y);F.prototype.strategyFunction=function(J,H){J=J.slice();this.projection_&&this.getSource().getWrapX()&&
(0,a.wrapX)(J,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,J,H)?J=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[J]};F.prototype.loaderFunction=function(J,H,P){this.loadedExtent_=J;var K=this.getSource(),N=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];J=(0,a.getIntersection)(N,J);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,J))if(this.renderedExtent_=J,!(0,a.isEmpty)(J)){N=(0,a.getCenter)(J);
var M=H*H/4;this.projection_&&(0,q.equivalent)(this.projection_,P)||this.updateProjectionInfo_(P);this.createGraticule_(J,N,H,M);P=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(P+=this.meridians_.length);for(this.parallelsLabels_&&(P+=this.parallels_.length);P>this.featurePool_.length;)H=new w["default"],this.featurePool_.push(H);K=K.getFeaturesCollection();K.clear();J=P=0;for(N=this.meridians_.length;J<N;++J)H=this.featurePool_[P++],H.setGeometry(this.meridians_[J]),H.setStyle(this.lineStyle_),
K.push(H);J=0;for(N=this.parallels_.length;J<N;++J)H=this.featurePool_[P++],H.setGeometry(this.parallels_[J]),H.setStyle(this.lineStyle_),K.push(H)}};F.prototype.addMeridian_=function(J,H,P,K,N,M){H=this.getMeridian_(J,H,P,K,M);(0,a.intersects)(H.getExtent(),N)&&(this.meridiansLabels_&&(J=this.lonLabelFormatter_(J),M in this.meridiansLabels_?this.meridiansLabels_[M].text=J:this.meridiansLabels_[M]={geom:new h["default"]([]),text:J}),this.meridians_[M++]=H);return M};F.prototype.addParallel_=function(J,
H,P,K,N,M){H=this.getParallel_(J,H,P,K,M);(0,a.intersects)(H.getExtent(),N)&&(this.parallelsLabels_&&(J=this.latLabelFormatter_(J),M in this.parallelsLabels_?this.parallelsLabels_[M].text=J:this.parallelsLabels_[M]={geom:new h["default"]([]),text:J}),this.parallels_[M++]=H);return M};F.prototype.drawLabels_=function(J){var H=J.frameState.viewState.rotation,P=J.frameState.extent,K=(0,a.getCenter)(P),N=P;if(H){var M=(0,a.getWidth)(P),O=(0,a.getHeight)(P),Q=Math.abs(Math.cos(H)),G=Math.abs(Math.sin(H));
N=(G*O-Q*M)/(G*G-Q*Q);M=(G*M-Q*O)/(G*G-Q*Q);N=[K[0]-N/2,K[1]-M/2,K[0]+N/2,K[1]+M/2]}O=M=0;Q=.5>this.latLabelPosition_;var L=this.projection_.getExtent();G=(0,a.getWidth)(L);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(L,P)&&(M=Math.floor((P[0]-L[0])/G),O=Math.ceil((P[2]-L[2])/G),Q=Q!==Math.abs(H)>Math.PI/2);J=(0,B.getVectorContext)(J);for(L=M;L<=O;++L){var T=this.meridians_.length+this.parallels_.length,V;if(this.meridiansLabels_){var X=0;for(V=this.meridiansLabels_.length;X<
V;++X){var aa=this.meridians_[X];if(H||0!==L){aa=aa.clone();aa.translate(L*G,0);aa.rotate(-H,K);var ba=this.getMeridianPoint_(aa,N,X);ba.rotate(H,K)}else ba=this.getMeridianPoint_(aa,P,X);aa=this.featurePool_[T++];aa.setGeometry(ba);aa.set("graticule_label",this.meridiansLabels_[X].text);J.drawFeature(aa,this.lonLabelStyle_(aa))}}if(this.parallelsLabels_&&(L===M&&Q||L===O&&!Q))for(X=0,V=this.parallels_.length;X<V;++X)aa=this.parallels_[X],H||0!==L?(aa=aa.clone(),aa.translate(L*G,0),aa.rotate(-H,K),
ba=this.getParallelPoint_(aa,N,X),ba.rotate(H,K)):ba=this.getParallelPoint_(aa,P,X),aa=this.featurePool_[T++],aa.setGeometry(ba),aa.set("graticule_label",this.parallelsLabels_[X].text),J.drawFeature(aa,this.latLabelStyle_(aa))}};F.prototype.createGraticule_=function(J,H,P,K){P=this.getInterval_(P);if(-1==P)this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var N=!1,M=this.projection_.getExtent(),
O=(0,a.getWidth)(M);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(M,J)&&((0,a.getWidth)(J)>=O?(J[0]=M[0],J[2]=M[2]):N=!0);H=[(0,l.clamp)(H[0],this.minX_,this.maxX_),(0,l.clamp)(H[1],this.minY_,this.maxY_)];M=this.toLonLatTransform_(H);isNaN(M[1])&&(M[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);H=(0,l.clamp)(M[0],this.minLon_,this.maxLon_);M=(0,l.clamp)(M[1],this.minLat_,this.maxLat_);O=this.maxLines_;var Q=J;N||(Q=[(0,l.clamp)(J[0],
this.minX_,this.maxX_),(0,l.clamp)(J[1],this.minY_,this.maxY_),(0,l.clamp)(J[2],this.minX_,this.maxX_),(0,l.clamp)(J[3],this.minY_,this.maxY_)]);var G=(0,a.applyTransform)(Q,this.toLonLatTransform_,void 0,8),L=G[3],T=G[2],V=G[1];G=G[0];N||((0,a.containsCoordinate)(Q,this.bottomLeft_)&&(G=this.minLon_,V=this.minLat_),(0,a.containsCoordinate)(Q,this.bottomRight_)&&(T=this.maxLon_,V=this.minLat_),(0,a.containsCoordinate)(Q,this.topLeft_)&&(G=this.minLon_,L=this.maxLat_),(0,a.containsCoordinate)(Q,this.topRight_)&&
(T=this.maxLon_,L=this.maxLat_),L=(0,l.clamp)(L,M,this.maxLat_),T=(0,l.clamp)(T,H,this.maxLon_),V=(0,l.clamp)(V,this.minLat_,M),G=(0,l.clamp)(G,this.minLon_,H));H=Math.floor(H/P)*P;var X=(0,l.clamp)(H,this.minLon_,this.maxLon_);var aa=this.addMeridian_(X,V,L,K,J,0);Q=0;if(N)for(;(X-=P)>=G&&Q++<O;)aa=this.addMeridian_(X,V,L,K,J,aa);else for(;X!=this.minLon_&&Q++<O;)X=Math.max(X-P,this.minLon_),aa=this.addMeridian_(X,V,L,K,J,aa);X=(0,l.clamp)(H,this.minLon_,this.maxLon_);Q=0;if(N)for(;(X+=P)<=T&&Q++<
O;)aa=this.addMeridian_(X,V,L,K,J,aa);else for(;X!=this.maxLon_&&Q++<O;)X=Math.min(X+P,this.maxLon_),aa=this.addMeridian_(X,V,L,K,J,aa);this.meridians_.length=aa;this.meridiansLabels_&&(this.meridiansLabels_.length=aa);M=Math.floor(M/P)*P;N=(0,l.clamp)(M,this.minLat_,this.maxLat_);aa=this.addParallel_(N,G,T,K,J,0);for(Q=0;N!=this.minLat_&&Q++<O;)N=Math.max(N-P,this.minLat_),aa=this.addParallel_(N,G,T,K,J,aa);N=(0,l.clamp)(M,this.minLat_,this.maxLat_);for(Q=0;N!=this.maxLat_&&Q++<O;)N=Math.min(N+P,
this.maxLat_),aa=this.addParallel_(N,G,T,K,J,aa);this.parallels_.length=aa;this.parallelsLabels_&&(this.parallelsLabels_.length=aa)}};F.prototype.getInterval_=function(J){var H=this.projectionCenterLonLat_[0],P=this.projectionCenterLonLat_[1],K=-1;J=Math.pow(this.targetSize_*J,2);for(var N=[],M=[],O=0,Q=this.intervals_.length;O<Q;++O){var G=(0,l.clamp)(this.intervals_[O]/2,0,90),L=(0,l.clamp)(P,-90+G,90-G);N[0]=H-G;N[1]=L-G;M[0]=H+G;M[1]=L+G;this.fromLonLatTransform_(N,N);this.fromLonLatTransform_(M,
M);if(Math.pow(M[0]-N[0],2)+Math.pow(M[1]-N[1],2)<=J)break;K=this.intervals_[O]}return K};F.prototype.getMeridian_=function(J,H,P,K,N){J=(0,E.meridian)(J,H,P,this.projection_,K);(H=this.meridians_[N])?(H.setFlatCoordinates(n["default"].XY,J),H.changed()):(H=new k["default"](J,n["default"].XY),this.meridians_[N]=H);return H};F.prototype.getMeridianPoint_=function(J,H,P){J=J.getFlatCoordinates();var K=1,N=J.length-1;J[K]>J[N]&&(K=N,N=1);var M=Math.max(H[1],J[K]),O=Math.min(H[3],J[N]);H=(0,l.clamp)(H[1]+
Math.abs(H[1]-H[3])*this.lonLabelPosition_,M,O);P=this.meridiansLabels_[P].geom;P.setCoordinates([J[K-1]+(J[N-1]-J[K-1])*(H-J[K])/(J[N]-J[K]),H]);return P};F.prototype.getMeridians=function(){return this.meridians_};F.prototype.getParallel_=function(J,H,P,K,N){J=(0,E.parallel)(J,H,P,this.projection_,K);(N=this.parallels_[N])?(N.setFlatCoordinates(n["default"].XY,J),N.changed()):N=new k["default"](J,n["default"].XY);return N};F.prototype.getParallelPoint_=function(J,H,P){J=J.getFlatCoordinates();var K=
0,N=J.length-2;J[K]>J[N]&&(K=N,N=0);var M=Math.max(H[0],J[K]),O=Math.min(H[2],J[N]);H=(0,l.clamp)(H[0]+Math.abs(H[0]-H[2])*this.latLabelPosition_,M,O);P=this.parallelsLabels_[P].geom;P.setCoordinates([H,J[K+1]+(J[N+1]-J[K+1])*(H-J[K])/(J[N]-J[K])]);return P};F.prototype.getParallels=function(){return this.parallels_};F.prototype.updateProjectionInfo_=function(J){var H=(0,q.get)("EPSG:4326"),P=J.getWorldExtent();this.maxLat_=P[3];this.maxLon_=P[2];this.minLat_=P[1];this.minLon_=P[0];var K=(0,q.getTransform)(J,
H);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=K;else{var N=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(M,O,Q){Q=Q||2;M=K(M,O,Q);O=0;for(var G=M.length;O<G;O+=Q)M[O]<N&&(M[O]+=360);return M}}this.fromLonLatTransform_=(0,q.getTransform)(H,J);H=(0,a.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=H[0];this.maxX_=H[2];this.minY_=H[1];this.maxY_=H[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,
this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(J.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=J};return F}(S["default"]);
r["default"]=m};
shadow$provide[319]=function(S,m,Y,r){function D(w,u){for(var n=C.length,k=0;k<n;++k)try{var h=w.getContext(C[k],u);if(h)return h}catch(c){}return null}Object.defineProperty(r,"__esModule",{value:!0});r.getContext=D;r.getSupportedExtensions=function(){if(!v){var w=document.createElement("canvas");(w=D(w))&&(v=w.getSupportedExtensions())}return v};r.FLOAT=r.UNSIGNED_INT=r.UNSIGNED_SHORT=r.UNSIGNED_BYTE=r.DYNAMIC_DRAW=r.STATIC_DRAW=r.STREAM_DRAW=r.ELEMENT_ARRAY_BUFFER=r.ARRAY_BUFFER=void 0;r.ARRAY_BUFFER=
34962;r.ELEMENT_ARRAY_BUFFER=34963;r.STREAM_DRAW=35040;r.STATIC_DRAW=35044;r.DYNAMIC_DRAW=35048;r.UNSIGNED_BYTE=5121;r.UNSIGNED_SHORT=5123;r.UNSIGNED_INT=5125;r.FLOAT=5126;var C=["experimental-webgl","webgl","webkit-3d","moz-webgl"],v};
shadow$provide[320]=function(S,m,Y,r){function D(u){switch(u){case C.ARRAY_BUFFER:return Float32Array;case C.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(r,"__esModule",{value:!0});r.getArrayClassForType=D;r["default"]=r.BufferUsage=void 0;var C=m(319),v=m(79),w={STATIC_DRAW:C.STATIC_DRAW,STREAM_DRAW:C.STREAM_DRAW,DYNAMIC_DRAW:C.DYNAMIC_DRAW};r.BufferUsage=w;S=function(){function u(n,k){this.array=null;this.type=n;(0,v.assert)(n===C.ARRAY_BUFFER||n===
C.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==k?k:w.STATIC_DRAW}u.prototype.ofSize=function(n){this.array=new (D(this.type))(n)};u.prototype.fromArray=function(n){this.array=D(this.type).from(n)};u.prototype.fromArrayBuffer=function(n){this.array=new (D(this.type))(n)};u.prototype.getType=function(){return this.type};u.prototype.getArray=function(){return this.array};u.prototype.getUsage=function(){return this.usage};u.prototype.getSize=function(){return this.array?this.array.length:0};return u}();
r["default"]=S};
shadow$provide[321]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[322]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=function(){function D(C){var v=this.gl_=C.webGlContext;this.scaleRatio_=C.scaleRatio||1;this.renderTargetTexture_=v.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=v.createFramebuffer();var w=v.createShader(v.VERTEX_SHADER);v.shaderSource(w,C.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
v.compileShader(w);var u=v.createShader(v.FRAGMENT_SHADER);v.shaderSource(u,C.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord);\n  }\n");v.compileShader(u);this.renderTargetProgram_=v.createProgram();v.attachShader(this.renderTargetProgram_,w);v.attachShader(this.renderTargetProgram_,u);v.linkProgram(this.renderTargetProgram_);this.renderTargetVerticesBuffer_=
v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);v.bufferData(v.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),v.STATIC_DRAW);this.renderTargetAttribLocation_=v.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=v.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetTextureLocation_=v.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];C.uniforms&&Object.keys(C.uniforms).forEach(function(n){this.uniforms_.push({value:C.uniforms[n],
location:v.getUniformLocation(this.renderTargetProgram_,n)})}.bind(this))}D.prototype.getGL=function(){return this.gl_};D.prototype.init=function(C){C=this.getGL();var v=[C.drawingBufferWidth*this.scaleRatio_,C.drawingBufferHeight*this.scaleRatio_];C.bindFramebuffer(C.FRAMEBUFFER,this.getFrameBuffer());C.viewport(0,0,v[0],v[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==v[0]||this.renderTargetTextureSize_[1]!==v[1]){this.renderTargetTextureSize_=v;var w=C.RGBA,u=C.RGBA,
n=C.UNSIGNED_BYTE;C.bindTexture(C.TEXTURE_2D,this.renderTargetTexture_);C.texImage2D(C.TEXTURE_2D,0,w,v[0],v[1],0,u,n,null);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.LINEAR);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE);C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,this.renderTargetTexture_,0)}};D.prototype.apply=function(C,v){var w=this.getGL(),u=C.size;w.bindFramebuffer(w.FRAMEBUFFER,
v?v.getFrameBuffer():null);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,this.renderTargetTexture_);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight);w.bindBuffer(w.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);w.useProgram(this.renderTargetProgram_);w.enableVertexAttribArray(this.renderTargetAttribLocation_);w.vertexAttribPointer(this.renderTargetAttribLocation_,2,w.FLOAT,
!1,0,0);w.uniform2f(this.renderTargetUniformLocation_,u[0],u[1]);w.uniform1i(this.renderTargetTextureLocation_,0);this.applyUniforms(C);w.drawArrays(w.TRIANGLES,0,6)};D.prototype.getFrameBuffer=function(){return this.frameBuffer_};D.prototype.applyUniforms=function(C){var v=this.getGL(),w,u=1;this.uniforms_.forEach(function(n){w="function"===typeof n.value?n.value(C):n.value;if(w instanceof HTMLCanvasElement||w instanceof ImageData)n.texture||(n.texture=v.createTexture()),v.activeTexture(v["TEXTURE"+
u]),v.bindTexture(v.TEXTURE_2D,n.texture),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),w instanceof ImageData?v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,w.width,w.height,0,v.UNSIGNED_BYTE,new Uint8Array(w.data)):v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,w),v.uniform1i(n.location,u++);else if(Array.isArray(w))switch(w.length){case 2:v.uniform2f(n.location,
w[0],w[1]);break;case 3:v.uniform3f(n.location,w[0],w[1],w[2]);break;case 4:v.uniform4f(n.location,w[0],w[1],w[2],w[3])}else"number"===typeof w&&v.uniform1f(n.location,w)})};return D}();r["default"]=S};
shadow$provide[323]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};r.fromTransform=function(D,C){D[0]=C[0];D[1]=C[1];D[4]=C[2];D[5]=C[3];D[12]=C[4];D[13]=C[5];return D}};
shadow$provide[324]=function(S,m,Y,r){function D(t){return t&&t.__esModule?t:{"default":t}}function C(t){for(var q=0,B=0;B<t.length;B++){var E=t[B];q+=E.size*v(E.type)}return q}function v(t){switch(t){case l.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case l.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case l.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(r,"__esModule",{value:!0});r.computeAttributesStride=C;r["default"]=
r.AttributeType=r.DefaultUniform=r.ShaderType=void 0;var w=D(m(321));S=D(m(74));var u=D(m(322)),n=m(319),k=m(79),h=m(89),c=m(80),e=m(323),b=m(77),d=m(75),a=function(){var t=function(q,B){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,z){E.__proto__=z}||function(E,z){for(var A in z)Object.prototype.hasOwnProperty.call(z,A)&&(E[A]=z[A])};return t(q,B)};return function(q,B){function E(){this.constructor=q}t(q,B);q.prototype=null===B?Object.create(B):(E.prototype=B.prototype,new E)}}();
r.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var f={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"};r.DefaultUniform=f;var l={UNSIGNED_BYTE:n.UNSIGNED_BYTE,UNSIGNED_SHORT:n.UNSIGNED_SHORT,UNSIGNED_INT:n.UNSIGNED_INT,FLOAT:n.FLOAT};r.AttributeType=l;m=function(t){function q(B){var E=t.call(this)||this;B=B||{};E.boundHandleWebGLContextLost_=E.handleWebGLContextLost.bind(E);
E.boundHandleWebGLContextRestored_=E.handleWebGLContextRestored.bind(E);E.canvas_=document.createElement("canvas");E.canvas_.style.position="absolute";E.canvas_.style.left="0";E.gl_=(0,n.getContext)(E.canvas_);var z=E.getGL();E.bufferCache_={};E.currentProgram_=null;(0,k.assert)((0,d.includes)((0,n.getSupportedExtensions)(),"OES_element_index_uint"),63);z.getExtension("OES_element_index_uint");E.canvas_.addEventListener(w["default"].LOST,E.boundHandleWebGLContextLost_);E.canvas_.addEventListener(w["default"].RESTORED,
E.boundHandleWebGLContextRestored_);E.offsetRotateMatrix_=(0,c.create)();E.offsetScaleMatrix_=(0,c.create)();E.tmpMat4_=(0,e.create)();E.uniformLocations_={};E.attribLocations_={};E.uniforms_=[];if(B.uniforms)for(var A in B.uniforms)E.uniforms_.push({name:A,value:B.uniforms[A]});E.postProcessPasses_=B.postProcesses?B.postProcesses.map(function(p){return new u["default"]({webGlContext:z,scaleRatio:p.scaleRatio,vertexShader:p.vertexShader,fragmentShader:p.fragmentShader,uniforms:p.uniforms})}):[new u["default"]({webGlContext:z})];
E.shaderCompileErrors_=null;E.startTime_=Date.now();return E}a(q,t);q.prototype.bindBuffer=function(B){var E=this.getGL(),z=(0,b.getUid)(B),A=this.bufferCache_[z];A||(A=E.createBuffer(),A={buffer:B,webGlBuffer:A},this.bufferCache_[z]=A);E.bindBuffer(B.getType(),A.webGlBuffer)};q.prototype.flushBufferData=function(B){var E=this.getGL();this.bindBuffer(B);E.bufferData(B.getType(),B.getArray(),B.getUsage())};q.prototype.deleteBuffer=function(B){var E=this.getGL();B=(0,b.getUid)(B);var z=this.bufferCache_[B];
E.isContextLost()||E.deleteBuffer(z.buffer);delete this.bufferCache_[B]};q.prototype.disposeInternal=function(){this.canvas_.removeEventListener(w["default"].LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(w["default"].RESTORED,this.boundHandleWebGLContextRestored_)};q.prototype.prepareDraw=function(B){var E=this.getGL(),z=this.getCanvas(),A=B.size,p=B.pixelRatio;z.width=A[0]*p;z.height=A[1]*p;z.style.width=A[0]+"px";z.style.height=A[1]+"px";E.useProgram(this.currentProgram_);
for(z=this.postProcessPasses_.length-1;0<=z;z--)this.postProcessPasses_[z].init(B);E.bindTexture(E.TEXTURE_2D,null);E.clearColor(0,0,0,0);E.clear(E.COLOR_BUFFER_BIT);E.enable(E.BLEND);E.blendFunc(E.ONE,E.ONE_MINUS_SRC_ALPHA);E.useProgram(this.currentProgram_);this.applyFrameState(B);this.applyUniforms(B)};q.prototype.prepareDrawToRenderTarget=function(B,E,z){var A=this.getGL(),p=E.getSize();A.bindFramebuffer(A.FRAMEBUFFER,E.getFramebuffer());A.viewport(0,0,p[0],p[1]);A.bindTexture(A.TEXTURE_2D,E.getTexture());
A.clearColor(0,0,0,0);A.clear(A.COLOR_BUFFER_BIT);A.enable(A.BLEND);A.blendFunc(A.ONE,z?A.ZERO:A.ONE_MINUS_SRC_ALPHA);A.useProgram(this.currentProgram_);this.applyFrameState(B);this.applyUniforms(B)};q.prototype.drawElements=function(B,E){var z=this.getGL();z.drawElements(z.TRIANGLES,E-B,z.UNSIGNED_INT,4*B)};q.prototype.finalizeDraw=function(B){for(var E=0;E<this.postProcessPasses_.length;E++)this.postProcessPasses_[E].apply(B,this.postProcessPasses_[E+1]||null)};q.prototype.getCanvas=function(){return this.canvas_};
q.prototype.getGL=function(){return this.gl_};q.prototype.applyFrameState=function(B){var E=B.size,z=B.viewState.rotation,A=(0,c.reset)(this.offsetScaleMatrix_);(0,c.scale)(A,2/E[0],2/E[1]);E=(0,c.reset)(this.offsetRotateMatrix_);0!==z&&(0,c.rotate)(E,-z);this.setUniformMatrixValue(f.OFFSET_SCALE_MATRIX,(0,e.fromTransform)(this.tmpMat4_,A));this.setUniformMatrixValue(f.OFFSET_ROTATION_MATRIX,(0,e.fromTransform)(this.tmpMat4_,E));this.setUniformFloatValue(f.TIME,.001*(Date.now()-this.startTime_));
this.setUniformFloatValue(f.ZOOM,B.viewState.zoom);this.setUniformFloatValue(f.RESOLUTION,B.viewState.resolution)};q.prototype.applyUniforms=function(B){var E=this.getGL(),z,A=0;this.uniforms_.forEach(function(p){z="function"===typeof p.value?p.value(B):p.value;if(z instanceof HTMLCanvasElement||z instanceof HTMLImageElement||z instanceof ImageData)p.texture||(p.prevValue=void 0,p.texture=E.createTexture()),E.activeTexture(E["TEXTURE"+A]),E.bindTexture(E.TEXTURE_2D,p.texture),E.texParameteri(E.TEXTURE_2D,
E.TEXTURE_MIN_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),z instanceof HTMLImageElement&&!z.complete||p.prevValue===z||(p.prevValue=z,E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,z)),E.uniform1i(this.getUniformLocation(p.name),A++);else if(Array.isArray(z)&&6===z.length)this.setUniformMatrixValue(p.name,(0,e.fromTransform)(this.tmpMat4_,z));else if(Array.isArray(z)&&4>=z.length)switch(z.length){case 2:E.uniform2f(this.getUniformLocation(p.name),
z[0],z[1]);break;case 3:E.uniform3f(this.getUniformLocation(p.name),z[0],z[1],z[2]);break;case 4:E.uniform4f(this.getUniformLocation(p.name),z[0],z[1],z[2],z[3])}else"number"===typeof z&&E.uniform1f(this.getUniformLocation(p.name),z)}.bind(this))};q.prototype.useProgram=function(B){if(B==this.currentProgram_)return!1;this.getGL().useProgram(B);this.currentProgram_=B;this.uniformLocations_={};this.attribLocations_={};return!0};q.prototype.compileShader=function(B,E){var z=this.getGL();E=z.createShader(E);
z.shaderSource(E,B);z.compileShader(E);return E};q.prototype.getProgram=function(B,E){var z=this.getGL();B=this.compileShader(B,z.FRAGMENT_SHADER);E=this.compileShader(E,z.VERTEX_SHADER);this.shaderCompileErrors_=null;z.getShaderInfoLog(B)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+z.getShaderInfoLog(B));z.getShaderInfoLog(E)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+z.getShaderInfoLog(E)));var A=z.createProgram();z.attachShader(A,
B);z.attachShader(A,E);z.linkProgram(A);return A};q.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_};q.prototype.getUniformLocation=function(B){void 0===this.uniformLocations_[B]&&(this.uniformLocations_[B]=this.getGL().getUniformLocation(this.currentProgram_,B));return this.uniformLocations_[B]};q.prototype.getAttributeLocation=function(B){void 0===this.attribLocations_[B]&&(this.attribLocations_[B]=this.getGL().getAttribLocation(this.currentProgram_,B));return this.attribLocations_[B]};
q.prototype.makeProjectionTransform=function(B,E){var z=B.size,A=B.viewState.rotation,p=B.viewState.resolution;B=B.viewState.center;(0,c.reset)(E);(0,c.compose)(E,0,0,2/(p*z[0]),2/(p*z[1]),-A,-B[0],-B[1]);return E};q.prototype.setUniformFloatValue=function(B,E){this.getGL().uniform1f(this.getUniformLocation(B),E)};q.prototype.setUniformMatrixValue=function(B,E){this.getGL().uniformMatrix4fv(this.getUniformLocation(B),!1,E)};q.prototype.enableAttributeArray_=function(B,E,z,A,p){B=this.getAttributeLocation(B);
0>B||(this.getGL().enableVertexAttribArray(B),this.getGL().vertexAttribPointer(B,E,z,!1,A,p))};q.prototype.enableAttributes=function(B){for(var E=C(B),z=0,A=0;A<B.length;A++){var p=B[A];this.enableAttributeArray_(p.name,p.size,p.type||n.FLOAT,E,z);z+=p.size*v(p.type)}};q.prototype.handleWebGLContextLost=function(){(0,h.clear)(this.bufferCache_);this.currentProgram_=null};q.prototype.handleWebGLContextRestored=function(){};q.prototype.createTexture=function(B,E,z){var A=this.getGL();z=z||A.createTexture();
var p=A.RGBA,y=A.RGBA,F=A.UNSIGNED_BYTE;A.bindTexture(A.TEXTURE_2D,z);E?A.texImage2D(A.TEXTURE_2D,0,p,y,F,E):A.texImage2D(A.TEXTURE_2D,0,p,B[0],B[1],0,y,F,null);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE);return z};return q}(S["default"]);r["default"]=m};
shadow$provide[325]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}function C(c,e,b,d,a){c[e+0]=b;c[e+1]=d;c[e+2]=a}Object.defineProperty(r,"__esModule",{value:!0});r.writePointFeatureToBuffers=function(c,e,b,d,a,f){var l=3+a,t=c[e+0],q=c[e+1],B=k;B.length=a;for(a=0;a<B.length;a++)B[a]=c[e+2+a];c=f?f.vertexPosition:0;f=f?f.indexPosition:0;e=c/l;C(b,c,t,q,0);B.length&&b.set(B,c+3);c+=l;C(b,c,t,q,1);B.length&&b.set(B,c+3);c+=l;C(b,c,t,q,2);B.length&&b.set(B,c+3);c+=l;C(b,c,t,
q,3);B.length&&b.set(B,c+3);d[f++]=e;d[f++]=e+1;d[f++]=e+3;d[f++]=e+1;d[f++]=e+2;d[f++]=e+3;h.vertexPosition=c+l;h.indexPosition=f;return h};r.getBlankImageData=function(){var c=document.createElement("canvas").getContext("2d").createImageData(1,1);c.data[0]=255;c.data[1]=255;c.data[2]=255;c.data[3]=255;return c};r.colorEncodeId=function(c,e){e=e||[];e[0]=Math.floor(c/256/256/256)/255;e[1]=Math.floor(c/256/256)%256/255;e[2]=Math.floor(c/256)%256/255;e[3]=c%256/255;return e};r.colorDecodeId=function(c){var e=
0+Math.round(4278190080*c[0]);e+=Math.round(16711680*c[1]);e+=Math.round(65280*c[2]);return e+=Math.round(255*c[3])};r["default"]=r.WebGLWorkerMessageType=void 0;S=D(m(221));var v=D(m(103)),w=D(m(97)),u=D(m(324)),n=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=e}c(e,b);e.prototype=
null===b?Object.create(b):(d.prototype=b.prototype,new d)}}();r.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};m=function(c){function e(b,d){b=c.call(this,b)||this;d=d||{};b.helper=new u["default"]({postProcesses:d.postProcesses,uniforms:d.uniforms});void 0!==d.className&&(b.helper.getCanvas().className=d.className);return b}n(e,c);e.prototype.disposeInternal=function(){this.helper.dispose();c.prototype.disposeInternal.call(this)};e.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()};
e.prototype.dispatchRenderEvent_=function(b,d){var a=this.getLayer();a.hasListener(b)&&(b=new v["default"](b,null,d,null),a.dispatchEvent(b))};e.prototype.preRender=function(b){this.dispatchRenderEvent_(w["default"].PRERENDER,b)};e.prototype.postRender=function(b){this.dispatchRenderEvent_(w["default"].POSTRENDER,b)};return e}(S["default"]);var k=[],h={vertexPosition:0,indexPosition:0};r["default"]=m};
shadow$provide[326]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=m(75),C=new Uint8Array(4);S=function(){function v(w,u){this.helper_=w;w=w.getGL();this.texture_=w.createTexture();this.framebuffer_=w.createFramebuffer();this.size_=u||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}v.prototype.setSize=function(w){(0,D.equals)(w,this.size_)||(this.size_[0]=w[0],this.size_[1]=w[1],this.updateSize_())};v.prototype.getSize=function(){return this.size_};
v.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};v.prototype.readAll=function(){if(this.dataCacheDirty_){var w=this.size_,u=this.helper_.getGL();u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffer_);u.readPixels(0,0,w[0],w[1],u.RGBA,u.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};v.prototype.readPixel=function(w,u){if(0>w||0>u||w>this.size_[0]||u>=this.size_[1])return C[0]=0,C[1]=0,C[2]=0,C[3]=0,C;this.readAll();w=Math.floor(w)+(this.size_[1]-Math.floor(u)-1)*this.size_[0];
C[0]=this.data_[4*w];C[1]=this.data_[4*w+1];C[2]=this.data_[4*w+2];C[3]=this.data_[4*w+3];return C};v.prototype.getTexture=function(){return this.texture_};v.prototype.getFramebuffer=function(){return this.framebuffer_};v.prototype.updateSize_=function(){var w=this.size_,u=this.helper_.getGL();this.texture_=this.helper_.createTexture(w,null,this.texture_);u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffer_);u.viewport(0,0,w[0],w[1]);u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,
this.texture_,0);this.data_=new Uint8Array(w[0]*w[1]*4)};return v}();r["default"]=S};
shadow$provide[327]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.create=function(){return new Worker(D)};S=new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,u){var a\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3du?u.vertexPosition:0,h\x3du?u.indexPosition:0,d\x3db/a;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3da,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o\x3dr.customAttributesCount,s\x3d2+o,u\x3dnew Float32Array(r.renderInstructions),a\x3du.length/s,l\x3d4*a*(o+3),v\x3dnew Uint32Array(6*a),c\x3dnew Float32Array(l),g\x3dnull,b\x3d0;b\x3cu.length;b+\x3ds)g\x3di(u,b,c,v,o,g);var h\x3de({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],
{type:"application/javascript"});var D=URL.createObjectURL(S)};
shadow$provide[328]=function(S,m,Y,r){function D(z){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"===typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};return D(z)}function C(){if("function"!==typeof WeakMap)return null;var z=new WeakMap;C=function(){return z};return z}function v(z){return z&&z.__esModule?z:{"default":z}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var w=
v(m(210)),u=v(m(122)),n=v(m(242)),k=v(m(124)),h=v(m(320)),c=function(z){if(z&&z.__esModule)return z;if(null===z||"object"!==D(z)&&"function"!==typeof z)return{"default":z};var A=C();if(A&&A.has(z))return A.get(z);var p={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor,F;for(F in z)if(Object.prototype.hasOwnProperty.call(z,F)){var J=y?Object.getOwnPropertyDescriptor(z,F):null;J&&(J.get||J.set)?Object.defineProperty(p,F,J):p[F]=z[F]}p["default"]=z;A&&A.set(z,p);return p}(m(325)),e=v(m(326)),
b=m(319),d=m(324),a=m(80),f=m(79),l=m(83),t=m(327),q=m(77),B=m(92),E=function(){var z=function(A,p){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,F){y.__proto__=F}||function(y,F){for(var J in F)Object.prototype.hasOwnProperty.call(F,J)&&(y[J]=F[J])};return z(A,p)};return function(A,p){function y(){this.constructor=A}z(A,p);A.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}();S=function(z){function A(p,y){var F=this;F=y.uniforms||{};var J=(0,a.create)();F[d.DefaultUniform.PROJECTION_MATRIX]=
J;F=z.call(this,p,{className:y.className,uniforms:F,postProcesses:y.postProcesses})||this;F.sourceRevision_=-1;F.verticesBuffer_=new h["default"](b.ARRAY_BUFFER,b.DYNAMIC_DRAW);F.hitVerticesBuffer_=new h["default"](b.ARRAY_BUFFER,b.DYNAMIC_DRAW);F.indicesBuffer_=new h["default"](b.ELEMENT_ARRAY_BUFFER,b.DYNAMIC_DRAW);F.program_=F.helper.getProgram(y.fragmentShader,y.vertexShader);F.hitDetectionEnabled_=y.hitFragmentShader&&y.hitVertexShader?!0:!1;F.hitProgram_=F.hitDetectionEnabled_&&F.helper.getProgram(y.hitFragmentShader,
y.hitVertexShader);p=y.attributes?y.attributes.map(function(H){return{name:"a_"+H.name,size:1,type:d.AttributeType.FLOAT}}):[];F.attributes=[{name:"a_position",size:2,type:d.AttributeType.FLOAT},{name:"a_index",size:1,type:d.AttributeType.FLOAT}].concat(p);F.hitDetectionAttributes=[{name:"a_position",size:2,type:d.AttributeType.FLOAT},{name:"a_index",size:1,type:d.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:d.AttributeType.FLOAT},{name:"a_featureUid",size:1,type:d.AttributeType.FLOAT}].concat(p);
F.customAttributes=y.attributes?y.attributes:[];F.previousExtent_=(0,l.createEmpty)();F.currentTransform_=J;F.renderTransform_=(0,a.create)();F.invertRenderTransform_=(0,a.create)();F.renderInstructions_=new Float32Array(0);F.hitRenderInstructions_=new Float32Array(0);F.hitRenderTarget_=F.hitDetectionEnabled_&&new e["default"](F.helper);F.worker_=(0,t.create)();F.worker_.addEventListener("message",function(H){var P=H.data;if(P.type===c.WebGLWorkerMessageType.GENERATE_BUFFERS){var K=P.projectionTransform;
P.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(P.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(P.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(P.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=K;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);P.hitDetection?this.hitRenderInstructions_=new Float32Array(H.data.renderInstructions):
this.renderInstructions_=new Float32Array(H.data.renderInstructions);this.getLayer().changed()}}.bind(F));F.featureCache_={};F.featureCount_=0;y=F.getLayer().getSource();F.sourceListenKeys_=[(0,B.listen)(y,n["default"].ADDFEATURE,F.handleSourceFeatureAdded_,F),(0,B.listen)(y,n["default"].CHANGEFEATURE,F.handleSourceFeatureChanged_,F),(0,B.listen)(y,n["default"].REMOVEFEATURE,F.handleSourceFeatureDelete_,F),(0,B.listen)(y,n["default"].CLEAR,F.handleSourceFeatureClear_,F)];y.forEachFeature(function(H){this.featureCache_[(0,
q.getUid)(H)]={feature:H,properties:H.getProperties(),geometry:H.getGeometry()};this.featureCount_++}.bind(F));return F}E(A,z);A.prototype.handleSourceFeatureAdded_=function(p){p=p.feature;this.featureCache_[(0,q.getUid)(p)]={feature:p,properties:p.getProperties(),geometry:p.getGeometry()};this.featureCount_++};A.prototype.handleSourceFeatureChanged_=function(p){p=p.feature;this.featureCache_[(0,q.getUid)(p)]={feature:p,properties:p.getProperties(),geometry:p.getGeometry()}};A.prototype.handleSourceFeatureDelete_=
function(p){p=p.feature;delete this.featureCache_[(0,q.getUid)(p)];this.featureCount_--};A.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};A.prototype.renderFrame=function(p){this.preRender(p);var y=this.indicesBuffer_.getSize();this.helper.drawElements(0,y);this.helper.finalizeDraw(p);y=this.helper.getCanvas();var F=p.layerStatesArray[p.layerIndex].opacity;F!==parseFloat(y.style.opacity)&&(y.style.opacity=String(F));this.hitDetectionEnabled_&&(this.renderHitDetection(p),
this.hitRenderTarget_.clearCachedData());this.postRender(p);return y};A.prototype.prepareFrame=function(p){var y=this.getLayer(),F=y.getSource(),J=p.viewState,H=!p.viewHints[k["default"].ANIMATING]&&!p.viewHints[k["default"].INTERACTING],P=!(0,l.equals)(this.previousExtent_,p.extent),K=this.sourceRevision_<F.getRevision();K&&(this.sourceRevision_=F.getRevision());H&&(P||K)&&(H=J.projection,J=J.resolution,y=y instanceof w["default"]?y.getRenderBuffer():0,y=(0,l.buffer)(p.extent,y*J),F.loadFeatures(y,
J,H),this.rebuildBuffers_(p),this.previousExtent_=p.extent.slice());this.helper.makeProjectionTransform(p,this.currentTransform_);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(p);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);return!0};A.prototype.rebuildBuffers_=function(p){var y=(0,a.create)();this.helper.makeProjectionTransform(p,
y);p=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===p||(this.renderInstructions_=new Float32Array(p));this.hitDetectionEnabled_&&(p=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===p||(this.hitRenderInstructions_=new Float32Array(p)));var F,J=[],H=[],P=0,K=0;for(M in this.featureCache_)if(p=this.featureCache_[M],(F=p.geometry)&&F.getType()===u["default"].POINT){J[0]=
F.getFlatCoordinates()[0];J[1]=F.getFlatCoordinates()[1];(0,a.apply)(y,J);F=(0,c.colorEncodeId)(K+6,H);this.renderInstructions_[P++]=J[0];this.renderInstructions_[P++]=J[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[K++]=J[0],this.hitRenderInstructions_[K++]=J[1],this.hitRenderInstructions_[K++]=F[0],this.hitRenderInstructions_[K++]=F[1],this.hitRenderInstructions_[K++]=F[2],this.hitRenderInstructions_[K++]=F[3],this.hitRenderInstructions_[K++]=Number(M));for(var N=0;N<this.customAttributes.length;N++)F=
this.customAttributes[N].callback(p.feature,p.properties),this.renderInstructions_[P++]=F,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[K++]=F)}var M={type:c.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};M.projectionTransform=y;this.worker_.postMessage(M,[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(M={type:c.WebGLWorkerMessageType.GENERATE_BUFFERS,
renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},M.projectionTransform=y,M.hitDetection=!0,this.worker_.postMessage(M,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};A.prototype.forEachFeatureAtCoordinate=function(p,y,F,J,H){(0,f.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&(p=(0,a.apply)(y.coordinateToPixelTransform,p.slice()),p=this.hitRenderTarget_.readPixel(p[0]/2,p[1]/2),p=[p[0]/255,p[1]/
255,p[2]/255,p[3]/255],p=(0,c.colorDecodeId)(p),p=Math.floor(this.hitRenderInstructions_[p]).toString(),p=this.getLayer().getSource().getFeatureByUid(p)))return J(p,this.getLayer(),null)};A.prototype.renderHitDetection=function(p){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(p.size[0]/2),Math.floor(p.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(p,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),
this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),p=this.indicesBuffer_.getSize(),this.helper.drawElements(0,p))};A.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(p){(0,B.unlistenByKey)(p)});this.sourceListenKeys_=null;z.prototype.disposeInternal.call(this)};return A}(c["default"]);r["default"]=S};
shadow$provide[329]=function(S,m,Y,r){function D(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(239));var C=D(m(328)),v=m(89),w=m(84),u=m(106),n=m(94),k=function(){var c=function(e,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])};return c(e,b)};return function(e,b){function d(){this.constructor=e}c(e,b);
e.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),h=["#00f","#0ff","#0f0","#ff0","#f00"];m=function(c){function e(b){var d=this;b=b?b:{};d=(0,v.assign)({},b);delete d.gradient;delete d.radius;delete d.blur;delete d.weight;d=c.call(this,d)||this;d.gradient_=null;d.addEventListener((0,n.getChangeEventType)("gradient"),d.handleGradientChanged_);d.setGradient(b.gradient?b.gradient:h);d.setBlur(void 0!==b.blur?b.blur:15);d.setRadius(void 0!==b.radius?b.radius:8);var a=b.weight?
b.weight:"weight";d.weightFunction_="string"===typeof a?function(f){return f.get(a)}:a;d.setRenderOrder(null);return d}k(e,c);e.prototype.getBlur=function(){return this.get("blur")};e.prototype.getGradient=function(){return this.get("gradient")};e.prototype.getRadius=function(){return this.get("radius")};e.prototype.handleGradientChanged_=function(){for(var b=this.getGradient(),d=(0,u.createCanvasContext2D)(1,256),a=d.createLinearGradient(0,0,1,256),f=1/(b.length-1),l=0,t=b.length;l<t;++l)a.addColorStop(l*
f,b[l]);d.fillStyle=a;d.fillRect(0,0,1,256);this.gradient_=d.canvas};e.prototype.setBlur=function(b){this.set("blur",b)};e.prototype.setGradient=function(b){this.set("gradient",b)};e.prototype.setRadius=function(b){this.set("radius",b)};e.prototype.createRenderer=function(){return new C["default"](this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(b){b=this.weightFunction_(b);return void 0!==b?(0,w.clamp)(b,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})};e.prototype.renderDeclutter=function(){};return e}(S["default"]);r["default"]=m};
shadow$provide[330]=function(S,m,Y,r){function D(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0);this.type=this.pos=0;this.length=this.buf.length}function C(A,p,y){var F=y.buf;var J=F[y.pos++];var H=(J&112)>>4;if(128>J)return w(A,H,p);J=F[y.pos++];H|=(J&127)<<3;if(128>J)return w(A,H,p);J=F[y.pos++];H|=(J&127)<<10;if(128>J)return w(A,H,p);J=F[y.pos++];H|=(J&127)<<17;if(128>J)return w(A,H,p);J=F[y.pos++];H|=(J&127)<<24;if(128>J)return w(A,H,p);J=F[y.pos++];if(128>J)return w(A,
H|(J&1)<<31,p);throw Error("Expected varint not more than 10 bytes");}function v(A){return A.type===D.Bytes?A.readVarint()+A.pos:A.pos+1}function w(A,p,y){return y?4294967296*p+(A>>>0):4294967296*(p>>>0)+(A>>>0)}function u(A,p,y){p=16383>=p?1:2097151>=p?2:268435455>=p?3:Math.floor(Math.log(p)/(7*Math.LN2));y.realloc(p);for(var F=y.pos-1;F>=A;F--)y.buf[F+p]=y.buf[F]}function n(A,p){for(var y=0;y<A.length;y++)p.writeVarint(A[y])}function k(A,p){for(var y=0;y<A.length;y++)p.writeSVarint(A[y])}function h(A,
p){for(var y=0;y<A.length;y++)p.writeFloat(A[y])}function c(A,p){for(var y=0;y<A.length;y++)p.writeDouble(A[y])}function e(A,p){for(var y=0;y<A.length;y++)p.writeBoolean(A[y])}function b(A,p){for(var y=0;y<A.length;y++)p.writeFixed32(A[y])}function d(A,p){for(var y=0;y<A.length;y++)p.writeSFixed32(A[y])}function a(A,p){for(var y=0;y<A.length;y++)p.writeFixed64(A[y])}function f(A,p){for(var y=0;y<A.length;y++)p.writeSFixed64(A[y])}function l(A,p){return(A[p]|A[p+1]<<8|A[p+2]<<16)+16777216*A[p+3]}function t(A,
p,y){A[y]=p;A[y+1]=p>>>8;A[y+2]=p>>>16;A[y+3]=p>>>24}function q(A,p){return(A[p]|A[p+1]<<8|A[p+2]<<16)+(A[p+3]<<24)}Y.exports=D;var B=m(22);D.Varint=0;D.Fixed64=1;D.Bytes=2;D.Fixed32=5;var E=1/4294967296,z="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");D.prototype={destroy:function(){this.buf=null},readFields:function(A,p,y){for(y=y||this.length;this.pos<y;){var F=this.readVarint(),J=F>>3,H=this.pos;this.type=F&7;A(J,p,this);this.pos===H&&this.skip(F)}return p},readMessage:function(A,
p){return this.readFields(A,p,this.readVarint()+this.pos)},readFixed32:function(){var A=l(this.buf,this.pos);this.pos+=4;return A},readSFixed32:function(){var A=q(this.buf,this.pos);this.pos+=4;return A},readFixed64:function(){var A=l(this.buf,this.pos)+4294967296*l(this.buf,this.pos+4);this.pos+=8;return A},readSFixed64:function(){var A=l(this.buf,this.pos)+4294967296*q(this.buf,this.pos+4);this.pos+=8;return A},readFloat:function(){var A=B.read(this.buf,this.pos,!0,23,4);this.pos+=4;return A},readDouble:function(){var A=
B.read(this.buf,this.pos,!0,52,8);this.pos+=8;return A},readVarint:function(A){var p=this.buf;var y=p[this.pos++];var F=y&127;if(128>y)return F;y=p[this.pos++];F|=(y&127)<<7;if(128>y)return F;y=p[this.pos++];F|=(y&127)<<14;if(128>y)return F;y=p[this.pos++];F|=(y&127)<<21;if(128>y)return F;y=p[this.pos];return C(F|(y&15)<<28,A,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return 1===A%2?(A+1)/-2:A/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var A=this.readVarint()+this.pos,p=this.pos;this.pos=A;if(12<=A-p&&z)return z.decode(this.buf.subarray(p,A));for(var y=this.buf,F="";p<A;){var J=y[p],H=null,P=239<J?4:223<J?3:191<J?2:1;if(p+P>A)break;if(1===P)128>J&&(H=J);else if(2===P){var K=y[p+1];128===(K&192)&&(H=(J&31)<<6|K&63,127>=H&&(H=null))}else if(3===P){K=y[p+1];var N=y[p+2];128===(K&192)&&128===(N&192)&&(H=(J&15)<<12|(K&63)<<6|N&63,2047>=H||55296<=H&&57343>=H)&&(H=null)}else if(4===P){K=y[p+1];N=y[p+2];var M=y[p+
3];128===(K&192)&&128===(N&192)&&128===(M&192)&&(H=(J&15)<<18|(K&63)<<12|(N&63)<<6|M&63,65535>=H||1114112<=H)&&(H=null)}null===H?(H=65533,P=1):65535<H&&(H-=65536,F+=String.fromCharCode(H>>>10&1023|55296),H=56320|H&1023);F+=String.fromCharCode(H);p+=P}return F},readBytes:function(){var A=this.readVarint()+this.pos,p=this.buf.subarray(this.pos,A);this.pos=A;return p},readPackedVarint:function(A,p){if(this.type!==D.Bytes)return A.push(this.readVarint(p));var y=v(this);for(A=A||[];this.pos<y;)A.push(this.readVarint(p));
return A},readPackedSVarint:function(A){if(this.type!==D.Bytes)return A.push(this.readSVarint());var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==D.Bytes)return A.push(this.readBoolean());var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==D.Bytes)return A.push(this.readFloat());var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==
D.Bytes)return A.push(this.readDouble());var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==D.Bytes)return A.push(this.readFixed32());var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==D.Bytes)return A.push(this.readSFixed32());var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==D.Bytes)return A.push(this.readFixed64());
var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==D.Bytes)return A.push(this.readSFixed64());var p=v(this);for(A=A||[];this.pos<p;)A.push(this.readSFixed64());return A},skip:function(A){A&=7;if(A===D.Varint)for(;127<this.buf[this.pos++];);else if(A===D.Bytes)this.pos=this.readVarint()+this.pos;else if(A===D.Fixed32)this.pos+=4;else if(A===D.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+A);},writeTag:function(A,p){this.writeVarint(A<<
3|p)},realloc:function(A){for(var p=this.length||16;p<this.pos+A;)p*=2;p!==this.length&&(A=new Uint8Array(p),A.set(this.buf),this.buf=A,this.length=p)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4);t(this.buf,A,this.pos);this.pos+=4},writeSFixed32:function(A){this.realloc(4);t(this.buf,A,this.pos);this.pos+=4},writeFixed64:function(A){this.realloc(8);t(this.buf,A&-1,this.pos);t(this.buf,Math.floor(A*E),this.pos+
4);this.pos+=8},writeSFixed64:function(A){this.realloc(8);t(this.buf,A&-1,this.pos);t(this.buf,Math.floor(A*E),this.pos+4);this.pos+=8},writeVarint:function(A){A=+A||0;if(268435455<A||0>A){if(0<=A){var p=A%4294967296|0;var y=A/4294967296|0}else p=~(-A%4294967296),y=~(-A/4294967296),p^4294967295?p=p+1|0:(p=0,y=y+1|0);if(1.8446744073709552E19<=A||-1.8446744073709552E19>A)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);A=p;this.buf[this.pos++]=A&127|128;A>>>=7;this.buf[this.pos++]=
A&127|128;A>>>=7;this.buf[this.pos++]=A&127|128;A>>>=7;this.buf[this.pos++]=A&127|128;this.buf[this.pos]=A>>>7&127;this.buf[this.pos++]|=(y&7)<<4|((y>>>=3)?128:0);y&&(this.buf[this.pos++]=y&127|((y>>>=7)?128:0),y&&(this.buf[this.pos++]=y&127|((y>>>=7)?128:0),y&&(this.buf[this.pos++]=y&127|((y>>>=7)?128:0),y&&(this.buf[this.pos++]=y&127|((y>>>=7)?128:0),y&&(this.buf[this.pos++]=y&127)))))}else this.realloc(4),this.buf[this.pos++]=A&127|(127<A?128:0),127>=A||(this.buf[this.pos++]=(A>>>=7)&127|(127<
A?128:0),127>=A||(this.buf[this.pos++]=(A>>>=7)&127|(127<A?128:0),127>=A||(this.buf[this.pos++]=A>>>7&127)))},writeSVarint:function(A){this.writeVarint(0>A?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(!!A)},writeString:function(A){A=String(A);this.realloc(4*A.length);this.pos++;for(var p=this.pos,y=this.buf,F=this.pos,J=0,H,P;J<A.length;J++){H=A.charCodeAt(J);if(55295<H&&57344>H)if(P)if(56320>H){y[F++]=239;y[F++]=191;y[F++]=189;P=H;continue}else H=P-55296<<10|H-56320|65536,P=null;else{56319<
H||J+1===A.length?(y[F++]=239,y[F++]=191,y[F++]=189):P=H;continue}else P&&(y[F++]=239,y[F++]=191,y[F++]=189,P=null);128>H?y[F++]=H:(2048>H?y[F++]=H>>6|192:(65536>H?y[F++]=H>>12|224:(y[F++]=H>>18|240,y[F++]=H>>12&63|128),y[F++]=H>>6&63|128),y[F++]=H&63|128)}this.pos=F;y=this.pos-p;128<=y&&u(p,y,this);this.pos=p-1;this.writeVarint(y);this.pos+=y},writeFloat:function(A){this.realloc(4);B.write(this.buf,A,this.pos,!0,23,4);this.pos+=4},writeDouble:function(A){this.realloc(8);B.write(this.buf,A,this.pos,
!0,52,8);this.pos+=8},writeBytes:function(A){var p=A.length;this.writeVarint(p);this.realloc(p);for(var y=0;y<p;y++)this.buf[this.pos++]=A[y]},writeRawMessage:function(A,p){this.pos++;var y=this.pos;A(p,this);A=this.pos-y;128<=A&&u(y,A,this);this.pos=y-1;this.writeVarint(A);this.pos+=A},writeMessage:function(A,p,y){this.writeTag(A,D.Bytes);this.writeRawMessage(p,y)},writePackedVarint:function(A,p){p.length&&this.writeMessage(A,n,p)},writePackedSVarint:function(A,p){p.length&&this.writeMessage(A,k,
p)},writePackedBoolean:function(A,p){p.length&&this.writeMessage(A,e,p)},writePackedFloat:function(A,p){p.length&&this.writeMessage(A,h,p)},writePackedDouble:function(A,p){p.length&&this.writeMessage(A,c,p)},writePackedFixed32:function(A,p){p.length&&this.writeMessage(A,b,p)},writePackedSFixed32:function(A,p){p.length&&this.writeMessage(A,d,p)},writePackedFixed64:function(A,p){p.length&&this.writeMessage(A,a,p)},writePackedSFixed64:function(A,p){p.length&&this.writeMessage(A,f,p)},writeBytesField:function(A,
p){this.writeTag(A,D.Bytes);this.writeBytes(p)},writeFixed32Field:function(A,p){this.writeTag(A,D.Fixed32);this.writeFixed32(p)},writeSFixed32Field:function(A,p){this.writeTag(A,D.Fixed32);this.writeSFixed32(p)},writeFixed64Field:function(A,p){this.writeTag(A,D.Fixed64);this.writeFixed64(p)},writeSFixed64Field:function(A,p){this.writeTag(A,D.Fixed64);this.writeSFixed64(p)},writeVarintField:function(A,p){this.writeTag(A,D.Varint);this.writeVarint(p)},writeSVarintField:function(A,p){this.writeTag(A,
D.Varint);this.writeSVarint(p)},writeStringField:function(A,p){this.writeTag(A,D.Bytes);this.writeString(p)},writeFloatField:function(A,p){this.writeTag(A,D.Fixed32);this.writeFloat(p)},writeDoubleField:function(A,p){this.writeTag(A,D.Fixed64);this.writeDouble(p)},writeBooleanField:function(A,p){this.writeVarintField(A,!!p)}}};
shadow$provide[331]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var D=function(b){return b&&b.__esModule?b:{"default":b}}(m(122)),C=m(80),v=m(83),w=m(75),u=m(150),n=m(133),k=m(194),h=m(199),c=m(139),e=(0,C.create)();S=function(){function b(d,a,f,l,t){this.id_=t;this.type_=d;this.flatCoordinates_=a;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=f;this.properties_=l}b.prototype.get=function(d){return this.properties_[d]};b.prototype.getExtent=
function(){this.extent_||(this.extent_=this.type_===D["default"].POINT?(0,v.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,v.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_};b.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var d=(0,v.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,u.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,d,0)}return this.flatInteriorPoints_};b.prototype.getFlatInteriorPoints=
function(){if(!this.flatInteriorPoints_){var d=(0,h.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,u.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,d)}return this.flatInteriorPoints_};b.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,k.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};b.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=
[];for(var d=this.flatCoordinates_,a=0,f=this.ends_,l=0,t=f.length;l<t;++l){var q=f[l];a=(0,k.interpolatePoint)(d,a,q,2,.5);(0,w.extend)(this.flatMidpoints_,a);a=q}}return this.flatMidpoints_};b.prototype.getId=function(){return this.id_};b.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};b.prototype.getGeometry=function(){return this};b.prototype.getSimplifiedGeometry=function(d){return this};b.prototype.simplifyTransformed=function(d,a){return this};b.prototype.getProperties=
function(){return this.properties_};b.prototype.getStride=function(){return 2};b.prototype.getStyleFunction=function(){};b.prototype.getType=function(){return this.type_};b.prototype.transform=function(d){d=(0,n.get)(d);var a=d.getExtent();d=d.getWorldExtent();a&&d&&(a=(0,v.getHeight)(d)/(0,v.getHeight)(a),(0,C.compose)(e,d[0],d[3],a,-a,0,0,0),(0,c.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,e,this.flatCoordinates_))};b.prototype.getEnds=function(){return this.ends_};return b}();
S.prototype.getEndss=S.prototype.getEnds;S.prototype.getFlatCoordinates=S.prototype.getOrientedFlatCoordinates;r["default"]=S};
shadow$provide[332]=function(S,m,Y,r){function D(J){D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"===typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H};return D(J)}function C(J){return J&&J.__esModule?J:{"default":J}}function v(){if("function"!==typeof WeakMap)return null;var J=new WeakMap;v=function(){return J};return J}function w(J,H,P){if(3===J){J={keys:[],values:[],features:[]};var K=P.readVarint()+
P.pos;P.readFields(u,J,K);J.length=J.features.length;J.length&&(H[J.name]=J)}}function u(J,H,P){if(15===J)H.version=P.readVarint();else if(1===J)H.name=P.readString();else if(5===J)H.extent=P.readVarint();else if(2===J)H.features.push(P.pos);else if(3===J)H.keys.push(P.readString());else if(4===J){J=null;for(var K=P.readVarint()+P.pos;P.pos<K;)J=P.readVarint()>>3,J=1===J?P.readString():2===J?P.readFloat():3===J?P.readDouble():4===J?P.readVarint64():5===J?P.readVarint():6===J?P.readSVarint():7===J?
P.readBoolean():null;H.values.push(J)}}function n(J,H,P){if(1==J)H.id=P.readVarint();else if(2==J)for(J=P.readVarint()+P.pos;P.pos<J;){var K=H.layer.keys[P.readVarint()],N=H.layer.values[P.readVarint()];H.properties[K]=N}else 3==J?H.type=P.readVarint():4==J&&(H.geometry=P.pos)}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var k=function(J){if(J&&J.__esModule)return J;if(null===J||"object"!==D(J)&&"function"!==typeof J)return{"default":J};var H=v();if(H&&H.has(J))return H.get(J);
var P={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor,N;for(N in J)if(Object.prototype.hasOwnProperty.call(J,N)){var M=K?Object.getOwnPropertyDescriptor(J,N):null;M&&(M.get||M.set)?Object.defineProperty(P,N,M):P[N]=J[N]}P["default"]=J;H&&H.set(J,P);return P}(m(255)),h=C(m(189)),c=C(m(138)),e=C(m(122)),b=C(m(196)),d=C(m(197)),a=C(m(198)),f=C(m(200)),l=C(m(330)),t=C(m(148)),q=C(m(155)),B=C(m(127)),E=C(m(331)),z=C(m(123)),A=m(79),p=m(133),y=m(154),F=function(){var J=function(H,P){J=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(K,N){K.__proto__=N}||function(K,N){for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&(K[M]=N[M])};return J(H,P)};return function(H,P){function K(){this.constructor=H}J(H,P);H.prototype=null===P?Object.create(P):(K.prototype=P.prototype,new K)}}();S=function(J){function H(P){var K=J.call(this)||this;P=P?P:{};K.dataProjection=new B["default"]({code:"",units:z["default"].TILE_PIXELS});K.featureClass_=P.featureClass?P.featureClass:E["default"];K.geometryName_=
P.geometryName;K.layerName_=P.layerName?P.layerName:"layer";K.layers_=P.layers?P.layers:null;K.idProperty_=P.idProperty;return K}F(H,J);H.prototype.readRawGeometry_=function(P,K,N,M){P.pos=K.geometry;K=P.readVarint()+P.pos;for(var O=1,Q=0,G=0,L=0,T=0,V=0;P.pos<K;)Q||(Q=P.readVarint(),O=Q&7,Q>>=3),Q--,1===O||2===O?(G+=P.readSVarint(),L+=P.readSVarint(),1===O&&T>V&&(M.push(T),V=T),N.push(G,L),T+=2):7===O?T>V&&(N.push(N[V],N[V+1]),T+=2):(0,A.assert)(!1,59);T>V&&M.push(T)};H.prototype.createFeature_=
function(P,K,N){var M=K.type;if(0===M)return null;var O=K.properties;if(this.idProperty_){var Q=O[this.idProperty_];delete O[this.idProperty_]}else Q=K.id;O[this.layerName_]=K.layer.name;var G=[];var L=[];this.readRawGeometry_(P,K,G,L);P=L.length;if(1===M)var T=1===P?e["default"].POINT:e["default"].MULTI_POINT;else 2===M?T=1===P?e["default"].LINE_STRING:e["default"].MULTI_LINE_STRING:3===M&&(T=e["default"].POLYGON);M=T;if(this.featureClass_===E["default"])G=new this.featureClass_(M,G,L,O,Q),G.transform(N.dataProjection);
else{if(M==e["default"].POLYGON){M=[];K=P=T=0;for(var V=L.length;K<V;++K){var X=L[K];if((0,y.linearRingIsClockwise)(G,T,X,2)){if(0===M.length)continue;M[M.length-1].push(L[P])}else M.push(L.slice(P,K+1));P=K+1;T=X}L=1<M.length?new f["default"](G,c["default"].XY,M):new q["default"](G,c["default"].XY,L)}else L=M===e["default"].POINT?new t["default"](G,c["default"].XY):M===e["default"].LINE_STRING?new b["default"](G,c["default"].XY):M===e["default"].POLYGON?new q["default"](G,c["default"].XY,L):M===
e["default"].MULTI_POINT?new a["default"](G,c["default"].XY):M===e["default"].MULTI_LINE_STRING?new d["default"](G,c["default"].XY,L):null;G=new this.featureClass_;this.geometryName_&&G.setGeometryName(this.geometryName_);N=(0,k.transformGeometryWithOptions)(L,!1,N);G.setGeometry(N);G.setId(Q);G.setProperties(O,!0)}return G};H.prototype.getType=function(){return h["default"].ARRAY_BUFFER};H.prototype.readFeatures=function(P,K){var N=this.layers_;K=this.adaptOptions(K);var M=(0,p.get)(K.dataProjection);
M.setWorldExtent(K.extent);K.dataProjection=M;P=new l["default"](P);var O=P.readFields(w,{}),Q=[],G;for(G in O)if(!N||-1!=N.indexOf(G)){var L=O[G];M.setExtent(L?[0,0,L.extent,L.extent]:null);for(var T=0,V=L.length;T<V;++T){var X=P,aa=L;X.pos=aa.features[T];var ba=X.readVarint()+X.pos;aa={layer:aa,type:0,properties:{}};X.readFields(n,aa,ba);Q.push(this.createFeature_(P,aa,K))}}return Q};H.prototype.readProjection=function(P){return this.dataProjection};H.prototype.setLayers=function(P){this.layers_=
P};return H}(k["default"]);r["default"]=S};
shadow$provide[333]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;r["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[334]=function(S,m,Y,r){function D(z){return z&&z.__esModule?z:{"default":z}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var C=D(m(220)),v=D(m(226));S=D(m(300));var w=D(m(91));Y=D(m(223));var u=D(m(120)),n=D(m(333)),k=D(m(124)),h=m(80),c=m(83),e=m(89),b=m(236),d=m(237),a=m(77),f=m(92),l=m(157),t=m(101),q=function(){var z=function(A,p){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,F){y.__proto__=F}||function(y,F){for(var J in F)Object.prototype.hasOwnProperty.call(F,
J)&&(y[J]=F[J])};return z(A,p)};return function(A,p){function y(){this.constructor=A}z(A,p);A.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}(),B={image:[Y["default"].POLYGON,Y["default"].CIRCLE,Y["default"].LINE_STRING,Y["default"].IMAGE,Y["default"].TEXT],hybrid:[Y["default"].POLYGON,Y["default"].LINE_STRING],vector:[]},E={image:[Y["default"].DEFAULT],hybrid:[Y["default"].IMAGE,Y["default"].TEXT,Y["default"].DEFAULT],vector:[Y["default"].POLYGON,Y["default"].CIRCLE,Y["default"].LINE_STRING,
Y["default"].IMAGE,Y["default"].TEXT,Y["default"].DEFAULT]};m=function(z){function A(p){p=z.call(this,p)||this;p.boundHandleStyleImageChange_=p.handleStyleImageChange_.bind(p);p.dirty_=!1;p.renderedPixelToCoordinateTransform_=null;p.renderTileImageQueue_={};p.tileListenerKeys_={};p.tmpTransform_=(0,h.create)();return p}q(A,z);A.prototype.prepareTile=function(p,y,F,J){var H=(0,a.getUid)(p),P=p.getState();(P===u["default"].LOADED&&p.hifi||P===u["default"].ERROR)&&H in this.tileListenerKeys_&&((0,f.unlistenByKey)(this.tileListenerKeys_[H]),
delete this.tileListenerKeys_[H]);if(P===u["default"].LOADED||P===u["default"].ERROR)if(this.updateExecutorGroup_(p,y,F),this.tileImageNeedsRender_(p,y,F)){var K=!0;J&&(this.renderTileImageQueue_[H]=p)}return K};A.prototype.getTile=function(p,y,F,J){var H=J.pixelRatio,P=J.viewState,K=P.resolution;P=P.projection;var N=this.getLayer(),M=N.getSource().getTile(p,y,F,H,P);if(M.getState()<u["default"].LOADED)M.wantedResolution=K,K=(0,a.getUid)(M),K in this.tileListenerKeys_||(H=(0,f.listen)(M,w["default"].CHANGE,
this.prepareTile.bind(this,M,H,P,!0)),this.tileListenerKeys_[K]=H);else{var O=J.viewHints;(O[k["default"].ANIMATING]||O[k["default"].INTERACTING])&&M.wantedResolution||(M.wantedResolution=K);this.prepareTile(M,H,P,!1)&&N.getRenderMode()!==n["default"].VECTOR&&this.renderTileImage_(M,J)}return z.prototype.getTile.call(this,p,y,F,J)};A.prototype.isDrawableTile=function(p){var y=this.getLayer();return z.prototype.isDrawableTile.call(this,p)&&(y.getRenderMode()===n["default"].VECTOR?(0,a.getUid)(y)in
p.executorGroups:p.hasContext(y))};A.prototype.getTileImage=function(p){return p.getImage(this.getLayer())};A.prototype.prepareFrame=function(p){var y=this.getLayer().getRevision();this.renderedLayerRevision_!=y&&(this.renderedTiles.length=0);this.renderedLayerRevision_=y;return z.prototype.prepareFrame.call(this,p)};A.prototype.updateExecutorGroup_=function(p,y,F){var J=this.getLayer(),H=J.getRevision(),P=J.getRenderOrder()||null,K=p.wantedResolution,N=p.getReplayState(J);if(N.dirty||N.renderedResolution!==
K||N.renderedRevision!=H||N.renderedRenderOrder!=P||N.renderedZ!==p.sourceZ){var M=J.getSource(),O=J.getDeclutter(),Q=M.getTileGrid(),G=M.getTileGridForProjection(F).getTileCoordExtent(p.wrappedTileCoord),L=M.getSourceTiles(y,F,p),T=(0,a.getUid)(J);delete p.hitDetectionImageData[T];p.executorGroups[T]=[];O&&(p.declutterExecutorGroups[T]=[]);F=function(ba,fa){var ka=L[ba];if(ka.getState()!=u["default"].LOADED)return"continue";fa=Q.getTileCoordExtent(ka.tileCoord);ba=(0,c.getIntersection)(G,fa);fa=
(0,c.equals)(fa,ba)?null:(0,c.buffer)(ba,J.getRenderBuffer()*K,V.tmpExtent);N.dirty=!1;var ha=new C["default"](0,ba,K,y),ma=O?new C["default"](0,ba,K,y):void 0,Aa=(0,d.getSquaredTolerance)(K,y),ea=function(pa){var ta,wa=pa.getStyleFunction()||J.getStyleFunction();wa&&(ta=wa(pa,K));ta&&(pa=this.renderFeature(pa,Aa,ta,ha,ma),this.dirty_=this.dirty_||pa,N.dirty=N.dirty||pa)};ka=ka.getFeatures();P&&P!==N.renderedRenderOrder&&ka.sort(P);for(var ja=0,oa=ka.length;ja<oa;++ja){var ra=ka[ja];fa&&!(0,c.intersects)(fa,
ra.getGeometry().getExtent())||ea.call(V,ra)}fa=ha.finish();ba=J.getRenderMode()!==n["default"].VECTOR&&O&&1===L.length?null:ba;fa=new v["default"](ba,K,y,M.getOverlaps(),fa,J.getRenderBuffer());p.executorGroups[T].push(fa);ma&&(ba=new v["default"](ba,K,y,M.getOverlaps(),ma.finish(),J.getRenderBuffer()),p.declutterExecutorGroups[T].push(ba))};for(var V=this,X=0,aa=L.length;X<aa;++X)F(X,aa);N.renderedRevision=H;N.renderedZ=p.sourceZ;N.renderedRenderOrder=P;N.renderedResolution=K}};A.prototype.forEachFeatureAtCoordinate=
function(p,y,F,J,H){var P=y.viewState.resolution,K=y.viewState.rotation;F=void 0==F?0:F;var N=this.getLayer(),M=N.getSource().getTileGridForProjection(y.viewState.projection),O=(0,c.boundingExtent)([p]);(0,c.buffer)(O,P*F,O);for(var Q={},G=function(ba,fa,ka){var ha=ba.getId();void 0===ha&&(ha=(0,a.getUid)(ba));var ma=Q[ha];if(!ma){if(0===ka)return Q[ha]=!0,J(ba,N,fa);H.push(Q[ha]={feature:ba,layer:N,geometry:fa,distanceSq:ka,callback:J})}else if(!0!==ma&&ka<ma.distanceSq){if(0===ka)return Q[ha]=!0,
H.splice(H.lastIndexOf(ma),1),J(ba,N,fa);ma.geometry=fa;ma.distanceSq=ka}},L=this.renderedTiles,T,V=function(ba,fa){ba=L[ba];fa=M.getTileCoordExtent(ba.wrappedTileCoord);if(!(0,c.intersects)(fa,O))return"continue";fa=(0,a.getUid)(N);var ka=[ba.executorGroups[fa]],ha=ba.declutterExecutorGroups[fa];ha&&ka.push(ha);ka.some(function(ma){for(var Aa=ma===ha?y.declutterTree.all().map(function(oa){return oa.value}):null,ea=0,ja=ma.length;ea<ja;++ea)if(T=ma[ea].forEachFeatureAtCoordinate(p,P,K,F,G,Aa))return!0})},
X=0,aa=L.length;!T&&X<aa;++X)V(X,aa);return T};A.prototype.getFeatures=function(p){return new Promise(function(y,F){F=this.getLayer();for(var J=(0,a.getUid)(F),H=F.getSource(),P=this.renderedProjection,K=P.getExtent(),N=this.renderedResolution,M=H.getTileGridForProjection(P),O=(0,h.apply)(this.renderedPixelToCoordinateTransform_,p.slice()),Q=M.getTileCoordForCoordAndResolution(O,N),G,L=0,T=this.renderedTiles.length;L<T;++L)if(Q.toString()===this.renderedTiles[L].tileCoord.toString()){G=this.renderedTiles[L];
if(G.getState()===u["default"].LOADED&&G.hifi){Q=M.getTileCoordExtent(G.tileCoord);H.getWrapX()&&P.canWrapX()&&!(0,c.containsExtent)(K,Q)&&(0,t.wrapX)(O,P);break}G=void 0}!G||0<G.loadingSourceTiles?y([]):(H=M.getTileCoordExtent(G.wrappedTileCoord),H=(0,c.getTopLeft)(H),O=[(O[0]-H[0])/N,(H[1]-O[1])/N],H=G.getSourceTiles().reduce(function(V,X){return V.concat(X.getFeatures())},[]),P=G.hitDetectionImageData[J],P||this.animatingOrInteracting_||(P=(0,l.toSize)(M.getTileSize(M.getZForResolution(N))),Q=
[P[0]/2,P[1]/2],K=this.renderedRotation_,N=[this.getRenderTransform(M.getTileCoordCenter(G.wrappedTileCoord),N,0,.5,Q[0],Q[1],0)],P=(0,b.createHitDetectionImageData)(P,N,H,F.getStyleFunction(),M.getTileCoordExtent(G.wrappedTileCoord),G.getReplayState(F).renderedResolution,K),G.hitDetectionImageData[J]=P),y((0,b.hitDetect)(O,H,P)))}.bind(this))};A.prototype.handleFontsChanged=function(){(0,e.clear)(this.renderTileImageQueue_);var p=this.getLayer();p.getVisible()&&void 0!==this.renderedLayerRevision_&&
p.changed()};A.prototype.handleStyleImageChange_=function(p){this.renderIfReadyAndVisible()};A.prototype.renderDeclutter=function(p){var y=p.viewHints;y=!(y[k["default"].ANIMATING]||y[k["default"].INTERACTING]);for(var F=this.renderedTiles,J=0,H=F.length;J<H;++J){var P=F[J],K=P.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(K)for(var N=K.length-1;0<=N;--N)K[N].execute(this.context,1,this.getTileRenderTransform(P,p),p.viewState.rotation,y,void 0,p.declutterTree)}};A.prototype.getTileRenderTransform=
function(p,y){var F=y.pixelRatio,J=y.viewState,H=J.center,P=J.resolution;J=J.rotation;var K=y.size,N=Math.round(K[0]*F);K=Math.round(K[1]*F);y=this.getLayer().getSource().getTileGridForProjection(y.viewState.projection);var M=p.tileCoord;p=y.getTileCoordExtent(p.wrappedTileCoord);p=y.getTileCoordExtent(M,this.tmpExtent)[0]-p[0];return(0,h.multiply)((0,h.scale)(this.inversePixelTransform.slice(),1/F,1/F),this.getRenderTransform(H,P,J,F,N,K,p))};A.prototype.renderFrame=function(p,y){var F=p.viewHints;
F=!(F[k["default"].ANIMATING]||F[k["default"].INTERACTING]);this.renderQueuedTileImages_(F,p);z.prototype.renderFrame.call(this,p,y);this.renderedPixelToCoordinateTransform_=p.pixelToCoordinateTransform.slice();this.renderedRotation_=p.viewState.rotation;y=this.getLayer();var J=y.getRenderMode();if(J===n["default"].IMAGE)return this.container;var H=y.getSource();H=p.usedTiles[(0,a.getUid)(H)];for(var P in this.renderTileImageQueue_)H&&P in H||delete this.renderTileImageQueue_[P];P=this.context;J=
E[J];H=p.viewState.rotation;for(var K=this.renderedTiles,N=[],M=[],O=K.length-1;0<=O;--O)for(var Q=K[O],G=this.getTileRenderTransform(Q,p),L=Q.executorGroups[(0,a.getUid)(y)],T=!1,V=0,X=L.length;V<X;++V){var aa=L[V];if(aa.hasExecutors(J)){var ba=Q.tileCoord[0],fa=void 0;if(!T&&(fa=aa.getClipCoords(G))){P.save();for(var ka=0,ha=N.length;ka<ha;++ka){var ma=N[ka];ba<M[ka]&&(P.beginPath(),P.moveTo(fa[0],fa[1]),P.lineTo(fa[2],fa[3]),P.lineTo(fa[4],fa[5]),P.lineTo(fa[6],fa[7]),P.moveTo(ma[6],ma[7]),P.lineTo(ma[4],
ma[5]),P.lineTo(ma[2],ma[3]),P.lineTo(ma[0],ma[1]),P.clip())}}aa.execute(P,1,G,H,F,J);!T&&fa&&(P.restore(),N.push(fa),M.push(ba),T=!0)}}return this.container};A.prototype.renderQueuedTileImages_=function(p,y){for(var F in this.renderTileImageQueue_){if(!p&&8<Date.now()-y.time){y.animate=!0;break}var J=this.renderTileImageQueue_[F];delete this.renderTileImageQueue_[F];this.renderTileImage_(J,y)}};A.prototype.renderFeature=function(p,y,F,J,H){if(!F)return!1;var P=!1;if(Array.isArray(F))for(var K=0,
N=F.length;K<N;++K)P=(0,d.renderFeature)(J,p,F[K],y,this.boundHandleStyleImageChange_,void 0,H)||P;else P=(0,d.renderFeature)(J,p,F,y,this.boundHandleStyleImageChange_,void 0,H);return P};A.prototype.tileImageNeedsRender_=function(p,y,F){F=this.getLayer();y=p.getReplayState(F);F=F.getRevision();var J=p.sourceZ;return y.renderedTileResolution!==p.wantedResolution||y.renderedTileRevision!==F||y.renderedTileZ!==J};A.prototype.renderTileImage_=function(p,y){var F=this.getLayer(),J=p.getReplayState(F),
H=F.getRevision(),P=p.executorGroups[(0,a.getUid)(F)];J.renderedTileRevision=H;J.renderedTileZ=p.sourceZ;H=p.wrappedTileCoord;var K=H[0],N=F.getSource(),M=y.pixelRatio,O=y.viewState.projection,Q=N.getTileGridForProjection(O),G=Q.getResolution(p.tileCoord[0]);G*=y.pixelRatio/p.wantedResolution;var L=Q.getResolution(K);y=p.getContext(F);M=Math.round(Math.max(M,G/M));K=N.getTilePixelSize(K,M,O);y.canvas.width=K[0];y.canvas.height=K[1];M/=G;1!==M&&(K=(0,h.reset)(this.tmpTransform_),(0,h.scale)(K,M,M),
y.setTransform.apply(y,K));H=Q.getTileCoordExtent(H,this.tmpExtent);G/=L;Q=(0,h.reset)(this.tmpTransform_);(0,h.scale)(Q,G,-G);(0,h.translate)(Q,-H[0],-H[3]);H=0;for(G=P.length;H<G;++H)P[H].execute(y,M,Q,0,!0,B[F.getRenderMode()]);J.renderedTileResolution=p.wantedResolution};return A}(S["default"]);r["default"]=m};
shadow$provide[335]=function(S,m,Y,r){function D(h){return h&&h.__esModule?h:{"default":h}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(210));var C=D(m(334)),v=D(m(298)),w=D(m(333)),u=m(79),n=m(89),k=function(){var h=function(c,e){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(b[a]=d[a])};return h(c,e)};return function(c,e){function b(){this.constructor=c}
h(c,e);c.prototype=null===e?Object.create(e):(b.prototype=e.prototype,new b)}}();m=function(h){function c(e){e=e?e:{};var b=(0,n.assign)({},e);delete b.preload;delete b.useInterimTilesOnError;b=h.call(this,b)||this;var d=e.renderMode||w["default"].HYBRID;(0,u.assert)(void 0==d||d==w["default"].IMAGE||d==w["default"].HYBRID||d==w["default"].VECTOR,28);b.renderMode_=d;b.setPreload(e.preload?e.preload:0);b.setUseInterimTilesOnError(void 0!==e.useInterimTilesOnError?e.useInterimTilesOnError:!0);return b}
k(c,h);c.prototype.createRenderer=function(){return new C["default"](this)};c.prototype.getFeatures=function(e){return h.prototype.getFeatures.call(this,e)};c.prototype.getRenderMode=function(){return this.renderMode_};c.prototype.getPreload=function(){return this.get(v["default"].PRELOAD)};c.prototype.getUseInterimTilesOnError=function(){return this.get(v["default"].USE_INTERIM_TILES_ON_ERROR)};c.prototype.setPreload=function(e){this.set(v["default"].PRELOAD,e)};c.prototype.setUseInterimTilesOnError=
function(e){this.set(v["default"].USE_INTERIM_TILES_ON_ERROR,e)};return c}(S["default"]);r["default"]=m};
shadow$provide[336]=function(S,m,Y,r){var D={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},C=/(italic|oblique)$/i,v={};Y.exports=function(w,u,n){var k=v[w];if(!k){Array.isArray(w)||(w=[w]);k=400;for(var h="normal",c=[],e=0,b=w.length;e<
b;++e){var d=w[e].split(" "),a=d[d.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(h=a,d.pop(),a=d[d.length-1].toLowerCase()):C.test(a)&&(a=a.replace(C,""),h=d[d.length-1].replace(a,""));for(var f in D)if(a==f||a==f.replace("-","")||a==f.replace("-"," ")){k=D[f];d.pop();break}"number"==typeof a&&(k=a);d=d.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==d.indexOf(" ")&&(d='"'+d+'"');c.push(d)}k=v[w]=[h,k,c]}return k[0]+" "+k[1]+" "+u+"px"+(n?"/"+n:"")+" "+k[2]}};
shadow$provide[337]=function(S,m,Y,r){var D=m(24).Buffer;(function(C,v){"object"===typeof r&&"undefined"!==typeof Y?v(r):"function"===typeof define&&define.amd?define(["exports"],v):(C=C||self,v(C.mapboxGlStyleSpecification={}))})(this,function(C){function v(g,x){const I={};for(const R in x)void 0!==g[R]&&(I[R]=g[R]);for(const R in g)void 0===I[R]&&(I[R]=g[R]);return I}function w(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs");}function u(g,x){return x={exports:{}},
g(x,x.exports),x.exports}function n(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function k(g,x,I){if(g&&Jb.isObject(g)&&g instanceof n)return g;var R=new n;R.parse(g,x,I);return R}function h(g){for(var x=0;x<yb.layout.length;x++)for(const I in yb[yb.layout[x]])if(I===g)return yb[yb.layout[x]][I];for(x=0;x<yb.paint.length;x++)for(const I in yb[yb.paint[x]])if(I===g)return yb[yb.paint[x]][I];return null}
function c(g,x){for(const I in g.sources)x(g.sources[I])}function e(g,x){for(const I of g.layers)x(I)}function b(g,x,I){function R(U,W){const Z=U[W];Z&&Object.keys(Z).forEach(da=>{I({path:[U.id,W,da],key:da,value:Z[da],reference:h(da),set(ia){Z[da]=ia}})})}e(g,U=>{x.paint&&R(U,"paint");x.layout&&R(U,"layout")})}function d(g,x){for(const I in g)0===I.indexOf("layout")&&x(g[I],I)}function a(g,x){for(const I in g)0===I.indexOf("paint")&&x(g[I],I)}function f(g,x){return"string"===typeof x&&"@"===x[0]?
f(g,g.constants[x]):x}function l(g,x,I){g[I]=g[x];delete g[x]}function t(g){function x(U){const W=Kd.parse(U),Z=W.pathname.split("/");if("mapbox:"!==W.protocol)return U;if("fontstack"===W.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===W.hostname)return`mapbox://fonts/${Z[2]}/{fontstack}/{range}.pbf`}function I(U){function W(Z){return Z.split(",").map(da=>da.trim())}if(Array.isArray(U))return U;if("string"===typeof U)return W(U);if("object"===typeof U)return U.stops.forEach(Z=>
{Z[1]=W(Z[1])}),U;throw Error("unexpected font value");}g.version=8;c(g,U=>{"video"===U.type&&void 0!==U.url&&l(U,"url","urls");"video"===U.type&&U.coordinates.forEach(W=>W.reverse())});e(g,U=>{d(U,W=>{void 0!==W["symbol-min-distance"]&&l(W,"symbol-min-distance","symbol-spacing")});a(U,W=>{void 0!==W["background-image"]&&l(W,"background-image","background-pattern");void 0!==W["line-image"]&&l(W,"line-image","line-pattern");void 0!==W["fill-image"]&&l(W,"fill-image","fill-pattern")})});b(g,{paint:!0,
layout:!0},U=>{const W=f(g,U.value);Array.isArray(W.stops)&&W.stops.forEach(Z=>{Z[1]=f(g,Z[1])});U.set(W)});delete g.constants;e(g,U=>{d(U,W=>{delete W["text-max-size"];delete W["icon-max-size"]});a(U,W=>{W["text-size"]&&(U.layout||(U.layout={}),U.layout["text-size"]=W["text-size"],delete W["text-size"]);W["icon-size"]&&(U.layout||(U.layout={}),U.layout["icon-size"]=W["icon-size"],delete W["icon-size"])})});g.glyphs&&(g.glyphs=x(g.glyphs));e(g,U=>{d(U,W=>{W["text-font"]&&(W["text-font"]=I(W["text-font"]))})});
var R=0;for(let U=g.layers.length-1;0<=U;U--)if("symbol"!==g.layers[U].type){R=U+1;break}R=g.layers.splice(R);R.reverse();g.layers=g.layers.concat(R);return g}function q(g,...x){for(const I of x)for(const R in I)g[R]=I[R];return g}function B(g,x){return{kind:"array",itemType:g,N:x}}function E(g){if("array"===g.kind){const x=E(g.itemType);return"number"===typeof g.N?`array<${x}, ${g.N}>`:"value"===g.itemType.kind?"array":`array<${x}>`}return g.kind}function z(g,x){if("error"===x.kind)return null;if("array"===
g.kind){if("array"===x.kind&&(0===x.N&&"value"===x.itemType.kind||!z(g.itemType,x.itemType))&&("number"!==typeof g.N||g.N===x.N))return null}else{if(g.kind===x.kind)return null;if("value"===g.kind)for(const I of Ld)if(!z(I,x))return null}return`Expected ${E(g)} but found ${E(x)} instead.`}function A(g,x){return x.some(I=>I.kind===g.kind)}function p(g,x){return x.some(I=>"null"===I?null===g:"array"===I?Array.isArray(g):"object"===I?g&&!Array.isArray(g)&&"object"===typeof g:I===typeof g)}function y(g,
x,I,R){return"number"===typeof g&&0<=g&&255>=g&&"number"===typeof x&&0<=x&&255>=x&&"number"===typeof I&&0<=I&&255>=I?"undefined"===typeof R||"number"===typeof R&&0<=R&&1>=R?null:`Invalid rgba value [${[g,x,I,R].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===typeof R?[g,x,I,R]:[g,x,I]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function F(g){if(null===g||"string"===typeof g||"boolean"===typeof g||"number"===typeof g||g instanceof cb||g instanceof Bc||
g instanceof Kb||g instanceof Ub)return!0;if(Array.isArray(g)){for(const x of g)if(!F(x))return!1;return!0}if("object"===typeof g){for(const x in g)if(!F(g[x]))return!1;return!0}return!1}function J(g){if(null===g)return pc;if("string"===typeof g)return Xa;if("boolean"===typeof g)return Ta;if("number"===typeof g)return ua;if(g instanceof cb)return Qb;if(g instanceof Bc)return qc;if(g instanceof Kb)return rc;if(g instanceof Ub)return gc;if(Array.isArray(g)){const x=g.length;let I;for(const R of g)if(g=
J(R),I){if(I!==g){I=Ua;break}}else I=g;return B(I||Ua,x)}return Zb}function H(g){const x=typeof g;return null===g?"":"string"===x||"number"===x||"boolean"===x?String(g):g instanceof cb||g instanceof Kb||g instanceof Ub?g.toString():JSON.stringify(g)}function P(g,x){g[0]=Math.min(g[0],x[0]);g[1]=Math.min(g[1],x[1]);g[2]=Math.max(g[2],x[0]);g[3]=Math.max(g[3],x[1])}function K(g,x){return g[0]<=x[0]||g[2]>=x[2]||g[1]<=x[1]||g[3]>=x[3]?!1:!0}function N(g,x){let I=!1;for(let Z=0,da=x.length;Z<da;Z++){const ia=
x[Z];for(let ca=0,la=ia.length;ca<la-1;ca++){{var R=ia[ca],U=ia[ca+1];var W=g[0]-R[0];R=g[1]-R[1];const qa=g[0]-U[0];U=g[1]-U[1];W=0===W*U-qa*R&&0>=W*qa&&0>=R*U}if(W)return!1;W=ia[ca];U=ia[ca+1];W[1]>g[1]!==U[1]>g[1]&&g[0]<(U[0]-W[0])*(g[1]-W[1])/(U[1]-W[1])+W[0]&&(I=!I)}}return I}function M(g,x,I,R){const U=R[0]-I[0];R=R[1]-I[1];g=(g[0]-I[0])*R-U*(g[1]-I[1]);x=(x[0]-I[0])*R-U*(x[1]-I[1]);return 0<g&&0>x||0>g&&0<x?!0:!1}function O(g,x){for(var I=0;I<g.length;++I)if(!N(g[I],x))return!1;for(I=0;I<g.length-
1;++I){a:{var R=g[I];var U=g[I+1],W=x;for(const qa of W)for(let Ea=0;Ea<qa.length-1;++Ea){W=R;var Z=U,da=qa[Ea],ia=qa[Ea+1],ca=[ia[0]-da[0],ia[1]-da[1]],la=[Z[0]-W[0],Z[1]-W[1]];if(0===ca[0]*la[1]-ca[1]*la[0]?0:M(W,Z,da,ia)&&M(da,ia,W,Z)){R=!0;break a}}R=!1}if(R)return!1}return!0}function Q(g,x,I){const R=[];for(let W=0;W<g.length;W++){const Z=[];for(let da=0;da<g[W].length;da++){{var U=g[W][da];const ia=Math.pow(2,I.z);U=[Math.round((180+U[0])/360*ia*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/
4+U[1]*Math.PI/360)))/360*ia*8192)]}P(x,U);Z.push(U)}R.push(Z)}return R}function G(g,x,I){const R=[];for(let U=0;U<g.length;U++){const W=Q(g[U],x,I);R.push(W)}return R}function L(g,x,I,R){if(g[0]<I[0]||g[0]>I[2]){const U=.5*R;let W=g[0]-I[0]>U?-R:I[0]-g[0]>U?R:0;0===W&&(W=g[0]-I[2]>U?-R:I[2]-g[0]>U?R:0);g[0]+=W}P(x,g)}function T(g,x,I,R){const U=8192*Math.pow(2,R.z);R=[8192*R.x,8192*R.y];const W=[];for(const Z of g)for(const da of Z)g=[da.x+R[0],da.y+R[1]],L(g,x,I,U),W.push(g);return W}function V(g,
x,I,R){const U=8192*Math.pow(2,R.z);R=[8192*R.x,8192*R.y];const W=[];for(const Z of g){g=[];for(const da of Z){const ia=[da.x+R[0],da.y+R[1]];P(x,ia);g.push(ia)}W.push(g)}if(x[2]-x[0]<=U/2){x[0]=x[1]=Infinity;x[2]=x[3]=-Infinity;for(const Z of W)for(const da of Z)L(da,x,I,U)}return W}function X(g,x){var I=[Infinity,Infinity,-Infinity,-Infinity],R=[Infinity,Infinity,-Infinity,-Infinity];const U=g.canonicalID();if("Polygon"===x.type){const W=Q(x.coordinates,R,U),Z=T(g.geometry(),I,R,U);if(!K(I,R))return!1;
for(const da of Z)if(!N(da,W))return!1}if("MultiPolygon"===x.type){x=G(x.coordinates,R,U);g=T(g.geometry(),I,R,U);if(!K(I,R))return!1;for(const W of g){a:{I=W;R=x;for(g=0;g<R.length;g++)if(N(I,R[g])){I=!0;break a}I=!1}if(!I)return!1}}return!0}function aa(g,x){var I=[Infinity,Infinity,-Infinity,-Infinity],R=[Infinity,Infinity,-Infinity,-Infinity];const U=g.canonicalID();if("Polygon"===x.type){const W=Q(x.coordinates,R,U),Z=V(g.geometry(),I,R,U);if(!K(I,R))return!1;for(const da of Z)if(!O(da,W))return!1}if("MultiPolygon"===
x.type){x=G(x.coordinates,R,U);g=V(g.geometry(),I,R,U);if(!K(I,R))return!1;for(const W of g){a:{I=W;R=x;for(g=0;g<R.length;g++)if(O(I,R[g])){I=!0;break a}I=!1}if(!I)return!1}}return!0}function ba(g){if(g instanceof Lb&&("get"===g.name&&1===g.args.length||"feature-state"===g.name||"has"===g.name&&1===g.args.length||"properties"===g.name||"geometry-type"===g.name||"id"===g.name||/^filter-/.test(g.name))||g instanceof $b)return!1;let x=!0;g.eachChild(I=>{x&&!ba(I)&&(x=!1)});return x}function fa(g){if(g instanceof
Lb&&"feature-state"===g.name)return!1;let x=!0;g.eachChild(I=>{x&&!fa(I)&&(x=!1)});return x}function ka(g,x){if(g instanceof Lb&&0<=x.indexOf(g.name))return!1;let I=!0;g.eachChild(R=>{I&&!ka(R,x)&&(I=!1)});return I}function ha(g){if(g instanceof Cc)return ha(g.boundExpression);if(g instanceof Lb&&"error"===g.name||g instanceof Dc||g instanceof $b)return!1;const x=g instanceof Wb||g instanceof Mb;let I=!0;g.eachChild(R=>{I=x?I&&ha(R):I&&R instanceof hc});return I?ba(g)&&ka(g,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script".split(" ")):
!1}function ma(g,x){const I=g.length-1;let R=0,U=I,W,Z,da;for(;R<=U;)if(W=Math.floor((R+U)/2),Z=g[W],da=g[W+1],Z<=x){if(W===I||x<da)return W;R=W+1}else if(Z>x)U=W-1;else throw new Ab("Input is not a number.");return 0}function Aa(g,x,I,R){this.cx=3*g;this.bx=3*(I-g)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*x;this.by=3*(R-x)-this.cy;this.ay=1-this.cy-this.by;this.p1x=g;this.p1y=R;this.p2x=I;this.p2y=R}function ea(g,x,I){return g*(1-I)+x*I}function ja(g){return g>Md?Math.pow(g,1/3):g/Wc+Xc}function oa(g){return g>
ac?g*g*g:Wc*(g-Xc)}function ra(g){return 255*(.0031308>=g?12.92*g:1.055*Math.pow(g,1/2.4)-.055)}function pa(g){g/=255;return.04045>=g?g/12.92:Math.pow((g+.055)/1.055,2.4)}function ta(g){var x=pa(g.r);const I=pa(g.g),R=pa(g.b),U=ja((.4124564*x+.3575761*I+.1804375*R)/.95047),W=ja(.2126729*x+.7151522*I+.072175*R);x=ja((.0193339*x+.119192*I+.9503041*R)/1.08883);return{l:116*W-16,a:500*(U-W),b:200*(W-x),alpha:g.a}}function wa(g){let x=(g.l+16)/116,I=isNaN(g.a)?x:x+g.a/500,R=isNaN(g.b)?x:x-g.b/200;x=1*
oa(x);I=.95047*oa(I);R=1.08883*oa(R);return new cb(ra(3.2404542*I-1.5371385*x-.4985314*R),ra(-.969266*I+1.8760108*x+.041556*R),ra(.0556434*I-.2040259*x+1.0572252*R),g.alpha)}function ya(g,x,I,R){R-=I;g-=I;return 0===R?0:1===x?g/R:(Math.pow(x,g)-1)/(Math.pow(x,R)-1)}function Ha(g,x){return"\x3d\x3d"===g||"!\x3d"===g?"boolean"===x.kind||"string"===x.kind||"number"===x.kind||"null"===x.kind||"value"===x.kind:"string"===x.kind||"number"===x.kind||"value"===x.kind}function Ga(g,x,I,R){return 0===R.compare(x,
I)}function Ba(g,x,I){const R="\x3d\x3d"!==g&&"!\x3d"!==g;return class U{constructor(W,Z,da){this.type=Ta;this.lhs=W;this.rhs=Z;this.collator=da;this.hasUntypedArgument="value"===W.type.kind||"value"===Z.type.kind}static parse(W,Z){if(3!==W.length&&4!==W.length)return Z.error("Expected two or three arguments.");var da=W[0];let ia=Z.parse(W[1],1,Ua);if(!ia)return null;if(!Ha(da,ia.type))return Z.concat(1).error(`"${da}" comparisons are not supported for type '${E(ia.type)}'.`);let ca=Z.parse(W[2],
2,Ua);if(!ca)return null;if(!Ha(da,ca.type))return Z.concat(2).error(`"${da}" comparisons are not supported for type '${E(ca.type)}'.`);if(ia.type.kind!==ca.type.kind&&"value"!==ia.type.kind&&"value"!==ca.type.kind)return Z.error(`Cannot compare types '${E(ia.type)}' and '${E(ca.type)}'.`);R&&("value"===ia.type.kind&&"value"!==ca.type.kind?ia=new Mb(ca.type,[ia]):"value"!==ia.type.kind&&"value"===ca.type.kind&&(ca=new Mb(ia.type,[ca])));da=null;if(4===W.length){if("string"!==ia.type.kind&&"string"!==
ca.type.kind&&"value"!==ia.type.kind&&"value"!==ca.type.kind)return Z.error("Cannot use collator to compare non-string types.");da=Z.parse(W[3],3,qc);if(!da)return null}return new U(ia,ca,da)}evaluate(W){const Z=this.lhs.evaluate(W),da=this.rhs.evaluate(W);if(R&&this.hasUntypedArgument){var ia=J(Z),ca=J(da);if(ia.kind!==ca.kind||"string"!==ia.kind&&"number"!==ia.kind)throw new Ab(`Expected arguments for "${g}" to be (string, string) or (number, number), but found (${ia.kind}, ${ca.kind}) instead.`);
}return this.collator&&!R&&this.hasUntypedArgument&&(ia=J(Z),ca=J(da),"string"!==ia.kind||"string"!==ca.kind)?x(W,Z,da):this.collator?I(W,Z,da,this.collator.evaluate(W)):x(W,Z,da)}eachChild(W){W(this.lhs);W(this.rhs);this.collator&&W(this.collator)}outputDefined(){return!0}serialize(){const W=[g];this.eachChild(Z=>{W.push(Z.serialize())});return W}}}function La(g,[x,I,R,U]){x=x.evaluate(g);I=I.evaluate(g);R=R.evaluate(g);g=U?U.evaluate(g):1;if(U=y(x,I,R,g))throw new Ab(U);return new cb(x/255*g,I/
255*g,R/255*g,g)}function Ya(g,x){g=x[g];return"undefined"===typeof g?null:g}function Qa(g){return{result:"success",value:g}}function Na(g){return{result:"error",value:g}}function xa(g){return"data-driven"===g["property-type"]||"cross-faded-data-driven"===g["property-type"]}function pb(g){return!!g.expression&&-1<g.expression.parameters.indexOf("zoom")}function Fa(g){return!!g.expression&&g.expression.interpolated}function Da(g){return g instanceof Number?"number":g instanceof String?"string":g instanceof
Boolean?"boolean":Array.isArray(g)?"array":null===g?"null":typeof g}function wb(g){return"object"===typeof g&&null!==g&&!Array.isArray(g)}function sc(g){return g}function Rb(g,x){var I="color"===x.type,R=g.stops&&"object"===typeof g.stops[0][0],U=R||void 0!==g.property;U=R||!U;var W=g.type||(Fa(x)?"exponential":"interval");I&&(g=q({},g),g.stops&&(g.stops=g.stops.map(qa=>[qa[0],cb.parse(qa[1])])),g.default=g.default?cb.parse(g.default):cb.parse(x.default));if(g.colorSpace&&"rgb"!==g.colorSpace&&!Yc[g.colorSpace])throw Error(`Unknown color space: ${g.colorSpace}`);
let Z,da,ia;if("exponential"===W)Z=Fb;else if("interval"===W)Z=Ca;else if("categorical"===W){Z=za;da=Object.create(null);for(var ca of g.stops)da[ca[0]]=ca[1];ia=typeof g.stops[0][0]}else if("identity"===W)Z=xb;else throw Error(`Unknown function type "${W}"`);if(R){I={};R=[];for(ca=0;ca<g.stops.length;ca++)U=g.stops[ca],W=U[0].zoom,void 0===I[W]&&(I[W]={zoom:W,type:g.type,property:g.property,default:g.default,stops:[]},R.push(W)),I[W].stops.push([U[0].value,U[1]]);const qa=[];for(var la of R)qa.push([I[la].zoom,
Rb(I[la],x)]);la={name:"linear"};return{kind:"composite",interpolationType:la,interpolationFactor:Hb.interpolationFactor.bind(void 0,la),zoomStops:qa.map(Ea=>Ea[0]),evaluate({zoom:Ea},Ja){return Fb({stops:qa,base:g.base},x,Ea).evaluate(Ea,Ja)}}}return U?(la="exponential"===W?{name:"exponential",base:void 0!==g.base?g.base:1}:null,{kind:"camera",interpolationType:la,interpolationFactor:Hb.interpolationFactor.bind(void 0,la),zoomStops:g.stops.map(qa=>qa[0]),evaluate:({zoom:qa})=>Z(g,x,qa,da,ia)}):{kind:"source",
evaluate(qa,Ea){qa=Ea&&Ea.properties?Ea.properties[g.property]:void 0;return void 0===qa?Nb(g.default,x.default):Z(g,x,qa,da,ia)}}}function Nb(g,x,I){if(void 0!==g)return g;if(void 0!==x)return x;if(void 0!==I)return I}function za(g,x,I,R,U){return Nb(typeof I===U?R[I]:void 0,g.default,x.default)}function Ca(g,x,I){if("number"!==Da(I))return Nb(g.default,x.default);x=g.stops.length;if(1===x||I<=g.stops[0][0])return g.stops[0][1];if(I>=g.stops[x-1][0])return g.stops[x-1][1];I=ma(g.stops.map(R=>R[0]),
I);return g.stops[I][1]}function Fb(g,x,I){const R=void 0!==g.base?g.base:1;if("number"!==Da(I))return Nb(g.default,x.default);var U=g.stops.length;if(1===U||I<=g.stops[0][0])return g.stops[0][1];if(I>=g.stops[U-1][0])return g.stops[U-1][1];U=ma(g.stops.map(ca=>ca[0]),I);const W=sb(I,R,g.stops[U][0],g.stops[U+1][0]),Z=g.stops[U][1],da=g.stops[U+1][1];let ia=Zc[x.type]||sc;if(g.colorSpace&&"rgb"!==g.colorSpace){const ca=Yc[g.colorSpace];ia=(la,qa)=>ca.reverse(ca.interpolate(ca.forward(la),ca.forward(qa),
W))}return"function"===typeof Z.evaluate?{evaluate(...ca){const la=Z.evaluate.apply(void 0,ca);ca=da.evaluate.apply(void 0,ca);if(void 0!==la&&void 0!==ca)return ia(la,ca,W)}}:ia(Z,da,W)}function xb(g,x,I){"color"===x.type?I=cb.parse(I):"formatted"===x.type?I=Kb.fromString(I.toString()):"resolvedImage"===x.type?I=Ub.fromString(I.toString()):Da(I)===x.type||"enum"===x.type&&x.values[I]||(I=void 0);return Nb(I,g.default,x.default)}function sb(g,x,I,R){R-=I;g-=I;return 0===R?0:1===x?g/R:(Math.pow(x,
g)-1)/(Math.pow(x,R)-1)}function ab(g){return Array.isArray(g)&&0<g.length&&"string"===typeof g[0]&&g[0]in Ec}function hb(g,x){if(x){var I={color:Qb,string:Xa,number:ua,enum:Xa,boolean:Ta,formatted:rc,resolvedImage:gc};I="array"===x.type?B(I[x.value]||Ua,x.length):I[x.type]}else I=void 0;I=new Fc(Ec,[],I);return(g=I.parse(g,void 0,void 0,void 0,x&&"string"===x.type?{typeAnnotation:"coerce"}:void 0))?Qa(new $c(g,x)):Na(I.errors)}function Ma(g,x){g=hb(g,x);if("error"===g.result)return g;var I=g.value.expression;
const R=ba(I);if(!R&&!xa(x))return Na([new Ob("","data expressions not supported")]);const U=ka(I,["zoom"]);if(!U&&!pb(x))return Na([new Ob("","zoom expressions not supported")]);if((I=qb(I))||U){if(I instanceof Ob)return Na([I]);if(I instanceof Hb&&!Fa(x))return Na([new Ob("",'"interpolate" expressions cannot be used with this property')])}else return Na([new Ob("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!I)return Qa(R?new Gc("constant",
g.value):new Gc("source",g.value));x=I instanceof Hb?I.interpolation:void 0;return Qa(R?new Hc("camera",g.value,I.labels,x):new Hc("composite",g.value,I.labels,x))}function qb(g){let x=null;if(g instanceof Ic)x=qb(g.result);else if(g instanceof tc)for(const I of g.args){if(x=qb(I))break}else(g instanceof Jc||g instanceof Hb)&&g.input instanceof Lb&&"zoom"===g.input.name&&(x=g);if(x instanceof Ob)return x;g.eachChild(I=>{I=qb(I);I instanceof Ob?x=I:!x&&I?x=new Ob("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):
x&&I&&x!==I&&(x=new Ob("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return x}function gb(g){return"object"===typeof g?["literal",g]:g}function Pa(g,x){let I=g.stops;if(!I)return zb(g,x);const R=I&&"object"===typeof I[0][0],U=R||void 0!==g.property,W=R||!U;I=I.map(Z=>!U&&x.tokens&&"string"===typeof Z[1]?[Z[0],Vb(Z[1])]:[Z[0],gb(Z[1])]);return R?ic(g,x,I):W?ib(g,x,I):jb(g,x,I)}function zb(g,x){const I=["get",g.property];if(void 0===g.default)return"string"===
x.type?["string",I]:I;if("enum"===x.type)return["match",I,Object.keys(x.values),I,g.default];g=["color"===x.type?"to-color":x.type,I,gb(g.default)];"array"===x.type&&g.splice(1,0,x.value,x.length||null);return g}function tb(g){switch(g.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function ic(g,x,I){const R={},U={};var W=[];for(let ia=0;ia<I.length;ia++){const ca=I[ia],la=ca[0].zoom;void 0===R[la]&&(R[la]={zoom:la,type:g.type,property:g.property,
default:g.default},U[la]=[],W.push(la));U[la].push([ca[0].value,ca[1]])}if("exponential"===Gb({},x)){var Z=[tb(g),["linear"],["zoom"]];for(var da of W)W=jb(R[da],x,U[da]),ub(Z,da,W,!1);return Z}da=["step",["zoom"]];for(Z of W)W=jb(R[Z],x,U[Z]),ub(da,Z,W,!0);Bb(da);return da}function eb(g,x){g=g.default;var I=x.default;g=gb(void 0!==g?g:void 0!==I?I:void 0);return void 0===g&&"resolvedImage"===x.type?"":g}function jb(g,x,I){const R=Gb(g,x);var U=["get",g.property];if("categorical"===R&&"boolean"===
typeof I[0][0]){var W=["case"];for(const Z of I)W.push(["\x3d\x3d",U,Z[0]],Z[1]);W.push(eb(g,x));return W}if("categorical"===R){U=["match",U];for(const Z of I)ub(U,Z[0],Z[1],!1);U.push(eb(g,x));return U}if("interval"===R){x=["step",["number",U]];for(const Z of I)ub(x,Z[0],Z[1],!0);Bb(x);return void 0===g.default?x:["case",["\x3d\x3d",["typeof",U],"number"],x,gb(g.default)]}if("exponential"===R){x=void 0!==g.base?g.base:1;x=[tb(g),1===x?["linear"]:["exponential",x],["number",U]];for(W of I)ub(x,W[0],
W[1],!1);return void 0===g.default?x:["case",["\x3d\x3d",["typeof",U],"number"],x,gb(g.default)]}throw Error(`Unknown property function type ${R}`);}function ib(g,x,I,R=["zoom"]){var U=Gb(g,x);x=!1;if("interval"===U)g=["step",R],x=!0;else if("exponential"===U)U=void 0!==g.base?g.base:1,g=[tb(g),1===U?["linear"]:["exponential",U],R];else throw Error(`Unknown zoom function type "${U}"`);for(const W of I)ub(g,W[0],W[1],x);Bb(g);return g}function Bb(g){"step"===g[0]&&3===g.length&&(g.push(0),g.push(g[3]))}
function ub(g,x,I,R){3<g.length&&x===g[g.length-2]||(R&&2===g.length||g.push(x),g.push(I))}function Gb(g,x){return g.type?g.type:x.expression.interpolated?"exponential":"interval"}function Vb(g){const x=["concat"],I=/{([^{}]+)}/g;let R=0;for(let U=I.exec(g);null!==U;U=I.exec(g)){const W=g.slice(R,I.lastIndex-U[0].length);R=I.lastIndex;0<W.length&&x.push(W);x.push(["get",U[1]])}if(1===x.length)return g;if(R<g.length)x.push(g.slice(R));else if(2===x.length)return["to-string",x[1]];return x}function Cb(g){if(!0===
g||!1===g)return!0;if(!Array.isArray(g)||0===g.length)return!1;switch(g[0]){case "has":return 2<=g.length&&"$id"!==g[1]&&"$type"!==g[1];case "in":return 3<=g.length&&("string"!==typeof g[1]||Array.isArray(g[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==g.length||Array.isArray(g[1])||Array.isArray(g[2]);case "any":case "all":for(const x of g.slice(1))if(!Cb(x)&&"boolean"!==typeof x)return!1;return!0;
default:return!0}}function jc(g,x){return g<x?-1:g>x?1:0}function bc(g){if(!Array.isArray(g))return!1;if("within"===g[0])return!0;for(let x=1;x<g.length;x++)if(bc(g[x]))return!0;return!1}function cc(g){if(!g)return!0;const x=g[0];return 1>=g.length?"any"!==x:"\x3d\x3d"===x?kc(g[1],g[2],"\x3d\x3d"):"!\x3d"===x?uc(kc(g[1],g[2],"\x3d\x3d")):"\x3c"===x||"\x3e"===x||"\x3c\x3d"===x||"\x3e\x3d"===x?kc(g[1],g[2],x):"any"===x?["any"].concat(g.slice(1).map(cc)):"all"===x?["all"].concat(g.slice(1).map(cc)):
"none"===x?["all"].concat(g.slice(1).map(cc).map(uc)):"in"===x?vc(g[1],g.slice(2)):"!in"===x?uc(vc(g[1],g.slice(2))):"has"===x?wc(g[1]):"!has"===x?uc(wc(g[1])):"within"===x?g:!0}function kc(g,x,I){switch(g){case "$type":return[`filter-type-${I}`,x];case "$id":return[`filter-id-${I}`,x];default:return[`filter-${I}`,g,x]}}function vc(g,x){if(0===x.length)return!1;switch(g){case "$type":return["filter-type-in",["literal",x]];case "$id":return["filter-id-in",["literal",x]];default:return 200<x.length&&
!x.some(I=>typeof I!==typeof x[0])?["filter-in-large",g,["literal",x.sort(jc)]]:["filter-in-small",g,["literal",x]]}}function wc(g){switch(g){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",g]}}function uc(g){return["!",g]}function ad(g){return xc(g,{})}function xc(g,x){if(Cb(g))return g;if(!g)return!0;const I=g[0];if(1>=g.length)return"any"!==I;if("\x3d\x3d"===I||"!\x3d"===I||"\x3c"===I||"\x3e"===I||"\x3c\x3d"===I||"\x3e\x3d"===I){const [,R,U]=g;g=Nd(R,U,I,x)}else{if("any"===
I)return g=g.slice(1).map(R=>{var U={};R=xc(R,U);{const W=[];for(const Z in U)W.push(["\x3d\x3d",["typeof","$id"===Z?["id"]:["get",Z]],U[Z]]);U=0===W.length?!0:1===W.length?W[0]:["all"].concat(W)}return!0===U?R:["case",U,R,!1]}),["any"].concat(g);if("all"===I)return g=g.slice(1).map(R=>xc(R,x)),1<g.length?["all"].concat(g):[].concat(...g);if("none"===I)return["!",xc(["any"].concat(g.slice(1)),{})];g="in"===I?bd(g[1],g.slice(2)):"!in"===I?bd(g[1],g.slice(2),!0):"has"===I?cd(g[1]):"!has"===I?["!",cd(g[1])]:
!0}return g}function Nd(g,x,I,R){let U;if("$type"===g)return[I,["geometry-type"],x];U="$id"===g?["id"]:["get",g];R&&null!==x&&(R[g]=typeof x);return"\x3d\x3d"===I&&"$id"!==g&&null===x?["all",["has",g],["\x3d\x3d",U,null]]:"!\x3d"===I&&"$id"!==g&&null===x?["any",["!",["has",g]],["!\x3d",U,null]]:[I,U,x]}function bd(g,x,I=!1){if(0===x.length)return I;let R;R="$type"===g?["geometry-type"]:"$id"===g?["id"]:["get",g];g=!0;const U=typeof x[0];for(var W of x)if(typeof W!==U){g=!1;break}return!g||"string"!==
U&&"number"!==U?[I?"all":"any"].concat(x.map(Z=>[I?"!\x3d":"\x3d\x3d",R,Z])):(W=x.sort().filter((Z,da)=>0===da||x[da-1]!==Z),["match",R,W,!I,I])}function cd(g){return"$type"===g?!0:"$id"===g?["!\x3d",["id"],null]:["has",g]}function Od(g){const x=[];e(g,I=>{I.filter&&(I.filter=ad(I.filter))});b(g,{paint:!0,layout:!0},({path:I,value:R,reference:U,set:W})=>{ab(R)||("object"!==typeof R||Array.isArray(R)?U.tokens&&"string"===typeof R&&W(Vb(R)):(W(Pa(R,U)),x.push(I.join("."))))});return g}function Pd(g,
x){const I={};for(const R in g)"ref"!==R&&(I[R]=g[R]);Qd.forEach(R=>{R in x&&(I[R]=x[R])});return I}function kb(g,x){if(Array.isArray(g)){if(!Array.isArray(x)||g.length!==x.length)return!1;for(var I=0;I<g.length;I++)if(!kb(g[I],x[I]))return!1;return!0}if("object"===typeof g&&null!==g&&null!==x){if("object"!==typeof x||Object.keys(g).length!==Object.keys(x).length)return!1;for(I in g)if(!kb(g[I],x[I]))return!1;return!0}return g===x}function Rd(g,x,I,R){g=g||{};x=x||{};let U;for(U in g)if(g.hasOwnProperty(U)&&
!x.hasOwnProperty(U)){var W=U,Z=R;I.push({command:$a.removeSource,args:[W]});Z[W]=!0}for(U in x)if(x.hasOwnProperty(U))if(!g.hasOwnProperty(U))I.push({command:$a.addSource,args:[U,x[U]]});else if(!kb(g[U],x[U])){if(W="geojson"===g[U].type&&"geojson"===x[U].type)a:{var da=void 0;W=g;Z=x;var ia=U;for(da in W[ia])if(W[ia].hasOwnProperty(da)&&"data"!==da&&!kb(W[ia][da],Z[ia][da])){W=!1;break a}for(da in Z[ia])if(Z[ia].hasOwnProperty(da)&&"data"!==da&&!kb(W[ia][da],Z[ia][da])){W=!1;break a}W=!0}if(W)I.push({command:$a.setGeoJSONSourceData,
args:[U,x[U].data]});else{W=U;Z=x;ia=I;da=W;var ca=R;ia.push({command:$a.removeSource,args:[da]});ca[da]=!0;ia.push({command:$a.addSource,args:[W,Z[W]]})}}}function yc(g,x,I,R,U,W){g=g||{};x=x||{};let Z;for(Z in g)g.hasOwnProperty(Z)&&(kb(g[Z],x[Z])||I.push({command:W,args:[R,Z,x[Z],U]}));for(Z in x)x.hasOwnProperty(Z)&&!g.hasOwnProperty(Z)&&(kb(g[Z],x[Z])||I.push({command:W,args:[R,Z,x[Z],U]}))}function dd(g){return g.id}function ed(g,x){g[x.id]=x;return g}function Sd(g,x,I){g=g||[];x=x||[];var R=
g.map(dd);const U=x.map(dd);g=g.reduce(ed,{});x=x.reduce(ed,{});const W=R.slice(),Z=Object.create(null);let da;var ia;let ca,la,qa;for(ia=da=0;da<R.length;da++)ca=R[da],x.hasOwnProperty(ca)?ia++:(I.push({command:$a.removeLayer,args:[ca]}),W.splice(W.indexOf(ca,ia),1));for(ia=da=0;da<U.length;da++)ca=U[U.length-1-da],W[W.length-1-da]!==ca&&(g.hasOwnProperty(ca)?(I.push({command:$a.removeLayer,args:[ca]}),W.splice(W.lastIndexOf(ca,W.length-ia),1)):ia++,la=W[W.length-da],I.push({command:$a.addLayer,
args:[x[ca],la]}),W.splice(W.length-da,0,ca),Z[ca]=!0);for(da=0;da<U.length;da++)if(ca=U[da],ia=g[ca],R=x[ca],!Z[ca]&&!kb(ia,R))if(kb(ia.source,R.source)&&kb(ia["source-layer"],R["source-layer"])&&kb(ia.type,R.type)){yc(ia.layout,R.layout,I,ca,null,$a.setLayoutProperty);yc(ia.paint,R.paint,I,ca,null,$a.setPaintProperty);kb(ia.filter,R.filter)||I.push({command:$a.setFilter,args:[ca,R.filter]});kb(ia.minzoom,R.minzoom)&&kb(ia.maxzoom,R.maxzoom)||I.push({command:$a.setLayerZoomRange,args:[ca,R.minzoom,
R.maxzoom]});for(qa in ia)ia.hasOwnProperty(qa)&&"layout"!==qa&&"paint"!==qa&&"filter"!==qa&&"metadata"!==qa&&"minzoom"!==qa&&"maxzoom"!==qa&&(0===qa.indexOf("paint.")?yc(ia[qa],R[qa],I,ca,qa.slice(6),$a.setPaintProperty):kb(ia[qa],R[qa])||I.push({command:$a.setLayerProperty,args:[ca,qa,R[qa]]}));for(qa in R)R.hasOwnProperty(qa)&&!ia.hasOwnProperty(qa)&&"layout"!==qa&&"paint"!==qa&&"filter"!==qa&&"metadata"!==qa&&"minzoom"!==qa&&"maxzoom"!==qa&&(0===qa.indexOf("paint.")?yc(ia[qa],R[qa],I,ca,qa.slice(6),
$a.setPaintProperty):kb(ia[qa],R[qa])||I.push({command:$a.setLayerProperty,args:[ca,qa,R[qa]]}))}else I.push({command:$a.removeLayer,args:[ca]}),la=W[W.lastIndexOf(ca)+1],I.push({command:$a.addLayer,args:[R,la]})}function fd(g){const x=g.key;return(g=g.value)?[new sa(x,g,"constants have been deprecated as of v8")]:[]}function rb(g){return g instanceof Number||g instanceof String||g instanceof Boolean?g.valueOf():g}function Xb(g){if(Array.isArray(g))return g.map(Xb);if(g instanceof Object&&!(g instanceof
Number||g instanceof String||g instanceof Boolean)){const x={};for(const I in g)x[I]=Xb(g[I]);return x}return rb(g)}function Ib(g){const x=g.key,I=g.value,R=g.valueSpec||{},U=g.objectElementValidators||{},W=g.style;g=g.styleSpec;let Z=[];var da=Da(I);if("object"!==da)return[new sa(x,I,`object expected, ${da} found`)];for(const ca in I){var ia=ca.split(".")[0];da=R[ia]||R["*"];if(U[ia])ia=U[ia];else if(R[ia])ia=Eb;else if(U["*"])ia=U["*"];else if(R["*"])ia=Eb;else{Z.push(new sa(x,I[ca],`unknown property "${ca}"`));
continue}Z=Z.concat(ia({key:(x?`${x}.`:x)+ca,value:I[ca],valueSpec:da,style:W,styleSpec:g,object:I,objectKey:ca},I))}for(const ca in R)U[ca]||R[ca].required&&void 0===R[ca]["default"]&&void 0===I[ca]&&Z.push(new sa(x,I,`missing required property "${ca}"`));return Z}function gd(g){const x=g.value;var I=g.valueSpec;const R=g.style,U=g.styleSpec,W=g.key;g=g.arrayElementValidator||Eb;if("array"!==Da(x))return[new sa(W,x,`array expected, ${Da(x)} found`)];if(I.length&&x.length!==I.length)return[new sa(W,
x,`array length ${I.length} expected, length ${x.length} found`)];if(I["min-length"]&&x.length<I["min-length"])return[new sa(W,x,`array length at least ${I["min-length"]} expected, length ${x.length} found`)];let Z={type:I.value,values:I.values};7>U.$version&&(Z.function=I.function);"object"===Da(I.value)&&(Z=I.value);I=[];for(let da=0;da<x.length;da++)I=I.concat(g({array:x,arrayIndex:da,value:x[da],valueSpec:Z,style:R,styleSpec:U,key:`${W}[${da}]`}));return I}function hd(g){const x=g.key,I=g.value;
g=g.valueSpec;let R=Da(I);"number"===R&&I!==I&&(R="NaN");return"number"!==R?[new sa(x,I,`number expected, ${R} found`)]:"minimum"in g&&I<g.minimum?[new sa(x,I,`${I} is less than the minimum value ${g.minimum}`)]:"maximum"in g&&I>g.maximum?[new sa(x,I,`${I} is greater than the maximum value ${g.maximum}`)]:[]}function id(g){function x(Ja){let Oa=[];const na=Ja.value,va=Ja.key;if("array"!==Da(na))return[new sa(va,na,`array expected, ${Da(na)} found`)];if(2!==na.length)return[new sa(va,na,`array length 2 expected, length ${na.length} found`)];
if(qa){if("object"!==Da(na[0]))return[new sa(va,na,`object expected, ${Da(na[0])} found`)];if(void 0===na[0].zoom)return[new sa(va,na,"object stop key must have zoom")];if(void 0===na[0].value)return[new sa(va,na,"object stop key must have value")];if(ia&&ia>rb(na[0].zoom))return[new sa(va,na[0].zoom,"stop zoom values must appear in ascending order")];rb(na[0].zoom)!==ia&&(ia=rb(na[0].zoom),da=void 0,Z={});Oa=Oa.concat(Ib({key:`${va}[0]`,value:na[0],valueSpec:{zoom:{}},style:Ja.style,styleSpec:Ja.styleSpec,
objectElementValidators:{zoom:hd,value:I}}))}else Oa=Oa.concat(I({key:`${va}[0]`,value:na[0],valueSpec:{},style:Ja.style,styleSpec:Ja.styleSpec},na));return ab(Xb(na[1]))?Oa.concat([new sa(`${va}[1]`,na[1],"expressions are not allowed in function stops.")]):Oa.concat(Eb({key:`${va}[1]`,value:na[1],valueSpec:R,style:Ja.style,styleSpec:Ja.styleSpec}))}function I(Ja,Oa){var na=Da(Ja.value);const va=rb(Ja.value);Oa=null!==Ja.value?Ja.value:Oa;if(!W)W=na;else if(na!==W)return[new sa(Ja.key,Oa,`${na} stop domain type must match previous stop domain type ${W}`)];
if("number"!==na&&"string"!==na&&"boolean"!==na)return[new sa(Ja.key,Oa,"stop domain value must be a number, string, or boolean")];if("number"!==na&&"categorical"!==U)return na=`number expected, ${na} found`,xa(R)&&void 0===U&&(na+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new sa(Ja.key,Oa,na)];if("categorical"===U&&"number"===na&&(!isFinite(va)||Math.floor(va)!==va))return[new sa(Ja.key,Oa,`integer expected, found ${va}`)];if("categorical"!==U&&"number"===
na&&void 0!==da&&va<da)return[new sa(Ja.key,Oa,"stop domain values must appear in ascending order")];da=va;if("categorical"===U&&va in Z)return[new sa(Ja.key,Oa,"stop domain values must be unique")];Z[va]=!0;return[]}const R=g.valueSpec,U=rb(g.value.type);let W,Z={},da,ia;const ca="categorical"!==U&&void 0===g.value.property,la=!ca,qa="array"===Da(g.value.stops)&&"array"===Da(g.value.stops[0])&&"object"===Da(g.value.stops[0][0]),Ea=Ib({key:g.key,value:g.value,valueSpec:g.styleSpec.function,style:g.style,
styleSpec:g.styleSpec,objectElementValidators:{stops:function(Ja){if("identity"===U)return[new sa(Ja.key,Ja.value,'identity function may not have a "stops" property')];let Oa=[];const na=Ja.value;Oa=Oa.concat(gd({key:Ja.key,value:na,valueSpec:Ja.valueSpec,style:Ja.style,styleSpec:Ja.styleSpec,arrayElementValidator:x}));"array"===Da(na)&&0===na.length&&Oa.push(new sa(Ja.key,na,"array must have at least one stop"));return Oa},default:function(Ja){return Eb({key:Ja.key,value:Ja.value,valueSpec:R,style:Ja.style,
styleSpec:Ja.styleSpec})}}});"identity"===U&&ca&&Ea.push(new sa(g.key,g.value,'missing required property "property"'));"identity"===U||g.value.stops||Ea.push(new sa(g.key,g.value,'missing required property "stops"'));"exponential"===U&&g.valueSpec.expression&&!Fa(g.valueSpec)&&Ea.push(new sa(g.key,g.value,"exponential functions not supported"));8<=g.styleSpec.$version&&(la&&!xa(g.valueSpec)?Ea.push(new sa(g.key,g.value,"property functions not supported")):ca&&!pb(g.valueSpec)&&Ea.push(new sa(g.key,
g.value,"zoom functions not supported")));"categorical"!==U&&!qa||void 0!==g.value.property||Ea.push(new sa(g.key,g.value,'"property" property is required'));return Ea}function dc(g){var x=("property"===g.expressionContext?Ma:hb)(Xb(g.value),g.valueSpec);if("error"===x.result)return x.value.map(I=>new sa(`${g.key}${I.key}`,g.value,I.message));x=x.value.expression||x.value._styleExpression.expression;if("property"===g.expressionContext&&"text-font"===g.propertyKey&&!x.outputDefined())return[new sa(g.key,
g.value,`Invalid data expression for "${g.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===g.expressionContext&&"layout"===g.propertyType&&!fa(x))return[new sa(g.key,g.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===g.expressionContext&&!fa(x))return[new sa(g.key,g.value,'"feature-state" data expressions are not supported with filters.')];if(g.expressionContext&&0===g.expressionContext.indexOf("cluster")){if(!ka(x,
["zoom","feature-state"]))return[new sa(g.key,g.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===g.expressionContext&&!ba(x))return[new sa(g.key,g.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function zc(g){const x=g.key,I=g.value;g=g.valueSpec;const R=[];Array.isArray(g.values)?-1===g.values.indexOf(rb(I))&&R.push(new sa(x,I,`expected one of [${g.values.join(", ")}], ${JSON.stringify(I)} found`)):
-1===Object.keys(g.values).indexOf(rb(I))&&R.push(new sa(x,I,`expected one of [${Object.keys(g.values).join(", ")}], ${JSON.stringify(I)} found`));return R}function Kc(g){return Cb(Xb(g.value))?dc(q({},g,{expressionContext:"filter",valueSpec:{value:"boolean"}})):jd(g)}function jd(g){const x=g.value,I=g.key;if("array"!==Da(x))return[new sa(I,x,`array expected, ${Da(x)} found`)];var R=g.styleSpec;let U,W=[];if(1>x.length)return[new sa(I,x,"filter array must have at least 1 element")];W=W.concat(zc({key:`${I}[0]`,
value:x[0],valueSpec:R.filter_operator,style:g.style,styleSpec:g.styleSpec}));switch(rb(x[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=x.length&&"$type"===rb(x[1])&&W.push(new sa(I,x,`"$type" cannot be use with operator "${x[0]}"`));case "\x3d\x3d":case "!\x3d":3!==x.length&&W.push(new sa(I,x,`filter array for operator "${x[0]}" must have 3 elements`));case "in":case "!in":2<=x.length&&(U=Da(x[1]),"string"!==U&&W.push(new sa(`${I}[1]`,x[1],`string expected, ${U} found`)));for(let Z=
2;Z<x.length;Z++)U=Da(x[Z]),"$type"===rb(x[1])?W=W.concat(zc({key:`${I}[${Z}]`,value:x[Z],valueSpec:R.geometry_type,style:g.style,styleSpec:g.styleSpec})):"string"!==U&&"number"!==U&&"boolean"!==U&&W.push(new sa(`${I}[${Z}]`,x[Z],`string, number, or boolean expected, ${U} found`));break;case "any":case "all":case "none":for(R=1;R<x.length;R++)W=W.concat(jd({key:`${I}[${R}]`,value:x[R],style:g.style,styleSpec:g.styleSpec}));break;case "has":case "!has":U=Da(x[1]);2!==x.length?W.push(new sa(I,x,`filter array for "${x[0]}" operator must have 2 elements`)):
"string"!==U&&W.push(new sa(`${I}[1]`,x[1],`string expected, ${U} found`));break;case "within":U=Da(x[1]),2!==x.length?W.push(new sa(I,x,`filter array for "${x[0]}" operator must have 2 elements`)):"object"!==U&&W.push(new sa(`${I}[1]`,x[1],`object expected, ${U} found`))}return W}function kd(g,x){const I=g.key,R=g.style,U=g.styleSpec,W=g.value,Z=g.objectKey;var da=U[`${x}_${g.layerType}`];if(!da)return[];const ia=Z.match(/^(.*)-transition$/);if("paint"===x&&ia&&da[ia[1]]&&da[ia[1]].transition)return Eb({key:I,
value:W,valueSpec:U.transition,style:R,styleSpec:U});da=g.valueSpec||da[Z];if(!da)return[new sa(I,W,`unknown property "${Z}"`)];var ca;if("string"===Da(W)&&xa(da)&&!da.tokens&&(ca=/^{([^}]+)}$/.exec(W)))return[new sa(I,W,`"${Z}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ca[1])} }\`.`)];ca=[];"symbol"===g.layerType&&("text-field"===Z&&R&&!R.glyphs&&ca.push(new sa(I,W,'use of "text-field" requires a style "glyphs" property')),
"text-font"===Z&&wb(Xb(W))&&"identity"===rb(W.type)&&ca.push(new sa(I,W,'"text-font" does not support identity functions')));return ca.concat(Eb({key:g.key,value:W,valueSpec:da,style:R,styleSpec:U,expressionContext:"property",propertyType:x,propertyKey:Z}))}function ld(g){return kd(g,"paint")}function md(g){return kd(g,"layout")}function nd(g){let x=[];const I=g.value,R=g.key;var U=g.style;const W=g.styleSpec;I.type||I.ref||x.push(new sa(R,I,'either "type" or "ref" is required'));let Z=rb(I.type);
const da=rb(I.ref);if(I.id){var ia=rb(I.id);for(let ca=0;ca<g.arrayIndex;ca++){const la=U.layers[ca];rb(la.id)===ia&&x.push(new sa(R,I.id,`duplicate layer id "${I.id}", previously used at line ${la.id.__line__}`))}}if("ref"in I){["type","source","source-layer","filter","layout"].forEach(la=>{la in I&&x.push(new sa(R,I[la],`"${la}" is prohibited for ref layers`))});let ca;U.layers.forEach(la=>{rb(la.id)===da&&(ca=la)});ca?ca.ref?x.push(new sa(R,I.ref,"ref cannot reference another ref layer")):Z=rb(ca.type):
x.push(new sa(R,I.ref,`ref layer "${da}" not found`))}else"background"!==Z&&"sky"!==Z&&(I.source?(ia=(U=U.sources&&U.sources[I.source])&&rb(U.type),U?"vector"===ia&&"raster"===Z?x.push(new sa(R,I.source,`layer "${I.id}" requires a raster source`)):"raster"===ia&&"raster"!==Z?x.push(new sa(R,I.source,`layer "${I.id}" requires a vector source`)):"vector"!==ia||I["source-layer"]?"raster-dem"===ia&&"hillshade"!==Z?x.push(new sa(R,I.source,"raster-dem source can only be used with layer type 'hillshade'.")):
"line"!==Z||!I.paint||!I.paint["line-gradient"]||"geojson"===ia&&U.lineMetrics||x.push(new sa(R,I,`layer "${I.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):x.push(new sa(R,I,`layer "${I.id}" must specify a "source-layer"`)):x.push(new sa(R,I.source,`source "${I.source}" not found`))):x.push(new sa(R,I,'missing required property "source"')));return x=x.concat(Ib({key:R,value:I,valueSpec:W.layer,style:g.style,styleSpec:g.styleSpec,objectElementValidators:{["*"](){return[]},
type(){return Eb({key:`${R}.type`,value:I.type,valueSpec:W.layer.type,style:g.style,styleSpec:g.styleSpec,object:I,objectKey:"type"})},filter:Kc,layout(ca){return Ib({layer:I,key:ca.key,value:ca.value,style:ca.style,styleSpec:ca.styleSpec,objectElementValidators:{["*"](la){return md(q({layerType:Z},la))}}})},paint(ca){return Ib({layer:I,key:ca.key,value:ca.value,style:ca.style,styleSpec:ca.styleSpec,objectElementValidators:{["*"](la){return ld(q({layerType:Z},la))}}})}}}))}function ec(g){const x=
g.value;g=g.key;const I=Da(x);return"string"!==I?[new sa(g,x,`string expected, ${I} found`)]:[]}function od(g){const x=g.value,I=g.key;var R=g.styleSpec;const U=g.style;if(!x.type)return[new sa(I,x,'"type" is required')];const W=rb(x.type);switch(W){case "vector":case "raster":case "raster-dem":return g=Ib({key:I,value:x,valueSpec:R[`source_${W.replace("-","_")}`],style:g.style,styleSpec:R,objectElementValidators:pd});case "geojson":g=Ib({key:I,value:x,valueSpec:R.source_geojson,style:U,styleSpec:R,
objectElementValidators:pd});if(x.cluster)for(const Z in x.clusterProperties){const [da,ia]=x.clusterProperties[Z];R="string"===typeof da?[da,["accumulated"],["get",Z]]:da;g.push(...dc({key:`${I}.${Z}.map`,value:ia,expressionContext:"cluster-map"}));g.push(...dc({key:`${I}.${Z}.reduce`,value:R,expressionContext:"cluster-reduce"}))}return g;case "video":return Ib({key:I,value:x,valueSpec:R.source_video,style:U,styleSpec:R});case "image":return Ib({key:I,value:x,valueSpec:R.source_image,style:U,styleSpec:R});
case "canvas":return[new sa(I,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zc({key:`${I}.type`,value:x.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:U,styleSpec:R})}}function qd(g){const x=g.value,I=g.styleSpec,R=I.light;g=g.style;let U=[];var W=Da(x);if(void 0===x)return U;if("object"!==W)return U=U.concat([new sa("light",x,`object expected, ${W} found`)]);for(const Z in x)U=
(W=Z.match(/^(.*)-transition$/))&&R[W[1]]&&R[W[1]].transition?U.concat(Eb({key:Z,value:x[Z],valueSpec:I.transition,style:g,styleSpec:I})):R[Z]?U.concat(Eb({key:Z,value:x[Z],valueSpec:R[Z],style:g,styleSpec:I})):U.concat([new sa(Z,x[Z],`unknown property "${Z}"`)]);return U}function rd(g){const x=g.value,I=g.key;var R=g.style;const U=g.styleSpec,W=U.terrain;g=[];var Z=Da(x);if(void 0===x)return g;if("object"!==Z)return g=g.concat([new sa("terrain",x,`object expected, ${Z} found`)]);for(var da in x)g=
(Z=da.match(/^(.*)-transition$/))&&W[Z[1]]&&W[Z[1]].transition?g.concat(Eb({key:da,value:x[da],valueSpec:U.transition,style:R,styleSpec:U})):W[da]?g.concat(Eb({key:da,value:x[da],valueSpec:W[da],style:R,styleSpec:U})):g.concat([new sa(da,x[da],`unknown property "${da}"`)]);x.source?(da=(R=R.sources&&R.sources[x.source])&&rb(R.type),R?"raster-dem"!==da&&g.push(new sa(I,x.source,`terrain cannot be used with a source of type ${da}, it only be used with a "raster-dem" source type`)):g.push(new sa(I,x.source,
`source "${x.source}" not found`))):g.push(new sa(I,x,'terrain is missing required property "source"'));return g}function Eb(g){const x=g.value,I=g.valueSpec,R=g.styleSpec;return I.expression&&wb(rb(x))?id(g):I.expression&&ab(Xb(x))?dc(g):I.type&&sd[I.type]?sd[I.type](g):Ib(q({},g,{valueSpec:I.type?R[I.type]:I}))}function Td(g){const x=g.value,I=g.key;g=ec(g);if(g.length)return g;-1===x.indexOf("{fontstack}")&&g.push(new sa(I,x,'"glyphs" url must include a "{fontstack}" token'));-1===x.indexOf("{range}")&&
g.push(new sa(I,x,'"glyphs" url must include a "{range}" token'));return g}function Sb(g,x=yb){let I=[];I=I.concat(Eb({key:"",value:g,valueSpec:x.$root,styleSpec:x,style:g,objectElementValidators:{glyphs:Td,["*"](){return[]}}}));g.constants&&(I=I.concat(fd({key:"constants",value:g.constants,style:g,styleSpec:x})));return td(I)}function td(g){return[].concat(g).sort((x,I)=>x.line-I.line)}function Yb(g){return function(...x){return td(g.apply(this,x))}}function ud(g){if(g instanceof String||"string"===
typeof g||g instanceof D)try{return Ud.parse(g.toString())}catch(x){throw new vd(x);}return g}function lc(g,x=yb){try{g=ud(g)}catch(I){return[I]}return Sb(g,x)}function Ac(g,x){return g&&"string"===Da(g)?!!g.match(x):!0}function wd(g,x,I){const R=new Set(x),U=[];Object.keys(g).forEach(W=>{R.has(W)||U.push(new sa(I?`${I}.${W}`:null,g[W],`Unsupported property "${W}"`))});return U}function Vd(g){const x=[];let I=0;Object.keys(g).forEach((R,U)=>{{var W=g[R];const Z=[];Z.push(...wd(W,["type","url","tileSize"],
"source"));Ac(W.url,/^mapbox:\/\/([^/]*)$/)||Z.push(new sa(`sources[${U}]`,W.url,"Source url must be a valid Mapbox tileset url"));U=Z}U.length||(W=I,R=g[R],R=R.url?R.url.split(",").length:0,I=W+R);x.push(...U)});15<I&&x.push(new sa("sources",null,"Styles must contain 15 or fewer sources"));return x}function Wd(g,x){const I=[];x=wd(g,[...x,"owner","id","cacheControl","draft","created","modified","visibility"]);I.push(...x);(8<g.version||8>g.version)&&I.push(new sa("version",g.version,"Style version must be 8"));
Ac(g.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||I.push(new sa("glyphs",g.glyphs,"Styles must reference glyphs hosted by Mapbox"));Ac(g.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||I.push(new sa("sprite",g.sprite,"Styles must reference sprites hosted by Mapbox"));Ac(g.visibility,/^(public|private)$/)||I.push(new sa("visibility",g.visibility,"Style visibility must be public or private"));return I}var yb={$version:8,$root:{version:{required:!0,type:"enum",values:[8],
doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},
source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",
length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},
volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},
tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",
"default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},
tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},
source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},
layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},
"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},
"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},
square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},
round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",
ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,
doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",
android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},
layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point",
doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},
left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},
"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",
expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.",
"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},
"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",
requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",
"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},
lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key] ≠ value`'},
"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key] ≥ value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key] ≤ value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",
example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},
transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},
{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",
"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},
"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},
"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",
doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,
overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0° is directly above, at zenith, and 90° at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.",
"sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},
"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0° is directly above, at zenith, and 90° at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},
"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",
doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",
"default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",
doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},
"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},Xd=/("(?:[^\\"]|\\.)*")|[:,]/g,Yd=function(g,x){x=x||{};var I=JSON.stringify([1],void 0,void 0===x.indent?2:x.indent).slice(2,-3);var R=""===I?Infinity:void 0===x.maxLength?
80:x.maxLength;var U=x.replacer;return function ca(Z,da,ia){Z&&"function"===typeof Z.toJSON&&(Z=Z.toJSON());var la=JSON.stringify(Z,U);if(void 0===la)return la;ia=R-da.length-ia;if(la.length<=ia){var qa=la.replace(Xd,function(nb,lb){return lb||nb+" "});if(qa.length<=ia)return qa}null!=U&&(Z=JSON.parse(la),U=void 0);if("object"===typeof Z&&null!==Z){var Ea=da+I;var Ja=[];var Oa=0;if(Array.isArray(Z)){var na="[";qa="]";for(ia=Z.length;Oa<ia;Oa++)Ja.push(ca(Z[Oa],Ea,Oa===ia-1?0:1)||"null")}else{na="{";
qa="}";var va=Object.keys(Z);for(ia=va.length;Oa<ia;Oa++){var Ra=va[Oa];var Ka=JSON.stringify(Ra)+": ";Ra=ca(Z[Ra],Ea,Ka.length+(Oa===ia-1?0:1));void 0!==Ra&&Ja.push(Ka+Ra)}}if(0<Ja.length)return[na,I+Ja.join(",\n"+Ea),qa].join("\n"+da)}return la}(g,"",0)},Lc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof S?S:"undefined"!==typeof self?self:{},Zd=u(function(g,x){(function(I){function R(Ia){throw RangeError(Ka[Ia]);}function U(Ia,Va){for(var Sa=Ia.length,
Wa=[];Sa--;)Wa[Sa]=Va(Ia[Sa]);return Wa}function W(Ia,Va){var Sa=Ia.split("@"),Wa="";1<Sa.length&&(Wa=Sa[0]+"@",Ia=Sa[1]);Ia=Ia.replace(Ra,".");Ia=Ia.split(".");Va=U(Ia,Va).join(".");return Wa+Va}function Z(Ia){for(var Va=[],Sa=0,Wa=Ia.length,mb,Db;Sa<Wa;)mb=Ia.charCodeAt(Sa++),55296<=mb&&56319>=mb&&Sa<Wa?(Db=Ia.charCodeAt(Sa++),56320==(Db&64512)?Va.push(((mb&1023)<<10)+(Db&1023)+65536):(Va.push(mb),Sa--)):Va.push(mb);return Va}function da(Ia){return U(Ia,function(Va){var Sa="";65535<Va&&(Va-=65536,
Sa+=lb(Va>>>10&1023|55296),Va=56320|Va&1023);return Sa+=lb(Va)}).join("")}function ia(Ia,Va){return Ia+22+75*(26>Ia)-((0!=Va)<<5)}function ca(Ia,Va,Sa){var Wa=0;Ia=Sa?nb(Ia/700):Ia>>1;for(Ia+=nb(Ia/Va);455<Ia;Wa+=36)Ia=nb(Ia/35);return nb(Wa+36*Ia/(Ia+38))}function la(Ia){var Va=[],Sa=Ia.length,Wa=0,mb=128,Db=72,Za,ob;var fb=Ia.lastIndexOf("-");0>fb&&(fb=0);for(Za=0;Za<fb;++Za)128<=Ia.charCodeAt(Za)&&R("not-basic"),Va.push(Ia.charCodeAt(Za));for(fb=0<fb?fb+1:0;fb<Sa;){Za=Wa;var bb=1;for(ob=36;;ob+=
36){fb>=Sa&&R("invalid-input");var db=Ia.charCodeAt(fb++);db=10>db-48?db-22:26>db-65?db-65:26>db-97?db-97:36;(36<=db||db>nb((2147483647-Wa)/bb))&&R("overflow");Wa+=db*bb;var vb=ob<=Db?1:ob>=Db+26?26:ob-Db;if(db<vb)break;db=36-vb;bb>nb(2147483647/db)&&R("overflow");bb*=db}bb=Va.length+1;Db=ca(Wa-Za,bb,0==Za);nb(Wa/bb)>2147483647-mb&&R("overflow");mb+=nb(Wa/bb);Wa%=bb;Va.splice(Wa++,0,mb)}return da(Va)}function qa(Ia){var Va,Sa,Wa,mb=[];Ia=Z(Ia);var Db=Ia.length;var Za=128;var ob=0;var fb=72;for(Wa=
0;Wa<Db;++Wa){var bb=Ia[Wa];128>bb&&mb.push(lb(bb))}for((Va=Sa=mb.length)&&mb.push("-");Va<Db;){var db=2147483647;for(Wa=0;Wa<Db;++Wa)bb=Ia[Wa],bb>=Za&&bb<db&&(db=bb);var vb=Va+1;db-Za>nb((2147483647-ob)/vb)&&R("overflow");ob+=(db-Za)*vb;Za=db;for(Wa=0;Wa<Db;++Wa)if(bb=Ia[Wa],bb<Za&&2147483647<++ob&&R("overflow"),bb==Za){var Tb=ob;for(db=36;;db+=36){bb=db<=fb?1:db>=fb+26?26:db-fb;if(Tb<bb)break;var xd=Tb-bb;Tb=36-bb;mb.push(lb(ia(bb+xd%Tb,0)));Tb=nb(xd/Tb)}mb.push(lb(ia(Tb,0)));fb=ca(ob,vb,Va==Sa);
ob=0;++Va}++ob;++Za}return mb.join("")}var Ea=x&&!x.nodeType&&x,Ja=g&&!g.nodeType&&g,Oa="object"==typeof Lc&&Lc;if(Oa.global===Oa||Oa.window===Oa||Oa.self===Oa)I=Oa;var na=/^xn--/,va=/[^\x20-\x7E]/,Ra=/[\x2E\u3002\uFF0E\uFF61]/g,Ka={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},nb=Math.floor,lb=String.fromCharCode,Pb;Oa={version:"1.3.2",ucs2:{decode:Z,encode:da},decode:la,encode:qa,toASCII:function(Ia){return W(Ia,
function(Va){return va.test(Va)?"xn--"+qa(Va):Va})},toUnicode:function(Ia){return W(Ia,function(Va){return na.test(Va)?la(Va.slice(4).toLowerCase()):Va})}};if(Ea&&Ja)if(g.exports==Ea)Ja.exports=Oa;else for(Pb in Oa)Oa.hasOwnProperty(Pb)&&(Ea[Pb]=Oa[Pb]);else I.punycode=Oa})(Lc)}),Jb={isString:function(g){return"string"===typeof g},isObject:function(g){return"object"===typeof g&&null!==g},isNull:function(g){return null===g},isNullOrUndefined:function(g){return null==g}},$d=function(g,x,I,R){I=I||"\x3d";
var U={};if("string"!==typeof g||0===g.length)return U;var W=/\+/g;g=g.split(x||"\x26");x=1E3;R&&"number"===typeof R.maxKeys&&(x=R.maxKeys);R=g.length;0<x&&R>x&&(R=x);for(x=0;x<R;++x){var Z=g[x].replace(W,"%20"),da=Z.indexOf(I);if(0<=da){var ia=Z.substr(0,da);Z=Z.substr(da+1)}else ia=Z,Z="";ia=decodeURIComponent(ia);Z=decodeURIComponent(Z);Object.prototype.hasOwnProperty.call(U,ia)?Array.isArray(U[ia])?U[ia].push(Z):U[ia]=[U[ia],Z]:U[ia]=Z}return U},mc=function(g){switch(typeof g){case "string":return g;
case "boolean":return g?"true":"false";case "number":return isFinite(g)?g:"";default:return""}},ae=function(g,x,I,R){x=x||"\x26";I=I||"\x3d";null===g&&(g=void 0);return"object"===typeof g?Object.keys(g).map(function(U){var W=encodeURIComponent(mc(U))+I;return Array.isArray(g[U])?g[U].map(function(Z){return W+encodeURIComponent(mc(Z))}).join(x):W+encodeURIComponent(mc(g[U]))}).join(x):R?encodeURIComponent(mc(R))+I+encodeURIComponent(mc(g)):""},Mc=u(function(g,x){x.decode=x.parse=$d;x.encode=x.stringify=
ae}),be=/^([a-z0-9.+-]+:)/i,ce=/:[0-9]*$/,de=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ee="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),Nc=["'"].concat(ee),yd=["%","/","?",";","#"].concat(Nc),zd=["/","?","#"],Ad=/^[+a-z0-9A-Z_-]{0,63}$/,fe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ge={javascript:!0,"javascript:":!0},Oc={javascript:!0,"javascript:":!0},fc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(g,x,I){if(!Jb.isString(g))throw new TypeError("Parameter 'url' must be a string, not "+
typeof g);var R=g.indexOf("?");R=-1!==R&&R<g.indexOf("#")?"?":"#";g=g.split(R);g[0]=g[0].replace(/\\/g,"/");g=g.join(R);R=g.trim();if(!I&&1===g.split("#").length&&(g=de.exec(R)))return this.href=this.path=R,this.pathname=g[1],g[2]?(this.search=g[2],this.query=x?Mc.parse(this.search.substr(1)):this.search.substr(1)):x&&(this.search="",this.query={}),this;if(g=be.exec(R)){g=g[0];var U=g.toLowerCase();this.protocol=U;R=R.substr(g.length)}if(I||g||R.match(/^\/\/[^@\/]+@[^@\/]+/)){var W="//"===R.substr(0,
2);!W||g&&Oc[g]||(R=R.substr(2),this.slashes=!0)}if(!Oc[g]&&(W||g&&!fc[g])){W=-1;for(I=0;I<zd.length;I++)g=R.indexOf(zd[I]),-1!==g&&(-1===W||g<W)&&(W=g);W=-1===W?R.lastIndexOf("@"):R.lastIndexOf("@",W);-1!==W&&(I=R.slice(0,W),R=R.slice(W+1),this.auth=decodeURIComponent(I));W=-1;for(I=0;I<yd.length;I++)g=R.indexOf(yd[I]),-1!==g&&(-1===W||g<W)&&(W=g);-1===W&&(W=R.length);this.host=R.slice(0,W);R=R.slice(W);this.parseHost();this.hostname=this.hostname||"";W="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-
1];if(!W){var Z=this.hostname.split(/\./);I=0;for(g=Z.length;I<g;I++){var da=Z[I];if(da&&!da.match(Ad)){for(var ia="",ca=0,la=da.length;ca<la;ca++)ia=127<da.charCodeAt(ca)?ia+"x":ia+da[ca];if(!ia.match(Ad)){g=Z.slice(0,I);I=Z.slice(I+1);if(da=da.match(fe))g.push(da[1]),I.unshift(da[2]);I.length&&(R="/"+I.join(".")+R);this.hostname=g.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();W||(this.hostname=Zd.toASCII(this.hostname));I=this.port?":"+this.port:"";this.host=
(this.hostname||"")+I;this.href+=this.host;W&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==R[0]&&(R="/"+R))}if(!ge[U])for(I=0,g=Nc.length;I<g;I++)W=Nc[I],-1!==R.indexOf(W)&&(da=encodeURIComponent(W),da===W&&(da=escape(W)),R=R.split(W).join(da));I=R.indexOf("#");-1!==I&&(this.hash=R.substr(I),R=R.slice(0,I));I=R.indexOf("?");-1!==I?(this.search=R.substr(I),this.query=R.substr(I+1),x&&(this.query=Mc.parse(this.query)),R=R.slice(0,I)):x&&(this.search="",this.query={});R&&(this.pathname=
R);fc[U]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)I=this.pathname||"",this.path=I+(this.search||"");this.href=this.format();return this};n.prototype.format=function(){var g=this.auth||"";g&&(g=encodeURIComponent(g),g=g.replace(/%3A/i,":"),g+="@");var x=this.protocol||"",I=this.pathname||"",R=this.hash||"",U=!1,W="";this.host?U=g+this.host:this.hostname&&(U=g+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(U+=":"+this.port));
this.query&&Jb.isObject(this.query)&&Object.keys(this.query).length&&(W=Mc.stringify(this.query));g=this.search||W&&"?"+W||"";x&&":"!==x.substr(-1)&&(x+=":");this.slashes||(!x||fc[x])&&!1!==U?(U="//"+(U||""),I&&"/"!==I.charAt(0)&&(I="/"+I)):U||(U="");R&&"#"!==R.charAt(0)&&(R="#"+R);g&&"?"!==g.charAt(0)&&(g="?"+g);I=I.replace(/[?#]/g,function(Z){return encodeURIComponent(Z)});g=g.replace("#","%23");return x+U+I+g+R};n.prototype.resolve=function(g){return this.resolveObject(k(g,!1,!0)).format()};n.prototype.resolveObject=
function(g){if(Jb.isString(g)){var x=new n;x.parse(g,!1,!0);g=x}x=new n;for(var I=Object.keys(this),R=0;R<I.length;R++){var U=I[R];x[U]=this[U]}x.hash=g.hash;if(""===g.href)return x.href=x.format(),x;if(g.slashes&&!g.protocol){I=Object.keys(g);for(R=0;R<I.length;R++)U=I[R],"protocol"!==U&&(x[U]=g[U]);fc[x.protocol]&&x.hostname&&!x.pathname&&(x.path=x.pathname="/");x.href=x.format();return x}if(g.protocol&&g.protocol!==x.protocol){if(!fc[g.protocol]){I=Object.keys(g);for(R=0;R<I.length;R++)U=I[R],
x[U]=g[U];x.href=x.format();return x}x.protocol=g.protocol;if(g.host||Oc[g.protocol])x.pathname=g.pathname;else{for(var W=(g.pathname||"").split("/");W.length&&!(g.host=W.shift()););g.host||(g.host="");g.hostname||(g.hostname="");""!==W[0]&&W.unshift("");2>W.length&&W.unshift("");x.pathname=W.join("/")}x.search=g.search;x.query=g.query;x.host=g.host||"";x.auth=g.auth;x.hostname=g.hostname||g.host;x.port=g.port;if(x.pathname||x.search)x.path=(x.pathname||"")+(x.search||"");x.slashes=x.slashes||g.slashes;
x.href=x.format();return x}I=x.pathname&&"/"===x.pathname.charAt(0);var Z=g.host||g.pathname&&"/"===g.pathname.charAt(0),da=I=Z||I||x.host&&g.pathname;R=x.pathname&&x.pathname.split("/")||[];W=g.pathname&&g.pathname.split("/")||[];if(U=x.protocol&&!fc[x.protocol])x.hostname="",x.port=null,x.host&&(""===R[0]?R[0]=x.host:R.unshift(x.host)),x.host="",g.protocol&&(g.hostname=null,g.port=null,g.host&&(""===W[0]?W[0]=g.host:W.unshift(g.host)),g.host=null),I=I&&(""===W[0]||""===R[0]);if(Z)x.host=g.host||
""===g.host?g.host:x.host,x.hostname=g.hostname||""===g.hostname?g.hostname:x.hostname,x.search=g.search,x.query=g.query,R=W;else if(W.length)R||(R=[]),R.pop(),R=R.concat(W),x.search=g.search,x.query=g.query;else if(!Jb.isNullOrUndefined(g.search))return U&&(x.hostname=x.host=R.shift(),U=x.host&&0<x.host.indexOf("@")?x.host.split("@"):!1)&&(x.auth=U.shift(),x.host=x.hostname=U.shift()),x.search=g.search,x.query=g.query,Jb.isNull(x.pathname)&&Jb.isNull(x.search)||(x.path=(x.pathname?x.pathname:"")+
(x.search?x.search:"")),x.href=x.format(),x;if(!R.length)return x.pathname=null,x.path=x.search?"/"+x.search:null,x.href=x.format(),x;Z=R.slice(-1)[0];W=(x.host||g.host||1<R.length)&&("."===Z||".."===Z)||""===Z;for(var ia=0,ca=R.length;0<=ca;ca--)Z=R[ca],"."===Z?R.splice(ca,1):".."===Z?(R.splice(ca,1),ia++):ia&&(R.splice(ca,1),ia--);if(!I&&!da)for(;ia--;ia)R.unshift("..");!I||""===R[0]||R[0]&&"/"===R[0].charAt(0)||R.unshift("");W&&"/"!==R.join("/").substr(-1)&&R.push("");da=""===R[0]||R[0]&&"/"===
R[0].charAt(0);U&&(x.hostname=x.host=da?"":R.length?R.shift():"",U=x.host&&0<x.host.indexOf("@")?x.host.split("@"):!1)&&(x.auth=U.shift(),x.host=x.hostname=U.shift());(I=I||x.host&&R.length)&&!da&&R.unshift("");R.length?x.pathname=R.join("/"):(x.pathname=null,x.path=null);Jb.isNull(x.pathname)&&Jb.isNull(x.search)||(x.path=(x.pathname?x.pathname:"")+(x.search?x.search:""));x.auth=g.auth||x.auth;x.slashes=x.slashes||g.slashes;x.href=x.format();return x};n.prototype.parseHost=function(){var g=this.host,
x=ce.exec(g);x&&(x=x[0],":"!==x&&(this.port=x.substr(1)),g=g.substr(0,g.length-x.length));g&&(this.hostname=g)};var Kd={parse:k,resolve:function(g,x){return k(g,!1,!0).resolve(x)},resolveObject:function(g,x){return g?k(g,!1,!0).resolveObject(x):x},format:function(g){Jb.isString(g)&&(g=k(g));return g instanceof n?g.format():n.prototype.format.call(g)},Url:n};class Ob extends Error{constructor(g,x){super(x);this.message=x;this.key=g}}class Bd{constructor(g,x=[]){this.parent=g;this.bindings={};for(const [I,
R]of x)this.bindings[I]=R}concat(g){return new Bd(this,g)}get(g){if(this.bindings[g])return this.bindings[g];if(this.parent)return this.parent.get(g);throw Error(`${g} not found in scope.`);}has(g){return this.bindings[g]?!0:this.parent?this.parent.has(g):!1}}const pc={kind:"null"},ua={kind:"number"},Xa={kind:"string"},Ta={kind:"boolean"},Qb={kind:"color"},Zb={kind:"object"},Ua={kind:"value"},qc={kind:"collator"},rc={kind:"formatted"},gc={kind:"resolvedImage"},Ld=[pc,ua,Xa,Ta,Qb,rc,Zb,B(Ua),gc];var Cd=
u(function(g,x){function I(ca){ca=Math.round(ca);return 0>ca?0:255<ca?255:ca}function R(ca){return 0>ca?0:1<ca?1:ca}function U(ca){return"%"===ca[ca.length-1]?I(parseFloat(ca)/100*255):I(parseInt(ca))}function W(ca){return"%"===ca[ca.length-1]?R(parseFloat(ca)/100):R(parseFloat(ca))}function Z(ca,la,qa){0>qa?qa+=1:1<qa&&--qa;return 1>6*qa?ca+(la-ca)*qa*6:1>2*qa?la:2>3*qa?ca+(la-ca)*(2/3-qa)*6:ca}function da(ca){ca=ca.replace(/ /g,"").toLowerCase();if(ca in ia)return ia[ca].slice();if("#"===ca[0])return 4===
ca.length?(ca=parseInt(ca.substr(1),16),0<=ca&&4095>=ca?[(ca&3840)>>4|(ca&3840)>>8,ca&240|(ca&240)>>4,ca&15|(ca&15)<<4,1]:null):7===ca.length?(ca=parseInt(ca.substr(1),16),0<=ca&&16777215>=ca?[(ca&16711680)>>16,(ca&65280)>>8,ca&255,1]:null):null;var la=ca.indexOf("("),qa=ca.indexOf(")");if(-1!==la&&qa+1===ca.length){var Ea=ca.substr(0,la);la=ca.substr(la+1,qa-(la+1)).split(",");ca=1;switch(Ea){case "rgba":if(4!==la.length)break;ca=W(la.pop());case "rgb":if(3!==la.length)break;return[U(la[0]),U(la[1]),
U(la[2]),ca];case "hsla":if(4!==la.length)break;ca=W(la.pop());case "hsl":if(3===la.length)return Ea=(parseFloat(la[0])%360+360)%360/360,qa=W(la[1]),la=W(la[2]),qa=.5>=la?la*(qa+1):la+qa-la*qa,la=2*la-qa,[I(255*Z(la,qa,Ea+1/3)),I(255*Z(la,qa,Ea)),I(255*Z(la,qa,Ea-1/3)),ca]}}return null}var ia={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],
blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,
0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],
fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,
1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,
205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,
69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,
1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{x.parseCSSColor=
da}catch(ca){}}).parseCSSColor;class cb{constructor(g,x,I,R=1){this.r=g;this.g=x;this.b=I;this.a=R}static parse(g){if(g){if(g instanceof cb)return g;if("string"===typeof g&&(g=Cd(g)))return new cb(g[0]/255*g[3],g[1]/255*g[3],g[2]/255*g[3],g[3])}}toString(){const [g,x,I,R]=this.toArray();return`rgba(${Math.round(g)},${Math.round(x)},${Math.round(I)},${R})`}toArray(){const {r:g,g:x,b:I,a:R}=this;return 0===R?[0,0,0,0]:[255*g/R,255*x/R,255*I/R,R]}}cb.black=new cb(0,0,0,1);cb.white=new cb(1,1,1,1);cb.transparent=
new cb(0,0,0,0);cb.red=new cb(1,0,0,1);cb.blue=new cb(0,0,1,1);class Bc{constructor(g,x,I){this.sensitivity=g?x?"variant":"case":x?"accent":"base";this.locale=I;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(g,x){return this.collator.compare(g,x)}resolvedLocale(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale}}class Pc{constructor(g,x,I,R,U){this.text=g;this.image=x;this.scale=I;this.fontStack=R;this.textColor=
U}}class Kb{constructor(g){this.sections=g}static fromString(g){return new Kb([new Pc(g,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(g=>0!==g.text.length||g.image&&0!==g.image.name.length)}static factory(g){return g instanceof Kb?g:Kb.fromString(g)}toString(){return 0===this.sections.length?"":this.sections.map(g=>g.text).join("")}serialize(){const g=["format"];for(const x of this.sections){if(x.image){g.push(["image",x.image.name]);continue}g.push(x.text);
const I={};x.fontStack&&(I["text-font"]=["literal",x.fontStack.split(",")]);x.scale&&(I["font-scale"]=x.scale);x.textColor&&(I["text-color"]=["rgba"].concat(x.textColor.toArray()));g.push(I)}return g}}class Ub{constructor(g){this.name=g.name;this.available=g.available}toString(){return this.name}static fromString(g){return g?new Ub({name:g,available:!1}):null}serialize(){return["image",this.name]}}class hc{constructor(g,x){this.type=g;this.value=x}static parse(g,x){if(2!==g.length)return x.error(`'literal' expression requires exactly one argument, but found ${g.length-
1} instead.`);if(!F(g[1]))return x.error("invalid value");g=g[1];let I=J(g);x=x.expectedType;"array"!==I.kind||0!==I.N||!x||"array"!==x.kind||"number"===typeof x.N&&0!==x.N||(I=x);return new hc(I,g)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof cb?["rgba"].concat(this.value.toArray()):this.value instanceof Kb?this.value.serialize():this.value}}class Ab{constructor(g){this.name=
"ExpressionEvaluationError";this.message=g}toJSON(){return this.message}}const Qc={string:Xa,number:ua,boolean:Ta,object:Zb};class Mb{constructor(g,x){this.type=g;this.args=x}static parse(g,x){if(2>g.length)return x.error("Expected at least one argument.");let I=1;var R=g[0];if("array"===R){if(2<g.length){R=g[1];if("string"!==typeof R||!(R in Qc)||"object"===R)return x.error('The item type argument of "array" must be one of string, number, boolean',1);R=Qc[R];I++}else R=Ua;if(3<g.length){if(null!==
g[2]&&("number"!==typeof g[2]||0>g[2]||g[2]!==Math.floor(g[2])))return x.error('The length argument to "array" must be a positive integer literal',2);var U=g[2];I++}U=B(R,U)}else U=Qc[R];for(R=[];I<g.length;I++){const W=x.parse(g[I],I,Ua);if(!W)return null;R.push(W)}return new Mb(U,R)}evaluate(g){for(let x=0;x<this.args.length;x++){const I=this.args[x].evaluate(g);if(!z(this.type,J(I)))return I;if(x===this.args.length-1)throw new Ab(`Expected value to be of type ${E(this.type)}, but found ${E(J(I))} instead.`);
}return null}eachChild(g){this.args.forEach(g)}outputDefined(){return this.args.every(g=>g.outputDefined())}serialize(){var g=this.type;const x=[g.kind];if("array"===g.kind){const I=g.itemType;if("string"===I.kind||"number"===I.kind||"boolean"===I.kind)x.push(I.kind),g=g.N,("number"===typeof g||1<this.args.length)&&x.push(g)}return x.concat(this.args.map(I=>I.serialize()))}}class Rc{constructor(g){this.type=rc;this.sections=g}static parse(g,x){if(2>g.length)return x.error("Expected at least one argument.");
var I=g[1];if(!Array.isArray(I)&&"object"===typeof I)return x.error("First argument must be an image or text section.");I=[];var R=!1;for(let Z=1;Z<=g.length-1;++Z){var U=g[Z];if(R&&"object"===typeof U&&!Array.isArray(U)){R=!1;var W=null;if(U["font-scale"]&&(W=x.parse(U["font-scale"],1,ua),!W))return null;let da=null;if(U["text-font"]&&(da=x.parse(U["text-font"],1,B(Xa)),!da))return null;let ia=null;if(U["text-color"]&&(ia=x.parse(U["text-color"],1,Qb),!ia))return null;U=I[I.length-1];U.scale=W;U.font=
da;U.textColor=ia}else{W=x.parse(g[Z],1,Ua);if(!W)return null;R=W.type.kind;if("string"!==R&&"value"!==R&&"null"!==R&&"resolvedImage"!==R)return x.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");R=!0;I.push({content:W,scale:null,font:null,textColor:null})}}return new Rc(I)}evaluate(g){return new Kb(this.sections.map(x=>{const I=x.content.evaluate(g);return J(I)===gc?new Pc("",I,null,null,null):new Pc(H(I),null,x.scale?x.scale.evaluate(g):null,x.font?x.font.evaluate(g).join(","):
null,x.textColor?x.textColor.evaluate(g):null)}))}eachChild(g){for(const x of this.sections)g(x.content),x.scale&&g(x.scale),x.font&&g(x.font),x.textColor&&g(x.textColor)}outputDefined(){return!1}serialize(){const g=["format"];for(const x of this.sections){g.push(x.content.serialize());const I={};x.scale&&(I["font-scale"]=x.scale.serialize());x.font&&(I["text-font"]=x.font.serialize());x.textColor&&(I["text-color"]=x.textColor.serialize());g.push(I)}return g}}class Sc{constructor(g){this.type=gc;
this.input=g}static parse(g,x){return 2!==g.length?x.error("Expected two arguments."):(g=x.parse(g[1],1,Xa))?new Sc(g):x.error("No image name provided.")}evaluate(g){const x=this.input.evaluate(g),I=Ub.fromString(x);I&&g.availableImages&&(I.available=-1<g.availableImages.indexOf(x));return I}eachChild(g){g(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const he={"to-boolean":Ta,"to-color":Qb,"to-number":ua,"to-string":Xa};class Wb{constructor(g,x){this.type=
g;this.args=x}static parse(g,x){if(2>g.length)return x.error("Expected at least one argument.");var I=g[0];if(("to-boolean"===I||"to-string"===I)&&2!==g.length)return x.error("Expected one argument.");I=he[I];const R=[];for(let U=1;U<g.length;U++){const W=x.parse(g[U],U,Ua);if(!W)return null;R.push(W)}return new Wb(I,R)}evaluate(g){if("boolean"===this.type.kind)return!!this.args[0].evaluate(g);if("color"===this.type.kind){for(const U of this.args){var x=U.evaluate(g);var I=null;if(x instanceof cb)return x;
if("string"===typeof x){var R=g.parseColor(x);if(R)return R}else if(Array.isArray(x)&&(I=3>x.length||4<x.length?`Invalid rbga value ${JSON.stringify(x)}: expected an array containing either three or four numeric values.`:y(x[0],x[1],x[2],x[3]),!I))return new cb(x[0]/255,x[1]/255,x[2]/255,x[3])}throw new Ab(I||`Could not parse color from value '${"string"===typeof x?x:String(JSON.stringify(x))}'`);}if("number"===this.type.kind){x=null;for(R of this.args){x=R.evaluate(g);if(null===x)return 0;I=Number(x);
if(!isNaN(I))return I}throw new Ab(`Could not convert ${JSON.stringify(x)} to number.`);}return"formatted"===this.type.kind?Kb.fromString(H(this.args[0].evaluate(g))):"resolvedImage"===this.type.kind?Ub.fromString(H(this.args[0].evaluate(g))):H(this.args[0].evaluate(g))}eachChild(g){this.args.forEach(g)}outputDefined(){return this.args.every(g=>g.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new Rc([{content:this.args[0],scale:null,font:null,textColor:null}])).serialize();if("resolvedImage"===
this.type.kind)return(new Sc(this.args[0])).serialize();const g=[`to-${this.type.kind}`];this.eachChild(x=>{g.push(x.serialize())});return g}}const ie=["Unknown","Point","LineString","Polygon"];class Dd{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"===typeof this.feature.type?ie[this.feature.type]:
this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(g){let x=this._parseColorCache[g];x||(x=this._parseColorCache[g]=cb.parse(g));return x}}class Lb{constructor(g,x,I,R){this.name=g;this.type=x;this._evaluate=I;this.args=R}evaluate(g){return this._evaluate(g,this.args)}eachChild(g){this.args.forEach(g)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(g=>
g.serialize()))}static parse(g,x){var I=g[0],R=Lb.definitions[I];if(!R)return x.error(`Unknown expression "${I}". If you wanted a literal array, use ["literal", [...]].`,0);var U=Array.isArray(R)?R[0]:R.type;R=Array.isArray(R)?[[R[1],R[2]]]:R.overloads;var W=R.filter(([la])=>!Array.isArray(la)||la.length===g.length-1);let Z=null;for(const [la,qa]of W){Z=new Fc(x.registry,x.path,null,x.scope);const Ea=[];var da=!1;for(var ia=1;ia<g.length;ia++){var ca=g[ia];const Ja=Array.isArray(la)?la[ia-1]:la.type;
ca=Z.parse(ca,1+Ea.length,Ja);if(!ca){da=!0;break}Ea.push(ca)}if(!da)if(Array.isArray(la)&&la.length!==Ea.length)Z.error(`Expected ${la.length} arguments, but found ${Ea.length} instead.`);else{for(da=0;da<Ea.length;da++)ia=Array.isArray(la)?la[da]:la.type,ca=Ea[da],Z.concat(da+1).checkSubtype(ia,ca.type);if(0===Z.errors.length)return new Lb(I,U,qa,Ea)}}if(1===W.length)x.errors.push(...Z.errors);else{I=(W.length?W:R).map(([la])=>{la=Array.isArray(la)?`(${la.map(E).join(", ")})`:`(${E(la.type)}...)`;
return la}).join(" | ");U=[];for(R=1;R<g.length;R++){W=x.parse(g[R],1+U.length);if(!W)return null;U.push(E(W.type))}x.error(`Expected arguments of type ${I}, but found (${U.join(", ")}) instead.`)}return null}static register(g,x){Lb.definitions=x;for(const I in x)g[I]=Lb}}class Dc{constructor(g,x,I){this.type=qc;this.locale=I;this.caseSensitive=g;this.diacriticSensitive=x}static parse(g,x){if(2!==g.length)return x.error("Expected one argument.");g=g[1];if("object"!==typeof g||Array.isArray(g))return x.error("Collator options argument must be an object.");
const I=x.parse(void 0===g["case-sensitive"]?!1:g["case-sensitive"],1,Ta);if(!I)return null;const R=x.parse(void 0===g["diacritic-sensitive"]?!1:g["diacritic-sensitive"],1,Ta);if(!R)return null;let U=null;return g.locale&&(U=x.parse(g.locale,1,Xa),!U)?null:new Dc(I,R,U)}evaluate(g){return new Bc(this.caseSensitive.evaluate(g),this.diacriticSensitive.evaluate(g),this.locale?this.locale.evaluate(g):null)}eachChild(g){g(this.caseSensitive);g(this.diacriticSensitive);this.locale&&g(this.locale)}outputDefined(){return!1}serialize(){const g=
{};g["case-sensitive"]=this.caseSensitive.serialize();g["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(g.locale=this.locale.serialize());return["collator",g]}}class $b{constructor(g,x){this.type=Ta;this.geojson=g;this.geometries=x}static parse(g,x){if(2!==g.length)return x.error(`'within' expression requires exactly one argument, but found ${g.length-1} instead.`);if(F(g[1]))if(g=g[1],"FeatureCollection"===g.type)for(var I=0;I<g.features.length;++I){const R=g.features[I].geometry.type;
if("Polygon"===R||"MultiPolygon"===R)return new $b(g,g.features[I].geometry)}else if("Feature"===g.type){if(I=g.geometry.type,"Polygon"===I||"MultiPolygon"===I)return new $b(g,g.geometry)}else if("Polygon"===g.type||"MultiPolygon"===g.type)return new $b(g,g);return x.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(g){if(null!=g.geometry()&&null!=g.canonicalID()){if("Point"===g.geometryType())return X(g,this.geometries);if("LineString"===g.geometryType())return aa(g,
this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class Cc{constructor(g,x){this.type=x.type;this.name=g;this.boundExpression=x}static parse(g,x){if(2!==g.length||"string"!==typeof g[1])return x.error("'var' expression requires exactly one string literal argument.");g=g[1];return x.scope.has(g)?new Cc(g,x.scope.get(g)):x.error(`Unknown variable "${g}". Make sure "${g}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(g){return this.boundExpression.evaluate(g)}eachChild(){}outputDefined(){return!1}serialize(){return["var",
this.name]}}class Fc{constructor(g,x=[],I,R=new Bd,U=[]){this.registry=g;this.path=x;this.key=x.map(W=>`[${W}]`).join("");this.scope=R;this.errors=U;this.expectedType=I}parse(g,x,I,R,U={}){return x?this.concat(x,I,R)._parse(g,U):this._parse(g,U)}_parse(g,x){function I(W,Z,da){return"assert"===da?new Mb(Z,[W]):"coerce"===da?new Wb(Z,[W]):W}if(null===g||"string"===typeof g||"boolean"===typeof g||"number"===typeof g)g=["literal",g];if(Array.isArray(g)){if(0===g.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
var R=g[0];if("string"!==typeof R)return this.error(`Expression name must be a string, but found ${typeof R} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;var U=this.registry[R];if(U){g=U.parse(g,this);if(!g)return null;if(this.expectedType)if(R=this.expectedType,U=g.type,("string"===R.kind||"number"===R.kind||"boolean"===R.kind||"object"===R.kind||"array"===R.kind)&&"value"===U.kind)g=I(g,R,x.typeAnnotation||"assert");else if(!("color"!==R.kind&&"formatted"!==R.kind&&"resolvedImage"!==
R.kind||"value"!==U.kind&&"string"!==U.kind))g=I(g,R,x.typeAnnotation||"coerce");else if(this.checkSubtype(R,U))return null;if(!(g instanceof hc)&&"resolvedImage"!==g.type.kind&&ha(g)){x=new Dd;try{g=new hc(g.type,g.evaluate(x))}catch(W){return this.error(W.message),null}}return g}return this.error(`Unknown expression "${R}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof g?this.error("'undefined' value invalid. Use null instead."):"object"===typeof g?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):
this.error(`Expected an array, but found ${typeof g} instead.`)}concat(g,x,I){g="number"===typeof g?this.path.concat(g):this.path;I=I?this.scope.concat(I):this.scope;return new Fc(this.registry,g,x||null,I,this.errors)}error(g,...x){x=`${this.key}${x.map(I=>`[${I}]`).join("")}`;this.errors.push(new Ob(x,g))}checkSubtype(g,x){(g=z(g,x))&&this.error(g);return g}}class Jc{constructor(g,x,I){this.type=g;this.input=x;this.labels=[];this.outputs=[];for(const [R,U]of I)this.labels.push(R),this.outputs.push(U)}static parse(g,
x){if(4>g.length-1)return x.error(`Expected at least 4 arguments, but found only ${g.length-1}.`);if(0!==(g.length-1)%2)return x.error("Expected an even number of arguments.");const I=x.parse(g[1],1,ua);if(!I)return null;const R=[];let U=null;x.expectedType&&"value"!==x.expectedType.kind&&(U=x.expectedType);for(let Z=1;Z<g.length;Z+=2){const da=1===Z?-Infinity:g[Z];var W=g[Z+1];const ia=Z,ca=Z+1;if("number"!==typeof da)return x.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
ia);if(R.length&&R[R.length-1][0]>=da)return x.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ia);W=x.parse(W,ca,U);if(!W)return null;U=U||W.type;R.push([da,W])}return new Jc(U,I,R)}evaluate(g){var x=this.labels;const I=this.outputs;if(1===x.length)return I[0].evaluate(g);const R=this.input.evaluate(g);if(R<=x[0])return I[0].evaluate(g);const U=x.length;if(R>=x[U-1])return I[U-1].evaluate(g);x=ma(x,R);return I[x].evaluate(g)}eachChild(g){g(this.input);
for(const x of this.outputs)g(x)}outputDefined(){return this.outputs.every(g=>g.outputDefined())}serialize(){const g=["step",this.input.serialize()];for(let x=0;x<this.labels.length;x++)0<x&&g.push(this.labels[x]),g.push(this.outputs[x].serialize());return g}}Aa.prototype.sampleCurveX=function(g){return((this.ax*g+this.bx)*g+this.cx)*g};Aa.prototype.sampleCurveY=function(g){return((this.ay*g+this.by)*g+this.cy)*g};Aa.prototype.sampleCurveDerivativeX=function(g){return(3*this.ax*g+2*this.bx)*g+this.cx};
Aa.prototype.solveCurveX=function(g,x){"undefined"===typeof x&&(x=1E-6);var I;var R=g;for(I=0;8>I;I++){var U=this.sampleCurveX(R)-g;if(Math.abs(U)<x)return R;var W=this.sampleCurveDerivativeX(R);if(1E-6>Math.abs(W))break;R-=U/W}I=0;W=1;R=g;if(R<I)return I;if(R>W)return W;for(;I<W;){U=this.sampleCurveX(R);if(Math.abs(U-g)<x)break;g>U?I=R:W=R;R=.5*(W-I)+I}return R};Aa.prototype.solve=function(g,x){return this.sampleCurveY(this.solveCurveX(g,x))};var Zc=Object.freeze({__proto__:null,number:ea,color:function(g,
x,I){return new cb(ea(g.r,x.r,I),ea(g.g,x.g,I),ea(g.b,x.b,I),ea(g.a,x.a,I))},array:function(g,x,I){return g.map((R,U)=>ea(R,x[U],I))}});const Xc=4/29,ac=6/29,Wc=3*ac*ac,Md=ac*ac*ac,je=Math.PI/180,ke=180/Math.PI,nc={forward:ta,reverse:wa,interpolate:function(g,x,I){return{l:ea(g.l,x.l,I),a:ea(g.a,x.a,I),b:ea(g.b,x.b,I),alpha:ea(g.alpha,x.alpha,I)}}},oc={forward:function(g){const {l:x,a:I,b:R}=ta(g),U=Math.atan2(R,I)*ke;return{h:0>U?U+360:U,c:Math.sqrt(I*I+R*R),l:x,alpha:g.a}},reverse:function(g){const x=
g.h*je,I=g.c;return wa({l:g.l,a:Math.cos(x)*I,b:Math.sin(x)*I,alpha:g.alpha})},interpolate:function(g,x,I){{var R=g.h;const U=x.h-R;R+=I*(180<U||-180>U?U-360*Math.round(U/360):U)}return{h:R,c:ea(g.c,x.c,I),l:ea(g.l,x.l,I),alpha:ea(g.alpha,x.alpha,I)}}};var Yc=Object.freeze({__proto__:null,lab:nc,hcl:oc});class Hb{constructor(g,x,I,R,U){this.type=g;this.operator=x;this.interpolation=I;this.input=R;this.labels=[];this.outputs=[];for(const [W,Z]of U)this.labels.push(W),this.outputs.push(Z)}static interpolationFactor(g,
x,I,R){let U=0;"exponential"===g.name?U=ya(x,g.base,I,R):"linear"===g.name?U=ya(x,1,I,R):"cubic-bezier"===g.name&&(g=g.controlPoints,U=(new Aa(g[0],g[1],g[2],g[3])).solve(ya(x,1,I,R)));return U}static parse(g,x){let [I,R,U,...W]=g;if(!Array.isArray(R)||0===R.length)return x.error("Expected an interpolation type expression.",1);if("linear"===R[0])R={name:"linear"};else if("exponential"===R[0]){var Z=R[1];if("number"!==typeof Z)return x.error("Exponential interpolation requires a numeric base.",1,1);
R={name:"exponential",base:Z}}else if("cubic-bezier"===R[0]){Z=R.slice(1);if(4!==Z.length||Z.some(ia=>"number"!==typeof ia||0>ia||1<ia))return x.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);R={name:"cubic-bezier",controlPoints:Z}}else return x.error(`Unknown interpolation type ${String(R[0])}`,1,0);if(4>g.length-1)return x.error(`Expected at least 4 arguments, but found only ${g.length-1}.`);if(0!==(g.length-1)%2)return x.error("Expected an even number of arguments.");
U=x.parse(U,2,ua);if(!U)return null;g=[];Z=null;"interpolate-hcl"===I||"interpolate-lab"===I?Z=Qb:x.expectedType&&"value"!==x.expectedType.kind&&(Z=x.expectedType);for(let ia=0;ia<W.length;ia+=2){const ca=W[ia];var da=W[ia+1];const la=ia+3,qa=ia+4;if("number"!==typeof ca)return x.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',la);if(g.length&&g[g.length-1][0]>=ca)return x.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',
la);da=x.parse(da,qa,Z);if(!da)return null;Z=Z||da.type;g.push([ca,da])}return"number"===Z.kind||"color"===Z.kind||"array"===Z.kind&&"number"===Z.itemType.kind&&"number"===typeof Z.N?new Hb(Z,I,R,U,g):x.error(`Type ${E(Z)} is not interpolatable.`)}evaluate(g){var x=this.labels;const I=this.outputs;if(1===x.length)return I[0].evaluate(g);var R=this.input.evaluate(g);if(R<=x[0])return I[0].evaluate(g);var U=x.length;if(R>=x[U-1])return I[U-1].evaluate(g);U=ma(x,R);x=Hb.interpolationFactor(this.interpolation,
R,x[U],x[U+1]);R=I[U].evaluate(g);g=I[U+1].evaluate(g);return"interpolate"===this.operator?Zc[this.type.kind.toLowerCase()](R,g,x):"interpolate-hcl"===this.operator?oc.reverse(oc.interpolate(oc.forward(R),oc.forward(g),x)):nc.reverse(nc.interpolate(nc.forward(R),nc.forward(g),x))}eachChild(g){g(this.input);for(const x of this.outputs)g(x)}outputDefined(){return this.outputs.every(g=>g.outputDefined())}serialize(){var g="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?
1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);g=[this.operator,g,this.input.serialize()];for(let x=0;x<this.labels.length;x++)g.push(this.labels[x],this.outputs[x].serialize());return g}}class tc{constructor(g,x){this.type=g;this.args=x}static parse(g,x){if(2>g.length)return x.error("Expectected at least one argument.");let I=null;const R=x.expectedType;R&&"value"!==R.kind&&(I=R);const U=[];for(const W of g.slice(1)){g=
x.parse(W,1+U.length,I,void 0,{typeAnnotation:"omit"});if(!g)return null;I=I||g.type;U.push(g)}return R&&U.some(W=>z(R,W.type))?new tc(Ua,U):new tc(I,U)}evaluate(g){let x=null,I=0,R;for(const U of this.args)if(I++,(x=U.evaluate(g))&&x instanceof Ub&&!x.available&&(R||(R=x.name),x=null,I===this.args.length&&(x=R)),null!==x)break;return x}eachChild(g){this.args.forEach(g)}outputDefined(){return this.args.every(g=>g.outputDefined())}serialize(){const g=["coalesce"];this.eachChild(x=>{g.push(x.serialize())});
return g}}class Ic{constructor(g,x){this.type=x.type;this.bindings=[].concat(g);this.result=x}evaluate(g){return this.result.evaluate(g)}eachChild(g){for(const x of this.bindings)g(x[1]);g(this.result)}static parse(g,x){if(4>g.length)return x.error(`Expected at least 3 arguments, but found ${g.length-1} instead.`);const I=[];for(let R=1;R<g.length-1;R+=2){const U=g[R];if("string"!==typeof U)return x.error(`Expected string, but found ${typeof U} instead.`,R);if(/[^a-zA-Z0-9_]/.test(U))return x.error("Variable names must contain only alphanumeric characters or '_'.",
R);const W=x.parse(g[R+1],R+1);if(!W)return null;I.push([U,W])}return(g=x.parse(g[g.length-1],g.length-1,x.expectedType,I))?new Ic(I,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const g=["let"];for(const [x,I]of this.bindings)g.push(x,I.serialize());g.push(this.result.serialize());return g}}class Ed{constructor(g,x,I){this.type=g;this.index=x;this.input=I}static parse(g,x){if(3!==g.length)return x.error(`Expected 2 arguments, but found ${g.length-1} instead.`);const I=x.parse(g[1],
1,ua);g=x.parse(g[2],2,B(x.expectedType||Ua));return I&&g?new Ed(g.type.itemType,I,g):null}evaluate(g){const x=this.index.evaluate(g);g=this.input.evaluate(g);if(0>x)throw new Ab(`Array index out of bounds: ${x} < 0.`);if(x>=g.length)throw new Ab(`Array index out of bounds: ${x} > ${g.length-1}.`);if(x!==Math.floor(x))throw new Ab(`Array index must be an integer, but found ${x} instead.`);return g[x]}eachChild(g){g(this.index);g(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),
this.input.serialize()]}}class Fd{constructor(g,x){this.type=Ta;this.needle=g;this.haystack=x}static parse(g,x){if(3!==g.length)return x.error(`Expected 2 arguments, but found ${g.length-1} instead.`);const I=x.parse(g[1],1,Ua);g=x.parse(g[2],2,Ua);return I&&g?A(I.type,[Ta,Xa,ua,pc,Ua])?new Fd(I,g):x.error(`Expected first argument to be of type boolean, string, number or null, but found ${E(I.type)} instead`):null}evaluate(g){const x=this.needle.evaluate(g);g=this.haystack.evaluate(g);if(!g)return!1;
if(!p(x,["boolean","string","number","null"]))throw new Ab(`Expected first argument to be of type boolean, string, number or null, but found ${E(J(x))} instead.`);if(!p(g,["string","array"]))throw new Ab(`Expected second argument to be of type array or string, but found ${E(J(g))} instead.`);return 0<=g.indexOf(x)}eachChild(g){g(this.needle);g(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Tc{constructor(g,x,I){this.type=ua;
this.needle=g;this.haystack=x;this.fromIndex=I}static parse(g,x){if(2>=g.length||5<=g.length)return x.error(`Expected 3 or 4 arguments, but found ${g.length-1} instead.`);const I=x.parse(g[1],1,Ua),R=x.parse(g[2],2,Ua);return I&&R?A(I.type,[Ta,Xa,ua,pc,Ua])?4===g.length?(g=x.parse(g[3],3,ua))?new Tc(I,R,g):null:new Tc(I,R):x.error(`Expected first argument to be of type boolean, string, number or null, but found ${E(I.type)} instead`):null}evaluate(g){const x=this.needle.evaluate(g),I=this.haystack.evaluate(g);
if(!p(x,["boolean","string","number","null"]))throw new Ab(`Expected first argument to be of type boolean, string, number or null, but found ${E(J(x))} instead.`);if(!p(I,["string","array"]))throw new Ab(`Expected second argument to be of type array or string, but found ${E(J(I))} instead.`);return this.fromIndex?(g=this.fromIndex.evaluate(g),I.indexOf(x,g)):I.indexOf(x)}eachChild(g){g(this.needle);g(this.haystack);this.fromIndex&&g(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&
void 0!==this.fromIndex){const g=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),g]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Gd{constructor(g,x,I,R,U,W){this.inputType=g;this.type=x;this.input=I;this.cases=R;this.outputs=U;this.otherwise=W}static parse(g,x){if(5>g.length)return x.error(`Expected at least 4 arguments, but found only ${g.length-1}.`);if(1!==g.length%2)return x.error("Expected an even number of arguments.");
let I,R;x.expectedType&&"value"!==x.expectedType.kind&&(R=x.expectedType);const U={},W=[];for(var Z=2;Z<g.length-1;Z+=2){var da=g[Z];const ia=g[Z+1];Array.isArray(da)||(da=[da]);const ca=x.concat(Z);if(0===da.length)return ca.error("Expected at least one branch label.");for(const la of da){if("number"!==typeof la&&"string"!==typeof la)return ca.error("Branch labels must be numbers or strings.");if("number"===typeof la&&Math.abs(la)>Number.MAX_SAFE_INTEGER)return ca.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);
if("number"===typeof la&&Math.floor(la)!==la)return ca.error("Numeric branch labels must be integer values.");if(!I)I=J(la);else if(ca.checkSubtype(I,J(la)))return null;if("undefined"!==typeof U[String(la)])return ca.error("Branch labels must be unique.");U[String(la)]=W.length}da=x.parse(ia,Z,R);if(!da)return null;R=R||da.type;W.push(da)}Z=x.parse(g[1],1,Ua);if(!Z)return null;g=x.parse(g[g.length-1],g.length-1,R);return!g||"value"!==Z.type.kind&&x.concat(1).checkSubtype(I,Z.type)?null:new Gd(I,R,
Z,U,W,g)}evaluate(g){const x=this.input.evaluate(g);return(J(x)===this.inputType&&this.outputs[this.cases[x]]||this.otherwise).evaluate(g)}eachChild(g){g(this.input);this.outputs.forEach(g);g(this.otherwise)}outputDefined(){return this.outputs.every(g=>g.outputDefined())&&this.otherwise.outputDefined()}serialize(){const g=["match",this.input.serialize()];var x=Object.keys(this.cases).sort();const I=[];var R={};for(const U of x)x=R[this.cases[U]],void 0===x?(R[this.cases[U]]=I.length,I.push([this.cases[U],
[U]])):I[x][1].push(U);R=U=>"number"===this.inputType.kind?Number(U):U;for(const [U,W]of I)1===W.length?g.push(R(W[0])):g.push(W.map(R)),g.push(this.outputs[U].serialize());g.push(this.otherwise.serialize());return g}}class Hd{constructor(g,x,I){this.type=g;this.branches=x;this.otherwise=I}static parse(g,x){if(4>g.length)return x.error(`Expected at least 3 arguments, but found only ${g.length-1}.`);if(0!==g.length%2)return x.error("Expected an odd number of arguments.");let I;x.expectedType&&"value"!==
x.expectedType.kind&&(I=x.expectedType);const R=[];for(let U=1;U<g.length-1;U+=2){const W=x.parse(g[U],U,Ta);if(!W)return null;const Z=x.parse(g[U+1],U+1,I);if(!Z)return null;R.push([W,Z]);I=I||Z.type}return(g=x.parse(g[g.length-1],g.length-1,I))?new Hd(I,R,g):null}evaluate(g){for(const [x,I]of this.branches)if(x.evaluate(g))return I.evaluate(g);return this.otherwise.evaluate(g)}eachChild(g){for(const [x,I]of this.branches)g(x),g(I);g(this.otherwise)}outputDefined(){return this.branches.every(([,
g])=>g.outputDefined())&&this.otherwise.outputDefined()}serialize(){const g=["case"];this.eachChild(x=>{g.push(x.serialize())});return g}}class Uc{constructor(g,x,I,R){this.type=g;this.input=x;this.beginIndex=I;this.endIndex=R}static parse(g,x){if(2>=g.length||5<=g.length)return x.error(`Expected 3 or 4 arguments, but found ${g.length-1} instead.`);const I=x.parse(g[1],1,Ua),R=x.parse(g[2],2,ua);return I&&R?A(I.type,[B(Ua),Xa,Ua])?4===g.length?(g=x.parse(g[3],3,ua))?new Uc(I.type,I,R,g):null:new Uc(I.type,
I,R):x.error(`Expected first argument to be of type array or string, but found ${E(I.type)} instead`):null}evaluate(g){const x=this.input.evaluate(g),I=this.beginIndex.evaluate(g);if(!p(x,["string","array"]))throw new Ab(`Expected first argument to be of type array or string, but found ${E(J(x))} instead.`);return this.endIndex?(g=this.endIndex.evaluate(g),x.slice(I,g)):x.slice(I)}eachChild(g){g(this.input);g(this.beginIndex);this.endIndex&&g(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=
this.endIndex&&void 0!==this.endIndex){const g=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),g]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}const le=Ba("\x3d\x3d",function(g,x,I){return x===I},Ga),me=Ba("!\x3d",function(g,x,I){return x!==I},function(g,x,I,R){return!Ga(g,x,I,R)}),ne=Ba("\x3c",function(g,x,I){return x<I},function(g,x,I,R){return 0>R.compare(x,I)}),oe=Ba("\x3e",function(g,x,I){return x>I},function(g,x,I,R){return 0<
R.compare(x,I)}),pe=Ba("\x3c\x3d",function(g,x,I){return x<=I},function(g,x,I,R){return 0>=R.compare(x,I)}),qe=Ba("\x3e\x3d",function(g,x,I){return x>=I},function(g,x,I,R){return 0<=R.compare(x,I)});class Id{constructor(g,x,I,R,U){this.type=Xa;this.number=g;this.locale=x;this.currency=I;this.minFractionDigits=R;this.maxFractionDigits=U}static parse(g,x){if(3!==g.length)return x.error("Expected two arguments.");const I=x.parse(g[1],1,ua);if(!I)return null;g=g[2];if("object"!==typeof g||Array.isArray(g))return x.error("NumberFormat options argument must be an object.");
let R=null;if(g.locale&&(R=x.parse(g.locale,1,Xa),!R))return null;let U=null;if(g.currency&&(U=x.parse(g.currency,1,Xa),!U))return null;let W=null;if(g["min-fraction-digits"]&&(W=x.parse(g["min-fraction-digits"],1,ua),!W))return null;let Z=null;return g["max-fraction-digits"]&&(Z=x.parse(g["max-fraction-digits"],1,ua),!Z)?null:new Id(I,R,U,W,Z)}evaluate(g){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(g):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(g):
void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(g):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(g):void 0})).format(this.number.evaluate(g))}eachChild(g){g(this.number);this.locale&&g(this.locale);this.currency&&g(this.currency);this.minFractionDigits&&g(this.minFractionDigits);this.maxFractionDigits&&g(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const g={};this.locale&&(g.locale=this.locale.serialize());this.currency&&
(g.currency=this.currency.serialize());this.minFractionDigits&&(g["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(g["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),g]}}class Jd{constructor(g){this.type=ua;this.input=g}static parse(g,x){return 2!==g.length?x.error(`Expected 1 argument, but found ${g.length-1} instead.`):(g=x.parse(g[1],1))?"array"!==g.type.kind&&"string"!==g.type.kind&&"value"!==g.type.kind?
x.error(`Expected argument of type string or array, but found ${E(g.type)} instead.`):new Jd(g):null}evaluate(g){g=this.input.evaluate(g);if("string"===typeof g||Array.isArray(g))return g.length;throw new Ab(`Expected value to be of type string or array, but found ${E(J(g))} instead.`);}eachChild(g){g(this.input)}outputDefined(){return!1}serialize(){const g=["length"];this.eachChild(x=>{g.push(x.serialize())});return g}}const Ec={"\x3d\x3d":le,"!\x3d":me,"\x3e":oe,"\x3c":ne,"\x3e\x3d":qe,"\x3c\x3d":pe,
array:Mb,at:Ed,"boolean":Mb,"case":Hd,coalesce:tc,collator:Dc,format:Rc,image:Sc,"in":Fd,"index-of":Tc,interpolate:Hb,"interpolate-hcl":Hb,"interpolate-lab":Hb,length:Jd,let:Ic,literal:hc,match:Gd,number:Mb,"number-format":Id,object:Mb,slice:Uc,step:Jc,string:Mb,"to-boolean":Wb,"to-color":Wb,"to-number":Wb,"to-string":Wb,"var":Cc,within:$b};Lb.register(Ec,{error:[{kind:"error"},[Xa],(g,[x])=>{throw new Ab(x.evaluate(g));}],"typeof":[Xa,[Ua],(g,[x])=>E(J(x.evaluate(g)))],"to-rgba":[B(ua,4),[Qb],(g,
[x])=>x.evaluate(g).toArray()],rgb:[Qb,[ua,ua,ua],La],rgba:[Qb,[ua,ua,ua,ua],La],has:{type:Ta,overloads:[[[Xa],(g,[x])=>{x=x.evaluate(g);g=g.properties();return x in g}],[[Xa,Zb],(g,[x,I])=>{x=x.evaluate(g);g=I.evaluate(g);return x in g}]]},get:{type:Ua,overloads:[[[Xa],(g,[x])=>Ya(x.evaluate(g),g.properties())],[[Xa,Zb],(g,[x,I])=>Ya(x.evaluate(g),I.evaluate(g))]]},"feature-state":[Ua,[Xa],(g,[x])=>Ya(x.evaluate(g),g.featureState||{})],properties:[Zb,[],g=>g.properties()],"geometry-type":[Xa,[],
g=>g.geometryType()],id:[Ua,[],g=>g.id()],zoom:[ua,[],g=>g.globals.zoom],"heatmap-density":[ua,[],g=>g.globals.heatmapDensity||0],"line-progress":[ua,[],g=>g.globals.lineProgress||0],"sky-radial-progress":[ua,[],g=>g.globals.skyRadialProgress||0],accumulated:[Ua,[],g=>void 0===g.globals.accumulated?null:g.globals.accumulated],"+":[ua,{type:ua},(g,x)=>{let I=0;for(const R of x)I+=R.evaluate(g);return I}],"*":[ua,{type:ua},(g,x)=>{let I=1;for(const R of x)I*=R.evaluate(g);return I}],"-":{type:ua,overloads:[[[ua,
ua],(g,[x,I])=>x.evaluate(g)-I.evaluate(g)],[[ua],(g,[x])=>-x.evaluate(g)]]},"/":[ua,[ua,ua],(g,[x,I])=>x.evaluate(g)/I.evaluate(g)],"%":[ua,[ua,ua],(g,[x,I])=>x.evaluate(g)%I.evaluate(g)],ln2:[ua,[],()=>Math.LN2],pi:[ua,[],()=>Math.PI],e:[ua,[],()=>Math.E],"^":[ua,[ua,ua],(g,[x,I])=>Math.pow(x.evaluate(g),I.evaluate(g))],sqrt:[ua,[ua],(g,[x])=>Math.sqrt(x.evaluate(g))],log10:[ua,[ua],(g,[x])=>Math.log(x.evaluate(g))/Math.LN10],ln:[ua,[ua],(g,[x])=>Math.log(x.evaluate(g))],log2:[ua,[ua],(g,[x])=>
Math.log(x.evaluate(g))/Math.LN2],sin:[ua,[ua],(g,[x])=>Math.sin(x.evaluate(g))],cos:[ua,[ua],(g,[x])=>Math.cos(x.evaluate(g))],tan:[ua,[ua],(g,[x])=>Math.tan(x.evaluate(g))],asin:[ua,[ua],(g,[x])=>Math.asin(x.evaluate(g))],acos:[ua,[ua],(g,[x])=>Math.acos(x.evaluate(g))],atan:[ua,[ua],(g,[x])=>Math.atan(x.evaluate(g))],min:[ua,{type:ua},(g,x)=>Math.min(...x.map(I=>I.evaluate(g)))],max:[ua,{type:ua},(g,x)=>Math.max(...x.map(I=>I.evaluate(g)))],abs:[ua,[ua],(g,[x])=>Math.abs(x.evaluate(g))],round:[ua,
[ua],(g,[x])=>{g=x.evaluate(g);return 0>g?-Math.round(-g):Math.round(g)}],floor:[ua,[ua],(g,[x])=>Math.floor(x.evaluate(g))],ceil:[ua,[ua],(g,[x])=>Math.ceil(x.evaluate(g))],"filter-\x3d\x3d":[Ta,[Xa,Ua],(g,[x,I])=>g.properties()[x.value]===I.value],"filter-id-\x3d\x3d":[Ta,[Ua],(g,[x])=>g.id()===x.value],"filter-type-\x3d\x3d":[Ta,[Xa],(g,[x])=>g.geometryType()===x.value],"filter-\x3c":[Ta,[Xa,Ua],(g,[x,I])=>{g=g.properties()[x.value];I=I.value;return typeof g===typeof I&&g<I}],"filter-id-\x3c":[Ta,
[Ua],(g,[x])=>{g=g.id();x=x.value;return typeof g===typeof x&&g<x}],"filter-\x3e":[Ta,[Xa,Ua],(g,[x,I])=>{g=g.properties()[x.value];I=I.value;return typeof g===typeof I&&g>I}],"filter-id-\x3e":[Ta,[Ua],(g,[x])=>{g=g.id();x=x.value;return typeof g===typeof x&&g>x}],"filter-\x3c\x3d":[Ta,[Xa,Ua],(g,[x,I])=>{g=g.properties()[x.value];I=I.value;return typeof g===typeof I&&g<=I}],"filter-id-\x3c\x3d":[Ta,[Ua],(g,[x])=>{g=g.id();x=x.value;return typeof g===typeof x&&g<=x}],"filter-\x3e\x3d":[Ta,[Xa,Ua],
(g,[x,I])=>{g=g.properties()[x.value];I=I.value;return typeof g===typeof I&&g>=I}],"filter-id-\x3e\x3d":[Ta,[Ua],(g,[x])=>{g=g.id();x=x.value;return typeof g===typeof x&&g>=x}],"filter-has":[Ta,[Ua],(g,[x])=>x.value in g.properties()],"filter-has-id":[Ta,[],g=>null!==g.id()&&void 0!==g.id()],"filter-type-in":[Ta,[B(Xa)],(g,[x])=>0<=x.value.indexOf(g.geometryType())],"filter-id-in":[Ta,[B(Ua)],(g,[x])=>0<=x.value.indexOf(g.id())],"filter-in-small":[Ta,[Xa,B(Ua)],(g,[x,I])=>0<=I.value.indexOf(g.properties()[x.value])],
"filter-in-large":[Ta,[Xa,B(Ua)],(g,[x,I])=>{a:{g=g.properties()[x.value];x=I.value;var R=0;for(I=I.value.length-1;R<=I;){const U=R+I>>1;if(x[U]===g){I=!0;break a}x[U]>g?I=U-1:R=U+1}I=!1}return I}],all:{type:Ta,overloads:[[[Ta,Ta],(g,[x,I])=>x.evaluate(g)&&I.evaluate(g)],[{type:Ta},(g,x)=>{for(const I of x)if(!I.evaluate(g))return!1;return!0}]]},any:{type:Ta,overloads:[[[Ta,Ta],(g,[x,I])=>x.evaluate(g)||I.evaluate(g)],[{type:Ta},(g,x)=>{for(const I of x)if(I.evaluate(g))return!0;return!1}]]},"!":[Ta,
[Ta],(g,[x])=>!x.evaluate(g)],"is-supported-script":[Ta,[Xa],(g,[x])=>{const I=g.globals&&g.globals.isSupportedScript;return I?I(x.evaluate(g)):!0}],upcase:[Xa,[Xa],(g,[x])=>x.evaluate(g).toUpperCase()],downcase:[Xa,[Xa],(g,[x])=>x.evaluate(g).toLowerCase()],concat:[Xa,{type:Ua},(g,x)=>x.map(I=>H(I.evaluate(g))).join("")],"resolved-locale":[Xa,[qc],(g,[x])=>x.evaluate(g).resolvedLocale()]});class $c{constructor(g,x){this.expression=g;this._warningHistory={};this._evaluator=new Dd;this._defaultValue=
x?"color"===x.type&&wb(x.default)?new cb(0,0,0,0):"color"===x.type?cb.parse(x.default)||null:void 0===x.default?null:x.default:null;this._enumValues=x&&"enum"===x.type?x.values:null}evaluateWithoutErrorHandling(g,x,I,R,U,W){this._evaluator.globals=g;this._evaluator.feature=x;this._evaluator.featureState=I;this._evaluator.canonical=R;this._evaluator.availableImages=U||null;this._evaluator.formattedSection=W;return this.expression.evaluate(this._evaluator)}evaluate(g,x,I,R,U,W){this._evaluator.globals=
g;this._evaluator.feature=x||null;this._evaluator.featureState=I||null;this._evaluator.canonical=R;this._evaluator.availableImages=U||null;this._evaluator.formattedSection=W||null;try{const Z=this.expression.evaluate(this._evaluator);if(null===Z||void 0===Z||"number"===typeof Z&&Z!==Z)return this._defaultValue;if(this._enumValues&&!(Z in this._enumValues))throw new Ab(`Expected value to be one of ${Object.keys(this._enumValues).map(da=>JSON.stringify(da)).join(", ")}, but found ${JSON.stringify(Z)} instead.`);
return Z}catch(Z){return this._warningHistory[Z.message]||(this._warningHistory[Z.message]=!0,"undefined"!==typeof console&&console.warn(Z.message)),this._defaultValue}}}class Gc{constructor(g,x){this.kind=g;this._styleExpression=x;this.isStateDependent="constant"!==g&&!fa(x.expression)}evaluateWithoutErrorHandling(g,x,I,R,U,W){return this._styleExpression.evaluateWithoutErrorHandling(g,x,I,R,U,W)}evaluate(g,x,I,R,U,W){return this._styleExpression.evaluate(g,x,I,R,U,W)}}class Hc{constructor(g,x,I,
R){this.kind=g;this.zoomStops=I;this._styleExpression=x;this.isStateDependent="camera"!==g&&!fa(x.expression);this.interpolationType=R}evaluateWithoutErrorHandling(g,x,I,R,U,W){return this._styleExpression.evaluateWithoutErrorHandling(g,x,I,R,U,W)}evaluate(g,x,I,R,U,W){return this._styleExpression.evaluate(g,x,I,R,U,W)}interpolationFactor(g,x,I){return this.interpolationType?Hb.interpolationFactor(this.interpolationType,g,x,I):0}}class Vc{constructor(g,x){this._parameters=g;this._specification=x;
q(this,Rb(this._parameters,this._specification))}static deserialize(g){return new Vc(g._parameters,g._specification)}static serialize(g){return{_parameters:g._parameters,_specification:g._specification}}}const re={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};var Qd="type source source-layer minzoom maxzoom filter layout".split(" ");const $a={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",
setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};class sa{constructor(g,x,I,R){this.message=(g?`${g}: `:"")+I;R&&(this.identifier=
R);null!==x&&void 0!==x&&x.__line__&&(this.line=x.__line__)}}class vd{constructor(g){this.error=g;this.message=g.message;this.line=(g=g.message.match(/line (\d+)/))?parseInt(g[1],10):0}}const pd={promoteId:function({key:g,value:x}){if("string"===Da(x))return ec({key:g,value:x});{const I=[];for(const R in x)I.push(...ec({key:`${g}.${R}`,value:x[R]}));return I}}},sd={["*"](){return[]},array:gd,"boolean":function(g){const x=g.value;g=g.key;const I=Da(x);return"boolean"!==I?[new sa(g,x,`boolean expected, ${I} found`)]:
[]},number:hd,color:function(g){const x=g.key;g=g.value;const I=Da(g);return"string"!==I?[new sa(x,g,`color expected, ${I} found`)]:null===Cd(g)?[new sa(x,g,`color expected, "${g}" found`)]:[]},constants:fd,"enum":zc,filter:Kc,"function":id,layer:nd,object:Ib,source:od,light:qd,terrain:rd,string:ec,formatted:function(g){return 0===ec(g).length?[]:dc(g)},resolvedImage:function(g){return 0===ec(g).length?[]:dc(g)}};Sb.source=Yb(od);Sb.light=Yb(qd);Sb.terrain=Yb(rd);Sb.layer=Yb(nd);Sb.filter=Yb(Kc);
Sb.paintProperty=Yb(ld);Sb.layoutProperty=Yb(md);var Ud=u(function(g,x){var I=function(){function R(){this.yy={}}var U=function(na,va,Ra,Ka){Ra=Ra||{};for(Ka=na.length;Ka--;Ra[na[Ka]]=va);return Ra},W=[1,12],Z=[1,13],da=[1,9],ia=[1,10],ca=[1,11],la=[1,14],qa=[1,15],Ea=[14,18,22,24],Ja=[18,22],Oa=[22,24];U={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,
JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(na,va,Ra,Ka,nb,lb,Pb){va=lb.length-1;switch(nb){case 1:this.$=new String(na.replace(/\\(\\|")/g,
"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(na);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;case 6:return this.$=lb[va-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,
enumerable:!1});break;case 14:case 19:this.$=lb[va-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[lb[va-2],lb[va]];break;case 16:this.$={};this.$[lb[va][0]]=lb[va][1];break;case 17:this.$=lb[va-2];lb[va-2][lb[va][0]]=lb[va][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[lb[va]];break;case 21:this.$=lb[va-2],lb[va-2].push(lb[va])}},table:[{3:5,4:W,5:6,6:Z,
7:3,8:da,9:4,10:ia,11:ca,12:1,13:2,15:7,16:8,17:la,23:qa},{1:[3]},{14:[1,16]},U(Ea,[2,7]),U(Ea,[2,8]),U(Ea,[2,9]),U(Ea,[2,10]),U(Ea,[2,11]),U(Ea,[2,12]),U(Ea,[2,3]),U(Ea,[2,4]),U(Ea,[2,5]),U([14,18,21,22,24],[2,1]),U(Ea,[2,2]),{3:20,4:W,18:[1,17],19:18,20:19},{3:5,4:W,5:6,6:Z,7:3,8:da,9:4,10:ia,11:ca,13:23,15:7,16:8,17:la,23:qa,24:[1,21],25:22},{1:[2,6]},U(Ea,[2,13]),{18:[1,24],22:[1,25]},U(Ja,[2,16]),{21:[1,26]},U(Ea,[2,18]),{22:[1,28],24:[1,27]},U(Oa,[2,20]),U(Ea,[2,14]),{3:20,4:W,20:29},{3:5,4:W,
5:6,6:Z,7:3,8:da,9:4,10:ia,11:ca,13:30,15:7,16:8,17:la,23:qa},U(Ea,[2,19]),{3:5,4:W,5:6,6:Z,7:3,8:da,9:4,10:ia,11:ca,13:31,15:7,16:8,17:la,23:qa},U(Ja,[2,17]),U(Ja,[2,15]),U(Oa,[2,21])],defaultActions:{16:[2,6]},parseError:function(na,va){if(va.recoverable)this.trace(na);else throw Error(na);},parse:function(na){var va=[0],Ra=[null],Ka=[],nb=this.table,lb="",Pb=0,Ia=0,Va=Ka.slice.call(arguments,1),Sa=Object.create(this.lexer),Wa={};for(mb in this.yy)Object.prototype.hasOwnProperty.call(this.yy,mb)&&
(Wa[mb]=this.yy[mb]);Sa.setInput(na,Wa);Wa.lexer=Sa;Wa.parser=this;"undefined"==typeof Sa.yylloc&&(Sa.yylloc={});var mb=Sa.yylloc;Ka.push(mb);var Db=Sa.options&&Sa.options.ranges;this.parseError="function"===typeof Wa.parseError?Wa.parseError:Object.getPrototypeOf(this).parseError;for(var Za,ob,fb,bb={},db,vb;;){ob=va[va.length-1];if(this.defaultActions[ob])fb=this.defaultActions[ob];else{if(null===Za||"undefined"==typeof Za)Za=Sa.lex()||1,"number"!==typeof Za&&(Za=this.symbols_[Za]||Za);fb=nb[ob]&&
nb[ob][Za]}if("undefined"===typeof fb||!fb.length||!fb[0]){vb=[];for(db in nb[ob])this.terminals_[db]&&2<db&&vb.push("'"+this.terminals_[db]+"'");var Tb=Sa.showPosition?"Parse error on line "+(Pb+1)+":\n"+Sa.showPosition()+"\nExpecting "+vb.join(", ")+", got '"+(this.terminals_[Za]||Za)+"'":"Parse error on line "+(Pb+1)+": Unexpected "+(1==Za?"end of input":"'"+(this.terminals_[Za]||Za)+"'");this.parseError(Tb,{text:Sa.match,token:this.terminals_[Za]||Za,line:Sa.yylineno,loc:mb,expected:vb})}if(fb[0]instanceof
Array&&1<fb.length)throw Error("Parse Error: multiple actions possible at state: "+ob+", token: "+Za);switch(fb[0]){case 1:va.push(Za);Ra.push(Sa.yytext);Ka.push(Sa.yylloc);va.push(fb[1]);Za=null;Ia=Sa.yyleng;lb=Sa.yytext;Pb=Sa.yylineno;mb=Sa.yylloc;break;case 2:vb=this.productions_[fb[1]][1];bb.$=Ra[Ra.length-vb];bb._$={first_line:Ka[Ka.length-(vb||1)].first_line,last_line:Ka[Ka.length-1].last_line,first_column:Ka[Ka.length-(vb||1)].first_column,last_column:Ka[Ka.length-1].last_column};Db&&(bb._$.range=
[Ka[Ka.length-(vb||1)].range[0],Ka[Ka.length-1].range[1]]);ob=this.performAction.apply(bb,[lb,Ia,Pb,Wa,fb[1],Ra,Ka].concat(Va));if("undefined"!==typeof ob)return ob;vb&&(va=va.slice(0,-2*vb),Ra=Ra.slice(0,-1*vb),Ka=Ka.slice(0,-1*vb));va.push(this.productions_[fb[1]][0]);Ra.push(bb.$);Ka.push(bb._$);fb=nb[va[va.length-2]][va[va.length-1]];va.push(fb);break;case 3:return!0}}}};W=function(){return{EOF:1,parseError:function(na,va){if(this.yy.parser)this.yy.parser.parseError(na,va);else throw Error(na);
},setInput:function(na,va){this.yy=va||this.yy||{};this._input=na;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var na=this._input[0];this.yytext+=na;this.yyleng++;this.offset++;this.match+=na;this.matched+=na;na.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,
this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return na},unput:function(na){var va=na.length,Ra=na.split(/(?:\r\n?|\n)/g);this._input=na+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-va);this.offset-=va;na=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);Ra.length-1&&(this.yylineno-=Ra.length-1);var Ka=this.yylloc.range;
this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ra?(Ra.length===na.length?this.yylloc.first_column:0)+na[na.length-Ra.length].length-Ra[0].length:this.yylloc.first_column-va};this.options.ranges&&(this.yylloc.range=[Ka[0],Ka[0]+this.yyleng-va]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+
(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(na){this.unput(this.match.slice(na))},pastInput:function(){var na=this.matched.substr(0,this.matched.length-this.match.length);return(20<na.length?"...":"")+na.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var na=this.match;20>na.length&&(na+=this._input.substr(0,
20-na.length));return(na.substr(0,20)+(20<na.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var na=this.pastInput(),va=Array(na.length+1).join("-");return na+this.upcomingInput()+"\n"+va+"^"},test_match:function(na,va){var Ra;if(this.options.backtrack_lexer){var Ka={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,
matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(Ka.yylloc.range=this.yylloc.range.slice(0))}if(Ra=na[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=Ra.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ra?Ra[Ra.length-1].length-Ra[Ra.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
na[0].length};this.yytext+=na[0];this.match+=na[0];this.matches=na;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(na[0].length);this.matched+=na[0];na=this.performAction.call(this,this.yy,this,va,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(na)return na;if(this._backtrack)for(var nb in Ka)this[nb]=Ka[nb];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var na;this._more||(this.match=this.yytext="");for(var va=this._currentRules(),Ra=0;Ra<va.length;Ra++)if((na=this._input.match(this.rules[va[Ra]]))&&(!Ka||na[0].length>Ka[0].length)){var Ka=na;var nb=Ra;if(this.options.backtrack_lexer){Ka=this.test_match(na,va[Ra]);if(!1!==Ka)return Ka;if(this._backtrack)Ka=!1;else return!1}else if(!this.options.flex)break}return Ka?(Ka=this.test_match(Ka,va[nb]),!1!==Ka?Ka:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+
(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var na=this.next();return na?na:this.lex()},begin:function(na){this.conditionStack.push(na)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:
this.conditions.INITIAL.rules},topState:function(na){na=this.conditionStack.length-1-Math.abs(na||0);return 0<=na?this.conditionStack[na]:"INITIAL"},pushState:function(na){this.begin(na)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(na,va,Ra,Ka){switch(Ra){case 1:return 6;case 2:return va.yytext=va.yytext.substr(1,va.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;
case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();U.lexer=W;R.prototype=U;U.Parser=R;return new R}();"undefined"!==typeof w&&(x.parser=I,x.Parser=
I.Parser,x.parse=function(){return I.parse.apply(I,arguments)})});const se={StyleExpression:$c,isExpression:ab,isExpressionFilter:Cb,createExpression:hb,createPropertyExpression:Ma,normalizePropertyExpression:function(g,x){if(wb(g))return new Vc(g,x);if(ab(g)){g=Ma(g,x);if("error"===g.result)throw Error(g.value.map(I=>`${I.key}: ${I.message}`).join(", "));return g.value}{let I=g;"string"===typeof g&&"color"===x.type&&(I=cb.parse(g));return{kind:"constant",evaluate:()=>I}}},ZoomConstantExpression:Gc,
ZoomDependentExpression:Hc,StylePropertyFunction:Vc},te={convertFunction:Pa,createFunction:Rb,isFunction:wb},ue={eachSource:c,eachLayer:e,eachProperty:b};lc.parsed=lc;lc.latest=lc;C.Color=cb;C.ParsingError=vd;C.ValidationError=sa;C.composite=function(g){const x=[],I=[],R=[];for(const Z in g.sources){var U=g.sources[Z];"vector"===U.type&&(U=/^mapbox:\/\/(.*)/.exec(U.url))&&(x.push(Z),I.push(U[1]))}if(2>x.length)return g;x.forEach(Z=>{delete g.sources[Z]});const W=I.join(",");g.sources[W]={type:"vector",
url:`mapbox://${W}`};g.layers.forEach(Z=>{if(0<=x.indexOf(Z.source)&&(Z.source=W,"source-layer"in Z)){if(0<=R.indexOf(Z["source-layer"]))throw Error("Conflicting source layer names");R.push(Z["source-layer"])}});return g};C.convertFilter=ad;C.derefLayers=function(g){g=g.slice();const x=Object.create(null);for(var I=0;I<g.length;I++)x[g[I].id]=g[I];for(I=0;I<g.length;I++)"ref"in g[I]&&(g[I]=Pd(g[I],x[g[I].ref]));return g};C.diff=function(g,x){if(!g)return[{command:$a.setStyle,args:[x]}];let I=[];try{if(!kb(g.version,
x.version))return[{command:$a.setStyle,args:[x]}];kb(g.center,x.center)||I.push({command:$a.setCenter,args:[x.center]});kb(g.zoom,x.zoom)||I.push({command:$a.setZoom,args:[x.zoom]});kb(g.bearing,x.bearing)||I.push({command:$a.setBearing,args:[x.bearing]});kb(g.pitch,x.pitch)||I.push({command:$a.setPitch,args:[x.pitch]});kb(g.sprite,x.sprite)||I.push({command:$a.setSprite,args:[x.sprite]});kb(g.glyphs,x.glyphs)||I.push({command:$a.setGlyphs,args:[x.glyphs]});kb(g.transition,x.transition)||I.push({command:$a.setTransition,
args:[x.transition]});kb(g.light,x.light)||I.push({command:$a.setLight,args:[x.light]});const R={},U=[];Rd(g.sources,x.sources,U,R);const W=[];g.layers&&g.layers.forEach(da=>{R[da.source]?I.push({command:$a.removeLayer,args:[da.id]}):W.push(da)});let Z=g.terrain;Z&&R[Z.source]&&(I.push({command:$a.setTerrain,args:[void 0]}),Z=void 0);I=I.concat(U);kb(Z,x.terrain)||I.push({command:$a.setTerrain,args:[x.terrain]});Sd(W,x.layers,I)}catch(R){console.warn("Unable to compute style diff:",R),I=[{command:$a.setStyle,
args:[x]}]}return I};C.expression=se;C.featureFilter=function(g){if(null===g||void 0===g)return{filter:()=>!0,needGeometry:!1};Cb(g)||(g=cc(g));const x=hb(g,re);if("error"===x.result)throw Error(x.value.map(I=>`${I.key}: ${I.message}`).join(", "));return{filter:(I,R,U)=>x.value.evaluate(I,R,{},U),needGeometry:bc(g)}};C.format=function(g,x=2){g=v(g,yb.$root);g.layers&&(g.layers=g.layers.map(I=>v(I,yb.layer)));return Yd(g,{indent:x})};C.function=te;C.latest=yb;C.migrate=function(g){let x=!1;7===g.version&&
(g=t(g),x=!0);8===g.version&&(Od(g),x=!0);if(!x)throw Error("cannot migrate from",g.version);return g};C.v8=yb;C.validate=lc;C.validateMapboxApiSupported=function(g){try{g=ud(g)}catch(I){return[I]}let x=Sb(g,yb).concat(Wd(g,Object.keys(yb.$root)));g.sources&&(x=x.concat(Vd(g.sources)));return x};C.visit=ue;Object.defineProperty(C,"__esModule",{value:!0})})};
shadow$provide[338]=function(S,m,Y,r){function D(e,b){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(e,b);var d=document.createElement("canvas");d.width=e;d.height=b;return d}function C(e,b){if(.05<=b){var d="";e=e.split("\n");b=k.slice(0,Math.round(b/.1));for(var a=0,f=e.length;a<f;++a)0<a&&(d+="\n"),d+=e[a].split("").join(b);return d}return e}function v(){h||(h=D(1,1).getContext("2d"));return h}function w(e,
b){return v().measureText(e).width+(e.length-1)*b}function u(e,b,d,a){if(-1!==e.indexOf("\n")){var f=e.split("\n");e=[];for(var l=0,t=f.length;l<t;++l)e.push(u(f[l],b,d,a));return e.join("\n")}f=d+","+b+","+e+","+a;l=c[f];if(!l){var q=e.split(" ");if(1<q.length){e=v();e.font=b;b=e.measureText("M").width*d;d="";e=[];l=0;for(t=q.length;l<t;++l){var B=q[l],E=d+(d?" ":"")+B;w(E,a)<=b?d=E:(d&&e.push(d),d=B)}d&&e.push(d);l=0;for(t=e.length;l<t&&1<t;++l)q=e[l],w(q,a)<.35*b&&(d=0<l?w(e[l-1],a):Infinity,B=
l<t-1?w(e[l+1],a):Infinity,e.splice(l,1),--t,d<B?(e[l-1]+=" "+q,--l):e[l]=q+" "+e[l]);l=0;for(t=e.length-1;l<t;++l)d=e[l],q=e[l+1],w(d,a)>.7*b&&w(q,a)<.6*b&&(d=d.split(" "),B=d.pop(),w(B,a)<.2*b&&(e[l]=d.join(" "),e[l+1]=B+" "+q),--t);l=e.join("\n")}else l=e;l=C(l,a);c[f]=l}return l}Object.defineProperty(r,"__esModule",{value:!0});r.deg2rad=function(e){return e*Math.PI/180};r.createCanvas=D;r.getZoomForResolution=function(e,b){for(var d=0,a=b.length;d<a;++d)if(b[d]<e&&d+1<a)return d+Math.log(b[d]/
e)/Math.log(b[d]/b[d+1]);return a-1};r.applyLetterSpacing=C;r.wrapText=u;r.defaultResolutions=r.assign=void 0;S=m(92);Y=function(e){return e&&e.__esModule?e:{"default":e}}(m(91));m=m(107);r.assign="function"===typeof Object.assign?Object.assign:function(e,b){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(e),a=1,f=arguments.length;a<f;++a){var l=arguments[a];if(void 0!==l&&null!==l)for(var t in l)l.hasOwnProperty(t)&&(d[t]=l[t])}return d};
var n=function(){for(var e=[],b=78271.51696402048;24>=e.length;b/=2)e.push(b);return e}();r.defaultResolutions=n;var k=Array(256).join(" "),h,c={};m.labelCache&&(0,S.listen)(m.labelCache,Y["default"].CLEAR,function(){c={}})};
shadow$provide[339]=function(S,m,Y,r){function D(O){return O&&O.__esModule?O:{"default":O}}function C(O,Q,G,L,T){var V=O.id;J[V]||(J[V]={});V=J[V];if(!V[G]){var X=(O[Q]||y)[G];O=a.latest[Q+"_"+O.type][G];void 0===X&&(X=O["default"]);Q=B(X);!Q&&t(X)&&(X=q(X,O),Q=!0);Q?(O=p(X,O),V[G]=O.evaluate.bind(O)):("color"==O.type&&(X=a.Color.parse(X)),V[G]=function(){return X})}F.zoom=L;return V[G](F,T)}function v(O,Q,G,L){O in K||(K[O]=(0,a.featureFilter)(Q).filter);F.zoom=L;return K[O](F,G)}function w(O,Q){if(O){if(0===
O.a||0===Q)return;var G=O.a;return"rgba("+Math.round(255*O.r/G)+","+Math.round(255*O.g/G)+","+Math.round(255*O.b/G)+","+G*(void 0===Q?1:Q)+")"}return O}function u(O,Q){var G;do(G=O.match(N))&&(O=G[1]+(Q[G[2]]||"")+G[3]);while(G);return O}Object.defineProperty(r,"__esModule",{value:!0});r._getValue=r.getValue=C;r.recordStyleLayer=function(O){M=O};r["default"]=function(O,Q,G,L,T,V,X){void 0===L&&(L=l.defaultResolutions);"string"==typeof Q&&(Q=JSON.parse(Q));if(8!=Q.version)throw Error("glStyle version 8 required.");
var aa,ba;if(V)if("undefined"!==typeof Image){var fa=new Image;fa.crossOrigin="anonymous";fa.onload=function(){aa=fa;ba=[fa.width,fa.height];O.changed();fa.onload=null};fa.src=V}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var ka=self;ka.postMessage({action:"loadImage",src:V});ka.addEventListener("message",function(La){"imageLoaded"===La.data.action&&La.data.src===V&&(aa=La.data.image,ba=[aa.width,aa.height])})}var ha=(0,a.derefLayers)(Q.layers),ma={};ka=[];for(var Aa,
ea=0,ja=ha.length;ea<ja;++ea){var oa=ha[ea],ra=oa.id;if("string"==typeof G&&oa.source==G||-1!==G.indexOf(ra)){var pa=oa["source-layer"];if(!Aa){Aa=oa.source;var ta=Q.sources[Aa];if(!ta)throw Error('Source "'+Aa+'" is not defined');ta=ta.type;if("vector"!==ta&&"geojson"!==ta)throw Error('Source "'+Aa+'" is not of type "vector" or "geojson", but "'+ta+'"');}(ta=ma[pa])||(ta=ma[pa]=[]);ta.push({layer:oa,index:ea});ka.push(ra)}delete J[ra];delete K[ra]}var wa=new h["default"],ya=new k["default"],Ha={},
Ga={},Ba=[];Q=function(La,Ya){var Qa=La.getProperties(),Na=ma[Qa.layer];if(Na){var xa=L.indexOf(Ya);-1==xa&&(xa=(0,l.getZoomForResolution)(Ya,L));var pb=z[La.getGeometry().getType()],Fa={properties:Qa,type:pb},Da=-1,wb,sc=function(za,Ca){var Fb=Na[za];za=Fb.layer;Ca=za.id;var xb=za.layout||y,sb=za.paint||y;if("none"===xb.visibility||"minzoom"in za&&xa<za.minzoom||"maxzoom"in za&&xa>=za.maxzoom)return"continue";var ab=za.filter;if(!ab||v(Ca,ab,Fa,xa)){wb=za;var hb=void 0,Ma=ab=void 0,qb=Ma=void 0;
Ca=void 0;Fb=Fb.index;if(3==pb&&("fill"==za.type||"fill-extrusion"==za.type))if(ab=C(za,"paint",za.type+"-opacity",xa,Fa),za.type+"-pattern"in sb){if(Ma=C(za,"paint",za.type+"-pattern",xa,Fa))if(hb="string"===typeof Ma?u(Ma,Qa):Ma.toString(),aa&&T&&T[hb]){++Da;Ca=Ba[Da];if(!Ca||!Ca.getFill()||Ca.getStroke()||Ca.getText())Ca=Ba[Da]=new n["default"]({fill:new k["default"]});Ma=Ca.getFill();Ca.setZIndex(Fb);var gb=hb+"."+ab;qb=Ga[gb];if(!qb){var Pa=T[hb],zb=(0,l.createCanvas)(Pa.width,Pa.height),tb=
zb.getContext("2d");tb.globalAlpha=ab;tb.drawImage(aa,Pa.x,Pa.y,Pa.width,Pa.height,0,0,Pa.width,Pa.height);qb=tb.createPattern(zb,"repeat");Ga[gb]=qb}Ma.setColor(qb)}}else if(hb=w(C(za,"paint",za.type+"-color",xa,Fa),ab))za.type+"-outline-color"in sb&&(qb=w(C(za,"paint",za.type+"-outline-color",xa,Fa),ab)),qb||(qb=hb),++Da,(Ca=Ba[Da])&&Ca.getFill()&&Ca.getStroke()&&!Ca.getText()||(Ca=Ba[Da]=new n["default"]({fill:new k["default"],stroke:new h["default"]})),Ma=Ca.getFill(),Ma.setColor(hb),Ma=Ca.getStroke(),
Ma.setColor(qb),Ma.setWidth(1),Ca.setZIndex(Fb);if(1!=pb&&"line"==za.type){hb=!("line-pattern"in sb)&&"line-color"in sb?w(C(za,"paint","line-color",xa,Fa),C(za,"paint","line-opacity",xa,Fa)):void 0;var ic=C(za,"paint","line-width",xa,Fa);if(hb&&0<ic){++Da;Ca=Ba[Da];if(!Ca||!Ca.getStroke()||Ca.getFill()||Ca.getText())Ca=Ba[Da]=new n["default"]({stroke:new h["default"]});Ma=Ca.getStroke();Ma.setLineCap(C(za,"layout","line-cap",xa,Fa));Ma.setLineJoin(C(za,"layout","line-join",xa,Fa));Ma.setMiterLimit(C(za,
"layout","line-miter-limit",xa,Fa));Ma.setColor(hb);Ma.setWidth(ic);Ma.setLineDash(sb["line-dasharray"]?C(za,"paint","line-dasharray",xa,Fa).map(function(wc){return wc*ic}):null);Ca.setZIndex(Fb)}}hb=!1;Ma=null;var eb=0;qb=Pa=tb=void 0;if((1==pb||2==pb)&&"icon-image"in xb){var jb=C(za,"layout","icon-image",xa,Fa);if(jb&&(tb="string"===typeof jb?u(jb,Qa):jb.toString(),jb=void 0,aa&&T&&T[tb])){zb=C(za,"layout","icon-rotation-alignment",xa,Fa);if(2==pb){var ib=La.getGeometry();if(ib.getFlatMidpoint||
ib.getFlatMidpoints)if(gb=ib.getExtent(),150<Math.sqrt(Math.max(Math.pow((gb[2]-gb[0])/Ya,2),Math.pow((gb[3]-gb[1])/Ya,2)))){gb="MultiLineString"===ib.getType()?ib.getFlatMidpoints():ib.getFlatMidpoint();P||(H=[NaN,NaN],P=new d["default"]("Point",H,[],{},null));jb=P;H[0]=gb[0];H[1]=gb[1];var Bb=C(za,"layout","symbol-placement",xa,Fa);if("line"===Bb&&"map"===zb){Bb=ib.getStride();ib=ib.getFlatCoordinates();for(var ub=0,Gb=ib.length-Bb;ub<Gb;ub+=Bb){var Vb=ib[ub],Cb=ib[ub+1],jc=ib[ub+Bb],bc=ib[ub+Bb+
1],cc=Math.min(Cb,bc),kc=Math.max(Vb,jc),vc=Math.max(Cb,bc);if(gb[0]>=Math.min(Vb,jc)&&gb[0]<=kc&&gb[1]>=cc&&gb[1]<=vc){eb=Math.atan2(Cb-bc,jc-Vb);break}}}}}if(2!==pb||jb){Bb=C(za,"layout","icon-size",xa,Fa);ib=void 0!==sb["icon-color"]?C(za,"paint","icon-color",xa,Fa):null;if(!ib||0!==ib.a)if(gb=tb+"."+Bb,null!==ib&&(gb+="."+ib),Pa=Ha[gb],!Pa)if(Pa=T[tb],null!==ib){zb=(0,l.createCanvas)(Pa.width,Pa.height);tb=zb.getContext("2d");tb.drawImage(aa,Pa.x,Pa.y,Pa.width,Pa.height,0,0,Pa.width,Pa.height);
ub=tb.getImageData(0,0,zb.width,zb.height);Gb=0;for(Vb=ub.data.length;Gb<Vb;Gb+=4)Cb=ib.a,0!==Cb&&(ub.data[Gb]=255*ib.r/Cb,ub.data[Gb+1]=255*ib.g/Cb,ub.data[Gb+2]=255*ib.b/Cb),ub.data[Gb+3]=Cb;tb.putImageData(ub,0,0);Pa=Ha[gb]=new c["default"]({img:zb,imgSize:[zb.width,zb.height],scale:Bb/Pa.pixelRatio})}else Pa=Ha[gb]=new c["default"]({img:aa,imgSize:ba,size:[Pa.width,Pa.height],offset:[Pa.x,Pa.y],rotateWithView:"map"===zb,scale:Bb/Pa.pixelRatio});if(Pa){++Da;Ca=Ba[Da];if(!Ca||!Ca.getImage()||Ca.getFill()||
Ca.getStroke())Ca=Ba[Da]=new n["default"];Ca.setGeometry(jb);Pa.setRotation(eb+(0,l.deg2rad)(C(za,"layout","icon-rotate",xa,Fa)));Pa.setOpacity(C(za,"paint","icon-opacity",xa,Fa));Pa.setAnchor(A[C(za,"layout","icon-anchor",xa,Fa)]);Ca.setImage(Pa);Ma=Ca.getText();Ca.setText(void 0);Ca.setZIndex(Fb);hb=!0;qb=!1}}else qb=!0}}if(1==pb&&"circle-radius"in sb){++Da;Ca=Ba[Da];if(!Ca||!Ca.getImage()||Ca.getFill()||Ca.getStroke())Ca=Ba[Da]=new n["default"];Ma=C(za,"paint","circle-radius",xa,Fa);hb=w(C(za,
"paint","circle-stroke-color",xa,Fa),C(za,"paint","circle-stroke-opacity",xa,Fa));sb=w(C(za,"paint","circle-color",xa,Fa),C(za,"paint","circle-opacity",xa,Fa));eb=C(za,"paint","circle-stroke-width",xa,Fa);jb=Ma+"."+hb+"."+sb+"."+eb;(Pa=Ha[jb])||(Pa=Ha[jb]=new b["default"]({radius:Ma,stroke:hb&&0<eb?new h["default"]({width:eb,color:hb}):void 0,fill:sb?new k["default"]({color:sb}):void 0}));Ca.setImage(Pa);Ma=Ca.getText();Ca.setText(void 0);Ca.setGeometry(void 0);Ca.setZIndex(Fb);hb=!0}eb=void 0;"text-field"in
xb&&(ab=C(za,"layout","text-field",xa,Fa).toString(),eb=u(ab,Qa).trim(),ab=C(za,"paint","text-opacity",xa,Fa));if(eb&&ab&&!qb){if(!hb){++Da;Ca=Ba[Da];if(!Ca||!Ca.getText()||Ca.getFill()||Ca.getStroke())Ca=Ba[Da]=new n["default"];Ca.setImage(void 0);Ca.setGeometry(void 0)}Ca.getText()||Ca.setText(Ma||new e["default"]({padding:[2,2,2,2]}));Ma=Ca.getText();sb=Math.round(C(za,"layout","text-size",xa,Fa));jb=C(za,"layout","text-font",xa,Fa);qb=C(za,"layout","text-line-height",xa,Fa);jb=(0,f["default"])(X?
X(jb):jb,sb,qb);xb=xb["text-transform"];"uppercase"==xb?eb=eb.toUpperCase():"lowercase"==xb&&(eb=eb.toLowerCase());xb=C(za,"layout","text-max-width",xa,Fa);Pa=C(za,"layout","text-letter-spacing",xa,Fa);gb=2==pb?(0,l.applyLetterSpacing)(eb,Pa):(0,l.wrapText)(eb,jb,xb,Pa);Ma.setText(gb);Ma.setFont(jb);Ma.setRotation((0,l.deg2rad)(C(za,"layout","text-rotate",xa,Fa)));jb=C(za,"layout","text-anchor",xa,Fa);Bb=hb||1==pb?"point":C(za,"layout","symbol-placement",xa,Fa);Ma.setPlacement(Bb);xb=C(za,"paint",
"text-halo-width",xa,Fa);hb=C(za,"layout","text-offset",xa,Fa);Pa=C(za,"paint","text-translate",xa,Fa);tb=zb=0;"point"==Bb?(eb="center",-1!==jb.indexOf("left")?(eb="left",tb=xb):-1!==jb.indexOf("right")&&(eb="right",tb=-xb),Ma.setTextAlign(eb),eb=C(za,"layout","text-rotation-alignment",xa,Fa),Ma.setRotateWithView("map"==eb)):(Ma.setMaxAngle((0,l.deg2rad)(C(za,"layout","text-max-angle",xa,Fa))*eb.length/gb.length),Ma.setTextAlign(),Ma.setRotateWithView(!1));eb="middle";0==jb.indexOf("bottom")?(eb=
"bottom",zb=-xb-.5*(qb-1)*sb):0==jb.indexOf("top")&&(eb="top",zb=xb+.5*(qb-1)*sb);Ma.setTextBaseline(eb);Ma.setOffsetX(hb[0]*sb+tb+Pa[0]);Ma.setOffsetY(hb[1]*sb+zb+Pa[1]);ya.setColor(w(C(za,"paint","text-color",xa,Fa),ab));Ma.setFill(ya);(ab=w(C(za,"paint","text-halo-color",xa,Fa),ab))?(wa.setColor(ab),xb*=2,ab=.5*sb,wa.setWidth(xb<=ab?xb:ab),Ma.setStroke(wa)):Ma.setStroke(void 0);za=C(za,"layout","text-padding",xa,Fa);ab=Ma.getPadding();za!==ab[0]&&(ab[0]=ab[1]=ab[2]=ab[3]=za);Ca.setZIndex(Fb)}}},
Rb=0,Nb=Na.length;for(;Rb<Nb;++Rb)sc(Rb,Nb);if(-1<Da)return Ba.length=Da+1,M&&("function"===typeof La.set?La.set("mapbox-layer",wb):La.getProperties()["mapbox-layer"]=wb),Ba}};O.setStyle(Q);O.set("mapbox-source",Aa);O.set("mapbox-layers",ka);return Q};r._colorWithOpacity=w;r._evaluateFilter=v;r._fromTemplate=u;r._functionCache=r._filterCache=void 0;var n=D(m(209)),k=D(m(207)),h=D(m(208)),c=D(m(233)),e=D(m(234)),b=D(m(206)),d=D(m(331)),a=m(337),f=D(m(336)),l=m(338),t=a["function"].isFunction,q=a["function"].convertFunction,
B=a.expression.isExpression,E=a.expression.createPropertyExpression,z={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},A={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},p=function(O,Q){O=E(O,Q);if("error"===O.result)throw Error(O.value.map(function(G){return G.key+": "+G.message}).join(", "));return O.value},y={},F={zoom:0},J={};r._functionCache=J;var H,P,K={};r._filterCache=
K;var N=/^([^]*)\{(.*)\}([^]*)$/,M=!1};
shadow$provide[340]=function(S,m,Y,r){(function(){Y.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return D},getLink:function(C){return"https://fonts.google.com/specimen/"+C.replace(/( )/g,"+")},normalizeName:function(C){return C}};var D="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[341]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}function C(n){return"string"===typeof n?(n=JSON.parse(n))?n:null:null!==n?n:null}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(255));var v=D(m(189)),w=m(77),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,
h){function c(){this.constructor=k}n(k,h);k.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(){return n.call(this)||this}u(k,n);k.prototype.getType=function(){return v["default"].JSON};k.prototype.readFeature=function(h,c){return this.readFeatureFromObject(C(h),this.getReadOptions(h,c))};k.prototype.readFeatures=function(h,c){return this.readFeaturesFromObject(C(h),this.getReadOptions(h,c))};k.prototype.readFeatureFromObject=function(h,c){return(0,w["abstract"])()};
k.prototype.readFeaturesFromObject=function(h,c){return(0,w["abstract"])()};k.prototype.readGeometry=function(h,c){return this.readGeometryFromObject(C(h),this.getReadOptions(h,c))};k.prototype.readGeometryFromObject=function(h,c){return(0,w["abstract"])()};k.prototype.readProjection=function(h){return this.readProjectionFromObject(C(h))};k.prototype.readProjectionFromObject=function(h){return(0,w["abstract"])()};k.prototype.writeFeature=function(h,c){return JSON.stringify(this.writeFeatureObject(h,
c))};k.prototype.writeFeatureObject=function(h,c){return(0,w["abstract"])()};k.prototype.writeFeatures=function(h,c){return JSON.stringify(this.writeFeaturesObject(h,c))};k.prototype.writeFeaturesObject=function(h,c){return(0,w["abstract"])()};k.prototype.writeGeometry=function(h,c){return JSON.stringify(this.writeGeometryObject(h,c))};k.prototype.writeGeometryObject=function(h,c){return(0,w["abstract"])()};return k}(S["default"]);r["default"]=m};
shadow$provide[342]=function(S,m,Y,r){function D(z){return z&&z.__esModule?z:{"default":z}}function C(z,A){if(!z)return null;switch(z.type){case h["default"].POINT:z=new a["default"](z.coordinates);break;case h["default"].LINE_STRING:z=new c["default"](z.coordinates);break;case h["default"].POLYGON:z=new f["default"](z.coordinates);break;case h["default"].MULTI_POINT:z=new b["default"](z.coordinates);break;case h["default"].MULTI_LINE_STRING:z=new e["default"](z.coordinates);break;case h["default"].MULTI_POLYGON:z=
new d["default"](z.coordinates);break;case h["default"].GEOMETRY_COLLECTION:z=v(z);break;default:throw Error("Unsupported GeoJSON type: "+z.type);}return(0,B.transformGeometryWithOptions)(z,!1,A)}function v(z,A){z=z.geometries.map(function(p){return C(p,A)});return new k["default"](z)}function w(z,A){z=(0,B.transformGeometryWithOptions)(z,!0,A);var p=z.getType();switch(p){case h["default"].POINT:z={type:"Point",coordinates:z.getCoordinates()};break;case h["default"].LINE_STRING:z={type:"LineString",
coordinates:z.getCoordinates()};break;case h["default"].POLYGON:if(A)var y=A.rightHanded;z={type:"Polygon",coordinates:z.getCoordinates(y)};break;case h["default"].MULTI_POINT:z={type:"MultiPoint",coordinates:z.getCoordinates()};break;case h["default"].MULTI_LINE_STRING:z={type:"MultiLineString",coordinates:z.getCoordinates()};break;case h["default"].MULTI_POLYGON:if(A)var F=A.rightHanded;z={type:"MultiPolygon",coordinates:z.getCoordinates(F)};break;case h["default"].GEOMETRY_COLLECTION:z=u(z,A);
break;case h["default"].CIRCLE:z={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+p);}return z}function u(z,A){return{type:"GeometryCollection",geometries:z.getGeometriesArray().map(function(p){var y=(0,t.assign)({},A);delete y.featureProjection;return w(p,y)})}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;var n=D(m(193)),k=D(m(254)),h=D(m(122));S=D(m(341));var c=D(m(196)),e=D(m(197)),b=D(m(198)),d=D(m(200)),a=D(m(148)),f=D(m(155)),
l=m(79),t=m(89),q=m(133),B=m(255),E=function(){var z=function(A,p){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,F){y.__proto__=F}||function(y,F){for(var J in F)Object.prototype.hasOwnProperty.call(F,J)&&(y[J]=F[J])};return z(A,p)};return function(A,p){function y(){this.constructor=A}z(A,p);A.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}();m=function(z){function A(p){var y=p?p:{};p=z.call(this)||this;p.dataProjection=(0,q.get)(y.dataProjection?y.dataProjection:
"EPSG:4326");y.featureProjection&&(p.defaultFeatureProjection=(0,q.get)(y.featureProjection));p.geometryName_=y.geometryName;p.extractGeometryName_=y.extractGeometryName;return p}E(A,z);A.prototype.readFeatureFromObject=function(p,y){p="Feature"===p.type?p:{type:"Feature",geometry:p,properties:null};y=C(p.geometry,y);var F=new n["default"];this.geometryName_?F.setGeometryName(this.geometryName_):this.extractGeometryName_&&F.setGeometryName(p.geometry_name);F.setGeometry(y);"id"in p&&F.setId(p.id);
p.properties&&F.setProperties(p.properties,!0);return F};A.prototype.readFeaturesFromObject=function(p,y){if("FeatureCollection"===p.type){var F=[];p=p.features;for(var J=0,H=p.length;J<H;++J)F.push(this.readFeatureFromObject(p[J],y))}else F=[this.readFeatureFromObject(p,y)];return F};A.prototype.readGeometryFromObject=function(p,y){return C(p,y)};A.prototype.readProjectionFromObject=function(p){p=p.crs;var y;p?"name"==p.type?y=(0,q.get)(p.properties.name):"EPSG"===p.type?y=(0,q.get)("EPSG:"+p.properties.code):
(0,l.assert)(!1,36):y=this.dataProjection;return y};A.prototype.writeFeatureObject=function(p,y){y=this.adaptOptions(y);var F={type:"Feature",geometry:null,properties:null},J=p.getId();void 0!==J&&(F.id=J);if(!p.hasProperties())return F;J=p.getProperties();var H=p.getGeometry();H&&(F.geometry=w(H,y),delete J[p.getGeometryName()]);(0,t.isEmpty)(J)||(F.properties=J);return F};A.prototype.writeFeaturesObject=function(p,y){y=this.adaptOptions(y);for(var F=[],J=0,H=p.length;J<H;++J)F.push(this.writeFeatureObject(p[J],
y));return{type:"FeatureCollection",features:F}};A.prototype.writeGeometryObject=function(p,y){return w(p,this.adaptOptions(y))};return A}(S["default"]);r["default"]=m};
shadow$provide[343]=function(S,m,Y,r){function D(){if("function"!==typeof WeakMap)return null;var ea=new WeakMap;D=function(){return ea};return ea}function C(ea){return ea&&ea.__esModule?ea:{"default":ea}}function v(ea){v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ja){return typeof ja}:function(ja){return ja&&"function"===typeof Symbol&&ja.constructor===Symbol&&ja!==Symbol.prototype?"symbol":typeof ja};return v(ea)}function w(ea){if(!ba){ba={};for(var ja=document.styleSheets,
oa=0,ra=ja.length;oa<ra;++oa){var pa=ja[oa];try{var ta=pa.rules||pa.cssRules;if(ta){pa=0;for(var wa=ta.length;pa<wa;++pa){var ya=ta[pa];if(5==ya.type){var Ha=ya.cssText.match(X);ba[Ha[1].replace(aa,"")]=!0}}}}catch(Ga){}}}return ea in ba}function u(ea){var ja=ea.toString();if(ja in fa)return ea;for(var oa=ea.map(function(ya){ya=(0,E["default"])(ya,1).split(" ");return[ya.slice(3).join(" ").replace(/"/g,""),ya[1]+ya[0]]}),ra=0,pa=oa.length;ra<pa;++ra){var ta=oa[ra],wa=ta[0];w(wa)||-1===ka.indexOf(wa)||
(ta="https://fonts.googleapis.com/css?family\x3d"+wa.replace(/ /g,"+")+":"+ta[1],document.querySelector('link[href\x3d"'+ta+'"]')||(wa=document.createElement("link"),wa.href=ta,wa.rel="stylesheet",document.head.appendChild(wa)))}fa[ja]=!0;return ea}function n(ea,ja){ja&&0===ea.indexOf(".")&&(ea=ja+ea);return ea}function k(ea,ja,oa){ea=n(ea,ja);return(ja=ea.match(ha))?ja[1]+oa+(2<ja.length?ja[2]:""):ea+oa}function h(ea,ja,oa,ra,pa){return new Promise(function(ta,wa){function ya(){Ba||ja.sprite&&!Ha?
Ba?(ea.setStyle(Ba),ta()):wa(Error("Something went wrong trying to apply style.")):(Ba=(0,z["default"])(ea,ja,oa,pa,Ha,Ga,u),ea.getStyle()?ta():wa(Error("Nothing to show for source ["+oa+"]")))}"object"!=v(ja)&&(ja=JSON.parse(ja));if(8!=ja.version)return wa(Error("glStyle version 8 required."));if(!(ea instanceof N["default"]||ea instanceof M["default"]))return wa(Error("Can only apply to VectorLayer or VectorTileLayer"));var Ha,Ga,Ba;if(ja.sprite){var La=1.5<=window.devicePixelRatio?.5:1;var Ya=
.5==La?"@2x":"",Qa=k(ja.sprite,ra,Ya+".json");fetch(Qa,{credentials:"same-origin"}).then(function(Na){if(Na.ok||""===Ya)return Na;Qa=k(ja.sprite,ra,".json");return fetch(Qa,{credentials:"same-origin"})}).then(function(Na){if(Na.ok)return Na.json();wa(Error("Problem fetching sprite from "+Qa+": "+Na.statusText))}).then(function(Na){if(void 0===Na)return wa(Error("No sprites found."));Ha=Na;Ga=k(ja.sprite,ra,Ya+".png");ya()})["catch"](function(Na){wa(Error("Sprites cannot be loaded: "+Qa+": "+Na.message))})}else ya()})}
function c(ea,ja){function oa(){var pa=ea.getTargetElement();if(pa){var ta=ja.layout||{},wa=ja.paint||{};ra.paint=wa;ra.id="olms-bg-"+wa["background-opacity"]+wa["background-color"];var ya=ea.getView().getZoom();if(void 0!==wa["background-color"]){var Ha=(0,z.getValue)(ra,"paint","background-color",ya,ma);pa.style.background=L.Color.parse(Ha).toString()}void 0!==wa["background-opacity"]&&(pa.style.opacity=(0,z.getValue)(ra,"paint","background-opacity",ya,ma));"none"==ta.visibility&&(pa.style.backgroundColor=
"",pa.style.opacity="")}}var ra={type:ja.type};ea.getTargetElement()&&oa();ea.on(["change:resolution","change:target"],oa)}function e(ea,ja){var oa;ea.some(function(ra){if(ra.id==ja)return oa=ra.source,!0});return oa}function b(ea){var ja=ea.bounds;if(ja)return ea=(0,A.fromLonLat)([ja[0],ja[1]]),ja=(0,A.fromLonLat)([ja[2],ja[3]]),[ea[0],ea[1],ja[0],ja[1]]}function d(ea,ja,oa){ea=(0,T.assign)({},ea);var ra=new M["default"]({declutter:!0,visible:!1});ja=JSON.stringify(ea);var pa=V[ja];pa||(pa=V[ja]=
new O["default"]({url:ea.tiles?void 0:oa,tileJSON:ea.tiles?ea:void 0}));var ta=pa.on("change",function(){var wa=pa.getState();if("ready"===wa){var ya=pa.getTileJSON();wa=Array.isArray(ya.tiles)?ya.tiles:[ya.tiles];if(oa)for(var Ha=0,Ga=wa.length;Ha<Ga;++Ha){var Ba=wa[Ha];0!=Ba.indexOf("http")&&(wa[Ha]=oa.replace(/\/?$/,"/")+Ba.replace(/^\//,""))}Ha=pa.getTileGrid();Ga=b(ya);Ba=ya.minzoom||0;ya=ya.maxzoom||22;var La=pa.get("ol-source");void 0===La&&(La=new G["default"]({attributions:pa.getAttributions(),
format:new H["default"],tileGrid:new y["default"]({origin:Ha.getOrigin(0),extent:Ga||Ha.getExtent(),minZoom:Ba,resolutions:T.defaultResolutions.slice(0,ya+1),tileSize:512}),urls:wa}),pa.set("ol-source",La));(0,P.unByKey)(ta);ra.setSource(La)}else"error"===wa&&(pa.set("ol-source",null),(0,P.unByKey)(ta),ra.setSource(void 0))});"ready"===pa.getState()&&pa.changed();return ra}function a(ea,ja){var oa=new K["default"],ra=new O["default"]({transition:0,url:ea.tiles?void 0:ja,tileJSON:ea.tiles?ea:void 0,
crossOrigin:"anonymous"}),pa=ra.on("change",function(){var ta=ra.getState();if("ready"===ta){(0,P.unByKey)(pa);var wa=ra.getTileJSON();ta=b(wa);var ya=ra.getTileGrid(),Ha=ea.tileSize||wa.tileSize||512,Ga=wa.minzoom||0;wa=wa.maxzoom||22;ra.tileGrid=new y["default"]({origin:ya.getOrigin(0),extent:ta||ya.getExtent(),minZoom:Ga,resolutions:(0,p.createXYZ)({maxZoom:wa,tileSize:Ha}).getResolutions(),tileSize:Ha});oa.setSource(ra)}else"error"===ta&&((0,P.unByKey)(pa),oa.setSource(void 0))});ra.setTileLoadFunction(function(ta,
wa){if(-1!=wa.indexOf("{bbox-epsg-3857}")){var ya=ra.getTileGrid().getTileCoordExtent(ta.getTileCoord());wa=wa.replace("{bbox-epsg-3857}",ya.toString())}ta.getImage().src=wa});return oa}function f(ea,ja){var oa=ea.data,ra,pa;"string"==typeof oa?pa=n(oa,ja):ra=Aa.readFeatures(oa,{featureProjection:"EPSG:3857"});return new N["default"]({source:new Q["default"]({attributions:ea.attribution,features:ra,format:Aa,url:pa}),visible:!1})}function l(ea,ja,oa){oa=oa.getZoom();ea=(0,z.getValue)(ea,"paint","raster-opacity",
oa,ma);ja.setOpacity(ea)}function t(ea,ja,oa,ra,pa,ta){void 0===ta&&(ta="");var wa=[],ya=ja.getView();ya.isDef()||ya.getRotation()||ya.getResolutions()||(ya=new J["default"]({maxResolution:T.defaultResolutions[0]}),ja.setView(ya));"center"in ea&&!ya.getCenter()&&ya.setCenter((0,A.fromLonLat)(ea.center));"zoom"in ea&&void 0===ya.getZoom()&&ya.setResolution(T.defaultResolutions[0]/Math.pow(2,ea.zoom));ya.getCenter()&&void 0!==ya.getZoom()||ya.fit(ya.getProjection().getExtent(),{nearest:!0,size:ja.getSize()});
ea.sprite&&(0==ea.sprite.indexOf("mapbox://")?ea.sprite=oa+"/sprite"+ta:0!=ea.sprite.indexOf("http")&&(ea.sprite=(ra?ra+pa:"")+ea.sprite+ta));var Ha=ea.layers,Ga=[],Ba,La,Ya,Qa,Na,xa;oa=function(wb,sc){Ba=Ha[wb];wb=Ba.type;if("heatmap"!=wb&&"hillshade"!=wb)if("background"==wb)c(ja,Ba);else{Qa=Ba.source||e(Ha,Ba.ref);if(Qa!=Ya){Ga.length&&(wa.push(B(Na,Ga,ea,pa,ja)),Ga=[]);La=ea.sources[Qa];if(xa=La.url)if(xa=n(xa,pa),0==xa.indexOf("mapbox://")){var Rb=xa.replace("mapbox://","");La.tiles=["a","b",
"c","d"].map(function(Nb){return"https://"+Nb+".tiles.mapbox.com/v4/"+Rb+"/{z}/{x}/{y}."+("vector"==La.type?"vector.pbf":"png")+ta})}else 0===xa.indexOf("/")&&0===ra.indexOf("http")&&(xa=ra+xa);"vector"==La.type?Na=d(La,ta,xa):"raster"==La.type?(Na=a(La,xa),Na.setVisible(Ba.layout?"none"!==Ba.layout.visibility:!0),ya.on("change:resolution",l.bind(pb,Ba,Na,ya)),l(Ba,Na,ya)):"geojson"==La.type&&(Na=f(La,pa));Ya=Qa;Na&&Na.set("mapbox-source",Ya)}Ga.push(Ba.id)}};for(var pb=this,Fa=0,Da=Ha.length;Fa<
Da;++Fa)oa(Fa,Da);wa.push(B(Na,Ga,ea,pa,ja));ja.set("mapbox-style",ea);return Promise.all(wa)}function q(ea,ja){var oa,ra,pa,ta;var wa=oa=ra=pa="";if("string"===typeof ea||ea instanceof HTMLElement)ea=new F["default"]({target:ea});if("string"===typeof ja){if(ta=ja.match(ha))oa=ta[1],wa=2<ta.length?ta[2]:"";ta=new Promise(function(ya,Ha){fetch(ja,{credentials:"same-origin"}).then(function(Ga){return Ga.json()}).then(function(Ga){var Ba=document.createElement("A");Ba.href=ja;var La=Ba.href;pa=Ba.pathname.split("/").slice(0,
-1).join("/")+"/";ra=La.substr(0,La.indexOf(pa));t(Ga,ea,oa,ra,pa,wa).then(function(){ya(ea)})["catch"](Ha)})["catch"](function(Ga){Ha(Error("Could not load "+ja+": "+Ga.message))})})}else ta=new Promise(function(ya,Ha){t(ja,ea).then(function(){ya(ea)})["catch"](Ha)});return ta}function B(ea,ja,oa,ra,pa){for(var ta=24,wa=0,ya=oa.layers,Ha=0,Ga=ya.length;Ha<Ga;++Ha){var Ba=ya[Ha];-1!==ja.indexOf(Ba.id)&&(ta=Math.min("minzoom"in Ba?Ba.minzoom:0,ta),wa=Math.max("maxzoom"in Ba?Ba.maxzoom:24,wa))}return new Promise(function(La,
Ya){var Qa=function(){var Na=ea.getSource();if(Na&&"error"!==Na.getState()){if("function"===typeof Na.getTileGrid){var xa=Na.getTileGrid();if(xa){var pb=xa.getMinZoom();(0<ta||0<pb)&&ea.setMaxResolution(Math.min(T.defaultResolutions[ta],xa.getResolution(pb))+1E-9);24>wa&&ea.setMinResolution(T.defaultResolutions[wa]+1E-9)}}Na instanceof Q["default"]||Na instanceof G["default"]?h(ea,oa,ja,ra).then(function(){ea.setVisible(!0);La()},function(Fa){Ya(Fa)}):La()}else Ya(Error("Error accessing data for source "+
ea.get("mapbox-source")))};ea.set("mapbox-layers",ja);-1===pa.getLayers().getArray().indexOf(ea)&&pa.addLayer(ea);if(ea.getSource())Qa();else ea.once("change:source",Qa)})}Object.defineProperty(r,"__esModule",{value:!0});r.applyStyle=h;r.applyBackground=function(ea,ja){ja.layers.some(function(oa){if("background"==oa.type)return c(ea,oa),!0})};r["default"]=q;r.apply=function(ea,ja){if("string"===typeof ea||ea instanceof HTMLElement)ea=new F["default"]({target:ea});setTimeout(function(){q(ea,ja)},0);
return ea};r.getLayer=function(ea,ja){ea=ea.getLayers().getArray();for(var oa=0,ra=ea.length;oa<ra;++oa){var pa=ea[oa].get("mapbox-layers");if(pa&&-1!==pa.indexOf(ja))return ea[oa]}};r.getLayers=function(ea,ja){var oa=[];ea=ea.getLayers().getArray();for(var ra=0,pa=ea.length;ra<pa;++ra)ea[ra].get("mapbox-source")===ja&&oa.push(ea[ra]);return oa};r.getSource=function(ea,ja){ea=ea.getLayers().getArray();for(var oa=0,ra=ea.length;oa<ra;++oa){var pa=ea[oa].getSource();if(ea[oa].get("mapbox-source")===
ja)return pa}};r._finalizeLayer=B;r._getFonts=u;var E=C(m(336)),z=function(ea){if(ea&&ea.__esModule)return ea;if(null===ea||"object"!==v(ea)&&"function"!==typeof ea)return{"default":ea};var ja=D();if(ja&&ja.has(ea))return ja.get(ea);var oa={},ra=Object.defineProperty&&Object.getOwnPropertyDescriptor,pa;for(pa in ea)if(Object.prototype.hasOwnProperty.call(ea,pa)){var ta=ra?Object.getOwnPropertyDescriptor(ea,pa):null;ta&&(ta.get||ta.set)?Object.defineProperty(oa,pa,ta):oa[pa]=ea[pa]}oa["default"]=ea;
ja&&ja.set(ea,oa);return oa}(m(339));S=C(m(340));var A=m(133),p=m(271),y=C(m(270)),F=C(m(253)),J=C(m(156));Y=C(m(342));var H=C(m(332)),P=m(93),K=C(m(301)),N=C(m(239)),M=C(m(335)),O=C(m(306)),Q=C(m(245)),G=C(m(311)),L=m(337),T=m(338),V={},X=/font-family: ?([^;]*);/,aa=/("|')/g,ba,fa={},ka=S["default"].getNames(),ha=/^(.*)(\?.*)$/,ma={},Aa=new Y["default"]};
shadow$provide[344]=function(S,m,Y,r){function D(l){return l&&l.__esModule?l:{"default":l}}function C(l){return 0!==l.indexOf("mapbox://")?"":l.slice(9)}function v(l,t){var q=C(l);if(!q)return l;if(0!==q.indexOf("sprites/"))throw Error("unexpected sprites url: "+l);l=q.slice(8);return a+"/styles/v1/"+l+"/sprite?access_token\x3d"+t}function w(l,t){var q=C(l);if(!q)return l;if(0!==q.indexOf("fonts/"))throw Error("unexpected fonts url: "+l);l=q.slice(6);return a+"/fonts/v1/"+l+"/0-255.pbf?access_token\x3d"+
t}function u(l,t){var q=C(l);if(!q)return l;if(0!==q.indexOf("styles/"))throw Error("unexpected style url: "+l);l=q.slice(7);return a+"/styles/v1/"+l+"?\x26access_token\x3d"+t}function n(l,t){var q=C(l);return q?"https://{a-d}.tiles.mapbox.com/v4/"+q+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+t:l}Object.defineProperty(r,"__esModule",{value:!0});r.getMapboxPath=C;r.normalizeSpriteUrl=v;r.normalizeGlyphsUrl=w;r.normalizeStyleUrl=u;r.normalizeSourceUrl=n;r["default"]=void 0;S=D(m(87));var k=D(m(91)),
h=D(m(332)),c=D(m(98));Y=D(m(335));var e=D(m(311)),b=m(343),d=function(){var l=function(t,q){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,E){B.__proto__=E}||function(B,E){for(var z in E)Object.prototype.hasOwnProperty.call(E,z)&&(B[z]=E[z])};return l(t,q)};return function(t,q){function B(){this.constructor=t}l(t,q);t.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}(),a="https://api.mapbox.com",f=function(l){function t(q){var B=l.call(this,k["default"].ERROR)||
this;B.error=q;return B}d(t,l);return t}(S["default"]);m=function(l){function t(q){var B="declutter"in q?q.declutter:!0;var E=new e["default"]({state:c["default"].LOADING,format:new h["default"]});B=l.call(this,{source:E,declutter:B,className:q.className,opacity:q.opacity,visible:q.visible,zIndex:q.zIndex,minResolution:q.minResolution,maxResolution:q.maxResolution,minZoom:q.minZoom,maxZoom:q.maxZoom,renderOrder:q.renderOrder,renderBuffer:q.renderBuffer,renderMode:q.renderMode,map:q.map,updateWhileAnimating:q.updateWhileAnimating,
updateWhileInteracting:q.updateWhileInteracting,preload:q.preload,useInterimTilesOnError:q.useInterimTilesOnError})||this;B.sourceId=q.source;B.layers=q.layers;B.accessToken=q.accessToken;B.fetchStyle(q.styleUrl);return B}d(t,l);t.prototype.fetchStyle=function(q){var B=this;q=u(q,this.accessToken);fetch(q).then(function(E){if(!E.ok)throw Error("unexpected response when fetching style: "+E.status);return E.json()}).then(function(E){B.onStyleLoad(E)})["catch"](function(E){B.handleError(E)})};t.prototype.onStyleLoad=
function(q){var B=this,E;if(this.layers){var z={};for(E=0;E<q.layers.length;++E){var A=q.layers[E];A.source&&(z[A.id]=A.source)}A=void 0;for(E=0;E<this.layers.length;++E){var p=z[this.layers[E]];if(!p){this.handleError(Error("could not find source for "+this.layers[E]));return}if(!A)A=p;else if(A!==p){this.handleError(Error("layers can only use a single source, found "+A+" and "+p));return}}E=A;z=this.layers}else z=E=this.sourceId;z||(z=E=Object.keys(q.sources)[0]);q.sprite&&(q.sprite=v(q.sprite,
this.accessToken));q.glyphs&&(q.glyphs=w(q.glyphs,this.accessToken));E=q.sources[E];if("vector"!==E.type)this.handleError(Error("only works for vector sources, found "+E.type));else{var y=this.getSource();y.setUrl(n(E.url,this.accessToken));(0,b.applyStyle)(this,q,z).then(function(){y.setState(c["default"].READY)})["catch"](function(F){B.handleError(F)})}};t.prototype.handleError=function(q){this.dispatchEvent(new f(q));this.getSource().setState(c["default"].ERROR)};return t}(Y["default"]);r["default"]=
m};
shadow$provide[345]=function(S,m,Y,r){function D(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(296));var C=D(m(238)),v=D(m(91)),w=D(m(288)),u=D(m(202)),n=D(m(201)),k=D(m(124)),h=m(80),c=m(89),e=m(83),b=function(){var d=function(a,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,t){l.__proto__=t}||function(l,t){for(var q in t)Object.prototype.hasOwnProperty.call(t,q)&&(l[q]=t[q])};return d(a,f)};return function(a,
f){function l(){this.constructor=a}d(a,f);a.prototype=null===f?Object.create(f):(l.prototype=f.prototype,new l)}}();m=function(d){function a(f){var l=d.call(this,f)||this;l.vectorRenderer_=new C["default"](f);l.layerImageRatio_=f.getImageRatio();l.coordinateToVectorPixelTransform_=(0,h.create)();l.renderedPixelToCoordinateTransform_=null;return l}b(a,d);a.prototype.disposeInternal=function(){this.vectorRenderer_.dispose();d.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(f){return this.vectorRenderer_?
(f=(0,h.apply)(this.coordinateToVectorPixelTransform_,(0,h.apply)(this.renderedPixelToCoordinateTransform_,f.slice())),this.vectorRenderer_.getFeatures(f)):new Promise(function(l,t){l([])})};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(f){var l=f.pixelRatio,t=f.viewState,q=t.resolution,B=f.viewHints,E=this.vectorRenderer_,z=f.extent;1!==this.layerImageRatio_&&(z=z.slice(0),(0,e.scaleFromCenter)(z,this.layerImageRatio_));var A=
(0,e.getWidth)(z)/q,p=(0,e.getHeight)(z)/q;if(!B[k["default"].ANIMATING]&&!B[k["default"].INTERACTING]&&!(0,e.isEmpty)(z)){E.useContainer(null,null,1);B=E.context;var y=(0,c.assign)({},f,{declutterTree:new n["default"](9),extent:z,size:[A,p],viewState:(0,c.assign)({},f.viewState,{rotation:0})}),F=new w["default"](z,q,l,B.canvas,function(J){E.prepareFrame(y)&&E.replayGroupChanged&&(E.clipping=!1,E.renderFrame(y,null),E.renderDeclutter(y),J())});F.addEventListener(v["default"].CHANGE,function(){if(F.getState()===
u["default"].LOADED){this.image_=F;var J=F.getResolution(),H=F.getPixelRatio();this.renderedResolution=J=J*l/H;this.coordinateToVectorPixelTransform_=(0,h.compose)(this.coordinateToVectorPixelTransform_,A/2,p/2,1/J,-1/J,0,-t.center[0],-t.center[1])}}.bind(this));F.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=f.pixelToCoordinateTransform.slice());return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=
function(f,l,t,q,B){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(f,l,t,q,B):d.prototype.forEachFeatureAtCoordinate.call(this,f,l,t,q,B)};return a}(S["default"]);r["default"]=m};
shadow$provide[346]=function(S,m,Y,r){function D(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(210));var C=D(m(345)),v=m(89),w=function(){var u=function(n,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(h[e]=c[e])};return u(n,k)};return function(n,k){function h(){this.constructor=n}u(n,k);n.prototype=null===k?Object.create(k):
(h.prototype=k.prototype,new h)}}();m=function(u){function n(k){k=k?k:{};var h=(0,v.assign)({},k);delete h.imageRatio;h=u.call(this,h)||this;h.imageRatio_=void 0!==k.imageRatio?k.imageRatio:1;return h}w(n,u);n.prototype.getImageRatio=function(){return this.imageRatio_};n.prototype.createRenderer=function(){return new C["default"](this)};return n}(S["default"]);r["default"]=m};
shadow$provide[347]=function(S,m,Y,r){function D(p){if("number"===typeof p)return z.NUMBER;if("boolean"===typeof p)return z.BOOLEAN;if("string"===typeof p)return(0,E.isStringColor)(p)?z.COLOR|z.STRING:z.STRING;if(!Array.isArray(p))throw Error("Unhandled value type: "+JSON.stringify(p));if(p.every(function(F){return"number"===typeof F}))return 3===p.length||4===p.length?z.COLOR|z.NUMBER_ARRAY:z.NUMBER_ARRAY;if("string"!==typeof p[0])throw Error("Expected an expression operator but received: "+JSON.stringify(p));
var y=A[p[0]];if(void 0===y)throw Error("Unrecognized expression operator: "+JSON.stringify(p));return y.getReturnType(p.slice(1))}function C(p){return 0===Math.log2(p)%1}function v(p){p=p.toString();return-1===p.indexOf(".")?p+".0":p}function w(p){if(2>p.length||4<p.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+p.length+"("+p.map(v).join(", ")+")"}function u(p){p=(0,E.asArray)(p).slice();4>p.length&&p.push(1);return w(p.map(function(y,F){return 3>
F?y/255:y}))}function n(p,y){void 0===p.stringLiteralsMap[y]&&(p.stringLiteralsMap[y]=Object.keys(p.stringLiteralsMap).length);return p.stringLiteralsMap[y]}function k(p,y){return v(n(p,y))}function h(p,y,F){if(Array.isArray(y)&&"string"===typeof y[0]){var J=A[y[0]];if(void 0===J)throw Error("Unrecognized expression operator: "+JSON.stringify(y));return J.toGlsl(p,y.slice(1),F)}J=D(y);if(0<(J&z.NUMBER))return v(y);if(0<(J&z.BOOLEAN))return y.toString();if(0<(J&z.STRING)&&(void 0===F||F==z.STRING))return k(p,
y.toString());if(0<(J&z.COLOR)&&(void 0===F||F==z.COLOR))return u(y);if(0<(J&z.NUMBER_ARRAY))return w(y)}function c(p){for(var y=0;y<p.length;y++){var F=p[y];if(!(D(F)&z.NUMBER))throw Error("A numeric value was expected, got "+JSON.stringify(F)+" instead");}}function e(p){if(!(D(p)&z.STRING))throw Error("A string value was expected, got "+JSON.stringify(p)+" instead");}function b(p){if(!(D(p)&z.BOOLEAN))throw Error("A boolean value was expected, got "+JSON.stringify(p)+" instead");}function d(p,y){if(p.length!==
y)throw Error("Exactly "+y+" arguments were expected, got "+p.length+" instead");}function a(p,y){if(p.length<y)throw Error("At least "+y+" arguments were expected, got "+p.length+" instead");}function f(p,y){if(p.length>y)throw Error("At most "+y+" arguments were expected, got "+p.length+" instead");}function l(p){if(0!==p.length%2)throw Error("An even amount of arguments was expected, got "+p+" instead");}function t(p,y){if(!C(y))throw Error("Could not infer only one type from the following expression: "+
JSON.stringify(p));}function q(p){return{getReturnType:function(y){return z.BOOLEAN},toGlsl:function(y,F){d(F,2);for(var J=z.ANY,H=0;H<F.length;H++)J&=D(F[H]);if(0===J)throw Error("All arguments should be of compatible type, got "+JSON.stringify(F)+" instead");return"("+h(y,F[0],J)+" "+p+" "+h(y,F[1],J)+")"}}}function B(p){return{getReturnType:function(y){return z.BOOLEAN},toGlsl:function(y,F){a(F,2);for(var J=0;J<F.length;J++)b(F[J]);J="";J=F.map(function(H){return h(y,H)}).join(" "+p+" ");return"("+
J+")"}}}Object.defineProperty(r,"__esModule",{value:!0});r.getValueType=D;r.isTypeUnique=C;r.numberToGlsl=v;r.arrayToGlsl=w;r.colorToGlsl=u;r.getStringNumberEquivalent=n;r.stringToGlsl=k;r.expressionToGlsl=h;r.Operators=r.ValueTypes=void 0;var E=m(85),z={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};r.ValueTypes=z;var A={};r.Operators=A;A.get={getReturnType:function(p){return z.ANY},toGlsl:function(p,y){d(y,1);e(y[0]);y=y[0].toString();-1===p.attributes.indexOf(y)&&p.attributes.push(y);
return(p.inFragmentShader?"v_":"a_")+y}};A["var"]={getReturnType:function(p){return z.ANY},toGlsl:function(p,y){d(y,1);e(y[0]);y=y[0].toString();-1===p.variables.indexOf(y)&&p.variables.push(y);return"u_"+y}};A.time={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,0);return"u_time"}};A.zoom={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,0);return"u_zoom"}};A.resolution={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,0);return"u_resolution"}};
A["*"]={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,2);c(y);return"("+h(p,y[0])+" * "+h(p,y[1])+")"}};A["/"]={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,2);c(y);return"("+h(p,y[0])+" / "+h(p,y[1])+")"}};A["+"]={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,2);c(y);return"("+h(p,y[0])+" + "+h(p,y[1])+")"}};A["-"]={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,2);c(y);return"("+h(p,y[0])+" - "+h(p,y[1])+")"}};
A.clamp={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,3);c(y);var F=h(p,y[1]),J=h(p,y[2]);return"clamp("+h(p,y[0])+", "+F+", "+J+")"}};A["%"]={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,2);c(y);return"mod("+h(p,y[0])+", "+h(p,y[1])+")"}};A["^"]={getReturnType:function(p){return z.NUMBER},toGlsl:function(p,y){d(y,2);c(y);return"pow("+h(p,y[0])+", "+h(p,y[1])+")"}};A["\x3e"]={getReturnType:function(p){return z.BOOLEAN},toGlsl:function(p,y){d(y,2);c(y);
return"("+h(p,y[0])+" \x3e "+h(p,y[1])+")"}};A["\x3e\x3d"]={getReturnType:function(p){return z.BOOLEAN},toGlsl:function(p,y){d(y,2);c(y);return"("+h(p,y[0])+" \x3e\x3d "+h(p,y[1])+")"}};A["\x3c"]={getReturnType:function(p){return z.BOOLEAN},toGlsl:function(p,y){d(y,2);c(y);return"("+h(p,y[0])+" \x3c "+h(p,y[1])+")"}};A["\x3c\x3d"]={getReturnType:function(p){return z.BOOLEAN},toGlsl:function(p,y){d(y,2);c(y);return"("+h(p,y[0])+" \x3c\x3d "+h(p,y[1])+")"}};A["\x3d\x3d"]=q("\x3d\x3d");A["!\x3d"]=q("!\x3d");
A["!"]={getReturnType:function(p){return z.BOOLEAN},toGlsl:function(p,y){d(y,1);b(y[0]);return"(!"+h(p,y[0])+")"}};A.all=B("\x26\x26");A.any=B("||");A.between={getReturnType:function(p){return z.BOOLEAN},toGlsl:function(p,y){d(y,3);c(y);var F=h(p,y[1]),J=h(p,y[2]);p=h(p,y[0]);return"("+p+" \x3e\x3d "+F+" \x26\x26 "+p+" \x3c\x3d "+J+")"}};A.array={getReturnType:function(p){return z.NUMBER_ARRAY},toGlsl:function(p,y){a(y,2);f(y,4);c(y);var F=y.map(function(J){return h(p,J,z.NUMBER)});return"vec"+y.length+
"("+F.join(", ")+")"}};A.color={getReturnType:function(p){return z.COLOR},toGlsl:function(p,y){a(y,3);f(y,4);c(y);3===y.length&&y.push(1);var F=y.map(function(J,H){return h(p,J,z.NUMBER)+(3>H?" / 255.0":"")});return"vec"+y.length+"("+F.join(", ")+")"}};A.interpolate={getReturnType:function(p){for(var y=z.COLOR|z.NUMBER,F=3;F<p.length;F+=2)y&=D(p[F]);return y},toGlsl:function(p,y,F){l(y);a(y,6);var J=y[0];switch(J[0]){case "linear":var H=1;break;case "exponential":H=J[1];break;default:H=null}if(!H)throw Error('Invalid interpolation type for "interpolate" operator, received: '+
JSON.stringify(J));F=void 0!==F?F:z.ANY;F&=A.interpolate.getReturnType(y);t(y,F);J=h(p,y[1]);for(var P=null,K=2;K<y.length-2;K+=2){var N=h(p,y[K]),M=h(p,y[K+1],F),O=h(p,y[K+2]),Q=h(p,y[K+3],F);P="mix("+(P||M)+", "+Q+", pow(clamp(("+J+" - "+N+") / ("+O+" - "+N+"), 0.0, 1.0), "+v(H)+"))"}return P}};A.match={getReturnType:function(p){for(var y=z.ANY,F=2;F<p.length;F+=2)y&=D(p[F]);return y&=D(p[p.length-1])},toGlsl:function(p,y,F){l(y);a(y,4);F=void 0!==F?F:z.ANY;F&=A.match.getReturnType(y);t(y,F);for(var J=
h(p,y[0]),H=h(p,y[y.length-1],F),P=null,K=y.length-3;1<=K;K-=2){var N=h(p,y[K]),M=h(p,y[K+1],F);P="("+J+" \x3d\x3d "+N+" ? "+M+" : "+(P||H)+")"}return P}};A["case"]={getReturnType:function(p){for(var y=z.ANY,F=1;F<p.length;F+=2)y&=D(p[F]);return y&=D(p[p.length-1])},toGlsl:function(p,y,F){if(0===y.length%2)throw Error("An odd amount of arguments was expected, got "+y+" instead");a(y,3);F=void 0!==F?F:z.ANY;F&=A["case"].getReturnType(y);t(y,F);for(var J=0;J<y.length-1;J+=2)b(y[J]);var H=h(p,y[y.length-
1],F),P=null;for(J=y.length-3;0<=J;J-=2){var K=h(p,y[J]),N=h(p,y[J+1],F);P="("+K+" ? "+N+" : "+(P||H)+")"}return P}}};
shadow$provide[348]=function(S,m,Y,r){Object.defineProperty(r,"__esModule",{value:!0});r.parseLiteralStyle=function(v){var w=v.symbol,u=void 0!==w.size?w.size:1,n=w.color||"white",k=w.textureCoord||[0,0,1,1],h=w.offset||[0,0],c=void 0!==w.opacity?w.opacity:1,e=void 0!==w.rotation?w.rotation:0,b={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},d=(0,D.expressionToGlsl)(b,u,D.ValueTypes.NUMBER_ARRAY|D.ValueTypes.NUMBER);h=(0,D.expressionToGlsl)(b,h,D.ValueTypes.NUMBER_ARRAY);k=(0,
D.expressionToGlsl)(b,k,D.ValueTypes.NUMBER_ARRAY);var a=(0,D.expressionToGlsl)(b,e,D.ValueTypes.NUMBER);e={inFragmentShader:!0,variables:b.variables,attributes:[],stringLiteralsMap:b.stringLiteralsMap};n=(0,D.expressionToGlsl)(e,n,D.ValueTypes.COLOR);c=(0,D.expressionToGlsl)(e,c,D.ValueTypes.NUMBER);var f="1.0";u="vec2("+(0,D.expressionToGlsl)(e,u,D.ValueTypes.NUMBER_ARRAY|D.ValueTypes.NUMBER)+").x";switch(w.symbolType){case "square":break;case "image":break;case "circle":f="(1.0-smoothstep(1.-4./"+
u+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case "triangle":f="(1.0-smoothstep(.5-3./"+u+",.5,cos(floor(.5+(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))/2.094395102)*2.094395102-(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y)))*length((v_quadCoord*2.-1.))))";break;default:throw Error("Unexpected symbol type: "+w.symbolType);}var l=(new C).setSizeExpression("vec2("+d+")").setRotationExpression(a).setSymbolOffsetExpression(h).setTextureCoordinateExpression(k).setSymbolRotateWithView(!!w.rotateWithView).setColorExpression("vec4("+
n+".rgb, "+n+".a * "+c+" * "+f+")");v.filter&&(d=(0,D.expressionToGlsl)(e,v.filter,D.ValueTypes.BOOLEAN),l.setFragmentDiscardExpression("!"+d));var t={};e.variables.forEach(function(q){l.addUniform("float u_"+q);t["u_"+q]=function(){if(!v.variables||void 0===v.variables[q])throw Error("The following variable is missing from the style: "+q);var B=v.variables[q];"string"===typeof B&&(B=(0,D.getStringNumberEquivalent)(b,B));return void 0!==B?B:-9999999}});"image"===w.symbolType&&w.src&&(d=new Image,
d.src=w.src,l.addUniform("sampler2D u_texture").setColorExpression(l.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),t.u_texture=d);e.attributes.forEach(function(q){-1===b.attributes.indexOf(q)&&b.attributes.push(q);l.addVarying("v_"+q,"float","a_"+q)});b.attributes.forEach(function(q){l.addAttribute("float a_"+q)});return{builder:l,attributes:b.attributes.map(function(q){return{name:q,callback:function(B,E){B=E[q];"string"===typeof B&&(B=(0,D.getStringNumberEquivalent)(b,B));return void 0!==
B?B:-9999999}}}),uniforms:t}};r.ShaderBuilder=void 0;var D=m(347),C=function(){function v(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}v.prototype.addUniform=function(w){this.uniforms.push(w);return this};v.prototype.addAttribute=function(w){this.attributes.push(w);
return this};v.prototype.addVarying=function(w,u,n){this.varyings.push({name:w,type:u,expression:n});return this};v.prototype.setSizeExpression=function(w){this.sizeExpression=w;return this};v.prototype.setRotationExpression=function(w){this.rotationExpression=w;return this};v.prototype.setSymbolOffsetExpression=function(w){this.offsetExpression=w;return this};v.prototype.setColorExpression=function(w){this.colorExpression=w;return this};v.prototype.setTextureCoordinateExpression=function(w){this.texCoordExpression=
w;return this};v.prototype.setFragmentDiscardExpression=function(w){this.discardExpression=w;return this};v.prototype.setSymbolRotateWithView=function(w){this.rotateWithView=w;return this};v.prototype.getSizeExpression=function(){return this.sizeExpression};v.prototype.getOffsetExpression=function(){return this.offsetExpression};v.prototype.getColorExpression=function(){return this.colorExpression};v.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};v.prototype.getFragmentDiscardExpression=
function(){return this.discardExpression};v.prototype.getSymbolVertexShader=function(w){var u=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",n=this.attributes,k=this.varyings;w&&(n=n.concat("vec4 a_hitColor"),k=k.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+
this.uniforms.map(function(h){return"uniform "+h+";"}).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+n.map(function(h){return"attribute "+h+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+k.map(function(h){return"varying "+h.type+" "+h.name+";"}).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix \x3d "+u+";\n  vec2 halfSize \x3d "+this.sizeExpression+" * 0.5;\n  vec2 offset \x3d "+this.offsetExpression+";\n  float angle \x3d "+this.rotationExpression+
";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d "+
this.texCoordExpression+";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n"+k.map(function(h){return"  "+h.name+" \x3d "+h.expression+";"}).join("\n")+"\n}"};v.prototype.getSymbolFragmentShader=
function(w){var u=w?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",n=this.varyings;w&&(n=n.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map(function(k){return"uniform "+k+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+n.map(function(k){return"varying "+k.type+" "+k.name+";"}).join("\n")+"\nvoid main(void) {\n  if ("+
this.discardExpression+") { discard; }\n  gl_FragColor \x3d "+this.colorExpression+";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n"+u+"\n}"};return v}();r.ShaderBuilder=C};
shadow$provide[349]=function(S,m,Y,r){function D(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(r,"__esModule",{value:!0});r["default"]=void 0;S=D(m(99));var C=D(m(328)),v=m(89),w=m(348),u=function(){var n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var b in e)Object.prototype.hasOwnProperty.call(e,b)&&(c[b]=e[b])};return n(k,h)};return function(k,h){function c(){this.constructor=k}n(k,h);k.prototype=null===
h?Object.create(h):(c.prototype=h.prototype,new c)}}();m=function(n){function k(h){var c=(0,v.assign)({},h);c=n.call(this,c)||this;c.parseResult_=(0,w.parseLiteralStyle)(h.style);c.hitDetectionDisabled_=!!h.disableHitDetection;return c}u(k,n);k.prototype.createRenderer=function(){return new C["default"](this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&
this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};k.prototype.disposeInternal=function(){this.getRenderer().disposeInternal();n.prototype.disposeInternal.call(this)};return k}(S["default"]);r["default"]=m};
shadow$provide[350]=function(S,m,Y,r){function D(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(r,"__esModule",{value:!0});Object.defineProperty(r,"Graticule",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty(r,"Group",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(r,"Heatmap",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(r,
"Layer",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(r,"MapboxVector",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(r,"Tile",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(r,"Vector",{enumerable:!0,get:function(){return c["default"]}});Object.defineProperty(r,"VectorImage",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(r,"VectorTile",{enumerable:!0,get:function(){return b["default"]}});
Object.defineProperty(r,"WebGLPoints",{enumerable:!0,get:function(){return d["default"]}});var C=D(m(318)),v=D(m(111)),w=D(m(329)),u=D(m(297)),n=D(m(99)),k=D(m(344)),h=D(m(301)),c=D(m(239)),e=D(m(346)),b=D(m(335)),d=D(m(349))};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",ha="datascript.db",ia="datascript.pull-api",ja="taoensso.sente",g,la=la||{},ma=this||self;function na(a,b){a=a.split(".");var c=ma;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function pa(){}
function ra(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function sa(a){return"array"==ra(a)}function ta(a){var b=ra(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ua(a){return"function"==ra(a)}function va(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function xa(a){return a[za]||(a[za]=++Aa)}var za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0;function Da(a,b,c){return a.call.apply(a.bind,arguments)}
function Ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Fa(a,b,c){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ea;return Fa.apply(null,arguments)}var Ga=Date.now||function(){return+new Date};
function Ha(a,b){function c(){}c.prototype=b.prototype;a.jd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ia(a){Ia[" "](a);return a}Ia[" "]=pa;function Ja(a,b){var c=Ka;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var La=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Na=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Oa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Pa=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Qa(a){a:{var b=Ra;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Ta(a){if(!sa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Ua(a,b){b=La(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Va(a){return Array.prototype.concat.apply([],arguments)}function Wa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ya(a,b){a.sort(b||Za)}function $a(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Za;Ya(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function Za(a,b){return a>b?1:a<b?-1:0}function ab(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function bb(a){this.mj=a}bb.prototype.toString=function(){return this.mj};var cb=new bb("IFRAME"),db=new bb("SCRIPT");function eb(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function fb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function gb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function hb(a,b,c){return null!==a&&b in a?a[b]:c}var ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function jb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ib.length;f++)c=ib[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function kb(a,b){this.lj=a===lb&&b||"";this.Lh=mb}var mb={},lb={},nb=new kb(lb,"");function ob(){}ob.prototype.fd=function(){return this};(new ob).fd("");function pb(a,b){this.dj=a===qb&&b||"";this.Mh=rb}var rb={},qb={};function sb(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function tb(a){return/^[\s\xa0]*$/.test(a)}var ub=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function vb(a){return-1!=wb.toLowerCase().indexOf(a.toLowerCase())}function xb(a,b){return a<b?-1:a>b?1:0};function zb(){}zb.prototype.fd=function(){return this};(new zb).fd("");function Ab(){}Ab.prototype.fd=function(){return this};(new Ab).fd("");var wb;a:{var Bb=ma.navigator;if(Bb){var Cb=Bb.userAgent;if(Cb){wb=Cb;break a}}wb=""}function Db(a){return-1!=wb.indexOf(a)};function Eb(){this.eh="";this.Bh=Fb}function Gb(){var a=Hb;if(a instanceof Eb&&a.constructor===Eb&&a.Bh===Fb)return a.eh;ra(a);return"type_error:SafeHtml"}var Fb={};Eb.prototype.fd=function(a){this.eh=a;return this};(new Eb).fd("\x3c!DOCTYPE html\x3e");var Hb=(new Eb).fd("");(new Eb).fd("\x3cbr\x3e");function Ib(a){var b=new pb(qb,nb instanceof kb&&nb.constructor===kb&&nb.Lh===mb?nb.lj:"type_error:Const");b instanceof pb&&b.constructor===pb&&b.Mh===rb?b=b.dj:(ra(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Jb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"�">=a}var Kb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Lb(a,b){a=String(a);var c=a.indexOf(".");-1==c&&(c=a.length);return Kb("0",Math.max(0,b-c))+a};function Mb(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if(ta(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Nb(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(ta(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return fb(a)}
function Ob(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(ta(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return gb(a)}}function Pb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ta(a)||"string"===typeof a)Na(a,b,c);else for(var d=Ob(a),e=Nb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Qb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ta(a)||"string"===typeof a)return Pa(a,b,void 0);for(var c=Ob(a),d=Nb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Rb(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Rb.prototype;g.getCount=function(){return this.count_};g.getValues=function(){Sb(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.getKeys=function(){Sb(this);return this.keys_.concat()};
g.containsKey=function(a){return Tb(this.map_,a)};g.le=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Tb(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Ub;Sb(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Ub(a,b){return a===b}g.isEmpty=function(){return 0==this.count_};
g.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};g.remove=function(a){return Tb(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&Sb(this),!0):!1};
function Sb(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];Tb(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],Tb(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}g.get=function(a,b){return Tb(this.map_,a)?this.map_[a]:b};g.set=function(a,b){Tb(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
g.addAll=function(a){if(a instanceof Rb)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Rb(this)};g.transpose=function(){for(var a=new Rb,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};function Tb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Vb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function Yb(a,b){this.count_=this.jb=null;this.uc=a||null;this.si=!!b}function Zb(a){a.jb||(a.jb=new Rb,a.count_=0,a.uc&&Wb(a.uc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=Yb.prototype;g.getCount=function(){Zb(this);return this.count_};g.add=function(a,b){Zb(this);this.uc=null;a=ac(this,a);var c=this.jb.get(a);c||this.jb.set(a,c=[]);c.push(b);this.count_+=1;return this};
g.remove=function(a){Zb(this);a=ac(this,a);return this.jb.containsKey(a)?(this.uc=null,this.count_-=this.jb.get(a).length,this.jb.remove(a)):!1};g.clear=function(){this.jb=this.uc=null;this.count_=0};g.isEmpty=function(){Zb(this);return 0==this.count_};g.containsKey=function(a){Zb(this);a=ac(this,a);return this.jb.containsKey(a)};g.le=function(a){var b=this.getValues();return 0<=La(b,a)};g.forEach=function(a,b){Zb(this);this.jb.forEach(function(c,d){Na(c,function(e){a.call(b,e,d,this)},this)},this)};
g.getKeys=function(){Zb(this);for(var a=this.jb.getValues(),b=this.jb.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.getValues=function(a){Zb(this);var b=[];if("string"===typeof a)this.containsKey(a)&&(b=Va(b,this.jb.get(ac(this,a))));else{a=this.jb.getValues();for(var c=0;c<a.length;c++)b=Va(b,a[c])}return b};
g.set=function(a,b){Zb(this);this.uc=null;a=ac(this,a);this.containsKey(a)&&(this.count_-=this.jb.get(a).length);this.jb.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.uc)return this.uc;if(!this.jb)return"";for(var a=[],b=this.jb.getKeys(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.getValues(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.uc=a.join("\x26")};g.clone=function(){var a=new Yb;a.uc=this.uc;this.jb&&(a.jb=this.jb.clone(),a.count_=this.count_);return a};function ac(a,b){b=String(b);a.si&&(b=b.toLowerCase());return b}
g.extend=function(a){for(var b=0;b<arguments.length;b++)Pb(arguments[b],function(c,d){this.add(d,c)},this)};function bc(a,b){null!=a&&this.append.apply(this,arguments)}g=bc.prototype;g.nd="";g.set=function(a){this.nd=""+a};g.append=function(a,b,c){this.nd+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.nd+=arguments[d];return this};g.clear=function(){this.nd=""};g.getLength=function(){return this.nd.length};g.toString=function(){return this.nd};var cc={},dc={},ec,l={},gc=null,hc=null,ic=!0,jc=!0,kc=null,lc=null;function mc(){return new q(null,5,[nc,!0,oc,jc,pc,!1,qc,!1,rc,kc],null)}function sc(){ic=!1;hc=function(){return console.log.apply(console,Wa(arguments))}}function r(a){return null!=a&&!1!==a}function tc(a){return null==a}function uc(a){return a instanceof Array}function vc(a){return"number"===typeof a}function wc(a){return null==a?!0:!1===a?!0:!1}function xc(a){return null!=a}
function yc(a,b){return a[ra(null==b?null:b)]?!0:a._?!0:!1}function zc(a){return null==a?null:a.constructor}function Ac(a,b){var c=zc(b);c=r(r(c)?c.rb:c)?c.kb:ra(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Bc(a){var b=a.kb;return r(b)?b:t.B(a)}
var Cc="undefined"!==typeof Symbol&&"function"===ra(Symbol)?Symbol.iterator:"@@iterator",Dc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Ec=null;
function Fc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Gc(a){function b(d,e){d.push(e);return d}var c=[];return w.C?w.C(b,c,a):w.call(null,b,c,a)}function Hc(a){return"symbol"===ra(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ic(){}function Jc(){}function Kc(){}
function Lc(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Lc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Lc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ICounted.-count",a);}return a}function Mc(){}function Nc(a){if(null!=a&&null!=a.Ja)a=a.Ja(a);else{var b=Nc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IEmptyableCollection.-empty",a);}return a}function Oc(){}
function Pc(a,b){if(null!=a&&null!=a.la)a=a.la(a,b);else{var c=Pc[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Pc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ICollection.-conj",a);}return a}function Qc(){}
var Rc=function(){function a(d,e,f){var h=x[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Ac("IIndexed.-nth",d);}function b(d,e){var f=x[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.j(arguments[0],arguments[1]);case 3:return x.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};x.j=function(a,b){return null!=a&&null!=a.xa?a.xa(a,b):Rc(a,b)};x.C=function(a,b,c){return null!=a&&null!=a.Ra?a.Ra(a,b,c):Rc(a,b,c)};x.Y=3;function Sc(){}
function Tc(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=Tc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Tc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ISeq.-first",a);}return a}function Uc(a){if(null!=a&&null!=a.bb)a=a.bb(a);else{var b=Uc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Uc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ISeq.-rest",a);}return a}function Vc(){}
function Wc(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=Wc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INext.-next",a);}return a}function Xc(){}
var $c=function(){function a(d,e,f){var h=Yc[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Yc._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Ac("ILookup.-lookup",d);}function b(d,e){var f=Yc[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Yc._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),Yc=function Yc(a){switch(arguments.length){case 2:return Yc.j(arguments[0],arguments[1]);case 3:return Yc.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Yc.j=function(a,b){return null!=a&&null!=a.ma?a.ma(a,b):$c(a,b)};Yc.C=function(a,b,c){return null!=a&&null!=a.R?a.R(a,b,c):$c(a,b,c)};Yc.Y=3;
function ad(a,b,c){if(null!=a&&null!=a.da)a=a.da(a,b,c);else{var d=ad[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ad._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IAssociative.-assoc",a);}return a}function bd(a,b){if(null!=a&&null!=a.Yc)a=a.Yc(a,b);else{var c=bd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=bd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IFind.-find",a);}return a}function cd(){}
function dd(a,b){if(null!=a&&null!=a.wa)a=a.wa(a,b);else{var c=dd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IMap.-dissoc",a);}return a}function ed(a){if(null!=a&&null!=a.vf)a=a.key;else{var b=ed[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ed._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IMapEntry.-key",a);}return a}
function fd(a){if(null!=a&&null!=a.wf)a=a.val;else{var b=fd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=fd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IMapEntry.-val",a);}return a}function gd(){}function hd(a,b){if(null!=a&&null!=a.zf)a=a.zf(a,b);else{var c=hd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ISet.-disjoin",a);}return a}
function id(a){if(null!=a&&null!=a.Zc)a=a.Zc(a);else{var b=id[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=id._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IStack.-peek",a);}return a}function jd(a){if(null!=a&&null!=a.$c)a=a.$c(a);else{var b=jd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IStack.-pop",a);}return a}function kd(){}
function ld(a,b,c){if(null!=a&&null!=a.Dc)a=a.Dc(a,b,c);else{var d=ld[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ld._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IVector.-assoc-n",a);}return a}function md(){}function z(a){if(null!=a&&null!=a.ub)a=a.ub(a);else{var b=z[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=z._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDeref.-deref",a);}return a}function nd(){}
function od(a){if(null!=a&&null!=a.ea)a=a.ea(a);else{var b=od[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=od._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IMeta.-meta",a);}return a}function pd(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=pd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=pd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IWithMeta.-with-meta",a);}return a}function qd(){}
var sd=function(){function a(d,e,f){var h=rd[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=rd._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Ac("IReduce.-reduce",d);}function b(d,e){var f=rd[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=rd._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),rd=function rd(a){switch(arguments.length){case 2:return rd.j(arguments[0],arguments[1]);case 3:return rd.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};rd.j=function(a,b){return null!=a&&null!=a.Sa?a.Sa(a,b):sd(a,b)};rd.C=function(a,b,c){return null!=a&&null!=a.Ta?a.Ta(a,b,c):sd(a,b,c)};rd.Y=3;function td(){}
function ud(a,b,c){if(null!=a&&null!=a.va)a=a.va(a,b,c);else{var d=ud[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ud._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IKVReduce.-kv-reduce",a);}return a}function vd(a,b){if(null!=a&&null!=a.ca)a=a.ca(a,b);else{var c=vd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=vd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IEquiv.-equiv",a);}return a}
function wd(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=wd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=wd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IHash.-hash",a);}return a}function xd(){}function yd(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=yd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=yd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ISeqable.-seq",a);}return a}function zd(){}function Ad(){}function Bd(){}
function Cd(){}function Dd(a){if(null!=a&&null!=a.qc)a=a.qc(a);else{var b=Dd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IReversible.-rseq",a);}return a}function A(a,b){if(null!=a&&null!=a.qd)a=a.qd(a,b);else{var c=A[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=A._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IWriter.-write",a);}return a}
function Hd(a){if(null!=a&&null!=a.Nc)a=a.Nc(a);else{var b=Hd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Hd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IWriter.-flush",a);}return a}function Id(){}function Jd(a,b,c){if(null!=a&&null!=a.ga)a=a.ga(a,b,c);else{var d=Jd[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Jd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IPrintWithWriter.-pr-writer",a);}return a}function Kd(){}
function Ld(a){if(null!=a&&null!=a.Le)a=a.Le(a);else{var b=Ld[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Ld._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IPending.-realized?",a);}return a}function Md(a,b,c){if(null!=a&&null!=a.Me)a.Me(a,b,c);else{var d=Md[ra(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Md._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IWatchable.-add-watch",a);}}
function Nd(a,b){if(null!=a&&null!=a.Ne)a.Ne(a,b);else{var c=Nd[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Nd._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IWatchable.-remove-watch",a);}}function Od(a){if(null!=a&&null!=a.od)a=a.od(a);else{var b=Od[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Od._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IEditableCollection.-as-transient",a);}return a}
function Pd(a,b){if(null!=a&&null!=a.pd)a=a.pd(a,b);else{var c=Pd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Pd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ITransientCollection.-conj!",a);}return a}function Qd(a){if(null!=a&&null!=a.zd)a=a.zd(a);else{var b=Qd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Qd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ITransientCollection.-persistent!",a);}return a}
function Rd(a,b,c){if(null!=a&&null!=a.Nd)a=a.Nd(a,b,c);else{var d=Rd[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Rd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("ITransientAssociative.-assoc!",a);}return a}function Sd(a,b){if(null!=a&&null!=a.Ef)a=a.Ef(a,b);else{var c=Sd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ITransientMap.-dissoc!",a);}return a}
function Ud(){}function Vd(a,b){if(null!=a&&null!=a.Mc)a=a.Mc(a,b);else{var c=Vd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Vd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IComparable.-compare",a);}return a}function Wd(a){if(null!=a&&null!=a.Zd)a=a.Zd(a);else{var b=Wd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Wd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChunk.-drop-first",a);}return a}
function Xd(a){if(null!=a&&null!=a.ae)a=a.ae(a);else{var b=Xd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Xd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChunkedSeq.-chunked-first",a);}return a}function Yd(a){if(null!=a&&null!=a.yd)a=a.yd(a);else{var b=Yd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Yd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChunkedSeq.-chunked-rest",a);}return a}
function Zd(a){if(null!=a&&null!=a.ce)a=a.ce(a);else{var b=Zd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Zd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INamed.-name",a);}return a}function $d(a){if(null!=a&&null!=a.de)a=a.de(a);else{var b=$d[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=$d._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INamed.-namespace",a);}return a}
function ae(a,b){if(null!=a&&null!=a.Cc)a=a.Cc(a,b);else{var c=ae[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ae._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IReset.-reset!",a);}return a}
var ce=function(){function a(f,h,k,m,n){var p=be[ra(null==f?null:f)];if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);p=be._;if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);throw Ac("ISwap.-swap!",f);}function b(f,h,k,m){var n=be[ra(null==f?null:f)];if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);n=be._;if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);throw Ac("ISwap.-swap!",f);}function c(f,h,k){var m=be[ra(null==f?null:f)];if(null!=m)return m.C?m.C(f,h,
k):m.call(null,f,h,k);m=be._;if(null!=m)return m.C?m.C(f,h,k):m.call(null,f,h,k);throw Ac("ISwap.-swap!",f);}function d(f,h){var k=be[ra(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=be._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw Ac("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.j=d;e.C=c;e.P=b;e.ka=a;return e}(),be=function be(a){switch(arguments.length){case 2:return be.j(arguments[0],arguments[1]);case 3:return be.C(arguments[0],arguments[1],arguments[2]);case 4:return be.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return be.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};be.j=function(a,b){return null!=a&&null!=a.Af?a.Af(a,b):ce(a,b)};
be.C=function(a,b,c){return null!=a&&null!=a.Bf?a.Bf(a,b,c):ce(a,b,c)};be.P=function(a,b,c,d){return null!=a&&null!=a.Cf?a.Cf(a,b,c,d):ce(a,b,c,d)};be.ka=function(a,b,c,d,e){return null!=a&&null!=a.Df?a.Df(a,b,c,d,e):ce(a,b,c,d,e)};be.Y=5;function de(a,b){if(null!=a&&null!=a.fe)a.fe(a,b);else{var c=de[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=de._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IVolatile.-vreset!",a);}}function ee(){}
function fe(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=fe[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=fe._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IIterable.-iterator",a);}return a}function ge(a){this.kj=a;this.J=1073741824;this.T=0}ge.prototype.qd=function(a,b){return this.kj.append(b)};ge.prototype.Nc=function(){return null};function he(a){var b=new bc,c=new ge(b);a.ga(null,c,mc());c.Nc(null);return t.B(b)}
var ie="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function je(a){a=ie(a|0,-862048943);return ie(a<<15|a>>>-15,461845907)}function ke(a,b){a=(a|0)^(b|0);return ie(a<<13|a>>>-13,5)+-430675100|0}function le(a,b){a=(a|0)^b;a=ie(a^a>>>16,-2048144789);a=ie(a^a>>>13,-1028477387);return a^a>>>16}var me={},ne=0;
function oe(a){255<ne&&(me={},ne=0);if(null==a)return 0;var b=me[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=ie(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;me[a]=b;ne+=1;a=b}return a}
function pe(a){if(null!=a&&(a.J&4194304||l===a.Wh))return a.ia(null)^0;if("number"===typeof a){if(r(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=oe(a),a=0===a?a:le(ke(0,je(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wd(a)^0,a}function qe(a){return a instanceof B}
function re(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=ke(d,je(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=le(1===(b.length&1)?c^je(b.charCodeAt(b.length-1)):c,ie(2,b.length));a=oe(a.Nb);return b^a+2654435769+(b<<6)+(b>>2)}function se(a,b){if(a.Vc===b.Vc)return 0;if(r(wc(a.Nb)?b.Nb:!1))return-1;if(r(a.Nb)){if(wc(b.Nb))return 1;var c=Za(a.Nb,b.Nb);return 0===c?Za(a.name,b.name):c}return Za(a.name,b.name)}
function B(a,b,c,d,e){this.Nb=a;this.name=b;this.Vc=c;this._hash=d;this.nc=e;this.J=2154168321;this.T=4096}g=B.prototype;g.toString=function(){return this.Vc};g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return b instanceof B?this.Vc===b.Vc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return C.j?C.j(a,this):C.call(null,a,this)};g.j=function(a,b){return C.C?C.C(a,this,b):C.call(null,a,this,b)};g.ea=function(){return this.nc};g.fa=function(a,b){return new B(this.Nb,this.name,this.Vc,this._hash,b)};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=re(this)};g.ce=function(){return this.name};g.de=function(){return this.Nb};g.ga=function(a,b){return A(b,this.Vc)};
var te=function te(a){switch(arguments.length){case 1:return te.B(arguments[0]);case 2:return te.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};te.B=function(a){for(;;){if(a instanceof B)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?te.j(null,a):te.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof ue)return a.Id;if(a instanceof D)a=a.na;else throw Error("no conversion to symbol");}};
te.j=function(a,b){var c=null!=a?[t.B(a),"/",t.B(b)].join(""):b;return new B(a,b,c,null,null)};te.Y=2;function ue(a,b,c){this.val=a;this.Id=b;this.nc=c;this.J=6717441;this.T=0}g=ue.prototype;g.toString=function(){return["#'",t.B(this.Id)].join("")};g.ub=function(){return this.val.O?this.val.O():this.val.call(null)};g.ea=function(){return this.nc};g.fa=function(a,b){return new ue(this.val,this.Id,b)};g.ca=function(a,b){return b instanceof ue?(a=this.Id,b=b.Id,F.j?F.j(a,b):F.call(null,a,b)):!1};
g.ia=function(){return re(this.Id)};g.Dg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Db(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Fb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.be(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.O=function(){var a=this.val.O?this.val.O():this.val.call(null);return a.O?a.O():a.call(null)};g.B=function(a){var b=this.val.O?this.val.O():this.val.call(null);return b.B?b.B(a):b.call(null,a)};
g.j=function(a,b){var c=this.val.O?this.val.O():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};g.C=function(a,b,c){var d=this.val.O?this.val.O():this.val.call(null);return d.C?d.C(a,b,c):d.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.val.O?this.val.O():this.val.call(null);return e.P?e.P(a,b,c,d):e.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){var f=this.val.O?this.val.O():this.val.call(null);return f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Qa=function(a,b,c,d,e,f){var h=this.val.O?this.val.O():this.val.call(null);return h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Ib=function(a,b,c,d,e,f,h){var k=this.val.O?this.val.O():this.val.call(null);return k.Ib?k.Ib(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){var m=this.val.O?this.val.O():this.val.call(null);return m.qb?m.qb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Jb=function(a,b,c,d,e,f,h,k,m){var n=this.val.O?this.val.O():this.val.call(null);return n.Jb?n.Jb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.xb=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.O?this.val.O():this.val.call(null);return p.xb?p.xb(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.yb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.val.O?this.val.O():this.val.call(null);return u.yb?u.yb(a,b,c,d,e,f,h,k,m,n,p):u.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.val.O?this.val.O():this.val.call(null);return v.zb?v.zb(a,b,c,d,e,f,h,k,m,n,p,u):v.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var y=this.val.O?this.val.O():this.val.call(null);return y.Ab?y.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):y.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){var E=this.val.O?this.val.O():this.val.call(null);return E.Bb?E.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E){var G=this.val.O?this.val.O():this.val.call(null);return G.Cb?G.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G){var I=this.val.O?this.val.O():this.val.call(null);return I.Db?I.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G)};g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I){var N=this.val.O?this.val.O():this.val.call(null);return N.Eb?N.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){var O=this.val.O?this.val.O():this.val.call(null);return O.Fb?O.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O){var U=this.val.O?this.val.O():this.val.call(null);return U.Gb?U.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U){var ea=this.val.O?this.val.O():this.val.call(null);return ea.Hb?ea.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U)};g.be=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea){var fa=this.val.O?this.val.O():this.val.call(null);return xe.uf?xe.uf(fa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):xe.call(null,fa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea)};
function ye(a){return null!=a?a.T&131072||l===a.vj?!0:a.T?!1:yc(ee,a):yc(ee,a)}function H(a){if(null==a)return null;if(null!=a&&(a.J&8388608||l===a.yf))return a.ha(null);if(uc(a)||"string"===typeof a)return 0===a.length?null:new ze(a,0,null);if(null!=a&&null!=a[Cc])return a=hb(a,Cc).call(a),Ae.B?Ae.B(a):Ae.call(null,a);if(yc(xd,a))return yd(a);throw Error([t.B(a)," is not ISeqable"].join(""));}
function J(a){if(null==a)return null;if(null!=a&&(a.J&64||l===a.qa))return a.Ua(null);a=H(a);return null==a?null:Tc(a)}function Be(a){return null!=a?null!=a&&(a.J&64||l===a.qa)?a.bb(null):(a=H(a))?a.bb(null):Ce:Ce}function K(a){return null==a?null:null!=a&&(a.J&128||l===a.ee)?a.Ma(null):H(Be(a))}
var F=function F(a){switch(arguments.length){case 1:return F.B(arguments[0]);case 2:return F.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return F.F(arguments[0],arguments[1],c)}};F.B=function(){return!0};F.j=function(a,b){return null==a?null==b:a===b||vd(a,b)};F.F=function(a,b,c){for(;;)if(F.j(a,b))if(K(c))a=b,b=J(c),c=K(c);else return F.j(b,J(c));else return!1};
F.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};F.Y=2;function De(a){this.s=a}De.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ee(a){return new De(H(a))}function Fe(a,b){this.value=a;this.iter=b;this.nf=null;this.J=8388672;this.T=0}Fe.prototype.ha=function(){return this};Fe.prototype.Ua=function(){return this.value};
Fe.prototype.bb=function(){null==this.nf&&(this.nf=Ae.B?Ae.B(this.iter):Ae.call(null,this.iter));return this.nf};function Ae(a){var b=a.next();return r(b.done)?null:new Fe(b.value,a)}function Ge(a){var b=0,c=1;for(a=H(a);;)if(null!=a)b+=1,c=ie(31,c)+pe(J(a))|0,a=K(a);else return le(ke(0,je(c)),b)}var He=le(ke(0,je(1)),0);function Ie(a){var b=0,c=0;for(a=H(a);;)if(null!=a)b+=1,c=c+pe(J(a))|0,a=K(a);else return le(ke(0,je(c)),b)}var Je=le(ke(0,je(0)),0);Kc["null"]=!0;Lc["null"]=function(){return 0};
Date.prototype.ca=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Xc=l;Date.prototype.Mc=function(a,b){if(b instanceof Date)return Za(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};vd.number=function(a,b){return a===b};Ic["function"]=!0;nd["function"]=!0;od["function"]=function(){return null};wd._=function(a){return xa(a)};function Ke(a){return a+1}function Le(a){this.val=a;this.J=32768;this.T=0}
Le.prototype.ub=function(){return this.val};function Me(a){return new Le(a)}function Ne(a){return a instanceof Le}function Oe(a){return Ne(a)?Pe.B?Pe.B(a):Pe.call(null,a):a}function Pe(a){return z(a)}function Qe(a,b){var c=a.ja(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.xa(null,0),e=1;;)if(e<c){var f=a.xa(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Ne(d))return z(d);e+=1}else return d}
function Re(a,b,c){var d=a.ja(null),e=c;for(c=0;;)if(c<d){var f=a.xa(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Ne(e))return z(e);c+=1}else return e}function Se(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Ne(d))return z(d);e+=1}else return d}function Te(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Ne(e))return z(e);c+=1}else return e}
function Ue(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Ne(c))return z(c);d+=1}else return c}function Ve(a){return null!=a?a.J&2||l===a.Eg?!0:a.J?!1:yc(Kc,a):yc(Kc,a)}function We(a){return null!=a?a.J&16||l===a.Ig?!0:a.J?!1:yc(Qc,a):yc(Qc,a)}function Xe(a,b,c){var d=M.B?M.B(a):M.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(F.j(Ye?Ye(a,c):Ze.call(null,a,c),b))return c;c+=1}else return-1}
function $e(a,b,c){var d=M.B?M.B(a):M.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(F.j(Ye?Ye(a,c):Ze.call(null,a,c),b))return c;--c}else return-1}function af(a,b){this.K=a;this.i=b}af.prototype.Za=function(){return this.i<this.K.length};af.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function ze(a,b,c){this.K=a;this.i=b;this.meta=c;this.J=166592766;this.T=139264}g=ze.prototype;g.toString=function(){return he(this)};
g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M.B?M.B(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.xa=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.Ra=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.oa=function(){return new af(this.K,this.i)};g.ea=function(){return this.meta};g.Ma=function(){return this.i+1<this.K.length?new ze(this.K,this.i+1,null):null};g.ja=function(){var a=this.K.length-this.i;return 0>a?0:a};g.qc=function(){var a=this.ja(null);return 0<a?new bf(this,a-1,null):null};g.ia=function(){return Ge(this)};g.ca=function(a,b){return cf.j?cf.j(this,b):cf.call(null,this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return Ue(this.K,b,this.K[this.i],this.i+1)};
g.Ta=function(a,b,c){return Ue(this.K,b,c,this.i)};g.Ua=function(){return this.K[this.i]};g.bb=function(){return this.i+1<this.K.length?new ze(this.K,this.i+1,null):Ce};g.ha=function(){return this.i<this.K.length?this:null};g.fa=function(a,b){return b===this.meta?this:new ze(this.K,this.i,b)};g.la=function(a,b){return df.j?df.j(b,this):df.call(null,b,this)};ze.prototype[Cc]=function(){return Ee(this)};function P(a){return 0<a.length?new ze(a,0,null):null}
function bf(a,b,c){this.ci=a;this.i=b;this.meta=c;this.J=32374990;this.T=8192}g=bf.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M.B?M.B(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 0<this.i?new bf(this.ci,this.i-1,null):null};g.ja=function(){return this.i+1};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf.j?cf.j(this,b):cf.call(null,this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef?ef(b,this):ff.call(null,b,this)};g.Ta=function(a,b,c){return gf?gf(b,c,this):ff.call(null,b,c,this)};g.Ua=function(){return x(this.ci,this.i)};g.bb=function(){return 0<this.i?new bf(this.ci,this.i-1,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new bf(this.ci,this.i,b)};g.la=function(a,b){return df.j?df.j(b,this):df.call(null,b,this)};
bf.prototype[Cc]=function(){return Ee(this)};function hf(a){return J(K(a))}function jf(a){return J(J(a))}function kf(a){for(;;){var b=K(a);if(null!=b)a=b;else return J(a)}}vd._=function(a,b){return a===b};
var lf=function lf(a){switch(arguments.length){case 0:return lf.O();case 1:return lf.B(arguments[0]);case 2:return lf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return lf.F(arguments[0],arguments[1],c)}};lf.O=function(){return mf};lf.B=function(a){return a};lf.j=function(a,b){return null!=a?Pc(a,b):new nf(null,b,null,1,null)};
lf.F=function(a,b,c){for(;;)if(r(c))a=lf.j(a,b),b=J(c),c=K(c);else return lf.j(a,b)};lf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};lf.Y=2;function of(a){return null==a?null:null!=a&&(a.J&4||l===a.Hg)?a.Ja(null):(null!=a?a.J&4||l===a.Hg||(a.J?0:yc(Mc,a)):yc(Mc,a))?Nc(a):null}
function M(a){if(null!=a)if(null!=a&&(a.J&2||l===a.Eg))a=a.ja(null);else if(uc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.J&8388608||l===a.yf))a:{a=H(a);for(var b=0;;){if(Ve(a)){a=b+Lc(a);break a}a=K(a);b+=1}}else a=Lc(a);else a=0;return a}function pf(a,b,c){for(;;){if(null==a)return c;if(0===b)return H(a)?J(a):c;if(We(a))return x(a,b,c);if(H(a))a=K(a),--b;else return c}}
function Ze(a){switch(arguments.length){case 2:return Ye(arguments[0],arguments[1]);case 3:return Q(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function Ye(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.J&16||l===a.Ig))return a.xa(null,b);if(uc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.J&64||l===a.qa)||null!=a&&(a.J&16777216||l===a.Jg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(H(a)){a=J(a);break a}throw Error("Index out of bounds");}if(We(a)){a=x(a,b);break a}if(H(a))a=K(a),--b;else throw Error("Index out of bounds");}return a}if(yc(Qc,a))return x(a,b);throw Error(["nth not supported on this type ",t.B(Bc(zc(a)))].join(""));}
function Q(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.J&16||l===a.Ig))return a.Ra(null,b,c);if(uc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.J&64||l===a.qa)||null!=a&&(a.J&16777216||l===a.Jg))return 0>b?c:pf(a,b,c);if(yc(Qc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.B(Bc(zc(a)))].join(""));}
var C=function C(a){switch(arguments.length){case 2:return C.j(arguments[0],arguments[1]);case 3:return C.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};C.j=function(a,b){return null==a?null:null!=a&&(a.J&256||l===a.Xh)?a.ma(null,b):uc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:yc(Xc,a)?Yc(a,b):null};
C.C=function(a,b,c){return null!=a?null!=a&&(a.J&256||l===a.Xh)?a.R(null,b,c):uc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:yc(Xc,a)?Yc(a,b,c):c:c};C.Y=3;var R=function R(a){switch(arguments.length){case 3:return R.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return R.F(arguments[0],arguments[1],arguments[2],c)}};
R.C=function(a,b,c){return null!=a&&(a.J&512||l===a.qj)?a.da(null,b,c):null!=a?ad(a,b,c):qf([b,c])};R.F=function(a,b,c,d){for(;;)if(a=R.C(a,b,c),r(d))b=J(d),c=hf(d),d=K(K(d));else return a};R.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};R.Y=3;
var S=function S(a){switch(arguments.length){case 1:return S.B(arguments[0]);case 2:return S.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return S.F(arguments[0],arguments[1],c)}};S.B=function(a){return a};S.j=function(a,b){return null==a?null:dd(a,b)};S.F=function(a,b,c){for(;;){if(null==a)return null;a=S.j(a,b);if(r(c))b=J(c),c=K(c);else return a}};
S.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};S.Y=2;function rf(a){var b=ua(a);return b?b:null!=a?l===a.Dg?!0:a.rd?!1:yc(Ic,a):yc(Ic,a)}function sf(a,b){this.pa=a;this.meta=b;this.J=393217;this.T=0}g=sf.prototype;g.ea=function(){return this.meta};g.fa=function(a,b){return new sf(this.pa,b)};g.Dg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Db(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Fb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.be(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.O=function(){return this.pa.O?this.pa.O():this.pa.call(null)};g.B=function(a){return this.pa.B?this.pa.B(a):this.pa.call(null,a)};g.j=function(a,b){return this.pa.j?this.pa.j(a,b):this.pa.call(null,a,b)};g.C=function(a,b,c){return this.pa.C?this.pa.C(a,b,c):this.pa.call(null,a,b,c)};
g.P=function(a,b,c,d){return this.pa.P?this.pa.P(a,b,c,d):this.pa.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){return this.pa.ka?this.pa.ka(a,b,c,d,e):this.pa.call(null,a,b,c,d,e)};g.Qa=function(a,b,c,d,e,f){return this.pa.Qa?this.pa.Qa(a,b,c,d,e,f):this.pa.call(null,a,b,c,d,e,f)};g.Ib=function(a,b,c,d,e,f,h){return this.pa.Ib?this.pa.Ib(a,b,c,d,e,f,h):this.pa.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){return this.pa.qb?this.pa.qb(a,b,c,d,e,f,h,k):this.pa.call(null,a,b,c,d,e,f,h,k)};
g.Jb=function(a,b,c,d,e,f,h,k,m){return this.pa.Jb?this.pa.Jb(a,b,c,d,e,f,h,k,m):this.pa.call(null,a,b,c,d,e,f,h,k,m)};g.xb=function(a,b,c,d,e,f,h,k,m,n){return this.pa.xb?this.pa.xb(a,b,c,d,e,f,h,k,m,n):this.pa.call(null,a,b,c,d,e,f,h,k,m,n)};g.yb=function(a,b,c,d,e,f,h,k,m,n,p){return this.pa.yb?this.pa.yb(a,b,c,d,e,f,h,k,m,n,p):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u){return this.pa.zb?this.pa.zb(a,b,c,d,e,f,h,k,m,n,p,u):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,v){return this.pa.Ab?this.pa.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){return this.pa.Bb?this.pa.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E){return this.pa.Cb?this.pa.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E)};g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G){return this.pa.Db?this.pa.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G)};g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I){return this.pa.Eb?this.pa.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){return this.pa.Fb?this.pa.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O){return this.pa.Gb?this.pa.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U){return this.pa.Hb?this.pa.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U)};g.be=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea){return xe.uf?xe.uf(this.pa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):xe.call(null,this.pa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea)};function tf(a,b){return ua(a)?new sf(a,b):null==a?null:pd(a,b)}
function uf(a){return null!=a&&(null!=a?a.J&131072||l===a.Ke||(a.J?0:yc(nd,a)):yc(nd,a))?od(a):null}var vf=function vf(a){switch(arguments.length){case 1:return vf.B(arguments[0]);case 2:return vf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return vf.F(arguments[0],arguments[1],c)}};vf.B=function(a){return a};vf.j=function(a,b){return null==a?null:hd(a,b)};
vf.F=function(a,b,c){for(;;){if(null==a)return null;a=vf.j(a,b);if(r(c))b=J(c),c=K(c);else return a}};vf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};vf.Y=2;function wf(a){return null==a||wc(H(a))}function xf(a){return null==a?!1:null!=a?a.J&8||l===a.sj?!0:a.J?!1:yc(Oc,a):yc(Oc,a)}function yf(a){return null==a?!1:null!=a?a.J&4096||l===a.Cj?!0:a.J?!1:yc(gd,a):yc(gd,a)}function zf(a){return null!=a?a.J&16777216||l===a.Jg?!0:a.J?!1:yc(zd,a):yc(zd,a)}
function Af(a){return null==a?!1:null!=a?a.J&1024||l===a.yj?!0:a.J?!1:yc(cd,a):yc(cd,a)}function Bf(a){return null!=a?a.J&67108864||l===a.Bj?!0:a.J?!1:yc(Bd,a):yc(Bd,a)}function Df(a){return null!=a?a.J&16384||l===a.Dj?!0:a.J?!1:yc(kd,a):yc(kd,a)}function Ef(a){return null!=a?a.T&512||l===a.rj?!0:!1:!1}function Ff(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Gf={};function Hf(a){return null==a?!1:null!=a?a.J&64||l===a.qa?!0:a.J?!1:yc(Sc,a):yc(Sc,a)}
function If(a){return null==a?!1:!1===a?!1:!0}function Jf(a){var b=rf(a);return b?b:null!=a?a.J&1||l===a.uj?!0:a.J?!1:yc(Jc,a):yc(Jc,a)}function Kf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Lf(a,b){return C.C(a,b,Gf)===Gf?!1:!0}
var Mf=function Mf(a){switch(arguments.length){case 1:return Mf.B(arguments[0]);case 2:return Mf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return Mf.F(arguments[0],arguments[1],c)}};Mf.B=function(){return!0};Mf.j=function(a,b){return!F.j(a,b)};Mf.F=function(a,b,c){if(F.j(a,b))return!1;a=Nf([a,b]);for(b=c;;){var d=J(b);c=K(b);if(r(b)){if(Lf(a,d))return!1;a=lf.j(a,d);b=c}else return!0}};
Mf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Mf.Y=2;function Of(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Za(a,b);throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));}if(null!=a?a.T&2048||l===a.Xc||(a.T?0:yc(Ud,a)):yc(Ud,a))return Vd(a,b);if("string"!==typeof a&&!uc(a)&&!0!==a&&!1!==a||zc(a)!==zc(b))throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));return Za(a,b)}
function Pf(a,b){var c=M(a),d=M(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Of(Ye(a,d),Ye(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Qf(a){return F.j(a,Of)?Of:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Rf(a,b){return H(b)?(b=Sf.B?Sf.B(b):Sf.call(null,b),$a(b,Qf(a)),H(b)):Ce}
function Tf(a){var b=Uf;return Rf(function(c,d){c=b.B?b.B(c):b.call(null,c);d=b.B?b.B(d):b.call(null,d);var e=Qf(Of);return e.j?e.j(c,d):e.call(null,c,d)},a)}function ff(a){switch(arguments.length){case 2:return ef(arguments[0],arguments[1]);case 3:return gf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function ef(a,b){var c=H(b);return c?(b=J(c),c=K(c),w.C?w.C(a,b,c):w.call(null,a,b,c)):a.O?a.O():a.call(null)}
function gf(a,b,c){for(c=H(c);;)if(c){var d=J(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Ne(b))return z(b);c=K(c)}else return b}function Vf(a){a=Sf.B?Sf.B(a):Sf.call(null,a);ab(a);return Wf.B?Wf.B(a):Wf.call(null,a)}function Xf(a,b){a=fe(a);if(r(a.Za()))for(var c=a.next();;)if(a.Za()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Ne(c))return z(c)}else return c;else return b.O?b.O():b.call(null)}
function Yf(a,b,c){for(a=fe(a);;)if(a.Za()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Ne(c))return z(c)}else return c}var w=function w(a){switch(arguments.length){case 2:return w.j(arguments[0],arguments[1]);case 3:return w.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};w.j=function(a,b){return null!=b&&(b.J&524288||l===b.Yh)?b.Sa(null,a):uc(b)?Se(b,a):"string"===typeof b?Se(b,a):yc(qd,b)?rd(b,a):ye(b)?Xf(b,a):ef(a,b)};
w.C=function(a,b,c){return null!=c&&(c.J&524288||l===c.Yh)?c.Ta(null,a,b):uc(c)?Te(c,a,b):"string"===typeof c?Te(c,a,b):yc(qd,c)?rd(c,a,b):ye(c)?Yf(c,a,b):gf(a,b,c)};w.Y=3;function Zf(a,b,c){return null!=c?ud(c,a,b):b}function $f(a){return a}
function ag(a,b){return function(){function c(h,k){return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}function bg(a,b,c){return cg(a,b,b.O?b.O():b.call(null),c)}
function cg(a,b,c,d){a=a.B?a.B(b):a.call(null,b);c=w.C(a,c,d);return a.B?a.B(c):a.call(null,c)}var dg=function dg(a){switch(arguments.length){case 0:return dg.O();case 1:return dg.B(arguments[0]);case 2:return dg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return dg.F(arguments[0],arguments[1],c)}};dg.O=function(){return 0};dg.B=function(a){return a};dg.j=function(a,b){return a+b};
dg.F=function(a,b,c){return w.C(dg,a+b,c)};dg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};dg.Y=2;var gg=function gg(a){switch(arguments.length){case 1:return gg.B(arguments[0]);case 2:return gg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return gg.F(arguments[0],arguments[1],c)}};gg.B=function(a){return-a};gg.j=function(a,b){return a-b};
gg.F=function(a,b,c){return w.C(gg,a-b,c)};gg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};gg.Y=2;var hg=function hg(a){switch(arguments.length){case 0:return hg.O();case 1:return hg.B(arguments[0]);case 2:return hg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return hg.F(arguments[0],arguments[1],c)}};hg.O=function(){return 1};hg.B=function(a){return a};
hg.j=function(a,b){return a*b};hg.F=function(a,b,c){return w.C(hg,a*b,c)};hg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};hg.Y=2;var ig=function ig(a){switch(arguments.length){case 1:return ig.B(arguments[0]);case 2:return ig.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return ig.F(arguments[0],arguments[1],c)}};ig.B=function(a){return 1/a};ig.j=function(a,b){return a/b};
ig.F=function(a,b,c){return w.C(ig,a/b,c)};ig.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};ig.Y=2;var jg=function jg(a){switch(arguments.length){case 1:return jg.B(arguments[0]);case 2:return jg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return jg.F(arguments[0],arguments[1],c)}};jg.B=function(){return!0};jg.j=function(a,b){return a<b};
jg.F=function(a,b,c){for(;;)if(a<b)if(K(c))a=b,b=J(c),c=K(c);else return b<J(c);else return!1};jg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};jg.Y=2;var kg=function kg(a){switch(arguments.length){case 1:return kg.B(arguments[0]);case 2:return kg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return kg.F(arguments[0],arguments[1],c)}};kg.B=function(){return!0};
kg.j=function(a,b){return a<=b};kg.F=function(a,b,c){for(;;)if(a<=b)if(K(c))a=b,b=J(c),c=K(c);else return b<=J(c);else return!1};kg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};kg.Y=2;var lg=function lg(a){switch(arguments.length){case 1:return lg.B(arguments[0]);case 2:return lg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return lg.F(arguments[0],arguments[1],c)}};lg.B=function(){return!0};
lg.j=function(a,b){return a>b};lg.F=function(a,b,c){for(;;)if(a>b)if(K(c))a=b,b=J(c),c=K(c);else return b>J(c);else return!1};lg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};lg.Y=2;var mg=function mg(a){switch(arguments.length){case 1:return mg.B(arguments[0]);case 2:return mg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return mg.F(arguments[0],arguments[1],c)}};mg.B=function(){return!0};
mg.j=function(a,b){return a>=b};mg.F=function(a,b,c){for(;;)if(a>=b)if(K(c))a=b,b=J(c),c=K(c);else return b>=J(c);else return!1};mg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};mg.Y=2;var ng=function ng(a){switch(arguments.length){case 1:return ng.B(arguments[0]);case 2:return ng.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return ng.F(arguments[0],arguments[1],c)}};ng.B=function(a){return a};
ng.j=function(a,b){return a>b?a:b};ng.F=function(a,b,c){return w.C(ng,a>b?a:b,c)};ng.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};ng.Y=2;var og=function og(a){switch(arguments.length){case 1:return og.B(arguments[0]);case 2:return og.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return og.F(arguments[0],arguments[1],c)}};og.B=function(a){return a};
og.j=function(a,b){return a<b?a:b};og.F=function(a,b,c){return w.C(og,a<b?a:b,c)};og.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};og.Y=2;function pg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function qg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function rg(a,b){return(a%b+b)%b}function sg(a,b){return qg((a-a%b)/b)}function tg(a,b){return a-b*sg(a,b)}
function ug(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var vg=function vg(a){switch(arguments.length){case 1:return vg.B(arguments[0]);case 2:return vg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return vg.F(arguments[0],arguments[1],c)}};vg.B=function(){return!0};vg.j=function(a,b){return vd(a,b)};
vg.F=function(a,b,c){for(;;)if(a===b)if(K(c))a=b,b=J(c),c=K(c);else return b===J(c);else return!1};vg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};vg.Y=2;var t=function t(a){switch(arguments.length){case 0:return t.O();case 1:return t.B(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(1),0,null);return t.F(arguments[0],c)}};t.O=function(){return""};t.B=function(a){return null==a?"":[a].join("")};
t.F=function(a,b){for(a=new bc(t.B(a));;)if(r(b))a=a.append(t.B(J(b))),b=K(b);else return a.toString()};t.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};t.Y=1;var wg=function wg(a){switch(arguments.length){case 2:return wg.j(arguments[0],arguments[1]);case 3:return wg.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};wg.j=function(a,b){return a.substring(b)};wg.C=function(a,b,c){return a.substring(b,c)};wg.Y=3;
function cf(a,b){if(zf(b))if(Ve(a)&&Ve(b)&&M(a)!==M(b))a=!1;else a:for(a=H(a),b=H(b);;){if(null==a){a=null==b;break a}if(null!=b&&F.j(J(a),J(b)))a=K(a),b=K(b);else{a=!1;break a}}else a=null;return If(a)}function nf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.I=e;this.J=65937646;this.T=8192}g=nf.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 1===this.count?null:this.rest};g.ja=function(){return this.count};g.Zc=function(){return this.first};g.$c=function(){return this.bb(null)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(Ce,this.meta)};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.first};g.bb=function(){return 1===this.count?Ce:this.rest};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new nf(b,this.first,this.rest,this.count,this.I)};g.la=function(a,b){return new nf(this.meta,b,this,this.count+1,null)};
function xg(a){return null!=a?a.J&33554432||l===a.xj?!0:a.J?!1:yc(Ad,a):yc(Ad,a)}nf.prototype[Cc]=function(){return Ee(this)};function yg(a){this.meta=a;this.J=65937614;this.T=8192}g=yg.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null};g.ja=function(){return 0};g.Zc=function(){return null};g.$c=function(){throw Error("Can't pop empty list");};g.ia=function(){return He};
g.ca=function(a,b){return xg(b)||zf(b)?null==H(b):!1};g.Ja=function(){return this};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return null};g.bb=function(){return Ce};g.ha=function(){return null};g.fa=function(a,b){return b===this.meta?this:new yg(b)};g.la=function(a,b){return new nf(this.meta,b,null,1,null)};var Ce=new yg(null);yg.prototype[Cc]=function(){return Ee(this)};
function zg(a){return(null!=a?a.J&134217728||l===a.Zh||(a.J?0:yc(Cd,a)):yc(Cd,a))?(a=Dd(a))?a:Ce:w.C(lf,Ce,a)}var Ag=function Ag(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return Ag.F(c)};Ag.F=function(a){if(a instanceof ze&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Tc(a)),a=Wc(a);else break a;a=b.length;for(var c=Ce;;)if(0<a){var d=a-1;c=Pc(c,b[a-1]);a=d}else return c};Ag.Y=0;Ag.ba=function(a){return this.F(H(a))};
function Bg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.I=d;this.J=65929452;this.T=8192}g=Bg.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null==this.rest?null:H(this.rest)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};
g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.first};g.bb=function(){return null==this.rest?Ce:this.rest};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Bg(b,this.first,this.rest,this.I)};g.la=function(a,b){return new Bg(null,b,this,null)};Bg.prototype[Cc]=function(){return Ee(this)};
function df(a,b){return null==b?new nf(null,a,null,1,null):null!=b&&(b.J&64||l===b.qa)?new Bg(null,a,b,null):new Bg(null,a,H(b),null)}function Cg(a,b){if(a.na===b.na)return 0;if(r(wc(a.Nb)?b.Nb:!1))return-1;if(r(a.Nb)){if(wc(b.Nb))return 1;var c=Za(a.Nb,b.Nb);return 0===c?Za(a.name,b.name):c}return Za(a.name,b.name)}function D(a,b,c,d){this.Nb=a;this.name=b;this.na=c;this._hash=d;this.J=2153775105;this.T=4096}g=D.prototype;g.toString=function(){return[":",t.B(this.na)].join("")};
g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return b instanceof D?this.na===b.na:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return C.j(a,this)};g.j=function(a,b){return C.C(a,this,b)};
g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=re(this)+2654435769|0};g.ce=function(){return this.name};g.de=function(){return this.Nb};g.ga=function(a,b){return A(b,[":",t.B(this.na)].join(""))};function T(a,b){return a===b?!0:a instanceof D&&b instanceof D?a.na===b.na:!1}function Dg(a){if(null!=a&&(a.T&4096||l===a.xf))return a.de(null);throw Error(["Doesn't support namespace: ",t.B(a)].join(""));}function Eg(a){return a instanceof D||a instanceof B}
var Fg=function Fg(a){switch(arguments.length){case 1:return Fg.B(arguments[0]);case 2:return Fg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Fg.B=function(a){if(a instanceof D)return a;if(a instanceof B)return new D(Dg(a),Gg.B?Gg.B(a):Gg.call(null,a),a.Vc,null);if(F.j("/",a))return new D(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new D(b[0],b[1],a,null):new D(null,b[0],a,null)}return null};
Fg.j=function(a,b){a=a instanceof D?Gg.B?Gg.B(a):Gg.call(null,a):a instanceof B?Gg.B?Gg.B(a):Gg.call(null,a):a;b=b instanceof D?Gg.B?Gg.B(b):Gg.call(null,b):b instanceof B?Gg.B?Gg.B(b):Gg.call(null,b):b;return new D(a,b,[r(a)?[t.B(a),"/"].join(""):null,t.B(b)].join(""),null)};Fg.Y=2;function Hg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.I=d;this.J=32374988;this.T=1}g=Hg.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
function Ig(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){this.ha(null);return null==this.s?null:K(this.s)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};
g.Ja=function(){return pd(Ce,this.meta)};g.Le=function(){return wc(this.fn)};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){this.ha(null);return null==this.s?null:J(this.s)};g.bb=function(){this.ha(null);return null!=this.s?Be(this.s):Ce};g.ha=function(){Ig(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Hg)a=Ig(a);else return this.s=a,H(this.s)};
g.fa=function(a,b){var c=this;return b===this.meta?c:new Hg(b,function(){return c.ha(null)},null,this.I)};g.la=function(a,b){return df(b,this)};Hg.prototype[Cc]=function(){return Ee(this)};function Jg(a){this.buf=a;this.end=0;this.J=2;this.T=0}Jg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};Jg.prototype.Wb=function(){var a=new Kg(this.buf,0,this.end);this.buf=null;return a};Jg.prototype.ja=function(){return this.end};function Lg(a){return new Jg(Array(a))}
function Kg(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=Kg.prototype;g.ja=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.Zd=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Kg(this.K,this.off+1,this.end)};g.Sa=function(a,b){return Ue(this.K,b,this.K[this.off],this.off+1)};g.Ta=function(a,b,c){return Ue(this.K,b,c,this.off)};
function Mg(a,b,c,d){this.Wb=a;this.more=b;this.meta=c;this.I=d;this.J=31850732;this.T=1536}g=Mg.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 1<Lc(this.Wb)?new Mg(Wd(this.Wb),this.more,null,null):null==this.more?null:yd(this.more)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Ua=function(){return x(this.Wb,0)};g.bb=function(){return 1<Lc(this.Wb)?new Mg(Wd(this.Wb),this.more,null,null):null==this.more?Ce:this.more};g.ha=function(){return this};g.ae=function(){return this.Wb};g.yd=function(){return null==this.more?Ce:this.more};g.fa=function(a,b){return b===this.meta?this:new Mg(this.Wb,this.more,b,this.I)};g.la=function(a,b){return df(b,this)};g.$d=function(){return null==this.more?null:this.more};
Mg.prototype[Cc]=function(){return Ee(this)};function Ng(a,b){return 0===Lc(a)?b:new Mg(a,b,null,null)}function Og(a,b){a.add(b)}function Pg(a){return a.Wb()}function Sf(a){var b=[];for(a=H(a);;)if(null!=a)b.push(J(a)),a=K(a);else return b}function Qg(a,b){if(Ve(b))return M(b);var c=0;for(b=H(b);;)if(null!=b&&c<a)c+=1,b=K(b);else return c}
var Rg=function Rg(a){if(null==a)return null;var c=K(a);return null==c?H(J(a)):df(J(a),Rg.B?Rg.B(c):Rg.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.O();case 1:return V.B(arguments[0]);case 2:return V.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return V.F(arguments[0],arguments[1],c)}};V.O=function(){return new Hg(null,function(){return null},null,null)};
V.B=function(a){return new Hg(null,function(){return a},null,null)};V.j=function(a,b){return new Hg(null,function(){var c=H(a);return c?Ef(c)?Ng(Xd(c),V.j(Yd(c),b)):df(J(c),V.j(Be(c),b)):b},null,null)};V.F=function(a,b,c){return function h(e,f){return new Hg(null,function(){var k=H(e);return k?Ef(k)?Ng(Xd(k),h(Yd(k),f)):df(J(k),h(Be(k),f)):r(f)?h(J(f),K(f)):null},null,null)}(V.j(a,b),c)};V.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};V.Y=2;
function Sg(a,b,c){return df(a,df(b,c))}function Tg(a){return Od(a)}function Ug(a){return Qd(a)}var Vg=function Vg(a){switch(arguments.length){case 0:return Vg.O();case 1:return Vg.B(arguments[0]);case 2:return Vg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return Vg.F(arguments[0],arguments[1],c)}};Vg.O=function(){return Od(mf)};Vg.B=function(a){return a};Vg.j=function(a,b){return Pd(a,b)};
Vg.F=function(a,b,c){for(;;)if(a=Pd(a,b),r(c))b=J(c),c=K(c);else return a};Vg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Vg.Y=2;var Xg=function Xg(a){switch(arguments.length){case 3:return Xg.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return Xg.F(arguments[0],arguments[1],arguments[2],c)}};Xg.C=function(a,b,c){return Rd(a,b,c)};
Xg.F=function(a,b,c,d){for(;;)if(a=Rd(a,b,c),r(d))b=J(d),c=hf(d),d=K(K(d));else return a};Xg.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};Xg.Y=3;
function Yg(a,b,c){var d=H(c);if(0===b)return a.O?a.O():a.call(null);c=Tc(d);var e=Uc(d);if(1===b)return a.B?a.B(c):a.call(null,c);d=Tc(e);var f=Uc(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Tc(f);var h=Uc(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=Tc(h);var k=Uc(h);if(4===b)return a.P?a.P(c,d,e,f):a.call(null,c,d,e,f);h=Tc(k);var m=Uc(k);if(5===b)return a.ka?a.ka(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Tc(m);var n=Uc(m);if(6===b)return a.Qa?a.Qa(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=Tc(n);var p=Uc(n);if(7===b)return a.Ib?a.Ib(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Tc(p);var u=Uc(p);if(8===b)return a.qb?a.qb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=Tc(u);var v=Uc(u);if(9===b)return a.Jb?a.Jb(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);u=Tc(v);var y=Uc(v);if(10===b)return a.xb?a.xb(c,d,e,f,h,k,m,n,p,u):a.call(null,c,d,e,f,h,k,m,n,p,u);v=Tc(y);var E=Uc(y);if(11===b)return a.yb?a.yb(c,d,e,f,h,k,m,n,p,u,v):a.call(null,c,d,e,f,h,k,m,n,p,u,v);y=Tc(E);var G=Uc(E);
if(12===b)return a.zb?a.zb(c,d,e,f,h,k,m,n,p,u,v,y):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y);E=Tc(G);var I=Uc(G);if(13===b)return a.Ab?a.Ab(c,d,e,f,h,k,m,n,p,u,v,y,E):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E);G=Tc(I);var N=Uc(I);if(14===b)return a.Bb?a.Bb(c,d,e,f,h,k,m,n,p,u,v,y,E,G):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G);I=Tc(N);var O=Uc(N);if(15===b)return a.Cb?a.Cb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I);N=Tc(O);var U=Uc(O);if(16===b)return a.Db?a.Db(c,d,e,f,h,k,m,
n,p,u,v,y,E,G,I,N):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N);O=Tc(U);var ea=Uc(U);if(17===b)return a.Eb?a.Eb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O);U=Tc(ea);var fa=Uc(ea);if(18===b)return a.Fb?a.Fb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U);ea=Tc(fa);fa=Uc(fa);if(19===b)return a.Gb?a.Gb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea);var qa=Tc(fa);Uc(fa);if(20===b)return a.Hb?
a.Hb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea,qa):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea,qa);throw Error("Only up to 20 arguments supported on functions");}function Zg(a){return null!=a&&(a.J&128||l===a.ee)?a.Ma(null):H(Be(a))}function $g(a,b,c){return null==c?a.B?a.B(b):a.call(a,b):ah(a,b,Tc(c),Zg(c))}function ah(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):bh(a,b,c,Tc(d),Zg(d))}function bh(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):ch(a,b,c,d,Tc(e),Zg(e))}
function ch(a,b,c,d,e,f){if(null==f)return a.P?a.P(b,c,d,e):a.call(a,b,c,d,e);var h=Tc(f),k=K(f);if(null==k)return a.ka?a.ka(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Tc(k);var m=K(k);if(null==m)return a.Qa?a.Qa(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Tc(m);var n=K(m);if(null==n)return a.Ib?a.Ib(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Tc(n);var p=K(n);if(null==p)return a.qb?a.qb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Tc(p);var u=K(p);if(null==u)return a.Jb?a.Jb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=Tc(u);var v=K(u);if(null==v)return a.xb?a.xb(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);u=Tc(v);var y=K(v);if(null==y)return a.yb?a.yb(b,c,d,e,h,f,k,m,n,p,u):a.call(a,b,c,d,e,h,f,k,m,n,p,u);v=Tc(y);var E=K(y);if(null==E)return a.zb?a.zb(b,c,d,e,h,f,k,m,n,p,u,v):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v);y=Tc(E);var G=K(E);if(null==G)return a.Ab?a.Ab(b,c,d,e,h,f,k,m,n,p,u,v,y):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y);E=Tc(G);var I=K(G);if(null==I)return a.Bb?a.Bb(b,c,d,e,h,f,k,m,n,p,u,v,y,E):a.call(a,
b,c,d,e,h,f,k,m,n,p,u,v,y,E);G=Tc(I);var N=K(I);if(null==N)return a.Cb?a.Cb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G);I=Tc(N);var O=K(N);if(null==O)return a.Db?a.Db(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I);N=Tc(O);var U=K(O);if(null==U)return a.Eb?a.Eb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N);O=Tc(U);var ea=K(U);if(null==ea)return a.Fb?a.Fb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O):a.call(a,b,c,d,e,h,f,
k,m,n,p,u,v,y,E,G,I,N,O);U=Tc(ea);var fa=K(ea);if(null==fa)return a.Gb?a.Gb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U);ea=Tc(fa);fa=K(fa);if(null==fa)return a.Hb?a.Hb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U,ea];for(c=fa;;)if(c)b.push(Tc(c)),c=K(c);else break;return a.apply(a,b)}
function xe(a){switch(arguments.length){case 2:return dh(arguments[0],arguments[1]);case 3:return eh(arguments[0],arguments[1],arguments[2]);case 4:return gh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return hh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new ze(b.slice(5),0,null);return ih(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function dh(a,b){if(a.ba){var c=a.Y,d=Qg(c+1,b);return d<=c?Yg(a,d,b):a.ba(b)}b=H(b);return null==b?a.O?a.O():a.call(a):$g(a,Tc(b),Zg(b))}function eh(a,b,c){if(a.ba){b=df(b,c);var d=a.Y;c=Qg(d,c)+1;return c<=d?Yg(a,c,b):a.ba(b)}return $g(a,b,H(c))}function gh(a,b,c,d){return a.ba?(b=Sg(b,c,d),c=a.Y,d=2+Qg(c-1,d),d<=c?Yg(a,d,b):a.ba(b)):ah(a,b,c,H(d))}function hh(a,b,c,d,e){return a.ba?(b=df(b,df(c,df(d,e))),c=a.Y,e=3+Qg(c-2,e),e<=c?Yg(a,e,b):a.ba(b)):bh(a,b,c,d,H(e))}
function ih(a,b,c,d,e,f){return a.ba?(f=Rg(f),b=df(b,df(c,df(d,df(e,f)))),c=a.Y,f=4+Qg(c-3,f),f<=c?Yg(a,f,b):a.ba(b)):ch(a,b,c,d,e,Rg(f))}var jh=function jh(a){switch(arguments.length){case 1:return jh.B(arguments[0]);case 2:return jh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return jh.F(arguments[0],arguments[1],c)}};jh.B=function(){return!1};jh.j=function(a,b){return!F.j(a,b)};
jh.F=function(a,b,c){return wc(gh(F,a,b,c))};jh.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};jh.Y=2;function kh(a){return H(a)?a:null}
function lh(){if("undefined"===typeof cc||"undefined"===typeof dc||"undefined"===typeof ec)ec=function(a){this.Ai=a;this.J=393216;this.T=0},ec.prototype.fa=function(a,b){return new ec(b)},ec.prototype.ea=function(){return this.Ai},ec.prototype.Za=function(){return!1},ec.prototype.next=function(){return Error("No such element")},ec.prototype.remove=function(){return Error("Unsupported operation")},ec.rb=!0,ec.kb="cljs.core/t_cljs$core19788",ec.vb=function(a){return A(a,"cljs.core/t_cljs$core19788")};
return new ec(W)}var mh={},nh={};function oh(a){this.Wd=mh;this._next=a}oh.prototype.Za=function(){this.Wd===mh?(this.Wd=nh,this._next=H(this._next)):this.Wd===this._next&&(this._next=K(this.Wd));return null!=this._next};oh.prototype.next=function(){if(this.Za())return this.Wd=this._next,J(this._next);throw Error("No such element");};oh.prototype.remove=function(){return Error("Unsupported operation")};
function ph(a,b){for(;;){if(null==H(b))return!0;var c=J(b);c=a.B?a.B(c):a.call(null,c);if(r(c))b=K(b);else return!1}}function qh(a,b){for(;;)if(b=H(b)){var c=J(b);c=a.B?a.B(c):a.call(null,c);if(r(c))return c;b=K(b)}else return null}function rh(a){if(Kf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.B(a)].join(""));}
function sh(a){return function(){function b(h,k){return wc(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return wc(a.B?a.B(h):a.call(null,h))}function d(){return wc(a.O?a.O():a.call(null))}var e=null,f=function(){function h(m,n,p){var u=null;if(2<arguments.length){u=0;for(var v=Array(arguments.length-2);u<v.length;)v[u]=arguments[u+2],++u;u=new ze(v,0,null)}return k.call(this,m,n,u)}function k(m,n,p){return wc(gh(a,m,n,p))}h.Y=2;h.ba=function(m){var n=J(m);m=K(m);var p=J(m);m=Be(m);return k(n,p,m)};
h.F=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new ze(p,0,null)}return f.F(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.Y=2;e.ba=f.ba;e.O=d;e.B=c;e.j=b;e.F=f.F;return e}()}
function th(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.Y=0;b.ba=function(c){H(c);return a};b.F=function(){return a};return b}()}
var uh=function uh(a){switch(arguments.length){case 0:return uh.O();case 1:return uh.B(arguments[0]);case 2:return uh.j(arguments[0],arguments[1]);case 3:return uh.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return uh.F(arguments[0],arguments[1],arguments[2],c)}};uh.O=function(){return $f};uh.B=function(a){return a};
uh.j=function(a,b){return function(){function c(m,n,p){m=b.C?b.C(m,n,p):b.call(null,m,n,p);return a.B?a.B(m):a.call(null,m)}function d(m,n){m=b.j?b.j(m,n):b.call(null,m,n);return a.B?a.B(m):a.call(null,m)}function e(m){m=b.B?b.B(m):b.call(null,m);return a.B?a.B(m):a.call(null,m)}function f(){var m=b.O?b.O():b.call(null);return a.B?a.B(m):a.call(null,m)}var h=null,k=function(){function m(p,u,v,y){var E=null;if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+
3],++E;E=new ze(G,0,null)}return n.call(this,p,u,v,E)}function n(p,u,v,y){p=hh(b,p,u,v,y);return a.B?a.B(p):a.call(null,p)}m.Y=3;m.ba=function(p){var u=J(p);p=K(p);var v=J(p);p=K(p);var y=J(p);p=Be(p);return n(u,v,y,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=
arguments[v+3],++v;v=new ze(y,0,null)}return k.F(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.Y=3;h.ba=k.ba;h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()};
uh.C=function(a,b,c){return function(){function d(n,p,u){n=c.C?c.C(n,p,u):c.call(null,n,p,u);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function e(n,p){n=c.j?c.j(n,p):c.call(null,n,p);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function f(n){n=c.B?c.B(n):c.call(null,n);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function h(){var n=c.O?c.O():c.call(null);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}var k=null,m=function(){function n(u,
v,y,E){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new ze(I,0,null)}return p.call(this,u,v,y,G)}function p(u,v,y,E){u=hh(c,u,v,y,E);u=b.B?b.B(u):b.call(null,u);return a.B?a.B(u):a.call(null,u)}n.Y=3;n.ba=function(u){var v=J(u);u=K(u);var y=J(u);u=K(u);var E=J(u);u=Be(u);return p(v,y,E,u)};n.F=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,u);default:var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.F(n,p,u,y)}throw Error("Invalid arity: "+arguments.length);};k.Y=3;k.ba=m.ba;k.O=h;k.B=f;k.j=e;k.C=d;k.F=m.F;return k}()};
uh.F=function(a,b,c,d){var e=zg(df(a,df(b,df(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){k=dh(J(e),k);for(var m=K(e);;)if(m){var n=J(m);k=n.B?n.B(k):n.call(null,k);m=K(m)}else return k}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()};uh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};
uh.Y=3;var vh=function vh(a){switch(arguments.length){case 1:return vh.B(arguments[0]);case 2:return vh.j(arguments[0],arguments[1]);case 3:return vh.C(arguments[0],arguments[1],arguments[2]);case 4:return vh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return vh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};vh.B=function(a){return a};
vh.j=function(a,b){return function(){function c(m,n,p){return a.P?a.P(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.C?a.C(b,m,n):a.call(null,b,m,n)}function e(m){return a.j?a.j(b,m):a.call(null,b,m)}function f(){return a.B?a.B(b):a.call(null,b)}var h=null,k=function(){function m(p,u,v,y){var E=null;if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+3],++E;E=new ze(G,0,null)}return n.call(this,p,u,v,E)}function n(p,u,v,y){return ih(a,b,p,u,v,P([y]))}
m.Y=3;m.ba=function(p){var u=J(p);p=K(p);var v=J(p);p=K(p);var y=J(p);p=Be(p);return n(u,v,y,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=arguments[v+3],++v;v=new ze(y,0,null)}return k.F(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.Y=3;h.ba=k.ba;
h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()};
vh.C=function(a,b,c){return function(){function d(n,p,u){return a.ka?a.ka(b,c,n,p,u):a.call(null,b,c,n,p,u)}function e(n,p){return a.P?a.P(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.C?a.C(b,c,n):a.call(null,b,c,n)}function h(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,v,y,E){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new ze(I,0,null)}return p.call(this,u,v,y,G)}function p(u,v,y,E){return ih(a,
b,c,u,v,P([y,E]))}n.Y=3;n.ba=function(u){var v=J(u);u=K(u);var y=J(u);u=K(u);var E=J(u);u=Be(u);return p(v,y,E,u)};n.F=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,u);default:var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.F(n,p,u,y)}throw Error("Invalid arity: "+arguments.length);
};k.Y=3;k.ba=m.ba;k.O=h;k.B=f;k.j=e;k.C=d;k.F=m.F;return k}()};
vh.P=function(a,b,c,d){return function(){function e(p,u,v){return a.Qa?a.Qa(b,c,d,p,u,v):a.call(null,b,c,d,p,u,v)}function f(p,u){return a.ka?a.ka(b,c,d,p,u):a.call(null,b,c,d,p,u)}function h(p){return a.P?a.P(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.C?a.C(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(v,y,E,G){var I=null;if(3<arguments.length){I=0;for(var N=Array(arguments.length-3);I<N.length;)N[I]=arguments[I+3],++I;I=new ze(N,0,null)}return u.call(this,v,y,E,I)}function u(v,
y,E,G){return ih(a,b,c,d,v,P([y,E,G]))}p.Y=3;p.ba=function(v){var y=J(v);v=K(v);var E=J(v);v=K(v);var G=J(v);v=Be(v);return u(y,E,G,v)};p.F=u;return p}();m=function(p,u,v,y){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,u);case 3:return e.call(this,p,u,v);default:var E=null;if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+3],++E;E=new ze(G,0,null)}return n.F(p,u,v,E)}throw Error("Invalid arity: "+
arguments.length);};m.Y=3;m.ba=n.ba;m.O=k;m.B=h;m.j=f;m.C=e;m.F=n.F;return m}()};vh.F=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){return hh(a,b,c,d,V.j(e,k))}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()};
vh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};vh.Y=4;
function wh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.C?a.C(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.j?a.j(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.B?a.B(k):a.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.call(this,n,p,u,y)}function m(n,p,u,v){return hh(a,null==n?b:n,p,u,v)}k.Y=3;k.ba=function(n){var p=
J(n);n=K(n);var u=J(n);n=K(n);var v=J(n);n=Be(n);return m(p,u,v,n)};k.F=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new ze(v,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.Y=3;f.ba=h.ba;f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
function xh(a,b){return new Hg(null,function(){var c=H(b);if(c){if(Ef(c)){for(var d=Xd(c),e=M(d),f=Lg(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.B?a.B(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Ng(Pg(f),xh(a,Yd(c)))}e=function(){var m=J(c);return a.B?a.B(m):a.call(null,m)}();return null==e?xh(a,Be(c)):df(e,xh(a,Be(c)))}return null},null,null)}function yh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.tb=null;this.T=16386;this.J=6455296}g=yh.prototype;
g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return this===b};g.ub=function(){return this.state};g.ea=function(){return this.meta};g.Ff=function(a,b){for(var c=H(this.tb),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f),k=Q(h,0,null);h=Q(h,1,null);h.P?h.P(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=H(c))Ef(c)?(d=Xd(c),c=Yd(c),k=d,e=M(d),d=k):(d=J(c),k=Q(d,0,null),h=Q(d,1,null),h.P?h.P(k,this,a,b):h.call(null,k,this,a,b),c=K(c),d=null,e=0),f=0;else break};
g.Me=function(a,b,c){this.tb=R.C(this.tb,b,c);return this};g.Ne=function(a,b){return this.tb=S.j(this.tb,b)};g.ia=function(){return xa(this)};function zh(a){return new yh(a,null,null)}function Ah(a,b){if(a instanceof yh){var c=a.validator;if(null!=c&&!r(c.B?c.B(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.tb&&a.Ff(c,b);return b}return ae(a,b)}
var Bh=function Bh(a){switch(arguments.length){case 2:return Bh.j(arguments[0],arguments[1]);case 3:return Bh.C(arguments[0],arguments[1],arguments[2]);case 4:return Bh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return Bh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Bh.j=function(a,b){if(a instanceof yh){var c=a.state;b=b.B?b.B(c):b.call(null,c);a=Ah(a,b)}else a=be(a,b);return a};Bh.C=function(a,b,c){if(a instanceof yh){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=Ah(a,b)}else a=be(a,b,c);return a};Bh.P=function(a,b,c,d){if(a instanceof yh){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=Ah(a,b)}else a=be(a,b,c,d);return a};Bh.F=function(a,b,c,d,e){return a instanceof yh?Ah(a,hh(b,a.state,c,d,e)):be(a,b,c,d,e)};
Bh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Bh.Y=4;function Ch(a){return F.j(a.ub(null),!1)?(Ah(a,!0),!0):!1}function Dh(a){this.state=a;this.J=32768;this.T=0}Dh.prototype.fe=function(a,b){return this.state=b};Dh.prototype.ub=function(){return this.state};
function Eh(){var a=Fh,b=Gh;return function(){function c(k,m,n){var p=a.B?a.B(k):a.call(null,k);if(r(p))return p;p=a.B?a.B(m):a.call(null,m);if(r(p))return p;p=a.B?a.B(n):a.call(null,n);if(r(p))return p;k=b.B?b.B(k):b.call(null,k);if(r(k))return k;m=b.B?b.B(m):b.call(null,m);return r(m)?m:b.B?b.B(n):b.call(null,n)}function d(k,m){var n=a.B?a.B(k):a.call(null,k);if(r(n))return n;n=a.B?a.B(m):a.call(null,m);if(r(n))return n;k=b.B?b.B(k):b.call(null,k);return r(k)?k:b.B?b.B(m):b.call(null,m)}function e(k){var m=
a.B?a.B(k):a.call(null,k);return r(m)?m:b.B?b.B(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.call(this,n,p,u,y)}function m(n,p,u,v){n=f.C(n,p,u);return r(n)?n:qh(function(y){var E=a.B?a.B(y):a.call(null,y);return r(E)?E:b.B?b.B(y):b.call(null,y)},v)}k.Y=3;k.ba=function(n){var p=J(n);n=K(n);var u=J(n);n=K(n);var v=J(n);n=Be(n);return m(p,u,v,n)};
k.F=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new ze(v,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.Y=3;f.ba=h.ba;f.O=function(){return null};f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
var Hh=function Hh(a){switch(arguments.length){case 1:return Hh.B(arguments[0]);case 2:return Hh.j(arguments[0],arguments[1]);case 3:return Hh.C(arguments[0],arguments[1],arguments[2]);case 4:return Hh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return Hh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Hh.B=function(a){return function(b){return function(){function c(k,m){m=a.B?a.B(m):a.call(null,m);return b.j?b.j(k,m):b.call(null,k,m)}function d(k){return b.B?b.B(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(n,p,u){var v=null;if(2<arguments.length){v=0;for(var y=Array(arguments.length-2);v<y.length;)y[v]=arguments[v+2],++v;v=new ze(y,0,null)}return m.call(this,n,p,v)}function m(n,p,u){p=eh(a,p,u);return b.j?b.j(n,p):b.call(null,n,p)}k.Y=2;k.ba=function(n){var p=
J(n);n=K(n);var u=J(n);n=Be(n);return m(p,u,n)};k.F=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var u=Array(arguments.length-2);p<u.length;)u[p]=arguments[p+2],++p;p=new ze(u,0,null)}return h.F(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.Y=2;f.ba=h.ba;f.O=e;f.B=d;f.j=c;f.F=h.F;return f}()}};
Hh.j=function(a,b){return new Hg(null,function(){var c=H(b);if(c){if(Ef(c)){for(var d=Xd(c),e=M(d),f=Lg(e),h=0;;)if(h<e)Og(f,function(){var k=x(d,h);return a.B?a.B(k):a.call(null,k)}()),h+=1;else break;return Ng(Pg(f),Hh.j(a,Yd(c)))}return df(function(){var k=J(c);return a.B?a.B(k):a.call(null,k)}(),Hh.j(a,Be(c)))}return null},null,null)};
Hh.C=function(a,b,c){return new Hg(null,function(){var d=H(b),e=H(c);if(d&&e){var f=J(d);var h=J(e);f=a.j?a.j(f,h):a.call(null,f,h);d=df(f,Hh.C(a,Be(d),Be(e)))}else d=null;return d},null,null)};Hh.P=function(a,b,c,d){return new Hg(null,function(){var e=H(b),f=H(c),h=H(d);if(e&&f&&h){var k=J(e);var m=J(f),n=J(h);k=a.C?a.C(k,m,n):a.call(null,k,m,n);e=df(k,Hh.P(a,Be(e),Be(f),Be(h)))}else e=null;return e},null,null)};
Hh.F=function(a,b,c,d,e){return Hh.j(function(f){return dh(a,f)},function k(h){return new Hg(null,function(){var m=Hh.j(H,h);return ph($f,m)?df(Hh.j(J,m),k(Hh.j(Be,m))):null},null,null)}(lf.F(e,d,P([c,b]))))};Hh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Hh.Y=4;
var Ih=function Ih(a){switch(arguments.length){case 1:return Ih.B(arguments[0]);case 2:return Ih.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};
Ih.B=function(a){return function(b){var c=new Dh(a);return function(){function d(k,m){var n=z(c),p=c.fe(null,c.ub(null)-1);k=0<n?b.j?b.j(k,m):b.call(null,k,m):k;return 0<p?k:Ne(k)?k:Me(k)}function e(k){return b.B?b.B(k):b.call(null,k)}function f(){return b.O?b.O():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.O=f;h.B=e;h.j=d;return h}()}};
Ih.j=function(a,b){return new Hg(null,function(){if(0<a){var c=H(b);return c?df(J(c),Ih.j(a-1,Be(c))):null}return null},null,null)};Ih.Y=2;function Jh(a,b){return new Hg(null,function(){a:for(var c=a,d=b;;)if(d=H(d),0<c&&d)--c,d=Be(d);else break a;return d},null,null)}function Kh(a,b){return Hh.C(function(c){return c},b,Jh(a,b))}
function Lh(a,b){return new Hg(null,function(){a:for(var c=a,d=b;;){d=H(d);var e;if(e=d)e=J(d),e=c.B?c.B(e):c.call(null,e);if(r(e))d=Be(d);else break a}return d},null,null)}function Mh(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.I=null;this.J=32374988;this.T=1}g=Mh.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null==this.next?1<this.count?this.next=new Mh(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Le=function(){return!1};g.Sa=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(Ne(c))return z(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Ne(c))return z(c);a+=1}else return c};
g.Ta=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(Ne(c))return z(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Ne(c))return z(c);a+=1}else return c};g.Ua=function(){return this.val};g.bb=function(){return null==this.next?1<this.count?this.next=new Mh(null,this.count-1,this.val,null):-1===this.count?this:Ce:this.next};g.ha=function(){return this};
g.fa=function(a,b){return b===this.meta?this:new Mh(b,this.count,this.val,this.next)};g.la=function(a,b){return df(b,this)};function Nh(a){return new Mh(null,-1,a,null)}function Oh(a,b){return 0<a?new Mh(null,a,b,null):Ce}function Ph(a){return new Hg(null,function(){return df(a.O?a.O():a.call(null),Ph(a))},null,null)}function Qh(a,b){return Ih.j(a,Ph(b))}
var Rh=function Rh(a){switch(arguments.length){case 0:return Rh.O();case 1:return Rh.B(arguments[0]);case 2:return Rh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return Rh.F(arguments[0],arguments[1],c)}};Rh.O=function(){return Ce};Rh.B=function(a){return new Hg(null,function(){return a},null,null)};
Rh.j=function(a,b){return new Hg(null,function(){var c=H(a),d=H(b);return c&&d?df(J(c),df(J(d),Rh.j(Be(c),Be(d)))):null},null,null)};Rh.F=function(a,b,c){return new Hg(null,function(){var d=Hh.j(H,lf.F(c,b,P([a])));return ph($f,d)?V.j(Hh.j(J,d),dh(Rh,Hh.j(Be,d))):null},null,null)};Rh.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Rh.Y=2;
function Sh(){return function(a){var b=new Dh(!1);return function(){function c(h,k){if(r(z(b)))return h=a.j?a.j(h," "):a.call(null,h," "),Ne(h)?h:a.j?a.j(h,k):a.call(null,h,k);de(b,!0);return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};
f.O=e;f.B=d;f.j=c;return f}()}}function Th(a,b){return dh(V,eh(Hh,a,b))}
function Uh(a){return function(b){return function(){function c(h,k){return r(a.B?a.B(k):a.call(null,k))?b.j?b.j(h,k):b.call(null,h,k):h}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return b.O?b.O():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}}
function Vh(a,b){return new Hg(null,function(){var c=H(b);if(c){if(Ef(c)){for(var d=Xd(c),e=M(d),f=Lg(e),h=0;;)if(h<e){var k=x(d,h);k=a.B?a.B(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Ng(Pg(f),Vh(a,Yd(c)))}d=J(c);c=Be(c);return r(a.B?a.B(d):a.call(null,d))?df(d,Vh(a,c)):Vh(a,c)}return null},null,null)}function Wh(a,b){return Vh(sh(a),b)}
var Xh=function Xh(a){switch(arguments.length){case 0:return Xh.O();case 1:return Xh.B(arguments[0]);case 2:return Xh.j(arguments[0],arguments[1]);case 3:return Xh.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Xh.O=function(){return mf};Xh.B=function(a){return a};Xh.j=function(a,b){return null!=a?null!=a&&(a.T&4||l===a.Gg)?pd(Qd(w.C(Pd,Od(a),b)),uf(a)):w.C(Pc,a,b):w.C(lf,a,b)};
Xh.C=function(a,b,c){return null!=a&&(a.T&4||l===a.Gg)?pd(Qd(cg(b,Vg,Od(a),c)),uf(a)):cg(b,lf,a,c)};Xh.Y=3;
var Yh=function Yh(a){switch(arguments.length){case 2:return Yh.j(arguments[0],arguments[1]);case 3:return Yh.C(arguments[0],arguments[1],arguments[2]);case 4:return Yh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return Yh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Yh.j=function(a,b){return Qd(w.C(function(c,d){return Vg.j(c,a.B?a.B(d):a.call(null,d))},Od(mf),b))};Yh.C=function(a,b,c){return Xh.j(mf,Hh.C(a,b,c))};Yh.P=function(a,b,c,d){return Xh.j(mf,Hh.P(a,b,c,d))};Yh.F=function(a,b,c,d,e){return Xh.j(mf,ih(Hh,a,b,c,d,P([e])))};Yh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Yh.Y=4;function Zh(a,b){return Qd(w.C(function(c,d){return r(a.B?a.B(d):a.call(null,d))?Vg.j(c,d):c},Od(mf),b))}
function $h(a,b,c){return new Hg(null,function(){var d=H(c);if(d){var e=Ih.j(a,d);return a===M(e)?df(e,$h(a,b,Jh(b,d))):null}return null},null,null)}function ai(a,b){return w.C(C,a,b)}function bi(a,b,c){var d=Gf;for(b=H(b);;)if(null!=b){a=C.C(a,J(b),d);if(d===a)return c;b=K(b)}else return a}
var ci=function ci(a,b,c){b=H(b);var e=J(b),f=K(b);return f?R.C(a,e,function(){var h=C.j(a,e);return ci.C?ci.C(h,f,c):ci.call(null,h,f,c)}()):R.C(a,e,c)},di=function di(a){switch(arguments.length){case 3:return di.C(arguments[0],arguments[1],arguments[2]);case 4:return di.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return di.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return di.Qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(6),0,null);return di.F(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};di.C=function(a,b,c){b=H(b);var d=J(b);return(b=K(b))?R.C(a,d,di.C(C.j(a,d),b,c)):R.C(a,d,function(){var e=C.j(a,d);return c.B?c.B(e):c.call(null,e)}())};
di.P=function(a,b,c,d){b=H(b);var e=J(b);return(b=K(b))?R.C(a,e,di.P(C.j(a,e),b,c,d)):R.C(a,e,function(){var f=C.j(a,e);return c.j?c.j(f,d):c.call(null,f,d)}())};di.ka=function(a,b,c,d,e){b=H(b);var f=J(b);return(b=K(b))?R.C(a,f,di.ka(C.j(a,f),b,c,d,e)):R.C(a,f,function(){var h=C.j(a,f);return c.C?c.C(h,d,e):c.call(null,h,d,e)}())};
di.Qa=function(a,b,c,d,e,f){b=H(b);var h=J(b);return(b=K(b))?R.C(a,h,di.Qa(C.j(a,h),b,c,d,e,f)):R.C(a,h,function(){var k=C.j(a,h);return c.P?c.P(k,d,e,f):c.call(null,k,d,e,f)}())};di.F=function(a,b,c,d,e,f,h){var k=H(b);b=J(k);return(k=K(k))?R.C(a,b,ih(di,C.j(a,b),k,c,d,P([e,f,h]))):R.C(a,b,ih(c,C.j(a,b),d,e,f,P([h])))};di.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.F(b,a,c,d,e,f,h)};di.Y=6;
var ei=function ei(a){switch(arguments.length){case 3:return ei.C(arguments[0],arguments[1],arguments[2]);case 4:return ei.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ei.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ei.Qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(6),0,null);return ei.F(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ei.C=function(a,b,c){return R.C(a,b,function(){var d=C.j(a,b);return c.B?c.B(d):c.call(null,d)}())};ei.P=function(a,b,c,d){return R.C(a,b,function(){var e=C.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};ei.ka=function(a,b,c,d,e){return R.C(a,b,function(){var f=C.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};ei.Qa=function(a,b,c,d,e,f){return R.C(a,b,function(){var h=C.j(a,b);return c.P?c.P(h,d,e,f):c.call(null,h,d,e,f)}())};
ei.F=function(a,b,c,d,e,f,h){return R.C(a,b,ih(c,C.j(a,b),d,e,f,P([h])))};ei.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.F(b,a,c,d,e,f,h)};ei.Y=6;function fi(a,b){this.La=a;this.K=b}function gi(a){return new fi(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function hi(a){return new fi(a.La,Fc(a.K))}function ii(a){a=a.aa;return 32>a?0:a-1>>>5<<5}function ji(a,b,c){for(;;){if(0===b)return c;var d=gi(a);d.K[0]=c;c=d;b-=5}}var ki=function ki(a,b,c,d){var f=hi(c),h=a.aa-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=ki.P?ki.P(a,b,c,d):ki.call(null,a,b,c,d)):a=ji(null,b-5,d),f.K[h]=a);return f};function li(a,b){throw Error(["No item ",t.B(a)," in vector of length ",t.B(b)].join(""));}
function mi(a,b){if(b>=ii(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function ni(a,b){return 0<=b&&b<a.aa?mi(a,b):li(b,a.aa)}
var oi=function oi(a,b,c,d,e){var h=hi(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=oi.ka?oi.ka(a,b,c,d,e):oi.call(null,a,b,c,d,e);h.K[k]=a}return h},pi=function pi(a,b,c){var e=a.aa-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=pi.C?pi.C(a,b,f):pi.call(null,a,b,f);if(null==a&&0===e)return null;c=hi(c);c.K[e]=a;return c}if(0===e)return null;c=hi(c);c.K[e]=null;return c};function qi(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
qi.prototype.Za=function(){return this.i<this.end};qi.prototype.next=function(){32===this.i-this.base&&(this.K=mi(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function ri(a,b,c){return new qi(b,b-b%32,b<M(a)?mi(a,b):null,a,b,c)}function si(a,b,c,d){return c<d?ti(a,b,Ye(a,c),c+1,d):b.O?b.O():b.call(null)}
function ti(a,b,c,d,e){var f=c;c=d;for(d=mi(a,d);;)if(c<e){var h=c&31;d=0===h?mi(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Ne(f))return z(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.aa=b;this.shift=c;this.root=d;this.tail=e;this.I=f;this.J=167666463;this.T=139268}g=X.prototype;g.Yc=function(a,b){return 0<=b&&b<this.aa?new Y(b,mi(this,b)[b&31]):null};g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.va=function(a,b,c){a=0;for(var d=c;;)if(a<this.aa){var e=mi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Ne(d)){e=d;break a}f+=1}else{e=d;break a}if(Ne(e))return z(e);a+=c;d=e}else return d};g.tf=l;g.xa=function(a,b){return ni(this,b)[b&31]};g.Ra=function(a,b,c){return 0<=b&&b<this.aa?mi(this,b)[b&31]:c};
g.Dc=function(a,b,c){if(0<=b&&b<this.aa)return ii(this)<=b?(a=Fc(this.tail),a[b&31]=c,new X(this.meta,this.aa,this.shift,this.root,a,null)):new X(this.meta,this.aa,this.shift,oi(this,this.shift,this.root,b,c),this.tail,null);if(b===this.aa)return this.la(null,c);throw Error(["Index ",t.B(b)," out of bounds  [0,",t.B(this.aa),"]"].join(""));};g.oa=function(){return ri(this,0,this.aa)};g.ea=function(){return this.meta};g.ja=function(){return this.aa};
g.Zc=function(){return 0<this.aa?this.xa(null,this.aa-1):null};g.$c=function(){if(0===this.aa)throw Error("Can't pop empty vector");if(1===this.aa)return pd(mf,this.meta);if(1<this.aa-ii(this))return new X(this.meta,this.aa-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=mi(this,this.aa-2),b=pi(this,this.shift,this.root);b=null==b?Z:b;var c=this.aa-1;return 5<this.shift&&null==b.K[1]?new X(this.meta,c,this.shift-5,b.K[0],a,null):new X(this.meta,c,this.shift,b,a,null)};
g.qc=function(){return 0<this.aa?new bf(this,this.aa-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){if(b instanceof X)if(this.aa===M(b))for(a=this.oa(null),b=b.oa(null);;)if(a.Za()){var c=a.next(),d=b.next();if(!F.j(c,d))return!1}else return!0;else return!1;else return cf(this,b)};g.od=function(){return new ui(this.aa,this.shift,vi.B?vi.B(this.root):vi.call(null,this.root),wi.B?wi.B(this.tail):wi.call(null,this.tail))};
g.Ja=function(){return pd(mf,this.meta)};g.Sa=function(a,b){return si(this,b,0,this.aa)};g.Ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.aa){var e=mi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Ne(d)){e=d;break a}f+=1}else{e=d;break a}if(Ne(e))return z(e);a+=c;d=e}else return d};g.da=function(a,b,c){if("number"===typeof b)return this.Dc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ha=function(){if(0===this.aa)return null;if(32>=this.aa)return new ze(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return xi?xi(this,a,0,0):yi.call(null,this,a,0,0)};g.fa=function(a,b){return b===this.meta?this:new X(b,this.aa,this.shift,this.root,this.tail,this.I)};
g.la=function(a,b){if(32>this.aa-ii(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.aa+1,this.shift,this.root,c,null)}a=(c=this.aa>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=gi(null),c.K[0]=this.root,d=ji(null,this.shift,new fi(null,this.tail)),c.K[1]=d):c=ki(this,this.shift,this.root,new fi(null,this.tail));return new X(this.meta,this.aa+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};
var Z=new fi(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),mf=new X(null,0,5,Z,[],He);function zi(a,b){var c=a.length;a=b?a:Fc(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).od(null);;)if(b<c)d=b+1,e=Vg.j(e,a[b]),b=d;else return Qd(e)}X.prototype[Cc]=function(){return Ee(this)};
function Wf(a){return r(Ai.B?Ai.B(a):Ai.call(null,a))?new X(null,2,5,Z,[Bi.B?Bi.B(a):Bi.call(null,a),Ci.B?Ci.B(a):Ci.call(null,a)],null):Df(a)?tf(a,null):uc(a)?zi(a,!0):Qd(w.C(Pd,Od(mf),a))}var Di=function Di(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return Di.F(c)};Di.F=function(a){return a instanceof ze&&0===a.i?zi(a.K,!uc(a.K)):Wf(a)};Di.Y=0;Di.ba=function(a){return this.F(H(a))};
function Ei(a,b,c,d,e){this.ic=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.I=null;this.J=32375020;this.T=1536}g=Ei.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){if(this.off+1<this.node.length){var a=this.ic;var b=this.node,c=this.i,d=this.off+1;a=xi?xi(a,b,c,d):yi.call(null,a,b,c,d);return null==a?null:a}return this.$d()};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return si(this.ic,b,this.i+this.off,M(this.ic))};g.Ta=function(a,b,c){return ti(this.ic,b,c,this.i+this.off,M(this.ic))};g.Ua=function(){return this.node[this.off]};g.bb=function(){if(this.off+1<this.node.length){var a=this.ic;var b=this.node,c=this.i,d=this.off+1;a=xi?xi(a,b,c,d):yi.call(null,a,b,c,d);return null==a?Ce:a}return this.yd(null)};g.ha=function(){return this};
g.ae=function(){var a=this.node;return new Kg(a,this.off,a.length)};g.yd=function(){var a=this.i+this.node.length;if(a<Lc(this.ic)){var b=this.ic,c=mi(this.ic,a);return xi?xi(b,c,a,0):yi.call(null,b,c,a,0)}return Ce};g.fa=function(a,b){return b===this.meta?this:Fi?Fi(this.ic,this.node,this.i,this.off,b):yi.call(null,this.ic,this.node,this.i,this.off,b)};g.la=function(a,b){return df(b,this)};
g.$d=function(){var a=this.i+this.node.length;if(a<Lc(this.ic)){var b=this.ic,c=mi(this.ic,a);return xi?xi(b,c,a,0):yi.call(null,b,c,a,0)}return null};Ei.prototype[Cc]=function(){return Ee(this)};
function yi(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ei(b,ni(b,c),c,d,null);case 4:return xi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function xi(a,b,c,d){return new Ei(a,b,c,d,null)}function Fi(a,b,c,d,e){return new Ei(a,b,c,d,e)}
function Gi(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.I=e;this.J=167666463;this.T=139264}g=Gi.prototype;g.Yc=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,Yc(this.v,a)):null};g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.va=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Ne(c))return z(c);d+=1;a+=1}else return c};g.xa=function(a,b){return 0>b||this.end<=this.start+b?li(b,this.end-this.start):x(this.v,this.start+b)};g.Ra=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Dc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.B(b)," out of bounds [0,",t.B(this.ja(null)),"]"].join(""));b=this.meta;c=R.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Hi.ka?Hi.ka(b,c,d,a,null):Hi.call(null,b,c,d,a,null)};g.oa=function(){return null!=this.v&&l===this.v.tf?ri(this.v,this.start,this.end):new oh(this)};g.ea=function(){return this.meta};g.ja=function(){return this.end-this.start};
g.Zc=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.$c=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Hi.ka?Hi.ka(a,b,c,d,null):Hi.call(null,a,b,c,d,null)};g.qc=function(){return this.start!==this.end?new bf(this,this.end-this.start-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(mf,this.meta)};
g.Sa=function(a,b){return null!=this.v&&l===this.v.tf?si(this.v,b,this.start,this.end):Qe(this,b)};g.Ta=function(a,b,c){return null!=this.v&&l===this.v.tf?ti(this.v,b,c,this.start,this.end):Re(this,b,c)};g.da=function(a,b,c){if("number"===typeof b)return this.Dc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ha=function(){var a=this;return function d(c){return c===a.end?null:df(x(a.v,c),new Hg(null,function(){return d(c+1)},null,null))}(a.start)};
g.fa=function(a,b){return b===this.meta?this:Hi.ka?Hi.ka(b,this.v,this.start,this.end,this.I):Hi.call(null,b,this.v,this.start,this.end,this.I)};g.la=function(a,b){a=this.meta;b=ld(this.v,this.end,b);var c=this.start,d=this.end+1;return Hi.ka?Hi.ka(a,b,c,d,null):Hi.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Gi.prototype[Cc]=function(){return Ee(this)};function Hi(a,b,c,d,e){for(;;)if(b instanceof Gi)c=b.start+c,d=b.start+d,b=b.v;else{if(!Df(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>M(b))throw Error("Index out of bounds");return new Gi(a,b,c,d,e)}}function Ii(a,b,c){return Hi(null,a,b|0,c|0,null)}
function Ji(a,b){return a===b.La?b:new fi(a,Fc(b.K))}function vi(a){return new fi({},Fc(a.K))}function wi(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Ff(a,0,b,0,a.length);return b}var Ki=function Ki(a,b,c,d){c=Ji(a.root.La,c);var f=a.aa-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=Ki.P?Ki.P(a,b,h,d):Ki.call(null,a,b,h,d)):a=ji(a.root.La,b-5,d)}c.K[f]=a;return c};
function ui(a,b,c,d){this.aa=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.J=275}g=ui.prototype;
g.pd=function(a,b){if(this.root.La){if(32>this.aa-ii(this))this.tail[this.aa&31]=b;else{a=new fi(this.root.La,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.aa>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=ji(this.root.La,this.shift,a),this.root=new fi(this.root.La,b),this.shift=c):this.root=Ki(this,this.shift,this.root,a)}this.aa+=1;return this}throw Error("conj! after persistent!");};g.zd=function(){if(this.root.La){this.root.La=null;var a=this.aa-ii(this),b=Array(a);Ff(this.tail,0,b,0,a);return new X(null,this.aa,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Nd=function(a,b,c){if("number"===typeof b)return Li(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Li(a,b,c){if(a.root.La){if(0<=b&&b<a.aa){if(ii(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Ji(a.root.La,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.aa)return a.pd(null,c);throw Error(["Index ",t.B(b)," out of bounds for TransientVector of length",t.B(a.aa)].join(""));}throw Error("assoc! after persistent!");}g.ja=function(){if(this.root.La)return this.aa;throw Error("count after persistent!");};
g.xa=function(a,b){if(this.root.La)return ni(this,b)[b&31];throw Error("nth after persistent!");};g.Ra=function(a,b,c){return 0<=b&&b<this.aa?this.xa(null,b):c};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.root.La)return"number"===typeof b?this.Ra(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function Mi(a,b){this.Pd=a;this.ze=b}Mi.prototype.Za=function(){var a=null!=this.Pd&&H(this.Pd);return a?a:null!=this.ze?this.ze.Za():!1};
Mi.prototype.next=function(){if(null!=this.Pd){var a=J(this.Pd);this.Pd=K(this.Pd);return a}if(null!=this.ze&&this.ze.Za())return this.ze.next();throw Error("No such element");};Mi.prototype.remove=function(){return Error("Unsupported operation")};function Ni(a,b,c,d){this.meta=a;this.Tb=b;this.hc=c;this.I=d;this.J=31850700;this.T=0}g=Ni.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=K(this.Tb);return a?new Ni(this.meta,a,this.hc,null):null!=this.hc?new Ni(this.meta,this.hc,null,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(Ce,this.meta)};g.Ua=function(){return J(this.Tb)};g.bb=function(){var a=K(this.Tb);return a?new Ni(this.meta,a,this.hc,null):null==this.hc?this.Ja(null):new Ni(this.meta,this.hc,null,null)};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Ni(b,this.Tb,this.hc,this.I)};g.la=function(a,b){return df(b,this)};Ni.prototype[Cc]=function(){return Ee(this)};
function Oi(a,b,c,d,e){this.meta=a;this.count=b;this.Tb=c;this.hc=d;this.I=e;this.T=139264;this.J=31858766}g=Oi.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,this.count.B?this.count.B(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.oa=function(){return new Mi(this.Tb,fe(this.hc))};g.ea=function(){return this.meta};g.ja=function(){return this.count};g.Zc=function(){return J(this.Tb)};
g.$c=function(){if(r(this.Tb)){var a=K(this.Tb);return a?new Oi(this.meta,this.count-1,a,this.hc,null):new Oi(this.meta,this.count-1,H(this.hc),mf,null)}return this};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(Pi,this.meta)};g.Ua=function(){return J(this.Tb)};g.bb=function(){return Be(H(this))};g.ha=function(){var a=H(this.hc),b=this.Tb;return r(r(b)?b:a)?new Ni(null,this.Tb,H(a),null):null};
g.fa=function(a,b){return b===this.meta?this:new Oi(b,this.count,this.Tb,this.hc,this.I)};g.la=function(a,b){r(this.Tb)?(a=this.hc,b=new Oi(this.meta,this.count+1,this.Tb,lf.j(r(a)?a:mf,b),null)):b=new Oi(this.meta,this.count+1,lf.j(this.Tb,b),mf,null);return b};var Pi=new Oi(null,0,null,mf,He);Oi.prototype[Cc]=function(){return Ee(this)};function Qi(){this.J=2097152;this.T=0}Qi.prototype.equiv=function(a){return this.ca(null,a)};Qi.prototype.ca=function(){return!1};var Ri=new Qi;
function Si(a,b){return If(Af(b)&&!Bf(b)?M(a)===M(b)?(null!=a?a.J&1048576||l===a.wj||(a.J?0:yc(td,a)):yc(td,a))?Zf(function(c,d,e){return F.j(C.C(b,d,Ri),e)?!0:Me(!1)},!0,a):ph(function(c){return F.j(C.C(b,J(c),Ri),hf(c))},a):null:null)}function Ti(a,b,c,d){this.i=0;this.gj=a;this.zg=b;this.fields=c;this.Sg=d}Ti.prototype.Za=function(){var a=this.i<this.zg;return a?a:this.Sg.Za()};Ti.prototype.next=function(){if(this.i<this.zg){var a=Ye(this.fields,this.i);this.i+=1;return new Y(a,Yc(this.gj,a))}return this.Sg.next()};
Ti.prototype.remove=function(){return Error("Unsupported operation")};function Ui(a){this.s=a}Ui.prototype.next=function(){if(null!=this.s){var a=J(this.s),b=Q(a,0,null);a=Q(a,1,null);this.s=K(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Vi(a){this.s=a}Vi.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Wi(a,b){if(b instanceof D)a:{var c=a.length;b=b.na;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof D&&b===a[d].na){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof B)a:for(c=a.length,b=b.Vc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof B&&b===a[d].Vc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(F.j(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b){this.key=a;this.val=b;this.I=null;this.J=166619935;this.T=0}g=Y.prototype;g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Dc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Dc(null,b,c)};g.ea=function(){return null};g.ja=function(){return 2};g.vf=function(){return this.key};g.wf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};g.qc=function(){return new ze([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Qe(this,b)};g.Ta=function(a,b,c){return Re(this,b,c)};g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new ze([this.key,this.val],0,null)};g.fa=function(a,b){return tf(new X(null,2,5,Z,[this.key,this.val],null),b)};g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};function Ai(a){return null!=a?a.J&2048||l===a.zj?!0:!1:!1}function Xi(a,b,c){this.K=a;this.i=b;this.nc=c;this.J=32374990;this.T=0}g=Xi.prototype;
g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.nc};g.Ma=function(){return this.i<this.K.length-2?new Xi(this.K,this.i+2,null):null};g.ja=function(){return(this.K.length-this.i)/2};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return new Y(this.K[this.i],this.K[this.i+1])};g.bb=function(){return this.i<this.K.length-2?new Xi(this.K,this.i+2,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.nc?this:new Xi(this.K,this.i,b)};g.la=function(a,b){return df(b,this)};Xi.prototype[Cc]=function(){return Ee(this)};
function Yi(a,b){this.K=a;this.i=0;this.aa=b}Yi.prototype.Za=function(){return this.i<this.aa};Yi.prototype.next=function(){var a=new Y(this.K[this.i],this.K[this.i+1]);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.aa=b;this.K=c;this.I=d;this.J=16647951;this.T=139268}g=q.prototype;g.Yc=function(a,b){a=Wi(this.K,b);return-1===a?null:new Y(this.K[a],this.K[a+1])};g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.keys=function(){return Ee(Zi.B?Zi.B(this):Zi.call(null,this))};g.entries=function(){return new Ui(H(H(this)))};g.values=function(){return Ee($i.B?$i.B(this):$i.call(null,this))};g.has=function(a){return Lf(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=Wi(this.K,b);return-1===a?c:this.K[a+1]};
g.va=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Ne(c))return z(c);d+=2}else return c};g.oa=function(){return new Yi(this.K,2*this.aa)};g.ea=function(){return this.meta};g.ja=function(){return this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};
g.ca=function(a,b){if(Af(b)&&!Bf(b))if(a=this.K.length,this.aa===b.ja(null))for(var c=0;;)if(c<a){var d=b.R(null,this.K[c],Gf);if(d!==Gf)if(F.j(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.od=function(){return new aj(this.K.length,Fc(this.K))};g.Ja=function(){return pd(W,this.meta)};g.Sa=function(a,b){return Xf(this,b)};g.Ta=function(a,b,c){return Yf(this,b,c)};
g.wa=function(a,b){if(0<=Wi(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Ja(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.aa-1,c,null);F.j(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.da=function(a,b,c){a=Wi(this.K,b);if(-1===a){if(this.aa<bj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.aa+1,e,null)}return pd(ad(Xh.j(cj,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=Fc(this.K);b[a+1]=c;return new q(this.meta,this.aa,b,null)};g.ha=function(){var a=this.K;return 0<=a.length-2?new Xi(a,0,null):null};g.fa=function(a,b){return b===this.meta?this:new q(b,this.aa,this.K,this.I)};
g.la=function(a,b){if(Df(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Df(c))a=ad(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var W=new q(null,0,[],Je),bj=8;function qf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Wi(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new q(null,b.length/2,b,null)}q.prototype[Cc]=function(){return Ee(this)};function aj(a,b){this.Bd={};this.Ic=a;this.K=b;this.J=259;this.T=56}g=aj.prototype;
g.ja=function(){if(this.Bd)return sg(this.Ic,2);throw Error("count after persistent!");};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.Bd)return a=Wi(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.pd=function(a,b){if(this.Bd){if(Ai(b))return this.Nd(null,Bi.B?Bi.B(b):Bi.call(null,b),Ci.B?Ci.B(b):Ci.call(null,b));if(Df(b))return this.Nd(null,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));a=H(b);for(b=this;;){var c=J(a);if(r(c))a=K(a),b=Rd(b,Bi.B?Bi.B(c):Bi.call(null,c),Ci.B?Ci.B(c):Ci.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.zd=function(){if(this.Bd)return this.Bd=!1,new q(null,sg(this.Ic,2),this.K,null);throw Error("persistent! called twice");};
g.Nd=function(a,b,c){if(this.Bd){a=Wi(this.K,b);if(-1===a)return this.Ic+2<=2*bj?(this.Ic+=2,this.K.push(b),this.K.push(c),this):Xg.C(dj.j?dj.j(this.Ic,this.K):dj.call(null,this.Ic,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.Ef=function(a,b){if(this.Bd)return a=Wi(this.K,b),0<=a&&(this.K[a]=this.K[this.Ic-2],this.K[a+1]=this.K[this.Ic-1],a=this.K,a.pop(),a.pop(),this.Ic-=2),this;throw Error("dissoc! after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.R(null,a,null)};g.j=function(a,b){return this.R(null,a,b)};function dj(a,b){for(var c=Od(cj),d=0;;)if(d<a)c=Xg.C(c,b[d],b[d+1]),d+=2;else return c}function ej(){this.val=!1}
function fj(a,b){return a===b?!0:T(a,b)?!0:F.j(a,b)}function gj(a,b,c){a=Fc(a);a[b]=c;return a}function hj(a,b){var c=Array(a.length-2);Ff(a,0,c,0,2*b);Ff(a,2*(b+1),c,2*b,c.length-2*b);return c}function ij(a,b,c,d){a=a.dd(b);a.K[c]=d;return a}function jj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Gd(b,f):f;if(Ne(c))return c;e+=2;f=c}else return f}function kj(a){this.K=a;this.i=0;this.Jc=this.xe=null}
kj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.xe=new Y(b,c):null!=c?(b=fe(c),b=b.Za()?this.Jc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};kj.prototype.Za=function(){var a=null!=this.xe;return a?a:(a=null!=this.Jc)?a:this.advance()};
kj.prototype.next=function(){if(null!=this.xe){var a=this.xe;this.xe=null;return a}if(null!=this.Jc)return a=this.Jc.next(),this.Jc.Za()||(this.Jc=null),a;if(this.advance())return this.next();throw Error("No such element");};kj.prototype.remove=function(){return Error("Unsupported operation")};function lj(a,b,c){this.La=a;this.bitmap=b;this.K=c;this.T=131072;this.J=0}g=lj.prototype;
g.dd=function(a){if(a===this.La)return this;var b=ug(this.bitmap),c=Array(0>b?4:2*(b+1));Ff(this.K,0,c,0,2*b);return new lj(a,this.bitmap,c)};g.ve=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=ug(this.bitmap&f-1),k=this.K[2*h],m=this.K[2*h+1];return null==k?(b=m.ve(a,b+5,c,d,e),b===m?this:null!=b?ij(this,a,2*h+1,b):this.bitmap===f?null:mj(this,a,f,h)):fj(d,k)?(e.val=!0,mj(this,a,f,h)):this};
function mj(a,b,c,d){if(a.bitmap===c)return null;a=a.dd(b);b=a.K;var e=b.length;a.bitmap^=c;Ff(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.te=function(){return nj?nj(this.K):oj.call(null,this.K)};g.Gd=function(a,b){return jj(this.K,a,b)};g.Fd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ug(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Fd(a+5,b,c,d):fj(c,e)?f:d};
g.Hc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ug(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=ug(this.bitmap);if(2*m<this.K.length){a=this.dd(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=pj.Hc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?pj.Hc(a,b+5,pe(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new qj(a,m+1,k)}b=Array(2*(m+4));Ff(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Ff(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.dd(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Hc(a,b+5,c,d,e,f),m===h?this:ij(this,a,2*k+1,m);if(fj(d,m))return e===h?this:ij(this,a,2*k+1,e);f.val=!0;f=b+5;d=uj?uj(a,f,m,h,c,d,e):vj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.dd(a);a.K[e]=null;a.K[k]=d;return a};
g.Gc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ug(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ug(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=pj.Gc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?pj.Gc(a+5,pe(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new qj(null,k+1,h)}a=Array(2*
(k+1));Ff(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Ff(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new lj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Gc(a+5,b,c,d,e),k===f?this:new lj(null,this.bitmap,gj(this.K,2*h+1,k));if(fj(c,m))return d===f?this:new lj(null,this.bitmap,gj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=wj?wj(a,m,f,b,c,d):vj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Fc(k);d[c]=null;d[h]=a;return new lj(null,e,d)};
g.se=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ug(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.se(a+5,b,c,d):fj(c,e)?new Y(e,f):d};
g.ue=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ug(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.ue(a+5,b,c),a===h?this:null!=a?new lj(null,this.bitmap,gj(this.K,2*e+1,a)):this.bitmap===d?null:new lj(null,this.bitmap^d,hj(this.K,e))):fj(c,f)?new lj(null,this.bitmap^d,hj(this.K,e)):this};g.oa=function(){return new kj(this.K)};var pj=new lj(null,0,[]);
function xj(a,b,c){var d=a.K,e=d.length;a=Array(2*(a.aa-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new lj(b,k,a)}function yj(a){this.K=a;this.i=0;this.Jc=null}yj.prototype.Za=function(){for(var a=this.K.length;;){if(null!=this.Jc&&this.Jc.Za())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Jc=fe(b))}else return!1}};yj.prototype.next=function(){if(this.Za())return this.Jc.next();throw Error("No such element");};
yj.prototype.remove=function(){return Error("Unsupported operation")};function qj(a,b,c){this.La=a;this.aa=b;this.K=c;this.T=131072;this.J=0}g=qj.prototype;g.dd=function(a){return a===this.La?this:new qj(a,this.aa,Fc(this.K))};g.ve=function(a,b,c,d,e){var f=c>>>b&31,h=this.K[f];if(null==h)return this;b=h.ve(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.aa)return xj(this,a,f);a=ij(this,a,f,b);--a.aa;return a}return ij(this,a,f,b)};g.te=function(){return zj?zj(this.K):Aj.call(null,this.K)};
g.Gd=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Gd(a,b);if(Ne(b))return b;d+=1}else d+=1}else return b};g.Fd=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Fd(a+5,b,c,d):d};g.Hc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=ij(this,a,h,pj.Hc(a,b+5,c,d,e,f)),a.aa+=1,a;b=k.Hc(a,b+5,c,d,e,f);return b===k?this:ij(this,a,h,b)};
g.Gc=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new qj(null,this.aa+1,gj(this.K,f,pj.Gc(a+5,b,c,d,e)));a=h.Gc(a+5,b,c,d,e);return a===h?this:new qj(null,this.aa,gj(this.K,f,a))};g.se=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.se(a+5,b,c,d):d};g.ue=function(a,b,c){var d=b>>>a&31,e=this.K[d];return null!=e?(a=e.ue(a+5,b,c),a===e?this:null==a?8>=this.aa?xj(this,null,d):new qj(null,this.aa-1,gj(this.K,d,a)):new qj(null,this.aa,gj(this.K,d,a))):this};g.oa=function(){return new yj(this.K)};
function Bj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(fj(c,a[d]))return d;d+=2}else return-1}function Cj(a,b,c,d){this.La=a;this.ad=b;this.aa=c;this.K=d;this.T=131072;this.J=0}g=Cj.prototype;g.dd=function(a){if(a===this.La)return this;var b=Array(2*(this.aa+1));Ff(this.K,0,b,0,2*this.aa);return new Cj(a,this.ad,this.aa,b)};
g.ve=function(a,b,c,d,e){b=Bj(this.K,this.aa,d);if(-1===b)return this;e.val=!0;if(1===this.aa)return null;a=this.dd(a);e=a.K;e[b]=e[2*this.aa-2];e[b+1]=e[2*this.aa-1];e[2*this.aa-1]=null;e[2*this.aa-2]=null;--a.aa;return a};g.te=function(){return nj?nj(this.K):oj.call(null,this.K)};g.Gd=function(a,b){return jj(this.K,a,b)};g.Fd=function(a,b,c,d){a=Bj(this.K,this.aa,c);return 0>a?d:fj(c,this.K[a])?this.K[a+1]:d};
g.Hc=function(a,b,c,d,e,f){if(c===this.ad){b=Bj(this.K,this.aa,d);if(-1===b){if(this.K.length>2*this.aa)return b=2*this.aa,c=2*this.aa+1,a=this.dd(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.aa+=1,a;c=this.K.length;b=Array(c+2);Ff(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.aa+1;a===this.La?(this.K=b,this.aa=d,a=this):a=new Cj(this.La,this.ad,d,b);return a}return this.K[b+1]===e?this:ij(this,a,b+1,e)}return(new lj(a,1<<(this.ad>>>b&31),[null,this,null,null])).Hc(a,b,c,d,e,f)};
g.Gc=function(a,b,c,d,e){return b===this.ad?(a=Bj(this.K,this.aa,c),-1===a?(a=2*this.aa,b=Array(a+2),Ff(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Cj(null,this.ad,this.aa+1,b)):F.j(this.K[a+1],d)?this:new Cj(null,this.ad,this.aa,gj(this.K,a+1,d))):(new lj(null,1<<(this.ad>>>a&31),[null,this])).Gc(a,b,c,d,e)};g.se=function(a,b,c,d){a=Bj(this.K,this.aa,c);return 0>a?d:fj(c,this.K[a])?new Y(this.K[a],this.K[a+1]):d};
g.ue=function(a,b,c){a=Bj(this.K,this.aa,c);return-1===a?this:1===this.aa?null:new Cj(null,this.ad,this.aa-1,hj(this.K,sg(a,2)))};g.oa=function(){return new kj(this.K)};function vj(a){switch(arguments.length){case 6:return wj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return uj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function wj(a,b,c,d,e,f){var h=pe(b);if(h===d)return new Cj(null,h,2,[b,c,e,f]);var k=new ej;return pj.Gc(a,h,b,c,k).Gc(a,d,e,f,k)}function uj(a,b,c,d,e,f,h){var k=pe(c);if(k===e)return new Cj(null,k,2,[c,d,f,h]);var m=new ej;return pj.Hc(a,b,k,c,d,m).Hc(a,b,e,f,h,m)}function Dj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=Dj.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ej?Ej(a,b,null):oj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=K(this.s);return Ej?Ej(a,b,c):oj.call(null,a,b,c)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1]):J(this.s)};
g.bb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ej?Ej(c,d,null):oj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=K(a.s);return Ej?Ej(c,d,e):oj.call(null,c,d,e)}();return null!=b?b:Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Dj(b,this.nodes,this.i,this.s,this.I)};g.la=function(a,b){return df(b,this)};Dj.prototype[Cc]=function(){return Ee(this)};
function oj(a){switch(arguments.length){case 1:return nj(arguments[0]);case 3:return Ej(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function nj(a){return Ej(a,0,null)}function Ej(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Dj(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.te(),r(d)))return new Dj(null,a,b+2,d,null);b+=2}else return null;else return new Dj(null,a,b,c,null)}
function Fj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=Fj.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=this.nodes,b=this.i,c=K(this.s);return Gj?Gj(a,b,c):Aj.call(null,a,b,c)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return J(this.s)};g.bb=function(){var a=this.nodes;var b=this.i,c=K(this.s);a=Gj?Gj(a,b,c):Aj.call(null,a,b,c);return null!=a?a:Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Fj(b,this.nodes,this.i,this.s,this.I)};g.la=function(a,b){return df(b,this)};Fj.prototype[Cc]=function(){return Ee(this)};
function Aj(a){switch(arguments.length){case 1:return zj(arguments[0]);case 3:return Gj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function zj(a){return Gj(a,0,null)}function Gj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.te(),r(d)))return new Fj(null,a,b+1,d,null);b+=1}else return null;else return new Fj(null,a,b,c,null)}function Hj(a,b){this.ob=a;this.mh=b;this.seen=!1}
Hj.prototype.Za=function(){return!this.seen||this.mh.Za()};Hj.prototype.next=function(){if(this.seen)return this.mh.next();this.seen=!0;return new Y(null,this.ob)};Hj.prototype.remove=function(){return Error("Unsupported operation")};function Ij(a,b,c,d,e,f){this.meta=a;this.aa=b;this.root=c;this.nb=d;this.ob=e;this.I=f;this.J=16123663;this.T=139268}g=Ij.prototype;g.Yc=function(a,b){return null==b?this.nb?new Y(null,this.ob):null:null==this.root?null:this.root.se(0,pe(b),b,null)};g.toString=function(){return he(this)};
g.equiv=function(a){return this.ca(null,a)};g.keys=function(){return Ee(Zi.B?Zi.B(this):Zi.call(null,this))};g.entries=function(){return new Ui(H(H(this)))};g.values=function(){return Ee($i.B?$i.B(this):$i.call(null,this))};g.has=function(a){return Lf(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return null==b?this.nb?this.ob:c:null==this.root?c:this.root.Fd(0,pe(b),b,c)};
g.va=function(a,b,c){a=this.nb?b.C?b.C(c,null,this.ob):b.call(null,c,null,this.ob):c;return Ne(a)?z(a):null!=this.root?Oe(this.root.Gd(b,a)):a};g.oa=function(){var a=this.root?fe(this.root):lh();return this.nb?new Hj(this.ob,a):a};g.ea=function(){return this.meta};g.ja=function(){return this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return Si(this,b)};g.od=function(){return new Jj(this.root,this.aa,this.nb,this.ob)};g.Ja=function(){return pd(cj,this.meta)};
g.wa=function(a,b){if(null==b)return this.nb?new Ij(this.meta,this.aa-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.ue(0,pe(b),b);return a===this.root?this:new Ij(this.meta,this.aa-1,a,this.nb,this.ob,null)};
g.da=function(a,b,c){if(null==b)return this.nb&&c===this.ob?this:new Ij(this.meta,this.nb?this.aa:this.aa+1,this.root,!0,c,null);a=new ej;b=(null==this.root?pj:this.root).Gc(0,pe(b),b,c,a);return b===this.root?this:new Ij(this.meta,a.val?this.aa+1:this.aa,b,this.nb,this.ob,null)};g.ha=function(){if(0<this.aa){var a=null!=this.root?this.root.te():null;return this.nb?df(new Y(null,this.ob),a):a}return null};g.fa=function(a,b){return b===this.meta?this:new Ij(b,this.aa,this.root,this.nb,this.ob,this.I)};
g.la=function(a,b){if(Df(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Df(c))a=ad(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var cj=new Ij(null,0,null,!1,null,Je);function Kj(a,b){for(var c=a.length,d=0,e=Od(cj);;)if(d<c){var f=d+1;e=Rd(e,a[d],b[d]);d=f}else return Qd(e)}Ij.prototype[Cc]=function(){return Ee(this)};function Jj(a,b,c,d){this.La={};this.root=a;this.count=b;this.nb=c;this.ob=d;this.J=259;this.T=56}
function Lj(a,b,c){if(a.La){if(null==b)a.ob!==c&&(a.ob=c),a.nb||(a.count+=1,a.nb=!0);else{var d=new ej;b=(null==a.root?pj:a.root).Hc(a.La,0,pe(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Jj.prototype;g.ja=function(){if(this.La)return this.count;throw Error("count after persistent!");};g.ma=function(a,b){return null==b?this.nb?this.ob:null:null==this.root?null:this.root.Fd(0,pe(b),b)};
g.R=function(a,b,c){return null==b?this.nb?this.ob:c:null==this.root?c:this.root.Fd(0,pe(b),b,c)};g.pd=function(a,b){a:if(this.La)if(Ai(b))a=Lj(this,Bi.B?Bi.B(b):Bi.call(null,b),Ci.B?Ci.B(b):Ci.call(null,b));else if(Df(b))a=Lj(this,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));else for(a=H(b),b=this;;){var c=J(a);if(r(c))a=K(a),b=Lj(b,Bi.B?Bi.B(c):Bi.call(null,c),Ci.B?Ci.B(c):Ci.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.zd=function(){if(this.La){this.La=null;var a=new Ij(null,this.count,this.root,this.nb,this.ob,null)}else throw Error("persistent! called twice");return a};g.Nd=function(a,b,c){return Lj(this,b,c)};g.Ef=function(a,b){if(this.La)null==b?this.nb&&(this.nb=!1,this.ob=null,--this.count):null!=this.root&&(a=new ej,b=this.root.ve(this.La,0,pe(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function Mj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=lf.j(d,a),a=b;else return d}
function Nj(a,b,c,d,e){this.meta=a;this.stack=b;this.xd=c;this.aa=d;this.I=e;this.J=32374990;this.T=0}g=Nj.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=J(this.stack);a=Mj(this.xd?a.right:a.left,K(this.stack),this.xd);return null==a?null:new Nj(null,a,this.xd,this.aa-1,null)};
g.ja=function(){return 0>this.aa?M(K(this))+1:this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){var a=this.stack;return null==a?null:id(a)};g.bb=function(){var a=J(this.stack);a=Mj(this.xd?a.right:a.left,K(this.stack),this.xd);return null!=a?new Nj(null,a,this.xd,this.aa-1,null):Ce};g.ha=function(){return this};
g.fa=function(a,b){return b===this.meta?this:new Nj(b,this.stack,this.xd,this.aa,this.I)};g.la=function(a,b){return df(b,this)};Nj.prototype[Cc]=function(){return Ee(this)};function Oj(a,b,c){return new Nj(null,Mj(a,null,b),b,c,null)}
function Pj(a,b,c,d){return c instanceof Qj?c.left instanceof Qj?new Qj(c.key,c.val,c.left.Wc(),new Rj(a,b,c.right,d)):c.right instanceof Qj?new Qj(c.right.key,c.right.val,new Rj(c.key,c.val,c.left,c.right.left),new Rj(a,b,c.right.right,d)):new Rj(a,b,c,d):new Rj(a,b,c,d)}
function Sj(a,b,c,d){return d instanceof Qj?d.right instanceof Qj?new Qj(d.key,d.val,new Rj(a,b,c,d.left),d.right.Wc()):d.left instanceof Qj?new Qj(d.left.key,d.left.val,new Rj(a,b,c,d.left.left),new Rj(d.key,d.val,d.left.right,d.right)):new Rj(a,b,c,d):new Rj(a,b,c,d)}
function Tj(a,b,c,d){if(c instanceof Qj)return new Qj(a,b,c.Wc(),d);if(d instanceof Rj)return Sj(a,b,c,d.ye());if(d instanceof Qj&&d.left instanceof Rj)return new Qj(d.left.key,d.left.val,new Rj(a,b,c,d.left.left),Sj(d.key,d.val,d.left.right,d.right.ye()));throw Error("red-black tree invariant violation");}
function Uj(a,b,c,d){if(d instanceof Qj)return new Qj(a,b,c,d.Wc());if(c instanceof Rj)return Pj(a,b,c.ye(),d);if(c instanceof Qj&&c.right instanceof Rj)return new Qj(c.right.key,c.right.val,Pj(c.key,c.val,c.left.ye(),c.right.left),new Rj(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Vj=function Vj(a,b,c){var e=null!=a.left?function(){var k=a.left;return Vj.C?Vj.C(k,b,c):Vj.call(null,k,b,c)}():c;if(Ne(e))return e;var f=function(){var k=a.key,m=a.val;return b.C?b.C(e,k,m):b.call(null,e,k,m)}();if(Ne(f))return f;if(null!=a.right){var h=a.right;return Vj.C?Vj.C(h,b,f):Vj.call(null,h,b,f)}return f};function Rj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=Rj.prototype;
g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();g.vg=function(a){return a.yg(this)};g.ye=function(){return new Qj(this.key,this.val,this.left,this.right)};g.Wc=function(){return this};g.ug=function(a){return a.xg(this)};g.replace=function(a,b,c,d){return new Rj(a,b,c,d)};
g.xg=function(a){return new Rj(a.key,a.val,this,a.right)};g.yg=function(a){return new Rj(a.key,a.val,a.left,this)};g.Gd=function(a,b){return Vj(this,a,b)};g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Dc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Dc(null,b,c)};
g.ea=function(){return null};g.ja=function(){return 2};g.vf=function(){return this.key};g.wf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};g.qc=function(){return new ze([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Qe(this,b)};g.Ta=function(a,b,c){return Re(this,b,c)};
g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new ze([this.key,this.val],0,null)};g.fa=function(a,b){return pd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Rj.prototype[Cc]=function(){return Ee(this)};function Qj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=Qj.prototype;g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();g.vg=function(a){return new Qj(this.key,this.val,this.left,a)};g.ye=function(){throw Error("red-black tree invariant violation");};g.Wc=function(){return new Rj(this.key,this.val,this.left,this.right)};
g.ug=function(a){return new Qj(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new Qj(a,b,c,d)};g.xg=function(a){return this.left instanceof Qj?new Qj(this.key,this.val,this.left.Wc(),new Rj(a.key,a.val,this.right,a.right)):this.right instanceof Qj?new Qj(this.right.key,this.right.val,new Rj(this.key,this.val,this.left,this.right.left),new Rj(a.key,a.val,this.right.right,a.right)):new Rj(a.key,a.val,this,a.right)};
g.yg=function(a){return this.right instanceof Qj?new Qj(this.key,this.val,new Rj(a.key,a.val,a.left,this.left),this.right.Wc()):this.left instanceof Qj?new Qj(this.left.key,this.left.val,new Rj(a.key,a.val,a.left,this.left.left),new Rj(this.key,this.val,this.left.right,this.right)):new Rj(a.key,a.val,a.left,this)};g.Gd=function(a,b){return Vj(this,a,b)};g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};
g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Dc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Dc(null,b,c)};g.ea=function(){return null};g.ja=function(){return 2};g.vf=function(){return this.key};g.wf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};
g.qc=function(){return new ze([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Qe(this,b)};g.Ta=function(a,b,c){return Re(this,b,c)};g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new ze([this.key,this.val],0,null)};g.fa=function(a,b){return pd(new X(null,2,5,Z,[this.key,this.val],null),b)};
g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Qj.prototype[Cc]=function(){return Ee(this)};
var Wj=function Wj(a,b,c,d,e){if(null==b)return new Qj(c,d,null,null);var h=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return Wj.ka?Wj.ka(a,k,c,d,e):Wj.call(null,a,k,c,d,e)}(),null!=h?b.ug(h):null;h=function(){var k=b.right;return Wj.ka?Wj.ka(a,k,c,d,e):Wj.call(null,a,k,c,d,e)}();return null!=h?b.vg(h):null},Xj=function Xj(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Qj){if(b instanceof Qj){var d=
function(){var e=a.right,f=b.left;return Xj.j?Xj.j(e,f):Xj.call(null,e,f)}();return d instanceof Qj?new Qj(d.key,d.val,new Qj(a.key,a.val,a.left,d.left),new Qj(b.key,b.val,d.right,b.right)):new Qj(a.key,a.val,a.left,new Qj(b.key,b.val,d,b.right))}return new Qj(a.key,a.val,a.left,function(){var e=a.right;return Xj.j?Xj.j(e,b):Xj.call(null,e,b)}())}if(b instanceof Qj)return new Qj(b.key,b.val,function(){var e=b.left;return Xj.j?Xj.j(a,e):Xj.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return Xj.j?Xj.j(e,f):Xj.call(null,e,f)}();return d instanceof Qj?new Qj(d.key,d.val,new Rj(a.key,a.val,a.left,d.left),new Rj(b.key,b.val,d.right,b.right)):Tj(a.key,a.val,a.left,new Rj(b.key,b.val,d,b.right))},Yj=function Yj(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.j?a.j(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,Xj(b.left,b.right);if(0>f)return f=function(){var h=b.left;return Yj.P?Yj.P(a,h,c,d):Yj.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof Rj?Tj(b.key,b.val,
f,b.right):new Qj(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return Yj.P?Yj.P(a,h,c,d):Yj.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Rj?Uj(b.key,b.val,b.left,f):new Qj(b.key,b.val,b.left,f):null}return null},Zj=function Zj(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return Zj.P?Zj.P(a,k,c,d):Zj.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return Zj.P?Zj.P(a,k,c,d):Zj.call(null,a,k,c,d)}())};function ak(a,b,c,d,e){this.rc=a;this.tree=b;this.aa=c;this.meta=d;this.I=e;this.J=418776847;this.T=8192}g=ak.prototype;g.Yc=function(a,b){return bk(this,b)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.R(null,a,b)};g.entries=function(){return new Ui(H(H(this)))};g.toString=function(){return he(this)};g.keys=function(){return Ee(Zi.B?Zi.B(this):Zi.call(null,this))};
g.values=function(){return Ee($i.B?$i.B(this):$i.call(null,this))};g.equiv=function(a){return this.ca(null,a)};function bk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.rc.j?a.rc.j(b,d):a.rc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Lf(this,a)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=bk(this,b);return null!=a?a.val:c};g.va=function(a,b,c){return null!=this.tree?Oe(Vj(this.tree,b,c)):c};g.ea=function(){return this.meta};
g.ja=function(){return this.aa};g.qc=function(){return 0<this.aa?Oj(this.tree,!1,this.aa):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return Si(this,b)};g.Ja=function(){return new ak(this.rc,null,0,this.meta,0)};g.wa=function(a,b){a=[null];b=Yj(this.rc,this.tree,b,a);return null==b?null==Ye(a,0)?this:new ak(this.rc,null,0,this.meta,null):new ak(this.rc,b.Wc(),this.aa-1,this.meta,null)};
g.da=function(a,b,c){a=[null];var d=Wj(this.rc,this.tree,b,c,a);return null==d?(a=Ye(a,0),F.j(c,a.val)?this:new ak(this.rc,Zj(this.rc,this.tree,b,c),this.aa,this.meta,null)):new ak(this.rc,d.Wc(),this.aa+1,this.meta,null)};g.ha=function(){return 0<this.aa?Oj(this.tree,!0,this.aa):null};g.fa=function(a,b){return b===this.meta?this:new ak(this.rc,this.tree,this.aa,b,this.I)};
g.la=function(a,b){if(Df(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Df(c))a=ad(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var ck=new ak(Of,null,0,null,Je);ak.prototype[Cc]=function(){return Ee(this)};var dk=function dk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return dk.F(c)};dk.F=function(a){a=H(a);for(var b=Od(cj);;)if(a){var c=K(K(a));b=Xg.C(b,J(a),hf(a));a=c}else return Qd(b)};dk.Y=0;dk.ba=function(a){return this.F(H(a))};
var ek=function ek(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return ek.F(c)};ek.F=function(a){a=a instanceof ze&&0===a.i?a.K:Gc(a);return qf(a)};ek.Y=0;ek.ba=function(a){return this.F(H(a))};function fk(a,b){this.Ha=a;this.nc=b;this.J=32374988;this.T=0}g=fk.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.nc};g.Ma=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null==a?null:new fk(a,null)};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.Ha.Ua(null).key};g.bb=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null!=a?new fk(a,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.nc?this:new fk(this.Ha,b)};g.la=function(a,b){return df(b,this)};
fk.prototype[Cc]=function(){return Ee(this)};function Zi(a){return(a=H(a))?new fk(a,null):null}function Bi(a){return ed(a)}function gk(a,b){this.Ha=a;this.nc=b;this.J=32374988;this.T=0}g=gk.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.nc};g.Ma=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null==a?null:new gk(a,null)};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.Ha.Ua(null).val};g.bb=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null!=a?new gk(a,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.nc?this:new gk(this.Ha,b)};g.la=function(a,b){return df(b,this)};
gk.prototype[Cc]=function(){return Ee(this)};function $i(a){return(a=H(a))?new gk(a,null):null}function Ci(a){return fd(a)}var hk=function hk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return hk.F(c)};hk.F=function(a){return r(qh($f,a))?w.j(function(b,c){return lf.j(r(b)?b:W,c)},a):null};hk.Y=0;hk.ba=function(a){return this.F(H(a))};
var ik=function ik(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return ik.F(arguments[0],c)};ik.F=function(a,b){if(r(qh($f,b))){var c=function(d,e){var f=ed(e),h=fd(e);return Lf(d,f)?R.C(d,f,function(){var k=C.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):R.C(d,f,h)};return w.j(function(d,e){return w.C(c,r(d)?d:W,H(e))},b)}return null};ik.Y=1;ik.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function jk(a,b){var c=W;for(b=H(b);;)if(b){var d=J(b),e=C.C(a,d,kk);c=jh.j(e,kk)?R.C(c,d,e):c;b=K(b)}else return pd(c,uf(a))}function lk(a){this.iter=a}lk.prototype.Za=function(){return this.iter.Za()};lk.prototype.next=function(){if(this.iter.Za())return this.iter.next().key;throw Error("No such element");};lk.prototype.remove=function(){return Error("Unsupported operation")};function mk(a,b,c){this.meta=a;this.ed=b;this.I=c;this.J=15077647;this.T=139268}g=mk.prototype;g.toString=function(){return he(this)};
g.equiv=function(a){return this.ca(null,a)};g.keys=function(){return Ee(H(this))};g.entries=function(){return new Vi(H(H(this)))};g.values=function(){return Ee(H(this))};g.has=function(a){return Lf(this,a)};g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=bd(this.ed,b);return r(a)?ed(a):c};g.oa=function(){return new lk(fe(this.ed))};g.ea=function(){return this.meta};g.ja=function(){return Lc(this.ed)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){if(yf(b))if(M(this)===M(b))try{return Zf(function(c,d){return(c=Lf(b,d))?c:Me(!1)},!0,this.ed)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.od=function(){return new nk(Od(this.ed))};
g.Ja=function(){return pd(ok,this.meta)};g.zf=function(a,b){return new mk(this.meta,dd(this.ed,b),null)};g.ha=function(){return Zi(this.ed)};g.fa=function(a,b){return b===this.meta?this:new mk(b,this.ed,this.I)};g.la=function(a,b){return new mk(this.meta,R.C(this.ed,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var ok=new mk(null,W,Je);function Nf(a){for(var b=a.length,c=Od(ok),d=0;;)if(d<b)Pd(c,a[d]),d+=1;else break;return Qd(c)}mk.prototype[Cc]=function(){return Ee(this)};function nk(a){this.Jd=a;this.T=136;this.J=259}g=nk.prototype;g.pd=function(a,b){this.Jd=Xg.C(this.Jd,b,null);return this};g.zd=function(){return new mk(null,Qd(this.Jd),null)};
g.ja=function(){return M(this.Jd)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return Yc(this.Jd,b,Gf)===Gf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return Yc(this.Jd,a,Gf)===Gf?null:a};
g.j=function(a,b){return Yc(this.Jd,a,Gf)===Gf?b:a};function pk(a){if(yf(a))return tf(a,null);a=H(a);if(null==a)return ok;if(a instanceof ze&&0===a.i)return Nf(a.K);for(var b=Od(ok);;)if(null!=a){var c=K(a);b=Pd(b,Tc(a));a=c}else return Qd(b)}function qk(a){return function e(c,d){return new Hg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=Q(k,0,null);if(k=H(k))if(Lf(f,h))h=Be(k);else{f=df(h,e(Be(k),lf.j(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,ok)}
function rk(a){for(var b=mf;;)if(K(a))b=lf.j(b,J(a)),a=K(a);else return H(b)}function Gg(a){if(null!=a&&(a.T&4096||l===a.xf))return a.ce(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.B(a)].join(""));}function sk(a,b){var c=Od(W);a=H(a);for(b=H(b);;)if(a&&b)c=Xg.C(c,J(a),J(b)),a=K(a),b=K(b);else return Qd(c)}
var tk=function tk(a){switch(arguments.length){case 2:return tk.j(arguments[0],arguments[1]);case 3:return tk.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return tk.F(arguments[0],arguments[1],arguments[2],c)}};tk.j=function(a,b){return b};tk.C=function(a,b,c){return(a.B?a.B(b):a.call(null,b))>(a.B?a.B(c):a.call(null,c))?b:c};
tk.F=function(a,b,c,d){return w.C(function(e,f){return tk.C(a,e,f)},tk.C(a,b,c),d)};tk.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};tk.Y=3;function uk(){this.K=[]}g=uk.prototype;g.add=function(a){return this.K.push(a)};g.size=function(){return this.K.length};g.clear=function(){return this.K=[]};g.isEmpty=function(){return 0===this.K.length};g.toArray=function(){return this.K};
function vk(){return function(a){var b=new uk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Wf(b.toArray()),b.clear(),a.j?a.j(h,k):a.call(null,h,k)):h}function d(h){if(!r(b.isEmpty())){var k=Wf(b.toArray());b.clear();h=Oe(a.j?a.j(h,k):a.call(null,h,k))}return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}}function wk(a,b){return new Hg(null,function(){var c=H(b);if(c){var d=J(c);d=a.B?a.B(d):a.call(null,d);c=r(d)?df(J(c),wk(a,Be(c))):null}else c=null;return c},null,null)}function xk(a,b,c){this.start=a;this.step=b;this.count=c;this.J=82;this.T=0}g=xk.prototype;g.ja=function(){return this.count};g.Ua=function(){return this.start};g.xa=function(a,b){return this.start+b*this.step};
g.Ra=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.Zd=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new xk(this.start+this.step,this.step,this.count-1)};function yk(a,b,c){this.i=a;this.end=b;this.step=c}yk.prototype.Za=function(){return 0<this.step?this.i<this.end:this.i>this.end};yk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function zk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.Wb=e;this.Je=f;this.I=h;this.J=32375006;this.T=140800}g=zk.prototype;g.toString=function(){return he(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();function Ak(a){if(null==a.Wb){var b=a.ja(null);32<b?(a.Je=new zk(null,a.start+32*a.step,a.end,a.step,null,null,null),a.Wb=new xk(a.start,a.step,32)):a.Wb=new xk(a.start,a.step,b)}}
g.xa=function(a,b){if(0<=b&&b<this.ja(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0<=b&&b<this.ja(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.oa=function(){return new yk(this.start,this.end,this.step)};g.ea=function(){return this.meta};
g.Ma=function(){return 0<this.step?this.start+this.step<this.end?new zk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new zk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ja=function(){return Math.ceil((this.end-this.start)/this.step)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return Qe(this,b)};
g.Ta=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Ne(c))return z(c);a+=this.step}else return c};g.Ua=function(){return this.start};g.bb=function(){var a=this.Ma(null);return null==a?Ce:a};g.ha=function(){return this};g.ae=function(){Ak(this);return this.Wb};g.yd=function(){Ak(this);return null==this.Je?Ce:this.Je};g.fa=function(a,b){return b===this.meta?this:new zk(b,this.start,this.end,this.step,this.Wb,this.Je,this.I)};
g.la=function(a,b){return df(b,this)};g.$d=function(){return H(this.yd(null))};zk.prototype[Cc]=function(){return Ee(this)};var Bk=function Bk(a){switch(arguments.length){case 0:return Bk.O();case 1:return Bk.B(arguments[0]);case 2:return Bk.j(arguments[0],arguments[1]);case 3:return Bk.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Bk.O=function(){return Bk.C(0,Number.MAX_VALUE,1)};Bk.B=function(a){return Bk.C(0,a,1)};
Bk.j=function(a,b){return Bk.C(a,b,1)};Bk.C=function(a,b,c){return 0<c?b<=a?Ce:new zk(null,a,b,c,null,null,null):0>c?b>=a?Ce:new zk(null,a,b,c,null,null,null):b===a?Ce:Nh(a)};Bk.Y=3;function Ck(a,b){return new Hg(null,function(){var c=H(b);return c?df(J(c),Ck(a,Jh(a,c))):null},null,null)}function Dk(a,b){return new X(null,2,5,Z,[wk(a,b),Lh(a,b)],null)}
function Ek(a,b){return new Hg(null,function(){var c=H(b);if(c){var d=J(c),e=a.B?a.B(d):a.call(null,d),f=df(d,wk(function(h){return F.j(e,a.B?a.B(h):a.call(null,h))},K(c)));return df(f,Ek(a,new Hg(null,function(){return Jh(M(f),c)},null,null)))}return null},null,null)}function Fk(a){return Qd(w.C(function(b,c){return Xg.C(b,c,C.C(b,c,0)+1)},Od(W),a))}
function Gk(a,b){return function(){function c(m,n,p){return new X(null,2,5,Z,[a.C?a.C(m,n,p):a.call(null,m,n,p),b.C?b.C(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new X(null,2,5,Z,[a.j?a.j(m,n):a.call(null,m,n),b.j?b.j(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.B?a.B(m):a.call(null,m),b.B?b.B(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.O?a.O():a.call(null),b.O?b.O():b.call(null)],null)}var h=null,k=function(){function m(p,u,v,y){var E=null;
if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+3],++E;E=new ze(G,0,null)}return n.call(this,p,u,v,E)}function n(p,u,v,y){return new X(null,2,5,Z,[hh(a,p,u,v,y),hh(b,p,u,v,y)],null)}m.Y=3;m.ba=function(p){var u=J(p);p=K(p);var v=J(p);p=K(p);var y=J(p);p=Be(p);return n(u,v,y,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=arguments[v+3],++v;v=new ze(y,0,null)}return k.F(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.Y=3;h.ba=k.ba;h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()}function Hk(a){a:for(var b=a;;)if(b=H(b))b=K(b);else break a;return a}
function Ik(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&F.j(a[0],b)?1===a.length?a[0]:Wf(a):null;throw new TypeError("re-matches must match against a string.");}function Jk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Wf(a);throw new TypeError("re-find must match against a string.");}
var Lk=function Lk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Wf(d);return df(f,new Hg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=wg.j(b,h),Lk.j?Lk.j(a,h):Lk.call(null,a,h)):null},null,null))};function Mk(a,b){if("string"===typeof b)return Lk(a,b);throw new TypeError("re-seq must match against a string.");}
function Nk(a){if(a instanceof RegExp)return a;var b=Jk(/^\(\?([idmsux]*)\)/,a),c=Q(b,0,null);b=Q(b,1,null);a=wg.j(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")}
function Ok(a,b,c,d,e,f,h){var k=lc;lc=null==lc?null:lc-1;try{if(null!=lc&&0>lc)return A(a,"#");A(a,c);if(0===rc.B(f))H(h)&&A(a,function(){var y=Pk.B(f);return r(y)?y:"..."}());else{if(H(h)){var m=J(h);b.C?b.C(m,a,f):b.call(null,m,a,f)}for(var n=K(h),p=rc.B(f)-1;;)if(!n||null!=p&&0===p){H(n)&&0===p&&(A(a,d),A(a,function(){var y=Pk.B(f);return r(y)?y:"..."}()));break}else{A(a,d);var u=J(n);c=a;h=f;b.C?b.C(u,c,h):b.call(null,u,c,h);var v=K(n);c=p-1;n=v;p=c}}return A(a,e)}finally{lc=k}}
function Qk(a,b){b=H(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);A(a,f);e+=1}else if(b=H(b))c=b,Ef(c)?(b=Xd(c),d=Yd(c),c=b,f=M(b),b=d,d=f):(f=J(c),A(a,f),b=K(c),c=null,d=0),e=0;else return null}function Rk(a){if(null==hc)throw Error("No *print-fn* fn set for evaluation environment");hc.call(null,a);return null}var Sk={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Tk(a){return['"',t.B(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Sk[b]})),'"'].join("")}function Uk(a,b){return If(C.j(a,pc))?null!=b&&(b.J&131072||l===b.Ke)?null!=uf(b):!1:!1}
function Vk(a,b,c){if(null==a)return A(b,"nil");if(Uk(c,a)){A(b,"^");var d=uf(a);Wk.C?Wk.C(d,b,c):Wk.call(null,d,b,c);A(b," ")}if(a.rb)return a.vb(b);if(null!=a?a.J&2147483648||l===a.Ia||(a.J?0:yc(Id,a)):yc(Id,a))return Jd(a,b,c);if(!0===a||!1===a)return A(b,t.B(a));if("number"===typeof a)return A(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.B(a));if(null!=a&&a.constructor===Object)return A(b,"#js "),d=Hh.j(function(f){return new Y(null!=Ik(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Fg.B(f):f,a[f])},gb(a)),Xk.P?Xk.P(d,Wk,b,c):Xk.call(null,d,Wk,b,c);if(uc(a))return Ok(b,Wk,"#js ["," ","]",c,a);if("string"==typeof a)return r(oc.B(c))?A(b,Tk(a)):A(b,a);if(ua(a)){var e=a.name;c=r(function(){var f=null==e;return f?f:tb(e)}())?"Function":e;return Qk(b,P(["#object[",c,r(!1)?[' "',t.B(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.B(f);;)if(f.length<h)f=["0",f].join("");else return f},Qk(b,P(['#inst "',t.B(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Qk(b,P(['#"',a.source,'"']));if(Hc(a))return Qk(b,P(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.kb}()))return Qk(b,P(["#object[",a.constructor.kb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=r(function(){var f=
null==e;return f?f:tb(e)}())?"Object":e;return null==a.constructor?Qk(b,P(["#object[",c,"]"])):Qk(b,P(["#object[",c," ",t.B(a),"]"]))}function Wk(a,b,c){var d=Yk.B(c);return r(d)?(c=R.C(c,Zk,Vk),d.C?d.C(a,b,c):d.call(null,a,b,c)):Vk(a,b,c)}
function $k(a,b){var c=new bc,d=new ge(c);a:{Wk(J(a),d,b);a=H(K(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);A(d," ");Wk(k,d,b);h+=1}else if(a=H(a))e=a,Ef(e)?(a=Xd(e),f=Yd(e),e=a,k=M(a),a=f,f=k):(k=J(e),A(d," "),Wk(k,d,b),a=K(e),e=null,f=0),h=0;else break a}d.Nc(null);return c}function al(a,b){return wf(a)?"":t.B($k(a,b))}function bl(a,b){if(wf(a))return"\n";a=$k(a,b);a.append("\n");return t.B(a)}function cl(){var a=mc();Rk("\n");return C.j(a,nc),null}
var dl=function dl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return dl.F(c)};dl.F=function(a){return al(a,mc())};dl.Y=0;dl.ba=function(a){return this.F(H(a))};var el=function el(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return el.F(c)};el.F=function(a){return bl(a,mc())};el.Y=0;el.ba=function(a){return this.F(H(a))};
var fl=function fl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return fl.F(c)};fl.F=function(a){return al(a,R.C(mc(),oc,!1))};fl.Y=0;fl.ba=function(a){return this.F(H(a))};var gl=function gl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return gl.F(c)};gl.F=function(a){return bl(a,R.C(mc(),oc,!1))};gl.Y=0;gl.ba=function(a){return this.F(H(a))};
function hl(a){return a instanceof B?te.j(null,Gg(a)):Fg.j(null,Gg(a))}function il(a){if(r(!1)){var b=H(a),c=H(b),d=J(c);K(c);Q(d,0,null);Q(d,1,null);c=of(a);for(a=null;;){d=a;b=H(b);a=J(b);var e=K(b),f=a;a=Q(f,0,null);b=Q(f,1,null);if(r(f))if(a instanceof D||a instanceof B)if(r(d))if(F.j(d,Dg(a)))c=R.C(c,hl(a),b),a=d,b=e;else return null;else if(d=Dg(a),r(d))c=R.C(c,hl(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function jl(a,b,c,d,e){return Ok(d,function(f,h,k){var m=ed(f);c.C?c.C(m,h,k):c.call(null,m,h,k);A(h," ");f=fd(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[t.B(a),"{"].join(""),", ","}",e,H(b))}function Xk(a,b,c,d){var e=Af(a)?il(a):null,f=Q(e,0,null);e=Q(e,1,null);return r(f)?jl(["#:",t.B(f)].join(""),e,b,c,d):jl(null,a,b,c,d)}Dh.prototype.Ia=l;Dh.prototype.ga=function(a,b,c){A(b,"#object[cljs.core.Volatile ");Wk(new q(null,1,[kl,this.state],null),b,c);return A(b,"]")};ue.prototype.Ia=l;
ue.prototype.ga=function(a,b,c){A(b,"#'");return Wk(this.Id,b,c)};ze.prototype.Ia=l;ze.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Hg.prototype.Ia=l;Hg.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Y.prototype.Ia=l;Y.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Nj.prototype.Ia=l;Nj.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Dj.prototype.Ia=l;Dj.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};
Rj.prototype.Ia=l;Rj.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Xi.prototype.Ia=l;Xi.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Fe.prototype.Ia=l;Fe.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Ei.prototype.Ia=l;Ei.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Bg.prototype.Ia=l;Bg.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};bf.prototype.Ia=l;
bf.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Ij.prototype.Ia=l;Ij.prototype.ga=function(a,b,c){return Xk(this,Wk,b,c)};Fj.prototype.Ia=l;Fj.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Gi.prototype.Ia=l;Gi.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};ak.prototype.Ia=l;ak.prototype.ga=function(a,b,c){return Xk(this,Wk,b,c)};mk.prototype.Ia=l;mk.prototype.ga=function(a,b,c){return Ok(b,Wk,"#{"," ","}",c,this)};Mg.prototype.Ia=l;
Mg.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};yh.prototype.Ia=l;yh.prototype.ga=function(a,b,c){A(b,"#object[cljs.core.Atom ");Wk(new q(null,1,[kl,this.state],null),b,c);return A(b,"]")};gk.prototype.Ia=l;gk.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Qj.prototype.Ia=l;Qj.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Mh.prototype.Ia=l;Mh.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};X.prototype.Ia=l;
X.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Ni.prototype.Ia=l;Ni.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};yg.prototype.Ia=l;yg.prototype.ga=function(a,b){return A(b,"()")};Oi.prototype.Ia=l;Oi.prototype.ga=function(a,b,c){return Ok(b,Wk,"#queue ["," ","]",c,H(this))};q.prototype.Ia=l;q.prototype.ga=function(a,b,c){return Xk(this,Wk,b,c)};zk.prototype.Ia=l;zk.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};fk.prototype.Ia=l;
fk.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};nf.prototype.Ia=l;nf.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};B.prototype.Xc=l;B.prototype.Mc=function(a,b){if(b instanceof B)return se(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};D.prototype.Xc=l;D.prototype.Mc=function(a,b){if(b instanceof D)return Cg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Gi.prototype.Xc=l;
Gi.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};X.prototype.Xc=l;X.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Y.prototype.Xc=l;Y.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Rj.prototype.Xc=l;
Rj.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Qj.prototype.Xc=l;Qj.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};function ll(a,b){Md(a,ml,b)}var nl=null;function ol(a){null==nl&&(nl=zh(0));return te.B([t.B(a),t.B(Bh.j(nl,Ke))].join(""))}function pl(a){this.f=a;this.value=null;this.J=2147516416;this.T=1}
pl.prototype.ub=function(){r(this.f)&&(this.value=this.f.O?this.f.O():this.f.call(null),this.f=null);return this.value};pl.prototype.Le=function(){return wc(this.f)};pl.prototype.ga=function(a,b,c){A(b,"#object[cljs.core.Delay ");Wk(new q(null,2,[ql,null==this.f?rl:sl,kl,this.value],null),b,c);return A(b,"]")};function tl(a){return a instanceof pl?z(a):a}function ul(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return Ne(b)?Me(b):b}}
function vl(a){var b=ul(a);return function(){function c(h,k){return w.C(b,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}function wl(){}
function xl(a){if(null!=a&&null!=a.Vh)a=a.Vh(a);else{var b=xl[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=xl._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IEncodeJS.-clj-\x3ejs",a);}return a}function yl(a,b){return(null!=a?l===a.Uh||(a.rd?0:yc(wl,a)):yc(wl,a))?xl(a):"string"===typeof a||"number"===typeof a||a instanceof D||a instanceof B?b.B?b.B(a):b.call(null,a):dl.F(P([a]))}
var zl=function zl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return zl.F(arguments[0],c)};
zl.F=function(a,b){b=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;var c=C.C(b,Al,Gg),d=function h(f){if(null==f)return null;if(null!=f?l===f.Uh||(f.rd?0:yc(wl,f)):yc(wl,f))return xl(f);if(f instanceof D)return c.B?c.B(f):c.call(null,f);if(f instanceof B)return t.B(f);if(Af(f)){var k={};f=H(f);for(var m=null,n=0,p=0;;)if(p<n){var u=m.xa(null,p),v=Q(u,0,null);u=Q(u,1,null);v=yl(v,d);u=h(u);k[v]=u;p+=1}else if(f=H(f))Ef(f)?(n=Xd(f),f=Yd(f),m=n,n=M(n)):(n=J(f),m=Q(n,0,null),n=Q(n,1,null),m=yl(m,d),n=h(n),k[m]=
n,f=K(f),m=null,n=0),p=0;else break;return k}if(xf(f)){k=[];f=H(Hh.j(h,f));m=null;for(p=n=0;;)if(p<n)v=m.xa(null,p),k.push(v),p+=1;else if(f=H(f))m=f,Ef(m)?(f=Xd(m),p=Yd(m),m=f,n=M(f),f=p):(f=J(m),k.push(f),f=K(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};zl.Y=1;zl.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};function Bl(){}
function Cl(a,b){if(null!=a&&null!=a.Th)a=a.Th(a,b);else{var c=Cl[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Cl._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IEncodeClojure.-js-\x3eclj",a);}return a}
function Dl(a){var b=P([El,!1]),c=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;c=C.j(c,El);var d=r(c)?Fg:t;return function h(f){return(null!=f?l===f.tj||(f.rd?0:yc(Bl,f)):yc(Bl,f))?Cl(f,dh(ek,b)):Hf(f)?Hk(Hh.j(h,f)):Ai(f)?new Y(h(ed(f)),h(fd(f))):xf(f)?Xh.C(of(f),Hh.B(h),f):uc(f)?Qd(w.C(function(k,m){return Vg.j(k,h(m))},Od(mf),f)):zc(f)===Object?Qd(w.C(function(k,m){return Xg.C(k,d.B?d.B(m):d.call(null,m),h(hb(f,m)))},Od(W),gb(f))):f}(a)}
function Fl(a){var b=zh(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new ze(h,0,null)}return d.call(this,f)}function d(e){var f=C.C(z(b),e,Gf);return f===Gf?(f=dh(a,e),Bh.P(b,R,e,f),f):f}c.Y=0;c.ba=function(e){e=H(e);return d(e)};c.F=d;return c}()}
var Gl=function Gl(a){switch(arguments.length){case 0:return Gl.O();case 1:return Gl.B(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Gl.O=function(){return Gl.B(1)};Gl.B=function(a){return Math.random()*a};Gl.Y=1;function Hl(a){return Math.floor(Math.random()*a)}function Il(a,b){return Qd(w.C(function(c,d){var e=a.B?a.B(d):a.call(null,d);return Xg.C(c,e,lf.j(C.C(c,e,mf),d))},Od(W),b))}var Jl=null;
function Kl(){null==Jl&&(Jl=zh(new q(null,3,[Ll,W,Ml,W,Nl,W],null)));return Jl}function Ol(a,b,c){var d=F.j(b,c);if(d)return d;d=Nl.B(a);d=d.B?d.B(b):d.call(null,b);if(d=Lf(d,c))return d;if(Df(c))if(Df(b))if(M(c)===M(b)){d=!0;for(var e=0;;)if(d&&e!==M(c))d=Ol(a,b.B?b.B(e):b.call(null,e),c.B?c.B(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function Pl(a){var b=z(Kl());return kh(C.j(Ll.B(b),a))}
function Ql(a,b,c,d){Bh.j(a,function(){return z(b)});Bh.j(c,function(){return z(d)})}
var Rl=function Rl(a,b,c){var e=function(){var f=z(c);return f.B?f.B(a):f.call(null,a)}();e=r(r(e)?e.B?e.B(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=Pl(b);;)if(0<M(f)){var h=J(f);Rl.C?Rl.C(a,h,c):Rl.call(null,a,h,c);f=Be(f)}else return null}();if(r(e))return e;e=function(){for(var f=Pl(a);;)if(0<M(f)){var h=J(f);Rl.C?Rl.C(h,b,c):Rl.call(null,h,b,c);f=Be(f)}else return null}();return r(e)?e:!1};function Sl(a,b,c,d){c=Rl(a,b,c);return r(c)?c:Ol(d,a,b)}
var Tl=function Tl(a,b,c,d,e,f,h,k){var n=w.C(function(u,v){var y=Q(v,0,null);Q(v,1,null);if(Ol(z(c),b,y)){u=null==u||Sl(y,J(u),e,z(c))?v:u;if(!Sl(J(u),y,e,z(c)))throw Error(["Multiple methods in multimethod '",t.B(a),"' match dispatch value: ",t.B(b)," -\x3e ",t.B(y)," and ",t.B(J(u)),", and neither is preferred"].join(""));return u}return u},null,z(d)),p=function(){if(null==n){var u=z(d);u=u.B?u.B(k):u.call(null,k)}else u=!1;return r(u)?new X(null,2,5,Z,[k,u],null):n}();if(r(p)){if(F.j(z(h),z(c)))return Bh.P(f,
R,b,hf(p)),hf(p);Ql(f,d,h,c);return Tl.qb?Tl.qb(a,b,c,d,e,f,h,k):Tl.call(null,a,b,c,d,e,f,h,k)}return null};function Ul(a,b,c){if(null!=a&&null!=a.gb)a.gb(a,b,c);else{var d=Ul[ra(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Ul._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IMultiFn.-add-method",a);}}function Vl(a,b){throw Error(["No method in multimethod '",t.B(a),"' for dispatch value: ",t.B(b)].join(""));}
function Wl(a,b,c,d,e,f,h){var k=Xl;this.name=a;this.ra=b;this.li=k;this.hierarchy=c;this.df=d;this.cj=e;this.cf=f;this.Ge=h;this.J=4194305;this.T=4352}g=Wl.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Db(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Fb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.be(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.O=function(){var a=this.ra.O?this.ra.O():this.ra.call(null),b=Yl(this,a);r(b)||Vl(this.name,a);return b.O?b.O():b.call(null)};g.B=function(a){var b=this.ra.B?this.ra.B(a):this.ra.call(null,a),c=Yl(this,b);r(c)||Vl(this.name,b);return c.B?c.B(a):c.call(null,a)};
g.j=function(a,b){var c=this.ra.j?this.ra.j(a,b):this.ra.call(null,a,b),d=Yl(this,c);r(d)||Vl(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};g.C=function(a,b,c){var d=this.ra.C?this.ra.C(a,b,c):this.ra.call(null,a,b,c),e=Yl(this,d);r(e)||Vl(this.name,d);return e.C?e.C(a,b,c):e.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.ra.P?this.ra.P(a,b,c,d):this.ra.call(null,a,b,c,d),f=Yl(this,e);r(f)||Vl(this.name,e);return f.P?f.P(a,b,c,d):f.call(null,a,b,c,d)};
g.ka=function(a,b,c,d,e){var f=this.ra.ka?this.ra.ka(a,b,c,d,e):this.ra.call(null,a,b,c,d,e),h=Yl(this,f);r(h)||Vl(this.name,f);return h.ka?h.ka(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Qa=function(a,b,c,d,e,f){var h=this.ra.Qa?this.ra.Qa(a,b,c,d,e,f):this.ra.call(null,a,b,c,d,e,f),k=Yl(this,h);r(k)||Vl(this.name,h);return k.Qa?k.Qa(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Ib=function(a,b,c,d,e,f,h){var k=this.ra.Ib?this.ra.Ib(a,b,c,d,e,f,h):this.ra.call(null,a,b,c,d,e,f,h),m=Yl(this,k);r(m)||Vl(this.name,k);return m.Ib?m.Ib(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){var m=this.ra.qb?this.ra.qb(a,b,c,d,e,f,h,k):this.ra.call(null,a,b,c,d,e,f,h,k),n=Yl(this,m);r(n)||Vl(this.name,m);return n.qb?n.qb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Jb=function(a,b,c,d,e,f,h,k,m){var n=this.ra.Jb?this.ra.Jb(a,b,c,d,e,f,h,k,m):this.ra.call(null,a,b,c,d,e,f,h,k,m),p=Yl(this,n);r(p)||Vl(this.name,n);return p.Jb?p.Jb(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.xb=function(a,b,c,d,e,f,h,k,m,n){var p=this.ra.xb?this.ra.xb(a,b,c,d,e,f,h,k,m,n):this.ra.call(null,a,b,c,d,e,f,h,k,m,n),u=Yl(this,p);r(u)||Vl(this.name,p);return u.xb?u.xb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.yb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.ra.yb?this.ra.yb(a,b,c,d,e,f,h,k,m,n,p):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p),v=Yl(this,u);r(v)||Vl(this.name,u);return v.yb?v.yb(a,b,c,d,e,f,h,k,m,n,p):v.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.ra.zb?this.ra.zb(a,b,c,d,e,f,h,k,m,n,p,u):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u),y=Yl(this,v);r(y)||Vl(this.name,v);return y.zb?y.zb(a,b,c,d,e,f,h,k,m,n,p,u):y.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var y=this.ra.Ab?this.ra.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v),E=Yl(this,y);r(E)||Vl(this.name,y);return E.Ab?E.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){var E=this.ra.Bb?this.ra.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y),G=Yl(this,E);r(G)||Vl(this.name,E);return G.Bb?G.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E){var G=this.ra.Cb?this.ra.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E),I=Yl(this,G);r(I)||Vl(this.name,G);return I.Cb?I.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G){var I=this.ra.Db?this.ra.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G),N=Yl(this,I);r(N)||Vl(this.name,I);return N.Db?N.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I){var N=this.ra.Eb?this.ra.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I),O=Yl(this,N);r(O)||Vl(this.name,N);return O.Eb?O.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){var O=this.ra.Fb?this.ra.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N),U=Yl(this,O);r(U)||Vl(this.name,O);return U.Fb?U.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O){var U=this.ra.Gb?this.ra.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O),ea=Yl(this,U);r(ea)||Vl(this.name,U);return ea.Gb?ea.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U){var ea=this.ra.Hb?this.ra.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U),fa=Yl(this,ea);r(fa)||Vl(this.name,ea);return fa.Hb?fa.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):fa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U)};
g.be=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea){var fa=ih(this.ra,a,b,c,d,P([e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea])),qa=Yl(this,fa);r(qa)||Vl(this.name,fa);return ih(qa,a,b,c,d,P([e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea]))};g.gb=function(a,b,c){Bh.P(this.df,R,b,c);Ql(this.cf,this.df,this.Ge,this.hierarchy);return this};
function Yl(a,b){F.j(z(a.Ge),z(a.hierarchy))||Ql(a.cf,a.df,a.Ge,a.hierarchy);var c=z(a.cf);c=c.B?c.B(b):c.call(null,b);return r(c)?c:Tl(a.name,b,a.hierarchy,a.df,a.cj,a.cf,a.Ge,a.li)}g.ce=function(){return Zd(this.name)};g.de=function(){return $d(this.name)};g.ia=function(){return xa(this)};function Zl(a){this.Ld=a;this.I=null;this.J=2153775104;this.T=2048}g=Zl.prototype;g.toString=function(){return this.Ld};g.equiv=function(a){return this.ca(null,a)};
g.ca=function(a,b){return b instanceof Zl&&this.Ld===b.Ld};g.ga=function(a,b){return A(b,['#uuid "',t.B(this.Ld),'"'].join(""))};g.ia=function(){null==this.I&&(this.I=pe(this.Ld));return this.I};g.Mc=function(a,b){return Za(this.Ld,b.Ld)};
function $l(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return new Zl([t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("").toLowerCase())}
function am(a,b,c){var d=Error(a);this.message=a;this.data=b;this.Cg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}am.prototype.__proto__=Error.prototype;am.prototype.Ia=l;
am.prototype.ga=function(a,b,c){A(b,"#error {:message ");Wk(this.message,b,c);r(this.data)&&(A(b,", :data "),Wk(this.data,b,c));r(this.Cg)&&(A(b,", :cause "),Wk(this.Cg,b,c));return A(b,"}")};am.prototype.toString=function(){return he(this)};function bm(a,b){return new am(a,b,null)}
function cm(){r(Ec)||(Ec=function(){for(var a=Rf(function(e,f){return f.length-e.length},gb(Dc)),b="";;)if(H(a)){var c=K(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.B(J(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Ec}
function dm(a){var b=t.B(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(cm(),"g");b=r(sb(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=Q(f,0,null),d=[d,t.B(b.substring(e,c.lastIndex-f.length)),t.B("$"===f?"/":hb(Dc,f))].join(""),e=c.lastIndex;else{c=[d,t.B(b.substring(e,b.length))].join("");break a}}}a=a instanceof B?te:t;return a.B?a.B(c):a.call(null,c)}"undefined"!==typeof console&&sc();sc();var em=new D(null,"ns","ns",441598760),fm=new D(null,"expected","expected",1583670997),gm=new D(null,"components","components",-1073188942),hm=new D(null,"div.flex-1","div.flex-1",2004402050),im=new D(null,"data-error","data-error",-1058016301),jm=new D("geoplot.feature","feature-projection","geoplot.feature/feature-projection",-1990940774),km=new D(null,"apparent-success","apparent-success",242592222),nm=new B(null,aa,aa,770546058,null),om=new D("chsk","error","chsk/error",-984175439),pm=new D(null,
"p2","p2",905500641),qm=new B(null,"defrecord*","defrecord*",-1936366207,null),rm=new D(null,"p1","p1",-936759954),sm=new D(null,"level","level",1290497552),tm=new D("db","current-tx","db/current-tx",1600722132),um=new D(null,"type-tag","type-tag",-1873863267),vm=new D(null,"?err_","?err_",789480858),wm=new D(null,"ms","ms",-1152709733),xm=new D(null,"middleware-fn","middleware-fn",-61585752),ym=new D(null,"readers","readers",-2118263030),zm=new D(null,"line","line",212345235),Am=new B(null,"!\x3d",
"!\x3d",-201205829,null),Bm=new D("db","unique","db/unique",329396388),Cm=new D("db","isComponent","db/isComponent",423352398),Dm=new D(ha,"flush-tuples","datascript.db/flush-tuples",-797350002),Em=new D("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Fm=new B(null,"ns*","ns*",1840949383,null),Gm=new D(null,"lp-timeout","lp-timeout",1149461302),Hm=new D(null,"div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer","div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer",
-1098663220),Im=new D(null,"start-block-t","start-block-t",-373430594),Jm=new D(null,"limit","limit",-1355822363),Km=new D(null,"on-dispose","on-dispose",2105306360),Lm=new D(null,"per-line-prefix","per-line-prefix",846941813),Mm=new D(null,"form-str","form-str",871608859),Nm=new D("db.type","tuple","db.type/tuple",938234914),Om=new D("lookup-ref","unique","lookup-ref/unique",-960647710),Pm=new D(ha,"value-tempids","datascript.db/value-tempids",244806162),Qm=new B(da,"ends-with?","clojure.string/ends-with?",
-745964149,null),Rm=new D(null,"headers","headers",-835030129),Sm=new D(null,"string","string",-1989541586),Tm=new D(null,"avet","avet",1383857032),Um=new D(null,"data","data",-232669377),Vm=new D(null,"factor","factor",-2103172748),Uu=new D("widget.type","codemirror","widget.type/codemirror",2093288987),Wm=new B(null,"identity","identity",-1007039734,null),Xm=new B(null,"max","max",1701898075,null),Ym=new D(null,"end-line","end-line",1837326455),Zm=new B(null,"fn*","fn*",-752876845,null),$m=new D(null,
"ks","ks",1900203942),an=new D(ca,"amp","cljs.spec.alpha/amp",831147508),bn=new D("transact","syntax","transact/syntax",-299207078),cn=new D(null,"abort","abort",521193198),dn=new D(null,"allow","allow",-1857325745),en=new D(null,"source","source",-433931539),fn=new D(null,"done-nl","done-nl",-381024340),gn=new D(null,"private","private",-558947994),hn=new D(null,"bindings","bindings",1271397192),jn=new D(ca,"alt","cljs.spec.alpha/alt",523685437),kn=new D(null,"?status","?status",938730360),ln=new B(aa,
"fn","cljs.core/fn",-1065745098,null),mn=new B(null,"median","median",-2084869638,null),ql=new D(null,"status","status",-1997798413),nn=new D(null,"version","version",425292698),on=new D(null,"circle","circle",1903212362),Ml=new D(null,"descendants","descendants",1824886031),pn=new D(null,"report","report",1394055010),qn=new D(null,"strs","strs",1175537277),rn=new D(null,"start","start",-355208981),sn=new D(null,"days","days",-1394072564),tn=new D(null,"ns-whitelist","ns-whitelist",-1717299774),un=
new B(null,"identical?","identical?",-745864205,null),vn=new B(null,"complement","complement",-913606051,null),wn=new B(aa,"deref","cljs.core/deref",1901963335,null),xn=new D("transact","cas","transact/cas",816687170),yn=new D(null,"on-click","on-click",1632826543),zn=new D(null,"recur","recur",-437573268),An=new D(ca,"nil","cljs.spec.alpha/nil",1733813950),Bn=new D(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),Cn=new D("db.fn","cas","db.fn/cas",-379352172),Dn=new D(null,"deny-spec","deny-spec",
-1074984268),En=new D(null,"port","port",1534937262),Fn=new D("chsk","timeout","chsk/timeout",-319776489),Gn=new D(null,"*?data*","*?data*",1047537922),Hn=new D(null,"http","http",382524695),In=new D(null,"mandatory","mandatory",542802336),Jn=new B(null,"resolve-datom","resolve-datom",-294110827,null),Kn=new D(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Ln=new D(null,"udt","udt",2011712751),Mn=new D(null,"length","length",588987862),Nn=new D(null,"end-column","end-column",1425389514),On=new D(null,
"appender-id","appender-id",-1917983538),Pn=new B(null,"with-open","with-open",172119667,null),Qn=new D(null,"timeout-ms","timeout-ms",754221406),Rn=new D(null,"getInitialState","getInitialState",1541760916),Sn=new D(null,"ps","ps",292358046),ml=new D("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),Tn=new D(null,"opts","opts",155075701),Un=new B(null,"list","list",-1889078086,null),Vn=new D(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),Wn=new D(null,"not-delivered",
"not-delivered",1599158697),Xn=new B(null,"if-not","if-not",-265415609,null),Yn=new D(null,"blacklist","blacklist",1248093170),Zn=new D(ia,"expand-rev","datascript.pull-api/expand-rev",2143627459),$n=new D(null,"state","state",-1988618099),ao=new D(null,"base-args","base-args",-1268706822),bo=new D(null,"db-before","db-before",-553691536),co=new B(null,"\x3d\x3d","\x3d\x3d",-234118149,null),eo=new B(aa,"unquote","cljs.core/unquote",1013085760,null),fo=new D(null,"return-map","return-map",1620104901),
kk=new D(aa,"not-found","cljs.core/not-found",-1572889185),go=new D(null,"eids","eids",1546550700),ho=new D(null,"no-cache","no-cache",1588056370),io=new B(null,"compare","compare",1109853757,null),jo=new D(null,"vargs_","vargs_",552132148),ko=new D(null,"server","server",1499190120),lo=new D(null,"expand-rev","expand-rev",1249112650),mo=new D(null,"def","def",-1043430536),no=new B(null,"dotimes","dotimes",-818708397,null),oo=new D(null,"raw-console?","raw-console?",-2061489061),po=new D(null,"conform-keys",
"conform-keys",-1800041814),qo=new D("widget.type","vega-lite","widget.type/vega-lite",1594251738),ro=new D(null,"exception","exception",-335277064),so=new D(null,"op","op",-1882987955),to=new B(null,"finally","finally",-1065347064,null),uo=new B(null,"str","str",-1564826950,null),vo=new B(null,"/","/",-1371932971,null),wo=new B(null,"stddev","stddev",775056588,null),xo=new D(null,"buffering","buffering",-876713613),yo=new B(aa,"string?","cljs.core/string?",-2072921719,null),zo=new D("ajax","bad-response-type",
"ajax/bad-response-type",789441015),Ao=new D("db","tupleAttrs","db/tupleAttrs",250080092),Go=new D(null,"clean?","clean?",-1675631009),Ho=new D(null,"tx-meta","tx-meta",1159283194),Io=new D(null,"prefix-clauses","prefix-clauses",1294180028),Jo=new D(null,"illegal-argument","illegal-argument",-1845493170),Ko=new D(null,"opt-un","opt-un",883442496),Lo=new D(null,"first-open?","first-open?",396686530),Mo=new D("chsk","ws-ping","chsk/ws-ping",191675304),No=new D(null,"rule","rule",729973257),Oo=new D("debug",
"timeout","debug/timeout",309499949),eX=new D("widget.codemirror","width","widget.codemirror/width",851267293),Po=new D("schema","validation","schema/validation",1178447161),Qo=new D(null,"right-margin","right-margin",-810413306),Ro=new D(null,"wildcard?","wildcard?",-686044101),So=new B(null,"pos?","pos?",-244377722,null),To=new D("query","inputs","query/inputs",1042810394),Uo=new D(null,"wrong-id-type","wrong-id-type",-1213601689),Vo=new D(null,"exponentchar","exponentchar",1986664222),Wo=new D(null,
"attribute","attribute",-2074029119),Xo=new B(null,"default","default",-347290801,null),Yo=new B(da,"includes?","clojure.string/includes?",-1842146260,null),Zo=new D(null,"tx","tx",466630418),$o=new D("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),ap=new B(null,"locking","locking",1542862874,null),bp=new D(null,"uid","uid",-1447769400),cp=new D(null,"directive","directive",793559132),dp=new D(null,"function-components","function-components",1492814963),ep=new B(null,"subs","subs",
1453849536,null),fp=new D(null,"seq","seq",-1817803783),gp=new D(null,"qname","qname",-1983612179),hp=new D(null,"where","where",-2044795965),ip=new B(null,"pr-str","pr-str",-2066912145,null),jp=new D(null,"set","set",304602554),kp=new D(null,"flush?","flush?",-108887231),lp=new B(null,"or-join","or-join",591375469,null),mp=new D(null,"handshake?","handshake?",-423743093),np=new D(ca,"name","cljs.spec.alpha/name",205233570),op=new B(null,"sum","sum",1777518341,null),pp=new B(null,"some?","some?",
234752293,null),qp=new B(null,"min","min",2085523049,null),rp=new D(null,"div.flex-1.bg-white.px-3.py-1.font-thin","div.flex-1.bg-white.px-3.py-1.font-thin",1633962198),sp=new D(null,"handshake","handshake",68079331),tp=new D(null,"error","error",-978969032),up=new D(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),vp=new D(null,"base","base",185279322),wp=new D(null,"actual","actual",107306363),xp=new D(null,"event","event",301435442),yp=new D(null,"noop","noop",-673731258),zp=new D(null,
"trailing-white-space","trailing-white-space",1496006996),Ap=new D(null,"div","div",1057191632),Bp=new B(null,"letfn*","letfn*",-110097810,null),Cp=new D(null,"handshake-data","handshake-data",-278378864),Dp=new D(null,"prefix","prefix",-265908465),Ep=new D("geoplot.style","fill","geoplot.style/fill",-660763808),Fp=new D("parser","binding","parser/binding",-346395752),Gp=new B(null,"$","$",-1580747756,null),Hp=new D("query","binding","query/binding",698240489),Ip=new D(null,"right-params","right-params",
-1790676237),Jp=new D(null,"start-pos","start-pos",668789086),Al=new D(null,"keyword-fn","keyword-fn",-64566675),Kp=new D(null,"first","first",-644103046),Lp=new D(null,"span.text-lg.text-gray-700.py-6.px-1","span.text-lg.text-gray-700.py-6.px-1",404603069),Mp=new B(null,"let*","let*",1920721458,null),Np=new D(null,"pathname","pathname",-1420497528),Op=new B(null,"limit","limit",284709164,null),Pp=new D("widget","children","widget/children",485181574),Qp=new D("db.fn","retractEntity","db.fn/retractEntity",
-1423535441),Rp=new D(null,"component-will-unmount","component-will-unmount",-2058314698),Sp=new B(null,"re-seq","re-seq",-2105554076,null),cX=new D("widget.code","height","widget.code/height",-212278101),Tp=new B(null,"when-first","when-first",821699168,null),Up=new D(null,"ns-blacklist","ns-blacklist",1957763142),Vp=new D(null,"?err","?err",549653299),Wp=new D(null,"depth","depth",1768663640),Xp=new D(null,"multi?","multi?",-749311069),Yp=new D(null,"onmessage-fn","onmessage-fn",1633804172),Zp=
new D(null,"?error","?error",1070752222),$p=new D(null,"href","href",-793805698),aq=new B(null,"recur","recur",1202958259,null),bq=new D("widget.type","markdown","widget.type/markdown",177221797),cq=new B(null,"variance","variance",-1522424942,null),dq=new D(null,"type","type",1174270348),eq=new D(null,"none","none",1333468478),fq=new B(null,"_","_",-1201019570,null),gq=new D(null,"style","style",-496642736),hq=new D(null,"impl_","impl_",1218818179),iq=new D("parser","rule-var","parser/rule-var",
-1584354459),jq=new D(null,"callback","callback",-705136228),kq=new D(null,"reader-error","reader-error",1610253121),lq=new B(null,"v","v",1661996586,null),mq=new D(ca,"op","cljs.spec.alpha/op",-1269055252),nq=new B(null,"m","m",-1021758608,null),sq=new D("widget.code","value","widget.code/value",-661433646),oq=new B(null,"k","k",-505765866,null),qq=new D(null,"ws","ws",86841443),rq=new D(null,"span","span",1394872991),tq=new D(null,"async?","async?",1523057758),uq=new D("entity-id","missing","entity-id/missing",
1234588374),vq=new B(null,"count","count",-514511684,null),wq=new D(null,"no-stacktrace?","no-stacktrace?",1701072694),xq=new D(null,"code","code",1586293142),yq=new D(null,"keys","keys",1068423698),zq=new D(null,"qfind","qfind",1529332972),Aq=new D(null,"intra-block-nl","intra-block-nl",1808826875),Bq=new D("parser","rule-vars","parser/rule-vars",-1493174969),Cq=new D(null,"gen-max","gen-max",-793680445),pc=new D(null,"meta","meta",1499536964),Dq=new B(null,"not-join","not-join",-645515756,null),
Eq=new D(null,"deny","deny",1589338523),Fq=new D("widget.type","html","widget.type/html",-2034153477),Gq=new D(null,"subpattern","subpattern",45002743),Hq=new D(null,"datoms","datoms",-290874434),Iq=new D(null,"search","search",1564939822),Jq=new D("geoplot.feature","style","geoplot.feature/style",-895485302),Kq=new D(null,"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500","div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500",2054366269),Lq=
new D("literate","widget","literate/widget",-1743430817),Mq=new D(null,"right","right",-452581833),Nq=new B(null,"println-str","println-str",-2049216703,null),Oq=new D(null,"host","host",-1558485167),Pq=new D(null,"err","err",-2089457205),Qq=new B(null,"when","when",1064114221,null),Rq=new B(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),Sq=new B(aa,"set?","cljs.core/set?",-1176684971,null),Tq=new D(null,"logical-blocks","logical-blocks",-1466339776),Uq=new D(null,"\x3cserver","\x3cserver",
-2135373537),Vq=new B(null,"quot","quot",-1125214196,null),Wq=new D(null,"colinc","colinc",-584873385),dr=new D(null,"auto","auto",-566279492),fr=new D(null,"find","find",496279456),gr=new B(null,"\x3e\x3d","\x3e\x3d",1016916022,null),hr=new D(null,"fatal","fatal",1874419888),ir=new D(null,"logical-block","logical-block",-581022564),jr=new D(null,"rate-limit","rate-limit",1748082022),kr=new B(null,"nil?","nil?",1612038930,null),lr=new D(null,"namespaced-keyword","namespaced-keyword",131372895),mr=
new D(null,"your-version","your-version",-351781765),nr=new B(null,"or","or",1876275696,null),or=new D(null,"col","col",-1959363084),pr=new D("db","fn","db/fn",-1175261470),qr=new D(null,"?ns-str","?ns-str",2012733966),rr=new D("widget.geoplot","height","widget.geoplot/height",774138358),sr=new D("entity-id","syntax","entity-id/syntax",1921317045),tr=new D(null,"current","current",-1088038603),ur=new D(null,"writing","writing",-1486865108),vr=new D(null,"ch-recv","ch-recv",-990916861),wr=new D(null,
"start-col","start-col",668080143),xr=new D(null,"into","into",-150836029),yr=new D(null,"suppress-namespaces","suppress-namespaces",2130686956),zr=new B(null,"set!","set!",250714521,null),Ar=new D(null,"uri-str","uri-str",304128675),Br=new D(null,"parent","parent",-878878779),Cr=new D(null,"instance-handle_","instance-handle_",-1923384457),Dr=new D("widget.geoplot","style","widget.geoplot/style",1499653960),Er=new D(null,"new","new",-2085437848),Fr=new D("query","where","query/where",-1935159429),
Gr=new D("db","retract","db/retract",-1549825231),Hr=new D(null,"free","free",801364328),Ir=new B(null,"missing?","missing?",-1710383910,null),Jr=new D(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Kr=new B(aa,"map?","cljs.core/map?",-1390345523,null),Lr=new D(null,"seen","seen",-518999789),Mr=new D(null,"instant","instant",655498374),Nr=new B(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Or=new B(null,"\x26","\x26",-2144855648,null),Pr=new D(null,"ex-kind","ex-kind",1581199296),Qr=new D(null,
"internal","internal",-854870097),Rr=new D(null,"reagentRender","reagentRender",-358306383),Sr=new D(null,"right-bracket","right-bracket",951856080),Tr=new D(null,"last-ws-error","last-ws-error",-820288502),Ur=new D(null,"req-id","req-id",-471642231),Vr=new D(null,"schema","schema",-1582001791),Wr=new D(null,"tx-data","tx-data",934159761),Xr=new D(null,"amp","amp",271690571),Yr=new D("db.unique","value","db.unique/value",276903088),Zr=new D(null,"csrf-token","csrf-token",-1872302856),$r=new D("geoplot.feature",
"wkt","geoplot.feature/wkt",-1055973148),as=new D(ca,"cpred","cljs.spec.alpha/cpred",-693471218),bs=new D("chsk","state","chsk/state",-1991397620),cs=new B(null,"-Inf","-Inf",-2123243689,null),Uf=new D("db","id","db/id",-1388397098),ds=new D(null,"iso8601","iso8601",609352650),es=new D(null,"vars","vars",-2046957217),fs=new D(null,"any","any",1705907423),gs=new D(null,"client-uuid","client-uuid",-1717531965),hs=new B(null,"name","name",-810760592,null),is=new D(null,"operation","operation",-1267664310),
Xl=new D(null,"default","default",-1987822328),js=new D(null,"secs","secs",1532330091),ks=new B("clojure.core","deref","clojure.core/deref",188719157,null),ls=new D(null,"padchar","padchar",2018584530),ms=new D(null,"unexpected","unexpected",-1137752424),ns=new B(null,"p1__24405#","p1__24405#",213522825,null),os=new D(null,"elidable?","elidable?",248362249),ps=new D(null,"cache?","cache?",-1601953949),rc=new D(null,"print-length","print-length",1931866356),qs=new D(null,"nil","nil",99600501),rs=new B(null,
"odd?","odd?",-1458588199,null),ss=new D(null,"*","*",-1294732318),ts=new D(null,"json","json",1279968570),us=new D(null,"allow-spec","allow-spec",448749872),vs=new D("db","retractEntity","db/retractEntity",-1452737935),ws=new D(null,"no-op","no-op",-93046065),xs=new B(null,"zero?","zero?",325758897,null),ys=new D(null,"buffer-block","buffer-block",-10937307),zs=new D(null,"reader-exception","reader-exception",-1938323098),As=new D(null,"remaining-arg-count","remaining-arg-count",-1216589335),Bs=
new D(null,"recursion","recursion",-749738765),Cs=new B(null,"-","-",-471816912,null),Ds=new D(null,"req-un","req-un",1074571008),Es=new B(null,"keyword","keyword",-1843046022,null),Fs=new D(null,"forms","forms",2045992350),Gs=new D("db","attrTuples","db/attrTuples",860541631),Hs=new D(null,"cur","cur",1153190599),Is=new D(null,"branches","branches",-1240337268),Js=new B(null,"def","def",597100991,null),Ks=new B(null,"dec","dec",-766002333,null),Ls=new D(ha,"internal","datascript.db/internal",-249301114),
Ms=new B(null,"rand","rand",-1745930995,null),Ns=new D(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),El=new D(null,"keywordize-keys","keywordize-keys",1310784252),Os=new D("widget","type","widget/type",-1894308144),Ps=new D(null,"pos","pos",-864607220),Qs=new D(ca,"v","cljs.spec.alpha/v",552625740),Rs=new D(null,"on-write","on-write",31519475),Ss=new D("transact","upsert","transact/upsert",412688078),Ts=new D(ca,"k","cljs.spec.alpha/k",-1602615178),Us=new D(null,"kvps",
"kvps",65308317),Vs=new D(null,"output-fn","output-fn",1600951539),Ws=new B(null,"set","set",1945134081,null),Xs=new D(null,"commainterval","commainterval",-1980061083),Ys=new D("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Zs=new D(null,"elements","elements",657646735),$s=new D(null,"send-buffers","send-buffers",-1788003787),at=new D(null,"total","total",1916810418),bt=new D(null,"separator","separator",-1628749125),ct=new B("datascript","Datom","datascript/Datom",-901340080,null),
dt=new B(null,"defonce","defonce",-1681484013,null),et=new D(null,"?content","?content",1697782054),ft=new D(null,"div.w-full","div.w-full",-1626749092),gt=new B(null,"%","%",-950237169,null),ht=new D(null,"form","form",-1624062471),it=new D(null,"pretty-writer","pretty-writer",-1222834267),jt=new B(null,"..","..",-300507420,null),kt=new D(ha,"tx-redundant","datascript.db/tx-redundant",-1117921977),lt=new D(null,"length-computable?","length-computable?",1915473276),mt=new B(null,"not\x3d","not\x3d",
1466536204,null),nt=new D(null,"validator","validator",-1966190681),ot=new D(null,"pretty","pretty",-1916372486),pt=new D(null,"unnamespaced-id","unnamespaced-id",1976189772),qt=new D(null,"buffer-level","buffer-level",928864731),rt=new B(null,"range","range",-1014743483,null),st=new D("widget.geoplot","features","widget.geoplot/features",-1949420440),tt=new B(da,"blank?","clojure.string/blank?",1772874244,null),ut=new D("rl","all","rl/all",892118056),vt=new D(null,"ever-opened?","ever-opened?",1128459732),
wt=new D(null,"fragment","fragment",826775688),sl=new D(null,"pending","pending",-220036727),xt=new D(ca,"invalid","cljs.spec.alpha/invalid",-1220295119),yt=new D(ca,"pcat","cljs.spec.alpha/pcat",26406623),zt=new D("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),oc=new D(null,"readably","readably",1129599760),At=new D(null,"contextTypes","contextTypes",-2023853910),Bt=new D(null,"chsk","chsk",-863703081),Ct=new D(null,"file","file",-1269645878),Dt=new D(null,"error-handler",
"error-handler",-484945776),Et=new D(null,"rschema","rschema",-1196134054),Ft=new D(null,"progress-fn","progress-fn",-1146547855),Gt=new D(null,"fill","fill",883462889),Ht=new D(null,"i.zmdi.zmdi-close","i.zmdi.zmdi-close",1663309273),It=new D(null,"client-id","client-id",-464622140),Jt=new D(null,"attrs","attrs",-2090668713),Kt=new D(ia,"recursion","datascript.pull-api/recursion",-1897884534),Lt=new D(null,"months","months",-45571637),Mt=new D(null,"radix","radix",857016463),Nt=new D(null,"send-fn",
"send-fn",351002041),Ot=new D("parser","with","parser/with",-386255821),Pt=new D(null,"text","text",-1790561697),Qt=new D(null,"distinct","distinct",-1788879121),Rt=new D(null,"ns-str","ns-str",-2062616499),St=new B(null,"uuid","uuid",-504564192,null),Tt=new D(null,"udt-last-comms_","udt-last-comms_",-145799639),Ut=new D(null,"entity-id","entity-id",1485898093),Vt=new D(null,"wildcard","wildcard",-622473020),Wt=new B(null,"queue","queue",-1198599890,null),Xt=new D(null,"block","block",664686210),
Yt=new D(null,"else","else",-1508377146),Zt=new D(null,"variable","variable",-281346492),$t=new B(null,"case*","case*",-1938255072,null),au=new D(null,"params","params",710516235),Nl=new D(null,"ancestors","ancestors",-776045424),bu=new D(null,"tuples","tuples",-676032639),cu=new D(null,"listeners","listeners",394544445),du=new D(null,"retry-count_","retry-count_",20238093),eu=new D("db","cardinality","db/cardinality",-104975659),fu=new B(null,"struct-map","struct-map",-1387540878,null),gu=new D(null,
"hostname","hostname",2105669933),ju=new D(null,"rest","rest",-1241696419),lu=new D(null,"min-remaining","min-remaining",962687677),mu=new D(null,"?data","?data",-9471433),nu=new D(null,"offset","offset",296498311),ou=new D(null,"var","var",-769682797),pu=new D(null,"commachar","commachar",652859327),qu=new D(null,"error-level?","error-level?",778415885),ru=new D(null,"ring-req","ring-req",-747861961),su=new D(null,"loaded","loaded",-1246482293),tu=new B(null,"re-find","re-find",1143444147,null),
kl=new D(null,"val","val",128701612),uu=new B(aa,"zipmap","cljs.core/zipmap",-1902130674,null),vu=new B(null,"-\x3e","-\x3e",-2139605430,null),wu=new D(null,"db-after","db-after",-571884666),xu=new D(null,"render","render",-1408033454),yu=new D(null,"entity","entity",-450970276),zu=new D(null,"timeout","timeout",-318625318),Au=new D(null,"arglists","arglists",1661989754),Bu=new B(null,"js*","js*",-1134233646,null),Cu=new D(null,"end-pos","end-pos",-1643883926),Du=new D(null,"auto-run","auto-run",
1958400437),Eu=new D(null,"min-version","min-version",-1697197126),Fu=new D(null,"pred-forms","pred-forms",172611832),Gu=new D(null,"hours","hours",58380855),Hu=new D(null,"trace-evs?","trace-evs?",1502453512),Iu=new B(null,"catch","catch",-1616370245,null),Ju=new B(null,"tuple","tuple",1167864243,null),Ku=new B(null,"count-distinct","count-distinct",-1566572514,null),Lu=new D(null,"get","get",1683182755),Mu=new D(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Nu=new D(null,"kind","kind",
-717265803),Ou=new D(null,"method","method",55703592),Pu=new D(null,"val-type","val-type",-279850094),Qu=new B(null,"defn","defn",-126010802,null),Ru=new D(null,"specs","specs",1426570741),Su=new B(null,"struct","struct",325972931,null),Tu=new D("db.fn","call","db.fn/call",-151594418),Vu=new D(null,"gfn","gfn",791517474),Wu=new D(null,"years","years",-1298579689),Xu=new D(null,"namespaced-map","namespaced-map",1235665380),Yu=new B(null,"prn-str","prn-str",-145225943,null),Zu=new D(ca,"accept","cljs.spec.alpha/accept",
370988198),$u=new B(null,"...","...",-1926939749,null),av=new D(null,"constructor","constructor",-1953928811),bv=new D(null,"childContextTypes","childContextTypes",578717991),cv=new D(null,"onerror-fn","onerror-fn",1069372505),dv=new D(null,"xhr","xhr",-177710851),ev=new D(null,"eavt","eavt",-666437073),fv=new D(null,"mins","mins",467369676),gv=new D(null,"tag","tag",-1290361223),hv=new D(null,"hostname_","hostname_",-2091647379),iv=new D(null,"linear","linear",872268697),jv=new B(null,"new","new",
-444906321,null),kv=new D("db","cas","db/cas",-451542322),aX=new D("widget.code","line-numbers?","widget.code/line-numbers?",-1389653902),lv=new D(null,"other","other",995793544),mv=new B(null,"\x3e","\x3e",1085014381,null),nv=new D(null,"?msg-fmt","?msg-fmt",-852453891),ov=new D(null,"sections","sections",-886710106),pv=new D(null,"lines","lines",-700165781),qv=new B(null,"do","do",1686842252,null),rv=new D(null,"colon","colon",-965200945),sv=new D("literate","widgets","literate/widgets",1235755088),
tv=new D(null,"color","color",1011675173),uv=new D(null,"edn","edn",1317840885),vv=new D(null,"keys-pred","keys-pred",858984739),wv=new D(null,"?line","?line",-631853385),xv=new D(null,"test","test",577538877),yv=new B(null,"\x3d","\x3d",-1501502141,null),zv=new D(null,"minpad","minpad",323570901),Av=new B("datascript","DB","datascript/DB",-487332776,null),Yk=new D(null,"alt-impl","alt-impl",670969595),Bv=new B(null,"not-empty","not-empty",2029453590,null),Cv=new D(null,"conflict","conflict",1978796605),
Dv=new D(null,"datom","datom",-371556090),Ev=new B(ca,"keys","cljs.spec.alpha/keys",1109346032,null),Fv=new D(null,"given","given",716253602),Gv=new B(null,"db","db",-1661185010,null),Hv=new B(null,"with-local-vars","with-local-vars",837642072,null),Iv=new D(null,"println","println",1920840330),Jv=new B(null,"aggregate","aggregate",-1142967327,null),Kv=new D(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),Lv=new B(null,"and","and",668631710,null),Mv=new B(null,"try","try",-1273693247,
null),Nv=new D(null,"location","location",1815599388),Ov=new D(null,"xml","xml",-1170142052),Pv=new B(null,"throw","throw",595905694,null),Qv=new D(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",1209242693),Rv=new B(null,"array-map","array-map",1555038968,null),Sv=new D(null,"font-family","font-family",-667419874),Tv=new D(null,"?reply-fn","?reply-fn",-1479510592),Uv=new B(null,"let","let",358118826,null),nc=new D(null,"flush-on-newline","flush-on-newline",-151457939),
Vv=new B(null,"print-str","print-str",-699700354,null),Wv=new D(null,"opt-specs","opt-specs",-384905450),HX=new D("widget.codemirror","value","widget.codemirror/value",1562181971),Xv=new B(null,"meta","meta",-1154898805,null),Yv=new D(null,"wrong-length","wrong-length",1367572281),Zv=new D(null,"rules","rules",1198912366),$v=new D(null,"rels","rels",1770187185),aw=new D(null,"pred-exprs","pred-exprs",1792271395),bw=new D(null,"timestamp-opts","timestamp-opts",-1359534807),cw=new B(null,"if","if",
1181717262,null),dw=new B(null,"get-some","get-some",409442058,null),ew=new D(null,"binding","binding",539932593),fw=new D(null,"character","character",380652989),gw=new D(ca,"kfn","cljs.spec.alpha/kfn",672643897),hw=new D(null,"eid","eid",559519930),iw=new D(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),jw=new D(null,"reagent-render","reagent-render",-985383853),kw=new B(null,"hash-map","hash-map",-439030950,null),lw=new B(null,"loop*","loop*",615029416,null),mw=new D(null,"min-count","min-count",
1594709013),nw=new D(null,"last","last",1105735132),ow=new B(null,"quote","quote",1377916282,null),pw=new B(aa,"vector?","cljs.core/vector?",-1550392028,null),qw=new B(aa,"lift-ns","cljs.core/lift-ns",463499081,null),rw=new D(null,"k","k",-2146297393),sw=new D(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",-1554471704),tw=new D(null,"hierarchy","hierarchy",-1053470341),uw=new D(null,"qreturn-map","qreturn-map",1841215994),vw=new D(null,"e","e",1381269198),ww=new D(null,"f","f",-1597136552),
xw=new D(null,"trace","trace",-1082747415),yw=new D(null,"d","d",1972142424),zw=new D(null,"a","a",-2123407586),Aw=new D("rl","reset","rl/reset",-800926172),Bw=new B(null,"pull","pull",779986722,null),Cw=new D(null,"ajax-cb","ajax-cb",-807060321),Dw=new B(da,"starts-with?","clojure.string/starts-with?",656256322,null),Ew=new D(null,"w","w",354169001),Fw=new B(null,"fn","fn",465265323,null),Gw=new D(null,"v","v",21465059),Hw=new D("geoplot.style","stroke","geoplot.style/stroke",-1145366218),Iw=new D(null,
"last-close","last-close",-2054255782),Jw=new D(null,"strable","strable",1877668047),Kw=new D(null,"p","p",151049309),Lw=new D(null,"componentWillUnmount","componentWillUnmount",1573788814),Mw=new D(null,"n","n",562130025),Nw=new D(null,"contextType","contextType",1033066077),Ow=new D(null,"func","func",-238706040),Pw=new D(null,"symbol","symbol",-1038572696),Qw=new D(null,"got","got",-1674745710),Rw=new B(aa,"contains?","cljs.core/contains?",-976526835,null),Sw=new D(null,"indent-t","indent-t",528318969),
Tw=new B(null,"lift-ns","lift-ns",602311926,null),Uw=new D(null,"middleware","middleware",1462115504),Vw=new D(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),IX=new D("widget.codemirror","mode","widget.codemirror/mode",-517946799),Ww=new D(null,"ref","ref",1289896967),Xw=new D(null,"value","value",305978217),Yw=new D(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),Zk=new D(null,"fallback-impl","fallback-impl",-1501286995),Zw=new D(null,"sources","sources",-321166424),$w=new D(null,
"display-name","display-name",694513143),ax=new D(null,"enabled?","enabled?",-1376075057),bx=new B(null,"ns","ns",2082130287,null),cx=new D(null,"req","req",-326448303),dx=new D(null,"height","height",1025178622),ex=new D(null,"ret","ret",-468222814),fx=new D("parser","rule","parser/rule",-464044566),bX=new D("widget.code","mode","widget.code/mode",1690304468),gx=new D(null,"done","done",-889844188),hx=new D(null,"chs","chs",376886120),ix=new D(null,"both","both",-393648840),JX=new D("widget.codemirror",
"height","widget.codemirror/height",-960842196),jx=new D(null,"ns-filter","ns-filter",108598448),kx=new D(null,"debug","debug",-1608172596),lx=new D(null,"vector","vector",1902966158),mx=new D(null,"req-specs","req-specs",553962313),nx=new D(null,"end","end",-268185958),ox=new D(null,"wrong-type","wrong-type",929556915),px=new D(null,"connected-uids","connected-uids",1454332231),qx=new B(null,"distinct","distinct",-148347594,null),rx=new B(null,"get-else","get-else",1312024065,null),sx=new D(null,
"className","className",-1983287057),tx=new D(null,"buffer-blob","buffer-blob",-1830112173),ux=new D(null,"allows-separator","allows-separator",-818967742),vx=new D(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),wx=new B("clojure.core","unquote","clojure.core/unquote",843087510,null),xx=new D(null,"appenders","appenders",1245583998),yx=new D(null,"colon-up-arrow","colon-up-arrow",244853007),zx=new B(null,"*","*",345799209,null),Ax=new D("rl","peek","rl/peek",-291391771),Bx=new D(null,
"flags","flags",1775418075),Cx=new D(null,"eof","eof",-489063237),Dx=new B(null,"-differ?","-differ?",1465687357,null),Ex=new D(null,"ws-kalive-ms","ws-kalive-ms",1442179968),Fx=new B(null,"js","js",-886355190,null),Gx=new D(null,"relative-to","relative-to",-470100051),Hx=new B(null,"doseq","doseq",221164135,null),Ix=new D("widget","parent","widget/parent",-1665940103),Jx=new B(null,"avg","avg",1837937727,null),Kx=new B(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),Lx=new B(null,"not",
"not",1044554643,null),Mx=new B(aa,"list?","cljs.core/list?",-684796618,null),Nx=new D("geoplot","color","geoplot/color",831577171),Ox=new D(null,"max-eid","max-eid",2134868075),Px=new D(null,"expand-kvps","expand-kvps",44141154),Qx=new D(null,"unknown","unknown",-935977881),Pk=new D(null,"more-marker","more-marker",-14717935),Rx=new D(null,"index-access","index-access",-1548960265),Sx=new D(null,"stroke","stroke",1741823555),Tx=new D(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Ux=new D("parser",
"where","parser/where",-966053850),Vx=new D(null,"aevt","aevt",-585148059),Wx=new D(null,"used-args","used-args",23596256),Xx=new D(null,"nl-t","nl-t",-1608382114),Yx=new D(null,"symbols","symbols",1211743),Zx=new B(null,"var","var",870848730,null),$x=new D(null,"qualifier","qualifier",125841738),ay=new D(null,"attr","attr",-604132353),by=new D(null,"doc","doc",1913296891),cy=new D("chsk","bad-package","chsk/bad-package",501893679),dy=new D(null,"cbs-waiting_","cbs-waiting_",-1519029061),rl=new D(null,
"ready","ready",1086465795),ey=new B(null,"neg?","neg?",-1902175577,null),fy=new D(null,"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200","div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",-1396684735),gy=new D(null,"hash_","hash_",-827203612),hy=new D(null,"http-error","http-error",-1040049553),iy=new D("db.cardinality","one","db.cardinality/one",1428352190),jy=new B(null,"untuple","untuple",-606149900,null),ky=new B(null,
"p1__24404#","p1__24404#",-2098642160,null),ly=new D("parser","query","parser/query",1877320671),my=new D(null,"displayName","displayName",-809144601),ny=new D(ca,"gfn","cljs.spec.alpha/gfn",-593120375),oy=new D(null,"added","added",2057651688),py=new D(null,"?file","?file",1533429675),qy=new B(null,"mod","mod",1510044207,null),KX=new D("widget.codemirror","lineNumbers","widget.codemirror/lineNumbers",399725207),ry=new D(null,"i.zmdi.zmdi-bug.text-green-500","i.zmdi.zmdi-bug.text-green-500",-1589227883),
sy=new D(null,"qin","qin",1372651151),ty=new B(null,"cond","cond",1606708055,null),uy=new B(null,"\x3c","\x3c",993667236,null),vy=new D(null,"map","map",1371690461),wy=new D(null,"open?","open?",1238443125),xy=new D(null,"element","element",1974019749),yy=new D(null,"char-format","char-format",-1016499218),zy=new B(null,"type","type",-1480165421,null),Ay=new D(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),By=new D("parser","pull","parser/pull",-2147427204),Cy=new D(null,"mode",
"mode",654403691),Dy=new D(null,"max-columns","max-columns",1742323262),Ey=new D(null,"max","max",61366548),Fy=new D(null,"pending-guards","pending-guards",-1255527308),Gy=new D(null,"last-ws-close","last-ws-close",-798104932),Hy=new B(null,"when-let","when-let",-1383043480,null),Iy=new D("db","index","db/index",-1531680669),Jy=new D(null,"url","url",276297046),Ky=new D(null,"rattr","rattr",-1122345563),Ly=new D(null,"qwhere","qwhere",-1645067378),My=new D(null,"count","count",2139924085),Ny=new D(null,
"clauses","clauses",1454841241),Oy=new B(null,"empty?","empty?",76408555,null),Py=new B(null,"re-matches","re-matches",-1865705768,null),Qy=new D(null,"ever-opened?_","ever-opened?_",1641338913),Ry=new D(null,"miser-width","miser-width",-1310049437),Sy=new D(null,"expand","expand",595248157),Ty=new B(null,"binding","binding",-2114503176,null),Uy=new B(null,"ground","ground",-1460862835,null),Vy=new D(null,"state_","state_",957667102),Wy=new D(null,"index","index",-1531685915),Xy=new D("widget.html",
"src","widget.html/src",1397441752),Yy=new D(null,"class","class",-2030961996),Zy=new D(null,"packer","packer",66077544),$y=new D("db.unique","identity","db.unique/identity",1675950722),az=new D(null,"success?","success?",-122854052),bz=new D(ha,"queued-tuples","datascript.db/queued-tuples",-762852029),cz=new B(null,".",".",1975675962,null),dz=new D(null,"at","at",1476951349),ez=new D("transact","unique","transact/unique",-940992320),fz=new D(null,"span.text-lg.text-gray-400","span.text-lg.text-gray-400",
-512663112),lz=new D(null,"splice","splice",449588165),mz=new D(null,"dispatch","dispatch",1319337009),nz=new B(null,"inst","inst",-2008473268,null),oz=new D(ca,"describe","cljs.spec.alpha/describe",1883026911),pz=new B(null,"sample","sample",1719555128,null),qz=new D("widget","markdown","widget/markdown",-145862203),rz=new D(null,"__html","__html",674048345),sz=new D(null,"max-tx","max-tx",1119558339),tz=new D("lookup-ref","syntax","lookup-ref/syntax",-317304012),uz=new D("widget.geoplot","center",
"widget.geoplot/center",-530369016),vz=new D(null,"as","as",1148689641),wz=new D(null,"?meta","?meta",-793560773),xz=new D(null,"name","name",1843675177),yz=new D(null,"syms","syms",-1575891762),zz=new D(null,"vargs","vargs",-966597273),Az=new D("chsk","bad-event","chsk/bad-event",-565206930),Bz=new D(null,"div.fixed.bottom-0.right-0.mr-4.mb-4","div.fixed.bottom-0.right-0.mr-4.mb-4",211353752),Cz=new D("db.type","ref","db.type/ref",-1728373079),Dz=new D(null,"queue","queue",1455835879),Ez=new D(null,
"stacktrace-fonts","stacktrace-fonts",830799382),Fz=new D(null,"warn","warn",-436710552),Gz=new B(null,"loop","loop",1244978678,null),Hz=new D("parser","find","parser/find",-801023103),Iz=new D(null,"appender","appender",1267426510),Jz=new D(null,"selector","selector",762528866),Kz=new D(null,"parameter-from-args","parameter-from-args",-758446196),Lz=new D(null,"miser","miser",-556060186),Mz=new D(null,"ajax","ajax",814345549),Nz=new D(null,"on-set","on-set",-140953470),Oz=new B(null,"inc","inc",
324505433,null),Pz=new D(null,"rule-vars","rule-vars",1665972520),Qz=new D(null,"backoff-ms-fn","backoff-ms-fn",772895955),Rz=new D(null,"context","context",-830191113),Sz=new D(null,"chsk-url-fn","chsk-url-fn",1968894294),Tz=new D(null,"colnum","colnum",2023796854),Uz=new D(null,"raw-resp","raw-resp",-1924342506),Vz=new D(null,"section","section",-300141526),Wz=new D(null,"bracket-info","bracket-info",-1600092774),Xz=new B(null,"even?","even?",-1827825394,null),Yz=new B(null,"Inf","Inf",647172781,
null),Zz=new B(aa,"map","cljs.core/map",-338988913,null),qc=new D(null,"dup","dup",556298533),$z=new D(null,"prefix-context","prefix-context",-1269613591),aA=new D(null,"init-db","init-db",1595181278),bA=new D(null,"timestamp_","timestamp_",-954533417),cA=new D("ajax","resp-as-text","ajax/resp-as-text",141416819),dA=new D(null,"socket_","socket_",-361048908),eA=new D(ca,"rep","cljs.spec.alpha/rep",1483217317),fA=new D(null,"fn","fn",-1175266204),gA=new D(null,"args","args",1315556576),hA=new D(null,
"suffix","suffix",367373057),iA=new D(null,"old","old",-1825222690),jA=new D(null,"div.flex.flex-1.overflow-x-auto","div.flex.flex-1.overflow-x-auto",2231265),kA=new D(null,"qwith","qwith",-45809392),lA=new B(null,"defn-","defn-",1097765044,null),mA=new D(null,"pattern","pattern",242135423),nA=new D(null,"div.p-2","div.p-2",-325121057),oA=new D(null,"required","required",1807647006),pA=new D(null,"priority","priority",1431093715),qA=new D(null,"buffer","buffer",617295198),rA=new D(null,"inherit",
"inherit",-1840815422),sA=new D(null,"component-did-update","component-did-update",-1468549173),tA=new D(null,"msg_","msg_",-1925147E3),uA=new D(null,"opt-keys","opt-keys",1262688261),vA=new B(null,"when-not","when-not",-1223136340,null),wA=new D(null,"ev","ev",-406827324),xA=new D(null,"console","console",1228072057),yA=new D("parser","in","parser/in",1617442048),zA=new D(null,"hash","hash",-13781596),AA=new B(null,"namespace","namespace",1263021155,null),BA=new D(null,"div.flex.flex-col.flex-1.items-center.justify-center",
"div.flex.flex-col.flex-1.items-center.justify-center",-1334433298),CA=new D(null,"?content-type","?content-type",-2129759049),DA=new D(null,"post","post",269697687),EA=new D(null,"simple-auto-threading?","simple-auto-threading?",1950754184),FA=new D(null,"arg3","arg3",-1486822496),GA=new D(null,"min-level","min-level",1634684919),HA=new D(null,"arg1","arg1",951899358),IA=new D("db","valueType","db/valueType",1827971944),JA=new D(null,"arg2","arg2",1729550917),KA=new D(null,"list","list",765357683),
LA=new D("db","ident","db/ident",-737096),MA=new D(null,"dt","dt",-368444759),NA=new D(null,"min","min",444991522),OA=new D("literate","!transact","literate/!transact",758397308),PA=new B(null,"re-pattern","re-pattern",1047705161,null),QA=new D("geoplot.feature","data-projection","geoplot.feature/data-projection",-1161515945),RA=new D(null,"column","column",2078222095),SA=new D(null,"key","key",-1516042587),TA=new B(null,"rand-int","rand-int",-495012157,null),UA=new D("chsk","recv","chsk/recv",561097091),
VA=new D(null,"up-arrow","up-arrow",1705310333),WA=new B(null,"contains?","contains?",-1676812576,null),XA=new B(null,"true?","true?",-1600332395,null),YA=new D(null,"?ratio","?ratio",-1275760831),ZA=new B(null,"+","+",-740910886,null),$A=new D(null,"generator-fn","generator-fn",811851656),aB=new D(null,"req-keys","req-keys",514319221),bB=new D(null,"logical-block-callback","logical-block-callback",1612691194),cB=new D(null,"resp-type","resp-type",1050675962),dB=new D(null,"spying?","spying?",1753444487),
eB=new D("db.cardinality","many","db.cardinality/many",772806234),fB=new D(null,"weeks","weeks",1844596125),gB=new D(null,"overflowchar","overflowchar",-1620088106),hB=new D(null,"with","with",-1536296876),iB=new D(null,"cb","cb",589947841),jB=new D("swap","dissoc","swap/dissoc",-605373782),kB=new D(null,"ppstr","ppstr",1557495252),Ll=new D(null,"parents","parents",-2027538891),lB=new D("chsk","handshake","chsk/handshake",64910686),mB=new D(null,"with-credentials?","with-credentials?",-1773202222),
nB=new D(null,"mincol","mincol",1230695445),oB=new D(null,"protocol","protocol",652470118),pB=new D(null,"curr-xhr_","curr-xhr_",-1318773696),qB=new B(null,"if-let","if-let",1803593690,null),rB=new D(null,"*assert*","*assert*",-160895053),sB=new D("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),tB=new B(null,"condp","condp",1054325175,null),uB=new B(null,"rem","rem",664046770,null),vB=new D("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),wB=new D(null,"deref","deref",-145586795),
xB=new D(null,"in","in",-1531184865),yB=new D(ca,"unknown","cljs.spec.alpha/unknown",651034818),zB=new D(null,"max-iterations","max-iterations",2021275563),AB=new D(null,"output_","output_",-36797880),BB=new D(null,"opt","opt",-794706369),CB=new D(null,"reason","reason",-2070751759),DB=new D(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),EB=new D(null,"assertion","assertion",-1645134882),FB=new D(null,"config","config",994861415),GB=new D(null,"id","id",-1388402092),HB=new B(null,
"?e","?e",-1194391683,null),IB=new D(null,"onclose-fn","onclose-fn",-1388163785),JB=new D(null,"stream","stream",1534941648),KB=new D(null,"results","results",-1134170113),LB=new B(null,"false?","false?",-1522377573,null),MB=new D("widget","uuid","widget/uuid",-585315811),NB=new B(null,"deftype*","deftype*",962659890,null),OB=new D(null,"rep+","rep+",-281382396),PB=new D(null,"ajax-opts","ajax-opts",-518239109),QB=new B(null,"NaN","NaN",666918153,null),RB=new D(null,"indent","indent",-148200125),
SB=new D("chsk","closed","chsk/closed",-922855264),TB=new D(null,"msecs","msecs",1711980553),UB=new B(null,"defmacro","defmacro",2054157304,null),VB=new D("db","add","db/add",235286841),WB=new B(null,"vector","vector",-751469611,null),XB=new D(null,"recv-buf-or-n","recv-buf-or-n",1363950355),YB=new D(null,"porrl","porrl",-1693905102),ZB=new D(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),$B=new D(null,"else-params","else-params",-832171646),aC=new D(null,"keyword","keyword",811389747),
bC=new D(null,"whitelist","whitelist",-979294437),cC=new D(null,"end-block-t","end-block-t",1544648735),dC=new D(null,"tempids","tempids",1767509089),eC=new D(null,"errors","errors",-908790718),fC=new D(null,"max-count","max-count",1539185305);function gC(a,b,c){if(xg(c)){var d=dh(Ag,Hh.j(a,c));return b.B?b.B(d):b.call(null,d)}return Ai(c)?(d=new Y(function(){var e=ed(c);return a.B?a.B(e):a.call(null,e)}(),function(){var e=fd(c);return a.B?a.B(e):a.call(null,e)}()),b.B?b.B(d):b.call(null,d)):Hf(c)?(d=Hk(Hh.j(a,c)),b.B?b.B(d):b.call(null,d)):Bf(c)?(d=w.C(function(e,f){return lf.j(e,a.B?a.B(f):a.call(null,f))},c,c),b.B?b.B(d):b.call(null,d)):xf(c)?(d=Xh.j(of(c),Hh.j(a,c)),b.B?b.B(d):b.call(null,d)):b.B?b.B(c):b.call(null,c)}
var hC=function hC(a,b){return gC(vh.j(hC,a),a,b)};var iC={};function jC(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.Hj)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function kC(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=Kh(2,d);if(F.j(M(d),1))return d=J(d),a.B?a.B(d):a.call(null,d);d=Wf(d);return a.B?a.B(d):a.call(null,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}
function lC(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?jC(a,b,c):jC(a,b,kC(c));throw["Invalid match arg: ",t.B(b)].join("");}function mC(a,b){var c=new bc;for(b=H(b);;)if(null!=b)c.append(t.B(J(b))),b=K(b),null!=b&&c.append(a);else return c.toString()}
function nC(a,b){if(0>=b||b>=2+M(a))return lf.j(Wf(df("",Hh.j(t,H(a)))),"");if(r(vg.j?vg.j(1,b):vg.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(vg.j?vg.j(2,b):vg.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return lf.j(Wf(df("",Ii(Wf(Hh.j(t,H(a))),0,b))),wg.j(a,b))}function oC(a,b){return pC(a,b,0)}
function pC(a,b,c){if("/(?:)/"===t.B(b))b=nC(a,c);else if(1>c)b=Wf(t.B(a).split(b));else a:for(var d=c,e=mf;;){if(1===d){b=lf.j(e,a);break a}var f=Jk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+M(f));--d;e=lf.j(e,a.substring(0,h));a=f}else{b=lf.j(e,a);break a}}if(0===c&&1<M(b))a:for(c=b;;)if(""===(null==c?null:id(c)))c=null==c?null:jd(c);else break a;else c=b;return c}function qC(a){return tb(null==a?"":String(a))};var rC={},sC,tC,uC,vC;function wC(a,b){if(null!=a&&null!=a.ie)a=a.ie(a,b);else{var c=wC[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=wC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Spec.conform*",a);}return a}function xC(a,b){if(null!=a&&null!=a.je)a=a.je(a,b);else{var c=xC[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Spec.with-gen*",a);}return a}var yC=zh(W);
function zC(a){if(Eg(a)){var b=z(yC);a=C.j(b,a);if(Eg(a))a:for(;;)if(Eg(a))a=C.j(b,a);else{b=a;break a}else b=a;return b}return a}function AC(a){if(Eg(a)){var b=zC(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.B(a)].join(""));}return a}function BC(a){return null!=a&&l===a.Qe?a:null}function CC(a){var b=mq.B(a);return r(b)?a:b}function DC(a,b){return Eg(a)?a:r(CC(a))?R.C(a,np,b):null!=a&&(a.J&131072||l===a.Ke)?tf(a,R.C(uf(a),np,b)):null}
function EC(a){return Eg(a)?a:r(CC(a))?np.B(a):null!=a&&(a.J&131072||l===a.Ke)?np.B(uf(a)):null}function FC(a){var b=function(){var c=Eg(a)?zC(a):!1;if(r(c))return c;c=BC(a);if(r(c))return c;c=CC(a);return r(c)?c:null}();return r(CC(b))?DC(GC(b,null),EC(b)):b}function HC(a){var b=FC(a);if(r(b))return b;if(Eg(a))throw Error(["Unable to resolve spec: ",t.B(a)].join(""));return null}
function IC(a){if(qC(a))return null;a=Hh.j(dm,oC(a,"$"));if(2<=M(a)&&ph(function(c){return!qC(c)},a)){var b=Gk(rk,kf)(a);a=Q(b,0,null);b=Q(b,1,null);return te.B([mC(".",a),"/",t.B(b)].join(""))}return null}
var KC=function(){function a(d,e){var f=JC[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=JC._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("Specize.specize*",d);}function b(d){var e=JC[ra(null==d?null:d)];if(null!=e)return e.B?e.B(d):e.call(null,d);e=JC._;if(null!=e)return e.B?e.B(d):e.call(null,d);throw Ac("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.j=a;return c}(),JC=function JC(a){switch(arguments.length){case 1:return JC.B(arguments[0]);case 2:return JC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};JC.B=function(a){return null!=a&&null!=a.sd?a.sd(a):KC(a)};JC.j=function(a,b){return null!=a&&null!=a.td?a.td(a,b):KC(a,b)};JC.Y=2;D.prototype.sd=function(){return JC(AC(this))};D.prototype.td=function(){return JC(AC(this))};B.prototype.sd=function(){return JC(AC(this))};
B.prototype.td=function(){return JC(AC(this))};mk.prototype.sd=function(){return LC(this,this,null,null,null)};mk.prototype.td=function(a,b){return LC(b,this,null,null,null)};
JC._=function(){function a(c){var d=rf(c)?IC(c.name):!1;return r(d)?LC(d,c,null,null,null):LC(yB,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return LC(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return LC(d,c,null,null,null)};return b}();
var MC=function MC(a){switch(arguments.length){case 1:return MC.B(arguments[0]);case 2:return MC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};MC.B=function(a){var b=BC(a);return r(b)?b:JC(a)};MC.j=function(a,b){var c=BC(a);return r(c)?c:JC(a,b)};MC.Y=2;function NC(a,b){a=zC(a);return r(CC(a))?R.C(a,ny,b):xC(MC.B(a),b)}
function OC(a,b,c){if(null==c)Bh.C(yC,S,a);else{var d=BC(c);r(d)||(d=CC(c),d=r(d)?d:C.j(z(yC),c));b=r(d)?c:LC(b,c,null,null,null);Bh.P(yC,R,a,DC(b,a))}}function PC(a,b,c){if(r(a)){var d=HC(a);if(r(d))return wC(MC.B(d),b);if(Jf(a))return r(null)?a.B?a.B(b):a.call(null,b):r(a.B?a.B(b):a.call(null,b))?b:xt;throw Error([dl.F(P([c]))," is not a fn, expected predicate fn"].join(""));}return b}function QC(a,b){a=MC.B(a);return!T(xt,wC(a,b))}
function LC(a,b,c,d,e){if(r(BC(b)))return r(c)?NC(b,c):b;if(r(CC(b)))return GC(b,c);if(Eg(b))return a=HC(b),r(c)?NC(a,c):a;if("undefined"===typeof cc||"undefined"===typeof iC||"undefined"===typeof rC||"undefined"===typeof tC)tC=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.Dd=k;this.Lf=m;this.rh=n;this.Ei=p;this.J=393216;this.T=0},tC.prototype.fa=function(f,h){return new tC(this.form,this.pred,this.Dd,this.Lf,this.rh,h)},tC.prototype.ea=function(){return this.Ei},tC.prototype.sd=function(){return this},
tC.prototype.td=function(){return this},tC.prototype.Qe=l,tC.prototype.ie=function(f,h){f=this.pred.B?this.pred.B(h):this.pred.call(null,h);return r(this.Lf)?f:r(f)?h:xt},tC.prototype.je=function(f,h){return LC(this.form,this.pred,h,this.Lf,this.rh)},tC.rb=!0,tC.kb="cljs.spec.alpha/t_cljs$spec$alpha22806",tC.vb=function(f){return A(f,"cljs.spec.alpha/t_cljs$spec$alpha22806")};return new tC(a,b,c,d,e,W)}
function RC(a,b,c){var d=H(b);J(d);K(d);d=H(c);J(d);K(d);for(d=c;;){c=a;b=H(b);a=J(b);b=K(b);var e=H(d);d=J(e);e=K(e);var f=d;d=e;if(r(a)){c=PC(a,c,f);if(T(xt,c))return xt;a=c}else return c}}var SC=new q(null,4,[pw,mf,Sq,ok,Mx,Ce,Kr,W],null);
function TC(a,b,c,d){function e(qa,ya,Sa,ka){return lf.j(qa,ka)}var f=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c,h=C.j(f,fC),k=C.j(f,Bn),m=C.C(f,Cq,20),n=C.j(f,as),p=C.j(f,po),u=C.j(f,oz),v=C.j(f,Qt),y=C.j(f,gw),E=C.j(f,My),G=C.j(f,mw),I=C.j(f,Nu),N=C.j(f,ZB),O=C.j(f,xr),U=r(O)?of(O):C.j(SC,k),ea=new pl(function(){return MC.B(b)}),fa=function(){return r(y)?y:function(qa){return qa}}();if("undefined"===typeof cc||"undefined"===typeof iC||"undefined"===typeof rC||"undefined"===typeof uC)uC=function(qa,
ya,Sa,ka,oa,Ca,wa,Ba,Xa,$b,yb,fc,Xb,Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,we,Gd,pq){this.form=qa;this.zi=ya;this.Sh=Sa;this.Dd=ka;this.oi=oa;this.pred=Ca;this.Te=wa;this.hi=Ba;this.vi=Xa;this.Qh=$b;this.Ie=yb;this.mi=fc;this.distinct=Xb;this.spec=Td;this.ui=eg;this.ni=Cf;this.count=Wg;this.Ri=Zc;this.Zb=Ed;this.kind=ve;this.Mg=fg;this.$i=Fd;this.gi=we;this.yi=Gd;this.Fi=pq;this.J=393216;this.T=0},uC.prototype.fa=function(qa,ya){return new uC(this.form,this.zi,this.Sh,this.Dd,this.oi,this.pred,this.Te,this.hi,
this.vi,this.Qh,this.Ie,this.mi,this.distinct,this.spec,this.ui,this.ni,this.count,this.Ri,this.Zb,this.kind,this.Mg,this.$i,this.gi,this.yi,ya)},uC.prototype.ea=function(){return this.Fi},uC.prototype.sd=function(){return this},uC.prototype.td=function(){return this},uC.prototype.Qe=l,uC.prototype.ie=function(qa,ya){qa=z(this.spec);if(wc(this.Te.B?this.Te.B(ya):this.Te.call(null,ya)))return xt;if(r(this.Mg)){var Sa=this.Ie.B?this.Ie.B(ya):this.Ie.call(null,ya),ka=Q(Sa,0,null),oa=Q(Sa,1,null);Sa=
Q(Sa,2,null);var Ca=ka.B?ka.B(ya):ka.call(null,ya);ka=0;var wa=H(ya);ya=H(wa);J(ya);K(ya);for(ya=Ca;;){var Ba=wa;Ca=H(Ba);wa=J(Ca);Ca=K(Ca);if(Ba){Ba=wC(qa,wa);if(T(xt,Ba))return xt;ya=oa.P?oa.P(ya,ka,wa,Ba):oa.call(null,ya,ka,wa,Ba);ka+=1;wa=Ca}else return Sa.B?Sa.B(ya):Sa.call(null,ya)}}else if(We(ya))for(oa=qg(M(ya)/101),oa=1>oa?1:oa,ka=0;;){if(ka>=M(ya))return ya;if(QC(qa,Ye(ya,ka)))ka+=oa;else return xt}else for(ka=0,oa=H(ya),Sa=H(oa),J(Sa),K(Sa);;){wa=H(oa);Sa=J(wa);Ca=K(wa);wa=Sa;Ba=oa;if(null==
Ba||F.j(ka,101))return ya;if(QC(qa,wa))oa=Ca,ka+=1;else return xt}},uC.prototype.je=function(qa,ya){return TC(this.form,this.pred,this.Zb,ya)},uC.rb=!0,uC.kb="cljs.spec.alpha/t_cljs$spec$alpha23328",uC.vb=function(qa){return A(qa,"cljs.spec.alpha/t_cljs$spec$alpha23328")};return new uC(a,h,function(qa){return QC(z(ea),qa)},d,m,b,n,p,k,e,function(qa){return Df(qa)&&(wc(O)||Df(O))?new X(null,3,5,Z,[$f,function(ya,Sa,ka,oa){return ka===oa?ya:R.C(ya,Sa,oa)},$f],null):r(Af(qa)?function(){var ya=r(I)?wc(O):
I;return r(ya)?ya:Af(O)}():!1)?new X(null,3,5,Z,[r(p)?of:$f,function(ya,Sa,ka,oa){return ka===oa&&wc(p)?ya:R.C(ya,Ye(r(p)?oa:ka,0),Ye(oa,1))},$f],null):xg(O)||Hf(O)||wc(O)&&(xg(qa)||Hf(qa))?new X(null,3,5,Z,[of,e,zg],null):new X(null,3,5,Z,[function(ya){return of(r(O)?O:ya)},e,$f],null)},u,v,ea,fa,U,E,G,f,I,N,c,O,f,W)}function UC(a){return new q(null,2,[mq,Zu,ex,a],null)}function VC(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(a,mq);return F.j(Zu,a)}
var WC=function WC(a){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,Sn);a=H(d);var e=J(a);a=K(a);var f=C.j(c,$m),h=H(f),k=J(h);h=K(h);var m=C.j(c,Fs),n=H(m);J(n);n=K(n);var p=C.j(c,ex);c=C.j(c,OB);return ph($f,d)?VC(e)?(d=ex.B(e),d=lf.j(p,r(f)?qf([k,d]):d),a?(a=new q(null,4,[Sn,a,$m,h,Fs,n,ex,d],null),WC.B?WC.B(a):WC.call(null,a)):UC(d)):new q(null,6,[mq,yt,Sn,d,ex,p,$m,f,Fs,m,OB,c],null):null};
function XC(a,b,c,d,e){return r(a)?(d=new q(null,5,[mq,eA,pm,b,lz,d,Fs,e,GB,$l()],null),VC(a)?R.F(d,rm,b,P([ex,lf.j(c,ex.B(a))])):R.F(d,rm,a,P([ex,c]))):null}
function YC(a,b,c,d){return r(r(b)?b:c)?(a=Vh(function(e){e=J(e);return d.B?d.B(e):d.call(null,e)},Hh.P(Di,a,function(){var e=H(b);return e?e:Nh(null)}(),function(){var e=H(c);return e?e:Nh(null)}())),new X(null,3,5,Z,[H(Hh.j(J,a)),r(b)?H(Hh.j(hf,a)):null,r(c)?H(Hh.j(function(e){return Ye(e,2)},a)):null],null)):new X(null,3,5,Z,[H(Vh(d,a)),b,c],null)}
function ZC(a,b,c){var d=YC(a,b,c,$f);c=Q(d,0,null);b=H(c);a=J(b);var e=K(b),f=Q(d,1,null);b=Q(f,0,null);d=Q(d,2,null);return r(c)?(c=new q(null,4,[mq,jn,Sn,c,$m,f,Fs,d],null),null==e?r(b)&&(VC(a)?(a=ex.B(a),a=UC(new Y(b,a))):a=c):a=c,a):null}function $C(a,b){return r(r(a)?b:a)?ZC(P([a,b]),null,null):r(a)?a:b}
var aD=function aD(a){a=AC(a);var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,mq),e=C.j(c,Sn);a=C.j(c,rm);var f=C.j(c,pm);c=C.j(c,Fs);if(F.j(Zu,d))return!0;if(F.j(null,d))return null;if(F.j(an,d))return d=aD.B?aD.B(a):aD.call(null,a),r(d)?(a=RC(bD(a),e,K(c)),!T(xt,a)):d;if(F.j(eA,d))return(e=a===f)?e:aD.B?aD.B(a):aD.call(null,a);if(F.j(yt,d))return ph(aD,e);if(F.j(jn,d))return qh(aD,e);throw Error(["No matching clause: ",t.B(d)].join(""));},bD=function bD(a){a=AC(a);var c=null!=a&&(a.J&64||l===
a.qa)?dh(dk,a):a;a=C.j(c,Sn);var d=H(a),e=J(d);K(d);var f=C.j(c,$m),h=Q(f,0,null),k=C.j(c,mq);d=C.j(c,rm);var m=C.j(c,ex);c=C.j(c,Fs);if(F.j(Zu,k))return m;if(F.j(null,k))return null;if(F.j(an,k))return e=bD.B?bD.B(d):bD.call(null,d),(f=F.j(e,An))?d=f:(d=mq.B(AC(d)),f=new mk(null,new q(null,2,[eA,null,yt,null],null),null),d=f.B?f.B(d):f.call(null,d),d=r(d)?wf(e):d,d=r(d)?d:null),r(d)?An:RC(e,a,c);if(F.j(eA,k))return cD(d,m,h);if(F.j(yt,k))return cD(e,m,h);if(F.j(jn,k))return c=YC(a,f,c,aD),a=Q(c,
0,null),a=Q(a,0,null),c=Q(c,1,null),c=Q(c,0,null),a=null==a?An:bD.B?bD.B(a):bD.call(null,a),r(c)?new Y(c,a):a;throw Error(["No matching clause: ",t.B(k)].join(""));};
function cD(a,b,c){a=AC(a);var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,mq);C.j(d,Sn);a=C.j(d,lz);if(F.j(null,e))return b;if(F.j(jn,e)||F.j(Zu,e)||F.j(an,e))return a=bD(d),F.j(a,An)?b:lf.j(b,r(c)?qf([c,a]):a);if(F.j(eA,e)||F.j(yt,e))return d=bD(d),wf(d)||(c=r(c)?qf([c,d]):d,a=r(a)?Xh:lf,b=a.j?a.j(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.B(e)].join(""));}
var dD=function dD(a,b){a=AC(a);var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,Fs),f=C.j(d,pm);a=C.j(d,Sn);var h=H(a),k=J(h),m=K(h),n=C.j(d,ex);h=C.j(d,mq);var p=C.j(d,lz),u=C.j(d,$m),v=H(u),y=J(v),E=K(v);v=C.j(d,Xr);var G=C.j(d,rm);if(r(d)){if(F.j(Zu,h))return null;if(F.j(null,h))return a=PC(d,b,d),T(xt,a)?null:UC(a);if(F.j(an,h))return d=dD.j?dD.j(G,b):dD.call(null,G,b),r(d)?F.j(Zu,mq.B(d))?(a=RC(bD(d),a,K(e)),T(xt,a)?null:UC(a)):new q(null,5,[mq,an,rm,d,Xr,v,Sn,a,Fs,e],null):null;if(F.j(yt,
h))return $C(WC(new q(null,4,[Sn,df(dD.j?dD.j(k,b):dD.call(null,k,b),m),$m,u,Fs,e,ex,n],null)),r(aD(k))?function(){var I=WC(new q(null,4,[Sn,m,$m,E,Fs,K(e),ex,cD(k,n,y)],null));return dD.j?dD.j(I,b):dD.call(null,I,b)}():null);if(F.j(jn,h))return ZC(Hh.j(function(I){return dD.j?dD.j(I,b):dD.call(null,I,b)},a),u,e);if(F.j(eA,h))return $C(XC(dD.j?dD.j(G,b):dD.call(null,G,b),f,n,p,e),r(aD(G))?function(){var I=XC(f,f,cD(G,n,null),p,e);return dD.j?dD.j(I,b):dD.call(null,I,b)}():null);throw Error(["No matching clause: ",
t.B(h)].join(""));}return null};function eD(a,b){for(;;){var c=H(b),d=J(c);c=K(c);if(wf(b))return r(aD(a))?(a=bD(a),F.j(a,An)?null:a):xt;a=dD(a,d);if(r(a))b=c;else return xt}}
var GC=function GC(a,b){if("undefined"===typeof cc||"undefined"===typeof iC||"undefined"===typeof rC||"undefined"===typeof vC)vC=function(d,e,f){this.re=d;this.Dd=e;this.Ki=f;this.J=393216;this.T=0},vC.prototype.fa=function(d,e){return new vC(this.re,this.Dd,e)},vC.prototype.ea=function(){return this.Ki},vC.prototype.sd=function(){return this},vC.prototype.td=function(){return this},vC.prototype.Qe=l,vC.prototype.ie=function(d,e){return null==e||zf(e)?eD(this.re,H(e)):xt},vC.prototype.je=function(d,
e){return GC.j?GC.j(this.re,e):GC.call(null,this.re,e)},vC.rb=!0,vC.kb="cljs.spec.alpha/t_cljs$spec$alpha24301",vC.vb=function(d){return A(d,"cljs.spec.alpha/t_cljs$spec$alpha24301")};return new vC(a,b,W)};
OC(Mu,Ag(Kx,Ag(Zm,new X(null,1,5,Z,[ky],null),Ag(uu,Ag(Zz,Ts,ky),Ag(Zz,Qs,ky))),Ag(Zm,new X(null,1,5,Z,[ns],null),Ag(Zz,Ag(ln,new X(null,1,5,Z,[new X(null,2,5,Z,[oq,lq],null)],null),new q(null,2,[Ts,oq,Qs,lq],null)),ns))),LC(Ag(Kx,Ag(ln,new X(null,1,5,Z,[gt],null),Ag(uu,Ag(Zz,Ts,gt),Ag(Zz,Qs,gt))),Ag(ln,new X(null,1,5,Z,[gt],null),Ag(Zz,Ag(ln,new X(null,1,5,Z,[new X(null,2,5,Z,[oq,lq],null)],null),new q(null,2,[Ts,oq,Qs,lq],null)),gt))),function(a){return sk(Hh.j(Ts,a),Hh.j(Qs,a))},null,!0,function(a){return Hh.j(function(b){var c=
Q(b,0,null);b=Q(b,1,null);return new q(null,2,[Ts,c,Qs,b],null)},a)}));var fD={},gD,hD,iD,jD,kD,lD,mD=function mD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return mD.F(c)};mD.F=function(a){return A(gc,dh(fl,a))};mD.Y=0;mD.ba=function(a){return this.F(H(a))};var nD=function nD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return nD.F(c)};nD.F=function(a){return A(gc,dh(dl,a))};nD.Y=0;nD.ba=function(a){return this.F(H(a))};
function oD(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;dh(nD,b);A(gc,"\n")}function pD(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function qD(a,b,c){var d=c;for(c=mf;;){if(wf(d))return new X(null,2,5,Z,[c,b],null);var e=J(d);d=K(d);e=dh(a,new X(null,2,5,Z,[e,b],null));b=Q(e,0,null);e=Q(e,1,null);c=lf.j(c,b);b=e}}function rD(a,b){var c=b;for(b=mf;;){var d=dh(a,new X(null,1,5,Z,[c],null));c=Q(d,0,null);d=Q(d,1,null);if(wc(c))return new X(null,2,5,Z,[b,d],null);b=lf.j(b,c);c=d}}
function sD(a){return new X(null,2,5,Z,[Xh.j(W,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);var u=Q(n,0,null);Q(n,1,null);k.add(new X(null,2,5,Z,[p,u],null));m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);h=Q(f,0,null);Q(f,1,null);return df(new X(null,2,5,Z,[k,h],null),d(Be(e)))}return null}},null,null)}(a)}()),
Xh.j(W,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);Q(n,0,null);n=Q(n,1,null);k.add(new X(null,2,5,Z,[p,n],null));m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);Q(f,0,null);f=Q(f,1,null);return df(new X(null,2,5,Z,[k,f],null),d(Be(e)))}return null}},null,null)}(a)}())],null)}
function tD(a,b){return Xh.j(W,function(){return function e(d){return new Hg(null,function(){for(;;){var f=H(d);if(f){if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);a:for(var n=0;;)if(n<k){var p=x(h,n),u=Q(p,0,null);p=Q(p,1,null);m.add(new X(null,2,5,Z,[u,new X(null,2,5,Z,[p,b],null)],null));n+=1}else{h=!0;break a}return h?Ng(Pg(m),e(Yd(f))):Ng(Pg(m),null)}h=J(f);m=Q(h,0,null);h=Q(h,1,null);return df(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(Be(f)))}return null}},null,null)}(a)}())}
function uD(){var a=gc;if(null!=a&&null!=a.If)a.If(a);else{var b=uD[ra(null==a?null:a)];if(null!=b)b.B?b.B(a):b.call(null,a);else if(b=uD._,null!=b)b.B?b.B(a):b.call(null,a);else throw Ac("IPrettyFlush.-ppflush",a);}}function vD(a,b){a=z(z(a));return b.B?b.B(a):b.call(null,a)}function wD(a,b,c){Bh.P(z(a),R,b,c)}function xD(a,b){F.j(b,"\n")?(wD(a,Hs,0),wD(a,zm,vD(a,zm)+1)):wD(a,Hs,vD(a,Hs)+1);return A(vD(a,vp),b)}
function yD(a,b){var c=zh(new q(null,4,[Ey,b,Hs,0,zm,0,vp,a],null));if("undefined"===typeof cc||"undefined"===typeof fD||"undefined"===typeof gD)gD=function(d,e,f,h){this.Wa=d;this.Uf=e;this.fields=f;this.Bi=h;this.J=1074167808;this.T=0},gD.prototype.fa=function(d,e){return new gD(this.Wa,this.Uf,this.fields,e)},gD.prototype.ea=function(){return this.Bi},gD.prototype.ub=function(){return this.fields},gD.prototype.Nc=function(){return Hd(this.Wa)},gD.prototype.qd=function(d,e){d=zc(e);if(r(F.j?F.j(String,
d):F.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?wD(this,Hs,vD(this,Hs)+M(e)):(wD(this,Hs,M(e)-d-1),wD(this,zm,vD(this,zm)+M(Vh(function(f){return F.j(f,"\n")},e)))),A(vD(this,vp),e);if(r(F.j?F.j(Number,d):F.call(null,Number,d)))return xD(this,e);throw Error(["No matching clause: ",t.B(d)].join(""));},gD.rb=!0,gD.kb="cljs.pprint/t_cljs$pprint21136",gD.vb=function(d){return A(d,"cljs.pprint/t_cljs$pprint21136")};return new gD(a,b,c,W)}
function zD(a,b,c,d,e,f,h,k,m,n,p,u,v){this.parent=a;this.Pb=b;this.wb=c;this.indent=d;this.Kb=e;this.Lb=f;this.prefix=h;this.Ob=k;this.suffix=m;this.Mb=n;this.G=p;this.D=u;this.I=v;this.J=2230716170;this.T=139264}g=zD.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "parent":return this.parent;case "section":return this.Pb;case "start-col":return this.wb;case "indent":return this.indent;case "done-nl":return this.Kb;case "intra-block-nl":return this.Lb;case "prefix":return this.prefix;case "per-line-prefix":return this.Ob;case "suffix":return this.suffix;case "logical-block-callback":return this.Mb;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.j(new X(null,10,5,Z,[new X(null,2,5,Z,[Br,this.parent],null),new X(null,2,5,Z,[Vz,this.Pb],null),new X(null,2,5,Z,[wr,this.wb],null),new X(null,2,5,Z,[RB,this.indent],null),new X(null,2,5,Z,[fn,this.Kb],null),new X(null,2,5,Z,[Aq,this.Lb],null),new X(null,2,5,Z,[Dp,this.prefix],null),new X(null,2,5,Z,[Lm,this.Ob],null),new X(null,2,5,Z,[hA,this.suffix],null),new X(null,2,5,Z,[bB,
this.Mb],null)],null),this.D))};g.oa=function(){return new Ti(this,10,new X(null,10,5,Z,[Br,Vz,wr,RB,fn,Aq,Dp,Lm,hA,bB],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 10+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1977012399^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.parent,b.parent)&&F.j(this.Pb,b.Pb)&&F.j(this.wb,b.wb)&&F.j(this.indent,b.indent)&&F.j(this.Kb,b.Kb)&&F.j(this.Lb,b.Lb)&&F.j(this.prefix,b.prefix)&&F.j(this.Ob,b.Ob)&&F.j(this.suffix,b.suffix)&&F.j(this.Mb,b.Mb)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,10,[hA,null,RB,null,Br,null,Vz,null,fn,null,wr,null,Dp,null,Lm,null,bB,null,Aq,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new zD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Br,b):T.call(null,Br,b))?new zD(c,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(Vz,b):T.call(null,Vz,b))?new zD(this.parent,c,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(wr,b):T.call(null,wr,b))?new zD(this.parent,this.Pb,c,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(RB,b):T.call(null,
RB,b))?new zD(this.parent,this.Pb,this.wb,c,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(fn,b):T.call(null,fn,b))?new zD(this.parent,this.Pb,this.wb,this.indent,c,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(Aq,b):T.call(null,Aq,b))?new zD(this.parent,this.Pb,this.wb,this.indent,this.Kb,c,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(Dp,b):T.call(null,Dp,b))?new zD(this.parent,this.Pb,this.wb,this.indent,
this.Kb,this.Lb,c,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(Lm,b):T.call(null,Lm,b))?new zD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,c,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(hA,b):T.call(null,hA,b))?new zD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,c,this.Mb,this.G,this.D,null):r(T.j?T.j(bB,b):T.call(null,bB,b))?new zD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,c,this.G,
this.D,null):new zD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,10,5,Z,[new Y(Br,this.parent),new Y(Vz,this.Pb),new Y(wr,this.wb),new Y(RB,this.indent),new Y(fn,this.Kb),new Y(Aq,this.Lb),new Y(Dp,this.prefix),new Y(Lm,this.Ob),new Y(hA,this.suffix),new Y(bB,this.Mb)],null),this.D))};
g.fa=function(a,b){return new zD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function AD(a,b){for(b=Br.B(b);;){if(null==b)return!1;if(a===b)return!0;b=Br.B(b)}}function BD(a,b,c,d,e,f,h,k){this.ua=a;this.data=b;this.xc=c;this.ta=d;this.sa=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=BD.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "data":return this.data;case "trailing-white-space":return this.xc;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[Um,this.data],null),new X(null,2,5,Z,[zp,this.xc],null),new X(null,2,5,Z,[Jp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[um,Um,zp,Jp,Cu],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1809113693^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.data,b.data)&&F.j(this.xc,b.xc)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[Cu,null,zp,null,um,null,Jp,null,Um,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new BD(this.ua,this.data,this.xc,this.ta,this.sa,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new BD(c,this.data,this.xc,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Um,b):T.call(null,Um,b))?new BD(this.ua,c,this.xc,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(zp,b):T.call(null,zp,b))?new BD(this.ua,this.data,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Jp,b):T.call(null,Jp,b))?new BD(this.ua,this.data,this.xc,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new BD(this.ua,this.data,this.xc,this.ta,c,this.G,
this.D,null):new BD(this.ua,this.data,this.xc,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(um,this.ua),new Y(Um,this.data),new Y(zp,this.xc),new Y(Jp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new BD(this.ua,this.data,this.xc,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function CD(a,b,c,d,e,f,h,k){this.ua=a;this.type=b;this.ya=c;this.ta=d;this.sa=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=CD.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "type":return this.type;case "logical-block":return this.ya;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[dq,this.type],null),new X(null,2,5,Z,[ir,this.ya],null),new X(null,2,5,Z,[Jp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};
g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[um,dq,ir,Jp,Cu],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1640656800^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.type,b.type)&&F.j(this.ya,b.ya)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[Cu,null,dq,null,ir,null,um,null,Jp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new CD(this.ua,this.type,this.ya,this.ta,this.sa,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new CD(c,this.type,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(dq,b):T.call(null,dq,b))?new CD(this.ua,c,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(ir,b):T.call(null,ir,b))?new CD(this.ua,this.type,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Jp,b):T.call(null,Jp,b))?new CD(this.ua,this.type,this.ya,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new CD(this.ua,this.type,this.ya,this.ta,c,this.G,
this.D,null):new CD(this.ua,this.type,this.ya,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(um,this.ua),new Y(dq,this.type),new Y(ir,this.ya),new Y(Jp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new CD(this.ua,this.type,this.ya,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function DD(a,b,c,d,e,f,h){this.ua=a;this.ya=b;this.ta=c;this.sa=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=DD.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "logical-block":return this.ya;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[ir,this.ya],null),new X(null,2,5,Z,[Jp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};
g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[um,ir,Jp,Cu],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-414877272^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.ya,b.ya)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[Cu,null,ir,null,um,null,Jp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new DD(this.ua,this.ya,this.ta,this.sa,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new DD(c,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(ir,b):T.call(null,ir,b))?new DD(this.ua,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Jp,b):T.call(null,Jp,b))?new DD(this.ua,this.ya,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new DD(this.ua,this.ya,this.ta,c,this.G,this.D,null):new DD(this.ua,this.ya,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(um,this.ua),new Y(ir,this.ya),new Y(Jp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new DD(this.ua,this.ya,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function ED(a,b,c,d,e,f,h){this.ua=a;this.ya=b;this.ta=c;this.sa=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=ED.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "logical-block":return this.ya;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[ir,this.ya],null),new X(null,2,5,Z,[Jp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[um,ir,Jp,Cu],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1365867980^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.ya,b.ya)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[Cu,null,ir,null,um,null,Jp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new ED(this.ua,this.ya,this.ta,this.sa,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new ED(c,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(ir,b):T.call(null,ir,b))?new ED(this.ua,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Jp,b):T.call(null,Jp,b))?new ED(this.ua,this.ya,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new ED(this.ua,this.ya,this.ta,c,this.G,this.D,null):new ED(this.ua,this.ya,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(um,this.ua),new Y(ir,this.ya),new Y(Jp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new ED(this.ua,this.ya,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function FD(a,b,c,d,e,f,h,k,m){this.ua=a;this.ya=b;this.lc=c;this.offset=d;this.ta=e;this.sa=f;this.G=h;this.D=k;this.I=m;this.J=2230716170;this.T=139264}g=FD.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "logical-block":return this.ya;case "relative-to":return this.lc;case "offset":return this.offset;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.j(new X(null,6,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[ir,this.ya],null),new X(null,2,5,Z,[Gx,this.lc],null),new X(null,2,5,Z,[nu,this.offset],null),new X(null,2,5,Z,[Jp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};g.oa=function(){return new Ti(this,6,new X(null,6,5,Z,[um,ir,Gx,nu,Jp,Cu],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};
g.ja=function(){return 6+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1602780238^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.ya,b.ya)&&F.j(this.lc,b.lc)&&F.j(this.offset,b.offset)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,6,[nu,null,Cu,null,Gx,null,ir,null,um,null,Jp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new FD(this.ua,this.ya,this.lc,this.offset,this.ta,this.sa,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new FD(c,this.ya,this.lc,this.offset,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(ir,b):T.call(null,ir,b))?new FD(this.ua,c,this.lc,this.offset,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Gx,b):T.call(null,Gx,b))?new FD(this.ua,this.ya,c,this.offset,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(nu,b):T.call(null,nu,b))?new FD(this.ua,this.ya,this.lc,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Jp,b):T.call(null,Jp,b))?new FD(this.ua,
this.ya,this.lc,this.offset,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new FD(this.ua,this.ya,this.lc,this.offset,this.ta,c,this.G,this.D,null):new FD(this.ua,this.ya,this.lc,this.offset,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,6,5,Z,[new Y(um,this.ua),new Y(ir,this.ya),new Y(Gx,this.lc),new Y(nu,this.offset),new Y(Jp,this.ta),new Y(Cu,this.sa)],null),this.D))};
g.fa=function(a,b){return new FD(this.ua,this.ya,this.lc,this.offset,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};var GD=function(){var a=zh(W),b=zh(W),c=zh(W),d=zh(W),e=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));return new Wl(te.j(ba,"write-token"),function(f,h){return um.B(h)},e,a,b,c,d)}();
GD.gb(null,Im,function(a,b){var c=bB.B(z(z(a)));r(c)&&(c.B?c.B(rn):c.call(null,rn));b=ir.B(b);c=Dp.B(b);r(c)&&A(vp.B(z(z(a))),c);a=vD(vp.B(z(z(a))),Hs);Ah(wr.B(b),a);return Ah(RB.B(b),a)});GD.gb(null,cC,function(a,b){var c=bB.B(z(z(a)));r(c)&&(c.B?c.B(nx):c.call(null,nx));b=hA.B(ir.B(b));return r(b)?A(vp.B(z(z(a))),b):null});
GD.gb(null,Sw,function(a,b){var c=ir.B(b),d=RB.B(c),e=nu.B(b);b=Gx.B(b);if(r(F.j?F.j(Xt,b):F.call(null,Xt,b)))a=z(wr.B(c));else if(r(F.j?F.j(tr,b):F.call(null,tr,b)))a=vD(vp.B(z(z(a))),Hs);else throw Error(["No matching clause: ",t.B(b)].join(""));return Ah(d,e+a)});GD.gb(null,tx,function(a,b){return A(vp.B(z(z(a))),Um.B(b))});
GD.gb(null,Xx,function(a,b){var c=(c=F.j(dq.B(b),In))?c:F.j(dq.B(b),Gt)?!1:z(fn.B(ir.B(b)));r(c)?HD.j?HD.j(a,b):HD.call(null,a,b):(b=zp.B(z(z(a))),r(b)&&A(vp.B(z(z(a))),b));return Bh.P(z(a),R,zp,null)});
function ID(a,b,c){b=H(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);if(!F.j(um.B(h),Xx)){var k=zp.B(z(z(a)));r(k)&&A(vp.B(z(z(a))),k)}GD.j(a,h);Bh.P(z(a),R,zp,zp.B(h));h=zp.B(z(z(a)));r(r(c)?h:c)&&(A(vp.B(z(z(a))),h),Bh.P(z(a),R,zp,null));f+=1}else if(b=H(b))Ef(b)?(d=Xd(b),b=Yd(b),h=d,e=M(d),d=h):(h=J(b),F.j(um.B(h),Xx)||(d=zp.B(z(z(a))),r(d)&&A(vp.B(z(z(a))),d)),GD.j(a,h),Bh.P(z(a),R,zp,zp.B(h)),h=zp.B(z(z(a))),r(r(c)?h:c)&&(A(vp.B(z(z(a))),h),Bh.P(z(a),R,zp,null)),b=K(b),d=null,e=0),f=
0;else break}function JD(a,b){var c=vD(vp.B(z(z(a))),Ey),d;(d=null==c)||(a=vD(vp.B(z(z(a))),Hs),b=(b=H(b))?Cu.B(kf(b))-Jp.B(J(b)):0,d=a+b<c);return d}function KD(a,b,c){b=z(fn.B(b));return r(b)?b:!JD(a,c)}function LD(a,b,c){var d=Ry.B(z(z(a))),e=vD(vp.B(z(z(a))),Ey);return r(d)?r(e)?z(wr.B(b))>=e-d?KD(a,b,c):!1:e:d}var MD=function(){var a=zh(W),b=zh(W),c=zh(W),d=zh(W),e=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));return new Wl(te.j(ba,"emit-nl?"),function(f){return dq.B(f)},e,a,b,c,d)}();
MD.gb(null,iv,function(a,b,c){a=ir.B(a);return KD(b,a,c)});MD.gb(null,Lz,function(a,b,c){a=ir.B(a);return LD(b,a,c)});MD.gb(null,Gt,function(a,b,c,d){a=ir.B(a);var e=z(Aq.B(a));return r(e)?e:(d=!JD(b,d))?d:LD(b,a,c)});MD.gb(null,In,function(){return!0});function ND(a){var b=J(a),c=ir.B(b);b=H(wk(function(d){return!(F.j(um.B(d),Xx)&&AD(ir.B(d),c))},K(a)));return new X(null,2,5,Z,[b,H(Jh(M(b)+1,a))],null)}
function OD(a){var b=J(a),c=ir.B(b);return H(wk(function(d){var e=ir.B(d);return!(F.j(um.B(d),Xx)&&(F.j(e,c)||AD(e,c)))},K(a)))}function HD(a,b){A(vp.B(z(z(a))),"\n");Bh.P(z(a),R,zp,null);b=ir.B(b);var c=Lm.B(b);r(c)&&A(vp.B(z(z(a))),c);c=dh(t,Oh(z(RB.B(b))-M(c)," "));A(vp.B(z(z(a))),c);a:for(Ah(Aq.B(b),!0),Ah(fn.B(b),!0),a=Br.B(b);;)if(r(a))Ah(fn.B(a),!0),Ah(Aq.B(a),!0),a=Br.B(a);else break a;return null}
function PD(a){var b=H(wk(function(c){return!F.j(um.B(c),Xx)},a));return new X(null,2,5,Z,[b,H(Jh(M(b),a))],null)}var QD=function QD(a,b){var d=PD(b);b=Q(d,0,null);var e=Q(d,1,null);r(b)&&ID(a,b,!1);if(r(e)){d=ND(e);b=Q(d,0,null);d=Q(d,1,null);var f=J(e),h=MD.P(f,a,b,OD(e));r(h)&&(HD(a,f),e=K(e));JD(a,e)?a=e:(e=QD.j?QD.j(a,b):QD.call(null,a,b),F.j(e,b)?(ID(a,b,!1),a=d):a=Xh.j(mf,V.j(e,d)));return a}return null};
function RD(a){for(var b=qA.B(z(z(a)));;){Bh.P(z(a),R,qA,Xh.j(mf,b));if(JD(a,b))return null;var c=QD(a,b);if(b!==c)b=c;else return null}}function SD(a,b){Bh.P(z(a),R,qA,lf.j(qA.B(z(z(a))),b));return JD(a,qA.B(z(z(a))))?null:RD(a)}function TD(a){var b=zp.B(z(z(a)));return r(b)?(A(vp.B(z(z(a))),b),Bh.P(z(a),R,zp,null)):null}
function UD(a,b){var c=pC(b,"\n",-1);if(F.j(M(c),1))return b;b=Lm.B(J(Tq.B(z(z(a)))));var d=J(c);if(F.j(xo,Cy.B(z(z(a))))){var e=Ps.B(z(z(a))),f=e+M(d);Bh.P(z(a),R,Ps,f);SD(a,new BD(tx,d,null,e,f,null,null,null));RD(a);d=qA.B(z(z(a)));r(d)&&(ID(a,d,!0),Bh.P(z(a),R,qA,mf))}else TD(a),A(vp.B(z(z(a))),d);A(vp.B(z(z(a))),"\n");d=H(K(rk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.xa(null,h);A(vp.B(z(z(a))),k);A(vp.B(z(z(a))),"\n");r(b)&&A(vp.B(z(z(a))),b);h+=1}else if(d=H(d))e=d,Ef(e)?(d=Xd(e),h=Yd(e),
e=d,f=M(d),d=h):(d=J(e),A(vp.B(z(z(a))),d),A(vp.B(z(z(a))),"\n"),r(b)&&A(vp.B(z(z(a))),b),d=K(e),e=null,f=0),h=0;else break;Bh.P(z(a),R,xo,ur);return kf(c)}
function VD(a){var b=WD,c=XD,d=new zD(null,null,zh(0),zh(0),zh(!1),zh(!1),null,null,null,null,null,null,null),e=zh(Kj([Tq,Ry,ys,it,ov,Cy,Ps,zp,vp,qt,qA],[d,c,d,!0,null,ur,0,null,yD(a,b),1,mf]));if("undefined"===typeof cc||"undefined"===typeof fD||"undefined"===typeof hD)hD=function(f,h,k,m,n,p){this.Wa=f;this.Uf=h;this.Si=k;this.wi=m;this.fields=n;this.Ci=p;this.J=1074167808;this.T=0},hD.prototype.fa=function(f,h){return new hD(this.Wa,this.Uf,this.Si,this.wi,this.fields,h)},hD.prototype.ea=function(){return this.Ci},
hD.prototype.ub=function(){return this.fields},hD.prototype.qd=function(f,h){f=zc(h);if(r(F.j?F.j(String,f):F.call(null,String,f))){var k=UD(this,h);h=k.replace(/\s+$/,"");f=wg.j(k,h.length);var m=Cy.B(z(z(this)));if(F.j(m,ur))return TD(this),A(vp.B(z(z(this))),h),Bh.P(z(this),R,zp,f);m=Ps.B(z(z(this)));k=m+M(k);Bh.P(z(this),R,Ps,k);return SD(this,new BD(tx,h,f,m,k,null,null,null))}if(r(F.j?F.j(Number,f):F.call(null,Number,f)))return F.j(Cy.B(z(z(this))),ur)?(TD(this),h=A(vp.B(z(z(this))),h)):F.j(h,
"\n")?h=UD(this,"\n"):(f=Ps.B(z(z(this))),k=f+1,Bh.P(z(this),R,Ps,k),h=pg(h),h=SD(this,new BD(tx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.B(f)].join(""));},hD.prototype.Nc=function(){this.If(null);return Hd(vp.B(z(z(this))))},hD.prototype.If=function(){return F.j(Cy.B(z(z(this))),xo)?(ID(this,qA.B(z(z(this))),!0),Bh.P(z(this),R,qA,mf)):TD(this)},hD.rb=!0,hD.kb="cljs.pprint/t_cljs$pprint21870",hD.vb=function(f){return A(f,"cljs.pprint/t_cljs$pprint21870")};return new hD(a,
b,c,d,e,W)}function YD(a,b){var c=gc;b=new zD(Tq.B(z(z(c))),null,zh(0),zh(0),zh(!1),zh(!1),a,null,b,null,null,null,null);Bh.P(z(c),R,Tq,b);if(F.j(Cy.B(z(z(c))),ur)){TD(c);var d=bB.B(z(z(c)));r(d)&&(d.B?d.B(rn):d.call(null,rn));r(a)&&A(vp.B(z(z(c))),a);c=vD(vp.B(z(z(c))),Hs);Ah(b.wb,c);Ah(b.indent,c)}else d=Ps.B(z(z(c))),a=d+(r(a)?M(a):0),Bh.P(z(c),R,Ps,a),SD(c,new DD(Im,b,d,a,null,null,null))}
function ZD(){var a=gc,b=Tq.B(z(z(a))),c=hA.B(b);if(F.j(Cy.B(z(z(a))),ur)){TD(a);r(c)&&A(vp.B(z(z(a))),c);var d=bB.B(z(z(a)));r(d)&&(d.B?d.B(nx):d.call(null,nx))}else d=Ps.B(z(z(a))),c=d+(r(c)?M(c):0),Bh.P(z(a),R,Ps,c),SD(a,new ED(cC,b,d,c,null,null,null));Bh.P(z(a),R,Tq,Br.B(b))}var $D=!0,aE=null,WD=72,XD=40,bE=null,cE=null,dE=null,eE=null,fE=10,gE=0,hE=null;function iE(a){return(null!=a?a.J&32768||l===a.Fg||(a.J?0:yc(md,a)):yc(md,a))?it.B(z(z(a))):!1}
function jE(a){var b=hE;r(b)&&(b=kc,b=r(b)?hE>=kc:b);wc($D)?nD.call(null,a):r(b)?A(gc,"..."):(r(hE)&&(hE+=1),aE.call(null,a));return b}var kE=function kE(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return kE.F(arguments[0],c)};
kE.F=function(a,b){var c=hk.F(P([new q(null,1,[JB,!0],null),dh(dk,b)]));b=fE;var d=cE,e=kc,f=lc,h=bE,k=XD,m=aE,n=$D,p=eE,u=jc,v=WD,y=dE,E=vp.j(c,fE),G=on.j(c,cE),I=Mn.j(c,kc),N=sm.j(c,lc),O=pv.j(c,bE),U=Ry.j(c,XD),ea=mz.j(c,aE),fa=ot.j(c,$D),qa=Mt.j(c,eE),ya=oc.j(c,jc),Sa=Qo.j(c,WD),ka=yr.j(c,dE);fE=E;cE=G;kc=I;lc=N;bE=O;XD=U;aE=ea;$D=fa;eE=qa;jc=ya;WD=Sa;dE=ka;try{var oa=new bc,Ca=Lf(c,JB)?JB.B(c):!0,wa=!0===Ca||null==Ca?new ge(oa):Ca;if(r($D)){var Ba=wc(iE(wa));c=gc;gc=Ba?VD(wa):wa;try{jE(a),uD()}finally{gc=
c}}else{Ba=gc;gc=wa;try{nD.call(null,a)}finally{gc=Ba}}!0===Ca&&Rk(t.B(oa));return null==Ca?t.B(oa):null}finally{dE=y,WD=v,jc=u,eE=p,$D=n,aE=m,XD=k,bE=h,lc=f,kc=e,cE=d,fE=b}};kE.Y=1;kE.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function lE(){var a=new X(null,6,5,Z,[fr,new X(null,2,5,Z,[Ag(Bw,HB,new X(null,1,5,Z,[ss],null)),$u],null),xB,Gp,hp,new X(null,2,5,Z,[HB,MB],null)],null);var b=z(mE);a=nE.j?nE.j(a,b):nE.call(null,a,b);b=new bc;var c=gc;gc=new ge(b);try{var d=gc,e=wc(iE(d)),f=gc;gc=e?VD(d):d;try{e=$D;$D=!0;try{jE(a)}finally{$D=e}F.j(0,vD(gc,Hs))||A(gc,"\n");uD()}finally{gc=f}Rk(t.B(b))}finally{gc=c}}
function oE(a,b){if(wc(b.B?b.B(a):b.call(null,a)))throw Error(["Bad argument: ",t.B(a),". It must be one of ",t.B(b)].join(""));}function pE(){var a=lc;return r(a)?gE>=lc:a}function qE(a){oE(a,new mk(null,new q(null,4,[In,null,Lz,null,Gt,null,iv,null],null),null));var b=gc;Bh.P(z(b),R,Cy,xo);var c=Ps.B(z(z(b))),d=Tq.B(z(z(b)));SD(b,new CD(Xx,a,d,c,c,null,null,null))}
function rE(a,b){oE(a,new mk(null,new q(null,2,[Xt,null,tr,null],null),null));var c=gc,d=Tq.B(z(z(c)));if(F.j(Cy.B(z(z(c))),ur)){TD(c);var e=RB.B(d);if(r(F.j?F.j(Xt,a):F.call(null,Xt,a)))a=z(wr.B(d));else if(r(F.j?F.j(tr,a):F.call(null,tr,a)))a=vD(vp.B(z(z(c))),Hs);else throw Error(["No matching clause: ",t.B(a)].join(""));Ah(e,b+a)}else e=Ps.B(z(z(c))),SD(c,new FD(Sw,d,a,b,e,e,null,null,null))}
function sE(a,b,c){b="string"===typeof b?tE(b):b;c=uE(c);a:{var d=new bc,e=wc(a)||!0===a?new ge(d):a,f=vE(b)&&wc(iE(e))?r(iE(e))?e:VD(e):e,h=gc;gc=f;try{try{wE(b,c)}finally{e!==f&&Hd(f)}var k=wc(a)?t.B(d):!0===a?Rk(t.B(d)):null;break a}finally{gc=h}k=void 0}return k}var xE=null;function yE(a,b){a=[t.B(a),"\n",t.B(xE),"\n",t.B(dh(t,Oh(b," "))),"^\n"].join("");throw Error(a);}function zE(a,b,c,d,e,f){this.Uc=a;this.rest=b;this.pos=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=zE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "seq":return this.Uc;case "rest":return this.rest;case "pos":return this.pos;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[fp,this.Uc],null),new X(null,2,5,Z,[ju,this.rest],null),new X(null,2,5,Z,[Ps,this.pos],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[fp,ju,Ps],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-402038447^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Uc,b.Uc)&&F.j(this.rest,b.rest)&&F.j(this.pos,b.pos)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[Ps,null,fp,null,ju,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new zE(this.Uc,this.rest,this.pos,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fp,b):T.call(null,fp,b))?new zE(c,this.rest,this.pos,this.G,this.D,null):r(T.j?T.j(ju,b):T.call(null,ju,b))?new zE(this.Uc,c,this.pos,this.G,this.D,null):r(T.j?T.j(Ps,b):T.call(null,Ps,b))?new zE(this.Uc,this.rest,c,this.G,this.D,null):new zE(this.Uc,this.rest,this.pos,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(fp,this.Uc),new Y(ju,this.rest),new Y(Ps,this.pos)],null),this.D))};
g.fa=function(a,b){return new zE(this.Uc,this.rest,this.pos,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function uE(a){a=H(a);return new zE(a,a,0,null,null,null)}function AE(a){var b=ju.B(a);if(r(b))return new X(null,2,5,Z,[J(b),new zE(fp.B(a),K(b),Ps.B(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function BE(a){var b=AE(a);a=Q(b,0,null);b=Q(b,1,null);a="string"===typeof a?tE(a):a;return new X(null,2,5,Z,[a,b],null)}function CE(a,b){return b>=Ps.B(a)?(b=Ps.B(a)-b,DE.j?DE.j(a,b):DE.call(null,a,b)):new zE(fp.B(a),Jh(b,fp.B(a)),b,null,null,null)}function DE(a,b){var c=Ps.B(a)+b;return 0>b?CE(a,c):new zE(fp.B(a),Jh(b,ju.B(a)),c,null,null,null)}function EE(a,b,c,d,e,f,h){this.Fc=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=EE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "func":return this.Fc;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[Ow,this.Fc],null),new X(null,2,5,Z,[mo,this.def],null),new X(null,2,5,Z,[au,this.params],null),new X(null,2,5,Z,[nu,this.offset],null)],null),this.D))};g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[Ow,mo,au,nu],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-829256337^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Fc,b.Fc)&&F.j(this.def,b.def)&&F.j(this.params,b.params)&&F.j(this.offset,b.offset)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[nu,null,Ow,null,au,null,mo,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new EE(this.Fc,this.def,this.params,this.offset,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ow,b):T.call(null,Ow,b))?new EE(c,this.def,this.params,this.offset,this.G,this.D,null):r(T.j?T.j(mo,b):T.call(null,mo,b))?new EE(this.Fc,c,this.params,this.offset,this.G,this.D,null):r(T.j?T.j(au,b):T.call(null,au,b))?new EE(this.Fc,this.def,c,this.offset,this.G,this.D,null):r(T.j?T.j(nu,b):T.call(null,nu,b))?new EE(this.Fc,this.def,this.params,c,this.G,this.D,null):new EE(this.Fc,this.def,this.params,this.offset,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(Ow,this.Fc),new Y(mo,this.def),new Y(au,this.params),new Y(nu,this.offset)],null),this.D))};g.fa=function(a,b){return new EE(this.Fc,this.def,this.params,this.offset,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function FE(a,b){var c=Q(a,0,null);a=Q(a,1,null);var d=Q(a,0,null);a=Q(a,1,null);d=Lf(new mk(null,new q(null,2,[rv,null,dz,null],null),null),c)?new X(null,2,5,Z,[d,b],null):F.j(d,Kz)?AE(b):F.j(d,As)?new X(null,2,5,Z,[M(ju.B(b)),b],null):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function GE(a,b){b=qD(FE,b,a);a=Q(b,0,null);b=Q(b,1,null);return new X(null,2,5,Z,[Xh.j(W,a),b],null)}
var HE=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);function IE(a){return Kf(a)?F.j(fE,10)?[t.B(a),r(eE)?".":null].join(""):[t.B(r(eE)?function(){var b=C.j(HE,fE);return r(b)?b:["#",t.B(fE),"r"].join("")}():null),t.B(JE(fE,a))].join(""):null}
function KE(a,b,c){c=AE(c);var d=Q(c,0,null);c=Q(c,1,null);var e=IE(d);a=r(e)?e:a.B?a.B(d):a.call(null,d);d=a.length;e=d+zv.B(b);e=e>=nB.B(b)?e:e+(sg(nB.B(b)-e-1,Wq.B(b))+1)*Wq.B(b);d=dh(t,Oh(e-d,ls.B(b)));r(dz.B(b))?mD.F(P([[t.B(d),t.B(a)].join("")])):mD.F(P([[t.B(a),t.B(d)].join("")]));return c}function LE(a,b){return zg(J(rD(function(c){return 0<c?new X(null,2,5,Z,[tg(c,a),sg(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}
function JE(a,b){return 0===b?"0":dh(t,Hh.j(function(c){return 10>c?pg(pD("0")+c):pg(pD("a")+(c-10))},LE(a,b)))}function ME(a,b){return zg(J(rD(function(c){return new X(null,2,5,Z,[H(zg(Ih.j(a,c))),H(Jh(a,c))],null)},zg(b))))}
function NE(a,b,c){c=AE(c);var d=Q(c,0,null);c=Q(c,1,null);if(Kf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&F.j(d,Math.floor(d))){var e=0>d,f=JE(a,e?-d:d);a=r(rv.B(b))?function(){var h=Hh.j(function(m){return dh(t,m)},ME(Xs.B(b),f)),k=Oh(M(h),pu.B(b));return dh(t,K(Rh.j(k,h)))}():f;a=e?["-",t.B(a)].join(""):r(dz.B(b))?["+",t.B(a)].join(""):a;a=a.length<nB.B(b)?[t.B(dh(t,Oh(nB.B(b)-a.length,ls.B(b)))),t.B(a)].join(""):a;mD.F(P([a]))}else KE(fl,new q(null,5,[nB,
nB.B(b),Wq,1,zv,0,ls,ls.B(b),dz,!0],null),uE(new X(null,1,5,Z,[d],null)));return c}
var OE=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),PE=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),QE=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),RE=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),SE=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function TE(a){var b=sg(a,100),c=tg(a,100);return[0<b?[t.B(Ye(OE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?Ye(OE,c):function(){var d=sg(c,10),e=tg(c,10);return[t.B(0<d?Ye(QE,d):null),0<d&&0<e?"-":null,t.B(0<e?Ye(OE,e):null)].join("")}():null)].join("")}
function UE(a,b){var c=M(a),d=mf;--c;var e=J(a);for(a=K(a);;){if(null==a)return[t.B(dh(t,Jh(1,Rh.j(Nh(", "),d)))),wf(e)||wf(d)?null:", ",t.B(e),!wf(e)&&0<c+b?[" ",t.B(Ye(SE,c+b))].join(""):null].join("");d=wf(e)?d:lf.j(d,[t.B(e)," ",t.B(Ye(SE,c+b))].join(""));--c;e=J(a);a=K(a)}}
function VE(a){var b=sg(a,100),c=tg(a,100);return[0<b?[t.B(Ye(OE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?Ye(PE,c):function(){var d=sg(c,10),e=tg(c,10);return 0<d&&!(0<e)?Ye(RE,d):[t.B(0<d?Ye(QE,d):null),0<d&&0<e?"-":null,t.B(0<e?Ye(PE,e):null)].join("")}():0<b?"th":null)].join("")}
var WE=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),XE=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function YE(a,b){b=AE(b);var c=Q(b,0,null);b=Q(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=LE(10,c);c=mf;for(var e=M(d)-1;;)if(wf(d)){mD.F(P([dh(t,c)]));break}else{var f=J(d);c=F.j(0,f)?c:lf.j(c,Ye(Ye(a,e),f-1));--e;d=K(d)}}else NE(10,new q(null,5,[nB,0,ls," ",pu,",",Xs,3,rv,!0],null),uE(new X(null,1,5,Z,[c],null)));return b}var ZE=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function $E(a,b){a=AE(b);b=Q(a,0,null);a=Q(a,1,null);var c=pD(b);b=c&127;c&=128;var d=C.j(ZE,b);0<c&&mD.F(P(["Meta-"]));mD.F(P([r(d)?d:32>b?["Control-",t.B(pg(b+64))].join(""):F.j(b,127)?"Control-?":pg(b)]));return a}
function aF(a,b){var c=AE(b);b=Q(c,0,null);c=Q(c,1,null);a=yy.B(a);if(r(F.j?F.j("o",a):F.call(null,"o",a)))sE(!0,"\\o~3, '0o",P([pD(b)]));else if(r(F.j?F.j("u",a):F.call(null,"u",a)))sE(!0,"\\u~4, '0x",P([pD(b)]));else if(r(F.j?F.j(null,a):F.call(null,null,a)))A(gc,r(F.j?F.j("\b",b):F.call(null,"\b",b))?"\\backspace":r(F.j?F.j(" ",b):F.call(null," ",b))?"\\space":r(F.j?F.j("\t",b):F.call(null,"\t",b))?"\\tab":r(F.j?F.j("\n",b):F.call(null,"\n",b))?"\\newline":r(F.j?F.j("\f",b):F.call(null,"\f",b))?
"\\formfeed":r(F.j?F.j("\r",b):F.call(null,"\r",b))?"\\return":r(F.j?F.j('"',b):F.call(null,'"',b))?'\\"':r(F.j?F.j("\\",b):F.call(null,"\\",b))?"\\\\":["\\",t.B(b)].join(""));else throw Error(["No matching clause: ",t.B(a)].join(""));return c}function bF(a,b){b=AE(b);a=Q(b,0,null);b=Q(b,1,null);mD.F(P([a]));return b}function cF(a){a=J(a);return F.j(VA,a)||F.j(yx,a)}
function dF(a,b,c){return hf(qD(function(d,e){if(cF(e))return new X(null,2,5,Z,[null,e],null);e=GE(au.B(d),e);var f=Q(e,0,null);e=Q(e,1,null);var h=sD(f);f=Q(h,0,null);h=Q(h,1,null);f=R.C(f,ao,c);return new X(null,2,5,Z,[null,dh(Ow.B(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function eF(a){a=t.B(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,t.B(a.length-1)],null):new X(null,2,5,Z,[[wg.C(a,0,c),wg.j(a,c+1)].join(""),t.B(c-1)],null):0>c?new X(null,2,5,Z,[wg.C(a,0,b),wg.j(a,b+1)],null):new X(null,2,5,Z,[[wg.C(a,0,1),wg.C(a,2,b)].join(""),wg.j(a,b+1)],null);b=Q(a,0,null);a=Q(a,1,null);a:if(c=M(b),0<c&&F.j(Ye(b,M(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(F.j(Ye(b,c),"0"))--c;else{b=wg.C(b,0,c+1);break a}}a:{c=b;var d=M(c);if(0<d&&
F.j(Ye(c,0),"0"))for(var e=0;;){if(F.j(e,d)||!F.j(Ye(c,e),"0")){c=wg.j(c,e);break a}e+=1}}b=M(b)-M(c);a=0<M(a)&&F.j(Ye(a,0),"+")?wg.j(a,1):a;return wf(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function fF(a,b,c,d){if(r(r(c)?c:d)){var e=M(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=F.j(c,0)?new X(null,4,5,Z,[["0",t.B(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=Q(f,0,null);e=Q(f,1,null);d=Q(f,2,null);f=Q(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=Ye(c,d);a=wg.C(c,0,d);if(pD(b)>=pD("5")){a:for(b=M(a)-1,c=b|0;;){if(0>c){b=eh(t,"1",Oh(b+1,"0"));break a}if(F.j("9",a.charAt(c)))--c;else{b=gh(t,wg.C(a,0,c),pg(pD(a.charAt(c))+
1),Oh(b-c,"0"));break a}}a=M(b)>a.length;return new X(null,3,5,Z,[a?wg.C(b,0,M(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}function gF(a,b,c){var d=0>b?new X(null,2,5,Z,[[t.B(dh(t,Oh(-b-1,"0"))),t.B(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=Q(d,0,null);var e=Q(d,1,null);d=M(a);c=r(c)?e+c+1:e+1;c=d<c?[t.B(a),t.B(dh(t,Oh(c-d,"0")))].join(""):a;0>b?b=[".",t.B(c)].join(""):(b+=1,b=[wg.C(c,0,b),".",wg.j(c,b)].join(""));return b}
function hF(a,b){return 0>b?[".",t.B(a)].join(""):[wg.C(a,0,b),".",wg.j(a,b)].join("")}
function iF(a,b){var c=Ew.B(a),d=yw.B(a);b=AE(b);var e=Q(b,0,null);b=Q(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=Q(f,0,null);f=Q(f,1,null);f=eF(f);var k=Q(f,0,null),m=Q(f,1,null)+rw.B(a);f=dz.B(a);e=r(f)?f:0>e;f=wc(d)&&M(k)-1<=m;var n=fF(k,m,d,r(c)?c-(r(e)?1:0):null);k=Q(n,0,null);m=Q(n,1,null);n=Q(n,2,null);k=gF(k,r(n)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&F.j(k.charAt(0),"0")&&F.j(k.charAt(1),".")&&k.length>c-(r(e)?1:0):d:c)?wg.j(k,1):k;m=F.j(J(d),".");r(c)?(k=
d.length,k=r(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,r(k>c?gB.B(a):!1)?mD.F(P([dh(t,Oh(c,gB.B(a)))])):mD.F(P([[t.B(dh(t,Oh(c-k,ls.B(a)))),t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):mD.F(P([[t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function jF(a,b){b=AE(b);var c=Q(b,0,null);b=Q(b,1,null);var d=eF(0>c?-c:c);Q(d,0,null);for(Q(d,1,null);;){var e=Q(d,0,null),f=Q(d,1,null),h=Ew.B(a),k=yw.B(a),m=vw.B(a),n=rw.B(a),p=function(){var I=Vo.B(a);return r(I)?I:"E"}();d=function(){var I=dz.B(a);return r(I)?I:0>c}();var u=0>=n,v=f-(n-1),y=t.B(Math.abs(v));p=[t.B(p),0>v?"-":"+",t.B(r(m)?dh(t,Oh(m-y.length,"0")):null),y].join("");var E=p.length;v=M(e);e=[t.B(dh(t,Oh(-n,"0"))),t.B(e),t.B(r(k)?dh(t,Oh(k-(v-1)-(0>n?-n:0),"0")):null)].join("");
v=r(h)?h-E:null;e=fF(e,0,F.j(n,0)?k-1:0<n?k:0>n?k-1:null,r(v)?v-(r(d)?1:0):null);v=Q(e,0,null);Q(e,1,null);y=Q(e,2,null);e=hF(v,n);k=F.j(n,M(v))&&null==k;if(wc(y)){if(r(h)){f=e.length+E;f=r(d)?f+1:f;var G=(u=u&&!F.j(f,h))?f+1:f;f=k&&G<h;r(function(){var I=G>h;I||(I=m,I=r(I)?E-2>m:I);return r(I)?gB.B(a):I}())?mD.F(P([dh(t,Oh(h,gB.B(a)))])):mD.F(P([[t.B(dh(t,Oh(h-G-(f?1:0),ls.B(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,p].join("")]))}else mD.F(P([[r(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,p].join("")]));break}else d=new X(null,2,5,Z,[v,f+1],null)}return b}function kF(a,b,c){var d=AE(b),e=Q(d,0,null);Q(d,1,null);d=eF(0>e?-e:e);var f=Q(d,0,null);d=Q(d,1,null);var h=Ew.B(a),k=yw.B(a),m=vw.B(a);d=F.j(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=M(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=iF(new q(null,6,[Ew,h,yw,d,rw,0,gB,gB.B(a),ls,ls.B(a),dz,dz.B(a)],null),b,c),mD.F(P([dh(t,Oh(e," "))])),a):jF(a,b,c)}
function lF(a,b){b=AE(b);var c=Q(b,0,null);b=Q(b,1,null);var d=eF(Math.abs(c)),e=Q(d,0,null),f=Q(d,1,null),h=yw.B(a),k=Mw.B(a);d=Ew.B(a);var m=function(){var p=dz.B(a);return r(p)?p:0>c}(),n=fF(e,f,h,null);e=Q(n,0,null);f=Q(n,1,null);n=Q(n,2,null);h=gF(e,r(n)?f+1:f,h);k=[t.B(dh(t,Oh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);mD.F(P([[r(function(){var p=rv.B(a);return r(p)?m:p}())?0>c?"-":"+":null,t.B(dh(t,Oh(d-h,ls.B(a)))),r(wc(rv.B(a))?m:!1)?0>c?"-":"+":null,k].join("")]));return b}
function mF(a,b){var c=Jz.B(a);c=r(c)?new X(null,2,5,Z,[c,b],null):AE(b);b=Q(c,0,null);c=Q(c,1,null);var d=Ny.B(a);b=0>b||b>=M(d)?J(Yt.B(a)):Ye(d,b);return r(b)?dF(b,c,ao.B(a)):c}function nF(a,b){var c=AE(b);b=Q(c,0,null);c=Q(c,1,null);var d=Ny.B(a);b=r(b)?hf(d):J(d);return r(b)?dF(b,c,ao.B(a)):c}function oF(a,b){var c=AE(b),d=Q(c,0,null);c=Q(c,1,null);var e=Ny.B(a);e=r(d)?J(e):null;return r(d)?r(e)?dF(e,b,ao.B(a)):b:c}
function pF(a,b){var c=zB.B(a),d=J(Ny.B(a));d=wf(d)?BE(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=AE(d);var e=Q(d,0,null);d=Q(d,1,null);var f=0;e=uE(e);for(var h=-1;;){if(wc(c)&&F.j(Ps.B(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=wf(ju.B(e))&&(wc(rv.B(Ip.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=dF(b,e,ao.B(a));if(F.j(VA,J(h)))return d;f+=1;var k=Ps.B(e);e=h;h=k}}
function qF(a,b){var c=zB.B(a),d=J(Ny.B(a));d=wf(d)?BE(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=AE(d);var e=Q(d,0,null);d=Q(d,1,null);for(var f=0;;){var h=wf(e)&&(wc(rv.B(Ip.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=dF(b,uE(J(e)),uE(K(e)));if(F.j(yx,J(h)))return d;f+=1;e=K(e)}}
function rF(a,b){var c=zB.B(a),d=J(Ny.B(a)),e=wf(d)?BE(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;e=Q(e,1,null);for(var f=-1;;){if(wc(c)&&F.j(Ps.B(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=wf(ju.B(e))&&(wc(rv.B(Ip.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=dF(b,e,ao.B(a));if(F.j(VA,J(f)))return hf(f);d+=1;var h=Ps.B(e);e=f;f=h}}
function sF(a,b){var c=zB.B(a),d=J(Ny.B(a)),e=wf(d)?BE(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;for(e=Q(e,1,null);;){var f=wf(ju.B(e))&&(wc(rv.B(Ip.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=ju.B(e);f=r(f)?new X(null,2,5,Z,[J(f),new zE(fp.B(e),K(f),Ps.B(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=Q(f,0,null);f=Q(f,1,null);e=dF(b,uE(e),f);if(F.j(yx,J(e)))return f;e=f;d+=1}}
function tF(a,b){if(r(rv.B(Ip.B(a)))){var c=Ny.B(a),d=M(c),e=1<d?Sm.B(au.B(J(J(c)))):r(rv.B(a))?"(":null,f=Ye(c,1<d?1:0);c=2<d?Sm.B(au.B(J(Ye(c,2)))):r(rv.B(a))?")":null;d=AE(b);b=Q(d,0,null);d=Q(d,1,null);if(r(pE()))A(gc,"#");else{var h=gE,k=hE;gE+=1;hE=0;try{YD(e,c),dF(f,uE(b),ao.B(a)),ZD()}finally{hE=k,gE=h}}a=d}else a=uF(a,b);return a}
function vF(a,b,c){for(var d=mf;;){if(wf(a))return new X(null,2,5,Z,[d,b],null);var e=J(a);a:{var f=new bc,h=gc;gc=new ge(f);try{var k=new X(null,2,5,Z,[dF(e,b,c),t.B(f)],null);break a}finally{gc=h}k=void 0}b=Q(k,0,null);e=Q(k,1,null);if(F.j(VA,J(b)))return new X(null,2,5,Z,[d,hf(b)],null);a=K(a);d=lf.j(d,e)}}
function uF(a,b){var c=function(){var O=Yt.B(a);return r(O)?vF(O,b,ao.B(a)):null}(),d=Q(c,0,null);d=Q(d,0,null);c=Q(c,1,null);var e=r(c)?c:b;c=function(){var O=$B.B(a);return r(O)?GE(O,e):null}();var f=Q(c,0,null);c=Q(c,1,null);var h=r(c)?c:e;c=function(){var O=J(lu.B(f));return r(O)?O:0}();var k=function(){var O=J(Dy.B(f));return r(O)?O:vD(gc,Ey)}(),m=Ny.B(a);h=vF(m,h,ao.B(a));var n=Q(h,0,null);h=Q(h,1,null);var p=function(){var O=M(n)-1+(r(rv.B(a))?1:0)+(r(dz.B(a))?1:0);return 1>O?1:O}();m=w.j(dg,
Hh.j(M,n));var u=nB.B(a),v=zv.B(a),y=Wq.B(a),E=m+p*v;u=E<=u?u:u+y*(1+sg(E-u-1,y));var G=u-m;m=function(){var O=sg(G,p);return v>O?v:O}();y=G-m*p;m=dh(t,Oh(m,ls.B(a)));r(r(d)?vD(vp.B(z(z(gc))),Hs)+c+u>k:d)&&mD.F(P([d]));c=y;for(var I=n,N=function(){var O=rv.B(a);return r(O)?O:F.j(M(I),1)&&wc(dz.B(a))}();;)if(H(I))mD.F(P([[t.B(wc(N)?J(I):null),t.B(r(function(){var O=N;return r(O)?O:(O=K(I))?O:dz.B(a)}())?m:null),t.B(0<c?ls.B(a):null)].join("")])),--c,I=d=r(N)?I:K(I),N=!1;else break;return h}
function wF(a){if("undefined"===typeof cc||"undefined"===typeof fD||"undefined"===typeof iD)iD=function(b,c){this.Wa=b;this.Gi=c;this.J=1074135040;this.T=0},iD.prototype.fa=function(b,c){return new iD(this.Wa,c)},iD.prototype.ea=function(){return this.Gi},iD.prototype.Nc=function(){return Hd(this.Wa)},iD.prototype.qd=function(b,c){b=zc(c);if(r(F.j?F.j(String,b):F.call(null,String,b)))return A(this.Wa,c.toLowerCase());if(r(F.j?F.j(Number,b):F.call(null,Number,b)))return A(this.Wa,pg(c).toLowerCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},iD.rb=!0,iD.kb="cljs.pprint/t_cljs$pprint23331",iD.vb=function(b){return A(b,"cljs.pprint/t_cljs$pprint23331")};return new iD(a,W)}
function xF(a){if("undefined"===typeof cc||"undefined"===typeof fD||"undefined"===typeof jD)jD=function(b,c){this.Wa=b;this.Hi=c;this.J=1074135040;this.T=0},jD.prototype.fa=function(b,c){return new jD(this.Wa,c)},jD.prototype.ea=function(){return this.Hi},jD.prototype.Nc=function(){return Hd(this.Wa)},jD.prototype.qd=function(b,c){b=zc(c);if(r(F.j?F.j(String,b):F.call(null,String,b)))return A(this.Wa,c.toUpperCase());if(r(F.j?F.j(Number,b):F.call(null,Number,b)))return A(this.Wa,pg(c).toUpperCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},jD.rb=!0,jD.kb="cljs.pprint/t_cljs$pprint23356",jD.vb=function(b){return A(b,"cljs.pprint/t_cljs$pprint23356")};return new jD(a,W)}
function yF(a,b){var c=J(a);a=r(r(b)?r(c)?Jb(c):c:b)?[c.toUpperCase(),wg.j(a,1)].join(""):a;return dh(t,J(rD(function(d){if(wf(d))return new X(null,2,5,Z,[null,null],null);var e=/\W\w/g.exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[wg.C(d,0,e),Ye(d,e).toUpperCase()].join(""),wg.j(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function zF(a){var b=zh(!0);if("undefined"===typeof cc||"undefined"===typeof fD||"undefined"===typeof kD)kD=function(c,d,e){this.Wa=c;this.we=d;this.Ii=e;this.J=1074135040;this.T=0},kD.prototype.fa=function(c,d){return new kD(this.Wa,this.we,d)},kD.prototype.ea=function(){return this.Ii},kD.prototype.Nc=function(){return Hd(this.Wa)},kD.prototype.qd=function(c,d){c=zc(d);if(r(F.j?F.j(String,c):F.call(null,String,c)))return A(this.Wa,yF(d.toLowerCase(),z(this.we))),0<d.length?Ah(this.we,tb(Ye(d,M(d)-
1))):null;if(r(F.j?F.j(Number,c):F.call(null,Number,c)))return d=pg(d),c=r(z(this.we))?d.toUpperCase():d,A(this.Wa,c),Ah(this.we,tb(d));throw Error(["No matching clause: ",t.B(c)].join(""));},kD.rb=!0,kD.kb="cljs.pprint/t_cljs$pprint23418",kD.vb=function(c){return A(c,"cljs.pprint/t_cljs$pprint23418")};return new kD(a,b,W)}
function AF(a){var b=zh(!1);if("undefined"===typeof cc||"undefined"===typeof fD||"undefined"===typeof lD)lD=function(c,d,e){this.Wa=c;this.Xd=d;this.Ji=e;this.J=1074135040;this.T=0},lD.prototype.fa=function(c,d){return new lD(this.Wa,this.Xd,d)},lD.prototype.ea=function(){return this.Ji},lD.prototype.Nc=function(){return Hd(this.Wa)},lD.prototype.qd=function(c,d){c=zc(d);if(r(F.j?F.j(String,c):F.call(null,String,c)))return d=d.toLowerCase(),wc(z(this.Xd))?(c=/\S/g.exec(d),c=r(c)?c.index:c,r(c)?(A(this.Wa,
[wg.C(d,0,c),Ye(d,c).toUpperCase(),wg.j(d,c+1).toLowerCase()].join("")),Ah(this.Xd,!0)):A(this.Wa,d)):A(this.Wa,d.toLowerCase());if(r(F.j?F.j(Number,c):F.call(null,Number,c)))return d=pg(d),r(wc(z(this.Xd))?Jb(d):!1)?(Ah(this.Xd,!0),A(this.Wa,d.toUpperCase())):A(this.Wa,d.toLowerCase());throw Error(["No matching clause: ",t.B(c)].join(""));},lD.rb=!0,lD.kb="cljs.pprint/t_cljs$pprint23449",lD.vb=function(c){return A(c,"cljs.pprint/t_cljs$pprint23449")};return new lD(a,b,W)}
function BF(a,b){var c=r(rv.B(a))?tr:Xt;rE(c,Mw.B(a));return b}function CF(a,b){a=r(rv.B(a))?r(dz.B(a))?In:Gt:r(dz.B(a))?Lz:iv;qE(a);return b}
var DF=Kj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[cp,"A",au,new q(null,4,[nB,new X(null,2,5,Z,[0,Number],null),Wq,new X(null,2,5,Z,[1,Number],null),zv,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return function(a,b){return KE(fl,a,b)}}],null),new q(null,5,[cp,"S",au,new q(null,4,[nB,new X(null,2,5,Z,[0,Number],null),Wq,new X(null,2,5,Z,[1,Number],
null),zv,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return function(a,b){return KE(dl,a,b)}}],null),new q(null,5,[cp,"D",au,new q(null,4,[nB,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Xs,new X(null,2,5,Z,[3,Number],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return function(a,
b){return NE(10,a,b)}}],null),new q(null,5,[cp,"B",au,new q(null,4,[nB,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Xs,new X(null,2,5,Z,[3,Number],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return function(a,b){return NE(2,a,b)}}],null),new q(null,5,[cp,"O",au,new q(null,4,[nB,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],
null),Xs,new X(null,2,5,Z,[3,Number],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return function(a,b){return NE(8,a,b)}}],null),new q(null,5,[cp,"X",au,new q(null,4,[nB,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Xs,new X(null,2,5,Z,[3,Number],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return function(a,b){return NE(16,a,b)}}],
null),new q(null,5,[cp,"R",au,new q(null,5,[vp,new X(null,2,5,Z,[null,Number],null),nB,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Xs,new X(null,2,5,Z,[3,Number],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(a){return r(J(vp.B(a)))?function(b,c){return NE(vp.B(b),b,c)}:r(function(){var b=dz.B(a);return r(b)?rv.B(a):b}())?function(b,c){return YE(WE,c)}:r(dz.B(a))?function(b,c){return YE(XE,
c)}:r(rv.B(a))?function(b,c){b=AE(c);c=Q(b,0,null);b=Q(b,1,null);if(F.j(0,c))mD.F(P(["zeroth"]));else{var d=LE(1E3,0>c?-c:c);if(M(d)<=M(SE)){var e=Hh.j(TE,Kh(1,d));e=UE(e,1);d=VE(kf(d));mD.F(P([[0>c?"minus ":null,wf(e)||wf(d)?wf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else NE(10,new q(null,5,[nB,0,ls," ",pu,",",Xs,3,rv,!0],null),uE(new X(null,1,5,Z,[c],null))),d=tg(c,100),c=11<d||19>d,d=tg(d,10),mD.F(P([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=AE(c);
b=Q(c,0,null);c=Q(c,1,null);if(F.j(0,b))mD.F(P(["zero"]));else{var d=LE(1E3,0>b?-b:b);M(d)<=M(SE)?(d=Hh.j(TE,d),d=UE(d,0),mD.F(P([[0>b?"minus ":null,d].join("")]))):NE(10,new q(null,5,[nB,0,ls," ",pu,",",Xs,3,rv,!0],null),uE(new X(null,1,5,Z,[b],null)))}return c}}],null),new q(null,5,[cp,"P",au,W,Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return function(a,b){b=r(rv.B(a))?DE(b,-1):b;a=r(dz.B(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,5,Z,["","s"],
null);var c=AE(b);b=Q(c,0,null);c=Q(c,1,null);mD.F(P([F.j(b,1)?J(a):hf(a)]));return c}}],null),new q(null,5,[cp,"C",au,new q(null,1,[yy,new X(null,2,5,Z,[null,String],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(a){return r(rv.B(a))?$E:r(dz.B(a))?aF:bF}],null),new q(null,5,[cp,"F",au,new q(null,5,[Ew,new X(null,2,5,Z,[null,Number],null),yw,new X(null,2,5,Z,[null,Number],null),rw,new X(null,2,5,Z,[0,Number],null),gB,new X(null,2,5,Z,[null,String],
null),ls,new X(null,2,5,Z,[" ",String],null)],null),Bx,new mk(null,new q(null,1,[dz,null],null),null),Wz,W,$A,function(){return iF}],null),new q(null,5,[cp,"E",au,new q(null,7,[Ew,new X(null,2,5,Z,[null,Number],null),yw,new X(null,2,5,Z,[null,Number],null),vw,new X(null,2,5,Z,[null,Number],null),rw,new X(null,2,5,Z,[1,Number],null),gB,new X(null,2,5,Z,[null,String],null),ls,new X(null,2,5,Z,[" ",String],null),Vo,new X(null,2,5,Z,[null,String],null)],null),Bx,new mk(null,new q(null,1,[dz,null],null),
null),Wz,W,$A,function(){return jF}],null),new q(null,5,[cp,"G",au,new q(null,7,[Ew,new X(null,2,5,Z,[null,Number],null),yw,new X(null,2,5,Z,[null,Number],null),vw,new X(null,2,5,Z,[null,Number],null),rw,new X(null,2,5,Z,[1,Number],null),gB,new X(null,2,5,Z,[null,String],null),ls,new X(null,2,5,Z,[" ",String],null),Vo,new X(null,2,5,Z,[null,String],null)],null),Bx,new mk(null,new q(null,1,[dz,null],null),null),Wz,W,$A,function(){return kF}],null),new q(null,5,[cp,"$",au,new q(null,4,[yw,new X(null,
2,5,Z,[2,Number],null),Mw,new X(null,2,5,Z,[1,Number],null),Ew,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null)],null),Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return lF}],null),new q(null,5,[cp,"%",au,new q(null,1,[My,new X(null,2,5,Z,[1,Number],null)],null),Bx,ok,Wz,W,$A,function(){return function(a,b){a=My.B(a);for(var c=0;;)if(c<a)oD(),c+=1;else break;return b}}],null),new q(null,5,[cp,"\x26",au,new q(null,1,[My,new X(null,2,
5,Z,[1,Number],null)],null),Bx,new mk(null,new q(null,1,[ot,null],null),null),Wz,W,$A,function(){return function(a,b){a=My.B(a);0<a&&((null!=gc?gc.J&32768||l===gc.Fg||(gc.J?0:yc(md,gc)):yc(md,gc))?F.j(0,vD(vp.B(z(z(gc))),Hs))||oD():oD());--a;for(var c=0;;)if(c<a)oD(),c+=1;else break;return b}}],null),new q(null,5,[cp,"|",au,new q(null,1,[My,new X(null,2,5,Z,[1,Number],null)],null),Bx,ok,Wz,W,$A,function(){return function(a,b){a=My.B(a);for(var c=0;;)if(c<a)mD.F(P(["\f"])),c+=1;else break;return b}}],
null),new q(null,5,[cp,"~",au,new q(null,1,[Mw,new X(null,2,5,Z,[1,Number],null)],null),Bx,ok,Wz,W,$A,function(){return function(a,b){a=Mw.B(a);mD.F(P([dh(t,Oh(a,"~"))]));return b}}],null),new q(null,5,[cp,"\n",au,W,Bx,new mk(null,new q(null,2,[rv,null,dz,null],null),null),Wz,W,$A,function(){return function(a,b){r(dz.B(a))&&oD();return b}}],null),new q(null,5,[cp,"T",au,new q(null,2,[Tz,new X(null,2,5,Z,[1,Number],null),Wq,new X(null,2,5,Z,[1,Number],null)],null),Bx,new mk(null,new q(null,2,[dz,null,
ot,null],null),null),Wz,W,$A,function(a){return r(dz.B(a))?function(b,c){var d=Tz.B(b);b=Wq.B(b);var e=d+vD(vp.B(z(z(gc))),Hs);e=0<b?tg(e,b):0;d+=F.j(0,e)?0:b-e;mD.F(P([dh(t,Oh(d," "))]));return c}:function(b,c){var d=Tz.B(b);b=Wq.B(b);var e=vD(vp.B(z(z(gc))),Hs);d=e<d?d-e:F.j(b,0)?0:b-tg(e-d,b);mD.F(P([dh(t,Oh(d," "))]));return c}}],null),new q(null,5,[cp,"*",au,new q(null,1,[Mw,new X(null,2,5,Z,[1,Number],null)],null),Bx,new mk(null,new q(null,2,[rv,null,dz,null],null),null),Wz,W,$A,function(){return function(a,
b){var c=Mw.B(a);return r(dz.B(a))?CE(b,c):DE(b,r(rv.B(a))?-c:c)}}],null),new q(null,5,[cp,"?",au,W,Bx,new mk(null,new q(null,1,[dz,null],null),null),Wz,W,$A,function(a){return r(dz.B(a))?function(b,c){var d=BE(c);c=Q(d,0,null);d=Q(d,1,null);return dF(c,d,ao.B(b))}:function(b,c){var d=BE(c);c=Q(d,0,null);d=Q(d,1,null);var e=AE(d);d=Q(e,0,null);e=Q(e,1,null);d=uE(d);dF(c,d,ao.B(b));return e}}],null),new q(null,5,[cp,"(",au,W,Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,new q(null,
3,[Mq,")",ux,null,Yt,null],null),$A,function(a){var b=r(function(){var c=dz.B(a);return r(c)?rv.B(a):c}())?xF:r(rv.B(a))?zF:r(dz.B(a))?AF:wF;return function(c,d){a:{var e=J(Ny.B(c)),f=gc;gc=b.B?b.B(gc):b.call(null,gc);try{var h=dF(e,d,ao.B(c));break a}finally{gc=f}h=void 0}return h}}],null),new q(null,5,[cp,")",au,W,Bx,ok,Wz,W,$A,function(){return null}],null),new q(null,5,[cp,"[",au,new q(null,1,[Jz,new X(null,2,5,Z,[null,Number],null)],null),Bx,new mk(null,new q(null,2,[rv,null,dz,null],null),null),
Wz,new q(null,3,[Mq,"]",ux,!0,Yt,nw],null),$A,function(a){return r(rv.B(a))?nF:r(dz.B(a))?oF:mF}],null),new q(null,5,[cp,";",au,new q(null,2,[lu,new X(null,2,5,Z,[null,Number],null),Dy,new X(null,2,5,Z,[null,Number],null)],null),Bx,new mk(null,new q(null,1,[rv,null],null),null),Wz,new q(null,1,[bt,!0],null),$A,function(){return null}],null),new q(null,5,[cp,"]",au,W,Bx,ok,Wz,W,$A,function(){return null}],null),new q(null,5,[cp,"{",au,new q(null,1,[zB,new X(null,2,5,Z,[null,Number],null)],null),Bx,
new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,new q(null,2,[Mq,"}",ux,!1],null),$A,function(a){var b=dz.B(a);b=r(b)?rv.B(a):b;return r(b)?sF:r(rv.B(a))?qF:r(dz.B(a))?rF:pF}],null),new q(null,5,[cp,"}",au,W,Bx,new mk(null,new q(null,1,[rv,null],null),null),Wz,W,$A,function(){return null}],null),new q(null,5,[cp,"\x3c",au,new q(null,4,[nB,new X(null,2,5,Z,[0,Number],null),Wq,new X(null,2,5,Z,[1,Number],null),zv,new X(null,2,5,Z,[0,Number],null),ls,new X(null,2,5,Z,[" ",String],null)],
null),Bx,new mk(null,new q(null,4,[rv,null,dz,null,ix,null,ot,null],null),null),Wz,new q(null,3,[Mq,"\x3e",ux,!0,Yt,Kp],null),$A,function(){return tF}],null),new q(null,5,[cp,"\x3e",au,W,Bx,new mk(null,new q(null,1,[rv,null],null),null),Wz,W,$A,function(){return null}],null),new q(null,5,[cp,"^",au,new q(null,3,[HA,new X(null,2,5,Z,[null,Number],null),JA,new X(null,2,5,Z,[null,Number],null),FA,new X(null,2,5,Z,[null,Number],null)],null),Bx,new mk(null,new q(null,1,[rv,null],null),null),Wz,W,$A,function(){return function(a,
b){var c=HA.B(a),d=JA.B(a),e=FA.B(a),f=r(rv.B(a))?yx:VA;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?F.j(c,d)?new X(null,2,5,Z,[f,b],null):b:r(c)?F.j(c,0)?new X(null,2,5,Z,[f,b],null):b:(r(rv.B(a))?wf(ju.B(ao.B(a))):wf(ju.B(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new q(null,5,[cp,"W",au,W,Bx,new mk(null,new q(null,4,[rv,null,dz,null,ix,null,ot,null],null),null),Wz,W,$A,function(a){if(r(function(){var c=dz.B(a);return r(c)?c:rv.B(a)}())){var b=V.j(r(dz.B(a))?
new X(null,4,5,Z,[sm,null,Mn,null],null):mf,r(rv.B(a))?new X(null,2,5,Z,[ot,!0],null):mf);return function(c,d){d=AE(d);c=Q(d,0,null);d=Q(d,1,null);return r(eh(kE,c,b))?new X(null,2,5,Z,[VA,d],null):d}}return function(c,d){d=AE(d);c=Q(d,0,null);d=Q(d,1,null);return r(jE(c))?new X(null,2,5,Z,[VA,d],null):d}}],null),new q(null,5,[cp,"_",au,W,Bx,new mk(null,new q(null,3,[rv,null,dz,null,ix,null],null),null),Wz,W,$A,function(){return CF}],null),new q(null,5,[cp,"I",au,new q(null,1,[Mw,new X(null,2,5,Z,
[0,Number],null)],null),Bx,new mk(null,new q(null,1,[rv,null],null),null),Wz,W,$A,function(){return BF}],null)]),EF=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,FF=new mk(null,new q(null,2,[As,null,Kz,null],null),null);
function GF(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);a=new RegExp(EF.source,"g");var e=a.exec(b);return r(e)?(d=J(e),b=wg.j(b,a.lastIndex),a=c+a.lastIndex,F.j(",",Ye(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[wg.j(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?yE("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function HF(a){var b=Q(a,0,null);a=Q(a,1,null);return new X(null,2,5,Z,[F.j(b.length,0)?null:F.j(b.length,1)&&Lf(new mk(null,new q(null,2,["V",null,"v",null],null),null),Ye(b,0))?Kz:F.j(b.length,1)&&F.j("#",Ye(b,0))?As:F.j(b.length,2)&&F.j("'",Ye(b,0))?Ye(b,1):parseInt(b,10),a],null)}var IF=new q(null,2,[":",rv,"@",dz],null);
function JF(a,b){return rD(function(c){var d=Q(c,0,null),e=Q(c,1,null);c=Q(c,2,null);if(wf(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=C.j(IF,J(d));return r(f)?Lf(c,f)?yE(['Flag "',t.B(J(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[wg.j(d,1),e+1,R.C(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function KF(a,b){var c=Bx.B(a);r(wc(dz.B(c))?dz.B(b):!1)&&yE(['"@" is an illegal flag for format directive "',t.B(cp.B(a)),'"'].join(""),Ye(dz.B(b),1));r(wc(rv.B(c))?rv.B(b):!1)&&yE(['":" is an illegal flag for format directive "',t.B(cp.B(a)),'"'].join(""),Ye(rv.B(b),1));r(wc(ix.B(c))?function(){var d=dz.B(b);return r(d)?rv.B(b):d}():!1)&&yE(['Cannot combine "@" and ":" flags for format directive "',t.B(cp.B(a)),'"'].join(""),function(){var d=Ye(rv.B(b),1),e=Ye(dz.B(b),1);return d<e?d:e}())}
function LF(a,b,c,d){KF(a,c);M(b)>M(au.B(a))&&yE(sE(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',P([cp.B(a),M(b),M(au.B(a))])),hf(J(b)));Hk(Hh.C(function(e,f){var h=J(e);return null==h||Lf(FF,h)||F.j(hf(hf(f)),zc(h))?null:yE(["Parameter ",Gg(J(f)),' has bad type in directive "',t.B(cp.B(a)),'": ',t.B(zc(h))].join(""),hf(e))},b,au.B(a)));return hk.F(P([Xh.j(W,zg(function(){return function h(f){return new Hg(null,function(){for(;;){var k=
H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),y=Q(v,0,null);v=Q(v,1,null);v=Q(v,0,null);p.add(new X(null,2,5,Z,[y,new X(null,2,5,Z,[v,d],null)],null));u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}m=J(k);p=Q(m,0,null);m=Q(m,1,null);m=Q(m,0,null);return df(new X(null,2,5,Z,[p,new X(null,2,5,Z,[m,d],null)],null),h(Be(k)))}return null}},null,null)}(au.B(a))}())),w.C(function(e,f){return eh(R,e,f)},W,Vh(function(e){return J(Ye(e,1))},sk(Zi(au.B(a)),
b))),c]))}
function MF(a,b){b=rD(GF,new X(null,3,5,Z,[a,b,!1],null));a=Q(b,0,null);var c=Q(b,1,null);b=Q(c,0,null);c=Q(c,1,null);b=JF(b,c);Q(b,0,null);b=Q(b,1,null);var d=Q(b,0,null),e=Q(b,1,null);b=Q(b,2,null);c=J(d);var f=C.j(DF,c.toUpperCase()),h=r(f)?LF(f,Hh.j(HF,a),b,e):null;wc(c)&&yE("Format string ended in the middle of a directive",e);wc(f)&&yE(['Directive "',t.B(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new EE(function(){var k=$A.B(f);return k.j?k.j(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=wg.j(d,1),m=e+1;if(F.j("\n",cp.B(f))&&wc(rv.B(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=xf(n)?pk(n):Nf([n]);for(var p=0;;){var u;(u=F.j(p,M(k)))||(u=Ye(k,p),u=n.B?n.B(u):n.call(null,u),u=wc(u));if(u){n=p;break a}p+=1}}else n=0;k=wg.j(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function NF(a,b){return new EE(function(c,d){mD.F(P([a]));return d},null,new q(null,1,[Sm,a],null),b,null,null,null)}
function OF(a,b){var c=PF(Wz.B(mo.B(a)),nu.B(a),b);b=Q(c,0,null);c=Q(c,1,null);return new X(null,2,5,Z,[new EE(Ow.B(a),mo.B(a),hk.F(P([au.B(a),tD(b,nu.B(a))])),nu.B(a),null,null,null),c],null)}
function QF(a,b,c){return rD(function(d){if(wf(d))return yE("No closing bracket found.",b);var e=J(d);d=K(d);if(r(Mq.B(Wz.B(mo.B(e)))))e=OF(e,d);else if(F.j(Mq.B(a),cp.B(mo.B(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[Sr,au.B(e),null,d],null)],null);else{var f=bt.B(Wz.B(mo.B(e)));f=r(f)?rv.B(au.B(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[Yt,null,au.B(e),d],null)],null):r(bt.B(Wz.B(mo.B(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[bt,null,null,d],null)],null):new X(null,2,5,Z,[e,
d],null)}return e},c)}
function PF(a,b,c){return hf(rD(function(d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);var h=QF(a,b,d);d=Q(h,0,null);var k=Q(h,1,null);h=Q(k,0,null);var m=Q(k,1,null),n=Q(k,2,null);k=Q(k,3,null);return F.j(h,Sr)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[ik.F(V,P([e,qf([r(f)?Yt:Ny,new X(null,1,5,Z,[d],null),Ip,m])])),k],null)],null):F.j(h,Yt)?r(Yt.B(e))?yE('Two else clauses ("~:;") inside bracket construction.',b):wc(Yt.B(a))?yE('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
F.j(Kp,Yt.B(a))&&H(Ny.B(e))?yE('The else clause ("~:;") is only allowed in the first position for this directive.',b):F.j(Kp,Yt.B(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[ik.F(V,P([e,new q(null,2,[Yt,new X(null,1,5,Z,[d],null),$B,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[ik.F(V,P([e,new q(null,1,[Ny,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):F.j(h,bt)?r(f)?yE('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):wc(ux.B(a))?
yE('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[ik.F(V,P([e,new q(null,1,[Ny,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new q(null,1,[Ny,mf],null),!1,c],null)))}function RF(a){return J(rD(function(b){var c=J(b);b=K(b);var d=Wz.B(mo.B(c));return r(Mq.B(d))?OF(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function tE(a){var b=xE;xE=a;try{return RF(J(rD(function(c){var d=Q(c,0,null);c=Q(c,1,null);if(wf(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[NF(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?MF(wg.j(d,1),c+1):new X(null,2,5,Z,[NF(wg.C(d,0,e),c),new X(null,2,5,Z,[wg.j(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{xE=b}}
var vE=function vE(a){for(;;){if(wf(a))return!1;var c=ot.B(Bx.B(mo.B(J(a))));r(c)||(c=qh(vE,J(Ny.B(au.B(J(a))))),c=r(c)?c:qh(vE,J(Yt.B(au.B(J(a))))));if(r(c))return!0;a=K(a)}};function wE(a,b){qD(function(c,d){if(cF(d))return new X(null,2,5,Z,[null,d],null);d=GE(au.B(c),d);var e=Q(d,0,null);d=Q(d,1,null);var f=sD(e);e=Q(f,0,null);f=Q(f,1,null);e=R.C(e,ao,d);return new X(null,2,5,Z,[null,dh(Ow.B(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var SF=Fl(tE),TF=new q(null,6,[ow,"'",Zx,"#'",ks,"@",wx,"~",wn,"@",eo,"~"],null);function UF(a){var b=J(a);b=TF.B?TF.B(b):TF.call(null,b);return r(r(b)?F.j(2,M(a)):b)?(A(gc,b),jE(hf(a)),!0):null}function VF(a){if(r(pE()))A(gc,"#");else{var b=gE,c=hE;gE+=1;hE=0;try{YD("[","]");for(var d=0,e=H(a);;){if(wc(kc)||d<kc){if(e&&(jE(J(e)),K(e))){A(gc," ");qE(iv);a=d+1;var f=K(e);d=a;e=f;continue}}else A(gc,"...");break}ZD()}finally{hE=c,gE=b}}return null}
(function(){var a=SF("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=uE(d);return wE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()})();
function WF(a){var b=Bf(a)?null:function(){var m=new ue(function(){return il},qw,Kj([gn,em,xz,Ct,Nn,RA,zm,Ym,Au,by,xv],[!0,nm,Tw,"cljs/core.cljs",15,1,10307,10307,Ag(new X(null,1,5,Z,[nq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(il)?il.Ej:null]));return m.B?m.B(a):m.call(null,a)}(),c=Q(b,0,null);b=Q(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.B(c),"{"].join(""):"{";if(r(pE()))A(gc,"#");else{c=gE;b=hE;gE+=1;hE=0;try{YD(e,"}");e=0;for(var f=H(d);;){if(wc(kc)||e<kc){if(f){if(r(pE()))A(gc,
"#");else{d=gE;var h=hE;gE+=1;hE=0;try{YD(null,null),jE(jf(f)),A(gc," "),qE(iv),hE=0,jE(J(K(J(f)))),ZD()}finally{hE=h,gE=d}}if(K(f)){A(gc,", ");qE(iv);d=e+1;var k=K(f);e=d;f=k;continue}}}else A(gc,"...");break}ZD()}finally{hE=b,gE=c}}return null}function XF(a){return A(gc,dl.F(P([a])))}
var YF=function(){var a=SF("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=uE(d);return wE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}(),ZF=new q(null,2,["core$future_call","Future","core$promise","Promise"],null);
function $F(a){var b=Jk(/^[^$]+\$[^$]+/,a);b=r(b)?ZF.B?ZF.B(b):ZF.call(null,b):null;return r(b)?b:a}var aG=function(){var a=SF("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=uE(d);return wE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}();
function bG(a){return a instanceof Oi?Dz:(null!=a?a.J&32768||l===a.Fg||(a.J?0:yc(md,a)):yc(md,a))?wB:a instanceof B?Pw:Hf(a)?KA:Af(a)?vy:Df(a)?lx:yf(a)?jp:null==a?null:Xl}var cG,dG=zh(W),eG=zh(W),fG=zh(W),gG=zh(W),hG=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));cG=new Wl(te.j(ba,"simple-dispatch"),bG,hG,dG,eG,fG,gG);
Ul(cG,KA,function(a){if(wc(UF(a)))if(r(pE()))A(gc,"#");else{var b=gE,c=hE;gE+=1;hE=0;try{YD("(",")");for(var d=0,e=H(a);;){if(wc(kc)||d<kc){if(e&&(jE(J(e)),K(e))){A(gc," ");qE(iv);a=d+1;var f=K(e);d=a;e=f;continue}}else A(gc,"...");break}ZD()}finally{hE=c,gE=b}}return null});Ul(cG,lx,VF);Ul(cG,vy,WF);Ul(cG,jp,YF);Ul(cG,null,function(){return A(gc,dl.F(P([null])))});Ul(cG,Xl,XF);aE=cG;function iG(a){return Df(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function jG(a){if(zf(a)){var b=iG(a),c=Q(b,0,null),d=Q(b,1,null),e=H(a),f=J(e),h=K(e);if(r(pE()))A(gc,"#");else{var k=gE,m=hE,n=gE+1;gE=n;hE=0;try{YD(c,d);(function(){var qa=SF("~w~:i");return function(){function ya(ka){var oa=null;if(0<arguments.length){oa=0;for(var Ca=Array(arguments.length-0);oa<Ca.length;)Ca[oa]=arguments[oa+0],++oa;oa=new ze(Ca,0,null)}return Sa.call(this,oa)}function Sa(ka){ka=uE(ka);return wE(qa,ka)}ya.Y=0;ya.ba=function(ka){ka=H(ka);return Sa(ka)};ya.F=Sa;return ya}()})()(f);
for(var p=h;;)if(H(p)){(function(){var qa=SF(" ");return function(ya,Sa,ka){return function(){function oa(wa){var Ba=null;if(0<arguments.length){Ba=0;for(var Xa=Array(arguments.length-0);Ba<Xa.length;)Xa[Ba]=arguments[Ba+0],++Ba;Ba=new ze(Xa,0,null)}return Ca.call(this,Ba)}function Ca(wa){wa=uE(wa);return wE(ka,wa)}oa.Y=0;oa.ba=function(wa){wa=H(wa);return Ca(wa)};oa.F=Ca;return oa}()}(p," ",qa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=J(p);if(zf(u)){var v=iG(u),y=Q(v,0,null),E=Q(v,1,null);if(r(pE()))A(gc,
"#");else{var G=gE,I=hE,N=gE+1;gE=N;hE=0;try{YD(y,E);if(F.j(M(u),3)&&hf(u)instanceof D){var O=u,U=Q(O,0,null),ea=Q(O,1,null),fa=Q(O,2,null);(function(){var qa=SF("~w ~w ");return function(ya,Sa,ka){return function(){function oa(wa){var Ba=null;if(0<arguments.length){Ba=0;for(var Xa=Array(arguments.length-0);Ba<Xa.length;)Xa[Ba]=arguments[Ba+0],++Ba;Ba=new ze(Xa,0,null)}return Ca.call(this,Ba)}function Ca(wa){wa=uE(wa);return wE(ka,wa)}oa.Y=0;oa.ba=function(wa){wa=H(wa);return Ca(wa)};oa.F=Ca;return oa}()}(p,
"~w ~w ",qa,O,U,ea,fa,G,I,N,0,v,y,E,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);zf(fa)?function(){var qa=Df(fa)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",ya="string"===typeof qa?SF(qa):qa;return function(Sa,ka,oa){return function(){function Ca(Ba){var Xa=null;if(0<arguments.length){Xa=0;for(var $b=Array(arguments.length-0);Xa<$b.length;)$b[Xa]=arguments[Xa+0],++Xa;Xa=new ze($b,0,null)}return wa.call(this,Xa)}function wa(Ba){Ba=uE(Ba);return wE(oa,Ba)}Ca.Y=0;Ca.ba=function(Ba){Ba=
H(Ba);return wa(Ba)};Ca.F=wa;return Ca}()}(p,qa,ya,O,U,ea,fa,G,I,N,0,v,y,E,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(fa):jE(fa)}else dh(function(){var qa=SF("~w ~:i~@{~w~^ ~:_~}");return function(ya,Sa,ka){return function(){function oa(wa){var Ba=null;if(0<arguments.length){Ba=0;for(var Xa=Array(arguments.length-0);Ba<Xa.length;)Xa[Ba]=arguments[Ba+0],++Ba;Ba=new ze(Xa,0,null)}return Ca.call(this,Ba)}function Ca(wa){wa=uE(wa);return wE(ka,wa)}oa.Y=0;oa.ba=function(wa){wa=H(wa);return Ca(wa)};oa.F=Ca;return oa}()}(p,
"~w ~:i~@{~w~^ ~:_~}",qa,G,I,N,0,v,y,E,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);ZD()}finally{hE=I,gE=G}}K(p)&&function(){var qa=SF("~_");return function(ya,Sa,ka){return function(){function oa(wa){var Ba=null;if(0<arguments.length){Ba=0;for(var Xa=Array(arguments.length-0);Ba<Xa.length;)Xa[Ba]=arguments[Ba+0],++Ba;Ba=new ze(Xa,0,null)}return Ca.call(this,Ba)}function Ca(wa){wa=uE(wa);return wE(ka,wa)}oa.Y=0;oa.ba=function(wa){wa=H(wa);return Ca(wa)};oa.F=Ca;return oa}()}(p,"~_",qa,v,y,E,u,k,m,n,0,b,c,d,
a,e,f,h,f,h)}()()}else jE(u),K(p)&&function(){var qa=SF("~:_");return function(ya,Sa,ka){return function(){function oa(wa){var Ba=null;if(0<arguments.length){Ba=0;for(var Xa=Array(arguments.length-0);Ba<Xa.length;)Xa[Ba]=arguments[Ba+0],++Ba;Ba=new ze(Xa,0,null)}return Ca.call(this,Ba)}function Ca(wa){wa=uE(wa);return wE(ka,wa)}oa.Y=0;oa.ba=function(wa){wa=H(wa);return Ca(wa)};oa.F=Ca;return oa}()}(p,"~:_",qa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=K(p)}else break;ZD()}finally{hE=m,gE=k}}}else jE(a)}
var kG=function(){var a=SF("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=uE(d);return wE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}();
function lG(a,b){H(a)&&(r(b)?function(){var c=SF(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new ze(k,0,null)}return e.call(this,h)}function e(f){f=uE(f);return wE(c,f)}d.Y=0;d.ba=function(f){f=H(f);return e(f)};d.F=e;return d}()}()():function(){var c=SF(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new ze(k,0,null)}return e.call(this,h)}function e(f){f=uE(f);return wE(c,f)}d.Y=0;d.ba=function(f){f=H(f);return e(f)};d.F=e;return d}()}()(),function(){var c=SF("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new ze(k,0,null)}return e.call(this,h)}function e(f){f=uE(f);return wE(c,f)}d.Y=0;d.ba=function(f){f=H(f);return e(f)};d.F=e;return d}()}()(a))}
function mG(a){H(a)&&function(){var b=SF(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new ze(h,0,null)}return d.call(this,f)}function d(e){e=uE(e);return wE(b,e)}c.Y=0;c.ba=function(e){e=H(e);return d(e)};c.F=d;return c}()}()(a)}
function nG(a){if(K(a)){var b=H(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?new X(null,2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);var e=Af(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);d=Q(e,0,null);e=Q(e,1,null);if(r(pE()))A(gc,"#");else{var f=gE,h=hE;gE+=1;hE=0;try{YD("(",")"),function(){var k=SF("~w ~1I~@_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-
0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=uE(p);return wE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};m.F=n;return m}()}()(a,b),r(c)&&function(){var k=SF(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=uE(p);return wE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};m.F=n;return m}()}()(c),
r(d)&&function(){var k=SF(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=uE(p);return wE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};m.F=n;return m}()}()(d),Df(J(e))?lG(e,r(c)?c:d):mG(e),ZD()}finally{hE=h,gE=f}}return null}return oG(a)}
function pG(a){if(r(pE()))A(gc,"#");else{var b=gE,c=hE;gE+=1;hE=0;try{YD("[","]");for(var d=0;;){if(wc(kc)||d<kc){if(H(a)){if(r(pE()))A(gc,"#");else{var e=gE,f=hE;gE+=1;hE=0;try{YD(null,null),jE(J(a)),K(a)&&(A(gc," "),qE(Lz),jE(hf(a))),ZD()}finally{hE=f,gE=e}}if(K(Be(a))){A(gc," ");qE(iv);e=d+1;var h=K(Be(a));d=e;a=h;continue}}}else A(gc,"...");break}ZD()}finally{hE=c,gE=b}}}
function qG(a){var b=J(a);if(r(pE()))A(gc,"#");else{var c=gE,d=hE;gE+=1;hE=0;try{YD("(",")"),K(a)&&Df(hf(a))?(function(){var e=SF("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){k=uE(k);return wE(e,k)}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()}()(b),pG(hf(a)),function(){var e=SF(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){k=uE(k);return wE(e,k)}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()}()(K(Be(a)))):oG(a),ZD()}finally{hE=d,gE=c}}return null}
var rG=function(){var a=SF("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=uE(d);return wE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}(),sG=W;
function oG(a){if(r(pE()))A(gc,"#");else{var b=gE,c=hE;gE+=1;hE=0;try{YD("(",")");rE(Xt,1);for(var d=0,e=H(a);;){if(wc(kc)||d<kc){if(e&&(jE(J(e)),K(e))){A(gc," ");qE(iv);a=d+1;var f=K(e);d=a;e=f;continue}}else A(gc,"...");break}ZD()}finally{hE=c,gE=b}}return null}
var tG=function(a){return Xh.j(W,Th($f,P([function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[te.B(Gg(J(n))),hf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}k=J(e);return df(new X(null,2,5,Z,[k,new X(null,2,5,Z,[te.B(Gg(J(k))),hf(k)],null)],null),d(Be(e)))}return null}},null,null)}(a)}()])))}(function(a){return Xh.j(W,
Hh.j(function(b){var c=Q(b,0,null),d=Q(b,1,null);var e=Dg(c);e=r(e)?e:Lf(new mk(null,new q(null,24,[Or,"null",$t,"null",qm,"null",Mv,"null",Fm,"null",to,"null",lw,"null",qv,"null",Bp,"null",cw,"null",jv,"null",bx,"null",NB,"null",Mp,"null",Bu,"null",Zm,"null",aq,"null",zr,"null",cz,"null",Zx,"null",ow,"null",Iu,"null",Pv,"null",Js,"null"],null),null),c);return wc(e)?new X(null,2,5,Z,[te.j("clojure.core",Gg(c)),d],null):b},a))}(Kj([cz,Zm,Tp,cw,tB,jt,UB,Qu,Gz,Su,Hx,Xn,vA,Js,Qq,Pn,Hv,dt,Hy,bx,no,ty,
Uv,Fw,lA,ap,vu,qB,Ty,fu],[kG,function(a){var b=hf(a),c=J(Be(Be(a)));if(Df(b)){a=sG;sG=F.j(1,M(b))?qf([J(b),"%"]):Xh.j(W,Hh.C(function(d,e){return new X(null,2,5,Z,[d,["%",t.B(e)].join("")],null)},b,Bk.j(1,M(b)+1)));try{return function(){var d=SF("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new ze(m,0,null)}return f.call(this,k)}function f(h){h=uE(h);return wE(d,h)}e.Y=
0;e.ba=function(h){h=H(h);return f(h)};e.F=f;return e}()}()(c)}finally{sG=a}}else return oG(a)},qG,rG,function(a){if(3<M(a)){if(r(pE()))A(gc,"#");else{var b=gE,c=hE;gE+=1;hE=0;try{YD("(",")");rE(Xt,1);dh(function(){var k=SF("~w ~@_~w ~@_~w ~_");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=uE(p);return wE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};
m.F=n;return m}()}(),a);for(var d=0,e=H(Jh(3,a));;){if(wc(kc)||d<kc){if(e){if(r(pE()))A(gc,"#");else{a=gE;var f=hE;gE+=1;hE=0;try{YD(null,null),jE(J(e)),K(e)&&(A(gc," "),qE(Lz),jE(hf(e))),ZD()}finally{hE=f,gE=a}}if(K(Be(e))){A(gc," ");qE(iv);a=d+1;var h=K(Be(e));d=a;e=h;continue}}}else A(gc,"...");break}ZD()}finally{hE=c,gE=b}}return null}return oG(a)},kG,nG,nG,qG,kG,qG,rG,rG,kG,rG,qG,qG,kG,qG,function(a){if(K(a)){var b=H(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?new X(null,
2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);d=Af(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);var e=Q(d,0,null),f=Q(d,1,null);if(r(pE()))A(gc,"#");else{d=gE;var h=hE;gE+=1;hE=0;try{YD("(",")");(function(){var m=SF("~w ~1I~@_~w");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){u=uE(u);
return wE(m,u)}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:H(f))&&function(){var m=SF("~@:_");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){u=uE(u);return wE(m,u)}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()}()();r(c)&&sE(!0,'"~a"~:[~;~:@_~]',P([c,r(e)?e:H(f)]));r(e)&&function(){var m=SF("~w~:[~;~:@_~]");
return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){u=uE(u);return wE(m,u)}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()}()(e,H(f));for(a=f;;){jG(J(a));var k=K(a);if(k)b=k,qE(iv),a=b;else break}ZD()}finally{hE=h,gE=d}}return null}return jE(a)},qG,function(a){if(r(pE()))A(gc,"#");else{var b=gE,c=hE;gE+=1;hE=0;try{YD("(",")");rE(Xt,1);jE(J(a));
if(K(a)){A(gc," ");qE(iv);for(var d=0,e=K(a);;){if(wc(kc)||d<kc){if(e){if(r(pE()))A(gc,"#");else{a=gE;var f=hE;gE+=1;hE=0;try{YD(null,null),jE(J(e)),K(e)&&(A(gc," "),qE(Lz),jE(hf(e))),ZD()}finally{hE=f,gE=a}}if(K(Be(e))){A(gc," ");qE(iv);a=d+1;var h=K(Be(e));d=a;e=h;continue}}}else A(gc,"...");break}}ZD()}finally{hE=c,gE=b}}return null},qG,nG,nG,kG,kG,qG,qG,kG]))),uG,vG=zh(W),wG=zh(W),xG=zh(W),yG=zh(W),zG=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));uG=new Wl(te.j(ba,"code-dispatch"),bG,zG,vG,wG,xG,yG);
Ul(uG,KA,function(a){if(wc(UF(a))){var b=tG.call(null,J(a));return r(b)?b.B?b.B(a):b.call(null,a):oG(a)}return null});Ul(uG,Pw,function(a){var b=a.B?a.B(sG):a.call(null,sG);return r(b)?mD.F(P([b])):r(dE)?mD.F(P([Gg(a)])):nD.call(null,a)});Ul(uG,lx,VF);Ul(uG,vy,WF);Ul(uG,jp,YF);Ul(uG,Dz,aG);
Ul(uG,wB,function(a){var b=["#\x3c",t.B($F(zc(a).name)),"@",t.B(xa(a)),": "].join("");if(r(pE()))A(gc,"#");else{var c=gE,d=hE;gE+=1;hE=0;try{YD(b,"\x3e"),rE(Xt,-(b.length-2)),qE(iv),jE((null!=a?a.T&1||l===a.Aj||(a.T?0:yc(Kd,a)):yc(Kd,a))&&!Ld(a)?Wn:z(a)),ZD()}finally{hE=d,gE=c}}return null});Ul(uG,null,nD);Ul(uG,Xl,XF);aE=cG;var AG=/[\s]/;function BG(a){return null==a?null:","===a?!0:AG.test(a)}function CG(a){return null==a?null:!/[^0-9]/.test(a)}
function DG(a,b){return function e(d){return new Hg(null,function(){for(;;){var f=H(d);if(f){if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var p=0;;)if(p<k){var u=x(h,p),v=m;if(u instanceof B||u instanceof D){var y=Gk(Dg,Gg)(u),E=Q(y,0,null);y=Q(y,1,null);var G=u instanceof B?te:Fg;u=null==E?G.j?G.j(a,y):G.call(null,a,y):F.j("_",E)?G.B?G.B(y):G.call(null,y):u}v.add(u);p+=1}else return!0}()?Ng(Pg(m),e(Yd(f))):Ng(Pg(m),null)}var n=J(f);return df(n instanceof B||n instanceof D?function(){var p=
Gk(Dg,Gg)(n),u=Q(p,0,null);p=Q(p,1,null);var v=n instanceof B?te:Fg;return null==u?v.j?v.j(a,p):v.call(null,a,p):F.j("_",u)?v.B?v.B(p):v.call(null,p):n}():n,e(Be(f)))}return null}},null,null)}(b)}function EG(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function FG(a){if(null!=a&&null!=a.Ad)a=a.Ad(a);else{var b=FG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=FG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Reader.read-char",a);}return a}function GG(a){if(null!=a&&null!=a.ke)a=a.ke(a);else{var b=GG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=GG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Reader.peek-char",a);}return a}
function HG(a,b){if(null!=a&&null!=a.Kg)a.Kg(a,b);else{var c=HG[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=HG._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IPushbackReader.unread",a);}}function IG(a){if(null!=a&&null!=a.bi)a=a.bi(a);else{var b=IG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=IG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IndexingReader.get-line-number",a);}return a}
function JG(a){if(null!=a&&null!=a.$h)a=a.$h(a);else{var b=JG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=JG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IndexingReader.get-column-number",a);}return a}function KG(a){if(null!=a&&null!=a.ai)a=a.ai(a);else{var b=KG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=KG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IndexingReader.get-file-name",a);}return a}
function LG(a,b){this.s=a;this.nh=b;this.Td=0}LG.prototype.Ad=function(){if(this.nh>this.Td){var a=this.s.charAt(this.Td);this.Td+=1;return a}return null};LG.prototype.ke=function(){return this.nh>this.Td?this.s.charAt(this.Td):null};function MG(a,b){this.gh=a;this.buf=b;this.Bc=this.qf=1}MG.prototype.Ad=function(){var a=this.Bc<this.qf?this.buf[this.Bc]:this.gh.Ad(null);this.Bc<this.qf&&(this.Bc+=1);return null==a?null:pg(a)};
MG.prototype.ke=function(){var a=this.Bc<this.qf?this.buf[this.Bc]:this.gh.ke(null);return null==a?null:pg(a)};MG.prototype.Kg=function(a,b){if(r(b)){if(0===this.Bc)throw Error("Pushback buffer is full");--this.Bc;return this.buf[this.Bc]=b}return null};function NG(a){return null!=a?l===a.Fj?!0:!1:!1};function OG(a,b,c,d){var e=M(b);a=r(a)?0:10<e?10:e;b=Hh.j(vh.j(PG,!0),Ih.j(a,b));b=dh(t,Jh(1,Rh.j(Nh(" "),b)));e=a<e?"...":null;return[t.B(c),t.B(b),e,t.B(d)].join("")}var PG,QG=zh(W),RG=zh(W),SG=zh(W),TG=zh(W),UG=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));
PG=new Wl(te.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?qs:"string"===typeof b?Sm:b instanceof D?Jw:"number"===typeof b?Jw:b instanceof B?Jw:Df(b)?lx:xg(b)?KA:Af(b)?vy:yf(b)?jp:F.j(b,!0)?Jw:F.j(b,!1)?Jw:zc(b)},UG,QG,RG,SG,TG);PG.gb(null,Sm,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.B(b.substring(0,a<d?a:d)),c].join("")});PG.gb(null,Jw,function(a,b){return t.B(b)});PG.gb(null,ze,function(){return"\x3cindexed seq\x3e"});
PG.gb(null,Xi,function(){return"\x3cmap seq\x3e"});PG.gb(null,Dj,function(){return"\x3cmap seq\x3e"});PG.gb(null,Bg,function(){return"\x3ccons\x3e"});PG.gb(null,Hg,function(){return"\x3clazy seq\x3e"});PG.gb(null,qs,function(){return"nil"});PG.gb(null,KA,function(a,b){return OG(a,b,"(",")")});PG.gb(null,vy,function(a,b){var c=M(b),d=r(a)?0:c;b=dh(V,Ih.j(d,b));return OG(a,b,"{",c>d?"...}":"}")});PG.gb(null,jp,function(a,b){return OG(a,b,"#{","}")});PG.gb(null,lx,function(a,b){return OG(a,b,"[","]")});
PG.gb(null,Xl,function(a,b){return dl.F(P([zc(b)]))});function VG(a,b,c){b=new q(null,2,[dq,zs,Pr,b],null);a=NG(a)?R.F(b,Ct,KG(a),P([zm,IG(a),or,JG(a)])):b;var d=Ct.B(a);b=zm.B(a);var e=or.B(a);d=r(d)?[t.B(d)," "].join(""):null;b=r(b)?["[line ",t.B(b),", col ",t.B(e),"]"].join(""):null;c=hh(t,d,b,r(r(d)?d:b)?" ":null,c);throw bm(c,a);}function WG(a,b){return VG(a,kq,P([dh(t,b)]))}function XG(a,b){return VG(a,Jo,P([dh(t,b)]))}function YG(a,b){return VG(a,Cx,P([dh(t,b)]))}
function ZG(a,b,c,d){WG(a,P(["The map literal starting with ",PG.j(!1,J(d)),r(b)?[" on line ",t.B(b)," column ",t.B(c)].join(""):null," contains ",M(d)," form(s). Map literals must contain an even number of forms."]))}function $G(a,b,c){return WG(a,P(["Invalid ",Gg(b),": ",c,"."]))}function aH(a,b,c){return WG(a,P(["Invalid character: ",c," found while reading ",Gg(b),"."]))}
function bH(a,b){a:{var c=Sm instanceof D?Sm.na:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.B(c)].join(""));}}return YG(a,P(["Unexpected EOF reading ",Gg(Sm)," starting ",eh(t,c,b),"."]))}function cH(a,b){return XG(a,P(["Invalid digit ",b," in unicode character."]))}function dH(a){return WG(a,P(["Octal escape sequence must be in range [0, 377]."]))}
function eH(a,b){b=function(c){return function f(e){return new Hg(null,function(){for(var h=e;;)if(h=H(h)){if(Ef(h)){var k=Xd(h),m=M(k),n=Lg(m);a:for(var p=0;;)if(p<m){var u=x(k,p),v=Q(u,0,null);1<Q(u,1,null)&&n.add(v);p+=1}else{k=!0;break a}return k?Ng(Pg(n),f(Yd(h))):Ng(Pg(n),null)}n=J(h);k=Q(n,0,null);if(1<Q(n,1,null))return df(k,f(Be(h)));h=Be(h)}else return null},null,null)}(Fk(c))}(b);return hh(t,a,1<M(b)?"s":null,": ",Jh(1,Rh.j(Nh(", "),b)))}
function fH(a,b,c){b=Gg(b);WG(a,P([eH([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function gH(a){for(var b=a.Ad(null);;)if(BG.B?BG.B(b):BG.call(null,b))b=a.Ad(null);else return b}var hH=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,iH=/([-+]?[0-9]+)\/([0-9]+)/,jH=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function kH(a,b){a=Jk(a,b);return Q(a,0,null)===b}
function lH(a){if(kH(hH,a)){var b=Wf(Jk(hH,a));if(null!=(b.B?b.B(2):b.call(null,2)))a=0;else{a="-"===(b.B?b.B(1):b.call(null,1));b=null!=(b.B?b.B(3):b.call(null,3))?new X(null,2,5,Z,[b.B?b.B(3):b.call(null,3),10],null):null!=(b.B?b.B(4):b.call(null,4))?new X(null,2,5,Z,[b.B?b.B(4):b.call(null,4),16],null):null!=(b.B?b.B(5):b.call(null,5))?new X(null,2,5,Z,[b.B?b.B(5):b.call(null,5),8],null):null!=(b.B?b.B(7):b.call(null,7))?new X(null,2,5,Z,[b.B?b.B(7):b.call(null,7),parseInt(b.B?b.B(6):b.call(null,
6))],null):new X(null,2,5,Z,[null,null],null);var c=b.B?b.B(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.B?b.B(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else kH(jH,a)?(b=Wf(Jk(jH,a)),a=null!=(b.B?b.B(4):b.call(null,4))?parseFloat(b.B?b.B(1):b.call(null,1)):parseFloat(a)):kH(iH,a)?(b=Wf(Jk(iH,a)),a=b.B?b.B(1):b.call(null,1),b=b.B?b.B(2):b.call(null,2),a=r(Jk(/^\+/,a))?wg.j(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function mH(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?wg.C(a,0,b):null;if(null!=c){b+=1;if(b===M(a))return null;a=wg.j(a,b);return CG(Ye(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var nH=function nH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return nH.F(arguments[0],c)};nH.F=function(a){for(;;){var b=a.Ad(null);if("\n"===b||"\n"===b||null==b)break}return a};nH.Y=1;nH.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function oH(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new ze(f,0,null)}return b.call(this,c,e)}function b(c){return WG(c,P(["Unreadable form"]))}a.Y=1;a.ba=function(c){var d=J(c);c=Be(c);return b(d,c)};a.F=b;return a}()};new bc;function pH(a){return"#"!==a?"'"!==a?":"!==a?qH.B?qH.B(a):qH.call(null,a):!1:!1:!1}function rH(a){return"@"===a||"`"===a||"~"===a}function sH(a,b,c,d){if(wc(c))return YG(a,P(["Unexpected EOF while reading start of ",Gg(b),"."]));if(r(r(d)?rH(c):d))return aH(a,b,c);d=new bc;for(HG(a,c);;){if(BG(c)||pH(c)||null==c)return t.B(d);if(rH(c))return aH(a,b,c);d.append(FG(a));c=GG(a)}}
function tH(a,b,c){b=FG(a);if(r(b)){var d=uH.B?uH.B(b):uH.call(null,b);if(r(d))return d.C?d.C(a,b,c):d.call(null,a,b,c);HG(a,b);return AH.C?AH.C(a,b,c):AH.call(null,a,b,c)}return YG(a,P(["Unexpected EOF while reading dispatch character."]))}function BH(a,b){return WG(a,P(["Unmatched delimiter ",b,"."]))}
function CH(a,b,c){b=1+b;if(M(a)!==b)throw XG(null,P(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=EG(Ye(a,d),c);if(-1===f)return c=Ye(a,d),XG(null,P(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function DH(a,b,c,d,e){for(var f=1,h=EG(b,c);;){if(-1===h)return cH(a,b);if(f!==d){var k=GG(a);var m=BG(k);m||(m=qH.B?qH.B(k):qH.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?XG(a,P(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=EG(k,c);FG(a);if(-1===m)return cH(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function EH(a){var b=FG(a);if(null!=b){b=pH(b)||rH(b)||BG(b)?t.B(b):sH(a,fw,b,!1);var c=b.length;if(1===c)return Ye(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=CH(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=WG(a,P(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return WG(a,P(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=CH(b,c,8);return 255<(b|0)?dH(a):b}return WG(a,P(["Unsupported character: ",b,"."]))}return YG(a,P(["Unexpected EOF while reading character."]))}function FH(a){return NG(a)?new X(null,2,5,Z,[IG(a),(JG(a)|0)-1|0],null):null}
function GH(a,b,c,d){var e=FH(c),f=Q(e,0,null);e=Q(e,1,null);b=null==b?null:pg(b);for(var h=Od(mf);;){var k=gH(c);if(!r(k)){var m=a,n=f,p=e,u=M(h);YG(c,P(["Unexpected EOF while reading ",r(u)?["item ",t.B(u)," of "].join(""):null,Gg(m),r(n)?[", starting at line ",t.B(n)," and column ",t.B(p)].join(""):null,"."]))}if(F.j(b,null==k?null:pg(k)))return Qd(h);m=qH.B?qH.B(k):qH.call(null,k);r(m)?(k=m.C?m.C(c,k,d):m.call(null,c,k,d),h=k!==c?Vg.j(h,k):h):(HG(c,k),k=HH?HH(c,!0,null,d):IH.call(null,c,!0,null,
d),h=k!==c?Vg.j(h,k):h)}}function JH(a,b,c){a=GH(KA,")",a,c);return wf(a)?Ce:dh(Ag,a)}function KH(a,b,c){return GH(lx,"]",a,c)}function LH(a,b,c){var d=FH(a);b=Q(d,0,null);d=Q(d,1,null);c=GH(vy,"}",a,c);var e=M(c),f=Ck(2,c),h=pk(f);!rh(e)&&ZG(a,b,d,c);F.j(M(h),M(f))||fH(a,vy,f);if(e<=2*bj)a=Sf(c),a=new q(null,a.length/2,a,null);else a:for(a=Sf(c),b=a.length,d=0,e=Od(cj);;)if(d<b)c=d+2,e=Rd(e,a[d],a[d+1]),d=c;else{a=Qd(e);break a}return a}
function MH(a,b){for(var c=function(){var h=new bc;h.append(b);return h}(),d=FG(a);;){if(r(function(){var h=BG(d);if(h)return h;h=qH.B?qH.B(d):qH.call(null,d);return r(h)?h:null==d}())){var e=t.B(c);HG(a,d);var f=lH(e);return r(f)?f:WG(a,P(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=FG(a);c=e;d=f}}
function NH(a){var b=FG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=FG(a),-1===parseInt(b|0,16)?WG(a,P(["Invalid unicode escape: \\u",b,"."])):DH(a,b,16,4,!0);default:return CG(b)?(b=DH(a,b,8,3,!1),255<(b|0)?dH(a):b):WG(a,P(["Unsupported escape character: \\",b,"."]))}}
function OH(a){for(var b=new bc,c=FG(a);;){var d=c;if(F.j(null,d))return bH(a,P(['"',b]));if(F.j("\\",d)){d=function(){var f=b;f.append(NH(a));return f}();var e=FG(a);b=d;c=e}else{if(F.j('"',d))return t.B(b);d=function(){var f=b;f.append(c);return f}();e=FG(a);b=d;c=e}}}
function PH(a,b){b=sH(a,Pw,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return vo;default:var c=mH(b);c=r(c)?te.j(c.B?c.B(0):c.call(null,0),c.B?c.B(1):c.call(null,1)):null;return r(c)?c:$G(a,Pw,b)}else return null}
function QH(a){var b=FG(a);if(BG(b))return WG(a,P(["A single colon is not a valid keyword."]));b=sH(a,aC,b,!0);var c=mH(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.B?c.B(0):c.call(null,0);c=c.B?c.B(1):c.call(null,1);return":"===Ye(b,0)?$G(a,aC,b):Fg.j(d,c)}return $G(a,aC,b)}
function RH(a,b,c){b=HH?HH(a,!0,null,c):IH.call(null,a,!0,null,c);b=b instanceof D?qf([b,!0]):b instanceof B?new q(null,1,[gv,b],null):"string"===typeof b?new q(null,1,[gv,b],null):b;Af(b)||WG(a,P(["Metadata cannot be ",PG.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=HH?HH(a,!0,null,c):IH.call(null,a,!0,null,c);return null!=c&&(c.J&131072||l===c.Ke)?tf(c,hk.F(P([uf(c),b]))):WG(a,P(["Metadata can not be applied to ",PG.j(!1,c),". ","Metadata can only be applied to IMetas."]))}
function SH(a,b,c){b=GH(jp,"}",a,c);c=pk(b);F.j(M(b),M(c))||fH(a,jp,b);return c}function TH(a){HH?HH(a,!0,null,!0):IH.call(null,a,!0,null,!0);return a}
function UH(a,b,c){b=FG(a);b=sH(a,Xu,b,!0);var d=null==b?null:mH(b);if(null==d)var e=null;else e=Q(d,0,null),d=Q(d,1,null),e=r(e)?null:d;return r(e)?"{"===gH(a)?(c=GH(Xu,"}",a,c),!rh(M(c))&&ZG(a,null,null,c),b=DG(t.B(e),Ck(2,c)),c=Ck(2,Be(c)),F.j(M(pk(b)),M(b))||fH(a,Xu,b),sk(b,c)):WG(a,P(["Namespaced map with namespace ",b," does not specify a map."])):WG(a,P(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function VH(a,b,c){b=HH?HH(a,!0,null,c):IH.call(null,a,!0,null,c);return F.j(QB,b)?Number.NaN:F.j(cs,b)?Number.NEGATIVE_INFINITY:F.j(Yz,b)?Number.POSITIVE_INFINITY:WG(a,P([["Invalid token: ##",t.B(b)].join("")]))}function qH(a){switch(a){case '"':return OH;case ":":return QH;case ";":return nH;case "^":return RH;case "(":return JH;case ")":return BH;case "[":return KH;case "]":return BH;case "{":return LH;case "}":return BH;case "\\":return EH;case "#":return tH;default:return null}}
function uH(a){switch(a){case "^":return RH;case "{":return SH;case "\x3c":return oH();case "!":return nH;case "_":return TH;case ":":return UH;case "#":return VH;default:return null}}
function AH(a,b,c){b=HH?HH(a,!0,null,c):IH.call(null,a,!0,null,c);var d=HH?HH(a,!0,null,c):IH.call(null,a,!0,null,c);b instanceof B||WG(a,P(["Invalid reader tag: ",PG.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=C.j(ym.B(c),b);e=r(e)?e:W.B?W.B(b):W.call(null,b);if(r(e))return e.B?e.B(d):e.call(null,d);c=Xl.B(c);return r(c)?c.j?c.j(b,d):c.call(null,b,d):WG(a,P(["No reader function for tag ",PG.j(!1,b),"."]))}
function IH(a){switch(arguments.length){case 1:return WH(W,arguments[0]);case 2:return WH(arguments[0],arguments[1]);case 4:return HH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function WH(a,b){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var c=C.j(a,Cx),d=!Lf(a,Cx);return HH(b,d,c,a)}
function HH(a,b,c,d){try{for(;;){var e=FG(a);if(!BG(e)){if(null==e){if(r(b)){b=a;var f=r(null)?YG(b,P(["EOF while reading, starting at line ",null,"."])):YG(b,P(["EOF while reading."]))}else f=c;return f}if(CG(e)||("+"===e||"-"===e)&&CG(a.ke(null)))return MH(a,e);var h=qH(e);if(r(h)){var k=h.C?h.C(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return PH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof am){b=f instanceof am?f.data:null;if(F.j(zs,dq.B(b)))throw f;a=hk.F(P([new q(null,1,
[dq,zs],null),b,NG(a)?new q(null,3,[zm,IG(a),RA,JG(a),Ct,KG(a)],null):null]));throw new am(f.message,a,f);}a=hk.F(P([new q(null,1,[dq,zs],null),NG(a)?new q(null,3,[zm,IG(a),RA,JG(a),Ct,KG(a)],null):null]));throw new am(f.message,a,f);}throw m;}}function XH(a,b){if(r(r(b)?jh.j(b,""):b)){b=new LG(b,M(b));a:{var c=Array(1);if(Hf(null))for(var d=0,e=H(null);;)if(e&&1>d)c[d]=J(e),d+=1,e=K(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=WH(a,new MG(b,c))}else a=null;return a};var YH=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return C.j(r(d)?b:a,c)}}(),ZH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function $H(a){a=parseInt(a,10);return wc(isNaN(a))?a:null}
function aI(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.B(d)," Failed:  ",t.B(a),"\x3c\x3d",t.B(b),"\x3c\x3d",t.B(c)].join(""));return b}
function bI(a){var b=Ik(ZH,a);Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null),m=Q(b,7,null),n=Q(b,8,null),p=Q(b,9,null),u=Q(b,10,null);if(wc(b))throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));a=$H(c);b=function(){var I=$H(d);return r(I)?I:1}();c=function(){var I=$H(e);return r(I)?I:1}();var v=function(){var I=$H(f);return r(I)?I:0}(),y=function(){var I=$H(h);return r(I)?I:0}(),E=function(){var I=$H(k);return r(I)?I:0}(),G=function(){a:if(F.j(3,
M(m)))var I=m;else if(3<M(m))I=wg.C(m,0,3);else for(I=new bc(m);;)if(3>I.getLength())I=I.append("0");else{I=I.toString();break a}I=$H(I);return r(I)?I:0}();n=(F.j(n,"-")?-1:1)*(60*function(){var I=$H(p);return r(I)?I:0}()+function(){var I=$H(u);return r(I)?I:0}());return new X(null,8,5,Z,[a,aI(1,b,12,"timestamp month field must be in range 1..12"),aI(1,c,YH(b,0===rg(a,4)&&(0!==rg(a,100)||0===rg(a,400))),"timestamp day field must be in range 1..last day in month"),aI(0,v,23,"timestamp hour field must be in range 0..23"),
aI(0,y,59,"timestamp minute field must be in range 0..59"),aI(0,E,F.j(y,59)?60:59,"timestamp second field must be in range 0..60"),aI(0,G,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var cI=zh(null),dI=zh(hk.F(P([new q(null,4,[nz,function(a){if("string"===typeof a){var b=bI(a);if(r(b)){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null);b=Q(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},St,function(a){if("string"===typeof a)return new Zl(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},Wt,function(a){if(Df(a))return Xh.j(Pi,a);throw Error("Queue literal expects a vector for its elements.");},Fx,function(a){if(Df(a)){var b=[];a=H(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);b.push(f);e+=1}else if(a=H(a))c=a,Ef(c)?(a=Xd(c),e=Yd(c),c=a,d=M(a),a=e):(a=J(c),b.push(a),a=K(c),c=null,d=0),e=0;else break;return b}if(Af(a)){b={};a=H(a);c=null;for(e=d=0;;)if(e<d){var h=c.xa(null,e);f=Q(h,0,null);h=Q(h,1,null);f=Gg(f);b[f]=h;e+=1}else if(a=H(a))Ef(a)?(d=Xd(a),a=Yd(a),c=d,d=M(d)):
(d=J(a),c=Q(d,0,null),d=Q(d,1,null),c=Gg(c),b[c]=d,a=K(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function eI(a,b){var c=eh(tk,a,b);return df(c,Wh(function(d){return c===d},b))}function fI(a,b){return M(a)<M(b)?w.C(lf,b,a):w.C(lf,a,b)}var gI=function gI(a){switch(arguments.length){case 1:return gI.B(arguments[0]);case 2:return gI.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return gI.F(arguments[0],arguments[1],c)}};gI.B=function(a){return a};
gI.j=function(a,b){for(;;)if(M(b)<M(a)){var c=a;a=b;b=c}else return w.C(function(d,e){return function(f,h){return Lf(e,h)?f:vf.j(f,h)}}(a,b),a,a)};gI.F=function(a,b,c){a=eI(function(d){return-M(d)},lf.F(c,b,P([a])));return w.C(gI,J(a),Be(a))};gI.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};gI.Y=2;
var hI=function hI(a){switch(arguments.length){case 1:return hI.B(arguments[0]);case 2:return hI.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return hI.F(arguments[0],arguments[1],c)}};hI.B=function(a){return a};hI.j=function(a,b){return M(a)<M(b)?w.C(function(c,d){return Lf(b,d)?vf.j(c,d):c},a,a):w.C(vf,a,b)};hI.F=function(a,b,c){return w.C(hI,a,lf.j(c,b))};
hI.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};hI.Y=2;function iI(a,b){return M(a)<=M(b)&&ph(function(c){return Lf(b,c)},a)}function jI(a,b){return M(a)>=M(b)&&ph(function(c){return Lf(a,c)},b)};function kI(a){return w.C(function(b,c){b.push(c);return b},[],a)}function lI(a){return a instanceof Array};var mI=J(Vh(function(a){return 0!=(32&1<<a)},Bk.C(31,-1,-1)))+1,nI=(1<<mI)-1;function oI(a,b,c,d){for(var e=0,f=qg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.j?a.j(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function pI(a,b,c,d){for(var e=0,f=qg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.j?a.j(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function qI(a,b,c){var d=b.length,e=oI(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.j?a.j(b,c):a.call(null,b,c));return d?e:-1}
function rI(a,b,c){var d=b.length;a=oI(a,b,d-1,c);return a===d?-1:a}function sI(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function tI(a,b,c,d){return sI(a,0,a.length,b,c,d)}
function uI(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function vI(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.j?a.j(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function wI(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function xI(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function yI(a){if(null!=a&&null!=a.Xf)a=a.Xf(a);else{var b=yI[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=yI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INode.node-lim-key",a);}return a}function zI(a){if(null!=a&&null!=a.Yg)a=a.keys.length;else{var b=zI[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=zI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INode.node-len",a);}return a}
function AI(a,b){if(null!=a&&null!=a.Zf)a=a.Zf(a,b);else{var c=AI[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=AI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("INode.node-merge",a);}return a}function BI(a,b){if(null!=a&&null!=a.$f)a=a.$f(a,b);else{var c=BI[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=BI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("INode.node-merge-n-split",a);}return a}
function CI(a,b,c){if(null!=a&&null!=a.Yf)a=a.Yf(a,b,c);else{var d=CI[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=CI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("INode.node-lookup",a);}return a}function DI(a,b,c){if(null!=a&&null!=a.Vf)a=a.Vf(a,b,c);else{var d=DI[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=DI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("INode.node-conj",a);}return a}
function EI(a,b,c,d,e,f){if(null!=a&&null!=a.Wf)a=a.Wf(a,b,c,d,e,f);else{var h=EI[ra(null==a?null:a)];if(null!=h)a=h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=EI._,null!=h)a=h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Ac("INode.node-disj",a);}return a}
function FI(a,b,c,d){if(r(b))return[a];if(16<zI(a))return xI(c,a,d);if(r(r(c)?16>=zI(c):c))return wI(AI(c,a),d);if(r(r(d)?16>=zI(d):d))return wI(c,AI(a,d));if(r(r(c)?null==d||zI(c)<zI(d):c))return a=BI(c,a),xI(a[0],a[1],d);a=BI(a,d);return xI(c,a[0],a[1])}function GI(a,b){this.keys=a;this.hb=b}g=GI.prototype;g.Xf=function(){var a=this.keys;return a[a.length-1]};g.Yg=function(){return this.keys.length};g.Zf=function(a,b){return new GI(this.keys.concat(b.keys),this.hb.concat(b.hb))};
g.$f=function(a,b){a=uI(this.keys,b.keys);b=uI(this.hb,b.hb);return wI(new GI(a[0],b[0]),new GI(a[1],b[1]))};g.Yf=function(a,b,c){a=rI(b,this.keys,c);return-1===a?null:CI(this.hb[a],b,c)};g.Vf=function(a,b,c){a=oI(b,this.keys,this.keys.length-2,c);c=DI(this.hb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(yI);b=vI(b,d,a,e,f,f.length)?d:tI(d,a,e,f);a=tI(this.hb,a,a+1,c);if(32>=a.length)return[new GI(b,a)];c=a.length>>>1;return[new GI(b.slice(0,c),a.slice(0,c)),new GI(b.slice(c),a.slice(c))]}return null};
g.Wf=function(a,b,c,d,e,f){var h=rI(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.hb[h-1]:null;var k=h+1<this.hb.length?this.hb[h+1]:null;c=EI(this.hb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(yI);b=vI(b,k,a,h,m,m.length)?k:tI(k,a,h,m);c=tI(this.hb,a,h,c);return FI(new GI(b,c),d,e,f)}return null};function HI(a){this.keys=a}g=HI.prototype;g.Xf=function(){var a=this.keys;return a[a.length-1]};g.Yg=function(){return this.keys.length};g.Zf=function(a,b){return new HI(this.keys.concat(b.keys))};
g.$f=function(a,b){a=uI(this.keys,b.keys);return wI(new HI(a[0]),new HI(a[1]))};g.Yf=function(a,b,c){a=qI(b,this.keys,c);return-1===a?null:this.keys[a]};g.Vf=function(a,b,c){a=oI(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.j?b.j(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new HI(this.keys.slice(0,b)),new HI(sI(this.keys,b,d,a,a,[c]))]:[new HI(sI(this.keys,0,b,a,a,[c])),new HI(this.keys.slice(b,d))]):[new HI(tI(this.keys,a,a,[c]))]};
g.Wf=function(a,b,c,d,e,f){a=qI(b,this.keys,c);if(-1===a)return null;a=tI(this.keys,a,a+1,[]);return FI(new HI(a),d,e,f)};function II(a,b,c,d,e,f){this.root=a;this.shift=b;this.aa=c;this.jc=d;this.meta=e;this._hash=f;this.J=2297303311;this.T=8332}g=II.prototype;g.toString=function(){return he(this)};g.ma=function(a,b){return CI(this.root,this.jc,b)};g.R=function(a,b,c){a=CI(this.root,this.jc,b);return r(a)?a:c};g.ga=function(a,b,c){return Ok(b,Wk,"#{"," ","}",c,H(this))};g.ea=function(){return this.meta};
g.ja=function(){return this.aa};g.qc=function(){return Dd(JI.B?JI.B(this):JI.call(null,this))};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Ie(this)};g.ca=function(a,b){var c=this;return yf(b)&&this.aa===M(b)&&ph(function(d){return Lf(c,d)},b)};g.od=function(){return this};g.Ja=function(){return new II(new HI([]),0,0,this.jc,this.meta,null)};g.zf=function(a,b){return KI.C?KI.C(this,b,this.jc):KI.call(null,this,b,this.jc)};
g.Sa=function(a,b){a=JI.B?JI.B(this):JI.call(null,this);return r(a)?rd(a,b):b.O?b.O():b.call(null)};g.Ta=function(a,b,c){a=JI.B?JI.B(this):JI.call(null,this);return r(a)?rd(a,b,c):c};g.pd=function(a,b){return LI.C?LI.C(this,b,this.jc):LI.call(null,this,b,this.jc)};g.zd=function(){return this};g.ha=function(){return JI.B?JI.B(this):JI.call(null,this)};g.fa=function(a,b){return new II(this.root,this.shift,this.aa,this.jc,b,this._hash)};
g.la=function(a,b){return LI.C?LI.C(this,b,this.jc):LI.call(null,this,b,this.jc)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};
function MI(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.hb[nI&b>>>c],c-=mI;else return a.keys}function NI(a,b,c,d){return new II(b,c,d,a.jc,a.meta,null)}var OI=function OI(a,b,c){var e=nI&b>>>c;if(0<c){var f=a.hb[e],h=c-mI;b=OI.C?OI.C(f,b,h):OI.call(null,f,b,h);return-1===b?e+1<a.hb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function PI(a,b){return OI(a.root,b,a.shift)}
function QI(a,b){for(var c=0;;)if(0<b)c|=a.hb.length-1<<b,b-=mI,a=a.hb,a=a[a.length-1];else return c|a.keys.length-1<<0}var RI=function RI(a,b,c){var e=nI&b>>>c;if(0<c){var f=c-mI,h=a.hb[e];b=RI.C?RI.C(h,b,f):RI.call(null,h,b,f);return-1===b?0<=e-1?(--e,QI(a.hb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function SI(a,b){return RI(a.root,b,a.shift)}function JI(a){if(0<zI(a.root)){var b=QI(a.root,a.shift)+1;return TI.C?TI.C(a,0,b):TI.call(null,a,0,b)}return null}
function UI(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=UI.prototype;g.ja=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.Zd=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Kg(this.K,this.off+1,this.end)};g.Sa=function(a,b){return this.off===this.end?b.O?b.O():b.call(null):rd(this.Zd(null),b,this.K[this.off])};
g.Ta=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.j?b.j(c,d):b.call(null,c,d);if(Ne(c))return z(c);a+=1}else return c};function VI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.T=1536}g=VI.prototype;g.toString=function(){return he(this)};g.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,H(this))};
g.Ma=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new VI(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=PI(this.set,this.left);return jh.j(-1,a)&&a<this.right?this.bf(a,this.right):null}return null};g.qc=function(){if(r(this.keys)){var a=this.set,b=SI(this.set,this.left),c=SI(this.set,this.right);return WI.C?WI.C(a,b,c):WI.call(null,a,b,c)}return null};g.ca=function(a,b){return cf(this,b)};
g.Sa=function(a,b){if(null==this.keys)return b.O?b.O():b.call(null);a=this.Ua(null);var c=this.Ma(null);return null==c?a:rd(c,b,a)};g.Ta=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.j?b.j(c,f):b.call(null,c,f);if(Ne(c))return z(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=PI(this.set,a),-1!==a&&a<this.right)d=MI(this.set,a),e=nI&a>>>0;else return c}};g.Ua=function(){return r(this.keys)?this.keys[this.idx]:null};
g.bb=function(){var a=this.Ma(null);return r(a)?a:Ce};g.ha=function(){return r(this.keys)?this:null};g.ae=function(){var a=F.j(this.left|nI,this.right|nI)?this.right&nI:this.keys.length;return new UI(this.keys,this.idx,a)};g.yd=function(){var a=this.$d();return r(a)?a:Ce};g.bf=function(a,b){return new VI(this.set,a,b,MI(this.set,a),nI&a>>>0)};g.$d=function(){var a=PI(this.set,this.left+(this.keys.length-this.idx-1));return jh.j(-1,a)&&a<this.right?this.bf(a,this.right):null};
function TI(a,b,c){return new VI(a,b,c,MI(a,b),nI&b>>>0)}function XI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.T=0}g=XI.prototype;g.toString=function(){return he(this)};g.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,H(this))};
g.Ma=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new XI(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=SI(this.set,this.right);return jh.j(-1,a)&&a>this.left?this.bf(this.left,a):null}return null};g.qc=function(){if(r(this.keys)){var a=-1===this.left?0:PI(this.set,this.left),b=PI(this.set,this.right);return TI(this.set,a,-1===b?this.right+1:b)}return null};g.ca=function(a,b){return cf(this,b)};
g.Ua=function(){return r(this.keys)?this.keys[this.idx]:null};g.bb=function(){var a=this.Ma(null);return r(a)?a:Ce};g.ha=function(){return r(this.keys)?this:null};g.bf=function(a,b){return new XI(this.set,a,b,MI(this.set,b),nI&b>>>0)};function WI(a,b,c){return new XI(a,b,c,MI(a,c),nI&c>>>0)}
function YI(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=zI(e);if(0===h){var m=e.keys;m=oI(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=oI(d,m,k-2,b);f|=m<<h;h-=mI;e=e.hb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=zI(e);if(0===h){k=e.keys;m=pI(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=pI(d,k,m-2,c);f|=m<<h;h-=mI;e=e.hb[m]}return c>b?new VI(a,b,c,MI(a,b),nI&b>>>0):null}
function ZI(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.B?a.B(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function $I(a){var b=a.length,c=Od(mf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Vg.j(c,a.slice(d));break}else 40<=e?(Vg.j(c,a.slice(d,d+24)),d+=24):(e>>>=1,Vg.j(c,a.slice(d,d+e)),d+=e)}return Sf(Qd(c))}function LI(a,b,c){b=DI(a.root,c,b);return null==b?a:1===b.length?NI(a,b[0],a.shift,a.aa+1):NI(a,new GI(b.map(yI),b),a.shift+mI,a.aa+1)}
function KI(a,b,c){b=EI(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof GI&&1===b.hb.length?NI(a,b.hb[0],a.shift-mI,a.aa-1):NI(a,b,a.shift,a.aa-1)}function aJ(a,b,c){return YI(a,b,c,a.jc)}function bJ(a){var b=cJ.P(536870911,null,null,2147483647),c=cJ.P(0,null,null,536870912);a=YI(a,c,b,a.jc);return null==a?null:Dd(a)}
function dJ(a,b){for(var c=ZI(function(h){return new HI(h)},$I(b)),d=c,e=0;;){var f=M(d);switch(f){case 0:return new II(new HI([]),0,0,a,null,null);case 1:return new II(J(d),e,b.length,a,null,null);default:d=ZI(function(){return function(h){return new GI(h.map(yI),h)}}(d,e,f,c),$I(d)),e+=mI}}}function eJ(a){return new II(new HI([]),0,0,a,null,null)};var fJ=Error;function gJ(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.J&8388608||l===a.yf?!0:a.J?!1:yc(xd,a):yc(xd,a))?b:uc(a)||"string"===typeof a),b=b||lI(a);return b}var hJ=wh(lf,mf),iJ=wh(lf,ok);function jJ(a,b,c){return J(w.C(function(d,e){var f=Q(d,0,null);d=Q(d,1,null);e=a.C?a.C(f,e,d):a.call(null,f,e,d);return Ne(e)?Me(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function kJ(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function lJ(a){if(null!=a&&null!=a.Ka)a=a.Ka(a);else{var b=lJ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=lJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDatom.datom-tx",a);}return a}function mJ(a){if(null!=a&&null!=a.ac)a=a.ac(a);else{var b=mJ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=mJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDatom.datom-added",a);}return a}
function nJ(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.kf=d;this._hash=e;this.J=2162164496;this.T=0}g=nJ.prototype;g.Ka=function(){return 0<this.kf?this.kf:-this.kf};g.ac=function(){return 0<this.kf};g.ia=function(){return 0===this._hash?this._hash=oJ.B?oJ.B(this):oJ.call(null,this):this._hash};g.ca=function(a,b){return b instanceof nJ?pJ.j?pJ.j(this,b):pJ.call(null,this,b):!1};g.ha=function(){return qJ.B?qJ.B(this):qJ.call(null,this)};
g.ma=function(a,b){return rJ.C?rJ.C(this,b,null):rJ.call(null,this,b,null)};g.R=function(a,b,c){return rJ.C?rJ.C(this,b,c):rJ.call(null,this,b,c)};g.xa=function(a,b){return sJ?sJ(this,b):tJ.call(null,this,b)};g.Ra=function(a,b,c){return uJ?uJ(this,b,c):tJ.call(null,this,b,c)};g.da=function(a,b,c){return vJ.C?vJ.C(this,b,c):vJ.call(null,this,b,c)};g.ga=function(a,b,c){return Ok(b,Wk,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.Ka(null),this.ac(null)],null))};
na("datascript.db.Datom",nJ);var cJ=function cJ(a){switch(arguments.length){case 3:return cJ.C(arguments[0],arguments[1],arguments[2]);case 4:return cJ.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cJ.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};cJ.C=function(a,b,c){return new nJ(a,b,c,536870912,0)};cJ.P=function(a,b,c,d){return new nJ(a,b,c,d,0)};
cJ.ka=function(a,b,c,d,e){return new nJ(a,b,c,r(e)?d:-d,0)};cJ.Y=5;function wJ(a){return a instanceof nJ}function oJ(a){return kJ(kJ(pe(a.e),pe(a.a)),pe(a.v))}function pJ(a,b){return a.e===b.e&&F.j(a.a,b.a)&&F.j(a.v,b.v)}function qJ(a){return new nf(null,a.e,new nf(null,a.a,new nf(null,a.v,new nf(null,a.Ka(null),new nf(null,a.ac(null),null,1,null),2,null),3,null),4,null),5,null)}
function rJ(a,b,c){return F.j(Gw,b)?a.v:F.j("e",b)?a.e:F.j(oy,b)?a.ac(null):F.j("v",b)?a.v:F.j(vw,b)?a.e:F.j("a",b)?a.a:F.j(Zo,b)?a.Ka(null):F.j("added",b)?a.ac(null):F.j("tx",b)?a.Ka(null):F.j(zw,b)?a.a:c}function tJ(a){switch(arguments.length){case 2:return sJ(arguments[0],arguments[1]);case 3:return uJ(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function sJ(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ka(null);case 4:return a.ac(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.B(b)].join(""));}}function uJ(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ka(null);case 4:return a.ac(null);default:return c}}
function vJ(a,b,c){switch(b instanceof D?b.na:null){case "e":return cJ.ka(c,a.a,a.v,a.Ka(null),a.ac(null));case "a":return cJ.ka(a.e,c,a.v,a.Ka(null),a.ac(null));case "v":return cJ.ka(a.e,a.a,c,a.Ka(null),a.ac(null));case "tx":return cJ.ka(a.e,a.a,a.v,c,a.ac(null));case "added":return cJ.ka(a.e,a.a,a.v,a.Ka(null),c);default:throw new fJ(["invalid key for #datascript/Datom: ",t.B(b)].join(""));}}function xJ(a,b){return null==a?0:null==b?0:Of(a,b)}
function yJ(a,b){return F.j(a,b)?0:(null!=a?a.T&2048||l===a.Xc||(a.T?0:yc(Ud,a)):yc(Ud,a))?Vd(a,b):"string"!==typeof a&&!uc(a)&&!0!==a&&!1!==a||zc(a)!==zc(b)?pe(a)-pe(b):Za(a,b)}function zJ(a,b){return null==a?0:null==b?0:yJ(a,b)}function AJ(a,b){var c=a.e-b.e;return 0===c?(c=xJ(a.a,b.a),0===c?(c=zJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function BJ(a,b){var c=xJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=zJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}
function CJ(a,b){var c=xJ(a.a,b.a);return 0===c?(c=zJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function DJ(a,b){return a instanceof D?Vd(a,b):Za(a,b)}function EJ(a,b){var c=a.e-b.e;return 0===c?(c=DJ(a.a,b.a),0===c?(c=yJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function FJ(a,b){var c=DJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=yJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}
function GJ(a,b){var c=DJ(a.a,b.a);return 0===c?(c=yJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function HJ(){}function IJ(a,b){if(null!=a&&null!=a.Qg)a=a.Qg(a,b);else{var c=IJ[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=IJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ISearch.-search",a);}return a}function JJ(a,b){return J(IJ(a,b))}
function KJ(a,b,c){if(null!=a&&null!=a.Pg)a=a.Pg(a,b,c);else{var d=KJ[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=KJ._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IIndexAccess.-datoms",a);}return a}function LJ(){}function MJ(a){if(null!=a&&null!=a.ji)a=a.sb;else{var b=MJ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=MJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDB.-schema",a);}return a}
function NJ(a,b){if(null!=a&&null!=a.Og)a=a.Og(a,b);else{var c=NJ[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=NJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IDB.-attrs-by",a);}return a}function OJ(a,b,c,d,e,f,h,k,m,n,p){this.sb=a;this.mb=b;this.Qb=c;this.Rb=d;this.Xb=e;this.Yb=f;this.Vb=h;this.hash=k;this.G=m;this.D=n;this.I=p;this.J=2230716170;this.T=139264}g=OJ.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "schema":return this.sb;case "eavt":return this.mb;case "aevt":return this.Qb;case "avet":return this.Rb;case "max-eid":return this.Xb;case "max-tx":return this.Yb;case "rschema":return this.Vb;case "hash":return this.hash;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.j(new X(null,8,5,Z,[new X(null,2,5,Z,[Vr,this.sb],null),new X(null,2,5,Z,[ev,this.mb],null),new X(null,2,5,Z,[Vx,this.Qb],null),new X(null,2,5,Z,[Tm,this.Rb],null),new X(null,2,5,Z,[Ox,this.Xb],null),new X(null,2,5,Z,[sz,this.Yb],null),new X(null,2,5,Z,[Et,this.Vb],null),new X(null,2,5,Z,[zA,this.hash],null)],null),this.D))};
g.oa=function(){return new Ti(this,8,new X(null,8,5,Z,[Vr,ev,Vx,Tm,Ox,sz,Et,zA],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 8+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1515640948^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.sb,b.sb)&&F.j(this.mb,b.mb)&&F.j(this.Qb,b.Qb)&&F.j(this.Rb,b.Rb)&&F.j(this.Xb,b.Xb)&&F.j(this.Yb,b.Yb)&&F.j(this.Vb,b.Vb)&&F.j(this.hash,b.hash)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,8,[Vr,null,sz,null,zA,null,Vx,null,Tm,null,Ox,null,ev,null,Et,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new OJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Vr,b):T.call(null,Vr,b))?new OJ(c,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(ev,b):T.call(null,ev,b))?new OJ(this.sb,c,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(Vx,b):T.call(null,Vx,b))?new OJ(this.sb,this.mb,c,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(Tm,b):T.call(null,Tm,b))?new OJ(this.sb,this.mb,this.Qb,c,this.Xb,this.Yb,this.Vb,this.hash,this.G,
this.D,null):r(T.j?T.j(Ox,b):T.call(null,Ox,b))?new OJ(this.sb,this.mb,this.Qb,this.Rb,c,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(sz,b):T.call(null,sz,b))?new OJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,c,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(Et,b):T.call(null,Et,b))?new OJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,c,this.hash,this.G,this.D,null):r(T.j?T.j(zA,b):T.call(null,zA,b))?new OJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,c,this.G,this.D,null):new OJ(this.sb,
this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,8,5,Z,[new Y(Vr,this.sb),new Y(ev,this.mb),new Y(Vx,this.Qb),new Y(Tm,this.Rb),new Y(Ox,this.Xb),new Y(sz,this.Yb),new Y(Et,this.Vb),new Y(zA,this.hash)],null),this.D))};g.fa=function(a,b){return new OJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function PJ(a){var b=S.F(a,Vr,P([ev,Vx,Tm,Ox,sz,Et,zA]));b=Bf(a)?Xh.j(W,b):b;return new OJ(Vr.B(a),ev.B(a),Vx.B(a),Tm.B(a),Ox.B(a),sz.B(a),Et.B(a),zA.B(a),null,kh(b),null)}g.Ia=l;g.ga=function(a,b,c){return QJ.C?QJ.C(this,b,c):QJ.call(null,this,b,c)};g.Eg=l;g.ja=function(){return M(this.mb)};g.Zh=l;g.qc=function(){return Dd(this.mb)};g.Wh=l;g.ia=function(){return RJ.B?RJ.B(this):RJ.call(null,this)};g.ca=function(a,b){return SJ.j?SJ.j(this,b):SJ.call(null,this,b)};g.Gg=l;
g.od=function(){return ei.C(ei.C(ei.C(this,ev,Tg),Vx,Tg),Tm,Tg)};g.Hg=l;g.Ja=function(){var a=this.sb;a=TJ?TJ(a):UJ.call(null,a);return tf(a,uf(this))};g.pd=function(){throw bm("datascript.DB/conj! is not supported",W);};g.zd=function(){return ei.C(ei.C(ei.C(this,ev,Ug),Vx,Ug),Tm,Ug)};g.yf=l;g.ha=function(){return yd(this.mb)};
g.Pg=function(a,b,c){if(F.j(b,Tm)&&(a=J(c),null!=a&&!r(VJ.j?VJ.j(this,a):VJ.call(null,this,a))))throw bm(["Attribute ",dl.F(P([a]))," should be marked as :db/index true"].join(""),new q(null,3,[tp,Rx,Wy,Tm,gm,c],null));return aJ(C.j(this,b),WJ.ka?WJ.ka(this,b,c,0,536870912):WJ.call(null,this,b,c,0,536870912),WJ.ka?WJ.ka(this,b,c,2147483647,2147483647):WJ.call(null,this,b,c,2147483647,2147483647))};g.Ng=l;g.ji=function(){return this.sb};g.Og=function(a,b){a=this.Vb;return a.B?a.B(b):a.call(null,b)};
g.ki=l;
g.Qg=function(a,b){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null);b=this.mb;var f=this.Qb,h=this.Rb;Lf(NJ(this,eB),c);return r(a)?r(c)?null!=d?r(e)?aJ(b,cJ.P(a,c,d,e),cJ.P(a,c,d,e)):aJ(b,cJ.P(a,c,d,536870912),cJ.P(a,c,d,2147483647)):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},aJ(b,cJ.P(a,c,null,536870912),cJ.P(a,c,null,2147483647))):aJ(b,cJ.P(a,c,null,536870912),cJ.P(a,c,null,2147483647)):null!=d?r(e)?Vh(function(k){return F.j(d,k.v)&&F.j(e,k.Ka(null))},aJ(b,cJ.P(a,null,null,536870912),
cJ.P(a,null,null,2147483647))):Vh(function(k){return F.j(d,k.v)},aJ(b,cJ.P(a,null,null,536870912),cJ.P(a,null,null,2147483647))):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},aJ(b,cJ.P(a,null,null,536870912),cJ.P(a,null,null,2147483647))):aJ(b,cJ.P(a,null,null,536870912),cJ.P(a,null,null,2147483647)):r(c)?null!=d?r(e)?r(VJ.j?VJ.j(this,c):VJ.call(null,this,c))?Vh(function(k){return F.j(e,k.Ka(null))},aJ(h,cJ.P(0,c,d,536870912),cJ.P(2147483647,c,d,2147483647))):Vh(function(k){return F.j(d,k.v)&&F.j(e,
k.Ka(null))},aJ(f,cJ.P(0,c,null,536870912),cJ.P(2147483647,c,null,2147483647))):r(VJ.j?VJ.j(this,c):VJ.call(null,this,c))?aJ(h,cJ.P(0,c,d,536870912),cJ.P(2147483647,c,d,2147483647)):Vh(function(k){return F.j(d,k.v)},aJ(f,cJ.P(0,c,null,536870912),cJ.P(2147483647,c,null,2147483647))):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},aJ(f,cJ.P(0,c,null,536870912),cJ.P(2147483647,c,null,2147483647))):aJ(f,cJ.P(0,c,null,536870912),cJ.P(2147483647,c,null,2147483647)):null!=d?r(e)?Vh(function(k){return F.j(d,
k.v)&&F.j(e,k.Ka(null))},b):Vh(function(k){return F.j(d,k.v)},b):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},b):b};
function XJ(a,b){switch(b instanceof D?b.na:null){case "db.unique/identity":return new X(null,3,5,Z,[Bm,$y,Iy],null);case "db.unique/value":return new X(null,3,5,Z,[Bm,Yr,Iy],null);case "db.cardinality/many":return new X(null,1,5,Z,[eB],null);case "db.type/ref":return new X(null,2,5,Z,[Cz,Iy],null);default:return F.j(Cm,a)&&!0===b?new X(null,1,5,Z,[Cm],null):F.j(Iy,a)&&!0===b?new X(null,1,5,Z,[Iy],null):F.j(Ao,a)?new X(null,2,5,Z,[Nm,Iy],null):mf}}
function YJ(a,b){return w.C(function(c,d){return jJ(function(e,f,h){return ei.ka(e,f,R,d,h)},c,Ao.B(d.B?d.B(a):d.call(null,a)))},W,Nm.B(b))}function ZJ(a){var b=Zf(function(c,d,e){return Zf(function(f,h,k){return w.C(function(m,n){return ei.P(m,n,iJ,d)},f,XJ(h,k))},c,e)},W,a);return R.C(b,Gs,YJ(a,b))}function $J(a,b,c,d){if(null!=c&&!Lf(d,c))throw bm(["Bad attribute specification for ",dl.F(P([qf([a,qf([b,c])])])),", expected one of ",t.B(d)].join(""),new q(null,4,[tp,Po,Wo,a,SA,b,Xw,c],null));}
function aK(a){for(var b=H(a),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null),k=Q(f,1,null),m=Cm.j(k,!1);$J(h,Cm,Cm.B(k),new mk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=m;return r(I)?jh.j(IA.B(k),Cz):I}()))throw bm(["Bad attribute specification for ",dl.F(P([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[tp,Po,Wo,h,SA,Cm],null));$J(h,Bm,Bm.B(k),new mk(null,new q(null,2,[$y,null,Yr,null],null),null));$J(h,
IA,IA.B(k),new mk(null,new q(null,1,[Cz,null],null),null));$J(h,eu,eu.B(k),new mk(null,new q(null,2,[eB,null,iy,null],null),null));if(Lf(k,Ao)){f=new q(null,3,[tp,Po,Wo,h,SA,Ao],null);if(F.j(eB,eu.B(k)))throw bm([dl.F(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Ao.B(k);if(!zf(n))throw bm([dl.F(P([h]))," :db/tupleAttrs must be a sequential collection, got: ",dl.F(P([n]))].join(""),f);if(wf(n))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t be empty"].join(""),f);n=H(n);
for(var p=null,u=0,v=0;;)if(v<u){var y=p.xa(null,v),E=R.C(f,Xw,y);if(Lf(C.j(a,y),Ao))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",dl.F(P([y]))].join(""),E);if(F.j(eB,eu.B(C.j(a,y))))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",dl.F(P([y]))].join(""),E);v+=1}else if(n=H(n)){if(Ef(n))u=Xd(n),n=Yd(n),p=u,u=M(u);else{p=J(n);u=R.C(f,Xw,p);if(Lf(C.j(a,p),Ao))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",
dl.F(P([p]))].join(""),u);if(F.j(eB,eu.B(C.j(a,p))))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",dl.F(P([p]))].join(""),u);n=K(n);p=null;u=0}v=0}else break}e+=1}else if(h=H(b)){b=h;if(Ef(b))c=Xd(b),b=Yd(b),h=c,d=M(c),c=h;else{c=J(b);h=Q(c,0,null);k=Q(c,1,null);var G=Cm.j(k,!1);$J(h,Cm,Cm.B(k),new mk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=G;return r(I)?jh.j(IA.B(k),Cz):I}()))throw bm(["Bad attribute specification for ",dl.F(P([h])),
": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[tp,Po,Wo,h,SA,Cm],null));$J(h,Bm,Bm.B(k),new mk(null,new q(null,2,[$y,null,Yr,null],null),null));$J(h,IA,IA.B(k),new mk(null,new q(null,1,[Cz,null],null),null));$J(h,eu,eu.B(k),new mk(null,new q(null,2,[eB,null,iy,null],null),null));if(Lf(k,Ao)){c=new q(null,3,[tp,Po,Wo,h,SA,Ao],null);if(F.j(eB,eu.B(k)))throw bm([dl.F(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Ao.B(k);if(!zf(d))throw bm([dl.F(P([h])),
" :db/tupleAttrs must be a sequential collection, got: ",dl.F(P([d]))].join(""),c);if(wf(d))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t be empty"].join(""),c);d=H(d);e=null;for(n=f=0;;)if(n<f){p=e.xa(null,n);u=R.C(c,Xw,p);if(Lf(C.j(a,p),Ao))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",dl.F(P([p]))].join(""),u);if(F.j(eB,eu.B(C.j(a,p))))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",dl.F(P([p]))].join(""),u);n+=1}else if(d=
H(d)){if(Ef(d))f=Xd(d),d=Yd(d),e=f,f=M(f);else{e=J(d);f=R.C(c,Xw,e);if(Lf(C.j(a,e),Ao))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",dl.F(P([e]))].join(""),f);if(F.j(eB,eu.B(C.j(a,e))))throw bm([dl.F(P([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",dl.F(P([e]))].join(""),f);d=K(d);e=null;f=0}n=0}else break}b=K(b);c=null;d=0}e=0}else break}
function UJ(a){switch(arguments.length){case 0:return TJ(null);case 1:return TJ(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function TJ(a){aK(a);return PJ(new q(null,8,[Vr,a,Et,ZJ(hk.F(P([new q(null,1,[LA,new q(null,1,[Bm,$y],null)],null),a]))),ev,eJ(AJ),Vx,eJ(BJ),Tm,eJ(CJ),Ox,0,sz,536870912,zA,zh(0)],null))}function bK(a){a=vw.B(J(bJ(a)));return r(a)?a:0}
function cK(a,b){var c=J(Lh(wJ,a));if(null!=c)throw bm(["init-db expects list of Datoms, got ",dl.F(P([zc(c)]))].join(""),new q(null,1,[tp,aA],null));aK(b);c=ZJ(hk.F(P([new q(null,1,[LA,new q(null,1,[Bm,$y],null)],null),b])));var d=Iy.B(c),e=lI(a)?a:kI(a);e.sort(EJ);var f=dJ(AJ,e);e.sort(FJ);e=dJ(BJ,e);a=Sf(Vh(function(m){return Lf(d,m.a)},a));a.sort(GJ);a=dJ(CJ,a);var h=bK(f),k=cg(Hh.B(function(m){return m.Ka(null)}),ng,536870912,f);return PJ(new q(null,8,[Vr,b,Et,c,ev,f,Vx,e,Tm,a,Ox,h,sz,k,zA,zh(0)],
null))}function RJ(a){var b=z(a.hash);return 0===b?Ah(a.hash,kJ(pe(a.sb),pe(a.mb))):b}function SJ(a,b){var c;if(c=(b instanceof OJ||!1)&&F.j(MJ(a),MJ(b)))a:for(a=KJ(a,ev,mf),c=KJ(b,ev,mf),b=H(a),a=H(c);;){if(null==b){c=null==a;break a}if(F.j(J(b),J(a)))b=K(b),a=K(a);else{c=!1;break a}}return c}
function QJ(a,b,c){A(b,"#datascript/DB {");A(b,":schema ");Wk(MJ(a),b,c);A(b,", :datoms ");Ok(b,function(d,e,f){return Ok(e,Wk,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,lJ(d)],null))},"["," ","]",c,KJ(a,ev,mf));return A(b,"}")}
function dK(a,b,c,d,e,f,h){if(r(c)){var k=new nf(null,Jn,new nf(null,Gv,new nf(null,b,new nf(null,c,new nf(null,d,new nf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);eK.j?eK.j(c,k):eK.call(null,c,k)}return cJ.P(function(){var m=fK.j?fK.j(a,b):fK.call(null,a,b);return r(m)?m:f}(),c,r(null!=d?gK.j?gK.j(a,c):gK.call(null,a,c):!1)?hK.j?hK.j(a,d):hK.call(null,a,d):d,function(){var m=fK.j?fK.j(a,e):fK.call(null,a,e);return r(m)?m:h}())}
function WJ(a,b,c,d,e){var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);b=b instanceof D?b.na:null;switch(b){case "eavt":return dK(a,f,h,k,c,d,e);case "aevt":return dK(a,h,f,k,c,d,e);case "avet":return dK(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.B(b)].join(""));}}function iK(a,b,c,d,e,f,h,k){this.tc=a;this.sc=b;this.yc=c;this.wc=d;this.zc=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=iK.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "db-before":return this.tc;case "db-after":return this.sc;case "tx-data":return this.yc;case "tempids":return this.wc;case "tx-meta":return this.zc;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[bo,this.tc],null),new X(null,2,5,Z,[wu,this.sc],null),new X(null,2,5,Z,[Wr,this.yc],null),new X(null,2,5,Z,[dC,this.wc],null),new X(null,2,5,Z,[Ho,this.zc],null)],null),this.D))};g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[bo,wu,Wr,dC,Ho],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2022644885^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.tc,b.tc)&&F.j(this.sc,b.sc)&&F.j(this.yc,b.yc)&&F.j(this.wc,b.wc)&&F.j(this.zc,b.zc)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[dC,null,wu,null,bo,null,Wr,null,Ho,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new iK(this.tc,this.sc,this.yc,this.wc,this.zc,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(bo,b):T.call(null,bo,b))?new iK(c,this.sc,this.yc,this.wc,this.zc,this.G,this.D,null):r(T.j?T.j(wu,b):T.call(null,wu,b))?new iK(this.tc,c,this.yc,this.wc,this.zc,this.G,this.D,null):r(T.j?T.j(Wr,b):T.call(null,Wr,b))?new iK(this.tc,this.sc,c,this.wc,this.zc,this.G,this.D,null):r(T.j?T.j(dC,b):T.call(null,dC,b))?new iK(this.tc,this.sc,this.yc,c,this.zc,this.G,this.D,null):r(T.j?T.j(Ho,b):T.call(null,Ho,b))?new iK(this.tc,this.sc,this.yc,this.wc,c,this.G,this.D,
null):new iK(this.tc,this.sc,this.yc,this.wc,this.zc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(bo,this.tc),new Y(wu,this.sc),new Y(Wr,this.yc),new Y(dC,this.wc),new Y(Ho,this.zc)],null),this.D))};g.fa=function(a,b){return new iK(this.tc,this.sc,this.yc,this.wc,this.zc,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function jK(a,b,c){return Lf(NJ(a,c),b)}function gK(a,b){return jK(a,b,Cz)}
function VJ(a,b){return jK(a,b,Iy)}
function kK(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw bm(["Highest supported entity id is ",dl.F(P([2147483647])),", got ",dl.F(P([b]))].join(""),new q(null,2,[tp,Ut,Xw,b],null));return b}if(zf(b)){var c=b,d=Q(c,0,null);c=Q(c,1,null);if(jh.j(M(b),2))throw bm(["Lookup ref should contain 2 elements: ",dl.F(P([b]))].join(""),new q(null,2,[tp,tz,Ut,b],null));if(jK(a,d,Bm))return null==c?null:vw.B(J(KJ(a,Tm,b)));throw bm(["Lookup ref attribute should be marked as :db/unique: ",dl.F(P([b]))].join(""),
new q(null,2,[tp,Om,Ut,b],null));}if(uc(b))b=P(b);else{if(b instanceof D)return vw.B(J(KJ(a,Tm,new X(null,2,5,Z,[LA,b],null))));throw bm(["Expected number or lookup ref for entity id, got ",dl.F(P([b]))].join(""),new q(null,2,[tp,sr,Ut,b],null));}}}function hK(a,b){a=kK(a,b);if(r(a))return a;throw bm(["Nothing found for entity id ",dl.F(P([b]))].join(""),new q(null,2,[tp,uq,Ut,b],null));}function fK(a,b){return r(b)?hK(a,b):null}
function eK(a,b){if(a instanceof D||"string"===typeof a)return null;throw bm(["Bad entity attribute ",dl.F(P([a]))," at ",dl.F(P([b])),", expected keyword or string"].join(""),new q(null,3,[tp,bn,Wo,a,Rz,b],null));}function lK(a,b){if(null==a)throw bm(["Cannot store nil as a value at ",dl.F(P([b]))].join(""),new q(null,3,[tp,bn,Xw,a,Rz,b],null));return null}function mK(a){return ai(a,new X(null,2,5,Z,[bo,sz],null))+1}
function nK(a){return F.j(a,tm)||F.j(a,":db/current-tx")||F.j(a,"datomic.tx")||F.j(a,"datascript.tx")}function oK(a){return"number"===typeof a&&0>a||"string"===typeof a}function pK(a,b){return b>Ox.B(a)&&536870912>b?R.C(a,Ox,b):a}function qK(a,b,c){var d=nK(b)?ei.ka(a,dC,R,b,c):a;d=oK(b)?ei.ka(d,dC,R,b,c):d;if(b=!oK(b))a=wu.B(a),b=c>Ox.B(a)&&536870912>c;a=b?ei.ka(d,dC,R,c,c):d;return ei.P(a,wu,pK,c)}
function rK(a,b){var c=b.ac(null);c=r(c)?jK(a,b.a,Bm):c;if(r(c)&&(c=kh(KJ(a,Tm,new X(null,2,5,Z,[b.a,b.v],null))),null!=c))throw bm(["Cannot add ",dl.F(P([b]))," because of unique constraint: ",dl.F(P([c]))].join(""),new q(null,3,[tp,ez,Wo,b.a,Dv,b],null));c=VJ(a,b.a);if(r(b.ac(null)))return a=ei.ka(a,ev,LI,b,EJ),a=ei.ka(a,Vx,LI,b,FJ),c=c?ei.ka(a,Tm,LI,b,GJ):a,b=pK(c,b.e),R.C(b,zA,zh(0));b=JJ(a,new X(null,3,5,Z,[b.e,b.a,b.v],null));if(null==b)return a;a=ei.ka(a,ev,KI,b,EJ);a=ei.ka(a,Vx,KI,b,FJ);b=
c?ei.ka(a,Tm,KI,b,GJ):a;return R.C(b,zA,zh(0))}function sK(a,b,c,d,e){return Zf(function(f,h,k){var m=C.j(f,h);r(m)||(m=Gw.B(J(KJ(c,ev,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:Wf(Oh(M(Ao.B(C.j(MJ(c),h))),null)));k=R.C(m,k,e);return R.C(f,h,k)},a,b)}function tK(a,b){var c=wu.B(a),d=zw.B(b);a=ei.P(R.C(a,wu,rK(c,b)),Wr,lf,b);if(jK(c,d,Gs)){var e=vw.B(b);b=r(mJ(b))?Gw.B(b):null;var f=C.j(bz.B(a),e);f=r(f)?f:W;d=C.j(NJ(c,Gs),d);c=sK(f,d,c,e,b);return ei.ka(a,bz,R,e,c)}return a}
function uK(a){if(a instanceof D)return F.j("_",Ye(Gg(a),0));if("string"===typeof a)return If(Ik(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw bm(["Bad attribute type: ",dl.F(P([a])),", expected keyword or string"].join(""),new q(null,2,[tp,bn,Wo,a],null));}
function vK(a){if(a instanceof D)return uK(a)?Fg.j(Dg(a),wg.j(Gg(a),1)):Fg.j(Dg(a),["_",Gg(a)].join(""));if("string"===typeof a){var b=Ik(/(?:([^\/]+)\/)?([^\/]+)/,a);Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return F.j("_",Ye(b,0))?r(a)?[t.B(a),"/",wg.j(b,1)].join(""):wg.j(b,1):r(a)?[t.B(a),"/_",t.B(b)].join(""):["_",t.B(b)].join("")}throw bm(["Bad attribute type: ",dl.F(P([a])),", expected keyword or string"].join(""),new q(null,2,[tp,bn,Wo,a],null));}
function wK(a,b){function c(f,h){return w.C(function(k,m){var n=d(f,m);return null==n?ei.P(k,0,lf,m):ei.ka(k,1,R,m,n)},new X(null,2,5,Z,[mf,W],null),h)}function d(f,h){return vw.B(J(KJ(a,Tm,new X(null,2,5,Z,[f,h],null))))}var e=kh(NJ(a,$y));return null==e?new X(null,2,5,Z,[b,null],null):Zf(function(f,h,k){var m=Q(f,0,null);f=Q(f,1,null);if(Lf(e,h)){if(jK(a,h,eB)&&(lI(k)||xf(k)&&!Af(k))){var n=c(h,k);k=Q(n,0,null);n=Q(n,1,null);return new X(null,2,5,Z,[wf(k)?m:R.C(m,h,k),wf(n)?f:R.C(f,h,n)],null)}n=
d(h,k);return null==n?new X(null,2,5,Z,[R.C(m,h,k),f],null):new X(null,2,5,Z,[m,R.C(f,h,qf([k,n]))],null)}return new X(null,2,5,Z,[R.C(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function xK(a,b){var c=Zf(function(h,k,m){return Zf(function(n,p,u){return R.C(n,u,new X(null,2,5,Z,[k,p],null))},h,m)},W,b);if(2<=M(c)){b=J(c);a=Q(b,0,null);var d=Q(b,1,null);b=Q(d,0,null);d=Q(d,1,null);var e=hf(c);c=Q(e,0,null);var f=Q(e,1,null);e=Q(f,0,null);f=Q(f,1,null);throw bm(["Conflicting upserts: ",dl.F(P([new X(null,2,5,Z,[b,d],null)]))," resolves to ",dl.F(P([a])),", but ",dl.F(P([new X(null,2,5,Z,[e,f],null)]))," resolves to ",dl.F(P([c]))].join(""),new q(null,3,[tp,Ss,EB,new X(null,
3,5,Z,[a,b,d],null),Cv,new X(null,3,5,Z,[c,e,f],null)],null));}d=J(c);b=Q(d,0,null);c=Q(d,1,null);d=Q(c,0,null);c=Q(c,1,null);a=Uf.B(a);if(null!=b&&null!=a&&!oK(a)&&jh.j(b,a))throw bm(["Conflicting upsert: ",dl.F(P([new X(null,2,5,Z,[d,c],null)]))," resolves to ",dl.F(P([b])),", but entity already has :db/id ",dl.F(P([a]))].join(""),new q(null,3,[tp,Ss,EB,new X(null,3,5,Z,[b,d,c],null),Cv,new q(null,1,[Uf,a],null)],null));return b}
function yK(a,b,c){return uK(b)||jK(a,b,eB)?lI(c)||xf(c)&&!Af(c)?F.j(M(c),2)&&jK(a,J(c),$y)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function zK(a,b){var c=Uf.B(b);return function f(e){return new Hg(null,function(){for(var h=e;;){var k=H(h);if(k){var m=k,n=J(m),p=Q(n,0,null),u=Q(n,1,null);if(jh.j(p,Uf)){var v=eK(p,qf([Uf,c,p,u])),y=uK(p),E=y?vK(p):p;if(y&&!gK(a,E))throw bm(["Bad attribute ",dl.F(P([p])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new q(null,3,[tp,bn,Wo,p,Rz,qf([Uf,c,p,u])],null));if(k=H(function(G,I,N,O,U,ea,fa,qa,ya,Sa,ka){return function wa(Ca){return new Hg(null,function(Ba,
Xa,$b,yb,fc,Xb,Td,eg,Cf,Wg,Zc){return function(){for(;;){var Ed=H(Ca);if(Ed){if(Ef(Ed)){var ve=Xd(Ed),fg=M(ve),Fd=Lg(fg);a:for(var we=0;;)if(we<fg){var Gd=x(ve,we);Gd=gK(a,yb)&&Af(Gd)?R.C(Gd,vK(Td),Zc):$b?new X(null,4,5,Z,[VB,Gd,yb,Zc],null):new X(null,4,5,Z,[VB,Zc,yb,Gd],null);Fd.add(Gd);we+=1}else{ve=!0;break a}return ve?Ng(Pg(Fd),wa(Yd(Ed))):Ng(Pg(Fd),null)}Fd=J(Ed);return df(gK(a,yb)&&Af(Fd)?R.C(Fd,vK(Td),Zc):$b?new X(null,4,5,Z,[VB,Fd,yb,Zc],null):new X(null,4,5,Z,[VB,Zc,yb,Fd],null),wa(Be(Ed)))}return null}}}(G,
I,N,O,U,ea,fa,qa,ya,Sa,ka),null,null)}}(h,v,y,E,null,n,p,u,m,k,c)(yK(a,p,u))))return V.j(k,f(Be(h)))}h=Be(h)}else return null}},null,null)}(b)}function AK(a,b){Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null);eK(d,b);lK(e,b);b=r(f)?f:mK(a);f=wu.B(a);c=hK(f,c);e=gK(f,d)?hK(f,e):e;var h=cJ.P(c,d,e,b);f=jK(f,d,eB)?JJ(f,new X(null,3,5,Z,[c,d,e],null)):JJ(f,new X(null,2,5,Z,[c,d],null));return null==f?tK(a,h):F.j(f.v,e)?ei.P(a,kt,hJ,h):tK(tK(a,cJ.ka(c,d,f.v,b,!1)),h)}
function BK(a,b){var c=mK(a);return tK(a,cJ.ka(b.e,b.a,b.v,c,!1))}function CK(a,b){return Xh.C(ok,uh.j(Uh(function(c){return jK(a,c.a,Cm)}),Hh.B(function(c){return new X(null,2,5,Z,[Qp,c.v],null)})),b)}function DK(a,b,c,d,e){if(Lf(dC.B(a),d))throw bm(["Conflicting upsert: ",dl.F(P([d]))," resolves both to ",dl.F(P([e]))," and ",dl.F(P([ai(a,new X(null,2,5,Z,[dC,d],null))]))].join(""),new q(null,1,[tp,Ss],null));b=R.C(dC.B(b),d,e);a=R.C(a,dC,b);return EK.j?EK.j(a,c):EK.call(null,a,c)}
var FK=new mk(null,new q(null,8,[Tu,null,kv,null,Qp,null,vs,null,Gr,null,Ys,null,Cn,null,VB,null],null),null);function GK(a){var b=wu.B(a);MJ(b);NJ(b,Gs);return Zf(function(c,d,e){return Zf(function(f,h,k){k=ph(tc,k)?null:k;var m=Gw.B(J(KJ(b,ev,new X(null,2,5,Z,[d,h],null))));return F.j(k,m)?f:null==k?lf.j(f,tf(new X(null,4,5,Z,[Gr,d,h,m],null),new q(null,1,[Ls,!0],null))):lf.j(f,tf(new X(null,4,5,Z,[VB,d,h,k],null),new q(null,1,[Ls,!0],null)))},c,e)},mf,bz.B(a))}
function HK(a){var b=Pm.B(a);b=w.C(function(c,d){return r(mJ(d))?S.j(c,vw.B(d)):c},b,V.j(Wr.B(a),kt.B(a)));if(wf(b))return S.F(a,Pm,P([kt]));throw bm(["Tempids used only as value in transaction: ",dl.F(P([Rf(Of,$i(b))]))].join(""),new q(null,2,[tp,bn,dC,b],null));}
function EK(a,b){if(null!=b&&!zf(b))throw bm(["Bad transaction data ",dl.F(P([b])),", expected sequential collection"].join(""),new q(null,2,[tp,bn,Wr,b],null));for(var c=!wf(NJ(wu.B(a),Nm)),d=c?Rh.j(b,Nh(Dm)):b,e=a,f=d;;){if(wf(f))return ei.ka(ei.ka(HK(e),dC,R,tm,mK(e)),wu,ei,sz,Ke);var h=f,k=H(h),m=J(k),n=K(k),p=m,u=n;if(null==p)f=u;else if(F.j(Dm,p))if(Lf(e,bz)){var v=S.j(e,bz);u=V.j(GK(e),u);e=v;f=u}else f=u;else{var y=wu.B(e),E=dC.B(e);if(Af(p)){var G=Uf.B(p);if(nK(G))v=mK(e),e=qK(e,G,v),f=u=
df(R.C(p,Uf,v),u);else if(zf(G))v=hK(y,G),f=u=df(R.C(p,Uf,v),u);else{var I=wK(y,p);v=Q(I,0,null);I=Q(I,1,null);var N=xK(v,I);if(null!=N){if(oK(G)&&Lf(E,G)&&jh.j(N,C.j(E,G)))return DK(a,e,b,G,N);e=qK(e,G,N);f=u=V.j(zK(y,R.C(v,Uf,N)),u)}else if("number"===typeof G||null==G||"string"===typeof G)v=null==G?Ox.B(y)+1:oK(G)?function(){var Xb=C.j(E,G);return r(Xb)?Xb:Ox.B(y)+1}():G,p=R.C(p,Uf,v),e=qK(e,G,v),f=u=V.j(zK(y,p),u);else throw bm(["Expected number, string or lookup ref for :db/id, got ",dl.F(P([G]))].join(""),
new q(null,2,[tp,sr,yu,p],null));}}else if(zf(p)){var O=p;I=Q(O,0,null);var U=Q(O,1,null);v=Q(O,2,null);var ea=Q(O,3,null);if(F.j(I,Tu)){v=H(p);p=J(v);v=K(v);var fa=p;p=J(v);v=K(v);f=u=V.j(eh(p,y,v),u)}else if(I instanceof D&&wc(FK.B?FK.B(I):FK.call(null,I))){fa=kK(y,I);if(null==fa)throw bm(["Can’t find entity for transaction fn ",dl.F(P([I]))].join(""),new q(null,3,[tp,bn,is,Tu,Wr,p],null));U=Gw.B(JJ(y,new X(null,2,5,Z,[fa,pr],null)));v=K(p);if(rf(U))f=u=V.j(eh(U,y,v),u);else throw bm(["Entity ",
dl.F(P([I]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[tp,bn,is,Tu,Wr,p],null));}else{if(oK(U)&&jh.j(I,VB))throw bm(["Can't use tempid in '",dl.F(P([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[tp,bn,so,p],null));if(F.j(I,Cn)||F.j(I,kv)){var qa=p;fa=Q(qa,0,null);var ya=Q(qa,1,null),Sa=Q(qa,2,null),ka=Q(qa,3,null),oa=Q(qa,4,null),Ca=hK(y,ya),wa=eK(Sa,p),Ba=gK(y,Sa)?hK(y,ka):ka,Xa=gK(y,Sa)?hK(y,oa):oa,$b=lK(Xa,p),yb=Wf(IJ(y,new X(null,2,5,Z,
[Ca,Sa],null)));if(jK(y,Sa,eB))if(r(qh(function(Xb,Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,we){return function(Gd){return F.j(Gd.v,we)}}(e,f,qa,fa,ya,Sa,ka,oa,Ca,wa,Ba,Xa,$b,yb,O,I,U,v,ea,y,E,h,k,m,n,p,u,a,c,d),yb)))e=AK(e,new X(null,4,5,Z,[VB,Ca,Sa,Xa],null)),f=u;else throw bm([":db.fn/cas failed on datom [",dl.F(P([Ca]))," ",dl.F(P([Sa]))," ",dl.F(P([Hh.j(Gw,yb)])),"], expected ",dl.F(P([Ba]))].join(""),new q(null,4,[tp,xn,iA,yb,fm,Ba,Er,Xa],null));else if(I=Gw.B(J(yb)),F.j(I,Ba))e=AK(e,new X(null,4,5,Z,[VB,
Ca,Sa,Xa],null)),f=u;else throw bm([":db.fn/cas failed on datom [",dl.F(P([Ca]))," ",dl.F(P([Sa]))," ",dl.F(P([I])),"], expected ",dl.F(P([Ba]))].join(""),new q(null,4,[tp,xn,iA,J(yb),fm,Ba,Er,Xa],null));}else if(nK(U))p=qK(e,U,mK(e)),u=df(new X(null,4,5,Z,[I,mK(e),v,ea],null),u),e=p,f=u;else if(gK(y,v)&&nK(ea))p=qK(e,ea,mK(e)),u=df(new X(null,4,5,Z,[I,U,v,mK(e)],null),u),e=p,f=u;else if(gK(y,v)&&oK(ea))fa=C.j(E,ea),null==fa?(p=Ox.B(y)+1,e=ei.ka(qK(e,ea,p),Pm,R,p,ea),f=u=f):(p=fa,e=ei.ka(e,Pm,R,p,
ea),f=u=df(new X(null,4,5,Z,[I,U,v,p],null),u));else if(oK(U)){N=jK(y,v,$y)?vw.B(J(KJ(y,Tm,new X(null,2,5,Z,[v,ea],null)))):null;var fc=C.j(E,U);if(r(function(){var Xb=N;return r(Xb)?(Xb=fc,r(Xb)?jh.j(N,fc):Xb):Xb}()))return DK(a,e,b,U,N);p=function(){var Xb=N;if(r(Xb))return Xb;Xb=fc;return r(Xb)?Xb:Ox.B(y)+1}();e=qK(e,U,p);f=u=df(new X(null,4,5,Z,[I,p,v,ea],null),u)}else{if(wc(Ls.B(uf(p)))&&jK(y,v,Nm))throw bm(["Can’t modify tuple attrs directly: ",dl.F(P([p]))].join(""),new q(null,2,[tp,bn,Wr,
p],null));if(F.j(I,VB))e=AK(e,p),f=u;else if(F.j(I,Gr)&&null!=ea)fa=kK(y,U),null==fa?f=u:(ya=fa,I=gK(y,v)?hK(y,ea):ea,eK(v,p),lK(I,p),v=JJ(y,new X(null,3,5,Z,[ya,v,I],null)),null==v?f=u:(e=BK(e,v),f=u));else if(F.j(I,Ys)||F.j(I,Gr))fa=kK(y,U),null==fa?f=u:(ya=fa,fa=eK(v,p),yb=Wf(IJ(y,new X(null,2,5,Z,[ya,v],null))),e=w.C(BK,e,yb),f=u=V.j(CK(y,yb),u));else if(F.j(I,Qp)||F.j(I,vs))fa=kK(y,U),null==fa?f=u:(ya=fa,yb=Wf(IJ(y,new X(null,1,5,Z,[ya],null))),v=Wf(Th(function(Xb,Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,
we){return function(Gd){return IJ(we,new X(null,3,5,Z,[null,Gd,Cf],null))}}(e,f,yb,ya,fa,O,I,U,v,ea,y,E,h,k,m,n,p,u,a,c,d),P([NJ(y,Cz)]))),e=w.C(BK,e,V.j(yb,v)),f=u=V.j(CK(y,yb),u));else throw bm(["Unknown operation at ",dl.F(P([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new q(null,3,[tp,bn,is,I,Wr,p],null));}}}else if(wJ(p))I=p,U=Q(I,0,null),v=Q(I,1,null),ea=Q(I,2,null),p=Q(I,3,null),I=Q(I,4,null),r(I)?(e=AK(e,new X(null,5,5,Z,[VB,U,v,ea,p],null)),f=u):f=u=df(new X(null,4,5,Z,[Gr,U,v,ea],null),u);else throw bm(["Bad entity type at ",dl.F(P([p])),", expected map or vector"].join(""),new q(null,2,[tp,bn,Wr,p],null));}}};function IK(a,b,c,d,e){this.ld=a;this.pb=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=IK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "wildcard?":return this.ld;case "attrs":return this.pb;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[Ro,this.ld],null),new X(null,2,5,Z,[Jt,this.pb],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[Ro,Jt],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=90253489^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ld,b.ld)&&F.j(this.pb,b.pb)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Jt,null,Ro,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new IK(this.ld,this.pb,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ro,b):T.call(null,Ro,b))?new IK(c,this.pb,this.G,this.D,null):r(T.j?T.j(Jt,b):T.call(null,Jt,b))?new IK(this.ld,c,this.G,this.D,null):new IK(this.ld,this.pb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(Ro,this.ld),new Y(Jt,this.pb)],null),this.D))};g.fa=function(a,b){return new IK(this.ld,this.pb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function JK(a){if(null!=a&&null!=a.bd)a=a.bd(a);else{var b=JK[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=JK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IPullSpecComponent.-as-spec",a);}return a}function KK(a,b,c,d){this.attr=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=KK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[ay,this.attr],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[ay],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-838771693^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[this.attr,new q(null,1,[ay,this.attr],null)],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[ay,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new KK(this.attr,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ay,b):T.call(null,ay,b))?new KK(c,this.G,this.D,null):new KK(this.attr,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(ay,this.attr)],null),this.D))};g.fa=function(a,b){return new KK(this.attr,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function LK(a,b,c,d,e){this.attr=a;this.Sc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=LK.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "rattr":return this.Sc;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ay,this.attr],null),new X(null,2,5,Z,[Ky,this.Sc],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[ay,Ky],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=158820207^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.Sc,b.Sc)&&F.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[this.Sc,new q(null,1,[ay,this.attr],null)],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Ky,null,ay,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new LK(this.attr,this.Sc,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ay,b):T.call(null,ay,b))?new LK(c,this.Sc,this.G,this.D,null):r(T.j?T.j(Ky,b):T.call(null,Ky,b))?new LK(this.attr,c,this.G,this.D,null):new LK(this.attr,this.Sc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(ay,this.attr),new Y(Ky,this.Sc)],null),this.D))};g.fa=function(a,b){return new LK(this.attr,this.Sc,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function MK(a,b,c,d,e){this.attr=a;this.limit=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=MK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "limit":return this.limit;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ay,this.attr],null),new X(null,2,5,Z,[Jm,this.limit],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[ay,Jm],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=2109320956^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.limit,b.limit)&&F.j(this.D,b.D)};g.bd=function(){return ci(JK(this.attr),new X(null,2,5,Z,[1,Jm],null),this.limit)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Jm,null,ay,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new MK(this.attr,this.limit,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ay,b):T.call(null,ay,b))?new MK(c,this.limit,this.G,this.D,null):r(T.j?T.j(Jm,b):T.call(null,Jm,b))?new MK(this.attr,c,this.G,this.D,null):new MK(this.attr,this.limit,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(ay,this.attr),new Y(Jm,this.limit)],null),this.D))};g.fa=function(a,b){return new MK(this.attr,this.limit,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function NK(a,b,c,d,e){this.attr=a;this.value=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=NK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "value":return this.value;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ay,this.attr],null),new X(null,2,5,Z,[Xw,this.value],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[ay,Xw],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1499761615^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.value,b.value)&&F.j(this.D,b.D)};g.bd=function(){return ci(JK(this.attr),new X(null,2,5,Z,[1,Xl],null),this.value)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Xw,null,ay,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new NK(this.attr,this.value,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ay,b):T.call(null,ay,b))?new NK(c,this.value,this.G,this.D,null):r(T.j?T.j(Xw,b):T.call(null,Xw,b))?new NK(this.attr,c,this.G,this.D,null):new NK(this.attr,this.value,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(ay,this.attr),new Y(Xw,this.value)],null),this.D))};g.fa=function(a,b){return new NK(this.attr,this.value,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function OK(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=OK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,V.j(mf,this.D))};
g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-163917799^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new OK(this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new OK(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};
g.fa=function(a,b){return new OK(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function PK(a,b,c,d){this.limit=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=PK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "limit":return this.limit;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Jm,this.limit],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Jm],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1552688154^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.limit,b.limit)&&F.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[Bs,this.limit],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Jm,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new PK(this.limit,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Jm,b):T.call(null,Jm,b))?new PK(c,this.G,this.D,null):new PK(this.limit,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Jm,this.limit)],null),this.D))};g.fa=function(a,b){return new PK(this.limit,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function QK(a,b,c,d,e){this.attr=a;this.Rc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=QK.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "porrl":return this.Rc;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ay,this.attr],null),new X(null,2,5,Z,[YB,this.Rc],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[ay,YB],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=152088668^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.Rc,b.Rc)&&F.j(this.D,b.D)};g.bd=function(){return ei.P(JK(this.attr),1,lf,JK(this.Rc))};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[YB,null,ay,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new QK(this.attr,this.Rc,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ay,b):T.call(null,ay,b))?new QK(c,this.Rc,this.G,this.D,null):r(T.j?T.j(YB,b):T.call(null,YB,b))?new QK(this.attr,c,this.G,this.D,null):new QK(this.attr,this.Rc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(ay,this.attr),new Y(YB,this.Rc)],null),this.D))};g.fa=function(a,b){return new QK(this.attr,this.Rc,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function RK(a,b,c,d,e){this.attr=a;this.Zb=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=RK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "opts":return this.Zb;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ay,this.attr],null),new X(null,2,5,Z,[Tn,this.Zb],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[ay,Tn],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-429987476^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.Zb,b.Zb)&&F.j(this.D,b.D)};g.bd=function(){return ei.P(JK(this.attr),1,hk,this.Zb)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Tn,null,ay,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new RK(this.attr,this.Zb,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ay,b):T.call(null,ay,b))?new RK(c,this.Zb,this.G,this.D,null):r(T.j?T.j(Tn,b):T.call(null,Tn,b))?new RK(this.attr,c,this.G,this.D,null):new RK(this.attr,this.Zb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(ay,this.attr),new Y(Tn,this.Zb)],null),this.D))};g.fa=function(a,b){return new RK(this.attr,this.Zb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function SK(a,b){return b instanceof OK?R.C(a,Ro,!0):ei.P(a,Jt,Vg,JK(b))}function TK(a,b,c,d){this.hd=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=TK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "specs":return this.hd;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Ru,this.hd],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Ru],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-795554044^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.hd,b.hd)&&F.j(this.D,b.D)};g.bd=function(){var a=new IK(!1,Od(W),null,null,null);a=w.C(SK,a,this.hd);return new X(null,2,5,Z,[Gq,ei.C(a,Jt,Ug)],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Ru,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new TK(this.hd,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ru,b):T.call(null,Ru,b))?new TK(c,this.G,this.D,null):new TK(this.hd,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Ru,this.hd)],null),this.D))};g.fa=function(a,b){return new TK(this.hd,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};var UK=new mk(null,new q(null,3,[ss,null,"*",null,zx,null],null),null);
function VK(a){return a instanceof D||"string"===typeof a?uK(a)?new LK(vK(a),a,null,null,null):new KK(a,null,null,null):null}var WK=new mk(null,new q(null,2,["...",null,$u,null],null),null);function XK(a){return zf(a)&&F.j(3,M(a))}var YK=new mk(null,new q(null,3,[Op,null,Jm,null,"limit",null],null),null);
function ZK(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);if(r(YK.B?YK.B(b):YK.call(null,b))){b=null==d||"number"===typeof d&&0<d?VK(c):!1;if(r(b))return new MK(b,d,null,null,null);throw bm('Expected ["limit" attr-name (positive-number | nil)]',new q(null,2,[tp,By,wt,a],null));}return null}var $K=new mk(null,new q(null,3,[Xo,null,Xl,null,"default",null],null),null);
function aL(a){if(zf(a)){a=H(a);var b=J(a);a=K(a);b=VK(b);if(null==b)a=null;else{var c;if(c=rh(M(a)))c=ph(new mk(null,new q(null,3,[Jm,null,Xl,null,vz,null],null),null),Hh.j(J,$h(2,2,a)));a=c?new RK(b,dh(ek,a),null,null,null):null}return a}return null}
function bL(a){var b=Q(a,0,null),c=Q(a,1,null);a=function(){var e=VK(b);if(r(e))return e;e=aL(b);return r(e)?e:XK(b)?ZK(b):null}();if(r(a)){var d=function(){var e=r(WK.B?WK.B(c):WK.call(null,c))?new PK(null,null,null,null):"number"===typeof c&&0<c?new PK(c,null,null,null):null;return r(e)?e:cL.B?cL.B(c):cL.call(null,c)}();if(r(d))return new QK(a,d,null,null,null);throw bm("Expected (pattern | recursion-limit)",new q(null,2,[tp,By,wt,new X(null,2,5,Z,[b,c],null)],null));}throw bm("Expected (attr-name | limit-expr)",
new q(null,2,[tp,By,wt,new X(null,2,5,Z,[b,c],null)],null));}
function dL(a){var b=VK(a);if(r(b))return b;b=r(UK.B?UK.B(a):UK.call(null,a))?new OK(null,null,null):null;if(r(b))return b;b=Af(a)?bL(J(a)):null;if(r(b))return b;b=aL(a);if(r(b))return b;if(XK(a)){if(b=ZK(a),!r(b))b:{var c=Q(a,0,null),d=Q(a,1,null);b=Q(a,2,null);if(r($K.B?$K.B(c):$K.call(null,c))){c=VK(d);if(r(c)){b=new NK(c,b,null,null,null);break b}throw bm('Expected ["default" attr-name any-value]',new q(null,2,[tp,By,wt,a],null));}b=null}}else b=null;if(r(b))return b;throw bm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new q(null,2,[tp,By,wt,a],null));}function eL(a){return Af(a)?vy:r(UK.B?UK.B(a):UK.call(null,a))?Vt:lv}function fL(a){return Xh.C(mf,Hh.B(function(b){return lf.j(W,b)}),a)}function gL(a){a=Il(eL,a);var b=r(kh(C.j(a,Vt)))?new X(null,1,5,Z,[zx],null):mf;return Xh.C(Xh.j(b,C.j(a,lv)),uh.j(Hh.B(fL),vl),C.j(a,vy))}function cL(a){return zf(a)?new TK(Xh.C(mf,Hh.B(dL),gL(a)),null,null,null):null}
function hL(a){var b=null==a?null:cL(a);b=null==b?null:hf(JK(b));if(r(b))return b;throw bm("Cannot parse pull pattern, expected: [attr-spec+]",new q(null,2,[tp,By,wt,a],null));};function iL(a,b){return w.C(Vg,a,b)}function jL(a,b,c){return Kj([Xp,go,$n,Bs,Ru,Ro,Us,mA,KB],[c,b,mA,new q(null,2,[Wp,W,Lr,ok],null),H(Jt.B(a)),Ro.B(a),Od(W),a,Od(mf)])}function kL(a,b,c,d){return R.C(jL(a,b,c),ay,d)}function lL(a,b,c){var d=mA.B(a);return R.F(a,go,b,P([Ru,H(Jt.B(d)),Ro,Ro.B(d),Us,Od(W),KB,function(){var e=KB.B(a);return H(c)?Vg.j(e,c):e}()]))}
function mL(a,b,c){var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,Wp);d=C.j(d,Lr);return R.F(a,Wp,ei.C(e,b,wh(Ke,0)),P([Lr,lf.j(d,c)]))}function nL(a,b,c){return Lf(bi(a,new X(null,2,5,Z,[Bs,Lr],null),ok),c)?lf.j(b,ei.P(a,KB,Vg,new q(null,1,[Uf,c],null))):null}function oL(a,b){b=Us.B(b);b=null==b?null:Qd(b);return null==b?null:C.j(b,a)}function pL(a,b){var c=ay.B(a);c=mL(Bs.B(a),c,b);return R.C(kL(mA.B(a),new X(null,1,5,Z,[b],null),!1,Kt),Bs,c)}
function qL(a){a=H(a);var b=J(a);a=K(a);var c=H(go.B(b));if(c){b=lL(b,Be(c),oL(Kt,b));c=J(c);var d=nL(b,a,c);return r(d)?d:lf.F(a,b,P([pL(b,c)]))}c=oL(Kt,b);d=KB.B(b);c=H(c)?Vg.j(d,c):d;return lf.j(a,R.F(b,$n,gx,P([KB,c])))}function rL(a,b,c,d,e){var f=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d,h=C.j(f,Bs);f=C.j(f,mA);var k=C.C(C.j(h,Wp),a,0);return F.j(Bs.B(C.j(Jt.B(f),a)),k)?lf.j(e,d):qL(lf.F(e,d,P([new q(null,7,[$n,Bs,mA,f,ay,a,Xp,b,go,c,Bs,h,KB,Od(mf)],null)])))}var sL=new IK(!0,W,null,null,null);
function tL(a,b,c,d,e){a=mL(Bs.B(a),c,b);return R.C(kL(sL,e,d,c),Bs,a)}
function uL(a,b,c,d,e,f,h,k){var m=H(k);k=J(m);m=K(m);var n=C.C(h,Jm,1E3),p=function(){var I=vz.B(h);return r(I)?I:b}(),u=kh(r(n)?Xh.C(mf,Ih.B(n),f):f);if(r(u)){var v=gK(a,c);f=v&&jK(a,c,Cm);a=r(e)?jK(a,c,eB):!f;var y=r(e)?function(I){return I.v}:function(I){return I.e};if(Lf(h,Gq))return lf.F(m,k,P([kL(Gq.B(h),Yh.j(y,u),a,p)]));if(Lf(h,Bs))return rL(p,a,Yh.j(y,u),k,m);if(r(f?e:!1))return lf.F(m,k,P([tL(k,d,p,a,Yh.j(y,u))]));var E=function(){return v?uh.j(function(I){return Kj([Uf],[I])},y):y}(),
G=!a;return lf.j(m,ei.ka(k,Us,Xg,p,function(){var I=Xh.C(mf,Hh.B(E),u);return G?J(I):I}()))}return lf.j(m,Lf(h,Xl)?ei.ka(k,Us,Xg,p,Xl.B(h)):k)}var vL=Uh(function(a){var b=Q(a,0,null);a=Q(a,1,null);return jh.j(b,ay.B(a))});function wL(a,b,c){return kL(R.F(mA.B(a),Jt,c,P([Ro,!1])),new X(null,1,5,Z,[b],null),!1,Zn)}function xL(a,b){return lf.j(Be(a),ei.P(J(a),Us,iL,Qd(b)))}function yL(a){var b=H(a);a=J(b);b=K(b);var c=Px.B(a);a=oL(Zn,a);return xL(b,iL(c,r(a)?a:W))}
function zL(a,b){var c=H(b);b=J(c);c=K(c);var d=H(Hq.B(b));if(d){var e=J(d);d=Q(e,0,null);e=Q(e,1,null);var f=C.C(ai(b,new X(null,2,5,Z,[mA,Jt],null)),d,W);return uL(a,d,d,hw.B(b),!0,e,f,lf.j(c,ei.C(b,Hq,Be)))}a=kh(Xh.C(W,vL,ai(b,new X(null,2,5,Z,[mA,Jt],null))));return r(a)?(b=R.F(b,$n,lo,P([Px,Us.B(b),Us,Od(W)])),lf.F(c,b,P([wL(b,hw.B(b),a)]))):xL(c,Us.B(b))}
function AL(a,b,c,d,e){var f=Il(function(m){return m.a},KJ(a,ev,new X(null,1,5,Z,[d],null))),h=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,k=C.j(h,ay);h=C.j(h,Bs);k=null!=k?mL(h,k,d):h;return zL(a,lf.F(c,b,P([new q(null,6,[$n,Sy,Us,Od(new q(null,1,[Uf,d],null)),hw,d,mA,e,Hq,H(f),Bs,k],null)])))}
function BL(a,b){for(;;){var c=H(b);b=J(c);var d=K(c);c=b;if(b=H(go.B(c))){if(r(Ro.B(c))){b=R.F(c,Ru,mf,P([hw,J(b),Ro,!1]));c=d;var e=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;d=C.j(e,hw);e=C.j(e,mA);var f=nL(b,c,d);return r(f)?f:AL(a,b,c,d,e)}if(e=H(Ru.B(c))){f=e;e=J(f);mA.B(c);c=lf.j(d,R.C(c,Ru,Be(f)));b=J(b);d=Q(e,0,null);e=Q(e,1,null);if(F.j(Uf,d))a=r(kh(KJ(a,ev,new X(null,1,5,Z,[b],null))))?lf.j(Be(c),ei.ka(J(c),Us,Xg,Uf,b)):c;else{f=ay.B(e);var h=F.j(d,f),k=h?KJ(a,ev,new X(null,2,5,Z,[b,f],null)):
KJ(a,Tm,new X(null,2,5,Z,[f,b],null));a=uL(a,d,f,b,h,k,e,c)}return a}b=lf.j(d,lL(c,Be(b),kh(Qd(Us.B(c)))))}else return lf.j(d,R.C(c,$n,gx))}}
function CL(a,b){for(;;){var c=$n.B(J(b));c=c instanceof D?c.na:null;switch(c){case "expand":c=a;b=zL(a,b);a=c;continue;case "expand-rev":b=yL(b);continue;case "pattern":c=a;b=BL(a,b);a=c;continue;case "recursion":b=qL(b);continue;case "done":c=H(b);b=J(c);c=K(c);var d=b,e=c,f=function(){var h=Qd(KB.B(d));return wc(Xp.B(d))?J(h):h}();if(H(e)){b=lf.j(Be(e),function(){var h=J(e);return r(f)?ei.ka(h,Us,Xg,ay.B(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.B(c)].join(""));
}}}function DL(a,b,c){c=Xh.C(mf,Hh.B(function(d){return hK(a,d)}),c);return CL(a,new nf(null,jL(b,c,!1),null,1,null))};function EL(a,b,c,d,e){this.Qd=a;this.Vg=b;this.Xg=c;this.Ug=d;this.limit=e;this.J=2147484416;this.T=0}EL.prototype.da=function(a,b,c){return FL.C?FL.C(this,b,c):FL.call(null,this,b,c)};EL.prototype.ma=function(a,b){return Yc(this.Qd,b,null)};EL.prototype.R=function(a,b,c){return Yc(this.Qd,b,c)};EL.prototype.ga=function(a,b,c){return Jd(this.Qd,b,c)};function GL(a,b,c,d,e){return new EL(a,b,c,d,e)}
function FL(a,b,c){var d=a.Qd,e=a.Vg,f=a.Xg,h=a.Ug;a=a.limit;var k=f.j?f.j(b,null):f.call(null,b,null);if(r(k))return GL(d,R.C(S.j(e,k),h,b),R.C(f,b,h),h+1,a);b=GL(R.C(d,b,c),R.C(e,h,b),R.C(f,b,h),h+1,a);return HL.B?HL.B(b):HL.call(null,b)}function HL(a){if(M(a.Qd)>a.limit){var b=a.Qd,c=a.Vg,d=a.Xg,e=a.Ug;a=a.limit;var f=J(c),h=Q(f,0,null);f=Q(f,1,null);return GL(S.j(b,f),S.j(c,h),S.j(d,f),e,a)}return a};function IL(a,b){b="number"===typeof b||zf(b)||b instanceof D?kK(a,b):null;if(r(b)){var c=new Dh(!1),d=new Dh(W);return JL.P?JL.P(a,b,c,d):JL.call(null,a,b,c,d)}return null}function KL(a,b,c){return jK(a,b,eB)?gK(a,b)?w.C(function(d,e){return lf.j(d,IL(a,Gw.B(e)))},ok,c):w.C(function(d,e){return lf.j(d,Gw.B(e))},ok,c):gK(a,b)?IL(a,Gw.B(J(c))):Gw.B(J(c))}
function LL(a,b,c,d){b=kh(IJ(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?jK(a,c,Cm)?IL(a,vw.B(J(b))):w.C(function(e,f){return lf.j(e,IL(a,vw.B(f)))},ok,b):d}function ML(a){return r(a)?Sf(a):null}
function NL(a){OL.B?OL.B(a):OL.call(null,a);return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);p=jK(a.db,p,eB)?new X(null,2,5,Z,[p,ML(n)],null):new X(null,2,5,Z,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);return df(jK(a.db,k,eB)?new X(null,2,5,Z,[k,ML(f)],null):new X(null,2,5,Z,[k,f],null),d(Be(e)))}return null}},
null,null)}(z(a.cache))}function PL(a,b,c,d){this.db=a;this.Oc=b;this.jg=c;this.cache=d;this.J=2162164483;this.T=0}g=PL.prototype;g.entry_set=function(){return Sf(Hh.j(Sf,NL(this)))};
g.forEach=function(){function a(d,e){for(var f=H(NL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.xa(null,m),p=Q(n,0,null);n=Q(n,1,null);d.call(e,n,p,this);m+=1}else if(f=H(f))Ef(f)?(h=Xd(f),f=Yd(f),p=h,k=M(h),h=p):(h=J(f),p=Q(h,0,null),n=Q(h,1,null),d.call(e,n,p,this),f=K(f),h=null,k=0),m=0;else return null}function b(d){for(var e=H(NL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=Q(m,0,null);m=Q(m,1,null);d.C?d.C(m,n,this):d.call(null,m,n,this);k+=1}else if(e=H(e))Ef(e)?(f=Xd(e),e=Yd(e),n=f,h=
M(f),f=n):(f=J(e),n=Q(f,0,null),m=Q(f,1,null),d.C?d.C(m,n,this):d.call(null,m,n,this),e=K(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.j=a;return c}();g.get=function(a){if(F.j(a,":db/id"))return this.Oc;if(uK(a))return ML(LL(this.db,this.Oc,vK(a),null));var b=QL?QL(this,a):RL.call(null,this,a);return jK(this.db,a,eB)?ML(b):b};g.key_set=function(){return Sf(Zi(this))};
g.entries=function(){return new Ui(H(NL(this)))};g.value_set=function(){return Sf(Hh.j(hf,NL(this)))};g.toString=function(){return he(this)};g.keys=function(){return Ee(Zi(this))};g.values=function(){return Ee(Hh.j(hf,NL(this)))};g.equiv=function(a){return SL.j?SL.j(this,a):SL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ma=function(a,b){return TL?TL(this,b,null):RL.call(null,this,b,null)};g.R=function(a,b,c){return TL?TL(this,b,c):RL.call(null,this,b,c)};
g.ga=function(a,b,c){return Jd(R.C(z(this.cache),Uf,this.Oc),b,c)};g.ja=function(){OL.B?OL.B(this):OL.call(null,this);return M(z(this.cache))};g.ia=function(){return pe(this.Oc)};g.ca=function(a,b){return SL.j?SL.j(this,b):SL.call(null,this,b)};g.ha=function(){OL.B?OL.B(this):OL.call(null,this);return H(z(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return QL?QL(this,a):RL.call(null,this,a)};g.j=function(a,b){return TL?TL(this,a,b):RL.call(null,this,a,b)};function JL(a,b,c,d){return new PL(a,b,c,d)}
function SL(a,b){return b instanceof PL&&F.j(a.Oc,b.Oc)}function RL(a){switch(arguments.length){case 2:return QL(arguments[0],arguments[1]);case 3:return TL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function QL(a,b){return TL(a,b,null)}
function TL(a,b,c){if(F.j(b,Uf))return a.Oc;if(uK(b))return LL(a.db,a.Oc,vK(b),c);var d=z(a.cache);d=d.B?d.B(b):d.call(null,b);if(null==d){if(r(z(a.jg)))return c;d=kh(IJ(a.db,new X(null,2,5,Z,[a.Oc,b],null)));if(null==d)return c;c=KL(a.db,b,d);b=R.C(z(a.cache),b,c);de(a.cache,b);return c}return d}function UL(a,b){return Zf(function(c,d,e){return R.C(c,d,jK(a,d,Cm)?jK(a,d,eB)?pk(Hh.j(OL,e)):OL.B?OL.B(e):OL.call(null,e):e)},W,b)}
function VL(a,b){return w.C(function(c,d){var e=zw.B(J(d));return R.C(c,e,KL(a,e,d))},W,Ek(zw,b))}function OL(a){if(!r(z(a.jg))){var b=kh(IJ(a.db,new X(null,1,5,Z,[a.Oc],null)));r(b)&&(b=UL(a.db,VL(a.db,b)),de(a.cache,b),de(a.jg,!0))}return a}na("datascript.impl.entity.Entity",PL);function WL(){}function XL(a,b,c){if(null!=a&&null!=a.Oa)a=a.Oa(a,b,c);else{var d=XL[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=XL._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("ITraversable.-collect",a);}return a}
function YL(a,b){if(null!=a&&null!=a.Pa)a=a.Pa(a,b);else{var c=YL[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=YL._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ITraversable.-collect-vars",a);}return a}function ZL(a,b){return zf(a)&&F.j(M(a),b)}function $L(a,b){return zf(b)?w.C(function(c,d){d=a.B?a.B(d):a.call(null,d);return r(d)?lf.j(c,d):Me(null)},mf,b):null}function aM(a,b){return bM(a,b,mf)}
function bM(a,b,c){return r(a.B?a.B(b):a.call(null,b))?lf.j(c,b):(null!=b?l===b.Na||(b.rd?0:yc(WL,b)):yc(WL,b))?XL(b,a,c):gJ(b)?w.C(function(d,e){return bM(a,e,d)},c,b):c}function cM(a){var b=wf(a);return b?b:dh(Mf,a)}function dM(a,b){return tf(a,new q(null,1,[en,b],null))}function eM(a){var b=en.B(uf(a));return r(b)?b:a}function fM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=fM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){return C.C(this.D,b,c)};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.j(mf,this.D))};g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-528488587^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new fM(this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new fM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};g.fa=function(a,b){return new fM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};function gM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=gM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "symbol":return this.symbol;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Pw,this.symbol],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Pw],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=736891289^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.symbol,b.symbol)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Pw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new gM(this.symbol,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Pw,b):T.call(null,Pw,b))?new gM(c,this.G,this.D,null):new gM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Pw,this.symbol)],null),this.D))};
g.fa=function(a,b){return new gM(this.symbol,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.symbol,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.symbol):hM.call(null,b,this.symbol)};function iM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=iM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "symbol":return this.symbol;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Pw,this.symbol],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Pw],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1648766309^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.symbol,b.symbol)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Pw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new iM(this.symbol,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Pw,b):T.call(null,Pw,b))?new iM(c,this.G,this.D,null):new iM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Pw,this.symbol)],null),this.D))};g.fa=function(a,b){return new iM(this.symbol,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.symbol,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.symbol):hM.call(null,b,this.symbol)};function jM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=jM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.j(mf,this.D))};g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-350962559^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new jM(this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new jM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};g.fa=function(a,b){return new jM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};
function kM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=kM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.j(mf,this.D))};
g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1504050517^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new kM(this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new kM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};
g.fa=function(a,b){return new kM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};function lM(a,b,c,d){this.value=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=lM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "value":return this.value;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Xw,this.value],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Xw],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-812884714^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.value,b.value)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Xw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new lM(this.value,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Xw,b):T.call(null,Xw,b))?new lM(c,this.G,this.D,null):new lM(this.value,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Xw,this.value)],null),this.D))};g.fa=function(a,b){return new lM(this.value,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.value,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.value):hM.call(null,b,this.value)};function mM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=mM.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "symbol":return this.symbol;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Pw,this.symbol],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Pw],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1509921913^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.symbol,b.symbol)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Pw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new mM(this.symbol,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Pw,b):T.call(null,Pw,b))?new mM(c,this.G,this.D,null):new mM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Pw,this.symbol)],null),this.D))};g.fa=function(a,b){return new mM(this.symbol,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.symbol,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.symbol):hM.call(null,b,this.symbol)};function nM(a){return a instanceof B&&F.j(J(Gg(a)),"?")?new gM(a,null,null,null):null}function oM(a){var b=nM(a);if(r(b))return b;throw bm(["Cannot parse var, expected symbol starting with ?, got: ",dl.F(P([a]))].join(""),new q(null,2,[tp,iq,ht,a],null));}
function pM(a){return a instanceof B&&F.j(J(Gg(a)),"$")?new iM(a,null,null,null):null}function qM(a){return a instanceof B?null:new lM(a,null,null,null)}function rM(a){return a instanceof B&&wc(nM(a))&&wc(pM(a))&&wc(F.j(gt,a)?new kM(null,null,null):null)&&wc(F.j(fq,a)?new fM(null,null,null):null)?new mM(a,null,null,null):null}function sM(a){return r(rM(a))?new gM(a,null,null,null):null}function tM(a){var b=nM(a);if(r(b))return b;b=qM(a);return r(b)?b:pM(a)}
function uM(a,b,c,d,e){this.required=a;this.Ec=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=uM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "required":return this.required;case "free":return this.Ec;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[oA,this.required],null),new X(null,2,5,Z,[Hr,this.Ec],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[oA,Hr],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=892963297^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.required,b.required)&&F.j(this.Ec,b.Ec)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Hr,null,oA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new uM(this.required,this.Ec,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(oA,b):T.call(null,oA,b))?new uM(c,this.Ec,this.G,this.D,null):r(T.j?T.j(Hr,b):T.call(null,Hr,b))?new uM(this.required,c,this.G,this.D,null):new uM(this.required,this.Ec,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(oA,this.required),new Y(Hr,this.Ec)],null),this.D))};g.fa=function(a,b){return new uM(this.required,this.Ec,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return bM(b,this.Ec,bM(b,this.required,c))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.required):hM.call(null,b,this.required);b=this.Ec;return hM.j?hM.j(a,b):hM.call(null,a,b)};
function vM(a){if(zf(a)){var b=zf(J(a))?new X(null,2,5,Z,[J(a),K(a)],null):new X(null,2,5,Z,[null,a],null),c=Q(b,0,null);b=Q(b,1,null);c=$L(oM,c);b=$L(oM,b);if(wf(c)&&wf(b))throw bm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[tp,Bq,ht,a],null));if(!r(cM(V.j(c,b))))throw bm("Rule variables should be distinct",new q(null,2,[tp,Bq,ht,a],null));return new uM(c,b,null,null,null)}throw bm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[tp,Bq,ht,a],null));}function wM(a){return V.B(r(oA.B(a))?function(){Yh.j(Pw,oA.B(a));return Yh.j(Pw,Hr.B(a))}():null)}function xM(a){return new X(null,2,5,Z,[M(oA.B(a)),M(Hr.B(a))],null)}function yM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=yM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.j(mf,this.D))};g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-890522983^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new yM(this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new yM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};g.fa=function(a,b){return new yM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};
function zM(a,b,c,d){this.Va=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=zM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "variable":return this.Va;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Zt,this.Va],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Zt],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1522792445^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Va,b.Va)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Zt,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new zM(this.Va,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Zt,b):T.call(null,Zt,b))?new zM(c,this.G,this.D,null):new zM(this.Va,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Zt,this.Va)],null),this.D))};
g.fa=function(a,b){return new zM(this.Va,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.Va,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.Va):hM.call(null,b,this.Va)};function AM(a,b,c,d){this.bindings=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=AM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "bindings":return this.bindings;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[hn,this.bindings],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[hn],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1637239347^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.bindings,b.bindings)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[hn,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new AM(this.bindings,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(hn,b):T.call(null,hn,b))?new AM(c,this.G,this.D,null):new AM(this.bindings,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(hn,this.bindings)],null),this.D))};g.fa=function(a,b){return new AM(this.bindings,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.bindings,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.bindings):hM.call(null,b,this.bindings)};function BM(a,b,c,d){this.binding=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=BM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "binding":return this.binding;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[ew,this.binding],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[ew],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1930368089^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.binding,b.binding)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[ew,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new BM(this.binding,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(ew,b):T.call(null,ew,b))?new BM(c,this.G,this.D,null):new BM(this.binding,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(ew,this.binding)],null),this.D))};g.fa=function(a,b){return new BM(this.binding,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.binding,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.binding):hM.call(null,b,this.binding)};function CM(a){return F.j(fq,a)?dM(new yM(null,null,null),a):null}
function DM(a){var b=CM(a);return r(b)?b:EM.B?EM.B(a):EM.call(null,a)}function FM(a){var b=$L(DM,a);if(r(b)){if(wf(b))throw bm("Tuple binding cannot be empty",new q(null,2,[tp,Fp,ht,a],null));return dM(new AM(b,null,null,null),a)}return null}
function EM(a){a:{if(ZL(a,2)&&F.j(hf(a),$u)){var b=J(a);b=EM.B?EM.B(b):EM.call(null,b);if(r(b)){b=dM(new BM(b,null,null,null),a);break a}throw bm("Cannot parse collection binding",new q(null,2,[tp,Fp,ht,a],null));}b=null}if(r(b))return b;b=ZL(a,1)&&zf(J(a))?dM(new BM(FM(J(a)),null,null,null),a):null;if(r(b))return b;b=FM(a);if(r(b))return b;b=CM(a);if(r(b))return b;b=nM(a);b=r(b)?dM(new zM(b,null,null,null),a):null;if(r(b))return b;throw bm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[tp,Fp,ht,a],null));}function GM(a){if(null!=a&&null!=a.Ue)a=a.Ue(a);else{var b=GM[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=GM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IFindVars.-find-vars",a);}return a}gM.prototype.Ue=function(){return new X(null,1,5,Z,[this.symbol],null)};function HM(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=HM.prototype;g.Ue=function(){return GM(kf(this.args))};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[fA,this.fn],null),new X(null,2,5,Z,[gA,this.args],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[fA,gA],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-91097383^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.fn,b.fn)&&F.j(this.args,b.args)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[gA,null,fA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new HM(this.fn,this.args,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fA,b):T.call(null,fA,b))?new HM(c,this.args,this.G,this.D,null):r(T.j?T.j(gA,b):T.call(null,gA,b))?new HM(this.fn,c,this.G,this.D,null):new HM(this.fn,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(fA,this.fn),new Y(gA,this.args)],null),this.D))};g.fa=function(a,b){return new HM(this.fn,this.args,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return bM(b,this.args,bM(b,this.fn,c))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.fn):hM.call(null,b,this.fn);b=this.args;return hM.j?hM.j(a,b):hM.call(null,a,b)};function IM(a,b,c,d,e,f){this.source=a;this.Va=b;this.pattern=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=IM.prototype;g.Ue=function(){return GM(this.Va)};g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "variable":return this.Va;case "pattern":return this.pattern;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[en,this.source],null),new X(null,2,5,Z,[Zt,this.Va],null),new X(null,2,5,Z,[mA,this.pattern],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[en,Zt,mA],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2108867663^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.Va,b.Va)&&F.j(this.pattern,b.pattern)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[Zt,null,en,null,mA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new IM(this.source,this.Va,this.pattern,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(en,b):T.call(null,en,b))?new IM(c,this.Va,this.pattern,this.G,this.D,null):r(T.j?T.j(Zt,b):T.call(null,Zt,b))?new IM(this.source,c,this.pattern,this.G,this.D,null):r(T.j?T.j(mA,b):T.call(null,mA,b))?new IM(this.source,this.Va,c,this.G,this.D,null):new IM(this.source,this.Va,this.pattern,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(en,this.source),new Y(Zt,this.Va),new Y(mA,this.pattern)],null),this.D))};
g.fa=function(a,b){return new IM(this.source,this.Va,this.pattern,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.pattern,bM(b,this.Va,bM(b,this.source,c)))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.source):hM.call(null,b,this.source);b=this.Va;a=hM.j?hM.j(a,b):hM.call(null,a,b);b=this.pattern;return hM.j?hM.j(a,b):hM.call(null,a,b)};
function JM(a){if(null!=a&&null!=a.me)a=a.me(a);else{var b=JM[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=JM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IFindElements.find-elements",a);}return a}function KM(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=KM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "elements":return this.elements;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Zs,this.elements],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Zs],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=744809563^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.elements,b.elements)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Zs,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new KM(this.elements,this.G,kh(S.j(this.D,b)),null)};g.me=function(){return this.elements};g.da=function(a,b,c){return r(T.j?T.j(Zs,b):T.call(null,Zs,b))?new KM(c,this.G,this.D,null):new KM(this.elements,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Zs,this.elements)],null),this.D))};g.fa=function(a,b){return new KM(this.elements,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.elements,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.elements):hM.call(null,b,this.elements)};function LM(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=LM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "element":return this.element;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[xy,this.element],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[xy],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=124241361^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.element,b.element)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[xy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new LM(this.element,this.G,kh(S.j(this.D,b)),null)};g.me=function(){return new X(null,1,5,Z,[this.element],null)};
g.da=function(a,b,c){return r(T.j?T.j(xy,b):T.call(null,xy,b))?new LM(c,this.G,this.D,null):new LM(this.element,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(xy,this.element)],null),this.D))};g.fa=function(a,b){return new LM(this.element,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.element,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.element):hM.call(null,b,this.element)};
function MM(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=MM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "element":return this.element;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[xy,this.element],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[xy],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-661542332^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.element,b.element)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[xy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new MM(this.element,this.G,kh(S.j(this.D,b)),null)};g.me=function(){return new X(null,1,5,Z,[this.element],null)};g.da=function(a,b,c){return r(T.j?T.j(xy,b):T.call(null,xy,b))?new MM(c,this.G,this.D,null):new MM(this.element,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(xy,this.element)],null),this.D))};g.fa=function(a,b){return new MM(this.element,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.element,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.element):hM.call(null,b,this.element)};function NM(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=NM.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "elements":return this.elements;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Zs,this.elements],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Zs],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=681530371^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.elements,b.elements)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Zs,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new NM(this.elements,this.G,kh(S.j(this.D,b)),null)};g.me=function(){return this.elements};g.da=function(a,b,c){return r(T.j?T.j(Zs,b):T.call(null,Zs,b))?new NM(c,this.G,this.D,null):new NM(this.elements,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Zs,this.elements)],null),this.D))};g.fa=function(a,b){return new NM(this.elements,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.elements,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.elements):hM.call(null,b,this.elements)};function OM(a){return a instanceof HM}function PM(a){return a instanceof IM}
function QM(a){var b=nM(a);if(r(b))return b;a:{if(zf(a)&&F.j(J(a),Bw)){if(3<=M(a)&&4>=M(a)){var c=(b=F.j(M(a),4))?Ye(a,1):Gp;b=b?K(K(a)):K(a);var d=Q(b,0,null);b=Q(b,1,null);c=pM(c);d=nM(d);var e=nM(b);r(e)?b=e:(e=sM(b),b=r(e)?e:qM(b));if(r(r(c)?r(d)?b:d:c)){b=new IM(c,d,b,null,null,null);break a}}throw bm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[tp,Hz,wt,a],null));}b=null}if(r(b))return b;a:{if(zf(a)&&F.j(J(a),Jv)){if(3<=
M(a)&&(b=H(a),J(b),c=K(b),b=J(c),c=K(c),b=nM(b),c=$L(tM,c),r(r(b)?c:b))){b=new HM(b,c,null,null,null);break a}throw bm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[tp,Hz,wt,a],null));}b=null}r(b)?a=b:zf(a)&&2<=M(a)?(b=H(a),a=J(b),b=K(b),a=rM(a),b=$L(tM,b),a=r(r(a)?b:a)?new HM(a,b,null,null,null):null):a=null;return a}
function RM(a){var b=$L(QM,a);b=null==b?null:new KM(b,null,null,null);if(r(b))return b;a:{if(zf(a)&&F.j(M(a),1)&&(b=J(a),zf(b)&&F.j(M(b),2)&&F.j(hf(b),$u))){b=QM(J(b));b=null==b?null:new LM(b,null,null,null);break a}b=null}if(r(b))return b;zf(a)&&F.j(M(a),2)&&F.j(hf(a),cz)?(b=QM(J(a)),b=null==b?null:new MM(b,null,null,null)):b=null;if(r(b))return b;zf(a)&&F.j(M(a),1)?(b=J(a),b=$L(QM,b),b=null==b?null:new NM(b,null,null,null)):b=null;if(r(b))return b;throw bm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[tp,Hz,wt,a],null));}function SM(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=SM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type":return this.type;case "symbols":return this.symbols;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[dq,this.type],null),new X(null,2,5,Z,[Yx,this.symbols],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[dq,Yx],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2025547471^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.type,b.type)&&F.j(this.symbols,b.symbols)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[dq,null,Yx,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new SM(this.type,this.symbols,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(dq,b):T.call(null,dq,b))?new SM(c,this.symbols,this.G,this.D,null):r(T.j?T.j(Yx,b):T.call(null,Yx,b))?new SM(this.type,c,this.G,this.D,null):new SM(this.type,this.symbols,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(dq,this.type),new Y(Yx,this.symbols)],null),this.D))};g.fa=function(a,b){return new SM(this.type,this.symbols,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return bM(b,this.symbols,bM(b,this.type,c))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.type):hM.call(null,b,this.type);b=this.symbols;return hM.j?hM.j(a,b):hM.call(null,a,b)};function TM(a,b){if(!wf(b)&&ph(qe,b))switch(a instanceof D?a.na:null){case "keys":return new SM(a,Yh.j(Fg,b),null,null,null);case "syms":return new SM(a,Wf(b),null,null,null);case "strs":return new SM(a,Yh.j(t,b),null,null,null);default:return null}else return null}
function UM(a){var b=pM(a);r(b)||(b=F.j(gt,a)?new kM(null,null,null):null,b=r(b)?b:sM(a));return r(b)?dM(new zM(b,null,null,null),a):EM(a)}function VM(a){var b=$L(UM,a);if(r(b))return b;throw bm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[tp,yA,ht,a],null));}function WM(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=WM.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "pattern":return this.pattern;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[en,this.source],null),new X(null,2,5,Z,[mA,this.pattern],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[en,mA],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=575220587^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.pattern,b.pattern)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[en,null,mA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new WM(this.source,this.pattern,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(en,b):T.call(null,en,b))?new WM(c,this.pattern,this.G,this.D,null):r(T.j?T.j(mA,b):T.call(null,mA,b))?new WM(this.source,c,this.G,this.D,null):new WM(this.source,this.pattern,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(en,this.source),new Y(mA,this.pattern)],null),this.D))};g.fa=function(a,b){return new WM(this.source,this.pattern,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return bM(b,this.pattern,bM(b,this.source,c))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.source):hM.call(null,b,this.source);b=this.pattern;return hM.j?hM.j(a,b):hM.call(null,a,b)};function XM(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=XM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[fA,this.fn],null),new X(null,2,5,Z,[gA,this.args],null)],null),this.D))};
g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[fA,gA],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1523376880^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.fn,b.fn)&&F.j(this.args,b.args)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[gA,null,fA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new XM(this.fn,this.args,this.G,kh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(fA,b):T.call(null,fA,b))?new XM(c,this.args,this.G,this.D,null):r(T.j?T.j(gA,b):T.call(null,gA,b))?new XM(this.fn,c,this.G,this.D,null):new XM(this.fn,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(fA,this.fn),new Y(gA,this.args)],null),this.D))};
g.fa=function(a,b){return new XM(this.fn,this.args,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.args,bM(b,this.fn,c))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.fn):hM.call(null,b,this.fn);b=this.args;return hM.j?hM.j(a,b):hM.call(null,a,b)};function YM(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=YM.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[fA,this.fn],null),new X(null,2,5,Z,[gA,this.args],null),new X(null,2,5,Z,[ew,this.binding],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[fA,gA,ew],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=589494199^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.fn,b.fn)&&F.j(this.args,b.args)&&F.j(this.binding,b.binding)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[gA,null,fA,null,ew,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new YM(this.fn,this.args,this.binding,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fA,b):T.call(null,fA,b))?new YM(c,this.args,this.binding,this.G,this.D,null):r(T.j?T.j(gA,b):T.call(null,gA,b))?new YM(this.fn,c,this.binding,this.G,this.D,null):r(T.j?T.j(ew,b):T.call(null,ew,b))?new YM(this.fn,this.args,c,this.G,this.D,null):new YM(this.fn,this.args,this.binding,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(fA,this.fn),new Y(gA,this.args),new Y(ew,this.binding)],null),this.D))};
g.fa=function(a,b){return new YM(this.fn,this.args,this.binding,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.binding,bM(b,this.args,bM(b,this.fn,c)))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.fn):hM.call(null,b,this.fn);b=this.args;a=hM.j?hM.j(a,b):hM.call(null,a,b);b=this.binding;return hM.j?hM.j(a,b):hM.call(null,a,b)};
function ZM(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=ZM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[en,this.source],null),new X(null,2,5,Z,[xz,this.name],null),new X(null,2,5,Z,[gA,this.args],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[en,xz,gA],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-444662011^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.name,b.name)&&F.j(this.args,b.args)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[gA,null,xz,null,en,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new ZM(this.source,this.name,this.args,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(en,b):T.call(null,en,b))?new ZM(c,this.name,this.args,this.G,this.D,null):r(T.j?T.j(xz,b):T.call(null,xz,b))?new ZM(this.source,c,this.args,this.G,this.D,null):r(T.j?T.j(gA,b):T.call(null,gA,b))?new ZM(this.source,this.name,c,this.G,this.D,null):new ZM(this.source,this.name,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(en,this.source),new Y(xz,this.name),new Y(gA,this.args)],null),this.D))};
g.fa=function(a,b){return new ZM(this.source,this.name,this.args,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.args,bM(b,this.name,bM(b,this.source,c)))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.source):hM.call(null,b,this.source);b=this.name;a=hM.j?hM.j(a,b):hM.call(null,a,b);b=this.args;return hM.j?hM.j(a,b):hM.call(null,a,b)};
function $M(a,b,c,d,e,f){this.source=a;this.eb=b;this.za=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=$M.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "vars":return this.eb;case "clauses":return this.za;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[en,this.source],null),new X(null,2,5,Z,[es,this.eb],null),new X(null,2,5,Z,[Ny,this.za],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[en,es,Ny],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1394671061^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.eb,b.eb)&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[en,null,Ny,null,es,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new $M(this.source,this.eb,this.za,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(en,b):T.call(null,en,b))?new $M(c,this.eb,this.za,this.G,this.D,null):r(T.j?T.j(es,b):T.call(null,es,b))?new $M(this.source,c,this.za,this.G,this.D,null):r(T.j?T.j(Ny,b):T.call(null,Ny,b))?new $M(this.source,this.eb,c,this.G,this.D,null):new $M(this.source,this.eb,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(en,this.source),new Y(es,this.eb),new Y(Ny,this.za)],null),this.D))};
g.fa=function(a,b){return new $M(this.source,this.eb,this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.za,bM(b,this.eb,bM(b,this.source,c)))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.source):hM.call(null,b,this.source);b=this.eb;a=hM.j?hM.j(a,b):hM.call(null,a,b);b=this.za;return hM.j?hM.j(a,b):hM.call(null,a,b)};
function aN(a,b,c,d,e,f){this.source=a;this.mc=b;this.za=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=aN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "rule-vars":return this.mc;case "clauses":return this.za;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[en,this.source],null),new X(null,2,5,Z,[Pz,this.mc],null),new X(null,2,5,Z,[Ny,this.za],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[en,Pz,Ny],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1461934571^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.mc,b.mc)&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[Pz,null,en,null,Ny,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new aN(this.source,this.mc,this.za,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(en,b):T.call(null,en,b))?new aN(c,this.mc,this.za,this.G,this.D,null):r(T.j?T.j(Pz,b):T.call(null,Pz,b))?new aN(this.source,c,this.za,this.G,this.D,null):r(T.j?T.j(Ny,b):T.call(null,Ny,b))?new aN(this.source,this.mc,c,this.G,this.D,null):new aN(this.source,this.mc,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(en,this.source),new Y(Pz,this.mc),new Y(Ny,this.za)],null),this.D))};
g.fa=function(a,b){return new aN(this.source,this.mc,this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.za,bM(b,this.mc,bM(b,this.source,c)))};g.Pa=function(a,b){a=hM.j?hM.j(b,this.source):hM.call(null,b,this.source);b=this.mc;a=hM.j?hM.j(a,b):hM.call(null,a,b);b=this.za;return hM.j?hM.j(a,b):hM.call(null,a,b)};function bN(a,b,c,d){this.za=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}
g=bN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "clauses":return this.za;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Ny,this.za],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Ny],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-131856804^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Ny,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new bN(this.za,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ny,b):T.call(null,Ny,b))?new bN(c,this.G,this.D,null):new bN(this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Ny,this.za)],null),this.D))};g.fa=function(a,b){return new bN(this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return bM(b,this.za,c)};g.Pa=function(a,b){return hM.j?hM.j(b,this.za):hM.call(null,b,this.za)};
function cN(a){var b=F.j(fq,a)?new fM(null,null,null):null;if(r(b))return b;b=nM(a);return r(b)?b:qM(a)}function dN(a){if(zf(a)){var b=pM(J(a));return r(b)?new X(null,2,5,Z,[b,K(a)],null):new X(null,2,5,Z,[new jM(null,null,null),a],null)}return null}function eN(a){if(zf(a)){var b=H(a);a=J(b);b=K(b);b=null==b?mf:b;var c=rM(a);a=r(c)?c:nM(a);b=$L(tM,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var hM=function hM(a,b){return b instanceof gM?lf.j(a,b):b instanceof $M?Xh.j(a,b.eb):b instanceof aN?(b=b.mc,hM.j?hM.j(a,b):hM.call(null,a,b)):(null!=b?l===b.Na||(b.rd?0:yc(WL,b)):yc(WL,b))?YL(b,a):zf(b)?w.C(hM,a,b):a};function fN(a,b,c){if(wf(a)&&wf(b))throw bm("Join variables should not be empty",new q(null,2,[tp,Ux,ht,c],null));}function gN(a,b){fN(null,es.B(a),b);return a}
function hN(a,b){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;c=C.j(c,Pz);var d=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;c=C.j(d,oA);d=C.j(d,Hr);fN(c,d,b);return a}function Fh(a){if(zf(a)&&F.j(Lv,J(a))){var b=K(a);b=iN.B?iN.B(b):iN.call(null,b);if(r(kh(b)))return new bN(b,null,null,null);throw bm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[tp,Ux,ht,a],null));}return null}
function Gh(a){a:{var b=dN(a);if(r(b)){var c=Q(b,0,null);b=Q(b,1,null);var d=H(b);b=J(d);d=K(d);if(F.j(Lx,b)){b=iN.B?iN.B(d):iN.call(null,d);if(r(b)){c=gN(dM(new $M(c,Wf(qk(hM(mf,b))),b,null,null,null),a),a);break a}throw bm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[tp,Ux,ht,a],null));}}c=null}if(r(c))return c;a:{b=dN(a);if(r(b)){c=Q(b,0,null);b=Q(b,1,null);d=H(b);b=J(d);var e=K(d);d=J(e);e=K(e);if(F.j(Dq,b)){b=$L(nM,d);d=iN.B?iN.B(e):iN.call(null,e);if(r(r(b)?
d:b)){c=gN(dM(new $M(c,b,d,null,null,null),a),a);break a}throw bm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[tp,Ux,ht,a],null));}}c=null}if(r(c))return c;a:{b=dN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=H(b),b=J(d),d=K(d),F.j(nr,b))){b=$L(Eh(),d);if(r(b)){c=hN(dM(new aN(c,new uM(null,Wf(qk(hM(mf,b))),null,null,null),b,null,null,null),a),a);break a}throw bm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[tp,Ux,
ht,a],null));}c=null}if(r(c))return c;a:{b=dN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=H(b),b=J(d),e=K(d),d=J(e),e=K(e),F.j(lp,b))){b=vM(d);d=$L(Eh(),e);if(r(r(b)?d:b)){c=hN(dM(new aN(c,b,d,null,null,null),a),a);break a}throw bm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[tp,Ux,ht,a],null));}c=null}if(r(c))return c;a:{if(ZL(a,1)&&(b=eN(J(a)),r(b))){c=Q(b,0,null);b=Q(b,1,null);c=dM(new XM(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(ZL(a,2)&&(b=Q(a,0,null),c=Q(a,1,null),d=eN(b),r(d))){b=Q(d,0,null);d=Q(d,1,null);c=EM(c);c=r(c)?dM(new YM(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=dN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=H(b),d=J(b),b=K(b),d=rM(d),e=$L(cN,b),r(d))){if(wf(b))throw bm("rule-expr requires at least one argument",new q(null,2,[tp,Ux,ht,a],null));if(null==e)throw bm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[tp,Ux,ht,a],null));c=new ZM(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=dN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=$L(cN,b),r(b))){if(wf(b))throw bm("Pattern could not be empty",new q(null,2,[tp,Ux,ht,a],null));c=dM(new WM(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw bm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[tp,Ux,ht,a],null));}function iN(a){return $L(Gh,a)}
function jN(a){var b=iN(a);if(r(b))return b;throw bm("Cannot parse :where clause, expected [clause+]",new q(null,2,[tp,Ux,ht,a],null));}function kN(a,b,c,d,e){this.eb=a;this.za=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=kN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "vars":return this.eb;case "clauses":return this.za;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[es,this.eb],null),new X(null,2,5,Z,[Ny,this.za],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[es,Ny],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1024755006^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.eb,b.eb)&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Ny,null,es,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new kN(this.eb,this.za,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(es,b):T.call(null,es,b))?new kN(c,this.za,this.G,this.D,null):r(T.j?T.j(Ny,b):T.call(null,Ny,b))?new kN(this.eb,c,this.G,this.D,null):new kN(this.eb,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(es,this.eb),new Y(Ny,this.za)],null),this.D))};g.fa=function(a,b){return new kN(this.eb,this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return bM(b,this.za,bM(b,this.eb,c))};g.Pa=function(a,b){return hM(hM(b,this.eb),this.za)};function lN(a,b,c,d,e){this.name=a;this.branches=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=lN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "name":return this.name;case "branches":return this.branches;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[xz,this.name],null),new X(null,2,5,Z,[Is,this.branches],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[xz,Is],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-900273052^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.name,b.name)&&F.j(this.branches,b.branches)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[xz,null,Is,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new lN(this.name,this.branches,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(xz,b):T.call(null,xz,b))?new lN(c,this.branches,this.G,this.D,null):r(T.j?T.j(Is,b):T.call(null,Is,b))?new lN(this.name,c,this.G,this.D,null):new lN(this.name,this.branches,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(xz,this.name),new Y(Is,this.branches)],null),this.D))};g.fa=function(a,b){return new lN(this.name,this.branches,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return bM(b,this.branches,bM(b,this.name,c))};g.Pa=function(a,b){return hM(hM(b,this.name),this.branches)};
function mN(a){if(zf(a)){var b=H(a),c=J(b),d=K(b);if(zf(c)){b=H(c);var e=J(b);c=K(b);b=function(){var h=rM(e);if(r(h))return h;throw bm("Cannot parse rule name, expected plain-symbol",new q(null,2,[tp,fx,ht,a],null));}();c=vM(c);var f=function(){var h=kh(iN(d));if(r(h))return h;throw bm("Rule branch should have clauses",new q(null,2,[tp,fx,ht,a],null));}();return new q(null,3,[xz,b,es,c,Ny,f],null)}throw bm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",dl.F(P([c]))].join(""),new q(null,
2,[tp,fx,ht,a],null));}throw bm("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[tp,fx,ht,a],null));}
function nN(a,b){var c=es.B(J(b)),d=xM(c);b=H(K(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);k=es.B(k);if(jh.j(d,xM(k)))throw bm(["Arity mismatch for rule '",dl.F(P([Pw.B(a)])),"': ",dl.F(P([wM(c)]))," vs. ",dl.F(P([wM(k)]))].join(""),new q(null,2,[tp,fx,No,a],null));h+=1}else if(b=H(b)){if(Ef(b))f=Xd(b),b=Yd(b),e=f,f=M(f);else{k=J(b);e=es.B(k);if(jh.j(d,xM(e)))throw bm(["Arity mismatch for rule '",dl.F(P([Pw.B(a)])),"': ",dl.F(P([wM(c)]))," vs. ",dl.F(P([wM(e)]))].join(""),new q(null,
2,[tp,fx,No,a],null));b=K(b);e=null;f=0}h=0}else break}
function oN(a){Wf(function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){var f=e;if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var v=0;;)if(v<k){var y=x(h,v),E=Q(y,0,null),G=Q(y,1,null);y=Yh.j(function(){return function(I){return new kN(es.B(I),Ny.B(I),null,null,null)}}(v,y,E,G,h,k,m,f,e),G);G=m;nN(E,y);G.add(new lN(E,y,null,null,null));v+=1}else return!0}()?Ng(Pg(m),d(Yd(f))):Ng(Pg(m),null)}var n=J(f),p=Q(n,0,null),u=Q(n,1,null);n=Yh.j(function(){return function(v){return new kN(es.B(v),
Ny.B(v),null,null,null)}}(n,p,u,f,e),u);nN(p,n);return df(new lN(p,n,null,null,null),d(Be(f)))}return null}},null,null)}(Il(xz,$L(mN,a)))}())}function pN(a,b,c,d,e,f,h,k){this.bc=a;this.fc=b;this.dc=c;this.cc=d;this.ec=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=pN.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "qfind":return this.bc;case "qwith":return this.fc;case "qreturn-map":return this.dc;case "qin":return this.cc;case "qwhere":return this.ec;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[zq,this.bc],null),new X(null,2,5,Z,[kA,this.fc],null),new X(null,2,5,Z,[uw,this.dc],null),new X(null,2,5,Z,[sy,this.cc],null),new X(null,2,5,Z,[Ly,this.ec],null)],null),this.D))};g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[zq,kA,uw,sy,Ly],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=181307977^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.bc,b.bc)&&F.j(this.fc,b.fc)&&F.j(this.dc,b.dc)&&F.j(this.cc,b.cc)&&F.j(this.ec,b.ec)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[zq,null,Ly,null,sy,null,kA,null,uw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new pN(this.bc,this.fc,this.dc,this.cc,this.ec,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(zq,b):T.call(null,zq,b))?new pN(c,this.fc,this.dc,this.cc,this.ec,this.G,this.D,null):r(T.j?T.j(kA,b):T.call(null,kA,b))?new pN(this.bc,c,this.dc,this.cc,this.ec,this.G,this.D,null):r(T.j?T.j(uw,b):T.call(null,uw,b))?new pN(this.bc,this.fc,c,this.cc,this.ec,this.G,this.D,null):r(T.j?T.j(sy,b):T.call(null,sy,b))?new pN(this.bc,this.fc,this.dc,c,this.ec,this.G,this.D,null):r(T.j?T.j(Ly,b):T.call(null,Ly,b))?new pN(this.bc,this.fc,this.dc,this.cc,c,this.G,this.D,
null):new pN(this.bc,this.fc,this.dc,this.cc,this.ec,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(zq,this.bc),new Y(kA,this.fc),new Y(uw,this.dc),new Y(sy,this.cc),new Y(Ly,this.ec)],null),this.D))};g.fa=function(a,b){return new pN(this.bc,this.fc,this.dc,this.cc,this.ec,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return bM(b,this.ec,bM(b,this.cc,bM(b,this.dc,bM(b,this.fc,bM(b,this.bc,c)))))};g.Pa=function(a,b){return hM(hM(hM(hM(hM(b,this.bc),this.fc),this.dc),this.cc),this.ec)};function qN(a){var b=S.F(a,zq,P([kA,uw,sy,Ly]));b=Bf(a)?Xh.j(W,b):b;return new pN(zq.B(a),kA.B(a),uw.B(a),sy.B(a),Ly.B(a),null,kh(b),null)}function rN(a){for(var b=W,c=null;;){var d=J(a);if(r(d))d instanceof D?(c=d,a=K(a)):(b=di.P(b,new X(null,1,5,Z,[c],null),wh(lf,mf),d),a=K(a));else return b}}
function sN(a){var b=en.B(a);return a instanceof WM?b:null!=b?b instanceof jM?null:b:null}
function tN(a,b,c){var d=pk(hM(mf,zq.B(a))),e=pk(kA.B(a)),f=pk(hM(mf,sy.B(a))),h=pk(hM(mf,Ly.B(a)));f=hI.j(fI(d,e),fI(h,f));d=gI.j(d,e);if(!wf(f))throw bm(["Query for unknown vars: ",dl.F(P([Yh.j(Pw,f)]))].join(""),new q(null,3,[tp,ly,es,f,ht,b],null));if(!wf(d))throw bm([":find and :with should not use same variables: ",dl.F(P([Yh.j(Pw,d)]))].join(""),new q(null,3,[tp,ly,es,d,ht,b],null));d=uw.B(a);if(null!=d){if(zq.B(a)instanceof MM)throw bm([dl.F(P([dq.B(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[tp,ly,ht,b],null));if(zq.B(a)instanceof LM)throw bm([dl.F(P([dq.B(d)]))," does not work with collection :find"].join(""),new q(null,2,[tp,ly,ht,b],null));}d=Yx.B(uw.B(a));if(null!=d&&(e=JM(zq.B(a)),!F.j(M(d),M(e))))throw bm(["Count of ",dl.F(P([dq.B(uw.B(a))]))," must match count of :find"].join(""),new q(null,4,[tp,ly,fo,df(dq.B(uw.B(a)),d),fr,e,ht,b],null));if(1<M(Vh(xc,new X(null,3,5,Z,[yq.B(c),yz.B(c),qn.B(c)],null))))throw bm("Only one of :keys/:syms/:strs must be present",new q(null,
2,[tp,ly,ht,b],null));var k=hM(mf,sy.B(a)),m=aM(function(p){return p instanceof iM},sy.B(a)),n=aM(function(p){return p instanceof kM},sy.B(a));if(!r(function(){var p=cM(k);return r(p)?(p=cM(m),r(p)?cM(n):p):p}()))throw bm("Vars used in :in should be distinct",new q(null,2,[tp,ly,ht,b],null));c=hM(mf,kA.B(a));if(!r(cM(c)))throw bm("Vars used in :with should be distinct",new q(null,2,[tp,ly,ht,b],null));c=bM(function(p){return p instanceof iM},sy.B(a),ok);d=bM(function(p){return p instanceof iM},Ly.B(a),
ok);c=hI.j(d,c);if(!wf(c))throw bm(["Where uses unknown source vars: ",dl.F(P([Yh.j(Pw,c)]))].join(""),new q(null,3,[tp,ly,es,c,ht,b],null));c=aM(function(p){return p instanceof ZM},Ly.B(a));a=aM(function(p){return p instanceof kM},sy.B(a));if(!wf(c)&&wf(a))throw bm("Missing rules var '%' in :in",new q(null,2,[tp,ly,ht,b],null));}
function uN(a){if(Af(a))var b=a;else if(zf(a))b=rN(a);else throw bm("Query should be a vector or a map",new q(null,2,[tp,ly,ht,a],null));var c=b,d=jN(hp.j(c,mf));b=qN(new q(null,5,[zq,RM(fr.B(c)),kA,function(){var e=hB.B(c);if(r(e)){var f=$L(nM,e);if(r(f))e=f;else throw bm("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[tp,Ot,ht,e],null));}else e=null;return e}(),uw,function(){var e=TM(yq,yq.B(c));if(r(e))return e;e=TM(yz,yz.B(c));return r(e)?e:TM(qn,qn.B(c))}(),sy,VM(function(){var e=
xB.B(c);return r(e)?e:wf(aM(sN,d))?mf:new X(null,1,5,Z,[Gp],null)}()),Ly,d],null));tN(b,a,c);return b};function vN(a,b,c,d,e,f){this.Tc=a;this.sources=b;this.rules=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=vN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "rels":return this.Tc;case "sources":return this.sources;case "rules":return this.rules;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[$v,this.Tc],null),new X(null,2,5,Z,[Zw,this.sources],null),new X(null,2,5,Z,[Zv,this.rules],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[$v,Zw,Zv],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1014232958^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Tc,b.Tc)&&F.j(this.sources,b.sources)&&F.j(this.rules,b.rules)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[Zw,null,Zv,null,$v,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new vN(this.Tc,this.sources,this.rules,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j($v,b):T.call(null,$v,b))?new vN(c,this.sources,this.rules,this.G,this.D,null):r(T.j?T.j(Zw,b):T.call(null,Zw,b))?new vN(this.Tc,c,this.rules,this.G,this.D,null):r(T.j?T.j(Zv,b):T.call(null,Zv,b))?new vN(this.Tc,this.sources,c,this.G,this.D,null):new vN(this.Tc,this.sources,this.rules,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y($v,this.Tc),new Y(Zw,this.sources),new Y(Zv,this.rules)],null),this.D))};
g.fa=function(a,b){return new vN(this.Tc,this.sources,this.rules,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function wN(a,b,c,d,e){this.pb=a;this.kd=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=wN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attrs":return this.pb;case "tuples":return this.kd;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[Jt,this.pb],null),new X(null,2,5,Z,[bu,this.kd],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[Jt,bu],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1107093117^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.pb,b.pb)&&F.j(this.kd,b.kd)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[bu,null,Jt,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new wN(this.pb,this.kd,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Jt,b):T.call(null,Jt,b))?new wN(c,this.kd,this.G,this.D,null):r(T.j?T.j(bu,b):T.call(null,bu,b))?new wN(this.pb,c,this.G,this.D,null):new wN(this.pb,this.kd,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(Jt,this.pb),new Y(bu,this.kd)],null),this.D))};g.fa=function(a,b){return new wN(this.pb,this.kd,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function xN(a,b){return gI.j(pk(Zi(a)),pk(Zi(b)))}function yN(a,b){return F.j(M(a),M(b))&&ph(function(c){return Lf(b,c)},Zi(a))&&ph(function(c){return Lf(b,c)},Zi(a))}
var zN=function zN(a,b){return F.j(fq,a)?!0:F.j(new X(null,1,5,Z,[zx],null),a)?zf(b):a instanceof B?F.j(b,a):zf(a)?F.j(kf(a),zx)?zf(b)&&ph(function(d){var e=Q(d,0,null);d=Q(d,1,null);return zN.j?zN.j(e,d):zN.call(null,e,d)},Hh.C(Di,rk(a),b)):zf(b)&&F.j(M(b),M(a))&&ph(function(d){var e=Q(d,0,null);d=Q(d,1,null);return zN.j?zN.j(e,d):zN.call(null,e,d)},Hh.C(Di,a,b)):a.B?a.B(b):a.call(null,b)};function AN(a){return a instanceof B&&F.j("$",J(Gg(a)))}
function BN(a){return a instanceof B&&F.j("?",J(Gg(a)))}function CN(a){return a instanceof D||"string"===typeof a}function DN(a){return zN(new X(null,2,5,Z,[CN,fq],null),a)}function EN(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var FN=function FN(a,b){var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,Jt);d=C.j(d,bu);var f=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,h=C.j(f,Jt);f=C.j(f,bu);if(F.j(e,h))return new wN(e,Xh.j(Wf(d),f),null,null,null);if(yN(e,h)){if(ph(vc,$i(e))){var k=Wf(function(){return function v(u){return new Hg(null,function(){for(;;){var y=H(u);if(y){if(Ef(y)){var E=Xd(y),G=M(E),I=Lg(G);a:for(var N=0;;)if(N<G){var O=x(E,N),U=Q(O,0,null);O=Q(O,1,null);U=new X(null,2,5,Z,[O,e.B?e.B(U):e.call(null,U)],null);
I.add(U);N+=1}else{E=!0;break a}return E?Ng(Pg(I),v(Yd(y))):Ng(Pg(I),null)}E=J(y);I=Q(E,0,null);E=Q(E,1,null);return df(new X(null,2,5,Z,[E,e.B?e.B(I):e.call(null,I)],null),v(Be(y)))}return null}},null,null)}(h)}()),m=w.j(ng,$i(e))+1;b=Qd(w.C(function(p,u){for(var v=Array(m),y=H(k),E=null,G=0,I=0;;)if(I<G){var N=E.xa(null,I),O=Q(N,0,null);N=Q(N,1,null);v[N]=u[O];I+=1}else if(y=H(y))Ef(y)?(G=Xd(y),y=Yd(y),E=G,G=M(G)):(G=J(y),E=Q(G,0,null),G=Q(G,1,null),v[G]=u[E],y=K(y),E=null,G=0),I=0;else break;return Vg.j(p,
v)},Od(Wf(d)),f));return new wN(e,b,null,null,null)}var n=sk(Zi(hk.F(P([e,h]))),Bk.O());d=function(){var p=new wN(n,mf,null,null,null);return FN.j?FN.j(p,a):FN.call(null,p,a)}();return FN.j?FN.j(d,b):FN.call(null,d,b)}throw bm(["Can’t sum relations with different attrs: ",dl.F(P([e]))," and ",dl.F(P([h]))].join(""),new q(null,1,[tp,Fr],null));},GN=function GN(a){switch(arguments.length){case 0:return GN.O();case 2:return GN.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));
}};GN.O=function(){return new wN(W,new X(null,1,5,Z,[[]],null),null,null,null)};GN.j=function(a,b){var c=Zi(Jt.B(a)),d=Zi(Jt.B(b)),e=Sf(Hh.j(Jt.B(a),c)),f=Sf(Hh.j(Jt.B(b),d));return new wN(sk(V.j(c,d),Bk.O()),Qd(w.C(function(h,k){return w.C(function(m,n){return Vg.j(m,EN(k,e,n,f))},h,bu.B(b))},Od(mf),bu.B(a))),null,null,null)};GN.Y=2;var HN=function HN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return HN.F(c)};
HN.F=function(a){var b=M(a);return jh.j(Ih.j(b/2,a),Jh(b/2,a))};HN.Y=0;HN.ba=function(a){return this.F(H(a))};var IN=function IN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new ze(c.slice(2),0,null):null;return IN.F(arguments[0],arguments[1],c)};IN.F=function(a,b,c){return w.C(function(d,e){d=J(IJ(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:Me(new X(null,2,5,Z,[zw.B(d),Gw.B(d)],null))},null,c)};IN.Y=2;
IN.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};var JN=function JN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return JN.F(c)};JN.F=function(a){return w.C(function(b,c){return r(c)?c:Me(c)},!0,a)};JN.Y=0;JN.ba=function(a){return this.F(H(a))};var KN=function KN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return KN.F(c)};
KN.F=function(a){return w.C(function(b,c){return r(c)?Me(c):c},null,a)};KN.Y=0;KN.ba=function(a){return this.F(H(a))};
var LN=Kj([XA,Lv,rs,rx,gr,Vv,mv,vq,dw,kr,jy,Oz,vo,Vq,LB,Lx,Wm,Dx,Ju,Sp,Nr,Dw,yv,qp,ZA,hs,Ir,Uy,TA,vn,co,kw,io,rt,Xm,Oy,zx,ip,Nq,Xv,xs,Am,Yu,Ks,PA,WB,mt,uo,uy,AA,Es,Cs,pp,So,Ms,Py,Un,WA,Qm,ep,qy,Yo,Rv,uB,Xz,zy,ey,tt,Bv,nr,un,Ws,tu],[function(a){return!0===a},JN,function(a){return!rh(a)},function(a,b,c,d){if(null==d)throw bm("get-else: nil default value is not supported",new q(null,1,[tp,Fr],null));a=J(IJ(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:Gw.B(a)},mg,fl,lg,M,IN,tc,$f,Ke,ig,sg,function(a){return!1===
a},wc,$f,HN,Di,Mk,kg,function(a,b){return 0==a.lastIndexOf(b,0)},F,og,dg,Gg,function(a,b,c){return null==C.j(IL(a,b),c)},$f,Hl,sh,vg,dk,Of,Bk,ng,wf,hg,dl,gl,uf,function(a){return 0===a},jh,el,function(a){return a-1},Nk,Di,jh,t,jg,Dg,Fg,gg,xc,function(a){return 0<a},Gl,Ik,Ag,Lf,function(a,b){return sb(a,b)},wg,rg,function(a,b){return-1!=a.indexOf(b)},ek,tg,rh,zc,function(a){return 0>a},qC,kh,KN,function(a,b){return a===b},pk,Jk]),MN=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Hg(null,
function(){for(;;){var m=H(h);if(m){if(Ef(m)){var n=Xd(m),p=M(n),u=Lg(p);a:for(var v=0;;)if(v<p){var y=x(n,v)-e;u.add(y*y);v+=1}else{n=!0;break a}return n?Ng(Pg(u),k(Yd(m))):Ng(Pg(u),null)}u=J(m)-e;return df(u*u,k(Be(m)))}return null}},null,null)}(d)}())/M(d)}function b(d){return c(d)/M(d)}function c(d){return w.C(dg,0,d)}return Kj([cq,vq,mn,op,qp,Xm,Ku,qx,Jx,wo,Ms,pz],[a,M,function(d){var e=Rf(Of,d);d=M(d);var f=d>>1,h=Ye(e,f);return rh(d)?(h+Ye(e,f-1))/2:h},c,function(){function d(h,k){return Wf(w.C(function(m,
n){return M(m)<h?Rf(Of,lf.j(m,n)):0>Of(n,kf(m))?Rf(Of,lf.j(rk(m),n)):m},mf,k))}function e(h){return w.C(function(k,m){return 0>Of(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(){function d(h,k){return Wf(w.C(function(m,n){return M(m)<h?Rf(Of,lf.j(m,n)):0<Of(n,J(m))?Rf(Of,lf.j(K(m),n)):m},mf,k))}function e(h){return w.C(function(k,
m){return 0<Of(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(d){return M(qk(d))},pk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return Wf(Qh(f,function(){return Ye(h,Hl(M(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return Ye(f,Hl(M(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.B=function(f){return Ye(f,Hl(M(f)))};e.j=d;return e}(),function(d,e){return Wf(Ih.j(d,Vf(e)))}])}();function NN(a){a="string"===typeof a?XH(new q(null,3,[ym,z(dI),Xl,z(cI),Cx,null],null),a):a;oN(a);return Il(jf,a)}function ON(a){a=Hh.j(Pw,Wf(qk(hM(mf,a))));return new wN(sk(a,Bk.O()),mf,null,null,null)}
function PN(a,b){if(null!=a&&null!=a.ne)a=a.ne(a,b);else{var c=PN[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=PN._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IBinding.in-\x3erel",a);}return a}yM.prototype.ne=function(){return GN.O()};zM.prototype.ne=function(a,b){return new wN(qf([ai(this,new X(null,2,5,Z,[Zt,Pw],null)),0]),new X(null,1,5,Z,[Gc(new X(null,1,5,Z,[b],null))],null),null,null,null)};
BM.prototype.ne=function(a,b){var c=this;if(gJ(b))return wf(b)?ON(c):w.j(FN,Hh.j(function(d){return PN(c.binding,d)},b));throw bm(["Cannot bind value ",dl.F(P([b]))," to collection ",dl.F(P([eM(c)]))].join(""),new q(null,3,[tp,Hp,Xw,b,ew,eM(c)],null));};
AM.prototype.ne=function(a,b){if(gJ(b)){if(M(b)<M(this.bindings))throw bm(["Not enough elements in a collection ",dl.F(P([b]))," to bind tuple ",dl.F(P([eM(this)]))].join(""),new q(null,3,[tp,Hp,Xw,b,ew,eM(this)],null));return w.j(GN,Hh.C(function(c,d){return PN(c,d)},this.bindings,b))}throw bm(["Cannot bind value ",dl.F(P([b]))," to tuple ",dl.F(P([eM(this)]))].join(""),new q(null,3,[tp,Hp,Xw,b,ew,eM(this)],null));};
function QN(a,b){var c=Q(b,0,null);b=Q(b,1,null);return c instanceof zM&&c.Va instanceof iM?ei.ka(a,Zw,R,ai(c,new X(null,2,5,Z,[Zt,Pw],null)),b):c instanceof zM&&c.Va instanceof kM?R.C(a,Zv,NN(b)):ei.P(a,$v,lf,PN(c,b))}
function RN(a,b,c){var d=M(b),e=M(c);if(d<e)throw bm(["Extra inputs passed, expected: ",dl.F(P([Yh.j(function(f){return en.B(uf(f))},b)])),", got: ",dl.F(P([e]))].join(""),new q(null,3,[tp,To,fm,b,Qw,c],null));if(d>e)throw bm(["Too few inputs passed, expected: ",dl.F(P([Yh.j(function(f){return en.B(uf(f))},b)])),", got: ",dl.F(P([e]))].join(""),new q(null,3,[tp,To,fm,b,Qw,c],null));return w.C(QN,a,sk(b,c))}var SN=null,TN=null;
function UN(a,b){var c=a.B?a.B(b):a.call(null,b);return Lf(SN,b)?function(d){d=d[c];return"number"===typeof d?d:zf(d)?kK(TN,d):lI(d)?kK(TN,d):d}:function(d){return d[c]}}function VN(a){if(1===M(a))return J(a);var b=Sf(a);return function(c){return H(b.map(function(d){return d.B?d.B(c):d.call(null,c)}))}}function WN(a,b){for(var c=Od(W);;){var d=J(b);if(null==d)return Qd(c);var e=a.B?a.B(d):a.call(null,d);b=K(b);c=Xg.C(c,e,lf.j(C.C(c,e,Ce),d))}}
function XN(a,b){var c=bu.B(a),d=bu.B(b),e=Jt.B(a),f=Jt.B(b);a=Wf(xN(Jt.B(a),Jt.B(b)));var h=Hh.j(function(v){return UN(e,v)},a),k=Hh.j(function(v){return UN(f,v)},a);a=Zi(e);b=Wf(hI.j(pk(Zi(f)),pk(Zi(e))));var m=Sf(Hh.j(e,a)),n=Sf(Hh.j(f,b));h=VN(h);var p=WN(h,c),u=VN(k);c=Qd(w.C(function(v,y){var E=u.B?u.B(y):u.call(null,y);E=C.j(p,E);return null==E?v:w.C(function(G,I){return Vg.j(G,EN(I,m,y,n))},v,E)},Od(mf),d));return new wN(sk(V.j(a,b),Bk.O()),c,null,null,null)}
function YN(a,b){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,Jt);c=C.j(c,bu);b=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;var e=C.j(b,Jt);b=C.j(b,bu);var f=xN(d,e),h=Hh.j(function(n){return UN(e,n)},f);h=VN(h);var k=WN(h,b);b=Hh.j(function(n){return UN(d,n)},f);var m=VN(b);return R.C(a,bu,Zh(function(n){n=m.B?m.B(n):m.call(null,n);return null==(k.B?k.B(n):k.call(null,n))},c))}
function ZN(a,b){var c=Yh.j(function(d){return d instanceof B?null:d},b);a=IJ(a,c);b=Xh.j(W,Vh(function(d){var e=Q(d,0,null);Q(d,1,null);return BN(e)},Hh.C(Di,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new wN(b,a,null,null,null)}
function $N(a,b){a=Vh(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=J(d);var h=J(e);if(h instanceof B||F.j(f,h))d=K(d),e=K(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=Xh.j(W,Vh(function(d){var e=Q(d,0,null);Q(d,1,null);return BN(e)},Hh.C(Di,b,Bk.O())));return new wN(c,Yh.j(Sf,a),null,null,null)}function aO(a,b){return(null!=a?l===a.ki||(a.rd?0:yc(HJ,a)):yc(HJ,a))?ZN(a,b):$N(a,b)}
function bO(a,b){for(var c=mf;;){var d=J(a);if(null==d)return lf.j(c,b);r(kh(xN(Jt.B(b),Jt.B(d))))?(a=K(a),b=XN(d,b)):(a=K(a),c=lf.j(c,d))}}function cO(a,b){return qh(function(c){return Lf(Jt.B(c),b)?c:null},$v.B(a))}function dO(a,b){var c=cO(a,b);if(null==c)return null;a=J(bu.B(c));null==a?b=null:(c=Jt.B(c),b=c.B?c.B(b):c.call(null,b),b=a[b]);return b}function eO(a,b){return qh(function(c){return Lf(Jt.B(a),c)},b)}
function fO(a,b){var c=Vh(function(e){return eO(e,b)},$v.B(a)),d=w.j(GN,c);return new X(null,2,5,Z,[ei.C(a,$v,function(e){return Wh(pk(c),e)}),d],null)}
function gO(a,b,c,d){a=Zw.B(a);b=Jt.B(b);for(var e=M(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=Ye(d,k);if(m instanceof B){var n=C.j(a,m);null==n?h[k]=C.j(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Di?function(p){for(var u=f.slice(0),v=0;;)if(v<e){var y=h[v];null!=y&&(u[v]=p[y]);v+=1}else break;return dh(c,u)}:function(p){for(var u=0;;)if(u<e){var v=h[u];null!=v&&(f[u]=p[v]);u+=1}else break;return dh(c,f)}}
function hO(a,b){var c=Q(b,0,null);c=H(c);var d=J(c),e=K(c),f=function(){var m=C.j(LN,d);if(r(m))return m;m=dO(a,d);if(r(m))return m;if(r(null))return null;if(null==cO(a,d))throw bm(["Unknown predicate '",dl.F(P([d]))," in ",dl.F(P([b]))].join(""),new q(null,3,[tp,Fr,ht,b,ou,d],null));return null}();c=fO(a,Vh(qe,e));var h=Q(c,0,null),k=Q(c,1,null);c=r(f)?function(){var m=gO(h,k,f,e);return ei.C(k,bu,function(n){return Vh(m,n)})}():R.C(k,bu,mf);return ei.P(h,$v,lf,c)}
function iO(a,b){var c=Q(b,0,null);c=H(c);var d=J(c),e=K(c);c=Q(b,1,null);var f=EM(c),h=function(){var n=C.j(LN,d);if(r(n))return n;n=dO(a,d);if(r(n))return n;if(r(null))return null;if(null==cO(a,d))throw bm(["Unknown function '",dl.F(P([d]))," in ",dl.F(P([b]))].join(""),new q(null,3,[tp,Fr,ht,b,ou,d],null));return null}();c=fO(a,Vh(qe,e));var k=Q(c,0,null),m=Q(c,1,null);c=r(h)?function(){var n=gO(k,m,h,e),p=function(){return function y(v){return new Hg(null,function(){for(var E=v;;)if(E=H(E)){if(Ef(E)){var G=
Xd(E),I=M(G),N=Lg(I);a:for(var O=0;;)if(O<I){var U=x(G,O),ea=n(U);null!=ea&&(U=GN.j(new wN(Jt.B(m),new X(null,1,5,Z,[U],null),null,null,null),PN(f,ea)),N.add(U));O+=1}else{G=!0;break a}return G?Ng(Pg(N),y(Yd(E))):Ng(Pg(N),null)}N=J(E);G=n(N);if(null!=G)return df(GN.j(new wN(Jt.B(m),new X(null,1,5,Z,[N],null),null,null,null),PN(f,G)),y(Be(E)));E=Be(E)}else return null},null,null)}(bu.B(m))}();return wf(p)?GN.j(m,ON(f)):w.j(FN,p)}():GN.j(R.C(m,bu,mf),ON(f));return ei.P(k,$v,bO,c)}
function jO(a,b){if(zf(b)){var c=AN(J(b))?hf(b):J(b);if(c instanceof B){if(BN(c)||Lf(new mk(null,new q(null,6,[Lv,null,Lx,null,Dq,null,lp,null,nr,null,fq,null],null),null),c))return!1;if(Lf(Zv.B(a),c))return!0;throw bm(["Unknown rule '",dl.F(P([c]))," in ",dl.F(P([b]))].join(""),new q(null,2,[tp,Fr,ht,b],null));}}return!1}var kO=zh(0);
function lO(a,b){var c=H(a),d=J(c),e=K(c),f=Bh.j(kO,Ke),h=C.j(Zv.B(b),d);return function n(m){return new Hg(null,function(){for(;;){var p=H(m);if(p){var u=p;if(Ef(u)){var v=Xd(u),y=M(v),E=Lg(y);return function(){for(var wa=0;;)if(wa<y){var Ba=x(v,wa),Xa=Ba,$b=H(Xa),yb=J($b),fc=K($b),Xb=yb,Td=H(Xb),eg=J(Td),Cf=K(Td),Wg=eg,Zc=Cf,Ed=fc,ve=sk(Zc,e);Og(E,hC(function(fg,Fd,we,Gd,pq,Xq,Bo,Yq,rj,Co,gz,Zq,Do,hz,$q,ar,sj,br,cr,Eo,hu,lm,tj,Kk,iu,mm){return function(fh){if(BN(fh)){var iz=Do.B?Do.B(fh):Do.call(null,
fh);return null==iz?te.B([Gg(fh),"__auto__",t.B(mm)].join("")):iz}return fh}}(wa,Xa,$b,yb,fc,Xb,Td,eg,Cf,Wg,Zc,Ed,ve,Ba,v,y,E,u,p,a,c,d,e,d,e,f,h),Ed));wa+=1}else return!0}()?Ng(Pg(E),n(Yd(u))):Ng(Pg(E),null)}var G=J(u),I=G,N=H(I),O=J(N),U=K(N),ea=O,fa=H(ea),qa=J(fa),ya=K(fa),Sa=qa,ka=ya,oa=U,Ca=sk(ka,e);return df(hC(function(wa,Ba,Xa,$b,yb,fc,Xb,Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,we,Gd,pq,Xq,Bo,Yq){return function(rj){if(BN(rj)){var Co=Zc.B?Zc.B(rj):Zc.call(null,rj);return null==Co?te.B([Gg(rj),"__auto__",
t.B(Yq)].join("")):Co}return rj}}(I,N,O,U,ea,fa,qa,ya,Sa,ka,oa,Ca,G,u,p,a,c,d,e,d,e,f,h),oa),n(Be(u)))}return null}},null,null)}(h)}function mO(a,b){a=Wh(function(c){var d=Q(c,0,null);c=Q(c,1,null);return F.j(d,c)},Hh.C(Di,a,b));return new X(null,2,5,Z,[Hh.j(J,a),Hh.j(hf,a)],null)}
function nO(a,b){a=H(a);var c=J(a),d=K(a);return function h(f){return new Hg(null,function(){for(;;){var k=H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),y=mO(d,v);v=Q(y,0,null);y=Q(y,1,null);v=new X(null,1,5,Z,[V.F(new X(null,1,5,Z,[Dx],null),v,P([y]))],null);p.add(v);u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}p=J(k);m=mO(d,p);p=Q(m,0,null);m=Q(m,1,null);return df(new X(null,1,5,Z,[V.F(new X(null,1,5,Z,[Dx],null),p,P([m]))],null),h(Be(k)))}return null}},
null,null)}(C.j(b,c))}function oO(a){var b=zh(mf);hC(function(c){r(BN.B?BN.B(c):BN.call(null,c))&&Bh.C(b,lf,c);return c},a);return z(b)}function pO(a,b){function c(e){e=Q(e,0,null);e=H(e);J(e);e=K(e);return ph(d,e)}var d=pk(oO(a));return new X(null,2,5,Z,[Vh(c,b),Wh(c,b)],null)}
function qO(a,b){function c(fc){return qh(function(Xb){return wf(bu.B(Xb))},$v.B(fc))}function d(fc,Xb){return w.C(rO,fc,Xb)}for(var e=Vh(BN,b),f=sk(e,Bk.O()),h=new nf(null,new q(null,5,[Io,mf,$z,a,Ny,new X(null,1,5,Z,[b],null),Wx,W,Fy,W],null),null,1,null),k=new wN(f,mf,null,null,null);;){var m=J(h);if(null==m)return k;var n=m,p=Dk(function(){return function(fc){return!jO(a,fc)}}(h,k,n,m,e,f,d,c),Ny.B(n)),u=Q(p,0,null),v=Q(p,1,null),y=H(v),E=J(y),G=K(y),I=E,N=G;if(null==I){b=d($z.B(n),u);b=sO?sO(b,
e):tO.call(null,b,e);var O=new wN(f,b,null,null,null);b=K(h);O=FN(k,O);h=b;k=O}else{var U=I,ea=H(U),fa=J(ea),qa=K(ea),ya=fa,Sa=qa,ka=nO(I,Wx.B(n)),oa=pO(V.j(Io.B(n),u),V.j(ka,Fy.B(n))),Ca=Q(oa,0,null),wa=Q(oa,1,null);if(r(qh(function(){return function(fc){return F.j(fc,new X(null,1,5,Z,[Ag(Dx)],null))}}(h,k,U,ea,fa,qa,ya,Sa,ka,oa,Ca,wa,p,u,v,y,E,G,I,N,n,m,e,f,d,c),Ca)))b=K(h),O=k,h=b,k=O;else{var Ba=V.j(u,Ca),Xa=d($z.B(n),Ba);if(r(c(Xa)))b=K(h),O=k,h=b,k=O;else{var $b=R.C(Wx.B(n),ya,lf.j(C.C(Wx.B(n),
ya,mf),Sa)),yb=lO(I,a);b=V.j(function(){return function(fc,Xb,Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,we,Gd,pq,Xq,Bo,Yq,rj,Co,gz,Zq,Do,hz,$q,ar,sj,br,cr,Eo,hu){return function Kk(tj){return new Hg(null,function(iu,mm,fh,iz,vH,wH,rX,sX,tX,uX,vX,wX,xX,yX,zX,xH,AX,BX,CX,DX,EX,FX,GX,yH){return function(){for(;;){var Fo=H(tj);if(Fo){if(Ef(Fo)){var ku=Xd(Fo),zH=M(ku),er=Lg(zH);a:for(var jz=0;;)if(jz<zH){var kz=x(ku,jz);kz=new q(null,5,[Io,vH,$z,wH,Ny,Xh.C(mf,vl,P([kz,yH])),Wx,fh,Fy,xH],null);er.add(kz);jz+=1}else{ku=
!0;break a}return ku?Ng(Pg(er),Kk(Yd(Fo))):Ng(Pg(er),null)}er=J(Fo);return df(new q(null,5,[Io,vH,$z,wH,Ny,Xh.C(mf,vl,P([er,yH])),Wx,fh,Fy,xH],null),Kk(Be(Fo)))}return null}}}(fc,Xb,Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,we,Gd,pq,Xq,Bo,Yq,rj,Co,gz,Zq,Do,hz,$q,ar,sj,br,cr,Eo,hu),null,null)}}(h,k,$b,yb,Ba,Xa,U,ea,fa,qa,ya,Sa,ka,oa,Ca,wa,p,u,v,y,E,G,I,N,n,m,e,f,d,c)(yb)}(),K(h));O=k;h=b;k=O}}}}}
function uO(a,b){if(null!=a?l===a.Ng||(a.rd?0:yc(LJ,a)):yc(LJ,a)){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null),f=Q(b,3,null);return Ii(new X(null,4,5,Z,[r(function(){var h=DN(c);return r(h)?h:CN(c)}())?hK(a,c):c,d,r(function(){if(r(e)){if(CN(d)&&gK(a,d)){var h=DN(e);return r(h)?h:CN(e)}return!1}return e}())?hK(a,e):e,r(DN(f))?hK(a,f):f],null),0,M(b))}return b}
function vO(a,b){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null);b=Q(b,3,null);c=BN(c)?lf.j(ok,c):ok;c=BN(b)?lf.j(c,b):c;return BN(e)&&!BN(d)&&gK(a,d)?lf.j(c,e):c}function wO(a,b){return R.C(a,$v,xh(function(c){var d=kh(jk(Jt.B(c),b));return null==d?null:R.C(c,Jt,d)},$v.B(a)))}function xO(a){return Xh.j(ok,Th(function(b){return Zi(Jt.B(b))},P([$v.B(a)])))}
function yO(a,b,c){if(iI(b,a))return null;a=hI.j(pk(b),a);throw bm(["Insufficient bindings: ",dl.F(P([a]))," not bound in ",dl.F(P([c]))].join(""),new q(null,3,[tp,Fr,ht,c,es,a],null));}function zO(a,b,c){b=Yh.j(function(d){return hI.j(pk(oO(d)),a)},b);if(r(dh(F,b)))return null;throw bm(["All clauses in 'or' must use same set of free vars, had ",dl.F(P([b]))," in ",dl.F(P([c]))].join(""),new q(null,3,[tp,Fr,ht,c,es,b],null));}
function AO(a,b,c){for(var d=pk(Wh(a,b)),e=H(c),f=null,h=0,k=0;;)if(k<h){c=f.xa(null,k);var m=kh(hI.j(d,pk(oO(c))));if(null!=m)throw e=m,Rk(al(P([c,a,b,d]),mc())),r(ic)&&cl(),bm(["All clauses in 'or' must use same set of free vars, had ",dl.F(P([e]))," not bound in ",dl.F(P([c]))].join(""),new q(null,3,[tp,Fr,ht,c,es,e],null));k+=1}else if(c=H(e)){e=c;if(Ef(e))f=Xd(e),e=Yd(e),c=f,h=M(f),f=c;else{c=J(e);f=kh(hI.j(d,pk(oO(c))));if(null!=f)throw e=f,Rk(al(P([c,a,b,d]),mc())),r(ic)&&cl(),bm(["All clauses in 'or' must use same set of free vars, had ",
dl.F(P([e]))," not bound in ",dl.F(P([c]))].join(""),new q(null,3,[tp,Fr,ht,c,es,e],null));e=K(e);f=null;h=0}k=0}else return null}var rO=function rO(a){switch(arguments.length){case 2:return rO.j(arguments[0],arguments[1]);case 3:return rO.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};rO.j=function(a,b){return rO.C(a,b,b)};
rO.C=function(a,b,c){for(;;){var d=zN,e=b;if(r(function(){var O=new X(null,1,5,Z,[new X(null,2,5,Z,[qe,zx],null)],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return yO(xO(a),Vh(BN,K(J(b))),b),hO(a,b);if(r(function(){var O=new X(null,2,5,Z,[new X(null,2,5,Z,[qe,zx],null),fq],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return yO(xO(a),Vh(BN,K(J(b))),b),iO(a,b);if(r(function(){var O=new X(null,2,5,Z,[AN,zx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var f=H(b);c=J(f);f=K(f);var h=
TN;TN=C.j(Zw.B(a),c);try{return rO.C(a,f,b)}finally{TN=h}}else{if(r(function(){var O=new X(null,2,5,Z,[nr,zx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var k=b,m=H(k),n=J(m),p=K(m);f=n;h=p;var u=zO(xO(a),h,b),v=Hh.j(function(O){return function(U){return BO.j?BO.j(O,U):BO.call(null,O,U)}}(a,b,c,k,m,n,p,f,h,u,d,e),h);b=Hh.j(function(){return function(O){return w.j(XN,$v.B(O))}}(a,b,c,k,m,n,p,f,h,u,v,d,e),v);return R.C(J(v),$v,new X(null,1,5,Z,[w.j(FN,b)],null))}if(r(function(){var O=new X(null,
3,5,Z,[lp,new X(null,2,5,Z,[new X(null,1,5,Z,[zx],null),zx],null),zx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){h=H(b);f=J(h);h=K(h);k=J(h);f=K(h);k=H(k);h=J(k);k=K(k);u=h;h=f;f=xO(a);yO(f,u,c);AO(f,k,h);c=Sg(lp,V.j(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var O=new X(null,3,5,Z,[lp,new X(null,1,5,Z,[zx],null),zx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){n=b;p=H(n);var y=J(p),E=K(p);f=y;var G=J(E),I=K(E);k=G;h=I;var N=pk(k);u=AO(xO(a),N,h);m=wO(a,N);v=Hh.j(function(O,
U,ea,fa,qa,ya,Sa,ka,oa,Ca,wa,Ba,Xa,$b,yb){return function(fc){return wO(BO.j?BO.j(yb,fc):BO.call(null,yb,fc),Xa)}}(a,b,c,n,p,y,E,f,G,I,k,h,N,u,m,d,e),h);b=Hh.j(function(){return function(O){return w.j(XN,$v.B(O))}}(a,b,c,n,p,y,E,f,G,I,k,h,N,u,m,v,d,e),v);b=w.j(FN,b);return ei.P(a,$v,bO,b)}if(r(function(){var O=new X(null,2,5,Z,[Lv,zx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return c=H(b),b=J(c),c=K(c),f=b,b=c,w.C(BO,a,b);if(r(function(){var O=new X(null,2,5,Z,[Lx,zx],null),U=e;return d.j?
d.j(O,U):d.call(null,O,U)}())){f=H(b);b=J(f);h=K(f);f=b;b=h;f=xO(a);h=pk(oO(b));if(wf(gI.j(f,h)))throw bm(["Insufficient bindings: none of ",dl.F(P([h]))," is bound in ",dl.F(P([c]))].join(""),new q(null,2,[tp,Fr,ht,c],null));u=null;a=R.C(a,$v,new X(null,1,5,Z,[w.j(XN,$v.B(a))],null));b=w.C(BO,a,b);b=YN(J($v.B(a)),w.j(XN,$v.B(b)));return R.C(a,$v,new X(null,1,5,Z,[b],null))}if(r(function(){var O=new X(null,3,5,Z,[Dq,new X(null,1,5,Z,[zx],null),zx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return b=
H(b),f=J(b),b=K(b),f=J(b),b=K(b),k=f,f=xO(a),u=yO(f,k,c),a=R.C(a,$v,new X(null,1,5,Z,[w.j(XN,$v.B(a))],null)),m=wO(a,k),b=wO(w.C(BO,m,b),k),b=YN(J($v.B(a)),w.j(XN,$v.B(b))),R.C(a,$v,new X(null,1,5,Z,[b],null));if(r(function(){var O=new X(null,1,5,Z,[zx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){c=TN;b=uO(c,b);f=aO(c,b);h=SN;SN=(null!=c?l===c.Ng||(c.rd?0:yc(LJ,c)):yc(LJ,c))?vO(c,b):SN;try{return ei.P(a,$v,bO,f)}finally{SN=h}}else throw Error(["No matching clause: ",t.B(e)].join(""));}}break}};
rO.Y=3;var BO=function BO(a,b){if(jO(a,b))if(AN(J(b))){var d=TN;TN=C.j(Zw.B(a),J(b));try{var e=K(b);return BO.j?BO.j(a,e):BO.call(null,a,e)}finally{TN=d}}else return ei.P(a,$v,bO,qO(a,b));else return rO.j(a,b)};function CO(a,b){var c=TN;TN=C.j(Zw.B(a),Gp);try{return w.C(BO,a,b)}finally{TN=c}}
function tO(a){switch(arguments.length){case 2:return sO(arguments[0],arguments[1]);case 3:return DO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function sO(a,b){a=$v.B(a);return DO(new X(null,1,5,Z,[Array(M(b))],null),a,b)}
function DO(a,b,c){for(;;){var d=J(b);if(null==d)return a;var e=d,f=jk(Jt.B(e),c);if(wf(f)){var h=a,k=K(b),m=c;a=h;b=k;c=m}else{var n=Sf(Hh.j(function(u,v,y,E){return function(G){return C.j(E,G)}}(a,b,c,f,e,d),c)),p=M(c);h=function(){return function(u,v,y,E,G,I,N,O){return function fa(ea){return new Hg(null,function(qa,ya,Sa,ka,oa,Ca,wa,Ba){return function(){for(var Xa=ea;;){var $b=H(Xa);if($b){var yb=$b,fc=J(yb);if($b=H(function(Xb,Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,we,Gd){return function Bo(Xq){return new Hg(null,
function(Yq,rj,Co,gz,Zq,Do,hz,$q,ar){return function(){for(;;){var sj=H(Xq);if(sj){if(Ef(sj)){var br=Xd(sj),cr=M(br),Eo=Lg(cr);return function(){for(var lm=0;;)if(lm<cr){for(var tj=x(br,lm),Kk=Eo,iu=Fc(Zq),mm=0;;)if(mm<ar){var fh=$q[mm];null!=fh&&(iu[mm]=tj[fh]);mm+=1}else break;Kk.add(iu);lm+=1}else return!0}()?Ng(Pg(Eo),Bo(Yd(sj))):Ng(Pg(Eo),null)}var hu=J(sj);return df(function(){for(var lm=Fc(Zq),tj=0;;)if(tj<ar){var Kk=$q[tj];null!=Kk&&(lm[tj]=hu[Kk]);tj+=1}else break;return lm}(),Bo(Be(sj)))}return null}}}(Xb,
Td,eg,Cf,Wg,Zc,Ed,ve,fg,Fd,we,Gd),null,null)}}(Xa,qa,ya,Sa,fc,yb,$b,ka,oa,Ca,wa,Ba)(bu.B(wa))))return V.j($b,fa(Be(Xa)));Xa=Be(Xa)}else return null}}}(u,v,y,E,G,I,N,O),null,null)}}(a,b,c,n,p,f,e,d)(a)}();k=K(b);m=c;a=h;b=k;c=m}}}function EO(a,b){return pk(Hh.j(Wf,sO(a,b)))}
function FO(a,b){if(null!=a&&null!=a.oe)a=a.oe(a,b);else{var c=FO[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=FO._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IContextResolve.-context-resolve",a);}return a}gM.prototype.oe=function(a,b){return dO(b,this.symbol)};iM.prototype.oe=function(a,b){return ai(b,new X(null,2,5,Z,[Zw,this.symbol],null))};mM.prototype.oe=function(){var a=C.j(MN,this.symbol);return r(a)?a:null};lM.prototype.oe=function(){return this.value};
function GO(a,b,c){return Yh.P(function(d,e,f){if(OM(d)){e=FO(fA.B(d),b);d=Hh.j(function(k){return FO(k,b)},rk(gA.B(d)));var h=Hh.j(function(k){return Ye(k,f)},c);return dh(e,V.j(d,new X(null,1,5,Z,[h],null)))}return e},a,J(c),Bk.O())}function HO(a){var b=sh(OM);return Wh(tc,Hh.C(function(c,d){return r(b.B?b.B(c):b.call(null,c))?d:null},a,Bk.O()))}
function IO(a,b,c){var d=HO(a);return function h(f){return new Hg(null,function(){for(;;){var k=H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u);Q(v,0,null);v=Q(v,1,null);v=GO(a,b,v);p.add(v);u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}p=J(k);Q(p,0,null);p=Q(p,1,null);return df(GO(a,b,p),h(Be(k)))}return null}},null,null)}(Il(function(f){return Hh.j(function(h){return Ye(f,h)},d)},c))}
function JO(a,b){return w.C(function(c,d){return lf.j(c,a.B?a.B(d):a.call(null,d))},of(b),b)}function KO(a,b){var c=Yx.B(a),d=Bk.j(0,M(c));return JO(function(e){return w.C(function(f,h){return R.C(f,Ye(c,h),Ye(e,h))},W,d)},b)}function LO(a,b,c){if(null!=a&&null!=a.pe)a=a.pe(a,b,c);else{var d=LO[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=LO._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IPostProcess.-post-process",a);}return a}
KM.prototype.pe=function(a,b,c){return null==b?c:KO(b,c)};LM.prototype.pe=function(a,b,c){return Xh.C(mf,Hh.B(J),c)};MM.prototype.pe=function(a,b,c){return jf(c)};NM.prototype.pe=function(a,b,c){return null!=b?J(KO(b,new X(null,1,5,Z,[J(c)],null))):J(c)};
function MO(a,b,c){var d=function(){return function h(f){return new Hg(null,function(){for(;;){var k=H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u);v=PM(v)?new X(null,2,5,Z,[FO(en.B(v),b),hL(FO(mA.B(v),b))],null):null;p.add(v);u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}p=J(k);return df(PM(p)?new X(null,2,5,Z,[FO(en.B(p),b),hL(FO(mA.B(p),b))],null):null,h(Be(k)))}return null}},null,null)}(a)}();return function h(f){return new Hg(null,function(){for(;;){var k=
H(f);if(k){var m=k;if(Ef(m)){var n=Xd(m),p=M(n),u=Lg(p);return function(){for(var y=0;;)if(y<p){var E=x(n,y);Og(u,Yh.C(function(){return function(G,I){if(r(G)){var N=Q(G,0,null);G=Q(G,1,null);return DL(N,G,new X(null,1,5,Z,[I],null))}return I}}(y,E,n,p,u,m,k,d),d,E));y+=1}else return!0}()?Ng(Pg(u),h(Yd(m))):Ng(Pg(u),null)}var v=J(m);return df(Yh.C(function(){return function(y,E){if(r(y)){var G=Q(y,0,null);y=Q(y,1,null);return DL(G,y,new X(null,1,5,Z,[E],null))}return E}}(v,m,k,d),d,v),h(Be(m)))}return null}},
null,null)}(c)}var NO=new Dh(GL(W,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;a:for(b=H(b),d=ck;;)if(b)c=K(K(b)),d=R.C(d,J(b),hf(b)),b=c;else break a;return d}(),W,0,100));function OO(a){var b=C.C(z(NO),a,null);return null==b?(b=uN(a),NO.fe(null,R.C(NO.ub(null),a,b)),b):b}
function nE(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ze(b.slice(1),0,null):null;return PO(arguments[0],b)}function PO(a,b){var c=OO(a),d=zq.B(c),e=JM(d),f=Th(GM,P([JM(d)])),h=M(e),k=kA.B(c);f=V.j(f,Hh.j(Pw,k));a=zf(a)?rN(a):a;k=hp.B(a);b=RN(new vN(mf,W,W,null,null,null),sy.B(c),b);f=EO(CO(b,k),f);f=r(hB.B(a))?Yh.j(function(m){return Wf(Ii(m,0,h))},f):f;f=r(qh(OM,e))?IO(e,b,f):f;e=r(qh(PM,e))?MO(e,b,f):f;return LO(d,uw.B(c),e)};function QO(a,b){var c=zh(null);Bh.j(a,function(d){var e=EK;d=new q(null,5,[bo,d,wu,d,Wr,mf,dC,W,Ho,null],null);var f=S.F(d,bo,P([wu,Wr,dC,Ho]));f=Bf(d)?Xh.j(W,f):f;d=new iK(bo.B(d),wu.B(d),Wr.B(d),dC.B(d),Ho.B(d),null,kh(f),null);e=e(d,b);Ah(c,e);return wu.B(e)});return z(c)}
function RO(a){var b=mE;a=QO(b,a);b=cu.B(uf(b));b=null==b?null:z(b);b=H(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Q(f,0,null);f=Q(f,1,null);f.B?f.B(a):f.call(null,a);e+=1}else if(b=H(b))Ef(b)?(d=Xd(b),b=Yd(b),c=d,d=M(d)):(c=J(b),Q(c,0,null),c=Q(c,1,null),c.B?c.B(a):c.call(null,a),b=K(b),c=null,d=0),e=0;else break;return a}function SO(a){var b=mE,c=Gl.O();Bh.P(cu.B(uf(b)),R,c,a)}
for(var TO=H(new q(null,2,[ct,function(a){return dh(cJ,a)},Av,function(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,Vr);b=C.j(b,Hq);return cK(Hh.j(function(c){var d=Q(c,0,null),e=Q(c,1,null),f=Q(c,2,null);c=Q(c,3,null);return cJ.P(d,e,f,c)},b),a)}],null)),UO=null,VO=0,WO=0;;)if(WO<VO){var XO=UO.xa(null,WO),YO=Q(XO,0,null),ZO=Q(XO,1,null),$O=YO,aP=ZO;C.j(z(dI),$O);Bh.P(dI,R,$O,aP);WO+=1}else{var bP=H(TO);if(bP){var cP=bP;if(Ef(cP)){var dP=Xd(cP),eP=Yd(cP),fP=dP,gP=M(dP);TO=eP;UO=fP;VO=gP}else{var hP=
J(cP),iP=Q(hP,0,null),jP=Q(hP,1,null),kP=iP,lP=jP;C.j(z(dI),kP);Bh.P(dI,R,kP,lP);TO=K(cP);UO=null;VO=0}WO=0}else break};var mE,mP=new q(null,3,[MB,new q(null,1,[Bm,$y],null),Ix,new q(null,2,[IA,Cz,eu,iy],null),Pp,new q(null,2,[IA,Cz,eu,eB],null)],null),nP=TJ?TJ(mP):UJ.call(null,mP),oP=P([pc,new q(null,1,[cu,zh(W)],null)]),pP=null!=oP&&(oP.J&64||l===oP.qa)?dh(dk,oP):oP,qP=C.j(pP,pc),rP=C.j(pP,nt);mE=new yh(nP,qP,rP);function sP(a){return RO(new X(null,1,5,Z,[new X(null,2,5,Z,[Qp,a],null)],null))};OC(MB,yo,function(a){return"string"==typeof a});OC(Os,new mk(null,new q(null,4,[bq,"null",qo,"null",Uu,"null",Fq,"null"],null),null),new mk(null,new q(null,4,[bq,null,qo,null,Uu,null,Fq,null],null),null));
OC(Lq,Ag(Ev,cx,new X(null,2,5,Z,[MB,Os],null)),function tP(a){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,BB),e=C.j(c,Ds),f=C.j(c,Ko),h=C.j(c,Vu),k=C.j(c,aw),m=C.j(c,vv),n=C.j(c,uA),p=C.j(c,mx),u=C.j(c,cx),v=C.j(c,aB),y=C.j(c,Wv),E=C.j(c,Fu),G=sk(V.j(v,n),V.j(p,y)),I=$l();if("undefined"===typeof cc||"undefined"===typeof iC||"undefined"===typeof rC||"undefined"===typeof sC)sC=function(N,O,U,ea,fa,qa,ya,Sa,ka,oa,Ca,wa,Ba,Xa,$b,yb,fc,Xb,Td){this.Ze=N;this.Vi=O;this.jj=U;this.Yi=ea;this.Dd=fa;
this.aj=qa;this.$e=ya;this.wg=Sa;this.Wi=ka;this.ij=oa;this.req=Ca;this.Zi=wa;this.id=Ba;this.hj=Xa;this.Xi=$b;this.xi=yb;this.ti=fc;this.bj=Xb;this.Di=Td;this.J=393216;this.T=0},sC.prototype.fa=function(N,O){return new sC(this.Ze,this.Vi,this.jj,this.Yi,this.Dd,this.aj,this.$e,this.wg,this.Wi,this.ij,this.req,this.Zi,this.id,this.hj,this.Xi,this.xi,this.ti,this.bj,O)},sC.prototype.ea=function(){return this.Di},sC.prototype.sd=function(){return this},sC.prototype.td=function(){return this},sC.prototype.Qe=
l,sC.prototype.ie=function(N,O){if(r(this.$e.B?this.$e.B(O):this.$e.call(null,O))){N=z(yC);var U=H(O),ea=J(U);K(U);Q(ea,0,null);Q(ea,1,null);for(ea=U=O;;){O=U;var fa=ea;ea=H(fa);U=J(ea);var qa=K(ea);ea=U;U=Q(ea,0,null);ea=Q(ea,1,null);if(r(fa))if(fa=this.Ze.B?this.Ze.B(U):this.Ze.call(null,U),fa=C.j(N,fa),r(fa)){var ya=ea;fa=wC(MC.B(fa),ya);if(T(xt,fa))return xt;O=fa===ea?O:R.C(O,U,fa);ea=qa;U=O}else ea=qa,U=O;else return O}}else return xt},sC.prototype.je=function(N,O){N=R.C(this.wg,Vu,O);return tP.B?
tP.B(N):tP.call(null,N)},sC.rb=!0,sC.kb="cljs.spec.alpha/t_cljs$spec$alpha22634",sC.vb=function(N){return A(N,"cljs.spec.alpha/t_cljs$spec$alpha22634")};return new sC(function(N){var O=G.B?G.B(N):G.call(null,N);return r(O)?O:N},d,e,f,h,k,m,c,n,p,u,a,I,v,y,c,G,E,W)}(Kj([Ds,Ko,Vu,aw,vv,uA,mx,cx,aB,Wv,Fu,BB],[null,null,null,new X(null,3,5,Z,[function(a){return Af(a)},function(a){return Lf(a,MB)},function(a){return Lf(a,Os)}],null),function(a){return Af(a)&&Lf(a,MB)&&Lf(a,Os)},mf,new X(null,2,5,Z,[MB,
Os],null),new X(null,2,5,Z,[MB,Os],null),new X(null,2,5,Z,[MB,Os],null),mf,new X(null,3,5,Z,[Ag(ln,new X(null,1,5,Z,[gt],null),Ag(Kr,gt)),Ag(ln,new X(null,1,5,Z,[gt],null),Ag(Rw,gt,MB)),Ag(ln,new X(null,1,5,Z,[gt],null),Ag(Rw,gt,Os))],null),null])));OC(sv,Ag(Rq,Lq),TC(Lq,Lq,new q(null,4,[Bn,null,as,function(a){return xf(a)},ZB,!0,oz,Ag(Rq,Lq)],null),null));var uP={},vP,wP,xP,yP={};function zP(a,b){if(null!=a&&null!=a.Hf)a=a.Hf(a,b);else{var c=zP[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=zP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ReadPort.take!",a);}return a}function AP(a,b,c){if(null!=a&&null!=a.Pe)a=a.Pe(a,b,c);else{var d=AP[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=AP._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("WritePort.put!",a);}return a}
function BP(a){if(null!=a&&null!=a.ge)a=a.ge(a);else{var b=BP[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=BP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Channel.close!",a);}return a}function CP(a){if(null!=a&&null!=a.$b)a=a.$b(a);else{var b=CP[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=CP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Handler.active?",a);}return a}
function DP(a){if(null!=a&&null!=a.Sb)a=a.Sb(a);else{var b=DP[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=DP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Handler.commit",a);}return a}function EP(a,b){if(null!=a&&null!=a.Gf)a=a.Gf(a,b);else{var c=EP[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=EP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Buffer.add!*",a);}return a}
var FP=function FP(a){switch(arguments.length){case 1:return FP.B(arguments[0]);case 2:return FP.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};FP.B=function(a){return a};FP.j=function(a,b){return EP(a,b)};FP.Y=2;function GP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function HP(a){this.length=this.tail=this.head=0;this.K=a}g=HP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.K[this.tail];this.K[this.tail]=null;this.tail=(this.tail+1)%this.K.length;--this.length;return a};g.unshift=function(a){this.K[this.head]=a;this.head=(this.head+1)%this.K.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.K.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.K.length);return this.tail<this.head?(GP(this.K,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.K=a):this.tail>this.head?(GP(this.K,this.tail,a,0,this.K.length-this.tail),GP(this.K,0,a,this.K.length-this.tail,this.head),this.tail=0,this.head=this.length,this.K=a):this.tail===this.head?(this.head=this.tail=0,this.K=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.B?a.B(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function IP(a){return new HP(Array(a))}function JP(a,b){this.buf=a;this.n=b;this.J=2;this.T=0}JP.prototype.Oe=function(){return this.buf.length>=this.n};JP.prototype.Gf=function(a,b){this.buf.unbounded_unshift(b);return this};JP.prototype.ja=function(){return this.buf.length};function KP(a,b){this.buf=a;this.n=b;this.J=2;this.T=0}KP.prototype.Oe=function(){return!1};
KP.prototype.Gf=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};KP.prototype.ja=function(){return this.buf.length};function LP(a){return new KP(IP(a),a)};function MP(){return Db("iPhone")&&!Db("iPod")&&!Db("iPad")};var NP=Db("Opera"),OP=Db("Trident")||Db("MSIE"),PP=Db("Edge"),QP=Db("Gecko")&&!(vb("WebKit")&&!Db("Edge"))&&!(Db("Trident")||Db("MSIE"))&&!Db("Edge"),RP=vb("WebKit")&&!Db("Edge");RP&&Db("Mobile");Db("Macintosh");Db("Windows");Db("Linux")||Db("CrOS");var SP=ma.navigator||null;SP&&(SP.appVersion||"").indexOf("X11");Db("Android");MP();Db("iPad");Db("iPod");MP()||Db("iPad")||Db("iPod");vb("KaiOS");vb("GAFP");function TP(){var a=ma.document;return a?a.documentMode:void 0}var UP;
a:{var VP="",WP=function(){var a=wb;if(QP)return/rv:([^\);]+)(\)|;)/.exec(a);if(PP)return/Edge\/([\d\.]+)/.exec(a);if(OP)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(RP)return/WebKit\/(\S+)/.exec(a);if(NP)return/(?:Version)[ \/]?(\S+)/.exec(a)}();WP&&(VP=WP?WP[1]:"");if(OP){var XP=TP();if(null!=XP&&XP>parseFloat(VP)){UP=String(XP);break a}}UP=VP}var Ka={};
function YP(a){return Ja(a,function(){{var b=0;const e=ub(String(UP)).split("."),f=ub(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=xb(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||xb(0==c[2].length,0==d[2].length)||xb(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var ZP;
ZP=ma.document&&OP?TP():void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){}!QP&&!OP||OP&&9<=Number(ZP)||QP&&YP("1.9.1");OP&&YP("9");function $P(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var aQ;
function bQ(){var a=ma.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Db("Presto")&&(a=function(){var e=$P(cb);e.style.display="none";Ib(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Gb());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Fa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Db("Trident")&&!Db("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Yd;c.Yd=null;e()}};return function(e){d.next={Yd:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in $P(db)?function(e){var f=$P(db);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ma.setTimeout(e,0)}};var cQ=IP(32),dQ=!1,eQ=!1;function fQ(){dQ=!0;eQ=!1;for(var a=0;;){var b=cQ.pop();if(null!=b&&(b.O?b.O():b.call(null),1024>a)){a+=1;continue}break}dQ=!1;return 0<cQ.length?gQ.O?gQ.O():gQ.call(null):null}function gQ(){if(eQ&&dQ)return null;eQ=!0;!ua(ma.setImmediate)||ma.Window&&ma.Window.prototype&&!Db("Edge")&&ma.Window.prototype.setImmediate==ma.setImmediate?(aQ||(aQ=bQ()),aQ(fQ)):ma.setImmediate(fQ)}function hQ(a){cQ.unbounded_unshift(a);gQ()}function iQ(a,b){setTimeout(a,b)};var jQ={},kQ;
function lQ(a){if("undefined"===typeof cc||"undefined"===typeof dc||"undefined"===typeof uP||"undefined"===typeof yP||"undefined"===typeof jQ||"undefined"===typeof kQ)kQ=function(b,c){this.val=b;this.Li=c;this.J=425984;this.T=0},kQ.prototype.fa=function(b,c){return new kQ(this.val,c)},kQ.prototype.ea=function(){return this.Li},kQ.prototype.ub=function(){return this.val},kQ.rb=!0,kQ.kb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels29806",kQ.vb=function(b){return A(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels29806")};return new kQ(a,
W)}function mQ(a,b){this.handler=a;this.val=b}function nQ(a){return CP(a.handler)}function oQ(a,b,c,d,e,f,h){this.Ud=a;this.We=b;this.gd=c;this.Ve=d;this.buf=e;this.closed=f;this.oc=h}function pQ(a){for(;;){var b=a.gd.pop();if(null!=b){var c=b.handler,d=b.val;if(c.$b(null)){var e=c.Sb(null);hQ(function(f){return function(){return f.B?f.B(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.gd.cleanup(th(!1));a.ge(null)}
oQ.prototype.Pe=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.$b(null))return lQ(!f);if(r(function(){var u=d.buf;return r(u)?wc(d.buf.Oe()):u}())){c.Sb(null);var h=Ne(d.oc.j?d.oc.j(d.buf,b):d.oc.call(null,d.buf,b));c=function(){for(var u=mf;;)if(0<d.Ud.length&&0<M(d.buf)){var v=d.Ud.pop();if(v.$b(null)){var y=v.Sb(null),E=d.buf.buf.pop();u=lf.j(u,function(G,I,N){return function(){return I.B?I.B(N):I.call(null,N)}}(u,y,E,v,h,f,e))}}else return u}();h&&pQ(e);if(H(c)){c=H(c);a=null;for(var k=
0,m=0;;)if(m<k){var n=a.xa(null,m);hQ(n);m+=1}else if(c=H(c))a=c,Ef(a)?(c=Xd(a),m=Yd(a),a=c,k=M(c),c=m):(c=J(a),hQ(c),c=K(a),a=null,k=0),m=0;else break}return lQ(!0)}a=function(){for(;;){var u=d.Ud.pop();if(r(u)){if(r(u.$b(null)))return u}else return null}}();if(r(a)){var p=a.Sb(null);c.Sb(null);hQ(function(){return p.B?p.B(b):p.call(null,b)});return lQ(!0)}64<d.Ve?(d.Ve=0,d.gd.cleanup(nQ)):d.Ve+=1;r(c.he())&&d.gd.unbounded_unshift(new mQ(c,b));return null};
oQ.prototype.Hf=function(a,b){var c=this;if(b.$b(null)){if(null!=c.buf&&0<M(c.buf)){a=b.Sb(null);if(r(a)){var d=c.buf.buf.pop(),e=wc(c.buf.Oe())&&0<c.gd.length?function(){for(var G=mf;;){var I=c.gd.pop(),N=I.handler;I=I.val;N=N.$b(null)?N.Sb(null):!1;G=r(N)?lf.j(G,N):G;I=r(N)?Ne(c.oc.j?c.oc.j(c.buf,I):c.oc.call(null,c.buf,I)):null;if(!(wc(I)&&wc(c.buf.Oe())&&0<c.gd.length))return new X(null,2,5,Z,[I,G],null)}}():null,f=Q(e,0,null),h=Q(e,1,null);r(f)&&pQ(this);for(var k=H(h),m=null,n=0,p=0;;)if(p<
n){var u=m.xa(null,p);hQ(function(G,I,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,p,u,d,e,f,h,a,a,this));p+=1}else{var v=H(k);if(v){u=v;if(Ef(u))k=Xd(u),p=Yd(u),m=k,n=M(k),k=p;else{var y=J(u);hQ(function(G,I,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,p,y,u,v,d,e,f,h,a,a,this));k=K(u);m=null;n=0}p=0}else break}return lQ(d)}return null}a=function(){for(;;){var G=c.gd.pop();if(r(G)){if(CP(G.handler))return G}else return null}}();if(r(a)){var E=DP(a.handler);
b.Sb(null);hQ(function(){return E.B?E.B(!0):E.call(null,!0)});return lQ(a.val)}if(r(c.closed))return r(c.buf)&&(c.oc.B?c.oc.B(c.buf):c.oc.call(null,c.buf)),r(function(){var G=b.$b(null);return r(G)?b.Sb(null):G}())?(a=function(){var G=c.buf;return r(G)?0<M(c.buf):G}(),d=r(a)?c.buf.buf.pop():null,lQ(d)):null;64<c.We?(c.We=0,c.Ud.cleanup(CP)):c.We+=1;r(b.he())&&c.Ud.unbounded_unshift(b)}return null};
oQ.prototype.ge=function(){var a=this;if(!a.closed)for(a.closed=!0,r(function(){var e=a.buf;return r(e)?0===a.gd.length:e}())&&(a.oc.B?a.oc.B(a.buf):a.oc.call(null,a.buf));;){var b=a.Ud.pop();if(null!=b){if(b.$b(null)){var c=b.Sb(null),d=r(function(){var e=a.buf;return r(e)?0<M(a.buf):e}())?a.buf.buf.pop():null;hQ(function(e,f){return function(){return e.B?e.B(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function qQ(a){console.log(a);return null}
function rQ(a,b){var c=r(null)?null:qQ;b=c.B?c.B(b):c.call(null,b);return null==b?a:FP.j(a,b)}
function sQ(a,b){return new oQ(IP(32),0,IP(32),0,a,!1,function(){var c=r(b)?b.B?b.B(FP):b.call(null,FP):FP;return function(){function d(h,k){try{return c.j?c.j(h,k):c.call(null,h,k)}catch(m){return rQ(h,m)}}function e(h){try{return c.B?c.B(h):c.call(null,h)}catch(k){return rQ(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}()}())};function tQ(a,b,c){this.key=a;this.val=b;this.forward=c;this.J=2155872256;this.T=0}tQ.prototype.ha=function(){return new nf(null,this.key,new nf(null,this.val,null,1,null),2,null)};tQ.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};function uQ(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new tQ(a,b,c)}
function vQ(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(r(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function wQ(){this.header=uQ(null,null,0);this.level=0;this.J=2155872256;this.T=0}g=wQ.prototype;
g.put=function(a,b){var c=Array(15),d=vQ(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=uQ(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=vQ(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return F.j(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};
g.ha=function(){return function c(b){return new Hg(null,function(){return null==b?null:df(new X(null,2,5,Z,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"{",", ","}",c,this)};var xQ=new wQ;function yQ(a){var b=(new Date).valueOf()+a,c=xQ.ceilingEntry(b);c=r(r(c)?c.key<b+10:c)?c.val:null;if(r(c))return c;var d=sQ(null,null);xQ.put(b,d);iQ(function(){xQ.remove(b);return BP(d)},a);return d};var zQ={},AQ;
function BQ(a){if("undefined"===typeof cc||"undefined"===typeof dc||"undefined"===typeof uP||"undefined"===typeof yP||"undefined"===typeof zQ||"undefined"===typeof AQ)AQ=function(b,c){this.f=b;this.Mi=c;this.J=393216;this.T=0},AQ.prototype.fa=function(b,c){return new AQ(this.f,c)},AQ.prototype.ea=function(){return this.Mi},AQ.prototype.$b=function(){return!0},AQ.prototype.he=function(){return!0},AQ.prototype.Sb=function(){return this.f},AQ.rb=!0,AQ.kb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29809",AQ.vb=
function(b){return A(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29809")};return new AQ(a,W)}function CQ(a){try{var b=a[0];return b.B?b.B(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].ge(null),b;throw c;}}function DQ(a,b,c){c=c.Hf(null,BQ(function(d){a[2]=d;a[1]=b;return CQ(a)}));return r(c)?(a[2]=z(c),a[1]=b,zn):null}function EQ(a,b,c){b=b.Pe(null,c,BQ(function(d){a[2]=d;a[1]=11;return CQ(a)}));return r(b)?(a[2]=z(b),a[1]=11,zn):null}
function FQ(a,b){a=a[6];null!=b&&a.Pe(null,b,BQ(function(){return null}));a.ge(null);return a};function GQ(a,b){return HQ(a,b)}function HQ(a,b){a=F.j(a,0)?null:a;return sQ("number"===typeof a?new JP(IP(a),a):a,b)}
var IQ=function(a){if("undefined"===typeof cc||"undefined"===typeof dc||"undefined"===typeof uP||"undefined"===typeof vP)vP=function(b,c,d){this.f=b;this.Ag=c;this.Ni=d;this.J=393216;this.T=0},vP.prototype.fa=function(b,c){return new vP(this.f,this.Ag,c)},vP.prototype.ea=function(){return this.Ni},vP.prototype.$b=function(){return!0},vP.prototype.he=function(){return this.Ag},vP.prototype.Sb=function(){return this.f},vP.rb=!0,vP.kb="cljs.core.async/t_cljs$core$async30386",vP.vb=function(b){return A(b,
"cljs.core.async/t_cljs$core$async30386")};return new vP(a,!0,W)}(function(){return null});function JQ(a,b){a=AP(a,b,IQ);return r(a)?z(a):!0}function KQ(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;ab(b);return b}
function LQ(){var a=zh(!0);if("undefined"===typeof cc||"undefined"===typeof dc||"undefined"===typeof uP||"undefined"===typeof wP)wP=function(b,c){this.Cd=b;this.Oi=c;this.J=393216;this.T=0},wP.prototype.fa=function(b,c){return new wP(this.Cd,c)},wP.prototype.ea=function(){return this.Oi},wP.prototype.$b=function(){return z(this.Cd)},wP.prototype.he=function(){return!0},wP.prototype.Sb=function(){Ah(this.Cd,null);return!0},wP.rb=!0,wP.kb="cljs.core.async/t_cljs$core$async30435",wP.vb=function(b){return A(b,
"cljs.core.async/t_cljs$core$async30435")};return new wP(a,W)}
function MQ(a,b){if("undefined"===typeof cc||"undefined"===typeof dc||"undefined"===typeof uP||"undefined"===typeof xP)xP=function(c,d,e){this.Cd=c;this.Yd=d;this.Pi=e;this.J=393216;this.T=0},xP.prototype.fa=function(c,d){return new xP(this.Cd,this.Yd,d)},xP.prototype.ea=function(){return this.Pi},xP.prototype.$b=function(){return CP(this.Cd)},xP.prototype.he=function(){return!0},xP.prototype.Sb=function(){DP(this.Cd);return this.Yd},xP.rb=!0,xP.kb="cljs.core.async/t_cljs$core$async30443",xP.vb=function(c){return A(c,
"cljs.core.async/t_cljs$core$async30443")};return new xP(a,b,W)}
function NQ(a,b,c){var d=LQ(),e=M(b),f=KQ(e),h=pA.B(c),k=function(){for(var m=0;;)if(m<e){var n=r(h)?m:f[m],p=Ye(b,n),u=Df(p)?p.B?p.B(0):p.call(null,0):null,v=r(u)?function(){var y=p.B?p.B(1):p.call(null,1);return AP(u,y,MQ(d,function(E,G,I,N,O){return function(U){U=new X(null,2,5,Z,[U,O],null);return a.B?a.B(U):a.call(null,U)}}(m,y,n,p,u,d,e,f,h)))}():zP(p,MQ(d,function(y,E,G){return function(I){I=new X(null,2,5,Z,[I,G],null);return a.B?a.B(I):a.call(null,I)}}(m,n,p,u,d,e,f,h)));if(r(v))return lQ(new X(null,
2,5,Z,[z(v),function(){var y=u;return r(y)?y:p}()],null));m+=1}else return null}();return r(k)?k:Lf(c,Xl)?(k=function(){var m=d.$b(null);return r(m)?d.Sb(null):m}(),r(k)?lQ(new X(null,2,5,Z,[Xl.B(c),Xl],null)):null):null}
function OQ(a,b){var c=HQ(1,null);hQ(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,zn):1===k?(h[2]=null,h[1]=2,zn):4===k?(k=h[2],h[7]=k,h[1]=r(null==k)?5:6,zn):13===k?(h[2]=null,h[1]=14,zn):6===k?(k=h[7],EQ(h,b,k)):3===k?FQ(h,h[2]):12===k?(h[2]=null,h[1]=2,zn):2===k?DQ(h,4,a):11===k?(h[1]=r(h[2])?12:13,zn):9===k?(h[2]=null,h[1]=10,zn):5===k?(h[1]=r(!0)?8:9,zn):14===k||10===k?(h[2]=h[2],h[1]=7,zn):8===k?(k=BP(b),h[2]=k,h[1]=10,zn):null}return function(){function h(n){for(;;){a:try{for(;;){var p=
f(n);if(!T(p,zn)){var u=p;break a}}}catch(v){u=v;n[2]=u;if(H(n[4]))n[1]=J(n[4]);else throw u;u=zn}if(!T(u,zn))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.O=k;m.B=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return CQ(e)})}
function PQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new ze(b.slice(3),0,null):null;return QQ(arguments[0],arguments[1],arguments[2],b)}function QQ(a,b,c,d){d=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d;a[1]=b;b=NQ(function(e){a[2]=e;return CQ(a)},c,d);return r(b)?(a[2]=z(b),zn):null}
function RQ(a,b){var c=HQ(b,null),d=HQ(1,null);hQ(function(){var e=function(){function h(k){var m=k[1];if(7===m){var n=k[8];m=k[2];n=Q(m,0,null);var p=Q(m,1,null);k[7]=m;k[9]=p;k[8]=n;k[1]=r(null==n)?8:9;return zn}return 1===m?(m=Wf(a),k[10]=m,k[2]=null,k[1]=2,zn):4===m?(m=k[10],PQ(k,7,m)):6===m?(k[2]=k[2],k[1]=3,zn):3===m?FQ(k,k[2]):2===m?(m=k[10],m=0<M(m),k[1]=r(m)?4:5,zn):11===m?(m=k[10],n=k[2],k[10]=m,k[11]=n,k[2]=null,k[1]=2,zn):9===m?(n=k[8],EQ(k,c,n)):5===m?(m=BP(c),k[2]=m,k[1]=6,zn):10===
m?(k[2]=k[2],k[1]=6,zn):8===m?(m=k[10],p=k[9],n=k[8],m=Zh(function(){var u=p;return function(v){return jh.j(u,v)}}(),m),k[10]=m,k[2]=null,k[1]=2,zn):null}return function(){function k(p){for(;;){a:try{for(;;){var u=h(p);if(!T(u,zn)){var v=u;break a}}}catch(y){v=y;p[2]=v;if(H(p[4]))p[1]=J(p[4]);else throw v;v=zn}if(!T(v,zn))return v}}function m(){var p=[null,null,null,null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.O=m;n.B=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return CQ(f)});return c};function SQ(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,u){if("%"==n)return"%";var v=c.shift();if("undefined"==typeof v)throw Error("[goog.string.format] Not enough arguments");arguments[0]=v;return SQ.cd[n].apply(null,arguments)})}SQ.cd={};
SQ.cd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Kb(" ",Number(c)-a.length):Kb(" ",Number(c)-a.length)+a};
SQ.cd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Kb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Kb(b,a)+d);return d};SQ.cd.d=function(a,b,c,d,e,f,h,k){return SQ.cd.f(parseInt(a,10),b,c,d,0,f,h,k)};
SQ.cd.i=SQ.cd.d;SQ.cd.u=SQ.cd.d;var TQ=!OP||9<=Number(ZP),UQ=OP&&!YP("9");!RP||YP("528");QP&&YP("1.9b")||OP&&YP("8")||NP&&YP("9.5")||RP&&YP("528");QP&&!YP("8")||OP&&YP("9");var VQ=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",pa,b),ma.removeEventListener("test",pa,b)}catch(c){}return a}();function WQ(){0!=XQ&&(YQ[xa(this)]=this);this.Od=this.Od;this.Sd=this.Sd}var XQ=0,YQ={};WQ.prototype.Od=!1;WQ.prototype.dispose=function(){if(!this.Od&&(this.Od=!0,this.disposeInternal(),0!=XQ)){var a=xa(this);if(0!=XQ&&this.Sd&&0<this.Sd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete YQ[a]}};WQ.prototype.disposeInternal=function(){if(this.Sd)for(;this.Sd.length;)this.Sd.shift()()};function ZQ(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Hd=!1;this.lh=!0}ZQ.prototype.stopPropagation=function(){this.Hd=!0};ZQ.prototype.preventDefault=function(){this.defaultPrevented=!0;this.lh=!1};function $Q(a,b){ZQ.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.qe=null;a&&this.init(a,b)}Ha($Q,ZQ);var aR={2:"touch",3:"pen",4:"mouse"};
$Q.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(QP){a:{try{Ia(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=RP||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=RP||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:aR[a.pointerType]||"";this.state=a.state;this.qe=a;a.defaultPrevented&&this.preventDefault()};$Q.prototype.stopPropagation=function(){$Q.jd.stopPropagation.call(this);this.qe.stopPropagation?this.qe.stopPropagation():this.qe.cancelBubble=!0};
$Q.prototype.preventDefault=function(){$Q.jd.preventDefault.call(this);var a=this.qe;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,UQ)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var bR="closure_listenable_"+(1E6*Math.random()|0),cR=0;function dR(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++cR;this.removed=this.He=!1}function eR(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function fR(a){this.src=a;this.listeners={};this.Be=0}g=fR.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Be++);var h=gR(a,b,d,e);-1<h?(b=a[h],c||(b.He=!1)):(b=new dR(b,this.src,f,!!d,e),b.He=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=gR(e,b,c,d);return-1<b?(eR(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Be--),!0):!1};
function hR(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Ua(a.listeners[c],b);d&&(eR(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Be--));return d}g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,eR(d[e]);delete this.listeners[c];this.Be--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.Of=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=gR(a,b,c,d));return-1<e?a[e]:null};g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return eb(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function gR(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var iR="closure_lm_"+(1E6*Math.random()|0),jR={},kR=0;function lR(a,b,c,d,e){if(d&&d.once)return mR(a,b,c,d,e);if(sa(b)){for(var f=0;f<b.length;f++)lR(a,b[f],c,d,e);return null}c=nR(c);return a&&a[bR]?a.listen(b,c,va(d)?!!d.capture:!!d,e):oR(a,b,c,!1,d,e)}
function oR(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=va(e)?!!e.capture:!!e,k=pR(a);k||(a[iR]=k=new fR(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=qR();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)VQ||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(rR(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");kR++;return c}
function qR(){var a=sR,b=TQ?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function mR(a,b,c,d,e){if(sa(b)){for(var f=0;f<b.length;f++)mR(a,b[f],c,d,e);return null}c=nR(c);return a&&a[bR]?a.listenOnce(b,c,va(d)?!!d.capture:!!d,e):oR(a,b,c,!0,d,e)}
function tR(a,b,c,d,e){if(sa(b))for(var f=0;f<b.length;f++)tR(a,b[f],c,d,e);else d=va(d)?!!d.capture:!!d,c=nR(c),a&&a[bR]?a.Pc.remove(String(b),c,d,e):a&&(a=pR(a))&&(b=a.Of(b,c,d,e))&&uR(b)}
function uR(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[bR])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(rR(c),d):b.addListener&&b.removeListener&&b.removeListener(d);kR--;(c=pR(b))?(hR(c,a),0==c.Be&&(c.src=null,b[iR]=null)):eR(a)}}}function rR(a){return a in jR?jR[a]:jR[a]="on"+a}
function vR(a,b,c,d){var e=!0;if(a=pR(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=wR(f,d),e=e&&!1!==f)}return e}function wR(a,b){var c=a.listener,d=a.handler||a.src;a.He&&uR(a);return c.call(d,b)}
function sR(a,b){if(a.removed)return!0;if(!TQ){if(!b)a:{b=["window","event"];for(var c=ma,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new $Q(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Hd&&0<=e;e--){b.currentTarget=d[e];var f=vR(d[e],a,!0,b);c=c&&f}for(e=0;!b.Hd&&e<d.length;e++)b.currentTarget=
d[e],f=vR(d[e],a,!1,b),c=c&&f}return c}return wR(a,new $Q(b,this))}function pR(a){a=a[iR];return a instanceof fR?a:null}var xR="__closure_events_fn_"+(1E9*Math.random()>>>0);function nR(a){if(ua(a))return a;a[xR]||(a[xR]=function(b){return a.handleEvent(b)});return a[xR]};function yR(){WQ.call(this);this.Pc=new fR(this);this.Ph=this;this.eg=null}Ha(yR,WQ);yR.prototype[bR]=!0;g=yR.prototype;g.addEventListener=function(a,b,c,d){lR(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){tR(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.eg;if(c)for(b=[];c;c=c.eg)b.push(c);c=this.Ph;var d=a.type||a;if("string"===typeof a)a=new ZQ(a,c);else if(a instanceof ZQ)a.target=a.target||c;else{var e=a;a=new ZQ(d,c);jb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Hd&&0<=f;f--){var h=a.currentTarget=b[f];e=zR(h,d,!0,a)&&e}a.Hd||(h=a.currentTarget=c,e=zR(h,d,!0,a)&&e,a.Hd||(e=zR(h,d,!1,a)&&e));if(b)for(f=0;!a.Hd&&f<b.length;f++)h=a.currentTarget=b[f],e=zR(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){yR.jd.disposeInternal.call(this);this.removeAllListeners();this.eg=null};g.listen=function(a,b,c,d){return this.Pc.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.Pc.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return hR(this.Pc,a)};g.removeAllListeners=function(a){return this.Pc?this.Pc.removeAll(a):0};
function zR(a,b,c,d){b=a.Pc.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.He&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.lh}g.getListeners=function(a,b){return this.Pc.getListeners(String(a),b)};g.Of=function(a,b,c,d){return this.Pc.Of(String(a),b,c,d)};g.hasListener=function(a,b){return this.Pc.hasListener(void 0!==a?String(a):void 0,b)};function AR(a,b,c){if(ua(a))c&&(a=Fa(a,c));else if(a&&"function"==typeof a.handleEvent)a=Fa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ma.setTimeout(a,b||0)};function BR(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function CR(){}CR.prototype.Bg=null;CR.prototype.getOptions=function(){var a;(a=this.Bg)||(a={},DR(this)&&(a[0]=!0,a[1]=!0),a=this.Bg=a);return a};var ER;function FR(){}Ha(FR,CR);function GR(a){return(a=DR(a))?new ActiveXObject(a):new XMLHttpRequest}function DR(a){if(!a.Wg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Wg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Wg}ER=new FR;function HR(a){yR.call(this);this.headers=new Rb;this.mf=a||null;this.md=!1;this.lf=this.Fa=null;this.Tf="";this.Rd=0;this.Ed=this.Qf=this.Ye=this.Nf=!1;this.hf=0;this.timeoutId_=null;this.kh=IR;this.mg=this.fh=this.Ce=!1}Ha(HR,yR);var IR="",JR=/^https?$/i,KR=["POST","PUT"];g=HR.prototype;g.setWithCredentials=function(a){this.Ce=a};
g.send=function(a,b,c,d){if(this.Fa)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Tf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Tf=a;this.Rd=0;this.Nf=!1;this.md=!0;this.Fa=this.mf?GR(this.mf):GR(ER);this.lf=this.mf?this.mf.getOptions():ER.getOptions();this.Fa.onreadystatechange=Fa(this.bh,this);this.fh&&"onprogress"in this.Fa&&(this.Fa.onprogress=Fa(function(f){this.ah(f,!0)},this),this.Fa.upload&&(this.Fa.upload.onprogress=Fa(this.ah,this)));try{this.Qf=!0,
this.Fa.open(b,String(a),!0),this.Qf=!1}catch(f){this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&Pb(d,function(f,h){e.set(h,f)});d=Qa(e.getKeys());c=ma.FormData&&a instanceof ma.FormData;!(0<=La(KR,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Fa.setRequestHeader(h,f)},this);this.kh&&(this.Fa.responseType=this.kh);"withCredentials"in this.Fa&&this.Fa.withCredentials!==this.Ce&&(this.Fa.withCredentials=this.Ce);try{LR(this),
0<this.hf&&((this.mg=MR(this.Fa))?(this.Fa.timeout=this.hf,this.Fa.ontimeout=Fa(this.timeout_,this)):this.timeoutId_=AR(this.timeout_,this.hf,this)),this.Ye=!0,this.Fa.send(a),this.Ye=!1}catch(f){this.error_(5,f)}};function MR(a){return OP&&YP(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Ra(a){return"content-type"==a.toLowerCase()}g.timeout_=function(){"undefined"!=typeof la&&this.Fa&&(this.Rd=8,this.dispatchEvent("timeout"),this.abort(8))};
g.error_=function(a){this.md=!1;this.Fa&&(this.Ed=!0,this.Fa.abort(),this.Ed=!1);this.Rd=a;NR(this);OR(this)};function NR(a){a.Nf||(a.Nf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Fa&&this.md&&(this.md=!1,this.Ed=!0,this.Fa.abort(),this.Ed=!1,this.Rd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),OR(this))};g.disposeInternal=function(){this.Fa&&(this.md&&(this.md=!1,this.Ed=!0,this.Fa.abort(),this.Ed=!1),OR(this,!0));HR.jd.disposeInternal.call(this)};
g.bh=function(){this.Od||(this.Qf||this.Ye||this.Ed?PR(this):this.Ti())};g.Ti=function(){PR(this)};function PR(a){if(a.md&&"undefined"!=typeof la&&(!a.lf[1]||4!=QR(a)||2!=RR(a)))if(a.Ye&&4==QR(a))AR(a.bh,0,a);else if(a.dispatchEvent("readystatechange"),4==QR(a)){a.md=!1;try{SR(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Rd=6,NR(a))}finally{OR(a)}}}g.ah=function(a,b){this.dispatchEvent(TR(a,"progress"));this.dispatchEvent(TR(a,b?"downloadprogress":"uploadprogress"))};
function TR(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function OR(a,b){if(a.Fa){LR(a);var c=a.Fa,d=a.lf[0]?pa:null;a.Fa=null;a.lf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function LR(a){a.Fa&&a.mg&&(a.Fa.ontimeout=null);a.timeoutId_&&(ma.clearTimeout(a.timeoutId_),a.timeoutId_=null)}
function SR(a){var b=RR(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Tf).match(Vb)[1]||null,!a&&ma.self&&ma.self.location&&(a=ma.self.location.protocol,a=a.substr(0,a.length-1)),b=!JR.test(a?a.toLowerCase():"");c=b}return c}function QR(a){return a.Fa?a.Fa.readyState:0}function RR(a){try{return 2<QR(a)?a.Fa.status:-1}catch(b){return-1}}
function UR(a){try{return a.Fa?a.Fa.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Fa&&4==QR(this))return a=this.Fa.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Fa&&4==QR(this)?this.Fa.getAllResponseHeaders()||"":""};function VR(){this.vc=[];this.Lc=[]}function WR(a){0==a.vc.length&&(a.vc=a.Lc,a.vc.reverse(),a.Lc=[])}g=VR.prototype;g.enqueue=function(a){this.Lc.push(a)};g.dequeue=function(){WR(this);return this.vc.pop()};g.peek=function(){WR(this);var a=this.vc;return a[a.length-1]};g.getCount=function(){return this.vc.length+this.Lc.length};g.isEmpty=function(){return 0==this.vc.length&&0==this.Lc.length};g.clear=function(){this.vc=[];this.Lc=[]};
g.contains=function(a){return 0<=La(this.vc,a)||0<=La(this.Lc,a)};g.remove=function(a){var b=this.vc;var c=Ma(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Ua(this.Lc,a)};g.getValues=function(){for(var a=[],b=this.vc.length-1;0<=b;--b)a.push(this.vc[b]);var c=this.Lc.length;for(b=0;b<c;++b)a.push(this.Lc[b]);return a};function YR(a){this.map_=new Rb;a&&this.addAll(a)}function ZR(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+xa(a):b.substr(0,1)+a}g=YR.prototype;g.getCount=function(){return this.map_.getCount()};g.add=function(a){this.map_.set(ZR(a),a)};g.addAll=function(a){a=Nb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Nb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.map_.remove(ZR(a))};g.clear=function(){this.map_.clear()};
g.isEmpty=function(){return this.map_.isEmpty()};g.contains=function(a){return this.map_.containsKey(ZR(a))};g.intersection=function(a){var b=new YR;a=Nb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.getValues=function(){return this.map_.getValues()};g.clone=function(){return new YR(this)};g.equals=function(a){return this.getCount()==Mb(a)&&$R(this,a)};
function $R(a,b){var c=Mb(b);if(a.getCount()>c)return!1;!(b instanceof YR)&&5<c&&(b=new YR(b));return Qb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.le&&"function"==typeof e.le)d=e.le(d);else if(ta(e)||"string"===typeof e)d=0<=La(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function aS(a,b){WQ.call(this);this.Zg=a||0;this.af=b||10;if(this.Zg>this.af)throw Error(bS);this.Qc=new VR;this.vd=new YR;this.delay=0;this.Sf=null;this.De()}Ha(aS,WQ);var bS="[goog.structs.Pool] Min can not be greater than max";g=aS.prototype;g.Xe=function(){var a=Ga();if(!(null!=this.Sf&&a-this.Sf<this.delay)){for(var b;0<this.Qc.getCount()&&(b=this.Qc.dequeue(),!this.dg(b));)this.De();!b&&this.getCount()<this.af&&(b=this.Mf());b&&(this.Sf=a,this.vd.add(b));return b}};
function cS(a,b){return a.vd.remove(b)?(a.pf(b),!0):!1}g.pf=function(a){this.vd.remove(a);this.dg(a)&&this.getCount()<this.af?this.Qc.enqueue(a):dS(a)};g.De=function(){for(var a=this.Qc;this.getCount()<this.Zg;)a.enqueue(this.Mf());for(;this.getCount()>this.af&&0<this.Qc.getCount();)dS(a.dequeue())};g.Mf=function(){return{}};function dS(a){if("function"==typeof a.dispose)a.dispose();else for(var b in a)a[b]=null}g.dg=function(a){return"function"==typeof a.Rh?a.Rh():!0};
g.contains=function(a){return this.Qc.contains(a)||this.vd.contains(a)};g.getCount=function(){return this.Qc.getCount()+this.vd.getCount()};g.isEmpty=function(){return this.Qc.isEmpty()&&this.vd.isEmpty()};g.disposeInternal=function(){aS.jd.disposeInternal.call(this);if(0<this.vd.getCount())throw Error("[goog.structs.Pool] Objects not released");delete this.vd;for(var a=this.Qc;!a.isEmpty();)dS(a.dequeue());delete this.Qc};function eS(a,b){this.key_=a;this.value_=b}eS.prototype.getKey=function(){return this.key_};eS.prototype.getValue=function(){return this.value_};eS.prototype.clone=function(){return new eS(this.key_,this.value_)};function fS(a){this.kc=[];if(a)a:{if(a instanceof fS){var b=a.getKeys();a=a.getValues();if(0>=this.getCount()){for(var c=this.kc,d=0;d<b.length;d++)c.push(new eS(b[d],a[d]));break a}}else b=gb(a),a=fb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=fS.prototype;g.insert=function(a,b){var c=this.kc;c.push(new eS(a,b));a=c.length-1;b=this.kc;for(c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.kc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ta(a);else{a[0]=a.pop();a=0;b=this.kc;for(var d=b.length,e=b[a];a<d>>1;){var f=this.getLeftChildIndex_(a),h=this.getRightChildIndex_(a);f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.kc;if(0!=a.length)return a[0].getValue()};g.getLeftChildIndex_=function(a){return 2*a+1};g.getRightChildIndex_=function(a){return 2*a+2};
g.getParentIndex_=function(a){return a-1>>1};g.getValues=function(){for(var a=this.kc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};g.getKeys=function(){for(var a=this.kc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.le=function(a){return Oa(this.kc,function(b){return b.getValue()==a})};g.containsKey=function(a){return Oa(this.kc,function(b){return b.getKey()==a})};g.clone=function(){return new fS(this)};g.getCount=function(){return this.kc.length};
g.isEmpty=function(){return 0==this.kc.length};g.clear=function(){Ta(this.kc)};function gS(){fS.call(this)}Ha(gS,fS);gS.prototype.enqueue=function(a,b){this.insert(a,b)};gS.prototype.dequeue=function(){return this.remove()};function hS(a,b){this.Rg=void 0;this.gg=new gS;aS.call(this,a,b)}Ha(hS,aS);g=hS.prototype;g.Xe=function(){var a=hS.jd.Xe.call(this);a&&this.delay&&(this.Rg=ma.setTimeout(Fa(this.Pf,this),this.delay));return a};g.Pf=function(){for(var a=this.gg;0<a.getCount();){var b=this.Xe();if(b)a.dequeue().apply(this,[b]);else break}};g.pf=function(a){hS.jd.pf.call(this,a);this.Pf()};g.De=function(){hS.jd.De.call(this);this.Pf()};
g.disposeInternal=function(){hS.jd.disposeInternal.call(this);ma.clearTimeout(this.Rg);this.gg.clear();this.gg=null};function iS(a,b,c,d){this.ri=a;this.Ce=!!d;hS.call(this,b,c)}Ha(iS,hS);iS.prototype.Mf=function(){var a=new HR,b=this.ri;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.Ce&&a.setWithCredentials(!0);return a};iS.prototype.dg=function(a){return!a.Od&&!a.Fa};function jS(a){a=z(a);throw bm(z(tA.B(a)),S.j(a,tA));}var kS={};
function lS(a,b,c,d){if(r(jS)){var e=new pl(function(){var f=new Date,h=r(a)?a:"?",k=t.B(b),m=null==c?"\x3ctruss/nil\x3e":dl.F(P([c])),n=kS===d?null:d,p=new pl(function(){var v=r(n)?t.B(n):null;var y=["Invariant violation in `",t.B(ja),":",t.B(h),"`. Test form `",t.B(k),"` failed against input val `",t.B(m),"`."].join("");return wc(n)?y:[y," An error was thrown while evaluating test form: [",v,"]."].join("")}),u=function(){if(r(null))try{return null.O?null.O():null.call(null)}catch(v){if(v instanceof
Error)return new q(null,1,[im,v],null);throw v;}else return null}();return Kj([Gn,tA,os,MA,kl,Rt,Pu,Vp,rB,mu,wv,Mm],[null,p,null,f,c,ja,zc(c),n,!0,u,a,k])});return jS.B?jS.B(e):jS.call(null,e)}return null};var mS=new X(null,3,5,Z,[3,10,1],null);function nS(a){if(null==a||""===a)return null;if("string"===typeof a){var b=C.C(null,ym,$o),c=C.C(null,Xl,$o);r(T.j?T.j(b,$o):T.call(null,b,$o))&&(b=z(dI),b=oS.j?oS.j(te,b):oS.call(null,te,b));c=r(T.j?T.j(c,$o):T.call(null,c,$o))?z(cI):c;c=R.F(null,ym,b,P([Xl,c]));return XH(c,a)}throw bm("`read-edn` attempt against non-nil, non-string arg",new q(null,2,[Fv,a,dq,zc(a)],null));}var pS=new pl(function(){return oQ});
function qS(a){var b=z(pS);return a instanceof b}function rS(a){if(null!=a&&(a.T&4096||l===a.xf)){var b=Gg(a);a=Dg(a);return r(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function sS(a){return"string"===typeof a?F.j(a,"")?null:a:null}function tS(a){return"number"===typeof a?qg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}
function uS(a){var b=rS(a);if(!r(b))throw bm(["`as-",Gg(gp),"` failed against: `",dl.F(P([a])),"`"].join(""),new q(null,2,[Fv,a,dq,zc(a)],null));return b}function vS(a,b,c){return cg(vk(),ag(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return a.C?a.C(d,f,e):a.call(null,d,f,e)},$f),b,c)}function wS(a,b){return w.C(function(c,d){c=a.B?a.B(d):a.call(null,d);return r(c)?Me(c):null},null,b)}
var xS=function xS(a){switch(arguments.length){case 1:return xS.B(arguments[0]);case 2:return xS.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};xS.B=function(a){return xS.j(a,null)};xS.j=function(a,b){var c=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,d=C.j(c,NA);b=C.j(c,Ey);c=C.C(c,Vm,1E3);a=Math.pow(2,36<a?36:a);a=qg(.5*(a+Gl.B(a))*c);d=qg(r(d)?a<d?d:a:a);return qg(r(b)?d>b?b:d:d)};xS.Y=2;F.j("default","nodejs");
var yS="undefined"!==typeof window?window:null;function zS(a){a=pC(t.B(a),/-/,2);var b=Q(a,0,null);a=Q(a,1,null);b=Mk(/\d+/,b);b=r(b)?Yh.j(tS,b):null;return new q(null,2,[nn,b,$x,r(a)?a.toLowerCase():null],null)}
function AS(a){var b=Q(mS,0,null),c=Q(mS,1,null),d=Q(mS,2,null),e=Df(a)?a:nn.B(zS(a));a=Q(e,0,null);var f=Q(e,1,null);e=Q(e,2,null);e=Yh.j(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=Q(e,0,null);f=Q(e,1,null);e=Q(e,2,null);if(!(b>a||F.j(b,a)&&(c>f||F.j(c,f)&&d>=e)))throw bm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[Eu,mC(".",new X(null,3,5,Z,[a,f,e],null)),mr,mC(".",new X(null,3,5,Z,[b,
c,d],null))],null));}function BS(a,b){return hb(a,Gg(b),null)}function CS(a,b){return null==b?null==a?W:a:R.C(a,"x-requested-with",b)}var DS=function DS(a){switch(arguments.length){case 3:return DS.C(arguments[0],arguments[1],arguments[2]);case 2:return DS.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return DS.F(arguments[0],arguments[1],arguments[2],c)}};
DS.C=function(a,b,c){return Lf(a,b)?a:R.C(a,b,c)};DS.F=function(a,b,c,d){return vS(DS,DS.C(a,b,c),d)};DS.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};DS.j=function(a,b){return Zf(function(c,d,e){return Lf(c,d)?c:R.C(c,d,e)},null==a?W:a,b)};DS.Y=3;
var ES=function ES(a){switch(arguments.length){case 2:return ES.j(arguments[0],arguments[1]);case 3:return ES.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ES.j=function(a,b){b=0>b?0:b;var c=M(a);return b>=c?mf:Ii(a,b,c)};ES.C=function(a,b,c){b=0>b?0:b;var d=qg(M(a));c=c>d?d:c;return b>=c?mf:Ii(a,b,c)};ES.Y=3;
var FS=function FS(a){switch(arguments.length){case 2:return FS.j(arguments[0],arguments[1]);case 3:return FS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};FS.j=function(a,b){var c=M(a);return 0>b?(b+=c,Ii(a,0>b?0:b,c)):b>=c?mf:Ii(a,b,c)};FS.C=function(a,b,c){if(0>=c)return mf;var d=qg(M(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Ii(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?mf:Ii(a,b,d)};FS.Y=3;
function GS(a){return 1<M(a)?Ii(a,1,M(a)):mf}function HS(a,b){for(var c=mf;;){var d=H(b);b=J(d);if(d=K(d))c=lf.j(c,b),b=d;else return a.j?a.j(c,b):a.call(null,c,b)}}vh.j(w,V);function oS(a,b){b=Zf(function(c,d,e){return Xg.C(c,a.B?a.B(d):a.call(null,d),e)},Tg.B?Tg.B(W):Tg.call(null,W),b);return Ug.B?Ug.B(b):Ug.call(null,b)}function IS(a,b){b=pk(Zi(b));a=yf(a)?a:pk(a);return jI(b,a)}
function JS(a,b,c,d){var e=H(b);if(e){b=Ye(b,0);if(e=K(e))return R.C(a,b,JS(C.j(a,b),e,c,d));if(r(T.j?T.j(d,jB):T.call(null,d,jB)))return S.j(a,b);c=C.C(a,b,c);d=d.B?d.B(c):d.call(null,c);return r(T.j?T.j(d,jB):T.call(null,d,jB))?S.j(a,b):R.C(a,b,d)}return d.B?d.B(a):d.call(null,a)}function KS(a,b,c){return JS(a,b,null,function(d){return S.j(d,c)})}var LS={};
function MS(a,b){return w.C(function(c,d){return null==d?c:Zf(function m(f,h,k){var n=C.C(f,h,LS);if(n===LS)return R.C(f,h,k);if(r(T.j?T.j(k,jB):T.call(null,k,jB)))return S.j(f,h);if(r(r(!1)?Af(k)&&Af(n):!1))return R.C(f,h,Zf(m,n,k));k=a.j?a.j(n,k):a.call(null,n,k);return r(T.j?T.j(k,jB):T.call(null,k,jB))?S.j(f,h):R.C(f,h,k)},r(c)?c:W,d)},null,b)}function NS(a){return MS(function(b,c){return c},a)}function OS(a,b){this.cg=a;this.hg=b}
function PS(a,b,c){for(;;){var d=z(b);c=c.B?c.B(d):c.call(null,d);var e=c instanceof OS,f=e?c.cg:c;Ah(b,f);return e?c.hg:a.j?a.j(d,f):a.call(null,d,f)}}
function QS(a,b,c,d){if(r(T.j?T.j(d,jB):T.call(null,d,jB)))for(;;){var e=z(b);d=S.j(e,c);Ah(b,d);b=C.C(e,c,null);c=jB;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){e=z(b);var f=C.C(e,c,null),h=d.B?d.B(f):d.call(null,f),k=h instanceof OS,m=k?h.cg:h;d=r(T.j?T.j(m,jB):T.call(null,m,jB))?S.j(e,c):R.C(e,c,m);Ah(b,d);return k?h.hg:a.j?a.j(f,m):a.call(null,f,m)}}
function RS(a,b,c){var d=SS,e=H(b);if(e)if(K(e))if(r(T.j?T.j(c,jB):T.call(null,c,jB)))for(;;){var f=z(a);e=HS(function(n){return function(p,u){return KS(n,p,u)}}(f,e,e),b);Ah(a,e);a=bi(f,b,null);b=jB;return d.j?d.j(a,b):d.call(null,a,b)}else for(;;){f=z(a);var h=bi(f,b,null);c=c.B?c.B(h):c.call(null,h);var k=c instanceof OS,m=k?c.cg:c;e=r(T.j?T.j(m,jB):T.call(null,m,jB))?HS(function(n){return function(p,u){return KS(n,p,u)}}(f,h,c,k,m,e,e),b):ci(f,b,m);Ah(a,e);return k?c.hg:d.j?d.j(h,m):d.call(null,
h,m)}else return QS(d,a,Ye(b,0),c);else return PS(d,a,c)}function SS(a,b){return b}function TS(a,b){return PS(SS,a,b)}function US(a,b,c){return RS(a,b,c)}function VS(a){return a}
function WS(a,b,c){a:{var d=H(b);if(d)if(K(d))for(;;){d=z(a);var e=ci(d,b,c);Ah(a,e);a=bi(d,b,null);VS.j?VS.j(a,c):VS.call(null,a,c);break a}else b:for(b=Ye(b,0);;){d=z(a);e=R.C(d,b,c);Ah(a,e);a=C.C(d,b,null);VS.j?VS.j(a,c):VS.call(null,a,c);break b}else b:for(;;){b=z(a);Ah(a,c);VS.j?VS.j(b,c):VS.call(null,b,c);break b}}}function XS(){return(new Date).getTime()}
(function(){var a=BS(yS,"performance");if(r(a)){var b=function(){var c=BS(a,"now");if(r(c))return c;c=BS(a,"mozNow");if(r(c))return c;c=BS(a,"msNow");if(r(c))return c;c=BS(a,"oNow");return r(c)?c:BS(a,"webkitNow")}();return r(b)?function(){return 1E6*qg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();function YS(a,b){this.n=a;this.ag=b}function ZS(a,b){this.n=a;this.lg=b}function $S(a,b,c){this.m=a;this.sh=b;this.og=c}
function aT(a){if(Af(a))return Zf(function(c,d,e){var f=Q(e,0,null);e=Q(e,1,null);return R.C(c,d,new YS(f,e))},W,a);if(Df(a)){var b=new Dh(-1);return w.C(function(c,d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);return R.C(c,r(d)?d:b.fe(null,b.ub(null)+1),new YS(e,f))},W,a)}throw bm("No matching `encore/cond!` clause",W);}
function bT(a){function b(f,h){var k=(new Date).getTime();wc(h)&&6.25E-5>=Math.random()&&(Ah(c,null),Bh.j(d,function(u){return Qd(Zf(function(v,y,E){E=Zf(function(G,I,N){var O=C.j(e,I);return r(O)?k>=N.lg+O.ag?S.j(G,I):G:S.j(G,I)},E,E);return wf(E)?Sd(v,y):Xg.C(v,y,E)},Od(r(u)?u:W),u))}));for(;;){var m=z(d),n=C.j(m,f),p=null==n?null:Zf(function(u,v,y,E,G,I){return function(N,O,U){var ea=C.j(I,O);if(r(ea)){if(U.n<ea.n)return N;U=U.lg+ea.ag-y;return 0>=U?N:null==N?new $S(qf([O,U]),O,U):U>N.og?new $S(R.C(N.m,
O,U),O,U):new $S(R.C(N.m,O,U),N.sh,N.og)}return N}}(m,n,k,c,d,e),null,n);if(r(r(h)?h:p))return h=p,r(h)?(f=h,new X(null,3,5,Z,[f.sh,f.og,f.m],null)):null;h=z(c);r(h)||(n=Zf(function(u,v,y,E,G){return function(I,N,O){return R.C(I,N,function(){var U=C.j(y,N);if(r(U)){var ea=U.lg;return G>=ea+O.ag?new ZS(1,G):new ZS(U.n+1,ea)}return new ZS(1,G)}())}}(h,m,n,p,k,c,d,e),n,e),Ah(d,R.C(m,f,n)));return null}}if(wf(a))return new X(null,2,5,Z,[null,th(null)],null);var c=zh(null),d=zh(null),e=aT(a);return new X(null,
2,5,Z,[d,function(){function f(n,p){if(r(T.j?T.j(n,Aw):T.call(null,n,Aw)))return r(T.j?T.j(p,ut):T.call(null,p,ut))?Ah(d,null):Bh.C(d,S,p),null;if(r(T.j?T.j(n,Ax):T.call(null,n,Ax)))return b(p,!0);throw bm("Unrecognized rate limiter command",new q(null,2,[Fv,n,Ur,p],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,p){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,p)}throw Error("Invalid arity: "+
arguments.length);};m.O=k;m.B=h;m.j=f;return m}()],null)}
var cT=function(){function a(d){return new bc(d)}function b(){return new bc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.O=b;c.B=a;return c}(),dT=function(){function a(e,f){e=e instanceof bc?e:cT.B(t.B(e));f=t.B(f);return e.append(f)}function b(e){return e instanceof bc?e:cT.B(t.B(e))}function c(){return cT.O()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.O=c;d.B=b;d.j=a;return d}();function eT(a,b){if(r(r(" ")?jh.j(" ",""):" ")){var c=Sh(),d=ag(dT,t);return r(a)?bg(uh.j(a,c),d,b):bg(c,d,b)}return r(a)?bg(a,ag(dT,t),b):t.B(w.j(dT,b))}
var fT=function fT(a){switch(arguments.length){case 2:return fT.j(arguments[0],arguments[1]);case 3:return fT.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};fT.j=function(a,b){return a.substring(b)};fT.C=function(a,b,c){return b>=c?"":a.substring(b,c)};fT.Y=3;
var gT=function gT(a){switch(arguments.length){case 2:return gT.j(arguments[0],arguments[1]);case 3:return gT.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};gT.j=function(a,b){return sS(a.substr(b))};gT.C=function(a,b,c){return sS(a.substr(b,c))};gT.Y=3;function hT(a){return void 0===a||null==a?"nil":a}
function iT(a){if(qC("/"))return t.B(w.C(dT,"",a));var b=new Dh(!1),c=new Dh(!0);return t.B(w.C(function(d,e){e=t.B(e);var f=F.j(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?jh.j(-1,e.indexOf("/",k-1)):null;var m=z(b),n=z(c);de(b,k);r(n)&&de(c,f);if(r(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||r(r(n)?n:f)||d.append("/");return d.append(e)},cT.O(),a))}
function jT(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return[t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("")}Yh.j(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var kT=function kT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return kT.F(c)};kT.F=function(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,wm);var c=C.j(b,fB),d=C.j(b,TB),e=C.j(b,Lt),f=C.j(b,js),h=C.j(b,fv),k=C.j(b,sn),m=C.j(b,Gu);b=C.j(b,Wu);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};
kT.Y=0;kT.ba=function(a){return this.F(H(a))};uh.j(function(a){return sg(qg(a),1E3)},kT);var lT=new pl(function(){return new iS});function mT(){var a=z(lT).Xe();return void 0===a?null:a}
var nT="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},oT="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},pT=function(){function a(c,d){if(r(nT(d)))return new X(null,2,5,Z,[c,d],null);if(r("undefined"!==typeof FormData?wS(oT,$i(d)):!1)){var e=new FormData;d=H(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=Q(m,0,null);m=Q(m,1,null);e.append(Gg(n),m);k+=1}else if(d=H(d))Ef(d)?(h=Xd(d),d=Yd(d),f=h,h=M(h)):
(h=J(d),f=Q(h,0,null),h=Q(h,1,null),e.append(Gg(f),h),d=K(d),f=null,h=0),k=0;else break;return new X(null,2,5,Z,[c,e],null)}return new X(null,2,5,Z,[c,b(d)],null)}var b=function(){function c(f,h){h=e.B(h);f=qC(h)?f:[t.B(f),"?",t.B(h)].join("");return new X(null,2,5,Z,[f,null],null)}function d(f){if(H(f)){var h=zl(f);f=Ob(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new Yb(null,void 0);h=Nb(h);for(var m=0;m<f.length;m++){var n=f[m],p=h[m];if(sa(p)){var u=k;u.remove(n);0<p.length&&
(u.uc=null,u.jb.set(ac(u,n),Wa(p)),u.count_+=p.length)}else k.add(n,p)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.B=d;e.j=c;return e}();return function(c,d,e){d=d instanceof D?d.na:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.B(d)].join(""));}}}();
function qT(a,b,c){var d=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,e=C.C(d,Ou,Lu);b=C.j(d,au);var f=C.j(d,Rm),h=C.C(d,Qn,1E4),k=C.C(d,cB,dr),m=C.j(d,mB),n=mT();if(r(n))try{var p=function(){var N=zu.B(d);return r(N)?N:h}(),u=function(){var N=e instanceof D?e.na:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.B(N)].join(""));}}(),v=pT(a,e,b),y=Q(v,0,null),E=Q(v,1,null),G=function(){var N=oS(function(O){return Gg(O).toLowerCase()},
f);N=CS(N,C.C(N,"x-requested-with","XMLHTTPRequest"));return zl(N)}(),I=function(){var N=Ft.B(d);return r(N)?(n.fh=!0,lR(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,fa=O.total,qa=r(r(U)?jh.j(fa,0):U)?ea/fa:null;O=new q(null,5,[YA,qa,lt,U,su,ea,at,fa,wA,O],null);return N.B?N.B(O):N.call(null,O)})):null}();mR(n,"ready",function(){return cS(z(lT),n)});mR(n,"complete",function(N){var O=SR(n),U=RR(n),ea=jh.j(U,-1)?function(){var ya=n.getResponseHeader("content-type"),Sa=function(){if(jh.j(k,
dr))var ka=k;else null==ya?ka=Pt:(ka=t.B(ya).toLowerCase(),ka=jh.j(-1,ka.indexOf("/edn"))?uv:jh.j(-1,ka.indexOf("/json"))?ts:jh.j(-1,ka.indexOf("/xml"))?Ov:Pt);try{var oa=ka instanceof D?ka.na:null;switch(oa){case "edn":return nS(UR(n));case "json":if(n.Fa){b:{var Ca=n.Fa.responseText;if(ma.JSON)try{var wa=ma.JSON.parse(Ca);break b}catch($b){}wa=BR(Ca)}var Ba=wa}else Ba=void 0;return Ba;case "xml":try{var Xa=n.Fa?n.Fa.responseXML:null}catch($b){Xa=null}return Xa;case "text":return UR(n);default:throw Error(["No matching clause: ",
t.B(oa)].join(""));}}catch($b){return new q(null,2,[zo,ka,cA,UR(n)],null)}}();return new X(null,3,5,Z,[U,ya,Sa],null)}():null,fa=Q(ea,0,null),qa=Q(ea,1,null);ea=Q(ea,2,null);r(I)&&uR(I);N=new q(null,7,[Uz,N,dv,n,az,O,kn,fa,CA,qa,et,ea,Zp,r(O)?null:r(fa)?fa:C.C(qf([0,null,5,ro,6,hy,7,cn,8,zu]),n.Rd,Qx)],null);return c.B?c.B(N):c.call(null,N)});n.hf=Math.max(0,r(p)?p:0);r(m)&&n.setWithCredentials(!0);n.send(y,u,E,G);return n}catch(N){return a=N,cS(z(lT),n),a=new q(null,1,[Zp,a],null),c.B?c.B(a):c.call(null,
a),null}else return a=new q(null,1,[Zp,up],null),c.B?c.B(a):c.call(null,a),null}function rT(a){return r(a)?lC(encodeURIComponent(t.B(a),a),"*","%2A"):null}function sT(a,b){Q(b,0,null);return r(a)?decodeURIComponent(t.B(a)):null}
function tT(a){function b(c,d){return[rT(uS(c)),"\x3d",rT(function(){var e=rS(d);return r(e)?e:t.B(d)}())].join("")}return wf(a)?"":mC("\x26",function(){return function e(d){return new Hg(null,function(){for(var f=d;;)if(f=H(f)){if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var v=0;;)if(v<k){var y=x(h,v),E=Q(y,0,null),G=Q(y,1,null);null!=G&&Og(m,zf(G)?mC("\x26",Yh.j(vh.j(b,E),function(){var I=H(G);return I?I:new X(null,1,5,Z,[""],null)}())):b(E,G));v+=1}else return!0}()?Ng(Pg(m),e(Yd(f))):
Ng(Pg(m),null)}var n=J(f),p=Q(n,0,null),u=Q(n,1,null);if(null!=u)return df(zf(u)?mC("\x26",Yh.j(vh.j(b,p),function(){var v=H(u);return v?v:new X(null,1,5,Z,[""],null)}())):b(p,u),e(Be(f)));f=Be(f)}else return null},null,null)}(a)}())}function uT(a,b,c){return R.C(a,b,function(){var d=C.j(a,b);return r(d)?Df(d)?lf.j(d,c):new X(null,2,5,Z,[d,c],null):c}())}
function vT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ze(b.slice(1),0,null):null;return wT(arguments[0],b)}function wT(a,b){var c=Q(b,0,null),d=Q(b,1,null);if(qC(a)||!jh.j(-1,a.indexOf("\x3d")))return W;a=0===a.indexOf("?")?wg.j(a,1):a;a=w.C(function(e,f){var h=pC(f,/=/,2);return r(h)?(f=Q(h,0,null),h=Q(h,1,null),uT(e,sT(f,P([d])),sT(h,P([d])))):e},W,oC(a,/&/));return r(c)?oS(Fg,a):a}
function xT(a,b){var c=pC(t.B(a),/\?/,2);a=Q(c,0,null);c=Q(c,1,null);b=NS(P([r(c)?oS(Fg,vT(c)):null,oS(Fg,b)]));b=tT(b);b="string"===typeof b?qC(b)?null:b:null;return r(b)?[t.B(a),"?",b].join(""):a}function yT(){return!0}function zT(){return!1}function AT(a){return jh.j(-1,a.indexOf("*"))?Nk(lC(lC(["^",t.B(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function BT(a,b){for(;;){if(r(function(){var n=new mk(null,new q(null,2,["*",null,fs,null],null),null);return n.B?n.B(a):n.call(null,a)}()))return yT;if(r(function(){var n=Nf([mf,ok,eq]);return n.B?n.B(a):n.call(null,a)}()))return zT;if(a instanceof RegExp)return function(n){return function(p){return Jk(n,p)}}(a,b,yT,zT,AT);if("string"===typeof a){var c=AT(a);if(r(c)){var d=b;a=c;b=d}else return function(n){return function(p){return F.j(p,n)}}(a,b,c,yT,zT,AT)}else if(Df(a)||yf(a)){if(r(function(){var n=
pk(a);return n.B?n.B("*"):n.call(null,"*")}()))return yT;if(F.j(M(a),1))c=J(a),d=b,a=c,b=d;else{var e=w.C(function(n,p,u,v,y){return function(E,G){var I=Q(E,0,null);E=Q(E,1,null);var N=G instanceof RegExp?G:y(G);return r(N)?new X(null,2,5,Z,[I,lf.j(E,N)],null):new X(null,2,5,Z,[lf.j(I,G),E],null)}}(a,b,yT,zT,AT),new X(null,2,5,Z,[ok,mf],null),a),f=Q(e,0,null),h=Q(e,1,null),k=kh(f),m=function(){var n=kh(h);return r(n)?(n=function(p,u,v,y,E,G,I,N,O,U,ea){return function(fa){return wS(function(){return function(qa){return Jk(qa,
fa)}}(p,u,v,y,E,G,I,N,O,U,ea),v)}}(a,b,n,n,e,f,h,k,yT,zT,AT),r(b)?Fl(n):n):null}();if(r(function(){var n=k;return r(n)?m:n}()))return function(n,p,u,v,y,E,G){return function(I){var N=E.B?E.B(I):E.call(null,I);return r(N)?N:G.B?G.B(I):G.call(null,I)}}(a,b,e,f,h,k,m,yT,zT,AT);if(r(k))return k;if(r(m))return m;throw bm("No matching `encore/cond!` clause",W);}}else throw bm("Unexpected compile spec type",new q(null,2,[Fv,a,dq,zc(a)],null));}}
function CT(a){for(;;){if(Af(a)){var b=C.j(a,ps),c=function(){var h=C.j(a,dn);return r(h)?h:C.j(a,bC)}(),d=function(){var h=C.j(a,Eq);return r(h)?h:C.j(a,Yn)}(),e=function(){var h=c;return r(h)?BT(h,b):null}(),f=function(){var h=d;return r(h)?BT(h,b):null}();if(F.j(f,yT)||F.j(e,zT))return zT;if(r(function(){var h=e;return r(h)?f:h}()))return function(h,k,m,n,p,u){return function(v){v=t.B(v);return r(p.B?p.B(v):p.call(null,v))?r(u.B?u.B(v):u.call(null,v))?!1:!0:!1}}(a,b,c,d,e,f,yT,zT,AT,BT);if(r(e))return F.j(e,
yT)?yT:function(h,k,m,n,p){return function(u){u=t.B(u);u=p.B?p.B(u):p.call(null,u);return r(u)?!0:!1}}(a,b,c,d,e,f,yT,zT,AT,BT);if(r(f))return F.j(f,zT)?yT:function(h,k,m,n,p,u){return function(v){v=t.B(v);v=u.B?u.B(v):u.call(null,v);return r(v)?!0:!1}}(a,b,c,d,e,f,yT,zT,AT,BT);throw bm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new q(null,2,[us,c,Dn,d],null));}a=new q(null,2,[dn,a,Eq,null],null)}}uh.j(kh,ES);uh.j(kh,FS);uh.j(sS,fT);uh.j(sS,gT);var DT={xh:["BC","AD"],wh:["Before Christ","Anno Domini"],zh:"JFMAMJJASOND".split(""),Gh:"JFMAMJJASOND".split(""),yh:"January February March April May June July August September October November December".split(" "),Fh:"January February March April May June July August September October November December".split(" "),Ch:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ih:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Nh:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Kh:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Eh:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Jh:"Sun Mon Tue Wed Thu Fri Sat".split(" "),nj:"SMTWTFS".split(""),Hh:"SMTWTFS".split(""),Dh:["Q1","Q2","Q3","Q4"],Ah:["1st quarter","2nd quarter","3rd quarter","4th quarter"],th:["AM","PM"],pg:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],tg:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],uh:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],qg:6,pj:[5,6],rg:5},ET=DT;
ET=DT;function FT(a,b,c,d,e){a=new Date(a,b,c);e=e||0;return a.valueOf()+864E5*(((void 0!==d?d:3)-e+7)%7-((a.getDay()+6)%7-e+7)%7)};function GT(){}
function HT(a){if("number"==typeof a){var b=new GT;b.oh=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",Lb(c,2));c=d.join("")}b.ig=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=IT(a);b.kg=[c,c];b.Kd={oj:a,sg:a};b.jf=[];return b}b=new GT;b.ig=a.id;b.oh=-a.std_offset;b.kg=a.names;b.Kd=a.names_ext;b.jf=a.transitions;return b}
function IT(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(Lb(Math.floor(a/60)%100,2),":",Lb(a%60,2));return b.join("")}function JT(a,b){b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5;for(var c=0;c<a.jf.length&&b>=a.jf[c];)c+=2;return 0==c?0:a.jf[c-1]}GT.prototype.getOffset=function(a){return this.oh-JT(this,a)};function KT(a){this.ef=[];this.Ya=ET;"number"==typeof a?LT(this,a):MT(this,a)}var NT=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/];function OT(a){return a.getHours?a.getHours():0}
function MT(a,b){for(PT&&(b=b.replace(/\u200f/g,""));b;){for(var c=b,d=0;d<NT.length;++d){var e=b.match(NT[d]);if(e){var f=e[0];b=b.substring(f.length);0==d&&("''"==f?f="'":(f=f.substring(1,"'"==e[1]?f.length-1:f.length),f=f.replace(/''/g,"'")));a.ef.push({text:f,type:d});break}}if(c===b)throw Error("Malformed pattern part: "+b);}}
KT.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(var f=0;f<this.ef.length;++f){var h=this.ef[f].text;1==this.ef[f].type?c.push(QT(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function LT(a,b){if(4>b)var c=a.Ya.pg[b];else if(8>b)c=a.Ya.tg[b-4];else if(12>b)c=a.Ya.uh[b-8],c=c.replace("{1}",a.Ya.pg[b-8]),c=c.replace("{0}",a.Ya.tg[b-8]);else{LT(a,10);return}MT(a,c)}function RT(a,b){b=String(b);a=a.Ya||ET;if(void 0!==a.Oh){for(var c=[],d=0;d<b.length;d++){var e=b.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(a.Oh+e-48):b.charAt(d))}b=c.join("")}return b}var PT=!1;
function ST(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function QT(a,b,c,d,e,f){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.Ya.wh[c]:a.Ya.xh[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),RT(a,Lb(c,h));case "Y":return c=(new Date(FT(d.getFullYear(),d.getMonth(),d.getDate(),a.Ya.rg,a.Ya.qg))).getFullYear(),0>c&&(c=-c),2==h&&(c%=100),RT(a,Lb(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.Ya.zh[c];break a;case 4:h=a.Ya.yh[c];break a;case 3:h=a.Ya.Ch[c];break a;default:h=RT(a,Lb(c+1,h))}return h;
case "k":return ST(e),RT(a,Lb(OT(e)||24,h));case "S":return RT(a,(e.getMilliseconds()/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?Lb(0,h-3):""));case "E":return c=d.getDay(),4<=h?a.Ya.Nh[c]:a.Ya.Eh[c];case "a":return ST(e),h=OT(e),a.Ya.th[12<=h&&24>h?1:0];case "h":return ST(e),RT(a,Lb(OT(e)%12||12,h));case "K":return ST(e),RT(a,Lb(OT(e)%12,h));case "H":return ST(e),RT(a,Lb(OT(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.Ya.Hh[c];break a;case 4:h=a.Ya.Kh[c];break a;case 3:h=a.Ya.Jh[c];break a;
default:h=RT(a,Lb(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.Ya.Gh[c];break a;case 4:h=a.Ya.Fh[c];break a;case 3:h=a.Ya.Ih[c];break a;default:h=RT(a,Lb(c+1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.Ya.Dh[c]:a.Ya.Ah[c];case "d":return RT(a,Lb(d.getDate(),h));case "m":return ST(e),RT(a,Lb(e.getMinutes(),h));case "s":return ST(e),RT(a,Lb(e.getSeconds(),h));case "v":return h=f||HT(c.getTimezoneOffset()),h.ig;case "V":return a=f||HT(c.getTimezoneOffset()),2>=h?
h=a.ig:(h=a,h=0<JT(h,c)?void 0!==h.Kd.vh?h.Kd.vh:h.Kd.DST_GENERIC_LOCATION:void 0!==h.Kd.sg?h.Kd.sg:h.Kd.STD_GENERIC_LOCATION),h;case "w":return c=FT(e.getFullYear(),e.getMonth(),e.getDate(),a.Ya.rg,a.Ya.qg),RT(a,Lb(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=f||HT(c.getTimezoneOffset()),4>h?a.kg[0<JT(a,c)?2:0]:a.kg[0<JT(a,c)?3:1];case "Z":return b=f||HT(c.getTimezoneOffset()),4>h?(h=-b.getOffset(c),a=[0>h?"-":"+"],h=Math.abs(h),
a.push(Lb(Math.floor(h/60)%100,2),Lb(h%60,2)),h=a.join("")):h=RT(a,IT(b.getOffset(c))),h;default:return""}};function TT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;return UT(b)}function UT(a){Q(a,0,null);return new q(null,6,[ax,!0,tq,!1,GA,null,jr,null,Vs,rA,fA,function(b){b=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;b=C.j(b,AB);b=P([tl(b)]);var c=R.C(mc(),oc,!1);Rk(al(b,c));return r(ic)?cl():null}],null)}
function VT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;return WT(b)}
function WT(a){Q(a,0,null);return new q(null,6,[ax,!0,tq,!1,GA,null,jr,null,Vs,rA,fA,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof D?c.na:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.B(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(sm.B(c));if(r(d)){if(r(function(){var h=C.j(c,oo);return r(h)?h:ai(c,new X(null,2,5,Z,[wz,oo],null))}())){var e=function(){var h=R.F(c,tA,"",P([Vp,null])),k=Vs.B(c);return k.B?k.B(h):k.call(null,h)}(),f=function(){var h=zz.B(c),k=Vp.B(c);return r(k)?df(e,df(k,h)):df(e,h)}();return d.apply(console,Gc(f))}return d.call(console,tl(AB.B(c)))}return null}}()],null)};Df(mS)?AS(new X(null,3,5,Z,[2,126,2],null)):AS(2.126);var XT=new q(null,1,[mA,ds],null),YT=function YT(a){switch(arguments.length){case 1:return YT.B(arguments[0]);case 2:return YT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};YT.B=function(a){return YT.j(null,a)};
YT.j=function(a,b){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,wq);C.j(c,Ez);var e=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;b=C.j(e,sm);c=C.j(e,Vp);var f=C.j(e,tA),h=C.j(e,qr),k=C.j(e,py);C.j(e,hv);var m=C.j(e,bA);e=C.j(e,wv);m=tl(m);return[r(m)?[t.B(m)," "].join(""):null,Gg(b).toUpperCase()," [",t.B(r(h)?h:r(k)?k:"?"),":",t.B(r(e)?e:"?"),"] - ",t.B(tl(f)),r(d)?null:r(c)?["\n",t.B(ZT?ZT(c,a):$T.call(null,c,a))].join(""):null].join("")};YT.Y=2;
var aU=new q(null,6,[GA,kx,jx,new mk(null,new q(null,1,["*",null],null),null),Uw,mf,bw,XT,Vs,YT,xx,"undefined"!==typeof window?new q(null,1,[xA,VT.B?VT.B(W):VT.call(null,W)],null):new q(null,1,[Iv,TT.B?TT.B(W):TT.call(null,W)],null)],null);function bU(a){switch(a instanceof D?a.na:null){case "trace":return 0;case "debug":return 1;case "info":return 2;case "warn":return 3;case "error":return 4;case "fatal":return 5;case "report":return 6;default:return null}}
function cU(a){if(r(bU(a)))return a;throw bm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[Fv,a,dq,zc(a)],null));}function dU(a){var b=bU(a);if(r(b))return b;throw bm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[Fv,a,dq,zc(a)],null));}function eU(a,b){return(dU.B?dU.B(a):dU.call(null,a))>=(dU.B?dU.B(b):dU.call(null,b))}
var fU=Fl(function(a){return CT(a)}),gU=Fl(function(a,b){a=fU(a);return a.B?a.B(b):a.call(null,b)});function hU(a,b){a=r(rf.B?rf.B(a):rf.call(null,a))?a.B?a.B(b):a.call(null,b):gU(a,b);return r(a)?!0:!1}var iU=Fl(function(a,b){return wS(function(c){var d=Q(c,0,null);c=Q(c,1,null);return r(gU(d,b))?cU(c):null},a)});function jU(a,b,c){b=Df(b)?iU(b,c):b;a=r(b)?b:a;return cU.B?cU.B(a):cU.call(null,a)}
function kU(a){if(r(a)){var b=Nf([mf,ok]);b=b.B?b.B(a):b.call(null,a);a=r(b)?null:a}else a=null;return a}function lU(a,b){a=kU(a);b=kU(b);return r(r(a)?a:b)?new q(null,2,[dn,a,Eq,b],null):null}
function mU(a,b,c){var d=r(c)?c:aU;c=function(){var e=C.j(d,GA);e=r(e)?e:C.j(d,sm);return jU.C?jU.C(a,e,ja):jU.call(null,a,e,ja)}();return r(eU.j?eU.j(b,c):eU.call(null,b,c))?(b=function(){var e=C.j(d,jx);if(r(e))return e;e=C.j(d,tn);var f=C.j(d,Up);return lU.j?lU.j(e,f):lU.call(null,e,f)}(),r(b)?r(hU.j?hU.j(b,ja):hU.call(null,b,ja))?!0:!1:!0):!1}function nU(a){return eT(Hh.B(function(b){b=hT(b);return Bf(b)?dl.F(P([b])):b}),a)}var oU=Fl(function(a,b){a=bT(b);Q(a,0,null);return Q(a,1,null)});
function pU(a){var b=T.j?T.j(dr,dr):T.call(null,dr,dr),c=T.j?T.j(ww,ww):T.call(null,ww,ww),d=Q(a,0,null);if(r(r(b)?d instanceof Error:b)){b=d;d=null;var e=GS(a);a=r(c)?Q(e,0,null):null;c=r(c)?GS(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}d=r(Af(d)?pc.B(uf(d)):!1)?d:null;e=Pq.B(d);b=r(e)?e:r(b)?null:dr;d=S.j(d,Pq);e=r(d)?GS(a):a;a=r(c)?Q(e,0,null):null;c=r(c)?GS(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}
function qU(a,b,c,d){if(mU(pn,a,aU)){var e=new Date;c=z(c);c=pU(c);var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);e=lf.j(r(null)?null:W,Kj([Mr,dB,FB,zz,py,qu,qr,sm,Vp,Rz,wv,vm,wz,nv],[e,null,aU,c,null,function(){var y=new mk(null,new q(null,2,[hr,null,tp,null],null),null);return y.B?y.B(a):y.call(null,a)}(),ja,a,f,null,b,new pl(function(){return f}),h,k]));e=w.C(function(y,E){y=E.B?E.B(y):E.call(null,y);return null==y?Me(null):y},e,Uw.B(aU));if(r(e)){c=null!=e&&(e.J&64||l===e.qa)?dh(dk,
e):e;var m=C.j(c,zz);e=R.C(e,jo,new pl(function(){return m}));var n=DS.F(e,tA,new pl(function(){if(F.j(null,ww))return"";if(F.j(Kw,ww))return nU(m);if(F.j(ww,ww)){if("string"!==typeof k)throw bm("Timbre format-style logging call without a format pattern (string)",new q(null,2,[sm,a,Nv,[t.B(r(ja)?ja:r(null)?null:"?"),":",t.B(r(b)?b:"?")].join("")],null));var y=r(k)?k:"",E=Yh.j(hT,m);return eh(SQ,y,E)}throw Error(["No matching clause: ",t.B(ww)].join(""));}),P([gy,new pl(function(){return pe(new X(null,
3,5,Z,[d,k,C.C(h,zA,m)],null))})])),p=Fl(C.C(aU,Vs,YT)),u=lf.j(XT,C.j(aU,bw)),v=Fl(function(y){return new pl(function(){var E=C.j(n,Mr),G=null!=y&&(y.J&64||l===y.qa)?dh(dk,y):y;G=C.j(G,mA);return r(T.j?T.j(G,ds):T.call(null,G,ds))?(new Date(E)).toISOString():(new KT(G)).format(E)})});Zf(function(y,E,G){if(r(function(){var fa=ax.B(G);return r(fa)?mU(xw,a,G):fa}())){var I=jr.B(G);if(function(){var fa=wf(I);if(fa)return fa;fa=oU(E,I);var qa=tl(gy.B(n));fa=fa.B?fa.B(qa):fa.call(null,qa);return wc(fa)}()){var N=
null!=G&&(G.J&64||l===G.qa)?dh(dk,G):G;y=C.j(N,fA);C.j(N,tq);var O=function(){var fa=Vs.B(G);var qa=(qa=null==fa)?qa:T.j?T.j(fa,rA):T.call(null,fa,rA);return r(qa)?p:fa}(),U=function(){var fa=bw.B(G);var qa=(qa=null==fa)?qa:T.j?T.j(fa,rA):T.call(null,fa,rA);return r(qa)?v(u):v(lf.j(u,fa))}(),ea=lf.j(n,new q(null,5,[On,E,Iz,G,Vs,O,AB,new pl(function(){var fa=R.C(n,bA,U);return O.B?O.B(fa):O.call(null,fa)}),bA,U],null));N=function(){var fa=xm.B(G);return r(fa)?fa.B?fa.B(ea):fa.call(null,ea):ea}();return r(N)?
y.B?y.B(N):y.call(null,N):null}}return null},null,xx.B(aU))}}return null}function $T(a){switch(arguments.length){case 1:return ZT(arguments[0],null);case 2:return ZT(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function ZT(a){var b=a.stack;return r(b)?b:t.B(a)};function rU(a,b){if(null!=a&&null!=a.ph)a=a.ph(a,b);else{var c=rU[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=rU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IPacker.pack",a);}return a}function sU(a,b){if(null!=a&&null!=a.qh)a=a.qh(a,b);else{var c=sU[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=sU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IPacker.unpack",a);}return a};Df(mS)?AS(new X(null,3,5,Z,[2,105,0],null)):AS(2.105);var tU=F.j("default","nodejs"),uU=zh(!1);function vU(a,b){return new q(null,2,[fm,a,wp,new q(null,2,[dq,zc(b),Xw,b],null)],null)}
function wU(a){if(Df(a)){var b=M(a);var c=new mk(null,new q(null,2,[1,null,2,null],null),null);b=c.B?c.B(b):c.call(null,b);if(wc(b))return new q(null,1,[Yv,vU(new mk(null,new q(null,2,[1,null,2,null],null),null),a)],null);b=Q(a,0,null);Q(a,1,null);return b instanceof D?wc(Dg(b))?new q(null,1,[pt,vU(lr,b)],null):null:new q(null,1,[Uo,vU(aC,b)],null)}return new q(null,1,[ox,vU(lx,a)],null)}function xU(a){var b=wU(a);if(r(b))throw bm("Invalid event",new q(null,2,[Fv,a,eC,b],null));}
function yU(a,b){var c=0===b.indexOf("+"),d=wg.j(b,1),e=function(){try{return sU(a,d)}catch(m){var k=m;qU(kx,215,new pl(function(){return new X(null,3,5,Z,["Bad package: %s (%s)",d,k],null)}),2074351210);return new X(null,2,5,Z,[cy,d],null)}}();c=c?e:new X(null,2,5,Z,[e,null],null);var f=Q(c,0,null);c=Q(c,1,null);var h=F.j(0,c)?Cw:c;qU(xw,221,new pl(function(){return new X(null,3,5,Z,["Unpacking: %s -\x3e %s",b,new X(null,2,5,Z,[f,h],null)],null)}),1148408242);return new X(null,2,5,Z,[f,h],null)}
function zU(a,b,c){c=F.j(c,Cw)?0:c;var d=r(c)?new X(null,2,5,Z,[b,c],null):new X(null,1,5,Z,[b],null),e=["+",t.B(rU(a,d))].join("");qU(xw,237,new pl(function(){return new X(null,3,5,Z,["Packing (wrapped): %s -\x3e %s",d,e],null)}),146343430);return e}function AU(){}AU.prototype.ph=function(a,b){a:{a=lc;var c=kc;kc=lc=null;try{var d=dl.F(P([b]));break a}finally{kc=c,lc=a}d=void 0}return d};AU.prototype.qh=function(a,b){return nS(b)};var BU=new AU;function CU(a){return F.j(a,uv)?BU:a}
function DU(a){if(null!=a&&null!=a.Vd)a=a.Vd(a);else{var b=DU[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=DU._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChSocket.-chsk-connect!",a);}return a}function EU(a,b){if(null!=a&&null!=a.gf)a=a.gf(a,b);else{var c=EU[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=EU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IChSocket.-chsk-disconnect!",a);}return a}
function FU(a,b,c){if(null!=a&&null!=a.Ae)a=a.Ae(a,b,c);else{var d=FU[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=FU._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IChSocket.-chsk-send!",a);}return a}
var GU=function GU(a){switch(arguments.length){case 2:return GU.j(arguments[0],arguments[1]);case 4:return GU.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return GU.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};GU.j=function(a,b){return GU.C(a,b,W)};GU.P=function(a,b,c,d){return GU.C(a,b,new q(null,2,[Qn,c,iB,d],null))};
GU.C=function(a,b,c){qU(xw,886,new pl(function(){return new X(null,3,5,Z,["Chsk send: (%s) %s",R.C(c,iB,If(iB.B(c))),b],null)}),-2121838341);return FU(a,b,c)};GU.Y=4;function HU(a){qU(Fz,890,new pl(function(){return new X(null,1,5,Z,["Chsk send against closed chsk."],null)}),-1386440150);r(a)&&(a.B?a.B(SB):a.call(null,SB));return!1}function IU(a,b){return r(b)?US(a,new X(null,1,5,Z,[b],null),function(c){return new OS(jB,c)}):null}
function JU(a,b){var c=TS(Vy.B(a),function(e){var f=b.B?b.B(e):b.call(null,e);f=r(Lo.B(e))?R.C(f,Lo,!1):f;f=r(wy.B(f))?S.j(f,Kv):f;return new OS(f,new X(null,2,5,Z,[e,f],null))}),d=Q(c,0,null);c=Q(c,1,null);return jh.j(d,c)?(d=new X(null,2,5,Z,[d,c],null),JQ(ai(a,new X(null,2,5,Z,[hx,$n],null)),new X(null,2,5,Z,[bs,d],null)),d):null}function KU(a,b){var c=wy.B(a);c=r(c)?c:jh.j(b,ms);return r(c)?R.F(S.j(a,Kv),wy,!1,P([Iw,new q(null,2,[Ln,XS(),CB,b],null)])):a}
function LU(a,b){if(null==a||Jf(a))return a;xU(b);var c=Q(b,0,null);Q(b,1,null);return function(d){return JQ(a,new X(null,2,5,Z,[Fg.B([uS(c),".cb"].join("")),d],null))}}
function MU(a,b){qU(xw,964,new pl(function(){return new X(null,2,5,Z,["receive-buffered-evs!: %s",b],null)}),2143087078);for(var c=H(b),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);xU(h);Q(h,0,null);JQ(Uq.B(a),h);f+=1}else if(c=H(c))d=c,Ef(d)?(c=Xd(d),e=Yd(d),d=c,h=M(c),c=e,e=h):(h=J(d),xU(h),Q(h,0,null),JQ(Uq.B(a),h),c=K(d),d=null,e=0),f=0;else return null}function NU(a){return Df(a)?(a=Q(a,0,null),F.j(a,lB)):!1}
function OU(a,b,c){qU(xw,979,new pl(function(){return new X(null,3,5,Z,["receive-handshake! (%s): %s",a,c],null)}),-268184691);Q(c,0,null);var d=Q(c,1,null),e=Q(d,0,null);Q(d,1,null);var f=Q(d,2,null),h=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;d=C.j(h,hx);h=C.j(h,Qy);h=Ch(h);var k=new q(null,6,[dq,a,wy,!0,vt,!0,bp,e,Cp,f,Lo,h],null);e=new X(null,2,5,Z,[lB,new X(null,4,5,Z,[e,null,f,h],null)],null);xU(e);JU(b,function(m){return hk.F(P([m,k]))});JQ(Qr.B(d),e)}
var PU=function(){var a="undefined"!==typeof require?require:th(ws);return new pl(function(){if(tU&&"undefined"!==typeof require)try{var b=[t.B("web"),"socket"].join("");return a.B?a.B(b):a.call(null,b)}catch(c){return null}else return null})}();
function QU(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;C.j(a,cv);C.j(a,Yp);C.j(a,IB);C.j(a,Ar);C.j(a,Rm);var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,cv);var c=C.j(b,Yp),d=C.j(b,IB),e=C.j(b,Ar);C.j(b,Rm);b=BS(ma,"WebSocket");r(b)||(b=BS(ma,"MozWebSocket"),b=r(b)?b:BS(z(PU),"w3cwebsocket"));r(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function RU(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){this.Ea=a;this.Da=b;this.params=c;this.headers=d;this.Ca=e;this.url=f;this.ib=h;this.state_=k;this.Aa=m;this.cb=n;this.Ga=p;this.Ba=u;this.Xa=v;this.$a=y;this.ab=E;this.G=G;this.D=I;this.I=N;this.J=2230716170;this.T=139264}g=RU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "client-id":return this.Ea;case "chs":return this.Da;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Ca;case "url":return this.url;case "ws-kalive-ms":return this.ib;case "state_":return this.state_;case "instance-handle_":return this.Aa;case "retry-count_":return this.cb;case "ever-opened?_":return this.Ga;case "backoff-ms-fn":return this.Ba;case "cbs-waiting_":return this.Xa;case "socket_":return this.$a;
case "udt-last-comms_":return this.ab;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,V.j(new X(null,15,5,Z,[new X(null,2,5,Z,[It,this.Ea],null),new X(null,2,5,Z,[hx,this.Da],null),new X(null,2,5,Z,[au,this.params],null),new X(null,2,5,Z,[Rm,this.headers],null),new X(null,2,5,Z,[Zy,this.Ca],null),new X(null,2,5,Z,[Jy,this.url],null),new X(null,2,5,Z,[Ex,this.ib],null),new X(null,2,5,Z,[Vy,this.state_],null),new X(null,2,5,Z,[Cr,this.Aa],null),new X(null,2,5,Z,[du,this.cb],
null),new X(null,2,5,Z,[Qy,this.Ga],null),new X(null,2,5,Z,[Qz,this.Ba],null),new X(null,2,5,Z,[dy,this.Xa],null),new X(null,2,5,Z,[dA,this.$a],null),new X(null,2,5,Z,[Tt,this.ab],null)],null),this.D))};g.oa=function(){return new Ti(this,15,new X(null,15,5,Z,[It,hx,au,Rm,Zy,Jy,Ex,Vy,Cr,du,Qy,Qz,dy,dA,Tt],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 15+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1998688700^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Ea,b.Ea)&&F.j(this.Da,b.Da)&&F.j(this.params,b.params)&&F.j(this.headers,b.headers)&&F.j(this.Ca,b.Ca)&&F.j(this.url,b.url)&&F.j(this.ib,b.ib)&&F.j(this.state_,b.state_)&&F.j(this.Aa,b.Aa)&&F.j(this.cb,b.cb)&&F.j(this.Ga,b.Ga)&&F.j(this.Ba,b.Ba)&&F.j(this.Xa,b.Xa)&&F.j(this.$a,b.$a)&&F.j(this.ab,b.ab)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,15,[Ex,null,Qy,null,It,null,Zy,null,hx,null,Tt,null,au,null,du,null,Rm,null,Qz,null,dA,null,Jy,null,Cr,null,dy,null,Vy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(It,b):T.call(null,It,b))?new RU(c,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(hx,b):T.call(null,hx,b))?new RU(this.Ea,c,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(au,b):T.call(null,au,b))?new RU(this.Ea,this.Da,c,this.headers,this.Ca,this.url,this.ib,
this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Rm,b):T.call(null,Rm,b))?new RU(this.Ea,this.Da,this.params,c,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Zy,b):T.call(null,Zy,b))?new RU(this.Ea,this.Da,this.params,this.headers,c,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Jy,b):T.call(null,Jy,b))?new RU(this.Ea,
this.Da,this.params,this.headers,this.Ca,c,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Ex,b):T.call(null,Ex,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,c,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Vy,b):T.call(null,Vy,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,c,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,
this.D,null):r(T.j?T.j(Cr,b):T.call(null,Cr,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,c,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(du,b):T.call(null,du,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,c,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Qy,b):T.call(null,Qy,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,
this.state_,this.Aa,this.cb,c,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Qz,b):T.call(null,Qz,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,c,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(dy,b):T.call(null,dy,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,c,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(dA,b):T.call(null,dA,b))?new RU(this.Ea,
this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,c,this.ab,this.G,this.D,null):r(T.j?T.j(Tt,b):T.call(null,Tt,b))?new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,c,this.G,this.D,null):new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,15,5,Z,[new Y(It,this.Ea),new Y(hx,this.Da),new Y(au,this.params),new Y(Rm,this.headers),new Y(Zy,this.Ca),new Y(Jy,this.url),new Y(Ex,this.ib),new Y(Vy,this.state_),new Y(Cr,this.Aa),new Y(du,this.cb),new Y(Qy,this.Ga),new Y(Qz,this.Ba),new Y(dy,this.Xa),new Y(dA,this.$a),new Y(Tt,this.ab)],null),this.D))};
g.fa=function(a,b){return new RU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.gf=function(a,b){Ah(this.Aa,null);JU(this,function(c){return KU(c,b)});a=z(this.$a);return r(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.Ae=function(a,b,c){var d=this;a=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;var e=C.j(a,Qn);c=C.j(a,iB);C.j(a,kp);xU(b);var f=LU(c,b);if(wc(wy.B(z(d.state_))))return HU(f);var h=r(f)?gT.C(jT(),0,6):null;b=zU(d.Ca,b,h);if(r(h)&&(WS(d.Xa,new X(null,1,5,Z,[h],null),f),r(e))){var k=HQ(1,null);hQ(function(){var n=function(){function u(v){var y=v[1];if(1===y)return y=yQ(e),DQ(v,2,y);if(2===y){y=v[2];var E=IU(d.Xa,h);v[7]=E;v[8]=y;v[1]=r(E)?3:4;return zn}return 3===y?(y=v[7],y=y.B?y.B(Fn):y.call(null,Fn),v[2]=
y,v[1]=5,zn):4===y?(v[2]=null,v[1]=5,zn):5===y?FQ(v,v[2]):null}return function(){function v(G){for(;;){a:try{for(;;){var I=u(G);if(!T(I,zn)){var N=I;break a}}}catch(O){N=O;G[2]=N;if(H(G[4]))G[1]=J(G[4]);else throw N;N=zn}if(!T(N,zn))return N}}function y(){var G=[null,null,null,null,null,null,null,null,null];G[0]=E;G[1]=1;return G}var E=null;E=function(G){switch(arguments.length){case 0:return y.call(this);case 1:return v.call(this,G)}throw Error("Invalid arity: "+arguments.length);};E.O=y;E.B=v;return E}()}(),
p=function(){var u=n();u[6]=k;return u}();return CQ(p)})}try{return z(d.$a).send(b),Ah(d.ab,XS()),km}catch(n){var m=n;qU(tp,1137,new pl(function(){return new X(null,2,5,Z,[m,"Chsk send error"],null)}),-421117967);r(h)&&(b=function(){var p=IU(d.Xa,h);return r(p)?p:f}(),b.B?b.B(om):b.call(null,om));return!1}};
g.Vd=function(){function a(){return F.j(z(b.Aa),d)}var b=this,c=this,d=Ah(b.Aa,jT()),e=b.ib;if(r(e)){var f=HQ(1,null);hQ(function(){var h=function(){function m(n){var p=n[1];if(7===p)return n[2]=n[2],n[1]=3,zn;if(1===p)return n[2]=null,n[1]=2,zn;if(4===p){p=n[2];var u=a();n[7]=p;n[1]=u?5:6;return zn}return 6===p?(n[2]=null,n[1]=7,zn):3===p?FQ(n,n[2]):2===p?(p=z(b.ab),u=yQ(e),n[8]=p,DQ(n,4,u)):9===p?(n[2]=null,n[1]=10,zn):5===p?(p=n[8],u=z(b.ab),p=F.j(p,u),n[1]=p?8:9,zn):10===p?(n[9]=n[2],n[2]=null,
n[1]=2,zn):8===p?(p=new X(null,1,5,Z,[Mo],null),u=Kj([kp],[!0]),p=c.Ae(null,p,u),n[2]=p,n[1]=10,zn):null}return function(){function n(v){for(;;){a:try{for(;;){var y=m(v);if(!T(y,zn)){var E=y;break a}}}catch(G){E=G;v[2]=E;if(H(v[4]))v[1]=J(v[4]);else throw E;E=zn}if(!T(E,zn))return E}}function p(){var v=[null,null,null,null,null,null,null,null,null,null];v[0]=u;v[1]=1;return v}var u=null;u=function(v){switch(arguments.length){case 0:return p.call(this);case 1:return n.call(this,v)}throw Error("Invalid arity: "+
arguments.length);};u.O=p;u.B=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return CQ(k)})}Ah(b.cb,0);(function k(){if(a()){var m=function(){if(a()){var E=Bh.j(b.cb,Ke),G=b.Ba.B?b.Ba.B(E):b.Ba.call(null,E),I=XS()+G;qU(Fz,1156,new pl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",E,G],null)}),209541286);ma.setTimeout(k,G);return JU(c,function(N){return R.C(N,Kv,I)})}return null},n=function(E){qU(tp,1169,new pl(function(){var G=Z;try{var I=
Dl(E)}catch(N){I=E}return new X(null,2,5,G,["WebSocket error: %s",I],null)}),-171668808);return JU(c,function(G){return R.C(G,Tr,new q(null,2,[Ln,XS(),wA,E],null))})},p=function(E){E=BS(E,"data");E=yU(b.Ca,E);var G=Q(E,0,null);E=Q(E,1,null);Ah(b.ab,XS());if(NU(G)){OU(qq,c,G);Ah(b.cb,0);var I=sp}else I=null;if(r(I))return I;F.j(G,Mo)?(JQ(Uq.B(b.Da),new X(null,1,5,Z,[Mo],null)),I=yp):I=null;return r(I)?I:r(E)?(E=IU(b.Xa,E),r(E)?E.B?E.B(G):E.call(null,G):qU(Fz,1213,new pl(function(){return new X(null,
2,5,Z,["Cb reply w/o local cb-fn: %s",G],null)}),2109998925)):MU(b.Da,G)},u=function(E){var G=new q(null,5,[Ln,XS(),wA,E,Go,BS(E,"wasClean"),xq,BS(E,"code"),CB,BS(E,"reason")],null);if(r(Go.B(G)))return qU(kx,1239,new pl(function(){return new X(null,1,5,Z,["Clean WebSocket close, will not attempt reconnect"],null)}),1215984039),JU(c,function(I){return R.C(I,Gy,G)});JU(c,function(I){return R.C(KU(I,ms),Gy,G)});return m()},v=function(){try{return QU(new q(null,5,[cv,n,Yp,p,IB,u,Rm,b.headers,Ar,xT(b.url,
hk.F(P([b.params,new q(null,2,[It,b.Ea,Zr,Zr.B(z(b.state_))],null)])))],null))}catch(G){var E=G;qU(tp,1262,new pl(function(){return new X(null,2,5,Z,[E,"WebSocket error"],null)}),-1866288598);return null}}();if(wc(v))return m();var y=z(b.$a);r(y)&&y.close();return Ah(b.$a,v)}return null})();return c};
function SU(a,b){a=hk.F(P([new q(null,7,[Vy,zh(new q(null,4,[dq,qq,wy,!1,vt,!1,Zr,b],null)),Cr,zh(null),du,zh(0),Qy,zh(!1),dy,zh(W),dA,zh(null),Tt,zh(null)],null),a]));b=S.F(a,It,P([hx,au,Rm,Zy,Jy,Ex,Vy,Cr,du,Qy,Qz,dy,dA,Tt]));b=Bf(a)?Xh.j(W,b):b;return new RU(It.B(a),hx.B(a),au.B(a),Rm.B(a),Zy.B(a),Jy.B(a),Ex.B(a),Vy.B(a),Cr.B(a),du.B(a),Qy.B(a),Qz.B(a),dy.B(a),dA.B(a),Tt.B(a),null,kh(b),null)}var TU=kT.F(P([js,60]));
function UU(a,b,c,d,e,f,h,k,m,n,p,u,v,y){this.Ea=a;this.Da=b;this.params=c;this.Ca=d;this.url=e;this.state_=f;this.Aa=h;this.Ga=k;this.Ba=m;this.fb=n;this.lb=p;this.G=u;this.D=v;this.I=y;this.J=2230716170;this.T=139264}g=UU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "client-id":return this.Ea;case "chs":return this.Da;case "params":return this.params;case "packer":return this.Ca;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Aa;case "ever-opened?_":return this.Ga;case "backoff-ms-fn":return this.Ba;case "ajax-opts":return this.fb;case "curr-xhr_":return this.lb;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,V.j(new X(null,11,5,Z,[new X(null,2,5,Z,[It,this.Ea],null),new X(null,2,5,Z,[hx,this.Da],null),new X(null,2,5,Z,[au,this.params],null),new X(null,2,5,Z,[Zy,this.Ca],null),new X(null,2,5,Z,[Jy,this.url],null),new X(null,2,5,Z,[Vy,this.state_],null),new X(null,2,5,Z,[Cr,this.Aa],null),new X(null,2,5,Z,[Qy,this.Ga],null),new X(null,2,5,Z,[Qz,this.Ba],null),new X(null,2,5,Z,[PB,this.fb],
null),new X(null,2,5,Z,[pB,this.lb],null)],null),this.D))};g.oa=function(){return new Ti(this,11,new X(null,11,5,Z,[It,hx,au,Zy,Jy,Vy,Cr,Qy,Qz,PB,pB],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 11+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-266770752^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Ea,b.Ea)&&F.j(this.Da,b.Da)&&F.j(this.params,b.params)&&F.j(this.Ca,b.Ca)&&F.j(this.url,b.url)&&F.j(this.state_,b.state_)&&F.j(this.Aa,b.Aa)&&F.j(this.Ga,b.Ga)&&F.j(this.Ba,b.Ba)&&F.j(this.fb,b.fb)&&F.j(this.lb,b.lb)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,11,[pB,null,Qy,null,It,null,Zy,null,hx,null,au,null,Qz,null,Jy,null,Cr,null,PB,null,Vy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new UU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(It,b):T.call(null,It,b))?new UU(c,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(hx,b):T.call(null,hx,b))?new UU(this.Ea,c,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(au,b):T.call(null,au,b))?new UU(this.Ea,this.Da,c,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Zy,b):T.call(null,
Zy,b))?new UU(this.Ea,this.Da,this.params,c,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Jy,b):T.call(null,Jy,b))?new UU(this.Ea,this.Da,this.params,this.Ca,c,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Vy,b):T.call(null,Vy,b))?new UU(this.Ea,this.Da,this.params,this.Ca,this.url,c,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Cr,b):T.call(null,Cr,b))?new UU(this.Ea,this.Da,this.params,this.Ca,
this.url,this.state_,c,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Qy,b):T.call(null,Qy,b))?new UU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,c,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Qz,b):T.call(null,Qz,b))?new UU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,c,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(PB,b):T.call(null,PB,b))?new UU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,
c,this.lb,this.G,this.D,null):r(T.j?T.j(pB,b):T.call(null,pB,b))?new UU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,c,this.G,this.D,null):new UU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,11,5,Z,[new Y(It,this.Ea),new Y(hx,this.Da),new Y(au,this.params),new Y(Zy,this.Ca),new Y(Jy,this.url),new Y(Vy,this.state_),new Y(Cr,this.Aa),new Y(Qy,this.Ga),new Y(Qz,this.Ba),new Y(PB,this.fb),new Y(pB,this.lb)],null),this.D))};g.fa=function(a,b){return new UU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.gf=function(a,b){Ah(this.Aa,null);JU(this,function(c){return KU(c,b)});a=z(this.lb);return r(a)?a.abort():null};
g.Ae=function(a,b,c){function d(n){var p=null!=n&&(n.J&64||l===n.qa)?dh(dk,n):n;n=C.j(p,Zp);p=C.j(p,et);if(r(n)){if(F.j(n,zu))return r(k)?k.B?k.B(Fn):k.call(null,Fn):null;JU(f,function(v){return KU(v,ms)});return r(k)?k.B?k.B(om):k.call(null,om):null}n=yU(e.Ca,p);var u=Q(n,0,null);Q(n,1,null);r(k)?k.B?k.B(u):k.call(null,u):jh.j(u,sB)&&qU(Fz,1386,new pl(function(){return new X(null,2,5,Z,["Cb reply w/o local cb-fn: %s",u],null)}),1264895646);return JU(f,function(v){return R.C(v,wy,!0)})}var e=this,
f=this;a=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;var h=C.j(a,Qn);c=C.j(a,iB);C.j(a,kp);xU(b);var k=LU(c,b);if(wc(wy.B(z(e.state_))))return HU(k);var m=Zr.B(z(e.state_));a=e.url;c=hk.F(P([e.fb,new q(null,5,[Ou,DA,Qn,function(){if(r(h))return h;var n=Qn.B(e.fb);return r(n)?n:TU}(),cB,Pt,Rm,hk.F(P([Rm.B(e.fb),new q(null,1,[Tx,m],null)])),au,function(){var n=zU(e.Ca,b,r(k)?Cw:null);return hk.F(P([e.params,new q(null,4,[Ln,XS(),Zr,m,It,e.Ea,kB,n],null)]))}()],null)]));qT.C?qT.C(a,c,d):qT.call(null,a,c,
d);return km};
g.Vd=function(){var a=this,b=this,c=Ah(a.Aa,jT());(function f(e){qU(xw,1396,new pl(function(){return new X(null,1,5,Z,["async-poll-for-update!"],null)}),-1978933526);if(F.j(z(a.Aa),c)){var h=function(){if(F.j(z(a.Aa),c)){var k=e+1,m=a.Ba.B?a.Ba.B(k):a.Ba.call(null,k),n=XS()+m;qU(Fz,1404,new pl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),1370422369);ma.setTimeout(function(){return f(k)},m);return JU(b,function(p){return R.C(p,Kv,n)})}return null};
return Ah(a.lb,function(){function k(p){var u=null!=p&&(p.J&64||l===p.qa)?dh(dk,p):p;p=C.j(u,Zp);u=C.j(u,et);if(r(p)){if(F.j(p,zu))return f(0);JU(b,function(v){return KU(v,ms)});return h()}p=yU(a.Ca,u);p=Q(p,0,null);(u=NU(p))&&OU(Mz,b,p);JU(b,function(v){return R.C(v,wy,!0)});f(0);if(u)return null;F.j(p,Fn)?(r(z(uU))&&MU(a.Da,new X(null,1,5,Z,[new X(null,1,5,Z,[Oo],null)],null)),u=yp):u=null;return r(u)?u:MU(a.Da,p)}var m=a.url,n=hk.F(P([a.fb,new q(null,5,[Ou,Lu,Qn,function(){var p=Qn.B(a.fb);return r(p)?
p:TU}(),cB,Pt,au,hk.F(P([a.params,new q(null,2,[Ln,XS(),It,a.Ea],null),r(wy.B(z(a.state_)))?null:new q(null,1,[mp,!0],null)])),Rm,hk.F(P([Rm.B(a.fb),new q(null,1,[Tx,Zr.B(z(a.state_))],null)]))],null)]));return qT.C?qT.C(m,n,k):qT.call(null,m,n,k)}())}return null})(0);return b};
function VU(a,b){a=hk.F(P([new q(null,4,[Vy,zh(new q(null,4,[dq,Mz,wy,!1,vt,!1,Zr,b],null)),Cr,zh(null),Qy,zh(!1),pB,zh(null)],null),a]));b=S.F(a,It,P([hx,au,Zy,Jy,Vy,Cr,Qy,Qz,PB,pB]));b=Bf(a)?Xh.j(W,b):b;return new UU(It.B(a),hx.B(a),au.B(a),Zy.B(a),Jy.B(a),Vy.B(a),Cr.B(a),Qy.B(a),Qz.B(a),PB.B(a),pB.B(a),null,kh(b),null)}function WU(a,b,c,d,e,f,h){this.Ac=a;this.pc=b;this.state_=c;this.Ub=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=WU.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "ws-chsk-opts":return this.Ac;case "ajax-chsk-opts":return this.pc;case "state_":return this.state_;case "impl_":return this.Ub;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[Yw,this.Ac],null),new X(null,2,5,Z,[Kn,this.pc],null),new X(null,2,5,Z,[Vy,this.state_],null),new X(null,2,5,Z,[hq,this.Ub],null)],null),this.D))};g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[Yw,Kn,Vy,hq],null),r(this.D)?fe(this.D):lh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1193508708^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Ac,b.Ac)&&F.j(this.pc,b.pc)&&F.j(this.state_,b.state_)&&F.j(this.Ub,b.Ub)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[hq,null,Yw,null,Vy,null,Kn,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new WU(this.Ac,this.pc,this.state_,this.Ub,this.G,kh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Yw,b):T.call(null,Yw,b))?new WU(c,this.pc,this.state_,this.Ub,this.G,this.D,null):r(T.j?T.j(Kn,b):T.call(null,Kn,b))?new WU(this.Ac,c,this.state_,this.Ub,this.G,this.D,null):r(T.j?T.j(Vy,b):T.call(null,Vy,b))?new WU(this.Ac,this.pc,c,this.Ub,this.G,this.D,null):r(T.j?T.j(hq,b):T.call(null,hq,b))?new WU(this.Ac,this.pc,this.state_,c,this.G,this.D,null):new WU(this.Ac,this.pc,this.state_,this.Ub,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(Yw,this.Ac),new Y(Kn,this.pc),new Y(Vy,this.state_),new Y(hq,this.Ub)],null),this.D))};g.fa=function(a,b){return new WU(this.Ac,this.pc,this.state_,this.Ub,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.gf=function(a,b){a=z(this.Ub);return r(a)?EU(a,b):null};g.Ae=function(a,b,c){a=z(this.Ub);if(r(a))return FU(a,b,c);c=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;c=C.j(c,iB);b=LU(c,b);return HU(b)};
g.Vd=function(){function a(){var f=zh(!1);ll(c.state_,function(h,k,m,n){h=z(c.Ub);if(r(h)&&(k=Qy.B(h),r(k))){if(r(z(k)))return null;if(r(Tr.B(n))&&Ch(f))return qU(Fz,1537,new pl(function(){return new X(null,1,5,Z,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),1805084078),EU(h,Vn),Ah(c.Ub,b())}return null});return SU(e,Zr.B(z(c.state_))).Vd(null)}function b(){Nd(c.state_,ml);return VU(d,Zr.B(z(c.state_))).Vd(null)}var c=this,d=R.C(c.pc,Vy,c.state_),e=R.C(c.Ac,Vy,c.state_);Ah(c.Ub,function(){var f=
a();return r(f)?f:b()}());return this};
function XU(a,b,c,d){var e=function(){switch(a instanceof D?a.na:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof D?d.na:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.B(e)].join(""));}default:throw Error(["No matching clause: ",t.B(h)].join(""));}}();return[t.B(f),"//",iT(P([b,c]))].join("")}
function YU(a,b,c){function d(n){return n.O?n.O():n.call(null)}var e=wc(ko);c=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;var f=C.j(c,Hu),h=C.j(c,Dt);C.j(c,EA);var k=HQ(null,null),m=HQ(1,null);hQ(function(){var n=function(){function u(v){var y=v[1];if(7===y)return v[2]=v[2],v[1]=3,zn;if(1===y)return v[2]=null,v[1]=2,zn;if(4===y){y=v[10];y=v[2];var E=Q(y,0,null),G=Q(y,1,null),I=F.j(G,k)||null==E;v[7]=y;v[8]=G;v[9]=I;v[10]=E;v[1]=r(I)?5:6;return zn}if(15===y)return y=v[10],v[2]=y,v[1]=16,zn;if(13===y)return v[2]=
v[2],v[1]=10,zn;if(6===y)return y=v[10],v[1]=wc(null==y)?8:9,zn;if(3===y)return FQ(v,v[2]);if(12===y)return v[2]=!1,v[1]=13,zn;if(2===y)return PQ(v,4,new X(null,2,5,Z,[a,k],null));if(11===y)return v[2]=!0,v[1]=13,zn;if(9===y)return v[2]=!1,v[1]=10,zn;if(5===y)return v[2]=null,v[1]=7,zn;if(14===y)return y=v[10],y=dh(dk,y),v[2]=y,v[1]=16,zn;if(16===y){y=v[10];var N=v[2],O=C.j(N,xp);y=d(function(){return function(){try{r(f)&&qU(xw,1736,new pl(function(){return new X(null,2,5,Z,["Pre-handler event: %s",
O],null)}),205213887);var U=r(e)?function(){try{if(Af(N)&&IS(new mk(null,new q(null,11,[Tv,null,vr,null,It,null,px,null,bp,null,xp,null,GB,null,$s,null,ru,null,mu,null,Nt,null],null),null),N)){var qa=null!=N&&(N.J&64||l===N.qa)?dh(dk,N):N,ya=C.j(qa,vr),Sa=C.j(qa,Nt),ka=C.j(qa,px),oa=C.j(qa,$s),Ca=C.j(qa,ru),wa=C.j(qa,It),Ba=C.j(qa,xp),Xa=C.j(qa,Tv);var $b=qS(ya)&&Jf(Sa)&&ka instanceof yh&&oa instanceof yh&&Af(Ca)&&"string"===typeof wa&&!qC(wa)&&null==wU(Ba)&&(null==Xa||Jf(Xa))}else $b=!1;var yb=$b?
null:kS}catch(fc){if(fc instanceof Error)yb=fc;else throw fc;}return null==yb?N:lS(1739,"(server-event-msg? event-msg)",N,yb)}():function(){try{if(Af(N)&&IS(new mk(null,new q(null,6,[vr,null,$n,null,xp,null,GB,null,mu,null,Nt,null],null),null),N)){var qa=null!=N&&(N.J&64||l===N.qa)?dh(dk,N):N,ya=C.j(qa,vr),Sa=C.j(qa,Nt),ka=C.j(qa,$n),oa=C.j(qa,xp);var Ca=qS(ya)&&Jf(Sa)&&ka instanceof yh&&null==wU(oa)}else Ca=!1;var wa=Ca?null:kS}catch(Ba){if(Ba instanceof Error)wa=Ba;else throw Ba;}return null==wa?
N:lS(1740,"(client-event-msg? event-msg)",N,wa)}();return b.B?b.B(U):b.call(null,U)}catch(qa){var ea=qa;try{return r(h)?h.j?h.j(ea,N):h.call(null,ea,N):qU(tp,1745,new pl(function(){return new X(null,3,5,Z,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),986953684)}catch(ya){var fa=ya;return qU(tp,1746,new pl(function(){return new X(null,3,5,Z,[fa,"Chsk router `error-handler` error: %s",O],null)}),574727571)}}}}());v[11]=y;v[2]=null;v[1]=2;return zn}return 10===y?(v[1]=r(v[2])?14:15,zn):
8===y?(y=v[10],E=l===y.qa,v[1]=r(y.J&64||E)?11:12,zn):null}return function(){function v(G){for(;;){a:try{for(;;){var I=u(G);if(!T(I,zn)){var N=I;break a}}}catch(O){N=O;G[2]=N;if(H(G[4]))G[1]=J(G[4]);else throw N;N=zn}if(!T(N,zn))return N}}function y(){var G=[null,null,null,null,null,null,null,null,null,null,null,null];G[0]=E;G[1]=1;return G}var E=null;E=function(G){switch(arguments.length){case 0:return y.call(this);case 1:return v.call(this,G)}throw Error("Invalid arity: "+arguments.length);};E.O=
y;E.B=v;return E}()}(),p=function(){var u=n();u[6]=m;return u}();return CQ(p)});return function(){return BP(k)}}function ZU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new ze(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=Q(d,0,null);d=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d;C.j(d,Hu);C.j(d,Dt);return YU(b,c,d)};var $U={},aV={},bV=[];function cV(a,b){var c=aV[a];if(void 0!==c)return c;try{bV.push(a);var d=$U[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};$U[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ma,cV,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{bV.pop()}return d.exports}cV.cache={};cV.resolve=function(a){return a};
function dV(a){return cV(a,{})};var eV=dV(3);var fV=dV(12);var gV={};var hV={},iV="undefined"!==typeof window&&null!=window.document,jV=new mk(null,new q(null,2,["aria",null,"data",null],null),null);function kV(a){return 2>M(a)?a.toUpperCase():[wg.C(a,0,1).toUpperCase(),wg.j(a,1)].join("")}function lV(a){if("string"===typeof a)return a;a=Gg(a);var b=oC(a,/-/),c=H(b);b=J(c);c=K(c);return r(jV.B?jV.B(b):jV.call(null,b))?a:eh(t,b,Hh.j(kV,c))}
function mV(a){var b=function(){if(rf(a)){var c=a.displayName;r(c)||(c=a.name,c="string"===typeof c&&H(c)?c:null)}else c=!1;if(r(c))return c;c=null!=a&&(a.T&4096||l===a.xf)?Gg(a):!1;if(r(c))return c;c=uf(a);return Af(c)?xz.B(c):null}();return r(b)?lC(t.B(b),"$","."):null}function nV(a){return a instanceof D||a instanceof B}
var oV=function oV(a){switch(arguments.length){case 0:return oV.O();case 1:return oV.B(arguments[0]);case 2:return oV.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return oV.F(arguments[0],arguments[1],c)}};oV.O=function(){return null};oV.B=function(a){return xf(a)?(a=xh(function(b){return r(b)?nV(b)?Gg(b):b:null},a),H(a)?mC(" ",a):null):nV(a)?Gg(a):a};
oV.j=function(a,b){return r(a)?r(b)?[t.B(oV.B(a))," ",t.B(oV.B(b))].join(""):oV.B(a):oV.B(b)};oV.F=function(a,b,c){return w.C(oV,oV.j(a,b),c)};oV.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};oV.Y=2;var pV=!1;function qV(a){if(Af(a))try{var b=C.j(a,SA)}catch(c){b=null}else b=null;return b}
function rV(a){var b=SA.B(uf(a));if(r(b))return b;b=qV(Q(a,1,null));if(r(b))return b;b=Q(a,0,null);switch(b instanceof D?b.na:null){case "\x3e":case "f\x3e":return qV(Q(a,2,null));case "r\x3e":return a=Q(a,2,null),null==a?null:a.key;default:return null}};var sV=0;function tV(a){return setTimeout(a,16)}var uV=iV?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:tV}().bind(a)}():tV;function vV(a,b){return a.Kf-b.Kf}function wV(){return null}function xV(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function yV(a,b,c){b.push(c);return a.schedule()}function zV(){this.ff=!1}g=zV.prototype;g.flush_after_render=function(){var a=this.Ee;if(null==a)return null;this.Ee=null;return xV(a)};g.queue_render=function(a){null==this.Se&&(this.Se=[]);return yV(this,this.Se,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ff)return null;this.ff=!0;return uV.B?uV.B(a):uV.call(null,a)};g.flush_before_flush=function(){var a=this.Fe;if(null==a)return null;this.Fe=null;return xV(a)};
g.flush_queues=function(){this.flush_before_flush();wV();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ff=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Fe&&(this.Fe=[]);return yV(this,this.Fe,a)};g.add_after_render=function(a){null==this.Ee&&(this.Ee=[]);return yV(this,this.Ee,a)};
g.flush_render=function(){var a=this.Se;if(null==a)return null;this.Se=null;a:{a.sort(vV);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var AV=new zV;function BV(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return AV.queue_render(a)};function CV(a){if(null!=a&&null!=a.ej)a=a.id;else{var b=CV[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=CV._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Compiler.get-id",a);}return a}function DV(a,b){if(null!=a&&null!=a.hh)a=a.hh(a,b);else{var c=DV[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=DV._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Compiler.as-element",a);}return a}
function EV(a,b,c,d,e){if(null!=a&&null!=a.ih)a=a.ih(a,b,c,d,e);else{var f=EV[ra(null==a?null:a)];if(null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=EV._,null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Ac("Compiler.make-element",a);}return a};var FV;function GV(a,b){b.rf=null;a:{var c=FV;FV=b;try{var d=a.O?a.O():a.call(null);break a}finally{FV=c}d=void 0}a=b.rf;b.ud=!1;a:{c=b.Md;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function HV(a){var b=FV;if(null!=b){var c=b.rf;null==c?b.rf=[a]:c.push(a)}}function IV(a,b,c){a.tb=R.C(a.tb,b,c);return a.ng=null}
function JV(a,b){a.tb=S.j(a.tb,b);return a.ng=null}function KV(a,b,c){var d=a.ng;d=null==d?a.ng=Zf(function(m,n,p){m.push(n);m.push(p);return m},[],a.tb):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.P?k.P(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function LV(a,b,c,d){A(a,["#object[reagent.ratom.",t.B(c)," "].join(""));a:{c=FV;FV=null;try{var e=d;break a}finally{FV=c}e=void 0}Wk(e,a,b);return A(a,"]")}var MV=null;
function NV(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.tb=d;this.J=2154201088;this.T=114690}g=NV.prototype;g.ga=function(a,b,c){return LV(b,c,"RAtom",new q(null,1,[kl,this.ub(null)],null))};g.ea=function(){return this.meta};g.ia=function(){return xa(this)};g.ca=function(a,b){return this===b};g.Cc=function(a,b){a=this.state;this.state=b;null!=this.tb&&KV(this,a,b);return b};g.Af=function(a,b){return this.Cc(null,b.B?b.B(this.state):b.call(null,this.state))};
g.Bf=function(a,b,c){return this.Cc(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.Cf=function(a,b,c,d){return this.Cc(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.Df=function(a,b,c,d,e){return this.Cc(null,hh(b,this.state,c,d,e))};g.Ff=function(a,b){KV(this,a,b)};g.Me=function(a,b,c){return IV(this,b,c)};g.Ne=function(a,b){return JV(this,b)};g.fa=function(a,b){return new NV(this.state,b,this.validator,this.tb)};g.ub=function(){HV(this);return this.state};
function OV(a){if(null!=a&&null!=a.fg)a=a.fg(a);else{var b=OV[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=OV._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDisposable.dispose!",a);}return a}function PV(a,b,c,d){return a._handle_change(b,c,d)}function QV(a){this.f=a;this.state=null;this.ud=!0;this.$g=!1;this.sf=this.Kc=this.tb=this.Md=null;this.J=2153807872;this.T=114690}g=QV.prototype;g._peek_at=function(){var a=FV;FV=null;try{return this.ub(null)}finally{FV=a}};
g._handle_change=function(a,b,c){return b===c||this.ud?null:null==this.Kc?(this.ud=!0,null==MV&&(MV=[],!1===AV.ff&&AV.schedule()),MV.push(this)):!0===this.Kc?this._run(!1):this.Kc.B?this.Kc.B(this):this.Kc.call(null,this)};
g._update_watching=function(a){var b=pk(a),c=pk(this.Md);this.Md=a;a=H(hI.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);Md(h,this,PV);f+=1}else if(a=H(a))d=a,Ef(d)?(a=Xd(d),f=Yd(d),d=a,e=M(a),a=f):(a=J(d),Md(a,this,PV),a=K(d),d=null,e=0),f=0;else break;b=H(hI.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.xa(null,e),Nd(a,this),e+=1;else if(b=H(b))c=b,Ef(c)?(b=Xd(c),d=Yd(c),c=b,a=M(b),b=d,d=a):(a=J(c),Nd(a,this),b=K(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.ud&&null!=this.Md?this._run(!0):null};g._try_capture=function(a){try{return this.sf=null,GV(a,this)}catch(b){return this.sf=this.state=a=b,this.ud=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):GV(this.f,this);this.$g||(this.state=a,null==this.tb||F.j(b,a)||KV(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,Du);var c=C.j(b,Nz),d=C.j(b,Km);b=C.j(b,ho);null!=a&&(this.Kc=a);null!=c&&(this.Ui=c);null!=d&&(this.dh=d);return null!=b?this.$g=b:null};g.ga=function(a,b,c){return LV(b,c,"Reaction",new q(null,1,[kl,this.ub(null)],null))};g.ia=function(){return xa(this)};g.ca=function(a,b){return this===b};
g.fg=function(){var a=this.state,b=this.Md;this.Kc=this.state=this.Md=null;this.ud=!0;b=H(pk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Nd(f,this);e+=1}else if(b=H(b))c=b,Ef(c)?(b=Xd(c),e=Yd(c),c=b,d=M(b),b=e):(b=J(c),Nd(b,this),b=K(c),c=null,d=0),e=0;else break;null!=this.dh&&this.dh(a);a=this.Gj;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.B?d.B(this):d.call(null,this),c+=1;else return null};g.Cc=function(a,b){a=this.state;this.state=b;this.Ui(a,b);KV(this,a,b);return b};
g.Af=function(a,b){var c=this;return c.Cc(null,function(){var d=c._peek_at();return b.B?b.B(d):b.call(null,d)}())};g.Bf=function(a,b,c){var d=this;return d.Cc(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.Cf=function(a,b,c,d){var e=this;return e.Cc(null,function(){var f=e._peek_at();return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.Df=function(a,b,c,d,e){return this.Cc(null,hh(b,this._peek_at(),c,d,e))};g.Ff=function(a,b){KV(this,a,b)};
g.Me=function(a,b,c){return IV(this,b,c)};g.Ne=function(a,b){a=wf(this.tb);JV(this,b);return!a&&wf(this.tb)&&null==this.Kc?this.fg(null):null};g.ub=function(){var a=this.sf;if(null!=a)throw a;(a=null==FV)&&(RV.O?RV.O():RV.call(null));a&&null==this.Kc?this.ud&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.tb||F.j(a,this.state)||KV(this,a,this.state)):(HV(this),this.ud&&this._run(!1));return this.state};
function RV(){for(;;){var a=MV;if(null==a)return null;MV=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}wV=RV;function SV(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new ze(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;c=C.j(e,Du);d=C.j(e,Nz);e=C.j(e,Km);b=new QV(b);b._set_opts(new q(null,3,[Du,c,Nz,d,Km,e],null));return b}var TV=SV(null);
function UV(a,b){var c=VV,d=TV,e=GV(a,d);null!=d.Md&&(TV=SV(null),d._set_opts(c),d.f=a,d.Kc=function(){return BV.B?BV.B(b):BV.call(null,b)},b.cljsRatom=d);return e};var WV;function XV(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=gb(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=R.C(f,Fg.B(k),hb(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function YV(a){var b;if(b=rf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.wd);return b}
function ZV(a,b){for(;;){var c=a.wd,d=!0===a.di?c.call(a,a):function(){var e=XV(a,a.props);switch(M(e)){case 1:return c.call(a);case 2:return c.call(a,Ye(e,1));case 3:return c.call(a,Ye(e,1),Ye(e,2));case 4:return c.call(a,Ye(e,1),Ye(e,2),Ye(e,3));case 5:return c.call(a,Ye(e,1),Ye(e,2),Ye(e,3),Ye(e,4));default:return c.apply(a,Gc(e).slice(1))}}();if(Df(d))return DV(b,d);if(Jf(d))d=YV(d)?function(e,f,h,k,m){return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-
0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){return DV(f,eh(Di,m,u))}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()}(a,b,c,null,d):d,a.wd=d;else return d}}var VV=new q(null,1,[ho,!0],null);
function $V(a,b){switch(a instanceof D?a.na:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=Q(e,1,null),e=Af(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.fi;d=null!=d?d:c.fi=new NV(null,null,null,null);return Ah(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,XV(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,XV(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,XV(this,c))};case "shouldComponentUpdate":return function(c){var d=pV;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return jh.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,XV(this,this.props),XV(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,XV(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,XV(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,XV(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=hb(this,"cljsRatom");null!=c&&OV(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function aW(a,b){a=$V(a,b);return r(a)?a:b}var bW=new q(null,2,[DB,null,Lw,null],null),cW=function(a){var b=zh(W);return function(c){var d=C.j(z(b),c);if(null!=d)return d;d=a.B?a.B(c):a.call(null,c);Bh.P(b,R,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Gg(a);a=lC(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=oC(a,/-/);var b=H(a);a=J(b);b=K(b);return eh(t,a,Hh.j(kV,b))});
function dW(a){return Zf(function(b,c,d){return R.C(b,Fg.B(cW(c)),d)},W,a)}
function eW(a,b){var c=function(){var h=Rr.B(a);return r(h)?h:xu.B(a)}(),d=null==Rr.B(a),e=function(){var h=my.B(a);if(r(h))return h;h=mV(c);return r(h)?h:t.B(ol("reagent"))}(),f=Zf(function(h,k,m){return R.C(h,k,aW(k,m))},W,a);return R.F(f,my,e,P([Jr,d,Rr,c,xu,function(){var h=this,k=hb(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?UV(function(){a:{var m=WV;WV=h;try{var n=ZV(h,b);break a}finally{WV=m}n=void 0}return n},h):k._run(!1)}]))}
function fW(a){return Zf(function(b,c,d){c=Gg(c);b[c]=d;return b},{},a)}function gW(a,b){return eW(hk.F(P([bW,dW(a)])),b)}var hW=new X(null,5,5,Z,[bv,At,Nw,Vw,Ay],null);
function iW(a,b){function c(k,m,n){eV.Component.call(this,k,m,n);r(h)&&(h.j?h.j(this,k):h.call(null,this,k));r(f)&&(this.state=f.B?f.B(this):f.call(null,this));this.Kf=sV+=1;return this}a=gW(a,b);b=fW(ih(S,a,my,Rn,av,P([xu,Rr,hW])));var d=fW(jk(a,hW)),e=my.B(a),f=Rn.B(a),h=av.B(a);jb(c.prototype,eV.Component.prototype,b);r(xu.B(a))&&(c.prototype.render=xu.B(a));r(Rr.B(a))&&(c.prototype.wd=Rr.B(a));r(Jr.B(a))&&(c.prototype.di=Jr.B(a));jb(c,eV.Component,d);r(e)&&(c.displayName=e,c.kb=e,c.vb=function(k){return A(k,
e)});c.rb=!0;return c.prototype.constructor=c}function jW(a,b,c){a=CV(a);return b[a]=c}
function kW(a,b){for(;;){var c=b.wd,d=b.argv,e=dh(c,d);if(Df(e))return DV(a,e);if(Jf(e))c=YV(e)?function(f,h,k,m,n,p){return function(){function u(y){var E=null;if(0<arguments.length){E=0;for(var G=Array(arguments.length-0);E<G.length;)G[E]=arguments[E+0],++E;E=new ze(G,0,null)}return v.call(this,E)}function v(y){return DV(f,eh(Di,p,y))}u.Y=0;u.ba=function(y){y=H(y);return v(y)};u.F=v;return u}()}(a,b,c,null,d,e):e,b.wd=c;else return e}}
function lW(a,b){var c=b.argv,d=b.wd;b=eV.useState(0);Q(b,0,null);var e=Q(b,1,null),f=eV.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.B?e.B(Ke):e.call(null,Ke)}};k.Kf=sV+=1;k.constructor=d;k.wd=d;return f.current=k}();var h=f.current;b=hb(h,"cljsRatom");eV.useEffect(function(){return function(){var k=hb(h,"cljsRatom");return null==k?null:OV(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?UV(function(){a:{var k=WV;WV=h;try{var m=kW(a,h);break a}finally{WV=k}m=void 0}return m},
h):b._run(!1)}function mW(a,b){a=a.argv;b=b.argv;if(!1===pV)try{return F.j(a,b)}catch(c){return!1}else return!1}function nW(a,b){function c(e){return lW(a,e)}var d=hb(b,CV(a));if(r(d))return d;c.displayName=mV(b);d=eV.memo(c,mW);jW(a,b,d);return d};var oW=new mk(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function pW(a,b,c,d){var e=W;e=null!=e&&(e.J&64||l===e.qa)?dh(dk,e):e;e=C.j(e,Rs);if(a===document.activeElement&&Lf(oW,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(jh.j(f,c))return AV.add_after_render(function(){return qW.B?qW.B(d):qW.call(null,d)});c=M(f)-a.selectionStart;c=M(b)-c;d.Re=b;a.value=b;rf(e)&&(e.B?e.B(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Re=b;a.value=b;return rf(e)?e.B?e.B(b):e.call(null,b):null}
function qW(a){if(r(a.Jf)){a.Lg=!1;var b=a.ei,c=a.Re,d=a.Rf;return jh.j(b,c)?pW(d,b,c,a):null}return null}function rW(a,b,c){a.Re=c.target.value;r(a.Lg)||(a.Lg=!0,AV.add_after_render(function(){return qW(a)}));return b.B?b.B(c):b.call(null,c)}
function sW(a){var b=WV;if(r(null!=a?function(){var f=a.hasOwnProperty("onChange");return r(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.Jf)||(b.Jf=!0,b.Re=c);r(b.jh)||(b.jh=rf(e)?function(f){b.Rf=f;return e.B?e.B(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.Rf=f;return e.current=f}:function(f){return b.Rf=f});b.ei=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return rW(b,d,f)};a.ref=b.jh}}
var tW=new q(null,4,[$w,"ReagentInput",sA,qW,Rp,function(a){return a.Jf=null},jw,function(a,b,c,d,e){sW(c);return EV(e,a,b,c,d)}],null);var uW={},vW,wW=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,xW={"class":"className","for":"htmlFor",charset:"charSet"};function yW(a,b){return a.hasOwnProperty(b)?hb(a,b):null}function zW(a,b,c){if(nV(b)){var d=yW(xW,Gg(b));null==d?(d=lV(b),b=Gg(b),b=xW[b]=d):b=d}c=AW.B?AW.B(c):AW.call(null,c);a[b]=c;return a}
function AW(a){return"object"!==ra(a)?a:nV(a)?Gg(a):Af(a)?Zf(zW,{},a):xf(a)?zl(a):Jf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){return dh(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}():zl(a)}var BW={};function CW(a,b,c){if(nV(b)){var d=yW(BW,Gg(b));null==d?(d=lV(b),b=Gg(b),b=BW[b]=d):b=d}c=AW(c);a[b]=c;return a}
function DW(a){return"object"!==ra(a)?a:nV(a)?Gg(a):Af(a)?Zf(CW,{},a):xf(a)?zl(a):Jf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){return dh(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}():zl(a)}
function EW(a,b){var c=b.id;b=b.className;c=null!=c&&null==GB.B(a)?R.C(a,GB,c):a;return r(b)?R.C(c,Yy,oV.j(b,function(){var d=Yy.B(a);return r(d)?d:sx.B(a)}())):c}function FW(a,b,c,d,e){switch(M(b)-e){case 0:return eV.createElement(c,d);case 1:return eV.createElement(c,d,DV(a,Q(b,e,null)));default:return eV.createElement.apply(null,Zf(function(f,h,k){h>=e&&f.push(DV(a,k));return f},[c,d],b))}}function GW(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ii=d}
function HW(a,b,c){var d=hb(a,CV(c));null==d?YV(a)?a=jW(c,a,a):(d=uf(a),d=R.C(d,jw,a),d=iW(d,c),a=jW(c,a,d)):a=d;c={};c.argv=b;b=rV(b);null!=b&&(c.key=b);return eV.createElement(a,c)}function IW(a,b,c,d){var e={};e.wd=a;e.argv=Ii(b,c,M(b));b=rV(b);null!=b&&(e.key=b);return eV.createElement(nW(d,a),e)}function JW(a,b,c){var d;if(d=rf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?HW(a,b,c):IW(a,b,1,c)}var KW={};
function LW(a,b,c,d){var e=a.tag,f=Q(b,c,null),h=null==f||Af(f),k=function(){var n=h?f:null;var p=Yy.B(n);n=EW(r(p)?R.C(n,Yy,oV.B(p)):n,a);n=r(a.ii)?DW(n):AW(n);return r(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m)return m=function(){var n=d.fj;if(r(n))return n;n=iW(tW,d);return d.fj=n}(),DV(d,tf(new X(null,6,5,Z,[m,b,e,k,c,d],null),uf(b)));m=qV(uf(b));null!=m&&(k.key=m);return EV(d,b,e,k,c)}
function MW(a,b){return Gc(Hh.j(function(c){return DV(b,c)},a))}
function NW(a,b,c){null==b&&console.error("vec-to-elem",dl.F(P([a])));var d=Q(a,0,null);switch(d instanceof D?d.na:null){case "\x3e":return c=Q(a,1,null),LW(new GW(c,null,null,null),a,2,b);case "r\x3e":c=Q(a,1,null);d=Q(a,2,null);d=r(d)?d:{};var e=qV(uf(a));null!=e&&(d.key=e);return EV(b,a,c,d,3);case "f\x3e":return IW(Q(a,1,null),a,2,b);case "\x3c\x3e":return d=Q(a,1,null),c=null==d||Af(d),d=AW(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=rV(a),null!=e&&(d.key=e),EV(b,a,eV.Fragment,d,c);default:if(nV(d)||
"string"===typeof d)a:for(;;)switch(c=Q(a,0,null),c=Gg(c),d=c.indexOf("\x3e"),d){case -1:d=yW(KW,c);if(null==d){var f=K(Ik(wW,Gg(c)));d=Q(f,0,null);e=Q(f,1,null);f=Q(f,2,null);f=null==f?null:lC(f,/\./," ");var h=jh.j(-1,d.indexOf("-"));d=new GW(d,e,f,h);c=KW[c]=d}else c=d;a=LW(c,a,1,b);break a;case 0:a=null;break a;default:a=tf(new X(null,2,5,Z,[wg.C(c,0,d),R.C(tf(a,null),0,wg.j(c,d+1))],null),uf(a))}else a=c.C?c.C(d,a,b):c.call(null,d,a,b);return a}}
var OW=function(a){var b=ol("G__"),c=r(dp.B(a))?JW:HW;if("undefined"===typeof gV||"undefined"===typeof hV||"undefined"===typeof uW||"undefined"===typeof vW)vW=function(d,e,f,h){this.Zb=d;this.id=e;this.Tg=f;this.Qi=h;this.J=393216;this.T=0},vW.prototype.fa=function(d,e){return new vW(this.Zb,this.id,this.Tg,e)},vW.prototype.ea=function(){return this.Qi},vW.prototype.ej=function(){return this.id},vW.prototype.hh=function(d,e){d=this.Tg;return"object"!==ra(e)?e:Df(e)?NW(e,this,d):Hf(e)?MW(e,this):nV(e)?
Gg(e):(null!=e?e.J&2147483648||l===e.Ia||(e.J?0:yc(Id,e)):yc(Id,e))?dl.F(P([e])):e},vW.prototype.ih=function(d,e,f,h,k){return FW(this,e,f,h,k)},vW.rb=!0,vW.kb="reagent.impl.template/t_reagent$impl$template35684",vW.vb=function(d){return A(d,"reagent.impl.template/t_reagent$impl$template35684")};return new vW(a,b,c,W)}(W);var PW=zh(W);function QW(a,b,c){var d=pV;pV=!0;try{return fV.render(a.O?a.O():a.call(null),b,function(){var e=pV;pV=!1;try{return Bh.P(PW,R,b,a),AV.flush_after_render(),null!=c?c.O?c.O():c.call(null):null}finally{pV=e}})}finally{pV=d}}function RW(a){var b=document.getElementById("app");RV();var c=rf(OW)?new X(null,2,5,Z,[OW,OW],null):new X(null,2,5,Z,[OW,jq.B(OW)],null),d=Q(c,0,null);c=Q(c,1,null);return QW(function(){return DV(d,rf(a)?a.O?a.O():a.call(null):a)},b,c)};var SW=dV(13);var TW=dV(66);var UW=dV(67);dV(68);dV(73);var VW=dV(85);var WW=dV(133);var XW=dV(156);var module$node_modules$ol$style=dV(235);var module$node_modules$ol$Map=dV(253);var YW=dV(257);var ZW=dV(315);var $W=dV(350);var LX=function(a,b,c){var d=Q(c,0,null),e=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d,f=C.j(e,PB),h=C.C(e,Ex,kT.F(P([js,20]))),k=C.C(e,It,function(){var ka=gs.B(e);return r(ka)?ka:jT()}()),m=C.j(e,oB),n=C.C(e,Zy,uv),p=C.j(e,au),u=C.C(e,dq,dr),v=C.j(e,En),y=C.j(e,Rm),E=C.j(e,Oq);d=C.C(e,XB,LP(2048));var G=C.C(e,Qz,xS),I=C.C(e,iw,!0);null!=Q(c,1,null)&&qU(Fz,1603,new pl(function(){return new X(null,1,5,Z,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),953546541);Lf(e,
Gm)&&qU(Fz,1604,new pl(function(){return new X(null,1,5,Z,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-1173083672);("string"!==typeof b||qC(b))&&qU(Fz,1607,new pl(function(){return new X(null,1,5,Z,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),1098203677);var N=CU(n);n=function(){if(r(yS)){var ka=yS.location;var oa=r(ka)?new q(null,7,[$p,ka.href,oB,ka.protocol,gu,ka.hostname,Oq,ka.host,Np,ka.pathname,
Iq,ka.search,zA,ka.hash],null):null}else oa=null;ka=r(a)?a:Np.B(oa);var Ca=Sz.B(e);if(r(Ca))return new X(null,2,5,Z,[Ca.C?Ca.C(ka,oa,qq):Ca.call(null,ka,oa,qq),Ca.C?Ca.C(ka,oa,Mz):Ca.call(null,ka,oa,Mz)],null);r(m)?Ca=m:(Ca=oB.B(oa),Ca=r(Ca)?Ca:Hn);oa=r(E)?r(v)?[t.B(E),":",t.B(v)].join(""):E:r(v)?[t.B(gu.B(oa)),":",t.B(v)].join(""):Oq.B(oa);return new X(null,2,5,Z,[XU(Ca,oa,ka,qq),XU(Ca,oa,ka,Mz)],null)}();c=Q(n,0,null);var O=Q(n,1,null);n=new q(null,3,[Qr,HQ(LP(128),null),$n,HQ(LP(10),null),Uq,function(){var ka=
LP(512);return r(I)?GQ(ka,Hh.B(function(oa){return new X(null,2,5,Z,[UA,oa],null)})):HQ(ka,null)}()],null);h=new q(null,6,[It,k,hx,n,au,p,Rm,y,Zy,N,Ex,h],null);var U=hk.F(P([h,new q(null,2,[Jy,c,Qz,G],null)])),ea=hk.F(P([h,new q(null,3,[Jy,O,PB,f,Qz,G],null)])),fa=new q(null,2,[Yw,U,Kn,ea],null);f=DU(function(){var ka=u instanceof D?u.na:null;switch(ka){case "ws":return SU(U,b);case "ajax":return VU(ea,b);case "auto":ka=hk.F(P([new q(null,2,[Vy,zh(new q(null,4,[dq,dr,wy,!1,vt,!1,Zr,b],null)),hq,zh(null)],
null),fa]));var oa=S.F(ka,Yw,P([Kn,Vy,hq]));oa=Bf(ka)?Xh.j(W,oa):oa;return new WU(Yw.B(ka),Kn.B(ka),Vy.B(ka),hq.B(ka),null,kh(oa),null);default:throw Error(["No matching clause: ",t.B(ka)].join(""));}}());if(r(f)){var qa=Vy.B(f),ya=Qr.B(n),Sa=vh.j(GU,f);d=RQ(new X(null,3,5,Z,[Qr.B(n),$n.B(n),Uq.B(n)],null),d);G=GQ(1,Hh.B(function(ka){var oa=wU(ka);ka=r(oa)?new X(null,2,5,Z,[Az,ka],null):ka;oa=Q(ka,0,null);var Ca=Q(ka,1,null);return new q(null,6,[vr,ya,Nt,Sa,$n,qa,xp,ka,GB,oa,mu,Ca],null)}));OQ(d,
G);return new q(null,4,[Bt,f,vr,G,Nt,Sa,$n,Vy.B(f)],null)}return qU(Fz,1709,new pl(function(){return new X(null,1,5,Z,["Failed to create channel socket"],null)}),-2137670179)}("/chsk",null,P([new q(null,1,[dq,dr],null)])),MX=null!=LX&&(LX.J&64||l===LX.qa)?dh(dk,LX):LX;C.j(MX,Bt);var NX=C.j(MX,vr);C.j(MX,Nt);C.j(MX,$n);var dX=zh(function(){return null});
function OX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,JX),c=C.j(a,eX),d=C.j(a,HX),e=C.j(a,IX),f=C.j(a,KX);return new X(null,2,5,Z,[Ap,new q(null,1,[Ww,function(h){return r(h)?UW(h,{value:d,mode:e,lineNumbers:f}).setSize(c,b):null}],null)],null)}function fX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,vB);return new X(null,2,5,Z,[Ap,new q(null,1,[Ww,function(c){return r(c)?TW(c,zl(b)):null}],null)],null)}
function gX(a){return new X(null,2,5,Z,[rp,new q(null,1,[vx,new q(null,1,[rz,SW(qz.B(a))],null)],null)],null)}function hX(a){return new X(null,2,5,Z,[hm,new q(null,1,[vx,new q(null,1,[rz,Xy.B(a)],null)],null)],null)}
function iX(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,$r);var c=C.j(b,QA),d=C.j(b,jm),e=C.j(b,Jq);return r(a)?(b=hk.F(P([W,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new YW.default).readFeature(a,zl(b)),r(e)&&a.setStyle(new module$node_modules$ol$style.Style(zl(hk.F(P([W,function(){var f=ai(e,new X(null,2,5,Z,[Ep,Nx],null));return r(f)?new q(null,1,[Gt,new module$node_modules$ol$style.Fill({color:VW.asString(f)})],null):
null}(),function(){var f=ai(e,new X(null,2,5,Z,[Hw,Nx],null));return r(f)?new q(null,1,[Sx,new module$node_modules$ol$style.Stroke({color:VW.asString(f)})],null):null}()]))))),a):null}
function jX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,rr),c=C.j(a,Dr),d=C.j(a,uz),e=C.j(a,zt),f=C.j(a,Em),h=C.j(a,st);return new X(null,2,5,Z,[ft,new q(null,2,[gq,new q(null,1,[dx,r(b)?b:"500px"],null),Ww,function(k){if(r(k)){var m=null==d?null:zl(d),n=r(e)?function(){var v=null==m?null:WW.fromLonLat(m);console.log(["Center projection: ",mC(" ",d)," (WGS84) to ",t.B(v)," (EPSG:3857)"].join(""));return v}():m;n=r(n)?n:[0,0];var p=r(c)?new module$node_modules$ol$style.Style(zl(hk.F(P([W,
function(){var v=ai(c,new X(null,2,5,Z,[Gt,tv],null));return r(v)?new q(null,1,[Gt,new module$node_modules$ol$style.Fill({color:VW.asString(v)})],null):null}(),function(){var v=ai(c,new X(null,2,5,Z,[Sx,tv],null));return r(v)?new q(null,1,[Sx,new module$node_modules$ol$style.Stroke({color:VW.asString(v)})],null):null}()])))):null,u=new ZW.Vector(zl(new q(null,1,["features",Yh.j(iX,h)],null)));p=new $W.Vector(zl(hk.F(P([new q(null,1,[en,u],null),r(p)?new q(null,1,[gq,p],null):null]))));return new module$node_modules$ol$Map.default({target:k,
layers:[new $W.Tile({source:new ZW.OSM}),p],view:new XW.default({center:n,zoom:r(f)?f:4})})}return null}],null)],null)}
function kX(a){return new X(null,2,5,Z,[sw,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[hm,new q(null,1,[SA,MB.B(n)],null),new X(null,2,5,Z,[lX,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}k=J(e);return df(new X(null,3,5,Z,[hm,new q(null,1,[SA,MB.B(k)],null),new X(null,2,5,Z,[lX,k],null)],null),d(Be(e)))}return null}},
null,null)}(Pp.B(a))}()],null)}
function mX(a){return new X(null,2,5,Z,[Qv,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[hm,new q(null,1,[SA,MB.B(n)],null),new X(null,2,5,Z,[lX,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}k=J(e);return df(new X(null,3,5,Z,[hm,new q(null,1,[SA,MB.B(k)],null),new X(null,2,5,Z,[lX,k],null)],null),d(Be(e)))}return null}},
null,null)}(Pp.B(a))}()],null)}
function lX(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,c=C.j(b,MB),d=C.j(b,Os);b=function(){switch(d instanceof D?d.na:null){case "widget.type/html":return hX;case "widget.type/row":return kX;case "widget.type/column":return mX;case "widget.type/vega-lite":return fX;case "widget.type/codemirror":return OX;case "widget.type/markdown":return gX;case "widget.type/geoplot":return jX;default:return new X(null,2,5,Z,[nA,new X(null,3,5,Z,[rq,"Unknown Widget type ",new X(null,2,5,Z,[xq,t.B(d)],null)],
null)],null)}}();console.log("Render",Gg(d));return tf(new X(null,2,5,Z,[b,a],null),new q(null,1,[SA,c],null))}
function nX(a){return new X(null,4,5,Z,[Ns,new X(null,3,5,Z,[Lp,new q(null,1,[gq,new q(null,1,[Sv,"Cinzel"],null)],null),"Literate"],null),H(a)?function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){var f=e;if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var y=0;;)if(y<k){var E=x(h,y),G=null!=E&&(E.J&64||l===E.qa)?dh(dk,E):E,I=G,N=C.j(G,Uf);Og(m,new X(null,4,5,Z,[Kq,new q(null,1,[SA,N],null),new X(null,3,5,Z,[Hm,new q(null,1,[yn,function(O,U,ea,fa,qa){return function(){return sP(qa)}}(y,
E,G,I,N,h,k,m,f,e)],null),new X(null,1,5,Z,[Ht],null)],null),new X(null,2,5,Z,[jA,lX(I)],null)],null));y+=1}else return!0}()?Ng(Pg(m),d(Yd(f))):Ng(Pg(m),null)}var n=J(f),p=null!=n&&(n.J&64||l===n.qa)?dh(dk,n):n,u=p,v=C.j(p,Uf);return df(new X(null,4,5,Z,[Kq,new q(null,1,[SA,v],null),new X(null,3,5,Z,[Hm,new q(null,1,[yn,function(y,E,G,I){return function(){return sP(I)}}(n,p,u,v,f,e)],null),new X(null,1,5,Z,[Ht],null)],null),new X(null,2,5,Z,[jA,lX(u)],null)],null),d(Be(f)))}return null}},null,null)}(a)}():
new X(null,2,5,Z,[BA,new X(null,3,5,Z,[fz,new q(null,1,[gq,new q(null,1,[Sv,"Cinzel"],null)],null),"Widgets shall be displayed here."],null)],null),new X(null,2,5,Z,[Bz,new X(null,3,5,Z,[fy,new q(null,1,[yn,function(){return RO(new X(null,1,5,Z,[new q(null,6,[MB,t.B($l()),Os,Uu,bX,"clojure",cX,"auto",aX,!0,sq,function(){var b=new bc,c=ic,d=hc;ic=!0;hc=function(e){return b.append(e)};try{lE()}finally{hc=d,ic=c}return t.B(b)}()],null)],null))}],null),new X(null,1,5,Z,[ry],null)],null)],null)],null)}
function oX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,mu),c=Q(b,0,null);b=Q(b,1,null);console.group("Sente");console.log(jk(a,new X(null,2,5,Z,[GB,mu],null)));console.groupEnd();return F.j(OA,c)?RO(b):null}
function pX(){var a=new X(null,7,5,Z,[fr,new X(null,2,5,Z,[Ag(Bw,HB,new X(null,2,5,Z,[ss,new q(null,1,[Pp,new X(null,1,5,Z,[zx],null)],null)],null)),$u],null),xB,Gp,hp,new X(null,2,5,Z,[HB,MB],null),new X(null,1,5,Z,[Ag(Ir,Gp,HB,Ix)],null)],null);var b=z(mE);a=nE.j?nE.j(a,b):nE.call(null,a,b);a=Tf(a);return RW(new X(null,2,5,Z,[nX,a],null))}function qX(){console.log("Welcome to Literate");Ah(dX,ZU(NX,oX));SO(function(){console.log("Will re-render...");return pX()});return pX()}
na("literate.app.init",qX);try{qX()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);