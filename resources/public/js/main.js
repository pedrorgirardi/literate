var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function(Ia,A,rb,E){var k=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;rb.exports=function(){try{if(!Object.assign)return!1;var H=new String("abc");H[5]="de";if("5"===Object.getOwnPropertyNames(H)[0])return!1;var N={};for(H=0;10>H;H++)N["_"+String.fromCharCode(H)]=H;if("0123456789"!==Object.getOwnPropertyNames(N).map(function(v){return N[v]}).join(""))return!1;var x={};"abcdefghijklmnopqrst".split("").forEach(function(v){x[v]=
v});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},x)).join("")?!1:!0}catch(v){return!1}}()?Object.assign:function(H,N){if(null===H||void 0===H)throw new TypeError("Object.assign cannot be called with null or undefined");var x=Object(H);for(var v,u=1;u<arguments.length;u++){var m=Object(arguments[u]);for(var g in m)l.call(m,g)&&(x[g]=m[g]);if(k){v=k(m);for(var d=0;d<v.length;d++)w.call(m,v[d])&&(x[v[d]]=m[v[d]])}}return x}};
shadow$provide[1]=function(Ia,A,rb,E){function k(Z){if(null===Z||"object"!==typeof Z)return null;Z=G&&Z[G]||Z["@@iterator"];return"function"===typeof Z?Z:null}function l(Z){for(var P="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+Z,C=1;C<arguments.length;C++)P+="\x26args[]\x3d"+encodeURIComponent(arguments[C]);return"Minified React error #"+Z+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w(Z,P,C){this.props=
Z;this.context=P;this.refs=R;this.updater=C||K}function H(){}function N(Z,P,C){this.props=Z;this.context=P;this.refs=R;this.updater=C||K}function x(Z,P,C){var V,ha={},aa=null,ta=null;if(null!=P)for(V in void 0!==P.ref&&(ta=P.ref),void 0!==P.key&&(aa=""+P.key),P)ja.call(P,V)&&!fa.hasOwnProperty(V)&&(ha[V]=P[V]);var wa=arguments.length-2;if(1===wa)ha.children=C;else if(1<wa){for(var Ha=Array(wa),bb=0;bb<wa;bb++)Ha[bb]=arguments[bb+2];ha.children=Ha}if(Z&&Z.defaultProps)for(V in wa=Z.defaultProps,wa)void 0===
ha[V]&&(ha[V]=wa[V]);return{$$typeof:y,type:Z,key:aa,ref:ta,props:ha,_owner:T.current}}function v(Z,P){return{$$typeof:y,type:Z.type,key:P,ref:Z.ref,props:Z.props,_owner:Z._owner}}function u(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===y}function m(Z){var P={"\x3d":"\x3d0",":":"\x3d2"};return"$"+Z.replace(/[=:]/g,function(C){return P[C]})}function g(Z,P){return"object"===typeof Z&&null!==Z&&null!=Z.key?m(""+Z.key):P.toString(36)}function d(Z,P,C,V,ha){var aa=typeof Z;if("undefined"===aa||
"boolean"===aa)Z=null;var ta=!1;if(null===Z)ta=!0;else switch(aa){case "string":case "number":ta=!0;break;case "object":switch(Z.$$typeof){case y:case B:ta=!0}}if(ta)return ta=Z,ha=ha(ta),Z=""===V?"."+g(ta,0):V,Array.isArray(ha)?(C="",null!=Z&&(C=Z.replace(ia,"$\x26/")+"/"),d(ha,P,C,"",function(bb){return bb})):null!=ha&&(u(ha)&&(ha=v(ha,C+(!ha.key||ta&&ta.key===ha.key?"":(""+ha.key).replace(ia,"$\x26/")+"/")+Z)),P.push(ha)),1;ta=0;V=""===V?".":V+":";if(Array.isArray(Z))for(var wa=0;wa<Z.length;wa++){aa=
Z[wa];var Ha=V+g(aa,wa);ta+=d(aa,P,C,Ha,ha)}else if(Ha=k(Z),"function"===typeof Ha)for(Z=Ha.call(Z),wa=0;!(aa=Z.next()).done;)aa=aa.value,Ha=V+g(aa,wa++),ta+=d(aa,P,C,Ha,ha);else if("object"===aa)throw P=""+Z,Error(l(31,"[object Object]"===P?"object with keys {"+Object.keys(Z).join(", ")+"}":P));return ta}function f(Z,P,C){if(null==Z)return Z;var V=[],ha=0;d(Z,V,"","",function(aa){return P.call(C,aa,ha++)});return V}function a(Z){if(-1===Z._status){var P=Z._result;P=P();Z._status=0;Z._result=P;P.then(function(C){0===
Z._status&&(C=C.default,Z._status=1,Z._result=C)},function(C){0===Z._status&&(Z._status=2,Z._result=C)})}if(1===Z._status)return Z._result;throw Z._result;}function e(){var Z=la.current;if(null===Z)throw Error(l(321));return Z}var n=A(0),y=60103,B=60106;E.Fragment=60107;E.StrictMode=60108;E.Profiler=60114;var D=60109,O=60110,M=60112;E.Suspense=60113;var F=60115,z=60116;"function"===typeof Symbol&&Symbol.for&&(Ia=Symbol.for,y=Ia("react.element"),B=Ia("react.portal"),E.Fragment=Ia("react.fragment"),
E.StrictMode=Ia("react.strict_mode"),E.Profiler=Ia("react.profiler"),D=Ia("react.provider"),O=Ia("react.context"),M=Ia("react.forward_ref"),E.Suspense=Ia("react.suspense"),F=Ia("react.memo"),z=Ia("react.lazy"));var G="function"===typeof Symbol&&Symbol.iterator,K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R={};w.prototype.isReactComponent={};w.prototype.setState=function(Z,P){if("object"!==typeof Z&&"function"!==typeof Z&&
null!=Z)throw Error(l(85));this.updater.enqueueSetState(this,Z,P,"setState")};w.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};H.prototype=w.prototype;Ia=N.prototype=new H;Ia.constructor=N;n(Ia,w.prototype);Ia.isPureReactComponent=!0;var T={current:null},ja=Object.prototype.hasOwnProperty,fa={key:!0,ref:!0,__self:!0,__source:!0},ia=/\/+/g,la={current:null};Ia={ReactCurrentDispatcher:la,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},
assign:n};E.Children={map:f,forEach:function(Z,P,C){f(Z,function(){P.apply(this,arguments)},C)},count:function(Z){var P=0;f(Z,function(){P++});return P},toArray:function(Z){return f(Z,function(P){return P})||[]},only:function(Z){if(!u(Z))throw Error(l(143));return Z}};E.Component=w;E.PureComponent=N;E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ia;E.cloneElement=function(Z,P,C){if(null===Z||void 0===Z)throw Error(l(267,Z));var V=n({},Z.props),ha=Z.key,aa=Z.ref,ta=Z._owner;if(null!=P){void 0!==
P.ref&&(aa=P.ref,ta=T.current);void 0!==P.key&&(ha=""+P.key);if(Z.type&&Z.type.defaultProps)var wa=Z.type.defaultProps;for(Ha in P)ja.call(P,Ha)&&!fa.hasOwnProperty(Ha)&&(V[Ha]=void 0===P[Ha]&&void 0!==wa?wa[Ha]:P[Ha])}var Ha=arguments.length-2;if(1===Ha)V.children=C;else if(1<Ha){wa=Array(Ha);for(var bb=0;bb<Ha;bb++)wa[bb]=arguments[bb+2];V.children=wa}return{$$typeof:y,type:Z.type,key:ha,ref:aa,props:V,_owner:ta}};E.createContext=function(Z,P){void 0===P&&(P=null);Z={$$typeof:O,_calculateChangedBits:P,
_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null};Z.Provider={$$typeof:D,_context:Z};return Z.Consumer=Z};E.createElement=x;E.createFactory=function(Z){var P=x.bind(null,Z);P.type=Z;return P};E.createRef=function(){return{current:null}};E.forwardRef=function(Z){return{$$typeof:M,render:Z}};E.isValidElement=u;E.lazy=function(Z){return{$$typeof:z,_payload:{_status:-1,_result:Z},_init:a}};E.memo=function(Z,P){return{$$typeof:F,type:Z,compare:void 0===P?null:P}};E.useCallback=
function(Z,P){return e().useCallback(Z,P)};E.useContext=function(Z,P){return e().useContext(Z,P)};E.useDebugValue=function(){};E.useEffect=function(Z,P){return e().useEffect(Z,P)};E.useImperativeHandle=function(Z,P,C){return e().useImperativeHandle(Z,P,C)};E.useLayoutEffect=function(Z,P){return e().useLayoutEffect(Z,P)};E.useMemo=function(Z,P){return e().useMemo(Z,P)};E.useReducer=function(Z,P,C){return e().useReducer(Z,P,C)};E.useRef=function(Z){return e().useRef(Z)};E.useState=function(Z){return e().useState(Z)};
E.version="17.0.1"};
shadow$provide[3]=function(Ia,A,rb,E){rb.exports=A(1)};
shadow$provide[4]=function(Ia,A,rb,E){function k(C,V){var ha=C.length;C.push(V);a:for(;;){var aa=ha-1>>>1,ta=C[aa];if(void 0!==ta&&0<H(ta,V))C[aa]=V,C[ha]=ta,ha=aa;else break a}}function l(C){C=C[0];return void 0===C?null:C}function w(C){var V=C[0];if(void 0!==V){var ha=C.pop();if(ha!==V){C[0]=ha;var aa=0,ta=C.length;a:for(;aa<ta;){var wa=2*(aa+1)-1,Ha=C[wa],bb=wa+1,kb=C[bb];if(void 0!==Ha&&0>H(Ha,ha))void 0!==kb&&0>H(kb,Ha)?(C[aa]=kb,C[bb]=ha,aa=bb):(C[aa]=Ha,C[wa]=ha,aa=wa);else if(void 0!==kb&&
0>H(kb,ha))C[aa]=kb,C[bb]=ha,aa=bb;else break a}}return V}return null}function H(C,V){var ha=C.sortIndex-V.sortIndex;return 0!==ha?ha:C.id-V.id}function N(C){for(var V=l(T);null!==V;){if(null===V.callback)w(T);else if(V.startTime<=C)w(T),V.sortIndex=V.expirationTime,k(R,V);else break;V=l(T)}}function x(C){P=!1;N(C);if(!Z)if(null!==l(R))Z=!0,e(v);else{var V=l(T);null!==V&&n(x,V.startTime-C)}}function v(C,V){Z=!1;P&&(P=!1,y());la=!0;var ha=ia;try{N(V);for(fa=l(R);null!==fa&&(!(fa.expirationTime>V)||
C&&!E.unstable_shouldYield());){var aa=fa.callback;if("function"===typeof aa){fa.callback=null;ia=fa.priorityLevel;var ta=aa(fa.expirationTime<=V);V=E.unstable_now();"function"===typeof ta?fa.callback=ta:fa===l(R)&&w(R);N(V)}else w(R);fa=l(R)}if(null!==fa)var wa=!0;else{var Ha=l(T);null!==Ha&&n(x,Ha.startTime-V);wa=!1}return wa}finally{fa=null,ia=ha,la=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;E.unstable_now=function(){return u.now()}}else{var m=
Date,g=m.now();E.unstable_now=function(){return m.now()-g}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var d=null,f=null,a=function(){if(null!==d)try{var C=E.unstable_now();d(!0,C);d=null}catch(V){throw setTimeout(a,0),V;}};var e=function(C){null!==d?setTimeout(e,0,C):(d=C,setTimeout(a,0))};var n=function(C,V){f=setTimeout(C,V)};var y=function(){clearTimeout(f)};E.unstable_shouldYield=function(){return!1};Ia=E.unstable_forceFrameRate=function(){}}else{var B=window.setTimeout,
D=window.clearTimeout;"undefined"!==typeof console&&(Ia=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ia&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var O=!1,M=null,
F=-1,z=5,G=0;E.unstable_shouldYield=function(){return E.unstable_now()>=G};Ia=function(){};E.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<C?Math.floor(1E3/C):5};A=new MessageChannel;var K=A.port2;A.port1.onmessage=function(){if(null!==M){var C=E.unstable_now();G=C+z;try{M(!0,C)?K.postMessage(null):(O=!1,M=null)}catch(V){throw K.postMessage(null),V;}}else O=!1};e=function(C){M=
C;O||(O=!0,K.postMessage(null))};n=function(C,V){F=B(function(){C(E.unstable_now())},V)};y=function(){D(F);F=-1}}var R=[],T=[],ja=1,fa=null,ia=3,la=!1,Z=!1,P=!1;E.unstable_IdlePriority=5;E.unstable_ImmediatePriority=1;E.unstable_LowPriority=4;E.unstable_NormalPriority=3;E.unstable_Profiling=null;E.unstable_UserBlockingPriority=2;E.unstable_cancelCallback=function(C){C.callback=null};E.unstable_continueExecution=function(){Z||la||(Z=!0,e(v))};E.unstable_getCurrentPriorityLevel=function(){return ia};
E.unstable_getFirstCallbackNode=function(){return l(R)};E.unstable_next=function(C){switch(ia){case 1:case 2:case 3:var V=3;break;default:V=ia}var ha=ia;ia=V;try{return C()}finally{ia=ha}};E.unstable_pauseExecution=function(){};E.unstable_requestPaint=Ia;E.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ha=ia;ia=C;try{return V()}finally{ia=ha}};E.unstable_scheduleCallback=function(C,V,ha){var aa=E.unstable_now();"object"===typeof ha&&null!==
ha?(ha=ha.delay,ha="number"===typeof ha&&0<ha?aa+ha:aa):ha=aa;switch(C){case 1:var ta=-1;break;case 2:ta=250;break;case 5:ta=1073741823;break;case 4:ta=1E4;break;default:ta=5E3}ta=ha+ta;C={id:ja++,callback:V,priorityLevel:C,startTime:ha,expirationTime:ta,sortIndex:-1};ha>aa?(C.sortIndex=ha,k(T,C),null===l(R)&&C===l(T)&&(P?y():P=!0,n(x,ha-aa))):(C.sortIndex=ta,k(R,C),Z||la||(Z=!0,e(v)));return C};E.unstable_wrapCallback=function(C){var V=ia;return function(){var ha=ia;ia=V;try{return C.apply(this,
arguments)}finally{ia=ha}}}};
shadow$provide[6]=function(Ia,A,rb,E){rb.exports=A(4)};
shadow$provide[7]=function(Ia,A,rb,E){function k(q){for(var J="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+q,da=1;da<arguments.length;da++)J+="\x26args[]\x3d"+encodeURIComponent(arguments[da]);return"Minified React error #"+q+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(q,J){w(q,J);w(q+"Capture",J)}function w(q,J){vh[q]=J;for(q=0;q<J.length;q++)Ei.add(J[q])}function H(q){if(Vj.call(Wj,q))return!0;
if(Vj.call(Xj,q))return!1;if(Yj.test(q))return Wj[q]=!0;Xj[q]=!0;return!1}function N(q,J,da,Qa){if(null!==da&&0===da.type)return!1;switch(typeof J){case "function":case "symbol":return!0;case "boolean":if(Qa)return!1;if(null!==da)return!da.acceptsBooleans;q=q.toLowerCase().slice(0,5);return"data-"!==q&&"aria-"!==q;default:return!1}}function x(q,J,da,Qa){if(null===J||"undefined"===typeof J||N(q,J,da,Qa))return!0;if(Qa)return!1;if(null!==da)switch(da.type){case 3:return!J;case 4:return!1===J;case 5:return isNaN(J);
case 6:return isNaN(J)||1>J}return!1}function v(q,J,da,Qa,ib,yb,Ob){this.acceptsBooleans=2===J||3===J||4===J;this.attributeName=Qa;this.attributeNamespace=ib;this.mustUseProperty=da;this.propertyName=q;this.type=J;this.sanitizeURL=yb;this.removeEmptyString=Ob}function u(q){return q[1].toUpperCase()}function m(q,J,da,Qa){var ib=vg.hasOwnProperty(J)?vg[J]:null;(null!==ib?0===ib.type:Qa?0:2<J.length&&("o"===J[0]||"O"===J[0])&&("n"===J[1]||"N"===J[1]))||(x(J,da,ib,Qa)&&(da=null),Qa||null===ib?H(J)&&(null===
da?q.removeAttribute(J):q.setAttribute(J,""+da)):ib.mustUseProperty?q[ib.propertyName]=null===da?3===ib.type?!1:"":da:(J=ib.attributeName,Qa=ib.attributeNamespace,null===da?q.removeAttribute(J):(ib=ib.type,da=3===ib||4===ib&&!0===da?"":""+da,Qa?q.setAttributeNS(Qa,J,da):q.setAttribute(J,da))))}function g(q){if(null===q||"object"!==typeof q)return null;q=ri&&q[ri]||q["@@iterator"];return"function"===typeof q?q:null}function d(q){if(void 0===dh)try{throw Error();}catch(da){var J=da.stack.trim().match(/\n( *(at )?)/);
dh=J&&J[1]||""}return"\n"+dh+q}function f(q,J){if(!q||Aj)return"";Aj=!0;var da=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(J)if(J=function(){throw Error();},Object.defineProperty(J.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(J,[])}catch(Fc){var Qa=Fc}Reflect.construct(q,[],J)}else{try{J.call()}catch(Fc){Qa=Fc}q.call(J.prototype)}else{try{throw Error();}catch(Fc){Qa=Fc}q()}}catch(Fc){if(Fc&&Qa&&"string"===
typeof Fc.stack){for(var ib=Fc.stack.split("\n"),yb=Qa.stack.split("\n"),Ob=ib.length-1,fc=yb.length-1;1<=Ob&&0<=fc&&ib[Ob]!==yb[fc];)fc--;for(;1<=Ob&&0<=fc;Ob--,fc--)if(ib[Ob]!==yb[fc]){if(1!==Ob||1!==fc){do if(Ob--,fc--,0>fc||ib[Ob]!==yb[fc])return"\n"+ib[Ob].replace(" at new "," at ");while(1<=Ob&&0<=fc)}break}}}finally{Aj=!1,Error.prepareStackTrace=da}return(q=q?q.displayName||q.name:"")?d(q):""}function a(q){switch(q.tag){case 5:return d(q.type);case 16:return d("Lazy");case 13:return d("Suspense");
case 19:return d("SuspenseList");case 0:case 2:case 15:return q=f(q.type,!1),q;case 11:return q=f(q.type.render,!1),q;case 22:return q=f(q.type._render,!1),q;case 1:return q=f(q.type,!0),q;default:return""}}function e(q){if(null==q)return null;if("function"===typeof q)return q.displayName||q.name||null;if("string"===typeof q)return q;switch(q){case Zg:return"Fragment";case wg:return"Portal";case bi:return"Profiler";case Eg:return"StrictMode";case Ff:return"Suspense";case Ag:return"SuspenseList"}if("object"===
typeof q)switch(q.$$typeof){case Fi:return(q.displayName||"Context")+".Consumer";case eh:return(q._context.displayName||"Context")+".Provider";case wf:var J=q.render;J=J.displayName||J.name||"";return q.displayName||(""!==J?"ForwardRef("+J+")":"ForwardRef");case ci:return e(q.type);case Jg:return e(q._render);case Gh:J=q._payload;q=q._init;try{return e(q(J))}catch(da){}}return null}function n(q){switch(typeof q){case "boolean":case "number":case "object":case "string":case "undefined":return q;default:return""}}
function y(q){var J=q.type;return(q=q.nodeName)&&"input"===q.toLowerCase()&&("checkbox"===J||"radio"===J)}function B(q){var J=y(q)?"checked":"value",da=Object.getOwnPropertyDescriptor(q.constructor.prototype,J),Qa=""+q[J];if(!q.hasOwnProperty(J)&&"undefined"!==typeof da&&"function"===typeof da.get&&"function"===typeof da.set){var ib=da.get,yb=da.set;Object.defineProperty(q,J,{configurable:!0,get:function(){return ib.call(this)},set:function(Ob){Qa=""+Ob;yb.call(this,Ob)}});Object.defineProperty(q,
J,{enumerable:da.enumerable});return{getValue:function(){return Qa},setValue:function(Ob){Qa=""+Ob},stopTracking:function(){q._valueTracker=null;delete q[J]}}}}function D(q){q._valueTracker||(q._valueTracker=B(q))}function O(q){if(!q)return!1;var J=q._valueTracker;if(!J)return!0;var da=J.getValue(),Qa="";q&&(Qa=y(q)?q.checked?"true":"false":q.value);q=Qa;return q!==da?(J.setValue(q),!0):!1}function M(q){q=q||("undefined"!==typeof document?document:void 0);if("undefined"===typeof q)return null;try{return q.activeElement||
q.body}catch(J){return q.body}}function F(q,J){var da=J.checked;return lg({},J,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=da?da:q._wrapperState.initialChecked})}function z(q,J){var da=null==J.defaultValue?"":J.defaultValue,Qa=null!=J.checked?J.checked:J.defaultChecked;da=n(null!=J.value?J.value:da);q._wrapperState={initialChecked:Qa,initialValue:da,controlled:"checkbox"===J.type||"radio"===J.type?null!=J.checked:null!=J.value}}function G(q,J){J=J.checked;null!=J&&m(q,"checked",
J,!1)}function K(q,J){G(q,J);var da=n(J.value),Qa=J.type;if(null!=da)if("number"===Qa){if(0===da&&""===q.value||q.value!=da)q.value=""+da}else q.value!==""+da&&(q.value=""+da);else if("submit"===Qa||"reset"===Qa){q.removeAttribute("value");return}J.hasOwnProperty("value")?T(q,J.type,da):J.hasOwnProperty("defaultValue")&&T(q,J.type,n(J.defaultValue));null==J.checked&&null!=J.defaultChecked&&(q.defaultChecked=!!J.defaultChecked)}function R(q,J,da){if(J.hasOwnProperty("value")||J.hasOwnProperty("defaultValue")){var Qa=
J.type;if(!("submit"!==Qa&&"reset"!==Qa||void 0!==J.value&&null!==J.value))return;J=""+q._wrapperState.initialValue;da||J===q.value||(q.value=J);q.defaultValue=J}da=q.name;""!==da&&(q.name="");q.defaultChecked=!!q._wrapperState.initialChecked;""!==da&&(q.name=da)}function T(q,J,da){if("number"!==J||M(q.ownerDocument)!==q)null==da?q.defaultValue=""+q._wrapperState.initialValue:q.defaultValue!==""+da&&(q.defaultValue=""+da)}function ja(q){var J="";Gi.Children.forEach(q,function(da){null!=da&&(J+=da)});
return J}function fa(q,J){q=lg({children:void 0},J);if(J=ja(J.children))q.children=J;return q}function ia(q,J,da,Qa){q=q.options;if(J){J={};for(var ib=0;ib<da.length;ib++)J["$"+da[ib]]=!0;for(da=0;da<q.length;da++)ib=J.hasOwnProperty("$"+q[da].value),q[da].selected!==ib&&(q[da].selected=ib),ib&&Qa&&(q[da].defaultSelected=!0)}else{da=""+n(da);J=null;for(ib=0;ib<q.length;ib++){if(q[ib].value===da){q[ib].selected=!0;Qa&&(q[ib].defaultSelected=!0);return}null!==J||q[ib].disabled||(J=q[ib])}null!==J&&
(J.selected=!0)}}function la(q,J){if(null!=J.dangerouslySetInnerHTML)throw Error(k(91));return lg({},J,{value:void 0,defaultValue:void 0,children:""+q._wrapperState.initialValue})}function Z(q,J){var da=J.value;if(null==da){da=J.children;J=J.defaultValue;if(null!=da){if(null!=J)throw Error(k(92));if(Array.isArray(da)){if(!(1>=da.length))throw Error(k(93));da=da[0]}J=da}null==J&&(J="");da=J}q._wrapperState={initialValue:n(da)}}function P(q,J){var da=n(J.value),Qa=n(J.defaultValue);null!=da&&(da=""+
da,da!==q.value&&(q.value=da),null==J.defaultValue&&q.defaultValue!==da&&(q.defaultValue=da));null!=Qa&&(q.defaultValue=""+Qa)}function C(q){var J=q.textContent;J===q._wrapperState.initialValue&&""!==J&&null!==J&&(q.value=J)}function V(q){switch(q){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(q,J){return null==q||"http://www.w3.org/1999/xhtml"===q?V(J):"http://www.w3.org/2000/svg"===q&&
"foreignObject"===J?"http://www.w3.org/1999/xhtml":q}function aa(q,J){if(J){var da=q.firstChild;if(da&&da===q.lastChild&&3===da.nodeType){da.nodeValue=J;return}}q.textContent=J}function ta(q,J,da){return null==J||"boolean"===typeof J||""===J?"":da||"number"!==typeof J||0===J||Vh.hasOwnProperty(q)&&Vh[q]?(""+J).trim():J+"px"}function wa(q,J){q=q.style;for(var da in J)if(J.hasOwnProperty(da)){var Qa=0===da.indexOf("--"),ib=ta(da,J[da],Qa);"float"===da&&(da="cssFloat");Qa?q.setProperty(da,ib):q[da]=
ib}}function Ha(q,J){if(J){if(Hi[q]&&(null!=J.children||null!=J.dangerouslySetInnerHTML))throw Error(k(137,q));if(null!=J.dangerouslySetInnerHTML){if(null!=J.children)throw Error(k(60));if(!("object"===typeof J.dangerouslySetInnerHTML&&"__html"in J.dangerouslySetInnerHTML))throw Error(k(61));}if(null!=J.style&&"object"!==typeof J.style)throw Error(k(62));}}function bb(q,J){if(-1===q.indexOf("-"))return"string"===typeof J.is;switch(q){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function kb(q){q=q.target||q.srcElement||window;q.correspondingUseElement&&(q=q.correspondingUseElement);return 3===q.nodeType?q.parentNode:q}function va(q){if(q=Ge(q)){if("function"!==typeof di)throw Error(k(280));var J=q.stateNode;J&&(J=Ye(J),di(q.stateNode,q.type,J))}}function Ta(q){pf?mh?mh.push(q):mh=[q]:pf=q}function Ya(){if(pf){var q=pf,J=mh;mh=pf=null;va(q);if(J)for(q=0;q<J.length;q++)va(J[q])}}function Ca(q,J){return q(J)}function ua(q,J,da,Qa,ib){return q(J,da,Qa,ib)}function U(){}
function W(){if(null!==pf||null!==mh)U(),Ya()}function ba(q,J,da){if(ei)return q(J,da);ei=!0;try{return mg(q,J,da)}finally{ei=!1,W()}}function ca(q,J){var da=q.stateNode;if(null===da)return null;var Qa=Ye(da);if(null===Qa)return null;da=Qa[J];a:switch(J){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Qa=!Qa.disabled)||
(q=q.type,Qa=!("button"===q||"input"===q||"select"===q||"textarea"===q));q=!Qa;break a;default:q=!1}if(q)return null;if(da&&"function"!==typeof da)throw Error(k(231,J,typeof da));return da}function ra(q,J,da,Qa,ib,yb,Ob,fc,Fc){var sd=Array.prototype.slice.call(arguments,3);try{J.apply(da,sd)}catch(ve){this.onError(ve)}}function qa(q,J,da,Qa,ib,yb,Ob,fc,Fc){fi=!1;Wh=null;ra.apply(Te,arguments)}function Da(q,J,da,Qa,ib,yb,Ob,fc,Fc){qa.apply(this,arguments);if(fi){if(fi){var sd=Wh;fi=!1;Wh=null}else throw Error(k(198));
Hh||(Hh=!0,gi=sd)}}function na(q){var J=q,da=q;if(q.alternate)for(;J.return;)J=J.return;else{q=J;do J=q,0!==(J.flags&1026)&&(da=J.return),q=J.return;while(q)}return 3===J.tag?da:null}function Ra(q){if(13===q.tag){var J=q.memoizedState;null===J&&(q=q.alternate,null!==q&&(J=q.memoizedState));if(null!==J)return J.dehydrated}return null}function db(q){if(na(q)!==q)throw Error(k(188));}function $a(q){var J=q.alternate;if(!J){J=na(q);if(null===J)throw Error(k(188));return J!==q?null:q}for(var da=q,Qa=J;;){var ib=
da.return;if(null===ib)break;var yb=ib.alternate;if(null===yb){Qa=ib.return;if(null!==Qa){da=Qa;continue}break}if(ib.child===yb.child){for(yb=ib.child;yb;){if(yb===da)return db(ib),q;if(yb===Qa)return db(ib),J;yb=yb.sibling}throw Error(k(188));}if(da.return!==Qa.return)da=ib,Qa=yb;else{for(var Ob=!1,fc=ib.child;fc;){if(fc===da){Ob=!0;da=ib;Qa=yb;break}if(fc===Qa){Ob=!0;Qa=ib;da=yb;break}fc=fc.sibling}if(!Ob){for(fc=yb.child;fc;){if(fc===da){Ob=!0;da=yb;Qa=ib;break}if(fc===Qa){Ob=!0;Qa=yb;da=ib;break}fc=
fc.sibling}if(!Ob)throw Error(k(189));}}if(da.alternate!==Qa)throw Error(k(190));}if(3!==da.tag)throw Error(k(188));return da.stateNode.current===da?q:J}function Fa(q){q=$a(q);if(!q)return null;for(var J=q;;){if(5===J.tag||6===J.tag)return J;if(J.child)J.child.return=J,J=J.child;else{if(J===q)break;for(;!J.sibling;){if(!J.return||J.return===q)return null;J=J.return}J.sibling.return=J.return;J=J.sibling}}return null}function Ga(q,J){for(var da=q.alternate;null!==J;){if(J===q||J===da)return!0;J=J.return}return!1}
function pa(q,J,da,Qa,ib){return{blockedOn:q,domEventName:J,eventSystemFlags:da|16,nativeEvent:ib,targetContainers:[Qa]}}function Ja(q,J){switch(q){case "focusin":case "focusout":wh=null;break;case "dragenter":case "dragleave":Ih=null;break;case "mouseover":case "mouseout":Xh=null;break;case "pointerover":case "pointerout":Ii.delete(J.pointerId);break;case "gotpointercapture":case "lostpointercapture":si.delete(J.pointerId)}}function Ua(q,J,da,Qa,ib,yb){if(null===q||q.nativeEvent!==yb)return q=pa(J,
da,Qa,ib,yb),null!==J&&(J=Ge(J),null!==J&&ol(J)),q;q.eventSystemFlags|=Qa;J=q.targetContainers;null!==ib&&-1===J.indexOf(ib)&&J.push(ib);return q}function jb(q,J,da,Qa,ib){switch(J){case "focusin":return wh=Ua(wh,q,J,da,Qa,ib),!0;case "dragenter":return Ih=Ua(Ih,q,J,da,Qa,ib),!0;case "mouseover":return Xh=Ua(Xh,q,J,da,Qa,ib),!0;case "pointerover":var yb=ib.pointerId;Ii.set(yb,Ua(Ii.get(yb)||null,q,J,da,Qa,ib));return!0;case "gotpointercapture":return yb=ib.pointerId,si.set(yb,Ua(si.get(yb)||null,
q,J,da,Qa,ib)),!0}return!1}function Fb(q){var J=jf(q.target);if(null!==J){var da=na(J);if(null!==da)if(J=da.tag,13===J){if(J=Ra(da),null!==J){q.blockedOn=J;nh(q.lanePriority,function(){Dg.unstable_runWithPriority(q.priority,function(){Jh(da)})});return}}else if(3===J&&da.stateNode.hydrate){q.blockedOn=3===da.tag?da.stateNode.containerInfo:null;return}}q.blockedOn=null}function Xb(q){if(null!==q.blockedOn)return!1;for(var J=q.targetContainers;0<J.length;){var da=Eb(q.domEventName,q.eventSystemFlags,
J[0],q.nativeEvent);if(null!==da)return J=Ge(da),null!==J&&ol(J),q.blockedOn=da,!1;J.shift()}return!0}function nc(q,J,da){Xb(q)&&da.delete(J)}function md(){for(dj=!1;0<ih.length;){var q=ih[0];if(null!==q.blockedOn){q=Ge(q.blockedOn);null!==q&&zk(q);break}for(var J=q.targetContainers;0<J.length;){var da=Eb(q.domEventName,q.eventSystemFlags,J[0],q.nativeEvent);if(null!==da){q.blockedOn=da;break}J.shift()}null===q.blockedOn&&ih.shift()}null!==wh&&Xb(wh)&&(wh=null);null!==Ih&&Xb(Ih)&&(Ih=null);null!==
Xh&&Xb(Xh)&&(Xh=null);Ii.forEach(nc);si.forEach(nc)}function pc(q,J){q.blockedOn===J&&(q.blockedOn=null,dj||(dj=!0,Dg.unstable_scheduleCallback(Dg.unstable_NormalPriority,md)))}function Hc(q){function J(ib){return pc(ib,q)}if(0<ih.length){pc(ih[0],q);for(var da=1;da<ih.length;da++){var Qa=ih[da];Qa.blockedOn===q&&(Qa.blockedOn=null)}}null!==wh&&pc(wh,q);null!==Ih&&pc(Ih,q);null!==Xh&&pc(Xh,q);Ii.forEach(J);si.forEach(J);for(da=0;da<Kh.length;da++)Qa=Kh[da],Qa.blockedOn===q&&(Qa.blockedOn=null);for(;0<
Kh.length&&(da=Kh[0],null===da.blockedOn);)Fb(da),null===da.blockedOn&&Kh.shift()}function mb(q,J){var da={};da[q.toLowerCase()]=J.toLowerCase();da["Webkit"+q]="webkit"+J;da["Moz"+q]="moz"+J;return da}function hc(q){if(kg[q])return kg[q];if(!jh[q])return q;var J=jh[q],da;for(da in J)if(J.hasOwnProperty(da)&&da in Ji)return kg[q]=J[da];return q}function jc(q,J){for(var da=0;da<q.length;da+=2){var Qa=q[da],ib=q[da+1];ib="on"+(ib[0].toUpperCase()+ib.slice(1));Zj.set(Qa,J);Yh.set(Qa,ib);l(ib,[Qa])}}function rc(q){if(0!==
(1&q))return ag=15,1;if(0!==(2&q))return ag=14,2;if(0!==(4&q))return ag=13,4;var J=24&q;if(0!==J)return ag=12,J;if(0!==(q&32))return ag=11,32;J=192&q;if(0!==J)return ag=10,J;if(0!==(q&256))return ag=9,256;J=3584&q;if(0!==J)return ag=8,J;if(0!==(q&4096))return ag=7,4096;J=4186112&q;if(0!==J)return ag=6,J;J=62914560&q;if(0!==J)return ag=5,J;if(q&67108864)return ag=4,67108864;if(0!==(q&134217728))return ag=3,134217728;J=805306368&q;if(0!==J)return ag=2,J;if(0!==(1073741824&q))return ag=1,1073741824;
ag=8;return q}function Pc(q){switch(q){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sc(q){switch(q){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(k(358,q));}}function Uc(q,J){var da=q.pendingLanes;if(0===da)return ag=0;var Qa=0,ib=0,yb=q.expiredLanes,Ob=q.suspendedLanes,fc=q.pingedLanes;if(0!==yb)Qa=
yb,ib=ag=15;else if(yb=da&134217727,0!==yb){var Fc=yb&~Ob;0!==Fc?(Qa=rc(Fc),ib=ag):(fc&=yb,0!==fc&&(Qa=rc(fc),ib=ag))}else yb=da&~Ob,0!==yb?(Qa=rc(yb),ib=ag):0!==fc&&(Qa=rc(fc),ib=ag);if(0===Qa)return 0;Qa=31-Lh(Qa);Qa=da&((0>Qa?0:1<<Qa)<<1)-1;if(0!==J&&J!==Qa&&0===(J&Ob)){rc(J);if(ib<=ag)return J;ag=ib}J=q.entangledLanes;if(0!==J)for(q=q.entanglements,J&=Qa;0<J;)da=31-Lh(J),ib=1<<da,Qa|=q[da],J&=~ib;return Qa}function Sc(q){q=q.pendingLanes&-1073741825;return 0!==q?q:q&1073741824?1073741824:0}function Lc(q,
J){switch(q){case 15:return 1;case 14:return 2;case 12:return q=Fd(24&~J),0===q?Lc(10,J):q;case 10:return q=Fd(192&~J),0===q?Lc(8,J):q;case 8:return q=Fd(3584&~J),0===q&&(q=Fd(4186112&~J),0===q&&(q=512)),q;case 2:return J=Fd(805306368&~J),0===J&&(J=268435456),J}throw Error(k(358,q));}function Fd(q){return q&-q}function ge(q){for(var J=[],da=0;31>da;da++)J.push(q);return J}function wd(q,J,da){q.pendingLanes|=J;var Qa=J-1;q.suspendedLanes&=Qa;q.pingedLanes&=Qa;q=q.eventTimes;J=31-Lh(J);q[J]=da}function vd(q){return 0===
q?32:31-(oh(q)/Mh|0)|0}function Wd(q,J,da,Qa){Tf||U();var ib=gc,yb=Tf;Tf=!0;try{ua(ib,q,J,da,Qa)}finally{(Tf=yb)||W()}}function Pb(q,J,da,Qa){ej(Nh,gc.bind(null,q,J,da,Qa))}function gc(q,J,da,Qa){if(Bj){var ib;if((ib=0===(J&4))&&0<ih.length&&-1<ti.indexOf(q))q=pa(null,q,J,da,Qa),ih.push(q);else{var yb=Eb(q,J,da,Qa);if(null===yb)ib&&Ja(q,Qa);else{if(ib){if(-1<ti.indexOf(q)){q=pa(yb,q,J,da,Qa);ih.push(q);return}if(jb(yb,q,J,da,Qa))return;Ja(q,Qa)}Zd(q,J,Qa,null,da)}}}}function Eb(q,J,da,Qa){var ib=
kb(Qa);ib=jf(ib);if(null!==ib){var yb=na(ib);if(null===yb)ib=null;else{var Ob=yb.tag;if(13===Ob){ib=Ra(yb);if(null!==ib)return ib;ib=null}else if(3===Ob){if(yb.stateNode.hydrate)return 3===yb.tag?yb.stateNode.containerInfo:null;ib=null}else yb!==ib&&(ib=null)}}Zd(q,J,Qa,ib,da);return null}function zc(){if(Og)return Og;var q,J=ui,da=J.length,Qa,ib="value"in ph?ph.value:ph.textContent,yb=ib.length;for(q=0;q<da&&J[q]===ib[q];q++);var Ob=da-q;for(Qa=1;Qa<=Ob&&J[da-Qa]===ib[yb-Qa];Qa++);return Og=ib.slice(q,
1<Qa?1-Qa:void 0)}function Vc(q){var J=q.keyCode;"charCode"in q?(q=q.charCode,0===q&&13===J&&(q=13)):q=J;10===q&&(q=13);return 32<=q||13===q?q:0}function Ed(){return!0}function Vd(){return!1}function Ka(q){function J(da,Qa,ib,yb,Ob){this._reactName=da;this._targetInst=ib;this.type=Qa;this.nativeEvent=yb;this.target=Ob;this.currentTarget=null;for(var fc in q)q.hasOwnProperty(fc)&&(da=q[fc],this[fc]=da?da(yb):yb[fc]);this.isDefaultPrevented=(null!=yb.defaultPrevented?yb.defaultPrevented:!1===yb.returnValue)?
Ed:Vd;this.isPropagationStopped=Vd;return this}lg(J.prototype,{preventDefault:function(){this.defaultPrevented=!0;var da=this.nativeEvent;da&&(da.preventDefault?da.preventDefault():"unknown"!==typeof da.returnValue&&(da.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var da=this.nativeEvent;da&&(da.stopPropagation?da.stopPropagation():"unknown"!==typeof da.cancelBubble&&(da.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed});return J}function eb(q){var J=
this.nativeEvent;return J.getModifierState?J.getModifierState(q):(q=Ki[q])?!!J[q]:!1}function wb(){return eb}function Hb(q,J){switch(q){case "keyup":return-1!==X.indexOf(J.keyCode);case "keydown":return 229!==J.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ac(q){q=q.detail;return"object"===typeof q&&"data"in q?q.data:null}function Lb(q,J){switch(q){case "compositionend":return ac(J);case "keypress":if(32!==J.which)return null;tb=!0;return ab;case "textInput":return q=
J.data,q===ab&&tb?null:q;default:return null}}function Ac(q,J){if(Ib)return"compositionend"===q||!S&&Hb(q,J)?(q=zc(),Og=ui=ph=null,Ib=!1,q):null;switch(q){case "paste":return null;case "keypress":if(!(J.ctrlKey||J.altKey||J.metaKey)||J.ctrlKey&&J.altKey){if(J.char&&1<J.char.length)return J.char;if(J.which)return String.fromCharCode(J.which)}return null;case "compositionend":return Xa&&"ko"!==J.locale?null:J.data;default:return null}}function tc(q){var J=q&&q.nodeName&&q.nodeName.toLowerCase();return"input"===
J?!!dc[q.type]:"textarea"===J?!0:!1}function pb(q,J,da,Qa){Ta(Qa);J=zf(J,"onChange");0<J.length&&(da=new Jf("onChange","change",null,da,Qa),q.push({event:da,listeners:J}))}function Bb(q){De(q,0)}function Ub(q){var J=Td(q);if(O(J))return q}function mc(q,J){if("change"===q)return J}function Bc(){Rc&&(Rc.detachEvent("onpropertychange",Cc),vc=Rc=null)}function Cc(q){if("value"===q.propertyName&&Ub(vc)){var J=[];pb(J,vc,q,kb(q));q=Bb;if(Tf)q(J);else{Tf=!0;try{Ca(q,J)}finally{Tf=!1,W()}}}}function Xc(q,
J,da){"focusin"===q?(Bc(),Rc=J,vc=da,Rc.attachEvent("onpropertychange",Cc)):"focusout"===q&&Bc()}function Qb(q){if("selectionchange"===q||"keyup"===q||"keydown"===q)return Ub(vc)}function Ic(q,J){if("click"===q)return Ub(J)}function Dc(q,J){if("input"===q||"change"===q)return Ub(J)}function uc(q,J){return q===J&&(0!==q||1/q===1/J)||q!==q&&J!==J}function Tc(q,J){if(bf(q,J))return!0;if("object"!==typeof q||null===q||"object"!==typeof J||null===J)return!1;var da=Object.keys(q),Qa=Object.keys(J);if(da.length!==
Qa.length)return!1;for(Qa=0;Qa<da.length;Qa++)if(!He.call(J,da[Qa])||!bf(q[da[Qa]],J[da[Qa]]))return!1;return!0}function ad(q){for(;q&&q.firstChild;)q=q.firstChild;return q}function ld(q,J){var da=ad(q);q=0;for(var Qa;da;){if(3===da.nodeType){Qa=q+da.textContent.length;if(q<=J&&Qa>=J)return{node:da,offset:J-q};q=Qa}a:{for(;da;){if(da.nextSibling){da=da.nextSibling;break a}da=da.parentNode}da=void 0}da=ad(da)}}function Cd(q,J){return q&&J?q===J?!0:q&&3===q.nodeType?!1:J&&3===J.nodeType?Cd(q,J.parentNode):
"contains"in q?q.contains(J):q.compareDocumentPosition?!!(q.compareDocumentPosition(J)&16):!1:!1}function Dd(){for(var q=window,J=M();J instanceof q.HTMLIFrameElement;){try{var da="string"===typeof J.contentWindow.location.href}catch(Qa){da=!1}if(da)q=J.contentWindow;else break;J=M(q.document)}return J}function Ud(q){var J=q&&q.nodeName&&q.nodeName.toLowerCase();return J&&("input"===J&&("text"===q.type||"search"===q.type||"tel"===q.type||"url"===q.type||"password"===q.type)||"textarea"===J||"true"===
q.contentEditable)}function ae(q,J,da){var Qa=da.window===da?da.document:9===da.nodeType?da:da.ownerDocument;qf||null==Af||Af!==M(Qa)||(Qa=Af,"selectionStart"in Qa&&Ud(Qa)?Qa={start:Qa.selectionStart,end:Qa.selectionEnd}:(Qa=(Qa.ownerDocument&&Qa.ownerDocument.defaultView||window).getSelection(),Qa={anchorNode:Qa.anchorNode,anchorOffset:Qa.anchorOffset,focusNode:Qa.focusNode,focusOffset:Qa.focusOffset}),Wf&&Tc(Wf,Qa)||(Wf=Qa,Qa=zf(bg,"onSelect"),0<Qa.length&&(J=new Jf("onSelect","select",null,J,da),
q.push({event:J,listeners:Qa}),J.target=Af)))}function oe(q,J,da){var Qa=q.type||"unknown-event";q.currentTarget=da;Da(Qa,J,void 0,q);q.currentTarget=null}function De(q,J){J=0!==(J&4);for(var da=0;da<q.length;da++){var Qa=q[da],ib=Qa.event;Qa=Qa.listeners;a:{var yb=void 0;if(J)for(var Ob=Qa.length-1;0<=Ob;Ob--){var fc=Qa[Ob],Fc=fc.instance,sd=fc.currentTarget;fc=fc.listener;if(Fc!==yb&&ib.isPropagationStopped())break a;oe(ib,fc,sd);yb=Fc}else for(Ob=0;Ob<Qa.length;Ob++){fc=Qa[Ob];Fc=fc.instance;sd=
fc.currentTarget;fc=fc.listener;if(Fc!==yb&&ib.isPropagationStopped())break a;oe(ib,fc,sd);yb=Fc}}}if(Hh)throw q=gi,Hh=!1,gi=null,q;}function fe(q,J){var da=Xf(J),Qa=q+"__bubble";da.has(Qa)||(df(J,q,2,!1),da.add(Qa))}function ef(q){q[Pg]||(q[Pg]=!0,Ei.forEach(function(J){Kg.has(J)||Ze(J,!1,q,null);Ze(J,!0,q,null)}))}function Ze(q,J,da,Qa){var ib=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,yb=da;"selectionchange"===q&&9!==da.nodeType&&(yb=da.ownerDocument);if(null!==Qa&&!J&&Kg.has(q)){if("scroll"!==
q)return;ib|=2;yb=Qa}var Ob=Xf(yb),fc=q+"__"+(J?"capture":"bubble");Ob.has(fc)||(J&&(ib|=4),df(yb,q,ib,J),Ob.add(fc))}function df(q,J,da,Qa){var ib=Zj.get(J);switch(void 0===ib?2:ib){case 0:ib=Wd;break;case 1:ib=Pb;break;default:ib=gc}da=ib.bind(null,J,da,q);ib=void 0;!Li||"touchstart"!==J&&"touchmove"!==J&&"wheel"!==J||(ib=!0);Qa?void 0!==ib?q.addEventListener(J,da,{capture:!0,passive:ib}):q.addEventListener(J,da,!0):void 0!==ib?q.addEventListener(J,da,{passive:ib}):q.addEventListener(J,da,!1)}function Zd(q,
J,da,Qa,ib){var yb=Qa;if(0===(J&1)&&0===(J&2)&&null!==Qa)a:for(;;){if(null===Qa)return;var Ob=Qa.tag;if(3===Ob||4===Ob){var fc=Qa.stateNode.containerInfo;if(fc===ib||8===fc.nodeType&&fc.parentNode===ib)break;if(4===Ob)for(Ob=Qa.return;null!==Ob;){var Fc=Ob.tag;if(3===Fc||4===Fc)if(Fc=Ob.stateNode.containerInfo,Fc===ib||8===Fc.nodeType&&Fc.parentNode===ib)return;Ob=Ob.return}for(;null!==fc;){Ob=jf(fc);if(null===Ob)return;Fc=Ob.tag;if(5===Fc||6===Fc){Qa=yb=Ob;continue a}fc=fc.parentNode}}Qa=Qa.return}ba(function(){var sd=
yb,ve=kb(da),ff=[];a:{var Ld=Yh.get(q);if(void 0!==Ld){var Ke=Jf,gf=q;switch(q){case "keypress":if(0===Vc(da))break a;case "keydown":case "keyup":Ke=fj;break;case "focusin":gf="focus";Ke=vi;break;case "focusout":gf="blur";Ke=vi;break;case "beforeblur":case "afterblur":Ke=vi;break;case "click":if(2===da.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Ke=gj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Ke=
Oh;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Ke=xg;break;case xh:case Cj:case ak:Ke=Mi;break;case Ph:Ke=hj;break;case "scroll":Ke=Dj;break;case "wheel":Ke=p;break;case "copy":case "cut":case "paste":Ke=Ak;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Ke=Qg}var $e=0!==(J&4),cd=!$e&&"scroll"===q,Nc=$e?null!==Ld?Ld+"Capture":null:Ld;$e=[];for(var $c=
sd,Bd;null!==$c;){Bd=$c;var Jd=Bd.stateNode;5===Bd.tag&&null!==Jd&&(Bd=Jd,null!==Nc&&(Jd=ca($c,Nc),null!=Jd&&$e.push(he($c,Jd,Bd))));if(cd)break;$c=$c.return}0<$e.length&&(Ld=new Ke(Ld,gf,null,da,ve),ff.push({event:Ld,listeners:$e}))}}if(0===(J&7)){Ld="mouseover"===q||"pointerover"===q;Ke="mouseout"===q||"pointerout"===q;if(!Ld||0!==(J&16)||!(gf=da.relatedTarget||da.fromElement)||!jf(gf)&&!gf[Ej])if(Ke||Ld){Ld=ve.window===ve?ve:(Ld=ve.ownerDocument)?Ld.defaultView||Ld.parentWindow:window;if(Ke){if(gf=
da.relatedTarget||da.toElement,Ke=sd,gf=gf?jf(gf):null,null!==gf&&(cd=na(gf),gf!==cd||5!==gf.tag&&6!==gf.tag))gf=null}else Ke=null,gf=sd;if(Ke!==gf){$e=gj;Jd="onMouseLeave";Nc="onMouseEnter";$c="mouse";if("pointerout"===q||"pointerover"===q)$e=Qg,Jd="onPointerLeave",Nc="onPointerEnter",$c="pointer";cd=null==Ke?Ld:Td(Ke);Bd=null==gf?Ld:Td(gf);Ld=new $e(Jd,$c+"leave",Ke,da,ve);Ld.target=cd;Ld.relatedTarget=Bd;Jd=null;jf(ve)===sd&&($e=new $e(Nc,$c+"enter",gf,da,ve),$e.target=Bd,$e.relatedTarget=cd,Jd=
$e);cd=Jd;if(Ke&&gf)b:{$e=Ke;Nc=gf;$c=0;for(Bd=$e;Bd;Bd=Ue(Bd))$c++;Bd=0;for(Jd=Nc;Jd;Jd=Ue(Jd))Bd++;for(;0<$c-Bd;)$e=Ue($e),$c--;for(;0<Bd-$c;)Nc=Ue(Nc),Bd--;for(;$c--;){if($e===Nc||null!==Nc&&$e===Nc.alternate)break b;$e=Ue($e);Nc=Ue(Nc)}$e=null}else $e=null;null!==Ke&&Nf(ff,Ld,Ke,$e,!1);null!==gf&&null!==cd&&Nf(ff,cd,gf,$e,!0)}}Ld=sd?Td(sd):window;Ke=Ld.nodeName&&Ld.nodeName.toLowerCase();if("select"===Ke||"input"===Ke&&"file"===Ld.type)var cf=mc;else if(tc(Ld))if(wc)cf=Dc;else{cf=Qb;var Ae=Xc}else(Ke=
Ld.nodeName)&&"input"===Ke.toLowerCase()&&("checkbox"===Ld.type||"radio"===Ld.type)&&(cf=Ic);cf&&(cf=cf(q,sd))?pb(ff,cf,da,ve):(Ae&&Ae(q,Ld,sd),"focusout"===q&&(Ae=Ld._wrapperState)&&Ae.controlled&&"number"===Ld.type&&T(Ld,"number",Ld.value));Ae=sd?Td(sd):window;switch(q){case "focusin":if(tc(Ae)||"true"===Ae.contentEditable)Af=Ae,bg=sd,Wf=null;break;case "focusout":Wf=bg=Af=null;break;case "mousedown":qf=!0;break;case "contextmenu":case "mouseup":case "dragend":qf=!1;ae(ff,da,ve);break;case "selectionchange":if(cg)break;
case "keydown":case "keyup":ae(ff,da,ve)}var hf;if(S)a:{switch(q){case "compositionstart":var Kf="onCompositionStart";break a;case "compositionend":Kf="onCompositionEnd";break a;case "compositionupdate":Kf="onCompositionUpdate";break a}Kf=void 0}else Ib?Hb(q,da)&&(Kf="onCompositionEnd"):"keydown"===q&&229===da.keyCode&&(Kf="onCompositionStart");Kf&&(Xa&&"ko"!==da.locale&&(Ib||"onCompositionStart"!==Kf?"onCompositionEnd"===Kf&&Ib&&(hf=zc()):(ph=ve,ui="value"in ph?ph.value:ph.textContent,Ib=!0)),Ae=
zf(sd,Kf),0<Ae.length&&(Kf=new ij(Kf,q,null,da,ve),ff.push({event:Kf,listeners:Ae}),hf?Kf.data=hf:(hf=ac(da),null!==hf&&(Kf.data=hf))));if(hf=La?Lb(q,da):Ac(q,da))sd=zf(sd,"onBeforeInput"),0<sd.length&&(ve=new ij("onBeforeInput","beforeinput",null,da,ve),ff.push({event:ve,listeners:sd}),ve.data=hf)}De(ff,J)})}function he(q,J,da){return{instance:q,listener:J,currentTarget:da}}function zf(q,J){for(var da=J+"Capture",Qa=[];null!==q;){var ib=q,yb=ib.stateNode;5===ib.tag&&null!==yb&&(ib=yb,yb=ca(q,da),
null!=yb&&Qa.unshift(he(q,yb,ib)),yb=ca(q,J),null!=yb&&Qa.push(he(q,yb,ib)));q=q.return}return Qa}function Ue(q){if(null===q)return null;do q=q.return;while(q&&5!==q.tag);return q?q:null}function Nf(q,J,da,Qa,ib){for(var yb=J._reactName,Ob=[];null!==da&&da!==Qa;){var fc=da,Fc=fc.alternate,sd=fc.stateNode;if(null!==Fc&&Fc===Qa)break;5===fc.tag&&null!==sd&&(fc=sd,ib?(Fc=ca(da,yb),null!=Fc&&Ob.unshift(he(da,Fc,fc))):ib||(Fc=ca(da,yb),null!=Fc&&Ob.push(he(da,Fc,fc))));da=da.return}0!==Ob.length&&q.push({event:J,
listeners:Ob})}function me(){}function te(q,J){switch(q){case "button":case "input":case "select":case "textarea":return!!J.autoFocus}return!1}function kf(q,J){return"textarea"===q||"option"===q||"noscript"===q||"string"===typeof J.children||"number"===typeof J.children||"object"===typeof J.dangerouslySetInnerHTML&&null!==J.dangerouslySetInnerHTML&&null!=J.dangerouslySetInnerHTML.__html}function we(q){1===q.nodeType?q.textContent="":9===q.nodeType&&(q=q.body,null!=q&&(q.textContent=""))}function Od(q){for(;null!=
q;q=q.nextSibling){var J=q.nodeType;if(1===J||3===J)break}return q}function Xd(q){q=q.previousSibling;for(var J=0;q;){if(8===q.nodeType){var da=q.data;if("$"===da||"$!"===da||"$?"===da){if(0===J)return q;J--}else"/$"===da&&J++}q=q.previousSibling}return null}function Be(q){return{$$typeof:Zh,toString:q,valueOf:q}}function jf(q){var J=q[wi];if(J)return J;for(var da=q.parentNode;da;){if(J=da[Ej]||da[wi]){da=J.alternate;if(null!==J.child||null!==da&&null!==da.child)for(q=Xd(q);null!==q;){if(da=q[wi])return da;
q=Xd(q)}return J}q=da;da=q.parentNode}return null}function Ge(q){q=q[wi]||q[Ej];return!q||5!==q.tag&&6!==q.tag&&13!==q.tag&&3!==q.tag?null:q}function Td(q){if(5===q.tag||6===q.tag)return q.stateNode;throw Error(k(33));}function Ye(q){return q[Bk]||null}function Xf(q){var J=q[Zk];void 0===J&&(J=q[Zk]=new Set);return J}function Gc(q){return{current:q}}function xe(q){0>ng||(q.current=$k[ng],$k[ng]=null,ng--)}function le(q,J){ng++;$k[ng]=q.current;q.current=J}function kc(q,J){var da=q.type.contextTypes;
if(!da)return Rg;var Qa=q.stateNode;if(Qa&&Qa.__reactInternalMemoizedUnmaskedChildContext===J)return Qa.__reactInternalMemoizedMaskedChildContext;var ib={},yb;for(yb in da)ib[yb]=J[yb];Qa&&(q=q.stateNode,q.__reactInternalMemoizedUnmaskedChildContext=J,q.__reactInternalMemoizedMaskedChildContext=ib);return ib}function Fe(q){q=q.childContextTypes;return null!==q&&void 0!==q}function ue(){xe(Lg);xe(Sg)}function lf(q,J,da){if(Sg.current!==Rg)throw Error(k(168));le(Sg,J);le(Lg,da)}function Yf(q,J,da){var Qa=
q.stateNode;q=J.childContextTypes;if("function"!==typeof Qa.getChildContext)return da;Qa=Qa.getChildContext();for(var ib in Qa)if(!(ib in q))throw Error(k(108,e(J)||"Unknown",ib));return lg({},da,Qa)}function If(q){q=(q=q.stateNode)&&q.__reactInternalMemoizedMergedChildContext||Rg;Ni=Sg.current;le(Sg,q);le(Lg,Lg.current);return!0}function Sf(q,J,da){var Qa=q.stateNode;if(!Qa)throw Error(k(169));da?(q=Yf(q,J,Ni),Qa.__reactInternalMemoizedMergedChildContext=q,xe(Lg),xe(Sg),le(Sg,q)):xe(Lg);le(Lg,da)}
function Bf(){switch(pl()){case Ck:return 99;case bk:return 98;case ql:return 97;case rl:return 96;case sl:return 95;default:throw Error(k(332));}}function qe(q){switch(q){case 99:return Ck;case 98:return bk;case 97:return ql;case 96:return rl;case 95:return sl;default:throw Error(k(332));}}function yc(q,J){q=qe(q);return tl(q,J)}function xa(q,J,da){q=qe(q);return Dk(q,J,da)}function Ea(){if(null!==Fj){var q=Fj;Fj=null;ck(q)}Za()}function Za(){if(!al&&null!==xi){al=!0;var q=0;try{var J=xi;yc(99,function(){for(;q<
J.length;q++){var da=J[q];do da=da(!0);while(null!==da)}});xi=null}catch(da){throw null!==xi&&(xi=xi.slice(q+1)),Dk(Ck,Ea),da;}finally{al=!1}}}function Cb(q,J){if(q&&q.defaultProps){J=lg({},J);q=q.defaultProps;for(var da in q)void 0===J[da]&&(J[da]=q[da])}return J}function ub(q){var J=Ek.current;xe(Ek);q.type._context._currentValue=J}function Yb(q,J){for(;null!==q;){var da=q.alternate;if((q.childLanes&J)===J)if(null===da||(da.childLanes&J)===J)break;else da.childLanes|=J;else q.childLanes|=J,null!==
da&&(da.childLanes|=J);q=q.return}}function $b(q,J){Gj=q;Oi=Pi=null;q=q.dependencies;null!==q&&null!==q.firstContext&&(0!==(q.lanes&J)&&($h=!0),q.firstContext=null)}function Oc(q,J){if(Oi!==q&&!1!==J&&0!==J){if("number"!==typeof J||1073741823===J)Oi=q,J=1073741823;J={context:q,observedBits:J,next:null};if(null===Pi){if(null===Gj)throw Error(k(308));Pi=J;Gj.dependencies={lanes:0,firstContext:J,responders:null}}else Pi=Pi.next=J}return q._currentValue}function gd(q){q.updateQueue={baseState:q.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Mc(q,J){q=q.updateQueue;J.updateQueue===q&&(J.updateQueue={baseState:q.baseState,firstBaseUpdate:q.firstBaseUpdate,lastBaseUpdate:q.lastBaseUpdate,shared:q.shared,effects:q.effects})}function Nd(q,J){return{eventTime:q,lane:J,tag:0,payload:null,callback:null,next:null}}function od(q,J){q=q.updateQueue;if(null!==q){q=q.shared;var da=q.pending;null===da?J.next=J:(J.next=da.next,da.next=J);q.pending=J}}function Id(q,
J){var da=q.updateQueue,Qa=q.alternate;if(null!==Qa&&(Qa=Qa.updateQueue,da===Qa)){var ib=null,yb=null;da=da.firstBaseUpdate;if(null!==da){do{var Ob={eventTime:da.eventTime,lane:da.lane,tag:da.tag,payload:da.payload,callback:da.callback,next:null};null===yb?ib=yb=Ob:yb=yb.next=Ob;da=da.next}while(null!==da);null===yb?ib=yb=J:yb=yb.next=J}else ib=yb=J;da={baseState:Qa.baseState,firstBaseUpdate:ib,lastBaseUpdate:yb,shared:Qa.shared,effects:Qa.effects};q.updateQueue=da}else q=da.lastBaseUpdate,null===
q?da.firstBaseUpdate=J:q.next=J,da.lastBaseUpdate=J}function jd(q,J,da,Qa){var ib=q.updateQueue;hi=!1;var yb=ib.firstBaseUpdate,Ob=ib.lastBaseUpdate,fc=ib.shared.pending;if(null!==fc){ib.shared.pending=null;var Fc=fc,sd=Fc.next;Fc.next=null;null===Ob?yb=sd:Ob.next=sd;Ob=Fc;var ve=q.alternate;if(null!==ve){ve=ve.updateQueue;var ff=ve.lastBaseUpdate;ff!==Ob&&(null===ff?ve.firstBaseUpdate=sd:ff.next=sd,ve.lastBaseUpdate=Fc)}}if(null!==yb){ff=ib.baseState;Ob=0;ve=sd=Fc=null;do{fc=yb.lane;var Ld=yb.eventTime;
if((Qa&fc)===fc){null!==ve&&(ve=ve.next={eventTime:Ld,lane:0,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null});a:{var Ke=q,gf=yb;fc=J;Ld=da;switch(gf.tag){case 1:Ke=gf.payload;if("function"===typeof Ke){ff=Ke.call(Ld,ff,fc);break a}ff=Ke;break a;case 3:Ke.flags=Ke.flags&-4097|64;case 0:Ke=gf.payload;fc="function"===typeof Ke?Ke.call(Ld,ff,fc):Ke;if(null===fc||void 0===fc)break a;ff=lg({},ff,fc);break a;case 2:hi=!0}}null!==yb.callback&&(q.flags|=32,fc=ib.effects,null===fc?ib.effects=
[yb]:fc.push(yb))}else Ld={eventTime:Ld,lane:fc,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null},null===ve?(sd=ve=Ld,Fc=ff):ve=ve.next=Ld,Ob|=fc;yb=yb.next;if(null===yb)if(fc=ib.shared.pending,null===fc)break;else yb=fc.next,fc.next=null,ib.lastBaseUpdate=fc,ib.shared.pending=null}while(1);null===ve&&(Fc=ff);ib.baseState=Fc;ib.firstBaseUpdate=sd;ib.lastBaseUpdate=ve;dk|=Ob;q.lanes=Ob;q.memoizedState=ff}}function Qd(q,J,da){q=J.effects;J.effects=null;if(null!==q)for(J=0;J<q.length;J++){var Qa=
q[J],ib=Qa.callback;if(null!==ib){Qa.callback=null;Qa=da;if("function"!==typeof ib)throw Error(k(191,ib));ib.call(Qa)}}}function ie(q,J,da,Qa){J=q.memoizedState;da=da(Qa,J);da=null===da||void 0===da?J:lg({},J,da);q.memoizedState=da;0===q.lanes&&(q.updateQueue.baseState=da)}function Gf(q,J,da,Qa,ib,yb,Ob){q=q.stateNode;return"function"===typeof q.shouldComponentUpdate?q.shouldComponentUpdate(Qa,yb,Ob):J.prototype&&J.prototype.isPureReactComponent?!Tc(da,Qa)||!Tc(ib,yb):!0}function tf(q,J,da){var Qa=
!1,ib=Rg,yb=J.contextType;"object"===typeof yb&&null!==yb?yb=Oc(yb):(ib=Fe(J)?Ni:Sg.current,Qa=J.contextTypes,yb=(Qa=null!==Qa&&void 0!==Qa)?kc(q,ib):Rg);J=new J(da,yb);q.memoizedState=null!==J.state&&void 0!==J.state?J.state:null;J.updater=Fk;q.stateNode=J;J._reactInternals=q;Qa&&(q=q.stateNode,q.__reactInternalMemoizedUnmaskedChildContext=ib,q.__reactInternalMemoizedMaskedChildContext=yb);return J}function kd(q,J,da,Qa){q=J.state;"function"===typeof J.componentWillReceiveProps&&J.componentWillReceiveProps(da,
Qa);"function"===typeof J.UNSAFE_componentWillReceiveProps&&J.UNSAFE_componentWillReceiveProps(da,Qa);J.state!==q&&Fk.enqueueReplaceState(J,J.state,null)}function We(q,J,da,Qa){var ib=q.stateNode;ib.props=da;ib.state=q.memoizedState;ib.refs=ul;gd(q);var yb=J.contextType;"object"===typeof yb&&null!==yb?ib.context=Oc(yb):(yb=Fe(J)?Ni:Sg.current,ib.context=kc(q,yb));jd(q,da,ib,Qa);ib.state=q.memoizedState;yb=J.getDerivedStateFromProps;"function"===typeof yb&&(ie(q,J,yb,da),ib.state=q.memoizedState);
"function"===typeof J.getDerivedStateFromProps||"function"===typeof ib.getSnapshotBeforeUpdate||"function"!==typeof ib.UNSAFE_componentWillMount&&"function"!==typeof ib.componentWillMount||(J=ib.state,"function"===typeof ib.componentWillMount&&ib.componentWillMount(),"function"===typeof ib.UNSAFE_componentWillMount&&ib.UNSAFE_componentWillMount(),J!==ib.state&&Fk.enqueueReplaceState(ib,ib.state,null),jd(q,da,ib,Qa),ib.state=q.memoizedState);"function"===typeof ib.componentDidMount&&(q.flags|=4)}function uf(q,
J,da){q=da.ref;if(null!==q&&"function"!==typeof q&&"object"!==typeof q){if(da._owner){if(da=da._owner){if(1!==da.tag)throw Error(k(309));var Qa=da.stateNode}if(!Qa)throw Error(k(147,q));var ib=""+q;if(null!==J&&null!==J.ref&&"function"===typeof J.ref&&J.ref._stringRef===ib)return J.ref;J=function(yb){var Ob=Qa.refs;Ob===ul&&(Ob=Qa.refs={});null===yb?delete Ob[ib]:Ob[ib]=yb};J._stringRef=ib;return J}if("string"!==typeof q)throw Error(k(284));if(!da._owner)throw Error(k(290,q));}return q}function mf(q,
J){if("textarea"!==q.type)throw Error(k(31,"[object Object]"===Object.prototype.toString.call(J)?"object with keys {"+Object.keys(J).join(", ")+"}":J));}function Zf(q){function J(cd,Nc){if(q){var $c=cd.lastEffect;null!==$c?($c.nextEffect=Nc,cd.lastEffect=Nc):cd.firstEffect=cd.lastEffect=Nc;Nc.nextEffect=null;Nc.flags=8}}function da(cd,Nc){if(!q)return null;for(;null!==Nc;)J(cd,Nc),Nc=Nc.sibling;return null}function Qa(cd,Nc){for(cd=new Map;null!==Nc;)null!==Nc.key?cd.set(Nc.key,Nc):cd.set(Nc.index,
Nc),Nc=Nc.sibling;return cd}function ib(cd,Nc){cd=qg(cd,Nc);cd.index=0;cd.sibling=null;return cd}function yb(cd,Nc,$c){cd.index=$c;if(!q)return Nc;$c=cd.alternate;if(null!==$c)return $c=$c.index,$c<Nc?(cd.flags=2,Nc):$c;cd.flags=2;return Nc}function Ob(cd){q&&null===cd.alternate&&(cd.flags=2);return cd}function fc(cd,Nc,$c,Bd){if(null===Nc||6!==Nc.tag)return Nc=Hj($c,cd.mode,Bd),Nc.return=cd,Nc;Nc=ib(Nc,$c);Nc.return=cd;return Nc}function Fc(cd,Nc,$c,Bd){if(null!==Nc&&Nc.elementType===$c.type)return Bd=
ib(Nc,$c.props),Bd.ref=uf(cd,Nc,$c),Bd.return=cd,Bd;Bd=yi($c.type,$c.key,$c.props,null,cd.mode,Bd);Bd.ref=uf(cd,Nc,$c);Bd.return=cd;return Bd}function sd(cd,Nc,$c,Bd){if(null===Nc||4!==Nc.tag||Nc.stateNode.containerInfo!==$c.containerInfo||Nc.stateNode.implementation!==$c.implementation)return Nc=Qi($c,cd.mode,Bd),Nc.return=cd,Nc;Nc=ib(Nc,$c.children||[]);Nc.return=cd;return Nc}function ve(cd,Nc,$c,Bd,Jd){if(null===Nc||7!==Nc.tag)return Nc=zi($c,cd.mode,Bd,Jd),Nc.return=cd,Nc;Nc=ib(Nc,$c);Nc.return=
cd;return Nc}function ff(cd,Nc,$c){if("string"===typeof Nc||"number"===typeof Nc)return Nc=Hj(""+Nc,cd.mode,$c),Nc.return=cd,Nc;if("object"===typeof Nc&&null!==Nc){switch(Nc.$$typeof){case Ri:return $c=yi(Nc.type,Nc.key,Nc.props,null,cd.mode,$c),$c.ref=uf(cd,null,Nc),$c.return=cd,$c;case wg:return Nc=Qi(Nc,cd.mode,$c),Nc.return=cd,Nc}if(Gk(Nc)||g(Nc))return Nc=zi(Nc,cd.mode,$c,null),Nc.return=cd,Nc;mf(cd,Nc)}return null}function Ld(cd,Nc,$c,Bd){var Jd=null!==Nc?Nc.key:null;if("string"===typeof $c||
"number"===typeof $c)return null!==Jd?null:fc(cd,Nc,""+$c,Bd);if("object"===typeof $c&&null!==$c){switch($c.$$typeof){case Ri:return $c.key===Jd?$c.type===Zg?ve(cd,Nc,$c.props.children,Bd,Jd):Fc(cd,Nc,$c,Bd):null;case wg:return $c.key===Jd?sd(cd,Nc,$c,Bd):null}if(Gk($c)||g($c))return null!==Jd?null:ve(cd,Nc,$c,Bd,null);mf(cd,$c)}return null}function Ke(cd,Nc,$c,Bd,Jd){if("string"===typeof Bd||"number"===typeof Bd)return cd=cd.get($c)||null,fc(Nc,cd,""+Bd,Jd);if("object"===typeof Bd&&null!==Bd){switch(Bd.$$typeof){case Ri:return cd=
cd.get(null===Bd.key?$c:Bd.key)||null,Bd.type===Zg?ve(Nc,cd,Bd.props.children,Jd,Bd.key):Fc(Nc,cd,Bd,Jd);case wg:return cd=cd.get(null===Bd.key?$c:Bd.key)||null,sd(Nc,cd,Bd,Jd)}if(Gk(Bd)||g(Bd))return cd=cd.get($c)||null,ve(Nc,cd,Bd,Jd,null);mf(Nc,Bd)}return null}function gf(cd,Nc,$c,Bd){for(var Jd=null,cf=null,Ae=Nc,hf=Nc=0,Kf=null;null!==Ae&&hf<$c.length;hf++){Ae.index>hf?(Kf=Ae,Ae=null):Kf=Ae.sibling;var xf=Ld(cd,Ae,$c[hf],Bd);if(null===xf){null===Ae&&(Ae=Kf);break}q&&Ae&&null===xf.alternate&&
J(cd,Ae);Nc=yb(xf,Nc,hf);null===cf?Jd=xf:cf.sibling=xf;cf=xf;Ae=Kf}if(hf===$c.length)return da(cd,Ae),Jd;if(null===Ae){for(;hf<$c.length;hf++)Ae=ff(cd,$c[hf],Bd),null!==Ae&&(Nc=yb(Ae,Nc,hf),null===cf?Jd=Ae:cf.sibling=Ae,cf=Ae);return Jd}for(Ae=Qa(cd,Ae);hf<$c.length;hf++)Kf=Ke(Ae,cd,hf,$c[hf],Bd),null!==Kf&&(q&&null!==Kf.alternate&&Ae.delete(null===Kf.key?hf:Kf.key),Nc=yb(Kf,Nc,hf),null===cf?Jd=Kf:cf.sibling=Kf,cf=Kf);q&&Ae.forEach(function(Si){return J(cd,Si)});return Jd}function $e(cd,Nc,$c,Bd){var Jd=
g($c);if("function"!==typeof Jd)throw Error(k(150));$c=Jd.call($c);if(null==$c)throw Error(k(151));for(var cf=Jd=null,Ae=Nc,hf=Nc=0,Kf=null,xf=$c.next();null!==Ae&&!xf.done;hf++,xf=$c.next()){Ae.index>hf?(Kf=Ae,Ae=null):Kf=Ae.sibling;var Si=Ld(cd,Ae,xf.value,Bd);if(null===Si){null===Ae&&(Ae=Kf);break}q&&Ae&&null===Si.alternate&&J(cd,Ae);Nc=yb(Si,Nc,hf);null===cf?Jd=Si:cf.sibling=Si;cf=Si;Ae=Kf}if(xf.done)return da(cd,Ae),Jd;if(null===Ae){for(;!xf.done;hf++,xf=$c.next())xf=ff(cd,xf.value,Bd),null!==
xf&&(Nc=yb(xf,Nc,hf),null===cf?Jd=xf:cf.sibling=xf,cf=xf);return Jd}for(Ae=Qa(cd,Ae);!xf.done;hf++,xf=$c.next())xf=Ke(Ae,cd,hf,xf.value,Bd),null!==xf&&(q&&null!==xf.alternate&&Ae.delete(null===xf.key?hf:xf.key),Nc=yb(xf,Nc,hf),null===cf?Jd=xf:cf.sibling=xf,cf=xf);q&&Ae.forEach(function(vl){return J(cd,vl)});return Jd}return function(cd,Nc,$c,Bd){var Jd="object"===typeof $c&&null!==$c&&$c.type===Zg&&null===$c.key;Jd&&($c=$c.props.children);var cf="object"===typeof $c&&null!==$c;if(cf)switch($c.$$typeof){case Ri:a:{cf=
$c.key;for(Jd=Nc;null!==Jd;){if(Jd.key===cf){switch(Jd.tag){case 7:if($c.type===Zg){da(cd,Jd.sibling);Nc=ib(Jd,$c.props.children);Nc.return=cd;cd=Nc;break a}break;default:if(Jd.elementType===$c.type){da(cd,Jd.sibling);Nc=ib(Jd,$c.props);Nc.ref=uf(cd,Jd,$c);Nc.return=cd;cd=Nc;break a}}da(cd,Jd);break}else J(cd,Jd);Jd=Jd.sibling}$c.type===Zg?(Nc=zi($c.props.children,cd.mode,Bd,$c.key),Nc.return=cd,cd=Nc):(Bd=yi($c.type,$c.key,$c.props,null,cd.mode,Bd),Bd.ref=uf(cd,Nc,$c),Bd.return=cd,cd=Bd)}return Ob(cd);
case wg:a:{for(Jd=$c.key;null!==Nc;){if(Nc.key===Jd)if(4===Nc.tag&&Nc.stateNode.containerInfo===$c.containerInfo&&Nc.stateNode.implementation===$c.implementation){da(cd,Nc.sibling);Nc=ib(Nc,$c.children||[]);Nc.return=cd;cd=Nc;break a}else{da(cd,Nc);break}else J(cd,Nc);Nc=Nc.sibling}Nc=Qi($c,cd.mode,Bd);Nc.return=cd;cd=Nc}return Ob(cd)}if("string"===typeof $c||"number"===typeof $c)return $c=""+$c,null!==Nc&&6===Nc.tag?(da(cd,Nc.sibling),Nc=ib(Nc,$c),Nc.return=cd,cd=Nc):(da(cd,Nc),Nc=Hj($c,cd.mode,
Bd),Nc.return=cd,cd=Nc),Ob(cd);if(Gk($c))return gf(cd,Nc,$c,Bd);if(g($c))return $e(cd,Nc,$c,Bd);cf&&mf(cd,$c);if("undefined"===typeof $c&&!Jd)switch(cd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(k(152,e(cd.type)||"Component"));}return da(cd,Nc)}}function yf(q){if(q===ii)throw Error(k(174));return q}function Pe(q,J){le(rf,J);le(ji,q);le(qh,ii);q=J.nodeType;switch(q){case 9:case 11:J=(J=J.documentElement)?J.namespaceURI:ha(null,"");break;default:q=8===q?J.parentNode:J,J=q.namespaceURI||
null,q=q.tagName,J=ha(J,q)}xe(qh);le(qh,J)}function nf(){xe(qh);xe(ji);xe(rf)}function Aa(q){yf(rf.current);var J=yf(qh.current),da=ha(J,q.type);J!==da&&(le(ji,q),le(qh,da))}function Pa(q){ji.current===q&&(xe(qh),xe(ji))}function vb(q){for(var J=q;null!==J;){if(13===J.tag){var da=J.memoizedState;if(null!==da&&(da=da.dehydrated,null===da||"$?"===da.data||"$!"===da.data))return J}else if(19===J.tag&&void 0!==J.memoizedProps.revealOrder){if(0!==(J.flags&64))return J}else if(null!==J.child){J.child.return=
J;J=J.child;continue}if(J===q)break;for(;null===J.sibling;){if(null===J.return||J.return===q)return null;J=J.return}J.sibling.return=J.return;J=J.sibling}return null}function Wb(q,J){var da=kh(5,null,null,0);da.elementType="DELETED";da.type="DELETED";da.stateNode=J;da.return=q;da.flags=8;null!==q.lastEffect?(q.lastEffect.nextEffect=da,q.lastEffect=da):q.firstEffect=q.lastEffect=da}function Tb(q,J){switch(q.tag){case 5:var da=q.type;J=1!==J.nodeType||da.toLowerCase()!==J.nodeName.toLowerCase()?null:
J;return null!==J?(q.stateNode=J,!0):!1;case 6:return J=""===q.pendingProps||3!==J.nodeType?null:J,null!==J?(q.stateNode=J,!0):!1;case 13:return!1;default:return!1}}function ic(q){if(fh){var J=Tg;if(J){var da=J;if(!Tb(q,J)){J=Od(da.nextSibling);if(!J||!Tb(q,J)){q.flags=q.flags&-1025|2;fh=!1;Hd=q;return}Wb(Hd,da)}Hd=q;Tg=Od(J.firstChild)}else q.flags=q.flags&-1025|2,fh=!1,Hd=q}}function oc(q){for(q=q.return;null!==q&&5!==q.tag&&3!==q.tag&&13!==q.tag;)q=q.return;Hd=q}function fd(q){if(q!==Hd)return!1;
if(!fh)return oc(q),fh=!0,!1;var J=q.type;if(5!==q.tag||"head"!==J&&"body"!==J&&!kf(J,q.memoizedProps))for(J=Tg;J;)Wb(q,J),J=Od(J.nextSibling);oc(q);if(13===q.tag){q=q.memoizedState;q=null!==q?q.dehydrated:null;if(!q)throw Error(k(317));a:{q=q.nextSibling;for(J=0;q;){if(8===q.nodeType){var da=q.data;if("/$"===da){if(0===J){Tg=Od(q.nextSibling);break a}J--}else"$"!==da&&"$!"!==da&&"$?"!==da||J++}q=q.nextSibling}Tg=null}}else Tg=Hd?Od(q.stateNode.nextSibling):null;return!0}function Wc(){for(var q=0;q<
jj.length;q++)jj[q]._workInProgressVersionPrimary=null;jj.length=0}function nd(){throw Error(k(321));}function Kd(q,J){if(null===J)return!1;for(var da=0;da<J.length&&da<q.length;da++)if(!bf(q[da],J[da]))return!1;return!0}function de(q,J,da,Qa,ib,yb){ek=yb;rg=J;J.memoizedState=null;J.updateQueue=null;J.lanes=0;Ij.current=null===q||null===q.memoizedState?Hl:Il;q=da(Qa,ib);if(fk){yb=0;do{fk=!1;if(!(25>yb))throw Error(k(301));yb+=1;Ug=$g=null;J.updateQueue=null;Ij.current=bl;q=da(Qa,ib)}while(fk)}Ij.current=
Hk;J=null!==$g&&null!==$g.next;ek=0;Ug=$g=rg=null;Ik=!1;if(J)throw Error(k(300));return q}function je(){var q={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Ug?rg.memoizedState=Ug=q:Ug=Ug.next=q;return Ug}function Gd(){if(null===$g){var q=rg.alternate;q=null!==q?q.memoizedState:null}else q=$g.next;var J=null===Ug?rg.memoizedState:Ug.next;if(null!==J)Ug=J,$g=q;else{if(null===q)throw Error(k(310));$g=q;q={memoizedState:$g.memoizedState,baseState:$g.baseState,baseQueue:$g.baseQueue,
queue:$g.queue,next:null};null===Ug?rg.memoizedState=Ug=q:Ug=Ug.next=q}return Ug}function Le(q,J){return"function"===typeof J?J(q):J}function $d(q){var J=Gd(),da=J.queue;if(null===da)throw Error(k(311));da.lastRenderedReducer=q;var Qa=$g,ib=Qa.baseQueue,yb=da.pending;if(null!==yb){if(null!==ib){var Ob=ib.next;ib.next=yb.next;yb.next=Ob}Qa.baseQueue=ib=yb;da.pending=null}if(null!==ib){ib=ib.next;Qa=Qa.baseState;var fc=Ob=yb=null,Fc=ib;do{var sd=Fc.lane;if((ek&sd)===sd)null!==fc&&(fc=fc.next={lane:0,
action:Fc.action,eagerReducer:Fc.eagerReducer,eagerState:Fc.eagerState,next:null}),Qa=Fc.eagerReducer===q?Fc.eagerState:q(Qa,Fc.action);else{var ve={lane:sd,action:Fc.action,eagerReducer:Fc.eagerReducer,eagerState:Fc.eagerState,next:null};null===fc?(Ob=fc=ve,yb=Qa):fc=fc.next=ve;rg.lanes|=sd;dk|=sd}Fc=Fc.next}while(null!==Fc&&Fc!==ib);null===fc?yb=Qa:fc.next=Ob;bf(Qa,J.memoizedState)||($h=!0);J.memoizedState=Qa;J.baseState=yb;J.baseQueue=fc;da.lastRenderedState=Qa}return[J.memoizedState,da.dispatch]}
function Ie(q){var J=Gd(),da=J.queue;if(null===da)throw Error(k(311));da.lastRenderedReducer=q;var Qa=da.dispatch,ib=da.pending,yb=J.memoizedState;if(null!==ib){da.pending=null;var Ob=ib=ib.next;do yb=q(yb,Ob.action),Ob=Ob.next;while(Ob!==ib);bf(yb,J.memoizedState)||($h=!0);J.memoizedState=yb;null===J.baseQueue&&(J.baseState=yb);da.lastRenderedState=yb}return[yb,Qa]}function Ce(q,J,da){var Qa=J._getVersion;Qa=Qa(J._source);var ib=J._workInProgressVersionPrimary;if(null!==ib)q=ib===Qa;else if(q=q.mutableReadLanes,
q=(ek&q)===q)J._workInProgressVersionPrimary=Qa,jj.push(J);if(q)return da(J._source);jj.push(J);throw Error(k(350));}function Qe(q,J,da,Qa){var ib=ah;if(null===ib)throw Error(k(349));var yb=J._getVersion,Ob=yb(J._source),fc=Ij.current,Fc=fc.useState(function(){return Ce(ib,J,da)}),sd=Fc[1],ve=Fc[0];Fc=Ug;var ff=q.memoizedState,Ld=ff.refs,Ke=Ld.getSnapshot,gf=ff.source;ff=ff.subscribe;var $e=rg;q.memoizedState={refs:Ld,source:J,subscribe:Qa};fc.useEffect(function(){Ld.getSnapshot=da;Ld.setSnapshot=
sd;var cd=yb(J._source);if(!bf(Ob,cd)){cd=da(J._source);bf(ve,cd)||(sd(cd),cd=Jc($e),ib.mutableReadLanes|=cd&ib.pendingLanes);cd=ib.mutableReadLanes;ib.entangledLanes|=cd;for(var Nc=ib.entanglements,$c=cd;0<$c;){var Bd=31-Lh($c),Jd=1<<Bd;Nc[Bd]|=cd;$c&=~Jd}}},[da,J,Qa]);fc.useEffect(function(){return Qa(J._source,function(){var cd=Ld.getSnapshot,Nc=Ld.setSnapshot;try{Nc(cd(J._source));var $c=Jc($e);ib.mutableReadLanes|=$c&ib.pendingLanes}catch(Bd){Nc(function(){throw Bd;})}})},[J,Qa]);bf(Ke,da)&&
bf(gf,J)&&bf(ff,Qa)||(q={pending:null,dispatch:null,lastRenderedReducer:Le,lastRenderedState:ve},q.dispatch=sd=Kb.bind(null,rg,q),Fc.queue=q,Fc.baseQueue=null,ve=Ce(ib,J,da),Fc.memoizedState=Fc.baseState=ve);return ve}function Uf(q,J,da){var Qa=Gd();return Qe(Qa,q,J,da)}function ne(q){var J=je();"function"===typeof q&&(q=q());J.memoizedState=J.baseState=q;q=J.queue={pending:null,dispatch:null,lastRenderedReducer:Le,lastRenderedState:q};q=q.dispatch=Kb.bind(null,rg,q);return[J.memoizedState,q]}function sf(q,
J,da,Qa){q={tag:q,create:J,destroy:da,deps:Qa,next:null};J=rg.updateQueue;null===J?(J={lastEffect:null},rg.updateQueue=J,J.lastEffect=q.next=q):(da=J.lastEffect,null===da?J.lastEffect=q.next=q:(Qa=da.next,da.next=q,q.next=Qa,J.lastEffect=q));return q}function Cf(q){var J=je();q={current:q};return J.memoizedState=q}function Bg(){return Gd().memoizedState}function Lf(q,J,da,Qa){var ib=je();rg.flags|=q;ib.memoizedState=sf(1|J,da,void 0,void 0===Qa?null:Qa)}function jg(q,J,da,Qa){var ib=Gd();Qa=void 0===
Qa?null:Qa;var yb=void 0;if(null!==$g){var Ob=$g.memoizedState;yb=Ob.destroy;if(null!==Qa&&Kd(Qa,Ob.deps)){sf(J,da,yb,Qa);return}}rg.flags|=q;ib.memoizedState=sf(1|J,da,yb,Qa)}function ya(q,J){return Lf(516,4,q,J)}function za(q,J){return jg(516,4,q,J)}function Na(q,J){return jg(4,2,q,J)}function Sa(q,J){if("function"===typeof J)return q=q(),J(q),function(){J(null)};if(null!==J&&void 0!==J)return q=q(),J.current=q,function(){J.current=null}}function fb(q,J,da){da=null!==da&&void 0!==da?da.concat([q]):
null;return jg(4,2,Sa.bind(null,J,q),da)}function hb(){}function qb(q,J){var da=Gd();J=void 0===J?null:J;var Qa=da.memoizedState;if(null!==Qa&&null!==J&&Kd(J,Qa[1]))return Qa[0];da.memoizedState=[q,J];return q}function Db(q,J){var da=Gd();J=void 0===J?null:J;var Qa=da.memoizedState;if(null!==Qa&&null!==J&&Kd(J,Qa[1]))return Qa[0];q=q();da.memoizedState=[q,J];return q}function Ab(q,J){var da=Bf();yc(98>da?98:da,function(){q(!0)});yc(97<da?97:da,function(){var Qa=yh.transition;yh.transition=1;try{q(!1),
J()}finally{yh.transition=Qa}})}function Kb(q,J,da){var Qa=bd(),ib=Jc(q),yb={lane:ib,action:da,eagerReducer:null,eagerState:null,next:null},Ob=J.pending;null===Ob?yb.next=yb:(yb.next=Ob.next,Ob.next=yb);J.pending=yb;Ob=q.alternate;if(q===rg||null!==Ob&&Ob===rg)fk=Ik=!0;else{if(0===q.lanes&&(null===Ob||0===Ob.lanes)&&(Ob=J.lastRenderedReducer,null!==Ob))try{var fc=J.lastRenderedState,Fc=Ob(fc,da);yb.eagerReducer=Ob;yb.eagerState=Fc;if(bf(Fc,fc))return}catch(sd){}finally{}ud(q,ib,Qa)}}function Jb(q,
J,da,Qa){J.child=null===q?Je(J,null,da,Qa):Jk(J,q.child,da,Qa)}function cc(q,J,da,Qa,ib){da=da.render;var yb=J.ref;$b(J,ib);Qa=de(q,J,da,Qa,yb,ib);if(null!==q&&!$h)return J.updateQueue=q.updateQueue,J.flags&=-517,q.lanes&=~ib,Ad(q,J,ib);J.flags|=1;Jb(q,J,Qa,ib);return J.child}function xc(q,J,da,Qa,ib,yb){if(null===q){var Ob=da.type;if("function"===typeof Ob&&!Jj(Ob)&&void 0===Ob.defaultProps&&null===da.compare&&void 0===da.defaultProps)return J.tag=15,J.type=Ob,Y(q,J,Ob,Qa,ib,yb);q=yi(da.type,null,
Qa,J,J.mode,yb);q.ref=J.ref;q.return=J;return J.child=q}Ob=q.child;if(0===(ib&yb)&&(ib=Ob.memoizedProps,da=da.compare,da=null!==da?da:Tc,da(ib,Qa)&&q.ref===J.ref))return Ad(q,J,yb);J.flags|=1;q=qg(Ob,Qa);q.ref=J.ref;q.return=J;return J.child=q}function Y(q,J,da,Qa,ib,yb){if(null!==q&&Tc(q.memoizedProps,Qa)&&q.ref===J.ref)if($h=!1,0!==(yb&ib))0!==(q.flags&16384)&&($h=!0);else return J.lanes=q.lanes,Ad(q,J,yb);return Va(q,J,da,Qa,yb)}function oa(q,J,da){var Qa=J.pendingProps,ib=Qa.children,yb=null!==
q?q.memoizedState:null;if("hidden"===Qa.mode||"unstable-defer-without-hiding"===Qa.mode)if(0===(J.mode&4))J.memoizedState={baseLanes:0},xd(J,da);else if(0!==(da&1073741824))J.memoizedState={baseLanes:0},xd(J,null!==yb?yb.baseLanes:da);else return q=null!==yb?yb.baseLanes|da:da,J.lanes=J.childLanes=1073741824,J.memoizedState={baseLanes:q},xd(J,q),null;else null!==yb?(Qa=yb.baseLanes|da,J.memoizedState=null):Qa=da,xd(J,Qa);Jb(q,J,ib,da);return J.child}function Oa(q,J){var da=J.ref;if(null===q&&null!==
da||null!==q&&q.ref!==da)J.flags|=128}function Va(q,J,da,Qa,ib){var yb=Fe(da)?Ni:Sg.current;yb=kc(J,yb);$b(J,ib);da=de(q,J,da,Qa,yb,ib);if(null!==q&&!$h)return J.updateQueue=q.updateQueue,J.flags&=-517,q.lanes&=~ib,Ad(q,J,ib);J.flags|=1;Jb(q,J,da,ib);return J.child}function xb(q,J,da,Qa,ib){if(Fe(da)){var yb=!0;If(J)}else yb=!1;$b(J,ib);if(null===J.stateNode)null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2),tf(J,da,Qa),We(J,da,Qa,ib),Qa=!0;else if(null===q){var Ob=J.stateNode,fc=J.memoizedProps;
Ob.props=fc;var Fc=Ob.context,sd=da.contextType;"object"===typeof sd&&null!==sd?sd=Oc(sd):(sd=Fe(da)?Ni:Sg.current,sd=kc(J,sd));var ve=da.getDerivedStateFromProps,ff="function"===typeof ve||"function"===typeof Ob.getSnapshotBeforeUpdate;ff||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||(fc!==Qa||Fc!==sd)&&kd(J,Ob,Qa,sd);hi=!1;var Ld=J.memoizedState;Ob.state=Ld;jd(J,Qa,Ob,ib);Fc=J.memoizedState;fc!==Qa||Ld!==Fc||Lg.current||hi?("function"===
typeof ve&&(ie(J,da,ve,Qa),Fc=J.memoizedState),(fc=hi||Gf(J,da,fc,Qa,Ld,Fc,sd))?(ff||"function"!==typeof Ob.UNSAFE_componentWillMount&&"function"!==typeof Ob.componentWillMount||("function"===typeof Ob.componentWillMount&&Ob.componentWillMount(),"function"===typeof Ob.UNSAFE_componentWillMount&&Ob.UNSAFE_componentWillMount()),"function"===typeof Ob.componentDidMount&&(J.flags|=4)):("function"===typeof Ob.componentDidMount&&(J.flags|=4),J.memoizedProps=Qa,J.memoizedState=Fc),Ob.props=Qa,Ob.state=Fc,
Ob.context=sd,Qa=fc):("function"===typeof Ob.componentDidMount&&(J.flags|=4),Qa=!1)}else{Ob=J.stateNode;Mc(q,J);fc=J.memoizedProps;sd=J.type===J.elementType?fc:Cb(J.type,fc);Ob.props=sd;ff=J.pendingProps;Ld=Ob.context;Fc=da.contextType;"object"===typeof Fc&&null!==Fc?Fc=Oc(Fc):(Fc=Fe(da)?Ni:Sg.current,Fc=kc(J,Fc));var Ke=da.getDerivedStateFromProps;(ve="function"===typeof Ke||"function"===typeof Ob.getSnapshotBeforeUpdate)||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||
(fc!==ff||Ld!==Fc)&&kd(J,Ob,Qa,Fc);hi=!1;Ld=J.memoizedState;Ob.state=Ld;jd(J,Qa,Ob,ib);var gf=J.memoizedState;fc!==ff||Ld!==gf||Lg.current||hi?("function"===typeof Ke&&(ie(J,da,Ke,Qa),gf=J.memoizedState),(sd=hi||Gf(J,da,sd,Qa,Ld,gf,Fc))?(ve||"function"!==typeof Ob.UNSAFE_componentWillUpdate&&"function"!==typeof Ob.componentWillUpdate||("function"===typeof Ob.componentWillUpdate&&Ob.componentWillUpdate(Qa,gf,Fc),"function"===typeof Ob.UNSAFE_componentWillUpdate&&Ob.UNSAFE_componentWillUpdate(Qa,gf,
Fc)),"function"===typeof Ob.componentDidUpdate&&(J.flags|=4),"function"===typeof Ob.getSnapshotBeforeUpdate&&(J.flags|=256)):("function"!==typeof Ob.componentDidUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=256),J.memoizedProps=Qa,J.memoizedState=gf),Ob.props=Qa,Ob.state=gf,Ob.context=Fc,Qa=sd):("function"!==typeof Ob.componentDidUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||
(J.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=256),Qa=!1)}return Sb(q,J,da,Qa,yb,ib)}function Sb(q,J,da,Qa,ib,yb){Oa(q,J);var Ob=0!==(J.flags&64);if(!Qa&&!Ob)return ib&&Sf(J,da,!1),Ad(q,J,yb);Qa=J.stateNode;cl.current=J;var fc=Ob&&"function"!==typeof da.getDerivedStateFromError?null:Qa.render();J.flags|=1;null!==q&&Ob?(J.child=Jk(J,q.child,null,yb),J.child=Jk(J,null,fc,yb)):Jb(q,J,fc,yb);J.memoizedState=Qa.state;ib&&Sf(J,da,!0);
return J.child}function Zb(q){var J=q.stateNode;J.pendingContext?lf(q,J.pendingContext,J.pendingContext!==J.context):J.context&&lf(q,J.context,!1);Pe(q,J.containerInfo)}function qc(q,J,da){var Qa=J.pendingProps,ib=of.current,yb=!1,Ob;(Ob=0!==(J.flags&64))||(Ob=null!==q&&null===q.memoizedState?!1:0!==(ib&2));Ob?(yb=!0,J.flags&=-65):null!==q&&null===q.memoizedState||void 0===Qa.fallback||!0===Qa.unstable_avoidThisFallback||(ib|=1);le(of,ib&1);if(null===q){void 0!==Qa.fallback&&ic(J);q=Qa.children;ib=
Qa.fallback;if(yb)return q=Ec(J,q,ib,da),J.child.memoizedState={baseLanes:da},J.memoizedState=gk,q;if("number"===typeof Qa.unstable_expectedLoadTime)return q=Ec(J,q,ib,da),J.child.memoizedState={baseLanes:da},J.memoizedState=gk,J.lanes=33554432,q;da=Ai({mode:"visible",children:q},J.mode,da,null);da.return=J;return J.child=da}if(null!==q.memoizedState){if(yb)return Qa=Zc(q,J,Qa.children,Qa.fallback,da),yb=J.child,ib=q.child.memoizedState,yb.memoizedState=null===ib?{baseLanes:da}:{baseLanes:ib.baseLanes|
da},yb.childLanes=q.childLanes&~da,J.memoizedState=gk,Qa;da=ed(q,J,Qa.children,da);J.memoizedState=null;return da}if(yb)return Qa=Zc(q,J,Qa.children,Qa.fallback,da),yb=J.child,ib=q.child.memoizedState,yb.memoizedState=null===ib?{baseLanes:da}:{baseLanes:ib.baseLanes|da},yb.childLanes=q.childLanes&~da,J.memoizedState=gk,Qa;da=ed(q,J,Qa.children,da);J.memoizedState=null;return da}function Ec(q,J,da,Qa){var ib=q.mode,yb=q.child;J={mode:"hidden",children:J};0===(ib&2)&&null!==yb?(yb.childLanes=0,yb.pendingProps=
J):yb=Ai(J,ib,0,null);da=zi(da,ib,Qa,null);yb.return=q;da.return=q;yb.sibling=da;q.child=yb;return da}function ed(q,J,da,Qa){var ib=q.child;q=ib.sibling;da=qg(ib,{mode:"visible",children:da});0===(J.mode&2)&&(da.lanes=Qa);da.return=J;da.sibling=null;null!==q&&(q.nextEffect=null,q.flags=8,J.firstEffect=J.lastEffect=q);return J.child=da}function Zc(q,J,da,Qa,ib){var yb=J.mode,Ob=q.child;q=Ob.sibling;var fc={mode:"hidden",children:da};0===(yb&2)&&J.child!==Ob?(da=J.child,da.childLanes=0,da.pendingProps=
fc,Ob=da.lastEffect,null!==Ob?(J.firstEffect=da.firstEffect,J.lastEffect=Ob,Ob.nextEffect=null):J.firstEffect=J.lastEffect=null):da=qg(Ob,fc);null!==q?Qa=qg(q,Qa):(Qa=zi(Qa,yb,ib,null),Qa.flags|=2);Qa.return=J;da.return=J;da.sibling=Qa;J.child=da;return Qa}function Pd(q,J){q.lanes|=J;var da=q.alternate;null!==da&&(da.lanes|=J);Yb(q.return,J)}function be(q,J,da,Qa,ib,yb){var Ob=q.memoizedState;null===Ob?q.memoizedState={isBackwards:J,rendering:null,renderingStartTime:0,last:Qa,tail:da,tailMode:ib,
lastEffect:yb}:(Ob.isBackwards=J,Ob.rendering=null,Ob.renderingStartTime=0,Ob.last=Qa,Ob.tail=da,Ob.tailMode=ib,Ob.lastEffect=yb)}function pd(q,J,da){var Qa=J.pendingProps,ib=Qa.revealOrder,yb=Qa.tail;Jb(q,J,Qa.children,da);Qa=of.current;if(0!==(Qa&2))Qa=Qa&1|2,J.flags|=64;else{if(null!==q&&0!==(q.flags&64))a:for(q=J.child;null!==q;){if(13===q.tag)null!==q.memoizedState&&Pd(q,da);else if(19===q.tag)Pd(q,da);else if(null!==q.child){q.child.return=q;q=q.child;continue}if(q===J)break a;for(;null===q.sibling;){if(null===
q.return||q.return===J)break a;q=q.return}q.sibling.return=q.return;q=q.sibling}Qa&=1}le(of,Qa);if(0===(J.mode&2))J.memoizedState=null;else switch(ib){case "forwards":da=J.child;for(ib=null;null!==da;)q=da.alternate,null!==q&&null===vb(q)&&(ib=da),da=da.sibling;da=ib;null===da?(ib=J.child,J.child=null):(ib=da.sibling,da.sibling=null);be(J,!1,ib,da,yb,J.lastEffect);break;case "backwards":da=null;ib=J.child;for(J.child=null;null!==ib;){q=ib.alternate;if(null!==q&&null===vb(q)){J.child=ib;break}q=ib.sibling;
ib.sibling=da;da=ib;ib=q}be(J,!0,da,null,yb,J.lastEffect);break;case "together":be(J,!1,null,null,void 0,J.lastEffect);break;default:J.memoizedState=null}return J.child}function Ad(q,J,da){null!==q&&(J.dependencies=q.dependencies);dk|=J.lanes;if(0!==(da&J.childLanes)){if(null!==q&&J.child!==q.child)throw Error(k(153));if(null!==J.child){q=J.child;da=qg(q,q.pendingProps);J.child=da;for(da.return=J;null!==q.sibling;)q=q.sibling,da=da.sibling=qg(q,q.pendingProps),da.return=J;da.sibling=null}return J.child}return null}
function id(q,J){if(!fh)switch(q.tailMode){case "hidden":J=q.tail;for(var da=null;null!==J;)null!==J.alternate&&(da=J),J=J.sibling;null===da?q.tail=null:da.sibling=null;break;case "collapsed":da=q.tail;for(var Qa=null;null!==da;)null!==da.alternate&&(Qa=da),da=da.sibling;null===Qa?J||null===q.tail?q.tail=null:q.tail.sibling=null:Qa.sibling=null}}function af(q,J,da){var Qa=J.pendingProps;switch(J.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fe(J.type)&&
ue(),null;case 3:nf();xe(Lg);xe(Sg);Wc();Qa=J.stateNode;Qa.pendingContext&&(Qa.context=Qa.pendingContext,Qa.pendingContext=null);if(null===q||null===q.child)fd(J)?J.flags|=4:Qa.hydrate||(J.flags|=256);zh(J);return null;case 5:Pa(J);var ib=yf(rf.current);da=J.type;if(null!==q&&null!=J.stateNode)Kk(q,J,da,Qa,ib),q.ref!==J.ref&&(J.flags|=128);else{if(!Qa){if(null===J.stateNode)throw Error(k(166));return null}q=yf(qh.current);if(fd(J)){Qa=J.stateNode;da=J.type;var yb=J.memoizedProps;Qa[wi]=J;Qa[Bk]=yb;
switch(da){case "dialog":fe("cancel",Qa);fe("close",Qa);break;case "iframe":case "object":case "embed":fe("load",Qa);break;case "video":case "audio":for(q=0;q<Of.length;q++)fe(Of[q],Qa);break;case "source":fe("error",Qa);break;case "img":case "image":case "link":fe("error",Qa);fe("load",Qa);break;case "details":fe("toggle",Qa);break;case "input":z(Qa,yb);fe("invalid",Qa);break;case "select":Qa._wrapperState={wasMultiple:!!yb.multiple};fe("invalid",Qa);break;case "textarea":Z(Qa,yb),fe("invalid",Qa)}Ha(da,
yb);q=null;for(var Ob in yb)yb.hasOwnProperty(Ob)&&(ib=yb[Ob],"children"===Ob?"string"===typeof ib?Qa.textContent!==ib&&(q=["children",ib]):"number"===typeof ib&&Qa.textContent!==""+ib&&(q=["children",""+ib]):vh.hasOwnProperty(Ob)&&null!=ib&&"onScroll"===Ob&&fe("scroll",Qa));switch(da){case "input":D(Qa);R(Qa,yb,!0);break;case "textarea":D(Qa);C(Qa);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(Qa.onclick=me)}Qa=q;J.updateQueue=Qa;null!==Qa&&(J.flags|=4)}else{Ob=
9===ib.nodeType?ib:ib.ownerDocument;q===Vg.html&&(q=V(da));q===Vg.html?"script"===da?(q=Ob.createElement("div"),q.innerHTML="\x3cscript\x3e\x3c/script\x3e",q=q.removeChild(q.firstChild)):"string"===typeof Qa.is?q=Ob.createElement(da,{is:Qa.is}):(q=Ob.createElement(da),"select"===da&&(Ob=q,Qa.multiple?Ob.multiple=!0:Qa.size&&(Ob.size=Qa.size))):q=Ob.createElementNS(q,da);q[wi]=J;q[Bk]=Qa;wl(q,J,!1,!1);J.stateNode=q;Ob=bb(da,Qa);switch(da){case "dialog":fe("cancel",q);fe("close",q);ib=Qa;break;case "iframe":case "object":case "embed":fe("load",
q);ib=Qa;break;case "video":case "audio":for(ib=0;ib<Of.length;ib++)fe(Of[ib],q);ib=Qa;break;case "source":fe("error",q);ib=Qa;break;case "img":case "image":case "link":fe("error",q);fe("load",q);ib=Qa;break;case "details":fe("toggle",q);ib=Qa;break;case "input":z(q,Qa);ib=F(q,Qa);fe("invalid",q);break;case "option":ib=fa(q,Qa);break;case "select":q._wrapperState={wasMultiple:!!Qa.multiple};ib=lg({},Qa,{value:void 0});fe("invalid",q);break;case "textarea":Z(q,Qa);ib=la(q,Qa);fe("invalid",q);break;
default:ib=Qa}Ha(da,ib);var fc=ib;for(yb in fc)if(fc.hasOwnProperty(yb)){var Fc=fc[yb];"style"===yb?wa(q,Fc):"dangerouslySetInnerHTML"===yb?(Fc=Fc?Fc.__html:void 0,null!=Fc&&Kj(q,Fc)):"children"===yb?"string"===typeof Fc?("textarea"!==da||""!==Fc)&&aa(q,Fc):"number"===typeof Fc&&aa(q,""+Fc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(vh.hasOwnProperty(yb)?null!=Fc&&"onScroll"===yb&&fe("scroll",q):null!=Fc&&m(q,yb,Fc,Ob))}switch(da){case "input":D(q);
R(q,Qa,!1);break;case "textarea":D(q);C(q);break;case "option":null!=Qa.value&&q.setAttribute("value",""+n(Qa.value));break;case "select":q.multiple=!!Qa.multiple;yb=Qa.value;null!=yb?ia(q,!!Qa.multiple,yb,!1):null!=Qa.defaultValue&&ia(q,!!Qa.multiple,Qa.defaultValue,!0);break;default:"function"===typeof ib.onClick&&(q.onclick=me)}te(da,Qa)&&(J.flags|=4)}null!==J.ref&&(J.flags|=128)}return null;case 6:if(q&&null!=J.stateNode)Jl(q,J,q.memoizedProps,Qa);else{if("string"!==typeof Qa&&null===J.stateNode)throw Error(k(166));
da=yf(rf.current);yf(qh.current);fd(J)?(Qa=J.stateNode,da=J.memoizedProps,Qa[wi]=J,Qa.nodeValue!==da&&(J.flags|=4)):(Qa=(9===da.nodeType?da:da.ownerDocument).createTextNode(Qa),Qa[wi]=J,J.stateNode=Qa)}return null;case 13:xe(of);Qa=J.memoizedState;if(0!==(J.flags&64))return J.lanes=da,J;Qa=null!==Qa;da=!1;null===q?void 0!==J.memoizedProps.fallback&&fd(J):da=null!==q.memoizedState;if(Qa&&!da&&0!==(J.mode&2))if(null===q&&!0!==J.memoizedProps.unstable_avoidThisFallback||0!==(of.current&1))0===bh&&(bh=
3);else{if(0===bh||3===bh)bh=4;null===ah||0===(dk&134217727)&&0===(rh&134217727)||re(ah,fg)}if(Qa||da)J.flags|=4;return null;case 4:return nf(),zh(J),null===q&&ef(J.stateNode.containerInfo),null;case 10:return ub(J),null;case 17:return Fe(J.type)&&ue(),null;case 19:xe(of);Qa=J.memoizedState;if(null===Qa)return null;yb=0!==(J.flags&64);Ob=Qa.rendering;if(null===Ob)if(yb)id(Qa,!1);else{if(0!==bh||null!==q&&0!==(q.flags&64))for(q=J.child;null!==q;){Ob=vb(q);if(null!==Ob){J.flags|=64;id(Qa,!1);yb=Ob.updateQueue;
null!==yb&&(J.updateQueue=yb,J.flags|=4);null===Qa.lastEffect&&(J.firstEffect=null);J.lastEffect=Qa.lastEffect;Qa=da;for(da=J.child;null!==da;)yb=da,q=Qa,yb.flags&=2,yb.nextEffect=null,yb.firstEffect=null,yb.lastEffect=null,Ob=yb.alternate,null===Ob?(yb.childLanes=0,yb.lanes=q,yb.child=null,yb.memoizedProps=null,yb.memoizedState=null,yb.updateQueue=null,yb.dependencies=null,yb.stateNode=null):(yb.childLanes=Ob.childLanes,yb.lanes=Ob.lanes,yb.child=Ob.child,yb.memoizedProps=Ob.memoizedProps,yb.memoizedState=
Ob.memoizedState,yb.updateQueue=Ob.updateQueue,yb.type=Ob.type,q=Ob.dependencies,yb.dependencies=null===q?null:{lanes:q.lanes,firstContext:q.firstContext}),da=da.sibling;le(of,of.current&1|2);return J.child}q=q.sibling}null!==Qa.tail&&gh()>dl&&(J.flags|=64,yb=!0,id(Qa,!1),J.lanes=33554432)}else{if(!yb)if(q=vb(Ob),null!==q){if(J.flags|=64,yb=!0,da=q.updateQueue,null!==da&&(J.updateQueue=da,J.flags|=4),id(Qa,!0),null===Qa.tail&&"hidden"===Qa.tailMode&&!Ob.alternate&&!fh)return J=J.lastEffect=Qa.lastEffect,
null!==J&&(J.nextEffect=null),null}else 2*gh()-Qa.renderingStartTime>dl&&1073741824!==da&&(J.flags|=64,yb=!0,id(Qa,!1),J.lanes=33554432);Qa.isBackwards?(Ob.sibling=J.child,J.child=Ob):(da=Qa.last,null!==da?da.sibling=Ob:J.child=Ob,Qa.last=Ob)}return null!==Qa.tail?(da=Qa.tail,Qa.rendering=da,Qa.tail=da.sibling,Qa.lastEffect=J.lastEffect,Qa.renderingStartTime=gh(),da.sibling=null,J=of.current,le(of,yb?J&1|2:J&1),da):null;case 23:case 24:return Oe(),null!==q&&null!==q.memoizedState!==(null!==J.memoizedState)&&
"unstable-defer-without-hiding"!==Qa.mode&&(J.flags|=4),null}throw Error(k(156,J.tag));}function Wa(q){switch(q.tag){case 1:Fe(q.type)&&ue();var J=q.flags;return J&4096?(q.flags=J&-4097|64,q):null;case 3:nf();xe(Lg);xe(Sg);Wc();J=q.flags;if(0!==(J&64))throw Error(k(285));q.flags=J&-4097|64;return q;case 5:return Pa(q),null;case 13:return xe(of),J=q.flags,J&4096?(q.flags=J&-4097|64,q):null;case 19:return xe(of),null;case 4:return nf(),null;case 10:return ub(q),null;case 23:case 24:return Oe(),null;
default:return null}}function ob(q,J){try{var da="",Qa=J;do da+=a(Qa),Qa=Qa.return;while(Qa)}catch(ib){da="\nError generating stack: "+ib.message+"\n"+ib.stack}return{value:q,source:J,stack:da}}function zb(q,J){try{console.error(J.value)}catch(da){setTimeout(function(){throw da;})}}function Mb(q,J,da){da=Nd(-1,da);da.tag=3;da.payload={element:null};var Qa=J.value;da.callback=function(){kj||(kj=!0,Lk=Qa);zb(q,J)};return da}function bc(q,J,da){da=Nd(-1,da);da.tag=3;var Qa=q.type.getDerivedStateFromError;
if("function"===typeof Qa){var ib=J.value;da.payload=function(){zb(q,J);return Qa(ib)}}var yb=q.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(da.callback=function(){"function"!==typeof Qa&&(null===ki?ki=new Set([this]):ki.add(this),zb(q,J));var Ob=J.stack;this.componentDidCatch(J.value,{componentStack:null!==Ob?Ob:""})});return da}function Kc(q){var J=q.ref;if(null!==J)if("function"===typeof J)try{J(null)}catch(da){Ah(q,da)}else J.current=null}function r(q,J){switch(J.tag){case 0:case 11:case 15:case 22:return;
case 1:if(J.flags&256&&null!==q){var da=q.memoizedProps,Qa=q.memoizedState;q=J.stateNode;J=q.getSnapshotBeforeUpdate(J.elementType===J.type?da:Cb(J.type,da),Qa);q.__reactInternalSnapshotBeforeUpdate=J}return;case 3:J.flags&256&&we(J.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(k(163));}function Q(q,J,da){switch(da.tag){case 0:case 11:case 15:case 22:J=da.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){q=J=J.next;do{if(3===(q.tag&3)){var Qa=q.create;q.destroy=
Qa()}q=q.next}while(q!==J)}J=da.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){q=J=J.next;do{var ib=q;Qa=ib.next;ib=ib.tag;0!==(ib&4)&&0!==(ib&1)&&(hk(da,q),Ti(da,q));q=Qa}while(q!==J)}return;case 1:q=da.stateNode;da.flags&4&&(null===J?q.componentDidMount():(Qa=da.elementType===da.type?J.memoizedProps:Cb(da.type,J.memoizedProps),q.componentDidUpdate(Qa,J.memoizedState,q.__reactInternalSnapshotBeforeUpdate)));J=da.updateQueue;null!==J&&Qd(da,J,q);return;case 3:J=da.updateQueue;if(null!==J){q=
null;if(null!==da.child)switch(da.child.tag){case 5:q=da.child.stateNode;break;case 1:q=da.child.stateNode}Qd(da,J,q)}return;case 5:q=da.stateNode;null===J&&da.flags&4&&te(da.type,da.memoizedProps)&&q.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===da.memoizedState&&(da=da.alternate,null!==da&&(da=da.memoizedState,null!==da&&(da=da.dehydrated,null!==da&&Hc(da))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(k(163));}function ma(q,J){for(var da=
q;;){if(5===da.tag){var Qa=da.stateNode;if(J)Qa=Qa.style,"function"===typeof Qa.setProperty?Qa.setProperty("display","none","important"):Qa.display="none";else{Qa=da.stateNode;var ib=da.memoizedProps.style;ib=void 0!==ib&&null!==ib&&ib.hasOwnProperty("display")?ib.display:null;Qa.style.display=ta("display",ib)}}else if(6===da.tag)da.stateNode.nodeValue=J?"":da.memoizedProps;else if((23!==da.tag&&24!==da.tag||null===da.memoizedState||da===q)&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===
q)break;for(;null===da.sibling;){if(null===da.return||da.return===q)return;da=da.return}da.sibling.return=da.return;da=da.sibling}}function Ma(q,J){if(lj&&"function"===typeof lj.onCommitFiberUnmount)try{lj.onCommitFiberUnmount(el,J)}catch(yb){}switch(J.tag){case 0:case 11:case 14:case 15:case 22:q=J.updateQueue;if(null!==q&&(q=q.lastEffect,null!==q)){var da=q=q.next;do{var Qa=da,ib=Qa.destroy;Qa=Qa.tag;if(void 0!==ib)if(0!==(Qa&4))hk(J,da);else{Qa=J;try{ib()}catch(yb){Ah(Qa,yb)}}da=da.next}while(da!==
q)}break;case 1:Kc(J);q=J.stateNode;if("function"===typeof q.componentWillUnmount)try{q.props=J.memoizedProps,q.state=J.memoizedState,q.componentWillUnmount()}catch(yb){Ah(J,yb)}break;case 5:Kc(J);break;case 4:Vb(q,J)}}function gb(q){q.alternate=null;q.child=null;q.dependencies=null;q.firstEffect=null;q.lastEffect=null;q.memoizedProps=null;q.memoizedState=null;q.pendingProps=null;q.return=null;q.updateQueue=null}function lb(q){return 5===q.tag||3===q.tag||4===q.tag}function sb(q){a:{for(var J=q.return;null!==
J;){if(lb(J))break a;J=J.return}throw Error(k(160));}var da=J;J=da.stateNode;switch(da.tag){case 5:var Qa=!1;break;case 3:J=J.containerInfo;Qa=!0;break;case 4:J=J.containerInfo;Qa=!0;break;default:throw Error(k(161));}da.flags&16&&(aa(J,""),da.flags&=-17);da=q;a:b:for(;;){for(;null===da.sibling;){if(null===da.return||lb(da.return)){da=null;break a}da=da.return}da.sibling.return=da.return;for(da=da.sibling;5!==da.tag&&6!==da.tag&&18!==da.tag;){if(da.flags&2)continue b;if(null===da.child||4===da.tag)continue b;
else da.child.return=da,da=da.child}if(!(da.flags&2)){da=da.stateNode;break a}}Qa?Rb(q,da,J):ec(q,da,J)}function Rb(q,J,da){var Qa=q.tag,ib=5===Qa||6===Qa;if(ib)q=ib?q.stateNode:q.stateNode.instance,J?8===da.nodeType?da.parentNode.insertBefore(q,J):da.insertBefore(q,J):(8===da.nodeType?(J=da.parentNode,J.insertBefore(q,da)):(J=da,J.appendChild(q)),da=da._reactRootContainer,null!==da&&void 0!==da||null!==J.onclick||(J.onclick=me));else if(4!==Qa&&(q=q.child,null!==q))for(Rb(q,J,da),q=q.sibling;null!==
q;)Rb(q,J,da),q=q.sibling}function ec(q,J,da){var Qa=q.tag,ib=5===Qa||6===Qa;if(ib)q=ib?q.stateNode:q.stateNode.instance,J?da.insertBefore(q,J):da.appendChild(q);else if(4!==Qa&&(q=q.child,null!==q))for(ec(q,J,da),q=q.sibling;null!==q;)ec(q,J,da),q=q.sibling}function Vb(q,J){for(var da=J,Qa=!1,ib,yb;;){if(!Qa){Qa=da.return;a:for(;;){if(null===Qa)throw Error(k(160));ib=Qa.stateNode;switch(Qa.tag){case 5:yb=!1;break a;case 3:ib=ib.containerInfo;yb=!0;break a;case 4:ib=ib.containerInfo;yb=!0;break a}Qa=
Qa.return}Qa=!0}if(5===da.tag||6===da.tag){var Ob=q,fc=da,Fc=fc;a:for(;;)if(Ma(Ob,Fc),null!==Fc.child&&4!==Fc.tag)Fc.child.return=Fc,Fc=Fc.child;else{if(Fc===fc)break a;for(;null===Fc.sibling;){if(null===Fc.return||Fc.return===fc)break a;Fc=Fc.return}Fc.sibling.return=Fc.return;Fc=Fc.sibling}yb?(Ob=ib,fc=da.stateNode,8===Ob.nodeType?Ob.parentNode.removeChild(fc):Ob.removeChild(fc)):ib.removeChild(da.stateNode)}else if(4===da.tag){if(null!==da.child){ib=da.stateNode.containerInfo;yb=!0;da.child.return=
da;da=da.child;continue}}else if(Ma(q,da),null!==da.child){da.child.return=da;da=da.child;continue}if(da===J)break;for(;null===da.sibling;){if(null===da.return||da.return===J)return;da=da.return;4===da.tag&&(Qa=!1)}da.sibling.return=da.return;da=da.sibling}}function Qc(q,J){switch(J.tag){case 0:case 11:case 14:case 15:case 22:var da=J.updateQueue;da=null!==da?da.lastEffect:null;if(null!==da){var Qa=da=da.next;do 3===(Qa.tag&3)&&(q=Qa.destroy,Qa.destroy=void 0,void 0!==q&&q()),Qa=Qa.next;while(Qa!==
da)}return;case 1:return;case 5:da=J.stateNode;if(null!=da){Qa=J.memoizedProps;var ib=null!==q?q.memoizedProps:Qa;q=J.type;var yb=J.updateQueue;J.updateQueue=null;if(null!==yb){da[Bk]=Qa;"input"===q&&"radio"===Qa.type&&null!=Qa.name&&G(da,Qa);bb(q,ib);J=bb(q,Qa);for(ib=0;ib<yb.length;ib+=2){var Ob=yb[ib],fc=yb[ib+1];"style"===Ob?wa(da,fc):"dangerouslySetInnerHTML"===Ob?Kj(da,fc):"children"===Ob?aa(da,fc):m(da,Ob,fc,J)}switch(q){case "input":K(da,Qa);break;case "textarea":P(da,Qa);break;case "select":q=
da._wrapperState.wasMultiple,da._wrapperState.wasMultiple=!!Qa.multiple,yb=Qa.value,null!=yb?ia(da,!!Qa.multiple,yb,!1):q!==!!Qa.multiple&&(null!=Qa.defaultValue?ia(da,!!Qa.multiple,Qa.defaultValue,!0):ia(da,!!Qa.multiple,Qa.multiple?[]:"",!1))}}}return;case 6:if(null===J.stateNode)throw Error(k(162));J.stateNode.nodeValue=J.memoizedProps;return;case 3:da=J.stateNode;da.hydrate&&(da.hydrate=!1,Hc(da.containerInfo));return;case 12:return;case 13:null!==J.memoizedState&&(Mk=gh(),ma(J.child,!0));dd(J);
return;case 19:dd(J);return;case 17:return;case 23:case 24:ma(J,null!==J.memoizedState);return}throw Error(k(163));}function dd(q){var J=q.updateQueue;if(null!==J){q.updateQueue=null;var da=q.stateNode;null===da&&(da=q.stateNode=new Kl);J.forEach(function(Qa){var ib=Nk.bind(null,q,Qa);da.has(Qa)||(da.add(Qa),Qa.then(ib,ib))})}}function zd(q,J){return null!==q&&(q=q.memoizedState,null===q||null!==q.dehydrated)?(J=J.memoizedState,null!==J&&null===J.dehydrated):!1}function rd(){dl=gh()+500}function bd(){return 0!==
(Ne&48)?gh():-1!==Cg?Cg:Cg=gh()}function Jc(q){q=q.mode;if(0===(q&2))return 1;if(0===(q&4))return 99===Bf()?1:2;0===ai&&(ai=mj);if(0!==Ll.transition){0!==ik&&(ik=null!==Ok?Ok.pendingLanes:0);q=ai;var J=4186112&~ik;J&=-J;0===J&&(q=4186112&~q,J=q&-q,0===J&&(J=8192));return J}q=Bf();0!==(Ne&4)&&98===q?q=Lc(12,ai):(q=Pc(q),q=Lc(q,ai));return q}function ud(q,J,da){if(50<jk)throw jk=0,kk=null,Error(k(185));q=ee(q,J);if(null===q)return null;wd(q,J,da);q===ah&&(rh|=J,4===bh&&re(q,fg));var Qa=Bf();1===J?0!==
(Ne&8)&&0===(Ne&48)?Pf(q):(Sd(q,da),0===Ne&&(rd(),Ea())):(0===(Ne&4)||98!==Qa&&99!==Qa||(null===Bi?Bi=new Set([q]):Bi.add(q)),Sd(q,da));Ok=q}function ee(q,J){q.lanes|=J;var da=q.alternate;null!==da&&(da.lanes|=J);da=q;for(q=q.return;null!==q;)q.childLanes|=J,da=q.alternate,null!==da&&(da.childLanes|=J),da=q,q=q.return;return 3===da.tag?da.stateNode:null}function Sd(q,J){for(var da=q.callbackNode,Qa=q.suspendedLanes,ib=q.pingedLanes,yb=q.expirationTimes,Ob=q.pendingLanes;0<Ob;){var fc=31-Lh(Ob),Fc=
1<<fc,sd=yb[fc];if(-1===sd){if(0===(Fc&Qa)||0!==(Fc&ib)){sd=J;rc(Fc);var ve=ag;yb[fc]=10<=ve?sd+250:6<=ve?sd+5E3:-1}}else sd<=J&&(q.expiredLanes|=Fc);Ob&=~Fc}Qa=Uc(q,q===ah?fg:0);J=ag;if(0===Qa)null!==da&&(da!==fl&&ck(da),q.callbackNode=null,q.callbackPriority=0);else{if(null!==da){if(q.callbackPriority===J)return;da!==fl&&ck(da)}15===J?(da=Pf.bind(null,q),null===xi?(xi=[da],Fj=Dk(Ck,Za)):xi.push(da),da=fl):14===J?da=xa(99,Pf.bind(null,q)):(da=sc(J),da=xa(da,ye.bind(null,q)));q.callbackPriority=J;
q.callbackNode=da}}function ye(q){Cg=-1;ik=ai=0;if(0!==(Ne&48))throw Error(k(327));var J=q.callbackNode;if(sh()&&q.callbackNode!==J)return null;var da=Uc(q,q===ah?fg:0);if(0===da)return null;var Qa=da,ib=Ne;Ne|=16;var yb=$f();if(ah!==q||fg!==Qa)rd(),dg(q,Qa);do try{for(;null!==Mg&&!Pk();)Df(Mg);break}catch(fc){Xe(q,fc)}while(1);Oi=Pi=Gj=null;Qk.current=yb;Ne=ib;null!==Mg?Qa=0:(ah=null,fg=0,Qa=bh);if(0!==(mj&rh))dg(q,0);else if(0!==Qa){2===Qa&&(Ne|=64,q.hydrate&&(q.hydrate=!1,we(q.containerInfo)),
da=Sc(q),0!==da&&(Qa=vf(q,da)));if(1===Qa)throw J=Qh,dg(q,0),re(q,da),Sd(q,gh()),J;q.finishedWork=q.current.alternate;q.finishedLanes=da;switch(Qa){case 0:case 1:throw Error(k(345));case 2:Vf(q);break;case 3:re(q,da);if((da&62914560)===da&&(Qa=Mk+500-gh(),10<Qa)){if(0!==Uc(q,0))break;ib=q.suspendedLanes;if((ib&da)!==da){bd();q.pingedLanes|=q.suspendedLanes&ib;break}q.timeoutHandle=li(Vf.bind(null,q),Qa);break}Vf(q);break;case 4:re(q,da);if((da&4186112)===da)break;Qa=q.eventTimes;for(ib=-1;0<da;){var Ob=
31-Lh(da);yb=1<<Ob;Ob=Qa[Ob];Ob>ib&&(ib=Ob);da&=~yb}da=ib;da=gh()-da;da=(120>da?120:480>da?480:1080>da?1080:1920>da?1920:3E3>da?3E3:4320>da?4320:1960*Rk(da/1960))-da;if(10<da){q.timeoutHandle=li(Vf.bind(null,q),da);break}Vf(q);break;case 5:Vf(q);break;default:throw Error(k(329));}}Sd(q,gh());return q.callbackNode===J?ye.bind(null,q):null}function re(q,J){J&=~Lj;J&=~rh;q.suspendedLanes|=J;q.pingedLanes&=~J;for(q=q.expirationTimes;0<J;){var da=31-Lh(J),Qa=1<<da;q[da]=-1;J&=~Qa}}function Pf(q){if(0!==
(Ne&48))throw Error(k(327));sh();if(q===ah&&0!==(q.expiredLanes&fg)){var J=fg,da=vf(q,J);0!==(mj&rh)&&(J=Uc(q,J),da=vf(q,J))}else J=Uc(q,0),da=vf(q,J);0!==q.tag&&2===da&&(Ne|=64,q.hydrate&&(q.hydrate=!1,we(q.containerInfo)),J=Sc(q),0!==J&&(da=vf(q,J)));if(1===da)throw da=Qh,dg(q,0),re(q,J),Sd(q,gh()),da;q.finishedWork=q.current.alternate;q.finishedLanes=J;Vf(q);Sd(q,gh());return null}function ke(){if(null!==Bi){var q=Bi;Bi=null;q.forEach(function(J){J.expiredLanes|=24&J.pendingLanes;Sd(J,gh())})}Ea()}
function pe(q,J){var da=Ne;Ne|=1;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}}function Re(q,J){var da=Ne;Ne&=-2;Ne|=8;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}}function xd(q,J){le(lk,Wg);Wg|=J;mj|=J}function Oe(){Wg=lk.current;xe(lk)}function dg(q,J){q.finishedWork=null;q.finishedLanes=0;var da=q.timeoutHandle;-1!==da&&(q.timeoutHandle=-1,Mj(da));if(null!==Mg)for(da=Mg.return;null!==da;){var Qa=da;switch(Qa.tag){case 1:Qa=Qa.type.childContextTypes;null!==Qa&&void 0!==Qa&&ue();break;
case 3:nf();xe(Lg);xe(Sg);Wc();break;case 5:Pa(Qa);break;case 4:nf();break;case 13:xe(of);break;case 19:xe(of);break;case 10:ub(Qa);break;case 23:case 24:Oe()}da=da.return}ah=q;Mg=qg(q.current,null);fg=Wg=mj=J;bh=0;Qh=null;Lj=rh=dk=0}function Xe(q,J){do{var da=Mg;try{Oi=Pi=Gj=null;Ij.current=Hk;if(Ik){for(var Qa=rg.memoizedState;null!==Qa;){var ib=Qa.queue;null!==ib&&(ib.pending=null);Qa=Qa.next}Ik=!1}ek=0;Ug=$g=rg=null;fk=!1;gl.current=null;if(null===da||null===da.return){bh=1;Qh=J;Mg=null;break}a:{var yb=
q,Ob=da.return,fc=da,Fc=J;J=fg;fc.flags|=2048;fc.firstEffect=fc.lastEffect=null;if(null!==Fc&&"object"===typeof Fc&&"function"===typeof Fc.then){var sd=Fc;if(0===(fc.mode&2)){var ve=fc.alternate;ve?(fc.updateQueue=ve.updateQueue,fc.memoizedState=ve.memoizedState,fc.lanes=ve.lanes):(fc.updateQueue=null,fc.memoizedState=null)}var ff=0!==(of.current&1),Ld=Ob;do{var Ke;if(Ke=13===Ld.tag){var gf=Ld.memoizedState;if(null!==gf)Ke=null!==gf.dehydrated?!0:!1;else{var $e=Ld.memoizedProps;Ke=void 0===$e.fallback?
!1:!0!==$e.unstable_avoidThisFallback?!0:ff?!1:!0}}if(Ke){var cd=Ld.updateQueue;if(null===cd){var Nc=new Set;Nc.add(sd);Ld.updateQueue=Nc}else cd.add(sd);if(0===(Ld.mode&2)){Ld.flags|=64;fc.flags|=16384;fc.flags&=-2981;if(1===fc.tag)if(null===fc.alternate)fc.tag=17;else{var $c=Nd(-1,1);$c.tag=2;od(fc,$c)}fc.lanes|=1;break a}Fc=void 0;fc=J;var Bd=yb.pingCache;null===Bd?(Bd=yb.pingCache=new Sk,Fc=new Set,Bd.set(sd,Fc)):(Fc=Bd.get(sd),void 0===Fc&&(Fc=new Set,Bd.set(sd,Fc)));if(!Fc.has(fc)){Fc.add(fc);
var Jd=nj.bind(null,yb,sd,fc);sd.then(Jd,Jd)}Ld.flags|=4096;Ld.lanes=J;break a}Ld=Ld.return}while(null!==Ld);Fc=Error((e(fc.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==bh&&(bh=2);Fc=ob(Fc,fc);Ld=Ob;do{switch(Ld.tag){case 3:yb=Fc;Ld.flags|=4096;J&=-J;Ld.lanes|=J;var cf=Mb(Ld,yb,J);Id(Ld,cf);break a;case 1:yb=Fc;var Ae=
Ld.type,hf=Ld.stateNode;if(0===(Ld.flags&64)&&("function"===typeof Ae.getDerivedStateFromError||null!==hf&&"function"===typeof hf.componentDidCatch&&(null===ki||!ki.has(hf)))){Ld.flags|=4096;J&=-J;Ld.lanes|=J;var Kf=bc(Ld,yb,J);Id(Ld,Kf);break a}}Ld=Ld.return}while(null!==Ld)}Qf(da)}catch(xf){J=xf;Mg===da&&null!==da&&(Mg=da.return);continue}break}while(1)}function $f(){var q=Qk.current;Qk.current=Hk;return null===q?Hk:q}function vf(q,J){var da=Ne;Ne|=16;var Qa=$f();ah===q&&fg===J||dg(q,J);do try{for(;null!==
Mg;)Df(Mg);break}catch(ib){Xe(q,ib)}while(1);Oi=Pi=Gj=null;Ne=da;Qk.current=Qa;if(null!==Mg)throw Error(k(261));ah=null;fg=0;return bh}function Df(q){var J=Ml(q.alternate,q,Wg);q.memoizedProps=q.pendingProps;null===J?Qf(q):Mg=J;gl.current=null}function Qf(q){var J=q;do{var da=J.alternate;q=J.return;if(0===(J.flags&2048)){da=af(da,J,Wg);if(null!==da){Mg=da;return}da=J;if(24!==da.tag&&23!==da.tag||null===da.memoizedState||0!==(Wg&1073741824)||0===(da.mode&4)){for(var Qa=0,ib=da.child;null!==ib;)Qa|=
ib.lanes|ib.childLanes,ib=ib.sibling;da.childLanes=Qa}null!==q&&0===(q.flags&2048)&&(null===q.firstEffect&&(q.firstEffect=J.firstEffect),null!==J.lastEffect&&(null!==q.lastEffect&&(q.lastEffect.nextEffect=J.firstEffect),q.lastEffect=J.lastEffect),1<J.flags&&(null!==q.lastEffect?q.lastEffect.nextEffect=J:q.firstEffect=J,q.lastEffect=J))}else{da=Wa(J);if(null!==da){da.flags&=2047;Mg=da;return}null!==q&&(q.firstEffect=q.lastEffect=null,q.flags|=2048)}J=J.sibling;if(null!==J){Mg=J;return}Mg=J=q}while(null!==
J);0===bh&&(bh=5)}function Vf(q){var J=Bf();yc(99,Xg.bind(null,q,J));return null}function Xg(q,J){do sh();while(null!==mk);if(0!==(Ne&48))throw Error(k(327));var da=q.finishedWork;if(null===da)return null;q.finishedWork=null;q.finishedLanes=0;if(da===q.current)throw Error(k(177));q.callbackNode=null;var Qa=da.lanes|da.childLanes,ib=Qa,yb=q.pendingLanes&~ib;q.pendingLanes=ib;q.suspendedLanes=0;q.pingedLanes=0;q.expiredLanes&=ib;q.mutableReadLanes&=ib;q.entangledLanes&=ib;ib=q.entanglements;for(var Ob=
q.eventTimes,fc=q.expirationTimes;0<yb;){var Fc=31-Lh(yb),sd=1<<Fc;ib[Fc]=0;Ob[Fc]=-1;fc[Fc]=-1;yb&=~sd}null!==Bi&&0===(Qa&24)&&Bi.has(q)&&Bi.delete(q);q===ah&&(Mg=ah=null,fg=0);1<da.flags?null!==da.lastEffect?(da.lastEffect.nextEffect=da,Qa=da.firstEffect):Qa=da:Qa=da.firstEffect;if(null!==Qa){ib=Ne;Ne|=32;gl.current=null;ch=Bj;Ob=Dd();if(Ud(Ob)){if("selectionStart"in Ob)fc={start:Ob.selectionStart,end:Ob.selectionEnd};else a:if(fc=(fc=Ob.ownerDocument)&&fc.defaultView||window,(sd=fc.getSelection&&
fc.getSelection())&&0!==sd.rangeCount){fc=sd.anchorNode;yb=sd.anchorOffset;Fc=sd.focusNode;sd=sd.focusOffset;try{fc.nodeType,Fc.nodeType}catch(xf){fc=null;break a}var ve=0,ff=-1,Ld=-1,Ke=0,gf=0,$e=Ob,cd=null;b:for(;;){for(var Nc;;){$e!==fc||0!==yb&&3!==$e.nodeType||(ff=ve+yb);$e!==Fc||0!==sd&&3!==$e.nodeType||(Ld=ve+sd);3===$e.nodeType&&(ve+=$e.nodeValue.length);if(null===(Nc=$e.firstChild))break;cd=$e;$e=Nc}for(;;){if($e===Ob)break b;cd===fc&&++Ke===yb&&(ff=ve);cd===Fc&&++gf===sd&&(Ld=ve);if(null!==
(Nc=$e.nextSibling))break;$e=cd;cd=$e.parentNode}$e=Nc}fc=-1===ff||-1===Ld?null:{start:ff,end:Ld}}else fc=null;fc=fc||{start:0,end:0}}else fc=null;Rh={focusedElem:Ob,selectionRange:fc};Bj=!1;Nj=null;th=!1;ze=Qa;do try{Bh()}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);Nj=null;ze=Qa;do try{for(Ob=q;null!==ze;){var $c=ze.flags;$c&16&&aa(ze.stateNode,"");if($c&128){var Bd=ze.alternate;if(null!==Bd){var Jd=Bd.ref;null!==Jd&&("function"===typeof Jd?Jd(null):Jd.current=
null)}}switch($c&1038){case 2:sb(ze);ze.flags&=-3;break;case 6:sb(ze);ze.flags&=-3;Qc(ze.alternate,ze);break;case 1024:ze.flags&=-1025;break;case 1028:ze.flags&=-1025;Qc(ze.alternate,ze);break;case 4:Qc(ze.alternate,ze);break;case 8:fc=ze;Vb(Ob,fc);var cf=fc.alternate;gb(fc);null!==cf&&gb(cf)}ze=ze.nextEffect}}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);Jd=Rh;Bd=Dd();$c=Jd.focusedElem;Ob=Jd.selectionRange;if(Bd!==$c&&$c&&$c.ownerDocument&&Cd($c.ownerDocument.documentElement,
$c)){null!==Ob&&Ud($c)&&(Bd=Ob.start,Jd=Ob.end,void 0===Jd&&(Jd=Bd),"selectionStart"in $c?($c.selectionStart=Bd,$c.selectionEnd=Math.min(Jd,$c.value.length)):(Jd=(Bd=$c.ownerDocument||document)&&Bd.defaultView||window,Jd.getSelection&&(Jd=Jd.getSelection(),fc=$c.textContent.length,cf=Math.min(Ob.start,fc),Ob=void 0===Ob.end?cf:Math.min(Ob.end,fc),!Jd.extend&&cf>Ob&&(fc=Ob,Ob=cf,cf=fc),fc=ld($c,cf),yb=ld($c,Ob),fc&&yb&&(1!==Jd.rangeCount||Jd.anchorNode!==fc.node||Jd.anchorOffset!==fc.offset||Jd.focusNode!==
yb.node||Jd.focusOffset!==yb.offset)&&(Bd=Bd.createRange(),Bd.setStart(fc.node,fc.offset),Jd.removeAllRanges(),cf>Ob?(Jd.addRange(Bd),Jd.extend(yb.node,yb.offset)):(Bd.setEnd(yb.node,yb.offset),Jd.addRange(Bd))))));Bd=[];for(Jd=$c;Jd=Jd.parentNode;)1===Jd.nodeType&&Bd.push({element:Jd,left:Jd.scrollLeft,top:Jd.scrollTop});"function"===typeof $c.focus&&$c.focus();for($c=0;$c<Bd.length;$c++)Jd=Bd[$c],Jd.element.scrollLeft=Jd.left,Jd.element.scrollTop=Jd.top}Bj=!!ch;Rh=ch=null;q.current=da;ze=Qa;do try{for($c=
q;null!==ze;){var Ae=ze.flags;Ae&36&&Q($c,ze.alternate,ze);if(Ae&128){Bd=void 0;var hf=ze.ref;if(null!==hf){var Kf=ze.stateNode;switch(ze.tag){case 5:Bd=Kf;break;default:Bd=Kf}"function"===typeof hf?hf(Bd):hf.current=Bd}}ze=ze.nextEffect}}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);ze=null;Nl();Ne=ib}else q.current=da;if(Ci)Ci=!1,mk=q,Oj=J;else for(ze=Qa;null!==ze;)J=ze.nextEffect,ze.nextEffect=null,ze.flags&8&&(Ae=ze,Ae.sibling=null,Ae.stateNode=null),ze=
J;Qa=q.pendingLanes;0===Qa&&(ki=null);1===Qa?q===kk?jk++:(jk=0,kk=q):jk=0;da=da.stateNode;if(lj&&"function"===typeof lj.onCommitFiberRoot)try{lj.onCommitFiberRoot(el,da,void 0,64===(da.current.flags&64))}catch(xf){}Sd(q,gh());if(kj)throw kj=!1,q=Lk,Lk=null,q;if(0!==(Ne&8))return null;Ea();return null}function Bh(){for(;null!==ze;){var q=ze.alternate;th||null===Nj||(0!==(ze.flags&8)?Ga(ze,Nj)&&(th=!0):13===ze.tag&&zd(q,ze)&&Ga(ze,Nj)&&(th=!0));var J=ze.flags;0!==(J&256)&&r(q,ze);0===(J&512)||Ci||(Ci=
!0,xa(97,function(){sh();return null}));ze=ze.nextEffect}}function sh(){if(90!==Oj){var q=97<Oj?97:Oj;Oj=90;return yc(q,nk)}return!1}function Ti(q,J){ok.push(J,q);Ci||(Ci=!0,xa(97,function(){sh();return null}))}function hk(q,J){hl.push(J,q);Ci||(Ci=!0,xa(97,function(){sh();return null}))}function nk(){if(null===mk)return!1;var q=mk;mk=null;if(0!==(Ne&48))throw Error(k(331));var J=Ne;Ne|=32;var da=hl;hl=[];for(var Qa=0;Qa<da.length;Qa+=2){var ib=da[Qa],yb=da[Qa+1],Ob=ib.destroy;ib.destroy=void 0;if("function"===
typeof Ob)try{Ob()}catch(Fc){if(null===yb)throw Error(k(330));Ah(yb,Fc)}}da=ok;ok=[];for(Qa=0;Qa<da.length;Qa+=2){ib=da[Qa];yb=da[Qa+1];try{var fc=ib.create;ib.destroy=fc()}catch(Fc){if(null===yb)throw Error(k(330));Ah(yb,Fc)}}for(fc=q.current.firstEffect;null!==fc;)q=fc.nextEffect,fc.nextEffect=null,fc.flags&8&&(fc.sibling=null,fc.stateNode=null),fc=q;Ne=J;Ea();return!0}function Pj(q,J,da){J=ob(da,J);J=Mb(q,J,1);od(q,J);J=bd();q=ee(q,1);null!==q&&(wd(q,1,J),Sd(q,J))}function Ah(q,J){if(3===q.tag)Pj(q,
q,J);else for(var da=q.return;null!==da;){if(3===da.tag){Pj(da,q,J);break}else if(1===da.tag){var Qa=da.stateNode;if("function"===typeof da.type.getDerivedStateFromError||"function"===typeof Qa.componentDidCatch&&(null===ki||!ki.has(Qa))){q=ob(J,q);var ib=bc(da,q,1);od(da,ib);ib=bd();da=ee(da,1);if(null!==da)wd(da,1,ib),Sd(da,ib);else if("function"===typeof Qa.componentDidCatch&&(null===ki||!ki.has(Qa)))try{Qa.componentDidCatch(J,q)}catch(yb){}break}}da=da.return}}function nj(q,J,da){var Qa=q.pingCache;
null!==Qa&&Qa.delete(J);J=bd();q.pingedLanes|=q.suspendedLanes&da;ah===q&&(fg&da)===da&&(4===bh||3===bh&&(fg&62914560)===fg&&500>gh()-Mk?dg(q,0):Lj|=da);Sd(q,J)}function Nk(q,J){var da=q.stateNode;null!==da&&da.delete(J);J=0;0===J&&(J=q.mode,0===(J&2)?J=1:0===(J&4)?J=99===Bf()?1:2:(0===ai&&(ai=mj),J=Fd(62914560&~ai),0===J&&(J=4194304)));da=bd();q=ee(q,J);null!==q&&(wd(q,J,da),Sd(q,da))}function Fg(q,J,da,Qa){this.tag=q;this.key=da;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=
null;this.index=0;this.ref=null;this.pendingProps=J;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Qa;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function kh(q,J,da,Qa){return new Fg(q,J,da,Qa)}function Jj(q){q=q.prototype;return!(!q||!q.isReactComponent)}function oj(q){if("function"===typeof q)return Jj(q)?1:0;if(void 0!==q&&null!==q){q=q.$$typeof;if(q===wf)return 11;if(q===ci)return 14}return 2}
function qg(q,J){var da=q.alternate;null===da?(da=kh(q.tag,J,q.key,q.mode),da.elementType=q.elementType,da.type=q.type,da.stateNode=q.stateNode,da.alternate=q,q.alternate=da):(da.pendingProps=J,da.type=q.type,da.flags=0,da.nextEffect=null,da.firstEffect=null,da.lastEffect=null);da.childLanes=q.childLanes;da.lanes=q.lanes;da.child=q.child;da.memoizedProps=q.memoizedProps;da.memoizedState=q.memoizedState;da.updateQueue=q.updateQueue;J=q.dependencies;da.dependencies=null===J?null:{lanes:J.lanes,firstContext:J.firstContext};
da.sibling=q.sibling;da.index=q.index;da.ref=q.ref;return da}function yi(q,J,da,Qa,ib,yb){var Ob=2;Qa=q;if("function"===typeof q)Jj(q)&&(Ob=1);else if("string"===typeof q)Ob=5;else a:switch(q){case Zg:return zi(da.children,ib,yb,J);case pk:Ob=8;ib|=16;break;case Eg:Ob=8;ib|=1;break;case bi:return q=kh(12,da,J,ib|8),q.elementType=bi,q.type=bi,q.lanes=yb,q;case Ff:return q=kh(13,da,J,ib),q.type=Ff,q.elementType=Ff,q.lanes=yb,q;case Ag:return q=kh(19,da,J,ib),q.elementType=Ag,q.lanes=yb,q;case pj:return Ai(da,
ib,yb,J);case mi:return q=kh(24,da,J,ib),q.elementType=mi,q.lanes=yb,q;default:if("object"===typeof q&&null!==q)switch(q.$$typeof){case eh:Ob=10;break a;case Fi:Ob=9;break a;case wf:Ob=11;break a;case ci:Ob=14;break a;case Gh:Ob=16;Qa=null;break a;case Jg:Ob=22;break a}throw Error(k(130,null==q?q:typeof q,""));}J=kh(Ob,da,J,ib);J.elementType=q;J.type=Qa;J.lanes=yb;return J}function zi(q,J,da,Qa){q=kh(7,q,Qa,J);q.lanes=da;return q}function Ai(q,J,da,Qa){q=kh(23,q,Qa,J);q.elementType=pj;q.lanes=da;
return q}function Hj(q,J,da){q=kh(6,q,null,J);q.lanes=da;return q}function Qi(q,J,da){J=kh(4,null!==q.children?q.children:[],q.key,J);J.lanes=da;J.stateNode={containerInfo:q.containerInfo,pendingChildren:null,implementation:q.implementation};return J}function ni(q,J,da){this.tag=J;this.containerInfo=q;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=da;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=
ge(0);this.expirationTimes=ge(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=ge(0);this.mutableSourceEagerHydrationData=null}function Ui(q,J,da){var Qa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wg,key:null==Qa?null:""+Qa,children:q,containerInfo:J,implementation:da}}function qj(q,J,da,Qa){var ib=J.current,yb=bd(),Ob=Jc(ib);a:if(da){da=da._reactInternals;
b:{if(na(da)!==da||1!==da.tag)throw Error(k(170));var fc=da;do{switch(fc.tag){case 3:fc=fc.stateNode.context;break b;case 1:if(Fe(fc.type)){fc=fc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}fc=fc.return}while(null!==fc);throw Error(k(171));}if(1===da.tag){var Fc=da.type;if(Fe(Fc)){da=Yf(da,Fc,fc);break a}}da=fc}else da=Rg;null===J.context?J.context=da:J.pendingContext=da;J=Nd(yb,Ob);J.payload={element:q};Qa=void 0===Qa?null:Qa;null!==Qa&&(J.callback=Qa);od(ib,J);ud(ib,Ob,yb);return Ob}
function hh(q){q=q.current;if(!q.child)return null;switch(q.child.tag){case 5:return q.child.stateNode;default:return q.child.stateNode}}function Vi(q,J){q=q.memoizedState;if(null!==q&&null!==q.dehydrated){var da=q.retryLane;q.retryLane=0!==da&&da<J?da:J}}function Qj(q,J){Vi(q,J);(q=q.alternate)&&Vi(q,J)}function Tk(){return null}function rj(q,J,da){var Qa=null!=da&&null!=da.hydrationOptions&&da.hydrationOptions.mutableSources||null;da=new ni(q,J,null!=da&&!0===da.hydrate);J=kh(3,null,null,2===J?
7:1===J?3:0);da.current=J;J.stateNode=da;gd(J);q[Ej]=da.current;ef(8===q.nodeType?q.parentNode:q);if(Qa)for(q=0;q<Qa.length;q++){J=Qa[q];var ib=J._getVersion;ib=ib(J._source);null==da.mutableSourceEagerHydrationData?da.mutableSourceEagerHydrationData=[J,ib]:da.mutableSourceEagerHydrationData.push(J,ib)}this._internalRoot=da}function sj(q){return!(!q||1!==q.nodeType&&9!==q.nodeType&&11!==q.nodeType&&(8!==q.nodeType||" react-mount-point-unstable "!==q.nodeValue))}function og(q,J){J||(J=q?9===q.nodeType?
q.documentElement:q.firstChild:null,J=!(!J||1!==J.nodeType||!J.hasAttribute("data-reactroot")));if(!J)for(var da;da=q.lastChild;)q.removeChild(da);return new rj(q,0,J?{hydrate:!0}:void 0)}function Wi(q,J,da,Qa,ib){var yb=da._reactRootContainer;if(yb){var Ob=yb._internalRoot;if("function"===typeof ib){var fc=ib;ib=function(){var sd=hh(Ob);fc.call(sd)}}qj(J,Ob,q,ib)}else{yb=da._reactRootContainer=og(da,Qa);Ob=yb._internalRoot;if("function"===typeof ib){var Fc=ib;ib=function(){var sd=hh(Ob);Fc.call(sd)}}Re(function(){qj(J,
Ob,q,ib)})}return hh(Ob)}function oi(q,J){var da=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sj(J))throw Error(k(200));return Ui(q,J,null,da)}var Gi=A(3),lg=A(0),Dg=A(6);if(!Gi)throw Error(k(227));var Ei=new Set,vh={},Sh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Yj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Vj=Object.prototype.hasOwnProperty,Xj={},Wj={},vg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(q){vg[q]=new v(q,0,!1,q,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(q){var J=q[0];vg[J]=new v(J,1,!1,q[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(q){vg[q]=
new v(q,2,!1,q.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(q){vg[q]=new v(q,2,!1,q,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(q){vg[q]=new v(q,3,!1,q.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(q){vg[q]=new v(q,3,!0,q,null,!1,!1)});["capture","download"].forEach(function(q){vg[q]=new v(q,4,!1,q,null,!1,!1)});["cols","rows","size","span"].forEach(function(q){vg[q]=new v(q,6,!1,q,null,!1,!1)});["rowSpan","start"].forEach(function(q){vg[q]=new v(q,5,!1,q.toLowerCase(),null,!1,!1)});var tj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(q){var J=
q.replace(tj,u);vg[J]=new v(J,1,!1,q,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(q){var J=q.replace(tj,u);vg[J]=new v(J,1,!1,q,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(q){var J=q.replace(tj,u);vg[J]=new v(J,1,!1,q,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(q){vg[q]=new v(q,1,!1,q.toLowerCase(),null,!1,!1)});vg.xlinkHref=new v("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(q){vg[q]=new v(q,1,!1,q.toLowerCase(),null,!0,!0)});var Th=Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=60103,wg=60106,Zg=60107,Eg=60108,bi=60114,eh=60109,Fi=60110,wf=60112,Ff=60113,Ag=60120,ci=60115,Gh=60116,Jg=60121,Zh=60128,pk=60129,pj=60130,mi=60131;if("function"===typeof Symbol&&Symbol.for){var ug=Symbol.for;Ri=ug("react.element");wg=ug("react.portal");Zg=ug("react.fragment");
Eg=ug("react.strict_mode");bi=ug("react.profiler");eh=ug("react.provider");Fi=ug("react.context");wf=ug("react.forward_ref");Ff=ug("react.suspense");Ag=ug("react.suspense_list");ci=ug("react.memo");Gh=ug("react.lazy");Jg=ug("react.block");ug("react.scope");Zh=ug("react.opaque.id");pk=ug("react.debug_trace_mode");pj=ug("react.offscreen");mi=ug("react.legacy_hidden")}var ri="function"===typeof Symbol&&Symbol.iterator,dh,Aj=!1,Vg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},Ch,Kj=function(q){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(J,da,Qa,ib){MSApp.execUnsafeLocalFunction(function(){return q(J,da,Qa,ib)})}:q}(function(q,J){if(q.namespaceURI!==Vg.svg||"innerHTML"in q)q.innerHTML=J;else{Ch=Ch||document.createElement("div");Ch.innerHTML="\x3csvg\x3e"+J.valueOf().toString()+"\x3c/svg\x3e";for(J=Ch.firstChild;q.firstChild;)q.removeChild(q.firstChild);for(;J.firstChild;)q.appendChild(J.firstChild)}}),Vh={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dh=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(q){Dh.forEach(function(J){J=J+q.charAt(0).toUpperCase()+q.substring(1);Vh[J]=Vh[q]})});var Hi=lg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),di=null,pf=null,mh=null,mg=Ca,Tf=!1,ei=!1,Li=!1;if(Sh)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Li=
!0}});window.addEventListener("test",Xi,Xi);window.removeEventListener("test",Xi,Xi)}catch(q){Li=!1}var fi=!1,Wh=null,Hh=!1,gi=null,Te={onError:function(q){fi=!0;Wh=q}},dj=!1,ih=[],wh=null,Ih=null,Xh=null,Ii=new Map,si=new Map,Kh=[],ti="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),jh=
{animationend:mb("Animation","AnimationEnd"),animationiteration:mb("Animation","AnimationIteration"),animationstart:mb("Animation","AnimationStart"),transitionend:mb("Transition","TransitionEnd")},kg={},Ji={};Sh&&(Ji=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);var xh=hc("animationend"),Cj=hc("animationiteration"),
ak=hc("animationstart"),Ph=hc("transitionend"),Yh=new Map,Zj=new Map,qk=["abort","abort",xh,"animationEnd",Cj,"animationIteration",ak,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ph,"transitionEnd","waiting","waiting"],Di=Dg.unstable_now;Di();var ag=8,Lh=Math.clz32?Math.clz32:vd,oh=Math.log,Mh=Math.LN2,Nh=Dg.unstable_UserBlockingPriority,ej=Dg.unstable_runWithPriority,Bj=!0,ph=null,ui=null,Og=null,Hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(q){return q.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=Ka(Hg),Uh=lg({},Hg,{view:0,detail:0}),
Dj=Ka(Uh),lh,pi,Yi,Gg=lg({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wb,button:0,buttons:0,relatedTarget:function(q){return void 0===q.relatedTarget?q.fromElement===q.srcElement?q.toElement:q.fromElement:q.relatedTarget},movementX:function(q){if("movementX"in q)return q.movementX;q!==Yi&&(Yi&&"mousemove"===q.type?(lh=q.screenX-Yi.screenX,pi=q.screenY-Yi.screenY):pi=lh=0,Yi=q);return lh},movementY:function(q){return"movementY"in
q?q.movementY:pi}}),gj=Ka(Gg),rk=lg({},Gg,{dataTransfer:0}),Oh=Ka(rk),Zi=lg({},Uh,{relatedTarget:0}),vi=Ka(Zi),$i=lg({},Hg,{animationName:0,elapsedTime:0,pseudoElement:0}),Mi=Ka($i),aj=lg({},Hg,{clipboardData:function(q){return"clipboardData"in q?q.clipboardData:window.clipboardData}}),Ak=Ka(aj),sk=lg({},Hg,{data:0}),ij=Ka(sk),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},uj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ki={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
Uk=lg({},Uh,{key:function(q){if(q.key){var J=bj[q.key]||q.key;if("Unidentified"!==J)return J}return"keypress"===q.type?(q=Vc(q),13===q?"Enter":String.fromCharCode(q)):"keydown"===q.type||"keyup"===q.type?uj[q.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wb,charCode:function(q){return"keypress"===q.type?Vc(q):0},keyCode:function(q){return"keydown"===q.type||"keyup"===q.type?q.keyCode:0},which:function(q){return"keypress"===
q.type?Vc(q):"keydown"===q.type||"keyup"===q.type?q.keyCode:0}}),fj=Ka(Uk),vj=lg({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Ka(vj),eg=lg({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wb}),xg=Ka(eg),il=lg({},Hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),hj=Ka(il),b=lg({},Gg,{deltaX:function(q){return"deltaX"in q?q.deltaX:"wheelDeltaX"in q?-q.wheelDeltaX:
0},deltaY:function(q){return"deltaY"in q?q.deltaY:"wheelDeltaY"in q?-q.wheelDeltaY:"wheelDelta"in q?-q.wheelDelta:0},deltaZ:0,deltaMode:0}),p=Ka(b),X=[9,13,27,32],S=Sh&&"CompositionEvent"in window,ea=null;Sh&&"documentMode"in document&&(ea=document.documentMode);var La=Sh&&"TextEvent"in window&&!ea,Xa=Sh&&(!S||ea&&8<ea&&11>=ea),ab=String.fromCharCode(32),tb=!1,Ib=!1,dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},Rc=null,vc=null,wc=!1;if(Sh){if(Sh){var td="oninput"in document;if(!td){var ce=document.createElement("div");ce.setAttribute("oninput","return;");td="function"===typeof ce.oninput}var Se=td}else Se=!1;wc=Se&&(!document.documentMode||9<document.documentMode)}var bf="function"===typeof Object.is?Object.is:uc,He=Object.prototype.hasOwnProperty,cg=Sh&&"documentMode"in document&&11>=document.documentMode,Af=null,bg=null,Wf=null,qf=!1;jc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);jc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);jc(qk,2);for(var gg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Rf=0;Rf<gg.length;Rf++)Zj.set(gg[Rf],0);w("onMouseEnter",["mouseout","mouseover"]);w("onMouseLeave",
["mouseout","mouseover"]);w("onPointerEnter",["pointerout","pointerover"]);w("onPointerLeave",["pointerout","pointerover"]);l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));l("onBeforeInput",["compositionend","keypress","textInput","paste"]);l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));l("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Of)),Pg="_reactListening"+Math.random().toString(36).slice(2),
ch=null,Rh=null,li="function"===typeof setTimeout?setTimeout:void 0,Mj="function"===typeof clearTimeout?clearTimeout:void 0,Vk=0,tk=Math.random().toString(36).slice(2),wi="__reactFiber$"+tk,Bk="__reactProps$"+tk,Ej="__reactContainer$"+tk,Zk="__reactEvents$"+tk,$k=[],ng=-1,Rg={},Sg=Gc(Rg),Lg=Gc(!1),Ni=Rg,el=null,lj=null,tl=Dg.unstable_runWithPriority,Dk=Dg.unstable_scheduleCallback,ck=Dg.unstable_cancelCallback,Pk=Dg.unstable_shouldYield,xl=Dg.unstable_requestPaint,uk=Dg.unstable_now,pl=Dg.unstable_getCurrentPriorityLevel,
Ck=Dg.unstable_ImmediatePriority,bk=Dg.unstable_UserBlockingPriority,ql=Dg.unstable_NormalPriority,rl=Dg.unstable_LowPriority,sl=Dg.unstable_IdlePriority,fl={},Nl=void 0!==xl?xl:function(){},xi=null,Fj=null,al=!1,yl=uk(),gh=1E4>yl?uk:function(){return uk()-yl},Ll=Th.ReactCurrentBatchConfig,Ek=Gc(null),Gj=null,Pi=null,Oi=null,hi=!1,ul=(new Gi.Component).refs,Fk={isMounted:function(q){return(q=q._reactInternals)?na(q)===q:!1},enqueueSetState:function(q,J,da){q=q._reactInternals;var Qa=bd(),ib=Jc(q),
yb=Nd(Qa,ib);yb.payload=J;void 0!==da&&null!==da&&(yb.callback=da);od(q,yb);ud(q,ib,Qa)},enqueueReplaceState:function(q,J,da){q=q._reactInternals;var Qa=bd(),ib=Jc(q),yb=Nd(Qa,ib);yb.tag=1;yb.payload=J;void 0!==da&&null!==da&&(yb.callback=da);od(q,yb);ud(q,ib,Qa)},enqueueForceUpdate:function(q,J){q=q._reactInternals;var da=bd(),Qa=Jc(q),ib=Nd(da,Qa);ib.tag=2;void 0!==J&&null!==J&&(ib.callback=J);od(q,ib);ud(q,Qa,da)}},Gk=Array.isArray,Jk=Zf(!0),Je=Zf(!1),ii={},qh=Gc(ii),ji=Gc(ii),rf=Gc(ii),of=Gc(0),
Hd=null,Tg=null,fh=!1,jj=[],Ij=Th.ReactCurrentDispatcher,yh=Th.ReactCurrentBatchConfig,ek=0,rg=null,$g=null,Ug=null,Ik=!1,fk=!1,Hk={readContext:Oc,useCallback:nd,useContext:nd,useEffect:nd,useImperativeHandle:nd,useLayoutEffect:nd,useMemo:nd,useReducer:nd,useRef:nd,useState:nd,useDebugValue:nd,useDeferredValue:nd,useTransition:nd,useMutableSource:nd,useOpaqueIdentifier:nd,unstable_isNewReconciler:!1},Hl={readContext:Oc,useCallback:function(q,J){je().memoizedState=[q,void 0===J?null:J];return q},useContext:Oc,
useEffect:ya,useImperativeHandle:function(q,J,da){da=null!==da&&void 0!==da?da.concat([q]):null;return Lf(4,2,Sa.bind(null,J,q),da)},useLayoutEffect:function(q,J){return Lf(4,2,q,J)},useMemo:function(q,J){var da=je();J=void 0===J?null:J;q=q();da.memoizedState=[q,J];return q},useReducer:function(q,J,da){var Qa=je();J=void 0!==da?da(J):J;Qa.memoizedState=Qa.baseState=J;q=Qa.queue={pending:null,dispatch:null,lastRenderedReducer:q,lastRenderedState:J};q=q.dispatch=Kb.bind(null,rg,q);return[Qa.memoizedState,
q]},useRef:Cf,useState:ne,useDebugValue:hb,useDeferredValue:function(q){var J=ne(q),da=J[0],Qa=J[1];ya(function(){var ib=yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=ne(!1),J=q[0];q=Ab.bind(null,q[1]);Cf(q);return[q,J]},useMutableSource:function(q,J,da){var Qa=je();Qa.memoizedState={refs:{getSnapshot:J,setSnapshot:null},source:q,subscribe:da};return Qe(Qa,q,J,da)},useOpaqueIdentifier:function(){if(fh){var q=!1,J=Be(function(){q||
(q=!0,da("r:"+(Vk++).toString(36)));throw Error(k(355));}),da=ne(J)[1];0===(rg.mode&2)&&(rg.flags|=516,sf(5,function(){da("r:"+(Vk++).toString(36))},void 0,null));return J}J="r:"+(Vk++).toString(36);ne(J);return J},unstable_isNewReconciler:!1},Il={readContext:Oc,useCallback:qb,useContext:Oc,useEffect:za,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Db,useReducer:$d,useRef:Bg,useState:function(){return $d(Le)},useDebugValue:hb,useDeferredValue:function(q){var J=$d(Le),da=J[0],Qa=J[1];za(function(){var ib=
yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=$d(Le)[0];return[Bg().current,q]},useMutableSource:Uf,useOpaqueIdentifier:function(){return $d(Le)[0]},unstable_isNewReconciler:!1},bl={readContext:Oc,useCallback:qb,useContext:Oc,useEffect:za,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Db,useReducer:Ie,useRef:Bg,useState:function(){return Ie(Le)},useDebugValue:hb,useDeferredValue:function(q){var J=Ie(Le),da=J[0],Qa=J[1];za(function(){var ib=
yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=Ie(Le)[0];return[Bg().current,q]},useMutableSource:Uf,useOpaqueIdentifier:function(){return Ie(Le)[0]},unstable_isNewReconciler:!1},cl=Th.ReactCurrentOwner,$h=!1,gk={dehydrated:null,retryLane:0};var wl=function(q,J){for(var da=J.child;null!==da;){if(5===da.tag||6===da.tag)q.appendChild(da.stateNode);else if(4!==da.tag&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===J)break;
for(;null===da.sibling;){if(null===da.return||da.return===J)return;da=da.return}da.sibling.return=da.return;da=da.sibling}};var zh=function(){};var Kk=function(q,J,da,Qa){var ib=q.memoizedProps;if(ib!==Qa){q=J.stateNode;yf(qh.current);var yb=null;switch(da){case "input":ib=F(q,ib);Qa=F(q,Qa);yb=[];break;case "option":ib=fa(q,ib);Qa=fa(q,Qa);yb=[];break;case "select":ib=lg({},ib,{value:void 0});Qa=lg({},Qa,{value:void 0});yb=[];break;case "textarea":ib=la(q,ib);Qa=la(q,Qa);yb=[];break;default:"function"!==
typeof ib.onClick&&"function"===typeof Qa.onClick&&(q.onclick=me)}Ha(da,Qa);var Ob;da=null;for(sd in ib)if(!Qa.hasOwnProperty(sd)&&ib.hasOwnProperty(sd)&&null!=ib[sd])if("style"===sd){var fc=ib[sd];for(Ob in fc)fc.hasOwnProperty(Ob)&&(da||(da={}),da[Ob]="")}else"dangerouslySetInnerHTML"!==sd&&"children"!==sd&&"suppressContentEditableWarning"!==sd&&"suppressHydrationWarning"!==sd&&"autoFocus"!==sd&&(vh.hasOwnProperty(sd)?yb||(yb=[]):(yb=yb||[]).push(sd,null));for(sd in Qa){var Fc=Qa[sd];fc=null!=ib?
ib[sd]:void 0;if(Qa.hasOwnProperty(sd)&&Fc!==fc&&(null!=Fc||null!=fc))if("style"===sd)if(fc){for(Ob in fc)!fc.hasOwnProperty(Ob)||Fc&&Fc.hasOwnProperty(Ob)||(da||(da={}),da[Ob]="");for(Ob in Fc)Fc.hasOwnProperty(Ob)&&fc[Ob]!==Fc[Ob]&&(da||(da={}),da[Ob]=Fc[Ob])}else da||(yb||(yb=[]),yb.push(sd,da)),da=Fc;else"dangerouslySetInnerHTML"===sd?(Fc=Fc?Fc.__html:void 0,fc=fc?fc.__html:void 0,null!=Fc&&fc!==Fc&&(yb=yb||[]).push(sd,Fc)):"children"===sd?"string"!==typeof Fc&&"number"!==typeof Fc||(yb=yb||[]).push(sd,
""+Fc):"suppressContentEditableWarning"!==sd&&"suppressHydrationWarning"!==sd&&(vh.hasOwnProperty(sd)?(null!=Fc&&"onScroll"===sd&&fe("scroll",q),yb||fc===Fc||(yb=[])):"object"===typeof Fc&&null!==Fc&&Fc.$$typeof===Zh?Fc.toString():(yb=yb||[]).push(sd,Fc))}da&&(yb=yb||[]).push("style",da);var sd;if(J.updateQueue=yb)J.flags|=4}};var Jl=function(q,J,da,Qa){da!==Qa&&(J.flags|=4)};var Sk="function"===typeof WeakMap?WeakMap:Map,Kl="function"===typeof WeakSet?WeakSet:Set,Rk=Math.ceil,Qk=Th.ReactCurrentDispatcher,
gl=Th.ReactCurrentOwner,Ne=0,ah=null,Mg=null,fg=0,Wg=0,lk=Gc(0),bh=0,Qh=null,mj=0,dk=0,rh=0,Lj=0,Ok=null,Mk=0,dl=Infinity,ze=null,kj=!1,Lk=null,ki=null,Ci=!1,mk=null,Oj=90,ok=[],hl=[],Bi=null,jk=0,kk=null,Cg=-1,ai=0,ik=0,Nj=null,th=!1;var Ml=function(q,J,da){var Qa=J.lanes;if(null!==q)if(q.memoizedProps!==J.pendingProps||Lg.current)$h=!0;else if(0!==(da&Qa))$h=0!==(q.flags&16384)?!0:!1;else{$h=!1;switch(J.tag){case 3:Zb(J);Tg=Hd=null;fh=!1;break;case 5:Aa(J);break;case 1:Fe(J.type)&&If(J);break;case 4:Pe(J,
J.stateNode.containerInfo);break;case 10:Qa=J.memoizedProps.value;var ib=J.type._context;le(Ek,ib._currentValue);ib._currentValue=Qa;break;case 13:if(null!==J.memoizedState){if(0!==(da&J.child.childLanes))return qc(q,J,da);le(of,of.current&1);J=Ad(q,J,da);return null!==J?J.sibling:null}le(of,of.current&1);break;case 19:Qa=0!==(da&J.childLanes);if(0!==(q.flags&64)){if(Qa)return pd(q,J,da);J.flags|=64}ib=J.memoizedState;null!==ib&&(ib.rendering=null,ib.tail=null,ib.lastEffect=null);le(of,of.current);
if(Qa)break;else return null;case 23:case 24:return J.lanes=0,oa(q,J,da)}return Ad(q,J,da)}else $h=!1;J.lanes=0;switch(J.tag){case 2:Qa=J.type;null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2);q=J.pendingProps;ib=kc(J,Sg.current);$b(J,da);ib=de(null,J,Qa,q,ib,da);J.flags|=1;if("object"===typeof ib&&null!==ib&&"function"===typeof ib.render&&void 0===ib.$$typeof){J.tag=1;J.memoizedState=null;J.updateQueue=null;if(Fe(Qa)){var yb=!0;If(J)}else yb=!1;J.memoizedState=null!==ib.state&&void 0!==ib.state?
ib.state:null;gd(J);var Ob=Qa.getDerivedStateFromProps;"function"===typeof Ob&&ie(J,Qa,Ob,q);ib.updater=Fk;J.stateNode=ib;ib._reactInternals=J;We(J,Qa,q,da);J=Sb(null,J,Qa,!0,yb,da)}else J.tag=0,Jb(null,J,ib,da),J=J.child;return J;case 16:ib=J.elementType;a:{null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2);q=J.pendingProps;yb=ib._init;ib=yb(ib._payload);J.type=ib;yb=J.tag=oj(ib);q=Cb(ib,q);switch(yb){case 0:J=Va(null,J,ib,q,da);break a;case 1:J=xb(null,J,ib,q,da);break a;case 11:J=cc(null,
J,ib,q,da);break a;case 14:J=xc(null,J,ib,Cb(ib.type,q),Qa,da);break a}throw Error(k(306,ib,""));}return J;case 0:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),Va(q,J,Qa,ib,da);case 1:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),xb(q,J,Qa,ib,da);case 3:Zb(J);Qa=J.updateQueue;if(null===q||null===Qa)throw Error(k(282));Qa=J.pendingProps;ib=J.memoizedState;ib=null!==ib?ib.element:null;Mc(q,J);jd(J,Qa,null,da);Qa=J.memoizedState.element;if(Qa===ib)Tg=Hd=
null,fh=!1,J=Ad(q,J,da);else{ib=J.stateNode;if(yb=ib.hydrate)Tg=Od(J.stateNode.containerInfo.firstChild),Hd=J,yb=fh=!0;if(yb){q=ib.mutableSourceEagerHydrationData;if(null!=q)for(ib=0;ib<q.length;ib+=2)yb=q[ib],yb._workInProgressVersionPrimary=q[ib+1],jj.push(yb);da=Je(J,null,Qa,da);for(J.child=da;da;)da.flags=da.flags&-3|1024,da=da.sibling}else Jb(q,J,Qa,da),Tg=Hd=null,fh=!1;J=J.child}return J;case 5:return Aa(J),null===q&&ic(J),Qa=J.type,ib=J.pendingProps,yb=null!==q?q.memoizedProps:null,Ob=ib.children,
kf(Qa,ib)?Ob=null:null!==yb&&kf(Qa,yb)&&(J.flags|=16),Oa(q,J),Jb(q,J,Ob,da),J.child;case 6:return null===q&&ic(J),null;case 13:return qc(q,J,da);case 4:return Pe(J,J.stateNode.containerInfo),Qa=J.pendingProps,null===q?J.child=Jk(J,null,Qa,da):Jb(q,J,Qa,da),J.child;case 11:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),cc(q,J,Qa,ib,da);case 7:return Jb(q,J,J.pendingProps,da),J.child;case 8:return Jb(q,J,J.pendingProps.children,da),J.child;case 12:return Jb(q,J,J.pendingProps.children,
da),J.child;case 10:a:{Qa=J.type._context;ib=J.pendingProps;Ob=J.memoizedProps;yb=ib.value;var fc=J.type._context;le(Ek,fc._currentValue);fc._currentValue=yb;if(null!==Ob)if(fc=Ob.value,yb=bf(fc,yb)?0:("function"===typeof Qa._calculateChangedBits?Qa._calculateChangedBits(fc,yb):1073741823)|0,0===yb){if(Ob.children===ib.children&&!Lg.current){J=Ad(q,J,da);break a}}else for(fc=J.child,null!==fc&&(fc.return=J);null!==fc;){var Fc=fc.dependencies;if(null!==Fc){Ob=fc.child;for(var sd=Fc.firstContext;null!==
sd;){if(sd.context===Qa&&0!==(sd.observedBits&yb)){1===fc.tag&&(sd=Nd(-1,da&-da),sd.tag=2,od(fc,sd));fc.lanes|=da;sd=fc.alternate;null!==sd&&(sd.lanes|=da);Yb(fc.return,da);Fc.lanes|=da;break}sd=sd.next}}else Ob=10===fc.tag?fc.type===J.type?null:fc.child:fc.child;if(null!==Ob)Ob.return=fc;else for(Ob=fc;null!==Ob;){if(Ob===J){Ob=null;break}fc=Ob.sibling;if(null!==fc){fc.return=Ob.return;Ob=fc;break}Ob=Ob.return}fc=Ob}Jb(q,J,ib.children,da);J=J.child}return J;case 9:return ib=J.type,yb=J.pendingProps,
Qa=yb.children,$b(J,da),ib=Oc(ib,yb.unstable_observedBits),Qa=Qa(ib),J.flags|=1,Jb(q,J,Qa,da),J.child;case 14:return ib=J.type,yb=Cb(ib,J.pendingProps),yb=Cb(ib.type,yb),xc(q,J,ib,yb,Qa,da);case 15:return Y(q,J,J.type,J.pendingProps,Qa,da);case 17:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2),J.tag=1,Fe(Qa)?(q=!0,If(J)):q=!1,$b(J,da),tf(J,Qa,ib),We(J,Qa,ib,da),Sb(null,J,Qa,!0,q,da);case 19:return pd(q,J,da);case 23:return oa(q,
J,da);case 24:return oa(q,J,da)}throw Error(k(156,J.tag));};rj.prototype.render=function(q){qj(q,this._internalRoot,null,null)};rj.prototype.unmount=function(){var q=this._internalRoot,J=q.containerInfo;qj(null,q,null,function(){J[Ej]=null})};var zk=function(q){if(13===q.tag){var J=bd();ud(q,4,J);Qj(q,4)}};var ol=function(q){if(13===q.tag){var J=bd();ud(q,67108864,J);Qj(q,67108864)}};var Jh=function(q){if(13===q.tag){var J=bd(),da=Jc(q);ud(q,da,J);Qj(q,da)}};var nh=function(q,J){return J()};di=function(q,
J,da){switch(J){case "input":K(q,da);J=da.name;if("radio"===da.type&&null!=J){for(da=q;da.parentNode;)da=da.parentNode;da=da.querySelectorAll("input[name\x3d"+JSON.stringify(""+J)+'][type\x3d"radio"]');for(J=0;J<da.length;J++){var Qa=da[J];if(Qa!==q&&Qa.form===q.form){var ib=Ye(Qa);if(!ib)throw Error(k(90));O(Qa);K(Qa,ib)}}}break;case "textarea":P(q,da);break;case "select":J=da.value,null!=J&&ia(q,!!da.multiple,J,!1)}};Ca=pe;ua=function(q,J,da,Qa,ib){var yb=Ne;Ne|=4;try{return yc(98,q.bind(null,J,
da,Qa,ib))}finally{Ne=yb,0===Ne&&(rd(),Ea())}};U=function(){0===(Ne&49)&&(ke(),sh())};mg=function(q,J){var da=Ne;Ne|=2;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}};var wj={Events:[Ge,Td,Ye,Ta,Ya,sh,{current:!1}]},vk={findFiberByHostInstance:jf,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Ol={bundleType:vk.bundleType,version:vk.version,rendererPackageName:vk.rendererPackageName,rendererConfig:vk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,
overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Th.ReactCurrentDispatcher,findHostInstanceByFiber:function(q){q=Fa(q);return null===q?null:q.stateNode},findFiberByHostInstance:vk.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;
if(!Yg.isDisabled&&Yg.supportsFiber)try{el=Yg.inject(Ol),lj=Yg}catch(q){}}E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wj;E.createPortal=oi;E.findDOMNode=function(q){if(null==q)return null;if(1===q.nodeType)return q;var J=q._reactInternals;if(void 0===J){if("function"===typeof q.render)throw Error(k(188));throw Error(k(268,Object.keys(q)));}q=Fa(J);return q=null===q?null:q.stateNode};E.flushSync=function(q,J){var da=Ne;if(0!==(da&48))return q(J);Ne|=1;try{if(q)return yc(99,q.bind(null,J))}finally{Ne=
da,Ea()}};E.hydrate=function(q,J,da){if(!sj(J))throw Error(k(200));return Wi(null,q,J,!0,da)};E.render=function(q,J,da){if(!sj(J))throw Error(k(200));return Wi(null,q,J,!1,da)};E.unmountComponentAtNode=function(q){if(!sj(q))throw Error(k(40));return q._reactRootContainer?(Re(function(){Wi(null,null,q,!1,function(){q._reactRootContainer=null;q[Ej]=null})}),!0):!1};E.unstable_batchedUpdates=pe;E.unstable_createPortal=function(q,J){return oi(q,J,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};E.unstable_renderSubtreeIntoContainer=function(q,J,da,Qa){if(!sj(da))throw Error(k(200));if(null==q||void 0===q._reactInternals)throw Error(k(38));return Wi(q,J,da,!1,Qa)};E.version="17.0.1"};
shadow$provide[12]=function(Ia,A,rb,E){function k(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k)}catch(l){console.error(l)}}k();rb.exports=A(7)};
shadow$provide[13]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=l():"function"===typeof define&&define.amd?define(l):(k="undefined"!==typeof globalThis?globalThis:k||self,k.marked=l())})(this,function(){function k(qa,Da){for(var na=0;na<Da.length;na++){var Ra=Da[na];Ra.enumerable=Ra.enumerable||!1;Ra.configurable=!0;"value"in Ra&&(Ra.writable=!0);Object.defineProperty(qa,Ra.key,Ra)}}function l(qa,Da,na){Da&&k(qa.prototype,Da);na&&k(qa,na);return qa}function w(qa,
Da){if(qa){if("string"===typeof qa)return H(qa,Da);var na=Object.prototype.toString.call(qa).slice(8,-1);"Object"===na&&qa.constructor&&(na=qa.constructor.name);if("Map"===na||"Set"===na)return Array.from(qa);if("Arguments"===na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(na))return H(qa,Da)}}function H(qa,Da){if(null==Da||Da>qa.length)Da=qa.length;for(var na=0,Ra=Array(Da);na<Da;na++)Ra[na]=qa[na];return Ra}function N(qa,Da){var na;if("undefined"===typeof Symbol||null==qa[Symbol.iterator]){if(Array.isArray(qa)||
(na=w(qa))||Da&&qa&&"number"===typeof qa.length){na&&(qa=na);var Ra=0;return function(){return Ra>=qa.length?{done:!0}:{done:!1,value:qa[Ra++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}na=qa[Symbol.iterator]();return na.next.bind(na)}function x(qa){return qa.replace(M,function(Da,na){na=na.toLowerCase();return"colon"===na?":":"#"===na.charAt(0)?"x"===na.charAt(1)?String.fromCharCode(parseInt(na.substring(2),
16)):String.fromCharCode(+na.substring(1)):""})}function v(qa,Da,na){var Ra=qa.length;if(0===Ra)return"";for(var db=0;db<Ra;){var $a=qa.charAt(Ra-db-1);if($a!==Da||na)if($a!==Da&&na)db++;else break;else db++}return qa.substr(0,Ra-db)}function u(qa,Da,na){var Ra=Da.href;Da=Da.title?P(Da.title):null;var db=qa[1].replace(/\\([\[\]])/g,"$1");return"!"!==qa[0].charAt(0)?{type:"link",raw:na,href:Ra,title:Da,text:db}:{type:"image",raw:na,href:Ra,title:Da,text:P(db)}}function m(qa,Da){qa=qa.match(/^(\s+)(?:```)/);
if(null===qa)return Da;var na=qa[1];return Da.split("\n").map(function(Ra){var db=Ra.match(/^\s+/);return null===db?Ra:db[0].length>=na.length?Ra.slice(na.length):Ra}).join("\n")}function g(qa){return qa.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function d(qa){var Da="",na,Ra=qa.length;for(na=0;na<Ra;na++){var db=qa.charCodeAt(na);.5<Math.random()&&(db="x"+
db.toString(16));Da+="\x26#"+db+";"}return Da}function f(qa,Da,na){if("undefined"===typeof qa||null===qa)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(qa)+", string expected");"function"===typeof Da&&(na=Da,Da=null);Da=W({},f.defaults,Da||{});ba(Da);if(na){var Ra=Da.highlight;try{var db=bb.lex(qa,Da)}catch(pa){return na(pa)}var $a=function(pa){if(!pa)try{var Ja=U.parse(db,Da)}catch(Ua){pa=
Ua}Da.highlight=Ra;return pa?na(pa):na(null,Ja)};if(!Ra||3>Ra.length)return $a();delete Da.highlight;if(!db.length)return $a();var Fa=0;f.walkTokens(db,function(pa){"code"===pa.type&&(Fa++,setTimeout(function(){Ra(pa.text,pa.lang,function(Ja,Ua){if(Ja)return $a(Ja);null!=Ua&&Ua!==pa.text&&(pa.text=Ua,pa.escaped=!0);Fa--;0===Fa&&$a()})},0))});0===Fa&&$a()}else try{var Ga=bb.lex(qa,Da);Da.walkTokens&&f.walkTokens(Ga,Da.walkTokens);return U.parse(Ga,Da)}catch(pa){pa.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(Da.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ca(pa.message+"",!0)+"\x3c/pre\x3e";throw pa;}}var a=function(qa){var Da={exports:{}};return qa(Da,Da.exports),Da.exports}(function(qa){function Da(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}qa.exports={defaults:Da(),getDefaults:Da,
changeDefaults:function(na){qa.exports.defaults=na}}}),e=/[&<>"']/,n=/[&<>"']/g,y=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,D={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},O=function(qa){return D[qa]},M=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,F=/(^|[^\[])\^/g,z=/[^\w:]/g,G=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,K={},R=/^[^:]+:\/*[^/]*$/,T=/^([^:]+:)[\s\S]*$/,ja=/^([^:]+:\/*[^/]*)[\s\S]*$/,fa=function(qa,Da){if(Da){if(e.test(qa))return qa.replace(n,O)}else if(y.test(qa))return qa.replace(B,
O);return qa},ia=function(qa){for(var Da=1,na,Ra;Da<arguments.length;Da++)for(Ra in na=arguments[Da],na)Object.prototype.hasOwnProperty.call(na,Ra)&&(qa[Ra]=na[Ra]);return qa},la=a.defaults,Z=function(qa,Da){qa=qa.replace(/\|/g,function(Ra,db,$a){for(Ra=!1;0<=--db&&"\\"===$a[db];)Ra=!Ra;return Ra?"|":" |"}).split(/ \|/);var na=0;if(qa.length>Da)qa.splice(Da);else for(;qa.length<Da;)qa.push("");for(;na<qa.length;na++)qa[na]=qa[na].trim().replace(/\\\|/g,"|");return qa},P=fa,C=function(){function qa(na){this.options=
na||la}var Da=qa.prototype;Da.space=function(na){if(na=this.rules.block.newline.exec(na))return 1<na[0].length?{type:"space",raw:na[0]}:{raw:"\n"}};Da.code=function(na,Ra){if(na=this.rules.block.code.exec(na)){if((Ra=Ra[Ra.length-1])&&"paragraph"===Ra.type)return{raw:na[0],text:na[0].trimRight()};Ra=na[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:na[0],codeBlockStyle:"indented",text:this.options.pedantic?Ra:v(Ra,"\n")}}};Da.fences=function(na){if(na=this.rules.block.fences.exec(na)){var Ra=na[0],
db=m(Ra,na[3]||"");return{type:"code",raw:Ra,lang:na[2]?na[2].trim():na[2],text:db}}};Da.heading=function(na){if(na=this.rules.block.heading.exec(na)){var Ra=na[2].trim();if(/#$/.test(Ra)){var db=v(Ra,"#");if(this.options.pedantic)Ra=db.trim();else if(!db||/ $/.test(db))Ra=db.trim()}return{type:"heading",raw:na[0],depth:na[1].length,text:Ra}}};Da.nptable=function(na){if(na=this.rules.block.nptable.exec(na))if(na={type:"table",header:Z(na[1].replace(/^ *| *\| *$/g,"")),align:na[2].replace(/^ *|\| *$/g,
"").split(/ *\| */),cells:na[3]?na[3].replace(/\n$/,"").split("\n"):[],raw:na[0]},na.header.length===na.align.length){var Ra=na.align.length,db;for(db=0;db<Ra;db++)/^ *-+: *$/.test(na.align[db])?na.align[db]="right":/^ *:-+: *$/.test(na.align[db])?na.align[db]="center":/^ *:-+ *$/.test(na.align[db])?na.align[db]="left":na.align[db]=null;Ra=na.cells.length;for(db=0;db<Ra;db++)na.cells[db]=Z(na.cells[db],na.header.length);return na}};Da.hr=function(na){if(na=this.rules.block.hr.exec(na))return{type:"hr",
raw:na[0]}};Da.blockquote=function(na){if(na=this.rules.block.blockquote.exec(na)){var Ra=na[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:na[0],text:Ra}}};Da.list=function(na){var Ra=this.rules.block.list.exec(na);if(Ra){na=Ra[0];var db=Ra[2],$a=1<db.length,Fa={type:"list",raw:na,ordered:$a,start:$a?+db.slice(0,-1):"",loose:!1,items:[]};Ra=Ra[0].match(this.rules.block.item);var Ga=!1,pa,Ja=Ra.length;var Ua=this.rules.block.listItemStart.exec(Ra[0]);for(var jb=0;jb<Ja;jb++){na=pa=Ra[jb];
if(jb!==Ja-1){var Fb=this.rules.block.listItemStart.exec(Ra[jb+1]);if(this.options.pedantic?Fb[1].length>Ua[1].length:Fb[1].length>Ua[0].length||3<Fb[1].length){Ra.splice(jb,2,Ra[jb]+"\n"+Ra[jb+1]);jb--;Ja--;continue}else if(!this.options.pedantic||this.options.smartLists?Fb[2][Fb[2].length-1]!==db[db.length-1]:$a===(1===Fb[2].length))Ua=Ra.slice(jb+1).join("\n"),Fa.raw=Fa.raw.substring(0,Fa.raw.length-Ua.length),jb=Ja-1;Ua=Fb}Fb=pa.length;pa=pa.replace(/^ *([*+-]|\d+[.)]) ?/,"");~pa.indexOf("\n ")&&
(Fb-=pa.length,pa=this.options.pedantic?pa.replace(/^ {1,4}/gm,""):pa.replace(new RegExp("^ {1,"+Fb+"}","gm"),""));Fb=Ga||/\n\n(?!\s*$)/.test(pa);jb!==Ja-1&&(Ga="\n"===pa.charAt(pa.length-1),Fb||(Fb=Ga));Fb&&(Fa.loose=!0);if(this.options.gfm){var Xb=/^\[[ xX]\] /.test(pa);var nc=void 0;Xb&&(nc=" "!==pa[1],pa=pa.replace(/^\[[ xX]\] +/,""))}Fa.items.push({type:"list_item",raw:na,task:Xb,checked:nc,loose:Fb,text:pa})}return Fa}};Da.html=function(na){if(na=this.rules.block.html.exec(na))return{type:this.options.sanitize?
"paragraph":"html",raw:na[0],pre:!this.options.sanitizer&&("pre"===na[1]||"script"===na[1]||"style"===na[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]}};Da.def=function(na){if(na=this.rules.block.def.exec(na))return na[3]&&(na[3]=na[3].substring(1,na[3].length-1)),{tag:na[1].toLowerCase().replace(/\s+/g," "),raw:na[0],href:na[2],title:na[3]}};Da.table=function(na){var Ra=this.rules.block.table.exec(na);if(Ra&&(na={type:"table",header:Z(Ra[1].replace(/^ *| *\| *$/g,
"")),align:Ra[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ra[3]?Ra[3].replace(/\n$/,"").split("\n"):[]},na.header.length===na.align.length)){na.raw=Ra[0];Ra=na.align.length;var db;for(db=0;db<Ra;db++)/^ *-+: *$/.test(na.align[db])?na.align[db]="right":/^ *:-+: *$/.test(na.align[db])?na.align[db]="center":/^ *:-+ *$/.test(na.align[db])?na.align[db]="left":na.align[db]=null;Ra=na.cells.length;for(db=0;db<Ra;db++)na.cells[db]=Z(na.cells[db].replace(/^ *\| *| *\| *$/g,""),na.header.length);return na}};
Da.lheading=function(na){if(na=this.rules.block.lheading.exec(na))return{type:"heading",raw:na[0],depth:"\x3d"===na[2].charAt(0)?1:2,text:na[1]}};Da.paragraph=function(na){if(na=this.rules.block.paragraph.exec(na))return{type:"paragraph",raw:na[0],text:"\n"===na[1].charAt(na[1].length-1)?na[1].slice(0,-1):na[1]}};Da.text=function(na,Ra){if(na=this.rules.block.text.exec(na))return(Ra=Ra[Ra.length-1])&&"text"===Ra.type?{raw:na[0],text:na[0]}:{type:"text",raw:na[0],text:na[0]}};Da.escape=function(na){if(na=
this.rules.inline.escape.exec(na))return{type:"escape",raw:na[0],text:P(na[1])}};Da.tag=function(na,Ra,db){if(na=this.rules.inline.tag.exec(na))return!Ra&&/^<a /i.test(na[0])?Ra=!0:Ra&&/^<\/a>/i.test(na[0])&&(Ra=!1),!db&&/^<(pre|code|kbd|script)(\s|>)/i.test(na[0])?db=!0:db&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(na[0])&&(db=!1),{type:this.options.sanitize?"text":"html",raw:na[0],inLink:Ra,inRawBlock:db,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]}};
Da.link=function(na){if(na=this.rules.inline.link.exec(na)){var Ra=na[2].trim();if(!this.options.pedantic&&/^</.test(Ra)){if(!/>$/.test(Ra))return;var db=v(Ra.slice(0,-1),"\\");if(0===(Ra.length-db.length)%2)return}else{a:{db=na[2];if(-1!==db.indexOf(")"))for(var $a=db.length,Fa=0,Ga=0;Ga<$a;Ga++)if("\\"===db[Ga])Ga++;else if("("===db[Ga])Fa++;else if(")"===db[Ga]&&(Fa--,0>Fa)){db=Ga;break a}db=-1}-1<db&&($a=(0===na[0].indexOf("!")?5:4)+na[1].length+db,na[2]=na[2].substring(0,db),na[0]=na[0].substring(0,
$a).trim(),na[3]="")}db=na[2];$a="";if(this.options.pedantic){if(Fa=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(db))db=Fa[1],$a=Fa[3]}else $a=na[3]?na[3].slice(1,-1):"";db=db.trim();/^</.test(db)&&(db=this.options.pedantic&&!/>$/.test(Ra)?db.slice(1):db.slice(1,-1));return u(na,{href:db?db.replace(this.rules.inline._escapes,"$1"):db,title:$a?$a.replace(this.rules.inline._escapes,"$1"):$a},na[0])}};Da.reflink=function(na,Ra){var db;if((db=this.rules.inline.reflink.exec(na))||(db=this.rules.inline.nolink.exec(na)))return na=
(db[2]||db[1]).replace(/\s+/g," "),na=Ra[na.toLowerCase()],na&&na.href?u(db,na,db[0]):(Ra=db[0].charAt(0),{type:"text",raw:Ra,text:Ra})};Da.strong=function(na,Ra,db){void 0===db&&(db="");var $a=this.rules.inline.strong.start.exec(na);if($a&&(!$a[1]||$a[1]&&(""===db||this.rules.inline.punctuation.exec(db))))for(Ra=Ra.slice(-1*na.length),db="**"===$a[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd,db.lastIndex=0;null!=($a=db.exec(Ra));)if($a=this.rules.inline.strong.middle.exec(Ra.slice(0,
$a.index+3)))return{type:"strong",raw:na.slice(0,$a[0].length),text:na.slice(2,$a[0].length-2)}};Da.em=function(na,Ra,db){void 0===db&&(db="");var $a=this.rules.inline.em.start.exec(na);if($a&&(!$a[1]||$a[1]&&(""===db||this.rules.inline.punctuation.exec(db))))for(Ra=Ra.slice(-1*na.length),db="*"===$a[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd,db.lastIndex=0;null!=($a=db.exec(Ra));)if($a=this.rules.inline.em.middle.exec(Ra.slice(0,$a.index+2)))return{type:"em",raw:na.slice(0,$a[0].length),
text:na.slice(1,$a[0].length-1)}};Da.codespan=function(na){if(na=this.rules.inline.code.exec(na)){var Ra=na[2].replace(/\n/g," "),db=/[^ ]/.test(Ra),$a=/^ /.test(Ra)&&/ $/.test(Ra);db&&$a&&(Ra=Ra.substring(1,Ra.length-1));Ra=P(Ra,!0);return{type:"codespan",raw:na[0],text:Ra}}};Da.br=function(na){if(na=this.rules.inline.br.exec(na))return{type:"br",raw:na[0]}};Da.del=function(na){if(na=this.rules.inline.del.exec(na))return{type:"del",raw:na[0],text:na[2]}};Da.autolink=function(na,Ra){if(na=this.rules.inline.autolink.exec(na)){if("@"===
na[2]){Ra=P(this.options.mangle?Ra(na[1]):na[1]);var db="mailto:"+Ra}else db=Ra=P(na[1]);return{type:"link",raw:na[0],text:Ra,href:db,tokens:[{type:"text",raw:Ra,text:Ra}]}}};Da.url=function(na,Ra){if(na=this.rules.inline.url.exec(na)){if("@"===na[2]){Ra=P(this.options.mangle?Ra(na[0]):na[0]);var db="mailto:"+Ra}else{do Ra=na[0],na[0]=this.rules.inline._backpedal.exec(na[0])[0];while(Ra!==na[0]);Ra=P(na[0]);db="www."===na[1]?"http://"+Ra:Ra}return{type:"link",raw:na[0],text:Ra,href:db,tokens:[{type:"text",
raw:Ra,text:Ra}]}}};Da.inlineText=function(na,Ra,db){if(na=this.rules.inline.text.exec(na))return Ra=Ra?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]:P(this.options.smartypants?db(na[0]):na[0]),{type:"text",raw:na[0],text:Ra}};return qa}(),V={exec:function(){}},ha=function(qa,Da){qa=qa.source||qa;Da=Da||"";var na={replace:function(Ra,db){db=db.source||db;db=db.replace(F,"$1");qa=qa.replace(Ra,db);return na},getRegex:function(){return new RegExp(qa,Da)}};
return na},aa={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:V,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};aa.def=ha(aa.def).replace("label",aa._label).replace("title",aa._title).getRegex();aa.bullet=/(?:[*+-]|\d{1,9}[.)])/;aa.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
aa.item=ha(aa.item,"gm").replace(/bull/g,aa.bullet).getRegex();aa.listItemStart=ha(/^( *)(bull)/).replace("bull",aa.bullet).getRegex();aa.list=ha(aa.list).replace(/bull/g,aa.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+aa.def.source+")").getRegex();aa._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
aa._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;aa.html=ha(aa.html,"i").replace("comment",aa._comment).replace("tag",aa._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();aa.paragraph=ha(aa._paragraph).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.blockquote=ha(aa.blockquote).replace("paragraph",aa.paragraph).getRegex();aa.normal=ia({},aa);aa.gfm=ia({},aa.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});aa.gfm.nptable=
ha(aa.gfm.nptable).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.gfm.table=ha(aa.gfm.table).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences",
" {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.pedantic=ia({},aa.normal,{html:ha("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",aa._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,paragraph:ha(aa.normal._paragraph).replace("hr",aa.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",aa.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ta={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,
endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};ta.punctuation=ha(ta.punctuation).replace(/punctuation/g,ta._punctuation).getRegex();ta._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|\x3c[^\x3e]*?\x3e";ta._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*";ta._comment=ha(aa._comment).replace("(?:--\x3e|$)",
"--\x3e").getRegex();ta.em.start=ha(ta.em.start).replace(/punctuation/g,ta._punctuation).getRegex();ta.em.middle=ha(ta.em.middle).replace(/punctuation/g,ta._punctuation).replace(/overlapSkip/g,ta._overlapSkip).getRegex();ta.em.endAst=ha(ta.em.endAst,"g").replace(/punctuation/g,ta._punctuation).getRegex();ta.em.endUnd=ha(ta.em.endUnd,"g").replace(/punctuation/g,ta._punctuation).getRegex();ta.strong.start=ha(ta.strong.start).replace(/punctuation/g,ta._punctuation).getRegex();ta.strong.middle=ha(ta.strong.middle).replace(/punctuation/g,
ta._punctuation).replace(/overlapSkip/g,ta._overlapSkip).getRegex();ta.strong.endAst=ha(ta.strong.endAst,"g").replace(/punctuation/g,ta._punctuation).getRegex();ta.strong.endUnd=ha(ta.strong.endUnd,"g").replace(/punctuation/g,ta._punctuation).getRegex();ta.blockSkip=ha(ta._blockSkip,"g").getRegex();ta.overlapSkip=ha(ta._overlapSkip,"g").getRegex();ta._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ta._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ta._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
ta.autolink=ha(ta.autolink).replace("scheme",ta._scheme).replace("email",ta._email).getRegex();ta._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ta.tag=ha(ta.tag).replace("comment",ta._comment).replace("attribute",ta._attribute).getRegex();ta._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ta._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ta._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ta.link=ha(ta.link).replace("label",
ta._label).replace("href",ta._href).replace("title",ta._title).getRegex();ta.reflink=ha(ta.reflink).replace("label",ta._label).getRegex();ta.reflinkSearch=ha(ta.reflinkSearch,"g").replace("reflink",ta.reflink).replace("nolink",ta.nolink).getRegex();ta.normal=ia({},ta);ta.pedantic=ia({},ta.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ha(/^!?\[(label)\]\((.*?)\)/).replace("label",ta._label).getRegex(),reflink:ha(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ta._label).getRegex()});ta.gfm=ia({},ta.normal,{escape:ha(ta.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});ta.gfm.url=ha(ta.gfm.url,"i").replace("email",ta.gfm._extended_email).getRegex();ta.breaks=ia({},ta.gfm,{br:ha(ta.br).replace("{2,}","*").getRegex(),text:ha(ta.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});
var wa=a.defaults,Ha=function(qa,Da){if(1>Da)return"";for(var na="";1<Da;)Da&1&&(na+=qa),Da>>=1,qa+=qa;return na+qa},bb=function(){function qa(na){this.tokens=[];this.tokens.links=Object.create(null);this.options=na||wa;this.options.tokenizer=this.options.tokenizer||new C;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;na={block:aa.normal,inline:ta.normal};this.options.pedantic?(na.block=aa.pedantic,na.inline=ta.pedantic):this.options.gfm&&(na.block=aa.gfm,na.inline=this.options.breaks?
ta.breaks:ta.gfm);this.tokenizer.rules=na}qa.lex=function(na,Ra){return(new qa(Ra)).lex(na)};qa.lexInline=function(na,Ra){return(new qa(Ra)).inlineTokens(na)};var Da=qa.prototype;Da.lex=function(na){na=na.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(na,this.tokens,!0);this.inline(this.tokens);return this.tokens};Da.blockTokens=function(na,Ra,db){void 0===Ra&&(Ra=[]);void 0===db&&(db=!0);this.options.pedantic&&(na=na.replace(/^ +$/gm,""));for(var $a,Fa,Ga;na;)if($a=this.tokenizer.space(na))na=
na.substring($a.raw.length),$a.type&&Ra.push($a);else if($a=this.tokenizer.code(na,Ra))na=na.substring($a.raw.length),$a.type?Ra.push($a):(Fa=Ra[Ra.length-1],Fa.raw+="\n"+$a.raw,Fa.text+="\n"+$a.text);else if($a=this.tokenizer.fences(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.heading(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.nptable(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.hr(na))na=na.substring($a.raw.length),
Ra.push($a);else if($a=this.tokenizer.blockquote(na))na=na.substring($a.raw.length),$a.tokens=this.blockTokens($a.text,[],db),Ra.push($a);else if($a=this.tokenizer.list(na)){na=na.substring($a.raw.length);Ga=$a.items.length;for(Fa=0;Fa<Ga;Fa++)$a.items[Fa].tokens=this.blockTokens($a.items[Fa].text,[],!1);Ra.push($a)}else if($a=this.tokenizer.html(na))na=na.substring($a.raw.length),Ra.push($a);else if(db&&($a=this.tokenizer.def(na)))na=na.substring($a.raw.length),this.tokens.links[$a.tag]||(this.tokens.links[$a.tag]=
{href:$a.href,title:$a.title});else if($a=this.tokenizer.table(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.lheading(na))na=na.substring($a.raw.length),Ra.push($a);else if(db&&($a=this.tokenizer.paragraph(na)))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.text(na,Ra))na=na.substring($a.raw.length),$a.type?Ra.push($a):(Fa=Ra[Ra.length-1],Fa.raw+="\n"+$a.raw,Fa.text+="\n"+$a.text);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);
break}else throw Error(na);return Ra};Da.inline=function(na){var Ra,db,$a,Fa=na.length;for(Ra=0;Ra<Fa;Ra++){var Ga=na[Ra];switch(Ga.type){case "paragraph":case "text":case "heading":Ga.tokens=[];this.inlineTokens(Ga.text,Ga.tokens);break;case "table":Ga.tokens={header:[],cells:[]};var pa=Ga.header.length;for(db=0;db<pa;db++)Ga.tokens.header[db]=[],this.inlineTokens(Ga.header[db],Ga.tokens.header[db]);pa=Ga.cells.length;for(db=0;db<pa;db++){var Ja=Ga.cells[db];Ga.tokens.cells[db]=[];for($a=0;$a<Ja.length;$a++)Ga.tokens.cells[db][$a]=
[],this.inlineTokens(Ja[$a],Ga.tokens.cells[db][$a])}break;case "blockquote":this.inline(Ga.tokens);break;case "list":for(pa=Ga.items.length,db=0;db<pa;db++)this.inline(Ga.items[db].tokens)}}return na};Da.inlineTokens=function(na,Ra,db,$a){void 0===Ra&&(Ra=[]);void 0===db&&(db=!1);void 0===$a&&($a=!1);var Fa,Ga=na,pa;if(this.tokens.links){var Ja=Object.keys(this.tokens.links);if(0<Ja.length)for(;null!=(Fa=this.tokenizer.rules.inline.reflinkSearch.exec(Ga));)Ja.includes(Fa[0].slice(Fa[0].lastIndexOf("[")+
1,-1))&&(Ga=Ga.slice(0,Fa.index)+"["+Ha("a",Fa[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Fa=this.tokenizer.rules.inline.blockSkip.exec(Ga));)Ga=Ga.slice(0,Fa.index)+"["+Ha("a",Fa[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;na;){Ua||(pa="");var Ua=!1;if(Fa=this.tokenizer.escape(na))na=na.substring(Fa.raw.length),Ra.push(Fa);else if(Fa=this.tokenizer.tag(na,db,$a))na=na.substring(Fa.raw.length),db=Fa.inLink,$a=Fa.inRawBlock,
Ra.push(Fa);else if(Fa=this.tokenizer.link(na))na=na.substring(Fa.raw.length),"link"===Fa.type&&(Fa.tokens=this.inlineTokens(Fa.text,[],!0,$a)),Ra.push(Fa);else if(Fa=this.tokenizer.reflink(na,this.tokens.links))na=na.substring(Fa.raw.length),"link"===Fa.type&&(Fa.tokens=this.inlineTokens(Fa.text,[],!0,$a)),Ra.push(Fa);else if(Fa=this.tokenizer.strong(na,Ga,pa))na=na.substring(Fa.raw.length),Fa.tokens=this.inlineTokens(Fa.text,[],db,$a),Ra.push(Fa);else if(Fa=this.tokenizer.em(na,Ga,pa))na=na.substring(Fa.raw.length),
Fa.tokens=this.inlineTokens(Fa.text,[],db,$a),Ra.push(Fa);else if(Fa=this.tokenizer.codespan(na))na=na.substring(Fa.raw.length),Ra.push(Fa);else if(Fa=this.tokenizer.br(na))na=na.substring(Fa.raw.length),Ra.push(Fa);else if(Fa=this.tokenizer.del(na))na=na.substring(Fa.raw.length),Fa.tokens=this.inlineTokens(Fa.text,[],db,$a),Ra.push(Fa);else if(Fa=this.tokenizer.autolink(na,d))na=na.substring(Fa.raw.length),Ra.push(Fa);else if(!db&&(Fa=this.tokenizer.url(na,d)))na=na.substring(Fa.raw.length),Ra.push(Fa);
else if(Fa=this.tokenizer.inlineText(na,$a,g))na=na.substring(Fa.raw.length),pa=Fa.raw.slice(-1),Ua=!0,Ra.push(Fa);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);}return Ra};l(qa,null,[{key:"rules",get:function(){return{block:aa,inline:ta}}}]);return qa}(),kb=a.defaults,va=function(qa,Da,na){if(qa){try{var Ra=decodeURIComponent(x(na)).replace(z,"").toLowerCase()}catch(db){return null}if(0===Ra.indexOf("javascript:")||0===
Ra.indexOf("vbscript:")||0===Ra.indexOf("data:"))return null}Da&&!G.test(na)&&(qa=Da,K[" "+qa]||(R.test(qa)?K[" "+qa]=qa+"/":K[" "+qa]=v(qa,"/",!0)),qa=K[" "+qa],Da=-1===qa.indexOf(":"),na="//"===na.substring(0,2)?Da?na:qa.replace(T,"$1")+na:"/"===na.charAt(0)?Da?na:qa.replace(ja,"$1")+na:qa+na);try{na=encodeURI(na).replace(/%25/g,"%")}catch(db){return null}return na},Ta=function(){function qa(na){this.options=na||kb}var Da=qa.prototype;Da.code=function(na,Ra,db){Ra=(Ra||"").match(/\S*/)[0];if(this.options.highlight){var $a=
this.options.highlight(na,Ra);null!=$a&&$a!==na&&(db=!0,na=$a)}na=na.replace(/\n$/,"")+"\n";return Ra?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+fa(Ra,!0)+'"\x3e'+(db?na:fa(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(db?na:fa(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Da.blockquote=function(na){return"\x3cblockquote\x3e\n"+na+"\x3c/blockquote\x3e\n"};Da.html=function(na){return na};Da.heading=function(na,Ra,db,$a){return this.options.headerIds?"\x3ch"+Ra+' id\x3d"'+
this.options.headerPrefix+$a.slug(db)+'"\x3e'+na+"\x3c/h"+Ra+"\x3e\n":"\x3ch"+Ra+"\x3e"+na+"\x3c/h"+Ra+"\x3e\n"};Da.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};Da.list=function(na,Ra,db){var $a=Ra?"ol":"ul";return"\x3c"+$a+(Ra&&1!==db?' start\x3d"'+db+'"':"")+"\x3e\n"+na+"\x3c/"+$a+"\x3e\n"};Da.listitem=function(na){return"\x3cli\x3e"+na+"\x3c/li\x3e\n"};Da.checkbox=function(na){return"\x3cinput "+(na?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?
" /":"")+"\x3e "};Da.paragraph=function(na){return"\x3cp\x3e"+na+"\x3c/p\x3e\n"};Da.table=function(na,Ra){Ra&&(Ra="\x3ctbody\x3e"+Ra+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+na+"\x3c/thead\x3e\n"+Ra+"\x3c/table\x3e\n"};Da.tablerow=function(na){return"\x3ctr\x3e\n"+na+"\x3c/tr\x3e\n"};Da.tablecell=function(na,Ra){var db=Ra.header?"th":"td";return(Ra.align?"\x3c"+db+' align\x3d"'+Ra.align+'"\x3e':"\x3c"+db+"\x3e")+na+"\x3c/"+db+"\x3e\n"};Da.strong=function(na){return"\x3cstrong\x3e"+
na+"\x3c/strong\x3e"};Da.em=function(na){return"\x3cem\x3e"+na+"\x3c/em\x3e"};Da.codespan=function(na){return"\x3ccode\x3e"+na+"\x3c/code\x3e"};Da.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};Da.del=function(na){return"\x3cdel\x3e"+na+"\x3c/del\x3e"};Da.link=function(na,Ra,db){na=va(this.options.sanitize,this.options.baseUrl,na);if(null===na)return db;na='\x3ca href\x3d"'+fa(na)+'"';Ra&&(na+=' title\x3d"'+Ra+'"');return na+("\x3e"+db+"\x3c/a\x3e")};Da.image=function(na,Ra,db){na=
va(this.options.sanitize,this.options.baseUrl,na);if(null===na)return db;na='\x3cimg src\x3d"'+na+'" alt\x3d"'+db+'"';Ra&&(na+=' title\x3d"'+Ra+'"');return na+=this.options.xhtml?"/\x3e":"\x3e"};Da.text=function(na){return na};return qa}(),Ya=function(){function qa(){}var Da=qa.prototype;Da.strong=function(na){return na};Da.em=function(na){return na};Da.codespan=function(na){return na};Da.del=function(na){return na};Da.html=function(na){return na};Da.text=function(na){return na};Da.link=function(na,
Ra,db){return""+db};Da.image=function(na,Ra,db){return""+db};Da.br=function(){return""};return qa}(),Ca=function(){function qa(){this.seen={}}var Da=qa.prototype;Da.serialize=function(na){return na.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Da.getNextSafeSlug=function(na,Ra){var db=na,$a=0;if(this.seen.hasOwnProperty(db)){$a=this.seen[na];do $a++,db=na+"-"+$a;while(this.seen.hasOwnProperty(db))}Ra||
(this.seen[na]=$a,this.seen[db]=0);return db};Da.slug=function(na,Ra){void 0===Ra&&(Ra={});na=this.serialize(na);return this.getNextSafeSlug(na,Ra.dryrun)};return qa}(),ua=a.defaults,U=function(){function qa(na){this.options=na||ua;this.options.renderer=this.options.renderer||new Ta;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Ya;this.slugger=new Ca}qa.parse=function(na,Ra){return(new qa(Ra)).parse(na)};qa.parseInline=function(na,Ra){return(new qa(Ra)).parseInline(na)};
var Da=qa.prototype;Da.parse=function(na,Ra){void 0===Ra&&(Ra=!0);var db="",$a,Fa,Ga,pa,Ja=na.length;for($a=0;$a<Ja;$a++){var Ua=na[$a];switch(Ua.type){case "space":continue;case "hr":db+=this.renderer.hr();continue;case "heading":db+=this.renderer.heading(this.parseInline(Ua.tokens),Ua.depth,x(this.parseInline(Ua.tokens,this.textRenderer)),this.slugger);continue;case "code":db+=this.renderer.code(Ua.text,Ua.lang,Ua.escaped);continue;case "table":var jb=pa="";var Fb=Ua.header.length;for(Fa=0;Fa<Fb;Fa++)jb+=
this.renderer.tablecell(this.parseInline(Ua.tokens.header[Fa]),{header:!0,align:Ua.align[Fa]});pa+=this.renderer.tablerow(jb);var Xb="";Fb=Ua.cells.length;for(Fa=0;Fa<Fb;Fa++){var nc=Ua.tokens.cells[Fa];jb="";var md=nc.length;for(Ga=0;Ga<md;Ga++)jb+=this.renderer.tablecell(this.parseInline(nc[Ga]),{header:!1,align:Ua.align[Ga]});Xb+=this.renderer.tablerow(jb)}db+=this.renderer.table(pa,Xb);continue;case "blockquote":Xb=this.parse(Ua.tokens);db+=this.renderer.blockquote(Xb);continue;case "list":Ga=
Ua.ordered;md=Ua.start;nc=Ua.loose;Fb=Ua.items.length;Xb="";for(Fa=0;Fa<Fb;Fa++){pa=Ua.items[Fa];var pc=pa.checked;var Hc=pa.task;jb="";if(pa.task){var mb=this.renderer.checkbox(pc);nc?0<pa.tokens.length&&"text"===pa.tokens[0].type?(pa.tokens[0].text=mb+" "+pa.tokens[0].text,pa.tokens[0].tokens&&0<pa.tokens[0].tokens.length&&"text"===pa.tokens[0].tokens[0].type&&(pa.tokens[0].tokens[0].text=mb+" "+pa.tokens[0].tokens[0].text)):pa.tokens.unshift({type:"text",text:mb}):jb+=mb}jb+=this.parse(pa.tokens,
nc);Xb+=this.renderer.listitem(jb,Hc,pc)}db+=this.renderer.list(Xb,Ga,md);continue;case "html":db+=this.renderer.html(Ua.text);continue;case "paragraph":db+=this.renderer.paragraph(this.parseInline(Ua.tokens));continue;case "text":for(Xb=Ua.tokens?this.parseInline(Ua.tokens):Ua.text;$a+1<Ja&&"text"===na[$a+1].type;)Ua=na[++$a],Xb+="\n"+(Ua.tokens?this.parseInline(Ua.tokens):Ua.text);db+=Ra?this.renderer.paragraph(Xb):Xb;continue;default:na='Token with "'+Ua.type+'" type was not found.';if(this.options.silent){console.error(na);
return}throw Error(na);}}return db};Da.parseInline=function(na,Ra){Ra=Ra||this.renderer;var db="",$a,Fa=na.length;for($a=0;$a<Fa;$a++){var Ga=na[$a];switch(Ga.type){case "escape":db+=Ra.text(Ga.text);break;case "html":db+=Ra.html(Ga.text);break;case "link":db+=Ra.link(Ga.href,Ga.title,this.parseInline(Ga.tokens,Ra));break;case "image":db+=Ra.image(Ga.href,Ga.title,Ga.text);break;case "strong":db+=Ra.strong(this.parseInline(Ga.tokens,Ra));break;case "em":db+=Ra.em(this.parseInline(Ga.tokens,Ra));break;
case "codespan":db+=Ra.codespan(Ga.text);break;case "br":db+=Ra.br();break;case "del":db+=Ra.del(this.parseInline(Ga.tokens,Ra));break;case "text":db+=Ra.text(Ga.text);break;default:na='Token with "'+Ga.type+'" type was not found.';if(this.options.silent){console.error(na);return}throw Error(na);}}return db};return qa}(),W=ia,ba=function(qa){qa&&qa.sanitize&&!qa.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
ca=fa;ia=a.getDefaults;var ra=a.changeDefaults;a=a.defaults;f.options=f.setOptions=function(qa){W(f.defaults,qa);ra(f.defaults);return f};f.getDefaults=ia;f.defaults=a;f.use=function(qa){var Da=W({},qa);qa.renderer&&function(){var Ra=f.defaults.renderer||new Ta,db=function(Fa){var Ga=Ra[Fa];Ra[Fa]=function(){for(var pa=arguments.length,Ja=Array(pa),Ua=0;Ua<pa;Ua++)Ja[Ua]=arguments[Ua];pa=qa.renderer[Fa].apply(Ra,Ja);!1===pa&&(pa=Ga.apply(Ra,Ja));return pa}},$a;for($a in qa.renderer)db($a);Da.renderer=
Ra}();qa.tokenizer&&function(){var Ra=f.defaults.tokenizer||new C,db=function(Fa){var Ga=Ra[Fa];Ra[Fa]=function(){for(var pa=arguments.length,Ja=Array(pa),Ua=0;Ua<pa;Ua++)Ja[Ua]=arguments[Ua];pa=qa.tokenizer[Fa].apply(Ra,Ja);!1===pa&&(pa=Ga.apply(Ra,Ja));return pa}},$a;for($a in qa.tokenizer)db($a);Da.tokenizer=Ra}();if(qa.walkTokens){var na=f.defaults.walkTokens;Da.walkTokens=function(Ra){qa.walkTokens(Ra);na&&na(Ra)}}f.setOptions(Da)};f.walkTokens=function(qa,Da){qa=N(qa);for(var na;!(na=qa()).done;)switch(na=
na.value,Da(na),na.type){case "table":for(var Ra=N(na.tokens.header),db;!(db=Ra()).done;)f.walkTokens(db.value,Da);for(na=N(na.tokens.cells);!(Ra=na()).done;)for(Ra=N(Ra.value);!(db=Ra()).done;)f.walkTokens(db.value,Da);break;case "list":f.walkTokens(na.items,Da);break;default:na.tokens&&f.walkTokens(na.tokens,Da)}};f.parseInline=function(qa,Da){if("undefined"===typeof qa||null===qa)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(qa)+", string expected");Da=W({},f.defaults,Da||{});ba(Da);try{var na=bb.lexInline(qa,Da);Da.walkTokens&&f.walkTokens(na,Da.walkTokens);return U.parseInline(na,Da)}catch(Ra){Ra.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Da.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ca(Ra.message+"",!0)+"\x3c/pre\x3e";throw Ra;}};f.Parser=U;f.parser=U.parse;f.Renderer=Ta;f.TextRenderer=Ya;f.Lexer=bb;f.lexer=bb.lex;f.Tokenizer=C;f.Slugger=
Ca;return f.parse=f})};
shadow$provide[14]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={}))})(this,function(k){function l(ua,U,W){ua.fields=U||[];ua.fname=W;return ua}function w(ua){return null==ua?null:ua.fields}function H(ua){return 1===ua.length?R(ua[0]):T(ua)}function N(ua){throw Error(ua);}function x(ua){function U(){W.push(qa+ua.substring(Da,na));qa="";
Da=na+1}const W=[],ba=ua.length;let ca=null,ra=0,qa="",Da,na,Ra;ua+="";for(Da=na=0;na<ba;++na)(Ra=ua[na],"\\"===Ra)?(qa+=ua.substring(Da,na),qa+=ua.substring(++na,++na),Da=na):Ra===ca?(U(),ca=null,ra=-1):ca||(Da===ra&&'"'===Ra?(Da=na+1,ca=Ra):Da===ra&&"'"===Ra?(Da=na+1,ca=Ra):"."!==Ra||ra?"["===Ra?(na>Da&&U(),ra=Da=na+1):"]"===Ra&&(ra||N("Access path missing open bracket: "+ua),0<ra&&U(),ra=0,Da=na+1):na>Da?U():Da=na+1);ra&&N("Access path missing closing bracket: "+ua);ca&&N("Access path missing closing quote: "+
ua);na>Da&&(na++,U());return W}function v(ua,U,W){const ba=x(ua);ua=1===ba.length?ba[0]:ua;return l((W&&W.get||H)(ba),[ua],U||ua)}function u(ua,U,W){U=[U].concat([].slice.call(W));console[ua].apply(console,U)}function m(ua){return ua===Object(ua)}function g(ua,U,W,ba){if("__proto__"!==U){var ca;if(m(W)&&!C(W))for(ca in ua=m(ua[U])?ua[U]:ua[U]={},W)ba&&(!0===ba||ba[ca])?g(ua,ca,W[ca]):"__proto__"!==ca&&(ua[ca]=W[ca]);else ua[U]=W}}function d(ua,U){function W(ra){ba[ra.name]||(ba[ra.name]=1,ca.push(ra))}
if(null==ua)return U;const ba={},ca=[];U.forEach(W);ua.forEach(W);return ca}function f(ua){return ua[ua.length-1]}function a(ua){return null==ua||""===ua?null:+ua}function e(ua,U,W,ba){const ca=W(ua[0]);ua=W(f(ua));U*=ua-ca;return[ba(ca-U),ba(ua-U)]}function n(ua,U,W,ba,ca){const ra=ba(ua[0]);ua=ba(f(ua));U=null!=U?ba(U):(ra+ua)/2;return[ca(U+(ra-U)*W),ca(U+(ua-U)*W)]}function y(ua){return null!=ua?C(ua)?ua:[ua]:[]}function B(ua){return"function"===typeof ua}function D(ua){for(let U,W,ba=1,ca=arguments.length;ba<
ca;++ba)for(W in U=arguments[ba],U)ua[W]=U[W];return ua}function O(ua,U){return Ta.call(ua,U)}function M(ua){return"[object Date]"===Object.prototype.toString.call(ua)}function F(ua){return"number"===typeof ua}function z(ua){return"string"===typeof ua}function G(ua,U){let W="";for(;0<=--U;)W+=ua;return W}function K(ua){return C(ua)?"["+ua.map(K)+"]":m(ua)||z(ua)?JSON.stringify(ua).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ua}const R=ua=>function(U){return U[ua]},T=ua=>{const U=ua.length;
return function(W){for(let ba=0;ba<U;++ba)W=W[ua[ba]];return W}},ja=v("id"),fa=l(ua=>ua,[],"identity"),ia=l(()=>0,[],"zero"),la=l(()=>1,[],"one"),Z=l(()=>!0,[],"true"),P=l(()=>!1,[],"false");var C=Array.isArray;const V=ua=>U=>ua*Math.exp(U),ha=ua=>U=>Math.log(ua*U),aa=ua=>U=>Math.sign(U)*Math.log1p(Math.abs(U/ua)),ta=ua=>U=>Math.sign(U)*Math.expm1(Math.abs(U))*ua,wa=ua=>U=>0>U?-Math.pow(-U,ua):Math.pow(U,ua),Ha=(ua,U)=>(ua<U||null==ua)&&null!=U?-1:(ua>U||null==U)&&null!=ua?1:(U=U instanceof Date?
+U:U,ua=ua instanceof Date?+ua:ua)!==ua&&U===U?-1:U!==U&&ua===ua?1:0,bb=(ua,U)=>1===ua.length?kb(ua[0],U[0]):va(ua,U,ua.length),kb=(ua,U)=>function(W,ba){return Ha(ua(W),ua(ba))*U},va=(ua,U,W)=>{U.push(0);return function(ba,ca){var ra=0;let qa=-1;for(;0===ra&&++qa<W;)ra=ua[qa],ra=Ha(ra(ba),ra(ca));return ra*U[qa]}},Ta=Object.prototype.hasOwnProperty,Ya={},Ca=ua=>F(ua)?ua:M(ua)?ua:Date.parse(ua);k.Debug=4;k.Error=1;k.Info=3;k.None=0;k.Warn=2;k.accessor=l;k.accessorFields=w;k.accessorName=function(ua){return null==
ua?null:ua.fname};k.array=y;k.ascending=Ha;k.clampRange=function(ua,U,W){let ba=ua[0];ua=ua[1];let ca;ua<ba&&(ca=ua,ua=ba,ba=ca);ca=ua-ba;return ca>=W-U?[U,W]:[ba=Math.min(Math.max(ba,U),W-ca),ba+ca]};k.compare=function(ua,U,W){W=W||{};U=y(U)||[];const ba=[],ca=[],ra={},qa=W.comparator||bb;y(ua).forEach((Da,na)=>{null!=Da&&(ba.push("descending"===U[na]?-1:1),ca.push(Da=B(Da)?Da:v(Da,null,W)),(w(Da)||[]).forEach(Ra=>ra[Ra]=1))});return 0===ca.length?null:l(qa(ca,ba),Object.keys(ra))};k.constant=function(ua){return B(ua)?
ua:()=>ua};k.debounce=function(ua,U){let W;return ba=>{W&&clearTimeout(W);W=setTimeout(()=>(U(ba),W=null),ua)}};k.error=N;k.extend=D;k.extent=function(ua,U){let W=0,ba,ca,ra,qa;if(ua&&(ba=ua.length))if(null==U){for(ca=ua[W];W<ba&&(null==ca||ca!==ca);ca=ua[++W]);for(ra=qa=ca;W<ba;++W)ca=ua[W],null!=ca&&(ca<ra&&(ra=ca),ca>qa&&(qa=ca))}else{for(ca=U(ua[W]);W<ba&&(null==ca||ca!==ca);ca=U(ua[++W]));for(ra=qa=ca;W<ba;++W)ca=U(ua[W]),null!=ca&&(ca<ra&&(ra=ca),ca>qa&&(qa=ca))}return[ra,qa]};k.extentIndex=
function(ua,U){const W=ua.length;let ba=-1,ca,ra,qa,Da,na;if(null==U){for(;++ba<W;)if(ra=ua[ba],null!=ra&&ra>=ra){ca=qa=ra;break}if(ba===W)return[-1,-1];for(Da=na=ba;++ba<W;)ra=ua[ba],null!=ra&&(ca>ra&&(ca=ra,Da=ba),qa<ra&&(qa=ra,na=ba))}else{for(;++ba<W;)if(ra=U(ua[ba],ba,ua),null!=ra&&ra>=ra){ca=qa=ra;break}if(ba===W)return[-1,-1];for(Da=na=ba;++ba<W;)ra=U(ua[ba],ba,ua),null!=ra&&(ca>ra&&(ca=ra,Da=ba),qa<ra&&(qa=ra,na=ba))}return[Da,na]};k.falsy=P;k.fastmap=function(ua){function U(ra){return O(W,
ra)&&W[ra]!==Ya}let W={},ba;const ca={size:0,empty:0,object:W,has:U,get(ra){return U(ra)?W[ra]:void 0},set(ra,qa){U(ra)||(++ca.size,W[ra]===Ya&&--ca.empty);W[ra]=qa;return this},delete(ra){U(ra)&&(--ca.size,++ca.empty,W[ra]=Ya);return this},clear(){ca.size=ca.empty=0;ca.object=W={}},test(ra){return arguments.length?(ba=ra,ca):ba},clean(){const ra={};let qa=0;for(const Da in W){const na=W[Da];na===Ya||ba&&ba(na)||(ra[Da]=na,++qa)}ca.size=qa;ca.empty=0;ca.object=W=ra}};ua&&Object.keys(ua).forEach(ra=>
{ca.set(ra,ua[ra])});return ca};k.field=v;k.flush=function(ua,U,W,ba,ca,ra){if(!W&&0!==W)return ra;W=+W;let qa=ua[0],Da=f(ua);Da<qa&&(ua=qa,qa=Da,Da=ua);ua=Math.abs(U-qa);U=Math.abs(Da-U);return ua<U&&ua<=W?ba:U<=W?ca:ra};k.hasOwnProperty=O;k.id=ja;k.identity=fa;k.inherits=function(ua,U,W){U=ua.prototype=Object.create(U.prototype);U.constructor=ua;return D(U,W)};k.inrange=function(ua,U,W,ba){let ca=U[0];U=U[U.length-1];let ra;ca>U&&(ra=ca,ca=U,U=ra);return(void 0===W||W?ca<=ua:ca<ua)&&(void 0===ba||
ba?ua<=U:ua<U)};k.isArray=C;k.isBoolean=function(ua){return"boolean"===typeof ua};k.isDate=M;k.isFunction=B;k.isIterable=function(ua){return ua&&B(ua[Symbol.iterator])};k.isNumber=F;k.isObject=m;k.isRegExp=function(ua){return"[object RegExp]"===Object.prototype.toString.call(ua)};k.isString=z;k.key=function(ua,U,W){ua&&(ua=U?y(ua).map(ra=>ra.replace(/\\(.)/g,"$1")):y(ua));const ba=ua&&ua.length,ca=W&&W.get||H;W=ra=>ca(U?[ra]:x(ra));if(ba)if(1===ba){const ra=W(ua[0]);W=function(qa){return""+ra(qa)}}else{const ra=
ua.map(W);W=function(qa){let Da=""+ra[0](qa),na=0;for(;++na<ba;)Da+="|"+ra[na](qa);return Da}}else W=function(){return""};return l(W,ua,"key")};k.lerp=function(ua,U){const W=ua[0];ua=f(ua);return(U=+U)?1===U?ua:W+U*(ua-W):W};k.logger=function(ua,U){let W=ua||0;return{level(ba){return arguments.length?(W=+ba,this):W},error(){1<=W&&u(U||"error","ERROR",arguments);return this},warn(){2<=W&&u(U||"warn","WARN",arguments);return this},info(){3<=W&&u(U||"log","INFO",arguments);return this},debug(){4<=W&&
u(U||"log","DEBUG",arguments);return this}}};k.lruCache=function(ua){ua=+ua||1E4;let U,W,ba;const ca=()=>{U={};W={};ba=0},ra=(qa,Da)=>{++ba>ua&&(W=U,U={},ba=1);return U[qa]=Da};ca();return{clear:ca,has:qa=>O(U,qa)||O(W,qa),get:qa=>O(U,qa)?U[qa]:O(W,qa)?ra(qa,W[qa]):void 0,set:(qa,Da)=>O(U,qa)?U[qa]=Da:ra(qa,Da)}};k.merge=function(ua,U,W,ba){const ca=U.length,ra=W.length;if(!ra)return U;if(!ca)return W;ba=ba||new U.constructor(ca+ra);let qa=0,Da=0,na=0;for(;qa<ca&&Da<ra;++na)ba[na]=0<ua(U[qa],W[Da])?
W[Da++]:U[qa++];for(;qa<ca;++qa,++na)ba[na]=U[qa];for(;Da<ra;++Da,++na)ba[na]=W[Da];return ba};k.mergeConfig=function(...ua){return ua.reduce((U,W)=>{for(const ba in W)"signals"===ba?U.signals=d(U.signals,W.signals):g(U,ba,W[ba],"legend"===ba?{layout:1}:"style"===ba?!0:null);return U},{})};k.one=la;k.pad=function(ua,U,W,ba){W=W||" ";ua+="";U-=ua.length;return 0>=U?ua:"left"===ba?G(W,U)+ua:"center"===ba?G(W,~~(U/2))+ua+G(W,Math.ceil(U/2)):ua+G(W,U)};k.panLinear=function(ua,U){return e(ua,U,a,fa)};
k.panLog=function(ua,U){var W=Math.sign(ua[0]);return e(ua,U,ha(W),V(W))};k.panPow=function(ua,U,W){return e(ua,U,wa(W),wa(1/W))};k.panSymlog=function(ua,U,W){return e(ua,U,aa(W),ta(W))};k.peek=f;k.quarter=function(ua){return 1+~~((new Date(ua)).getMonth()/3)};k.repeat=G;k.span=function(ua){return ua&&f(ua)-ua[0]||0};k.splitAccessPath=x;k.stringValue=K;k.toBoolean=function(ua){return null==ua||""===ua?null:ua&&"false"!==ua&&"0"!==ua?!!ua:!1};k.toDate=function(ua,U){U=U||Ca;return null==ua||""===ua?
null:U(ua)};k.toNumber=a;k.toSet=function(ua){const U={},W=ua.length;for(let ba=0;ba<W;++ba)U[ua[ba]]=!0;return U};k.toString=function(ua){return null==ua||""===ua?null:ua+""};k.truncate=function(ua,U,W,ba){ba=null!=ba?ba:"";ua+="";const ca=ua.length,ra=Math.max(0,U-ba.length);return ca<=U?ua:"left"===W?ba+ua.slice(ca-ra):"center"===W?ua.slice(0,Math.ceil(ra/2))+ba+ua.slice(ca-~~(ra/2)):ua.slice(0,ra)+ba};k.truthy=Z;k.utcquarter=function(ua){return 1+~~((new Date(ua)).getUTCMonth()/3)};k.visitArray=
function(ua,U,W){if(ua)if(U){const ba=ua.length;for(let ca=0;ca<ba;++ca){const ra=U(ua[ca]);ra&&W(ra,ca,ua)}}else ua.forEach(W)};k.writeConfig=g;k.zero=ia;k.zoomLinear=function(ua,U,W){return n(ua,U,W,a,fa)};k.zoomLog=function(ua,U,W){const ba=Math.sign(ua[0]);return n(ua,U,W,ha(ba),V(ba))};k.zoomPow=function(ua,U,W,ba){return n(ua,U,W,wa(ba),wa(1/ba))};k.zoomSymlog=function(ua,U,W,ba){return n(ua,U,W,aa(ba),ta(ba))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[15]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(Fa,Ga){return Fa<Ga?-1:Fa>Ga?1:Fa>=Ga?0:NaN}function w(Fa){function Ga(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);for(;Fb<Xb;){const nc=Fb+Xb>>>1;0>Ja(Ua[nc],jb)?Fb=nc+1:Xb=nc}return Fb}let pa=Fa,Ja=Fa;1===Fa.length&&(pa=(Ua,
jb)=>Fa(Ua)-jb,Ja=H(Fa));return{left:Ga,center:function(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);Xb=Ga(Ua,jb,Fb,Xb-1);return Xb>Fb&&pa(Ua[Xb-1],jb)>-pa(Ua[Xb],jb)?Xb-1:Xb},right:function(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);for(;Fb<Xb;){const nc=Fb+Xb>>>1;0<Ja(Ua[nc],jb)?Xb=nc:Fb=nc+1}return Fb}}}function H(Fa){return(Ga,pa)=>l(Fa(Ga),pa)}function N(Fa){return null===Fa?NaN:+Fa}function*x(Fa,Ga){if(void 0===Ga)for(var pa of Fa)null!=pa&&(pa=+pa)>=pa&&(yield pa);else{pa=
-1;for(let Ja of Fa)null!=(Ja=Ga(Ja,++pa,Fa))&&(Ja=+Ja)>=Ja&&(yield Ja)}}function v(Fa,Ga){let pa=0;if(void 0===Ga)for(var Ja of Fa)null!=Ja&&(Ja=+Ja)>=Ja&&++pa;else{Ja=-1;for(let Ua of Fa)null!=(Ua=Ga(Ua,++Ja,Fa))&&(Ua=+Ua)>=Ua&&++pa}return pa}function u(Fa){return Fa.length|0}function m(Fa){return!(0<Fa)}function g(Fa){return"object"!==typeof Fa||"length"in Fa?Fa:Array.from(Fa)}function d(Fa){return Ga=>Fa(...Ga)}function f(Fa,Ga){let pa=0,Ja,Ua=0,jb=0;if(void 0===Ga)for(var Fb of Fa)null!=Fb&&
(Fb=+Fb)>=Fb&&(Ja=Fb-Ua,Ua+=Ja/++pa,jb+=Ja*(Fb-Ua));else{Fb=-1;for(let Xb of Fa)null!=(Xb=Ga(Xb,++Fb,Fa))&&(Xb=+Xb)>=Xb&&(Ja=Xb-Ua,Ua+=Ja/++pa,jb+=Ja*(Xb-Ua))}if(1<pa)return jb/(pa-1)}function a(Fa,Ga){return(Fa=f(Fa,Ga))?Math.sqrt(Fa):Fa}function e(Fa,Ga){let pa,Ja;if(void 0===Ga)for(var Ua of Fa)null!=Ua&&(void 0===pa?Ua>=Ua&&(pa=Ja=Ua):(pa>Ua&&(pa=Ua),Ja<Ua&&(Ja=Ua)));else{Ua=-1;for(let jb of Fa)null!=(jb=Ga(jb,++Ua,Fa))&&(void 0===pa?jb>=jb&&(pa=Ja=jb):(pa>jb&&(pa=jb),Ja<jb&&(Ja=jb)))}return[pa,
Ja]}function n({_intern:Fa,_key:Ga},pa){Ga=Ga(pa);return Fa.has(Ga)?Fa.get(Ga):pa}function y({_intern:Fa,_key:Ga},pa){Ga=Ga(pa);if(Fa.has(Ga))return Fa.get(Ga);Fa.set(Ga,pa);return pa}function B({_intern:Fa,_key:Ga},pa){Ga=Ga(pa);Fa.has(Ga)&&(pa=Fa.get(pa),Fa.delete(Ga));return pa}function D(Fa){return null!==Fa&&"object"===typeof Fa?Fa.valueOf():Fa}function O(Fa){return Fa}function M(Fa,...Ga){return G(Fa,O,O,Ga)}function F(Fa,Ga,...pa){return G(Fa,O,Ga,pa)}function z(Fa){if(1!==Fa.length)throw Error("duplicate key");
return Fa[0]}function G(Fa,Ga,pa,Ja){return function Xb(jb,Fb){if(Fb>=Ja.length)return pa(jb);const nc=new ra,md=Ja[Fb++];let pc=-1;for(const Hc of jb){const mb=md(Hc,++pc,jb),hc=nc.get(mb);hc?hc.push(Hc):nc.set(mb,[Hc])}for(const [Hc,mb]of nc)nc.set(Hc,Xb(mb,Fb));return Ga(nc)}(Fa,0)}function K(Fa,Ga){return Array.from(Ga,pa=>Fa[pa])}function R(Fa,...Ga){if("function"!==typeof Fa[Symbol.iterator])throw new TypeError("values is not iterable");Fa=Array.from(Fa);let [pa=l]=Ga;if(1===pa.length||1<Ga.length){const Ja=
Uint32Array.from(Fa,(Ua,jb)=>jb);1<Ga.length?(Ga=Ga.map(Ua=>Fa.map(Ua)),Ja.sort((Ua,jb)=>{for(const Fb of Ga){const Xb=l(Fb[Ua],Fb[jb]);if(Xb)return Xb}})):(pa=Fa.map(pa),Ja.sort((Ua,jb)=>l(pa[Ua],pa[jb])));return K(Fa,Ja)}return Fa.sort(pa)}function T(Fa){return function(){return Fa}}function ja(Fa,Ga,pa){var Ja,Ua=-1,jb;Ga=+Ga;Fa=+Fa;pa=+pa;if(Fa===Ga&&0<pa)return[Fa];if(Ja=Ga<Fa){var Fb=Fa;Fa=Ga;Ga=Fb}if(0===(jb=fa(Fa,Ga,pa))||!isFinite(jb))return[];if(0<jb)for(Fa=Math.ceil(Fa/jb),Ga=Math.floor(Ga/
jb),Ga=Array(Fb=Math.ceil(Ga-Fa+1));++Ua<Fb;)Ga[Ua]=(Fa+Ua)*jb;else for(jb=-jb,Fa=Math.ceil(Fa*jb),Ga=Math.floor(Ga*jb),Ga=Array(Fb=Math.ceil(Ga-Fa+1));++Ua<Fb;)Ga[Ua]=(Fa+Ua)/jb;Ja&&Ga.reverse();return Ga}function fa(Fa,Ga,pa){Ga=(Ga-Fa)/Math.max(0,pa);Fa=Math.floor(Math.log(Ga)/Math.LN10);Ga/=Math.pow(10,Fa);return 0<=Fa?(Ga>=na?10:Ga>=Ra?5:Ga>=db?2:1)*Math.pow(10,Fa):-Math.pow(10,-Fa)/(Ga>=na?10:Ga>=Ra?5:Ga>=db?2:1)}function ia(Fa,Ga,pa){let Ja;for(;;){const Ua=fa(Fa,Ga,pa);if(Ua===Ja||0===Ua||
!isFinite(Ua))return[Fa,Ga];0<Ua?(Fa=Math.floor(Fa/Ua)*Ua,Ga=Math.ceil(Ga/Ua)*Ua):0>Ua&&(Fa=Math.ceil(Fa*Ua)/Ua,Ga=Math.floor(Ga*Ua)/Ua);Ja=Ua}}function la(Fa){return Math.ceil(Math.log(v(Fa))/Math.LN2)+1}function Z(){function Fa(Ua){Array.isArray(Ua)||(Ua=Array.from(Ua));var jb,Fb=Ua.length,Xb=Array(Fb);for(jb=0;jb<Fb;++jb)Xb[jb]=Ga(Ua[jb],jb,Ua);var nc=pa(Xb),md=nc[0];nc=nc[1];var pc=Ja(Xb,md,nc);if(!Array.isArray(pc)){jb=nc;var Hc=+pc;pa===e&&([md,nc]=ia(md,nc,Hc));pc=ja(md,nc,Hc);pc[pc.length-
1]>=nc&&(jb>=nc&&pa===e?(jb=fa(md,nc,Hc),isFinite(jb)&&(0<jb?nc=(Math.floor(nc/jb)+1)*jb:0>jb&&(nc=(Math.ceil(nc*-jb)+1)/-jb))):pc.pop())}for(Hc=pc.length;pc[0]<=md;)pc.shift(),--Hc;for(;pc[Hc-1]>nc;)pc.pop(),--Hc;var mb=Array(Hc+1);for(jb=0;jb<=Hc;++jb){var hc=mb[jb]=[];hc.x0=0<jb?pc[jb-1]:md;hc.x1=jb<Hc?pc[jb]:nc}for(jb=0;jb<Fb;++jb)hc=Xb[jb],md<=hc&&hc<=nc&&mb[W(pc,hc,0,Hc)].push(Ua[jb]);return mb}var Ga=O,pa=e,Ja=la;Fa.value=function(Ua){return arguments.length?(Ga="function"===typeof Ua?Ua:T(Ua),
Fa):Ga};Fa.domain=function(Ua){return arguments.length?(pa="function"===typeof Ua?Ua:T([Ua[0],Ua[1]]),Fa):pa};Fa.thresholds=function(Ua){return arguments.length?(Ja="function"===typeof Ua?Ua:Array.isArray(Ua)?T(Da.call(Ua)):T(Ua),Fa):Ja};return Fa}function P(Fa,Ga){let pa;if(void 0===Ga)for(var Ja of Fa)null!=Ja&&(pa<Ja||void 0===pa&&Ja>=Ja)&&(pa=Ja);else{Ja=-1;for(let Ua of Fa)null!=(Ua=Ga(Ua,++Ja,Fa))&&(pa<Ua||void 0===pa&&Ua>=Ua)&&(pa=Ua)}return pa}function C(Fa,Ga){let pa;if(void 0===Ga)for(var Ja of Fa)null!=
Ja&&(pa>Ja||void 0===pa&&Ja>=Ja)&&(pa=Ja);else{Ja=-1;for(let Ua of Fa)null!=(Ua=Ga(Ua,++Ja,Fa))&&(pa>Ua||void 0===pa&&Ua>=Ua)&&(pa=Ua)}return pa}function V(Fa,Ga,pa=0,Ja=Fa.length-1,Ua=l){for(;Ja>pa;){if(600<Ja-pa){var jb=Ja-pa+1,Fb=Ga-pa+1,Xb=Math.log(jb),nc=.5*Math.exp(2*Xb/3);Xb=.5*Math.sqrt(Xb*nc*(jb-nc)/jb)*(0>Fb-jb/2?-1:1);V(Fa,Ga,Math.max(pa,Math.floor(Ga-Fb*nc/jb+Xb)),Math.min(Ja,Math.floor(Ga+(jb-Fb)*nc/jb+Xb)),Ua)}jb=Fa[Ga];Fb=pa;nc=Ja;ha(Fa,pa,Ga);for(0<Ua(Fa[Ja],jb)&&ha(Fa,pa,Ja);Fb<nc;){ha(Fa,
Fb,nc);++Fb;for(--nc;0>Ua(Fa[Fb],jb);)++Fb;for(;0<Ua(Fa[nc],jb);)--nc}0===Ua(Fa[pa],jb)?ha(Fa,pa,nc):(++nc,ha(Fa,nc,Ja));nc<=Ga&&(pa=nc+1);Ga<=nc&&(Ja=nc-1)}return Fa}function ha(Fa,Ga,pa){const Ja=Fa[Ga];Fa[Ga]=Fa[pa];Fa[pa]=Ja}function aa(Fa,Ga,pa){Fa=Float64Array.from(x(Fa,pa));if(pa=Fa.length){if(0>=(Ga=+Ga)||2>pa)return C(Fa);if(1<=Ga)return P(Fa);Ga*=pa-1;pa=Math.floor(Ga);var Ja=P(V(Fa,pa).subarray(0,pa+1));Fa=C(Fa.subarray(pa+1));return Ja+(Fa-Ja)*(Ga-pa)}}function ta(Fa,Ga){let pa,Ja=-1,
Ua=-1;if(void 0===Ga)for(const jb of Fa)++Ua,null!=jb&&(pa<jb||void 0===pa&&jb>=jb)&&(pa=jb,Ja=Ua);else for(let jb of Fa)null!=(jb=Ga(jb,++Ua,Fa))&&(pa<jb||void 0===pa&&jb>=jb)&&(pa=jb,Ja=Ua);return Ja}function*wa(Fa){for(const Ga of Fa)yield*Ga}function Ha(Fa,Ga){let pa,Ja=-1,Ua=-1;if(void 0===Ga)for(const jb of Fa)++Ua,null!=jb&&(pa>jb||void 0===pa&&jb>=jb)&&(pa=jb,Ja=Ua);else for(let jb of Fa)null!=(jb=Ga(jb,++Ua,Fa))&&(pa>jb||void 0===pa&&jb>=jb)&&(pa=jb,Ja=Ua);return Ja}function bb(Fa,Ga){return[Fa,
Ga]}function kb(Fa,Ga=l){if(1===Ga.length)return Ha(Fa,Ga);let pa,Ja=-1,Ua=-1;for(const jb of Fa)if(++Ua,0>Ja?0===Ga(jb,jb):0>Ga(jb,pa))pa=jb,Ja=Ua;return Ja}function va(Fa){return function(Ga,pa=0,Ja=Ga.length){for(Ja-=pa=+pa;Ja;){const Ua=Fa()*Ja--|0,jb=Ga[Ja+pa];Ga[Ja+pa]=Ga[Ua+pa];Ga[Ua+pa]=jb}return Ga}}function Ta(Fa){if(!(jb=Fa.length))return[];for(var Ga=-1,pa=C(Fa,Ya),Ja=Array(pa);++Ga<pa;)for(var Ua=-1,jb,Fb=Ja[Ga]=Array(jb);++Ua<jb;)Fb[Ua]=Fa[Ua][Ga];return Ja}function Ya(Fa){return Fa.length}
function Ca(Fa){return Fa instanceof Set?Fa:new Set(Fa)}function ua(Fa,Ga){Fa=Fa[Symbol.iterator]();const pa=new Set;for(const Ja of Ga){if(pa.has(Ja))continue;let Ua;for(;{value:Ga,done:Ua}=Fa.next();){if(Ua)return!1;pa.add(Ga);if(Object.is(Ja,Ga))break}}return!0}var U=w(l);const W=U.right;U=U.left;const ba=w(N).center;class ca{constructor(){this._partials=new Float64Array(32);this._n=0}add(Fa){const Ga=this._partials;let pa=0;for(let Ja=0;Ja<this._n&&32>Ja;Ja++){const Ua=Ga[Ja],jb=Fa+Ua;(Fa=Math.abs(Fa)<
Math.abs(Ua)?Fa-(jb-Ua):Ua-(jb-Fa))&&(Ga[pa++]=Fa);Fa=jb}Ga[pa]=Fa;this._n=pa+1;return this}valueOf(){const Fa=this._partials;let Ga=this._n;let pa,Ja=0;if(0<Ga){for(Ja=Fa[--Ga];0<Ga;){var Ua=Ja;pa=Fa[--Ga];Ja=Ua+pa;if(Ua=pa-(Ja-Ua))break}0<Ga&&(0>Ua&&0>Fa[Ga-1]||0<Ua&&0<Fa[Ga-1])&&(pa=2*Ua,Ua=Ja+pa,pa==Ua-Ja&&(Ja=Ua))}return Ja}}class ra extends Map{constructor(Fa=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const [pa,Ja]of Fa)this.set(pa,Ja)}get(Fa){return super.get(n(this,
Fa))}has(Fa){return super.has(n(this,Fa))}set(Fa,Ga){return super.set(y(this,Fa),Ga)}delete(Fa){return super.delete(B(this,Fa))}}class qa extends Set{constructor(Fa=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const pa of Fa)this.add(pa)}has(Fa){return super.has(n(this,Fa))}add(Fa){return super.add(y(this,Fa))}delete(Fa){return super.delete(B(this,Fa))}}var Da=Array.prototype.slice,na=Math.sqrt(50),Ra=Math.sqrt(10),db=Math.sqrt(2),$a=va(Math.random);
k.Adder=ca;k.InternMap=ra;k.InternSet=qa;k.ascending=l;k.bin=Z;k.bisect=W;k.bisectCenter=ba;k.bisectLeft=U;k.bisectRight=W;k.bisector=w;k.count=v;k.cross=function(...Fa){const Ga="function"===typeof Fa[Fa.length-1]&&d(Fa.pop());Fa=Fa.map(g);const pa=Fa.map(u),Ja=Fa.length-1,Ua=Array(Ja+1).fill(0),jb=[];if(0>Ja||pa.some(m))return jb;for(;;){jb.push(Ua.map((Xb,nc)=>Fa[nc][Xb]));let Fb=Ja;for(;++Ua[Fb]===pa[Fb];){if(0===Fb)return Ga?jb.map(Ga):jb;Ua[Fb--]=0}}};k.cumsum=function(Fa,Ga){var pa=0,Ja=0;
return Float64Array.from(Fa,void 0===Ga?Ua=>pa+=+Ua||0:Ua=>pa+=+Ga(Ua,Ja++,Fa)||0)};k.descending=function(Fa,Ga){return Ga<Fa?-1:Ga>Fa?1:Ga>=Fa?0:NaN};k.deviation=a;k.difference=function(Fa,...Ga){Fa=new Set(Fa);for(const pa of Ga)for(const Ja of pa)Fa.delete(Ja);return Fa};k.disjoint=function(Fa,Ga){Ga=Ga[Symbol.iterator]();const pa=new Set;for(const Ja of Fa){if(pa.has(Ja))return!1;let Ua;for(;({value:Fa,done:Ua}=Ga.next())&&!Ua;){if(Object.is(Ja,Fa))return!1;pa.add(Fa)}}return!0};k.every=function(Fa,
Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let pa=-1;for(const Ja of Fa)if(!Ga(Ja,++pa,Fa))return!1;return!0};k.extent=e;k.filter=function(Fa,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");const pa=[];let Ja=-1;for(const Ua of Fa)Ga(Ua,++Ja,Fa)&&pa.push(Ua);return pa};k.fsum=function(Fa,Ga){const pa=new ca;if(void 0===Ga)for(var Ja of Fa)(Ja=+Ja)&&pa.add(Ja);else{Ja=-1;for(let Ua of Fa)(Ua=+Ga(Ua,++Ja,Fa))&&pa.add(Ua)}return+pa};k.greatest=
function(Fa,Ga=l){let pa,Ja=!1;if(1===Ga.length){let Ua;for(const jb of Fa)if(Fa=Ga(jb),Ja?0<l(Fa,Ua):0===l(Fa,Fa))pa=jb,Ua=Fa,Ja=!0}else for(const Ua of Fa)if(Ja?0<Ga(Ua,pa):0===Ga(Ua,Ua))pa=Ua,Ja=!0;return pa};k.greatestIndex=function(Fa,Ga=l){if(1===Ga.length)return ta(Fa,Ga);let pa,Ja=-1,Ua=-1;for(const jb of Fa)if(++Ua,0>Ja?0===Ga(jb,jb):0<Ga(jb,pa))pa=jb,Ja=Ua;return Ja};k.group=M;k.groupSort=function(Fa,Ga,pa){return(1===Ga.length?R(F(Fa,Ga,pa),([Ja,Ua],[jb,Fb])=>l(Ua,Fb)||l(Ja,jb)):R(M(Fa,
pa),([Ja,Ua],[jb,Fb])=>Ga(Ua,Fb)||l(Ja,jb))).map(([Ja])=>Ja)};k.groups=function(Fa,...Ga){return G(Fa,Array.from,O,Ga)};k.histogram=Z;k.index=function(Fa,...Ga){return G(Fa,O,z,Ga)};k.indexes=function(Fa,...Ga){return G(Fa,Array.from,z,Ga)};k.intersection=function(Fa,...Ga){Fa=new Set(Fa);Ga=Ga.map(Ca);a:for(const pa of Fa)for(const Ja of Ga)if(!Ja.has(pa)){Fa.delete(pa);continue a}return Fa};k.least=function(Fa,Ga=l){let pa,Ja=!1;if(1===Ga.length){let Ua;for(const jb of Fa)if(Fa=Ga(jb),Ja?0>l(Fa,
Ua):0===l(Fa,Fa))pa=jb,Ua=Fa,Ja=!0}else for(const Ua of Fa)if(Ja?0>Ga(Ua,pa):0===Ga(Ua,Ua))pa=Ua,Ja=!0;return pa};k.leastIndex=kb;k.map=function(Fa,Ga){if("function"!==typeof Fa[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof Ga)throw new TypeError("mapper is not a function");return Array.from(Fa,(pa,Ja)=>Ga(pa,Ja,Fa))};k.max=P;k.maxIndex=ta;k.mean=function(Fa,Ga){let pa=0,Ja=0;if(void 0===Ga)for(var Ua of Fa)null!=Ua&&(Ua=+Ua)>=Ua&&(++pa,Ja+=Ua);else{Ua=-1;for(let jb of Fa)null!=
(jb=Ga(jb,++Ua,Fa))&&(jb=+jb)>=jb&&(++pa,Ja+=jb)}if(pa)return Ja/pa};k.median=function(Fa,Ga){return aa(Fa,.5,Ga)};k.merge=function(Fa){return Array.from(wa(Fa))};k.min=C;k.minIndex=Ha;k.nice=ia;k.pairs=function(Fa,Ga=bb){const pa=[];let Ja,Ua=!1;for(const jb of Fa)Ua&&pa.push(Ga(Ja,jb)),Ja=jb,Ua=!0;return pa};k.permute=K;k.quantile=aa;k.quantileSorted=function(Fa,Ga,pa=N){if(Ja=Fa.length){if(0>=(Ga=+Ga)||2>Ja)return+pa(Fa[0],0,Fa);if(1<=Ga)return+pa(Fa[Ja-1],Ja-1,Fa);var Ja;Ga*=Ja-1;Ja=Math.floor(Ga);
var Ua=+pa(Fa[Ja],Ja,Fa);Fa=+pa(Fa[Ja+1],Ja+1,Fa);return Ua+(Fa-Ua)*(Ga-Ja)}};k.quickselect=V;k.range=function(Fa,Ga,pa){Fa=+Fa;Ga=+Ga;pa=2>(Ua=arguments.length)?(Ga=Fa,Fa=0,1):3>Ua?1:+pa;for(var Ja=-1,Ua=Math.max(0,Math.ceil((Ga-Fa)/pa))|0,jb=Array(Ua);++Ja<Ua;)jb[Ja]=Fa+Ja*pa;return jb};k.reduce=function(Fa,Ga,pa){if("function"!==typeof Ga)throw new TypeError("reducer is not a function");const Ja=Fa[Symbol.iterator]();let Ua,jb,Fb=-1;if(3>arguments.length){({done:Ua,value:pa}=Ja.next());if(Ua)return;
++Fb}for(;{done:Ua,value:jb}=Ja.next(),!Ua;)pa=Ga(pa,jb,++Fb,Fa);return pa};k.reverse=function(Fa){if("function"!==typeof Fa[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Fa).reverse()};k.rollup=F;k.rollups=function(Fa,Ga,...pa){return G(Fa,Array.from,Ga,pa)};k.scan=function(Fa,Ga){Fa=kb(Fa,Ga);return 0>Fa?void 0:Fa};k.shuffle=$a;k.shuffler=va;k.some=function(Fa,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let pa=-1;for(const Ja of Fa)if(Ga(Ja,
++pa,Fa))return!0;return!1};k.sort=R;k.subset=function(Fa,Ga){return ua(Ga,Fa)};k.sum=function(Fa,Ga){let pa=0;if(void 0===Ga)for(var Ja of Fa){if(Ja=+Ja)pa+=Ja}else{Ja=-1;for(let Ua of Fa)if(Ua=+Ga(Ua,++Ja,Fa))pa+=Ua}return pa};k.superset=ua;k.thresholdFreedmanDiaconis=function(Fa,Ga,pa){return Math.ceil((pa-Ga)/(2*(aa(Fa,.75)-aa(Fa,.25))*Math.pow(v(Fa),-1/3)))};k.thresholdScott=function(Fa,Ga,pa){return Math.ceil((pa-Ga)/(3.5*a(Fa)*Math.pow(v(Fa),-1/3)))};k.thresholdSturges=la;k.tickIncrement=fa;
k.tickStep=function(Fa,Ga,pa){var Ja=Math.abs(Ga-Fa)/Math.max(0,pa);pa=Math.pow(10,Math.floor(Math.log(Ja)/Math.LN10));Ja/=pa;Ja>=na?pa*=10:Ja>=Ra?pa*=5:Ja>=db&&(pa*=2);return Ga<Fa?-pa:pa};k.ticks=ja;k.transpose=Ta;k.union=function(...Fa){const Ga=new Set;for(const pa of Fa)for(const Ja of pa)Ga.add(Ja);return Ga};k.variance=f;k.zip=function(){return Ta(arguments)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[16]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(D,O){if(0>(O=(D=O?D.toExponential(O-1):D.toExponential()).indexOf("e")))return null;var M=D.slice(0,O);return[1<M.length?M[0]+M.slice(2):M,+D.slice(O+1)]}function w(D){return D=l(Math.abs(D)),D?D[1]:NaN}function H(D,O){return function(M,
F){for(var z=M.length,G=[],K=0,R=D[0],T=0;0<z&&0<R;){T+R+1>F&&(R=Math.max(1,F-T));G.push(M.substring(z-=R,z+R));if((T+=R+1)>F)break;R=D[K=(K+1)%D.length]}return G.reverse().join(O)}}function N(D){return function(O){return O.replace(/[0-9]/g,function(M){return D[+M]})}}function x(D){if(!(O=f.exec(D)))throw Error("invalid format: "+D);var O;return new v({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}function v(D){this.fill=
void 0===D.fill?" ":D.fill+"";this.align=void 0===D.align?"\x3e":D.align+"";this.sign=void 0===D.sign?"-":D.sign+"";this.symbol=void 0===D.symbol?"":D.symbol+"";this.zero=!!D.zero;this.width=void 0===D.width?void 0:+D.width;this.comma=!!D.comma;this.precision=void 0===D.precision?void 0:+D.precision;this.trim=!!D.trim;this.type=void 0===D.type?"":D.type+""}function u(D,O){O=l(D,O);if(!O)return D+"";D=O[0];O=O[1];return 0>O?"0."+Array(-O).join("0")+D:D.length>O+1?D.slice(0,O+1)+"."+D.slice(O+1):D+
Array(O-D.length+2).join("0")}function m(D){return D}function g(D){function O(fa){function ia(Ya){var Ca=bb,ua=kb,U,W;if("c"===Ha)ua=va(Ya)+ua,Ya="";else{Ya=+Ya;var ba=0>Ya||0>1/Ya;Ya=isNaN(Ya)?ja:va(Math.abs(Ya),ta);if(wa){var ca=Ya.length,ra=1,qa=-1;a:for(;ra<ca;++ra)switch(Ya[ra]){case ".":qa=U=ra;break;case "0":0===qa&&(qa=ra);U=ra;break;default:if(!+Ya[ra])break a;0<qa&&(qa=0)}Ya=0<qa?Ya.slice(0,qa)+Ya.slice(U+1):Ya}ba&&0===+Ya&&"+"!==P&&(ba=!1);Ca=(ba?"("===P?P:T:"-"===P||"("===P?"":P)+Ca;ua=
("s"===Ha?y[8+a/3]:"")+ua+(ba&&"("===P?")":"");if(Ta)for(ba=-1,U=Ya.length;++ba<U;)if(W=Ya.charCodeAt(ba),48>W||57<W){ua=(46===W?G+Ya.slice(ba+1):Ya.slice(ba))+ua;Ya=Ya.slice(0,ba);break}}aa&&!V&&(Ya=M(Ya,Infinity));W=Ca.length+Ya.length+ua.length;ba=W<ha?Array(ha-W+1).join(la):"";aa&&V&&(Ya=M(ba+Ya,ba.length?ha-ua.length:Infinity),ba="");switch(Z){case "\x3c":Ya=Ca+Ya+ua+ba;break;case "\x3d":Ya=Ca+ba+Ya+ua;break;case "^":Ya=ba.slice(0,W=ba.length>>1)+Ca+Ya+ua+ba.slice(W);break;default:Ya=ba+Ca+Ya+
ua}return K(Ya)}fa=x(fa);var la=fa.fill,Z=fa.align,P=fa.sign,C=fa.symbol,V=fa.zero,ha=fa.width,aa=fa.comma,ta=fa.precision,wa=fa.trim,Ha=fa.type;"n"===Ha?(aa=!0,Ha="g"):e[Ha]||(void 0===ta&&(ta=12),wa=!0,Ha="g");if(V||"0"===la&&"\x3d"===Z)V=!0,la="0",Z="\x3d";var bb="$"===C?F:"#"===C&&/[boxX]/.test(Ha)?"0"+Ha.toLowerCase():"",kb="$"===C?z:/[%p]/.test(Ha)?R:"",va=e[Ha],Ta=/[defgprs%]/.test(Ha);ta=void 0===ta?6:/[gprs]/.test(Ha)?Math.max(1,Math.min(21,ta)):Math.max(0,Math.min(20,ta));ia.toString=function(){return fa+
""};return ia}var M=void 0===D.grouping||void 0===D.thousands?m:H(n.call(D.grouping,Number),D.thousands+""),F=void 0===D.currency?"":D.currency[0]+"",z=void 0===D.currency?"":D.currency[1]+"",G=void 0===D.decimal?".":D.decimal+"",K=void 0===D.numerals?m:N(n.call(D.numerals,String)),R=void 0===D.percent?"%":D.percent+"",T=void 0===D.minus?"":D.minus+"",ja=void 0===D.nan?"NaN":D.nan+"";return{format:O,formatPrefix:function(fa,ia){var la=O((fa=x(fa),fa.type="f",fa));fa=3*Math.max(-8,Math.min(8,Math.floor(w(ia)/
3)));var Z=Math.pow(10,-fa),P=y[8+fa/3];return function(C){return la(Z*C)+P}}}}function d(D){B=g(D);k.format=B.format;k.formatPrefix=B.formatPrefix;return B}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;x.prototype=v.prototype;v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var a,e={"%":(D,O)=>(100*D).toFixed(O),b:D=>Math.round(D).toString(2),c:D=>D+"",d:function(D){return 1E21<=Math.abs(D=Math.round(D))?D.toLocaleString("en").replace(/,/g,""):D.toString(10)},e:(D,O)=>D.toExponential(O),f:(D,O)=>D.toFixed(O),g:(D,O)=>D.toPrecision(O),o:D=>Math.round(D).toString(8),p:(D,O)=>u(100*D,O),r:u,s:function(D,O){var M=l(D,O);if(!M)return D+"";var F=M[0];M=M[1];M=M-(a=3*Math.max(-8,Math.min(8,Math.floor(M/3))))+1;var z=F.length;return M===z?F:M>z?F+Array(M-
z+1).join("0"):0<M?F.slice(0,M)+"."+F.slice(M):"0."+Array(1-M).join("0")+l(D,Math.max(0,O+M-1))[0]},X:D=>Math.round(D).toString(16).toUpperCase(),x:D=>Math.round(D).toString(16)},n=Array.prototype.map,y="y z a f p n  m  k M G T P E Z Y".split(" "),B;d({thousands:",",grouping:[3],currency:["$",""]});k.FormatSpecifier=v;k.formatDefaultLocale=d;k.formatLocale=g;k.formatSpecifier=x;k.precisionFixed=function(D){return Math.max(0,-w(Math.abs(D)))};k.precisionPrefix=function(D,O){return Math.max(0,3*Math.max(-8,
Math.min(8,Math.floor(w(O)/3)))-w(Math.abs(D)))};k.precisionRound=function(D,O){D=Math.abs(D);O=Math.abs(O)-D;return Math.max(0,w(O)-w(D))+1};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(Ga,pa,Ja,Ua){function jb(Fb){return Ga(Fb=0===arguments.length?new Date:new Date(+Fb)),Fb}jb.floor=function(Fb){return Ga(Fb=new Date(+Fb)),Fb};jb.ceil=function(Fb){return Ga(Fb=new Date(Fb-1)),pa(Fb,1),Ga(Fb),Fb};jb.round=function(Fb){var Xb=jb(Fb),nc=jb.ceil(Fb);return Fb-Xb<
nc-Fb?Xb:nc};jb.offset=function(Fb,Xb){return pa(Fb=new Date(+Fb),null==Xb?1:Math.floor(Xb)),Fb};jb.range=function(Fb,Xb,nc){var md=[],pc;Fb=jb.ceil(Fb);nc=null==nc?1:Math.floor(nc);if(!(Fb<Xb&&0<nc))return md;do md.push(pc=new Date(+Fb)),pa(Fb,nc),Ga(Fb);while(pc<Fb&&Fb<Xb);return md};jb.filter=function(Fb){return l(function(Xb){if(Xb>=Xb)for(;Ga(Xb),!Fb(Xb);)Xb.setTime(Xb-1)},function(Xb,nc){if(Xb>=Xb)if(0>nc)for(;0>=++nc;)for(;pa(Xb,-1),!Fb(Xb););else for(;0<=--nc;)for(;pa(Xb,1),!Fb(Xb););})};
Ja&&(jb.count=function(Fb,Xb){N.setTime(+Fb);x.setTime(+Xb);Ga(N);Ga(x);return Math.floor(Ja(N,x))},jb.every=function(Fb){Fb=Math.floor(Fb);return isFinite(Fb)&&0<Fb?1<Fb?jb.filter(Ua?function(Xb){return 0===Ua(Xb)%Fb}:function(Xb){return 0===jb.count(0,Xb)%Fb}):jb:null});return jb}function w(Ga){return l(function(pa){pa.setDate(pa.getDate()-(pa.getDay()+7-Ga)%7);pa.setHours(0,0,0,0)},function(pa,Ja){pa.setDate(pa.getDate()+7*Ja)},function(pa,Ja){return(Ja-pa-6E4*(Ja.getTimezoneOffset()-pa.getTimezoneOffset()))/
6048E5})}function H(Ga){return l(function(pa){pa.setUTCDate(pa.getUTCDate()-(pa.getUTCDay()+7-Ga)%7);pa.setUTCHours(0,0,0,0)},function(pa,Ja){pa.setUTCDate(pa.getUTCDate()+7*Ja)},function(pa,Ja){return(Ja-pa)/6048E5})}var N=new Date,x=new Date,v=l(function(){},function(Ga,pa){Ga.setTime(+Ga+pa)},function(Ga,pa){return pa-Ga});v.every=function(Ga){Ga=Math.floor(Ga);return isFinite(Ga)&&0<Ga?1<Ga?l(function(pa){pa.setTime(Math.floor(pa/Ga)*Ga)},function(pa,Ja){pa.setTime(+pa+Ja*Ga)},function(pa,Ja){return(Ja-
pa)/Ga}):v:null};var u=v.range,m=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds())},function(Ga,pa){Ga.setTime(+Ga+1E3*pa)},function(Ga,pa){return(pa-Ga)/1E3},function(Ga){return Ga.getUTCSeconds()}),g=m.range,d=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds())},function(Ga,pa){Ga.setTime(+Ga+6E4*pa)},function(Ga,pa){return(pa-Ga)/6E4},function(Ga){return Ga.getMinutes()}),f=d.range,a=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds()-6E4*Ga.getMinutes())},
function(Ga,pa){Ga.setTime(+Ga+36E5*pa)},function(Ga,pa){return(pa-Ga)/36E5},function(Ga){return Ga.getHours()}),e=a.range,n=l(Ga=>Ga.setHours(0,0,0,0),(Ga,pa)=>Ga.setDate(Ga.getDate()+pa),(Ga,pa)=>(pa-Ga-6E4*(pa.getTimezoneOffset()-Ga.getTimezoneOffset()))/864E5,Ga=>Ga.getDate()-1),y=n.range,B=w(0),D=w(1),O=w(2),M=w(3),F=w(4),z=w(5),G=w(6),K=B.range,R=D.range,T=O.range,ja=M.range,fa=F.range,ia=z.range,la=G.range,Z=l(function(Ga){Ga.setDate(1);Ga.setHours(0,0,0,0)},function(Ga,pa){Ga.setMonth(Ga.getMonth()+
pa)},function(Ga,pa){return pa.getMonth()-Ga.getMonth()+12*(pa.getFullYear()-Ga.getFullYear())},function(Ga){return Ga.getMonth()}),P=Z.range,C=l(function(Ga){Ga.setMonth(0,1);Ga.setHours(0,0,0,0)},function(Ga,pa){Ga.setFullYear(Ga.getFullYear()+pa)},function(Ga,pa){return pa.getFullYear()-Ga.getFullYear()},function(Ga){return Ga.getFullYear()});C.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?l(function(pa){pa.setFullYear(Math.floor(pa.getFullYear()/Ga)*Ga);pa.setMonth(0,1);pa.setHours(0,
0,0,0)},function(pa,Ja){pa.setFullYear(pa.getFullYear()+Ja*Ga)}):null};var V=C.range,ha=l(function(Ga){Ga.setUTCSeconds(0,0)},function(Ga,pa){Ga.setTime(+Ga+6E4*pa)},function(Ga,pa){return(pa-Ga)/6E4},function(Ga){return Ga.getUTCMinutes()}),aa=ha.range,ta=l(function(Ga){Ga.setUTCMinutes(0,0,0)},function(Ga,pa){Ga.setTime(+Ga+36E5*pa)},function(Ga,pa){return(pa-Ga)/36E5},function(Ga){return Ga.getUTCHours()}),wa=ta.range,Ha=l(function(Ga){Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCDate(Ga.getUTCDate()+
pa)},function(Ga,pa){return(pa-Ga)/864E5},function(Ga){return Ga.getUTCDate()-1}),bb=Ha.range,kb=H(0),va=H(1),Ta=H(2),Ya=H(3),Ca=H(4),ua=H(5),U=H(6),W=kb.range,ba=va.range,ca=Ta.range,ra=Ya.range,qa=Ca.range,Da=ua.range,na=U.range,Ra=l(function(Ga){Ga.setUTCDate(1);Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCMonth(Ga.getUTCMonth()+pa)},function(Ga,pa){return pa.getUTCMonth()-Ga.getUTCMonth()+12*(pa.getUTCFullYear()-Ga.getUTCFullYear())},function(Ga){return Ga.getUTCMonth()}),db=Ra.range,$a=
l(function(Ga){Ga.setUTCMonth(0,1);Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCFullYear(Ga.getUTCFullYear()+pa)},function(Ga,pa){return pa.getUTCFullYear()-Ga.getUTCFullYear()},function(Ga){return Ga.getUTCFullYear()});$a.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?l(function(pa){pa.setUTCFullYear(Math.floor(pa.getUTCFullYear()/Ga)*Ga);pa.setUTCMonth(0,1);pa.setUTCHours(0,0,0,0)},function(pa,Ja){pa.setUTCFullYear(pa.getUTCFullYear()+Ja*Ga)}):null};var Fa=$a.range;k.timeDay=n;
k.timeDays=y;k.timeFriday=z;k.timeFridays=ia;k.timeHour=a;k.timeHours=e;k.timeInterval=l;k.timeMillisecond=v;k.timeMilliseconds=u;k.timeMinute=d;k.timeMinutes=f;k.timeMonday=D;k.timeMondays=R;k.timeMonth=Z;k.timeMonths=P;k.timeSaturday=G;k.timeSaturdays=la;k.timeSecond=m;k.timeSeconds=g;k.timeSunday=B;k.timeSundays=K;k.timeThursday=F;k.timeThursdays=fa;k.timeTuesday=O;k.timeTuesdays=T;k.timeWednesday=M;k.timeWednesdays=ja;k.timeWeek=B;k.timeWeeks=K;k.timeYear=C;k.timeYears=V;k.utcDay=Ha;k.utcDays=
bb;k.utcFriday=ua;k.utcFridays=Da;k.utcHour=ta;k.utcHours=wa;k.utcMillisecond=v;k.utcMilliseconds=u;k.utcMinute=ha;k.utcMinutes=aa;k.utcMonday=va;k.utcMondays=ba;k.utcMonth=Ra;k.utcMonths=db;k.utcSaturday=U;k.utcSaturdays=na;k.utcSecond=m;k.utcSeconds=g;k.utcSunday=kb;k.utcSundays=W;k.utcThursday=Ca;k.utcThursdays=qa;k.utcTuesday=Ta;k.utcTuesdays=ca;k.utcWednesday=Ya;k.utcWednesdays=ra;k.utcWeek=kb;k.utcWeeks=W;k.utcYear=$a;k.utcYears=Fa;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(17),A(15)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3))})(this,function(k,l,w,H){function N(wa){const Ha=l.array(wa).slice(),bb={};Ha.length||l.error("Missing time unit.");Ha.forEach(kb=>{l.hasOwnProperty(D,kb)?bb[kb]=1:l.error(`Invalid time unit: ${kb}.`)});
1<(bb.week||bb.day?1:0)+(bb.quarter||bb.month||bb.date?1:0)+(bb.dayofyear?1:0)&&l.error(`Incompatible time units: ${wa}`);Ha.sort((kb,va)=>D[kb]-D[va]);return Ha}function x(wa){M.setFullYear(wa);M.setMonth(0);M.setDate(1);M.setHours(0,0,0,0);return M}function v(wa){return w.timeDay.count(x(wa.getFullYear())-1,wa)}function u(wa){return w.timeWeek.count(x(wa.getFullYear())-1,wa)}function m(wa,Ha,bb,kb,va,Ta,Ya){return 0<=wa&&100>wa?(Ha=new Date(-1,Ha,bb,kb,va,Ta,Ya),Ha.setFullYear(wa),Ha):new Date(wa,
Ha,bb,kb,va,Ta,Ya)}function g(wa){const Ha=Date.UTC(wa.getUTCFullYear(),0,1);return w.utcDay.count(Ha-1,wa)}function d(wa){const Ha=Date.UTC(wa.getUTCFullYear(),0,1);return w.utcWeek.count(Ha-1,wa)}function f(wa){M.setTime(Date.UTC(wa,0,1));return M.getUTCDay()}function a(wa,Ha,bb,kb,va,Ta,Ya){return 0<=wa&&100>wa?(wa=new Date(Date.UTC(-1,Ha,bb,kb,va,Ta,Ya)),wa.setUTCFullYear(bb.y),wa):new Date(Date.UTC(wa,Ha,bb,kb,va,Ta,Ya))}function e(wa,Ha,bb,kb,va){const Ta=Ha||1,Ya=l.peek(wa);Ha=(Da,na,Ra)=>
{Ra=Ra||Da;return n(bb[Ra],kb[Ra],Da===Ya&&Ta,na)};const Ca=new Date;wa=l.toSet(wa);const ua=wa.year?Ha("year"):l.constant(2012),U=wa.month?Ha("month"):wa.quarter?Ha("quarter"):l.zero,W=wa.week&&wa.day?Ha("day",1,"weekday"):wa.week?Ha("week",1):wa.day?Ha("day",1):wa.date?Ha("date",1):wa.dayofyear?Ha("dayofyear",1):l.one,ba=wa.hours?Ha("hours"):l.zero,ca=wa.minutes?Ha("minutes"):l.zero,ra=wa.seconds?Ha("seconds"):l.zero,qa=wa.milliseconds?Ha("milliseconds"):l.zero;return function(Da){Ca.setTime(+Da);
Da=ua(Ca);return va(Da,U(Ca),W(Ca,Da),ba(Ca),ca(Ca),ra(Ca),qa(Ca))}}function n(wa,Ha,bb,kb){const va=1>=bb?wa:kb?(Ta,Ya)=>kb+bb*Math.floor((wa(Ta,Ya)-kb)/bb):(Ta,Ya)=>bb*Math.floor(wa(Ta,Ya)/bb);return Ha?(Ta,Ya)=>Ha(va(Ta,Ya),Ya):va}function y(wa,Ha,bb){return Ha+7*wa-(bb+6)%7}const B="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),D=B.reduce((wa,Ha,bb)=>(wa[Ha]=1+bb,wa),{}),O={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",
["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},M=new Date,F={["year"]:wa=>wa.getFullYear(),["quarter"]:wa=>Math.floor(wa.getMonth()/3),["month"]:wa=>wa.getMonth(),["date"]:wa=>wa.getDate(),["hours"]:wa=>wa.getHours(),["minutes"]:wa=>wa.getMinutes(),["seconds"]:wa=>wa.getSeconds(),["milliseconds"]:wa=>wa.getMilliseconds(),["dayofyear"]:wa=>v(wa),["week"]:wa=>
u(wa),["weekday"]:(wa,Ha)=>y(u(wa),wa.getDay(),x(Ha).getDay()),["day"]:(wa,Ha)=>y(1,wa.getDay(),x(Ha).getDay())},z={["quarter"]:wa=>3*wa,["week"]:(wa,Ha)=>y(wa,0,x(Ha).getDay())},G={["year"]:wa=>wa.getUTCFullYear(),["quarter"]:wa=>Math.floor(wa.getUTCMonth()/3),["month"]:wa=>wa.getUTCMonth(),["date"]:wa=>wa.getUTCDate(),["hours"]:wa=>wa.getUTCHours(),["minutes"]:wa=>wa.getUTCMinutes(),["seconds"]:wa=>wa.getUTCSeconds(),["milliseconds"]:wa=>wa.getUTCMilliseconds(),["dayofyear"]:wa=>g(wa),["week"]:wa=>
d(wa),["day"]:(wa,Ha)=>y(1,wa.getUTCDay(),f(Ha)),["weekday"]:(wa,Ha)=>y(d(wa),wa.getUTCDay(),f(Ha))},K={["quarter"]:wa=>3*wa,["week"]:(wa,Ha)=>y(wa,0,f(Ha))},R={["year"]:w.timeYear,["quarter"]:w.timeMonth.every(3),["month"]:w.timeMonth,["week"]:w.timeWeek,["date"]:w.timeDay,["day"]:w.timeDay,["dayofyear"]:w.timeDay,["hours"]:w.timeHour,["minutes"]:w.timeMinute,["seconds"]:w.timeSecond,["milliseconds"]:w.timeMillisecond},T={["year"]:w.utcYear,["quarter"]:w.utcMonth.every(3),["month"]:w.utcMonth,["week"]:w.utcWeek,
["date"]:w.utcDay,["day"]:w.utcDay,["dayofyear"]:w.utcDay,["hours"]:w.utcHour,["minutes"]:w.utcMinute,["seconds"]:w.utcSecond,["milliseconds"]:w.utcMillisecond},ja=6048E5,fa=2592E6,ia=31536E6,la="year month date hours minutes seconds milliseconds".split(" "),Z=la.slice(0,-1),P=Z.slice(0,-1),C=P.slice(0,-1),V=C.slice(0,-1),ha=["year","month"],aa=["year"],ta=[[Z,1,1E3],[Z,5,5E3],[Z,15,15E3],[Z,30,3E4],[P,1,6E4],[P,5,3E5],[P,15,9E5],[P,30,18E5],[C,1,36E5],[C,3,108E5],[C,6,216E5],[C,12,432E5],[V,1,864E5],
[["year","week"],1,ja],[ha,1,fa],[ha,3,3*fa],[aa,1,ia]];k.DATE="date";k.DAY="day";k.DAYOFYEAR="dayofyear";k.HOURS="hours";k.MILLISECONDS="milliseconds";k.MINUTES="minutes";k.MONTH="month";k.QUARTER="quarter";k.SECONDS="seconds";k.TIME_UNITS=B;k.WEEK="week";k.YEAR="year";k.dayofyear=function(wa){return v(new Date(wa))};k.timeBin=function(wa){var Ha=wa.extent;wa=wa.maxbins||40;var bb=Math.abs(l.span(Ha))/wa;let kb=H.bisector(va=>va[2]).right(ta,bb);kb===ta.length?(bb=aa,Ha=H.tickStep(Ha[0]/ia,Ha[1]/
ia,wa)):kb?(kb=ta[bb/ta[kb-1][2]<ta[kb][2]/bb?kb-1:kb],bb=kb[0],Ha=kb[1]):(bb=la,Ha=Math.max(H.tickStep(Ha[0],Ha[1],wa),1));return{units:bb,step:Ha}};k.timeFloor=function(wa,Ha){return e(wa,Ha||1,F,z,m)};k.timeInterval=function(wa){return R[wa]};k.timeOffset=function(wa,Ha,bb){return(wa=R[wa])?wa.offset(Ha,bb):void 0};k.timeSequence=function(wa,Ha,bb,kb){return(wa=R[wa])?wa.range(Ha,bb,kb):void 0};k.timeUnitSpecifier=function(wa,Ha){Ha=l.extend({},O,Ha);wa=N(wa);const bb=wa.length;let kb="",va,Ta,
Ya;for(va=0;va<bb;)for(Ta=wa.length;Ta>va;--Ta)if(Ya=wa.slice(va,Ta).join("-"),null!=Ha[Ya]){kb+=Ha[Ya];va=Ta;break}return kb.trim()};k.timeUnits=N;k.utcFloor=function(wa,Ha){return e(wa,Ha||1,G,K,a)};k.utcInterval=function(wa){return T[wa]};k.utcOffset=function(wa,Ha,bb){return(wa=T[wa])?wa.offset(Ha,bb):void 0};k.utcSequence=function(wa,Ha,bb,kb){return(wa=T[wa])?wa.range(Ha,bb,kb):void 0};k.utcdayofyear=function(wa){return g(new Date(wa))};k.utcweek=function(wa){return d(new Date(wa))};k.week=
function(wa){return u(new Date(wa))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(17)):"function"===typeof define&&define.amd?define(["exports","d3-time"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(Pb){if(0<=Pb.y&&100>Pb.y){var gc=new Date(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L);gc.setFullYear(Pb.y);return gc}return new Date(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L)}function H(Pb){if(0<=Pb.y&&100>Pb.y){var gc=new Date(Date.UTC(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L));
gc.setUTCFullYear(Pb.y);return gc}return new Date(Date.UTC(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L))}function N(Pb,gc,Eb){return{y:Pb,m:gc,d:Eb,H:0,M:0,S:0,L:0}}function x(Pb){function gc(uc,Tc){return function(ad){var ld=[],Cd=-1,Dd=0,Ud=uc.length,ae,oe;for(ad instanceof Date||(ad=new Date(+ad));++Cd<Ud;)if(37===uc.charCodeAt(Cd)){ld.push(uc.slice(Dd,Cd));null!=(Dd=Sc[ae=uc.charAt(++Cd)])?ae=uc.charAt(++Cd):Dd="e"===ae?" ":"0";if(oe=Tc[ae])ae=oe(ad,Dd);ld.push(ae);Dd=Cd+1}ld.push(uc.slice(Dd,Cd));return ld.join("")}}
function Eb(uc,Tc){return function(ad){var ld=N(1900,void 0,1);if(zc(ld,uc,ad+="",0)!=ad.length)return null;if("Q"in ld)return new Date(ld.Q);if("s"in ld)return new Date(1E3*ld.s+("L"in ld?ld.L:0));!Tc||"Z"in ld||(ld.Z=0);"p"in ld&&(ld.H=ld.H%12+12*ld.p);void 0===ld.m&&(ld.m="q"in ld?ld.q:0);if("V"in ld){if(1>ld.V||53<ld.V)return null;"w"in ld||(ld.w=1);if("Z"in ld){ad=H(N(ld.y,0,1));var Cd=ad.getUTCDay();ad=4<Cd||0===Cd?l.utcMonday.ceil(ad):l.utcMonday(ad);ad=l.utcDay.offset(ad,7*(ld.V-1));ld.y=
ad.getUTCFullYear();ld.m=ad.getUTCMonth();ld.d=ad.getUTCDate()+(ld.w+6)%7}else ad=w(N(ld.y,0,1)),Cd=ad.getDay(),ad=4<Cd||0===Cd?l.timeMonday.ceil(ad):l.timeMonday(ad),ad=l.timeDay.offset(ad,7*(ld.V-1)),ld.y=ad.getFullYear(),ld.m=ad.getMonth(),ld.d=ad.getDate()+(ld.w+6)%7}else if("W"in ld||"U"in ld)"w"in ld||(ld.w="u"in ld?ld.u%7:"W"in ld?1:0),Cd="Z"in ld?H(N(ld.y,0,1)).getUTCDay():w(N(ld.y,0,1)).getDay(),ld.m=0,ld.d="W"in ld?(ld.w+6)%7+7*ld.W-(Cd+5)%7:ld.w+7*ld.U-(Cd+6)%7;return"Z"in ld?(ld.H+=ld.Z/
100|0,ld.M+=ld.Z%100,H(ld)):w(ld)}}function zc(uc,Tc,ad,ld){for(var Cd=0,Dd=Tc.length,Ud=ad.length,ae;Cd<Dd;){if(ld>=Ud)return-1;ae=Tc.charCodeAt(Cd++);if(37===ae){if(ae=Tc.charAt(Cd++),ae=Dc[ae in Sc?Tc.charAt(Cd++):ae],!ae||0>(ld=ae(uc,ad,ld)))return-1}else if(ae!=ad.charCodeAt(ld++))return-1}return ld}var Vc=Pb.dateTime,Ed=Pb.date,Vd=Pb.time,Ka=Pb.periods,eb=Pb.days,wb=Pb.shortDays,Hb=Pb.months,ac=Pb.shortMonths,Lb=m(Ka),Ac=g(Ka),tc=m(eb),pb=g(eb),Bb=m(wb),Ub=g(wb),mc=m(Hb),Bc=g(Hb),Cc=m(ac),Xc=
g(ac),Qb={a:function(uc){return wb[uc.getDay()]},A:function(uc){return eb[uc.getDay()]},b:function(uc){return ac[uc.getMonth()]},B:function(uc){return Hb[uc.getMonth()]},c:null,d:Z,e:Z,f:aa,g:U,G:ba,H:P,I:C,j:V,L:ha,m:ta,M:wa,p:function(uc){return Ka[+(12<=uc.getHours())]},q:function(uc){return 1+~~(uc.getMonth()/3)},Q:jc,s:rc,S:Ha,u:bb,U:kb,V:Ta,w:Ya,W:Ca,x:null,X:null,y:ua,Y:W,Z:ca,"%":hc},Ic={a:function(uc){return wb[uc.getUTCDay()]},A:function(uc){return eb[uc.getUTCDay()]},b:function(uc){return ac[uc.getUTCMonth()]},
B:function(uc){return Hb[uc.getUTCMonth()]},c:null,d:ra,e:ra,f:db,g:md,G:Hc,H:qa,I:Da,j:na,L:Ra,m:$a,M:Fa,p:function(uc){return Ka[+(12<=uc.getUTCHours())]},q:function(uc){return 1+~~(uc.getUTCMonth()/3)},Q:jc,s:rc,S:Ga,u:pa,U:Ja,V:jb,w:Fb,W:Xb,x:null,X:null,y:nc,Y:pc,Z:mb,"%":hc},Dc={a:function(uc,Tc,ad){return(Tc=Bb.exec(Tc.slice(ad)))?(uc.w=Ub.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},A:function(uc,Tc,ad){return(Tc=tc.exec(Tc.slice(ad)))?(uc.w=pb.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},
b:function(uc,Tc,ad){return(Tc=Cc.exec(Tc.slice(ad)))?(uc.m=Xc.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},B:function(uc,Tc,ad){return(Tc=mc.exec(Tc.slice(ad)))?(uc.m=Bc.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},c:function(uc,Tc,ad){return zc(uc,Vc,Tc,ad)},d:F,e:F,f:ja,g:B,G:y,H:G,I:G,j:z,L:T,m:M,M:K,p:function(uc,Tc,ad){return(Tc=Lb.exec(Tc.slice(ad)))?(uc.p=Ac.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},q:O,Q:ia,s:la,S:R,u:f,U:a,V:e,w:d,W:n,x:function(uc,Tc,ad){return zc(uc,Ed,Tc,ad)},X:function(uc,
Tc,ad){return zc(uc,Vd,Tc,ad)},y:B,Y:y,Z:D,"%":fa};Qb.x=gc(Ed,Qb);Qb.X=gc(Vd,Qb);Qb.c=gc(Vc,Qb);Ic.x=gc(Ed,Ic);Ic.X=gc(Vd,Ic);Ic.c=gc(Vc,Ic);return{format:function(uc){var Tc=gc(uc+="",Qb);Tc.toString=function(){return uc};return Tc},parse:function(uc){var Tc=Eb(uc+="",!1);Tc.toString=function(){return uc};return Tc},utcFormat:function(uc){var Tc=gc(uc+="",Ic);Tc.toString=function(){return uc};return Tc},utcParse:function(uc){var Tc=Eb(uc+="",!0);Tc.toString=function(){return uc};return Tc}}}function v(Pb,
gc,Eb){var zc=0>Pb?"-":"";Pb=(zc?-Pb:Pb)+"";var Vc=Pb.length;return zc+(Vc<Eb?Array(Eb-Vc+1).join(gc)+Pb:Pb)}function u(Pb){return Pb.replace(ge,"\\$\x26")}function m(Pb){return new RegExp("^(?:"+Pb.map(u).join("|")+")","i")}function g(Pb){return new Map(Pb.map((gc,Eb)=>[gc.toLowerCase(),Eb]))}function d(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.w=+gc[0],Eb+gc[0].length):-1}function f(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.u=+gc[0],Eb+gc[0].length):-1}function a(Pb,gc,Eb){return(gc=
Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.U=+gc[0],Eb+gc[0].length):-1}function e(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.V=+gc[0],Eb+gc[0].length):-1}function n(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.W=+gc[0],Eb+gc[0].length):-1}function y(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+4)))?(Pb.y=+gc[0],Eb+gc[0].length):-1}function B(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.y=+gc[0]+(68<+gc[0]?1900:2E3),Eb+gc[0].length):-1}function D(Pb,gc,Eb){return(gc=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(gc.slice(Eb,
Eb+6)))?(Pb.Z=gc[1]?0:-(gc[2]+(gc[3]||"00")),Eb+gc[0].length):-1}function O(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.q=3*gc[0]-3,Eb+gc[0].length):-1}function M(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.m=gc[0]-1,Eb+gc[0].length):-1}function F(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.d=+gc[0],Eb+gc[0].length):-1}function z(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+3)))?(Pb.m=0,Pb.d=+gc[0],Eb+gc[0].length):-1}function G(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?
(Pb.H=+gc[0],Eb+gc[0].length):-1}function K(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.M=+gc[0],Eb+gc[0].length):-1}function R(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.S=+gc[0],Eb+gc[0].length):-1}function T(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+3)))?(Pb.L=+gc[0],Eb+gc[0].length):-1}function ja(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+6)))?(Pb.L=Math.floor(gc[0]/1E3),Eb+gc[0].length):-1}function fa(Pb,gc,Eb){return(Pb=Fd.exec(gc.slice(Eb,Eb+1)))?Eb+Pb[0].length:-1}function ia(Pb,
gc,Eb){return(gc=Lc.exec(gc.slice(Eb)))?(Pb.Q=+gc[0],Eb+gc[0].length):-1}function la(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb)))?(Pb.s=+gc[0],Eb+gc[0].length):-1}function Z(Pb,gc){return v(Pb.getDate(),gc,2)}function P(Pb,gc){return v(Pb.getHours(),gc,2)}function C(Pb,gc){return v(Pb.getHours()%12||12,gc,2)}function V(Pb,gc){return v(1+l.timeDay.count(l.timeYear(Pb),Pb),gc,3)}function ha(Pb,gc){return v(Pb.getMilliseconds(),gc,3)}function aa(Pb,gc){return ha(Pb,gc)+"000"}function ta(Pb,gc){return v(Pb.getMonth()+
1,gc,2)}function wa(Pb,gc){return v(Pb.getMinutes(),gc,2)}function Ha(Pb,gc){return v(Pb.getSeconds(),gc,2)}function bb(Pb){Pb=Pb.getDay();return 0===Pb?7:Pb}function kb(Pb,gc){return v(l.timeSunday.count(l.timeYear(Pb)-1,Pb),gc,2)}function va(Pb){var gc=Pb.getDay();return 4<=gc||0===gc?l.timeThursday(Pb):l.timeThursday.ceil(Pb)}function Ta(Pb,gc){Pb=va(Pb);return v(l.timeThursday.count(l.timeYear(Pb),Pb)+(4===l.timeYear(Pb).getDay()),gc,2)}function Ya(Pb){return Pb.getDay()}function Ca(Pb,gc){return v(l.timeMonday.count(l.timeYear(Pb)-
1,Pb),gc,2)}function ua(Pb,gc){return v(Pb.getFullYear()%100,gc,2)}function U(Pb,gc){Pb=va(Pb);return v(Pb.getFullYear()%100,gc,2)}function W(Pb,gc){return v(Pb.getFullYear()%1E4,gc,4)}function ba(Pb,gc){var Eb=Pb.getDay();Pb=4<=Eb||0===Eb?l.timeThursday(Pb):l.timeThursday.ceil(Pb);return v(Pb.getFullYear()%1E4,gc,4)}function ca(Pb){Pb=Pb.getTimezoneOffset();return(0<Pb?"-":(Pb*=-1,"+"))+v(Pb/60|0,"0",2)+v(Pb%60,"0",2)}function ra(Pb,gc){return v(Pb.getUTCDate(),gc,2)}function qa(Pb,gc){return v(Pb.getUTCHours(),
gc,2)}function Da(Pb,gc){return v(Pb.getUTCHours()%12||12,gc,2)}function na(Pb,gc){return v(1+l.utcDay.count(l.utcYear(Pb),Pb),gc,3)}function Ra(Pb,gc){return v(Pb.getUTCMilliseconds(),gc,3)}function db(Pb,gc){return Ra(Pb,gc)+"000"}function $a(Pb,gc){return v(Pb.getUTCMonth()+1,gc,2)}function Fa(Pb,gc){return v(Pb.getUTCMinutes(),gc,2)}function Ga(Pb,gc){return v(Pb.getUTCSeconds(),gc,2)}function pa(Pb){Pb=Pb.getUTCDay();return 0===Pb?7:Pb}function Ja(Pb,gc){return v(l.utcSunday.count(l.utcYear(Pb)-
1,Pb),gc,2)}function Ua(Pb){var gc=Pb.getUTCDay();return 4<=gc||0===gc?l.utcThursday(Pb):l.utcThursday.ceil(Pb)}function jb(Pb,gc){Pb=Ua(Pb);return v(l.utcThursday.count(l.utcYear(Pb),Pb)+(4===l.utcYear(Pb).getUTCDay()),gc,2)}function Fb(Pb){return Pb.getUTCDay()}function Xb(Pb,gc){return v(l.utcMonday.count(l.utcYear(Pb)-1,Pb),gc,2)}function nc(Pb,gc){return v(Pb.getUTCFullYear()%100,gc,2)}function md(Pb,gc){Pb=Ua(Pb);return v(Pb.getUTCFullYear()%100,gc,2)}function pc(Pb,gc){return v(Pb.getUTCFullYear()%
1E4,gc,4)}function Hc(Pb,gc){var Eb=Pb.getUTCDay();Pb=4<=Eb||0===Eb?l.utcThursday(Pb):l.utcThursday.ceil(Pb);return v(Pb.getUTCFullYear()%1E4,gc,4)}function mb(){return"+0000"}function hc(){return"%"}function jc(Pb){return+Pb}function rc(Pb){return Math.floor(+Pb/1E3)}function Pc(Pb){wd=x(Pb);k.timeFormat=wd.format;k.timeParse=wd.parse;k.utcFormat=wd.utcFormat;k.utcParse=wd.utcParse;return wd}function sc(Pb){return Pb.toISOString()}function Uc(Pb){Pb=new Date(Pb);return isNaN(Pb)?null:Pb}var Sc={"-":"",
_:" ",0:"0"},Lc=/^\s*\d+/,Fd=/^%/,ge=/[\\^$*+?|[\]().{}]/g,wd;Pc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var vd=Date.prototype.toISOString?sc:k.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),
Wd=+new Date("2000-01-01T00:00:00.000Z")?Uc:k.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");k.isoFormat=vd;k.isoParse=Wd;k.timeFormatDefaultLocale=Pc;k.timeFormatLocale=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(16),A(18),A(14),A(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3,k.d3,k.vega,k.vega,k.d3))})(this,function(k,l,w,H,N,x){function v(F){const z={};return G=>z[G]||(z[G]=F(G))}function u(F,z){return G=>{G=F(G);const K=G.indexOf(z);if(0>K)return G;
a:{var R=G.lastIndexOf("e");if(!(0<R)){for(R=G.length;--R>K;){var T=G.charCodeAt(R);if(48<=T&&57>=T){R+=1;break a}}R=void 0}}for(T=R<G.length?G.slice(R):"";--R>K;)if("0"!==G[R]){++R;break}return G.slice(0,R)+T}}function m(F){const z=v(F.format),G=F.formatPrefix;return{format:z,formatPrefix:G,formatFloat(K){K=w.formatSpecifier(K||",");if(null==K.precision){K.precision=12;switch(K.type){case "%":K.precision-=2;break;case "e":--K.precision}return u(z(K),z(".1f")(1)[1])}return z(K)},formatSpan(K,R,T,
ja){ja=w.formatSpecifier(null==ja?",f":ja);T=l.tickStep(K,R,T);K=Math.max(Math.abs(K),Math.abs(R));if(null==ja.precision)switch(ja.type){case "s":return isNaN(R=w.precisionPrefix(T,K))||(ja.precision=R),G(ja,K);case "":case "e":case "g":case "p":case "r":isNaN(R=w.precisionRound(T,K))||(ja.precision=R-("e"===ja.type));break;case "f":case "%":isNaN(R=w.precisionFixed(T))||(ja.precision=R-2*("%"===ja.type))}return z(ja)}}}function g(){return O=m({format:w.format,formatPrefix:w.formatPrefix})}function d(F){return m(w.formatLocale(F))}
function f(F){return arguments.length?O=d(F):O}function a(F,z,G){G=G||{};N.isObject(G)||N.error(`Invalid time multi-format specifier: ${G}`);const K=z(H.SECONDS),R=z(H.MINUTES),T=z(H.HOURS),ja=z(H.DATE),fa=z(H.WEEK),ia=z(H.MONTH),la=z(H.QUARTER),Z=z(H.YEAR),P=F(G[H.MILLISECONDS]||".%L"),C=F(G[H.SECONDS]||":%S"),V=F(G[H.MINUTES]||"%I:%M"),ha=F(G[H.HOURS]||"%I %p"),aa=F(G[H.DATE]||G[H.DAY]||"%a %d"),ta=F(G[H.WEEK]||"%b %d"),wa=F(G[H.MONTH]||"%B"),Ha=F(G[H.QUARTER]||"%B"),bb=F(G[H.YEAR]||"%Y");return kb=>
(K(kb)<kb?P:R(kb)<kb?C:T(kb)<kb?V:ja(kb)<kb?ha:ia(kb)<kb?fa(kb)<kb?aa:ta:Z(kb)<kb?la(kb)<kb?wa:Ha:bb)(kb)}function e(F){const z=v(F.format),G=v(F.utcFormat);return{timeFormat:K=>N.isString(K)?z(K):a(z,H.timeInterval,K),utcFormat:K=>N.isString(K)?G(K):a(G,H.utcInterval,K),timeParse:v(F.parse),utcParse:v(F.utcParse)}}function n(){return M=e({format:x.timeFormat,parse:x.timeParse,utcFormat:x.utcFormat,utcParse:x.utcParse})}function y(F){return e(x.timeFormatLocale(F))}function B(F){return arguments.length?
M=y(F):M}function D(F,z){var G=arguments.length;G&&2!==G&&N.error("defaultLocale expects either zero or two arguments.");if(G){G=f(F);var K=B(z);G=N.extend({},G,K)}else G=f(),K=B(),G=N.extend({},G,K);return G}let O;g();let M;n();k.defaultLocale=D;k.locale=function(F,z){F=F?d(F):f();z=z?y(z):B();return N.extend({},F,z)};k.numberFormatDefaultLocale=f;k.numberFormatLocale=d;k.resetDefaultLocale=function(){g();n();return D()};k.resetNumberFormatDefaultLocale=g;k.resetTimeFormatDefaultLocale=n;k.timeFormatDefaultLocale=
B;k.timeFormatLocale=y;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ia,A,rb,E){function k(x){var v=x.length;if(0<v%4)throw Error("Invalid string. Length must be a multiple of 4");x=x.indexOf("\x3d");-1===x&&(x=v);return[x,x===v?0:4-x%4]}function l(x,v,u){for(var m=[],g=v;g<u;g+=3)v=(x[g]<<16&16711680)+(x[g+1]<<8&65280)+(x[g+2]&255),m.push(w[v>>18&63]+w[v>>12&63]+w[v>>6&63]+w[v&63]);return m.join("")}E.byteLength=function(x){x=k(x);var v=x[1];return 3*(x[0]+v)/4-v};E.toByteArray=function(x){var v=k(x);var u=v[0];v=v[1];var m=new N(3*(u+
v)/4-v),g=0,d=0<v?u-4:u,f;for(f=0;f<d;f+=4)u=H[x.charCodeAt(f)]<<18|H[x.charCodeAt(f+1)]<<12|H[x.charCodeAt(f+2)]<<6|H[x.charCodeAt(f+3)],m[g++]=u>>16&255,m[g++]=u>>8&255,m[g++]=u&255;2===v&&(u=H[x.charCodeAt(f)]<<2|H[x.charCodeAt(f+1)]>>4,m[g++]=u&255);1===v&&(u=H[x.charCodeAt(f)]<<10|H[x.charCodeAt(f+1)]<<4|H[x.charCodeAt(f+2)]>>2,m[g++]=u>>8&255,m[g++]=u&255);return m};E.fromByteArray=function(x){for(var v=x.length,u=v%3,m=[],g=0,d=v-u;g<d;g+=16383)m.push(l(x,g,g+16383>d?d:g+16383));1===u?(x=x[v-
1],m.push(w[x>>2]+w[x<<4&63]+"\x3d\x3d")):2===u&&(x=(x[v-2]<<8)+x[v-1],m.push(w[x>>10]+w[x>>4&63]+w[x<<2&63]+"\x3d"));return m.join("")};var w=[],H=[],N="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ia=0;64>Ia;++Ia)w[Ia]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ia],H["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ia)]=Ia;H[45]=62;H[95]=63};
shadow$provide[22]=function(Ia,A,rb,E){E.read=function(k,l,w,H,N){var x=8*N-H-1;var v=(1<<x)-1,u=v>>1,m=-7;N=w?N-1:0;var g=w?-1:1,d=k[l+N];N+=g;w=d&(1<<-m)-1;d>>=-m;for(m+=x;0<m;w=256*w+k[l+N],N+=g,m-=8);x=w&(1<<-m)-1;w>>=-m;for(m+=H;0<m;x=256*x+k[l+N],N+=g,m-=8);if(0===w)w=1-u;else{if(w===v)return x?NaN:Infinity*(d?-1:1);x+=Math.pow(2,H);w-=u}return(d?-1:1)*x*Math.pow(2,w-H)};E.write=function(k,l,w,H,N,x){var v,u=8*x-N-1,m=(1<<u)-1,g=m>>1,d=23===N?Math.pow(2,-24)-Math.pow(2,-77):0;x=H?0:x-1;var f=
H?1:-1,a=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,H=m):(H=Math.floor(Math.log(l)/Math.LN2),1>l*(v=Math.pow(2,-H))&&(H--,v*=2),l=1<=H+g?l+d/v:l+d*Math.pow(2,1-g),2<=l*v&&(H++,v/=2),H+g>=m?(l=0,H=m):1<=H+g?(l=(l*v-1)*Math.pow(2,N),H+=g):(l=l*Math.pow(2,g-1)*Math.pow(2,N),H=0));for(;8<=N;k[w+x]=l&255,x+=f,l/=256,N-=8);H=H<<N|l;for(u+=N;0<u;k[w+x]=H&255,x+=f,H/=256,u-=8);k[w+x-f]|=128*a}};
shadow$provide[23]=function(Ia,A,rb,E){var k={}.toString;rb.exports=Array.isArray||function(l){return"[object Array]"==k.call(l)}};
shadow$provide[24]=function(Ia,A,rb,E){function k(){try{var P=new Uint8Array(1);P.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===P.foo()&&"function"===typeof P.subarray&&0===P.subarray(1,1).byteLength}catch(C){return!1}}function l(P,C){if((w.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<C)throw new RangeError("Invalid typed array length");w.TYPED_ARRAY_SUPPORT?(P=new Uint8Array(C),P.__proto__=w.prototype):(null===P&&(P=new w(C)),P.length=C);return P}function w(P,C,V){if(!(w.TYPED_ARRAY_SUPPORT||
this instanceof w))return new w(P,C,V);if("number"===typeof P){if("string"===typeof C)throw Error("If encoding is specified then the first argument must be a string");return x(this,P)}return H(this,P,C,V)}function H(P,C,V,ha){if("number"===typeof C)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&C instanceof ArrayBuffer){C.byteLength;if(0>V||C.byteLength<V)throw new RangeError("'offset' is out of bounds");if(C.byteLength<V+(ha||0))throw new RangeError("'length' is out of bounds");
C=void 0===V&&void 0===ha?new Uint8Array(C):void 0===ha?new Uint8Array(C,V):new Uint8Array(C,V,ha);w.TYPED_ARRAY_SUPPORT?(P=C,P.__proto__=w.prototype):P=v(P,C);return P}if("string"===typeof C){ha=P;P=V;if("string"!==typeof P||""===P)P="utf8";if(!w.isEncoding(P))throw new TypeError('"encoding" must be a valid string encoding');V=g(C,P)|0;ha=l(ha,V);C=ha.write(C,P);C!==V&&(ha=ha.slice(0,C));return ha}return u(P,C)}function N(P){if("number"!==typeof P)throw new TypeError('"size" argument must be a number');
if(0>P)throw new RangeError('"size" argument must not be negative');}function x(P,C){N(C);P=l(P,0>C?0:m(C)|0);if(!w.TYPED_ARRAY_SUPPORT)for(var V=0;V<C;++V)P[V]=0;return P}function v(P,C){var V=0>C.length?0:m(C.length)|0;P=l(P,V);for(var ha=0;ha<V;ha+=1)P[ha]=C[ha]&255;return P}function u(P,C){if(w.isBuffer(C)){var V=m(C.length)|0;P=l(P,V);if(0===P.length)return P;C.copy(P,0,0,V);return P}if(C){if("undefined"!==typeof ArrayBuffer&&C.buffer instanceof ArrayBuffer||"length"in C)return(V="number"!==
typeof C.length)||(V=C.length,V=V!==V),V?l(P,0):v(P,C);if("Buffer"===C.type&&ia(C.data))return v(P,C.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function m(P){if(P>=(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return P|0}function g(P,C){if(w.isBuffer(P))return P.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(P)||P instanceof ArrayBuffer))return P.byteLength;"string"!==typeof P&&(P=""+P);var V=P.length;if(0===V)return 0;for(var ha=!1;;)switch(C){case "ascii":case "latin1":case "binary":return V;case "utf8":case "utf-8":case void 0:return K(P).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*V;case "hex":return V>>>1;case "base64":return ja.toByteArray(G(P)).length;default:if(ha)return K(P).length;C=(""+
C).toLowerCase();ha=!0}}function d(P,C,V){var ha=!1;if(void 0===C||0>C)C=0;if(C>this.length)return"";if(void 0===V||V>this.length)V=this.length;if(0>=V)return"";V>>>=0;C>>>=0;if(V<=C)return"";for(P||(P="utf8");;)switch(P){case "hex":P=C;C=V;V=this.length;if(!P||0>P)P=0;if(!C||0>C||C>V)C=V;ha="";for(V=P;V<C;++V)P=ha,ha=this[V],ha=16>ha?"0"+ha.toString(16):ha.toString(16),ha=P+ha;return ha;case "utf8":case "utf-8":return n(this,C,V);case "ascii":P="";for(V=Math.min(this.length,V);C<V;++C)P+=String.fromCharCode(this[C]&
127);return P;case "latin1":case "binary":P="";for(V=Math.min(this.length,V);C<V;++C)P+=String.fromCharCode(this[C]);return P;case "base64":return C=0===C&&V===this.length?ja.fromByteArray(this):ja.fromByteArray(this.slice(C,V)),C;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":C=this.slice(C,V);V="";for(P=0;P<C.length;P+=2)V+=String.fromCharCode(C[P]+256*C[P+1]);return V;default:if(ha)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase();ha=!0}}function f(P,C,V){var ha=P[C];
P[C]=P[V];P[V]=ha}function a(P,C,V,ha,aa){if(0===P.length)return-1;"string"===typeof V?(ha=V,V=0):2147483647<V?V=2147483647:-2147483648>V&&(V=-2147483648);V=+V;isNaN(V)&&(V=aa?0:P.length-1);0>V&&(V=P.length+V);if(V>=P.length){if(aa)return-1;V=P.length-1}else if(0>V)if(aa)V=0;else return-1;"string"===typeof C&&(C=w.from(C,ha));if(w.isBuffer(C))return 0===C.length?-1:e(P,C,V,ha,aa);if("number"===typeof C)return C&=255,w.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?aa?Uint8Array.prototype.indexOf.call(P,
C,V):Uint8Array.prototype.lastIndexOf.call(P,C,V):e(P,[C],V,ha,aa);throw new TypeError("val must be string, number or Buffer");}function e(P,C,V,ha,aa){function ta(kb,va){return 1===wa?kb[va]:kb.readUInt16BE(va*wa)}var wa=1,Ha=P.length,bb=C.length;if(void 0!==ha&&(ha=String(ha).toLowerCase(),"ucs2"===ha||"ucs-2"===ha||"utf16le"===ha||"utf-16le"===ha)){if(2>P.length||2>C.length)return-1;wa=2;Ha/=2;bb/=2;V/=2}if(aa)for(ha=-1;V<Ha;V++)if(ta(P,V)===ta(C,-1===ha?0:V-ha)){if(-1===ha&&(ha=V),V-ha+1===bb)return ha*
wa}else-1!==ha&&(V-=V-ha),ha=-1;else for(V+bb>Ha&&(V=Ha-bb);0<=V;V--){Ha=!0;for(ha=0;ha<bb;ha++)if(ta(P,V+ha)!==ta(C,ha)){Ha=!1;break}if(Ha)return V}return-1}function n(P,C,V){V=Math.min(P.length,V);for(var ha=[];C<V;){var aa=P[C],ta=null,wa=239<aa?4:223<aa?3:191<aa?2:1;if(C+wa<=V)switch(wa){case 1:128>aa&&(ta=aa);break;case 2:var Ha=P[C+1];128===(Ha&192)&&(aa=(aa&31)<<6|Ha&63,127<aa&&(ta=aa));break;case 3:Ha=P[C+1];var bb=P[C+2];128===(Ha&192)&&128===(bb&192)&&(aa=(aa&15)<<12|(Ha&63)<<6|bb&63,2047<
aa&&(55296>aa||57343<aa)&&(ta=aa));break;case 4:Ha=P[C+1];bb=P[C+2];var kb=P[C+3];128===(Ha&192)&&128===(bb&192)&&128===(kb&192)&&(aa=(aa&15)<<18|(Ha&63)<<12|(bb&63)<<6|kb&63,65535<aa&&1114112>aa&&(ta=aa))}null===ta?(ta=65533,wa=1):65535<ta&&(ta-=65536,ha.push(ta>>>10&1023|55296),ta=56320|ta&1023);ha.push(ta);C+=wa}P=ha.length;if(P<=la)ha=String.fromCharCode.apply(String,ha);else{V="";for(C=0;C<P;)V+=String.fromCharCode.apply(String,ha.slice(C,C+=la));ha=V}return ha}function y(P,C,V){if(0!==P%1||
0>P)throw new RangeError("offset is not uint");if(P+C>V)throw new RangeError("Trying to access beyond buffer length");}function B(P,C,V,ha,aa,ta){if(!w.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>aa||C<ta)throw new RangeError('"value" argument is out of bounds');if(V+ha>P.length)throw new RangeError("Index out of range");}function D(P,C,V,ha){0>C&&(C=65535+C+1);for(var aa=0,ta=Math.min(P.length-V,2);aa<ta;++aa)P[V+aa]=(C&255<<8*(ha?aa:1-aa))>>>8*(ha?aa:1-aa)}
function O(P,C,V,ha){0>C&&(C=4294967295+C+1);for(var aa=0,ta=Math.min(P.length-V,4);aa<ta;++aa)P[V+aa]=C>>>8*(ha?aa:3-aa)&255}function M(P,C,V,ha,aa,ta){if(V+ha>P.length)throw new RangeError("Index out of range");if(0>V)throw new RangeError("Index out of range");}function F(P,C,V,ha,aa){aa||M(P,C,V,4,3.4028234663852886E38,-3.4028234663852886E38);fa.write(P,C,V,ha,23,4);return V+4}function z(P,C,V,ha,aa){aa||M(P,C,V,8,1.7976931348623157E308,-1.7976931348623157E308);fa.write(P,C,V,ha,52,8);return V+
8}function G(P){P=P.trim?P.trim():P.replace(/^\s+|\s+$/g,"");P=P.replace(Z,"");if(2>P.length)return"";for(;0!==P.length%4;)P+="\x3d";return P}function K(P,C){C=C||Infinity;for(var V,ha=P.length,aa=null,ta=[],wa=0;wa<ha;++wa){V=P.charCodeAt(wa);if(55295<V&&57344>V){if(!aa){if(56319<V){-1<(C-=3)&&ta.push(239,191,189);continue}else if(wa+1===ha){-1<(C-=3)&&ta.push(239,191,189);continue}aa=V;continue}if(56320>V){-1<(C-=3)&&ta.push(239,191,189);aa=V;continue}V=(aa-55296<<10|V-56320)+65536}else aa&&-1<
(C-=3)&&ta.push(239,191,189);aa=null;if(128>V){if(0>--C)break;ta.push(V)}else if(2048>V){if(0>(C-=2))break;ta.push(V>>6|192,V&63|128)}else if(65536>V){if(0>(C-=3))break;ta.push(V>>12|224,V>>6&63|128,V&63|128)}else if(1114112>V){if(0>(C-=4))break;ta.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw Error("Invalid code point");}return ta}function R(P){for(var C=[],V=0;V<P.length;++V)C.push(P.charCodeAt(V)&255);return C}function T(P,C,V,ha){for(var aa=0;aa<ha&&!(aa+V>=C.length||aa>=P.length);++aa)C[aa+
V]=P[aa];return aa}var ja=A(21),fa=A(22),ia=A(23);E.Buffer=w;E.SlowBuffer=function(P){+P!=P&&(P=0);return w.alloc(+P)};E.INSPECT_MAX_BYTES=50;w.TYPED_ARRAY_SUPPORT=void 0!==Ia.TYPED_ARRAY_SUPPORT?Ia.TYPED_ARRAY_SUPPORT:k();E.kMaxLength=w.TYPED_ARRAY_SUPPORT?2147483647:1073741823;w.poolSize=8192;w._augment=function(P){P.__proto__=w.prototype;return P};w.from=function(P,C,V){return H(null,P,C,V)};w.TYPED_ARRAY_SUPPORT&&(w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,"undefined"!==
typeof Symbol&&Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0}));w.alloc=function(P,C,V){N(P);P=0>=P?l(null,P):void 0!==C?"string"===typeof V?l(null,P).fill(C,V):l(null,P).fill(C):l(null,P);return P};w.allocUnsafe=function(P){return x(null,P)};w.allocUnsafeSlow=function(P){return x(null,P)};w.isBuffer=function(P){return!(null==P||!P._isBuffer)};w.compare=function(P,C){if(!w.isBuffer(P)||!w.isBuffer(C))throw new TypeError("Arguments must be Buffers");
if(P===C)return 0;for(var V=P.length,ha=C.length,aa=0,ta=Math.min(V,ha);aa<ta;++aa)if(P[aa]!==C[aa]){V=P[aa];ha=C[aa];break}return V<ha?-1:ha<V?1:0};w.isEncoding=function(P){switch(String(P).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};w.concat=function(P,C){if(!ia(P))throw new TypeError('"list" argument must be an Array of Buffers');if(0===P.length)return w.alloc(0);
var V;if(void 0===C)for(V=C=0;V<P.length;++V)C+=P[V].length;C=w.allocUnsafe(C);var ha=0;for(V=0;V<P.length;++V){var aa=P[V];if(!w.isBuffer(aa))throw new TypeError('"list" argument must be an Array of Buffers');aa.copy(C,ha);ha+=aa.length}return C};w.byteLength=g;w.prototype._isBuffer=!0;w.prototype.swap16=function(){var P=this.length;if(0!==P%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<P;C+=2)f(this,C,C+1);return this};w.prototype.swap32=function(){var P=this.length;
if(0!==P%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<P;C+=4)f(this,C,C+3),f(this,C+1,C+2);return this};w.prototype.swap64=function(){var P=this.length;if(0!==P%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<P;C+=8)f(this,C,C+7),f(this,C+1,C+6),f(this,C+2,C+5),f(this,C+3,C+4);return this};w.prototype.toString=function(){var P=this.length|0;return 0===P?"":0===arguments.length?n(this,0,P):d.apply(this,arguments)};w.prototype.equals=
function(P){if(!w.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:0===w.compare(this,P)};w.prototype.inspect=function(){var P="",C=E.INSPECT_MAX_BYTES;0<this.length&&(P=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(P+=" ... "));return"\x3cBuffer "+P+"\x3e"};w.prototype.compare=function(P,C,V,ha,aa){if(!w.isBuffer(P))throw new TypeError("Argument must be a Buffer");void 0===C&&(C=0);void 0===V&&(V=P?P.length:0);void 0===ha&&(ha=0);void 0===aa&&(aa=
this.length);if(0>C||V>P.length||0>ha||aa>this.length)throw new RangeError("out of range index");if(ha>=aa&&C>=V)return 0;if(ha>=aa)return-1;if(C>=V)return 1;C>>>=0;V>>>=0;ha>>>=0;aa>>>=0;if(this===P)return 0;var ta=aa-ha,wa=V-C,Ha=Math.min(ta,wa);ha=this.slice(ha,aa);P=P.slice(C,V);for(C=0;C<Ha;++C)if(ha[C]!==P[C]){ta=ha[C];wa=P[C];break}return ta<wa?-1:wa<ta?1:0};w.prototype.includes=function(P,C,V){return-1!==this.indexOf(P,C,V)};w.prototype.indexOf=function(P,C,V){return a(this,P,C,V,!0)};w.prototype.lastIndexOf=
function(P,C,V){return a(this,P,C,V,!1)};w.prototype.write=function(P,C,V,ha){if(void 0===C)ha="utf8",V=this.length,C=0;else if(void 0===V&&"string"===typeof C)ha=C,V=this.length,C=0;else if(isFinite(C))C|=0,isFinite(V)?(V|=0,void 0===ha&&(ha="utf8")):(ha=V,V=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var aa=this.length-C;if(void 0===V||V>aa)V=aa;if(0<P.length&&(0>V||0>C)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");
ha||(ha="utf8");for(aa=!1;;)switch(ha){case "hex":a:{C=Number(C)||0;ha=this.length-C;V?(V=Number(V),V>ha&&(V=ha)):V=ha;ha=P.length;if(0!==ha%2)throw new TypeError("Invalid hex string");V>ha/2&&(V=ha/2);for(ha=0;ha<V;++ha){aa=parseInt(P.substr(2*ha,2),16);if(isNaN(aa)){P=ha;break a}this[C+ha]=aa}P=ha}return P;case "utf8":case "utf-8":return T(K(P,this.length-C),this,C,V);case "ascii":return T(R(P),this,C,V);case "latin1":case "binary":return T(R(P),this,C,V);case "base64":return T(ja.toByteArray(G(P)),
this,C,V);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":ha=P;aa=this.length-C;for(var ta=[],wa=0;wa<ha.length&&!(0>(aa-=2));++wa){var Ha=ha.charCodeAt(wa);P=Ha>>8;Ha%=256;ta.push(Ha);ta.push(P)}return T(ta,this,C,V);default:if(aa)throw new TypeError("Unknown encoding: "+ha);ha=(""+ha).toLowerCase();aa=!0}};w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var la=4096;w.prototype.slice=function(P,C){var V=this.length;P=~~P;C=void 0===
C?V:~~C;0>P?(P+=V,0>P&&(P=0)):P>V&&(P=V);0>C?(C+=V,0>C&&(C=0)):C>V&&(C=V);C<P&&(C=P);if(w.TYPED_ARRAY_SUPPORT)C=this.subarray(P,C),C.__proto__=w.prototype;else{V=C-P;C=new w(V,void 0);for(var ha=0;ha<V;++ha)C[ha]=this[ha+P]}return C};w.prototype.readUIntLE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P];for(var ha=1,aa=0;++aa<C&&(ha*=256);)V+=this[P+aa]*ha;return V};w.prototype.readUIntBE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P+--C];for(var ha=1;0<C&&(ha*=256);)V+=this[P+
--C]*ha;return V};w.prototype.readUInt8=function(P,C){C||y(P,1,this.length);return this[P]};w.prototype.readUInt16LE=function(P,C){C||y(P,2,this.length);return this[P]|this[P+1]<<8};w.prototype.readUInt16BE=function(P,C){C||y(P,2,this.length);return this[P]<<8|this[P+1]};w.prototype.readUInt32LE=function(P,C){C||y(P,4,this.length);return(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]};w.prototype.readUInt32BE=function(P,C){C||y(P,4,this.length);return 16777216*this[P]+(this[P+1]<<16|this[P+
2]<<8|this[P+3])};w.prototype.readIntLE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P];for(var ha=1,aa=0;++aa<C&&(ha*=256);)V+=this[P+aa]*ha;V>=128*ha&&(V-=Math.pow(2,8*C));return V};w.prototype.readIntBE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=C;for(var ha=1,aa=this[P+--V];0<V&&(ha*=256);)aa+=this[P+--V]*ha;aa>=128*ha&&(aa-=Math.pow(2,8*C));return aa};w.prototype.readInt8=function(P,C){C||y(P,1,this.length);return this[P]&128?-1*(255-this[P]+1):this[P]};w.prototype.readInt16LE=
function(P,C){C||y(P,2,this.length);P=this[P]|this[P+1]<<8;return P&32768?P|4294901760:P};w.prototype.readInt16BE=function(P,C){C||y(P,2,this.length);P=this[P+1]|this[P]<<8;return P&32768?P|4294901760:P};w.prototype.readInt32LE=function(P,C){C||y(P,4,this.length);return this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24};w.prototype.readInt32BE=function(P,C){C||y(P,4,this.length);return this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]};w.prototype.readFloatLE=function(P,C){C||y(P,4,this.length);return fa.read(this,
P,!0,23,4)};w.prototype.readFloatBE=function(P,C){C||y(P,4,this.length);return fa.read(this,P,!1,23,4)};w.prototype.readDoubleLE=function(P,C){C||y(P,8,this.length);return fa.read(this,P,!0,52,8)};w.prototype.readDoubleBE=function(P,C){C||y(P,8,this.length);return fa.read(this,P,!1,52,8)};w.prototype.writeUIntLE=function(P,C,V,ha){P=+P;C|=0;V|=0;ha||B(this,P,C,V,Math.pow(2,8*V)-1,0);ha=1;var aa=0;for(this[C]=P&255;++aa<V&&(ha*=256);)this[C+aa]=P/ha&255;return C+V};w.prototype.writeUIntBE=function(P,
C,V,ha){P=+P;C|=0;V|=0;ha||B(this,P,C,V,Math.pow(2,8*V)-1,0);ha=V-1;var aa=1;for(this[C+ha]=P&255;0<=--ha&&(aa*=256);)this[C+ha]=P/aa&255;return C+V};w.prototype.writeUInt8=function(P,C,V){P=+P;C|=0;V||B(this,P,C,1,255,0);w.TYPED_ARRAY_SUPPORT||(P=Math.floor(P));this[C]=P&255;return C+1};w.prototype.writeUInt16LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8):D(this,P,C,!0);return C+2};w.prototype.writeUInt16BE=function(P,C,V){P=+P;C|=0;V||
B(this,P,C,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>8,this[C+1]=P&255):D(this,P,C,!1);return C+2};w.prototype.writeUInt32LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[C+3]=P>>>24,this[C+2]=P>>>16,this[C+1]=P>>>8,this[C]=P&255):O(this,P,C,!0);return C+4};w.prototype.writeUInt32BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>24,this[C+1]=P>>>16,this[C+2]=P>>>8,this[C+3]=P&255):O(this,P,C,!1);return C+4};w.prototype.writeIntLE=
function(P,C,V,ha){P=+P;C|=0;ha||(ha=Math.pow(2,8*V-1),B(this,P,C,V,ha-1,-ha));ha=0;var aa=1,ta=0;for(this[C]=P&255;++ha<V&&(aa*=256);)0>P&&0===ta&&0!==this[C+ha-1]&&(ta=1),this[C+ha]=(P/aa>>0)-ta&255;return C+V};w.prototype.writeIntBE=function(P,C,V,ha){P=+P;C|=0;ha||(ha=Math.pow(2,8*V-1),B(this,P,C,V,ha-1,-ha));ha=V-1;var aa=1,ta=0;for(this[C+ha]=P&255;0<=--ha&&(aa*=256);)0>P&&0===ta&&0!==this[C+ha+1]&&(ta=1),this[C+ha]=(P/aa>>0)-ta&255;return C+V};w.prototype.writeInt8=function(P,C,V){P=+P;C|=
0;V||B(this,P,C,1,127,-128);w.TYPED_ARRAY_SUPPORT||(P=Math.floor(P));0>P&&(P=255+P+1);this[C]=P&255;return C+1};w.prototype.writeInt16LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8):D(this,P,C,!0);return C+2};w.prototype.writeInt16BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>8,this[C+1]=P&255):D(this,P,C,!1);return C+2};w.prototype.writeInt32LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,
4,2147483647,-2147483648);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8,this[C+2]=P>>>16,this[C+3]=P>>>24):O(this,P,C,!0);return C+4};w.prototype.writeInt32BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,2147483647,-2147483648);0>P&&(P=4294967295+P+1);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>24,this[C+1]=P>>>16,this[C+2]=P>>>8,this[C+3]=P&255):O(this,P,C,!1);return C+4};w.prototype.writeFloatLE=function(P,C,V){return F(this,P,C,!0,V)};w.prototype.writeFloatBE=function(P,C,V){return F(this,P,C,!1,V)};
w.prototype.writeDoubleLE=function(P,C,V){return z(this,P,C,!0,V)};w.prototype.writeDoubleBE=function(P,C,V){return z(this,P,C,!1,V)};w.prototype.copy=function(P,C,V,ha){V||(V=0);ha||0===ha||(ha=this.length);C>=P.length&&(C=P.length);C||(C=0);0<ha&&ha<V&&(ha=V);if(ha===V||0===P.length||0===this.length)return 0;if(0>C)throw new RangeError("targetStart out of bounds");if(0>V||V>=this.length)throw new RangeError("sourceStart out of bounds");if(0>ha)throw new RangeError("sourceEnd out of bounds");ha>
this.length&&(ha=this.length);P.length-C<ha-V&&(ha=P.length-C+V);var aa=ha-V;if(this===P&&V<C&&C<ha)for(ha=aa-1;0<=ha;--ha)P[ha+C]=this[ha+V];else if(1E3>aa||!w.TYPED_ARRAY_SUPPORT)for(ha=0;ha<aa;++ha)P[ha+C]=this[ha+V];else Uint8Array.prototype.set.call(P,this.subarray(V,V+aa),C);return aa};w.prototype.fill=function(P,C,V,ha){if("string"===typeof P){"string"===typeof C?(ha=C,C=0,V=this.length):"string"===typeof V&&(ha=V,V=this.length);if(1===P.length){var aa=P.charCodeAt(0);256>aa&&(P=aa)}if(void 0!==
ha&&"string"!==typeof ha)throw new TypeError("encoding must be a string");if("string"===typeof ha&&!w.isEncoding(ha))throw new TypeError("Unknown encoding: "+ha);}else"number"===typeof P&&(P&=255);if(0>C||this.length<C||this.length<V)throw new RangeError("Out of range index");if(V<=C)return this;C>>>=0;V=void 0===V?this.length:V>>>0;P||(P=0);if("number"===typeof P)for(ha=C;ha<V;++ha)this[ha]=P;else for(P=w.isBuffer(P)?P:K((new w(P,ha)).toString()),aa=P.length,ha=0;ha<V-C;++ha)this[ha+C]=P[ha%aa];
return this};var Z=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[25]=function(Ia,A,rb,E){var k=A(24).Buffer;!function(l,w){"object"==typeof E&&"undefined"!=typeof rb?w(E,A(14),A(20)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],w):w((l="undefined"!=typeof globalThis?globalThis:l||self).vega={},l.vega,l.vega)}(this,function(l,w,H){function N(va,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Ca=yield Ya.sanitize(va,Ta),ua=Ca.href;return Ca.localFile?Ya.file(ua):Ya.http(ua,
Ta)})}function x(va,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ta=w.extend({},Ya.options,Ta);const Ca=Ya.fileAccess,ua={href:null};let U,W,ba;var ca=Z.test(va.replace(P,""));null!=va&&"string"==typeof va&&ca||w.error("Sanitize failure, invalid URI: "+w.stringValue(va));ca=la.test(va);return(ba=Ta.baseURL)&&!ca&&(va.startsWith("/")||"/"===ba[ba.length-1]||(va="/"+va),va=ba+va),W=(U=va.startsWith("file://"))||"file"===Ta.mode||"http"!==Ta.mode&&!ca&&Ca,U?va=va.slice(7):
va.startsWith("//")&&("file"===Ta.defaultProtocol?(va=va.slice(2),W=!0):va=(Ta.defaultProtocol||"http")+":"+va),Object.defineProperty(ua,"localFile",{value:!!W}),ua.href=va,Ta.target&&(ua.target=Ta.target+""),Ta.rel&&(ua.rel=Ta.rel+""),"image"===Ta.context&&Ta.crossOrigin&&(ua.crossOrigin=Ta.crossOrigin+""),ua})}function v(va){return va?Ta=>new Promise((Ya,Ca)=>{va.readFile(Ta,(ua,U)=>{ua?Ca(ua):Ya(U)})}):u}function u(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No file system access.")})}
function m(va){return va?function(Ta,Ya){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ua=w.extend({},Ca.options.http,Ya);const U=Ya&&Ya.response;ua=yield va(Ta,ua);return ua.ok?w.isFunction(ua[U])?ua[U]():ua.text():w.error(ua.status+""+ua.statusText)})}:g}function g(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No HTTP fetch method available.")})}function d(va,Ta){if(!va||!va.length)return"unknown";const Ya=va.length,Ca=ha.length,ua=
ha.map((W,ba)=>ba+1);for(let W,ba,ca=0,ra=0;ca<Ya;++ca)for(ba=Ta?va[ca][Ta]:va[ca],W=0;W<Ca;++W)if(ua[W]&&null!=(U=ba)&&U==U&&!ha[W](ba)&&(ua[W]=0,++ra,ra===ha.length))return"string";var U;return aa[ua.reduce((W,ba)=>0===W?ba:W,0)-1]}function f(va,Ta){return Ta.reduce((Ya,Ca)=>(Ya[Ca]=d(va,Ca),Ya),{})}function a(va){return new Function("d","return {"+va.map(function(Ta,Ya){return JSON.stringify(Ta)+": d["+Ya+'] || ""'}).join(",")+"}")}function e(va){var Ta=Object.create(null),Ya=[];return va.forEach(function(Ca){for(var ua in Ca)ua in
Ta||Ya.push(Ta[ua]=ua)}),Ya}function n(va,Ta){va+="";var Ya=va.length;return Ya<Ta?Array(Ta-Ya+1).join(0)+va:va}function y(va){function Ta(ba,ca){function ra(){if($a)return wa;if(Fa)return Fa=!1,ta;var pa,Ja,Ua=Ra;if(34===ba.charCodeAt(Ua)){for(;Ra++<na&&34!==ba.charCodeAt(Ra)||34===ba.charCodeAt(++Ra););return(pa=Ra)>=na?$a=!0:10===(Ja=ba.charCodeAt(Ra++))?Fa=!0:13===Ja&&(Fa=!0,10===ba.charCodeAt(Ra)&&++Ra),ba.slice(Ua+1,pa-1).replace(/""/g,'"')}for(;Ra<na;){if(10===(Ja=ba.charCodeAt(pa=Ra++)))Fa=
!0;else if(13===Ja)Fa=!0,10===ba.charCodeAt(Ra)&&++Ra;else if(Ja!==W)continue;return ba.slice(Ua,pa)}return $a=!0,ba.slice(Ua,na)}var qa,Da=[],na=ba.length,Ra=0,db=0,$a=0>=na,Fa=!1;10===ba.charCodeAt(na-1)&&--na;for(13===ba.charCodeAt(na-1)&&--na;(qa=ra())!==wa;){for(var Ga=[];qa!==ta&&qa!==wa;)Ga.push(qa),qa=ra();ca&&null==(Ga=ca(Ga,db++))||Da.push(Ga)}return Da}function Ya(ba,ca){return ba.map(function(ra){return ca.map(function(qa){return ua(ra[qa])}).join(va)})}function Ca(ba){return ba.map(ua).join(va)}
function ua(ba){if(null==ba)var ca="";else{if(ba instanceof Date){var ra=ba.getUTCHours();var qa=ba.getUTCMinutes(),Da=ba.getUTCSeconds(),na=ba.getUTCMilliseconds();ra=isNaN(ba)?"Invalid Date":(0>(ca=ba.getUTCFullYear())?"-"+n(-ca,6):9999<ca?"+"+n(ca,6):n(ca,4))+"-"+n(ba.getUTCMonth()+1,2)+"-"+n(ba.getUTCDate(),2)+(na?"T"+n(ra,2)+":"+n(qa,2)+":"+n(Da,2)+"."+n(na,3)+"Z":Da?"T"+n(ra,2)+":"+n(qa,2)+":"+n(Da,2)+"Z":qa||ra?"T"+n(ra,2)+":"+n(qa,2)+"Z":"")}else ra=U.test(ba+="")?'"'+ba.replace(/"/g,'""')+
'"':ba;ca=ra}return ca}var U=new RegExp('["'+va+"\n\r]"),W=va.charCodeAt(0);return{parse:function(ba,ca){var ra,qa;ba=Ta(ba,function(Da,na){if(ra)return ra(Da,na-1);qa=Da;ra=ca?function(Ra,db){var $a=a(Ra);return function(Fa,Ga){return db($a(Fa),Ga,Ra)}}(Da,ca):a(Da)});return ba.columns=qa||[],ba},parseRows:Ta,format:function(ba,ca){return null==ca&&(ca=e(ba)),[ca.map(ua).join(va)].concat(Ya(ba,ca)).join("\n")},formatBody:function(ba,ca){return null==ca&&(ca=e(ba)),Ya(ba,ca).join("\n")},formatRows:function(ba){return ba.map(Ca).join("\n")},
formatRow:Ca,formatValue:ua}}function B(va){const Ta=function(Ya,Ca){const ua={delimiter:va};return D(Ya,Ca?w.extend(Ca,ua):ua)};return Ta.responseType="text",Ta}function D(va,Ta){return Ta.header&&(va=Ta.header.map(w.stringValue).join(Ta.delimiter)+"\n"+va),y(Ta.delimiter).parse(va+"")}function O(va,Ta){const Ya=Ta&&Ta.property?w.field(Ta.property):w.identity;!w.isObject(va)||(Ca=va,"function"==typeof k&&w.isFunction(k.isBuffer)&&k.isBuffer(Ca))?Ta=Ya(JSON.parse(va)):(va=Ya(va),!w.isArray(va)&&w.isIterable(va)&&
(va=[...va]),Ta=Ta&&Ta.copy?JSON.parse(JSON.stringify(va)):va);return Ta;var Ca}function M(va){return va}function F(va,Ta){return"string"==typeof Ta&&(Ta=va.objects[Ta]),"GeometryCollection"===Ta.type?{type:"FeatureCollection",features:Ta.geometries.map(function(Ya){return z(va,Ya)})}:z(va,Ta)}function z(va,Ta){var Ya=Ta.id,Ca=Ta.bbox,ua=null==Ta.properties?{}:Ta.properties;va=G(va,Ta);return null==Ya&&null==Ca?{type:"Feature",properties:ua,geometry:va}:null==Ca?{type:"Feature",id:Ya,properties:ua,
geometry:va}:{type:"Feature",id:Ya,bbox:Ca,properties:ua,geometry:va}}function G(va,Ta){function Ya(ca){return W(ca)}function Ca(ca){for(var ra=[],qa=0,Da=ca.length;qa<Da;++qa){var na,Ra=ca[qa],db=ra;db.length&&db.pop();var $a=ba[0>Ra?~Ra:Ra],Fa=0;for(na=$a.length;Fa<na;++Fa)db.push(W($a[Fa],Fa));if(0>Ra)for(Ra=db.length,$a=Ra-na;$a<--Ra;)na=db[$a],db[$a++]=db[Ra],db[Ra]=na}return 2>ra.length&&ra.push(ra[0]),ra}function ua(ca){for(ca=Ca(ca);4>ca.length;)ca.push(ca[0]);return ca}function U(ca){return ca.map(ua)}
var W=function(ca){if(null==ca)return M;var ra,qa,Da=ca.scale[0],na=ca.scale[1],Ra=ca.translate[0],db=ca.translate[1];return function($a,Fa){Fa||(ra=qa=0);Fa=2;var Ga=$a.length,pa=Array(Ga);pa[0]=(ra+=$a[0])*Da+Ra;for(pa[1]=(qa+=$a[1])*na+db;Fa<Ga;)pa[Fa]=$a[Fa],++Fa;return pa}}(va.transform),ba=va.arcs;return function qa(ra){var Da=ra.type;switch(Da){case "GeometryCollection":return{type:Da,geometries:ra.geometries.map(qa)};case "Point":ra=W(ra.coordinates);break;case "MultiPoint":ra=ra.coordinates.map(Ya);
break;case "LineString":ra=Ca(ra.arcs);break;case "MultiLineString":ra=ra.arcs.map(Ca);break;case "Polygon":ra=U(ra.arcs);break;case "MultiPolygon":ra=ra.arcs.map(U);break;default:return null}return{type:Da,coordinates:ra}}(Ta)}function K(va,Ta){function Ya(ca,ra){for(var qa in ca){var Da=ca[qa];delete ra[Da.start];delete Da.start;delete Da.end;Da.forEach(function(na){Ca[0>na?~na:na]=1});W.push(Da)}}var Ca={},ua={},U={},W=[],ba=-1;return Ta.forEach(function(ca,ra){var qa,Da=va.arcs[0>ca?~ca:ca];3>
Da.length&&!Da[1][0]&&!Da[1][1]&&(qa=Ta[++ba],Ta[ba]=ca,Ta[ra]=qa)}),Ta.forEach(function(ca){var ra=function(na){var Ra,db=va.arcs[0>na?~na:na],$a=db[0];va.transform?(Ra=[0,0],db.forEach(function(Fa){Ra[0]+=Fa[0];Ra[1]+=Fa[1]})):Ra=db[db.length-1];return 0>na?[Ra,$a]:[$a,Ra]}(ca);var qa=ra[0],Da=ra[1];(ra=U[qa])?(delete U[ra.end],ra.push(ca),ra.end=Da,ca=ua[Da])?(delete ua[ca.start],qa=ca===ra?ra:ra.concat(ca),ua[qa.start=ra.start]=U[qa.end=ca.end]=qa):ua[ra.start]=U[ra.end]=ra:(ra=ua[Da])?(delete ua[ra.start],
ra.unshift(ca),ra.start=qa,ca=U[qa])?(delete U[ca.end],qa=ca===ra?ra:ca.concat(ra),ua[qa.start=ca.start]=U[qa.end=ra.end]=qa):ua[ra.start]=U[ra.end]=ra:ua[(ra=[ca]).start=qa]=U[ra.end=Da]=ra}),Ya(U,ua),Ya(ua,U),Ta.forEach(function(ca){Ca[0>ca?~ca:ca]||W.push([ca])}),W}function R(va){return G(va,T.apply(this,arguments))}function T(va,Ta,Ya){var Ca;if(1<arguments.length)var ua=ja(va,Ta,Ya);else{var U=0;for(ua=Array(Ca=va.arcs.length);U<Ca;++U)ua[U]=U}return{type:"MultiLineString",arcs:K(va,ua)}}function ja(va,
Ta,Ya){function Ca(ra){var qa=0>ra?~ra:ra;(ca[qa]||(ca[qa]=[])).push({i:ra,g:W})}function ua(ra){ra.forEach(Ca)}function U(ra){ra.forEach(ua)}var W,ba=[],ca=[];return function Da(qa){switch(W=qa,qa.type){case "GeometryCollection":qa.geometries.forEach(Da);break;case "LineString":ua(qa.arcs);break;case "MultiLineString":case "Polygon":U(qa.arcs);break;case "MultiPolygon":qa.arcs.forEach(U),!0}}(Ta),ca.forEach(null==Ya?function(qa){ba.push(qa[0].i)}:function(qa){Ya(qa[0].g,qa[qa.length-1].g)&&ba.push(qa[0].i)}),
ba}function fa(va,Ta){let Ya,Ca,ua,U;return va=O(va,Ta),Ta&&Ta.feature?(Ya=F,ua=Ta.feature):Ta&&Ta.mesh?(Ya=R,ua=Ta.mesh,U=Ha[Ta.filter]):w.error("Missing TopoJSON feature or mesh parameter."),Ca=(Ca=va.objects[ua])?Ya(va,Ca,U):w.error("Invalid TopoJSON object: "+ua),Ca&&Ca.features||[Ca]}function ia(va,Ta){return 1<arguments.length?(bb[va]=Ta,this):w.hasOwnProperty(bb,va)?bb[va]:null}const la=/^([A-Za-z]+:)?\/\//,Z=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
P=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,C=va=>!(Number.isNaN(+va)||va instanceof Date),V={boolean:w.toBoolean,integer:w.toNumber,number:w.toNumber,date:w.toDate,string:w.toString,unknown:w.identity},ha=[va=>"true"===va||"false"===va||!0===va||!1===va,va=>C(va)&&Number.isInteger(+va),C,va=>!Number.isNaN(Date.parse(va))],aa=["boolean","integer","number","date"];var ta={},wa={};D.responseType="text";O.responseType="json";const Ha={interior:(va,Ta)=>va!==Ta,exterior:(va,Ta)=>va===
Ta};fa.responseType="json";const bb={dsv:D,csv:B(","),tsv:B("\t"),json:O,topojson:fa},kb=function(va,Ta){return Ya=>({options:Ya||{},sanitize:x,load:N,fileAccess:!!Ta,file:v(Ta),http:m(va)})}("undefined"!=typeof fetch&&fetch,null);l.format=bb;l.formats=ia;l.inferType=d;l.inferTypes=f;l.loader=kb;l.read=function(va,Ta,Ya,Ca){const ua=ia((Ta=Ta||{}).type||"json");return ua||w.error("Unknown data format type: "+Ta.type),va=ua(va,Ta),Ta.parse&&function(U,W,ba,ca){if(U.length){var ra=H.timeFormatDefaultLocale();
ba=ba||ra.timeParse;ca=ca||ra.utcParse;var qa,Da,na=U.columns||Object.keys(U[0]);"auto"===W&&(W=f(U,na));na=Object.keys(W);var Ra=na.map(Ga=>{var pa=W[Ga];if(pa&&(pa.startsWith("date:")||pa.startsWith("utc:")))return Ga=pa.split(/:(.+)?/,2),pa=Ga[1],("'"===pa[0]&&"'"===pa[pa.length-1]||'"'===pa[0]&&'"'===pa[pa.length-1])&&(pa=pa.slice(1,-1)),("utc"===Ga[0]?ca:ba)(pa);if(!V[pa])throw Error("Illegal format pattern: "+Ga+":"+pa);return V[pa]});var db=0;var $a=U.length;for(Da=na.length;db<$a;++db)for(ra=
U[db],qa=0;qa<Da;++qa){var Fa=na[qa];ra[Fa]=Ra[qa](ra[Fa])}}}(va,Ta.parse,Ya,Ca),w.hasOwnProperty(va,"columns")&&delete va.columns,va};l.responseType=function(va){return(va=ia(va))&&va.responseType||"text"};l.typeParsers=V;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(25),A(20)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(va){const Ta=va||l.identity,Ya=[],Ca={};Ya.add=ua=>{const U=Ta(ua);Ca[U]||(Ca[U]=1,Ya.push(ua));return Ya};Ya.remove=ua=>{const U=Ta(ua);Ca[U]&&(Ca[U]=0,
ua=Ya.indexOf(ua),0<=ua&&Ya.splice(ua,1));return Ya};return Ya}function x(va,Ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Ta(va)}catch(Ya){va.error(Ya)}})}function v(va){va=va===Object(va)?va:{data:va};if(!va[C]){var Ta=V++;va[C]=Ta}return va}function u(va,Ta){for(const Ya in va)Ta[Ya]=va[Ya];return Ta}function m(va){return va&&va.constructor===g}function g(){const va=[],Ta=[],Ya=[],Ca=[],ua=[];let U=null,W=!1;return{constructor:g,insert(ba){ba=l.array(ba);const ca=
ba.length;for(let ra=0;ra<ca;++ra)va.push(ba[ra]);return this},remove(ba){const ca=l.isFunction(ba)?Ca:Ta;ba=l.array(ba);const ra=ba.length;for(let qa=0;qa<ra;++qa)ca.push(ba[qa]);return this},modify(ba,ca,ra){ca={field:ca,value:l.constant(ra)};l.isFunction(ba)?(ca.filter=ba,ua.push(ca)):(ca.tuple=ba,Ya.push(ca));return this},encode(ba,ca){l.isFunction(ba)?ua.push({filter:ba,field:ca}):Ya.push({tuple:ba,field:ca});return this},clean(ba){U=ba;return this},reflow(){W=!0;return this},pulse(ba,ca){function ra(pa,
Ja,Ua){Ua?pa[Ja]=Ua(pa):ba.encode=Ja;W||(Da[pa[C]]=pa)}const qa={},Da={};let na,Ra,db,$a,Fa,Ga;na=0;for(Ra=ca.length;na<Ra;++na)qa[ca[na][C]]=1;na=0;for(Ra=Ta.length;na<Ra;++na)Fa=Ta[na],qa[Fa[C]]=-1;na=0;for(Ra=Ca.length;na<Ra;++na)$a=Ca[na],ca.forEach(pa=>{$a(pa)&&(qa[pa[C]]=-1)});na=0;for(Ra=va.length;na<Ra;++na)Fa=va[na],Ga=Fa[C],qa[Ga]?qa[Ga]=1:ba.add.push(v(va[na]));na=0;for(Ra=ca.length;na<Ra;++na)Fa=ca[na],0>qa[Fa[C]]&&ba.rem.push(Fa);na=0;for(Ra=Ya.length;na<Ra;++na)db=Ya[na],Fa=db.tuple,
$a=db.field,Ga=qa[Fa[C]],0<Ga&&(ra(Fa,$a,db.value),ba.modifies($a));na=0;for(Ra=ua.length;na<Ra;++na)db=ua[na],$a=db.filter,ca.forEach(pa=>{$a(pa)&&0<qa[pa[C]]&&ra(pa,db.field,db.value)}),ba.modifies(db.field);if(W)ba.mod=Ta.length||Ca.length?ca.filter(pa=>0<qa[pa[C]]):ca.slice();else for(Ga in Da)ba.mod.push(Da[Ga]);(U||null==U&&(Ta.length||Ca.length))&&ba.clean(!0);return ba}}}function d(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function f(va,Ta,Ya,Ca){this.id=++ha;this.value=
va;this.qrank=this.rank=this.stamp=-1;this.flags=0;Ta&&(this._update=Ta);Ya&&this.parameters(Ya,Ca)}function a(va){return function(Ta){const Ya=this.flags;if(0===arguments.length)return!!(Ya&va);this.flags=Ta?Ya|va:Ya&~va;return this}}function e(va,Ta,Ya){this.id=++ta;this.value=null;Ya&&(this.receive=Ya);va&&(this._filter=va);Ta&&(this._apply=Ta)}function n(va,Ta,Ya){return new e(va,Ta,Ya)}function y(va){let Ta;const Ya=new Promise(Ca=>Ta=Ca);Ya.requests=0;Ya.done=()=>{0===--Ya.requests&&(va._pending=
null,Ta(va))};return va._pending=Ya}function B(va,Ta,Ya,Ca,ua,U){const W=l.extend({},U,wa);let ba;l.isFunction(Ya)||(Ya=l.constant(Ya));void 0===Ca?ua=ca=>va.touch(Ya(ca)):l.isFunction(Ca)?(ba=new f(null,Ca,ua,!1),ua=ca=>{ba.evaluate(ca);ca=Ya(ca);const ra=ba.value;m(ra)?va.pulse(ca,ra,U):va.update(ca,ra,W)}):ua=ca=>va.update(Ya(ca),Ca,W);Ta.apply(ua)}function D(va,Ta,Ya,Ca,ua,U){void 0===Ca?Ta.targets().add(Ya):(U=U||{},Ca=new f(null,O(Ya,Ca),ua,!1),Ca.modified(U.force),Ca.rank=Ta.rank,Ta.targets().add(Ca),
Ya&&(Ca.skip(!0),Ca.value=Ya.value,Ca.targets().add(Ya),va.connect(Ya,[Ca])))}function O(va,Ta){Ta=l.isFunction(Ta)?Ta:l.constant(Ta);return va?function(Ya,Ca){Ya=Ta(Ya,Ca);va.skip()||(va.skip(Ya!==this.value).value=Ya);return Ya}:Ta}function M(va,Ta,Ya){this.dataflow=va;this.stamp=null==Ta?-1:Ta;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Ya||null}function F(va,Ta){const Ya=[];l.visitArray(va,Ta,Ca=>Ya.push(Ca));return Ya}function z(va,Ta){const Ya={};va.visit(Ta,Ca=>{Ya[Ca[C]]=
1});return Ca=>Ya[Ca[C]]?null:Ca}function G(va,Ta){return va?(Ya,Ca)=>va(Ya,Ca)&&Ta(Ya,Ca):Ta}function K(va,Ta,Ya,Ca){const ua=Ya.length;let U=0;this.dataflow=va;this.stamp=Ta;this.fields=null;this.encode=Ca||null;this.pulses=Ya;for(va=0;va<ua;++va)if(Ca=Ya[va],Ca.stamp===Ta){if(Ca.fields){const W=this.fields||(this.fields={});for(const ba in Ca.fields)W[ba]=1}Ca.changed(this.ADD)&&(U|=this.ADD);Ca.changed(this.REM)&&(U|=this.REM);Ca.changed(this.MOD)&&(U|=this.MOD)}this.changes=U}function R(va){va.error("Dataflow already running. Use runAsync() to chain invocations.");
return va}function T(va,Ta){if(Ta&&Ta.stamp===va.stamp)return Ta;va=va.fork();Ta&&Ta!==Ha&&(va.source=Ta.source);return va}function ja(va){let Ta=[];return{clear:()=>Ta=[],size:()=>Ta.length,peek:()=>Ta[0],push:Ya=>{Ta.push(Ya);return fa(Ta,0,Ta.length-1,va)},pop:()=>{var Ya=Ta.pop();let Ca;if(Ta.length){Ca=Ta[0];Ta[0]=Ya;{Ya=Ta;var ua=0;const U=ua,W=Ya.length,ba=Ya[ua];let ca=(ua<<1)+1,ra;for(;ca<W;)ra=ca+1,ra<W&&0<=va(Ya[ca],Ya[ra])&&(ca=ra),Ya[ua]=Ya[ca],ua=ca,ca=(ua<<1)+1;Ya[ua]=ba;fa(Ya,U,ua,
va)}}else Ca=Ya;return Ca}}}function fa(va,Ta,Ya,Ca){let ua,U;const W=va[Ya];for(;Ya>Ta;)if(U=Ya-1>>1,ua=va[U],0>Ca(W,ua))va[Ya]=ua,Ya=U;else break;return va[Ya]=W}function ia(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=H.defaultLocale();try{this._loader=w.loader()}catch(va){}this._touched=N(l.id);this._input={};this._pulse=null;this._heap=ja((va,Ta)=>va.qrank-Ta.qrank);this._postrun=[]}function la(va){return function(){return this._log[va].apply(this,arguments)}}
function Z(va,Ta){f.call(this,va,null,Ta)}function P(va){va=va&&va.toLowerCase();return l.hasOwnProperty(kb,va)?kb[va]:null}const C=Symbol("vega_id");let V=1;d.prototype={set(va,Ta,Ya,Ca){const ua=this[va],U=this["_:mod:_"];if(null!=Ta&&0<=Ta){if(ua[Ta]!==Ya||Ca)ua[Ta]=Ya,U[Ta+":"+va]=-1,U[va]=-1}else if(ua!==Ya||Ca)this[va]=Ya,U[va]=l.isArray(Ya)?1+Ya.length:-1;return this},modified(va,Ta){const Ya=this["_:mod:_"];if(!arguments.length){for(var Ca in Ya)if(Ya[Ca])return!0;return!1}if(l.isArray(va)){for(Ca=
0;Ca<va.length;++Ca)if(Ya[va[Ca]])return!0;return!1}return null!=Ta&&0<=Ta?Ta+1<Ya[va]||!!Ya[Ta+":"+va]:!!Ya[va]},clear(){this["_:mod:_"]={};return this}};let ha=0;const aa=new d;f.prototype={targets(){return this._targets||(this._targets=N(l.id))},set(va){return this.value!==va?(this.value=va,1):0},skip:a(1),modified:a(2),parameters(va,Ta,Ya){Ta=!1!==Ta;const Ca=this._argval=this._argval||new d,ua=this._argops=this._argops||[],U=[];let W,ba,ca,ra;const qa=(Da,na,Ra)=>{Ra instanceof f?(Ra!==this&&
(Ta&&Ra.targets().add(this),U.push(Ra)),ua.push({op:Ra,name:Da,index:na})):Ca.set(Da,na,Ra)};for(W in va)if(ba=va[W],"pulse"===W)l.array(ba).forEach(Da=>{Da instanceof f?Da!==this&&(Da.targets().add(this),U.push(Da)):l.error("Pulse parameters must be operator instances.")}),this.source=ba;else if(l.isArray(ba))for(Ca.set(W,-1,Array(ca=ba.length)),ra=0;ra<ca;++ra)qa(W,ra,ba[ra]);else qa(W,-1,ba);this.marshall().clear();Ya&&(ua.initonly=!0);return U},marshall(va){const Ta=this._argval||aa,Ya=this._argops;
let Ca,ua,U,W;if(Ya){const ba=Ya.length;for(ua=0;ua<ba;++ua)Ca=Ya[ua],U=Ca.op,W=U.modified()&&U.stamp===va,Ta.set(Ca.name,Ca.index,U.value,W);if(Ya.initonly){for(ua=0;ua<ba;++ua)Ca=Ya[ua],Ca.op.targets().remove(this);this._update=this._argops=null}}return Ta},detach(){const va=this._argops;let Ta,Ya;if(va)for(Ta=0,Ya=va.length;Ta<Ya;++Ta){var Ca=va[Ta];Ca=Ca.op;Ca._targets&&Ca._targets.remove(this)}},evaluate(va){var Ta=this._update;if(Ta){const Ya=this.marshall(va.stamp);Ta=Ta.call(this,Ya,va);Ya.clear();
if(Ta!==this.value)this.value=Ta;else if(!this.modified())return va.StopPropagation}},run(va){if(va.stamp<this.stamp)return va.StopPropagation;let Ta;this.skip()?(this.skip(!1),Ta=0):Ta=this.evaluate(va);return this.pulse=Ta||va}};let ta=0;e.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=N(l.id))},consume(va){if(!arguments.length)return!!this._consume;this._consume=!!va;return this},receive(va){if(this._filter(va)){const Ta=this.value=this._apply(va),
Ya=this._targets,Ca=Ya?Ya.length:0;for(let ua=0;ua<Ca;++ua)Ya[ua].receive(Ta);this._consume&&(va.preventDefault(),va.stopPropagation())}},filter(va){va=n(va);this.targets().add(va);return va},apply(va){va=n(null,va);this.targets().add(va);return va},merge(){const va=n();this.targets().add(va);for(let Ta=0,Ya=arguments.length;Ta<Ya;++Ta)arguments[Ta].targets().add(va);return va},throttle(va){let Ta=-1;return this.filter(()=>{const Ya=Date.now();return Ya-Ta>va?(Ta=Ya,1):0})},debounce(va){const Ta=
n();this.targets().add(n(null,null,l.debounce(va,Ya=>{const Ca=Ya.dataflow;Ta.receive(Ya);Ca&&Ca.run&&Ca.run()})));return Ta},between(va,Ta){let Ya=!1;va.targets().add(n(null,null,()=>Ya=!0));Ta.targets().add(n(null,null,()=>Ya=!1));return this.filter(()=>Ya)},detach(){}};const wa={skip:!0},Ha={};M.prototype={StopPropagation:Ha,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(va){return(new M(this.dataflow)).init(this,va)},clone(){const va=this.fork(7);
va.add=va.add.slice();va.rem=va.rem.slice();va.mod=va.mod.slice();va.source&&(va.source=va.source.slice());return va.materialize(23)},addAll(){let va=this;va.source&&va.add!==va.rem&&(va.rem.length||va.source.length!==va.add.length)&&(va=(new M(this.dataflow)).init(this),va.add=va.source,va.rem=[]);return va},init(va,Ta){this.stamp=va.stamp;this.encode=va.encode;!va.fields||Ta&64||(this.fields=va.fields);Ta&1?(this.addF=va.addF,this.add=va.add):(this.addF=null,this.add=[]);Ta&2?(this.remF=va.remF,
this.rem=va.rem):(this.remF=null,this.rem=[]);Ta&4?(this.modF=va.modF,this.mod=va.mod):(this.modF=null,this.mod=[]);Ta&32?this.source=this.srcF=null:(this.srcF=va.srcF,this.source=va.source,va.cleans&&(this.cleans=va.cleans));return this},runAfter(va){this.dataflow.runAfter(va)},changed(va){va=va||7;return va&1&&this.add.length||va&2&&this.rem.length||va&4&&this.mod.length},reflow(va){if(va)return this.fork(7).reflow();va=this.add.length;const Ta=this.source&&this.source.length;Ta&&Ta!==va&&(this.mod=
this.source,va&&this.filter(4,z(this,1)));return this},clean(va){return arguments.length?(this.cleans=!!va,this):this.cleans},modifies(va){const Ta=this.fields||(this.fields={});l.isArray(va)?va.forEach(Ya=>Ta[Ya]=!0):Ta[va]=!0;return this},modified(va,Ta){const Ya=this.fields;return(Ta||this.mod.length)&&Ya?arguments.length?l.isArray(va)?va.some(Ca=>Ya[Ca]):Ya[va]:!!Ya:!1},filter(va,Ta){va&1&&(this.addF=G(this.addF,Ta));va&2&&(this.remF=G(this.remF,Ta));va&4&&(this.modF=G(this.modF,Ta));va&16&&(this.srcF=
G(this.srcF,Ta));return this},materialize(va){va=va||7;va&1&&this.addF&&(this.add=F(this.add,this.addF),this.addF=null);va&2&&this.remF&&(this.rem=F(this.rem,this.remF),this.remF=null);va&4&&this.modF&&(this.mod=F(this.mod,this.modF),this.modF=null);va&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(va,Ta){if(va&16)return l.visitArray(this.source,this.srcF,Ta),this;va&1&&l.visitArray(this.add,this.addF,Ta);va&2&&l.visitArray(this.rem,this.remF,Ta);va&4&&
l.visitArray(this.mod,this.modF,Ta);const Ya=this.source;va&8&&Ya&&(va=this.add.length+this.mod.length,va!==Ya.length&&(va?l.visitArray(Ya,z(this,5),Ta):l.visitArray(Ya,this.srcF,Ta)));return this}};l.inherits(K,M,{fork(va){const Ta=(new M(this.dataflow)).init(this,va&this.NO_FIELDS);void 0!==va&&(va&Ta.ADD&&this.visit(Ta.ADD,Ya=>Ta.add.push(Ya)),va&Ta.REM&&this.visit(Ta.REM,Ya=>Ta.rem.push(Ya)),va&Ta.MOD&&this.visit(Ta.MOD,Ya=>Ta.mod.push(Ya)));return Ta},changed(va){return this.changes&va},modified(va){const Ta=
this.fields;return Ta&&this.changes&this.MOD?l.isArray(va)?va.some(Ya=>Ta[Ya]):Ta[va]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},visit(va,Ta){const Ya=this.pulses,Ca=Ya.length;let ua=0;if(va&this.SOURCE)for(;ua<Ca;++ua)Ya[ua].visit(va,Ta);else for(;ua<Ca;++ua)Ya[ua].stamp===this.stamp&&Ya[ua].visit(va,Ta);return this}});const bb={skip:!1,force:!1};ia.prototype={stamp(){return this._clock},loader(va){return arguments.length?
(this._loader=va,this):this._loader},locale(va){return arguments.length?(this._locale=va,this):this._locale},logger(va){return arguments.length?(this._log=va,this):this._log},error:la("error"),warn:la("warn"),info:la("info"),debug:la("debug"),logLevel:la("level"),cleanThreshold:1E4,add:function(va,Ta,Ya,Ca){let ua=1;va instanceof f||(va&&va.prototype instanceof f?va=new va:l.isFunction(va)?va=new f(null,va):(ua=0,va=new f(va,Ta)));this.rank(va);ua&&(Ca=Ya,Ya=Ta);Ya&&this.connect(va,va.parameters(Ya,
Ca));this.touch(va);return va},connect:function(va,Ta){const Ya=va.rank,Ca=Ta.length;for(let ua=0;ua<Ca;++ua)if(Ya<Ta[ua].rank){this.rerank(va);break}},rank:function(va){va.rank=++this._rank},rerank:function(va){const Ta=[va];let Ya,Ca,ua;for(;Ta.length;)if(this.rank(Ya=Ta.pop()),Ca=Ya._targets)for(ua=Ca.length;0<=--ua;)Ta.push(Ya=Ca[ua]),Ya===va&&l.error("Cycle detected in dataflow graph.")},pulse:function(va,Ta,Ya){this.touch(va,Ya||bb);Ya=new M(this,this._clock+(this._pulse?0:1));const Ca=va.pulse&&
va.pulse.source||[];Ya.target=va;this._input[va.id]=Ta.pulse(Ya,Ca);return this},touch:function(va,Ta){Ta=Ta||bb;this._pulse?this._enqueue(va):this._touched.add(va);Ta.skip&&va.skip(!0);return this},update:function(va,Ta,Ya){Ya=Ya||bb;(va.set(Ta)||Ya.force)&&this.touch(va,Ya);return this},changeset:g,ingest:function(va,Ta,Ya){Ta=this.parse(Ta,Ya);return this.pulse(va,this.changeset().insert(Ta))},parse:function(va,Ta){const Ya=this.locale();return w.read(va,Ta,Ya.timeParse,Ya.utcParse)},preload:function(va,
Ta,Ya){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ua=Ca._pending||y(Ca);ua.requests+=1;const U=yield Ca.request(Ta,Ya);Ca.pulse(va,Ca.changeset().remove(l.truthy).insert(U.data||[]));ua.done();return U})},request:function(va,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Ca=0,ua;try{ua=yield Ya.loader().load(va,{context:"dataflow",response:w.responseType(Ta&&Ta.type)});try{ua=Ya.parse(ua,Ta)}catch(U){Ca=-2,Ya.warn("Data ingestion failed",
va,U)}}catch(U){Ca=-1,Ya.warn("Loading failed",va,U)}return{data:ua,status:Ca}})},events:function(va,Ta,Ya,Ca){const ua=this,U=n(Ya,Ca);Ya=function(W){W.dataflow=ua;try{U.receive(W)}catch(ba){ua.error(ba)}finally{ua.run()}};va="string"===typeof va&&"undefined"!==typeof document?document.querySelectorAll(va):l.array(va);Ca=va.length;for(let W=0;W<Ca;++W)va[W].addEventListener(Ta,Ya);return U},on:function(va,Ta,Ya,Ca,ua){(va instanceof f?D:B)(this,va,Ta,Ya,Ca,ua);return this},evaluate:function(va,Ta,
Ya){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ua=[];if(Ca._pulse)return R(Ca);Ca._pending&&(yield Ca._pending);Ta&&(yield x(Ca,Ta));if(!Ca._touched.length)return Ca.debug("Dataflow invoked, but nothing to do."),Ca;var U=++Ca._clock;Ca._pulse=new M(Ca,U,va);Ca._touched.forEach(qa=>Ca._enqueue(qa,!0));Ca._touched=N(l.id);var W=0;let ba,ca,ra;try{for(;0<Ca._heap.size();)ba=Ca._heap.pop(),ba.rank!==ba.qrank?Ca._enqueue(ba,!0):(ca=ba.run(Ca._getPulse(ba,va)),ca.then?
ca=yield ca:ca.async&&(ua.push(ca.async),ca=Ha),ca!==Ha&&ba._targets&&ba._targets.forEach(qa=>Ca._enqueue(qa)),++W)}catch(qa){Ca._heap.clear(),ra=qa}Ca._input={};Ca._pulse=null;Ca.debug(`Pulse ${U}: ${W} operators`);ra&&(Ca._postrun=[],Ca.error(ra));if(Ca._postrun.length)for(U=Ca._postrun.sort((qa,Da)=>Da.priority-qa.priority),Ca._postrun=[],W=0;W<U.length;++W)yield x(Ca,U[W].callback);Ya&&(yield x(Ca,Ya));ua.length&&Promise.all(ua).then(qa=>Ca.runAsync(null,()=>{qa.forEach(Da=>{try{Da(Ca)}catch(na){Ca.error(na)}})}));
return Ca})},run:function(va,Ta,Ya){return this._pulse?R(this):(this.evaluate(va,Ta,Ya),this)},runAsync:function(va,Ta,Ya){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Ca._running;)yield Ca._running;const ua=()=>Ca._running=null;(Ca._running=Ca.evaluate(va,Ta,Ya)).then(ua,ua);return Ca._running})},runAfter:function(va,Ta,Ya){if(this._pulse||Ta)this._postrun.push({priority:Ya||0,callback:va});else try{va(this)}catch(Ca){this.error(Ca)}},_enqueue:function(va,Ta){const Ya=
va.stamp<this._clock;Ya&&(va.stamp=this._clock);if(Ya||Ta)va.qrank=va.rank,this._heap.push(va)},_getPulse:function(va,Ta){const Ya=va.source,Ca=this._clock;return Ya&&l.isArray(Ya)?new K(this,Ca,Ya.map(ua=>ua.pulse),Ta):this._input[va.id]||T(this._pulse,Ya&&Ya.pulse)}};l.inherits(Z,f,{run(va){if(va.stamp<this.stamp)return va.StopPropagation;let Ta;this.skip()?this.skip(!1):Ta=this.evaluate(va);Ta=Ta||va;Ta.then?Ta=Ta.then(Ya=>this.pulse=Ya):Ta!==va.StopPropagation&&(this.pulse=Ta);return Ta},evaluate(va){const Ta=
this.marshall(va.stamp);va=this.transform(Ta,va);Ta.clear();return va},transform(){}});const kb={};k.Dataflow=ia;k.EventStream=e;k.MultiPulse=K;k.Operator=f;k.Parameters=d;k.Pulse=M;k.Transform=Z;k.UniqueList=N;k.asyncCallback=x;k.changeset=g;k.definition=function(va){return(va=P(va))&&va.Definition||null};k.derive=function(va){return u(va,v({}))};k.ingest=v;k.isChangeSet=m;k.isTuple=function(va){return!(!va||!va[C])};k.rederive=u;k.replace=function(va,Ta){Ta[C]=va[C];return Ta};k.stableCompare=function(va,
Ta){return va?Ta?(Ya,Ca)=>va(Ya,Ca)||Ta(Ya)[C]-Ta(Ca)[C]:(Ya,Ca)=>va(Ya,Ca)||Ya[C]-Ca[C]:null};k.transform=P;k.transforms=kb;k.tupleid=function(va){return va[C]};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[27]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3))})(this,function(k,l){function*w(C,V){if(null==V)for(var ha of C)null!=ha&&""!==ha&&(ha=+ha)>=ha&&(yield ha);else{ha=-1;for(let aa of C)aa=V(aa,++ha,C),null!=aa&&""!==aa&&(aa=+aa)>=aa&&(yield aa)}}function H(C,V,ha){const aa=Float64Array.from(w(C,
ha));aa.sort(l.ascending);return V.map(ta=>l.quantileSorted(aa,ta))}function N(C,V){return H(C,[.25,.5,.75],V)}function x(C,V){const ha=C.length,aa=l.deviation(C,V);C=N(C,V);return 1.06*(Math.min(aa,(C[2]-C[0])/1.34)||aa||Math.abs(C[0])||1)*Math.pow(ha,-.2)}function v(C,V){const ha=C.length;let aa=0,ta=1,wa,Ha;for(;C[aa]===C[ta];)++ta;for(;ta<ha;){for(wa=ta+1;C[ta]===C[wa];)++wa;if(C[ta]-C[ta-1]<V){for(Ha=ta+(aa+wa-ta-ta>>1);Ha<ta;)C[Ha++]=C[ta];for(;Ha>ta;)C[Ha--]=C[aa]}aa=ta;ta=wa}return C}function u(C,
V){C=C||0;V=null==V?1:V;let ha,aa;if(Z===Z)ha=Z,Z=NaN;else{do{ha=2*k.random()-1;aa=2*k.random()-1;var ta=ha*ha+aa*aa}while(0===ta||1<ta);ta=Math.sqrt(-2*Math.log(ta)/ta);ha*=ta;Z=aa*ta}return C+ha*V}function m(C,V,ha){ha=null==ha?1:ha;C=(C-(V||0))/ha;return Math.exp(-.5*C*C)/(ha*ia)}function g(C,V,ha){C=(C-(V||0))/(null==ha?1:ha);V=Math.abs(C);37<V?ha=0:(ha=Math.exp(-V*V/2),7.07106781186547>V?(ha*=(((((.0352624965998911*V+.700383064443688)*V+6.37396220353165)*V+33.912866078383)*V+112.079291497871)*
V+221.213596169931)*V+220.206867912376,ha/=((((((.0883883476483184*V+1.75566716318264)*V+16.064177579207)*V+86.7807322029461)*V+296.564248779674)*V+637.333633378831)*V+793.826512519948)*V+440.413735824752):ha=ha/(V+1/(V+2/(V+3/(V+4/(V+.65)))))/2.506628274631);return 0<C?1-ha:ha}function d(C,V,ha){if(0>C||1<C)return NaN;C=2*C-1;var aa=-Math.log((1-C)*(1+C));6.25>aa?(aa-=3.125,aa=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+
(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):16>aa?(aa=Math.sqrt(aa)-
3.25,aa=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):
Number.isFinite(aa)?(aa=Math.sqrt(aa)-5,aa=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):aa=Infinity;C*=
aa;return(V||0)+(null==ha?1:ha)*la*C}function f(C,V){let ha,aa;const ta={mean(wa){return arguments.length?(ha=wa||0,ta):ha},stdev(wa){return arguments.length?(aa=null==wa?1:wa,ta):aa},sample:()=>u(ha,aa),pdf:wa=>m(wa,ha,aa),cdf:wa=>g(wa,ha,aa),icdf:wa=>d(wa,ha,aa)};return ta.mean(C).stdev(V)}function a(C,V){V=null==V?1:V;return Math.exp((C||0)+u()*V)}function e(C,V,ha){if(0>=C)return 0;ha=null==ha?1:ha;V=(Math.log(C)-(V||0))/ha;return Math.exp(-.5*V*V)/(ha*ia*C)}function n(C,V,ha){return g(Math.log(C),
V,ha)}function y(C,V,ha){return Math.exp(d(C,V,ha))}function B(C,V){null==V&&(V=null==C?1:C,C=0);return C+(V-C)*k.random()}function D(C,V,ha){null==ha&&(ha=null==V?1:V,V=0);return C>=V&&C<=ha?1/(ha-V):0}function O(C,V,ha){null==ha&&(ha=null==V?1:V,V=0);return C<V?0:C>ha?1:(C-V)/(ha-V)}function M(C,V,ha){null==ha&&(ha=null==V?1:V,V=0);return 0<=C&&1>=C?V+C*(ha-V):NaN}function F(C,V,ha,aa){aa-=C*C;ha=1E-24>Math.abs(aa)?0:(ha-C*V)/aa;return[V-ha*C,ha]}function z(C,V,ha,aa){C=C.filter(Ya=>{let Ca=V(Ya);
Ya=ha(Ya);return null!=Ca&&(Ca=+Ca)>=Ca&&null!=Ya&&(Ya=+Ya)>=Ya});aa&&C.sort((Ya,Ca)=>V(Ya)-V(Ca));aa=C.length;const ta=new Float64Array(aa),wa=new Float64Array(aa);let Ha=0,bb=0,kb=0,va,Ta;for(Ta of C)ta[Ha]=C=+V(Ta),wa[Ha]=va=+ha(Ta),++Ha,bb+=(C-bb)/Ha,kb+=(va-kb)/Ha;for(Ha=0;Ha<aa;++Ha)ta[Ha]-=bb,wa[Ha]-=kb;return[ta,wa,bb,kb]}function G(C,V,ha,aa){let ta=-1,wa;for(const Ha of C)C=V(Ha),wa=ha(Ha),null!=C&&(C=+C)>=C&&null!=wa&&(wa=+wa)>=wa&&aa(C,wa,++ta)}function K(C,V,ha,aa,ta){let wa=0,Ha=0;G(C,
V,ha,(bb,kb)=>{bb=kb-ta(bb);kb-=aa;wa+=bb*bb;Ha+=kb*kb});return 1-wa/Ha}function R(C,V,ha){let aa=0,ta=0,wa=0,Ha=0,bb=0;G(C,V,ha,(Ta,Ya)=>{++bb;aa+=(Ta-aa)/bb;ta+=(Ya-ta)/bb;wa+=(Ta*Ya-wa)/bb;Ha+=(Ta*Ta-Ha)/bb});const kb=F(aa,ta,wa,Ha),va=Ta=>kb[0]+kb[1]*Ta;return{coef:kb,predict:va,rSquared:K(C,V,ha,ta,va)}}function T(C,V,ha){const [aa,ta,wa,Ha]=z(C,V,ha);var bb=aa.length,kb=0;let va=0;var Ta=0;let Ya=0,Ca=0,ua,U,W,ba;for(ua=0;ua<bb;)U=aa[ua],W=ta[ua++],ba=U*U,kb+=(ba-kb)/ua,va+=(ba*U-va)/ua,Ta+=
(ba*ba-Ta)/ua,Ya+=(U*W-Ya)/ua,Ca+=(ba*W-Ca)/ua;bb=Ta-kb*kb;Ta=kb*bb-va*va;const ca=(Ca*kb-Ya*va)/Ta,ra=(Ya*bb-Ca*va)/Ta,qa=-ca*kb;kb=Da=>{Da-=wa;return ca*Da*Da+ra*Da+qa+Ha};return{coef:[qa-ra*wa+ca*wa*wa+Ha,ra-2*ca*wa,ca],predict:kb,rSquared:K(C,V,ha,Ha,kb)}}function ja(C,V,ha,aa){const ta=Array(C);let wa,Ha,bb;for(wa=0;wa<C;++wa)ta[wa]=0;for(wa=C-1;0<=wa;--wa)for(Ha=V[wa],bb=1,ta[wa]+=Ha,C=1;C<=wa;++C)bb*=(wa+1-C)/C,ta[wa-C]+=Ha*Math.pow(ha,C)*bb;ta[0]+=aa;return ta}function fa(C){const V=C.length-
1,ha=[];let aa,ta,wa,Ha,bb;for(aa=0;aa<V;++aa){Ha=aa;for(ta=aa+1;ta<V;++ta)Math.abs(C[aa][ta])>Math.abs(C[aa][Ha])&&(Ha=ta);for(wa=aa;wa<V+1;++wa)bb=C[wa][aa],C[wa][aa]=C[wa][Ha],C[wa][Ha]=bb;for(ta=aa+1;ta<V;++ta)for(wa=V;wa>=aa;wa--)C[wa][ta]-=C[wa][aa]*C[aa][ta]/C[aa][aa]}for(ta=V-1;0<=ta;--ta){bb=0;for(wa=ta+1;wa<V;++wa)bb+=C[wa][ta]*ha[wa];ha[ta]=(C[V][ta]-bb)/C[ta][ta]}return ha}k.random=Math.random;const ia=Math.sqrt(2*Math.PI),la=Math.SQRT2;let Z=NaN;const P=.1*Math.PI/180;k.bandwidthNRD=
x;k.bin=function(C){var V=C.maxbins||20;const ha=C.base||10,aa=Math.log(ha),ta=C.divide||[5,2];let wa=C.extent[0],Ha=C.extent[1];let bb,kb,va,Ta;const Ya=C.span||Ha-wa||Math.abs(wa)||1;if(C.step)var Ca=C.step;else if(C.steps){kb=Ya/V;va=0;for(Ta=C.steps.length;va<Ta&&C.steps[va]<kb;++va);Ca=C.steps[Math.max(0,va-1)]}else{Ca=Math.ceil(Math.log(V)/aa);bb=C.minstep||0;for(Ca=Math.max(bb,Math.pow(ha,Math.round(Math.log(Ya)/aa)-Ca));Math.ceil(Ya/Ca)>V;)Ca*=ha;va=0;for(Ta=ta.length;va<Ta;++va)kb=Ca/ta[va],
kb>=bb&&Ya/kb<=V&&(Ca=kb)}kb=Math.log(Ca);V=Math.pow(ha,-(0<=kb?0:~~(-kb/aa)+1)-1);if(C.nice||void 0===C.nice)kb=Math.floor(wa/Ca+V)*Ca,wa=wa<kb?kb-Ca:kb,Ha=Math.ceil(Ha/Ca)*Ca;return{start:wa,stop:Ha===wa?wa+Ca:Ha,step:Ca}};k.bootstrapCI=function(C,V,ha,aa){if(!C.length)return[void 0,void 0];C=Float64Array.from(w(C,aa));aa=C.length;let ta,wa,Ha,bb;Ha=0;for(bb=Array(V);Ha<V;++Ha){for(wa=ta=0;wa<aa;++wa)ta+=C[~~(k.random()*aa)];bb[Ha]=ta/aa}bb.sort(l.ascending);return[l.quantile(bb,ha/2),l.quantile(bb,
1-ha/2)]};k.cumulativeLogNormal=n;k.cumulativeNormal=g;k.cumulativeUniform=O;k.densityLogNormal=e;k.densityNormal=m;k.densityUniform=D;k.dotbin=function(C,V,ha,aa){aa=aa||(Ca=>Ca);const ta=C.length,wa=new Float64Array(ta);let Ha=0,bb=1,kb=aa(C[0]),va=kb,Ta=kb+V,Ya;for(;bb<ta;++bb){Ya=aa(C[bb]);if(Ya>=Ta){for(va=(kb+va)/2;Ha<bb;++Ha)wa[Ha]=va;Ta=Ya+V;kb=Ya}va=Ya}for(va=(kb+va)/2;Ha<bb;++Ha)wa[Ha]=va;return ha?v(wa,V+V/4):wa};k.quantileLogNormal=y;k.quantileNormal=d;k.quantileUniform=M;k.quantiles=
H;k.quartiles=N;k.randomInteger=function(C,V){null==V&&(V=C,C=0);let ha,aa,ta;const wa={min(Ha){return arguments.length?(ha=Ha||0,ta=aa-ha,wa):ha},max(Ha){return arguments.length?(aa=Ha||0,ta=aa-ha,wa):aa},sample(){return ha+Math.floor(ta*k.random())},pdf(Ha){return Ha===Math.floor(Ha)&&Ha>=ha&&Ha<aa?1/ta:0},cdf(Ha){Ha=Math.floor(Ha);return Ha<ha?0:Ha>=aa?1:(Ha-ha+1)/ta},icdf(Ha){return 0<=Ha&&1>=Ha?ha-1+Math.floor(Ha*ta):NaN}};return wa.min(C).max(V)};k.randomKDE=function(C,V){const ha=f();let aa=
0;const ta={data(wa){return arguments.length?(aa=(C=wa)?wa.length:0,ta.bandwidth(V)):C},bandwidth(wa){if(!arguments.length)return V;V=wa;!V&&C&&(V=x(C));return ta},sample(){return C[~~(k.random()*aa)]+V*ha.sample()},pdf(wa){let Ha=0,bb=0;for(;bb<aa;++bb)Ha+=ha.pdf((wa-C[bb])/V);return Ha/V/aa},cdf(wa){let Ha=0,bb=0;for(;bb<aa;++bb)Ha+=ha.cdf((wa-C[bb])/V);return Ha/aa},icdf(){throw Error("KDE icdf not supported.");}};return ta.data(C)};k.randomLCG=function(C){return function(){C=(1103515245*C+12345)%
2147483647;return C/2147483647}};k.randomLogNormal=function(C,V){let ha,aa;const ta={mean(wa){return arguments.length?(ha=wa||0,ta):ha},stdev(wa){return arguments.length?(aa=null==wa?1:wa,ta):aa},sample:()=>a(ha,aa),pdf:wa=>e(wa,ha,aa),cdf:wa=>n(wa,ha,aa),icdf:wa=>y(wa,ha,aa)};return ta.mean(C).stdev(V)};k.randomMixture=function(C,V){let ha=0,aa;const ta={weights(wa){if(arguments.length){{var Ha=V=wa||[];const bb=[];let kb=0,va;for(va=0;va<ha;++va)kb+=bb[va]=null==Ha[va]?1:+Ha[va];for(va=0;va<ha;++va)bb[va]/=
kb;aa=bb}return ta}return V},distributions(wa){return arguments.length?(wa?(ha=wa.length,C=wa):(ha=0,C=[]),ta.weights(V)):C},sample(){const wa=k.random();let Ha=C[ha-1],bb=aa[0],kb=0;for(;kb<ha-1;bb+=aa[++kb])if(wa<bb){Ha=C[kb];break}return Ha.sample()},pdf(wa){let Ha=0,bb=0;for(;bb<ha;++bb)Ha+=aa[bb]*C[bb].pdf(wa);return Ha},cdf(wa){let Ha=0,bb=0;for(;bb<ha;++bb)Ha+=aa[bb]*C[bb].cdf(wa);return Ha},icdf(){throw Error("Mixture icdf not supported.");}};return ta.distributions(C).weights(V)};k.randomNormal=
f;k.randomUniform=function(C,V){let ha,aa;const ta={min(wa){return arguments.length?(ha=wa||0,ta):ha},max(wa){return arguments.length?(aa=null==wa?1:wa,ta):aa},sample:()=>B(ha,aa),pdf:wa=>D(wa,ha,aa),cdf:wa=>O(wa,ha,aa),icdf:wa=>M(wa,ha,aa)};null==V&&(V=null==C?1:C,C=0);return ta.min(C).max(V)};k.regressionExp=function(C,V,ha){const [aa,,ta,wa]=z(C,V,ha);let Ha=0,bb=0,kb=0,va=0,Ta=0,Ya,Ca,ua;G(C,V,ha,(ca,ra)=>{Ya=aa[Ta++];Ca=Math.log(ra);ua=Ya*ra;Ha+=(ra*Ca-Ha)/Ta;bb+=(ua-bb)/Ta;kb+=(ua*Ca-kb)/Ta;
va+=(Ya*ua-va)/Ta});const [U,W]=F(bb/wa,Ha/wa,kb/wa,va/wa),ba=ca=>Math.exp(U+W*(ca-ta));return{coef:[Math.exp(U-W*ta),W],predict:ba,rSquared:K(C,V,ha,wa,ba)}};k.regressionLinear=R;k.regressionLoess=function(C,V,ha,aa){const [ta,wa,Ha,bb]=z(C,V,ha,!0);C=ta.length;V=Math.max(2,~~(aa*C));aa=new Float64Array(C);ha=new Float64Array(C);var kb=(new Float64Array(C)).fill(1);for(var va=-1;2>=++va;){var Ta=[0,V-1];for(let qa=0;qa<C;++qa){var Ya=ta[qa],Ca=Ta[0],ua=Ta[1],U=0,W=0,ba=0,ca=0;let Da=0;const na=1/
Math.abs(ta[Ya-ta[Ca]>ta[ua]-Ya?Ca:ua]-Ya||1);for(;Ca<=ua;++Ca){const $a=ta[Ca],Fa=wa[Ca];var ra=Math.abs(Ya-$a)*na;const Ga=(ra=1-ra*ra*ra)*ra*ra*kb[Ca];ra=$a*Ga;U+=Ga;W+=ra;ba+=Fa*Ga;ca+=Fa*ra;Da+=$a*ra}const [Ra,db]=F(W/U,ba/U,ca/U,Da/U);aa[qa]=Ra+db*Ya;ha[qa]=Math.abs(wa[qa]-aa[qa]);Ya=ta;ua=qa+1;U=Ta;W=Ya[ua];ba=U[0];ca=U[1]+1;if(!(ca>=Ya.length))for(;ua>ba&&Ya[ca]-W<=W-Ya[ba];)U[0]=++ba,U[1]=ca,++ca}if(2===va)break;Ta=l.median(ha);if(1E-12>Math.abs(Ta))break;for(let qa=0,Da,na;qa<C;++qa)Da=
ha[qa]/(6*Ta),kb[qa]=1<=Da?1E-12:(na=1-Da*Da)*na}C=ta.length;V=[];kb=ha=0;for(va=[];ha<C;++ha)Ta=ta[ha]+Ha,va[0]===Ta?va[1]+=(aa[ha]-va[1])/++kb:(kb=0,va[1]+=bb,va=[Ta,aa[ha]],V.push(va));va[1]+=bb;return aa=V};k.regressionLog=function(C,V,ha){let aa=0,ta=0,wa=0,Ha=0,bb=0;G(C,V,ha,(Ta,Ya)=>{++bb;Ta=Math.log(Ta);aa+=(Ta-aa)/bb;ta+=(Ya-ta)/bb;wa+=(Ta*Ya-wa)/bb;Ha+=(Ta*Ta-Ha)/bb});const kb=F(aa,ta,wa,Ha),va=Ta=>kb[0]+kb[1]*Math.log(Ta);return{coef:kb,predict:va,rSquared:K(C,V,ha,ta,va)}};k.regressionPoly=
function(C,V,ha,aa){if(1===aa)return R(C,V,ha);if(2===aa)return T(C,V,ha);const [ta,wa,Ha,bb]=z(C,V,ha);var kb=ta.length;const va=[],Ta=[],Ya=aa+1;let Ca,ua,U,W;for(Ca=0;Ca<Ya;++Ca){for(U=ua=0;ua<kb;++ua)U+=Math.pow(ta[ua],Ca)*wa[ua];va.push(U);W=new Float64Array(Ya);for(aa=0;aa<Ya;++aa){for(U=ua=0;ua<kb;++ua)U+=Math.pow(ta[ua],Ca+aa);W[aa]=U}Ta.push(W)}Ta.push(va);const ba=fa(Ta);kb=ca=>{ca-=Ha;let ra=bb+ba[0]+ba[1]*ca+ba[2]*ca*ca;for(Ca=3;Ca<Ya;++Ca)ra+=ba[Ca]*Math.pow(ca,Ca);return ra};return{coef:ja(Ya,
ba,-Ha,bb),predict:kb,rSquared:K(C,V,ha,bb,kb)}};k.regressionPow=function(C,V,ha){let aa=0,ta=0,wa=0,Ha=0,bb=0,kb=0;G(C,V,ha,(Ya,Ca)=>{Ya=Math.log(Ya);const ua=Math.log(Ca);++kb;aa+=(Ya-aa)/kb;ta+=(ua-ta)/kb;wa+=(Ya*ua-wa)/kb;Ha+=(Ya*Ya-Ha)/kb;bb+=(Ca-bb)/kb});const va=F(aa,ta,wa,Ha),Ta=Ya=>va[0]*Math.pow(Ya,va[1]);va[0]=Math.exp(va[0]);return{coef:va,predict:Ta,rSquared:K(C,V,ha,bb,Ta)}};k.regressionQuad=T;k.sampleCurve=function(C,V,ha,aa){ha=ha||25;aa=Math.max(ha,aa||200);var ta=Ta=>[Ta,C(Ta)],
wa=V[0];const Ha=V[1],bb=Ha-wa;var kb=bb/aa;V=[[wa,C(wa)]];const va=[];if(ha===aa){for(kb=1;kb<aa;++kb)V.push(ta(wa+kb/ha*bb));V.push([Ha,C(Ha)]);return V}va.push([Ha,C(Ha)]);for(aa=ha;0<--aa;)va.push(ta(wa+aa/ha*bb));ha=V[0];for(ta=va[va.length-1];ta;)wa=(ha[0]+ta[0])/2,wa=[wa,C(wa)],wa[0]-ha[0]>=kb&&Math.abs(Math.atan2(ta[1]-ha[1],ta[0]-ha[0])-Math.atan2(wa[1]-ha[1],wa[0]-ha[0]))>P?va.push(wa):(ha=ta,V.push(ta),va.pop()),ta=va[va.length-1];return V};k.sampleLogNormal=a;k.sampleNormal=u;k.sampleUniform=
B;k.setRandom=function(C){k.random=C};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26),A(27),A(15),A(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega))})(this,function(k,l,w,H,N,x){function v(Ka){return eb=>{const wb=Ka.length;let Hb=1,ac=String(Ka[0](eb));for(;Hb<wb;++Hb)ac+="|"+Ka[Hb](eb);
return ac}}function u(Ka){return Ka&&Ka.length?1===Ka.length?Ka[0]:v(Ka):function(){return""}}function m(Ka,eb){return wb=>l.extend({name:Ka,out:wb||Ka},vd,eb)}function g(Ka,eb){return Ka.idx-eb.idx}function d(Ka){const eb={};Ka.forEach(Hb=>eb[Hb.name]=Hb);const wb=Hb=>{Hb.req&&Hb.req.forEach(ac=>{eb[ac]||wb(eb[ac]=Wd[ac]())})};Ka.forEach(wb);return Object.values(eb).sort(g)}function f(){this.missing=this.valid=0;this._ops.forEach(Ka=>Ka.init(this))}function a(Ka,eb){null==Ka||""===Ka?++this.missing:
Ka===Ka&&(++this.valid,this._ops.forEach(wb=>wb.add(this,Ka,eb)))}function e(Ka,eb){null==Ka||""===Ka?--this.missing:Ka===Ka&&(--this.valid,this._ops.forEach(wb=>wb.rem(this,Ka,eb)))}function n(Ka){this._out.forEach(eb=>Ka[eb.out]=eb.value(this));return Ka}function y(Ka,eb){function wb(Lb){this._ops=Hb;this._out=ac;this.cell=Lb;this.init()}eb=eb||l.identity;const Hb=d(Ka),ac=Ka.slice().sort(g);wb.prototype.init=f;wb.prototype.add=a;wb.prototype.rem=e;wb.prototype.set=n;wb.prototype.get=eb;wb.fields=
Ka.map(Lb=>Lb.out);return wb}function B(Ka){this._key=Ka?l.field(Ka):w.tupleid;this.reset()}function D(Ka){w.Transform.call(this,null,Ka);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function O(Ka){w.Transform.call(this,null,Ka)}function M(Ka,eb,wb){let Hb=eb||[],ac=wb||[],Lb={},Ac=0;return{add:tc=>ac.push(tc),remove:tc=>Lb[Ka(tc)]=++Ac,size:()=>
Hb.length,data:(tc,pb)=>{Ac&&(Hb=Hb.filter(Bb=>!Lb[Ka(Bb)]),Lb={},Ac=0);pb&&tc&&Hb.sort(tc);ac.length&&(Hb=tc?l.merge(tc,Hb,ac.sort(tc)):Hb.concat(ac),ac=[]);return Hb}}}function F(Ka){w.Transform.call(this,[],Ka)}function z(Ka){w.Operator.call(this,null,G,Ka)}function G(Ka){return this.value&&!Ka.modified()?this.value:l.compare(Ka.fields,Ka.orders)}function K(Ka){w.Transform.call(this,null,Ka)}function R(Ka){w.Transform.call(this,null,Ka)}function T(Ka,eb){var wb=Ka["function"];l.hasOwnProperty(gc,
wb)||l.error("Unknown distribution function: "+wb);wb=gc[wb]();for(const Hb in Ka)if("field"===Hb)wb.data((Ka.from||eb()).map(Ka[Hb]));else if("distributions"===Hb)wb[Hb](Ka[Hb].map(ac=>T(ac,eb)));else if("function"===typeof wb[Hb])wb[Hb](Ka[Hb]);return wb}function ja(Ka){w.Transform.call(this,null,Ka)}function fa(Ka){return()=>Ka.materialize(Ka.SOURCE).source}function ia(Ka,eb){return Ka?Ka.map((wb,Hb)=>eb[Hb]||l.accessorName(wb)):null}function la(Ka,eb,wb){const Hb=[],ac=mc=>mc(pb);let Lb,Ac,tc,
pb,Bb,Ub;if(null==eb)Hb.push(Ka.map(wb));else for(Lb={},Ac=0,tc=Ka.length;Ac<tc;++Ac)pb=Ka[Ac],Bb=eb.map(ac),Ub=Lb[Bb],Ub||(Lb[Bb]=Ub=[],Ub.dims=Bb,Hb.push(Ub)),Ub.push(wb(pb));return Hb}function Z(Ka){w.Transform.call(this,null,Ka)}function P(Ka){w.Operator.call(this,null,C,Ka);this.modified(!0)}function C(Ka){const eb=Ka.expr;return this.value&&!Ka.modified("expr")?this.value:l.accessor(wb=>eb(wb,Ka),l.accessorFields(eb),l.accessorName(eb))}function V(Ka){w.Transform.call(this,[void 0,void 0],Ka)}
function ha(Ka,eb){w.Operator.call(this,Ka);this.parent=eb;this.count=0}function aa(Ka){w.Transform.call(this,{},Ka);this._keys=l.fastmap();const eb=this._targets=[];eb.active=0;eb.forEach=wb=>{for(let Hb=0,ac=eb.active;Hb<ac;++Hb)wb(eb[Hb],Hb,eb)}}function ta(Ka){w.Operator.call(this,null,wa,Ka)}function wa(Ka){return this.value&&!Ka.modified()?this.value:l.isArray(Ka.name)?l.array(Ka.name).map(eb=>l.field(eb)):l.field(Ka.name,Ka.as)}function Ha(Ka){w.Transform.call(this,l.fastmap(),Ka)}function bb(Ka){w.Transform.call(this,
[],Ka)}function kb(Ka){w.Transform.call(this,[],Ka)}function va(Ka){w.Transform.call(this,null,Ka)}function Ta(Ka){w.Transform.call(this,[],Ka)}function Ya(Ka){w.Transform.call(this,[],Ka)}function Ca(Ka){var eb=Ka.method||Eb.value;if(null==Eb[eb])l.error("Unrecognized imputation method: "+eb);else{if(eb===Eb.value){var wb=void 0!==Ka.value?Ka.value:0;return()=>wb}return Eb[eb]}}function ua(Ka){const eb=Ka.field;return wb=>wb?eb(wb):NaN}function U(Ka,eb,wb,Hb){var ac=Qb=>Qb(mc),Lb=[];Hb=Hb?Hb.slice():
[];var Ac={},tc={},pb,Bb;Hb.forEach((Qb,Ic)=>Ac[Qb]=Ic+1);var Ub=0;for(Bb=Ka.length;Ub<Bb;++Ub){var mc=Ka[Ub];var Bc=wb(mc);var Cc=Ac[Bc]||(Ac[Bc]=Hb.push(Bc));var Xc=(Bc=eb?eb.map(ac):zc)+"";(pb=tc[Xc])||(pb=tc[Xc]=[],Lb.push(pb),pb.values=Bc);pb[Cc-1]=mc}Lb.domain=Hb;return Lb}function W(Ka){D.call(this,Ka)}function ba(Ka){w.Transform.call(this,null,Ka)}function ca(Ka){w.Operator.call(this,null,ra,Ka)}function ra(Ka){return this.value&&!Ka.modified()?this.value:l.key(Ka.fields,Ka.flat)}function qa(Ka){w.Transform.call(this,
[],Ka);this._pending=null}function Da(Ka){return Ka.modified("async")&&!(Ka.modified("values")||Ka.modified("url")||Ka.modified("format"))}function na(Ka,eb,wb){wb.forEach(w.ingest);eb=eb.fork(eb.NO_FIELDS&eb.NO_SOURCE);eb.rem=Ka.value;Ka.value=eb.source=eb.add=wb;Ka._pending=null;eb.rem.length&&eb.clean(!0);return eb}function Ra(Ka){w.Transform.call(this,{},Ka)}function db(Ka){w.Operator.call(this,null,$a,Ka)}function $a(Ka){if(this.value&&!Ka.modified())return this.value;Ka=Ka.extents;const eb=
Ka.length;let wb=Infinity,Hb=-Infinity,ac,Lb;for(ac=0;ac<eb;++ac)Lb=Ka[ac],Lb[0]<wb&&(wb=Lb[0]),Lb[1]>Hb&&(Hb=Lb[1]);return[wb,Hb]}function Fa(Ka){w.Operator.call(this,null,Ga,Ka)}function Ga(Ka){return this.value&&!Ka.modified()?this.value:Ka.values.reduce((eb,wb)=>eb.concat(wb),[])}function pa(Ka){w.Transform.call(this,null,Ka)}function Ja(Ka){D.call(this,Ka)}function Ua(Ka,eb){const wb=Ka.field,Hb=Ka.value,ac=("count"===Ka.op?"__count__":Ka.op)||"sum",Lb=l.accessorFields(wb).concat(l.accessorFields(Hb)),
Ac=Fb(wb,Ka.limit||0,eb);eb.changed()&&Ka.set("__pivot__",null,null,!0);return{key:Ka.key,groupby:Ka.groupby,ops:Ac.map(()=>ac),fields:Ac.map(tc=>jb(tc,wb,Hb,Lb)),as:Ac.map(tc=>tc+""),modified:Ka.modified.bind(Ka)}}function jb(Ka,eb,wb,Hb){return l.accessor(ac=>eb(ac)===Ka?wb(ac):NaN,Hb,Ka+"")}function Fb(Ka,eb,wb){const Hb={},ac=[];wb.visit(wb.SOURCE,Lb=>{Lb=Ka(Lb);Hb[Lb]||(Hb[Lb]=1,ac.push(Lb))});ac.sort(l.ascending);return eb?ac.slice(0,eb):ac}function Xb(Ka){aa.call(this,Ka)}function nc(Ka){w.Transform.call(this,
null,Ka)}function md(Ka){w.Transform.call(this,null,Ka)}function pc(Ka){w.Transform.call(this,null,Ka)}function Hc(Ka){w.Transform.call(this,null,Ka)}function mb(Ka){w.Transform.call(this,[],Ka);this.count=0}function hc(Ka){w.Transform.call(this,null,Ka)}function jc(Ka){w.Transform.call(this,null,Ka);this.modified(!0)}function rc(Ka){w.Transform.call(this,null,Ka)}function Pc(Ka){w.Transform.call(this,l.fastmap(),Ka)}function sc(Ka){w.Transform.call(this,null,Ka)}function Uc(Ka,eb,wb,Hb){const ac=
Ed[Ka](eb,wb);return{init:ac.init||l.zero,update:function(Lb,Ac){Ac[Hb]=ac.next(Lb)}}}function Sc(Ka){function eb(Cc){l.array(l.accessorFields(Cc)).forEach(Xc=>pb[Xc]=1)}const wb=l.array(Ka.ops),Hb=l.array(Ka.fields),ac=l.array(Ka.params),Lb=l.array(Ka.as),Ac=this.outputs=[],tc=this.windows=[],pb={},Bb={},Ub=[],mc=[];let Bc=!0;eb(Ka.sort);wb.forEach((Cc,Xc)=>{const Qb=Hb[Xc],Ic=l.accessorName(Qb),Dc=Lb[Xc]||Cc+(Ic?"_"+Ic:"");eb(Qb);Ac.push(Dc);l.hasOwnProperty(Ed,Cc)?tc.push(Uc(Cc,Hb[Xc],ac[Xc],Dc)):
(null==Qb&&"count"!==Cc&&l.error("Null aggregate field specified."),"count"===Cc?Ub.push(Dc):(Bc=!1,Xc=Bb[Ic],Xc||(Xc=Bb[Ic]=[],Xc.field=Qb,mc.push(Xc)),Xc.push(Wd[Cc](Dc))))});if(Ub.length||mc.length)this.cell=Lc(mc,Ub,Bc);this.inputs=Object.keys(pb)}function Lc(Ka,eb,wb){Ka=Ka.map(pb=>y(pb,pb.field));const Hb={num:0,agg:null,store:!1,count:eb};if(!wb)for(var ac=Ka.length,Lb=Hb.agg=Array(ac),Ac=0;Ac<ac;++Ac)Lb[Ac]=new Ka[Ac](Hb);if(Hb.store)var tc=Hb.data=new B;Hb.add=function(pb){Hb.num+=1;if(!wb){tc&&
tc.add(pb);for(let Bb=0;Bb<ac;++Bb)Lb[Bb].add(Lb[Bb].get(pb),pb)}};Hb.rem=function(pb){--Hb.num;if(!wb){tc&&tc.rem(pb);for(let Bb=0;Bb<ac;++Bb)Lb[Bb].rem(Lb[Bb].get(pb),pb)}};Hb.set=function(pb){let Bb,Ub;tc&&tc.values();Bb=0;for(Ub=eb.length;Bb<Ub;++Bb)pb[eb[Bb]]=Hb.num;if(!wb)for(Bb=0,Ub=Lb.length;Bb<Ub;++Bb)Lb[Bb].set(pb)};Hb.init=function(){Hb.num=0;tc&&tc.reset();for(let pb=0;pb<ac;++pb)Lb[pb].init()};return Hb}function Fd(Ka){w.Transform.call(this,{},Ka);this._mlen=0;this._mods=[]}function ge(Ka,
eb,wb,Hb){var ac=Hb.sort;const Lb=ac&&!Hb.ignorePeers;Hb=Hb.frame||[null,0];Ka=Ka.data(wb);wb=Ka.length;const Ac=Lb?N.bisector(ac):null;ac={i0:0,i1:0,p0:0,p1:0,index:0,data:Ka,compare:ac||l.constant(-1)};eb.init();for(let mc=0;mc<wb;++mc){var tc=ac,pb=Hb,Bb=mc,Ub=wb;tc.p0=tc.i0;tc.p1=tc.i1;tc.i0=null==pb[0]?0:Math.max(0,Bb-Math.abs(pb[0]));tc.i1=null==pb[1]?Ub:Math.min(Ub,Bb+Math.abs(pb[1])+1);tc.index=Bb;if(Lb){{tc=ac;pb=Ac;Bb=tc.i0;Ub=tc.i1-1;const Bc=tc.compare,Cc=tc.data,Xc=Cc.length-1;0<Bb&&
!Bc(Cc[Bb],Cc[Bb-1])&&(tc.i0=pb.left(Cc,Cc[Bb]));Ub<Xc&&!Bc(Cc[Ub],Cc[Ub+1])&&(tc.i1=pb.right(Cc,Cc[Ub]))}}eb.update(ac,Ka[mc])}}var wd=()=>{};const vd={init:wd,add:wd,rem:wd,idx:0},Wd={values:{init:Ka=>Ka.cell.store=!0,value:Ka=>Ka.cell.data.values(),idx:-1},count:{value:Ka=>Ka.cell.num},__count__:{value:Ka=>Ka.missing+Ka.valid},missing:{value:Ka=>Ka.missing},valid:{value:Ka=>Ka.valid},sum:{init:Ka=>Ka.sum=0,value:Ka=>Ka.sum,add:(Ka,eb)=>Ka.sum+=+eb,rem:(Ka,eb)=>Ka.sum-=eb},product:{init:Ka=>Ka.product=
1,value:Ka=>Ka.valid?Ka.product:void 0,add:(Ka,eb)=>Ka.product*=eb,rem:(Ka,eb)=>Ka.product/=eb},mean:{init:Ka=>Ka.mean=0,value:Ka=>Ka.valid?Ka.mean:void 0,add:(Ka,eb)=>(Ka.mean_d=eb-Ka.mean,Ka.mean+=Ka.mean_d/Ka.valid),rem:(Ka,eb)=>(Ka.mean_d=eb-Ka.mean,Ka.mean-=Ka.valid?Ka.mean_d/Ka.valid:Ka.mean)},average:{value:Ka=>Ka.valid?Ka.mean:void 0,req:["mean"],idx:1},variance:{init:Ka=>Ka.dev=0,value:Ka=>1<Ka.valid?Ka.dev/(Ka.valid-1):void 0,add:(Ka,eb)=>Ka.dev+=Ka.mean_d*(eb-Ka.mean),rem:(Ka,eb)=>Ka.dev-=
Ka.mean_d*(eb-Ka.mean),req:["mean"],idx:1},variancep:{value:Ka=>1<Ka.valid?Ka.dev/Ka.valid:void 0,req:["variance"],idx:2},stdev:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/(Ka.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/Ka.valid):void 0,req:["variance"],idx:2},stderr:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/(Ka.valid*(Ka.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ka=>Ka.cell.data.distinct(Ka.get),req:["values"],idx:3},ci0:{value:Ka=>Ka.cell.data.ci0(Ka.get),
req:["values"],idx:3},ci1:{value:Ka=>Ka.cell.data.ci1(Ka.get),req:["values"],idx:3},median:{value:Ka=>Ka.cell.data.q2(Ka.get),req:["values"],idx:3},q1:{value:Ka=>Ka.cell.data.q1(Ka.get),req:["values"],idx:3},q3:{value:Ka=>Ka.cell.data.q3(Ka.get),req:["values"],idx:3},min:{init:Ka=>Ka.min=void 0,value:Ka=>Ka.min=Number.isNaN(Ka.min)?Ka.cell.data.min(Ka.get):Ka.min,add:(Ka,eb)=>{if(eb<Ka.min||void 0===Ka.min)Ka.min=eb},rem:(Ka,eb)=>{eb<=Ka.min&&(Ka.min=NaN)},req:["values"],idx:4},max:{init:Ka=>Ka.max=
void 0,value:Ka=>Ka.max=Number.isNaN(Ka.max)?Ka.cell.data.max(Ka.get):Ka.max,add:(Ka,eb)=>{if(eb>Ka.max||void 0===Ka.max)Ka.max=eb},rem:(Ka,eb)=>{eb>=Ka.max&&(Ka.max=NaN)},req:["values"],idx:4},argmin:{init:Ka=>Ka.argmin=void 0,value:Ka=>Ka.argmin||Ka.cell.data.argmin(Ka.get),add:(Ka,eb,wb)=>{eb<Ka.min&&(Ka.argmin=wb)},rem:(Ka,eb)=>{eb<=Ka.min&&(Ka.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ka=>Ka.argmax=void 0,value:Ka=>Ka.argmax||Ka.cell.data.argmax(Ka.get),add:(Ka,eb,wb)=>{eb>Ka.max&&
(Ka.argmax=wb)},rem:(Ka,eb)=>{eb>=Ka.max&&(Ka.argmax=void 0)},req:["max","values"],idx:3}};wd=Object.keys(Wd);wd.forEach(Ka=>{Wd[Ka]=m(Ka,Wd[Ka])});var Pb=B.prototype;Pb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Pb.add=function(Ka){this._add.push(Ka)};Pb.rem=function(Ka){this._rem.push(Ka)};Pb.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ka=this._add;var eb=this._rem;const wb=this._key,Hb=Ka.length,ac=eb.length,Lb=Array(Hb-ac),
Ac={};let tc,pb;for(tc=0;tc<ac;++tc)Ac[wb(eb[tc])]=1;for(eb=tc=0;tc<Hb;++tc)Ac[wb(pb=Ka[tc])]?Ac[wb(pb)]=0:Lb[eb++]=pb;this._rem=[];return this._add=Lb};Pb.distinct=function(Ka){const eb=this.values(),wb={};let Hb=eb.length,ac=0,Lb;for(;0<=--Hb;)Lb=Ka(eb[Hb])+"",l.hasOwnProperty(wb,Lb)||(wb[Lb]=1,++ac);return ac};Pb.extent=function(Ka){if(this._get!==Ka||!this._ext){const eb=this.values(),wb=l.extentIndex(eb,Ka);this._ext=[eb[wb[0]],eb[wb[1]]];this._get=Ka}return this._ext};Pb.argmin=function(Ka){return this.extent(Ka)[0]||
{}};Pb.argmax=function(Ka){return this.extent(Ka)[1]||{}};Pb.min=function(Ka){const eb=this.extent(Ka)[0];return null!=eb?Ka(eb):void 0};Pb.max=function(Ka){const eb=this.extent(Ka)[1];return null!=eb?Ka(eb):void 0};Pb.quartile=function(Ka){this._get===Ka&&this._q||(this._q=H.quartiles(this.values(),Ka),this._get=Ka);return this._q};Pb.q1=function(Ka){return this.quartile(Ka)[0]};Pb.q2=function(Ka){return this.quartile(Ka)[1]};Pb.q3=function(Ka){return this.quartile(Ka)[2]};Pb.ci=function(Ka){this._get===
Ka&&this._ci||(this._ci=H.bootstrapCI(this.values(),1E3,.05,Ka),this._get=Ka);return this._ci};Pb.ci0=function(Ka){return this.ci(Ka)[0]};Pb.ci1=function(Ka){return this.ci(Ka)[1]};D.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:wd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean",
"default":!1},{name:"key",type:"field"}]};l.inherits(D,w.Transform,{transform(Ka,eb){const wb=this,Hb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),ac=Ka.modified();wb.stamp=Hb.stamp;wb.value&&(ac||eb.modified(wb._inputs,!0))?(wb._prev=wb.value,wb.value=ac?wb.init(Ka):{},eb.visit(eb.SOURCE,Lb=>wb.add(Lb))):(wb.value=wb.value||wb.init(Ka),eb.visit(eb.REM,Lb=>wb.rem(Lb)),eb.visit(eb.ADD,Lb=>wb.add(Lb)));Hb.modifies(wb._outputs);wb._drop=!1!==Ka.drop;Ka.cross&&1<wb._dims.length&&(wb._drop=!1,wb.cross());eb.clean()&&
wb._drop&&Hb.clean(!0).runAfter(()=>this.clean());return wb.changes(Hb)},cross(){function Ka(tc){let pb,Bb,Ub,mc;for(pb in tc)for(Ub=tc[pb].tuple,Bb=0;Bb<Ac;++Bb)Lb[Bb][mc=Ub[ac[Bb]]]=mc}function eb(tc,pb,Bb){const Ub=ac[Bb],mc=Lb[Bb++];for(const Bc in mc){const Cc=tc?tc+"|"+Bc:Bc;pb[Ub]=mc[Bc];Bb<Ac?eb(Cc,pb,Bb):Hb[Cc]||wb.cell(Cc,pb)}}const wb=this,Hb=wb.value,ac=wb._dnames,Lb=ac.map(()=>({})),Ac=ac.length;Ka(wb._prev);Ka(Hb);eb("",{},0)},init(Ka){function eb(Qb){Qb=l.array(l.accessorFields(Qb));
const Ic=Qb.length;let Dc=0,uc;for(;Dc<Ic;++Dc)ac[uc=Qb[Dc]]||(ac[uc]=1,wb.push(uc))}const wb=this._inputs=[],Hb=this._outputs=[],ac={};this._dims=l.array(Ka.groupby);this._dnames=this._dims.map(Qb=>{const Ic=l.accessorName(Qb);eb(Qb);Hb.push(Ic);return Ic});this.cellkey=Ka.key?Ka.key:u(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Lb=Ka.fields||[null],Ac=Ka.ops||["count"];Ka=Ka.as||[];const tc=Lb.length,pb={};let Bb,Ub,mc,Bc,Cc,Xc;tc!==Ac.length&&l.error("Unmatched number of fields and aggregate ops.");
for(Xc=0;Xc<tc;++Xc)Bb=Lb[Xc],Ub=Ac[Xc],null==Bb&&"count"!==Ub&&l.error("Null aggregate field specified."),Bc=l.accessorName(Bb),Cc=Ka[Xc]||Ub+(Bc?"_"+Bc:""),Hb.push(Cc),"count"===Ub?this._counts.push(Cc):(mc=pb[Bc],mc||(eb(Bb),mc=pb[Bc]=[],mc.field=Bb,this._measures.push(mc)),"count"!==Ub&&(this._countOnly=!1),mc.push(Wd[Ub](Cc)));this._measures=this._measures.map(Qb=>y(Qb,Qb.field));return{}},cellkey:u(),cell(Ka,eb){let wb=this.value[Ka];wb?0===wb.num&&this._drop&&wb.stamp<this.stamp?(wb.stamp=
this.stamp,this._adds[this._alen++]=wb):wb.stamp<this.stamp&&(wb.stamp=this.stamp,this._mods[this._mlen++]=wb):(wb=this.value[Ka]=this.newcell(Ka,eb),this._adds[this._alen++]=wb);return wb},newcell(Ka,eb){Ka={key:Ka,num:0,agg:null,tuple:this.newtuple(eb,this._prev&&this._prev[Ka]),stamp:this.stamp,store:!1};if(!this._countOnly){eb=this._measures;const wb=eb.length;Ka.agg=Array(wb);for(let Hb=0;Hb<wb;++Hb)Ka.agg[Hb]=new eb[Hb](Ka)}Ka.store&&(Ka.data=new B);return Ka},newtuple(Ka,eb){const wb=this._dnames,
Hb=this._dims,ac=Hb.length,Lb={};for(let Ac=0;Ac<ac;++Ac)Lb[wb[Ac]]=Hb[Ac](Ka);return eb?w.replace(eb.tuple,Lb):w.ingest(Lb)},clean(){const Ka=this.value;for(const eb in Ka)0===Ka[eb].num&&delete Ka[eb]},add(Ka){var eb=this.cellkey(Ka);eb=this.cell(eb,Ka);eb.num+=1;if(!this._countOnly){eb.store&&eb.data.add(Ka);eb=eb.agg;for(let wb=0,Hb=eb.length;wb<Hb;++wb)eb[wb].add(eb[wb].get(Ka),Ka)}},rem(Ka){var eb=this.cellkey(Ka);eb=this.cell(eb,Ka);--eb.num;if(!this._countOnly){eb.store&&eb.data.rem(Ka);eb=
eb.agg;for(let wb=0,Hb=eb.length;wb<Hb;++wb)eb[wb].rem(eb[wb].get(Ka),Ka)}},celltuple(Ka){const eb=Ka.tuple,wb=this._counts;Ka.store&&Ka.data.values();for(let Hb=0,ac=wb.length;Hb<ac;++Hb)eb[wb[Hb]]=Ka.num;if(!this._countOnly){Ka=Ka.agg;for(let Hb=0,ac=Ka.length;Hb<ac;++Hb)Ka[Hb].set(eb)}return eb},changes(Ka){const eb=this._adds,wb=this._mods;var Hb=this._prev;const ac=this._drop,Lb=Ka.add,Ac=Ka.rem,tc=Ka.mod;let pb;var Bb;if(Hb)for(Bb in Hb)pb=Hb[Bb],ac&&!pb.num||Ac.push(pb.tuple);Hb=0;for(Bb=this._alen;Hb<
Bb;++Hb)Lb.push(this.celltuple(eb[Hb])),eb[Hb]=null;Hb=0;for(Bb=this._mlen;Hb<Bb;++Hb)pb=wb[Hb],(0===pb.num&&ac?Ac:tc).push(this.celltuple(pb)),wb[Hb]=null;this._alen=this._mlen=0;this._prev=null;return Ka}});O.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};l.inherits(O,w.Transform,{transform(Ka,eb){const wb=!1!==Ka.interval,Hb=this._bins(Ka),ac=Hb.start,Lb=Hb.step,Ac=Ka.as||["bin0","bin1"],tc=Ac[0],
pb=Ac[1];Ka.modified()?(eb=eb.reflow(!0),Ka=eb.SOURCE):Ka=eb.modified(l.accessorFields(Ka.field))?eb.ADD_MOD:eb.ADD;eb.visit(Ka,wb?Bb=>{const Ub=Hb(Bb);Bb[tc]=Ub;Bb[pb]=null==Ub?null:ac+Lb*(1+(Ub-ac)/Lb)}:Bb=>Bb[tc]=Hb(Bb));return eb.modifies(wb?Ac:tc)},_bins(Ka){if(this.value&&!Ka.modified())return this.value;const eb=Ka.field,wb=H.bin(Ka),Hb=wb.step;let ac=wb.start,Lb=ac+Math.ceil((wb.stop-ac)/Hb)*Hb;var Ac;null!=(Ac=Ka.anchor)&&(Ac-=ac+Hb*Math.floor((Ac-ac)/Hb),ac+=Ac,Lb+=Ac);Ac=function(tc){tc=
l.toNumber(eb(tc));return null==tc?null:tc<ac?-Infinity:tc>Lb?Infinity:(tc=Math.max(ac,Math.min(tc,Lb-Hb)),ac+Hb*Math.floor(1E-14+(tc-ac)/Hb))};Ac.start=ac;Ac.stop=wb.stop;Ac.step=Hb;return this.value=l.accessor(Ac,l.accessorFields(eb),Ka.name||"bin_"+l.accessorName(eb))}});F.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(F,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.ALL),Hb=M(w.tupleid,this.value,wb.materialize(wb.ADD).add),ac=Ka.sort;Ka=eb.changed()||
ac&&(Ka.modified("sort")||eb.modified(ac.fields));wb.visit(wb.REM,Hb.remove);this.modified(Ka);this.value=wb.source=Hb.data(w.stableCompare(ac),Ka);eb.source&&eb.source.root&&(this.value.root=eb.source.root);return wb}});l.inherits(z,w.Operator);K.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(K,w.Transform,{transform(Ka,eb){var wb=Ub=>mc=>{mc=tc(mc);var Bc=Lb;switch(Ka.case){case "upper":mc=mc.toUpperCase();break;case "lower":mc=mc.toLowerCase()}mc=mc.match(Bc)||[];var Cc;Bc=0;for(var Xc=mc.length;Bc<Xc;++Bc)Ac.test(Cc=mc[Bc])||Ub(Cc)};const Hb=this._parameterCheck(Ka,eb),ac=this._counts,Lb=this._match,Ac=this._stop,tc=Ka.field,pb=Ka.as||["text","count"],Bb=wb(Ub=>ac[Ub]=1+(ac[Ub]||
0));wb=wb(Ub=>--ac[Ub]);Hb?eb.visit(eb.SOURCE,Bb):(eb.visit(eb.ADD,Bb),eb.visit(eb.REM,wb));return this._finish(eb,pb)},_parameterCheck(Ka,eb){let wb=!1;if(Ka.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ka.stopwords||"")+"$","i"),wb=!0;if(Ka.modified("pattern")||!this._match)this._match=new RegExp(Ka.pattern||"[\\w']+","g"),wb=!0;if(Ka.modified("field")||eb.modified(Ka.field.fields))wb=!0;wb&&(this._counts={});return wb},_finish(Ka,eb){const wb=this._counts,Hb=this._tuples||(this._tuples=
{}),ac=eb[0],Lb=eb[1];Ka=Ka.fork(Ka.NO_SOURCE|Ka.NO_FIELDS);let Ac,tc,pb;for(Ac in wb)tc=Hb[Ac],pb=wb[Ac]||0,!tc&&pb?(Hb[Ac]=tc=w.ingest({}),tc[ac]=Ac,tc[Lb]=pb,Ka.add.push(tc)):0===pb?(tc&&Ka.rem.push(tc),wb[Ac]=null,Hb[Ac]=null):tc[Lb]!==pb&&(tc[Lb]=pb,Ka.mod.push(tc));return Ka.modifies(eb)}});R.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};l.inherits(R,w.Transform,{transform(Ka,eb){const wb=
eb.fork(eb.NO_SOURCE),Hb=Ka.as||["a","b"],ac=Hb[0],Lb=Hb[1];var Ac=!this.value||eb.changed(eb.ADD_REM)||Ka.modified("as")||Ka.modified("filter"),tc=this.value;if(Ac){tc&&(wb.rem=tc);eb=tc=eb.materialize(eb.SOURCE).source;Ka=Ka.filter||l.truthy;Ac=[];tc={};for(var pb=eb.length,Bb=0,Ub,mc;Bb<pb;++Bb)for(tc[ac]=mc=eb[Bb],Ub=0;Ub<pb;++Ub)tc[Lb]=eb[Ub],Ka(tc)&&(Ac.push(w.ingest(tc)),tc={},tc[ac]=mc);wb.add=this.value=Ac}else wb.mod=tc;wb.source=this.value;return wb.modifies(Hb)}});const gc={kde:H.randomKDE,
mixture:H.randomMixture,normal:H.randomNormal,lognormal:H.randomLogNormal,uniform:H.randomUniform};Pb=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ja.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Pb.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Pb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ja,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ka.modified()){const Hb=T(Ka.distribution,fa(eb));eb=Ka.steps||Ka.minsteps||25;const ac=Ka.steps||Ka.maxsteps||200;let Lb=Ka.method||"pdf";"pdf"!==Lb&&"cdf"!==Lb&&l.error("Invalid density method: "+Lb);Ka.extent||Hb.data||l.error("Missing density extent parameter.");
Lb=Hb[Lb];const Ac=Ka.as||["value","density"];Ka=Ka.extent||l.extent(Hb.data());Ka=H.sampleCurve(Lb,Ka,eb,ac).map(tc=>{const pb={};pb[Ac[0]]=tc[0];pb[Ac[1]]=tc[1];return w.ingest(pb)});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=Ka}return wb}});Z.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(Z,w.Transform,{transform(Ka,eb){if(this.value&&!Ka.modified()&&!eb.changed())return eb;var wb=eb.materialize(eb.SOURCE).source;const Hb=la(eb.source,Ka.groupby,l.identity),ac=Ka.smooth||!1,Lb=Ka.field;wb=Ka.step||l.span(l.extent(wb,Lb))/30;const Ac=w.stableCompare((Bc,Cc)=>Lb(Bc)-Lb(Cc));Ka=Ka.as||"bin";const tc=Hb.length;let pb=Infinity,Bb=-Infinity,Ub=0,mc;for(;Ub<tc;++Ub){const Bc=Hb[Ub].sort(Ac);mc=-1;for(const Cc of H.dotbin(Bc,wb,ac,Lb))Cc<pb&&(pb=Cc),Cc>Bb&&(Bb=Cc),Bc[++mc][Ka]=
Cc}this.value={start:pb,stop:Bb,step:wb};return eb.reflow(!0).modifies(Ka)}});l.inherits(P,w.Operator);V.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(V,w.Transform,{transform(Ka,eb){var wb=this.value;const Hb=Ka.field;Ka=eb.changed()||eb.modified(Hb.fields)||Ka.modified("field");let ac=wb[0],Lb=wb[1];if(Ka||null==ac)ac=Infinity,Lb=-Infinity;eb.visit(Ka?eb.SOURCE:eb.ADD,Ac=>{Ac=l.toNumber(Hb(Ac));null!=Ac&&(Ac<ac&&(ac=Ac),Ac>Lb&&(Lb=Ac))});Number.isFinite(ac)&&
Number.isFinite(Lb)||((wb=l.accessorName(Hb))&&(wb=` for field "${wb}"`),eb.dataflow.warn(`Infinite extent${wb}: [${ac}, ${Lb}]`),ac=Lb=void 0);this.value=[ac,Lb]}});l.inherits(ha,w.Operator,{connect(Ka){this.detachSubflow=Ka.detachSubflow;this.targets().add(Ka);return Ka.source=this},add(Ka){this.count+=1;this.value.add.push(Ka)},rem(Ka){--this.count;this.value.rem.push(Ka)},mod(Ka){this.value.mod.push(Ka)},init(Ka){this.value.init(Ka,Ka.NO_SOURCE)},evaluate(){return this.value}});l.inherits(aa,
w.Transform,{activate(Ka){this._targets[this._targets.active++]=Ka},subflow(Ka,eb,wb,Hb){const ac=this.value;let Lb=l.hasOwnProperty(ac,Ka)&&ac[Ka],Ac;Lb?Lb.value.stamp<wb.stamp&&(Lb.init(wb),this.activate(Lb)):(Ac=Hb||(Ac=this._group[Ka])&&Ac.tuple,Hb=wb.dataflow,Lb=new ha(wb.fork(wb.NO_SOURCE),this),Hb.add(Lb).connect(eb(Hb,Ka,Ac)),ac[Ka]=Lb,this.activate(Lb));return Lb},clean(){const Ka=this.value;for(const eb in Ka)if(0===Ka[eb].count){const wb=Ka[eb].detachSubflow;wb&&wb();delete Ka[eb]}},initTargets(){const Ka=
this._targets,eb=Ka.length;for(let wb=0;wb<eb&&null!=Ka[wb];++wb)Ka[wb]=null;Ka.active=0},transform(Ka,eb){const wb=eb.dataflow,Hb=Ka.key,ac=Ka.subflow,Lb=this._keys,Ac=Ka.modified("key"),tc=pb=>this.subflow(pb,ac,eb);this._group=Ka.group||{};this.initTargets();eb.visit(eb.REM,pb=>{const Bb=w.tupleid(pb),Ub=Lb.get(Bb);void 0!==Ub&&(Lb.delete(Bb),tc(Ub).rem(pb))});eb.visit(eb.ADD,pb=>{const Bb=Hb(pb);Lb.set(w.tupleid(pb),Bb);tc(Bb).add(pb)});Ac||eb.modified(Hb.fields)?eb.visit(eb.MOD,pb=>{const Bb=
w.tupleid(pb),Ub=Lb.get(Bb),mc=Hb(pb);Ub===mc?tc(mc).mod(pb):(Lb.set(Bb,mc),tc(Ub).rem(pb),tc(mc).add(pb))}):eb.changed(eb.MOD)&&eb.visit(eb.MOD,pb=>{tc(Lb.get(w.tupleid(pb))).mod(pb)});Ac&&eb.visit(eb.REFLOW,pb=>{const Bb=w.tupleid(pb),Ub=Lb.get(Bb),mc=Hb(pb);Ub!==mc&&(Lb.set(Bb,mc),tc(Ub).rem(pb),tc(mc).add(pb))});eb.clean()?wb.runAfter(()=>{this.clean();Lb.clean()}):Lb.empty>wb.cleanThreshold&&wb.runAfter(Lb.clean);return eb}});l.inherits(ta,w.Operator);Ha.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};l.inherits(Ha,w.Transform,{transform(Ka,eb){function wb(mc){const Bc=w.tupleid(mc),Cc=Bb(mc,Ka),Xc=ac.get(Bc);Cc&&Xc?(ac.delete(Bc),Ac.push(mc)):Cc||Xc?Ub&&Cc&&!Xc&&pb.push(mc):(ac.set(Bc,1),tc.push(mc))}const Hb=eb.dataflow,ac=this.value,Lb=eb.fork(),Ac=Lb.add,tc=Lb.rem,pb=Lb.mod,Bb=Ka.expr;let Ub=!0;eb.visit(eb.REM,mc=>{const Bc=w.tupleid(mc);ac.has(Bc)?ac.delete(Bc):tc.push(mc)});eb.visit(eb.ADD,mc=>{Bb(mc,Ka)?Ac.push(mc):ac.set(w.tupleid(mc),1)});
eb.visit(eb.MOD,wb);Ka.modified()&&(Ub=!1,eb.visit(eb.REFLOW,wb));ac.empty>Hb.cleanThreshold&&Hb.runAfter(ac.clean);return Lb}});bb.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(bb,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE),Hb=Ka.fields,ac=ia(Hb,Ka.as||[]),Lb=Ka.index||null,Ac=ac.length;wb.rem=this.value;eb.visit(eb.SOURCE,tc=>{const pb=Hb.map(Xc=>
Xc(tc)),Bb=pb.reduce((Xc,Qb)=>Math.max(Xc,Qb.length),0);let Ub=0,mc,Bc,Cc;for(;Ub<Bb;++Ub){Bc=w.derive(tc);for(mc=0;mc<Ac;++mc)Bc[ac[mc]]=null==(Cc=pb[mc][Ub])?null:Cc;Lb&&(Bc[Lb]=Ub);wb.add.push(Bc)}});this.value=wb.source=wb.add;Lb&&wb.modifies(Lb);return wb.modifies(ac)}});kb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(kb,w.Transform,{transform(Ka,eb){const wb=
eb.fork(eb.NO_SOURCE),Hb=Ka.fields,ac=Hb.map(l.accessorName);Ka=Ka.as||["key","value"];const Lb=Ka[0],Ac=Ka[1],tc=Hb.length;wb.rem=this.value;eb.visit(eb.SOURCE,pb=>{for(let Bb=0,Ub;Bb<tc;++Bb)Ub=w.derive(pb),Ub[Lb]=ac[Bb],Ub[Ac]=Hb[Bb](pb),wb.add.push(Ub)});this.value=wb.source=wb.add;return wb.modifies(Ka)}});va.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(va,w.Transform,
{transform(Ka,eb){const wb=Ka.expr,Hb=Ka.as,ac=Ka.modified(),Lb=Ka.initonly?eb.ADD:ac?eb.SOURCE:eb.modified(wb.fields)||eb.modified(Hb)?eb.ADD_MOD:eb.ADD;ac&&(eb=eb.materialize().reflow(!0));Ka.initonly||eb.modifies(Hb);return eb.visit(Lb,Ac=>Ac[Hb]=wb(Ac,Ka))}});l.inherits(Ta,w.Transform,{transform(Ka,eb){eb=eb.fork(eb.ALL);const wb=Ka.generator;let Hb=this.value,ac=Ka.size-Hb.length,Lb,Ac;if(0<ac){for(Lb=[];0<=--ac;)Lb.push(Ac=w.ingest(wb(Ka))),Hb.push(Ac);eb.add=eb.add.length?eb.materialize(eb.ADD).add.concat(Lb):
Lb}else Ka=Hb.slice(0,-ac),eb.rem=eb.rem.length?eb.materialize(eb.REM).rem.concat(Ka):Ka,Hb=Hb.slice(-ac);eb.source=this.value=Hb;return eb}});const Eb={value:"value",median:N.median,mean:N.mean,min:N.min,max:N.max},zc=[];Ya.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median",
"max","min"]},{name:"value","default":0}]};l.inherits(Ya,w.Transform,{transform(Ka,eb){var wb=eb.fork(eb.ALL),Hb=Ca(Ka),ac=ua(Ka),Lb=l.accessorName(Ka.field),Ac=l.accessorName(Ka.key),tc=(Ka.groupby||[]).map(l.accessorName);Ka=U(eb.source,Ka.groupby,Ka.key,Ka.keyvals);eb=[];var pb=this.value,Bb=Ka.domain.length,Ub,mc,Bc;var Cc=0;for(mc=Ka.length;Cc<mc;++Cc){var Xc=Ka[Cc];var Qb=Xc.values;var Ic=NaN;for(Ub=0;Ub<Bb;++Ub)if(null==Xc[Ub]){var Dc=Ka.domain[Ub];var uc={_impute:!0};var Tc=0;for(Bc=Qb.length;Tc<
Bc;++Tc)uc[tc[Tc]]=Qb[Tc];uc[Ac]=Dc;uc[Lb]=Number.isNaN(Ic)?Ic=Hb(Xc,ac):Ic;eb.push(w.ingest(uc))}}eb.length&&(wb.add=wb.materialize(wb.ADD).add.concat(eb));pb.length&&(wb.rem=wb.materialize(wb.REM).rem.concat(pb));this.value=eb;return wb}});W.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:wd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};
l.inherits(W,D,{transform(Ka,eb){const wb=this,Hb=Ka.modified();let ac;wb.value&&(Hb||eb.modified(wb._inputs,!0))?(ac=wb.value=Hb?wb.init(Ka):{},eb.visit(eb.SOURCE,Lb=>wb.add(Lb))):(ac=wb.value=wb.value||this.init(Ka),eb.visit(eb.REM,Lb=>wb.rem(Lb)),eb.visit(eb.ADD,Lb=>wb.add(Lb)));wb.changes();eb.visit(eb.SOURCE,Lb=>{l.extend(Lb,ac[wb.cellkey(Lb)].tuple)});return eb.reflow(Hb).modifies(this._outputs)},changes(){const Ka=this._adds,eb=this._mods;let wb,Hb;wb=0;for(Hb=this._alen;wb<Hb;++wb)this.celltuple(Ka[wb]),
Ka[wb]=null;wb=0;for(Hb=this._mlen;wb<Hb;++wb)this.celltuple(eb[wb]),eb[wb]=null;this._alen=this._mlen=0}});ba.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ba,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ka.modified()){eb=eb.materialize(eb.SOURCE).source;const Hb=la(eb,Ka.groupby,Ka.field),ac=(Ka.groupby||[]).map(l.accessorName),Lb=Ka.bandwidth,Ac=Ka.cumulative?"cdf":"pdf",tc=Ka.as||["value","density"],
pb=[];let Bb=Ka.extent,Ub=Ka.steps||Ka.minsteps||25,mc=Ka.steps||Ka.maxsteps||200;"pdf"!==Ac&&"cdf"!==Ac&&l.error("Invalid density method: "+Ac);"shared"===Ka.resolve&&(Bb||(Bb=l.extent(eb,Ka.field)),Ub=mc=Ka.steps||mc);Hb.forEach(Bc=>{const Cc=H.randomKDE(Bc,Lb)[Ac],Xc=Ka.counts?Bc.length:1,Qb=Bb||l.extent(Bc);H.sampleCurve(Cc,Qb,Ub,mc).forEach(Ic=>{const Dc={};for(let uc=0;uc<ac.length;++uc)Dc[ac[uc]]=Bc.dims[uc];Dc[tc[0]]=Ic[0];Dc[tc[1]]=Ic[1]*Xc;pb.push(w.ingest(Dc))})});this.value&&(wb.rem=this.value);
this.value=wb.add=wb.source=pb}return wb}});l.inherits(ca,w.Operator);l.inherits(qa,w.Transform,{transform(Ka,eb){const wb=eb.dataflow;return this._pending?na(this,eb,this._pending):Da(Ka)?eb.StopPropagation:Ka.values?na(this,eb,wb.parse(Ka.values,Ka.format)):Ka.async?{async:wb.request(Ka.url,Ka.format).then(Hb=>{this._pending=l.array(Hb.data);return ac=>ac.touch(this)})}:wb.request(Ka.url,Ka.format).then(Hb=>na(this,eb,l.array(Hb.data)))}});Ra.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Ra,w.Transform,{transform(Ka,eb){const wb=Ka.fields,Hb=Ka.index,ac=Ka.values,Lb=null==Ka.default?null:Ka.default;var Ac=Ka.modified();const tc=wb.length;let pb=Ac?eb.SOURCE:eb.ADD,Bb=eb,Ub=Ka.as,mc;ac?(mc=ac.length,1<tc&&!Ub&&l.error('Multi-field lookup requires explicit "as" parameter.'),
Ub&&Ub.length!==tc*mc&&l.error('The "as" parameter has too few output field names.'),Ub=Ub||ac.map(l.accessorName),Ka=function(Bc){for(var Cc=0,Xc=0,Qb,Ic;Cc<tc;++Cc)if(Ic=Hb.get(wb[Cc](Bc)),null==Ic)for(Qb=0;Qb<mc;++Qb,++Xc)Bc[Ub[Xc]]=Lb;else for(Qb=0;Qb<mc;++Qb,++Xc)Bc[Ub[Xc]]=ac[Qb](Ic)}):(Ub||l.error("Missing output field names."),Ka=function(Bc){for(var Cc=0,Xc;Cc<tc;++Cc)Xc=Hb.get(wb[Cc](Bc)),Bc[Ub[Cc]]=null==Xc?Lb:Xc});Ac?Bb=eb.reflow(!0):(Ac=wb.some(Bc=>eb.modified(Bc.fields)),pb|=Ac?eb.MOD:
0);eb.visit(pb,Ka);return Bb.modifies(Ub)}});l.inherits(db,w.Operator);l.inherits(Fa,w.Operator);l.inherits(pa,w.Transform,{transform(Ka,eb){this.modified(Ka.modified());this.value=Ka;return eb.fork(eb.NO_SOURCE|eb.NO_FIELDS)}});Ja.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:wd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};l.inherits(Ja,D,{_transform:D.prototype.transform,transform(Ka,eb){return this._transform(Ua(Ka,eb),eb)}});l.inherits(Xb,aa,{transform(Ka,eb){const wb=Ka.subflow,Hb=Ka.field,ac=Lb=>this.subflow(w.tupleid(Lb),wb,eb,Lb);(Ka.modified("field")||Hb&&eb.modified(l.accessorFields(Hb)))&&l.error("PreFacet does not support field modification.");this.initTargets();Hb?(eb.visit(eb.MOD,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>Ac.mod(tc))}),eb.visit(eb.ADD,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>
Ac.add(w.ingest(tc)))}),eb.visit(eb.REM,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>Ac.rem(tc))})):(eb.visit(eb.MOD,Lb=>ac(Lb).mod(Lb)),eb.visit(eb.ADD,Lb=>ac(Lb).add(Lb)),eb.visit(eb.REM,Lb=>ac(Lb).rem(Lb)));eb.clean()&&eb.runAfter(()=>this.clean());return eb}});nc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(nc,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE),Hb=Ka.fields,
ac=ia(Ka.fields,Ka.as||[]),Lb=Hb?(tc,pb)=>{for(let Bb=0,Ub=Hb.length;Bb<Ub;++Bb)pb[ac[Bb]]=Hb[Bb](tc);return pb}:w.rederive;let Ac;this.value?Ac=this.value:(eb=eb.addAll(),Ac=this.value={});eb.visit(eb.REM,tc=>{tc=w.tupleid(tc);wb.rem.push(Ac[tc]);Ac[tc]=null});eb.visit(eb.ADD,tc=>{const pb=Lb(tc,w.ingest({}));Ac[w.tupleid(tc)]=pb;wb.add.push(pb)});eb.visit(eb.MOD,tc=>{wb.mod.push(Lb(tc,Ac[w.tupleid(tc)]))});return wb}});l.inherits(md,w.Transform,{transform(Ka,eb){this.value=Ka.value;return Ka.modified("value")?
eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});pc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};l.inherits(pc,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),Hb=Ka.as||["prob","value"];if(this.value&&!Ka.modified()&&!eb.changed())return wb.source=
this.value,wb;eb=eb.materialize(eb.SOURCE).source;eb=la(eb,Ka.groupby,Ka.field);const ac=(Ka.groupby||[]).map(l.accessorName),Lb=[],Ac=Ka.step||.01,tc=Ka.probs||N.range(Ac/2,1-1E-14,Ac),pb=tc.length;eb.forEach(Bb=>{const Ub=H.quantiles(Bb,tc);for(let mc=0;mc<pb;++mc){const Bc={};for(let Cc=0;Cc<ac.length;++Cc)Bc[ac[Cc]]=Bb.dims[Cc];Bc[Hb[0]]=tc[mc];Bc[Hb[1]]=Ub[mc];Lb.push(w.ingest(Bc))}});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=Lb;return wb}});l.inherits(Hc,w.Transform,{transform(Ka,
eb){let wb,Hb;this.value?Hb=this.value:(wb=eb=eb.addAll(),Hb=this.value={});Ka.derive&&(wb=eb.fork(eb.NO_SOURCE),eb.visit(eb.REM,ac=>{ac=w.tupleid(ac);wb.rem.push(Hb[ac]);Hb[ac]=null}),eb.visit(eb.ADD,ac=>{const Lb=w.derive(ac);Hb[w.tupleid(ac)]=Lb;wb.add.push(Lb)}),eb.visit(eb.MOD,ac=>{const Lb=Hb[w.tupleid(ac)];for(const Ac in ac)Lb[Ac]=ac[Ac],wb.modifies(Ac);wb.mod.push(Lb)}));return wb}});mb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(mb,
w.Transform,{transform(Ka,eb){function wb(Ub){let mc,Bc;tc.length<Lb?tc.push(Ub):(Bc=~~((pb+1)*H.random()),Bc<tc.length&&Bc>=Bb&&(mc=tc[Bc],Ac[w.tupleid(mc)]&&Hb.rem.push(mc),tc[Bc]=Ub));++pb}const Hb=eb.fork(eb.NO_SOURCE);var ac=Ka.modified("size");const Lb=Ka.size,Ac=this.value.reduce((Ub,mc)=>(Ub[w.tupleid(mc)]=1,Ub),{});let tc=this.value,pb=this.count,Bb=0;eb.rem.length&&(eb.visit(eb.REM,Ub=>{const mc=w.tupleid(Ub);Ac[mc]&&(Ac[mc]=-1,Hb.rem.push(Ub));--pb}),tc=tc.filter(Ub=>-1!==Ac[w.tupleid(Ub)]));
(eb.rem.length||ac)&&tc.length<Lb&&eb.source&&(Bb=pb=tc.length,eb.visit(eb.SOURCE,Ub=>{Ac[w.tupleid(Ub)]||wb(Ub)}),Bb=-1);if(ac&&tc.length>Lb){Ka=tc.length-Lb;for(ac=0;ac<Ka;++ac)Ac[w.tupleid(tc[ac])]=-1,Hb.rem.push(tc[ac]);tc=tc.slice(Ka)}eb.mod.length&&eb.visit(eb.MOD,Ub=>{Ac[w.tupleid(Ub)]&&Hb.mod.push(Ub)});eb.add.length&&eb.visit(eb.ADD,wb);if(eb.add.length||0>Bb)Hb.add=tc.filter(Ub=>!Ac[w.tupleid(Ub)]);this.count=pb;this.value=Hb.source=tc;return Hb}});hc.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(hc,w.Transform,{transform(Ka,eb){if(!this.value||Ka.modified()){var wb=eb.materialize().fork(eb.MOD),Hb=Ka.as||"data";wb.rem=this.value?eb.rem.concat(this.value):eb.rem;this.value=N.range(Ka.start,Ka.stop,Ka.step||1).map(ac=>{const Lb={};Lb[Hb]=ac;return w.ingest(Lb)});wb.add=eb.add.concat(this.value);return wb}}});
l.inherits(jc,w.Transform,{transform(Ka,eb){this.value=eb.source;return eb.changed()?eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});const Vc=["unit0","unit1"];rc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:x.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Vc}]};l.inherits(rc,w.Transform,{transform(Ka,eb){const wb=Ka.field,Hb=!1!==Ka.interval;var ac="utc"===Ka.timezone;const Lb=this._floor(Ka,eb),Ac=(ac?x.utcInterval:x.timeInterval)(Lb.unit).offset;ac=Ka.as||Vc;const tc=ac[0],pb=ac[1],Bb=Lb.step;let Ub=Lb.start||Infinity,mc=Lb.stop||-Infinity,Bc=eb.ADD;if(Ka.modified()||eb.modified(l.accessorFields(wb)))eb=eb.reflow(!0),Bc=eb.SOURCE,Ub=Infinity,
mc=-Infinity;eb.visit(Bc,Cc=>{var Xc=wb(Cc);let Qb;null==Xc?(Cc[tc]=null,Hb&&(Cc[pb]=null)):(Cc[tc]=Xc=Qb=Lb(Xc),Hb&&(Cc[pb]=Qb=Ac(Xc,Bb)),Xc<Ub&&(Ub=Xc),Qb>mc&&(mc=Qb))});Lb.start=Ub;Lb.stop=mc;return eb.modifies(Hb?ac:tc)},_floor(Ka,eb){var wb="utc"===Ka.timezone;const {units:Hb,step:ac}=Ka.units?{units:Ka.units,step:Ka.step||1}:x.timeBin({extent:Ka.extent||l.extent(eb.materialize(eb.SOURCE).source,Ka.field),maxbins:Ka.maxbins});Ka=x.timeUnits(Hb);eb=this.value||{};wb=(wb?x.utcFloor:x.timeFloor)(Ka,
ac);wb.unit=l.peek(Ka);wb.units=Ka;wb.step=ac;wb.start=eb.start;wb.stop=eb.stop;return this.value=wb}});l.inherits(Pc,w.Transform,{transform(Ka,eb){const wb=eb.dataflow,Hb=Ka.field,ac=this.value,Lb=tc=>ac.set(Hb(tc),tc);let Ac=!0;Ka.modified("field")||eb.modified(Hb.fields)?(ac.clear(),eb.visit(eb.SOURCE,Lb)):eb.changed()?(eb.visit(eb.REM,tc=>ac.delete(Hb(tc))),eb.visit(eb.ADD,Lb)):Ac=!1;this.modified(Ac);ac.empty>wb.cleanThreshold&&wb.runAfter(ac.clean);return eb.fork()}});l.inherits(sc,w.Transform,
{transform(Ka,eb){if(!this.value||Ka.modified("field")||Ka.modified("sort")||eb.changed()||Ka.sort&&eb.modified(Ka.sort.fields))this.value=(Ka.sort?eb.source.slice().sort(w.stableCompare(Ka.sort)):eb.source).map(Ka.field)}});const Ed={row_number:function(){return{next:Ka=>Ka.index+1}},rank:function(){let Ka;return{init:()=>Ka=1,next:eb=>{const wb=eb.index,Hb=eb.data;return wb&&eb.compare(Hb[wb-1],Hb[wb])?Ka=wb+1:Ka}}},dense_rank:function(){let Ka;return{init:()=>Ka=1,next:eb=>{const wb=eb.index,Hb=
eb.data;return wb&&eb.compare(Hb[wb-1],Hb[wb])?++Ka:Ka}}},percent_rank:function(){const Ka=Ed.rank(),eb=Ka.next;return{init:Ka.init,next:wb=>(eb(wb)-1)/(wb.data.length-1)}},cume_dist:function(){let Ka;return{init:()=>Ka=0,next:eb=>{const wb=eb.data,Hb=eb.compare;eb=eb.index;if(Ka<eb){for(;eb+1<wb.length&&!Hb(wb[eb],wb[eb+1]);)++eb;Ka=eb}return(1+Ka)/wb.length}}},ntile:function(Ka,eb){eb=+eb;0<eb||l.error("ntile num must be greater than zero.");Ka=Ed.cume_dist();const wb=Ka.next;return{init:Ka.init,
next:Hb=>Math.ceil(eb*wb(Hb))}},lag:function(Ka,eb){eb=+eb||1;return{next:wb=>{const Hb=wb.index-eb;return 0<=Hb?Ka(wb.data[Hb]):null}}},lead:function(Ka,eb){eb=+eb||1;return{next:wb=>{const Hb=wb.index+eb;wb=wb.data;return Hb<wb.length?Ka(wb[Hb]):null}}},first_value:function(Ka){return{next:eb=>Ka(eb.data[eb.i0])}},last_value:function(Ka){return{next:eb=>Ka(eb.data[eb.i1-1])}},nth_value:function(Ka,eb){eb=+eb;0<eb||l.error("nth_value nth must be greater than zero.");return{next:wb=>{const Hb=wb.i0+
(eb-1);return Hb<wb.i1?Ka(wb.data[Hb]):null}}},prev_value:function(Ka){let eb;return{init:()=>eb=null,next:wb=>{wb=Ka(wb.data[wb.index]);return null!=wb?eb=wb:eb}}},next_value:function(Ka){let eb,wb;return{init:()=>(eb=null,wb=-1),next:Hb=>{var ac=Hb.data;if(Hb.index<=wb)ac=eb;else{a:{Hb=Hb.index;for(let Lb=ac.length;Hb<Lb;++Hb)if(null!=Ka(ac[Hb]))break a;Hb=-1}ac=0>(wb=Hb)?(wb=ac.length,eb=null):eb=Ka(ac[wb])}return ac}}}};Pb=Object.keys(Ed);const Vd=Sc.prototype;Vd.init=function(){this.windows.forEach(Ka=>
Ka.init());this.cell&&this.cell.init()};Vd.update=function(Ka,eb){const wb=this.cell,Hb=this.windows,ac=Ka.data,Lb=Hb&&Hb.length;let Ac;if(wb){for(Ac=Ka.p0;Ac<Ka.i0;++Ac)wb.rem(ac[Ac]);for(Ac=Ka.p1;Ac<Ka.i1;++Ac)wb.add(ac[Ac]);wb.set(eb)}for(Ac=0;Ac<Lb;++Ac)Hb[Ac].update(Ka,eb)};Fd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Pb.concat(wd)},{name:"params",type:"number","null":!0,
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(Fd,w.Transform,{transform(Ka,eb){this.stamp=eb.stamp;const wb=Ka.modified(),Hb=w.stableCompare(Ka.sort),ac=u(Ka.groupby),Lb=tc=>this.group(ac(tc));let Ac=this.state;if(!Ac||wb)Ac=this.state=new Sc(Ka);wb||eb.modified(Ac.inputs)?(this.value={},eb.visit(eb.SOURCE,
tc=>Lb(tc).add(tc))):(eb.visit(eb.REM,tc=>Lb(tc).remove(tc)),eb.visit(eb.ADD,tc=>Lb(tc).add(tc)));for(let tc=0,pb=this._mlen;tc<pb;++tc)ge(this._mods[tc],Ac,Hb,Ka);this._mlen=0;this._mods=[];return eb.reflow(wb).modifies(Ac.outputs)},group(Ka){let eb=this.value[Ka];eb||(eb=this.value[Ka]=M(w.tupleid),eb.stamp=-1);eb.stamp<this.stamp&&(eb.stamp=this.stamp,this._mods[this._mlen++]=eb);return eb}});k.aggregate=D;k.bin=O;k.collect=F;k.compare=z;k.countpattern=K;k.cross=R;k.density=ja;k.dotbin=Z;k.expression=
P;k.extent=V;k.facet=aa;k.field=ta;k.filter=Ha;k.flatten=bb;k.fold=kb;k.formula=va;k.generate=Ta;k.impute=Ya;k.joinaggregate=W;k.kde=ba;k.key=ca;k.load=qa;k.lookup=Ra;k.multiextent=db;k.multivalues=Fa;k.params=pa;k.pivot=Ja;k.prefacet=Xb;k.project=nc;k.proxy=md;k.quantile=pc;k.relay=Hc;k.sample=mb;k.sequence=hc;k.sieve=jc;k.subflow=ha;k.timeunit=rc;k.tupleindex=Pc;k.values=sc;k.window=Fd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function w(){return new l}const H=Math.PI,N=2*H,x=N-1E-6;l.prototype=w.prototype={constructor:l,moveTo:function(v,u){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+u)},closePath:function(){null!==this._x1&&(this._x1=
this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(v,u){this._+="L"+(this._x1=+v)+","+(this._y1=+u)},quadraticCurveTo:function(v,u,m,g){this._+="Q"+ +v+","+ +u+","+(this._x1=+m)+","+(this._y1=+g)},bezierCurveTo:function(v,u,m,g,d,f){this._+="C"+ +v+","+ +u+","+ +m+","+ +g+","+(this._x1=+d)+","+(this._y1=+f)},arcTo:function(v,u,m,g,d){v=+v;u=+u;m=+m;g=+g;d=+d;var f=this._x1,a=this._y1,e=m-v,n=g-u,y=f-v,B=a-u,D=y*y+B*B;if(0>d)throw Error("negative radius: "+d);if(null===this._x1)this._+="M"+(this._x1=
v)+","+(this._y1=u);else if(1E-6<D)if(1E-6<Math.abs(B*e-n*y)&&d){m-=f;g-=a;var O=e*e+n*n;a=Math.sqrt(O);f=Math.sqrt(D);D=d*Math.tan((H-Math.acos((O+D-(m*m+g*g))/(2*a*f)))/2);f=D/f;D/=a;1E-6<Math.abs(f-1)&&(this._+="L"+(v+f*y)+","+(u+f*B));this._+="A"+d+","+d+",0,0,"+ +(B*m>y*g)+","+(this._x1=v+D*e)+","+(this._y1=u+D*n)}else this._+="L"+(this._x1=v)+","+(this._y1=u)},arc:function(v,u,m,g,d,f){v=+v;u=+u;m=+m;f=!!f;var a=m*Math.cos(g),e=m*Math.sin(g),n=v+a,y=u+e,B=1^f;g=f?g-d:d-g;if(0>m)throw Error("negative radius: "+
m);if(null===this._x1)this._+="M"+n+","+y;else if(1E-6<Math.abs(this._x1-n)||1E-6<Math.abs(this._y1-y))this._+="L"+n+","+y;m&&(0>g&&(g=g%N+N),g>x?this._+="A"+m+","+m+",0,1,"+B+","+(v-a)+","+(u-e)+"A"+m+","+m+",0,1,"+B+","+(this._x1=n)+","+(this._y1=y):1E-6<g&&(this._+="A"+m+","+m+",0,"+ +(g>=H)+","+B+","+(this._x1=v+m*Math.cos(d))+","+(this._y1=u+m*Math.sin(d))))},rect:function(v,u,m,g){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+u)+"h"+ +m+"v"+ +g+"h"+-m+"Z"},toString:function(){return this._}};
k.path=w;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(29)):"function"===typeof define&&define.amd?define(["exports","d3-path"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(pb){return function(){return pb}}function H(pb){return 1<=pb?jc:-1>=pb?-jc:Math.asin(pb)}function N(pb){return pb.innerRadius}function x(pb){return pb.outerRadius}function v(pb){return pb.startAngle}function u(pb){return pb.endAngle}function m(pb){return pb&&
pb.padAngle}function g(pb,Bb,Ub,mc,Bc,Cc,Xc){var Qb=pb-Ub,Ic=Bb-mc;Xc=(Xc?Cc:-Cc)/mb(Qb*Qb+Ic*Ic);Ic*=Xc;Qb*=-Xc;var Dc=pb+Ic,uc=Bb+Qb,Tc=Ub+Ic,ad=mc+Qb;Ub=(Dc+Tc)/2;mc=(uc+ad)/2;Bb=Tc-Dc;pb=ad-uc;Xc=Bb*Bb+pb*pb;Cc=Bc-Cc;ad=Dc*ad-Tc*uc;var ld=(0>pb?-1:1)*mb(md(0,Cc*Cc*Xc-ad*ad));Dc=(ad*pb-Bb*ld)/Xc;uc=(-ad*Bb-pb*ld)/Xc;Tc=(ad*pb+Bb*ld)/Xc;Bb=(-ad*Bb+pb*ld)/Xc;pb=Dc-Ub;Xc=uc-mc;Ub=Tc-Ub;mc=Bb-mc;pb*pb+Xc*Xc>Ub*Ub+mc*mc&&(Dc=Tc,uc=Bb);return{cx:Dc,cy:uc,x01:-Ic,y01:-Qb,x11:Dc*(Bc/Cc-1),y11:uc*(Bc/Cc-
1)}}function d(pb){return"object"===typeof pb&&"length"in pb?pb:Array.from(pb)}function f(pb){this._context=pb}function a(pb){return new f(pb)}function e(pb){return pb[0]}function n(pb){return pb[1]}function y(pb,Bb){function Ub(Qb){var Ic,Dc=(Qb=d(Qb)).length,uc,Tc=!1,ad;null==Bc&&(Xc=Cc(ad=l.path()));for(Ic=0;Ic<=Dc;++Ic)!(Ic<Dc&&mc(uc=Qb[Ic],Ic,Qb))===Tc&&((Tc=!Tc)?Xc.lineStart():Xc.lineEnd()),Tc&&Xc.point(+pb(uc,Ic,Qb),+Bb(uc,Ic,Qb));if(ad)return Xc=null,ad+""||null}var mc=w(!0),Bc=null,Cc=a,
Xc=null;pb="function"===typeof pb?pb:void 0===pb?e:w(pb);Bb="function"===typeof Bb?Bb:void 0===Bb?n:w(Bb);Ub.x=function(Qb){return arguments.length?(pb="function"===typeof Qb?Qb:w(+Qb),Ub):pb};Ub.y=function(Qb){return arguments.length?(Bb="function"===typeof Qb?Qb:w(+Qb),Ub):Bb};Ub.defined=function(Qb){return arguments.length?(mc="function"===typeof Qb?Qb:w(!!Qb),Ub):mc};Ub.curve=function(Qb){return arguments.length?(Cc=Qb,null!=Bc&&(Xc=Cc(Bc)),Ub):Cc};Ub.context=function(Qb){return arguments.length?
(null==Qb?Bc=Xc=null:Xc=Cc(Bc=Qb),Ub):Bc};return Ub}function B(pb,Bb,Ub){function mc(uc){var Tc,ad,ld=(uc=d(uc)).length,Cd,Dd=!1,Ud,ae=Array(ld),oe=Array(ld);null==Qb&&(Dc=Ic(Ud=l.path()));for(Tc=0;Tc<=ld;++Tc){if(!(Tc<ld&&Xc(Cd=uc[Tc],Tc,uc))===Dd)if(Dd=!Dd){var De=Tc;Dc.areaStart();Dc.lineStart()}else{Dc.lineEnd();Dc.lineStart();for(ad=Tc-1;ad>=De;--ad)Dc.point(ae[ad],oe[ad]);Dc.lineEnd();Dc.areaEnd()}Dd&&(ae[Tc]=+pb(Cd,Tc,uc),oe[Tc]=+Bb(Cd,Tc,uc),Dc.point(Cc?+Cc(Cd,Tc,uc):ae[Tc],Ub?+Ub(Cd,Tc,uc):
oe[Tc]))}if(Ud)return Dc=null,Ud+""||null}function Bc(){return y().defined(Xc).curve(Ic).context(Qb)}var Cc=null,Xc=w(!0),Qb=null,Ic=a,Dc=null;pb="function"===typeof pb?pb:void 0===pb?e:w(+pb);Bb="function"===typeof Bb?Bb:void 0===Bb?w(0):w(+Bb);Ub="function"===typeof Ub?Ub:void 0===Ub?n:w(+Ub);mc.x=function(uc){return arguments.length?(pb="function"===typeof uc?uc:w(+uc),Cc=null,mc):pb};mc.x0=function(uc){return arguments.length?(pb="function"===typeof uc?uc:w(+uc),mc):pb};mc.x1=function(uc){return arguments.length?
(Cc=null==uc?null:"function"===typeof uc?uc:w(+uc),mc):Cc};mc.y=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:w(+uc),Ub=null,mc):Bb};mc.y0=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:w(+uc),mc):Bb};mc.y1=function(uc){return arguments.length?(Ub=null==uc?null:"function"===typeof uc?uc:w(+uc),mc):Ub};mc.lineX0=mc.lineY0=function(){return Bc().x(pb).y(Bb)};mc.lineY1=function(){return Bc().x(pb).y(Ub)};mc.lineX1=function(){return Bc().x(Cc).y(Bb)};mc.defined=
function(uc){return arguments.length?(Xc="function"===typeof uc?uc:w(!!uc),mc):Xc};mc.curve=function(uc){return arguments.length?(Ic=uc,null!=Qb&&(Dc=Ic(Qb)),mc):Ic};mc.context=function(uc){return arguments.length?(null==uc?Qb=Dc=null:Dc=Ic(Qb=uc),mc):Qb};return mc}function D(pb,Bb){return Bb<pb?-1:Bb>pb?1:Bb>=pb?0:NaN}function O(pb){return pb}function M(pb){this._curve=pb}function F(pb){function Bb(Ub){return new M(pb(Ub))}Bb._curve=pb;return Bb}function z(pb){var Bb=pb.curve;pb.angle=pb.x;delete pb.x;
pb.radius=pb.y;delete pb.y;pb.curve=function(Ub){return arguments.length?Bb(F(Ub)):Bb()._curve};return pb}function G(){return z(y().curve(sc))}function K(){var pb=B().curve(sc),Bb=pb.curve,Ub=pb.lineX0,mc=pb.lineX1,Bc=pb.lineY0,Cc=pb.lineY1;pb.angle=pb.x;delete pb.x;pb.startAngle=pb.x0;delete pb.x0;pb.endAngle=pb.x1;delete pb.x1;pb.radius=pb.y;delete pb.y;pb.innerRadius=pb.y0;delete pb.y0;pb.outerRadius=pb.y1;delete pb.y1;pb.lineStartAngle=function(){return z(Ub())};delete pb.lineX0;pb.lineEndAngle=
function(){return z(mc())};delete pb.lineX1;pb.lineInnerRadius=function(){return z(Bc())};delete pb.lineY0;pb.lineOuterRadius=function(){return z(Cc())};delete pb.lineY1;pb.curve=function(Xc){return arguments.length?Bb(F(Xc)):Bb()._curve};return pb}function R(pb,Bb){return[(Bb=+Bb)*Math.cos(pb-=Math.PI/2),Bb*Math.sin(pb)]}function T(pb){return pb.source}function ja(pb){return pb.target}function fa(pb){function Bb(){var Qb,Ic=Pc.call(arguments),Dc=Ub.apply(this,Ic),uc=mc.apply(this,Ic);Xc||(Xc=Qb=
l.path());pb(Xc,+Bc.apply(this,(Ic[0]=Dc,Ic)),+Cc.apply(this,Ic),+Bc.apply(this,(Ic[0]=uc,Ic)),+Cc.apply(this,Ic));if(Qb)return Xc=null,Qb+""||null}var Ub=T,mc=ja,Bc=e,Cc=n,Xc=null;Bb.source=function(Qb){return arguments.length?(Ub=Qb,Bb):Ub};Bb.target=function(Qb){return arguments.length?(mc=Qb,Bb):mc};Bb.x=function(Qb){return arguments.length?(Bc="function"===typeof Qb?Qb:w(+Qb),Bb):Bc};Bb.y=function(Qb){return arguments.length?(Cc="function"===typeof Qb?Qb:w(+Qb),Bb):Cc};Bb.context=function(Qb){return arguments.length?
(Xc=null==Qb?null:Qb,Bb):Xc};return Bb}function ia(pb,Bb,Ub,mc,Bc){pb.moveTo(Bb,Ub);pb.bezierCurveTo(Bb=(Bb+mc)/2,Ub,Bb,Bc,mc,Bc)}function la(pb,Bb,Ub,mc,Bc){pb.moveTo(Bb,Ub);pb.bezierCurveTo(Bb,Ub=(Ub+Bc)/2,mc,Ub,mc,Bc)}function Z(pb,Bb,Ub,mc,Bc){var Cc=R(Bb,Ub);Bb=R(Bb,Ub=(Ub+Bc)/2);Ub=R(mc,Ub);mc=R(mc,Bc);pb.moveTo(Cc[0],Cc[1]);pb.bezierCurveTo(Bb[0],Bb[1],Ub[0],Ub[1],mc[0],mc[1])}function P(){}function C(pb,Bb,Ub){pb._context.bezierCurveTo((2*pb._x0+pb._x1)/3,(2*pb._y0+pb._y1)/3,(pb._x0+2*pb._x1)/
3,(pb._y0+2*pb._y1)/3,(pb._x0+4*pb._x1+Bb)/6,(pb._y0+4*pb._y1+Ub)/6)}function V(pb){this._context=pb}function ha(pb){this._context=pb}function aa(pb){this._context=pb}function ta(pb,Bb){this._basis=new V(pb);this._beta=Bb}function wa(pb,Bb,Ub){pb._context.bezierCurveTo(pb._x1+pb._k*(pb._x2-pb._x0),pb._y1+pb._k*(pb._y2-pb._y0),pb._x2+pb._k*(pb._x1-Bb),pb._y2+pb._k*(pb._y1-Ub),pb._x2,pb._y2)}function Ha(pb,Bb){this._context=pb;this._k=(1-Bb)/6}function bb(pb,Bb){this._context=pb;this._k=(1-Bb)/6}function kb(pb,
Bb){this._context=pb;this._k=(1-Bb)/6}function va(pb,Bb,Ub){var mc=pb._x1,Bc=pb._y1,Cc=pb._x2,Xc=pb._y2;if(1E-12<pb._l01_a){var Qb=2*pb._l01_2a+3*pb._l01_a*pb._l12_a+pb._l12_2a,Ic=3*pb._l01_a*(pb._l01_a+pb._l12_a);mc=(mc*Qb-pb._x0*pb._l12_2a+pb._x2*pb._l01_2a)/Ic;Bc=(Bc*Qb-pb._y0*pb._l12_2a+pb._y2*pb._l01_2a)/Ic}1E-12<pb._l23_a&&(Qb=2*pb._l23_2a+3*pb._l23_a*pb._l12_a+pb._l12_2a,Ic=3*pb._l23_a*(pb._l23_a+pb._l12_a),Cc=(Cc*Qb+pb._x1*pb._l23_2a-Bb*pb._l12_2a)/Ic,Xc=(Xc*Qb+pb._y1*pb._l23_2a-Ub*pb._l12_2a)/
Ic);pb._context.bezierCurveTo(mc,Bc,Cc,Xc,pb._x2,pb._y2)}function Ta(pb,Bb){this._context=pb;this._alpha=Bb}function Ya(pb,Bb){this._context=pb;this._alpha=Bb}function Ca(pb,Bb){this._context=pb;this._alpha=Bb}function ua(pb){this._context=pb}function U(pb,Bb,Ub){var mc=pb._x1-pb._x0;Bb-=pb._x1;var Bc=(pb._y1-pb._y0)/(mc||0>Bb&&-0);pb=(Ub-pb._y1)/(Bb||0>mc&&-0);return((0>Bc?-1:1)+(0>pb?-1:1))*Math.min(Math.abs(Bc),Math.abs(pb),.5*Math.abs((Bc*Bb+pb*mc)/(mc+Bb)))||0}function W(pb,Bb){var Ub=pb._x1-
pb._x0;return Ub?(3*(pb._y1-pb._y0)/Ub-Bb)/2:Bb}function ba(pb,Bb,Ub){var mc=pb._x0,Bc=pb._x1,Cc=pb._y1,Xc=(Bc-mc)/3;pb._context.bezierCurveTo(mc+Xc,pb._y0+Xc*Bb,Bc-Xc,Cc-Xc*Ub,Bc,Cc)}function ca(pb){this._context=pb}function ra(pb){this._context=new qa(pb)}function qa(pb){this._context=pb}function Da(pb){this._context=pb}function na(pb){var Bb,Ub=pb.length-1,mc=Array(Ub),Bc=Array(Ub),Cc=Array(Ub);mc[0]=0;Bc[0]=2;Cc[0]=pb[0]+2*pb[1];for(Bb=1;Bb<Ub-1;++Bb)mc[Bb]=1,Bc[Bb]=4,Cc[Bb]=4*pb[Bb]+2*pb[Bb+
1];mc[Ub-1]=2;Bc[Ub-1]=7;Cc[Ub-1]=8*pb[Ub-1]+pb[Ub];for(Bb=1;Bb<Ub;++Bb){var Xc=mc[Bb]/Bc[Bb-1];Bc[Bb]-=Xc;Cc[Bb]-=Xc*Cc[Bb-1]}mc[Ub-1]=Cc[Ub-1]/Bc[Ub-1];for(Bb=Ub-2;0<=Bb;--Bb)mc[Bb]=(Cc[Bb]-mc[Bb+1])/Bc[Bb];Bc[Ub-1]=(pb[Ub]+mc[Ub-1])/2;for(Bb=0;Bb<Ub-1;++Bb)Bc[Bb]=2*pb[Bb+1]-mc[Bb+1];return[mc,Bc]}function Ra(pb,Bb){this._context=pb;this._t=Bb}function db(pb,Bb){if(1<(Xc=pb.length))for(var Ub=1,mc,Bc,Cc=pb[Bb[0]],Xc,Qb=Cc.length;Ub<Xc;++Ub)for(Bc=Cc,Cc=pb[Bb[Ub]],mc=0;mc<Qb;++mc)Cc[mc][1]+=Cc[mc][0]=
isNaN(Bc[mc][1])?Bc[mc][0]:Bc[mc][1]}function $a(pb){pb=pb.length;for(var Bb=Array(pb);0<=--pb;)Bb[pb]=pb;return Bb}function Fa(pb,Bb){return pb[Bb]}function Ga(pb){const Bb=[];Bb.key=pb;return Bb}function pa(pb){var Bb=pb.map(Ja);return $a(pb).sort(function(Ub,mc){return Bb[Ub]-Bb[mc]})}function Ja(pb){for(var Bb=-1,Ub=0,mc=pb.length,Bc,Cc=-Infinity;++Bb<mc;)(Bc=+pb[Bb][1])>Cc&&(Cc=Bc,Ub=Bb);return Ub}function Ua(pb){var Bb=pb.map(jb);return $a(pb).sort(function(Ub,mc){return Bb[Ub]-Bb[mc]})}function jb(pb){for(var Bb=
0,Ub=-1,mc=pb.length,Bc;++Ub<mc;)if(Bc=+pb[Ub][1])Bb+=Bc;return Bb}var Fb=Math.abs,Xb=Math.atan2,nc=Math.cos,md=Math.max,pc=Math.min,Hc=Math.sin,mb=Math.sqrt,hc=Math.PI,jc=hc/2,rc=2*hc,Pc=Array.prototype.slice;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(pb,Bb):this._context.moveTo(pb,Bb);break;case 1:this._point=2;default:this._context.lineTo(pb,Bb)}}};var sc=F(a);M.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(pb,Bb){this._curve.point(Bb*Math.sin(pb),Bb*-Math.cos(pb))}};var Uc={draw:function(pb,Bb){Bb=Math.sqrt(Bb/hc);pb.moveTo(Bb,0);pb.arc(0,0,Bb,0,rc)}},Sc=
{draw:function(pb,Bb){Bb=Math.sqrt(Bb/5)/2;pb.moveTo(-3*Bb,-Bb);pb.lineTo(-Bb,-Bb);pb.lineTo(-Bb,-3*Bb);pb.lineTo(Bb,-3*Bb);pb.lineTo(Bb,-Bb);pb.lineTo(3*Bb,-Bb);pb.lineTo(3*Bb,Bb);pb.lineTo(Bb,Bb);pb.lineTo(Bb,3*Bb);pb.lineTo(-Bb,3*Bb);pb.lineTo(-Bb,Bb);pb.lineTo(-3*Bb,Bb);pb.closePath()}},Lc=Math.sqrt(1/3),Fd=2*Lc,ge={draw:function(pb,Bb){Bb=Math.sqrt(Bb/Fd);var Ub=Bb*Lc;pb.moveTo(0,-Bb);pb.lineTo(Ub,0);pb.lineTo(0,Bb);pb.lineTo(-Ub,0);pb.closePath()}},wd=Math.sin(hc/10)/Math.sin(7*hc/10),vd=Math.sin(rc/
10)*wd,Wd=-Math.cos(rc/10)*wd;wd={draw:function(pb,Bb){Bb=Math.sqrt(.8908130915292852*Bb);var Ub=vd*Bb,mc=Wd*Bb;pb.moveTo(0,-Bb);pb.lineTo(Ub,mc);for(var Bc=1;5>Bc;++Bc){var Cc=rc*Bc/5,Xc=Math.cos(Cc);Cc=Math.sin(Cc);pb.lineTo(Cc*Bb,-Xc*Bb);pb.lineTo(Xc*Ub-Cc*mc,Cc*Ub+Xc*mc)}pb.closePath()}};var Pb={draw:function(pb,Bb){Bb=Math.sqrt(Bb);var Ub=-Bb/2;pb.rect(Ub,Ub,Bb,Bb)}},gc=Math.sqrt(3),Eb={draw:function(pb,Bb){Bb=-Math.sqrt(Bb/(3*gc));pb.moveTo(0,2*Bb);pb.lineTo(-gc*Bb,-Bb);pb.lineTo(gc*Bb,-Bb);
pb.closePath()}},zc=Math.sqrt(3)/2,Vc=1/Math.sqrt(12),Ed=3*(Vc/2+1),Vd={draw:function(pb,Bb){var Ub=Math.sqrt(Bb/Ed);Bb=Ub/2;var mc=Ub*Vc;Ub=Ub*Vc+Ub;var Bc=-Bb;pb.moveTo(Bb,mc);pb.lineTo(Bb,Ub);pb.lineTo(Bc,Ub);pb.lineTo(-.5*Bb-zc*mc,zc*Bb+-.5*mc);pb.lineTo(-.5*Bb-zc*Ub,zc*Bb+-.5*Ub);pb.lineTo(-.5*Bc-zc*Ub,zc*Bc+-.5*Ub);pb.lineTo(-.5*Bb+zc*mc,-.5*mc-zc*Bb);pb.lineTo(-.5*Bb+zc*Ub,-.5*Ub-zc*Bb);pb.lineTo(-.5*Bc+zc*Ub,-.5*Ub-zc*Bc);pb.closePath()}},Ka=[Uc,Sc,ge,Pb,wd,Eb,Vd];V.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pb,Bb):this._context.moveTo(pb,Bb);break;case 1:this._point=2;
break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};ha.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._x2=pb;this._y2=Bb;break;case 1:this._point=2;this._x3=pb;this._y3=Bb;break;case 2:this._point=3;this._x4=pb;this._y4=Bb;this._context.moveTo((this._x0+4*this._x1+pb)/6,(this._y0+
4*this._y1+Bb)/6);break;default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=
3;var Ub=(this._x0+4*this._x1+pb)/6,mc=(this._y0+4*this._y1+Bb)/6;this._line?this._context.lineTo(Ub,mc):this._context.moveTo(Ub,mc);break;case 3:this._point=4;default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};ta.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var pb=this._x,Bb=this._y,Ub=pb.length-1;if(0<Ub)for(var mc=pb[0],Bc=Bb[0],Cc=pb[Ub]-mc,Xc=Bb[Ub]-Bc,Qb=-1,Ic;++Qb<=Ub;)Ic=Qb/Ub,this._basis.point(this._beta*
pb[Qb]+(1-this._beta)*(mc+Ic*Cc),this._beta*Bb[Qb]+(1-this._beta)*(Bc+Ic*Xc));this._x=this._y=null;this._basis.lineEnd()},point:function(pb,Bb){this._x.push(+pb);this._y.push(+Bb)}};var eb=function Ub(Bb){function mc(Bc){return 1===Bb?new V(Bc):new ta(Bc,Bb)}mc.beta=function(Bc){return Ub(+Bc)};return mc}(.85);Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:wa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bb,Ub){Bb=+Bb;Ub=+Ub;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bb,Ub):this._context.moveTo(Bb,Ub);break;case 1:this._point=2;this._x1=Bb;this._y1=Ub;break;case 2:this._point=3;default:wa(this,Bb,Ub)}this._x0=this._x1;this._x1=this._x2;this._x2=Bb;this._y0=this._y1;this._y1=this._y2;this._y2=Ub}};var wb=function mc(Ub){function Bc(Cc){return new Ha(Cc,
Ub)}Bc.tension=function(Cc){return mc(+Cc)};return Bc}(0);bb.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Ub,mc){Ub=+Ub;mc=+mc;switch(this._point){case 0:this._point=1;this._x3=Ub;this._y3=mc;break;case 1:this._point=2;this._context.moveTo(this._x4=Ub,this._y4=mc);break;case 2:this._point=3;this._x5=Ub;this._y5=mc;break;default:wa(this,Ub,mc)}this._x0=this._x1;this._x1=this._x2;this._x2=Ub;this._y0=this._y1;this._y1=this._y2;this._y2=mc}};var Hb=function Bc(mc){function Cc(Xc){return new bb(Xc,mc)}Cc.tension=function(Xc){return Bc(+Xc)};return Cc}(0);kb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(mc,Bc){mc=+mc;Bc=+Bc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:wa(this,mc,Bc)}this._x0=this._x1;this._x1=this._x2;this._x2=mc;this._y0=this._y1;this._y1=this._y2;this._y2=Bc}};var ac=function Cc(Bc){function Xc(Qb){return new kb(Qb,Bc)}Xc.tension=function(Qb){return Cc(+Qb)};return Xc}(0);Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bc,Cc){Bc=+Bc;Cc=+Cc;if(this._point){var Xc=this._x2-Bc,Qb=this._y2-Cc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Xc*Xc+Qb*Qb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bc,Cc):this._context.moveTo(Bc,Cc);break;case 1:this._point=
2;break;case 2:this._point=3;default:va(this,Bc,Cc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Bc;this._y0=this._y1;this._y1=this._y2;this._y2=Cc}};var Lb=function Xc(Cc){function Qb(Ic){return Cc?new Ta(Ic,Cc):new Ha(Ic,0)}Qb.alpha=function(Ic){return Xc(+Ic)};return Qb}(.5);Ya.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Cc,Xc){Cc=+Cc;Xc=+Xc;if(this._point){var Qb=this._x2-Cc,Ic=this._y2-
Xc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Qb*Qb+Ic*Ic,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Cc;this._y3=Xc;break;case 1:this._point=2;this._context.moveTo(this._x4=Cc,this._y4=Xc);break;case 2:this._point=3;this._x5=Cc;this._y5=Xc;break;default:va(this,Cc,Xc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Cc;this._y0=this._y1;this._y1=this._y2;this._y2=Xc}};var Ac=function Qb(Xc){function Ic(Dc){return Xc?
new Ya(Dc,Xc):new bb(Dc,0)}Ic.alpha=function(Dc){return Qb(+Dc)};return Ic}(.5);Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Xc,Qb){Xc=+Xc;Qb=+Qb;if(this._point){var Ic=
this._x2-Xc,Dc=this._y2-Qb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ic*Ic+Dc*Dc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:va(this,Xc,Qb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Xc;this._y0=this._y1;this._y1=
this._y2;this._y2=Qb}};var tc=function Ic(Qb){function Dc(uc){return Qb?new Ca(uc,Qb):new kb(uc,0)}Dc.alpha=function(uc){return Ic(+uc)};return Dc}(.5);ua.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Qb,Ic){Qb=+Qb;Ic=+Ic;this._point?this._context.lineTo(Qb,Ic):(this._point=1,this._context.moveTo(Qb,Ic))}};ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ba(this,this._t0,W(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Qb,Ic){var Dc=NaN;Qb=+Qb;Ic=+Ic;if(Qb!==this._x1||Ic!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Qb,Ic):this._context.moveTo(Qb,Ic);break;case 1:this._point=2;
break;case 2:this._point=3;ba(this,W(this,Dc=U(this,Qb,Ic)),Dc);break;default:ba(this,this._t0,Dc=U(this,Qb,Ic))}this._x0=this._x1;this._x1=Qb;this._y0=this._y1;this._y1=Ic;this._t0=Dc}}};(ra.prototype=Object.create(ca.prototype)).point=function(Qb,Ic){ca.prototype.point.call(this,Ic,Qb)};qa.prototype={moveTo:function(Qb,Ic){this._context.moveTo(Ic,Qb)},closePath:function(){this._context.closePath()},lineTo:function(Qb,Ic){this._context.lineTo(Ic,Qb)},bezierCurveTo:function(Qb,Ic,Dc,uc,Tc,ad){this._context.bezierCurveTo(Ic,
Qb,uc,Dc,ad,Tc)}};Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Qb=this._x,Ic=this._y,Dc=Qb.length;if(Dc)if(this._line?this._context.lineTo(Qb[0],Ic[0]):this._context.moveTo(Qb[0],Ic[0]),2===Dc)this._context.lineTo(Qb[1],Ic[1]);else for(var uc=na(Qb),Tc=na(Ic),ad=0,ld=1;ld<Dc;++ad,++ld)this._context.bezierCurveTo(uc[0][ad],Tc[0][ad],uc[1][ad],Tc[1][ad],Qb[ld],Ic[ld]);(this._line||0!==this._line&&
1===Dc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Qb,Ic){this._x.push(+Qb);this._y.push(+Ic)}};Ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Qb,Ic){Qb=+Qb;Ic=+Ic;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Qb,Ic):this._context.moveTo(Qb,Ic);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Ic),this._context.lineTo(Qb,Ic);else{var Dc=this._x*(1-this._t)+Qb*this._t;this._context.lineTo(Dc,this._y);this._context.lineTo(Dc,Ic)}}this._x=Qb;this._y=Ic}};k.arc=function(){function Qb(){var Ud,ae=+Ic.apply(this,arguments),oe=+Dc.apply(this,arguments),De=ad.apply(this,arguments)-
jc,fe=ld.apply(this,arguments)-jc,ef=Fb(fe-De),Ze=fe>De;Dd||(Dd=Ud=l.path());if(oe<ae){var df=oe;oe=ae;ae=df}if(1E-12<oe)if(ef>rc-1E-12)Dd.moveTo(oe*nc(De),oe*Hc(De)),Dd.arc(0,0,oe,De,fe,!Ze),1E-12<ae&&(Dd.moveTo(ae*nc(fe),ae*Hc(fe)),Dd.arc(0,0,ae,fe,De,Ze));else{var Zd=De,he=fe;df=De;var zf=fe,Ue=ef,Nf=ef,me=Cd.apply(this,arguments)/2,te=1E-12<me&&(Tc?+Tc.apply(this,arguments):mb(ae*ae+oe*oe)),kf=pc(Fb(oe-ae)/2,+uc.apply(this,arguments)),we=kf,Od=kf;if(1E-12<te){var Xd=H(te/ae*Hc(me));me=H(te/oe*
Hc(me));1E-12<(Ue-=2*Xd)?(Xd*=Ze?1:-1,df+=Xd,zf-=Xd):(Ue=0,df=zf=(De+fe)/2);1E-12<(Nf-=2*me)?(me*=Ze?1:-1,Zd+=me,he-=me):(Nf=0,Zd=he=(De+fe)/2)}De=oe*nc(Zd);fe=oe*Hc(Zd);Xd=ae*nc(zf);me=ae*Hc(zf);if(1E-12<kf){var Be=oe*nc(he),jf=oe*Hc(he),Ge=ae*nc(df),Td=ae*Hc(df);if(ef=ef<hc){var Ye=Ge-De;ef=Td-fe;te=Xd-Be;var Xf=me-jf,Gc=Xf*Ye-te*ef;1E-12>Gc*Gc?Ye=void 0:(Gc=(te*(fe-jf)-Xf*(De-Be))/Gc,Ye=[De+Gc*Ye,fe+Gc*ef]);ef=Ye}ef&&(we=De-Ye[0],Od=fe-Ye[1],ef=Be-Ye[0],te=jf-Ye[1],we=(we*ef+Od*te)/(mb(we*we+Od*
Od)*mb(ef*ef+te*te)),Od=1/Hc((1<we?0:-1>we?hc:Math.acos(we))/2),Ye=mb(Ye[0]*Ye[0]+Ye[1]*Ye[1]),we=pc(kf,(ae-Ye)/(Od-1)),Od=pc(kf,(oe-Ye)/(Od+1)))}1E-12<Nf?1E-12<Od?(Zd=g(Ge,Td,De,fe,oe,Od,Ze),he=g(Be,jf,Xd,me,oe,Od,Ze),Dd.moveTo(Zd.cx+Zd.x01,Zd.cy+Zd.y01),Od<kf?Dd.arc(Zd.cx,Zd.cy,Od,Xb(Zd.y01,Zd.x01),Xb(he.y01,he.x01),!Ze):(Dd.arc(Zd.cx,Zd.cy,Od,Xb(Zd.y01,Zd.x01),Xb(Zd.y11,Zd.x11),!Ze),Dd.arc(0,0,oe,Xb(Zd.cy+Zd.y11,Zd.cx+Zd.x11),Xb(he.cy+he.y11,he.cx+he.x11),!Ze),Dd.arc(he.cx,he.cy,Od,Xb(he.y11,he.x11),
Xb(he.y01,he.x01),!Ze))):(Dd.moveTo(De,fe),Dd.arc(0,0,oe,Zd,he,!Ze)):Dd.moveTo(De,fe);1E-12<ae&&1E-12<Ue?1E-12<we?(Zd=g(Xd,me,Be,jf,ae,-we,Ze),he=g(De,fe,Ge,Td,ae,-we,Ze),Dd.lineTo(Zd.cx+Zd.x01,Zd.cy+Zd.y01),we<kf?Dd.arc(Zd.cx,Zd.cy,we,Xb(Zd.y01,Zd.x01),Xb(he.y01,he.x01),!Ze):(Dd.arc(Zd.cx,Zd.cy,we,Xb(Zd.y01,Zd.x01),Xb(Zd.y11,Zd.x11),!Ze),Dd.arc(0,0,ae,Xb(Zd.cy+Zd.y11,Zd.cx+Zd.x11),Xb(he.cy+he.y11,he.cx+he.x11),Ze),Dd.arc(he.cx,he.cy,we,Xb(he.y11,he.x11),Xb(he.y01,he.x01),!Ze))):Dd.arc(0,0,ae,zf,
df,Ze):Dd.lineTo(Xd,me)}else Dd.moveTo(0,0);Dd.closePath();if(Ud)return Dd=null,Ud+""||null}var Ic=N,Dc=x,uc=w(0),Tc=null,ad=v,ld=u,Cd=m,Dd=null;Qb.centroid=function(){var Ud=(+Ic.apply(this,arguments)+ +Dc.apply(this,arguments))/2,ae=(+ad.apply(this,arguments)+ +ld.apply(this,arguments))/2-hc/2;return[nc(ae)*Ud,Hc(ae)*Ud]};Qb.innerRadius=function(Ud){return arguments.length?(Ic="function"===typeof Ud?Ud:w(+Ud),Qb):Ic};Qb.outerRadius=function(Ud){return arguments.length?(Dc="function"===typeof Ud?
Ud:w(+Ud),Qb):Dc};Qb.cornerRadius=function(Ud){return arguments.length?(uc="function"===typeof Ud?Ud:w(+Ud),Qb):uc};Qb.padRadius=function(Ud){return arguments.length?(Tc=null==Ud?null:"function"===typeof Ud?Ud:w(+Ud),Qb):Tc};Qb.startAngle=function(Ud){return arguments.length?(ad="function"===typeof Ud?Ud:w(+Ud),Qb):ad};Qb.endAngle=function(Ud){return arguments.length?(ld="function"===typeof Ud?Ud:w(+Ud),Qb):ld};Qb.padAngle=function(Ud){return arguments.length?(Cd="function"===typeof Ud?Ud:w(+Ud),
Qb):Cd};Qb.context=function(Ud){return arguments.length?(Dd=null==Ud?null:Ud,Qb):Dd};return Qb};k.area=B;k.areaRadial=K;k.curveBasis=function(Qb){return new V(Qb)};k.curveBasisClosed=function(Qb){return new ha(Qb)};k.curveBasisOpen=function(Qb){return new aa(Qb)};k.curveBundle=eb;k.curveCardinal=wb;k.curveCardinalClosed=Hb;k.curveCardinalOpen=ac;k.curveCatmullRom=Lb;k.curveCatmullRomClosed=Ac;k.curveCatmullRomOpen=tc;k.curveLinear=a;k.curveLinearClosed=function(Qb){return new ua(Qb)};k.curveMonotoneX=
function(Qb){return new ca(Qb)};k.curveMonotoneY=function(Qb){return new ra(Qb)};k.curveNatural=function(Qb){return new Da(Qb)};k.curveStep=function(Qb){return new Ra(Qb,.5)};k.curveStepAfter=function(Qb){return new Ra(Qb,1)};k.curveStepBefore=function(Qb){return new Ra(Qb,0)};k.line=y;k.lineRadial=G;k.linkHorizontal=function(){return fa(ia)};k.linkRadial=function(){var Qb=fa(Z);Qb.angle=Qb.x;delete Qb.x;Qb.radius=Qb.y;delete Qb.y;return Qb};k.linkVertical=function(){return fa(la)};k.pie=function(){function Qb(Cd){var Dd,
Ud=(Cd=d(Cd)).length;var ae=0;var oe=Array(Ud),De=Array(Ud),fe=+Tc.apply(this,arguments);var ef=Math.min(rc,Math.max(-rc,ad.apply(this,arguments)-fe));var Ze=Math.min(Math.abs(ef)/Ud,ld.apply(this,arguments)),df=Ze*(0>ef?-1:1),Zd;for(Dd=0;Dd<Ud;++Dd)0<(Zd=De[oe[Dd]=Dd]=+Ic(Cd[Dd],Dd,Cd))&&(ae+=Zd);null!=Dc?oe.sort(function(zf,Ue){return Dc(De[zf],De[Ue])}):null!=uc&&oe.sort(function(zf,Ue){return uc(Cd[zf],Cd[Ue])});Dd=0;for(ef=ae?(ef-Ud*df)/ae:0;Dd<Ud;++Dd,fe=he){ae=oe[Dd];Zd=De[ae];var he=fe+(0<
Zd?Zd*ef:0)+df;De[ae]={data:Cd[ae],index:Dd,value:Zd,startAngle:fe,endAngle:he,padAngle:Ze}}return De}var Ic=O,Dc=D,uc=null,Tc=w(0),ad=w(rc),ld=w(0);Qb.value=function(Cd){return arguments.length?(Ic="function"===typeof Cd?Cd:w(+Cd),Qb):Ic};Qb.sortValues=function(Cd){return arguments.length?(Dc=Cd,uc=null,Qb):Dc};Qb.sort=function(Cd){return arguments.length?(uc=Cd,Dc=null,Qb):uc};Qb.startAngle=function(Cd){return arguments.length?(Tc="function"===typeof Cd?Cd:w(+Cd),Qb):Tc};Qb.endAngle=function(Cd){return arguments.length?
(ad="function"===typeof Cd?Cd:w(+Cd),Qb):ad};Qb.padAngle=function(Cd){return arguments.length?(ld="function"===typeof Cd?Cd:w(+Cd),Qb):ld};return Qb};k.pointRadial=R;k.radialArea=K;k.radialLine=G;k.stack=function(){function Qb(ad){var ld=Array.from(Ic.apply(this,arguments),Ga),Cd=ld.length,Dd=-1;for(const ae of ad){var Ud=0;for(++Dd;Ud<Cd;++Ud)(ld[Ud][Dd]=[0,+Tc(ae,ld[Ud].key,Dd,ad)]).data=ae}Ud=0;for(Dd=d(Dc(ld));Ud<Cd;++Ud)ld[Dd[Ud]].index=Ud;uc(ld,Dd);return ld}var Ic=w([]),Dc=$a,uc=db,Tc=Fa;Qb.keys=
function(ad){return arguments.length?(Ic="function"===typeof ad?ad:w(Array.from(ad)),Qb):Ic};Qb.value=function(ad){return arguments.length?(Tc="function"===typeof ad?ad:w(+ad),Qb):Tc};Qb.order=function(ad){return arguments.length?(Dc=null==ad?$a:"function"===typeof ad?ad:w(Array.from(ad)),Qb):Dc};Qb.offset=function(ad){return arguments.length?(uc=null==ad?db:ad,Qb):uc};return Qb};k.stackOffsetDiverging=function(Qb,Ic){if(0<(Dd=Qb.length))for(var Dc,uc=0,Tc,ad,ld,Cd,Dd,Ud=Qb[Ic[0]].length;uc<Ud;++uc)for(Dc=
ld=Cd=0;Dc<Dd;++Dc)0<(ad=(Tc=Qb[Ic[Dc]][uc])[1]-Tc[0])?(Tc[0]=ld,Tc[1]=ld+=ad):0>ad?(Tc[1]=Cd,Tc[0]=Cd+=ad):(Tc[0]=0,Tc[1]=ad)};k.stackOffsetExpand=function(Qb,Ic){if(0<(uc=Qb.length)){for(var Dc,uc,Tc=0,ad=Qb[0].length,ld;Tc<ad;++Tc){for(ld=Dc=0;Dc<uc;++Dc)ld+=Qb[Dc][Tc][1]||0;if(ld)for(Dc=0;Dc<uc;++Dc)Qb[Dc][Tc][1]/=ld}db(Qb,Ic)}};k.stackOffsetNone=db;k.stackOffsetSilhouette=function(Qb,Ic){if(0<(Tc=Qb.length)){for(var Dc=0,uc=Qb[Ic[0]],Tc,ad=uc.length;Dc<ad;++Dc){for(var ld=0,Cd=0;ld<Tc;++ld)Cd+=
Qb[ld][Dc][1]||0;uc[Dc][1]+=uc[Dc][0]=-Cd/2}db(Qb,Ic)}};k.stackOffsetWiggle=function(Qb,Ic){if(0<(ld=Qb.length)&&0<(ad=(Tc=Qb[Ic[0]]).length)){for(var Dc=0,uc=1,Tc,ad,ld;uc<ad;++uc){for(var Cd=0,Dd=0,Ud=0;Cd<ld;++Cd){var ae=Qb[Ic[Cd]],oe=ae[uc][1]||0;ae=(oe-(ae[uc-1][1]||0))/2;for(var De=0;De<Cd;++De){var fe=Qb[Ic[De]];ae+=(fe[uc][1]||0)-(fe[uc-1][1]||0)}Dd+=oe;Ud+=ae*oe}Tc[uc-1][1]+=Tc[uc-1][0]=Dc;Dd&&(Dc-=Ud/Dd)}Tc[uc-1][1]+=Tc[uc-1][0]=Dc;db(Qb,Ic)}};k.stackOrderAppearance=pa;k.stackOrderAscending=
Ua;k.stackOrderDescending=function(Qb){return Ua(Qb).reverse()};k.stackOrderInsideOut=function(Qb){var Ic=Qb.length,Dc=Qb.map(jb),uc=pa(Qb),Tc=0,ad=0,ld=[],Cd=[];for(Qb=0;Qb<Ic;++Qb){var Dd=uc[Qb];Tc<ad?(Tc+=Dc[Dd],ld.push(Dd)):(ad+=Dc[Dd],Cd.push(Dd))}return Cd.reverse().concat(ld)};k.stackOrderNone=$a;k.stackOrderReverse=function(Qb){return $a(Qb).reverse()};k.symbol=function(Qb,Ic){function Dc(){var Tc;uc||(uc=Tc=l.path());Qb.apply(this,arguments).draw(uc,+Ic.apply(this,arguments));if(Tc)return uc=
null,Tc+""||null}var uc=null;Qb="function"===typeof Qb?Qb:w(Qb||Uc);Ic="function"===typeof Ic?Ic:w(void 0===Ic?64:+Ic);Dc.type=function(Tc){return arguments.length?(Qb="function"===typeof Tc?Tc:w(Tc),Dc):Qb};Dc.size=function(Tc){return arguments.length?(Ic="function"===typeof Tc?Tc:w(+Tc),Dc):Ic};Dc.context=function(Tc){return arguments.length?(uc=null==Tc?null:Tc,Dc):uc};return Dc};k.symbolCircle=Uc;k.symbolCross=Sc;k.symbolDiamond=ge;k.symbolSquare=Pb;k.symbolStar=wd;k.symbolTriangle=Eb;k.symbolWye=
Vd;k.symbols=Ka;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ia,A,rb,E){!function(k,l){"object"==typeof E&&"undefined"!=typeof rb?l(E):"function"==typeof define&&define.amd?define(["exports"],l):l((k="undefined"!=typeof globalThis?globalThis:k||self).vega={})}(this,function(k){function l(w,H){if("undefined"!=typeof document&&document.createElement){const N=document.createElement("canvas");if(N&&N.getContext)return N.width=w,N.height=H,N}return null}k.canvas=l;k.domCanvas=l;k.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[32]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(ca,ra,qa){ca.prototype=ra.prototype=qa;qa.constructor=ca}function w(ca,ra){ca=Object.create(ca.prototype);for(var qa in ra)ca[qa]=ra[qa];return ca}function H(){}function N(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function v(ca){var ra,qa;ca=(ca+
"").trim().toLowerCase();return(ra=ha.exec(ca))?(qa=ra[1].length,ra=parseInt(ra[1],16),6===qa?u(ra):3===qa?new f(ra>>8&15|ra>>4&240,ra>>4&15|ra&240,(ra&15)<<4|ra&15,1):8===qa?m(ra>>24&255,ra>>16&255,ra>>8&255,(ra&255)/255):4===qa?m(ra>>12&15|ra>>8&240,ra>>8&15|ra>>4&240,ra>>4&15|ra&240,((ra&15)<<4|ra&15)/255):null):(ra=aa.exec(ca))?new f(ra[1],ra[2],ra[3],1):(ra=ta.exec(ca))?new f(255*ra[1]/100,255*ra[2]/100,255*ra[3]/100,1):(ra=wa.exec(ca))?m(ra[1],ra[2],ra[3],ra[4]):(ra=Ha.exec(ca))?m(255*ra[1]/
100,255*ra[2]/100,255*ra[3]/100,ra[4]):(ra=bb.exec(ca))?y(ra[1],ra[2]/100,ra[3]/100,1):(ra=kb.exec(ca))?y(ra[1],ra[2]/100,ra[3]/100,ra[4]):va.hasOwnProperty(ca)?u(va[ca]):"transparent"===ca?new f(NaN,NaN,NaN,0):null}function u(ca){return new f(ca>>16&255,ca>>8&255,ca&255,1)}function m(ca,ra,qa,Da){0>=Da&&(ca=ra=qa=NaN);return new f(ca,ra,qa,Da)}function g(ca){ca instanceof H||(ca=v(ca));if(!ca)return new f;ca=ca.rgb();return new f(ca.r,ca.g,ca.b,ca.opacity)}function d(ca,ra,qa,Da){return 1===arguments.length?
g(ca):new f(ca,ra,qa,null==Da?1:Da)}function f(ca,ra,qa,Da){this.r=+ca;this.g=+ra;this.b=+qa;this.opacity=+Da}function a(){return"#"+n(this.r)+n(this.g)+n(this.b)}function e(){var ca=this.opacity;ca=isNaN(ca)?1:Math.max(0,Math.min(1,ca));return(1===ca?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===ca?")":", "+ca+")")}function n(ca){ca=Math.max(0,Math.min(255,Math.round(ca)||
0));return(16>ca?"0":"")+ca.toString(16)}function y(ca,ra,qa,Da){0>=Da?ca=ra=qa=NaN:0>=qa||1<=qa?ca=ra=NaN:0>=ra&&(ca=NaN);return new O(ca,ra,qa,Da)}function B(ca){if(ca instanceof O)return new O(ca.h,ca.s,ca.l,ca.opacity);ca instanceof H||(ca=v(ca));if(!ca)return new O;if(ca instanceof O)return ca;ca=ca.rgb();var ra=ca.r/255,qa=ca.g/255,Da=ca.b/255,na=Math.min(ra,qa,Da),Ra=Math.max(ra,qa,Da),db=NaN,$a=Ra-na,Fa=(Ra+na)/2;$a?(db=ra===Ra?(qa-Da)/$a+6*(qa<Da):qa===Ra?(Da-ra)/$a+2:(ra-qa)/$a+4,$a/=.5>
Fa?Ra+na:2-Ra-na,db*=60):$a=0<Fa&&1>Fa?0:db;return new O(db,$a,Fa,ca.opacity)}function D(ca,ra,qa,Da){return 1===arguments.length?B(ca):new O(ca,ra,qa,null==Da?1:Da)}function O(ca,ra,qa,Da){this.h=+ca;this.s=+ra;this.l=+qa;this.opacity=+Da}function M(ca,ra,qa){return 255*(60>ca?ra+(qa-ra)*ca/60:180>ca?qa:240>ca?ra+(qa-ra)*(240-ca)/60:ra)}function F(ca){if(ca instanceof G)return new G(ca.l,ca.a,ca.b,ca.opacity);if(ca instanceof la)return Z(ca);ca instanceof f||(ca=g(ca));var ra=ja(ca.r),qa=ja(ca.g),
Da=ja(ca.b),na=K(.2225045*ra+.7168786*qa+.0606169*Da);if(ra===qa&&qa===Da)var Ra=ra=na;else Ra=K((.4360747*ra+.3850649*qa+.1430804*Da)/.96422),ra=K((.0139322*ra+.0971045*qa+.7141733*Da)/.82521);return new G(116*na-16,500*(Ra-na),200*(na-ra),ca.opacity)}function z(ca,ra,qa,Da){return 1===arguments.length?F(ca):new G(ca,ra,qa,null==Da?1:Da)}function G(ca,ra,qa,Da){this.l=+ca;this.a=+ra;this.b=+qa;this.opacity=+Da}function K(ca){return ca>W?Math.pow(ca,1/3):ca/U+Ca}function R(ca){return ca>ua?ca*ca*
ca:U*(ca-Ca)}function T(ca){return 255*(.0031308>=ca?12.92*ca:1.055*Math.pow(ca,1/2.4)-.055)}function ja(ca){return.04045>=(ca/=255)?ca/12.92:Math.pow((ca+.055)/1.055,2.4)}function fa(ca){if(ca instanceof la)return new la(ca.h,ca.c,ca.l,ca.opacity);ca instanceof G||(ca=F(ca));if(0===ca.a&&0===ca.b)return new la(NaN,0<ca.l&&100>ca.l?0:NaN,ca.l,ca.opacity);var ra=Math.atan2(ca.b,ca.a)*Ya;return new la(0>ra?ra+360:ra,Math.sqrt(ca.a*ca.a+ca.b*ca.b),ca.l,ca.opacity)}function ia(ca,ra,qa,Da){return 1===
arguments.length?fa(ca):new la(ca,ra,qa,null==Da?1:Da)}function la(ca,ra,qa,Da){this.h=+ca;this.c=+ra;this.l=+qa;this.opacity=+Da}function Z(ca){if(isNaN(ca.h))return new G(ca.l,0,0,ca.opacity);var ra=ca.h*Ta;return new G(ca.l,Math.cos(ra)*ca.c,Math.sin(ra)*ca.c,ca.opacity)}function P(ca,ra,qa,Da){if(1===arguments.length){var na=ca;if(na instanceof C)na=new C(na.h,na.s,na.l,na.opacity);else{na instanceof f||(na=g(na));var Ra=na.g/255,db=na.b/255,$a=(ba*db+na.r/255*-1.7884503806-3.5172982438*Ra)/(ba+
-1.7884503806-3.5172982438);db-=$a;var Fa=(1.97294*(Ra-$a)- -.29227*db)/-.90649;db=(Ra=Math.sqrt(Fa*Fa+db*db)/(1.97294*$a*(1-$a)))?Math.atan2(Fa,db)*Ya-120:NaN;na=new C(0>db?db+360:db,Ra,$a,na.opacity)}}else na=new C(ca,ra,qa,null==Da?1:Da);return na}function C(ca,ra,qa,Da){this.h=+ca;this.s=+ra;this.l=+qa;this.opacity=+Da}var V=1/.7,ha=/^#([0-9a-f]{3,8})$/,aa=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,ta=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
wa=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ha=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,bb=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,kb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l(H,v,{copy:function(ca){return Object.assign(new this.constructor,this,ca)},displayable:function(){return this.rgb().displayable()},hex:N,formatHex:N,formatHsl:function(){return B(this).formatHsl()},formatRgb:x,toString:x});l(f,d,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new f(this.r*ca,this.g*ca,this.b*ca,this.opacity)},darker:function(ca){ca=null==ca?.7:
Math.pow(.7,ca);return new f(this.r*ca,this.g*ca,this.b*ca,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:a,formatHex:a,formatRgb:e,toString:e}));l(O,D,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new O(this.h,this.s,this.l*ca,this.opacity)},darker:function(ca){ca=null==ca?.7:Math.pow(.7,ca);return new O(this.h,this.s,this.l*ca,this.opacity)},
rgb:function(){var ca=this.h%360+360*(0>this.h),ra=isNaN(ca)||isNaN(this.s)?0:this.s,qa=this.l;ra=qa+(.5>qa?qa:1-qa)*ra;qa=2*qa-ra;return new f(M(240<=ca?ca-240:ca+120,qa,ra),M(ca,qa,ra),M(120>ca?ca+240:ca-120,qa,ra),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var ca=this.opacity;ca=isNaN(ca)?1:Math.max(0,Math.min(1,ca));return(1===ca?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+
"%, "+100*(this.l||0)+"%"+(1===ca?")":", "+ca+")")}}));const Ta=Math.PI/180,Ya=180/Math.PI,Ca=4/29,ua=6/29,U=3*ua*ua,W=ua*ua*ua;l(G,z,w(H,{brighter:function(ca){return new G(this.l+18*(null==ca?1:ca),this.a,this.b,this.opacity)},darker:function(ca){return new G(this.l-18*(null==ca?1:ca),this.a,this.b,this.opacity)},rgb:function(){var ca=(this.l+16)/116,ra=isNaN(this.a)?ca:ca+this.a/500,qa=isNaN(this.b)?ca:ca-this.b/200;ra=.96422*R(ra);ca=1*R(ca);qa=.82521*R(qa);return new f(T(3.1338561*ra-1.6168667*
ca-.4906146*qa),T(-.9787684*ra+1.9161415*ca+.033454*qa),T(.0719453*ra-.2289914*ca+1.4052427*qa),this.opacity)}}));l(la,ia,w(H,{brighter:function(ca){return new la(this.h,this.c,this.l+18*(null==ca?1:ca),this.opacity)},darker:function(ca){return new la(this.h,this.c,this.l-18*(null==ca?1:ca),this.opacity)},rgb:function(){return Z(this).rgb()}}));var ba=1.78277*-.29227-.1347134789;l(C,P,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new C(this.h,this.s,this.l*ca,this.opacity)},darker:function(ca){ca=
null==ca?.7:Math.pow(.7,ca);return new C(this.h,this.s,this.l*ca,this.opacity)},rgb:function(){var ca=isNaN(this.h)?0:(this.h+120)*Ta,ra=+this.l,qa=isNaN(this.s)?0:this.s*ra*(1-ra),Da=Math.cos(ca);ca=Math.sin(ca);return new f(255*(ra+qa*(-.14861*Da+1.78277*ca)),255*(ra+qa*(-.29227*Da+-.90649*ca)),255*(ra+1.97294*qa*Da),this.opacity)}}));k.color=v;k.cubehelix=P;k.gray=function(ca,ra){return new G(ca,0,0,null==ra?1:ra)};k.hcl=ia;k.hsl=D;k.lab=z;k.lch=function(ca,ra,qa,Da){return 1===arguments.length?
fa(ca):new la(qa,ra,ca,null==Da?1:Da)};k.rgb=d;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(32)):"function"===typeof define&&define.amd?define(["exports","d3-color"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(ua,U,W,ba,ca){var ra=ua*ua,qa=ra*ua;return((1-3*ua+3*ra-qa)*U+(4-6*ra+3*qa)*W+(1+3*ua+3*ra-3*qa)*ba+qa*ca)/6}function H(ua){var U=ua.length-1;return function(W){var ba=0>=W?W=0:1<=W?(W=1,U-1):Math.floor(W*U),ca=ua[ba],ra=ua[ba+1];return w((W-ba/U)*U,0<ba?
ua[ba-1]:2*ca-ra,ca,ra,ba<U-1?ua[ba+2]:2*ra-ca)}}function N(ua){var U=ua.length;return function(W){var ba=Math.floor((0>(W%=1)?++W:W)*U);return w((W-ba/U)*U,ua[(ba+U-1)%U],ua[ba%U],ua[(ba+1)%U],ua[(ba+2)%U])}}function x(ua,U){return function(W){return ua+W*U}}function v(ua,U,W){return ua=Math.pow(ua,W),U=Math.pow(U,W)-ua,W=1/W,function(ba){return Math.pow(ua+ba*U,W)}}function u(ua,U){var W=U-ua;return W?x(ua,180<W||-180>W?W-360*Math.round(W/360):W):fa(isNaN(ua)?U:ua)}function m(ua){return 1===(ua=
+ua)?g:function(U,W){return W-U?v(U,W,ua):fa(isNaN(U)?W:U)}}function g(ua,U){var W=U-ua;return W?x(ua,W):fa(isNaN(ua)?U:ua)}function d(ua){return function(U){var W=U.length,ba=Array(W),ca=Array(W),ra=Array(W),qa;for(qa=0;qa<W;++qa){var Da=l.rgb(U[qa]);ba[qa]=Da.r||0;ca[qa]=Da.g||0;ra[qa]=Da.b||0}ba=ua(ba);ca=ua(ca);ra=ua(ra);Da.opacity=1;return function(na){Da.r=ba(na);Da.g=ca(na);Da.b=ra(na);return Da+""}}}function f(ua,U){U||(U=[]);var W=ua?Math.min(U.length,ua.length):0,ba=U.slice(),ca;return function(ra){for(ca=
0;ca<W;++ca)ba[ca]=ua[ca]*(1-ra)+U[ca]*ra;return ba}}function a(ua){return ArrayBuffer.isView(ua)&&!(ua instanceof DataView)}function e(ua,U){var W=U?U.length:0,ba=ua?Math.min(W,ua.length):0,ca=Array(ba),ra=Array(W),qa;for(qa=0;qa<ba;++qa)ca[qa]=F(ua[qa],U[qa]);for(;qa<W;++qa)ra[qa]=U[qa];return function(Da){for(qa=0;qa<ba;++qa)ra[qa]=ca[qa](Da);return ra}}function n(ua,U){var W=new Date;return ua=+ua,U=+U,function(ba){return W.setTime(ua*(1-ba)+U*ba),W}}function y(ua,U){return ua=+ua,U=+U,function(W){return ua*
(1-W)+U*W}}function B(ua,U){var W={},ba={},ca;if(null===ua||"object"!==typeof ua)ua={};if(null===U||"object"!==typeof U)U={};for(ca in U)ca in ua?W[ca]=F(ua[ca],U[ca]):ba[ca]=U[ca];return function(ra){for(ca in W)ba[ca]=W[ca](ra);return ba}}function D(ua){return function(){return ua}}function O(ua){return function(U){return ua(U)+""}}function M(ua,U){var W=P.lastIndex=C.lastIndex=0,ba,ca,ra,qa=-1,Da=[],na=[];ua+="";for(U+="";(ba=P.exec(ua))&&(ca=C.exec(U));)(ra=ca.index)>W&&(ra=U.slice(W,ra),Da[qa]?
Da[qa]+=ra:Da[++qa]=ra),(ba=ba[0])===(ca=ca[0])?Da[qa]?Da[qa]+=ca:Da[++qa]=ca:(Da[++qa]=null,na.push({i:qa,x:y(ba,ca)})),W=C.lastIndex;W<U.length&&(ra=U.slice(W),Da[qa]?Da[qa]+=ra:Da[++qa]=ra);return 2>Da.length?na[0]?O(na[0].x):D(U):(U=na.length,function(Ra){for(var db=0,$a;db<U;++db)Da[($a=na[db]).i]=$a.x(Ra);return Da.join("")})}function F(ua,U){var W=typeof U,ba;return null==U||"boolean"===W?fa(U):("number"===W?y:"string"===W?(ba=l.color(U))?(U=ba,ia):M:U instanceof l.color?ia:U instanceof Date?
n:a(U)?f:Array.isArray(U)?e:"function"!==typeof U.valueOf&&"function"!==typeof U.toString||isNaN(U)?B:y)(ua,U)}function z(ua,U,W,ba,ca,ra){var qa,Da,na;if(qa=Math.sqrt(ua*ua+U*U))ua/=qa,U/=qa;if(na=ua*W+U*ba)W-=ua*na,ba-=U*na;if(Da=Math.sqrt(W*W+ba*ba))W/=Da,ba/=Da,na/=Da;ua*ba<U*W&&(ua=-ua,U=-U,na=-na,qa=-qa);return{translateX:ca,translateY:ra,rotate:Math.atan2(U,ua)*V,skewX:Math.atan(na)*V,scaleX:qa,scaleY:Da}}function G(ua,U,W,ba){function ca(Ra){return Ra.length?Ra.pop()+" ":""}function ra(Ra,
db,$a,Fa,Ga,pa){Ra!==$a||db!==Fa?(Ga=Ga.push("translate(",null,U,null,W),pa.push({i:Ga-4,x:y(Ra,$a)},{i:Ga-2,x:y(db,Fa)})):($a||Fa)&&Ga.push("translate("+$a+U+Fa+W)}function qa(Ra,db,$a,Fa){Ra!==db?(180<Ra-db?db+=360:180<db-Ra&&(Ra+=360),Fa.push({i:$a.push(ca($a)+"rotate(",null,ba)-2,x:y(Ra,db)})):db&&$a.push(ca($a)+"rotate("+db+ba)}function Da(Ra,db,$a,Fa){Ra!==db?Fa.push({i:$a.push(ca($a)+"skewX(",null,ba)-2,x:y(Ra,db)}):db&&$a.push(ca($a)+"skewX("+db+ba)}function na(Ra,db,$a,Fa,Ga,pa){Ra!==$a||
db!==Fa?(Ga=Ga.push(ca(Ga)+"scale(",null,",",null,")"),pa.push({i:Ga-4,x:y(Ra,$a)},{i:Ga-2,x:y(db,Fa)})):1===$a&&1===Fa||Ga.push(ca(Ga)+"scale("+$a+","+Fa+")")}return function(Ra,db){var $a=[],Fa=[];Ra=ua(Ra);db=ua(db);ra(Ra.translateX,Ra.translateY,db.translateX,db.translateY,$a,Fa);qa(Ra.rotate,db.rotate,$a,Fa);Da(Ra.skewX,db.skewX,$a,Fa);na(Ra.scaleX,Ra.scaleY,db.scaleX,db.scaleY,$a,Fa);Ra=db=null;return function(Ga){for(var pa=-1,Ja=Fa.length,Ua;++pa<Ja;)$a[(Ua=Fa[pa]).i]=Ua.x(Ga);return $a.join("")}}}
function K(ua){return((ua=Math.exp(ua))+1/ua)/2}function R(ua){return function(U,W){var ba=ua((U=l.hsl(U)).h,(W=l.hsl(W)).h),ca=g(U.s,W.s),ra=g(U.l,W.l),qa=g(U.opacity,W.opacity);return function(Da){U.h=ba(Da);U.s=ca(Da);U.l=ra(Da);U.opacity=qa(Da);return U+""}}}function T(ua){return function(U,W){var ba=ua((U=l.hcl(U)).h,(W=l.hcl(W)).h),ca=g(U.c,W.c),ra=g(U.l,W.l),qa=g(U.opacity,W.opacity);return function(Da){U.h=ba(Da);U.c=ca(Da);U.l=ra(Da);U.opacity=qa(Da);return U+""}}}function ja(ua){return function ba(W){function ca(ra,
qa){var Da=ua((ra=l.cubehelix(ra)).h,(qa=l.cubehelix(qa)).h),na=g(ra.s,qa.s),Ra=g(ra.l,qa.l),db=g(ra.opacity,qa.opacity);return function($a){ra.h=Da($a);ra.s=na($a);ra.l=Ra(Math.pow($a,W));ra.opacity=db($a);return ra+""}}W=+W;ca.gamma=ba;return ca}(1)}var fa=ua=>()=>ua,ia=function W(U){function ba(ra,qa){var Da=ca((ra=l.rgb(ra)).r,(qa=l.rgb(qa)).r),na=ca(ra.g,qa.g),Ra=ca(ra.b,qa.b),db=g(ra.opacity,qa.opacity);return function($a){ra.r=Da($a);ra.g=na($a);ra.b=Ra($a);ra.opacity=db($a);return ra+""}}
var ca=m(U);ba.gamma=W;return ba}(1),la=d(H),Z=d(N),P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C=new RegExp(P.source,"g"),V=180/Math.PI,ha={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},aa,ta=G(function(U){U=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(U+"");return U.isIdentity?ha:z(U.a,U.b,U.c,U.d,U.e,U.f)},"px, ","px)","deg)"),wa=G(function(U){if(null==U)return ha;aa||(aa=document.createElementNS("http://www.w3.org/2000/svg","g"));aa.setAttribute("transform",
U);if(!(U=aa.transform.baseVal.consolidate()))return ha;U=U.matrix;return z(U.a,U.b,U.c,U.d,U.e,U.f)},", ",")",")"),Ha=function ra(W,ba,ca){function qa(Da,na){var Ra=Da[0],db=Da[1],$a=Da[2];Da=na[2];var Fa=na[0]-Ra,Ga=na[1]-db,pa=Fa*Fa+Ga*Ga;if(1E-12>pa){var Ja=Math.log(Da/$a)/W;Da=function(Fb){return[Ra+Fb*Fa,db+Fb*Ga,$a*Math.exp(W*Fb*Ja)]}}else{var Ua=Math.sqrt(pa);na=(Da*Da-$a*$a+ca*pa)/(2*$a*ba*Ua);Da=(Da*Da-$a*$a-ca*pa)/(2*Da*ba*Ua);var jb=Math.log(Math.sqrt(na*na+1)-na);Ja=(Math.log(Math.sqrt(Da*
Da+1)-Da)-jb)/W;Da=function(Fb){Fb*=Ja;var Xb=K(jb),nc=W*Fb+jb;var md=((nc=Math.exp(2*nc))-1)/(nc+1);var pc=jb;nc=((pc=Math.exp(pc))-1/pc)/2;md=$a/(ba*Ua)*(Xb*md-nc);return[Ra+md*Fa,db+md*Ga,$a*Xb/K(W*Fb+jb)]}}Da.duration=1E3*Ja*W/Math.SQRT2;return Da}qa.rho=function(Da){Da=Math.max(.001,+Da);var na=Da*Da;return ra(Da,na,na*na)};return qa}(Math.SQRT2,2,4),bb=R(u),kb=R(g),va=T(u),Ta=T(g),Ya=ja(u),Ca=ja(g);k.interpolate=F;k.interpolateArray=function(W,ba){return(a(ba)?f:e)(W,ba)};k.interpolateBasis=
H;k.interpolateBasisClosed=N;k.interpolateCubehelix=Ya;k.interpolateCubehelixLong=Ca;k.interpolateDate=n;k.interpolateDiscrete=function(W){var ba=W.length;return function(ca){return W[Math.max(0,Math.min(ba-1,Math.floor(ca*ba)))]}};k.interpolateHcl=va;k.interpolateHclLong=Ta;k.interpolateHsl=bb;k.interpolateHslLong=kb;k.interpolateHue=function(W,ba){var ca=u(+W,+ba);return function(ra){ra=ca(ra);return ra-360*Math.floor(ra/360)}};k.interpolateLab=function(W,ba){var ca=g((W=l.lab(W)).l,(ba=l.lab(ba)).l),
ra=g(W.a,ba.a),qa=g(W.b,ba.b),Da=g(W.opacity,ba.opacity);return function(na){W.l=ca(na);W.a=ra(na);W.b=qa(na);W.opacity=Da(na);return W+""}};k.interpolateNumber=y;k.interpolateNumberArray=f;k.interpolateObject=B;k.interpolateRgb=ia;k.interpolateRgbBasis=la;k.interpolateRgbBasisClosed=Z;k.interpolateRound=function(W,ba){return W=+W,ba=+ba,function(ca){return Math.round(W*(1-ca)+ba*ca)}};k.interpolateString=M;k.interpolateTransformCss=ta;k.interpolateTransformSvg=wa;k.interpolateZoom=Ha;k.piecewise=
function(W,ba){void 0===ba&&(ba=W,W=F);for(var ca=0,ra=ba.length-1,qa=ba[0],Da=Array(0>ra?0:ra);ca<ra;)Da[ca]=W(qa,qa=ba[++ca]);return function(na){var Ra=Math.max(0,Math.min(ra-1,Math.floor(na*=ra)));return Da[Ra](na-Ra)}};k.quantize=function(W,ba){for(var ca=Array(ba),ra=0;ra<ba;++ra)ca[ra]=W(ra/(ba-1));return ca};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[34]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(33),A(16),A(17),A(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),l):(k=k||self,l(k.d3=k.d3||{},k.d3,k.d3,k.d3,k.d3,k.d3))})(this,function(k,l,w,H,N,x){function v(mb,hc){switch(arguments.length){case 0:break;case 1:this.range(mb);break;default:this.range(hc).domain(mb)}return this}function u(mb,hc){switch(arguments.length){case 0:break;
case 1:"function"===typeof mb?this.interpolator(mb):this.range(mb);break;default:this.domain(mb),"function"===typeof hc?this.interpolator(hc):this.range(hc)}return this}function m(){function mb(sc){var Uc=sc+"",Sc=hc.get(Uc);if(!Sc){if(Pc!==Xb)return Pc;hc.set(Uc,Sc=jc.push(sc))}return rc[(Sc-1)%rc.length]}var hc=new Map,jc=[],rc=[],Pc=Xb;mb.domain=function(sc){if(!arguments.length)return jc.slice();jc=[];hc=new Map;for(const Uc of sc){const Sc=Uc+"";hc.has(Sc)||hc.set(Sc,jc.push(Uc))}return mb};
mb.range=function(sc){return arguments.length?(rc=Array.from(sc),mb):rc.slice()};mb.unknown=function(sc){return arguments.length?(Pc=sc,mb):Pc};mb.copy=function(){return m(jc,rc).unknown(Pc)};v.apply(mb,arguments);return mb}function g(){function mb(){var vd=jc().length,Wd=sc<Pc,Pb=Wd?sc:Pc,gc=Wd?Pc:sc;Uc=(gc-Pb)/Math.max(1,vd-Fd+2*ge);Lc&&(Uc=Math.floor(Uc));Pb+=(gc-Pb-Uc*(vd-Fd))*wd;Sc=Uc*(1-Fd);Lc&&(Pb=Math.round(Pb),Sc=Math.round(Sc));vd=l.range(vd).map(function(Eb){return Pb+Uc*Eb});return rc(Wd?
vd.reverse():vd)}var hc=m().unknown(void 0),jc=hc.domain,rc=hc.range,Pc=0,sc=1,Uc,Sc,Lc=!1,Fd=0,ge=0,wd=.5;delete hc.unknown;hc.domain=function(vd){return arguments.length?(jc(vd),mb()):jc()};hc.range=function(vd){return arguments.length?([Pc,sc]=vd,Pc=+Pc,sc=+sc,mb()):[Pc,sc]};hc.rangeRound=function(vd){return[Pc,sc]=vd,Pc=+Pc,sc=+sc,Lc=!0,mb()};hc.bandwidth=function(){return Sc};hc.step=function(){return Uc};hc.round=function(vd){return arguments.length?(Lc=!!vd,mb()):Lc};hc.padding=function(vd){return arguments.length?
(Fd=Math.min(1,ge=+vd),mb()):Fd};hc.paddingInner=function(vd){return arguments.length?(Fd=Math.min(1,vd),mb()):Fd};hc.paddingOuter=function(vd){return arguments.length?(ge=+vd,mb()):ge};hc.align=function(vd){return arguments.length?(wd=Math.max(0,Math.min(1,vd)),mb()):wd};hc.copy=function(){return g(jc(),[Pc,sc]).round(Lc).paddingInner(Fd).paddingOuter(ge).align(wd)};return v.apply(mb(),arguments)}function d(mb){var hc=mb.copy;mb.padding=mb.paddingOuter;delete mb.paddingInner;delete mb.paddingOuter;
mb.copy=function(){return d(hc())};return mb}function f(mb){return function(){return mb}}function a(mb){return+mb}function e(mb){return mb}function n(mb,hc){return(hc-=mb=+mb)?function(jc){return(jc-mb)/hc}:f(isNaN(hc)?NaN:.5)}function y(mb,hc){if(mb>hc){var jc=mb;mb=hc;hc=jc}return function(rc){return Math.max(mb,Math.min(hc,rc))}}function B(mb,hc,jc){var rc=mb[0];mb=mb[1];var Pc=hc[0];hc=hc[1];mb<rc?(rc=n(mb,rc),Pc=jc(hc,Pc)):(rc=n(rc,mb),Pc=jc(Pc,hc));return function(sc){return Pc(rc(sc))}}function D(mb,
hc,jc){var rc=Math.min(mb.length,hc.length)-1,Pc=Array(rc),sc=Array(rc),Uc=-1;mb[rc]<mb[0]&&(mb=mb.slice().reverse(),hc=hc.slice().reverse());for(;++Uc<rc;)Pc[Uc]=n(mb[Uc],mb[Uc+1]),sc[Uc]=jc(hc[Uc],hc[Uc+1]);return function(Sc){var Lc=l.bisect(mb,Sc,1,rc)-1;return sc[Lc](Pc[Lc](Sc))}}function O(mb,hc){return hc.domain(mb.domain()).range(mb.range()).interpolate(mb.interpolate()).clamp(mb.clamp()).unknown(mb.unknown())}function M(){function mb(){var vd=Math.min(jc.length,rc.length);Lc!==e&&(Lc=y(jc[0],
jc[vd-1]));Fd=2<vd?D:B;ge=wd=null;return hc}function hc(vd){return isNaN(vd=+vd)?Sc:(ge||(ge=Fd(jc.map(sc),rc,Pc)))(sc(Lc(vd)))}var jc=nc,rc=nc,Pc=w.interpolate,sc,Uc,Sc,Lc=e,Fd,ge,wd;hc.invert=function(vd){return Lc(Uc((wd||(wd=Fd(rc,jc.map(sc),w.interpolateNumber)))(vd)))};hc.domain=function(vd){return arguments.length?(jc=Array.from(vd,a),mb()):jc.slice()};hc.range=function(vd){return arguments.length?(rc=Array.from(vd),mb()):rc.slice()};hc.rangeRound=function(vd){return rc=Array.from(vd),Pc=w.interpolateRound,
mb()};hc.clamp=function(vd){return arguments.length?(Lc=vd?!0:e,mb()):Lc!==e};hc.interpolate=function(vd){return arguments.length?(Pc=vd,mb()):Pc};hc.unknown=function(vd){return arguments.length?(Sc=vd,hc):Sc};return function(vd,Wd){sc=vd;Uc=Wd;return mb()}}function F(mb,hc,jc,rc){jc=l.tickStep(mb,hc,jc);var Pc;rc=H.formatSpecifier(null==rc?",f":rc);switch(rc.type){case "s":return mb=Math.max(Math.abs(mb),Math.abs(hc)),null!=rc.precision||isNaN(Pc=H.precisionPrefix(jc,mb))||(rc.precision=Pc),H.formatPrefix(rc,
mb);case "":case "e":case "g":case "p":case "r":null!=rc.precision||isNaN(Pc=H.precisionRound(jc,Math.max(Math.abs(mb),Math.abs(hc))))||(rc.precision=Pc-("e"===rc.type));break;case "f":case "%":null!=rc.precision||isNaN(Pc=H.precisionFixed(jc))||(rc.precision=Pc-2*("%"===rc.type))}return H.format(rc)}function z(mb){var hc=mb.domain;mb.ticks=function(jc){var rc=hc();return l.ticks(rc[0],rc[rc.length-1],null==jc?10:jc)};mb.tickFormat=function(jc,rc){var Pc=hc();return F(Pc[0],Pc[Pc.length-1],null==
jc?10:jc,rc)};mb.nice=function(jc){null==jc&&(jc=10);var rc=hc(),Pc=0,sc=rc.length-1,Uc=rc[Pc],Sc=rc[sc],Lc=10;if(Sc<Uc){var Fd=Uc;Uc=Sc;Sc=Fd;Fd=Pc;Pc=sc;sc=Fd}for(;0<Lc--;){Fd=l.tickIncrement(Uc,Sc,jc);if(Fd===ge)return rc[Pc]=Uc,rc[sc]=Sc,hc(rc);if(0<Fd)Uc=Math.floor(Uc/Fd)*Fd,Sc=Math.ceil(Sc/Fd)*Fd;else if(0>Fd)Uc=Math.ceil(Uc*Fd)/Fd,Sc=Math.floor(Sc*Fd)/Fd;else break;var ge=Fd}return mb};return mb}function G(){var mb=M()(e,e);mb.copy=function(){return O(mb,G())};v.apply(mb,arguments);return z(mb)}
function K(mb){function hc(rc){return isNaN(rc=+rc)?jc:rc}var jc;hc.invert=hc;hc.domain=hc.range=function(rc){return arguments.length?(mb=Array.from(rc,a),hc):mb.slice()};hc.unknown=function(rc){return arguments.length?(jc=rc,hc):jc};hc.copy=function(){return K(mb).unknown(jc)};mb=arguments.length?Array.from(mb,a):[0,1];return z(hc)}function R(mb,hc){mb=mb.slice();var jc=0,rc=mb.length-1,Pc=mb[jc],sc=mb[rc];if(sc<Pc){var Uc=jc;jc=rc;rc=Uc;Uc=Pc;Pc=sc;sc=Uc}mb[jc]=hc.floor(Pc);mb[rc]=hc.ceil(sc);return mb}
function T(mb){return Math.log(mb)}function ja(mb){return Math.exp(mb)}function fa(mb){return-Math.log(-mb)}function ia(mb){return-Math.exp(-mb)}function la(mb){return isFinite(mb)?+("1e"+mb):0>mb?0:mb}function Z(mb){return 10===mb?la:mb===Math.E?Math.exp:function(hc){return Math.pow(mb,hc)}}function P(mb){return mb===Math.E?Math.log:10===mb&&Math.log10||2===mb&&Math.log2||(mb=Math.log(mb),function(hc){return Math.log(hc)/mb})}function C(mb){return function(hc){return-mb(-hc)}}function V(mb){function hc(){sc=
P(Pc);Uc=Z(Pc);0>rc()[0]?(sc=C(sc),Uc=C(Uc),mb(fa,ia)):mb(T,ja);return jc}var jc=mb(T,ja),rc=jc.domain,Pc=10,sc,Uc;jc.base=function(Sc){return arguments.length?(Pc=+Sc,hc()):Pc};jc.domain=function(Sc){return arguments.length?(rc(Sc),hc()):rc()};jc.ticks=function(Sc){var Lc=rc(),Fd=Lc[0];Lc=Lc[Lc.length-1];var ge;if(ge=Lc<Fd)wd=Fd,Fd=Lc,Lc=wd;var wd=sc(Fd),vd=sc(Lc),Wd=null==Sc?10:+Sc,Pb=[];if(!(Pc%1)&&vd-wd<Wd){wd=Math.floor(wd);vd=Math.ceil(vd);if(0<Fd)for(;wd<=vd;++wd){var gc=1;for(Sc=Uc(wd);gc<
Pc;++gc){var Eb=Sc*gc;if(!(Eb<Fd)){if(Eb>Lc)break;Pb.push(Eb)}}}else for(;wd<=vd;++wd)for(gc=Pc-1,Sc=Uc(wd);1<=gc;--gc)if(Eb=Sc*gc,!(Eb<Fd)){if(Eb>Lc)break;Pb.push(Eb)}2*Pb.length<Wd&&(Pb=l.ticks(Fd,Lc,Wd))}else Pb=l.ticks(wd,vd,Math.min(vd-wd,Wd)).map(Uc);return ge?Pb.reverse():Pb};jc.tickFormat=function(Sc,Lc){null==Lc&&(Lc=10===Pc?".0e":",");"function"!==typeof Lc&&(Lc=H.format(Lc));if(Infinity===Sc)return Lc;null==Sc&&(Sc=10);var Fd=Math.max(1,Pc*Sc/jc.ticks().length);return function(ge){var wd=
ge/Uc(Math.round(sc(ge)));wd*Pc<Pc-.5&&(wd*=Pc);return wd<=Fd?Lc(ge):""}};jc.nice=function(){return rc(R(rc(),{floor:function(Sc){return Uc(Math.floor(sc(Sc)))},ceil:function(Sc){return Uc(Math.ceil(sc(Sc)))}}))};return jc}function ha(){var mb=V(M()).domain([1,10]);mb.copy=function(){return O(mb,ha()).base(mb.base())};v.apply(mb,arguments);return mb}function aa(mb){return function(hc){return Math.sign(hc)*Math.log1p(Math.abs(hc/mb))}}function ta(mb){return function(hc){return Math.sign(hc)*Math.expm1(Math.abs(hc))*
mb}}function wa(mb){var hc=1,jc=mb(aa(hc),ta(hc));jc.constant=function(rc){return arguments.length?mb(aa(hc=+rc),ta(hc)):hc};return z(jc)}function Ha(){var mb=wa(M());mb.copy=function(){return O(mb,Ha()).constant(mb.constant())};return v.apply(mb,arguments)}function bb(mb){return function(hc){return 0>hc?-Math.pow(-hc,mb):Math.pow(hc,mb)}}function kb(mb){return 0>mb?-Math.sqrt(-mb):Math.sqrt(mb)}function va(mb){return 0>mb?-mb*mb:mb*mb}function Ta(mb){var hc=mb(e,e),jc=1;hc.exponent=function(rc){return arguments.length?
(jc=+rc,1===jc?mb(e,e):.5===jc?mb(kb,va):mb(bb(jc),bb(1/jc))):jc};return z(hc)}function Ya(){var mb=Ta(M());mb.copy=function(){return O(mb,Ya()).exponent(mb.exponent())};v.apply(mb,arguments);return mb}function Ca(mb){return Math.sign(mb)*mb*mb}function ua(){function mb(sc){sc=hc(sc);sc=Math.sign(sc)*Math.sqrt(Math.abs(sc));return isNaN(sc)?Pc:rc?Math.round(sc):sc}var hc=M()(e,e),jc=[0,1],rc=!1,Pc;mb.invert=function(sc){return hc.invert(Ca(sc))};mb.domain=function(sc){return arguments.length?(hc.domain(sc),
mb):hc.domain()};mb.range=function(sc){return arguments.length?(hc.range((jc=Array.from(sc,a)).map(Ca)),mb):jc.slice()};mb.rangeRound=function(sc){return mb.range(sc).round(!0)};mb.round=function(sc){return arguments.length?(rc=!!sc,mb):rc};mb.clamp=function(sc){return arguments.length?(hc.clamp(sc),mb):hc.clamp()};mb.unknown=function(sc){return arguments.length?(Pc=sc,mb):Pc};mb.copy=function(){return ua(hc.domain(),jc).round(rc).clamp(hc.clamp()).unknown(Pc)};v.apply(mb,arguments);return z(mb)}
function U(){function mb(){var Uc=0,Sc=Math.max(1,rc.length);for(Pc=Array(Sc-1);++Uc<Sc;)Pc[Uc-1]=l.quantileSorted(jc,Uc/Sc);return hc}function hc(Uc){return isNaN(Uc=+Uc)?sc:rc[l.bisect(Pc,Uc)]}var jc=[],rc=[],Pc=[],sc;hc.invertExtent=function(Uc){Uc=rc.indexOf(Uc);return 0>Uc?[NaN,NaN]:[0<Uc?Pc[Uc-1]:jc[0],Uc<Pc.length?Pc[Uc]:jc[jc.length-1]]};hc.domain=function(Uc){if(!arguments.length)return jc.slice();jc=[];for(let Sc of Uc)null==Sc||isNaN(Sc=+Sc)||jc.push(Sc);jc.sort(l.ascending);return mb()};
hc.range=function(Uc){return arguments.length?(rc=Array.from(Uc),mb()):rc.slice()};hc.unknown=function(Uc){return arguments.length?(sc=Uc,hc):sc};hc.quantiles=function(){return Pc.slice()};hc.copy=function(){return U().domain(jc).range(rc).unknown(sc)};return v.apply(hc,arguments)}function W(){function mb(Lc){return Lc<=Lc?Uc[l.bisect(sc,Lc,0,Pc)]:Sc}function hc(){var Lc=-1;for(sc=Array(Pc);++Lc<Pc;)sc[Lc]=((Lc+1)*rc-(Lc-Pc)*jc)/(Pc+1);return mb}var jc=0,rc=1,Pc=1,sc=[.5],Uc=[0,1],Sc;mb.domain=function(Lc){return arguments.length?
([jc,rc]=Lc,jc=+jc,rc=+rc,hc()):[jc,rc]};mb.range=function(Lc){return arguments.length?(Pc=(Uc=Array.from(Lc)).length-1,hc()):Uc.slice()};mb.invertExtent=function(Lc){Lc=Uc.indexOf(Lc);return 0>Lc?[NaN,NaN]:1>Lc?[jc,sc[0]]:Lc>=Pc?[sc[Pc-1],rc]:[sc[Lc-1],sc[Lc]]};mb.unknown=function(Lc){return arguments.length?(Sc=Lc,mb):mb};mb.thresholds=function(){return sc.slice()};mb.copy=function(){return W().domain([jc,rc]).range(Uc).unknown(Sc)};return v.apply(z(mb),arguments)}function ba(){function mb(sc){return sc<=
sc?jc[l.bisect(hc,sc,0,Pc)]:rc}var hc=[.5],jc=[0,1],rc,Pc=1;mb.domain=function(sc){return arguments.length?(hc=Array.from(sc),Pc=Math.min(hc.length,jc.length-1),mb):hc.slice()};mb.range=function(sc){return arguments.length?(jc=Array.from(sc),Pc=Math.min(hc.length,jc.length-1),mb):jc.slice()};mb.invertExtent=function(sc){sc=jc.indexOf(sc);return[hc[sc-1],hc[sc]]};mb.unknown=function(sc){return arguments.length?(rc=sc,mb):rc};mb.copy=function(){return ba().domain(hc).range(jc).unknown(rc)};return v.apply(mb,
arguments)}function ca(mb){return new Date(mb)}function ra(mb){return mb instanceof Date?+mb:+new Date(+mb)}function qa(mb,hc,jc,rc,Pc,sc,Uc,Sc,Lc){function Fd(wb){return(Uc(wb)<wb?Pb:sc(wb)<wb?gc:Pc(wb)<wb?Eb:rc(wb)<wb?zc:hc(wb)<wb?jc(wb)<wb?Vc:Ed:mb(wb)<wb?Vd:Ka)(wb)}function ge(wb,Hb,ac){null==wb&&(wb=10);if("number"===typeof wb){var Lb=Math.abs(ac-Hb)/wb,Ac=l.bisector(function(tc){return tc[2]}).right(eb,Lb);Ac===eb.length?(Hb=l.tickStep(Hb/Hc,ac/Hc,wb),wb=mb):Ac?(Ac=eb[Lb/eb[Ac-1][2]<eb[Ac][2]/
Lb?Ac-1:Ac],Hb=Ac[1],wb=Ac[0]):(Hb=Math.max(l.tickStep(Hb,ac,wb),1),wb=Sc);return wb.every(Hb)}return wb}var wd=M()(e,e),vd=wd.invert,Wd=wd.domain,Pb=Lc(".%L"),gc=Lc(":%S"),Eb=Lc("%I:%M"),zc=Lc("%I %p"),Vc=Lc("%a %d"),Ed=Lc("%b %d"),Vd=Lc("%B"),Ka=Lc("%Y"),eb=[[Uc,1,1E3],[Uc,5,5E3],[Uc,15,15E3],[Uc,30,3E4],[sc,1,6E4],[sc,5,3E5],[sc,15,9E5],[sc,30,18E5],[Pc,1,36E5],[Pc,3,108E5],[Pc,6,216E5],[Pc,12,432E5],[rc,1,864E5],[rc,2,1728E5],[jc,1,md],[hc,1,pc],[hc,3,3*pc],[mb,1,Hc]];wd.invert=function(wb){return new Date(vd(wb))};
wd.domain=function(wb){return arguments.length?Wd(Array.from(wb,ra)):Wd().map(ca)};wd.ticks=function(wb){var Hb=Wd(),ac=Hb[0];Hb=Hb[Hb.length-1];var Lb=Hb<ac;if(Lb){var Ac=ac;ac=Hb;Hb=Ac}Ac=(Ac=ge(wb,ac,Hb))?Ac.range(ac,Hb+1):[];return Lb?Ac.reverse():Ac};wd.tickFormat=function(wb,Hb){return null==Hb?Fd:Lc(Hb)};wd.nice=function(wb){var Hb=Wd();return(wb=ge(wb,Hb[0],Hb[Hb.length-1]))?Wd(R(Hb,wb)):wd};wd.copy=function(){return O(wd,qa(mb,hc,jc,rc,Pc,sc,Uc,Sc,Lc))};return wd}function Da(){function mb(wd){return isNaN(wd=
+wd)?ge:Lc(0===Uc?.5:(wd=(Sc(wd)-Pc)*Uc,Fd?Math.max(0,Math.min(1,wd)):wd))}function hc(wd){return function(vd){var Wd,Pb;return arguments.length?([Wd,Pb]=vd,Lc=wd(Wd,Pb),mb):[Lc(0),Lc(1)]}}var jc=0,rc=1,Pc,sc,Uc,Sc,Lc=e,Fd=!1,ge;mb.domain=function(wd){return arguments.length?([jc,rc]=wd,Pc=Sc(jc=+jc),sc=Sc(rc=+rc),Uc=Pc===sc?0:1/(sc-Pc),mb):[jc,rc]};mb.clamp=function(wd){return arguments.length?(Fd=!!wd,mb):Fd};mb.interpolator=function(wd){return arguments.length?(Lc=wd,mb):Lc};mb.range=hc(w.interpolate);
mb.rangeRound=hc(w.interpolateRound);mb.unknown=function(wd){return arguments.length?(ge=wd,mb):ge};return function(wd){Sc=wd;Pc=wd(jc);sc=wd(rc);Uc=Pc===sc?0:1/(sc-Pc);return mb}}function na(mb,hc){return hc.domain(mb.domain()).interpolator(mb.interpolator()).clamp(mb.clamp()).unknown(mb.unknown())}function Ra(){var mb=z(Da()(e));mb.copy=function(){return na(mb,Ra())};return u.apply(mb,arguments)}function db(){var mb=V(Da()).domain([1,10]);mb.copy=function(){return na(mb,db()).base(mb.base())};return u.apply(mb,
arguments)}function $a(){var mb=wa(Da());mb.copy=function(){return na(mb,$a()).constant(mb.constant())};return u.apply(mb,arguments)}function Fa(){var mb=Ta(Da());mb.copy=function(){return na(mb,Fa()).exponent(mb.exponent())};return u.apply(mb,arguments)}function Ga(){function mb(rc){if(!isNaN(rc=+rc))return jc((l.bisect(hc,rc,1)-1)/(hc.length-1))}var hc=[],jc=e;mb.domain=function(rc){if(!arguments.length)return hc.slice();hc=[];for(let Pc of rc)null==Pc||isNaN(Pc=+Pc)||hc.push(Pc);hc.sort(l.ascending);
return mb};mb.interpolator=function(rc){return arguments.length?(jc=rc,mb):jc};mb.range=function(){return hc.map((rc,Pc)=>jc(Pc/(hc.length-1)))};mb.quantiles=function(rc){return Array.from({length:rc+1},(Pc,sc)=>l.quantile(hc,sc/rc))};mb.copy=function(){return Ga(jc).domain(hc)};return u.apply(mb,arguments)}function pa(){function mb(gc){return isNaN(gc=+gc)?Pb:(gc=.5+((gc=+vd(gc))-Sc)*(sc*gc<sc*Sc?Fd:ge),wd(Wd?Math.max(0,Math.min(1,gc)):gc))}function hc(gc){return function(Eb){var zc,Vc,Ed;return arguments.length?
([zc,Vc,Ed]=Eb,wd=w.piecewise(gc,[zc,Vc,Ed]),mb):[wd(0),wd(.5),wd(1)]}}var jc=0,rc=.5,Pc=1,sc=1,Uc,Sc,Lc,Fd,ge,wd=e,vd,Wd=!1,Pb;mb.domain=function(gc){return arguments.length?([jc,rc,Pc]=gc,Uc=vd(jc=+jc),Sc=vd(rc=+rc),Lc=vd(Pc=+Pc),Fd=Uc===Sc?0:.5/(Sc-Uc),ge=Sc===Lc?0:.5/(Lc-Sc),sc=Sc<Uc?-1:1,mb):[jc,rc,Pc]};mb.clamp=function(gc){return arguments.length?(Wd=!!gc,mb):Wd};mb.interpolator=function(gc){return arguments.length?(wd=gc,mb):wd};mb.range=hc(w.interpolate);mb.rangeRound=hc(w.interpolateRound);
mb.unknown=function(gc){return arguments.length?(Pb=gc,mb):Pb};return function(gc){vd=gc;Uc=gc(jc);Sc=gc(rc);Lc=gc(Pc);Fd=Uc===Sc?0:.5/(Sc-Uc);ge=Sc===Lc?0:.5/(Lc-Sc);sc=Sc<Uc?-1:1;return mb}}function Ja(){var mb=z(pa()(e));mb.copy=function(){return na(mb,Ja())};return u.apply(mb,arguments)}function Ua(){var mb=V(pa()).domain([.1,1,10]);mb.copy=function(){return na(mb,Ua()).base(mb.base())};return u.apply(mb,arguments)}function jb(){var mb=wa(pa());mb.copy=function(){return na(mb,jb()).constant(mb.constant())};
return u.apply(mb,arguments)}function Fb(){var mb=Ta(pa());mb.copy=function(){return na(mb,Fb()).exponent(mb.exponent())};return u.apply(mb,arguments)}const Xb=Symbol("implicit");var nc=[0,1],md=6048E5,pc=2592E6,Hc=31536E6;k.scaleBand=g;k.scaleDiverging=Ja;k.scaleDivergingLog=Ua;k.scaleDivergingPow=Fb;k.scaleDivergingSqrt=function(){return Fb.apply(null,arguments).exponent(.5)};k.scaleDivergingSymlog=jb;k.scaleIdentity=K;k.scaleImplicit=Xb;k.scaleLinear=G;k.scaleLog=ha;k.scaleOrdinal=m;k.scalePoint=
function(){return d(g.apply(null,arguments).paddingInner(1))};k.scalePow=Ya;k.scaleQuantile=U;k.scaleQuantize=W;k.scaleRadial=ua;k.scaleSequential=Ra;k.scaleSequentialLog=db;k.scaleSequentialPow=Fa;k.scaleSequentialQuantile=Ga;k.scaleSequentialSqrt=function(){return Fa.apply(null,arguments).exponent(.5)};k.scaleSequentialSymlog=$a;k.scaleSqrt=function(){return Ya.apply(null,arguments).exponent(.5)};k.scaleSymlog=Ha;k.scaleThreshold=ba;k.scaleTime=function(){return v.apply(qa(N.timeYear,N.timeMonth,
N.timeWeek,N.timeDay,N.timeHour,N.timeMinute,N.timeSecond,N.timeMillisecond,x.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};k.scaleUtc=function(){return v.apply(qa(N.utcYear,N.utcMonth,N.utcWeek,N.utcDay,N.utcHour,N.utcMinute,N.utcSecond,N.utcMillisecond,x.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};k.tickFormat=F;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(15),A(34),A(33),A(18)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3,k.d3,k.vega))})(this,function(k,l,w,H,N,x){function v(U,W,ba){W=U-W+2*ba;return U?0<W?W:1:0}function u(U){return function(W){let ba=W[0];W=W[1];let ca;W<ba&&(ca=
ba,ba=W,W=ca);return[U.invert(ba),U.invert(W)]}}function m(U){return function(W){const ba=U.range();let ca=W[0];W=W[1];let ra=-1,qa;let Da;if(W<ca){var na=ca;ca=W;W=na}na=0;for(Da=ba.length;na<Da;++na)ba[na]>=ca&&ba[na]<=W&&(0>ra&&(ra=na),qa=na);if(!(0>ra))return ca=U.invertExtent(ba[ra]),W=U.invertExtent(ba[qa]),[void 0===ca[0]?ca[1]:ca[0],void 0===W[1]?W[0]:W[1]]}}function g(){function U(){var Fa=ba().length;const Ga=ra[1]<ra[0],pa=ra[1-Ga],Ja=v(Fa,Ra,db);let Ua=ra[Ga-0];qa=(pa-Ua)/(Ja||1);na&&
(qa=Math.floor(qa));Ua+=(pa-Ua-qa*(Fa-Ra))*$a;Da=qa*(1-Ra);na&&(Ua=Math.round(Ua),Da=Math.round(Da));Fa=w.range(Fa).map(jb=>Ua+qa*jb);return ca(Ga?Fa.reverse():Fa)}const W=H.scaleOrdinal().unknown(void 0),ba=W.domain,ca=W.range;let ra=[0,1],qa,Da,na=!1,Ra=0,db=0,$a=.5;delete W.unknown;W.domain=function(Fa){return arguments.length?(ba(Fa),U()):ba()};W.range=function(Fa){return arguments.length?(ra=[+Fa[0],+Fa[1]],U()):ra.slice()};W.rangeRound=function(Fa){ra=[+Fa[0],+Fa[1]];na=!0;return U()};W.bandwidth=
function(){return Da};W.step=function(){return qa};W.round=function(Fa){return arguments.length?(na=!!Fa,U()):na};W.padding=function(Fa){return arguments.length?(Ra=db=Math.max(0,Math.min(1,Fa)),U()):Ra};W.paddingInner=function(Fa){return arguments.length?(Ra=Math.max(0,Math.min(1,Fa)),U()):Ra};W.paddingOuter=function(Fa){return arguments.length?(db=Math.max(0,Math.min(1,Fa)),U()):db};W.align=function(Fa){return arguments.length?($a=Math.max(0,Math.min(1,Fa)),U()):$a};W.invertRange=function(Fa){if(null!=
Fa[0]&&null!=Fa[1]){var Ga=ra[1]<ra[0],pa=Ga?ca().reverse():ca(),Ja=pa.length-1,Ua=+Fa[0],jb=+Fa[1];if(Ua===Ua&&jb===jb){if(jb<Ua){var Fb=Ua;Ua=jb;jb=Fb}if(!(jb<pa[0]||Ua>ra[1-Ga]))return Fa=Math.max(0,w.bisectRight(pa,Ua)-1),jb=Ua===jb?Fa:w.bisectRight(pa,jb)-1,Ua-pa[Fa]>Da+1E-10&&++Fa,Ga&&(Fb=Fa,Fa=Ja-jb,jb=Ja-Fb),Fa>jb?void 0:ba().slice(Fa,jb+1)}}};W.invert=function(Fa){return(Fa=W.invertRange([Fa,Fa]))?Fa[0]:Fa};W.copy=function(){return g().domain(ba()).range(ra).round(na).paddingInner(Ra).paddingOuter(db).align($a)};
return U()}function d(U){const W=U.copy;U.padding=U.paddingOuter;delete U.paddingInner;U.copy=function(){return d(W())};return U}function f(){function U(ca){return null==ca||ca!==ca?void 0:ba[(w.bisect(W,ca)-1)%ba.length]}let W=[],ba=[];U.domain=function(ca){return arguments.length?(W=V.call(ca,l.toNumber),U):W.slice()};U.range=function(ca){return arguments.length?(ba=ha.call(ca),U):ba.slice()};U.tickFormat=function(ca,ra){return H.tickFormat(W[0],l.peek(W),null==ca?10:ca,ra)};U.copy=function(){return f().domain(U.domain()).range(U.range())};
return U}function a(U,W,ba){const ca=function(){const ra=W();ra.invertRange||(ra.invertRange=ra.invert?u(ra):ra.invertExtent?m(ra):void 0);ra.type=U;return ra};ca.metadata=l.toSet(l.array(ba));return ca}function e(U,W,ba){return 1<arguments.length?(aa[U]=a(U,W,ba),this):n(U)?aa[U]:void 0}function n(U){return l.hasOwnProperty(aa,U)}function y(U,W){return(U=aa[U])&&U.metadata[W]}function B(U){return y(U,"discrete")}function D(U){return y(U,"discretizing")}function O(U){return y(U,"log")}function M(U){return y(U,
"temporal")}function F(U,W,ba){return N.piecewise(z(W||"rgb",ba),U)}function z(U,W){U=C[G(U)];return null!=W&&U&&U.gamma?U.gamma(W):U}function G(U){return"interpolate"+U.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function K(U){const W=U.length/6|0,ba=Array(W);for(let ca=0;ca<W;)ba[ca]="#"+U.slice(6*ca,6*++ca);return ba}function R(U,W){for(const ba in U)T(ba,W(U[ba]))}function T(U,W){U=U&&U.toLowerCase();return 1<arguments.length?(wa[U]=W,this):wa[U]}function ja(U,W,ba){var ca=
U.range();let ra=ca[0],qa=l.peek(ca);ca=bb;ra>qa&&(ca=qa,qa=ra,ra=ca,ca=kb);ra=Math.floor(ra);qa=Math.ceil(qa);W=W.map(Da=>[Da,U(Da)]).filter(Da=>ra<=Da[1]&&Da[1]<=qa).sort(ca).map(Da=>Da[0]);if(0<ba&&1<W.length){for(ca=[W[0],l.peek(W)];W.length>ba&&3<=W.length;)W=W.filter((Da,na)=>!(na%2));3>W.length&&(W=ca)}return W}function fa(U,W){return U.bins?ja(U,U.bins):U.ticks?U.ticks(W):U.domain()}function ia(U,W,ba,ca,ra,qa){const Da=W.type;let na=Ha;if("time"===Da||"time"===ra)na=U.timeFormat(ca);else if("utc"===
Da||"utc"===ra)na=U.utcFormat(ca);else if(O(Da)){const Ra=U.formatFloat(ca);if(qa||W.bins)na=Ra;else{const db=la(W,ba,!1);na=$a=>db($a)?Ra($a):""}}else W.tickFormat?(W=W.domain(),na=U.formatSpan(W[0],W[W.length-1],ba,ca)):ca&&(na=U.format(ca));return na}function la(U,W,ba){const ca=fa(U,W),ra=U.base(),qa=Math.log(ra),Da=Math.max(1,ra*W/ca.length);U=na=>{na/=Math.pow(ra,Math.round(Math.log(na)/qa));na*ra<ra-.5&&(na*=ra);return na<=Da};return ba?ca.filter(U):U}function Z(U,W){U.bins?(U=U.bins,W=U.slice(0,
-1),W.max=l.peek(U),U=W):"log"===U.type?U=la(U,W,!0):va[U.type]?(U=U[va[U.type]](),U=[-Infinity].concat(U),U.max=Infinity):U=fa(U,W);return U}function P(U,W,ba,ca,ra,qa,Da){if(Ta[W.type]&&"time"!==qa&&"utc"!==qa){{ba=W[Ta[W.type]]();qa=ba.length;Da=1<qa?ba[1]-ba[0]:ba[0];let na;for(na=1;na<qa;++na)Da=Math.min(Da,ba[na]-ba[na-1]);U=U.formatSpan(0,Da,30,ra)}}else U=ia(U,W,ba,ra,qa,Da);return"symbol"===ca&&(va[W.type]||W.bins)?Ya(U):"discrete"===ca?Ca(U):ua(U)}var C=function(U){if(U&&U.__esModule)return U;
var W=Object.create(null);U&&Object.keys(U).forEach(function(ba){if("default"!==ba){var ca=Object.getOwnPropertyDescriptor(U,ba);Object.defineProperty(W,ba,ca.get?ca:{enumerable:!0,get:function(){return U[ba]}})}});W["default"]=U;return Object.freeze(W)}(N),V=Array.prototype.map;const ha=Array.prototype.slice,aa={};e("identity",H.scaleIdentity);e("linear",H.scaleLinear,"continuous");e("log",H.scaleLog,["continuous","log"]);e("pow",H.scalePow,"continuous");e("sqrt",H.scaleSqrt,"continuous");e("symlog",
H.scaleSymlog,"continuous");e("time",H.scaleTime,["continuous","temporal"]);e("utc",H.scaleUtc,["continuous","temporal"]);e("sequential",H.scaleSequential,["continuous","interpolating"]);e("sequential-linear",H.scaleSequential,["continuous","interpolating"]);e("sequential-log",H.scaleSequentialLog,["continuous","interpolating","log"]);e("sequential-pow",H.scaleSequentialPow,["continuous","interpolating"]);e("sequential-sqrt",H.scaleSequentialSqrt,["continuous","interpolating"]);e("sequential-symlog",
H.scaleSequentialSymlog,["continuous","interpolating"]);e("diverging-linear",H.scaleDiverging,["continuous","interpolating"]);e("diverging-log",H.scaleDivergingLog,["continuous","interpolating","log"]);e("diverging-pow",H.scaleDivergingPow,["continuous","interpolating"]);e("diverging-sqrt",H.scaleDivergingSqrt,["continuous","interpolating"]);e("diverging-symlog",H.scaleDivergingSymlog,["continuous","interpolating"]);e("quantile",H.scaleQuantile,["discretizing","quantile"]);e("quantize",H.scaleQuantize,
"discretizing");e("threshold",H.scaleThreshold,"discretizing");e("bin-ordinal",f,["discrete","discretizing"]);e("ordinal",H.scaleOrdinal,"discrete");e("band",g,"discrete");e("point",function(){return d(g().paddingInner(1))},"discrete");const ta=["clamp","base","constant","exponent"],wa={};R({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},K);R({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},U=>F(K(U)));const Ha=U=>l.isArray(U)?U.map(W=>String(W)):String(U),bb=(U,W)=>U[1]-W[1],kb=(U,W)=>W[1]-U[1],va={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},Ta={["quantile"]:"quantiles",["quantize"]:"domain"},Ya=U=>(W,ba,ca)=>{ba=ca[ba+1];ca=ca.max;ca=null!=ca?ca:Infinity;ba=null!=
ba?ba:ca;W=Number.isFinite(W)?U(W):null;ba=Number.isFinite(ba)?U(ba):null;return W&&ba?W+"  "+ba:ba?"\x3c "+ba:" "+W},Ca=U=>(W,ba)=>ba?U(W):null,ua=U=>W=>U(W);Object.defineProperty(k,"scaleImplicit",{enumerable:!0,get:function(){return H.scaleImplicit}});k.Band="band";k.BinOrdinal="bin-ordinal";k.DiscreteLegend="discrete";k.Diverging="diverging";k.GradientLegend="gradient";k.Identity="identity";k.Linear="linear";k.Log="log";k.Ordinal="ordinal";k.Point="point";k.Pow="pow";k.Quantile="quantile";k.Quantize=
"quantize";k.Sequential="sequential";k.Sqrt="sqrt";k.SymbolLegend="symbol";k.Symlog="symlog";k.Threshold="threshold";k.Time="time";k.UTC="utc";k.bandSpace=v;k.domainCaption=function(U,W,ba){ba=ba||{};var ca=Math.max(3,ba.maxlen||7);{var ra=ba.format;const qa=(ba=ba.formatType)||W.type;l.isString(ra)&&M(qa)&&(ra=ra.replace(/%a/g,"%A").replace(/%b/g,"%B"));U=ra||"time"!==qa?ra||"utc"!==qa?P(U,W,5,null,ra,ba,!0):U.utcFormat("%A, %d %B %Y, %X UTC"):U.timeFormat("%A, %d %B %Y, %X")}if(D(W.type))return ca=
Z(W).slice(1).map(U),W=ca.length,`${W} boundar${1===W?"y":"ies"}: ${ca.join(", ")}`;if(B(W.type))return ra=W.domain(),W=ra.length,ca=W>ca?ra.slice(0,ca-2).map(U).join(", ")+", ending with "+ra.slice(-1).map(U):ra.map(U).join(", "),`${W} value${1===W?"":"s"}: ${ca}`;ca=W.domain();return`values from ${U(ca[0])} to ${U(l.peek(ca))}`};k.interpolate=z;k.interpolateColors=F;k.interpolateRange=function(U,W){const ba=W[0],ca=l.peek(W)-ba;return function(ra){return U(ba+ra*ca)}};k.isContinuous=function(U){return y(U,
"continuous")};k.isDiscrete=B;k.isDiscretizing=D;k.isInterpolating=function(U){return y(U,"interpolating")};k.isLogarithmic=O;k.isQuantile=function(U){return y(U,"quantile")};k.isTemporal=M;k.isValidScaleType=n;k.labelFormat=P;k.labelFraction=function(U){var W=U.domain();const ba=W.length-1;let ca=+W[0];W=+l.peek(W);let ra=W-ca;"threshold"===U.type&&(U=ba?ra/ba:.1,ca-=U,W+=U,ra=W-ca);return qa=>(qa-ca)/ra};k.labelValues=Z;k.quantizeInterpolator=function(U,W){const ba=Array(W),ca=W+1;for(let ra=0;ra<
W;)ba[ra]=U(++ra/ca);return ba};k.scale=e;k.scaleCopy=function(U){const W=U.type;U=U.copy();U.type=W;return U};k.scaleFraction=function(U,W,ba){var ca=ba-W;let ra,qa;return ca&&Number.isFinite(ca)?(ca=(ra=U.type).indexOf("-"),ra=0>ca?ra:ra.slice(ca+1),qa=e(ra)().domain([W,ba]).range([0,1]),ta.forEach(Da=>U[Da]?qa[Da](U[Da]()):0),qa):l.constant(.5)};k.scheme=T;k.tickCount=function(U,W,ba){let ca;l.isNumber(W)&&(U.bins&&(W=Math.max(W,U.bins.length)),null!=ba&&(W=Math.min(W,Math.floor(l.span(U.domain())/
ba||1))));l.isObject(W)&&(ca=W.step,W=W.interval);l.isString(W)&&(W="time"===U.type?x.timeInterval(W):"utc"==U.type?x.utcInterval(W):l.error("Only time and utc scales accept interval strings."),ca&&(W=W.every(ca)));return W};k.tickFormat=ia;k.tickValues=fa;k.validTicks=ja;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(30),A(29),A(31),A(25),A(35)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x,v){function u(Y,oa,Oa){const Va=Y.gradient;let xb=Y.id,Sb="radial"===Va?"p_":"";xb||(xb=Y.id="gradient_"+
Be++,"radial"===Va?(Y.x1=m(Y.x1,.5),Y.y1=m(Y.y1,.5),Y.r1=m(Y.r1,0),Y.x2=m(Y.x2,.5),Y.y2=m(Y.y2,.5),Y.r2=m(Y.r2,.5),Sb="p_"):(Y.x1=m(Y.x1,0),Y.y1=m(Y.y1,0),Y.x2=m(Y.x2,1),Y.y2=m(Y.y2,0)));oa[xb]=Y;return"url("+(Oa||"")+"#"+Sb+xb+")"}function m(Y,oa){return null!=Y?Y:oa}function g(Y,oa,Oa){Y=l.hasOwnProperty(jf,Y)&&jf[Y];var Va=null;Y&&(Va=Y.curve||Y[oa||"vertical"],Y.tension&&null!=Oa&&(Va=Va[Y.tension](Oa)));return Va}function d(Y){const oa=[];let Oa,Va,xb,Sb;var Zb;const qc=Y.slice().replace(Td[0],
"###$1").split(Td[1]).slice(1);Y=0;for(Sb=qc.length;Y<Sb;++Y){var Ec=qc[Y];var ed=Ec.slice(1).trim().replace(Td[2],"$1###$2").replace(Td[3],"$1###$2").split(Td[4]);Va=Ec.charAt(0);Ec=[Va];xb=0;for(Zb=ed.length;xb<Zb;++xb)(Oa=+ed[xb])===Oa&&Ec.push(Oa);ed=Ge[Va.toLowerCase()];if(Ec.length-1>ed)for(Zb=Ec.length,xb=1,oa.push([Va].concat(Ec.slice(xb,xb+=ed))),Va="M"===Va?"L":"m"===Va?"l":Va;xb<Zb;xb+=ed)oa.push([Va].concat(Ec.slice(xb,xb+ed)));else oa.push(Ec)}return oa}function f(Y,oa,Oa,Va,xb,Sb,Zb,
qc,Ec){const ed=Fe.call(arguments);if(le[ed])return le[ed];var Zc=Zb*Ye;const Pd=Math.sin(Zc);Zc=Math.cos(Zc);Oa=Math.abs(Oa);Va=Math.abs(Va);var be=Zc*(qc-Y)*.5+Pd*(Ec-oa)*.5,pd=Zc*(Ec-oa)*.5-Pd*(qc-Y)*.5;be=be*be/(Oa*Oa)+pd*pd/(Va*Va);1<be&&(be=Math.sqrt(be),Oa*=be,Va*=be);var Ad=Zc/Oa,id=Pd/Oa,af=-Pd/Va,Wa=Zc/Va;be=Ad*qc+id*Ec;pd=af*qc+Wa*Ec;Ad=Ad*Y+id*oa;id=af*Y+Wa*oa;af=1/((Ad-be)*(Ad-be)+(id-pd)*(id-pd))-.25;0>af&&(af=0);Wa=Math.sqrt(af);Sb==xb&&(Wa=-Wa);af=.5*(be+Ad)-Wa*(id-pd);Wa=.5*(pd+id)+
Wa*(Ad-be);be=Math.atan2(pd-Wa,be-af);pd=Math.atan2(id-Wa,Ad-af)-be;0>pd&&1===Sb?pd+=Gc:0<pd&&0===Sb&&(pd-=Gc);Ad=Math.ceil(Math.abs(pd/(Xf+.001)));id=[];for(let ob=0;ob<Ad;++ob)id[ob]=[af,Wa,be+ob*pd/Ad,be+(ob+1)*pd/Ad,Oa,Va,Pd,Zc];return le[ed]=id}function a(Y,oa,Oa,Va,xb,Sb){var Zb=null,qc=0,Ec=0,ed=0,Zc=0;null==Oa&&(Oa=0);null==Va&&(Va=0);null==xb&&(xb=1);null==Sb&&(Sb=xb);Y.beginPath&&Y.beginPath();for(var Pd=0,be=oa.length;Pd<be;++Pd){var pd=oa[Pd];if(1!==xb||1!==Sb){var Ad=xb;var id=Sb;var af=
ue[0]=pd[0];if("a"===af||"A"===af)ue[1]=Ad*pd[1],ue[2]=id*pd[2],ue[3]=pd[3],ue[4]=pd[4],ue[5]=pd[5],ue[6]=Ad*pd[6],ue[7]=id*pd[7];else if("h"===af||"H"===af)ue[1]=Ad*pd[1];else if("v"===af||"V"===af)ue[1]=id*pd[1];else{af=1;for(var Wa=pd.length;af<Wa;++af)ue[af]=(1==af%2?Ad:id)*pd[af]}pd=ue}switch(pd[0]){case "l":qc+=pd[1];Ec+=pd[2];Y.lineTo(qc+Oa,Ec+Va);break;case "L":qc=pd[1];Ec=pd[2];Y.lineTo(qc+Oa,Ec+Va);break;case "h":qc+=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "H":qc=pd[1];Y.lineTo(qc+Oa,Ec+
Va);break;case "v":Ec+=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "V":Ec=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "m":qc+=pd[1];Ec+=pd[2];Y.moveTo(qc+Oa,Ec+Va);break;case "M":qc=pd[1];Ec=pd[2];Y.moveTo(qc+Oa,Ec+Va);break;case "c":Ad=qc+pd[5];id=Ec+pd[6];ed=qc+pd[3];Zc=Ec+pd[4];Y.bezierCurveTo(qc+pd[1]+Oa,Ec+pd[2]+Va,ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "C":qc=pd[5];Ec=pd[6];ed=pd[3];Zc=pd[4];Y.bezierCurveTo(pd[1]+Oa,pd[2]+Va,ed+Oa,Zc+Va,qc+Oa,Ec+Va);break;case "s":Ad=qc+pd[3];id=Ec+pd[4];ed=
2*qc-ed;Zc=2*Ec-Zc;Y.bezierCurveTo(ed+Oa,Zc+Va,qc+pd[1]+Oa,Ec+pd[2]+Va,Ad+Oa,id+Va);ed=qc+pd[1];Zc=Ec+pd[2];qc=Ad;Ec=id;break;case "S":Ad=pd[3];id=pd[4];ed=2*qc-ed;Zc=2*Ec-Zc;Y.bezierCurveTo(ed+Oa,Zc+Va,pd[1]+Oa,pd[2]+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=pd[1];Zc=pd[2];break;case "q":Ad=qc+pd[3];id=Ec+pd[4];ed=qc+pd[1];Zc=Ec+pd[2];Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "Q":Ad=pd[3];id=pd[4];Y.quadraticCurveTo(pd[1]+Oa,pd[2]+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=pd[1];Zc=pd[2];break;
case "t":Ad=qc+pd[1];id=Ec+pd[2];null===Zb[0].match(/[QqTt]/)?(ed=qc,Zc=Ec):"t"===Zb[0]?(ed=2*qc-ob,Zc=2*Ec-zb):"q"===Zb[0]&&(ed=2*qc-ed,Zc=2*Ec-Zc);var ob=ed;var zb=Zc;Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=qc+pd[1];Zc=Ec+pd[2];break;case "T":Ad=pd[1];id=pd[2];ed=2*qc-ed;Zc=2*Ec-Zc;Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "a":e(Y,qc+Oa,Ec+Va,[pd[1],pd[2],pd[3],pd[4],pd[5],pd[6]+qc+Oa,pd[7]+Ec+Va]);qc+=pd[6];Ec+=pd[7];break;case "A":e(Y,qc+Oa,Ec+Va,[pd[1],
pd[2],pd[3],pd[4],pd[5],pd[6]+Oa,pd[7]+Va]);qc=pd[6];Ec=pd[7];break;case "z":case "Z":Y.closePath()}Zb=pd}}function e(Y,oa,Oa,Va){oa=f(Va[5],Va[6],Va[0],Va[1],Va[3],Va[4],Va[2],oa,Oa);for(Oa=0;Oa<oa.length;++Oa){a:{var xb=oa[Oa];Va=Fe.call(xb);if(kc[Va]){Va=kc[Va];break a}var Sb=xb[0],Zb=xb[1],qc=xb[2],Ec=xb[3],ed=xb[4],Zc=xb[5],Pd=xb[6],be=xb[7];xb=be*ed;const Ad=-Pd*Zc;ed*=Pd;Zc*=be;var pd=Math.cos(qc);const id=Math.sin(qc);Pd=Math.cos(Ec);be=Math.sin(Ec);qc=.5*(Ec-qc);Ec=Math.sin(.5*qc);Ec=8/3*
Ec*Ec/Math.sin(qc);qc=Sb+pd-Ec*id;pd=Zb+id+Ec*pd;Sb+=Pd;Zb+=be;be=Sb+Ec*be;Pd=Zb-Ec*Pd;Va=kc[Va]=[xb*qc+Ad*pd,ed*qc+Zc*pd,xb*be+Ad*Pd,ed*be+Zc*Pd,xb*Sb+Ad*Zb,ed*Sb+Zc*Zb]}Y.bezierCurveTo(Va[0],Va[1],Va[2],Va[3],Va[4],Va[5])}}function n(Y){return l.hasOwnProperty(lf,Y)?lf[Y]:y(Y)}function y(Y){if(!l.hasOwnProperty(Yf,Y)){const oa=d(Y);Yf[Y]={draw:function(Oa,Va){a(Oa,oa,0,0,Math.sqrt(Va)/2)}}}return Yf[Y]}function B(Y){return Y.x}function D(Y){return Y.y}function O(Y){return Y.width}function M(Y){return Y.height}
function F(Y){return"function"===typeof Y?Y:()=>+Y}function z(Y,oa,Oa){return Math.max(oa,Math.min(Y,Oa))}function G(){function Y(Zc,Pd,be){var pd;Pd=null!=Pd?Pd:+oa.call(this,Zc);be=null!=be?be:+Oa.call(this,Zc);var Ad=+Va.call(this,Zc),id=+xb.call(this,Zc),af=Math.min(Ad,id)/2,Wa=z(+Sb.call(this,Zc),0,af),ob=z(+Zb.call(this,Zc),0,af),zb=z(+qc.call(this,Zc),0,af);Zc=z(+Ec.call(this,Zc),0,af);ed||(ed=pd=H.path());0>=Wa&&0>=ob&&0>=zb&&0>=Zc?ed.rect(Pd,be,Ad,id):(Ad=Pd+Ad,id=be+id,ed.moveTo(Pd+Wa,be),
ed.lineTo(Ad-ob,be),ed.bezierCurveTo(Ad-.448084975506*ob,be,Ad,be+.448084975506*ob,Ad,be+ob),ed.lineTo(Ad,id-Zc),ed.bezierCurveTo(Ad,id-.448084975506*Zc,Ad-.448084975506*Zc,id,Ad-Zc,id),ed.lineTo(Pd+zb,id),ed.bezierCurveTo(Pd+.448084975506*zb,id,Pd,id-.448084975506*zb,Pd,id-zb),ed.lineTo(Pd,be+Wa),ed.bezierCurveTo(Pd,be+.448084975506*Wa,Pd+.448084975506*Wa,be,Pd+Wa,be),ed.closePath());if(pd)return ed=null,pd+""||null}var oa=B,Oa=D,Va=O,xb=M,Sb=F(0),Zb=Sb,qc=Sb,Ec=Sb,ed=null;Y.x=function(Zc){return arguments.length?
(oa=F(Zc),Y):oa};Y.y=function(Zc){return arguments.length?(Oa=F(Zc),Y):Oa};Y.width=function(Zc){return arguments.length?(Va=F(Zc),Y):Va};Y.height=function(Zc){return arguments.length?(xb=F(Zc),Y):xb};Y.cornerRadius=function(Zc,Pd,be,pd){return arguments.length?(Sb=F(Zc),Zb=null!=Pd?F(Pd):Sb,Ec=null!=be?F(be):Sb,qc=null!=pd?F(pd):Zb,Y):Sb};Y.context=function(Zc){return arguments.length?(ed=null==Zc?null:Zc,Y):ed};return Y}function K(){function Y(Zc){var Pd,be=Zc.length,pd,Ad=!1,id;null==Sb&&(Sb=id=
H.path());for(Pd=0;Pd<=be;++Pd)if(!(Pd<be&&xb(pd=Zc[Pd],Pd,Zc))===Ad&&(Ad=!Ad)&&(Zb=0),Ad){{var af=+oa(pd,Pd,Zc),Wa=+Oa(pd,Pd,Zc);const r=+Va(pd,Pd,Zc)/2;if(Zb){var ob=Ec-Wa,zb=af-qc;if(ob||zb){var Mb=Math.sqrt(ob*ob+zb*zb),bc=(ob/=Mb)*ed;Mb=(zb/=Mb)*ed;var Kc=Math.atan2(zb,ob);Sb.moveTo(qc-bc,Ec-Mb);Sb.lineTo(af-ob*r,Wa-zb*r);Sb.arc(af,Wa,r,Kc-Math.PI,Kc);Sb.lineTo(qc+bc,Ec+Mb);Sb.arc(qc,Ec,ed,Kc,Kc+Math.PI)}else Sb.arc(af,Wa,r,0,Gc);Sb.closePath()}else Zb=1;qc=af;Ec=Wa;ed=r}}if(id)return Sb=null,
id+""||null}var oa,Oa,Va,xb,Sb=null,Zb,qc,Ec,ed;Y.x=function(Zc){return arguments.length?(oa=Zc,Y):oa};Y.y=function(Zc){return arguments.length?(Oa=Zc,Y):Oa};Y.size=function(Zc){return arguments.length?(Va=Zc,Y):Va};Y.defined=function(Zc){return arguments.length?(xb=Zc,Y):xb};Y.context=function(Zc){return arguments.length?(Sb=null==Zc?null:Zc,Y):Sb};return Y}function R(Y,oa){return null!=Y?Y:oa}function T(Y){return Y.cornerRadius||Y.cornerRadiusTopLeft||Y.cornerRadiusTopRight||Y.cornerRadiusBottomRight||
Y.cornerRadiusBottomLeft}function ja(Y,oa,Oa,Va){return Za.context(Y)(oa,Oa,Va)}function fa(Y,oa,Oa){var Va=oa.clip;Y=Y._defs;oa=oa.clip_id||(oa.clip_id="clip"+Yb++);Y=Y.clipping[oa]||(Y.clipping[oa]={id:oa});l.isFunction(Va)?Y.path=Va(null):T(Oa)?Y.path=ja(null,Oa,0,0):(Y.width=Oa.width||0,Y.height=Oa.height||0);return"url(#"+oa+")"}function ia(Y){this.clear();Y&&this.union(Y)}function la(Y){this.mark=Y;this.bounds=this.bounds||new ia}function Z(Y){la.call(this,Y);this.items=this.items||[]}function P(Y){this._pending=
0;this._loader=Y||x.loader()}function C(Y,oa,Oa){if(oa.stroke&&0!==oa.opacity&&0!==oa.strokeOpacity){const Va=null!=oa.strokeWidth?+oa.strokeWidth:1;Y.expand(Va+(Oa?oa.strokeJoin&&"miter"!==oa.strokeJoin?0:Va:0))}return Y}function V(Y,oa){Oc=Y;oa?(Nd=oa*Ye,od=Qd=Math.cos(Nd),Id=Math.sin(Nd),jd=-Id):(od=Qd=1,Nd=Id=jd=0);return uf}function ha(Y,oa,Oa,Va){Oa=(Y-oa)/(Y+Oa-2*oa);0<Oa&&1>Oa&&Va(Y+(oa-Y)*Oa)}function aa(Y,oa,Oa,Va,xb){const Sb=Va-Y+3*oa-3*Oa,Zb=Y+Oa-2*oa;var qc=Y-oa;let Ec=0,ed=0;1E-14<
Math.abs(Sb)?(qc=Zb*Zb+qc*Sb,0<=qc&&(qc=Math.sqrt(qc),Ec=(-Zb+qc)/Sb,ed=(-Zb-qc)/Sb)):Ec=.5*qc/Zb;0<Ec&&1>Ec&&xb(ta(Ec,Y,oa,Oa,Va));0<ed&&1>ed&&xb(ta(ed,Y,oa,Oa,Va))}function ta(Y,oa,Oa,Va,xb){const Sb=1-Y,Zb=Sb*Sb,qc=Y*Y;return Zb*Sb*oa+3*Zb*Y*Oa+3*Sb*qc*Va+qc*Y*xb}function wa(Y){return function(oa,Oa){if(!mf)return!0;Y(mf,oa);Zf.clear().union(oa.bounds).intersect(Oa).round();const {x1:Va,y1:xb,x2:Sb,y2:Zb}=Zf;for(oa=xb;oa<=Zb;++oa)for(Oa=Va;Oa<=Sb;++Oa)if(mf.isPointInPath(Oa,oa))return!0;return!1}}
function Ha(Y,oa){return oa.contains(Y.x||0,Y.y||0)}function bb(Y,oa){const Oa=Y.x||0,Va=Y.y||0;return oa.intersects(Zf.set(Oa,Va,Oa+(Y.width||0),Va+(Y.height||0)))}function kb(Y,oa){const Oa=Y.x||0,Va=Y.y||0;return va(oa,Oa,Va,null!=Y.x2?Y.x2:Oa,null!=Y.y2?Y.y2:Va)}function va(Y,oa,Oa,Va,xb){const {x1:Sb,y1:Zb,x2:qc,y2:Ec}=Y;Y=Va-oa;xb-=Oa;Va=0;let ed=1,Zc,Pd,be,pd;for(pd=0;4>pd;++pd){0===pd&&(Zc=-Y,Pd=-(Sb-oa));1===pd&&(Zc=Y,Pd=qc-oa);2===pd&&(Zc=-xb,Pd=-(Zb-Oa));3===pd&&(Zc=xb,Pd=Ec-Oa);if(1E-10>
Math.abs(Zc)&&0>Pd)return!1;be=Pd/Zc;if(0>Zc){if(be>ed)return!1;be>Va&&(Va=be)}else if(0<Zc){if(be<Va)return!1;be<ed&&(ed=be)}}return!0}function Ta(Y,oa){Y.globalCompositeOperation=oa.blend||"source-over"}function Ya(Y,oa){return null==Y?oa:Y}function Ca(Y,oa){const Oa=oa.length;for(let Va=0;Va<Oa;++Va)Y.addColorStop(oa[Va].offset,oa[Va].color);return Y}function ua(Y,oa,Oa){const Va=Oa.width(),xb=Oa.height();if("radial"===oa.gradient)Y=Y.createRadialGradient(Oa.x1+Ya(oa.x1,.5)*Va,Oa.y1+Ya(oa.y1,.5)*
xb,Math.max(Va,xb)*Ya(oa.r1,0),Oa.x1+Ya(oa.x2,.5)*Va,Oa.y1+Ya(oa.y2,.5)*xb,Math.max(Va,xb)*Ya(oa.r2,.5));else{const Sb=Ya(oa.x1,0),Zb=Ya(oa.y1,0),qc=Ya(oa.x2,1),Ec=Ya(oa.y2,0);if(Sb===qc||Zb===Ec||Va===xb)Y=Y.createLinearGradient(Oa.x1+Sb*Va,Oa.y1+Zb*xb,Oa.x1+qc*Va,Oa.y1+Ec*xb);else{Oa=N.canvas(Math.ceil(Va),Math.ceil(xb));const ed=Oa.getContext("2d");ed.scale(Va,xb);ed.fillStyle=Ca(ed.createLinearGradient(Sb,Zb,qc,Ec),oa.stops);ed.fillRect(0,0,Va,xb);return Y.createPattern(Oa,"no-repeat")}}return Ca(Y,
oa.stops)}function U(Y,oa,Oa){Oa*=null==oa.fillOpacity?1:oa.fillOpacity;return 0<Oa?(Y.globalAlpha=Oa,oa=(Oa=oa.fill)&&Oa.gradient?ua(Y,Oa,oa.bounds):Oa,Y.fillStyle=oa,!0):!1}function W(Y,oa,Oa){var Va=null!=(Va=oa.strokeWidth)?Va:1;if(0>=Va)return!1;Oa*=null==oa.strokeOpacity?1:oa.strokeOpacity;return 0<Oa?(Y.globalAlpha=Oa,Oa=(Oa=oa.stroke)&&Oa.gradient?ua(Y,Oa,oa.bounds):Oa,Y.strokeStyle=Oa,Y.lineWidth=Va,Y.lineCap=oa.strokeCap||"butt",Y.lineJoin=oa.strokeJoin||"miter",Y.miterLimit=oa.strokeMiterLimit||
10,Y.setLineDash&&(Y.setLineDash(oa.strokeDash||yf),Y.lineDashOffset=oa.strokeDashOffset||0),!0):!1}function ba(Y,oa){return Y.zindex-oa.zindex||Y.index-oa.index}function ca(Y){if(!Y.zdirty)return Y.zitems;var oa=Y.items,Oa=[],Va;var xb=0;for(Va=oa.length;xb<Va;++xb){var Sb=oa[xb];Sb.index=xb;Sb.zindex&&Oa.push(Sb)}Y.zdirty=!1;return Y.zitems=Oa.sort(ba)}function ra(Y,oa){var Oa=Y.items,Va;if(Oa&&Oa.length){var xb=ca(Y);if(xb&&xb.length){Y=0;for(Va=Oa.length;Y<Va;++Y)Oa[Y].zindex||oa(Oa[Y]);Oa=xb}Y=
0;for(Va=Oa.length;Y<Va;++Y)oa(Oa[Y])}}function qa(Y,oa){var Oa=Y.items,Va,xb;if(!Oa||!Oa.length)return null;const Sb=ca(Y);Sb&&Sb.length&&(Oa=Sb);for(xb=Oa.length;0<=--xb;)if(Va=oa(Oa[xb]))return Va;if(Oa===Sb)for(Oa=Y.items,xb=Oa.length;0<=--xb;)if(!Oa[xb].zindex&&(Va=oa(Oa[xb])))return Va;return null}function Da(Y){return function(oa,Oa,Va){ra(Oa,xb=>{Va&&!Va.intersects(xb.bounds)||Ra(Y,oa,xb,xb)})}}function na(Y){return function(oa,Oa,Va){!Oa.items.length||Va&&!Va.intersects(Oa.bounds)||Ra(Y,
oa,Oa.items[0],Oa.items)}}function Ra(Y,oa,Oa,Va){var xb=null==Oa.opacity?1:Oa.opacity;0===xb||Y(oa,Va)||(Ta(oa,Oa),Oa.fill&&U(oa,Oa,xb)&&oa.fill(),Oa.stroke&&W(oa,Oa,xb)&&oa.stroke())}function db(Y){Y=Y||l.truthy;return function(oa,Oa,Va,xb,Sb,Zb){Va*=oa.pixelRatio;xb*=oa.pixelRatio;return qa(Oa,qc=>{const Ec=qc.bounds;if((!Ec||Ec.contains(Sb,Zb))&&Ec&&Y(oa,qc,Va,xb,Sb,Zb))return qc})}}function $a(Y,oa){return function(Oa,Va,xb,Sb){var Zb=Array.isArray(Va)?Va[0]:Va,qc=null==oa?Zb.fill:oa,Ec=Zb.stroke&&
Oa.isPointInStroke;if(Ec){var ed=Zb.strokeWidth;Zb=Zb.strokeCap;Oa.lineWidth=null!=ed?ed:1;Oa.lineCap=null!=Zb?Zb:"butt"}return Y(Oa,Va)?!1:qc&&Oa.isPointInPath(xb,Sb)||Ec&&Oa.isPointInStroke(xb,Sb)}}function Fa(Y,oa){return"translate("+Y+","+oa+")"}function Ga(Y,oa,Oa){function Va(xb,Sb){var Zb=Sb.x||0,qc=Sb.y||0,Ec=Sb.angle||0;xb.translate(Zb,qc);Ec&&xb.rotate(Ec*=Ye);xb.beginPath();oa(xb,Sb);Ec&&xb.rotate(-Ec);xb.translate(-Zb,-qc)}return{type:Y,tag:"path",nested:!1,attr:function(xb,Sb){var Zb=
Fa(Sb.x||0,Sb.y||0)+(Sb.angle?" rotate("+(Sb.angle+")"):"");xb("transform",Zb);xb("d",oa(null,Sb))},bound:function(xb,Sb){oa(V(xb,Sb.angle),Sb);return C(xb,Sb).translate(Sb.x||0,Sb.y||0)},draw:Da(Va),pick:db($a(Va)),isect:Oa||wa(Va)}}function pa(Y,oa,Oa){function Va(Sb,Zb){Sb.beginPath();oa(Sb,Zb)}const xb=$a(Va);return{type:Y,tag:"path",nested:!0,attr:function(Sb,Zb){Zb=Zb.mark.items;Zb.length&&Sb("d",oa(null,Zb))},bound:function(Sb,Zb){Zb=Zb.items;if(0===Zb.length)return Sb;oa(V(Sb),Zb);return C(Sb,
Zb[0])},draw:na(Va),pick:function(Sb,Zb,qc,Ec,ed,Zc){var Pd=Zb.items;Zb=Zb.bounds;if(!Pd||!Pd.length||Zb&&!Zb.contains(ed,Zc))return null;qc*=Sb.pixelRatio;Ec*=Sb.pixelRatio;return xb(Sb,Pd,qc,Ec)?Pd[0]:null},isect:Ha,tip:Oa}}function Ja(Y,oa){Y.beginPath();T(oa)?ja(Y,oa,0,0):Y.rect(0,0,oa.width||0,oa.height||0);Y.clip()}function Ua(Y){const oa=Ya(Y.strokeWidth,1);return null!=Y.strokeOffset?Y.strokeOffset:Y.stroke&&.5<oa&&1.5>oa?.5-Math.abs(oa-1):0}function jb(Y,oa,Oa,Va){const xb=Ua(oa);Y.beginPath();
ja(Y,oa,(Oa||0)+xb,(Va||0)+xb)}function Fb(Y,oa){var Oa=Y.image;if(!Oa||Y.url&&Y.url!==Oa.url)Oa={complete:!1,width:0,height:0},oa.loadImage(Y.url).then(Va=>{Y.image=Va;Y.image.url=Y.url});return Oa}function Xb(Y,oa){return null!=Y.width?Y.width:oa&&oa.width?!1!==Y.aspect&&Y.height?Y.height*oa.width/oa.height:oa.width:0}function nc(Y,oa){return null!=Y.height?Y.height:oa&&oa.height?!1!==Y.aspect&&Y.width?Y.width*oa.height/oa.width:oa.height:0}function md(Y,oa){return"center"===Y?oa/2:"right"===Y?
oa:0}function pc(Y,oa){return"middle"===Y?oa/2:"bottom"===Y?oa:0}function Hc(Y,oa){var Oa=oa.path;if(null==Oa)return!0;var Va=oa.x||0,xb=oa.y||0,Sb=oa.scaleX||1,Zb=oa.scaleY||1,qc=(oa.angle||0)*Ye,Ec=oa.pathCache;Ec&&Ec.path===Oa||((oa.pathCache=Ec=d(Oa)).path=Oa);qc&&Y.rotate&&Y.translate?(Y.translate(Va,xb),Y.rotate(qc),a(Y,Ec,0,0,Sb,Zb),Y.rotate(-qc),Y.translate(-Va,-xb)):a(Y,Ec,Va,xb,Sb,Zb)}function mb(Y,oa){Y.beginPath();ja(Y,oa)}function hc(Y,oa,Oa){if(oa.stroke&&W(Y,oa,Oa)){Oa=oa.x||0;var Va=
oa.y||0;var xb=null!=oa.x2?oa.x2:Oa;oa=null!=oa.y2?oa.y2:Va;Y.beginPath();Y.moveTo(Oa,Va);Y.lineTo(xb,oa);return!0}return!1}function jc(Y){Gd.width=Y&&mf?Pc:rc}function rc(Y,oa){oa=Fd(Y,oa);Y=Uc(Y);return~~(.8*oa.length*Y)}function Pc(Y,oa){return 0>=Uc(Y)||!(oa=Fd(Y,oa))?0:sc(oa,vd(Y))}function sc(Y,oa){const Oa=`(${oa}) ${Y}`;let Va=je.get(Oa);void 0===Va&&(mf.font=oa,Va=mf.measureText(Y).width,je.set(Oa,Va));return Va}function Uc(Y){return null!=Y.fontSize?+Y.fontSize||0:11}function Sc(Y){return null!=
Y.lineHeight?Y.lineHeight:Uc(Y)+2}function Lc(Y){Y=Y.lineBreak&&Y.text&&!l.isArray(Y.text)?Y.text.split(Y.lineBreak):Y.text;return l.isArray(Y)?1<Y.length?Y:Y[0]:Y}function Fd(Y,oa){oa=null==oa?"":(oa+"").trim();if(0<Y.limit&&oa.length){var Oa=+Y.limit,Va=ge(Y);if(!(Va(oa)<Oa)){var xb=Y.ellipsis||"",Sb="rtl"===Y.dir;Y=0;var Zb=oa.length;Oa-=Va(xb);if(Sb){for(;Y<Zb;)Sb=Y+Zb>>>1,Va(oa.slice(Sb))>Oa?Y=Sb+1:Zb=Sb;oa=xb+oa.slice(Y)}else{for(;Y<Zb;)Sb=1+(Y+Zb>>>1),Va(oa.slice(0,Sb))<Oa?Y=Sb:Zb=Sb-1;oa=
oa.slice(0,Y)+xb}}}return oa}function ge(Y){if(Gd.width===Pc){const oa=vd(Y);return Oa=>sc(Oa,oa)}{const oa=Uc(Y);return Oa=>~~(.8*Oa.length*oa)}}function wd(Y,oa){Y=Y.font;return(oa&&Y?String(Y).replace(/"/g,"'"):Y)||"sans-serif"}function vd(Y,oa){return(Y.fontStyle?Y.fontStyle+" ":"")+(Y.fontVariant?Y.fontVariant+" ":"")+(Y.fontWeight?Y.fontWeight+" ":"")+Uc(Y)+"px "+wd(Y,oa)}function Wd(Y){var oa=Y.baseline,Oa=Uc(Y);return Math.round("top"===oa?.79*Oa:"middle"===oa?.3*Oa:"bottom"===oa?-.21*Oa:
"line-top"===oa?.29*Oa+.5*Sc(Y):"line-bottom"===oa?.29*Oa-.5*Sc(Y):0)}function Pb(Y){var oa=Y.x||0,Oa=Y.y||0,Va=Y.radius||0;Va&&(Y=(Y.theta||0)-Xf,oa+=Va*Math.cos(Y),Oa+=Va*Math.sin(Y));$d.x1=oa;$d.y1=Oa;return $d}function gc(Y,oa,Oa){var Va=Gd.height(oa),xb=oa.align,Sb=Pb(oa),Zb=Sb.x1;Sb=Sb.y1;var qc=oa.dx||0,Ec=(oa.dy||0)+Wd(oa)-Math.round(.8*Va),ed=Lc(oa);l.isArray(ed)?(Va+=Sc(oa)*(ed.length-1),ed=ed.reduce((Zc,Pd)=>Math.max(Zc,Gd.width(oa,Pd)),0)):ed=Gd.width(oa,ed);"center"===xb?qc-=ed/2:"right"===
xb&&(qc-=ed);Y.set(qc+=Zb,Ec+=Sb,qc+ed,Ec+Va);if(oa.angle&&!Oa)Y.rotate(oa.angle*Ye,Zb,Sb);else if(2===Oa)return Y.rotatedPoints(oa.angle*Ye,Zb,Sb);return Y}function Eb(Y,oa,Oa){var Va=Qe[Y.mark.marktype];oa=oa||Va.bound;Va.nested&&(Y=Y.mark);return oa(Y.bounds||(Y.bounds=new ia),Y,Oa)}function zc(Y,oa,Oa){var Va=Qe[Y.marktype],xb=Va.bound,Sb=Y.items,Zb=Sb&&Sb.length;if(Va.nested)return Zb?Y=Sb[0]:(Uf.mark=Y,Y=Uf),Oa=Eb(Y,xb,Oa),oa=oa&&oa.union(Oa)||Oa;oa=oa||Y.bounds&&Y.bounds.clear()||new ia;if(Zb)for(Va=
0,Zb=Sb.length;Va<Zb;++Va)oa.union(Eb(Sb[Va],xb,Oa));return Y.bounds=oa}function Vc(Y,oa){return JSON.stringify(Y,ne,oa)}function Ed(Y){Y="string"===typeof Y?JSON.parse(Y):Y;return Vd(Y)}function Vd(Y){var oa=Y.marktype,Oa=Y.items,Va;if(Oa){var xb=0;for(Va=Oa.length;xb<Va;++xb){var Sb=oa?"mark":"group";Oa[xb][Sb]=Y;Oa[xb].zindex&&(Oa[xb][Sb].zdirty=!0);"group"===(oa||Sb)&&Vd(Oa[xb])}}oa&&zc(Y);return Y}function Ka(Y){arguments.length?this.root=Ed(Y):(this.root=eb({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new Z(this.root)])}function eb(Y,oa){oa={bounds:new ia,clip:!!Y.clip,group:oa,interactive:!1===Y.interactive?!1:!0,items:[],marktype:Y.marktype,name:Y.name||void 0,role:Y.role||void 0,zindex:Y.zindex||0};null!=Y.aria&&(oa.aria=Y.aria);Y.description&&(oa.description=Y.description);return oa}function wb(Y,oa,Oa){!Y&&"undefined"!==typeof document&&document.createElement&&(Y=document);return Y?Oa?Y.createElementNS(Oa,oa):Y.createElement(oa):null}function Hb(Y,oa){oa=oa.toLowerCase();
Y=Y.childNodes;for(var Oa=0,Va=Y.length;Oa<Va;++Oa)if(Y[Oa].tagName.toLowerCase()===oa)return Y[Oa]}function ac(Y,oa,Oa,Va){oa=Y.childNodes[oa];if(!oa||oa.tagName.toLowerCase()!==Oa.toLowerCase()){var xb=oa||null;oa=wb(Y.ownerDocument,Oa,Va);Y.insertBefore(oa,xb)}return oa}function Lb(Y,oa){for(var Oa=Y.childNodes,Va=Oa.length;Va>oa;)Y.removeChild(Oa[--Va]);return Y}function Ac(Y){return"mark-"+Y.marktype+(Y.role?" role-"+Y.role:"")+(Y.name?" "+Y.name:"")}function tc(Y,oa){const Oa=oa.getBoundingClientRect();
return[Y.clientX-Oa.left-(oa.clientLeft||0),Y.clientY-Oa.top-(oa.clientTop||0)]}function pb(Y,oa){this._active=null;this._handlers={};this._loader=Y||x.loader();this._tooltip=oa||Bb}function Bb(Y,oa,Oa,Va){Y.element().setAttribute("title",Va||"")}function Ub(Y){this._bgcolor=this._el=null;this._loader=new P(Y)}function mc(Y,oa){pb.call(this,Y,oa);this._touch=this._down=null;this._first=!0;this._events={}}function Bc(Y,oa){("touchstart"===oa||"touchmove"===oa||"touchend"===oa?["touchstart","touchmove",
"touchend"]:[oa]).forEach(Oa=>Cc(Y,Oa))}function Cc(Y,oa){const Oa=Y.canvas();Oa&&!Y._events[oa]&&(Y._events[oa]=1,Oa.addEventListener(oa,Y[oa]?Va=>Y[oa](Va):Va=>Y.fire(oa,Va)))}function Xc(Y,oa,Oa){return function(Va){const xb=this._active,Sb=this.pickEvent(Va);Sb!==xb&&(xb&&xb.exit||this.fire(Oa,Va),this._active=Sb,this.fire(oa,Va));this.fire(Y,Va)}}function Qb(Y){return function(oa){this.fire(Y,oa);this._active=null}}function Ic(Y){Ub.call(this,Y);this._options={};this._redraw=!1;this._dirty=new ia;
this._tempb=new ia}function Dc(Y,oa){pb.call(this,Y,oa);const Oa=this;Oa._hrefHandler=Bg(Oa,(Va,xb)=>{xb&&xb.href&&Oa.handleHref(Va,xb,xb.href)});Oa._tooltipHandler=Bg(Oa,(Va,xb)=>{Oa.handleTooltip(Va,xb,"mouseout"!==Va.type)})}function uc(Y,oa){var Oa=!1===oa.aria;Y("aria-hidden",Oa||void 0);if(Oa||null==oa.description)for(const Va in za)Y(za[Va],void 0);else Oa=oa.mark.marktype,Y("aria-label",oa.description),Y("role",oa.ariaRole||("group"===Oa?"graphics-object":"graphics-symbol")),Y("aria-roledescription",
oa.ariaRoleDescription||`${Oa} mark`)}function Tc(Y){return!1===Y.aria?{["aria-hidden"]:!0}:jg[Y.role]?null:ya[Y.role]?ld(Y,ya[Y.role]):ad(Y)}function ad(Y){const oa=Y.marktype,Oa="group"===oa||"text"===oa||Y.items.some(Va=>null!=Va.description&&!1!==Va.aria);return Lf(Oa?"graphics-object":"graphics-symbol",`${oa} mark container`,Y.description)}function ld(Y,oa){try{const Oa=Y.items[0],Va=oa.caption||(()=>"");return Lf(oa.role||"graphics-symbol",oa.desc,Oa.description||Va(Oa))}catch(Oa){return null}}
function Cd(Y){try{return l.array(l.peek(Y.items).items[0].text).join(" ")}catch(oa){return null}}function Dd(Y){Y=Y.map(oa=>oa+("fill"===oa||"stroke"===oa?" color":""));return 2>Y.length?Y[0]:Y.slice(0,-1).join(", ")+" and "+l.peek(Y)}function Ud(){let Y="",oa="",Oa="";const Va=[],xb=(Zb,qc)=>{null!=qc&&(oa+=` ${Zb}="${Na(qc).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Sb},Sb={open(Zb,...qc){oa&&(Y+=`${oa}>${Oa}`,oa=Oa="");Va.push(Zb);
oa="\x3c"+Zb;for(const Ec of qc)for(const ed in Ec)xb(ed,Ec[ed]);return Sb},close(){const Zb=Va.pop();Y=oa?Y+(oa+(Oa?`>${Oa}</${Zb}>`:"/\x3e")):Y+`</${Zb}>`;oa=Oa="";return Sb},attr:xb,text:Zb=>(Oa+=Na(Zb),Sb),toString:()=>Y};return Sb}function ae(Y,oa){Y.open(oa.tagName);if(oa.hasAttributes()){var Oa=oa.attributes,Va=Oa.length;for(var xb=0;xb<Va;++xb)Y.attr(Oa[xb].name,Oa[xb].value)}if(oa.hasChildNodes())for(oa=oa.childNodes,Oa=oa.length,Va=0;Va<Oa;Va++)xb=oa[Va],3===xb.nodeType?Y.text(xb.nodeValue):
ae(Y,xb);return Y.close()}function oe(Y){Ub.call(this,Y);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function De(Y,oa){for(;Y&&Y.dirty!==oa;Y=Y.mark.group)if(Y.dirty=oa,Y.mark&&Y.mark.dirty!==oa)Y.mark.dirty=oa;else break}function fe(Y,oa,Oa){oa=oa.lastChild.previousSibling;let Va,xb=0;ra(Oa,Sb=>{Va=Y.mark(oa,Sb,Va);++xb});Lb(oa,1+xb)}function ef(Y,oa,Oa,Va,xb){let Sb=Y._svg;if(!Sb){var Zb=oa.ownerDocument;Sb=wb(Zb,Va,qb);Y._svg=Sb;Y.mark&&(Sb.__data__=Y,Sb.__values__={fill:"default"},
"g"===Va&&(Va=wb(Zb,"path",qb),Sb.appendChild(Va),Va.__data__=Y,Va=wb(Zb,"g",qb),Sb.appendChild(Va),Va.__data__=Y,Zb=wb(Zb,"path",qb),Sb.appendChild(Zb),Zb.__data__=Y,Zb.__values__={fill:"default"}))}(Sb.ownerSVGElement!==xb||Sb.parentNode&&1<Sb.parentNode.childNodes.length&&Sb.previousSibling!=Oa)&&oa.insertBefore(Sb,Oa?Oa.nextSibling:oa.firstChild);return Sb}function Ze(Y,oa,Oa){if(oa!==Kb[Y]){if(Oa){var Va=Ab;null!=oa?Va.setAttributeNS(Oa,Y,oa):Va.removeAttributeNS(Oa,Y)}else he(Ab,Y,oa);Kb[Y]=
oa}}function df(Y,oa,Oa){Oa!==Kb[oa]&&(null==Oa?Y.style.removeProperty(oa):Y.style.setProperty(oa,Oa+""),Kb[oa]=Oa)}function Zd(Y,oa){for(const Oa in oa)he(Y,Oa,oa[Oa])}function he(Y,oa,Oa){null!=Oa?Y.setAttribute(oa,Oa):Y.removeAttribute(oa)}function zf(){let Y;return"undefined"===typeof window?"":(Y=window.location).hash?Y.href.slice(0,-Y.hash.length):Y.href}function Ue(Y){Ub.call(this,Y);this._text=null;this._defs={gradient:{},clipping:{}}}function Nf(Y,oa,Oa,Va,xb){if(null==oa)return Y;"bgrect"===
Va&&!1===Oa.interactive&&(Y["pointer-events"]="none");if("bgfore"===Va&&(!1===Oa.interactive&&(Y["pointer-events"]="none"),Y.display="none",null!==oa.fill))return Y;"image"===Va&&!1===oa.smooth&&(Y.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===Va&&(Y["font-family"]=wd(oa),Y["font-size"]=Uc(oa)+"px",Y["font-style"]=oa.fontStyle,Y["font-variant"]=oa.fontVariant,Y["font-weight"]=oa.fontWeight);for(const Sb in fb)Oa=oa[Sb],Va=fb[Sb],("transparent"!==Oa||"fill"!==Va&&"stroke"!==
Va)&&null!=Oa&&(Oa&&Oa.gradient&&(Oa=u(Oa,xb.gradient,"")),Y[Va]=Oa);return Y}function me(Y,oa,Oa,Va){if(Y.bounds&&oa.intersects(Y.bounds)&&("group"===Y.marktype||!1!==Y.interactive&&(!Oa||Oa(Y)))){const Sb=Y.items;var xb=Y.marktype;Y=Sb.length;let Zb=0;if("group"===xb)for(;Zb<Y;++Zb)te(Sb[Zb],oa,Oa,Va);else for(Oa=Qe[xb].isect;Zb<Y;++Zb)xb=Sb[Zb],kf(xb,oa,Oa)&&Va.push(xb)}return Va}function te(Y,oa,Oa,Va){Oa&&Oa(Y.mark)&&kf(Y,oa,Qe.group.isect)&&Va.push(Y);const xb=Y.items,Sb=xb&&xb.length;if(Sb){const Zb=
Y.x||0;Y=Y.y||0;oa.translate(-Zb,-Y);for(let qc=0;qc<Sb;++qc)me(xb[qc],oa,Oa,Va);oa.translate(Zb,Y)}return Va}function kf(Y,oa,Oa){const Va=Y.bounds;return oa.encloses(Va)||oa.intersects(Va)&&Oa(Y,oa)}function we(Y,oa,Oa){return Y===oa?!0:"path"===Oa?Od(Y,oa):Y instanceof Date&&oa instanceof Date?+Y===+oa:l.isNumber(Y)&&l.isNumber(oa)?1E-9>=Math.abs(Y-oa):Y&&oa&&(l.isObject(Y)||l.isObject(oa))?Xd(Y,oa):Y==oa}function Od(Y,oa){return we(d(Y),d(oa))}function Xd(Y,oa){var Oa=Object.keys(Y),Va=Object.keys(oa),
xb;if(Oa.length!==Va.length)return!1;Oa.sort();Va.sort();for(xb=Oa.length-1;0<=xb;xb--)if(Oa[xb]!=Va[xb])return!1;for(xb=Oa.length-1;0<=xb;xb--)if(Va=Oa[xb],!we(Y[Va],oa[Va],Va))return!1;return typeof Y===typeof oa}let Be=0;const jf={basis:{curve:w.curveBasis},"basis-closed":{curve:w.curveBasisClosed},"basis-open":{curve:w.curveBasisOpen},bundle:{curve:w.curveBundle,tension:"beta",value:.85},cardinal:{curve:w.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:w.curveCardinalOpen,tension:"tension",
value:0},"cardinal-closed":{curve:w.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:w.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:w.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:w.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:w.curveLinear},"linear-closed":{curve:w.curveLinearClosed},monotone:{horizontal:w.curveMonotoneY,vertical:w.curveMonotoneX},natural:{curve:w.curveNatural},step:{curve:w.curveStep},"step-after":{curve:w.curveStepAfter},
"step-before":{curve:w.curveStepBefore}},Ge={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Td=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Ye=Math.PI/180,Xf=Math.PI/2,Gc=2*Math.PI,xe=Math.sqrt(3)/2;var le={},kc={},Fe=[].join;const ue=["l",0,0,0,0,0,0,0],lf={circle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(oa,0);Y.arc(0,0,oa,0,Gc)}},cross:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=oa/2.5;Y.moveTo(-oa,-Oa);Y.lineTo(-oa,Oa);Y.lineTo(-Oa,Oa);Y.lineTo(-Oa,oa);Y.lineTo(Oa,
oa);Y.lineTo(Oa,Oa);Y.lineTo(oa,Oa);Y.lineTo(oa,-Oa);Y.lineTo(Oa,-Oa);Y.lineTo(Oa,-oa);Y.lineTo(-Oa,-oa);Y.lineTo(-Oa,-Oa);Y.closePath()}},diamond:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(0,-oa);Y.lineTo(oa,0);Y.lineTo(0,oa);Y.closePath()}},square:{draw:function(Y,oa){oa=Math.sqrt(oa);var Oa=-oa/2;Y.rect(Oa,Oa,oa,oa)}},arrow:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=oa/7,Va=oa/2.5,xb=oa/8;Y.moveTo(-Oa,oa);Y.lineTo(Oa,oa);Y.lineTo(Oa,-xb);Y.lineTo(Va,-xb);Y.lineTo(0,-oa);
Y.lineTo(-Va,-xb);Y.lineTo(-Oa,-xb);Y.closePath()}},wedge:{draw:function(Y,oa){var Oa=Math.sqrt(oa)/2;oa=xe*Oa;var Va=oa-.5773502691896257*Oa;Oa/=4;Y.moveTo(0,-oa-Va);Y.lineTo(-Oa,oa-Va);Y.lineTo(Oa,oa-Va);Y.closePath()}},triangle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa,Va=Oa-.5773502691896257*oa;Y.moveTo(0,-Oa-Va);Y.lineTo(-oa,Oa-Va);Y.lineTo(oa,Oa-Va);Y.closePath()}},"triangle-up":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(0,-Oa);Y.lineTo(-oa,Oa);Y.lineTo(oa,Oa);
Y.closePath()}},"triangle-down":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(0,Oa);Y.lineTo(-oa,-Oa);Y.lineTo(oa,-Oa);Y.closePath()}},"triangle-right":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(Oa,0);Y.lineTo(-Oa,-oa);Y.lineTo(-Oa,oa);Y.closePath()}},"triangle-left":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(-Oa,0);Y.lineTo(Oa,-oa);Y.lineTo(Oa,oa);Y.closePath()}},stroke:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(oa,0)}}};
var Yf={};const If=Y=>Y.x||0,Sf=Y=>Y.y||0,Bf=Y=>!1!==Y.defined,qe=w.arc().startAngle(Y=>Y.startAngle||0).endAngle(Y=>Y.endAngle||0).padAngle(Y=>Y.padAngle||0).innerRadius(Y=>Y.innerRadius||0).outerRadius(Y=>Y.outerRadius||0).cornerRadius(Y=>Y.cornerRadius||0),yc=w.area().x(If).y1(Sf).y0(Y=>(Y.y||0)+(Y.height||0)).defined(Bf),xa=w.area().y(Sf).x1(If).x0(Y=>(Y.x||0)+(Y.width||0)).defined(Bf),Ea=w.line().x(If).y(Sf).defined(Bf),Za=G().x(If).y(Sf).width(Y=>Y.width||0).height(Y=>Y.height||0).cornerRadius(Y=>
R(Y.cornerRadiusTopLeft,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusTopRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomLeft,Y.cornerRadius)||0),Cb=w.symbol().type(Y=>n(Y.shape||"circle")).size(Y=>R(Y.size,64)),ub=K().x(If).y(Sf).defined(Bf).size(Y=>Y.size||1);var Yb=1;ia.prototype={clone(){return new ia(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===
+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(Y){return this.x1===Y.x1&&this.y1===Y.y1&&this.x2===Y.x2&&this.y2===Y.y2},set(Y,oa,Oa,Va){Oa<Y?(this.x2=Y,this.x1=Oa):(this.x1=Y,this.x2=Oa);Va<oa?(this.y2=oa,this.y1=Va):(this.y1=oa,this.y2=Va);return this},add(Y,oa){Y<this.x1&&(this.x1=Y);oa<this.y1&&(this.y1=oa);Y>this.x2&&(this.x2=Y);oa>this.y2&&(this.y2=oa);return this},expand(Y){this.x1-=Y;this.y1-=Y;this.x2+=Y;this.y2+=Y;return this},
round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(Y){this.x1*=Y;this.y1*=Y;this.x2*=Y;this.y2*=Y;return this},translate(Y,oa){this.x1+=Y;this.x2+=Y;this.y1+=oa;this.y2+=oa;return this},rotate(Y,oa,Oa){Y=this.rotatedPoints(Y,oa,Oa);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(Y,oa,Oa){var {x1:Va,y1:xb,x2:Sb,y2:Zb}=this,qc=Math.cos(Y);Y=Math.sin(Y);var Ec=oa-oa*qc+
Oa*Y;oa=Oa-oa*Y-Oa*qc;return[qc*Va-Y*xb+Ec,Y*Va+qc*xb+oa,qc*Va-Y*Zb+Ec,Y*Va+qc*Zb+oa,qc*Sb-Y*xb+Ec,Y*Sb+qc*xb+oa,qc*Sb-Y*Zb+Ec,Y*Sb+qc*Zb+oa]},union(Y){Y.x1<this.x1&&(this.x1=Y.x1);Y.y1<this.y1&&(this.y1=Y.y1);Y.x2>this.x2&&(this.x2=Y.x2);Y.y2>this.y2&&(this.y2=Y.y2);return this},intersect(Y){Y.x1>this.x1&&(this.x1=Y.x1);Y.y1>this.y1&&(this.y1=Y.y1);Y.x2<this.x2&&(this.x2=Y.x2);Y.y2<this.y2&&(this.y2=Y.y2);return this},encloses(Y){return Y&&this.x1<=Y.x1&&this.x2>=Y.x2&&this.y1<=Y.y1&&this.y2>=Y.y2},
alignsWith(Y){return Y&&(this.x1==Y.x1||this.x2==Y.x2||this.y1==Y.y1||this.y2==Y.y2)},intersects(Y){return Y&&!(this.x2<Y.x1||this.x1>Y.x2||this.y2<Y.y1||this.y1>Y.y2)},contains(Y,oa){return!(Y<this.x1||Y>this.x2||oa<this.y1||oa>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};l.inherits(Z,la);P.prototype={pending(){return this._pending},sanitizeURL(Y){const oa=this;oa._pending+=1;return oa._loader.sanitize(Y,{context:"href"}).then(Oa=>{--oa._pending;return Oa}).catch(()=>
{--oa._pending;return null})},loadImage(Y){const oa=this,Oa=N.image();oa._pending+=1;return oa._loader.sanitize(Y,{context:"image"}).then(Va=>{const xb=Va.href;if(!xb||!Oa)throw{url:xb};const Sb=new Oa;Va=l.hasOwnProperty(Va,"crossOrigin")?Va.crossOrigin:"anonymous";null!=Va&&(Sb.crossOrigin=Va);Sb.onload=()=>{--oa._pending};Sb.onerror=()=>{--oa._pending};Sb.src=xb;return Sb}).catch(Va=>{--oa._pending;return{complete:!1,width:0,height:0,src:Va&&Va.url||""}})},ready(){const Y=this;return new Promise(oa=>
{function Oa(Va){Y.pending()?setTimeout(()=>{Oa(!0)},10):oa(Va)}Oa(!1)})}};const $b=Gc-1E-8;let Oc,gd,Mc,Nd,od,Id,jd,Qd;const ie=(Y,oa)=>{Y=gd=Y;oa=Mc=oa;return Oc.add(Y,oa)},Gf=Y=>Oc.add(Y,Oc.y1),tf=Y=>Oc.add(Oc.x1,Y),kd=(Y,oa)=>Oc.add(od*Y+jd*oa,Id*Y+Qd*oa),We=(Y,oa)=>ie(od*Y+jd*oa,Id*Y+Qd*oa),uf={beginPath(){},closePath(){},moveTo:We,lineTo:We,rect(Y,oa,Oa,Va){Nd?(kd(Y+Oa,oa),kd(Y+Oa,oa+Va),kd(Y,oa+Va),We(Y,oa)):(Oc.add(Y+Oa,oa+Va),ie(Y,oa))},quadraticCurveTo(Y,oa,Oa,Va){const xb=Id*Y+Qd*oa,Sb=
od*Oa+jd*Va;Oa=Id*Oa+Qd*Va;ha(gd,od*Y+jd*oa,Sb,Gf);ha(Mc,xb,Oa,tf);ie(Sb,Oa)},bezierCurveTo(Y,oa,Oa,Va,xb,Sb){const Zb=Id*Y+Qd*oa,qc=Id*Oa+Qd*Va,Ec=od*xb+jd*Sb;xb=Id*xb+Qd*Sb;aa(gd,od*Y+jd*oa,od*Oa+jd*Va,Ec,Gf);aa(Mc,Zb,qc,xb,tf);ie(Ec,xb)},arc(Y,oa,Oa,Va,xb,Sb){Va+=Nd;xb+=Nd;gd=Oa*Math.cos(xb)+Y;Mc=Oa*Math.sin(xb)+oa;if(Math.abs(xb-Va)>$b)Oc.add(Y-Oa,oa-Oa),Oc.add(Y+Oa,oa+Oa);else{const Zb=Ec=>Oc.add(Oa*Math.cos(Ec)+Y,Oa*Math.sin(Ec)+oa);let qc;Zb(Va);Zb(xb);if(xb!==Va)if(Va%=Gc,0>Va&&(Va+=Gc),xb%=
Gc,0>xb&&(xb+=Gc),xb<Va&&(Sb=!Sb,qc=Va,Va=xb,xb=qc),Sb)for(xb-=Gc,qc=Va-Va%Xf,Va=0;4>Va&&qc>xb;++Va,qc-=Xf)Zb(qc);else for(qc=Va-Va%Xf+Xf,Va=0;4>Va&&qc<xb;++Va,qc+=Xf)Zb(qc)}}};var mf=(mf=N.canvas(1,1))?mf.getContext("2d"):null;const Zf=new ia;var yf=[],Pe=Ga("arc",function(Y,oa){return qe.context(Y)(oa)}),nf=pa("area",function(Y,oa){const Oa=oa[0];return("horizontal"===Oa.orient?xa:yc).curve(g(Oa.interpolate||"linear",Oa.orient,Oa.tension)).context(Y)(oa)},function(Y,oa){oa="horizontal"===Y[0].orient?
oa[1]:oa[0];for(var Oa="horizontal"===Y[0].orient?"y":"x",Va=Y.length,xb=Infinity,Sb,Zb;0<=--Va;)!1!==Y[Va].defined&&(Zb=Math.abs(Y[Va][Oa]-oa),Zb<xb&&(xb=Zb,Sb=Y[Va]));return Sb});const Aa=$a(jb),Pa=$a(jb,!1),vb=$a(jb,!0);var Wb={type:"group",tag:"g",nested:!1,attr:function(Y,oa){Y("transform",Fa(oa.x||0,oa.y||0))},bound:function(Y,oa){if(!oa.clip&&oa.items){const Oa=oa.items,Va=Oa.length;for(let xb=0;xb<Va;++xb)Y.union(Oa[xb].bounds)}(oa.clip||oa.width||oa.height)&&!oa.noBound&&Y.add(0,0).add(oa.width||
0,oa.height||0);C(Y,oa);return Y.translate(oa.x||0,oa.y||0)},draw:function(Y,oa,Oa){ra(oa,Va=>{const xb=Va.x||0,Sb=Va.y||0,Zb=Va.strokeForeground,qc=null==Va.opacity?1:Va.opacity;(Va.stroke||Va.fill)&&qc&&(jb(Y,Va,xb,Sb),Ta(Y,Va),Va.fill&&U(Y,Va,qc)&&Y.fill(),Va.stroke&&!Zb&&W(Y,Va,qc)&&Y.stroke());Y.save();Y.translate(xb,Sb);Va.clip&&Ja(Y,Va);Oa&&Oa.translate(-xb,-Sb);ra(Va,Ec=>{this.draw(Y,Ec,Oa)});Oa&&Oa.translate(xb,Sb);Y.restore();Zb&&Va.stroke&&qc&&(jb(Y,Va,xb,Sb),Ta(Y,Va),W(Y,Va,qc)&&Y.stroke())})},
pick:function(Y,oa,Oa,Va,xb,Sb){if(oa.bounds&&!oa.bounds.contains(xb,Sb)||!oa.items)return null;const Zb=Oa*Y.pixelRatio,qc=Va*Y.pixelRatio;return qa(oa,Ec=>{let ed,Zc;var Pd=Ec.bounds;if(!Pd||Pd.contains(xb,Sb)){ed=Ec.x||0;Zc=Ec.y||0;Pd=ed+(Ec.width||0);var be=Zc+(Ec.height||0),pd=Ec.clip;if(!pd||!(xb<ed||xb>Pd||Sb<Zc||Sb>be)){Y.save();Y.translate(ed,Zc);ed=xb-ed;Zc=Sb-Zc;if(pd&&T(Ec)&&!vb(Y,Ec,Zb,qc))return Y.restore(),null;be=Ec.strokeForeground;if((pd=!1!==oa.interactive)&&be&&Ec.stroke&&Pa(Y,
Ec,Zb,qc))return Y.restore(),Ec;Pd=qa(Ec,Ad=>(!1!==Ad.interactive||"group"===Ad.marktype)&&Ad.bounds&&Ad.bounds.contains(ed,Zc)?this.pick(Ad,Oa,Va,ed,Zc):null);!Pd&&pd&&(Ec.fill||!be&&Ec.stroke)&&Aa(Y,Ec,Zb,qc)&&(Pd=Ec);Y.restore();return Pd||null}}})},isect:bb,content:function(Y,oa,Oa){oa=oa.clip?fa(Oa,oa,oa):null;Y("clip-path",oa)},background:function(Y,oa){Y("class","background");Y("aria-hidden",!0);{const Oa=Ua(oa);Y("d",ja(null,oa,Oa,Oa))}},foreground:function(Y,oa){Y("class","foreground");Y("aria-hidden",
!0);if(oa.strokeForeground){{const Oa=Ua(oa);Y("d",ja(null,oa,Oa,Oa))}}else Y("d","")}},Tb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},ic={type:"image",tag:"image",nested:!1,attr:function(Y,oa,Oa){var Va=Fb(oa,Oa);Oa=Xb(oa,Va);const xb=nc(oa,Va),Sb=(oa.x||0)-md(oa.align,Oa),Zb=(oa.y||0)-pc(oa.baseline,xb);Va=!Va.src&&Va.toDataURL?Va.toDataURL():Va.src||"";Y("href",Va,Tb["xmlns:xlink"],"xlink:href");Y("transform",Fa(Sb,Zb));Y("width",Oa);Y("height",
xb);Y("preserveAspectRatio",!1===oa.aspect?"none":"xMidYMid")},bound:function(Y,oa){var Oa=oa.image;const Va=Xb(oa,Oa);Oa=nc(oa,Oa);const xb=(oa.x||0)-md(oa.align,Va);oa=(oa.y||0)-pc(oa.baseline,Oa);return Y.set(xb,oa,xb+Va,oa+Oa)},draw:function(Y,oa,Oa){ra(oa,Va=>{if(!Oa||Oa.intersects(Va.bounds)){var xb=Fb(Va,this),Sb=Xb(Va,xb),Zb=nc(Va,xb),qc=(Va.x||0)-md(Va.align,Sb),Ec=(Va.y||0)-pc(Va.baseline,Zb),ed;if(!1!==Va.aspect){var Zc=xb.width/xb.height;var Pd=Va.width/Va.height;Zc===Zc&&Pd===Pd&&Zc!==
Pd&&(Pd<Zc?(Zc=Sb/Zc,Ec+=(Zb-Zc)/2,Zb=Zc):(Zc*=Zb,qc+=(Sb-Zc)/2,Sb=Zc))}if(xb.complete||xb.toDataURL)Ta(Y,Va),Y.globalAlpha=null!=(ed=Va.opacity)?ed:1,Y.imageSmoothingEnabled=!1!==Va.smooth,Y.drawImage(xb,qc,Ec,Sb,Zb)}})},pick:db(),isect:l.truthy,get:Fb,xOffset:md,yOffset:pc},oc=pa("line",function(Y,oa){const Oa=oa[0];return Ea.curve(g(Oa.interpolate||"linear",Oa.orient,Oa.tension)).context(Y)(oa)},function(Y,oa){for(var Oa=Math.pow(Y[0].strokeWidth||1,2),Va=Y.length,xb,Sb;0<=--Va;)if(!1!==Y[Va].defined&&
(xb=Y[Va].x-oa[0],Sb=Y[Va].y-oa[1],xb=xb*xb+Sb*Sb,xb<Oa))return Y[Va];return null}),fd={type:"path",tag:"path",nested:!1,attr:function(Y,oa){var Oa=oa.scaleY||1;1===(oa.scaleX||1)&&1===Oa||Y("vector-effect","non-scaling-stroke");Oa=Fa(oa.x||0,oa.y||0)+(oa.angle?" rotate("+(oa.angle+")"):"")+(oa.scaleX||oa.scaleY?" scale("+((oa.scaleX||1)+","+(oa.scaleY||1)+")"):"");Y("transform",Oa);Y("d",oa.path)},bound:function(Y,oa){return Hc(V(Y,oa.angle),oa)?Y.set(0,0,0,0):C(Y,oa,!0)},draw:Da(Hc),pick:db($a(Hc)),
isect:wa(Hc)},Wc={type:"rect",tag:"path",nested:!1,attr:function(Y,oa){Y("d",ja(null,oa))},bound:function(Y,oa){var Oa,Va;return C(Y.set(Oa=oa.x||0,Va=oa.y||0,Oa+oa.width||0,Va+oa.height||0),oa)},draw:Da(mb),pick:db($a(mb)),isect:bb},nd={type:"rule",tag:"line",nested:!1,attr:function(Y,oa){Y("transform",Fa(oa.x||0,oa.y||0));Y("x2",null!=oa.x2?oa.x2-(oa.x||0):0);Y("y2",null!=oa.y2?oa.y2-(oa.y||0):0)},bound:function(Y,oa){var Oa,Va;return C(Y.set(Oa=oa.x||0,Va=oa.y||0,null!=oa.x2?oa.x2:Oa,null!=oa.y2?
oa.y2:Va),oa)},draw:function(Y,oa,Oa){ra(oa,Va=>{if(!Oa||Oa.intersects(Va.bounds)){var xb=null==Va.opacity?1:Va.opacity;xb&&hc(Y,Va,xb)&&(Ta(Y,Va),Y.stroke())}})},pick:db(function(Y,oa,Oa,Va){return Y.isPointInStroke?hc(Y,oa,1)&&Y.isPointInStroke(Oa,Va):!1}),isect:kb},Kd=Ga("shape",function(Y,oa){return(oa.mark.shape||oa.shape).context(Y)(oa)}),de=Ga("symbol",function(Y,oa){return Cb.context(Y)(oa)},Ha);const je=l.lruCache();var Gd={height:Uc,measureWidth:Pc,estimateWidth:rc,width:rc,canvas:jc};jc(!0);
const Le={left:"start",center:"middle",right:"end"},$d=new ia;var Ie={type:"text",tag:"text",nested:!1,attr:function(Y,oa){var Oa=oa.dx||0,Va=(oa.dy||0)+Wd(oa),xb=Pb(oa),Sb=xb.x1;xb=xb.y1;var Zb=oa.angle||0;Y("text-anchor",Le[oa.align]||"start");if(Zb){if(oa=Fa(Sb,xb)+" rotate("+(Zb+")"),Oa||Va)oa+=" "+Fa(Oa,Va)}else oa=Fa(Sb+Oa,xb+Va);Y("transform",oa)},bound:gc,draw:function(Y,oa,Oa){ra(oa,Va=>{var xb=null==Va.opacity?1:Va.opacity,Sb;if(!(Oa&&!Oa.intersects(Va.bounds)||0===xb||0>=Va.fontSize||null==
Va.text||0===Va.text.length)){Y.font=vd(Va);Y.textAlign=Va.align||"left";var Zb=Pb(Va);var qc=Zb.x1;Zb=Zb.y1;Va.angle&&(Y.save(),Y.translate(qc,Zb),Y.rotate(Va.angle*Ye),qc=Zb=0);qc+=Va.dx||0;Zb+=(Va.dy||0)+Wd(Va);var Ec=Lc(Va);Ta(Y,Va);if(l.isArray(Ec)){var ed=Sc(Va);for(Sb=0;Sb<Ec.length;++Sb){var Zc=Fd(Va,Ec[Sb]);Va.fill&&U(Y,Va,xb)&&Y.fillText(Zc,qc,Zb);Va.stroke&&W(Y,Va,xb)&&Y.strokeText(Zc,qc,Zb);Zb+=ed}}else Zc=Fd(Va,Ec),Va.fill&&U(Y,Va,xb)&&Y.fillText(Zc,qc,Zb),Va.stroke&&W(Y,Va,xb)&&Y.strokeText(Zc,
qc,Zb);Va.angle&&Y.restore()}})},pick:db(function(Y,oa,Oa,Va,xb,Sb){if(0>=oa.fontSize)return!1;if(!oa.angle)return!0;Oa=Pb(oa);Y=Oa.x1;Oa=Oa.y1;Va=gc($d,oa,1);var Zb=-oa.angle*Ye;oa=Math.cos(Zb);Zb=Math.sin(Zb);return Va.contains(oa*xb-Zb*Sb+(Y-oa*Y+Zb*Oa),Zb*xb+oa*Sb+(Oa-Zb*Y-oa*Oa))}),isect:function(Y,oa){Y=gc($d,Y,2);return va(oa,Y[0],Y[1],Y[2],Y[3])||va(oa,Y[0],Y[1],Y[4],Y[5])||va(oa,Y[4],Y[5],Y[6],Y[7])||va(oa,Y[2],Y[3],Y[6],Y[7])}},Ce=pa("trail",function(Y,oa){return ub.context(Y)(oa)},function(Y,
oa){for(var Oa=Y.length,Va,xb;0<=--Oa;)if(!1!==Y[Oa].defined&&(Va=Y[Oa].x-oa[0],xb=Y[Oa].y-oa[1],xb=Va*Va+xb*xb,Va=Y[Oa].size||1,xb<Va*Va))return Y[Oa];return null}),Qe={arc:Pe,area:nf,group:Wb,image:ic,line:oc,path:fd,rect:Wc,rule:nd,shape:Kd,symbol:de,text:Ie,trail:Ce},Uf={mark:null};const ne="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Ka.prototype={toJSON(Y){return Vc(this.root,Y||0)},mark(Y,oa,Oa){oa=oa||this.root.items[0];Y=eb(Y,oa);oa.items[Oa]=Y;Y.zindex&&(Y.group.zdirty=!0);return Y}};pb.prototype={initialize(Y,oa,Oa){this._el=Y;this._obj=Oa||null;return this.origin(oa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(Y){return arguments.length?(this._origin=Y||[0,0],this):this._origin.slice()},scene(Y){if(!arguments.length)return this._scene;this._scene=Y;return this},on(){},off(){},_handlerIndex(Y,
oa,Oa){for(let Va=Y?Y.length:0;0<=--Va;)if(Y[Va].type===oa&&(!Oa||Y[Va].handler===Oa))return Va;return-1},handlers(Y){const oa=this._handlers,Oa=[];if(Y)Oa.push(...oa[this.eventName(Y)]);else for(const Va in oa)Oa.push(...oa[Va]);return Oa},eventName(Y){const oa=Y.indexOf(".");return 0>oa?Y:Y.slice(0,oa)},handleHref(Y,oa,Oa){this._loader.sanitize(Oa,{context:"href"}).then(Va=>{const xb=new MouseEvent(Y.type,Y),Sb=wb(null,"a");for(const Zb in Va)Sb.setAttribute(Zb,Va[Zb]);Sb.dispatchEvent(xb)}).catch(()=>
{})},handleTooltip(Y,oa,Oa){if(oa&&null!=oa.tooltip){var Va=this.canvas(),xb=this._origin,Sb=oa&&oa.mark,Zb;if(Sb&&(Zb=Qe[Sb.marktype]).tip){Va=tc(Y,Va);Va[0]-=xb[0];for(Va[1]-=xb[1];oa=oa.mark.group;)Va[0]-=oa.x||0,Va[1]-=oa.y||0;oa=Zb.tip(Sb.items,Va)}this._tooltip.call(this._obj,this,Y,oa,Oa&&oa&&oa.tooltip||null)}},getItemBoundingClientRect(Y){var oa=this.canvas();if(oa){var Oa=oa.getBoundingClientRect(),Va=this._origin,xb=Y.bounds;oa=xb.width();var Sb=xb.height(),Zb=xb.x1+Va[0]+Oa.left;for(Oa=
xb.y1+Va[1]+Oa.top;Y.mark&&(Y=Y.mark.group);)Zb+=Y.x||0,Oa+=Y.y||0;return{x:Zb,y:Oa,width:oa,height:Sb,left:Zb,top:Oa,right:Zb+oa,bottom:Oa+Sb}}}};Ub.prototype={initialize(Y,oa,Oa,Va,xb){this._el=Y;return this.resize(oa,Oa,Va,xb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(Y){if(0===arguments.length)return this._bgcolor;this._bgcolor=Y;return this},resize(Y,oa,Oa,Va){this._width=Y;this._height=oa;this._origin=Oa||[0,0];this._scale=Va||1;return this},dirty(){},
render(Y){const oa=this;oa._call=function(){oa._render(Y)};oa._call();oa._call=null;return oa},_render(){},renderAsync(Y){const oa=this.render(Y);return this._ready?this._ready.then(()=>oa):Promise.resolve(oa)},_load(Y,oa){var Oa=this;Y=Oa._loader[Y](oa);if(!Oa._ready){const Va=Oa._call;Oa._ready=Oa._loader.ready().then(xb=>{xb&&Va();Oa._ready=null})}return Y},sanitizeURL(Y){return this._load("sanitizeURL",Y)},loadImage(Y){return this._load("loadImage",Y)}};l.inherits(mc,pb,{initialize(Y,oa,Oa){this._canvas=
Y&&Hb(Y,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(Va=>Bc(this,Va));return pb.prototype.initialize.call(this,Y,oa,Oa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(Y){this.fire("mousewheel",Y)},mousemove:Xc("mousemove","mouseover","mouseout"),
dragover:Xc("dragover","dragenter","dragleave"),mouseout:Qb("mouseout"),dragleave:Qb("dragleave"),mousedown(Y){this._down=this._active;this.fire("mousedown",Y)},click(Y){this._down===this._active&&(this.fire("click",Y),this._down=null)},touchstart(Y){this._touch=this.pickEvent(Y.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",Y,!0)},touchmove(Y){this.fire("touchmove",Y,!0)},touchend(Y){this.fire("touchend",Y,!0);this._touch=null},fire(Y,oa,Oa){Oa=Oa?
this._touch:this._active;const Va=this._handlers[Y];oa.vegaType=Y;"click"===Y&&Oa&&Oa.href?this.handleHref(oa,Oa,Oa.href):("mousemove"===Y||"mouseout"===Y)&&this.handleTooltip(oa,Oa,"mouseout"!==Y);if(Va)for(let xb=0,Sb=Va.length;xb<Sb;++xb)Va[xb].handler.call(this._obj,oa,Oa)},on(Y,oa){const Oa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Oa],Y,oa)&&(Bc(this,Y),(Va[Oa]||(Va[Oa]=[])).push({type:Y,handler:oa}));return this},off(Y,oa){var Oa=this.eventName(Y);Oa=this._handlers[Oa];Y=
this._handlerIndex(Oa,Y,oa);0<=Y&&Oa.splice(Y,1);return this},pickEvent(Y){Y=tc(Y,this._canvas);const oa=this._origin;return this.pick(this._scene,Y[0],Y[1],Y[0]-oa[0],Y[1]-oa[1])},pick(Y,oa,Oa,Va,xb){const Sb=this.context();return Qe[Y.marktype].pick.call(this,Sb,Y,oa,Oa,Va,xb)}});var sf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Cf=Ub.prototype;l.inherits(Ic,Ub,{initialize(Y,oa,Oa,Va,xb,Sb){this._options=Sb||{};this._canvas=this._options.externalContext?null:N.canvas(1,1,this._options.type);
Y&&this._canvas&&(Lb(Y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Cf.initialize.call(this,Y,oa,Oa,Va,xb)},resize(Y,oa,Oa,Va){Cf.resize.call(this,Y,oa,Oa,Va);if(this._canvas){{Y=this._canvas;oa=this._width;Oa=this._height;Va=this._origin;var xb=this._scale,Sb=this._options.context;const qc="undefined"!==typeof HTMLElement&&Y instanceof HTMLElement&&null!=Y.parentNode,Ec=Y.getContext("2d");xb=qc?sf:xb;Y.width=oa*xb;Y.height=Oa*xb;for(var Zb in Sb)Ec[Zb]=Sb[Zb];qc&&
1!==xb&&(Y.style.width=oa+"px",Y.style.height=Oa+"px");Ec.pixelRatio=xb;Ec.setTransform(xb,0,0,xb,xb*Va[0],xb*Va[1])}}else(Zb=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),Zb.scale(this._scale,this._scale),Zb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(Y){const oa=this._tempb.clear().union(Y.bounds);
for(Y=Y.mark.group;Y;)oa.translate(Y.x||0,Y.y||0),Y=Y.mark.group;this._dirty.union(oa)},_render(Y){const oa=this.context(),Oa=this._origin,Va=this._width,xb=this._height,Sb=this._dirty;var Zb=(new ia).set(0,0,Va,xb).translate(-Oa[0],-Oa[1]);oa.save();this._redraw||Sb.empty()?Zb=(this._redraw=!1,Zb.expand(1)):(Zb=Zb.intersect(Sb),Zb.expand(1).round(),oa.pixelRatio%1&&Zb.scale(oa.pixelRatio).round().scale(1/oa.pixelRatio),Zb.translate(-(Oa[0]%1),-(Oa[1]%1)),oa.beginPath(),oa.rect(Zb.x1,Zb.y1,Zb.width(),
Zb.height()),oa.clip());this.clear(-Oa[0],-Oa[1],Va,xb);this.draw(oa,Y,Zb);oa.restore();Sb.clear();return this},draw(Y,oa,Oa){const Va=Qe[oa.marktype];if(oa.clip){var xb=oa.clip;Y.save();l.isFunction(xb)?(Y.beginPath(),xb(Y),Y.clip()):Ja(Y,oa.group)}Va.draw.call(this,Y,oa,Oa);oa.clip&&Y.restore()},clear(Y,oa,Oa,Va){const xb=this._options,Sb=this.context();"pdf"===xb.type||xb.externalContext||Sb.clearRect(Y,oa,Oa,Va);null!=this._bgcolor&&(Sb.fillStyle=this._bgcolor,Sb.fillRect(Y,oa,Oa,Va))}});const Bg=
(Y,oa)=>Oa=>{let Va=Oa.target.__data__;Va=Array.isArray(Va)?Va[0]:Va;Oa.vegaType=Oa.type;oa.call(Y._obj,Oa,Va)};l.inherits(Dc,pb,{initialize(Y,oa,Oa){let Va=this._svg;Va&&(Va.removeEventListener("click",this._hrefHandler),Va.removeEventListener("mousemove",this._tooltipHandler),Va.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=Va=Y&&Hb(Y,"svg"))Va.addEventListener("click",this._hrefHandler),Va.addEventListener("mousemove",this._tooltipHandler),Va.addEventListener("mouseout",this._tooltipHandler);
return pb.prototype.initialize.call(this,Y,oa,Oa)},canvas(){return this._svg},on(Y,oa){const Oa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Oa],Y,oa)&&(Y={type:Y,handler:oa,listener:Bg(this,oa)},(Va[Oa]||(Va[Oa]=[])).push(Y),this._svg&&this._svg.addEventListener(Oa,Y.listener));return this},off(Y,oa){const Oa=this.eventName(Y),Va=this._handlers[Oa];Y=this._handlerIndex(Va,Y,oa);0<=Y&&(this._svg&&this._svg.removeEventListener(Oa,Va[Y].listener),Va.splice(Y,1));return this}});const Lf=
(Y,oa,Oa)=>({["role"]:Y,["aria-roledescription"]:oa,["aria-label"]:Oa||void 0}),jg=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),ya={axis:{desc:"axis",caption:function(Y){var oa=Y.datum;const Oa=Y.orient,Va=oa.title?Cd(Y):null;var xb=Y.context;oa=xb.scales[oa.scale].value;xb=xb.dataflow.locale();const Sb=oa.type;return`${"left"===Oa||"right"===Oa?"Y":"X"}-axis`+(Va?` titled '${Va}'`:
"")+` for a ${v.isDiscrete(Sb)?"discrete":Sb} scale`+` with ${v.domainCaption(xb,oa,Y)}`}},legend:{desc:"legend",caption:function(Y){var oa=Y.datum;const Oa=oa.title?Cd(Y):null,Va=`${oa.type||""} legend`.trim();var xb=oa.scales;oa=Object.keys(xb);var Sb=Y.context;xb=Sb.scales[xb[oa[0]]].value;Sb=Sb.dataflow.locale();return(Va.length?Va[0].toUpperCase()+Va.slice(1):Va)+(Oa?` titled '${Oa}'`:"")+` for ${Dd(oa)}`+` with ${v.domainCaption(Sb,xb,Y)}`}},"title-text":{desc:"title",caption:Y=>`Title text '${l.array(Y.text).join(" ")}'`},
"title-subtitle":{desc:"subtitle",caption:Y=>`Subtitle text '${l.array(Y.text).join(" ")}'`}},za={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Na=Y=>(Y+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Sa=Y=>ae(Ud(),Y)+"",fb={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",
strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},hb={fill:"none","stroke-miterlimit":10},qb=Tb.xmlns,Db=Ub.prototype;l.inherits(oe,Ub,{initialize(Y,oa,Oa,Va,xb){this._defs={};this._clearDefs();Y&&(this._svg=ac(Y,0,"svg",qb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",qb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Tb["xmlns:xlink"]),this._svg.setAttribute("version",Tb.version),this._svg.setAttribute("class","marks"),Lb(Y,
1),this._root=ac(this._svg,0,"g",qb),Zd(this._root,hb),Lb(this._svg,1));this.background(this._bgcolor);return Db.initialize.call(this,Y,oa,Oa,Va,xb)},background(Y){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",Y);return Db.background.apply(this,arguments)},resize(Y,oa,Oa,Va){Db.resize.call(this,Y,oa,Oa,Va);this._svg&&(Zd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",
`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const Y=this._svg,oa=this._bgcolor;if(!Y)return null;let Oa;oa&&(Y.removeAttribute("style"),Oa=ac(Y,0,"rect",qb),Zd(Oa,{width:this._width,height:this._height,fill:oa}));const Va=Sa(Y);oa&&(Y.removeChild(Oa),this._svg.style.setProperty("background-color",oa));return Va},_render(Y){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,Y),Lb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;
return this},dirty(Y){Y.dirty!==this._dirtyID&&(Y.dirty=this._dirtyID,this._dirty.push(Y))},isDirty(Y){return this._dirtyAll||!Y._svg||Y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const Y=this._dirty;if(!Y.length||!this._dirtyID)return!0;const oa=++this._dirtyID;let Oa;let Va,xb,Sb,Zb;Sb=0;for(Zb=Y.length;Sb<Zb;++Sb){Oa=Y[Sb];var qc=Oa.mark;qc.marktype!==Va&&(Va=qc.marktype,xb=Qe[Va]);qc.zdirty&&qc.dirty!==oa&&(this._dirtyAll=!1,De(Oa,oa),qc.items.forEach(Ec=>{Ec.dirty=oa}));qc.zdirty||
(Oa.exit?(xb.nested&&qc.items.length?(qc=qc.items[0],qc._svg&&this._update(xb,qc._svg,qc)):Oa._svg&&(qc=Oa._svg.parentNode)&&qc.removeChild(Oa._svg),Oa._svg=null):(Oa=xb.nested?qc.items[0]:Oa,Oa._update!==oa&&(Oa._svg&&Oa._svg.ownerSVGElement?this._update(xb,Oa._svg,Oa):(this._dirtyAll=!1,De(Oa,oa)),Oa._update=oa)))}return!this._dirtyAll},mark(Y,oa,Oa){if(!this.isDirty(oa))return oa._svg;const Va=this._svg,xb=Qe[oa.marktype];var Sb=!1===oa.interactive?"none":null;const Zb="g"===xb.tag;let qc=null,
Ec=0;const ed=ef(oa,Y,Oa,"g",Va);ed.setAttribute("class",Ac(oa));Y=Tc(oa);for(const Zc in Y)he(ed,Zc,Y[Zc]);Zb||he(ed,"pointer-events",Sb);he(ed,"clip-path",oa.clip?fa(this,oa,oa.group):null);Sb=Zc=>{const Pd=this.isDirty(Zc),be=ef(Zc,ed,qc,xb.tag,Va);Pd&&(this._update(xb,be,Zc),Zb&&fe(this,be,Zc));qc=be;++Ec};xb.nested?oa.items.length&&Sb(oa.items[0]):ra(oa,Sb);Lb(ed,Ec);return ed},_update(Y,oa,Oa){Ab=oa;Kb=oa.__values__;uc(Ze,Oa);Y.attr(Ze,Oa,this);const Va=Jb[Y.type];Va&&Va.call(this,Y,oa,Oa);
Ab&&this.style(Ab,Oa)},style(Y,oa){if(null!=oa)for(const Oa in fb){let Va="font"===Oa?wd(oa):oa[Oa];if(Va===Kb[Oa])continue;const xb=fb[Oa];null==Va?Y.removeAttribute(xb):(Va&&Va.gradient&&(Va=u(Va,this._defs.gradient,zf())),Y.setAttribute(xb,Va+""));Kb[Oa]=Va}},defs(){const Y=this._svg,oa=this._defs;let Oa=oa.el;var Va=0;for(var xb in oa.gradient){Oa||(oa.el=Oa=ac(Y,1,"defs",qb));{var Sb=void 0;let Ec,ed;var Zb=Oa,qc=oa.gradient[xb];"radial"===qc.gradient?(Sb=ac(Zb,Va++,"pattern",qb),Zd(Sb,{id:"p_"+
qc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Sb=ac(Sb,0,"rect",qb),Zd(Sb,{width:1,height:1,fill:`url(${zf()}#${qc.id})`}),Zb=ac(Zb,Va++,"radialGradient",qb),Zd(Zb,{id:qc.id,fx:qc.x1,fy:qc.y1,fr:qc.r1,cx:qc.x2,cy:qc.y2,r:qc.r2})):(Zb=ac(Zb,Va++,"linearGradient",qb),Zd(Zb,{id:qc.id,x1:qc.x1,x2:qc.x2,y1:qc.y1,y2:qc.y2}));ed=0;for(Ec=qc.stops.length;ed<Ec;++ed)Sb=ac(Zb,ed,"stop",qb),Sb.setAttribute("offset",qc.stops[ed].offset),Sb.setAttribute("stop-color",
qc.stops[ed].color);Lb(Zb,ed)}}for(const Ec in oa.clipping)Oa||(oa.el=Oa=ac(Y,1,"defs",qb)),Zb=Oa,qc=oa.clipping[Ec],xb=Va,Zb=ac(Zb,xb,"clipPath",qb),Zb.setAttribute("id",qc.id),qc.path?(Va=ac(Zb,0,"path",qb),Va.setAttribute("d",qc.path)):(Va=ac(Zb,0,"rect",qb),Zd(Va,{x:0,y:0,width:qc.width,height:qc.height})),Lb(Zb,1),Va=xb+1;Oa&&(0===Va?(Y.removeChild(Oa),oa.el=null):Lb(Oa,Va))},_clearDefs(){const Y=this._defs;Y.gradient={};Y.clipping={}}});let Ab=null,Kb=null;const Jb={group(Y,oa,Oa){const Va=
Ab=oa.childNodes[2];Kb=Va.__values__;Y.foreground(Ze,Oa,this);Kb=oa.__values__;Ab=oa.childNodes[1];Y.content(Ze,Oa,this);oa=Ab=oa.childNodes[0];Y.background(Ze,Oa,this);Y=!1===Oa.mark.interactive?"none":null;Y!==Kb.events&&(he(Va,"pointer-events",Y),he(oa,"pointer-events",Y),Kb.events=Y);Oa.strokeForeground&&Oa.stroke?(Y=Oa.fill,he(Va,"display",null),this.style(oa,Oa),he(oa,"stroke",null),Y&&(Oa.fill=null),Kb=Va.__values__,this.style(Va,Oa),Y&&(Oa.fill=Y),Ab=null):he(Va,"display","none")},image(Y,
oa,Oa){!1===Oa.smooth?(df(oa,"image-rendering","optimizeSpeed"),df(oa,"image-rendering","pixelated")):df(oa,"image-rendering",null)},text(Y,oa,Oa){Y=Lc(Oa);let Va,xb,Sb;l.isArray(Y)?(Va=Y.map(Zb=>Fd(Oa,Zb)),Y=Va.join("\n"),Y!==Kb.text&&(Lb(oa,0),xb=oa.ownerDocument,Sb=Sc(Oa),Va.forEach((Zb,qc)=>{const Ec=wb(xb,"tspan",qb);Ec.__data__=Oa;Ec.textContent=Zb;qc&&(Ec.setAttribute("x",0),Ec.setAttribute("dy",Sb));oa.appendChild(Ec)}),Kb.text=Y)):(Va=Fd(Oa,Y),Va!==Kb.text&&(oa.textContent=Va,Kb.text=Va));
he(oa,"font-family",wd(Oa));he(oa,"font-size",Uc(Oa)+"px");he(oa,"font-style",Oa.fontStyle);he(oa,"font-variant",Oa.fontVariant);he(oa,"font-weight",Oa.fontWeight)}};l.inherits(Ue,Ub,{svg(){return this._text},_render(Y){const oa=Ud();oa.open("svg",l.extend({},Tb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const Oa=this._bgcolor;Oa&&"transparent"!==Oa&&"none"!==Oa&&oa.open("rect",{width:this._width,height:this._height,
fill:Oa}).close();oa.open("g",hb,{transform:"translate("+this._origin+")"});this.mark(oa,Y);oa.close();this.defs(oa);this._text=oa.close()+"";return this},mark(Y,oa){const Oa=Qe[oa.marktype],Va=Oa.tag,xb=[uc,Oa.attr];Y.open("g",{"class":Ac(oa),"clip-path":oa.clip?fa(this,oa,oa.group):null},Tc(oa),{"pointer-events":"g"!==Va&&!1===oa.interactive?"none":null});const Sb=Zb=>{const qc=this.href(Zb);qc&&Y.open("a",qc);Y.open(Va,this.attr(oa,Zb,xb,"g"!==Va?Va:null));if("text"===Va){var Ec=Lc(Zb);if(l.isArray(Ec)){var ed=
{x:0,dy:Sc(Zb)};for(var Zc=0;Zc<Ec.length;++Zc)Y.open("tspan",Zc?ed:null).text(Fd(Zb,Ec[Zc])).close()}else Y.text(Fd(Zb,Ec))}else"g"===Va&&(Ec=Zb.strokeForeground,ed=Zb.fill,Zc=Zb.stroke,Ec&&Zc&&(Zb.stroke=null),Y.open("path",this.attr(oa,Zb,Oa.background,"bgrect")).close(),Y.open("g",this.attr(oa,Zb,Oa.content)),ra(Zb,Pd=>this.mark(Y,Pd)),Y.close(),Ec&&Zc?(ed&&(Zb.fill=null),Zb.stroke=Zc,Y.open("path",this.attr(oa,Zb,Oa.foreground,"bgrect")).close(),ed&&(Zb.fill=ed)):Y.open("path",this.attr(oa,Zb,
Oa.foreground,"bgfore")).close());Y.close();qc&&Y.close()};Oa.nested?oa.items&&oa.items.length&&Sb(oa.items[0]):ra(oa,Sb);return Y.close()},href(Y){const oa=Y.href;if(oa){if(Y=this._hrefs&&this._hrefs[oa])return Y;this.sanitizeURL(oa).then(Oa=>{Oa["xlink:href"]=Oa.href;Oa.href=null;(this._hrefs||(this._hrefs={}))[oa]=Oa})}return null},attr(Y,oa,Oa,Va){const xb={},Sb=(Zb,qc,Ec,ed)=>{xb[ed||Zb]=qc};Array.isArray(Oa)?Oa.forEach(Zb=>Zb(Sb,oa,this)):Oa(Sb,oa,this);Va&&Nf(xb,oa,Y,Va,this._defs);return xb},
defs(Y){var oa=this._defs.gradient;const Oa=this._defs.clipping;if(0!==Object.keys(oa).length+Object.keys(Oa).length){Y.open("defs");for(const xb in oa){var Va=oa[xb];const Sb=Va.stops;"radial"===Va.gradient?(Y.open("pattern",{id:"p_"+xb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Y.open("rect",{width:"1",height:"1",fill:"url(#"+xb+")"}).close(),Y.close(),Y.open("radialGradient",{id:xb,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):Y.open("linearGradient",
{id:xb,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2});for(Va=0;Va<Sb.length;++Va)Y.open("stop",{offset:Sb[Va].offset,"stop-color":Sb[Va].color}).close();Y.close()}for(const xb in Oa)oa=Oa[xb],Y.open("clipPath",{id:xb}),oa.path?Y.open("path",{d:oa.path}).close():Y.open("rect",{x:0,y:0,width:oa.width,height:oa.height}).close(),Y.close();Y.close()}}});const cc={};cc.canvas=cc.png={renderer:Ic,headless:Ic,handler:mc};cc.svg={renderer:oe,headless:Ue,handler:Dc};cc.none={};const xc=new ia;k.Bounds=ia;k.CanvasHandler=
mc;k.CanvasRenderer=Ic;k.Gradient=function(Y,oa){var Oa=[],Va;return Va={gradient:"linear",x1:Y?Y[0]:0,y1:Y?Y[1]:0,x2:oa?oa[0]:1,y2:oa?oa[1]:0,stops:Oa,stop:function(xb,Sb){Oa.push({offset:xb,color:Sb});return Va}}};k.GroupItem=Z;k.Handler=pb;k.Item=la;k.Marks=Qe;k.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};k.Renderer=Ub;k.ResourceLoader=P;k.SVGHandler=Dc;k.SVGRenderer=oe;k.SVGStringRenderer=Ue;k.Scenegraph=Ka;k.boundClip=function(Y){const oa=Y.clip;if(l.isFunction(oa))oa(V(xc.clear()));
else if(oa)xc.set(0,0,Y.group.width,Y.group.height);else return;Y.bounds.intersect(xc)};k.boundContext=V;k.boundItem=Eb;k.boundMark=zc;k.boundStroke=C;k.domChild=ac;k.domClear=Lb;k.domCreate=wb;k.domFind=Hb;k.font=vd;k.fontFamily=wd;k.fontSize=Uc;k.intersect=function(Y,oa,Oa){const Va=[];oa=(new ia).union(oa);const xb=Y.marktype;return xb?me(Y,oa,Oa,Va):"group"===xb?te(Y,oa,Oa,Va):l.error("Intersect scene must be mark node or group item.")};k.intersectBoxLine=va;k.intersectPath=wa;k.intersectPoint=
Ha;k.intersectRule=kb;k.lineHeight=Sc;k.markup=Ud;k.multiLineOffset=function(Y){const oa=Lc(Y);return(l.isArray(oa)?oa.length-1:0)*Sc(Y)};k.pathCurves=g;k.pathEqual=Od;k.pathParse=d;k.pathRectangle=G;k.pathRender=a;k.pathSymbols=n;k.pathTrail=K;k.point=tc;k.renderModule=function(Y,oa){Y=String(Y||"").toLowerCase();return 1<arguments.length?(cc[Y]=oa,this):cc[Y]};k.resetSVGClipId=function(){Yb=1};k.resetSVGDefIds=function(){Yb=1;Be=0};k.sceneEqual=we;k.sceneFromJSON=Ed;k.scenePickVisit=qa;k.sceneToJSON=
Vc;k.sceneVisit=ra;k.sceneZOrder=ca;k.serializeXML=Sa;k.textMetrics=Gd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(36),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(W){l.Transform.call(this,null,W)}function x(W,ba,ca){return ba(W.bounds.clear(),W,ca)}function v(W){l.Transform.call(this,
0,W)}function u(W){return W._signals[":vega_identifier:"]||(W._signals[":vega_identifier:"]=W.add(0))}function m(W){l.Transform.call(this,null,W)}function g(W){const ba=W.groups;W=W.parent;return ba&&1===ba.size?ba.get(Object.keys(ba.object)[0]):ba&&W?ba.lookup(W):null}function d(W){l.Transform.call(this,null,W)}function f(W){l.Transform.call(this,null,W)}function a(W,ba,ca){return W[ba]===ca?0:(W[ba]=ca,1)}function e(W){W=W.items[0].orient;return"left"===W||"right"===W}function n(W,ba,ca,ra){ba=
ba.items[0];var qa=ba.datum,Da=null!=ba.translate?ba.translate:.5,na=ba.orient,Ra=+qa.grid;var db=[qa.ticks?Ra++:-1,qa.labels?Ra++:-1,Ra+ +qa.domain];Ra=ba.range;var $a=ba.offset,Fa=ba.position,Ga=ba.minExtent,pa=ba.maxExtent;qa=qa.title&&ba.items[db[2]].items[0];var Ja=ba.titlePadding,Ua=ba.bounds,jb=qa&&w.multiLineOffset(qa),Fb;Ca.clear().union(Ua);Ua.clear();-1<(Fb=db[0])&&Ua.union(ba.items[Fb].bounds);-1<(Fb=db[1])&&Ua.union(ba.items[Fb].bounds);switch(na){case "top":ca=Fa||0;ra=-$a;Ga=Math.max(Ga,
Math.min(pa,-Ua.y1));Ua.add(0,-Ga).add(Ra,0);qa&&y(W,qa,Ga,Ja,jb,0,-1,Ua);break;case "left":ca=-$a;ra=Fa||0;Ga=Math.max(Ga,Math.min(pa,-Ua.x1));Ua.add(-Ga,0).add(0,Ra);qa&&y(W,qa,Ga,Ja,jb,1,-1,Ua);break;case "right":ca+=$a;ra=Fa||0;Ga=Math.max(Ga,Math.min(pa,Ua.x2));Ua.add(0,0).add(Ga,Ra);qa&&y(W,qa,Ga,Ja,jb,1,1,Ua);break;case "bottom":ca=Fa||0;ra+=$a;Ga=Math.max(Ga,Math.min(pa,Ua.y2));Ua.add(0,0).add(Ra,Ga);qa&&y(W,qa,Ga,Ja,0,0,1,Ua);break;default:ca=ba.x,ra=ba.y}w.boundStroke(Ua.translate(ca,ra),
ba);a(ba,"x",ca+Da)|a(ba,"y",ra+Da)&&(ba.bounds=Ca,W.dirty(ba),ba.bounds=Ua,W.dirty(ba));return ba.mark.bounds.clear().union(Ua)}function y(W,ba,ca,ra,qa,Da,na,Ra){const db=ba.bounds;ba.auto&&(ca=na*(ca+qa+ra),qa=ra=0,W.dirty(ba),Da?ra=(ba.x||0)-(ba.x=ca):qa=(ba.y||0)-(ba.y=ca),ba.mark.bounds.clear().union(db.translate(-ra,-qa)),W.dirty(ba));Ra.union(db)}function B(W){return(new w.Bounds).set(0,0,W.width||0,W.height||0)}function D(W){const ba=W.bounds.clone();return ba.empty()?ba.set(0,0,0,0):ba.translate(-(W.x||
0),-(W.y||0))}function O(W,ba,ca){W=H.isObject(W)?W[ba]:W;return null!=W?W:void 0!==ca?ca:0}function M(W){return 0>W?Math.ceil(-W):0}function F(W,ba,ca){var ra=!ca.nodirty,qa="flush"===ca.bounds?B:D,Da=Ca.set(0,0,0,0),na=O(ca.align,"column"),Ra=O(ca.align,"row"),db=O(ca.padding,"column"),$a=O(ca.padding,"row"),Fa=ca.columns||ba.length,Ga=0>=Fa?1:Math.ceil(ba.length/Fa),pa=ba.length,Ja=Array(pa),Ua=Array(Fa),jb=0,Fb=Array(pa),Xb=Array(Ga),nc=0,md=Array(pa),pc=Array(pa),Hc=Array(pa),mb,hc,jc;for(mb=
0;mb<Fa;++mb)Ua[mb]=0;for(mb=0;mb<Ga;++mb)Xb[mb]=0;for(mb=0;mb<pa;++mb){var rc=ba[mb];var Pc=Hc[mb]=qa(rc);rc.x=rc.x||0;md[mb]=0;rc.y=rc.y||0;pc[mb]=0;rc=mb%Fa;var sc=~~(mb/Fa);jb=Math.max(jb,hc=Math.ceil(Pc.x2));nc=Math.max(nc,jc=Math.ceil(Pc.y2));Ua[rc]=Math.max(Ua[rc],hc);Xb[sc]=Math.max(Xb[sc],jc);Ja[mb]=db+M(Pc.x1);Fb[mb]=$a+M(Pc.y1);ra&&W.dirty(ba[mb])}for(mb=0;mb<pa;++mb)0===mb%Fa&&(Ja[mb]=0),mb<Fa&&(Fb[mb]=0);if("each"===na)for(rc=1;rc<Fa;++rc){qa=0;for(mb=rc;mb<pa;mb+=Fa)qa<Ja[mb]&&(qa=Ja[mb]);
for(mb=rc;mb<pa;mb+=Fa)Ja[mb]=qa+Ua[rc-1]}else if("all"===na){for(mb=qa=0;mb<pa;++mb)mb%Fa&&qa<Ja[mb]&&(qa=Ja[mb]);for(mb=0;mb<pa;++mb)mb%Fa&&(Ja[mb]=qa+jb)}else for(na=!1,rc=1;rc<Fa;++rc)for(mb=rc;mb<pa;mb+=Fa)Ja[mb]+=Ua[rc-1];if("each"===Ra)for(sc=1;sc<Ga;++sc){qa=0;mb=sc*Fa;for(rc=mb+Fa;mb<rc;++mb)qa<Fb[mb]&&(qa=Fb[mb]);for(mb=sc*Fa;mb<rc;++mb)Fb[mb]=qa+Xb[sc-1]}else if("all"===Ra){qa=0;for(mb=Fa;mb<pa;++mb)qa<Fb[mb]&&(qa=Fb[mb]);for(mb=Fa;mb<pa;++mb)Fb[mb]=qa+nc}else for(Ra=!1,sc=1;sc<Ga;++sc)for(mb=
sc*Fa,rc=mb+Fa;mb<rc;++mb)Fb[mb]+=Xb[sc-1];for(mb=sc=0;mb<pa;++mb)sc=Ja[mb]+(mb%Fa?sc:0),md[mb]+=sc-ba[mb].x;for(rc=0;rc<Fa;++rc)for(Ja=0,mb=rc;mb<pa;mb+=Fa)Ja+=Fb[mb],pc[mb]+=Ja-ba[mb].y;if(na&&O(ca.center,"column")&&1<Ga)for(mb=0;mb<pa;++mb)Pc="all"===na?jb:Ua[mb%Fa],sc=Pc-Hc[mb].x2-ba[mb].x-md[mb],0<sc&&(md[mb]+=sc/2);if(Ra&&O(ca.center,"row")&&1!==Fa)for(mb=0;mb<pa;++mb)Pc="all"===Ra?nc:Xb[~~(mb/Fa)],Ja=Pc-Hc[mb].y2-ba[mb].y-pc[mb],0<Ja&&(pc[mb]+=Ja/2);for(mb=0;mb<pa;++mb)Da.union(Hc[mb].translate(md[mb],
pc[mb]));sc=O(ca.anchor,"x");Ja=O(ca.anchor,"y");switch(O(ca.anchor,"column")){case "end":sc-=Da.width();break;case "middle":sc-=Da.width()/2}switch(O(ca.anchor,"row")){case "end":Ja-=Da.height();break;case "middle":Ja-=Da.height()/2}sc=Math.round(sc);Ja=Math.round(Ja);Da.clear();for(mb=0;mb<pa;++mb)ba[mb].mark.bounds.clear();for(mb=0;mb<pa;++mb)rc=ba[mb],rc.x+=md[mb]+=sc,rc.y+=pc[mb]+=Ja,Da.union(rc.mark.bounds.union(rc.bounds.translate(md[mb],pc[mb]))),ra&&W.dirty(rc);return Da}function z(W,ba){return"x1"===
ba?W.x||0:"y1"===ba?W.y||0:"x2"===ba?(W.x||0)+(W.width||0):"y2"===ba?(W.y||0)+(W.height||0):void 0}function G(W,ba){return W.bounds[ba]}function K(W,ba,ca,ra,qa,Da,na,Ra,db,$a,Fa,Ga,pa,Ja){var Ua=ca.length,jb=ra=0,Fb,Xb;if(!Ua)return ra;for(Fb=Fa;Fb<Ua;Fb+=Ga)ca[Fb]&&(ra=na(ra,db(ca[Fb],$a)));if(!ba.length)return ra;ba.length>qa&&(W.warn("Grid headers exceed limit: "+qa),ba=ba.slice(0,qa));ra+=Da;qa=0;for(Da=ba.length;qa<Da;++qa)W.dirty(ba[qa]),ba[qa].mark.bounds.clear();Fb=Fa;qa=0;for(Da=ba.length;qa<
Da;++qa,Fb+=Ga){db=ba[qa];Fa=db.mark.bounds;for(Ua=Fb;0<=Ua&&null==(Xb=ca[Ua]);Ua-=pa);if(Ra){Ua=null==Ja?Xb.x:Math.round(Xb.bounds.x1+Ja*Xb.bounds.width());var nc=ra}else Ua=ra,nc=null==Ja?Xb.y:Math.round(Xb.bounds.y1+Ja*Xb.bounds.height());Fa.union(db.bounds.translate(Ua-(db.x||0),nc-(db.y||0)));db.x=Ua;db.y=nc;W.dirty(db);jb=na(jb,Fa[$a])}return jb}function R(W,ba,ca,ra,qa,Da){if(ba){W.dirty(ba);var na=ca;ra?na=Math.round(qa.x1+Da*qa.width()):ca=Math.round(qa.y1+Da*qa.height());ba.bounds.translate(na-
(ba.x||0),ca-(ba.y||0));ba.mark.bounds.clear().union(ba.bounds);ba.x=na;ba.y=ca;W.dirty(ba)}}function T(W,ba){const ca=W[ba]||{};return(ra,qa)=>null!=ca[ra]?ca[ra]:null!=W[ra]?W[ra]:qa}function ja(W,ba){let ca=-Infinity;W.forEach(ra=>{null!=ra.offset&&(ca=Math.max(ca,ra.offset))});return-Infinity<ca?ca:ba}function fa(W,ba,ca,ra,qa,Da,na){const Ra=T(ca,ba);ca=ja(W,Ra("offset",0));const db=Ra("anchor","start"),$a="end"===db?1:"middle"===db?.5:0;W={align:"each",bounds:Ra("bounds","flush"),columns:"vertical"===
Ra("direction")?1:W.length,padding:Ra("margin",8),center:Ra("center"),nodirty:!0};switch(ba){case "left":W.anchor={x:Math.floor(ra.x1)-ca,column:"end",y:$a*(na||ra.height()+2*ra.y1),row:db};break;case "right":W.anchor={x:Math.ceil(ra.x2)+ca,y:$a*(na||ra.height()+2*ra.y1),row:db};break;case "top":W.anchor={y:Math.floor(qa.y1)-ca,row:"end",x:$a*(Da||qa.width()+2*qa.x1),column:db};break;case "bottom":W.anchor={y:Math.ceil(qa.y2)+ca,x:$a*(Da||qa.width()+2*qa.x1),column:db};break;case "top-left":W.anchor=
{x:ca,y:ca};break;case "top-right":W.anchor={x:Da-ca,y:ca,column:"end"};break;case "bottom-left":W.anchor={x:ca,y:na-ca,row:"end"};break;case "bottom-right":W.anchor={x:Da-ca,y:na-ca,column:"end",row:"end"}}return W}function ia(W,ba){ba=ba.items[0];var ca=ba.datum,ra=ba.orient,qa=ba.bounds,Da=ba.x,na=ba.y;ba._bounds?ba._bounds.clear().union(qa):ba._bounds=qa.clone();qa.clear();var Ra=ba.items[0].items[0];var db=ba.padding,$a=db-Ra.x,Fa=db-Ra.y;if(ba.datum.title){var Ga=ba.items[1].items[0],pa=Ga.anchor,
Ja=ba.titlePadding||0,Ua=db-Ga.x,jb=db-Ga.y;switch(Ga.orient){case "left":$a+=Math.ceil(Ga.bounds.width())+Ja;break;case "right":case "bottom":break;default:Fa+=Ga.bounds.height()+Ja}($a||Fa)&&P(W,Ra,$a,Fa);switch(Ga.orient){case "left":jb+=Z(ba,Ra,Ga,pa,1,1);break;case "right":Ua+=Z(ba,Ra,Ga,"end",0,0)+Ja;jb+=Z(ba,Ra,Ga,pa,1,1);break;case "bottom":Ua+=Z(ba,Ra,Ga,pa,0,0);jb+=Z(ba,Ra,Ga,"end",-1,0,1)+Ja;break;default:Ua+=Z(ba,Ra,Ga,pa,0,0)}(Ua||jb)&&P(W,Ga,Ua,jb);0>(Ua=Math.round(Ga.bounds.x1-db))&&
(P(W,Ra,-Ua,0),P(W,Ga,-Ua,0))}else($a||Fa)&&P(W,Ra,$a,Fa);qa=la(ba,qa);W=2*ba.padding;Ra=2*ba.padding;qa.empty()||(W=Math.ceil(qa.width()+W),Ra=Math.ceil(qa.height()+Ra));"symbol"===ca.type&&C(ba.items[0].items[0].items[0].items);"none"!==ra&&(ba.x=Da=0,ba.y=na=0);ba.width=W;ba.height=Ra;w.boundStroke(qa.set(Da,na,Da+W,na+Ra),ba);ba.mark.bounds.clear().union(qa);return ba}function la(W,ba){W.items.forEach(ca=>ba.union(ca.bounds));ba.x1=W.padding;ba.y1=W.padding;return ba}function Z(W,ba,ca,ra,qa,
Da,na){const Ra=ca.datum.vgrad;W=("symbol"===W.datum.type||!Da&&Ra||na?ba:ba.items[0]).bounds[qa?"y2":"x2"]-W.padding;ba=Ra&&Da?W:0;Da=Ra&&Da?0:W;ca=0>=qa?0:w.multiLineOffset(ca);return Math.round("start"===ra?ba:"end"===ra?Da-ca:.5*(W-ca))}function P(W,ba,ca,ra){ba.x+=ca;ba.y+=ra;ba.bounds.translate(ca,ra);ba.mark.bounds.translate(ca,ra);W.dirty(ba)}function C(W){const ba=W.reduce((ca,ra)=>{ca[ra.column]=Math.max(ra.bounds.x2-ra.x,ca[ra.column]||0);return ca},{});W.forEach(ca=>{ca.width=ba[ca.column];
ca.height=ca.bounds.y2-ca.y})}function V(W,ba,ca,ra,qa){var Da=ba.items[0],na=Da.orient,Ra=Da.anchor,db=Da.offset,$a=Da.padding,Fa=Da.items[0].items[0],Ga=Da.items[1]&&Da.items[1].items[0],pa="left"===na||"right"===na?ra:ca,Ja=0,Ua=ca=0;"group"!==Da.frame?"left"===na?(Ja=qa.y2,pa=qa.y1):"right"===na?(Ja=qa.y1,pa=qa.y2):(Ja=qa.x1,pa=qa.x2):"left"===na&&(Ja=ra,pa=0);ra="start"===Ra?Ja:"end"===Ra?pa:(Ja+pa)/2;if(Ga&&Ga.text){switch(na){case "top":case "bottom":Ua=Fa.bounds.height()+$a;break;case "left":ca=
Fa.bounds.width()+$a;break;case "right":ca=-Fa.bounds.width()-$a}Ca.clear().union(Ga.bounds);Ca.translate(ca-(Ga.x||0),Ua-(Ga.y||0));a(Ga,"x",ca)|a(Ga,"y",Ua)&&(W.dirty(Ga),Ga.bounds.clear().union(Ca),Ga.mark.bounds.clear().union(Ca),W.dirty(Ga));Ca.clear().union(Ga.bounds)}else Ca.clear();Ca.union(Fa.bounds);switch(na){case "top":na=ra;qa=qa.y1-Ca.height()-db;break;case "left":na=qa.x1-Ca.width()-db;qa=ra;break;case "right":na=qa.x2+Ca.width()+db;qa=ra;break;case "bottom":na=ra;qa=qa.y2+db;break;
default:na=Da.x,qa=Da.y}a(Da,"x",na)|a(Da,"y",qa)&&(Ca.translate(na,qa),W.dirty(Da),Da.bounds.clear().union(Ca),ba.bounds.clear().union(Ca),W.dirty(Da));return Da.bounds}function ha(W){l.Transform.call(this,null,W)}function aa(W){return W&&"legend-entry"!==W.mark.role}function ta(W,ba,ca){var ra=ba.items,qa=Math.max(0,ba.width||0),Da=Math.max(0,ba.height||0),na=(new w.Bounds).set(0,0,qa,Da),Ra=na.clone(),db=na.clone(),$a=[],Fa,Ga;var pa=0;for(Ga=ra.length;pa<Ga;++pa){var Ja=ra[pa];switch(Ja.role){case "axis":var Ua=
e(Ja)?Ra:db;Ua.union(n(W,Ja,qa,Da));break;case "title":var jb=Ja;break;case "legend":$a.push(ia(W,Ja));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Ra.union(Ja.bounds);db.union(Ja.bounds);break;default:na.union(Ja.bounds)}}if($a.length){const Fb={};$a.forEach(Xb=>{Fa=Xb.orient||"right";"none"!==Fa&&(Fb[Fa]||(Fb[Fa]=[])).push(Xb)});for(const Xb in Fb)ra=Fb[Xb],F(W,ra,fa(ra,Xb,ca.legends,Ra,db,qa,Da));
$a.forEach(Xb=>{const nc=Xb.bounds;nc.equals(Xb._bounds)||(Xb.bounds=Xb._bounds,W.dirty(Xb),Xb.bounds=nc,W.dirty(Xb));if(ca.autosize&&"fit"===ca.autosize.type)switch(Xb.orient){case "left":case "right":na.add(nc.x1,0).add(nc.x2,0);break;case "top":case "bottom":na.add(0,nc.y1).add(0,nc.y2)}else na.union(nc)})}na.union(Ra).union(db);jb&&na.union(V(W,jb,qa,Da,na));ba.clip&&na.set(0,0,ba.width||0,ba.height||0);wa(W,ba,na,ca)}function wa(W,ba,ca,ra){ra=ra.autosize||{};const qa=ra.type;if(!(1>W._autosize)&&
qa){var Da=W._width,na=W._height,Ra=Math.max(0,ba.width||0),db=Math.max(0,Math.ceil(-ca.x1));ba=Math.max(0,ba.height||0);var $a=Math.max(0,Math.ceil(-ca.y1)),Fa=Math.max(0,Math.ceil(ca.x2-Ra));ca=Math.max(0,Math.ceil(ca.y2-ba));if("padding"===ra.contains){const Ga=W.padding();Da-=Ga.left+Ga.right;na-=Ga.top+Ga.bottom}"none"===qa?($a=db=0,Ra=Da,ba=na):"fit"===qa?(Ra=Math.max(0,Da-db-Fa),ba=Math.max(0,na-$a-ca)):"fit-x"===qa?(Ra=Math.max(0,Da-db-Fa),na=ba+$a+ca):"fit-y"===qa?(Da=Ra+db+Fa,ba=Math.max(0,
na-$a-ca)):"pad"===qa&&(Da=Ra+db+Fa,na=ba+$a+ca);W._resizeView(Da,na,Ra,ba,[db,$a],ra.resize)}}H.inherits(N,l.Transform,{transform(W,ba){const ca=ba.dataflow,ra=W.mark,qa=ra.marktype,Da=w.Marks[qa],na=Da.bound;let Ra=ra.bounds,db;if(Da.nested)ra.items.length&&ca.dirty(ra.items[0]),Ra=x(ra,na),ra.items.forEach($a=>{$a.bounds.clear().union(Ra)});else if("group"===qa||W.modified())switch(ba.visit(ba.MOD,$a=>ca.dirty($a)),Ra.clear(),ra.items.forEach($a=>Ra.union(x($a,na))),ra.role){case "axis":case "legend":case "title":ba.reflow()}else db=
ba.changed(ba.REM),ba.visit(ba.ADD,$a=>{Ra.union(x($a,na))}),ba.visit(ba.MOD,$a=>{db=db||Ra.alignsWith($a.bounds);ca.dirty($a);Ra.union(x($a,na))}),db&&(Ra.clear(),ra.items.forEach($a=>Ra.union($a.bounds)));w.boundClip(ra);return ba.modifies("bounds")}});v.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};H.inherits(v,l.Transform,{transform(W,ba){const ca=u(ba.dataflow),ra=W.as;let qa=ca.value;ba.visit(ba.ADD,Da=>Da[ra]=Da[ra]||++qa);ca.set(this.value=
qa);return ba}});H.inherits(m,l.Transform,{transform(W,ba){let ca=this.value;ca||(ca=ba.dataflow.scenegraph().mark(W.markdef,g(W),W.index),ca.group.context=W.context,W.context.group||(W.context.group=ca.group),ca.source=this.source,ca.clip=W.clip,ca.interactive=W.interactive,this.value=ca);const ra="group"===ca.marktype?w.GroupItem:w.Item;ba.visit(ba.ADD,qa=>ra.call(qa,ca));if(W.modified("clip")||W.modified("interactive"))ca.clip=W.clip,ca.interactive=!!W.interactive,ca.zdirty=!0,ba.reflow();ca.items=
ba.source;return ba}});const Ha={parity:W=>W.filter((ba,ca)=>ca%2?ba.opacity=0:1),greedy:(W,ba)=>{let ca;return W.filter((ra,qa)=>qa&&bb(ca.bounds,ra.bounds,ba)?ra.opacity=0:(ca=ra,1))}},bb=(W,ba,ca)=>ca>Math.max(ba.x1-W.x2,W.x1-ba.x2,ba.y1-W.y2,W.y1-ba.y2),kb=(W,ba)=>{for(var ca=1,ra=W.length,qa=W[0].bounds;ca<ra;++ca)if(bb(qa,qa=W[ca].bounds,ba))return!0},va=W=>{W=W.bounds;return 1<W.width()&&1<W.height()},Ta=(W,ba,ca)=>{W=W.range();var ra=new w.Bounds;"top"===ba||"bottom"===ba?ra.set(W[0],-Infinity,
W[1],Infinity):ra.set(-Infinity,W[0],Infinity,W[1]);ra.expand(ca||1);return qa=>ra.encloses(qa.bounds)},Ya=W=>{W.forEach(ba=>ba.opacity=1);return W};H.inherits(d,l.Transform,{transform(W,ba){const ca=Ha[W.method]||Ha.parity,ra=W.separation||0;let qa=ba.materialize(ba.SOURCE).source,Da,na;if(qa&&qa.length){if(!W.method)return W.modified("method")&&(Ya(qa),ba=ba.reflow(W.modified()).modifies("opacity")),ba;qa=qa.filter(va);if(qa.length){W.sort&&(qa=qa.slice().sort(W.sort));Da=Ya(qa);ba=ba.reflow(W.modified()).modifies("opacity");
if(3<=Da.length&&kb(Da,ra)){do Da=ca(Da,ra);while(3<=Da.length&&kb(Da,ra));3>Da.length&&!H.peek(qa).opacity&&(1<Da.length&&(H.peek(Da).opacity=0),H.peek(qa).opacity=1)}W.boundScale&&0<=W.boundTolerance&&(na=Ta(W.boundScale,W.boundOrient,+W.boundTolerance),qa.forEach(db=>{na(db)||(db.opacity=0)}));var Ra=Da[0].mark.bounds.clear();qa.forEach(db=>{db.opacity&&Ra.union(db.bounds)});return ba}}}});H.inherits(f,l.Transform,{transform(W,ba){const ca=ba.dataflow;ba.visit(ba.ALL,ra=>ca.dirty(ra));ba.fields&&
ba.fields.zindex&&(W=ba.source&&ba.source[0])&&(W.mark.zdirty=!0)}});const Ca=new w.Bounds,ua=(W,ba)=>Math.floor(Math.min(W,ba)),U=(W,ba)=>Math.ceil(Math.max(W,ba));H.inherits(ha,l.Transform,{transform(W,ba){const ca=ba.dataflow;W.mark.items.forEach(ra=>{if(W.layout){var qa=W.layout;var Da=ra.items;for(var na=Da.length,Ra=0,db,$a,Fa={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Ra<na;++Ra)if(db=Da[Ra],$a=db.items,"group"===db.marktype)switch(db.role){case "axis":case "legend":case "title":break;
case "row-header":Fa.rowheaders.push(...$a);break;case "row-footer":Fa.rowfooters.push(...$a);break;case "column-header":Fa.colheaders.push(...$a);break;case "column-footer":Fa.colfooters.push(...$a);break;case "row-title":Fa.rowtitle=$a[0];break;case "column-title":Fa.coltitle=$a[0];break;default:Fa.marks.push(...$a)}Da=Fa;$a=Da.marks;Fa="flush"===qa.bounds?z:G;na=qa.offset;var Ga=qa.columns||$a.length,pa=0>=Ga?1:Math.ceil($a.length/Ga),Ja=pa*Ga;Ra=F(ca,$a,qa);Ra.empty()&&Ra.set(0,0,0,0);if(Da.rowheaders){db=
O(qa.headerBand,"row",null);var Ua=K(ca,Da.rowheaders,$a,Ga,pa,-O(na,"rowHeader"),ua,0,Fa,"x1",0,Ga,1,db)}if(Da.colheaders){db=O(qa.headerBand,"column",null);var jb=K(ca,Da.colheaders,$a,Ga,Ga,-O(na,"columnHeader"),ua,1,Fa,"y1",0,1,Ga,db)}if(Da.rowfooters){db=O(qa.footerBand,"row",null);var Fb=K(ca,Da.rowfooters,$a,Ga,pa,O(na,"rowFooter"),U,0,Fa,"x2",Ga-1,Ga,1,db)}if(Da.colfooters){db=O(qa.footerBand,"column",null);var Xb=K(ca,Da.colfooters,$a,Ga,Ga,O(na,"columnFooter"),U,1,Fa,"y2",Ja-Ga,1,Ga,db)}Da.rowtitle&&
(db=O(qa.titleAnchor,"row"),$a=O(na,"rowTitle"),$a="end"===db?Fb+$a:Ua-$a,db=O(qa.titleBand,"row",.5),R(ca,Da.rowtitle,$a,0,Ra,db));Da.coltitle&&(db=O(qa.titleAnchor,"column"),$a=O(na,"columnTitle"),$a="end"===db?Xb+$a:jb-$a,db=O(qa.titleBand,"column",.5),R(ca,Da.coltitle,$a,1,Ra,db))}ta(ca,ra,W)});return aa(W.mark.group)?ba.reflow():ba}});k.bound=N;k.identifier=v;k.mark=m;k.overlap=d;k.render=f;k.viewlayout=ha;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(35),A(14),A(15),A(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.d3))})(this,function(k,l,w,H,N,x){function v(aa){l.Transform.call(this,null,aa)}function u(aa){l.Transform.call(this,null,aa)}function m(){return l.ingest({})}
function g(aa){const ta=H.fastmap().test(wa=>wa.exit);ta.lookup=wa=>ta.get(aa(wa));return ta}function d(aa){l.Transform.call(this,null,aa)}function f(aa){l.Transform.call(this,[],aa)}function a(aa){l.Transform.call(this,{},aa)}function e(aa){l.Transform.call(this,null,aa)}function n(aa){return w.isContinuous(aa)&&aa!==w.Sequential}function y(aa){l.Transform.call(this,null,aa);this.modified(!0)}function B(aa,ta,wa){w.isLogarithmic(aa)&&Math.abs(ta.reduce((Ha,bb)=>Ha+(0>bb?-1:0<bb?1:0),0))!==ta.length&&
wa.warn("Log scale domain includes zero: "+H.stringValue(ta));return ta}function D(aa,ta,wa){return H.isFunction(aa)&&(ta||wa)?w.interpolateRange(aa,O(ta||[0,1],wa)):aa}function O(aa,ta){return ta?aa.slice().reverse():aa}function M(aa){l.Transform.call(this,null,aa)}function F(aa){l.Transform.call(this,null,aa)}function z(aa,ta,wa,Ha,bb){ta=(ta-aa.sum)/2;for(var kb=aa.length,va=0,Ta;va<kb;++va)Ta=aa[va],Ta[Ha]=ta,Ta[bb]=ta+=Math.abs(wa(Ta))}function G(aa,ta,wa,Ha,bb){ta=1/aa.sum;for(var kb=0,va=aa.length,
Ta=0,Ya=0,Ca;Ta<va;++Ta)Ca=aa[Ta],Ca[Ha]=kb,Ca[bb]=kb=ta*(Ya+=Math.abs(wa(Ca)))}function K(aa,ta,wa,Ha,bb){for(var kb=ta=0,va=aa.length,Ta=0,Ya,Ca;Ta<va;++Ta)Ca=aa[Ta],Ya=+wa(Ca),0>Ya?(Ca[Ha]=kb,Ca[bb]=kb+=Ya):(Ca[Ha]=ta,Ca[bb]=ta+=Ya)}function R(aa,ta,wa,Ha){var bb=[],kb=W=>W(Ca),va;if(null==ta)bb.push(aa.slice());else{var Ta={};var Ya=0;for(va=aa.length;Ya<va;++Ya){var Ca=aa[Ya];var ua=ta.map(kb);var U=Ta[ua];U||(Ta[ua]=U=[],bb.push(U));U.push(Ca)}}kb=ua=0;for(aa=bb.length;ua<aa;++ua){U=bb[ua];
ta=Ya=0;for(va=U.length;Ya<va;++Ya)ta+=Math.abs(Ha(U[Ya]));U.sum=ta;ta>kb&&(kb=ta);wa&&U.sort(wa)}bb.max=kb;return bb}H.inherits(v,l.Transform,{transform(aa,ta){if(this.value&&!aa.modified())return ta.StopPropagation;var wa=ta.dataflow.locale();ta=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS);var Ha=this.value,bb=aa.scale,kb=w.tickCount(bb,null==aa.count?aa.values?aa.values.length:10:aa.count,aa.minstep),va=aa.format||w.tickFormat(wa,bb,kb,aa.formatSpecifier,aa.formatType,!!aa.values),Ta=aa.values?w.validTicks(bb,
aa.values,kb):w.tickValues(bb,kb);Ha&&(ta.rem=Ha);Ha=Ta.map((Ya,Ca)=>l.ingest({index:Ca/(Ta.length-1||1),value:Ya,label:va(Ya)}));aa.extra&&Ha.length&&Ha.push(l.ingest({index:-1,extra:{value:Ha[0].value},label:""}));ta.source=Ha;this.value=ta.add=Ha;return ta}});H.inherits(u,l.Transform,{transform(aa,ta){var wa=ta.dataflow,Ha=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS),bb=aa.item||m,kb=aa.key||l.tupleid,va=this.value;H.isArray(Ha.encode)&&(Ha.encode=null);va&&(aa.modified("key")||ta.modified(kb))&&H.error("DataJoin does not support modified key function or fields.");
va||(ta=ta.addAll(),this.value=va=g(kb));ta.visit(ta.ADD,Ta=>{const Ya=kb(Ta);let Ca=va.get(Ya);Ca?Ca.exit?(va.empty--,Ha.add.push(Ca)):Ha.mod.push(Ca):(Ca=bb(Ta),va.set(Ya,Ca),Ha.add.push(Ca));Ca.datum=Ta;Ca.exit=!1});ta.visit(ta.MOD,Ta=>{var Ya=kb(Ta);if(Ya=va.get(Ya))Ya.datum=Ta,Ha.mod.push(Ya)});ta.visit(ta.REM,Ta=>{var Ya=kb(Ta);Ya=va.get(Ya);Ta!==Ya.datum||Ya.exit||(Ha.rem.push(Ya),Ya.exit=!0,++va.empty)});ta.changed(ta.ADD_MOD)&&Ha.modifies("datum");(ta.clean()||aa.clean&&va.empty>wa.cleanThreshold)&&
wa.runAfter(va.clean);return Ha}});H.inherits(d,l.Transform,{transform(aa,ta){var wa=ta.fork(ta.ADD_REM),Ha=aa.mod||!1,bb=aa.encoders,kb=ta.encode;if(H.isArray(kb))if(wa.changed()||kb.every(U=>bb[U]))kb=kb[0],wa.encode=null;else return ta.StopPropagation;var va="enter"===kb,Ta=bb.update||H.falsy,Ya=bb.enter||H.falsy,Ca=bb.exit||H.falsy,ua=(kb&&!va?bb[kb]:Ta)||H.falsy;ta.changed(ta.ADD)&&(ta.visit(ta.ADD,U=>{Ya(U,aa);Ta(U,aa)}),wa.modifies(Ya.output),wa.modifies(Ta.output),ua!==H.falsy&&ua!==Ta&&(ta.visit(ta.ADD,
U=>{ua(U,aa)}),wa.modifies(ua.output)));ta.changed(ta.REM)&&Ca!==H.falsy&&(ta.visit(ta.REM,U=>{Ca(U,aa)}),wa.modifies(Ca.output));if(va||ua!==H.falsy)kb=ta.MOD|(aa.modified()?ta.REFLOW:0),va?(ta.visit(kb,U=>{const W=Ya(U,aa)||Ha;(ua(U,aa)||W)&&wa.mod.push(U)}),wa.mod.length&&wa.modifies(Ya.output)):ta.visit(kb,U=>{(ua(U,aa)||Ha)&&wa.mod.push(U)}),wa.mod.length&&wa.modifies(ua.output);return wa.changed()?wa:ta.StopPropagation}});H.inherits(f,l.Transform,{transform(aa,ta){if(null!=this.value&&!aa.modified())return ta.StopPropagation;
var wa=ta.dataflow.locale(),Ha=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS),bb=this.value,kb=aa.type||w.SymbolLegend,va=aa.scale,Ta=+aa.limit,Ya=w.tickCount(va,null==aa.count?5:aa.count,aa.minstep),Ca=!!aa.values||kb===w.SymbolLegend,ua=aa.format||w.labelFormat(wa,va,Ya,kb,aa.formatSpecifier,aa.formatType,Ca),U=aa.values||w.labelValues(va,Ya),W;bb&&(Ha.rem=bb);if(kb===w.SymbolLegend){if(Ta&&U.length>Ta){ta.dataflow.warn("Symbol legend count exceeds limit, filtering items.");bb=U.slice(0,Ta-1);var ba=!0}else bb=
U;if(H.isFunction(W=aa.size)){aa.values||0!==va(bb[0])||(bb=bb.slice(1));var ca=bb.reduce((qa,Da)=>Math.max(qa,W(Da,aa)),0)}else W=H.constant(ca=W||8);bb=bb.map((qa,Da)=>l.ingest({index:Da,label:ua(qa,Da,bb),value:qa,offset:ca,size:W(qa,aa)}));ba&&(ba=U[bb.length],bb.push(l.ingest({index:bb.length,label:`\u2026${U.length-bb.length} entries`,value:ba,offset:ca,size:W(ba,aa)})))}else if(kb===w.GradientLegend){ta=va.domain();var ra=w.scaleFraction(va,ta[0],H.peek(ta));3>U.length&&!aa.values&&ta[0]!==
H.peek(ta)&&(U=[ta[0],H.peek(ta)]);bb=U.map((qa,Da)=>l.ingest({index:Da,label:ua(qa,Da,U),value:qa,perc:ra(qa)}))}else W=U.length-1,ra=w.labelFraction(va),bb=U.map((qa,Da)=>l.ingest({index:Da,label:ua(qa,Da,U),value:qa,perc:Da?ra(qa):0,perc2:Da===W?1:ra(U[Da+1])}));Ha.source=bb;this.value=Ha.add=bb;return Ha}});const T=aa=>aa.source.x,ja=aa=>aa.source.y,fa=aa=>aa.target.x,ia=aa=>aa.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},
{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};H.inherits(a,l.Transform,{transform(aa,ta){var wa=aa.sourceX||T,Ha=aa.sourceY||ja,bb=
aa.targetX||fa,kb=aa.targetY||ia,va=aa.as||"path",Ta=aa.shape||"line",Ya=C.get(Ta+"-"+(aa.orient||"vertical"))||C.get(Ta);Ya||H.error("LinkPath unsupported type: "+aa.shape+(aa.orient?"-"+aa.orient:""));ta.visit(ta.SOURCE,Ca=>{Ca[va]=Ya(wa(Ca),Ha(Ca),bb(Ca),kb(Ca))});return ta.reflow(aa.modified()).modifies(va)}});const la=(aa,ta,wa,Ha)=>"M"+aa+","+ta+"L"+wa+","+Ha,Z=(aa,ta,wa,Ha)=>{var bb=wa-aa,kb=Ha-ta,va=Math.sqrt(bb*bb+kb*kb)/2;return"M"+aa+","+ta+"A"+va+","+va+" "+180*Math.atan2(kb,bb)/Math.PI+
" 0 1 "+wa+","+Ha},P=(aa,ta,wa,Ha)=>{var bb=wa-aa;const kb=Ha-ta,va=.2*(bb+kb);bb=.2*(kb-bb);return"M"+aa+","+ta+"C"+(aa+va)+","+(ta+bb)+" "+(wa+bb)+","+(Ha-va)+" "+wa+","+Ha},C=H.fastmap({line:la,"line-radial":(aa,ta,wa,Ha)=>la(ta*Math.cos(aa),ta*Math.sin(aa),Ha*Math.cos(wa),Ha*Math.sin(wa)),arc:Z,"arc-radial":(aa,ta,wa,Ha)=>Z(ta*Math.cos(aa),ta*Math.sin(aa),Ha*Math.cos(wa),Ha*Math.sin(wa)),curve:P,"curve-radial":(aa,ta,wa,Ha)=>P(ta*Math.cos(aa),ta*Math.sin(aa),Ha*Math.cos(wa),Ha*Math.sin(wa)),"orthogonal-horizontal":(aa,
ta,wa,Ha)=>"M"+aa+","+ta+"V"+Ha+"H"+wa,"orthogonal-vertical":(aa,ta,wa,Ha)=>"M"+aa+","+ta+"H"+wa+"V"+Ha,"orthogonal-radial":(aa,ta,wa,Ha)=>{const bb=Math.cos(wa),kb=Math.sin(wa);return"M"+ta*Math.cos(aa)+","+ta*Math.sin(aa)+"A"+ta+","+ta+" 0 0,"+((Math.abs(wa-aa)>Math.PI?wa<=aa:wa>aa)?1:0)+" "+ta*bb+","+ta*kb+"L"+Ha*bb+","+Ha*kb},"diagonal-horizontal":(aa,ta,wa,Ha)=>{const bb=(aa+wa)/2;return"M"+aa+","+ta+"C"+bb+","+ta+" "+bb+","+Ha+" "+wa+","+Ha},"diagonal-vertical":(aa,ta,wa,Ha)=>{const bb=(ta+
Ha)/2;return"M"+aa+","+ta+"C"+aa+","+bb+" "+wa+","+bb+" "+wa+","+Ha},"diagonal-radial":(aa,ta,wa,Ha)=>{const bb=Math.cos(aa);aa=Math.sin(aa);const kb=Math.cos(wa);wa=Math.sin(wa);const va=(ta+Ha)/2;return"M"+ta*bb+","+ta*aa+"C"+va*bb+","+va*aa+" "+va*kb+","+va*wa+" "+Ha*kb+","+Ha*wa}});e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};H.inherits(e,l.Transform,{transform(aa,ta){var wa=aa.as||["startAngle","endAngle"],Ha=wa[0],bb=wa[1],kb=aa.startAngle||0,va=null!=aa.endAngle?aa.endAngle:2*Math.PI,Ta=ta.source,Ya=Ta.map(aa.field||H.one),Ca=Ya.length,ua=kb;kb=(va-kb)/N.sum(Ya);va=N.range(Ca);var U;aa.sort&&va.sort((ca,ra)=>Ya[ca]-Ya[ra]);for(U=0;U<Ca;++U){var W=Ya[va[U]];var ba=Ta[va[U]];ba[Ha]=ua;ba[bb]=ua+=W*kb}this.value=Ya;return ta.reflow(aa.modified()).modifies(wa)}});
const V=H.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));H.inherits(y,l.Transform,{transform(aa,ta){var wa=ta.dataflow,Ha=this.value;var bb=aa.type;var kb="";if(bb===w.Sequential)bb=w.Sequential+"-"+w.Linear;else{var va=aa.type;if(va=w.isContinuous(va)&&va!==w.Time&&va!==w.UTC&&(aa.scheme||aa.range&&aa.range.length&&aa.range.every(H.isString)))kb=
aa.rawDomain?aa.rawDomain.length:aa.domain?aa.domain.length+ +(null!=aa.domainMid):0,kb=2===kb?w.Sequential+"-":3===kb?w.Diverging+"-":"";bb=(kb+bb||w.Linear).toLowerCase()}Ha&&bb===Ha.type||(this.value=Ha=w.scale(bb)());for(bb in aa)V[bb]||"padding"===bb&&n(Ha.type)||(H.isFunction(Ha[bb])?Ha[bb](aa[bb]):wa.warn("Unsupported scale property: "+bb));kb=bb=Ha;(va=aa.domainRaw)?(Ha.domain(B(Ha.type,va,wa)),va=va.length):va=-1;if(-1<va)wa=va;else{var Ta=aa.domain;va=Ha.type;var Ya;!(Ya=aa.zero)&&(Ya=void 0===
aa.zero)&&(Ya=Ha.type,Ya=!Ha.bins&&(Ya===w.Linear||Ya===w.Pow||Ya===w.Sqrt));if(Ta){if(n(va)&&aa.padding&&Ta[0]!==H.peek(Ta)){var Ca=aa.range,ua=aa.padding;var U=aa.exponent;var W=aa.constant;Ca=Math.abs(H.peek(Ca)-Ca[0]);ua=Ca/(Ca-2*ua);U=va===w.Log?H.zoomLog(Ta,null,ua):va===w.Sqrt?H.zoomPow(Ta,null,ua,.5):va===w.Pow?H.zoomPow(Ta,null,ua,U||1):va===w.Symlog?H.zoomSymlog(Ta,null,ua,W||1):H.zoomLinear(Ta,null,ua);Ta=Ta.slice();Ta[0]=U[0];Ta[Ta.length-1]=U[1]}if(Ya||null!=aa.domainMin||null!=aa.domainMax||
null!=aa.domainMid)U=(Ta=Ta.slice()).length-1||1,Ya&&(0<Ta[0]&&(Ta[0]=0),0>Ta[U]&&(Ta[U]=0)),null!=aa.domainMin&&(Ta[0]=aa.domainMin),null!=aa.domainMax&&(Ta[U]=aa.domainMax),null!=aa.domainMid&&(Ya=aa.domainMid,W=Ya>Ta[U]?U+1:Ya<Ta[0]?0:U,W!==U&&wa.warn("Scale domainMid exceeds domain min or max.",Ya),Ta.splice(W,0,Ya));Ha.domain(B(va,Ta,wa));va===w.Ordinal&&Ha.unknown(aa.domainImplicit?w.scaleImplicit:void 0);aa.nice&&Ha.nice&&Ha.nice(!0!==aa.nice&&w.tickCount(Ha,aa.nice)||null);wa=Ta.length}else wa=
0}(va=aa.bins)&&!H.isArray(va)&&(Ya=kb.domain(),Ha=Ya[0],Ya=H.peek(Ya),Ta=va.step,U=null==va.start?Ha:va.start,va=null==va.stop?Ya:va.stop,Ta||H.error("Scale bins parameter missing step property."),U<Ha&&(U=Ta*Math.ceil(Ha/Ta)),va>Ya&&(va=Ta*Math.floor(Ya/Ta)),va=N.range(U,va+Ta/2,Ta));va?kb.bins=va:kb.bins&&delete kb.bins;kb.type===w.BinOrdinal&&(va?aa.domain||aa.domainRaw||(kb.domain(va),wa=va.length):kb.bins=kb.domain());Ha=wa;a:{kb=bb.type;wa=aa.round||!1;va=aa.range;if(null!=aa.rangeStep)kb!==
w.Band&&kb!==w.Point&&H.error("Only band and point scales support rangeStep."),va=[0,aa.rangeStep*w.bandSpace(Ha,kb===w.Point?1:(null!=aa.paddingInner?aa.paddingInner:aa.padding)||0,(null!=aa.paddingOuter?aa.paddingOuter:aa.padding)||0)];else if(aa.scheme&&(va=aa.schemeExtent,H.isArray(aa.scheme)?Ya=w.interpolateColors(aa.scheme,aa.interpolate,aa.interpolateGamma):(Ya=aa.scheme.toLowerCase(),(Ya=w.scheme(Ya))||H.error(`Unrecognized scheme name: ${aa.scheme}`)),Ha=kb===w.Threshold?Ha+1:kb===w.BinOrdinal?
Ha-1:kb===w.Quantile||kb===w.Quantize?+aa.schemeCount||5:Ha,va=w.isInterpolating(kb)?D(Ya,va,aa.reverse):H.isFunction(Ya)?w.quantizeInterpolator(D(Ya,va),Ha):kb===w.Ordinal?Ya:Ya.slice(0,Ha),H.isFunction(va)))if(bb.interpolator){bb.interpolator(va);break a}else H.error(`Scale type ${kb} does not support interpolating color schemes.`);va&&w.isInterpolating(kb)?bb.interpolator(w.interpolateColors(O(va,aa.reverse),aa.interpolate,aa.interpolateGamma)):(va&&aa.interpolate&&bb.interpolate?bb.interpolate(w.interpolate(aa.interpolate,
aa.interpolateGamma)):H.isFunction(bb.round)?bb.round(wa):H.isFunction(bb.rangeRound)&&bb.interpolate(wa?x.interpolateRound:x.interpolate),va&&bb.range(O(va,aa.reverse)))}return ta.fork(ta.NO_SOURCE|ta.NO_FIELDS)}});H.inherits(M,l.Transform,{transform(aa,ta){const wa=aa.modified("sort")||ta.changed(ta.ADD)||ta.modified(aa.sort.fields)||ta.modified("datum");wa&&ta.source.sort(l.stableCompare(aa.sort));this.modified(wa);return ta}});const ha=["y0","y1"];F.Definition={type:"Stack",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":ha}]};H.inherits(F,l.Transform,{transform(aa,ta){var wa=aa.as||ha,Ha=wa[0],bb=wa[1],kb=l.stableCompare(aa.sort),va=aa.field||H.one,Ta="center"===aa.offset?z:"normalize"===aa.offset?G:K,Ya;kb=R(ta.source,aa.groupby,kb,va);var Ca=0;var ua=kb.length;for(Ya=kb.max;Ca<
ua;++Ca)Ta(kb[Ca],Ya,va,Ha,bb);return ta.reflow(aa.modified()).modifies(wa)}});k.axisticks=v;k.datajoin=u;k.encode=d;k.legendentries=f;k.linkpath=a;k.pie=e;k.scale=y;k.sortitems=M;k.stack=F;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(Wa){return 1<Wa?0:-1>Wa?me:Math.acos(Wa)}function H(Wa){return 1<Wa?te:-1>Wa?-te:Math.asin(Wa)}function N(Wa){return(Wa=kc(Wa/2))*Wa}function x(){}function v(Wa,ob){if(Wa&&If.hasOwnProperty(Wa.type))If[Wa.type](Wa,ob)}function u(Wa,ob,zb){var Mb=-1;zb=Wa.length-
zb;for(ob.lineStart();++Mb<zb;){var bc=Wa[Mb];ob.point(bc[0],bc[1],bc[2])}ob.lineEnd()}function m(Wa,ob){var zb=-1,Mb=Wa.length;for(ob.polygonStart();++zb<Mb;)u(Wa[zb],ob,1);ob.polygonEnd()}function g(Wa,ob){if(Wa&&Yf.hasOwnProperty(Wa.type))Yf[Wa.type](Wa,ob);else v(Wa,ob)}function d(){Cb.point=a}function f(){e(qe,yc)}function a(Wa,ob){Cb.point=e;qe=Wa;yc=ob;Wa*=Xd;ob*=Xd;xa=Wa;Ea=Td(ob=ob/2+kf);Za=kc(ob)}function e(Wa,ob){Wa*=Xd;ob*=Xd;ob=ob/2+kf;var zb=Wa-xa,Mb=0<=zb?1:-1,bc=Mb*zb;zb=Td(ob);ob=
kc(ob);var Kc=Za*ob,r=Ea*zb+Kc*Td(bc);Mb=Kc*Mb*kc(bc);Sf.add(Ge(Mb,r));xa=Wa;Ea=zb;Za=ob}function n(Wa){return[Ge(Wa[1],Wa[0]),H(Wa[2])]}function y(Wa){var ob=Wa[0];Wa=Wa[1];var zb=Td(Wa);return[zb*Td(ob),zb*kc(ob),kc(Wa)]}function B(Wa,ob){return Wa[0]*ob[0]+Wa[1]*ob[1]+Wa[2]*ob[2]}function D(Wa,ob){return[Wa[1]*ob[2]-Wa[2]*ob[1],Wa[2]*ob[0]-Wa[0]*ob[2],Wa[0]*ob[1]-Wa[1]*ob[0]]}function O(Wa,ob){Wa[0]+=ob[0];Wa[1]+=ob[1];Wa[2]+=ob[2]}function M(Wa,ob){return[Wa[0]*ob,Wa[1]*ob,Wa[2]*ob]}function F(Wa){var ob=
ue(Wa[0]*Wa[0]+Wa[1]*Wa[1]+Wa[2]*Wa[2]);Wa[0]/=ob;Wa[1]/=ob;Wa[2]/=ob}function z(Wa,ob){jd.push(Qd=[ub=Wa,$b=Wa]);ob<Yb&&(Yb=ob);ob>Oc&&(Oc=ob)}function G(Wa,ob){var zb=y([Wa*Xd,ob*Xd]);if(od){var Mb=D(od,zb);Mb=D([Mb[1],-Mb[0],0],Mb);F(Mb);Mb=n(Mb);var bc=Wa-gd,Kc=0<bc?1:-1,r=Mb[0]*Od*Kc;bc=180<Be(bc);bc^(Kc*gd<r&&r<Kc*Wa)?(Mb=Mb[1]*Od,Mb>Oc&&(Oc=Mb)):(r=(r+360)%360-180,bc^(Kc*gd<r&&r<Kc*Wa))?(Mb=-Mb[1]*Od,Mb<Yb&&(Yb=Mb)):(ob<Yb&&(Yb=ob),ob>Oc&&(Oc=ob));bc?Wa<gd?ia(ub,Wa)>ia(ub,$b)&&($b=Wa):ia(Wa,
$b)>ia(ub,$b)&&(ub=Wa):$b>=ub?(Wa<ub&&(ub=Wa),Wa>$b&&($b=Wa)):Wa>gd?ia(ub,Wa)>ia(ub,$b)&&($b=Wa):ia(Wa,$b)>ia(ub,$b)&&(ub=Wa)}else jd.push(Qd=[ub=Wa,$b=Wa]);ob<Yb&&(Yb=ob);ob>Oc&&(Oc=ob);od=zb;gd=Wa}function K(){ie.point=G}function R(){Qd[0]=ub;Qd[1]=$b;ie.point=z;od=null}function T(Wa,ob){if(od){var zb=Wa-gd;Id.add(180<Be(zb)?zb+(0<zb?360:-360):zb)}else Mc=Wa,Nd=ob;Cb.point(Wa,ob);G(Wa,ob)}function ja(){Cb.lineStart()}function fa(){T(Mc,Nd);Cb.lineEnd();1E-6<Be(Id)&&(ub=-($b=180));Qd[0]=ub;Qd[1]=
$b;od=null}function ia(Wa,ob){return 0>(ob-=Wa)?ob+360:ob}function la(Wa,ob){return Wa[0]-ob[0]}function Z(Wa,ob){return Wa[0]<=Wa[1]?Wa[0]<=ob&&ob<=Wa[1]:ob<Wa[0]||Wa[1]<ob}function P(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob);C(zb*Td(Wa),zb*kc(Wa),kc(ob))}function C(Wa,ob,zb){++Gf;kd+=(Wa-kd)/Gf;We+=(ob-We)/Gf;uf+=(zb-uf)/Gf}function V(){oc.point=ha}function ha(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob);Wb=zb*Td(Wa);Tb=zb*kc(Wa);ic=kc(ob);oc.point=aa;C(Wb,Tb,ic)}function aa(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob),Mb=
zb*Td(Wa);Wa=zb*kc(Wa);ob=kc(ob);var bc=Ge(ue((bc=Tb*ob-ic*Wa)*bc+(bc=ic*Mb-Wb*ob)*bc+(bc=Wb*Wa-Tb*Mb)*bc),Wb*Mb+Tb*Wa+ic*ob);tf+=bc;mf+=bc*(Wb+(Wb=Mb));Zf+=bc*(Tb+(Tb=Wa));yf+=bc*(ic+(ic=ob));C(Wb,Tb,ic)}function ta(){oc.point=P}function wa(){oc.point=bb}function Ha(){kb(Pa,vb);oc.point=P}function bb(Wa,ob){Pa=Wa;vb=ob;Wa*=Xd;ob*=Xd;oc.point=kb;var zb=Td(ob);Wb=zb*Td(Wa);Tb=zb*kc(Wa);ic=kc(ob);C(Wb,Tb,ic)}function kb(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob),Mb=zb*Td(Wa);Wa=zb*kc(Wa);ob=kc(ob);zb=Tb*ob-
ic*Wa;var bc=ic*Mb-Wb*ob,Kc=Wb*Wa-Tb*Mb,r=Gc(zb,bc,Kc),Q=H(r);r=r&&-Q/r;Pe.add(r*zb);nf.add(r*bc);Aa.add(r*Kc);tf+=Q;mf+=Q*(Wb+(Wb=Mb));Zf+=Q*(Tb+(Tb=Wa));yf+=Q*(ic+(ic=ob));C(Wb,Tb,ic)}function va(Wa){return function(){return Wa}}function Ta(Wa,ob){function zb(Mb,bc){return Mb=Wa(Mb,bc),ob(Mb[0],Mb[1])}Wa.invert&&ob.invert&&(zb.invert=function(Mb,bc){return Mb=ob.invert(Mb,bc),Mb&&Wa.invert(Mb[0],Mb[1])});return zb}function Ya(Wa,ob){return[Be(Wa)>me?Wa+Math.round(-Wa/we)*we:Wa,ob]}function Ca(Wa,
ob,zb){return(Wa%=we)?ob||zb?Ta(U(Wa),W(ob,zb)):U(Wa):ob||zb?W(ob,zb):Ya}function ua(Wa){return function(ob,zb){return ob+=Wa,[ob>me?ob-we:ob<-me?ob+we:ob,zb]}}function U(Wa){var ob=ua(Wa);ob.invert=ua(-Wa);return ob}function W(Wa,ob){function zb(Q,ma){var Ma=Td(ma),gb=Td(Q)*Ma;Q=kc(Q)*Ma;ma=kc(ma);Ma=ma*Mb+gb*bc;return[Ge(Q*Kc-Ma*r,gb*Mb-ma*bc),H(Ma*Kc+Q*r)]}var Mb=Td(Wa),bc=kc(Wa),Kc=Td(ob),r=kc(ob);zb.invert=function(Q,ma){var Ma=Td(ma),gb=Td(Q)*Ma;Q=kc(Q)*Ma;ma=kc(ma);Ma=ma*Kc-Q*r;return[Ge(Q*
Kc+ma*r,gb*Mb+Ma*bc),H(Ma*Mb-gb*bc)]};return zb}function ba(Wa){function ob(zb){zb=Wa(zb[0]*Xd,zb[1]*Xd);return zb[0]*=Od,zb[1]*=Od,zb}Wa=Ca(Wa[0]*Xd,Wa[1]*Xd,2<Wa.length?Wa[2]*Xd:0);ob.invert=function(zb){zb=Wa.invert(zb[0]*Xd,zb[1]*Xd);return zb[0]*=Od,zb[1]*=Od,zb};return ob}function ca(Wa,ob,zb,Mb,bc,Kc){if(zb){var r=Td(ob),Q=kc(ob);zb*=Mb;if(null==bc)bc=ob+Mb*we,Kc=ob-zb/2;else if(bc=ra(r,bc),Kc=ra(r,Kc),0<Mb?bc<Kc:bc>Kc)bc+=Mb*we;for(;0<Mb?bc>Kc:bc<Kc;bc-=zb)ob=n([r,-Q*Td(bc),-Q*kc(bc)]),Wa.point(ob[0],
ob[1])}}function ra(Wa,ob){ob=y(ob);ob[0]-=Wa;F(ob);Wa=w(-ob[1]);return((0>-ob[2]?-Wa:Wa)+we-1E-6)%we}function qa(){var Wa=[],ob;return{point:function(zb,Mb,bc){ob.push([zb,Mb,bc])},lineStart:function(){Wa.push(ob=[])},lineEnd:x,rejoin:function(){1<Wa.length&&Wa.push(Wa.pop().concat(Wa.shift()))},result:function(){var zb=Wa;Wa=[];ob=null;return zb}}}function Da(Wa,ob){return 1E-6>Be(Wa[0]-ob[0])&&1E-6>Be(Wa[1]-ob[1])}function na(Wa,ob,zb,Mb){this.x=Wa;this.z=ob;this.o=zb;this.e=Mb;this.v=!1;this.n=
this.p=null}function Ra(Wa,ob,zb,Mb,bc){var Kc=[],r=[];Wa.forEach(function(lb){if(!(0>=(sb=lb.length-1))){var sb,Rb=lb[0],ec=lb[sb];if(Da(Rb,ec)){if(!Rb[2]&&!ec[2]){bc.lineStart();for(Q=0;Q<sb;++Q)bc.point((Rb=lb[Q])[0],Rb[1]);bc.lineEnd();return}ec[0]+=2E-6}Kc.push(sb=new na(Rb,lb,null,!0));r.push(sb.o=new na(Rb,null,sb,!1));Kc.push(sb=new na(ec,lb,null,!1));r.push(sb.o=new na(ec,null,sb,!0))}});if(Kc.length){r.sort(ob);db(Kc);db(r);var Q=0;for(Wa=r.length;Q<Wa;++Q)r[Q].e=zb=!zb;zb=Kc[0];for(var ma;;){for(var Ma=
zb,gb=!0;Ma.v;)if((Ma=Ma.n)===zb)return;ob=Ma.z;bc.lineStart();do{Ma.v=Ma.o.v=!0;if(Ma.e){if(gb)for(Q=0,Wa=ob.length;Q<Wa;++Q)bc.point((ma=ob[Q])[0],ma[1]);else Mb(Ma.x,Ma.n.x,1,bc);Ma=Ma.n}else{if(gb)for(ob=Ma.p.z,Q=ob.length-1;0<=Q;--Q)bc.point((ma=ob[Q])[0],ma[1]);else Mb(Ma.x,Ma.p.x,-1,bc);Ma=Ma.p}Ma=Ma.o;ob=Ma.z;gb=!gb}while(!Ma.v);bc.lineEnd()}}}function db(Wa){if(ob=Wa.length){for(var ob,zb=0,Mb=Wa[0],bc;++zb<ob;)Mb.n=bc=Wa[zb],bc.p=Mb,Mb=bc;Mb.n=bc=Wa[0];bc.p=Mb}}function $a(Wa){return Be(Wa[0])<=
me?Wa[0]:Fe(Wa[0])*((Be(Wa[0])+me)%we-me)}function Fa(Wa,ob){var zb=$a(ob);ob=ob[1];var Mb=kc(ob),bc=[kc(zb),-Td(zb),0],Kc=0,r=0,Q=new l.Adder;1===Mb?ob=te+1E-6:-1===Mb&&(ob=-te-1E-6);Mb=0;for(var ma=Wa.length;Mb<ma;++Mb)if(gb=(Ma=Wa[Mb]).length){var Ma,gb,lb=Ma[gb-1],sb=$a(lb),Rb=lb[1]/2+kf,ec=kc(Rb),Vb=Td(Rb);for(Rb=0;Rb<gb;++Rb,sb=dd,ec=zd,Vb=rd,lb=Qc){var Qc=Ma[Rb],dd=$a(Qc);rd=Qc[1]/2+kf;var zd=kc(rd),rd=Td(rd),bd=dd-sb,Jc=0<=bd?1:-1,ud=Jc*bd,ee=ud>me;ec*=zd;Q.add(Ge(ec*Jc*kc(ud),Vb*rd+ec*Td(ud)));
Kc+=ee?bd+Jc*we:bd;ee^sb>=zb^dd>=zb&&(lb=D(y(lb),y(Qc)),F(lb),sb=D(bc,lb),F(sb),sb=(ee^0<=bd?-1:1)*H(sb[2]),ob>sb||ob===sb&&(lb[0]||lb[1]))&&(r+=ee^0<=bd?1:-1)}}return(-1E-6>Kc||1E-6>Kc&&-1E-12>Q)^r&1}function Ga(Wa,ob,zb,Mb){return function(bc){function Kc(bd,Jc){Wa(bd,Jc)&&bc.point(bd,Jc)}function r(bd,Jc){sb.point(bd,Jc)}function Q(){rd.point=r;sb.lineStart()}function ma(){rd.point=Kc;sb.lineEnd()}function Ma(bd,Jc){zd.push([bd,Jc]);ec.point(bd,Jc)}function gb(){ec.lineStart();zd=[]}function lb(){Ma(zd[0][0],
zd[0][1]);ec.lineEnd();var bd=ec.clean(),Jc=Rb.result(),ud=Jc.length,ee;zd.pop();Qc.push(zd);zd=null;if(ud)if(bd&1){if(ud=Jc[0],0<(Jc=ud.length-1)){Vb||(bc.polygonStart(),Vb=!0);bc.lineStart();for(bd=0;bd<Jc;++bd)bc.point((ee=ud[bd])[0],ee[1]);bc.lineEnd()}}else 1<ud&&bd&2&&Jc.push(Jc.pop().concat(Jc.shift())),dd.push(Jc.filter(pa))}var sb=ob(bc),Rb=qa(),ec=ob(Rb),Vb=!1,Qc,dd,zd,rd={point:Kc,lineStart:Q,lineEnd:ma,polygonStart:function(){rd.point=Ma;rd.lineStart=gb;rd.lineEnd=lb;dd=[];Qc=[]},polygonEnd:function(){rd.point=
Kc;rd.lineStart=Q;rd.lineEnd=ma;dd=l.merge(dd);var bd=Fa(Qc,Mb);dd.length?(Vb||(bc.polygonStart(),Vb=!0),Ra(dd,Ja,bd,zb,bc)):bd&&(Vb||(bc.polygonStart(),Vb=!0),bc.lineStart(),zb(null,null,1,bc),bc.lineEnd());Vb&&(bc.polygonEnd(),Vb=!1);dd=Qc=null},sphere:function(){bc.polygonStart();bc.lineStart();zb(null,null,1,bc);bc.lineEnd();bc.polygonEnd()}};return rd}}function pa(Wa){return 1<Wa.length}function Ja(Wa,ob){return(0>(Wa=Wa.x)[0]?Wa[1]-te-1E-6:te-Wa[1])-(0>(ob=ob.x)[0]?ob[1]-te-1E-6:te-ob[1])}function Ua(Wa){function ob(ma,
Ma){return Td(ma)*Td(Ma)>bc}function zb(ma,Ma,gb){var lb=y(ma),sb=y(Ma),Rb=[1,0,0];sb=D(lb,sb);var ec=B(sb,sb);lb=sb[0];var Vb=ec-lb*lb;if(!Vb)return!gb&&ma;ec=bc*ec/Vb;Vb=-bc*lb/Vb;lb=D(Rb,sb);Rb=M(Rb,ec);sb=M(sb,Vb);O(Rb,sb);sb=B(Rb,lb);ec=B(lb,lb);Vb=sb*sb-ec*(B(Rb,Rb)-1);if(!(0>Vb)){var Qc=ue(Vb);Vb=M(lb,(-sb-Qc)/ec);O(Vb,Rb);Vb=n(Vb);if(!gb)return Vb;gb=ma[0];var dd=Ma[0];ma=ma[1];Ma=Ma[1];if(dd<gb){var zd=gb;gb=dd;dd=zd}var rd=dd-gb,bd=1E-6>Be(rd-me);!bd&&Ma<ma&&(zd=ma,ma=Ma,Ma=zd);if(bd||1E-6>
rd?bd?0<ma+Ma^Vb[1]<(1E-6>Be(Vb[0]-gb)?ma:Ma):ma<=Vb[1]&&Vb[1]<=Ma:rd>me^(gb<=Vb[0]&&Vb[0]<=dd))return Ma=M(lb,(-sb+Qc)/ec),O(Ma,Rb),[Vb,n(Ma)]}}function Mb(ma,Ma){var gb=r?Wa:me-Wa,lb=0;ma<-gb?lb|=1:ma>gb&&(lb|=2);Ma<-gb?lb|=4:Ma>gb&&(lb|=8);return lb}var bc=Td(Wa),Kc=6*Xd,r=0<bc,Q=1E-6<Be(bc);return Ga(ob,function(ma){var Ma,gb,lb,sb,Rb;return{lineStart:function(){sb=lb=!1;Rb=1},point:function(ec,Vb){var Qc=[ec,Vb],dd=ob(ec,Vb);Vb=r?dd?0:Mb(ec,Vb):dd?Mb(ec+(0>ec?me:-me),Vb):0;!Ma&&(sb=lb=dd)&&ma.lineStart();
dd!==lb&&(ec=zb(Ma,Qc),!ec||Da(Ma,ec)||Da(Qc,ec))&&(Qc[2]=1);if(dd!==lb)Rb=0,dd?(ma.lineStart(),ec=zb(Qc,Ma),ma.point(ec[0],ec[1])):(ec=zb(Ma,Qc),ma.point(ec[0],ec[1],2),ma.lineEnd()),Ma=ec;else if(Q&&Ma&&r^dd){var zd;Vb&gb||!(zd=zb(Qc,Ma,!0))||(Rb=0,r?(ma.lineStart(),ma.point(zd[0][0],zd[0][1]),ma.point(zd[1][0],zd[1][1]),ma.lineEnd()):(ma.point(zd[1][0],zd[1][1]),ma.lineEnd(),ma.lineStart(),ma.point(zd[0][0],zd[0][1],3)))}!dd||Ma&&Da(Ma,Qc)||ma.point(Qc[0],Qc[1]);Ma=Qc;lb=dd;gb=Vb},lineEnd:function(){lb&&
ma.lineEnd();Ma=null},clean:function(){return Rb|(sb&&lb)<<1}}},function(ma,Ma,gb,lb){ca(lb,Wa,Kc,gb,ma,Ma)},r?[0,-Wa]:[-me,Wa-me])}function jb(Wa,ob,zb,Mb,bc,Kc){var r=Wa[0],Q=Wa[1],ma=0,Ma=1,gb=ob[0]-r,lb=ob[1]-Q;zb-=r;if(gb||!(0<zb)){zb/=gb;if(0>gb){if(zb<ma)return;zb<Ma&&(Ma=zb)}else if(0<gb){if(zb>Ma)return;zb>ma&&(ma=zb)}zb=bc-r;if(gb||!(0>zb)){zb/=gb;if(0>gb){if(zb>Ma)return;zb>ma&&(ma=zb)}else if(0<gb){if(zb<ma)return;zb<Ma&&(Ma=zb)}zb=Mb-Q;if(lb||!(0<zb)){zb/=lb;if(0>lb){if(zb<ma)return;
zb<Ma&&(Ma=zb)}else if(0<lb){if(zb>Ma)return;zb>ma&&(ma=zb)}zb=Kc-Q;if(lb||!(0>zb)){zb/=lb;if(0>lb){if(zb>Ma)return;zb>ma&&(ma=zb)}else if(0<lb){if(zb<ma)return;zb<Ma&&(Ma=zb)}0<ma&&(Wa[0]=r+ma*gb,Wa[1]=Q+ma*lb);1>Ma&&(ob[0]=r+Ma*gb,ob[1]=Q+Ma*lb);return!0}}}}}function Fb(Wa,ob,zb,Mb){function bc(ma,Ma,gb,lb){var sb=0,Rb=0;if(null==ma||(sb=Kc(ma,gb))!==(Rb=Kc(Ma,gb))||0>Q(ma,Ma)^0<gb){do lb.point(0===sb||3===sb?Wa:zb,1<sb?Mb:ob);while((sb=(sb+gb+4)%4)!==Rb)}else lb.point(Ma[0],Ma[1])}function Kc(ma,
Ma){return 1E-6>Be(ma[0]-Wa)?0<Ma?0:3:1E-6>Be(ma[0]-zb)?0<Ma?2:1:1E-6>Be(ma[1]-ob)?0<Ma?1:0:0<Ma?3:2}function r(ma,Ma){return Q(ma.x,Ma.x)}function Q(ma,Ma){var gb=Kc(ma,1),lb=Kc(Ma,1);return gb!==lb?gb-lb:0===gb?Ma[1]-ma[1]:1===gb?ma[0]-Ma[0]:2===gb?ma[1]-Ma[1]:Ma[0]-ma[0]}return function(ma){function Ma(ye,re){Wa<=ye&&ye<=zb&&ob<=re&&re<=Mb&&lb.point(ye,re)}function gb(ye,re){var Pf=Wa<=ye&&ye<=zb&&ob<=re&&re<=Mb;ec&&Vb.push([ye,re]);if(ud)Qc=ye,dd=re,zd=Pf,ud=!1,Pf&&(lb.lineStart(),lb.point(ye,
re));else if(Pf&&Jc)lb.point(ye,re);else{var ke=[rd=Math.max(-1E9,Math.min(1E9,rd)),bd=Math.max(-1E9,Math.min(1E9,bd))],pe=[ye=Math.max(-1E9,Math.min(1E9,ye)),re=Math.max(-1E9,Math.min(1E9,re))];jb(ke,pe,Wa,ob,zb,Mb)?(Jc||(lb.lineStart(),lb.point(ke[0],ke[1])),lb.point(pe[0],pe[1]),Pf||lb.lineEnd(),ee=!1):Pf&&(lb.lineStart(),lb.point(ye,re),ee=!1)}rd=ye;bd=re;Jc=Pf}var lb=ma,sb=qa(),Rb,ec,Vb,Qc,dd,zd,rd,bd,Jc,ud,ee,Sd={point:Ma,lineStart:function(){Sd.point=gb;ec&&ec.push(Vb=[]);ud=!0;Jc=!1;rd=bd=
NaN},lineEnd:function(){Rb&&(gb(Qc,dd),zd&&Jc&&sb.rejoin(),Rb.push(sb.result()));Sd.point=Ma;Jc&&lb.lineEnd()},polygonStart:function(){lb=sb;Rb=[];ec=[];ee=!0},polygonEnd:function(){for(var ye,re=ye=0,Pf=ec.length;re<Pf;++re){var ke=ec[re],pe=1,Re=ke.length,xd=ke[0],Oe=xd[0];for(xd=xd[1];pe<Re;++pe){var dg=Oe;var Xe=xd;xd=ke[pe];Oe=xd[0];xd=xd[1];Xe<=Mb?xd>Mb&&(Oe-dg)*(Mb-Xe)>(xd-Xe)*(Wa-dg)&&++ye:xd<=Mb&&(Oe-dg)*(Mb-Xe)<(xd-Xe)*(Wa-dg)&&--ye}}re=ee&&ye;Pf=(Rb=l.merge(Rb)).length;if(re||Pf)ma.polygonStart(),
re&&(ma.lineStart(),bc(null,null,1,ma),ma.lineEnd()),Pf&&Ra(Rb,r,ye,bc,ma),ma.polygonEnd();lb=ma;Rb=ec=Vb=null}};return Sd}}function Xb(){je.point=je.lineEnd=x}function nc(Wa,ob){Wa*=Xd;ob*=Xd;nd=Wa;Kd=kc(ob);de=Td(ob);je.point=md}function md(Wa,ob){Wa*=Xd;ob*=Xd;var zb=kc(ob);ob=Td(ob);var Mb=Be(Wa-nd),bc=Td(Mb);Mb=kc(Mb);Mb*=ob;var Kc=de*zb-Kd*ob*bc;bc=Kd*zb+de*ob*bc;Wc.add(Ge(ue(Mb*Mb+Kc*Kc),bc));nd=Wa;Kd=zb;de=ob}function pc(Wa){Wc=new l.Adder;g(Wa,je);return+Wc}function Hc(Wa,ob){Gd[0]=Wa;Gd[1]=
ob;return pc(Le)}function mb(Wa,ob){return Wa&&Ie.hasOwnProperty(Wa.type)?Ie[Wa.type](Wa,ob):!1}function hc(Wa,ob){for(var zb,Mb,bc,Kc=0,r=Wa.length;Kc<r;Kc++){Mb=Hc(Wa[Kc],ob);if(0===Mb||0<Kc&&(bc=Hc(Wa[Kc],Wa[Kc-1]),0<bc&&zb<=bc&&Mb<=bc&&(zb+Mb-bc)*(1-Math.pow((zb-Mb)/bc,2))<1E-12*bc))return!0;zb=Mb}return!1}function jc(Wa,ob){return!!Fa(Wa.map(rc),Pc(ob))}function rc(Wa){return Wa=Wa.map(Pc),Wa.pop(),Wa}function Pc(Wa){return[Wa[0]*Xd,Wa[1]*Xd]}function sc(Wa,ob,zb){var Mb=l.range(Wa,ob-1E-6,zb).concat(ob);
return function(bc){return Mb.map(function(Kc){return[bc,Kc]})}}function Uc(Wa,ob,zb){var Mb=l.range(Wa,ob-1E-6,zb).concat(ob);return function(bc){return Mb.map(function(Kc){return[Kc,bc]})}}function Sc(){function Wa(){return{type:"MultiLineString",coordinates:ob()}}function ob(){return l.range(Ye(Kc/sb)*sb,bc,sb).map(Qc).concat(l.range(Ye(Ma/Rb)*Rb,ma,Rb).map(dd)).concat(l.range(Ye(Mb/gb)*gb,zb,gb).filter(function(rd){return 1E-6<Be(rd%sb)}).map(ec)).concat(l.range(Ye(Q/lb)*lb,r,lb).filter(function(rd){return 1E-6<
Be(rd%Rb)}).map(Vb))}var zb,Mb,bc,Kc,r,Q,ma,Ma,gb=10,lb=gb,sb=90,Rb=360,ec,Vb,Qc,dd,zd=2.5;Wa.lines=function(){return ob().map(function(rd){return{type:"LineString",coordinates:rd}})};Wa.outline=function(){return{type:"Polygon",coordinates:[Qc(Kc).concat(dd(ma).slice(1),Qc(bc).reverse().slice(1),dd(Ma).reverse().slice(1))]}};Wa.extent=function(rd){return arguments.length?Wa.extentMajor(rd).extentMinor(rd):Wa.extentMinor()};Wa.extentMajor=function(rd){if(!arguments.length)return[[Kc,Ma],[bc,ma]];Kc=
+rd[0][0];bc=+rd[1][0];Ma=+rd[0][1];ma=+rd[1][1];Kc>bc&&(rd=Kc,Kc=bc,bc=rd);Ma>ma&&(rd=Ma,Ma=ma,ma=rd);return Wa.precision(zd)};Wa.extentMinor=function(rd){if(!arguments.length)return[[Mb,Q],[zb,r]];Mb=+rd[0][0];zb=+rd[1][0];Q=+rd[0][1];r=+rd[1][1];Mb>zb&&(rd=Mb,Mb=zb,zb=rd);Q>r&&(rd=Q,Q=r,r=rd);return Wa.precision(zd)};Wa.step=function(rd){return arguments.length?Wa.stepMajor(rd).stepMinor(rd):Wa.stepMinor()};Wa.stepMajor=function(rd){if(!arguments.length)return[sb,Rb];sb=+rd[0];Rb=+rd[1];return Wa};
Wa.stepMinor=function(rd){if(!arguments.length)return[gb,lb];gb=+rd[0];lb=+rd[1];return Wa};Wa.precision=function(rd){if(!arguments.length)return zd;zd=+rd;ec=sc(Q,r,90);Vb=Uc(Mb,zb,zd);Qc=sc(Ma,ma,90);dd=Uc(Kc,bc,zd);return Wa};return Wa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Lc(){Lf.point=Fd}function Fd(Wa,ob){Lf.point=ge;ne=Cf=Wa;sf=Bg=ob}function ge(Wa,ob){Uf.add(Bg*Wa-Cf*ob);Cf=Wa;Bg=ob}function wd(){ge(ne,sf)}function vd(Wa,
ob){fb+=Wa;hb+=ob;++qb}function Wd(){xb.point=Pb}function Pb(Wa,ob){xb.point=gc;vd(Oa=Wa,Va=ob)}function gc(Wa,ob){var zb=Wa-Oa,Mb=ob-Va;zb=ue(zb*zb+Mb*Mb);Db+=zb*(Oa+Wa)/2;Ab+=zb*(Va+ob)/2;Kb+=zb;vd(Oa=Wa,Va=ob)}function Eb(){xb.point=vd}function zc(){xb.point=Ed}function Vc(){Vd(Y,oa)}function Ed(Wa,ob){xb.point=Vd;vd(Y=Oa=Wa,oa=Va=ob)}function Vd(Wa,ob){var zb=Wa-Oa,Mb=ob-Va;zb=ue(zb*zb+Mb*Mb);Db+=zb*(Oa+Wa)/2;Ab+=zb*(Va+ob)/2;Kb+=zb;zb=Va*Wa-Oa*ob;Jb+=zb*(Oa+Wa);cc+=zb*(Va+ob);xc+=3*zb;vd(Oa=
Wa,Va=ob)}function Ka(Wa){this._context=Wa}function eb(Wa,ob){Pd.point=wb;qc=ed=Wa;Ec=Zc=ob}function wb(Wa,ob){ed-=Wa;Zc-=ob;Sb.add(ue(ed*ed+Zc*Zc));ed=Wa;Zc=ob}function Hb(){this._string=[]}function ac(Wa){return"m0,"+Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+-2*Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+2*Wa+"z"}function Lb(Wa){return function(ob){var zb=new Ac,Mb;for(Mb in Wa)zb[Mb]=Wa[Mb];zb.stream=ob;return zb}}function Ac(){}function tc(Wa,ob,zb){var Mb=Wa.clipExtent&&Wa.clipExtent();Wa.scale(150).translate([0,0]);null!=
Mb&&Wa.clipExtent(null);g(zb,Wa.stream(Sa));ob(Sa.result());null!=Mb&&Wa.clipExtent(Mb);return Wa}function pb(Wa,ob,zb){return tc(Wa,function(Mb){var bc=ob[1][0]-ob[0][0],Kc=ob[1][1]-ob[0][1],r=Math.min(bc/(Mb[1][0]-Mb[0][0]),Kc/(Mb[1][1]-Mb[0][1]));bc=+ob[0][0]+(bc-r*(Mb[1][0]+Mb[0][0]))/2;Mb=+ob[0][1]+(Kc-r*(Mb[1][1]+Mb[0][1]))/2;Wa.scale(150*r).translate([bc,Mb])},zb)}function Bb(Wa,ob,zb){return tc(Wa,function(Mb){var bc=+ob,Kc=bc/(Mb[1][0]-Mb[0][0]);bc=(bc-Kc*(Mb[1][0]+Mb[0][0]))/2;Mb=-Kc*Mb[0][1];
Wa.scale(150*Kc).translate([bc,Mb])},zb)}function Ub(Wa,ob,zb){return tc(Wa,function(Mb){var bc=+ob,Kc=bc/(Mb[1][1]-Mb[0][1]),r=-Kc*Mb[0][0];Mb=(bc-Kc*(Mb[1][1]+Mb[0][1]))/2;Wa.scale(150*Kc).translate([r,Mb])},zb)}function mc(Wa){return Lb({point:function(ob,zb){ob=Wa(ob,zb);this.stream.point(ob[0],ob[1])}})}function Bc(Wa,ob){function zb(Mb,bc,Kc,r,Q,ma,Ma,gb,lb,sb,Rb,ec,Vb,Qc){var dd=Ma-Mb,zd=gb-bc,rd=dd*dd+zd*zd;if(rd>4*ob&&Vb--){var bd=r+sb,Jc=Q+Rb,ud=ma+ec,ee=ue(bd*bd+Jc*Jc+ud*ud),Sd=H(ud/=ee),
ye=1E-6>Be(Be(ud)-1)||1E-6>Be(Kc-lb)?(Kc+lb)/2:Ge(Jc,bd),re=Wa(ye,Sd);Sd=re[0];re=re[1];var Pf=Sd-Mb,ke=re-bc,pe=zd*Pf-dd*ke;if(pe*pe/rd>ob||.3<Be((dd*Pf+zd*ke)/rd-.5)||r*sb+Q*Rb+ma*ec<be)zb(Mb,bc,Kc,r,Q,ma,Sd,re,ye,bd/=ee,Jc/=ee,ud,Vb,Qc),Qc.point(Sd,re),zb(Sd,re,ye,bd,Jc,ud,Ma,gb,lb,sb,Rb,ec,Vb,Qc)}}return function(Mb){function bc(Sd,ye){Sd=Wa(Sd,ye);Mb.point(Sd[0],Sd[1])}function Kc(){zd=NaN;ee.point=r;Mb.lineStart()}function r(Sd,ye){var re=y([Sd,ye]);ye=Wa(Sd,ye);zb(zd,rd,dd,bd,Jc,ud,zd=ye[0],
rd=ye[1],dd=Sd,bd=re[0],Jc=re[1],ud=re[2],16,Mb);Mb.point(zd,rd)}function Q(){ee.point=bc;Mb.lineEnd()}function ma(){Kc();ee.point=Ma;ee.lineEnd=gb}function Ma(Sd,ye){r(lb=Sd,ye);sb=zd;Rb=rd;ec=bd;Vb=Jc;Qc=ud;ee.point=r}function gb(){zb(zd,rd,dd,bd,Jc,ud,sb,Rb,lb,ec,Vb,Qc,16,Mb);ee.lineEnd=Q;Q()}var lb,sb,Rb,ec,Vb,Qc,dd,zd,rd,bd,Jc,ud,ee={point:bc,lineStart:Kc,lineEnd:Q,polygonStart:function(){Mb.polygonStart();ee.lineStart=ma},polygonEnd:function(){Mb.polygonEnd();ee.lineStart=Kc}};return ee}}function Cc(Wa){return Lb({point:function(ob,
zb){ob=Wa(ob,zb);return this.stream.point(ob[0],ob[1])}})}function Xc(Wa,ob,zb,Mb,bc){function Kc(r,Q){r*=Mb;Q*=bc;return[ob+Wa*r,zb-Wa*Q]}Kc.invert=function(r,Q){return[(r-ob)/Wa*Mb,(zb-Q)/Wa*bc]};return Kc}function Qb(Wa,ob,zb,Mb,bc,Kc){function r(ec,Vb){ec*=Mb;Vb*=bc;return[ma*ec-Ma*Vb+ob,zb-Ma*ec-ma*Vb]}if(!Kc)return Xc(Wa,ob,zb,Mb,bc);var Q=Td(Kc);Kc=kc(Kc);var ma=Q*Wa,Ma=Kc*Wa,gb=Q/Wa,lb=Kc/Wa,sb=(Kc*zb-Q*ob)/Wa,Rb=(Kc*ob+Q*zb)/Wa;r.invert=function(ec,Vb){return[Mb*(gb*ec-lb*Vb+sb),bc*(Rb-lb*
ec-gb*Vb)]};return r}function Ic(Wa){return Dc(function(){return Wa})()}function Dc(Wa){function ob(xd){return ke(xd[0]*Xd,xd[1]*Xd)}function zb(xd){return(xd=ke.invert(xd[0],xd[1]))&&[xd[0]*Od,xd[1]*Od]}function Mb(){var xd=Qb(r,0,0,Qc,dd,Vb).apply(null,Kc(Ma,gb));xd=Qb(r,Q-xd[0],ma-xd[1],Qc,dd,Vb);ec=Ca(lb,sb,Rb);Pf=Ta(Kc,xd);ke=Ta(ec,Pf);xd=Pf;re=+ye?Bc(xd,ye):mc(xd);return bc()}function bc(){pe=Re=null;return ob}var Kc,r=150,Q=480,ma=250,Ma=0,gb=0,lb=0,sb=0,Rb=0,ec,Vb=0,Qc=1,dd=1,zd=null,rd=fd,
bd=null,Jc,ud,ee,Sd=Ce,ye=.5,re,Pf,ke,pe,Re;ob.stream=function(xd){return pe&&Re===xd?pe:pe=pd(Cc(ec)(rd(re(Sd(Re=xd)))))};ob.preclip=function(xd){return arguments.length?(rd=xd,zd=void 0,bc()):rd};ob.postclip=function(xd){return arguments.length?(Sd=xd,bd=Jc=ud=ee=null,bc()):Sd};ob.clipAngle=function(xd){return arguments.length?(rd=+xd?Ua(zd=xd*Xd):(zd=null,fd),bc()):zd*Od};ob.clipExtent=function(xd){return arguments.length?(Sd=null==xd?(bd=Jc=ud=ee=null,Ce):Fb(bd=+xd[0][0],Jc=+xd[0][1],ud=+xd[1][0],
ee=+xd[1][1]),bc()):null==bd?null:[[bd,Jc],[ud,ee]]};ob.scale=function(xd){return arguments.length?(r=+xd,Mb()):r};ob.translate=function(xd){return arguments.length?(Q=+xd[0],ma=+xd[1],Mb()):[Q,ma]};ob.center=function(xd){return arguments.length?(Ma=xd[0]%360*Xd,gb=xd[1]%360*Xd,Mb()):[Ma*Od,gb*Od]};ob.rotate=function(xd){return arguments.length?(lb=xd[0]%360*Xd,sb=xd[1]%360*Xd,Rb=2<xd.length?xd[2]%360*Xd:0,Mb()):[lb*Od,sb*Od,Rb*Od]};ob.angle=function(xd){return arguments.length?(Vb=xd%360*Xd,Mb()):
Vb*Od};ob.reflectX=function(xd){return arguments.length?(Qc=xd?-1:1,Mb()):0>Qc};ob.reflectY=function(xd){return arguments.length?(dd=xd?-1:1,Mb()):0>dd};ob.precision=function(xd){if(arguments.length){var Oe=Pf;var dg=ye=xd*xd;Oe=(re=+dg?Bc(Oe,dg):mc(Oe),bc())}else Oe=ue(ye);return Oe};ob.fitExtent=function(xd,Oe){return pb(ob,xd,Oe)};ob.fitSize=function(xd,Oe){return pb(ob,[[0,0],xd],Oe)};ob.fitWidth=function(xd,Oe){return Bb(ob,xd,Oe)};ob.fitHeight=function(xd,Oe){return Ub(ob,xd,Oe)};return function(){Kc=
Wa.apply(this,arguments);ob.invert=Kc.invert&&zb;return Mb()}}function uc(Wa){var ob=0,zb=me/3,Mb=Dc(Wa);Wa=Mb(ob,zb);Wa.parallels=function(bc){return arguments.length?Mb(ob=bc[0]*Xd,zb=bc[1]*Xd):[ob*Od,zb*Od]};return Wa}function Tc(Wa){function ob(Mb,bc){return[Mb*zb,kc(bc)/zb]}var zb=Td(Wa);ob.invert=function(Mb,bc){return[Mb/zb,H(bc*zb)]};return ob}function ad(Wa,ob){function zb(Q,ma){ma=ue(Kc-2*bc*kc(ma))/bc;return[ma*kc(Q*=bc),r-ma*Td(Q)]}var Mb=kc(Wa),bc=(Mb+kc(ob))/2;if(1E-6>Be(bc))return Tc(Wa);
var Kc=1+Mb*(2*bc-Mb),r=ue(Kc)/bc;zb.invert=function(Q,ma){ma=r-ma;var Ma=Ge(Q,Be(ma))*Fe(ma);0>ma*bc&&(Ma-=me*Fe(Q)*Fe(ma));return[Ma/bc,H((Kc-(Q*Q+ma*ma)*bc*bc)/(2*bc))]};return zb}function ld(){return uc(ad).scale(155.424).center([0,33.6442])}function Cd(){return ld().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Dd(Wa){var ob=Wa.length;return{point:function(zb,Mb){for(var bc=-1;++bc<ob;)Wa[bc].point(zb,Mb)},sphere:function(){for(var zb=-1;++zb<
ob;)Wa[zb].sphere()},lineStart:function(){for(var zb=-1;++zb<ob;)Wa[zb].lineStart()},lineEnd:function(){for(var zb=-1;++zb<ob;)Wa[zb].lineEnd()},polygonStart:function(){for(var zb=-1;++zb<ob;)Wa[zb].polygonStart()},polygonEnd:function(){for(var zb=-1;++zb<ob;)Wa[zb].polygonEnd()}}}function Ud(Wa){return function(ob,zb){var Mb=Td(ob),bc=Td(zb);Mb=Wa(Mb*bc);return Infinity===Mb?[2,0]:[Mb*bc*kc(ob),Mb*kc(zb)]}}function ae(Wa){return function(ob,zb){var Mb=ue(ob*ob+zb*zb),bc=Wa(Mb),Kc=kc(bc);bc=Td(bc);
return[Ge(ob*Kc,Mb*bc),H(Mb&&zb*Kc/Mb)]}}function oe(Wa,ob){return[Wa,xe(lf((te+ob)/2))]}function De(Wa){function ob(){var lb=me*bc(),sb=zb(ba(zb.rotate()).invert([0,0]));return r(null==Q?[[sb[0]-lb,sb[1]-lb],[sb[0]+lb,sb[1]+lb]]:Wa===oe?[[Math.max(sb[0]-lb,Q),ma],[Math.min(sb[0]+lb,Ma),gb]]:[[Q,Math.max(sb[1]-lb,ma)],[Ma,Math.min(sb[1]+lb,gb)]])}var zb=Ic(Wa),Mb=zb.center,bc=zb.scale,Kc=zb.translate,r=zb.clipExtent,Q=null,ma,Ma,gb;zb.scale=function(lb){return arguments.length?(bc(lb),ob()):bc()};
zb.translate=function(lb){return arguments.length?(Kc(lb),ob()):Kc()};zb.center=function(lb){return arguments.length?(Mb(lb),ob()):Mb()};zb.clipExtent=function(lb){return arguments.length?(null==lb?Q=ma=Ma=gb=null:(Q=+lb[0][0],ma=+lb[0][1],Ma=+lb[1][0],gb=+lb[1][1]),ob()):null==Q?null:[[Q,ma],[Ma,gb]]};return ob()}function fe(Wa,ob){function zb(r,Q){0<Kc?Q<-te+1E-6&&(Q=-te+1E-6):Q>te-1E-6&&(Q=te-1E-6);Q=Kc/le(lf((te+Q)/2),bc);return[Q*kc(bc*r),Kc-Q*Td(bc*r)]}var Mb=Td(Wa),bc=Wa===ob?kc(Wa):xe(Mb/
Td(ob))/xe(lf((te+ob)/2)/lf((te+Wa)/2)),Kc=Mb*le(lf((te+Wa)/2),bc)/bc;if(!bc)return oe;zb.invert=function(r,Q){Q=Kc-Q;var ma=Fe(bc)*ue(r*r+Q*Q),Ma=Ge(r,Be(Q))*Fe(Q);0>Q*bc&&(Ma-=me*Fe(r)*Fe(Q));return[Ma/bc,2*jf(le(Kc/ma,1/bc))-te]};return zb}function ef(Wa,ob){return[Wa,ob]}function Ze(Wa,ob){function zb(r,Q){Q=Kc-Q;r*=bc;return[Q*kc(r),Kc-Q*Td(r)]}var Mb=Td(Wa),bc=Wa===ob?kc(Wa):(Mb-Td(ob))/(ob-Wa),Kc=Mb/bc+Wa;if(1E-6>Be(bc))return ef;zb.invert=function(r,Q){Q=Kc-Q;var ma=Ge(r,Be(Q))*Fe(Q);0>Q*
bc&&(ma-=me*Fe(r)*Fe(Q));return[ma/bc,Kc-Fe(bc)*ue(r*r+Q*Q)]};return zb}function df(Wa,ob){ob=H(af*kc(ob));var zb=ob*ob,Mb=zb*zb*zb;return[Wa*Td(ob)/(af*(1.340264+3*-.081106*zb+Mb*(7*8.93E-4+.034164*zb))),ob*(1.340264+-.081106*zb+Mb*(8.93E-4+.003796*zb))]}function Zd(Wa,ob){var zb=Td(ob),Mb=Td(Wa)*zb;return[zb*kc(Wa)/Mb,kc(ob)/Mb]}function he(Wa,ob){var zb=ob*ob,Mb=zb*zb;return[Wa*(.8707-.131979*zb+Mb*(-.013791+Mb*(.003971*zb-.001529*Mb))),ob*(1.007226+zb*(.015085+Mb*(-.044475+.028874*zb-.005916*
Mb)))]}function zf(Wa,ob){return[Td(ob)*kc(Wa),kc(ob)]}function Ue(Wa,ob){var zb=Td(ob),Mb=1+Td(Wa)*zb;return[zb*kc(Wa)/Mb,kc(ob)/Mb]}function Nf(Wa,ob){return[xe(lf((te+ob)/2)),-Wa]}var me=Math.PI,te=me/2,kf=me/4,we=2*me,Od=180/me,Xd=me/180,Be=Math.abs,jf=Math.atan,Ge=Math.atan2,Td=Math.cos,Ye=Math.ceil,Xf=Math.exp,Gc=Math.hypot,xe=Math.log,le=Math.pow,kc=Math.sin,Fe=Math.sign||function(Wa){return 0<Wa?1:0>Wa?-1:0},ue=Math.sqrt,lf=Math.tan,Yf={Feature:function(Wa,ob){v(Wa.geometry,ob)},FeatureCollection:function(Wa,
ob){Wa=Wa.features;for(var zb=-1,Mb=Wa.length;++zb<Mb;)v(Wa[zb].geometry,ob)}},If={Sphere:function(Wa,ob){ob.sphere()},Point:function(Wa,ob){Wa=Wa.coordinates;ob.point(Wa[0],Wa[1],Wa[2])},MultiPoint:function(Wa,ob){for(var zb=Wa.coordinates,Mb=-1,bc=zb.length;++Mb<bc;)Wa=zb[Mb],ob.point(Wa[0],Wa[1],Wa[2])},LineString:function(Wa,ob){u(Wa.coordinates,ob,0)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)u(Wa[zb],ob,0)},Polygon:function(Wa,ob){m(Wa.coordinates,
ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)m(Wa[zb],ob)},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;for(var zb=-1,Mb=Wa.length;++zb<Mb;)v(Wa[zb],ob)}},Sf=new l.Adder,Bf=new l.Adder,qe,yc,xa,Ea,Za,Cb={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Sf=new l.Adder;Cb.lineStart=d;Cb.lineEnd=f},polygonEnd:function(){var Wa=+Sf;Bf.add(0>Wa?we+Wa:Wa);this.lineStart=this.lineEnd=this.point=x},sphere:function(){Bf.add(we)}},ub,Yb,$b,Oc,gd,Mc,Nd,
od,Id,jd,Qd,ie={point:z,lineStart:K,lineEnd:R,polygonStart:function(){ie.point=T;ie.lineStart=ja;ie.lineEnd=fa;Id=new l.Adder;Cb.polygonStart()},polygonEnd:function(){Cb.polygonEnd();ie.point=z;ie.lineStart=K;ie.lineEnd=R;0>Sf?(ub=-($b=180),Yb=-(Oc=90)):1E-6<Id?Oc=90:-1E-6>Id&&(Yb=-90);Qd[0]=ub;Qd[1]=$b},sphere:function(){ub=-($b=180);Yb=-(Oc=90)}},Gf,tf,kd,We,uf,mf,Zf,yf,Pe,nf,Aa,Pa,vb,Wb,Tb,ic,oc={sphere:x,point:P,lineStart:V,lineEnd:ta,polygonStart:function(){oc.lineStart=wa;oc.lineEnd=Ha},polygonEnd:function(){oc.lineStart=
V;oc.lineEnd=ta}};Ya.invert=Ya;var fd=Ga(function(){return!0},function(Wa){var ob=NaN,zb=NaN,Mb=NaN,bc;return{lineStart:function(){Wa.lineStart();bc=1},point:function(Kc,r){var Q=0<Kc?me:-me,ma=Be(Kc-ob);if(1E-6>Be(ma-me))Wa.point(ob,zb=0<(zb+r)/2?te:-te),Wa.point(Mb,zb),Wa.lineEnd(),Wa.lineStart(),Wa.point(Q,zb),Wa.point(Kc,zb),bc=0;else if(Mb!==Q&&ma>=me){1E-6>Be(ob-Mb)&&(ob-=1E-6*Mb);1E-6>Be(Kc-Q)&&(Kc-=1E-6*Q);ma=ob;var Ma=zb,gb=Kc,lb,sb,Rb=kc(ma-gb);zb=1E-6<Be(Rb)?jf((kc(Ma)*(sb=Td(r))*kc(gb)-
kc(r)*(lb=Td(Ma))*kc(ma))/(lb*sb*Rb)):(Ma+r)/2;Wa.point(Mb,zb);Wa.lineEnd();Wa.lineStart();Wa.point(Q,zb);bc=0}Wa.point(ob=Kc,zb=r);Mb=Q},lineEnd:function(){Wa.lineEnd();ob=zb=NaN},clean:function(){return 2-bc}}},function(Wa,ob,zb,Mb){null==Wa?(zb*=te,Mb.point(-me,zb),Mb.point(0,zb),Mb.point(me,zb),Mb.point(me,0),Mb.point(me,-zb),Mb.point(0,-zb),Mb.point(-me,-zb),Mb.point(-me,0),Mb.point(-me,zb)):1E-6<Be(Wa[0]-ob[0])?(Wa=Wa[0]<ob[0]?me:-me,zb=zb*Wa/2,Mb.point(-Wa,zb),Mb.point(0,zb),Mb.point(Wa,zb)):
Mb.point(ob[0],ob[1])},[-me,-te]),Wc,nd,Kd,de,je={sphere:x,point:x,lineStart:function(){je.point=nc;je.lineEnd=Xb},lineEnd:x,polygonStart:x,polygonEnd:x},Gd=[null,null],Le={type:"LineString",coordinates:Gd},$d={Feature:function(Wa,ob){return mb(Wa.geometry,ob)},FeatureCollection:function(Wa,ob){Wa=Wa.features;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(mb(Wa[zb].geometry,ob))return!0;return!1}},Ie={Sphere:function(){return!0},Point:function(Wa,ob){return 0===Hc(Wa.coordinates,ob)},MultiPoint:function(Wa,
ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(0===Hc(Wa[zb],ob))return!0;return!1},LineString:function(Wa,ob){return hc(Wa.coordinates,ob)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(hc(Wa[zb],ob))return!0;return!1},Polygon:function(Wa,ob){return jc(Wa.coordinates,ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(jc(Wa[zb],ob))return!0;return!1},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;
for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(mb(Wa[zb],ob))return!0;return!1}},Ce=Wa=>Wa,Qe=new l.Adder,Uf=new l.Adder,ne,sf,Cf,Bg,Lf={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Lf.lineStart=Lc;Lf.lineEnd=wd},polygonEnd:function(){Lf.lineStart=Lf.lineEnd=Lf.point=x;Qe.add(Be(Uf));Uf=new l.Adder},result:function(){var Wa=Qe/2;Qe=new l.Adder;return Wa}},jg=Infinity,ya=jg,za=-jg,Na=za,Sa={point:function(Wa,ob){Wa<jg&&(jg=Wa);Wa>za&&(za=Wa);ob<ya&&(ya=ob);ob>Na&&(Na=ob)},lineStart:x,lineEnd:x,polygonStart:x,
polygonEnd:x,result:function(){var Wa=[[jg,ya],[za,Na]];za=Na=-(ya=jg=Infinity);return Wa}},fb=0,hb=0,qb=0,Db=0,Ab=0,Kb=0,Jb=0,cc=0,xc=0,Y,oa,Oa,Va,xb={point:vd,lineStart:Wd,lineEnd:Eb,polygonStart:function(){xb.lineStart=zc;xb.lineEnd=Vc},polygonEnd:function(){xb.point=vd;xb.lineStart=Wd;xb.lineEnd=Eb},result:function(){var Wa=xc?[Jb/xc,cc/xc]:Kb?[Db/Kb,Ab/Kb]:qb?[fb/qb,hb/qb]:[NaN,NaN];fb=hb=qb=Db=Ab=Kb=Jb=cc=xc=0;return Wa}};Ka.prototype={_radius:4.5,pointRadius:function(Wa){return this._radius=
Wa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Wa,ob){switch(this._point){case 0:this._context.moveTo(Wa,ob);this._point=1;break;case 1:this._context.lineTo(Wa,ob);break;default:this._context.moveTo(Wa+this._radius,ob),this._context.arc(Wa,ob,this._radius,0,we)}},result:x};var Sb=new l.Adder,Zb,qc,Ec,ed,Zc,Pd={point:x,lineStart:function(){Pd.point=
eb},lineEnd:function(){Zb&&wb(qc,Ec);Pd.point=x},polygonStart:function(){Zb=!0},polygonEnd:function(){Zb=null},result:function(){var Wa=+Sb;Sb=new l.Adder;return Wa}};Hb.prototype={_radius:4.5,_circle:ac(4.5),pointRadius:function(Wa){(Wa=+Wa)!==this._radius&&(this._radius=Wa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Wa,
ob){switch(this._point){case 0:this._string.push("M",Wa,",",ob);this._point=1;break;case 1:this._string.push("L",Wa,",",ob);break;default:null==this._circle&&(this._circle=ac(this._radius)),this._string.push("M",Wa,",",ob,this._circle)}},result:function(){if(this._string.length){var Wa=this._string.join("");this._string=[];return Wa}return null}};Ac.prototype={constructor:Ac,point:function(Wa,ob){this.stream.point(Wa,ob)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Td(30*Xd),pd=Lb({point:function(Wa,ob){this.stream.point(Wa*Xd,ob*Xd)}}),Ad=Ud(function(Wa){return ue(2/(1+Wa))});Ad.invert=ae(function(Wa){return 2*H(Wa/2)});var id=Ud(function(Wa){return(Wa=w(Wa))&&Wa/kc(Wa)});id.invert=ae(function(Wa){return Wa});oe.invert=function(Wa,ob){return[Wa,2*jf(Xf(ob))-te]};ef.invert=ef;var af=ue(3)/2;df.invert=function(Wa,
ob){for(var zb=ob,Mb=zb*zb,bc=Mb*Mb*Mb,Kc=0,r;12>Kc&&!(r=zb*(1.340264+-.081106*Mb+bc*(8.93E-4+.003796*Mb))-ob,Mb=1.340264+3*-.081106*Mb+bc*(7*8.93E-4+.034164*Mb),zb-=r/=Mb,Mb=zb*zb,bc=Mb*Mb*Mb,1E-12>Be(r));++Kc);return[af*Wa*(1.340264+3*-.081106*Mb+bc*(7*8.93E-4+.034164*Mb))/Td(zb),H(kc(zb)/af)]};Zd.invert=ae(jf);he.invert=function(Wa,ob){var zb=ob,Mb=25;do{var bc=zb*zb;var Kc=bc*bc;zb-=Kc=(zb*(1.007226+bc*(.015085+Kc*(-.044475+.028874*bc-.005916*Kc)))-ob)/(1.007226+bc*(.045255+Kc*(-.311325+.259866*
bc-.005916*11*Kc)))}while(1E-6<Be(Kc)&&0<--Mb);return[Wa/(.8707+(bc=zb*zb)*(-.131979+bc*(-.013791+bc*bc*bc*(.003971-.001529*bc)))),zb]};zf.invert=ae(H);Ue.invert=ae(function(Wa){return 2*jf(Wa)});Nf.invert=function(Wa,ob){return[-ob,2*jf(Xf(Wa))-te]};k.geoAlbers=Cd;k.geoAlbersUsa=function(){function Wa(sb){var Rb=sb[0];sb=sb[1];return gb=null,(Kc.point(Rb,sb),gb)||(Q.point(Rb,sb),gb)||(Ma.point(Rb,sb),gb)}function ob(){zb=Mb=null;return Wa}var zb,Mb,bc=Cd(),Kc,r=ld().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),Q,ma=ld().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ma,gb,lb={point:function(sb,Rb){gb=[sb,Rb]}};Wa.invert=function(sb){var Rb=bc.scale(),ec=bc.translate(),Vb=(sb[0]-ec[0])/Rb;Rb=(sb[1]-ec[1])/Rb;return(.12<=Rb&&.234>Rb&&-.425<=Vb&&-.214>Vb?r:.166<=Rb&&.234>Rb&&-.214<=Vb&&-.115>Vb?ma:bc).invert(sb)};Wa.stream=function(sb){return zb&&Mb===sb?zb:zb=Dd([bc.stream(Mb=sb),r.stream(sb),ma.stream(sb)])};Wa.precision=function(sb){if(!arguments.length)return bc.precision();bc.precision(sb);
r.precision(sb);ma.precision(sb);return ob()};Wa.scale=function(sb){if(!arguments.length)return bc.scale();bc.scale(sb);r.scale(.35*sb);ma.scale(sb);return Wa.translate(bc.translate())};Wa.translate=function(sb){if(!arguments.length)return bc.translate();var Rb=bc.scale(),ec=+sb[0],Vb=+sb[1];Kc=bc.translate(sb).clipExtent([[ec-.455*Rb,Vb-.238*Rb],[ec+.455*Rb,Vb+.238*Rb]]).stream(lb);Q=r.translate([ec-.307*Rb,Vb+.201*Rb]).clipExtent([[ec-.425*Rb+1E-6,Vb+.12*Rb+1E-6],[ec-.214*Rb-1E-6,Vb+.234*Rb-1E-6]]).stream(lb);
Ma=ma.translate([ec-.205*Rb,Vb+.212*Rb]).clipExtent([[ec-.214*Rb+1E-6,Vb+.166*Rb+1E-6],[ec-.115*Rb-1E-6,Vb+.234*Rb-1E-6]]).stream(lb);return ob()};Wa.fitExtent=function(sb,Rb){return pb(Wa,sb,Rb)};Wa.fitSize=function(sb,Rb){return pb(Wa,[[0,0],sb],Rb)};Wa.fitWidth=function(sb,Rb){return Bb(Wa,sb,Rb)};Wa.fitHeight=function(sb,Rb){return Ub(Wa,sb,Rb)};return Wa.scale(1070)};k.geoArea=function(Wa){Bf=new l.Adder;g(Wa,Cb);return 2*Bf};k.geoAzimuthalEqualArea=function(){return Ic(Ad).scale(124.75).clipAngle(179.999)};
k.geoAzimuthalEqualAreaRaw=Ad;k.geoAzimuthalEquidistant=function(){return Ic(id).scale(79.4188).clipAngle(179.999)};k.geoAzimuthalEquidistantRaw=id;k.geoBounds=function(Wa){var ob,zb,Mb;Oc=$b=-(ub=Yb=Infinity);jd=[];g(Wa,ie);if(ob=jd.length){jd.sort(la);Wa=1;var bc=jd[0];for(zb=[bc];Wa<ob;++Wa){var Kc=jd[Wa];Z(bc,Kc[0])||Z(bc,Kc[1])?(ia(bc[0],Kc[1])>ia(bc[0],bc[1])&&(bc[1]=Kc[1]),ia(Kc[0],bc[1])>ia(bc[0],bc[1])&&(bc[0]=Kc[0])):zb.push(bc=Kc)}var r=-Infinity;ob=zb.length-1;Wa=0;for(bc=zb[ob];Wa<=ob;bc=
Kc,++Wa)Kc=zb[Wa],(Mb=ia(bc[1],Kc[0]))>r&&(r=Mb,ub=Kc[0],$b=bc[1])}jd=Qd=null;return Infinity===ub||Infinity===Yb?[[NaN,NaN],[NaN,NaN]]:[[ub,Yb],[$b,Oc]]};k.geoCentroid=function(Wa){Gf=tf=kd=We=uf=mf=Zf=yf=0;Pe=new l.Adder;nf=new l.Adder;Aa=new l.Adder;g(Wa,oc);Wa=+Pe;var ob=+nf,zb=+Aa,Mb=Gc(Wa,ob,zb);return 1E-12>Mb&&(Wa=mf,ob=Zf,zb=yf,1E-6>tf&&(Wa=kd,ob=We,zb=uf),Mb=Gc(Wa,ob,zb),1E-12>Mb)?[NaN,NaN]:[Ge(ob,Wa)*Od,H(zb/Mb)*Od]};k.geoCircle=function(){function Wa(){var Q=ob.apply(this,arguments),ma=
zb.apply(this,arguments)*Xd,Ma=Mb.apply(this,arguments)*Xd;bc=[];Kc=Ca(-Q[0]*Xd,-Q[1]*Xd,0).invert;ca(r,ma,Ma,1);Q={type:"Polygon",coordinates:[bc]};bc=Kc=null;return Q}var ob=va([0,0]),zb=va(90),Mb=va(6),bc,Kc,r={point:function(Q,ma){bc.push(Q=Kc(Q,ma));Q[0]*=Od;Q[1]*=Od}};Wa.center=function(Q){return arguments.length?(ob="function"===typeof Q?Q:va([+Q[0],+Q[1]]),Wa):ob};Wa.radius=function(Q){return arguments.length?(zb="function"===typeof Q?Q:va(+Q),Wa):zb};Wa.precision=function(Q){return arguments.length?
(Mb="function"===typeof Q?Q:va(+Q),Wa):Mb};return Wa};k.geoClipAntimeridian=fd;k.geoClipCircle=Ua;k.geoClipExtent=function(){var Wa=0,ob=0,zb=960,Mb=500,bc,Kc,r;return r={stream:function(Q){return bc&&Kc===Q?bc:bc=Fb(Wa,ob,zb,Mb)(Kc=Q)},extent:function(Q){return arguments.length?(Wa=+Q[0][0],ob=+Q[0][1],zb=+Q[1][0],Mb=+Q[1][1],bc=Kc=null,r):[[Wa,ob],[zb,Mb]]}}};k.geoClipRectangle=Fb;k.geoConicConformal=function(){return uc(fe).scale(109.5).parallels([30,30])};k.geoConicConformalRaw=fe;k.geoConicEqualArea=
ld;k.geoConicEqualAreaRaw=ad;k.geoConicEquidistant=function(){return uc(Ze).scale(131.154).center([0,13.9389])};k.geoConicEquidistantRaw=Ze;k.geoContains=function(Wa,ob){return(Wa&&$d.hasOwnProperty(Wa.type)?$d[Wa.type]:mb)(Wa,ob)};k.geoDistance=Hc;k.geoEqualEarth=function(){return Ic(df).scale(177.158)};k.geoEqualEarthRaw=df;k.geoEquirectangular=function(){return Ic(ef).scale(152.63)};k.geoEquirectangularRaw=ef;k.geoGnomonic=function(){return Ic(Zd).scale(144.049).clipAngle(60)};k.geoGnomonicRaw=
Zd;k.geoGraticule=Sc;k.geoGraticule10=function(){return Sc()()};k.geoIdentity=function(){function Wa(){ec=zb*Kc;Vb=zb*r;zd=rd=null;return ob}function ob(bd){var Jc=bd[0]*ec;bd=bd[1]*Vb;if(Q){var ud=bd*ma-Jc*Ma;Jc=Jc*ma+bd*Ma;bd=ud}return[Jc+Mb,bd+bc]}var zb=1,Mb=0,bc=0,Kc=1,r=1,Q=0,ma,Ma,gb=null,lb,sb,Rb,ec=1,Vb=1,Qc=Lb({point:function(bd,Jc){bd=ob([bd,Jc]);this.stream.point(bd[0],bd[1])}}),dd=Ce,zd,rd;ob.invert=function(bd){var Jc=bd[0]-Mb;bd=bd[1]-bc;if(Q){var ud=bd*ma+Jc*Ma;Jc=Jc*ma-bd*Ma;bd=ud}return[Jc/
ec,bd/Vb]};ob.stream=function(bd){return zd&&rd===bd?zd:zd=Qc(dd(rd=bd))};ob.postclip=function(bd){return arguments.length?(dd=bd,gb=lb=sb=Rb=null,Wa()):dd};ob.clipExtent=function(bd){return arguments.length?(dd=null==bd?(gb=lb=sb=Rb=null,Ce):Fb(gb=+bd[0][0],lb=+bd[0][1],sb=+bd[1][0],Rb=+bd[1][1]),Wa()):null==gb?null:[[gb,lb],[sb,Rb]]};ob.scale=function(bd){return arguments.length?(zb=+bd,Wa()):zb};ob.translate=function(bd){return arguments.length?(Mb=+bd[0],bc=+bd[1],Wa()):[Mb,bc]};ob.angle=function(bd){return arguments.length?
(Q=bd%360*Xd,Ma=kc(Q),ma=Td(Q),Wa()):Q*Od};ob.reflectX=function(bd){return arguments.length?(Kc=bd?-1:1,Wa()):0>Kc};ob.reflectY=function(bd){return arguments.length?(r=bd?-1:1,Wa()):0>r};ob.fitExtent=function(bd,Jc){return pb(ob,bd,Jc)};ob.fitSize=function(bd,Jc){return pb(ob,[[0,0],bd],Jc)};ob.fitWidth=function(bd,Jc){return Bb(ob,bd,Jc)};ob.fitHeight=function(bd,Jc){return Ub(ob,bd,Jc)};return ob};k.geoInterpolate=function(Wa,ob){var zb=Wa[0]*Xd,Mb=Wa[1]*Xd;Wa=ob[0]*Xd;ob=ob[1]*Xd;var bc=Td(Mb),
Kc=kc(Mb),r=Td(ob),Q=kc(ob),ma=bc*Td(zb),Ma=bc*kc(zb),gb=r*Td(Wa),lb=r*kc(Wa),sb=2*H(ue(N(ob-Mb)+bc*r*N(Wa-zb))),Rb=kc(sb);Wa=sb?function(ec){var Vb=kc(ec*=sb)/Rb,Qc=kc(sb-ec)/Rb;ec=Qc*ma+Vb*gb;var dd=Qc*Ma+Vb*lb;Vb=Qc*Kc+Vb*Q;return[Ge(dd,ec)*Od,Ge(Vb,ue(ec*ec+dd*dd))*Od]}:function(){return[zb*Od,Mb*Od]};Wa.distance=sb;return Wa};k.geoLength=pc;k.geoMercator=function(){return De(oe).scale(961/we)};k.geoMercatorRaw=oe;k.geoNaturalEarth1=function(){return Ic(he).scale(175.295)};k.geoNaturalEarth1Raw=
he;k.geoOrthographic=function(){return Ic(zf).scale(249.5).clipAngle(90.000001)};k.geoOrthographicRaw=zf;k.geoPath=function(Wa,ob){function zb(r){r&&("function"===typeof Mb&&Kc.pointRadius(+Mb.apply(this,arguments)),g(r,bc(Kc)));return Kc.result()}var Mb=4.5,bc,Kc;zb.area=function(r){g(r,bc(Lf));return Lf.result()};zb.measure=function(r){g(r,bc(Pd));return Pd.result()};zb.bounds=function(r){g(r,bc(Sa));return Sa.result()};zb.centroid=function(r){g(r,bc(xb));return xb.result()};zb.projection=function(r){return arguments.length?
(bc=null==r?(Wa=null,Ce):(Wa=r).stream,zb):Wa};zb.context=function(r){if(!arguments.length)return ob;Kc=null==r?(ob=null,new Hb):new Ka(ob=r);"function"!==typeof Mb&&Kc.pointRadius(Mb);return zb};zb.pointRadius=function(r){if(!arguments.length)return Mb;Mb="function"===typeof r?r:(Kc.pointRadius(+r),+r);return zb};return zb.projection(Wa).context(ob)};k.geoProjection=Ic;k.geoProjectionMutator=Dc;k.geoRotation=ba;k.geoStereographic=function(){return Ic(Ue).scale(250).clipAngle(142)};k.geoStereographicRaw=
Ue;k.geoStream=g;k.geoTransform=function(Wa){return{stream:Lb(Wa)}};k.geoTransverseMercator=function(){var Wa=De(Nf),ob=Wa.center,zb=Wa.rotate;Wa.center=function(Mb){return arguments.length?ob([-Mb[1],Mb[0]]):(Mb=ob(),[Mb[1],-Mb[0]])};Wa.rotate=function(Mb){return arguments.length?zb([Mb[0],Mb[1],2<Mb.length?Mb[2]+90:90]):(Mb=zb(),[Mb[0],Mb[1],Mb[2]-90])};return zb([0,0,90]).scale(159.155)};k.geoTransverseMercatorRaw=Nf;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(39),A(15)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],l):l(k.d3=k.d3||{},k.d3,k.d3)})(this,function(k,l,w){function H(ya){return 1<ya?Za:-1>ya?-Za:Math.asin(ya)}function N(ya){return 1<ya?0:-1>ya?Ea:Math.acos(ya)}function x(ya){return 0<ya?Math.sqrt(ya):0}function v(ya){return(Fe(ya)-Fe(-ya))/2}function u(ya){return(Fe(ya)+Fe(-ya))/2}function m(ya){function za(fb,
hb){var qb=kc(fb),Db=kc(hb);hb=yc(hb);qb*=Db;qb=-((1-qb?lf((1+qb)/2)/(1-qb):-.5)+Sa/(1+qb));return[qb*Db*yc(fb),qb*hb]}var Na=xa(ya/2),Sa=2*lf(kc(ya/2))/(Na*Na);za.invert=function(fb,hb){var qb=x(fb*fb+hb*hb),Db=-ya/2,Ab=50;if(!qb)return[0,0];do{var Kb=Db/2;var Jb=kc(Kb);Kb=yc(Kb);var cc=Kb/Jb,xc=-lf(Gc(Jb));Db-=Jb=(2/cc*xc-Sa*cc-qb)/(-xc/(Kb*Kb)+1-Sa/(2*Jb*Jb))*(0>Jb?.7:1)}while(1E-6<Gc(Jb)&&0<--Ab);Ab=yc(Db);return[le(fb*Ab,qb*kc(Db)),H(hb*Ab/qb)]};return za}function g(ya,za){var Na=kc(za);var Sa=
(Sa=N(Na*kc(ya/=2)))?Sa/Math.sin(Sa):1;return[2*Na*yc(ya)*Sa,yc(za)*Sa]}function d(ya){function za(Db,Ab){var Kb=kc(Ab),Jb=kc(Db/=2);return[(1+Kb)*yc(Db),(fb*Ab>-le(Jb,hb)-.001?0:10*-fb)+qb+yc(Ab)*Sa-(1+Kb)*Na*Jb]}var Na=yc(ya),Sa=kc(ya),fb=0<=ya?1:-1,hb=xa(fb*ya),qb=(1+Na-Sa)/2;za.invert=function(Db,Ab){var Kb=0,Jb=0,cc=50;do{var xc=kc(Kb),Y=yc(Kb),oa=kc(Jb),Oa=yc(Jb),Va=1+oa,xb=Va*Y-Db,Sb=qb+Oa*Sa-Va*Na*xc-Ab,Zb=Va*xc/2,qc=-Y*Oa;Y=Na*Va*Y/2;oa=Sa*oa+Na*xc*Oa;xc=qc*Y-oa*Zb;qc=(Sb*qc-xb*oa)/xc/2;
xb=(xb*Y-Sb*Zb)/xc;2<Gc(xb)&&(xb/=2);Kb-=qc;Jb-=xb}while((1E-6<Gc(qc)||1E-6<Gc(xb))&&0<--cc);return fb*Jb>-le(kc(Kb),hb)-.001?[2*Kb,Jb]:null};return za}function f(ya,za){za=xa(za/2);var Na=x(1-za*za),Sa=1+Na*kc(ya/=2);ya=yc(ya)*Na/Sa;za/=Sa;Sa=ya*ya;Na=za*za;return[4/3*ya*(3+Sa-3*Na),4/3*za*(3+3*Sa-Na)]}function a(ya,za){var Na=Gc(za);return Na<Cb?[ya,lf(xa(Cb+za/2))]:[ya*kc(Na)*(2*Yb-1/yc(Na)),qe(za)*(2*Yb*(Na-Cb)-lf(xa(Na/2)))]}function e(ya){function za(Sa,fb){fb=l.geoAzimuthalEquidistantRaw(Sa,
fb);if(Gc(Sa)>Za){Sa=le(fb[1],fb[0]);var hb=x(fb[0]*fb[0]+fb[1]*fb[1]),qb=Na*Bf((Sa-Za)/Na)+Za,Db=le(yc(Sa-=qb),2-kc(Sa));Sa=qb+H(Ea/hb*yc(Db))-Db;fb[0]=hb*kc(Sa);fb[1]=hb*yc(Sa)}return fb}var Na=2*Ea/ya;za.invert=function(Sa,fb){var hb=x(Sa*Sa+fb*fb);if(hb>Za){var qb=le(fb,Sa);Sa=Na*Bf((qb-Za)/Na)+Za;fb=qb>Sa?-1:1;qb=hb*kc(Sa-qb);qb=1/xa(fb*N((qb-Ea)/x(Ea*(Ea-2*qb)+hb*hb)));qb=Sa+2*xe((qb+fb*x(qb*qb-3))/3);Sa=hb*kc(qb);fb=hb*yc(qb)}return l.geoAzimuthalEquidistantRaw.invert(Sa,fb)};return za}function n(ya,
za){function Na(Sa,fb){Sa=l.geoAzimuthalEqualAreaRaw(Sa/za,fb);Sa[0]*=ya;return Sa}2>arguments.length&&(za=ya);if(1===za)return l.geoAzimuthalEqualAreaRaw;if(Infinity===za)return y;Na.invert=function(Sa,fb){Sa=l.geoAzimuthalEqualAreaRaw.invert(Sa/ya,fb);Sa[0]*=za;return Sa};return Na}function y(ya,za){return[ya*kc(za)/kc(za/=2),2*yc(za)]}function B(ya,za,Na){var Sa=100;Na=void 0===Na?0:+Na;za=+za;do{var fb=ya(Na);var hb=ya(Na+1E-6);fb===hb&&(hb=fb+1E-6);Na-=fb=-1E-6*(fb-za)/(fb-hb)}while(0<Sa--&&
1E-6<Gc(fb));return 0>Sa?NaN:Na}function D(ya,za,Na){void 0===za&&(za=40);void 0===Na&&(Na=1E-12);return function(Sa,fb,hb,qb){hb=void 0===hb?0:+hb;qb=void 0===qb?0:+qb;for(var Db=0;Db<za;Db++){var Ab=ya(hb,qb),Kb=Ab[0]-Sa,Jb=Ab[1]-fb;if(Gc(Kb)<Na&&Gc(Jb)<Na)break;var cc=Kb*Kb+Jb*Jb;if(cc>xc)hb-=oa/=2,qb-=Va/=2;else{var xc=cc;cc=(0<hb?-1:1)*Na;var Y=(0<qb?-1:1)*Na;var oa=ya(hb+cc,qb);var Oa=ya(hb,qb+Y);var Va=(oa[0]-Ab[0])/cc;cc=(oa[1]-Ab[1])/cc;oa=(Oa[0]-Ab[0])/Y;Ab=(Oa[1]-Ab[1])/Y;Y=Ab*Va-cc*oa;
Y=(.5>Gc(Y)?.5:1)/Y;oa=(Jb*oa-Kb*Ab)*Y;Va=(Kb*cc-Jb*Va)*Y;hb+=oa;qb+=Va;if(Gc(oa)<Na&&Gc(Va)<Na)break}}return[hb,qb]}}function O(){function ya(Na,Sa){if(-1.4>Na+Sa){var fb=(Na-Sa+1.6)*(Na+Sa+1.4)/8;Na+=fb;Sa-=.8*fb*yc(Sa+Ea/2)}fb=za(Na,Sa);Na=(1-kc(Na*Sa))/12;0>fb[1]&&(fb[0]*=1+Na);0<fb[1]&&(fb[1]*=1+Na/1.5*fb[0]*fb[0]);return fb}var za=n(1.68,2);ya.invert=D(ya);return ya}function M(ya,za){ya*=yc(za);var Na=30,Sa;do za-=Sa=(za+yc(za)-ya)/(1+kc(za));while(1E-6<Gc(Sa)&&0<--Na);return za/2}function F(ya,
za,Na){function Sa(fb,hb){return[ya*fb*kc(hb=M(Na,hb)),za*yc(hb)]}Sa.invert=function(fb,hb){return hb=H(hb/za),[fb/(ya*kc(hb)),H((2*hb+yc(2*hb))/Na)]};return Sa}function z(ya,za){var Na=M(Ea,za);return[2.00276*ya/(1/kc(za)+1.11072/kc(Na)),(za+Yb*yc(Na))/2.00276]}function G(ya){var za=0,Na=l.geoProjectionMutator(ya);ya=Na(za);ya.parallel=function(Sa){return arguments.length?Na(za=Sa*Mc):za*gd};return ya}function K(ya,za){return[ya*kc(za),za]}function R(ya){function za(Sa,fb){var hb=Na+ya-fb;Sa=hb?
Sa*kc(fb)/hb:hb;return[hb*yc(Sa),Na-hb*kc(Sa)]}if(!ya)return K;var Na=1/xa(ya);za.invert=function(Sa,fb){var hb=x(Sa*Sa+(fb=Na-fb)*fb),qb=Na+ya-hb;return[hb/kc(qb)*le(Sa,fb),qb]};return za}function T(ya){function za(Na,Sa){Na=(Sa=Za-Sa)?Na*ya*yc(Sa)/Sa:Sa;return[Sa*yc(Na)/ya,Za-Sa*kc(Na)]}za.invert=function(Na,Sa){Na*=ya;var fb=Za-Sa;Sa=x(Na*Na+fb*fb);Na=le(Na,fb);return[(Sa?Sa/yc(Sa):1)*Na/ya,Za-Sa]};return za}function ja(ya,za,Na,Sa,fb,hb){var qb=kc(hb);if(1<Gc(ya)||1<Gc(hb))ya=N(Na*fb+za*Sa*qb);
else{ya=yc(ya/2);var Db=yc(hb/2);ya=2*H(x(ya*ya+za*Sa*Db*Db))}return 1E-6<Gc(ya)?[ya,le(Sa*yc(hb),za*fb-Na*Sa*qb)]:[0,0]}function fa(ya,za,Na){return N((ya*ya+za*za-Na*Na)/(2*ya*za))}function ia(ya,za,Na){var Sa=[[ya[0],ya[1],yc(ya[1]),kc(ya[1])],[za[0],za[1],yc(za[1]),kc(za[1])],[Na[0],Na[1],yc(Na[1]),kc(Na[1])]];ya=Sa[2];for(Na=0;3>Na;++Na,ya=za)za=Sa[Na],ya.v=ja(za[1]-ya[1],ya[3],ya[2],za[3],za[2],za[0]-ya[0]),ya.point=[0,0];ya=fa(Sa[0].v[0],Sa[2].v[0],Sa[1].v[0]);var fb=fa(Sa[0].v[0],Sa[1].v[0],
Sa[2].v[0]),hb=Ea-ya;Sa[2].point[1]=0;Sa[0].point[0]=-(Sa[1].point[0]=Sa[0].v[0]/2);var qb=[Sa[2].point[0]=Sa[0].point[0]+Sa[2].v[0]*kc(ya),2*(Sa[0].point[1]=Sa[1].point[1]=Sa[2].v[0]*yc(ya))];return function(Db,Ab){var Kb=yc(Ab),Jb=kc(Ab),cc=Array(3),xc;for(xc=0;3>xc;++xc){var Y=Sa[xc];cc[xc]=ja(Ab-Y[1],Y[3],Y[2],Jb,Kb,Db-Y[0]);if(!cc[xc][0])return Y.point;var oa=cc[xc];Y=cc[xc][1]-Y.v[1];Y-=2*Ea*ue((Y+Ea)/(2*Ea));oa[1]=Y}Db=qb.slice();for(xc=0;3>xc;++xc)Ab=fa(Sa[xc].v[0],cc[xc][0],cc[2==xc?0:xc+
1][0]),0>cc[xc][1]&&(Ab=-Ab),xc?1==xc?(Ab=fb-Ab,Db[0]-=cc[xc][0]*kc(Ab),Db[1]-=cc[xc][0]*yc(Ab)):(Ab=hb-Ab,Db[0]+=cc[xc][0]*kc(Ab),Db[1]+=cc[xc][0]*yc(Ab)):(Db[0]+=cc[xc][0]*kc(Ab),Db[1]-=cc[xc][0]*yc(Ab));Db[0]/=3;Db[1]/=3;return Db}}function la(ya){return ya[0]*=Mc,ya[1]*=Mc,ya}function Z(ya,za,Na){var Sa=l.geoCentroid({type:"MultiPoint",coordinates:[ya,za,Na]});Sa=[-Sa[0],-Sa[1]];var fb=l.geoRotation(Sa);ya=ia(la(fb(ya)),la(fb(za)),la(fb(Na)));ya.invert=D(ya);ya=l.geoProjection(ya).rotate(Sa);
var hb=ya.center;delete ya.rotate;ya.center=function(qb){return arguments.length?hb(fb(qb)):fb.invert(hb())};return ya.clipAngle(90)}function P(ya,za){za=x(1-yc(za));return[2/$b*ya*za,$b*(1-za)]}function C(ya){function za(Sa,fb){return[Sa,(Sa?Sa/yc(Sa):1)*(yc(fb)*kc(Sa)-Na*kc(fb))]}var Na=xa(ya);za.invert=Na?function(Sa,fb){Sa&&(fb*=yc(Sa)/Sa);var hb=kc(Sa);return[Sa,2*le(x(hb*hb+Na*Na-fb*fb)-hb,Na-fb)]}:function(Sa,fb){return[Sa,H(Sa?fb*xa(Sa)/Sa:fb)]};return za}function V(ya,za){return[Qd*ya*(2*
kc(2*za/3)-1)/$b,Qd*$b*yc(za/3)]}function ha(ya){function za(Sa,fb){return[Sa*Na,yc(fb)/Na]}var Na=kc(ya);za.invert=function(Sa,fb){return[Sa/Na,H(fb*Na)]};return za}function aa(ya){function za(Sa,fb){return[Sa*Na,(1+Na)*xa(fb/2)]}var Na=kc(ya);za.invert=function(Sa,fb){return[Sa/Na,2*xe(fb/(1+Na))]};return za}function ta(ya,za){var Na=x(8/(3*Ea));return[Na*ya*(1-Gc(za)/Ea),Na*za]}function wa(ya,za){var Na=x(4-3*yc(Gc(za)));return[2/x(6*Ea)*ya*Na,qe(za)*x(2*Ea/3)*(2-Na)]}function Ha(ya,za){var Na=
x(Ea*(4+Ea));return[2/Na*ya*(1+x(1-4*za*za/(Ea*Ea))),4/Na*za]}function bb(ya,za){var Na=(2+Za)*yc(za);za/=2;for(var Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);Sa++)fb=kc(za),za-=fb=(za+yc(za)*(fb+2)-Na)/(2*fb*(1+fb));return[2/x(Ea*(4+Ea))*ya*(1+kc(za)),2*x(Ea/(4+Ea))*yc(za)]}function kb(ya,za){return[ya*(1+kc(za))/x(2+Ea),2*za/x(2+Ea)]}function va(ya,za){for(var Na=(1+Za)*yc(za),Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);Sa++)za-=fb=(za+yc(za)-Na)/(1+kc(za));Na=x(2+Ea);return[ya*(1+kc(za))/Na,2*za/Na]}function Ta(ya,
za){var Na=yc(ya/=2);ya=kc(ya);var Sa=x(kc(za)),fb=kc(za/=2);za=yc(za)/(fb+Yb*ya*Sa);var hb=x(2/(1+za*za));Na=x((Yb*fb+(ya+Na)*Sa)/(Yb*fb+(ya-Na)*Sa));return[ie*(hb*(Na-1/Na)-2*lf(Na)),ie*(hb*za*(Na+1/Na)-2*xe(za))]}function Ya(ya,za){za=xa(za/2);return[ya*Gf*x(1-za*za),(1+Gf)*za]}function Ca(ya,za){var Na=za/2,Sa=kc(Na);return[2*ya/$b*kc(za)*Sa*Sa,$b*xa(Na)]}function ua(ya){function za(Ab,Kb){var Jb=kc(Kb),cc=yc(Kb);return[Jb/(fb+ya*Jb)*Ab,fb*Kb+ya*cc]}function Na(Ab,Kb){Ab=za(Ab,Kb);return[Ab[0]*
Db,Ab[1]/Db]}function Sa(Ab){return Na(0,Ab)[1]}var fb=1-ya,hb=za(Ea,0)[0]-za(-Ea,0)[0],qb=za(0,Za)[1]-za(0,-Za)[1],Db=x(2*qb/hb);Na.invert=function(Ab,Kb){Kb=B(Sa,Kb);return[Ab/Db*(ya+fb/kc(Kb)),Kb]};return Na}function U(ya){return[2*ya[0],2*xe(yc(ya[1]*Mc))*gd]}function W(ya,za){function Na(hb,qb){hb=l.geoAzimuthalEquidistantRaw(hb,qb);qb=hb[0];var Db=hb[1],Ab=qb*qb+Db*Db;if(Ab>fb){var Kb=x(Ab);qb=le(Db,qb);Ab=Sa*Bf(qb/Sa);Db=qb-Ab;var Jb=ya*kc(Db),cc=(ya*yc(Db)-Db*yc(Jb))/(Za-Jb),xc=ba(Db,cc),
Y=(Ea-ya)/ca(xc,Jb,Ea);qb=Kb;var oa=50,Oa;do qb-=Oa=(ya+ca(xc,Jb,qb)*Y-Kb)/(xc(qb)*Y);while(1E-6<Gc(Oa)&&0<--oa);Db*=yc(qb);qb<Za&&(Db-=cc*(qb-Za));Kb=yc(Ab);Ab=kc(Ab);hb[0]=qb*Ab-Db*Kb;hb[1]=qb*Kb+Db*Ab}return hb}var Sa=2*Ea/za,fb=ya*ya;Na.invert=function(hb,qb){var Db=hb*hb+qb*qb;if(Db>fb){var Ab=x(Db);qb=le(qb,hb);Db=Sa*Bf(qb/Sa);qb-=Db;hb=Ab*kc(qb);qb=Ab*yc(qb);Ab=hb-Za;for(var Kb=yc(hb),Jb=qb/Kb,cc=hb<Za?Infinity:0,xc=10;;){var Y=ya*yc(Jb),oa=ya*kc(Jb),Oa=yc(oa),Va=Za-oa,xb=(Y-Jb*Oa)/Va,Sb=ba(Jb,
xb);if(1E-12>Gc(cc)||!--xc)break;Jb-=cc=(Jb*Kb-xb*Ab-qb)/(Kb-2*Ab*(Va*(oa+Jb*Y*kc(oa)-Oa)-Y*(Y-Jb*Oa))/(Va*Va))}Ab=ya+ca(Sb,oa,hb)*(Ea-ya)/ca(Sb,oa,Ea);qb=Db+Jb;hb=Ab*kc(qb);qb=Ab*yc(qb)}return l.geoAzimuthalEquidistantRaw.invert(hb,qb)};return Na}function ba(ya,za){return function(Na){var Sa=ya*kc(Na);Na<Za&&(Sa-=za);return x(1+Sa*Sa)}}function ca(ya,za,Na){var Sa=(Na-za)/50;Na=ya(za)+ya(Na);for(var fb=1;50>fb;++fb)Na+=2*ya(za+=Sa);return.5*Na*Sa}function ra(ya,za,Na,Sa,fb,hb,qb,Db){function Ab(Kb,
Jb){if(!Jb)return[ya*Kb/Ea,0];var cc=Jb*Jb,xc=ya+cc*(za+cc*(Na+cc*Sa)),Y=Jb*(fb-1+cc*(hb-Db+cc*qb));Y=(xc*xc+Y*Y)/(2*Y);Kb=Kb*H(xc/Y)/Ea;return[Y*yc(Kb),Jb*(1+cc*Db)+Y*(1-kc(Kb))]}8>arguments.length&&(Db=0);Ab.invert=function(Kb,Jb){var cc=Ea*Kb/ya,xc=Jb,Y=50;do{var oa=xc*xc,Oa=ya+oa*(za+oa*(Na+oa*Sa)),Va=xc*(fb-1+oa*(hb-Db+oa*qb)),xb=Oa*Oa+Va*Va,Sb=2*Va;var Zb=xb/Sb;var qc=Zb*Zb;var Ec=H(Oa/Zb)/Ea;var ed=cc*Ec,Zc=Oa*Oa,Pd=(2*za+oa*(4*Na+6*oa*Sa))*xc,be=fb+oa*(3*hb+5*oa*qb);Va=(2*(Oa*Pd+Va*(be-1))*
Sb-2*xb*(be-1))/(Sb*Sb);xb=kc(ed);be=yc(ed);Sb=Zb*xb;ed=Zb*be;qc=cc/Ea*(1/x(1-Zc/qc))*(Pd*Zb-Oa*Va)/qc;Oa=ed-Kb;oa=xc*(1+oa*Db)+Zb-Sb-Jb;Zb=Va*be+Sb*qc;Zc=Sb*Ec;Va=1+Va-(Va*xb-ed*qc);Ec*=ed;xb=Zb*Ec-Va*Zc;if(!xb)break;cc-=Zb=(oa*Zb-Oa*Va)/xb;xc-=Ec=(Oa*Ec-oa*Zc)/xb}while((1E-6<Gc(Zb)||1E-6<Gc(Ec))&&0<--Y);return[cc,xc]};return Ab}function qa(ya,za){var Na=ya*ya,Sa=za*za;return[ya*(1-.162388*Sa)*(.87-9.52426E-4*Na*Na),za*(1+Sa/12)]}function Da(ya){function za(Sa,fb){var hb=0<Sa?-.5:.5;Sa=ya(Sa+hb*
Ea,fb);Sa[0]-=hb*Na;return Sa}var Na=ya(Za,0)[0]-ya(-Za,0)[0];ya.invert&&(za.invert=function(Sa,fb){var hb=0<Sa?-.5:.5;Sa=ya.invert(Sa+hb*Na,fb);hb=Sa[0]-hb*Ea;hb<-Ea?hb+=2*Ea:hb>Ea&&(hb-=2*Ea);Sa[0]=hb;return Sa});return za}function na(ya,za){var Na=qe(ya),Sa=qe(za),fb=kc(za),hb=kc(ya)*fb;ya=yc(ya)*fb;za=yc(Sa*za);ya=Gc(le(ya,za));za=H(hb);1E-6<Gc(ya-Za)&&(ya%=Za);hb=Ra(ya>Ea/4?Za-ya:ya,za);ya>Ea/4&&(za=hb[0],hb[0]=-hb[1],hb[1]=-za);return hb[0]*=Na,hb[1]*=-Sa,hb}function Ra(ya,za){if(za===Za)return[0,
0];var Na=yc(za),Sa=Na*Na,fb=Sa*Sa,hb=1+fb,qb=1+3*fb,Db=1-fb,Ab=H(1/x(hb)),Kb=Db+Sa*hb*Ab,Jb=(1-Na)/Kb,cc=x(Jb),xc=Jb*hb,Y=x(xc),oa=cc*Db;if(0===ya)return[0,-(oa+Sa*Y)];var Oa=kc(za),Va=1/Oa,xb=2*Na*Oa;Ab=(-Kb*Oa-(1-Na)*(-3*Sa+Ab*qb)*xb)/(Kb*Kb);Na=-Va*xb;hb=-Va*(Sa*hb*Ab+Jb*qb*xb);Db=-2*Va*(.5*Ab/cc*Db-2*Sa*cc*xb);cc=4*ya/Ea;if(ya>.222*Ea||za<Ea/4&&ya>.175*Ea){za=(oa+Sa*x(xc*(1+fb)-oa*oa))/(1+fb);if(ya>Ea/4)return[za,za];fb=za;Va=.5*za;za=.5*(Va+fb);ya=50;do{xb=x(xc-za*za);xb=za*(Db+Na*xb)+hb*H(za/
Y)-cc;if(!xb)break;0>xb?Va=za:fb=za;za=.5*(Va+fb)}while(1E-6<Gc(fb-Va)&&0<--ya)}else{za=1E-6;ya=25;do xb=za*za,fb=x(xc-xb),qb=Db+Na*fb,Va=za*qb+hb*H(za/Y)-cc,xb=qb+(hb-Na*xb)/fb,za-=fb=fb?Va/xb:0;while(1E-6<Gc(fb)&&0<--ya)}return[za,-oa-Sa*x(xc-za*za)]}function db(ya,za){if(1E-6>za){var Na=yc(ya);var Sa=kc(ya);var fb=za*(ya-Na*Sa)/4;return[Na-fb*Sa,Sa+fb*Na,1-za*Na*Na/2,ya-fb]}if(.999999<=za){fb=(1-za)/4;Sa=u(ya);Na=Fe(2*ya);Na=(Na-1)/(Na+1);za=1/Sa;var hb=Sa*v(ya);return[Na+fb*(hb-ya)/(Sa*Sa),za-
fb*Na*za*(hb-ya),za+fb*Na*za*(hb+ya),2*xe(Fe(ya))-Za+fb*(hb-ya)/Sa]}var qb=[1,0,0,0,0,0,0,0,0],Db=[x(za),0,0,0,0,0,0,0,0],Ab=0;Sa=x(1-za);for(hb=1;1E-6<Gc(Db[Ab]/qb[Ab])&&8>Ab;)fb=qb[Ab++],Db[Ab]=(fb-Sa)/2,qb[Ab]=(fb+Sa)/2,Sa=x(fb*Sa),hb*=2;za=hb*qb[Ab]*ya;do Na=Db[Ab]*yc(Sa=za)/qb[Ab],za=(H(Na)+za)/2;while(--Ab);return[yc(za),Na=kc(za),Na/kc(za-Sa),za]}function $a(ya,za){if(!za)return ya;if(1===za)return lf(xa(ya/2+Cb));var Na=1,Sa=x(1-za),fb=x(za);for(za=0;1E-6<Gc(fb);za++)ya%Ea?(fb=xe(Sa*xa(ya)/
Na),0>fb&&(fb+=Ea),ya+=fb+~~(ya/Ea)*Ea):ya+=ya,fb=(Na+Sa)/2,Sa=x(Na*Sa),fb=((Na=fb)-Sa)/2;return ya/(Sf(2,za)*Na)}function Fa(ya,za){var Na=(Yb-1)/(Yb+1),Sa=x(1-Na*Na),fb=$a(Za,Sa*Sa),hb=lf(xa(Ea/4+Gc(za)/2));hb=Fe(-1*hb)/x(Na);Na=hb*kc(-1*ya);var qb=hb*yc(-1*ya);ya=Na*Na;hb=qb+1;qb=1-ya-qb*qb;ya=[.5*((0<=Na?Za:-Za)-le(qb,2*Na)),-.25*lf(qb*qb+4*ya)+.5*lf(hb*hb+ya)];Na=ya[0];ya=ya[1];Sa*=Sa;hb=Gc(Na);qb=Gc(ya);qb=v(qb);if(hb){var Db=1/yc(hb);hb=1/(xa(hb)*xa(hb));qb=-(hb+Sa*qb*qb*Db*Db-1+Sa);qb=(-qb+
x(qb*qb-4*(Sa-1)*hb))/2;Sa=[$a(xe(1/x(qb)),Sa)*qe(Na),$a(xe(x((qb/hb-1)/Sa)),1-Sa)*qe(ya)]}else Sa=[0,$a(xe(qb),1-Sa)*qe(ya)];return[-Sa[1],(0<=za?1:-1)*(.5*fb-Sa[0])]}function Ga(ya){function za(hb,qb){var Db=fb(hb,qb);hb=Db[0];qb=Db[1];Db=yc(qb);qb=kc(qb);var Ab=kc(hb),Kb=N(Na*Db+Sa*qb*Ab),Jb=yc(Kb);Kb=1E-6<Gc(Jb)?Kb/Jb:1;return[Kb*Sa*yc(hb),(Gc(hb)>Za?Kb:-Kb)*(Na*qb-Sa*Db*Ab)]}var Na=yc(ya),Sa=kc(ya),fb=pa(ya);fb.invert=pa(-ya);za.invert=function(hb,qb){var Db=x(hb*hb+qb*qb),Ab=-yc(Db),Kb=kc(Db),
Jb=Db*Kb,cc=-qb*Ab,xc=Db*Na,Y=x(Jb*Jb+cc*cc-xc*xc);Jb=le(Jb*xc+cc*Y,cc*xc-Jb*Y);hb=(Db>Za?-1:1)*le(hb*Ab,Db*kc(Jb)*Kb+qb*yc(Jb)*Ab);return fb.invert(hb,Jb)};return za}function pa(ya){var za=yc(ya),Na=kc(ya);return function(Sa,fb){var hb=kc(fb),qb=kc(Sa)*hb;Sa=yc(Sa)*hb;fb=yc(fb);return[le(Sa,qb*Na-fb*za),H(fb*Na+qb*za)]}}function Ja(ya){function za(Jb,cc){var xc=Gc(cc);if(xc>Na){var Y=If(ya-1,Yf(0,ue((Jb+Ea)/Db)));Jb+=Ea*(ya-1)/ya-Y*Db;Jb=P(Jb,xc);Jb[0]=Jb[0]*Oc/Sa-Oc*(ya-1)/(2*ya)+Y*Oc/ya;Jb[1]=
fb+4*(Jb[1]-hb)*qb/Oc;0>cc&&(Jb[1]=-Jb[1])}else Jb=Zf(Jb,cc);Jb[0]*=Ab;Jb[1]/=Kb;return Jb}var Na=mf*Mc,Sa=P(Ea,Na)[0]-P(-Ea,Na)[0],fb=Zf(0,Na)[1],hb=P(0,Na)[1],qb=$b-hb,Db=Oc/ya,Ab=4/Oc,Kb=fb+qb*qb*4/Oc;za.invert=function(Jb,cc){Jb/=Ab;cc*=Kb;var xc=Gc(cc);if(xc>fb){var Y=If(ya-1,Yf(0,ue((Jb+Ea)/Db)));Jb=(Jb+Ea*(ya-1)/ya-Y*Db)*Sa/Oc;Jb=P.invert(Jb,.25*(xc-fb)*Oc/qb+hb);Jb[0]-=Ea*(ya-1)/ya-Y*Db;0>cc&&(Jb[1]=-Jb[1]);return Jb}return Zf.invert(Jb,cc)};return za}function Ua(ya,za){return[ya,za&1?89.999999:
mf]}function jb(ya,za){return[ya,za&1?-89.999999:-mf]}function Fb(ya){return[.999999*ya[0],ya[1]]}function Xb(ya){var za=[].concat(w.range(-180,180+ya/2,ya).map(Ua),w.range(180,-180-ya/2,-ya).map(jb));return{type:"Polygon",coordinates:[180===ya?za.map(Fb):za]}}function nc(ya){function za(Jb,cc){var xc=1-yc(cc);if(xc&&2>xc){var Y=Za-cc,oa=25;do{var Oa=yc(Y);var Va=kc(Y);cc=fb+le(Oa,Na-Va);Va=1+Kb-2*Na*Va;Y-=Oa=(Y-Ab*fb-Na*Oa+Va*cc-.5*xc*qb)/(2*Na*Oa*cc)}while(1E-12<Gc(Oa)&&0<--oa);xc=hb*x(Va);Jb=Jb*
cc/Ea}else xc=hb*(ya+xc),Jb=Jb*fb/Ea;return[xc*yc(Jb),Db-xc*kc(Jb)]}var Na=1+ya,Sa=yc(1/Na),fb=H(Sa),hb=2*x(Ea/(qb=Ea+4*fb*Na)),qb,Db=.5*hb*(Na+x(ya*(2+ya))),Ab=ya*ya,Kb=Na*Na;za.invert=function(Jb,cc){var xc=Jb*Jb+(cc-=Db)*cc;cc=(1+Kb-xc/(hb*hb))/(2*Na);var Y=N(cc),oa=yc(Y),Oa=fb+le(oa,Na-cc);return[H(Jb/x(xc))*Ea/Oa,H(1-2*(Y-Ab*fb-Na*oa+(1+Kb-2*Na*cc)*Oa)/qb)]};return za}function md(ya,za){return-.7109889596207567<za?(ya=Id(ya,za),ya[1]+=.0528035274542,ya):K(ya,za)}function pc(ya,za){return.7109889596207567<
Gc(za)?(ya=Id(ya,za),ya[1]-=0<za?.0528035274542:-.0528035274542,ya):K(ya,za)}function Hc(ya,za,Na,Sa){function fb(cc){return x(1+ya*kc(2*cc)+za*kc(4*cc))}function hb(cc){cc*=Na;return(2*cc+(1+ya-za/2)*yc(2*cc)+(ya+za)/2*yc(4*cc)+za/2*yc(6*cc))/Na}function qb(cc){return fb(cc)*yc(cc)}var Db=x(4*Ea/(2*Na+(1+ya-za/2)*yc(2*Na)+(ya+za)/2*yc(4*Na)+za/2*yc(6*Na))),Ab=x(Sa*yc(Na)*x((1+ya*kc(2*Na)+za*kc(4*Na))/(1+ya+za))),Kb=Na*hb(1),Jb=function(cc,xc){var Y=Na*B(hb,Kb*yc(xc)/Na,xc/Ea);isNaN(Y)&&(Y=Na*qe(xc));
xc=Db*fb(Y);return[xc*Ab*cc/Ea*kc(Y),xc/Ab*yc(Y)]};Jb.invert=function(cc,xc){xc=B(qb,xc*Ab/Db);return[cc*Ea/(kc(xc)*Db*Ab*fb(xc)),H(Na*hb(xc/Na)/Kb)]};0===Na&&(Db=x(Sa/Ea),Jb=function(cc,xc){return[cc*Db,yc(xc)/Db]},Jb.invert=function(cc,xc){return[cc/Db,H(xc*Db)]});return Jb}function mb(ya,za,Na,Sa,fb,hb,qb,Db,Ab,Kb,Jb){if(Jb.nanEncountered)return NaN;var cc=Na-za;var xc=ya(za+.25*cc);var Y=ya(Na-.25*cc);if(isNaN(xc))Jb.nanEncountered=!0;else if(isNaN(Y))Jb.nanEncountered=!0;else{var oa=cc*(Sa+4*
xc+fb)/12;var Oa=cc*(fb+4*Y+hb)/12;var Va=oa+Oa;qb=(Va-qb)/15;if(Kb>Ab)return Jb.maxDepthCount++,Va+qb;if(Math.abs(qb)<Db)return Va+qb;cc=za+.5*cc;za=mb(ya,za,cc,Sa,xc,fb,oa,.5*Db,Ab,Kb+1,Jb);if(isNaN(za))return Jb.nanEncountered=!0,NaN;ya=mb(ya,cc,Na,fb,Y,hb,Oa,.5*Db,Ab,Kb+1,Jb);return isNaN(ya)?(Jb.nanEncountered=!0,NaN):za+ya}}function hc(ya,za,Na,Sa,fb){void 0===Sa&&(Sa=1E-8);void 0===fb&&(fb=20);var hb=ya(za),qb=ya(.5*(za+Na)),Db=ya(Na);return mb(ya,za,Na,hb,qb,Db,(hb+4*qb+Db)*(Na-za)/6,Sa,fb,
1,{maxDepthCount:0,nanEncountered:!1})}function jc(ya,za,Na){function Sa(Jb){return ya+(1-ya)*Sf(1-Sf(Jb,za),1/za)}function fb(Jb){var cc=0,xc=1E3,Y=500;do Db[Y]>Jb?xc=Y:cc=Y,Y=cc+xc>>1;while(Y>cc);(cc=Db[Y+1]-Db[Y])&&(cc=(Jb-Db[Y+1])/cc);return(Y+1+cc)/1E3}for(var hb=1/hc(Sa,0,1,1E-4),qb=1.00000001*hb,Db=[],Ab=0;1E3>=Ab;Ab++)Db.push(hc(Sa,0,Ab/1E3,1E-4)*qb);var Kb=2*fb(1)/Ea*hb/Na;Na=function(Jb,cc){var xc=fb(Gc(yc(cc)));Jb*=Sa(xc);xc/=Kb;return[Jb,0<=cc?xc:-xc]};Na.invert=function(Jb,cc){var xc;
cc*=Kb;1>Gc(cc)&&(xc=qe(cc)*H(hc(Sa,0,Gc(cc),1E-4)*hb));return[Jb/Sa(Gc(cc)),xc]};return Na}function rc(ya,za){for(var Na=-1,Sa=ya.length,fb=ya[0],hb,qb,Db,Ab=[];++Na<Sa;){hb=ya[Na];qb=(hb[0]-fb[0])/za;Db=(hb[1]-fb[1])/za;for(var Kb=0;Kb<za;++Kb)Ab.push([fb[0]+Kb*qb,fb[1]+Kb*Db]);fb=hb}Ab.push(hb);return Ab}function Pc(ya){var za=[],Na,Sa=ya[0].length;for(Na=0;Na<Sa;++Na){var fb=ya[0][Na];var hb=fb[0][0];var qb=fb[0][1];var Db=fb[1][1];var Ab=fb[2][0];fb=fb[2][1];za.push(rc([[hb+1E-6,qb+1E-6],[hb+
1E-6,Db-1E-6],[Ab-1E-6,Db-1E-6],[Ab-1E-6,fb+1E-6]],30))}for(Na=ya[1].length-1;0<=Na;--Na)fb=ya[1][Na],hb=fb[0][0],qb=fb[0][1],Db=fb[1][1],Ab=fb[2][0],fb=fb[2][1],za.push(rc([[Ab-1E-6,fb-1E-6],[Ab-1E-6,Db+1E-6],[hb+1E-6,Db+1E-6],[hb+1E-6,qb-1E-6]],30));return{type:"Polygon",coordinates:[w.merge(za)]}}function sc(ya,za,Na){function Sa(Ab,Kb){for(var Jb=0>Kb?-1:1,cc=za[+(0>Kb)],xc=0,Y=cc.length-1;xc<Y&&Ab>cc[xc][2][0];++xc);Ab=ya(Ab-cc[xc][1][0],Kb);Ab[0]+=ya(cc[xc][1][0],Jb*Kb>Jb*cc[xc][0][1]?cc[xc][0][1]:
Kb)[0];return Ab}var fb,hb;Na?Sa.invert=Na(Sa):ya.invert&&(Sa.invert=function(Ab,Kb){for(var Jb=hb[+(0>Kb)],cc=za[+(0>Kb)],xc=0,Y=Jb.length;xc<Y;++xc){var oa=Jb[xc];if(oa[0][0]<=Ab&&Ab<oa[1][0]&&oa[0][1]<=Kb&&Kb<oa[1][1])return Jb=ya.invert(Ab-ya(cc[xc][1][0],0)[0],Kb),Jb[0]+=cc[xc][1][0],cc=Sa(Jb[0],Jb[1]),Ab=[Ab,Kb],1E-6>Gc(cc[0]-Ab[0])&&1E-6>Gc(cc[1]-Ab[1])?Jb:null}});var qb=l.geoProjection(Sa),Db=qb.stream;qb.stream=function(Ab){var Kb=qb.rotate(),Jb=Db(Ab),cc=(qb.rotate([0,0]),Db(Ab));qb.rotate(Kb);
Jb.sphere=function(){l.geoStream(fb,cc)};return Jb};qb.lobes=function(Ab){if(!arguments.length)return za.map(function(Kb){return Kb.map(function(Jb){return[[Jb[0][0]*gd,Jb[0][1]*gd],[Jb[1][0]*gd,Jb[1][1]*gd],[Jb[2][0]*gd,Jb[2][1]*gd]]})});fb=Pc(Ab);za=Ab.map(function(Kb){return Kb.map(function(Jb){return[[Jb[0][0]*Mc,Jb[0][1]*Mc],[Jb[1][0]*Mc,Jb[1][1]*Mc],[Jb[2][0]*Mc,Jb[2][1]*Mc]]})});hb=za.map(function(Kb){return Kb.map(function(Jb){var cc=ya(Jb[0][0],Jb[0][1])[0],xc=ya(Jb[2][0],Jb[2][1])[0],Y=
ya(Jb[1][0],Jb[0][1])[1];Jb=ya(Jb[1][0],Jb[1][1])[1];if(Y>Jb){var oa=Y;Y=Jb;Jb=oa}return[[cc,Y],[xc,Jb]]})});return qb};null!=za&&qb.lobes(za);return qb}function Uc(ya,za){return[3/Oc*ya*x(Ea*Ea/3-za*za),za]}function Sc(ya){function za(Na,Sa){if(1E-6>Gc(Gc(Sa)-Za))return[0,0>Sa?-2:2];Sa=yc(Sa);Sa=Sf((1+Sa)/(1-Sa),ya/2);var fb=.5*(Sa+1/Sa)+kc(Na*=ya);return[2*yc(Na)/fb,(Sa-1/Sa)/fb]}za.invert=function(Na,Sa){var fb=Gc(Sa);if(1E-6>Gc(fb-2))return Na?null:[0,qe(Sa)*Za];if(2<fb)return null;Na/=2;Sa/=
2;fb=Na*Na;var hb=Sa*Sa;Sa=2*Sa/(1+fb+hb);Sa=Sf((1+Sa)/(1-Sa),1/ya);return[le(2*Na,1-fb-hb)/ya,H((Sa-1)/(Sa+1))]};return za}function Lc(ya,za){return[ya*(1+x(kc(za)))/2,za/(kc(za/2)*kc(ya/6))]}function Fd(ya,za){var Na=ya*ya,Sa=za*za;return[ya*(.975534+Sa*(-.119161+-.0143059*Na+-.0547009*Sa)),za*(1.00384+Na*(.0802894+-.02855*Sa+1.99025E-4*Na)+Sa*(.0998909+-.0491032*Sa))]}function ge(ya,za){return[yc(ya)/kc(za),xa(za)*kc(ya)]}function wd(ya){function za(fb,hb){var qb=hb-ya,Db=1E-6>Gc(qb)?fb*Na:1E-6>
Gc(Db=Cb+hb/2)||1E-6>Gc(Gc(Db)-Za)?0:fb*qb/lf(xa(Db)/Sa);return[Db,qb]}var Na=kc(ya),Sa=xa(Cb+ya/2);za.invert=function(fb,hb){var qb,Db=hb+ya;return[1E-6>Gc(hb)?fb/Na:1E-6>Gc(qb=Cb+Db/2)||1E-6>Gc(Gc(qb)-Za)?0:fb*lf(xa(qb)/Sa)/hb,Db]};return za}function vd(ya,za){return[ya,1.25*lf(xa(Cb+.4*za))]}function Wd(ya){function za(Sa,fb){var hb=kc(fb),qb=2/(1+hb*kc(Sa));Sa=qb*hb*yc(Sa);fb=qb*yc(fb);qb=Na;hb=ya[qb];for(var Db=hb[0],Ab=hb[1],Kb;0<=--qb;)hb=ya[qb],Db=hb[0]+Sa*(Kb=Db)-fb*Ab,Ab=hb[1]+Sa*Ab+fb*
Kb;Db=Sa*(Kb=Db)-fb*Ab;return[Db,Sa*Ab+fb*Kb]}var Na=ya.length-1;za.invert=function(Sa,fb){var hb=20,qb=Sa,Db=fb;do{for(var Ab=Na,Kb=ya[Ab],Jb=Kb[0],cc=Kb[1],xc=0,Y=0,oa;0<=--Ab;)Kb=ya[Ab],xc=Jb+qb*(oa=xc)-Db*Y,Y=cc+qb*Y+Db*oa,Jb=Kb[0]+qb*(oa=Jb)-Db*cc,cc=Kb[1]+qb*cc+Db*oa;xc=Jb+qb*(oa=xc)-Db*Y;Y=cc+qb*Y+Db*oa;Jb=qb*(oa=Jb)-Db*cc-Sa;cc=qb*cc+Db*oa-fb;Kb=xc*xc+Y*Y;qb-=Ab=(Jb*xc+cc*Y)/Kb;Db-=Jb=(cc*xc-Jb*Y)/Kb}while(1E-12<Gc(Ab)+Gc(Jb)&&0<--hb);if(hb)return Sa=x(qb*qb+Db*Db),fb=2*xe(.5*Sa),hb=yc(fb),
[le(qb*hb,Sa*kc(fb)),Sa?H(Db*hb/Sa):0]};return za}function Pb(ya,za){ya=l.geoProjection(Wd(ya)).rotate(za).clipAngle(90);var Na=l.geoRotation(za),Sa=ya.center;delete ya.rotate;ya.center=function(fb){return arguments.length?Sa(Na(fb)):Na.invert(Sa())};return ya}function gc(ya,za){za=H(7*yc(za)/(3*nd));return[nd*ya*(2*kc(2*za/3)-1)/Kd,9*yc(za/3)/Kd]}function Eb(ya,za){for(var Na=(1+ub)*yc(za),Sa=0,fb;25>Sa&&!(za-=fb=(yc(za/2)+yc(za)-Na)/(.5*kc(za/2)+kc(za)),1E-6>Gc(fb));Sa++);return[ya*(1+2*kc(za)/
kc(za/2))/(3*Yb),2*x(3)*yc(za/2)/x(2+Yb)]}function zc(ya,za){var Na=x(6/(4+Ea)),Sa=(1+Ea/4)*yc(za);za/=2;for(var fb=0,hb;25>fb&&!(za-=hb=(za/2+yc(za)-Sa)/(.5+kc(za)),1E-6>Gc(hb));fb++);return[Na*(.5+kc(za))*ya/1.5,Na*za]}function Vc(ya,za){var Na=za*za,Sa=Na*Na,fb=Na*Sa;return[ya*(.84719-.13063*Na+fb*fb*(-.04515+.05494*Na-.02326*Sa+.00331*fb)),za*(1.01183+Sa*Sa*(-.02625+.01926*Na-.00396*Sa))]}function Ed(ya,za){return[ya*(1+kc(za))/2,2*(za-xa(za/2))]}function Vd(ya,za){var Na=yc(za),Sa=kc(za),fb=
qe(ya);if(0===ya||Gc(za)===Za)return[0,za];if(0===za)return[ya,0];if(Gc(ya)===Za)return[ya*Sa,Za*Na];ya=Ea/(2*ya)-2*ya/Ea;var hb=2*za/Ea,qb=(1-hb*hb)/(Na-hb),Db=ya*ya,Ab=qb*qb;hb=1+Db/Ab;var Kb=1+Ab/Db,Jb=(ya*Na/qb-ya/2)/hb,cc=(Ab*Na/Db+qb/2)/Kb;Na=cc*cc-(Ab*Na*Na/Db+qb*Na-1)/Kb;return[Za*(Jb+x(Jb*Jb+Sa*Sa/hb)*fb),Za*(cc+x(0>Na?0:Na)*qe(-za*ya)*fb)]}function Ka(ya,za){var Na=za*za;return[ya,za*(1.0148+Na*Na*(.23185+Na*(-.14499+.02406*Na)))]}function eb(ya,za){if(1E-6>Gc(za))return[ya,0];var Na=xa(za);
ya*=yc(za);return[yc(ya)/Na,za+(1-kc(ya))/Na]}function wb(ya,za){var Na=ac(ya[1],ya[0]),Sa=ac(za[1],za[0]),fb=le(Na[0]*Sa[1]-Na[1]*Sa[0],Na[0]*Sa[0]+Na[1]*Sa[1]);Na=x(Na[0]*Na[0]+Na[1]*Na[1])/x(Sa[0]*Sa[0]+Sa[1]*Sa[1]);return Hb([1,0,ya[0][0],0,1,ya[0][1]],Hb([Na,0,0,0,Na,0],Hb([kc(fb),yc(fb),0,-yc(fb),kc(fb),0],[1,0,-za[0][0],0,1,-za[0][1]])))}function Hb(ya,za){return[ya[0]*za[0]+ya[1]*za[3],ya[0]*za[1]+ya[1]*za[4],ya[0]*za[2]+ya[1]*za[5]+ya[2],ya[3]*za[0]+ya[4]*za[3],ya[3]*za[1]+ya[4]*za[4],ya[3]*
za[2]+ya[4]*za[5]+ya[5]]}function ac(ya,za){return[ya[0]-za[0],ya[1]-za[1]]}function Lb(ya,za){function Na(Db,Ab){Db.edges=Bb(Db.face);if(Ab.face){var Kb=Db.shared=pb(Db.face,Ab.face),Jb=wb(Kb.map(Ab.project),Kb.map(Db.project));Db.transform=Ab.transform?Hb(Ab.transform,Jb):Jb;Jb=Ab.edges;for(var cc=0,xc=Jb.length;cc<xc;++cc)tc(Kb[0],Jb[cc][1])&&tc(Kb[1],Jb[cc][0])&&(Jb[cc]=Db),tc(Kb[0],Jb[cc][0])&&tc(Kb[1],Jb[cc][1])&&(Jb[cc]=Db);Jb=Db.edges;cc=0;for(xc=Jb.length;cc<xc;++cc)tc(Kb[0],Jb[cc][0])&&
tc(Kb[1],Jb[cc][1])&&(Jb[cc]=Ab),tc(Kb[0],Jb[cc][1])&&tc(Kb[1],Jb[cc][0])&&(Jb[cc]=Ab)}else Db.transform=Ab.transform;Db.children&&Db.children.forEach(function(Y){Na(Y,Db)});return Db}function Sa(Db,Ab){var Kb=za(Db,Ab);Db=Kb.project([Db*gd,Ab*gd]);if(Kb=Kb.transform)return[Kb[0]*Db[0]+Kb[1]*Db[1]+Kb[2],-(Kb[3]*Db[0]+Kb[4]*Db[1]+Kb[5])];Db[1]=-Db[1];return Db}function fb(Db,Ab){var Kb=Db.project.invert,Jb=Db.transform,cc=Ab;if(Jb){var xc=1/(Jb[0]*Jb[4]-Jb[1]*Jb[3]);Jb=[xc*Jb[4],-xc*Jb[1],xc*(Jb[1]*
Jb[5]-Jb[2]*Jb[4]),-xc*Jb[3],xc*Jb[0],xc*(Jb[2]*Jb[3]-Jb[0]*Jb[5])];cc=[Jb[0]*cc[0]+Jb[1]*cc[1]+Jb[2],Jb[3]*cc[0]+Jb[4]*cc[1]+Jb[5]]}if(Jb=Kb)Kb=Y=Kb(cc),Kb=za(Kb[0]*Mc,Kb[1]*Mc),Jb=Db===Kb;if(Jb)return Y;var Y;Db=Db.children;Kb=0;for(cc=Db&&Db.length;Kb<cc;++Kb)if(Y=fb(Db[Kb],Ab))return Y}Na(ya,{transform:null});Ub(ya)&&(Sa.invert=function(Db,Ab){return(Db=fb(ya,[Db,-Ab]))&&(Db[0]*=Mc,Db[1]*=Mc,Db)});var hb=l.geoProjection(Sa),qb=hb.stream;hb.stream=function(Db){var Ab=hb.rotate(),Kb=qb(Db),Jb=(hb.rotate([0,
0]),qb(Db));hb.rotate(Ab);Kb.sphere=function(){Jb.polygonStart();Jb.lineStart();Ac(Jb,ya);Jb.lineEnd();Jb.polygonEnd()};return Kb};return hb.angle(-30)}function Ac(ya,za,Na){var Sa,fb=za.edges,hb=fb.length;var qb={type:"MultiPoint",coordinates:za.face};var Db=za.face.filter(function(cc){return 90!==Gc(cc[1])}),Ab=l.geoBounds({type:"MultiPoint",coordinates:Db});Db=!1;var Kb=-1,Jb=Ab[1][0]-Ab[0][0];Ab=180===Jb||360===Jb?[(Ab[0][0]+Ab[1][0])/2,(Ab[0][1]+Ab[1][1])/2]:l.geoCentroid(qb);if(Na)for(;++Kb<
hb&&fb[Kb]!==Na;);++Kb;for(Jb=0;Jb<hb;++Jb)qb=fb[(Jb+Kb)%hb],Array.isArray(qb)?(Db||(ya.point((Sa=l.geoInterpolate(qb[0],Ab)(1E-6))[0],Sa[1]),Db=!0),ya.point((Sa=l.geoInterpolate(qb[1],Ab)(1E-6))[0],Sa[1])):(Db=!1,qb!==Na&&Ac(ya,qb,za))}function tc(ya,za){return ya&&za&&ya[0]===za[0]&&ya[1]===za[1]}function pb(ya,za){for(var Na,Sa,fb=ya.length,hb=null,qb=0;qb<fb;++qb){Na=ya[qb];for(var Db=za.length;0<=--Db;)if(Sa=za[Db],Na[0]===Sa[0]&&Na[1]===Sa[1]){if(hb)return[hb,Na];hb=Na}}}function Bb(ya){for(var za=
ya.length,Na=[],Sa=ya[za-1],fb=0;fb<za;++fb)Na.push([Sa,Sa=ya[fb]]);return Na}function Ub(ya){return ya.project.invert||ya.children&&ya.children.some(Ub)}function mc(ya,za){ya=P(ya,za);return[ya[0]*$d,ya[1]]}function Bc(ya,za){for(var Na=0,Sa=ya.length,fb=0;Na<Sa;++Na)fb+=ya[Na]*za[Na];return fb}function Cc(ya,za){return[ya[1]*za[2]-ya[2]*za[1],ya[2]*za[0]-ya[0]*za[2],ya[0]*za[1]-ya[1]*za[0]]}function Xc(ya){return[le(ya[1],ya[0])*gd,H(Yf(-1,If(1,ya[2])))*gd]}function Qb(ya){var za=ya[0]*Mc;ya=ya[1]*
Mc;var Na=kc(ya);return[Na*kc(za),Na*yc(za),yc(ya)]}function Ic(ya,za){return{type:"FeatureCollection",features:ya.features.map(function(Na){return Dc(Na,za)})}}function Dc(ya,za){return{type:"Feature",id:ya.id,properties:ya.properties,geometry:Tc(ya.geometry,za)}}function uc(ya,za){return{type:"GeometryCollection",geometries:ya.geometries.map(function(Na){return Tc(Na,za)})}}function Tc(ya,za){if(!ya)return null;if("GeometryCollection"===ya.type)return uc(ya,za);switch(ya.type){case "Point":var Na=
Uf;break;case "MultiPoint":Na=Uf;break;case "LineString":Na=ne;break;case "MultiLineString":Na=ne;break;case "Polygon":Na=sf;break;case "MultiPolygon":Na=sf;break;case "Sphere":Na=sf;break;default:return null}l.geoStream(ya,za(Na));return Na.result()}function ad(ya){function za(Sa,fb){var hb=Gc(Sa)<Za;fb=ya(hb?Sa:0<Sa?Sa-Ea:Sa+Ea,fb);Sa=(fb[0]-fb[1])*ub;fb=(fb[0]+fb[1])*ub;if(hb)return[Sa,fb];hb=Na*ub;var qb=0<Sa^0<fb?-1:1;return[qb*Sa-qe(fb)*hb,qb*fb-qe(Sa)*hb]}var Na=ya(Za,0)[0]-ya(-Za,0)[0];ya.invert&&
(za.invert=function(Sa,fb){var hb=(Sa+fb)*ub,qb=(fb-Sa)*ub,Db=Gc(hb)<.5*Na&&Gc(qb)<.5*Na;if(!Db){var Ab=Na*ub,Kb=0<hb^0<qb?-1:1;Sa=-Kb*Sa+(0<qb?1:-1)*Ab;fb=-Kb*fb+(0<hb?1:-1)*Ab;hb=(-Sa-fb)*ub;qb=(Sa-fb)*ub}fb=ya.invert(hb,qb);Db||(fb[0]+=0<hb?Ea:-Ea);return fb});return l.geoProjection(za).rotate([-90,-90,45]).clipAngle(179.999)}function ld(ya){function za(Sa,fb){Sa=Na?xa(Sa*Na/2)/Na:Sa/2;if(!fb)return[2*Sa,-ya];Sa=2*xe(Sa*yc(fb));var hb=1/xa(fb);return[yc(Sa)*hb,fb+(1-kc(Sa))*hb-ya]}var Na=yc(ya);
za.invert=function(Sa,fb){if(1E-6>Gc(fb+=ya))return[Na?2*xe(Na*Sa/2)/Na:Sa,0];var hb=Sa*Sa+fb*fb,qb=0,Db=10;do{var Ab=xa(qb);var Kb=1/kc(qb),Jb=hb-2*fb*qb+qb*qb;qb-=Ab=(Ab*Jb+2*(qb-fb))/(2+Jb*Kb*Kb+2*(qb-fb)*Ab)}while(1E-6<Gc(Ab)&&0<--Db);Sa*=Ab=xa(qb);fb=xa(Gc(fb)<Gc(qb+1/Ab)?.5*H(Sa):.5*N(Sa)+Ea/4)/yc(qb);return[Na?2*xe(Na*fb)/Na:2*fb,qb]};return za}function Cd(ya,za){var Na=If(18,36*Gc(za)/Ea),Sa=ue(Na);Na-=Sa;var fb=(Ab=Cf[Sa])[0],hb=Ab[1],qb=(Ab=Cf[++Sa])[0],Db=Ab[1];Sa=(Ab=Cf[If(19,++Sa)])[0];
Ab=Ab[1];var Ab;return[ya*(qb+Na*(Sa-fb)/2+Na*Na*(Sa-2*qb+fb)/2),(0<za?Za:-Za)*(Db+Na*(Ab-hb)/2+Na*Na*(Ab-2*Db+hb)/2)]}function Dd(ya){function za(Na,Sa){var fb=kc(Sa),hb=(ya-1)/(ya-fb*kc(Na));return[hb*fb*yc(Na),hb*yc(Sa)]}za.invert=function(Na,Sa){var fb=Na*Na+Sa*Sa,hb=x(fb);fb=(ya-x(1-fb*(ya+1)/(ya-1)))/((ya-1)/hb+hb/(ya-1));return[le(Na*fb,hb*x(1-fb*fb)),hb?H(Sa*fb/hb):0]};return za}function Ud(ya,za){function Na(qb,Db){qb=Sa(qb,Db);Db=qb[1];var Ab=Db*hb/(ya-1)+fb;return[qb[0]*fb/Ab,Db/Ab]}var Sa=
Dd(ya);if(!za)return Sa;var fb=kc(za),hb=yc(za);Na.invert=function(qb,Db){var Ab=(ya-1)/(ya-1-Db*hb);return Sa.invert(Ab*qb,Ab*Db*fb)};return Na}function ae(ya){return 0<ya.length}function oe(ya){return-90===ya||90===ya?[0,ya]:[-180,Math.floor(1E4*ya)/1E4]}function De(ya){var za=ya[0],Na=ya[1],Sa=!1;-179.9999>=za?(za=-180,Sa=!0):179.9999<=za&&(za=180,Sa=!0);-89.9999>=Na?(Na=-90,Sa=!0):89.9999<=Na&&(Na=90,Sa=!0);return Sa?[za,Na]:ya}function fe(ya){return ya.map(De)}function ef(ya,za,Na){for(var Sa=
0,fb=ya.length;Sa<fb;++Sa){var hb=ya[Sa].slice();Na.push({index:-1,polygon:za,ring:hb});for(var qb=0,Db=hb.length;qb<Db;++qb){var Ab=hb[qb],Kb=Ab[0],Jb=Ab[1];if(-179.9999>=Kb||179.9999<=Kb||-89.9999>=Jb||89.9999<=Jb){hb[qb]=De(Ab);for(Ab=qb+1;Ab<Db;++Ab){var cc=hb[Ab];Kb=cc[0];cc=cc[1];if(-179.9999<Kb&&179.9999>Kb&&-89.9999<cc&&89.9999>cc)break}if(Ab!==qb+1){qb?(qb={index:-1,polygon:za,ring:hb.slice(0,qb+1)},qb.ring[qb.ring.length-1]=oe(Jb),Na[Na.length-1]=qb):Na.pop();if(Ab>=Db)break;Na.push({index:-1,
polygon:za,ring:hb=hb.slice(Ab-1)});hb[0]=oe(hb[0][1]);qb=-1;Db=hb.length}}}}}function Ze(ya){var za,Na=ya.length,Sa={},fb={};for(za=0;za<Na;++za){var hb=ya[za];var qb=hb.ring[0];var Db=hb.ring[hb.ring.length-1];qb[0]===Db[0]&&qb[1]===Db[1]?(hb.polygon.push(hb.ring),ya[za]=null):(hb.index=za,Sa[qb]=fb[Db]=hb)}for(za=0;za<Na;++za)if(hb=ya[za]){qb=hb.ring[0];Db=hb.ring[hb.ring.length-1];var Ab=fb[qb];var Kb=Sa[Db];delete Sa[qb];delete fb[Db];qb[0]===Db[0]&&qb[1]===Db[1]?hb.polygon.push(hb.ring):Ab?
(delete fb[qb],delete Sa[Ab.ring[0]],Ab.ring.pop(),ya[Ab.index]=null,hb={index:-1,polygon:Ab.polygon,ring:Ab.ring.concat(hb.ring)},Ab===Kb?hb.polygon.push(hb.ring):(hb.index=Na++,ya.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb))):Kb?(delete Sa[Db],delete fb[Kb.ring[Kb.ring.length-1]],hb.ring.pop(),hb={index:Na++,polygon:Kb.polygon,ring:hb.ring.concat(Kb.ring)},ya[Kb.index]=null,ya.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb)):(hb.ring.push(hb.ring[0]),hb.polygon.push(hb.ring))}}function df(ya){var za=
{type:"Feature",geometry:Zd(ya.geometry)};null!=ya.id&&(za.id=ya.id);null!=ya.bbox&&(za.bbox=ya.bbox);null!=ya.properties&&(za.properties=ya.properties);return za}function Zd(ya){if(null==ya)return ya;switch(ya.type){case "GeometryCollection":var za={type:"GeometryCollection",geometries:ya.geometries.map(Zd)};break;case "Point":za={type:"Point",coordinates:De(ya.coordinates)};break;case "MultiPoint":case "LineString":za={type:ya.type,coordinates:fe(ya.coordinates)};break;case "MultiLineString":za=
{type:"MultiLineString",coordinates:ya.coordinates.map(fe)};break;case "Polygon":var Na=[];ef(ya.coordinates,Na,za=[]);Ze(za);za={type:"Polygon",coordinates:Na};break;case "MultiPolygon":za=[];Na=-1;var Sa=ya.coordinates.length;for(var fb=Array(Sa);++Na<Sa;)ef(ya.coordinates[Na],fb[Na]=[],za);Ze(za);za={type:"MultiPolygon",coordinates:fb.filter(ae)};break;default:return ya}null!=ya.bbox&&(za.bbox=ya.bbox);return za}function he(ya,za){za=xa(za/2);var Na=yc(Cb*za);return[ya*(.74482-.34588*Na*Na),1.70711*
za]}function zf(ya,za,Na){var Sa=l.geoInterpolate(za,Na);Na=Sa(.5);za=l.geoRotation([-Na[0],-Na[1]])(za);Sa=Sa.distance/2;var fb=-H(yc(za[1]*Mc)/yc(Sa));Na=[-Na[0],-Na[1],-(0<za[0]?Ea-fb:fb)*gd];ya=l.geoProjection(ya(Sa)).rotate(Na);var hb=l.geoRotation(Na),qb=ya.center;delete ya.rotate;ya.center=function(Db){return arguments.length?qb(hb(Db)):hb.invert(qb())};return ya.clipAngle(90)}function Ue(ya){function za(Sa,fb){Sa=l.geoGnomonicRaw(Sa,fb);Sa[0]*=Na;return Sa}var Na=kc(ya);za.invert=function(Sa,
fb){return l.geoGnomonicRaw.invert(Sa/Na,fb)};return za}function Nf(ya,za){return zf(Ue,ya,za)}function me(ya){function za(Db,Ab){var Kb=N(kc(Ab)*kc(Db-Na));Db=N(kc(Ab)*kc(Db-Sa));Kb*=Kb;Db*=Db;return[(Kb-Db)/(2*ya),(0>Ab?-1:1)*x(4*fb*Db-(fb-Kb+Db)*(fb-Kb+Db))/(2*ya)]}if(!(ya*=2))return l.geoAzimuthalEquidistantRaw;var Na=-ya/2,Sa=-Na,fb=ya*ya,hb=xa(Sa),qb=.5/yc(Sa);za.invert=function(Db,Ab){var Kb=Ab*Ab,Jb=kc(x(Kb+(cc=Db+Na)*cc));Db=kc(x(Kb+(cc=Db+Sa)*cc));var cc,xc;return[le(xc=Jb-Db,cc=(Jb+Db)*
hb),(0>Ab?-1:1)*N(x(cc*cc+xc*xc)*qb)]};return za}function te(ya,za){return zf(me,ya,za)}function kf(ya,za){if(1E-6>Gc(za))return[ya,0];var Na=Gc(za/Za),Sa=H(Na);if(1E-6>Gc(ya)||1E-6>Gc(Gc(za)-Za))return[0,qe(za)*Ea*xa(Sa/2)];var fb=kc(Sa);Sa=Gc(Ea/ya-ya/Ea)/2;var hb=Sa*Sa;fb/=Na+fb-1;Na=fb*(2/Na-1);var qb=Na*Na,Db=qb+hb,Ab=fb-qb,Kb=hb+fb;return[qe(ya)*Ea*(Sa*Ab+x(hb*Ab*Ab-Db*(fb*fb-qb)))/Db,qe(za)*Ea*(Na*Kb-Sa*x((hb+1)*Db-Kb*Kb))/Db]}function we(ya,za){if(1E-6>Gc(za))return[ya,0];var Na=Gc(za/Za),
Sa=H(Na);if(1E-6>Gc(ya)||1E-6>Gc(Gc(za)-Za))return[0,qe(za)*Ea*xa(Sa/2)];var fb=kc(Sa);Sa=Gc(Ea/ya-ya/Ea)/2;var hb=Sa*Sa;Na=fb*(x(1+hb)-Sa*fb)/(1+hb*Na*Na);return[qe(ya)*Ea*Na,qe(za)*Ea*x(1-Na*(2*Sa+Na))]}function Od(ya,za){if(1E-6>Gc(za))return[ya,0];var Na=za/Za,Sa=H(Na);if(1E-6>Gc(ya)||1E-6>Gc(Gc(za)-Za))return[0,Ea*xa(Sa/2)];za=(Ea/ya-ya/Ea)/2;Na/=1+kc(Sa);return[Ea*(qe(ya)*x(za*za+1-Na*Na)-za),Ea*Na]}function Xd(ya,za){if(!za)return[ya,0];var Na=Gc(za);if(!ya||Na===Za)return[0,za];var Sa=Na/
Za;Na=Sa*Sa;var fb=(8*Sa-Na*(Na+2)-5)/(2*Na*(Sa-1)),hb=fb*fb,qb=Sa*fb,Db=Na+hb+2*qb;Sa+=3*fb;fb=ya/Za;fb+=1/fb;fb=qe(Gc(ya)-Za)*x(fb*fb-4);var Ab=fb*fb;Na=(fb*(Db+hb-1)+2*x(Db*(Na+hb*Ab-1)+(1-Na)*(Na*(Sa*Sa+4*hb)+12*qb*hb+4*hb*hb)))/(4*Db+Ab);return[qe(ya)*Za*Na,qe(za)*Za*x(1+fb*Gc(Na)-Na*Na)]}function Be(ya,za,Na,Sa,fb){function hb(qb,Db){Db=Na*yc(Sa*Db);var Ab=x(1-Db*Db),Kb=x(2/(1+Ab*kc(qb*=fb)));return[ya*Ab*Kb*yc(qb),za*Db*Kb]}hb.invert=function(qb,Db){var Ab=qb/ya,Kb=Db/za;Ab=x(Ab*Ab+Kb*Kb);
Kb=2*H(Ab/2);return[le(qb*xa(Kb),ya*Ab)/fb,Ab&&H(Db*yc(Kb)/(za*Na*Ab))/Sa]};return hb}function jf(ya,za,Na,Sa){var fb=Ea/3;ya=Yf(ya,1E-6);za=Yf(za,1E-6);ya=If(ya,Za);za=If(za,Ea-1E-6);Na=Yf(Na,0);Na=If(Na,99.999999);Sa=Yf(Sa,1E-6);var hb=Sa/100;Na=N((Na/100+1)*kc(fb))/fb;fb=yc(ya)/yc(Na*Za);Sa=za/Ea;za=x(hb*yc(ya/2)/yc(za/2));ya=za/x(Sa*fb*Na);za=1/(za*x(Sa*fb*Na));return Be(ya,za,fb,Na,Sa)}function Ge(){var ya=65*Mc,za=60*Mc,Na=20,Sa=200,fb=l.geoProjectionMutator(jf),hb=fb(ya,za,Na,Sa);hb.poleline=
function(qb){return arguments.length?fb(ya=+qb*Mc,za,Na,Sa):ya*gd};hb.parallels=function(qb){return arguments.length?fb(ya,za=+qb*Mc,Na,Sa):za*gd};hb.inflation=function(qb){return arguments.length?fb(ya,za,Na=+qb,Sa):Na};hb.ratio=function(qb){return arguments.length?fb(ya,za,Na,Sa=+qb):Sa};return hb.scale(163.775)}function Td(ya,za){return[ya*x(1-3*za*za/(Ea*Ea)),za]}function Ye(ya,za){var Na=kc(za),Sa=kc(ya)*Na,fb=1-Sa;za=kc(ya=le(yc(ya)*Na,-yc(za)));ya=yc(ya);Na=x(1-Sa*Sa);return[ya*Na-za*fb,-za*
Na-ya*fb]}function Xf(ya,za){var Na=g(ya,za);return[(Na[0]+ya/Za)/2,(Na[1]+za)/2]}var Gc=Math.abs,xe=Math.atan,le=Math.atan2,kc=Math.cos,Fe=Math.exp,ue=Math.floor,lf=Math.log,Yf=Math.max,If=Math.min,Sf=Math.pow,Bf=Math.round,qe=Math.sign||function(ya){return 0<ya?1:0>ya?-1:0},yc=Math.sin,xa=Math.tan,Ea=Math.PI,Za=Ea/2,Cb=Ea/4,ub=Math.SQRT1_2,Yb=x(2),$b=x(Ea),Oc=2*Ea,gd=180/Ea,Mc=Ea/180;g.invert=function(ya,za){if(!(ya*ya+4*za*za>Ea*Ea+1E-6)){var Na=ya,Sa=za,fb=25;do{var hb=yc(Na),qb=yc(Na/2),Db=kc(Na/
2),Ab=yc(Sa),Kb=kc(Sa),Jb=yc(2*Sa),cc=Ab*Ab,xc=Kb*Kb,Y=qb*qb,oa=1-xc*Db*Db,Oa=oa?N(Kb*Db)*x(Va=1/oa):Va=0,Va;oa=2*Oa*Kb*qb-ya;var xb=Oa*Ab-za,Sb=Va*(xc*Y+Oa*Kb*Db*cc),Zb=Va*(.5*hb*Jb-2*Oa*Ab*qb);hb=.25*Va*(Jb*qb-Oa*Ab*xc*hb);Kb=Va*(cc*Db+Oa*Y*Kb);Db=Zb*hb-Kb*Sb;if(!Db)break;Zb=(xb*Zb-oa*Kb)/Db;oa=(oa*hb-xb*Sb)/Db;Na-=Zb;Sa-=oa}while((1E-6<Gc(Zb)||1E-6<Gc(oa))&&0<--fb);return[Na,Sa]}};f.invert=function(ya,za){ya*=.375;za*=.375;if(!ya&&1<Gc(za))return null;var Na=1+ya*ya+za*za,Sa=x((Na-x(Na*Na-4*za*
za))/2);Na=H(Sa)/3;Sa?(Sa=Gc(za/Sa),Sa=lf(Sa+x(Sa*Sa-1))/3):(Sa=Gc(ya),Sa=lf(Sa+x(Sa*Sa+1))/3);var fb=kc(Na),hb=u(Sa),qb=hb*hb-fb*fb;return[2*qe(ya)*le(v(Sa)*fb,.25-qb),2*qe(za)*le(hb*yc(Na),.25+qb)]};var Nd=x(8),od=lf(1+Yb);a.invert=function(ya,za){if((fb=Gc(za))<od)return[ya,2*xe(Fe(za))-Za];var Na=Cb,Sa=25,fb;do{var hb=kc(Na/2);var qb=xa(Na/2);Na-=hb=(Nd*(Na-Cb)-lf(qb)-fb)/(Nd-hb*hb/(2*qb))}while(1E-12<Gc(hb)&&0<--Sa);return[ya/(kc(Na)*(Nd-1/yc(Na))),qe(za)*Na]};y.invert=function(ya,za){za=2*H(za/
2);return[ya*kc(za/2)/kc(za),za]};var Id=F(Yb/Za,Yb,Ea);z.invert=function(ya,za){var Na=2.00276*za;za=0>za?-Cb:Cb;var Sa=25;do{var fb=Na-Yb*yc(za);za-=fb=(yc(2*za)+2*za-Ea*yc(fb))/(2*kc(2*za)+2+Ea*kc(fb)*Yb*kc(za))}while(1E-6<Gc(fb)&&0<--Sa);fb=Na-Yb*yc(za);return[ya*(1/kc(fb)+1.11072/kc(za))/2.00276,fb]};K.invert=function(ya,za){return[ya/kc(za),za]};var jd=F(1,4/Ea,Ea);P.invert=function(ya,za){var Na=(Na=za/$b-1)*Na;return[0<Na?ya*x(Ea/Na)/2:0,H(1-Na)]};var Qd=x(3);V.invert=function(ya,za){za=3*
H(za/(Qd*$b));return[$b*ya/(Qd*(2*kc(2*za/3)-1)),za]};ta.invert=function(ya,za){var Na=x(8/(3*Ea));za/=Na;return[ya/(Na*(1-Gc(za)/Ea)),za]};wa.invert=function(ya,za){var Na=2-Gc(za)/x(2*Ea/3);return[ya*x(6*Ea)/(2*Na),qe(za)*H((4-Na*Na)/3)]};Ha.invert=function(ya,za){var Na=x(Ea*(4+Ea))/2;return[ya*Na/(1+x(1-za*za*(4+Ea)/(4*Ea))),za*Na/2]};bb.invert=function(ya,za){za=za*x((4+Ea)/Ea)/2;var Na=H(za),Sa=kc(Na);return[ya/(2/x(Ea*(4+Ea))*(1+Sa)),H((Na+za*(Sa+2))/(2+Za))]};kb.invert=function(ya,za){var Na=
x(2+Ea);za=za*Na/2;return[Na*ya/(1+kc(za)),za]};va.invert=function(ya,za){var Na=1+Za,Sa=x(Na/2);return[2*ya*Sa/(1+kc(za*=Sa)),H((za+yc(za))/Na)]};var ie=3+2*Yb;Ta.invert=function(ya,za){if(!(fb=f.invert(ya/1.2,1.065*za)))return null;var Na=fb[0];fb=fb[1];var Sa=20,fb;ya/=ie;za/=ie;do{var hb=Na/2,qb=fb/2,Db=yc(hb),Ab=kc(hb),Kb=yc(qb),Jb=kc(qb),cc=kc(fb),xc=x(cc),Y=Kb/(Jb+Yb*Ab*xc),oa=Y*Y,Oa=x(2/(1+oa)),Va=(Yb*Jb+(Ab+Db)*xc)/(Yb*Jb+(Ab-Db)*xc),xb=x(Va),Sb=xb-1/xb,Zb=xb+1/xb;qb=Oa*Sb-2*lf(xb)-ya;hb=
Oa*Y*Zb-2*xe(Y)-za;var qc=Kb&&ub*xc*Db*oa/Kb,Ec=(Yb*Ab*Jb+xc)/(2*(Jb+Yb*Ab*xc)*(Jb+Yb*Ab*xc)*xc),ed=-.5*Y*Oa*Oa*Oa,Zc=ed*qc;ed*=Ec;var Pd=(Pd=2*Jb+Yb*xc*(Ab-Db))*Pd*xb;Ab=(Yb*Ab*Jb*xc+cc)/Pd;Kb=-(Yb*Db*Kb)/(xc*Pd);Db=Sb*Zc-2*Ab/xb+Oa*(Ab+Ab/Va);xb=Sb*ed-2*Kb/xb+Oa*(Kb+Kb/Va);qc=Y*Zb*Zc-2*qc/(1+oa)+Oa*Zb*qc+Oa*Y*(Ab-Ab/Va);oa=Y*Zb*ed-2*Ec/(1+oa)+Oa*Zb*Ec+Oa*Y*(Kb-Kb/Va);Y=xb*qc-oa*Db;if(!Y)break;oa=(hb*xb-qb*oa)/Y;qb=(qb*qc-hb*Db)/Y;Na-=oa;fb=Yf(-Za,If(Za,fb-qb))}while((1E-6<Gc(oa)||1E-6<Gc(qb))&&
0<--Sa);return 1E-6>Gc(Gc(fb)-Za)?[0,fb]:Sa&&[Na,fb]};var Gf=kc(35*Mc);Ya.invert=function(ya,za){za/=1+Gf;return[ya&&ya/(Gf*x(1-za*za)),2*xe(za)]};Ca.invert=function(ya,za){var Na=xe(za/$b);za=kc(Na);Na*=2;return[ya*$b/2/(kc(Na)*za*za),Na]};var tf=ra(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),kd=ra(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),We=ra(5/6*Ea,-.62636,-.0344,0,1.3493,-.05524,0,.045);qa.invert=function(ya,za){var Na=ya,Sa=za,fb=50,hb;do{var qb=Sa*Sa;Sa-=hb=
(Sa*(1+qb/12)-za)/(1+qb/4)}while(1E-6<Gc(hb)&&0<--fb);fb=50;ya/=1-.162388*qb;do{var Db=(Db=Na*Na)*Db;Na-=hb=(Na*(.87-9.52426E-4*Db)-ya)/(.87-.00476213*Db)}while(1E-6<Gc(hb)&&0<--fb);return[Na,Sa]};var uf=ra(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);na.invert=function(ya,za){1<Gc(ya)&&(ya=2*qe(ya)-ya);1<Gc(za)&&(za=2*qe(za)-za);var Na=qe(ya),Sa=qe(za),fb=-Na*ya,hb=-Sa*za;za=1>hb/fb;ya=za?hb:fb;var qb=za?fb:hb,Db=0,Ab=1;fb=.5;for(var Kb=50;;){hb=fb*fb;var Jb=x(fb),cc=H(1/x(1+hb)),xc=1-
hb+fb*(1+hb)*cc,Y=(1-Jb)/xc,oa=x(Y),Oa=Y*(1+hb),Va=oa*(1-hb),xb=x(Oa-ya*ya);Va=qb+Va+fb*xb;if(1E-12>Gc(Ab-Db)||0===--Kb||0===Va)break;0<Va?Db=fb:Ab=fb;fb=.5*(Db+Ab)}Kb?(qb=H(Jb),Kb=kc(qb),Db=1/Kb,Ab=2*Jb*Kb,Jb=(-xc*Kb-(1-Jb)*(-3*fb+cc*(1+3*hb))*Ab)/(xc*xc),fb=[Ea/4*(ya*(-2*Db*(.5*Jb/oa*(1-hb)-2*fb*oa*Ab)+-Db*Ab*xb)+-Db*(fb*(1+hb)*Jb+Y*(1+3*hb)*Ab)*H(ya/x(Oa))),qb]):fb=null;ya=fb[0];fb=fb[1];hb=kc(fb);za&&(ya=-Za-ya);return[Na*(le(yc(ya)*hb,-yc(fb))+Ea),Sa*H(kc(ya)*hb)]};Fa.invert=function(ya,za){var Na=
(Yb-1)/(Yb+1),Sa=x(1-Na*Na);za=.5*$a(Za,Sa*Sa)-za;ya=-ya;Sa*=Sa;if(za)if(za=db(za,Sa),ya){ya=db(ya,1-Sa);var fb=ya[1]*ya[1]+Sa*za[0]*za[0]*ya[0]*ya[0];za=[[za[0]*ya[2]/fb,za[1]*za[2]*ya[0]*ya[1]/fb],[za[1]*ya[1]/fb,-za[0]*za[2]*ya[0]*ya[2]/fb],[za[2]*ya[1]*ya[2]/fb,-Sa*za[0]*za[1]*ya[0]/fb]]}else za=[[za[0],0],[za[1],0],[za[2],0]];else ya=db(ya,1-Sa),za=[[0,ya[0]/ya[1]],[1/ya[1],0],[ya[2]/ya[1],0]];Sa=za[0];za=za[1];ya=za[0]*za[0]+za[1]*za[1];Sa=[(Sa[0]*za[0]+Sa[1]*za[1])/ya,(Sa[1]*za[0]-Sa[0]*za[1])/
ya];return[le(Sa[1],Sa[0])/-1,2*xe(Fe(-.5*lf(Na*Sa[0]*Sa[0]+Na*Sa[1]*Sa[1])))-Za]};var mf=H(1-1/3)*gd,Zf=ha(0);md.invert=function(ya,za){return-.7109889596207567<za?Id.invert(ya,za-.0528035274542):K.invert(ya,za)};pc.invert=function(ya,za){return.7109889596207567<Gc(za)?Id.invert(ya,za+(0<za?.0528035274542:-.0528035274542)):K.invert(ya,za)};var yf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],
[140,-90],[180,0]]]],Pe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],nf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Aa=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Pa=[[[[-180,35],
[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],vb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Uc.invert=function(ya,za){return[Oc/3*ya/x(Ea*Ea/3-za*za),za]};var Wb=Ea/Yb;Lc.invert=function(ya,za){var Na=Gc(ya),Sa=Gc(za),fb=1E-6,hb=Za;Sa<Wb?hb*=Sa/Wb:fb+=6*N(Wb/Sa);for(var qb=0;25>qb;qb++){var Db=
yc(hb),Ab=x(kc(hb)),Kb=yc(hb/2),Jb=kc(hb/2),cc=yc(fb/6),xc=kc(fb/6),Y=.5*fb*(1+Ab)-Na,oa=hb/(Jb*xc)-Sa;Db=Ab?-.25*fb*Db/Ab:0;Ab=.5*(1+Ab);Kb=(1+.5*hb*Kb/Jb)/(Jb*xc);cc=hb/Jb*(cc/6)/(xc*xc);Jb=Db*cc-Kb*Ab;cc=(Y*cc-oa*Ab)/Jb;Y=(oa*Db-Y*Kb)/Jb;hb-=cc;fb-=Y;if(1E-6>Gc(cc)&&1E-6>Gc(Y))break}return[0>ya?-fb:fb,0>za?-hb:hb]};Fd.invert=function(ya,za){var Na=qe(ya)*Ea,Sa=za/2,fb=50;do{var hb=Na*Na,qb=Sa*Sa,Db=Na*Sa,Ab=Na*(.975534+qb*(-.119161+-.0143059*hb+-.0547009*qb))-ya,Kb=Sa*(1.00384+hb*(.0802894+-.02855*
qb+1.99025E-4*hb)+qb*(.0998909+-.0491032*qb))-za,Jb=.975534-qb*(.119161+.0429177*hb+.0547009*qb),cc=-Db*(.238322+.2188036*qb+.0286118*hb);Db*=.1605788+7.961E-4*hb+-.0571*qb;qb=1.00384+hb*(.0802894+1.99025E-4*hb)+qb*(3*(.0998909-.02855*hb)-.245516*qb);hb=cc*Db-qb*Jb;cc=(Kb*cc-Ab*qb)/hb;Ab=(Ab*Db-Kb*Jb)/hb;Na-=cc;Sa-=Ab}while((1E-6<Gc(cc)||1E-6<Gc(Ab))&&0<--fb);return fb&&[Na,Sa]};ge.invert=function(ya,za){var Na=ya*ya,Sa=za*za+1,fb=Na+Sa;Na=ya?ub*x((fb-x(fb*fb-4*Na))/Na):1/x(Sa);return[H(ya*Na),qe(za)*
N(Na)]};vd.invert=function(ya,za){return[ya,2.5*xe(Fe(.8*za))-.625*Ea]};var Tb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ic=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],oc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],fd=[[.9245,0],[0,0],[.01943,0]],Wc=[[.721316,
0],[0,0],[-.00881625,-.00617325]],nd=x(6),Kd=x(7);gc.invert=function(ya,za){za=3*H(za*Kd/9);return[ya*Kd/(nd*(2*kc(2*za/3)-1)),H(3*yc(za)*nd/7)]};Eb.invert=function(ya,za){za=za*x(2+Yb)/(2*x(3));var Na=2*H(za);return[3*Yb*ya/(1+2*kc(Na)/kc(Na/2)),H((za+yc(Na))/(1+ub))]};zc.invert=function(ya,za){var Na=x(6/(4+Ea));za/=Na;1E-6>Gc(Gc(za)-Za)&&(za=0>za?-Za:Za);return[1.5*ya/(Na*(.5+kc(za))),H((za/2+yc(za))/(1+Ea/4))]};Vc.invert=function(ya,za){var Na=za,Sa=25;do{var fb=Na*Na;var hb=fb*fb;Na-=fb=(Na*
(1.01183+hb*hb*(-.02625+.01926*fb-.00396*hb))-za)/(1.01183+hb*hb*(-.23625+.21186*fb+-.05148*hb))}while(1E-12<Gc(fb)&&0<--Sa);fb=Na*Na;hb=fb*fb;za=fb*hb;return[ya/(.84719-.13063*fb+za*za*(-.04515+.05494*fb-.02326*hb+.00331*za)),Na]};Ed.invert=function(ya,za){for(var Na=za/2,Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);++Sa)fb=kc(za/2),za-=fb=(za-xa(za/2)-Na)/(1-.5/(fb*fb));return[2*ya/(1+kc(za)),za]};var de=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,
0]]]];Vd.invert=function(ya,za){ya/=Za;za/=Za;var Na=ya*ya,Sa=Na+za*za,fb=Ea*Ea;return[ya?(Sa-1+x((1-Sa)*(1-Sa)+4*Na))/(2*ya)*Za:0,B(function(hb){return Sa*(Ea*yc(hb)-2*hb)*Ea+4*hb*hb*(za-yc(hb))+2*Ea*hb-fb*za},0)]};var je=5*.23185;Ka.invert=function(ya,za){1.790857183<za?za=1.790857183:-1.790857183>za&&(za=-1.790857183);var Na=za;do{var Sa=Na*Na;Na-=Sa=(Na*(1.0148+Sa*Sa*(.23185+Sa*(-.14499+.02406*Sa)))-za)/(1.0148+Sa*Sa*(je+Sa*(-1.01493+.21654*Sa)))}while(1E-6<Gc(Sa));return[ya,Na]};eb.invert=function(ya,
za){if(1E-6>Gc(za))return[ya,0];var Na=ya*ya+za*za,Sa=.5*za,fb=10;do{var hb=xa(Sa);var qb=1/kc(Sa),Db=Na-2*za*Sa+Sa*Sa;Sa-=hb=(hb*Db+2*(Sa-za))/(2+Db*qb*qb+2*(Sa-za)*hb)}while(1E-6<Gc(hb)&&0<--fb);hb=xa(Sa);return[(Gc(za)<Gc(Sa+1/hb)?H(ya*hb):qe(za)*qe(ya)*(N(Gc(ya*hb))+Za))/yc(Sa),Sa]};var Gd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Le=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(ya){return ya.map(function(za){return Gd[za]})}),$d=2/x(3);mc.invert=function(ya,
za){return P.invert(ya/$d,za)};var Ie=()=>{},Ce=[],Qe=[],Uf={point:function(ya,za){Ce.push([ya,za])},result:function(){var ya=Ce.length?2>Ce.length?{type:"Point",coordinates:Ce[0]}:{type:"MultiPoint",coordinates:Ce}:null;Ce=[];return ya}},ne={lineStart:Ie,point:function(ya,za){Ce.push([ya,za])},lineEnd:function(){Ce.length&&(Qe.push(Ce),Ce=[])},result:function(){var ya=Qe.length?2>Qe.length?{type:"LineString",coordinates:Qe[0]}:{type:"MultiLineString",coordinates:Qe}:null;Qe=[];return ya}},sf={polygonStart:Ie,
lineStart:Ie,point:function(ya,za){Ce.push([ya,za])},lineEnd:function(){var ya=Ce.length;if(ya){do Ce.push(Ce[0].slice());while(4>++ya);Qe.push(Ce);Ce=[]}},polygonEnd:Ie,result:function(){if(!Qe.length)return null;var ya=[],za=[];Qe.forEach(function(Na){if(4>(fb=Na.length))var Sa=!1;else{Sa=0;for(var fb,hb=Na[fb-1][1]*Na[0][0]-Na[fb-1][0]*Na[0][1];++Sa<fb;)hb+=Na[Sa-1][1]*Na[Sa][0]-Na[Sa-1][0]*Na[Sa][1];Sa=0>=hb}Sa?ya.push([Na]):za.push(Na)});za.forEach(function(Na){var Sa=Na[0];ya.some(function(fb){for(var hb=
fb[0],qb=Sa[0],Db=Sa[1],Ab=!1,Kb=0,Jb=hb.length,cc=Jb-1;Kb<Jb;cc=Kb++){var xc=hb[Kb],Y=xc[0];xc=xc[1];var oa=hb[cc];cc=oa[0];oa=oa[1];xc>Db^oa>Db&&qb<(cc-Y)*(Db-xc)/(oa-xc)+Y&&(Ab=!Ab)}if(Ab)return fb.push(Na),!0})||ya.push([Na])});Qe=[];return ya.length?1<ya.length?{type:"MultiPolygon",coordinates:ya}:{type:"Polygon",coordinates:ya[0]}:null}},Cf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,
.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Cf.forEach(function(ya){ya[1]*=1.0144});Cd.invert=function(ya,za){var Na=za/Za,Sa=90*Na,fb=If(18,Gc(Sa/5)),hb=Yf(0,ue(fb));do{var qb=Cf[hb][1],Db=Cf[hb+1][1],Ab=Cf[If(19,hb+2)][1],Kb=Ab-qb;qb=Ab-2*Db+qb;Db=2*(Gc(Na)-Db)/Kb;Kb=qb/Kb;Kb=Db*(1-Kb*Db*(1-2*Kb*Db));if(0<=Kb||1===hb){Sa=(0<=za?5:-5)*(Kb+fb);Na=50;do fb=If(18,Gc(Sa)/5),hb=ue(fb),Kb=fb-hb,qb=Cf[hb][1],Db=Cf[hb+1][1],Ab=Cf[If(19,hb+2)][1],
Sa-=(fb=(0<=za?Za:-Za)*(Db+Kb*(Ab-qb)/2+Kb*Kb*(Ab-2*Db+qb)/2)-za)*gd;while(1E-12<Gc(fb)&&0<--Na);break}}while(0<=--hb);za=Cf[hb][0];fb=Cf[hb+1][0];hb=Cf[If(19,hb+2)][0];return[ya/(fb+Kb*(hb-za)/2+Kb*Kb*(hb-2*fb+za)/2),Sa*Mc]};he.invert=function(ya,za){za/=1.70711;var Na=yc(Cb*za);return[ya/(.74482-.34588*Na*Na),2*xe(za)]};kf.invert=function(ya,za){if(1E-6>Gc(za))return[ya,0];if(1E-6>Gc(ya))return[0,Za*yc(2*xe(za/Ea))];var Na=(ya/=Ea)*ya,Sa=(za/=Ea)*za,fb=Na+Sa,hb=fb*fb,qb=-Gc(za)*(1+fb),Db=qb-2*Sa+
Na,Ab=-2*qb+1+2*Sa+hb,Kb=Sa/Ab+(2*Db*Db*Db/(Ab*Ab*Ab)-9*qb*Db/(Ab*Ab))/27,Jb=(qb-Db*Db/(3*Ab))/Ab;qb=2*x(-Jb/3);Kb=N(3*Kb/(Jb*qb))/3;return[Ea*(fb-1+x(1+2*(Na-Sa)+hb))/(2*ya),qe(za)*Ea*(-qb*kc(Kb+Ea/3)-Db/(3*Ab))]};we.invert=function(ya,za){if(!ya)return[0,Za*yc(2*xe(za/Ea))];var Na=Gc(ya/Ea),Sa=(1-Na*Na-(za/=Ea)*za)/(2*Na),fb=x(Sa*Sa+1);return[qe(ya)*Ea*(fb-Sa),qe(za)*Za*yc(2*le(x((1-2*Sa*Na)*(Sa+fb)-Na),x(fb+Sa+Na)))]};Od.invert=function(ya,za){if(!za)return[ya,0];za/=Ea;var Na=(Ea*Ea*(1-za*za)-
ya*ya)/(2*Ea*ya);return[ya?Ea*(qe(ya)*x(Na*Na+1)-Na):0,Za*yc(2*xe(za))]};Xd.invert=function(ya,za){if(!ya||!za)return[ya,za];var Na=qe(za);za=Gc(za)/Ea;var Sa=qe(ya)*ya/Za,fb=(Sa*Sa-1+4*za*za)/Gc(Sa),hb=fb*fb,qb=za*(2-(.5<za?If(za,Gc(ya)):0));za=ya*ya+za*za;var Db=50;do{var Ab=qb*qb;var Kb=(8*qb-Ab*(Ab+2)-5)/(2*Ab*(qb-1));var Jb=(3*qb-Ab*qb-10)/(2*Ab*qb),cc=Kb*Kb,xc=qb*Kb,Y=qb+Kb,oa=Y*Y,Oa=qb+3*Kb,Va=-2*Y*(4*xc*cc+(1-4*Ab+3*Ab*Ab)*(1+Jb)+cc*(-6+14*Ab-hb+(-8+8*Ab-2*hb)*Jb)+xc*(-8+12*Ab+(-10+10*Ab-
hb)*Jb));Ab=x(oa*(Ab+cc*hb-1)+(1-Ab)*(Ab*(Oa*Oa+4*cc)+cc*(12*xc+4*cc)));qb-=Kb=(fb*(oa+cc-1)+2*Ab-Sa*(4*oa+hb))/(fb*(2*Kb*Jb+2*Y*(1+Jb))+Va/Ab-8*Y*(fb*(-1+cc+oa)+2*Ab)*(1+Jb)/(hb+4*oa))}while(1E-6<Kb*za*za&&0<--Db);return[qe(ya)*(x(fb*fb+4)+fb)*Ea/4,Na*Za*qb]};var Bg=4*Ea+3*x(3),Lf=2*x(2*Ea*x(3)/Bg),jg=F(Lf*x(3)/Ea,Lf,Bg/6);Td.invert=function(ya,za){return[ya/x(1-3*za*za/(Ea*Ea)),za]};Ye.invert=function(ya,za){var Na=(ya*ya+za*za)/-2,Sa=x(-Na*(2+Na)),fb=za*Na+ya*Sa;ya=ya*Na-za*Sa;za=x(ya*ya+fb*fb);
return[le(Sa*fb,za*(1+Na)),za?-H(Sa*ya/za):0]};Xf.invert=function(ya,za){var Na=ya,Sa=za,fb=25;do{var hb=kc(Sa),qb=yc(Sa),Db=yc(2*Sa),Ab=qb*qb,Kb=hb*hb,Jb=yc(Na),cc=kc(Na/2),xc=yc(Na/2),Y=xc*xc,oa=1-Kb*cc*cc,Oa=oa?N(hb*cc)*x(Va=1/oa):Va=0,Va;oa=.5*(2*Oa*hb*xc+Na/Za)-ya;var xb=.5*(Oa*qb+Sa)-za,Sb=.5*Va*(Kb*Y+Oa*hb*cc*Ab)+.5/Za,Zb=Va*(Jb*Db/4-Oa*qb*xc);qb=.125*Va*(Db*xc-Oa*qb*Kb*Jb);Ab=.5*Va*(Ab*cc+Oa*Y*hb)+.5;hb=Zb*qb-Ab*Sb;Zb=(xb*Zb-oa*Ab)/hb;oa=(oa*qb-xb*Sb)/hb;Na-=Zb;Sa-=oa}while((1E-6<Gc(Zb)||
1E-6<Gc(oa))&&0<--fb);return[Na,Sa]};k.geoAiry=function(){var ya=Za,za=l.geoProjectionMutator(m),Na=za(ya);Na.radius=function(Sa){return arguments.length?za(ya=Sa*Mc):ya*gd};return Na.scale(179.976).clipAngle(147)};k.geoAiryRaw=m;k.geoAitoff=function(){return l.geoProjection(g).scale(152.63)};k.geoAitoffRaw=g;k.geoArmadillo=function(){var ya=20*Mc,za=0<=ya?1:-1,Na=xa(za*ya),Sa=l.geoProjectionMutator(d),fb=Sa(ya),hb=fb.stream;fb.parallel=function(qb){if(!arguments.length)return ya*gd;Na=xa((za=0<=
(ya=qb*Mc)?1:-1)*ya);return Sa(ya)};fb.stream=function(qb){var Db=fb.rotate(),Ab=hb(qb),Kb=(fb.rotate([0,0]),hb(qb)),Jb=fb.precision();fb.rotate(Db);Ab.sphere=function(){Kb.polygonStart();Kb.lineStart();for(var cc=-180*za;180>za*cc;cc+=90*za)Kb.point(cc,90*za);if(ya)for(;-180<=za*(cc-=3*za*Jb);)Kb.point(cc,za*-le(kc(cc*Mc/2),Na)*gd);Kb.lineEnd();Kb.polygonEnd()};return Ab};return fb.scale(218.695).center([0,28.0974])};k.geoArmadilloRaw=d;k.geoAugust=function(){return l.geoProjection(f).scale(66.1603)};
k.geoAugustRaw=f;k.geoBaker=function(){return l.geoProjection(a).scale(112.314)};k.geoBakerRaw=a;k.geoBerghaus=function(){var ya=5,za=l.geoProjectionMutator(e),Na=za(ya),Sa=Na.stream,fb=-kc(.01*Mc),hb=yc(.01*Mc);Na.lobes=function(qb){return arguments.length?za(ya=+qb):ya};Na.stream=function(qb){var Db=Na.rotate(),Ab=Sa(qb),Kb=(Na.rotate([0,0]),Sa(qb));Na.rotate(Db);Ab.sphere=function(){Kb.polygonStart();Kb.lineStart();for(var Jb=0,cc=360/ya,xc=2*Ea/ya,Y=90-180/ya,oa=Za;Jb<ya;++Jb,Y-=cc,oa-=xc)Kb.point(le(hb*
kc(oa),fb)*gd,H(hb*yc(oa))*gd),-90>Y?(Kb.point(-90,-180-Y-.01),Kb.point(-90,-180-Y+.01)):(Kb.point(90,Y+.01),Kb.point(90,Y-.01));Kb.lineEnd();Kb.polygonEnd()};return Ab};return Na.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};k.geoBerghausRaw=e;k.geoBertin1953=function(){return l.geoProjection(O()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};k.geoBertin1953Raw=O;k.geoBoggs=function(){return l.geoProjection(z).scale(160.857)};k.geoBoggsRaw=z;k.geoBonne=function(){return G(R).scale(123.082).center([0,
26.1441]).parallel(45)};k.geoBonneRaw=R;k.geoBottomley=function(){var ya=.5,za=l.geoProjectionMutator(T),Na=za(ya);Na.fraction=function(Sa){return arguments.length?za(ya=+Sa):ya};return Na.scale(158.837)};k.geoBottomleyRaw=T;k.geoBromley=function(){return l.geoProjection(jd).scale(152.63)};k.geoBromleyRaw=jd;k.geoChamberlin=Z;k.geoChamberlinRaw=ia;k.geoChamberlinAfrica=function(){return Z([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};k.geoCollignon=function(){return l.geoProjection(P).scale(95.6464).center([0,
30])};k.geoCollignonRaw=P;k.geoCraig=function(){return G(C).scale(249.828).clipAngle(90)};k.geoCraigRaw=C;k.geoCraster=function(){return l.geoProjection(V).scale(156.19)};k.geoCrasterRaw=V;k.geoCylindricalEqualArea=function(){return G(ha).parallel(38.58).scale(195.044)};k.geoCylindricalEqualAreaRaw=ha;k.geoCylindricalStereographic=function(){return G(aa).scale(124.75)};k.geoCylindricalStereographicRaw=aa;k.geoEckert1=function(){return l.geoProjection(ta).scale(165.664)};k.geoEckert1Raw=ta;k.geoEckert2=
function(){return l.geoProjection(wa).scale(165.664)};k.geoEckert2Raw=wa;k.geoEckert3=function(){return l.geoProjection(Ha).scale(180.739)};k.geoEckert3Raw=Ha;k.geoEckert4=function(){return l.geoProjection(bb).scale(180.739)};k.geoEckert4Raw=bb;k.geoEckert5=function(){return l.geoProjection(kb).scale(173.044)};k.geoEckert5Raw=kb;k.geoEckert6=function(){return l.geoProjection(va).scale(173.044)};k.geoEckert6Raw=va;k.geoEisenlohr=function(){return l.geoProjection(Ta).scale(62.5271)};k.geoEisenlohrRaw=
Ta;k.geoFahey=function(){return l.geoProjection(Ya).scale(137.152)};k.geoFaheyRaw=Ya;k.geoFoucaut=function(){return l.geoProjection(Ca).scale(135.264)};k.geoFoucautRaw=Ca;k.geoFoucautSinusoidal=function(){var ya=.5,za=l.geoProjectionMutator(ua),Na=za(ya);Na.alpha=function(Sa){return arguments.length?za(ya=+Sa):ya};return Na.scale(168.725)};k.geoFoucautSinusoidalRaw=ua;k.geoGilbert=function(ya){function za(hb){return Sa([hb[0]/2,H(xa(hb[1]/2*Mc))*gd])}function Na(hb){za[hb]=function(){return arguments.length?
(Sa[hb].apply(Sa,arguments),za):Sa[hb]()}}null==ya&&(ya=l.geoOrthographic);var Sa=ya(),fb=l.geoEquirectangular().scale(gd).precision(0).clipAngle(null).translate([0,0]);Sa.invert&&(za.invert=function(hb){return U(Sa.invert(hb))});za.stream=function(hb){var qb=Sa.stream(hb);hb=fb.stream({point:function(Db,Ab){qb.point(Db/2,H(xa(-Ab/2*Mc))*gd)},lineStart:function(){qb.lineStart()},lineEnd:function(){qb.lineEnd()},polygonStart:function(){qb.polygonStart()},polygonEnd:function(){qb.polygonEnd()}});hb.sphere=
qb.sphere;return hb};za.rotate=function(hb){return arguments.length?(fb.rotate(hb),za):fb.rotate()};za.center=function(hb){return arguments.length?(Sa.center([hb[0]/2,H(xa(hb[1]/2*Mc))*gd]),za):U(Sa.center())};Na("angle");Na("clipAngle");Na("clipExtent");Na("fitExtent");Na("fitHeight");Na("fitSize");Na("fitWidth");Na("scale");Na("translate");Na("precision");return za.scale(249.5)};k.geoGingery=function(){var ya=6,za=30*Mc,Na=kc(za),Sa=yc(za),fb=l.geoProjectionMutator(W),hb=fb(za,ya),qb=hb.stream,
Db=-kc(.01*Mc),Ab=yc(.01*Mc);hb.radius=function(Kb){if(!arguments.length)return za*gd;Na=kc(za=Kb*Mc);Sa=yc(za);return fb(za,ya)};hb.lobes=function(Kb){return arguments.length?fb(za,ya=+Kb):ya};hb.stream=function(Kb){var Jb=hb.rotate(),cc=qb(Kb),xc=(hb.rotate([0,0]),qb(Kb));hb.rotate(Jb);cc.sphere=function(){xc.polygonStart();xc.lineStart();for(var Y=0,oa=2*Ea/ya,Oa=0;Y<ya;++Y,Oa-=oa)xc.point(le(Ab*kc(Oa),Db)*gd,H(Ab*yc(Oa))*gd),xc.point(le(Sa*kc(Oa-oa/2),Na)*gd,H(Sa*yc(Oa-oa/2))*gd);xc.lineEnd();
xc.polygonEnd()};return cc};return hb.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};k.geoGingeryRaw=W;k.geoGinzburg4=function(){return l.geoProjection(tf).scale(149.995)};k.geoGinzburg4Raw=tf;k.geoGinzburg5=function(){return l.geoProjection(kd).scale(153.93)};k.geoGinzburg5Raw=kd;k.geoGinzburg6=function(){return l.geoProjection(We).scale(130.945)};k.geoGinzburg6Raw=We;k.geoGinzburg8=function(){return l.geoProjection(qa).scale(131.747)};k.geoGinzburg8Raw=qa;k.geoGinzburg9=function(){return l.geoProjection(uf).scale(131.087)};
k.geoGinzburg9Raw=uf;k.geoGringorten=function(){return l.geoProjection(Da(na)).scale(239.75)};k.geoGringortenRaw=na;k.geoGuyou=function(){return l.geoProjection(Da(Fa)).scale(151.496)};k.geoGuyouRaw=Fa;k.geoHammer=function(){var ya=2,za=l.geoProjectionMutator(n),Na=za(ya);Na.coefficient=function(Sa){return arguments.length?za(ya=+Sa):ya};return Na.scale(169.529)};k.geoHammerRaw=n;k.geoHammerRetroazimuthal=function(){var ya=0,za=l.geoProjectionMutator(Ga),Na=za(ya),Sa=Na.rotate,fb=Na.stream,hb=l.geoCircle();
Na.parallel=function(qb){if(!arguments.length)return ya*gd;var Db=Na.rotate();return za(ya=qb*Mc).rotate(Db)};Na.rotate=function(qb){if(!arguments.length)return qb=Sa.call(Na),qb[1]+=ya*gd,qb;Sa.call(Na,[qb[0],qb[1]-ya*gd]);hb.center([-qb[0],-qb[1]]);return Na};Na.stream=function(qb){qb=fb(qb);qb.sphere=function(){qb.polygonStart();var Db=hb.radius(89.99)().coordinates[0],Ab=Db.length-1,Kb=-1,Jb;for(qb.lineStart();++Kb<Ab;)qb.point((Jb=Db[Kb])[0],Jb[1]);qb.lineEnd();Db=hb.radius(90.01)().coordinates[0];
for(qb.lineStart();0<=--Kb;)qb.point((Jb=Db[Kb])[0],Jb[1]);qb.lineEnd();qb.polygonEnd()};return qb};return Na.scale(79.4187).parallel(45).clipAngle(179.999)};k.geoHammerRetroazimuthalRaw=Ga;k.geoHealpix=function(){var ya=4,za=l.geoProjectionMutator(Ja),Na=za(ya),Sa=Na.stream;Na.lobes=function(fb){return arguments.length?za(ya=+fb):ya};Na.stream=function(fb){var hb=Na.rotate(),qb=Sa(fb),Db=(Na.rotate([0,0]),Sa(fb));Na.rotate(hb);qb.sphere=function(){l.geoStream(Xb(180/ya),Db)};return qb};return Na.scale(239.75)};
k.geoHealpixRaw=Ja;k.geoHill=function(){var ya=1,za=l.geoProjectionMutator(nc),Na=za(ya);Na.ratio=function(Sa){return arguments.length?za(ya=+Sa):ya};return Na.scale(167.774).center([0,18.67])};k.geoHillRaw=nc;k.geoHomolosine=function(){return l.geoProjection(pc).scale(152.63)};k.geoHomolosineRaw=pc;k.geoHufnagel=function(){var ya=1,za=0,Na=45*Mc,Sa=2,fb=l.geoProjectionMutator(Hc),hb=fb(ya,za,Na,Sa);hb.a=function(qb){return arguments.length?fb(ya=+qb,za,Na,Sa):ya};hb.b=function(qb){return arguments.length?
fb(ya,za=+qb,Na,Sa):za};hb.psiMax=function(qb){return arguments.length?fb(ya,za,Na=+qb*Mc,Sa):Na*gd};hb.ratio=function(qb){return arguments.length?fb(ya,za,Na,Sa=+qb):Sa};return hb.scale(180.739)};k.geoHufnagelRaw=Hc;k.geoHyperelliptical=function(){var ya=0,za=2.5,Na=1.183136,Sa=l.geoProjectionMutator(jc),fb=Sa(ya,za,Na);fb.alpha=function(hb){return arguments.length?Sa(ya=+hb,za,Na):ya};fb.k=function(hb){return arguments.length?Sa(ya,za=+hb,Na):za};fb.gamma=function(hb){return arguments.length?Sa(ya,
za,Na=+hb):Na};return fb.scale(152.63)};k.geoHyperellipticalRaw=jc;k.geoInterrupt=sc;k.geoInterruptedBoggs=function(){return sc(z,yf).scale(160.857)};k.geoInterruptedHomolosine=function(){return sc(pc,Pe).scale(152.63)};k.geoInterruptedMollweide=function(){return sc(Id,nf).scale(169.529)};k.geoInterruptedMollweideHemispheres=function(){return sc(Id,Aa).scale(169.529).rotate([20,0])};k.geoInterruptedSinuMollweide=function(){return sc(md,Pa,D).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};k.geoInterruptedSinusoidal=
function(){return sc(K,vb).scale(152.63).rotate([-20,0])};k.geoKavrayskiy7=function(){return l.geoProjection(Uc).scale(158.837)};k.geoKavrayskiy7Raw=Uc;k.geoLagrange=function(){var ya=.5,za=l.geoProjectionMutator(Sc),Na=za(ya);Na.spacing=function(Sa){return arguments.length?za(ya=+Sa):ya};return Na.scale(124.75)};k.geoLagrangeRaw=Sc;k.geoLarrivee=function(){return l.geoProjection(Lc).scale(97.2672)};k.geoLarriveeRaw=Lc;k.geoLaskowski=function(){return l.geoProjection(Fd).scale(139.98)};k.geoLaskowskiRaw=
Fd;k.geoLittrow=function(){return l.geoProjection(ge).scale(144.049).clipAngle(89.999)};k.geoLittrowRaw=ge;k.geoLoximuthal=function(){return G(wd).parallel(40).scale(158.837)};k.geoLoximuthalRaw=wd;k.geoMiller=function(){return l.geoProjection(vd).scale(108.318)};k.geoMillerRaw=vd;k.geoModifiedStereographic=Pb;k.geoModifiedStereographicRaw=Wd;k.geoModifiedStereographicAlaska=function(){return Pb(Tb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};k.geoModifiedStereographicGs48=
function(){return Pb(ic,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};k.geoModifiedStereographicGs50=function(){return Pb(oc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};k.geoModifiedStereographicMiller=function(){return Pb(fd,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};k.geoModifiedStereographicLee=function(){return Pb(Wc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};k.geoMollweide=function(){return l.geoProjection(Id).scale(169.529)};
k.geoMollweideRaw=Id;k.geoMtFlatPolarParabolic=function(){return l.geoProjection(gc).scale(164.859)};k.geoMtFlatPolarParabolicRaw=gc;k.geoMtFlatPolarQuartic=function(){return l.geoProjection(Eb).scale(188.209)};k.geoMtFlatPolarQuarticRaw=Eb;k.geoMtFlatPolarSinusoidal=function(){return l.geoProjection(zc).scale(166.518)};k.geoMtFlatPolarSinusoidalRaw=zc;k.geoNaturalEarth2=function(){return l.geoProjection(Vc).scale(175.295)};k.geoNaturalEarth2Raw=Vc;k.geoNellHammer=function(){return l.geoProjection(Ed).scale(152.63)};
k.geoNellHammerRaw=Ed;k.geoInterruptedQuarticAuthalic=function(){return sc(n(Infinity),de).rotate([20,0]).scale(152.63)};k.geoNicolosi=function(){return l.geoProjection(Vd).scale(127.267)};k.geoNicolosiRaw=Vd;k.geoPatterson=function(){return l.geoProjection(Ka).scale(139.319)};k.geoPattersonRaw=Ka;k.geoPolyconic=function(){return l.geoProjection(eb).scale(103.74)};k.geoPolyconicRaw=eb;k.geoPolyhedral=Lb;k.geoPolyhedralButterfly=function(ya){ya=ya||function(Na){Na=l.geoCentroid({type:"MultiPoint",
coordinates:Na});return l.geoGnomonic().scale(1).translate([0,0]).rotate([-Na[0],-Na[1]])};var za=Le.map(function(Na){return{face:Na,project:ya(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=za[Na])&&(Na.children||(Na.children=[])).push(za[Sa])});return Lb(za[0],function(Na,Sa){return za[Na<-Ea/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ea/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(101.858).center([0,45])};k.geoPolyhedralCollignon=function(ya){ya=ya||function(Na){Na=l.geoCentroid({type:"MultiPoint",coordinates:Na});
return l.geoProjection(mc).translate([0,0]).scale(1).rotate(0<Na[1]?[-Na[0],0]:[180-Na[0],180])};var za=Le.map(function(Na){return{face:Na,project:ya(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=za[Na])&&(Na.children||(Na.children=[])).push(za[Sa])});return Lb(za[0],function(Na,Sa){return za[Na<-Ea/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ea/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};k.geoPolyhedralWaterman=function(ya){ya=ya||function(hb){hb=6===hb.length?l.geoCentroid({type:"MultiPoint",
coordinates:hb}):hb[0];return l.geoGnomonic().scale(1).translate([0,0]).rotate([-hb[0],-hb[1]])};var za=Le.map(function(hb){hb=hb.map(Qb);for(var qb=hb.length,Db=hb[qb-1],Ab,Kb=[],Jb=0;Jb<qb;++Jb)Ab=hb[Jb],Kb.push(Xc([.9486832980505138*Db[0]+.31622776601683794*Ab[0],.9486832980505138*Db[1]+.31622776601683794*Ab[1],.9486832980505138*Db[2]+.31622776601683794*Ab[2]]),Xc([.9486832980505138*Ab[0]+.31622776601683794*Db[0],.9486832980505138*Ab[1]+.31622776601683794*Db[1],.9486832980505138*Ab[2]+.31622776601683794*
Db[2]])),Db=Ab;return Kb}),Na=[],Sa=[-1,0,0,1,0,1,4,5];za.forEach(function(hb,qb){for(var Db=Le[qb],Ab=Db.length,Kb=Na[qb]=[],Jb=0;Jb<Ab;++Jb)za.push([Db[Jb],hb[(2*Jb+2)%(2*Ab)],hb[(2*Jb+1)%(2*Ab)]]),Sa.push(qb),Kb.push(Cc(Qb(hb[(2*Jb+2)%(2*Ab)]),Qb(hb[(2*Jb+1)%(2*Ab)])))});var fb=za.map(function(hb){return{project:ya(hb),face:hb}});Sa.forEach(function(hb,qb){(hb=fb[hb])&&(hb.children||(hb.children=[])).push(fb[qb])});return Lb(fb[0],function(hb,qb){var Db=kc(qb);Db=[Db*kc(hb),Db*yc(hb),yc(qb)];hb=
hb<-Ea/2?0>qb?6:4:0>hb?0>qb?2:0:hb<Ea/2?0>qb?3:1:0>qb?7:5;qb=Na[hb];return fb[0>Bc(qb[0],Db)?8+3*hb:0>Bc(qb[1],Db)?3*hb+9:0>Bc(qb[2],Db)?3*hb+10:hb]}).angle(-30).scale(110.625).center([0,45])};k.geoProject=function(ya,za){za=za.stream;if(!za)throw Error("invalid projection");switch(ya&&ya.type){case "Feature":var Na=Dc;break;case "FeatureCollection":Na=Ic;break;default:Na=Tc}return Na(ya,za)};k.geoGringortenQuincuncial=function(){return ad(na).scale(176.423)};k.geoPeirceQuincuncial=function(){return ad(Fa).scale(111.48)};
k.geoQuantize=function(ya,za){function Na(Ab){var Kb=Ab.length,Jb=2,cc=Array(Kb);cc[0]=+Ab[0].toFixed(za);for(cc[1]=+Ab[1].toFixed(za);Jb<Kb;)cc[Jb]=Ab[Jb],++Jb;return cc}function Sa(Ab){for(var Kb=Na(Ab[0]),Jb=[Kb],cc=1;cc<Ab.length;cc++){var xc=Na(Ab[cc]);if(2<xc.length||xc[0]!=Kb[0]||xc[1]!=Kb[1])Jb.push(xc),Kb=xc}1===Jb.length&&1<Ab.length&&Jb.push(Na(Ab[Ab.length-1]));return Jb}function fb(Ab){return Ab.map(Sa)}function hb(Ab){if(null==Ab)return Ab;switch(Ab.type){case "GeometryCollection":var Kb=
{type:"GeometryCollection",geometries:Ab.geometries.map(hb)};break;case "Point":Kb={type:"Point",coordinates:Na(Ab.coordinates)};break;case "MultiPoint":Kb={type:Ab.type,coordinates:Ab.coordinates.map(Na)};break;case "LineString":Kb={type:Ab.type,coordinates:Sa(Ab.coordinates)};break;case "MultiLineString":case "Polygon":Kb={type:Ab.type,coordinates:fb(Ab.coordinates)};break;case "MultiPolygon":Kb={type:"MultiPolygon",coordinates:Ab.coordinates.map(fb)};break;default:return Ab}null!=Ab.bbox&&(Kb.bbox=
Ab.bbox);return Kb}function qb(Ab){var Kb={type:"Feature",properties:Ab.properties,geometry:hb(Ab.geometry)};null!=Ab.id&&(Kb.id=Ab.id);null!=Ab.bbox&&(Kb.bbox=Ab.bbox);return Kb}if(!(0<=(za=+za)&&20>=za))throw Error("invalid digits");if(null!=ya)switch(ya.type){case "Feature":return qb(ya);case "FeatureCollection":var Db={type:"FeatureCollection",features:ya.features.map(qb)};null!=ya.bbox&&(Db.bbox=ya.bbox);return Db;default:return hb(ya)}return ya};k.geoQuincuncial=ad;k.geoRectangularPolyconic=
function(){return G(ld).scale(131.215)};k.geoRectangularPolyconicRaw=ld;k.geoRobinson=function(){return l.geoProjection(Cd).scale(152.63)};k.geoRobinsonRaw=Cd;k.geoSatellite=function(){var ya=2,za=0,Na=l.geoProjectionMutator(Ud),Sa=Na(ya,za);Sa.distance=function(fb){return arguments.length?Na(ya=+fb,za):ya};Sa.tilt=function(fb){return arguments.length?Na(ya,za=fb*Mc):za*gd};return Sa.scale(432.147).clipAngle(N(1/ya)*gd-1E-6)};k.geoSatelliteRaw=Ud;k.geoSinuMollweide=function(){return l.geoProjection(md).rotate([-20,
-55]).scale(164.263).center([0,-5.4036])};k.geoSinuMollweideRaw=md;k.geoSinusoidal=function(){return l.geoProjection(K).scale(152.63)};k.geoSinusoidalRaw=K;k.geoStitch=function(ya){if(null==ya)return ya;switch(ya.type){case "Feature":return df(ya);case "FeatureCollection":var za={type:"FeatureCollection",features:ya.features.map(df)};null!=ya.bbox&&(za.bbox=ya.bbox);return za;default:return Zd(ya)}};k.geoTimes=function(){return l.geoProjection(he).scale(146.153)};k.geoTimesRaw=he;k.geoTwoPointAzimuthal=
Nf;k.geoTwoPointAzimuthalRaw=Ue;k.geoTwoPointAzimuthalUsa=function(){return Nf([-158,21.5],[-77,39]).clipAngle(60).scale(400)};k.geoTwoPointEquidistant=te;k.geoTwoPointEquidistantRaw=me;k.geoTwoPointEquidistantUsa=function(){return te([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};k.geoVanDerGrinten=function(){return l.geoProjection(kf).scale(79.4183)};k.geoVanDerGrintenRaw=kf;k.geoVanDerGrinten2=function(){return l.geoProjection(we).scale(79.4183)};k.geoVanDerGrinten2Raw=we;k.geoVanDerGrinten3=
function(){return l.geoProjection(Od).scale(79.4183)};k.geoVanDerGrinten3Raw=Od;k.geoVanDerGrinten4=function(){return l.geoProjection(Xd).scale(127.16)};k.geoVanDerGrinten4Raw=Xd;k.geoWagner=Ge;k.geoWagner7=function(){return Ge().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};k.geoWagnerRaw=jf;k.geoWagner4=function(){return l.geoProjection(jg).scale(176.84)};k.geoWagner4Raw=jg;k.geoWagner6=function(){return l.geoProjection(Td).scale(152.63)};k.geoWagner6Raw=Td;k.geoWiechel=function(){return l.geoProjection(Ye).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};k.geoWiechelRaw=Ye;k.geoWinkel3=function(){return l.geoProjection(Xf).scale(158.837)};k.geoWinkel3Raw=Xf;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(39),A(40)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3,k.d3))})(this,function(k,l,w){function H(m,g){return function f(){const a=g();a.type=m;a.path=l.geoPath().projection(a);a.copy=a.copy||function(){const e=f();v.forEach(n=>{if(a[n])e[n](a[n]())});e.path.pointRadius(a.path.pointRadius());
return e};return a}}function N(m,g){if(!m||"string"!==typeof m)throw Error("Projection type must be a name string.");m=m.toLowerCase();return 1<arguments.length?(u[m]=H(m,g),this):u[m]||null}const x=l.geoPath(),v="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),u={albers:l.geoAlbers,albersusa:l.geoAlbersUsa,azimuthalequalarea:l.geoAzimuthalEqualArea,azimuthalequidistant:l.geoAzimuthalEquidistant,
conicconformal:l.geoConicConformal,conicequalarea:l.geoConicEqualArea,conicequidistant:l.geoConicEquidistant,equalEarth:l.geoEqualEarth,equirectangular:l.geoEquirectangular,gnomonic:l.geoGnomonic,identity:l.geoIdentity,mercator:l.geoMercator,mollweide:w.geoMollweide,naturalEarth1:l.geoNaturalEarth1,orthographic:l.geoOrthographic,stereographic:l.geoStereographic,transversemercator:l.geoTransverseMercator};for(const m in u)N(m,u[m]);k.getProjectionPath=function(m){return m&&m.path||x};k.projection=
N;k.projectionProperties=v;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(15),A(27),A(41),A(39),A(32),A(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.d3,k.vega))})(this,function(k,l,w,H,N,x,v,u,m){function g(){}
function d(){function Ca(qa,Da){return Da.map(na=>ua(qa,na))}function ua(qa,Da){var na=[],Ra=[];U(qa,Da,db=>{ra(db,qa,Da);for(var $a=0,Fa=db.length,Ga=db[Fa-1][1]*db[0][0]-db[Fa-1][0]*db[0][1];++$a<Fa;)Ga+=db[$a-1][1]*db[$a][0]-db[$a-1][0]*db[$a][1];0<Ga?na.push([db]):Ra.push(db)});Ra.forEach(db=>{for(var $a=0,Fa=na.length,Ga;$a<Fa;++$a){a:{var pa=(Ga=na[$a])[0];for(var Ja=db,Ua=-1,jb=Ja.length;++Ua<jb;){b:{var Fb=pa;for(var Xb=Ja[Ua],nc=Xb[0],md=Xb[1],pc=-1,Hc=0,mb=Fb.length,hc=mb-1;Hc<mb;hc=Hc++){var jc=
Fb[Hc],rc=jc[0],Pc=jc[1],sc=Fb[hc];hc=sc[0];var Uc=sc[1],Sc,Lc=jc;jc=sc;sc=Xb;if(Sc=(jc[0]-Lc[0])*(sc[1]-Lc[1])===(sc[0]-Lc[0])*(jc[1]-Lc[1]))Lc=Lc[Sc=+(Lc[0]===jc[0])],sc=sc[Sc],jc=jc[Sc],Sc=Lc<=sc&&sc<=jc||jc<=sc&&sc<=Lc;if(Sc){Fb=0;break b}Pc>md!==Uc>md&&nc<(hc-rc)*(md-Pc)/(Uc-Pc)+rc&&(pc=-pc)}Fb=pc}if(Fb){pa=Fb;break a}}pa=0}if(-1!==pa){Ga.push(db);break}}});return{type:"MultiPolygon",value:Da,coordinates:na}}function U(qa,Da,na){function Ra(Fb){var Xb=[Fb[0][0]+Ga,Fb[0][1]+Fa];Fb=[Fb[1][0]+Ga,
Fb[1][1]+Fa];var nc=2*Xb[0]+Xb[1]*(ba+1)*4,md=2*Fb[0]+Fb[1]*(ba+1)*4,pc,Hc;(pc=$a[nc])?(Hc=db[md])?(delete $a[pc.end],delete db[Hc.start],pc===Hc?(pc.ring.push(Fb),na(pc.ring)):db[pc.start]=$a[Hc.end]={start:pc.start,end:Hc.end,ring:pc.ring.concat(Hc.ring)}):(delete $a[pc.end],pc.ring.push(Fb),$a[pc.end=md]=pc):(pc=db[md])?(Hc=$a[nc])?(delete db[pc.start],delete $a[Hc.end],pc===Hc?(pc.ring.push(Fb),na(pc.ring)):db[Hc.start]=$a[pc.end]={start:Hc.start,end:pc.end,ring:Hc.ring.concat(pc.ring)}):(delete db[pc.start],
pc.ring.unshift(Xb),db[pc.start=nc]=pc):db[nc]=$a[md]={start:nc,end:md,ring:[Xb,Fb]}}var db=[],$a=[],Fa;var Ga=Fa=-1;var pa=qa[0]>=Da;for(Ta[pa<<1].forEach(Ra);++Ga<ba-1;){var Ja=pa;pa=qa[Ga+1]>=Da;Ta[Ja|pa<<1].forEach(Ra)}for(Ta[pa<<0].forEach(Ra);++Fa<ca-1;){Ga=-1;pa=qa[Fa*ba+ba]>=Da;var Ua=qa[Fa*ba]>=Da;for(Ta[pa<<1|Ua<<2].forEach(Ra);++Ga<ba-1;){Ja=pa;pa=qa[Fa*ba+ba+Ga+1]>=Da;var jb=Ua;Ua=qa[Fa*ba+Ga+1]>=Da;Ta[Ja|pa<<1|Ua<<2|jb<<3].forEach(Ra)}Ta[pa|Ua<<3].forEach(Ra)}Ga=-1;Ua=qa[Fa*ba]>=Da;for(Ta[Ua<<
2].forEach(Ra);++Ga<ba-1;)jb=Ua,Ua=qa[Fa*ba+Ga+1]>=Da,Ta[Ua<<2|jb<<3].forEach(Ra);Ta[Ua<<3].forEach(Ra)}function W(qa,Da,na){qa.forEach(Ra=>{var db=Ra[0],$a=Ra[1],Fa=db|0,Ga=$a|0,pa=Da[Ga*ba+Fa];if(0<db&&db<ba&&Fa===db){var Ja=Da[Ga*ba+Fa-1];Ra[0]=db+(na-Ja)/(pa-Ja)-.5}0<$a&&$a<ca&&Ga===$a&&(Ja=Da[(Ga-1)*ba+Fa],Ra[1]=$a+(na-Ja)/(pa-Ja)-.5)})}var ba=1,ca=1,ra=W;Ca.contour=ua;Ca.size=function(qa){if(!arguments.length)return[ba,ca];var Da=Math.floor(qa[0]),na=Math.floor(qa[1]);0<=Da&&0<=na||w.error("invalid size");
return ba=Da,ca=na,Ca};Ca.smooth=function(qa){return arguments.length?(ra=qa?W:g,Ca):ra===W};return Ca}function f(Ca,ua,U){return function(W){var ba=w.extent(W);W=U?Math.min(ba[0],0):ba[0];ba=ba[1];var ca=ba-W;ca=ua?H.tickStep(W,ba,Ca):ca/(Ca+1);return H.range(W+ca,ba,ca)}}function a(Ca){l.Transform.call(this,null,Ca)}function e(Ca,ua,U){const W=f(U.levels||10,U.nice,!1!==U.zero);return"shared"!==U.resolve?W:W(Ca.map(ba=>H.max(ua(ba).values)))}function n(Ca,ua,U,W){var ba=W.scale||ua.scale;let ca=
W.translate||ua.translate;w.isFunction(ba)&&(ba=ba(U,W));w.isFunction(ca)&&(ca=ca(U,W));if(1!==ba&&null!=ba||ca)U=(w.isNumber(ba)?ba:ba[0])||1,ba=(w.isNumber(ba)?ba:ba[1])||1,Ca.forEach(y(ua,U,ba,ca&&ca[0]||0,ca&&ca[1]||0))}function y(Ca,ua,U,W,ba){function ca(db){db.forEach(ra)}function ra(db){Ra&&db.reverse();db.forEach(qa)}function qa(db){db[0]=(db[0]-Da)*ua+W;db[1]=(db[1]-na)*U+ba}const Da=Ca.x1||0,na=Ca.y1||0,Ra=0>ua*U;return function(db){db.coordinates.forEach(ca);return db}}function B(Ca,ua,
U){Ca=0<=Ca?Ca:N.bandwidthNRD(ua,U);return Math.round((Math.sqrt(4*Ca*Ca+1)-1)/2)}function D(Ca){return w.isFunction(Ca)?Ca:w.constant(+Ca)}function O(){function Ca(Da,na){const Ra=B(ba[0],Da,ua)>>qa,db=B(ba[1],Da,U)>>qa,$a=Ra?Ra+2:0,Fa=db?db+2:0,Ga=2*$a+(ca>>qa),pa=2*Fa+(ra>>qa),Ja=new Float32Array(Ga*pa),Ua=new Float32Array(Ga*pa);let jb=Ja;Da.forEach(Fb=>{const Xb=$a+(+ua(Fb)>>qa),nc=Fa+(+U(Fb)>>qa);0<=Xb&&Xb<Ga&&0<=nc&&nc<pa&&(Ja[Xb+nc*Ga]+=+W(Fb))});0<Ra&&0<db?(M(Ga,pa,Ja,Ua,Ra),F(Ga,pa,Ua,Ja,
db),M(Ga,pa,Ja,Ua,Ra),F(Ga,pa,Ua,Ja,db),M(Ga,pa,Ja,Ua,Ra),F(Ga,pa,Ua,Ja,db)):0<Ra?(M(Ga,pa,Ja,Ua,Ra),M(Ga,pa,Ua,Ja,Ra),M(Ga,pa,Ja,Ua,Ra),jb=Ua):0<db&&(F(Ga,pa,Ja,Ua,db),F(Ga,pa,Ua,Ja,db),F(Ga,pa,Ja,Ua,db),jb=Ua);Da=na?Math.pow(2,-2*qa):1/H.sum(jb);for(let Fb=0,Xb=Ga*pa;Fb<Xb;++Fb)jb[Fb]*=Da;return{values:jb,scale:1<<qa,width:Ga,height:pa,x1:$a,y1:Fa,x2:$a+(ca>>qa),y2:Fa+(ra>>qa)}}var ua=Da=>Da[0],U=Da=>Da[1],W=w.one,ba=[-1,-1],ca=960,ra=500,qa=2;Ca.x=function(Da){return arguments.length?(ua=D(Da),
Ca):ua};Ca.y=function(Da){return arguments.length?(U=D(Da),Ca):U};Ca.weight=function(Da){return arguments.length?(W=D(Da),Ca):W};Ca.size=function(Da){if(!arguments.length)return[ca,ra];var na=+Da[0],Ra=+Da[1];0<=na&&0<=Ra||w.error("invalid size");return ca=na,ra=Ra,Ca};Ca.cellSize=function(Da){if(!arguments.length)return 1<<qa;1<=(Da=+Da)||w.error("invalid cell size");qa=Math.floor(Math.log(Da)/Math.LN2);return Ca};Ca.bandwidth=function(Da){if(!arguments.length)return ba;Da=w.array(Da);1===Da.length&&
(Da=[+Da[0],+Da[0]]);2!==Da.length&&w.error("invalid bandwidth");return ba=Da,Ca};return Ca}function M(Ca,ua,U,W,ba){const ca=(ba<<1)+1;for(let ra=0;ra<ua;++ra)for(let qa=0,Da=0;qa<Ca+ba;++qa)qa<Ca&&(Da+=U[qa+ra*Ca]),qa>=ba&&(qa>=ca&&(Da-=U[qa-ca+ra*Ca]),W[qa-ba+ra*Ca]=Da/Math.min(qa+1,Ca-1+ca-qa,ca))}function F(Ca,ua,U,W,ba){const ca=(ba<<1)+1;for(let ra=0;ra<Ca;++ra)for(let qa=0,Da=0;qa<ua+ba;++qa)qa<ua&&(Da+=U[ra+qa*Ca]),qa>=ba&&(qa>=ca&&(Da-=U[ra+(qa-ca)*Ca]),W[ra+(qa-ba)*Ca]=Da/Math.min(qa+1,
ua-1+ca-qa,ca))}function z(Ca){l.Transform.call(this,null,Ca)}function G(Ca,ua){Ya.forEach(U=>null!=ua[U]?Ca[U](ua[U]):0);return Ca}function K(Ca,ua){var U=[],W=Ra=>Ra(qa),ba;if(null==ua)U.push(Ca);else{var ca={};var ra=0;for(ba=Ca.length;ra<ba;++ra){var qa=Ca[ra];var Da=ua.map(W);var na=ca[Da];na||(ca[Da]=na=[],na.dims=Da,U.push(na));na.push(qa)}}return U}function R(Ca){l.Transform.call(this,null,Ca)}function T(Ca){l.Transform.call(this,null,Ca)}function ja(Ca){l.Transform.call(this,null,Ca)}function fa(Ca,
ua){const U=Ca.pointRadius();Ca.context(null);null!=ua&&Ca.pointRadius(ua);return U}function ia(Ca){l.Transform.call(this,null,Ca)}function la(Ca){l.Transform.call(this,null,Ca)}function Z(Ca,ua,U){const W=null==U?ba=>Ca(ua(ba)):ba=>{var ca=Ca.pointRadius();ba=Ca.pointRadius(U)(ua(ba));Ca.pointRadius(ca);return ba};W.context=ba=>{Ca.context(ba);return W};return W}function P(Ca){l.Transform.call(this,[],Ca);this.generator=v.geoGraticule()}function C(Ca){l.Transform.call(this,null,Ca)}function V(Ca,
ua){let U;w.isFunction(Ca)?(U=W=>u.rgb(Ca(W,ua)),U.dep=aa(Ca)):U=w.constant(u.rgb(Ca||"#888"));return U}function ha(Ca,ua){let U;w.isFunction(Ca)?(U=W=>Ca(W,ua),U.dep=aa(Ca)):Ca?U=w.constant(Ca):(U=W=>W.$value/W.$max||0,U.dep=!0);return U}function aa(Ca){if(!w.isFunction(Ca))return!1;Ca=w.toSet(w.accessorFields(Ca));return Ca.$x||Ca.$y||Ca.$value||Ca.$max}function ta(Ca,ua,U,W){const ba=Ca.width;var ca=Ca.height;const ra=Ca.x1||0,qa=Ca.y1||0,Da=Ca.x2||ba;ca=Ca.y2||ca;const na=Ca.values;Ca=na?Ga=>
na[Ga]:w.zero;const Ra=m.canvas(Da-ra,ca-qa),db=Ra.getContext("2d"),$a=db.getImageData(0,0,Da-ra,ca-qa),Fa=$a.data;for(let Ga=qa,pa=0;Ga<ca;++Ga){ua.$y=Ga-qa;for(let Ja=ra,Ua=Ga*ba;Ja<Da;++Ja,pa+=4){ua.$x=Ja-ra;ua.$value=Ca(Ja+Ua);const jb=U(ua);Fa[pa+0]=jb.r;Fa[pa+1]=jb.g;Fa[pa+2]=jb.b;Fa[pa+3]=~~(255*W(ua))}}db.putImageData($a,0,0);return Ra}function wa(Ca){l.Transform.call(this,null,Ca);this.modified(!0)}function Ha(Ca,ua){const U=kb(ua.fit);ua.extent?Ca.fitExtent(ua.extent,U):ua.size?Ca.fitSize(ua.size,
U):0}function bb(Ca){const ua=x.projection((Ca||"mercator").toLowerCase());ua||w.error("Unrecognized projection type: "+Ca);return ua()}function kb(Ca){Ca=w.array(Ca);return 1===Ca.length?Ca[0]:{type:"FeatureCollection",features:Ca.reduce((ua,U)=>ua.concat(va(U)),[])}}function va(Ca){return"FeatureCollection"===Ca.type?Ca.features:w.array(Ca).filter(ua=>null!=ua).map(ua=>"Feature"===ua.type?ua:{type:"Feature",geometry:ua})}const Ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,
.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};w.inherits(a,l.Transform,{transform(Ca,ua){if(this.value&&!ua.changed()&&!Ca.modified())return ua.StopPropagation;var U=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS);ua=ua.materialize(ua.SOURCE).source;var W=Ca.field||w.identity,ba=d().smooth(!1!==Ca.smooth),
ca=Ca.thresholds||e(ua,W,Ca),ra=null===Ca.as?null:Ca.as||"contour",qa=[];ua.forEach(Da=>{const na=W(Da),Ra=ba.size([na.width,na.height])(na.values,w.isArray(ca)?ca:ca(na.values));n(Ra,na,Da,Ca);Ra.forEach(db=>{qa.push(l.rederive(Da,l.ingest(null!=ra?{[ra]:db}:db)))})});this.value&&(U.rem=this.value);this.value=U.source=U.add=qa;return U}});z.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",
type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Ya="x y weight size cellSize bandwidth".split(" ");w.inherits(z,l.Transform,{transform(Ca,ua){function U(Da,na){for(let Ra=0;Ra<ba.length;++Ra)Da[ba[Ra]]=na[Ra];return Da}if(this.value&&!ua.changed()&&!Ca.modified())return ua.StopPropagation;
var W=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS);ua=ua.materialize(ua.SOURCE).source;ua=K(ua,Ca.groupby);var ba=(Ca.groupby||[]).map(w.accessorName),ca=G(O(),Ca),ra=Ca.as||"grid",qa=[];qa=ua.map(Da=>l.ingest(U({[ra]:ca(Da,Ca.counts)},Da.dims)));this.value&&(W.rem=this.value);this.value=W.source=W.add=qa;return W}});R.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",
type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};w.inherits(R,l.Transform,{transform(Ca,ua){if(this.value&&!ua.changed()&&!Ca.modified())return ua.StopPropagation;var U=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS),W=d().smooth(!1!==Ca.smooth),ba=Ca.values,ca=Ca.thresholds||f(Ca.count||10,Ca.nice,
!!ba),ra=Ca.size;if(!ba){ba=ua.materialize(ua.SOURCE).source;Ca=G(O(),Ca)(ba,!0);var qa=y(Ca,Ca.scale||1,Ca.scale||1,0,0);ra=[Ca.width,Ca.height];ba=Ca.values}ca=w.isArray(ca)?ca:ca(ba);ba=W.size(ra)(ba,ca);qa&&ba.forEach(qa);this.value&&(U.rem=this.value);this.value=U.source=U.add=(ba||[]).map(l.ingest);return U}});T.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};w.inherits(T,l.Transform,{transform(Ca,ua){var U=this._features,
W=this._points,ba=Ca.fields,ca=ba&&ba[0],ra=ba&&ba[1],qa=Ca.geojson||!ba&&w.identity;ba=ua.ADD;Ca=Ca.modified()||ua.changed(ua.REM)||ua.modified(w.accessorFields(qa))||ca&&ua.modified(w.accessorFields(ca))||ra&&ua.modified(w.accessorFields(ra));if(!this.value||Ca)ba=ua.SOURCE,this._features=U=[],this._points=W=[];qa&&ua.visit(ba,Da=>U.push(qa(Da)));ca&&ra&&(ua.visit(ba,Da=>{var na=ca(Da);Da=ra(Da);null!=na&&null!=Da&&(na=+na)===na&&(Da=+Da)===Da&&W.push([na,Da])}),U=U.concat({type:"Feature",geometry:{type:"MultiPoint",
coordinates:W}}));this.value={type:"FeatureCollection",features:U}}});ja.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};w.inherits(ja,l.Transform,{transform(Ca,ua){var U=ua.fork(ua.ALL),W=this.value,ba=Ca.field||w.identity,ca=Ca.as||"path",ra=U.SOURCE;!W||Ca.modified()?(this.value=W=x.getProjectionPath(Ca.projection),U.materialize().reflow()):
ra=ba===w.identity||ua.modified(ba.fields)?U.ADD_MOD:U.ADD;Ca=fa(W,Ca.pointRadius);U.visit(ra,qa=>qa[ca]=W(ba(qa)));W.pointRadius(Ca);return U.modifies(ca)}});ia.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};w.inherits(ia,l.Transform,{transform(Ca,ua){function U(na){const Ra=W([ba(na),ca(na)]);Ra?(na[qa]=Ra[0],na[Da]=
Ra[1]):(na[qa]=void 0,na[Da]=void 0)}var W=Ca.projection,ba=Ca.fields[0],ca=Ca.fields[1],ra=Ca.as||["x","y"],qa=ra[0],Da=ra[1];Ca.modified()?ua=ua.materialize().reflow(!0).visit(ua.SOURCE,U):(Ca=ua.modified(ba.fields)||ua.modified(ca.fields),ua.visit(Ca?ua.ADD_MOD:ua.ADD,U));return ua.modifies(ra)}});la.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",
type:"string","default":"shape"}]};w.inherits(la,l.Transform,{transform(Ca,ua){ua=ua.fork(ua.ALL);var U=this.value,W=Ca.as||"shape",ba=ua.ADD;if(!U||Ca.modified())this.value=U=Z(x.getProjectionPath(Ca.projection),Ca.field||w.field("datum"),Ca.pointRadius),ua.materialize().reflow(),ba=ua.SOURCE;ua.visit(ba,ca=>ca[W]=U);return ua.modifies(W)}});P.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};w.inherits(P,l.Transform,{transform(Ca,ua){var U=this.value,W=this.generator;if(!U.length||
Ca.modified())for(const ba in Ca)if(w.isFunction(W[ba]))W[ba](Ca[ba]);Ca=W();U.length?ua.mod.push(l.replace(U[0],Ca)):ua.add.push(l.ingest(Ca));U[0]=Ca;return ua}});C.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};w.inherits(C,l.Transform,{transform(Ca,ua){if(!ua.changed()&&
!Ca.modified())return ua.StopPropagation;var U=ua.materialize(ua.SOURCE).source,W="shared"===Ca.resolve,ba=Ca.field||w.identity,ca=ha(Ca.opacity,Ca),ra=V(Ca.color,Ca),qa=Ca.as||"image",Da={$x:0,$y:0,$value:0,$max:W?H.max(U.map(na=>H.max(ba(na).values))):0};U.forEach(na=>{const Ra=ba(na),db=w.extend({},na,Da);W||(db.$max=H.max(Ra.values||[]));na[qa]=ta(Ra,db,ra.dep?ra:w.constant(ra(db)),ca.dep?ca:w.constant(ca(db)))});return ua.reflow(!0).modifies(qa)}});w.inherits(wa,l.Transform,{transform(Ca,ua){let U=
this.value;!U||Ca.modified("type")?(this.value=U=bb(Ca.type),x.projectionProperties.forEach(W=>{if(null!=Ca[W]){var ba=U,ca=Ca[W];if(w.isFunction(ba[W]))ba[W](ca)}})):x.projectionProperties.forEach(W=>{if(Ca.modified(W)){var ba=U,ca=Ca[W];if(w.isFunction(ba[W]))ba[W](ca)}});null!=Ca.pointRadius&&U.path.pointRadius(Ca.pointRadius);Ca.fit&&Ha(U,Ca);return ua.fork(ua.NO_SOURCE|ua.NO_FIELDS)}});k.contour=R;k.geojson=T;k.geopath=ja;k.geopoint=ia;k.geoshape=la;k.graticule=P;k.heatmap=C;k.isocontour=a;k.kde2d=
z;k.projection=wa;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(g,d,f,a){if(isNaN(d)||isNaN(f))return g;var e,n=g._root;a={data:a};var y=g._x0,B=g._y0,D=g._x1,O=g._y1,M,F,z,G;if(!n)return g._root=a,g;for(;n.length;)if((z=d>=(M=(y+D)/2))?y=M:D=M,(G=f>=(F=(B+O)/2))?B=F:O=F,e=n,!(n=n[z|=G<<1]))return e[z]=a,g;var K=+g._x.call(null,n.data);var R=
+g._y.call(null,n.data);if(d===K&&f===R)return a.next=n,e?e[z]=a:g._root=a,g;do e=e?e[z]=Array(4):g._root=Array(4),(z=d>=(M=(y+D)/2))?y=M:D=M,(G=f>=(F=(B+O)/2))?B=F:O=F;while((z|=G<<1)===(G=(R>=F)<<1|K>=M));return e[G]=n,e[z]=a,g}function w(g,d,f,a,e){this.node=g;this.x0=d;this.y0=f;this.x1=a;this.y1=e}function H(g){return g[0]}function N(g){return g[1]}function x(g,d,f){d=new v(null==d?H:d,null==f?N:f,NaN,NaN,NaN,NaN);return null==g?d:d.addAll(g)}function v(g,d,f,a,e,n){this._x=g;this._y=d;this._x0=
f;this._y0=a;this._x1=e;this._y1=n;this._root=void 0}function u(g){for(var d={data:g.data},f=d;g=g.next;)f=f.next={data:g.data};return d}var m=x.prototype=v.prototype;m.copy=function(){var g=new v(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,f,a;if(!d)return g;if(!d.length)return g._root=u(d),g;for(f=[{source:d,target:g._root=Array(4)}];d=f.pop();)for(var e=0;4>e;++e)if(a=d.source[e])a.length?f.push({source:a,target:d.target[e]=Array(4)}):d.target[e]=u(a);return g};m.add=function(g){const d=
+this._x.call(null,g),f=+this._y.call(null,g);return l(this.cover(d,f),d,f,g)};m.addAll=function(g){var d,f,a=g.length,e,n,y=Array(a),B=Array(a),D=Infinity,O=Infinity,M=-Infinity,F=-Infinity;for(f=0;f<a;++f)isNaN(e=+this._x.call(null,d=g[f]))||isNaN(n=+this._y.call(null,d))||(y[f]=e,B[f]=n,e<D&&(D=e),e>M&&(M=e),n<O&&(O=n),n>F&&(F=n));if(D>M||O>F)return this;this.cover(D,O).cover(M,F);for(f=0;f<a;++f)l(this,y[f],B[f],g[f]);return this};m.cover=function(g,d){if(isNaN(g=+g)||isNaN(d=+d))return this;
var f=this._x0,a=this._y0,e=this._x1,n=this._y1;if(isNaN(f))e=(f=Math.floor(g))+1,n=(a=Math.floor(d))+1;else{for(var y=e-f||1,B=this._root,D,O;f>g||g>=e||a>d||d>=n;)switch(O=(d<a)<<1|g<f,D=Array(4),D[O]=B,B=D,y*=2,O){case 0:e=f+y;n=a+y;break;case 1:f=e-y;n=a+y;break;case 2:e=f+y;a=n-y;break;case 3:f=e-y,a=n-y}this._root&&this._root.length&&(this._root=B)}this._x0=f;this._y0=a;this._x1=e;this._y1=n;return this};m.data=function(){var g=[];this.visit(function(d){if(!d.length){do g.push(d.data);while(d=
d.next)}});return g};m.extent=function(g){return arguments.length?this.cover(+g[0][0],+g[0][1]).cover(+g[1][0],+g[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};m.find=function(g,d,f){var a=this._x0,e=this._y0,n,y,B,D,O=this._x1,M=this._y1,F=[],z=this._root,G;z&&F.push(new w(z,a,e,O,M));null==f?f=Infinity:(a=g-f,e=d-f,O=g+f,M=d+f,f*=f);for(;G=F.pop();)if(!(!(z=G.node)||(n=G.x0)>O||(y=G.y0)>M||(B=G.x1)<a||(D=G.y1)<e))if(z.length){G=(n+B)/2;var K=(y+D)/2;F.push(new w(z[3],
G,K,B,D),new w(z[2],n,K,G,D),new w(z[1],G,y,B,K),new w(z[0],n,y,G,K));if(z=(d>=K)<<1|g>=G)G=F[F.length-1],F[F.length-1]=F[F.length-1-z],F[F.length-1-z]=G}else if(G=g-+this._x.call(null,z.data),K=d-+this._y.call(null,z.data),G=G*G+K*K,G<f){var R=Math.sqrt(f=G);a=g-R;e=d-R;O=g+R;M=d+R;R=z.data}return R};m.remove=function(g){if(isNaN(D=+this._x.call(null,g))||isNaN(O=+this._y.call(null,g)))return this;var d,f=this._root,a,e=this._x0,n=this._y0,y=this._x1,B=this._y1,D,O,M,F,z,G;if(!f)return this;if(f.length)for(;;){(z=
D>=(M=(e+y)/2))?e=M:y=M;(G=O>=(F=(n+B)/2))?n=F:B=F;if(!(d=f,f=f[z|=G<<1]))return this;if(!f.length)break;if(d[z+1&3]||d[z+2&3]||d[z+3&3]){var K=d;var R=z}}for(;f.data!==g;)if(!(a=f,f=f.next))return this;(g=f.next)&&delete f.next;if(a)return g?a.next=g:delete a.next,this;if(!d)return this._root=g,this;g?d[z]=g:delete d[z];(f=d[0]||d[1]||d[2]||d[3])&&f===(d[3]||d[2]||d[1]||d[0])&&!f.length&&(K?K[R]=f:this._root=f);return this};m.removeAll=function(g){for(var d=0,f=g.length;d<f;++d)this.remove(g[d]);
return this};m.root=function(){return this._root};m.size=function(){var g=0;this.visit(function(d){if(!d.length){do++g;while(d=d.next)}});return g};m.visit=function(g){var d=[],f,a=this._root,e,n,y,B;for(a&&d.push(new w(a,this._x0,this._y0,this._x1,this._y1));f=d.pop();)if(!g(a=f.node,n=f.x0,y=f.y0,B=f.x1,f=f.y1)&&a.length){var D=(n+B)/2,O=(y+f)/2;(e=a[3])&&d.push(new w(e,D,O,B,f));(e=a[2])&&d.push(new w(e,n,O,D,f));(e=a[1])&&d.push(new w(e,D,y,B,O));(e=a[0])&&d.push(new w(e,n,y,D,O))}return this};
m.visitAfter=function(g){var d=[],f=[],a;for(this._root&&d.push(new w(this._root,this._x0,this._y0,this._x1,this._y1));a=d.pop();){var e=a.node;if(e.length){var n,y=a.x0,B=a.y0,D=a.x1,O=a.y1,M=(y+D)/2,F=(B+O)/2;(n=e[0])&&d.push(new w(n,y,B,M,F));(n=e[1])&&d.push(new w(n,M,B,D,F));(n=e[2])&&d.push(new w(n,y,F,M,O));(n=e[3])&&d.push(new w(n,M,F,D,O))}f.push(a)}for(;a=f.pop();)g(a.node,a.x0,a.y0,a.x1,a.y1);return this};m.x=function(g){return arguments.length?(this._x=g,this):this._x};m.y=function(g){return arguments.length?
(this._y=g,this):this._y};k.quadtree=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){for(var v=0,u=arguments.length,m={},g;v<u;++v){if(!(g=arguments[v]+"")||g in m||/[\s.]/.test(g))throw Error("illegal type: "+g);m[g]=[]}return new w(m)}function w(v){this._=v}function H(v,u){return v.trim().split(/^|\s+/).map(function(m){var g="",d=m.indexOf(".");0<=d&&(g=m.slice(d+
1),m=m.slice(0,d));if(m&&!u.hasOwnProperty(m))throw Error("unknown type: "+m);return{type:m,name:g}})}function N(v,u,m){for(var g=0,d=v.length;g<d;++g)if(v[g].name===u){v[g]=x;v=v.slice(0,g).concat(v.slice(g+1));break}null!=m&&v.push({name:u,value:m});return v}var x={value:()=>{}};w.prototype=l.prototype={constructor:w,on:function(v,u){var m=this._,g=H(v+"",m),d,f=-1,a=g.length;if(2>arguments.length)for(;++f<a;){var e;if(e=d=(v=g[f]).type){a:{e=m[d];for(var n=0,y=e.length;n<y;++n)if((d=e[n]).name===
v.name){d=d.value;break a}d=void 0}e=d}if(e)return d}else{if(null!=u&&"function"!==typeof u)throw Error("invalid callback: "+u);for(;++f<a;)if(d=(v=g[f]).type)m[d]=N(m[d],v.name,u);else if(null==u)for(d in m)m[d]=N(m[d],v.name,null);return this}},copy:function(){var v={},u=this._,m;for(m in u)v[m]=u[m].slice();return new w(v)},call:function(v,u){if(0<(d=arguments.length-2))for(var m=Array(d),g=0,d,f;g<d;++g)m[g]=arguments[g+2];if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);f=this._[v];
g=0;for(d=f.length;g<d;++g)f[g].value.apply(u,m)},apply:function(v,u,m){if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);v=this._[v];for(var g=0,d=v.length;g<d;++g)v[g].value.apply(u,m)}};k.dispatch=l;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){return y||(O(w),y=D.now()+B)}function w(){y=0}function H(){this._call=this._time=this._next=null}function N(M,F,z){var G=new H;G.restart(M,F,z);return G}function x(){l();++g;for(var M=a,F;M;)0<=(F=y-M._time)&&M._call.call(null,F),M=M._next;--g}function v(){y=(n=D.now())+B;g=
d=0;try{x()}finally{g=0;for(var M,F=a,z,G=Infinity;F;)F._call?(G>F._time&&(G=F._time),M=F,F=F._next):(z=F._next,F._next=null,F=M?M._next=z:a=z);e=M;m(G);y=0}}function u(){var M=D.now(),F=M-n;1E3<F&&(B-=F,n=M)}function m(M){g||(d&&(d=clearTimeout(d)),24<M-y?(Infinity>M&&(d=setTimeout(v,M-D.now()-B)),f&&(f=clearInterval(f))):(f||(n=D.now(),f=setInterval(u,1E3)),g=1,O(v)))}var g=0,d=0,f=0,a,e,n=0,y=0,B=0,D="object"===typeof performance&&performance.now?performance:Date,O="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(M){setTimeout(M,17)};H.prototype=N.prototype={constructor:H,restart:function(M,F,z){if("function"!==typeof M)throw new TypeError("callback is not a function");z=(null==z?l():+z)+(null==F?0:+F);this._next||e===this||(e?e._next=this:a=this,e=this);this._call=M;this._time=z;m()},stop:function(){this._call&&(this._call=null,this._time=Infinity,m())}};k.interval=function(M,F,z){var G=new H,K=F;if(null==F)return G.restart(M,F,z),G;G._restart=G.restart;
G.restart=function(R,T,ja){T=+T;ja=null==ja?l():+ja;G._restart(function la(ia){ia+=K;G._restart(la,K+=T,ja);R(ia)},T,ja)};G.restart(M,F,z);return G};k.now=l;k.timeout=function(M,F,z){var G=new H;F=null==F?0:+F;G.restart(K=>{G.stop();M(K+F)},F,z);return G};k.timer=N;k.timerFlush=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(43),A(44),A(45)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],l):(k=k||self,l(k.d3=k.d3||{},k.d3,k.d3,k.d3))})(this,function(k,l,w,H){function N(e){return function(){return e}}function x(e){return e.x+e.vx}function v(e){return e.y+e.vy}function u(e){return e.index}function m(e,n){e=e.get(n);if(!e)throw Error("node not found: "+n);return e}function g(){let e=
1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function d(e){return e.x}function f(e){return e.y}var a=Math.PI*(3-Math.sqrt(5));k.forceCenter=function(e,n){function y(){var O,M=B.length,F=0,z=0;for(O=0;O<M;++O){var G=B[O];F+=G.x;z+=G.y}F=(F/M-e)*D;z=(z/M-n)*D;for(O=0;O<M;++O)G=B[O],G.x-=F,G.y-=z}var B,D=1;null==e&&(e=0);null==n&&(n=0);y.initialize=function(O){B=O};y.x=function(O){return arguments.length?(e=+O,y):e};y.y=function(O){return arguments.length?(n=+O,y):n};y.strength=function(O){return arguments.length?
(D=+O,y):D};return y};k.forceCollide=function(e){function n(){function G(C,V,ha,aa,ta){var wa=C.data;C=C.r;var Ha=la+C;if(wa)wa.index>ja.index&&(V=fa-wa.x-wa.vx,ha=ia-wa.y-wa.vy,aa=V*V+ha*ha,aa<Ha*Ha&&(0===V&&(V=1E-6*(M()-.5),aa+=V*V),0===ha&&(ha=1E-6*(M()-.5),aa+=ha*ha),aa=(Ha-(aa=Math.sqrt(aa)))/aa*F,ja.vx+=(V*=aa)*(Ha=(C*=C)/(Z+C)),ja.vy+=(ha*=aa)*Ha,wa.vx-=V*(Ha=1-Ha),wa.vy-=ha*Ha));else return V>fa+Ha||aa<fa-Ha||ha>ia+Ha||ta<ia-Ha}for(var K,R=D.length,T,ja,fa,ia,la,Z,P=0;P<z;++P)for(T=l.quadtree(D,
x,v).visitAfter(y),K=0;K<R;++K)ja=D[K],la=O[ja.index],Z=la*la,fa=ja.x+ja.vx,ia=ja.y+ja.vy,T.visit(G)}function y(G){if(G.data)return G.r=O[G.data.index];for(var K=G.r=0;4>K;++K)G[K]&&G[K].r>G.r&&(G.r=G[K].r)}function B(){if(D){var G,K=D.length;O=Array(K);for(G=0;G<K;++G){var R=D[G];O[R.index]=+e(R,G,D)}}}var D,O,M,F=1,z=1;"function"!==typeof e&&(e=N(null==e?1:+e));n.initialize=function(G,K){D=G;M=K;B()};n.iterations=function(G){return arguments.length?(z=+G,n):z};n.strength=function(G){return arguments.length?
(F=+G,n):F};n.radius=function(G){return arguments.length?(e="function"===typeof G?G:N(+G),B(),n):e};return n};k.forceLink=function(e){function n(ia){for(var la=0,Z=e.length;la<fa;++la)for(var P=0,C,V,ha,aa,ta;P<Z;++P)C=e[P],V=C.source,C=C.target,ha=C.x+C.vx-V.x-V.vx||1E-6*(ja()-.5),aa=C.y+C.vy-V.y-V.vy||1E-6*(ja()-.5),ta=Math.sqrt(ha*ha+aa*aa),ta=(ta-G[P])/ta*ia*F[P],ha*=ta,aa*=ta,C.vx-=ha*(ta=T[P]),C.vy-=aa*ta,V.vx+=ha*(ta=1-ta),V.vy+=aa*ta}function y(){if(K){var ia=K.length,la=e.length,Z=new Map(K.map((C,
V)=>[O(C,V,K),C]));var P=0;for(R=Array(ia);P<la;++P)ia=e[P],ia.index=P,"object"!==typeof ia.source&&(ia.source=m(Z,ia.source)),"object"!==typeof ia.target&&(ia.target=m(Z,ia.target)),R[ia.source.index]=(R[ia.source.index]||0)+1,R[ia.target.index]=(R[ia.target.index]||0)+1;P=0;for(T=Array(la);P<la;++P)ia=e[P],T[P]=R[ia.source.index]/(R[ia.source.index]+R[ia.target.index]);F=Array(la);B();G=Array(la);D()}}function B(){if(K)for(var ia=0,la=e.length;ia<la;++ia)F[ia]=+M(e[ia],ia,e)}function D(){if(K)for(var ia=
0,la=e.length;ia<la;++ia)G[ia]=+z(e[ia],ia,e)}var O=u,M=function(ia){return 1/Math.min(R[ia.source.index],R[ia.target.index])},F,z=N(30),G,K,R,T,ja,fa=1;null==e&&(e=[]);n.initialize=function(ia,la){K=ia;ja=la;y()};n.links=function(ia){return arguments.length?(e=ia,y(),n):e};n.id=function(ia){return arguments.length?(O=ia,n):O};n.iterations=function(ia){return arguments.length?(fa=+ia,n):fa};n.strength=function(ia){return arguments.length?(M="function"===typeof ia?ia:N(+ia),B(),n):M};n.distance=function(ia){return arguments.length?
(z="function"===typeof ia?ia:N(+ia),D(),n):z};return n};k.forceManyBody=function(){function e(ja){var fa=D.length,ia=l.quadtree(D,d,f).visitAfter(y);F=ja;for(ja=0;ja<fa;++ja)O=D[ja],ia.visit(B)}function n(){if(D){var ja,fa=D.length;G=Array(fa);for(ja=0;ja<fa;++ja){var ia=D[ja];G[ia.index]=+z(ia,ja,D)}}}function y(ja){var fa=0,ia,la,Z=0,P,C,V;if(ja.length){for(P=C=V=0;4>V;++V)(ia=ja[V])&&(la=Math.abs(ia.value))&&(fa+=ia.value,Z+=la,P+=la*ia.x,C+=la*ia.y);ja.x=P/Z;ja.y=C/Z}else{ia=ja;ia.x=ia.data.x;
ia.y=ia.data.y;do fa+=G[ia.data.index];while(ia=ia.next)}ja.value=fa}function B(ja,fa,ia,la){if(!ja.value)return!0;ia=ja.x-O.x;var Z=ja.y-O.y;fa=la-fa;la=ia*ia+Z*Z;if(fa*fa/T<la)return la<R&&(0===ia&&(ia=1E-6*(M()-.5),la+=ia*ia),0===Z&&(Z=1E-6*(M()-.5),la+=Z*Z),la<K&&(la=Math.sqrt(K*la)),O.vx+=ia*ja.value*F/la,O.vy+=Z*ja.value*F/la),!0;if(!(ja.length||la>=R)){if(ja.data!==O||ja.next)0===ia&&(ia=1E-6*(M()-.5),la+=ia*ia),0===Z&&(Z=1E-6*(M()-.5),la+=Z*Z),la<K&&(la=Math.sqrt(K*la));do ja.data!==O&&(fa=
G[ja.data.index]*F/la,O.vx+=ia*fa,O.vy+=Z*fa);while(ja=ja.next)}}var D,O,M,F,z=N(-30),G,K=1,R=Infinity,T=.81;e.initialize=function(ja,fa){D=ja;M=fa;n()};e.strength=function(ja){return arguments.length?(z="function"===typeof ja?ja:N(+ja),n(),e):z};e.distanceMin=function(ja){return arguments.length?(K=ja*ja,e):Math.sqrt(K)};e.distanceMax=function(ja){return arguments.length?(R=ja*ja,e):Math.sqrt(R)};e.theta=function(ja){return arguments.length?(T=ja*ja,e):Math.sqrt(T)};return e};k.forceRadial=function(e,
n,y){function B(G){for(var K=0,R=O.length;K<R;++K){var T=O[K],ja=T.x-n||1E-6,fa=T.y-y||1E-6,ia=Math.sqrt(ja*ja+fa*fa);ia=(z[K]-ia)*F[K]*G/ia;T.vx+=ja*ia;T.vy+=fa*ia}}function D(){if(O){var G,K=O.length;F=Array(K);z=Array(K);for(G=0;G<K;++G)z[G]=+e(O[G],G,O),F[G]=isNaN(z[G])?0:+M(O[G],G,O)}}var O,M=N(.1),F,z;"function"!==typeof e&&(e=N(+e));null==n&&(n=0);null==y&&(y=0);B.initialize=function(G){O=G;D()};B.strength=function(G){return arguments.length?(M="function"===typeof G?G:N(+G),D(),B):M};B.radius=
function(G){return arguments.length?(e="function"===typeof G?G:N(+G),D(),B):e};B.x=function(G){return arguments.length?(n=+G,B):n};B.y=function(G){return arguments.length?(y=+G,B):y};return B};k.forceSimulation=function(e){function n(){y();ja.call("tick",O);M<F&&(T.stop(),ja.call("end",O))}function y(ia){var la,Z=e.length;void 0===ia&&(ia=1);for(var P=0;P<ia;++P)for(M+=(G-M)*z,R.forEach(function(V){V(M)}),la=0;la<Z;++la){var C=e[la];null==C.fx?C.x+=C.vx*=K:(C.x=C.fx,C.vx=0);null==C.fy?C.y+=C.vy*=
K:(C.y=C.fy,C.vy=0)}return O}function B(){for(var ia=0,la=e.length,Z;ia<la;++ia){Z=e[ia];Z.index=ia;null!=Z.fx&&(Z.x=Z.fx);null!=Z.fy&&(Z.y=Z.fy);if(isNaN(Z.x)||isNaN(Z.y)){var P=10*Math.sqrt(.5+ia),C=ia*a;Z.x=P*Math.cos(C);Z.y=P*Math.sin(C)}if(isNaN(Z.vx)||isNaN(Z.vy))Z.vx=Z.vy=0}}function D(ia){ia.initialize&&ia.initialize(e,fa);return ia}var O,M=1,F=.001,z=1-Math.pow(F,1/300),G=0,K=.6,R=new Map,T=H.timer(n),ja=w.dispatch("tick","end"),fa=g();null==e&&(e=[]);B();return O={tick:y,restart:function(){return T.restart(n),
O},stop:function(){return T.stop(),O},nodes:function(ia){return arguments.length?(e=ia,B(),R.forEach(D),O):e},alpha:function(ia){return arguments.length?(M=+ia,O):M},alphaMin:function(ia){return arguments.length?(F=+ia,O):F},alphaDecay:function(ia){return arguments.length?(z=+ia,O):+z},alphaTarget:function(ia){return arguments.length?(G=+ia,O):G},velocityDecay:function(ia){return arguments.length?(K=1-ia,O):1-K},randomSource:function(ia){return arguments.length?(fa=ia,R.forEach(D),O):fa},force:function(ia,
la){return 1<arguments.length?(null==la?R.delete(ia):R.set(ia,D(la)),O):R.get(ia)},find:function(ia,la,Z){var P,C=e.length;Z=null==Z?Infinity:Z*Z;for(P=0;P<C;++P){var V=e[P];var ha=ia-V.x;var aa=la-V.y;ha=ha*ha+aa*aa;if(ha<Z){var ta=V;Z=ha}}return ta},on:function(ia,la){return 1<arguments.length?(ja.on(ia,la),O):ja.on(ia)}}};k.forceX=function(e){function n(F){for(var z=0,G=D.length,K;z<G;++z)K=D[z],K.vx+=(M[z]-K.x)*O[z]*F}function y(){if(D){var F,z=D.length;O=Array(z);M=Array(z);for(F=0;F<z;++F)O[F]=
isNaN(M[F]=+e(D[F],F,D))?0:+B(D[F],F,D)}}var B=N(.1),D,O,M;"function"!==typeof e&&(e=N(null==e?0:+e));n.initialize=function(F){D=F;y()};n.strength=function(F){return arguments.length?(B="function"===typeof F?F:N(+F),y(),n):B};n.x=function(F){return arguments.length?(e="function"===typeof F?F:N(+F),y(),n):e};return n};k.forceY=function(e){function n(F){for(var z=0,G=D.length,K;z<G;++z)K=D[z],K.vy+=(M[z]-K.y)*O[z]*F}function y(){if(D){var F,z=D.length;O=Array(z);M=Array(z);for(F=0;F<z;++F)O[F]=isNaN(M[F]=
+e(D[F],F,D))?0:+B(D[F],F,D)}}var B=N(.1),D,O,M;"function"!==typeof e&&(e=N(null==e?0:+e));n.initialize=function(F){D=F;y()};n.strength=function(F){return arguments.length?(B="function"===typeof F?F:N(+F),y(),n):B};n.y=function(F){return arguments.length?(e="function"===typeof F?F:N(+F),y(),n):e};return n};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(46)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(e){l.Transform.call(this,null,e)}function x(e,n){return()=>e.touch(n).run()}function v(e,n){e=H.forceSimulation(e);const y=e.stop,
B=e.restart;let D=!1;e.stopped=()=>D;e.restart=()=>(D=!1,B());e.stop=()=>(D=!0,y());return u(e,n,!0).on("end",()=>D=!0)}function u(e,n,y,B){var D=w.array(n.forces),O;var M=0;for(O=d.length;M<O;++M){var F=d[M];if("forces"!==F&&n.modified(F))e[F](n[F])}M=0;for(O=D.length;M<O;++M){var z="forces"+M;if(y||n.modified("forces",M)){F=void 0;var G=D[M];w.hasOwnProperty(g,G.force)||w.error("Unrecognized force: "+G.force);var K=g[G.force]();for(F in G)w.isFunction(K[F])&&m(K[F],G[F],G);F=K}else{if(F=B)a:{K=
F=void 0;G=D[M];var R=B;for(K in G)if(w.isFunction(F=G[K])&&R.modified(w.accessorFields(F))){F=1;break a}F=0}F=F?e.force(z):null}F&&e.force(z,F)}for(O=e.numForces||0;M<O;++M)e.force("forces"+M,null);e.numForces=D.length;return e}function m(e,n,y){e(w.isFunction(n)?B=>n(B,y):n)}const g={center:H.forceCenter,collide:H.forceCollide,nbody:H.forceManyBody,link:H.forceLink,x:H.forceX,y:H.forceY},d=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],f=["static","iterations"],a=["x","y","vx","vy"];
N.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":a}]};w.inherits(N,l.Transform,{transform(e,n){var y=this.value,B=n.changed(n.ADD_REM),D=e.modified(d),O=e.iterations||300;y?(B&&(n.modifies("index"),
y.nodes(n.source)),(D||n.changed(n.MOD))&&u(y,e,0,n)):(this.value=y=v(n.source,e),y.on("tick",x(n.dataflow,this)),e.static||(B=!0,y.tick()),n.modifies("index"));if(D||B||e.modified(f)||n.changed()&&e.restart)if(y.alpha(Math.max(y.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(y.alphaMin(),1/O)),e.static)for(y.stop();0<=--O;)y.tick();else if(y.stopped()&&y.restart(),!B)return n.StopPropagation;return this.finish(e,n)},finish(e,n){const y=n.dataflow;for(let F=this._argops,z=0,G=F.length,K;z<G;++z)if(K=
F[z],"forces"===K.name&&"link"===K.op._argval.force)for(var B=K.op._argops,D=0,O=B.length,M;D<O;++D)if("links"===B[D].name&&(M=B[D].op.source)){y.pulse(M,y.changeset().reflow());break}return n.reflow(e.modified()).modifies(a)}});k.force=N;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(U,W){return U.parent===W.parent?1:2}function w(U,W){return U+W.x}function H(U,W){return Math.max(U,W.y)}function N(U){for(var W;W=U.children;)U=W[0];return U}function x(U){for(var W;W=U.children;)U=W[W.length-1];return U}function v(U){var W=0,ba=U.children,ca=ba&&ba.length;if(ca)for(;0<=
--ca;)W+=ba[ca].value;else W=1;U.value=W}function u(U,W){U instanceof Map?(U=[void 0,U],void 0===W&&(W=g)):void 0===W&&(W=m);U=new a(U);for(var ba,ca=[U],ra,qa,Da,na;ba=ca.pop();)if((qa=W(ba.data))&&(na=(qa=Array.from(qa)).length))for(ba.children=qa,Da=na-1;0<=Da;--Da)ca.push(ra=qa[Da]=new a(qa[Da])),ra.parent=ba,ra.depth=ba.depth+1;return U.eachBefore(f)}function m(U){return U.children}function g(U){return Array.isArray(U)?U[1]:null}function d(U){void 0!==U.data.value&&(U.value=U.data.value);U.data=
U.data.data}function f(U){var W=0;do U.height=W;while((U=U.parent)&&U.height<++W)}function a(U){this.data=U;this.depth=this.height=0;this.parent=null}function e(U){var W=0;U=Array.from(U);for(var ba=U.length,ca,ra;ba;)ra=Math.random()*ba--|0,ca=U[ba],U[ba]=U[ra],U[ra]=ca;ba=U.length;ca=[];for(var qa;W<ba;)if(ra=U[W],qa&&y(qa,ra))++W;else{a:if(W=ca,B(ra,W))W=[ra];else{for(ca=0;ca<W.length;++ca)if(n(ra,W[ca])&&B(D(W[ca],ra),W)){W=[W[ca],ra];break a}for(ca=0;ca<W.length-1;++ca)for(qa=ca+1;qa<W.length;++qa)if(n(D(W[ca],
W[qa]),ra)&&n(D(W[ca],ra),W[qa])&&n(D(W[qa],ra),W[ca])&&B(O(W[ca],W[qa],ra),W)){W=[W[ca],W[qa],ra];break a}throw Error();}a:{W=ca=W;switch(W.length){case 1:W=W[0];W={x:W.x,y:W.y,r:W.r};break a;case 2:W=D(W[0],W[1]);break a;case 3:W=O(W[0],W[1],W[2]);break a}W=void 0}qa=W;W=0}return qa}function n(U,W){var ba=U.r-W.r,ca=W.x-U.x;U=W.y-U.y;return 0>ba||ba*ba<ca*ca+U*U}function y(U,W){var ba=U.r-W.r+1E-9*Math.max(U.r,W.r,1),ca=W.x-U.x;U=W.y-U.y;return 0<ba&&ba*ba>ca*ca+U*U}function B(U,W){for(var ba=0;ba<
W.length;++ba)if(!y(U,W[ba]))return!1;return!0}function D(U,W){var ba=U.x,ca=U.y;U=U.r;var ra=W.x,qa=W.y;W=W.r;var Da=ra-ba,na=qa-ca,Ra=W-U,db=Math.sqrt(Da*Da+na*na);return{x:(ba+ra+Da/db*Ra)/2,y:(ca+qa+na/db*Ra)/2,r:(db+U+W)/2}}function O(U,W,ba){var ca=U.x,ra=U.y;U=U.r;var qa=W.x,Da=W.y,na=W.r,Ra=ba.x,db=ba.y,$a=ba.r;ba=ca-qa;W=ca-Ra;var Fa=ra-Da,Ga=ra-db,pa=na-U,Ja=$a-U,Ua=ca*ca+ra*ra-U*U;Da=Ua-qa*qa-Da*Da+na*na;db=Ua-Ra*Ra-db*db+$a*$a;Ra=W*Fa-ba*Ga;qa=(Fa*db-Ga*Da)/(2*Ra)-ca;Fa=(Ga*pa-Fa*Ja)/
Ra;Ga=(W*Da-ba*db)/(2*Ra)-ra;ba=(ba*Ja-W*pa)/Ra;W=Fa*Fa+ba*ba-1;pa=2*(U+qa*Fa+Ga*ba);U=qa*qa+Ga*Ga-U*U;U=-(W?(pa+Math.sqrt(pa*pa-4*W*U))/(2*W):U/pa);return{x:ca+qa+Fa*U,y:ra+Ga+ba*U,r:U}}function M(U,W,ba){var ca=U.x-W.x,ra=U.y-W.y,qa=ca*ca+ra*ra;if(qa){var Da=W.r+ba.r;Da*=Da;var na=U.r+ba.r;na*=na;if(Da>na){var Ra=(qa+na-Da)/(2*qa);Da=Math.sqrt(Math.max(0,na/qa-Ra*Ra));ba.x=U.x-Ra*ca-Da*ra;ba.y=U.y-Ra*ra+Da*ca}else Ra=(qa+Da-na)/(2*qa),Da=Math.sqrt(Math.max(0,Da/qa-Ra*Ra)),ba.x=W.x+Ra*ca-Da*ra,ba.y=
W.y+Ra*ra+Da*ca}else ba.x=W.x+ba.r,ba.y=W.y}function F(U,W){var ba=U.r+W.r-1E-6,ca=W.x-U.x;U=W.y-U.y;return 0<ba&&ba*ba>ca*ca+U*U}function z(U){var W=U._,ba=U.next._,ca=W.r+ba.r;U=(W.x*ba.r+ba.x*W.r)/ca;W=(W.y*ba.r+ba.y*W.r)/ca;return U*U+W*W}function G(U){this._=U;this.previous=this.next=null}function K(U){if(!(ba=(U="object"===typeof U&&"length"in U?U:Array.from(U)).length))return 0;var W,ba;var ca=U[0];ca.x=0;ca.y=0;if(!(1<ba))return ca.r;var ra=U[1];ca.x=-ra.r;ra.x=ca.r;ra.y=0;if(!(2<ba))return ca.r+
ra.r;M(ra,ca,W=U[2]);ca=new G(ca);ra=new G(ra);W=new G(W);ca.next=W.previous=ra;ra.next=ca.previous=W;W.next=ra.previous=ca;var qa=3;a:for(;qa<ba;++qa){M(ca._,ra._,W=U[qa]);W=new G(W);var Da=ra.next;var na=ca.previous;var Ra=ra._.r;var db=ca._.r;do if(Ra<=db){if(F(Da._,W._)){ra=Da;ca.next=ra;ra.previous=ca;--qa;continue a}Ra+=Da._.r;Da=Da.next}else{if(F(na._,W._)){ca=na;ca.next=ra;ra.previous=ca;--qa;continue a}db+=na._.r;na=na.previous}while(Da!==na.next);W.previous=ca;W.next=ra;ca.next=ra.previous=
ra=W;for(Da=z(ca);(W=W.next)!==ra;)(na=z(W))<Da&&(ca=W,Da=na);ra=ca.next}ca=[ra._];for(W=ra;(W=W.next)!==ra;)ca.push(W._);W=e(ca);for(qa=0;qa<ba;++qa)ca=U[qa],ca.x-=W.x,ca.y-=W.y;return W.r}function R(U){if("function"!==typeof U)throw Error();return U}function T(){return 0}function ja(U){return function(){return U}}function fa(U){return Math.sqrt(U.value)}function ia(U){return function(W){W.children||(W.r=Math.max(0,+U(W)||0))}}function la(U,W){return function(ba){if(ca=ba.children){var ca,ra,qa=
ca.length,Da=U(ba)*W||0;if(Da)for(ra=0;ra<qa;++ra)ca[ra].r+=Da;var na=K(ca);if(Da)for(ra=0;ra<qa;++ra)ca[ra].r-=Da;ba.r=na+Da}}}function Z(U){return function(W){var ba=W.parent;W.r*=U;ba&&(W.x=ba.x+U*W.x,W.y=ba.y+U*W.y)}}function P(U){U.x0=Math.round(U.x0);U.y0=Math.round(U.y0);U.x1=Math.round(U.x1);U.y1=Math.round(U.y1)}function C(U,W,ba,ca,ra){var qa=U.children,Da=-1,na=qa.length;for(ca=U.value&&(ca-W)/U.value;++Da<na;)U=qa[Da],U.y0=ba,U.y1=ra,U.x0=W,U.x1=W+=U.value*ca}function V(U){return U.id}
function ha(U){return U.parentId}function aa(U,W){return U.parent===W.parent?1:2}function ta(U){var W=U.children;return W?W[0]:U.t}function wa(U){var W=U.children;return W?W[W.length-1]:U.t}function Ha(U,W){this._=U;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=W}function bb(U){U=new Ha(U,0);for(var W,ba=[U],ca,ra,qa;W=ba.pop();)if(ra=W._.children)for(W.children=Array(ca=ra.length),qa=ca-1;0<=qa;--qa)ba.push(ca=W.children[qa]=new Ha(ra[qa],qa)),
ca.parent=W;(U.parent=new Ha(null,0)).children=[U];return U}function kb(U,W,ba,ca,ra){var qa=U.children,Da=-1,na=qa.length;for(ra=U.value&&(ra-ba)/U.value;++Da<na;)U=qa[Da],U.x0=W,U.x1=ca,U.y0=ba,U.y1=ba+=U.value*ra}function va(U,W,ba,ca,ra,qa){for(var Da=[],na=W.children,Ra,db,$a=Ra=0,Fa=na.length,Ga,pa=W.value,Ja,Ua,jb,Fb,Xb,nc;Ra<Fa;){W=ra-ba;Ga=qa-ca;do Ja=na[$a++].value;while(!Ja&&$a<Fa);Ua=jb=Ja;nc=Math.max(Ga/W,W/Ga)/(pa*U);Fb=Ja*Ja*nc;for(Xb=Math.max(jb/Fb,Fb/Ua);$a<Fa;++$a){Ja+=db=na[$a].value;
db<Ua&&(Ua=db);db>jb&&(jb=db);Fb=Ja*Ja*nc;Fb=Math.max(jb/Fb,Fb/Ua);if(Fb>Xb){Ja-=db;break}Xb=Fb}Da.push(Ra={value:Ja,dice:W<Ga,children:na.slice(Ra,$a)});Ra.dice?C(Ra,ba,ca,ra,pa?ca+=Ga*Ja/pa:qa):kb(Ra,ba,ca,pa?ba+=W*Ja/pa:ra,qa);pa-=Ja;Ra=$a}return Da}a.prototype=u.prototype={constructor:a,count:function(){return this.eachAfter(v)},each:function(U,W){let ba=-1;for(const ca of this)U.call(W,ca,++ba,this);return this},eachAfter:function(U,W){for(var ba,ca=[this],ra=[],qa,Da,na=-1;ba=ca.pop();)if(ra.push(ba),
ba=ba.children)for(qa=0,Da=ba.length;qa<Da;++qa)ca.push(ba[qa]);for(;ba=ra.pop();)U.call(W,ba,++na,this);return this},eachBefore:function(U,W){for(var ba,ca=[this],ra,qa=-1;ba=ca.pop();)if(U.call(W,ba,++qa,this),ba=ba.children)for(ra=ba.length-1;0<=ra;--ra)ca.push(ba[ra]);return this},find:function(U,W){let ba=-1;for(const ca of this)if(U.call(W,ca,++ba,this))return ca},sum:function(U){return this.eachAfter(function(W){for(var ba=+U(W.data)||0,ca=W.children,ra=ca&&ca.length;0<=--ra;)ba+=ca[ra].value;
W.value=ba})},sort:function(U){return this.eachBefore(function(W){W.children&&W.children.sort(U)})},path:function(U){var W=this;var ba=W;var ca=U;if(ba!==ca){var ra=ba.ancestors(),qa=ca.ancestors(),Da=null;ba=ra.pop();for(ca=qa.pop();ba===ca;)Da=ba,ba=ra.pop(),ca=qa.pop();ba=Da}for(ca=[W];W!==ba;)W=W.parent,ca.push(W);for(W=ca.length;U!==ba;)ca.splice(W,0,U),U=U.parent;return ca},ancestors:function(){for(var U=this,W=[U];U=U.parent;)W.push(U);return W},descendants:function(){return Array.from(this)},
leaves:function(){var U=[];this.eachBefore(function(W){W.children||U.push(W)});return U},links:function(){var U=this,W=[];U.each(function(ba){ba!==U&&W.push({source:ba.parent,target:ba})});return W},copy:function(){return u(this).eachBefore(d)},[Symbol.iterator]:function*(){var U,W=[this],ba;do{var ca=W.reverse();for(W=[];U=ca.pop();)if(yield U,U=U.children){var ra=0;for(ba=U.length;ra<ba;++ra)W.push(U[ra])}}while(W.length)}};var Ta={depth:-1},Ya={};Ha.prototype=Object.create(a.prototype);var Ca=
(1+Math.sqrt(5))/2,ua=function ba(W){function ca(ra,qa,Da,na,Ra){va(W,ra,qa,Da,na,Ra)}ca.ratio=function(ra){return ba(1<(ra=+ra)?ra:1)};return ca}(Ca);Ca=function ca(ba){function ra(qa,Da,na,Ra,db){if(($a=qa._squarify)&&$a.ratio===ba)for(var $a,Fa,Ga,pa=-1,Ja,Ua=$a.length,jb=qa.value;++pa<Ua;){qa=$a[pa];Fa=qa.children;Ga=qa.value=0;for(Ja=Fa.length;Ga<Ja;++Ga)qa.value+=Fa[Ga].value;qa.dice?C(qa,Da,na,Ra,jb?na+=(db-na)*qa.value/jb:db):kb(qa,Da,na,jb?Da+=(Ra-Da)*qa.value/jb:Ra,db);jb-=qa.value}else qa._squarify=
$a=va(ba,qa,Da,na,Ra,db),$a.ratio=ba}ra.ratio=function(qa){return ca(1<(qa=+qa)?qa:1)};return ra}(Ca);k.cluster=function(){function ba(na){var Ra,db=0;na.eachAfter(function(Ja){var Ua=Ja.children;if(Ua){var jb=Ua.reduce(w,0)/Ua.length;Ja.x=jb;Ja.y=1+Ua.reduce(H,0)}else Ja.x=Ra?db+=ca(Ja,Ra):0,Ja.y=0,Ra=Ja});var $a=N(na),Fa=x(na),Ga=$a.x-ca($a,Fa)/2,pa=Fa.x+ca(Fa,$a)/2;return na.eachAfter(Da?function(Ja){Ja.x=(Ja.x-na.x)*ra;Ja.y=(na.y-Ja.y)*qa}:function(Ja){Ja.x=(Ja.x-Ga)/(pa-Ga)*ra;Ja.y=(1-(na.y?
Ja.y/na.y:1))*qa})}var ca=l,ra=1,qa=1,Da=!1;ba.separation=function(na){return arguments.length?(ca=na,ba):ca};ba.size=function(na){return arguments.length?(Da=!1,ra=+na[0],qa=+na[1],ba):Da?null:[ra,qa]};ba.nodeSize=function(na){return arguments.length?(Da=!0,ra=+na[0],qa=+na[1],ba):Da?[ra,qa]:null};return ba};k.hierarchy=u;k.pack=function(){function ba(na){na.x=ra/2;na.y=qa/2;ca?na.eachBefore(ia(ca)).eachAfter(la(Da,.5)).eachBefore(Z(1)):na.eachBefore(ia(fa)).eachAfter(la(T,1)).eachAfter(la(Da,na.r/
Math.min(ra,qa))).eachBefore(Z(Math.min(ra,qa)/(2*na.r)));return na}var ca=null,ra=1,qa=1,Da=T;ba.radius=function(na){return arguments.length?(ca=null==na?null:R(na),ba):ca};ba.size=function(na){return arguments.length?(ra=+na[0],qa=+na[1],ba):[ra,qa]};ba.padding=function(na){return arguments.length?(Da="function"===typeof na?na:ja(+na),ba):Da};return ba};k.packEnclose=e;k.packSiblings=function(ba){K(ba);return ba};k.partition=function(){function ba(Ra){var db=Ra.height+1;Ra.x0=Ra.y0=Da;Ra.x1=ra;
Ra.y1=qa/db;Ra.eachBefore(ca(qa,db));na&&Ra.eachBefore(P);return Ra}function ca(Ra,db){return function($a){$a.children&&C($a,$a.x0,Ra*($a.depth+1)/db,$a.x1,Ra*($a.depth+2)/db);var Fa=$a.x0,Ga=$a.y0,pa=$a.x1-Da,Ja=$a.y1-Da;pa<Fa&&(Fa=pa=(Fa+pa)/2);Ja<Ga&&(Ga=Ja=(Ga+Ja)/2);$a.x0=Fa;$a.y0=Ga;$a.x1=pa;$a.y1=Ja}}var ra=1,qa=1,Da=0,na=!1;ba.round=function(Ra){return arguments.length?(na=!!Ra,ba):na};ba.size=function(Ra){return arguments.length?(ra=+Ra[0],qa=+Ra[1],ba):[ra,qa]};ba.padding=function(Ra){return arguments.length?
(Da=+Ra,ba):Da};return ba};k.stratify=function(){function ba(qa){var Da=Array.from(qa),na=Da.length,Ra,db,$a=new Map;for(Ra=0;Ra<na;++Ra){var Fa=Da[Ra];var Ga=Da[Ra]=new a(Fa);if(null!=(db=ca(Fa,Ra,qa))&&(db+="")){var pa=Ga.id=db;$a.set(pa,$a.has(pa)?Ya:Ga)}null!=(db=ra(Fa,Ra,qa))&&(db+="")&&(Ga.parent=db)}for(Ra=0;Ra<na;++Ra)if(Ga=Da[Ra],db=Ga.parent){qa=$a.get(db);if(!qa)throw Error("missing: "+db);if(qa===Ya)throw Error("ambiguous: "+db);qa.children?qa.children.push(Ga):qa.children=[Ga];Ga.parent=
qa}else{if(Ja)throw Error("multiple roots");var Ja=Ga}if(!Ja)throw Error("no root");Ja.parent=Ta;Ja.eachBefore(function(Ua){Ua.depth=Ua.parent.depth+1;--na}).eachBefore(f);Ja.parent=null;if(0<na)throw Error("cycle");return Ja}var ca=V,ra=ha;ba.id=function(qa){return arguments.length?(ca=R(qa),ba):ca};ba.parentId=function(qa){return arguments.length?(ra=R(qa),ba):ra};return ba};k.tree=function(){function ba($a){var Fa=bb($a);Fa.eachAfter(ca);Fa.parent.m=-Fa.z;Fa.eachBefore(ra);if(db)$a.eachBefore(qa);
else{var Ga=$a,pa=$a,Ja=$a;$a.eachBefore(function(Xb){Xb.x<Ga.x&&(Ga=Xb);Xb.x>pa.x&&(pa=Xb);Xb.depth>Ja.depth&&(Ja=Xb)});Fa=Ga===pa?1:Da(Ga,pa)/2;var Ua=Fa-Ga.x,jb=na/(pa.x+Fa+Ua),Fb=Ra/(Ja.depth||1);$a.eachBefore(function(Xb){Xb.x=(Xb.x+Ua)*jb;Xb.y=Xb.depth*Fb})}return $a}function ca($a){var Fa=$a.children,Ga=$a.parent.children,pa=$a.i?Ga[$a.i-1]:null;if(Fa){for(var Ja=0,Ua=0,jb=$a.children,Fb=jb.length,Xb;0<=--Fb;)Xb=jb[Fb],Xb.z+=Ja,Xb.m+=Ja,Ja+=Xb.s+(Ua+=Xb.c);Fa=(Fa[0].z+Fa[Fa.length-1].z)/2;
pa?($a.z=pa.z+Da($a._,pa._),$a.m=$a.z-Fa):$a.z=Fa}else pa&&($a.z=pa.z+Da($a._,pa._));Fa=$a.parent;Ga=$a.parent.A||Ga[0];if(pa){Ua=Ja=$a;jb=Ja.parent.children[0];Fb=Ja.m;Xb=Ua.m;for(var nc=pa.m,md=jb.m,pc;pa=wa(pa),Ja=ta(Ja),pa&&Ja;){jb=ta(jb);Ua=wa(Ua);Ua.a=$a;pc=pa.z+nc-Ja.z-Fb+Da(pa._,Ja._);if(0<pc){var Hc=pa.a.parent===$a.parent?pa.a:Ga,mb=$a,hc=pc,jc=hc/(mb.i-Hc.i);mb.c-=jc;mb.s+=hc;Hc.c+=jc;mb.z+=hc;mb.m+=hc;Fb+=pc;Xb+=pc}nc+=pa.m;Fb+=Ja.m;md+=jb.m;Xb+=Ua.m}pa&&!wa(Ua)&&(Ua.t=pa,Ua.m+=nc-Xb);
Ja&&!ta(jb)&&(jb.t=Ja,jb.m+=Fb-md,Ga=$a)}Fa.A=Ga}function ra($a){$a._.x=$a.z+$a.parent.m;$a.m+=$a.parent.m}function qa($a){$a.x*=na;$a.y=$a.depth*Ra}var Da=aa,na=1,Ra=1,db=null;ba.separation=function($a){return arguments.length?(Da=$a,ba):Da};ba.size=function($a){return arguments.length?(db=!1,na=+$a[0],Ra=+$a[1],ba):db?null:[na,Ra]};ba.nodeSize=function($a){return arguments.length?(db=!0,na=+$a[0],Ra=+$a[1],ba):db?[na,Ra]:null};return ba};k.treemap=function(){function ba(Ja){Ja.x0=Ja.y0=0;Ja.x1=
Da;Ja.y1=na;Ja.eachBefore(ca);Ra=[0];qa&&Ja.eachBefore(P);return Ja}function ca(Ja){var Ua=Ra[Ja.depth],jb=Ja.x0+Ua,Fb=Ja.y0+Ua,Xb=Ja.x1-Ua,nc=Ja.y1-Ua;Xb<jb&&(jb=Xb=(jb+Xb)/2);nc<Fb&&(Fb=nc=(Fb+nc)/2);Ja.x0=jb;Ja.y0=Fb;Ja.x1=Xb;Ja.y1=nc;Ja.children&&(Ua=Ra[Ja.depth+1]=db(Ja)/2,jb+=pa(Ja)-Ua,Fb+=$a(Ja)-Ua,Xb-=Fa(Ja)-Ua,nc-=Ga(Ja)-Ua,Xb<jb&&(jb=Xb=(jb+Xb)/2),nc<Fb&&(Fb=nc=(Fb+nc)/2),ra(Ja,jb,Fb,Xb,nc))}var ra=ua,qa=!1,Da=1,na=1,Ra=[0],db=T,$a=T,Fa=T,Ga=T,pa=T;ba.round=function(Ja){return arguments.length?
(qa=!!Ja,ba):qa};ba.size=function(Ja){return arguments.length?(Da=+Ja[0],na=+Ja[1],ba):[Da,na]};ba.tile=function(Ja){return arguments.length?(ra=R(Ja),ba):ra};ba.padding=function(Ja){return arguments.length?ba.paddingInner(Ja).paddingOuter(Ja):ba.paddingInner()};ba.paddingInner=function(Ja){return arguments.length?(db="function"===typeof Ja?Ja:ja(+Ja),ba):db};ba.paddingOuter=function(Ja){return arguments.length?ba.paddingTop(Ja).paddingRight(Ja).paddingBottom(Ja).paddingLeft(Ja):ba.paddingTop()};
ba.paddingTop=function(Ja){return arguments.length?($a="function"===typeof Ja?Ja:ja(+Ja),ba):$a};ba.paddingRight=function(Ja){return arguments.length?(Fa="function"===typeof Ja?Ja:ja(+Ja),ba):Fa};ba.paddingBottom=function(Ja){return arguments.length?(Ga="function"===typeof Ja?Ja:ja(+Ja),ba):Ga};ba.paddingLeft=function(Ja){return arguments.length?(pa="function"===typeof Ja?Ja:ja(+Ja),ba):pa};return ba};k.treemapBinary=function(ba,ca,ra,qa,Da){function na(pa,Ja,Ua,jb,Fb,Xb,nc){if(pa>=Ja-1)pa=Ra[pa],
pa.x0=jb,pa.y0=Fb,pa.x1=Xb,pa.y1=nc;else{for(var md=Ga[pa],pc=Ua/2+md,Hc=pa+1,mb=Ja-1;Hc<mb;){var hc=Hc+mb>>>1;Ga[hc]<pc?Hc=hc+1:mb=hc}pc-Ga[Hc-1]<Ga[Hc]-pc&&pa+1<Hc&&--Hc;md=Ga[Hc]-md;pc=Ua-md;Xb-jb>nc-Fb?(Ua=Ua?(jb*pc+Xb*md)/Ua:Xb,na(pa,Hc,md,jb,Fb,Ua,nc),na(Hc,Ja,pc,Ua,Fb,Xb,nc)):(Ua=Ua?(Fb*pc+nc*md)/Ua:nc,na(pa,Hc,md,jb,Fb,Xb,Ua),na(Hc,Ja,pc,jb,Ua,Xb,nc))}}var Ra=ba.children,db,$a=Ra.length,Fa,Ga=Array($a+1);for(Ga[0]=Fa=db=0;db<$a;++db)Ga[db+1]=Fa+=Ra[db].value;na(0,$a,ba.value,ca,ra,qa,Da)};
k.treemapDice=C;k.treemapResquarify=Ca;k.treemapSlice=kb;k.treemapSliceDice=function(ba,ca,ra,qa,Da){(ba.depth&1?kb:C)(ba,ca,ra,qa,Da)};k.treemapSquarify=ua;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(F,z,G){const K={};F.each(R=>{const T=R.data;G(T)&&(K[z(T)]=R)});F.lookup=K;return F}function x(F){l.Transform.call(this,null,F)}function v(){function F(R,
T){if(T>=G.length)return R;const ja=R.length,fa=G[T++],ia={},la={};let Z=-1,P,C,V;for(;++Z<ja;)P=fa(C=R[Z])+"",(V=ia[P])?V.push(C):ia[P]=[C];for(P in ia)la[P]=F(ia[P],T);return la}function z(R,T){if(++T>G.length)return R;const ja=[];for(const fa in R)ja.push({key:fa,values:z(R[fa],T)});return ja}const G=[],K={entries:R=>z(F(R,0),0),key:R=>(G.push(R),K)};return K}function u(F){l.Transform.call(this,null,F)}function m(F,z,G){for(let K,R=0,T=z.length;R<T;++R)if(K=z[R],K in G)F[K](G[K])}function g(F){u.call(this,
F)}function d(F){u.call(this,F)}function f(F){l.Transform.call(this,null,F)}function a(F){u.call(this,F)}function e(F){l.Transform.call(this,[],F)}function n(F){u.call(this,F)}x.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const y=F=>F.values;w.inherits(x,l.Transform,{transform(F,z){z.source||w.error("Nest transform requires an upstream data source.");var G=F.generate,K=F.modified(),R=z.clone(),T=this.value;
if(!T||K||z.changed())T&&T.each(ja=>{ja.children&&l.isTuple(ja.data)&&R.rem.push(ja.data)}),this.value=T=H.hierarchy({values:w.array(F.keys).reduce((ja,fa)=>{ja.key(fa);return ja},v()).entries(R.source)},y),G&&T.each(ja=>{ja.children&&(ja=l.ingest(ja.data),R.add.push(ja),R.source.push(ja))}),N(T,l.tupleid,l.tupleid);R.source.root=T;return R}});const B=(F,z)=>F.parent===z.parent?1:2;w.inherits(u,l.Transform,{transform(F,z){z.source&&z.source.root||w.error(this.constructor.name+" transform requires a backing tree data source.");
const G=this.layout(F.method),K=this.fields,R=z.source.root,T=F.as||K;F.field?R.sum(F.field):R.count();F.sort&&R.sort(l.stableCompare(F.sort,ja=>ja.data));m(G,this.params,F);G.separation&&G.separation(!1!==F.separation?B:w.one);try{this.value=G(R)}catch(ja){w.error(ja)}R.each(ja=>{{const fa=ja.data,ia=K.length-1;for(let la=0;la<ia;++la)fa[T[la]]=ja[K[la]];fa[T[ia]]=ja.children?ja.children.length:0}});return z.reflow(F.modified()).modifies(T).modifies("leaf")}});var D=["x","y","r","depth","children"];
g.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(g,u,{layout:H.pack,params:["radius","size","padding"],fields:D});D="x0 y0 x1 y1 depth children".split(" ");d.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(d,u,{layout:H.partition,params:["size","round","padding"],fields:D});f.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};w.inherits(f,l.Transform,{transform(F,
z){z.source||w.error("Stratify transform requires an upstream data source.");let G=this.value;const K=F.modified(),R=z.fork(z.ALL).materialize(z.SOURCE);z=!G||K||z.changed(z.ADD_REM)||z.modified(F.key.fields)||z.modified(F.parentKey.fields);R.source=R.source.slice();z&&(G=R.source.length?N(H.stratify().id(F.key).parentId(F.parentKey)(R.source),F.key,w.truthy):N(H.stratify()([{}]),F.key,F.key));R.source.root=this.value=G;return R}});const O={tidy:H.tree,cluster:H.cluster};D=["x","y","depth","children"];
a.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(a,u,{layout(F){F=F||"tidy";if(w.hasOwnProperty(O,F))return O[F]();w.error("Unrecognized Tree layout method: "+
F)},params:["size","nodeSize"],fields:D});e.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};w.inherits(e,l.Transform,{transform(F,z){F=this.value;const G=z.source&&z.source.root,K=z.fork(z.NO_SOURCE),R={};G||w.error("TreeLinks transform requires a tree data source.");z.changed(z.ADD_REM)?(K.rem=F,z.visit(z.SOURCE,T=>R[l.tupleid(T)]=1),G.each(T=>{const ja=T.data;(T=T.parent&&T.parent.data)&&R[l.tupleid(ja)]&&R[l.tupleid(T)]&&K.add.push(l.ingest({source:T,target:ja}))}),
this.value=K.add):z.changed(z.MOD)&&(z.visit(z.MOD,T=>R[l.tupleid(T)]=1),F.forEach(T=>{(R[l.tupleid(T.source)]||R[l.tupleid(T.target)])&&K.mod.push(T)}));return K}});const M={binary:H.treemapBinary,dice:H.treemapDice,slice:H.treemapSlice,slicedice:H.treemapSliceDice,squarify:H.treemapSquarify,resquarify:H.treemapResquarify};D="x0 y0 x1 y1 depth children".split(" ");n.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",
type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",
type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(n,u,{layout(){const F=H.treemap();F.ratio=z=>{const G=F.tile();G.ratio&&F.tile(G.ratio(z))};F.method=z=>{w.hasOwnProperty(M,z)?F.tile(M[z]):w.error("Unrecognized Treemap layout method: "+z)};return F},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:D});k.nest=x;k.pack=
g;k.partition=d;k.stratify=f;k.tree=a;k.treelinks=e;k.treemap=n;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(31),A(26),A(36),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N){function x(Z,P){const C=Z.bitmap();(P||[]).forEach(V=>C.set(Z(V.boundary[0]),Z(V.boundary[3])));return[C,
void 0]}function v(Z,P,C,V){const ha=Z.width,aa=Z.height,ta=C||V,wa=l.canvas(ha,aa).getContext("2d");P.forEach(Ca=>u(wa,Ca,ta));P=new Uint32Array(wa.getImageData(0,0,ha,aa).data.buffer);C=Z.bitmap();const Ha=ta&&Z.bitmap();let bb,kb,va,Ta,Ya;for(kb=0;kb<aa;++kb)for(bb=0;bb<ha;++bb)if(Ya=P[kb*ha+bb]&4278190080)va=Z(bb),Ta=Z(kb),V||C.set(va,Ta),ta&&Ya^268435456&&Ha.set(va,Ta);return[C,Ha]}function u(Z,P,C){if(P.length){var V=P[0].mark.marktype;"group"===V?P.forEach(ha=>{ha.items.forEach(aa=>u(Z,aa.items,
C))}):H.Marks[V].draw(Z,{items:C?P.map(m):P})}}function m(Z){Z=w.rederive(Z,{});Z.stroke&&(Z.strokeOpacity=1);Z.fill&&(Z.fillOpacity=.0625,Z.stroke="#000",Z.strokeOpacity=1,Z.strokeWidth=2);return Z}function g(Z,P){const C=new Uint32Array(~~((Z*P+32)/32));return{array:C,get:(V,ha)=>{V=ha*Z+V;return C[V>>>5]&1<<(V&31)},set:(V,ha)=>{V=ha*Z+V;C[V>>>5]|=1<<(V&31)},clear:(V,ha)=>{V=ha*Z+V;C[V>>>5]&=~(1<<(V&31))},getRange:(V,ha,aa,ta)=>{let wa,Ha,bb;for(;ta>=ha;--ta){var kb=ta*Z+V;wa=ta*Z+aa;Ha=kb>>>5;
bb=wa>>>5;if(Ha===bb){if(C[Ha]&F[kb&31]&z[(wa&31)+1])return!0}else{if(C[Ha]&F[kb&31]||C[bb]&z[(wa&31)+1])return!0;for(kb=Ha+1;kb<bb;++kb)if(C[kb])return!0}}return!1},setRange:(V,ha,aa,ta)=>{let wa,Ha,bb;for(;ha<=ta;++ha){var kb=ha*Z+V;wa=ha*Z+aa;Ha=kb>>>5;bb=wa>>>5;if(Ha===bb)C[Ha]|=F[kb&31]&z[(wa&31)+1];else for(C[Ha]|=F[kb&31],C[bb]|=z[(wa&31)+1],kb=Ha+1;kb<bb;++kb)C[kb]|=4294967295}},clearRange:(V,ha,aa,ta)=>{let wa,Ha,bb;for(;ha<=ta;++ha){var kb=ha*Z+V;wa=ha*Z+aa;Ha=kb>>>5;bb=wa>>>5;if(Ha===bb)C[Ha]&=
z[kb&31]|F[(wa&31)+1];else for(C[Ha]&=z[kb&31],C[bb]&=F[(wa&31)+1],kb=Ha+1;kb<bb;++kb)C[kb]&=0}},outOfBounds:(V,ha,aa,ta)=>0>V||0>ha||ta>=P||aa>=Z}}function d(Z,P,C){const V=Math.max(1,Math.sqrt(Z*P/1E6)),ha=~~((Z+2*C+V)/V),aa=~~((P+2*C+V)/V),ta=wa=>~~((wa+C)/V);ta.invert=wa=>wa*V-C;ta.bitmap=()=>g(ha,aa);ta.ratio=V;ta.padding=C;ta.width=Z;ta.height=P;return ta}function f(Z,P,C,V,ha,aa){C/=2;return 0>Z-C||Z+C>ha||0>P-(C=V/2)||P+C>aa}function a(Z,P,C,V,ha,aa,ta,wa){ha=ha*aa/(2*V);V=Z(P-ha);P=Z(P+ha);
ha=Z(C-(aa/=2));Z=Z(C+aa);return ta.outOfBounds(V,ha,P,Z)||ta.getRange(V,ha,P,Z)||wa&&wa.getRange(V,ha,P,Z)}function e(Z,P,C,V){const ha=Z.width,aa=Z.height,ta=P[0],wa=P[1],Ha=V.length;return function(bb){const kb=bb.boundary,va=bb.datum.fontSize;if(0>kb[2]||0>kb[5]||kb[0]>ha||kb[3]>aa)return!1;let Ta=0,Ya,Ca;let ua,U;let W;let ba;let ca,ra;for(let Hc=0;Hc<Ha;++Hc){Ya=(C[Hc]&3)-1;Ca=(C[Hc]>>>2&3)-1;var qa=0===Ya&&0===Ca||0>V[Hc];var Da=Ya&&Ca?Math.SQRT1_2:1;ua=0>V[Hc]?-1:1;U=kb[1+Ya]+V[Hc]*Ya*Da;
ba=kb[4+Ca]+ua*va*Ca/2+V[Hc]*Ca*Da;Da=ba-va/2;W=ba+va/2;var na=Z(U);ca=Z(Da);ra=Z(W);if(!Ta){var Ra=na;var db=ca;var $a=ra;var Fa=ta,Ga=wa,pa=U,Ja=U,Ua=Da,jb=W,Fb=kb,Xb=qa;if(!Fa.outOfBounds(Ra,db,na,$a)&&(Xb&&Ga?!Ga.getRange(Ra,db,na,$a)&&Fb[0]<=pa&&Ja<=Fb[2]&&Fb[3]<=Ua&&jb<=Fb[5]:!Fa.getRange(Ra,db,na,$a)))Ta=H.textMetrics.width(bb.datum,bb.datum.text);else continue}db=U+ua*Ta*Ya/2;U=db-Ta/2;Ra=db+Ta/2;na=Z(U);$a=Z(Ra);Fa=na;Ga=$a;pa=ca;Ja=ra;Ua=ta;jb=wa;Fb=U;Xb=Ra;var nc=Da,md=W,pc=kb;if(!Ua.outOfBounds(Fa,
pa,Ga,Ja)&&(qa&&jb?!jb.getRange(Fa,pa,Ga,Ja)&&pc[0]<=Fb&&Xb<=pc[2]&&pc[3]<=nc&&md<=pc[5]:!Ua.getRange(Fa,pa,Ga,Ja)))return bb.x=Ya?0>Ya*ua?Ra:U:db,bb.y=Ca?0>Ca*ua?W:Da:ba,bb.align=R[Ya*ua+1],bb.baseline=T[Ca*ua+1],ta.setRange(na,ca,$a,ra),!0}return!1}}function n(Z,P,C,V,ha,aa,ta,wa,Ha,bb,kb){if(!Z.length)return Z;var va=Math.max(V.length,ha.length);V=y(V,va);ha=B(ha,va);va=D(Z[0].datum);const Ta="group"===va&&Z[0].datum.items[Ha].marktype,Ya="area"===Ta,Ca=O(va,Ta,wa,Ha);P=d(P[0],P[1],bb);bb=Ya&&
"naive"===kb;wa=Z.map(W=>({datum:W,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Ca(W)}));if(!bb){C&&wa.sort((W,ba)=>C(W.datum,ba.datum));var ua=!1;for(bb=0;bb<ha.length&&!ua;++bb)ua=5===ha[bb]||0>V[bb];va&&(ta||Ya)&&(aa=[Z.map(W=>W.datum)].concat(aa));ua=aa.length?v(P,aa,ua,Ya):x(P,ta&&wa)}const U=Ya?fa[kb](P,ua,ta,Ha):e(P,ua,ha,V);wa.forEach(W=>W.opacity=+U(W));return wa}function y(Z,P){const C=new Float64Array(P),V=Z.length;for(let ha=0;ha<V;++ha)C[ha]=Z[ha]||0;for(Z=V;Z<P;++Z)C[Z]=
C[V-1];return C}function B(Z,P){const C=new Int8Array(P),V=Z.length;for(let ha=0;ha<V;++ha)C[ha]|=ja[Z[ha]];for(Z=V;Z<P;++Z)C[Z]=C[V-1];return C}function D(Z){return Z&&Z.mark&&Z.mark.marktype}function O(Z,P,C,V){const ha=aa=>[aa.x,aa.x,aa.x,aa.y,aa.y,aa.y];return Z?"line"===Z||"area"===Z?aa=>ha(aa.datum):"line"===P?aa=>{aa=aa.datum.items[V].items;return ha(aa.length?aa["start"===C?0:aa.length-1]:{x:NaN,y:NaN})}:aa=>{aa=aa.datum.bounds;return[aa.x1,(aa.x1+aa.x2)/2,aa.x2,aa.y1,(aa.y1+aa.y2)/2,aa.y2]}:
ha}function M(Z){w.Transform.call(this,null,Z)}const F=new Uint32Array(33),z=new Uint32Array(33);z[0]=0;F[0]=~z[0];for(let Z=1;32>=Z;++Z)z[Z]=z[Z-1]<<1|1,F[Z]=~z[Z];const G=[-1,-1,1,1],K=[-1,1,-1,1],R=["right","center","left"],T=["bottom","middle","top"],ja={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},fa={naive:function(Z,P,C,V){const ha=Z.width,aa=Z.height;return function(ta){const wa=ta.datum.datum.items[V].items,Ha=wa.length,bb=ta.datum.fontSize,
kb=H.textMetrics.width(ta.datum,ta.datum.text);let va=0;let Ta,Ya,Ca,ua,U;for(let ba=0;ba<Ha;++ba){var W=wa[ba].x;Ya=wa[ba].y;Ta=void 0===wa[ba].x2?W:wa[ba].x2;Ca=void 0===wa[ba].y2?Ya:wa[ba].y2;ua=(W+Ta)/2;U=(Ya+Ca)/2;W=Math.abs(Ta-W+Ca-Ya);W>=va&&(va=W,ta.x=ua,ta.y=U)}ua=kb/2;U=bb/2;W=ta.x-ua;Ta=ta.x+ua;Ya=ta.y-U;Ca=ta.y+U;ta.align="center";0>W&&Ta<=ha?ta.align="left":0<=W&&ha<Ta&&(ta.align="right");ta.baseline="middle";0>Ya&&Ca<=aa?ta.baseline="top":0<=Ya&&aa<Ca&&(ta.baseline="bottom");return!0}},
"reduced-search":function(Z,P,C,V){function ha(bb,kb,va,Ta,Ya){bb=Z.invert(bb);kb=Z.invert(kb);let Ca=va,ua=ta,U;if(!f(bb,kb,Ta,Ya,aa,ta)&&!a(Z,bb,kb,Ya,Ta,Ca,wa,Ha)&&!a(Z,bb,kb,Ya,Ta,Ya,wa,null)){for(;1<=ua-Ca;)U=(Ca+ua)/2,a(Z,bb,kb,Ya,Ta,U,wa,Ha)?ua=U:Ca=U;if(Ca>va)return[bb,kb,Ca,!0]}}const aa=Z.width,ta=Z.height,wa=P[0],Ha=P[1];return function(bb){const kb=bb.datum.datum.items[V].items,va=kb.length,Ta=bb.datum.fontSize,Ya=H.textMetrics.width(bb.datum,bb.datum.text);let Ca=C?Ta:0,ua=!1,U=!1,W=
0;let ba;let ca;let ra,qa,Da,na,Ra,db,$a,Fa;for(let Ua=0;Ua<va;++Ua){var Ga=kb[Ua].x;var pa=kb[Ua].y;ba=void 0===kb[Ua].x2?Ga:kb[Ua].x2;ca=void 0===kb[Ua].y2?pa:kb[Ua].y2;if(Ga>ba){var Ja=Ga;Ga=ba;ba=Ja}pa>ca&&(Ja=pa,pa=ca,ca=Ja);qa=Z(Ga);na=Z(ba);Da=~~((qa+na)/2);Ra=Z(pa);$a=Z(ca);db=~~((Ra+$a)/2);for(Ja=Da;Ja>=qa;--Ja)for(ra=db;ra>=Ra;--ra)(Fa=ha(Ja,ra,Ca,Ya,Ta))&&([bb.x,bb.y,Ca,ua]=Fa);for(Ja=Da;Ja<=na;++Ja)for(ra=db;ra<=$a;++ra)(Fa=ha(Ja,ra,Ca,Ya,Ta))&&([bb.x,bb.y,Ca,ua]=Fa);ua||C||(Ja=Math.abs(ba-
Ga+ca-pa),Ga=(Ga+ba)/2,pa=(pa+ca)/2,Ja>=W&&!f(Ga,pa,Ya,Ta,aa,ta)&&!a(Z,Ga,pa,Ta,Ya,Ta,wa,null)&&(W=Ja,bb.x=Ga,bb.y=pa,U=!0))}return ua||U?(Ga=Ya/2,pa=Ta/2,wa.setRange(Z(bb.x-Ga),Z(bb.y-pa),Z(bb.x+Ga),Z(bb.y+pa)),bb.align="center",bb.baseline="middle",!0):!1}},floodfill:function(Z,P,C,V){const ha=Z.width,aa=Z.height,ta=P[0],wa=P[1],Ha=Z.bitmap();return function(bb){const kb=bb.datum.datum.items[V].items,va=kb.length,Ta=bb.datum.fontSize,Ya=H.textMetrics.width(bb.datum,bb.datum.text),Ca=[];let ua=C?
Ta:0,U=!1,W=!1,ba=0,ca,ra,qa,Da,na,Ra;var db;for(let Ga=0;Ga<va;++Ga){ca=kb[Ga].x;qa=kb[Ga].y;ra=void 0===kb[Ga].x2?ca:kb[Ga].x2;Da=void 0===kb[Ga].y2?qa:kb[Ga].y2;for(Ca.push([Z((ca+ra)/2),Z((qa+Da)/2)]);Ca.length;)if([$a,Fa]=Ca.pop(),!(ta.get($a,Fa)||wa.get($a,Fa)||Ha.get($a,Fa))){Ha.set($a,Fa);for(db=0;4>db;++db)na=$a+G[db],Ra=Fa+K[db],Ha.outOfBounds(na,Ra,na,Ra)||Ca.push([na,Ra]);na=Z.invert($a);Ra=Z.invert(Fa);var $a=ua;var Fa=aa;if(!f(na,Ra,Ya,Ta,ha,aa)&&!a(Z,na,Ra,Ta,Ya,$a,ta,wa)&&!a(Z,na,
Ra,Ta,Ya,Ta,ta,null)){for(;1<=Fa-$a;)db=($a+Fa)/2,a(Z,na,Ra,Ta,Ya,db,ta,wa)?Fa=db:$a=db;$a>ua&&(bb.x=na,bb.y=Ra,ua=$a,U=!0)}}U||C||($a=Math.abs(ra-ca+Da-qa),na=(ca+ra)/2,Ra=(qa+Da)/2,$a>=ba&&!f(na,Ra,Ya,Ta,ha,aa)&&!a(Z,na,Ra,Ta,Ya,Ta,ta,null)&&(ba=$a,bb.x=na,bb.y=Ra,W=!0))}return U||W?(na=Ya/2,Ra=Ta/2,ta.setRange(Z(bb.x-na),Z(bb.y-Ra),Z(bb.x+na),Z(bb.y+Ra)),bb.align="center",bb.baseline="middle",!0):!1}}},ia=["x","y","opacity","align","baseline"],la="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
M.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:la},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:ia.length,default:ia}]};N.inherits(M,w.Transform,{transform(Z,P){function C(aa){aa=Z[aa];return N.isFunction(aa)&&P.modified(aa.fields)}const V=Z.modified();if(V||P.changed(P.ADD_REM)||C("sort")){Z.size&&2===Z.size.length||N.error("Size parameter should be specified as a [width, height] array.");var ha=Z.as||ia;n(P.materialize(P.SOURCE).source,Z.size,Z.sort,N.array(Z.offset||1),N.array(Z.anchor||la),Z.avoidMarks||[],!1===Z.avoidBaseMark?
!1:!0,Z.lineAnchor||"end",Z.markIndex||0,Z.padding||0,Z.method||"naive").forEach(aa=>{const ta=aa.datum;ta[ha[0]]=aa.x;ta[ha[1]]=aa.y;ta[ha[2]]=aa.opacity;ta[ha[3]]=aa.align;ta[ha[4]]=aa.baseline});return P.reflow(V).modifies(ha)}}});k.label=M;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(27),A(26),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(m,g){var d=[],f=function(O){return O(y)},a;if(null==g)d.push(m);else{var e={};var n=0;for(a=m.length;n<a;++n){var y=m[n];var B=g.map(f);var D=e[B];
D||(e[B]=D=[],D.dims=B,d.push(D));D.push(y)}}return d}function x(m){w.Transform.call(this,null,m)}function v(m){w.Transform.call(this,null,m)}x.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};H.inherits(x,w.Transform,{transform(m,g){const d=g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||
m.modified()){g=g.materialize(g.SOURCE).source;g=N(g,m.groupby);const f=(m.groupby||[]).map(H.accessorName),a=f.length,e=m.as||[H.accessorName(m.x),H.accessorName(m.y)],n=[];g.forEach(y=>{l.regressionLoess(y,m.x,m.y,m.bandwidth||.3).forEach(B=>{const D={};for(let O=0;O<a;++O)D[f[O]]=y.dims[O];D[e[0]]=B[0];D[e[1]]=B[1];n.push(w.ingest(D))})});this.value&&(d.rem=this.value);this.value=d.add=d.source=n}return d}});const u={linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,
quad:l.regressionQuad,poly:l.regressionPoly};v.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(u)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};H.inherits(v,w.Transform,{transform(m,g){const d=
g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||m.modified()){var f=g.materialize(g.SOURCE).source;f=N(f,m.groupby);const a=(m.groupby||[]).map(H.accessorName),e=m.method||"linear",n=m.order||3,y="poly"===e?n:"quad"===e?2:1,B=m.as||[H.accessorName(m.x),H.accessorName(m.y)],D=u[e],O=[];let M=m.extent;H.hasOwnProperty(u,e)||H.error("Invalid regression method: "+e);null!=M&&"log"===e&&0>=M[0]&&(g.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),M=null);f.forEach(F=>
{if(F.length<=y)g.dataflow.warn("Skipping regression with more parameters than data points.");else{var z=D(F,m.x,m.y,n);if(m.params)O.push(w.ingest({keys:F.dims,coef:z.coef,rSquared:z.rSquared}));else{var G=M||H.extent(F,m.x),K=R=>{const T={};for(let ja=0;ja<a.length;++ja)T[a[ja]]=F.dims[ja];T[B[0]]=R[0];T[B[1]]=R[1];O.push(w.ingest(T))};"linear"===e?G.forEach(R=>K([R,z.predict(R)])):l.sampleCurve(z.predict,G,25,200).forEach(K)}}});this.value&&(d.rem=this.value);this.value=d.add=d.source=O}return d}});
k.loess=x;k.regression=v;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[52]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(K,R){K/=Math.abs(K)+Math.abs(R);return(0<R?3-K:1+K)/4}function w(K,R,T,ja){K-=T;R-=ja;return K*K+R*R}function H(K,R,T,ja,fa,ia){ja=(ja-R)*(fa-K);K=(T-K)*(ia-R);return Math.abs(ja-K)>=3.3306690738754716E-16*Math.abs(ja+K)?ja-K:0}function N(K,R,T,ja,fa,ia){return 0>(H(fa,ia,K,R,
T,ja)||H(K,R,T,ja,fa,ia)||H(T,ja,fa,ia,K,R))}function x(K,R,T,ja){if(20>=ja-T)for(var fa=T+1;fa<=ja;fa++){for(var ia=K[fa],la=R[ia],Z=fa-1;Z>=T&&R[K[Z]]>la;)K[Z+1]=K[Z--];K[Z+1]=ia}else{fa=T+1;ia=ja;v(K,T+ja>>1,fa);R[K[T]]>R[K[ja]]&&v(K,T,ja);R[K[fa]]>R[K[ja]]&&v(K,fa,ja);R[K[T]]>R[K[fa]]&&v(K,T,fa);la=K[fa];for(Z=R[la];;){do fa++;while(R[K[fa]]<Z);do ia--;while(R[K[ia]]>Z);if(ia<fa)break;v(K,fa,ia)}K[T+1]=K[ia];K[ia]=la;ja-fa+1>=ia-T?(x(K,R,fa,ja),x(K,R,T,ia-1)):(x(K,R,T,ia-1),x(K,R,fa,ja))}}function v(K,
R,T){const ja=K[R];K[R]=K[T];K[T]=ja}function u(K){return K[0]}function m(K){return K[1]}function g(K){return K[0]}function d(K){return K[1]}function f(K){const {triangles:R,coords:T}=K;for(K=0;K<R.length;K+=3){const ja=2*R[K],fa=2*R[K+1],ia=2*R[K+2];if(1E-10<(T[ia]-T[ja])*(T[fa+1]-T[ja+1])-(T[fa]-T[ja])*(T[ia+1]-T[ja+1]))return!1}return!0}function a(K,R,T){return[K+Math.sin(K+R)*T,R+Math.cos(K-R)*T]}function*e(K,R,T,ja){let fa=0;for(const ia of K)yield R.call(ja,ia,fa,K),yield T.call(ja,ia,fa,K),
++fa}const n=Math.pow(2,-52),y=new Uint32Array(512);class B{static from(K,R=u,T=m){const ja=K.length,fa=new Float64Array(2*ja);for(let ia=0;ia<ja;ia++){const la=K[ia];fa[2*ia]=R(la);fa[2*ia+1]=T(la)}return new B(fa)}constructor(K){const R=K.length>>1;if(0<R&&"number"!==typeof K[0])throw Error("Expected coords to contain numbers.");this.coords=K;K=Math.max(2*R-5,0);this._triangles=new Uint32Array(3*K);this._halfedges=new Int32Array(3*K);this._hashSize=Math.ceil(Math.sqrt(R));this._hullPrev=new Uint32Array(R);
this._hullNext=new Uint32Array(R);this._hullTri=new Uint32Array(R);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(R);this._dists=new Float64Array(R);this.update()}update(){const {coords:K,_hullPrev:R,_hullNext:T,_hullTri:ja,_hullHash:fa}=this;var ia=K.length>>1,la=Infinity,Z=Infinity,P=-Infinity,C=-Infinity;for(var V=0;V<ia;V++){var ha=K[2*V];var aa=K[2*V+1];ha<la&&(la=ha);aa<Z&&(Z=aa);ha>P&&(P=ha);aa>C&&(C=aa);this._ids[V]=V}P=(la+P)/2;Z=(Z+C)/2;la=Infinity;for(C=
0;C<ia;C++)if(V=w(P,Z,K[2*C],K[2*C+1]),V<la){var ta=C;la=V}Z=K[2*ta];C=K[2*ta+1];la=Infinity;for(P=0;P<ia;P++)if(P!==ta&&(V=w(Z,C,K[2*P],K[2*P+1]),V<la&&0<V)){var wa=P;la=V}la=K[2*wa];P=K[2*wa+1];aa=Infinity;for(V=0;V<ia;V++)if(V!==ta&&V!==wa){ha=la-Z;var Ha=P-C;var bb=K[2*V]-Z;var kb=K[2*V+1]-C,va=ha*ha+Ha*Ha,Ta=bb*bb+kb*kb,Ya=.5/(ha*kb-Ha*bb);Ha=(kb*va-Ha*Ta)*Ya;ha=(ha*Ta-bb*va)*Ya;ha=Ha*Ha+ha*ha;if(ha<aa){var Ca=V;aa=ha}}V=K[2*Ca];ha=K[2*Ca+1];if(Infinity===aa){for(ta=0;ta<ia;ta++)this._dists[ta]=
K[2*ta]-K[0]||K[2*ta+1]-K[1];x(this._ids,this._dists,0,ia-1);ta=new Uint32Array(ia);wa=0;for(let ua=0,U=-Infinity;ua<ia;ua++)Ca=this._ids[ua],this._dists[Ca]>U&&(ta[wa++]=Ca,U=this._dists[Ca]);this.hull=ta.subarray(0,wa);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{N(Z,C,la,P,V,ha)&&(aa=wa,bb=la,va=P,wa=Ca,la=V,P=ha,Ca=aa,V=bb,ha=va);bb=la-Z;aa=P-C;va=V-Z;kb=ha-C;Ta=bb*bb+aa*aa;Ya=va*va+kb*kb;Ha=.5/(bb*kb-aa*va);aa=Z+(kb*Ta-aa*Ya)*Ha;bb=C+(bb*Ya-va*Ta)*Ha;this._cx=aa;this._cy=
bb;for(va=0;va<ia;va++)this._dists[va]=w(K[2*va],K[2*va+1],aa,bb);x(this._ids,this._dists,0,ia-1);this._hullStart=ta;ia=3;T[ta]=R[Ca]=wa;T[wa]=R[ta]=Ca;T[Ca]=R[wa]=ta;ja[ta]=0;ja[wa]=1;ja[Ca]=2;fa.fill(-1);fa[this._hashKey(Z,C)]=ta;fa[this._hashKey(la,P)]=wa;fa[this._hashKey(V,ha)]=Ca;this.trianglesLen=0;this._addTriangle(ta,wa,Ca,-1,-1,-1);for(let ua=0,U,W;ua<this._ids.length;ua++){Z=this._ids[ua];C=K[2*Z];la=K[2*Z+1];if(0<ua&&Math.abs(C-U)<=n&&Math.abs(la-W)<=n)continue;U=C;W=la;if(Z===ta||Z===
wa||Z===Ca)continue;P=0;for(let ca=0,ra=this._hashKey(C,la);ca<this._hashSize&&(P=fa[(ra+ca)%this._hashSize],-1===P||P===T[P]);ca++);V=P=R[P];let ba;for(;ba=T[V],!N(C,la,K[2*V],K[2*V+1],K[2*ba],K[2*ba+1]);)if(V=ba,V===P){V=-1;break}if(-1!==V){ha=this._addTriangle(V,Z,T[V],-1,-1,ja[V]);ja[Z]=this._legalize(ha+2);ja[V]=ha;ia++;for(aa=T[V];ba=T[aa],N(C,la,K[2*aa],K[2*aa+1],K[2*ba],K[2*ba+1]);)ha=this._addTriangle(aa,Z,ba,ja[Z],-1,ja[aa]),ja[Z]=this._legalize(ha+2),T[aa]=aa,ia--,aa=ba;if(V===P)for(;ba=
R[V],N(C,la,K[2*ba],K[2*ba+1],K[2*V],K[2*V+1]);)ha=this._addTriangle(ba,Z,V,-1,ja[V],ja[ba]),this._legalize(ha+2),ja[ba]=ha,T[V]=V,ia--,V=ba;this._hullStart=R[Z]=V;T[V]=R[aa]=Z;T[Z]=aa;fa[this._hashKey(C,la)]=Z;fa[this._hashKey(K[2*V],K[2*V+1])]=V}}this.hull=new Uint32Array(ia);for(let ua=0,U=this._hullStart;ua<ia;ua++)this.hull[ua]=U,U=T[U];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(K,R){return Math.floor(l(K-
this._cx,R-this._cy)*this._hashSize)%this._hashSize}_legalize(K){const {_triangles:R,_halfedges:T,coords:ja}=this;let fa=0;for(var ia;;){const ta=T[K];var la=K-K%3;ia=la+(K+2)%3;if(-1===ta){if(0===fa)break;K=y[--fa];continue}const wa=ta-ta%3,Ha=wa+(ta+2)%3;var Z=R[ia],P=R[K],C=R[la+(K+1)%3];la=R[Ha];{var V=ja[2*la],ha=ja[2*la+1];var aa=ja[2*Z]-V;const bb=ja[2*Z+1]-ha,kb=ja[2*P]-V;P=ja[2*P+1]-ha;V=ja[2*C]-V;ha=ja[2*C+1]-ha;C=kb*kb+P*P;const va=V*V+ha*ha;aa=0>aa*(P*va-C*ha)-bb*(kb*va-C*V)+(aa*aa+bb*
bb)*(kb*ha-P*V)}if(aa){R[K]=la;R[ta]=Z;Z=T[Ha];if(-1===Z){la=this._hullStart;do{if(this._hullTri[la]===Ha){this._hullTri[la]=K;break}la=this._hullPrev[la]}while(la!==this._hullStart)}this._link(K,Z);this._link(ta,T[ia]);this._link(ia,Ha);ia=wa+(ta+1)%3;fa<y.length&&(y[fa++]=ia)}else{if(0===fa)break;K=y[--fa]}}return ia}_link(K,R){this._halfedges[K]=R;-1!==R&&(this._halfedges[R]=K)}_addTriangle(K,R,T,ja,fa,ia){const la=this.trianglesLen;this._triangles[la]=K;this._triangles[la+1]=R;this._triangles[la+
2]=T;this._link(la,ja);this._link(la+1,fa);this._link(la+2,ia);this.trianglesLen+=3;return la}}class D{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(K,R){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(K,R){this._+=`L${this._x1=+K},${this._y1=+R}`}arc(K,R,T){K=+K;R=+R;T=+T;const ja=K+T,fa=R;if(0>T)throw Error("negative radius");if(null===this._x1)this._+=`M${ja},${fa}`;else if(1E-6<
Math.abs(this._x1-ja)||1E-6<Math.abs(this._y1-fa))this._+="L"+ja+","+fa;T&&(this._+=`A${T},${T},0,1,1,${K-T},${R}A${T},${T},0,1,1,${this._x1=ja},${this._y1=fa}`)}rect(K,R,T,ja){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}h${+T}v${+ja}h${-T}Z`}value(){return this._||null}}class O{constructor(){this._=[]}moveTo(K,R){this._.push([K,R])}closePath(){this._.push(this._[0].slice())}lineTo(K,R){this._.push([K,R])}value(){return this._.length?this._:null}}class M{constructor(K,[R,T,ja,fa]=[0,
0,960,500]){if(!((ja=+ja)>=(R=+R)&&(fa=+fa)>=(T=+T)))throw Error("invalid bounds");this.delaunay=K;this._circumcenters=new Float64Array(2*K.points.length);this.vectors=new Float64Array(2*K.points.length);this.xmax=ja;this.xmin=R;this.ymax=fa;this.ymin=T;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:K,hull:R,triangles:T},vectors:ja}=this;var fa=this.circumcenters=this._circumcenters.subarray(0,T.length/3*2);for(let aa=0,ta=0,wa=T.length,Ha,bb;aa<
wa;aa+=3,ta+=2){var ia=2*T[aa],la=2*T[aa+1],Z=2*T[aa+2],P=K[ia];ia=K[ia+1];var C=K[Z],V=K[Z+1];Z=K[la]-P;la=K[la+1]-ia;var ha=C-P;const kb=V-ia,va=Z*Z+la*la,Ta=ha*ha+kb*kb,Ya=2*(Z*kb-la*ha);Ya?1E-8>Math.abs(Ya)?(Ha=(P+C)/2,bb=(ia+V)/2):(C=1/Ya,Ha=P+(kb*va-la*Ta)*C,bb=ia+(Z*Ta-ha*va)*C):(Ha=(P+C)/2-1E8*kb,bb=(ia+V)/2+1E8*ha);fa[ta]=Ha;fa[ta+1]=bb}fa=R[R.length-1];ia=4*fa;Z=K[2*fa];la=K[2*fa+1];ja.fill(0);for(ha=0;ha<R.length;++ha)fa=R[ha],P=ia,C=Z,V=la,ia=4*fa,Z=K[2*fa],la=K[2*fa+1],ja[P+2]=ja[ia]=
V-la,ja[P+3]=ja[ia+1]=Z-C}render(K){const R=null==K?K=new D:void 0,{delaunay:{halfedges:T,inedges:ja,hull:fa},circumcenters:ia,vectors:la}=this;if(1>=fa.length)return null;for(let ha=0,aa=T.length;ha<aa;++ha){var Z=T[ha];if(!(Z<ha)){var P=2*Math.floor(ha/3);Z=2*Math.floor(Z/3);this._renderSegment(ia[P],ia[P+1],ia[Z],ia[Z+1],K)}}P=fa[fa.length-1];for(Z=0;Z<fa.length;++Z){var C=P;P=fa[Z];var V=2*Math.floor(ja[P]/3);const ha=ia[V];V=ia[V+1];C*=4;(C=this._project(ha,V,la[C+2],la[C+3]))&&this._renderSegment(ha,
V,C[0],C[1],K)}return R&&R.value()}renderBounds(K){const R=null==K?K=new D:void 0;K.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return R&&R.value()}renderCell(K,R){const T=null==R?R=new D:void 0;K=this._clip(K);if(null!==K&&K.length){R.moveTo(K[0],K[1]);for(var ja=K.length;K[0]===K[ja-2]&&K[1]===K[ja-1]&&1<ja;)ja-=2;for(let fa=2;fa<ja;fa+=2)K[fa]===K[fa-2]&&K[fa+1]===K[fa-1]||R.lineTo(K[fa],K[fa+1]);R.closePath();return T&&T.value()}}*cellPolygons(){var {delaunay:{points:K}}=
this;for(let R=0,T=K.length/2;R<T;++R)if(K=this.cellPolygon(R))K.index=R,yield K}cellPolygon(K){const R=new O;this.renderCell(K,R);return R.value()}_renderSegment(K,R,T,ja,fa){const ia=this._regioncode(K,R),la=this._regioncode(T,ja);if(0===ia&&0===la)fa.moveTo(K,R),fa.lineTo(T,ja);else if(K=this._clipSegment(K,R,T,ja,ia,la))fa.moveTo(K[0],K[1]),fa.lineTo(K[2],K[3])}contains(K,R,T){return(R=+R,R!==R)||(T=+T,T!==T)?!1:this.delaunay._step(K,R,T)===K}*neighbors(K){const R=this._clip(K);if(R)for(const T of this.delaunay.neighbors(K))if(K=
this._clip(T))a:for(let ja=0,fa=R.length;ja<fa;ja+=2)for(let ia=0,la=K.length;ia<la;ia+=2)if(R[ja]==K[ia]&&R[ja+1]==K[ia+1]&&R[(ja+2)%fa]==K[(ia+la-2)%la]&&R[(ja+3)%fa]==K[(ia+la-1)%la]){yield T;break a}}_cell(K){const {circumcenters:R,delaunay:{inedges:T,halfedges:ja,triangles:fa}}=this,ia=T[K];if(-1===ia)return null;const la=[];let Z=ia;do{const P=Math.floor(Z/3);la.push(R[2*P],R[2*P+1]);Z=2===Z%3?Z-2:Z+1;if(fa[Z]!==K)break;Z=ja[Z]}while(Z!==ia&&-1!==Z);return la}_clip(K){if(0===K&&1===this.delaunay.hull.length)return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const R=this._cell(K);if(null===R)return null;const {vectors:T}=this,ja=4*K;return T[ja]||T[ja+1]?this._clipInfinite(K,R,T[ja],T[ja+1],T[ja+2],T[ja+3]):this._clipFinite(K,R)}_clipFinite(K,R){const T=R.length;let ja=null;let fa=R[T-2],ia=R[T-1];let la=this._regioncode(fa,ia),Z;for(let ha=0;ha<T;ha+=2){var P=fa;var C=ia;fa=R[ha];ia=R[ha+1];var V=la;la=this._regioncode(fa,ia);if(0===V&&0===la)Z=0,ja?ja.push(fa,ia):ja=[fa,ia];else{let aa,
ta;if(0===V){if(null===(P=this._clipSegment(P,C,fa,ia,V,la)))continue;[C,V,aa,ta]=P}else{if(null===(P=this._clipSegment(fa,ia,P,C,la,V)))continue;[aa,ta,C,V]=P;P=Z;Z=this._edgecode(C,V);P&&Z&&this._edge(K,P,Z,ja,ja.length);ja?ja.push(C,V):ja=[C,V]}P=Z;Z=this._edgecode(aa,ta);P&&Z&&this._edge(K,P,Z,ja,ja.length);ja?ja.push(aa,ta):ja=[aa,ta]}}if(ja)P=Z,Z=this._edgecode(ja[0],ja[1]),P&&Z&&this._edge(K,P,Z,ja,ja.length);else if(this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ja}_clipSegment(K,R,T,ja,fa,ia){for(;;){if(0===fa&&0===ia)return[K,R,T,ja];if(fa&ia)return null;var la=void 0;let Z;la=fa||ia;la&8?(la=K+(T-K)*(this.ymax-R)/(ja-R),Z=this.ymax):la&4?(la=K+(T-K)*(this.ymin-R)/(ja-R),Z=this.ymin):la&2?(Z=R+(ja-R)*(this.xmax-K)/(T-K),la=this.xmax):(Z=R+(ja-R)*(this.xmin-K)/(T-K),la=this.xmin);fa?(K=la,R=Z,fa=this._regioncode(K,R)):(T=la,ja=Z,ia=this._regioncode(T,ja))}}_clipInfinite(K,R,T,
ja,fa,ia){R=Array.from(R);let la;(la=this._project(R[0],R[1],T,ja))&&R.unshift(la[0],la[1]);(la=this._project(R[R.length-2],R[R.length-1],fa,ia))&&R.push(la[0],la[1]);if(R=this._clipFinite(K,R))for(let Z=0,P=R.length,C,V=this._edgecode(R[P-2],R[P-1]);Z<P;Z+=2)C=V,V=this._edgecode(R[Z],R[Z+1]),C&&V&&(Z=this._edge(K,C,V,R,Z),P=R.length);else this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(R=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return R}_edge(K,
R,T,ja,fa){for(;R!==T;){let ia,la;switch(R){case 5:R=4;continue;case 4:R=6;ia=this.xmax;la=this.ymin;break;case 6:R=2;continue;case 2:R=10;ia=this.xmax;la=this.ymax;break;case 10:R=8;continue;case 8:R=9;ia=this.xmin;la=this.ymax;break;case 9:R=1;continue;case 1:R=5,ia=this.xmin,la=this.ymin}ja[fa]===ia&&ja[fa+1]===la||!this.contains(K,ia,la)||(ja.splice(fa,0,ia,la),fa+=2)}if(4<ja.length)for(K=0;K<ja.length;K+=2)if(R=(K+2)%ja.length,T=(K+4)%ja.length,ja[K]===ja[R]&&ja[R]===ja[T]||ja[K+1]===ja[R+1]&&
ja[R+1]===ja[T+1])ja.splice(R,2),K-=2;return fa}_project(K,R,T,ja){let fa=Infinity,ia,la,Z;if(0>ja){if(R<=this.ymin)return null;(ia=(this.ymin-R)/ja)<fa&&(Z=this.ymin,la=K+(fa=ia)*T)}else if(0<ja){if(R>=this.ymax)return null;(ia=(this.ymax-R)/ja)<fa&&(Z=this.ymax,la=K+(fa=ia)*T)}if(0<T){if(K>=this.xmax)return null;(ia=(this.xmax-K)/T)<fa&&(la=this.xmax,Z=R+ia*ja)}else if(0>T){if(K<=this.xmin)return null;(ia=(this.xmin-K)/T)<fa&&(la=this.xmin,Z=R+ia*ja)}return[la,Z]}_edgecode(K,R){return(K===this.xmin?
1:K===this.xmax?2:0)|(R===this.ymin?4:R===this.ymax?8:0)}_regioncode(K,R){return(K<this.xmin?1:K>this.xmax?2:0)|(R<this.ymin?4:R>this.ymax?8:0)}}const F=2*Math.PI,z=Math.pow;class G{static from(K,R=g,T=d,ja){if("length"in K){{const fa=K.length,ia=new Float64Array(2*fa);for(let la=0;la<fa;++la){const Z=K[la];ia[2*la]=R.call(ja,Z,la,K);ia[2*la+1]=T.call(ja,Z,la,K)}K=ia}}else K=Float64Array.from(e(K,R,T,ja));return new G(K)}constructor(K){this._delaunator=new B(K);this.inedges=new Int32Array(K.length/
2);this._hullIndex=new Int32Array(K.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var K=this._delaunator;const R=this.points;if(K.hull&&2<K.hull.length&&f(K)){this.collinear=Int32Array.from({length:R.length/2},(la,Z)=>Z).sort((la,Z)=>R[2*la]-R[2*Z]||R[2*la+1]-R[2*Z+1]);K=this.collinear[0];var T=this.collinear[this.collinear.length-1];K=[R[2*K],R[2*K+1],R[2*T],R[2*T+1]];K=1E-8*Math.hypot(K[3]-K[1],K[2]-K[0]);for(let la=
0,Z=R.length/2;la<Z;++la)T=a(R[2*la],R[2*la+1],K),R[2*la]=T[0],R[2*la+1]=T[1];this._delaunator=new B(R)}else delete this.collinear;K=this.halfedges=this._delaunator.halfedges;T=this.hull=this._delaunator.hull;const ja=this.triangles=this._delaunator.triangles,fa=this.inedges.fill(-1),ia=this._hullIndex.fill(-1);for(let la=0,Z=K.length;la<Z;++la){const P=ja[2===la%3?la-2:la+1];if(-1===K[la]||-1===fa[P])fa[P]=la}for(let la=0,Z=T.length;la<Z;++la)ia[T[la]]=la;2>=T.length&&0<T.length&&(this.triangles=
(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=T[0],this.triangles[1]=T[1],this.triangles[2]=T[1],fa[T[0]]=1,2===T.length&&(fa[T[1]]=0))}voronoi(K){return new M(this,K)}*neighbors(K){const {inedges:R,hull:T,_hullIndex:ja,halfedges:fa,triangles:ia,collinear:la}=this;if(la){var Z=la.indexOf(K);0<Z&&(yield la[Z-1]);Z<la.length-1&&(yield la[Z+1])}else{var P=R[K];if(-1!==P){var C=P;do{yield(Z=ia[C]);C=2===C%3?C-2:C+1;if(ia[C]!==K)break;C=fa[C];if(-1===C){K=T[(ja[K]+
1)%T.length];K!==Z&&(yield K);break}}while(C!==P)}}}find(K,R,T=0){if((K=+K,K!==K)||(R=+R,R!==R))return-1;const ja=T;let fa;for(;0<=(fa=this._step(T,K,R))&&fa!==T&&fa!==ja;)T=fa;return fa}_step(K,R,T){const {inedges:ja,hull:fa,_hullIndex:ia,halfedges:la,triangles:Z,points:P}=this;if(-1===ja[K]||!P.length)return(K+1)%(P.length>>1);let C=K,V=z(R-P[2*K],2)+z(T-P[2*K+1],2);const ha=ja[K];let aa=ha;do{let ta=Z[aa];const wa=z(R-P[2*ta],2)+z(T-P[2*ta+1],2);wa<V&&(V=wa,C=ta);aa=2===aa%3?aa-2:aa+1;if(Z[aa]!==
K)break;aa=la[aa];if(-1===aa){aa=fa[(ia[K]+1)%fa.length];if(aa!==ta&&z(R-P[2*aa],2)+z(T-P[2*aa+1],2)<V)return aa;break}}while(aa!==ha);return C}render(K){const R=null==K?K=new D:void 0,{points:T,halfedges:ja,triangles:fa}=this;for(let la=0,Z=ja.length;la<Z;++la){var ia=ja[la];if(ia<la)continue;const P=2*fa[la];ia=2*fa[ia];K.moveTo(T[P],T[P+1]);K.lineTo(T[ia],T[ia+1])}this.renderHull(K);return R&&R.value()}renderPoints(K,R=2){const T=null==K?K=new D:void 0,{points:ja}=this;for(let fa=0,ia=ja.length;fa<
ia;fa+=2){const la=ja[fa],Z=ja[fa+1];K.moveTo(la+R,Z);K.arc(la,Z,R,0,F)}return T&&T.value()}renderHull(K){const R=null==K?K=new D:void 0,{hull:T,points:ja}=this;var fa=2*T[0];const ia=T.length;K.moveTo(ja[fa],ja[fa+1]);for(fa=1;fa<ia;++fa){const la=2*T[fa];K.lineTo(ja[la],ja[la+1])}K.closePath();return R&&R.value()}hullPolygon(){const K=new O;this.renderHull(K);return K.value()}renderTriangle(K,R){const T=null==R?R=new D:void 0,{points:ja,triangles:fa}=this,ia=2*fa[K*=3],la=2*fa[K+1];K=2*fa[K+2];
R.moveTo(ja[ia],ja[ia+1]);R.lineTo(ja[la],ja[la+1]);R.lineTo(ja[K],ja[K+1]);R.closePath();return T&&T.value()}*trianglePolygons(){const {triangles:K}=this;for(let R=0,T=K.length/3;R<T;++R)yield this.trianglePolygon(R)}trianglePolygon(K){const R=new O;this.renderTriangle(K,R);return R.value()}}k.Delaunay=G;k.Voronoi=M;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(52)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(v){l.Transform.call(this,null,v)}N.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},
{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const x=[-1E5,-1E5,1E5,1E5];w.inherits(N,l.Transform,{transform(v,u){const m=v.as||"path",g=u.source;if(!g||!g.length)return u;var d=v.size;d=d?[0,0,d[0],d[1]]:(d=v.extent)?[d[0][0],d[0][1],d[1][0],d[1][1]]:x;d=this.value=H.Delaunay.from(g,v.x,v.y).voronoi(d);
for(let e=0,n=g.length;e<n;++e){var f=d.cellPolygon(e),a=g[e];if(f){{const y=f[0][0],B=f[0][1];let D=f.length-1;for(;f[D][0]===y&&f[D][1]===B;--D);f="M"+f.slice(0,D+1).join("L")+"Z"}}else f=null;a[m]=f}return u.reflow(v.modified()).modifies(m)}});k.voronoi=N;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[54]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(31),A(26),A(14),A(35),A(27)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x){function v(){function D(P){P.width=P.height=1;var C=Math.sqrt(P.getContext("2d").getImageData(0,
0,1,1).data.length>>2);P.width=2048/C;P.height=2048/C;P=P.getContext("2d");P.fillStyle=P.strokeStyle="red";P.textAlign="center";return{context:P,ratio:C}}function O(P,C,V){for(var ha=C.x,aa=C.y,ta=Math.sqrt(M[0]*M[0]+M[1]*M[1]),wa=fa(M),Ha=.5>la()?1:-1,bb=-Ha,kb,va;kb=wa(bb+=Ha);){va=~~kb[0];kb=~~kb[1];if(Math.min(Math.abs(va),Math.abs(kb))>=ta)break;C.x=ha+va;C.y=aa+kb;if(!(0>C.x+C.x0||0>C.y+C.y0||C.x+C.x1>M[0]||C.y+C.y1>M[1])){if(!(va=!V)){a:{va=M[0];va>>=5;kb=C.sprite;var Ta=C.width>>5;var Ya=
C.x-(Ta<<4);for(var Ca=Ya&127,ua=32-Ca,U=C.y1-C.y0,W=(C.y+C.y0)*va+(Ya>>5),ba=0;ba<U;ba++){for(var ca=Ya=0;ca<=Ta;ca++)if((Ya<<ua|(ca<Ta?(Ya=kb[ba*Ta+ca])>>>Ca:0))&P[W+ca]){va=!0;break a}W+=va}va=!1}va=!va}if(va&&(!V||C.x+C.x1>V[0].x&&C.x+C.x0<V[1].x&&C.y+C.y1>V[0].y&&C.y+C.y0<V[1].y)){V=C.sprite;ha=C.width>>5;aa=M[0]>>5;bb=C.x-(ha<<4);ta=bb&127;wa=32-ta;Ha=C.y1-C.y0;bb=(C.y+C.y0)*aa+(bb>>5);for(kb=0;kb<Ha;kb++){for(Ta=va=0;Ta<=ha;Ta++)P[bb+Ta]=P[bb+Ta]|va<<wa|(Ta<ha?(va=V[kb*ha+Ta])>>>ta:0);bb+=
aa}C.sprite=null;return!0}}}return!1}var M=[256,256],F,z,G,K,R,T,ja,fa=g,ia=[],la=Math.random,Z={layout:function(){for(var P=D(l.canvas()),C=d((M[0]>>5)*M[1]),V=null,ha=ia.length,aa=-1,ta=[],wa=ia.map(bb=>({text:F(bb),font:z(bb),style:K(bb),weight:R(bb),rotate:T(bb),size:~~(G(bb)+1E-14),padding:ja(bb),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:bb})).sort((bb,kb)=>kb.size-bb.size);++aa<ha;){var Ha=wa[aa];Ha.x=M[0]*(la()+.5)>>1;Ha.y=M[1]*(la()+.5)>>1;u(P,Ha,wa,aa);Ha.hasText&&O(C,
Ha,V)&&(ta.push(Ha),V?m(V,Ha):V=[{x:Ha.x+Ha.x0,y:Ha.y+Ha.y0},{x:Ha.x+Ha.x1,y:Ha.y+Ha.y1}],Ha.x-=M[0]>>1,Ha.y-=M[1]>>1)}return ta},words:function(P){return arguments.length?(ia=P,Z):ia},size:function(P){return arguments.length?(M=[+P[0],+P[1]],Z):M},font:function(P){return arguments.length?(z=f(P),Z):z},fontStyle:function(P){return arguments.length?(K=f(P),Z):K},fontWeight:function(P){return arguments.length?(R=f(P),Z):R},rotate:function(P){return arguments.length?(T=f(P),Z):T},text:function(P){return arguments.length?
(F=f(P),Z):F},spiral:function(P){return arguments.length?(fa=n[P]||P,Z):fa},fontSize:function(P){return arguments.length?(G=f(P),Z):G},padding:function(P){return arguments.length?(ja=f(P),Z):ja},random:function(P){return arguments.length?(la=P,Z):la}};return Z}function u(D,O,M,F){if(!O.sprite){var z=D.context,G=D.ratio;z.clearRect(0,0,2048/G,2048/G);var K=D=0,R=0,T=M.length;for(--F;++F<T;){O=M[F];z.save();z.font=O.style+" "+O.weight+" "+~~((O.size+1)/G)+"px "+O.font;var ja=z.measureText(O.text+"m").width*
G;var fa=O.size<<1;if(O.rotate){var ia=Math.sin(O.rotate*e),la=Math.cos(O.rotate*e),Z=ja*la,P=ja*ia;la*=fa;ja=fa*ia;ja=Math.max(Math.abs(Z+ja),Math.abs(Z-ja))+31>>5<<5;fa=~~Math.max(Math.abs(P+la),Math.abs(P-la))}else ja=ja+31>>5<<5;fa>R&&(R=fa);2048<=D+ja&&(D=0,K+=R,R=0);if(2048<=K+fa)break;z.translate((D+(ja>>1))/G,(K+(fa>>1))/G);O.rotate&&z.rotate(O.rotate*e);z.fillText(O.text,0,0);O.padding&&(z.lineWidth=2*O.padding,z.strokeText(O.text,0,0));z.restore();O.width=ja;O.height=fa;O.xoff=D;O.yoff=
K;O.x1=ja>>1;O.y1=fa>>1;O.x0=-O.x1;O.y0=-O.y1;O.hasText=!0;D+=ja}T=z.getImageData(0,0,2048/G,2048/G).data;for(Z=[];0<=--F;)if(O=M[F],O.hasText){ja=O.width;z=ja>>5;fa=O.y1-O.y0;for(G=0;G<fa*z;G++)Z[G]=0;D=O.xoff;if(null==D)break;K=O.yoff;P=0;ia=-1;for(R=0;R<fa;R++){for(G=0;G<ja;G++)la=T[2048*(K+R)+(D+G)<<2]?1<<31-G%32:0,Z[z*R+(G>>5)]|=la,P|=la;P?ia=R:(O.y0++,fa--,R--,K++)}O.y1=O.y0+ia;O.sprite=Z.slice(0,(O.y1-O.y0)*z)}}}function m(D,O){var M=D[0];D=D[1];O.x+O.x0<M.x&&(M.x=O.x+O.x0);O.y+O.y0<M.y&&(M.y=
O.y+O.y0);O.x+O.x1>D.x&&(D.x=O.x+O.x1);O.y+O.y1>D.y&&(D.y=O.y+O.y1)}function g(D){var O=D[0]/D[1];return function(M){return[O*(M*=.1)*Math.cos(M),M*Math.sin(M)]}}function d(D){for(var O=[],M=-1;++M<D;)O[M]=0;return O}function f(D){return"function"===typeof D?D:function(){return D}}function a(D){w.Transform.call(this,v(),D)}var e=Math.PI/180,n={archimedean:g,rectangular:function(D){var O=4*D[0]/D[1],M=0,F=0;return function(z){var G=0>z?-1:1;switch(Math.sqrt(1+4*G*z)-G&3){case 0:M+=O;break;case 1:F+=
4;break;case 2:M-=O;break;default:F-=4}return[M,F]}}};const y="x y font fontSize fontStyle fontWeight angle".split(" "),B="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",
expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":y}]};H.inherits(a,w.Transform,{transform(D,O){function M(ja){ja=D[ja];return H.isFunction(ja)&&O.modified(ja.fields)}!D.size||D.size[0]&&D.size[1]||H.error("Wordcloud size dimensions must be non-zero.");
const F=D.modified();if(F||O.changed(O.ADD_REM)||B.some(M)){var z=O.materialize(O.SOURCE).source,G=this.value,K=D.as||y,R=D.fontSize||14,T;H.isFunction(R)?T=D.fontSizeRange:R=H.constant(R);if(T){const ja=R,fa=N.scale("sqrt")().domain(H.extent(z,ja)).range(T);R=ia=>fa(ja(ia))}z.forEach(ja=>{ja[K[0]]=NaN;ja[K[1]]=NaN;ja[K[3]]=0});z=G.words(z).text(D.text).size(D.size||[500,500]).padding(D.padding||1).spiral(D.spiral||"archimedean").rotate(D.rotate||0).font(D.font||"sans-serif").fontStyle(D.fontStyle||
"normal").fontWeight(D.fontWeight||"normal").fontSize(R).random(x.random).layout();R=G.size();G=R[0]>>1;R=R[1]>>1;T=z.length;for(let ja=0,fa,ia;ja<T;++ja)fa=z[ja],ia=fa.datum,ia[K[0]]=fa.x+G,ia[K[1]]=fa.y+R,ia[K[2]]=fa.font,ia[K[3]]=fa.size,ia[K[4]]=fa.style,ia[K[5]]=fa.weight,ia[K[6]]=fa.rotate;return O.reflow(F).modifies(K)}}});k.wordcloud=a;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[55]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(26),A(14)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.d3,k.vega,k.vega))})(this,function(k,l,w,H){function N(){let n=8,y=[],B=new Uint32Array(0),D=x(0,n),O=x(0,n);return{data:()=>y,seen:()=>{var M=B;var F=y.length;M.length>=F||(F=new M.constructor(F),
F.set(M),M=F);return B=M},add(M){for(let F=0,z=y.length,G=M.length,K;F<G;++F)K=M[F],K._index=z++,y.push(K)},remove(M,F){const z=y.length;M=Array(z-M);const G=y;let K,R,T;for(R=0;!F[R]&&R<z;++R)M[R]=y[R],G[R]=R;for(T=R;R<z;++R)K=y[R],F[R]?G[R]=-1:(G[R]=T,D[T]=D[R],O[T]=O[R],M[T]=K,K._index=T++),D[R]=0;y=M;return G},size:()=>y.length,curr:()=>D,prev:()=>O,reset:M=>O[M]=D[M],all:()=>257>n?255:65537>n?65535:4294967295,set(M,F){D[M]|=F},clear(M,F){D[M]&=~F},resize(M,F){if(M>D.length||F>n)n=Math.max(F,
n),D=x(M,n,D),O=x(M,n)}}}function x(n,y,B){n=(257>y?f:65537>y?a:e)(n);B&&n.set(B);return n}function v(n,y,B){const D=1<<y;return{one:D,zero:~D,range:B.slice(),bisect:n.bisect,index:n.index,size:n.size,onAdd(O,M){var F=this.bisect(this.range,O.value);O=O.index;const z=F[0];F=F[1];const G=O.length;let K;for(K=0;K<z;++K)M[O[K]]|=D;for(K=F;K<G;++K)M[O[K]]|=D;return this}}}function u(){let n=new Uint32Array(0),y=[],B=0;return{insert:function(D,O,M){if(!O.length)return[];const F=B,z=O.length,G=new Uint32Array(z);
let K=Array(z);var R;for(R=0;R<z;++R)K[R]=D(O[R]),G[R]=R;K=m(K,G);if(F){D=y;O=n;y=Array(F+z);n=new Uint32Array(F+z);{R=K;var T=y,ja=n;let fa=0,ia=0,la;for(la=0;fa<F&&ia<z;++la)D[fa]<R[ia]?(T[la]=D[fa],ja[la]=O[fa++]):(T[la]=R[ia],ja[la]=G[ia++]+M);for(;fa<F;++fa,++la)T[la]=D[fa],ja[la]=O[fa];for(;ia<z;++ia,++la)T[la]=R[ia],ja[la]=G[ia]+M}}else{if(0<M)for(R=0;R<z;++R)G[R]+=M;y=K;n=G}B=F+z;return{index:G,value:K}},remove:function(D,O){const M=B;let F,z,G;for(z=0;!O[n[z]]&&z<M;++z);for(G=z;z<M;++z)O[F=
n[z]]||(n[G]=F,y[G]=y[z],++G);B=M-D},bisect:function(D,O){let M;O?M=O.length:(O=y,M=B);return[l.bisectLeft(O,D[0],0,M),l.bisectRight(O,D[1],0,M)]},reindex:function(D){for(let O=0,M=B;O<M;++O)n[O]=D[n[O]]},index:()=>n,size:()=>B}}function m(n,y){n.sort.call(y,(B,D)=>{B=n[B];D=n[D];return B<D?-1:B>D?1:0});return l.permute(n,y)}function g(n){w.Transform.call(this,N(),n);this._dims=this._indices=null}function d(n){w.Transform.call(this,null,n)}const f=n=>new Uint8Array(n),a=n=>new Uint16Array(n),e=n=>
new Uint32Array(n);g.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};H.inherits(g,w.Transform,{transform(n,y){return this._dims?n.modified("fields")||n.fields.some(B=>y.modified(B.fields))?this.reinit(n,y):this.eval(n,y):this.init(n,y)},init(n,y){const B=n.fields,D=n.query,O=this._indices={},M=this._dims=[],F=D.length;let z=0;for(var G;z<F;++z)G=B[z].fname,
G=O[G]||(O[G]=u()),M.push(v(G,z,D[z]));return this.eval(n,y)},reinit(n,y){const B=y.materialize().fork(),D=n.fields,O=n.query,M=this._indices,F=this._dims,z=this.value,G=z.curr(),K=z.prev(),R=z.all(),T=B.rem=B.add,ja=B.mod,fa=O.length,ia={};let la;var Z;let P,C,V,ha;K.set(G);y.rem.length&&(P=this.remove(n,y,B));y.add.length&&z.add(y.add);if(y.mod.length){C={};var aa=y.mod;V=0;for(Z=aa.length;V<Z;++V)C[aa[V]._index]=1}for(V=0;V<fa;++V)if(ha=D[V],!F[V]||n.modified("fields",V)||y.modified(ha.fields))Z=
ha.fname,(aa=ia[Z])||(M[Z]=la=u(),ia[Z]=aa=la.insert(ha,y.source,0)),F[V]=v(la,V,O[V]).onAdd(aa,G);V=0;for(Z=z.data().length;V<Z;++V)P[V]||(K[V]!==G[V]?T.push(V):C[V]&&G[V]!==R&&ja.push(V));z.mask=(1<<fa)-1;return B},eval(n,y){const B=y.materialize().fork(),D=this._dims.length;let O=0;y.rem.length&&(this.remove(n,y,B),O|=(1<<D)-1);n.modified("query")&&!n.modified("fields")&&(O|=this.update(n,y,B));y.add.length&&(this.insert(n,y,B),O|=(1<<D)-1);y.mod.length&&(this.modify(y,B),O|=(1<<D)-1);this.value.mask=
O;return B},insert(n,y,B){y=y.add;var D=this.value;const O=this._dims,M=this._indices;n=n.fields;const F={};B=B.add;const z=D.size()+y.length,G=O.length;let K=D.size();D.resize(z,G);D.add(y);const R=D.curr(),T=D.prev(),ja=D.all();for(D=0;D<G;++D){var fa=n[D].fname;fa=F[fa]||(F[fa]=M[fa].insert(n[D],y,K));O[D].onAdd(fa,R)}for(;K<z;++K)T[K]=ja,R[K]!==ja&&B.push(K)},modify(n,y){y=y.mod;var B=this.value;const D=B.curr();B=B.all();n=n.mod;let O,M,F;O=0;for(M=n.length;O<M;++O)F=n[O]._index,D[F]!==B&&y.push(F)},
remove(n,y,B){n=this._indices;var D=this.value;const O=D.curr(),M=D.prev();D=D.all();const F={};B=B.rem;const z=y.rem;let G,K,R,T;G=0;for(K=z.length;G<K;++G)R=z[G]._index,F[R]=1,M[R]=T=O[R],O[R]=D,T!==D&&B.push(R);for(R in n)n[R].remove(K,F);this.reindex(y,K,F);return F},reindex(n,y,B){const D=this._indices,O=this.value;n.runAfter(()=>{const M=O.remove(y,B);for(const F in D)D[F].reindex(M)})},update(n,y,B){const D=this._dims,O=n.query;y=y.stamp;const M=D.length;let F=0,z,G;for(G=B.filters=0;G<M;++G)n.modified("query",
G)&&(z=G,++F);if(1===F)F=D[z].one,this.incrementOne(D[z],O[z],B.add,B.rem);else for(F=G=0;G<M;++G)n.modified("query",G)&&(F|=D[G].one,this.incrementAll(D[G],O[G],y,B.add),B.rem=B.add);return F},incrementAll(n,y,B,D){var O=this.value;const M=O.seen(),F=O.curr();O=O.prev();const z=n.index();var G=n.bisect(n.range),K=n.bisect(y);const R=K[0];K=K[1];const T=G[0];G=G[1];const ja=n.one;let fa,ia,la;if(R<T)for(fa=R,ia=Math.min(T,K);fa<ia;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;
else if(R>T)for(fa=T,ia=Math.min(R,G);fa<ia;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;if(K>G)for(fa=Math.max(R,G),ia=K;fa<ia;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;else if(K<G)for(fa=Math.max(T,K),ia=G;fa<ia;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;n.range=y.slice()},incrementOne(n,y,B,D){const O=this.value.curr(),M=n.index();var F=n.bisect(n.range),z=n.bisect(y);const G=z[0];z=z[1];const K=F[0];F=F[1];const R=n.one;
let T,ja,fa;if(G<K)for(T=G,ja=Math.min(K,z);T<ja;++T)fa=M[T],O[fa]^=R,B.push(fa);else if(G>K)for(T=K,ja=Math.min(G,F);T<ja;++T)fa=M[T],O[fa]^=R,D.push(fa);if(z>F)for(T=Math.max(G,F),ja=z;T<ja;++T)fa=M[T],O[fa]^=R,B.push(fa);else if(z<F)for(T=Math.max(K,z),ja=F;T<ja;++T)fa=M[T],O[fa]^=R,D.push(fa);n.range=y.slice()}});d.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",
required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};H.inherits(d,w.Transform,{transform(n,y){const B=~(n.ignore||0);n=n.filter;const D=n.mask;if(0===(D&B))return y.StopPropagation;y=y.fork(y.ALL);const O=n.data(),M=n.curr(),F=n.prev(),z=G=>M[G]&B?null:O[G];y.filter(y.MOD,z);D&D-1?(y.filter(y.ADD,G=>{const K=M[G]&B;return!K&&K^F[G]&B?O[G]:null}),y.filter(y.REM,G=>{const K=M[G]&B;return!K||K^K^F[G]&B?null:O[G]})):(y.filter(y.ADD,z),y.filter(y.REM,G=>(M[G]&B)===D?O[G]:
null));return y.filter(y.SOURCE,G=>z(G._index))}});k.crossfilter=g;k.resolvefilter=d;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[56]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega))})(this,function(k,l){function w(U){this.type=U}function H(U){switch(U.type){case "ArrayExpression":return U.elements;case "BinaryExpression":case "LogicalExpression":return[U.left,U.right];case "CallExpression":return[U.callee].concat(U.arguments);
case "ConditionalExpression":return[U.test,U.consequent,U.alternate];case "MemberExpression":return[U.object,U.property];case "ObjectExpression":return U.properties;case "Property":return[U.key,U.value];case "UnaryExpression":return[U.argument];default:return[]}}function N(U,W){if(!U)throw Error("ASSERT: "+W);}function x(U){return 48<=U&&57>=U}function v(U){return 0<="0123456789abcdefABCDEF".indexOf(U)}function u(U){return 0<="01234567".indexOf(U)}function m(U){return 10===U||13===U||8232===U||8233===
U}function g(U){return 36===U||95===U||65<=U&&90>=U||97<=U&&122>=U||92===U||128<=U&&va.test(String.fromCharCode(U))}function d(U){return 36===U||95===U||65<=U&&90>=U||97<=U&&122>=U||48<=U&&57>=U||92===U||128<=U&&Ta.test(String.fromCharCode(U))}function f(){for(;Ha<bb;){const U=wa.charCodeAt(Ha);if(32===U||9===U||11===U||12===U||160===U||5760<=U&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(U)||m(U))++Ha;else break}}function a(U){var W=0;var ba=
"u"===U?4:2;for(U=0;U<ba;++U)if(Ha<bb&&v(wa[Ha])){var ca=wa[Ha++];W=16*W+"0123456789abcdef".indexOf(ca.toLowerCase())}else T({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(W)}function e(){var U=wa.charCodeAt(Ha++);var W=String.fromCharCode(U);92===U&&(117!==wa.charCodeAt(Ha)&&T({},"Unexpected token %0","ILLEGAL"),++Ha,(U=a("u"))&&"\\"!==U&&g(U.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),W=U);for(;Ha<bb;){U=wa.charCodeAt(Ha);if(!d(U))break;++Ha;W+=String.fromCharCode(U);92===
U&&(W=W.substr(0,W.length-1),117!==wa.charCodeAt(Ha)&&T({},"Unexpected token %0","ILLEGAL"),++Ha,(U=a("u"))&&"\\"!==U&&d(U.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),W+=U)}return W}function n(){var U=Ha,W=wa.charCodeAt(Ha),ba=wa[Ha];switch(W){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ha,{type:7,value:String.fromCharCode(W),start:U,end:Ha};default:var ca=wa.charCodeAt(Ha+1);if(61===ca)switch(W){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ha+=
2,{type:7,value:String.fromCharCode(W)+String.fromCharCode(ca),start:U,end:Ha};case 33:case 61:return Ha+=2,61===wa.charCodeAt(Ha)&&++Ha,{type:7,value:wa.slice(U,Ha),start:U,end:Ha}}}W=wa.substr(Ha,4);if("\x3e\x3e\x3e\x3d"===W)return Ha+=4,{type:7,value:W,start:U,end:Ha};W=W.substr(0,3);if("\x3e\x3e\x3e"===W||"\x3c\x3c\x3d"===W||"\x3e\x3e\x3d"===W)return Ha+=3,{type:7,value:W,start:U,end:Ha};W=W.substr(0,2);if(ba===W[1]&&0<="+-\x3c\x3e\x26|".indexOf(ba)||"\x3d\x3e"===W)return Ha+=2,{type:7,value:W,
start:U,end:Ha};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(ba))return++Ha,{type:7,value:ba,start:U,end:Ha};T({},"Unexpected token %0","ILLEGAL")}function y(){var U=wa[Ha];N(x(U.charCodeAt(0))||"."===U,"Numeric literal must start with a decimal digit or a decimal point");var W=Ha;var ba="";if("."!==U){ba=wa[Ha++];U=wa[Ha];if("0"===ba){if("x"===U||"X"===U){++Ha;for(ba="";Ha<bb&&v(wa[Ha]);)ba+=wa[Ha++];0===ba.length&&T({},"Unexpected token %0","ILLEGAL");g(wa.charCodeAt(Ha))&&T({},"Unexpected token %0",
"ILLEGAL");return W={type:6,value:parseInt("0x"+ba,16),start:W,end:Ha}}if(u(U)){for(ba="0"+wa[Ha++];Ha<bb&&u(wa[Ha]);)ba+=wa[Ha++];(g(wa.charCodeAt(Ha))||x(wa.charCodeAt(Ha)))&&T({},"Unexpected token %0","ILLEGAL");return W={type:6,value:parseInt(ba,8),octal:!0,start:W,end:Ha}}U&&x(U.charCodeAt(0))&&T({},"Unexpected token %0","ILLEGAL")}for(;x(wa.charCodeAt(Ha));)ba+=wa[Ha++];U=wa[Ha]}if("."===U){for(ba+=wa[Ha++];x(wa.charCodeAt(Ha));)ba+=wa[Ha++];U=wa[Ha]}if("e"===U||"E"===U){ba+=wa[Ha++];U=wa[Ha];
if("+"===U||"-"===U)ba+=wa[Ha++];if(x(wa.charCodeAt(Ha)))for(;x(wa.charCodeAt(Ha));)ba+=wa[Ha++];else T({},"Unexpected token %0","ILLEGAL")}g(wa.charCodeAt(Ha))&&T({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(ba),start:W,end:Ha}}function B(U,W){let ba=U;0<=W.indexOf("u")&&(ba=ba.replace(/\\u\{([0-9a-fA-F]+)\}/g,(ca,ra)=>{if(1114111>=parseInt(ra,16))return"x";T({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ba)}catch(ca){T({},
"Invalid regular expression")}try{return new RegExp(U,W)}catch(ca){return null}}function D(){f();if(Ha>=bb)return{type:2,start:Ha,end:Ha};var U=wa.charCodeAt(Ha);if(g(U)){U=Ha;if(92===wa.charCodeAt(Ha))var W=e();else a:{for(W=Ha++;Ha<bb;){var ba=wa.charCodeAt(Ha);if(92===ba){Ha=W;W=e();break a}if(d(ba))++Ha;else break}W=wa.slice(W,Ha)}return{type:1===W.length?3:Ya.hasOwnProperty(W)?4:"null"===W?5:"true"===W||"false"===W?1:3,value:W,start:U,end:Ha}}if(40===U||41===U||59===U)return n();if(39===U||34===
U){var ca="";ba=!1;U=wa[Ha];N("'"===U||'"'===U,"String literal must starts with a quote");W=Ha;for(++Ha;Ha<bb;){var ra=wa[Ha++];if(ra===U){U="";break}else if("\\"===ra)if((ra=wa[Ha++])&&m(ra.charCodeAt(0)))"\r"===ra&&"\n"===wa[Ha]&&++Ha;else switch(ra){case "u":case "x":if("{"===wa[Ha]){++Ha;var qa=wa[Ha];ra=0;for("}"===qa&&T({},"Unexpected token %0","ILLEGAL");Ha<bb;){qa=wa[Ha++];if(!v(qa))break;ra=16*ra+"0123456789abcdef".indexOf(qa.toLowerCase())}(1114111<ra||"}"!==qa)&&T({},"Unexpected token %0",
"ILLEGAL");ra=65535>=ra?String.fromCharCode(ra):String.fromCharCode((ra-65536>>10)+55296,(ra-65536&1023)+56320);ca+=ra}else ca+=a(ra);break;case "n":ca+="\n";break;case "r":ca+="\r";break;case "t":ca+="\t";break;case "b":ca+="\b";break;case "f":ca+="\f";break;case "v":ca+="\x0B";break;default:u(ra)?(qa="01234567".indexOf(ra),0!==qa&&(ba=!0),Ha<bb&&u(wa[Ha])&&(ba=!0,qa=8*qa+"01234567".indexOf(wa[Ha++]),0<="0123".indexOf(ra)&&Ha<bb&&u(wa[Ha])&&(qa=8*qa+"01234567".indexOf(wa[Ha++]))),ca+=String.fromCharCode(qa)):
ca+=ra}else if(m(ra.charCodeAt(0)))break;else ca+=ra}""!==U&&T({},"Unexpected token %0","ILLEGAL");return{type:8,value:ca,octal:ba,start:W,end:Ha}}return 46===U?x(wa.charCodeAt(Ha+1))?y():n():x(U)?y():n()}function O(){const U=kb;Ha=U.end;kb=D();Ha=U.end;return U}function M(){const U=Ha;kb=D();Ha=U}function F(U,W,ba){const ca=new w("||"===U||"\x26\x26"===U?"LogicalExpression":"BinaryExpression");ca.operator=U;ca.left=W;ca.right=ba;return ca}function z(U){const W=new w("Identifier");W.name=U;return W}
function G(U){const W=new w("Literal");W.value=U.value;W.raw=wa.slice(U.start,U.end);U.regex&&("//"===W.raw&&(W.raw="/(?:)/"),W.regex=U.regex);return W}function K(U,W,ba){const ca=new w("MemberExpression");ca.computed="["===U;ca.object=W;ca.property=ba;ca.computed||(ba.member=!0);return ca}function R(U,W,ba){const ca=new w("Property");ca.key=W;ca.value=ba;ca.kind=U;return ca}function T(U,W){var ba=Array.prototype.slice.call(arguments,2),ca=W.replace(/%(\d)/g,(qa,Da)=>{N(Da<ba.length,"Message reference must be in range");
return ba[Da]});var ra=Error(ca);ra.index=Ha;ra.description=ca;throw ra;}function ja(U){2===U.type&&T(U,"Unexpected end of input");6===U.type&&T(U,"Unexpected number");8===U.type&&T(U,"Unexpected string");3===U.type&&T(U,"Unexpected identifier");4===U.type&&T(U,"Unexpected reserved word");T(U,"Unexpected token %0",U.value)}function fa(U){const W=O();7===W.type&&W.value===U||ja(W)}function ia(U){return 7===kb.type&&kb.value===U}function la(){Ha=kb.start;const U=O();return 8===U.type||6===U.type?(U.octal&&
T(U,"Octal literals are not allowed in strict mode."),G(U)):z(U.value)}function Z(){if(ia("(")){fa("(");var U=aa();fa(")");return U}if(ia("[")){U=[];Ha=kb.start;for(fa("[");!ia("]");)ia(",")?(O(),U.push(null)):(U.push(ha()),ia("]")||fa(","));O();var W=new w("ArrayExpression");W.elements=U;return U=W}if(ia("{")){U=[];W={};var ba=String;Ha=kb.start;for(fa("{");!ia("}");){Ha=kb.start;var ca=kb;if(3===ca.type){var ra=la();fa(":");ca=ha();ca=R("init",ra,ca)}else 2===ca.type||7===ca.type?(ja(ca),ca=void 0):
(ra=la(),fa(":"),ca=ha(),ca=R("init",ra,ca));ra="Identifier"===ca.key.type?ca.key.name:ba(ca.key.value);ra="$"+ra;Object.prototype.hasOwnProperty.call(W,ra)?T({},"Duplicate data property in object literal not allowed in strict mode"):W[ra]=!0;U.push(ca);ia("}")||fa(",")}fa("}");W=new w("ObjectExpression");W.properties=U;return U=W}U=kb.type;Ha=kb.start;if(3===U||Ca[kb.value])W=z(O().value);else if(8===U||6===U)kb.octal&&T(kb,"Octal literals are not allowed in strict mode."),W=G(O());else{if(4===U)throw Error("Disabled.");
if(1===U)U=O(),U.value="true"===U.value,W=G(U);else if(5===U)U=O(),U.value=null,W=G(U);else if(ia("/")||ia("/\x3d")){var qa;kb=null;f();U=Ha;W=wa[Ha];N("/"===W,"Regular expression literal must start with a slash");ba=wa[Ha++];for(ra=ca=!1;Ha<bb;)if(W=wa[Ha++],ba+=W,"\\"===W)W=wa[Ha++],m(W.charCodeAt(0))&&T({},"Invalid regular expression: missing /"),ba+=W;else if(m(W.charCodeAt(0)))T({},"Invalid regular expression: missing /");else if(ca)"]"===W&&(ca=!1);else if("/"===W){ra=!0;break}else"["===W&&
(ca=!0);ra||T({},"Invalid regular expression: missing /");W=ba.substr(1,ba.length-2);for(qa=ra="";Ha<bb;){ca=wa[Ha];if(!d(ca.charCodeAt(0)))break;++Ha;"\\"===ca&&Ha<bb?T({},"Unexpected token %0","ILLEGAL"):(qa+=ca,ra+=ca)}0<=qa.search(/[^gimuy]/g)&&T({},"Invalid regular expression",qa);ca=qa;qa=B(W,ca);W=G({literal:ba+ra,value:qa,regex:{pattern:W,flags:ca},start:U,end:Ha});M()}else ja(O())}return W}function P(){var U;for(U=Z();;)if(ia(".")){fa(".");Ha=kb.start;var W=O();3===W.type||4===W.type||1===
W.type||5===W.type||ja(W);W=z(W.value);U=K(".",U,W)}else if(ia("(")){W=[];fa("(");if(!ia(")"))for(;Ha<bb;){W.push(ha());if(ia(")"))break;fa(",")}fa(")");{const ba=new w("CallExpression");ba.callee=U;ba.arguments=W;U=ba}}else if(ia("["))fa("["),W=aa(),fa("]"),U=K("[",U,W);else break;if(7===kb.type&&(ia("++")||ia("--")))throw Error("Disabled.");return U}function C(){if(7!==kb.type&&4!==kb.type)var U=P();else{if(ia("++")||ia("--"))throw Error("Disabled.");if(ia("+")||ia("-")||ia("~")||ia("!")){var W=
O();U=C();{W=W.value;const ba=new w("UnaryExpression");ba.operator=W;ba.argument=U;ba.prefix=!0;U=ba}}else{if(4===kb.type&&"delete"===kb.value||4===kb.type&&"void"===kb.value||4===kb.type&&"typeof"===kb.value)throw Error("Disabled.");U=P()}}return U}function V(U){let W=0;if(7!==U.type&&4!==U.type)return 0;switch(U.value){case "||":W=1;break;case "\x26\x26":W=2;break;case "|":W=3;break;case "^":W=4;break;case "\x26":W=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":W=6;break;
case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":W=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":W=8;break;case "+":case "-":W=9;break;case "*":case "/":case "%":W=11}return W}function ha(){var U=kb;var W=C();var ba=kb;var ca=V(ba);if(0===ca)var ra=W;else{ba.prec=ca;O();U=[U,kb];var qa=C();for(ra=[W,ba,qa];0<(ca=V(kb));){for(;2<ra.length&&ca<=ra[ra.length-2].prec;)qa=ra.pop(),ba=ra.pop().value,W=ra.pop(),U.pop(),W=F(ba,W,qa),ra.push(W);ba=O();ba.prec=
ca;ra.push(ba);U.push(kb);W=C();ra.push(W)}ca=ra.length-1;W=ra[ca];for(U.pop();1<ca;)U.pop(),W=F(ra[ca-1].value,ra[ca-2],W),ca-=2;ra=W}ia("?")&&(O(),U=ha(),fa(":"),ca=ha(),W=new w("ConditionalExpression"),W.test=ra,W.consequent=U,W.alternate=ca,ra=W);return ra}function aa(){const U=ha();if(ia(","))throw Error("Disabled.");return U}function ta(U){function W(ba,ca,ra){return qa=>{{let Da=U(qa[0]);ca&&(Da=ca+"("+Da+")",0===ca.lastIndexOf("new ",0)&&(Da="("+Da+")"));qa=Da+"."+ba+(0>ra?"":0===ra?"()":
"("+qa.slice(1).map(U).join(",")+")")}return qa}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(ba){3>ba.length&&l.error("Missing arguments to clamp function.");3<ba.length&&l.error("Too many arguments to clamp function.");
ba=ba.map(U);return"Math.max("+ba[1]+", Math.min("+ba[2]+","+ba[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:W("getDate","new Date",0),day:W("getDay","new Date",0),year:W("getFullYear","new Date",0),month:W("getMonth","new Date",0),hours:W("getHours","new Date",0),minutes:W("getMinutes","new Date",0),seconds:W("getSeconds","new Date",0),milliseconds:W("getMilliseconds","new Date",0),time:W("getTime","new Date",0),timezoneoffset:W("getTimezoneOffset","new Date",0),utcdate:W("getUTCDate",
"new Date",0),utcday:W("getUTCDay","new Date",0),utcyear:W("getUTCFullYear","new Date",0),utcmonth:W("getUTCMonth","new Date",0),utchours:W("getUTCHours","new Date",0),utcminutes:W("getUTCMinutes","new Date",0),utcseconds:W("getUTCSeconds","new Date",0),utcmilliseconds:W("getUTCMilliseconds","new Date",0),length:W("length",null,-1),join:W("join",null),indexof:W("indexOf",null),lastindexof:W("lastIndexOf",null),slice:W("slice",null),reverse:function(ba){return"("+U(ba[0])+").slice().reverse()"},parseFloat:"parseFloat",
parseInt:"parseInt",upper:W("toUpperCase","String",0),lower:W("toLowerCase","String",0),substring:W("substring","String"),split:W("split","String"),replace:W("replace","String"),trim:W("trim","String",0),regexp:"RegExp",test:W("test","RegExp"),if:function(ba){3>ba.length&&l.error("Missing arguments to if function.");3<ba.length&&l.error("Too many arguments to if function.");ba=ba.map(U);return"("+ba[0]+"?"+ba[1]+":"+ba[2]+")"}}}w.prototype.visit=function(U){let W,ba,ca;if(U(this))return 1;W=H(this);
ba=0;for(ca=W.length;ba<ca;++ba)if(W[ba].visit(U))return 1};var wa,Ha,bb,kb,va=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ta=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Ya={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Ca={"if":1};var ua={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};k.ASTNode=w;k.ArrayExpression="ArrayExpression";k.BinaryExpression="BinaryExpression";k.CallExpression="CallExpression";k.ConditionalExpression="ConditionalExpression";k.Identifier="Identifier";k.Literal="Literal";k.LogicalExpression="LogicalExpression";k.MemberExpression="MemberExpression";k.ObjectExpression="ObjectExpression";
k.Property="Property";k.RawCode="RawCode";k.UnaryExpression="UnaryExpression";k.codegen=function(U){function W(Ja){if(l.isString(Ja))return Ja;const Ua=pa[Ja.type];null==Ua&&l.error("Unsupported type: "+Ja.type);return Ua(Ja)}function ba(Ja){Ja={code:W(Ja),globals:Object.keys($a),fields:Object.keys(Fa)};$a={};Fa={};return Ja}U=U||{};const ca=U.allowed?l.toSet(U.allowed):{},ra=U.forbidden?l.toSet(U.forbidden):{},qa=U.constants||ua,Da=(U.functions||ta)(W),na=U.globalvar,Ra=U.fieldvar,db=l.isFunction(na)?
na:Ja=>`${na}["${Ja}"]`;let $a={},Fa={},Ga=0;const pa={Literal:Ja=>Ja.raw,Identifier:Ja=>{Ja=Ja.name;if(0<Ga)return Ja;if(l.hasOwnProperty(ra,Ja))return l.error("Illegal identifier: "+Ja);if(l.hasOwnProperty(qa,Ja))return qa[Ja];if(l.hasOwnProperty(ca,Ja))return Ja;$a[Ja]=1;return db(Ja)},MemberExpression:Ja=>{const Ua=!Ja.computed,jb=W(Ja.object);Ua&&(Ga+=1);Ja=W(Ja.property);if(jb===Ra){var Fb=Fa;var Xb=(Xb=Ja&&Ja.length-1)&&('"'===Ja[0]&&'"'===Ja[Xb]||"'"===Ja[0]&&"'"===Ja[Xb])?Ja.slice(1,-1):
Ja;Fb[Xb]=1}Ua&&--Ga;return jb+(Ua?"."+Ja:"["+Ja+"]")},CallExpression:Ja=>{"Identifier"!==Ja.callee.type&&l.error("Illegal callee type: "+Ja.callee.type);const Ua=Ja.callee.name;Ja=Ja.arguments;const jb=l.hasOwnProperty(Da,Ua)&&Da[Ua];jb||l.error("Unrecognized function: "+Ua);return l.isFunction(jb)?jb(Ja):jb+"("+Ja.map(W).join(",")+")"},ArrayExpression:Ja=>"["+Ja.elements.map(W).join(",")+"]",BinaryExpression:Ja=>"("+W(Ja.left)+Ja.operator+W(Ja.right)+")",UnaryExpression:Ja=>"("+Ja.operator+W(Ja.argument)+
")",ConditionalExpression:Ja=>"("+W(Ja.test)+"?"+W(Ja.consequent)+":"+W(Ja.alternate)+")",LogicalExpression:Ja=>"("+W(Ja.left)+Ja.operator+W(Ja.right)+")",ObjectExpression:Ja=>"{"+Ja.properties.map(W).join(",")+"}",Property:Ja=>{Ga+=1;const Ua=W(Ja.key);--Ga;return Ua+":"+W(Ja.value)}};ba.functions=Da;ba.constants=qa;return ba};k.constants=ua;k.functions=ta;k.parse=function(U){wa=U;Ha=0;bb=wa.length;kb=null;M();U=aa();if(2!==kb.type)throw Error("Unexpect token after expression.");return U};Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[57]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(56)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega))})(this,function(k,l,w){function H(d){return(f,a)=>{f=d(f);return f<a?-1:f>a?1:f>=a?0:NaN}}function N(d,f){var a=f.fields;f=f.values;for(var e=a.length,n=0,y,B;n<e;++n)if(B=a[n],B.getter=l.field.getter||l.field(B.field),
y=B.getter(d),l.isDate(y)&&(y=l.toNumber(y)),l.isDate(f[n])&&(f[n]=l.toNumber(f[n])),l.isDate(f[n][0])&&(f[n]=f[n].map(l.toNumber)),"E"===B.type){if(l.isArray(f[n])?0>f[n].indexOf(y):y!==f[n])return!1}else if("R"===B.type){if(!l.inrange(y,f[n]))return!1}else if("R-RE"===B.type){if(!l.inrange(y,f[n],!0,!1))return!1}else if("R-E"===B.type){if(!l.inrange(y,f[n],!1,!1))return!1}else if("R-LE"===B.type&&!l.inrange(y,f[n],!1,!0))return!1;return!0}const x=l.field("_vgsid_"),v=function(d){function f(n,y,
B,D){null==B&&(B=0);null==D&&(D=n.length);for(;B<D;){const O=B+D>>>1;0>e(n[O],y)?B=O+1:D=O}return B}let a=d,e=d;1===d.length&&(a=(n,y)=>d(n)-y,e=H(d));return{left:f,center:function(n,y,B,D){null==B&&(B=0);null==D&&(D=n.length);D=f(n,y,B,D-1);return D>B&&a(n[D-1],y)>-a(n[D],y)?D-1:D},right:function(n,y,B,D){null==B&&(B=0);null==D&&(D=n.length);for(;B<D;){const O=B+D>>>1;0<e(n[O],y)?D=O:B=O+1}return B}}}(x),u=v.left,m=v.right;var g={E_union:function(d,f){if(!d.length)return f;for(var a=0,e=f.length;a<
e;++a)0>d.indexOf(f[a])&&d.push(f[a]);return d},E_intersect:function(d,f){return d.length?d.filter(a=>0<=f.indexOf(a)):f},R_union:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];d[0]>a&&(d[0]=a);d[1]<e&&(d[1]=e);return d},R_intersect:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];if(e<d[0]||d[1]<a)return[];d[0]<a&&(d[0]=a);d[1]>e&&(d[1]=e);return d}};k.selectionIdTest=function(d,f,a){var e=
this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;f=x(f);const n=u(d,f);if(n===d.length||x(d[n])!==f)return!1;if(e&&a){if(1===e.size)return!0;if(m(d,f)-n<e.size)return!1}return!0};k.selectionResolve=function(d,f,a,e){d=(d=this.context.data[d])?d.values.value:[];for(var n={},y={},B={},D,O,M,F,z,G,K=d.length,R=0,T,ja;R<K;++R){D=d[R];M=D.unit;O=D.fields;D=D.values;T=0;for(ja=O.length;T<ja;++T)F=O[T],z=n[F.field]||(n[F.field]={}),G=z[M]||(z[M]=
[]),B[F.field]=F=F.type.charAt(0),F=g[F+"_union"],z[M]=F(G,l.array(D[T]));a&&(G=y[M]||(y[M]=[]),G.push(l.array(D).reduce((fa,ia,la)=>(fa[O[la].field]=ia,fa),{})))}f=f||"union";Object.keys(n).forEach(fa=>{n[fa]=Object.keys(n[fa]).map(ia=>n[fa][ia]).reduce((ia,la)=>void 0===ia?la:g[B[fa]+"_"+f](ia,la))});d=Object.keys(y);a&&d.length&&(n[e?"vlPoint":"vlMulti"]="union"===f?{["or"]:d.reduce((fa,ia)=>(fa.push(...y[ia]),fa),[])}:{["and"]:d.map(fa=>({["or"]:y[fa]}))});return n};k.selectionTest=function(d,
f,a){var e=this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;for(var n=d.length,y=0,B,D,O,M;y<n;++y)if(B=d[y],e&&a){if(D=D||{},O=D[M=B.unit]||0,-1!==O){B=N(f,B);D[M]=B?-1:++O;if(B&&1===e.size)return!0;if(!B&&O===e.get(M).count)return!1}}else if(B=N(f,B),a^B)return B;return n&&a};k.selectionTuples=function(d,f){return d.map(a=>l.extend({values:f.fields.map(e=>(e.getter||(e.getter=l.field(e.field)))(a.datum))},f))};k.selectionVisitor=function(d,
f,a,e){f[0].type!==w.Literal&&l.error("First argument to selection functions must be a string literal.");d=f[0].value;f=2<=f.length&&l.peek(f).value;const n=":"+d;"intersect"!==f||l.hasOwnProperty(e,"@unit")||(e["@unit"]=a.getData(d).indataRef(a,"unit"));l.hasOwnProperty(e,n)||(e[n]=a.getData(d).tuplesRef())};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[58]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(56),A(39),A(32),A(26),A(35),A(36),A(57),A(27),A(18),A(15)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.d3,k.d3,k.vega,k.vega,k.vega,k.vega,k.vega,k.vega,
k.d3))})(this,function(k,l,w,H,N,x,v,u,m,g,d,f){function a(Eb){return(Eb=this.context.data[Eb])?Eb.values.value:[]}function e(Eb,zc,Vc){return(Vc=(Eb=this.context.data[Eb]["index:"+zc])?Eb.value.get(Vc):void 0)?Vc.count:Vc}function n(Eb,zc){const Vc=this.context.dataflow;Vc.pulse(this.context.data[Eb].input,Vc.changeset().remove(l.truthy).insert(zc));return 1}function y(Eb,zc,Vc){if(Eb){const Ed=this.context.dataflow;Ed.pulse(Eb.mark.source,Ed.changeset().encode(Eb,zc))}return void 0!==Vc?Vc:Eb}function B(Eb,
zc,Vc){if(!Number.isInteger(Eb)||!Number.isInteger(zc))return"";Uc.setYear(2E3);Uc.setMonth(Eb);Uc.setDate(zc);return rc.call(this,Uc,Vc)}function D(Eb){return B.call(this,Eb,1,"%B")}function O(Eb){return B.call(this,Eb,1,"%b")}function M(Eb){return B.call(this,0,2+Eb,"%A")}function F(Eb){return B.call(this,0,2+Eb,"%a")}function z(Eb,zc,Vc,Ed){zc[0].type!==w.Literal&&l.error("First argument to data functions must be a string literal.");Eb=zc[0].value;zc=":"+Eb;if(!l.hasOwnProperty(zc,Ed))try{Ed[zc]=
Vc.getData(Eb).tuplesRef()}catch(Vd){}}function G(Eb,zc,Vc,Ed){zc[0].type!==w.Literal&&l.error("First argument to indata must be a string literal.");zc[1].type!==w.Literal&&l.error("Second argument to indata must be a string literal.");Eb=zc[0].value;zc=zc[1].value;const Vd="@"+zc;l.hasOwnProperty(Vd,Ed)||(Ed[Vd]=Vc.getData(Eb).indataRef(Vc,zc))}function K(Eb,zc,Vc,Ed){if(zc[0].type===w.Literal)R(Vc,Ed,zc[0].value);else for(Eb in Vc.scales)R(Vc,Ed,Eb)}function R(Eb,zc,Vc){const Ed="%"+Vc;if(!l.hasOwnProperty(zc,
Ed))try{zc[Ed]=Eb.scaleRef(Vc)}catch(Vd){}}function T(Eb,zc){let Vc;return l.isFunction(Eb)?Eb:l.isString(Eb)?(Vc=zc.scales[Eb])&&Vc.value:void 0}function ja(Eb,zc,Vc){zc.__bandwidth=Vd=>Vd&&Vd.bandwidth?Vd.bandwidth():0;Vc._bandwidth=K;Vc._range=K;Vc._scale=K;const Ed=Vd=>"_["+(Vd.type===w.Literal?l.stringValue("%"+Vd.value):l.stringValue("%")+"+"+Eb(Vd))+"]";return{_bandwidth:Vd=>`this.__bandwidth(${Ed(Vd[0])})`,_range:Vd=>`${Ed(Vd[0])}.range()`,_scale:Vd=>`${Ed(Vd[0])}(${Eb(Vd[1])})`}}function fa(Eb,
zc){return function(Vc,Ed,Vd){return Vc?(Vc=T(Vc,(Vd||this).context))&&Vc.path[Eb](Ed):zc(Ed)}}function ia(Eb){const zc=this.context.group;let Vc=!1;if(zc)for(;Eb;){if(Eb===zc){Vc=!0;break}Eb=Eb.mark.group}return Vc}function la(Eb,zc,Vc){try{Eb[zc].apply(Eb,["EXPRESSION"].concat([].slice.call(Vc)))}catch(Ed){Eb.warn(Ed)}return Vc[Vc.length-1]}function Z(){return la(this.context.dataflow,"warn",arguments)}function P(){return la(this.context.dataflow,"info",arguments)}function C(){return la(this.context.dataflow,
"debug",arguments)}function V(Eb){Eb/=255;return.03928>=Eb?Eb/12.92:Math.pow((Eb+.055)/1.055,2.4)}function ha(Eb){var zc=N.rgb(Eb);Eb=V(zc.r);const Vc=V(zc.g);zc=V(zc.b);return.2126*Eb+.7152*Vc+.0722*zc}function aa(Eb,zc){Eb=ha(Eb);zc=ha(zc);return(Math.max(Eb,zc)+.05)/(Math.min(Eb,zc)+.05)}function ta(){const Eb=[].slice.call(arguments);Eb.unshift({});return l.extend(...Eb)}function wa(Eb,zc){if(Eb===zc||Eb!==Eb&&zc!==zc)Eb=!0;else if(l.isArray(Eb))if(l.isArray(zc)&&Eb.length===zc.length)a:{for(let Vc=
0,Ed=Eb.length;Vc<Ed;++Vc)if(!wa(Eb[Vc],zc[Vc])){Eb=!1;break a}Eb=!0}else Eb=!1;else Eb=l.isObject(Eb)&&l.isObject(zc)?Ha(Eb,zc):!1;return Eb}function Ha(Eb,zc){for(const Vc in Eb)if(!wa(Eb[Vc],zc[Vc]))return!1;return!0}function bb(Eb){return zc=>Ha(Eb,zc)}function kb(Eb,zc,Vc,Ed,Vd,Ka){const eb=this.context.dataflow,wb=this.context.data[Eb],Hb=wb.input;Eb=eb.stamp();let ac=wb.changes,Lb;if(!1===eb._trigger||!(Hb.value.length||zc||Ed))return 0;if(!ac||ac.stamp<Eb)wb.changes=ac=eb.changeset(),ac.stamp=
Eb,eb.runAfter(()=>{wb.modified=!0;eb.pulse(Hb,ac).run()},!0,1);Vc&&(Vc=!0===Vc?l.truthy:l.isArray(Vc)||x.isTuple(Vc)?Vc:bb(Vc),ac.remove(Vc));zc&&ac.insert(zc);Ed&&(Vc=bb(Ed),Hb.value.some(Vc)?ac.remove(Vc):ac.insert(Ed));if(Vd)for(Lb in Ka)ac.modify(Vd,Lb,Ka[Lb]);return 1}function va(Eb){var zc=Eb.touches;Eb=zc[0].clientX-zc[1].clientX;zc=zc[0].clientY-zc[1].clientY;return Math.sqrt(Eb*Eb+zc*zc)}function Ta(Eb){Eb=Eb.touches;return Math.atan2(Eb[0].clientY-Eb[1].clientY,Eb[0].clientX-Eb[1].clientX)}
function Ya(Eb,zc){zc=Fd[zc]||(Fd[zc]=l.field(zc));return l.isArray(Eb)?Eb.map(zc):zc(Eb)}function Ca(Eb){return l.isArray(Eb)||ArrayBuffer.isView(Eb)?Eb:null}function ua(Eb){return Ca(Eb)||(l.isString(Eb)?Eb:null)}function U(Eb,...zc){return Ca(Eb).join(...zc)}function W(Eb,...zc){return ua(Eb).indexOf(...zc)}function ba(Eb,...zc){return ua(Eb).lastIndexOf(...zc)}function ca(Eb,...zc){return ua(Eb).slice(...zc)}function ra(Eb,zc,Vc){l.isFunction(Vc)&&l.error("Function argument passed to replace.");
return String(Eb).replace(zc,Vc)}function qa(Eb){return Ca(Eb).slice().reverse()}function Da(Eb,zc,Vc){return v.bandSpace(Eb||0,zc||0,Vc||0)}function na(Eb,zc){return(Eb=T(Eb,(zc||this).context))&&Eb.bandwidth?Eb.bandwidth():0}function Ra(Eb,zc){return(Eb=T(Eb,(zc||this).context))?Eb.copy():void 0}function db(Eb,zc){return(Eb=T(Eb,(zc||this).context))?Eb.domain():[]}function $a(Eb,zc,Vc){return(Eb=T(Eb,(Vc||this).context))?l.isArray(zc)?(Eb.invertRange||Eb.invert)(zc):(Eb.invert||Eb.invertExtent)(zc):
void 0}function Fa(Eb,zc){return(Eb=T(Eb,(zc||this).context))&&Eb.range?Eb.range():[]}function Ga(Eb,zc,Vc){return(Eb=T(Eb,(Vc||this).context))?Eb(zc):void 0}function pa(Eb,zc,Vc,Ed,Vd){Eb=T(Eb,(Vd||this).context);const Ka=u.Gradient(zc,Vc);zc=Eb.domain();Vc=zc[0];Vd=l.peek(zc);let eb=l.identity;Vd-Vc?eb=v.scaleFraction(Eb,Vc,Vd):Eb=(Eb.interpolator?v.scale("sequential")().interpolator(Eb.interpolator()):v.scale("linear")().interpolate(Eb.interpolate()).range(Eb.range())).domain([Vc=0,Vd=1]);Eb.ticks&&
(zc=Eb.ticks(+Ed||15),Vc!==zc[0]&&zc.unshift(Vc),Vd!==l.peek(zc)&&zc.push(Vd));zc.forEach(wb=>Ka.stop(eb(wb),Eb(wb)));return Ka}function Ja(Eb,zc,Vc){const Ed=T(Eb,(Vc||this).context);return function(Vd){return Ed?Ed.path.context(Vd)(zc):""}}function Ua(Eb){let zc=null;return function(Vc){return Vc?u.pathRender(Vc,zc=zc||u.pathParse(Eb)):Eb}}function jb(Eb,zc){Eb=a.call(zc,Eb);return Eb.root&&Eb.root.lookup||{}}function Fb(Eb,zc,Vc){Eb=jb(Eb,this);zc=Eb[zc];Vc=Eb[Vc];return zc&&Vc?zc.path(Vc).map(ge):
void 0}function Xb(Eb,zc){return(Eb=jb(Eb,this)[zc])?Eb.ancestors().map(ge):void 0}function nc(){const Eb="undefined"!==typeof window&&window||null;return Eb?Eb.screen:{}}function md(){const Eb="undefined"!==typeof window&&window||null;return Eb?[Eb.innerWidth,Eb.innerHeight]:[void 0,void 0]}function pc(){var Eb=this.context.dataflow;return(Eb=Eb.container&&Eb.container())?[Eb.clientWidth,Eb.clientHeight]:[void 0,void 0]}function Hc(Eb){let zc=null;if(Eb){const Vc=l.array(Eb.marktype),Ed=l.array(Eb.markname);
zc=Vd=>(!Vc.length||Vc.some(Ka=>Vd.marktype===Ka))&&(!Ed.length||Ed.some(Ka=>Vd.name===Ka))}return zc}function mb(Eb,zc,Vc){if(1===arguments.length)return wd[Eb];wd[Eb]=zc;Vc&&(Wd[Eb]=Vc);gc&&(gc.functions[Eb]="this."+Eb);return this}var hc=Eb=>function(zc,Vc){return this.context.dataflow.locale()[Eb](Vc)(zc)};const jc=hc("format"),rc=hc("timeFormat"),Pc=hc("utcFormat"),sc=hc("timeParse");hc=hc("utcParse");const Uc=new Date(2E3,0,1),Sc=fa("area",H.geoArea),Lc=fa("bounds",H.geoBounds);H=fa("centroid",
H.geoCentroid);const Fd={},ge=Eb=>Eb.data,wd={random(){return g.random()},cumulativeNormal:g.cumulativeNormal,cumulativeLogNormal:g.cumulativeLogNormal,cumulativeUniform:g.cumulativeUniform,densityNormal:g.densityNormal,densityLogNormal:g.densityLogNormal,densityUniform:g.densityUniform,quantileNormal:g.quantileNormal,quantileLogNormal:g.quantileLogNormal,quantileUniform:g.quantileUniform,sampleNormal:g.sampleNormal,sampleLogNormal:g.sampleLogNormal,sampleUniform:g.sampleUniform,isArray:l.isArray,
isBoolean:l.isBoolean,isDate:l.isDate,isDefined(Eb){return void 0!==Eb},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:x.isTuple,isValid(Eb){return null!=Eb&&Eb===Eb},toBoolean:l.toBoolean,toDate:l.toDate,toNumber:l.toNumber,toString:l.toString,indexof:W,join:U,lastindexof:ba,replace:ra,reverse:qa,slice:ca,flush:l.flush,lerp:l.lerp,merge:ta,pad:l.pad,peek:l.peek,pluck:Ya,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:N.rgb,lab:N.lab,hcl:N.hcl,hsl:N.hsl,
luminance:ha,contrast:aa,sequence:f.range,format:jc,utcFormat:Pc,utcParse:hc,utcOffset:d.utcOffset,utcSequence:d.utcSequence,timeFormat:rc,timeParse:sc,timeOffset:d.timeOffset,timeSequence:d.timeSequence,timeUnitSpecifier:d.timeUnitSpecifier,monthFormat:D,monthAbbrevFormat:O,dayFormat:M,dayAbbrevFormat:F,quarter:l.quarter,utcquarter:l.utcquarter,week:d.week,utcweek:d.utcweek,dayofyear:d.dayofyear,utcdayofyear:d.utcdayofyear,warn:Z,info:P,debug:C,extent:l.extent,inScope:ia,intersect:function(Eb,zc,
Vc){if(!Eb)return[];const [Ed,Vd]=Eb;Eb=(new u.Bounds).set(Ed[0],Ed[1],Vd[0],Vd[1]);Vc=Vc||this.context.dataflow.scenegraph().root;return u.intersect(Vc,Eb,Hc(zc))},clampRange:l.clampRange,pinchDistance:va,pinchAngle:Ta,screen:nc,containerSize:pc,windowSize:md,bandspace:Da,setdata:n,pathShape:Ua,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:y,modify:kb},vd="view item group xy x y".split(" "),
Wd={},Pb={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Eb=>`_[${l.stringValue("$"+Eb)}]`,functions:function(Eb){const zc=w.functions(Eb);vd.forEach(Vc=>zc[Vc]="event.vega."+Vc);for(const Vc in wd)zc[Vc]="this."+Vc;l.extend(zc,ja(Eb,wd,Wd));return zc},constants:w.constants,visitors:Wd},gc=w.codegen(Pb);mb("bandwidth",na,K);mb("copy",Ra,K);mb("domain",db,K);mb("range",Fa,K);mb("invert",$a,K);mb("scale",Ga,K);mb("gradient",pa,K);mb("geoArea",Sc,K);mb("geoBounds",Lc,K);
mb("geoCentroid",H,K);mb("geoShape",Ja,K);mb("indata",e,G);mb("data",a,z);mb("treePath",Fb,z);mb("treeAncestors",Xb,z);mb("vlSelectionTest",m.selectionTest,m.selectionVisitor);mb("vlSelectionIdTest",m.selectionIdTest,m.selectionVisitor);mb("vlSelectionResolve",m.selectionResolve,m.selectionVisitor);mb("vlSelectionTuples",m.selectionTuples);k.DataPrefix=":";k.IndexPrefix="@";k.ScalePrefix="%";k.SignalPrefix="$";k.bandspace=Da;k.bandwidth=na;k.codeGenerator=gc;k.codegenParams=Pb;k.containerSize=pc;
k.contrast=aa;k.copy=Ra;k.data=a;k.dataVisitor=z;k.dayAbbrevFormat=F;k.dayFormat=M;k.debug=C;k.domain=db;k.encode=y;k.expressionFunction=mb;k.format=jc;k.functionContext=wd;k.geoArea=Sc;k.geoBounds=Lc;k.geoCentroid=H;k.geoShape=Ja;k.inScope=ia;k.indata=e;k.indataVisitor=G;k.indexof=W;k.info=P;k.invert=$a;k.join=U;k.lastindexof=ba;k.luminance=ha;k.merge=ta;k.modify=kb;k.monthAbbrevFormat=O;k.monthFormat=D;k.parseExpression=function(Eb,zc){const Vc={};let Ed;try{Eb=l.isString(Eb)?Eb:l.stringValue(Eb)+
"",Ed=w.parse(Eb)}catch(Vd){l.error("Expression parse error: "+Eb)}Ed.visit(Vd=>{if(Vd.type===w.CallExpression){var Ka=Vd.callee.name,eb=Pb.visitors[Ka];eb&&eb(Ka,Vd.arguments,zc,Vc)}});Eb=gc(Ed);Eb.globals.forEach(Vd=>{const Ka="$"+Vd;!l.hasOwnProperty(Vc,Ka)&&zc.getSignal(Vd)&&(Vc[Ka]=zc.signalRef(Vd))});return{$expr:l.extend({code:Eb.code},zc.options.ast?{ast:Ed}:null),$fields:Eb.fields,$params:Vc}};k.pathShape=Ua;k.pinchAngle=Ta;k.pinchDistance=va;k.pluck=Ya;k.range=Fa;k.replace=ra;k.reverse=
qa;k.scale=Ga;k.scaleGradient=pa;k.scaleVisitor=K;k.screen=nc;k.setdata=n;k.slice=ca;k.timeFormat=rc;k.timeParse=sc;k.treeAncestors=Xb;k.treePath=Fb;k.utcFormat=Pc;k.utcParse=hc;k.warn=Z;k.windowSize=md;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[59]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega))})(this,function(k,l,w){function H(a,e,n){";"!==n[n.length-1]&&(n="return("+n+");");e=Function(...e.concat(n));return a&&a.functions?e.bind(a.functions):e}function N(a,e,n){if(!a||!l.isObject(a))return a;for(let y=0,
B=d.length,D;y<B;++y)if(D=d[y],l.hasOwnProperty(a,D.key))return D.parse(a,e,n);return a}function x(a,e,n,y){this.dataflow=a;this.transforms=e;this.events=a.events.bind(a);this.expr=y||g;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};n&&(this.functions=Object.create(n),this.functions.context=this)}function v(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const u=l.toSet(["rule"]),m=l.toSet(["group","image","rect"]);var g={operator:(a,e)=>H(a,["_"],e.code),parameter:(a,e)=>H(a,["datum","_"],e.code),event:(a,e)=>H(a,["event"],e.code),handler:(a,e)=>H(a,["_","event"],`var datum=event.item&&event.item.datum;return ${e.code};`),encode:(a,e)=>{const {marktype:n,channels:y}=e;e="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var B in y){const D="o["+l.stringValue(B)+"]";e+=`$=${y[B].code};if(${D}!==$)${D}=$,m=1;`}B="";u[n]||(y.x2&&(y.x?(m[n]&&(B+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),B+="o.width\x3do.x2-o.x;"):B+="o.x\x3do.x2-(o.width||0);"),y.xc&&(B+="o.x\x3do.xc-(o.width||0)/2;"),y.y2&&(y.y?(m[n]&&(B+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),B+="o.height\x3do.y2-o.y;"):B+="o.y\x3do.y2-(o.height||0);"),y.yc&&(B+="o.y\x3do.yc-(o.height||0)/2;"));e+=B;return H(a,["item","_"],e+"return m;")},codegen:{get(a){a=
`[${a.map(l.stringValue).join("][")}]`;const e=Function("_",`return _${a};`);e.path=a;return e},comparator(a,e){let n;a=Function("a","b","var u, v; return "+a.map((y,B)=>{const D=e[B];let O;y.path?(O=`a${y.path}`,y=`b${y.path}`):((n=n||{})["f"+B]=y,O=`this.f${B}(a)`,y=`this.f${B}(b)`);B=-D;return`((u = ${O}) < (v = ${y}) || u == null) && v != null ? ${B}
  : (u > v || v == null) && u != null ? ${D}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${B}
  : v !== v && u === u ? ${D} : `}).join("")+"0;");return n?a.bind(n):a}}},d=[{key:"$ref",parse:function(a,e){return e.get(a.$ref)||l.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,e){const n="k:"+a.$key+"_"+!!a.$flat;return e.fn[n]||(e.fn[n]=l.key(a.$key,a.$flat,e.expr.codegen))}},{key:"$expr",parse:function(a,e,n){a.$params&&e.parseParameters(a.$params,n);n="e:"+a.$expr.code+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.accessor(e.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,e){if(!a.$field)return null;const n="f:"+a.$field+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.field(a.$field,a.$name,e.expr.codegen))}},{key:"$encode",parse:function(a,e){a=a.$encode;const n={};for(const y in a){const B=a[y];n[y]=l.accessor(e.encodeExpression(B.$expr),B.$fields);n[y].output=B.$output}return n}},{key:"$compare",parse:function(a,e){const n="c:"+a.$compare+"_"+a.$order,y=l.array(a.$compare).map(B=>B&&B.$tupleid?w.tupleid:B);return e.fn[n]||(e.fn[n]=l.compare(y,
a.$order,e.expr.codegen))}},{key:"$context",parse:function(a,e){return e}},{key:"$subflow",parse:function(a,e){const n=a.$subflow;return function(y,B,D){const O=e.fork().parse(n);y=O.get(n.operators[0].id);(B=O.signals.parent)&&B.set(D);y.detachSubflow=()=>e.detach(O);return y}}},{key:"$tupleid",parse:function(){return w.tupleid}}];const f={skip:!0};x.prototype=v.prototype={fork(){const a=new v(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(n=>
n!==a);const e=Object.keys(a.nodes);for(const n of e)a.nodes[n]._targets=null;for(const n of e)a.nodes[n].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,e){return this.nodes[a]=e},add(a,e){const n=this,y=n.dataflow,B=a.value;n.set(a.id,e);"collect"===(a.type+"").toLowerCase()&&B&&(B.$ingest?y.ingest(e,B.$ingest,B.$format):B.$request?y.preload(e,B.$request,B.$format):y.pulse(e,y.changeset().insert(B)));a.root&&(n.root=e);if(a.parent){let D=n.get(a.parent.$ref);D?(y.connect(D,[e]),e.targets().add(D)):
(n.unresolved=n.unresolved||[]).push(()=>{D=n.get(a.parent.$ref);y.connect(D,[e]);e.targets().add(D)})}a.signal&&(n.signals[a.signal]=e);a.scale&&(n.scales[a.scale]=e);if(a.data)for(const D in a.data){const O=n.data[D]||(n.data[D]={});a.data[D].forEach(M=>O[M]=e)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,e){this.add(a,this.dataflow.add(a.value,e))},transform(a,e){this.add(a,this.dataflow.add(this.transforms[(e+"").toLowerCase()]))},stream(a,e){this.set(a.id,
e)},update(a,e,n,y,B){this.dataflow.on(e,n,y,B,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const e=this,n=a.operators||[];a.background&&(e.background=a.background);a.eventConfig&&(e.eventConfig=a.eventConfig);a.locale&&(e.locale=a.locale);n.forEach(y=>
e.parseOperator(y));n.forEach(y=>e.parseOperatorParameters(y));(a.streams||[]).forEach(y=>e.parseStream(y));(a.updates||[]).forEach(y=>e.parseUpdate(y));return e.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const e=this.get(a.id);e||l.error("Invalid operator id: "+a.id);this.dataflow.connect(e,e.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,e){e=e||{};const n=this;for(const y in a){const B=a[y];e[y]=l.isArray(B)?B.map(D=>N(D,n,e)):N(B,n,e)}return e},parseStream:function(a){var e=this,n=null!=a.filter?e.eventExpression(a.filter):void 0,y=null!=a.stream?e.get(a.stream):void 0;if(a.source)y=e.events(a.source,a.type,n);else if(a.merge){var B=a.merge.map(D=>e.get(D));y=B[0].merge.apply(B[0],B.slice(1))}a.between&&(B=a.between.map(D=>e.get(D)),y=y.between(B[0],B[1]));a.filter&&(y=y.filter(n));
null!=a.throttle&&(y=y.throttle(+a.throttle));null!=a.debounce&&(y=y.debounce(+a.debounce));null==y&&l.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&y.consume(!0);e.stream(a,y)},parseUpdate:function(a){var e=l.isObject(e=a.source)?e.$ref:e;e=this.get(e);var n=a.update,y=void 0;e||l.error("Source not defined: "+a.source);var B=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);n&&n.$expr&&(n.$params&&(y=this.parseParameters(n.$params)),n=this.handlerExpression(n.$expr));
this.update(a,e,B,n,y)},getState:function(a){var e=this,n={};if(a.signals){var y=n.signals={};Object.keys(e.signals).forEach(D=>{const O=e.signals[D];a.signals(D,O)&&(y[D]=O.value)})}if(a.data){var B=n.data={};Object.keys(e.data).forEach(D=>{const O=e.data[D];a.data(D,O)&&(B[D]=O.input.value)})}e.subcontext&&!1!==a.recurse&&(n.subcontext=e.subcontext.map(D=>D.getState(a)));return n},setState:function(a){var e=this,n=e.dataflow,y=a.data,B=a.signals;Object.keys(B||{}).forEach(D=>{n.update(e.signals[D],
B[D],f)});Object.keys(y||{}).forEach(D=>{n.pulse(e.data[D].input,n.changeset().remove(l.truthy).insert(y[D]))});(a.subcontext||[]).forEach((D,O)=>{(O=e.subcontext[O])&&O.setState(D)})}};k.context=function(a,e,n,y){return new x(a,e,n,y)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[60]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26),A(36),A(15),A(58),A(59),A(45),A(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.vega))})(this,function(k,l,w,H,N,x,v,u,m){function g(pa){const Ja=pa.container();
Ja&&(Ja.setAttribute("role","graphics-document"),Ja.setAttribute("aria-roleDescription","visualization"),d(Ja,pa.description()))}function d(pa,Ja){pa&&(null==Ja?pa.removeAttribute("aria-label"):pa.setAttribute("aria-label",Ja))}function f(pa){pa.add(null,Ja=>{pa._background=Ja.bg;pa._resize=1;return Ja.bg},{bg:pa._signals.background})}function a(pa){const Ja=pa._signals.cursor||(pa._signals.cursor=pa.add({user:"default",item:null}));pa.on(pa.events("view","mousemove"),Ja,(Ua,jb)=>{const Fb=(Ua=Ja.value)?
l.isString(Ua)?Ua:Ua.user:"default";jb=jb.item&&jb.item.cursor||null;return Ua&&Fb===Ua.user&&jb==Ua.item?Ua:{user:Fb,item:jb}});pa.add(null,function(Ua){Ua=Ua.cursor;let jb=this.value;l.isString(Ua)||(jb=Ua.item,Ua=Ua.user);e(pa,Ua&&"default"!==Ua?Ua:jb||Ua);return jb},{cursor:Ja})}function e(pa,Ja){if(pa=pa.globalCursor()?"undefined"!==typeof document&&document.body:pa.container())return null==Ja?pa.style.removeProperty("cursor"):pa.style.cursor=Ja}function n(pa,Ja){pa=pa._runtime.data;l.hasOwnProperty(pa,
Ja)||l.error("Unrecognized data set: "+Ja);return pa[Ja]}function y(pa,Ja){w.isChangeSet(Ja)||l.error("Second argument to changes must be a changeset.");pa=n(this,pa);pa.modified=!0;return this.pulse(pa.input,Ja)}function B(pa){var Ja=pa.padding();return Math.max(0,pa._viewWidth+Ja.left+Ja.right)}function D(pa){var Ja=pa.padding();return Math.max(0,pa._viewHeight+Ja.top+Ja.bottom)}function O(pa){var Ja=pa.padding();pa=pa._origin;return[Ja.left+pa[0],Ja.top+pa[1]]}function M(pa){var Ja=O(pa),Ua=B(pa),
jb=D(pa);pa._renderer.background(pa.background());pa._renderer.resize(Ua,jb,Ja);pa._handler.origin(Ja);pa._resizeListeners.forEach(Fb=>{try{Fb(Ua,jb)}catch(Xb){pa.error(Xb)}})}function F(pa,Ja,Ua){var jb=pa._renderer;jb=jb&&jb.canvas();if(jb){var Fb=O(pa);var Xb=Ja.changedTouches?Ja.changedTouches[0]:Ja;Xb=H.point(Xb,jb);Xb[0]-=Fb[0];Xb[1]-=Fb[1]}Ja.dataflow=pa;Ja.item=Ua;Ja.vega=z(pa,Ua,Xb);return Ja}function z(pa,Ja,Ua){function jb(nc){var md=Xb,pc;if(nc)for(pc=Ja;pc;pc=pc.mark.group)if(pc.mark.name===
nc){md=pc;break}return md&&md.mark&&md.mark.interactive?md:{}}function Fb(nc){if(!nc)return Ua;l.isString(nc)&&(nc=jb(nc));const md=Ua.slice();for(;nc;)md[0]-=nc.x||0,md[1]-=nc.y||0,nc=nc.mark&&nc.mark.group;return md}const Xb=Ja?"group"===Ja.mark.marktype?Ja:Ja.mark.group:null;return{view:l.constant(pa),item:l.constant(Ja||{}),group:jb,xy:Fb,x:nc=>Fb(nc)[0],y:nc=>Fb(nc)[1]}}function G(pa){pa=l.extend({defaults:{}},pa);const Ja=(Ua,jb)=>{jb.forEach(Fb=>{l.isArray(Ua[Fb])&&(Ua[Fb]=l.toSet(Ua[Fb]))})};
Ja(pa.defaults,["prevent","allow"]);Ja(pa,["view","window","selector"]);return pa}function K(pa,Ja,Ua){const jb=pa._eventConfig&&pa._eventConfig[Ja];return!1===jb||l.isObject(jb)&&!jb[Ua]?(pa.warn(`Blocked ${Ja} ${Ua} event listener.`),!1):!0}function R(pa){return pa.item}function T(pa){return pa.item.mark.source}function ja(pa){return function(Ja,Ua){return Ua.vega.view().changeset().encode(Ua.item,pa)}}function fa(pa,Ja,Ua){pa=document.createElement(pa);for(const jb in Ja)pa.setAttribute(jb,Ja[jb]);
null!=Ua&&(pa.textContent=Ua);return pa}function ia(pa,Ja,Ua){if(Ja){var jb=Ua.param,Fb=Ua.state;Fb||(Fb=Ua.state={elements:null,active:!1,set:null,update:Xb=>{Xb!==pa.signal(jb.signal)&&pa.runAsync(null,()=>{Fb.source=!0;pa.signal(jb.signal,Xb)})}},jb.debounce&&(Fb.update=l.debounce(jb.debounce,Fb.update)));la(Fb,Ja,jb,pa.signal(jb.signal));Fb.active||(pa.on(pa._signals[jb.signal],null,()=>{Fb.source?Fb.source=!1:Fb.set(pa.signal(jb.signal))}),Fb.active=!0);return Fb}}function la(pa,Ja,Ua,jb){const Fb=
fa("div",{"class":"vega-bind"}),Xb="radio"===Ua.input?Fb:Fb.appendChild(fa("label"));Xb.appendChild(fa("span",{"class":"vega-bind-name"},Ua.name||Ua.signal));Ja.appendChild(Fb);Ja=Z;switch(Ua.input){case "checkbox":Ja=P;break;case "select":Ja=C;break;case "radio":Ja=V;break;case "range":Ja=ha}Ja(pa,Xb,Ua,jb)}function Z(pa,Ja,Ua,jb){const Fb=fa("input");for(const Xb in Ua)"signal"!==Xb&&"element"!==Xb&&Fb.setAttribute("input"===Xb?"type":Xb,Ua[Xb]);Fb.setAttribute("name",Ua.signal);Fb.value=jb;Ja.appendChild(Fb);
Fb.addEventListener("input",()=>pa.update(Fb.value));pa.elements=[Fb];pa.set=Xb=>Fb.value=Xb}function P(pa,Ja,Ua,jb){Ua={type:"checkbox",name:Ua.signal};jb&&(Ua.checked=!0);const Fb=fa("input",Ua);Ja.appendChild(Fb);Fb.addEventListener("change",()=>pa.update(Fb.checked));pa.elements=[Fb];pa.set=Xb=>Fb.checked=!!Xb||null}function C(pa,Ja,Ua,jb){const Fb=fa("select",{name:Ua.signal}),Xb=Ua.labels||[];Ua.options.forEach((nc,md)=>{const pc={value:nc};aa(nc,jb)&&(pc.selected=!0);Fb.appendChild(fa("option",
pc,(Xb[md]||nc)+""))});Ja.appendChild(Fb);Fb.addEventListener("change",()=>{pa.update(Ua.options[Fb.selectedIndex])});pa.elements=[Fb];pa.set=nc=>{for(let md=0,pc=Ua.options.length;md<pc;++md)if(aa(Ua.options[md],nc)){Fb.selectedIndex=md;break}}}function V(pa,Ja,Ua,jb){const Fb=fa("span",{"class":"vega-bind-radio"}),Xb=Ua.labels||[];Ja.appendChild(Fb);pa.elements=Ua.options.map((nc,md)=>{var pc={type:"radio",name:Ua.signal,value:nc};aa(nc,jb)&&(pc.checked=!0);pc=fa("input",pc);pc.addEventListener("change",
()=>pa.update(nc));md=fa("label",{},(Xb[md]||nc)+"");md.prepend(pc);Fb.appendChild(md);return pc});pa.set=nc=>{const md=pa.elements,pc=md.length;for(let Hc=0;Hc<pc;++Hc)aa(md[Hc].value,nc)&&(md[Hc].checked=!0)}}function ha(pa,Ja,Ua,jb){jb=void 0!==jb?jb:(+Ua.max+ +Ua.min)/2;const Fb=null!=Ua.max?Ua.max:Math.max(100,+jb)||100,Xb=Ua.min||Math.min(0,Fb,+jb)||0,nc=Ua.step||N.tickStep(Xb,Fb,100),md=fa("input",{type:"range",name:Ua.signal,min:Xb,max:Fb,step:nc});md.value=jb;const pc=fa("span",{},+jb);Ja.appendChild(md);
Ja.appendChild(pc);Ja=()=>{pc.textContent=md.value;pa.update(+md.value)};md.addEventListener("input",Ja);md.addEventListener("change",Ja);pa.elements=[md];pa.set=Hc=>{md.value=Hc;pc.textContent=Hc}}function aa(pa,Ja){return pa===Ja||pa+""===Ja+""}function ta(pa,Ja,Ua,jb,Fb,Xb){Ja=Ja||new jb(pa.loader());return Ja.initialize(Ua,B(pa),D(pa),O(pa),Fb,Xb).background(pa.background())}function wa(pa,Ja){return Ja?function(){try{Ja.apply(this,arguments)}catch(Ua){pa.error(Ua)}}:null}function Ha(pa,Ja,Ua,
jb){const Fb=(new jb(pa.loader(),wa(pa,pa.tooltip()))).scene(pa.scenegraph().root).initialize(Ua,O(pa),pa);Ja&&Ja.handlers().forEach(Xb=>{Fb.on(Xb.type,Xb.handler)});return Fb}function bb(pa,Ja){if("string"===typeof Ja)if("undefined"!==typeof document){if(Ja=document.querySelector(Ja),!Ja)return pa.error("Signal bind element not found: "+Ja),null}else return pa.error("DOM document instance not found."),null;if(Ja)try{Ja.innerHTML=""}catch(Ua){Ja=null,pa.error(Ua)}return Ja}function kb(pa){l.isObject(pa)?
pa={top:+pa.top||0,bottom:+pa.bottom||0,left:+pa.left||0,right:+pa.right||0}:(pa=+pa||0,pa={top:pa,bottom:pa,left:pa,right:pa});return pa}function va(pa,Ja,Ua,jb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Fb=H.renderModule(Ja);(Fb=Fb&&Fb.headless)||l.error("Unrecognized renderer type: "+Ja);yield pa.runAsync();return ta(pa,null,null,Fb,Ua,jb).renderAsync(pa._scenegraph.root)})}function Ta(pa,Ja,Ua){return v.context(pa,w.transforms,x.functionContext,Ua).parse(Ja)}function Ya(pa,
Ja){var Ua=pa.autosize();pa=pa.padding();return Ja-(Ua&&"padding"===Ua.contains?pa.left+pa.right:0)}function Ca(pa,Ja){var Ua=pa.autosize();pa=pa.padding();return Ja-(Ua&&"padding"===Ua.contains?pa.top+pa.bottom:0)}function ua(pa){function Ja(){pa._autosize=pa._resize=1}var Ua=pa._signals,jb=Ua.width,Fb=Ua.height;Ua=Ua.padding;pa._resizeWidth=pa.add(null,nc=>{pa._width=nc.size;pa._viewWidth=Ya(pa,nc.size);Ja()},{size:jb});pa._resizeHeight=pa.add(null,nc=>{pa._height=nc.size;pa._viewHeight=Ca(pa,nc.size);
Ja()},{size:Fb});const Xb=pa.add(null,Ja,{pad:Ua});pa._resizeWidth.rank=jb.rank+1;pa._resizeHeight.rank=Fb.rank+1;Xb.rank=Ua.rank+1}function U(pa,Ja){return Ja.modified&&l.isArray(Ja.input.value)&&pa.indexOf("_:vega:_")}function W(pa,Ja){return!("parent"===pa||Ja instanceof w.transforms.proxy)}function ba(pa,Ja,Ua,jb){(pa=pa.element())&&pa.setAttribute("title",ca(jb))}function ca(pa){return null==pa?"":l.isArray(pa)?"["+pa.map(qa).join(", ")+"]":l.isObject(pa)&&!l.isDate(pa)?ra(pa):pa+""}function ra(pa){return Object.keys(pa).map(Ja=>
{const Ua=pa[Ja];return Ja+": "+(l.isArray(Ua)?"["+Ua.map(qa).join(", ")+"]":qa(Ua))}).join("\n")}function qa(pa){return l.isArray(pa)?"[]":l.isObject(pa)&&!l.isDate(pa)?"{}":pa}function Da(pa,Ja){Ja=Ja||{};w.Dataflow.call(this);Ja.loader&&this.loader(Ja.loader);Ja.logger&&this.logger(Ja.logger);null!=Ja.logLevel&&this.logLevel(Ja.logLevel);if(Ja.locale||pa.locale){var Ua=l.extend({},pa.locale,Ja.locale);this.locale(m.locale(Ua.number,Ua.time))}this._elBind=this._el=null;this._renderType=Ja.renderer||
H.RenderType.Canvas;this._scenegraph=new H.Scenegraph;Ua=this._scenegraph.root;this._renderer=null;this._tooltip=Ja.tooltip||ba;this._redraw=!0;this._handler=(new H.CanvasHandler).scene(Ua);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=G(pa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const jb=Ta(this,pa,Ja.expr);this._runtime=jb;this._signals=jb.signals;this._bind=(pa.bindings||[]).map(Fb=>({state:null,
param:l.extend({},Fb)}));jb.root&&jb.root.set(Ua);Ua.source=jb.data.root.input;this.pulse(jb.data.root.input,this.changeset().insert(Ua.items));this._width=this.width();this._height=this.height();this._viewWidth=Ya(this,this._width);this._viewHeight=Ca(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;ua(this);f(this);a(this);this.description(pa.description);Ja.hover&&this.hover();Ja.container&&this.initialize(Ja.container,Ja.bind)}function na(pa,Ja){return l.hasOwnProperty(pa._signals,
Ja)?pa._signals[Ja]:l.error("Unrecognized signal name: "+l.stringValue(Ja))}function Ra(pa,Ja){pa=(pa._targets||[]).filter(Ua=>Ua._update&&Ua._update.handler===Ja);return pa.length?pa[0]:null}function db(pa,Ja,Ua,jb){let Fb=Ra(Ua,jb);Fb||(Fb=wa(pa,()=>jb(Ja,Ua.value)),Fb.handler=jb,pa.on(Ua,null,Fb));return pa}function $a(pa,Ja,Ua){(Ua=Ra(Ja,Ua))&&Ja._targets.remove(Ua);return pa}const Fa={trap:!1};var Ga={skip:!0};l.inherits(Da,w.Dataflow,{evaluate(pa,Ja,Ua){const jb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield w.Dataflow.prototype.evaluate.call(jb,
pa,Ja);if(jb._redraw||jb._resize)try{jb._renderer&&(jb._resize&&(jb._resize=0,M(jb)),yield jb._renderer.renderAsync(jb._scenegraph.root)),jb._redraw=!1}catch(Fb){jb.error(Fb)}Ua&&w.asyncCallback(jb,Ua);return jb})},dirty(pa){this._redraw=!0;this._renderer&&this._renderer.dirty(pa)},description(pa){if(arguments.length){const Ja=null!=pa?pa+"":null;Ja!==this._desc&&d(this._el,this._desc=Ja);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},
signal(pa,Ja,Ua){const jb=na(this,pa);return 1===arguments.length?jb.value:this.update(jb,Ja,Ua)},width(pa){return arguments.length?this.signal("width",pa):this.signal("width")},height(pa){return arguments.length?this.signal("height",pa):this.signal("height")},padding(pa){return arguments.length?this.signal("padding",kb(pa)):kb(this.signal("padding"))},autosize(pa){return arguments.length?this.signal("autosize",pa):this.signal("autosize")},background(pa){return arguments.length?this.signal("background",
pa):this.signal("background")},renderer(pa){if(!arguments.length)return this._renderType;H.renderModule(pa)||l.error("Unrecognized renderer type: "+pa);pa!==this._renderType&&(this._renderType=pa,this._resetRenderer());return this},tooltip(pa){if(!arguments.length)return this._tooltip;pa!==this._tooltip&&(this._tooltip=pa,this._resetRenderer());return this},loader(pa){if(!arguments.length)return this._loader;pa!==this._loader&&(w.Dataflow.prototype.loader.call(this,pa),this._resetRenderer());return this},
resize(){this._autosize=1;return this.touch(na(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(pa,Ja,Ua,jb,Fb,Xb){this.runAfter(nc=>{let md=0;nc._autosize=0;nc.width()!==Ua&&(md=1,nc.signal("width",Ua,Ga),nc._resizeWidth.skip(!0));nc.height()!==jb&&(md=1,nc.signal("height",jb,Ga),nc._resizeHeight.skip(!0));nc._viewWidth!==pa&&(nc._resize=1,nc._viewWidth=pa);nc._viewHeight!==Ja&&(nc._resize=1,nc._viewHeight=Ja);
if(nc._origin[0]!==Fb[0]||nc._origin[1]!==Fb[1])nc._resize=1,nc._origin=Fb;md&&nc.run("enter");Xb&&nc.runAfter(pc=>pc.resize())},!1,1)},addEventListener(pa,Ja,Ua){let jb=Ja;Ua&&!1===Ua.trap||(jb=wa(this,Ja),jb.raw=Ja);this._handler.on(pa,jb);return this},removeEventListener(pa,Ja){for(var Ua=this._handler.handlers(pa),jb=Ua.length,Fb,Xb;0<=--jb;)if(Xb=Ua[jb].type,Fb=Ua[jb].handler,pa===Xb&&(Ja===Fb||Ja===Fb.raw)){this._handler.off(Xb,Fb);break}return this},addResizeListener(pa){const Ja=this._resizeListeners;
0>Ja.indexOf(pa)&&Ja.push(pa);return this},removeResizeListener(pa){var Ja=this._resizeListeners;pa=Ja.indexOf(pa);0<=pa&&Ja.splice(pa,1);return this},addSignalListener(pa,Ja){return db(this,pa,na(this,pa),Ja)},removeSignalListener(pa,Ja){return $a(this,na(this,pa),Ja)},addDataListener(pa,Ja){return db(this,pa,n(this,pa).values,Ja)},removeDataListener(pa,Ja){return $a(this,n(this,pa).values,Ja)},globalCursor(pa){if(arguments.length){if(this._globalCursor!==!!pa){const Ja=e(this,null);this._globalCursor=
!!pa;Ja&&e(this,Ja)}return this}return this._globalCursor},preventDefault(pa){return arguments.length?(this._preventDefault=pa,this):this._preventDefault},timer:function(pa,Ja){this._timers.push(u.interval(function(Ua){pa({timestamp:Date.now(),elapsed:Ua})},Ja))},events:function(pa,Ja,Ua){var jb=this,Fb=new w.EventStream(Ua);Ua=function(pc,Hc){jb.runAsync(null,()=>{var mb;if(mb="view"===pa){var hc=jb._eventConfig.defaults;mb=hc.prevent;hc=hc.allow;mb=!1===mb||!0===hc?!1:!0===mb||!1===hc?!0:mb?mb[Ja]:
hc?!hc[Ja]:jb.preventDefault()}mb&&pc.preventDefault();Fb.receive(F(jb,pc,Hc))})};var Xb;if("timer"===pa)K(jb,"timer",Ja)&&jb.timer(Ua,Ja);else if("view"===pa)K(jb,"view",Ja)&&jb.addEventListener(Ja,Ua,Fa);else if("window"===pa?K(jb,"window",Ja)&&"undefined"!==typeof window&&(Xb=[window]):"undefined"!==typeof document&&K(jb,"selector",Ja)&&(Xb=document.querySelectorAll(pa)),Xb){for(var nc=0,md=Xb.length;nc<md;++nc)Xb[nc].addEventListener(Ja,Ua);jb._eventListeners.push({type:Ja,sources:Xb,handler:Ua})}else jb.warn("Can not resolve event source: "+
pa);return Fb},finalize:function(){var pa=this._tooltip,Ja=this._timers,Ua=this._eventListeners,jb;for(jb=Ja.length;0<=--jb;)Ja[jb].stop();for(jb=Ua.length;0<=--jb;){var Fb=Ua[jb];for(Ja=Fb.sources.length;0<=--Ja;)Fb.sources[Ja].removeEventListener(Fb.type,Fb.handler)}pa&&pa.call(this,this._handler,null,null,null);return this},hover:function(pa,Ja){pa=[pa||"hover"];Ja=[Ja||"update",pa[0]];this.on(this.events("view","mouseover",R),T,ja(pa));this.on(this.events("view","mouseout",R),T,ja(Ja));return this},
data:function(pa,Ja){return 2>arguments.length?n(this,pa).values.value:y.call(this,pa,w.changeset().remove(l.truthy).insert(Ja))},change:y,insert:function(pa,Ja){return y.call(this,pa,w.changeset().insert(Ja))},remove:function(pa,Ja){return y.call(this,pa,w.changeset().remove(Ja))},scale:function(pa){var Ja=this._runtime.scales;l.hasOwnProperty(Ja,pa)||l.error("Unrecognized scale or projection: "+pa);return Ja[pa].value},initialize:function(pa,Ja){const Ua=this;var jb=Ua._renderType;const Fb=Ua._eventConfig.bind;
var Xb=H.renderModule(jb);pa=Ua._el=pa?bb(Ua,pa):null;g(Ua);Xb||Ua.error("Unrecognized renderer type: "+jb);jb=Xb.handler||H.CanvasHandler;Xb=pa?Xb.renderer:Xb.headless;Ua._renderer=Xb?ta(Ua,Ua._renderer,pa,Xb):null;Ua._handler=Ha(Ua,Ua._handler,pa,jb);Ua._redraw=!0;pa&&"none"!==Fb&&(Ja=Ja?Ua._elBind=bb(Ua,Ja):pa.appendChild(fa("form",{"class":"vega-bindings"})),Ua._bind.forEach(nc=>{nc.param.element&&"container"!==Fb&&(nc.element=bb(Ua,nc.param.element))}),Ua._bind.forEach(nc=>{ia(Ua,nc.element||
Ja,nc)}));return Ua},toImageURL:function(pa,Ja){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){pa!==H.RenderType.Canvas&&pa!==H.RenderType.SVG&&pa!==H.RenderType.PNG&&l.error("Unrecognized image type: "+pa);var jb=yield va(Ua,pa,Ja);pa===H.RenderType.SVG?(jb=jb.svg(),jb=new Blob([jb],{type:"image/svg+xml"}),jb=window.URL.createObjectURL(jb)):jb=jb.canvas().toDataURL("image/png");return jb})},toCanvas:function(pa,Ja){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield va(Ua,
H.RenderType.Canvas,pa,Ja)).canvas()})},toSVG:function(pa){const Ja=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield va(Ja,H.RenderType.SVG,pa)).svg()})},getState:function(pa){return this._runtime.getState(pa||{data:U,signals:W,recurse:!0})},setState:function(pa){this.runAsync(null,Ja=>{Ja._trigger=!1;Ja._runtime.setState(pa)},Ja=>{Ja._trigger=!0});return this}});k.View=Da;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[61]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={}))})(this,function(k){function l(g,d,f,a,e){const n=g.length;let y=0,B;for(;d<n;++d)if(B=g[d],y||B!==f)e&&0<=e.indexOf(B)?--y:a&&0<=a.indexOf(B)&&++y;else break;return d}function w(g){const d=[],f=g.length;let a=0,e=0;for(;e<f;)e=l(g,e,",","[{","]}"),d.push(g.substring(a,
e).trim()),a=++e;if(0===d.length)throw"Empty event selector: "+g;return d}function H(g){if("["===g[0]){var d=g;var f=d.length;g=l(d,1,"]","[","]");if(g===f)throw"Empty between selector: "+d;f=w(d.substring(1,g));if(2!==f.length)throw"Between selector must have two elements: "+d;d=d.slice(g+1).trim();if("\x3e"!==d[0])throw"Expected '\x3e' after between selector: "+d;f=f.map(H);d=H(d.slice(1).trim());d.between?d={between:f,stream:d}:d.between=f}else{{f={source:u};const a=[];let e=[0,0],n=0,y=0,B=g.length,
D=0,O;if("}"===g[B-1]){D=g.lastIndexOf("{");if(0<=D){try{e=N(g.substring(D+1,B-1))}catch(M){throw"Invalid throttle specification: "+g;}g=g.slice(0,D).trim();B=g.length}else throw"Unmatched right brace: "+g;D=0}if(!B)throw g;"@"===g[0]&&(n=++D);O=l(g,D,":");O<B&&(a.push(g.substring(y,O).trim()),y=D=++O);D=l(g,D,"[");if(D===B)a.push(g.substring(y,B).trim());else if(a.push(g.substring(y,D).trim()),d=[],y=++D,y===B)throw"Unmatched left bracket: "+g;for(;D<B;){D=l(g,D,"]");if(D===B)throw"Unmatched left bracket: "+
g;d.push(g.substring(y,D).trim());if(D<B-1&&"["!==g[++D])throw"Expected left bracket: "+g;y=++D}if(!(B=a.length)||x.test(a[B-1]))throw"Invalid event selector: "+g;1<B?(f.type=a[1],n?f.markname=a[0].slice(1):m[a[0]]?f.marktype=a[0]:f.source=a[0]):f.type=a[0];"!"===f.type.slice(-1)&&(f.consume=!0,f.type=f.type.slice(0,-1));null!=d&&(f.filter=d);e[0]&&(f.throttle=e[0]);e[1]&&(f.debounce=e[1]);d=f}}return d}function N(g){const d=g.split(",");if(!g.length||2<d.length)throw g;return d.map(f=>{f=+f;if(f!==
f)throw g;return f})}const x=/[[\]{}]/,v={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let u,m;k.selector=function(g,d,f){u=d||"view";m=f||v;return w(g.trim()).map(H)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[62]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(58),A(61),A(35),A(26)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x){function v(Aa){return l.isObject(Aa)?Aa:{type:Aa||"pad"}}function u(Aa){l.isObject(Aa)?Aa=Aa.signal?
Aa:{top:+Aa.top||0,bottom:+Aa.bottom||0,left:+Aa.left||0,right:+Aa.right||0}:(Aa=+Aa||0,Aa={top:Aa,bottom:Aa,left:Aa,right:Aa});return Aa}function m(Aa,Pa,vb,Wb){return null!=vb?(l.isObject(vb)&&!l.isArray(vb)||l.isArray(vb)&&vb.length&&l.isObject(vb[0])?Aa.update[Pa]=vb:Aa[Wb||"enter"][Pa]={value:vb},1):0}function g(Aa,Pa,vb){for(const Wb in Pa)m(Aa,Wb,Pa[Wb]);for(const Wb in vb)m(Aa,Wb,vb[Wb],"update")}function d(Aa,Pa,vb){for(const Wb in Pa)vb&&l.hasOwnProperty(vb,Wb)||(Aa[Wb]=l.extend(Aa[Wb]||
{},Pa[Wb]));return Aa}function f(Aa,Pa){return Pa&&(Pa.enter&&Pa.enter[Aa]||Pa.update&&Pa.update[Aa])}function a(Aa,Pa,vb,Wb,Tb){const ic={},oc={};let fd,Wc;Wc="lineBreak";"text"!==Pa||null==Tb[Wc]||f(Wc,Aa)||e(ic,Wc,Tb[Wc]);if("legend"==vb||String(vb).startsWith("axis"))vb=null;vb="frame"===vb?Tb.group:"mark"===vb?l.extend({},Tb.mark,Tb[Pa]):null;for(Wc in vb)(Pa=f(Wc,Aa)||("fill"===Wc||"stroke"===Wc)&&(f("fill",Aa)||f("stroke",Aa)))||e(ic,Wc,vb[Wc]);l.array(Wb).forEach(nd=>{nd=Tb.style&&Tb.style[nd];
for(const Kd in nd)f(Kd,Aa)||e(ic,Kd,nd[Kd])});Aa=l.extend({},Aa);for(Wc in ic)vb=ic[Wc],vb.signal?(fd=fd||{})[Wc]=vb:oc[Wc]=vb;Aa.enter=l.extend(oc,Aa.enter);fd&&(Aa.update=l.extend(fd,Aa.update));return Aa}function e(Aa,Pa,vb){Aa[Pa]=vb&&vb.signal?{signal:vb.signal}:{value:vb}}function n(Aa){if(null!=Aa.gradient)return y(Aa);if(Aa.signal)var Pa=`(${Aa.signal})`;else Aa.color?(Pa=Aa.color,Pa=Pa.c?me("hcl",Pa.h,Pa.c,Pa.l):Pa.h||Pa.s?me("hsl",Pa.h,Pa.s,Pa.l):Pa.l||Pa.a?me("lab",Pa.l,Pa.a,Pa.b):Pa.r||
Pa.g||Pa.b?me("rgb",Pa.r,Pa.g,Pa.b):null):Pa=null!=Aa.field?D(Aa.field):void 0!==Aa.value?l.stringValue(Aa.value):void 0;if(null!=Aa.scale){{const vb=Nf(Aa.scale);null!=Aa.range?Pa=`lerp(_range(${vb}), ${+Aa.range})`:(void 0!==Pa&&(Pa=`_scale(${vb}, ${Pa})`),Aa.band&&(Pa=(Pa?Pa+"+":"")+`_bandwidth(${vb})`+(1===+Aa.band?"":"*"+B(Aa.band)),Aa.extra&&(Pa=`(datum.extra ? _scale(${vb}, datum.extra.value) : ${Pa})`)),null==Pa&&(Pa="0"))}}void 0===Pa&&(Pa=null);null!=Aa.exponent&&(Pa=`pow(${Pa},${B(Aa.exponent)})`);
null!=Aa.mult&&(Pa+=`*${B(Aa.mult)}`);null!=Aa.offset&&(Pa+=`+${B(Aa.offset)}`);Aa.round&&(Pa=`round(${Pa})`);return Pa}function y(Aa){const Pa=[Aa.start,Aa.stop,Aa.count].map(vb=>null==vb?null:l.stringValue(vb));for(;Pa.length&&null==l.peek(Pa);)Pa.pop();Pa.unshift(Nf(Aa.gradient));return`gradient(${Pa.join(",")})`}function B(Aa){return l.isObject(Aa)?"("+n(Aa)+")":Aa}function D(Aa){return O(l.isObject(Aa)?Aa:{datum:Aa})}function O(Aa){let Pa;if(Aa.signal){Pa="datum";var vb=Aa.signal}else if(Aa.group||
Aa.parent){vb=Math.max(1,Aa.level||1);for(Pa="item";0<vb--;)Pa+=".mark.group";Aa.parent?(vb=Aa.parent,Pa+=".datum"):vb=Aa.group}else Aa.datum?(Pa="datum",vb=Aa.datum):l.error("Invalid field reference: "+l.stringValue(Aa));Aa.signal||(vb=l.isString(vb)?l.splitAccessPath(vb).map(l.stringValue).join("]["):O(vb));return Pa+"["+vb+"]"}function M(Aa){let Pa="";Aa.forEach(vb=>{const Wb=n(vb);Pa+=vb.test?`(${vb.test})?${Wb}:`:Wb});":"===l.peek(Pa)&&(Pa+="null");return Pa}function F(Aa,Pa,vb,Wb,Tb,ic){const oc=
{};ic=ic||{};ic.encoders={$encode:oc};Aa=a(Aa,Pa,vb,Wb,Tb.config);for(const Kd in Aa){{vb=Aa[Kd];Wb=Pa;var fd=ic,Wc=Tb;const de={},je={};for(const Gd in vb)if(null!=vb[Gd]){var nd=vb[Gd];nd=l.isArray(nd)?M(nd):n(nd);de[Gd]=z(nd,Wc,fd,je)}vb={$expr:{marktype:Wb,channels:de},$fields:Object.keys(je),$output:Object.keys(vb)}}oc[Kd]=vb}return ic}function z(Aa,Pa,vb,Wb){Aa=w.parseExpression(Aa,Pa);Aa.$fields.forEach(Tb=>Wb[Tb]=1);l.extend(vb,Aa.$params);return Aa.$expr}function G(Aa,Pa){l.error(Aa+' for "outer" push: '+
l.stringValue(Pa))}function K(Aa,Pa){const vb=Aa.name;if("outer"===Aa.push)Pa.signals[vb]||G("No prior signal definition",vb),te.forEach(Wb=>{void 0!==Aa[Wb]&&G("Invalid property ",Wb)});else{const Wb=Pa.addSignal(vb,Aa.value);!1===Aa.react&&(Wb.react=!1);Aa.bind&&Pa.addBinding(vb,Aa.bind)}}function R(Aa,Pa,vb,Wb){this.id=-1;this.type=Aa;this.value=Pa;this.params=vb;Wb&&(this.parent=Wb)}function T(Aa){const Pa={$ref:Aa.id};0>Aa.id&&(Aa.refs=Aa.refs||[]).push(Pa);return Pa}function ja(Aa,Pa){return Pa?
{$field:Aa,$name:Pa}:{$field:Aa}}function fa(Aa,Pa){Aa={$key:Aa};Pa&&(Aa.$flat=!0);return Aa}function ia(Aa,Pa){return(Aa&&Aa.signal?"$"+Aa.signal:Aa||"")+(Aa&&Pa?"_":"")+(Pa&&Pa.signal?"$"+Pa.signal:Pa||"")}function la(Aa){return Aa&&Aa.signal}function Z(Aa){if(la(Aa))return!0;if(l.isObject(Aa))for(const Pa in Aa)if(Z(Aa[Pa]))return!0;return!1}function P(Aa,Pa){return null!=Aa?Aa:Pa}function C(Aa){return Aa&&Aa.signal||Aa}function V(Aa,Pa){return(Aa.merge?aa:Aa.stream?ta:Aa.type?wa:l.error("Invalid stream specification: "+
l.stringValue(Aa)))(Aa,Pa)}function ha(Aa){return"scope"===Aa?"view":Aa||"view"}function aa(Aa,Pa){const vb=Aa.merge.map(Wb=>V(Wb,Pa));Aa=Ha({merge:vb},Aa,Pa);return Pa.addStream(Aa).id}function ta(Aa,Pa){const vb=V(Aa.stream,Pa);Aa=Ha({stream:vb},Aa,Pa);return Pa.addStream(Aa).id}function wa(Aa,Pa){let vb;"timer"===Aa.type?(vb=Pa.event("timer",Aa.throttle),Aa={between:Aa.between,filter:Aa.filter}):vb=Pa.event(ha(Aa.source),Aa.type);Aa=Ha({stream:vb},Aa,Pa);return 1===Object.keys(Aa).length?vb:Pa.addStream(Aa).id}
function Ha(Aa,Pa,vb){let Wb=Pa.between;Wb&&(2!==Wb.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(Pa)),Aa.between=[V(Wb[0],vb),V(Wb[1],vb)]);Wb=Pa.filter?[].concat(Pa.filter):[];(Pa.marktype||Pa.markname||Pa.markrole)&&Wb.push(bb(Pa.marktype,Pa.markname,Pa.markrole));"scope"===Pa.source&&Wb.push("inScope(event.item)");Wb.length&&(Aa.filter=w.parseExpression("("+Wb.join(")\x26\x26(")+")",vb).$expr);null!=(Wb=Pa.throttle)&&(Aa.throttle=+Wb);null!=(Wb=Pa.debounce)&&
(Aa.debounce=+Wb);Pa.consume&&(Aa.consume=!0);return Aa}function bb(Aa,Pa,vb){return"event.item"+(Aa&&"*"!==Aa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Aa+"'":"")+(vb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+vb+"'":"")+(Pa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Pa+"'":"")}function kb(Aa,Pa,vb){const Wb=Aa.encode,Tb={target:vb};vb=Aa.events;let ic=Aa.update,oc=[];vb||l.error("Signal update missing events specification.");l.isString(vb)&&(vb=H.selector(vb,Pa.isSubscope()?"scope":"view"));
vb=l.array(vb).filter(fd=>fd.signal||fd.scale?(oc.push(fd),0):1);1<oc.length&&(oc=[Ta(oc)]);vb.length&&oc.push(1<vb.length?{merge:vb}:vb[0]);null!=Wb&&(ic&&l.error("Signal encode and update are mutually exclusive."),ic="encode(item(),"+l.stringValue(Wb)+")");Tb.update=l.isString(ic)?w.parseExpression(ic,Pa):null!=ic.expr?w.parseExpression(ic.expr,Pa):null!=ic.value?ic.value:null!=ic.signal?{$expr:we,$params:{$value:Pa.signalRef(ic.signal)}}:l.error("Invalid signal update specification.");Aa.force&&
(Tb.options={force:!0});oc.forEach(fd=>Pa.addUpdate(l.extend(va(fd,Pa),Tb)))}function va(Aa,Pa){return{source:Aa.signal?Pa.signalRef(Aa.signal):Aa.scale?Pa.scaleRef(Aa.scale):V(Aa,Pa)}}function Ta(Aa){return{signal:"["+Aa.map(Pa=>Pa.scale?'scale("'+Pa.scale+'")':Pa.signal)+"]"}}function Ya(Aa,Pa){const vb=Pa.getSignal(Aa.name);let Wb=Aa.update;Aa.init&&(Wb?l.error("Signals can not include both init and update expressions."):(Wb=Aa.init,vb.initonly=!0));Wb&&(Wb=w.parseExpression(Wb,Pa),vb.update=Wb.$expr,
vb.params=Wb.$params);Aa.on&&Aa.on.forEach(Tb=>kb(Tb,Pa,vb.id))}function Ca(Aa,Pa){return l.isObject(Aa)?Aa.signal?Pa.signalRef(Aa.signal):l.error("Unsupported object: "+l.stringValue(Aa)):Aa}function ua(Aa,Pa){return Aa.signal?Pa.signalRef(Aa.signal):Aa.map(vb=>Ca(vb,Pa))}function U(Aa){l.error("Can not find data set: "+l.stringValue(Aa))}function W(Aa,Pa,vb){if(Aa)return Aa.signal?vb.signalRef(Aa.signal):(l.isArray(Aa)?ba:Aa.fields?ra:ca)(Aa,Pa,vb);null==Pa.domainMin&&null==Pa.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}
function ba(Aa,Pa,vb){return Aa.map(Wb=>Ca(Wb,vb))}function ca(Aa,Pa,vb){const Wb=vb.getData(Aa.data);Wb||U(Aa.data);return N.isDiscrete(Pa.type)?Wb.valuesRef(vb,Aa.field,Da(Aa.sort,!1)):N.isQuantile(Pa.type)?Wb.domainRef(vb,Aa.field):Wb.extentRef(vb,Aa.field)}function ra(Aa,Pa,vb){const Wb=Aa.data,Tb=Aa.fields.reduce((ic,oc)=>{if(l.isString(oc))oc={data:Wb,field:oc};else if(l.isArray(oc)||oc.signal){{var fd=oc;oc="_:vega:_"+gd++;const Wc=Ge({});l.isArray(fd)?Wc.value={$ingest:fd}:fd.signal&&(fd=
"setdata("+l.stringValue(oc)+","+fd.signal+")",Wc.params.input=vb.signalRef(fd));vb.addDataPipeline(oc,[Wc,ub({})]);oc={data:oc,field:"data"}}}ic.push(oc);return ic},[]);return(N.isDiscrete(Pa.type)?qa:N.isQuantile(Pa.type)?na:Ra)(Aa,vb,Tb)}function qa(Aa,Pa,vb){const Wb=Da(Aa.sort,!0);Aa=vb.map(ic=>{const oc=Pa.getData(ic.data);oc||U(ic.data);return oc.countsRef(Pa,ic.field,Wb)});const Tb={groupby:kf,pulse:Aa};Wb&&(Aa=Wb.op||"count",vb=Wb.field?ia(Aa,Wb.field):"count",Tb.ops=[Mc[Aa]],Tb.fields=[Pa.fieldRef(vb)],
Tb.as=[vb]);Aa=Pa.add(Xd(Tb));Aa=Pa.add(Ge({pulse:T(Aa)}));vb=Pa.add(Oc({field:kf,sort:Pa.sortRef(Wb),pulse:T(Aa)}));return T(vb)}function Da(Aa,Pa){Aa&&(Aa.field||Aa.op?Aa.field||"count"===Aa.op?Pa&&Aa.field&&Aa.op&&!Mc[Aa.op]&&l.error("Multiple domain scales can not be sorted using "+Aa.op):l.error("No field provided for sort aggregate op: "+Aa.op):l.isObject(Aa)?Aa.field="key":Aa={field:"key"});return Aa}function na(Aa,Pa,vb){Aa=vb.map(Wb=>{const Tb=Pa.getData(Wb.data);Tb||U(Wb.data);return Tb.domainRef(Pa,
Wb.field)});return T(Pa.add(If({values:Aa})))}function Ra(Aa,Pa,vb){Aa=vb.map(Wb=>{const Tb=Pa.getData(Wb.data);Tb||U(Wb.data);return Tb.extentRef(Pa,Wb.field)});return T(Pa.add(Yf({extents:Aa})))}function db(Aa,Pa,vb){const Wb=Pa.config.range;let Tb=Aa.range;if(Tb.signal)return Pa.signalRef(Tb.signal);if(l.isString(Tb)){if(Wb&&l.hasOwnProperty(Wb,Tb))return Aa=l.extend({},Aa,{range:Wb[Tb]}),db(Aa,Pa,vb);"width"===Tb?Tb=[0,{signal:"width"}]:"height"===Tb?Tb=N.isDiscrete(Aa.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Tb))}else{if(Tb.scheme){vb.scheme=l.isArray(Tb.scheme)?ua(Tb.scheme,Pa):Ca(Tb.scheme,Pa);Tb.extent&&(vb.schemeExtent=ua(Tb.extent,Pa));Tb.count&&(vb.schemeCount=Ca(Tb.count,Pa));return}if(Tb.step){vb.rangeStep=Ca(Tb.step,Pa);return}if(N.isDiscrete(Aa.type)&&!l.isArray(Tb))return W(Tb,Aa,Pa);l.isArray(Tb)||l.error("Unsupported range type: "+l.stringValue(Tb))}return Tb.map(ic=>(l.isArray(ic)?ua:Ca)(ic,Pa))}function $a(Aa,
Pa,vb){return l.isArray(Aa)?Aa.map(Wb=>$a(Wb,Pa,vb)):l.isObject(Aa)?Aa.signal?vb.signalRef(Aa.signal):"fit"===Pa?Aa:l.error("Unsupported parameter object: "+l.stringValue(Aa)):Aa}function Fa(Aa){Aa.type="group";Aa.interactive=Aa.interactive||!1;return Aa}function Ga(Aa,Pa){const vb=(Wb,Tb)=>P(Aa[Wb],P(Pa[Wb],Tb));vb.isVertical=Wb=>"vertical"===P(Aa.direction,Pa.direction||(Wb?Pa.symbolDirection:Pa.gradientDirection));vb.gradientLength=()=>P(Aa.gradientLength,Pa.gradientLength||Pa.gradientWidth);vb.gradientThickness=
()=>P(Aa.gradientThickness,Pa.gradientThickness||Pa.gradientHeight);vb.entryColumns=()=>P(Aa.columns,P(Pa.columns,+vb.isVertical(!0)));return vb}function pa(Aa,Pa){return(Aa=Pa&&(Pa.update&&Pa.update[Aa]||Pa.enter&&Pa.enter[Aa]))&&Aa.signal?Aa:Aa?Aa.value:null}function Ja(Aa,Pa,vb){return`item.anchor === '${"start"}' ? ${Aa} : item.anchor === '${"end"}' ? ${Pa} : ${vb}`}function Ua(Aa,Pa){return Pa?Aa?l.isObject(Aa)?Object.assign({},Aa,{offset:Ua(Aa.offset,Pa)}):{value:Aa,offset:Pa}:Pa:Aa}function jb(Aa,
Pa){Pa?(Aa.name=Pa.name,Aa.style=Pa.style||Aa.style,Aa.interactive=!!Pa.interactive,Aa.encode=d(Aa.encode,Pa,od)):Aa.interactive=!1;return Aa}function Fb(Aa,Pa,vb,Wb){Aa=Ga(Aa,vb);var Tb=Aa.isVertical();vb=Aa.gradientThickness();const ic=Aa.gradientLength();let oc,fd,Wc;Tb?(Tb=[0,1],fd=[0,0],Wc=vb,vb=ic):(Tb=[0,0],fd=[1,0],Wc=ic);Pa={enter:oc={opacity:Id,x:Id,y:Id,width:Ue(Wc),height:Ue(vb)},update:l.extend({},oc,{opacity:jd,fill:{gradient:Pa,start:Tb,stop:fd}}),exit:{opacity:Id}};g(Pa,{stroke:Aa("gradientStrokeColor"),
strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return jb({type:"rect",role:"legend-gradient",encode:Pa},Wb)}function Xb(Aa,Pa,vb,Wb,Tb){Aa=Ga(Aa,vb);const ic=Aa.isVertical();vb=Aa.gradientThickness();const oc=Aa.gradientLength();var fd;let Wc,nd,Kd,de="";ic?(fd="y",nd="y2",Wc="x",Kd="width",de="1-"):(fd="x",nd="x2",Wc="y",Kd="height");Pa={opacity:Id,fill:{scale:Pa,field:"value"}};Pa[fd]={signal:de+"datum.perc",mult:oc};Pa[Wc]=Id;Pa[nd]={signal:de+"datum.perc2",mult:oc};Pa[Kd]=
Ue(vb);fd={enter:Pa,update:l.extend({},Pa,{opacity:jd}),exit:{opacity:Id}};g(fd,{stroke:Aa("gradientStrokeColor"),strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return jb({type:"rect",role:"legend-band",key:"value",from:Tb,encode:fd},Wb)}function nc(Aa,Pa,vb,Wb){const Tb=Ga(Aa,Pa);var ic=Tb.isVertical();const oc=Ue(Tb.gradientThickness()),fd=Tb.gradientLength();let Wc=Tb("labelOverlap"),nd,Kd,de,je="";const Gd={enter:nd={opacity:Id},update:Kd={opacity:jd,text:{field:"label"}},
exit:{opacity:Id}};g(Gd,{fill:Tb("labelColor"),fillOpacity:Tb("labelOpacity"),font:Tb("labelFont"),fontSize:Tb("labelFontSize"),fontStyle:Tb("labelFontStyle"),fontWeight:Tb("labelFontWeight"),limit:P(Aa.labelLimit,Pa.gradientLabelLimit)});ic?(nd.align={value:"left"},nd.baseline=Kd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},ic="y",de="x",je="1-"):(nd.align=Kd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},nd.baseline={value:"top"},
ic="x",de="y");nd[ic]=Kd[ic]={signal:je+"datum.perc",mult:fd};nd[de]=Kd[de]=oc;oc.offset=P(Aa.labelOffset,Pa.gradientLabelOffset)||0;Wc=Wc?{separation:Tb("labelSeparation"),method:Wc,order:"datum.index"}:void 0;return jb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Wb,encode:Gd,overlap:Wc},vb)}function md(Aa,Pa,vb,Wb,Tb){var ic=Ga(Aa,Pa);const oc=vb.entries,fd=!(!oc||!oc.interactive),Wc=oc?oc.name:void 0,nd=ic("clipHeight"),Kd=ic("symbolOffset"),de={data:"value"},je=`(${Tb}) ? datum.${"offset"} : datum.${"size"}`,
Gd=nd?Ue(nd):{field:"size"},Le=`max(1, ${Tb})`;let $d,Ie;Gd.mult=.5;var Ce={enter:$d={opacity:Id,x:{signal:je,mult:.5,offset:Kd},y:Gd},update:Ie={opacity:jd,x:$d.x,y:$d.y},exit:{opacity:Id}};let Qe=null,Uf=null;Aa.fill||(Qe=Pa.symbolBaseFillColor,Uf=Pa.symbolBaseStrokeColor);g(Ce,{fill:ic("symbolFillColor",Qe),shape:ic("symbolType"),size:ic("symbolSize"),stroke:ic("symbolStrokeColor",Uf),strokeDash:ic("symbolDash"),strokeDashOffset:ic("symbolDashOffset"),strokeWidth:ic("symbolStrokeWidth")},{opacity:ic("symbolOpacity")});
Nd.forEach(ne=>{Aa[ne]&&(Ie[ne]=$d[ne]={scale:Aa[ne],field:"value"})});Pa=jb({type:"symbol",role:"legend-symbol",key:"value",from:de,clip:nd?!0:void 0,encode:Ce},vb.symbols);Ce=Ue(Kd);Ce.offset=ic("labelOffset");Ce={enter:$d={opacity:Id,x:{signal:je,offset:Ce},y:Gd},update:Ie={opacity:jd,text:{field:"label"},x:$d.x,y:$d.y},exit:{opacity:Id}};g(Ce,{align:ic("labelAlign"),baseline:ic("labelBaseline"),fill:ic("labelColor"),fillOpacity:ic("labelOpacity"),font:ic("labelFont"),fontSize:ic("labelFontSize"),
fontStyle:ic("labelFontStyle"),fontWeight:ic("labelFontWeight"),limit:ic("labelLimit")});vb=jb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:de,encode:Ce},vb.labels);Ce={enter:{noBound:{value:!nd},width:Id,height:nd?Ue(nd):Id,opacity:Id},exit:{opacity:Id},update:Ie={opacity:jd,row:{signal:null},column:{signal:null}}};ic.isVertical(!0)?(ic=`ceil(item.mark.items.length / ${Le})`,Ie.row.signal=`${"datum.index"}%${ic}`,Ie.column.signal=`floor(${"datum.index"} / ${ic})`,ic={field:["row",
"datum.index"]}):(Ie.row.signal=`floor(${"datum.index"} / ${Le})`,Ie.column.signal=`${"datum.index"} % ${Le}`,ic={field:"datum.index"});Ie.column.signal=`(${Tb})?${Ie.column.signal}:${"datum.index"}`;Wb={facet:{data:Wb,name:"value",groupby:"index"}};return Fa({role:"scope",from:Wb,encode:d(Ce,oc,od),marks:[Pa,vb],name:Wc,interactive:fd,sort:ic})}function pc(Aa,Pa){Aa=Ga(Aa,Pa);return{align:Aa("gridAlign"),columns:Aa.entryColumns(),center:{row:!0,column:!1},padding:{row:Aa("rowPadding"),column:Aa("columnPadding")}}}
function Hc(Aa,Pa,vb,Wb){Pa=Ga(Aa,Pa);const Tb={enter:{opacity:Id},update:{opacity:jd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Id}};g(Tb,{orient:Pa("titleOrient"),_anchor:Pa("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Gf},baseline:{signal:tf},text:Aa.title,fill:Pa("titleColor"),fillOpacity:Pa("titleOpacity"),font:Pa("titleFont"),fontSize:Pa("titleFontSize"),fontStyle:Pa("titleFontStyle"),fontWeight:Pa("titleFontWeight"),limit:Pa("titleLimit"),lineHeight:Pa("titleLineHeight")},{align:Pa("titleAlign"),baseline:Pa("titleBaseline")});return jb({type:"text",role:"legend-title",style:"guide-title",from:Wb,encode:Tb},vb)}function mb(Aa,Pa){let vb;l.isObject(Aa)&&(Aa.signal?vb=Aa.signal:Aa.path?vb="pathShape("+
hc(Aa.path)+")":Aa.sphere&&(vb="geoShape("+hc(Aa.sphere)+', {type: "Sphere"})'));return vb?Pa.signalRef(vb):!!Aa}function hc(Aa){return l.isObject(Aa)&&Aa.signal?Aa.signal:l.stringValue(Aa)}function jc(Aa){const Pa=Aa.role||"";return Pa.indexOf("axis")&&Pa.indexOf("legend")&&Pa.indexOf("title")?"group"===Aa.type?"scope":Pa||"mark":Pa}function rc(Aa){return{marktype:Aa.type,name:Aa.name||void 0,role:Aa.role||jc(Aa),zindex:+Aa.zindex||void 0,aria:Aa.aria,description:Aa.description}}function Pc(Aa,Pa){return Aa&&
Aa.signal?Pa.signalRef(Aa.signal):!1===Aa?!1:!0}function sc(Aa,Pa){const vb=x.definition(Aa.type);vb||l.error("Unrecognized transform type: "+l.stringValue(Aa.type));var Wb=vb.type.toLowerCase();var Tb=Uc(vb,Aa,Pa);Wb=new R(Wb,null,Tb,void 0);Aa.signal&&Pa.addSignal(Aa.signal,Pa.proxy(Wb));Wb.metadata=vb.metadata||{};return Wb}function Uc(Aa,Pa,vb){const Wb={},Tb=Aa.params.length;for(let ic=0;ic<Tb;++ic){const oc=Aa.params[ic];Wb[oc.name]=Sc(oc,Pa,vb)}return Wb}function Sc(Aa,Pa,vb){const Wb=Aa.type,
Tb=Pa[Aa.name];if("index"===Wb)return Fd(Aa,Pa,vb);if(void 0===Tb)Aa.required&&l.error("Missing required "+l.stringValue(Pa.type)+" parameter: "+l.stringValue(Aa.name));else return"param"===Wb?ge(Aa,Pa,vb):"projection"===Wb?vb.projectionRef(Pa[Aa.name]):Aa.array&&!la(Tb)?Tb.map(ic=>Lc(Aa,ic,vb)):Lc(Aa,Tb,vb)}function Lc(Aa,Pa,vb){const Wb=Aa.type;return la(Pa)?"expr"===Wb?l.error("Expression references can not be signals."):"field"===Wb?vb.fieldRef(Pa):"compare"===Wb?vb.compareRef(Pa):vb.signalRef(Pa.signal):
(Aa=Aa.expr||"field"===Wb)&&Pa&&Pa.expr?vb.exprRef(Pa.expr,Pa.as):Aa&&Pa&&Pa.field?ja(Pa.field,Pa.as):"expr"===Wb?w.parseExpression(Pa,vb):"data"===Wb?T(vb.getData(Pa).values):"field"===Wb?ja(Pa):"compare"===Wb?vb.compareRef(Pa):Pa}function Fd(Aa,Pa,vb){l.isString(Pa.from)||l.error('Lookup "from" parameter must be a string literal.');return vb.getData(Pa.from).lookupRef(vb,Pa.key)}function ge(Aa,Pa,vb){Pa=Pa[Aa.name];return Aa.array?(l.isArray(Pa)||l.error("Expected an array of sub-parameters. Instead: "+
l.stringValue(Pa)),Pa.map(Wb=>wd(Aa,Wb,vb))):wd(Aa,Pa,vb)}function wd(Aa,Pa,vb){const Wb=Aa.params.length;let Tb;for(let ic=0;ic<Wb;++ic){Tb=Aa.params[ic];for(const oc in Tb.key)if(Tb.key[oc]!==Pa[oc]){Tb=null;break}if(Tb)break}Tb||l.error("Unsupported parameter: "+l.stringValue(Pa));Aa=l.extend(Uc(Tb,Pa,vb),Tb.key);return T(vb.add(Bf(Aa)))}function vd(Aa,Pa,vb){let Wb,Tb,ic,oc;if(!Aa)ic=T(vb.add(Ge(null,[{}])));else if(Wb=Aa.facet)Pa||l.error("Only group marks can be faceted."),null!=Wb.field?ic=
oc=Wd(Wb,vb):(Aa.data?oc=T(vb.getData(Aa.data).aggregate):(Pa=sc(l.extend({type:"aggregate",groupby:l.array(Wb.groupby)},Wb.aggregate),vb),Pa.params.key=vb.keyRef(Wb.groupby),Pa.params.pulse=Wd(Wb,vb),ic=oc=T(vb.add(Pa))),Tb=vb.keyRef(Wb.groupby,!0));ic||(ic=Wd(Aa,vb));return{key:Tb,pulse:ic,parent:oc}}function Wd(Aa,Pa){return Aa.$ref?Aa:Aa.data&&Aa.data.$ref?Aa.data:T(Pa.getData(Aa.data).output)}function Pb(Aa,Pa,vb,Wb,Tb){this.scope=Aa;this.input=Pa;this.output=vb;this.values=Wb;this.aggregate=
Tb;this.index={}}function gc(Aa){return l.isString(Aa)?Aa:null}function Eb(Aa,Pa,vb){const Wb=ia(vb.op,vb.field);let Tb;if(Pa.ops)for(let ic=0,oc=Pa.as.length;ic<oc;++ic){if(Pa.as[ic]===Wb)return}else Pa.ops=["count"],Pa.fields=[null],Pa.as=["count"];vb.op&&(Pa.ops.push((Tb=vb.op.signal)?Aa.signalRef(Tb):vb.op),Pa.fields.push(Aa.fieldRef(vb.field)),Pa.as.push(Wb))}function zc(Aa,Pa,vb,Wb,Tb,ic,oc){vb=Pa[vb]||(Pa[vb]={});var fd=l.isObject(ic)?("descending"===ic.order?"-":"+")+ia(ic.op,ic.field):"";
let Wc=gc(Tb);if(null!=Wc){Aa=Pa.scope;Wc+=fd?"|"+fd:"";var nd=vb[Wc]}nd||(nd=ic?{field:kf,pulse:Pa.countsRef(Aa,Tb,ic)}:{field:Aa.fieldRef(Tb),pulse:T(Pa.output)},fd&&(nd.sort=Aa.sortRef(ic)),Aa=Aa.add(new R(Wb,void 0,nd,void 0)),oc&&(Pa.index[Tb]=Aa),nd=T(Aa),null!=Wc&&(vb[Wc]=nd));return nd}function Vc(Aa,Pa,vb){var Wb=Aa.from.facet;const Tb=Wb.name,ic=Wd(Wb,Pa);let oc;Wb.name||l.error("Facet must have a name: "+l.stringValue(Wb));Wb.data||l.error("Facet must reference a data set: "+l.stringValue(Wb));
Wb.field?oc=Pa.add(qe({field:Pa.fieldRef(Wb.field),pulse:ic})):Wb.groupby?oc=Pa.add(xe({key:Pa.keyRef(Wb.groupby),group:T(Pa.proxy(vb.parent)),pulse:ic})):l.error("Facet must specify groupby or field: "+l.stringValue(Wb));Pa=Pa.fork();vb=Pa.add(Ge());Wb=Pa.add(ub({pulse:T(vb)}));Pa.addData(Tb,new Pb(Pa,vb,vb,Wb));Pa.addSignal("parent",null);oc.params.subflow={$subflow:Pa.parse(Aa).toRuntime()}}function Ed(Aa,Pa,vb){vb=Pa.add(qe({pulse:vb.pulse}));Pa=Pa.fork();Pa.add(ub());Pa.addSignal("parent",null);
vb.params.subflow={$subflow:Pa.parse(Aa).toRuntime()}}function Vd(Aa,Pa,vb){const Wb=Aa.remove,Tb=Aa.insert,ic=Aa.toggle,oc=Aa.modify,fd=Aa.values,Wc=Pa.add(new R("operator",void 0,void 0,void 0));Aa="if("+Aa.trigger+',modify("'+vb+'",'+[Tb,Wb,ic,oc,fd].map(nd=>null==nd?"null":nd).join(",")+"),0)";Pa=w.parseExpression(Aa,Pa);Wc.update=Pa.$expr;Wc.params=Pa.$params}function Ka(Aa,Pa){var vb=jc(Aa),Wb="group"===Aa.type,Tb=Aa.from&&Aa.from.facet;const ic=Aa.overlap;let oc=Aa.layout||"scope"===vb||"frame"===
vb,fd,Wc,nd,Kd,de,je;const Gd="mark"===vb||oc||Tb,Le=vd(Aa.from,Wb,Pa);Wc=Pa.add(Ye({key:Le.key||(Aa.key?ja(Aa.key):void 0),pulse:Le.pulse,clean:!Wb}));const $d=T(Wc);Wc=nd=Pa.add(Ge({pulse:$d}));Wc=Pa.add(lf({markdef:rc(Aa),interactive:Pc(Aa.interactive,Pa),clip:mb(Aa.clip,Pa),context:{$context:!0},groups:Pa.lookup(),parent:Pa.signals.parent?Pa.signalRef("parent"):null,index:Pa.markpath(),pulse:T(Wc)}));var Ie=T(Wc);Wc=Kd=Pa.add(Xf(F(Aa.encode,Aa.type,vb,Aa.style,Pa,{mod:!1,pulse:Ie})));Wc.params.parent=
Pa.encode();Aa.transform&&Aa.transform.forEach(Qe=>{Qe=sc(Qe,Pa);const Uf=Qe.metadata;(Uf.generates||Uf.changes)&&l.error("Mark transforms should not generate new data.");Uf.nomod||(Kd.params.mod=!0);Qe.params.pulse=T(Wc);Pa.add(Wc=Qe)});Aa.sort&&(Wc=Pa.add(Yb({sort:Pa.compareRef(Aa.sort),pulse:T(Wc)})));vb=T(Wc);if(Tb||oc)oc=Pa.add($b({layout:Pa.objectProperty(Aa.layout),legends:Pa.legends,mark:Ie,pulse:vb})),je=T(oc);const Ce=Pa.add(jf({mark:Ie,pulse:je||vb}));Ie=T(Ce);Wb&&(Gd&&(fd=Pa.operators,
fd.pop(),oc&&fd.pop()),Pa.pushState(vb,je||Ie,$d),Tb?Vc(Aa,Pa,Le):Gd?Ed(Aa,Pa,Le):Pa.parse(Aa),Pa.popState(),Gd&&(oc&&fd.push(oc),fd.push(Ce)));ic&&(Ie=eb(ic,Ie,Pa));Wb=Pa.add(Za({pulse:Ie}));Tb=Pa.add(ub({pulse:T(Wb)},void 0,Pa.parent()));null!=Aa.name&&(de=Aa.name,Pa.addData(de,new Pb(Pa,nd,Wb,Tb)),Aa.on&&Aa.on.forEach(Qe=>{(Qe.insert||Qe.remove||Qe.toggle)&&l.error("Marks only support modify triggers.");Vd(Qe,Pa,de)}))}function eb(Aa,Pa,vb){const Wb=Aa.method,Tb=Aa.bound,ic=Aa.separation;Pa={separation:la(ic)?
vb.signalRef(ic.signal):ic,method:la(Wb)?vb.signalRef(Wb.signal):Wb,pulse:Pa};Aa.order&&(Pa.sort=vb.compareRef({field:Aa.order}));Tb&&(Aa=Tb.tolerance,Pa.boundTolerance=la(Aa)?vb.signalRef(Aa.signal):+Aa,Pa.boundScale=vb.scaleRef(Tb.scale),Pa.boundOrient=Tb.orient);return T(vb.add(Sf(Pa)))}function wb(Aa,Pa){const vb=Pa.config.legend,Wb=Aa.encode||{},Tb=Ga(Aa,vb),ic=Wb.legend||{},oc=ic.name||void 0,fd=ic.interactive,Wc=ic.style,nd={};let Kd=0,de,je;Nd.forEach(Ce=>Aa[Ce]?(nd[Ce]=Aa[Ce],Kd=Kd||Aa[Ce]):
0);Kd||l.error("Missing valid scale for legend.");var Gd=Hb(Aa,Pa.scaleType(Kd));const Le={title:null!=Aa.title,scales:nd,type:Gd,vgrad:"symbol"!==Gd&&Tb.isVertical()},$d=T(Pa.add(Ge(null,[Le]))),Ie=T(Pa.add(Fe(je={type:Gd,scale:Pa.scaleRef(Kd),count:Pa.objectProperty(Tb("tickCount")),limit:Pa.property(Tb("symbolLimit")),values:Pa.objectProperty(Aa.values),minstep:Pa.property(Aa.tickMinStep),formatType:Pa.property(Aa.formatType),formatSpecifier:Pa.property(Aa.format)})));"gradient"===Gd?(Gd=[Fb(Aa,
Kd,vb,Wb.gradient),nc(Aa,vb,Wb.labels,Ie)],je.count=je.count||Pa.signalRef(`max(2,2*floor((${C(Tb.gradientLength())})/100))`)):"discrete"===Gd?Gd=[Xb(Aa,Kd,vb,Wb.gradient,Ie),nc(Aa,vb,Wb.labels,Ie)]:(de=pc(Aa,vb),Gd=[md(Aa,vb,Wb,Ie,C(de.columns))],je.size=Ac(Aa,Pa,Gd[0].marks));Gd=[Fa({role:"legend-entry",from:$d,encode:{enter:{x:{value:0},y:{value:0}}},marks:Gd,layout:de,interactive:fd})];Le.title&&Gd.push(Hc(Aa,vb,Wb.title,$d));return Ka(Fa({role:"legend",from:$d,encode:d(Lb(Tb,Aa,vb),ic,od),marks:Gd,
aria:Tb("aria"),description:Tb("description"),zindex:Tb("zindex"),name:oc,interactive:fd,style:Wc}),Pa)}function Hb(Aa,Pa){let vb=Aa.type||"symbol";Aa.type||1!==ac(Aa)||!Aa.fill&&!Aa.stroke||(vb=N.isContinuous(Pa)?"gradient":N.isDiscretizing(Pa)?"discrete":"symbol");return"gradient"!==vb?vb:N.isDiscretizing(Pa)?"discrete":"gradient"}function ac(Aa){return Nd.reduce((Pa,vb)=>Pa+(Aa[vb]?1:0),0)}function Lb(Aa,Pa,vb){const Wb={enter:{},update:{}};g(Wb,{orient:Aa("orient"),offset:Aa("offset"),padding:Aa("padding"),
titlePadding:Aa("titlePadding"),cornerRadius:Aa("cornerRadius"),fill:Aa("fillColor"),stroke:Aa("strokeColor"),strokeWidth:vb.strokeWidth,strokeDash:vb.strokeDash,x:Aa("legendX"),y:Aa("legendY"),format:Pa.format,formatType:Pa.formatType});return Wb}function Ac(Aa,Pa,vb){const Wb=C(tc("size",Aa,vb));Aa=C(tc("strokeWidth",Aa,vb));(vb=pa("fontSize",vb[1].encode))||(vb=(vb=Pa.config.style["guide-label"])&&vb.fontSize);vb=C(vb);return w.parseExpression(`max(ceil(sqrt(${Wb})+${Aa}),${vb})`,Pa)}function tc(Aa,
Pa,vb){return Pa[Aa]?`scale("${Pa[Aa]}",datum)`:pa(Aa,vb[0].encode)}function pb(Aa,Pa){Aa=l.isString(Aa)?{text:Aa}:Aa;const vb=Ga(Aa,Pa.config.title),Wb=Aa.encode||{};var Tb=Wb.group||{};const ic=Tb.name||void 0,oc=Tb.interactive,fd=Tb.style,Wc=[],nd=T(Pa.add(Ge(null,[{}])));Wc.push(Ub(Aa,vb,Bb(Aa),nd));Aa.subtitle&&Wc.push(mc(Aa,vb,Wb.subtitle,nd));Aa={enter:{},update:{}};g(Aa,{orient:vb("orient"),anchor:vb("anchor"),align:{signal:Qd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:vb("limit"),frame:vb("frame"),offset:vb("offset")||0,padding:vb("subtitlePadding")});Tb=d(Aa,Tb,od);return Ka(Fa({role:"title",from:nd,encode:Tb,marks:Wc,aria:vb("aria"),description:vb("description"),zindex:vb("zindex"),name:ic,interactive:oc,style:fd}),Pa)}function Bb(Aa){const Pa=Aa.encode;return Pa&&Pa.title||l.extend({name:Aa.name,interactive:Aa.interactive,style:Aa.style},Pa)}function Ub(Aa,Pa,vb,Wb){var Tb={value:0};Tb={enter:{opacity:Tb},update:{opacity:{value:1}},exit:{opacity:Tb}};
g(Tb,{text:Aa.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Pa("dx"),dy:Pa("dy"),fill:Pa("color"),font:Pa("font"),fontSize:Pa("fontSize"),fontStyle:Pa("fontStyle"),fontWeight:Pa("fontWeight"),lineHeight:Pa("lineHeight")},{align:Pa("align"),angle:Pa("angle"),baseline:Pa("baseline")});return jb({type:"text",role:"title-text",style:"group-title",from:Wb,encode:Tb},vb)}function mc(Aa,Pa,vb,Wb){var Tb={value:0};
Tb={enter:{opacity:Tb},update:{opacity:{value:1}},exit:{opacity:Tb}};g(Tb,{text:Aa.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Pa("dx"),dy:Pa("dy"),fill:Pa("subtitleColor"),font:Pa("subtitleFont"),fontSize:Pa("subtitleFontSize"),fontStyle:Pa("subtitleFontStyle"),fontWeight:Pa("subtitleFontWeight"),lineHeight:Pa("subtitleLineHeight")},{align:Pa("align"),angle:Pa("angle"),baseline:Pa("baseline")});return jb({type:"text",
role:"title-subtitle",style:"group-subtitle",from:Wb,encode:Tb},vb)}function Bc(Aa,Pa){const vb=[];Aa.transform&&Aa.transform.forEach(Wb=>{vb.push(sc(Wb,Pa))});Aa.on&&Aa.on.forEach(Wb=>{Vd(Wb,Pa,Aa.name)});Pa.addDataPipeline(Aa.name,Cc(Aa,Pa,vb))}function Cc(Aa,Pa,vb){const Wb=[];let Tb=null,ic=!1,oc=!1,fd,Wc,nd,Kd;Aa.values?la(Aa.values)||Z(Aa.format)?(Wb.push(Qb(Pa,Aa)),Wb.push(Tb=Xc())):Wb.push(Tb=Xc({$ingest:Aa.values,$format:Aa.format})):Aa.url?Z(Aa.url)||Z(Aa.format)?(Wb.push(Qb(Pa,Aa)),Wb.push(Tb=
Xc())):Wb.push(Tb=Xc({$request:Aa.url,$format:Aa.format})):Aa.source&&(Tb=fd=l.array(Aa.source).map(de=>T(Pa.getData(de).output)),Wb.push(null));Aa=0;for(Wc=vb.length;Aa<Wc;++Aa)nd=vb[Aa],Kd=nd.metadata,Tb||Kd.source||Wb.push(Tb=Xc()),Wb.push(nd),Kd.generates&&(oc=!0),Kd.modifies&&!oc&&(ic=!0),Kd.source?Tb=nd:Kd.changes&&(Tb=null);fd&&(Wc=fd.length-1,Wb[0]=Ea({derive:ic,pulse:Wc?fd:fd[0]}),(ic||Wc)&&Wb.splice(1,0,Xc()));Tb||Wb.push(Xc());Wb.push(ub({}));return Wb}function Xc(Aa){Aa=Ge({},Aa);Aa.metadata=
{source:!0};return Aa}function Qb(Aa,Pa){return ue({url:Pa.url?Aa.property(Pa.url):void 0,async:Pa.async?Aa.property(Pa.async):void 0,values:Pa.values?Aa.property(Pa.values):void 0,format:Aa.objectProperty(Pa.format)})}function Ic(Aa,Pa,vb,Wb){let Tb;if(Pa&&l.hasOwnProperty(Pa,Aa))return Pa[Aa];if(l.hasOwnProperty(vb,Aa))return vb[Aa];if(Aa.startsWith("title")){switch(Aa){case "titleColor":Tb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Tb=Aa[5].toLowerCase()+Aa.slice(6)}return Wb["guide-title"][Tb]}if(Aa.startsWith("label")){switch(Aa){case "labelColor":Tb=
"fill";break;case "labelFont":case "labelFontSize":Tb=Aa[5].toLowerCase()+Aa.slice(6)}return Wb["guide-label"][Tb]}return null}function Dc(Aa){const Pa={};for(const vb of Aa)if(vb)for(const Wb in vb)Pa[Wb]=1;return Object.keys(Pa)}function uc(Aa,Pa,vb,Wb){var Tb=Ga(Aa,Pa);Pa=Aa.orient;let ic,oc;const fd={enter:ic={opacity:Id},update:oc={opacity:jd},exit:{opacity:Id}};g(fd,{stroke:Tb("domainColor"),strokeCap:Tb("domainCap"),strokeDash:Tb("domainDash"),strokeDashOffset:Tb("domainDashOffset"),strokeWidth:Tb("domainWidth"),
strokeOpacity:Tb("domainOpacity")});Tb={scale:Aa.scale,range:0};Aa={scale:Aa.scale,range:1};ic.x=oc.x=We(Pa,Tb,Id);ic.x2=oc.x2=We(Pa,Aa);ic.y=oc.y=uf(Pa,Tb,Id);ic.y2=oc.y2=uf(Pa,Aa);return jb({type:"rule",role:"axis-domain",from:Wb,encode:fd},vb)}function Tc(Aa,Pa,vb,Wb,Tb){var ic=Ga(Aa,Pa);Pa=Aa.orient;var oc=Aa.gridScale;const fd=kd(Pa,1,-1);a:{var Wc=Aa.offset;if(1!==fd)if(l.isObject(Wc)){for(var nd=Wc=l.extend({},Wc);null!=nd.mult;)if(l.isObject(nd.mult))nd=nd.mult=l.extend({},nd.mult);else{nd.mult=
la(fd)?{signal:`(${nd.mult}) * (${fd.signal})`}:nd.mult*fd;break a}nd.mult=fd}else Wc=la(fd)?{signal:`(${fd.signal}) * (${Wc||0})`}:fd*(Wc||0)}const Kd=Wc;let de;const je={enter:Wc={opacity:Id},update:de={opacity:jd},exit:nd={opacity:Id}};g(je,{stroke:ic("gridColor"),strokeCap:ic("gridCap"),strokeDash:ic("gridDash"),strokeDashOffset:ic("gridDashOffset"),strokeOpacity:ic("gridOpacity"),strokeWidth:ic("gridWidth")});Aa={scale:Aa.scale,field:"value",band:Tb.band,extra:Tb.extra,offset:Tb.offset,round:ic("tickRound")};
ic=We(Pa,{signal:"height"},{signal:"width"});Tb=oc?{scale:oc,range:0,mult:fd,offset:Kd}:{value:0,offset:Kd};oc=oc?{scale:oc,range:1,mult:fd,offset:Kd}:l.extend(ic,{mult:fd,offset:Kd});Wc.x=de.x=We(Pa,Aa,Tb);Wc.y=de.y=uf(Pa,Aa,Tb);Wc.x2=de.x2=uf(Pa,oc);Wc.y2=de.y2=We(Pa,oc);nd.x=We(Pa,Aa);nd.y=uf(Pa,Aa);return jb({type:"rule",role:"axis-grid",key:"value",from:Wb,encode:je},vb)}function ad(Aa,Pa,vb,Wb,Tb,ic){const oc=Ga(Aa,Pa);Pa=Aa.orient;const fd=kd(Pa,-1,1);let Wc,nd,Kd;const de={enter:Wc={opacity:Id},
update:Kd={opacity:jd},exit:nd={opacity:Id}};g(de,{stroke:oc("tickColor"),strokeCap:oc("tickCap"),strokeDash:oc("tickDash"),strokeDashOffset:oc("tickDashOffset"),strokeOpacity:oc("tickOpacity"),strokeWidth:oc("tickWidth")});Tb=Ue(Tb);Tb.mult=fd;Aa={scale:Aa.scale,field:"value",band:ic.band,extra:ic.extra,offset:ic.offset,round:oc("tickRound")};Kd.y=Wc.y=We(Pa,Id,Aa);Kd.y2=Wc.y2=We(Pa,Tb);nd.x=We(Pa,Aa);Kd.x=Wc.x=uf(Pa,Id,Aa);Kd.x2=Wc.x2=uf(Pa,Tb);nd.y=uf(Pa,Aa);return jb({type:"rule",role:"axis-tick",
key:"value",from:Wb,encode:de},vb)}function ld(Aa,Pa,vb,Wb,Tb){return{signal:'flush(range("'+Aa+'"), scale("'+Aa+'", datum.value), '+Pa+","+vb+","+Wb+","+Tb+")"}}function Cd(Aa,Pa,vb,Wb,Tb,ic){Pa=Ga(Aa,Pa);const oc=Aa.orient;Aa=Aa.scale;var fd=kd(oc,-1,1),Wc=C(Pa("labelFlush")),nd=C(Pa("labelFlushOffset")),Kd=Pa("labelAlign"),de=Pa("labelBaseline");let je=0===Wc||!!Wc;var Gd=Ue(Tb);Gd.mult=fd;Gd.offset=Ue(Pa("labelPadding")||0);Gd.offset.mult=fd;fd={scale:Aa,field:"value",band:.5,offset:Ua(ic.offset,
Pa("labelOffset"))};ic=je?ld(Aa,Wc,'"left"','"right"','"center"'):{value:"center"};Tb=la(oc)?yf(`${oc.signal} === '${"right"}'`,"left","right"):"right"===oc?{value:"left"}:{value:"right"};ic=We(oc,ic,Tb);Tb=We(oc,mf(oc,"bottom","top"),je?ld(Aa,Wc,'"top"','"bottom"','"middle"'):{value:"middle"});Wc=ld(Aa,Wc,`-(${nd})`,nd,0);je=je&&nd;Gd={opacity:Id,x:We(oc,fd,Gd),y:uf(oc,fd,Gd)};Gd={enter:Gd,update:nd={opacity:jd,text:{field:"label"},x:Gd.x,y:Gd.y,align:ic,baseline:Tb},exit:{opacity:Id,x:Gd.x,y:Gd.y}};
g(Gd,{dx:!Kd&&je?We(oc,Wc):null,dy:!de&&je?uf(oc,Wc):null});g(Gd,{angle:Pa("labelAngle"),fill:Pa("labelColor"),fillOpacity:Pa("labelOpacity"),font:Pa("labelFont"),fontSize:Pa("labelFontSize"),fontWeight:Pa("labelFontWeight"),fontStyle:Pa("labelFontStyle"),limit:Pa("labelLimit"),lineHeight:Pa("labelLineHeight")},{align:Kd,baseline:de});Kd=Pa("labelBound");de=(de=Pa("labelOverlap"))||Kd?{separation:Pa("labelSeparation"),method:de,order:"datum.index",bound:Kd?{scale:Aa,orient:oc,tolerance:Kd}:null}:
void 0;nd.align!==ic&&(nd.align=nf(nd.align,ic));nd.baseline!==Tb&&(nd.baseline=nf(nd.baseline,Tb));return jb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Wb,encode:Gd,overlap:de},vb)}function Dd(Aa,Pa,vb,Wb){Pa=Ga(Aa,Pa);const Tb=Aa.orient,ic=kd(Tb,-1,1);let oc,fd;const Wc={enter:oc={opacity:Id,anchor:Ue(Pa("titleAnchor",null)),align:{signal:Qd}},update:fd=l.extend({},oc,{opacity:jd,text:Ue(Aa.title)}),exit:{opacity:Id}};Aa={signal:`lerp(range("${Aa.scale}"), ${Ja(0,1,.5)})`};
fd.x=We(Tb,Aa);fd.y=uf(Tb,Aa);Aa=la(ic)?{signal:`(${ic.signal}) * ${90}`}:{value:90*ic};oc.angle=We(Tb,Id,Aa);oc.baseline=We(Tb,mf(Tb,"bottom","top"),{value:"bottom"});fd.angle=oc.angle;fd.baseline=oc.baseline;g(Wc,{fill:Pa("titleColor"),fillOpacity:Pa("titleOpacity"),font:Pa("titleFont"),fontSize:Pa("titleFontSize"),fontStyle:Pa("titleFontStyle"),fontWeight:Pa("titleFontWeight"),limit:Pa("titleLimit"),lineHeight:Pa("titleLineHeight")},{align:Pa("titleAlign"),angle:Pa("titleAngle"),baseline:Pa("titleBaseline")});
Ud(Pa,Tb,Wc,vb);Wc.update.align=nf(Wc.update.align,oc.align);Wc.update.angle=nf(Wc.update.angle,oc.angle);Wc.update.baseline=nf(Wc.update.baseline,oc.baseline);return jb({type:"text",role:"axis-title",style:"guide-title",from:Wb,encode:Wc},vb)}function Ud(Aa,Pa,vb,Wb){const Tb=(oc,fd)=>null!=oc?(vb.update[fd]=nf(Ue(oc),vb.update[fd]),!1):f(fd,Wb)?!1:!0,ic=Tb(Aa("titleX"),"x");Aa=Tb(Aa("titleY"),"y");vb.enter.auto=Aa===ic?Ue(Aa):We(Pa,Ue(Aa),Ue(ic))}function ae(Aa,Pa,vb){const Wb=l.array(Aa.signals),
Tb=l.array(Aa.scales);vb||Wb.forEach(ic=>K(ic,Pa));l.array(Aa.projections).forEach(ic=>{{const oc=Pa.config.projection||{},fd={};for(const Wc in ic)"name"!==Wc&&(fd[Wc]=$a(ic[Wc],Wc,Pa));for(const Wc in oc)null==fd[Wc]&&(fd[Wc]=$a(oc[Wc],Wc,Pa));Pa.addProjection(ic.name,fd)}});Tb.forEach(ic=>{{const oc=ic.type||"linear";N.isValidScaleType(oc)||l.error("Unrecognized scale type: "+l.stringValue(oc));Pa.addScale(ic.name,{type:oc,domain:void 0})}});l.array(Aa.data).forEach(ic=>Bc(ic,Pa));Tb.forEach(ic=>
{{const Wc=Pa.getScale(ic.name).params;let nd;Wc.domain=W(ic.domain,ic,Pa);null!=ic.range&&(Wc.range=db(ic,Pa,Wc));if(null!=ic.interpolate){var oc=ic.interpolate,fd=Wc;fd.interpolate=Ca(oc.type||oc);null!=oc.gamma&&(fd.interpolateGamma=Ca(oc.gamma))}null!=ic.nice&&(oc=ic.nice,oc=l.isObject(oc)?{interval:Ca(oc.interval),step:Ca(oc.step)}:Ca(oc),Wc.nice=oc);null!=ic.bins&&(oc=ic.bins,oc=oc.signal||l.isArray(oc)?ua(oc,Pa):Pa.objectProperty(oc),Wc.bins=oc);for(nd in ic)l.hasOwnProperty(Wc,nd)||"name"===
nd||(Wc[nd]=Ca(ic[nd],Pa))}});(vb||Wb).forEach(ic=>Ya(ic,Pa));l.array(Aa.axes).forEach(ic=>{var oc=Pa.config,fd=oc.style,Wc=oc.axis,nd="band"===Pa.scaleType(ic.scale)&&oc.axisBand,Kd=ic.orient;if(la(Kd)){var de=Dc([oc.axisX,oc.axisY]);var je=Dc([oc.axisTop,oc.axisBottom,oc.axisLeft,oc.axisRight]);var Gd={};for(ne of de)Gd[ne]=We(Kd,Ic(ne,oc.axisX,Wc,fd),Ic(ne,oc.axisY,Wc,fd));de={};for(ne of je){je=de;var Le=ne;var $d=Kd.signal;var Ie=Ic(ne,oc.axisTop,Wc,fd),Ce=Ic(ne,oc.axisBottom,Wc,fd),Qe=Ic(ne,
oc.axisLeft,Wc,fd),Uf=Ic(ne,oc.axisRight,Wc,fd);$d={signal:(null!=Qe?`${$d} === '${"left"}' ? (${Pe(Qe)}) : `:"")+(null!=Ce?`${$d} === '${"bottom"}' ? (${Pe(Ce)}) : `:"")+(null!=Uf?`${$d} === '${"right"}' ? (${Pe(Uf)}) : `:"")+(null!=Ie?`${$d} === '${"top"}' ? (${Pe(Ie)}) : `:"")+"(null)"};je[Le]=$d}}else Gd="top"===Kd||"bottom"===Kd?oc.axisX:oc.axisY,de=oc["axis"+Kd[0].toUpperCase()+Kd.slice(1)];Gd=Gd||de||nd?l.extend({},Wc,Gd,de,nd):Wc;var ne=ic.encode||{};oc=ne.axis||{};fd=oc.name||void 0;Wc=oc.interactive;
nd=oc.style;$d=Kd=Ga(ic,Gd);de=$d("tickBand");je=$d("tickOffset");de?de.signal?(Le={signal:`(${de.signal}) === 'extent' ? 1 : 0.5`},$d={signal:`(${de.signal}) === 'extent'`},l.isObject(je)||(je={signal:`(${de.signal}) === 'extent' ? 0 : ${je}`})):"extent"===de?(Le=1,$d=!0,je=0):(Le=.5,$d=!1):(Le=$d("bandPosition"),$d=$d("tickExtra"));Le={extra:$d,band:Le,offset:je};$d={scale:ic.scale,ticks:!!Kd("ticks"),labels:!!Kd("labels"),grid:!!Kd("grid"),domain:!!Kd("domain"),title:null!=ic.title};de=T(Pa.add(Ge({},
[$d])));Ie=T(Pa.add(Be({scale:Pa.scaleRef(ic.scale),extra:Pa.property(Le.extra),count:Pa.objectProperty(ic.tickCount),values:Pa.objectProperty(ic.values),minstep:Pa.property(ic.tickMinStep),formatType:Pa.property(ic.formatType),formatSpecifier:Pa.property(ic.format)})));je=[];$d.grid&&je.push(Tc(ic,Gd,ne.grid,Ie,Le));if($d.ticks){var sf=Kd("tickSize");je.push(ad(ic,Gd,ne.ticks,Ie,sf,Le))}$d.labels&&(sf=$d.ticks?sf:0,je.push(Cd(ic,Gd,ne.labels,Ie,sf,Le)));$d.domain&&je.push(uc(ic,Gd,ne.domain,de));
$d.title&&je.push(Dd(ic,Gd,ne.title,de));sf=Kd;Gd={enter:{},update:{}};g(Gd,{orient:sf("orient"),offset:sf("offset")||0,position:P(ic.position,0),titlePadding:sf("titlePadding"),minExtent:sf("minExtent"),maxExtent:sf("maxExtent"),range:{signal:`abs(span(range("${ic.scale}")))`},translate:sf("translate"),format:ic.format,formatType:ic.formatType});ic=Gd;return ic=Ka(Fa({role:"axis",from:de,encode:d(ic,oc,od),marks:je,aria:Kd("aria"),description:Kd("description"),zindex:Kd("zindex"),name:fd,interactive:Wc,
style:nd}),Pa)});l.array(Aa.marks).forEach(ic=>Ka(ic,Pa));l.array(Aa.legends).forEach(ic=>wb(ic,Pa));Aa.title&&pb(Aa.title,Pa);Pa.parseLambdas();return Pa}function oe(Aa,Pa){var vb=Pa.config;const Wb=T(Pa.root=Pa.add(new R("operator",void 0,void 0,void 0))),Tb=fe(Aa,vb);Tb.forEach(fd=>K(fd,Pa));Pa.description=Aa.description||vb.description;Pa.eventConfig=vb.events;Pa.legends=Pa.objectProperty(vb.legend&&vb.legend.layout);Pa.locale=vb.locale;vb=Pa.add(Ge());const ic=Pa.add(Xf(F(d({enter:{x:{value:0},
y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},Aa.encode),"group","frame",Aa.style,Pa,{pulse:T(vb)}))),oc=Pa.add($b({layout:Pa.objectProperty(Aa.layout),legends:Pa.legends,autosize:Pa.signalRef("autosize"),mark:Wb,pulse:T(ic)}));Pa.operators.pop();Pa.pushState(T(ic),T(oc),null);ae(Aa,Pa,Tb);Pa.operators.push(oc);Aa=Pa.add(jf({mark:Wb,pulse:T(oc)}));Aa=Pa.add(Za({pulse:T(Aa)}));Aa=Pa.add(ub({pulse:T(Aa)}));Pa.addData("root",new Pb(Pa,vb,vb,Aa));return Pa}function De(Aa,Pa){return Pa&&
Pa.signal?{name:Aa,update:Pa.signal}:{name:Aa,value:Pa}}function fe(Aa,Pa){const vb=oc=>P(Aa[oc],Pa[oc]),Wb=[De("background",vb("background")),De("autosize",v(vb("autosize"))),De("padding",u(vb("padding"))),De("width",vb("width")||0),De("height",vb("height")||0)],Tb=Wb.reduce((oc,fd)=>(oc[fd.name]=fd,oc),{}),ic={};l.array(Aa.signals).forEach(oc=>{l.hasOwnProperty(Tb,oc.name)?oc=l.extend(Tb[oc.name],oc):Wb.push(oc);ic[oc.name]=oc});l.array(Pa.signals).forEach(oc=>{l.hasOwnProperty(ic,oc.name)||l.hasOwnProperty(Tb,
oc.name)||Wb.push(oc)});return Wb}function ef(Aa,Pa){this.config=Aa||{};this.options=Pa||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Ze(Aa){this.config=Aa.config;this.options=Aa.options;this.legends=Aa.legends;this.field=Object.create(Aa.field);
this.signals=Object.create(Aa.signals);this.lambdas=Object.create(Aa.lambdas);this.scales=Object.create(Aa.scales);this.events=Object.create(Aa.events);this.data=Object.create(Aa.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++Aa._nextsub[0];this._nextsub=Aa._nextsub;this._parent=Aa._parent.slice();this._encode=Aa._encode.slice();this._lookup=Aa._lookup.slice();this._markpath=Aa._markpath}function df(Aa){return(l.isArray(Aa)?Zd:he)(Aa)}function Zd(Aa){const Pa=Aa.length;
let vb="[";for(let Wb=0;Wb<Pa;++Wb){const Tb=Aa[Wb];vb+=(0<Wb?",":"")+(l.isObject(Tb)?Tb.signal||df(Tb):l.stringValue(Tb))}return vb+"]"}function he(Aa){let Pa="{",vb=0,Wb,Tb;for(Wb in Aa)Tb=Aa[Wb],Pa+=(1<++vb?",":"")+l.stringValue(Wb)+":"+(l.isObject(Tb)?Tb.signal||df(Tb):l.stringValue(Tb));return Pa+"}"}function zf(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},
image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",
fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,
titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",
symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Ue=Aa=>l.isObject(Aa)&&!l.isArray(Aa)?l.extend({},
Aa):{value:Aa},Nf=Aa=>l.isString(Aa)?l.stringValue(Aa):Aa.signal?`(${Aa.signal})`:D(Aa),me=(Aa,Pa,vb,Wb)=>`(${Aa}(${[Pa,vb,Wb].map(n).join(",")})+'')`,te=["value","update","init","react","bind"],kf=ja("key"),we={code:"_.$value",ast:{type:"Identifier",value:"value"}},Od=Aa=>(Pa,vb,Wb)=>new R(Aa,vb,Pa||void 0,Wb),Xd=Od("aggregate"),Be=Od("axisticks"),jf=Od("bound"),Ge=Od("collect"),Td=Od("compare"),Ye=Od("datajoin"),Xf=Od("encode"),Gc=Od("expression"),xe=Od("facet"),le=Od("field"),kc=Od("key"),Fe=Od("legendentries"),
ue=Od("load"),lf=Od("mark"),Yf=Od("multiextent"),If=Od("multivalues"),Sf=Od("overlap"),Bf=Od("params"),qe=Od("prefacet"),yc=Od("projection"),xa=Od("proxy"),Ea=Od("relay"),Za=Od("render"),Cb=Od("scale"),ub=Od("sieve"),Yb=Od("sortitems"),$b=Od("viewlayout"),Oc=Od("values");let gd=0;const Mc={min:"min",max:"max",count:"sum"},Nd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),od={name:1,style:1,interactive:1},Id={value:0},jd={value:1},Qd=Ja(l.stringValue("left"),l.stringValue("right"),
l.stringValue("center")),ie=Ja('"top"','"bottom"','"middle"'),Gf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Ja('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Qd}`,tf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${ie}) : "top"`;Pb.fromEntries=
function(Aa,Pa){const vb=Pa.length,Wb=Pa[vb-1],Tb=Pa[vb-2];let ic=Pa[0],oc=null,fd=1;ic&&"load"===ic.type&&(ic=Pa[1]);for(Aa.add(Pa[0]);fd<vb;++fd)Pa[fd].params.pulse=T(Pa[fd-1]),Aa.add(Pa[fd]),"aggregate"===Pa[fd].type&&(oc=Pa[fd]);return new Pb(Aa,ic,Tb,Wb,oc)};Pb.prototype={countsRef(Aa,Pa,vb){const Wb=this.counts||(this.counts={}),Tb=gc(Pa);if(null!=Tb){Aa=this.scope;var ic=Wb[Tb]}ic?vb&&vb.field&&Eb(Aa,ic.agg.params,vb):(ic={groupby:Aa.fieldRef(Pa,"key"),pulse:T(this.output)},vb&&vb.field&&Eb(Aa,
ic,vb),vb=Aa.add(Xd(ic)),ic=Aa.add(Ge({pulse:T(vb)})),ic={agg:vb,ref:T(ic)},null!=Tb&&(Wb[Tb]=ic));return ic.ref},tuplesRef(){return T(this.values)},extentRef(Aa,Pa){return zc(Aa,this,"extent","extent",Pa,!1)},domainRef(Aa,Pa){return zc(Aa,this,"domain","values",Pa,!1)},valuesRef(Aa,Pa,vb){return zc(Aa,this,"vals","values",Pa,vb||!0)},lookupRef(Aa,Pa){return zc(Aa,this,"lookup","tupleindex",Pa,!1)},indataRef(Aa,Pa){return zc(Aa,this,"indata","tupleindex",Pa,!0,!0)}};const kd=(Aa,Pa,vb)=>{la(Aa)?(Aa=
Aa.signal,Pa=yf(`${Aa} === '${"left"}' || ${Aa} === '${"top"}'`,Pa,vb)):Pa="left"===Aa||"top"===Aa?Pa:vb;return Pa},We=(Aa,Pa,vb)=>{la(Aa)?(Aa=Aa.signal,Pa=Zf(`${Aa} === '${"top"}' || ${Aa} === '${"bottom"}'`,Pa,vb)):Pa="bottom"===Aa||"top"===Aa?Pa:vb;return Pa},uf=(Aa,Pa,vb)=>{la(Aa)?(Aa=Aa.signal,Pa=Zf(`${Aa} !== '${"top"}' && ${Aa} !== '${"bottom"}'`,Pa,vb)):Pa="bottom"===Aa||"top"===Aa?vb:Pa;return Pa},mf=(Aa,Pa,vb)=>la(Aa)?yf(`${Aa.signal} === '${"top"}'`,Pa,vb):"top"===Aa?{value:Pa}:{value:vb},
Zf=(Aa,Pa,vb)=>{Pa=null!=Pa?Ue(Pa):Pa;vb=null!=vb?Ue(vb):vb;if(null!=Pa&&1!==Object.keys(Pa).length||null!=vb&&1!==Object.keys(vb).length)return[l.extend({test:Aa},Pa)].concat(vb||[]);Pa=Pa?Pa.signal||l.stringValue(Pa.value):null;vb=vb?vb.signal||l.stringValue(vb.value):null;return{signal:`${Aa} ? (${Pa}) : (${vb})`}},yf=(Aa,Pa,vb)=>({signal:`${Aa} ? (${Pe(Pa)}) : (${Pe(vb)})`}),Pe=Aa=>la(Aa)?Aa.signal:null==Aa?null:l.stringValue(Aa),nf=(Aa,Pa)=>{const vb=Aa.signal;return vb&&vb.endsWith("(null)")?
{signal:vb.slice(0,-6)+Pa.signal}:Aa};ef.prototype=Ze.prototype={parse(Aa){return ae(Aa,this)},fork(){return new Ze(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(Aa){this.operators.push(Aa);Aa.id=this.id();Aa.refs&&(Aa.refs.forEach(Pa=>{Pa.$ref=
Aa.id}),Aa.refs=null);return Aa},proxy(Aa){Aa=Aa instanceof R?T(Aa):Aa;return this.add(xa({value:Aa}))},addStream(Aa){this.streams.push(Aa);Aa.id=this.id();return Aa},addUpdate(Aa){this.updates.push(Aa);return Aa},finish(){function Aa(Wb,Tb,ic){Wb&&(Wb=Wb.data||(Wb.data={}),Tb=Wb[Tb]||(Wb[Tb]=[]),Tb.push(ic))}let Pa,vb;this.root&&(this.root.root=!0);for(Pa in this.signals)this.signals[Pa].signal=Pa;for(Pa in this.scales)this.scales[Pa].scale=Pa;for(Pa in this.data){vb=this.data[Pa];Aa(vb.input,Pa,
"input");Aa(vb.output,Pa,"output");Aa(vb.values,Pa,"values");for(const Wb in vb.index)Aa(vb.index[Wb],Pa,"index:"+Wb)}return this},pushState(Aa,Pa,vb){this._encode.push(T(this.add(ub({pulse:Aa}))));this._parent.push(Pa);this._lookup.push(vb?T(this.proxy(vb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const Aa=
this._markpath;return++Aa[Aa.length-1]},fieldRef(Aa,Pa){if(l.isString(Aa))return ja(Aa,Pa);Aa.signal||l.error("Unsupported field reference: "+l.stringValue(Aa));Aa=Aa.signal;var vb=this.field[Aa];vb||(vb={name:this.signalRef(Aa)},Pa&&(vb.as=Pa),this.field[Aa]=vb=T(this.add(le(vb))));return vb},compareRef(Aa){let Pa=!1;const vb=Tb=>la(Tb)?(Pa=!0,this.signalRef(Tb.signal)):Tb&&Tb.expr?(Pa=!0,this.exprRef(Tb.expr)):Tb,Wb=l.array(Aa.field).map(vb);Aa=l.array(Aa.order).map(vb);return Pa?T(this.add(Td({fields:Wb,
orders:Aa}))):{$compare:Wb,$order:Aa}},keyRef(Aa,Pa){let vb=!1;const Wb=this.signals;Aa=l.array(Aa).map(Tb=>la(Tb)?(vb=!0,T(Wb[Tb.signal])):Tb);return vb?T(this.add(kc({fields:Aa,flat:Pa}))):fa(Aa,Pa)},sortRef(Aa){if(!Aa)return Aa;const Pa=ia(Aa.op,Aa.field);Aa=Aa.order||"ascending";return Aa.signal?T(this.add(Td({fields:Pa,orders:this.signalRef(Aa.signal)}))):{$compare:Pa,$order:Aa}},event(Aa,Pa){const vb=Aa+":"+Pa;if(!this.events[vb]){const Wb=this.id();this.streams.push({id:Wb,source:Aa,type:Pa});
this.events[vb]=Wb}return this.events[vb]},hasOwnSignal(Aa){return l.hasOwnProperty(this.signals,Aa)},addSignal(Aa,Pa){this.hasOwnSignal(Aa)&&l.error("Duplicate signal name: "+l.stringValue(Aa));Pa=Pa instanceof R?Pa:this.add(new R("operator",Pa,void 0,void 0));return this.signals[Aa]=Pa},getSignal(Aa){this.signals[Aa]||l.error("Unrecognized signal name: "+l.stringValue(Aa));return this.signals[Aa]},signalRef(Aa){if(this.signals[Aa])return T(this.signals[Aa]);l.hasOwnProperty(this.lambdas,Aa)||(this.lambdas[Aa]=
this.add(new R("operator",null,void 0,void 0)));return T(this.lambdas[Aa])},parseLambdas(){const Aa=Object.keys(this.lambdas);for(let vb=0,Wb=Aa.length;vb<Wb;++vb){var Pa=Aa[vb];const Tb=w.parseExpression(Pa,this);Pa=this.lambdas[Pa];Pa.params=Tb.$params;Pa.update=Tb.$expr}},property(Aa){return Aa&&Aa.signal?this.signalRef(Aa.signal):Aa},objectProperty(Aa){return Aa&&l.isObject(Aa)?this.signalRef(Aa.signal||df(Aa)):Aa},exprRef(Aa,Pa){Aa={expr:w.parseExpression(Aa,this)};Pa&&(Aa.expr.$name=Pa);return T(this.add(Gc(Aa)))},
addBinding(Aa,Pa){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(Aa));this.bindings.push(l.extend({signal:Aa},Pa))},addScaleProj(Aa,Pa){l.hasOwnProperty(this.scales,Aa)&&l.error("Duplicate scale or projection name: "+l.stringValue(Aa));this.scales[Aa]=this.add(Pa)},addScale(Aa,Pa){this.addScaleProj(Aa,Cb(Pa))},addProjection(Aa,Pa){this.addScaleProj(Aa,yc(Pa))},getScale(Aa){this.scales[Aa]||l.error("Unrecognized scale name: "+l.stringValue(Aa));return this.scales[Aa]},
scaleRef(Aa){return T(this.getScale(Aa))},scaleType(Aa){return this.getScale(Aa).params.type},projectionRef(Aa){return this.scaleRef(Aa)},projectionType(Aa){return this.scaleType(Aa)},addData(Aa,Pa){l.hasOwnProperty(this.data,Aa)&&l.error("Duplicate data set name: "+l.stringValue(Aa));return this.data[Aa]=Pa},getData(Aa){this.data[Aa]||l.error("Undefined data set name: "+l.stringValue(Aa));return this.data[Aa]},addDataPipeline(Aa,Pa){l.hasOwnProperty(this.data,Aa)&&l.error("Duplicate data set name: "+
l.stringValue(Aa));return this.addData(Aa,Pb.fromEntries(this,Pa))}};k.AxisDomainRole="axis-domain";k.AxisGridRole="axis-grid";k.AxisLabelRole="axis-label";k.AxisRole="axis";k.AxisTickRole="axis-tick";k.AxisTitleRole="axis-title";k.DataScope=Pb;k.FrameRole="frame";k.LegendEntryRole="legend-entry";k.LegendLabelRole="legend-label";k.LegendRole="legend";k.LegendSymbolRole="legend-symbol";k.LegendTitleRole="legend-title";k.MarkRole="mark";k.Scope=ef;k.ScopeRole="scope";k.config=zf;k.parse=function(Aa,
Pa,vb){l.isObject(Aa)||l.error("Input Vega specification must be an object.");Pa=l.mergeConfig(zf(),Pa,Aa.config);return oe(Aa,new ef(Pa,vb)).toRuntime()};k.signal=K;k.signalUpdates=Ya;k.stream=V;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[63]=function(Ia,A,rb,E){function k(K){if(K&&K.__esModule)return K;var R=Object.create(null);K&&Object.keys(K).forEach(function(T){if("default"!==T){var ja=Object.getOwnPropertyDescriptor(K,T);Object.defineProperty(R,T,ja.get?ja:{enumerable:!0,get:function(){return K[T]}})}});R["default"]=K;return Object.freeze(R)}Object.defineProperty(E,"__esModule",{value:!0});var l=A(14),w=A(26),H=A(28),N=A(37),x=A(38),v=A(42),u=A(47),m=A(49),g=A(50),d=A(51),f=A(53);rb=A(54);Ia=A(55);var a=A(27),
e=A(18),n=A(25),y=A(36),B=A(35),D=A(41),O=A(60),M=A(20),F=A(58),z=A(62),G=A(59);A=k(H);N=k(N);x=k(x);v=k(v);u=k(u);m=k(m);g=k(g);d=k(d);f=k(f);rb=k(rb);Ia=k(Ia);l.extend(w.transforms,A,N,x,v,u,g,m,d,f,rb,Ia);Object.keys(l).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return l[K]}})});Object.keys(a).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return a[K]}})});Object.keys(e).forEach(function(K){"default"!==
K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return e[K]}})});Object.keys(n).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return n[K]}})});Object.keys(y).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return y[K]}})});Object.defineProperty(E,"Dataflow",{enumerable:!0,get:function(){return w.Dataflow}});Object.defineProperty(E,"EventStream",{enumerable:!0,get:function(){return w.EventStream}});Object.defineProperty(E,
"MultiPulse",{enumerable:!0,get:function(){return w.MultiPulse}});Object.defineProperty(E,"Operator",{enumerable:!0,get:function(){return w.Operator}});Object.defineProperty(E,"Parameters",{enumerable:!0,get:function(){return w.Parameters}});Object.defineProperty(E,"Pulse",{enumerable:!0,get:function(){return w.Pulse}});Object.defineProperty(E,"Transform",{enumerable:!0,get:function(){return w.Transform}});Object.defineProperty(E,"changeset",{enumerable:!0,get:function(){return w.changeset}});Object.defineProperty(E,
"definition",{enumerable:!0,get:function(){return w.definition}});Object.defineProperty(E,"ingest",{enumerable:!0,get:function(){return w.ingest}});Object.defineProperty(E,"isTuple",{enumerable:!0,get:function(){return w.isTuple}});Object.defineProperty(E,"transform",{enumerable:!0,get:function(){return w.transform}});Object.defineProperty(E,"transforms",{enumerable:!0,get:function(){return w.transforms}});Object.defineProperty(E,"tupleid",{enumerable:!0,get:function(){return w.tupleid}});Object.defineProperty(E,
"interpolate",{enumerable:!0,get:function(){return B.interpolate}});Object.defineProperty(E,"interpolateColors",{enumerable:!0,get:function(){return B.interpolateColors}});Object.defineProperty(E,"interpolateRange",{enumerable:!0,get:function(){return B.interpolateRange}});Object.defineProperty(E,"quantizeInterpolator",{enumerable:!0,get:function(){return B.quantizeInterpolator}});Object.defineProperty(E,"scale",{enumerable:!0,get:function(){return B.scale}});Object.defineProperty(E,"scheme",{enumerable:!0,
get:function(){return B.scheme}});Object.defineProperty(E,"projection",{enumerable:!0,get:function(){return D.projection}});Object.defineProperty(E,"View",{enumerable:!0,get:function(){return O.View}});Object.defineProperty(E,"defaultLocale",{enumerable:!0,get:function(){return M.defaultLocale}});Object.defineProperty(E,"formatLocale",{enumerable:!0,get:function(){return M.numberFormatDefaultLocale}});Object.defineProperty(E,"locale",{enumerable:!0,get:function(){return M.locale}});Object.defineProperty(E,
"resetDefaultLocale",{enumerable:!0,get:function(){return M.resetDefaultLocale}});Object.defineProperty(E,"timeFormatLocale",{enumerable:!0,get:function(){return M.timeFormatDefaultLocale}});Object.defineProperty(E,"expressionFunction",{enumerable:!0,get:function(){return F.expressionFunction}});Object.defineProperty(E,"parse",{enumerable:!0,get:function(){return z.parse}});Object.defineProperty(E,"runtimeContext",{enumerable:!0,get:function(){return G.context}});E.version="5.19.1"};
shadow$provide[64]=function(Ia,A,rb,E){var k=A(24).Buffer;(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?w(E):"function"===typeof define&&define.amd?define(["exports"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,w(l.vegaLite={}))})(this,function(l){function w(h,I,c){h.fields=I||[];h.fname=c;return h}function H(h){return 1===h.length?Fk(h[0]):Gk(h)}function N(h){function I(){c.push(sa+h.substring(Ba,cb));sa="";Ba=cb+1}const c=[],t=h.length;let L=null,ka=0,sa="",Ba,cb,nb;h+=
"";for(Ba=cb=0;cb<t;++cb)if(nb=h[cb],"\\"===nb)sa+=h.substring(Ba,cb),sa+=h.substring(++cb,++cb),Ba=cb;else if(nb===L)I(),L=null,ka=-1;else if(!L)if(Ba===ka&&'"'===nb)Ba=cb+1,L=nb;else if(Ba===ka&&"'"===nb)Ba=cb+1,L=nb;else if("."===nb&&!ka)cb>Ba?I():Ba=cb+1;else if("["===nb)cb>Ba&&I(),ka=Ba=cb+1;else if("]"===nb){if(!ka)throw Error("Access path missing open bracket: "+h);0<ka&&I();ka=0;Ba=cb+1}if(ka)throw Error("Access path missing closing bracket: "+h);if(L)throw Error("Access path missing closing quote: "+
h);cb>Ba&&(cb++,I());return c}function x(h,I,c){I=[I].concat([].slice.call(c));console[h].apply(console,I)}function v(h){return h===Object(h)}function u(...h){return h.reduce((I,c)=>{for(const t in c)"signals"===t?I.signals=g(I.signals,c.signals):m(I,t,c[t],"legend"===t?{layout:1}:"style"===t?!0:null);return I},{})}function m(h,I,c,t){if("__proto__"!==I){var L;if(v(c)&&!Je(c))for(L in h=v(h[I])?h[I]:h[I]={},c)t&&(!0===t||t[L])?m(h,L,c[L]):"__proto__"!==L&&(h[L]=c[L]);else h[I]=c}}function g(h,I){function c(ka){t[ka.name]||
(t[ka.name]=1,L.push(ka))}if(null==h)return I;const t={},L=[];I.forEach(c);h.forEach(c);return L}function d(h){return null!=h?Je(h)?h:[h]:[]}function f(h){return"boolean"===typeof h}function a(h){return"number"===typeof h}function e(h){return"string"===typeof h}function n(h){return Je(h)?"["+h.map(n)+"]":v(h)||e(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}function y(h){const I={},c=h.length;for(let t=0;t<c;++t)I[h[t]]=!0;return I}function B(h,I){if(h.not)B(h.not,
I);else if(h.and)for(const c of h.and)B(c,I);else if(h.or)for(const c of h.or)B(c,I);else I(h)}function D(h,I){return h.not?{not:D(h.not,I)}:h.and?{and:h.and.map(c=>D(c,I))}:h.or?{or:h.or.map(c=>D(c,I))}:I(h)}function O(h,I){const c={};for(const t of I)ii.call(h,t)&&(c[t]=h[t]);return c}function M(h,I){h=Object.assign({},h);for(const c of I)delete h[c];return h}function F(h){if(a(h))return h;h=e(h)?h:qh(h);if(250>h.length)return h;let I=0;for(let c=0;c<h.length;c++){const t=h.charCodeAt(c);I=(I<<
5)-I+t;I&=I}return I}function z(h){return!1===h||null===h}function G(h,I){return-1<h.indexOf(I)}function K(h,I){let c=0;for(const t of h.entries()){const [L,ka]=t;if(I(ka,L,c++))return!0}return!1}function R(h,I){let c=0;for(const t of h.entries()){const [L,ka]=t;if(!I(ka,L,c++))return!1}return!0}function T(h,...I){for(const t of I){I=h;var c=null!==t&&void 0!==t?t:{};for(const L of Hd(c))m(I,L,c[L],!0)}return h}function ja(h,I){const c=[],t={};for(const L of h)h=I(L),h in t||(t[h]=1,c.push(L));return c}
function fa(h,I){if(h.size!==I.size)return!1;for(const c of h)if(!I.has(c))return!1;return!0}function ia(h,I){for(const c of h)if(I.has(c))return!0;return!1}function la(h){const I=new Set;for(const c of h){const t=N(c).map((L,ka)=>0===ka?L:"[".concat(L,"]"));h=t.map((L,ka)=>t.slice(0,ka+1).join(""));for(const L of h)I.add(L)}return I}function Z(h,I){return void 0===h||void 0===I?!0:ia(la(h),la(I))}function P(h){return 0===Hd(h).length}function C(h){return!0===h||!1===h}function V(h){const I=h.replace(/\W/g,
"_");return(h.match(/^\d+/)?"_":"")+I}function ha(h,I){return h.not?"!("+ha(h.not,I)+")":h.and?"("+h.and.map(c=>ha(c,I)).join(") \x26\x26 (")+")":h.or?"("+h.or.map(c=>ha(c,I)).join(") || (")+")":I(h)}function aa(h,I){if(0===I.length)return!0;const c=I.shift();c in h&&aa(h[c],I)&&delete h[c];return P(h)}function ta(h){return h.charAt(0).toUpperCase()+h.substr(1)}function wa(h,I){I=void 0===I?"datum":I;h=N(h);const c=[];for(let t=1;t<=h.length;t++){const L="[".concat(h.slice(0,t).map(n).join("]["),
"]");c.push("".concat(I).concat(L))}return c.join(" \x26\x26 ")}function Ha(h,I){return"".concat(void 0===I?"datum":I,"[").concat(n(N(h).join(".")),"]")}function bb(h){return h.replace(/(\[|\]|\.|'|")/g,"\\$1")}function kb(h){return"".concat(N(h).map(bb).join("\\."))}function va(h,I,c){return h.replace(new RegExp(I.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),c)}function Ta(h){return"".concat(N(h).join("."))}function Ya(h){return h?N(h).length:0}function Ca(...h){for(const I of h)if(void 0!==I)return I}
function ua(h){const I=++jj;return h?String(h)+I:I}function U(h){return W(h)?h:"__".concat(h)}function W(h){return 0===h.indexOf("__")}function ba(h){if(void 0!==h)return(h%360+360)%360}function ca(h){return a(h)?!0:!isNaN(h)&&!isNaN(parseFloat(h))}function ra(h){return h&&h.condition}function qa(h){return!!h&&!!h.argmin}function Da(h){return!!h&&!!h.argmax}function na(h){return e(h)&&!!Ik[h]}function Ra(h){return e(h)&&G(Hk,h)}function db(h){switch(h){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function $a(h){return"color"===h||"fill"===h||"stroke"===h}function Fa(h){return Ga(h)!==h}function Ga(h){switch(h){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return h}function pa(h){if(h in bl)switch(h){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return h}
function Ja(h){switch(h){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Ua(h){switch(h){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function jb(h){switch(h){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function Fb(h){return"width"===h?"x":"y"}function Xb(h){switch(h){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Ok;case "x":case "y":case "latitude":case "longitude":return dl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function nc(h){switch(h){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function md(h){f(h)&&
(h=Tb(h,void 0));return"bin"+Hd(h).map(I=>mb(h[I])?V("_".concat(I,"_").concat(fh(h[I]))):V("_".concat(I,"_").concat(h[I]))).join("")}function pc(h){return!0===h||v(h)&&!h.binned}function Hc(h){return"binned"===h||v(h)&&!0===h.binned}function mb(h){return null===h||void 0===h?void 0:h.selection}function hc(h){switch(h){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function jc(h,I,c){I in h?Object.defineProperty(h,I,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[I]=c;return h}function rc(h,I,c){I=I.get(h);if(!I)throw new TypeError("attempted to set private field on non-instance");if(I.set)I.set.call(h,c);else{if(!I.writable)throw new TypeError("attempted to set read only private field");I.value=c}return c}function Pc(h){return"Invalid specification ".concat(JSON.stringify(h),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function sc(h){return"".concat("width"==h?"Width":"Height",' "container" only works for single views and layered views.')}function Uc(h){const I="width"==h?"x":"y";return"".concat("width"==h?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(I,'".')}function Sc(h){return h?'Dropping "fit-'.concat(h,'" because spec has discrete ').concat(Ua(h),"."):'Dropping "fit" because spec has discrete size.'}function Lc(h){return"Unknown field for ".concat(h,". Cannot calculate view size.")}
function Fd(h){return'Cannot project a selection on encoding channel "'.concat(h,'", which has no field.')}function ge(h,I){return'Cannot project a selection on encoding channel "'.concat(h,'" as it uses an aggregate function ("').concat(I,'").')}function wd(h){return"Selection not supported for ".concat(h," yet.")}function vd(h){return'The "columns" property cannot be used when "'.concat(h,'" has nested row/column.')}function Wd(h,I,c){return'An ancestor parsed field "'.concat(h,'" as ').concat(c,
" but a child wants to parse the field as ").concat(I,".")}function Pb(h){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(h," are dropped.")}function gc(h,I){const {fill:c,stroke:t}=I;return"Dropping color ".concat(h," as the plot also has ").concat(c&&t?"fill and stroke":c?"fill":"stroke",".")}function Eb(h,I){return"Dropping ".concat(of(h),' from channel "').concat(I,'" since it does not contain any data field, datum, value, or signal.')}function zc(h,
I,c){return"".concat(h,' dropped as it is incompatible with "').concat(I,'"').concat(c?" when ".concat(c):"",".")}function Vc(h){return"".concat(h,"-encoding is dropped as ").concat(h," is not a valid encoding channel.")}function Ed(h,I){return'Using discrete channel "'.concat(h,'" to encode "').concat(I,'" field can be misleading as it does not encode ').concat("ordinal"===I?"order":"magnitude",".")}function Vd(h,I,c){return"".concat(c,"-scale's \"").concat(I,'" is dropped as it does not work with ').concat(h,
" scale.")}function Ka(h){return'The step for "'.concat(h,'" is dropped because the ').concat("width"===h?"x":"y"," is continuous.")}function eb(h){return'Cannot stack "'.concat(h,'" if there is already "').concat(h,'2".')}function wb(h,I){return"Invalid ".concat(h,": ").concat(of(I),".")}function Hb(h){return"1D error band does not support ".concat(h,".")}function ac(h){return"Channel ".concat(h,' is required for "binned" bin.')}function Lb(...h){kj.warn(...h)}function Ac(h){if(h&&v(h))for(const I of ok)if(I in
h)return!0;return!1}function tc(h){ca(h)&&(h=+h);if(a(h))return h-1;{var I=h.toLowerCase();const c=Lk.indexOf(I);if(-1!==c)return c;I=I.substr(0,3);I=ki.indexOf(I);if(-1!==I)return I;throw Error(wb("month",h));}}function pb(h){ca(h)&&(h=+h);if(a(h))return h%7;{var I=h.toLowerCase();const c=Ci.indexOf(I);if(-1!==c)return c;I=I.substr(0,3);I=mk.indexOf(I);if(-1!==I)return I;throw Error(wb("day",h));}}function Bb(h,I){const c=[];I&&void 0!==h.day&&1<Hd(h).length&&(Lb("Dropping day from datetime ".concat(of(h),
" as day cannot be combined with other units.")),h=rf(h),delete h.day);void 0!==h.year?c.push(h.year):c.push(2012);if(void 0!==h.month){var t=I?tc(h.month):h.month;c.push(t)}else if(void 0!==h.quarter){if(I)if(t=h.quarter,ca(t)&&(t=+t),a(t))4<t&&Lb(wb("quarter",t)),--t;else throw Error(wb("quarter",t));else t=h.quarter;c.push(a(t)?3*t:t+"*3")}else c.push(0);void 0!==h.date?c.push(h.date):void 0!==h.day?(I=I?pb(h.day):h.day,c.push(a(I)?I+1:I+"+1")):c.push(1);for(const L of["hours","minutes","seconds",
"milliseconds"])I=h[L],c.push("undefined"===typeof I?0:I);return c}function Ub(h){const I=Bb(h,!0).join(", ");return h.utc?"utc(".concat(I,")"):"datetime(".concat(I,")")}function mc(h){const I=Bb(h,!0);return h.utc?+new Date(Date.UTC(...I)):+new Date(...I)}function Bc(h){const I=[];for(const c of ok)Cc(h,c)&&I.push(c);return I}function Cc(h,I){const c=h.indexOf(I);return 0>c||0<c&&"seconds"===I&&"i"===h.charAt(c-1)||h.length>c+3&&"day"===I&&"o"===h.charAt(c+3)||0<c&&"year"===I&&"f"===h.charAt(c-1)?
!1:!0}function Xc(h){if(h)return h=Bc(h),"timeUnitSpecifier(".concat(qh(h),", ").concat(qh(hl),")")}function Qb(h){if(h){var I;e(h)?I={unit:h}:v(h)&&(I=Object.assign({},h,h.unit?{unit:h.unit}:{}));I.unit.startsWith("utc")&&(I.utc=!0,I.unit=I.unit.substr(3));return I}}function Ic(h){var I=Qb(h);h=Object.assign({},I);I=I.utc;const c=(delete h.utc,h);return c.unit?(I?"utc":"")+Hd(c).map(t=>V("".concat("unit"===t?"":"_".concat(t,"_")).concat(c[t]))).join(""):(I?"utc":"")+"timeunit"+Hd(c).map(t=>V("_".concat(t,
"_").concat(c[t]))).join("")}function Dc(h){return h&&!!h.signal}function uc(h){return!!h.step}function Tc(h){return Je(h)?!1:"field"in h&&"data"in h}function ad(h){return h&&!!h.field&&void 0!==h.equal}function ld(h){return h&&!!h.field&&void 0!==h.lt}function Cd(h){return h&&!!h.field&&void 0!==h.lte}function Dd(h){return h&&!!h.field&&void 0!==h.gt}function Ud(h){return h&&!!h.field&&void 0!==h.gte}function ae(h){return h&&h.field&&(Je(h.range)&&2===h.range.length||Dc(h.range))?!0:!1}function oe(h){return h&&
!!h.field&&(Je(h.oneOf)||Je(h.in))}function De(h){return oe(h)||ad(h)||ae(h)||ld(h)||Dd(h)||Cd(h)||Ud(h)}function fe(h,I){return fd(h,{timeUnit:I,wrapTime:!0})}function ef(h,I){return h.map(c=>fe(c,I))}function Ze(h,I){I=void 0===I?!0:I;var c,{field:t}=h;const L=null===(c=Qb(h.timeUnit))||void 0===c?void 0:c.unit;if(L){{({end:c}={end:!1});t=wa(t);const Ba=L.startsWith("utc")?"utc":"";const cb={};for(sa of ok)if(Cc(L,sa)){var ka=sa;ka="quarter"===ka?"(".concat(Ba,"quarter(").concat(t,")-1)"):"".concat(Ba).concat(ka,
"(").concat(t,")");cb[sa]=ka;ka=sa}c&&(cb[ka]+="+1");var sa=cb;c=Bb(sa,!1).join(", ");sa=sa.utc?"utc(".concat(c,")"):"datetime(".concat(c,")")}sa="time("+sa+")"}else sa=kd(h,{expr:"datum"});if(ad(h))return sa+"\x3d\x3d\x3d"+fe(h.equal,L);if(ld(h))return I=h.lt,"".concat(sa,"\x3c").concat(fe(I,L));if(Dd(h))return I=h.gt,"".concat(sa,"\x3e").concat(fe(I,L));if(Cd(h))return I=h.lte,"".concat(sa,"\x3c\x3d").concat(fe(I,L));if(Ud(h))return I=h.gte,"".concat(sa,"\x3e\x3d").concat(fe(I,L));if(oe(h))return"indexof([".concat(ef(h.oneOf,
L).join(","),"], ").concat(sa,") !\x3d\x3d -1");if(h&&h.field&&void 0!==h.valid)return df(sa,h.valid);if(ae(h)){({range:c}=h);h=Dc(c)?{signal:"".concat(c.signal,"[0]")}:c[0];c=Dc(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==h&&null!==c&&I)return"inrange("+sa+", ["+fe(h,L)+", "+fe(c,L)+"])";I=[];null!==h&&I.push("".concat(sa," \x3e\x3d ").concat(fe(h,L)));null!==c&&I.push("".concat(sa," \x3c\x3d ").concat(fe(c,L)));return 0<I.length?I.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(h)));
}function df(h,I){return void 0===I||I?"isValid(".concat(h,") \x26\x26 isFinite(+").concat(h,")"):"!isValid(".concat(h,") || !isFinite(+").concat(h,")")}function Zd(h){if(De(h)&&h.timeUnit){var I;return Object.assign({},h,{timeUnit:null===(I=Qb(h.timeUnit))||void 0===I?void 0:I.unit})}return h}function he(h){if(h)switch(h=h.toLowerCase(),h){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function zf(h){return null===h||void 0===h?void 0:h.selection}function Ue(h,I){switch(I){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!G(["point","band","identity"],h);case "bins":return!G(["point","band","identity","ordinal"],h);case "round":return h in th||"band"===h||"point"===h;case "padding":case "rangeMin":case "rangeMax":return h in th||G(["point","band"],h);case "paddingOuter":case "align":return G(["point",
"band"],h);case "paddingInner":return"band"===h;case "domainMax":case "domainMid":case "domainMin":case "clamp":return h in th;case "nice":return h in th||"quantize"===h||"threshold"===h;case "exponent":return"pow"===h;case "base":return"log"===h;case "constant":return"symlog"===h;case "zero":return h in Jh&&!G(["log","time","utc","threshold","quantile"],h)}}function Nf(h,I){switch(I){case "interpolate":case "scheme":case "domainMid":if(!$a(h))return'Cannot use the scale property "'.concat(h,'" with non-color channel.')}}
function me(h,I){if(!rh[h])return!1;switch(h){case "x":case "y":case "theta":case "radius":return I in th||G(["band","point"],I);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return I in th||I in zk||G(["band","point","ordinal"],I);case "color":case "fill":case "stroke":return"band"!==I;case "strokeDash":return"ordinal"===I||I in zk;case "shape":return"ordinal"===I}}function te(h){return h&&!!h.expr}function kf(h){const I=Hd(h||{}),c={};for(const t of I)c[t]=
Gd(h[t]);return c}function we(h){return G(["line","area","trail"],h)}function Od(h){return h.type}function Xd(h){const {channel:I,channelDef:c,markDef:t,scale:L,config:ka}=h;h=Ye(h);return $b(c)&&!Ra(c.aggregate)&&L&&L.get("type")in th&&!1===L.get("zero")?Be({fieldDef:c,channel:I,markDef:t,ref:h,config:ka}):h}function Be(h){var {fieldDef:I,channel:c,markDef:t,ref:L,config:ka}=h;if(we(t.type)||null===ne("invalid",t,ka))return L;{h=jf(I,!0);const sa="y"===Ga(c)?{field:{group:"height"}}:{value:0};h=
Object.assign({},{test:h},sa)}return[h,L]}function jf(h,I){I=void 0===I?!0:I;return df(e(h)?h:kd(h,{expr:"datum"}),!I)}function Ge(h,I,c,t){const L={};I&&(L.scale=I);gd(h)?({datum:h}=h,Ac(h)?L.signal=Ub(h):Dc(h)?L.signal=h.signal:te(h)?L.signal=h.expr:L.value=h):L.field=kd(h,c);if(t){const {offset:ka,band:sa}=t;ka&&(L.offset=ka);sa&&(L.band=sa)}return L}function Td(h){var {scaleName:I,fieldOrDatumDef:c,fieldOrDatumDef2:t,offset:L,startSuffix:ka,band:sa=.5}=h,Ba=0<sa&&1>sa?"datum":void 0;h=kd(c,{expr:Ba,
suffix:ka});const cb=void 0!==t?kd(t,{expr:Ba}):kd(c,{suffix:"end",expr:Ba});Ba={};0===sa||1===sa?(Ba.scale=I,Ba.field=0===sa?h:cb):(h="".concat(sa," * ").concat(h," + ").concat(1-sa," * ").concat(cb),Ba.signal='scale("'.concat(I,'", ').concat(h,")"));L&&(Ba.offset=L);return Ba}function Ye(h){var {channel:I,channelDef:c,channel2Def:t,markDef:L,config:ka,scaleName:sa,scale:Ba,stack:cb,offset:nb,defaultRef:Gb,band:Nb}=h;if(c){if(od(c)){var lc,Yc;if(Id(c)){var hd;Nb=null!==(hd=Nb)&&void 0!==hd?hd:Za({channel:I,
fieldDef:c,fieldDef2:t,markDef:L,stack:cb,config:ka,isMidPoint:!0});const {bin:qd,timeUnit:Md,type:Rd}=c;if(pc(qd)||Nb&&Md&&"temporal"===Rd)return cb&&cb.impute?Ge(c,sa,{binSuffix:"mid"},{offset:nb}):Nb?Td({scaleName:sa,fieldOrDatumDef:c,band:Nb,offset:nb}):Ge(c,sa,nd(c,I)?{binSuffix:"range"}:{},{offset:nb});if(Hc(qd)){if($b(t))return Td({scaleName:sa,fieldOrDatumDef:c,fieldOrDatumDef2:t,band:Nb,offset:nb});Lb(ac("x"===I?"x2":"y2"))}}h=null===Ba||void 0===Ba?void 0:Ba.get("type");return Ge(c,sa,h in
nh?{binSuffix:"range"}:{},{offset:nb,band:"band"===h?null!==(lc=null!==(Yc=Nb)&&void 0!==Yc?Yc:c.band)&&void 0!==lc?lc:.5:void 0})}if(jd(c))return lc=nb?{offset:nb}:{},Object.assign({},Xf(I,c.value),lc)}"function"===typeof Gb&&(Gb=Gb());return Gb?Object.assign({},Gb,nb?{offset:nb}:{}):Gb}function Xf(h,I){return G(["x","x2"],h)&&"width"===I?{field:{group:"width"}}:G(["y","y2"],h)&&"height"===I?{field:{group:"height"}}:$d(I)}function Gc(h){return h&&"number"!==h&&"time"!==h}function xe(h,I,c){return"".concat(h,
"(").concat(I).concat(c?", ".concat(JSON.stringify(c)):"",")")}function le(h){var {fieldOrDatumDef:I,format:c,formatType:t,expr:L,normalizeStack:ka,config:sa}=h;if(Gc(t))return Fe({fieldOrDatumDef:I,format:c,formatType:t,expr:L,config:sa});h=kc(I,L,ka);if(oc(I)){var Ba,cb;var nb=$b(I)?null===(Ba=Qb(I.timeUnit))||void 0===Ba?void 0:Ba.unit:void 0,Gb=c,Nb=sa.timeFormat;Ba=Qd(I)&&(null===(cb=I.scale)||void 0===cb?void 0:cb.type)===Cg.UTC;!nb||Gb?(Gb=e(Gb)?Gb:Nb,h="".concat(Ba?"utc":"time","Format(").concat(h,
", '").concat(Gb,"')")):nb?(cb=Xc(nb),nb=Ba||nb.startsWith("utc"),h="".concat(nb?"utc":"time","Format(").concat(h,", ").concat(cb,")")):h=void 0;return h?{signal:h}:void 0}c=Yf(Oc(I),c,sa);return $b(I)&&pc(I.bin)?(cb=kd(I,{expr:L,binSuffix:"end"}),{signal:Bf(h,cb,c,t,sa)}):c||"quantitative"===Oc(I)?{signal:"".concat(If(h,c))}:{signal:"isValid(".concat(h,") ? ").concat(h,' : ""+').concat(h)}}function kc(h,I,c){if($b(h))return c?"".concat(kd(h,{expr:I,suffix:"end"}),"-").concat(kd(h,{expr:I,suffix:"start"})):
kd(h,{expr:I});({datum:h}=h);h=Ac(h)?Ub(h):"".concat(JSON.stringify(h));return h}function Fe(h){var {fieldOrDatumDef:I,format:c,formatType:t,expr:L,normalizeStack:ka,config:sa,field:Ba}=h,cb;Ba=null!==(cb=Ba)&&void 0!==cb?cb:kc(I,L,ka);return $b(I)&&pc(I.bin)?(h=kd(I,{expr:L,binSuffix:"end"}),{signal:Bf(Ba,h,c,t,sa)}):{signal:xe(t,Ba,c)}}function ue(h,I,c,t,L,ka){if(!Gc(t)){if(oc(h)){var sa;h=$b(h)?null===(sa=Qb(h.timeUnit))||void 0===sa?void 0:sa.unit:void 0;c=c?c:h?{signal:Xc(h)}:ka?void 0:L.timeFormat;
return c}return Yf(I,c,L)}}function lf(h,I,c){if(h&&(Dc(h)||"number"===h||"time"===h))return h;if(oc(I)&&"time"!==c&&"utc"!==c)return"time"}function Yf(h,I,c){if(e(I))return I;if("quantitative"===h)return c.numberFormat}function If(h,I){return"format(".concat(h,', "').concat(I||"",'")')}function Sf(h,I,c,t){var L;return Gc(c)?xe(c,h,I):If(h,null!==(L=e(I)?I:void 0)&&void 0!==L?L:t.numberFormat)}function Bf(h,I,c,t,L){const ka=Sf(h,c,t,L);I=Sf(I,c,t,L);return"".concat(df(h,!1),' ? "null" : ').concat(ka,
' + "').concat("  ",'" + ').concat(I)}function qe(h){return!!h&&("count"===h.op||!!h.field)}function yc(h){return!!h&&Je(h)}function xa(h){return"row"in h||"column"in h}function Ea(h){const {field:I,timeUnit:c,bin:t,aggregate:L}=h;return Object.assign({},c?{timeUnit:c}:{},t?{bin:t}:{},L?{aggregate:L}:{},{field:I})}function Za(h){var {channel:I,fieldDef:c,fieldDef2:t,markDef:L,stack:ka,config:sa,isMidPoint:Ba}=h;if(od(c)&&void 0!==c.band)return c.band;if($b(c)){const {timeUnit:cb,bin:nb}=c;if(cb&&
!t)return Ba?sf("timeUnitBandPosition",L,sa):G(["rect","bar","image","arc"],L.type)?sf("timeUnitBand",L,sa):0;if(pc(nb))return G(["rect","bar","image","arc"],L.type)&&!Ba?1:.5}if((null===ka||void 0===ka?void 0:ka.fieldChannel)===I&&Ba)return.5}function Cb(h,I,c,t,L,ka){return pc(I.bin)||I.timeUnit&&Id(I)&&"temporal"===I.type?!!Za({channel:h,fieldDef:I,fieldDef2:c,stack:t,markDef:L,config:ka}):!1}function ub(h){h=h&&h.condition;return!!h&&!Je(h)&&$b(h)}function Yb(h){h=h&&h.condition;return!!h&&!Je(h)&&
od(h)}function $b(h){return!!h&&(!!h.field||"count"===h.aggregate)}function Oc(h){return h&&h.type}function gd(h){return!!h&&"datum"in h}function Mc(h){return Id(h)&&!We(h)||Nd(h)}function Nd(h){return gd(h)&&a(h.datum)}function od(h){return $b(h)||gd(h)}function Id(h){return!!h&&("field"in h||"count"===h.aggregate)&&"type"in h}function jd(h){return h&&"value"in h&&"value"in h}function Qd(h){return!!h&&("scale"in h||"sort"in h)}function ie(h){return h&&("axis"in h||"stack"in h||"impute"in h)}function Gf(h){return!!h&&
("format"in h||"formatType"in h)}function tf(h){return M(h,["legend","axis","header","scale"])}function kd(h,I){I=void 0===I?{}:I;let c=h.field;const t=I.prefix;let L=I.suffix,ka="";if("count"===h.aggregate)c=U("count");else{let nb;if(!I.nofn)if("op"in h)nb=h.op;else{const {bin:Gb,aggregate:Nb,timeUnit:lc}=h;if(pc(Gb)){var sa,Ba;nb=md(Gb);L=(null!==(sa=I.binSuffix)&&void 0!==sa?sa:"")+(null!==(Ba=I.suffix)&&void 0!==Ba?Ba:"")}else if(Nb)Da(Nb)?(ka='["'.concat(c,'"]'),c="argmax_".concat(Nb.argmax)):
qa(Nb)?(ka='["'.concat(c,'"]'),c="argmin_".concat(Nb.argmin)):nb=String(Nb);else if(lc){var cb;nb=Ic(lc);L=(!G(["range","mid"],I.binSuffix)&&I.binSuffix||"")+(null!==(cb=I.suffix)&&void 0!==cb?cb:"")}}nb&&(c=c?"".concat(nb,"_").concat(c):nb)}L&&(c="".concat(c,"_").concat(L));t&&(c="".concat(t,"_").concat(c));return I.forAs?Ta(c):I.expr?Ha(c,I.expr)+ka:kb(c)+ka}function We(h){switch(h.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return $b(h)&&!!h.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(h.type,
'".'));}function uf(h,I){const {field:c,bin:t,timeUnit:L,aggregate:ka}=h;if("count"===ka)return I.countTitle;if(pc(t))return"".concat(c," (binned)");if(L){var sa;if(h=null===(sa=Qb(L))||void 0===sa?void 0:sa.unit)return"".concat(c," (").concat(Bc(h).join("-"),")")}else if(ka)return Da(ka)?"".concat(c," for max ").concat(ka.argmax):qa(ka)?"".concat(c," for min ").concat(ka.argmin):"".concat(ta(ka)," of ").concat(c);return c}function mf(h,I,c){var {allowDisabling:t,includeDefault:L=!0}=c,ka;c=null===
(ka=Zf(h))||void 0===ka?void 0:ka.title;if(!$b(h))return c;I=L?cf(h,I):void 0;if(t)return Ca(c,h.title,I);var sa;return null!==(sa=null!==c&&void 0!==c?c:h.title)&&void 0!==sa?sa:I}function Zf(h){if(ie(h)&&h.axis)return h.axis;if(h&&"legend"in h&&h.legend)return h.legend;if(h&&"header"in h&&h.header)return h.header}function yf(h){if(Gf(h)){const {format:c,formatType:t}=h;return{format:c,formatType:t}}{var I;h=null!==(I=Zf(h))&&void 0!==I?I:{};const {format:c,formatType:t}=h;return{format:c,formatType:t}}}
function Pe(h,I){var c;switch(I){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in h&&Je(h.sort))return"ordinal";const {aggregate:t,bin:L,timeUnit:ka}=h;if(ka)return"temporal";if(L||t&&!Da(t)&&!qa(t))return"quantitative";if(Qd(h)&&(null===(c=h.scale)||void 0===c?0:c.type))switch(ai[h.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}
function nf(h){if($b(h))return h;if(ub(h))return h.condition}function Aa(h){if(od(h))return h;if(Yb(h))return h.condition}function Pa(h,I,c,t){t=void 0===t?{}:t;return e(h)||a(h)||f(h)?(c=e(h)?"string":a(h)?"number":"boolean",I="Channel ".concat(I," is a ").concat(c,". Converted to {value: ").concat(of(h),"}."),Lb(I),{value:h}):od(h)?vb(h,I,c,t):Yb(h)?Object.assign({},h,{condition:vb(h.condition,I,c,t)}):h}function vb(h,I,c,t){if(Gf(h)){var L=Object.assign({},h),ka=h.formatType;L=(delete L.format,
delete L.formatType,L);if(Gc(ka)&&!c.customFormatTypes)return Lb(Pb(I)),vb(L,I,c,t)}else if((ka=ie(h)?"axis":h&&"legend"in h?"legend":h&&"header"in h?"header":null)&&h[ka]){var sa=h[ka];L=Object.assign({},sa);sa=sa.formatType;L=(delete L.format,delete L.formatType,L);if(Gc(sa)&&!c.customFormatTypes)return Lb(Pb(I)),vb(Object.assign({},h,{[ka]:L}),I,c,t)}if($b(h))return Wb(h,I,t);I=h.type;I||({datum:I}=h,I=a(I)?"quantitative":e(I)?"nominal":Ac(I)?"temporal":void 0,h=Object.assign({},h,{type:I}));return h}
function Wb(h,I,c){({compositeMark:c=!1}=void 0===c?{}:c);const {aggregate:t,timeUnit:L,bin:ka,field:sa}=h;h=Object.assign({},h);c||!t||na(t)||Da(t)||qa(t)||(Lb('Invalid aggregation operator "'.concat(t,'".')),delete h.aggregate);L&&(h.timeUnit=Qb(L));sa&&(h.field="".concat(sa));pc(ka)&&(h.bin=Tb(ka,I));!Hc(ka)||I in fg||Lb("Channel ".concat(I,' should not be used with "binned" bin.'));if(Id(h)){({type:c}=h);var Ba=he(c);c!==Ba&&(h.type=Ba);"quantitative"!==c&&Ra(t)&&(c='Invalid field type "'.concat(c,
'" for aggregate: "').concat(t,'", using "quantitative" instead.'),Lb(c),h.type="quantitative")}else Fa(I)||(c=Pe(h,I),h.type=c);if(Id(h)){const {compatible:cb,warning:nb}=ic(h,I)||{};!1===cb&&Lb(nb)}if("sort"in h&&e(h.sort)){({sort:I}=h);if(I in Bd)return Object.assign({},h,{sort:{encoding:I}});c=I.substr(1);if("-"===I.charAt(0)&&c in Bd)return Object.assign({},h,{sort:{encoding:c,order:"descending"}})}return h&&"header"in h&&({header:I}=h,Ba=I,c=Object.assign({},Ba),Ba=Ba.orient,c=(delete c.orient,
c),Ba)?Object.assign({},h,{header:Object.assign({},c,{labelOrient:I.labelOrient||Ba,titleOrient:I.titleOrient||Ba})}):h}function Tb(h,I){return f(h)?{maxbins:hc(I)}:"binned"===h?{binned:!0}:h.maxbins||h.step?h:Object.assign({},h,{maxbins:hc(I)})}function ic(h,I){const c=h.type;if("geojson"===c&&"shape"!==I)return{compatible:!1,warning:"Channel ".concat(I," should not be used with a geojson data.")};switch(I){case "row":case "column":case "facet":return We(h)?Ae:{compatible:!1,warning:"".concat(I,
" encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ae;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==c?{compatible:!1,warning:"Channel ".concat(I," should be used with a quantitative field only, not ").concat(h.type," field.")}:Ae;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
c||h.sort?Ae:{compatible:!1,warning:"Channel ".concat(I," should not be used with an unsorted discrete field.")};case "strokeDash":return G(["ordinal","nominal"],h.type)?Ae:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return G(["ordinal","nominal","geojson"],h.type)?Ae:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==h.type||"sort"in h?Ae:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function oc(h){var {formatType:I}=yf(h),c;if(!(c="time"===I)){if(I=!I)I=h&&("temporal"===h.type||$b(h)&&!!h.timeUnit);c=I}return c}function fd(h,I){var {timeUnit:c,type:t,wrapTime:L,undefinedIfExprNotRequired:ka}=I;var sa=(I=c&&(null===(sa=Qb(c))||void 0===sa?void 0:sa.unit))||"temporal"===t;let Ba;te(h)?Ba=h.expr:Dc(h)?Ba=h.signal:Ac(h)?(sa=!0,Ba=Ub(h)):(e(h)||a(h))&&sa&&(Ba="datetime(".concat(JSON.stringify(h),")"),Oj[I]&&(a(h)&&1E4>h||e(h)&&isNaN(Date.parse(h)))&&(Ba=Ub({[I]:h})));return Ba?L&&
sa?"time(".concat(Ba,")"):Ba:ka?void 0:JSON.stringify(h)}function Wc(h,I){const {type:c}=h;return I.map(t=>{const L=fd(t,{timeUnit:$b(h)?h.timeUnit:void 0,type:c,undefinedIfExprNotRequired:!0});return void 0!==L?{signal:L}:t})}function nd(h,I){return pc(h.bin)?!!rh[I]&&G(["ordinal","nominal"],h.type):(console.warn("Only call this method for binned field defs."),!1)}function Kd(h){var I=Object.assign({},h),c=h.anchor;const t=h.frame,L=h.offset,ka=h.orient;var sa=h.color,Ba=h.subtitleColor,cb=h.subtitleFont;
const nb=h.subtitleFontSize,Gb=h.subtitleFontStyle,Nb=h.subtitleFontWeight,lc=h.subtitleLineHeight;h=h.subtitlePadding;I=(delete I.anchor,delete I.frame,delete I.offset,delete I.orient,delete I.color,delete I.subtitleColor,delete I.subtitleFont,delete I.subtitleFontSize,delete I.subtitleFontStyle,delete I.subtitleFontWeight,delete I.subtitleLineHeight,delete I.subtitlePadding,I);sa=Object.assign({},I,sa?{fill:sa}:{});c=Object.assign({},c?{anchor:c}:{},t?{frame:t}:{},L?{offset:L}:{},ka?{orient:ka}:
{});Ba=Object.assign({},Ba?{subtitleColor:Ba}:{},cb?{subtitleFont:cb}:{},nb?{subtitleFontSize:nb}:{},Gb?{subtitleFontStyle:Gb}:{},Nb?{subtitleFontWeight:Nb}:{},lc?{subtitleLineHeight:lc}:{},h?{subtitlePadding:h}:{});cb=O(sa,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:sa,subtitleMarkConfig:cb,nonMark:c,subtitle:Ba}}function de(h){return e(h)||Je(h)&&e(h[0])}function je(h){const I=Je(h.condition)?h.condition.map(Le):Le(h.condition);return Object.assign({},Gd(h),{condition:I})}function Gd(h){if(te(h)){var I=
Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return h}function Le(h){if(te(h)){var I=Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return h}function $d(h){if(te(h)){var I=Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return Dc(h)?h:void 0!==h?{value:h}:void 0}function Ie(h){return Dc(h)?h.signal:n(h.value)}function Ce(h){return Dc(h)?h.signal:null==h?null:n(h)}function Qe(h,
I,c){for(const t of c)c=sf(t,I.markDef,I.config),void 0!==c&&(h[t]=$d(c));return h}function Uf(h){var I;return[].concat(h.type,null!==(I=h.style)&&void 0!==I?I:[])}function ne(h,I,c,t){t=void 0===t?{}:t;const {vgChannel:L,ignoreVgConfig:ka}=t;if(L&&void 0!==I[L])return I[L];if(void 0!==I[h])return I[h];if(!ka||L&&L!==h)return sf(h,I,c,t)}function sf(h,I,c,t){({vgChannel:t}=void 0===t?{}:t);return Ca(t?Cf(h,I,c.style):void 0,Cf(h,I,c.style),t?c[I.type][t]:void 0,c[I.type][h],t?c.mark[t]:c.mark[h])}
function Cf(h,I,c){return Bg(h,Uf(I),c)}function Bg(h,I,c){I=d(I);let t;for(const L of I)(I=c[L])&&void 0!==I[h]&&(t=I[h]);return t}function Lf(h,I){return d(h).reduce((c,t)=>{var L;c.field.push(kd(t,I));c.order.push(null!==(L=t.sort)&&void 0!==L?L:"ascending");return c},{field:[],order:[]})}function jg(h,I){const c=[...h];I.forEach(t=>{for(const L of c)if(ji(L,t))return;c.push(t)});return c}function ya(h,I){return ji(h,I)||!I?h:h?[...d(h),...d(I)].join(", "):I}function za(h,I){const c=h.value;I=
I.value;if(null==c||null===I)return{explicit:h.explicit,value:null};if((de(c)||Dc(c))&&(de(I)||Dc(I)))return{explicit:h.explicit,value:ya(c,I)};if(de(c)||Dc(c))return{explicit:h.explicit,value:c};if(de(I)||Dc(I))return{explicit:h.explicit,value:I};if(!(de(c)||Dc(c)||de(I)||Dc(I)))return{explicit:h.explicit,value:jg(c,I)};throw Error("It should never reach here");}function Na(h){return"mark"in h}function Sa(h,I){return(h=h&&h[I])?Je(h)?K(h,c=>!!c.field):$b(h)||ub(h):!1}function fb(h){return K(Jl,I=>
Sa(h,I)?(I=h[I],Je(I)?K(I,c=>!!c.aggregate):(I=nf(I))&&!!I.aggregate):!1)}function hb(h,I){const c=[],t=[],L=[],ka=[],sa={};Jb(h,(Ba,cb)=>{if($b(Ba)){var nb=Object.assign({},Ba),Gb=Ba.field;const lc=Ba.aggregate,Yc=Ba.bin,hd=Ba.timeUnit;nb=(delete nb.field,delete nb.aggregate,delete nb.bin,delete nb.timeUnit,nb);if(lc||hd||Yc){var Nb=Zf(Ba);const qd=Nb&&Nb.title;Nb=kd(Ba,{forAs:!0});nb=Object.assign({},qd?[]:{title:mf(Ba,I,{allowDisabling:!0})},nb,{field:Nb});if(lc){let Md;Da(lc)?(Md="argmax",Nb=
kd({op:"argmax",field:lc.argmax},{forAs:!0}),nb.field="".concat(Nb,".").concat(Gb)):qa(lc)?(Md="argmin",Nb=kd({op:"argmin",field:lc.argmin},{forAs:!0}),nb.field="".concat(Nb,".").concat(Gb)):"boxplot"!==lc&&"errorbar"!==lc&&"errorband"!==lc&&(Md=lc);Md&&(Ba={op:Md,as:Nb},Gb&&(Ba.field=Gb),ka.push(Ba))}else c.push(Nb),Id(Ba)&&pc(Yc)?(t.push({bin:Yc,field:Gb,as:Nb}),c.push(kd(Ba,{binSuffix:"end"})),nd(Ba,cb)&&c.push(kd(Ba,{binSuffix:"range"})),cb in fg&&(sa[cb+"2"]={field:Nb+"_end"}),nb.bin="binned",
Fa(cb)||(nb.type="quantitative")):hd&&(L.push({timeUnit:hd,field:Gb,as:Nb}),(Gb=Id(Ba)&&"temporal"!==Ba.type&&"time")&&("text"===cb||"tooltip"===cb?nb.formatType=Gb:ah[cb]?nb.legend=Object.assign({},{formatType:Gb},nb.legend):cb in fg&&(nb.axis=Object.assign({},{formatType:Gb},nb.axis))));sa[cb]=nb}else c.push(Gb),sa[cb]=h[cb]}else sa[cb]=h[cb]});return{bins:t,timeUnits:L,aggregate:ka,groupby:c,encoding:sa}}function qb(h,I,c){c=Xb(I)[c];return c&&("binned"!==c||(c=h["x2"===I?"x":"y"],$b(c)&&$b(h[I])&&
Hc(c.bin)))?!0:!1}function Db(h,I,c,t){return Hd(h).reduce((L,ka)=>{if(!Kk[ka])return Lb(Vc(ka)),L;const sa=h[ka];"angle"!==ka||"arc"!==I||h.theta||(Lb("Arc marks uses theta channel rather than angle, replacing angle with theta."),ka="theta");if(!qb(h,ka,I))return Lb(zc(ka,I)),L;if("size"===ka&&"line"===I){const Ba=nf(h[ka]);if(null===Ba||void 0===Ba?0:Ba.aggregate)return Lb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),L}if("color"===ka&&(c?"fill"in
h:"stroke"in h))return Lb(gc("encoding",{fill:"fill"in h,stroke:"stroke"in h})),L;if("detail"===ka||"order"===ka&&!Je(sa)&&!jd(sa)||"tooltip"===ka&&Je(sa))sa&&(L[ka]=d(sa).reduce((Ba,cb)=>{$b(cb)?Ba.push(Wb(cb,ka)):Lb(Eb(cb,ka));return Ba},[]));else{if("tooltip"===ka&&null===sa)L[ka]=null;else if(!($b(sa)||gd(sa)||jd(sa)||sa&&"condition"in sa||Dc(sa)))return Lb(Eb(sa,ka)),L;L[ka]=Pa(sa,ka,t)}return L},{})}function Ab(h,I){const c={};for(const t of Hd(h)){const L=Pa(h[t],t,I,{compositeMark:!0});c[t]=
L}return c}function Kb(h){const I=[];for(const c of Hd(h))if(Sa(h,c)){const t=d(h[c]);for(const L of t)$b(L)?I.push(L):ub(L)&&I.push(L.condition)}return I}function Jb(h,I,c){if(h)for(const t of Hd(h)){const L=h[t];if(Je(L))for(const ka of L)I.call(c,ka,t);else I.call(c,L,t)}}function cc(h,I,c,t){return h?Hd(h).reduce((L,ka)=>{const sa=h[ka];return Je(sa)?sa.reduce((Ba,cb)=>I.call(t,Ba,cb,ka),L):I.call(t,L,sa,ka)},c):c}function xc(h,I){return Hd(I).reduce((c,t)=>{switch(t){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return c;
case "order":if("line"===h||"trail"===h)return c;case "detail":case "key":t=I[t];if(Je(t)||$b(t))for(var L of d(t))L.aggregate||c.push(kd(L,{}));return c;case "size":if("trail"===h)return c;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(L=nf(I[t]))&&!L.aggregate&&c.push(kd(L,{})),c}},[])}function Y(h,I,c,t){t=void 0===t?!0:t;if("tooltip"in c)return{tooltip:c.tooltip};h=h.map(L=>{var {fieldPrefix:ka,titlePrefix:sa}=
L;L=t?" of ".concat(oa(I)):"";return{field:ka+I.field,type:I.type,title:Dc(sa)?{signal:sa+'"'.concat(escape(L),'"')}:sa+L}});c=Kb(c).map(tf);return{tooltip:[...h,...ja(c,F)]}}function oa(h){const {title:I,field:c}=h;return Ca(I,c)}function Oa(h,I,c,t,L){const {scale:ka,axis:sa}=c;return Ba=>{var {partName:cb,mark:nb,positionPrefix:Gb,endPositionPrefix:Nb,extraEncoding:lc={}}=Ba;Ba=oa(c);return Va(h,cb,L,{mark:nb,encoding:Object.assign({},{[I]:Object.assign({},{field:Gb+"_"+c.field,type:c.type},void 0!==
Ba?{title:Ba}:{},void 0!==ka?{scale:ka}:{},void 0!==sa?{axis:sa}:{})},e(Nb)?{[I+"2"]:{field:Nb+"_"+c.field}}:{},t,lc)})}}function Va(h,I,c,t){const {clip:L,color:ka,opacity:sa}=h,Ba=h.type;return h[I]||void 0===h[I]&&c[I]?[Object.assign({},t,{mark:Object.assign({},c[I],L?{clip:L}:{},ka?{color:ka}:{},sa?{opacity:sa}:{},Od(t.mark)?t.mark:{type:t.mark},{style:"".concat(Ba,"-").concat(I)},f(h[I])?{}:h[I])})]:[]}function xb(h,I,c){({encoding:h}=h);I="vertical"===I?"y":"x";const t=h[I+"2"],L=h[I+"Error"],
ka=h[I+"Error2"];return{continuousAxisChannelDef:Sb(h[I],c),continuousAxisChannelDef2:Sb(t,c),continuousAxisChannelDefError:Sb(L,c),continuousAxisChannelDefError2:Sb(ka,c),continuousAxis:I}}function Sb(h,I){if(h&&h.aggregate){var c=Object.assign({},h);h=h.aggregate;c=(delete c.aggregate,c);h!==I&&(I="Continuous axis should not have customized aggregation function ".concat(h,"; ").concat(I," already agregates the axis."),Lb(I));return c}return h}function Zb(h,I){const {mark:c,encoding:t}=h,{x:L,y:ka}=
t;if(Od(c)&&c.orient)return c.orient;if(Mc(L)){if(Mc(ka)){h=$b(L)&&L.aggregate;const sa=$b(ka)&&ka.aggregate;if(!h&&sa===I)return"vertical";if(sa||h!==I){if(h===I&&sa===I)throw Error("Both x and y cannot have aggregate");return oc(ka)&&!oc(L)?"horizontal":"vertical"}}return"horizontal"}if(Mc(ka))return"vertical";throw Error("Need a valid continuous axis for ".concat(I,"s"));}function qc(h){return a(h)?"tukey":h}function Ec(h,I){var {config:c}=I,t,L=h=Object.assign({},h,{encoding:Ab(h.encoding,c)});
I=Object.assign({},L);var ka=L.mark;L=L.selection;I=(delete I.mark,delete I.encoding,delete I.selection,delete I.projection,I);ka=Od(ka)?ka:{type:ka};L&&Lb(wd("boxplot"));L=null!==(t=ka.extent)&&void 0!==t?t:c.boxplot.extent;var sa=ne("size",ka,c);t=qc(L);var Ba;{var cb=h;h=Zb(cb,"boxplot");const {continuousAxisChannelDef:hg,continuousAxis:Ng}=xb(cb,h,"boxplot");var nb=hg.field,Gb=qc(L),Nb=[...ed(nb),{op:"median",field:nb,as:"mid_box_"+nb},{op:"min",field:nb,as:("min-max"===Gb?"lower_whisker_":"min_")+
nb},{op:"max",field:nb,as:("min-max"===Gb?"upper_whisker_":"max_")+nb}];nb="min-max"===Gb||"tukey"===Gb?[]:[{calculate:'datum["upper_box_'.concat(nb,'"] - datum["lower_box_').concat(nb,'"]'),as:"iqr_"+nb},{calculate:'min(datum["upper_box_'.concat(nb,'"] + datum["iqr_').concat(nb,'"] * ').concat(L,', datum["max_').concat(nb,'"])'),as:"upper_whisker_"+nb},{calculate:'max(datum["lower_box_'.concat(nb,'"] - datum["iqr_').concat(nb,'"] * ').concat(L,', datum["min_').concat(nb,'"])'),as:"lower_whisker_"+
nb}];cb=Object.assign({},cb.encoding);Gb=(delete cb[Ng],cb);cb=Object.assign({},Gb);Gb=Gb.tooltip;cb=(delete cb.tooltip,cb);if(Gb){var lc;if(Je(Gb)){for(var Yc of Gb)Yc.aggregate?(Ba||(Ba=[]),Ba.push(Yc)):(lc||(lc=[]),lc.push(Yc));Ba&&(cb.tooltip=Ba)}else Gb.aggregate?cb.tooltip=Gb:lc=Gb;Je(lc)&&1===lc.length&&(lc=lc[0]);Ba={customTooltipWithoutAggregatedField:lc,filteredEncoding:cb}}else Ba={filteredEncoding:cb};const {customTooltipWithoutAggregatedField:yg,filteredEncoding:Pl}=Ba,{bins:Rj,timeUnits:jl,
aggregate:dm,groupby:em,encoding:Dm}=hb(Pl,c);Ba=[...Rj,...jl,{aggregate:[...dm,...Nb],groupby:em},...nb];Ba={bins:Rj,timeUnits:jl,transform:Ba,groupby:em,aggregate:dm,continuousAxisChannelDef:hg,continuousAxis:Ng,encodingWithoutContinuousAxis:Dm,ticksOrient:"vertical"===h?"horizontal":"vertical",boxOrient:h,customTooltipWithoutAggregatedField:yg}}const {bins:hd,timeUnits:qd,transform:Md,continuousAxisChannelDef:Rd,continuousAxis:Ee,groupby:Hf,aggregate:se,encodingWithoutContinuousAxis:Ef,ticksOrient:Yd,
boxOrient:sg,customTooltipWithoutAggregatedField:Mf}=Ba;lc=Object.assign({},Ef);Ba=Ef.color;Nb=Ef.size;lc=(delete lc.color,delete lc.size,lc);Yc=Oa(ka,Ee,Rd,lc,c.boxplot);h=Oa(ka,Ee,Rd,Ef,c.boxplot);Nb=Oa(ka,Ee,Rd,Object.assign({},lc,Nb?{size:Nb}:{}),c.boxplot);nb=Y([{fieldPrefix:"min-max"===t?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===t?"lower_whisker_":
"min_",titlePrefix:"Min"}],Rd,Ef);cb={type:"tick",color:"black",opacity:1,orient:Yd,invalid:null,aria:!1};Gb="min-max"===t?nb:Y([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Rd,Ef);Yc=[...Yc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Gb}),...Yc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",
extraEncoding:Gb}),...Yc({partName:"ticks",mark:cb,positionPrefix:"lower_whisker",extraEncoding:Gb}),...Yc({partName:"ticks",mark:cb,positionPrefix:"upper_whisker",extraEncoding:Gb})];sa=[..."tukey"!==t?Yc:[],...h({partName:"box",mark:Object.assign({},{type:"bar"},sa?{size:sa}:{},{orient:sg,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:nb}),...Nb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},v(c.boxplot.median)&&
c.boxplot.median.color?{color:c.boxplot.median.color}:{},sa?{size:sa}:{},{orient:Yd,aria:!1}),positionPrefix:"mid_box",extraEncoding:nb})];if("min-max"===t){var Ve;return Object.assign({},I,{transform:(null!==(Ve=I.transform)&&void 0!==Ve?Ve:[]).concat(Md),layer:sa})}Ve='datum["lower_box_'.concat(Rd.field,'"]');t='datum["upper_box_'.concat(Rd.field,'"]');h="(".concat(t," - ").concat(Ve,")");Ve="".concat(Ve," - ").concat(L," * ").concat(h);h="".concat(t," + ").concat(L," * ").concat(h);Nb='datum["'.concat(Rd.field,
'"]');L={joinaggregate:ed(Rd.field),groupby:Hf};t={transform:[{filter:"(".concat(Ve," \x3c\x3d ").concat(Nb,") \x26\x26 (").concat(Nb," \x3c\x3d ").concat(h,")")},{aggregate:[{op:"min",field:Rd.field,as:"lower_whisker_"+Rd.field},{op:"max",field:Rd.field,as:"upper_whisker_"+Rd.field},{op:"min",field:"lower_box_"+Rd.field,as:"lower_box_"+Rd.field},{op:"max",field:"upper_box_"+Rd.field,as:"upper_box_"+Rd.field},...se],groupby:Hf}],layer:Yc};lc=Object.assign({},lc);lc=(delete lc.tooltip,lc);const {scale:pg,
axis:Ig}=Rd;Yc=oa(Rd);nb=M(Ig,["title"]);c=Va(ka,"outliers",c.boxplot,{transform:[{filter:"(".concat(Nb," \x3c ").concat(Ve,") || (").concat(Nb," \x3e ").concat(h,")")}],mark:"point",encoding:Object.assign({},{[Ee]:Object.assign({},{field:Rd.field,type:Rd.type},void 0!==Yc?{title:Yc}:{},void 0!==pg?{scale:pg}:{},P(nb)?{}:{axis:nb})},lc,Ba?{color:Ba}:{},Mf?{tooltip:Mf}:{})})[0];ka=[...hd,...qd,L];c?c={transform:ka,layer:[c,t]}:(c=t,c.transform.unshift(...ka));return Object.assign({},I,{layer:[c,{transform:Md,
layer:sa}]})}function ed(h){return[{op:"q1",field:h,as:"lower_box_"+h},{op:"q3",field:h,as:"upper_box_"+h}]}function Zc(h,I){({config:I}=I);h=Object.assign({},h,{encoding:Ab(h.encoding,I)});const {transform:c,continuousAxisChannelDef:t,continuousAxis:L,encodingWithoutContinuousAxis:ka,ticksOrient:sa,markDef:Ba,outerSpec:cb,tooltipEncoding:nb}=be(h,"errorbar",I);delete ka.size;h=Oa(Ba,L,t,ka,I.errorbar);I=Ba.thickness;var Gb=Ba.size;Gb=Object.assign({},{type:"tick",orient:sa,aria:!1},void 0!==I?{thickness:I}:
{},void 0!==Gb?{size:Gb}:{});h=[...h({partName:"ticks",mark:Gb,positionPrefix:"lower",extraEncoding:nb}),...h({partName:"ticks",mark:Gb,positionPrefix:"upper",extraEncoding:nb}),...h({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==I?{size:I}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:nb})];return Object.assign({},cb,{transform:c},1<h.length?{layer:h}:Object.assign({},h[0]))}function Pd(h,I){var {encoding:c}=h;if(!(!od(c.x)&&!od(c.y)||
od(c.x2)||od(c.y2)||od(c.xError)||od(c.xError2)||od(c.yError)||od(c.yError2)))return{orient:Zb(h,I),inputType:"raw"};var t=od(c.x2)||od(c.y2);var L=od(c.xError)||od(c.xError2)||od(c.yError)||od(c.yError2);h=c.x;const ka=c.y;if(t){if(L)throw Error("".concat(I," cannot be both type aggregated-upper-lower and aggregated-error"));t=c.x2;c=c.y2;if(od(t)&&od(c))throw Error("".concat(I," cannot have both x2 and y2"));if(od(t)){if(Mc(h))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(I));
}if(od(c)){if(Mc(ka))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(I));}}else{t=c.xError;L=c.yError;const sa=c.yError2;if(od(c.xError2)&&!od(t))throw Error("".concat(I," cannot have xError2 without xError"));if(od(sa)&&!od(L))throw Error("".concat(I," cannot have yError2 without yError"));if(od(t)&&od(L))throw Error("".concat(I," cannot have both xError and yError with both are quantiative"));if(od(t)){if(Mc(h))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(od(L)){if(Mc(ka))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function be(h,I,c){var t,L=Object.assign({},h),ka=h.mark,sa=h.encoding,Ba=h.selection;L=(delete L.mark,delete L.encoding,delete L.selection,delete L.projection,L);ka=Od(ka)?ka:{type:ka};Ba&&Lb(wd(I));const {orient:cb,
inputType:nb}=Pd(h,I),{continuousAxisChannelDef:Gb,continuousAxisChannelDef2:Nb,continuousAxisChannelDefError:lc,continuousAxisChannelDefError2:Yc,continuousAxis:hd}=xb(h,cb,I);Ba=[];h=[];var qd=Gb.field,Md=!1;if("raw"===nb){var Rd=ka.center?ka.center:ka.extent?"iqr"===ka.extent?"median":"mean":c.errorbar.center;var Ee=ka.extent?ka.extent:"mean"===Rd?"stderr":"iqr";"median"===Rd!==("iqr"===Ee)&&(Ba=Ee,Ba="".concat(Rd," is not usually used with ").concat(Ba," for ").concat(I,"."),Lb(Ba));"stderr"===
Ee||"stdev"===Ee?(Ba=[{op:Ee,field:qd,as:"extent_"+qd},{op:Rd,field:qd,as:"center_"+qd}],h=[{calculate:'datum["center_'.concat(qd,'"] + datum["extent_').concat(qd,'"]'),as:"upper_"+qd},{calculate:'datum["center_'.concat(qd,'"] - datum["extent_').concat(qd,'"]'),as:"lower_"+qd}],qd={fieldPrefix:"center_",titlePrefix:ta(Rd)},Md=Ee,Md={fieldPrefix:"upper_",titlePrefix:ta(Rd)+" + "+Md},I=Ee,I=ta(Rd)+" - "+I,Rd=[qd,Md,{fieldPrefix:"lower_",titlePrefix:I}],Md=!0):("ci"===Ee?(I="mean",Rd="ci0",Ee="ci1"):
(I="median",Rd="q1",Ee="q3"),Ba=[{op:Rd,field:qd,as:"lower_"+qd},{op:Ee,field:qd,as:"upper_"+qd},{op:I,field:qd,as:"center_"+qd}],Rd=[{fieldPrefix:"upper_",titlePrefix:mf({field:qd,aggregate:Ee,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:mf({field:qd,aggregate:Rd,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:mf({field:qd,aggregate:I,type:"quantitative"},c,{allowDisabling:!1})}])}else{if(ka.center||ka.extent){I=ka.center;var Hf=ka.extent;
I="".concat(Hf?"extent ":"").concat(Hf&&I?"and ":"").concat(I?"center ":"").concat(Hf&&I?"are ":"is ","not needed when data are aggregated.");Lb(I)}"aggregated-upper-lower"===nb?(Rd=[],h=[{calculate:'datum["'.concat(Nb.field,'"]'),as:"upper_"+qd},{calculate:'datum["'.concat(qd,'"]'),as:"lower_"+qd}]):"aggregated-error"===nb&&(Rd=[{fieldPrefix:"",titlePrefix:qd}],h=[{calculate:'datum["'.concat(qd,'"] + datum["').concat(lc.field,'"]'),as:"upper_"+qd}],Yc?h.push({calculate:'datum["'.concat(qd,'"] + datum["').concat(Yc.field,
'"]'),as:"lower_"+qd}):h.push({calculate:'datum["'.concat(qd,'"] - datum["').concat(lc.field,'"]'),as:"lower_"+qd}));for(Ee of h)Rd.push({fieldPrefix:Ee.as.substring(0,6),titlePrefix:va(va(Ee.calculate,'datum["',""),'"]',"")})}h={postAggregateCalculates:h,errorBarSpecificAggregate:Ba,tooltipSummary:Rd,tooltipTitleWithFieldName:Md};const {errorBarSpecificAggregate:se,postAggregateCalculates:Ef,tooltipSummary:Yd,tooltipTitleWithFieldName:sg}=h;sa=Object.assign({},sa);h="x"===hd?"x2":"y2";Ba="x"===hd?
"xError":"yError";qd="x"===hd?"xError2":"yError2";sa=(delete sa[hd],delete sa[h],delete sa[Ba],delete sa[qd],sa);const {bins:Mf,timeUnits:Ve,aggregate:pg,groupby:Ig,encoding:hg}=hb(sa,c);c=[...pg,...se];sa="raw"!==nb?[]:Ig;h=Y(Yd,Gb,hg,sg);return{transform:[...null!==(t=L.transform)&&void 0!==t?t:[],...Mf,...Ve,...0===c.length?[]:[{aggregate:c,groupby:sa}],...Ef],groupby:sa,continuousAxisChannelDef:Gb,continuousAxis:hd,encodingWithoutContinuousAxis:hg,ticksOrient:"vertical"===cb?"horizontal":"vertical",
markDef:ka,outerSpec:L,tooltipEncoding:h}}function pd(h,I){({config:I}=I);h=Object.assign({},h,{encoding:Ab(h.encoding,I)});const {transform:c,continuousAxisChannelDef:t,continuousAxis:L,encodingWithoutContinuousAxis:ka,markDef:sa,outerSpec:Ba,tooltipEncoding:cb}=be(h,"errorband",I);I=Oa(sa,L,t,ka,I.errorband);h=void 0!==h.encoding.x&&void 0!==h.encoding.y;let nb={type:h?"area":"rect"},Gb={type:h?"line":"rule"};const Nb=Object.assign({},sa.interpolate?{interpolate:sa.interpolate}:{},sa.tension&&sa.interpolate?
{tension:sa.tension}:{});h?(nb=Object.assign({},nb,Nb,{ariaRoleDescription:"errorband"}),Gb=Object.assign({},Gb,Nb,{aria:!1})):sa.interpolate?Lb(Hb("interpolate")):sa.tension&&Lb(Hb("tension"));return Object.assign({},Ba,{transform:c,layer:[...I({partName:"band",mark:nb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:cb}),...I({partName:"borders",mark:Gb,positionPrefix:"lower",extraEncoding:cb}),...I({partName:"borders",mark:Gb,positionPrefix:"upper",extraEncoding:cb})]})}function Ad(h,
I,c){I=new hf(h,I);vl[h]={normalizer:I,parts:c}}function id(h){const I=[];for(const L of h||[]){var c=L,t=Object.assign({},c);h=c.expr;c=c.bind;t=(delete t.expr,delete t.bind,t);c&&h?(h=Object.assign({},t,{bind:c,init:h}),I.push(h)):(h=Object.assign({},t,h?{update:h}:{},c?{bind:c}:{}),I.push(h))}return I}function af(h){return!!h&&("legend"===h||!!h.legend)}function Wa(h){return af(h)&&v(h)}function ob(h,I){const c={};for(const t of Em)h&&void 0!==h[t]&&(c[t]=Gd(h[t]));I&&(c.params=h.params);return c}
function zb(h){return v(h)&&void 0!==h.step}function Mb(h){return h.view||h.width||h.height}function bc(h,I,c){const t={},{spacing:L,columns:ka}=c[I];void 0!==L&&(t.spacing=L);void 0!==ka&&("facet"in h&&!xa(h.facet)||"concat"in h)&&(t.columns=ka);"vconcat"in h&&(t.columns=1);for(const cb of Fm)if(void 0!==h[cb])if("spacing"===cb){var sa,Ba;I=h[cb];t[cb]=a(I)?I:{row:null!==(sa=I.row)&&void 0!==sa?sa:L,column:null!==(Ba=I.column)&&void 0!==Ba?Ba:L}}else t[cb]=h[cb];return t}function Kc(h,I){var c;return null!==
(c=h[I])&&void 0!==c?c:h["width"===I?"continuousWidth":"continuousHeight"]}function r(h,I){h=Q(h,I);return zb(h)?h.step:20}function Q(h,I){var c;I=null!==(c=h[I])&&void 0!==c?c:h["width"===I?"discreteWidth":"discreteHeight"];return Ca(I,{step:h.step})}function ma(h){var I=Hd(h||{});const c={};for(const t of I)I=h[t],c[t]=ra(I)?je(I):Gd(I);return c}function Ma(h){h=void 0===h?{}:h;var I=Object.assign({},h),c=h.color,t=h.font;h=h.fontSize;I=(delete I.color,delete I.font,delete I.fontSize,I);t=t?{text:{font:t},
style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}:{};c?(c=void 0===c?{}:c,c={signals:[{name:"color",value:v(c)?Object.assign({},fm,c):fm}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},
axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):c={};h=h?{signals:[{name:"fontSize",value:v(h)?Object.assign({},gm,h):gm}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=u({},Gm,t,c,h,I||{});I=M(h,Hm);for(var L of["background","lineBreak","padding"])h[L]&&(I[L]=Gd(h[L]));for(var ka of Nc)h[ka]&&(I[ka]=kf(h[ka]));for(var sa of Ug)h[sa]&&(I[sa]=ma(h[sa]));for(const cb of hm)h[cb]&&(I[cb]=kf(h[cb]));h.legend&&(I.legend=kf(h.legend));h.scale&&(I.scale=kf(h.scale));if(h.style){L=h.style;ka=
Hd(L);sa={};for(Ba of ka)sa[Ba]=ma(L[Ba]);var Ba=sa;I.style=Ba}h.title&&(I.title=kf(h.title));h.view&&(I.view=kf(h.view));return I}function gb(h){h=rf(h);for(var I of Im)delete h[I];if(h.axis)for(var c in h.axis)ra(h.axis[c])&&delete h.axis[c];if(h.legend)for(var t of Jm)delete h.legend[t];if(h.mark){for(var L of cd)delete h.mark[L];h.mark.tooltip&&v(h.mark.tooltip)&&delete h.mark.tooltip}h.params&&(h.signals=(h.signals||[]).concat(id(h.params)),delete h.params);for(var ka of Km){for(const cb of cd)delete h[ka][cb];
if(I=Lm[ka])for(const cb of I)delete h[ka][cb];c=I=void 0;t=h;L=ka;var sa=void 0,Ba=t[L];"view"===L&&(sa="cell");Ba=Object.assign({},Ba,t.style[null!==(c=sa)&&void 0!==c?c:L]);P(Ba)||(t.style[null!==(I=sa)&&void 0!==I?I:L]=Ba);delete t[L]}for(const cb of Hd(vl))delete h[cb];{ka=h;const {titleMarkConfig:cb,subtitleMarkConfig:nb,subtitle:Gb}=Kd(ka.title);P(cb)||(ka.style["group-title"]=Object.assign({},ka.style["group-title"],cb));P(nb)||(ka.style["group-subtitle"]=Object.assign({},ka.style["group-subtitle"],
nb));P(Gb)?delete ka.title:ka.title=Gb}for(const cb in h)v(h[cb])&&P(h[cb])&&delete h[cb];return P(h)?void 0:h}function lb(h,I){const c="x"===I?"y":"radius";var t=h[I];h=h[c];if($b(t)&&$b(h))if("quantitative"===Oc(t)&&"quantitative"===Oc(h)){if(t.stack)return I;if(h.stack)return c;const sa=$b(t)&&!!t.aggregate,Ba=$b(h)&&!!h.aggregate;if(sa!==Ba)return sa?I:c;var L,ka;t=null===(L=t.scale)||void 0===L?void 0:L.type;L=null===(ka=h.scale)||void 0===ka?void 0:ka.type;if(t&&"linear"!==t)return c;if(L&&
"linear"!==L)return I}else{if("quantitative"===Oc(t))return I;if("quantitative"===Oc(h))return c}else{if("quantitative"===Oc(t))return I;if("quantitative"===Oc(h))return c}}function sb(h){switch(h){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Rb(h,I,c){c=void 0===c?{}:c;h=Od(h)?h.type:h;if(!Mm.has(h))return null;const t=lb(I,"x")||lb(I,"theta");if(!t)return null;const L=I[t];var ka=$b(L)?kd(L,{}):void 0;let sa=sb(t),Ba=I[sa],cb=$b(Ba)?kd(Ba,
{}):void 0;cb===ka&&(sa=Ba=cb=void 0);ka=Mg.reduce((Gb,Nb)=>{if("tooltip"!==Nb&&Sa(I,Nb)){var lc=I[Nb];for(const Yc of d(lc)){lc=nf(Yc);if(lc.aggregate)continue;const hd=kd(lc,{});hd&&hd===cb||Gb.push({channel:Nb,fieldDef:lc})}}return Gb},[]);let nb;void 0!==L.stack?nb=f(L.stack)?L.stack?"zero":null:L.stack:0<ka.length&&Nm.has(h)&&(nb="zero");if(!(nb&&nb in Om)||fb(I)&&0===ka.length)return null;if(L.scale&&L.scale.type&&L.scale.type!==Cg.LINEAR){if(c.disallowNonLinearStack)return null;Lb("Cannot stack non-linear scale (".concat(L.scale.type,
")."))}if(od(I[Ja(t)]))return void 0!==L.stack&&Lb(eb(t)),null;$b(L)&&L.aggregate&&!G(Hl,L.aggregate)&&Lb('Stacking is applied even though the aggregate function is non-summative ("'.concat(L.aggregate,'").'));return{groupbyChannel:Ba?sa:void 0,groupbyField:cb,fieldChannel:t,impute:null===L.impute?!1:we(h),stackBy:ka,offset:nb}}function ec(h){h=Object.assign({},h);h=(delete h.point,delete h.line,h);return 1<Hd(h).length?h:h.type}function Vb(h){for(const I of["line","area","rule","trail"])h[I]&&(h=
Object.assign({},h,{[I]:M(h[I],["point","line"])}));return h}function Qc(h,I,c){I=void 0===I?{}:I;if("transparent"===h.point)return{opacity:0};if(h.point)return v(h.point)?h.point:{};if(void 0!==h.point)return null;if(I.point||c.shape)return v(I.point)?I.point:{}}function dd(h,I){I=void 0===I?{}:I;if(h.line)return!0===h.line?{}:h.line;if(void 0!==h.line)return null;if(I.line)return!0===I.line?{}:I.line}function zd(h,I){return I?ee(h,I):h}function rd(h,I,c){const t=I[h];if(t&&!e(t)&&"repeat"in t){if(t.repeat in
c)return Object.assign({},I,{[h]:c[t.repeat]});Lb('Unknown repeated value "'.concat(t.repeat,'".'))}else return I}function bd(h,I){h=rd("field",h,I);if(void 0!==h){if(null===h)return null;"sort"in h&&qe(h.sort)&&(I=rd("field",h.sort,I),h=Object.assign({},h,I?{sort:I}:{}));return h}}function Jc(h,I){if($b(h))return bd(h,I);I=rd("datum",h,I);I===h||I.type||(I.type="nominal");return I}function ud(h,I){if(od(h)){if(I=Jc(h,I))return I;if(h&&"condition"in h)return{condition:h.condition}}else{if(Yb(h)){if(I=
Jc(h.condition,I))return Object.assign({},h,{condition:I});h=Object.assign({},h);return delete h.condition,h}return h}}function ee(h,I){const c={};for(const L in h)if(ii.call(h,L)){var t=h[L];Je(t)?c[L]=t.map(ka=>ud(ka,I)).filter(ka=>ka):(t=ud(t,I),void 0!==t&&(c[L]=t))}return c}function Sd(h){var {parentEncoding:I,encoding:c={},layer:t}=h;h={};if(I){var L=new Set([...Hd(I),...Hd(c)]);for(const ka of L){L=c[ka];const sa=I[ka];if(od(L))L=Object.assign({},sa,L),h[ka]=L;else if(Yb(L))h[ka]=Object.assign({},
L,{condition:Object.assign({},sa,L.condition)});else if(L||null===L)h[ka]=L;else if(t||jd(sa)||Dc(sa)||od(sa)||Je(sa))h[ka]=sa}}else h=c;return!h||P(h)?void 0:h}function ye(h){const {parentProjection:I,projection:c}=h;if(I&&c){{const {parentProjection:t,projection:L}={parentProjection:I,projection:c};h="Layer's shared projection ".concat(of(t)," is overridden by a child projection ").concat(of(L),".")}Lb(h)}return null!==c&&void 0!==c?c:I}function re(h,I){void 0===I&&(I=Ma(h.config));var c=I;c=void 0===
c?{}:c;c=Pm.map(h,{config:c});const {width:t,height:L}=h;{let {width:ka,height:sa}={width:t,height:L,autosize:h.autosize};h=Na(c)||"layer"in c;const Ba={};h?"container"==ka&&"container"==sa?(Ba.type="fit",Ba.contains="padding"):"container"==ka?(Ba.type="fit-x",Ba.contains="padding"):"container"==sa&&(Ba.type="fit-y",Ba.contains="padding"):("container"==ka&&(Lb(sc("width")),ka=void 0),"container"==sa&&(Lb(sc("height")),sa=void 0));I=Object.assign({},{type:"pad"},Ba,I?Pf(I.autosize):{},Pf(c.autosize));
"fit"!==I.type||h||(Lb('Autosize "fit" only works for single views and layered views.'),I.type="pad");"container"==ka&&"fit"!=I.type&&"fit-x"!=I.type&&Lb(Uc("width"));"container"==sa&&"fit"!=I.type&&"fit-y"!=I.type&&Lb(Uc("height"));h=ji(I,{type:"pad"})?void 0:I}return Object.assign({},c,h?{autosize:h}:{})}function Pf(h){return e(h)?{type:h}:null!==h&&void 0!==h?h:{}}function ke(h){return{explicit:!0,value:h}}function pe(h){return{explicit:!1,value:h}}function Re(h){return(I,c,t,L)=>{const ka=h(I.value,
c.value);return 0<ka?I:0>ka?c:xd(I,c,t,L)}}function xd(h,I,c,t){if(h.explicit&&I.explicit){var L=h.value;I=I.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(of(L)," and ").concat(of(I),"). Using ").concat(of(L),".");Lb(c)}return h}function Oe(h,I,c,t,L){L=void 0===L?xd:L;return void 0===h||void 0===h.value?I:h.explicit&&!I.explicit?h:I.explicit&&!h.explicit?I:ji(h.value,I.value)?h:L(h,I,c,t)}function dg(h){return"name"in h&&!("url"in h)&&!("values"in h)&&
!Xe(h)}function Xe(h){return h&&("sequence"in h||"sphere"in h||"graticule"in h)}function $f(h){return h.map(I=>"filter"in I?{filter:D(I.filter,Zd)}:I)}function vf(h,I,c){im=I||"view";jm=c||Qm;return Qf(h.trim()).map(Vf)}function Df(h,I,c,t,L){const ka=h.length;let sa=0,Ba;for(;I<ka;++I)if(Ba=h[I],sa||Ba!==c)L&&0<=L.indexOf(Ba)?--sa:t&&0<=t.indexOf(Ba)&&++sa;else break;return I}function Qf(h){const I=[],c=h.length;let t=0,L=0;for(;L<c;)L=Df(h,L,",","[{","]}"),I.push(h.substring(t,L).trim()),t=++L;
if(0===I.length)throw"Empty event selector: "+h;return I}function Vf(h){if("["===h[0]){var I=h;var c=I.length;h=Df(I,1,"]","[","]");if(h===c)throw"Empty between selector: "+I;c=Qf(I.substring(1,h));if(2!==c.length)throw"Between selector must have two elements: "+I;I=I.slice(h+1).trim();if("\x3e"!==I[0])throw"Expected '\x3e' after between selector: "+I;c=c.map(Vf);I=Vf(I.slice(1).trim());I.between?I={between:c,stream:I}:I.between=c}else{{c={source:im};const t=[];let L=[0,0],ka=0,sa=0,Ba=h.length,cb=
0,nb;if("}"===h[Ba-1]){cb=h.lastIndexOf("{");if(0<=cb){try{L=Xg(h.substring(cb+1,Ba-1))}catch(Gb){throw"Invalid throttle specification: "+h;}h=h.slice(0,cb).trim();Ba=h.length}else throw"Unmatched right brace: "+h;cb=0}if(!Ba)throw h;"@"===h[0]&&(ka=++cb);nb=Df(h,cb,":");nb<Ba&&(t.push(h.substring(sa,nb).trim()),sa=cb=++nb);cb=Df(h,cb,"[");if(cb===Ba)t.push(h.substring(sa,Ba).trim());else if(t.push(h.substring(sa,cb).trim()),I=[],sa=++cb,sa===Ba)throw"Unmatched left bracket: "+h;for(;cb<Ba;){cb=Df(h,
cb,"]");if(cb===Ba)throw"Unmatched left bracket: "+h;I.push(h.substring(sa,cb).trim());if(cb<Ba-1&&"["!==h[++cb])throw"Expected left bracket: "+h;sa=++cb}if(!(Ba=t.length)||Rm.test(t[Ba-1]))throw"Invalid event selector: "+h;1<Ba?(c.type=t[1],ka?c.markname=t[0].slice(1):jm[t[0]]?c.marktype=t[0]:c.source=t[0]):c.type=t[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=I&&(c.filter=I);L[0]&&(c.throttle=L[0]);L[1]&&(c.debounce=L[1]);I=c}}return I}function Xg(h){const I=h.split(",");
if(!h.length||2<I.length)throw h;return I.map(c=>{c=+c;if(c!==c)throw h;return c})}function Bh(h,I,c,t){var L=!!I&&"condition"in I&&I.condition;I=t(I);return L?(L=d(L).map(ka=>{const sa=t(ka);ka=ka.selection?Xh(h,ka.selection):Kh(h,ka.test);return Object.assign({},{test:ka},sa)}),{[c]:[...L,...void 0!==I?[I]:[]]}):void 0!==I?{[c]:I}:{}}function sh(h,I){I=void 0===I?"text":I;return Bh(h,h.encoding[I],I,c=>Ti(c,h.config))}function Ti(h,I,c){c=void 0===c?"datum":c;if(h){if(jd(h))return $d(h.value);if(od(h)){const {format:t,
formatType:L}=yf(h);return le({fieldOrDatumDef:h,format:t,formatType:L,expr:c,config:I})}}}function hk(h,I){I=void 0===I?{}:I;const {encoding:c,markDef:t,config:L,stack:ka}=h,sa=c.tooltip;if(Je(sa))return{tooltip:Pj({tooltip:sa},ka,L,I)};{const Ba=I.reactiveGeom?"datum.datum":"datum";return Bh(h,sa,"tooltip",cb=>{const nb=Ti(cb,L,Ba);if(nb)return nb;if(null!==cb){cb=ne("tooltip",t,L);!0===cb&&(cb={content:"encoding"});if(e(cb))return{value:cb};if(v(cb))return Dc(cb)?cb:"encoding"===cb.content?Pj(c,
ka,L,I):{signal:Ba}}})}}function nk(h,I,c,t){function L(cb,nb){var Gb,Nb=Ga(nb);cb=Id(cb)?cb:Object.assign({},cb,{type:h[Nb].type});Nb=cb.title||cf(cb,c);Nb=d(Nb).join(", ");if(nb in fg){const hd="x"===nb?"x2":"y2";var lc=nf(h[hd]);if(Hc(cb.bin)&&lc){var Yc=kd(cb,{expr:sa});lc=kd(lc,{expr:sa});const {format:qd,formatType:Md}=yf(cb);Yc=Bf(Yc,lc,qd,Md,c);ka[hd]=!0}else if(I&&I.fieldChannel===nb&&"normalize"===I.offset){const {format:qd,formatType:Md}=yf(cb);Yc=le({fieldOrDatumDef:cb,format:qd,formatType:Md,
expr:sa,config:c,normalizeStack:!0}).signal}}Yc=null!==(Gb=Yc)&&void 0!==Gb?Gb:Ti(cb,c,sa).signal;Ba.push({channel:nb,key:Nb,value:Yc})}({reactiveGeom:t}=void 0===t?{}:t);const ka={},sa=t?"datum.datum":"datum",Ba=[];Jb(h,(cb,nb)=>{$b(cb)?L(cb,nb):ub(cb)&&L(cb.condition,nb)});t={};for(const cb of Ba){const {channel:nb,key:Gb,value:Nb}=cb;ka[nb]||t[Gb]||(t[Gb]=Nb)}return t}function Pj(h,I,c,t){({reactiveGeom:t}=void 0===t?{}:t);h=nk(h,I,c,{reactiveGeom:t});h=fh(h).map(L=>{var [ka,sa]=L;return'"'.concat(ka,
'": ').concat(sa)});return 0<h.length?{signal:"{".concat(h.join(", "),"}")}:void 0}function Ah(h){const {markDef:I,config:c}=h,t=ne("aria",I,c);return!1===t?{}:Object.assign({},t?{aria:t}:{},nj(h),Nk(h))}function nj(h){const {mark:I,markDef:c,config:t}=h;if(!1===t.aria)return{};h=ne("ariaRoleDescription",c,t);return null!=h?{ariaRoleDescription:{value:h}}:I in jk?{}:{ariaRoleDescription:{value:I}}}function Nk(h){const {encoding:I,markDef:c,config:t,stack:L}=h;var ka=I.description;if(ka)return Bh(h,
ka,"description",sa=>Ti(sa,h.config));ka=ne("description",c,t);if(null!=ka)return{description:$d(ka)};if(!1===t.aria)return{};ka=nk(I,L,t);if(!P(ka))return{description:{signal:fh(ka).map((sa,Ba)=>{var [cb,nb]=sa;return'"'.concat(0<Ba?"; ":"").concat(cb,': " + (').concat(nb,")")}).join(" + ")}}}function Fg(h,I,c){c=void 0===c?{}:c;const {markDef:t,encoding:L,config:ka}=I,{vgChannel:sa}=c;let {defaultRef:Ba,defaultValue:cb}=c;if(void 0===Ba){var nb;cb=null!==(nb=cb)&&void 0!==nb?nb:ne(h,t,ka,{vgChannel:sa,
ignoreVgConfig:!0});void 0!==cb&&(Ba=$d(cb))}return Bh(I,L[h],null!==sa&&void 0!==sa?sa:h,Gb=>Ye({channel:h,channelDef:Gb,markDef:t,config:ka,scaleName:I.scaleName(h),scale:I.getScaleComponent(h),stack:null,defaultRef:Ba}))}function kh(h,I){I=void 0===I?{filled:void 0}:I;var c,t,L,ka;const {markDef:sa,encoding:Ba,config:cb}=h,{type:nb}=sa;I=null!==(c=I.filled)&&void 0!==c?c:ne("filled",sa,cb);c=G(["bar","point","circle","square","geoshape"],nb)?"transparent":void 0;c=null!==(t=null!==(L=ne(!0===I?
"color":void 0,sa,cb,{vgChannel:"fill"}))&&void 0!==L?L:cb.mark[!0===I&&"color"])&&void 0!==t?t:c;t=null!==(ka=ne(!1===I?"color":void 0,sa,cb,{vgChannel:"stroke"}))&&void 0!==ka?ka:cb.mark[!1===I&&"color"];ka=I?"fill":"stroke";L=Object.assign({},c?{fill:$d(c)}:{},t?{stroke:$d(t)}:{});sa.color&&(I?sa.fill:sa.stroke)&&Lb(gc("property",{fill:"fill"in sa,stroke:"stroke"in sa}));return Object.assign({},L,Fg("color",h,{vgChannel:ka,defaultValue:I?c:t}),Fg("fill",h,{defaultValue:Ba.fill?c:void 0}),Fg("stroke",
h,{defaultValue:Ba.stroke?t:void 0}))}function Jj(h){const {encoding:I,mark:c}=h,t=I.order;return!we(c)&&jd(t)?Bh(h,t,"zindex",L=>$d(L.value)):{}}function oj(h,I){h=jb(h);if(I=I[h])return I}function qg(h,I,c){var {defaultPos:t,vgChannel:L,isMidPoint:ka}=c;const {encoding:sa,markDef:Ba,config:cb,stack:nb}=I;c=sa[h];const Gb=sa[Ja(h)],Nb=I.scaleName(h),lc=I.getScaleComponent(h),Yc=oj(h,Ba),hd=yi({model:I,defaultPos:t,channel:h,scaleName:Nb,scale:lc});if(!c&&h in fg&&(sa.latitude||sa.longitude))I={field:I.getName(h)};
else a:{I={channel:h,channelDef:c,channel2Def:Gb,markDef:Ba,config:cb,isMidPoint:ka,scaleName:Nb,scale:lc,stack:nb,offset:Yc,defaultRef:hd};const {channel:qd,channelDef:Md,isMidPoint:Rd,scaleName:Ee,stack:Hf,offset:se,markDef:Ef,config:Yd}=I;if(od(Md)&&Hf&&qd===Hf.fieldChannel){if($b(Md)&&(I=Za({channel:qd,fieldDef:Md,isMidPoint:Rd,markDef:Ef,stack:Hf,config:Yd}),void 0!==I)){I=Td({scaleName:Ee,fieldOrDatumDef:Md,startSuffix:"start",band:I,offset:se});break a}I=Ge(Md,Ee,{suffix:"end"},{offset:se})}else I=
Xd(I)}return I?{[L||h]:I}:void 0}function yi(h){var {model:I,defaultPos:c,channel:t,scaleName:L,scale:ka}=h;const {markDef:sa,config:Ba}=I;return()=>{var cb=Ga(t),nb=pa(t);nb=ne(t,sa,Ba,{vgChannel:nb});if(void 0!==nb)return Xf(t,nb);switch(c){case "zeroOrMin":case "zeroOrMax":if(L&&(nb=ka.get("type"),!G([Cg.LOG,Cg.TIME,Cg.UTC],nb)&&ka.domainDefinitelyIncludesZero()))return{scale:L,value:0};if("zeroOrMin"===c)return"y"===cb?{field:{group:"height"}}:{value:0};switch(cb){case "radius":return{signal:"min(".concat(I.width.signal,
",").concat(I.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return cb=I[Ua(t)],Object.assign({},cb,{mult:.5})}}}function zi(h,I,c,t){t=void 0===t?"middle":t;if("radius"===h||"theta"===h)return pa(h);var L="x"===h?"align":"baseline";I=ne(L,I,c);Dc(I)?(Lb("The ".concat(L," for range marks cannot be an expression")),L=void 0):L=I;return"x"===h?Sm[L||("top"===t?"left":"center")]:Tm[L||t]}function Ai(h,I,c){var {defaultPos:t,
defaultPos2:L,range:ka}=c;return ka?Hj(h,I,{defaultPos:t,defaultPos2:L}):qg(h,I,{defaultPos:t})}function Hj(h,I,c){var {defaultPos:t,defaultPos2:L}=c;const {markDef:ka,config:sa}=I;var Ba=Ja(h);c=Ua(h);{const {encoding:se,mark:Ef,markDef:Yd,stack:sg,config:Mf}=I;var cb=Ga(Ba);const Ve=Ua(Ba),pg=pa(Ba);var nb=se[cb];const Ig=I.scaleName(cb),hg=I.getScaleComponent(cb);cb=Ba in se||Ba in Yd?oj(Ba,I.markDef):oj(cb,I.markDef);if(nb||"x2"!==Ba&&"y2"!==Ba||!se.latitude&&!se.longitude){var {channel:Gb,channelDef:Nb,
channel2Def:lc,markDef:Yc,config:hd,scaleName:qd,scale:Md,stack:Rd,offset:Ee,defaultRef:Hf}={channel:Ba,channelDef:nb,channel2Def:se[Ba],markDef:Yd,config:Mf,scaleName:Ig,scale:hg,stack:sg,offset:cb,defaultRef:void 0};nb=od(Nb)&&Rd&&Gb.charAt(0)===Rd.fieldChannel.charAt(0)?Ge(Nb,qd,{suffix:"start"},{offset:Ee}):Xd({channel:Gb,channelDef:lc,scaleName:qd,scale:Md,stack:Rd,markDef:Yc,config:hd,offset:Ee,defaultRef:Hf});Ba=void 0!==nb?{[pg]:nb}:Qi(Ba,Yd)||Qi(Ba,{[Ba]:Cf(Ba,Yd,Mf.style),[Ve]:Cf(Ve,Yd,
Mf.style)})||Qi(Ba,Mf[Ef])||Qi(Ba,Mf.mark)||{[pg]:yi({model:I,defaultPos:L,channel:Ba,scaleName:Ig,scale:hg})()}}else Ba={[pg]:{field:I.getName(Ba)}}}c=Ba[c]?zi(h,ka,sa):pa(h);return Object.assign({},qg(h,I,{defaultPos:t,vgChannel:c}),Ba)}function Qi(h,I){const c=Ua(h),t=pa(h);if(void 0!==I[t])return{[t]:Xf(h,I[t])};if(void 0!==I[h])return{[t]:Xf(h,I[h])};if(I[c])return{[c]:Xf(h,I[c])}}function ni(h,I,c){var t,L;const {config:ka,encoding:sa,markDef:Ba,stack:cb}=h;var nb=Ja(I),Gb=Ua(I),Nb=sa[I];nb=
sa[nb];var lc=h.getScaleComponent(I),Yc=lc?lc.get("type"):void 0,hd=h.scaleName(I);const qd=Ba.orient;Gb=null!==(t=null!==(L=sa[Gb])&&void 0!==L?L:sa.size)&&void 0!==t?t:ne("size",Ba,ka,{vgChannel:Gb});t="bar"===c&&("x"===I?"vertical"===qd:"horizontal"===qd);if($b(Nb)&&(pc(Nb.bin)||Hc(Nb.bin)||Nb.timeUnit&&!nb)&&!Gb&&!(Yc in nh)){var Md,Rd;c=Za({channel:I,fieldDef:Nb,stack:cb,markDef:Ba,config:ka});h=null===(Md=h.component.axes[I])||void 0===Md?void 0:Md[0];h=null!==(Rd=null===h||void 0===h?void 0:
h.get("translate"))&&void 0!==Rd?Rd:.5;a:{I={fieldDef:Nb,fieldDef2:nb,channel:I,markDef:Ba,scaleName:hd,band:c,axisTranslate:h,spacing:I in fg?ne("binSpacing",Ba,ka):void 0,reverse:lc.get("reverse"),config:ka};var {fieldDef:Ee,fieldDef2:Hf,channel:se,band:Ef,scaleName:Yd,markDef:sg,spacing:Mf=0,axisTranslate:Ve,reverse:pg,config:Ig}=I;I=Ja(se);Nb=pa(se);h=pa(I);c=oj(se,sg);if(pc(Ee.bin)||Ee.timeUnit)I={[h]:qj({channel:se,fieldDef:Ee,scaleName:Yd,markDef:sg,band:(1-Ef)/2,offset:Ui(I,Mf,pg,Ve,c),config:Ig}),
[Nb]:qj({channel:se,fieldDef:Ee,scaleName:Yd,markDef:sg,band:1-(1-Ef)/2,offset:Ui(se,Mf,pg,Ve,c),config:Ig})};else{if(Hc(Ee.bin)){var hg=Ge(Ee,Yd,{},{offset:Ui(I,Mf,pg,Ve,c)});if($b(Hf)){I={[h]:hg,[Nb]:Ge(Hf,Yd,{},{offset:Ui(se,Mf,pg,Ve,c)})};break a}if(v(Ee.bin)&&Ee.bin.step){I={[h]:hg,[Nb]:{signal:'scale("'.concat(Yd,'", ').concat(kd(Ee,{expr:"datum"})," + ").concat(Ee.bin.step,")"),offset:Ui(se,Mf,pg,Ve,c)}};break a}}Lb(ac(I));I=void 0}}return I}if((od(Nb)&&Yc in nh||t)&&!nb){{var Ng;const {markDef:yg,
encoding:Pl,config:Rj,stack:jl}=h;Md=yg.orient;lc=h.scaleName(I);hd=h.getScaleComponent(I);Rd=Ua(I);nb=Ja(I);Md="horizontal"===Md&&"y"===I||"vertical"===Md&&"x"===I;t=ne(Md?"size":Rd,yg,Rj,{vgChannel:Rd});if(Pl.size||void 0!==t)Md?hg=Fg("size",h,{vgChannel:Rd,defaultValue:t}):Lb('Cannot apply size to non-oriented mark "'.concat(yg.type,'".'));Md=null!==(Ng=od(Nb)?Za({channel:I,fieldDef:Nb,markDef:yg,stack:jl,config:Rj}):void 0)&&void 0!==Ng?Ng:1;hg||(Yc=Rd,Ng=lc,t=hd,hg=Rj,L=Md,t?(Yc=t.get("type"),
"point"===Yc||"band"===Yc?void 0!==hg[c].discreteBandSize?c={value:hg[c].discreteBandSize}:Yc===Cg.POINT?(c=t.get("range"),c=uc(c)&&a(c.step)?{value:c.step-2}:{value:18}):c={scale:Ng,band:L}:c={value:hg[c].continuousBandSize}):(Ng=r(hg.view,Yc),c=Ca(hg[c].discreteBandSize,Ng-2),c=void 0!==c?{value:c}:void 0),hg={[Rd]:c});t="band"!==(null===hd||void 0===hd?void 0:hd.get("type"))||!("band"in hg[Rd]);c=zi(I,yg,Rj,t?"middle":"top");Ng=oj(I,yg);I=Xd({channel:I,channelDef:Nb,markDef:yg,config:Rj,scaleName:lc,
scale:hd,stack:jl,offset:Ng,defaultRef:yi({model:h,defaultPos:"mid",channel:I,scaleName:lc,scale:hd}),band:t?.5:(1-Md)/2});Rd?I=Object.assign({},{[c]:I},hg):(Nb=pa(nb),h=hg[Rd],h=Ng?Object.assign({},h,{offset:Ng}):h,I={[c]:I,[Nb]:Je(I)?[I[0],Object.assign({},I[1],{offset:h})]:Object.assign({},I,{offset:h})})}return I}return Hj(I,h,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Ui(h,I,c,t,L){if(h in bl)return 0;h="x"===h||"y2"===h?-I/2:I/2;if(Dc(c)||Dc(L)||Dc(t))return c=Ce(c),L=Ce(L),
t=(t=Ce(t))?"".concat(t," + "):"",c=c?"(".concat(c," ? -1 : 1) * "):"",h=L?"(".concat(L," + ").concat(h,")"):h,{signal:t+c+h};L=L||0;return t+(c?-L-h:+L+h)}function qj(h){var {channel:I,fieldDef:c,scaleName:t,markDef:L,band:ka,offset:sa,config:Ba}=h;h=Td({scaleName:t,fieldOrDatumDef:c,band:ka,offset:sa});return Be({fieldDef:c,channel:I,markDef:L,ref:h,config:Ba})}function hh(h,I){const {fill:c,stroke:t}="include"===I.color?kh(h):{};return Object.assign({},Qj(h.markDef,I),Vi(h,"fill",c),Vi(h,"stroke",
t),Fg("opacity",h),Fg("fillOpacity",h),Fg("strokeOpacity",h),Fg("strokeWidth",h),Fg("strokeDash",h),Jj(h),hk(h),sh(h,"href"),Ah(h))}function Vi(h,I,c){const {config:t,mark:L,markDef:ka}=h;return"hide"===ne("invalid",ka,t)&&c&&!we(L)&&(h=Tk(h,{invalid:!0,channels:Lj}))?{[I]:[{test:h,value:null},...d(c)]}:c?{[I]:c}:{}}function Qj(h,I){return Bi.reduce((c,t)=>{Um.has(t)||void 0===h[t]||"ignore"===I[t]||(c[t]=$d(h[t]));return c},{})}function Tk(h,I){var {invalid:c=!1,channels:t}=I;I=t.reduce((L,ka)=>
{var sa=h.getScaleComponent(ka);sa&&(sa=sa.get("type"),(ka=h.vgField(ka,{expr:"datum"}))&&sa in Jh&&(L[ka]=!0));return L},{});I=Hd(I);if(0<I.length){const L=c?"||":"\x26\x26";return I.map(ka=>jf(ka,c)).join(" ".concat(L," "))}}function rj(h){const {config:I,markDef:c}=h;return ne("invalid",c,I)&&(h=sj(h,{channels:Wg}))?{defined:{signal:h}}:{}}function sj(h,I){var {invalid:c=!1,channels:t}=I;I=t.reduce((L,ka)=>{var sa=h.getScaleComponent(ka);sa&&(sa=sa.get("type"),(ka=h.vgField(ka,{expr:"datum"}))&&
sa in Jh&&(L[ka]=!0));return L},{});I=Hd(I);if(0<I.length){const L=c?"||":"\x26\x26";return I.map(ka=>jf(ka,c)).join(" ".concat(L," "))}}function og(h,I){if(void 0!==I)return{[h]:$d(I)}}function Wi(h,I){h=n(h.scaleName(I));return"domain(".concat(h,")")}function oi(h){var I;return h.parent&&Lg(h.parent)&&(null!==(I=!h.parent.parent)&&void 0!==I?I:oi(h.parent.parent))}function Gi(h,I,c){var t;const L=null===(t=h.fieldDef(I))||void 0===t?void 0:t.field;Zg(h,ka=>{var sa;const Ba=null!==(sa=ka.project.hasField[L])&&
void 0!==sa?sa:ka.project.hasChannel[I];if(Ba&&km.has(ka)){var cb;sa=null!==(cb=c.get("selections"))&&void 0!==cb?cb:[];sa.push(ka.name);c.set("selections",sa,!1);Ba.hasLegend=!0}})}function lg(h,I,c,t,L){var ka,sa=I.name,Ba=sa+"_translate_anchor";sa+="_translate_delta";var cb=c.channel;const nb=Sj.has(I);I=L.filter(Nb=>Nb.name===c.signals[nb?"data":"visual"])[0];t=h.getSizeSignalRef(t).signal;h=h.getScaleComponent(cb);L=h.get("type");const Gb=nb&&"x"===cb?"-":"";Ba="".concat(Ba,".extent_").concat(cb);
cb="".concat(Gb).concat(sa,".").concat(cb," / ")+(nb?"".concat(t):"span(".concat(Ba,")"));Ba="".concat(nb?"log"===L?"panLog":"pow"===L?"panPow":"panLinear":"panLinear","(").concat(Ba,", ").concat(cb)+(nb&&"pow"===L?", ".concat(null!==(ka=h.get("exponent"))&&void 0!==ka?ka:1):"")+")";I.on.push({events:{signal:sa},update:nb?Ba:"clampRange(".concat(Ba,", 0, ").concat(t,")")})}function Dg(h,I,c,t,L){var ka,sa=I.name;const Ba=c.channel,cb=Sj.has(I);I=L.filter(Nb=>Nb.name===c.signals[cb?"data":"visual"])[0];
t=h.getSizeSignalRef(t).signal;L=h.getScaleComponent(Ba);const nb=L.get("type"),Gb=cb?Wi(h,Ba):I.name;h=sa+"_zoom_delta";sa="".concat(sa).concat("_zoom_anchor",".").concat(Ba);sa="".concat(cb?"log"===nb?"zoomLog":"pow"===nb?"zoomPow":"zoomLinear":"zoomLinear","(").concat(Gb,", ").concat(sa,", ").concat(h)+(cb&&"pow"===nb?", ".concat(null!==(ka=L.get("exponent"))&&void 0!==ka?ka:1):"")+")";I.on.push({events:{signal:h},update:cb?sa:"clampRange(".concat(sa,", 0, ").concat(t,")")})}function Ei(h,I){for(const c of Vm)c.has(h)&&
I(c)}function vh(h,I,c){I=void 0===I?!0:I;c=void 0===c?Jk:c;return Je(h)?(h=h.map(t=>vh(t,I,c)),I?"[".concat(h.join(", "),"]"):h):Ac(h)?I?c(Ub(h)):c(mc(h)):I?c(JSON.stringify(h)):h}function Sh(h,I){Zg(h,(c,t)=>{const L=c.name;let ka=t.modifyExpr(h,c);I.push(...t.signals(h,c));Ei(c,sa=>{sa.signals&&(I=sa.signals(h,c,I));sa.modifyExpr&&(ka=sa.modifyExpr(h,c,ka))});I.push({name:L+"_modify",on:[{events:{signal:c.name+"_tuple"},update:"modify(".concat(n(c.name+"_store"),", ").concat(ka,")")}]})});return tj(I)}
function Yj(h,I){h.component.selection&&Hd(h.component.selection).length&&(h=n(h.getName("cell")),I.unshift({name:"facet",value:{},on:[{events:vf("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(h,").datum")}]}));return tj(I)}function Vj(h,I){let c=!1;Zg(h,(t,L)=>{const ka=t.name,sa=n(ka+"_store");if(0===I.filter(Ba=>Ba.name===ka).length){const Ba="global"===t.resolve?"union":t.resolve,cb="multi"===t.type?", true)":")";I.push({name:t.name,update:"".concat("vlSelectionResolve",
"(").concat(sa,", ").concat(n(Ba)).concat(cb)})}c=!0;L.topLevelSignals&&(I=L.topLevelSignals(h,t,I));Ei(t,Ba=>{Ba.topLevelSignals&&(I=Ba.topLevelSignals(h,t,I))})});c&&0===I.filter(t=>"unit"===t.name).length&&I.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return tj(I)}function Xj(h,I){const c=[...I];Zg(h,t=>{const L={name:t.name+"_store"};if(t.init){const ka=t.project.items.map(Ba=>{Ba=Object.assign({},Ba);return delete Ba.signals,Ba}),sa=t.init.map(Ba=>
vh(Ba,!1));L.values="interval"===t.type?[{unit:Eg(h,{escape:!1}),fields:ka,values:sa}]:sa.map(Ba=>({unit:Eg(h,{escape:!1}),fields:ka,values:Ba}))}c.filter(ka=>ka.name===t.name+"_store").length||c.push(L)});return c}function Wj(h,I){Zg(h,(c,t)=>{I=t.marks?t.marks(h,c,I):I;Ei(c,L=>{L.marks&&(I=L.marks(h,c,I))})});return I}function vg(h,I){for(const c of h.children)ng(c)&&(I=Wj(c,I));return I}function tj(h){return h.map(I=>{I.on&&!I.on.length&&delete I.on;return I})}function Th(h,I,c,t){const L=c.channel,
ka=c.signals.visual;c=c.signals.data;const sa=Sj.has(I),Ba=n(h.scaleName(L));var cb=h.getScaleComponent(L);cb=cb?cb.get("type"):void 0;const nb=lc=>"scale(".concat(Ba,", ").concat(lc,")"),Gb=h.getSizeSignalRef("x"===L?"width":"height").signal,Nb="".concat(L,"(unit)");h=Ri(I,(lc,Yc)=>[...lc,{events:Yc.between[0],update:"[".concat(Nb,", ").concat(Nb,"]")},{events:Yc,update:"[".concat(ka,"[0], clamp(").concat(Nb,", 0, ").concat(Gb,")]")}]);h.push({events:{signal:I.name+"_scale_trigger"},update:cb in
Jh?"[".concat(nb("".concat(c,"[0]")),", ").concat(nb("".concat(c,"[1]")),"]"):"[0, 0]"});return sa?[{name:c,on:[]}]:[Object.assign({},{name:ka},t?{init:vh(t,!0,nb)}:{value:[]},{on:h}),Object.assign({},{name:c},t?{init:vh(t)}:{},{on:[{events:{signal:ka},update:"".concat(ka,"[0] \x3d\x3d\x3d ").concat(ka,"[1] ? null : invert(").concat(Ba,", ").concat(ka,")")}]})]}function Ri(h,I){return h.events.reduce((c,t)=>t.between?I(c,t):(Lb("".concat(t," is not an ordered event stream for interval selections.")),
c),[])}function wg(h,I){const c=I.name;var t=c+"_tuple_fields";const L=I.project.items.map(ka=>{const sa=h.fieldDef(ka.channel);return sa&&sa.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ka.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ka.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(ka.field),"]")}).join(", ");t="unit: ".concat(Eg(h),", fields: ").concat(t,
", values");I=I.events;return[{name:c+"_tuple",on:I?[{events:I,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(t,": [").concat(L,"]} : null"),force:!0}]:[]}]}function Zg(h,I){if(h=h.component.selection)for(const c of Tg(h))if(!0===I(c,Wm[c.type]))break}function Eg(h,I){({escape:I}=void 0===I?{escape:!0}:I);I=I?n(h.name):h.name;for(h=h.parent;h&&!Rg(h);)h=h.parent;if(h){const {facet:c}=h;for(const t of zh)c[t]&&(I+=" + '__facet_".concat(t,"_' + (facet[").concat(n(h.vgField(t)),
"])"))}return I}function bi(h){let I=!1;Zg(h,c=>{I=I||c.project.items.some(t=>"_vgsid_"===t.field)});return I}function eh(h){this.type=h}function Fi(h){switch(h.type){case "ArrayExpression":return h.elements;case "BinaryExpression":case "LogicalExpression":return[h.left,h.right];case "CallExpression":return[h.callee].concat(h.arguments);case "ConditionalExpression":return[h.test,h.consequent,h.alternate];case "MemberExpression":return[h.object,h.property];case "ObjectExpression":return h.properties;
case "Property":return[h.key,h.value];case "UnaryExpression":return[h.argument];default:return[]}}function wf(h,I){if(!h)throw Error("ASSERT: "+I);}function Ff(h){return 48<=h&&57>=h}function Ag(h){return 0<="0123456789abcdefABCDEF".indexOf(h)}function ci(h){return 0<="01234567".indexOf(h)}function Gh(h){return 10===h||13===h||8232===h||8233===h}function Jg(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||92===h||128<=h&&Xm.test(String.fromCharCode(h))}function Zh(h){return 36===h||95===h||
65<=h&&90>=h||97<=h&&122>=h||48<=h&&57>=h||92===h||128<=h&&Ym.test(String.fromCharCode(h))}function pk(){for(;yd<uh;){const h=Me.charCodeAt(yd);if(32===h||9===h||11===h||12===h||160===h||5760<=h&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(h)||Gh(h))++yd;else break}}function pj(h){var I=0;var c="u"===h?4:2;for(h=0;h<c;++h)if(yd<uh&&Ag(Me[yd])){var t=Me[yd++];I=16*I+"0123456789abcdef".indexOf(t.toLowerCase())}else pf({},"Unexpected token %0",
"ILLEGAL");return String.fromCharCode(I)}function mi(){var h=Me.charCodeAt(yd++);var I=String.fromCharCode(h);92===h&&(117!==Me.charCodeAt(yd)&&pf({},"Unexpected token %0","ILLEGAL"),++yd,(h=pj("u"))&&"\\"!==h&&Jg(h.charCodeAt(0))||pf({},"Unexpected token %0","ILLEGAL"),I=h);for(;yd<uh;){h=Me.charCodeAt(yd);if(!Zh(h))break;++yd;I+=String.fromCharCode(h);92===h&&(I=I.substr(0,I.length-1),117!==Me.charCodeAt(yd)&&pf({},"Unexpected token %0","ILLEGAL"),++yd,(h=pj("u"))&&"\\"!==h&&Zh(h.charCodeAt(0))||
pf({},"Unexpected token %0","ILLEGAL"),I+=h)}return I}function ug(){var h=yd,I=Me.charCodeAt(yd),c=Me[yd];switch(I){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++yd,{type:7,value:String.fromCharCode(I),start:h,end:yd};default:var t=Me.charCodeAt(yd+1);if(61===t)switch(I){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return yd+=2,{type:7,value:String.fromCharCode(I)+String.fromCharCode(t),start:h,end:yd};
case 33:case 61:return yd+=2,61===Me.charCodeAt(yd)&&++yd,{type:7,value:Me.slice(h,yd),start:h,end:yd}}}I=Me.substr(yd,4);if("\x3e\x3e\x3e\x3d"===I)return yd+=4,{type:7,value:I,start:h,end:yd};I=I.substr(0,3);if("\x3e\x3e\x3e"===I||"\x3c\x3c\x3d"===I||"\x3e\x3e\x3d"===I)return yd+=3,{type:7,value:I,start:h,end:yd};I=I.substr(0,2);if(c===I[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===I)return yd+=2,{type:7,value:I,start:h,end:yd};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++yd,{type:7,
value:c,start:h,end:yd};pf({},"Unexpected token %0","ILLEGAL")}function ri(){var h=Me[yd];wf(Ff(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");var I=yd;var c="";if("."!==h){c=Me[yd++];h=Me[yd];if("0"===c){if("x"===h||"X"===h){++yd;for(c="";yd<uh&&Ag(Me[yd]);)c+=Me[yd++];0===c.length&&pf({},"Unexpected token %0","ILLEGAL");Jg(Me.charCodeAt(yd))&&pf({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt("0x"+c,16),start:I,end:yd}}if(ci(h)){for(c=
"0"+Me[yd++];yd<uh&&ci(Me[yd]);)c+=Me[yd++];(Jg(Me.charCodeAt(yd))||Ff(Me.charCodeAt(yd)))&&pf({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt(c,8),octal:!0,start:I,end:yd}}h&&Ff(h.charCodeAt(0))&&pf({},"Unexpected token %0","ILLEGAL")}for(;Ff(Me.charCodeAt(yd));)c+=Me[yd++];h=Me[yd]}if("."===h){for(c+=Me[yd++];Ff(Me.charCodeAt(yd));)c+=Me[yd++];h=Me[yd]}if("e"===h||"E"===h){c+=Me[yd++];h=Me[yd];if("+"===h||"-"===h)c+=Me[yd++];if(Ff(Me.charCodeAt(yd)))for(;Ff(Me.charCodeAt(yd));)c+=
Me[yd++];else pf({},"Unexpected token %0","ILLEGAL")}Jg(Me.charCodeAt(yd))&&pf({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:I,end:yd}}function dh(h,I){let c=h;0<=I.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,(t,L)=>{if(1114111>=parseInt(L,16))return"x";pf({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(t){pf({},"Invalid regular expression")}try{return new RegExp(h,I)}catch(t){return null}}function Aj(){pk();
if(yd>=uh)return{type:2,start:yd,end:yd};var h=Me.charCodeAt(yd);if(Jg(h)){h=yd;if(92===Me.charCodeAt(yd))var I=mi();else a:{for(I=yd++;yd<uh;){var c=Me.charCodeAt(yd);if(92===c){yd=I;I=mi();break a}if(Zh(c))++yd;else break}I=Me.slice(I,yd)}return{type:1===I.length?3:Zm.hasOwnProperty(I)?4:"null"===I?5:"true"===I||"false"===I?1:3,value:I,start:h,end:yd}}if(40===h||41===h||59===h)return ug();if(39===h||34===h){var t="";c=!1;h=Me[yd];wf("'"===h||'"'===h,"String literal must starts with a quote");I=
yd;for(++yd;yd<uh;){var L=Me[yd++];if(L===h){h="";break}else if("\\"===L)if((L=Me[yd++])&&Gh(L.charCodeAt(0)))"\r"===L&&"\n"===Me[yd]&&++yd;else switch(L){case "u":case "x":if("{"===Me[yd]){++yd;var ka=Me[yd];L=0;for("}"===ka&&pf({},"Unexpected token %0","ILLEGAL");yd<uh;){ka=Me[yd++];if(!Ag(ka))break;L=16*L+"0123456789abcdef".indexOf(ka.toLowerCase())}(1114111<L||"}"!==ka)&&pf({},"Unexpected token %0","ILLEGAL");L=65535>=L?String.fromCharCode(L):String.fromCharCode((L-65536>>10)+55296,(L-65536&1023)+
56320);t+=L}else t+=pj(L);break;case "n":t+="\n";break;case "r":t+="\r";break;case "t":t+="\t";break;case "b":t+="\b";break;case "f":t+="\f";break;case "v":t+="\x0B";break;default:ci(L)?(ka="01234567".indexOf(L),0!==ka&&(c=!0),yd<uh&&ci(Me[yd])&&(c=!0,ka=8*ka+"01234567".indexOf(Me[yd++]),0<="0123".indexOf(L)&&yd<uh&&ci(Me[yd])&&(ka=8*ka+"01234567".indexOf(Me[yd++]))),t+=String.fromCharCode(ka)):t+=L}else if(Gh(L.charCodeAt(0)))break;else t+=L}""!==h&&pf({},"Unexpected token %0","ILLEGAL");return{type:8,
value:t,octal:c,start:I,end:yd}}return 46===h?Ff(Me.charCodeAt(yd+1))?ri():ug():Ff(h)?ri():ug()}function Vg(){const h=ig;yd=h.end;ig=Aj();yd=h.end;return h}function Ch(){const h=yd;ig=Aj();yd=h}function Kj(h,I,c){const t=new eh("||"===h||"\x26\x26"===h?"LogicalExpression":"BinaryExpression");t.operator=h;t.left=I;t.right=c;return t}function Vh(h){const I=new eh("Identifier");I.name=h;return I}function Dh(h){const I=new eh("Literal");I.value=h.value;I.raw=Me.slice(h.start,h.end);h.regex&&("//"===I.raw&&
(I.raw="/(?:)/"),I.regex=h.regex);return I}function Hi(h,I,c){const t=new eh("MemberExpression");t.computed="["===h;t.object=I;t.property=c;t.computed||(c.member=!0);return t}function di(h,I,c){const t=new eh("Property");t.key=I;t.value=c;t.kind=h;return t}function pf(h,I){var c=Array.prototype.slice.call(arguments,2),t=I.replace(/%(\d)/g,(ka,sa)=>{wf(sa<c.length,"Message reference must be in range");return c[sa]});var L=Error(t);L.index=yd;L.description=t;throw L;}function mh(h){2===h.type&&pf(h,
"Unexpected end of input");6===h.type&&pf(h,"Unexpected number");8===h.type&&pf(h,"Unexpected string");3===h.type&&pf(h,"Unexpected identifier");4===h.type&&pf(h,"Unexpected reserved word");pf(h,"Unexpected token %0",h.value)}function mg(h){const I=Vg();7===I.type&&I.value===h||mh(I)}function Tf(h){return 7===ig.type&&ig.value===h}function ei(){yd=ig.start;const h=Vg();return 8===h.type||6===h.type?(h.octal&&pf(h,"Octal literals are not allowed in strict mode."),Dh(h)):Vh(h.value)}function Li(){if(Tf("(")){mg("(");
var h=gi();mg(")");return h}if(Tf("[")){h=[];yd=ig.start;for(mg("[");!Tf("]");)Tf(",")?(Vg(),h.push(null)):(h.push(Hh()),Tf("]")||mg(","));Vg();var I=new eh("ArrayExpression");I.elements=h;return h=I}if(Tf("{")){h=[];I={};var c=String;yd=ig.start;for(mg("{");!Tf("}");){yd=ig.start;var t=ig;if(3===t.type){var L=ei();mg(":");t=Hh();t=di("init",L,t)}else 2===t.type||7===t.type?(mh(t),t=void 0):(L=ei(),mg(":"),t=Hh(),t=di("init",L,t));L="Identifier"===t.key.type?t.key.name:c(t.key.value);L="$"+L;Object.prototype.hasOwnProperty.call(I,
L)?pf({},"Duplicate data property in object literal not allowed in strict mode"):I[L]=!0;h.push(t);Tf("}")||mg(",")}mg("}");I=new eh("ObjectExpression");I.properties=h;return h=I}h=ig.type;yd=ig.start;if(3===h||$m[ig.value])I=Vh(Vg().value);else if(8===h||6===h)ig.octal&&pf(ig,"Octal literals are not allowed in strict mode."),I=Dh(Vg());else{if(4===h)throw Error("Disabled.");if(1===h)h=Vg(),h.value="true"===h.value,I=Dh(h);else if(5===h)h=Vg(),h.value=null,I=Dh(h);else if(Tf("/")||Tf("/\x3d")){var ka;
ig=null;pk();h=yd;I=Me[yd];wf("/"===I,"Regular expression literal must start with a slash");c=Me[yd++];for(L=t=!1;yd<uh;)if(I=Me[yd++],c+=I,"\\"===I)I=Me[yd++],Gh(I.charCodeAt(0))&&pf({},"Invalid regular expression: missing /"),c+=I;else if(Gh(I.charCodeAt(0)))pf({},"Invalid regular expression: missing /");else if(t)"]"===I&&(t=!1);else if("/"===I){L=!0;break}else"["===I&&(t=!0);L||pf({},"Invalid regular expression: missing /");I=c.substr(1,c.length-2);for(ka=L="";yd<uh;){t=Me[yd];if(!Zh(t.charCodeAt(0)))break;
++yd;"\\"===t&&yd<uh?pf({},"Unexpected token %0","ILLEGAL"):(ka+=t,L+=t)}0<=ka.search(/[^gimuy]/g)&&pf({},"Invalid regular expression",ka);t=ka;ka=dh(I,t);I=Dh({literal:c+L,value:ka,regex:{pattern:I,flags:t},start:h,end:yd});Ch()}else mh(Vg())}return I}function Xi(){var h;for(h=Li();;)if(Tf(".")){mg(".");yd=ig.start;var I=Vg();3===I.type||4===I.type||1===I.type||5===I.type||mh(I);I=Vh(I.value);h=Hi(".",h,I)}else if(Tf("(")){I=[];mg("(");if(!Tf(")"))for(;yd<uh;){I.push(Hh());if(Tf(")"))break;mg(",")}mg(")");
{const c=new eh("CallExpression");c.callee=h;c.arguments=I;h=c}}else if(Tf("["))mg("["),I=gi(),mg("]"),h=Hi("[",h,I);else break;if(7===ig.type&&(Tf("++")||Tf("--")))throw Error("Disabled.");return h}function fi(){if(7!==ig.type&&4!==ig.type)var h=Xi();else{if(Tf("++")||Tf("--"))throw Error("Disabled.");if(Tf("+")||Tf("-")||Tf("~")||Tf("!")){var I=Vg();h=fi();{I=I.value;const c=new eh("UnaryExpression");c.operator=I;c.argument=h;c.prefix=!0;h=c}}else{if(4===ig.type&&"delete"===ig.value||4===ig.type&&
"void"===ig.value||4===ig.type&&"typeof"===ig.value)throw Error("Disabled.");h=Xi()}}return h}function Wh(h){let I=0;if(7!==h.type&&4!==h.type)return 0;switch(h.value){case "||":I=1;break;case "\x26\x26":I=2;break;case "|":I=3;break;case "^":I=4;break;case "\x26":I=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":I=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":I=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":I=8;break;
case "+":case "-":I=9;break;case "*":case "/":case "%":I=11}return I}function Hh(){var h=ig;var I=fi();var c=ig;var t=Wh(c);if(0===t)var L=I;else{c.prec=t;Vg();h=[h,ig];var ka=fi();for(L=[I,c,ka];0<(t=Wh(ig));){for(;2<L.length&&t<=L[L.length-2].prec;)ka=L.pop(),c=L.pop().value,I=L.pop(),h.pop(),I=Kj(c,I,ka),L.push(I);c=Vg();c.prec=t;L.push(c);h.push(ig);I=fi();L.push(I)}t=L.length-1;I=L[t];for(h.pop();1<t;)h.pop(),I=Kj(L[t-1].value,L[t-2],I),t-=2;L=I}Tf("?")&&(Vg(),h=Hh(),mg(":"),t=Hh(),I=new eh("ConditionalExpression"),
I.test=L,I.consequent=h,I.alternate=t,L=I);return L}function gi(){const h=Hh();if(Tf(","))throw Error("Disabled.");return h}function Te(h){Me=h;yd=0;uh=Me.length;ig=null;Ch();h=gi();if(2!==ig.type)throw Error("Unexpect token after expression.");return h}function dj(h){const I=[];if("Identifier"===h.type)return[h.name];if("Literal"===h.type)return[h.value];"MemberExpression"===h.type&&(I.push(...dj(h.object)),I.push(...dj(h.property)));return I}function ih(h){return"MemberExpression"===h.object.type?
ih(h.object):"datum"===h.object.name}function wh(h){h=Te(h);const I=new Set;h.visit(c=>{"MemberExpression"===c.type&&ih(c)&&I.add(dj(c).slice(1).join("."))});return I}function Ih(h,I){const c={},t=h.config.selection;for(const sa of Hd(null!==I&&void 0!==I?I:{})){const Ba=rf(I[sa]);var L=Object.assign({},t[Ba.type]);L=(delete L.fields,delete L.encodings,L);for(const nb in L)if(!("encodings"===nb&&Ba.fields||"fields"===nb&&Ba.encodings)&&("mark"===nb&&(Ba[nb]=Object.assign({},L[nb],Ba[nb])),void 0===
Ba[nb]||!0===Ba[nb])){var ka;Ba[nb]=null!==(ka=L[nb])&&void 0!==ka?ka:Ba[nb]}L=V(sa);const cb=c[L]=Object.assign({},Ba,{name:L,events:e(Ba.on)?vf(Ba.on,"scope"):rf(Ba.on)});Ei(cb,nb=>{nb.has(cb)&&nb.parse&&nb.parse(h,cb,Ba,I[sa])})}return c}function Xh(h,I,c,t){t=void 0===t?"datum":t;const L=[];I=ha(I,function(ka){var sa=V(ka);ka=h.getSelectionComponent(sa,ka);sa=n(sa+"_store");if(ka.project.timeUnit){const Ba=null!==c&&void 0!==c?c:h.component.data.raw,cb=ka.project.timeUnit.clone();Ba.parent?cb.insertAsParentOf(Ba):
Ba.parent=cb}"none"!==ka.empty&&L.push(sa);return"vlSelectionTest(".concat(sa,", ").concat(t)+("global"===ka.resolve?")":", ".concat(n(ka.resolve),")"))});return(L.length?"!("+L.map(ka=>"length(data(".concat(ka,"))")).join(" || ")+") || ":"")+"(".concat(I,")")}function Ii(h,I){const c=I.encoding;let t=I.field;if(!c&&!t)t=h.project.items[0].field,1<h.project.items.length&&Lb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(n(t),"."));else if(c&&
!t){const L=h.project.items.filter(ka=>ka.channel===c);!L.length||1<L.length?(t=h.project.items[0].field,Lb((L.length?"Multiple ":"No ")+"matching ".concat(n(c)," encoding found for selection ").concat(n(I.selection),". ")+'Using "field": '.concat(n(t),"."))):t=L[0].field}return"".concat(h.name,"[").concat(n(t),"]")}function si(h,I){Zg(h,c=>{const t=c.name,L=h.getName("lookup_".concat(t));h.component.data.outputNodes[L]=c.materialized=new Eh(new kl(I,h,{selection:t}),L,zg.Lookup,h.component.data.outputNodeRefCounts)})}
function Kh(h,I,c){return ha(I,t=>e(t)?t:(null===t||void 0===t?0:t.selection)?Xh(h,t.selection,c):Ze(t))}function ti(h,I){if(h)return Je(h)&&!de(h)?h.map(c=>cf(c,I)).join(", "):h}function jh(h,I,c,t){var L,ka,sa;h.encode=null!==(L=h.encode)&&void 0!==L?L:{};h.encode[I]=null!==(ka=h.encode[I])&&void 0!==ka?ka:{};h.encode[I].update=null!==(sa=h.encode[I].update)&&void 0!==sa?sa:{};h.encode[I].update[c]=t}function kg(h,I,c,t){t=void 0===t?{header:!1}:t;var L=h.combine(),ka=Object.assign({},L),sa=L.disable;
const Ba=L.orient,cb=L.scale,nb=L.labelExpr,Gb=L.title;L=L.zindex;ka=(delete ka.disable,delete ka.orient,delete ka.scale,delete ka.labelExpr,delete ka.title,delete ka.zindex,ka);if(!sa){for(const hd in ka){var Nb=ek[hd];sa=ka[hd];if(Nb&&Nb!==I&&"both"!==Nb)delete ka[hd];else if(ra(sa)){Nb=sa;sa=Object.assign({},Nb);Nb=Nb.condition;sa=(delete sa.condition,sa);Nb=d(Nb);const qd=Ij[hd];if(qd){const {vgProp:Md,part:Rd}=qd;sa=[...Nb.map(Ee=>{var Hf=Object.assign({},Ee);Ee=Ee.test;Hf=(delete Hf.test,Hf);
return Object.assign({},{test:Kh(null,Ee)},Hf)}),sa];jh(ka,Rd,Md,sa);delete ka[hd]}else null===qd&&(sa={signal:Nb.map(Md=>{var Rd=Object.assign({},Md);Md=Md.test;Rd=(delete Rd.test,Rd);return"".concat(Kh(null,Md)," ? ").concat(Ie(Rd)," : ")}).join("")+Ie(sa)},ka[hd]=sa)}else if(Dc(sa)&&(Nb=Ij[hd])){const {vgProp:qd,part:Md}=Nb;jh(ka,Md,qd,sa);delete ka[hd]}}if("grid"===I){if(ka.grid)return ka.encode&&({grid:c}=ka.encode,ka.encode=Object.assign({},c?{grid:c}:{}),P(ka.encode)&&delete ka.encode),Object.assign({},
{scale:cb,orient:Ba},ka,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ca(L,0)})}else if(t.header||!h.mainExtracted){if(void 0!==nb){var lc,Yc;I=nb;(null===(lc=ka.encode)||void 0===lc?0:null===(Yc=lc.labels)||void 0===Yc?0:Yc.update)&&Dc(ka.encode.labels.update.text)&&(I=va(nb,"datum.label",ka.encode.labels.update.text.signal));jh(ka,"labels","text",{signal:I})}null===ka.labelAlign&&delete ka.labelAlign;if(ka.encode){for(const hd of yh)h.hasAxisPart(hd)||delete ka.encode[hd];
P(ka.encode)&&delete ka.encode}h=ti(Gb,c);return Object.assign({},{scale:cb,orient:Ba,grid:!1},h?{title:h}:{},ka,!1===c.aria?{aria:!1}:{},{zindex:Ca(L,0)})}}}function Ji(h){const {axes:I}=h.component,c=[];for(const t of Wg)if(I[t])for(const L of I[t])if(!L.get("disable")&&!L.get("gridScale")){const ka="x"===t?"height":"width",sa=h.getSizeSignalRef(ka).signal;ka!==sa&&c.push({name:ka,update:sa})}return c}function xh(h,I){const {x:c=[],y:t=[]}=h;return[...c.map(L=>kg(L,"grid",I)),...t.map(L=>kg(L,"grid",
I)),...c.map(L=>kg(L,"main",I)),...t.map(L=>kg(L,"main",I))].filter(L=>L)}function Cj(h,I,c,t){return Object.assign.apply(null,[{},...h.map(L=>{if("axisOrient"===L){L="x"===c?"bottom":"left";const ka=I["x"===c?"axisBottom":"axisLeft"]||{},sa=I["x"===c?"axisTop":"axisRight"]||{},Ba=new Set([...Hd(ka),...Hd(sa)]),cb={};for(const nb of Ba.values())cb[nb]={signal:"".concat(t.signal,' \x3d\x3d\x3d "').concat(L,'" ? ').concat(Ce(ka[nb])," : ").concat(Ce(sa[nb]))};return cb}return I[L]})])}function ak(h,
I,c,t){var L="band"===I?["axisDiscrete","axisBand"]:"point"===I?["axisDiscrete","axisPoint"]:I in Ml?["axisQuantitative"]:"time"===I||"utc"===I?["axisTemporal"]:[];const ka="x"===h?"axisX":"axisY";I=Dc(c)?"axisOrient":"axis"+ta(c);L=[...L,...L.map(sa=>ka+sa.substr(4))];I=["axis",I,ka];return{vlOnlyAxisConfig:Cj(L,t,h,c),vgAxisConfig:Cj(I,t,h,c),axisConfigStyle:Ph([...I,...L],t)}}function Ph(h,I){const c=[{}];for(const L of h){var t;if(h=null===(t=I[L])||void 0===t?void 0:t.style){h=d(h);for(const ka of h)c.push(I.style[ka])}}return Object.assign.apply(null,
c)}function Yh(h,I,c,t){t=void 0===t?{}:t;I=Bg(h,c,I);if(void 0!==I)return{configFrom:"style",configValue:I};for(const ka of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var L;if(void 0!==(null===(L=t[ka])||void 0===L?void 0:L[h]))return{configFrom:ka,configValue:t[ka][h]}}return{}}function Zj(h,I,c,t,L){const ka=null===I||void 0===I?void 0:I.labelAngle;if(void 0!==ka)return Dc(ka)?ka:ba(ka);({configValue:I}=Yh("labelAngle",t,null===I||void 0===I?void 0:I.style,L));if(void 0!==I)return ba(I);
if("x"===c&&G(["nominal","ordinal"],h.type)&&(!$b(h)||!h.timeUnit))return 270}function qk(h){return"(((".concat(h.signal," % 360) + 360) % 360)")}function Di(h,I,c,t){if(void 0!==h)return"x"===c?Dc(h)?(t=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "top")'):"top"===I,{signal:"(45 \x3c ".concat(t," \x26\x26 ").concat(t," \x3c 135) || (225 \x3c ").concat(t," \x26\x26 ").concat(t,' \x3c 315) ? "middle" :')+"(".concat(t," \x3c\x3d 45 || 315 \x3c\x3d ").concat(t,") \x3d\x3d\x3d ").concat(I,' ? "bottom" : "top"')}):
45<h&&135>h||225<h&&315>h?"middle":Dc(I)?(t=45>=h||315<=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(t,' "top" ? "bottom" : "top"')}):(45>=h||315<=h)===("top"===I)?"bottom":"top":Dc(h)?(h=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "left")'):"left"===I,t=t?'"middle"':"null",{signal:"".concat(h," \x3c\x3d 45 || 315 \x3c\x3d ").concat(h," || (135 \x3c\x3d ").concat(h," \x26\x26 ").concat(h," \x3c\x3d 225) ? ").concat(t," : (45 \x3c\x3d ").concat(h," \x26\x26 ").concat(h,
" \x3c\x3d 135) \x3d\x3d\x3d ").concat(I,' ? "top" : "bottom"')}):45>=h||315<=h||135<=h&&225>=h?t?"middle":null:Dc(I)?(t=45<=h&&135>=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(t,' "left" ? "top" : "bottom"')}):(45<=h&&135>=h)===("left"===I)?"top":"bottom"}function ag(h,I,c){if(void 0!==h){var t=(c="x"===c)?0:90,L=c?"bottom":"left";return Dc(h)?(h=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "').concat(L,'")'):I===L,{signal:"(".concat(t?"("+h+" + 90)":h," % 180 \x3d\x3d\x3d 0) ? ").concat(c?
null:'"center"'," :")+"(".concat(t," \x3c ").concat(h," \x26\x26 ").concat(h," \x3c ").concat(180+t,") \x3d\x3d\x3d ").concat(I,' ? "left" : "right"')}):0===(h+t)%180?c?null:"center":Dc(I)?(c=t<h&&h<180+t?"\x3d\x3d\x3d":"!\x3d\x3d",I="".concat(I.signal," ").concat(c,' "').concat(L,'"'),{signal:"".concat(I,' ? "left" : "right"')}):(t<h&&h<180+t)===(I===L)?"left":"right"}}function Lh(h,I){var c="x"===I?"x2":"y2";I=h.fieldDef(I);h=h.fieldDef(c);c=I?I.title:void 0;h=h?h.title:void 0;if(c&&h)return ya(c,
h);if(c)return c;if(h)return h;if(void 0!==c)return c;if(void 0!==h)return h}function oh(h,I,c){return kd(h,Object.assign({},{prefix:I,suffix:"sort_index"},null!==c&&void 0!==c?c:{}))}function Mh(h,I){return G(["top","bottom"],I)?"column":G(["left","right"],I)?"row":"row"===h?"row":"column"}function Nh(h,I,c,t){return Ca((I||{})[h],("row"===t?c.headerRow:"column"===t?c.headerColumn:c.headerFacet)[h],c.header[h])}function ej(h,I,c,t){const L={};for(const ka of h)h=Nh(ka,I||{},c,t),void 0!==h&&(L[ka]=
h);return L}function Bj(h,I){const c=h.component.layoutHeaders[I].title,t=h.config?h.config:void 0;h=h.component.layoutHeaders[I].facetFieldDef?h.component.layoutHeaders[I].facetFieldDef:void 0;const {titleAnchor:L,titleAngle:ka,titleOrient:sa}=ej(["titleAnchor","titleAngle","titleOrient"],h.header,t,I),Ba=Mh(I,sa),cb=ba(ka);return{name:"".concat(I,"-title"),type:"group",role:"".concat(Ba,"-title"),title:Object.assign({},{text:c},"row"===I?{orient:"left"}:{},{style:"guide-title"},ui(cb,Ba),ph(Ba,
cb,L),Uh(t,h,I,an,lm))}}function ph(h,I,c){switch(void 0===c?"middle":c){case "start":return{align:"left"};case "end":return{align:"right"}}return(h=ag(I,"row"===h?"left":"top","row"===h?"y":"x"))?{align:h}:{}}function ui(h,I){return(h=Di(h,"row"===I?"left":"top","row"===I?"y":"x",!0))?{baseline:h}:{}}function Og(h,I){const c=h.component.layoutHeaders[I],t=[];for(const Nb of Ql)if(c[Nb])for(const lc of c[Nb]){a:{var L=h;var ka=I,sa=Nb,Ba=c,cb=lc;if(cb){let Yc=null;const {facetFieldDef:hd}=Ba;var nb=
L.config?L.config:void 0;if(hd&&cb.labels){var {labelOrient:Gb}=ej(["labelOrient"],hd.header,nb,ka);if("row"===ka&&!G(["top","bottom"],Gb)||"column"===ka&&!G(["left","right"],Gb))Yc=Jf(hd,ka,nb)}nb=Rg(L)&&!xa(L.facet);Gb=cb.axes;const qd=0<(null===Gb||void 0===Gb?void 0:Gb.length);if(Yc||qd){const Md="row"===ka?"height":"width";L=Object.assign({},{name:L.getName("".concat(ka,"_").concat(sa)),type:"group",role:"".concat(ka,"-").concat(sa)},Ba.facetFieldDef?{from:{data:L.getName(ka+"_domain")},sort:Hg(hd,
ka)}:{},qd&&nb?{from:{data:L.getName("facet_domain_".concat(ka))}}:{},Yc?{title:Yc}:{},cb.sizeSignal?{encode:{update:{[Md]:cb.sizeSignal}}}:{},qd?{axes:Gb}:{});break a}}L=null}null!=L&&t.push(L)}return t}function Hg(h,I){const {sort:c}=h;if(qe(c)){var t;return{field:kd(c,{expr:"datum"}),order:null!==(t=c.order)&&void 0!==t?t:"ascending"}}return Je(c)?{field:oh(h,I,{expr:"datum"}),order:"ascending"}:{field:kd(h,{expr:"datum"}),order:null!==c&&void 0!==c?c:"ascending"}}function Jf(h,I,c){const {format:t,
formatType:L,labelAngle:ka,labelAnchor:sa,labelOrient:Ba,labelExpr:cb}=ej("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),h.header,c,I),nb=le({fieldOrDatumDef:h,format:t,formatType:L,expr:"parent",config:c}).signal,Gb=Mh(I,Ba);return Object.assign({},{text:{signal:cb?va(va(cb,"datum.label",nb),"datum.value",kd(h,{expr:"parent"})):nb}},"row"===I?{orient:"left"}:{},{style:"guide-label",frame:"group"},ui(ka,Gb),ph(Gb,ka,sa),Uh(c,h,I,bn,mm))}function Uh(h,I,c,t,L){const ka=
{};for(const sa of t)L[sa]&&(t=Nh(sa,null===I||void 0===I?void 0:I.header,h,c),void 0!==t&&(ka[L[sa]]=t));return ka}function Dj(h){return[...lh(h,"width"),...lh(h,"height"),...lh(h,"childWidth"),...lh(h,"childHeight")]}function lh(h,I){var c="width"===I?"x":"y",t=h.component.layoutSize.get(I);if(!t||"merged"===t)return[];I=h.getSizeSignalRef(I).signal;if("step"===t){if(t=h.getScaleComponent(c)){var L=t.get("type");const ka=t.get("range");if(L in nh&&uc(ka))return L=h.scaleName(c),Rg(h.parent)&&"independent"===
h.parent.component.resolve.scale[c]?[{name:L+"_step",value:ka.step}]:[{name:L+"_step",value:ka.step},{name:I,update:pi(L,t,"domain('".concat(L,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==t?(c=(t=I.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",h=Kc(h.config.view,t?"width":"height"),h="isFinite(".concat(c,") ? ").concat(c," : ").concat(h),[{name:I,init:h,on:[{update:h,events:"window:resize"}]}]):[{name:I,value:t}]}function pi(h,
I,c){const t=I.get("type"),L=I.get("padding"),ka=Ca(I.get("paddingOuter"),L);I=I.get("paddingInner");I="band"===t?void 0!==I?I:L:1;return"bandspace(".concat(c,", ").concat(Ce(I),", ").concat(Ce(ka),") * ").concat(h,"_step")}function Yi(h){return"childWidth"===h?"width":"childHeight"===h?"height":h}function Gg(h,I){return Hd(h).reduce((c,t)=>Object.assign({},c,Bh(I,h[t],t,L=>$d(L.value))),{})}function gj(h,I){const c=I in fg?"axis":"legend";return"independent"===h.scale[I]?("shared"===h[c][I]&&Lb('Setting the scale to be independent for "'.concat(I,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):h[c][I]||"shared"}function rk(h){return Zi(h,(I,c)=>Math.max(I,c.value))}function Oh(h){return Zi(h,(I,c)=>Ca(I,c.value))}function Zi(h,I){var c=h&&h.condition;if(c=!!c&&(Je(c)||jd(c)))return d(h.condition).reduce(I,h.value);if(jd(h))return h.value}function vi(h,I,c){h=I.get("selections");if(null!==h&&void 0!==h&&h.length){var t=n(c.field);return h.map(L=>{const ka=n(V(L)+"_store");return"(!length(data(".concat(ka,
")) || (").concat(L,"[").concat(t,"] \x26\x26 indexof(").concat(L,"[").concat(t,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function $i(h,I,c,t){h=h.getSizeSignalRef(I).signal;return{signal:"clamp(".concat(h,", ").concat(c,", ").concat(t,")")}}function Mi(h){var I;if(ng(h)){var {encoding:c}=h,t={};for(const Mf of["color",...nm]){var L=Aa(c[Mf]);if(L&&h.getScaleComponent(Mf)&&("shape"!==Mf||!$b(L)||"geojson"!==L.type)){a:{var ka=L=void 0,sa=void 0,Ba=void 0,cb=void 0;var nb=void 0;var Gb=h,Nb=
Mf;let Ve=Gb.legend(Nb);const {markDef:pg,encoding:Ig,config:hg}=Gb;var lc=hg.legend;b:{var Yc=Gb;var hd=Nb,qd=Yc.scaleName(hd);if("trail"===Yc.mark){if("color"===hd){Yc={stroke:qd};break b}if("size"===hd){Yc={strokeWidth:qd};break b}}Yc="color"===hd?Yc.markDef.filled?{fill:qd}:{stroke:qd}:{[hd]:qd}}Yc=new cn({},Yc);Gi(Gb,Nb,Yc);hd=void 0!==Ve?!Ve:lc.disable;Yc.set("disable",hd,void 0!==Ve);if(hd){L=Yc;break a}Ve=Ve||{};qd=Gb.getScaleComponent(Nb).get("type");hd=Aa(Ig[Nb]);var Md=$b(hd)?null===(nb=
Qb(hd.timeUnit))||void 0===nb?void 0:nb.unit:void 0;const Ng=Ve.orient||hg.legend.orient||"right";nb={legend:Ve,channel:Nb,timeUnit:Md,scaleType:qd};({legend:Md}=nb);Md=Md.type;b:{var {channel:Rd,timeUnit:Ee,scaleType:Hf}=nb;if($a(Rd)){if(G(["quarter","month","day"],Ee)){nb="symbol";break b}if(Hf in th){nb="gradient";break b}}nb="symbol"}nb=Ca(Md,nb);var {legendConfig:se,legendType:Ef,orient:Yd,legend:sg}={legend:Ve,legendType:nb,orient:Ng,legendConfig:lc};if(null!==(sa=null!==(ka=sg.direction)&&
void 0!==ka?ka:se[Ef?"gradientDirection":"symbolDirection"])&&void 0!==sa)ka=sa;else b:{switch(Yd){case "top":case "bottom":ka="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ka="gradient"===Ef?"horizontal":void 0;break b}ka=void 0}lc={legend:Ve,channel:Nb,model:Gb,markDef:pg,encoding:Ig,fieldOrDatumDef:hd,legendConfig:lc,config:hg,scaleType:qd,orient:Ng,legendType:nb,direction:ka};for(const yg of om)if(!("gradient"===nb&&yg.startsWith("symbol")||"symbol"===nb&&
yg.startsWith("gradient"))&&(ka=yg in pm?pm[yg](lc):Ve[yg],void 0!==ka)){b:{sa=Gb.fieldDef(Nb);switch(yg){case "disable":sa=void 0!==Ve;break b;case "values":sa=!(null===Ve||void 0===Ve||!Ve.values);break b;case "title":if("title"===yg&&ka===(null===sa||void 0===sa?void 0:sa.title)){sa=!0;break b}}sa=ka===(Ve||{})[yg]}(sa||void 0===hg.legend[yg])&&Yc.set(yg,ka,sa)}lc=null!==(cb=null===(Ba=Ve)||void 0===Ba?void 0:Ba.encoding)&&void 0!==cb?cb:{};Ba=Yc.get("selections");cb={};Nb={fieldOrDatumDef:hd,
model:Gb,channel:Nb,legendCmpt:Yc,legendType:nb};for(const yg of"labels legend title symbols gradient entries".split(" "))ka=Gg(null!==(I=lc[yg])&&void 0!==I?I:{},Gb),ka=yg in qm?qm[yg](ka,Nb):ka,void 0===ka||P(ka)||(cb[yg]=Object.assign({},(null===Ba||void 0===Ba?0:Ba.length)&&$b(hd)?{name:"".concat(V(hd.field),"_legend_").concat(yg)}:{},(null===Ba||void 0===Ba?0:Ba.length)?{interactive:!!Ba}:{},{update:ka}));P(cb)||Yc.set("encode",cb,!(null===(L=Ve)||void 0===L||!L.encoding));L=Yc}t[Mf]=L}}I=t}else{{const {legends:Mf,
resolve:Ve}=h.component;for(c of h.children){Mi(c);for(t of Hd(c.component.legends))Ve.legend[t]=gj(h.component.resolve,t),"shared"===Ve.legend[t]&&(Mf[t]=aj(Mf[t],c.component.legends[t]),Mf[t]||(Ve.legend[t]="independent",delete Mf[t]))}for(L of Hd(Mf))for(Gb of h.children)Gb.component.legends[L]&&"shared"===Ve.legend[L]&&delete Gb.component.legends[L];I=Mf}}return h.component.legends=I}function aj(h,I){if(!h)return I.clone();var c=h.getWithExplicit("orient");const t=I.getWithExplicit("orient");
if(!c.explicit||!t.explicit||c.value===t.value){var L=!1;for(const nb of om)c=Oe(h.getWithExplicit(nb),I.getWithExplicit(nb),nb,"legend",(Gb,Nb)=>{switch(nb){case "symbolType":return Gb="circle"===Nb.value?Nb:Gb,Gb;case "title":return za(Gb,Nb);case "type":return L=!0,pe("symbol")}return xd(Gb,Nb,nb,"legend")}),h.setWithExplicit(nb,c);if(L){var ka,sa,Ba,cb;(null===(ka=h.implicit)||void 0===ka?0:null===(sa=ka.encode)||void 0===sa?0:sa.gradient)&&aa(h.implicit,["encode","gradient"]);(null===(Ba=h.explicit)||
void 0===Ba?0:null===(cb=Ba.encode)||void 0===cb?0:cb.gradient)&&aa(h.explicit,["encode","gradient"])}return h}}function Ak(h){const I=h.component.legends,c={};for(const L of Hd(I)){var t=h.getScaleComponent(L);t=of(t.get("domains"));if(c[t])for(const ka of c[t])aj(ka,I[L])||c[t].push(I[L]);else c[t]=[I[L].clone()]}return Tg(c).flat().map(L=>{{var ka=h.config,sa,Ba=L.combine();L=Object.assign({},Ba);const hd=Ba.disable;Ba=Ba.labelExpr;L=(delete L.disable,delete L.labelExpr,delete L.selections,L);
if(hd)var cb=void 0;else{!1===ka.aria&&void 0==L.aria&&(L.aria=!1);if(null===(sa=L.encode)||void 0===sa?0:sa.symbols){ka=L.encode.symbols.update;!ka.fill||"transparent"===ka.fill.value||ka.stroke||L.stroke||(ka.stroke={value:"transparent"});for(var nb of nm)L[nb]&&delete ka[nb]}L.title||delete L.title;if(void 0!==Ba){var Gb,Nb;nb=Ba;(null===(Gb=L.encode)||void 0===Gb?0:null===(Nb=Gb.labels)||void 0===Nb?0:Nb.update)&&Dc(L.encode.labels.update.text)&&(nb=va(Ba,"datum.label",L.encode.labels.update.text.signal));
Gb=L;Nb={signal:nb};var lc,Yc;Gb.encode=null!==(cb=Gb.encode)&&void 0!==cb?cb:{};Gb.encode.labels=null!==(lc=Gb.encode.labels)&&void 0!==lc?lc:{};Gb.encode.labels.update=null!==(Yc=Gb.encode.labels.update)&&void 0!==Yc?Yc:{};Gb.encode.labels.update.text=Nb}cb=L}}return cb}).filter(L=>void 0!==L)}function sk(h){return h.children.reduce((I,c)=>I.concat(c.assembleProjections()),ij(h))}function ij(h){var I=h.component.projection;if(!I||I.merged)return[];const c=I.combine(),{name:t}=c;if(I.data){const L=
{signal:"[".concat(I.size.map(ka=>ka.signal).join(", "),"]")};I=I.data.reduce((ka,sa)=>{sa=Dc(sa)?sa.signal:"data('".concat(h.lookupDataSource(sa),"')");G(ka,sa)||ka.push(sa);return ka},[]);if(0>=I.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:t,size:L,fit:{signal:1<I.length?"[".concat(I.join(", "),"]"):I[0]}},c)]}return[Object.assign({},{name:t},{translate:{signal:"[width / 2, height / 2]"}},c)]}function bj(h){var I=h.component;if(ng(h))if(h.hasProjection){var c;
const ka=h.specifiedProjection;var t=!(ka&&(null!=ka.scale||null!=ka.translate));const sa=t?[h.getSizeSignalRef("width"),h.getSizeSignalRef("height")]:void 0;if(t){{t=[];const {encoding:Ba}=h;for(L of[["longitude","latitude"],["longitude2","latitude2"]])(Aa(Ba[L[0]])||Aa(Ba[L[1]]))&&t.push({signal:h.getName("geojson_".concat(t.length))});h.channelHasField("shape")&&"geojson"===h.typedFieldDef("shape").type&&t.push({signal:h.getName("geojson_".concat(t.length))});0===t.length&&t.push(h.requestDataName(zg.Main));
var L=t}}else L=void 0;h=new rm(h.projectionName(!0),Object.assign({},null!==(c=h.config.projection)&&void 0!==c?c:{},null!==ka&&void 0!==ka?ka:{}),sa,L)}else h=void 0;else h=Ki(h);I.projection=h}function uj(h,I){const c=R(dn,t=>!ii.call(h.explicit,t)&&!ii.call(I.explicit,t)||ii.call(h.explicit,t)&&ii.call(I.explicit,t)&&of(h.get(t))===of(I.get(t))?!0:!1);if(of(h.size)===of(I.size)){if(c)return h;if(of(h.explicit)===of({}))return I;if(of(I.explicit)===of({}))return h}return null}function Ki(h){if(0!==
h.children.length){var I;for(var c of h.children)bj(c);c=R(h.children,t=>{if(t=t.component.projection){if(I)return(t=uj(I,t))&&(I=t),!!t;I=t}return!0});if(I&&c){c=h.projectionName(!0);const t=new rm(c,I.specifiedProjection,I.size,rf(I.data));for(const L of h.children)if(h=L.component.projection)h.isFit&&t.data.push(...L.component.projection.data),L.renameProjection(h.get("name"),c),h.merged=!0;return t}}}function Uk(h,I,c,t){if(nd(I,c)){var L,ka;h=ng(h)?null!==(L=null!==(ka=h.axis(c))&&void 0!==ka?
ka:h.legend(c))&&void 0!==L?L:{}:{};L=kd(I,{expr:"datum"});ka=kd(I,{expr:"datum",binSuffix:"end"});return{formulaAs:kd(I,{binSuffix:"range",forAs:!0}),formula:Bf(L,ka,h.format,h.formatType,t)}}return{}}function fj(h,I){return"".concat(md(h),"_").concat(I)}function vj(h,I,c){var t;c=null!==(t=Tb(c,void 0))&&void 0!==t?t:{};I=fj(c,I);return h.getName("".concat(I,"_bins"))}function Qg(h,I,c){let t;t="as"in h?e(h.as)?[h.as,"".concat(h.as,"_end")]:[h.as[0],h.as[1]]:[kd(h,{forAs:!0}),kd(h,{binSuffix:"end",
forAs:!0})];const L=Object.assign({},Tb(I,void 0));I=fj(L,h.field);var ka={signal:c.getName("".concat(I,"_bins")),extentSignal:c.getName("".concat(I,"_extent"))};const {signal:sa,extentSignal:Ba}=ka;if(mb(L.extent)){var cb=L.extent;ka=cb.selection;cb=Ii(c.getSelectionComponent(V(ka),ka),cb);delete L.extent}h=Object.assign({},{bin:L,field:h.field,as:[t]},sa?{signal:sa}:{},Ba?{extentSignal:Ba}:{},cb?{span:cb}:{});return{key:I,binComponent:h}}function eg(h){return"'"===h[0]&&"'"===h[h.length-1]||'"'===
h[0]&&'"'===h[h.length-1]?h.slice(1,-1):h}function xg(h,I){h=wa(h);if("number"===I)return"toNumber(".concat(h,")");if("boolean"===I)return"toBoolean(".concat(h,")");if("string"===I)return"toString(".concat(h,")");if("date"===I)return"toDate(".concat(h,")");if("flatten"===I)return h;if(0===I.indexOf("date:"))return I=eg(I.slice(5,I.length)),"timeParse(".concat(h,",'").concat(I,"')");if(0===I.indexOf("utc:"))return I=eg(I.slice(4,I.length)),"utcParse(".concat(h,",'").concat(I,"')");Lb('Unrecognized parse "'.concat(I,
'".'));return null}function il(h){const I={};B(h.filter,c=>{if(De(c)){let L=null;if(ad(c))L=Gd(c.equal);else if(Cd(c))L=Gd(c.lte);else if(ld(c))L=Gd(c.lt);else if(Dd(c))L=Gd(c.gt);else if(Ud(c))L=Gd(c.gte);else if(ae(c))L=c.range[0];else if(oe(c)){var t;L=(null!==(t=c.oneOf)&&void 0!==t?t:c["in"])[0]}L&&(Ac(L)?I[c.field]="date":a(L)?I[c.field]="number":e(L)&&(I[c.field]="string"));c.timeUnit&&(I[c.field]="date")}});return I}function hj(h){function I(t){if(oc(t))c[t.field]="date";else{var L;if(L="quantitative"===
t.type)L=t.aggregate,L=e(L)&&G(["min","max"],L);L?c[t.field]="number":1<Ya(t.field)?t.field in c||(c[t.field]="flatten"):Qd(t)&&qe(t.sort)&&1<Ya(t.sort.field)&&(t.sort.field in c||(c[t.sort.field]="flatten"))}}const c={};(ng(h)||Rg(h))&&h.forEachFieldDef((t,L)=>{Id(t)?I(t):(L=Ga(L),L=h.fieldDef(L),I(Object.assign({},t,{type:L.type})))});if(ng(h)){const {mark:t,markDef:L,encoding:ka}=h;if(we(t)&&!h.encoding.order){const sa=ka["horizontal"===L.orient?"y":"x"];!$b(sa)||"quantitative"!==sa.type||sa.field in
c||(c[sa.field]="number")}}return c}function b(h){return h instanceof wk||h instanceof zl||h instanceof Al}function p(h){return h.stack.stackBy.reduce((I,c)=>{(c=kd(c.fieldDef))&&I.push(c);return I},[])}function X(h){return Je(h)&&h.every(I=>e(I))&&1<h.length}function S(h){function I(c){if(!(c instanceof Wk)){const t=c.clone();if(t instanceof Eh){const L="scale_"+t.getSource();t.setSource(L);h.model.component.data.outputNodes[L]=t}else(t instanceof cj||t instanceof Tj||t instanceof ll||t instanceof
Xk)&&t.addDimensions(h.fields);for(const L of c.children.flatMap(I))L.parent=t;return[t]}return c.children.flatMap(I)}return I}function ea(h){if(h instanceof Wk)if(1!==h.numChildren()||h.children[0]instanceof Eh){var I=h.model.component.data.main;La(I);const c=S(h);h=h.children.map(c).flat();for(const t of h)t.parent=I}else I=h.children[0],(I instanceof cj||I instanceof Tj||I instanceof ll||I instanceof Xk)&&I.addDimensions(h.fields),I.swapWithParent(),ea(h);else h.children.map(ea)}function La(h){if(h instanceof
Eh&&h.type===zg.Main&&1===h.numChildren()){const I=h.children[0];I instanceof Wk||(I.swapWithParent(),La(h))}}function Xa(h){for(const I of h){for(const c of I.children)if(c.parent!==I)return!1;if(!Xa(I.children))return!1}return!0}function ab(h,I){let c=!1;for(const t of I)c=h.optimize(t)||c;return c}function tb(h,I,c){let t=h.sources,L=!1;L=ab(new en,t)||L;L=ab(new fn(I),t)||L;t=t.filter(ka=>0<ka.numChildren());L=ab(new gn,t)||L;t=t.filter(ka=>0<ka.numChildren());c||(L=ab(new hn,t)||L,L=ab(new jn(I),
t)||L,L=ab(new kn,t)||L,L=ab(new ln,t)||L,L=ab(new mn,t)||L,L=ab(new nn,t)||L,L=ab(new on,t)||L,L=ab(new pn,t)||L);h.sources=t;return L}function Ib(h){const I=h.component.scales;for(const nb of Hd(I)){var c=h;var t=nb,L=c.getScaleComponent(t).get("type"),{encoding:ka}=c;var sa=c.scaleDomain(t);var Ba=c.typedFieldDef(t),cb=c.config.scale;if("unaggregated"===sa){const {valid:Gb,reason:Nb}=Se(Ba,L);Gb||(Lb(Nb),sa=void 0)}else void 0===sa&&cb.useUnaggregatedDomain&&({valid:Ba}=Se(Ba,L),Ba&&(sa="unaggregated"));
sa!==c.scaleDomain(t)&&(c.specifiedScales[t]=Object.assign({},c.specifiedScales[t],{domain:sa}));c="x"===t&&Aa(ka.x2)?Aa(ka.x)?Oe(wc(L,sa,c,"x"),wc(L,sa,c,"x2"),"domain","scale",bf):wc(L,sa,c,"x2"):"y"===t&&Aa(ka.y2)?Aa(ka.y)?Oe(wc(L,sa,c,"y"),wc(L,sa,c,"y2"),"domain","scale",bf):wc(L,sa,c,"y2"):wc(L,sa,c,t);I[nb].setWithExplicit("domains",c);ka=void 0;t=h.component.scales[nb];sa=h.specifiedScales[nb].domain;L=null===(ka=h.fieldDef(nb))||void 0===ka?void 0:ka.bin;ka=zf(sa)&&sa;L=v(L)&&mb(L.extent)&&
L.extent;(ka||L)&&t.set("selectionExtent",null!==ka&&void 0!==ka?ka:L,!0);if(h.component.data.isFaceted){for(t=h;!Rg(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[nb])for(const Gb of c.value)Tc(Gb)&&(Gb.data="scale_"+Gb.data.replace("scale_",""))}}}function dc(h){for(var I of h.children){var c=I;ng(c)?Ib(c):dc(c)}c=h.component.scales;for(const L of Hd(c)){let ka;I=null;for(const sa of h.children){var t=sa.component.scales[L];t&&(ka=void 0===ka?t.getWithExplicit("domains"):Oe(ka,
t.getWithExplicit("domains"),"domains","scale",bf),t=t.get("selectionExtent"),I&&t&&I.selection!==t.selection&&Lb("The same selection must be used to override scale domains in a layered view."),I=t)}c[L].setWithExplicit("domains",ka);I&&c[L].set("selectionExtent",I,!0)}}function Rc(h,I,c){return h.map(t=>{t=fd(t,{timeUnit:c,type:I});return{signal:"{data: ".concat(t,"}")}})}function vc(h,I,c){var t;c=null===(t=Qb(c))||void 0===t?void 0:t.unit;return"temporal"===I||c?Rc(h,I,c):[h]}function wc(h,I,c,
t){var {encoding:L}=c;L=Aa(L[t]);const {type:ka}=L,sa=L.timeUnit;if(I&&I.unionWith)return t=wc(h,void 0,c,t),I=vc(I.unionWith,ka,sa),ke([...t.value,...I]);if(Dc(I))return ke([I]);if(I&&"unaggregated"!==I&&!zf(I))return ke(vc(I,ka,sa));var Ba=c.stack;if(Ba&&t===Ba.fieldChannel){if("normalize"===Ba.offset)return pe([[0,1]]);I=c.requestDataName(zg.Main);return pe([{data:I,field:c.vgField(t,{suffix:"start"})},{data:I,field:c.vgField(t,{suffix:"end"})}])}Ba=rh[t]&&$b(L)?ce(c,t,h):void 0;if(gd(L))return t=
vc([L.datum],ka,sa),pe(t);if("unaggregated"===I)return t=c.requestDataName(zg.Main),{field:I}=L,pe([{data:t,field:kd({field:I,aggregate:"min"})},{data:t,field:kd({field:I,aggregate:"max"})}]);if(pc(L.bin)){if(h in nh)return"bin-ordinal"===h?pe([]):pe([{data:C(Ba)?c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t,nd(L,t)?{binSuffix:"range"}:{}),sort:!0!==Ba&&v(Ba)?Ba:{field:c.vgField(t,{}),op:"min"}}]);({bin:I}=L);if(pc(I)){const cb=vj(c,L.field,I);return pe([new qi(()=>{const nb=
c.getSignalName(cb);return"[".concat(nb,".start, ").concat(nb,".stop]")})])}return pe([{data:c.requestDataName(zg.Main),field:c.vgField(t,{})}])}return L.timeUnit&&G(["time","utc"],h)&&Cb(t,L,ng(c)?c.encoding[Ja(t)]:void 0,c.stack,c.markDef,c.config)?(I=c.requestDataName(zg.Main),pe([{data:I,field:c.vgField(t)},{data:I,field:c.vgField(t,{suffix:"end"})}])):Ba?pe([{data:C(Ba)?c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t),sort:Ba}]):pe([{data:c.requestDataName(zg.Main),field:c.vgField(t)}])}
function td(h,I){const {op:c,field:t,order:L}=h;return Object.assign({},{op:null!==c&&void 0!==c?c:I?"sum":"min"},t?{field:kb(t)}:{},L?{order:L}:{})}function ce(h,I,c){if(c in nh){var t=h.fieldDef(I);c=t.sort;if(yc(c))return{op:"min",field:oh(t,I),order:"ascending"};({stack:t}=h);var L=t?[...t.groupbyField?[t.groupbyField]:[],...t.stackBy.map(ka=>ka.fieldDef.field)]:void 0;if(qe(c))return h=t&&!G(L,c.field),td(c,h);if(c&&c.encoding){const {encoding:ka,order:sa}=c;h=h.fieldDef(ka);const {aggregate:Ba,
field:cb}=h;I=t&&!G(L,cb);if(qa(Ba)||Da(Ba))return td({field:kd(h),order:sa},I);if(na(Ba)||!Ba)return td({op:Ba,field:cb,order:sa},I)}else{if("descending"===c)return{op:"min",field:h.vgField(I),order:"descending"};if(G(["ascending",void 0],c))return!0}}}function Se(h,I){const {aggregate:c,type:t}=h;return c?e(c)&&!Il[c]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(c,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===t&&"log"===I?{valid:!1,
reason:"Unaggregated domain is currently unsupported for log scale (".concat(of(h),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(of(h),").")}}function bf(h,I,c,t){if(h.explicit&&I.explicit){var L=h.value,ka=I.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(of(L)," and ").concat(of(ka),"). Using the union of the two domains.");Lb(c)}return{explicit:h.explicit,value:[...h.value,...I.value]}}function He(h){var I=
ja(h.map(L=>Tc(L)?(L=Object.assign({},L),delete L.sort,L):L),F),c=ja(h.map(L=>{if(Tc(L))return L=L.sort,void 0===L||C(L)||("op"in L&&"count"===L.op&&delete L.field,"ascending"===L.order&&delete L.order),L}).filter(L=>void 0!==L),F);if(0!==I.length){if(1===I.length){I=h[0];if(Tc(I)&&0<c.length){var t=c[0];1<c.length?(Lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),t=!0):v(t)&&"field"in t&&I.field===t.field&&(t=t.order?{order:t.order}:!0);return Object.assign({},
I,{sort:t})}return I}c=ja(c.map(L=>{if(C(L)||!("op"in L)||e(L.op)&&L.op in fk)return L;Lb("Dropping sort property ".concat(of(L),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),F);1===c.length?t=c[0]:1<c.length&&(Lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),t=!0);c=ja(h.map(L=>Tc(L)?L.data:null),L=>L);return 1===c.length&&null!==c[0]?Object.assign({},{data:c[0],fields:I.map(L=>L.field)},t?{sort:t}:{}):Object.assign({},
{fields:I},t?{sort:t}:{})}}function cg(h){if(Tc(h)&&e(h.field))return h.field;var I=Je(h)?!1:"fields"in h&&!("data"in h);if(I){let c;for(const t of h.fields)if(Tc(t)&&e(t.field))if(!c)c=t.field;else if(c!==t.field)return Lb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),c;Lb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return c}I=Je(h)?!1:"fields"in h&&"data"in h;if(I)return Lb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),h=h.fields[0],e(h)?h:void 0}function Af(h,I){I=h.component.scales[I].get("domains").map(c=>{Tc(c)&&(c.data=h.lookupDataSource(c.data));return c});return He(I)}function bg(h){return Lg(h)||Sg(h)?h.children.reduce((I,c)=>I.concat(bg(c)),Wf(h)):Wf(h)}function Wf(h){return Hd(h.component.scales).reduce((I,
c)=>{var t=h.component.scales[c];if(t.merged)return I;var L=t.combine(),ka=Object.assign({},L);t=L.name;const sa=L.type,Ba=L.selectionExtent,cb=L.reverse;ka=(delete ka.name,delete ka.type,delete ka.selectionExtent,delete ka.domains,delete ka.range,delete ka.reverse,ka);L=L.range;c in fg?uc(L)&&(L={step:{signal:t+"_step"}}):v(L)&&Tc(L)&&(L=Object.assign({},L,{data:h.lookupDataSource(L.data)}));if(Ba){var nb=Ba.selection;nb=h.getSelectionComponent(nb,V(nb));nb={signal:Ii(nb,Ba)}}c=Af(h,c);I.push(Object.assign({},
{name:t,type:sa},c?{domain:c}:{},nb?{domainRaw:nb}:{},{range:L},void 0!==cb?{reverse:cb}:{},ka));return I},[])}function qf(h){return"x"===h?"width":"y"===h?"height":void 0}function gg(h,I){const c=h.fieldDef(I);if(c&&c.bin&&pc(c.bin)){const t=vj(h,c.field,c.bin);I=qf(I);const L=h.getName(I);return new qi(()=>{var ka=h.getSignalName(t);ka="(".concat(ka,".stop - ").concat(ka,".start) / ").concat(ka,".step");return"".concat(h.getSignalName(L)," / (").concat(ka,")")})}}function Rf(h,I){const c=I.specifiedScales[h];
var {size:t}=I,L=I.getScaleComponent(h).get("type");for(var ka of qn)if(void 0!==c[ka]){const cb=Ue(L,ka),nb=Nf(h,ka);if(cb)if(nb)Lb(nb);else switch(ka){case "range":L=c.range;if(Je(L)){if(h in fg)return ke(L.map(Gb=>{if("width"===Gb||"height"===Gb){Gb=I.getName(Gb);const Nb=I.getSignalName.bind(I);return qi.fromName(Nb,Gb)}return Gb}))}else if(v(L))return ke({data:I.requestDataName(zg.Main),field:L.field,sort:{op:"min",field:I.vgField(h)}});return ke(L);case "scheme":return ke(Of(c[ka]))}else Lb(Vd(L,
ka,h))}if("x"===h||"y"===h)if(ka="x"===h?"width":"height",t=t[ka],zb(t)){if(L in nh)return ke({step:t.step});Lb(Ka(ka))}const {rangeMin:sa,rangeMax:Ba}=c;h=Kg(h,I);return(void 0!==sa||void 0!==Ba)&&Ue(L,"rangeMin")&&Je(h)&&2===h.length?ke([null!==sa&&void 0!==sa?sa:h[0],null!==Ba&&void 0!==Ba?Ba:h[1]]):pe(h)}function Of(h){return!e(h)&&h.name?Object.assign({},{scheme:h.name},M(h,["name"])):{scheme:h}}function Kg(h,I){const {size:c,config:t,mark:L,encoding:ka}=I;var sa=I.getSignalName.bind(I),{type:Ba}=
Aa(ka[h]);const cb=I.getScaleComponent(h).get("type"),{domain:nb,domainMid:Gb}=I.specifiedScales[h];switch(h){case "x":case "y":if(G(["point","band"],cb))if("x"===h&&!c.width){if(Ba=Q(t.view,"width"),zb(Ba))return Ba}else if("y"===h&&!c.height&&(Ba=Q(t.view,"height"),zb(Ba)))return Ba;Ba=qf(h);Ba=I.getName(Ba);return"y"===h&&cb in Jh?[qi.fromName(sa,Ba),0]:[0,qi.fromName(sa,Ba)];case "size":return sa=I.component.scales[h].get("zero"),sa=Rh(L,sa,t),Ba=li(L,c,I,t),cb in zk?ch(sa,Ba,Pg(cb,t,nb,h)):[sa,
Ba];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new qi(()=>{const Nb=I.getSignalName("width"),lc=I.getSignalName("height");return"min(".concat(Nb,",").concat(lc,")/2")})];case "strokeWidth":return[t.scale.minStrokeWidth,t.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===cb?"nominal"===Ba?"category":"ordinal":void 0!==Gb?"diverging":"rect"===L||
"geoshape"===L?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[t.scale.minOpacity,t.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(h));}function Pg(h,I,c,t){switch(h){case "quantile":return I.scale.quantileCount;case "quantize":return I.scale.quantizeCount;case "threshold":if(void 0!==c&&Je(c))return c.length+1;Lb("Domain for ".concat(t," is required for threshold scale."));return 3}}function ch(h,I,c){const t=()=>{const L=Ce(I),ka=Ce(h),sa=
"(".concat(L," - ").concat(ka,") / (").concat(c," - 1)");return"sequence(".concat(ka,", ").concat(L," + ").concat(sa,", ").concat(sa,")")};return Dc(I)?new qi(t):{signal:t()}}function Rh(h,I,c){if(I)return Dc(I)?{signal:"".concat(I.signal," ? 0 : ").concat(Rh(h,!1,c))}:0;switch(h){case "bar":case "tick":return c.scale.minBandSize;case "line":case "trail":case "rule":return c.scale.minStrokeWidth;case "text":return c.scale.minFontSize;case "point":case "square":case "circle":return c.scale.minSize}throw Error(zc("size",
h));}function li(h,I,c,t){c={x:gg(c,"x"),y:gg(c,"y")};switch(h){case "bar":case "tick":{if(void 0!==t.scale.maxBandSize)return t.scale.maxBandSize;const L=Mj(I,c,t.view);return a(L)?L-1:new qi(()=>"".concat(L.signal," - 1"))}case "line":case "trail":case "rule":return t.scale.maxStrokeWidth;case "text":return t.scale.maxFontSize;case "point":case "square":case "circle":{if(t.scale.maxSize)return t.scale.maxSize;const L=Mj(I,c,t.view);return a(L)?Math.pow(.95*L,2):new qi(()=>"pow(".concat(.95," * ").concat(L.signal,
", 2)"))}}throw Error(zc("size",h));}function Mj(h,I,c){const t=zb(h.width)?h.width.step:r(c,"width"),L=zb(h.height)?h.height.step:r(c,"height");return I.x||I.y?new qi(()=>"min(".concat([I.x?I.x.signal:t,I.y?I.y.signal:L].join(", "),")")):Math.min(t,L)}function Vk(h,I){if(ng(h)){{const sa=h.component.scales,{config:Ba,encoding:cb,markDef:nb,specifiedScales:Gb}=h;for(const Nb of Hd(sa)){var c=Gb[Nb];const lc=sa[Nb];var t=h.getScaleComponent(Nb),L=Aa(cb[Nb]),ka=c[I];const Yc=t.get("type"),hd=t.get("padding");
t=t.get("paddingInner");const qd=Ue(Yc,I),Md=Nf(Nb,I);void 0!==ka&&(qd?Md&&Lb(Md):Lb(Vd(Yc,I,Nb)));if(qd&&void 0===Md)if(void 0!==ka)switch(ka=L.timeUnit,L=L.type,I){case "domainMax":case "domainMin":Ac(c[I])||"temporal"===L||ka?lc.set(I,{signal:fd(c[I],{type:L,timeUnit:ka})},!0):lc.set(I,c[I],!0);break;default:lc.copyKeyFromObject(I,c)}else c=I in sm?sm[I]({model:h,channel:Nb,fieldOrDatumDef:L,scaleType:Yc,scalePadding:hd,scalePaddingInner:t,domain:c.domain,markDef:nb,config:Ba}):Ba.scale[I],void 0!==
c&&lc.set(I,c,!1)}}}else wi(h,I)}function tk(h){if(ng(h)){{const I=h.component.scales;for(const c of Lj){const t=I[c];if(!t)continue;const L=Rf(c,h);t.setWithExplicit("range",L)}}}else wi(h,"range")}function wi(h,I){const c=h.component.scales;for(var t of h.children)"range"===I?tk(t):Vk(t,I);for(const L of Hd(c)){let ka;for(const sa of h.children)if(t=sa.component.scales[L])t=t.getWithExplicit(I),ka=Oe(ka,t,I,"scale",Re((Ba,cb)=>{switch(I){case "range":if(Ba.step&&cb.step)return Ba.step-cb.step}return 0}));
c[L].setWithExplicit(I,ka)}}function Bk(h,I){const c=I.bin;if(pc(c)){const t=vj(h,I.field,c);return new qi(()=>h.getSignalName(t))}if(Hc(c)&&v(c)&&void 0!==c.step)return{step:c.step}}function Ej(h,I,c){var t;switch(I.type){case "nominal":case "ordinal":if($a(h)||"discrete"===nc(h))return"shape"===h&&"ordinal"===I.type&&Lb(Ed(h,"ordinal")),"ordinal";if(h in fg){if(G(["rect","bar","image","rule"],c))return"band"}else if("arc"===c&&h in lk)return"band";return void 0!==I.band||ie(I)&&(null===(t=I.axis)||
void 0===t?0:t.tickBand)?"band":"point";case "temporal":if(!$a(h)){if("discrete"===nc(h))return Lb(Ed(h,"temporal")),"ordinal";if($b(I)&&I.timeUnit&&Qb(I.timeUnit).utc)return"utc"}return"time";case "quantitative":if($a(h)){if($b(I)&&pc(I.bin))return"bin-ordinal"}else if("discrete"===nc(h))return Lb(Ed(h,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(I.type,'".'));}function Zk(h){if(ng(h))h.component.scales=$k(h);else{var I=h.component;{const Ba=
h.component.scales={},cb={};var c=h.component.resolve;for(const nb of h.children){Zk(nb);for(const Gb of Hd(nb.component.scales)){var t,L=c.scale;if(null!==(t=c.scale[Gb])&&void 0!==t)var ka=t;else{ka=Gb;var sa=h;if(Lg(sa)||Rg(sa))ka="shared";else if(Sg(sa))ka=ka in fg?"independent":"shared";else throw Error("invalid model type for resolve");}L[Gb]=ka;if("shared"===c.scale[Gb])if(L=cb[Gb],ka=nb.component.scales[Gb].getWithExplicit("type"),L){{sa=ai[L.value];const Nb=ai[ka.value];sa=sa===Nb||"ordinal-position"===
sa&&"time"===Nb||"ordinal-position"===Nb&&"time"===sa}sa?cb[Gb]=Oe(L,ka,"type","scale",rn):(c.scale[Gb]="independent",delete cb[Gb])}else cb[Gb]=ka}}for(const nb of Hd(cb)){t=h.scaleName(nb,!0);Ba[nb]=new tm(t,cb[nb]);for(const Gb of h.children)if(c=Gb.component.scales[nb])Gb.renameScale(c.get("name"),t),c.merged=!0}h=Ba}I.scales=h}}function $k(h){const {encoding:I,mark:c}=h;return Lj.reduce((t,L)=>{var ka=Aa(I[L]);if(ka&&c===Ke&&"shape"===L&&"geojson"===ka.type)return t;let sa=ka&&ka.scale;if(ka&&
null!==sa&&!1!==sa){var Ba;sa=null!==(Ba=sa)&&void 0!==Ba?Ba:{};var cb=sa;Ba=Ej(L,ka,c);({type:cb}=cb);if(rh[L]){if(void 0!==cb)if(me(L,cb)){var nb;if(nb=$b(ka))nb=cb,ka=ka.type,nb=!(G(["ordinal","nominal"],ka)?void 0===nb||nb in nh:"temporal"===ka?G([Cg.TIME,Cg.UTC,void 0],nb):"quantitative"===ka?G([Cg.LOG,Cg.POW,Cg.SQRT,Cg.SYMLOG,Cg.QUANTILE,Cg.QUANTIZE,Cg.THRESHOLD,Cg.LINEAR,void 0],nb):1);nb?(ka=Ba,ka='FieldDef does not work with "'.concat(cb,'" scale. We are using "').concat(ka,'" scale instead.'),
Lb(ka)):Ba=cb}else ka=cb,cb=Ba,ka='Channel "'.concat(L,'" does not work with "').concat(ka,'" scale. We are using "').concat(cb,'" scale instead.'),Lb(ka)}else Ba=null;t[L]=new tm(h.scaleName(L+"",!0),{value:Ba,explicit:sa.type===Ba})}return t},{})}function ng(h){return"unit"===(null===h||void 0===h?void 0:h.type)}function Rg(h){return"facet"===(null===h||void 0===h?void 0:h.type)}function Sg(h){return"concat"===(null===h||void 0===h?void 0:h.type)}function Lg(h){return"layer"===(null===h||void 0===
h?void 0:h.type)}function Ni(h){function I(t,L){t instanceof wk&&!(t.isGenerator||"url"in t.data)&&(h.push(L),L={name:null,source:L.name,transform:[]});if(t instanceof Fh)if(t.parent instanceof wk&&!L.source){var ka;L.format=Object.assign({},null!==(ka=L.format)&&void 0!==ka?ka:{},{parse:t.assembleFormatParse()});L.transform.push(...t.assembleTransforms(!0))}else L.transform.push(...t.assembleTransforms());if(t instanceof Wk){L.name||(L.name="data_".concat(c++));!L.source||0<L.transform.length?(h.push(L),
t.data=L.name):t.data=L.source;for(const sa of t.assemble())h.push(sa)}else switch((t instanceof zl||t instanceof Al||t instanceof Bl||t instanceof kl||t instanceof ml||t instanceof Cl||t instanceof nl||t instanceof cj||t instanceof Dl||t instanceof ll||t instanceof Xk||t instanceof Rl||t instanceof Sl||t instanceof Tl||t instanceof Ul||t instanceof Vl||t instanceof Wl||t instanceof xk||t instanceof Xl||t instanceof Yl)&&L.transform.push(t.assemble()),(t instanceof xj||t instanceof yj||t instanceof
Yk||t instanceof Tj)&&L.transform.push(...t.assemble()),t instanceof Eh&&(L.source&&0===L.transform.length?t.setSource(L.source):t.parent instanceof Eh?t.setSource(L.name):(L.name||(L.name="data_".concat(c++)),t.setSource(L.name),1===t.numChildren()&&(h.push(L),L={name:null,source:L.name,transform:[]}))),t.numChildren()){case 0:t instanceof Eh&&(!L.source||0<L.transform.length)&&h.push(L);break;case 1:I(t.children[0],L);break;default:L.name||(L.name="data_".concat(c++));ka=L.name;!L.source||0<L.transform.length?
h.push(L):ka=L.source;for(const sa of t.children)I(sa,{name:null,source:ka,transform:[]})}}let c=0;return I}function el(h){const I=[],c=Ni(I);for(const t of h.children)c(t,{source:h.name,name:null,transform:[]});return I}function lj(h,I){const c=[];var t=Ni(c);let L=0;for(const Ba of h.sources){Ba.hasName()||(Ba.dataName="source_".concat(L++));const cb=Ba.assemble();t(Ba,cb)}for(const Ba of c)0===Ba.transform.length&&delete Ba.transform;t=0;for(const Ba of c.entries()){const [cb,nb]=Ba;var ka;0!==
(null!==(ka=nb.transform)&&void 0!==ka?ka:[]).length||nb.source||c.splice(t++,0,c.splice(cb,1)[0])}for(const Ba of c)for(const cb of null!==(sa=Ba.transform)&&void 0!==sa?sa:[]){var sa;"lookup"===cb.type&&(cb.from=h.outputNodes[cb.from].getSource())}for(const Ba of c)Ba.name in I&&(Ba.values=I[Ba.name]);return c}function tl(h,I,c){I="row"===I?"height":"width";return{labels:c,sizeSignal:h.child.component.layoutSize.get(I)?h.child.getSizeSignalRef(I):void 0,axes:[]}}function Dk(h,I){var {child:c}=h;
if(c.component.axes[I]){const {layoutHeaders:L,resolve:ka}=h.component;ka.axis[I]=gj(ka,I);if("shared"===ka.axis[I]){const sa="x"===I?"column":"row",Ba=L[sa];for(const cb of c.component.axes[I]){var t;I=cb.get("orient");I="top"===I||"left"===I||Dc(I)?"header":"footer";Ba[I]=null!==(t=Ba[I])&&void 0!==t?t:[tl(h,sa,!1)];(c=kg(cb,"main",h.config,{header:!0}))&&Ba[I][0].axes.push(c);cb.mainExtracted=!0}}}}function ck(h){for(const I of h.children)I.parseLayoutSize()}function Pk(h,I){const c=Yi(I),t=Fb(c),
L=h.component.resolve,ka=h.component.layoutSize;let sa;for(const Ba of h.children){const cb=Ba.component.layoutSize.getWithExplicit(c),nb=L.scale[t];if("independent"===nb&&"step"===cb.value){sa=void 0;break}if(sa){if("independent"===nb&&sa.value!==cb.value){sa=void 0;break}sa=Oe(sa,cb,c,"")}else sa=cb}if(sa){for(const Ba of h.children)h.renameSignal(Ba.getName(c),h.getName(I)),Ba.component.layoutSize.set(c,"merged",!1);ka.setWithExplicit(I,sa)}else ka.setWithExplicit(I,{explicit:!1,value:void 0})}
function xl(h,I){const c=h.config;var t=h.getScaleComponent("width"===I?"x":"y");if(t)return h=t.get("type"),t=t.get("range"),h in nh?(I=Q(c.view,I),uc(t)||zb(I)?"step":I):Kc(c.view,I);if(h.hasProjection||"arc"===h.mark)return Kc(c.view,I);I=Q(c.view,I);return zb(I)?I.step:I}function uk(h,I,c){return kd(I,Object.assign({},{suffix:"by_".concat(kd(h))},null!==c&&void 0!==c?c:{}))}function pl(h,I){for(const Ba of I){var c,t,L,ka;I=Ba.data;if(h.name&&Ba.hasName()&&h.name!==Ba.dataName)continue;const cb=
null===(c=h.format)||void 0===c?void 0:c.mesh;var sa=null===(t=I.format)||void 0===t?void 0:t.feature;if(cb&&sa)continue;const nb=null===(L=h.format)||void 0===L?void 0:L.feature;if(!nb&&!sa||nb===sa)if(sa=null===(ka=I.format)||void 0===ka?void 0:ka.mesh,!cb&&!sa||cb===sa)if("values"in h&&"values"in I){if(ji(h.values,I.values))return Ba}else if("url"in h&&"url"in I){if(h.url===I.url)return Ba}else if(dg(h)&&h.name===Ba.dataName)return Ba}return null}function Ck(h,I){if(h.data||!h.parent){if(null===
h.data)return h=new wk({values:[]}),I.push(h),h;const c=pl(h.data,I);if(c)return Xe(h.data)||(c.data.format=T({},h.data.format,c.data.format)),!c.hasName()&&h.data.name&&(c.dataName=h.data.name),c;h=new wk(h.data);I.push(h);return h}return h.parent.component.data.facetRoot?h.parent.component.data.facetRoot:h.parent.component.data.main}function bk(h){var I,c,t,L=Ck(h,h.component.data.sources);const {outputNodes:ka,outputNodeRefCounts:sa}=h.component.data,Ba=h.parent?h.parent.component.data.ancestorParse.clone():
new sn,cb=h.data;Xe(cb)?("sequence"in cb?L=new Al(L,cb.sequence):"graticule"in cb&&(L=new zl(L,cb.graticule)),Ba.parseNothing=!0):null===(null===cb||void 0===cb?void 0:null===(I=cb.format)||void 0===I?void 0:I.parse)&&(Ba.parseNothing=!0);L=null!==(c=Fh.makeExplicit(L,h,Ba))&&void 0!==c?c:L;L=new xk(L);I=h.parent&&Lg(h.parent);if((ng(h)||Rg(h))&&I){var nb;L=null!==(nb=xj.makeFromEncoding(L,h))&&void 0!==nb?nb:L}if(0<h.transforms.length){nb=0;for(const Yd of h.transforms){var Gb=c=void 0;if("calculate"in
Yd)Gb=L=new ml(L,Yd),c="derived";else if("filter"in Yd){var Nb;Gb=il(Yd);Gb=L=null!==(Nb=Fh.makeWithAncestors(L,{},Gb,Ba))&&void 0!==Nb?Nb:L;L=new kl(L,h,Yd.filter)}else if("bin"in Yd)Gb=L=xj.makeFromTransform(L,Yd,h),c="number";else if("timeUnit"in Yd)c="date",void 0===Ba.getWithExplicit(Yd.field).value&&(L=new Fh(L,{[Yd.field]:c}),Ba.set(Yd.field,c,!1)),Gb=L=yj.makeFromTransform(L,Yd);else if("aggregate"in Yd)Gb=L=cj.makeFromTransform(L,Yd),c="number",bi(h)&&(L=new xk(L));else if("lookup"in Yd)Gb=
L=Dl.make(L,h,Yd,nb++),c="derived";else if("window"in Yd)Gb=L=new ll(L,Yd),c="number";else if("joinaggregate"in Yd)Gb=L=new Xk(L,Yd),c="number";else if("stack"in Yd)Gb=L=Tj.makeFromTransform(L,Yd),c="derived";else if("fold"in Yd)Gb=L=new Rl(L,Yd),c="derived";else if("flatten"in Yd)Gb=L=new Sl(L,Yd),c="derived";else if("pivot"in Yd)Gb=L=new Yl(L,Yd),c="derived";else if("sample"in Yd)L=new Xl(L,Yd);else if("impute"in Yd)Gb=L=Yk.makeFromTransform(L,Yd),c="derived";else if("density"in Yd)Gb=L=new Tl(L,
Yd),c="derived";else if("quantile"in Yd)Gb=L=new Vl(L,Yd),c="derived";else if("regression"in Yd)Gb=L=new Wl(L,Yd),c="derived";else if("loess"in Yd)Gb=L=new Ul(L,Yd),c="derived";else{Lb("Ignoring an invalid transform: ".concat(of(Yd),"."));continue}if(Gb&&void 0!==c)for(const sg of null!==(lc=Gb.producedFields())&&void 0!==lc?lc:[]){var lc;Ba.set(sg,c,!1)}}}Nb={};if(ng(h)&&h.component.selection)for(hd of Hd(h.component.selection)){lc=h.component.selection[hd];for(var Yc of lc.project.items)!Yc.channel&&
1<Ya(Yc.field)&&(Nb[Yc.field]="flatten")}var hd=Nb;Yc=hj(h);L=null!==(t=Fh.makeWithAncestors(L,{},Object.assign({},hd,Yc),Ba))&&void 0!==t?t:L;ng(h)&&(L=nl.parseAll(L,h),L=Cl.parseAll(L,h));if(ng(h)||Rg(h)){var qd;if(!I){var Md;L=null!==(Md=xj.makeFromEncoding(L,h))&&void 0!==Md?Md:L}L=null!==(qd=yj.makeFromEncoding(L,h))&&void 0!==qd?qd:L;L=ml.parseAllForSortIndex(L,h)}qd=h.getDataName(zg.Raw);t=new Eh(L,qd,zg.Raw,sa);L=ka[qd]=t;if(ng(h)){var Rd,Ee;if(qd=cj.makeFromEncoding(L,h))L=qd,bi(h)&&(L=new xk(L));
L=null!==(Rd=Yk.makeFromEncoding(L,h))&&void 0!==Rd?Rd:L;L=null!==(Ee=Tj.makeFromEncoding(L,h))&&void 0!==Ee?Ee:L}if(ng(h)){var Hf;L=null!==(Hf=Bl.make(L,h))&&void 0!==Hf?Hf:L}Ee=h.getDataName(zg.Main);Rd=new Eh(L,Ee,zg.Main,sa);L=ka[Ee]=Rd;ng(h)&&si(h,Rd);Hf=null;if(Rg(h)){var se;Ee=h.getName("facet");{Hf=L;const {row:Yd,column:sg}=h.facet;if(Yd&&sg){qd=null;for(Ef of[Yd,sg])if(qe(Ef.sort)){const {field:Mf,op:Ve="min"}=Ef.sort;Hf=qd=new Xk(Hf,{joinaggregate:[{op:Ve,field:Mf,as:uk(Ef,Ef.sort,{forAs:!0})}],
groupby:[kd(Ef)]})}var Ef=qd}else Ef=null}L=null!==(se=Ef)&&void 0!==se?se:L;Hf=new Wk(L,h,Ee,Rd.getSource());ka[Ee]=Hf}return Object.assign({},h.component.data,{outputNodes:ka,outputNodeRefCounts:sa,raw:t,main:Rd,facetRoot:Hf,ancestorParse:Ba})}function ql(h){return Wg.reduce((I,c)=>{h.component.scales[c]&&(I[c]=[Nl(c,h)]);return I},{})}function rl(h,I){if(h){if(h.length!==I.length)return;const c=h.length;for(let t=0;t<c;t++){const L=h[t],ka=I[t];if(!!L!==!!ka)return;if(L&&ka){const sa=L.getWithExplicit("orient"),
Ba=ka.getWithExplicit("orient");if(sa.explicit&&Ba.explicit&&sa.value!==Ba.value)return;h[t]=sl(L,ka)}}}else return I.map(c=>c.clone());return h}function sl(h,I){for(const c of um){const t=Oe(h.getWithExplicit(c),I.getWithExplicit(c),c,"axis",(L,ka)=>{switch(c){case "title":return za(L,ka);case "gridScale":return{explicit:L.explicit,value:Ca(L.value,ka.value)}}return xd(L,ka,c,"axis")});h.setWithExplicit(c,t)}return h}function fl(h,I,c,t,L){if("disable"===I)return void 0!==c;c=c||{};switch(I){case "titleAngle":case "labelAngle":return h===
(Dc(c.labelAngle)?c.labelAngle:ba(c.labelAngle));case "values":return!!c.values;case "encode":return!!c.encoding||!!c.labelAngle;case "title":if(h===Lh(t,L))return!0}return h===c[I]}function Nl(h,I){var c,t,L,ka,sa;let Ba=I.axis(h);const cb=new vm;var nb=Aa(I.encoding[h]);const {mark:Gb,config:Nb}=I;var lc=(null===(c=Ba)||void 0===c?void 0:c.orient)||(null===(t=Nb["x"===h?"axisX":"axisY"])||void 0===t?void 0:t.orient)||(null===(L=Nb.axis)||void 0===L?void 0:L.orient)||("x"===h?"bottom":"left");t=
I.getScaleComponent(h).get("type");c=ak(h,t,lc,I.config);L=void 0!==Ba?!Ba:Yh("disable",Nb.style,null===(ka=Ba)||void 0===ka?void 0:ka.style,c).configValue;cb.set("disable",L,void 0!==Ba);if(L)return cb;Ba=Ba||{};ka=Zj(nb,Ba,h,Nb.style,c);nb={fieldOrDatumDef:nb,axis:Ba,channel:h,model:I,scaleType:t,orient:lc,labelAngle:ka,mark:Gb,config:Nb};for(const hd of um)if(lc=hd in wm?wm[hd](nb):$g[hd]?Ba[hd]:void 0,ka=void 0!==lc,t=fl(lc,hd,Ba,I,h),ka&&t)cb.set(hd,lc,t);else{const {configValue:qd,configFrom:Md}=
$g[hd]&&"values"!==hd?Yh(hd,Nb.style,Ba.style,c):{};L=void 0!==qd;ka&&!L?cb.set(hd,lc,t):("vgAxisConfig"!==Md||tn.has(hd)&&L||ra(qd)||Dc(qd))&&cb.set(hd,qd,!1)}const Yc=null!==(sa=Ba.encoding)&&void 0!==sa?sa:{};sa=yh.reduce((hd,qd)=>{var Md;if(!cb.hasAxisPart(qd))return hd;var Rd=Gg(null!==(Md=Yc[qd])&&void 0!==Md?Md:{},I);if("labels"===qd){{var Ee;const {encoding:Hf,config:se}=I;Md=null!==(Ee=Aa(Hf[h]))&&void 0!==Ee?Ee:Aa(Hf[Ja(h)]);Ee=I.axis(h)||{};const {format:Ef,formatType:Yd}=Ee;Rd=Gc(Yd)?
Object.assign({},{text:Fe({fieldOrDatumDef:Md,field:"datum.value",format:Ef,formatType:Yd,config:se})},Rd):Rd}}void 0===Rd||P(Rd)||(hd[qd]={update:Rd});return hd},{});P(sa)||cb.set("encode",sa,!!Ba.encoding||void 0!==Ba.labelAngle);return cb}function xi(h,I,c){switch(h){case yb:case ff:case Ld:case Fc:case Ob:case Qa:return}const {x:t,y:L,x2:ka,y2:sa}=I;switch(h){case da:if($b(t)&&(Hc(t.bin)||$b(L)&&L.aggregate&&!t.aggregate))break;if($b(L)&&(Hc(L.bin)||$b(t)&&t.aggregate&&!L.aggregate))return"horizontal";
if(sa||ka){if(c)return c;if(!ka&&($b(t)&&"quantitative"===t.type&&!pc(t.bin)||Nd(t)))return"horizontal";if(!sa&&($b(L)&&"quantitative"===L.type&&!pc(L.bin)||Nd(L)))break}case fc:if(!(!ka||$b(t)&&Hc(t.bin)||!sa||$b(L)&&Hc(L.bin)))return;case J:if(sa){if($b(L)&&Hc(L.bin))return"horizontal";break}else if(ka)if($b(t)&&Hc(t.bin))break;else return"horizontal";else if(h===fc)if(t&&!L)break;else if(L&&!t)return"horizontal";case ib:case sd:I=Mc(t);var Ba=Mc(L);if(I&&!Ba)return"tick"!==h?"horizontal":"vertical";
if(!I&&Ba)return"tick"!==h?"vertical":"horizontal";if(I&&Ba){I="temporal"===t.type;Ba="temporal"===L.type;if(I&&!Ba)return"tick"!==h?"vertical":"horizontal";if(!I&&Ba)return"tick"!==h?"horizontal":"vertical";if(!t.aggregate&&L.aggregate)return"tick"!==h?"vertical":"horizontal";if(t.aggregate&&!L.aggregate)return"tick"!==h?"horizontal":"vertical";if(c)return c}else{if(c)return c;return}}return"vertical"}function Fj(h,I){return Object.assign({},hh(h,{align:"ignore",baseline:"ignore",color:"include",
size:"include",orient:"ignore",theta:"ignore"}),qg("x",h,{defaultPos:"mid"}),qg("y",h,{defaultPos:"mid"}),Fg("size",h),Fg("angle",h),I?{shape:{value:I}}:Fg("shape",h))}function al(h,I,c){if(void 0===ne("align",h,c))return"center"}function yl(h,I,c){if(void 0===ne("baseline",h,c))return"middle"}function gh(h){var I;const {config:c,markDef:t}=h;var {orient:L}=t;const ka="horizontal"===L?"width":"height";h=h.getScaleComponent("horizontal"===L?"x":"y");L=null!==(I=ne("size",t,c,{vgChannel:ka}))&&void 0!==
I?I:c.tick.bandSize;return void 0!==L?L:(I=h?h.get("range"):void 0)&&uc(I)&&a(I.step)?3*I.step/4:3*r(c.view,ka)/4}function Ll(h){if(G([ib,J,ve],h.mark)){var I=xc(h.mark,h.encoding);if(0<I.length)return Ek(h,I)}else if(G([da],h.mark)&&(I=kk.some(c=>ne(c,h.markDef,h.config)),h.stack&&!h.fieldDef("size")&&I))return Gj(h);return Oi(h)}function Ek(h,I){return[{name:h.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+h.requestDataName(zg.Main),data:h.requestDataName(zg.Main),groupby:I}},
encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Oi(h,{fromPrefix:"faceted_path_"})}]}function Gj(h){const [I]=Oi(h,{fromPrefix:"stack_group_"}),c=h.scaleName(h.stack.fieldChannel),t=cb=>{cb=void 0===cb?{}:cb;return h.vgField(h.stack.fieldChannel,cb)};var L=(cb,nb)=>{nb=[t({prefix:"min",suffix:"start",expr:nb}),t({prefix:"max",suffix:"start",expr:nb}),t({prefix:"min",suffix:"end",expr:nb}),t({prefix:"max",suffix:"end",expr:nb})];return"".concat(cb,"(").concat(nb.map(Gb=>
"scale('".concat(c,"',").concat(Gb,")")).join(","),")")};let ka;"x"===h.stack.fieldChannel?(L=Object.assign({},O(I.encode.update,["y","yc","y2","height",...kk]),{x:{signal:L("min","datum")},x2:{signal:L("max","datum")},clip:{value:!0}}),ka={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},I.encode.update=Object.assign({},M(I.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(L=Object.assign({},O(I.encode.update,["x","xc","x2","width"]),{y:{signal:L("min","datum")},y2:{signal:L("max",
"datum")},clip:{value:!0}}),ka={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},I.encode.update=Object.assign({},M(I.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var sa of kk){var Ba=sf(sa,h.markDef,h.config);I.encode.update[sa]?(L[sa]=I.encode.update[sa],delete I.encode.update[sa]):Ba&&(L[sa]=$d(Ba));Ba&&(I.encode.update[sa]={value:0})}sa=h.fieldDef(h.stack.groupbyChannel);Ba=kd(sa)?[kd(sa)]:[];((null===sa||void 0===sa?0:sa.bin)||(null===sa||void 0===sa?0:sa.timeUnit))&&
Ba.push(kd(sa,{binSuffix:"end"}));L="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((cb,nb)=>{if(I.encode.update[nb])return Object.assign({},cb,{[nb]:I.encode.update[nb]});{const Gb=sf(nb,h.markDef,h.config);return void 0!==Gb?Object.assign({},cb,{[nb]:$d(Gb)}):cb}},L);L.stroke&&(L.strokeForeground={value:!0},L.strokeOffset={value:0});return[{type:"group",from:{facet:{data:h.requestDataName(zg.Main),name:"stack_group_"+h.requestDataName(zg.Main),
groupby:Ba,aggregate:{fields:[t({suffix:"start"}),t({suffix:"start"}),t({suffix:"end"}),t({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:L},marks:[{type:"group",encode:{update:ka},marks:[I]}]}]}function Pi(h){const {encoding:I,stack:c,mark:t,markDef:L,config:ka}=h;var sa=I.order;if(!(!Je(sa)&&jd(sa)&&z(sa.value)||!sa&&z(ne("order",L,ka)))){if((Je(sa)||$b(sa))&&!c)return Lf(sa,{expr:"datum"});if(we(t)){const Ba="horizontal"===L.orient?"y":"x",cb=I[Ba];if($b(cb)){sa=cb.sort;if(Je(sa))return{field:kd(cb,
{prefix:Ba,suffix:"sort_index",expr:"datum"})};if(qe(sa))return{field:kd({aggregate:fb(h.encoding)?sa.op:void 0,field:sa.field},{expr:"datum"})};if(sa&&sa.encoding)return h=h.fieldDef(sa.encoding),{field:kd(h,{expr:"datum"}),order:sa.order};if(null!==sa)return{field:kd(cb,{binSuffix:h.stack&&h.stack.impute?"mid":void 0,expr:"datum"})}}}}}function Oi(h,I){I=void 0===I?{fromPrefix:""}:I;const {mark:c,markDef:t,encoding:L,config:ka}=h;var sa=t.clip;var Ba=h.getScaleComponent("x");var cb=h.getScaleComponent("y");
Ba=Ba&&Ba.get("selectionExtent")||cb&&cb.get("selectionExtent")?!0:void 0;cb=(cb=h.component.projection)&&!cb.isFit?!0:void 0;sa=Ca(sa,Ba,cb);Ba=Uf(t);cb=L.key;const nb=Pi(h);var Gb;if(h.component.selection){for(var Nb=Gb=Hd(h.component.selection).length,lc=h.parent;lc&&0===Nb;)Nb=Hd(lc.component.selection).length,lc=lc.parent;Gb=Nb?{interactive:0<Gb||!!h.encoding.tooltip}:null}else Gb=null;Nb=ne("aria",t,ka);lc=El[c].postEncodingTransform?El[c].postEncodingTransform(h):null;return[Object.assign({},
{name:h.getName("marks"),type:El[c].vgMark},sa?{clip:!0}:{},Ba?{style:Ba}:{},cb?{key:cb.field}:{},nb?{sort:nb}:{},Gb?Gb:{},!1===Nb?{aria:Nb}:{},{from:{data:I.fromPrefix+h.requestDataName(zg.Main)},encode:{update:El[c].encodeEntry(h)}},lc?{transform:lc}:{})]}function hi(h,I,c,t,L){if("facet"in h)return new Fl(h,I,c,L);if("layer"in h)return new xm(h,I,c,t,L);if(Na(h))return new ym(h,I,c,t,L);if("vconcat"in h||"hconcat"in h||"concat"in h)return new un(h,I,c,L);throw Error(Pc(h));}function ul(h,I,c,t){c=
void 0===c?{}:c;const L=h.config?gb(h.config):void 0;c=[].concat(h.assembleSelectionData([]),lj(h.component.data,c));const ka=h.assembleProjections(),sa=h.assembleTitle(),Ba=h.assembleGroupStyle(),cb=h.assembleGroupEncodeEntry(!0);let nb=h.assembleLayoutSignals();nb=nb.filter(lc=>"width"!==lc.name&&"height"!==lc.name||void 0===lc.value?!0:(I[lc.name]=+lc.value,!1));var Gb=Object.assign({},I);const Nb=I.params;Gb=(delete Gb.params,Gb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
h.description?{description:h.description}:{},Gb,sa?{title:sa}:{},Ba?{style:Ba}:{},cb?{encode:{update:cb}}:{},{data:c},0<ka.length?{projections:ka}:{},h.assembleGroup([...nb,...h.assembleSelectionTopLevelSignals([]),...id(Nb)]),L?{config:L}:{},t?{usermeta:t}:{})}const Fk=h=>function(I){return I[h]},Gk=h=>{const I=h.length;return function(c){for(let t=0;t<I;++t)c=c[h[t]];return c}};(function(h,I,c){const t=N(h);h=1===t.length?t[0]:h;return w((c&&c.get||H)(t),[h],I||h)})("id");const Jk=w(h=>h,[],"identity");
w(()=>0,[],"zero");w(()=>1,[],"one");w(()=>!0,[],"true");w(()=>!1,[],"false");var Je=Array.isArray;const ii=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function c(I){var t=isNaN(I)?1:Number(I);return t?Array.prototype.reduce.call(this,function(L,ka){return Array.isArray(ka)?L.push.apply(L,c.call(ka,t-1)):L.push(ka),L},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,
"flatMap",{configurable:!0,value:function(I){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var qh=function(I,c){c||(c={});"function"===typeof c&&(c={cmp:c});var t="boolean"===typeof c.cycles?c.cycles:!1,L=c.cmp&&function(sa){return function(Ba){return function(cb,nb){return sa({key:cb,value:Ba[cb]},{key:nb,value:Ba[nb]})}}}(c.cmp),ka=[];return function cb(Ba){Ba&&Ba.toJSON&&"function"===typeof Ba.toJSON&&(Ba=Ba.toJSON());if(void 0!==Ba){if("number"==typeof Ba)return isFinite(Ba)?
""+Ba:"null";if("object"!==typeof Ba)return JSON.stringify(Ba);var nb;if(Array.isArray(Ba)){var Gb="[";for(nb=0;nb<Ba.length;nb++)nb&&(Gb+=","),Gb+=cb(Ba[nb])||"null";return Gb+"]"}if(null===Ba)return"null";if(-1!==ka.indexOf(Ba)){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Nb=ka.push(Ba)-1,lc=Object.keys(Ba).sort(L&&L(Ba));Gb="";for(nb=0;nb<lc.length;nb++){var Yc=lc[nb],hd=cb(Ba[Yc]);hd&&(Gb&&(Gb+=","),Gb+=JSON.stringify(Yc)+":"+hd)}ka.splice(Nb,
1);return"{"+Gb+"}"}}(I)};const ji=function L(c,t){if(c===t)return!0;if(c&&t&&"object"==typeof c&&"object"==typeof t){if(c.constructor!==t.constructor)return!1;var ka;if(Array.isArray(c)){var sa=c.length;if(sa!=t.length)return!1;for(ka=sa;0!==ka--;)if(!L(c[ka],t[ka]))return!1;return!0}if(c.constructor===RegExp)return c.source===t.source&&c.flags===t.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===t.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===t.toString();
var Ba=Object.keys(c);sa=Ba.length;if(sa!==Object.keys(t).length)return!1;for(ka=sa;0!==ka--;)if(!Object.prototype.hasOwnProperty.call(t,Ba[ka]))return!1;for(ka=sa;0!==ka--;)if(sa=Ba[ka],!L(c[sa],t[sa]))return!1;return!0}return c!==c&&t!==t},rf=function(c,t,L){return L={path:t,exports:{},require:function(ka,sa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},c(L,L.exports),L.exports}(function(c){var t=function(){function L(Nb,lc){return null!=lc&&Nb instanceof
lc}function ka(Nb,lc,Yc,hd,qd){function Md(se,Ef){if(null===se)return null;if(0===Ef||"object"!=typeof se)return se;if(L(se,cb))var Yd=new cb;else if(L(se,nb))Yd=new nb;else if(L(se,Gb))Yd=new Gb(function(Ig,hg){se.then(function(Ng){Ig(Md(Ng,Ef-1))},function(Ng){hg(Md(Ng,Ef-1))})});else if(ka.__isArray(se))Yd=[];else if(ka.__isRegExp(se))Yd=new RegExp(se.source,Ba(se)),se.lastIndex&&(Yd.lastIndex=se.lastIndex);else if(ka.__isDate(se))Yd=new Date(se.getTime());else{if(Hf&&k.isBuffer(se))return Yd=
k.allocUnsafe?k.allocUnsafe(se.length):new k(se.length),se.copy(Yd),Yd;if(L(se,Error))Yd=Object.create(se);else if("undefined"==typeof hd){var sg=Object.getPrototypeOf(se);Yd=Object.create(sg)}else Yd=Object.create(hd),sg=hd}if(lc){var Mf=Rd.indexOf(se);if(-1!=Mf)return Ee[Mf];Rd.push(se);Ee.push(Yd)}L(se,cb)&&se.forEach(function(Ig,hg){hg=Md(hg,Ef-1);Ig=Md(Ig,Ef-1);Yd.set(hg,Ig)});L(se,nb)&&se.forEach(function(Ig){Ig=Md(Ig,Ef-1);Yd.add(Ig)});for(var Ve in se){var pg;sg&&(pg=Object.getOwnPropertyDescriptor(sg,
Ve));pg&&null==pg.set||(Yd[Ve]=Md(se[Ve],Ef-1))}if(Object.getOwnPropertySymbols)for(Mf=Object.getOwnPropertySymbols(se),Ve=0;Ve<Mf.length;Ve++)if(pg=Mf[Ve],sg=Object.getOwnPropertyDescriptor(se,pg),!sg||sg.enumerable||qd)Yd[pg]=Md(se[pg],Ef-1),sg.enumerable||Object.defineProperty(Yd,pg,{enumerable:!1});if(qd)for(Mf=Object.getOwnPropertyNames(se),Ve=0;Ve<Mf.length;Ve++)pg=Mf[Ve],sg=Object.getOwnPropertyDescriptor(se,pg),sg&&sg.enumerable||(Yd[pg]=Md(se[pg],Ef-1),Object.defineProperty(Yd,pg,{enumerable:!1}));
return Yd}"object"===typeof lc&&(Yc=lc.depth,hd=lc.prototype,qd=lc.includeNonEnumerable,lc=lc.circular);var Rd=[],Ee=[],Hf="undefined"!=typeof k;"undefined"==typeof lc&&(lc=!0);"undefined"==typeof Yc&&(Yc=Infinity);return Md(Nb,Yc)}function sa(Nb){return Object.prototype.toString.call(Nb)}function Ba(Nb){var lc="";Nb.global&&(lc+="g");Nb.ignoreCase&&(lc+="i");Nb.multiline&&(lc+="m");return lc}try{var cb=Map}catch(Nb){cb=function(){}}try{var nb=Set}catch(Nb){nb=function(){}}try{var Gb=Promise}catch(Nb){Gb=
function(){}}ka.clonePrototype=function(Nb){if(null===Nb)return null;var lc=function(){};lc.prototype=Nb;return new lc};ka.__objToStr=sa;ka.__isDate=function(Nb){return"object"===typeof Nb&&"[object Date]"===sa(Nb)};ka.__isArray=function(Nb){return"object"===typeof Nb&&"[object Array]"===sa(Nb)};ka.__isRegExp=function(Nb){return"object"===typeof Nb&&"[object RegExp]"===sa(Nb)};ka.__getRegExpFlags=Ba;return ka}();c.exports&&(c.exports=t)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(c=>
qh(c)).join(","),")")};const of=qh,Hd=Object.keys,Tg=Object.values,fh=Object.entries;let jj=42;const Ij={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,
gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},yh=["domain","grid","labels",
"ticks","title"],ek={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",
labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",
titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},rg={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,
domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,
tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},$g=Object.assign({},rg,{style:1,labelExpr:1,encoding:1}),Ug=Hd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,
axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Ik={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},fk={count:1,min:1,max:1},Hk=["count","valid","missing","distinct"],
Hl=["count","sum","distinct","valid","missing"],Il=y("mean average median q1 q3 min max".split(" ")),bl={theta:1,theta2:1,radius:1,radius2:1},cl={longitude:1,longitude2:1,latitude:1,latitude2:1},$h=Hd(cl),gk=Object.assign({},{x:1,y:1,x2:1,y2:1},bl,cl,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),wl={row:1,column:1,facet:1},zh=Hd(wl),Kk=Object.assign({},gk,wl),Jl=
Hd(Kk);var Sk=Object.assign({},Kk),Kl=(delete Sk.order,delete Sk.detail,delete Sk.tooltip,Sk),Rk=Object.assign({},Kl);const Qk=(delete Rk.row,delete Rk.column,delete Rk.facet,Rk),gl="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var Ne=Object.assign({},gk);const ah=(delete Ne.x,delete Ne.y,delete Ne.x2,delete Ne.y2,delete Ne.latitude,delete Ne.longitude,delete Ne.latitude2,delete Ne.longitude2,delete Ne.theta,delete Ne.theta2,delete Ne.radius,delete Ne.radius2,Ne),Mg=Hd(ah),fg={x:1,y:1},Wg=
Hd(fg),lk={theta:1,radius:1},bh=Hd(lk);var Qh=Object.assign({},ah);const mj=(delete Qh.text,delete Qh.tooltip,delete Qh.href,delete Qh.url,delete Qh.description,delete Qh.detail,delete Qh.key,delete Qh.order,Qh),dk=Hd(mj),rh=Object.assign({},fg,lk,mj),Lj=Hd(rh),Ok={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Mk=Object.assign({},Ok);const dl=
(delete Mk.geoshape,Mk),ze=function(c,t){let L=c||0;return{level(ka){return arguments.length?(L=+ka,this):L},error(){1<=L&&x(t||"error","ERROR",arguments);return this},warn(){2<=L&&x(t||"warn","WARN",arguments);return this},info(){3<=L&&x(t||"log","INFO",arguments);return this},debug(){4<=L&&x(t||"log","DEBUG",arguments);return this}}}(2);let kj=ze;const Lk="january february march april may june july august september october november december".split(" "),ki=Lk.map(c=>c.substr(0,3)),Ci="sunday monday tuesday wednesday thursday friday saturday".split(" "),
mk=Ci.map(c=>c.substr(0,3)),Oj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},ok=Hd(Oj),hl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Bi=Hd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,
shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),jk={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},kk=["cornerRadius","cornerRadiusTopLeft",
"cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Cg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},ai={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal",
"bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ik={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Nj="linear log pow sqrt symlog time utc".split(" "),th=y(Nj),Ml=y(["linear","log","pow","sqrt","symlog"]),zk=y(["quantile","quantize","threshold"]),ol=Nj.concat(["quantile","quantize","threshold",
"sequential","identity"]),Jh=y(ol),nh=y(["ordinal","bin-ordinal","point","band"]);var wj=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const vk=(delete wj.type,delete wj.domain,delete wj.range,delete wj.rangeMax,delete wj.rangeMin,delete wj.scheme,wj),Ol=Hd(vk),Yg={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},q=Yg.arc,J=Yg.area,da=Yg.bar,Qa=Yg.image,ib=Yg.line,yb=Yg.point,Ob=Yg.rect,fc=Yg.rule,Fc=Yg.text,sd=Yg.tick,ve=Yg.trail,ff=Yg.circle,Ld=Yg.square,Ke=Yg.geoshape,gf=Hd(Yg);y(gf);const $e="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),cd=Hd({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Nc=Hd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),$c={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Bd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Jd=(c,t)=>{switch(t.fieldTitle){case "plain":return c.field;case "functional":{const {aggregate:L,
bin:ka,timeUnit:sa,field:Ba}=c;Da(L)?c="".concat(Ba," for argmax(").concat(L.argmax,")"):qa(L)?c="".concat(Ba," for argmin(").concat(L.argmin,")"):(c=Qb(sa),c=(c=L||(null===c||void 0===c?void 0:c.unit)||(null===c||void 0===c?void 0:c.maxbins)&&"timeunit"||pc(ka)&&"bin")?c.toUpperCase()+"("+Ba+")":Ba)}return c;default:return uf(c,t)}};let cf=Jd;const Ae={compatible:!0};class hf{constructor(c,t){this.name=c;this.run=t}hasMatchingType(c){return Na(c)?(c=c.mark,(Od(c)?c.type:c)===this.name):!1}}const Kf=
new hf("boxplot",Ec),xf=new hf("errorbar",Zc),Si=new hf("errorband",pd),vl={};Ad("boxplot",Ec,["box","median","outliers","rule","ticks"]);Ad("errorbar",Zc,["ticks","rule"]);Ad("errorband",pd,["band","borders"]);const Jm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],lm={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",
titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},mm={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},an=Hd(lm),bn=Hd(mm),hm=Hd({header:1,headerRow:1,headerColumn:1,
headerFacet:1}),nm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Em=["background","padding"],Fm=Hd({align:1,bounds:1,center:1,columns:1,spacing:1}),Gm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,
continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},
projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",
encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},zj="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),gm={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},fm={blue:zj[0],orange:zj[1],red:zj[2],teal:zj[3],green:zj[4],yellow:zj[5],purple:zj[6],pink:zj[7],
brown:zj[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Hm=[...Nc,...Ug,...hm,"background","padding","legend","lineBreak","scale","style","title","view"],Km=["view",...gf],Im="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Lm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class vn{map(c,t){return"facet"in c?this.mapFacet(c,t):"repeat"in c?this.mapRepeat(c,t):"hconcat"in c?this.mapHConcat(c,t):"vconcat"in c?this.mapVConcat(c,t):"concat"in c?this.mapConcat(c,t):this.mapLayerOrUnit(c,
t)}mapLayerOrUnit(c,t){if("layer"in c)return this.mapLayer(c,t);if(Na(c))return this.mapUnit(c,t);throw Error(Pc(c));}mapLayer(c,t){return Object.assign({},c,{layer:c.layer.map(L=>this.mapLayerOrUnit(L,t))})}mapHConcat(c,t){return Object.assign({},c,{hconcat:c.hconcat.map(L=>this.map(L,t))})}mapVConcat(c,t){return Object.assign({},c,{vconcat:c.vconcat.map(L=>this.map(L,t))})}mapConcat(c,t){var L=Object.assign({},c);c=c.concat;L=(delete L.concat,L);return Object.assign({},L,{concat:c.map(ka=>this.map(ka,
t))})}mapFacet(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}mapRepeat(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}}const Om={zero:1,center:1,normalize:1},Mm=new Set([q,da,J,fc,yb,ff,Ld,ib,Fc,sd]),Nm=new Set([da,J,q]);class wn{constructor(){jc(this,"name","path-overlay")}hasMatchingType(c,t){if(Na(c)){const {mark:L,encoding:ka}=c;c=Od(L)?L:{type:L};switch(c.type){case "line":case "rule":case "trail":return!!Qc(c,t[c.type],ka);case "area":return!!Qc(c,t[c.type],ka)||!!dd(c,
t[c.type])}}return!1}run(c,t,L){const {config:ka}=t;var sa=Object.assign({},c),Ba=c.selection;const cb=c.projection;var nb=c.mark;c=c.encoding;sa=(delete sa.selection,delete sa.projection,delete sa.mark,delete sa.encoding,sa);c=Ab(c,ka);nb=Od(nb)?nb:{type:nb};const Gb=Qc(nb,ka[nb.type],c),Nb="area"===nb.type&&dd(nb,ka[nb.type]);Ba=[Object.assign({},Ba?{selection:Ba}:{},{mark:ec(Object.assign({},"area"===nb.type&&void 0===nb.opacity&&void 0===nb.fillOpacity?{opacity:.7}:{},nb)),encoding:M(c,["shape"])})];
const lc=Rb(nb,c);let Yc=c;if(lc){const {fieldChannel:hd,offset:qd}=lc;Yc=Object.assign({},c,{[hd]:Object.assign({},c[hd],qd?{stack:qd}:{})})}Nb&&Ba.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"line"},O(nb,["clip","interpolate","tension","tooltip"]),Nb),encoding:Yc}));Gb&&Ba.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},O(nb,["clip","tooltip"]),Gb),encoding:Yc}));return L(Object.assign({},sa,{layer:Ba}),Object.assign({},
t,{config:Vb(ka)}))}}class xn{constructor(){jc(this,"name","RangeStep")}hasMatchingType(c){if(Na(c)&&c.encoding)for(const L of Wg){const ka=c.encoding[L];if(ka&&od(ka)){var t;if(null===ka||void 0===ka?0:null===(t=ka.scale)||void 0===t?0:t.rangeStep)return!0}}return!1}run(c){const t={};let L=Object.assign({},c.encoding);for(const nb of Wg){const Gb=Ua(nb);var ka=L[nb];if(ka&&od(ka)){var sa;if(null===ka||void 0===ka?0:null===(sa=ka.scale)||void 0===sa?0:sa.rangeStep){var Ba=Object.assign({},ka);ka=
ka.scale;Ba=(delete Ba.scale,Ba);var cb=Object.assign({},ka);cb=(delete cb.rangeStep,cb);t[Gb]={step:ka.rangeStep};Lb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');L=Object.assign({},L,{[nb]:Object.assign({},Ba,P(cb)?{}:{scale:cb})})}}}return Object.assign({},t,c,{encoding:L})}}class yn{constructor(){jc(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Na(c)){const {encoding:t,
mark:L}=c;if("line"===L)for(const ka of gl)if(c=Ga(ka),c=t[c],t[ka]&&($b(c)&&!Hc(c.bin)||gd(c)))return!0}return!1}run(c,t,L){var {encoding:ka}=c,sa=!!ka.x2;ka="Line mark is for continuous lines and thus cannot be used with ".concat(sa&&ka.y2?"x2 and y2":sa?"x2":"y2",". We will use the rule mark (line segments) instead.");Lb(ka);return L(Object.assign({},c,{mark:"rule"}),t)}}class zn extends vn{constructor(...c){super(...c);jc(this,"nonFacetUnitNormalizers",[Kf,xf,Si,new wn,new yn,new xn])}map(c,t){if(Na(c)){const L=
Sa(c.encoding,"row"),ka=Sa(c.encoding,"column"),sa=Sa(c.encoding,"facet");if(L||ka||sa)return this.mapFacetedUnit(c,t)}return super.map(c,t)}mapUnit(c,t){const {parentEncoding:L,parentProjection:ka}=t;var sa=zd(c.encoding,t.repeater);c=Object.assign({},c,sa?{encoding:sa}:{});if(L||ka)return this.mapUnitWithParentEncodingOrProjection(c,t);sa=this.mapLayerOrUnit.bind(this);for(const Ba of this.nonFacetUnitNormalizers)if(Ba.hasMatchingType(c,t.config))return Ba.run(c,t,sa);return c}mapRepeat(c,t){return!Je(c.repeat)&&
c.repeat.layer?this.mapLayerRepeat(c,t):this.mapNonLayerRepeat(c,t)}mapLayerRepeat(c,t){var L=Object.assign({},c);const ka=c.repeat,sa=c.spec;L=(delete L.repeat,delete L.spec,L);const {row:Ba,column:cb,layer:nb}=ka,{repeater:Gb={},repeaterPrefix:Nb=""}=t;return Ba||cb?this.mapRepeat(Object.assign({},c,{repeat:Object.assign({},Ba?{row:Ba}:{},cb?{column:cb}:{}),spec:{repeat:{layer:nb},spec:sa}}),t):Object.assign({},L,{layer:nb.map(lc=>{var Yc=Object.assign({},Gb,{layer:lc});lc=(sa.name||"")+Nb+"child__layer_".concat(V(lc));
Yc=this.mapLayerOrUnit(sa,Object.assign({},t,{repeater:Yc,repeaterPrefix:lc}));Yc.name=lc;return Yc})})}mapNonLayerRepeat(c,t){var L,ka=c,sa=Object.assign({},ka);const Ba=ka.repeat,cb=ka.spec;ka=ka.data;sa=(delete sa.repeat,delete sa.spec,delete sa.data,sa);!Je(Ba)&&c.columns&&(c=M(c,["columns"]),Lb(vd("repeat")));const nb=[],{repeater:Gb={},repeaterPrefix:Nb=""}=t,lc=!Je(Ba)&&Ba.row||[Gb?Gb.row:null],Yc=!Je(Ba)&&Ba.column||[Gb?Gb.column:null];var hd=Je(Ba)&&Ba||[Gb?Gb.repeat:null];for(const Md of hd)for(const Rd of lc)for(const Ee of Yc){var qd=
{repeat:Md,row:Rd,column:Ee,layer:Gb.layer};hd=(cb.name||"")+Nb+"child__"+(Je(Ba)?"".concat(V(Md)):(Ba.row?"row_".concat(V(Rd)):"")+(Ba.column?"column_".concat(V(Ee)):""));qd=this.map(cb,Object.assign({},t,{repeater:qd,repeaterPrefix:hd}));qd.name=hd;nb.push(M(qd,["data"]))}c=Je(Ba)?c.columns:Ba.column?Ba.column.length:1;return Object.assign({},{data:null!==(L=cb.data)&&void 0!==L?L:ka,align:"all"},sa,{columns:c,concat:nb})}mapFacet(c,t){const {facet:L}=c;xa(L)&&c.columns&&(c=M(c,["columns"]),Lb(vd("facet")));
return super.mapFacet(c,t)}mapUnitWithParentEncodingOrProjection(c,t){const {encoding:L,projection:ka}=c,{parentEncoding:sa,parentProjection:Ba,config:cb}=t,nb=ye({parentProjection:Ba,projection:ka});t=Sd({parentEncoding:sa,encoding:zd(L,t.repeater)});return this.mapUnit(Object.assign({},c,nb?{projection:nb}:{},t?{encoding:t}:{}),{config:cb})}mapFacetedUnit(c,t){var L=c.encoding,ka=Object.assign({},L),sa=L.row;const Ba=L.column;L=L.facet;const cb=(delete ka.row,delete ka.column,delete ka.facet,ka);
var nb=Object.assign({},c);ka=c.mark;const Gb=c.width,Nb=c.projection,lc=c.height,Yc=c.view;c=c.selection;nb=(delete nb.mark,delete nb.width,delete nb.projection,delete nb.height,delete nb.view,delete nb.selection,delete nb.encoding,nb);const {facetMapping:hd,layout:qd}=this.getFacetMappingAndLayout({row:sa,column:Ba,facet:L},t);sa=zd(cb,t.repeater);return this.mapFacet(Object.assign({},nb,qd,{facet:hd,spec:Object.assign({},Gb?{width:Gb}:{},lc?{height:lc}:{},Yc?{view:Yc}:{},Nb?{projection:Nb}:{},
{mark:ka,encoding:sa},c?{selection:c}:{})}),t)}getFacetMappingAndLayout(c,t){const {row:L,column:ka,facet:sa}=c;if(L||ka){sa&&(t=[...L?["row"]:[],...ka?["column"]:[]],t="Facet encoding dropped as ".concat(t.join(" and ")," ").concat(1<t.length?"are":"is"," also specified."),Lb(t));t={};var Ba={};for(var cb of["row","column"]){const lc=c[cb];if(lc){var nb=Object.assign({},lc);nb=(delete nb.align,delete nb.center,delete nb.spacing,delete nb.columns,nb);t[cb]=nb;for(var Gb of["align","center","spacing"])if(void 0!==
lc[Gb]){var Nb;Ba[Gb]=null!==(Nb=Ba[Gb])&&void 0!==Nb?Nb:{};Ba[Gb][cb]=lc[Gb]}}}return{facetMapping:t,layout:Ba}}Ba=Object.assign({},sa);c=sa.align;Nb=sa.center;cb=sa.spacing;Gb=sa.columns;Ba=(delete Ba.align,delete Ba.center,delete Ba.spacing,delete Ba.columns,Ba);t=(t=t.repeater)?xa(Ba)?ee(Ba,t):bd(Ba,t):Ba;return{facetMapping:t,layout:Object.assign({},c?{align:c}:{},Nb?{center:Nb}:{},cb?{spacing:cb}:{},Gb?{columns:Gb}:{})}}mapLayer(c,t){var L=Object.assign({},t),ka=t.parentEncoding;t=t.parentProjection;
L=(delete L.parentEncoding,delete L.parentProjection,L);var sa=Object.assign({},c);const Ba=c.encoding;c=c.projection;sa=(delete sa.encoding,delete sa.projection,sa);ka=Object.assign({},L,{parentEncoding:Sd({parentEncoding:ka,encoding:Ba,layer:!0}),parentProjection:ye({parentProjection:t,projection:c})});return super.mapLayer(sa,ka)}}const Pm=new zn;class Uj{constructor(c,t){c=void 0===c?{}:c;t=void 0===t?{}:t;this.explicit=c;this.implicit=t}clone(){return new Uj(rf(this.explicit),rf(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(c){return Ca(this.explicit[c],this.implicit[c])}getWithExplicit(c){return void 0!==this.explicit[c]?{explicit:!0,value:this.explicit[c]}:void 0!==this.implicit[c]?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,t){void 0!==t.value&&this.set(c,t.value,t.explicit)}set(c,t,L){delete this[L?"implicit":"explicit"][c];this[L?"explicit":"implicit"][c]=t;return this}copyKeyFromSplit(c,t){void 0!==t.explicit[c]?this.set(c,t.explicit[c],!0):
void 0!==t.implicit[c]&&this.set(c,t.implicit[c],!1)}copyKeyFromObject(c,t){void 0!==t[c]&&this.set(c,t[c],!0)}copyAll(c){for(const t of Hd(c.combine())){const L=c.getWithExplicit(t);this.setWithExplicit(t,L)}}}class sn extends Uj{constructor(c,t,L){c=void 0===c?{}:c;t=void 0===t?{}:t;L=void 0===L?!1:L;super(c,t);this.explicit=c;this.implicit=t;this.parseNothing=L}clone(){const c=super.clone();c.parseNothing=this.parseNothing;return c}}let zg;(function(c){c[c.Raw=0]="Raw";c[c.Main=1]="Main";c[c.Row=
2]="Row";c[c.Column=3]="Column";c[c.Lookup=4]="Lookup"})(zg||(zg={}));const Rm=/[[\]{}]/,Qm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let im,jm;const Sm={left:"x",center:"xc",right:"x2"},Tm={top:"y",middle:"yc",bottom:"y2"},Um=new Set(["aria"]),zm={has:c=>"interval"!==c.type&&c.nearest,parse:(c,t)=>{if(t.events)for(const L of t.events)L.markname=c.getName("voronoi")},marks:(c,t,L)=>{const {x:ka,y:sa}=t.project.hasChannel;t=c.mark;if(we(t))return Lb('The "nearest" transform is not supported for '.concat(t,
" marks.")),L;t={name:c.getName("voronoi"),type:"path",interactive:!0,from:{data:c.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},hk(c,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:ka||!sa?"datum.datum.x || 0":"0"},y:{expr:sa||!ka?"datum.datum.y || 0":"0"},size:[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]}]};let Ba=0,cb=!1;L.forEach((nb,Gb)=>{var Nb;nb=null!==(Nb=nb.name)&&
void 0!==Nb?Nb:"";nb===c.component.mark[0].name?Ba=Gb:0<=nb.indexOf("voronoi")&&(cb=!0)});cb||L.splice(Ba+1,0,t);return L}};class tg{constructor(c,t){this.debugName=t;jc(this,"_children",[]);jc(this,"_parent",null);jc(this,"_hash",void 0);c&&(this.parent=c)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(c){(this._parent=c)&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,t){-1<this._children.indexOf(c)?
Lb("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,c):this._children.push(c)}removeChild(c){c=this._children.indexOf(c);this._children.splice(c,1);return c}remove(){let c=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,c++)}insertAsParentOf(c){const t=c.parent;t.removeChild(this);this.parent=t;c.parent=this}swapWithParent(){const c=this._parent,t=c.parent;for(const L of this._children)L.parent=c;this._children=
[];c.removeChild(this);c.parent.removeChild(c);this.parent=t;c.parent=this}}class Eh extends tg{clone(){const c=new this.constructor;c.debugName="clone_"+this.debugName;c._source=this._source;c._name="clone_"+this._name;c.type=this.type;c.refCounts=this.refCounts;c.refCounts[c._name]=0;return c}constructor(c,t,L,ka){super(c,t);this.type=L;this.refCounts=ka;jc(this,"_source",void 0);jc(this,"_name",void 0);this._source=this._name=t;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=
0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(ua()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class yj extends tg{clone(){return new yj(null,rf(this.formula))}constructor(c,t){super(c);this.formula=t}static makeFromEncoding(c,t){const L=t.reduceFieldDef((ka,sa,Ba)=>{const {field:cb,timeUnit:nb}=sa,Gb=ng(t)?
t.encoding[Ja(Ba)]:void 0;Ba=ng(t)&&Cb(Ba,sa,Gb,t.stack,t.markDef,t.config);nb&&(sa=kd(sa,{forAs:!0}),ka[F({as:sa,field:cb,timeUnit:nb})]=Object.assign({},{as:sa,field:cb,timeUnit:nb},Ba?{band:!0}:{}));return ka},{});return P(L)?null:new yj(c,L)}static makeFromTransform(c,t){var L=Object.assign({},t);t=Object.assign({},L);L=L.timeUnit;t=(delete t.timeUnit,t);L=Qb(L);t=Object.assign({},t,{timeUnit:L});return new yj(c,{[F(t)]:t})}merge(c){this.formula=Object.assign({},this.formula);for(const t in c.formula)if(!this.formula[t]||
c.formula[t].band)this.formula[t]=c.formula[t];for(const t of c.children)c.removeChild(t),t.parent=this;c.remove()}removeFormulas(c){const t={};for(const L of fh(this.formula)){const [ka,sa]=L;c.has(sa.as)||(t[ka]=sa)}this.formula=t}producedFields(){return new Set(Tg(this.formula).map(c=>c.as))}dependentFields(){return new Set(Tg(this.formula).map(c=>c.field))}hash(){return"TimeUnit ".concat(F(this.formula))}assemble(){const c=[];for(const ka of Tg(this.formula)){const {field:sa,as:Ba,timeUnit:cb}=
ka;var t=Qb(cb),L=Object.assign({},t);const nb=t.unit;t=t.utc;L=(delete L.unit,delete L.utc,L);c.push(Object.assign({},{field:kb(sa),type:"timeunit"},nb?{units:Bc(nb)}:{},t?{timezone:"utc"}:{},L,{as:[Ba,"".concat(Ba,"_end")]}))}return c}}class An{constructor(...c){jc(this,"hasChannel",void 0);jc(this,"hasField",void 0);jc(this,"timeUnit",void 0);jc(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}}}const Am={has:c=>"single"===c.type&&"global"===c.resolve&&c.bind&&"scales"!==c.bind&&
!af(c.bind),parse:(c,t,L,ka)=>{ka.on||delete t.events;ka.clear||delete t.clear},topLevelSignals:(c,t,L)=>{const ka=t.name;c=t.project;const sa=t.bind,Ba=t.init&&t.init[0],cb=zm.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";c.items.forEach((nb,Gb)=>{const Nb=V("".concat(ka,"_").concat(nb.field));if(!L.filter(hd=>hd.name===Nb).length){var lc,Yc;L.unshift(Object.assign({},{name:Nb},Ba?{init:vh(Ba[Gb])}:{value:null},{on:t.events?[{events:t.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(cb,
"[").concat(n(nb.field),"] : null")}]:[],bind:null!==(lc=null!==(Yc=sa[nb.field])&&void 0!==Yc?Yc:sa[nb.channel])&&void 0!==lc?lc:sa}))}});return L},signals:(c,t,L)=>{const ka=t.name;var sa=t.project;c=L.filter(cb=>cb.name===ka+"_tuple")[0];t=ka+"_tuple_fields";sa=sa.items.map(cb=>V("".concat(ka,"_").concat(cb.field)));const Ba=sa.map(cb=>"".concat(cb," !\x3d\x3d null")).join(" \x26\x26 ");sa.length&&(c.update="".concat(Ba," ? {fields: ").concat(t,", values: [").concat(sa.join(", "),"]} : null"));
delete c.value;delete c.on;return L}},Bm={has:c=>"multi"===c.type&&!!c.toggle,signals:(c,t,L)=>L.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(c,t)=>{const L=t.name+"_tuple",ka=t.name+"_toggle";return"".concat(ka," ? null : ").concat(L,", ")+("global"===t.resolve?"".concat(ka," ? null : true, "):"".concat(ka," ? null : {unit: ").concat(Eg(c),"}, "))+"".concat(ka," ? ").concat(L," : null")}},Sj={has:c=>"interval"===c.type&&"global"===c.resolve&&c.bind&&
"scales"===c.bind,parse:(c,t)=>{const L=t.scales=[];for(const sa of t.project.items){var ka=sa.channel;if(!rh[ka])continue;const Ba=(ka=c.getScaleComponent(ka))?ka.get("type"):void 0;ka&&Ba in Jh?(ka.set("selectionExtent",{selection:t.name,field:sa.field},!0),L.push(sa)):Lb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(c,t,L)=>{const ka=t.scales.filter(Ba=>0===L.filter(cb=>cb.name===Ba.signals.data).length);if(!c.parent||oi(c)||0===
ka.length)return L;c=L.filter(Ba=>Ba.name===t.name)[0];let sa=c.update;if(0<=sa.indexOf("vlSelectionResolve"))c.update="{".concat(ka.map(Ba=>"".concat(n(Ba.field),": ").concat(Ba.signals.data)).join(", "),"}");else{for(const Ba of ka){const cb="".concat(n(Ba.field),": ").concat(Ba.signals.data);0>sa.indexOf(cb)&&(sa="".concat(sa.substring(0,sa.length-1),", ").concat(cb,"}"))}c.update=sa}return L.concat(ka.map(Ba=>({name:Ba.signals.data})))},signals:(c,t,L)=>{if(c.parent&&!oi(c))for(const ka of t.scales)c=
L.filter(sa=>sa.name===ka.signals.data)[0],c.push="outer",delete c.value,delete c.update;return L}},km={has:c=>{const t="global"===c.resolve&&c.bind&&af(c.bind);c=1===c.project.items.length&&"_vgsid_"!==c.project.items[0].field;t&&!c&&Lb("Legend bindings are only supported for selections over an individual field or encoding channel.");return t&&c},parse:(c,t,L,ka)=>{ka.on||delete t.events;ka.clear||delete t.clear;if(ka.on||ka.clear)for(const Ba of t.events){var sa;Ba.filter=d(null!==(sa=Ba.filter)&&
void 0!==sa?sa:[]);0>Ba.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&Ba.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}c=Wa(t.bind)?t.bind.legend:"click";c=e(c)?vf(c,"view"):d(c);t.bind={legend:{merge:c}}},topLevelSignals:(c,t,L)=>{c=t.name;const ka=Wa(t.bind)&&t.bind.legend,sa=cb=>nb=>{nb=rf(nb);nb.markname=cb;return nb};for(const cb of t.project.items){if(!cb.hasLegend)continue;var Ba="".concat(V(cb.field),"_legend");const nb=
"".concat(c,"_").concat(Ba);0===L.filter(Gb=>Gb.name===nb).length&&(Ba=ka.merge.map(sa("".concat(Ba,"_symbols"))).concat(ka.merge.map(sa("".concat(Ba,"_labels")))).concat(ka.merge.map(sa("".concat(Ba,"_entries")))),L.unshift(Object.assign({},{name:nb},t.init?{}:{value:null},{on:[{events:Ba,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:ka.merge,update:"!event.item || !datum ? null : ".concat(nb),force:!0}]})))}return L},signals:(c,t,L)=>{const ka=t.name;var sa=t.project;
c=L.find(nb=>nb.name===ka+"_tuple");var Ba=ka+"_tuple_fields";sa=sa.items.filter(nb=>nb.hasLegend).map(nb=>V("".concat(ka,"_").concat(V(nb.field),"_legend")));const cb=sa.map(nb=>"".concat(nb," !\x3d\x3d null")).join(" \x26\x26 ");Ba="".concat(cb," ? {fields: ").concat(Ba,", values: [").concat(sa.join(", "),"]} : null");t.events&&0<sa.length?c.on.push({events:sa.map(nb=>({signal:nb})),update:Ba}):0<sa.length&&(c.update=Ba,delete c.value,delete c.on);c=L.find(nb=>nb.name===ka+"_toggle");Ba=Wa(t.bind)&&
t.bind.legend;c&&(t.events?c.on.push(Object.assign({},c.on[0],{events:Ba})):c.on[0].events=Ba);return L}},Vm=[{has:()=>!0,parse:(c,t,L)=>{var ka;const sa=t.name,Ba=null!==(ka=t.project)&&void 0!==ka?ka:t.project=new An,cb={};ka={};const nb=new Set,Gb=(hd,qd)=>{hd="visual"===qd?hd.channel:hd.field;let Md=V("".concat(sa,"_").concat(hd));for(let Rd=1;nb.has(Md);Rd++)Md=V("".concat(sa,"_").concat(hd,"_").concat(Rd));nb.add(Md);return{[qd]:Md}};if(!L.fields&&!L.encodings){const hd=c.config.selection[L.type];
if(L.init)for(const qd of d(L.init))for(const Md of Hd(qd))Qk[Md]?(L.encodings||(L.encodings=[])).push(Md):"interval"===L.type?(Lb('Interval selections should be initialized using "x" and/or "y" keys.'),L.encodings=hd.encodings):(L.fields||(L.fields=[])).push(Md);else L.encodings=hd.encodings,L.fields=hd.fields}for(var Nb of null!==(lc=L.fields)&&void 0!==lc?lc:[]){var lc;lc={type:"E",field:Nb};lc.signals=Object.assign({},Gb(lc,"data"));Ba.items.push(lc);Ba.hasField[Nb]=lc}for(const hd of null!==
(Yc=L.encodings)&&void 0!==Yc?Yc:[]){var Yc;(Nb=c.fieldDef(hd))?(Yc=Nb.field,Nb.aggregate?Lb(ge(hd,Nb.aggregate)):Yc?(Nb.timeUnit&&(Yc=c.vgField(hd),lc={timeUnit:Nb.timeUnit,as:Yc,field:Nb.field},ka[F(lc)]=lc),cb[Yc]||(lc="E","interval"===t.type?c.getScaleComponent(hd).get("type")in Jh&&(lc="R"):Nb.bin&&(lc="R-RE"),Nb={field:Yc,channel:hd,type:lc},Nb.signals=Object.assign({},Gb(Nb,"data"),Gb(Nb,"visual")),Ba.items.push(cb[Yc]=Nb),Ba.hasField[Yc]=Ba.hasChannel[hd]=cb[Yc])):Lb(Fd(hd))):Lb(Fd(hd))}L.init&&
(c=hd=>Ba.items.map(qd=>void 0!==hd[qd.channel]?hd[qd.channel]:hd[qd.field]),"interval"===L.type?t.init=c(L.init):(L=d(L.init),t.init=L.map(c)));P(ka)||(Ba.timeUnit=new yj(null,ka))},signals:(c,t,L)=>{const ka=t.name+"_tuple_fields";return 0<L.filter(sa=>sa.name===ka).length?L:L.concat({name:ka,value:t.project.items.map(sa=>{sa=Object.assign({},sa);sa=(delete sa.signals,delete sa.hasLegend,sa);sa.field=kb(sa.field);return sa})})}},Bm,Sj,km,{has:c=>"interval"===c.type&&c.translate,signals:(c,t,L)=>
{const ka=t.name,sa=Sj.has(t),Ba=ka+"_translate_anchor",{x:cb,y:nb}=t.project.hasChannel;let Gb=vf(t.translate,"scope");sa||(Gb=Gb.map(Nb=>(Nb.between[0].markname=ka+"_brush",Nb)));L.push({name:Ba,value:{},on:[{events:Gb.map(Nb=>Nb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==cb?", extent_x: "+(sa?Wi(c,"x"):"slice(".concat(cb.signals.visual,")")):"")+(void 0!==nb?", extent_y: "+(sa?Wi(c,"y"):"slice(".concat(nb.signals.visual,")")):"")+"}"}]},{name:ka+"_translate_delta",value:{},on:[{events:Gb,
update:"{x: ".concat(Ba,".x - x(unit), y: ").concat(Ba,".y - y(unit)}")}]});void 0!==cb&&lg(c,t,cb,"width",L);void 0!==nb&&lg(c,t,nb,"height",L);return L}},{has:c=>"interval"===c.type&&c.zoom,signals:(c,t,L)=>{const ka=t.name,sa=Sj.has(t),Ba=ka+"_zoom_delta",{x:cb,y:nb}=t.project.hasChannel,Gb=n(c.scaleName("x")),Nb=n(c.scaleName("y"));let lc=vf(t.zoom,"scope");sa||(lc=lc.map(Yc=>(Yc.markname=ka+"_brush",Yc)));L.push({name:ka+"_zoom_anchor",on:[{events:lc,update:sa?"{"+[Gb?"x: invert(".concat(Gb,
", x(unit))"):"",Nb?"y: invert(".concat(Nb,", y(unit))"):""].filter(Yc=>!!Yc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:Ba,on:[{events:lc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==cb&&Dg(c,t,cb,"width",L);void 0!==nb&&Dg(c,t,nb,"height",L);return L}},Am,zm,{has:c=>void 0!==c.clear&&!1!==c.clear,parse:(c,t,L)=>{L.clear&&(t.clear=e(L.clear)?vf(L.clear,"scope"):L.clear)},topLevelSignals:(c,t,L)=>{if(Am.has(t))for(const ka of t.project.items)c=L.findIndex(sa=>
sa.name===V("".concat(t.name,"_").concat(ka.field))),-1!==c&&L[c].on.push({events:t.clear,update:"null"});return L},signals:(c,t,L)=>{function ka(sa,Ba){-1!==sa&&L[sa].on&&L[sa].on.push({events:t.clear,update:Ba})}if("interval"===t.type)for(const sa of t.project.items)c=L.findIndex(Ba=>Ba.name===sa.signals.visual),ka(c,"[0, 0]"),-1===c&&(c=L.findIndex(Ba=>Ba.name===sa.signals.data),ka(c,"null"));else c=L.findIndex(sa=>sa.name===t.name+"_tuple"),ka(c,"null"),Bm.has(t)&&(c=L.findIndex(sa=>sa.name===
t.name+"_toggle"),ka(c,"false"));return L}}],Wm={single:{signals:wg,modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"true":"{unit: ".concat(Eg(c),"}"))},multi:{signals:wg,modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"null":"{unit: ".concat(Eg(c),"}"))},interval:{signals:(c,t)=>{const L=t.name;var ka=L+"_tuple_fields",sa=Sj.has(t);const Ba=[],cb=[],nb=[];if(t.translate&&!sa){const Gb="!event.item || event.item.mark.name !\x3d\x3d ".concat(n(L+"_brush"));Ri(t,(Nb,lc)=>{var Yc;
lc=d(null!==(Yc=lc.between[0].filter)&&void 0!==Yc?Yc:lc.between[0].filter=[]);0>lc.indexOf(Gb)&&lc.push(Gb);return Nb})}t.project.items.forEach((Gb,Nb)=>{const lc=Gb.channel;if("x"!==lc&&"y"!==lc)Lb("Interval selections only support x and y encoding channels.");else{Nb=Th(c,t,Gb,t.init?t.init[Nb]:null);var Yc=Gb.signals.data;Gb=Gb.signals.visual;var hd=n(c.scaleName(lc)),qd=c.getScaleComponent(lc).get("type")in Jh?"+":"";Ba.push(...Nb);cb.push(Yc);nb.push({scaleName:c.scaleName(lc),expr:"(!isArray(".concat(Yc,
") || ")+"(".concat(qd,"invert(").concat(hd,", ").concat(Gb,")[0] \x3d\x3d\x3d ").concat(qd).concat(Yc,"[0] \x26\x26 ")+"".concat(qd,"invert(").concat(hd,", ").concat(Gb,")[1] \x3d\x3d\x3d ").concat(qd).concat(Yc,"[1]))")})}});sa||Ba.push({name:L+"_scale_trigger",value:{},on:[{events:nb.map(Gb=>({scale:Gb.scaleName})),update:nb.map(Gb=>Gb.expr).join(" \x26\x26 ")+" ? ".concat(L+"_scale_trigger"," : {}")}]});sa=t.init;ka="unit: ".concat(Eg(c),", fields: ").concat(ka,", values");return Ba.concat(Object.assign({},
{name:L+"_tuple"},sa?{init:"{".concat(ka,": ").concat(vh(sa),"}")}:{},{on:[{events:[{signal:cb.join(" || ")}],update:cb.join(" \x26\x26 ")+" ? {".concat(ka,": [").concat(cb,"]} : null")}]}))},modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"true":"{unit: ".concat(Eg(c),"}")),marks:(c,t,L)=>{const ka=t.name,{x:sa,y:Ba}=t.project.hasChannel,cb=sa&&sa.signals.visual,nb=Ba&&Ba.signals.visual;var Gb="data(".concat(n(t.name+"_store"),")");if(Sj.has(t))return L;const Nb={x:void 0!==sa?{signal:"".concat(cb,
"[0]")}:{value:0},y:void 0!==Ba?{signal:"".concat(nb,"[0]")}:{value:0},x2:void 0!==sa?{signal:"".concat(cb,"[1]")}:{field:{group:"width"}},y2:void 0!==Ba?{signal:"".concat(nb,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve)for(var lc of Hd(Nb))Nb[lc]=[Object.assign({},{test:"".concat(Gb,".length \x26\x26 ").concat(Gb,"[0].unit \x3d\x3d\x3d ").concat(Eg(c))},Nb[lc]),{value:0}];lc=t.mark;Gb=Object.assign({},lc);c=lc.fill;t=lc.fillOpacity;lc=lc.cursor;const Yc=(delete Gb.fill,delete Gb.fillOpacity,
delete Gb.cursor,Gb);Gb=Hd(Yc).reduce((hd,qd)=>{hd[qd]=[{test:[void 0!==sa&&"".concat(cb,"[0] !\x3d\x3d ").concat(cb,"[1]"),void 0!==Ba&&"".concat(nb,"[0] !\x3d\x3d ").concat(nb,"[1]")].filter(Md=>Md).join(" \x26\x26 "),value:Yc[qd]},{value:null}];return hd},{});return[{name:ka+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:t}},update:Nb}},...L,{name:ka+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},lc?{cursor:{value:lc}}:{},{fill:{value:"transparent"}}),
update:Object.assign({},Nb,Gb)}}]}}};eh.prototype.visit=function(c){let t,L,ka;if(c(this))return 1;t=Fi(this);L=0;for(ka=t.length;L<ka;++L)if(t[L].visit(c))return 1};var Me,yd,uh,ig,Xm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ym=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Zm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},$m={"if":1};class kl extends tg{clone(){return new kl(null,
this.model,rf(this.filter))}constructor(c,t,L){super(c);this.model=t;this.filter=L;jc(this,"expr",void 0);jc(this,"_dependentFields",void 0);this.expr=Kh(this.model,this.filter,this);this._dependentFields=wh(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const wm={scale:c=>{var {model:t,channel:L}=c;return t.scaleName(L)},format:c=>{var {fieldOrDatumDef:t,config:L,axis:ka}=
c;const {format:sa,formatType:Ba}=ka;return ue(t,t.type,sa,Ba,L,!0)},formatType:c=>{var {axis:t,fieldOrDatumDef:L,scaleType:ka}=c;({formatType:c}=t);return lf(c,L,ka)},grid:c=>{var {fieldOrDatumDef:t,axis:L,scaleType:ka}=c;if($b(t)&&Hc(t.bin))return!1;var sa;return null!==(sa=L.grid)&&void 0!==sa?sa:!(ka in nh)&&$b(t)&&!pc(null===t||void 0===t?void 0:t.bin)},gridScale:c=>{var {model:t,channel:L}=c;c="x"===L?"y":"x";c=t.getScaleComponent(c)?t.scaleName(c):void 0;return c},labelAlign:c=>{var {axis:t,
labelAngle:L,orient:ka,channel:sa}=c;return t.labelAlign||ag(L,ka,sa)},labelAngle:c=>{({labelAngle:c}=c);return c},labelBaseline:c=>{var {axis:t,labelAngle:L,orient:ka,channel:sa}=c;return t.labelBaseline||Di(L,ka,sa)},labelFlush:c=>{var {axis:t,fieldOrDatumDef:L,channel:ka}=c,sa;c=null!==(sa=t.labelFlush)&&void 0!==sa?sa:"x"===ka&&G(["quantitative","temporal"],L.type)?!0:void 0;return c},labelOverlap:c=>{var {axis:t,fieldOrDatumDef:L,scaleType:ka}=c,sa;if(null!==(sa=t.labelOverlap)&&void 0!==sa)c=
sa;else{c=L.type;sa=$b(L)&&!!L.timeUnit;var Ba=$b(L)?L.sort:void 0;c=sa&&!v(Ba)||"nominal"!==c&&"ordinal"!==c?"log"===ka||"symlog"===ka?"greedy":!0:void 0}return c},orient:c=>{({orient:c}=c);return c},tickCount:c=>{var {channel:t,model:L,axis:ka,fieldOrDatumDef:sa,scaleType:Ba}=c,cb;c=(c="x"===t?"width":"y"===t?"height":void 0)?L.getSizeSignalRef(c):void 0;if(null===(cb=ka.tickCount)||void 0===cb)a:{var {fieldOrDatumDef:nb,scaleType:Gb,size:Nb,values:lc}={fieldOrDatumDef:sa,scaleType:Ba,size:c,values:ka.values};
if(lc||Gb in nh||"log"===Gb)cb=void 0;else{if($b(nb)){var Yc;if(pc(nb.bin)){cb={signal:"ceil(".concat(Nb.signal,"/10)")};break a}if(nb.timeUnit&&G(["month","hours","day","quarter"],null===(Yc=Qb(nb.timeUnit))||void 0===Yc?void 0:Yc.unit)){cb=void 0;break a}}cb={signal:"ceil(".concat(Nb.signal,"/40)")}}}return cb},title:c=>{var {axis:t,model:L,channel:ka}=c;if(void 0!==t.title)return t.title;c=Lh(L,ka);if(void 0!==c)return c;c=L.typedFieldDef(ka);const sa=L.fieldDef("x"===ka?"x2":"y2");return jg(c?
[Ea(c)]:[],$b(sa)?[Ea(sa)]:[])},values:c=>{var {axis:t,fieldOrDatumDef:L}=c;c=t.values;c=Je(c)?Wc(L,c):Dc(c)?c:void 0;return c},zindex:c=>{var {axis:t,fieldOrDatumDef:L,mark:ka}=c,sa;c=null!==(sa=t.zindex)&&void 0!==sa?sa:"rect"===ka&&We(L)?1:0;return c}};class ml extends tg{clone(){return new ml(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t;jc(this,"_dependentFields",void 0);this._dependentFields=wh(this.transform.calculate)}static parseAllForSortIndex(c,t){t.forEachFieldDef((L,
ka)=>{if(Qd(L)&&yc(L.sort)){const {field:Ba,timeUnit:cb}=L;var sa=L.sort;sa=sa.map((nb,Gb)=>"".concat(Ze({field:Ba,timeUnit:cb,equal:nb})," ? ").concat(Gb," : ")).join("")+sa.length;c=new ml(c,{calculate:sa,as:oh(L,ka,{forAs:!0})})}});return c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(F(this.transform))}}const Zl=["row","column"],
Ql=["header","footer"],Bn={column:{start:0,end:1},row:{start:1,end:0}},Cn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,
labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},
{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),om=Hd(Cn);class cn extends Uj{}const qm={symbols:function(c,t){var {fieldOrDatumDef:L,model:ka,channel:sa,legendCmpt:Ba,legendType:cb}=t,nb,Gb,Nb,lc;if("symbol"===cb){var {markDef:Yc,encoding:hd,config:qd,mark:Md}=ka,Rd=Yc.filled&&"trail"!==Md;t=Object.assign({},Qe({},ka,$e),kh(ka,{filled:Rd}));var Ee=null!==(nb=Ba.get("symbolOpacity"))&&void 0!==nb?nb:qd.legend.symbolOpacity;nb=null!==
(Gb=Ba.get("symbolFillColor"))&&void 0!==Gb?Gb:qd.legend.symbolFillColor;Gb=null!==(Nb=Ba.get("symbolStrokeColor"))&&void 0!==Nb?Nb:qd.legend.symbolStrokeColor;Nb=void 0===Ee?null!==(lc=rk(hd.opacity))&&void 0!==lc?lc:Yc.opacity:void 0;if(t.fill)if("fill"===sa||Rd&&"color"===sa)delete t.fill;else if(t.fill.field)if(nb)delete t.fill;else{var Hf;t.fill=$d(null!==(Hf=qd.legend.symbolBaseFillColor)&&void 0!==Hf?Hf:"black");t.fillOpacity=$d(null!==Nb&&void 0!==Nb?Nb:1)}else if(Je(t.fill)){var se,Ef,Yd;
if(lc=null!==(se=null!==(Ef=Oh(null!==(Yd=hd.fill)&&void 0!==Yd?Yd:hd.color))&&void 0!==Ef?Ef:Yc.fill)&&void 0!==se?se:Rd&&Yc.color)t.fill=$d(lc)}t.stroke&&("stroke"===sa||!Rd&&"color"===sa?delete t.stroke:t.stroke.field||Gb?delete t.stroke:Je(t.stroke)&&(se=Ca(Oh(hd.stroke||hd.color),Yc.stroke,Rd?Yc.color:void 0))&&(t.stroke={value:se}));"opacity"!==sa&&((se=$b(L)&&vi(ka,Ba,L))?t.opacity=[Object.assign({},{test:se},$d(null!==Nb&&void 0!==Nb?Nb:1)),$d(qd.legend.unselectedOpacity)]:Nb&&(t.opacity=
$d(Nb)));t=Object.assign({},t,c);return P(t)?void 0:t}},gradient:function(c,t){var {model:L,legendType:ka,legendCmpt:sa}=t,Ba;if("gradient"===ka){var {config:cb,markDef:nb,encoding:Gb}=L;t={};var Nb=void 0===(null!==(Ba=sa.get("gradientOpacity"))&&void 0!==Ba?Ba:cb.legend.gradientOpacity)?rk(Gb.opacity)||nb.opacity:void 0;Nb&&(t.opacity=$d(Nb));t=Object.assign({},t,c);return P(t)?void 0:t}},labels:function(c,t){var {fieldOrDatumDef:L,model:ka,channel:sa,legendCmpt:Ba}=t;t=ka.legend(sa)||{};const cb=
ka.config;var nb=$b(L)?vi(ka,Ba,L):void 0;nb=nb?[{test:nb,value:1},{value:cb.legend.unselectedOpacity}]:void 0;const {format:Gb,formatType:Nb}=t;t=Gc(Nb)?Fe({fieldOrDatumDef:L,field:"datum.value",format:Gb,formatType:Nb,config:cb}):void 0;c=Object.assign({},nb?{opacity:nb}:{},t?{text:t}:{},c);return P(c)?void 0:c},entries:function(c,t){({legendCmpt:t}=t);t=t.get("selections");return(null===t||void 0===t?0:t.length)?Object.assign({},c,{fill:{value:"transparent"}}):c}},pm={direction:c=>{({direction:c}=
c);return c},format:c=>{var {fieldOrDatumDef:t,legend:L,config:ka}=c;const {format:sa,formatType:Ba}=L;return ue(t,t.type,sa,Ba,ka,!1)},formatType:c=>{var {legend:t,fieldOrDatumDef:L,scaleType:ka}=c;({formatType:c}=t);return lf(c,L,ka)},gradientLength:c=>{var t,L;const {legend:ka,legendConfig:sa}=c;if(null!==(t=null!==(L=ka.gradientLength)&&void 0!==L?L:sa.gradientLength)&&void 0!==t)c=t;else{{var {legendConfig:Ba,model:cb,direction:nb,orient:Gb,scaleType:Nb}=c;const {gradientHorizontalMaxLength:lc,
gradientHorizontalMinLength:Yc,gradientVerticalMaxLength:hd,gradientVerticalMinLength:qd}=Ba;c=Nb in th?"horizontal"===nb?"top"===Gb||"bottom"===Gb?$i(cb,"width",Yc,lc):Yc:$i(cb,"height",qd,hd):void 0}}return c},labelOverlap:c=>{var {legend:t,legendConfig:L,scaleType:ka}=c,sa,Ba;c=null!==(sa=null!==(Ba=t.labelOverlap)&&void 0!==Ba?Ba:L.labelOverlap)&&void 0!==sa?sa:G(["quantile","threshold","log","symlog"],ka)?"greedy":void 0;return c},symbolType:c=>{var {legend:t,markDef:L,channel:ka,encoding:sa}=
c,Ba;if(null!==(Ba=t.symbolType)&&void 0!==Ba)var cb=Ba;else a:{c=L.type;Ba=L.shape;if("shape"!==ka&&(Ba=null!==(cb=Oh(sa.shape))&&void 0!==cb?cb:Ba)){cb=Ba;break a}switch(c){case "bar":case "rect":case "image":case "square":cb="square";break a;case "line":case "trail":case "rule":cb="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":cb="circle";break a}cb=void 0}return cb},title:c=>{var {fieldOrDatumDef:t,config:L}=c;return mf(t,L,{allowDisabling:!0})},
type:c=>{var {legendType:t,scaleType:L,channel:ka}=c;if($a(ka)&&L in th){if("gradient"===t)return}else if("symbol"===t)return;return t},values:c=>{var {fieldOrDatumDef:t,legend:L}=c;c=L.values;c=Je(c)?Wc(t,c):Dc(c)?c:void 0;return c}},dn="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class rm extends Uj{constructor(c,t,L,ka){super(Object.assign({},t),{name:c});this.specifiedProjection=t;this.size=
L;this.data=ka;jc(this,"merged",!1)}get isFit(){return!!this.data}}class xj extends tg{clone(){return new xj(null,rf(this.bins))}constructor(c,t){super(c);this.bins=t}static makeFromEncoding(c,t){const L=t.reduceFieldDef((ka,sa,Ba)=>{if(Id(sa)&&pc(sa.bin)){const {key:cb,binComponent:nb}=Qg(sa,sa.bin,t);ka[cb]=Object.assign({},nb,ka[cb],Uk(t,sa,Ba,t.config))}return ka},{});return P(L)?null:new xj(c,L)}static makeFromTransform(c,t,L){const {key:ka,binComponent:sa}=Qg(t,t.bin,L);return new xj(c,{[ka]:sa})}merge(c,
t){for(const L of Hd(c.bins))L in this.bins?(t(c.bins[L].signal,this.bins[L].signal),this.bins[L].as=ja([...this.bins[L].as,...c.bins[L].as],F)):this.bins[L]=c.bins[L];for(const L of c.children)c.removeChild(L),L.parent=this;c.remove()}producedFields(){return new Set(Tg(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Tg(this.bins).map(c=>c.field))}hash(){return"Bin ".concat(F(this.bins))}assemble(){return Tg(this.bins).flatMap(c=>{const t=[],[L,...ka]=c.as;var sa=c.bin,Ba=Object.assign({},
sa);sa=sa.extent;Ba=(delete Ba.extent,Ba);Ba=Object.assign({},{type:"bin",field:kb(c.field),as:L,signal:c.signal},mb(sa)?{extent:null}:{extent:sa},c.span?{span:{signal:"span(".concat(c.span,")")}}:{},Ba);!sa&&c.extentSignal&&(t.push({type:"extent",field:kb(c.field),signal:c.extentSignal}),Ba.extent={signal:c.extentSignal});t.push(Ba);for(const cb of ka)for(sa=0;2>sa;sa++)t.push({type:"formula",expr:kd({field:L[sa]},{expr:"datum"}),as:cb[sa]});c.formula&&t.push({type:"formula",expr:c.formula,as:c.formulaAs});
return t})}}class cj extends tg{clone(){return new cj(null,new Set(this.dimensions),rf(this.measures))}constructor(c,t,L){super(c);this.dimensions=t;this.measures=L}get groupBy(){return this.dimensions}static makeFromEncoding(c,t){let L=!1;t.forEachFieldDef(Ba=>{Ba.aggregate&&(L=!0)});const ka={},sa=new Set;if(!L)return null;t.forEachFieldDef((Ba,cb)=>{const {aggregate:nb,field:Gb}=Ba;if(nb)if("count"===nb){var Nb;ka["*"]=null!==(Nb=ka["*"])&&void 0!==Nb?Nb:{};ka["*"].count=new Set([kd(Ba,{forAs:!0})])}else{if(qa(nb)||
Da(nb)){var lc;Ba=qa(nb)?"argmin":"argmax";Nb=nb[Ba];ka[Nb]=null!==(lc=ka[Nb])&&void 0!==lc?lc:{};ka[Nb][Ba]=new Set([kd({op:Ba,field:Nb},{forAs:!0})])}else{var Yc;ka[Gb]=null!==(Yc=ka[Gb])&&void 0!==Yc?Yc:{};ka[Gb][nb]=new Set([kd(Ba,{forAs:!0})])}if(rh[cb]&&"unaggregated"===t.scaleDomain(cb)){var hd;ka[Gb]=null!==(hd=ka[Gb])&&void 0!==hd?hd:{};ka[Gb].min=new Set([kd({field:Gb,aggregate:"min"},{forAs:!0})]);ka[Gb].max=new Set([kd({field:Gb,aggregate:"max"},{forAs:!0})])}}else lc=ng(t)?t.encoding[Ja(cb)]:
void 0,Id(Ba)&&ng(t)&&Cb(cb,Ba,lc,t.stack,t.markDef,t.config)?(sa.add(kd(Ba,{})),sa.add(kd(Ba,{suffix:"end"})),Ba.bin&&nd(Ba,cb)&&sa.add(kd(Ba,{binSuffix:"range"}))):cb in cl?(cb=db(cb),sa.add(t.getName(cb))):sa.add(kd(Ba))});return 0===sa.size+Hd(ka).length?null:new cj(c,sa,ka)}static makeFromTransform(c,t){const L=new Set,ka={};for(const nb of t.aggregate){const {op:Gb,field:Nb,as:lc}=nb;if(Gb)if("count"===Gb){var sa;ka["*"]=null!==(sa=ka["*"])&&void 0!==sa?sa:{};ka["*"].count=new Set([lc?lc:kd(nb,
{forAs:!0})])}else{var Ba;ka[Nb]=null!==(Ba=ka[Nb])&&void 0!==Ba?Ba:{};ka[Nb][Gb]=new Set([lc?lc:kd(nb,{forAs:!0})])}}for(const nb of null!==(cb=t.groupby)&&void 0!==cb?cb:[]){var cb;L.add(nb)}return 0===L.size+Hd(ka).length?null:new cj(c,L,ka)}merge(c){if(fa(this.dimensions,c.dimensions)){var t=this.measures;c=c.measures;for(const ka of Hd(c)){const sa=c[ka];for(const Ba of Hd(sa))if(ka in t){var L;t[ka][Ba]=new Set([...null!==(L=t[ka][Ba])&&void 0!==L?L:[],...sa[Ba]])}else t[ka]={[Ba]:sa[Ba]}}return!0}kj.debug(...["different dimensions, cannot merge"]);
return!1}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Hd(this.measures)])}producedFields(){const c=new Set;for(const t of Hd(this.measures))for(const L of Hd(this.measures[t])){const ka=this.measures[t][L];0===ka.size?c.add("".concat(L,"_").concat(t)):ka.forEach(c.add,c)}return c}hash(){return"Aggregate ".concat(F({dimensions:this.dimensions,measures:this.measures}))}assemble(){const c=[],t=[],L=[];for(const ka of Hd(this.measures))for(const sa of Hd(this.measures[ka]))for(const Ba of this.measures[ka][sa])L.push(Ba),
c.push(sa),t.push("*"===ka?null:kb(ka));return{type:"aggregate",groupby:[...this.dimensions].map(kb),ops:c,fields:t,as:L}}}class Wk extends tg{constructor(c,t,L,ka){super(c);this.model=t;this.name=L;this.data=ka;jc(this,"column",void 0);jc(this,"row",void 0);jc(this,"facet",void 0);jc(this,"childModel",void 0);for(const sa of zh)if(c=t.facet[sa]){const {bin:Ba,sort:cb}=c;this[sa]=Object.assign({},{name:t.getName("".concat(sa,"_domain")),fields:[kd(c),...pc(Ba)?[kd(c,{binSuffix:"end"})]:[]]},qe(cb)?
{sortField:cb}:Je(cb)?{sortIndexField:oh(c,sa)}:{})}this.childModel=t.child}hash(){let c="Facet";for(const t of zh)this[t]&&(c+=" ".concat(t.charAt(0),":").concat(F(this[t])));return c}get fields(){const c=[];for(const L of zh){var t;(null===(t=this[L])||void 0===t?0:t.fields)&&c.push(...this[L].fields)}return c}dependentFields(){const c=new Set(this.fields);for(const t of zh)this[t]&&(this[t].sortField&&c.add(this[t].sortField.field),this[t].sortIndexField&&c.add(this[t].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const c=
{};for(const ka of Wg){var t=this.childModel.component.scales[ka];if(t&&!t.merged){var L=t.get("type");t=t.get("range");L in nh&&uc(t)&&(L=Af(this.childModel,ka),(L=cg(L))?c[ka]=L:Lb(Lc(ka)))}}return c}assembleRowColumnHeaderData(c,t,L){const ka={row:"y",column:"x"}[c],sa=[],Ba=[],cb=[];L&&L[ka]&&(t?(sa.push("distinct_".concat(L[ka])),Ba.push("max")):(sa.push(L[ka]),Ba.push("distinct")),cb.push("distinct_".concat(L[ka])));const {sortField:nb,sortIndexField:Gb}=this[c];if(nb){const {op:Nb="min",field:lc}=
nb;sa.push(lc);Ba.push(Nb);cb.push(kd(nb,{forAs:!0}))}else Gb&&(sa.push(Gb),Ba.push("max"),cb.push(Gb));return{name:this[c].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[c].fields},sa.length?{fields:sa,ops:Ba,as:cb}:{})]}}assembleFacetHeaderData(c){const {columns:t}=this.model.layout,{layoutHeaders:L}=this.model.component,ka=[],sa={};for(const lc of Zl){for(const Yc of Ql){var Ba,cb=null!==(Ba=L[lc]&&L[lc][Yc])&&void 0!==Ba?Ba:[];for(const hd of cb){var nb;
if(0<(null===(nb=hd.axes)||void 0===nb?void 0:nb.length)){sa[lc]=!0;break}}}sa[lc]&&(cb='length(data("'.concat(this.facet.name,'"))'),cb="row"===lc?t?{signal:"ceil(".concat(cb," / ").concat(t,")")}:1:t?{signal:"min(".concat(cb,", ").concat(t,")")}:{signal:cb},ka.push({name:"".concat(this.facet.name,"_").concat(lc),transform:[{type:"sequence",start:0,stop:cb}]}))}const {row:Gb,column:Nb}=sa;(Gb||Nb)&&ka.unshift(this.assembleRowColumnHeaderData("facet",null,c));return ka}assemble(){const c=[];var t=
null;const L=this.getChildIndependentFieldsWithStep(),{column:ka,row:sa,facet:Ba}=this;if(ka&&sa&&(L.x||L.y)){var cb,nb;t="cross_".concat(this.column.name,"_").concat(this.row.name);const Gb=[].concat(null!==(cb=L.x)&&void 0!==cb?cb:[],null!==(nb=L.y)&&void 0!==nb?nb:[]);cb=Gb.map(()=>"distinct");c.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Gb,ops:cb}]})}for(const Gb of["column","row"])this[Gb]&&c.push(this.assembleRowColumnHeaderData(Gb,t,L));Ba&&(t=this.assembleFacetHeaderData(L))&&
c.push(...t);return c}}class Fh extends tg{clone(){return new Fh(null,rf(this._parse))}constructor(c,t){super(c);jc(this,"_parse",void 0);this._parse=t}hash(){return"Parse ".concat(F(this._parse))}static makeExplicit(c,t,L){let ka={};t=t.data;!Xe(t)&&t&&t.format&&t.format.parse&&(ka=t.format.parse);return this.makeWithAncestors(c,ka,{},L)}static makeWithAncestors(c,t,L,ka){for(var sa of Hd(L)){const cb=ka.getWithExplicit(sa);void 0!==cb.value&&(cb.explicit||cb.value===L[sa]||"derived"===cb.value||
"flatten"===L[sa]?delete L[sa]:Lb(Wd(sa,L[sa],cb.value)))}for(var Ba of Hd(t))sa=ka.get(Ba),void 0!==sa&&(sa===t[Ba]?delete t[Ba]:Lb(Wd(Ba,t[Ba],sa)));t=new Uj(t,L);ka.copyAll(t);L={};for(const cb of Hd(t.combine()))Ba=t.get(cb),null!==Ba&&(L[cb]=Ba);return 0===Hd(L).length||ka.parseNothing?null:new Fh(c,L)}get parse(){return this._parse}merge(c){this._parse=Object.assign({},this._parse,c.parse);c.remove()}assembleFormatParse(){const c={};for(const t of Hd(this._parse)){const L=this._parse[t];1===
Ya(t)&&(c[t]=L)}return c}producedFields(){return new Set(Hd(this._parse))}dependentFields(){return new Set(Hd(this._parse))}assembleTransforms(c){c=void 0===c?!1:c;return Hd(this._parse).filter(t=>c?1<Ya(t):!0).map(t=>{const L=xg(t,this._parse[t]);return L?{type:"formula",expr:L,as:Ta(t)}:null}).filter(t=>null!==t)}}class xk extends tg{clone(){return new xk(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class zl extends tg{clone(){return new zl(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(F(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Al extends tg{clone(){return new Al(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){var c;return new Set([null!==(c=this.params.as)&&
void 0!==c?c:"data"])}hash(){return"Hash ".concat(F(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class wk extends tg{constructor(c){var t;super(null);jc(this,"_data",void 0);jc(this,"_name",void 0);jc(this,"_generator",void 0);c=null!==(t=c)&&void 0!==t?t:{name:"source"};let L;Xe(c)||(L=c.format?Object.assign({},M(c.format,["parse"])):{});if("values"in c)this._data={values:c.values};else if("url"in c)this._data={url:c.url},L.type||(t=/(?:\.([^.]+))?$/.exec(c.url)[1],
G(["json","csv","tsv","dsv","topojson"],t)||(t="json"),L.type=t);else if("sphere"in c)this._data={values:[{type:"Sphere"}]};else if(dg(c)||Xe(c))this._data={};this._generator=Xe(c);c.name&&(this._name=c.name);L&&!P(L)&&(this._data.format=L)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Gl=new WeakMap;class $l{constructor(){Gl.set(this,{writable:!0,value:void 0});rc(this,Gl,!1)}setModified(){rc(this,Gl,!0)}get modifiedFlag(){var c=Gl.get(this);if(!c)throw new TypeError("attempted to get private field on non-instance");c=c.get?c.get.call(this):c.value;return c}}class yk extends $l{getNodeDepths(c,
t,L){L.set(c,t);for(const ka of c.children)this.getNodeDepths(ka,t+1,L);return L}optimize(c){c=[...this.getNodeDepths(c,0,new Map).entries()].sort((t,L)=>L[1]-t[1]);for(const t of c)this.run(t[0]);return this.modifiedFlag}}class am extends $l{optimize(c){this.run(c);for(const t of c.children)this.optimize(t);return this.modifiedFlag}}class on extends am{mergeNodes(c,t){const L=t.shift();for(const ka of t)c.removeChild(ka),ka.parent=L,ka.remove()}run(c){const t=c.children.map(ka=>ka.hash()),L={};for(let ka=
0;ka<t.length;ka++)void 0===L[t[ka]]?L[t[ka]]=[c.children[ka]]:L[t[ka]].push(c.children[ka]);for(const ka of Hd(L))1<L[ka].length&&(this.setModified(),this.mergeNodes(c,L[ka]))}}class fn extends am{constructor(c){super();jc(this,"requiresSelectionId",void 0);this.requiresSelectionId=c&&bi(c)}run(c){!(c instanceof xk)||this.requiresSelectionId&&(b(c.parent)||c.parent instanceof cj||c.parent instanceof Fh)||(this.setModified(),c.remove())}}class kn extends $l{optimize(c){this.run(c,new Set);return this.modifiedFlag}run(c,
t){let L=new Set;c instanceof yj&&(L=c.producedFields(),ia(L,t)&&(this.setModified(),c.removeFormulas(t),0===c.producedFields.length&&c.remove()));for(const ka of c.children)this.run(ka,new Set([...t,...L]))}}class en extends am{constructor(){super()}run(c){c instanceof Eh&&!c.isRequired()&&(this.setModified(),c.remove())}}class hn extends yk{run(c){if(!(b(c)||1<c.numChildren()))for(const t of c.children)t instanceof Fh&&(c instanceof Fh?(this.setModified(),c.merge(t)):Z(c.producedFields(),t.dependentFields())||
(this.setModified(),t.swapWithParent()))}}class ln extends yk{run(c){const t=[...c.children];var L=c.children.filter(sa=>sa instanceof Fh);if(1<c.numChildren()&&1<=L.length){const sa={};var ka=new Set;for(const Ba of L){L=Ba.parse;for(const cb of Hd(L))cb in sa?sa[cb]!==L[cb]&&ka.add(cb):sa[cb]=L[cb]}for(const Ba of ka)delete sa[Ba];if(!P(sa)){this.setModified();ka=new Fh(c,sa);for(const Ba of t){if(Ba instanceof Fh)for(const cb of Hd(sa))delete Ba.parse[cb];c.removeChild(Ba);Ba.parent=ka;Ba instanceof
Fh&&0===Hd(Ba.parse).length&&Ba.remove()}}}}}class gn extends yk{run(c){c instanceof Eh||0<c.numChildren()||c instanceof Wk||c instanceof wk||(this.setModified(),c.remove())}}class nn extends yk{run(c){c=c.children.filter(L=>L instanceof yj);const t=c.pop();for(const L of c)this.setModified(),t.merge(L)}}class mn extends yk{run(c){var t=c.children.filter(sa=>sa instanceof cj);const L={};for(var ka of t)t=F(ka.groupBy),t in L||(L[t]=[]),L[t].push(ka);for(const sa of Hd(L))if(ka=L[sa],1<ka.length){t=
ka.pop();for(const Ba of ka)t.merge(Ba)&&(c.removeChild(Ba),Ba.parent=t,Ba.remove(),this.setModified())}}}class jn extends yk{constructor(c){super();this.model=c}run(c){var t=!(b(c)||c instanceof kl||c instanceof Fh||c instanceof xk);const L=[],ka=[];for(const sa of c.children)sa instanceof xj&&(t&&!Z(c.producedFields(),sa.dependentFields())?L.push(sa):ka.push(sa));if(0<L.length){t=L.pop();for(const sa of L)t.merge(sa,this.model.renameSignal.bind(this.model));this.setModified();c instanceof xj?c.merge(t,
this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(1<ka.length){c=ka.pop();for(const sa of ka)c.merge(sa,this.model.renameSignal.bind(this.model));this.setModified()}}}class pn extends yk{run(c){var t=[...c.children];if(K(t,sa=>sa instanceof Eh)&&!(1>=c.numChildren())){var L=[];for(const sa of t)if(sa instanceof Eh){for(t=sa;1===t.numChildren();){const [Ba]=t.children;if(Ba instanceof Eh)t=Ba;else break}L.push(...t.children);if(ka)c.removeChild(sa),sa.parent=ka.parent,ka.parent.removeChild(ka),
ka.parent=t,this.setModified();else var ka=t}else L.push(sa);if(L.length){this.setModified();for(const sa of L)sa.parent.removeChild(sa),sa.parent=ka}}}}class Xk extends tg{clone(){return new Xk(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=ja(this.transform.groupby.concat(c),t=>t)}dependentFields(){const c=new Set;this.transform.groupby&&this.transform.groupby.forEach(c.add,c);this.transform.joinaggregate.map(t=>t.field).filter(t=>void 0!==
t).forEach(c.add,c);return c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:kd(c)}hash(){return"JoinAggregateTransform ".concat(F(this.transform))}assemble(){const c=[],t=[],L=[];for(var ka of this.transform.joinaggregate)t.push(ka.op),L.push(this.getDefaultName(ka)),c.push(void 0===ka.field?null:ka.field);ka=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:L,ops:t,fields:c},
void 0!==ka?{groupby:ka}:{})}}class Tj extends tg{clone(){return new Tj(null,rf(this._stack))}constructor(c,t){super(c);jc(this,"_stack",void 0);this._stack=t}static makeFromTransform(c,t){const {stack:L,groupby:ka,as:sa,offset:Ba="zero"}=t;var cb=[];const nb=[];if(void 0!==t.sort)for(const Gb of t.sort)cb.push(Gb.field),nb.push(Ca(Gb.order,"ascending"));cb={field:cb,order:nb};t=X(sa)?sa:e(sa)?[sa,sa+"_end"]:[t.stack+"_start",t.stack+"_end"];return new Tj(c,{stackField:L,groupby:ka,offset:Ba,sort:cb,
facetby:[],as:t})}static makeFromEncoding(c,t){var L=t.stack,{encoding:ka}=t;if(!L)return null;const {groupbyChannel:sa,fieldChannel:Ba,offset:cb,impute:nb}=L;let Gb;sa&&(Gb=nf(ka[sa]));L=p(t);ka=t.encoding.order;ka=Je(ka)||$b(ka)?Lf(ka):L.reduce((Nb,lc)=>{Nb.field.push(lc);Nb.order.push("y"===Ba?"descending":"ascending");return Nb},{field:[],order:[]});return new Tj(c,{dimensionFieldDef:Gb,stackField:t.vgField(Ba),facetby:[],stackby:L,sort:ka,offset:cb,impute:nb,as:[t.vgField(Ba,{suffix:"start",
forAs:!0}),t.vgField(Ba,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){const c=new Set;c.add(this._stack.stackField);this.getGroupbyFields().forEach(c.add,c);this._stack.facetby.forEach(c.add,c);this._stack.sort.field.forEach(c.add,c);return c}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(F(this._stack))}getGroupbyFields(){const {dimensionFieldDef:c,impute:t,groupby:L}=this._stack;return c?
c.bin?t?[kd(c,{binSuffix:"mid"})]:[kd(c,{}),kd(c,{binSuffix:"end"})]:[kd(c)]:null!==L&&void 0!==L?L:[]}assemble(){const c=[],{facetby:t,dimensionFieldDef:L,stackField:ka,stackby:sa,sort:Ba,offset:cb,impute:nb,as:Gb}=this._stack;if(nb&&L){const {band:Nb=.5,bin:lc}=L;lc&&c.push({type:"formula",expr:"".concat(Nb,"*")+kd(L,{expr:"datum"})+"+".concat(1-Nb,"*")+kd(L,{expr:"datum",binSuffix:"end"}),as:kd(L,{binSuffix:"mid",forAs:!0})});c.push({type:"impute",field:ka,groupby:[...sa,...t],key:kd(L,{binSuffix:"mid"}),
method:"value",value:0})}c.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:ka,sort:Ba,as:Gb,offset:cb});return c}}class ll extends tg{clone(){return new ll(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=ja(this.transform.groupby.concat(c),t=>t)}dependentFields(){var c,t;const L=new Set;(null!==(c=this.transform.groupby)&&void 0!==c?c:[]).forEach(L.add,L);(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach(ka=>L.add(ka.field));
this.transform.window.map(ka=>ka.field).filter(ka=>void 0!==ka).forEach(L.add,L);return L}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:kd(c)}hash(){return"WindowTransform ".concat(F(this.transform))}assemble(){const c=[],t=[],L=[],ka=[];for(var sa of this.transform.window)t.push(sa.op),L.push(this.getDefaultName(sa)),ka.push(void 0===sa.param?null:sa.param),c.push(void 0===sa.field?null:sa.field);sa=this.transform.frame;
const Ba=this.transform.groupby;if(sa&&null===sa[0]&&null===sa[1]&&t.every(Nb=>na(Nb)))return Object.assign({},{type:"joinaggregate",as:L,ops:t,fields:c},void 0!==Ba?{groupby:Ba}:{});const cb=[],nb=[];if(void 0!==this.transform.sort)for(const Nb of this.transform.sort){var Gb;cb.push(Nb.field);nb.push(null!==(Gb=Nb.order)&&void 0!==Gb?Gb:"ascending")}Gb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:ka,as:L,ops:t,fields:c,sort:{field:cb,order:nb}},void 0!==Gb?{ignorePeers:Gb}:
{},void 0!==Ba?{groupby:Ba}:{},void 0!==sa?{frame:sa}:{})}}class qi{constructor(c){jc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,t){return new qi(()=>c(t))}}class tm extends Uj{constructor(c,t){super({},{name:c});jc(this,"merged",!1);this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:K(this.get("domains"),c=>Je(c)&&2===c.length&&0>=c[0]&&0<=c[1])}}const qn=["range","scheme"],sm={bins:c=>{var {model:t,
fieldOrDatumDef:L}=c;return $b(L)?Bk(t,L):void 0},interpolate:c=>{var {channel:t,fieldOrDatumDef:L}=c;c=L.type;c=G(["color","fill","stroke"],t)&&"nominal"!==c?"hcl":void 0;return c},nice:c=>{var {scaleType:t,channel:L,fieldOrDatumDef:ka}=c;var sa;c=(null===(sa=nf(ka))||void 0===sa?0:sa.bin)||G([Cg.TIME,Cg.UTC],t)?void 0:L in fg?!0:void 0;return c},padding:c=>{var {channel:t,scaleType:L,fieldOrDatumDef:ka,markDef:sa,config:Ba}=c;a:{c=Ba.scale;var cb=Ba.bar;if(t in fg){if(L in th){if(void 0!==c.continuousPadding){c=
c.continuousPadding;break a}const {type:nb,orient:Gb}=sa;if("bar"===nb&&(!$b(ka)||!ka.bin&&!ka.timeUnit)&&("vertical"===Gb&&"x"===t||"horizontal"===Gb&&"y"===t)){c=cb.continuousBandSize;break a}}if(L===Cg.POINT){c=c.pointPadding;break a}}c=void 0}return c},paddingInner:c=>{var {scalePadding:t,channel:L,markDef:ka,config:sa}=c;if(void 0!==t)c=void 0;else if(L in fg){const {bandPaddingInner:Ba,barBandPaddingInner:cb,rectBandPaddingInner:nb}=sa.scale;c=Ca(Ba,"bar"===ka.type?cb:nb)}else c=void 0;return c},
paddingOuter:c=>{var {scalePadding:t,channel:L,scaleType:ka,scalePaddingInner:sa,config:Ba}=c;void 0!==t?c=void 0:L in fg&&ka===Cg.BAND?({bandPaddingOuter:c}=Ba.scale,c=Ca(c,Dc(sa)?{signal:"".concat(sa.signal,"/2")}:sa/2)):c=void 0;return c},reverse:c=>{var {fieldOrDatumDef:t,scaleType:L,channel:ka,config:sa}=c;c=$b(t)?t.sort:void 0;var Ba=sa.scale;c="x"===ka&&void 0!==Ba.xReverse?L in Jh&&"descending"===c?Dc(Ba.xReverse)?{signal:"!".concat(Ba.xReverse.signal)}:!Ba.xReverse:Ba.xReverse:L in Jh&&"descending"===
c?!0:void 0;return c},zero:c=>{var {channel:t,fieldOrDatumDef:L,domain:ka,markDef:sa,scaleType:Ba}=c;a:if(ka&&"unaggregated"!==ka&&Ba in Jh){if(Je(ka)&&(c=ka[ka.length-1],0>=ka[0]&&0<=c)){c=!0;break a}c=!1}else if("size"!==t||"quantitative"!==L.type||Ba in zk)if($b(L)&&L.bin||!G([...Wg,...bh],t))c=!1;else{const {orient:cb,type:nb}=sa;c=G(["bar","area","line","trail"],nb)&&("horizontal"===cb&&"y"===t||"vertical"===cb&&"x"===t)?!1:!0}else c=!0;return c}},rn=Re((c,t)=>ik[c]-ik[t]);class bm{constructor(){jc(this,
"nameMap",void 0);this.nameMap={}}rename(c,t){this.nameMap[c]=t}has(c){return void 0!==this.nameMap[c]}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}class cm{constructor(c,t,L,ka,sa,Ba,cb){var nb,Gb;this.type=t;this.parent=L;this.config=sa;jc(this,"name",void 0);jc(this,"size",void 0);jc(this,"title",void 0);jc(this,"description",void 0);jc(this,"data",void 0);jc(this,"transforms",void 0);jc(this,"layout",void 0);jc(this,"scaleNameMap",void 0);jc(this,"projectionNameMap",
void 0);jc(this,"signalNameMap",void 0);jc(this,"component",void 0);jc(this,"view",void 0);jc(this,"children",[]);jc(this,"correctDataNames",Nb=>{Nb.from&&Nb.from.data&&(Nb.from.data=this.lookupDataSource(Nb.from.data));Nb.from&&Nb.from.facet&&Nb.from.facet.data&&(Nb.from.facet.data=this.lookupDataSource(Nb.from.facet.data));return Nb});this.parent=L;this.config=sa;this.view=kf(cb);this.name=null!==(nb=c.name)&&void 0!==nb?nb:ka;this.title=de(c.title)?{text:c.title}:c.title?this.initTitle(c.title):
void 0;this.scaleNameMap=L?L.scaleNameMap:new bm;this.projectionNameMap=L?L.projectionNameMap:new bm;this.signalNameMap=L?L.signalNameMap:new bm;this.data=c.data;this.description=c.description;this.transforms=$f(null!==(Gb=c.transform)&&void 0!==Gb?Gb:[]);this.layout="layer"===t||"unit"===t?{}:bc(c,t,sa);this.component={data:{sources:L?L.component.data.sources:[],outputNodes:L?L.component.data.outputNodes:{},outputNodeRefCounts:L?L.component.data.outputNodeRefCounts:{},isFaceted:"facet"in c||L&&L.component.data.isFaceted&&
void 0===c.data},layoutSize:new Uj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},Ba?rf(Ba):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(c){const t=Hd(c),L={text:Gd(c.text)};for(const ka of t)L[ka]=Gd(c[ka]);return L}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:c}={};Zk(this);ng(this)?Ib(this):dc(this);for(const t of Ol)Vk(this,t);c||tk(this)}parseProjection(){bj(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Mi(this)}assembleGroupStyle(){if("unit"===
this.type||"layer"===this.type){var c,t;return null!==(c=null===(t=this.view)||void 0===t?void 0:t.style)&&void 0!==c?c:"cell"}}assembleEncodeFromView(c){c=Object.assign({},c);c=(delete c.style,c);const t={};for(const L of Hd(c)){const ka=c[L];void 0!==ka&&(t[L]=$d(ka))}return t}assembleGroupEncodeEntry(c){let t={};this.view&&(t=this.assembleEncodeFromView(this.view));if(!c&&(this.description&&(t.description=$d(this.description)),"unit"===this.type||"layer"===this.type)){var L;return Object.assign({},
{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(L=t)&&void 0!==L?L:{})}return P(t)?void 0:t}assembleLayout(){if(this.layout){var c=this.layout,t=Object.assign({},c);c=c.spacing;t=(delete t.spacing,t);var {component:L,config:ka}=this;{var sa=L.layoutHeaders;const nb={};for(cb of zh){var Ba=sa[cb];if(null===Ba||void 0===Ba?0:Ba.facetFieldDef){const {titleAnchor:Gb,titleOrient:Nb}=ej(["titleAnchor","titleOrient"],Ba.facetFieldDef.header,ka,cb);Ba=Mh(cb,Nb);const lc=
Bn[Ba][Gb];void 0!==lc&&(nb[Ba]=lc)}}var cb=P(nb)?void 0:nb}return Object.assign({},{padding:c},this.assembleDefaultLayout(),t,cb?{titleBand:cb}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:c}=this.component;let t=[];for(const L of zh)c[L].title&&t.push(Bj(this,L));for(const L of Zl)t=t.concat(Og(this,L));return t}assembleAxes(){return xh(this.component.axes,this.config)}assembleLegends(){return Ak(this)}assembleProjections(){var c=Lg(this)||Sg(this)?sk(this):ij(this);
return c}assembleTitle(){var c,t=null!==(c=this.title)&&void 0!==c?c:{};c=Object.assign({},t);t=t.encoding;c=(delete c.encoding,c);t=Object.assign({},Kd(this.config.title).nonMark,c,t?{encode:{update:t}}:{});if(t.text){if(G(["unit","layer"],this.type)){if(G(["middle",void 0],t.anchor)){var L;t.frame=null!==(L=t.frame)&&void 0!==L?L:"group"}}else{var ka;t.anchor=null!==(ka=t.anchor)&&void 0!==ka?ka:"start"}return P(t)?void 0:t}}assembleGroup(c){c=void 0===c?[]:c;const t={};c=c.concat(this.assembleSignals());
0<c.length&&(t.signals=c);if(c=this.assembleLayout())t.layout=c;t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());c=!this.parent||Rg(this.parent)?bg(this):[];0<c.length&&(t.scales=c);c=this.assembleAxes();0<c.length&&(t.axes=c);c=this.assembleLegends();0<c.length&&(t.legends=c);return t}getName(c){return V((this.name?this.name+"_":"")+c)}getDataName(c){return this.getName(zg[c].toLowerCase())}requestDataName(c){c=this.getDataName(c);const t=this.component.data.outputNodeRefCounts;
t[c]=(t[c]||0)+1;return c}getSizeSignalRef(c){if(Rg(this.parent)){var t=Yi(c),L=Fb(t);if((t=this.component.scales[L])&&!t.merged){var ka=t.get("type");const sa=t.get("range");if(ka in nh&&uc(sa)){c=t.get("name");ka=Af(this,L);if(ka=cg(ka))return L=kd({aggregate:"distinct",field:ka},{expr:"datum"}),{signal:pi(c,t,L)};Lb(Lc(L));return null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){const t=this.component.data.outputNodes[c];return t?t.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,
t){this.signalNameMap.rename(c,t)}renameScale(c,t){this.scaleNameMap.rename(c,t)}renameProjection(c,t){this.projectionNameMap.rename(c,t)}scaleName(c,t){if(t)return this.getName(c);if(Kk[c]&&rh[c]&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const t=this.component.scales[c];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,t){let L=this.component.selection[c];!L&&this.parent&&(L=this.parent.getSelectionComponent(c,t));if(!L)throw Error('Cannot find a selection named "'.concat(t,'".'));return L}hasAxisOrientSignalRef(){var c,t;return(null===(c=this.component.axes.x)||void 0===c?void 0:c.some(L=>L.hasOrientSignalRef()))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some(L=>L.hasOrientSignalRef()))}}
class Cm extends cm{vgField(c,t){t=void 0===t?{}:t;if(c=this.fieldDef(c))return kd(c,t)}reduceFieldDef(c,t){return cc(this.getMapping(),(L,ka,sa)=>(ka=nf(ka))?c(L,ka,sa):L,t)}forEachFieldDef(c,t){Jb(this.getMapping(),(L,ka)=>{(L=nf(L))&&c(L,ka)},t)}}class Tl extends tg{clone(){return new Tl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?
ka:"value",null!==(sa=c[1])&&void 0!==sa?sa:"density"]}dependentFields(){var c;return new Set([this.transform.density,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);c=c.density;t=(delete t.density,t);return Object.assign({},{type:"kde",field:c},t)}}class Bl extends tg{clone(){return new Bl(null,Object.assign({},this.filter))}constructor(c,
t){super(c);this.filter=t}static make(c,t){const {config:L,mark:ka,markDef:sa}=t;if("filter"!==ne("invalid",sa,L))return null;const Ba=t.reduceFieldDef((cb,nb,Gb)=>{(Gb=!!rh[Gb]&&t.getScaleComponent(Gb))&&Gb.get("type")in Jh&&"count"!==nb.aggregate&&!we(ka)&&(cb[nb.field]=nb);return cb},{});return Hd(Ba).length?new Bl(c,Ba):null}dependentFields(){return new Set(Hd(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(F(this.filter))}assemble(){const c=Hd(this.filter).reduce((t,
L)=>{L=this.filter[L];const ka=kd(L,{expr:"datum"});null!==L&&("temporal"===L.type?t.push("(isDate(".concat(ka,") || (isValid(").concat(ka,") \x26\x26 isFinite(+").concat(ka,")))")):"quantitative"===L.type&&(t.push("isValid(".concat(ka,")")),t.push("isFinite(+".concat(ka,")"))));return t},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null}}class Sl extends tg{clone(){return new Sl(this.parent,rf(this.transform))}constructor(c,t){super(c);this.transform=t;this.transform=rf(t);const {flatten:L,
as:ka=[]}=this.transform;this.transform.as=L.map((sa,Ba)=>{var cb;return null!==(cb=ka[Ba])&&void 0!==cb?cb:sa})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(F(this.transform))}assemble(){const {flatten:c,as:t}=this.transform;return{type:"flatten",fields:c,as:t}}}class Rl extends tg{clone(){return new Rl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=
rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:"key",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(F(this.transform))}assemble(){const {fold:c,as:t}=this.transform;return{type:"fold",fields:c,as:t}}}class nl extends tg{clone(){return new nl(null,rf(this.fields),this.geojson,this.signal)}static parseAll(c,
t){if(t.component.projection&&!t.component.projection.isFit)return c;let L=0;for(var ka of[["longitude","latitude"],["longitude2","latitude2"]]){const sa=ka.map(Ba=>{Ba=Aa(t.encoding[Ba]);return $b(Ba)?Ba.field:gd(Ba)?{expr:"".concat(Ba.datum)}:jd(Ba)?{expr:"".concat(Ba.value)}:void 0});if(sa[0]||sa[1])c=new nl(c,sa,null,t.getName("geojson_".concat(L++)))}t.channelHasField("shape")&&(ka=t.typedFieldDef("shape"),"geojson"===ka.type&&(c=new nl(c,null,ka.field,t.getName("geojson_".concat(L++)))));return c}constructor(c,
t,L,ka){super(c);this.fields=t;this.geojson=L;this.signal=ka}dependentFields(){var c;const t=(null!==(c=this.fields)&&void 0!==c?c:[]).filter(e);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(F(this.fields))}assemble(){return Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class Cl extends tg{clone(){return new Cl(null,
this.projection,rf(this.fields),rf(this.as))}constructor(c,t,L,ka){super(c);this.projection=t;this.fields=L;this.as=ka}static parseAll(c,t){if(!t.projectionName())return c;for(const L of[["longitude","latitude"],["longitude2","latitude2"]]){const ka=L.map(Ba=>{Ba=Aa(t.encoding[Ba]);return $b(Ba)?Ba.field:gd(Ba)?{expr:"".concat(Ba.datum)}:jd(Ba)?{expr:"".concat(Ba.value)}:void 0}),sa="longitude2"===L[0]?"2":"";if(ka[0]||ka[1])c=new Cl(c,t.projectionName(),ka,[t.getName("x"+sa),t.getName("y"+sa)])}return c}dependentFields(){return new Set(this.fields.filter(e))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection,
" ").concat(F(this.fields)," ").concat(F(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Yk extends tg{clone(){return new Yk(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){var c;return new Set([this.transform.impute,this.transform.key,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){const {start:t=0,stop:L,step:ka}=c;
c=[t,L,...ka?[ka]:[]].join();return{signal:"sequence(".concat(c,")")}}static makeFromTransform(c,t){return new Yk(c,t)}static makeFromEncoding(c,t){const L=t.encoding;var ka=L.x;const sa=L.y;if($b(ka)&&$b(sa)){const Ba=ka.impute?ka:sa.impute?sa:void 0;if(void 0===Ba)return;ka=ka.impute?sa:sa.impute?ka:void 0;const {method:cb,value:nb,frame:Gb,keyvals:Nb}=Ba.impute;t=xc(t.mark,L);return new Yk(c,Object.assign({},{impute:Ba.field,key:ka.field},cb?{method:cb}:{},void 0!==nb?{value:nb}:{},Gb?{frame:Gb}:
{},void 0!==Nb?{keyvals:Nb}:{},t.length?{groupby:t}:{}))}return null}hash(){return"Impute ".concat(F(this.transform))}assemble(){const {impute:c,key:t,keyvals:L,method:ka,groupby:sa,value:Ba,frame:cb=[null,null]}=this.transform,nb=Object.assign({},{type:"impute",field:c,key:t},L?{keyvals:void 0!==(null===L||void 0===L?void 0:L.stop)?this.processSequence(L):L}:{},{method:"value"},sa?{groupby:sa}:{},{value:ka&&"value"!==ka?null:Ba});if(ka&&"value"!==ka){const Gb=Object.assign({},{type:"window",as:["imputed_".concat(c,
"_value")],ops:[ka],fields:[c],frame:cb,ignorePeers:!1},sa?{groupby:sa}:{}),Nb={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,"_value : datum.").concat(c),as:c};return[nb,Gb,Nb]}return[nb]}}class Ul extends tg{clone(){return new Ul(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:t.on,null!==(sa=
c[1])&&void 0!==sa?sa:t.loess]}dependentFields(){var c;return new Set([this.transform.loess,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);const L=c.loess;c=c.on;t=(delete t.loess,delete t.on,t);return Object.assign({},{type:"loess",x:c,y:L},t)}}class Dl extends tg{clone(){return new Dl(null,rf(this.transform),
this.secondary)}constructor(c,t,L){super(c);this.transform=t;this.secondary=L}static make(c,t,L,ka){const sa=t.component.data.sources,{from:Ba}=L;var cb=null;if("data"in Ba)cb=pl(Ba.data,sa),cb||(cb=new wk(Ba.data),sa.push(cb)),ka=t.getName("lookup_".concat(ka)),cb=new Eh(cb,ka,zg.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[ka]=cb;else if("selection"in Ba&&(ka=Ba.selection,L=Object.assign({},{as:ka},L),cb=t.getSelectionComponent(V(ka),ka).materialized,!cb))throw Error('Cannot define and lookup the "'.concat(ka,
'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new Dl(c,L,cb.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?d(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(F({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var c=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:d(this.transform.as)}:
{});else c=this.transform.as,e(c)||(Lb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),c="_lookup"),c={as:[c]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},c,this.transform.default?{default:this.transform.default}:{})}}class Vl extends tg{clone(){return new Vl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=
t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:"prob",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){var c;return new Set([this.transform.quantile,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);c=c.quantile;t=(delete t.quantile,
t);return Object.assign({},{type:"quantile",field:c},t)}}class Wl extends tg{clone(){return new Wl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:t.on,null!==(sa=c[1])&&void 0!==sa?sa:t.regression]}dependentFields(){var c;return new Set([this.transform.regression,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(F(this.transform))}assemble(){var c=
this.transform,t=Object.assign({},c);const L=c.regression;c=c.on;t=(delete t.regression,delete t.on,t);return Object.assign({},{type:"regression",x:c,y:L},t)}}class Yl extends tg{clone(){return new Yl(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){var t;this.transform.groupby=ja((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(c),L=>L)}producedFields(){}dependentFields(){var c;return new Set([this.transform.pivot,this.transform.value,...null!==(c=this.transform.groupby)&&
void 0!==c?c:[]])}hash(){return"PivotTransform ".concat(F(this.transform))}assemble(){const {pivot:c,value:t,groupby:L,limit:ka,op:sa}=this.transform;return Object.assign({},{type:"pivot",field:c,value:t},void 0!==ka?{limit:ka}:{},void 0!==sa?{op:sa}:{},void 0!==L?{groupby:L}:{})}}class Xl extends tg{clone(){return new Xl(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(F(this.transform))}assemble(){return{type:"sample",
size:this.transform.sample}}}class Fl extends Cm{constructor(c,t,L,ka){super(c,"facet",t,L,ka,c.resolve);jc(this,"facet",void 0);jc(this,"child",void 0);jc(this,"children",void 0);this.child=hi(c.spec,this,this.getName("child"),void 0,ka);this.children=[this.child];this.facet=this.initFacet(c.facet)}initFacet(c){if(!xa(c))return{facet:this.initFacetFieldDef(c,"facet")};var t=Hd(c);const L={};for(const ka of t){if(!G(["row","column"],ka)){Lb(zc(ka,"facet"));break}t=c[ka];if(void 0===t.field){Lb(Eb(t,
ka));break}L[ka]=this.initFacetFieldDef(t,ka)}return L}initFacetFieldDef(c,t){var L=Object.assign({},c);c=c.header;L=(delete L.header,L);t=Wb(L,t);c&&(t.header=kf(c));return t}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=bk(this);this.child.parseData()}parseLayoutSize(){ck(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();
for(const sa of zh){{var c=void 0,t=sa;const {facet:Ba,config:cb,child:nb,component:Gb}=this;if(this.channelHasField(t)){const Nb=Ba[t];var L=Nh("title",null,cb,t);L=mf(Nb,cb,{allowDisabling:!0,includeDefault:void 0===L||!!L});nb.component.layoutHeaders[t].title&&(L=Je(L)?L.join(", "):L,L+=" / "+nb.component.layoutHeaders[t].title,nb.component.layoutHeaders[t].title=null);var ka=Nh("labelOrient",Nb,cb,t);const lc=null!==(c=Nb.header)&&void 0!==c?c:{};c=Ca(lc.labels,cb.header.labels,!0);ka=G(["bottom",
"right"],ka)?"footer":"header";Gb.layoutHeaders[t]={title:L,facetFieldDef:Nb,[ka]:"facet"===t?[]:[tl(this,t,c)]}}}}Dk(this,"x");Dk(this,"y")}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){const c={};for(const cb of zh)for(const nb of Ql){const Gb=this.component.layoutHeaders[cb];var t=Gb[nb],{facetFieldDef:L}=
Gb;if(L&&(L=Nh("titleOrient",L.header,this.config,cb),G(["right","bottom"],L))){var ka;L=Mh(cb,L);c.titleAnchor=null!==(ka=c.titleAnchor)&&void 0!==ka?ka:{};c.titleAnchor[L]="end"}if(null===t||void 0===t?0:t[0]){t="row"===cb?"height":"width";L="header"===nb?"headerBand":"footerBand";if("facet"!==cb&&!this.child.component.layoutSize.get(t)){var sa;c[L]=null!==(sa=c[L])&&void 0!==sa?sa:{};c[L][cb]=.5}if(Gb.title){var Ba;c.offset=null!==(Ba=c.offset)&&void 0!==Ba?Ba:{};c.offset["row"===cb?"rowTitle":
"columnTitle"]=10}}}return c}assembleDefaultLayout(){const {column:c,row:t}=this.facet,L=c?this.columnDistinctSignal():t?1:void 0;let ka="all";t||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(ka="none"):ka="none";return Object.assign({},this.getHeaderLayoutMixins(),L?{columns:L}:{},{bounds:"full",align:ka})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Fl)){const c=
this.getName("column_domain");return{signal:"length(data('".concat(c,"'))")}}}assembleGroup(c){return this.parent&&this.parent instanceof Fl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:kd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(c)):super.assembleGroup(c)}getCardinalityAggregateForChild(){const c=[],t=[],L=[];if(this.child instanceof Fl){if(this.child.channelHasField("column")){var ka=kd(this.child.facet.column);c.push(ka);t.push("distinct");
L.push("distinct_".concat(ka))}}else for(ka of Wg){var sa=this.child.component.scales[ka];if(sa&&!sa.merged){var Ba=sa.get("type");sa=sa.get("range");Ba in nh&&uc(sa)&&(Ba=Af(this.child,ka),(Ba=cg(Ba))?(c.push(Ba),t.push("distinct"),L.push("distinct_".concat(Ba))):Lb(Lc(ka)))}}return{fields:c,ops:t,as:L}}assembleFacet(){const {name:c,data:t}=this.component.data.facetRoot,{row:L,column:ka}=this.facet,{fields:sa,ops:Ba,as:cb}=this.getCardinalityAggregateForChild(),nb=[];for(var Gb of zh){var Nb=this.facet[Gb];
if(Nb){nb.push(kd(Nb));const {bin:lc,sort:Yc}=Nb;pc(lc)&&nb.push(kd(Nb,{binSuffix:"end"}));if(qe(Yc)){const {field:hd,op:qd="min"}=Yc;Nb=uk(Nb,Yc);L&&ka?(sa.push(Nb),Ba.push("max")):(sa.push(hd),Ba.push(qd));cb.push(Nb)}else Je(Yc)&&(Nb=oh(Nb,Gb),sa.push(Nb),Ba.push("max"),cb.push(Nb))}}Gb=!!L&&!!ka;return Object.assign({},{name:c,data:t,groupby:nb},Gb||0<sa.length?{aggregate:Object.assign({},Gb?{cross:Gb}:{},sa.length?{fields:sa,ops:Ba,as:cb}:{})}:{})}facetSortFields(c){var {facet:t}=this;return(t=
t[c])?qe(t.sort)?[uk(t,t.sort,{expr:"datum"})]:Je(t.sort)?[oh(t,c,{expr:"datum"})]:[kd(t,{expr:"datum"})]:[]}facetSortOrder(c){const {facet:t}=this;return(c=t[c])?({sort:c}=c,[(qe(c)?c.order:!Je(c)&&c)||"ascending"]):[]}assembleLabelTitle(){const {facet:c,config:t}=this;if(c.facet)return Jf(c.facet,"facet",t);const L={row:["top","bottom"],column:["left","right"]};for(const sa of Zl)if(c[sa]){var ka;const Ba=Nh("labelOrient",null===(ka=c[sa])||void 0===ka?void 0:ka.header,t,sa);if(G(L[sa],Ba))return Jf(c[sa],
sa,t)}}assembleMarks(){const {child:c}=this,t=el(this.component.data.facetRoot),L=c.assembleGroupEncodeEntry(!1),ka=this.assembleLabelTitle()||c.assembleTitle(),sa=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},ka?{title:ka}:{},sa?{style:sa}:{},{from:{facet:this.assembleFacet()},sort:{field:zh.map(Ba=>this.facetSortFields(Ba)).flat(),order:zh.map(Ba=>this.facetSortOrder(Ba)).flat()}},0<t.length?{data:t}:{},L?{encode:{update:L}}:{},c.assembleGroup(Yj(this,[])))]}getMapping(){return this.facet}}
class un extends cm{constructor(c,t,L,ka){var sa,Ba,cb,nb;super(c,"concat",t,L,ka,c.resolve);jc(this,"children",void 0);"shared"!==(null===(sa=c.resolve)||void 0===sa?void 0:null===(Ba=sa.axis)||void 0===Ba?void 0:Ba.x)&&"shared"!==(null===(cb=c.resolve)||void 0===cb?void 0:null===(nb=cb.axis)||void 0===nb?void 0:nb.y)||Lb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(c).map((Gb,Nb)=>hi(Gb,this,this.getName("concat_"+
Nb),void 0,ka))}parseData(){this.component.data=bk(this);for(const c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Hd(c.component.selection))this.component.selection[t]=c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(const c of this.children)c.parseAxesAndHeaders()}getChildren(c){return"vconcat"in c?c.vconcat:"hconcat"in c?c.hconcat:c.concat}parseLayoutSize(){{ck(this);
const c=void 0===this.layout.columns?"height":"childHeight";Pk(this,1===this.layout.columns?"width":"childWidth");Pk(this,c)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,L)=>L.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){this.children.forEach(c=>c.assembleSignals());return[]}assembleLayoutSignals(){const c=Dj(this);for(const t of this.children)c.push(...t.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((t,
L)=>L.assembleSelectionData(t),c)}assembleMarks(){return this.children.map(c=>{const t=c.assembleTitle(),L=c.assembleGroupStyle(),ka=c.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:c.getName("group")},t?{title:t}:{},L?{style:L}:{},ka?{encode:{update:ka}}:{},c.assembleGroup())})}assembleDefaultLayout(){const c=this.layout.columns;return Object.assign({},null!=c?{columns:c}:{},{bounds:"full",align:"each"})}}const Dn=Object.assign({},{disable:1,gridScale:1,scale:1},rg,{labelExpr:1,
encode:1}),um=Hd(Dn);class vm extends Uj{constructor(c,t,L){c=void 0===c?{}:c;t=void 0===t?{}:t;L=void 0===L?!1:L;super();this.explicit=c;this.implicit=t;this.mainExtracted=L}clone(){return new vm(rf(this.explicit),rf(this.implicit),this.mainExtracted)}hasAxisPart(c){if("axis"===c)return!0;if("grid"===c||"title"===c)return!!this.get(c);c=this.get(c);return!(!1===c||null===c)}hasOrientSignalRef(){return Dc(this.explicit.orient)}}const En={bottom:"top",top:"bottom",left:"right",right:"left"},tn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
El={arc:{vgMark:"arc",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),ni(c,"radius","arc"),ni(c,"theta","arc"))},area:{vgMark:"area",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Ai("x",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===c.markDef.orient}),
Ai("y",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===c.markDef.orient}),rj(c))},bar:{vgMark:"rect",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","bar"),ni(c,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:c=>Fj(c,"circle")},geoshape:{vgMark:"shape",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:c=>{var {encoding:t}=c;t=t.shape;return[Object.assign({},{type:"geoshape",projection:c.projectionName()},t&&$b(t)&&"geojson"===t.type?{field:kd(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","image"),ni(c,"y","image"),sh(c,"url"))},line:{vgMark:"line",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),Fg("size",c,{vgChannel:"strokeWidth"}),rj(c))},point:{vgMark:"symbol",encodeEntry:c=>Fj(c)},rect:{vgMark:"rect",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","rect"),ni(c,"y","rect"))},rule:{vgMark:"rule",encodeEntry:c=>{var {markDef:t}=c;t=t.orient;return c.encoding.x||c.encoding.y||c.encoding.latitude||
c.encoding.longitude?Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ai("x",c,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t}),Ai("y",c,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t}),Fg("size",c,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:c=>Fj(c,"square")},text:{vgMark:"text",encodeEntry:c=>{const {config:t,encoding:L}=
c;return Object.assign({},hh(c,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),sh(c),Fg("size",c,{vgChannel:"fontSize"}),Fg("angle",c),og("align",al(c.markDef,L,t)),og("baseline",yl(c.markDef,L,t)),qg("radius",c,{defaultPos:null,isMidPoint:!0}),qg("theta",c,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:c=>{const {config:t,markDef:L}=c;var ka=L.orient;const sa="horizontal"===
ka?"width":"height";ka="horizontal"===ka?"height":"width";return Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid",vgChannel:"xc"}),qg("y",c,{defaultPos:"mid",vgChannel:"yc"}),Fg("size",c,{defaultValue:gh(c),vgChannel:sa}),{[ka]:$d(ne("thickness",L,t))})}},trail:{vgMark:"trail",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),Fg("size",c),rj(c))}};class ym extends Cm{constructor(c,t,L,ka,sa){ka=void 0===ka?{}:ka;super(c,"unit",t,L,sa,void 0,Mb(c)?c.view:void 0);jc(this,"markDef",void 0);jc(this,"encoding",void 0);jc(this,"specifiedScales",{});jc(this,"stack",void 0);jc(this,"specifiedAxes",{});jc(this,"specifiedLegends",{});jc(this,"specifiedProjection",{});jc(this,"selection",{});jc(this,"children",[]);var Ba=Od(c.mark)?Object.assign({},c.mark):{type:c.mark};t=
Ba.type;if(void 0===Ba.filled){({graticule:L}={graticule:c.data&&"graticule"in c.data});if(L)L=!1;else{L=sf("filled",Ba,sa);var cb=Ba.type;L=Ca(L,cb!==yb&&cb!==ib&&cb!==fc)}Ba.filled=L}L=this.encoding=Db(c.encoding||{},t,Ba.filled,sa);Ba=kf(Ba);cb=ne("orient",Ba,sa);Ba.orient=xi(Ba.type,L,cb);void 0!==cb&&cb!==Ba.orient&&(cb='Specified orient "'.concat(Ba.orient,'" overridden with "').concat(cb,'".'),Lb(cb));if("bar"===Ba.type&&Ba.orient&&(cb=ne("cornerRadiusEnd",Ba,sa),void 0!==cb)){const lc="horizontal"===
Ba.orient&&L.x2||"vertical"===Ba.orient&&L.y2?["cornerRadius"]:$c[Ba.orient];for(var nb of lc)Ba[nb]=cb;void 0!==Ba.cornerRadiusEnd&&delete Ba.cornerRadiusEnd}void 0===ne("opacity",Ba,sa)&&(nb=G([yb,sd,ff,Ld],Ba.type)&&!fb(L)?.7:void 0,Ba.opacity=nb);void 0===ne("cursor",Ba,sa)&&(nb=Ba,sa=L.href||nb.href||ne("href",nb,sa)?"pointer":nb.cursor,Ba.cursor=sa);this.markDef=sa=Ba;ka={encoding:L,size:Mb(c)?Object.assign({},ka,c.width?{width:c.width}:{},c.height?{height:c.height}:{}):ka};var {encoding:Gb,
size:Nb}=ka;for(const lc of Wg)ka=Ua(lc),zb(Nb[ka])&&Mc(Gb[lc])&&(delete Nb[ka],Lb(Ka(ka)));this.size=Nb;this.stack=Rb(t,L);this.specifiedScales=this.initScales(t,L);this.specifiedAxes=this.initAxes(L);this.specifiedLegends=this.initLegends(L);this.specifiedProjection=c.projection;this.selection=c.selection}get hasProjection(){const {encoding:c}=this,t=this.mark===Ke,L=c&&$h.some(ka=>od(c[ka]));return t||L}scaleDomain(c){return(c=this.specifiedScales[c])?c.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,
t){return Lj.reduce((L,ka)=>{const sa=Aa(t[ka]);if(sa){var Ba;L[ka]=this.initScale(null!==(Ba=sa.scale)&&void 0!==Ba?Ba:{})}return L},{})}initScale(c){const {domain:t,range:L}=c;c=kf(c);Je(t)&&(c.domain=t.map(Gd));Je(L)&&(c.range=L.map(Gd));return c}initAxes(c){return Wg.reduce((t,L)=>{var ka=c[L];if(od(ka)||"x"===L&&od(c.x2)||"y"===L&&od(c.y2))ka=od(ka)?ka.axis:void 0,t[L]=ka?this.initAxis(Object.assign({},ka)):ka;return t},{})}initAxis(c){var t=Hd(c);const L={};for(const ka of t)t=c[ka],L[ka]=ra(t)?
je(t):Gd(t);return L}initLegends(c){return dk.reduce((t,L)=>{var ka=Aa(c[L]),sa;if(sa=ka)a:{switch(L){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":sa=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":sa=!1;break a}sa=void 0}sa&&(ka=ka.legend,t[L]=ka?kf(ka):ka);return t},{})}parseData(){this.component.data=bk(this)}parseLayoutSize(){{const {size:t,component:L}=this;for(const ka of Wg){const sa=Ua(ka);if(t[sa]){var c=
t[sa];L.layoutSize.set(sa,zb(c)?"step":c,!0)}else c=xl(this,sa),L.layoutSize.set(sa,c,!1)}}}parseSelections(){this.component.selection=Ih(this,this.selection)}parseMarkGroup(){this.component.mark=Ll(this)}parseAxesAndHeaders(){this.component.axes=ql(this)}assembleSelectionTopLevelSignals(c){return Vj(this,c)}assembleSignals(){return[...Ji(this),...Sh(this,[])]}assembleSelectionData(c){return Xj(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return Dj(this)}assembleMarks(){var c;let t=
null!==(c=this.component.mark)&&void 0!==c?c:[];this.parent&&Lg(this.parent)||(t=Wj(this,t));return t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return Sa(this.encoding,c)}fieldDef(c){return nf(this.encoding[c])}typedFieldDef(c){c=this.fieldDef(c);return Id(c)?c:null}}class xm extends cm{constructor(c,t,L,ka,sa){super(c,"layer",t,L,sa,c.resolve,c.view);jc(this,"children",void 0);const Ba=Object.assign({},ka,c.width?{width:c.width}:
{},c.height?{height:c.height}:{});this.children=c.layer.map((cb,nb)=>{if("layer"in cb)return new xm(cb,this,this.getName("layer_"+nb),Ba,sa);if(Na(cb))return new ym(cb,this,this.getName("layer_"+nb),Ba,sa);throw Error(Pc(cb));})}parseData(){this.component.data=bk(this);for(const c of this.children)c.parseData()}parseLayoutSize(){ck(this);Pk(this,"width");Pk(this,"height")}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Hd(c.component.selection))this.component.selection[t]=
c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:L,resolve:ka}=this.component,sa={top:0,bottom:0,right:0,left:0};for(var c of this.children){c.parseAxesAndHeaders();for(const Ba of Hd(c.component.axes))ka.axis[Ba]=gj(this.component.resolve,Ba),"shared"===ka.axis[Ba]&&(L[Ba]=rl(L[Ba],c.component.axes[Ba]),L[Ba]||(ka.axis[Ba]="independent",delete L[Ba]))}for(const Ba of Wg){for(const cb of this.children)if(cb.component.axes[Ba]){if("independent"===
ka.axis[Ba]){var t;L[Ba]=(null!==(t=L[Ba])&&void 0!==t?t:[]).concat(cb.component.axes[Ba]);for(const nb of cb.component.axes[Ba]){const {value:Gb,explicit:Nb}=nb.getWithExplicit("orient");Dc(Gb)||(0<sa[Gb]&&!Nb&&(c=En[Gb],sa[Gb]>sa[c]&&nb.set("orient",c,!1)),sa[Gb]++)}}delete cb.component.axes[Ba]}if("independent"===ka.axis[Ba]&&L[Ba]&&1<L[Ba].length)for(const cb of L[Ba])cb.get("grid")&&!cb.explicit.grid&&(cb.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,
L)=>L.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleSignals()),Ji(this))}assembleLayoutSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleLayoutSignals()),Dj(this))}assembleSelectionData(c){return this.children.reduce((t,L)=>L.assembleSelectionData(t),c)}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(const t of this.children)if(c=t.assembleTitle())return c}assembleLayout(){return null}assembleMarks(){return vg(this,
this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,t)=>c.concat(t.assembleLegends()),Ak(this))}}l.accessPathDepth=Ya;l.accessPathWithDatum=wa;l.compile=function(c,t){t=void 0===t?{}:t;t.logger&&(kj=t.logger);t.fieldTitle&&(cf=t.fieldTitle);try{const lc=Ma(u(t.config,c.config)),Yc=re(c,lc),hd=hi(Yc,null,"",void 0,lc);hd.parse();{var L=hd.component.data,ka=hd;Xa(L.sources);let qd=0,Md=0;for(var sa=0;5>sa&&tb(L,ka,!0);sa++)qd++;L.sources.map(ea);for(sa=0;5>
sa&&tb(L,ka,!1);sa++)Md++;Xa(L.sources);5===Math.max(qd,Md)&&Lb("Maximum optimization runs(".concat(5,") reached."))}{var Ba=Yc.autosize;L=lc;ka=hd;const qd=ka.component.layoutSize.get("width"),Md=ka.component.layoutSize.get("height");void 0===Ba?(Ba={type:"pad"},ka.hasAxisOrientSignalRef()&&(Ba.resize=!0)):e(Ba)&&(Ba={type:Ba});var cb;if(cb=qd&&Md){var nb=Ba.type;cb="fit"===nb||"fit-x"===nb||"fit-y"===nb}if(cb)if("step"===qd&&"step"===Md)Lb(Sc()),Ba.type="pad";else if("step"===qd||"step"===Md){nb=
"step"===qd?"width":"height";Lb(Sc(Fb(nb)));cb=Ba;var Gb=(nb="width"===nb?"height":"width","fit-".concat(Fb(nb)));cb.type=Gb}var Nb=Object.assign({},1===Hd(Ba).length&&Ba.type?"pad"===Ba.type?{}:{autosize:Ba.type}:{autosize:Ba},ob(L,!1),ob(c,!0))}return{spec:ul(hd,Nb,c.datasets,c.usermeta),normalized:Yc}}finally{t.logger&&(kj=ze),t.fieldTitle&&(cf=Jd)}};l.contains=G;l.deepEqual=ji;l.deleteNestedProperty=aa;l.duplicate=rf;l.entries=fh;l.every=R;l.fieldIntersection=Z;l.flatAccessWithDatum=Ha;l.getFirstDefined=
Ca;l.hasIntersection=ia;l.hash=F;l.internalField=U;l.isBoolean=C;l.isEmpty=P;l.isEqual=function(c,t){const L=Hd(c),ka=Hd(t);if(L.length!==ka.length)return!1;for(const sa of L)if(c[sa]!==t[sa])return!1;return!0};l.isInternalField=W;l.isNullOrFalse=z;l.isNumeric=ca;l.keys=Hd;l.logicalExpr=ha;l.mergeDeep=T;l.normalize=re;l.normalizeAngle=ba;l.omit=M;l.pick=O;l.prefixGenerator=la;l.removePathFromField=Ta;l.replaceAll=va;l.replacePathInField=kb;l.resetIdCounter=function(){jj=42};l.setEqual=fa;l.some=K;
l.stringify=of;l.titleCase=ta;l.unique=ja;l.uniqueId=ua;l.vals=Tg;l.varName=V;l.version="4.17.0";Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[65]=function(Ia,A,rb,E){function k(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function w(n){if(m===setTimeout)return setTimeout(n,0);if((m===k||!m)&&setTimeout)return m=setTimeout,setTimeout(n,0);try{return m(n,0)}catch(y){try{return m.call(null,n,0)}catch(B){return m.call(this,n,0)}}}function H(n){if(g===clearTimeout)return clearTimeout(n);if((g===l||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(n);try{return g(n)}catch(y){try{return g.call(null,
n)}catch(B){return g.call(this,n)}}}function N(){f&&a&&(f=!1,a.length?d=a.concat(d):e=-1,d.length&&x())}function x(){if(!f){var n=w(N);f=!0;for(var y=d.length;y;){a=d;for(d=[];++e<y;)a&&a[e].run();e=-1;y=d.length}a=null;f=!1;H(n)}}function v(n,y){this.fun=n;this.array=y}function u(){}Ia=rb.exports={};try{var m="function"===typeof setTimeout?setTimeout:k}catch(n){m=k}try{var g="function"===typeof clearTimeout?clearTimeout:l}catch(n){g=l}var d=[],f=!1,a,e=-1;Ia.nextTick=function(n){var y=Array(arguments.length-
1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)y[B-1]=arguments[B];d.push(new v(n,y));1!==d.length||f||w(x)};v.prototype.run=function(){this.fun.apply(null,this.array)};Ia.title="browser";Ia.browser=!0;Ia.env={};Ia.argv=[];Ia.version="";Ia.versions={};Ia.on=u;Ia.addListener=u;Ia.once=u;Ia.off=u;Ia.removeListener=u;Ia.removeAllListeners=u;Ia.emit=u;Ia.prependListener=u;Ia.prependOnceListener=u;Ia.listeners=function(n){return[]};Ia.binding=function(n){throw Error("process.binding is not supported");
};Ia.cwd=function(){return"/"};Ia.chdir=function(n){throw Error("process.chdir is not supported");};Ia.umask=function(){return 0}};
shadow$provide[66]=function(Ia,A,rb,E){var k=A(65);(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=w(A(63),A(64)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,l.vegaEmbed=w(l.vega,l.vegaLite))})(this,function(l,w){function H(xa){if(xa&&xa.__esModule)return xa;var Ea=Object.create(null);xa&&Object.keys(xa).forEach(function(Za){if("default"!==Za){var Cb=Object.getOwnPropertyDescriptor(xa,Za);Object.defineProperty(Ea,
Za,Cb.get?Cb:{enumerable:!0,get:function(){return xa[Za]}})}});Ea["default"]=xa;return Object.freeze(Ea)}function N(xa,Ea,Za,Cb){function ub(Yb){return Yb instanceof Za?Yb:new Za(function($b){$b(Yb)})}return new (Za||(Za=Promise))(function(Yb,$b){function Oc(Nd){try{Mc(Cb.next(Nd))}catch(od){$b(od)}}function gd(Nd){try{Mc(Cb["throw"](Nd))}catch(od){$b(od)}}function Mc(Nd){Nd.done?Yb(Nd.value):ub(Nd.value).then(Oc,gd)}Mc((Cb=Cb.apply(xa,Ea||[])).next())})}function x(xa,Ea){function Za(Mc){return function(Nd){return Cb([Mc,
Nd])}}function Cb(Mc){if(Yb)throw new TypeError("Generator is already executing.");for(;ub;)try{if(Yb=1,$b&&(Oc=Mc[0]&2?$b["return"]:Mc[0]?$b["throw"]||((Oc=$b["return"])&&Oc.call($b),0):$b.next)&&!(Oc=Oc.call($b,Mc[1])).done)return Oc;if($b=0,Oc)Mc=[Mc[0]&2,Oc.value];switch(Mc[0]){case 0:case 1:Oc=Mc;break;case 4:return ub.label++,{value:Mc[1],done:!1};case 5:ub.label++;$b=Mc[1];Mc=[0];continue;case 7:Mc=ub.ops.pop();ub.trys.pop();continue;default:if(!(Oc=ub.trys,Oc=0<Oc.length&&Oc[Oc.length-1])&&
(6===Mc[0]||2===Mc[0])){ub=0;continue}if(3===Mc[0]&&(!Oc||Mc[1]>Oc[0]&&Mc[1]<Oc[3]))ub.label=Mc[1];else if(6===Mc[0]&&ub.label<Oc[1])ub.label=Oc[1],Oc=Mc;else if(Oc&&ub.label<Oc[2])ub.label=Oc[2],ub.ops.push(Mc);else{Oc[2]&&ub.ops.pop();ub.trys.pop();continue}}Mc=Ea.call(xa,ub)}catch(Nd){Mc=[6,Nd],$b=0}finally{Yb=Oc=0}if(Mc[0]&5)throw Mc[1];return{value:Mc[0]?Mc[1]:void 0,done:!0}}var ub={label:0,sent:function(){if(Oc[0]&1)throw Oc[1];return Oc[1]},trys:[],ops:[]},Yb,$b,Oc,gd;return gd={next:Za(0),
"throw":Za(1),"return":Za(2)},"function"===typeof Symbol&&(gd[Symbol.iterator]=function(){return this}),gd}function v(xa){if(Array.isArray(xa)){var Ea=Array(xa.length);for(xa=0;xa<Ea.length;xa++)Ea[xa]=""+xa;return Ea}if(Object.keys)return Object.keys(xa);Ea=[];for(var Za in xa)ua.call(xa,Za)&&Ea.push(Za);return Ea}function u(xa){switch(typeof xa){case "object":return JSON.parse(JSON.stringify(xa));case "undefined":return null;default:return xa}}function m(xa){for(var Ea=0,Za=xa.length,Cb;Ea<Za;)if(Cb=
xa.charCodeAt(Ea),48<=Cb&&57>=Cb)Ea++;else return!1;return!0}function g(xa){return-1===xa.indexOf("/")&&-1===xa.indexOf("~")?xa:xa.replace(/~/g,"~0").replace(/\//g,"~1")}function d(xa){return xa.replace(/~1/g,"/").replace(/~0/g,"~")}function f(xa){if(void 0===xa)return!0;if(xa)if(Array.isArray(xa))for(var Ea=0,Za=xa.length;Ea<Za;Ea++){if(f(xa[Ea]))return!0}else if("object"===typeof xa){Za=v(xa);var Cb=Za.length;for(Ea=0;Ea<Cb;Ea++)if(f(xa[Za[Ea]]))return!0}return!1}function a(xa,Ea){xa=[xa];for(var Za in Ea){var Cb=
"object"===typeof Ea[Za]?JSON.stringify(Ea[Za],null,2):Ea[Za];"undefined"!==typeof Cb&&xa.push(Za+": "+Cb)}return xa.join("\n")}function e(xa,Ea){if(""==Ea)return xa;Ea={op:"_get",path:Ea};n(xa,Ea);return Ea.value}function n(xa,Ea,Za,Cb,ub,Yb){void 0===Za&&(Za=!1);void 0===Cb&&(Cb=!0);void 0===ub&&(ub=!0);void 0===Yb&&(Yb=0);Za&&("function"==typeof Za?Za(Ea,0,xa,Ea.path):B(Ea,0));if(""===Ea.path){ub={newDocument:xa};if("add"===Ea.op)return ub.newDocument=Ea.value,ub;if("replace"===Ea.op)return ub.newDocument=
Ea.value,ub.removed=xa,ub;if("move"===Ea.op||"copy"===Ea.op)return ub.newDocument=e(xa,Ea.from),"move"===Ea.op&&(ub.removed=xa),ub;if("test"===Ea.op){ub.test=O(xa,Ea.value);if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,xa);ub.newDocument=xa;return ub}if("remove"===Ea.op)return ub.removed=xa,ub.newDocument=null,ub;if("_get"===Ea.op)return Ea.value=xa,ub;if(Za)throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Yb,Ea,xa);return ub}Cb||(xa=u(xa));Cb=(Ea.path||"").split("/");var $b=xa,Oc=1,gd=Cb.length,Mc=void 0,Nd;for(Nd="function"==typeof Za?Za:B;;){var od=Cb[Oc];if(ub&&"__proto__"==od)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Za&&void 0===Mc&&(void 0===$b[od]?Mc=Cb.slice(0,Oc).join("/"):Oc==gd-1&&(Mc=Ea.path),void 0!==
Mc&&Nd(Ea,0,xa,Mc));Oc++;if(Array.isArray($b)){if("-"===od)od=$b.length;else{if(Za&&!m(od))throw new W("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Yb,Ea,xa);m(od)&&(od=~~od)}if(Oc>=gd){if(Za&&"add"===Ea.op&&od>$b.length)throw new W("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Yb,Ea,xa);ub=ca[Ea.op].call(Ea,$b,od,xa);
if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,xa);return ub}}else if(od&&-1!=od.indexOf("~")&&(od=d(od)),Oc>=gd){ub=ba[Ea.op].call(Ea,$b,od,xa);if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,xa);return ub}$b=$b[od]}}function y(xa,Ea,Za,Cb,ub){void 0===Cb&&(Cb=!0);void 0===ub&&(ub=!0);if(Za&&!Array.isArray(Ea))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Cb||(xa=u(xa));Cb=Array(Ea.length);for(var Yb=0,
$b=Ea.length;Yb<$b;Yb++)Cb[Yb]=n(xa,Ea[Yb],Za,!0,ub,Yb),xa=Cb[Yb].newDocument;Cb.newDocument=xa;return Cb}function B(xa,Ea,Za,Cb){if("object"!==typeof xa||null===xa||Array.isArray(xa))throw new W("Operation is not an object","OPERATION_NOT_AN_OBJECT",Ea,xa,Za);if(ba[xa.op]){if("string"!==typeof xa.path)throw new W("Operation `path` property is not a string","OPERATION_PATH_INVALID",Ea,xa,Za);if(0!==xa.path.indexOf("/")&&0<xa.path.length)throw new W('Operation `path` property must start with "/"',
"OPERATION_PATH_INVALID",Ea,xa,Za);if("move"!==xa.op&&"copy"!==xa.op||"string"===typeof xa.from)if("add"!==xa.op&&"replace"!==xa.op&&"test"!==xa.op||void 0!==xa.value){if(("add"===xa.op||"replace"===xa.op||"test"===xa.op)&&f(xa.value))throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Ea,xa,Za);if(Za)if("add"==xa.op){var ub=xa.path.split("/").length;Cb=Cb.split("/").length;if(ub!==Cb+1&&ub!==Cb)throw new W("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Ea,xa,Za);}else if("replace"===xa.op||"remove"===xa.op||"_get"===xa.op){if(xa.path!==Cb)throw new W("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Ea,xa,Za);}else if(("move"===xa.op||"copy"===xa.op)&&(ub=D([{op:"_get",path:xa.from,value:void 0}],Za))&&"OPERATION_PATH_UNRESOLVABLE"===ub.name)throw new W("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Ea,xa,Za);}else throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Ea,xa,Za);else throw new W("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Ea,xa,Za);}else throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ea,xa,Za);}function D(xa,Ea,Za){try{if(!Array.isArray(xa))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Ea)y(u(Ea),u(xa),Za||!0);else{Za=Za||B;for(var Cb=0;Cb<xa.length;Cb++)Za(xa[Cb],
Cb,Ea,void 0)}}catch(ub){if(ub instanceof W)return ub;throw ub;}}function O(xa,Ea){if(xa===Ea)return!0;if(xa&&Ea&&"object"==typeof xa&&"object"==typeof Ea){var Za=Array.isArray(xa),Cb=Array.isArray(Ea);if(Za&&Cb){var ub=xa.length;if(ub!=Ea.length)return!1;for(Za=ub;0!==Za--;)if(!O(xa[Za],Ea[Za]))return!1;return!0}if(Za!=Cb)return!1;Cb=Object.keys(xa);ub=Cb.length;if(ub!==Object.keys(Ea).length)return!1;for(Za=ub;0!==Za--;)if(!Ea.hasOwnProperty(Cb[Za]))return!1;for(Za=ub;0!==Za--;)if(ub=Cb[Za],!O(xa[ub],
Ea[ub]))return!1;return!0}return xa!==xa&&Ea!==Ea}function M(xa,Ea){void 0===Ea&&(Ea=!1);var Za=qa.get(xa.object);F(Za.value,xa.object,xa.patches,"",Ea);xa.patches.length&&y(Za.value,xa.patches);Ea=xa.patches;0<Ea.length&&(xa.patches=[],xa.callback&&xa.callback(Ea));return Ea}function F(xa,Ea,Za,Cb,ub){if(Ea!==xa){"function"===typeof Ea.toJSON&&(Ea=Ea.toJSON());for(var Yb=v(Ea),$b=v(xa),Oc=!1,gd=$b.length-1;0<=gd;gd--){var Mc=$b[gd],Nd=xa[Mc];if(!ua.call(Ea,Mc)||void 0===Ea[Mc]&&void 0!==Nd&&!1===
Array.isArray(Ea))Array.isArray(xa)===Array.isArray(Ea)?(ub&&Za.push({op:"test",path:Cb+"/"+g(Mc),value:u(Nd)}),Za.push({op:"remove",path:Cb+"/"+g(Mc)}),Oc=!0):(ub&&Za.push({op:"test",path:Cb,value:xa}),Za.push({op:"replace",path:Cb,value:Ea}));else{var od=Ea[Mc];"object"==typeof Nd&&null!=Nd&&"object"==typeof od&&null!=od?F(Nd,od,Za,Cb+"/"+g(Mc),ub):Nd!==od&&(ub&&Za.push({op:"test",path:Cb+"/"+g(Mc),value:u(Nd)}),Za.push({op:"replace",path:Cb+"/"+g(Mc),value:u(od)}))}}if(Oc||Yb.length!=$b.length)for(gd=
0;gd<Yb.length;gd++)Mc=Yb[gd],ua.call(xa,Mc)||void 0===Ea[Mc]||Za.push({op:"add",path:Cb+"/"+g(Mc),value:u(Ea[Mc])})}}function z(xa){var Ea=this;Ea instanceof z||(Ea=new z);Ea.tail=null;Ea.head=null;Ea.length=0;if(xa&&"function"===typeof xa.forEach)xa.forEach(function(ub){Ea.push(ub)});else if(0<arguments.length)for(var Za=0,Cb=arguments.length;Za<Cb;Za++)Ea.push(arguments[Za]);return Ea}function G(xa,Ea,Za,Cb){if(!(this instanceof G))return new G(xa,Ea,Za,Cb);this.list=Cb;this.value=xa;Ea?(Ea.next=
this,this.prev=Ea):this.prev=null;Za?(Za.prev=this,this.next=Za):this.next=null}function K(xa){const [Ea,Za]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(xa).slice(1,3);return{library:Ea,version:Za}}function R(xa,Ea,Za){xa.fields=Ea||[];xa.fname=Za;return xa}function T(xa){return 1===xa.length?Ye(xa[0]):Xf(xa)}function ja(xa){function Ea(){Za.push($b+xa.substring(Oc,gd));$b="";Oc=gd+1}const Za=[],Cb=xa.length;let ub=null,Yb=0,$b="",Oc,gd,Mc;xa+="";for(Oc=gd=0;gd<Cb;++gd)if(Mc=xa[gd],"\\"===Mc)$b+=
xa.substring(Oc,gd),$b+=xa.substring(++gd,++gd),Oc=gd;else if(Mc===ub)Ea(),ub=null,Yb=-1;else if(!ub)if(Oc===Yb&&'"'===Mc)Oc=gd+1,ub=Mc;else if(Oc===Yb&&"'"===Mc)Oc=gd+1,ub=Mc;else if("."===Mc&&!Yb)gd>Oc?Ea():Oc=gd+1;else if("["===Mc)gd>Oc&&Ea(),Yb=Oc=gd+1;else if("]"===Mc){if(!Yb)throw Error("Access path missing open bracket: "+xa);0<Yb&&Ea();Yb=0;Oc=gd+1}if(Yb)throw Error("Access path missing closing bracket: "+xa);if(ub)throw Error("Access path missing closing quote: "+xa);gd>Oc&&(gd++,Ea());return Za}
function fa(xa,Ea){var Za={},Cb;for(Cb in xa)Object.prototype.hasOwnProperty.call(xa,Cb)&&0>Ea.indexOf(Cb)&&(Za[Cb]=xa[Cb]);if(null!=xa&&"function"===typeof Object.getOwnPropertySymbols){var ub=0;for(Cb=Object.getOwnPropertySymbols(xa);ub<Cb.length;ub++)0>Ea.indexOf(Cb[ub])&&Object.prototype.propertyIsEnumerable.call(xa,Cb[ub])&&(Za[Cb[ub]]=xa[Cb[ub]])}return Za}function ia(xa,Ea,Za){if(Gc(xa))return`[${xa.map(ub=>Ea("string"===typeof ub?ub:JSON.stringify(ub,la(Za)))).join(", ")}]`;if(xa===Object(xa)){let ub=
"";const {title:Yb,image:$b}=xa;xa=fa(xa,["title","image"]);Yb&&(ub+=`<h2>${Ea(Yb)}</h2>`);$b&&(ub+=`<img src="${Ea($b)}">`);var Cb=Object.keys(xa);if(0<Cb.length){ub+="\x3ctable\x3e";for(const Oc of Cb)Cb=xa[Oc],void 0!==Cb&&(Cb===Object(Cb)&&(Cb=JSON.stringify(Cb,la(Za))),ub+=`<tr><td class="key">${Ea(Oc)}:</td><td class="value">${Ea(Cb)}</td></tr>`);ub+="\x3c/table\x3e"}return ub||"{}"}return Ea(xa)}function la(xa){const Ea=[];return function(Za,Cb){if("object"!==typeof Cb||null===Cb)return Cb;
Za=Ea.indexOf(this)+1;Ea.length=Za;if(Ea.length>xa)return"[Object]";if(0<=Ea.indexOf(Cb))return"[Circular]";Ea.push(Cb);return Cb}}function Z(xa,Ea,Za){function Cb(gd){gd.source===Yb&&(Oc=0,xa.removeEventListener("message",Cb,!1))}function ub(){0>=Oc||(Yb.postMessage(Za,$b),setTimeout(ub,250),--Oc)}var Yb=xa.open(Ea),$b=(new URL(Ea)).origin,Oc=40;xa.addEventListener("message",Cb,!1);setTimeout(ub,250)}function P(xa){for(var Ea=[],Za=1;Za<arguments.length;Za++)Ea[Za-1]=arguments[Za];for(Za=0;Za<Ea.length;Za++)for(var Cb=
xa,ub=Ea[Za],Yb=0,$b=Object.keys(ub);Yb<$b.length;Yb++){var Oc=$b[Yb];l.writeConfig(Cb,Oc,ub[Oc],!0)}return xa}function C(xa,Ea,Za,Cb){Ea="\x3chtml\x3e\x3chead\x3e"+Ea+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Za="\x3c/code\x3e\x3c/pre\x3e"+Za+"\x3c/body\x3e\x3c/html\x3e";var ub=window.open("");ub.document.write(Ea+xa+Za);ub.document.title=Sf[Cb]+" JSON Source"}function V(xa,Ea){var Za;return xa.$schema?(xa=K(xa.$schema),Ea&&Ea!==xa.library&&console.warn("The given visualization spec is written in "+
Sf[xa.library]+", but mode argument sets "+(null!==(Za=Sf[Ea])&&void 0!==Za?Za:Ea)+"."),Ea=xa.library,Be.satisfies(Bf[Ea],"^"+xa.version.slice(1))||console.warn("The input spec uses "+Sf[Ea]+" "+xa.version+", but the current version of "+Sf[Ea]+" is v"+Bf[Ea]+"."),Ea):"mark"in xa||"encoding"in xa||"layer"in xa||"hconcat"in xa||"vconcat"in xa||"facet"in xa||"repeat"in xa?"vega-lite":"marks"in xa||"signals"in xa||"scales"in xa||"axes"in xa?"vega":null!==Ea&&void 0!==Ea?Ea:"vega"}function ha(xa){return xa&&
"load"in xa?xa:Fe.loader(xa)}function aa(xa){var Ea;return null!==(Ea=xa.usermeta&&xa.usermeta.embedOptions)&&void 0!==Ea?Ea:{}}function ta(xa,Ea,Za){var Cb,ub,Yb;void 0===Za&&(Za={});return N(this,void 0,void 0,function(){var $b,Oc,gd,Mc,Nd,od,Id,jd;return x(this,function(Qd){switch(Qd.label){case 0:if(!l.isString(Ea))return[3,2];Oc=ha(Za.loader);Mc=(gd=JSON).parse;return[4,Oc.load(Ea)];case 1:return $b=Mc.apply(gd,[Qd.sent()]),[3,3];case 2:$b=Ea,Qd.label=3;case 3:Nd=aa($b).loader;if(!Oc||Nd)Oc=
ha(null!==(Cb=Za.loader)&&void 0!==Cb?Cb:Nd);return[4,wa(aa($b),Oc)];case 4:return od=Qd.sent(),[4,wa(Za,Oc)];case 5:return Id=Qd.sent(),jd=Ya(Ya({},P(Id,od)),{config:l.mergeConfig(null!==(ub=Id.config)&&void 0!==ub?ub:{},null!==(Yb=od.config)&&void 0!==Yb?Yb:{})}),[4,bb(xa,$b,jd,Oc)];case 6:return[2,Qd.sent()]}})})}function wa(xa,Ea){var Za;return N(this,void 0,void 0,function(){var Cb,ub,Yb,$b,Oc,gd,Mc,Nd;return x(this,function(od){switch(od.label){case 0:if(!l.isString(xa.config))return[3,2];$b=
(Yb=JSON).parse;return[4,Ea.load(xa.config)];case 1:return ub=$b.apply(Yb,[od.sent()]),[3,3];case 2:ub=null!==(Za=xa.config)&&void 0!==Za?Za:{},od.label=3;case 3:Cb=ub;if(!l.isString(xa.patch))return[3,5];Nd=(Mc=JSON).parse;return[4,Ea.load(xa.patch)];case 4:return gd=Nd.apply(Mc,[od.sent()]),[3,6];case 5:gd=xa.patch,od.label=6;case 6:return Oc=gd,[2,Ya(Ya(Ya({},xa),Oc?{patch:Oc}:{}),Cb?{config:Cb}:{})]}})})}function Ha(xa){var Ea;xa=xa.getRootNode?xa.getRootNode():document;return xa instanceof ShadowRoot?
{root:xa,rootContainer:xa}:{root:document,rootContainer:null!==(Ea=document.head)&&void 0!==Ea?Ea:document.body}}function bb(xa,Ea,Za,Cb){var ub,Yb,$b,Oc,gd,Mc;void 0===Za&&(Za={});return N(this,void 0,void 0,function(){function Nd(){Kd&&document.removeEventListener("click",Kd);Tb.finalize()}var od,Id,jd,Qd,ie,Gf,tf,kd,We,uf,mf,Zf,yf,Pe,nf,Aa,Pa,vb,Wb,Tb,ic,oc,fd,Wc,nd,Kd,de,je,Gd,Le,$d,Ie,Ce,Qe,Uf,ne,sf,Cf;return x(this,function(Bg){switch(Bg.label){case 0:od=Za.theme?l.mergeConfig(Td[Za.theme],
null!==(ub=Za.config)&&void 0!==ub?ub:{}):Za.config;Id=l.isBoolean(Za.actions)?Za.actions:P({},Yf,null!==(Yb=Za.actions)&&void 0!==Yb?Yb:{});jd=Ya(Ya({},If),Za.i18n);Qd=null!==($b=Za.renderer)&&void 0!==$b?$b:"canvas";ie=null!==(Oc=Za.logLevel)&&void 0!==Oc?Oc:Fe.Warn;Gf=null!==(gd=Za.downloadFileName)&&void 0!==gd?gd:"visualization";tf="string"===typeof xa?document.querySelector(xa):xa;if(!tf)throw Error(xa+" does not exist");!1!==Za.defaultStyle&&(kd=Ha(tf),We=kd.root,uf=kd.rootContainer,We.getElementById("vega-embed-style")||
(mf=document.createElement("style"),mf.id="vega-embed-style",mf.innerText=void 0===Za.defaultStyle||!0===Za.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Za.defaultStyle,uf.appendChild(mf)));Zf=V(Ea,Za.mode);yf=qe[Zf](Ea,od);"vega-lite"===Zf&&yf.$schema&&(Pe=K(yf.$schema),Be.satisfies(Bf.vega,"^"+Pe.version.slice(1))||console.warn("The compiled spec uses Vega "+Pe.version+", but current version is v"+Bf.vega+"."));tf.classList.add("vega-embed");Id&&tf.classList.add("has-actions");tf.innerHTML="";nf=tf;Id&&(Aa=document.createElement("div"),Aa.classList.add("chart-wrapper"),tf.appendChild(Aa),nf=Aa);(Pa=Za.patch)&&(yf=Pa instanceof Function?Pa(yf):y(yf,
Pa,!0,!1).newDocument);Za.formatLocale&&Fe.formatLocale(Za.formatLocale);Za.timeFormatLocale&&Fe.timeFormatLocale(Za.timeFormatLocale);vb=Za.ast;Wb=Fe.parse(yf,"vega-lite"===Zf?{}:od,{ast:vb});Tb=new Fe.View(Wb,Ya({loader:Cb,logLevel:ie,renderer:Qd},vb?{expr:Fe.expressionInterpreter}:{}));!1!==Za.tooltip&&(ic=void 0,ic="function"===typeof Za.tooltip?Za.tooltip:(new le(!0===Za.tooltip?{}:Za.tooltip)).call,Tb.tooltip(ic));oc=Za.hover;void 0===oc&&(oc="vega"===Zf);oc&&(fd="boolean"===typeof oc?{}:oc,
Wc=fd.hoverSet,nd=fd.updateSet,Tb.hover(Wc,nd));Za&&(null!=Za.width&&Tb.width(Za.width),null!=Za.height&&Tb.height(Za.height),null!=Za.padding&&Tb.padding(Za.padding));return[4,Tb.initialize(nf,Za.bind).runAsync()];case 1:Bg.sent();if(!1!==Id){de=tf;!1!==Za.defaultStyle&&(je=document.createElement("details"),je.title=jd.CLICK_TO_VIEW_ACTIONS,tf.append(je),de=je,Gd=document.createElement("summary"),Gd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
je.append(Gd),Kd=function(Lf){je.contains(Lf.target)||je.removeAttribute("open")},document.addEventListener("click",Kd));Le=document.createElement("div");de.append(Le);Le.classList.add("vega-actions");if(!0===Id||!1!==Id["export"])for($d=function(Lf){if(!0===Id||!0===Id["export"]||Id["export"][Lf]){var jg=jd[Lf.toUpperCase()+"_ACTION"],ya=document.createElement("a");ya.text=jg;ya.href="#";ya.target="_blank";ya.download=Gf+"."+Lf;ya.addEventListener("mousedown",function(za){return N(this,void 0,void 0,
function(){var Na;return x(this,function(Sa){switch(Sa.label){case 0:return za.preventDefault(),[4,Tb.toImageURL(Lf,Za.scaleFactor)];case 1:return this.href=Na=Sa.sent(),[2]}})})});Le.append(ya)}},Ie=0,Ce=["svg","png"];Ie<Ce.length;Ie++)Qe=Ce[Ie],$d(Qe);if(!0===Id||!1!==Id.source)Uf=document.createElement("a"),Uf.text=jd.SOURCE_ACTION,Uf.href="#",Uf.addEventListener("click",function(Lf){var jg,ya;C($a(Ea),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(ya=Za.sourceFooter)&&void 0!==ya?ya:"",
Zf);Lf.preventDefault()}),Le.append(Uf);"vega-lite"!==Zf||!0!==Id&&!1===Id.compiled||(ne=document.createElement("a"),ne.text=jd.COMPILED_ACTION,ne.href="#",ne.addEventListener("click",function(Lf){var jg,ya;C($a(yf),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(ya=Za.sourceFooter)&&void 0!==ya?ya:"","vega");Lf.preventDefault()}),Le.append(ne));if(!0===Id||!1!==Id.editor)sf=null!==(Mc=Za.editorUrl)&&void 0!==Mc?Mc:"https://vega.github.io/editor/",Cf=document.createElement("a"),Cf.text=jd.EDITOR_ACTION,
Cf.href="#",Cf.addEventListener("click",function(Lf){Z(window,sf,{config:od,mode:Zf,renderer:Qd,spec:$a(Ea)});Lf.preventDefault()}),Le.append(Cf)}return[2,{view:Tb,spec:Ea,vgSpec:yf,finalize:Nd}]}})})}function kb(xa,Ea){var Za;void 0===Ea&&(Ea={});return N(this,void 0,void 0,function(){var Cb,ub,Yb,$b;return x(this,function(Oc){switch(Oc.label){case 0:return Cb=document.createElement("div"),Cb.classList.add("vega-embed-wrapper"),ub=document.createElement("div"),Cb.appendChild(ub),Yb=!0===Ea.actions||
!1===Ea.actions?Ea.actions:Ya({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Za=Ea.actions)&&void 0!==Za?Za:{}),[4,ta(ub,xa,Ya({actions:Yb},null!==Ea&&void 0!==Ea?Ea:{}))];case 1:return $b=Oc.sent(),Cb.value=$b.view,[2,Cb]}})})}var va=H(l),Ta=H(w),Ya=function(){Ya=Object.assign||function(xa){for(var Ea,Za=1,Cb=arguments.length;Za<Cb;Za++){Ea=arguments[Za];for(var ub in Ea)Object.prototype.hasOwnProperty.call(Ea,ub)&&(xa[ub]=Ea[ub])}return xa};return Ya.apply(this,arguments)},Ca=function(){var xa=
function(Ea,Za){xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cb,ub){Cb.__proto__=ub}||function(Cb,ub){for(var Yb in ub)ub.hasOwnProperty(Yb)&&(Cb[Yb]=ub[Yb])};return xa(Ea,Za)};return function(Ea,Za){function Cb(){this.constructor=Ea}xa(Ea,Za);Ea.prototype=null===Za?Object.create(Za):(Cb.prototype=Za.prototype,new Cb)}}(),ua=Object.prototype.hasOwnProperty,U=function(xa){function Ea(Za,Cb,ub,Yb,$b){var Oc=this.constructor,gd=xa.call(this,a(Za,{name:Cb,index:ub,operation:Yb,tree:$b}))||
this;gd.name=Cb;gd.index=ub;gd.operation=Yb;gd.tree=$b;Object.setPrototypeOf(gd,Oc.prototype);gd.message=a(Za,{name:Cb,index:ub,operation:Yb,tree:$b});return gd}Ca(Ea,xa);return Ea}(Error),W=U,ba={add:function(xa,Ea,Za){xa[Ea]=this.value;return{newDocument:Za}},remove:function(xa,Ea,Za){var Cb=xa[Ea];delete xa[Ea];return{newDocument:Za,removed:Cb}},replace:function(xa,Ea,Za){var Cb=xa[Ea];xa[Ea]=this.value;return{newDocument:Za,removed:Cb}},move:function(xa,Ea,Za){(xa=e(Za,this.path))&&(xa=u(xa));
Ea=n(Za,{op:"remove",path:this.from}).removed;n(Za,{op:"add",path:this.path,value:Ea});return{newDocument:Za,removed:xa}},copy:function(xa,Ea,Za){xa=e(Za,this.from);n(Za,{op:"add",path:this.path,value:u(xa)});return{newDocument:Za}},test:function(xa,Ea,Za){return{newDocument:Za,test:O(xa[Ea],this.value)}},_get:function(xa,Ea,Za){this.value=xa[Ea];return{newDocument:Za}}},ca={add:function(xa,Ea,Za){m(Ea)?xa.splice(Ea,0,this.value):xa[Ea]=this.value;return{newDocument:Za,index:Ea}},remove:function(xa,
Ea,Za){xa=xa.splice(Ea,1);return{newDocument:Za,removed:xa[0]}},replace:function(xa,Ea,Za){var Cb=xa[Ea];xa[Ea]=this.value;return{newDocument:Za,removed:Cb}},move:ba.move,copy:ba.copy,test:ba.test,_get:ba._get},ra=Object.freeze({__proto__:null,JsonPatchError:W,deepClone:u,getValueByPointer:e,applyOperation:n,applyPatch:y,applyReducer:function(xa,Ea,Za){var Cb=n(xa,Ea);if(!1===Cb.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Za,Ea,xa);return Cb.newDocument},validator:B,validate:D,
_areEquals:O}),qa=new WeakMap,Da=function(){return function(xa){this.observers=new Map;this.obj=xa}}(),na=function(){return function(xa,Ea){this.callback=xa;this.observer=Ea}}(),Ra=Object.freeze({__proto__:null,unobserve:function(xa,Ea){Ea.unobserve()},observe:function(xa,Ea){var Za=qa.get(xa);if(Za){var Cb=Za.observers.get(Ea);var ub=Cb&&Cb.observer}else Za=new Da(xa),qa.set(xa,Za);if(ub)return ub;ub={};Za.value=u(xa);if(Ea){ub.callback=Ea;ub.next=null;var Yb=function(){M(ub)},$b=function(){clearTimeout(ub.next);
ub.next=setTimeout(Yb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",$b),window.addEventListener("keyup",$b),window.addEventListener("mousedown",$b),window.addEventListener("keydown",$b),window.addEventListener("change",$b))}ub.patches=[];ub.object=xa;ub.unobserve=function(){M(ub);clearTimeout(ub.next);Za.observers.delete(ub.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",$b),window.removeEventListener("keyup",$b),window.removeEventListener("mousedown",
$b),window.removeEventListener("keydown",$b),window.removeEventListener("change",$b))};Za.observers.set(Ea,new na(Ea,ub));return ub},generate:M,compare:function(xa,Ea,Za){void 0===Za&&(Za=!1);var Cb=[];F(xa,Ea,Cb,"",Za);return Cb}});Object.assign({},ra,Ra,{JsonPatchError:U,deepClone:u,escapePathComponent:g,unescapePathComponent:d});var db=/("(?:[^\\"]|\\.)*")|[:,]/g,$a=function(xa,Ea){Ea=Ea||{};var Za=JSON.stringify([1],void 0,void 0===Ea.indent?2:Ea.indent).slice(2,-3);var Cb=""===Za?Infinity:void 0===
Ea.maxLength?80:Ea.maxLength;var ub=Ea.replacer;return function Mc($b,Oc,gd){$b&&"function"===typeof $b.toJSON&&($b=$b.toJSON());var Nd=JSON.stringify($b,ub);if(void 0===Nd)return Nd;gd=Cb-Oc.length-gd;if(Nd.length<=gd){var od=Nd.replace(db,function(We,uf){return uf||We+" "});if(od.length<=gd)return od}null!=ub&&($b=JSON.parse(Nd),ub=void 0);if("object"===typeof $b&&null!==$b){var Id=Oc+Za;var jd=[];var Qd=0;if(Array.isArray($b)){var ie="[";od="]";for(gd=$b.length;Qd<gd;Qd++)jd.push(Mc($b[Qd],Id,
Qd===gd-1?0:1)||"null")}else{ie="{";od="}";var Gf=Object.keys($b);for(gd=Gf.length;Qd<gd;Qd++){var tf=Gf[Qd];var kd=JSON.stringify(tf)+": ";tf=Mc($b[tf],Id,kd.length+(Qd===gd-1?0:1));void 0!==tf&&jd.push(kd+tf)}}if(0<jd.length)return[ie,Za+jd.join(",\n"+Id),od].join("\n"+Oc)}return Nd}(xa,"",0)},Fa={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ga="object"===typeof k&&k.env&&k.env.NODE_DEBUG&&/\bsemver\b/i.test(k.env.NODE_DEBUG)?
(...xa)=>console.error("SEMVER",...xa):()=>{},pa=function(xa){var Ea={exports:{}};return xa(Ea,Ea.exports),Ea.exports}(function(xa,Ea){const {MAX_SAFE_COMPONENT_LENGTH:Za}=Fa;Ea=xa.exports={};const Cb=Ea.re=[],ub=Ea.src=[],Yb=Ea.t={};let $b=0;xa=(Oc,gd,Mc)=>{const Nd=$b++;Ga(Nd,gd);Yb[Oc]=Nd;ub[Nd]=gd;Cb[Nd]=new RegExp(gd,Mc?"g":void 0)};xa("NUMERICIDENTIFIER","0|[1-9]\\d*");xa("NUMERICIDENTIFIERLOOSE","[0-9]+");xa("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");xa("MAINVERSION",`(${ub[Yb.NUMERICIDENTIFIER]})\\.`+
`(${ub[Yb.NUMERICIDENTIFIER]})\\.`+`(${ub[Yb.NUMERICIDENTIFIER]})`);xa("MAINVERSIONLOOSE",`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})`);xa("PRERELEASEIDENTIFIER",`(?:${ub[Yb.NUMERICIDENTIFIER]}|${ub[Yb.NONNUMERICIDENTIFIER]})`);xa("PRERELEASEIDENTIFIERLOOSE",`(?:${ub[Yb.NUMERICIDENTIFIERLOOSE]}|${ub[Yb.NONNUMERICIDENTIFIER]})`);xa("PRERELEASE",`(?:-(${ub[Yb.PRERELEASEIDENTIFIER]}(?:\\.${ub[Yb.PRERELEASEIDENTIFIER]})*))`);xa("PRERELEASELOOSE",
`(?:-?(${ub[Yb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ub[Yb.PRERELEASEIDENTIFIERLOOSE]})*))`);xa("BUILDIDENTIFIER","[0-9A-Za-z-]+");xa("BUILD",`(?:\\+(${ub[Yb.BUILDIDENTIFIER]}(?:\\.${ub[Yb.BUILDIDENTIFIER]})*))`);xa("FULLPLAIN",`v?${ub[Yb.MAINVERSION]}${ub[Yb.PRERELEASE]}?${ub[Yb.BUILD]}?`);xa("FULL",`^${ub[Yb.FULLPLAIN]}$`);xa("LOOSEPLAIN",`[v=\\s]*${ub[Yb.MAINVERSIONLOOSE]}${ub[Yb.PRERELEASELOOSE]}?${ub[Yb.BUILD]}?`);xa("LOOSE",`^${ub[Yb.LOOSEPLAIN]}$`);xa("GTLT","((?:\x3c|\x3e)?\x3d?)");xa("XRANGEIDENTIFIERLOOSE",
`${ub[Yb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);xa("XRANGEIDENTIFIER",`${ub[Yb.NUMERICIDENTIFIER]}|x|X|\\*`);xa("XRANGEPLAIN",`[v=\\s]*(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:${ub[Yb.PRERELEASE]})?${ub[Yb.BUILD]}?`+")?)?");xa("XRANGEPLAINLOOSE",`[v=\\s]*(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:${ub[Yb.PRERELEASELOOSE]})?${ub[Yb.BUILD]}?`+")?)?");xa("XRANGE",
`^${ub[Yb.GTLT]}\\s*${ub[Yb.XRANGEPLAIN]}$`);xa("XRANGELOOSE",`^${ub[Yb.GTLT]}\\s*${ub[Yb.XRANGEPLAINLOOSE]}$`);xa("COERCE",`${"(^|[^\\d])(\\d{1,"}${Za}})`+`(?:\\.(\\d{1,${Za}}))?`+`(?:\\.(\\d{1,${Za}}))?`+"(?:$|[^\\d])");xa("COERCERTL",ub[Yb.COERCE],!0);xa("LONETILDE","(?:~\x3e?)");xa("TILDETRIM",`(\\s*)${ub[Yb.LONETILDE]}\\s+`,!0);Ea.tildeTrimReplace="$1~";xa("TILDE",`^${ub[Yb.LONETILDE]}${ub[Yb.XRANGEPLAIN]}$`);xa("TILDELOOSE",`^${ub[Yb.LONETILDE]}${ub[Yb.XRANGEPLAINLOOSE]}$`);xa("LONECARET","(?:\\^)");
xa("CARETTRIM",`(\\s*)${ub[Yb.LONECARET]}\\s+`,!0);Ea.caretTrimReplace="$1^";xa("CARET",`^${ub[Yb.LONECARET]}${ub[Yb.XRANGEPLAIN]}$`);xa("CARETLOOSE",`^${ub[Yb.LONECARET]}${ub[Yb.XRANGEPLAINLOOSE]}$`);xa("COMPARATORLOOSE",`^${ub[Yb.GTLT]}\\s*(${ub[Yb.LOOSEPLAIN]})$|^$`);xa("COMPARATOR",`^${ub[Yb.GTLT]}\\s*(${ub[Yb.FULLPLAIN]})$|^$`);xa("COMPARATORTRIM",`(\\s*)${ub[Yb.GTLT]}\\s*(${ub[Yb.LOOSEPLAIN]}|${ub[Yb.XRANGEPLAIN]})`,!0);Ea.comparatorTrimReplace="$1$2$3";xa("HYPHENRANGE",`^\\s*(${ub[Yb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${ub[Yb.XRANGEPLAIN]})`+"\\s*$");xa("HYPHENRANGELOOSE",`^\\s*(${ub[Yb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${ub[Yb.XRANGEPLAINLOOSE]})`+"\\s*$");xa("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");xa("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");xa("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const Ja=["includePrerelease","loose","rtl"];var Ua=xa=>xa?"object"!==typeof xa?{loose:!0}:Ja.filter(Ea=>xa[Ea]).reduce((Ea,Za)=>{Ea[Za]=!0;return Ea},{}):{};const jb=/^[0-9]+$/,Fb=(xa,Ea)=>{const Za=jb.test(xa),Cb=jb.test(Ea);
Za&&Cb&&(xa=+xa,Ea=+Ea);return xa===Ea?0:Za&&!Cb?-1:Cb&&!Za?1:xa<Ea?-1:1};var Xb={compareIdentifiers:Fb,rcompareIdentifiers:(xa,Ea)=>Fb(Ea,xa)};const {MAX_LENGTH:nc,MAX_SAFE_INTEGER:md}=Fa,{re:pc,t:Hc}=pa,{compareIdentifiers:mb}=Xb;class hc{constructor(xa,Ea){Ea=Ua(Ea);if(xa instanceof hc){if(xa.loose===!!Ea.loose&&xa.includePrerelease===!!Ea.includePrerelease)return xa;xa=xa.version}else if("string"!==typeof xa)throw new TypeError(`Invalid Version: ${xa}`);if(xa.length>nc)throw new TypeError(`version is longer than ${nc} characters`);
Ga("SemVer",xa,Ea);this.options=Ea;this.loose=!!Ea.loose;this.includePrerelease=!!Ea.includePrerelease;Ea=xa.trim().match(Ea.loose?pc[Hc.LOOSE]:pc[Hc.FULL]);if(!Ea)throw new TypeError(`Invalid Version: ${xa}`);this.raw=xa;this.major=+Ea[1];this.minor=+Ea[2];this.patch=+Ea[3];if(this.major>md||0>this.major)throw new TypeError("Invalid major version");if(this.minor>md||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>md||0>this.patch)throw new TypeError("Invalid patch version");
this.prerelease=Ea[4]?Ea[4].split(".").map(Za=>{if(/^[0-9]+$/.test(Za)){const Cb=+Za;if(0<=Cb&&Cb<md)return Cb}return Za}):[];this.build=Ea[5]?Ea[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(xa){Ga("SemVer.compare",this.version,this.options,xa);if(!(xa instanceof hc)){if("string"===typeof xa&&xa===this.version)return 0;
xa=new hc(xa,this.options)}return xa.version===this.version?0:this.compareMain(xa)||this.comparePre(xa)}compareMain(xa){xa instanceof hc||(xa=new hc(xa,this.options));return mb(this.major,xa.major)||mb(this.minor,xa.minor)||mb(this.patch,xa.patch)}comparePre(xa){xa instanceof hc||(xa=new hc(xa,this.options));if(this.prerelease.length&&!xa.prerelease.length)return-1;if(!this.prerelease.length&&xa.prerelease.length)return 1;if(!this.prerelease.length&&!xa.prerelease.length)return 0;let Ea=0;do{const Za=
this.prerelease[Ea],Cb=xa.prerelease[Ea];Ga("prerelease compare",Ea,Za,Cb);if(void 0===Za&&void 0===Cb)return 0;if(void 0===Cb)return 1;if(void 0===Za)return-1;if(Za!==Cb)return mb(Za,Cb)}while(++Ea)}compareBuild(xa){xa instanceof hc||(xa=new hc(xa,this.options));let Ea=0;do{const Za=this.build[Ea],Cb=xa.build[Ea];Ga("prerelease compare",Ea,Za,Cb);if(void 0===Za&&void 0===Cb)return 0;if(void 0===Cb)return 1;if(void 0===Za)return-1;if(Za!==Cb)return mb(Za,Cb)}while(++Ea)}inc(xa,Ea){switch(xa){case "premajor":this.minor=
this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Ea);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Ea);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Ea);this.inc("pre",Ea);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Ea);this.inc("pre",Ea);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&
0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(xa=this.prerelease.length;0<=--xa;)"number"===typeof this.prerelease[xa]&&(this.prerelease[xa]++,xa=-2);-1===xa&&this.prerelease.push(0)}Ea&&(this.prerelease[0]===Ea?isNaN(this.prerelease[1])&&(this.prerelease=[Ea,0]):this.prerelease=[Ea,0]);break;default:throw Error(`invalid increment argument: ${xa}`);
}this.format();this.raw=this.version;return this}}var jc=hc;const {MAX_LENGTH:rc}=Fa,{re:Pc,t:sc}=pa;var Uc=(xa,Ea)=>{Ea=Ua(Ea);if(xa instanceof jc)return xa;if("string"!==typeof xa||xa.length>rc||!(Ea.loose?Pc[sc.LOOSE]:Pc[sc.FULL]).test(xa))return null;try{return new jc(xa,Ea)}catch(Za){return null}},Sc=(xa,Ea,Za)=>(new jc(xa,Za)).compare(new jc(Ea,Za)),Lc=(xa,Ea,Za)=>{xa=new jc(xa,Za);Ea=new jc(Ea,Za);return xa.compare(Ea)||xa.compareBuild(Ea)},Fd=(xa,Ea,Za)=>0<Sc(xa,Ea,Za),ge=(xa,Ea,Za)=>0>Sc(xa,
Ea,Za),wd=(xa,Ea,Za)=>0<=Sc(xa,Ea,Za),vd=(xa,Ea,Za)=>0>=Sc(xa,Ea,Za),Wd=(xa,Ea,Za,Cb)=>{switch(Ea){case "\x3d\x3d\x3d":return"object"===typeof xa&&(xa=xa.version),"object"===typeof Za&&(Za=Za.version),xa===Za;case "!\x3d\x3d":return"object"===typeof xa&&(xa=xa.version),"object"===typeof Za&&(Za=Za.version),xa!==Za;case "":case "\x3d":case "\x3d\x3d":return 0===Sc(xa,Za,Cb);case "!\x3d":return 0!==Sc(xa,Za,Cb);case "\x3e":return 0<Sc(xa,Za,Cb);case "\x3e\x3d":return 0<=Sc(xa,Za,Cb);case "\x3c":return 0>
Sc(xa,Za,Cb);case "\x3c\x3d":return 0>=Sc(xa,Za,Cb);default:throw new TypeError(`Invalid operator: ${Ea}`);}};const {re:Pb,t:gc}=pa;var Eb=function(xa){xa.prototype[Symbol.iterator]=function*(){for(let Ea=this.head;Ea;Ea=Ea.next)yield Ea.value}};z.Node=G;z.create=z;z.prototype.removeNode=function(xa){if(xa.list!==this)throw Error("removing node which does not belong to this list");var Ea=xa.next,Za=xa.prev;Ea&&(Ea.prev=Za);Za&&(Za.next=Ea);xa===this.head&&(this.head=Ea);xa===this.tail&&(this.tail=
Za);xa.list.length--;xa.next=null;xa.prev=null;xa.list=null;return Ea};z.prototype.unshiftNode=function(xa){if(xa!==this.head){xa.list&&xa.list.removeNode(xa);var Ea=this.head;xa.list=this;if(xa.next=Ea)Ea.prev=xa;this.head=xa;this.tail||(this.tail=xa);this.length++}};z.prototype.pushNode=function(xa){if(xa!==this.tail){xa.list&&xa.list.removeNode(xa);var Ea=this.tail;xa.list=this;if(xa.prev=Ea)Ea.next=xa;this.tail=xa;this.head||(this.head=xa);this.length++}};z.prototype.push=function(){for(var xa=
0,Ea=arguments.length;xa<Ea;xa++)this.tail=new G(arguments[xa],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};z.prototype.unshift=function(){for(var xa=0,Ea=arguments.length;xa<Ea;xa++)this.head=new G(arguments[xa],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};z.prototype.pop=function(){if(this.tail){var xa=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return xa}};z.prototype.shift=
function(){if(this.head){var xa=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return xa}};z.prototype.forEach=function(xa,Ea){Ea=Ea||this;for(var Za=this.head,Cb=0;null!==Za;Cb++)xa.call(Ea,Za.value,Cb,this),Za=Za.next};z.prototype.forEachReverse=function(xa,Ea){Ea=Ea||this;for(var Za=this.tail,Cb=this.length-1;null!==Za;Cb--)xa.call(Ea,Za.value,Cb,this),Za=Za.prev};z.prototype.get=function(xa){for(var Ea=0,Za=this.head;null!==Za&&Ea<xa;Ea++)Za=Za.next;
if(Ea===xa&&null!==Za)return Za.value};z.prototype.getReverse=function(xa){for(var Ea=0,Za=this.tail;null!==Za&&Ea<xa;Ea++)Za=Za.prev;if(Ea===xa&&null!==Za)return Za.value};z.prototype.map=function(xa,Ea){Ea=Ea||this;for(var Za=new z,Cb=this.head;null!==Cb;)Za.push(xa.call(Ea,Cb.value,this)),Cb=Cb.next;return Za};z.prototype.mapReverse=function(xa,Ea){Ea=Ea||this;for(var Za=new z,Cb=this.tail;null!==Cb;)Za.push(xa.call(Ea,Cb.value,this)),Cb=Cb.prev;return Za};z.prototype.reduce=function(xa,Ea){var Za=
this.head;if(1<arguments.length)var Cb=Ea;else if(this.head)Za=this.head.next,Cb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=0;null!==Za;ub++)Cb=xa(Cb,Za.value,ub),Za=Za.next;return Cb};z.prototype.reduceReverse=function(xa,Ea){var Za=this.tail;if(1<arguments.length)var Cb=Ea;else if(this.tail)Za=this.tail.prev,Cb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=this.length-1;null!==Za;ub--)Cb=xa(Cb,
Za.value,ub),Za=Za.prev;return Cb};z.prototype.toArray=function(){for(var xa=Array(this.length),Ea=0,Za=this.head;null!==Za;Ea++)xa[Ea]=Za.value,Za=Za.next;return xa};z.prototype.toArrayReverse=function(){for(var xa=Array(this.length),Ea=0,Za=this.tail;null!==Za;Ea++)xa[Ea]=Za.value,Za=Za.prev;return xa};z.prototype.slice=function(xa,Ea){Ea=Ea||this.length;0>Ea&&(Ea+=this.length);xa=xa||0;0>xa&&(xa+=this.length);var Za=new z;if(Ea<xa||0>Ea)return Za;0>xa&&(xa=0);Ea>this.length&&(Ea=this.length);for(var Cb=
0,ub=this.head;null!==ub&&Cb<xa;Cb++)ub=ub.next;for(;null!==ub&&Cb<Ea;Cb++,ub=ub.next)Za.push(ub.value);return Za};z.prototype.sliceReverse=function(xa,Ea){Ea=Ea||this.length;0>Ea&&(Ea+=this.length);xa=xa||0;0>xa&&(xa+=this.length);var Za=new z;if(Ea<xa||0>Ea)return Za;0>xa&&(xa=0);Ea>this.length&&(Ea=this.length);for(var Cb=this.length,ub=this.tail;null!==ub&&Cb>Ea;Cb--)ub=ub.prev;for(;null!==ub&&Cb>xa;Cb--,ub=ub.prev)Za.push(ub.value);return Za};z.prototype.splice=function(xa,Ea,...Za){xa>this.length&&
(xa=this.length-1);0>xa&&(xa=this.length+xa);for(var Cb=0,ub=this.head;null!==ub&&Cb<xa;Cb++)ub=ub.next;xa=[];for(Cb=0;ub&&Cb<Ea;Cb++)xa.push(ub.value),ub=this.removeNode(ub);null===ub&&(ub=this.tail);ub!==this.head&&ub!==this.tail&&(ub=ub.prev);for(Cb=0;Cb<Za.length;Cb++)Ea=ub,ub=Za[Cb],Ea=Ea===this.head?new G(ub,null,Ea,this):new G(ub,Ea,Ea.next,this),null===Ea.next&&(this.tail=Ea),null===Ea.prev&&(this.head=Ea),this.length++,ub=Ea;return xa};z.prototype.reverse=function(){for(var xa=this.head,
Ea=this.tail,Za=xa;null!==Za;Za=Za.prev){var Cb=Za.prev;Za.prev=Za.next;Za.next=Cb}this.head=Ea;this.tail=xa;return this};try{Eb(z)}catch(xa){}const zc=Symbol("max"),Vc=Symbol("length"),Ed=Symbol("lengthCalculator"),Vd=Symbol("allowStale"),Ka=Symbol("maxAge"),eb=Symbol("dispose"),wb=Symbol("noDisposeOnSet"),Hb=Symbol("lruList"),ac=Symbol("cache"),Lb=Symbol("updateAgeOnGet"),Ac=()=>1;class tc{constructor(xa){"number"===typeof xa&&(xa={max:xa});xa||(xa={});if(xa.max&&("number"!==typeof xa.max||0>xa.max))throw new TypeError("max must be a non-negative number");
this[zc]=xa.max||Infinity;const Ea=xa.length||Ac;this[Ed]="function"!==typeof Ea?Ac:Ea;this[Vd]=xa.stale||!1;if(xa.maxAge&&"number"!==typeof xa.maxAge)throw new TypeError("maxAge must be a number");this[Ka]=xa.maxAge||0;this[eb]=xa.dispose;this[wb]=xa.noDisposeOnSet||!1;this[Lb]=xa.updateAgeOnGet||!1;this.reset()}set max(xa){if("number"!==typeof xa||0>xa)throw new TypeError("max must be a non-negative number");this[zc]=xa||Infinity;Ub(this)}get max(){return this[zc]}set allowStale(xa){this[Vd]=!!xa}get allowStale(){return this[Vd]}set maxAge(xa){if("number"!==
typeof xa)throw new TypeError("maxAge must be a non-negative number");this[Ka]=xa;Ub(this)}get maxAge(){return this[Ka]}set lengthCalculator(xa){"function"!==typeof xa&&(xa=Ac);xa!==this[Ed]&&(this[Ed]=xa,this[Vc]=0,this[Hb].forEach(Ea=>{Ea.length=this[Ed](Ea.value,Ea.key);this[Vc]+=Ea.length}));Ub(this)}get lengthCalculator(){return this[Ed]}get length(){return this[Vc]}get itemCount(){return this[Hb].length}rforEach(xa,Ea){Ea=Ea||this;for(let Za=this[Hb].tail;null!==Za;){const Cb=Za.prev;Cc(this,
xa,Za,Ea);Za=Cb}}forEach(xa,Ea){Ea=Ea||this;for(let Za=this[Hb].head;null!==Za;){const Cb=Za.next;Cc(this,xa,Za,Ea);Za=Cb}}keys(){return this[Hb].toArray().map(xa=>xa.key)}values(){return this[Hb].toArray().map(xa=>xa.value)}reset(){this[eb]&&this[Hb]&&this[Hb].length&&this[Hb].forEach(xa=>this[eb](xa.key,xa.value));this[ac]=new Map;this[Hb]=new z;this[Vc]=0}dump(){return this[Hb].map(xa=>Bb(this,xa)?!1:{k:xa.key,v:xa.value,e:xa.now+(xa.maxAge||0)}).toArray().filter(xa=>xa)}dumpLru(){return this[Hb]}set(xa,
Ea,Za){if((Za=Za||this[Ka])&&"number"!==typeof Za)throw new TypeError("maxAge must be a number");const Cb=Za?Date.now():0,ub=this[Ed](Ea,xa);if(this[ac].has(xa)){if(ub>this[zc])return mc(this,this[ac].get(xa)),!1;const Yb=this[ac].get(xa).value;if(this[eb]&&!this[wb])this[eb](xa,Yb.value);Yb.now=Cb;Yb.maxAge=Za;Yb.value=Ea;this[Vc]+=ub-Yb.length;Yb.length=ub;this.get(xa);Ub(this);return!0}Za=new Bc(xa,Ea,ub,Cb,Za);if(Za.length>this[zc]){if(this[eb])this[eb](xa,Ea);return!1}this[Vc]+=Za.length;this[Hb].unshift(Za);
this[ac].set(xa,this[Hb].head);Ub(this);return!0}has(xa){if(!this[ac].has(xa))return!1;xa=this[ac].get(xa).value;return!Bb(this,xa)}get(xa){return pb(this,xa,!0)}peek(xa){return pb(this,xa,!1)}pop(){const xa=this[Hb].tail;if(!xa)return null;mc(this,xa);return xa.value}del(xa){mc(this,this[ac].get(xa))}load(xa){this.reset();const Ea=Date.now();for(let Cb=xa.length-1;0<=Cb;Cb--){const ub=xa[Cb];var Za=ub.e||0;0===Za?this.set(ub.k,ub.v):(Za-=Ea,0<Za&&this.set(ub.k,ub.v,Za))}}prune(){this[ac].forEach((xa,
Ea)=>pb(this,Ea,!1))}}const pb=(xa,Ea,Za)=>{if(Ea=xa[ac].get(Ea)){const Cb=Ea.value;if(Bb(xa,Cb)){if(mc(xa,Ea),!xa[Vd])return}else Za&&(xa[Lb]&&(Ea.value.now=Date.now()),xa[Hb].unshiftNode(Ea));return Cb.value}},Bb=(xa,Ea)=>{if(!Ea||!Ea.maxAge&&!xa[Ka])return!1;const Za=Date.now()-Ea.now;return Ea.maxAge?Za>Ea.maxAge:xa[Ka]&&Za>xa[Ka]},Ub=xa=>{if(xa[Vc]>xa[zc])for(let Ea=xa[Hb].tail;xa[Vc]>xa[zc]&&null!==Ea;){const Za=Ea.prev;mc(xa,Ea);Ea=Za}},mc=(xa,Ea)=>{if(Ea){const Za=Ea.value;if(xa[eb])xa[eb](Za.key,
Za.value);xa[Vc]-=Za.length;xa[ac].delete(Za.key);xa[Hb].removeNode(Ea)}};class Bc{constructor(xa,Ea,Za,Cb,ub){this.key=xa;this.value=Ea;this.length=Za;this.now=Cb;this.maxAge=ub||0}}const Cc=(xa,Ea,Za,Cb)=>{let ub=Za.value;Bb(xa,ub)&&(mc(xa,Za),xa[Vd]||(ub=void 0));ub&&Ea.call(Cb,ub.value,ub.key,xa)};class Xc{constructor(xa,Ea){Ea=Ua(Ea);if(xa instanceof Xc)return xa.loose===!!Ea.loose&&xa.includePrerelease===!!Ea.includePrerelease?xa:new Xc(xa.raw,Ea);if(xa instanceof he)return this.raw=xa.value,
this.set=[[xa]],this.format(),this;this.options=Ea;this.loose=!!Ea.loose;this.includePrerelease=!!Ea.includePrerelease;this.raw=xa;this.set=xa.split(/\s*\|\|\s*/).map(Za=>this.parseRange(Za.trim())).filter(Za=>Za.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${xa}`);if(1<this.set.length)if(xa=this.set[0],this.set=this.set.filter(Za=>"\x3c0.0.0-0"!==Za[0].value),0===this.set.length)this.set=[xa];else if(1<this.set.length)for(const Za of this.set)if(1===Za.length&&""===Za[0].value){this.set=
[Za];break}this.format()}format(){return this.range=this.set.map(xa=>xa.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(xa){xa=xa.trim();const Ea=`parseRange:${Object.keys(this.options).join(",")}:${xa}`;var Za=Ic.get(Ea);if(Za)return Za;Za=this.options.loose;xa=xa.replace(Za?Dc[uc.HYPHENRANGELOOSE]:Dc[uc.HYPHENRANGE],Ze(this.options.includePrerelease));Ga("hyphen replace",xa);xa=xa.replace(Dc[uc.COMPARATORTRIM],Tc);Ga("comparator trim",xa,Dc[uc.COMPARATORTRIM]);xa=xa.replace(Dc[uc.TILDETRIM],
ad);xa=xa.replace(Dc[uc.CARETTRIM],ld);xa=xa.split(/\s+/).join(" ");const Cb=Za?Dc[uc.COMPARATORLOOSE]:Dc[uc.COMPARATOR];xa=xa.split(" ").map(Yb=>{var $b=Yb;Yb=this.options;Ga("comp",$b,Yb);$b=oe($b,Yb);Ga("caret",$b);$b=Ud($b,Yb);Ga("tildes",$b);$b=fe($b,Yb);Ga("xrange",$b);Ga("replaceStars",$b,Yb);$b=$b.trim().replace(Dc[uc.STAR],"");Ga("stars",$b);return $b}).join(" ").split(/\s+/).map(Yb=>{var $b=this.options;Ga("replaceGTE0",Yb,$b);return Yb.trim().replace(Dc[$b.includePrerelease?uc.GTE0PRE:
uc.GTE0],"")}).filter(this.options.loose?Yb=>!!Yb.match(Cb):()=>!0).map(Yb=>new he(Yb,this.options));xa.length;Za=new Map;for(var ub of xa){if("\x3c0.0.0-0"===ub.value)return[ub];Za.set(ub.value,ub)}1<Za.size&&Za.has("")&&Za.delete("");ub=[...Za.values()];Ic.set(Ea,ub);return ub}intersects(xa,Ea){if(!(xa instanceof Xc))throw new TypeError("a Range is required");return this.set.some(Za=>Cd(Za,Ea)&&xa.set.some(Cb=>Cd(Cb,Ea)&&Za.every(ub=>Cb.every(Yb=>ub.intersects(Yb,Ea)))))}test(xa){if(!xa)return!1;
if("string"===typeof xa)try{xa=new jc(xa,this.options)}catch(Yb){return!1}for(let Yb=0;Yb<this.set.length;Yb++){a:{var Ea=this.set[Yb];var Za=xa,Cb=this.options;for(var ub=0;ub<Ea.length;ub++)if(!Ea[ub].test(Za)){Ea=!1;break a}if(Za.prerelease.length&&!Cb.includePrerelease){for(Cb=0;Cb<Ea.length;Cb++)if(Ga(Ea[Cb].semver),Ea[Cb].semver!==he.ANY&&0<Ea[Cb].semver.prerelease.length&&(ub=Ea[Cb].semver,ub.major===Za.major&&ub.minor===Za.minor&&ub.patch===Za.patch)){Ea=!0;break a}Ea=!1}else Ea=!0}if(Ea)return!0}return!1}}
var Qb=Xc;const Ic=new tc({max:1E3}),{re:Dc,t:uc,comparatorTrimReplace:Tc,tildeTrimReplace:ad,caretTrimReplace:ld}=pa,Cd=(xa,Ea)=>{let Za=!0;xa=xa.slice();let Cb=xa.pop();for(;Za&&xa.length;)Za=xa.every(ub=>Cb.intersects(ub,Ea)),Cb=xa.pop();return Za},Dd=xa=>!xa||"x"===xa.toLowerCase()||"*"===xa,Ud=(xa,Ea)=>xa.trim().split(/\s+/).map(Za=>ae(Za,Ea)).join(" "),ae=(xa,Ea)=>xa.replace(Ea.loose?Dc[uc.TILDELOOSE]:Dc[uc.TILDE],(Za,Cb,ub,Yb,$b)=>{Ga("tilde",xa,Za,Cb,ub,Yb,$b);Dd(Cb)?Za="":Dd(ub)?Za=`>=${Cb}.0.0 <${+Cb+
1}.0.0-0`:Dd(Yb)?Za=`>=${Cb}.${ub}.0 <${Cb}.${+ub+1}.0-0`:$b?(Ga("replaceTilde pr",$b),Za=`>=${Cb}.${ub}.${Yb}-${$b} <${Cb}.${+ub+1}.0-0`):Za=`>=${Cb}.${ub}.${Yb} <${Cb}.${+ub+1}.0-0`;Ga("tilde return",Za);return Za}),oe=(xa,Ea)=>xa.trim().split(/\s+/).map(Za=>De(Za,Ea)).join(" "),De=(xa,Ea)=>{Ga("caret",xa,Ea);const Za=Ea.includePrerelease?"-0":"";return xa.replace(Ea.loose?Dc[uc.CARETLOOSE]:Dc[uc.CARET],(Cb,ub,Yb,$b,Oc)=>{Ga("caret",xa,Cb,ub,Yb,$b,Oc);Dd(ub)?Cb="":Dd(Yb)?Cb=`>=${ub}.0.0${Za} <${+ub+
1}.0.0-0`:Dd($b)?Cb="0"===ub?`>=${ub}.${Yb}.0${Za} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.0${Za} <${+ub+1}.0.0-0`:Oc?(Ga("replaceCaret pr",Oc),Cb="0"===ub?"0"===Yb?`>=${ub}.${Yb}.${$b}-${Oc} <${ub}.${Yb}.${+$b+1}-0`:`>=${ub}.${Yb}.${$b}-${Oc} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.${$b}-${Oc} <${+ub+1}.0.0-0`):(Ga("no pr"),Cb="0"===ub?"0"===Yb?`>=${ub}.${Yb}.${$b}${Za} <${ub}.${Yb}.${+$b+1}-0`:`>=${ub}.${Yb}.${$b}${Za} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.${$b} <${+ub+1}.0.0-0`);Ga("caret return",Cb);return Cb})},
fe=(xa,Ea)=>{Ga("replaceXRanges",xa,Ea);return xa.split(/\s+/).map(Za=>ef(Za,Ea)).join(" ")},ef=(xa,Ea)=>{xa=xa.trim();return xa.replace(Ea.loose?Dc[uc.XRANGELOOSE]:Dc[uc.XRANGE],(Za,Cb,ub,Yb,$b,Oc)=>{Ga("xRange",xa,Za,Cb,ub,Yb,$b,Oc);const gd=Dd(ub),Mc=gd||Dd(Yb);$b=Mc||Dd($b);"\x3d"===Cb&&$b&&(Cb="");Oc=Ea.includePrerelease?"-0":"";gd?Za="\x3e"===Cb||"\x3c"===Cb?"\x3c0.0.0-0":"*":Cb&&$b?(Mc&&(Yb=0),$b=0,"\x3e"===Cb?(Cb="\x3e\x3d",Mc?(ub=+ub+1,Yb=0):Yb=+Yb+1,$b=0):"\x3c\x3d"===Cb&&(Cb="\x3c",Mc?
ub=+ub+1:Yb=+Yb+1),"\x3c"===Cb&&(Oc="-0"),Za=`${Cb+ub}.${Yb}.${$b}${Oc}`):Mc?Za=`>=${ub}.0.0${Oc} <${+ub+1}.0.0-0`:$b&&(Za=`>=${ub}.${Yb}.0${Oc} <${ub}.${+Yb+1}.0-0`);Ga("xRange return",Za);return Za})},Ze=xa=>(Ea,Za,Cb,ub,Yb,$b,Oc,gd,Mc,Nd,od,Id,jd)=>{Za=Dd(Cb)?"":Dd(ub)?`>=${Cb}.0.0${xa?"-0":""}`:Dd(Yb)?`>=${Cb}.${ub}.0${xa?"-0":""}`:$b?`>=${Za}`:`>=${Za}${xa?"-0":""}`;gd=Dd(Mc)?"":Dd(Nd)?`<${+Mc+1}.0.0-0`:Dd(od)?`<${Mc}.${+Nd+1}.0-0`:Id?`<=${Mc}.${Nd}.${od}-${Id}`:xa?`<${Mc}.${Nd}.${+od+1}-0`:
`<=${gd}`;return`${Za} ${gd}`.trim()},df=Symbol("SemVer ANY");class Zd{static get ANY(){return df}constructor(xa,Ea){Ea=Ua(Ea);if(xa instanceof Zd){if(xa.loose===!!Ea.loose)return xa;xa=xa.value}Ga("comparator",xa,Ea);this.options=Ea;this.loose=!!Ea.loose;this.parse(xa);this.value=this.semver===df?"":this.operator+this.semver.version;Ga("comp",this)}parse(xa){const Ea=xa.match(this.options.loose?zf[Ue.COMPARATORLOOSE]:zf[Ue.COMPARATOR]);if(!Ea)throw new TypeError(`Invalid comparator: ${xa}`);this.operator=
void 0!==Ea[1]?Ea[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Ea[2]?new jc(Ea[2],this.options.loose):df}toString(){return this.value}test(xa){Ga("Comparator.test",xa,this.options.loose);if(this.semver===df||xa===df)return!0;if("string"===typeof xa)try{xa=new jc(xa,this.options)}catch(Ea){return!1}return Wd(xa,this.operator,this.semver,this.options)}intersects(xa,Ea){if(!(xa instanceof Zd))throw new TypeError("a Comparator is required");Ea&&"object"===typeof Ea||(Ea={loose:!!Ea,includePrerelease:!1});
if(""===this.operator)return""===this.value?!0:(new Qb(xa.value,Ea)).test(this.value);if(""===xa.operator)return""===xa.value?!0:(new Qb(this.value,Ea)).test(xa.semver);const Za=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===xa.operator||"\x3e"===xa.operator),Cb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===xa.operator||"\x3c"===xa.operator),ub=this.semver.version===xa.semver.version,Yb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===
xa.operator||"\x3c\x3d"===xa.operator),$b=Wd(this.semver,"\x3c",xa.semver,Ea)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===xa.operator||"\x3c"===xa.operator);xa=Wd(this.semver,"\x3e",xa.semver,Ea)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===xa.operator||"\x3e"===xa.operator);return Za||Cb||ub&&Yb||$b||xa}}var he=Zd;const {re:zf,t:Ue}=pa;var Nf=(xa,Ea,Za)=>{try{Ea=new Qb(Ea,Za)}catch(Cb){return!1}return Ea.test(xa)};const {ANY:me}=he;var te=(xa,Ea,Za,
Cb)=>{xa=new jc(xa,Cb);Ea=new Qb(Ea,Cb);let ub,Yb,$b,Oc;switch(Za){case "\x3e":ub=Fd;Za=vd;Yb=ge;$b="\x3e";Oc="\x3e\x3d";break;case "\x3c":ub=ge;Za=wd;Yb=Fd;$b="\x3c";Oc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(Nf(xa,Ea,Cb))return!1;for(let gd=0;gd<Ea.set.length;++gd){let Mc=null,Nd=null;Ea.set[gd].forEach(od=>{od.semver===me&&(od=new he("\x3e\x3d0.0.0"));Mc=Mc||od;Nd=Nd||od;ub(od.semver,Mc.semver,Cb)?Mc=od:Yb(od.semver,Nd.semver,Cb)&&(Nd=od)});
if(Mc.operator===$b||Mc.operator===Oc||(!Nd.operator||Nd.operator===$b)&&Za(xa,Nd.semver)||Nd.operator===Oc&&Yb(xa,Nd.semver))return!1}return!0};const {ANY:kf}=he,we=(xa,Ea,Za)=>{if(xa===Ea)return!0;if(1===xa.length&&xa[0].semver===kf)return 1===Ea.length&&Ea[0].semver===kf;const Cb=new Set;let ub,Yb;for(const Mc of xa)"\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator?ub=Od(ub,Mc,Za):"\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator?Yb=Xd(Yb,Mc,Za):Cb.add(Mc.semver);if(1<Cb.size)return null;let $b;if(ub&&
Yb&&($b=Sc(ub.semver,Yb.semver,Za),0<$b||0===$b&&("\x3e\x3d"!==ub.operator||"\x3c\x3d"!==Yb.operator)))return null;for(const Mc of Cb){if(ub&&!Nf(Mc,String(ub),Za)||Yb&&!Nf(Mc,String(Yb),Za))return null;for(const Nd of Ea)if(!Nf(Mc,String(Nd),Za))return!1;return!0}let Oc,gd;for(const Mc of Ea){gd=gd||"\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator;Oc=Oc||"\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator;if(ub)if("\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator){if(xa=Od(ub,Mc,Za),xa===Mc&&xa!==ub)return!1}else if("\x3e\x3d"===
ub.operator&&!Nf(ub.semver,String(Mc),Za))return!1;if(Yb)if("\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator){if(xa=Xd(Yb,Mc,Za),xa===Mc&&xa!==Yb)return!1}else if("\x3c\x3d"===Yb.operator&&!Nf(Yb.semver,String(Mc),Za))return!1;if(!Mc.operator&&(Yb||ub)&&0!==$b)return!1}return ub&&Oc&&!Yb&&0!==$b||Yb&&gd&&!ub&&0!==$b?!1:!0},Od=(xa,Ea,Za)=>{if(!xa)return Ea;Za=Sc(xa.semver,Ea.semver,Za);return 0<Za?xa:0>Za?Ea:"\x3e"===Ea.operator&&"\x3e\x3d"===xa.operator?Ea:xa},Xd=(xa,Ea,Za)=>{if(!xa)return Ea;Za=Sc(xa.semver,
Ea.semver,Za);return 0>Za?xa:0<Za?Ea:"\x3c"===Ea.operator&&"\x3c\x3d"===xa.operator?Ea:xa};var Be={re:pa.re,src:pa.src,tokens:pa.t,SEMVER_SPEC_VERSION:Fa.SEMVER_SPEC_VERSION,SemVer:jc,compareIdentifiers:Xb.compareIdentifiers,rcompareIdentifiers:Xb.rcompareIdentifiers,parse:Uc,valid:(xa,Ea)=>(xa=Uc(xa,Ea))?xa.version:null,clean:(xa,Ea)=>(xa=Uc(xa.trim().replace(/^[=v]+/,""),Ea))?xa.version:null,inc:(xa,Ea,Za,Cb)=>{"string"===typeof Za&&(Cb=Za,Za=void 0);try{return(new jc(xa,Za)).inc(Ea,Cb).version}catch(ub){return null}},
diff:(xa,Ea)=>{if(0===Sc(xa,Ea,void 0))return null;{xa=Uc(xa);Ea=Uc(Ea);var Za=xa.prerelease.length||Ea.prerelease.length;const Cb=Za?"pre":"";Za=Za?"prerelease":"";for(const ub in xa)if(("major"===ub||"minor"===ub||"patch"===ub)&&xa[ub]!==Ea[ub])return Cb+ub;return Za}},major:(xa,Ea)=>(new jc(xa,Ea)).major,minor:(xa,Ea)=>(new jc(xa,Ea)).minor,patch:(xa,Ea)=>(new jc(xa,Ea)).patch,prerelease:(xa,Ea)=>(xa=Uc(xa,Ea))&&xa.prerelease.length?xa.prerelease:null,compare:Sc,rcompare:(xa,Ea,Za)=>Sc(Ea,xa,Za),
compareLoose:(xa,Ea)=>Sc(xa,Ea,!0),compareBuild:Lc,sort:(xa,Ea)=>xa.sort((Za,Cb)=>Lc(Za,Cb,Ea)),rsort:(xa,Ea)=>xa.sort((Za,Cb)=>Lc(Cb,Za,Ea)),gt:Fd,lt:ge,eq:(xa,Ea,Za)=>0===Sc(xa,Ea,Za),neq:(xa,Ea,Za)=>0!==Sc(xa,Ea,Za),gte:wd,lte:vd,cmp:Wd,coerce:(xa,Ea)=>{if(xa instanceof jc)return xa;"number"===typeof xa&&(xa=String(xa));if("string"!==typeof xa)return null;Ea=Ea||{};let Za=null;if(Ea.rtl){let Cb;for(;(Cb=Pb[gc.COERCERTL].exec(xa))&&(!Za||Za.index+Za[0].length!==xa.length);)Za&&Cb.index+Cb[0].length===
Za.index+Za[0].length||(Za=Cb),Pb[gc.COERCERTL].lastIndex=Cb.index+Cb[1].length+Cb[2].length;Pb[gc.COERCERTL].lastIndex=-1}else Za=xa.match(Pb[gc.COERCE]);return null===Za?null:Uc(`${Za[2]}.${Za[3]||"0"}.${Za[4]||"0"}`,Ea)},Comparator:he,Range:Qb,satisfies:Nf,toComparators:(xa,Ea)=>(new Qb(xa,Ea)).set.map(Za=>Za.map(Cb=>Cb.value).join(" ").trim().split(" ")),maxSatisfying:(xa,Ea,Za)=>{let Cb=null,ub=null,Yb=null;try{Yb=new Qb(Ea,Za)}catch($b){return null}xa.forEach($b=>{!Yb.test($b)||Cb&&-1!==ub.compare($b)||
(Cb=$b,ub=new jc(Cb,Za))});return Cb},minSatisfying:(xa,Ea,Za)=>{let Cb=null,ub=null,Yb=null;try{Yb=new Qb(Ea,Za)}catch($b){return null}xa.forEach($b=>{!Yb.test($b)||Cb&&1!==ub.compare($b)||(Cb=$b,ub=new jc(Cb,Za))});return Cb},minVersion:(xa,Ea)=>{xa=new Qb(xa,Ea);Ea=new jc("0.0.0");if(xa.test(Ea))return Ea;Ea=new jc("0.0.0-0");if(xa.test(Ea))return Ea;Ea=null;for(let Za=0;Za<xa.set.length;++Za){let Cb=null;xa.set[Za].forEach(ub=>{const Yb=new jc(ub.semver.version);switch(ub.operator){case "\x3e":0===
Yb.prerelease.length?Yb.patch++:Yb.prerelease.push(0),Yb.raw=Yb.format();case "":case "\x3e\x3d":if(!Cb||0<Sc(Yb,Cb,void 0))Cb=Yb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${ub.operator}`);}});!Cb||Ea&&!(0<Sc(Ea,Cb,void 0))||(Ea=Cb)}return Ea&&xa.test(Ea)?Ea:null},validRange:(xa,Ea)=>{try{return(new Qb(xa,Ea)).range||"*"}catch(Za){return null}},outside:te,gtr:(xa,Ea,Za)=>te(xa,Ea,"\x3e",Za),ltr:(xa,Ea,Za)=>te(xa,Ea,"\x3c",Za),intersects:(xa,Ea,Za)=>{xa=new Qb(xa,
Za);Ea=new Qb(Ea,Za);return xa.intersects(Ea)},simplifyRange:(xa,Ea,Za)=>{var Cb=[],ub=null;let Yb=null;xa=xa.sort(($b,Oc)=>Sc($b,Oc,Za));for(const $b of xa)Nf($b,Ea,Za)?(Yb=$b,ub||(ub=$b)):(Yb&&Cb.push([ub,Yb]),ub=Yb=null);ub&&Cb.push([ub,null]);ub=[];for(const [$b,Oc]of Cb)$b===Oc?ub.push($b):Oc||$b!==xa[0]?Oc?$b===xa[0]?ub.push(`<=${Oc}`):ub.push(`${$b} - ${Oc}`):ub.push(`>=${$b}`):ub.push("*");Cb=ub.join(" || ");return Cb.length<("string"===typeof Ea.raw?Ea.raw:String(Ea)).length?Cb:Ea},subset:(xa,
Ea,Za)=>{if(xa===Ea)return!0;xa=new Qb(xa,Za);Ea=new Qb(Ea,Za);let Cb=!1;a:for(const ub of xa.set){for(const Yb of Ea.set)if(xa=we(ub,Yb,Za),Cb=Cb||null!==xa,xa)continue a;if(Cb)return!1}return!0}};const jf={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Ge={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Td=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},
rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",
grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:jf["category-6"],diverging:jf["fireandice-6"],heatmap:jf["fire-7"],ordinal:jf["fire-7"],ramp:jf["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Ge["six-groups-cat-1"],diverging:Ge["diverging-colors"],heatmap:Ge["diverging-colors"],ordinal:Ge["six-groups-seq"],ramp:Ge["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Ye=xa=>function(Ea){return Ea[xa]},Xf=xa=>{const Ea=xa.length;return function(Za){for(let Cb=0;Cb<Ea;++Cb)Za=Za[xa[Cb]];return Za}};(function(xa,Ea,Za){const Cb=ja(xa);xa=1===Cb.length?Cb[0]:xa;return R((Za&&Za.get||T)(Cb),[xa],Ea||xa)})("id");R(xa=>xa,[],"identity");R(()=>0,[],"zero");
R(()=>1,[],"one");R(()=>!0,[],"true");R(()=>!1,[],"false");var Gc=Array.isArray;const xe={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(xa){return String(xa).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class le{constructor(xa){this.options=Object.assign(Object.assign({},xe),xa);var Ea=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){xa=
document.createElement("style");xa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Ea))throw Error("Invalid HTML ID");Ea="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
Ea);xa.innerHTML=Ea;Ea=document.head;0<Ea.childNodes.length?Ea.insertBefore(xa,Ea.childNodes[0]):Ea.appendChild(xa)}}tooltipHandler(xa,Ea,Za,Cb){this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el);if(null==Cb||""===Cb)this.el.classList.remove("visible",
`${this.options.theme}-theme`);else{this.el.innerHTML=ia(Cb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",`${this.options.theme}-theme`);xa=this.el.getBoundingClientRect();var ub=this.options.offsetX;Za=this.options.offsetY;Cb=Ea.clientX+ub;Cb+xa.width>window.innerWidth&&(Cb=+Ea.clientX-ub-xa.width);ub=Ea.clientY+Za;ub+xa.height>window.innerHeight&&(ub=+Ea.clientY-Za-xa.height);Ea={x:Cb,y:ub};var {x:Yb,y:$b}=Ea;this.el.setAttribute("style",`top: ${$b}px; left: ${Yb}px`)}}}
String.prototype.startsWith||(String.prototype.startsWith=function(xa,Ea){return this.substr(!Ea||0>Ea?0:+Ea,xa.length)===xa});var kc,Fe=va,ue=Ta,lf="undefined"!==typeof window?window:void 0;void 0===ue&&(null===(kc=null===lf||void 0===lf?void 0:lf.vl)||void 0===kc?0:kc.compile)&&(ue=lf.vl);var Yf={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},If={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Sf={vega:"Vega","vega-lite":"Vega-Lite"},Bf={vega:Fe.version,"vega-lite":ue?ue.version:"not available"},qe={vega:function(xa){return xa},"vega-lite":function(xa,Ea){return ue.compile(xa,{config:Ea}).spec}},yc=function(){for(var xa=[],Ea=0;Ea<arguments.length;Ea++)xa[Ea]=arguments[Ea];if(Ea=1<xa.length){if(Ea=l.isString(xa[0]))Ea=xa[0],Ea=!(Ea.startsWith("http://")||Ea.startsWith("https://")||Ea.startsWith("//"));Ea=Ea||xa[0]instanceof HTMLElement||
3===xa.length}return Ea?ta(xa[0],xa[1],xa[2]):kb(xa[0],xa[1])};yc.vegaLite=ue;yc.vl=ue;yc.container=kb;yc.embed=ta;yc.vega=Fe;yc["default"]=ta;yc.version="6.15.1";return yc})};
shadow$provide[67]=function(Ia,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=l():"function"===typeof define&&define.amd?define(l):(k=k||self,k.CodeMirror=l())})(this,function(){function k(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function l(b){for(var p=b.childNodes.length;0<p;--p)b.removeChild(b.firstChild);return b}function w(b,p){return l(b).appendChild(p)}function H(b,p,X,S){b=document.createElement(b);X&&(b.className=X);S&&(b.style.cssText=S);if("string"==
typeof p)b.appendChild(document.createTextNode(p));else if(p)for(X=0;X<p.length;++X)b.appendChild(p[X]);return b}function N(b,p,X,S){b=H(b,p,X,S);b.setAttribute("role","presentation");return b}function x(b,p){3==p.nodeType&&(p=p.parentNode);if(b.contains)return b.contains(p);do if(11==p.nodeType&&(p=p.host),p==b)return!0;while(p=p.parentNode)}function v(){try{var b=document.activeElement}catch(p){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function u(b,p){var X=b.className;k(p).test(X)||(b.className+=(X?" ":"")+p)}function m(b,p){b=b.split(" ");for(var X=0;X<b.length;X++)b[X]&&!k(b[X]).test(p)&&(p+=" "+b[X]);return p}function g(b){var p=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,p)}}function d(b,p,X){p||(p={});for(var S in b)!b.hasOwnProperty(S)||!1===X&&p.hasOwnProperty(S)||(p[S]=b[S]);return p}function f(b,p,X,S,ea){null==p&&(p=b.search(/[^\s\u00a0]/),-1==p&&(p=b.length));S=S||0;for(ea=
ea||0;;){var La=b.indexOf("\t",S);if(0>La||La>=p)return ea+(p-S);ea+=La-S;ea+=X-ea%X;S=La+1}}function a(b,p){for(var X=0;X<b.length;++X)if(b[X]==p)return X;return-1}function e(b,p,X){for(var S=0,ea=0;;){var La=b.indexOf("\t",S);-1==La&&(La=b.length);var Xa=La-S;if(La==b.length||ea+Xa>=p)return S+Math.min(Xa,p-ea);ea+=La-S;ea+=X-ea%X;S=La+1;if(ea>=p)return S}}function n(b){for(;Li.length<=b;)Li.push(y(Li)+" ");return Li[b]}function y(b){return b[b.length-1]}function B(b,p){for(var X=[],S=0;S<b.length;S++)X[S]=
p(b[S],S);return X}function D(b,p,X){for(var S=0,ea=X(p);S<b.length&&X(b[S])<=ea;)S++;b.splice(S,0,p)}function O(){}function M(b,p){Object.create?b=Object.create(b):(O.prototype=b,b=new O);p&&d(p,b);return b}function F(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||Xi.test(b))}function z(b,p){return p?-1<p.source.indexOf("\\w")&&F(b)?!0:p.test(b):F(b)}function G(b){for(var p in b)if(b.hasOwnProperty(p)&&b[p])return!1;return!0}function K(b){return 768<=b.charCodeAt(0)&&fi.test(b)}
function R(b,p,X){for(;(0>X?0<p:p<b.length)&&K(b.charAt(p));)p+=X;return p}function T(b,p,X){for(var S=p>X?-1:1;;){if(p==X)return p;var ea=(p+X)/2;ea=0>S?Math.ceil(ea):Math.floor(ea);if(ea==p)return b(ea)?p:X;b(ea)?X=ea:p=ea+S}}function ja(b,p,X,S){if(!b)return S(p,X,"ltr",0);for(var ea=!1,La=0;La<b.length;++La){var Xa=b[La];if(Xa.from<X&&Xa.to>p||p==X&&Xa.to==p)S(Math.max(Xa.from,p),Math.min(Xa.to,X),1==Xa.level?"rtl":"ltr",La),ea=!0}ea||S(p,X,"ltr")}function fa(b,p,X){var S;Wh=null;for(var ea=0;ea<
b.length;++ea){var La=b[ea];if(La.from<p&&La.to>p)return ea;La.to==p&&(La.from!=La.to&&"before"==X?S=ea:Wh=ea);La.from==p&&(La.from!=La.to&&"before"!=X?S=ea:Wh=ea)}return null!=S?S:Wh}function ia(b,p){var X=b.order;null==X&&(X=b.order=Hh(b.text,p));return X}function la(b,p,X){if(b.removeEventListener)b.removeEventListener(p,X,!1);else if(b.detachEvent)b.detachEvent("on"+p,X);else{var S=(b=b._handlers)&&b[p];S&&(X=a(S,X),-1<X&&(b[p]=S.slice(0,X).concat(S.slice(X+1))))}}function Z(b,p){var X=b._handlers&&
b._handlers[p]||gi;if(X.length)for(var S=Array.prototype.slice.call(arguments,2),ea=0;ea<X.length;++ea)X[ea].apply(null,S)}function P(b,p,X){"string"==typeof p&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}});Z(b,X||p.type,b,p);return wa(p)||p.codemirrorIgnore}function C(b){var p=b._handlers&&b._handlers.cursorActivity;if(p){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var X=0;X<p.length;++X)-1==a(b,p[X])&&b.push(p[X])}}function V(b,p){return 0<(b._handlers&&
b._handlers[p]||gi).length}function ha(b){b.prototype.on=function(p,X){Te(this,p,X)};b.prototype.off=function(p,X){la(this,p,X)}}function aa(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function ta(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function wa(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Ha(b){aa(b);ta(b)}function bb(b){var p=b.which;null==p&&(b.button&1?p=1:b.button&2?p=3:b.button&4&&(p=2));dh&&b.ctrlKey&&1==p&&(p=3);return p}
function kb(b){if(null==ih){var p=H("span","");w(b,H("span",[p,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(ih=1>=p.offsetWidth&&2<p.offsetHeight&&!(wf&&8>Ff))}b=ih?H("span",""):H("span","",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function va(b,p){2<arguments.length&&(p.dependencies=Array.prototype.slice.call(arguments,2));Kh[b]=p}function Ta(b){if("string"==typeof b&&ti.hasOwnProperty(b))b=ti[b];else if(b&&"string"==
typeof b.name&&ti.hasOwnProperty(b.name)){var p=ti[b.name];"string"==typeof p&&(p={name:p});b=M(p,b);b.name=p.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Ta("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Ta("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Ya(b,p){p=Ta(p);var X=Kh[p.name];if(!X)return Ya(b,"text/plain");b=X(b,p);if(jh.hasOwnProperty(p.name)){X=jh[p.name];for(var S in X)X.hasOwnProperty(S)&&
(b.hasOwnProperty(S)&&(b["_"+S]=b[S]),b[S]=X[S])}b.name=p.name;p.helperType&&(b.helperType=p.helperType);if(p.modeProps)for(var ea in p.modeProps)b[ea]=p.modeProps[ea];return b}function Ca(b,p){b=jh.hasOwnProperty(b)?jh[b]:jh[b]={};d(p,b)}function ua(b,p){if(!0===p)return p;if(b.copyState)return b.copyState(p);b={};for(var X in p){var S=p[X];S instanceof Array&&(S=S.concat([]));b[X]=S}return b}function U(b,p){for(var X;b.innerMode;){X=b.innerMode(p);if(!X||X.mode==b)break;p=X.state;b=X.mode}return X||
{mode:b,state:p}}function W(b,p,X){return b.startState?b.startState(p,X):!0}function ba(b,p){p-=b.first;if(0>p||p>=b.size)throw Error("There is no line "+(p+b.first)+" in the document.");for(;!b.lines;)for(var X=0;;++X){var S=b.children[X],ea=S.chunkSize();if(p<ea){b=S;break}p-=ea}return b.lines[p]}function ca(b,p,X){var S=[],ea=p.line;b.iter(p.line,X.line+1,function(La){La=La.text;ea==X.line&&(La=La.slice(0,X.ch));ea==p.line&&(La=La.slice(p.ch));S.push(La);++ea});return S}function ra(b,p,X){var S=
[];b.iter(p,X,function(ea){S.push(ea.text)});return S}function qa(b,p){if(p-=b.height)for(;b;b=b.parent)b.height+=p}function Da(b){if(null==b.parent)return null;var p=b.parent;b=a(p.lines,b);for(var X=p.parent;X;p=X,X=X.parent)for(var S=0;X.children[S]!=p;++S)b+=X.children[S].chunkSize();return b+p.first}function na(b,p){var X=b.first;a:do{for(var S=0;S<b.children.length;++S){var ea=b.children[S],La=ea.height;if(p<La){b=ea;continue a}p-=La;X+=ea.chunkSize()}return X}while(!b.lines);for(S=0;S<b.lines.length;++S){ea=
b.lines[S].height;if(p<ea)break;p-=ea}return X+S}function Ra(b,p){return p>=b.first&&p<b.first+b.size}function db(b,p){return String(b.lineNumberFormatter(p+b.firstLineNumber))}function $a(b,p,X){void 0===X&&(X=null);if(!(this instanceof $a))return new $a(b,p,X);this.line=b;this.ch=p;this.sticky=X}function Fa(b,p){return b.line-p.line||b.ch-p.ch}function Ga(b,p){return b.sticky==p.sticky&&0==Fa(b,p)}function pa(b){return $a(b.line,b.ch)}function Ja(b,p){return 0>Fa(b,p)?p:b}function Ua(b,p){return 0>
Fa(b,p)?b:p}function jb(b,p){if(p.line<b.first)return $a(b.first,0);var X=b.first+b.size-1;if(p.line>X)return $a(X,ba(b,X).text.length);b=ba(b,p.line).text.length;X=p.ch;p=null==X||X>b?$a(p.line,b):0>X?$a(p.line,0):p;return p}function Fb(b,p){for(var X=[],S=0;S<p.length;S++)X[S]=jb(b,p[S]);return X}function Xb(b,p,X,S){var ea=[b.state.modeGen],La={};rc(b,p.text,b.doc.mode,X,function(tb,Ib){return ea.push(tb,Ib)},La,S);var Xa=X.state;S=function(tb){X.baseTokens=ea;var Ib=b.state.overlays[tb],dc=1,
Rc=0;X.state=!0;rc(b,p.text,Ib.mode,X,function(vc,wc){for(var td=dc;Rc<vc;){var ce=ea[dc];ce>vc&&ea.splice(dc,1,vc,ea[dc+1],ce);dc+=2;Rc=Math.min(vc,ce)}if(wc)if(Ib.opaque)ea.splice(td,dc-td,vc,"overlay "+wc),dc=td+2;else for(;td<dc;td+=2)vc=ea[td+1],ea[td+1]=(vc?vc+" ":"")+"overlay "+wc},La);X.state=Xa;X.baseTokens=null;X.baseTokenPos=1};for(var ab=0;ab<b.state.overlays.length;++ab)S(ab);return{styles:ea,classes:La.bgClass||La.textClass?La:null}}function nc(b,p,X){if(!p.styles||p.styles[0]!=b.state.modeGen){var S=
md(b,Da(p)),ea=p.text.length>b.options.maxHighlightLength&&ua(b.doc.mode,S.state),La=Xb(b,p,S);ea&&(S.state=ea);p.stateAfter=S.save(!ea);p.styles=La.styles;La.classes?p.styleClasses=La.classes:p.styleClasses&&(p.styleClasses=null);X===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return p.styles}function md(b,p,X){var S=b.doc,ea=b.display;if(!S.mode.startState)return new xh(S,!0,p);var La=Pc(b,p,X),Xa=La>S.first&&ba(S,La-1).stateAfter,ab=Xa?xh.fromSaved(S,
Xa,La):new xh(S,W(S.mode),La);S.iter(La,p,function(tb){pc(b,tb.text,ab);var Ib=ab.line;tb.stateAfter=Ib==p-1||0==Ib%5||Ib>=ea.viewFrom&&Ib<ea.viewTo?ab.save():null;ab.nextLine()});X&&(S.modeFrontier=ab.line);return ab}function pc(b,p,X,S){var ea=b.doc.mode;b=new kg(p,b.options.tabSize,X);b.start=b.pos=S||0;for(""==p&&Hc(ea,X.state);!b.eol();)mb(ea,b,X.state),b.start=b.pos}function Hc(b,p){if(b.blankLine)return b.blankLine(p);if(b.innerMode&&(b=U(b,p),b.mode.blankLine))return b.mode.blankLine(b.state)}
function mb(b,p,X,S){for(var ea=0;10>ea;ea++){S&&(S[0]=U(b,X).mode);var La=b.token(p,X);if(p.pos>p.start)return La}throw Error("Mode "+b.name+" failed to advance stream.");}function hc(b,p,X,S){var ea=b.doc,La=ea.mode;p=jb(ea,p);var Xa=ba(ea,p.line);X=md(b,p.line,X);b=new kg(Xa.text,b.options.tabSize,X);var ab;for(S&&(ab=[]);(S||b.pos<p.ch)&&!b.eol();){b.start=b.pos;var tb=mb(La,b,X.state);S&&ab.push(new Cj(b,tb,ua(ea.mode,X.state)))}return S?ab:new Cj(b,tb,X.state)}function jc(b,p){if(b)for(;;){var X=
b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!X)break;b=b.slice(0,X.index)+b.slice(X.index+X[0].length);var S=X[1]?"bgClass":"textClass";null==p[S]?p[S]=X[2]:(new RegExp("(?:^|\\s)"+X[2]+"(?:$|\\s)")).test(p[S])||(p[S]+=" "+X[2])}return b}function rc(b,p,X,S,ea,La,Xa){var ab=X.flattenSpans;null==ab&&(ab=b.options.flattenSpans);var tb=0,Ib=null,dc=new kg(p,b.options.tabSize,S),Rc=b.options.addModeClass&&[null];for(""==p&&jc(Hc(X,S.state),La);!dc.eol();){if(dc.pos>b.options.maxHighlightLength){ab=
!1;Xa&&pc(b,p,S,dc.pos);dc.pos=p.length;var vc=null}else vc=jc(mb(X,dc,S.state,Rc),La);if(Rc){var wc=Rc[0].name;wc&&(vc="m-"+(vc?wc+" "+vc:wc))}if(!ab||Ib!=vc){for(;tb<dc.start;)tb=Math.min(dc.start,tb+5E3),ea(tb,Ib);Ib=vc}dc.start=dc.pos}for(;tb<dc.pos;)b=Math.min(dc.pos,tb+5E3),ea(b,Ib),tb=b}function Pc(b,p,X){for(var S,ea,La=b.doc,Xa=X?-1:p-(b.doc.mode.innerMode?1E3:100);p>Xa;--p){if(p<=La.first)return La.first;var ab=ba(La,p-1),tb=ab.stateAfter;if(tb&&(!X||p+(tb instanceof Ji?tb.lookAhead:0)<=
La.modeFrontier))return p;ab=f(ab.text,null,b.options.tabSize);if(null==ea||S>ab)ea=p-1,S=ab}return ea}function sc(b,p){b.modeFrontier=Math.min(b.modeFrontier,p);if(!(b.highlightFrontier<p-10)){for(var X=b.first,S=p-1;S>X;S--){var ea=ba(b,S).stateAfter;if(ea&&(!(ea instanceof Ji)||S+ea.lookAhead<p)){X=S+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,X)}}function Uc(b,p,X){this.marker=b;this.from=p;this.to=X}function Sc(b,p){if(b)for(var X=0;X<b.length;++X){var S=b[X];if(S.marker==p)return S}}
function Lc(b,p){if(p.full)return null;var X=Ra(b,p.from.line)&&ba(b,p.from.line).markedSpans,S=Ra(b,p.to.line)&&ba(b,p.to.line).markedSpans;if(!X&&!S)return null;b=p.from.ch;var ea=p.to.ch,La=0==Fa(p.from,p.to),Xa;if(X)for(var ab=0;ab<X.length;++ab){var tb=X[ab],Ib=tb.marker;if(null==tb.from||(Ib.inclusiveLeft?tb.from<=b:tb.from<b)||!(tb.from!=b||"bookmark"!=Ib.type||La&&tb.marker.insertLeft)){var dc=null==tb.to||(Ib.inclusiveRight?tb.to>=b:tb.to>b);(Xa||(Xa=[])).push(new Uc(Ib,tb.from,dc?null:tb.to))}}X=
Xa;var Rc;if(S)for(Xa=0;Xa<S.length;++Xa)if(ab=S[Xa],tb=ab.marker,null==ab.to||(tb.inclusiveRight?ab.to>=ea:ab.to>ea)||ab.from==ea&&"bookmark"==tb.type&&(!La||ab.marker.insertLeft))Ib=null==ab.from||(tb.inclusiveLeft?ab.from<=ea:ab.from<ea),(Rc||(Rc=[])).push(new Uc(tb,Ib?null:ab.from-ea,null==ab.to?null:ab.to-ea));S=1==p.text.length;ea=y(p.text).length+(S?b:0);if(X)for(La=0;La<X.length;++La)if(Xa=X[La],null==Xa.to)(ab=Sc(Rc,Xa.marker),ab)?S&&(Xa.to=null==ab.to?null:ab.to+ea):Xa.to=b;if(Rc)for(b=
0;b<Rc.length;++b)La=Rc[b],null!=La.to&&(La.to+=ea),null==La.from?Sc(X,La.marker)||(La.from=ea,S&&(X||(X=[])).push(La)):(La.from+=ea,S&&(X||(X=[])).push(La));X&&(X=Fd(X));Rc&&Rc!=X&&(Rc=Fd(Rc));b=[X];if(!S){p=p.text.length-2;var vc;if(0<p&&X)for(S=0;S<X.length;++S)null==X[S].to&&(vc||(vc=[])).push(new Uc(X[S].marker,null,null));for(X=0;X<p;++X)b.push(vc);b.push(Rc)}return b}function Fd(b){for(var p=0;p<b.length;++p){var X=b[p];null!=X.from&&X.from==X.to&&!1!==X.marker.clearWhenEmpty&&b.splice(p--,
1)}return b.length?b:null}function ge(b,p,X){var S=null;b.iter(p.line,X.line+1,function(dc){if(dc.markedSpans)for(var Rc=0;Rc<dc.markedSpans.length;++Rc){var vc=dc.markedSpans[Rc].marker;!vc.readOnly||S&&-1!=a(S,vc)||(S||(S=[])).push(vc)}});if(!S)return null;b=[{from:p,to:X}];for(p=0;p<S.length;++p){X=S[p];for(var ea=X.find(0),La=0;La<b.length;++La){var Xa=b[La];if(!(0>Fa(Xa.to,ea.from)||0<Fa(Xa.from,ea.to))){var ab=[La,1],tb=Fa(Xa.from,ea.from),Ib=Fa(Xa.to,ea.to);(0>tb||!X.inclusiveLeft&&!tb)&&ab.push({from:Xa.from,
to:ea.from});(0<Ib||!X.inclusiveRight&&!Ib)&&ab.push({from:ea.to,to:Xa.to});b.splice.apply(b,ab);La+=ab.length-3}}}return b}function wd(b){var p=b.markedSpans;if(p){for(var X=0;X<p.length;++X)p[X].marker.detachLine(b);b.markedSpans=null}}function vd(b,p){if(p){for(var X=0;X<p.length;++X)p[X].marker.attachLine(b);b.markedSpans=p}}function Wd(b,p){var X=b.lines.length-p.lines.length;if(0!=X)return X;X=b.find();var S=p.find(),ea=Fa(X.from,S.from)||(b.inclusiveLeft?-1:0)-(p.inclusiveLeft?-1:0);return ea?
-ea:(X=Fa(X.to,S.to)||(b.inclusiveRight?1:0)-(p.inclusiveRight?1:0))?X:p.id-b.id}function Pb(b,p){b=Ph&&b.markedSpans;if(b)for(var X,S=0;S<b.length;++S)if(X=b[S],X.marker.collapsed&&null==(p?X.from:X.to)&&(!ea||0>Wd(ea,X.marker)))var ea=X.marker;return ea}function gc(b,p,X,S,ea){b=ba(b,p);if(b=Ph&&b.markedSpans)for(p=0;p<b.length;++p){var La=b[p];if(La.marker.collapsed){var Xa=La.marker.find(0),ab=Fa(Xa.from,X)||(La.marker.inclusiveLeft?-1:0)-(ea.inclusiveLeft?-1:0),tb=Fa(Xa.to,S)||(La.marker.inclusiveRight?
1:0)-(ea.inclusiveRight?1:0);if(!(0<=ab&&0>=tb||0>=ab&&0<=tb)&&(0>=ab&&(La.marker.inclusiveRight&&ea.inclusiveLeft?0<=Fa(Xa.to,X):0<Fa(Xa.to,X))||0<=ab&&(La.marker.inclusiveRight&&ea.inclusiveLeft?0>=Fa(Xa.from,S):0>Fa(Xa.from,S))))return!0}}}function Eb(b){for(var p;p=Pb(b,!0);)b=p.find(-1,!0).line;return b}function zc(b,p){b=ba(b,p);var X=Eb(b);return b==X?p:Da(X)}function Vc(b,p){if(p>b.lastLine())return p;var X=ba(b,p);if(!Ed(b,X))return p;for(;b=Pb(X,!1);)X=b.find(1,!0).line;return Da(X)+1}function Ed(b,
p){var X=Ph&&p.markedSpans;if(X)for(var S,ea=0;ea<X.length;++ea)if(S=X[ea],S.marker.collapsed&&(null==S.from||!S.marker.widgetNode&&0==S.from&&S.marker.inclusiveLeft&&Vd(b,p,S)))return!0}function Vd(b,p,X){if(null==X.to)return p=X.marker.find(1,!0),Vd(b,p.line,Sc(p.line.markedSpans,X.marker));if(X.marker.inclusiveRight&&X.to==p.text.length)return!0;for(var S,ea=0;ea<p.markedSpans.length;++ea)if(S=p.markedSpans[ea],S.marker.collapsed&&!S.marker.widgetNode&&S.from==X.to&&(null==S.to||S.to!=X.from)&&
(S.marker.inclusiveLeft||X.marker.inclusiveRight)&&Vd(b,p,S))return!0}function Ka(b){b=Eb(b);for(var p=0,X=b.parent,S=0;S<X.lines.length;++S){var ea=X.lines[S];if(ea==b)break;else p+=ea.height}for(b=X.parent;b;X=b,b=X.parent)for(S=0;S<b.children.length&&(ea=b.children[S],ea!=X);++S)p+=ea.height;return p}function eb(b){if(0==b.height)return 0;for(var p=b.text.length,X,S=b;X=Pb(S,!0);)X=X.find(0,!0),S=X.from.line,p+=X.from.ch-X.to.ch;for(S=b;X=Pb(S,!1);)b=X.find(0,!0),p-=S.text.length-b.from.ch,S=b.to.line,
p+=S.text.length-b.to.ch;return p}function wb(b){var p=b.display;b=b.doc;p.maxLine=ba(b,b.first);p.maxLineLength=eb(p.maxLine);p.maxLineChanged=!0;b.iter(function(X){var S=eb(X);S>p.maxLineLength&&(p.maxLineLength=S,p.maxLine=X)})}function Hb(b,p){if(!b||/^\s*$/.test(b))return null;p=p.addModeClass?qk:Zj;return p[b]||(p[b]=b.replace(/\S+/g,"cm-$\x26"))}function ac(b,p){var X=N("span",null,null,Ag?"padding-right: .1px":null);X={pre:N("pre",[X],"CodeMirror-line"),content:X,col:0,pos:0,cm:b,trailingSpace:!1,
splitSpaces:b.getOption("lineWrapping")};p.measure={};for(var S=0;S<=(p.rest?p.rest.length:0);S++){var ea=S?p.rest[S-1]:p.line,La=void 0;X.pos=0;X.addToken=Ac;var Xa=b.display.measure;if(null!=wh)Xa=wh;else{var ab=w(Xa,document.createTextNode("AA")),tb=Hi(ab,0,1).getBoundingClientRect();ab=Hi(ab,1,2).getBoundingClientRect();l(Xa);Xa=tb&&tb.left!=tb.right?wh=3>ab.right-tb.right:!1}Xa&&(La=ia(ea,b.doc.direction))&&(X.addToken=tc(X.addToken,La));X.map=[];var Ib=p!=b.display.externalMeasured&&Da(ea);
a:{var dc=ab=tb=Xa=void 0,Rc=void 0,vc=void 0,wc=void 0;La=X;Ib=nc(b,ea,Ib);var td=ea.markedSpans,ce=ea.text,Se=0;if(td)for(var bf=ce.length,He=0,cg=1,Af="",bg=0;;){if(bg==He){Rc=dc=ab=vc="";tb=Xa=null;bg=Infinity;for(var Wf=[],qf=void 0,gg=0;gg<td.length;++gg){var Rf=td[gg],Of=Rf.marker;if("bookmark"==Of.type&&Rf.from==He&&Of.widgetNode)Wf.push(Of);else if(Rf.from<=He&&(null==Rf.to||Rf.to>He||Of.collapsed&&Rf.to==He&&Rf.from==He)){null!=Rf.to&&Rf.to!=He&&bg>Rf.to&&(bg=Rf.to,dc="");Of.className&&
(Rc+=" "+Of.className);Of.css&&(vc=(vc?vc+";":"")+Of.css);Of.startStyle&&Rf.from==He&&(ab+=" "+Of.startStyle);Of.endStyle&&Rf.to==bg&&(qf||(qf=[])).push(Of.endStyle,Rf.to);Of.title&&((Xa||(Xa={})).title=Of.title);if(Of.attributes)for(var Kg in Of.attributes)(Xa||(Xa={}))[Kg]=Of.attributes[Kg];Of.collapsed&&(!tb||0>Wd(tb.marker,Of))&&(tb=Rf)}else Rf.from>He&&bg>Rf.from&&(bg=Rf.from)}if(qf)for(gg=0;gg<qf.length;gg+=2)qf[gg+1]==bg&&(dc+=" "+qf[gg]);if(!tb||tb.from==He)for(qf=0;qf<Wf.length;++qf)pb(La,
0,Wf[qf]);if(tb&&(tb.from||0)==He){pb(La,(null==tb.to?bf+1:tb.to)-He,tb.marker,null==tb.from);if(null==tb.to)break a;tb.to==He&&(tb=!1)}}if(He>=bf)break;for(Wf=Math.min(bf,bg);;){if(Af){qf=He+Af.length;tb||(gg=qf>Wf?Af.slice(0,Wf-He):Af,La.addToken(La,gg,wc?wc+Rc:Rc,ab,He+gg.length==bg?dc:"",vc,Xa));if(qf>=Wf){Af=Af.slice(Wf-He);He=Wf;break}He=qf;ab=""}Af=ce.slice(Se,Se=Ib[cg++]);wc=Hb(Ib[cg++],La.cm.options)}}else for(Xa=1;Xa<Ib.length;Xa+=2)La.addToken(La,ce.slice(Se,Se=Ib[Xa]),Hb(Ib[Xa+1],La.cm.options))}ea.styleClasses&&
(ea.styleClasses.bgClass&&(X.bgClass=m(ea.styleClasses.bgClass,X.bgClass||"")),ea.styleClasses.textClass&&(X.textClass=m(ea.styleClasses.textClass,X.textClass||"")));0==X.map.length&&X.map.push(0,0,X.content.appendChild(kb(b.display.measure)));0==S?(p.measure.map=X.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(X.map),(p.measure.caches||(p.measure.caches=[])).push({}))}Ag&&(Kg=X.content.lastChild,/\bcm-tab\b/.test(Kg.className)||Kg.querySelector&&Kg.querySelector(".cm-tab"))&&
(X.content.className="cm-tab-wrap-hack");Z(b,"renderLine",b,p.line,X.pre);X.pre.className&&(X.textClass=m(X.pre.className,X.textClass||""));return X}function Lb(b){var p=H("span","","cm-invalidchar");p.title="\\u"+b.charCodeAt(0).toString(16);p.setAttribute("aria-label",p.title);return p}function Ac(b,p,X,S,ea,La,Xa){if(p){if(b.splitSpaces){var ab=b.trailingSpace;if(1<p.length&&!/  /.test(p))ab=p;else{for(var tb="",Ib=0;Ib<p.length;Ib++){var dc=p.charAt(Ib);" "!=dc||!ab||Ib!=p.length-1&&32!=p.charCodeAt(Ib+
1)||(dc="");tb+=dc;ab=" "==dc}ab=tb}}else ab=p;tb=ab;Ib=b.cm.state.specialChars;dc=!1;if(Ib.test(p)){ab=document.createDocumentFragment();for(var Rc=0;;){Ib.lastIndex=Rc;var vc=Ib.exec(p),wc=vc?vc.index-Rc:p.length-Rc;if(wc){var td=document.createTextNode(tb.slice(Rc,Rc+wc));wf&&9>Ff?ab.appendChild(H("span",[td])):ab.appendChild(td);b.map.push(b.pos,b.pos+wc,td);b.col+=wc;b.pos+=wc}if(!vc)break;Rc+=wc+1;"\t"==vc[0]?(vc=b.cm.options.tabSize,vc-=b.col%vc,wc=ab.appendChild(H("span",n(vc),"cm-tab")),
wc.setAttribute("role","presentation"),wc.setAttribute("cm-text","\t"),b.col+=vc):("\r"==vc[0]||"\n"==vc[0]?(wc=ab.appendChild(H("span","\r"==vc[0]?"":"","cm-invalidchar")),wc.setAttribute("cm-text",vc[0])):(wc=b.cm.options.specialCharPlaceholder(vc[0]),wc.setAttribute("cm-text",vc[0]),wf&&9>Ff?ab.appendChild(H("span",[wc])):ab.appendChild(wc)),b.col+=1);b.map.push(b.pos,b.pos+1,wc);b.pos++}}else b.col+=p.length,ab=document.createTextNode(tb),b.map.push(b.pos,b.pos+p.length,ab),wf&&9>Ff&&(dc=!0),
b.pos+=p.length;b.trailingSpace=32==tb.charCodeAt(p.length-1);if(X||S||ea||dc||La||Xa){p=X||"";S&&(p+=S);ea&&(p+=ea);S=H("span",[ab],p,La);if(Xa)for(var ce in Xa)Xa.hasOwnProperty(ce)&&"style"!=ce&&"class"!=ce&&S.setAttribute(ce,Xa[ce]);return b.content.appendChild(S)}b.content.appendChild(ab)}}function tc(b,p){return function(X,S,ea,La,Xa,ab,tb){ea=ea?ea+" cm-force-border":"cm-force-border";for(var Ib=X.pos,dc=Ib+S.length;;){for(var Rc=void 0,vc=0;vc<p.length&&!(Rc=p[vc],Rc.to>Ib&&Rc.from<=Ib);vc++);
if(Rc.to>=dc)return b(X,S,ea,La,Xa,ab,tb);b(X,S.slice(0,Rc.to-Ib),ea,La,null,ab,tb);La=null;S=S.slice(Rc.to-Ib);Ib=Rc.to}}}function pb(b,p,X,S){var ea=!S&&X.widgetNode;ea&&b.map.push(b.pos,b.pos+p,ea);!S&&b.cm.display.input.needsContentAttribute&&(ea||(ea=b.content.appendChild(document.createElement("span"))),ea.setAttribute("cm-marker",X.id));ea&&(b.cm.display.input.setUneditable(ea),b.content.appendChild(ea));b.pos+=p;b.trailingSpace=!1}function Bb(b,p,X){for(var S=this.line=p,ea;S=Pb(S,!1);)S=
S.find(1,!0).line,(ea||(ea=[])).push(S);this.size=(this.rest=ea)?Da(y(this.rest))-X+1:1;this.node=this.text=null;this.hidden=Ed(b,p)}function Ub(b,p,X){var S=[],ea;for(ea=p;ea<X;)p=new Bb(b.doc,ba(b.doc,ea),ea),ea+=p.size,S.push(p);return S}function mc(b,p){if(b=b.ownsGroup)try{var X=b.delayedCallbacks,S=0;do{for(;S<X.length;S++)X[S].call(null);for(var ea=0;ea<b.ops.length;ea++){var La=b.ops[ea];if(La.cursorActivityHandlers)for(;La.cursorActivityCalled<La.cursorActivityHandlers.length;)La.cursorActivityHandlers[La.cursorActivityCalled++].call(null,
La.cm)}}while(S<X.length)}finally{Di=null,p(b)}}function Bc(b,p){var X=b._handlers&&b._handlers[p]||gi;if(X.length){var S=Array.prototype.slice.call(arguments,2);if(Di)var ea=Di.delayedCallbacks;else ag?ea=ag:(ea=ag=[],setTimeout(Cc,0));for(var La=function(ab){ea.push(function(){return X[ab].apply(null,S)})},Xa=0;Xa<X.length;++Xa)La(Xa)}}function Cc(){var b=ag;ag=null;for(var p=0;p<b.length;++p)b[p]()}function Xc(b,p,X,S){for(var ea=0;ea<p.changes.length;ea++){var La=p.changes[ea];if("text"==La){La=
b;var Xa=p,ab=Xa.text.className,tb=Ic(La,Xa);Xa.text==Xa.node&&(Xa.node=tb.pre);Xa.text.parentNode.replaceChild(tb.pre,Xa.text);Xa.text=tb.pre;tb.bgClass!=Xa.bgClass||tb.textClass!=Xa.textClass?(Xa.bgClass=tb.bgClass,Xa.textClass=tb.textClass,Dc(La,Xa)):ab&&(Xa.text.className=ab)}else if("gutter"==La)uc(b,p,X,S);else if("class"==La)Dc(b,p);else if("widget"==La){La=b;Xa=p;ab=S;Xa.alignable&&(Xa.alignable=null);tb=k("CodeMirror-linewidget");for(var Ib=Xa.node.firstChild,dc;Ib;Ib=dc)dc=Ib.nextSibling,
tb.test(Ib.className)&&Xa.node.removeChild(Ib);ad(La,Xa,ab)}}p.changes=null}function Qb(b){b.node==b.text&&(b.node=H("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),wf&&8>Ff&&(b.node.style.zIndex=2));return b.node}function Ic(b,p){var X=b.display.externalMeasured;return X&&X.line==p.line?(b.display.externalMeasured=null,p.measure=X.measure,X.built):ac(b,p)}function Dc(b,p){var X=p.bgClass?p.bgClass+" "+(p.line.bgClass||
""):p.line.bgClass;X&&(X+=" CodeMirror-linebackground");if(p.background)X?p.background.className=X:(p.background.parentNode.removeChild(p.background),p.background=null);else if(X){var S=Qb(p);p.background=S.insertBefore(H("div",null,X),S.firstChild);b.display.input.setUneditable(p.background)}p.line.wrapClass?Qb(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");p.text.className=(p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass)||""}function uc(b,p,X,S){p.gutter&&
(p.node.removeChild(p.gutter),p.gutter=null);p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null);if(p.line.gutterClass){var ea=Qb(p);p.gutterBackground=H("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(b.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px; width: "+S.gutterTotalWidth+"px");b.display.input.setUneditable(p.gutterBackground);ea.insertBefore(p.gutterBackground,p.text)}ea=p.line.gutterMarkers;if(b.options.lineNumbers||ea){var La=
Qb(p),Xa=p.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px");b.display.input.setUneditable(Xa);La.insertBefore(Xa,p.text);p.line.gutterClass&&(Xa.className+=" "+p.line.gutterClass);!b.options.lineNumbers||ea&&ea["CodeMirror-linenumbers"]||(p.lineNumber=Xa.appendChild(H("div",db(b.options,X),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+S.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));
if(ea)for(p=0;p<b.display.gutterSpecs.length;++p)X=b.display.gutterSpecs[p].className,(La=ea.hasOwnProperty(X)&&ea[X])&&Xa.appendChild(H("div",[La],"CodeMirror-gutter-elt","left: "+S.gutterLeft[X]+"px; width: "+S.gutterWidth[X]+"px"))}}function Tc(b,p,X,S){var ea=Ic(b,p);p.text=p.node=ea.pre;ea.bgClass&&(p.bgClass=ea.bgClass);ea.textClass&&(p.textClass=ea.textClass);Dc(b,p);uc(b,p,X,S);ad(b,p,S);return p.node}function ad(b,p,X){ld(b,p.line,p,X,!0);if(p.rest)for(var S=0;S<p.rest.length;S++)ld(b,p.rest[S],
p,X,!1)}function ld(b,p,X,S,ea){if(p.widgets){var La=Qb(X),Xa=0;for(p=p.widgets;Xa<p.length;++Xa){var ab=p[Xa],tb=H("div",[ab.node],"CodeMirror-linewidget"+(ab.className?" "+ab.className:""));ab.handleMouseEvents||tb.setAttribute("cm-ignore-events","true");var Ib=ab,dc=tb,Rc=S;if(Ib.noHScroll){(X.alignable||(X.alignable=[])).push(dc);var vc=Rc.wrapperWidth;dc.style.left=Rc.fixedPos+"px";Ib.coverGutter||(vc-=Rc.gutterTotalWidth,dc.style.paddingLeft=Rc.gutterTotalWidth+"px");dc.style.width=vc+"px"}Ib.coverGutter&&
(dc.style.zIndex=5,dc.style.position="relative",Ib.noHScroll||(dc.style.marginLeft=-Rc.gutterTotalWidth+"px"));b.display.input.setUneditable(tb);ea&&ab.above?La.insertBefore(tb,X.gutter||X.text):La.appendChild(tb);Bc(ab,"redraw")}}}function Cd(b){if(null!=b.height)return b.height;var p=b.doc.cm;if(!p)return 0;if(!x(document.body,b.node)){var X="position: relative;";b.coverGutter&&(X+="margin-left: -"+p.display.gutters.offsetWidth+"px;");b.noHScroll&&(X+="width: "+p.display.wrapper.clientWidth+"px;");
w(p.display.measure,H("div",[b.node],null,X))}return b.height=b.node.parentNode.offsetHeight}function Dd(b,p){for(p=p.target||p.srcElement;p!=b.wrapper;p=p.parentNode)if(!p||1==p.nodeType&&"true"==p.getAttribute("cm-ignore-events")||p.parentNode==b.sizer&&p!=b.mover)return!0}function Ud(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function ae(b){if(b.cachedPaddingH)return b.cachedPaddingH;var p=w(b.measure,H("pre","x","CodeMirror-line-like"));p=window.getComputedStyle?window.getComputedStyle(p):
p.currentStyle;p={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};isNaN(p.left)||isNaN(p.right)||(b.cachedPaddingH=p);return p}function oe(b){return 50-b.display.nativeBarWidth}function De(b){return b.display.scroller.clientWidth-oe(b)-b.display.barWidth}function fe(b){return b.display.scroller.clientHeight-oe(b)-b.display.barHeight}function ef(b,p,X){if(b.line==p)return{map:b.measure.map,cache:b.measure.cache};for(var S=0;S<b.rest.length;S++)if(b.rest[S]==p)return{map:b.measure.maps[S],
cache:b.measure.caches[S]};for(p=0;p<b.rest.length;p++)if(Da(b.rest[p])>X)return{map:b.measure.maps[p],cache:b.measure.caches[p],before:!0}}function Ze(b,p){if(p>=b.display.viewFrom&&p<b.display.viewTo)return b.display.view[qe(b,p)];if((b=b.display.externalMeasured)&&p>=b.lineN&&p<b.lineN+b.size)return b}function df(b,p){var X=Da(p),S=Ze(b,X);S&&!S.text?S=null:S&&S.changes&&(Xc(b,S,X,lf(b)),b.curOp.forceUpdate=!0);if(!S){var ea=Eb(p);S=Da(ea);ea=b.display.externalMeasured=new Bb(b.doc,ea,S);ea.lineN=
S;S=ea.built=ac(b,ea);ea.text=S.pre;w(b.display.lineMeasure,S.pre);S=ea}b=ef(S,p,X);return{line:p,view:S,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Zd(b,p,X,S,ea){p.before&&(X=-1);var La=X+(S||"");if(p.cache.hasOwnProperty(La))b=p.cache[La];else{p.rect||(p.rect=p.view.text.getBoundingClientRect());if(!p.hasHeights){var Xa=p.view,ab=p.rect,tb=b.options.lineWrapping,Ib=tb&&De(b);if(!Xa.measure.heights||tb&&Xa.measure.width!=Ib){var dc=Xa.measure.heights=[];if(tb)for(Xa.measure.width=
Ib,Xa=Xa.text.firstChild.getClientRects(),tb=0;tb<Xa.length-1;tb++){Ib=Xa[tb];var Rc=Xa[tb+1];2<Math.abs(Ib.bottom-Rc.bottom)&&dc.push((Ib.bottom+Rc.top)/2-ab.top)}dc.push(ab.bottom-ab.top)}p.hasHeights=!0}dc=S;Xa=he(p.map,X,dc);S=Xa.node;ab=Xa.start;tb=Xa.end;X=Xa.collapse;if(3==S.nodeType){for(var vc=0;4>vc;vc++){for(;ab&&K(p.line.text.charAt(Xa.coverStart+ab));)--ab;for(;Xa.coverStart+tb<Xa.coverEnd&&K(p.line.text.charAt(Xa.coverStart+tb));)++tb;if(wf&&9>Ff&&0==ab&&tb==Xa.coverEnd-Xa.coverStart)var wc=
S.parentNode.getBoundingClientRect();else{wc=Hi(S,ab,tb).getClientRects();tb=Lh;if("left"==dc)for(Ib=0;Ib<wc.length&&(tb=wc[Ib]).left==tb.right;Ib++);else for(Ib=wc.length-1;0<=Ib&&(tb=wc[Ib]).left==tb.right;Ib--);wc=tb}if(wc.left||wc.right||0==ab)break;tb=ab;--ab;X="right"}wf&&11>Ff&&((vc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=si?vc=si:(dc=w(b.display.measure,H("span","x")),vc=dc.getBoundingClientRect(),dc=Hi(dc,0,1).getBoundingClientRect(),vc=si=
1<Math.abs(vc.left-dc.left)),vc=!vc),vc||(vc=screen.logicalXDPI/screen.deviceXDPI,dc=screen.logicalYDPI/screen.deviceYDPI,wc={left:wc.left*vc,right:wc.right*vc,top:wc.top*dc,bottom:wc.bottom*dc}))}else 0<ab&&(X=dc="right"),wc=b.options.lineWrapping&&1<(vc=S.getClientRects()).length?vc["right"==dc?vc.length-1:0]:S.getBoundingClientRect();!(wf&&9>Ff)||ab||wc&&(wc.left||wc.right)||(wc=(wc=S.parentNode.getClientRects()[0])?{left:wc.left,right:wc.left+ue(b.display),top:wc.top,bottom:wc.bottom}:Lh);S=wc.top-
p.rect.top;ab=wc.bottom-p.rect.top;vc=(S+ab)/2;dc=p.view.measure.heights;for(Xa=0;Xa<dc.length-1&&!(vc<dc[Xa]);Xa++);X={left:("right"==X?wc.right:wc.left)-p.rect.left,right:("left"==X?wc.left:wc.right)-p.rect.left,top:Xa?dc[Xa-1]:0,bottom:dc[Xa]};wc.left||wc.right||(X.bogus=!0);b.options.singleCursorHeightPerLine||(X.rtop=S,X.rbottom=ab);b=X;b.bogus||(p.cache[La]=b)}return{left:b.left,right:b.right,top:ea?b.rtop:b.top,bottom:ea?b.rbottom:b.bottom}}function he(b,p,X){for(var S,ea,La,Xa,ab,tb,Ib=0;Ib<
b.length;Ib+=3){ab=b[Ib];tb=b[Ib+1];if(p<ab)ea=0,La=1,Xa="left";else if(p<tb)ea=p-ab,La=ea+1;else if(Ib==b.length-3||p==tb&&b[Ib+3]>p)La=tb-ab,ea=La-1,p>=tb&&(Xa="right");if(null!=ea){S=b[Ib+2];ab==tb&&X==(S.insertLeft?"left":"right")&&(Xa=X);if("left"==X&&0==ea)for(;Ib&&b[Ib-2]==b[Ib-3]&&b[Ib-1].insertLeft;)S=b[(Ib-=3)+2],Xa="left";if("right"==X&&ea==tb-ab)for(;Ib<b.length-3&&b[Ib+3]==b[Ib+4]&&!b[Ib+5].insertLeft;)S=b[(Ib+=3)+2],Xa="right";break}}return{node:S,start:ea,end:La,collapse:Xa,coverStart:ab,
coverEnd:tb}}function zf(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var p=0;p<b.rest.length;p++)b.measure.caches[p]={}}function Ue(b){b.display.externalMeasure=null;l(b.display.lineMeasure);for(var p=0;p<b.display.view.length;p++)zf(b.display.view[p])}function Nf(b){Ue(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function me(){return Gh&&ug?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function te(){return Gh&&ug?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function kf(b){var p=0;if(b.widgets)for(var X=0;X<b.widgets.length;++X)b.widgets[X].above&&(p+=Cd(b.widgets[X]));return p}function we(b,p,X,S,ea){ea||(ea=kf(p),X.top+=ea,X.bottom+=
ea);if("line"==S)return X;S||(S="local");p=Ka(p);p="local"==S?p+b.display.lineSpace.offsetTop:p-b.display.viewOffset;if("page"==S||"window"==S)b=b.display.lineSpace.getBoundingClientRect(),p+=b.top+("window"==S?0:te()),S=b.left+("window"==S?0:me()),X.left+=S,X.right+=S;X.top+=p;X.bottom+=p;return X}function Od(b,p,X){if("div"==X)return p;var S=p.left;p=p.top;"page"==X?(S-=me(),p-=te()):"local"!=X&&X||(X=b.display.sizer.getBoundingClientRect(),S+=X.left,p+=X.top);b=b.display.lineSpace.getBoundingClientRect();
return{left:S-b.left,top:p-b.top}}function Xd(b,p,X,S,ea){S||(S=ba(b.doc,p.line));var La=S;p=p.ch;S=Zd(b,df(b,S),p,ea);return we(b,La,S,X)}function Be(b,p,X,S,ea,La){function Xa(vc,wc){vc=Zd(b,ea,vc,wc?"right":"left",La);wc?vc.left=vc.right:vc.right=vc.left;return we(b,S,vc,X)}function ab(vc,wc,td){return Xa(td?vc-1:vc,1==tb[wc].level!=td)}S=S||ba(b.doc,p.line);ea||(ea=df(b,S));var tb=ia(S,b.doc.direction),Ib=p.ch;p=p.sticky;Ib>=S.text.length?(Ib=S.text.length,p="before"):0>=Ib&&(Ib=0,p="after");
if(!tb)return Xa("before"==p?Ib-1:Ib,"before"==p);var dc=fa(tb,Ib,p),Rc=Wh;dc=ab(Ib,dc,"before"==p);null!=Rc&&(dc.other=ab(Ib,Rc,"before"!=p));return dc}function jf(b,p){var X=0;p=jb(b.doc,p);b.options.lineWrapping||(X=ue(b.display)*p.ch);p=ba(b.doc,p.line);b=Ka(p)+b.display.lineSpace.offsetTop;return{left:X,right:X,top:b,bottom:b+p.height}}function Ge(b,p,X,S,ea){b=$a(b,p,X);b.xRel=ea;S&&(b.outside=S);return b}function Td(b,p,X){var S=b.doc;X+=b.display.viewOffset;if(0>X)return Ge(S.first,0,null,
-1,-1);var ea=na(S,X),La=S.first+S.size-1;if(ea>La)return Ge(S.first+S.size-1,ba(S,La).text.length,null,1,1);0>p&&(p=0);for(var Xa=ba(S,ea);;){La=xe(b,Xa,ea,p,X);var ab=void 0;var tb=La.ch+(0<La.xRel||0<La.outside?1:0);if(Xa=Ph&&Xa.markedSpans)for(var Ib=0;Ib<Xa.length;++Ib){var dc=Xa[Ib];dc.marker.collapsed&&(null==dc.from||dc.from<tb)&&(null==dc.to||dc.to>tb)&&(!ab||0>Wd(ab,dc.marker))&&(ab=dc.marker)}if(!ab)return La;La=ab.find(1);if(La.line==ea)return La;Xa=ba(S,ea=La.line)}}function Ye(b,p,X,
S){S-=kf(p);p=p.text.length;var ea=T(function(La){return Zd(b,X,La-1).bottom<=S},p,0);p=T(function(La){return Zd(b,X,La).top>S},ea,p);return{begin:ea,end:p}}function Xf(b,p,X,S){X||(X=df(b,p));S=we(b,p,Zd(b,X,S),"line").top;return Ye(b,p,X,S)}function Gc(b,p,X,S){return b.bottom<=X?!1:b.top>X?!0:(S?b.left:b.right)>p}function xe(b,p,X,S,ea){ea-=Ka(p);var La=df(b,p),Xa=kf(p),ab=0,tb=p.text.length,Ib=!0,dc=ia(p,b.doc.direction);dc&&(dc=(b.options.lineWrapping?kc:le)(b,p,X,La,dc,S,ea),ab=(Ib=1!=dc.level)?
dc.from:dc.to-1,tb=Ib?dc.to:dc.from-1);var Rc=null,vc=null;dc=T(function(td){var ce=Zd(b,La,td);ce.top+=Xa;ce.bottom+=Xa;if(!Gc(ce,S,ea,!1))return!1;ce.top<=ea&&ce.left<=S&&(Rc=td,vc=ce);return!0},ab,tb);var wc=!1;vc?(ab=S-vc.left<vc.right-S,Ib=ab==Ib,dc=Rc+(Ib?0:1),Ib=Ib?"after":"before",ab=ab?vc.left:vc.right):(Ib||dc!=tb&&dc!=ab||dc++,Ib=0==dc?"after":dc==p.text.length?"before":Zd(b,La,dc-(Ib?1:0)).bottom+Xa<=ea==Ib?"after":"before",wc=Be(b,$a(X,dc,Ib),"line",p,La),ab=wc.left,wc=ea<wc.top?-1:ea>=
wc.bottom?1:0);dc=R(p.text,dc,1);return Ge(X,dc,Ib,wc,S-ab)}function le(b,p,X,S,ea,La,Xa){var ab=T(function(dc){dc=ea[dc];var Rc=1!=dc.level;return Gc(Be(b,$a(X,Rc?dc.to:dc.from,Rc?"before":"after"),"line",p,S),La,Xa,!0)},0,ea.length-1),tb=ea[ab];if(0<ab){var Ib=1!=tb.level;Ib=Be(b,$a(X,Ib?tb.from:tb.to,Ib?"after":"before"),"line",p,S);Gc(Ib,La,Xa,!0)&&Ib.top>Xa&&(tb=ea[ab-1])}return tb}function kc(b,p,X,S,ea,La,Xa){Xa=Ye(b,p,S,Xa);X=Xa.begin;Xa=Xa.end;/\s/.test(p.text.charAt(Xa-1))&&Xa--;for(var ab=
p=null,tb=0;tb<ea.length;tb++){var Ib=ea[tb];if(!(Ib.from>=Xa||Ib.to<=X)){var dc=Zd(b,S,1!=Ib.level?Math.min(Xa,Ib.to)-1:Math.max(X,Ib.from)).right;dc=dc<La?La-dc+1E9:dc-La;if(!p||ab>dc)p=Ib,ab=dc}}p||(p=ea[ea.length-1]);p.from<X&&(p={from:X,to:p.to,level:p.level});p.to>Xa&&(p={from:p.from,to:Xa,level:p.level});return p}function Fe(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==oh){oh=H("pre",null,"CodeMirror-line-like");for(var p=0;49>p;++p)oh.appendChild(document.createTextNode("x")),
oh.appendChild(H("br"));oh.appendChild(document.createTextNode("x"))}w(b.measure,oh);p=oh.offsetHeight/50;3<p&&(b.cachedTextHeight=p);l(b.measure);return p||1}function ue(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var p=H("span","xxxxxxxxxx"),X=H("pre",[p],"CodeMirror-line-like");w(b.measure,X);p=p.getBoundingClientRect();p=(p.right-p.left)/10;2<p&&(b.cachedCharWidth=p);return p||10}function lf(b){for(var p=b.display,X={},S={},ea=p.gutters.clientLeft,La=p.gutters.firstChild,Xa=0;La;La=
La.nextSibling,++Xa){var ab=b.display.gutterSpecs[Xa].className;X[ab]=La.offsetLeft+La.clientLeft+ea;S[ab]=La.clientWidth}return{fixedPos:Yf(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:X,gutterWidth:S,wrapperWidth:p.wrapper.clientWidth}}function Yf(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function If(b){var p=Fe(b.display),X=b.options.lineWrapping,S=X&&Math.max(5,b.display.scroller.clientWidth/ue(b.display)-3);return function(ea){if(Ed(b.doc,
ea))return 0;var La=0;if(ea.widgets)for(var Xa=0;Xa<ea.widgets.length;Xa++)ea.widgets[Xa].height&&(La+=ea.widgets[Xa].height);return X?La+(Math.ceil(ea.text.length/S)||1)*p:La+p}}function Sf(b){var p=b.doc,X=If(b);p.iter(function(S){var ea=X(S);ea!=S.height&&qa(S,ea)})}function Bf(b,p,X,S){var ea=b.display;if(!X&&"true"==(p.target||p.srcElement).getAttribute("cm-not-content"))return null;X=ea.lineSpace.getBoundingClientRect();try{var La=p.clientX-X.left;var Xa=p.clientY-X.top}catch(tb){return null}p=
Td(b,La,Xa);var ab;S&&0<p.xRel&&(ab=ba(b.doc,p.line).text).length==p.ch&&(S=f(ab,ab.length,b.options.tabSize)-ab.length,p=$a(p.line,Math.max(0,Math.round((La-ae(b.display).left)/ue(b.display))-S)));return p}function qe(b,p){if(p>=b.display.viewTo)return null;p-=b.display.viewFrom;if(0>p)return null;b=b.display.view;for(var X=0;X<b.length;X++)if(p-=b[X].size,0>p)return X}function yc(b,p,X,S){null==p&&(p=b.doc.first);null==X&&(X=b.doc.first+b.doc.size);S||(S=0);var ea=b.display;S&&X<ea.viewTo&&(null==
ea.updateLineNumbers||ea.updateLineNumbers>p)&&(ea.updateLineNumbers=p);b.curOp.viewChanged=!0;if(p>=ea.viewTo)Ph&&zc(b.doc,p)<ea.viewTo&&Ea(b);else if(X<=ea.viewFrom)Ph&&Vc(b.doc,X+S)>ea.viewFrom?Ea(b):(ea.viewFrom+=S,ea.viewTo+=S);else if(p<=ea.viewFrom&&X>=ea.viewTo)Ea(b);else if(p<=ea.viewFrom){var La=Za(b,X,X+S,1);La?(ea.view=ea.view.slice(La.index),ea.viewFrom=La.lineN,ea.viewTo+=S):Ea(b)}else if(X>=ea.viewTo)(La=Za(b,p,p,-1))?(ea.view=ea.view.slice(0,La.index),ea.viewTo=La.lineN):Ea(b);else{La=
Za(b,p,p,-1);var Xa=Za(b,X,X+S,1);La&&Xa?(ea.view=ea.view.slice(0,La.index).concat(Ub(b,La.lineN,Xa.lineN)).concat(ea.view.slice(Xa.index)),ea.viewTo+=S):Ea(b)}if(b=ea.externalMeasured)X<b.lineN?b.lineN+=S:p<b.lineN+b.size&&(ea.externalMeasured=null)}function xa(b,p,X){b.curOp.viewChanged=!0;var S=b.display,ea=b.display.externalMeasured;ea&&p>=ea.lineN&&p<ea.lineN+ea.size&&(S.externalMeasured=null);p<S.viewFrom||p>=S.viewTo||(b=S.view[qe(b,p)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==a(b,X)&&
b.push(X)))}function Ea(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Za(b,p,X,S){var ea=qe(b,p),La=b.display.view;if(!Ph||X==b.doc.first+b.doc.size)return{index:ea,lineN:X};for(var Xa=b.display.viewFrom,ab=0;ab<ea;ab++)Xa+=La[ab].size;if(Xa!=p){if(0<S){if(ea==La.length-1)return null;p=Xa+La[ea].size-p;ea++}else p=Xa-p;X+=p}for(;zc(b.doc,X)!=X;){if(ea==(0>S?0:La.length-1))return null;X+=S*La[ea-(0>S?1:0)].size;ea+=S}return{index:ea,lineN:X}}function Cb(b){b=
b.display.view;for(var p=0,X=0;X<b.length;X++){var S=b[X];S.hidden||S.node&&!S.changes||++p}return p}function ub(b){b.display.input.showSelection(b.display.input.prepareSelection())}function Yb(b,p){void 0===p&&(p=!0);for(var X=b.doc,S={},ea=S.cursors=document.createDocumentFragment(),La=S.selection=document.createDocumentFragment(),Xa=0;Xa<X.sel.ranges.length;Xa++)if(p||Xa!=X.sel.primIndex){var ab=X.sel.ranges[Xa];if(!(ab.from().line>=b.display.viewTo||ab.to().line<b.display.viewFrom)){var tb=ab.empty();
(tb||b.options.showCursorWhenSelecting)&&$b(b,ab.head,ea);tb||gd(b,ab,La)}}return S}function $b(b,p,X){p=Be(b,p,"div",null,null,!b.options.singleCursorHeightPerLine);var S=X.appendChild(H("div","","CodeMirror-cursor"));S.style.left=p.left+"px";S.style.top=p.top+"px";S.style.height=Math.max(0,p.bottom-p.top)*b.options.cursorHeight+"px";p.other&&(b=X.appendChild(H("div","","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=p.other.left+"px",b.style.top=p.other.top+"px",
b.style.height=.85*(p.other.bottom-p.other.top)+"px")}function Oc(b,p){return b.top-p.top||b.left-p.left}function gd(b,p,X){function S(wc,td,ce,Se){0>td&&(td=0);td=Math.round(td);Se=Math.round(Se);ab.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+wc+"px;\n                             top: "+td+"px; width: "+(null==ce?dc-wc:ce)+"px;\n                             height: "+(Se-td)+"px"))}function ea(wc,td,ce){function Se(qf,gg){return Xd(b,$a(wc,qf),"div",He,gg)}function bf(qf,
gg,Rf){qf=Xf(b,He,null,qf);gg="ltr"==gg==("after"==Rf)?"left":"right";Rf="after"==Rf?qf.begin:qf.end-(/\s/.test(He.text.charAt(qf.end-1))?2:1);return Se(Rf,gg)[gg]}var He=ba(Xa,wc),cg=He.text.length,Af,bg,Wf=ia(He,Xa.direction);ja(Wf,td||0,null==ce?cg:ce,function(qf,gg,Rf,Of){var Kg="ltr"==Rf,Pg=Se(qf,Kg?"left":"right"),ch=Se(gg-1,Kg?"right":"left"),Rh=null==td&&0==qf,li=null==ce&&gg==cg,Mj=0==Of;Of=!Wf||Of==Wf.length-1;3>=ch.top-Pg.top?(gg=(Rc?Rh:li)&&Mj?Ib:(Kg?Pg:ch).left,S(gg,Pg.top,((Rc?li:Rh)&&
Of?dc:(Kg?ch:Pg).right)-gg,Pg.bottom)):(Kg?(Kg=Rc&&Rh&&Mj?Ib:Pg.left,Rh=Rc?dc:bf(qf,Rf,"before"),qf=Rc?Ib:bf(gg,Rf,"after"),li=Rc&&li&&Of?dc:ch.right):(Kg=Rc?bf(qf,Rf,"before"):Ib,Rh=!Rc&&Rh&&Mj?dc:Pg.right,qf=!Rc&&li&&Of?Ib:ch.left,li=Rc?bf(gg,Rf,"after"):dc),S(Kg,Pg.top,Rh-Kg,Pg.bottom),Pg.bottom<ch.top&&S(Ib,Pg.bottom,null,ch.top),S(qf,ch.top,li-qf,ch.bottom));if(!Af||0>Oc(Pg,Af))Af=Pg;0>Oc(ch,Af)&&(Af=ch);if(!bg||0>Oc(Pg,bg))bg=Pg;0>Oc(ch,bg)&&(bg=ch)});return{start:Af,end:bg}}var La=b.display,
Xa=b.doc,ab=document.createDocumentFragment(),tb=ae(b.display),Ib=tb.left,dc=Math.max(La.sizerWidth,De(b)-La.sizer.offsetLeft)-tb.right,Rc="ltr"==Xa.direction;La=p.from();p=p.to();if(La.line==p.line)ea(La.line,La.ch,p.ch);else{var vc=ba(Xa,La.line);tb=ba(Xa,p.line);tb=Eb(vc)==Eb(tb);La=ea(La.line,La.ch,tb?vc.text.length+1:null).end;p=ea(p.line,tb?0:null,p.ch).start;tb&&(La.top<p.top-2?(S(La.right,La.top,null,La.bottom),S(Ib,p.top,p.left,p.bottom)):S(La.right,La.top,p.left-La.right,La.bottom));La.bottom<
p.top&&S(Ib,La.bottom,null,p.top)}X.appendChild(ab)}function Mc(b){if(b.state.focused){var p=b.display;clearInterval(p.blinker);var X=!0;p.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?p.blinker=setInterval(function(){b.hasFocus()||jd(b);p.cursorDiv.style.visibility=(X=!X)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(p.cursorDiv.style.visibility="hidden")}}function Nd(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||Id(b))}function od(b){b.state.delayingBlurEvent=
!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&jd(b))},100)}function Id(b,p){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(Z(b,"focus",b,p),b.state.focused=!0,u(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),Ag&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),
Mc(b))}function jd(b,p){b.state.delayingBlurEvent||(b.state.focused&&(Z(b,"blur",b,p),b.state.focused=!1,Dh(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function Qd(b){for(var p=b.display,X=p.lineDiv.offsetTop,S=0;S<p.view.length;S++){var ea=p.view[S],La=b.options.lineWrapping,Xa=0;if(!ea.hidden){if(wf&&8>Ff){La=ea.node.offsetTop+ea.node.offsetHeight;var ab=La-X;X=La}else{var tb=ea.node.getBoundingClientRect();
ab=tb.bottom-tb.top;!La&&ea.text.firstChild&&(Xa=ea.text.firstChild.getBoundingClientRect().right-tb.left-1)}La=ea.line.height-ab;if(.005<La||-.005>La)if(qa(ea.line,ab),ie(ea.line),ea.rest)for(ab=0;ab<ea.rest.length;ab++)ie(ea.rest[ab]);Xa>b.display.sizerWidth&&(Xa=Math.ceil(Xa/ue(b.display)),Xa>b.display.maxLineLength&&(b.display.maxLineLength=Xa,b.display.maxLine=ea.line,b.display.maxLineChanged=!0))}}}function ie(b){if(b.widgets)for(var p=0;p<b.widgets.length;++p){var X=b.widgets[p],S=X.node.parentNode;
S&&(X.height=S.offsetHeight)}}function Gf(b,p,X){var S=X&&null!=X.top?Math.max(0,X.top):b.scroller.scrollTop;S=Math.floor(S-b.lineSpace.offsetTop);var ea=X&&null!=X.bottom?X.bottom:S+b.wrapper.clientHeight;S=na(p,S);ea=na(p,ea);if(X&&X.ensure){var La=X.ensure.from.line;X=X.ensure.to.line;La<S?(S=La,ea=na(p,Ka(ba(p,La))+b.wrapper.clientHeight)):Math.min(X,p.lastLine())>=ea&&(S=na(p,Ka(ba(p,X))-b.wrapper.clientHeight),ea=X)}return{from:S,to:Math.max(ea,S+1)}}function tf(b,p){var X=b.display,S=Fe(b.display);
0>p.top&&(p.top=0);var ea=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:X.scroller.scrollTop,La=fe(b),Xa={};p.bottom-p.top>La&&(p.bottom=p.top+La);var ab=b.doc.height+Ud(X),tb=p.top<S;S=p.bottom>ab-S;p.top<ea?Xa.scrollTop=tb?0:p.top:p.bottom>ea+La&&(La=Math.min(p.top,(S?ab:p.bottom)-La),La!=ea&&(Xa.scrollTop=La));ea=b.options.fixedGutter?0:X.gutters.offsetWidth;La=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:X.scroller.scrollLeft-ea;b=De(b)-X.gutters.offsetWidth;if(X=p.right-p.left>b)p.right=
p.left+b;10>p.left?Xa.scrollLeft=0:p.left<La?Xa.scrollLeft=Math.max(0,p.left+ea-(X?0:10)):p.right>b+La-3&&(Xa.scrollLeft=p.right+(X?0:10)-b);return Xa}function kd(b,p){null!=p&&(mf(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?b.doc.scrollTop:b.curOp.scrollTop)+p)}function We(b){mf(b);var p=b.getCursor();b.curOp.scrollToPos={from:p,to:p,margin:b.options.cursorScrollMargin}}function uf(b,p,X){null==p&&null==X||mf(b);null!=p&&(b.curOp.scrollLeft=p);null!=X&&(b.curOp.scrollTop=X)}function mf(b){var p=
b.curOp.scrollToPos;if(p){b.curOp.scrollToPos=null;var X=jf(b,p.from),S=jf(b,p.to);Zf(b,X,S,p.margin)}}function Zf(b,p,X,S){p=tf(b,{left:Math.min(p.left,X.left),top:Math.min(p.top,X.top)-S,right:Math.max(p.right,X.right),bottom:Math.max(p.bottom,X.bottom)+S});uf(b,p.scrollLeft,p.scrollTop)}function yf(b,p){2>Math.abs(b.doc.scrollTop-p)||(Eg||Le(b,{top:p}),Pe(b,p,!0),Eg&&Le(b),Kd(b,100))}function Pe(b,p,X){p=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,p));if(b.display.scroller.scrollTop!=
p||X)b.doc.scrollTop=p,b.display.scrollbars.setScrollTop(p),b.display.scroller.scrollTop!=p&&(b.display.scroller.scrollTop=p)}function nf(b,p,X,S){p=Math.max(0,Math.min(p,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));(X?p==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-p))&&!S||(b.doc.scrollLeft=p,Qe(b),b.display.scroller.scrollLeft!=p&&(b.display.scroller.scrollLeft=p),b.display.scrollbars.setScrollLeft(p))}function Aa(b){var p=b.display,X=p.gutters.offsetWidth,S=Math.round(b.doc.height+
Ud(b.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:b.options.fixedGutter?X:0,docHeight:S,scrollHeight:S+oe(b)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:X}}function Pa(b,p){p||(p=Aa(b));var X=b.display.barWidth,S=b.display.barHeight;vb(b,p);for(p=0;4>p&&X!=b.display.barWidth||S!=b.display.barHeight;p++)X!=b.display.barWidth&&b.options.lineWrapping&&
Qd(b),vb(b,Aa(b)),X=b.display.barWidth,S=b.display.barHeight}function vb(b,p){var X=b.display,S=X.scrollbars.update(p);X.sizer.style.paddingRight=(X.barWidth=S.right)+"px";X.sizer.style.paddingBottom=(X.barHeight=S.bottom)+"px";X.heightForcer.style.borderBottom=S.bottom+"px solid transparent";S.right&&S.bottom?(X.scrollbarFiller.style.display="block",X.scrollbarFiller.style.height=S.bottom+"px",X.scrollbarFiller.style.width=S.right+"px"):X.scrollbarFiller.style.display="";S.bottom&&b.options.coverGutterNextToScrollbar&&
b.options.fixedGutter?(X.gutterFiller.style.display="block",X.gutterFiller.style.height=S.bottom+"px",X.gutterFiller.style.width=p.gutterWidth+"px"):X.gutterFiller.style.display=""}function Wb(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&Dh(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new ej[b.options.scrollbarStyle](function(p){b.display.wrapper.insertBefore(p,b.display.scrollbarFiller);Te(p,"mousedown",function(){b.state.focused&&
setTimeout(function(){return b.display.input.focus()},0)});p.setAttribute("cm-not-content","true")},function(p,X){"horizontal"==X?nf(b,p):yf(b,p)},b);b.display.scrollbars.addClass&&u(b.display.wrapper,b.display.scrollbars.addClass)}function Tb(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,
id:++Bj};b=b.curOp;Di?Di.ops.push(b):b.ownsGroup=Di={ops:[b],delayedCallbacks:[]}}function ic(b){(b=b.curOp)&&mc(b,function(p){for(var X=0;X<p.ops.length;X++)p.ops[X].cm.curOp=null;p=p.ops;for(X=0;X<p.length;X++){var S=p[X],ea=S.cm,La=ea.display,Xa=ea.display;!Xa.scrollbarsClipped&&Xa.scroller.offsetWidth&&(Xa.nativeBarWidth=Xa.scroller.offsetWidth-Xa.scroller.clientWidth,Xa.heightForcer.style.height=oe(ea)+"px",Xa.sizer.style.marginBottom=-Xa.nativeBarWidth+"px",Xa.sizer.style.borderRightWidth=oe(ea)+
"px",Xa.scrollbarsClipped=!0);S.updateMaxLine&&wb(ea);S.mustUpdate=S.viewChanged||S.forceUpdate||null!=S.scrollTop||S.scrollToPos&&(S.scrollToPos.from.line<La.viewFrom||S.scrollToPos.to.line>=La.viewTo)||La.maxLineChanged&&ea.options.lineWrapping;S.update=S.mustUpdate&&new ph(ea,S.mustUpdate&&{top:S.scrollTop,ensure:S.scrollToPos},S.forceUpdate)}for(X=0;X<p.length;X++)S=p[X],S.updatedDisplay=S.mustUpdate&&je(S.cm,S.update);for(X=0;X<p.length;X++)if(S=p[X],ea=S.cm,La=ea.display,S.updatedDisplay&&Qd(ea),
S.barMeasure=Aa(ea),La.maxLineChanged&&!ea.options.lineWrapping&&(Xa=La.maxLine.text.length,Xa=Zd(ea,df(ea,La.maxLine),Xa,void 0),S.adjustWidthTo=Xa.left+3,ea.display.sizerWidth=S.adjustWidthTo,S.barMeasure.scrollWidth=Math.max(La.scroller.clientWidth,La.sizer.offsetLeft+S.adjustWidthTo+oe(ea)+ea.display.barWidth),S.maxScrollLeft=Math.max(0,La.sizer.offsetLeft+S.adjustWidthTo-De(ea))),S.updatedDisplay||S.selectionChanged)S.preparedSelection=La.input.prepareSelection();for(X=0;X<p.length;X++)S=p[X],
ea=S.cm,null!=S.adjustWidthTo&&(ea.display.sizer.style.minWidth=S.adjustWidthTo+"px",S.maxScrollLeft<ea.doc.scrollLeft&&nf(ea,Math.min(ea.display.scroller.scrollLeft,S.maxScrollLeft),!0),ea.display.maxLineChanged=!1),La=S.focus&&S.focus==v(),S.preparedSelection&&ea.display.input.showSelection(S.preparedSelection,La),(S.updatedDisplay||S.startHeight!=ea.doc.height)&&Pa(ea,S.barMeasure),S.updatedDisplay&&Ce(ea,S.barMeasure),S.selectionChanged&&Mc(ea),ea.state.focused&&S.updateInput&&ea.display.input.reset(S.typing),
La&&Nd(S.cm);for(X=0;X<p.length;X++){var ab=void 0;S=p[X];ea=S.cm;La=ea.display;Xa=ea.doc;S.updatedDisplay&&Gd(ea,S.update);null==La.wheelStartX||null==S.scrollTop&&null==S.scrollLeft&&!S.scrollToPos||(La.wheelStartX=La.wheelStartY=null);null!=S.scrollTop&&Pe(ea,S.scrollTop,S.forceScroll);null!=S.scrollLeft&&nf(ea,S.scrollLeft,!0,!0);if(S.scrollToPos){var tb=jb(Xa,S.scrollToPos.from);var Ib=jb(Xa,S.scrollToPos.to);var dc=S.scrollToPos.margin;null==dc&&(dc=0);ea.options.lineWrapping||tb!=Ib||(tb=tb.ch?
$a(tb.line,"before"==tb.sticky?tb.ch-1:tb.ch,"after"):tb,Ib="before"==tb.sticky?$a(tb.line,tb.ch+1,"before"):tb);for(var Rc=0;5>Rc;Rc++){var vc=!1;ab=Be(ea,tb);var wc=Ib&&Ib!=tb?Be(ea,Ib):ab;ab={left:Math.min(ab.left,wc.left),top:Math.min(ab.top,wc.top)-dc,right:Math.max(ab.left,wc.left),bottom:Math.max(ab.bottom,wc.bottom)+dc};wc=tf(ea,ab);var td=ea.doc.scrollTop,ce=ea.doc.scrollLeft;null!=wc.scrollTop&&(yf(ea,wc.scrollTop),1<Math.abs(ea.doc.scrollTop-td)&&(vc=!0));null!=wc.scrollLeft&&(nf(ea,wc.scrollLeft),
1<Math.abs(ea.doc.scrollLeft-ce)&&(vc=!0));if(!vc)break}Ib=ab;P(ea,"scrollCursorIntoView")||(dc=ea.display,Rc=dc.sizer.getBoundingClientRect(),tb=null,0>Ib.top+Rc.top?tb=!0:Ib.bottom+Rc.top>(window.innerHeight||document.documentElement.clientHeight)&&(tb=!1),null==tb||pj||(Ib=H("div","",null,"position: absolute;\n                         top: "+(Ib.top-dc.viewOffset-ea.display.lineSpace.offsetTop)+"px;\n                         height: "+(Ib.bottom-Ib.top+oe(ea)+dc.barHeight)+"px;\n                         left: "+
Ib.left+"px; width: "+Math.max(2,Ib.right-Ib.left)+"px;"),ea.display.lineSpace.appendChild(Ib),Ib.scrollIntoView(tb),ea.display.lineSpace.removeChild(Ib)))}Ib=S.maybeHiddenMarkers;tb=S.maybeUnhiddenMarkers;if(Ib)for(dc=0;dc<Ib.length;++dc)Ib[dc].lines.length||Z(Ib[dc],"hide");if(tb)for(Ib=0;Ib<tb.length;++Ib)tb[Ib].lines.length&&Z(tb[Ib],"unhide");La.wrapper.offsetHeight&&(Xa.scrollTop=ea.display.scroller.scrollTop);S.changeObjs&&Z(ea,"changes",ea,S.changeObjs);S.update&&S.update.finish()}})}function oc(b,
p){if(b.curOp)return p();Tb(b);try{return p()}finally{ic(b)}}function fd(b,p){return function(){if(b.curOp)return p.apply(b,arguments);Tb(b);try{return p.apply(b,arguments)}finally{ic(b)}}}function Wc(b){return function(){if(this.curOp)return b.apply(this,arguments);Tb(this);try{return b.apply(this,arguments)}finally{ic(this)}}}function nd(b){return function(){var p=this.cm;if(!p||p.curOp)return b.apply(this,arguments);Tb(p);try{return b.apply(this,arguments)}finally{ic(p)}}}function Kd(b,p){b.doc.highlightFrontier<
b.display.viewTo&&b.state.highlight.set(p,g(de,b))}function de(b){var p=b.doc;if(!(p.highlightFrontier>=b.display.viewTo)){var X=+new Date+b.options.workTime,S=md(b,p.highlightFrontier),ea=[];p.iter(S.line,Math.min(p.first+p.size,b.display.viewTo+500),function(La){if(S.line>=b.display.viewFrom){var Xa=La.styles,ab=La.text.length>b.options.maxHighlightLength?ua(p.mode,S.state):null,tb=Xb(b,La,S,!0);ab&&(S.state=ab);La.styles=tb.styles;ab=La.styleClasses;(tb=tb.classes)?La.styleClasses=tb:ab&&(La.styleClasses=
null);tb=!Xa||Xa.length!=La.styles.length||ab!=tb&&(!ab||!tb||ab.bgClass!=tb.bgClass||ab.textClass!=tb.textClass);for(ab=0;!tb&&ab<Xa.length;++ab)tb=Xa[ab]!=La.styles[ab];tb&&ea.push(S.line);La.stateAfter=S.save()}else La.text.length<=b.options.maxHighlightLength&&pc(b,La.text,S),La.stateAfter=0==S.line%5?S.save():null;S.nextLine();if(+new Date>X)return Kd(b,b.options.workDelay),!0});p.highlightFrontier=S.line;p.modeFrontier=Math.max(p.modeFrontier,S.line);ea.length&&oc(b,function(){for(var La=0;La<
ea.length;La++)xa(b,ea[La],"text")})}}function je(b,p){var X=b.display,S=b.doc;if(p.editorIsHidden)return Ea(b),!1;if(!p.force&&p.visible.from>=X.viewFrom&&p.visible.to<=X.viewTo&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo)&&X.renderedView==X.view&&0==Cb(b))return!1;Uf(b)&&(Ea(b),p.dims=lf(b));var ea=S.first+S.size,La=Math.max(p.visible.from-b.options.viewportMargin,S.first),Xa=Math.min(ea,p.visible.to+b.options.viewportMargin);X.viewFrom<La&&20>La-X.viewFrom&&(La=Math.max(S.first,
X.viewFrom));X.viewTo>Xa&&20>X.viewTo-Xa&&(Xa=Math.min(ea,X.viewTo));Ph&&(La=zc(b.doc,La),Xa=Vc(b.doc,Xa));S=La!=X.viewFrom||Xa!=X.viewTo||X.lastWrapHeight!=p.wrapperHeight||X.lastWrapWidth!=p.wrapperWidth;ea=b.display;0==ea.view.length||La>=ea.viewTo||Xa<=ea.viewFrom?(ea.view=Ub(b,La,Xa),ea.viewFrom=La):(ea.viewFrom>La?ea.view=Ub(b,La,ea.viewFrom).concat(ea.view):ea.viewFrom<La&&(ea.view=ea.view.slice(qe(b,La))),ea.viewFrom=La,ea.viewTo<Xa?ea.view=ea.view.concat(Ub(b,ea.viewTo,Xa)):ea.viewTo>Xa&&
(ea.view=ea.view.slice(0,qe(b,Xa))));ea.viewTo=Xa;X.viewOffset=Ka(ba(b.doc,X.viewFrom));b.display.mover.style.top=X.viewOffset+"px";Xa=Cb(b);if(!S&&0==Xa&&!p.force&&X.renderedView==X.view&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo))return!1;b.hasFocus()?La=null:(La=v())&&x(b.display.lineDiv,La)?(La={activeElt:La},window.getSelection&&(ea=window.getSelection(),ea.anchorNode&&ea.extend&&x(b.display.lineDiv,ea.anchorNode)&&(La.anchorNode=ea.anchorNode,La.anchorOffset=ea.anchorOffset,
La.focusNode=ea.focusNode,La.focusOffset=ea.focusOffset))):La=null;4<Xa&&(X.lineDiv.style.display="none");$d(b,X.updateLineNumbers,p.dims);4<Xa&&(X.lineDiv.style.display="");X.renderedView=X.view;(Xa=La)&&Xa.activeElt&&Xa.activeElt!=v()&&(Xa.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Xa.activeElt.nodeName)&&Xa.anchorNode&&x(document.body,Xa.anchorNode)&&x(document.body,Xa.focusNode)&&(La=window.getSelection(),ea=document.createRange(),ea.setEnd(Xa.anchorNode,Xa.anchorOffset),ea.collapse(!1),La.removeAllRanges(),
La.addRange(ea),La.extend(Xa.focusNode,Xa.focusOffset)));l(X.cursorDiv);l(X.selectionDiv);X.gutters.style.height=X.sizer.style.minHeight=0;S&&(X.lastWrapHeight=p.wrapperHeight,X.lastWrapWidth=p.wrapperWidth,Kd(b,400));X.updateLineNumbers=null;return!0}function Gd(b,p){for(var X=p.viewport,S=!0;;S=!1){if(S&&b.options.lineWrapping&&p.oldDisplayWidth!=De(b))S&&(p.visible=Gf(b.display,b.doc,X));else if(X&&null!=X.top&&(X={top:Math.min(b.doc.height+Ud(b.display)-fe(b),X.top)}),p.visible=Gf(b.display,b.doc,
X),p.visible.from>=b.display.viewFrom&&p.visible.to<=b.display.viewTo)break;if(!je(b,p))break;Qd(b);S=Aa(b);ub(b);Pa(b,S);Ce(b,S);p.force=!1}p.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)p.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function Le(b,p){p=new ph(b,p);if(je(b,p)){Qd(b);Gd(b,p);var X=Aa(b);ub(b);Pa(b,X);Ce(b,
X);p.finish()}}function $d(b,p,X){function S(vc){var wc=vc.nextSibling;Ag&&dh&&b.display.currentWheelTarget==vc?vc.style.display="none":vc.parentNode.removeChild(vc);return wc}var ea=b.display,La=b.options.lineNumbers,Xa=ea.lineDiv,ab=Xa.firstChild,tb=ea.view;ea=ea.viewFrom;for(var Ib=0;Ib<tb.length;Ib++){var dc=tb[Ib];if(!dc.hidden)if(dc.node&&dc.node.parentNode==Xa){for(;ab!=dc.node;)ab=S(ab);ab=La&&null!=p&&p<=ea&&dc.lineNumber;dc.changes&&(-1<a(dc.changes,"gutter")&&(ab=!1),Xc(b,dc,ea,X));ab&&
(l(dc.lineNumber),dc.lineNumber.appendChild(document.createTextNode(db(b.options,ea))));ab=dc.node.nextSibling}else{var Rc=Tc(b,dc,ea,X);Xa.insertBefore(Rc,ab)}ea+=dc.size}for(;ab;)ab=S(ab)}function Ie(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function Ce(b,p){b.display.sizer.style.minHeight=p.docHeight+"px";b.display.heightForcer.style.top=p.docHeight+"px";b.display.gutters.style.height=p.docHeight+b.display.barHeight+oe(b)+"px"}function Qe(b){var p=b.display,X=p.view;if(p.alignWidgets||
p.gutters.firstChild&&b.options.fixedGutter){for(var S=Yf(p)-p.scroller.scrollLeft+b.doc.scrollLeft,ea=p.gutters.offsetWidth,La=S+"px",Xa=0;Xa<X.length;Xa++)if(!X[Xa].hidden){b.options.fixedGutter&&(X[Xa].gutter&&(X[Xa].gutter.style.left=La),X[Xa].gutterBackground&&(X[Xa].gutterBackground.style.left=La));var ab=X[Xa].alignable;if(ab)for(var tb=0;tb<ab.length;tb++)ab[tb].style.left=La}b.options.fixedGutter&&(p.gutters.style.left=S+ea+"px")}}function Uf(b){if(!b.options.lineNumbers)return!1;var p=b.doc;
p=db(b.options,p.first+p.size-1);var X=b.display;if(p.length!=X.lineNumChars){var S=X.measure.appendChild(H("div",[H("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ea=S.firstChild.offsetWidth;S=S.offsetWidth-ea;X.lineGutter.style.width="";X.lineNumInnerWidth=Math.max(ea,X.lineGutter.offsetWidth-S)+1;X.lineNumWidth=X.lineNumInnerWidth+S;X.lineNumChars=X.lineNumInnerWidth?p.length:-1;X.lineGutter.style.width=X.lineNumWidth+"px";Ie(b.display);return!0}return!1}function ne(b,p){for(var X=[],
S=!1,ea=0;ea<b.length;ea++){var La=b[ea],Xa=null;"string"!=typeof La&&(Xa=La.style,La=La.className);if("CodeMirror-linenumbers"==La)if(p)S=!0;else continue;X.push({className:La,style:Xa})}p&&!S&&X.push({className:"CodeMirror-linenumbers",style:null});return X}function sf(b){var p=b.gutters,X=b.gutterSpecs;l(p);b.lineGutter=null;for(var S=0;S<X.length;++S){var ea=X[S],La=ea.className;ea=ea.style;var Xa=p.appendChild(H("div",null,"CodeMirror-gutter "+La));ea&&(Xa.style.cssText=ea);"CodeMirror-linenumbers"==
La&&(b.lineGutter=Xa,Xa.style.width=(b.lineNumWidth||1)+"px")}p.style.display=X.length?"":"none";Ie(b)}function Cf(b){sf(b.display);yc(b);Qe(b)}function Bg(b,p,X,S){this.input=X;this.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=H("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=N("div",null,"CodeMirror-code");this.selectionDiv=H("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=H("div",null,"CodeMirror-cursors");this.measure=H("div",null,"CodeMirror-measure");this.lineMeasure=H("div",null,"CodeMirror-measure");this.lineSpace=N("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var ea=N("div",[this.lineSpace],"CodeMirror-lines");this.mover=H("div",[ea],null,"position: relative");this.sizer=H("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=H("div",null,null,
"position: absolute; height: 50px; width: 1px;");this.gutters=H("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=H("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=H("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");wf&&8>Ff&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Ag||Eg&&ri||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):
b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=p.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=ne(S.gutters,S.lineNumbers);sf(this);X.init(this)}function Lf(b){var p=b.wheelDeltaX,X=b.wheelDeltaY;null==p&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(p=b.detail);null==X&&b.detail&&b.axis==b.VERTICAL_AXIS?X=b.detail:null==X&&(X=b.wheelDelta);return{x:p,y:X}}function jg(b){b=Lf(b);b.x*=Og;b.y*=Og;return b}function ya(b,p){var X=Lf(p),S=X.x;X=X.y;var ea=b.display,
La=ea.scroller,Xa=La.scrollWidth>La.clientWidth,ab=La.scrollHeight>La.clientHeight;if(S&&Xa||X&&ab){if(X&&dh&&Ag){Xa=p.target;var tb=ea.view;a:for(;Xa!=La;Xa=Xa.parentNode)for(var Ib=0;Ib<tb.length;Ib++)if(tb[Ib].node==Xa){b.display.currentWheelTarget=Xa;break a}}!S||Eg||Jg||null==Og?(X&&null!=Og&&(p=X*Og,ab=b.doc.scrollTop,Xa=ab+ea.wrapper.clientHeight,0>p?ab=Math.max(0,ab+p-50):Xa=Math.min(b.doc.height,Xa+p+50),Le(b,{top:ab,bottom:Xa})),20>ui&&(null==ea.wheelStartX?(ea.wheelStartX=La.scrollLeft,
ea.wheelStartY=La.scrollTop,ea.wheelDX=S,ea.wheelDY=X,setTimeout(function(){if(null!=ea.wheelStartX){var dc=La.scrollLeft-ea.wheelStartX,Rc=La.scrollTop-ea.wheelStartY;dc=Rc&&ea.wheelDY&&Rc/ea.wheelDY||dc&&ea.wheelDX&&dc/ea.wheelDX;ea.wheelStartX=ea.wheelStartY=null;dc&&(Og=(Og*ui+dc)/(ui+1),++ui)}},200)):(ea.wheelDX+=S,ea.wheelDY+=X))):(X&&ab&&yf(b,Math.max(0,La.scrollTop+X*Og)),nf(b,Math.max(0,La.scrollLeft+S*Og)),(!X||X&&ab)&&aa(p),ea.wheelStartX=null)}}function za(b,p,X){b=b&&b.options.selectionsMayTouch;
X=p[X];p.sort(function(tb,Ib){return Fa(tb.from(),Ib.from())});X=a(p,X);for(var S=1;S<p.length;S++){var ea=p[S],La=p[S-1],Xa=Fa(La.to(),ea.from());if(b&&!ea.empty()?0<Xa:0<=Xa){Xa=Ua(La.from(),ea.from());var ab=Ja(La.to(),ea.to());ea=La.empty()?ea.from()==ea.head:La.from()==La.head;S<=X&&--X;p.splice(--S,2,new Jf(ea?ab:Xa,ea?Xa:ab))}}return new Hg(p,X)}function Na(b,p){return new Hg([new Jf(b,p||b)],0)}function Sa(b){return b.text?$a(b.from.line+b.text.length-1,y(b.text).length+(1==b.text.length?
b.from.ch:0)):b.to}function fb(b,p){if(0>Fa(b,p.from))return b;if(0>=Fa(b,p.to))return Sa(p);var X=b.line+p.text.length-(p.to.line-p.from.line)-1,S=b.ch;b.line==p.to.line&&(S+=Sa(p).ch-p.to.ch);return $a(X,S)}function hb(b,p){for(var X=[],S=0;S<b.sel.ranges.length;S++){var ea=b.sel.ranges[S];X.push(new Jf(fb(ea.anchor,p),fb(ea.head,p)))}return za(b.cm,X,b.sel.primIndex)}function qb(b,p,X){return b.line==p.line?$a(X.line,b.ch-p.ch+X.ch):$a(X.line+(b.line-p.line),b.ch)}function Db(b){b.doc.mode=Ya(b.options,
b.doc.modeOption);Ab(b)}function Ab(b){b.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null);p.styles&&(p.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;Kd(b,100);b.state.modeGen++;b.curOp&&yc(b)}function Kb(b,p){return 0==p.from.ch&&0==p.to.ch&&""==y(p.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function Jb(b,p,X,S){function ea(td,ce,Se){td.text=ce;td.stateAfter&&(td.stateAfter=null);td.styles&&(td.styles=null);null!=td.order&&(td.order=null);wd(td);vd(td,Se);ce=
S?S(td):1;ce!=td.height&&qa(td,ce);Bc(td,"change",td,p)}function La(td,ce){for(var Se=[];td<ce;++td)Se.push(new Yh(tb[td],X?X[td]:null,S));return Se}var Xa=p.from,ab=p.to,tb=p.text,Ib=ba(b,Xa.line),dc=ba(b,ab.line),Rc=y(tb),vc=X?X[tb.length-1]:null,wc=ab.line-Xa.line;p.full?(b.insert(0,La(0,tb.length)),b.remove(tb.length,b.size-tb.length)):Kb(b,p)?(ab=La(0,tb.length-1),ea(dc,dc.text,vc),wc&&b.remove(Xa.line,wc),ab.length&&b.insert(Xa.line,ab)):Ib==dc?1==tb.length?ea(Ib,Ib.text.slice(0,Xa.ch)+Rc+Ib.text.slice(ab.ch),
vc):(wc=La(1,tb.length-1),wc.push(new Yh(Rc+Ib.text.slice(ab.ch),vc,S)),ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0],X?X[0]:null),b.insert(Xa.line+1,wc)):1==tb.length?(ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0]+dc.text.slice(ab.ch),X?X[0]:null),b.remove(Xa.line+1,wc)):(ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0],X?X[0]:null),ea(dc,Rc+dc.text.slice(ab.ch),vc),vc=La(1,tb.length-1),1<wc&&b.remove(Xa.line+1,wc-1),b.insert(Xa.line+1,vc));Bc(b,"change",b,p)}function cc(b,p,X){function S(ea,La,Xa){if(ea.linked)for(var ab=0;ab<ea.linked.length;++ab){var tb=
ea.linked[ab];if(tb.doc!=La){var Ib=Xa&&tb.sharedHist;if(!X||Ib)p(tb.doc,Ib),S(tb.doc,ea,Ib)}}}S(b,null,!0)}function xc(b,p){if(p.cm)throw Error("This document is already in use.");b.doc=p;p.cm=b;Sf(b);Db(b);Y(b);b.options.lineWrapping||wb(b);b.options.mode=p.modeOption;yc(b)}function Y(b){("rtl"==b.doc.direction?u:Dh)(b.display.lineDiv,"CodeMirror-rtl")}function oa(b){oc(b,function(){Y(b);yc(b)})}function Oa(b){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=
0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b||1}function Va(b,p){var X={from:pa(p.from),to:Sa(p),text:ca(b,p.from,p.to)};qc(b,X,p.from.line,p.to.line+1);cc(b,function(S){return qc(S,X,p.from.line,p.to.line+1)},!0);return X}function xb(b){for(;b.length;)if(y(b).ranges)b.pop();else break}function Sb(b,p,X,S){var ea=b.history;ea.undone.length=0;var La=+new Date,Xa;if(Xa=ea.lastOp==S||ea.lastOrigin==p.origin&&p.origin&&("+"==p.origin.charAt(0)&&
ea.lastModTime>La-(b.cm?b.cm.options.historyEventDelay:500)||"*"==p.origin.charAt(0))){if(ea.lastOp==S){xb(ea.done);var ab=y(ea.done)}else ea.done.length&&!y(ea.done).ranges?ab=y(ea.done):1<ea.done.length&&!ea.done[ea.done.length-2].ranges?(ea.done.pop(),ab=y(ea.done)):ab=void 0;Xa=ab}if(Xa){var tb=y(ab.changes);0==Fa(p.from,p.to)&&0==Fa(p.from,tb.to)?tb.to=Sa(p):ab.changes.push(Va(b,p))}else for((ab=y(ea.done))&&ab.ranges||Zb(b.sel,ea.done),ab={changes:[Va(b,p)],generation:ea.generation},ea.done.push(ab);ea.done.length>
ea.undoDepth;)ea.done.shift(),ea.done[0].ranges||ea.done.shift();ea.done.push(X);ea.generation=++ea.maxGeneration;ea.lastModTime=ea.lastSelTime=La;ea.lastOp=ea.lastSelOp=S;ea.lastOrigin=ea.lastSelOrigin=p.origin;tb||Z(b,"historyAdded")}function Zb(b,p){var X=y(p);X&&X.ranges&&X.equals(b)||p.push(b)}function qc(b,p,X,S){var ea=p["spans_"+b.id],La=0;b.iter(Math.max(b.first,X),Math.min(b.first+b.size,S),function(Xa){Xa.markedSpans&&((ea||(ea=p["spans_"+b.id]={}))[La]=Xa.markedSpans);++La})}function Ec(b){if(!b)return null;
for(var p,X=0;X<b.length;++X)b[X].marker.explicitlyCleared?p||(p=b.slice(0,X)):p&&p.push(b[X]);return p?p.length?p:null:b}function ed(b,p){var X;if(X=p["spans_"+b.id]){for(var S=[],ea=0;ea<p.text.length;++ea)S.push(Ec(X[ea]));X=S}else X=null;b=Lc(b,p);if(!X)return b;if(!b)return X;for(p=0;p<X.length;++p)if(S=X[p],ea=b[p],S&&ea){var La=0;a:for(;La<ea.length;++La){for(var Xa=ea[La],ab=0;ab<S.length;++ab)if(S[ab].marker==Xa.marker)continue a;S.push(Xa)}}else ea&&(X[p]=ea);return X}function Zc(b,p,X){for(var S=
[],ea=0;ea<b.length;++ea){var La=b[ea];if(La.ranges)S.push(X?Hg.prototype.deepCopy.call(La):La);else{La=La.changes;var Xa=[];S.push({changes:Xa});for(var ab=0;ab<La.length;++ab){var tb=La[ab],Ib;Xa.push({from:tb.from,to:tb.to,text:tb.text});if(p)for(var dc in tb)(Ib=dc.match(/^spans_(\d+)$/))&&-1<a(p,Number(Ib[1]))&&(y(Xa)[dc]=tb[dc],delete tb[dc])}}}return S}function Pd(b,p,X,S){return S?(b=b.anchor,X&&(S=0>Fa(p,b),S!=0>Fa(X,b)?(b=p,p=X):S!=0>Fa(p,X)&&(p=X)),new Jf(b,p)):new Jf(X||p,p)}function be(b,
p,X,S,ea){null==ea&&(ea=b.cm&&(b.cm.display.shift||b.extend));Wa(b,new Hg([Pd(b.sel.primary(),p,X,ea)],0),S)}function pd(b,p,X){for(var S=[],ea=b.cm&&(b.cm.display.shift||b.extend),La=0;La<b.sel.ranges.length;La++)S[La]=Pd(b.sel.ranges[La],p[La],null,ea);p=za(b.cm,S,b.sel.primIndex);Wa(b,p,X)}function Ad(b,p,X,S){var ea=b.sel.ranges.slice(0);ea[p]=X;Wa(b,za(b.cm,ea,b.sel.primIndex),S)}function id(b,p,X){X={ranges:p.ranges,update:function(S){this.ranges=[];for(var ea=0;ea<S.length;ea++)this.ranges[ea]=
new Jf(jb(b,S[ea].anchor),jb(b,S[ea].head))},origin:X&&X.origin};Z(b,"beforeSelectionChange",b,X);b.cm&&Z(b.cm,"beforeSelectionChange",b.cm,X);return X.ranges!=p.ranges?za(b.cm,X.ranges,X.ranges.length-1):p}function af(b,p,X){var S=b.history.done,ea=y(S);ea&&ea.ranges?(S[S.length-1]=p,ob(b,p,X)):Wa(b,p,X)}function Wa(b,p,X){ob(b,p,X);p=b.sel;var S=b.cm?b.cm.curOp.id:NaN,ea=b.history,La=X&&X.origin,Xa;if(!(Xa=S==ea.lastSelOp)&&(Xa=La&&ea.lastSelOrigin==La)&&!(Xa=ea.lastModTime==ea.lastSelTime&&ea.lastOrigin==
La)){Xa=y(ea.done);var ab=La.charAt(0);Xa="*"==ab||"+"==ab&&Xa.ranges.length==p.ranges.length&&Xa.somethingSelected()==p.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}Xa?ea.done[ea.done.length-1]=p:Zb(p,ea.done);ea.lastSelTime=+new Date;ea.lastSelOrigin=La;ea.lastSelOp=S;X&&!1!==X.clearRedo&&xb(ea.undone)}function ob(b,p,X){if(V(b,"beforeSelectionChange")||b.cm&&V(b.cm,"beforeSelectionChange"))p=id(b,p,X);var S=X&&X.bias||(0>Fa(p.primary().head,b.sel.primary().head)?
-1:1);zb(b,bc(b,p,S,!0));X&&!1===X.scroll||!b.cm||"nocursor"==b.cm.getOption("readOnly")||We(b.cm)}function zb(b,p){p.equals(b.sel)||(b.sel=p,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,C(b.cm)),Bc(b,"cursorActivity",b))}function Mb(b){zb(b,bc(b,b.sel,null,!1))}function bc(b,p,X,S){for(var ea,La=0;La<p.ranges.length;La++){var Xa=p.ranges[La],ab=p.ranges.length==b.sel.ranges.length&&b.sel.ranges[La],tb=r(b,Xa.anchor,ab&&ab.anchor,X,S);ab=r(b,Xa.head,ab&&ab.head,X,S);if(ea||tb!=Xa.anchor||
ab!=Xa.head)ea||(ea=p.ranges.slice(0,La)),ea[La]=new Jf(tb,ab)}return ea?za(b.cm,ea,p.primIndex):p}function Kc(b,p,X,S,ea){var La=ba(b,p.line);if(La.markedSpans)for(var Xa=0;Xa<La.markedSpans.length;++Xa){var ab=La.markedSpans[Xa],tb=ab.marker,Ib="selectLeft"in tb?!tb.selectLeft:tb.inclusiveLeft,dc="selectRight"in tb?!tb.selectRight:tb.inclusiveRight;if((null==ab.from||(Ib?ab.from<=p.ch:ab.from<p.ch))&&(null==ab.to||(dc?ab.to>=p.ch:ab.to>p.ch))){if(ea&&(Z(tb,"beforeCursorEnter"),tb.explicitlyCleared))if(La.markedSpans){--Xa;
continue}else break;if(tb.atomic){if(X){Xa=tb.find(0>S?1:-1);ab=void 0;if(0>S?dc:Ib)Xa=Q(b,Xa,-S,Xa&&Xa.line==p.line?La:null);if(Xa&&Xa.line==p.line&&(ab=Fa(Xa,X))&&(0>S?0>ab:0<ab))return Kc(b,Xa,p,S,ea)}X=tb.find(0>S?-1:1);if(0>S?Ib:dc)X=Q(b,X,S,X.line==p.line?La:null);return X?Kc(b,X,p,S,ea):null}}}return p}function r(b,p,X,S,ea){S=S||1;p=Kc(b,p,X,S,ea)||!ea&&Kc(b,p,X,S,!0)||Kc(b,p,X,-S,ea)||!ea&&Kc(b,p,X,-S,!0);return p?p:(b.cantEdit=!0,$a(b.first,0))}function Q(b,p,X,S){return 0>X&&0==p.ch?p.line>
b.first?jb(b,$a(p.line-1)):null:0<X&&p.ch==(S||ba(b,p.line)).text.length?p.line<b.first+b.size-1?$a(p.line+1,0):null:new $a(p.line,p.ch+X)}function ma(b){b.setSelection($a(b.firstLine(),0),$a(b.lastLine()),mg)}function Ma(b,p,X){var S={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return S.canceled=!0}};X&&(S.update=function(ea,La,Xa,ab){ea&&(S.from=jb(b,ea));La&&(S.to=jb(b,La));Xa&&(S.text=Xa);void 0!==ab&&(S.origin=ab)});Z(b,"beforeChange",b,S);b.cm&&Z(b.cm,"beforeChange",
b.cm,S);return S.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:S.from,to:S.to,text:S.text,origin:S.origin}}function gb(b,p,X){if(b.cm){if(!b.cm.curOp)return fd(b.cm,gb)(b,p,X);if(b.cm.state.suppressEdits)return}if(V(b,"beforeChange")||b.cm&&V(b.cm,"beforeChange"))if(p=Ma(b,p,!0),!p)return;if(X=ak&&!X&&ge(b,p.from,p.to))for(var S=X.length-1;0<=S;--S)lb(b,{from:X[S].from,to:X[S].to,text:S?[""]:p.text,origin:p.origin});else lb(b,p)}function lb(b,p){if(1!=p.text.length||""!=p.text[0]||0!=Fa(p.from,
p.to)){var X=hb(b,p);Sb(b,p,X,b.cm?b.cm.curOp.id:NaN);ec(b,p,X,Lc(b,p));var S=[];cc(b,function(ea,La){La||-1!=a(S,ea.history)||(rd(ea.history,p),S.push(ea.history));ec(ea,p,null,Lc(ea,p))})}}function sb(b,p,X){var S=b.cm&&b.cm.state.suppressEdits;if(!S||X){for(var ea=b.history,La,Xa=b.sel,ab="undo"==p?ea.done:ea.undone,tb="undo"==p?ea.undone:ea.done,Ib=0;Ib<ab.length&&(La=ab[Ib],X?!La.ranges||La.equals(b.sel):La.ranges);Ib++);if(Ib!=ab.length){for(ea.lastOrigin=ea.lastSelOrigin=null;;)if(La=ab.pop(),
La.ranges){Zb(La,tb);if(X&&!La.equals(b.sel)){Wa(b,La,{clearRedo:!1});return}Xa=La}else{if(S){ab.push(La);return}break}var dc=[];Zb(Xa,tb);tb.push({changes:dc,generation:ea.generation});ea.generation=La.generation||++ea.maxGeneration;var Rc=V(b,"beforeChange")||b.cm&&V(b.cm,"beforeChange");X=function(vc){var wc=La.changes[vc];wc.origin=p;if(Rc&&!Ma(b,wc,!1))return ab.length=0,{};dc.push(Va(b,wc));var td=vc?hb(b,wc):y(ab);ec(b,wc,td,ed(b,wc));!vc&&b.cm&&b.cm.scrollIntoView({from:wc.from,to:Sa(wc)});
var ce=[];cc(b,function(Se,bf){bf||-1!=a(ce,Se.history)||(rd(Se.history,wc),ce.push(Se.history));ec(Se,wc,null,ed(Se,wc))})};for(S=La.changes.length-1;0<=S;--S)if(ea=X(S))return ea.v}}}function Rb(b,p){if(0!=p&&(b.first+=p,b.sel=new Hg(B(b.sel.ranges,function(ea){return new Jf($a(ea.anchor.line+p,ea.anchor.ch),$a(ea.head.line+p,ea.head.ch))}),b.sel.primIndex),b.cm)){yc(b.cm,b.first,b.first-p,p);for(var X=b.cm.display,S=X.viewFrom;S<X.viewTo;S++)xa(b.cm,S,"gutter")}}function ec(b,p,X,S){if(b.cm&&!b.cm.curOp)return fd(b.cm,
ec)(b,p,X,S);if(p.to.line<b.first)Rb(b,p.text.length-1-(p.to.line-p.from.line));else if(!(p.from.line>b.lastLine())){if(p.from.line<b.first){var ea=p.text.length-1-(b.first-p.from.line);Rb(b,ea);p={from:$a(b.first,0),to:$a(p.to.line+ea,p.to.ch),text:[y(p.text)],origin:p.origin}}ea=b.lastLine();p.to.line>ea&&(p={from:p.from,to:$a(ea,ba(b,ea).text.length),text:[p.text[0]],origin:p.origin});p.removed=ca(b,p.from,p.to);X||(X=hb(b,p));b.cm?Vb(b.cm,p,S):Jb(b,p,S);ob(b,X,mg);b.cantEdit&&r(b,$a(b.firstLine(),
0))&&(b.cantEdit=!1)}}function Vb(b,p,X){var S=b.doc,ea=b.display,La=p.from,Xa=p.to,ab=!1,tb=La.line;b.options.lineWrapping||(tb=Da(Eb(ba(S,La.line))),S.iter(tb,Xa.line+1,function(Ib){if(Ib==ea.maxLine)return ab=!0}));-1<S.sel.contains(p.from,p.to)&&C(b);Jb(S,p,X,If(b));b.options.lineWrapping||(S.iter(tb,La.line+p.text.length,function(Ib){var dc=eb(Ib);dc>ea.maxLineLength&&(ea.maxLine=Ib,ea.maxLineLength=dc,ea.maxLineChanged=!0,ab=!1)}),ab&&(b.curOp.updateMaxLine=!0));sc(S,La.line);Kd(b,400);X=p.text.length-
(Xa.line-La.line)-1;p.full?yc(b):La.line!=Xa.line||1!=p.text.length||Kb(b.doc,p)?yc(b,La.line,Xa.line+1,X):xa(b,La.line,"text");X=V(b,"changes");if((S=V(b,"change"))||X)p={from:La,to:Xa,text:p.text,removed:p.removed,origin:p.origin},S&&Bc(b,"change",b,p),X&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(p);b.display.selForContextMenu=null}function Qc(b,p,X,S,ea){S||(S=X);0>Fa(S,X)&&(S=[S,X],X=S[0],S=S[1]);"string"==typeof p&&(p=b.splitLines(p));gb(b,{from:X,to:S,text:p,origin:ea})}function dd(b,
p,X,S){X<b.line?b.line+=S:p<b.line&&(b.line=p,b.ch=0)}function zd(b,p,X,S){for(var ea=0;ea<b.length;++ea){var La=b[ea],Xa=!0;if(La.ranges)for(La.copied||(La=b[ea]=La.deepCopy(),La.copied=!0),Xa=0;Xa<La.ranges.length;Xa++)dd(La.ranges[Xa].anchor,p,X,S),dd(La.ranges[Xa].head,p,X,S);else{for(var ab=0;ab<La.changes.length;++ab){var tb=La.changes[ab];if(X<tb.from.line)tb.from=$a(tb.from.line+S,tb.from.ch),tb.to=$a(tb.to.line+S,tb.to.ch);else if(p<=tb.to.line){Xa=!1;break}}Xa||(b.splice(0,ea+1),ea=0)}}}
function rd(b,p){var X=p.from.line,S=p.to.line;p=p.text.length-(S-X)-1;zd(b.done,X,S,p);zd(b.undone,X,S,p)}function bd(b,p,X,S){var ea=p,La=p;"number"==typeof p?La=ba(b,Math.max(b.first,Math.min(p,b.first+b.size-1))):ea=Da(p);if(null==ea)return null;S(La,ea)&&b.cm&&xa(b.cm,ea,X);return La}function Jc(b){this.lines=b;this.parent=null;for(var p=0,X=0;X<b.length;++X)b[X].parent=this,p+=b[X].height;this.height=p}function ud(b){this.children=b;for(var p=0,X=0,S=0;S<b.length;++S){var ea=b[S];p+=ea.chunkSize();
X+=ea.height;ea.parent=this}this.size=p;this.height=X;this.parent=null}function ee(b,p,X,S){var ea=new Uh(b,X,S),La=b.cm;La&&ea.noHScroll&&(La.display.alignWidgets=!0);bd(b,p,"widget",function(Xa){var ab=Xa.widgets||(Xa.widgets=[]);null==ea.insertAt?ab.push(ea):ab.splice(Math.min(ab.length,Math.max(0,ea.insertAt)),0,ea);ea.line=Xa;La&&!Ed(b,Xa)&&(ab=Ka(Xa)<b.scrollTop,qa(Xa,Xa.height+Cd(ea)),ab&&kd(La,ea.height),La.curOp.forceUpdate=!0);return!0});La&&Bc(La,"lineWidgetAdded",La,ea,"number"==typeof p?
p:Da(p));return ea}function Sd(b,p,X,S,ea){if(S&&S.shared)return ye(b,p,X,S,ea);if(b.cm&&!b.cm.curOp)return fd(b.cm,Sd)(b,p,X,S,ea);var La=new lh(b,ea);ea=Fa(p,X);S&&d(S,La,!1);if(0<ea||0==ea&&!1!==La.clearWhenEmpty)return La;La.replacedWith&&(La.collapsed=!0,La.widgetNode=N("span",[La.replacedWith],"CodeMirror-widget"),S.handleMouseEvents||La.widgetNode.setAttribute("cm-ignore-events","true"),S.insertLeft&&(La.widgetNode.insertLeft=!0));if(La.collapsed){if(gc(b,p.line,p,X,La)||p.line!=X.line&&gc(b,
X.line,p,X,La))throw Error("Inserting collapsed marker partially overlapping an existing one");Ph=!0}La.addToHistory&&Sb(b,{from:p,to:X,origin:"markText"},b.sel,NaN);var Xa=p.line,ab=b.cm,tb;b.iter(Xa,X.line+1,function(Ib){ab&&La.collapsed&&!ab.options.lineWrapping&&Eb(Ib)==ab.display.maxLine&&(tb=!0);La.collapsed&&Xa!=p.line&&qa(Ib,0);var dc=new Uc(La,Xa==p.line?p.ch:null,Xa==X.line?X.ch:null);Ib.markedSpans=Ib.markedSpans?Ib.markedSpans.concat([dc]):[dc];dc.marker.attachLine(Ib);++Xa});La.collapsed&&
b.iter(p.line,X.line+1,function(Ib){Ed(b,Ib)&&qa(Ib,0)});La.clearOnEnter&&Te(La,"beforeCursorEnter",function(){return La.clear()});La.readOnly&&(ak=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());La.collapsed&&(La.id=++Dj,La.atomic=!0);if(ab){tb&&(ab.curOp.updateMaxLine=!0);if(La.collapsed)yc(ab,p.line,X.line+1);else if(La.className||La.startStyle||La.endStyle||La.css||La.attributes||La.title)for(S=p.line;S<=X.line;S++)xa(ab,S,"text");La.atomic&&Mb(ab.doc);Bc(ab,"markerAdded",
ab,La)}return La}function ye(b,p,X,S,ea){S=d(S);S.shared=!1;var La=[Sd(b,p,X,S,ea)],Xa=La[0],ab=S.widgetNode;cc(b,function(tb){ab&&(S.widgetNode=ab.cloneNode(!0));La.push(Sd(tb,jb(tb,p),jb(tb,X),S,ea));for(var Ib=0;Ib<tb.linked.length;++Ib)if(tb.linked[Ib].isParent)return;Xa=y(La)});return new pi(La,Xa)}function re(b){return b.findMarks($a(b.first,0),b.clipPos($a(b.lastLine())),function(p){return p.parent})}function Pf(b){for(var p=function(S){S=b[S];var ea=[S.primary.doc];cc(S.primary.doc,function(ab){return ea.push(ab)});
for(var La=0;La<S.markers.length;La++){var Xa=S.markers[La];-1==a(ea,Xa.doc)&&(Xa.parent=null,S.markers.splice(La--,1))}},X=0;X<b.length;X++)p(X)}function ke(b){var p=this;pe(p);if(!P(p,b)&&!Dd(p.display,b)){aa(b);wf&&(gj=+new Date);var X=Bf(p,b,!0),S=b.dataTransfer.files;if(X&&!p.isReadOnly())if(S&&S.length&&window.FileReader&&window.File)for(var ea=S.length,La=Array(ea),Xa=0,ab=function(){++Xa==ea&&fd(p,function(){X=jb(p.doc,X);var dc={from:X,to:X,text:p.doc.splitLines(La.filter(function(Rc){return null!=
Rc}).join(p.doc.lineSeparator())),origin:"paste"};gb(p.doc,dc);af(p.doc,Na(jb(p.doc,X),jb(p.doc,Sa(dc))))})()},tb=function(dc,Rc){if(p.options.allowDropFileTypes&&-1==a(p.options.allowDropFileTypes,dc.type))ab();else{var vc=new FileReader;vc.onerror=function(){return ab()};vc.onload=function(){var wc=vc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(wc)||(La[Rc]=wc);ab()};vc.readAsText(dc)}},Ib=0;Ib<S.length;Ib++)tb(S[Ib],Ib);else if(p.state.draggingText&&-1<p.doc.sel.contains(X))p.state.draggingText(b),setTimeout(function(){return p.display.input.focus()},
20);else try{if(tb=b.dataTransfer.getData("Text")){p.state.draggingText&&!p.state.draggingText.copy&&(Ib=p.listSelections());ob(p.doc,Na(X,X));if(Ib)for(S=0;S<Ib.length;++S)Qc(p.doc,"",Ib[S].anchor,Ib[S].head,"drag");p.replaceSelection(tb,"around","paste");p.display.input.focus()}}catch(dc){}}}function pe(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),b.display.dragCursor=null)}function Re(b){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),
X=[],S=0;S<p.length;S++){var ea=p[S].CodeMirror;ea&&X.push(ea)}X.length&&X[0].operation(function(){for(var La=0;La<X.length;La++)b(X[La])})}}function xd(){var b;Te(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;Re(Oe)},100))});Te(window,"blur",function(){return Re(jd)})}function Oe(b){var p=b.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null;p.scrollbarsClipped=!1;b.setSize()}function dg(b){var p=b.split(/-(?!$)/);b=p[p.length-1];for(var X,S,ea,La,Xa=0;Xa<p.length-
1;Xa++){var ab=p[Xa];if(/^(cmd|meta|m)$/i.test(ab))La=!0;else if(/^a(lt)?$/i.test(ab))X=!0;else if(/^(c|ctrl|control)$/i.test(ab))S=!0;else if(/^s(hift)?$/i.test(ab))ea=!0;else throw Error("Unrecognized modifier name: "+ab);}X&&(b="Alt-"+b);S&&(b="Ctrl-"+b);La&&(b="Cmd-"+b);ea&&(b="Shift-"+b);return b}function Xe(b){var p={},X;for(X in b)if(b.hasOwnProperty(X)){var S=b[X];if(!/^(name|fallthrough|(de|at)tach)$/.test(X)){if("..."!=S)for(var ea=B(X.split(" "),dg),La=0;La<ea.length;La++){if(La==ea.length-
1){var Xa=ea.join(" ");var ab=S}else Xa=ea.slice(0,La+1).join(" "),ab="...";var tb=p[Xa];if(!tb)p[Xa]=ab;else if(tb!=ab)throw Error("Inconsistent bindings for "+Xa);}delete b[X]}}for(var Ib in p)b[Ib]=p[Ib];return b}function $f(b,p,X,S){p=Vf(p);var ea=p.call?p.call(b,S):p[b];if(!1===ea)return"nothing";if("..."===ea)return"multi";if(null!=ea&&X(ea))return"handled";if(p.fallthrough){if("[object Array]"!=Object.prototype.toString.call(p.fallthrough))return $f(b,p.fallthrough,X,S);for(ea=0;ea<p.fallthrough.length;ea++){var La=
$f(b,p.fallthrough[ea],X,S);if(La)return La}}}function vf(b){b="string"==typeof b?b:Oh[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Df(b,p,X){var S=b;p.altKey&&"Alt"!=S&&(b="Alt-"+b);(Kj?p.metaKey:p.ctrlKey)&&"Ctrl"!=S&&(b="Ctrl-"+b);(Kj?p.ctrlKey:p.metaKey)&&"Mod"!=S&&(b="Cmd-"+b);!X&&p.shiftKey&&"Shift"!=S&&(b="Shift-"+b);return b}function Qf(b,p){if(Jg&&34==b.keyCode&&b["char"])return!1;var X=Oh[b.keyCode];if(null==X||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(X=b.code);
return Df(X,b,p)}function Vf(b){return"string"==typeof b?Mi[b]:b}function Xg(b,p){for(var X=b.doc.sel.ranges,S=[],ea=0;ea<X.length;ea++){for(var La=p(X[ea]);S.length&&0>=Fa(La.from,y(S).to);){var Xa=S.pop();if(0>Fa(Xa.from,La.from)){La.from=Xa.from;break}}S.push(La)}oc(b,function(){for(var ab=S.length-1;0<=ab;ab--)Qc(b.doc,"",S[ab].from,S[ab].to,"+delete");We(b)})}function Bh(b,p,X){p=R(b.text,p+X,X);return 0>p||p>b.text.length?null:p}function sh(b,p,X){b=Bh(b,p.ch,X);return null==b?null:new $a(p.line,
b,0>X?"after":"before")}function Ti(b,p,X,S,ea){if(b&&("rtl"==p.doc.direction&&(ea=-ea),b=ia(X,p.doc.direction))){b=0>ea?y(b):b[0];var La=0>ea==(1==b.level)?"after":"before";if(0<b.level||"rtl"==p.doc.direction){var Xa=df(p,X);var ab=0>ea?X.text.length-1:0;var tb=Zd(p,Xa,ab).top;ab=T(function(Ib){return Zd(p,Xa,Ib).top==tb},0>ea==(1==b.level)?b.from:b.to-1,ab);"before"==La&&(ab=Bh(X,ab,1))}else ab=0>ea?b.to:b.from;return new $a(S,ab,La)}return new $a(S,0>ea?X.text.length:0,0>ea?"before":"after")}
function hk(b,p,X,S){var ea=ia(p,b.doc.direction);if(!ea)return sh(p,X,S);X.ch>=p.text.length?(X.ch=p.text.length,X.sticky="before"):0>=X.ch&&(X.ch=0,X.sticky="after");var La=fa(ea,X.ch,X.sticky),Xa=ea[La];if("ltr"==b.doc.direction&&0==Xa.level%2&&(0<S?Xa.to>X.ch:Xa.from<X.ch))return sh(p,X,S);var ab=function(wc,td){return Bh(p,wc instanceof $a?wc.ch:wc,td)},tb,Ib=function(wc){if(!b.options.lineWrapping)return{begin:0,end:p.text.length};tb=tb||df(b,p);return Xf(b,p,tb,wc)},dc=Ib("before"==X.sticky?
ab(X,-1):X.ch);if("rtl"==b.doc.direction||1==Xa.level){var Rc=1==Xa.level==0>S,vc=ab(X,Rc?1:-1);if(null!=vc&&(Rc?vc<=Xa.to&&vc<=dc.end:vc>=Xa.from&&vc>=dc.begin))return new $a(X.line,vc,Rc?"before":"after")}Xa=function(wc,td,ce){for(var Se=function(Af,bg){return bg?new $a(X.line,ab(Af,1),"before"):new $a(X.line,Af,"after")};0<=wc&&wc<ea.length;wc+=td){var bf=ea[wc],He=0<td==(1!=bf.level),cg=He?ce.begin:ab(ce.end,-1);if(bf.from<=cg&&cg<bf.to)return Se(cg,He);cg=He?bf.from:ab(bf.to,-1);if(ce.begin<=
cg&&cg<ce.end)return Se(cg,He)}};if(La=Xa(La+S,S,dc))return La;dc=0<S?dc.end:ab(dc.begin,-1);return null==dc||0<S&&dc==p.text.length||!(La=Xa(0<S?0:ea.length-1,S,Ib(dc)))?null:La}function nk(b,p){var X=ba(b.doc,p),S=Eb(X);S!=X&&(p=Da(S));return Ti(!0,b,S,p,1)}function Pj(b,p){var X=nk(b,p.line),S=ba(b.doc,X.line);b=ia(S,b.doc.direction);return b&&0!=b[0].level?X:(S=Math.max(X.ch,S.text.search(/\S/)),$a(X.line,p.line==X.line&&p.ch<=S&&p.ch?0:S,X.sticky))}function Ah(b,p,X){if("string"==typeof p&&(p=
aj[p],!p))return!1;b.display.input.ensurePolled();var S=b.display.shift,ea=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),X&&(b.display.shift=!1),ea=p(b)!=mh}finally{b.display.shift=S,b.state.suppressEdits=!1}return ea}function nj(b,p,X,S){var ea=b.state.keySeq;if(ea){if(vf(p))return"handled";/'$/.test(p)?b.state.keySeq=null:Ak.set(50,function(){b.state.keySeq==ea&&(b.state.keySeq=null,b.display.input.reset())});if(Nk(b,ea+" "+p,X,S))return!0}return Nk(b,p,X,S)}function Nk(b,p,X,S){a:{for(var ea=
0;ea<b.state.keyMaps.length;ea++){var La=$f(p,b.state.keyMaps[ea],S,b);if(La){S=La;break a}}S=b.options.extraKeys&&$f(p,b.options.extraKeys,S,b)||$f(p,b.options.keyMap,S,b)}"multi"==S&&(b.state.keySeq=p);"handled"==S&&Bc(b,"keyHandled",b,p,X);if("handled"==S||"multi"==S)aa(X),Mc(b);return!!S}function Fg(b,p){var X=Qf(p,!0);return X?p.shiftKey&&!b.state.keySeq?nj(b,"Shift-"+X,p,function(S){return Ah(b,S,!0)})||nj(b,X,p,function(S){if("string"==typeof S?/^go[A-Z]/.test(S):S.motion)return Ah(b,S)}):
nj(b,X,p,function(S){return Ah(b,S)}):!1}function kh(b,p,X){return nj(b,"'"+X+"'",p,function(S){return Ah(b,S,!0)})}function Jj(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=v(),!P(this,b)){wf&&11>Ff&&27==b.keyCode&&(b.returnValue=!1);var p=b.keyCode;this.display.shift=16==p||b.shiftKey;var X=Fg(this,b);Jg&&(sk=X?p:null,!X&&88==p&&!Ii&&(dh?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));Eg&&!dh&&!X&&46==p&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");
18!=p||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||oj(this)}}function oj(b){function p(S){18!=S.keyCode&&S.altKey||(Dh(X,"CodeMirror-crosshair"),la(document,"keyup",p),la(document,"mouseover",p))}var X=b.display.lineDiv;u(X,"CodeMirror-crosshair");Te(document,"keyup",p);Te(document,"mouseover",p)}function qg(b){16==b.keyCode&&(this.doc.sel.shift=!1);P(this,b)}function yi(b){if(!(b.target&&b.target!=this.display.input.getField()||Dd(this.display,b)||P(this,b)||b.ctrlKey&&!b.altKey||
dh&&b.metaKey)){var p=b.keyCode,X=b.charCode;if(Jg&&p==sk)sk=null,aa(b);else if(!Jg||b.which&&!(10>b.which)||!Fg(this,b))if(p=String.fromCharCode(null==X?p:X),"\b"!=p&&!kh(this,b,p))this.display.input.onKeyPress(b)}}function zi(b,p){var X=+new Date;if(uj&&uj.compare(X,b,p))return bj=uj=null,"triple";if(bj&&bj.compare(X,b,p))return uj=new ij(X,b,p),bj=null,"double";bj=new ij(X,b,p);uj=null;return"single"}function Ai(b){var p=this.display;if(!(P(this,b)||p.activeTouch&&p.input.supportsTouch()))if(p.input.ensurePolled(),
p.shift=b.shiftKey,Dd(p,b))Ag||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));else if(!Vi(this,b,"gutterClick",!0)){var X=Bf(this,b),S=bb(b),ea=X?zi(X,S):"single";window.focus();1==S&&this.state.selectingText&&this.state.selectingText(b);if(!X||!Hj(this,S,X,ea,b))if(1==S)X?Qi(this,X,ea,b):(b.target||b.srcElement)==p.scroller&&aa(b);else if(2==S)X&&be(this.doc,X),setTimeout(function(){return p.input.focus()},20);else if(3==S)if(Vh)this.display.input.onContextMenu(b);
else od(this)}}function Hj(b,p,X,S,ea){var La="Click";"double"==S?La="Double"+La:"triple"==S&&(La="Triple"+La);return nj(b,Df((1==p?"Left":2==p?"Middle":"Right")+La,ea),ea,function(Xa){"string"==typeof Xa&&(Xa=aj[Xa]);if(!Xa)return!1;var ab=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),ab=Xa(b,X)!=mh}finally{b.state.suppressEdits=!1}return ab})}function Qi(b,p,X,S){wf?setTimeout(g(Nd,b),0):b.curOp.focus=v();var ea=b.getOption("configureMouse");ea=ea?ea(b,X,S):{};null==ea.unit&&(ea.unit=(Aj?S.shiftKey&&
S.metaKey:S.altKey)?"rectangle":"single"==X?"char":"double"==X?"word":"line");if(null==ea.extend||b.doc.extend)ea.extend=b.doc.extend||S.shiftKey;null==ea.addNew&&(ea.addNew=dh?S.metaKey:S.ctrlKey);null==ea.moveOnDrag&&(ea.moveOnDrag=!(dh?S.altKey:S.ctrlKey));var La=b.doc.sel,Xa;b.options.dragDrop&&dj&&!b.isReadOnly()&&"single"==X&&-1<(Xa=La.contains(p))&&(0>Fa((Xa=La.ranges[Xa]).from(),p)||0<p.xRel)&&(0<Fa(Xa.to(),p)||0>p.xRel)?ni(b,S,p,ea):qj(b,S,p,ea)}function ni(b,p,X,S){var ea=b.display,La=!1,
Xa=fd(b,function(Ib){Ag&&(ea.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=!1:od(b));la(ea.wrapper.ownerDocument,"mouseup",Xa);la(ea.wrapper.ownerDocument,"mousemove",ab);la(ea.scroller,"dragstart",tb);la(ea.scroller,"drop",Xa);La||(aa(Ib),S.addNew||be(b.doc,X,null,null,S.extend),Ag&&!Zh||wf&&9==Ff?setTimeout(function(){ea.wrapper.ownerDocument.body.focus({preventScroll:!0});ea.input.focus()},20):ea.input.focus())}),ab=function(Ib){La=
La||10<=Math.abs(p.clientX-Ib.clientX)+Math.abs(p.clientY-Ib.clientY)},tb=function(){return La=!0};Ag&&(ea.scroller.draggable=!0);b.state.draggingText=Xa;Xa.copy=!S.moveOnDrag;Te(ea.wrapper.ownerDocument,"mouseup",Xa);Te(ea.wrapper.ownerDocument,"mousemove",ab);Te(ea.scroller,"dragstart",tb);Te(ea.scroller,"drop",Xa);b.state.delayingBlurEvent=!0;setTimeout(function(){return ea.input.focus()},20);ea.scroller.dragDrop&&ea.scroller.dragDrop()}function Ui(b,p,X){if("char"==X)return new Jf(p,p);if("word"==
X)return b.findWordAt(p);if("line"==X)return new Jf($a(p.line,0),jb(b.doc,$a(p.line+1,0)));b=X(b,p);return new Jf(b.from,b.to)}function qj(b,p,X,S){function ea(He){if(0!=Fa(wc,He))if(wc=He,"rectangle"==S.unit){var cg=[],Af=b.options.tabSize,bg=f(ba(tb,X.line).text,X.ch,Af),Wf=f(ba(tb,He.line).text,He.ch,Af),qf=Math.min(bg,Wf);bg=Math.max(bg,Wf);Wf=Math.min(X.line,He.line);for(var gg=Math.min(b.lastLine(),Math.max(X.line,He.line));Wf<=gg;Wf++){var Rf=ba(tb,Wf).text,Of=e(Rf,qf,Af);qf==bg?cg.push(new Jf($a(Wf,
Of),$a(Wf,Of))):Rf.length>Of&&cg.push(new Jf($a(Wf,Of),$a(Wf,e(Rf,bg,Af))))}cg.length||cg.push(new Jf(X,X));Wa(tb,za(b,Ib.ranges.slice(0,Rc).concat(cg),Rc),{origin:"*mouse",scroll:!1});b.scrollIntoView(He)}else cg=vc,qf=Ui(b,He,S.unit),He=cg.anchor,0<Fa(qf.anchor,He)?(Af=qf.head,He=Ua(cg.from(),qf.anchor)):(Af=qf.anchor,He=Ja(cg.to(),qf.head)),cg=Ib.ranges.slice(0),cg[Rc]=hh(b,new Jf(jb(tb,He),Af)),Wa(tb,za(b,cg,Rc),Tf)}function La(He){var cg=++ce,Af=Bf(b,He,!0,"rectangle"==S.unit);if(Af)if(0!=Fa(Af,
wc)){b.curOp.focus=v();ea(Af);var bg=Gf(ab,tb);(Af.line>=bg.to||Af.line<bg.from)&&setTimeout(fd(b,function(){ce==cg&&La(He)}),150)}else{var Wf=He.clientY<td.top?-20:He.clientY>td.bottom?20:0;Wf&&setTimeout(fd(b,function(){ce==cg&&(ab.scroller.scrollTop+=Wf,La(He))}),50)}}function Xa(He){b.state.selectingText=!1;ce=Infinity;He&&(aa(He),ab.input.focus());la(ab.wrapper.ownerDocument,"mousemove",Se);la(ab.wrapper.ownerDocument,"mouseup",bf);tb.history.lastSelOrigin=null}wf&&od(b);var ab=b.display,tb=
b.doc;aa(p);var Ib=tb.sel,dc=Ib.ranges;if(S.addNew&&!S.extend){var Rc=tb.sel.contains(X);var vc=-1<Rc?dc[Rc]:new Jf(X,X)}else vc=tb.sel.primary(),Rc=tb.sel.primIndex;"rectangle"==S.unit?(S.addNew||(vc=new Jf(X,X)),X=Bf(b,p,!0,!0),Rc=-1):(p=Ui(b,X,S.unit),vc=S.extend?Pd(vc,p.anchor,p.head,S.extend):p);S.addNew?-1==Rc?(Rc=dc.length,Wa(tb,za(b,dc.concat([vc]),Rc),{scroll:!1,origin:"*mouse"})):1<dc.length&&dc[Rc].empty()&&"char"==S.unit&&!S.extend?(Wa(tb,za(b,dc.slice(0,Rc).concat(dc.slice(Rc+1)),0),
{scroll:!1,origin:"*mouse"}),Ib=tb.sel):Ad(tb,Rc,vc,Tf):(Rc=0,Wa(tb,new Hg([vc],0),Tf),Ib=tb.sel);var wc=X,td=ab.wrapper.getBoundingClientRect(),ce=0,Se=fd(b,function(He){0!==He.buttons&&bb(He)?La(He):Xa(He)}),bf=fd(b,Xa);b.state.selectingText=bf;Te(ab.wrapper.ownerDocument,"mousemove",Se);Te(ab.wrapper.ownerDocument,"mouseup",bf)}function hh(b,p){var X=p.anchor,S=p.head,ea=ba(b.doc,X.line);if(0==Fa(X,S)&&X.sticky==S.sticky)return p;ea=ia(ea);if(!ea)return p;var La=fa(ea,X.ch,X.sticky),Xa=ea[La];
if(Xa.from!=X.ch&&Xa.to!=X.ch)return p;var ab=La+(Xa.from==X.ch==(1!=Xa.level)?0:1);if(0==ab||ab==ea.length)return p;S.line!=X.line?b=0<(S.line-X.line)*("ltr"==b.doc.direction?1:-1):(b=fa(ea,S.ch,S.sticky),La=b-La||(S.ch-X.ch)*(1==Xa.level?-1:1),b=b==ab-1||b==ab?0>La:0<La);ea=ea[ab+(b?-1:0)];ea=(ab=b==(1==ea.level))?ea.from:ea.to;ab=ab?"after":"before";return X.ch==ea&&X.sticky==ab?p:new Jf(new $a(X.line,ea,ab),S)}function Vi(b,p,X,S){if(p.touches){var ea=p.touches[0].clientX;var La=p.touches[0].clientY}else try{ea=
p.clientX,La=p.clientY}catch(tb){return!1}if(ea>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;S&&aa(p);S=b.display;var Xa=S.lineDiv.getBoundingClientRect();if(La>Xa.bottom||!V(b,X))return wa(p);La-=Xa.top-S.viewOffset;for(Xa=0;Xa<b.display.gutterSpecs.length;++Xa){var ab=S.gutters.childNodes[Xa];if(ab&&ab.getBoundingClientRect().right>=ea)return ea=na(b.doc,La),Z(b,X,b,ea,b.display.gutterSpecs[Xa].className,p),wa(p)}}function Qj(b,p){var X;(X=Dd(b.display,p))||(X=V(b,"gutterContextMenu")?
Vi(b,p,"gutterContextMenu",!1):!1);if(!X&&!P(b,p,"contextmenu")&&!Vh)b.display.input.onContextMenu(p)}function Tk(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");Nf(b)}function rj(b,p,X){!p!=!(X&&X!=Ki)&&(X=b.display.dragFunctions,p=p?Te:la,p(b.display.scroller,"dragstart",X.start),p(b.display.scroller,"dragenter",X.enter),p(b.display.scroller,"dragover",X.over),p(b.display.scroller,"dragleave",X.leave),p(b.display.scroller,
"drop",X.drop))}function sj(b){b.options.lineWrapping?(u(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(Dh(b.display.wrapper,"CodeMirror-wrap"),wb(b));Sf(b);yc(b);Nf(b);setTimeout(function(){return Pa(b)},100)}function og(b,p){var X=this;if(!(this instanceof og))return new og(b,p);this.options=p=p?d(p):{};d(Uk,p,!1);var S=p.value;"string"==typeof S?S=new Gg(S,p.mode,null,p.lineSeparator,p.direction):p.mode&&(S.modeOption=p.mode);this.doc=S;var ea=
new og.inputStyles[p.inputStyle](this);b=this.display=new Bg(b,S,ea,p);b.wrapper.CodeMirror=this;Tk(this);p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Wb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new pf,keySeq:null,specialChars:null};p.autofocus&&!ri&&b.input.focus();wf&&11>Ff&&setTimeout(function(){return X.display.input.reset(!0)},
20);Wi(this);rk||(xd(),rk=!0);Tb(this);this.curOp.forceUpdate=!0;xc(this,S);p.autofocus&&!ri||this.hasFocus()?setTimeout(function(){X.hasFocus()&&!X.state.focused&&Id(X)},20):jd(this);for(var La in fj)if(fj.hasOwnProperty(La))fj[La](this,p[La],Ki);Uf(this);p.finishInit&&p.finishInit(this);for(S=0;S<vj.length;++S)vj[S](this);ic(this);Ag&&p.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function Wi(b){function p(){S.activeTouch&&
(ea=setTimeout(function(){return S.activeTouch=null},1E3),La=S.activeTouch,La.end=+new Date)}function X(ab,tb){if(null==tb.left)return!0;var Ib=tb.left-ab.left;ab=tb.top-ab.top;return 400<Ib*Ib+ab*ab}var S=b.display;Te(S.scroller,"mousedown",fd(b,Ai));wf&&11>Ff?Te(S.scroller,"dblclick",fd(b,function(ab){if(!P(b,ab)){var tb=Bf(b,ab);!tb||Vi(b,ab,"gutterClick",!0)||Dd(b.display,ab)||(aa(ab),ab=b.findWordAt(tb),be(b.doc,ab.anchor,ab.head))}})):Te(S.scroller,"dblclick",function(ab){return P(b,ab)||aa(ab)});
Te(S.scroller,"contextmenu",function(ab){return Qj(b,ab)});Te(S.input.getField(),"contextmenu",function(ab){S.scroller.contains(ab.target)||Qj(b,ab)});var ea,La={end:0};Te(S.scroller,"touchstart",function(ab){var tb;if(tb=!P(b,ab))1!=ab.touches.length?tb=!1:(tb=ab.touches[0],tb=1>=tb.radiusX&&1>=tb.radiusY),tb=!tb;tb&&!Vi(b,ab,"gutterClick",!0)&&(S.input.ensurePolled(),clearTimeout(ea),tb=+new Date,S.activeTouch={start:tb,moved:!1,prev:300>=tb-La.end?La:null},1==ab.touches.length&&(S.activeTouch.left=
ab.touches[0].pageX,S.activeTouch.top=ab.touches[0].pageY))});Te(S.scroller,"touchmove",function(){S.activeTouch&&(S.activeTouch.moved=!0)});Te(S.scroller,"touchend",function(ab){var tb=S.activeTouch;if(tb&&!Dd(S,ab)&&null!=tb.left&&!tb.moved&&300>new Date-tb.start){var Ib=b.coordsChar(S.activeTouch,"page");tb=!tb.prev||X(tb,tb.prev)?new Jf(Ib,Ib):!tb.prev.prev||X(tb,tb.prev.prev)?b.findWordAt(Ib):new Jf($a(Ib.line,0),jb(b.doc,$a(Ib.line+1,0)));b.setSelection(tb.anchor,tb.head);b.focus();aa(ab)}p()});
Te(S.scroller,"touchcancel",p);Te(S.scroller,"scroll",function(){S.scroller.clientHeight&&(yf(b,S.scroller.scrollTop),nf(b,S.scroller.scrollLeft,!0),Z(b,"scroll",b))});Te(S.scroller,"mousewheel",function(ab){return ya(b,ab)});Te(S.scroller,"DOMMouseScroll",function(ab){return ya(b,ab)});Te(S.wrapper,"scroll",function(){return S.wrapper.scrollTop=S.wrapper.scrollLeft=0});S.dragFunctions={enter:function(ab){P(b,ab)||Ha(ab)},over:function(ab){if(!P(b,ab)){var tb=Bf(b,ab);if(tb){var Ib=document.createDocumentFragment();
$b(b,tb,Ib);b.display.dragCursor||(b.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));w(b.display.dragCursor,Ib)}Ha(ab)}},start:function(ab){if(wf&&(!b.state.draggingText||100>+new Date-gj))Ha(ab);else if(!P(b,ab)&&!Dd(b.display,ab)&&(ab.dataTransfer.setData("Text",b.getSelection()),ab.dataTransfer.effectAllowed="copyMove",ab.dataTransfer.setDragImage&&!Zh)){var tb=H("img",null,null,"position: fixed; left: 0; top: 0;");
tb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Jg&&(tb.width=tb.height=1,b.display.wrapper.appendChild(tb),tb._top=tb.offsetTop);ab.dataTransfer.setDragImage(tb,0,0);Jg&&tb.parentNode.removeChild(tb)}},drop:fd(b,ke),leave:function(ab){P(b,ab)||pe(b)}};var Xa=S.input.getField();Te(Xa,"keyup",function(ab){return qg.call(b,ab)});Te(Xa,"keydown",fd(b,Jj));Te(Xa,"keypress",fd(b,yi));Te(Xa,"focus",function(ab){return Id(b,ab)});Te(Xa,"blur",function(ab){return jd(b,
ab)})}function oi(b,p,X,S){var ea=b.doc,La;null==X&&(X="add");"smart"==X&&(ea.mode.indent?La=md(b,p).state:X="prev");var Xa=b.options.tabSize,ab=ba(ea,p),tb=f(ab.text,null,Xa);ab.stateAfter&&(ab.stateAfter=null);var Ib=ab.text.match(/^\s*/)[0];if(!S&&!/\S/.test(ab.text)){var dc=0;X="not"}else if("smart"==X&&(dc=ea.mode.indent(La,ab.text.slice(Ib.length),ab.text),dc==mh||150<dc)){if(!S)return;X="prev"}"prev"==X?dc=p>ea.first?f(ba(ea,p-1).text,null,Xa):0:"add"==X?dc=tb+b.options.indentUnit:"subtract"==
X?dc=tb-b.options.indentUnit:"number"==typeof X&&(dc=tb+X);dc=Math.max(0,dc);X="";S=0;if(b.options.indentWithTabs)for(b=Math.floor(dc/Xa);b;--b)S+=Xa,X+="\t";S<dc&&(X+=n(dc-S));if(X!=Ib)return Qc(ea,X,$a(p,0),$a(p,Ib.length),"+input"),ab.stateAfter=null,!0;for(Xa=0;Xa<ea.sel.ranges.length;Xa++)if(ab=ea.sel.ranges[Xa],ab.head.line==p&&ab.head.ch<Ib.length){p=$a(p,Ib.length);Ad(ea,Xa,new Jf(p,p));break}}function Gi(b,p,X,S,ea){var La=b.doc;b.display.shift=!1;S||(S=La.sel);var Xa=+new Date-200,ab="paste"==
ea||b.state.pasteIncoming>Xa,tb=Ih(p),Ib=null;if(ab&&1<S.ranges.length)if(Qg&&Qg.text.join("\n")==p){if(0==S.ranges.length%Qg.text.length){Ib=[];for(var dc=0;dc<Qg.text.length;dc++)Ib.push(La.splitLines(Qg.text[dc]))}}else tb.length==S.ranges.length&&b.options.pasteLinesPerSelection&&(Ib=B(tb,function(ce){return[ce]}));dc=b.curOp.updateInput;for(var Rc=S.ranges.length-1;0<=Rc;Rc--){var vc=S.ranges[Rc],wc=vc.from(),td=vc.to();vc.empty()&&(X&&0<X?wc=$a(wc.line,wc.ch-X):b.state.overwrite&&!ab?td=$a(td.line,
Math.min(ba(La,td.line).text.length,td.ch+y(tb).length)):ab&&Qg&&Qg.lineWise&&Qg.text.join("\n")==tb.join("\n")&&(wc=td=$a(wc.line,0)));vc={from:wc,to:td,text:Ib?Ib[Rc%Ib.length]:tb,origin:ea||(ab?"paste":b.state.cutIncoming>Xa?"cut":"+input")};gb(b.doc,vc);Bc(b,"inputRead",b,vc)}p&&!ab&&Dg(b,p);We(b);2>b.curOp.updateInput&&(b.curOp.updateInput=dc);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function lg(b,p){var X=b.clipboardData&&b.clipboardData.getData("Text");if(X)return b.preventDefault(),
p.isReadOnly()||p.options.disableInput||oc(p,function(){return Gi(p,X,0,null,"paste")}),!0}function Dg(b,p){if(b.options.electricChars&&b.options.smartIndent)for(var X=b.doc.sel,S=X.ranges.length-1;0<=S;S--){var ea=X.ranges[S];if(!(100<ea.head.ch||S&&X.ranges[S-1].head.line==ea.head.line)){var La=b.getModeAt(ea.head),Xa=!1;if(La.electricChars)for(var ab=0;ab<La.electricChars.length;ab++){if(-1<p.indexOf(La.electricChars.charAt(ab))){Xa=oi(b,ea.head.line,"smart");break}}else La.electricInput&&La.electricInput.test(ba(b.doc,
ea.head.line).text.slice(0,ea.head.ch))&&(Xa=oi(b,ea.head.line,"smart"));Xa&&Bc(b,"electricInput",b,ea.head.line)}}}function Ei(b){for(var p=[],X=[],S=0;S<b.doc.sel.ranges.length;S++){var ea=b.doc.sel.ranges[S].head.line;ea={anchor:$a(ea,0),head:$a(ea+1,0)};X.push(ea);p.push(b.getRange(ea.anchor,ea.head))}return{text:p,ranges:X}}function vh(b,p,X,S){b.setAttribute("autocorrect",X?"":"off");b.setAttribute("autocapitalize",S?"":"off");b.setAttribute("spellcheck",!!p)}function Sh(){var b=H("textarea",
null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),p=H("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Ag?b.style.width="1000px":b.setAttribute("wrap","off");mi&&(b.style.border="1px solid black");vh(b);return p}function Yj(b,p,X,S,ea){function La(ce){if("codepoint"==S){var Se=tb.text.charCodeAt(p.ch+(0<X?0:-1));Se=isNaN(Se)?null:new $a(p.line,Math.max(0,Math.min(tb.text.length,p.ch+X*((0<X?55296<=Se&&56320>Se:56320<=
Se&&57343>Se)?2:1))),-X)}else Se=ea?hk(b.cm,tb,p,X):sh(tb,p,X);if(null==Se){if(ce=!ce)ce=p.line+Ib,ce<b.first||ce>=b.first+b.size?ce=!1:(p=new $a(ce,p.ch,p.sticky),ce=tb=ba(b,ce));if(ce)p=Ti(ea,b.cm,tb,p.line,Ib);else return!1}else p=Se;return!0}var Xa=p,ab=X,tb=ba(b,p.line),Ib=ea&&"rtl"==b.direction?-X:X;if("char"==S||"codepoint"==S)La();else if("column"==S)La(!0);else if("word"==S||"group"==S)for(var dc=null,Rc="group"==S,vc=b.cm&&b.cm.getHelper(p,"wordChars"),wc=!0;!(0>X)||La(!wc);wc=!1){var td=
tb.text.charAt(p.ch)||"\n";td=z(td,vc)?"w":Rc&&"\n"==td?"n":!Rc||/\s/.test(td)?null:"p";!Rc||wc||td||(td="s");if(dc&&dc!=td){0>X&&(X=1,La(),p.sticky="after");break}td&&(dc=td);if(0<X&&!La(!wc))break}ab=r(b,p,Xa,ab,!0);Ga(Xa,ab)&&(ab.hitSide=!0);return ab}function Vj(b,p,X,S){var ea=b.doc,La=p.left;if("page"==S){var Xa=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Fe(b.display),3);Xa=(0<X?p.bottom:p.top)+X*Xa}else"line"==S&&(Xa=0<X?p.bottom+
3:p.top-3);for(;;){p=Td(b,La,Xa);if(!p.outside)break;if(0>X?0>=Xa:Xa>=ea.height){p.hitSide=!0;break}Xa+=5*X}return p}function Xj(b,p){var X=Ze(b,p.line);if(!X||X.hidden)return null;var S=ba(b.doc,p.line);X=ef(X,S,p.line);b=ia(S,b.doc.direction);S="left";b&&(S=fa(b,p.ch)%2?"right":"left");p=he(X.map,p.ch,S);p.offset="right"==p.collapse?p.end:p.start;return p}function Wj(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function vg(b,p){p&&(b.bad=!0);return b}
function tj(b,p,X,S,ea){function La(wc){return function(td){return td.id==wc}}function Xa(){dc&&(Ib+=Rc,vc&&(Ib+=Rc),dc=vc=!1)}function ab(wc){wc&&(Xa(),Ib+=wc)}function tb(wc){if(1==wc.nodeType){var td=wc.getAttribute("cm-text");if(td)ab(td);else{td=wc.getAttribute("cm-marker");var ce;if(td)wc=b.findMarks($a(S,0),$a(ea+1,0),La(+td)),wc.length&&(ce=wc[0].find(0))&&ab(ca(b.doc,ce.from,ce.to).join(Rc));else if("false"!=wc.getAttribute("contenteditable")&&(ce=/^(pre|div|p|li|table|br)$/i.test(wc.nodeName),
/^br$/i.test(wc.nodeName)||0!=wc.textContent.length)){ce&&Xa();for(td=0;td<wc.childNodes.length;td++)tb(wc.childNodes[td]);/^(pre|p)$/i.test(wc.nodeName)&&(vc=!0);ce&&(dc=!0)}}}else 3==wc.nodeType&&ab(wc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Ib="",dc=!1,Rc=b.doc.lineSeparator(),vc=!1;;){tb(p);if(p==X)break;p=p.nextSibling;vc=!1}return Ib}function Th(b,p,X){if(p==b.display.lineDiv){var S=b.display.lineDiv.childNodes[X];if(!S)return vg(b.clipPos($a(b.display.viewTo-1)),!0);
p=null;X=0}else for(S=p;;S=S.parentNode){if(!S||S==b.display.lineDiv)return null;if(S.parentNode&&S.parentNode==b.display.lineDiv)break}for(var ea=0;ea<b.display.view.length;ea++){var La=b.display.view[ea];if(La.node==S)return Ri(La,p,X)}}function Ri(b,p,X){function S(dc,Rc,vc){for(var wc=-1;wc<(Ib?Ib.length:0);wc++)for(var td=0>wc?tb.map:Ib[wc],ce=0;ce<td.length;ce+=3){var Se=td[ce+2];if(Se==dc||Se==Rc){Rc=Da(0>wc?b.line:b.rest[wc]);wc=td[ce]+vc;if(0>vc||Se!=dc)wc=td[ce+(vc?1:0)];return $a(Rc,wc)}}}
var ea=b.text.firstChild,La=!1;if(!p||!x(ea,p))return vg($a(Da(b.line),0),!0);if(p==ea&&(La=!0,p=ea.childNodes[X],X=0,!p))return X=b.rest?y(b.rest):b.line,vg($a(Da(X),X.text.length),La);var Xa=3==p.nodeType?p:null,ab=p;Xa||1!=p.childNodes.length||3!=p.firstChild.nodeType||(Xa=p.firstChild,X&&(X=Xa.nodeValue.length));for(;ab.parentNode!=ea;)ab=ab.parentNode;var tb=b.measure,Ib=tb.maps;if(p=S(Xa,ab,X))return vg(p,La);ea=ab.nextSibling;for(Xa=Xa?Xa.nodeValue.length-X:0;ea;ea=ea.nextSibling){if(p=S(ea,
ea.firstChild,0))return vg($a(p.line,p.ch-Xa),La);Xa+=ea.textContent.length}for(ab=ab.previousSibling;ab;ab=ab.previousSibling){if(p=S(ab,ab.firstChild,-1))return vg($a(p.line,p.ch+X),La);X+=ab.textContent.length}}var wg=navigator.userAgent,Zg=navigator.platform,Eg=/gecko\/\d/i.test(wg),bi=/MSIE \d/.test(wg),eh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wg),Fi=/Edge\/(\d+)/.exec(wg),wf=bi||eh||Fi,Ff=wf&&(bi?document.documentMode||6:+(Fi||eh)[1]),Ag=!Fi&&/WebKit\//.test(wg),ci=Ag&&/Qt\/\d+\.\d+/.test(wg),
Gh=!Fi&&/Chrome\//.test(wg),Jg=/Opera\//.test(wg),Zh=/Apple Computer/.test(navigator.vendor),pk=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(wg),pj=/PhantomJS/.test(wg),mi=Zh&&(/Mobile\/\w+/.test(wg)||2<navigator.maxTouchPoints),ug=/Android/.test(wg),ri=mi||ug||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(wg),dh=mi||/Mac/.test(Zg),Aj=/\bCrOS\b/.test(wg),Vg=/win/i.test(Zg),Ch=Jg&&wg.match(/Version\/(\d*\.\d*)/);Ch&&(Ch=Number(Ch[1]));Ch&&15<=Ch&&(Jg=!1,Ag=!0);var Kj=dh&&(ci||Jg&&(null==Ch||12.11>
Ch)),Vh=Eg||wf&&9<=Ff,Dh=function(b,p){var X=b.className;if(p=k(p).exec(X)){var S=X.slice(p.index+p[0].length);b.className=X.slice(0,p.index)+(S?p[1]+S:"")}};var Hi=document.createRange?function(b,p,X,S){var ea=document.createRange();ea.setEnd(S||b,X);ea.setStart(b,p);return ea}:function(b,p,X){var S=document.body.createTextRange();try{S.moveToElementText(b.parentNode)}catch(ea){return S}S.collapse(!0);S.moveEnd("character",X);S.moveStart("character",p);return S};var di=function(b){b.select()};mi?
di=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:wf&&(di=function(b){try{b.select()}catch(p){}});var pf=function(){this.f=this.id=null;this.time=0;this.handler=g(this.onTimeout,this)};pf.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?b.f():setTimeout(b.handler,b.time-+new Date)};pf.prototype.set=function(b,p){this.f=p;p=+new Date+b;if(!this.id||p<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=p};var mh={toString:function(){return"CodeMirror.Pass"}},
mg={scroll:!1},Tf={origin:"*mouse"},ei={origin:"+move"},Li=[""],Xi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,fi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Wh=null,Hh=function(){function b(ab){return 247>=ab?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ab):1424<=ab&&1524>=ab?"R":1536<=ab&&1785>=ab?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ab-
1536):1774<=ab&&2220>=ab?"r":8192<=ab&&8203>=ab?"w":8204==ab?"b":"L"}function p(ab,tb,Ib){this.level=ab;this.from=tb;this.to=Ib}var X=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,S=/[stwN]/,ea=/[LRr]/,La=/[Lb1n]/,Xa=/[1n]/;return function(ab,tb){var Ib="ltr"==tb?"L":"R";if(0==ab.length||"ltr"==tb&&!X.test(ab))return!1;for(var dc=ab.length,Rc=[],vc=0;vc<dc;++vc)Rc.push(b(ab.charCodeAt(vc)));vc=0;for(var wc=Ib;vc<dc;++vc){var td=Rc[vc];"m"==td?Rc[vc]=wc:wc=td}vc=0;for(wc=Ib;vc<dc;++vc)td=Rc[vc],"1"==
td&&"r"==wc?Rc[vc]="n":ea.test(td)&&(wc=td,"r"==td&&(Rc[vc]="R"));vc=1;for(wc=Rc[0];vc<dc-1;++vc)td=Rc[vc],"+"==td&&"1"==wc&&"1"==Rc[vc+1]?Rc[vc]="1":","!=td||wc!=Rc[vc+1]||"1"!=wc&&"n"!=wc||(Rc[vc]=wc),wc=td;for(vc=0;vc<dc;++vc)if(wc=Rc[vc],","==wc)Rc[vc]="N";else if("%"==wc){for(wc=vc+1;wc<dc&&"%"==Rc[wc];++wc);for(td=vc&&"!"==Rc[vc-1]||wc<dc&&"1"==Rc[wc]?"1":"N";vc<wc;++vc)Rc[vc]=td;vc=wc-1}vc=0;for(wc=Ib;vc<dc;++vc)td=Rc[vc],"L"==wc&&"1"==td?Rc[vc]="L":ea.test(td)&&(wc=td);for(wc=0;wc<dc;++wc)if(S.test(Rc[wc])){for(vc=
wc+1;vc<dc&&S.test(Rc[vc]);++vc);td="L"==(wc?Rc[wc-1]:Ib);for(td=td==("L"==(vc<dc?Rc[vc]:Ib))?td?"L":"R":Ib;wc<vc;++wc)Rc[wc]=td;wc=vc-1}Ib=[];var ce;for(vc=0;vc<dc;)if(La.test(Rc[vc])){wc=vc;for(++vc;vc<dc&&La.test(Rc[vc]);++vc);Ib.push(new p(0,wc,vc))}else{var Se=vc;wc=Ib.length;td="rtl"==tb?1:0;for(++vc;vc<dc&&"L"!=Rc[vc];++vc);for(var bf=Se;bf<vc;)if(Xa.test(Rc[bf])){Se<bf&&(Ib.splice(wc,0,new p(1,Se,bf)),wc+=td);Se=bf;for(++bf;bf<vc&&Xa.test(Rc[bf]);++bf);Ib.splice(wc,0,new p(2,Se,bf));wc+=td;
Se=bf}else++bf;Se<vc&&Ib.splice(wc,0,new p(1,Se,vc))}"ltr"==tb&&(1==Ib[0].level&&(ce=ab.match(/^\s+/))&&(Ib[0].from=ce[0].length,Ib.unshift(new p(0,0,ce[0].length))),1==y(Ib).level&&(ce=ab.match(/\s+$/))&&(y(Ib).to-=ce[0].length,Ib.push(new p(0,dc-ce[0].length,dc))));return"rtl"==tb?Ib.reverse():Ib}}(),gi=[],Te=function(b,p,X){b.addEventListener?b.addEventListener(p,X,!1):b.attachEvent?b.attachEvent("on"+p,X):(b=b._handlers||(b._handlers={}),b[p]=(b[p]||gi).concat(X))},dj=function(){if(wf&&9>Ff)return!1;
var b=H("div");return"draggable"in b||"dragDrop"in b}(),ih,wh,Ih=3!="\n\nb".split(/\n/).length?function(b){for(var p=0,X=[],S=b.length;p<=S;){var ea=b.indexOf("\n",p);-1==ea&&(ea=b.length);var La=b.slice(p,"\r"==b.charAt(ea-1)?ea-1:ea),Xa=La.indexOf("\r");-1!=Xa?(X.push(La.slice(0,Xa)),p+=Xa+1):(X.push(La),p=ea+1)}return X}:function(b){return b.split(/\r\n?|\n/)},Xh=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(p){return!1}}:function(b){try{var p=b.ownerDocument.selection.createRange()}catch(X){}return p&&
p.parentElement()==b?0!=p.compareEndPoints("StartToEnd",p):!1},Ii=function(){var b=H("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),si=null,Kh={},ti={},jh={},kg=function(b,p,X){this.pos=this.start=0;this.string=b;this.tabSize=p||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=X};kg.prototype.eol=function(){return this.pos>=this.string.length};kg.prototype.sol=function(){return this.pos==this.lineStart};kg.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};kg.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};kg.prototype.eat=function(b){var p=this.string.charAt(this.pos);if("string"==typeof b?p==b:p&&(b.test?b.test(p):b(p)))return++this.pos,p};kg.prototype.eatWhile=function(b){for(var p=this.pos;this.eat(b););return this.pos>p};kg.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};kg.prototype.skipToEnd=function(){this.pos=this.string.length};kg.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};kg.prototype.backUp=function(b){this.pos-=b};kg.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};kg.prototype.indentation=
function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};kg.prototype.match=function(b,p,X){if("string"==typeof b){var S=function(La){return X?La.toLowerCase():La},ea=this.string.substr(this.pos,b.length);if(S(ea)==S(b))return!1!==p&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==p&&(this.pos+=b[0].length);return b}};kg.prototype.current=function(){return this.string.slice(this.start,
this.pos)};kg.prototype.hideFirstChars=function(b,p){this.lineStart+=b;try{return p()}finally{this.lineStart-=b}};kg.prototype.lookAhead=function(b){var p=this.lineOracle;return p&&p.lookAhead(b)};kg.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var Ji=function(b,p){this.state=b;this.lookAhead=p},xh=function(b,p,X,S){this.state=p;this.doc=b;this.line=X;this.maxLookAhead=S||0;this.baseTokens=null;this.baseTokenPos=1};xh.prototype.lookAhead=function(b){var p=
this.doc.getLine(this.line+b);null!=p&&b>this.maxLookAhead&&(this.maxLookAhead=b);return p};xh.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};xh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};xh.fromSaved=function(b,p,X){return p instanceof Ji?new xh(b,
ua(b.mode,p.state),X,p.lookAhead):new xh(b,ua(b.mode,p),X)};xh.prototype.save=function(b){b=!1!==b?ua(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Ji(b,this.maxLookAhead):b};var Cj=function(b,p,X){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=p||null;this.state=X},ak=!1,Ph=!1,Yh=function(b,p,X){this.text=b;vd(this,p);this.height=X?X(this):1};Yh.prototype.lineNo=function(){return Da(this)};ha(Yh);var Zj={},qk={},Di=null,ag=null,Lh={left:0,right:0,top:0,
bottom:0},oh,Mh=function(b,p,X){this.cm=X;var S=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ea=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");S.tabIndex=ea.tabIndex=-1;b(S);b(ea);Te(S,"scroll",function(){S.clientHeight&&p(S.scrollTop,"vertical")});Te(ea,"scroll",function(){ea.clientWidth&&p(ea.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;wf&&8>Ff&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
Mh.prototype.update=function(b){var p=b.scrollWidth>b.clientWidth+1,X=b.scrollHeight>b.clientHeight+1,S=b.nativeBarWidth;X?(this.vert.style.display="block",this.vert.style.bottom=p?S+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(p?S:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");p?(this.horiz.style.display="block",this.horiz.style.right=X?S+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-b.barLeft-(X?S:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==S&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:X?S:0,bottom:p?S:0}};Mh.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Mh.prototype.setScrollTop=function(b){this.vert.scrollTop!=
b&&(this.vert.scrollTop=b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Mh.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=dh&&!pk?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new pf;this.disableVert=new pf};Mh.prototype.enableZeroWidthBar=function(b,p,X){function S(){var ea=b.getBoundingClientRect();("vert"==X?document.elementFromPoint(ea.right-1,(ea.top+ea.bottom)/2):document.elementFromPoint((ea.right+
ea.left)/2,ea.bottom-1))!=b?b.style.pointerEvents="none":p.set(1E3,S)}b.style.pointerEvents="auto";p.set(1E3,S)};Mh.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var Nh=function(){};Nh.prototype.update=function(){return{bottom:0,right:0}};Nh.prototype.setScrollLeft=function(){};Nh.prototype.setScrollTop=function(){};Nh.prototype.clear=function(){};var ej={"native":Mh,"null":Nh},Bj=0,ph=function(b,p,X){var S=b.display;this.viewport=p;this.visible=
Gf(S,b.doc,p);this.editorIsHidden=!S.wrapper.offsetWidth;this.wrapperHeight=S.wrapper.clientHeight;this.wrapperWidth=S.wrapper.clientWidth;this.oldDisplayWidth=De(b);this.force=X;this.dims=lf(b);this.events=[]};ph.prototype.signal=function(b,p){V(b,p)&&this.events.push(arguments)};ph.prototype.finish=function(){for(var b=0;b<this.events.length;b++)Z.apply(null,this.events[b])};var ui=0,Og=null;wf?Og=-.53:Eg?Og=15:Gh?Og=-.7:Zh&&(Og=-1/3);var Hg=function(b,p){this.ranges=b;this.primIndex=p};Hg.prototype.primary=
function(){return this.ranges[this.primIndex]};Hg.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var X=this.ranges[p],S=b.ranges[p];if(!Ga(X.anchor,S.anchor)||!Ga(X.head,S.head))return!1}return!0};Hg.prototype.deepCopy=function(){for(var b=[],p=0;p<this.ranges.length;p++)b[p]=new Jf(pa(this.ranges[p].anchor),pa(this.ranges[p].head));return new Hg(b,this.primIndex)};Hg.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};Hg.prototype.contains=function(b,p){p||(p=b);for(var X=0;X<this.ranges.length;X++){var S=this.ranges[X];if(0<=Fa(p,S.from())&&0>=Fa(b,S.to()))return X}return-1};var Jf=function(b,p){this.anchor=b;this.head=p};Jf.prototype.from=function(){return Ua(this.anchor,this.head)};Jf.prototype.to=function(){return Ja(this.anchor,this.head)};Jf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Jc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,p){for(var X=b,S=b+p;X<S;++X){var ea=this.lines[X];this.height-=ea.height;var La=ea;La.parent=null;wd(La);Bc(ea,"delete")}this.lines.splice(b,p)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,p,X){this.height+=X;this.lines=this.lines.slice(0,b).concat(p).concat(this.lines.slice(b));for(b=0;b<p.length;++b)p[b].parent=this},iterN:function(b,p,X){for(p=b+p;b<p;++b)if(X(this.lines[b]))return!0}};
ud.prototype={chunkSize:function(){return this.size},removeInner:function(b,p){this.size-=p;for(var X=0;X<this.children.length;++X){var S=this.children[X],ea=S.chunkSize();if(b<ea){var La=Math.min(p,ea-b),Xa=S.height;S.removeInner(b,La);this.height-=Xa-S.height;ea==La&&(this.children.splice(X--,1),S.parent=null);if(0==(p-=La))break;b=0}else b-=ea}25>this.size-p&&(1<this.children.length||!(this.children[0]instanceof Jc))&&(b=[],this.collapse(b),this.children=[new Jc(b)],this.children[0].parent=this)},
collapse:function(b){for(var p=0;p<this.children.length;++p)this.children[p].collapse(b)},insertInner:function(b,p,X){this.size+=p.length;this.height+=X;for(var S=0;S<this.children.length;++S){var ea=this.children[S],La=ea.chunkSize();if(b<=La){ea.insertInner(b,p,X);if(ea.lines&&50<ea.lines.length){for(p=b=ea.lines.length%25+25;p<ea.lines.length;)X=new Jc(ea.lines.slice(p,p+=25)),ea.height-=X.height,this.children.splice(++S,0,X),X.parent=this;ea.lines=ea.lines.slice(0,b);this.maybeSpill()}break}b-=
La}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var p=b.children.splice(b.children.length-5,5);p=new ud(p);if(b.parent){b.size-=p.size;b.height-=p.height;var X=a(b.parent.children,b);b.parent.children.splice(X+1,0,p)}else X=new ud(b.children),X.parent=b,b.children=[X,p],b=X;p.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,p,X){for(var S=0;S<this.children.length;++S){var ea=this.children[S],La=ea.chunkSize();if(b<La){La=Math.min(p,La-b);
if(ea.iterN(b,La,X))return!0;if(0==(p-=La))break;b=0}else b-=La}}};var Uh=function(b,p,X){if(X)for(var S in X)X.hasOwnProperty(S)&&(this[S]=X[S]);this.doc=b;this.node=p};Uh.prototype.clear=function(){var b=this.doc.cm,p=this.line.widgets,X=this.line,S=Da(X);if(null!=S&&p){for(var ea=0;ea<p.length;++ea)p[ea]==this&&p.splice(ea--,1);p.length||(X.widgets=null);var La=Cd(this);qa(X,Math.max(0,X.height-La));b&&(oc(b,function(){var Xa=-La;Ka(X)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&kd(b,Xa);xa(b,
S,"widget")}),Bc(b,"lineWidgetCleared",b,this,S))}};Uh.prototype.changed=function(){var b=this,p=this.height,X=this.doc.cm,S=this.line;this.height=null;var ea=Cd(this)-p;ea&&(Ed(this.doc,S)||qa(S,S.height+ea),X&&oc(X,function(){X.curOp.forceUpdate=!0;Ka(S)<(X.curOp&&X.curOp.scrollTop||X.doc.scrollTop)&&kd(X,ea);Bc(X,"lineWidgetChanged",X,b,Da(S))}))};ha(Uh);var Dj=0,lh=function(b,p){this.lines=[];this.type=p;this.doc=b;this.id=++Dj};lh.prototype.clear=function(){if(!this.explicitlyCleared){var b=
this.doc.cm,p=b&&!b.curOp;p&&Tb(b);if(V(this,"clear")){var X=this.find();X&&Bc(this,"clear",X.from,X.to)}for(var S=X=null,ea=0;ea<this.lines.length;++ea){var La=this.lines[ea],Xa=Sc(La.markedSpans,this);b&&!this.collapsed?xa(b,Da(La),"text"):b&&(null!=Xa.to&&(S=Da(La)),null!=Xa.from&&(X=Da(La)));for(var ab=La,tb=void 0,Ib=La.markedSpans,dc=Xa,Rc=0;Rc<Ib.length;++Rc)Ib[Rc]!=dc&&(tb||(tb=[])).push(Ib[Rc]);ab.markedSpans=tb;null==Xa.from&&this.collapsed&&!Ed(this.doc,La)&&b&&qa(La,Fe(b.display))}if(b&&
this.collapsed&&!b.options.lineWrapping)for(ea=0;ea<this.lines.length;++ea)La=Eb(this.lines[ea]),Xa=eb(La),Xa>b.display.maxLineLength&&(b.display.maxLine=La,b.display.maxLineLength=Xa,b.display.maxLineChanged=!0);null!=X&&b&&this.collapsed&&yc(b,X,S+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&Mb(b.doc));b&&Bc(b,"markerCleared",b,this,X,S);p&&ic(b);this.parent&&this.parent.clear()}};lh.prototype.find=function(b,p){null==b&&"bookmark"==this.type&&
(b=1);for(var X,S,ea=0;ea<this.lines.length;++ea){var La=this.lines[ea],Xa=Sc(La.markedSpans,this);if(null!=Xa.from&&(X=$a(p?La:Da(La),Xa.from),-1==b))return X;if(null!=Xa.to&&(S=$a(p?La:Da(La),Xa.to),1==b))return S}return X&&{from:X,to:S}};lh.prototype.changed=function(){var b=this,p=this.find(-1,!0),X=this,S=this.doc.cm;p&&S&&oc(S,function(){var ea=p.line,La=Da(p.line);if(La=Ze(S,La))zf(La),S.curOp.selectionChanged=S.curOp.forceUpdate=!0;S.curOp.updateMaxLine=!0;Ed(X.doc,ea)||null==X.height||(La=
X.height,X.height=null,(La=Cd(X)-La)&&qa(ea,ea.height+La));Bc(S,"markerChanged",S,b)})};lh.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;p.maybeHiddenMarkers&&-1!=a(p.maybeHiddenMarkers,this)||(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};lh.prototype.detachLine=function(b){this.lines.splice(a(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};
ha(lh);var pi=function(b,p){this.markers=b;this.primary=p;for(p=0;p<b.length;++p)b[p].parent=this};pi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();Bc(this,"clear")}};pi.prototype.find=function(b,p){return this.primary.find(b,p)};ha(pi);var Yi=0,Gg=function(b,p,X,S,ea){if(!(this instanceof Gg))return new Gg(b,p,X,S,ea);null==X&&(X=0);ud.call(this,[new Jc([new Yh("",null)])]);this.first=X;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=X;X=$a(X,0);this.sel=Na(X);this.history=new Oa(null);this.id=++Yi;this.modeOption=p;this.lineSep=S;this.direction="rtl"==ea?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));Jb(this,{from:X,to:X,text:b});Wa(this,Na(X),mg)};Gg.prototype=M(ud.prototype,{constructor:Gg,iter:function(b,p,X){X?this.iterN(b-this.first,p-b,X):this.iterN(this.first,this.first+this.size,b)},insert:function(b,
p){for(var X=0,S=0;S<p.length;++S)X+=p[S].height;this.insertInner(b-this.first,p,X)},remove:function(b,p){this.removeInner(b-this.first,p)},getValue:function(b){var p=ra(this,this.first,this.first+this.size);return!1===b?p:p.join(b||this.lineSeparator())},setValue:nd(function(b){var p=$a(this.first,0),X=this.first+this.size-1;gb(this,{from:p,to:$a(X,ba(this,X).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&uf(this.cm,0,0);Wa(this,Na(p),mg)}),replaceRange:function(b,p,
X,S){p=jb(this,p);X=X?jb(this,X):p;Qc(this,b,p,X,S)},getRange:function(b,p,X){b=ca(this,jb(this,b),jb(this,p));return!1===X?b:b.join(X||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(Ra(this,b))return ba(this,b)},getLineNumber:function(b){return Da(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=ba(this,b));return Eb(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(b){return jb(this,b)},getCursor:function(b){var p=this.sel.primary();return null==b||"head"==b?p.head:"anchor"==b?p.anchor:"end"==b||"to"==b||!1===b?p.to():p.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:nd(function(b,p,X){b=jb(this,"number"==typeof b?$a(b,p||0):b);Wa(this,Na(b,null),X)}),setSelection:nd(function(b,p,X){var S=jb(this,b);b=jb(this,p||b);Wa(this,Na(S,b),X)}),extendSelection:nd(function(b,
p,X){be(this,jb(this,b),p&&jb(this,p),X)}),extendSelections:nd(function(b,p){pd(this,Fb(this,b),p)}),extendSelectionsBy:nd(function(b,p){b=B(this.sel.ranges,b);pd(this,Fb(this,b),p)}),setSelections:nd(function(b,p,X){if(b.length){for(var S=[],ea=0;ea<b.length;ea++)S[ea]=new Jf(jb(this,b[ea].anchor),jb(this,b[ea].head));null==p&&(p=Math.min(b.length-1,this.sel.primIndex));Wa(this,za(this.cm,S,p),X)}}),addSelection:nd(function(b,p,X){var S=this.sel.ranges.slice(0);S.push(new Jf(jb(this,b),jb(this,p||
b)));Wa(this,za(this.cm,S,S.length-1),X)}),getSelection:function(b){for(var p=this.sel.ranges,X,S=0;S<p.length;S++){var ea=ca(this,p[S].from(),p[S].to());X=X?X.concat(ea):ea}return!1===b?X:X.join(b||this.lineSeparator())},getSelections:function(b){for(var p=[],X=this.sel.ranges,S=0;S<X.length;S++){var ea=ca(this,X[S].from(),X[S].to());!1!==b&&(ea=ea.join(b||this.lineSeparator()));p[S]=ea}return p},replaceSelection:function(b,p,X){for(var S=[],ea=0;ea<this.sel.ranges.length;ea++)S[ea]=b;this.replaceSelections(S,
p,X||"+input")},replaceSelections:nd(function(b,p,X){for(var S=[],ea=this.sel,La=0;La<ea.ranges.length;La++){var Xa=ea.ranges[La];S[La]={from:Xa.from(),to:Xa.to(),text:this.splitLines(b[La]),origin:X}}if(b=p&&"end"!=p){b=[];ea=X=$a(this.first,0);for(La=0;La<S.length;La++){var ab=S[La];Xa=qb(ab.from,X,ea);var tb=qb(Sa(ab),X,ea);X=ab.to;ea=tb;"around"==p?(ab=this.sel.ranges[La],ab=0>Fa(ab.head,ab.anchor),b[La]=new Jf(ab?tb:Xa,ab?Xa:tb)):b[La]=new Jf(Xa,Xa)}b=new Hg(b,this.sel.primIndex)}p=b;for(b=S.length-
1;0<=b;b--)gb(this,S[b]);p?af(this,p):this.cm&&We(this.cm)}),undo:nd(function(){sb(this,"undo")}),redo:nd(function(){sb(this,"redo")}),undoSelection:nd(function(){sb(this,"undo",!0)}),redoSelection:nd(function(){sb(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,p=0,X=0,S=0;S<b.done.length;S++)b.done[S].ranges||++p;for(S=0;S<b.undone.length;S++)b.undone[S].ranges||++X;return{undo:p,redo:X}},clearHistory:function(){var b=
this;this.history=new Oa(this.history.maxGeneration);cc(this,function(p){return p.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Zc(this.history.done),undone:Zc(this.history.undone)}},setHistory:function(b){var p=
this.history=new Oa(this.history.maxGeneration);p.done=Zc(b.done.slice(0),null,!0);p.undone=Zc(b.undone.slice(0),null,!0)},setGutterMarker:nd(function(b,p,X){return bd(this,b,"gutter",function(S){var ea=S.gutterMarkers||(S.gutterMarkers={});ea[p]=X;!X&&G(ea)&&(S.gutterMarkers=null);return!0})}),clearGutter:nd(function(b){var p=this;this.iter(function(X){X.gutterMarkers&&X.gutterMarkers[b]&&bd(p,X,"gutter",function(){X.gutterMarkers[b]=null;G(X.gutterMarkers)&&(X.gutterMarkers=null);return!0})})}),
lineInfo:function(b){if("number"==typeof b){if(!Ra(this,b))return null;var p=b;b=ba(this,b);if(!b)return null}else if(p=Da(b),null==p)return null;return{line:p,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:nd(function(b,p,X){return bd(this,b,"gutter"==p?"gutter":"class",function(S){var ea="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass";if(S[ea]){if(k(X).test(S[ea]))return!1;
S[ea]+=" "+X}else S[ea]=X;return!0})}),removeLineClass:nd(function(b,p,X){return bd(this,b,"gutter"==p?"gutter":"class",function(S){var ea="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass",La=S[ea];if(La)if(null==X)S[ea]=null;else{var Xa=La.match(k(X));if(!Xa)return!1;var ab=Xa.index+Xa[0].length;S[ea]=La.slice(0,Xa.index)+(Xa.index&&ab!=La.length?" ":"")+La.slice(ab)||null}else return!1;return!0})}),addLineWidget:nd(function(b,p,X){return ee(this,b,p,X)}),removeLineWidget:function(b){b.clear()},
markText:function(b,p,X){return Sd(this,jb(this,b),jb(this,p),X,X&&X.type||"range")},setBookmark:function(b,p){p={replacedWith:p&&(null==p.nodeType?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};b=jb(this,b);return Sd(this,b,b,p,"bookmark")},findMarksAt:function(b){b=jb(this,b);var p=[],X=ba(this,b.line).markedSpans;if(X)for(var S=0;S<X.length;++S){var ea=X[S];(null==ea.from||ea.from<=b.ch)&&(null==ea.to||ea.to>=b.ch)&&p.push(ea.marker.parent||
ea.marker)}return p},findMarks:function(b,p,X){b=jb(this,b);p=jb(this,p);var S=[],ea=b.line;this.iter(b.line,p.line+1,function(La){if(La=La.markedSpans)for(var Xa=0;Xa<La.length;Xa++){var ab=La[Xa];null!=ab.to&&ea==b.line&&b.ch>=ab.to||null==ab.from&&ea!=b.line||null!=ab.from&&ea==p.line&&ab.from>=p.ch||X&&!X(ab.marker)||S.push(ab.marker.parent||ab.marker)}++ea});return S},getAllMarks:function(){var b=[];this.iter(function(p){if(p=p.markedSpans)for(var X=0;X<p.length;++X)null!=p[X].from&&b.push(p[X].marker)});
return b},posFromIndex:function(b){var p,X=this.first,S=this.lineSeparator().length;this.iter(function(ea){ea=ea.text.length+S;if(ea>b)return p=b,!0;b-=ea;++X});return jb(this,$a(X,p))},indexFromPos:function(b){b=jb(this,b);var p=b.ch;if(b.line<this.first||0>b.ch)return 0;var X=this.lineSeparator().length;this.iter(this.first,b.line,function(S){p+=S.text.length+X});return p},copy:function(b){var p=new Gg(ra(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
p.scrollTop=this.scrollTop;p.scrollLeft=this.scrollLeft;p.sel=this.sel;p.extend=!1;b&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory()));return p},linkedDoc:function(b){b||(b={});var p=this.first,X=this.first+this.size;null!=b.from&&b.from>p&&(p=b.from);null!=b.to&&b.to<X&&(X=b.to);p=new Gg(ra(this,p,X),b.mode||this.modeOption,p,this.lineSep,this.direction);b.sharedHist&&(p.history=this.history);(this.linked||(this.linked=[])).push({doc:p,sharedHist:b.sharedHist});p.linked=
[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=re(this);for(X=0;X<b.length;X++){var S=b[X],ea=S.find(),La=p.clipPos(ea.from);ea=p.clipPos(ea.to);Fa(La,ea)&&(La=Sd(p,La,ea,S.primary,S.primary.type),S.markers.push(La),La.parent=S)}return p},unlinkDoc:function(b){b instanceof og&&(b=b.doc);if(this.linked)for(var p=0;p<this.linked.length;++p)if(this.linked[p].doc==b){this.linked.splice(p,1);b.unlinkDoc(this);Pf(re(this));break}if(b.history==this.history){var X=[b.id];cc(b,function(S){return X.push(S.id)},
!0);b.history=new Oa(null);b.history.done=Zc(this.history.done,X);b.history.undone=Zc(this.history.undone,X)}},iterLinkedDocs:function(b){cc(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?b.split(this.lineSep):Ih(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:nd(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(p){return p.order=null}),this.cm&&oa(this.cm))})});
Gg.prototype.eachLine=Gg.prototype.iter;for(var gj=0,rk=!1,Oh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zi=0;10>Zi;Zi++)Oh[Zi+48]=Oh[Zi+96]=String(Zi);for(var vi=65;90>=vi;vi++)Oh[vi]=String.fromCharCode(vi);for(var $i=1;12>=$i;$i++)Oh[$i+111]=Oh[$i+63235]="F"+$i;var Mi={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp",
"Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter",
"Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Mi["default"]=dh?Mi.macDefault:Mi.pcDefault;var aj={selectAll:ma,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),
b.getCursor("head"),mg)},killLine:function(b){return Xg(b,function(p){if(p.empty()){var X=ba(b.doc,p.head.line).text.length;return p.head.ch==X&&p.head.line<b.lastLine()?{from:p.head,to:$a(p.head.line+1,0)}:{from:p.head,to:$a(p.head.line,X)}}return{from:p.from(),to:p.to()}})},deleteLine:function(b){return Xg(b,function(p){return{from:$a(p.from().line,0),to:jb(b.doc,$a(p.to().line+1,0))}})},delLineLeft:function(b){return Xg(b,function(p){return{from:$a(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(b){return Xg(b,
function(p){var X=b.charCoords(p.head,"div").top+5;return{from:b.coordsChar({left:0,top:X},"div"),to:p.from()}})},delWrappedLineRight:function(b){return Xg(b,function(p){var X=b.charCoords(p.head,"div").top+5;X=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:X},"div");return{from:p.from(),to:X}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection($a(b.firstLine(),
0))},goDocEnd:function(b){return b.extendSelection($a(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(p){return nk(b,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(p){return Pj(b,p.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(p){p=p.head.line;var X=ba(b.doc,p);var S=X;for(var ea;ea=Pb(S,!1);)S=ea.find(1,!0).line;S!=X&&(p=Da(S));return Ti(!0,b,X,p,-1)},{origin:"+move",
bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:p},"div")},ei)},goLineLeft:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:0,top:p},"div")},ei)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(p){var X=b.cursorCoords(p.head,"div").top+5;X=b.coordsChar({left:0,top:X},"div");return X.ch<b.getLine(X.line).search(/\S/)?
Pj(b,p.head):X},ei)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,
"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},
indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var p=[],X=b.listSelections(),S=b.options.tabSize,ea=0;ea<X.length;ea++){var La=X[ea].from();La=f(b.getLine(La.line),La.ch,S);p.push(n(S-La%S))}b.replaceSelections(p)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return oc(b,
function(){for(var p=b.listSelections(),X=[],S=0;S<p.length;S++)if(p[S].empty()){var ea=p[S].head,La=ba(b.doc,ea.line).text;if(La)if(ea.ch==La.length&&(ea=new $a(ea.line,ea.ch-1)),0<ea.ch)ea=new $a(ea.line,ea.ch+1),b.replaceRange(La.charAt(ea.ch-1)+La.charAt(ea.ch-2),$a(ea.line,ea.ch-2),ea,"+transpose");else if(ea.line>b.doc.first){var Xa=ba(b.doc,ea.line-1).text;Xa&&(ea=new $a(ea.line,1),b.replaceRange(La.charAt(0)+b.doc.lineSeparator()+Xa.charAt(Xa.length-1),$a(ea.line-1,Xa.length-1),ea,"+transpose"))}X.push(new Jf(ea,
ea))}b.setSelections(X)})},newlineAndIndent:function(b){return oc(b,function(){for(var p=b.listSelections(),X=p.length-1;0<=X;X--)b.replaceRange(b.doc.lineSeparator(),p[X].anchor,p[X].head,"+input");p=b.listSelections();for(X=0;X<p.length;X++)b.indentLine(p[X].from().line,null,!0);We(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},Ak=new pf,sk=null,ij=function(b,p,X){this.time=b;this.pos=p;this.button=X};ij.prototype.compare=
function(b,p,X){return this.time+400>b&&0==Fa(p,this.pos)&&X==this.button};var bj,uj,Ki={toString:function(){return"CodeMirror.Init"}},Uk={},fj={};og.defaults=Uk;og.optionHandlers=fj;var vj=[];og.defineInitHook=function(b){return vj.push(b)};var Qg=null,eg=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new pf;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};eg.prototype.init=function(b){function p(ab){for(ab=
ab.target;ab;ab=ab.parentNode){if(ab==Xa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ab.className))break}return!1}function X(ab){if(p(ab)&&!P(La,ab)){if(La.somethingSelected())Qg={lineWise:!1,text:La.getSelections()},"cut"==ab.type&&La.replaceSelection("",null,"cut");else if(La.options.lineWiseCopyCut){var tb=Ei(La);Qg={lineWise:!0,text:tb.text};"cut"==ab.type&&La.operation(function(){La.setSelections(tb.ranges,0,mg);La.replaceSelection("",null,"cut")})}else return;if(ab.clipboardData){ab.clipboardData.clearData();
var Ib=Qg.text.join("\n");ab.clipboardData.setData("Text",Ib);if(ab.clipboardData.getData("Text")==Ib){ab.preventDefault();return}}var dc=Sh();ab=dc.firstChild;La.display.lineSpace.insertBefore(dc,La.display.lineSpace.firstChild);ab.value=Qg.text.join("\n");var Rc=document.activeElement;di(ab);setTimeout(function(){La.display.lineSpace.removeChild(dc);Rc.focus();Rc==Xa&&ea.showPrimarySelection()},50)}}var S=this,ea=this,La=ea.cm,Xa=ea.div=b.lineDiv;vh(Xa,La.options.spellcheck,La.options.autocorrect,
La.options.autocapitalize);Te(Xa,"paste",function(ab){!p(ab)||P(La,ab)||lg(ab,La)||11>=Ff&&setTimeout(fd(La,function(){return S.updateFromDOM()}),20)});Te(Xa,"compositionstart",function(ab){S.composing={data:ab.data,done:!1}});Te(Xa,"compositionupdate",function(ab){S.composing||(S.composing={data:ab.data,done:!1})});Te(Xa,"compositionend",function(ab){S.composing&&(ab.data!=S.composing.data&&S.readFromDOMSoon(),S.composing.done=!0)});Te(Xa,"touchstart",function(){return ea.forceCompositionEnd()});
Te(Xa,"input",function(){S.composing||S.readFromDOMSoon()});Te(Xa,"copy",X);Te(Xa,"cut",X)};eg.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};eg.prototype.prepareSelection=function(){var b=Yb(this.cm,!1);b.focus=document.activeElement==this.div;return b};eg.prototype.showSelection=function(b,p){b&&this.cm.display.view.length&&((b.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(b))};eg.prototype.getSelection=
function(){return this.cm.display.wrapper.ownerDocument.getSelection()};eg.prototype.showPrimarySelection=function(){var b=this.getSelection(),p=this.cm,X=p.doc.sel.primary(),S=X.from();X=X.to();if(p.display.viewTo==p.display.viewFrom||S.line>=p.display.viewTo||X.line<p.display.viewFrom)b.removeAllRanges();else{var ea=Th(p,b.anchorNode,b.anchorOffset),La=Th(p,b.focusNode,b.focusOffset);if(!ea||ea.bad||!La||La.bad||0!=Fa(Ua(ea,La),S)||0!=Fa(Ja(ea,La),X))if(ea=p.display.view,S=S.line>=p.display.viewFrom&&
Xj(p,S)||{node:ea[0].measure.map[2],offset:0},X=X.line<p.display.viewTo&&Xj(p,X),X||(X=ea[ea.length-1].measure,X=X.maps?X.maps[X.maps.length-1]:X.map,X={node:X[X.length-1],offset:X[X.length-2]-X[X.length-3]}),S&&X){ea=b.rangeCount&&b.getRangeAt(0);try{var Xa=Hi(S.node,S.offset,X.offset,X.node)}catch(ab){}Xa&&(!Eg&&p.state.focused?(b.collapse(S.node,S.offset),Xa.collapsed||(b.removeAllRanges(),b.addRange(Xa))):(b.removeAllRanges(),b.addRange(Xa)),ea&&null==b.anchorNode?b.addRange(ea):Eg&&this.startGracePeriod());
this.rememberSelection()}else b.removeAllRanges()}};eg.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};eg.prototype.showMultipleSelections=function(b){w(this.cm.display.cursorDiv,b.cursors);w(this.cm.display.selectionDiv,b.selection)};eg.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=
b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};eg.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return x(this.div,b)};eg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};eg.prototype.blur=function(){this.div.blur()};
eg.prototype.getField=function(){return this.div};eg.prototype.supportsTouch=function(){return!0};eg.prototype.receivedFocus=function(){function b(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,b))}var p=this;this.selectionInEditor()?this.pollSelection():oc(this.cm,function(){return p.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};eg.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||
b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};eg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),p=this.cm;if(ug&&Gh&&this.cm.display.gutterSpecs.length&&Wj(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var X=Th(p,b.anchorNode,b.anchorOffset),
S=Th(p,b.focusNode,b.focusOffset);X&&S&&oc(p,function(){Wa(p.doc,Na(X,S),mg);if(X.bad||S.bad)p.curOp.selectionChanged=!0})}}};eg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,p=b.display,X=b.doc.sel.primary(),S=X.from(),ea=X.to();0==S.ch&&S.line>b.firstLine()&&(S=$a(S.line-1,ba(b.doc,S.line-1).length));ea.ch==ba(b.doc,ea.line).text.length&&ea.line<b.lastLine()&&(ea=$a(ea.line+1,0));if(S.line<p.viewFrom||ea.line>
p.viewTo-1)return!1;var La;S.line==p.viewFrom||0==(La=qe(b,S.line))?(X=Da(p.view[0].line),La=p.view[0].node):(X=Da(p.view[La].line),La=p.view[La-1].node.nextSibling);var Xa=qe(b,ea.line);Xa==p.view.length-1?(ea=p.viewTo-1,p=p.lineDiv.lastChild):(ea=Da(p.view[Xa+1].line)-1,p=p.view[Xa+1].node.previousSibling);if(!La)return!1;p=b.doc.splitLines(tj(b,La,p,X,ea));for(La=ca(b.doc,$a(X,0),$a(ea,ba(b.doc,ea).text.length));1<p.length&&1<La.length;)if(y(p)==y(La))p.pop(),La.pop(),ea--;else if(p[0]==La[0])p.shift(),
La.shift(),X++;else break;var ab=0;Xa=0;for(var tb=p[0],Ib=La[0],dc=Math.min(tb.length,Ib.length);ab<dc&&tb.charCodeAt(ab)==Ib.charCodeAt(ab);)++ab;tb=y(p);Ib=y(La);for(dc=Math.min(tb.length-(1==p.length?ab:0),Ib.length-(1==La.length?ab:0));Xa<dc&&tb.charCodeAt(tb.length-Xa-1)==Ib.charCodeAt(Ib.length-Xa-1);)++Xa;if(1==p.length&&1==La.length&&X==S.line)for(;ab&&ab>S.ch&&tb.charCodeAt(tb.length-Xa-1)==Ib.charCodeAt(Ib.length-Xa-1);)ab--,Xa++;p[p.length-1]=tb.slice(0,tb.length-Xa).replace(/^\u200b+/,
"");p[0]=p[0].slice(ab).replace(/\u200b+$/,"");S=$a(X,ab);X=$a(ea,La.length?y(La).length-Xa:0);if(1<p.length||p[0]||Fa(S,X))return Qc(b.doc,p,S,X,"+input"),!0};eg.prototype.ensurePolled=function(){this.forceCompositionEnd()};eg.prototype.reset=function(){this.forceCompositionEnd()};eg.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};eg.prototype.readFromDOMSoon=function(){var b=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};eg.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||oc(this.cm,function(){return yc(b.cm)})};eg.prototype.setUneditable=function(b){b.contentEditable="false"};eg.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||fd(this.cm,Gi)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};eg.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};eg.prototype.onContextMenu=function(){};eg.prototype.resetPosition=function(){};eg.prototype.needsContentAttribute=!0;var xg=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new pf;this.hasSelection=!1;this.composing=null};xg.prototype.init=function(b){function p(Xa){if(!P(ea,Xa)){if(ea.somethingSelected())Qg={lineWise:!1,
text:ea.getSelections()};else if(ea.options.lineWiseCopyCut){var ab=Ei(ea);Qg={lineWise:!0,text:ab.text};"cut"==Xa.type?ea.setSelections(ab.ranges,null,mg):(S.prevInput="",La.value=ab.text.join("\n"),di(La))}else return;"cut"==Xa.type&&(ea.state.cutIncoming=+new Date)}}var X=this,S=this,ea=this.cm;this.createField(b);var La=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);mi&&(La.style.width="0px");Te(La,"input",function(){wf&&9<=Ff&&X.hasSelection&&(X.hasSelection=null);S.poll()});
Te(La,"paste",function(Xa){P(ea,Xa)||lg(Xa,ea)||(ea.state.pasteIncoming=+new Date,S.fastPoll())});Te(La,"cut",p);Te(La,"copy",p);Te(b.scroller,"paste",function(Xa){if(!Dd(b,Xa)&&!P(ea,Xa))if(La.dispatchEvent){var ab=new Event("paste");ab.clipboardData=Xa.clipboardData;La.dispatchEvent(ab)}else ea.state.pasteIncoming=+new Date,S.focus()});Te(b.lineSpace,"selectstart",function(Xa){Dd(b,Xa)||aa(Xa)});Te(La,"compositionstart",function(){var Xa=ea.getCursor("from");S.composing&&S.composing.range.clear();
S.composing={start:Xa,range:ea.markText(Xa,ea.getCursor("to"),{className:"CodeMirror-composing"})}});Te(La,"compositionend",function(){S.composing&&(S.poll(),S.composing.range.clear(),S.composing=null)})};xg.prototype.createField=function(b){this.wrapper=Sh();this.textarea=this.wrapper.firstChild};xg.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};xg.prototype.prepareSelection=function(){var b=this.cm,p=b.display,
X=b.doc,S=Yb(b);if(b.options.moveInputWithCursor){b=Be(b,X.sel.primary().head,"div");X=p.wrapper.getBoundingClientRect();var ea=p.lineDiv.getBoundingClientRect();S.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,b.top+ea.top-X.top));S.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,b.left+ea.left-X.left))}return S};xg.prototype.showSelection=function(b){var p=this.cm.display;w(p.cursorDiv,b.cursors);w(p.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=
b.teLeft+"px")};xg.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var p=this.cm;p.somethingSelected()?(this.prevInput="",b=p.getSelection(),this.textarea.value=b,p.state.focused&&di(this.textarea),wf&&9<=Ff&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",wf&&9<=Ff&&(this.hasSelection=null))}};xg.prototype.getField=function(){return this.textarea};xg.prototype.supportsTouch=function(){return!1};xg.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&
(!ri||v()!=this.textarea))try{this.textarea.focus()}catch(b){}};xg.prototype.blur=function(){this.textarea.blur()};xg.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};xg.prototype.receivedFocus=function(){this.slowPoll()};xg.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};xg.prototype.fastPoll=function(){function b(){X.poll()||p?(X.pollingFast=!1,X.slowPoll()):
(p=!0,X.polling.set(60,b))}var p=!1,X=this;X.pollingFast=!0;X.polling.set(20,b)};xg.prototype.poll=function(){var b=this,p=this.cm,X=this.textarea,S=this.prevInput;if(this.contextMenuPending||!p.state.focused||Xh(X)&&!S&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var ea=X.value;if(ea==S&&!p.somethingSelected())return!1;if(wf&&9<=Ff&&this.hasSelection===ea||dh&&/[\uf700-\uf7ff]/.test(ea))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var La=
ea.charCodeAt(0);8203!=La||S||(S="");if(8666==La)return this.reset(),this.cm.execCommand("undo")}var Xa=0;for(La=Math.min(S.length,ea.length);Xa<La&&S.charCodeAt(Xa)==ea.charCodeAt(Xa);)++Xa;oc(p,function(){Gi(p,ea.slice(Xa),S.length-Xa,null,b.composing?"*compose":null);1E3<ea.length||-1<ea.indexOf("\n")?X.value=b.prevInput="":b.prevInput=ea;b.composing&&(b.composing.range.clear(),b.composing.range=p.markText(b.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};xg.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};xg.prototype.onKeyPress=function(){wf&&9<=Ff&&(this.hasSelection=null);this.fastPoll()};xg.prototype.onContextMenu=function(b){function p(){if(null!=Xa.selectionStart){var wc=ea.somethingSelected(),td=""+(wc?Xa.value:"");Xa.value="";Xa.value=td;S.prevInput=wc?"":"";Xa.selectionStart=1;Xa.selectionEnd=td.length;La.selForContextMenu=ea.doc.sel}}function X(){if(S.contextMenuPending==X&&(S.contextMenuPending=!1,S.wrapper.style.cssText=
dc,Xa.style.cssText=Ib,wf&&9>Ff&&La.scrollbars.setScrollTop(La.scroller.scrollTop=tb),null!=Xa.selectionStart)){(!wf||wf&&9>Ff)&&p();var wc=0,td=function(){La.selForContextMenu==ea.doc.sel&&0==Xa.selectionStart&&0<Xa.selectionEnd&&""==S.prevInput?fd(ea,ma)(ea):10>wc++?La.detectingSelectAll=setTimeout(td,500):(La.selForContextMenu=null,La.input.reset())};La.detectingSelectAll=setTimeout(td,200)}}var S=this,ea=S.cm,La=ea.display,Xa=S.textarea;S.contextMenuPending&&S.contextMenuPending();var ab=Bf(ea,
b),tb=La.scroller.scrollTop;if(ab&&!Jg){ea.options.resetSelectionOnContextMenu&&-1==ea.doc.sel.contains(ab)&&fd(ea,Wa)(ea.doc,Na(ab),mg);var Ib=Xa.style.cssText,dc=S.wrapper.style.cssText;ab=S.wrapper.offsetParent.getBoundingClientRect();S.wrapper.style.cssText="position: static";Xa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-ab.top-5)+"px; left: "+(b.clientX-ab.left-5)+"px;\n      z-index: 1000; background: "+(wf?"rgba(255, 255, 255, .05)":"transparent")+
";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Ag)var Rc=window.scrollY;La.input.focus();Ag&&window.scrollTo(null,Rc);La.input.reset();ea.somethingSelected()||(Xa.value=S.prevInput=" ");S.contextMenuPending=X;La.selForContextMenu=ea.doc.sel;clearTimeout(La.detectingSelectAll);wf&&9<=Ff&&p();if(Vh){Ha(b);var vc=function(){la(window,"mouseup",vc);setTimeout(X,20)};Te(window,"mouseup",vc)}else setTimeout(X,50)}};xg.prototype.readOnlyChanged=
function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};xg.prototype.setUneditable=function(){};xg.prototype.needsContentAttribute=!1;(function(b){function p(S,ea,La,Xa){b.defaults[S]=ea;La&&(X[S]=Xa?function(ab,tb,Ib){Ib!=Ki&&La(ab,tb,Ib)}:La)}var X=b.optionHandlers;b.defineOption=p;b.Init=Ki;p("value","",function(S,ea){return S.setValue(ea)},!0);p("mode",null,function(S,ea){S.doc.modeOption=ea;Db(S)},!0);p("indentUnit",2,Db,!0);p("indentWithTabs",!1);p("smartIndent",
!0);p("tabSize",4,function(S){Ab(S);Nf(S);yc(S)},!0);p("lineSeparator",null,function(S,ea){if(S.doc.lineSep=ea){var La=[],Xa=S.doc.first;S.doc.iter(function(tb){for(var Ib=0;;){var dc=tb.text.indexOf(ea,Ib);if(-1==dc)break;Ib=dc+ea.length;La.push($a(Xa,dc))}Xa++});for(var ab=La.length-1;0<=ab;ab--)Qc(S.doc,ea,La[ab],$a(La[ab].line,La[ab].ch+ea.length))}});p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(S,ea,La){S.state.specialChars=
new RegExp(ea.source+(ea.test("\t")?"":"|\t"),"g");La!=Ki&&S.refresh()});p("specialCharPlaceholder",Lb,function(S){return S.refresh()},!0);p("electricChars",!0);p("inputStyle",ri?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);p("spellcheck",!1,function(S,ea){return S.getInputField().spellcheck=ea},!0);p("autocorrect",!1,function(S,ea){return S.getInputField().autocorrect=ea},!0);p("autocapitalize",!1,function(S,ea){return S.getInputField().autocapitalize=
ea},!0);p("rtlMoveVisually",!Vg);p("wholeLineUpdateBefore",!0);p("theme","default",function(S){Tk(S);Cf(S)},!0);p("keyMap","default",function(S,ea,La){ea=Vf(ea);(La=La!=Ki&&Vf(La))&&La.detach&&La.detach(S,ea);ea.attach&&ea.attach(S,La||null)});p("extraKeys",null);p("configureMouse",null);p("lineWrapping",!1,sj,!0);p("gutters",[],function(S,ea){S.display.gutterSpecs=ne(ea,S.options.lineNumbers);Cf(S)},!0);p("fixedGutter",!0,function(S,ea){S.display.gutters.style.left=ea?Yf(S.display)+"px":"0";S.refresh()},
!0);p("coverGutterNextToScrollbar",!1,function(S){return Pa(S)},!0);p("scrollbarStyle","native",function(S){Wb(S);Pa(S);S.display.scrollbars.setScrollTop(S.doc.scrollTop);S.display.scrollbars.setScrollLeft(S.doc.scrollLeft)},!0);p("lineNumbers",!1,function(S,ea){S.display.gutterSpecs=ne(S.options.gutters,ea);Cf(S)},!0);p("firstLineNumber",1,Cf,!0);p("lineNumberFormatter",function(S){return S},Cf,!0);p("showCursorWhenSelecting",!1,ub,!0);p("resetSelectionOnContextMenu",!0);p("lineWiseCopyCut",!0);
p("pasteLinesPerSelection",!0);p("selectionsMayTouch",!1);p("readOnly",!1,function(S,ea){"nocursor"==ea&&(jd(S),S.display.input.blur());S.display.input.readOnlyChanged(ea)});p("screenReaderLabel",null,function(S,ea){S.display.input.screenReaderLabelChanged(""===ea?null:ea)});p("disableInput",!1,function(S,ea){ea||S.display.input.reset()},!0);p("dragDrop",!0,rj);p("allowDropFileTypes",null);p("cursorBlinkRate",530);p("cursorScrollMargin",0);p("cursorHeight",1,ub,!0);p("singleCursorHeightPerLine",!0,
ub,!0);p("workTime",100);p("workDelay",100);p("flattenSpans",!0,Ab,!0);p("addModeClass",!1,Ab,!0);p("pollInterval",100);p("undoDepth",200,function(S,ea){return S.doc.history.undoDepth=ea});p("historyEventDelay",1250);p("viewportMargin",10,function(S){return S.refresh()},!0);p("maxHighlightLength",1E4,Ab,!0);p("moveInputWithCursor",!0,function(S,ea){ea||S.display.input.resetPosition()});p("tabindex",null,function(S,ea){return S.display.input.getField().tabIndex=ea||""});p("autofocus",null);p("direction",
"ltr",function(S,ea){return S.doc.setDirection(ea)},!0);p("phrases",null)})(og);(function(b){var p=b.optionHandlers,X=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(S,ea){var La=this.options,Xa=La[S];if(La[S]!=ea||"mode"==S)La[S]=ea,p.hasOwnProperty(S)&&fd(this,p[S])(this,ea,Xa),Z(this,"optionChange",this,S)},getOption:function(S){return this.options[S]},getDoc:function(){return this.doc},addKeyMap:function(S,ea){this.state.keyMaps[ea?
"push":"unshift"](Vf(S))},removeKeyMap:function(S){for(var ea=this.state.keyMaps,La=0;La<ea.length;++La)if(ea[La]==S||ea[La].name==S)return ea.splice(La,1),!0},addOverlay:Wc(function(S,ea){var La=S.token?S:b.getMode(this.options,S);if(La.startState)throw Error("Overlays may not be stateful.");D(this.state.overlays,{mode:La,modeSpec:S,opaque:ea&&ea.opaque,priority:ea&&ea.priority||0},function(Xa){return Xa.priority});this.state.modeGen++;yc(this)}),removeOverlay:Wc(function(S){for(var ea=this.state.overlays,
La=0;La<ea.length;++La){var Xa=ea[La].modeSpec;if(Xa==S||"string"==typeof S&&Xa.name==S){ea.splice(La,1);this.state.modeGen++;yc(this);break}}}),indentLine:Wc(function(S,ea,La){"string"!=typeof ea&&"number"!=typeof ea&&(ea=null==ea?this.options.smartIndent?"smart":"prev":ea?"add":"subtract");Ra(this.doc,S)&&oi(this,S,ea,La)}),indentSelection:Wc(function(S){for(var ea=this.doc.sel.ranges,La=-1,Xa=0;Xa<ea.length;Xa++){var ab=ea[Xa];if(ab.empty())ab.head.line>La&&(oi(this,ab.head.line,S,!0),La=ab.head.line,
Xa==this.doc.sel.primIndex&&We(this));else{var tb=ab.from();ab=ab.to();var Ib=Math.max(La,tb.line);La=Math.min(this.lastLine(),ab.line-(ab.ch?0:1))+1;for(ab=Ib;ab<La;++ab)oi(this,ab,S);ab=this.doc.sel.ranges;0==tb.ch&&ea.length==ab.length&&0<ab[Xa].from().ch&&Ad(this.doc,Xa,new Jf(tb,ab[Xa].to()),mg)}}}),getTokenAt:function(S,ea){return hc(this,S,ea)},getLineTokens:function(S,ea){return hc(this,$a(S),ea,!0)},getTokenTypeAt:function(S){S=jb(this.doc,S);var ea=nc(this,ba(this.doc,S.line)),La=0,Xa=(ea.length-
1)/2;S=S.ch;if(0==S)ea=ea[2];else for(;;){var ab=La+Xa>>1;if((ab?ea[2*ab-1]:0)>=S)Xa=ab;else if(ea[2*ab+1]<S)La=ab+1;else{ea=ea[2*ab+2];break}}La=ea?ea.indexOf("overlay "):-1;return 0>La?ea:0==La?null:ea.slice(0,La-1)},getModeAt:function(S){var ea=this.doc.mode;return ea.innerMode?b.innerMode(ea,this.getTokenAt(S).state).mode:ea},getHelper:function(S,ea){return this.getHelpers(S,ea)[0]},getHelpers:function(S,ea){var La=[];if(!X.hasOwnProperty(ea))return La;var Xa=X[ea];S=this.getModeAt(S);if("string"==
typeof S[ea])Xa[S[ea]]&&La.push(Xa[S[ea]]);else if(S[ea])for(var ab=0;ab<S[ea].length;ab++){var tb=Xa[S[ea][ab]];tb&&La.push(tb)}else S.helperType&&Xa[S.helperType]?La.push(Xa[S.helperType]):Xa[S.name]&&La.push(Xa[S.name]);for(ea=0;ea<Xa._global.length;ea++)ab=Xa._global[ea],ab.pred(S,this)&&-1==a(La,ab.val)&&La.push(ab.val);return La},getStateAfter:function(S,ea){var La=this.doc;S=Math.max(La.first,Math.min(null==S?La.first+La.size-1:S,La.first+La.size-1));return md(this,S+1,ea).state},cursorCoords:function(S,
ea){var La=this.doc.sel.primary();S=null==S?La.head:"object"==typeof S?jb(this.doc,S):S?La.from():La.to();return Be(this,S,ea||"page")},charCoords:function(S,ea){return Xd(this,jb(this.doc,S),ea||"page")},coordsChar:function(S,ea){S=Od(this,S,ea||"page");return Td(this,S.left,S.top)},lineAtHeight:function(S,ea){S=Od(this,{top:S,left:0},ea||"page").top;return na(this.doc,S+this.display.viewOffset)},heightAtLine:function(S,ea,La){var Xa=!1;if("number"==typeof S){var ab=this.doc.first+this.doc.size-
1;S<this.doc.first?S=this.doc.first:S>ab&&(S=ab,Xa=!0);S=ba(this.doc,S)}return we(this,S,{top:0,left:0},ea||"page",La||Xa).top+(Xa?this.doc.height-Ka(S):0)},defaultTextHeight:function(){return Fe(this.display)},defaultCharWidth:function(){return ue(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(S,ea,La,Xa,ab){var tb=this.display;S=Be(this,jb(this.doc,S));var Ib=S.bottom,dc=S.left;ea.style.position="absolute";ea.setAttribute("cm-ignore-events",
"true");this.display.input.setUneditable(ea);tb.sizer.appendChild(ea);if("over"==Xa)Ib=S.top;else if("above"==Xa||"near"==Xa){var Rc=Math.max(tb.wrapper.clientHeight,this.doc.height),vc=Math.max(tb.sizer.clientWidth,tb.lineSpace.clientWidth);("above"==Xa||S.bottom+ea.offsetHeight>Rc)&&S.top>ea.offsetHeight?Ib=S.top-ea.offsetHeight:S.bottom+ea.offsetHeight<=Rc&&(Ib=S.bottom);dc+ea.offsetWidth>vc&&(dc=vc-ea.offsetWidth)}ea.style.top=Ib+"px";ea.style.left=ea.style.right="";"right"==ab?(dc=tb.sizer.clientWidth-
ea.offsetWidth,ea.style.right="0px"):("left"==ab?dc=0:"middle"==ab&&(dc=(tb.sizer.clientWidth-ea.offsetWidth)/2),ea.style.left=dc+"px");La&&(S=tf(this,{left:dc,top:Ib,right:dc+ea.offsetWidth,bottom:Ib+ea.offsetHeight}),null!=S.scrollTop&&yf(this,S.scrollTop),null!=S.scrollLeft&&nf(this,S.scrollLeft))},triggerOnKeyDown:Wc(Jj),triggerOnKeyPress:Wc(yi),triggerOnKeyUp:qg,triggerOnMouseDown:Wc(Ai),execCommand:function(S){if(aj.hasOwnProperty(S))return aj[S].call(null,this)},triggerElectric:Wc(function(S){Dg(this,
S)}),findPosH:function(S,ea,La,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);S=jb(this.doc,S);for(var tb=0;tb<ea&&(S=Yj(this.doc,S,ab,La,Xa),!S.hitSide);++tb);return S},moveH:Wc(function(S,ea){var La=this;this.extendSelectionsBy(function(Xa){return La.display.shift||La.doc.extend||Xa.empty()?Yj(La.doc,Xa.head,S,ea,La.options.rtlMoveVisually):0>S?Xa.from():Xa.to()},ei)}),deleteH:Wc(function(S,ea){var La=this.doc;this.doc.sel.somethingSelected()?La.replaceSelection("",null,"+delete"):Xg(this,function(Xa){var ab=
Yj(La,Xa.head,S,ea,!1);return 0>S?{from:ab,to:Xa.head}:{from:Xa.head,to:ab}})}),findPosV:function(S,ea,La,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);var tb=jb(this.doc,S);for(S=0;S<ea&&(tb=Be(this,tb,"div"),null==Xa?Xa=tb.left:tb.left=Xa,tb=Vj(this,tb,ab,La),!tb.hitSide);++S);return tb},moveV:Wc(function(S,ea){var La=this,Xa=this.doc,ab=[],tb=!this.display.shift&&!Xa.extend&&Xa.sel.somethingSelected();Xa.extendSelectionsBy(function(dc){if(tb)return 0>S?dc.from():dc.to();var Rc=Be(La,dc.head,"div");null!=dc.goalColumn&&
(Rc.left=dc.goalColumn);ab.push(Rc.left);var vc=Vj(La,Rc,S,ea);"page"==ea&&dc==Xa.sel.primary()&&kd(La,Xd(La,vc,"div").top-Rc.top);return vc},ei);if(ab.length)for(var Ib=0;Ib<Xa.sel.ranges.length;Ib++)Xa.sel.ranges[Ib].goalColumn=ab[Ib]}),findWordAt:function(S){var ea=ba(this.doc,S.line).text,La=S.ch,Xa=S.ch;if(ea){var ab=this.getHelper(S,"wordChars");"before"!=S.sticky&&Xa!=ea.length||!La?++Xa:--La;var tb=ea.charAt(La);for(tb=z(tb,ab)?function(Ib){return z(Ib,ab)}:/\s/.test(tb)?function(Ib){return/\s/.test(Ib)}:
function(Ib){return!/\s/.test(Ib)&&!z(Ib)};0<La&&tb(ea.charAt(La-1));)--La;for(;Xa<ea.length&&tb(ea.charAt(Xa));)++Xa}return new Jf($a(S.line,La),$a(S.line,Xa))},toggleOverwrite:function(S){if(null==S||S!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?u(this.display.cursorDiv,"CodeMirror-overwrite"):Dh(this.display.cursorDiv,"CodeMirror-overwrite"),Z(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==v()},isReadOnly:function(){return!(!this.options.readOnly&&
!this.doc.cantEdit)},scrollTo:Wc(function(S,ea){uf(this,S,ea)}),getScrollInfo:function(){var S=this.display.scroller;return{left:S.scrollLeft,top:S.scrollTop,height:S.scrollHeight-oe(this)-this.display.barHeight,width:S.scrollWidth-oe(this)-this.display.barWidth,clientHeight:fe(this),clientWidth:De(this)}},scrollIntoView:Wc(function(S,ea){null==S?(S={from:this.doc.sel.primary().head,to:null},null==ea&&(ea=this.options.cursorScrollMargin)):"number"==typeof S?S={from:$a(S,0),to:null}:null==S.from&&
(S={from:S,to:null});S.to||(S.to=S.from);S.margin=ea||0;null!=S.from.line?(mf(this),this.curOp.scrollToPos=S):Zf(this,S.from,S.to,S.margin)}),setSize:Wc(function(S,ea){var La=this,Xa=function(tb){return"number"==typeof tb||/^\d+$/.test(String(tb))?tb+"px":tb};null!=S&&(this.display.wrapper.style.width=Xa(S));null!=ea&&(this.display.wrapper.style.height=Xa(ea));this.options.lineWrapping&&Ue(this);var ab=this.display.viewFrom;this.doc.iter(ab,this.display.viewTo,function(tb){if(tb.widgets)for(var Ib=
0;Ib<tb.widgets.length;Ib++)if(tb.widgets[Ib].noHScroll){xa(La,ab,"widget");break}++ab});this.curOp.forceUpdate=!0;Z(this,"refresh",this)}),operation:function(S){return oc(this,S)},startOperation:function(){return Tb(this)},endOperation:function(){return ic(this)},refresh:Wc(function(){var S=this.display.cachedTextHeight;yc(this);this.curOp.forceUpdate=!0;Nf(this);uf(this,this.doc.scrollLeft,this.doc.scrollTop);Ie(this.display);(null==S||.5<Math.abs(S-Fe(this.display))||this.options.lineWrapping)&&
Sf(this);Z(this,"refresh",this)}),swapDoc:Wc(function(S){var ea=this.doc;ea.cm=null;this.state.selectingText&&this.state.selectingText();xc(this,S);Nf(this);this.display.input.reset();uf(this,S.scrollLeft,S.scrollTop);this.curOp.forceScroll=!0;Bc(this,"swapDoc",this,ea);return ea}),phrase:function(S){var ea=this.options.phrases;return ea&&Object.prototype.hasOwnProperty.call(ea,S)?ea[S]:S},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ha(b);b.registerHelper=function(S,ea,La){X.hasOwnProperty(S)||(X[S]=b[S]={_global:[]});X[S][ea]=La};b.registerGlobalHelper=function(S,ea,La,Xa){b.registerHelper(S,ea,Xa);X[S]._global.push({pred:La,val:Xa})}})(og);var il="iter insert remove copy getEditor constructor".split(" "),hj;for(hj in Gg.prototype)Gg.prototype.hasOwnProperty(hj)&&0>a(il,hj)&&(og.prototype[hj]=function(b){return function(){return b.apply(this.doc,
arguments)}}(Gg.prototype[hj]));ha(Gg);og.inputStyles={textarea:xg,contenteditable:eg};og.defineMode=function(b){og.defaults.mode||"null"==b||(og.defaults.mode=b);va.apply(this,arguments)};og.defineMIME=function(b,p){ti[b]=p};og.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});og.defineMIME("text/plain","null");og.defineExtension=function(b,p){og.prototype[b]=p};og.defineDocExtension=function(b,p){Gg.prototype[b]=p};og.fromTextArea=function(b,p){function X(){b.value=
ab.getValue()}p=p?d(p):{};p.value=b.value;!p.tabindex&&b.tabIndex&&(p.tabindex=b.tabIndex);!p.placeholder&&b.placeholder&&(p.placeholder=b.placeholder);if(null==p.autofocus){var S=v();p.autofocus=S==b||null!=b.getAttribute("autofocus")&&S==document.body}if(b.form&&(Te(b.form,"submit",X),!p.leaveSubmitMethodAlone)){var ea=b.form;var La=ea.submit;try{var Xa=ea.submit=function(){X();ea.submit=La;ea.submit();ea.submit=Xa}}catch(tb){}}p.finishInit=function(tb){tb.save=X;tb.getTextArea=function(){return b};
tb.toTextArea=function(){tb.toTextArea=isNaN;X();b.parentNode.removeChild(tb.getWrapperElement());b.style.display="";b.form&&(la(b.form,"submit",X),p.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=La))}};b.style.display="none";var ab=og(function(tb){return b.parentNode.insertBefore(tb,b.nextSibling)},p);return ab};(function(b){b.off=la;b.on=Te;b.wheelEventPixels=jg;b.Doc=Gg;b.splitLines=Ih;b.countColumn=f;b.findColumn=e;b.isWordChar=F;b.Pass=mh;b.signal=Z;b.Line=Yh;b.changeEnd=
Sa;b.scrollbarModel=ej;b.Pos=$a;b.cmpPos=Fa;b.modes=Kh;b.mimeModes=ti;b.resolveMode=Ta;b.getMode=Ya;b.modeExtensions=jh;b.extendMode=Ca;b.copyState=ua;b.startState=W;b.innerMode=U;b.commands=aj;b.keyMap=Mi;b.keyName=Qf;b.isModifierKey=vf;b.lookupKey=$f;b.normalizeKeyMap=Xe;b.StringStream=kg;b.SharedTextMarker=pi;b.TextMarker=lh;b.LineWidget=Uh;b.e_preventDefault=aa;b.e_stopPropagation=ta;b.e_stop=Ha;b.addClass=u;b.contains=x;b.rmClass=Dh;b.keyNames=Oh})(og);og.version="5.59.2";return og})};
shadow$provide[68]=function(Ia,A,rb,E){(function(k){"object"===typeof E&&"object"===typeof rb?k(A(67)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){k.defineMode("clojure",function(l){function w(O,M){if(O.eatSpace()||O.eat(","))return["space",null];if(O.match(y))return[null,"number"];if(O.match(B))return[null,"string-2"];if(O.eat(/^"/))return(M.tokenize=H)(O,M);if(O.eat(/^[(\[{]/))return["open","bracket"];if(O.eat(/^[)\]}]/))return["close","bracket"];
if(O.eat(/^;/))return O.skipToEnd(),["space","comment"];if(O.eat(/^[#'@^`~]/))return[null,"meta"];var F=O.match(D);F=F&&F[0];return F?"comment"===F&&"("===M.lastToken?(M.tokenize=N)(O,M):v(F,d)||":"===F.charAt(0)?["symbol","atom"]:v(F,f)||v(F,a)?["symbol","keyword"]:"("===M.lastToken?["symbol","builtin"]:["symbol","variable"]:(O.next(),O.eatWhile(function(z){return!v(z,n)}),[null,"error"])}function H(O,M){for(var F=!1,z;z=O.next();){if('"'===z&&!F){M.tokenize=w;break}F=!F&&"\\"===z}return[null,"string"]}
function N(O,M){for(var F=1,z;z=O.next();)if(")"===z&&F--,"("===z&&F++,0===F){O.backUp(1);M.tokenize=w;break}return["space","comment"]}function x(O){for(var M={},F=0;F<O.length;++F)M[O[F]]=!0;return M}function v(O,M){if(M instanceof RegExp)return M.test(O);if(M instanceof Object)return M.propertyIsEnumerable(O)}var u=["false","nil","true"],m=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),g="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
k.registerHelper("hintWords","clojure",[].concat(u,m,g));var d=x(u),f=x(m),a=x(g),e=x("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
n=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,y=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,B=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,D=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:w}},token:function(O,M){O.sol()&&"number"!==typeof M.ctx.indentTo&&(M.ctx.indentTo=M.ctx.start+1);var F=M.tokenize(O,M),z=F[0];F=F[1];var G=O.current();"space"!==z&&("("===M.lastToken&&null===M.ctx.indentTo?"symbol"===z&&v(G,e)?M.ctx.indentTo=M.ctx.start+l.indentUnit:M.ctx.indentTo="next":"next"===M.ctx.indentTo&&(M.ctx.indentTo=O.column()),M.lastToken=G);"open"===z?M.ctx={prev:M.ctx,start:O.column(),indentTo:null}:
"close"===z&&(M.ctx=M.ctx.prev||M.ctx);return F},indent:function(O){var M=O.ctx.indentTo;return"number"===typeof M?M:O.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});k.defineMIME("text/x-clojure","clojure");k.defineMIME("text/x-clojurescript","clojure");k.defineMIME("application/edn","clojure")})};
shadow$provide[69]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(){function k(){this.disposed=!1}k.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};k.prototype.disposeInternal=function(){};return k}();E["default"]=Ia};
shadow$provide[70]=function(Ia,A,rb,E){function k(l,w){return l>w?1:l<w?-1:0}Object.defineProperty(E,"__esModule",{value:!0});E.binarySearch=function(l,w,H){for(var N,x=H||k,v=0,u=l.length,m=!1;v<u;)H=v+(u-v>>1),N=+x(l[H],w),0>N?v=H+1:(u=H,m=!N);return m?v:~v};E.numberSafeCompareFunction=k;E.includes=function(l,w){return 0<=l.indexOf(w)};E.linearFindNearest=function(l,w,H){var N=l.length;if(l[0]<=w)return 0;if(!(w<=l[N-1]))if(0<H)for(H=1;H<N;++H){if(l[H]<w)return H-1}else if(0>H)for(H=1;H<N;++H){if(l[H]<=
w)return H}else for(H=1;H<N;++H){if(l[H]==w)return H;if(l[H]<w)return l[H-1]-w<w-l[H]?H-1:H}return N-1};E.reverseSubArray=function(l,w,H){for(;w<H;){var N=l[w];l[w]=l[H];l[H]=N;++w;--H}};E.extend=function(l,w){w=Array.isArray(w)?w:[w];for(var H=w.length,N=0;N<H;N++)l[l.length]=w[N]};E.remove=function(l,w){w=l.indexOf(w);var H=-1<w;H&&l.splice(w,1);return H};E.find=function(l,w){for(var H=l.length>>>0,N,x=0;x<H;x++)if(N=l[x],w(N,x,l))return N;return null};E.equals=function(l,w){var H=l.length;if(H!==
w.length)return!1;for(var N=0;N<H;N++)if(l[N]!==w[N])return!1;return!0};E.stableSort=function(l,w){var H=l.length,N=Array(l.length),x;for(x=0;x<H;x++)N[x]={index:x,value:l[x]};N.sort(function(v,u){return w(v.value,u.value)||v.index-u.index});for(x=0;x<l.length;x++)l[x]=N[x].value};E.findIndex=function(l,w){var H;return l.every(function(N,x){H=x;return!w(N,x,l)})?-1:H};E.isSorted=function(l,w,H){var N=w||k;return l.every(function(x,v){if(0===v)return!0;x=N(l[v-1],x);return!(0<x||H&&0===x)})}};
shadow$provide[71]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.TRUE=function(){return!0};E.FALSE=function(){return!1};E.VOID=function(){};E.memoizeOne=function(l){var w=!1,H,N,x;return function(){var v=Array.prototype.slice.call(arguments);w&&this===x&&(0,k.equals)(v,N)||(w=!0,x=this,N=v,H=l.apply(this,arguments));return H}};var k=A(70)};
shadow$provide[72]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["abstract"]=function(){throw Error("Unimplemented abstract method.");};E.getUid=function(l){return l.ol_uid||(l.ol_uid=String(++k))};E.VERSION=void 0;var k=0;E.VERSION="6.5.0"};
shadow$provide[73]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(72),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):(x.prototype=N.prototype,new x)}}();Ia=function(w){function H(N){var x=
"Assertion failed. See https://openlayers.org/en/"+("latest"===k.VERSION?k.VERSION:"v"+k.VERSION.split("-")[0])+"/doc/errors/#"+N+" for details.";var v=w.call(this,x)||this;v.code=N;v.name="AssertionError";v.message=x;return v}l(H,w);return H}(Error);E["default"]=Ia};
shadow$provide[74]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.assert=function(l,w){if(!l)throw new k["default"](w);};var k=function(l){return l&&l.__esModule?l:{"default":l}}(A(73))};
shadow$provide[75]=function(Ia,A,rb,E){function k(){return[1,0,0,1,0,0]}function l(g,d){var f=g[0],a=g[1],e=g[2],n=g[3],y=g[4],B=g[5],D=d[0],O=d[1],M=d[2],F=d[3],z=d[4];d=d[5];g[0]=f*D+e*O;g[1]=a*D+n*O;g[2]=f*M+e*F;g[3]=a*M+n*F;g[4]=f*z+e*d+y;g[5]=a*z+n*d+B;return g}function w(g,d,f,a,e,n,y){g[0]=d;g[1]=f;g[2]=a;g[3]=e;g[4]=n;g[5]=y;return g}function H(g,d,f,a,e,n,y,B){var D=Math.sin(n);n=Math.cos(n);g[0]=a*n;g[1]=e*D;g[2]=-a*D;g[3]=e*n;g[4]=y*a*n-B*a*D+d;g[5]=y*e*D+B*e*n+f;return g}function N(g,
d){var f=x(d);(0,u.assert)(0!==f,32);var a=d[0],e=d[1],n=d[2],y=d[3],B=d[4];d=d[5];g[0]=y/f;g[1]=-e/f;g[2]=-n/f;g[3]=a/f;g[4]=(n*d-y*B)/f;g[5]=-(a*d-e*B)/f;return g}function x(g){return g[0]*g[3]-g[1]*g[2]}function v(g){return"matrix("+g.join(", ")+")"}Object.defineProperty(E,"__esModule",{value:!0});E.create=k;E.reset=function(g){return w(g,1,0,0,1,0,0)};E.multiply=l;E.set=w;E.setFromArray=function(g,d){g[0]=d[0];g[1]=d[1];g[2]=d[2];g[3]=d[3];g[4]=d[4];g[5]=d[5];return g};E.apply=function(g,d){var f=
d[0],a=d[1];d[0]=g[0]*f+g[2]*a+g[4];d[1]=g[1]*f+g[3]*a+g[5];return d};E.rotate=function(g,d){var f=Math.cos(d);d=Math.sin(d);return l(g,w(m,f,d,-d,f,0,0))};E.scale=function(g,d,f){return l(g,w(m,d,0,0,f,0,0))};E.makeScale=function(g,d,f){return w(g,d,0,0,f,0,0)};E.translate=function(g,d,f){return l(g,w(m,1,0,0,1,d,f))};E.compose=H;E.composeCssTransform=function(g,d,f,a,e,n,y){return v(H(k(),g,d,f,a,e,n,y))};E.invert=function(g){return N(g,g)};E.makeInverse=N;E.determinant=x;E.toString=v;var u=A(74),
m=Array(6)};
shadow$provide[76]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[77]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[78]=function(Ia,A,rb,E){function k(T){return T&&T.__esModule?T:{"default":T}}function l(T,ja,fa){return T[0]<=ja&&ja<=T[2]&&T[1]<=fa&&fa<=T[3]}function w(T,ja){var fa=T[1],ia=T[2],la=T[3],Z=ja[0];ja=ja[1];var P=K["default"].UNKNOWN;Z<T[0]?P|=K["default"].LEFT:Z>ia&&(P|=K["default"].RIGHT);ja<fa?P|=K["default"].BELOW:ja>la&&(P|=K["default"].ABOVE);P===K["default"].UNKNOWN&&(P=K["default"].INTERSECTING);return P}function H(){return[Infinity,Infinity,-Infinity,-Infinity]}function N(T,
ja,fa,ia,la){return la?(la[0]=T,la[1]=ja,la[2]=fa,la[3]=ia,la):[T,ja,fa,ia]}function x(T){return N(Infinity,Infinity,-Infinity,-Infinity,T)}function v(T,ja){ja[0]<T[0]&&(T[0]=ja[0]);ja[0]>T[2]&&(T[2]=ja[0]);ja[1]<T[1]&&(T[1]=ja[1]);ja[1]>T[3]&&(T[3]=ja[1])}function u(T,ja){for(var fa=0,ia=ja.length;fa<ia;++fa)v(T,ja[fa]);return T}function m(T,ja,fa,ia,la){for(;fa<ia;fa+=la)d(T,ja[fa],ja[fa+1]);return T}function g(T,ja){for(var fa=0,ia=ja.length;fa<ia;++fa)u(T,ja[fa]);return T}function d(T,ja,fa){T[0]=
Math.min(T[0],ja);T[1]=Math.min(T[1],fa);T[2]=Math.max(T[2],ja);T[3]=Math.max(T[3],fa)}function f(T){var ja=0;z(T)||(ja=M(T)*y(T));return ja}function a(T){return[T[0],T[1]]}function e(T){return[T[2],T[1]]}function n(T){return[(T[0]+T[2])/2,(T[1]+T[3])/2]}function y(T){return T[3]-T[1]}function B(T,ja,fa){fa=fa?fa:H();F(T,ja)?(fa[0]=T[0]>ja[0]?T[0]:ja[0],fa[1]=T[1]>ja[1]?T[1]:ja[1],fa[2]=T[2]<ja[2]?T[2]:ja[2],fa[3]=T[3]<ja[3]?T[3]:ja[3]):x(fa);return fa}function D(T){return[T[0],T[3]]}function O(T){return[T[2],
T[3]]}function M(T){return T[2]-T[0]}function F(T,ja){return T[0]<=ja[2]&&T[2]>=ja[0]&&T[1]<=ja[3]&&T[3]>=ja[1]}function z(T){return T[2]<T[0]||T[3]<T[1]}Object.defineProperty(E,"__esModule",{value:!0});E.boundingExtent=function(T){for(var ja=H(),fa=0,ia=T.length;fa<ia;++fa)v(ja,T[fa]);return ja};E.buffer=function(T,ja,fa){return fa?(fa[0]=T[0]-ja,fa[1]=T[1]-ja,fa[2]=T[2]+ja,fa[3]=T[3]+ja,fa):[T[0]-ja,T[1]-ja,T[2]+ja,T[3]+ja]};E.clone=function(T,ja){return ja?(ja[0]=T[0],ja[1]=T[1],ja[2]=T[2],ja[3]=
T[3],ja):T.slice()};E.closestSquaredDistanceXY=function(T,ja,fa){ja=ja<T[0]?T[0]-ja:T[2]<ja?ja-T[2]:0;T=fa<T[1]?T[1]-fa:T[3]<fa?fa-T[3]:0;return ja*ja+T*T};E.containsCoordinate=function(T,ja){return l(T,ja[0],ja[1])};E.containsExtent=function(T,ja){return T[0]<=ja[0]&&ja[2]<=T[2]&&T[1]<=ja[1]&&ja[3]<=T[3]};E.containsXY=l;E.coordinateRelationship=w;E.createEmpty=H;E.createOrUpdate=N;E.createOrUpdateEmpty=x;E.createOrUpdateFromCoordinate=function(T,ja){var fa=T[0];T=T[1];return N(fa,T,fa,T,ja)};E.createOrUpdateFromCoordinates=
function(T,ja){ja=x(ja);return u(ja,T)};E.createOrUpdateFromFlatCoordinates=function(T,ja,fa,ia,la){la=x(la);return m(la,T,ja,fa,ia)};E.createOrUpdateFromRings=function(T,ja){ja=x(ja);return g(ja,T)};E.equals=function(T,ja){return T[0]==ja[0]&&T[2]==ja[2]&&T[1]==ja[1]&&T[3]==ja[3]};E.approximatelyEquals=function(T,ja,fa){return Math.abs(T[0]-ja[0])<fa&&Math.abs(T[2]-ja[2])<fa&&Math.abs(T[1]-ja[1])<fa&&Math.abs(T[3]-ja[3])<fa};E.extend=function(T,ja){ja[0]<T[0]&&(T[0]=ja[0]);ja[2]>T[2]&&(T[2]=ja[2]);
ja[1]<T[1]&&(T[1]=ja[1]);ja[3]>T[3]&&(T[3]=ja[3]);return T};E.extendCoordinate=v;E.extendCoordinates=u;E.extendFlatCoordinates=m;E.extendRings=g;E.extendXY=d;E.forEachCorner=function(T,ja){var fa;return(fa=ja(a(T)))||(fa=ja(e(T)))||(fa=ja(O(T)))?fa:(fa=ja(D(T)))?fa:!1};E.getArea=f;E.getBottomLeft=a;E.getBottomRight=e;E.getCenter=n;E.getCorner=function(T,ja){var fa;ja===G["default"].BOTTOM_LEFT?fa=a(T):ja===G["default"].BOTTOM_RIGHT?fa=e(T):ja===G["default"].TOP_LEFT?fa=D(T):ja===G["default"].TOP_RIGHT?
fa=O(T):(0,R.assert)(!1,13);return fa};E.getEnlargedArea=function(T,ja){return(Math.max(T[2],ja[2])-Math.min(T[0],ja[0]))*(Math.max(T[3],ja[3])-Math.min(T[1],ja[1]))};E.getForViewAndSize=function(T,ja,fa,ia,la){var Z=ja*ia[0]/2;ia=ja*ia[1]/2;ja=Math.cos(fa);var P=Math.sin(fa);fa=Z*ja;Z*=P;ja*=ia;var C=ia*P,V=T[0],ha=T[1];T=V-fa+C;ia=V-fa-C;P=V+fa-C;fa=V+fa+C;C=ha-Z-ja;V=ha-Z+ja;var aa=ha+Z+ja;Z=ha+Z-ja;return N(Math.min(T,ia,P,fa),Math.min(C,V,aa,Z),Math.max(T,ia,P,fa),Math.max(C,V,aa,Z),la)};E.getHeight=
y;E.getIntersectionArea=function(T,ja){T=B(T,ja);return f(T)};E.getIntersection=B;E.getMargin=function(T){return M(T)+y(T)};E.getSize=function(T){return[T[2]-T[0],T[3]-T[1]]};E.getTopLeft=D;E.getTopRight=O;E.getWidth=M;E.intersects=F;E.isEmpty=z;E.returnOrUpdate=function(T,ja){return ja?(ja[0]=T[0],ja[1]=T[1],ja[2]=T[2],ja[3]=T[3],ja):T};E.scaleFromCenter=function(T,ja){var fa=(T[2]-T[0])/2*(ja-1);ja=(T[3]-T[1])/2*(ja-1);T[0]-=fa;T[2]+=fa;T[1]-=ja;T[3]+=ja};E.intersectsSegment=function(T,ja,fa){var ia=
!1,la=w(T,ja),Z=w(T,fa);if(la===K["default"].INTERSECTING||Z===K["default"].INTERSECTING)ia=!0;else{var P=T[0],C=T[1],V=T[2];T=T[3];var ha=fa[0];fa=fa[1];ja=(fa-ja[1])/(ha-ja[0]);Z&K["default"].ABOVE&&!(la&K["default"].ABOVE)&&(ia=ha-(fa-T)/ja,ia=ia>=P&&ia<=V);ia||!(Z&K["default"].RIGHT)||la&K["default"].RIGHT||(ia=fa-(ha-V)*ja,ia=ia>=C&&ia<=T);ia||!(Z&K["default"].BELOW)||la&K["default"].BELOW||(ia=ha-(fa-C)/ja,ia=ia>=P&&ia<=V);ia||!(Z&K["default"].LEFT)||la&K["default"].LEFT||(ia=fa-(ha-P)*ja,ia=
ia>=C&&ia<=T)}return ia};E.applyTransform=function(T,ja,fa,ia){var la=[];if(1<ia)for(var Z=T[2]-T[0],P=T[3]-T[1],C=0;C<ia;++C)la.push(T[0]+Z*C/ia,T[1],T[2],T[1]+P*C/ia,T[2]-Z*C/ia,T[3],T[0],T[3]-P*C/ia);else la=[T[0],T[1],T[2],T[1],T[2],T[3],T[0],T[3]];ja(la,la,2);ja=[];T=[];C=0;for(ia=la.length;C<ia;C+=2)ja.push(la[C]),T.push(la[C+1]);la=Math.min.apply(null,ja);C=Math.min.apply(null,T);ja=Math.max.apply(null,ja);T=Math.max.apply(null,T);return N(la,C,ja,T,fa)};E.wrapX=function(T,ja){var fa=ja.getExtent(),
ia=n(T);ja.canWrapX()&&(ia[0]<fa[0]||ia[0]>=fa[2])&&(ja=M(fa),fa=Math.floor((ia[0]-fa[0])/ja)*ja,T[0]-=fa,T[2]-=fa);return T};var G=k(A(76)),K=k(A(77)),R=A(74)};
shadow$provide[79]=function(Ia,A,rb,E){function k(l,w,H,N){l=H-l;w=N-w;return l*l+w*w}Object.defineProperty(E,"__esModule",{value:!0});E.clamp=function(l,w,H){return Math.min(Math.max(l,w),H)};E.squaredSegmentDistance=function(l,w,H,N,x,v){var u=x-H,m=v-N;if(0!==u||0!==m){var g=((l-H)*u+(w-N)*m)/(u*u+m*m);1<g?(H=x,N=v):0<g&&(H+=u*g,N+=m*g)}return k(l,w,H,N)};E.squaredDistance=k;E.solveLinearSystem=function(l){for(var w=l.length,H=0;H<w;H++){for(var N=H,x=Math.abs(l[H][H]),v=H+1;v<w;v++){var u=Math.abs(l[v][H]);
u>x&&(x=u,N=v)}if(0===x)return null;x=l[N];l[N]=l[H];l[H]=x;for(N=H+1;N<w;N++)for(x=-l[N][H]/l[H][H],v=H;v<w+1;v++)l[N][v]=H==v?0:l[N][v]+x*l[H][v]}H=Array(w);for(N=w-1;0<=N;N--)for(H[N]=l[N][w]/l[N][N],x=N-1;0<=x;x--)l[x][w]-=l[x][N]*H[N];return H};E.toDegrees=function(l){return 180*l/Math.PI};E.toRadians=function(l){return l*Math.PI/180};E.modulo=function(l,w){l%=w;return 0>l*w?l+w:l};E.lerp=function(l,w,H){return l+H*(w-l)};E.log2=E.cosh=void 0;Ia=function(){return"cosh"in Math?Math.cosh:function(l){l=
Math.exp(l);return(l+1/l)/2}}();E.cosh=Ia;Ia=function(){return"log2"in Math?Math.log2:function(l){return Math.log(l)*Math.LOG2E}}();E.log2=Ia};
shadow$provide[80]=function(Ia,A,rb,E){function k(m){var g=document.createElement("div");g.style.color=m;return""!==g.style.color?(document.body.appendChild(g),m=getComputedStyle(g).color,document.body.removeChild(g),m):""}function l(m){m[0]=(0,N.clamp)(m[0]+.5|0,0,255);m[1]=(0,N.clamp)(m[1]+.5|0,0,255);m[2]=(0,N.clamp)(m[2]+.5|0,0,255);m[3]=(0,N.clamp)(m[3],0,1);return m}function w(m){var g=m[0];g!=(g|0)&&(g=g+.5|0);var d=m[1];d!=(d|0)&&(d=d+.5|0);var f=m[2];f!=(f|0)&&(f=f+.5|0);return"rgba("+g+
","+d+","+f+","+(void 0===m[3]?1:m[3])+")"}Object.defineProperty(E,"__esModule",{value:!0});E.asString=function(m){return"string"===typeof m?m:w(m)};E.asArray=function(m){return Array.isArray(m)?m:u(m)};E.normalize=l;E.toString=w;E.isStringColor=function(m){v.test(m)&&(m=k(m));return x.test(m)||0===m.indexOf("rgba(")||0===m.indexOf("rgb(")};E.fromString=void 0;var H=A(74),N=A(79),x=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,v=/^([a-z]*)$|^hsla?\(.*\)$/i,u=function(){var m={},g=0;return function(d){if(m.hasOwnProperty(d))var f=
m[d];else{if(1024<=g){f=0;for(var a in m)0===(f++&3)&&(delete m[a],--g)}f=d;v.exec(f)&&(f=k(f));if(x.exec(f)){a=f.length-1;var e=4>=a?1:2;var n=4===a||8===a;a=parseInt(f.substr(1+0*e,e),16);var y=parseInt(f.substr(1+1*e,e),16);var B=parseInt(f.substr(1+2*e,e),16);f=n?parseInt(f.substr(1+3*e,e),16):255;1==e&&(a=(a<<4)+a,y=(y<<4)+y,B=(B<<4)+B,n&&(f=(f<<4)+f));e=[a,y,B,f/255]}else 0==f.indexOf("rgba(")?(e=f.slice(5,-1).split(",").map(Number),l(e)):0==f.indexOf("rgb(")?(e=f.slice(4,-1).split(",").map(Number),
e.push(1),l(e)):(0,H.assert)(!1,14);f=e;m[d]=f;++g}return f}}();E.fromString=u};
shadow$provide[81]=function(Ia,A,rb,E){function k(w,H,N){N=N?(0,l.asString)(N):"null";return H+":"+w+":"+N}Object.defineProperty(E,"__esModule",{value:!0});E.shared=E["default"]=void 0;var l=A(80);Ia=function(){function w(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}w.prototype.clear=function(){this.cache_={};this.cacheSize_=0};w.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};w.prototype.expire=function(){if(this.canExpireCache()){var H=0,N;for(N in this.cache_){var x=
this.cache_[N];0!==(H++&3)||x.hasListener()||(delete this.cache_[N],--this.cacheSize_)}}};w.prototype.get=function(H,N,x){H=k(H,N,x);return H in this.cache_?this.cache_[H]:null};w.prototype.set=function(H,N,x,v){H=k(H,N,x);this.cache_[H]=v;++this.cacheSize_};w.prototype.setSize=function(H){this.maxCacheSize_=H;this.expire()};return w}();E["default"]=Ia;Ia=new Ia;E.shared=Ia};
shadow$provide[82]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.stopPropagation=function(k){k.stopPropagation()};E.preventDefault=function(k){k.preventDefault()};E["default"]=void 0;Ia=function(){function k(l){this.type=l;this.target=null}k.prototype.preventDefault=function(){this.propagationStopped=!0};k.prototype.stopPropagation=function(){this.propagationStopped=!0};return k}();E["default"]=Ia};
shadow$provide[83]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PROPERTYCHANGE:"propertychange"}};
shadow$provide[84]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(k){for(var l in k)delete k[l]};E.isEmpty=function(k){for(var l in k)return!1;return!l};E.getValues=E.assign=void 0;E.assign="function"===typeof Object.assign?Object.assign:function(k,l){if(void 0===k||null===k)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(k),H=1,N=arguments.length;H<N;++H){var x=arguments[H];if(void 0!==x&&null!==x)for(var v in x)x.hasOwnProperty(v)&&
(w[v]=x[v])}return w};E.getValues="function"===typeof Object.values?Object.values:function(k){var l=[],w;for(w in k)l.push(k[w]);return l}};
shadow$provide[85]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(69));var l=k(A(82)),w=A(71),H=A(84),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=x.call(this)||this;m.eventTarget_=u;m.pendingRemovals_=null;m.dispatching_=null;m.listeners_=null;return m}N(v,x);v.prototype.addEventListener=function(u,m){if(u&&m){var g=this.listeners_||(this.listeners_={});u=g[u]||(g[u]=[]);-1===u.indexOf(m)&&u.push(m)}};v.prototype.dispatchEvent=function(u){var m="string"===typeof u?new l["default"](u):u;u=m.type;m.target||(m.target=this.eventTarget_||this);var g=this.listeners_&&
this.listeners_[u];if(g){var d=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});u in d||(d[u]=0,f[u]=0);++d[u];for(var a=0,e=g.length;a<e;++a){var n="handleEvent"in g[a]?g[a].handleEvent(m):g[a].call(this,m);if(!1===n||m.propagationStopped){n=!1;break}}--d[u];if(0===d[u]){m=f[u];for(delete f[u];m--;)this.removeEventListener(u,w.VOID);delete d[u]}return n}};v.prototype.disposeInternal=function(){this.listeners_&&(0,H.clear)(this.listeners_)};v.prototype.getListeners=
function(u){return this.listeners_&&this.listeners_[u]||void 0};v.prototype.hasListener=function(u){return this.listeners_?u?u in this.listeners_:0<Object.keys(this.listeners_).length:!1};v.prototype.removeEventListener=function(u,m){var g=this.listeners_&&this.listeners_[u];g&&(m=g.indexOf(m),-1!==m&&(this.pendingRemovals_&&u in this.pendingRemovals_?(g[m]=w.VOID,++this.pendingRemovals_[u]):(g.splice(m,1),0===g.length&&delete this.listeners_[u])))};return v}(Ia["default"]);E["default"]=A};
shadow$provide[86]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[87]=function(Ia,A,rb,E){function k(w,H,N,x,v){x&&x!==w&&(N=N.bind(x));if(v){var u=N;N=function(){w.removeEventListener(H,N);u.apply(this,arguments)}}x={target:w,type:H,listener:N};w.addEventListener(H,N);return x}Object.defineProperty(E,"__esModule",{value:!0});E.listen=k;E.listenOnce=function(w,H,N,x){return k(w,H,N,x,!0)};E.unlistenByKey=function(w){w&&w.target&&(w.target.removeEventListener(w.type,w.listener),(0,l.clear)(w))};var l=A(84)};
shadow$provide[88]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}function l(x){if(Array.isArray(x))for(var v=0,u=x.length;v<u;++v)(0,H.unlistenByKey)(x[v]);else(0,H.unlistenByKey)(x)}Object.defineProperty(E,"__esModule",{value:!0});E.unByKey=l;E["default"]=void 0;Ia=k(A(85));var w=k(A(86)),H=A(87),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,
d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(){var u=x.call(this)||this;u.revision_=0;return u}N(v,x);v.prototype.changed=function(){++this.revision_;this.dispatchEvent(w["default"].CHANGE)};v.prototype.getRevision=function(){return this.revision_};v.prototype.on=function(u,m){if(Array.isArray(u)){for(var g=u.length,d=Array(g),f=0;f<g;++f)d[f]=(0,H.listen)(this,
u[f],m);return d}return(0,H.listen)(this,u,m)};v.prototype.once=function(u,m){if(Array.isArray(u)){var g=u.length;var d=Array(g);for(var f=0;f<g;++f)d[f]=(0,H.listenOnce)(this,u[f],m)}else d=(0,H.listenOnce)(this,u,m);return m.ol_key=d};v.prototype.un=function(u,m){var g=m.ol_key;if(g)l(g);else if(Array.isArray(u)){g=0;for(var d=u.length;g<d;++g)this.removeEventListener(u[g],m)}else this.removeEventListener(u,m)};return v}(Ia["default"]);E["default"]=A};
shadow$provide[89]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m){return u.hasOwnProperty(m)?u[m]:u[m]="change:"+m}Object.defineProperty(E,"__esModule",{value:!0});E.getChangeEventType=l;E["default"]=E.ObjectEvent=void 0;Ia=k(A(82));var w=k(A(83));rb=k(A(88));var H=A(84),N=A(72),x=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),v=function(m){function g(d,f,a){d=m.call(this,d)||this;d.key=f;d.oldValue=a;return d}x(g,m);return g}(Ia["default"]);E.ObjectEvent=v;A=function(m){function g(d){var f=m.call(this)||this;(0,N.getUid)(f);f.values_=null;void 0!==d&&f.setProperties(d);return f}x(g,m);g.prototype.get=function(d){var f;this.values_&&this.values_.hasOwnProperty(d)&&
(f=this.values_[d]);return f};g.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};g.prototype.getProperties=function(){return this.values_&&(0,H.assign)({},this.values_)||{}};g.prototype.hasProperties=function(){return!!this.values_};g.prototype.notify=function(d,f){var a=l(d);this.dispatchEvent(new v(a,d,f));a=w["default"].PROPERTYCHANGE;this.dispatchEvent(new v(a,d,f))};g.prototype.set=function(d,f,a){var e=this.values_||(this.values_={});a?e[d]=f:(a=e[d],e[d]=f,a!==
f&&this.notify(d,a))};g.prototype.setProperties=function(d,f){for(var a in d)this.set(a,d[a],f)};g.prototype.applyProperties=function(d){d.values_&&(0,H.assign)(this.values_||(this.values_={}),d.values_)};g.prototype.unset=function(d,f){if(this.values_&&d in this.values_){var a=this.values_[d];delete this.values_[d];(0,H.isEmpty)(this.values_)&&(this.values_=null);f||this.notify(d,a)}};return g}(rb["default"]);var u={};E["default"]=A};
shadow$provide[90]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}};
shadow$provide[91]=function(Ia,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(89));var l=k(A(90)),w=A(72),H=A(74),N=A(84),x=A(79),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=
null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=u.call(this)||this,f=(0,N.assign)({},g);f[l["default"].OPACITY]=void 0!==g.opacity?g.opacity:1;(0,H.assert)("number"===typeof f[l["default"].OPACITY],64);f[l["default"].VISIBLE]=void 0!==g.visible?g.visible:!0;f[l["default"].Z_INDEX]=g.zIndex;f[l["default"].MAX_RESOLUTION]=void 0!==g.maxResolution?g.maxResolution:Infinity;f[l["default"].MIN_RESOLUTION]=void 0!==g.minResolution?g.minResolution:0;f[l["default"].MIN_ZOOM]=
void 0!==g.minZoom?g.minZoom:-Infinity;f[l["default"].MAX_ZOOM]=void 0!==g.maxZoom?g.maxZoom:Infinity;d.className_=void 0!==f.className?g.className:"ol-layer";delete f.className;d.setProperties(f);d.state_=null;return d}v(m,u);m.prototype.getClassName=function(){return this.className_};m.prototype.getLayerState=function(g){g=this.state_||{layer:this,managed:void 0===g?!0:g};var d=this.getZIndex();g.opacity=(0,x.clamp)(Math.round(100*this.getOpacity())/100,0,1);g.sourceState=this.getSourceState();
g.visible=this.getVisible();g.extent=this.getExtent();g.zIndex=void 0!==d?d:!1===g.managed?Infinity:0;g.maxResolution=this.getMaxResolution();g.minResolution=Math.max(this.getMinResolution(),0);g.minZoom=this.getMinZoom();g.maxZoom=this.getMaxZoom();return this.state_=g};m.prototype.getLayersArray=function(g){return(0,w["abstract"])()};m.prototype.getLayerStatesArray=function(g){return(0,w["abstract"])()};m.prototype.getExtent=function(){return this.get(l["default"].EXTENT)};m.prototype.getMaxResolution=
function(){return this.get(l["default"].MAX_RESOLUTION)};m.prototype.getMinResolution=function(){return this.get(l["default"].MIN_RESOLUTION)};m.prototype.getMinZoom=function(){return this.get(l["default"].MIN_ZOOM)};m.prototype.getMaxZoom=function(){return this.get(l["default"].MAX_ZOOM)};m.prototype.getOpacity=function(){return this.get(l["default"].OPACITY)};m.prototype.getSourceState=function(){return(0,w["abstract"])()};m.prototype.getVisible=function(){return this.get(l["default"].VISIBLE)};
m.prototype.getZIndex=function(){return this.get(l["default"].Z_INDEX)};m.prototype.setExtent=function(g){this.set(l["default"].EXTENT,g)};m.prototype.setMaxResolution=function(g){this.set(l["default"].MAX_RESOLUTION,g)};m.prototype.setMinResolution=function(g){this.set(l["default"].MIN_RESOLUTION,g)};m.prototype.setMaxZoom=function(g){this.set(l["default"].MAX_ZOOM,g)};m.prototype.setMinZoom=function(g){this.set(l["default"].MIN_ZOOM,g)};m.prototype.setOpacity=function(g){(0,H.assert)("number"===
typeof g,64);this.set(l["default"].OPACITY,g)};m.prototype.setVisible=function(g){this.set(l["default"].VISIBLE,g)};m.prototype.setZIndex=function(g){this.set(l["default"].Z_INDEX,g)};m.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=null);u.prototype.disposeInternal.call(this)};return m}(Ia["default"]);E["default"]=A};
shadow$provide[92]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[93]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[94]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E.inView=function(d,f){if(!d.visible)return!1;var a=f.resolution;if(a<d.minResolution||a>=d.maxResolution)return!1;f=f.zoom;return f>d.minZoom&&f<=d.maxZoom};E["default"]=void 0;Ia=k(A(91));var l=k(A(86)),w=k(A(90)),H=k(A(92)),N=k(A(93)),x=A(74),v=A(84),u=A(89),m=A(87),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=(0,v.assign)({},a);delete e.source;e=d.call(this,e)||this;e.mapPrecomposeKey_=null;e.mapRenderKey_=null;e.sourceChangeKey_=null;e.renderer_=null;a.render&&(e.render=a.render);a.map&&e.setMap(a.map);e.addEventListener((0,
u.getChangeEventType)(w["default"].SOURCE),e.handleSourcePropertyChange_);e.setSource(a.source?a.source:null);return e}g(f,d);f.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};f.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};f.prototype.getSource=function(){return this.get(w["default"].SOURCE)||null};f.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():N["default"].UNDEFINED};f.prototype.handleSourceChange_=
function(){this.changed()};f.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,m.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,m.listen)(a,l["default"].CHANGE,this.handleSourceChange_,this));this.changed()};f.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)};f.prototype.render=function(a,e){var n=this.getRenderer();if(n.prepareFrame(a))return n.renderFrame(a,e)};f.prototype.setMap=
function(a){this.mapPrecomposeKey_&&((0,m.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,m.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,m.listen)(a,H["default"].PRECOMPOSE,function(e){e=e.frameState.layerStatesArray;var n=this.getLayerState(!1);(0,x.assert)(!e.some(function(y){return y.layer===n.layer}),67);e.push(n)},this),this.mapRenderKey_=(0,m.listen)(this,l["default"].CHANGE,a.render,a),
this.changed())};f.prototype.setSource=function(a){this.set(w["default"].SOURCE,a)};f.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};f.prototype.hasRenderer=function(){return!!this.renderer_};f.prototype.createRenderer=function(){return null};f.prototype.disposeInternal=function(){this.setSource(null);d.prototype.disposeInternal.call(this)};return f}(Ia["default"]);E["default"]=A};
shadow$provide[95]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.padNumber=function(k,l,w){k=void 0!==w?k.toFixed(w):""+k;w=k.indexOf(".");w=-1===w?k.length:w;return w>l?k:Array(1+l-w).join("0")+k};E.compareVersions=function(k,l){k=(""+k).split(".");l=(""+l).split(".");for(var w=0;w<Math.max(k.length,l.length);w++){var H=parseInt(k[w]||"0",10),N=parseInt(l[w]||"0",10);if(H>N)return 1;if(N>H)return-1}return 0}};
shadow$provide[96]=function(Ia,A,rb,E){function k(g,d){var f=g[0];g=g[1];var a=d[0],e=d[1];d=a[0];a=a[1];var n=e[0];e=e[1];var y=n-d,B=e-a;f=0===y&&0===B?0:(y*(f-d)+B*(g-a))/(y*y+B*B||0);0>=f?(g=d,f=a):1<=f?(g=n,f=e):(g=d+f*y,f=a+f*B);return[g,f]}function l(g,d,f){d=(0,u.modulo)(d+180,360)-180;var a=Math.abs(3600*d);f=f||0;var e=Math.pow(10,f),n=Math.floor(a/3600),y=Math.floor((a-3600*n)/60);a=Math.ceil((a-3600*n-60*y)*e)/e;60<=a&&(a=0,y+=1);60<=y&&(y=0,n+=1);return n+" "+(0,m.padNumber)(y,2)+" "+
(0,m.padNumber)(a,2,f)+""+(0==d?"":" "+g.charAt(0>d?1:0))}function w(g,d,f){return g?d.replace("{x}",g[0].toFixed(f)).replace("{y}",g[1].toFixed(f)):""}function H(g,d){var f=g[0]-d[0];g=g[1]-d[1];return f*f+g*g}function N(g,d){return w(g,"{x}, {y}",d)}function x(g,d,f){var a=d.getExtent(),e=0;d.canWrapX()&&(g[0]<a[0]||g[0]>a[2])&&(d=f||(0,v.getWidth)(a),e=Math.floor((g[0]-a[0])/d));return e}Object.defineProperty(E,"__esModule",{value:!0});E.add=function(g,d){g[0]+=+d[0];g[1]+=+d[1];return g};E.closestOnCircle=
function(g,d){var f=d.getRadius(),a=d.getCenter();d=a[0];a=a[1];var e=g[0]-d;g=g[1]-a;0===e&&0===g&&(e=1);var n=Math.sqrt(e*e+g*g);return[d+f*e/n,a+f*g/n]};E.closestOnSegment=k;E.createStringXY=function(g){return function(d){return N(d,g)}};E.degreesToStringHDMS=l;E.format=w;E.equals=function(g,d){for(var f=!0,a=g.length-1;0<=a;--a)if(g[a]!=d[a]){f=!1;break}return f};E.rotate=function(g,d){var f=Math.cos(d);d=Math.sin(d);var a=g[1]*f+g[0]*d;g[0]=g[0]*f-g[1]*d;g[1]=a;return g};E.scale=function(g,d){g[0]*=
d;g[1]*=d;return g};E.squaredDistance=H;E.distance=function(g,d){return Math.sqrt(H(g,d))};E.squaredDistanceToSegment=function(g,d){return H(g,k(g,d))};E.toStringHDMS=function(g,d){return g?l("NS",g[1],d)+" "+l("EW",g[0],d):""};E.toStringXY=N;E.wrapX=function(g,d){if(d.canWrapX()){var f=(0,v.getWidth)(d.getExtent());(d=x(g,d,f))&&(g[0]-=d*f)}return g};E.getWorldsAway=x;var v=A(78),u=A(79),m=A(95)};
shadow$provide[97]=function(Ia,A,rb,E){function k(g,d){x.shared.expire()}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(g){return g&&g.__esModule?g:{"default":g}}(A(69));var l=A(71),w=A(72),H=A(75),N=A(78),x=A(81),v=A(94),u=A(96),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,
f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=g.call(this)||this;a.map_=f;return a}m(d,g);d.prototype.dispatchRenderEvent=function(f,a){(0,w["abstract"])()};d.prototype.calculateMatrices2D=function(f){var a=f.viewState,e=f.coordinateToPixelTransform,n=f.pixelToCoordinateTransform;(0,H.compose)(e,f.size[0]/2,f.size[1]/2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,H.makeInverse)(n,
e)};d.prototype.forEachFeatureAtCoordinate=function(f,a,e,n,y,B,D,O){function M(V,ha,aa,ta){return y.call(B,ha,V?aa:null,ta)}var F=a.viewState,z=F.projection,G=(0,u.wrapX)(f.slice(),z),K=[[0,0]];z.canWrapX()&&n&&(n=z.getExtent(),n=(0,N.getWidth)(n),K.push([-n,0],[n,0]));n=a.layerStatesArray;z=n.length;for(var R=[],T=[],ja=0;ja<K.length;ja++)for(var fa=z-1;0<=fa;--fa){var ia=n[fa],la=ia.layer;if(la.hasRenderer()&&(0,v.inView)(ia,F)&&D.call(O,la)){var Z=la.getRenderer();la=la.getSource();if(Z&&la){la=
la.getWrapX()?G:f;ia=M.bind(null,ia.managed);T[0]=la[0]+K[ja][0];T[1]=la[1]+K[ja][1];var P=Z.forEachFeatureAtCoordinate(T,a,e,ia,R)}if(P)return P}}if(0!==R.length){var C=1/R.length;R.forEach(function(V,ha){return V.distanceSq+=ha*C});R.sort(function(V,ha){return V.distanceSq-ha.distanceSq});R.some(function(V){return P=V.callback(V.feature,V.layer,V.geometry)});return P}};d.prototype.forEachLayerAtPixel=function(f,a,e,n,y){return(0,w["abstract"])()};d.prototype.hasFeatureAtCoordinate=function(f,a,
e,n,y,B){return void 0!==this.forEachFeatureAtCoordinate(f,a,e,n,l.TRUE,this,y,B)};d.prototype.getMap=function(){return this.map_};d.prototype.renderFrame=function(f){(0,w["abstract"])()};d.prototype.scheduleExpireIconCache=function(f){x.shared.canExpireCache()&&f.postRenderFunctions.push(k)};return d}(Ia["default"]);E["default"]=A};
shadow$provide[98]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(82));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ia=function(l){function w(H,N,x,v){H=l.call(this,H)||this;H.inversePixelTransform=N;H.frameState=x;H.context=v;return H}k(w,l);return w}(Ia["default"]);E["default"]=Ia};
shadow$provide[99]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.getFontParameters=E.CLASS_COLLAPSED=E.CLASS_CONTROL=E.CLASS_UNSUPPORTED=E.CLASS_UNSELECTABLE=E.CLASS_SELECTABLE=E.CLASS_HIDDEN=void 0;E.CLASS_HIDDEN="ol-hidden";E.CLASS_SELECTABLE="ol-selectable";E.CLASS_UNSELECTABLE="ol-unselectable";E.CLASS_UNSUPPORTED="ol-unsupported";E.CLASS_CONTROL="ol-control";E.CLASS_COLLAPSED="ol-collapsed";var k=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx])?))?\s*([-,\"\'\sa-z]+?)\s*$/i,
l="style variant weight size lineHeight family".split(" ");E.getFontParameters=function(w){w=w.match(k);if(!w)return null;for(var H={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},N=0,x=l.length;N<x;++N){var v=w[N+1];void 0!==v&&(H[l[N]]=v)}H.families=H.family.split(/,\s?/);return H}};
shadow$provide[100]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.PASSIVE_EVENT_LISTENERS=E.IMAGE_DECODE=E.WORKER_OFFSCREEN_CANVAS=E.DEVICE_PIXEL_RATIO=E.MAC=E.WEBKIT=E.SAFARI=E.FIREFOX=void 0;Ia="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";A=-1!==Ia.indexOf("firefox");E.FIREFOX=A;A=-1!==Ia.indexOf("safari")&&-1==Ia.indexOf("chrom");E.SAFARI=A;A=-1!==Ia.indexOf("webkit")&&-1==Ia.indexOf("edge");E.WEBKIT=A;Ia=
-1!==Ia.indexOf("macintosh");E.MAC=Ia;E.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;E.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;E.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ia=function(){var k=!1;try{var l=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("_",null,l);window.removeEventListener("_",null,l)}catch(w){}return k}();
E.PASSIVE_EVENT_LISTENERS=Ia};
shadow$provide[101]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createCanvasContext2D=function(l,w,H){H=H&&H.length?H.shift():k.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(l||300,w||300):document.createElement("canvas");l&&(H.width=l);w&&(H.height=w);return H.getContext("2d")};E.outerWidth=function(l){var w=l.offsetWidth;l=getComputedStyle(l);return w+=parseInt(l.marginLeft,10)+parseInt(l.marginRight,10)};E.outerHeight=function(l){var w=l.offsetHeight;l=getComputedStyle(l);
return w+=parseInt(l.marginTop,10)+parseInt(l.marginBottom,10)};E.replaceNode=function(l,w){var H=w.parentNode;H&&H.replaceChild(l,w)};E.removeNode=function(l){return l&&l.parentNode?l.parentNode.removeChild(l):null};E.removeChildren=function(l){for(;l.lastChild;)l.removeChild(l.lastChild)};E.replaceChildren=function(l,w){for(var H=l.childNodes,N=0;;++N){var x=H[N],v=w[N];if(!x&&!v)break;x!==v&&(x?v?l.insertBefore(v,x):(l.removeChild(x),--N):l.appendChild(v))}};var k=A(100)};
shadow$provide[102]=function(Ia,A,rb,E){function k(e){return e&&e.__esModule?e:{"default":e}}function l(e,n){g||(g=(0,x.createCanvasContext2D)(1,1));e!=d&&(g.font=e,d=g.font);return g.measureText(n)}function w(e,n){return l(e,n).width}Object.defineProperty(E,"__esModule",{value:!0});E.measureTextWidth=w;E.measureAndCacheTextWidth=function(e,n,y){if(n in y)return y[n];e=w(e,n);return y[n]=e};E.measureTextWidths=function(e,n,y){for(var B=n.length,D=0,O=0;O<B;++O){var M=w(e,n[O]);D=Math.max(D,M);y.push(M)}return D};
E.rotateAtOffset=function(e,n,y,B){0!==n&&(e.translate(y,B),e.rotate(n),e.translate(-y,-B))};E.drawImageOrLabel=function(e,n,y,B,D,O,M,F,z,G,K){e.save();1!==y&&(e.globalAlpha*=y);n&&e.setTransform.apply(e,n);if(B.contextInstructions)for(e.translate(z,G),e.scale(K[0],K[1]),n=B.contextInstructions,y=0,B=n.length;y<B;y+=2)Array.isArray(n[y+1])?e[n[y]].apply(e,n[y+1]):e[n[y]]=n[y+1];else 0>K[0]||0>K[1]?(e.translate(z,G),e.scale(K[0],K[1]),e.drawImage(B,D,O,M,F,0,0,M,F)):e.drawImage(B,D,O,M,F,z,G,M*K[0],
F*K[1]);e.restore()};E.createTransformString=function(e){if(H.WORKER_OFFSCREEN_CANVAS)return(0,u.toString)(e);a||(a=(0,x.createCanvasContext2D)(1,1).canvas);a.style.transform=(0,u.toString)(e);return a.style.transform};E.measureTextHeight=E.registerFont=E.textHeights=E.labelCache=E.checkedFonts=E.defaultLineWidth=E.defaultPadding=E.defaultTextBaseline=E.defaultTextAlign=E.defaultStrokeStyle=E.defaultMiterLimit=E.defaultLineJoin=E.defaultLineDashOffset=E.defaultLineDash=E.defaultLineCap=E.defaultFillStyle=
E.defaultFont=void 0;Ia=k(A(89));rb=k(A(85));var H=A(100),N=A(84),x=A(101),v=A(99),u=A(75);E.defaultFont="10px sans-serif";E.defaultFillStyle="#000";E.defaultLineCap="round";E.defaultLineDash=[];E.defaultLineDashOffset=0;E.defaultLineJoin="round";E.defaultMiterLimit=10;E.defaultStrokeStyle="#000";E.defaultTextAlign="center";E.defaultTextBaseline="middle";E.defaultPadding=[0,0,0,0];E.defaultLineWidth=1;var m=new Ia["default"];E.checkedFonts=m;A=new rb["default"];E.labelCache=A;A.setSize=function(){console.warn("labelCache is deprecated.")};
var g=null,d,f={};E.textHeights=f;A=function(){function e(M,F,z){for(var G=!0,K=0;K<B;++K){var R=y[K];O=w(M+" "+F+" 32px "+R,"wmytzilWMYTZIL@#/\x26?$%10");z!=R&&(R=w(M+" "+F+" 32px "+z+","+R,"wmytzilWMYTZIL@#/\x26?$%10"),G=G&&R!=O)}return G?!0:!1}function n(){for(var M=!0,F=m.getKeys(),z=0,G=F.length;z<G;++z){var K=F[z];100>m.get(K)&&(e.apply(this,K.split("\n"))?((0,N.clear)(f),g=null,d=void 0,m.set(K,100)):(m.set(K,m.get(K)+1,!0),M=!1))}M&&(clearInterval(D),D=void 0)}var y=["monospace","serif"],
B=y.length,D,O;return function(M){if(M=(0,v.getFontParameters)(M))for(var F=M.families,z=0,G=F.length;z<G;++z){var K=F[z],R=M.style+"\n"+M.weight+"\n"+K;void 0===m.get(R)&&(m.set(R,100,!0),e(M.style,M.weight,K)||(m.set(R,0,!0),void 0===D&&(D=setInterval(n,32))))}}}();E.registerFont=A;A=function(){var e;return function(n){var y=f[n];if(void 0==y){if(H.WORKER_OFFSCREEN_CANVAS){y=(0,v.getFontParameters)(n);var B=l(n,"g");y=(isNaN(Number(y.lineHeight))?1.2:Number(y.lineHeight))*(B.actualBoundingBoxAscent+
B.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.margin="0 !important",e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=n,document.body.appendChild(e),y=e.offsetHeight,document.body.removeChild(e);f[n]=y}return y}}();E.measureTextHeight=A;var a=null};
shadow$provide[103]=function(Ia,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(97));var l=k(A(83)),w=k(A(98)),H=k(A(92)),N=k(A(93)),x=A(99),v=A(102),u=A(94),m=A(87),g=A(101),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){var n=f.call(this,e)||this;n.fontChangeListenerKey_=(0,m.listen)(v.checkedFonts,l["default"].PROPERTYCHANGE,e.redrawText.bind(e));n.element_=document.createElement("div");var y=n.element_.style;y.position="absolute";y.width="100%";y.height="100%";y.zIndex="0";n.element_.className=x.CLASS_UNSELECTABLE+" ol-layers";e=e.getViewport();e.insertBefore(n.element_,
e.firstChild||null);n.children_=[];n.renderedVisible_=!0;return n}d(a,f);a.prototype.dispatchRenderEvent=function(e,n){var y=this.getMap();y.hasListener(e)&&(e=new w["default"](e,void 0,n),y.dispatchEvent(e))};a.prototype.disposeInternal=function(){(0,m.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);f.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e);this.dispatchRenderEvent(H["default"].PRECOMPOSE,
e);var n=e.layerStatesArray.sort(function(G,K){return G.zIndex-K.zIndex}),y=e.viewState;this.children_.length=0;for(var B=[],D=null,O=0,M=n.length;O<M;++O){var F=n[O];e.layerIndex=O;if((0,u.inView)(F,y)&&(F.sourceState==N["default"].READY||F.sourceState==N["default"].UNDEFINED)){F=F.layer;var z=F.render(e,D);z&&(z!==D&&(this.children_.push(z),D=z),"getDeclutter"in F&&B.push(F))}}for(O=B.length-1;0<=O;--O)B[O].renderDeclutter(e);(0,g.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(H["default"].POSTCOMPOSE,
e);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(e,n,y,B,D){for(var O=n.viewState,M=n.layerStatesArray,F=M.length-1;0<=F;--F){var z=M[F],G=z.layer;if(G.hasRenderer()&&(0,u.inView)(z,O)&&D(G)&&(z=G.getRenderer().getDataAtPixel(e,n,y))&&(G=B(G,z)))return G}};return a}(Ia["default"]);E["default"]=A};
shadow$provide[104]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ADD:"add",REMOVE:"remove"}};
shadow$provide[105]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CollectionEvent=void 0;var l=k(A(73));Ia=k(A(89));var w=k(A(104));A=k(A(82));var H=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=
v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}(),N=function(x){function v(u,m,g){u=x.call(this,u)||this;u.element=m;u.index=g;return u}H(v,x);return v}(A["default"]);E.CollectionEvent=N;A=function(x){function v(u,m){var g=x.call(this)||this;g.unique_=!!(m||{}).unique;g.array_=u?u:[];if(g.unique_)for(u=0,m=g.array_.length;u<m;++u)g.assertUnique_(g.array_[u],u);g.updateLength_();return g}H(v,x);v.prototype.clear=function(){for(;0<this.getLength();)this.pop()};v.prototype.extend=
function(u){for(var m=0,g=u.length;m<g;++m)this.push(u[m]);return this};v.prototype.forEach=function(u){for(var m=this.array_,g=0,d=m.length;g<d;++g)u(m[g],g,m)};v.prototype.getArray=function(){return this.array_};v.prototype.item=function(u){return this.array_[u]};v.prototype.getLength=function(){return this.get("length")};v.prototype.insertAt=function(u,m){this.unique_&&this.assertUnique_(m);this.array_.splice(u,0,m);this.updateLength_();this.dispatchEvent(new N(w["default"].ADD,m,u))};v.prototype.pop=
function(){return this.removeAt(this.getLength()-1)};v.prototype.push=function(u){this.unique_&&this.assertUnique_(u);var m=this.getLength();this.insertAt(m,u);return this.getLength()};v.prototype.remove=function(u){for(var m=this.array_,g=0,d=m.length;g<d;++g)if(m[g]===u)return this.removeAt(g)};v.prototype.removeAt=function(u){var m=this.array_[u];this.array_.splice(u,1);this.updateLength_();this.dispatchEvent(new N(w["default"].REMOVE,m,u));return m};v.prototype.setAt=function(u,m){var g=this.getLength();
if(u<g)this.unique_&&this.assertUnique_(m,u),g=this.array_[u],this.array_[u]=m,this.dispatchEvent(new N(w["default"].REMOVE,g,u)),this.dispatchEvent(new N(w["default"].ADD,m,u));else{for(;g<u;++g)this.insertAt(g,void 0);this.insertAt(u,m)}};v.prototype.updateLength_=function(){this.set("length",this.array_.length)};v.prototype.assertUnique_=function(u,m){for(var g=0,d=this.array_.length;g<d;++g)if(this.array_[g]===u&&g!==m)throw new l["default"](58);};return v}(Ia["default"]);E["default"]=A};
shadow$provide[106]=function(Ia,A,rb,E){function k(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(91));var l=k(A(105)),w=k(A(104)),H=k(A(86)),N=k(A(83)),x=k(A(93)),v=A(74),u=A(84),m=A(89),g=A(78),d=A(72),f=A(87),a=function(){var e=function(n,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,D){B.__proto__=D}||function(B,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(B[O]=D[O])};return e(n,y)};
return function(n,y){function B(){this.constructor=n}e(n,y);n.prototype=null===y?Object.create(y):(B.prototype=y.prototype,new B)}}();A=function(e){function n(y){var B=y||{};y=(0,u.assign)({},B);delete y.layers;B=B.layers;y=e.call(this,y)||this;y.layersListenerKeys_=[];y.listenerKeys_={};y.addEventListener((0,m.getChangeEventType)("layers"),y.handleLayersChanged_);B?Array.isArray(B)?B=new l["default"](B.slice(),{unique:!0}):(0,v.assert)("function"===typeof B.getArray,43):B=new l["default"](void 0,
{unique:!0});y.setLayers(B);return y}a(n,e);n.prototype.handleLayerChange_=function(){this.changed()};n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.unlistenByKey);this.layersListenerKeys_.length=0;var y=this.getLayers();this.layersListenerKeys_.push((0,f.listen)(y,w["default"].ADD,this.handleLayersAdd_,this),(0,f.listen)(y,w["default"].REMOVE,this.handleLayersRemove_,this));for(var B in this.listenerKeys_)this.listenerKeys_[B].forEach(f.unlistenByKey);(0,u.clear)(this.listenerKeys_);
y=y.getArray();B=0;for(var D=y.length;B<D;B++){var O=y[B];this.listenerKeys_[(0,d.getUid)(O)]=[(0,f.listen)(O,N["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(O,H["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()};n.prototype.handleLayersAdd_=function(y){y=y.element;this.listenerKeys_[(0,d.getUid)(y)]=[(0,f.listen)(y,N["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(y,H["default"].CHANGE,this.handleLayerChange_,this)];this.changed()};n.prototype.handleLayersRemove_=
function(y){y=y.element;y=(0,d.getUid)(y);this.listenerKeys_[y].forEach(f.unlistenByKey);delete this.listenerKeys_[y];this.changed()};n.prototype.getLayers=function(){return this.get("layers")};n.prototype.setLayers=function(y){this.set("layers",y)};n.prototype.getLayersArray=function(y){var B=void 0!==y?y:[];this.getLayers().forEach(function(D){D.getLayersArray(B)});return B};n.prototype.getLayerStatesArray=function(y){var B=void 0!==y?y:[],D=B.length;this.getLayers().forEach(function(F){F.getLayerStatesArray(B)});
y=this.getLayerState();for(var O=B.length;D<O;D++){var M=B[D];M.opacity*=y.opacity;M.visible=M.visible&&y.visible;M.maxResolution=Math.min(M.maxResolution,y.maxResolution);M.minResolution=Math.max(M.minResolution,y.minResolution);M.minZoom=Math.max(M.minZoom,y.minZoom);M.maxZoom=Math.min(M.maxZoom,y.maxZoom);void 0!==y.extent&&(M.extent=void 0!==M.extent?(0,g.getIntersection)(M.extent,y.extent):y.extent)}return B};n.prototype.getSourceState=function(){return x["default"].READY};return n}(Ia["default"]);
E["default"]=A};
shadow$provide[107]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(82));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ia=function(l){function w(H,N,x){H=l.call(this,H)||this;H.map=N;H.frameState=void 0!==x?x:null;return H}k(w,l);return w}(Ia["default"]);E["default"]=Ia};
shadow$provide[108]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(107));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ia=function(l){function w(H,N,x,v,u){H=l.call(this,H,N,u)||this;H.originalEvent=x;H.pixel_=null;H.coordinate_=null;H.dragging=void 0!==v?v:!1;return H}k(w,l);Object.defineProperty(w.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(H){this.pixel_=H},enumerable:!1,configurable:!0});Object.defineProperty(w.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));
return this.coordinate_},set:function(H){this.coordinate_=H},enumerable:!1,configurable:!0});w.prototype.preventDefault=function(){l.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};w.prototype.stopPropagation=function(){l.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return w}(Ia["default"]);E["default"]=Ia};
shadow$provide[109]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=(Ia=A(86))&&Ia.__esModule?Ia:{"default":Ia};E["default"]={SINGLECLICK:"singleclick",CLICK:Ia["default"].CLICK,DBLCLICK:Ia["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[110]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[111]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(85));var l=k(A(86)),w=k(A(108)),H=k(A(109)),N=k(A(110)),x=A(100),v=A(87),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=
g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(m){function g(d,f){var a=m.call(this,d)||this;a.map_=d;a.emulateClicks_=!1;a.dragging_=!1;a.dragListenerKeys_=[];a.moveTolerance_=f?f*x.DEVICE_PIXEL_RATIO:x.DEVICE_PIXEL_RATIO;a.down_=null;d=a.map_.getViewport();a.activePointers_=0;a.trackedTouches_={};a.element_=d;a.pointerdownListenerKey_=(0,v.listen)(d,N["default"].POINTERDOWN,a.handlePointerDown_,a);a.relayedListenerKey_=(0,v.listen)(d,N["default"].POINTERMOVE,
a.relayEvent_,a);a.boundHandleTouchMove_=a.handleTouchMove_.bind(a);a.element_.addEventListener(l["default"].TOUCHMOVE,a.boundHandleTouchMove_,x.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return a}u(g,m);g.prototype.emulateClick_=function(d){var f=new w["default"](H["default"].CLICK,this.map_,d);this.dispatchEvent(f);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,f=new w["default"](H["default"].DBLCLICK,this.map_,d),this.dispatchEvent(f)):this.clickTimeoutId_=
setTimeout(function(){this.clickTimeoutId_=void 0;var a=new w["default"](H["default"].SINGLECLICK,this.map_,d);this.dispatchEvent(a)}.bind(this),250)};g.prototype.updateActivePointers_=function(d){d.type==H["default"].POINTERUP||d.type==H["default"].POINTERCANCEL?delete this.trackedTouches_[d.pointerId]:d.type==H["default"].POINTERDOWN&&(this.trackedTouches_[d.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};g.prototype.handlePointerUp_=function(d){this.updateActivePointers_(d);
var f=new w["default"](H["default"].POINTERUP,this.map_,d);this.dispatchEvent(f);this.emulateClicks_&&!f.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(d)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(v.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};g.prototype.isMouseActionButton_=function(d){return 0===d.button};g.prototype.handlePointerDown_=function(d){this.emulateClicks_=0===this.activePointers_;this.updateActivePointers_(d);
var f=new w["default"](H["default"].POINTERDOWN,this.map_,d);this.dispatchEvent(f);this.down_=d;0===this.dragListenerKeys_.length&&(d=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,v.listen)(d,H["default"].POINTERMOVE,this.handlePointerMove_,this),(0,v.listen)(d,H["default"].POINTERUP,this.handlePointerUp_,this),(0,v.listen)(this.element_,H["default"].POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==d&&this.dragListenerKeys_.push((0,
v.listen)(this.element_.getRootNode(),H["default"].POINTERUP,this.handlePointerUp_,this)))};g.prototype.handlePointerMove_=function(d){this.isMoving_(d)&&(this.dragging_=!0,d=new w["default"](H["default"].POINTERDRAG,this.map_,d,this.dragging_),this.dispatchEvent(d))};g.prototype.relayEvent_=function(d){this.originalPointerMoveEvent_=d;var f=!(!this.down_||!this.isMoving_(d));this.dispatchEvent(new w["default"](d.type,this.map_,d,f))};g.prototype.handleTouchMove_=function(d){this.originalPointerMoveEvent_&&
!this.originalPointerMoveEvent_.defaultPrevented||d.preventDefault()};g.prototype.isMoving_=function(d){return this.dragging_||Math.abs(d.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(d.clientY-this.down_.clientY)>this.moveTolerance_};g.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,v.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(l["default"].TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&
((0,v.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(v.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;m.prototype.disposeInternal.call(this)};return g}(Ia["default"]);E["default"]=A};
shadow$provide[112]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}};
shadow$provide[113]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[114]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DROP=void 0;var k=A(74),l=A(84);E.DROP=Infinity;Ia=function(){function w(H,N){this.priorityFunction_=H;this.keyFunction_=N;this.elements_=[];this.priorities_=[];this.queuedElements_={}}w.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,l.clear)(this.queuedElements_)};w.prototype.dequeue=function(){var H=this.elements_,N=this.priorities_,x=H[0];1==H.length?(H.length=
0,N.length=0):(H[0]=H.pop(),N[0]=N.pop(),this.siftUp_(0));H=this.keyFunction_(x);delete this.queuedElements_[H];return x};w.prototype.enqueue=function(H){(0,k.assert)(!(this.keyFunction_(H)in this.queuedElements_),31);var N=this.priorityFunction_(H);return Infinity!=N?(this.elements_.push(H),this.priorities_.push(N),this.queuedElements_[this.keyFunction_(H)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};w.prototype.getCount=function(){return this.elements_.length};w.prototype.getLeftChildIndex_=
function(H){return 2*H+1};w.prototype.getRightChildIndex_=function(H){return 2*H+2};w.prototype.getParentIndex_=function(H){return H-1>>1};w.prototype.heapify_=function(){var H;for(H=(this.elements_.length>>1)-1;0<=H;H--)this.siftUp_(H)};w.prototype.isEmpty=function(){return 0===this.elements_.length};w.prototype.isKeyQueued=function(H){return H in this.queuedElements_};w.prototype.isQueued=function(H){return this.isKeyQueued(this.keyFunction_(H))};w.prototype.siftUp_=function(H){for(var N=this.elements_,
x=this.priorities_,v=N.length,u=N[H],m=x[H],g=H;H<v>>1;){var d=this.getLeftChildIndex_(H),f=this.getRightChildIndex_(H);d=f<v&&x[f]<x[d]?f:d;N[H]=N[d];x[H]=x[d];H=d}N[H]=u;x[H]=m;this.siftDown_(g,H)};w.prototype.siftDown_=function(H,N){for(var x=this.elements_,v=this.priorities_,u=x[N],m=v[N];N>H;){var g=this.getParentIndex_(N);if(v[g]>m)x[N]=x[g],v[N]=v[g],N=g;else break}x[N]=u;v[N]=m};w.prototype.reprioritize=function(){var H=this.priorityFunction_,N=this.elements_,x=this.priorities_,v=0,u=N.length,
m;for(m=0;m<u;++m){var g=N[m];var d=H(g);Infinity==d?delete this.queuedElements_[this.keyFunction_(g)]:(x[v]=d,N[v++]=g)}N.length=v;x.length=v;this.heapify_()};return w}();E["default"]=Ia};
shadow$provide[115]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[116]=function(Ia,A,rb,E){function k(u){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};return k(u)}function l(){if("function"!==typeof WeakMap)return null;var u=new WeakMap;l=function(){return u};return u}function w(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E.getTilePriority=function(u,
m,g,d,f){if(!(u&&g in u.wantedTiles&&u.wantedTiles[g][m.getKey()]))return N.DROP;m=u.viewState.center;u=d[0]-m[0];d=d[1]-m[1];return 65536*Math.log(f)+Math.sqrt(u*u+d*d)/f};E["default"]=void 0;var H=w(A(86)),N=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==k(u)&&"function"!==typeof u)return{"default":u};var m=l();if(m&&m.has(u))return m.get(u);var g={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var a=d?Object.getOwnPropertyDescriptor(u,
f):null;a&&(a.get||a.set)?Object.defineProperty(g,f,a):g[f]=u[f]}g["default"]=u;m&&m.set(u,g);return g}(A(114)),x=w(A(115)),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();Ia=function(u){function m(g,
d){var f=u.call(this,function(a){return g.apply(null,a)},function(a){return a[0].getKey()})||this;f.boundHandleTileChange_=f.handleTileChange.bind(f);f.tileChangeCallback_=d;f.tilesLoading_=0;f.tilesLoadingKeys_={};return f}v(m,u);m.prototype.enqueue=function(g){var d=u.prototype.enqueue.call(this,g);d&&g[0].addEventListener(H["default"].CHANGE,this.boundHandleTileChange_);return d};m.prototype.getTilesLoading=function(){return this.tilesLoading_};m.prototype.handleTileChange=function(g){g=g.target;
var d=g.getState();if(g.hifi&&d===x["default"].LOADED||d===x["default"].ERROR||d===x["default"].EMPTY)g.removeEventListener(H["default"].CHANGE,this.boundHandleTileChange_),g=g.getKey(),g in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[g],--this.tilesLoading_),this.tileChangeCallback_()};m.prototype.loadMoreTiles=function(g,d){for(var f=0,a,e,n;this.tilesLoading_<g&&f<d&&0<this.getCount();)e=this.dequeue()[0],n=e.getKey(),a=e.getState(),a!==x["default"].IDLE||n in this.tilesLoadingKeys_||
(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++f,e.load())};return m}(N["default"]);E["default"]=Ia};
shadow$provide[117]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[118]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.METERS_PER_UNIT=void 0;Ia={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};A={};E.METERS_PER_UNIT=A;A[Ia.DEGREES]=12741994*Math.PI/360;A[Ia.FEET]=.3048;A[Ia.METERS]=1;A[Ia.USFEET]=1200/3937;E["default"]=Ia};
shadow$provide[119]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ANIMATING:0,INTERACTING:1}};
shadow$provide[120]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[121]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.DEFAULT_MAX_ZOOM=42;E.DEFAULT_TILE_SIZE=256};
shadow$provide[122]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(118);Ia=function(){function l(w){this.code_=w.code;this.units_=w.units;this.extent_=void 0!==w.extent?w.extent:null;this.worldExtent_=void 0!==w.worldExtent?w.worldExtent:null;this.axisOrientation_=void 0!==w.axisOrientation?w.axisOrientation:"enu";this.global_=void 0!==w.global?w.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=w.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=w.metersPerUnit}l.prototype.canWrapX=function(){return this.canWrapX_};l.prototype.getCode=function(){return this.code_};l.prototype.getExtent=function(){return this.extent_};l.prototype.getUnits=function(){return this.units_};l.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||k.METERS_PER_UNIT[this.units_]};l.prototype.getWorldExtent=function(){return this.worldExtent_};l.prototype.getAxisOrientation=function(){return this.axisOrientation_};
l.prototype.isGlobal=function(){return this.global_};l.prototype.setGlobal=function(w){this.global_=w;this.canWrapX_=!(!w||!this.extent_)};l.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};l.prototype.setDefaultTileGrid=function(w){this.defaultTileGrid_=w};l.prototype.setExtent=function(w){this.extent_=w;this.canWrapX_=!(!this.global_||!w)};l.prototype.setWorldExtent=function(w){this.worldExtent_=w};l.prototype.setGetPointResolution=function(w){this.getPointResolutionFunc_=w};
l.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return l}();E["default"]=Ia};
shadow$provide[123]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E.fromEPSG4326=function(m,g,d){var f=m.length;d=1<d?d:2;void 0===g&&(g=2<d?m.slice():Array(f));for(var a=0;a<f;a+=d){g[a]=N*m[a]/180;var e=6378137*Math.log(Math.tan(Math.PI*(+m[a+1]+90)/360));e>u?e=u:e<-u&&(e=-u);g[a+1]=e}return g};E.toEPSG4326=function(m,g,d){var f=m.length;d=1<d?d:2;void 0===g&&(g=2<d?m.slice():Array(f));for(var a=0;a<f;a+=d)g[a]=180*m[a]/
N,g[a+1]=360*Math.atan(Math.exp(m[a+1]/6378137))/Math.PI-90;return g};E.PROJECTIONS=E.MAX_SAFE_Y=E.WORLD_EXTENT=E.EXTENT=E.HALF_SIZE=E.RADIUS=void 0;Ia=k(A(122));var l=k(A(118)),w=A(79),H=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):
(f.prototype=d.prototype,new f)}}();E.RADIUS=6378137;var N=6378137*Math.PI;E.HALF_SIZE=N;var x=[-N,-N,N,N];E.EXTENT=x;var v=[-180,-85,180,85];E.WORLD_EXTENT=v;var u=6378137*Math.log(Math.tan(Math.PI/2));E.MAX_SAFE_Y=u;A=function(m){function g(d){return m.call(this,{code:d,units:l["default"].METERS,extent:x,global:!0,worldExtent:v,getPointResolution:function(f,a){return f/(0,w.cosh)(a[1]/6378137)}})||this}H(g,m);return g}(Ia["default"]);A=[new A("EPSG:3857"),new A("EPSG:102100"),new A("EPSG:102113"),
new A("EPSG:900913"),new A("http://www.opengis.net/gml/srs/epsg.xml#3857")];E.PROJECTIONS=A};
shadow$provide[124]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E.PROJECTIONS=E.METERS_PER_UNIT=E.EXTENT=E.RADIUS=void 0;Ia=k(A(122));var l=k(A(118)),w=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}
x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();E.RADIUS=6378137;var H=[-180,-90,180,90];E.EXTENT=H;var N=6378137*Math.PI/180;E.METERS_PER_UNIT=N;A=function(x){function v(u,m){return x.call(this,{code:u,units:l["default"].DEGREES,extent:H,axisOrientation:m,global:!0,metersPerUnit:N,worldExtent:H})||this}w(v,x);return v}(Ia["default"]);A=[new A("CRS:84"),new A("EPSG:4326","neu"),new A("urn:ogc:def:crs:OGC:1.3:CRS84"),new A("urn:ogc:def:crs:OGC:2:84"),new A("http://www.opengis.net/gml/srs/epsg.xml#4326",
"neu")];E.PROJECTIONS=A};
shadow$provide[125]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(){k={}};E.get=function(l){return k[l]||k[l.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};E.add=function(l,w){k[l]=w};var k={}};
shadow$provide[126]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(){l={}};E.add=function(w,H,N){w=w.getCode();H=H.getCode();w in l||(l[w]={});l[w][H]=N};E.remove=function(w,H){w=w.getCode();H=H.getCode();var N=l[w][H];delete l[w][H];(0,k.isEmpty)(l[w])&&delete l[w];return N};E.get=function(w,H){var N;w in l&&H in l[w]&&(N=l[w][H]);return N};var k=A(84),l={}};
shadow$provide[127]=function(Ia,A,rb,E){function k(m,g,d){d=d||u;var f=(0,v.toRadians)(m[1]),a=(0,v.toRadians)(g[1]),e=(a-f)/2;m=(0,v.toRadians)(g[0]-m[0])/2;m=Math.sin(e)*Math.sin(e)+Math.sin(m)*Math.sin(m)*Math.cos(f)*Math.cos(a);return 2*d*Math.atan2(Math.sqrt(m),Math.sqrt(1-m))}function l(m,g){for(var d=0,f=0,a=m.length;f<a-1;++f)d+=k(m[f],m[f+1],g);return d}function w(m,g){var d=g||{},f=d.radius||u;d=d.projection||"EPSG:3857";var a=m.getType();a!==x["default"].GEOMETRY_COLLECTION&&(m=m.clone().transform(d,
"EPSG:4326"));d=0;var e;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:break;case x["default"].LINE_STRING:case x["default"].LINEAR_RING:g=m.getCoordinates();d=l(g,f);break;case x["default"].MULTI_LINE_STRING:case x["default"].POLYGON:g=m.getCoordinates();m=0;for(a=g.length;m<a;++m)d+=l(g[m],f);break;case x["default"].MULTI_POLYGON:g=m.getCoordinates();m=0;for(a=g.length;m<a;++m){var n=g[m];var y=0;for(e=n.length;y<e;++y)d+=l(n[y],f)}break;case x["default"].GEOMETRY_COLLECTION:f=
m.getGeometries();m=0;for(a=f.length;m<a;++m)d+=w(f[m],g);break;default:throw Error("Unsupported geometry type: "+a);}return d}function H(m,g){for(var d=0,f=m.length,a=m[f-1][0],e=m[f-1][1],n=0;n<f;n++){var y=m[n][0],B=m[n][1];d+=(0,v.toRadians)(y-a)*(2+Math.sin((0,v.toRadians)(e))+Math.sin((0,v.toRadians)(B)));a=y;e=B}return d*g*g/2}function N(m,g){var d=g||{},f=d.radius||u;d=d.projection||"EPSG:3857";var a=m.getType();a!==x["default"].GEOMETRY_COLLECTION&&(m=m.clone().transform(d,"EPSG:4326"));
d=0;var e;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:case x["default"].LINE_STRING:case x["default"].MULTI_LINE_STRING:case x["default"].LINEAR_RING:break;case x["default"].POLYGON:g=m.getCoordinates();d=Math.abs(H(g[0],f));m=1;for(a=g.length;m<a;++m)d-=Math.abs(H(g[m],f));break;case x["default"].MULTI_POLYGON:g=m.getCoordinates();m=0;for(a=g.length;m<a;++m){var n=g[m];d+=Math.abs(H(n[0],f));var y=1;for(e=n.length;y<e;++y)d-=Math.abs(H(n[y],f))}break;case x["default"].GEOMETRY_COLLECTION:f=
m.getGeometries();m=0;for(a=f.length;m<a;++m)d+=N(f[m],g);break;default:throw Error("Unsupported geometry type: "+a);}return d}Object.defineProperty(E,"__esModule",{value:!0});E.getDistance=k;E.getLength=w;E.getArea=N;E.offset=function(m,g,d,f){var a=f||u;f=(0,v.toRadians)(m[1]);m=(0,v.toRadians)(m[0]);a=g/a;g=Math.asin(Math.sin(f)*Math.cos(a)+Math.cos(f)*Math.sin(a)*Math.cos(d));d=m+Math.atan2(Math.sin(d)*Math.sin(a)*Math.cos(f),Math.cos(a)-Math.sin(f)*Math.sin(g));return[(0,v.toDegrees)(d),(0,v.toDegrees)(g)]};
E.DEFAULT_RADIUS=void 0;var x=function(m){return m&&m.__esModule?m:{"default":m}}(A(117)),v=A(79),u=6371008.8;E.DEFAULT_RADIUS=u};
shadow$provide[128]=function(Ia,A,rb,E){function k(fa){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ia){return typeof ia}:function(ia){return ia&&"function"===typeof Symbol&&ia.constructor===Symbol&&ia!==Symbol.prototype?"symbol":typeof ia};return k(fa)}function l(){if("function"!==typeof WeakMap)return null;var fa=new WeakMap;l=function(){return fa};return fa}function w(fa,ia,la){if(void 0!==ia){la=0;for(var Z=fa.length;la<Z;++la)ia[la]=fa[la];fa=ia}else fa=fa.slice();
return fa}function H(fa,ia,la){if(void 0!==ia&&fa!==ia){la=0;for(var Z=fa.length;la<Z;++la)ia[la]=fa[la];fa=ia}return fa}function N(fa){(0,F.add)(fa.getCode(),fa);(0,z.add)(fa,fa,w)}function x(fa){fa.forEach(N)}function v(fa){return"string"===typeof fa?(0,F.get)(fa):fa||null}function u(fa){x(fa);fa.forEach(function(ia){fa.forEach(function(la){ia!==la&&(0,z.add)(ia,la,w)})})}function m(fa,ia,la,Z){fa.forEach(function(P){ia.forEach(function(C){(0,z.add)(P,C,la);(0,z.add)(C,P,Z)})})}function g(fa){return function(ia,
la,Z){var P=ia.length;Z=void 0!==Z?Z:2;la=void 0!==la?la:Array(P);for(var C=0;C<P;C+=Z){var V=fa([ia[C],ia[C+1]]);la[C]=V[0];la[C+1]=V[1];for(V=Z-1;2<=V;--V)la[C+V]=ia[C+V]}return la}}function d(fa,ia){fa=fa.getCode();ia=ia.getCode();(ia=(0,z.get)(fa,ia))||(ia=H);return ia}function f(fa,ia){fa=v(fa);ia=v(ia);return d(fa,ia)}function a(fa,ia,la){return f(ia,la)(fa,void 0,fa.length)}function e(fa,ia,la,Z){ia=f(ia,la);return(0,G.applyTransform)(fa,ia,void 0,Z)}function n(fa){ja=v(fa)}function y(){u(O.PROJECTIONS);
u(M.PROJECTIONS);m(M.PROJECTIONS,O.PROJECTIONS,O.fromEPSG4326,O.toEPSG4326)}Object.defineProperty(E,"__esModule",{value:!0});E.cloneTransform=w;E.identityTransform=H;E.addProjection=N;E.addProjections=x;E.get=v;E.getPointResolution=function(fa,ia,la,Z){fa=v(fa);var P=fa.getPointResolutionFunc();if(P)ia=P(ia,la),Z&&Z!==fa.getUnits()&&(fa=fa.getMetersPerUnit())&&(ia=ia*fa/D.METERS_PER_UNIT[Z]);else{var C=fa.getUnits();C==D["default"].DEGREES&&!Z||Z==D["default"].DEGREES||(P=d(fa,v("EPSG:4326")),P===
H&&C!==D["default"].DEGREES?ia*=fa.getMetersPerUnit():(ia=[la[0]-ia/2,la[1],la[0]+ia/2,la[1],la[0],la[1]-ia/2,la[0],la[1]+ia/2],ia=P(ia,ia,2),la=(0,R.getDistance)(ia.slice(0,2),ia.slice(2,4)),ia=(0,R.getDistance)(ia.slice(4,6),ia.slice(6,8)),ia=(la+ia)/2),fa=Z?D.METERS_PER_UNIT[Z]:fa.getMetersPerUnit(),void 0!==fa&&(ia/=fa))}return ia};E.addEquivalentProjections=u;E.addEquivalentTransforms=m;E.clearAllProjections=function(){(0,F.clear)();(0,z.clear)()};E.createProjection=function(fa,ia){return fa?
"string"===typeof fa?v(fa):fa:v(ia)};E.createTransformFromCoordinateTransform=g;E.addCoordinateTransforms=function(fa,ia,la,Z){fa=v(fa);ia=v(ia);(0,z.add)(fa,ia,g(la));(0,z.add)(ia,fa,g(Z))};E.fromLonLat=function(fa,ia){return a(fa,"EPSG:4326",void 0!==ia?ia:"EPSG:3857")};E.toLonLat=function(fa,ia){fa=a(fa,void 0!==ia?ia:"EPSG:3857","EPSG:4326");ia=fa[0];if(-180>ia||180<ia)fa[0]=(0,K.modulo)(ia+180,360)-180;return fa};E.equivalent=function(fa,ia){if(fa===ia)return!0;var la=fa.getUnits()===ia.getUnits();
return fa.getCode()===ia.getCode()?la:d(fa,ia)===w&&la};E.getTransformFromProjections=d;E.getTransform=f;E.transform=a;E.transformExtent=e;E.transformWithProjections=function(fa,ia,la){return d(ia,la)(fa)};E.setUserProjection=n;E.clearUserProjection=function(){ja=null};E.getUserProjection=function(){return ja};E.useGeographic=function(){n("EPSG:4326")};E.toUserCoordinate=function(fa,ia){return ja?a(fa,ia,ja):fa};E.fromUserCoordinate=function(fa,ia){return ja?a(fa,ja,ia):fa};E.toUserExtent=function(fa,
ia){return ja?e(fa,ia,ja):fa};E.fromUserExtent=function(fa,ia){return ja?e(fa,ja,ia):fa};E.createSafeCoordinateTransform=function(fa,ia,la){return function(Z){var P=Z[0],C=Z[1],V;if(fa.canWrapX()){var ha=fa.getExtent(),aa=(0,G.getWidth)(ha);(V=(0,T.getWorldsAway)(Z,fa,aa))&&(P-=V*aa);P=(0,K.clamp)(P,ha[0],ha[2]);C=(0,K.clamp)(C,ha[1],ha[3]);Z=la([P,C])}else Z=la(Z);V&&ia.canWrapX()&&(Z[0]+=V*(0,G.getWidth)(ia.getExtent()));return Z}};E.addCommon=y;Object.defineProperty(E,"Projection",{enumerable:!0,
get:function(){return B["default"]}});Object.defineProperty(E,"METERS_PER_UNIT",{enumerable:!0,get:function(){return D.METERS_PER_UNIT}});var B=function(fa){return fa&&fa.__esModule?fa:{"default":fa}}(A(122)),D=function(fa){if(fa&&fa.__esModule)return fa;if(null===fa||"object"!==k(fa)&&"function"!==typeof fa)return{"default":fa};var ia=l();if(ia&&ia.has(fa))return ia.get(fa);var la={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor,P;for(P in fa)if(Object.prototype.hasOwnProperty.call(fa,
P)){var C=Z?Object.getOwnPropertyDescriptor(fa,P):null;C&&(C.get||C.set)?Object.defineProperty(la,P,C):la[P]=fa[P]}la["default"]=fa;ia&&ia.set(fa,la);return la}(A(118)),O=A(123),M=A(124),F=A(125),z=A(126),G=A(78),K=A(79),R=A(127),T=A(96),ja=null;y()};
shadow$provide[129]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createExtent=function(l,w,H){return function(N,x,v,u,m){if(N){var g=w?0:v[0]*x,d=w?0:v[1]*x;v=m?m[0]:0;var f=m?m[1]:0;m=l[0]+g/2+v;g=l[2]-g/2+v;v=l[1]+d/2+f;d=l[3]-d/2+f;m>g&&(g=m=(g+m)/2);v>d&&(d=v=(d+v)/2);f=(0,k.clamp)(N[0],m,g);var a=(0,k.clamp)(N[1],v,d);x*=30;u&&H&&(f+=-x*Math.log(1+Math.max(0,m-N[0])/x)+x*Math.log(1+Math.max(0,N[0]-g)/x),a+=-x*Math.log(1+Math.max(0,v-N[1])/x)+x*Math.log(1+Math.max(0,
N[1]-d)/x));return[f,a]}}};E.none=function(l){return l};var k=A(79)};
shadow$provide[130]=function(Ia,A,rb,E){function k(x,v,u,m){var g=(0,H.getWidth)(v)/u[0];v=(0,H.getHeight)(v)/u[1];return m?Math.min(x,Math.max(g,v)):Math.min(x,Math.min(g,v))}function l(x,v,u){var m=Math.min(x,v);m*=Math.log(1+50*Math.max(0,x/v-1))/50+1;u&&(m=Math.max(m,u),m/=Math.log(1+50*Math.max(0,u/x-1))/50+1);return(0,w.clamp)(m,u/2,2*v)}Object.defineProperty(E,"__esModule",{value:!0});E.createSnapToResolutions=function(x,v,u,m){return function(g,d,f,a){if(void 0!==g){var e=x[0],n=x[x.length-
1];f=u?k(e,u,f,m):e;if(a)return void 0===v||v?l(g,f,n):(0,w.clamp)(g,n,f);g=Math.min(f,g);d=Math.floor((0,N.linearFindNearest)(x,g,d));return x[d]>f&&d<x.length-1?x[d+1]:x[d]}}};E.createSnapToPower=function(x,v,u,m,g,d){return function(f,a,e,n){if(void 0!==f){e=g?k(v,g,e,d):v;var y=void 0!==u?u:0;if(n)return void 0===m||m?l(f,e,y):(0,w.clamp)(f,y,e);f=v/Math.pow(x,Math.max(Math.ceil(Math.log(v/e)/Math.log(x)-1E-9),Math.floor(Math.log(v/Math.min(e,f))/Math.log(x)+(-a*(.5-1E-9)+.5))));return(0,w.clamp)(f,
y,e)}}};E.createMinMaxResolution=function(x,v,u,m,g){return function(d,f,a,e){if(void 0!==d)return f=m?k(x,m,a,g):x,void 0!==u&&!u||!e?(0,w.clamp)(d,v,f):l(d,f,v)}};var w=A(79),H=A(78),N=A(70)};
shadow$provide[131]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.disable=function(l){if(void 0!==l)return 0};E.none=function(l){if(void 0!==l)return l};E.createSnapToN=function(l){var w=2*Math.PI/l;return function(H,N){if(N)return H;if(void 0!==H)return H=Math.floor(H/w+.5)*w}};E.createSnapToZero=function(l){var w=l||(0,k.toRadians)(5);return function(H,N){if(N)return H;if(void 0!==H)return Math.abs(H)<=w?0:H}};var k=A(79)};
shadow$provide[132]=function(Ia,A,rb,E){function k(w){return Math.pow(w,3)}function l(w){return 3*w*w-2*w*w*w}Object.defineProperty(E,"__esModule",{value:!0});E.easeIn=k;E.easeOut=function(w){return 1-k(1-w)};E.inAndOut=l;E.linear=function(w){return w};E.upAndDown=function(w){return.5>w?l(2*w):1-l(2*(w-.5))}};
shadow$provide[133]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[134]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.transform2D=function(k,l,w,H,N,x){for(var v=x?x:[],u=0;l<w;l+=H){var m=k[l],g=k[l+1];v[u++]=N[0]*m+N[2]*g+N[4];v[u++]=N[1]*m+N[3]*g+N[5]}x&&v.length!=u&&(v.length=u);return v};E.rotate=function(k,l,w,H,N,x,v){var u=v?v:[],m=Math.cos(N);N=Math.sin(N);var g=x[0];x=x[1];for(var d=0;l<w;l+=H){var f=k[l]-g,a=k[l+1]-x;u[d++]=g+f*m-a*N;u[d++]=x+f*N+a*m;for(f=l+2;f<l+H;++f)u[d++]=k[f]}v&&u.length!=d&&(u.length=d);return u};
E.scale=function(k,l,w,H,N,x,v,u){var m=u?u:[],g=v[0];v=v[1];for(var d=0;l<w;l+=H){var f=k[l]-g,a=k[l+1]-v;m[d++]=g+N*f;m[d++]=v+x*a;for(f=l+2;f<l+H;++f)m[d++]=k[f]}u&&m.length!=d&&(m.length=d);return m};E.translate=function(k,l,w,H,N,x,v){for(var u=v?v:[],m=0;l<w;l+=H){u[m++]=k[l]+N;u[m++]=k[l+1]+x;for(var g=l+2;g<l+H;++g)u[m++]=k[g]}v&&u.length!=m&&(u.length=m);return u}};
shadow$provide[135]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(89));var l=k(A(118)),w=A(72),H=A(75),N=A(78),x=A(128),v=A(71),u=A(134),m=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),g=(0,H.create)();A=function(d){function f(){var a=d.call(this)||this;a.extent_=(0,N.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,v.memoizeOne)(function(e,n,y){if(!y)return this.getSimplifiedGeometry(n);e=this.clone();e.applyTransform(y);return e.getSimplifiedGeometry(n)});return a}m(f,d);f.prototype.simplifyTransformed=
function(a,e){return this.simplifyTransformedInternal(this.getRevision(),a,e)};f.prototype.clone=function(){return(0,w["abstract"])()};f.prototype.closestPointXY=function(a,e,n,y){return(0,w["abstract"])()};f.prototype.containsXY=function(a,e){var n=this.getClosestPoint([a,e]);return n[0]===a&&n[1]===e};f.prototype.getClosestPoint=function(a,e){e=e?e:[NaN,NaN];this.closestPointXY(a[0],a[1],e,Infinity);return e};f.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};f.prototype.computeExtent=
function(a){return(0,w["abstract"])()};f.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,N.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,N.returnOrUpdate)(this.extent_,a)};f.prototype.rotate=function(a,e){(0,w["abstract"])()};f.prototype.scale=function(a,e,n){(0,w["abstract"])()};f.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};f.prototype.getSimplifiedGeometry=
function(a){return(0,w["abstract"])()};f.prototype.getType=function(){return(0,w["abstract"])()};f.prototype.applyTransform=function(a){(0,w["abstract"])()};f.prototype.intersectsExtent=function(a){return(0,w["abstract"])()};f.prototype.translate=function(a,e){(0,w["abstract"])()};f.prototype.transform=function(a,e){var n=(0,x.get)(a);a=n.getUnits()==l["default"].TILE_PIXELS?function(y,B,D){var O=n.getExtent(),M=n.getWorldExtent();O=(0,N.getHeight)(M)/(0,N.getHeight)(O);(0,H.compose)(g,M[0],M[3],
O,-O,0,0,0);(0,u.transform2D)(y,0,y.length,D,g,B);return(0,x.getTransform)(n,e)(y,B,D)}:(0,x.getTransform)(n,e);this.applyTransform(a);return this};return f}(Ia["default"]);E["default"]=A};
shadow$provide[136]=function(Ia,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}function l(u){var m;u==w["default"].XY?m=2:u==w["default"].XYZ||u==w["default"].XYM?m=3:u==w["default"].XYZM&&(m=4);return m}Object.defineProperty(E,"__esModule",{value:!0});E.getStrideForLayout=l;E.transformGeom2D=function(u,m,g){var d=u.getFlatCoordinates();return d?(u=u.getStride(),(0,x.transform2D)(d,0,d.length,u,m,g)):null};E["default"]=void 0;Ia=k(A(135));var w=k(A(133)),H=A(72),N=A(78),x=A(134),v=function(){var u=
function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(){var g=u.call(this)||this;g.layout=w["default"].XY;g.stride=2;g.flatCoordinates=null;return g}v(m,u);m.prototype.computeExtent=function(g){return(0,
N.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,g)};m.prototype.getCoordinates=function(){return(0,H["abstract"])()};m.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};m.prototype.getFlatCoordinates=function(){return this.flatCoordinates};m.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};m.prototype.getLayout=function(){return this.layout};
m.prototype.getSimplifiedGeometry=function(g){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>g||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&g<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var d=this.getSimplifiedGeometryInternal(g);if(d.getFlatCoordinates().length<this.flatCoordinates.length)return d;this.simplifiedGeometryMaxMinSquaredTolerance=g;return this};m.prototype.getSimplifiedGeometryInternal=
function(g){return this};m.prototype.getStride=function(){return this.stride};m.prototype.setFlatCoordinates=function(g,d){this.stride=l(g);this.layout=g;this.flatCoordinates=d};m.prototype.setCoordinates=function(g,d){(0,H["abstract"])()};m.prototype.setLayout=function(g,d,f){if(g)d=l(g);else{for(g=0;g<f;++g){if(0===d.length){this.layout=w["default"].XY;this.stride=2;return}d=d[0]}d=d.length;if(2==d)var a=w["default"].XY;else 3==d?a=w["default"].XYZ:4==d&&(a=w["default"].XYZM);g=a}this.layout=g;
this.stride=d};m.prototype.applyTransform=function(g){this.flatCoordinates&&(g(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};m.prototype.rotate=function(g,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,x.rotate)(f,0,f.length,a,g,d,f);this.changed()}};m.prototype.scale=function(g,d,f){void 0===d&&(d=g);f||(f=(0,N.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var e=this.getStride();(0,x.scale)(a,0,a.length,e,g,d,f,a);this.changed()}};
m.prototype.translate=function(g,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,x.translate)(f,0,f.length,a,g,d,f);this.changed()}};return m}(Ia["default"]);E["default"]=A};
shadow$provide[137]=function(Ia,A,rb,E){function k(v,u,m,g,d,f,a){var e=v[u],n=v[u+1],y=v[m]-e,B=v[m+1]-n;if(0!==y||0!==B)if(f=((d-e)*y+(f-n)*B)/(y*y+B*B),1<f)u=m;else if(0<f){for(d=0;d<g;++d)a[d]=(0,x.lerp)(v[u+d],v[m+d],f);a.length=g;return}for(d=0;d<g;++d)a[d]=v[u+d];a.length=g}function l(v,u,m,g,d){var f=v[u],a=v[u+1];for(u+=g;u<m;u+=g){var e=v[u],n=v[u+1];f=(0,x.squaredDistance)(f,a,e,n);f>d&&(d=f);f=e;a=n}return d}function w(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){var e=m[f];d=l(v,u,e,g,
d);u=e}return d}function H(v,u,m,g,d,f,a,e,n,y,B){if(u==m)return y;if(0===d){var D=(0,x.squaredDistance)(a,e,v[u],v[u+1]);if(D<y){for(B=0;B<g;++B)n[B]=v[u+B];n.length=g;return D}return y}for(var O=B?B:[NaN,NaN],M=u+g;M<m;)if(k(v,M-g,M,g,a,e,O),D=(0,x.squaredDistance)(a,e,O[0],O[1]),D<y){y=D;for(B=0;B<g;++B)n[B]=O[B];n.length=g;M+=g}else M+=g*Math.max((Math.sqrt(D)-Math.sqrt(y))/d|0,1);if(f&&(k(v,m-g,u,g,a,e,O),D=(0,x.squaredDistance)(a,e,O[0],O[1]),D<y)){y=D;for(B=0;B<g;++B)n[B]=O[B];n.length=g}return y}
function N(v,u,m,g,d,f,a,e,n,y,B){B=B?B:[NaN,NaN];for(var D=0,O=m.length;D<O;++D){var M=m[D];y=H(v,u,M,g,d,f,a,e,n,y,B);u=M}return y}Object.defineProperty(E,"__esModule",{value:!0});E.maxSquaredDelta=l;E.arrayMaxSquaredDelta=w;E.multiArrayMaxSquaredDelta=function(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){var e=m[f];d=w(v,u,e,g,d);u=e[e.length-1]}return d};E.assignClosestPoint=H;E.assignClosestArrayPoint=N;E.assignClosestMultiArrayPoint=function(v,u,m,g,d,f,a,e,n,y,B){B=B?B:[NaN,NaN];for(var D=0,
O=m.length;D<O;++D){var M=m[D];y=N(v,u,M,g,d,f,a,e,n,y,B);u=M[M.length-1]}return y};var x=A(79)};
shadow$provide[138]=function(Ia,A,rb,E){function k(w,H,N,x){for(var v=0,u=N.length;v<u;++v)for(var m=N[v],g=0;g<x;++g)w[H++]=m[g];return H}function l(w,H,N,x,v){v=v?v:[];for(var u=0,m=0,g=N.length;m<g;++m)H=k(w,H,N[m],x),v[u++]=H;v.length=u;return v}Object.defineProperty(E,"__esModule",{value:!0});E.deflateCoordinate=function(w,H,N,x){x=0;for(var v=N.length;x<v;++x)w[H++]=N[x];return H};E.deflateCoordinates=k;E.deflateCoordinatesArray=l;E.deflateMultiCoordinatesArray=function(w,H,N,x,v){v=v?v:[];
for(var u=0,m=0,g=N.length;m<g;++m)H=l(w,H,N[m],x,v[u]),v[u++]=H,H=H[H.length-1];v.length=u;return v}};
shadow$provide[139]=function(Ia,A,rb,E){function k(u,m,g,d,f,a,e){var n=(g-m)/d;if(3>n){for(;m<g;m+=d)a[e++]=u[m],a[e++]=u[m+1];return e}var y=Array(n);y[0]=1;y[n-1]=1;g=[m,g-d];for(var B=0;0<g.length;){for(var D=g.pop(),O=g.pop(),M=0,F=u[O],z=u[O+1],G=u[D],K=u[D+1],R=O+d;R<D;R+=d){var T=u[R],ja=u[R+1];T=(0,v.squaredSegmentDistance)(T,ja,F,z,G,K);T>M&&(B=R,M=T)}M>f&&(y[(B-m)/d]=1,O+d<B&&g.push(O,B),B+d<D&&g.push(B,D))}for(R=0;R<n;++R)y[R]&&(a[e++]=u[m+R*d],a[e++]=u[m+R*d+1]);return e}function l(u,
m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y];e=k(u,m,D,d,f,a,e);n.push(e);m=D}return e}function w(u,m,g,d,f,a,e){if(g<=m+d){for(;m<g;m+=d)a[e++]=u[m],a[e++]=u[m+1];return e}var n=u[m],y=u[m+1];a[e++]=n;a[e++]=y;var B=n,D=y;for(m+=d;m<g;m+=d)B=u[m],D=u[m+1],(0,v.squaredDistance)(n,y,B,D)>f&&(a[e++]=B,a[e++]=D,n=B,y=D);if(B!=n||D!=y)a[e++]=B,a[e++]=D;return e}function H(u,m){return m*Math.round(u/m)}function N(u,m,g,d,f,a,e){if(m==g)return e;var n=H(u[m],f),y=H(u[m+1],f);m+=d;a[e++]=n;
a[e++]=y;do{var B=H(u[m],f);var D=H(u[m+1],f);m+=d;if(m==g)return a[e++]=B,a[e++]=D,e}while(B==n&&D==y);for(;m<g;){var O=H(u[m],f),M=H(u[m+1],f);m+=d;if(O!=B||M!=D){var F=B-n,z=D-y,G=O-n,K=M-y;F*K==z*G&&(0>F&&G<F||F==G||0<F&&G>F)&&(0>z&&K<z||z==K||0<z&&K>z)||(a[e++]=B,a[e++]=D,n=B,y=D);B=O;D=M}}a[e++]=B;a[e++]=D;return e}function x(u,m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y];e=N(u,m,D,d,f,a,e);n.push(e);m=D}return e}Object.defineProperty(E,"__esModule",{value:!0});E.simplifyLineString=
function(u,m,g,d,f,a,e){e=void 0!==e?e:[];a||(g=w(u,m,g,d,f,e,0),u=e,m=0,d=2);e.length=k(u,m,g,d,f,e,0);return e};E.douglasPeucker=k;E.douglasPeuckerArray=l;E.douglasPeuckerMultiArray=function(u,m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y],O=[];e=l(u,m,D,d,f,a,e,O);n.push(O);m=D[D.length-1]}return e};E.radialDistance=w;E.snap=H;E.quantize=N;E.quantizeArray=x;E.quantizeMultiArray=function(u,m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y],O=[];e=x(u,m,D,d,f,a,e,O);n.push(O);m=
D[D.length-1]}return e};var v=A(79)};
shadow$provide[140]=function(Ia,A,rb,E){function k(w,H,N,x,v){v=void 0!==v?v:[];for(var u=0;H<N;H+=x)v[u++]=w.slice(H,H+x);v.length=u;return v}function l(w,H,N,x,v){v=void 0!==v?v:[];for(var u=0,m=0,g=N.length;m<g;++m){var d=N[m];v[u++]=k(w,H,d,x,v[u]);H=d}v.length=u;return v}Object.defineProperty(E,"__esModule",{value:!0});E.inflateCoordinates=k;E.inflateCoordinatesArray=l;E.inflateMultiCoordinatesArray=function(w,H,N,x,v){v=void 0!==v?v:[];for(var u=0,m=0,g=N.length;m<g;++m){var d=N[m];v[u++]=l(w,
H,d,x,v[u]);H=d[d.length-1]}v.length=u;return v}};
shadow$provide[141]=function(Ia,A,rb,E){function k(w,H,N,x){for(var v=0,u=w[N-x],m=w[N-x+1];H<N;H+=x){var g=w[H],d=w[H+1];v+=m*g-u*d;u=g;m=d}return v/2}function l(w,H,N,x){for(var v=0,u=0,m=N.length;u<m;++u){var g=N[u];v+=k(w,H,g,x);H=g}return v}Object.defineProperty(E,"__esModule",{value:!0});E.linearRing=k;E.linearRings=l;E.linearRingss=function(w,H,N,x){for(var v=0,u=0,m=N.length;u<m;++u){var g=N[u];v+=l(w,H,g,x);H=g[g.length-1]}return v}};
shadow$provide[142]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117));Ia=k(A(136));var H=A(137),N=A(78),x=A(138),v=A(139),u=A(140),m=A(141),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e){var n=d.call(this)||this;n.maxDelta_=-1;n.maxDeltaRevision_=-1;void 0===e||Array.isArray(a[0])?n.setCoordinates(a,e):n.setFlatCoordinates(e,a);return n}g(f,d);f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout)};f.prototype.closestPointXY=function(a,e,n,y){if(y<(0,N.closestSquaredDistanceXY)(this.getExtent(),a,e))return y;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,H.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,H.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,e,n,y)};f.prototype.getArea=function(){return(0,m.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};f.prototype.getCoordinates=function(){return(0,u.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};f.prototype.getSimplifiedGeometryInternal=function(a){var e=[];e.length=(0,v.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,e,0);return new f(e,l["default"].XY)};f.prototype.getType=function(){return w["default"].LINEAR_RING};f.prototype.intersectsExtent=function(a){return!1};f.prototype.setCoordinates=function(a,e){this.setLayout(e,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,
0,a,this.stride);this.changed()};return f}(Ia["default"]);E["default"]=A};
shadow$provide[143]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117));Ia=k(A(136));var w=A(78),H=A(138),N=A(79),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g){var d=v.call(this)||this;d.setCoordinates(m,g);return d}x(u,v);u.prototype.clone=function(){var m=new u(this.flatCoordinates.slice(),this.layout);m.applyProperties(this);return m};u.prototype.closestPointXY=function(m,g,d,f){var a=this.flatCoordinates;m=(0,N.squaredDistance)(m,g,a[0],a[1]);if(m<f){f=this.stride;for(g=0;g<f;++g)d[g]=a[g];d.length=f;return m}return f};u.prototype.getCoordinates=function(){return this.flatCoordinates?
this.flatCoordinates.slice():[]};u.prototype.computeExtent=function(m){return(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates,m)};u.prototype.getType=function(){return l["default"].POINT};u.prototype.intersectsExtent=function(m){return(0,w.containsXY)(m,this.flatCoordinates[0],this.flatCoordinates[1])};u.prototype.setCoordinates=function(m,g){this.setLayout(g,m,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,H.deflateCoordinate)(this.flatCoordinates,0,m,this.stride);
this.changed()};return u}(Ia["default"]);E["default"]=A};
shadow$provide[144]=function(Ia,A,rb,E){function k(H,N,x,v,u,m){for(var g=0,d=H[x-v],f=H[x-v+1];N<x;N+=v){var a=H[N],e=H[N+1];f<=m?e>m&&0<(a-d)*(m-f)-(u-d)*(e-f)&&g++:e<=m&&0>(a-d)*(m-f)-(u-d)*(e-f)&&g--;d=a;f=e}return 0!==g}function l(H,N,x,v,u,m){if(0===x.length||!k(H,N,x[0],v,u,m))return!1;N=1;for(var g=x.length;N<g;++N)if(k(H,x[N-1],x[N],v,u,m))return!1;return!0}Object.defineProperty(E,"__esModule",{value:!0});E.linearRingContainsExtent=function(H,N,x,v,u){return!(0,w.forEachCorner)(u,function(m){return!k(H,
N,x,v,m[0],m[1])})};E.linearRingContainsXY=k;E.linearRingsContainsXY=l;E.linearRingssContainsXY=function(H,N,x,v,u,m){if(0===x.length)return!1;for(var g=0,d=x.length;g<d;++g){var f=x[g];if(l(H,N,f,v,u,m))return!0;N=f[f.length-1]}return!1};var w=A(78)};
shadow$provide[145]=function(Ia,A,rb,E){function k(H,N,x,v,u,m,g){for(var d,f,a,e,n,y=u[m+1],B=[],D=0,O=x.length;D<O;++D){var M=x[D];a=H[M-v];n=H[M-v+1];for(d=N;d<M;d+=v){e=H[d];f=H[d+1];if(y<=n&&f<=y||n<=y&&y<=f)a=(y-n)/(f-n)*(e-a)+a,B.push(a);a=e;n=f}}D=NaN;O=-Infinity;B.sort(w.numberSafeCompareFunction);a=B[0];d=1;for(f=B.length;d<f;++d)e=B[d],M=Math.abs(e-a),M>O&&(a=(a+e)/2,(0,l.linearRingsContainsXY)(H,N,x,v,a,y)&&(D=a,O=M)),a=e;isNaN(D)&&(D=u[m]);return g?(g.push(D,y,O),g):[D,y,O]}Object.defineProperty(E,
"__esModule",{value:!0});E.getInteriorPointOfArray=k;E.getInteriorPointsOfMultiArray=function(H,N,x,v,u){for(var m=[],g=0,d=x.length;g<d;++g){var f=x[g];m=k(H,N,f,v,u,2*g,m);N=f[f.length-1]}return m};var l=A(144),w=A(70)};
shadow$provide[146]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.forEach=function(k,l,w,H,N){for(var x=[k[l],k[l+1]],v=[],u;l+H<w;l+=H){v[0]=k[l+H];v[1]=k[l+H+1];if(u=N(x,v))return u;x[0]=v[0];x[1]=v[1]}return!1}};
shadow$provide[147]=function(Ia,A,rb,E){function k(v,u,m,g,d){var f=(0,H.extendFlatCoordinates)((0,H.createEmpty)(),v,u,m,g);return(0,H.intersects)(d,f)?(0,H.containsExtent)(d,f)||f[0]>=d[0]&&f[2]<=d[2]||f[1]>=d[1]&&f[3]<=d[3]?!0:(0,N.forEach)(v,u,m,g,function(a,e){return(0,H.intersectsSegment)(d,a,e)}):!1}function l(v,u,m,g,d){return k(v,u,m,g,d)||(0,x.linearRingContainsXY)(v,u,m,g,d[0],d[1])||(0,x.linearRingContainsXY)(v,u,m,g,d[0],d[3])||(0,x.linearRingContainsXY)(v,u,m,g,d[2],d[1])||(0,x.linearRingContainsXY)(v,
u,m,g,d[2],d[3])?!0:!1}function w(v,u,m,g,d){if(!l(v,u,m[0],g,d))return!1;if(1===m.length)return!0;u=1;for(var f=m.length;u<f;++u)if((0,x.linearRingContainsExtent)(v,m[u-1],m[u],g,d)&&!k(v,m[u-1],m[u],g,d))return!1;return!0}Object.defineProperty(E,"__esModule",{value:!0});E.intersectsLineString=k;E.intersectsLineStringArray=function(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){if(k(v,u,m[f],g,d))return!0;u=m[f]}return!1};E.intersectsLinearRing=l;E.intersectsLinearRingArray=w;E.intersectsLinearRingMultiArray=
function(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){var e=m[f];if(w(v,u,e,g,d))return!0;u=e[e.length-1]}return!1};var H=A(78),N=A(146),x=A(144)};
shadow$provide[148]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.coordinates=function(k,l,w,H){for(;l<w-H;){for(var N=0;N<H;++N){var x=k[l+N];k[l+N]=k[w-H+N];k[w-H+N]=x}l+=H;w-=H}}};
shadow$provide[149]=function(Ia,A,rb,E){function k(N,x,v,u){for(var m=0,g=N[v-u],d=N[v-u+1];x<v;x+=u){var f=N[x],a=N[x+1];m+=(f-g)*(a+d);g=f;d=a}return 0===m?void 0:0<m}function l(N,x,v,u,m){m=void 0!==m?m:!1;for(var g=0,d=v.length;g<d;++g){var f=v[g];x=k(N,x,f,u);if(0===g){if(m&&x||!m&&!x)return!1}else if(m&&!x||!m&&x)return!1;x=f}return!0}function w(N,x,v,u,m){m=void 0!==m?m:!1;for(var g=0,d=v.length;g<d;++g){var f=v[g],a=k(N,x,f,u);(0===g?m&&a||!m&&!a:m&&!a||!m&&a)&&(0,H.coordinates)(N,x,f,u);
x=f}return x}Object.defineProperty(E,"__esModule",{value:!0});E.linearRingIsClockwise=k;E.linearRingsAreOriented=l;E.linearRingssAreOriented=function(N,x,v,u,m){for(var g=0,d=v.length;g<d;++g){var f=v[g];if(!l(N,x,f,u,m))return!1;f.length&&(x=f[f.length-1])}return!0};E.orientLinearRings=w;E.orientLinearRingsArray=function(N,x,v,u,m){for(var g=0,d=v.length;g<d;++g)x=w(N,x,v[g],u,m);return x};var H=A(148)};
shadow$provide[150]=function(Ia,A,rb,E){function k(z){return z&&z.__esModule?z:{"default":z}}function l(z,G,K,R){var T=z.getFlatCoordinates(),ja=z.getStride(),fa=T.length/ja-1;R=R?R:0;for(var ia=0;ia<=fa;++ia){var la=ia*ja,Z=R+2*(0,B.modulo)(ia,fa)*Math.PI/fa;T[la]=G[0]+K*Math.cos(Z);T[la+1]=G[1]+K*Math.sin(Z)}z.changed()}Object.defineProperty(E,"__esModule",{value:!0});E.circular=function(z,G,K,R){K=K?K:32;for(var T=[],ja=0;ja<K;++ja)(0,g.extend)(T,(0,O.offset)(z,G,2*Math.PI*ja/K,R));T.push(T[0],
T[1]);return new F(T,w["default"].XY,[T.length])};E.fromExtent=function(z){var G=z[0],K=z[1],R=z[2];z=z[3];G=[G,K,G,z,R,z,R,K,G,K];return new F(G,w["default"].XY,[G.length])};E.fromCircle=function(z,G,K){var R=G?G:32,T=z.getStride(),ja=z.getLayout();G=z.getCenter();R=T*(R+1);for(var fa=Array(R),ia=0;ia<R;ia+=T){fa[ia]=0;fa[ia+1]=0;for(var la=2;la<T;la++)fa[ia+la]=G[la]}T=new F(fa,ja,[fa.length]);l(T,G,z.getRadius(),K);return T};E.makeRegular=l;E["default"]=void 0;var w=k(A(133)),H=k(A(117)),N=k(A(142)),
x=k(A(143));Ia=k(A(136));var v=A(137),u=A(78),m=A(138),g=A(70),d=A(145),f=A(140),a=A(147),e=A(149),n=A(141),y=A(144),B=A(79),D=A(139),O=A(127),M=function(){var z=function(G,K){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,T){R.__proto__=T}||function(R,T){for(var ja in T)Object.prototype.hasOwnProperty.call(T,ja)&&(R[ja]=T[ja])};return z(G,K)};return function(G,K){function R(){this.constructor=G}z(G,K);G.prototype=null===K?Object.create(K):(R.prototype=K.prototype,new R)}}(),
F=function(z){function G(K,R,T){var ja=z.call(this)||this;ja.ends_=[];ja.flatInteriorPointRevision_=-1;ja.flatInteriorPoint_=null;ja.maxDelta_=-1;ja.maxDeltaRevision_=-1;ja.orientedRevision_=-1;ja.orientedFlatCoordinates_=null;void 0!==R&&T?(ja.setFlatCoordinates(R,K),ja.ends_=T):ja.setCoordinates(K,R);return ja}M(G,z);G.prototype.appendLinearRing=function(K){this.flatCoordinates?(0,g.extend)(this.flatCoordinates,K.getFlatCoordinates()):this.flatCoordinates=K.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);
this.changed()};G.prototype.clone=function(){var K=new G(this.flatCoordinates.slice(),this.layout,this.ends_.slice());K.applyProperties(this);return K};G.prototype.closestPointXY=function(K,R,T,ja){if(ja<(0,u.closestSquaredDistanceXY)(this.getExtent(),K,R))return ja;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,v.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,v.assignClosestArrayPoint)(this.flatCoordinates,
0,this.ends_,this.stride,this.maxDelta_,!0,K,R,T,ja)};G.prototype.containsXY=function(K,R){return(0,y.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K,R)};G.prototype.getArea=function(){return(0,n.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};G.prototype.getCoordinates=function(K){if(void 0!==K){var R=this.getOrientedFlatCoordinates().slice();(0,e.orientLinearRings)(R,0,this.ends_,this.stride,K)}else R=this.flatCoordinates;return(0,f.inflateCoordinatesArray)(R,
0,this.ends_,this.stride)};G.prototype.getEnds=function(){return this.ends_};G.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var K=(0,u.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,d.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};G.prototype.getInteriorPoint=function(){return new x["default"](this.getFlatInteriorPoint(),
w["default"].XYM)};G.prototype.getLinearRingCount=function(){return this.ends_.length};G.prototype.getLinearRing=function(K){return 0>K||this.ends_.length<=K?null:new N["default"](this.flatCoordinates.slice(0===K?0:this.ends_[K-1],this.ends_[K]),this.layout)};G.prototype.getLinearRings=function(){for(var K=this.layout,R=this.flatCoordinates,T=this.ends_,ja=[],fa=0,ia=0,la=T.length;ia<la;++ia){var Z=T[ia];fa=new N["default"](R.slice(fa,Z),K);ja.push(fa);fa=Z}return ja};G.prototype.getOrientedFlatCoordinates=
function(){if(this.orientedRevision_!=this.getRevision()){var K=this.flatCoordinates;(0,e.linearRingsAreOriented)(K,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=K:(this.orientedFlatCoordinates_=K.slice(),this.orientedFlatCoordinates_.length=(0,e.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};G.prototype.getSimplifiedGeometryInternal=function(K){var R=[],T=[];R.length=(0,D.quantizeArray)(this.flatCoordinates,
0,this.ends_,this.stride,Math.sqrt(K),R,0,T);return new G(R,w["default"].XY,T)};G.prototype.getType=function(){return H["default"].POLYGON};G.prototype.intersectsExtent=function(K){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K)};G.prototype.setCoordinates=function(K,R){this.setLayout(R,K,2);this.flatCoordinates||(this.flatCoordinates=[]);K=(0,m.deflateCoordinatesArray)(this.flatCoordinates,0,K,this.stride,this.ends_);this.flatCoordinates.length=
0===K.length?0:K[K.length-1];this.changed()};return G}(Ia["default"]);E["default"]=F};
shadow$provide[151]=function(Ia,A,rb,E){function k(fa){return fa&&fa.__esModule?fa:{"default":fa}}function l(fa,ia){setTimeout(function(){fa(ia)},0)}function w(fa){if(void 0!==fa.extent){var ia=void 0!==fa.smoothExtentConstraint?fa.smoothExtentConstraint:!0;return(0,D.createExtent)(fa.extent,fa.constrainOnlyCenter,ia)}ia=(0,a.createProjection)(fa.projection,"EPSG:3857");return!0!==fa.multiWorld&&ia.isGlobal()?(fa=ia.getExtent().slice(),fa[0]=-Infinity,fa[2]=Infinity,(0,D.createExtent)(fa,!1,!1)):
D.none}function H(fa){var ia=void 0!==fa.minZoom?fa.minZoom:ja,la=void 0!==fa.maxZoom?fa.maxZoom:28,Z=void 0!==fa.zoomFactor?fa.zoomFactor:2;var P=void 0!==fa.multiWorld?fa.multiWorld:!1;var C=void 0!==fa.smoothResolutionConstraint?fa.smoothResolutionConstraint:!0,V=void 0!==fa.showFullExtent?fa.showFullExtent:!1;var ha=(0,a.createProjection)(fa.projection,"EPSG:3857");var aa=ha.getExtent(),ta=fa.constrainOnlyCenter,wa=fa.extent;P||wa||!ha.isGlobal()||(ta=!1,wa=aa);if(void 0!==fa.resolutions)aa=fa.resolutions,
P=aa[ia],ha=void 0!==aa[la]?aa[la]:aa[aa.length-1],fa=fa.constrainResolution?(0,M.createSnapToResolutions)(aa,C,!ta&&wa,V):(0,M.createMinMaxResolution)(P,ha,C,!ta&&wa,V);else{aa=(aa?Math.max((0,G.getWidth)(aa),(0,G.getHeight)(aa)):360*a.METERS_PER_UNIT[m["default"].DEGREES]/ha.getMetersPerUnit())/f.DEFAULT_TILE_SIZE/Math.pow(2,ja);var Ha=aa/Math.pow(2,28-ja);P=fa.maxResolution;void 0!==P?ia=0:P=aa/Math.pow(Z,ia);ha=fa.minResolution;void 0===ha&&(ha=void 0!==fa.maxZoom?void 0!==fa.maxResolution?P/
Math.pow(Z,la):aa/Math.pow(Z,la):Ha);la=ia+Math.floor(Math.log(P/ha)/Math.log(Z));ha=P/Math.pow(Z,la-ia);fa=fa.constrainResolution?(0,M.createSnapToPower)(Z,P,ha,C,!ta&&wa,V):(0,M.createMinMaxResolution)(P,ha,C,!ta&&wa,V)}return{constraint:fa,maxResolution:P,minResolution:ha,minZoom:ia,zoomFactor:Z}}function N(fa){return(void 0!==fa.enableRotation?fa.enableRotation:1)?(fa=fa.constrainRotation,void 0===fa||!0===fa?(0,F.createSnapToZero)():!1===fa?F.none:"number"===typeof fa?(0,F.createSnapToN)(fa):
F.none):F.disable}function x(fa){return fa.sourceCenter&&fa.targetCenter&&!(0,n.equals)(fa.sourceCenter,fa.targetCenter)||fa.sourceResolution!==fa.targetResolution||fa.sourceRotation!==fa.targetRotation?!1:!0}function v(fa,ia,la,Z,P){var C=Math.cos(-P);P=Math.sin(-P);var V=fa[0]*C-fa[1]*P;fa=fa[1]*C+fa[0]*P;V+=(ia[0]/2-la[0])*Z;fa+=(la[1]-ia[1]/2)*Z;P=-P;return[V*C-fa*P,fa*C+V*P]}Object.defineProperty(E,"__esModule",{value:!0});E.createCenterConstraint=w;E.createResolutionConstraint=H;E.createRotationConstraint=
N;E.isNoopAnimation=x;E["default"]=void 0;Ia=k(A(89));var u=k(A(117)),m=k(A(118)),g=k(A(119)),d=k(A(120)),f=A(121),a=A(128),e=A(71),n=A(96),y=A(74),B=A(84),D=A(129),O=A(79),M=A(130),F=A(131),z=A(132),G=A(78),K=A(70),R=A(150),T=function(){var fa=function(ia,la){fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,P){Z.__proto__=P}||function(Z,P){for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(Z[C]=P[C])};return fa(ia,la)};return function(ia,la){function Z(){this.constructor=
ia}fa(ia,la);ia.prototype=null===la?Object.create(la):(Z.prototype=la.prototype,new Z)}}(),ja=0;A=function(fa){function ia(la){var Z=fa.call(this)||this;la=(0,B.assign)({},la);Z.hints_=[0,0];Z.animations_=[];Z.projection_=(0,a.createProjection)(la.projection,"EPSG:3857");Z.viewportSize_=[100,100];Z.targetCenter_=null;Z.cancelAnchor_=void 0;la.center&&(la.center=(0,a.fromUserCoordinate)(la.center,Z.projection_));la.extent&&(la.extent=(0,a.fromUserExtent)(la.extent,Z.projection_));Z.applyOptions_(la);
return Z}T(ia,fa);ia.prototype.applyOptions_=function(la){var Z=H(la);this.maxResolution_=Z.maxResolution;this.minResolution_=Z.minResolution;this.zoomFactor_=Z.zoomFactor;this.resolutions_=la.resolutions;this.padding=la.padding;this.minZoom_=Z.minZoom;var P=w(la);Z=Z.constraint;var C=N(la);this.constraints_={center:P,resolution:Z,rotation:C};this.setRotation(void 0!==la.rotation?la.rotation:0);this.setCenterInternal(void 0!==la.center?la.center:null);void 0!==la.resolution?this.setResolution(la.resolution):
void 0!==la.zoom&&this.setZoom(la.zoom);this.setProperties({});this.options_=la};ia.prototype.getUpdatedOptions_=function(la){var Z=(0,B.assign)({},this.options_);void 0!==Z.resolution?Z.resolution=this.getResolution():Z.zoom=this.getZoom();Z.center=this.getCenterInternal();Z.rotation=this.getRotation();return(0,B.assign)({},Z,la)};ia.prototype.animate=function(la){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var Z=Array(arguments.length),P=0;P<Z.length;++P){var C=arguments[P];
C.center&&(C=(0,B.assign)({},C),C.center=(0,a.fromUserCoordinate)(C.center,this.getProjection()));C.anchor&&(C=(0,B.assign)({},C),C.anchor=(0,a.fromUserCoordinate)(C.anchor,this.getProjection()));Z[P]=C}this.animateInternal.apply(this,Z)};ia.prototype.animateInternal=function(la){var Z=arguments.length;if(1<Z&&"function"===typeof arguments[Z-1]){var P=arguments[Z-1];--Z}if(this.isDef()){for(var C=Date.now(),V=this.targetCenter_.slice(),ha=this.targetResolution_,aa=this.targetRotation_,ta=[],wa=0;wa<
Z;++wa){var Ha=arguments[wa],bb={start:C,complete:!1,anchor:Ha.anchor,duration:void 0!==Ha.duration?Ha.duration:1E3,easing:Ha.easing||z.inAndOut,callback:P};Ha.center&&(bb.sourceCenter=V,bb.targetCenter=Ha.center.slice(),V=bb.targetCenter);void 0!==Ha.zoom?(bb.sourceResolution=ha,bb.targetResolution=this.getResolutionForZoom(Ha.zoom),ha=bb.targetResolution):Ha.resolution&&(bb.sourceResolution=ha,bb.targetResolution=Ha.resolution,ha=bb.targetResolution);void 0!==Ha.rotation&&(bb.sourceRotation=aa,
Ha=(0,O.modulo)(Ha.rotation-aa+Math.PI,2*Math.PI)-Math.PI,bb.targetRotation=aa+Ha,aa=bb.targetRotation);x(bb)?bb.complete=!0:C+=bb.duration;ta.push(bb)}this.animations_.push(ta);this.setHint(g["default"].ANIMATING,1);this.updateAnimations_()}else Z=arguments[Z-1],Z.center&&this.setCenterInternal(Z.center),void 0!==Z.zoom&&this.setZoom(Z.zoom),void 0!==Z.rotation&&this.setRotation(Z.rotation),P&&l(P,!0)};ia.prototype.getAnimating=function(){return 0<this.hints_[g["default"].ANIMATING]};ia.prototype.getInteracting=
function(){return 0<this.hints_[g["default"].INTERACTING]};ia.prototype.cancelAnimations=function(){this.setHint(g["default"].ANIMATING,-this.hints_[g["default"].ANIMATING]);for(var la,Z=0,P=this.animations_.length;Z<P;++Z){var C=this.animations_[Z];C[0].callback&&l(C[0].callback,!1);if(!la)for(var V=0,ha=C.length;V<ha;++V){var aa=C[V];if(!aa.complete){la=aa.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=la};ia.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&
(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var la=Date.now(),Z=!1,P=this.animations_.length-1;0<=P;--P){for(var C=this.animations_[P],V=!0,ha=0,aa=C.length;ha<aa;++ha){var ta=C[ha];if(!ta.complete){Z=la-ta.start;Z=0<ta.duration?Z/ta.duration:1;1<=Z?(ta.complete=!0,Z=1):V=!1;Z=ta.easing(Z);if(ta.sourceCenter){var wa=ta.sourceCenter[0],Ha=ta.sourceCenter[1];this.targetCenter_=[wa+Z*(ta.targetCenter[0]-wa),Ha+Z*(ta.targetCenter[1]-Ha)]}ta.sourceResolution&&
ta.targetResolution&&(wa=1===Z?ta.targetResolution:ta.sourceResolution+Z*(ta.targetResolution-ta.sourceResolution),ta.anchor&&(Ha=this.getViewportSize_(this.getRotation()),Ha=this.constraints_.resolution(wa,0,Ha,!0),this.targetCenter_=this.calculateCenterZoom(Ha,ta.anchor)),this.targetResolution_=wa,this.applyTargetState_(!0));void 0!==ta.sourceRotation&&void 0!==ta.targetRotation&&(Z=1===Z?(0,O.modulo)(ta.targetRotation+Math.PI,2*Math.PI)-Math.PI:ta.sourceRotation+Z*(ta.targetRotation-ta.sourceRotation),
ta.anchor&&(wa=this.constraints_.rotation(Z,!0),this.targetCenter_=this.calculateCenterRotate(wa,ta.anchor)),this.targetRotation_=Z);this.applyTargetState_(!0);Z=!0;if(!ta.complete)break}}V&&(this.animations_[P]=null,this.setHint(g["default"].ANIMATING,-1),(C=C[0].callback)&&l(C,!0))}this.animations_=this.animations_.filter(Boolean);Z&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};ia.prototype.calculateCenterRotate=function(la,
Z){var P=this.getCenterInternal();if(void 0!==P){var C=[P[0]-Z[0],P[1]-Z[1]];(0,n.rotate)(C,la-this.getRotation());(0,n.add)(C,Z)}return C};ia.prototype.calculateCenterZoom=function(la,Z){var P,C=this.getCenterInternal(),V=this.getResolution();void 0!==C&&void 0!==V&&(P=[Z[0]-la*(Z[0]-C[0])/V,Z[1]-la*(Z[1]-C[1])/V]);return P};ia.prototype.getViewportSize_=function(la){var Z=this.viewportSize_;if(la){var P=Z[0];Z=Z[1];return[Math.abs(P*Math.cos(la))+Math.abs(Z*Math.sin(la)),Math.abs(P*Math.sin(la))+
Math.abs(Z*Math.cos(la))]}return Z};ia.prototype.setViewportSize=function(la){this.viewportSize_=Array.isArray(la)?la.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};ia.prototype.getCenter=function(){var la=this.getCenterInternal();return la?(0,a.toUserCoordinate)(la,this.getProjection()):la};ia.prototype.getCenterInternal=function(){return this.get(d["default"].CENTER)};ia.prototype.getConstraints=function(){return this.constraints_};ia.prototype.getConstrainResolution=function(){return this.options_.constrainResolution};
ia.prototype.getHints=function(la){return void 0!==la?(la[0]=this.hints_[0],la[1]=this.hints_[1],la):this.hints_.slice()};ia.prototype.calculateExtent=function(la){la=this.calculateExtentInternal(la);return(0,a.toUserExtent)(la,this.getProjection())};ia.prototype.calculateExtentInternal=function(la){la=la||this.getViewportSize_();var Z=this.getCenterInternal();(0,y.assert)(Z,1);var P=this.getResolution();(0,y.assert)(void 0!==P,2);var C=this.getRotation();(0,y.assert)(void 0!==C,3);return(0,G.getForViewAndSize)(Z,
P,C,la)};ia.prototype.getMaxResolution=function(){return this.maxResolution_};ia.prototype.getMinResolution=function(){return this.minResolution_};ia.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};ia.prototype.setMaxZoom=function(la){this.applyOptions_(this.getUpdatedOptions_({maxZoom:la}))};ia.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};ia.prototype.setMinZoom=function(la){this.applyOptions_(this.getUpdatedOptions_({minZoom:la}))};
ia.prototype.setConstrainResolution=function(la){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:la}))};ia.prototype.getProjection=function(){return this.projection_};ia.prototype.getResolution=function(){return this.get(d["default"].RESOLUTION)};ia.prototype.getResolutions=function(){return this.resolutions_};ia.prototype.getResolutionForExtent=function(la,Z){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(la,this.getProjection()),Z)};ia.prototype.getResolutionForExtentInternal=
function(la,Z){var P=Z||this.getViewportSize_();Z=(0,G.getWidth)(la)/P[0];la=(0,G.getHeight)(la)/P[1];return Math.max(Z,la)};ia.prototype.getResolutionForValueFunction=function(la){var Z=la||2,P=this.getConstrainedResolution(this.maxResolution_),C=Math.log(P/this.minResolution_)/Math.log(Z);return function(V){return P/Math.pow(Z,V*C)}};ia.prototype.getRotation=function(){return this.get(d["default"].ROTATION)};ia.prototype.getValueForResolutionFunction=function(la){var Z=Math.log(la||2),P=this.getConstrainedResolution(this.maxResolution_),
C=Math.log(P/this.minResolution_)/Z;return function(V){return Math.log(P/V)/Z/C}};ia.prototype.getViewportSizeMinusPadding_=function(la){la=this.getViewportSize_(la);var Z=this.padding;Z&&(la=[la[0]-Z[1]-Z[3],la[1]-Z[0]-Z[2]]);return la};ia.prototype.getState=function(){var la=this.getProjection(),Z=this.getResolution(),P=this.getRotation(),C=this.getCenterInternal(),V=this.padding;if(V){var ha=this.getViewportSizeMinusPadding_();C=v(C,this.getViewportSize_(),[ha[0]/2+V[3],ha[1]/2+V[0]],Z,P)}return{center:C.slice(0),
projection:void 0!==la?la:null,resolution:Z,rotation:P,zoom:this.getZoom()}};ia.prototype.getZoom=function(){var la,Z=this.getResolution();void 0!==Z&&(la=this.getZoomForResolution(Z));return la};ia.prototype.getZoomForResolution=function(la){var Z=this.minZoom_||0,P;if(this.resolutions_){Z=P=(0,K.linearFindNearest)(this.resolutions_,la,1);var C=this.resolutions_[P];P=P==this.resolutions_.length-1?2:C/this.resolutions_[P+1]}else C=this.maxResolution_,P=this.zoomFactor_;return Z+Math.log(C/la)/Math.log(P)};
ia.prototype.getResolutionForZoom=function(la){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var Z=(0,O.clamp)(Math.floor(la),0,this.resolutions_.length-2);return this.resolutions_[Z]/Math.pow(this.resolutions_[Z]/this.resolutions_[Z+1],(0,O.clamp)(la-Z,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,la-this.minZoom_)};ia.prototype.fit=function(la,Z){(0,y.assert)(Array.isArray(la)||"function"===typeof la.getSimplifiedGeometry,24);if(Array.isArray(la)){(0,y.assert)(!(0,G.isEmpty)(la),
25);var P=(0,a.fromUserExtent)(la,this.getProjection());la=(0,R.fromExtent)(P)}else la.getType()===u["default"].CIRCLE?(P=(0,a.fromUserExtent)(la.getExtent(),this.getProjection()),la=(0,R.fromExtent)(P),la.rotate(this.getRotation(),(0,G.getCenter)(P))):la=(P=(0,a.getUserProjection)())?la.clone().transform(P,this.getProjection()):la;this.fitInternal(la,Z)};ia.prototype.fitInternal=function(la,Z){Z=Z||{};var P=Z.size;P||(P=this.getViewportSizeMinusPadding_());var C=void 0!==Z.padding?Z.padding:[0,0,
0,0],V=void 0!==Z.nearest?Z.nearest:!1;var ha=void 0!==Z.minResolution?Z.minResolution:void 0!==Z.maxZoom?this.getResolutionForZoom(Z.maxZoom):0;var aa=la.getFlatCoordinates(),ta=this.getRotation(),wa=Math.cos(-ta);ta=Math.sin(-ta);var Ha=Infinity,bb=Infinity,kb=-Infinity,va=-Infinity;la=la.getStride();for(var Ta=0,Ya=aa.length;Ta<Ya;Ta+=la){var Ca=aa[Ta]*wa-aa[Ta+1]*ta,ua=aa[Ta]*ta+aa[Ta+1]*wa;Ha=Math.min(Ha,Ca);bb=Math.min(bb,ua);kb=Math.max(kb,Ca);va=Math.max(va,ua)}P=this.getResolutionForExtentInternal([Ha,
bb,kb,va],[P[0]-C[1]-C[3],P[1]-C[0]-C[2]]);P=isNaN(P)?ha:Math.max(P,ha);P=this.getConstrainedResolution(P,V?0:1);ta=-ta;V=(Ha+kb)/2+(C[1]-C[3])/2*P;C=(bb+va)/2+(C[0]-C[2])/2*P;wa=this.getConstrainedCenter([V*wa-C*ta,C*wa+V*ta],P);C=Z.callback?Z.callback:e.VOID;void 0!==Z.duration?this.animateInternal({resolution:P,center:wa,duration:Z.duration,easing:Z.easing},C):(this.targetResolution_=P,this.targetCenter_=wa,this.applyTargetState_(!1,!0),l(C,!0))};ia.prototype.centerOn=function(la,Z,P){this.centerOnInternal((0,
a.fromUserCoordinate)(la,this.getProjection()),Z,P)};ia.prototype.centerOnInternal=function(la,Z,P){this.setCenterInternal(v(la,Z,P,this.getResolution(),this.getRotation()))};ia.prototype.calculateCenterShift=function(la,Z,P,C){var V=this.padding;if(V&&la){var ha=this.getViewportSizeMinusPadding_(-P);Z=v(la,C,[ha[0]/2+V[3],ha[1]/2+V[0]],Z,P);ha=[la[0]-Z[0],la[1]-Z[1]]}return ha};ia.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};ia.prototype.adjustCenter=
function(la){var Z=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([Z[0]+la[0],Z[1]+la[1]])};ia.prototype.adjustCenterInternal=function(la){var Z=this.targetCenter_;this.setCenterInternal([Z[0]+la[0],Z[1]+la[1]])};ia.prototype.adjustResolution=function(la,Z){Z=Z&&(0,a.fromUserCoordinate)(Z,this.getProjection());this.adjustResolutionInternal(la,Z)};ia.prototype.adjustResolutionInternal=function(la,Z){var P=this.getAnimating()||this.getInteracting(),C=this.getViewportSize_(this.getRotation());
P=this.constraints_.resolution(this.targetResolution_*la,0,C,P);Z&&(this.targetCenter_=this.calculateCenterZoom(P,Z));this.targetResolution_*=la;this.applyTargetState_()};ia.prototype.adjustZoom=function(la,Z){this.adjustResolution(Math.pow(this.zoomFactor_,-la),Z)};ia.prototype.adjustRotation=function(la,Z){Z&&(Z=(0,a.fromUserCoordinate)(Z,this.getProjection()));this.adjustRotationInternal(la,Z)};ia.prototype.adjustRotationInternal=function(la,Z){var P=this.getAnimating()||this.getInteracting();
P=this.constraints_.rotation(this.targetRotation_+la,P);Z&&(this.targetCenter_=this.calculateCenterRotate(P,Z));this.targetRotation_+=la;this.applyTargetState_()};ia.prototype.setCenter=function(la){this.setCenterInternal((0,a.fromUserCoordinate)(la,this.getProjection()))};ia.prototype.setCenterInternal=function(la){this.targetCenter_=la;this.applyTargetState_()};ia.prototype.setHint=function(la,Z){this.hints_[la]+=Z;this.changed();return this.hints_[la]};ia.prototype.setResolution=function(la){this.targetResolution_=
la;this.applyTargetState_()};ia.prototype.setRotation=function(la){this.targetRotation_=la;this.applyTargetState_()};ia.prototype.setZoom=function(la){this.setResolution(this.getResolutionForZoom(la))};ia.prototype.applyTargetState_=function(la,Z){var P=this.getAnimating()||this.getInteracting()||Z;Z=this.constraints_.rotation(this.targetRotation_,P);var C=this.getViewportSize_(Z),V=this.constraints_.resolution(this.targetResolution_,0,C,P);P=this.constraints_.center(this.targetCenter_,V,C,P,this.calculateCenterShift(this.targetCenter_,
V,Z,C));this.get(d["default"].ROTATION)!==Z&&this.set(d["default"].ROTATION,Z);this.get(d["default"].RESOLUTION)!==V&&this.set(d["default"].RESOLUTION,V);this.get(d["default"].CENTER)&&(0,n.equals)(this.get(d["default"].CENTER),P)||this.set(d["default"].CENTER,P);this.getAnimating()&&!la&&this.cancelAnimations();this.cancelAnchor_=void 0};ia.prototype.resolveConstraints=function(la,Z,P){la=void 0!==la?la:200;var C=Z||0;Z=this.constraints_.rotation(this.targetRotation_);var V=this.getViewportSize_(Z);
C=this.constraints_.resolution(this.targetResolution_,C,V);V=this.constraints_.center(this.targetCenter_,C,V,!1,this.calculateCenterShift(this.targetCenter_,C,Z,V));0!==la||this.cancelAnchor_?(P=P||(0===la?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===C&&this.getRotation()===Z&&this.getCenterInternal()&&(0,n.equals)(this.getCenterInternal(),V)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:Z,center:V,resolution:C,duration:la,easing:z.easeOut,
anchor:P}))):(this.targetResolution_=C,this.targetRotation_=Z,this.targetCenter_=V,this.applyTargetState_())};ia.prototype.beginInteraction=function(){this.resolveConstraints(0);this.setHint(g["default"].INTERACTING,1)};ia.prototype.endInteraction=function(la,Z,P){P=P&&(0,a.fromUserCoordinate)(P,this.getProjection());this.endInteractionInternal(la,Z,P)};ia.prototype.endInteractionInternal=function(la,Z,P){this.setHint(g["default"].INTERACTING,-1);this.resolveConstraints(la,Z,P)};ia.prototype.getConstrainedCenter=
function(la,Z){var P=this.getViewportSize_(this.getRotation());return this.constraints_.center(la,Z||this.getResolution(),P)};ia.prototype.getConstrainedZoom=function(la,Z){la=this.getResolutionForZoom(la);return this.getZoomForResolution(this.getConstrainedResolution(la,Z))};ia.prototype.getConstrainedResolution=function(la,Z){Z=Z||0;var P=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(la,Z,P)};return ia}(Ia["default"]);E["default"]=A};
shadow$provide[152]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.buffer=function(k,l,w){void 0===w&&(w=[0,0]);w[0]=k[0]+2*l;w[1]=k[1]+2*l;return w};E.hasArea=function(k){return 0<k[0]&&0<k[1]};E.scale=function(k,l,w){void 0===w&&(w=[0,0]);w[0]=k[0]*l+.5|0;w[1]=k[1]*l+.5|0;return w};E.toSize=function(k,l){if(Array.isArray(k))return k;void 0===l?l=[k,k]:(l[0]=k,l[1]=k);return l}};
shadow$provide[153]=function(Ia,A,rb,E){function k(C){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"===typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V};return k(C)}function l(C){return C&&C.__esModule?C:{"default":C}}function w(){if("function"!==typeof WeakMap)return null;var C=new WeakMap;w=function(){return C};return C}function H(C){if(C&&C.__esModule)return C;if(null===C||"object"!==k(C)&&
"function"!==typeof C)return{"default":C};var V=w();if(V&&V.has(C))return V.get(C);var ha={},aa=Object.defineProperty&&Object.getOwnPropertyDescriptor,ta;for(ta in C)if(Object.prototype.hasOwnProperty.call(C,ta)){var wa=aa?Object.getOwnPropertyDescriptor(C,ta):null;wa&&(wa.get||wa.set)?Object.defineProperty(ha,ta,wa):ha[ta]=C[ta]}ha["default"]=C;V&&V.set(C,ha);return ha}function N(C){var V=null;void 0!==C.keyboardEventTarget&&(V="string"===typeof C.keyboardEventTarget?document.getElementById(C.keyboardEventTarget):
C.keyboardEventTarget);var ha={},aa=C.layers&&"function"===typeof C.layers.getLayers?C.layers:new g["default"]({layers:C.layers});ha[y["default"].LAYERGROUP]=aa;ha[y["default"].TARGET]=C.target;ha[y["default"].VIEW]=void 0!==C.view?C.view:new F["default"];if(void 0!==C.controls)if(Array.isArray(C.controls))var ta=new v["default"](C.controls.slice());else(0,T.assert)("function"===typeof C.controls.getArray,47),ta=C.controls;if(void 0!==C.interactions)if(Array.isArray(C.interactions))var wa=new v["default"](C.interactions.slice());
else(0,T.assert)("function"===typeof C.interactions.getArray,48),wa=C.interactions;void 0!==C.overlays?Array.isArray(C.overlays)?C=new v["default"](C.overlays.slice()):((0,T.assert)("function"===typeof C.overlays.getArray,49),C=C.overlays):C=new v["default"];return{controls:ta,interactions:wa,keyboardEventTarget:V,overlays:C,values:ha}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=H(A(89)),v=l(A(105)),u=l(A(104)),m=l(A(86)),g=l(A(106)),d=l(A(108)),f=l(A(111)),a=l(A(109)),
e=l(A(107)),n=l(A(112)),y=l(A(113)),B=l(A(83)),D=l(A(110)),O=l(A(92)),M=H(A(116)),F=l(A(151)),z=l(A(119)),G=A(100),K=A(71),R=A(75),T=A(74),ja=A(78),fa=A(128),ia=A(152),la=A(87),Z=A(101),P=function(){var C=function(V,ha){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(aa,ta){aa.__proto__=ta}||function(aa,ta){for(var wa in ta)Object.prototype.hasOwnProperty.call(ta,wa)&&(aa[wa]=ta[wa])};return C(V,ha)};return function(V,ha){function aa(){this.constructor=V}C(V,ha);V.prototype=null===
ha?Object.create(ha):(aa.prototype=ha.prototype,new aa)}}();Ia=function(C){function V(ha){var aa=C.call(this)||this,ta=N(ha);aa.boundHandleBrowserEvent_=aa.handleBrowserEvent.bind(aa);aa.maxTilesLoading_=void 0!==ha.maxTilesLoading?ha.maxTilesLoading:16;aa.pixelRatio_=void 0!==ha.pixelRatio?ha.pixelRatio:G.DEVICE_PIXEL_RATIO;aa.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(aa);aa.coordinateToPixelTransform_=(0,R.create)();aa.pixelToCoordinateTransform_=
(0,R.create)();aa.frameIndex_=0;aa.frameState_=null;aa.previousExtent_=null;aa.viewPropertyListenerKey_=null;aa.viewChangeListenerKey_=null;aa.layerGroupPropertyListenerKeys_=null;aa.viewport_=document.createElement("div");aa.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");aa.viewport_.style.position="relative";aa.viewport_.style.overflow="hidden";aa.viewport_.style.width="100%";aa.viewport_.style.height="100%";aa.overlayContainer_=document.createElement("div");aa.overlayContainer_.style.position=
"absolute";aa.overlayContainer_.style.zIndex="0";aa.overlayContainer_.style.width="100%";aa.overlayContainer_.style.height="100%";aa.overlayContainer_.style.pointerEvents="none";aa.overlayContainer_.className="ol-overlaycontainer";aa.viewport_.appendChild(aa.overlayContainer_);aa.overlayContainerStopEvent_=document.createElement("div");aa.overlayContainerStopEvent_.style.position="absolute";aa.overlayContainerStopEvent_.style.zIndex="0";aa.overlayContainerStopEvent_.style.width="100%";aa.overlayContainerStopEvent_.style.height=
"100%";aa.overlayContainerStopEvent_.style.pointerEvents="none";aa.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";aa.viewport_.appendChild(aa.overlayContainerStopEvent_);aa.mapBrowserEventHandler_=null;aa.moveTolerance_=ha.moveTolerance;aa.keyboardEventTarget_=ta.keyboardEventTarget;aa.keyHandlerKeys_=null;aa.controls=ta.controls||new v["default"];aa.interactions=ta.interactions||new v["default"];aa.overlays_=ta.overlays;aa.overlayIdIndex_={};aa.renderer_=null;aa.postRenderFunctions_=
[];aa.tileQueue_=new M["default"](aa.getTilePriority.bind(aa),aa.handleTileChange_.bind(aa));aa.addEventListener((0,x.getChangeEventType)(y["default"].LAYERGROUP),aa.handleLayerGroupChanged_);aa.addEventListener((0,x.getChangeEventType)(y["default"].VIEW),aa.handleViewChanged_);aa.addEventListener((0,x.getChangeEventType)(y["default"].SIZE),aa.handleSizeChanged_);aa.addEventListener((0,x.getChangeEventType)(y["default"].TARGET),aa.handleTargetChanged_);aa.setProperties(ta.values);aa.controls.forEach(function(wa){wa.setMap(this)}.bind(aa));
aa.controls.addEventListener(u["default"].ADD,function(wa){wa.element.setMap(this)}.bind(aa));aa.controls.addEventListener(u["default"].REMOVE,function(wa){wa.element.setMap(null)}.bind(aa));aa.interactions.forEach(function(wa){wa.setMap(this)}.bind(aa));aa.interactions.addEventListener(u["default"].ADD,function(wa){wa.element.setMap(this)}.bind(aa));aa.interactions.addEventListener(u["default"].REMOVE,function(wa){wa.element.setMap(null)}.bind(aa));aa.overlays_.forEach(aa.addOverlayInternal_.bind(aa));
aa.overlays_.addEventListener(u["default"].ADD,function(wa){this.addOverlayInternal_(wa.element)}.bind(aa));aa.overlays_.addEventListener(u["default"].REMOVE,function(wa){var Ha=wa.element.getId();void 0!==Ha&&delete this.overlayIdIndex_[Ha.toString()];wa.element.setMap(null)}.bind(aa));return aa}P(V,C);V.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};V.prototype.addControl=function(ha){this.getControls().push(ha)};V.prototype.addInteraction=function(ha){this.getInteractions().push(ha)};
V.prototype.addLayer=function(ha){this.getLayerGroup().getLayers().push(ha)};V.prototype.addOverlay=function(ha){this.getOverlays().push(ha)};V.prototype.addOverlayInternal_=function(ha){var aa=ha.getId();void 0!==aa&&(this.overlayIdIndex_[aa.toString()]=ha);ha.setMap(this)};V.prototype.disposeInternal=function(){this.setTarget(null);C.prototype.disposeInternal.call(this)};V.prototype.forEachFeatureAtPixel=function(ha,aa,ta){if(this.frameState_)return ha=this.getCoordinateFromPixelInternal(ha),ta=
void 0!==ta?ta:{},this.renderer_.forEachFeatureAtCoordinate(ha,this.frameState_,void 0!==ta.hitTolerance?ta.hitTolerance:0,!1!==ta.checkWrapped,aa,null,void 0!==ta.layerFilter?ta.layerFilter:K.TRUE,null)};V.prototype.getFeaturesAtPixel=function(ha,aa){var ta=[];this.forEachFeatureAtPixel(ha,function(wa){ta.push(wa)},aa);return ta};V.prototype.forEachLayerAtPixel=function(ha,aa,ta){if(this.frameState_)return ta=ta||{},this.renderer_.forEachLayerAtPixel(ha,this.frameState_,void 0!==ta.hitTolerance?
ta.hitTolerance:0,aa,ta.layerFilter||K.TRUE)};V.prototype.hasFeatureAtPixel=function(ha,aa){if(!this.frameState_)return!1;ha=this.getCoordinateFromPixelInternal(ha);aa=void 0!==aa?aa:{};return this.renderer_.hasFeatureAtCoordinate(ha,this.frameState_,void 0!==aa.hitTolerance?aa.hitTolerance:0,!1!==aa.checkWrapped,void 0!==aa.layerFilter?aa.layerFilter:K.TRUE,null)};V.prototype.getEventCoordinate=function(ha){return this.getCoordinateFromPixel(this.getEventPixel(ha))};V.prototype.getEventCoordinateInternal=
function(ha){return this.getCoordinateFromPixelInternal(this.getEventPixel(ha))};V.prototype.getEventPixel=function(ha){var aa=this.viewport_.getBoundingClientRect();ha="changedTouches"in ha?ha.changedTouches[0]:ha;return[ha.clientX-aa.left,ha.clientY-aa.top]};V.prototype.getTarget=function(){return this.get(y["default"].TARGET)};V.prototype.getTargetElement=function(){var ha=this.getTarget();return void 0!==ha?"string"===typeof ha?document.getElementById(ha):ha:null};V.prototype.getCoordinateFromPixel=
function(ha){return(0,fa.toUserCoordinate)(this.getCoordinateFromPixelInternal(ha),this.getView().getProjection())};V.prototype.getCoordinateFromPixelInternal=function(ha){var aa=this.frameState_;return aa?(0,R.apply)(aa.pixelToCoordinateTransform,ha.slice()):null};V.prototype.getControls=function(){return this.controls};V.prototype.getOverlays=function(){return this.overlays_};V.prototype.getOverlayById=function(ha){ha=this.overlayIdIndex_[ha.toString()];return void 0!==ha?ha:null};V.prototype.getInteractions=
function(){return this.interactions};V.prototype.getLayerGroup=function(){return this.get(y["default"].LAYERGROUP)};V.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};V.prototype.getLoading=function(){for(var ha=this.getLayerGroup().getLayerStatesArray(),aa=0,ta=ha.length;aa<ta;++aa){var wa=ha[aa].layer.getSource();if(wa&&wa.loading)return!0}return!1};V.prototype.getPixelFromCoordinate=function(ha){ha=(0,fa.fromUserCoordinate)(ha,this.getView().getProjection());return this.getPixelFromCoordinateInternal(ha)};
V.prototype.getPixelFromCoordinateInternal=function(ha){var aa=this.frameState_;return aa?(0,R.apply)(aa.coordinateToPixelTransform,ha.slice(0,2)):null};V.prototype.getRenderer=function(){return this.renderer_};V.prototype.getSize=function(){return this.get(y["default"].SIZE)};V.prototype.getView=function(){return this.get(y["default"].VIEW)};V.prototype.getViewport=function(){return this.viewport_};V.prototype.getOverlayContainer=function(){return this.overlayContainer_};V.prototype.getOverlayContainerStopEvent=
function(){return this.overlayContainerStopEvent_};V.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document};V.prototype.getTilePriority=function(ha,aa,ta,wa){return(0,M.getTilePriority)(this.frameState_,ha,aa,ta,wa)};V.prototype.handleBrowserEvent=function(ha,aa){ha=new d["default"](aa||ha.type,this,ha);this.handleMapBrowserEvent(ha)};V.prototype.handleMapBrowserEvent=function(ha){if(this.frameState_){var aa=ha.originalEvent,ta=aa.type;
if(ta===D["default"].POINTERDOWN||ta===m["default"].WHEEL||ta===m["default"].KEYDOWN){ta=this.getOwnerDocument();var wa=this.viewport_.getRootNode?this.viewport_.getRootNode():ta;aa="host"in wa?wa.elementFromPoint(aa.clientX,aa.clientY):aa.target;if(this.overlayContainerStopEvent_.contains(aa)||!(wa===ta?ta.documentElement:wa).contains(aa))return}ha.frameState=this.frameState_;if(!1!==this.dispatchEvent(ha))for(aa=this.getInteractions().getArray().slice(),ta=aa.length-1;0<=ta&&(wa=aa[ta],wa.getMap()!==
this||!wa.getActive()||!this.getTargetElement()||wa.handleEvent(ha)&&!ha.propagationStopped);ta--);}};V.prototype.handlePostRender=function(){var ha=this.frameState_,aa=this.tileQueue_;if(!aa.isEmpty()){var ta=this.maxTilesLoading_,wa=ta;if(ha){var Ha=ha.viewHints;if(Ha[z["default"].ANIMATING]||Ha[z["default"].INTERACTING])ta=(wa=!G.IMAGE_DECODE&&8<Date.now()-ha.time)?0:8,wa=wa?0:2}aa.getTilesLoading()<ta&&(aa.reprioritize(),aa.loadMoreTiles(ta,wa))}!ha||!this.hasListener(O["default"].RENDERCOMPLETE)||
ha.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(O["default"].RENDERCOMPLETE,ha);aa=this.postRenderFunctions_;ta=0;for(wa=aa.length;ta<wa;++ta)aa[ta](this,ha);aa.length=0};V.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};V.prototype.handleTargetChanged_=function(){var ha;this.getTarget()&&(ha=this.getTargetElement());if(this.mapBrowserEventHandler_){for(var aa=
0,ta=this.keyHandlerKeys_.length;aa<ta;++aa)(0,la.unlistenByKey)(this.keyHandlerKeys_[aa]);this.keyHandlerKeys_=null;this.viewport_.removeEventListener(m["default"].CONTEXTMENU,this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(m["default"].WHEEL,this.boundHandleBrowserEvent_);void 0!==this.handleResize_&&(removeEventListener(m["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,Z.removeNode)(this.viewport_)}if(ha){ha.appendChild(this.viewport_);
this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new f["default"](this,this.moveTolerance_);for(var wa in a["default"])this.mapBrowserEventHandler_.addEventListener(a["default"][wa],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(m["default"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(m["default"].WHEEL,this.boundHandleBrowserEvent_,G.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);ha=this.keyboardEventTarget_?this.keyboardEventTarget_:
ha;this.keyHandlerKeys_=[(0,la.listen)(ha,m["default"].KEYDOWN,this.handleBrowserEvent,this),(0,la.listen)(ha,m["default"].KEYPRESS,this.handleBrowserEvent,this)];this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(m["default"].RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&
(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};V.prototype.handleTileChange_=function(){this.render()};V.prototype.handleViewPropertyChanged_=function(){this.render()};V.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,la.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,la.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var ha=
this.getView();ha&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,la.listen)(ha,B["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,la.listen)(ha,m["default"].CHANGE,this.handleViewPropertyChanged_,this),ha.resolveConstraints(0));this.render()};V.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(la.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var ha=
this.getLayerGroup();ha&&(this.layerGroupPropertyListenerKeys_=[(0,la.listen)(ha,B["default"].PROPERTYCHANGE,this.render,this),(0,la.listen)(ha,m["default"].CHANGE,this.render,this)]);this.render()};V.prototype.isRendered=function(){return!!this.frameState_};V.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};V.prototype.redrawText=function(){for(var ha=this.getLayerGroup().getLayerStatesArray(),aa=0,ta=ha.length;aa<ta;++aa){var wa=
ha[aa].layer;wa.hasRenderer()&&wa.getRenderer().handleFontsChanged()}};V.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};V.prototype.removeControl=function(ha){return this.getControls().remove(ha)};V.prototype.removeInteraction=function(ha){return this.getInteractions().remove(ha)};V.prototype.removeLayer=function(ha){return this.getLayerGroup().getLayers().remove(ha)};V.prototype.removeOverlay=function(ha){return this.getOverlays().remove(ha)};
V.prototype.renderFrame_=function(ha){var aa=this,ta=this.getSize(),wa=this.getView(),Ha=this.frameState_,bb=null;void 0!==ta&&(0,ia.hasArea)(ta)&&wa&&wa.isDef()&&(bb=wa.getHints(this.frameState_?this.frameState_.viewHints:void 0),wa=wa.getState(),bb={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ja.getForViewAndSize)(wa.center,wa.resolution,wa.rotation,ta),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),
pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:ta,tileQueue:this.tileQueue_,time:ha,usedTiles:{},viewState:wa,viewHints:bb,wantedTiles:{}});this.frameState_=bb;this.renderer_.renderFrame(bb);bb&&(bb.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,bb.postRenderFunctions),!Ha||this.previousExtent_&&((0,ja.isEmpty)(this.previousExtent_)||(0,ja.equals)(bb.extent,this.previousExtent_))||(this.dispatchEvent(new e["default"](n["default"].MOVESTART,
this,Ha)),this.previousExtent_=(0,ja.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||bb.viewHints[z["default"].ANIMATING]||bb.viewHints[z["default"].INTERACTING]||(0,ja.equals)(bb.extent,this.previousExtent_)||(this.dispatchEvent(new e["default"](n["default"].MOVEEND,this,bb)),(0,ja.clone)(bb.extent,this.previousExtent_)));this.dispatchEvent(new e["default"](n["default"].POSTRENDER,this,bb));this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){aa.postRenderTimeoutHandle_=
void 0;aa.handlePostRender()},0))};V.prototype.setLayerGroup=function(ha){this.set(y["default"].LAYERGROUP,ha)};V.prototype.setSize=function(ha){this.set(y["default"].SIZE,ha)};V.prototype.setTarget=function(ha){this.set(y["default"].TARGET,ha)};V.prototype.setView=function(ha){this.set(y["default"].VIEW,ha)};V.prototype.updateSize=function(){var ha=this.getTargetElement();if(ha){var aa=getComputedStyle(ha);this.setSize([ha.offsetWidth-parseFloat(aa.borderLeftWidth)-parseFloat(aa.paddingLeft)-parseFloat(aa.paddingRight)-
parseFloat(aa.borderRightWidth),ha.offsetHeight-parseFloat(aa.borderTopWidth)-parseFloat(aa.paddingTop)-parseFloat(aa.paddingBottom)-parseFloat(aa.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()};V.prototype.updateViewportSize_=function(){var ha=this.getView();if(ha){var aa=void 0,ta=getComputedStyle(this.viewport_);ta.width&&ta.height&&(aa=[parseInt(ta.width,10),parseInt(ta.height,10)]);ha.setViewportSize(aa)}};return V}(x["default"]);E["default"]=Ia};
shadow$provide[154]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(89));var l=k(A(112)),w=A(71),H=A(87),N=A(101),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=v.call(this)||this,d=m.element;!d||m.target||d.style.pointerEvents||(d.style.pointerEvents="auto");g.element=d?d:null;g.target_=null;g.map_=null;g.listenerKeys=[];m.render&&(g.render=m.render);m.target&&g.setTarget(m.target);return g}x(u,v);u.prototype.disposeInternal=function(){(0,N.removeNode)(this.element);v.prototype.disposeInternal.call(this)};u.prototype.getMap=function(){return this.map_};u.prototype.setMap=
function(m){this.map_&&(0,N.removeNode)(this.element);for(var g=0,d=this.listenerKeys.length;g<d;++g)(0,H.unlistenByKey)(this.listenerKeys[g]);this.listenerKeys.length=0;if(this.map_=m)(this.target_?this.target_:m.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==w.VOID&&this.listenerKeys.push((0,H.listen)(m,l["default"].POSTRENDER,this.render,this)),m.render()};u.prototype.render=function(m){};u.prototype.setTarget=function(m){this.target_="string"===typeof m?document.getElementById(m):
m};return u}(Ia["default"]);E["default"]=A};
shadow$provide[155]=function(Ia,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(154));var l=k(A(86)),w=A(99),H=A(70),N=A(94),x=A(101),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);
m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=g?g:{};g=u.call(this,{element:document.createElement("div"),render:d.render,target:d.target})||this;g.ulElement_=document.createElement("ul");g.collapsed_=void 0!==d.collapsed?d.collapsed:!0;g.userCollapsed_=g.collapsed_;g.overrideCollapsible_=void 0!==d.collapsible;g.collapsible_=void 0!==d.collapsible?d.collapsible:!0;g.collapsible_||(g.collapsed_=!1);var f=void 0!==d.className?d.className:
"ol-attribution",a=void 0!==d.tipLabel?d.tipLabel:"Attributions",e=void 0!==d.expandClassName?d.expandClassName:f+"-expand",n=void 0!==d.collapseLabel?d.collapseLabel:"",y=void 0!==d.collapseClassName?d.collapseClassName:f+"-collpase";"string"===typeof n?(g.collapseLabel_=document.createElement("span"),g.collapseLabel_.textContent=n,g.collapseLabel_.className=y):g.collapseLabel_=n;d=void 0!==d.label?d.label:"i";"string"===typeof d?(g.label_=document.createElement("span"),g.label_.textContent=d,g.label_.className=
e):g.label_=d;d=g.collapsible_&&!g.collapsed_?g.collapseLabel_:g.label_;e=document.createElement("button");e.setAttribute("type","button");e.title=a;e.appendChild(d);e.addEventListener(l["default"].CLICK,g.handleClick_.bind(g),!1);a=g.element;a.className=f+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL+(g.collapsed_&&g.collapsible_?" "+w.CLASS_COLLAPSED:"")+(g.collapsible_?"":" ol-uncollapsible");a.appendChild(g.ulElement_);a.appendChild(e);g.renderedAttributions_=[];g.renderedVisible_=!0;return g}
v(m,u);m.prototype.collectSourceAttributions_=function(g){for(var d={},f=[],a=!0,e=g.layerStatesArray,n=0,y=e.length;n<y;++n){var B=e[n];if((0,N.inView)(B,g.viewState)){var D=B.layer.getSource();if(D&&(B=D.getAttributions())&&(B=B(g)))if(a=a&&!1!==D.getAttributionsCollapsible(),Array.isArray(B)){D=0;for(var O=B.length;D<O;++D)B[D]in d||(f.push(B[D]),d[B[D]]=!0)}else B in d||(f.push(B),d[B]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return f};m.prototype.updateElement_=function(g){if(g){g=
this.collectSourceAttributions_(g);var d=0<g.length;this.renderedVisible_!=d&&(this.element.style.display=d?"":"none",this.renderedVisible_=d);if(!(0,H.equals)(g,this.renderedAttributions_)){(0,x.removeChildren)(this.ulElement_);d=0;for(var f=g.length;d<f;++d){var a=document.createElement("li");a.innerHTML=g[d];this.ulElement_.appendChild(a)}this.renderedAttributions_=g}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};m.prototype.handleClick_=function(g){g.preventDefault();
this.handleToggle_();this.userCollapsed_=this.collapsed_};m.prototype.handleToggle_=function(){this.element.classList.toggle(w.CLASS_COLLAPSED);this.collapsed_?(0,x.replaceNode)(this.collapseLabel_,this.label_):(0,x.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};m.prototype.getCollapsible=function(){return this.collapsible_};m.prototype.setCollapsible=function(g){this.collapsible_!==g&&(this.collapsible_=g,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&
this.handleToggle_())};m.prototype.setCollapsed=function(g){this.userCollapsed_=g;this.collapsible_&&this.collapsed_!==g&&this.handleToggle_()};m.prototype.getCollapsed=function(){return this.collapsed_};m.prototype.render=function(g){this.updateElement_(g.frameState)};return m}(Ia["default"]);E["default"]=A};
shadow$provide[156]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(154));var l=k(A(86)),w=A(99),H=A(132),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=u?u:{};u=x.call(this,{element:document.createElement("div"),render:m.render,target:m.target})||this;var g=void 0!==m.className?m.className:"ol-rotate",d=void 0!==m.label?m.label:"",f=void 0!==m.compassClassName?m.compassClassName:"ol-compass";u.label_=null;"string"===typeof d?(u.label_=document.createElement("span"),u.label_.className=f,u.label_.textContent=d):(u.label_=d,u.label_.classList.add(f));f=m.tipLabel?
m.tipLabel:"Reset rotation";d=document.createElement("button");d.className=g+"-reset";d.setAttribute("type","button");d.title=f;d.appendChild(u.label_);d.addEventListener(l["default"].CLICK,u.handleClick_.bind(u),!1);f=u.element;f.className=g+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;f.appendChild(d);u.callResetNorth_=m.resetNorth?m.resetNorth:void 0;u.duration_=void 0!==m.duration?m.duration:250;u.autoHide_=void 0!==m.autoHide?m.autoHide:!0;u.rotation_=void 0;u.autoHide_&&u.element.classList.add(w.CLASS_HIDDEN);
return u}N(v,x);v.prototype.handleClick_=function(u){u.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};v.prototype.resetNorth_=function(){var u=this.getMap().getView();if(u){var m=u.getRotation();void 0!==m&&(0<this.duration_&&0!==m%(2*Math.PI)?u.animate({rotation:0,duration:this.duration_,easing:H.easeOut}):u.setRotation(0))}};v.prototype.render=function(u){if(u=u.frameState){u=u.viewState.rotation;if(u!=this.rotation_){var m="rotate("+u+"rad)";if(this.autoHide_){var g=
this.element.classList.contains(w.CLASS_HIDDEN);g||0!==u?g&&0!==u&&this.element.classList.remove(w.CLASS_HIDDEN):this.element.classList.add(w.CLASS_HIDDEN)}this.label_.style.transform=m}this.rotation_=u}};return v}(Ia["default"]);E["default"]=A};
shadow$provide[157]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(154));var l=k(A(86)),w=A(99),H=A(132),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=u?u:{};u=x.call(this,{element:document.createElement("div"),target:m.target})||this;var g=void 0!==m.className?m.className:"ol-zoom",d=void 0!==m.delta?m.delta:1,f=void 0!==m.zoomInClassName?m.zoomInClassName:g+"-in",a=void 0!==m.zoomOutClassName?m.zoomOutClassName:g+"-out",e=void 0!==m.zoomInLabel?m.zoomInLabel:"+",n=void 0!==m.zoomOutLabel?m.zoomOutLabel:"",y=void 0!==m.zoomInTipLabel?m.zoomInTipLabel:"Zoom in",
B=void 0!==m.zoomOutTipLabel?m.zoomOutTipLabel:"Zoom out",D=document.createElement("button");D.className=f;D.setAttribute("type","button");D.title=y;D.appendChild("string"===typeof e?document.createTextNode(e):e);D.addEventListener(l["default"].CLICK,u.handleClick_.bind(u,d),!1);f=document.createElement("button");f.className=a;f.setAttribute("type","button");f.title=B;f.appendChild("string"===typeof n?document.createTextNode(n):n);f.addEventListener(l["default"].CLICK,u.handleClick_.bind(u,-d),!1);
d=u.element;d.className=g+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;d.appendChild(D);d.appendChild(f);u.duration_=void 0!==m.duration?m.duration:250;return u}N(v,x);v.prototype.handleClick_=function(u,m){m.preventDefault();this.zoomByDelta_(u)};v.prototype.zoomByDelta_=function(u){var m=this.getMap().getView();if(m){var g=m.getZoom();void 0!==g&&(u=m.getConstrainedZoom(g+u),0<this.duration_?(m.getAnimating()&&m.cancelAnimations(),m.animate({zoom:u,duration:this.duration_,easing:H.easeOut})):m.setZoom(u))}};
return v}(Ia["default"]);E["default"]=A};
shadow$provide[158]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(){var d=document.body;return!!(d.webkitRequestFullscreen||d.msRequestFullscreen&&document.msFullscreenEnabled||d.requestFullscreen&&document.fullscreenEnabled)}function w(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function H(d){d.requestFullscreen?d.requestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():d.webkitRequestFullscreen&&
d.webkitRequestFullscreen()}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(154));var N=k(A(86)),x=A(99),v=A(87),u=A(101),m=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),
g=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];A=function(d){function f(a){var e=a?a:{};a=d.call(this,{element:document.createElement("div"),target:e.target})||this;a.cssClassName_=void 0!==e.className?e.className:"ol-full-screen";a.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[a.cssClassName_+"-true"];a.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[a.cssClassName_+"-false"];var n=void 0!==e.label?e.label:"";a.labelNode_=
"string"===typeof n?document.createTextNode(n):n;n=void 0!==e.labelActive?e.labelActive:"";a.labelActiveNode_="string"===typeof n?document.createTextNode(n):n;a.button_=document.createElement("button");n=e.tipLabel?e.tipLabel:"Toggle full-screen";a.setClassName_(a.button_,w());a.button_.setAttribute("type","button");a.button_.title=n;a.button_.appendChild(a.labelNode_);a.button_.addEventListener(N["default"].CLICK,a.handleClick_.bind(a),!1);n=a.cssClassName_+" "+x.CLASS_UNSELECTABLE+" "+x.CLASS_CONTROL+
" "+(l()?"":x.CLASS_UNSUPPORTED);var y=a.element;y.className=n;y.appendChild(a.button_);a.keys_=void 0!==e.keys?e.keys:!1;a.source_=e.source;return a}m(f,d);f.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};f.prototype.handleFullScreen_=function(){if(l()){var a=this.getMap();a&&(w()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.source_?"string"===
typeof this.source_?document.getElementById(this.source_):this.source_:a.getTargetElement(),this.keys_?a.webkitRequestFullscreen?a.webkitRequestFullscreen():H(a):H(a)))}};f.prototype.handleFullScreenChange_=function(){var a=this.getMap();w()?(this.setClassName_(this.button_,!0),(0,u.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,u.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen"));
a&&a.updateSize()};f.prototype.setClassName_=function(a,e){var n,y,B,D=this.activeClassName_,O=this.inactiveClassName_;e=e?D:O;(n=a.classList).remove.apply(n,D);(y=a.classList).remove.apply(y,O);(B=a.classList).add.apply(B,e)};f.prototype.setMap=function(a){d.prototype.setMap.call(this,a);if(a){a=0;for(var e=g.length;a<e;++a)this.listenerKeys.push((0,v.listen)(document,g[a],this.handleFullScreenChange_,this))}};return f}(Ia["default"]);E["default"]=A};
shadow$provide[159]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(154));var l=k(A(110)),w=A(89),H=A(128),N=A(87),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=m?m:{},d=document.createElement("div");d.className=void 0!==g.className?g.className:"ol-mouse-position";m=v.call(this,{element:d,render:g.render,target:g.target})||this;m.addEventListener((0,w.getChangeEventType)("projection"),m.handleProjectionChanged_);g.coordinateFormat&&m.setCoordinateFormat(g.coordinateFormat);g.projection&&m.setProjection(g.projection);m.undefinedHTML_=void 0!==g.undefinedHTML?g.undefinedHTML:
"\x26#160;";m.renderOnMouseOut_=!!m.undefinedHTML_;m.renderedHTML_=d.innerHTML;m.mapProjection_=null;m.transform_=null;return m}x(u,v);u.prototype.handleProjectionChanged_=function(){this.transform_=null};u.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};u.prototype.getProjection=function(){return this.get("projection")};u.prototype.handleMouseMove=function(m){var g=this.getMap();this.updateHTML_(g.getEventPixel(m))};u.prototype.handleMouseOut=function(m){this.updateHTML_(null)};
u.prototype.setMap=function(m){v.prototype.setMap.call(this,m);m&&(m=m.getViewport(),this.listenerKeys.push((0,N.listen)(m,l["default"].POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,N.listen)(m,l["default"].POINTEROUT,this.handleMouseOut,this)))};u.prototype.setCoordinateFormat=function(m){this.set("coordinateFormat",m)};u.prototype.setProjection=function(m){this.set("projection",(0,H.get)(m))};u.prototype.updateHTML_=function(m){var g=this.undefinedHTML_;
if(m&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();this.transform_=d?(0,H.getTransformFromProjections)(this.mapProjection_,d):H.identityTransform}if(m=this.getMap().getCoordinateFromPixelInternal(m)){if(g=(0,H.getUserProjection)())this.transform_=(0,H.getTransformFromProjections)(this.mapProjection_,g);this.transform_(m,m);g=(g=this.getCoordinateFormat())?g(m):m.toString()}}this.renderedHTML_&&g===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=g)};u.prototype.render=
function(m){m=m.frameState;m?this.mapProjection_!=m.viewState.projection&&(this.mapProjection_=m.viewState.projection,this.transform_=null):this.mapProjection_=null};return u}(Ia["default"]);E["default"]=A};
shadow$provide[160]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[161]=function(Ia,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}function w(f){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return w(f)}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==w(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var B=n?Object.getOwnPropertyDescriptor(f,y):null;B&&(B.get||B.set)?Object.defineProperty(e,y,B):e[y]=f[y]}e["default"]=f;a&&a.set(f,e);return e}(A(89)),N=k(A(112)),x=k(A(160)),v=A(99),u=A(78),m=A(87),g=A(101),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ia=function(f){function a(e){var n=f.call(this)||this;n.options=e;n.id=e.id;n.insertFirst=void 0!==e.insertFirst?e.insertFirst:!0;n.stopEvent=void 0!==e.stopEvent?e.stopEvent:
!0;n.element=document.createElement("div");n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+v.CLASS_SELECTABLE;n.element.style.position="absolute";n.element.style.pointerEvents="auto";var y=e.autoPan;y&&"object"!==w(y)&&(y={animation:e.autoPanAnimation,margin:e.autoPanMargin});n.autoPan=y||!1;n.rendered={transform_:"",visible:!0};n.mapPostrenderListenerKey=null;n.addEventListener((0,H.getChangeEventType)("element"),n.handleElementChanged);n.addEventListener((0,H.getChangeEventType)("map"),
n.handleMapChanged);n.addEventListener((0,H.getChangeEventType)("offset"),n.handleOffsetChanged);n.addEventListener((0,H.getChangeEventType)("position"),n.handlePositionChanged);n.addEventListener((0,H.getChangeEventType)("positioning"),n.handlePositioningChanged);void 0!==e.element&&n.setElement(e.element);n.setOffset(void 0!==e.offset?e.offset:[0,0]);n.setPositioning(void 0!==e.positioning?e.positioning:x["default"].TOP_LEFT);void 0!==e.position&&n.setPosition(e.position);return n}d(a,f);a.prototype.getElement=
function(){return this.get("element")};a.prototype.getId=function(){return this.id};a.prototype.getMap=function(){return this.get("map")};a.prototype.getOffset=function(){return this.get("offset")};a.prototype.getPosition=function(){return this.get("position")};a.prototype.getPositioning=function(){return this.get("positioning")};a.prototype.handleElementChanged=function(){(0,g.removeChildren)(this.element);var e=this.getElement();e&&this.element.appendChild(e)};a.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&
((0,g.removeNode)(this.element),(0,m.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();e&&(this.mapPostrenderListenerKey=(0,m.listen)(e,N["default"].POSTRENDER,this.render,this),this.updatePixelPosition(),e=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer(),this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan())};a.prototype.render=function(){this.updatePixelPosition()};
a.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};a.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};a.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};a.prototype.setElement=function(e){this.set("element",e)};a.prototype.setMap=function(e){this.set("map",e)};a.prototype.setOffset=function(e){this.set("offset",e)};a.prototype.setPosition=function(e){this.set("position",e)};a.prototype.performAutoPan=function(){this.autoPan&&
this.panIntoView(this.autoPan)};a.prototype.panIntoView=function(e){var n=this.getMap();if(n&&n.getTargetElement()&&this.get("position")){var y=this.getRect(n.getTargetElement(),n.getSize()),B=this.getElement(),D=this.getRect(B,[(0,g.outerWidth)(B),(0,g.outerHeight)(B)]);e=e||{};B=void 0===e.margin?20:e.margin;if(!(0,u.containsExtent)(y,D)){var O=D[0]-y[0],M=y[2]-D[2],F=D[1]-y[1];D=y[3]-D[3];y=[0,0];0>O?y[0]=O-B:0>M&&(y[0]=Math.abs(M)+B);0>F?y[1]=F-B:0>D&&(y[1]=Math.abs(D)+B);if(0!==y[0]||0!==y[1])if(B=
n.getView().getCenterInternal(),B=n.getPixelFromCoordinateInternal(B))y=[B[0]+y[0],B[1]+y[1]],e=e.animation||{},n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(y),duration:e.duration,easing:e.easing})}}};a.prototype.getRect=function(e,n){var y=e.getBoundingClientRect();e=y.left+window.pageXOffset;y=y.top+window.pageYOffset;return[e,y,e+n[0],y+n[1]]};a.prototype.setPositioning=function(e){this.set("positioning",e)};a.prototype.setVisible=function(e){this.rendered.visible!==e&&
(this.element.style.display=e?"":"none",this.rendered.visible=e)};a.prototype.updatePixelPosition=function(){var e=this.getMap(),n=this.getPosition();e&&e.isRendered()&&n?(n=e.getPixelFromCoordinate(n),e=e.getSize(),this.updateRenderedPosition(n,e)):this.setVisible(!1)};a.prototype.updateRenderedPosition=function(e,n){n=this.element.style;var y=this.getOffset(),B=this.getPositioning();this.setVisible(!0);var D=Math.round(e[0]+y[0])+"px";e=Math.round(e[1]+y[1])+"px";var O=y="0%";if(B==x["default"].BOTTOM_RIGHT||
B==x["default"].CENTER_RIGHT||B==x["default"].TOP_RIGHT)y="-100%";else if(B==x["default"].BOTTOM_CENTER||B==x["default"].CENTER_CENTER||B==x["default"].TOP_CENTER)y="-50%";if(B==x["default"].BOTTOM_LEFT||B==x["default"].BOTTOM_CENTER||B==x["default"].BOTTOM_RIGHT)O="-100%";else if(B==x["default"].CENTER_LEFT||B==x["default"].CENTER_CENTER||B==x["default"].CENTER_RIGHT)O="-50%";B="translate("+y+", "+O+") translate("+D+", "+e+")";this.rendered.transform_!=B&&(this.rendered.transform_=B,n.transform=
B,n.msTransform=B)};a.prototype.getOptions=function(){return this.options};return a}(H["default"]);E["default"]=Ia};
shadow$provide[162]=function(Ia,A,rb,E){function k(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(103));Ia=k(A(154));var w=k(A(86)),H=k(A(112)),N=k(A(113)),x=k(A(83)),v=k(A(161)),u=k(A(160));rb=k(A(153));var m=k(A(151)),g=k(A(120)),d=A(99),f=A(78),a=A(89),e=A(87),n=A(150),y=A(101),B=function(){var O=function(M,F){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var K in G)Object.prototype.hasOwnProperty.call(G,
K)&&(z[K]=G[K])};return O(M,F)};return function(M,F){function z(){this.constructor=M}O(M,F);M.prototype=null===F?Object.create(F):(z.prototype=F.prototype,new z)}}(),D=function(O){function M(){return null!==O&&O.apply(this,arguments)||this}B(M,O);M.prototype.createRenderer=function(){return new l["default"](this)};return M}(rb["default"]);A=function(O){function M(F){var z=this,G=F?F:{};z=O.call(this,{element:document.createElement("div"),render:G.render,target:G.target})||this;z.boundHandleRotationChanged_=
z.handleRotationChanged_.bind(z);z.collapsed_=void 0!==G.collapsed?G.collapsed:!0;z.collapsible_=void 0!==G.collapsible?G.collapsible:!0;z.collapsible_||(z.collapsed_=!1);z.rotateWithView_=void 0!==G.rotateWithView?G.rotateWithView:!1;z.viewExtent_=void 0;F=void 0!==G.className?G.className:"ol-overviewmap";var K=void 0!==G.tipLabel?G.tipLabel:"Overview map",R=void 0!==G.collapseLabel?G.collapseLabel:"";"string"===typeof R?(z.collapseLabel_=document.createElement("span"),z.collapseLabel_.textContent=
R):z.collapseLabel_=R;R=void 0!==G.label?G.label:"";"string"===typeof R?(z.label_=document.createElement("span"),z.label_.textContent=R):z.label_=R;var T=z.collapsible_&&!z.collapsed_?z.collapseLabel_:z.label_;R=document.createElement("button");R.setAttribute("type","button");R.title=K;R.appendChild(T);R.addEventListener(w["default"].CLICK,z.handleClick_.bind(z),!1);z.ovmapDiv_=document.createElement("div");z.ovmapDiv_.className="ol-overviewmap-map";z.view_=G.view;z.ovmap_=new D({view:G.view});var ja=
z.ovmap_;G.layers&&G.layers.forEach(function(P){ja.addLayer(P)});G=document.createElement("div");G.className="ol-overviewmap-box";G.style.boxSizing="border-box";z.boxOverlay_=new v["default"]({position:[0,0],positioning:u["default"].CENTER_CENTER,element:G});z.ovmap_.addOverlay(z.boxOverlay_);G=z.element;G.className=F+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(z.collapsed_&&z.collapsible_?" "+d.CLASS_COLLAPSED:"")+(z.collapsible_?"":" ol-uncollapsible");G.appendChild(z.ovmapDiv_);G.appendChild(R);
var fa=z,ia=z.boxOverlay_,la=function(P){P=ja.getEventCoordinateInternal({clientX:P.clientX,clientY:P.clientY});ia.setPosition(P)},Z=function V(C){C=ja.getEventCoordinateInternal(C);fa.getMap().getView().setCenterInternal(C);window.removeEventListener("mousemove",la);window.removeEventListener("mouseup",V)};z.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",la);window.addEventListener("mouseup",Z)});return z}B(M,O);M.prototype.setMap=function(F){var z=
this.getMap();F!==z&&(z&&((z=z.getView())&&this.unbindView_(z),this.ovmap_.setTarget(null)),O.prototype.setMap.call(this,F),F&&(this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,e.listen)(F,x["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),F=F.getView()))&&(this.bindView_(F),F.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))};M.prototype.handleMapPropertyChange_=function(F){F.key===N["default"].VIEW&&((F=F.oldValue)&&this.unbindView_(F),F=this.getMap().getView(),
this.bindView_(F))};M.prototype.bindView_=function(F){if(!this.view_){var z=new m["default"]({projection:F.getProjection()});this.ovmap_.setView(z)}F.addEventListener((0,a.getChangeEventType)(g["default"].ROTATION),this.boundHandleRotationChanged_);this.handleRotationChanged_()};M.prototype.unbindView_=function(F){F.removeEventListener((0,a.getChangeEventType)(g["default"].ROTATION),this.boundHandleRotationChanged_)};M.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};
M.prototype.validateExtent_=function(){var F=this.getMap(),z=this.ovmap_;if(F.isRendered()&&z.isRendered()){var G=F.getSize();F=F.getView().calculateExtentInternal(G);if(!this.viewExtent_||!(0,f.equals)(F,this.viewExtent_)){this.viewExtent_=F;var K=z.getSize();G=z.getView().calculateExtentInternal(K);var R=z.getPixelFromCoordinateInternal((0,f.getTopLeft)(F)),T=z.getPixelFromCoordinateInternal((0,f.getBottomRight)(F));z=Math.abs(R[0]-T[0]);R=Math.abs(R[1]-T[1]);T=K[0];K=K[1];z<.1*T||R<.1*K||z>.75*
T||R>.75*K?this.resetExtent_():(0,f.containsExtent)(G,F)||this.recenter_()}}};M.prototype.resetExtent_=function(){var F=this.getMap(),z=this.ovmap_,G=F.getSize();F=F.getView().calculateExtentInternal(G);z=z.getView();G=1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2));(0,f.scaleFromCenter)(F,G);z.fitInternal((0,n.fromExtent)(F))};M.prototype.recenter_=function(){var F=this.getMap(),z=this.ovmap_;F=F.getView();z.getView().setCenterInternal(F.getCenterInternal())};M.prototype.updateBox_=function(){var F=
this.getMap(),z=this.ovmap_;if(F.isRendered()&&z.isRendered()){var G=F.getSize(),K=F.getView(),R=z.getView();z=this.rotateWithView_?0:-K.getRotation();F=this.boxOverlay_;var T=this.boxOverlay_.getElement(),ja=K.getCenterInternal();K=K.getResolution();var fa=R.getResolution();R=G[0]*K/fa;G=G[1]*K/fa;F.setPosition(ja);T&&(T.style.width=R+"px",T.style.height=G+"px",T.style.transform="rotate("+z+"rad)")}};M.prototype.handleClick_=function(F){F.preventDefault();this.handleToggle_()};M.prototype.handleToggle_=
function(){this.element.classList.toggle(d.CLASS_COLLAPSED);this.collapsed_?(0,y.replaceNode)(this.collapseLabel_,this.label_):(0,y.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;var F=this.ovmap_;this.collapsed_||(F.isRendered()?(this.viewExtent_=void 0,F.render()):(F.updateSize(),this.resetExtent_(),(0,e.listenOnce)(F,H["default"].POSTRENDER,function(z){this.updateBox_()},this)))};M.prototype.getCollapsible=function(){return this.collapsible_};M.prototype.setCollapsible=
function(F){this.collapsible_!==F&&(this.collapsible_=F,this.element.classList.toggle("ol-uncollapsible"),!F&&this.collapsed_&&this.handleToggle_())};M.prototype.setCollapsed=function(F){this.collapsible_&&this.collapsed_!==F&&this.handleToggle_()};M.prototype.getCollapsed=function(){return this.collapsed_};M.prototype.getRotateWithView=function(){return this.rotateWithView_};M.prototype.setRotateWithView=function(F){this.rotateWithView_!==F&&(this.rotateWithView_=F,0!==this.getMap().getView().getRotation()&&
(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};M.prototype.getOverviewMap=function(){return this.ovmap_};M.prototype.render=function(F){this.validateExtent_();this.updateBox_()};return M}(Ia["default"]);E["default"]=A};
shadow$provide[163]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Units=void 0;Ia=k(A(154));var l=k(A(118)),w=A(99),H=A(128),N=A(74),x=A(89),v=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),u={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};E.Units=u;var m=[1,2,5],g=25.4/.28;A=function(d){function f(a){var e=a?a:{},n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";a=d.call(this,{element:document.createElement("div"),render:e.render,target:e.target})||this;a.innerElement_=document.createElement("div");a.innerElement_.className=n+"-inner";a.element.className=
n+" "+w.CLASS_UNSELECTABLE;a.element.appendChild(a.innerElement_);a.viewState_=null;a.minWidth_=void 0!==e.minWidth?e.minWidth:64;a.renderedVisible_=!1;a.renderedWidth_=void 0;a.renderedHTML_="";a.addEventListener((0,x.getChangeEventType)("units"),a.handleUnitsChanged_);a.setUnits(e.units||u.METRIC);a.scaleBar_=e.bar||!1;a.scaleBarSteps_=e.steps||4;a.scaleBarText_=e.text||!1;a.dpi_=e.dpi||void 0;return a}v(f,d);f.prototype.getUnits=function(){return this.get("units")};f.prototype.handleUnitsChanged_=
function(){this.updateElement_()};f.prototype.setUnits=function(a){this.set("units",a)};f.prototype.setDpi=function(a){this.dpi_=a};f.prototype.updateElement_=function(){var a=this.viewState_;if(a){var e=a.center,n=a.projection,y=this.getUnits(),B=y==u.DEGREES?l["default"].DEGREES:l["default"].METERS;a=(0,H.getPointResolution)(n,a.resolution,e,B);e=this.minWidth_*(this.dpi_||g)/g;B=e*a;n="";y==u.DEGREES?(y=H.METERS_PER_UNIT[l["default"].DEGREES],B*=y,B<y/60?(n="",a*=3600):B<y?(n="",a*=60):n=""):
y==u.IMPERIAL?.9144>B?(n="in",a/=.0254):1609.344>B?(n="ft",a/=.3048):(n="mi",a/=1609.344):y==u.NAUTICAL?(a/=1852,n="nm"):y==u.METRIC?.001>B?(n="m",a*=1E6):1>B?(n="mm",a*=1E3):1E3>B?n="m":(n="km",a/=1E3):y==u.US?.9144>B?(n="in",a*=39.37):1609.344>B?(n="ft",a/=.30480061):(n="mi",a/=1609.3472):(0,N.assert)(!1,33);B=3*Math.floor(Math.log(e*a)/Math.log(10));for(var D,O;;){O=Math.floor(B/3);D=m[(B%3+3)%3]*Math.pow(10,O);y=Math.round(D/a);if(isNaN(y)){this.element.style.display="none";this.renderedVisible_=
!1;return}if(y>=e)break;++B}a=this.scaleBar_?this.createScaleBar(y,D,n):D.toFixed(0>O?-O:0)+" "+n;this.renderedHTML_!=a&&(this.renderedHTML_=this.innerElement_.innerHTML=a);this.renderedWidth_!=y&&(this.innerElement_.style.width=y+"px",this.renderedWidth_=y);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};f.prototype.createScaleBar=function(a,e,n){for(var y="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),
B=[],D=a/this.scaleBarSteps_,O="#ffffff",M=0;M<this.scaleBarSteps_;M++)0===M&&B.push(this.createMarker("absolute",M)),B.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+D+"px;background-color: "+O+';"\x3e\x3c/div\x3e'+this.createMarker("relative",M)+(0===M%2||2===this.scaleBarSteps_?this.createStepText(M,a,!1,e,n):"")+"\x3c/div\x3e"),M===this.scaleBarSteps_-1&&B.push(this.createStepText(M+1,a,!0,e,n)),O="#ffffff"===O?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+
(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+a+'px;"\x3e'+y+"\x3c/div\x3e":"")+B.join("")+"\x3c/div\x3e"};f.prototype.createMarker=function(a,e){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+a+";top: "+("absolute"===a?3:-10)+'px;"\x3e\x3c/div\x3e'};f.prototype.createStepText=function(a,e,n,y,B){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===a?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===a?"left":"center")+"; min-width: "+
(0===a?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';"\x3e'+((0===a?0:Math.round(y/this.scaleBarSteps_*a*100)/100)+(0===a?"":" "+B))+"\x3c/div\x3e"};f.prototype.getScaleForResolution=function(){var a=(0,H.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||g,n=this.viewState_.projection.getMetersPerUnit(),y=1E3/25.4;return parseFloat(a.toString())*n*y*e};f.prototype.render=function(a){this.viewState_=(a=a.frameState)?a.viewState:
null;this.updateElement_()};return f}(Ia["default"]);E["default"]=A};
shadow$provide[164]=function(Ia,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(154));var l=k(A(86)),w=k(A(110)),H=A(99),N=A(79),x=A(132),v=A(87),u=A(82),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=f?f:{};f=g.call(this,{element:document.createElement("div"),render:a.render})||this;f.dragListenerKeys_=[];f.currentResolution_=void 0;f.direction_=0;f.heightLimit_=0;f.widthLimit_=0;f.thumbSize_=null;f.sliderInitialized_=!1;f.duration_=void 0!==a.duration?a.duration:200;a=void 0!==a.className?a.className:"ol-zoomslider";var e=document.createElement("button");e.setAttribute("type",
"button");e.className=a+"-thumb "+H.CLASS_UNSELECTABLE;var n=f.element;n.className=a+" "+H.CLASS_UNSELECTABLE+" "+H.CLASS_CONTROL;n.appendChild(e);n.addEventListener(w["default"].POINTERDOWN,f.handleDraggerStart_.bind(f),!1);n.addEventListener(w["default"].POINTERMOVE,f.handleDraggerDrag_.bind(f),!1);n.addEventListener(w["default"].POINTERUP,f.handleDraggerEnd_.bind(f),!1);n.addEventListener(l["default"].CLICK,f.handleContainerClick_.bind(f),!1);e.addEventListener(l["default"].CLICK,u.stopPropagation,
!1);return f}m(d,g);d.prototype.setMap=function(f){g.prototype.setMap.call(this,f);f&&f.render()};d.prototype.initSlider_=function(){var f=this.element,a=f.offsetWidth,e=f.offsetHeight;if(0===a&&0===e)return this.sliderInitialized_=!1;var n=f.firstElementChild,y=getComputedStyle(n);f=n.offsetWidth+parseFloat(y.marginRight)+parseFloat(y.marginLeft);n=n.offsetHeight+parseFloat(y.marginTop)+parseFloat(y.marginBottom);this.thumbSize_=[f,n];a>e?(this.direction_=1,this.widthLimit_=a-f):(this.direction_=
0,this.heightLimit_=e-n);return this.sliderInitialized_=!0};d.prototype.handleContainerClick_=function(f){var a=this.getMap().getView();f=this.getRelativePosition_(f.offsetX-this.thumbSize_[0]/2,f.offsetY-this.thumbSize_[1]/2);f=this.getResolutionForPosition_(f);f=a.getConstrainedZoom(a.getZoomForResolution(f));a.animateInternal({zoom:f,duration:this.duration_,easing:x.easeOut})};d.prototype.handleDraggerStart_=function(f){if(!this.dragging_&&f.target===this.element.firstElementChild){var a=this.element.firstElementChild;
this.getMap().getView().beginInteraction();this.startX_=f.clientX-parseFloat(a.style.left);this.startY_=f.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){f=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var e=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,v.listen)(e,w["default"].POINTERMOVE,f,this),(0,v.listen)(e,w["default"].POINTERUP,a,this))}}};d.prototype.handleDraggerDrag_=function(f){this.dragging_&&(f=this.getRelativePosition_(f.clientX-
this.startX_,f.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(f),this.getMap().getView().setResolution(this.currentResolution_))};d.prototype.handleDraggerEnd_=function(f){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(v.unlistenByKey),this.dragListenerKeys_.length=0)};d.prototype.setThumbPosition_=function(f){f=this.getPositionForResolution_(f);var a=this.element.firstElementChild;
1==this.direction_?a.style.left=this.widthLimit_*f+"px":a.style.top=this.heightLimit_*f+"px"};d.prototype.getRelativePosition_=function(f,a){f=1===this.direction_?f/this.widthLimit_:a/this.heightLimit_;return(0,N.clamp)(f,0,1)};d.prototype.getResolutionForPosition_=function(f){return this.getMap().getView().getResolutionForValueFunction()(1-f)};d.prototype.getPositionForResolution_=function(f){var a=this.getMap().getView().getValueForResolutionFunction();return(0,N.clamp)(1-a(f),0,1)};d.prototype.render=
function(f){f.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=f=f.frameState.viewState.resolution,this.setThumbPosition_(f))};return d}(Ia["default"]);E["default"]=A};
shadow$provide[165]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(154));var l=k(A(86)),w=A(99),H=A(150),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=u?u:{};u=x.call(this,{element:document.createElement("div"),target:m.target})||this;u.extent=m.extent?m.extent:null;var g=void 0!==m.className?m.className:"ol-zoom-extent",d=void 0!==m.label?m.label:"E",f=void 0!==m.tipLabel?m.tipLabel:"Fit to extent";m=document.createElement("button");m.setAttribute("type","button");m.title=f;m.appendChild("string"===typeof d?document.createTextNode(d):d);m.addEventListener(l["default"].CLICK,
u.handleClick_.bind(u),!1);d=u.element;d.className=g+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;d.appendChild(m);return u}N(v,x);v.prototype.handleClick_=function(u){u.preventDefault();this.handleZoomToExtent()};v.prototype.handleZoomToExtent=function(){var u=this.getMap().getView(),m=this.extent?this.extent:u.getProjection().getExtent();u.fitInternal((0,H.fromExtent)(m))};return v}(Ia["default"]);E["default"]=A};
shadow$provide[166]=function(Ia,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E.defaults=function(a){a=a?a:{};var e=new w["default"];(void 0!==a.zoom?a.zoom:1)&&e.push(new N["default"](a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&e.push(new H["default"](a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&e.push(new l["default"](a.attributionOptions));return e};Object.defineProperty(E,"Attribution",{enumerable:!0,get:function(){return l["default"]}});
Object.defineProperty(E,"Rotate",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"Zoom",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,"Control",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"FullScreen",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"MousePosition",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"OverviewMap",{enumerable:!0,get:function(){return m["default"]}});
Object.defineProperty(E,"ScaleLine",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"ZoomSlider",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(E,"ZoomToExtent",{enumerable:!0,get:function(){return f["default"]}});var l=k(A(155)),w=k(A(105)),H=k(A(156)),N=k(A(157)),x=k(A(154)),v=k(A(158)),u=k(A(159)),m=k(A(162)),g=k(A(163)),d=k(A(164)),f=k(A(165))};
shadow$provide[167]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ACTIVE:"active"}};
shadow$provide[168]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E.pan=function(N,x,v){var u=N.getCenterInternal();u&&N.animateInternal({duration:void 0!==v?v:250,easing:w.linear,center:N.getConstrainedCenter([u[0]+x[0],u[1]+x[1]])})};E.zoomByDelta=function(N,x,v,u){var m=N.getZoom();void 0!==m&&(x=N.getConstrainedZoom(m+x),x=N.getResolutionForZoom(x),N.getAnimating()&&N.cancelAnimations(),N.animate({resolution:x,anchor:v,
duration:void 0!==u?u:250,easing:w.easeOut}))};E["default"]=void 0;Ia=k(A(89));var l=k(A(167)),w=A(132),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=N.call(this)||
this;v&&v.handleEvent&&(u.handleEvent=v.handleEvent);u.map_=null;u.setActive(!0);return u}H(x,N);x.prototype.getActive=function(){return this.get(l["default"].ACTIVE)};x.prototype.getMap=function(){return this.map_};x.prototype.handleEvent=function(v){return!0};x.prototype.setActive=function(v){this.set(l["default"].ACTIVE,v)};x.prototype.setMap=function(v){this.map_=v};return x}(Ia["default"]);E["default"]=A};
shadow$provide[169]=function(Ia,A,rb,E){function k(x){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return k(x)}function l(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;l=function(){return x};return x}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==k(x)&&"function"!==typeof x)return{"default":x};var v=l();if(v&&v.has(x))return v.get(x);var u={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in x)if(Object.prototype.hasOwnProperty.call(x,g)){var d=m?Object.getOwnPropertyDescriptor(x,g):null;d&&(d.get||d.set)?Object.defineProperty(u,g,d):u[g]=x[g]}u["default"]=x;v&&v.set(x,u);return u}(A(168)),H=function(x){return x&&x.__esModule?x:{"default":x}}(A(109)),N=function(){var x=function(v,u){x=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();Ia=function(x){function v(u){var m=x.call(this)||this;u=u?u:{};m.delta_=u.delta?u.delta:1;m.duration_=void 0!==u.duration?u.duration:250;return m}N(v,x);v.prototype.handleEvent=function(u){var m=!1;if(u.type==
H["default"].DBLCLICK){m=u.originalEvent;var g=u.coordinate,d=m.shiftKey?-this.delta_:this.delta_;u=u.map.getView();(0,w.zoomByDelta)(u,d,g,this.duration_);m.preventDefault();m=!0}return!m};return v}(w["default"]);E["default"]=Ia};
shadow$provide[170]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E.centroid=function(N){for(var x=N.length,v=0,u=0,m=0;m<x;m++)v+=N[m].clientX,u+=N[m].clientY;return[v/x,u/x]};E["default"]=void 0;Ia=k(A(168));var l=k(A(109)),w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&
(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,u)||this;u.handleDownEvent&&(v.handleDownEvent=u.handleDownEvent);u.handleDragEvent&&(v.handleDragEvent=u.handleDragEvent);u.handleMoveEvent&&(v.handleMoveEvent=u.handleMoveEvent);u.handleUpEvent&&(v.handleUpEvent=u.handleUpEvent);u.stopDown&&(v.stopDown=u.stopDown);v.handlingDownUpSequence=
!1;v.trackedPointers_={};v.targetPointers=[];return v}H(x,N);x.prototype.getPointerCount=function(){return this.targetPointers.length};x.prototype.handleDownEvent=function(v){return!1};x.prototype.handleDragEvent=function(v){};x.prototype.handleEvent=function(v){if(!v.originalEvent)return!0;var u=!1;this.updateTrackedPointers_(v);this.handlingDownUpSequence?v.type==l["default"].POINTERDRAG?(this.handleDragEvent(v),v.originalEvent.preventDefault()):v.type==l["default"].POINTERUP&&(this.handlingDownUpSequence=
this.handleUpEvent(v)&&0<this.targetPointers.length):v.type==l["default"].POINTERDOWN?(this.handlingDownUpSequence=v=this.handleDownEvent(v),u=this.stopDown(v)):v.type==l["default"].POINTERMOVE&&this.handleMoveEvent(v);return!u};x.prototype.handleMoveEvent=function(v){};x.prototype.handleUpEvent=function(v){return!1};x.prototype.stopDown=function(v){return v};x.prototype.updateTrackedPointers_=function(v){var u=v.type;if(u===l["default"].POINTERDOWN||u===l["default"].POINTERDRAG||u===l["default"].POINTERUP){u=
v.originalEvent;var m=u.pointerId.toString();v.type==l["default"].POINTERUP?delete this.trackedPointers_[m]:v.type==l["default"].POINTERDOWN?this.trackedPointers_[m]=u:m in this.trackedPointers_&&(this.trackedPointers_[m]=u);this.targetPointers=(0,w.getValues)(this.trackedPointers_)}};return x}(Ia["default"]);E["default"]=A};
shadow$provide[171]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.all=function(N){var x=arguments;return function(v){for(var u=!0,m=0,g=x.length;m<g&&(u=u&&x[m](v),u);++m);return u}};E.primaryAction=E.penOnly=E.touchOnly=E.mouseOnly=E.targetNotEditable=E.shiftKeyOnly=E.platformModifierKeyOnly=E.noModifierKeys=E.doubleClick=E.singleClick=E.pointerMove=E.never=E.mouseActionButton=E.click=E.always=E.focusWithTabindex=E.focus=E.altShiftKeysOnly=E.altKeyOnly=void 0;var k=function(N){return N&&
N.__esModule?N:{"default":N}}(A(109));Ia=A(71);var l=A(100),w=A(74);E.altKeyOnly=function(N){N=N.originalEvent;return N.altKey&&!(N.metaKey||N.ctrlKey)&&!N.shiftKey};E.altShiftKeysOnly=function(N){N=N.originalEvent;return N.altKey&&!(N.metaKey||N.ctrlKey)&&N.shiftKey};var H=function(N){return N.target.getTargetElement().contains(document.activeElement)};E.focus=H;E.focusWithTabindex=function(N){return N.map.getTargetElement().hasAttribute("tabindex")?H(N):!0};E.always=Ia.TRUE;E.click=function(N){return N.type==
k["default"].CLICK};E.mouseActionButton=function(N){N=N.originalEvent;return 0==N.button&&!(l.WEBKIT&&l.MAC&&N.ctrlKey)};E.never=Ia.FALSE;E.pointerMove=function(N){return"pointermove"==N.type};E.singleClick=function(N){return N.type==k["default"].SINGLECLICK};E.doubleClick=function(N){return N.type==k["default"].DBLCLICK};E.noModifierKeys=function(N){N=N.originalEvent;return!N.altKey&&!(N.metaKey||N.ctrlKey)&&!N.shiftKey};E.platformModifierKeyOnly=function(N){N=N.originalEvent;return!N.altKey&&(l.MAC?
N.metaKey:N.ctrlKey)&&!N.shiftKey};E.shiftKeyOnly=function(N){N=N.originalEvent;return!N.altKey&&!(N.metaKey||N.ctrlKey)&&N.shiftKey};E.targetNotEditable=function(N){N=N.originalEvent.target.tagName;return"INPUT"!==N&&"SELECT"!==N&&"TEXTAREA"!==N};E.mouseOnly=function(N){N=N.originalEvent;(0,w.assert)(void 0!==N,56);return"mouse"==N.pointerType};E.touchOnly=function(N){N=N.originalEvent;(0,w.assert)(void 0!==N,56);return"touch"===N.pointerType};E.penOnly=function(N){N=N.originalEvent;(0,w.assert)(void 0!==
N,56);return"pen"===N.pointerType};E.primaryAction=function(N){N=N.originalEvent;(0,w.assert)(void 0!==N,56);return N.isPrimary&&0===N.button}};
shadow$provide[172]=function(Ia,A,rb,E){function k(m){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return k(m)}function l(){if("function"!==typeof WeakMap)return null;var m=new WeakMap;l=function(){return m};return m}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(m){if(m&&m.__esModule)return m;if(null===
m||"object"!==k(m)&&"function"!==typeof m)return{"default":m};var g=l();if(g&&g.has(m))return g.get(m);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)){var e=f?Object.getOwnPropertyDescriptor(m,a):null;e&&(e.get||e.set)?Object.defineProperty(d,a,e):d[a]=m[a]}d["default"]=m;g&&g.set(m,d);return d}(A(170)),H=A(71),N=A(171),x=A(132),v=A(96),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ia=function(m){function g(d){var f=m.call(this,{stopDown:H.FALSE})||this;d=d?d:{};f.kinetic_=d.kinetic;f.lastCentroid=null;f.panning_=!1;var a=d.condition?d.condition:(0,N.all)(N.noModifierKeys,N.primaryAction);f.condition_=d.onFocusOnly?
(0,N.all)(N.focusWithTabindex,a):a;f.noKinetic_=!1;return f}u(g,m);g.prototype.handleDragEvent=function(d){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var f=this.targetPointers,a=(0,w.centroid)(f);if(f.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){var e=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],n=d.map.getView();(0,v.scale)(e,n.getResolution());(0,v.rotate)(e,n.getRotation());n.adjustCenterInternal(e)}}else this.kinetic_&&
this.kinetic_.begin();this.lastCentroid=a;this.lastPointersCount_=f.length;d.originalEvent.preventDefault()};g.prototype.handleUpEvent=function(d){var f=d.map;d=f.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),e=this.kinetic_.getAngle(),n=d.getCenterInternal();n=f.getPixelFromCoordinateInternal(n);f=f.getCoordinateFromPixelInternal([n[0]-a*Math.cos(e),n[1]-a*Math.sin(e)]);d.animateInternal({center:d.getConstrainedCenter(f),
duration:500,easing:x.easeOut})}this.panning_&&(this.panning_=!1,d.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0};g.prototype.handleDownEvent=function(d){return 0<this.targetPointers.length&&this.condition_(d)?(d=d.map.getView(),this.lastCentroid=null,d.getAnimating()&&d.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return g}(w["default"]);E["default"]=Ia};
shadow$provide[173]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(N){return N&&N.__esModule?N:{"default":N}}(A(170));var k=A(71),l=A(171),w=A(131),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,{stopDown:k.FALSE})||this;v.condition_=u.condition?u.condition:l.altShiftKeysOnly;v.lastAngle_=void 0;v.duration_=void 0!==u.duration?u.duration:250;return v}H(x,N);x.prototype.handleDragEvent=function(v){if((0,l.mouseOnly)(v)){var u=v.map,m=u.getView();m.getConstraints().rotation!==w.disable&&(u=u.getSize(),v=v.pixel,v=Math.atan2(u[1]/2-v[1],v[0]-u[0]/2),void 0!==this.lastAngle_&&m.adjustRotationInternal(-(v-
this.lastAngle_)),this.lastAngle_=v)}};x.prototype.handleUpEvent=function(v){if(!(0,l.mouseOnly)(v))return!0;v.map.getView().endInteraction(this.duration_);return!1};x.prototype.handleDownEvent=function(v){return(0,l.mouseOnly)(v)&&(0,l.mouseActionButton)(v)&&this.condition_(v)?(v.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return x}(Ia["default"]);E["default"]=A};
shadow$provide[174]=function(Ia,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(69));var l=k(A(150)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){var v=H.call(this)||this;v.geometry_=null;v.element_=document.createElement("div");v.element_.style.position="absolute";v.element_.style.pointerEvents="auto";v.element_.className="ol-box "+x;v.map_=null;v.startPixel_=null;v.endPixel_=null;return v}w(N,H);N.prototype.disposeInternal=function(){this.setMap(null)};N.prototype.render_=function(){var x=this.startPixel_,v=this.endPixel_,u=this.element_.style;u.left=Math.min(x[0],v[0])+"px";
u.top=Math.min(x[1],v[1])+"px";u.width=Math.abs(v[0]-x[0])+"px";u.height=Math.abs(v[1]-x[1])+"px"};N.prototype.setMap=function(x){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var v=this.element_.style;v.left="inherit";v.top="inherit";v.width="inherit";v.height="inherit"}(this.map_=x)&&this.map_.getOverlayContainer().appendChild(this.element_)};N.prototype.setPixels=function(x,v){this.startPixel_=x;this.endPixel_=v;this.createOrUpdateGeometry();this.render_()};N.prototype.createOrUpdateGeometry=
function(){var x=this.startPixel_,v=this.endPixel_;x=[x,[x[0],v[1]],v,[v[0],x[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);x[4]=x[0].slice();this.geometry_?this.geometry_.setCoordinates([x]):this.geometry_=new l["default"]([x])};N.prototype.getGeometry=function(){return this.geometry_};return N}(Ia["default"]);E["default"]=A};
shadow$provide[175]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DragBoxEvent=void 0;Ia=k(A(82));rb=k(A(170));var l=k(A(174)),w=A(171),H=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,
u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}(),N=function(x){function v(u,m,g){u=x.call(this,u)||this;u.coordinate=m;u.mapBrowserEvent=g;return u}H(v,x);return v}(Ia["default"]);E.DragBoxEvent=N;A=function(x){function v(u){var m=x.call(this)||this;u=u?u:{};m.box_=new l["default"](u.className||"ol-dragbox");m.minArea_=void 0!==u.minArea?u.minArea:64;u.onBoxEnd&&(m.onBoxEnd=u.onBoxEnd);m.startPixel_=null;m.condition_=u.condition?u.condition:w.mouseActionButton;m.boxEndCondition_=
u.boxEndCondition?u.boxEndCondition:m.defaultBoxEndCondition;return m}H(v,x);v.prototype.defaultBoxEndCondition=function(u,m,g){u=g[0]-m[0];m=g[1]-m[1];return u*u+m*m>=this.minArea_};v.prototype.getGeometry=function(){return this.box_.getGeometry()};v.prototype.handleDragEvent=function(u){this.box_.setPixels(this.startPixel_,u.pixel);this.dispatchEvent(new N("boxdrag",u.coordinate,u))};v.prototype.handleUpEvent=function(u){this.box_.setMap(null);var m=this.boxEndCondition_(u,this.startPixel_,u.pixel);
if(m)this.onBoxEnd(u);this.dispatchEvent(new N(m?"boxend":"boxcancel",u.coordinate,u));return!1};v.prototype.handleDownEvent=function(u){return this.condition_(u)?(this.startPixel_=u.pixel,this.box_.setMap(u.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new N("boxstart",u.coordinate,u)),!0):!1};v.prototype.onBoxEnd=function(u){};return v}(rb["default"]);E["default"]=A};
shadow$provide[176]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(N){return N&&N.__esModule?N:{"default":N}}(A(175));var k=A(78),l=A(132),w=A(171),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,{condition:u.condition?u.condition:w.shiftKeyOnly,className:u.className||"ol-dragzoom",minArea:u.minArea})||this;v.duration_=void 0!==u.duration?u.duration:200;v.out_=void 0!==u.out?u.out:!1;return v}H(x,N);x.prototype.onBoxEnd=function(v){var u=this.getMap();v=u.getView();var m=u.getSize(),g=this.getGeometry().getExtent();if(this.out_){var d=v.calculateExtentInternal(m);g=(0,k.createOrUpdateFromCoordinates)([u.getPixelFromCoordinateInternal((0,
k.getBottomLeft)(g)),u.getPixelFromCoordinateInternal((0,k.getTopRight)(g))]);g=v.getResolutionForExtentInternal(g,m);(0,k.scaleFromCenter)(d,1/g);g=d}m=v.getConstrainedResolution(v.getResolutionForExtentInternal(g,m));d=v.getConstrainedCenter((0,k.getCenter)(g),m);v.animateInternal({resolution:m,center:d,duration:this.duration_,easing:l.easeOut})};return x}(Ia["default"]);E["default"]=A};
shadow$provide[177]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[178]=function(Ia,A,rb,E){function k(g){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return k(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}function w(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==k(g)&&"function"!==typeof g)return{"default":g};var d=l();if(d&&d.has(g))return d.get(g);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in g)if(Object.prototype.hasOwnProperty.call(g,e)){var n=a?Object.getOwnPropertyDescriptor(g,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=g[e]}f["default"]=g;d&&d.set(g,f);return f}(A(168)),x=w(A(177)),v=A(171),u=A(96),m=function(){var g=function(d,
f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();Ia=function(g){function d(f){var a=g.call(this)||this;f=f||{};a.defaultCondition_=function(e){return(0,v.noModifierKeys)(e)&&(0,v.targetNotEditable)(e)};a.condition_=void 0!==f.condition?
f.condition:a.defaultCondition_;a.duration_=void 0!==f.duration?f.duration:100;a.pixelDelta_=void 0!==f.pixelDelta?f.pixelDelta:128;return a}m(d,g);d.prototype.handleEvent=function(f){var a=!1;if(f.type==H["default"].KEYDOWN){var e=f.originalEvent,n=e.keyCode;if(this.condition_(f)&&(n==x["default"].DOWN||n==x["default"].LEFT||n==x["default"].RIGHT||n==x["default"].UP)){f=f.map.getView();a=f.getResolution()*this.pixelDelta_;var y=0,B=0;n==x["default"].DOWN?B=-a:n==x["default"].LEFT?y=-a:n==x["default"].RIGHT?
y=a:B=a;n=[y,B];(0,u.rotate)(n,f.getRotation());(0,N.pan)(f,n,this.duration_);e.preventDefault();a=!0}}return!a};return d}(N["default"]);E["default"]=Ia};
shadow$provide[179]=function(Ia,A,rb,E){function k(v){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return k(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(v){return v&&v.__esModule?v:{"default":v}}(A(86)),
H=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==k(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(m,d,f):m[d]=v[d]}m["default"]=v;u&&u.set(v,m);return m}(A(168)),N=A(171),x=function(){var v=function(u,m){v=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();Ia=function(v){function u(m){var g=v.call(this)||this;m=m?m:{};g.condition_=m.condition?m.condition:N.targetNotEditable;g.delta_=m.delta?m.delta:1;g.duration_=void 0!==m.duration?m.duration:100;return g}x(u,
v);u.prototype.handleEvent=function(m){var g=!1;if(m.type==w["default"].KEYDOWN||m.type==w["default"].KEYPRESS){var d=m.originalEvent,f=d.charCode;!this.condition_(m)||43!=f&&45!=f||(g=43==f?this.delta_:-this.delta_,m=m.map.getView(),(0,H.zoomByDelta)(m,g,void 0,this.duration_),d.preventDefault(),g=!0)}return!g};return u}(H["default"]);E["default"]=Ia};
shadow$provide[180]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(){function k(l,w,H){this.decay_=l;this.minVelocity_=w;this.delay_=H;this.points_=[];this.initialVelocity_=this.angle_=0}k.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};k.prototype.update=function(l,w){this.points_.push(l,w,Date.now())};k.prototype.end=function(){if(6>this.points_.length)return!1;var l=Date.now()-this.delay_,w=this.points_.length-
3;if(this.points_[w+2]<l)return!1;for(var H=w-3;0<H&&this.points_[H+2]>l;)H-=3;l=this.points_[w+2]-this.points_[H+2];if(l<1E3/60)return!1;var N=this.points_[w]-this.points_[H];w=this.points_[w+1]-this.points_[H+1];this.angle_=Math.atan2(w,N);this.initialVelocity_=Math.sqrt(N*N+w*w)/l;return this.initialVelocity_>this.minVelocity_};k.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};k.prototype.getAngle=function(){return this.angle_};return k}();E["default"]=
Ia};
shadow$provide[181]=function(Ia,A,rb,E){function k(g){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return k(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Mode=void 0;var w=function(g){return g&&g.__esModule?g:{"default":g}}(A(86)),
H=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==k(g)&&"function"!==typeof g)return{"default":g};var d=l();if(d&&d.has(g))return d.get(g);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in g)if(Object.prototype.hasOwnProperty.call(g,e)){var n=a?Object.getOwnPropertyDescriptor(g,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=g[e]}f["default"]=g;d&&d.set(g,f);return f}(A(168)),N=A(100),x=A(171),v=A(79),u=function(){var g=function(d,f){g=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),m={TRACKPAD:"trackpad",WHEEL:"wheel"};E.Mode=m;Ia=function(g){function d(f){var a=f?f:{};f=g.call(this,a)||this;f.totalDelta_=0;f.lastDelta_=0;f.maxDelta_=void 0!==a.maxDelta?a.maxDelta:1;f.duration_=void 0!==
a.duration?a.duration:250;f.timeout_=void 0!==a.timeout?a.timeout:80;f.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;f.constrainResolution_=void 0!==a.constrainResolution?a.constrainResolution:!1;var e=a.condition?a.condition:x.always;f.condition_=a.onFocusOnly?(0,x.all)(x.focusWithTabindex,e):e;f.lastAnchor_=null;f.startTime_=void 0;f.mode_=void 0;f.trackpadEventGap_=400;f.deltaPerZoom_=300;return f}u(d,g);d.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,
this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};d.prototype.handleEvent=function(f){if(!this.condition_(f)||f.type!==w["default"].WHEEL)return!0;var a=f.map,e=f.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=f.coordinate);if(f.type==w["default"].WHEEL){var n=e.deltaY;N.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=N.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}if(0===n)return!1;this.lastDelta_=n;f=Date.now();void 0===this.startTime_&&
(this.startTime_=f);if(!this.mode_||f-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(n)?m.TRACKPAD:m.WHEEL;e=a.getView();if(this.mode_===m.TRACKPAD&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=
f,!1;this.totalDelta_+=n;n=Math.max(this.timeout_-(f-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),n);return!1};d.prototype.handleWheelZoom_=function(f){f=f.getView();f.getAnimating()&&f.cancelAnimations();var a=-(0,v.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(f.getConstrainResolution()||this.constrainResolution_)a=a?0<a?1:-1:0;(0,H.zoomByDelta)(f,a,this.lastAnchor_,
this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};d.prototype.setMouseAnchor=function(f){this.useAnchor_=f;f||(this.lastAnchor_=null)};return d}(H["default"]);E["default"]=Ia};
shadow$provide[182]=function(Ia,A,rb,E){function k(v){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return k(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(v){if(v&&v.__esModule)return v;if(null===
v||"object"!==k(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(m,d,f):m[d]=v[d]}m["default"]=v;u&&u.set(v,m);return m}(A(170)),H=A(71),N=A(131),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=
d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();Ia=function(v){function u(m){var g=m?m:{};g.stopDown||(g.stopDown=H.FALSE);m=v.call(this,g)||this;m.anchor_=null;m.lastAngle_=void 0;m.rotating_=!1;m.rotationDelta_=0;m.threshold_=void 0!==g.threshold?g.threshold:.3;m.duration_=void 0!==g.duration?g.duration:250;
return m}x(u,v);u.prototype.handleDragEvent=function(m){var g=0,d=this.targetPointers[0],f=this.targetPointers[1];d=Math.atan2(f.clientY-d.clientY,f.clientX-d.clientX);void 0!==this.lastAngle_&&(g=d-this.lastAngle_,this.rotationDelta_+=g,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=d;m=m.map;d=m.getView();if(d.getConstraints().rotation!==N.disable){f=m.getViewport().getBoundingClientRect();var a=(0,w.centroid)(this.targetPointers);a[0]-=f.left;
a[1]-=f.top;this.anchor_=m.getCoordinateFromPixelInternal(a);this.rotating_&&(m.render(),d.adjustRotationInternal(g,this.anchor_))}};u.prototype.handleUpEvent=function(m){return 2>this.targetPointers.length?(m.map.getView().endInteraction(this.duration_),!1):!0};u.prototype.handleDownEvent=function(m){return 2<=this.targetPointers.length?(m=m.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||m.getView().beginInteraction(),!0):!1};return u}(w["default"]);
E["default"]=Ia};
shadow$provide[183]=function(Ia,A,rb,E){function k(x){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return k(x)}function l(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;l=function(){return x};return x}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==k(x)&&"function"!==typeof x)return{"default":x};var v=l();if(v&&v.has(x))return v.get(x);var u={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in x)if(Object.prototype.hasOwnProperty.call(x,g)){var d=m?Object.getOwnPropertyDescriptor(x,g):null;d&&(d.get||d.set)?Object.defineProperty(u,g,d):u[g]=x[g]}u["default"]=x;v&&v.set(x,u);return u}(A(170)),H=A(71),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=
g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();Ia=function(x){function v(u){var m=u?u:{};m.stopDown||(m.stopDown=H.FALSE);u=x.call(this,m)||this;u.anchor_=null;u.duration_=void 0!==m.duration?m.duration:400;u.lastDistance_=void 0;u.lastScaleDelta_=1;return u}N(v,x);v.prototype.handleDragEvent=function(u){var m=
1,g=this.targetPointers[0],d=this.targetPointers[1],f=g.clientX-d.clientX;g=g.clientY-d.clientY;f=Math.sqrt(f*f+g*g);void 0!==this.lastDistance_&&(m=this.lastDistance_/f);this.lastDistance_=f;u=u.map;f=u.getView();1!=m&&(this.lastScaleDelta_=m);g=u.getViewport().getBoundingClientRect();d=(0,w.centroid)(this.targetPointers);d[0]-=g.left;d[1]-=g.top;this.anchor_=u.getCoordinateFromPixelInternal(d);u.render();f.adjustResolutionInternal(m,this.anchor_)};v.prototype.handleUpEvent=function(u){return 2>
this.targetPointers.length?(u.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};v.prototype.handleDownEvent=function(u){return 2<=this.targetPointers.length?(u=u.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||u.getView().beginInteraction(),!0):!1};return v}(w["default"]);E["default"]=Ia};
shadow$provide[184]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[185]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DragAndDropEvent=void 0;Ia=k(A(82));var l=k(A(86)),w=k(A(184));rb=k(A(168));var H=A(71),N=A(128),x=A(87),v=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=
g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),u=function(m){function g(d,f,a,e){d=m.call(this,d)||this;d.features=a;d.file=f;d.projection=e;return d}v(g,m);return g}(Ia["default"]);E.DragAndDropEvent=u;A=function(m){function g(d){var f=d?d:{};d=m.call(this,{handleEvent:H.TRUE})||this;d.readAsBuffer_=!1;d.formats_=[];for(var a=f.formatConstructors?f.formatConstructors:[],e=0,n=a.length;e<n;++e){var y=a[e];"function"===typeof y&&(y=new y);d.formats_.push(y);d.readAsBuffer_=
d.readAsBuffer_||y.getType()===w["default"].ARRAY_BUFFER}d.projection_=f.projection?(0,N.get)(f.projection):null;d.dropListenKeys_=null;d.source_=f.source||null;d.target=f.target?f.target:null;return d}v(g,m);g.prototype.handleResult_=function(d,f){f=f.target.result;var a=this.getMap(),e=this.projection_;e||(e=a.getView().getProjection());var n;a=this.formats_;for(var y=0,B=a.length;y<B;++y){var D=a[y],O=f;this.readAsBuffer_&&D.getType()!==w["default"].ARRAY_BUFFER&&(void 0===n&&(n=(new TextDecoder).decode(f)),
O=n);if((D=this.tryReadFeatures_(D,O,{featureProjection:e}))&&0<D.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(D));this.dispatchEvent(new u("addfeatures",d,D,e));break}}};g.prototype.registerListeners_=function(){var d=this.getMap();d&&(d=this.target?this.target:d.getViewport(),this.dropListenKeys_=[(0,x.listen)(d,l["default"].DROP,this.handleDrop,this),(0,x.listen)(d,l["default"].DRAGENTER,this.handleStop,this),(0,x.listen)(d,l["default"].DRAGOVER,this.handleStop,this),(0,
x.listen)(d,l["default"].DROP,this.handleStop,this)])};g.prototype.setActive=function(d){!this.getActive()&&d&&this.registerListeners_();this.getActive()&&!d&&this.unregisterListeners_();m.prototype.setActive.call(this,d)};g.prototype.setMap=function(d){this.unregisterListeners_();m.prototype.setMap.call(this,d);this.getActive()&&this.registerListeners_()};g.prototype.tryReadFeatures_=function(d,f,a){try{return d.readFeatures(f,a)}catch(e){return null}};g.prototype.unregisterListeners_=function(){this.dropListenKeys_&&
(this.dropListenKeys_.forEach(x.unlistenByKey),this.dropListenKeys_=null)};g.prototype.handleDrop=function(d){d=d.dataTransfer.files;for(var f=0,a=d.length;f<a;++f){var e=d.item(f),n=new FileReader;n.addEventListener(l["default"].LOAD,this.handleResult_.bind(this,e));this.readAsBuffer_?n.readAsArrayBuffer(e):n.readAsText(e)}};g.prototype.handleStop=function(d){d.stopPropagation();d.preventDefault();d.dataTransfer.dropEffect="copy"};return g}(rb["default"]);E["default"]=A};
shadow$provide[186]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(w){return w&&w.__esModule?w:{"default":w}}(A(170));var k=A(171),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):
(x.prototype=N.prototype,new x)}}();A=function(w){function H(N){var x=N?N:{};N=w.call(this,x)||this;N.condition_=x.condition?x.condition:k.shiftKeyOnly;N.lastAngle_=void 0;N.lastMagnitude_=void 0;N.lastScaleDelta_=0;N.duration_=void 0!==x.duration?x.duration:400;return N}l(H,w);H.prototype.handleDragEvent=function(N){if((0,k.mouseOnly)(N)){var x=N.map,v=x.getSize(),u=N.pixel;N=u[0]-v[0]/2;u=v[1]/2-u[1];v=Math.atan2(u,N);N=Math.sqrt(N*N+u*u);x=x.getView();void 0!==this.lastAngle_&&x.adjustRotationInternal(this.lastAngle_-
v);this.lastAngle_=v;void 0!==this.lastMagnitude_&&x.adjustResolutionInternal(this.lastMagnitude_/N);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/N);this.lastMagnitude_=N}};H.prototype.handleUpEvent=function(N){if(!(0,k.mouseOnly)(N))return!0;N.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};H.prototype.handleDownEvent=function(N){return(0,k.mouseOnly)(N)&&this.condition_(N)?(N.map.getView().beginInteraction(),this.lastMagnitude_=
this.lastAngle_=void 0,!0):!1};return H}(Ia["default"]);E["default"]=A};
shadow$provide[187]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117));Ia=k(A(136));var w=A(78),H=A(138),N=A(134),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);
u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g,d){var f=v.call(this)||this;void 0!==d&&void 0===g?f.setFlatCoordinates(d,m):f.setCenterAndRadius(m,g?g:0,d);return f}x(u,v);u.prototype.clone=function(){var m=new u(this.flatCoordinates.slice(),void 0,this.layout);m.applyProperties(this);return m};u.prototype.closestPointXY=function(m,g,d,f){var a=this.flatCoordinates;m-=a[0];var e=g-a[1];g=m*m+e*e;if(g<f){0===g?f=0:(f=this.getRadius()/Math.sqrt(g),
d[0]=a[0]+f*m,d[1]=a[1]+f*e,f=2);for(;f<this.stride;++f)d[f]=a[f];d.length=this.stride;return g}return f};u.prototype.containsXY=function(m,g){var d=this.flatCoordinates;m-=d[0];g-=d[1];return m*m+g*g<=this.getRadiusSquared_()};u.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};u.prototype.computeExtent=function(m){var g=this.flatCoordinates,d=g[this.stride]-g[0];return(0,w.createOrUpdate)(g[0]-d,g[1]-d,g[0]+d,g[1]+d,m)};u.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};
u.prototype.getRadiusSquared_=function(){var m=this.flatCoordinates[this.stride]-this.flatCoordinates[0],g=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return m*m+g*g};u.prototype.getType=function(){return l["default"].CIRCLE};u.prototype.intersectsExtent=function(m){var g=this.getExtent();return(0,w.intersects)(m,g)?(g=this.getCenter(),m[0]<=g[0]&&m[2]>=g[0]||m[1]<=g[1]&&m[3]>=g[1]?!0:(0,w.forEachCorner)(m,this.intersectsCoordinate.bind(this))):!1};u.prototype.setCenter=function(m){var g=
this.stride,d=this.flatCoordinates[g]-this.flatCoordinates[0],f=m.slice();f[g]=f[0]+d;for(d=1;d<g;++d)f[g+d]=m[d];this.setFlatCoordinates(this.layout,f);this.changed()};u.prototype.setCenterAndRadius=function(m,g,d){this.setLayout(d,m,0);this.flatCoordinates||(this.flatCoordinates=[]);d=this.flatCoordinates;m=(0,H.deflateCoordinate)(d,0,m,this.stride);d[m++]=d[0]+g;g=1;for(var f=this.stride;g<f;++g)d[m++]=d[g];d.length=m;this.changed()};u.prototype.getCoordinates=function(){return null};u.prototype.setCoordinates=
function(m,g){};u.prototype.setRadius=function(m){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+m;this.changed()};u.prototype.rotate=function(m,g){var d=this.getCenter(),f=this.getStride();this.setCenter((0,N.rotate)(d,0,d.length,f,m,g,d));this.changed()};u.prototype.translate=function(m,g){var d=this.getCenter(),f=this.getStride();this.setCenter((0,N.translate)(d,0,d.length,f,m,g,d));this.changed()};return u}(Ia["default"]);E["default"]=A};
shadow$provide[188]=function(Ia,A,rb,E){function k(m){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return k(m)}function l(){if("function"!==typeof WeakMap)return null;var m=new WeakMap;l=function(){return m};return m}function w(m){if("function"===typeof m)return m;if(Array.isArray(m))var g=m;else(0,x.assert)("function"===typeof m.getZIndex,
41),g=[m];return function(){return g}}Object.defineProperty(E,"__esModule",{value:!0});E.createStyleFunction=w;E["default"]=void 0;var H=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==k(m)&&"function"!==typeof m)return{"default":m};var g=l();if(g&&g.has(m))return g.get(m);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)){var e=f?Object.getOwnPropertyDescriptor(m,a):null;e&&(e.get||e.set)?Object.defineProperty(d,
a,e):d[a]=m[a]}d["default"]=m;g&&g.set(m,d);return d}(A(89)),N=function(m){return m&&m.__esModule?m:{"default":m}}(A(86)),x=A(74),v=A(87),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ia=function(m){function g(d){var f=
m.call(this)||this;f.id_=void 0;f.geometryName_="geometry";f.style_=null;f.styleFunction_=void 0;f.geometryChangeKey_=null;f.addEventListener((0,H.getChangeEventType)(f.geometryName_),f.handleGeometryChanged_);d&&("function"===typeof d.getSimplifiedGeometry?f.setGeometry(d):f.setProperties(d));return f}u(g,m);g.prototype.clone=function(){var d=new g(this.hasProperties()?this.getProperties():null);d.setGeometryName(this.getGeometryName());var f=this.getGeometry();f&&d.setGeometry(f.clone());(f=this.getStyle())&&
d.setStyle(f);return d};g.prototype.getGeometry=function(){return this.get(this.geometryName_)};g.prototype.getId=function(){return this.id_};g.prototype.getGeometryName=function(){return this.geometryName_};g.prototype.getStyle=function(){return this.style_};g.prototype.getStyleFunction=function(){return this.styleFunction_};g.prototype.handleGeometryChange_=function(){this.changed()};g.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,v.unlistenByKey)(this.geometryChangeKey_),
this.geometryChangeKey_=null);var d=this.getGeometry();d&&(this.geometryChangeKey_=(0,v.listen)(d,N["default"].CHANGE,this.handleGeometryChange_,this));this.changed()};g.prototype.setGeometry=function(d){this.set(this.geometryName_,d)};g.prototype.setStyle=function(d){this.styleFunction_=(this.style_=d)?w(d):void 0;this.changed()};g.prototype.setId=function(d){this.id_=d;this.changed()};g.prototype.setGeometryName=function(d){this.removeEventListener((0,H.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);
this.geometryName_=d;this.addEventListener((0,H.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);this.handleGeometryChanged_()};return g}(H["default"]);E["default"]=Ia};
shadow$provide[189]=function(Ia,A,rb,E){function k(H,N,x,v,u,m){if(x==N)return null;if(u<H[N+v-1])return m?(x=H.slice(N,N+v),x[v-1]=u,x):null;if(H[x-1]<u)return m?(x=H.slice(x-v,x),x[v-1]=u,x):null;if(u==H[N+v-1])return H.slice(N,N+v);N/=v;for(x/=v;N<x;)m=N+x>>1,u<H[(m+1)*v-1]?x=m:N=m+1;x=H[N*v-1];if(u==x)return H.slice((N-1)*v,(N-1)*v+v);m=(u-x)/(H[(N+1)*v-1]-x);x=[];for(var g=0;g<v-1;++g)x.push((0,w.lerp)(H[(N-1)*v+g],H[N*v+g],m));x.push(u);return x}Object.defineProperty(E,"__esModule",{value:!0});
E.interpolatePoint=function(H,N,x,v,u,m,g){var d=(x-N)/v;if(1===d)var f=N;else if(2===d){f=N;var a=u}else if(0!==d){var e=H[N],n=H[N+1],y=0;f=[0];for(d=N+v;d<x;d+=v){var B=H[d],D=H[d+1];y+=Math.sqrt((B-e)*(B-e)+(D-n)*(D-n));f.push(y);e=B;n=D}d=u*y;x=(0,l.binarySearch)(f,d);0>x?(a=(d-f[-x-2])/(f[-x-1]-f[-x-2]),f=N+(-x-2)*v):f=N+x*v}N=1<g?g:2;m=m?m:Array(N);for(d=0;d<N;++d)m[d]=void 0===f?NaN:void 0===a?H[f+d]:(0,w.lerp)(H[f+d],H[f+v+d],a);return m};E.lineStringCoordinateAtM=k;E.lineStringsCoordinateAtM=
function(H,N,x,v,u,m,g){if(g)return k(H,N,x[x.length-1],v,u,m);if(u<H[v-1])return m?(H=H.slice(0,v),H[v-1]=u,H):null;if(H[H.length-1]<u)return m?(H=H.slice(H.length-v),H[v-1]=u,H):null;m=0;for(g=x.length;m<g;++m){var d=x[m];if(N!=d){if(u<H[N+v-1])break;else if(u<=H[d-1])return k(H,N,d,v,u,!1);N=d}}return null};var l=A(70),w=A(79)};
shadow$provide[190]=function(Ia,A,rb,E){function k(l,w,H,N){var x=l[w],v=l[w+1],u=0;for(w+=N;w<H;w+=N){var m=l[w],g=l[w+1];u+=Math.sqrt((m-x)*(m-x)+(g-v)*(g-v));x=m;v=g}return u}Object.defineProperty(E,"__esModule",{value:!0});E.lineStringLength=k;E.linearRingLength=function(l,w,H,N){var x=k(l,w,H,N),v=l[H-N]-l[w];l=l[H-N+1]-l[w+1];return x+=Math.sqrt(v*v+l*l)}};
shadow$provide[191]=function(Ia,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117));Ia=k(A(136));var H=A(137),N=A(78),x=A(138),v=A(139),u=A(70),m=A(146),g=A(140),d=A(189),f=A(147),a=A(190),e=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,
B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B,D){var O=n.call(this)||this;O.flatMidpoint_=null;O.flatMidpointRevision_=-1;O.maxDelta_=-1;O.maxDeltaRevision_=-1;void 0===D||Array.isArray(B[0])?O.setCoordinates(B,D):O.setFlatCoordinates(D,B);return O}e(y,n);y.prototype.appendCoordinate=function(B){this.flatCoordinates?(0,u.extend)(this.flatCoordinates,B):this.flatCoordinates=B.slice();
this.changed()};y.prototype.clone=function(){var B=new y(this.flatCoordinates.slice(),this.layout);B.applyProperties(this);return B};y.prototype.closestPointXY=function(B,D,O,M){if(M<(0,N.closestSquaredDistanceXY)(this.getExtent(),B,D))return M;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,H.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,H.assignClosestPoint)(this.flatCoordinates,0,
this.flatCoordinates.length,this.stride,this.maxDelta_,!1,B,D,O,M)};y.prototype.forEachSegment=function(B){return(0,m.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B)};y.prototype.getCoordinateAtM=function(B,D){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM)return null;D=void 0!==D?D:!1;return(0,d.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,D)};y.prototype.getCoordinates=function(){return(0,g.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};y.prototype.getCoordinateAt=function(B,D){return(0,d.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,D,this.stride)};y.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};y.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=
this.getRevision());return this.flatMidpoint_};y.prototype.getSimplifiedGeometryInternal=function(B){var D=[];D.length=(0,v.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,D,0);return new y(D,l["default"].XY)};y.prototype.getType=function(){return w["default"].LINE_STRING};y.prototype.intersectsExtent=function(B){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B)};y.prototype.setCoordinates=function(B,D){this.setLayout(D,
B,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,0,B,this.stride);this.changed()};return y}(Ia["default"]);E["default"]=A};
shadow$provide[192]=function(Ia,A,rb,E){function k(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117)),H=k(A(191));Ia=k(A(136));var N=A(137),x=A(78),v=A(138),u=A(139),m=A(70),g=A(140),d=A(189),f=A(147),a=function(){var e=function(n,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,D){B.__proto__=D}||function(B,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(B[O]=D[O])};return e(n,
y)};return function(n,y){function B(){this.constructor=n}e(n,y);n.prototype=null===y?Object.create(y):(B.prototype=y.prototype,new B)}}();A=function(e){function n(y,B,D){var O=e.call(this)||this;O.ends_=[];O.maxDelta_=-1;O.maxDeltaRevision_=-1;if(Array.isArray(y[0]))O.setCoordinates(y,B);else if(void 0!==B&&D)O.setFlatCoordinates(B,y),O.ends_=D;else{B=O.getLayout();D=[];for(var M=[],F=0,z=y.length;F<z;++F){var G=y[F];0===F&&(B=G.getLayout());(0,m.extend)(D,G.getFlatCoordinates());M.push(D.length)}O.setFlatCoordinates(B,
D);O.ends_=M}return O}a(n,e);n.prototype.appendLineString=function(y){this.flatCoordinates?(0,m.extend)(this.flatCoordinates,y.getFlatCoordinates().slice()):this.flatCoordinates=y.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};n.prototype.clone=function(){var y=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());y.applyProperties(this);return y};n.prototype.closestPointXY=function(y,B,D,O){if(O<(0,x.closestSquaredDistanceXY)(this.getExtent(),
y,B))return O;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,N.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,N.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,y,B,D,O)};n.prototype.getCoordinateAtM=function(y,B,D){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM||0===this.flatCoordinates.length)return null;B=void 0!==B?B:!1;D=void 0!==D?D:
!1;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,y,B,D)};n.prototype.getCoordinates=function(){return(0,g.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};n.prototype.getEnds=function(){return this.ends_};n.prototype.getLineString=function(y){return 0>y||this.ends_.length<=y?null:new H["default"](this.flatCoordinates.slice(0===y?0:this.ends_[y-1],this.ends_[y]),this.layout)};n.prototype.getLineStrings=function(){for(var y=this.flatCoordinates,
B=this.ends_,D=this.layout,O=[],M=0,F=0,z=B.length;F<z;++F){var G=B[F];M=new H["default"](y.slice(M,G),D);O.push(M);M=G}return O};n.prototype.getFlatMidpoints=function(){for(var y=[],B=this.flatCoordinates,D=0,O=this.ends_,M=this.stride,F=0,z=O.length;F<z;++F){var G=O[F];D=(0,d.interpolatePoint)(B,D,G,M,.5);(0,m.extend)(y,D);D=G}return y};n.prototype.getSimplifiedGeometryInternal=function(y){var B=[],D=[];B.length=(0,u.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,y,B,0,D);return new n(B,
l["default"].XY,D)};n.prototype.getType=function(){return w["default"].MULTI_LINE_STRING};n.prototype.intersectsExtent=function(y){return(0,f.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,y)};n.prototype.setCoordinates=function(y,B){this.setLayout(B,y,2);this.flatCoordinates||(this.flatCoordinates=[]);y=(0,v.deflateCoordinatesArray)(this.flatCoordinates,0,y,this.stride,this.ends_);this.flatCoordinates.length=0===y.length?0:y[y.length-1];this.changed()};return n}(Ia["default"]);
E["default"]=A};
shadow$provide[193]=function(Ia,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117)),w=k(A(143));Ia=k(A(136));var H=A(78),N=A(138),x=A(70),v=A(140),u=A(79),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f,a){var e=g.call(this)||this;a&&!Array.isArray(f[0])?e.setFlatCoordinates(a,f):e.setCoordinates(f,a);return e}m(d,g);d.prototype.appendPoint=function(f){this.flatCoordinates?(0,x.extend)(this.flatCoordinates,f.getFlatCoordinates()):this.flatCoordinates=f.getFlatCoordinates().slice();this.changed()};d.prototype.clone=function(){var f=new d(this.flatCoordinates.slice(),this.layout);f.applyProperties(this);
return f};d.prototype.closestPointXY=function(f,a,e,n){if(n<(0,H.closestSquaredDistanceXY)(this.getExtent(),f,a))return n;for(var y=this.flatCoordinates,B=this.stride,D=0,O=y.length;D<O;D+=B){var M=(0,u.squaredDistance)(f,a,y[D],y[D+1]);if(M<n){n=M;for(M=0;M<B;++M)e[M]=y[D+M];e.length=B}}return n};d.prototype.getCoordinates=function(){return(0,v.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getPoint=function(f){var a=this.flatCoordinates?this.flatCoordinates.length/
this.stride:0;return 0>f||a<=f?null:new w["default"](this.flatCoordinates.slice(f*this.stride,(f+1)*this.stride),this.layout)};d.prototype.getPoints=function(){for(var f=this.flatCoordinates,a=this.layout,e=this.stride,n=[],y=0,B=f.length;y<B;y+=e){var D=new w["default"](f.slice(y,y+e),a);n.push(D)}return n};d.prototype.getType=function(){return l["default"].MULTI_POINT};d.prototype.intersectsExtent=function(f){for(var a=this.flatCoordinates,e=this.stride,n=0,y=a.length;n<y;n+=e){var B=a[n],D=a[n+
1];if((0,H.containsXY)(f,B,D))return!0}return!1};d.prototype.setCoordinates=function(f,a){this.setLayout(a,f,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,N.deflateCoordinates)(this.flatCoordinates,0,f,this.stride);this.changed()};return d}(Ia["default"]);E["default"]=A};
shadow$provide[194]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.linearRingss=function(l,w,H,N){var x=[];(0,k.createEmpty)();for(var v=0,u=H.length;v<u;++v){var m=H[v];w=(0,k.createOrUpdateFromFlatCoordinates)(l,w,m[0],N);x.push((w[0]+w[2])/2,(w[1]+w[3])/2);w=m[m.length-1]}return x};var k=A(78)};
shadow$provide[195]=function(Ia,A,rb,E){function k(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117)),H=k(A(193)),N=k(A(150));Ia=k(A(136));var x=A(137),v=A(78),u=A(138),m=A(70),g=A(145),d=A(140),f=A(147),a=A(149),e=A(141),n=A(194),y=A(144),B=A(139),D=function(){var O=function(M,F){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var K in G)Object.prototype.hasOwnProperty.call(G,
K)&&(z[K]=G[K])};return O(M,F)};return function(M,F){function z(){this.constructor=M}O(M,F);M.prototype=null===F?Object.create(F):(z.prototype=F.prototype,new z)}}();A=function(O){function M(F,z,G){var K=O.call(this)||this;K.endss_=[];K.flatInteriorPointsRevision_=-1;K.flatInteriorPoints_=null;K.maxDelta_=-1;K.maxDeltaRevision_=-1;K.orientedRevision_=-1;K.orientedFlatCoordinates_=null;if(!G&&!Array.isArray(F[0])){z=K.getLayout();var R=F;F=[];G=[];for(var T=0,ja=R.length;T<ja;++T){var fa=R[T];0===
T&&(z=fa.getLayout());for(var ia=F.length,la=fa.getEnds(),Z=0,P=la.length;Z<P;++Z)la[Z]+=ia;(0,m.extend)(F,fa.getFlatCoordinates());G.push(la)}}void 0!==z&&G?(K.setFlatCoordinates(z,F),K.endss_=G):K.setCoordinates(F,z);return K}D(M,O);M.prototype.appendPolygon=function(F){if(this.flatCoordinates){var z=this.flatCoordinates.length;(0,m.extend)(this.flatCoordinates,F.getFlatCoordinates());F=F.getEnds().slice();for(var G=0,K=F.length;G<K;++G)F[G]+=z}else this.flatCoordinates=F.getFlatCoordinates().slice(),
F=F.getEnds().slice(),this.endss_.push();this.endss_.push(F);this.changed()};M.prototype.clone=function(){for(var F=this.endss_.length,z=Array(F),G=0;G<F;++G)z[G]=this.endss_[G].slice();F=new M(this.flatCoordinates.slice(),this.layout,z);F.applyProperties(this);return F};M.prototype.closestPointXY=function(F,z,G,K){if(K<(0,v.closestSquaredDistanceXY)(this.getExtent(),F,z))return K;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,x.multiArrayMaxSquaredDelta)(this.flatCoordinates,
0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,x.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,F,z,G,K)};M.prototype.containsXY=function(F,z){return(0,y.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,F,z)};M.prototype.getArea=function(){return(0,e.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};M.prototype.getCoordinates=function(F){if(void 0!==
F){var z=this.getOrientedFlatCoordinates().slice();(0,a.orientLinearRingsArray)(z,0,this.endss_,this.stride,F)}else z=this.flatCoordinates;return(0,d.inflateMultiCoordinatesArray)(z,0,this.endss_,this.stride)};M.prototype.getEndss=function(){return this.endss_};M.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var F=(0,n.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride,F);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};M.prototype.getInteriorPoints=function(){return new H["default"](this.getFlatInteriorPoints().slice(),l["default"].XYM)};M.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var F=this.flatCoordinates;(0,a.linearRingssAreOriented)(F,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=F:(this.orientedFlatCoordinates_=F.slice(),this.orientedFlatCoordinates_.length=
(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};M.prototype.getSimplifiedGeometryInternal=function(F){var z=[],G=[];z.length=(0,B.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(F),z,0,G);return new M(z,l["default"].XY,G)};M.prototype.getPolygon=function(F){if(0>F||this.endss_.length<=F)return null;if(0===F)var z=0;else z=this.endss_[F-1],z=z[z.length-
1];F=this.endss_[F].slice();var G=F[F.length-1];if(0!==z)for(var K=0,R=F.length;K<R;++K)F[K]-=z;return new N["default"](this.flatCoordinates.slice(z,G),this.layout,F)};M.prototype.getPolygons=function(){for(var F=this.layout,z=this.flatCoordinates,G=this.endss_,K=[],R=0,T=0,ja=G.length;T<ja;++T){var fa=G[T].slice(),ia=fa[fa.length-1];if(0!==R)for(var la=0,Z=fa.length;la<Z;++la)fa[la]-=R;R=new N["default"](z.slice(R,ia),F,fa);K.push(R);R=ia}return K};M.prototype.getType=function(){return w["default"].MULTI_POLYGON};
M.prototype.intersectsExtent=function(F){return(0,f.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,F)};M.prototype.setCoordinates=function(F,z){this.setLayout(z,F,3);this.flatCoordinates||(this.flatCoordinates=[]);F=(0,u.deflateMultiCoordinatesArray)(this.flatCoordinates,0,F,this.stride,this.endss_);0===F.length?this.flatCoordinates.length=0:(F=F[F.length-1],this.flatCoordinates.length=0===F.length?0:F[F.length-1]);this.changed()};return M}(Ia["default"]);
E["default"]=A};
shadow$provide[196]=function(Ia,A,rb,E){!function(k,l){"object"==typeof E&&"undefined"!=typeof rb?rb.exports=l():"function"==typeof define&&define.amd?define(l):(k=k||self).RBush=l()}(this,function(){function k(y,B,D,O,M){!function ja(z,G,K,R,T){for(;R>K;){if(600<R-K){var fa=R-K+1,ia=G-K+1,la=Math.log(fa),Z=.5*Math.exp(2*la/3);la=.5*Math.sqrt(la*Z*(fa-Z)/fa)*(0>ia-fa/2?-1:1);ja(z,G,Math.max(K,Math.floor(G-ia*Z/fa+la)),Math.min(R,Math.floor(G+(fa-ia)*Z/fa+la)),T)}fa=z[G];ia=K;Z=R;l(z,K,G);for(0<T(z[R],
fa)&&l(z,K,R);ia<Z;){l(z,ia,Z);ia++;for(Z--;0>T(z[ia],fa);)ia++;for(;0<T(z[Z],fa);)Z--}0===T(z[K],fa)?l(z,K,Z):l(z,++Z,R);Z<=G&&(K=Z+1);G<=Z&&(R=Z-1)}}(y,B,D||0,O||y.length-1,M||w)}function l(y,B,D){var O=y[B];y[B]=y[D];y[D]=O}function w(y,B){return y<B?-1:y>B?1:0}function H(y,B){N(y,0,y.children.length,B,y)}function N(y,B,D,O,M){M||(M=a(null));M.minX=1/0;M.minY=1/0;M.maxX=-1/0;for(M.maxY=-1/0;B<D;B++){var F=y.children[B];x(M,y.leaf?O(F):F)}return M}function x(y,B){return y.minX=Math.min(y.minX,B.minX),
y.minY=Math.min(y.minY,B.minY),y.maxX=Math.max(y.maxX,B.maxX),y.maxY=Math.max(y.maxY,B.maxY),y}function v(y,B){return y.minX-B.minX}function u(y,B){return y.minY-B.minY}function m(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function g(y){return y.maxX-y.minX+(y.maxY-y.minY)}function d(y,B){return y.minX<=B.minX&&y.minY<=B.minY&&B.maxX<=y.maxX&&B.maxY<=y.maxY}function f(y,B){return B.minX<=y.maxX&&B.minY<=y.maxY&&B.maxX>=y.minX&&B.maxY>=y.minY}function a(y){return{children:y,height:1,leaf:!0,minX:1/0,
minY:1/0,maxX:-1/0,maxY:-1/0}}function e(y,B,D,O,M){for(var F=[B,D];F.length;)if(!((D=F.pop())-(B=F.pop())<=O)){var z=B+Math.ceil((D-B)/O/2)*O;k(y,z,B,D,M);F.push(B,z,z,D)}}var n=function(y){void 0===y&&(y=9);this._maxEntries=Math.max(4,y);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(y){var B=this.data,D=[];if(!f(y,B))return D;for(var O=this.toBBox,M=[];B;){for(var F=0;F<B.children.length;F++){var z=
B.children[F],G=B.leaf?O(z):z;f(y,G)&&(B.leaf?D.push(z):d(y,G)?this._all(z,D):M.push(z))}B=M.pop()}return D},n.prototype.collides=function(y){var B=this.data;if(!f(y,B))return!1;for(var D=[];B;){for(var O=0;O<B.children.length;O++){var M=B.children[O],F=B.leaf?this.toBBox(M):M;if(f(y,F)){if(B.leaf||d(y,F))return!0;D.push(M)}}B=D.pop()}return!1},n.prototype.load=function(y){if(!y||!y.length)return this;if(y.length<this._minEntries){for(var B=0;B<y.length;B++)this.insert(y[B]);return this}y=this._build(y.slice(),
0,y.length-1,0);this.data.children.length?this.data.height===y.height?this._splitRoot(this.data,y):(this.data.height<y.height&&(B=this.data,this.data=y,y=B),this._insert(y,this.data.height-y.height-1,!0)):this.data=y;return this},n.prototype.insert=function(y){return y&&this._insert(y,this.data.height-1),this},n.prototype.clear=function(){return this.data=a([]),this},n.prototype.remove=function(y,B){if(!y)return this;for(var D,O,M,F=this.data,z=this.toBBox(y),G=[],K=[];F||G.length;){if(F||(F=G.pop(),
O=G[G.length-1],D=K.pop(),M=!0),F.leaf){a:{var R=y;var T=F.children,ja=B;if(ja){for(var fa=0;fa<T.length;fa++)if(ja(R,T[fa])){R=fa;break a}R=-1}else R=T.indexOf(R)}if(-1!==R)return F.children.splice(R,1),G.push(F),this._condense(G),this}M||F.leaf||!d(F,z)?O?(D++,F=O.children[D],M=!1):F=null:(G.push(F),K.push(D),D=0,O=F,F=F.children[0])}return this},n.prototype.toBBox=function(y){return y},n.prototype.compareMinX=function(y,B){return y.minX-B.minX},n.prototype.compareMinY=function(y,B){return y.minY-
B.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(y){return this.data=y,this},n.prototype._all=function(y,B){for(var D=[];y;)y.leaf?B.push.apply(B,y.children):D.push.apply(D,y.children),y=D.pop();return B},n.prototype._build=function(y,B,D,O){var M,F=D-B+1,z=this._maxEntries;if(F<=z)return H(M=a(y.slice(B,D+1)),this.toBBox),M;O||(O=Math.ceil(Math.log(F)/Math.log(z)),z=Math.ceil(F/Math.pow(z,O-1)));(M=a([])).leaf=!1;M.height=O;F=Math.ceil(F/z);z=F*Math.ceil(Math.sqrt(z));
for(e(y,B,D,z,this.compareMinX);B<=D;B+=z){var G=Math.min(B+z-1,D);e(y,B,G,F,this.compareMinY);for(var K=B;K<=G;K+=F)M.children.push(this._build(y,K,Math.min(K+F-1,G),O-1))}return H(M,this.toBBox),M},n.prototype._chooseSubtree=function(y,B,D,O){for(;O.push(B),!B.leaf&&O.length-1!==D;){for(var M=1/0,F=1/0,z=void 0,G=0;G<B.children.length;G++){var K=B.children[G],R=m(K),T=(ja=y,fa=K,(Math.max(fa.maxX,ja.maxX)-Math.min(fa.minX,ja.minX))*(Math.max(fa.maxY,ja.maxY)-Math.min(fa.minY,ja.minY))-R);T<F?(F=
T,M=R<M?R:M,z=K):T===F&&R<M&&(M=R,z=K)}B=z||B.children[0]}var ja,fa;return B},n.prototype._insert=function(y,B,D){D=D?y:this.toBBox(y);var O=[],M=this._chooseSubtree(D,this.data,B,O);M.children.push(y);for(x(M,D);0<=B&&O[B].children.length>this._maxEntries;)this._split(O,B),B--;this._adjustParentBBoxes(D,O,B)},n.prototype._split=function(y,B){var D=y[B],O=D.children.length,M=this._minEntries;this._chooseSplitAxis(D,M,O);O=this._chooseSplitIndex(D,M,O);O=a(D.children.splice(O,D.children.length-O));
O.height=D.height;O.leaf=D.leaf;H(D,this.toBBox);H(O,this.toBBox);B?y[B-1].children.push(O):this._splitRoot(D,O)},n.prototype._splitRoot=function(y,B){this.data=a([y,B]);this.data.height=y.height+1;this.data.leaf=!1;H(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(y,B,D){for(var O,M,F,z,G,K,R,T=1/0,ja=1/0,fa=B;fa<=D-B;fa++){var ia=N(y,0,fa,this.toBBox),la=N(y,fa,D,this.toBBox),Z=(M=ia,F=la,z=void 0,G=void 0,K=void 0,R=void 0,z=Math.max(M.minX,F.minX),G=Math.max(M.minY,F.minY),K=Math.min(M.maxX,
F.maxX),R=Math.min(M.maxY,F.maxY),Math.max(0,K-z)*Math.max(0,R-G));ia=m(ia)+m(la);Z<T?(T=Z,O=fa,ja=ia<ja?ia:ja):Z===T&&ia<ja&&(ja=ia,O=fa)}return O||D-B},n.prototype._chooseSplitAxis=function(y,B,D){var O=y.leaf?this.compareMinX:v,M=y.leaf?this.compareMinY:u;this._allDistMargin(y,B,D,O)<this._allDistMargin(y,B,D,M)&&y.children.sort(O)},n.prototype._allDistMargin=function(y,B,D,O){y.children.sort(O);O=this.toBBox;for(var M=N(y,0,B,O),F=N(y,D-B,D,O),z=g(M)+g(F),G=B;G<D-B;G++){var K=y.children[G];x(M,
y.leaf?O(K):K);z+=g(M)}for(D=D-B-1;D>=B;D--)M=y.children[D],x(F,y.leaf?O(M):M),z+=g(F);return z},n.prototype._adjustParentBBoxes=function(y,B,D){for(;0<=D;D--)x(B[D],y)},n.prototype._condense=function(y){for(var B=y.length-1,D=void 0;0<=B;B--)0===y[B].children.length?0<B?(D=y[B-1].children).splice(D.indexOf(y[B]),1):this.clear():H(y[B],this.toBBox)},n})};
shadow$provide[197]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[198]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(72),l=A(152);Ia=function(){function w(H){this.opacity_=H.opacity;this.rotateWithView_=H.rotateWithView;this.rotation_=H.rotation;this.scale_=H.scale;this.scaleArray_=(0,l.toSize)(H.scale);this.displacement_=H.displacement}w.prototype.clone=function(){var H=this.getScale();return new w({opacity:this.getOpacity(),scale:Array.isArray(H)?H.slice():H,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};w.prototype.getOpacity=function(){return this.opacity_};w.prototype.getRotateWithView=function(){return this.rotateWithView_};w.prototype.getRotation=function(){return this.rotation_};w.prototype.getScale=function(){return this.scale_};w.prototype.getScaleArray=function(){return this.scaleArray_};w.prototype.getDisplacement=function(){return this.displacement_};w.prototype.getAnchor=function(){return(0,k["abstract"])()};w.prototype.getImage=function(H){return(0,
k["abstract"])()};w.prototype.getHitDetectionImage=function(){return(0,k["abstract"])()};w.prototype.getPixelRatio=function(H){return 1};w.prototype.getImageState=function(){return(0,k["abstract"])()};w.prototype.getImageSize=function(){return(0,k["abstract"])()};w.prototype.getHitDetectionImageSize=function(){return(0,k["abstract"])()};w.prototype.getOrigin=function(){return(0,k["abstract"])()};w.prototype.getSize=function(){return(0,k["abstract"])()};w.prototype.setOpacity=function(H){this.opacity_=
H};w.prototype.setRotateWithView=function(H){this.rotateWithView_=H};w.prototype.setRotation=function(H){this.rotation_=H};w.prototype.setScale=function(H){this.scale_=H;this.scaleArray_=(0,l.toSize)(H)};w.prototype.listenImageChange=function(H){(0,k["abstract"])()};w.prototype.load=function(){(0,k["abstract"])()};w.prototype.unlistenImageChange=function(H){(0,k["abstract"])()};return w}();E["default"]=Ia};
shadow$provide[199]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.asColorLike=function(l){return Array.isArray(l)?(0,k.toString)(l):l};var k=A(80)};
shadow$provide[200]=function(Ia,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(197));Ia=k(A(198));var w=A(80),H=A(199),N=A(101),x=A(102),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=
m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=u.call(this,{opacity:1,rotateWithView:void 0!==g.rotateWithView?g.rotateWithView:!1,rotation:void 0!==g.rotation?g.rotation:0,scale:void 0!==g.scale?g.scale:1,displacement:void 0!==g.displacement?g.displacement:[0,0]})||this;d.canvas_={};d.hitDetectionCanvas_=null;d.fill_=void 0!==g.fill?g.fill:null;d.origin_=[0,0];d.points_=g.points;d.radius_=void 0!==g.radius?g.radius:g.radius1;d.radius2_=
g.radius2;d.angle_=void 0!==g.angle?g.angle:0;d.stroke_=void 0!==g.stroke?g.stroke:null;d.anchor_=null;d.size_=null;d.imageSize_=null;d.hitDetectionImageSize_=null;d.render();return d}v(m,u);m.prototype.clone=function(){var g=this.getScale();g=new m({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
scale:Array.isArray(g)?g.slice():g,displacement:this.getDisplacement().slice()});g.setOpacity(this.getOpacity());return g};m.prototype.getAnchor=function(){return this.anchor_};m.prototype.getAngle=function(){return this.angle_};m.prototype.getFill=function(){return this.fill_};m.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var g=this.createRenderOptions();this.createHitDetectionCanvas_(g)}return this.hitDetectionCanvas_};m.prototype.getImage=function(g){if(!this.canvas_[g||
1]){var d=this.createRenderOptions(),f=(0,N.createCanvasContext2D)(d.size*g||1,d.size*g||1);this.draw_(d,f,0,0,g||1);this.canvas_[g||1]=f.canvas}return this.canvas_[g||1]};m.prototype.getPixelRatio=function(g){return g};m.prototype.getImageSize=function(){return this.imageSize_};m.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};m.prototype.getImageState=function(){return l["default"].LOADED};m.prototype.getOrigin=function(){return this.origin_};m.prototype.getPoints=
function(){return this.points_};m.prototype.getRadius=function(){return this.radius_};m.prototype.getRadius2=function(){return this.radius2_};m.prototype.getSize=function(){return this.size_};m.prototype.getStroke=function(){return this.stroke_};m.prototype.listenImageChange=function(g){};m.prototype.load=function(){};m.prototype.unlistenImageChange=function(g){};m.prototype.createRenderOptions=function(){var g=x.defaultLineCap,d=x.defaultLineJoin,f=0,a=null,e=0,n=0;if(this.stroke_){var y=this.stroke_.getColor();
null===y&&(y=x.defaultStrokeStyle);y=(0,H.asColorLike)(y);n=this.stroke_.getWidth();void 0===n&&(n=x.defaultLineWidth);a=this.stroke_.getLineDash();e=this.stroke_.getLineDashOffset();d=this.stroke_.getLineJoin();void 0===d&&(d=x.defaultLineJoin);g=this.stroke_.getLineCap();void 0===g&&(g=x.defaultLineCap);f=this.stroke_.getMiterLimit();void 0===f&&(f=x.defaultMiterLimit)}return{strokeStyle:y,strokeWidth:n,size:2*(this.radius_+n)+1,lineCap:g,lineDash:a,lineDashOffset:e,lineJoin:d,miterLimit:f}};m.prototype.render=
function(){var g=this.createRenderOptions(),d=(0,N.createCanvasContext2D)(g.size,g.size);this.draw_(g,d,0,0,1);this.canvas_={};this.canvas_[1]=d.canvas;d=d.canvas.width;var f=this.getDisplacement();this.hitDetectionImageSize_=[g.size,g.size];this.createHitDetectionCanvas_(g);this.anchor_=[d/2-f[0],d/2+f[1]];this.size_=[d,d];this.imageSize_=[d,d]};m.prototype.draw_=function(g,d,f,a,e){d.setTransform(e,0,0,e,0,0);d.translate(f,a);d.beginPath();var n=this.points_;if(Infinity===n)d.arc(g.size/2,g.size/
2,this.radius_,0,2*Math.PI,!0);else{var y=void 0!==this.radius2_?this.radius2_:this.radius_;y!==this.radius_&&(n*=2);for(f=0;f<=n;f++)a=2*f*Math.PI/n-Math.PI/2+this.angle_,e=0===f%2?this.radius_:y,d.lineTo(g.size/2+e*Math.cos(a),g.size/2+e*Math.sin(a))}this.fill_&&(f=this.fill_.getColor(),null===f&&(f=x.defaultFillStyle),d.fillStyle=(0,H.asColorLike)(f),d.fill());this.stroke_&&(d.strokeStyle=g.strokeStyle,d.lineWidth=g.strokeWidth,d.setLineDash&&g.lineDash&&(d.setLineDash(g.lineDash),d.lineDashOffset=
g.lineDashOffset),d.lineCap=g.lineCap,d.lineJoin=g.lineJoin,d.miterLimit=g.miterLimit,d.stroke());d.closePath()};m.prototype.createHitDetectionCanvas_=function(g){this.hitDetectionCanvas_=this.getImage(1);if(this.fill_){var d=this.fill_.getColor(),f=0;"string"===typeof d&&(d=(0,w.asArray)(d));null===d?f=1:Array.isArray(d)&&(f=4===d.length?d[3]:1);0===f&&(d=(0,N.createCanvasContext2D)(g.size,g.size),this.hitDetectionCanvas_=d.canvas,this.drawHitDetectionCanvas_(g,d,0,0))}};m.prototype.drawHitDetectionCanvas_=
function(g,d,f,a){d.translate(f,a);d.beginPath();f=this.points_;if(Infinity===f)d.arc(g.size/2,g.size/2,this.radius_,0,2*Math.PI,!0);else{a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(f*=2);var e;for(e=0;e<=f;e++){var n=2*e*Math.PI/f-Math.PI/2+this.angle_;var y=0===e%2?this.radius_:a;d.lineTo(g.size/2+y*Math.cos(n),g.size/2+y*Math.sin(n))}}d.fillStyle=x.defaultFillStyle;d.fill();this.stroke_&&(d.strokeStyle=g.strokeStyle,d.lineWidth=g.strokeWidth,g.lineDash&&(d.setLineDash(g.lineDash),
d.lineDashOffset=g.lineDashOffset),d.stroke());d.closePath()};return m}(Ia["default"]);E["default"]=A};
shadow$provide[201]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(200));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ia=function(l){function w(H){H=H?H:{};return l.call(this,{points:Infinity,fill:H.fill,radius:H.radius,stroke:H.stroke,scale:void 0!==H.scale?H.scale:1,rotation:void 0!==H.rotation?H.rotation:0,rotateWithView:void 0!==H.rotateWithView?H.rotateWithView:!1,displacement:void 0!==H.displacement?H.displacement:[0,0]})||this}k(w,l);w.prototype.clone=function(){var H=this.getScale();H=new w({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():
void 0,radius:this.getRadius(),scale:Array.isArray(H)?H.slice():H,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});H.setOpacity(this.getOpacity());return H};w.prototype.setRadius=function(H){this.radius_=H;this.render()};return w}(Ia["default"]);E["default"]=Ia};
shadow$provide[202]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(){function k(l){l=l||{};this.color_=void 0!==l.color?l.color:null}k.prototype.clone=function(){var l=this.getColor();return new k({color:Array.isArray(l)?l.slice():l||void 0})};k.prototype.getColor=function(){return this.color_};k.prototype.setColor=function(l){this.color_=l};return k}();E["default"]=Ia};
shadow$provide[203]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(){function k(l){l=l||{};this.color_=void 0!==l.color?l.color:null;this.lineCap_=l.lineCap;this.lineDash_=void 0!==l.lineDash?l.lineDash:null;this.lineDashOffset_=l.lineDashOffset;this.lineJoin_=l.lineJoin;this.miterLimit_=l.miterLimit;this.width_=l.width}k.prototype.clone=function(){var l=this.getColor();return new k({color:Array.isArray(l)?l.slice():l||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};k.prototype.getColor=function(){return this.color_};k.prototype.getLineCap=function(){return this.lineCap_};k.prototype.getLineDash=function(){return this.lineDash_};k.prototype.getLineDashOffset=function(){return this.lineDashOffset_};k.prototype.getLineJoin=function(){return this.lineJoin_};k.prototype.getMiterLimit=
function(){return this.miterLimit_};k.prototype.getWidth=function(){return this.width_};k.prototype.setColor=function(l){this.color_=l};k.prototype.setLineCap=function(l){this.lineCap_=l};k.prototype.setLineDash=function(l){this.lineDash_=l};k.prototype.setLineDashOffset=function(l){this.lineDashOffset_=l};k.prototype.setLineJoin=function(l){this.lineJoin_=l};k.prototype.setMiterLimit=function(l){this.miterLimit_=l};k.prototype.setWidth=function(l){this.width_=l};return k}();E["default"]=Ia};
shadow$provide[204]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(d){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return l(d)}function w(d){return d.getGeometry()}Object.defineProperty(E,"__esModule",{value:!0});E.toFunction=function(d){if("function"!==typeof d){if(Array.isArray(d))var f=d;else(0,u.assert)("function"===
typeof d.getZIndex,41),f=[d];d=function(){return f}}return d};E.createDefaultStyle=function(d,f){g||(d=new N["default"]({color:"rgba(255,255,255,0.4)"}),f=new v["default"]({color:"#3399CC",width:1.25}),g=[new m({image:new H["default"]({fill:d,stroke:f,radius:5}),fill:d,stroke:f})]);return g};E.createEditingStyle=function(){var d={},f=[255,255,255,1],a=[0,153,255,1];d[x["default"].POLYGON]=[new m({fill:new N["default"]({color:[255,255,255,.5]})})];d[x["default"].MULTI_POLYGON]=d[x["default"].POLYGON];
d[x["default"].LINE_STRING]=[new m({stroke:new v["default"]({color:f,width:5})}),new m({stroke:new v["default"]({color:a,width:3})})];d[x["default"].MULTI_LINE_STRING]=d[x["default"].LINE_STRING];d[x["default"].CIRCLE]=d[x["default"].POLYGON].concat(d[x["default"].LINE_STRING]);d[x["default"].POINT]=[new m({image:new H["default"]({radius:6,fill:new N["default"]({color:a}),stroke:new v["default"]({color:f,width:1.5})}),zIndex:Infinity})];d[x["default"].MULTI_POINT]=d[x["default"].POINT];d[x["default"].GEOMETRY_COLLECTION]=
d[x["default"].POLYGON].concat(d[x["default"].LINE_STRING],d[x["default"].POINT]);return d};E["default"]=void 0;var H=k(A(201)),N=k(A(202)),x=k(A(117)),v=k(A(203)),u=A(74),m=function(){function d(f){f=f||{};this.geometry_=null;this.geometryFunction_=w;void 0!==f.geometry&&this.setGeometry(f.geometry);this.fill_=void 0!==f.fill?f.fill:null;this.image_=void 0!==f.image?f.image:null;this.renderer_=void 0!==f.renderer?f.renderer:null;this.stroke_=void 0!==f.stroke?f.stroke:null;this.text_=void 0!==f.text?
f.text:null;this.zIndex_=f.zIndex}d.prototype.clone=function(){var f=this.getGeometry();f&&"object"===l(f)&&(f=f.clone());return new d({geometry:f,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};d.prototype.getRenderer=function(){return this.renderer_};d.prototype.setRenderer=function(f){this.renderer_=f};d.prototype.getGeometry=
function(){return this.geometry_};d.prototype.getGeometryFunction=function(){return this.geometryFunction_};d.prototype.getFill=function(){return this.fill_};d.prototype.setFill=function(f){this.fill_=f};d.prototype.getImage=function(){return this.image_};d.prototype.setImage=function(f){this.image_=f};d.prototype.getStroke=function(){return this.stroke_};d.prototype.setStroke=function(f){this.stroke_=f};d.prototype.getText=function(){return this.text_};d.prototype.setText=function(f){this.text_=
f};d.prototype.getZIndex=function(){return this.zIndex_};d.prototype.setGeometry=function(f){"function"===typeof f?this.geometryFunction_=f:"string"===typeof f?this.geometryFunction_=function(a){return a.get(f)}:f?void 0!==f&&(this.geometryFunction_=function(){return f}):this.geometryFunction_=w;this.geometry_=f};d.prototype.setZIndex=function(f){this.zIndex_=f};return d}(),g=null;E["default"]=m};
shadow$provide[205]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(94));var l=k(A(196)),w=A(84),H=A(204),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){u=u?u:{};var m=(0,w.assign)({},u);delete m.style;delete m.renderBuffer;delete m.updateWhileAnimating;delete m.updateWhileInteracting;m=x.call(this,m)||this;m.declutter_=void 0!==u.declutter?u.declutter:!1;m.renderBuffer_=void 0!==u.renderBuffer?u.renderBuffer:100;m.style_=null;m.styleFunction_=void 0;m.setStyle(u.style);m.updateWhileAnimating_=void 0!==u.updateWhileAnimating?u.updateWhileAnimating:!1;m.updateWhileInteracting_=
void 0!==u.updateWhileInteracting?u.updateWhileInteracting:!1;return m}N(v,x);v.prototype.getDeclutter=function(){return this.declutter_};v.prototype.getFeatures=function(u){return x.prototype.getFeatures.call(this,u)};v.prototype.getRenderBuffer=function(){return this.renderBuffer_};v.prototype.getRenderOrder=function(){return this.get("renderOrder")};v.prototype.getStyle=function(){return this.style_};v.prototype.getStyleFunction=function(){return this.styleFunction_};v.prototype.getUpdateWhileAnimating=
function(){return this.updateWhileAnimating_};v.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};v.prototype.renderDeclutter=function(u){u.declutterTree||(u.declutterTree=new l["default"](9));this.getRenderer().renderDeclutter(u)};v.prototype.setRenderOrder=function(u){this.set("renderOrder",u)};v.prototype.setStyle=function(u){this.style_=void 0!==u?u:H.createDefaultStyle;this.styleFunction_=null===u?void 0:(0,H.toFunction)(this.style_);this.changed()};return v}(Ia["default"]);
E["default"]=A};
shadow$provide[206]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};E.fillInstruction=[Ia.FILL];E.strokeInstruction=[Ia.STROKE];E.beginPathInstruction=[Ia.BEGIN_PATH];E.closePathInstruction=[Ia.CLOSE_PATH];E["default"]=Ia};
shadow$provide[207]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(){function k(){}k.prototype.drawCustom=function(l,w,H){};k.prototype.drawGeometry=function(l){};k.prototype.setStyle=function(l){};k.prototype.drawCircle=function(l,w){};k.prototype.drawFeature=function(l,w){};k.prototype.drawGeometryCollection=function(l,w){};k.prototype.drawLineString=function(l,w){};k.prototype.drawMultiLineString=function(l,w){};k.prototype.drawMultiPoint=function(l,
w){};k.prototype.drawMultiPolygon=function(l,w){};k.prototype.drawPoint=function(l,w){};k.prototype.drawPolygon=function(l,w){};k.prototype.drawText=function(l,w){};k.prototype.setFillStrokeStyle=function(l,w){};k.prototype.setImageStyle=function(l,w){};k.prototype.setTextStyle=function(l,w){};return k}();E["default"]=Ia};
shadow$provide[208]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(206)),w=k(A(117)),H=k(A(77));Ia=k(A(207));var N=A(199),x=A(78),v=A(102),u=A(70),m=A(140),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,y){var B=d.call(this)||this;B.tolerance=a;B.maxExtent=e;B.pixelRatio=y;B.maxLineWidth=0;B.resolution=n;B.beginGeometryInstruction1_=null;B.beginGeometryInstruction2_=null;B.bufferedMaxExtent_=null;B.instructions=[];B.coordinates=[];B.tmpCoordinate_=[];B.hitDetectionInstructions=[];B.state={};return B}g(f,d);f.prototype.applyPixelRatio=function(a){var e=this.pixelRatio;return 1==e?a:a.map(function(n){return n*
e})};f.prototype.appendFlatPointCoordinates=function(a,e){for(var n=this.getBufferedMaxExtent(),y=this.tmpCoordinate_,B=this.coordinates,D=B.length,O=0,M=a.length;O<M;O+=e)y[0]=a[O],y[1]=a[O+1],(0,x.containsCoordinate)(n,y)&&(B[D++]=y[0],B[D++]=y[1]);return D};f.prototype.appendFlatLineCoordinates=function(a,e,n,y,B,D){var O=this.coordinates,M=O.length,F=this.getBufferedMaxExtent();D&&(e+=y);D=a[e];var z=a[e+1],G=this.tmpCoordinate_,K=!0,R;for(R=e+y;R<n;R+=y){G[0]=a[R];G[1]=a[R+1];var T=(0,x.coordinateRelationship)(F,
G);T!==ja?(K&&(O[M++]=D,O[M++]=z,K=!1),O[M++]=G[0],O[M++]=G[1]):T===H["default"].INTERSECTING?(O[M++]=G[0],O[M++]=G[1],K=!1):K=!0;D=G[0];z=G[1];var ja=T}if(B&&K||R===e+y)O[M++]=D,O[M++]=z;return M};f.prototype.drawCustomCoordinates_=function(a,e,n,y,B){for(var D=0,O=n.length;D<O;++D){var M=n[D];e=this.appendFlatLineCoordinates(a,e,M,y,!1,!1);B.push(e);e=M}return e};f.prototype.drawCustom=function(a,e,n){this.beginGeometry(a,e);var y=a.getType(),B=a.getStride(),D=this.coordinates.length,O;if(y==w["default"].MULTI_POLYGON){y=
a.getOrientedFlatCoordinates();var M=[];for(var F=a.getEndss(),z=O=0,G=F.length;z<G;++z){var K=[];O=this.drawCustomCoordinates_(y,O,F[z],B,K);M.push(K)}this.instructions.push([l["default"].CUSTOM,D,M,a,n,m.inflateMultiCoordinatesArray])}else y==w["default"].POLYGON||y==w["default"].MULTI_LINE_STRING?(M=[],y=y==w["default"].POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(y,0,a.getEnds(),B,M),this.instructions.push([l["default"].CUSTOM,D,M,a,n,m.inflateCoordinatesArray])):
y==w["default"].LINE_STRING||y==w["default"].CIRCLE?(y=a.getFlatCoordinates(),B=this.appendFlatLineCoordinates(y,0,y.length,B,!1,!1),this.instructions.push([l["default"].CUSTOM,D,B,a,n,m.inflateCoordinates])):y==w["default"].MULTI_POINT?(y=a.getFlatCoordinates(),B=this.appendFlatPointCoordinates(y,B),B>D&&this.instructions.push([l["default"].CUSTOM,D,B,a,n,m.inflateCoordinates])):y==w["default"].POINT&&(y=a.getFlatCoordinates(),this.coordinates.push(y[0],y[1]),B=this.coordinates.length,this.instructions.push([l["default"].CUSTOM,
D,B,a,n]));this.endGeometry(e)};f.prototype.beginGeometry=function(a,e){this.beginGeometryInstruction1_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};f.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};f.prototype.reverseHitDetectionInstructions=
function(){var a=this.hitDetectionInstructions;a.reverse();var e,n=a.length,y=-1;for(e=0;e<n;++e){var B=a[e];var D=B[0];D==l["default"].END_GEOMETRY?y=e:D==l["default"].BEGIN_GEOMETRY&&(B[2]=e,(0,u.reverseSubArray)(this.hitDetectionInstructions,y,e),y=-1)}};f.prototype.setFillStrokeStyle=function(a,e){var n=this.state;a?(a=a.getColor(),n.fillStyle=(0,N.asColorLike)(a?a:v.defaultFillStyle)):n.fillStyle=void 0;e?(a=e.getColor(),n.strokeStyle=(0,N.asColorLike)(a?a:v.defaultStrokeStyle),a=e.getLineCap(),
n.lineCap=void 0!==a?a:v.defaultLineCap,a=e.getLineDash(),n.lineDash=a?a.slice():v.defaultLineDash,a=e.getLineDashOffset(),n.lineDashOffset=a?a:v.defaultLineDashOffset,a=e.getLineJoin(),n.lineJoin=void 0!==a?a:v.defaultLineJoin,a=e.getWidth(),n.lineWidth=void 0!==a?a:v.defaultLineWidth,e=e.getMiterLimit(),n.miterLimit=void 0!==e?e:v.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,
n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)};f.prototype.createFill=function(a){a=a.fillStyle;var e=[l["default"].SET_FILL_STYLE,a];"string"!==typeof a&&e.push(!0);return e};f.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};f.prototype.createStroke=function(a){return[l["default"].SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio]};
f.prototype.updateFillStyle=function(a,e){var n=a.fillStyle;if("string"!==typeof n||a.currentFillStyle!=n)void 0!==n&&this.instructions.push(e.call(this,a)),a.currentFillStyle=n};f.prototype.updateStrokeStyle=function(a,e){var n=a.strokeStyle,y=a.lineCap,B=a.lineDash,D=a.lineDashOffset,O=a.lineJoin,M=a.lineWidth,F=a.miterLimit;if(a.currentStrokeStyle!=n||a.currentLineCap!=y||B!=a.currentLineDash&&!(0,u.equals)(a.currentLineDash,B)||a.currentLineDashOffset!=D||a.currentLineJoin!=O||a.currentLineWidth!=
M||a.currentMiterLimit!=F)void 0!==n&&e.call(this,a),a.currentStrokeStyle=n,a.currentLineCap=y,a.currentLineDash=B,a.currentLineDashOffset=D,a.currentLineJoin=O,a.currentLineWidth=M,a.currentMiterLimit=F};f.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[l["default"].END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};f.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,x.clone)(this.maxExtent),0<this.maxLineWidth)){var a=this.resolution*(this.maxLineWidth+1)/2;(0,x.buffer)(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};return f}(Ia["default"]);E["default"]=A};
shadow$provide[209]=function(Ia,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(208));var l=k(A(206)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x,v,u,m){x=H.call(this,x,v,u,m)||this;x.hitDetectionImage_=null;x.image_=null;x.imagePixelRatio_=void 0;x.anchorX_=void 0;x.anchorY_=void 0;x.height_=void 0;x.opacity_=void 0;x.originX_=void 0;x.originY_=void 0;x.rotateWithView_=void 0;x.rotation_=void 0;x.scale_=void 0;x.width_=void 0;x.declutterImageWithText_=void 0;return x}w(N,H);N.prototype.drawPoint=function(x,v){if(this.image_){this.beginGeometry(x,v);var u=x.getFlatCoordinates(),
m=x.getStride();x=this.coordinates.length;u=this.appendFlatPointCoordinates(u,m);this.instructions.push([l["default"].DRAW_IMAGE,x,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,x,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(v)}};N.prototype.drawMultiPoint=function(x,v){if(this.image_){this.beginGeometry(x,v);var u=x.getFlatCoordinates(),m=x.getStride();x=this.coordinates.length;u=this.appendFlatPointCoordinates(u,m);this.instructions.push([l["default"].DRAW_IMAGE,
x,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,x,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,
this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(v)}};N.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return H.prototype.finish.call(this)};N.prototype.setImageStyle=
function(x,v){var u=x.getAnchor(),m=x.getSize(),g=x.getHitDetectionImage(),d=x.getImage(this.pixelRatio),f=x.getOrigin();this.imagePixelRatio_=x.getPixelRatio(this.pixelRatio);this.anchorX_=u[0];this.anchorY_=u[1];this.hitDetectionImage_=g;this.image_=d;this.height_=m[1];this.opacity_=x.getOpacity();this.originX_=f[0];this.originY_=f[1];this.rotateWithView_=x.getRotateWithView();this.rotation_=x.getRotation();this.scale_=x.getScaleArray();this.width_=m[0];this.declutterImageWithText_=v};return N}(Ia["default"]);
E["default"]=A};
shadow$provide[210]=function(Ia,A,rb,E){function k(N){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"===typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};return k(N)}function l(){if("function"!==typeof WeakMap)return null;var N=new WeakMap;l=function(){return N};return N}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(N){return N&&N.__esModule?N:{"default":N}}(A(208));
var w=function(N){if(N&&N.__esModule)return N;if(null===N||"object"!==k(N)&&"function"!==typeof N)return{"default":N};var x=l();if(x&&x.has(N))return x.get(N);var v={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor,m;for(m in N)if(Object.prototype.hasOwnProperty.call(N,m)){var g=u?Object.getOwnPropertyDescriptor(N,m):null;g&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=N[m]}v["default"]=N;x&&x.set(N,v);return v}(A(206)),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v,u,m,g){return N.call(this,v,u,m,g)||this}H(x,N);x.prototype.drawFlatCoordinates_=function(v,u,m,g){var d=this.coordinates.length;v=this.appendFlatLineCoordinates(v,u,m,g,!1,!1);d=[w["default"].MOVE_TO_LINE_TO,
d,v];this.instructions.push(d);this.hitDetectionInstructions.push(d);return m};x.prototype.drawLineString=function(v,u){var m=this.state,g=m.lineWidth;void 0!==m.strokeStyle&&void 0!==g&&(this.updateStrokeStyle(m,this.applyStroke),this.beginGeometry(v,u),this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,m.strokeStyle,m.lineWidth,m.lineCap,m.lineJoin,m.miterLimit,m.lineDash,m.lineDashOffset],w.beginPathInstruction),m=v.getFlatCoordinates(),v=v.getStride(),this.drawFlatCoordinates_(m,
0,m.length,v),this.hitDetectionInstructions.push(w.strokeInstruction),this.endGeometry(u))};x.prototype.drawMultiLineString=function(v,u){var m=this.state,g=m.lineWidth;if(void 0!==m.strokeStyle&&void 0!==g){this.updateStrokeStyle(m,this.applyStroke);this.beginGeometry(v,u);this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,m.strokeStyle,m.lineWidth,m.lineCap,m.lineJoin,m.miterLimit,m.lineDash,m.lineDashOffset],w.beginPathInstruction);m=v.getEnds();g=v.getFlatCoordinates();v=v.getStride();
for(var d=0,f=0,a=m.length;f<a;++f)d=this.drawFlatCoordinates_(g,d,m[f],v);this.hitDetectionInstructions.push(w.strokeInstruction);this.endGeometry(u)}};x.prototype.finish=function(){var v=this.state;void 0!=v.lastStroke&&v.lastStroke!=this.coordinates.length&&this.instructions.push(w.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return N.prototype.finish.call(this)};x.prototype.applyStroke=function(v){void 0!=v.lastStroke&&v.lastStroke!=this.coordinates.length&&(this.instructions.push(w.strokeInstruction),
v.lastStroke=this.coordinates.length);v.lastStroke=0;N.prototype.applyStroke.call(this,v);this.instructions.push(w.beginPathInstruction)};return x}(Ia["default"]);E["default"]=A};
shadow$provide[211]=function(Ia,A,rb,E){function k(v){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return k(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(v){return v&&v.__esModule?v:{"default":v}}(A(208));
var w=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==k(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(m,d,f):m[d]=v[d]}m["default"]=v;u&&u.set(v,m);return m}(A(206)),H=A(102),N=A(139),x=function(){var v=function(u,m){v=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g,d,f){return v.call(this,m,g,d,f)||this}x(u,v);u.prototype.drawFlatCoordinatess_=function(m,g,d,f){var a=this.state,e=void 0!==a.fillStyle;a=void 0!==a.strokeStyle;var n=d.length;
this.instructions.push(w.beginPathInstruction);this.hitDetectionInstructions.push(w.beginPathInstruction);for(var y=0;y<n;++y){var B=d[y],D=this.coordinates.length;g=this.appendFlatLineCoordinates(m,g,B,f,!0,!a);g=[w["default"].MOVE_TO_LINE_TO,D,g];this.instructions.push(g);this.hitDetectionInstructions.push(g);a&&(this.instructions.push(w.closePathInstruction),this.hitDetectionInstructions.push(w.closePathInstruction));g=B}e&&(this.instructions.push(w.fillInstruction),this.hitDetectionInstructions.push(w.fillInstruction));
a&&(this.instructions.push(w.strokeInstruction),this.hitDetectionInstructions.push(w.strokeInstruction));return g};u.prototype.drawCircle=function(m,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(m,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,H.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,
d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);f=m.getFlatCoordinates();m=m.getStride();var a=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,m,!1,!1);f=[w["default"].CIRCLE,a];this.instructions.push(w.beginPathInstruction,f);this.hitDetectionInstructions.push(w.beginPathInstruction,f);void 0!==d.fillStyle&&(this.instructions.push(w.fillInstruction),this.hitDetectionInstructions.push(w.fillInstruction));void 0!==d.strokeStyle&&(this.instructions.push(w.strokeInstruction),
this.hitDetectionInstructions.push(w.strokeInstruction));this.endGeometry(g)}};u.prototype.drawPolygon=function(m,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f)this.setFillStrokeStyles_(),this.beginGeometry(m,g),void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,H.defaultFillStyle]),void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,
d.lineDashOffset]),d=m.getEnds(),f=m.getOrientedFlatCoordinates(),m=m.getStride(),this.drawFlatCoordinatess_(f,0,d,m),this.endGeometry(g)};u.prototype.drawMultiPolygon=function(m,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(m,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,H.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,
d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);d=m.getEndss();f=m.getOrientedFlatCoordinates();m=m.getStride();for(var a=0,e=0,n=d.length;e<n;++e)a=this.drawFlatCoordinatess_(f,a,d[e],m);this.endGeometry(g)}};u.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var m=this.tolerance;if(0!==m)for(var g=this.coordinates,d=0,f=g.length;d<f;++d)g[d]=(0,N.snap)(g[d],m);return v.prototype.finish.call(this)};u.prototype.setFillStrokeStyles_=
function(){var m=this.state;void 0!==m.fillStyle&&this.updateFillStyle(m,this.createFill);void 0!==m.strokeStyle&&this.updateStrokeStyle(m,this.applyStroke)};return u}(Ia["default"]);E["default"]=A};
shadow$provide[212]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINT:"point",LINE:"line"}};
shadow$provide[213]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.matchingChunk=function(k,l,w,H,N){for(var x=w,v=w,u=0,m=0,g=w,d,f,a,e,n,y;w<H;w+=N){var B=l[w],D=l[w+1];void 0!==a&&(a=B-a,e=D-e,f=Math.sqrt(a*a+e*e),void 0!==n&&(m+=d,d=Math.acos((n*a+y*e)/(d*f)),d>k&&(m>u&&(u=m,x=g,v=w),m=0,g=w-N)),d=f,n=a,y=e);a=B;e=D}return m+f>u?[g,w]:[x,v]}};
shadow$provide[214]=function(Ia,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TEXT_ALIGN=void 0;Ia=k(A(208));var l=k(A(206)),w=k(A(117)),H=k(A(212)),N=A(199),x=A(102),v=A(72),u=A(78),m=A(213),g=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};E.TEXT_ALIGN=d;A=function(f){function a(e,n,y,B){e=f.call(this,e,n,y,B)||this;e.labels_=null;e.text_="";e.textOffsetX_=0;e.textOffsetY_=0;e.textRotateWithView_=void 0;e.textRotation_=0;e.textFillState_=null;e.fillStates={};e.textStrokeState_=null;e.strokeStates={};e.textState_=
{};e.textStates={};e.textKey_="";e.fillKey_="";e.strokeKey_="";e.declutterImageWithText_=void 0;return e}g(a,f);a.prototype.finish=function(){var e=f.prototype.finish.call(this);e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e};a.prototype.drawText=function(e,n){var y=this.textFillState_,B=this.textStrokeState_,D=this.textState_;if(""!==this.text_&&D&&(y||B)){var O=this.coordinates;y=O.length;var M=e.getType();B=null;var F=e.getStride();if(D.placement!==
H["default"].LINE||M!=w["default"].LINE_STRING&&M!=w["default"].MULTI_LINE_STRING&&M!=w["default"].POLYGON&&M!=w["default"].MULTI_POLYGON){O=D.overflow?null:[];switch(M){case w["default"].POINT:case w["default"].MULTI_POINT:B=e.getFlatCoordinates();break;case w["default"].LINE_STRING:B=e.getFlatMidpoint();break;case w["default"].CIRCLE:B=e.getCenter();break;case w["default"].MULTI_LINE_STRING:B=e.getFlatMidpoints();F=2;break;case w["default"].POLYGON:B=e.getFlatInteriorPoint();D.overflow||O.push(B[2]/
this.resolution);F=3;break;case w["default"].MULTI_POLYGON:F=e.getFlatInteriorPoints();B=[];M=0;for(R=F.length;M<R;M+=3)D.overflow||O.push(F[M+2]/this.resolution),B.push(F[M],F[M+1]);if(0===B.length)return;F=2}M=this.appendFlatPointCoordinates(B,F);if(M===y)return;this.saveTextStates_();if(D.backgroundFill||D.backgroundStroke)this.setFillStrokeStyle(D.backgroundFill,D.backgroundStroke),D.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),
D.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,n);B=D.padding;if(B!=x.defaultPadding&&(0>D.scale[0]||0>D.scale[1])){B=D.padding[0];F=D.padding[1];var z=D.padding[2];e=D.padding[3];0>D.scale[0]&&(F=-F,e=-e);0>D.scale[1]&&(B=-B,z=-z);B=[B,F,z,e]}var G=this.pixelRatio;this.instructions.push([l["default"].DRAW_IMAGE,y,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,
1],NaN,this.declutterImageWithText_,B==x.defaultPadding?x.defaultPadding:B.map(function(fa){return fa*G}),!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,O]);F=1/G;this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,y,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[F,F],NaN,this.declutterImageWithText_,B,!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,
this.textOffsetX_,this.textOffsetY_,O])}else{if(!(0,u.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;z=void 0;B=e.getFlatCoordinates();if(M==w["default"].LINE_STRING)z=[B.length];else if(M==w["default"].MULTI_LINE_STRING)z=e.getEnds();else if(M==w["default"].POLYGON)z=e.getEnds().slice(0,1);else if(M==w["default"].MULTI_POLYGON){var K=e.getEndss();z=[];M=0;for(var R=K.length;M<R;++M)z.push(K[M][0])}this.beginGeometry(e,n);e=D.textAlign;var T=0,ja=void 0;R=0;for(K=z.length;R<K;++R){void 0==
e?(M=(0,m.matchingChunk)(D.maxAngle,B,T,z[R],F),T=M[0],ja=M[1]):ja=z[R];for(M=T;M<ja;M+=F)O.push(B[M],B[M+1]);M=O.length;T=z[R];this.drawChars_(y,M);y=M}}this.endGeometry(n)}};a.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,y=this.textFillState_,B=this.strokeKey_;e&&(B in this.strokeStates||(this.strokeStates[B]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));
e=this.textKey_;e in this.textStates||(this.textStates[e]={font:n.font,textAlign:n.textAlign||x.defaultTextAlign,textBaseline:n.textBaseline||x.defaultTextBaseline,scale:n.scale});n=this.fillKey_;y&&(n in this.fillStates||(this.fillStates[n]={fillStyle:y.fillStyle}))};a.prototype.drawChars_=function(e,n){var y=this.textStrokeState_,B=this.textState_,D=this.strokeKey_,O=this.textKey_,M=this.fillKey_;this.saveTextStates_();var F=this.pixelRatio,z=d[B.textBaseline],G=this.textOffsetY_*F,K=this.text_;
y=y?y.lineWidth*Math.abs(B.scale[0])/2:0;this.instructions.push([l["default"].DRAW_CHARS,e,n,z,B.overflow,M,B.maxAngle,F,G,D,y*F,K,O,1]);this.hitDetectionInstructions.push([l["default"].DRAW_CHARS,e,n,z,B.overflow,M,B.maxAngle,1,G,D,y,K,O,1/F])};a.prototype.setTextStyle=function(e,n){var y,B;if(e){if(B=e.getFill()){var D=this.textFillState_;D||(this.textFillState_=D={});D.fillStyle=(0,N.asColorLike)(B.getColor()||x.defaultFillStyle)}else this.textFillState_=D=null;if(y=e.getStroke()){B=this.textStrokeState_;
B||(this.textStrokeState_=B={});var O=y.getLineDash(),M=y.getLineDashOffset(),F=y.getWidth(),z=y.getMiterLimit();B.lineCap=y.getLineCap()||x.defaultLineCap;B.lineDash=O?O.slice():x.defaultLineDash;B.lineDashOffset=void 0===M?x.defaultLineDashOffset:M;B.lineJoin=y.getLineJoin()||x.defaultLineJoin;B.lineWidth=void 0===F?x.defaultLineWidth:F;B.miterLimit=void 0===z?x.defaultMiterLimit:z;B.strokeStyle=(0,N.asColorLike)(y.getColor()||x.defaultStrokeStyle)}else this.textStrokeState_=B=null;y=this.textState_;
O=e.getFont()||x.defaultFont;(0,x.registerFont)(O);M=e.getScaleArray();y.overflow=e.getOverflow();y.font=O;y.maxAngle=e.getMaxAngle();y.placement=e.getPlacement();y.textAlign=e.getTextAlign();y.textBaseline=e.getTextBaseline()||x.defaultTextBaseline;y.backgroundFill=e.getBackgroundFill();y.backgroundStroke=e.getBackgroundStroke();y.padding=e.getPadding()||x.defaultPadding;y.scale=void 0===M?[1,1]:M;O=e.getOffsetX();M=e.getOffsetY();F=e.getRotateWithView();z=e.getRotation();this.text_=e.getText()||
"";this.textOffsetX_=void 0===O?0:O;this.textOffsetY_=void 0===M?0:M;this.textRotateWithView_=void 0===F?!1:F;this.textRotation_=void 0===z?0:z;this.strokeKey_=B?("string"==typeof B.strokeStyle?B.strokeStyle:(0,v.getUid)(B.strokeStyle))+B.lineCap+B.lineDashOffset+"|"+B.lineWidth+B.lineJoin+B.miterLimit+"["+B.lineDash.join()+"]":"";this.textKey_=y.font+y.scale+(y.textAlign||"?")+(y.textBaseline||"?");this.fillKey_=D?"string"==typeof D.fillStyle?D.fillStyle:"|"+(0,v.getUid)(D.fillStyle):""}else this.text_=
"";this.declutterImageWithText_=n};return a}(Ia["default"]);E["default"]=A};
shadow$provide[215]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(208));rb=k(A(209));var l=k(A(210)),w=k(A(211));A=k(A(214));var H={Circle:w["default"],Default:Ia["default"],Image:rb["default"],LineString:l["default"],Polygon:w["default"],Text:A["default"]};A=function(){function N(x,v,u,m){this.tolerance_=x;this.maxExtent_=v;this.pixelRatio_=m;this.resolution_=u;this.buildersByZIndex_={}}N.prototype.finish=
function(){var x={},v;for(v in this.buildersByZIndex_){x[v]=x[v]||{};var u=this.buildersByZIndex_[v],m;for(m in u){var g=u[m].finish();x[v][m]=g}}return x};N.prototype.getBuilder=function(x,v){var u=void 0!==x?x.toString():"0";x=this.buildersByZIndex_[u];void 0===x&&(x={},this.buildersByZIndex_[u]=x);u=x[v];void 0===u&&(u=new H[v](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),x[v]=u);return u};return N}();E["default"]=A};
shadow$provide[216]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(86)),w=k(A(197));Ia=k(A(88));var H=k(A(93)),N=A(72),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,
m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=v.call(this)||this;g.boundHandleImageChange_=g.handleImageChange_.bind(g);g.layer_=m;g.declutterExecutorGroup=null;return g}x(u,v);u.prototype.getFeatures=function(m){return(0,N["abstract"])()};u.prototype.prepareFrame=function(m){return(0,N["abstract"])()};u.prototype.renderFrame=function(m,g){return(0,N["abstract"])()};u.prototype.loadedTileCallback=function(m,g,d){m[g]||(m[g]={});m[g][d.tileCoord.toString()]=
d};u.prototype.createLoadedTileFinder=function(m,g,d){return function(f,a){var e=this.loadedTileCallback.bind(this,d,f);return m.forEachLoadedTile(g,f,a,e)}.bind(this)};u.prototype.forEachFeatureAtCoordinate=function(m,g,d,f,a){};u.prototype.getDataAtPixel=function(m,g,d){return(0,N["abstract"])()};u.prototype.getLayer=function(){return this.layer_};u.prototype.handleFontsChanged=function(){};u.prototype.handleImageChange_=function(m){m.target.getState()===w["default"].LOADED&&this.renderIfReadyAndVisible()};
u.prototype.loadImage=function(m){var g=m.getState();g!=w["default"].LOADED&&g!=w["default"].ERROR&&m.addEventListener(l["default"].CHANGE,this.boundHandleImageChange_);g==w["default"].IDLE&&(m.load(),g=m.getState());return g==w["default"].LOADED};u.prototype.renderIfReadyAndVisible=function(){var m=this.getLayer();m.getVisible()&&m.getSourceState()==H["default"].READY&&m.changed()};return u}(Ia["default"]);E["default"]=A};
shadow$provide[217]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(216));var l=k(A(98)),w=k(A(92)),H=A(75),N=A(78),x=A(101),v=A(102),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=
g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(m){function g(d){d=m.call(this,d)||this;d.container=null;d.tempTransform=(0,H.create)();d.pixelTransform=(0,H.create)();d.inversePixelTransform=(0,H.create)();d.context=null;d.containerReused=!1;return d}u(g,m);g.prototype.useContainer=function(d,f,a){a=this.getLayer().getClassName();var e;if(d&&""===d.style.opacity&&d.className===a){var n=d.firstElementChild;n instanceof HTMLCanvasElement&&(e=n.getContext("2d"))}!e||
0!==e.canvas.width&&e.canvas.style.transform!==f?this.containerReused&&(this.context=this.container=null,this.containerReused=!1):(this.container=d,this.context=e,this.containerReused=!0);this.container||(d=document.createElement("div"),d.className=a,f=d.style,f.position="absolute",f.width="100%",f.height="100%",e=(0,x.createCanvasContext2D)(),n=e.canvas,d.appendChild(n),f=n.style,f.position="absolute",f.left="0",f.transformOrigin="top left",this.container=d,this.context=e)};g.prototype.clip=function(d,
f,a){var e=f.pixelRatio,n=f.size[0]*e/2,y=f.size[1]*e/2,B=f.viewState.rotation,D=(0,N.getTopLeft)(a),O=(0,N.getTopRight)(a),M=(0,N.getBottomRight)(a);a=(0,N.getBottomLeft)(a);(0,H.apply)(f.coordinateToPixelTransform,D);(0,H.apply)(f.coordinateToPixelTransform,O);(0,H.apply)(f.coordinateToPixelTransform,M);(0,H.apply)(f.coordinateToPixelTransform,a);d.save();(0,v.rotateAtOffset)(d,-B,n,y);d.beginPath();d.moveTo(D[0]*e,D[1]*e);d.lineTo(O[0]*e,O[1]*e);d.lineTo(M[0]*e,M[1]*e);d.lineTo(a[0]*e,a[1]*e);
d.clip();(0,v.rotateAtOffset)(d,B,n,y)};g.prototype.clipUnrotated=function(d,f,a){var e=(0,N.getTopLeft)(a),n=(0,N.getTopRight)(a),y=(0,N.getBottomRight)(a);a=(0,N.getBottomLeft)(a);(0,H.apply)(f.coordinateToPixelTransform,e);(0,H.apply)(f.coordinateToPixelTransform,n);(0,H.apply)(f.coordinateToPixelTransform,y);(0,H.apply)(f.coordinateToPixelTransform,a);f=this.inversePixelTransform;(0,H.apply)(f,e);(0,H.apply)(f,n);(0,H.apply)(f,y);(0,H.apply)(f,a);d.save();d.beginPath();d.moveTo(Math.round(e[0]),
Math.round(e[1]));d.lineTo(Math.round(n[0]),Math.round(n[1]));d.lineTo(Math.round(y[0]),Math.round(y[1]));d.lineTo(Math.round(a[0]),Math.round(a[1]));d.clip()};g.prototype.dispatchRenderEvent_=function(d,f,a){var e=this.getLayer();e.hasListener(d)&&(d=new l["default"](d,this.inversePixelTransform,a,f),e.dispatchEvent(d))};g.prototype.preRender=function(d,f){this.dispatchRenderEvent_(w["default"].PRERENDER,d,f)};g.prototype.postRender=function(d,f){this.dispatchRenderEvent_(w["default"].POSTRENDER,
d,f)};g.prototype.getRenderTransform=function(d,f,a,e,n,y,B){n/=2;y/=2;f=e/f;e=-f;B=-d[0]+B;d=-d[1];return(0,H.compose)(this.tempTransform,n,y,f,e,-a,B,d)};g.prototype.getDataAtPixel=function(d,f,a){a=(0,H.apply)(this.inversePixelTransform,d.slice());var e=this.context,n=this.getLayer().getExtent();if(n&&(d=(0,H.apply)(f.pixelToCoordinateTransform,d.slice()),!(0,N.containsCoordinate)(n,d)))return null;try{var y=Math.round(a[0]),B=Math.round(a[1]),D=document.createElement("canvas"),O=D.getContext("2d");
D.width=1;D.height=1;O.clearRect(0,0,1,1);O.drawImage(e.canvas,y,B,1,1,0,0,1,1);var M=O.getImageData(0,0,1,1).data}catch(F){return"SecurityError"===F.name?new Uint8Array:M}return 0===M[3]?null:M};return g}(Ia["default"]);E["default"]=A};
shadow$provide[218]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[219]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.drawTextOnPath=function(w,H,N,x,v,u,m,g,d,f,a,e){function n(){D=y;O=B;H+=x;y=w[H];B=w[H+1];F+=M;M=Math.sqrt((y-D)*(y-D)+(B-O)*(B-O))}var y=w[H],B=w[H+1],D=0,O=0,M=0,F=0;do n();while(H<N-x&&F+M<u);for(var z=(u-F)/M,G=(0,k.lerp)(D,y,z),K=(0,k.lerp)(O,B,z),R=H-x,T=F,ja=u+g*d(f,v,a);H<N-x&&F+M<ja;)n();z=(ja-F)/M;var fa=(0,k.lerp)(D,y,z);z=(0,k.lerp)(O,B,z);if(e){var ia=[G,K,fa,z];(0,l.rotate)(ia,0,4,2,e,ia,ia);
e=ia[0]>ia[2]}else e=G>fa;ia=Math.PI;var la=[],Z=R+x===H;H=R;M=0;F=T;y=w[H];B=w[H+1];if(Z)return n(),N=Math.atan2(B-O,y-D),e&&(N+=0<N?-ia:ia),la[0]=[(fa+G)/2,(z+K)/2,(ja-u)/2,N,v],la;G=0;for(K=v.length;G<K;){n();ja=Math.atan2(B-O,y-D);e&&(ja+=0<ja?-ia:ia);if(void 0!==P){var P=ja-P;P+=P>ia?-2*ia:P<-ia?2*ia:0;if(Math.abs(P)>m)return null}P=ja;z=G;for(fa=0;G<K;++G){R=g*d(f,v[e?K-G-1:G],a);if(H+x<N&&F+M<u+fa+R/2)break;fa+=R}G!==z&&(T=e?v.substring(K-z,K-G):v.substring(z,G),z=(u+fa/2-F)/M,R=(0,k.lerp)(D,
y,z),z=(0,k.lerp)(O,B,z),la.push([R,z,fa/2,ja,T]),u+=fa)}return la};var k=A(79),l=A(134)};
shadow$provide[220]=function(Ia,A,rb,E){function k(O){return O[3].declutterBox}function l(O,M){"start"!==M&&"end"!==M||D.test(O)||(M="start"===M?"left":"right");return H.TEXT_ALIGN[M]}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(O){return O&&O.__esModule?O:{"default":O}}(A(206)),H=A(214),N=A(100),x=A(75),v=A(78),u=A(102),m=A(219),g=A(70),d=A(190),f=A(134),a=(0,v.createEmpty)(),e=[],n=[],y=[],B=[],D=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+
String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");Ia=function(){function O(M,F,z,G,K){this.overlaps=z;this.pixelRatio=F;this.resolution=M;this.instructions=G.instructions;this.coordinates=G.coordinates;this.coordinateCache_={};this.renderBuffer_=K;this.renderedTransform_=(0,x.create)();this.hitDetectionInstructions=
G.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=G.fillStates||{};this.strokeStates=G.strokeStates||{};this.textStates=G.textStates||{};this.widths_={};this.labels_={}}O.prototype.createLabel=function(M,F,z,G){var K=M+F+z+G;if(this.labels_[K])return this.labels_[K];var R=G?this.strokeStates[G]:null,T=z?this.fillStates[z]:null,ja=this.textStates[F];F=this.pixelRatio;var fa=[ja.scale[0]*F,ja.scale[1]*F],ia=l(M,ja.textAlign||u.defaultTextAlign);F=G&&R.lineWidth?
R.lineWidth:0;M=M.split("\n");var la=M.length,Z=[],P=(0,u.measureTextWidths)(ja.font,M,Z),C=(0,u.measureTextHeight)(ja.font),V=P+F;P=[];var ha=(V+2)*fa[0],aa=(C*la+F)*fa[1];ha={width:0>ha?Math.floor(ha):Math.ceil(ha),height:0>aa?Math.floor(aa):Math.ceil(aa),contextInstructions:P};1==fa[0]&&1==fa[1]||P.push("scale",fa);P.push("font",ja.font);G&&(P.push("strokeStyle",R.strokeStyle),P.push("lineWidth",F),P.push("lineCap",R.lineCap),P.push("lineJoin",R.lineJoin),P.push("miterLimit",R.miterLimit),(N.WORKER_OFFSCREEN_CANVAS?
OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(P.push("setLineDash",[R.lineDash]),P.push("lineDashOffset",R.lineDashOffset)));z&&P.push("fillStyle",T.fillStyle);P.push("textBaseline","middle");P.push("textAlign","center");R=.5-ia;T=ia*V+R*F;if(G)for(G=0;G<la;++G)P.push("strokeText",[M[G],T+R*Z[G],.5*(F+C)+G*C]);if(z)for(G=0;G<la;++G)P.push("fillText",[M[G],T+R*Z[G],.5*(F+C)+G*C]);return this.labels_[K]=ha};O.prototype.replayTextBackground_=function(M,F,z,G,K,R,
T){M.beginPath();M.moveTo.apply(M,F);M.lineTo.apply(M,z);M.lineTo.apply(M,G);M.lineTo.apply(M,K);M.lineTo.apply(M,F);R&&(this.alignFill_=R[2],this.fill_(M));T&&(this.setStrokeStyle_(M,T),M.stroke())};O.prototype.calculateImageOrLabelDimensions_=function(M,F,z,G,K,R,T,ja,fa,ia,la,Z,P,C,V,ha){T*=Z[0];ja*=Z[1];T=z-T;ja=G-ja;M=K+fa>M?M-fa:K;F=R+ia>F?F-ia:R;R=C[3]+M*Z[0]+C[1];K=C[0]+F*Z[1]+C[2];var aa=T-C[3];C=ja-C[0];if(V||0!==la)e[0]=aa,B[0]=aa,e[1]=C,n[1]=C,n[0]=aa+R,y[0]=n[0],y[1]=C+K,B[1]=y[1];if(0!==
la){var ta=(0,x.compose)((0,x.create)(),z,G,1,1,la,-z,-G);(0,x.apply)(ta,e);(0,x.apply)(ta,n);(0,x.apply)(ta,y);(0,x.apply)(ta,B);(0,v.createOrUpdate)(Math.min(e[0],n[0],y[0],B[0]),Math.min(e[1],n[1],y[1],B[1]),Math.max(e[0],n[0],y[0],B[0]),Math.max(e[1],n[1],y[1],B[1]),a)}else(0,v.createOrUpdate)(Math.min(aa,aa+R),Math.min(C,C+K),Math.max(aa,aa+R),Math.max(C,C+K),a);P&&(T=Math.round(T),ja=Math.round(ja));return{drawImageX:T,drawImageY:ja,drawImageW:M,drawImageH:F,originX:fa,originY:ia,declutterBox:{minX:a[0],
minY:a[1],maxX:a[2],maxY:a[3],value:ha},canvasTransform:ta,scale:Z}};O.prototype.replayImageOrLabel_=function(M,F,z,G,K,R,T){var ja=G.declutterBox,fa=M.canvas,ia=T?T[2]*G.scale[0]/2:0;ja.minX-ia<=fa.width/F&&0<=ja.maxX+ia&&ja.minY-ia<=fa.height/F&&0<=ja.maxY+ia&&((R||T)&&this.replayTextBackground_(M,e,n,y,B,R,T),(0,u.drawImageOrLabel)(M,G.canvasTransform,K,z,G.originX,G.originY,G.drawImageW,G.drawImageH,G.drawImageX,G.drawImageY,G.scale));return!0};O.prototype.fill_=function(M){if(this.alignFill_){var F=
(0,x.apply)(this.renderedTransform_,[0,0]),z=512*this.pixelRatio;M.save();M.translate(F[0]%z,F[1]%z);M.rotate(this.viewRotation_)}M.fill();this.alignFill_&&M.restore()};O.prototype.setStrokeStyle_=function(M,F){M.strokeStyle=F[1];M.lineWidth=F[2];M.lineCap=F[3];M.lineJoin=F[4];M.miterLimit=F[5];M.setLineDash&&(M.lineDashOffset=F[7],M.setLineDash(F[6]))};O.prototype.drawLabelWithPointPlacement_=function(M,F,z,G){var K=this.textStates[F];F=this.createLabel(M,F,G,z);G=this.strokeStates[z];z=this.pixelRatio;
M=l(M,K.textAlign||u.defaultTextAlign);var R=H.TEXT_ALIGN[K.textBaseline||u.defaultTextBaseline];G=G&&G.lineWidth?G.lineWidth:0;return{label:F,anchorX:M*(F.width/z-2*K.scale[0])+2*(.5-M)*G,anchorY:R*F.height/z+2*(.5-R)*G}};O.prototype.execute_=function(M,F,z,G,K,R,T,ja){if(this.pixelCoordinates_&&(0,g.equals)(z,this.renderedTransform_))var fa=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),fa=(0,f.transform2D)(this.coordinates,0,this.coordinates.length,2,z,this.pixelCoordinates_),
(0,x.setFromArray)(this.renderedTransform_,z);var ia=0,la=G.length,Z,P=0,C=0,V=null,ha=null,aa=this.coordinateCache_,ta=this.viewRotation_;z=Math.round(1E12*Math.atan2(-z[1],z[0]))/1E12;for(var wa={context:M,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ta},Ha=this.instructions!=G||this.overlaps?0:200,bb,kb;ia<la;){var va=G[ia];switch(va[0]){case w["default"].BEGIN_GEOMETRY:bb=va[1];kb=va[3];bb.getGeometry()?void 0===T||(0,v.intersects)(T,kb.getExtent())?++ia:ia=va[2]+1:ia=va[2];
break;case w["default"].BEGIN_PATH:P>Ha&&(this.fill_(M),P=0);C>Ha&&(M.stroke(),C=0);if(!P&&!C){M.beginPath();var Ta=Z=NaN}++ia;break;case w["default"].CIRCLE:var Ya=va[1];var Ca=fa[Ya];var ua=fa[Ya+1];var U=fa[Ya+2]-Ca;Ya=fa[Ya+3]-ua;U=Math.sqrt(U*U+Ya*Ya);M.moveTo(Ca+U,ua);M.arc(Ca,ua,U,0,2*Math.PI,!0);++ia;break;case w["default"].CLOSE_PATH:M.closePath();++ia;break;case w["default"].CUSTOM:Ya=va[1];var W=va[2];Ca=va[4];ua=6==va.length?va[5]:void 0;wa.geometry=va[3];wa.feature=bb;ia in aa||(aa[ia]=
[]);U=aa[ia];ua?ua(fa,Ya,W,2,U):(U[0]=fa[Ya],U[1]=fa[Ya+1],U.length=2);Ca(U,wa);++ia;break;case w["default"].DRAW_IMAGE:Ya=va[1];W=va[2];Ca=va[3];var ba=va[4];var ca=va[5];ua=va[6];var ra=va[7],qa=va[8],Da=va[9],na=va[10],Ra=va[11],db=va[12];U=va[13];var $a=va[14];!Ca&&19<=va.length&&(ba=va[18],Ca=va[19],ua=va[20],U=va[21],ua=this.drawLabelWithPointPlacement_(ba,Ca,ua,U),Ca=ua.label,va[3]=Ca,ba=(ua.anchorX-va[22])*this.pixelRatio,va[4]=ba,ca=(ua.anchorY-va[23])*this.pixelRatio,va[5]=ca,ua=Ca.height,
va[6]=ua,U=Ca.width,va[13]=U);var Fa=void 0;24<va.length&&(Fa=va[24]);if(16<va.length){var Ga=va[15];var pa=va[16];var Ja=va[17]}else Ga=u.defaultPadding,Ja=pa=!1;na&&z?Ra+=ta:na||z||(Ra-=ta);for(na=0;Ya<W;Ya+=2)if(!(Fa&&Fa[na++]<U/this.pixelRatio)){va=this.calculateImageOrLabelDimensions_(Ca.width,Ca.height,fa[Ya],fa[Ya+1],U,ua,ba,ca,qa,Da,Ra,db,K,Ga,pa||Ja,bb);var Ua=[M,F,Ca,va,ra,pa?V:null,Ja?ha:null],jb=void 0,Fb=void 0;if(ja&&$a){if(!$a[Ya]){$a[Ya]=Ua;continue}jb=$a[Ya];delete $a[Ya];Fb=k(jb);
if(ja.collides(Fb))continue}ja&&ja.collides(va.declutterBox)||(jb&&(ja&&ja.insert(Fb),this.replayImageOrLabel_.apply(this,jb)),ja&&ja.insert(va.declutterBox),this.replayImageOrLabel_.apply(this,Ua))}++ia;break;case w["default"].DRAW_CHARS:ca=va[1];Ra=va[2];Ya=va[3];$a=va[4];U=va[5];db=va[6];Da=va[7];W=va[8];ua=va[9];ra=va[10];ba=va[11];Ca=va[12];qa=[va[13],va[13]];na=this.textStates[Ca];va=na.font;Da=[na.scale[0]*Da,na.scale[1]*Da];va in this.widths_?na=this.widths_[va]:(na={},this.widths_[va]=na);
Fa=(0,d.lineStringLength)(fa,ca,Ra,2);Ga=Math.abs(Da[0])*(0,u.measureAndCacheTextWidth)(va,ba,na);if($a||Ga<=Fa)a:if($a=(Fa-Ga)*H.TEXT_ALIGN[this.textStates[Ca].textAlign],db=(0,m.drawTextOnPath)(fa,ca,Ra,2,ba,$a,db,Math.abs(Da[0]),u.measureAndCacheTextWidth,va,na,z?0:this.viewRotation_),db){Ra=[];if(ua)for($a=0,na=db.length;$a<na;++$a){va=db[$a];ba=va[4];Fa=this.createLabel(ba,Ca,"",ua);ba=va[2]+(0>Da[0]?-ra:ra);ca=Ya*Fa.height+2*(.5-Ya)*ra*Da[1]/Da[0]-W;va=this.calculateImageOrLabelDimensions_(Fa.width,
Fa.height,va[0],va[1],Fa.width,Fa.height,ba,ca,0,0,va[3],qa,!1,u.defaultPadding,!1,bb);if(ja&&ja.collides(va.declutterBox))break a;Ra.push([M,F,Fa,va,1,null,null])}if(U)for($a=0,na=db.length;$a<na;++$a){va=db[$a];ba=va[4];Fa=this.createLabel(ba,Ca,U,"");ba=va[2];ca=Ya*Fa.height-W;va=this.calculateImageOrLabelDimensions_(Fa.width,Fa.height,va[0],va[1],Fa.width,Fa.height,ba,ca,0,0,va[3],qa,!1,u.defaultPadding,!1,bb);if(ja&&ja.collides(va.declutterBox))break a;Ra.push([M,F,Fa,va,1,null,null])}ja&&ja.load(Ra.map(k));
Ca=0;for(ua=Ra.length;Ca<ua;++Ca)this.replayImageOrLabel_.apply(this,Ra[Ca])}++ia;break;case w["default"].END_GEOMETRY:if(void 0!==R&&(bb=va[1],Ca=R(bb,kb)))return Ca;++ia;break;case w["default"].FILL:Ha?P++:this.fill_(M);++ia;break;case w["default"].MOVE_TO_LINE_TO:Ya=va[1];W=va[2];U=fa[Ya];ba=fa[Ya+1];Ca=U+.5|0;ua=ba+.5|0;if(Ca!==Z||ua!==Ta)M.moveTo(U,ba),Z=Ca,Ta=ua;for(Ya+=2;Ya<W;Ya+=2)if(U=fa[Ya],ba=fa[Ya+1],Ca=U+.5|0,ua=ba+.5|0,Ya==W-2||Ca!==Z||ua!==Ta)M.lineTo(U,ba),Z=Ca,Ta=ua;++ia;break;case w["default"].SET_FILL_STYLE:V=
va;this.alignFill_=va[2];P&&(this.fill_(M),P=0,C&&(M.stroke(),C=0));M.fillStyle=va[1];++ia;break;case w["default"].SET_STROKE_STYLE:ha=va;C&&(M.stroke(),C=0);this.setStrokeStyle_(M,va);++ia;break;case w["default"].STROKE:Ha?C++:M.stroke();++ia;break;default:++ia}}P&&this.fill_(M);C&&M.stroke()};O.prototype.execute=function(M,F,z,G,K,R){this.viewRotation_=G;this.execute_(M,F,z,this.instructions,K,void 0,void 0,R)};O.prototype.executeHitDetection=function(M,F,z,G,K){this.viewRotation_=z;return this.execute_(M,
1,F,this.hitDetectionInstructions,!0,G,K)};return O}();E["default"]=Ia};
shadow$provide[221]=function(Ia,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(void 0!==f[a])return f[a];for(var e=2*a+1,n=a*a,y=Array(n+1),B=0;B<=a;++B)for(var D=0;D<=a;++D){var O=B*B+D*D;if(O>n)break;var M=y[O];M||(M=[],y[O]=M);M.push(4*((a+B)*e+(a+D))+3);0<B&&M.push(4*((a-B)*e+(a+D))+3);0<D&&(M.push(4*((a+B)*e+(a-D))+3),0<B&&M.push(4*((a-B)*e+(a-D))+3))}e=[];B=0;for(n=y.length;B<n;++B)y[B]&&e.push.apply(e,y[B]);return f[a]=e}Object.defineProperty(E,"__esModule",{value:!0});
E.getPixelIndexArray=l;E["default"]=void 0;var w=k(A(218)),H=k(A(220)),N=A(78),x=A(75),v=A(101),u=A(84),m=A(70),g=A(134),d=[w["default"].POLYGON,w["default"].CIRCLE,w["default"].LINE_STRING,w["default"].IMAGE,w["default"].TEXT,w["default"].DEFAULT];Ia=function(){function a(e,n,y,B,D,O){this.maxExtent_=e;this.overlaps_=B;this.pixelRatio_=y;this.resolution_=n;this.renderBuffer_=O;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,x.create)();this.createExecutors_(D)}
a.prototype.clip=function(e,n){n=this.getClipCoords(n);e.beginPath();e.moveTo(n[0],n[1]);e.lineTo(n[2],n[3]);e.lineTo(n[4],n[5]);e.lineTo(n[6],n[7]);e.clip()};a.prototype.createExecutors_=function(e){for(var n in e){var y=this.executorsByZIndex_[n];void 0===y&&(y={},this.executorsByZIndex_[n]=y);var B=e[n],D=[this.renderBuffer_||0,this.renderBuffer_||0],O;for(O in B)y[O]=new H["default"](this.resolution_,this.pixelRatio_,this.overlaps_,B[O],D)}};a.prototype.hasExecutors=function(e){for(var n in this.executorsByZIndex_)for(var y=
this.executorsByZIndex_[n],B=0,D=e.length;B<D;++B)if(e[B]in y)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(e,n,y,B,D,O){function M(la,Z){for(var P=K.getImageData(0,0,F,F).data,C=0,V=T.length;C<V;C++)if(0<P[T[C]]){if(!O||fa!==w["default"].IMAGE&&fa!==w["default"].TEXT||-1!==O.indexOf(la))if(C=(T[C]-3)/4,P=B-C%F,C=B-(C/F|0),la=D(la,Z,P*P+C*C))return la;K.clearRect(0,0,F,F);break}}B=Math.round(B);var F=2*B+1,z=(0,x.compose)(this.hitDetectionTransform_,B+.5,B+.5,1/n,-1/n,-y,-e[0],
-e[1]),G=!this.hitDetectionContext_;G&&(this.hitDetectionContext_=(0,v.createCanvasContext2D)(F,F));var K=this.hitDetectionContext_;K.canvas.width!==F||K.canvas.height!==F?(K.canvas.width=F,K.canvas.height=F):G||K.clearRect(0,0,F,F);if(void 0!==this.renderBuffer_){var R=(0,N.createEmpty)();(0,N.extendCoordinate)(R,e);(0,N.buffer)(R,n*(this.renderBuffer_+B),R)}var T=l(B);e=Object.keys(this.executorsByZIndex_).map(Number);e.sort(m.numberSafeCompareFunction);for(n=e.length-1;0<=n;--n){var ja=this.executorsByZIndex_[e[n].toString()];
for(G=d.length-1;0<=G;--G){var fa=d[G];var ia=ja[fa];if(void 0!==ia&&(ia=ia.executeHitDetection(K,z,y,M,R)))return ia}}};a.prototype.getClipCoords=function(e){var n=this.maxExtent_;if(!n)return null;var y=n[0],B=n[1],D=n[2];n=n[3];y=[y,B,y,n,D,n,D,B];(0,g.transform2D)(y,0,8,2,e,y);return y};a.prototype.isEmpty=function(){return(0,u.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(e,n,y,B,D,O,M){var F=Object.keys(this.executorsByZIndex_).map(Number);F.sort(m.numberSafeCompareFunction);
this.maxExtent_&&(e.save(),this.clip(e,y));O=O?O:d;var z,G;M&&F.reverse();var K=0;for(z=F.length;K<z;++K){var R=this.executorsByZIndex_[F[K].toString()];var T=0;for(G=O.length;T<G;++T){var ja=R[O[T]];void 0!==ja&&ja.execute(e,n,y,B,D,M)}}this.maxExtent_&&e.restore()};return a}();var f={};E["default"]=Ia};
shadow$provide[222]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117));Ia=k(A(207));var w=A(199),H=A(75),N=A(102),x=A(70),v=A(78),u=A(134),m=A(136),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,y,B,D,O){var M=d.call(this)||this;M.context_=a;M.pixelRatio_=e;M.extent_=n;M.transform_=y;M.viewRotation_=B;M.squaredTolerance_=D;M.userTransform_=O;M.contextFillState_=null;M.contextStrokeState_=null;M.contextTextState_=null;M.fillState_=null;M.strokeState_=null;M.image_=null;M.imageAnchorX_=0;M.imageAnchorY_=0;M.imageHeight_=0;M.imageOpacity_=0;M.imageOriginX_=0;M.imageOriginY_=0;M.imageRotateWithView_=
!1;M.imageRotation_=0;M.imageScale_=[0,0];M.imageWidth_=0;M.text_="";M.textOffsetX_=0;M.textOffsetY_=0;M.textRotateWithView_=!1;M.textRotation_=0;M.textScale_=[0,0];M.textFillState_=null;M.textStrokeState_=null;M.textState_=null;M.pixelCoordinates_=[];M.tmpLocalTransform_=(0,H.create)();return M}g(f,d);f.prototype.drawImages_=function(a,e,n,y){if(this.image_){a=(0,u.transform2D)(a,e,n,2,this.transform_,this.pixelCoordinates_);e=this.context_;n=this.tmpLocalTransform_;y=e.globalAlpha;1!=this.imageOpacity_&&
(e.globalAlpha=y*this.imageOpacity_);var B=this.imageRotation_;this.imageRotateWithView_&&(B+=this.viewRotation_);for(var D=0,O=a.length;D<O;D+=2){var M=a[D]-this.imageAnchorX_,F=a[D+1]-this.imageAnchorY_;0!==B||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(M+=this.imageAnchorX_,F+=this.imageAnchorY_,(0,H.compose)(n,M,F,1,1,B,-M,-F),e.setTransform.apply(e,n),e.translate(M,F),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,
this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,M,F,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=y)}};f.prototype.drawText_=function(a,e,n,y){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);
this.setContextTextState_(this.textState_);a=(0,u.transform2D)(a,e,n,y,this.transform_,this.pixelCoordinates_);var B=this.context_,D=this.textRotation_;for(this.textRotateWithView_&&(D+=this.viewRotation_);e<n;e+=y){var O=a[e]+this.textOffsetX_,M=a[e+1]+this.textOffsetY_;if(0!==D||1!=this.textScale_[0]||1!=this.textScale_[1]){var F=(0,H.compose)(this.tmpLocalTransform_,O,M,1,1,D,-O,-M);B.setTransform.apply(B,F);B.translate(O,M);B.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&
B.strokeText(this.text_,0,0);this.textFillState_&&B.fillText(this.text_,0,0);B.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&B.strokeText(this.text_,O,M),this.textFillState_&&B.fillText(this.text_,O,M)}}};f.prototype.moveToLineTo_=function(a,e,n,y,B){var D=this.context_;a=(0,u.transform2D)(a,e,n,y,this.transform_,this.pixelCoordinates_);D.moveTo(a[0],a[1]);e=a.length;B&&(e-=2);for(y=2;y<e;y+=2)D.lineTo(a[y],a[y+1]);B&&D.closePath();return n};f.prototype.drawRings_=function(a,e,n,y){for(var B=
0,D=n.length;B<D;++B)e=this.moveToLineTo_(a,e,n[B],y,!0);return e};f.prototype.drawCircle=function(a){if((0,v.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,m.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],y=e[3]-e[1];n=Math.sqrt(n*n+y*y);y=this.context_;y.beginPath();y.arc(e[0],e[1],n,0,2*Math.PI);this.fillState_&&
y.fill();this.strokeState_&&y.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};f.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};f.prototype.setTransform=function(a){this.transform_=a};f.prototype.drawGeometry=function(a){switch(a.getType()){case l["default"].POINT:this.drawPoint(a);break;case l["default"].LINE_STRING:this.drawLineString(a);break;case l["default"].POLYGON:this.drawPolygon(a);
break;case l["default"].MULTI_POINT:this.drawMultiPoint(a);break;case l["default"].MULTI_LINE_STRING:this.drawMultiLineString(a);break;case l["default"].MULTI_POLYGON:this.drawMultiPolygon(a);break;case l["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case l["default"].CIRCLE:this.drawCircle(a)}};f.prototype.drawFeature=function(a,e){(a=e.getGeometryFunction()(a))&&(0,v.intersects)(this.extent_,a.getExtent())&&(this.setStyle(e),this.drawGeometry(a))};f.prototype.drawGeometryCollection=
function(a){a=a.getGeometriesArray();for(var e=0,n=a.length;e<n;++e)this.drawGeometry(a[e])};f.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();
a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getFlatCoordinates();e.beginPath();this.moveToLineTo_(n,0,n.length,a.getStride(),!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getExtent();if((0,v.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;var n=a.getFlatCoordinates(),y=0,B=a.getEnds(),D=a.getStride();e.beginPath();for(var O=0,M=B.length;O<M;++O)y=this.moveToLineTo_(n,y,B[O],D,!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};f.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());
this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getOrientedFlatCoordinates(),
y=0,B=a.getEndss(),D=a.getStride();e.beginPath();for(var O=0,M=B.length;O<M;++O)y=this.drawRings_(n,y,B[O],D);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};f.prototype.setContextFillState_=function(a){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=a.fillStyle&&(n.fillStyle=a.fillStyle,e.fillStyle=a.fillStyle):(e.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};f.prototype.setContextStrokeState_=
function(a){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=a.lineCap&&(n.lineCap=a.lineCap,e.lineCap=a.lineCap),e.setLineDash&&((0,x.equals)(n.lineDash,a.lineDash)||e.setLineDash(n.lineDash=a.lineDash),n.lineDashOffset!=a.lineDashOffset&&(n.lineDashOffset=a.lineDashOffset,e.lineDashOffset=a.lineDashOffset)),n.lineJoin!=a.lineJoin&&(n.lineJoin=a.lineJoin,e.lineJoin=a.lineJoin),n.lineWidth!=a.lineWidth&&(n.lineWidth=a.lineWidth,e.lineWidth=a.lineWidth),n.miterLimit!=a.miterLimit&&(n.miterLimit=
a.miterLimit,e.miterLimit=a.miterLimit),n.strokeStyle!=a.strokeStyle&&(n.strokeStyle=a.strokeStyle,e.strokeStyle=a.strokeStyle)):(e.lineCap=a.lineCap,e.setLineDash&&(e.setLineDash(a.lineDash),e.lineDashOffset=a.lineDashOffset),e.lineJoin=a.lineJoin,e.lineWidth=a.lineWidth,e.miterLimit=a.miterLimit,e.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
f.prototype.setContextTextState_=function(a){var e=this.context_,n=this.contextTextState_,y=a.textAlign?a.textAlign:N.defaultTextAlign;n?(n.font!=a.font&&(n.font=a.font,e.font=a.font),n.textAlign!=y&&(n.textAlign=y,e.textAlign=y),n.textBaseline!=a.textBaseline&&(n.textBaseline=a.textBaseline,e.textBaseline=a.textBaseline)):(e.font=a.font,e.textAlign=y,e.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:y,textBaseline:a.textBaseline})};f.prototype.setFillStrokeStyle=function(a,
e){a?(a=a.getColor(),this.fillState_={fillStyle:(0,w.asColorLike)(a?a:N.defaultFillStyle)}):this.fillState_=null;if(e){a=e.getColor();var n=e.getLineCap(),y=e.getLineDash(),B=e.getLineDashOffset(),D=e.getLineJoin(),O=e.getWidth();e=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:N.defaultLineCap,lineDash:y?y:N.defaultLineDash,lineDashOffset:B?B:N.defaultLineDashOffset,lineJoin:void 0!==D?D:N.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==O?O:N.defaultLineWidth),miterLimit:void 0!==
e?e:N.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(a?a:N.defaultStrokeStyle)}}else this.strokeState_=null};f.prototype.setImageStyle=function(a){if(a){var e=a.getSize();if(e){var n=a.getAnchor(),y=a.getImage(1),B=a.getOrigin(),D=a.getScaleArray();this.imageAnchorX_=n[0];this.imageAnchorY_=n[1];this.imageHeight_=e[1];this.image_=y;this.imageOpacity_=a.getOpacity();this.imageOriginX_=B[0];this.imageOriginY_=B[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();
this.imageScale_=[this.pixelRatio_*D[0],this.pixelRatio_*D[1]];this.imageWidth_=e[0]}else this.image_=null}else this.image_=null};f.prototype.setTextStyle=function(a){if(a){var e=a.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,w.asColorLike)(e?e:N.defaultFillStyle)}):this.textFillState_=null;var n=a.getStroke();if(n){e=n.getColor();var y=n.getLineCap(),B=n.getLineDash(),D=n.getLineDashOffset(),O=n.getLineJoin(),M=n.getWidth();n=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==
y?y:N.defaultLineCap,lineDash:B?B:N.defaultLineDash,lineDashOffset:D?D:N.defaultLineDashOffset,lineJoin:void 0!==O?O:N.defaultLineJoin,lineWidth:void 0!==M?M:N.defaultLineWidth,miterLimit:void 0!==n?n:N.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(e?e:N.defaultStrokeStyle)}}else this.textStrokeState_=null;e=a.getFont();y=a.getOffsetX();B=a.getOffsetY();D=a.getRotateWithView();O=a.getRotation();M=a.getScaleArray();n=a.getText();var F=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==
e?e:N.defaultFont,textAlign:void 0!==F?F:N.defaultTextAlign,textBaseline:void 0!==a?a:N.defaultTextBaseline};this.text_=void 0!==n?n:"";this.textOffsetX_=void 0!==y?this.pixelRatio_*y:0;this.textOffsetY_=void 0!==B?this.pixelRatio_*B:0;this.textRotateWithView_=void 0!==D?D:!1;this.textRotation_=void 0!==O?O:0;this.textScale_=[this.pixelRatio_*M[0],this.pixelRatio_*M[1]]}else this.text_=""};return f}(Ia["default"]);E["default"]=A};
shadow$provide[223]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[224]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[225]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(85));var l=k(A(86)),w=A(72),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();A=function(N){function x(v,u,m,g){var d=N.call(this)||this;d.extent=v;d.pixelRatio_=m;d.resolution=u;d.state=g;return d}H(x,N);x.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};x.prototype.getExtent=function(){return this.extent};x.prototype.getImage=function(){return(0,w["abstract"])()};x.prototype.getPixelRatio=function(){return this.pixelRatio_};x.prototype.getResolution=function(){return this.resolution};x.prototype.getState=function(){return this.state};
x.prototype.load=function(){(0,w["abstract"])()};return x}(Ia["default"]);E["default"]=A};
shadow$provide[226]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m,g,d){if(m.src&&N.IMAGE_DECODE){var f=!0;m.decode().then(function(){f&&g()})["catch"](function(e){f&&("EncodingError"===e.name&&"Invalid image type."===e.message?g():d())});return function(){f=!1}}var a=[(0,v.listenOnce)(m,w["default"].LOAD,g),(0,v.listenOnce)(m,w["default"].ERROR,d)];return function(){a.forEach(v.unlistenByKey)}}Object.defineProperty(E,"__esModule",{value:!0});E.listenImage=l;
E["default"]=void 0;var w=k(A(86));Ia=k(A(225));var H=k(A(197)),N=A(100),x=A(78),v=A(87),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(m){function g(d,f,a,e,n,y){d=m.call(this,d,f,a,
H["default"].IDLE)||this;d.src_=e;d.image_=new Image;null!==n&&(d.image_.crossOrigin=n);d.unlisten_=null;d.state=H["default"].IDLE;d.imageLoadFunction_=y;return d}u(g,m);g.prototype.getImage=function(){return this.image_};g.prototype.handleImageError_=function(){this.state=H["default"].ERROR;this.unlistenImage_();this.changed()};g.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,x.getHeight)(this.extent)/this.image_.height);this.state=H["default"].LOADED;this.unlistenImage_();
this.changed()};g.prototype.load=function(){if(this.state==H["default"].IDLE||this.state==H["default"].ERROR)this.state=H["default"].LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=l(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};g.prototype.setImage=function(d){this.image_=d};g.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return g}(Ia["default"]);E["default"]=A};
shadow$provide[227]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E.get=function(d,f,a,e,n,y){var B=x.shared.get(f,e,y);B||(B=new g(d,f,a,e,n,y),x.shared.set(f,e,y,B));return B};E["default"]=void 0;Ia=k(A(85));var l=k(A(86)),w=k(A(197)),H=A(80),N=A(101),x=A(81),v=A(226),u=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,
y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),m=null,g=function(d){function f(a,e,n,y,B,D){var O=d.call(this)||this;O.hitDetectionImage_=null;O.image_=a?a:new Image;null!==y&&(O.image_.crossOrigin=y);O.canvas_={};O.color_=D;O.unlisten_=null;O.imageState_=B;O.size_=n;O.src_=e;return O}u(f,d);f.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===w["default"].LOADED){m||
(m=(0,N.createCanvasContext2D)(1,1));m.drawImage(this.image_,0,0);try{m.getImageData(0,0,1,1),this.tainted_=!1}catch(a){m=null,this.tainted_=!0}}return!0===this.tainted_};f.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l["default"].CHANGE)};f.prototype.handleImageError_=function(){this.imageState_=w["default"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.handleImageLoad_=function(){this.imageState_=w["default"].LOADED;this.size_?(this.image_.width=this.size_[0],
this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};f.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};f.prototype.getImageState=function(){return this.imageState_};f.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],
e=this.size_[1],n=(0,N.createCanvasContext2D)(a,e);n.fillRect(0,0,a,e);this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};f.prototype.getSize=function(){return this.size_};f.prototype.getSrc=function(){return this.src_};f.prototype.load=function(){if(this.imageState_==w["default"].IDLE){this.imageState_=w["default"].LOADING;try{this.image_.src=this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,v.listenImage)(this.image_,this.handleImageLoad_.bind(this),
this.handleImageError_.bind(this))}};f.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]){var e=document.createElement("canvas");this.canvas_[a]=e;e.width=Math.ceil(this.image_.width*a);e.height=Math.ceil(this.image_.height*a);var n=e.getContext("2d");n.scale(a,a);n.drawImage(this.image_,0,0);n.globalCompositeOperation="multiply";if("multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=(0,H.asString)(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation=
"destination-in",n.drawImage(this.image_,0,0);else{a=n.getImageData(0,0,e.width,e.height);e=a.data;for(var y=this.color_[0]/255,B=this.color_[1]/255,D=this.color_[2]/255,O=this.color_[3],M=0,F=e.length;M<F;M+=4)e[M]*=y,e[M+1]*=B,e[M+2]*=D,e[M+3]*=O;n.putImageData(a,0,0)}}};f.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return f}(Ia["default"]);E["default"]=g};
shadow$provide[228]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(86)),w=k(A(223)),H=k(A(224)),N=k(A(197));Ia=k(A(198));var x=A(80),v=A(74),u=A(227),m=A(72),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,
a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=a||{};a=d.call(this,{opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1})||this;a.anchor_=void 0!==e.anchor?e.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==
e.anchorOrigin?e.anchorOrigin:H["default"].TOP_LEFT;a.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:w["default"].FRACTION;a.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:w["default"].FRACTION;a.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var n=void 0!==e.img?e.img:null,y=void 0!==e.imgSize?e.imgSize:null,B=e.src;(0,v.assert)(!(void 0!==B&&n),4);(0,v.assert)(!n||n&&y,5);void 0!==B&&0!==B.length||!n||(B=n.src||(0,m.getUid)(n));(0,v.assert)(void 0!==B&&0<B.length,6);var D=void 0!==
e.src?N["default"].IDLE:N["default"].LOADED;a.color_=void 0!==e.color?(0,x.asArray)(e.color):null;a.iconImage_=(0,u.get)(n,B,y,a.crossOrigin_,D,a.color_);a.offset_=void 0!==e.offset?e.offset:[0,0];a.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:H["default"].TOP_LEFT;a.origin_=null;a.size_=void 0!==e.size?e.size:null;return a}g(f,d);f.prototype.clone=function(){var a=this.getScale();return new f({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,
crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(a)?a.slice():a,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};f.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,e=this.getSize();if(this.anchorXUnits_==
w["default"].FRACTION||this.anchorYUnits_==w["default"].FRACTION){if(!e)return null;a=this.anchor_.slice();this.anchorXUnits_==w["default"].FRACTION&&(a[0]*=e[0]);this.anchorYUnits_==w["default"].FRACTION&&(a[1]*=e[1])}if(this.anchorOrigin_!=H["default"].TOP_LEFT){if(!e)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==H["default"].TOP_RIGHT||this.anchorOrigin_==H["default"].BOTTOM_RIGHT)a[0]=-a[0]+e[0];if(this.anchorOrigin_==H["default"].BOTTOM_LEFT||this.anchorOrigin_==
H["default"].BOTTOM_RIGHT)a[1]=-a[1]+e[1]}return this.normalizedAnchor_=a};f.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};f.prototype.getColor=function(){return this.color_};f.prototype.getImage=function(a){return this.iconImage_.getImage(a)};f.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};f.prototype.getImageSize=function(){return this.iconImage_.getSize()};f.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};f.prototype.getImageState=
function(){return this.iconImage_.getImageState()};f.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};f.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=H["default"].TOP_LEFT){var n=this.getSize(),y=this.iconImage_.getSize();if(!n||!y)return null;a=a.slice();if(this.offsetOrigin_==H["default"].TOP_RIGHT||this.offsetOrigin_==H["default"].BOTTOM_RIGHT)a[0]=y[0]-n[0]-a[0];if(this.offsetOrigin_==
H["default"].BOTTOM_LEFT||this.offsetOrigin_==H["default"].BOTTOM_RIGHT)a[1]=y[1]-n[1]-a[1]}a[0]+=e[0];a[1]+=e[1];return this.origin_=a};f.prototype.getSrc=function(){return this.iconImage_.getSrc()};f.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};f.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(l["default"].CHANGE,a)};f.prototype.load=function(){this.iconImage_.load()};f.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(l["default"].CHANGE,
a)};return f}(Ia["default"]);E["default"]=A};
shadow$provide[229]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(202)),w=k(A(212)),H=A(152);Ia=function(){function N(x){x=x||{};this.font_=x.font;this.rotation_=x.rotation;this.rotateWithView_=x.rotateWithView;this.scale_=x.scale;this.scaleArray_=(0,H.toSize)(void 0!==x.scale?x.scale:1);this.text_=x.text;this.textAlign_=x.textAlign;this.textBaseline_=x.textBaseline;this.fill_=void 0!==x.fill?
x.fill:new l["default"]({color:"#333"});this.maxAngle_=void 0!==x.maxAngle?x.maxAngle:Math.PI/4;this.placement_=void 0!==x.placement?x.placement:w["default"].POINT;this.overflow_=!!x.overflow;this.stroke_=void 0!==x.stroke?x.stroke:null;this.offsetX_=void 0!==x.offsetX?x.offsetX:0;this.offsetY_=void 0!==x.offsetY?x.offsetY:0;this.backgroundFill_=x.backgroundFill?x.backgroundFill:null;this.backgroundStroke_=x.backgroundStroke?x.backgroundStroke:null;this.padding_=void 0===x.padding?null:x.padding}
N.prototype.clone=function(){var x=this.getScale();return new N({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(x)?x.slice():x,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})};N.prototype.getOverflow=function(){return this.overflow_};N.prototype.getFont=function(){return this.font_};N.prototype.getMaxAngle=function(){return this.maxAngle_};N.prototype.getPlacement=function(){return this.placement_};N.prototype.getOffsetX=function(){return this.offsetX_};N.prototype.getOffsetY=function(){return this.offsetY_};
N.prototype.getFill=function(){return this.fill_};N.prototype.getRotateWithView=function(){return this.rotateWithView_};N.prototype.getRotation=function(){return this.rotation_};N.prototype.getScale=function(){return this.scale_};N.prototype.getScaleArray=function(){return this.scaleArray_};N.prototype.getStroke=function(){return this.stroke_};N.prototype.getText=function(){return this.text_};N.prototype.getTextAlign=function(){return this.textAlign_};N.prototype.getTextBaseline=function(){return this.textBaseline_};
N.prototype.getBackgroundFill=function(){return this.backgroundFill_};N.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};N.prototype.getPadding=function(){return this.padding_};N.prototype.setOverflow=function(x){this.overflow_=x};N.prototype.setFont=function(x){this.font_=x};N.prototype.setMaxAngle=function(x){this.maxAngle_=x};N.prototype.setOffsetX=function(x){this.offsetX_=x};N.prototype.setOffsetY=function(x){this.offsetY_=x};N.prototype.setPlacement=function(x){this.placement_=
x};N.prototype.setRotateWithView=function(x){this.rotateWithView_=x};N.prototype.setFill=function(x){this.fill_=x};N.prototype.setRotation=function(x){this.rotation_=x};N.prototype.setScale=function(x){this.scale_=x;this.scaleArray_=(0,H.toSize)(void 0!==x?x:1)};N.prototype.setStroke=function(x){this.stroke_=x};N.prototype.setText=function(x){this.text_=x};N.prototype.setTextAlign=function(x){this.textAlign_=x};N.prototype.setTextBaseline=function(x){this.textBaseline_=x};N.prototype.setBackgroundFill=
function(x){this.backgroundFill_=x};N.prototype.setBackgroundStroke=function(x){this.backgroundStroke_=x};N.prototype.setPadding=function(x){this.padding_=x};return N}();E["default"]=Ia};
shadow$provide[230]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"Circle",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"Fill",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"Icon",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"IconImage",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"RegularShape",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"Stroke",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"Style",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"Text",{enumerable:!0,get:function(){return g["default"]}});var l=k(A(201)),w=k(A(202)),H=k(A(228)),N=k(A(227)),x=k(A(198)),v=k(A(200)),u=k(A(203)),m=k(A(204)),
g=k(A(229))};
shadow$provide[231]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E.createHitDetectionImageData=function(m,g,d,f,a,e,n){var y=m[0]/2;m=m[1]/2;y=(0,x.createCanvasContext2D)(y,m);y.imageSmoothingEnabled=!1;m=y.canvas;n=new l["default"](y,.5,a,null,n);for(var B=d.length,D=Math.floor(16777215/B),O={},M=1;M<=B;++M){var F=d[M-1],z=F.getStyleFunction()||f;if(f){var G=z(F,e);if(G){Array.isArray(G)||(G=[G]);var K="#"+("000000"+(M*
D).toString(16)).slice(-6);z=0;for(var R=G.length;z<R;++z){var T=G[z],ja=T.clone(),fa=ja.getFill();fa&&fa.setColor(K);(fa=ja.getStroke())&&fa.setColor(K);ja.setText(void 0);if(T=T.getImage()){fa=T.getImageSize();if(!fa)continue;var ia=document.createElement("canvas");ia.width=fa[0];ia.height=fa[1];var la=ia.getContext("2d",{alpha:!1});la.fillStyle=K;ia=la.canvas;la.fillRect(0,0,ia.width,ia.height);la=fa?fa[0]:ia.width;var Z=fa?fa[1]:ia.height;(0,x.createCanvasContext2D)(la,Z).drawImage(ia,0,0);ja.setImage(new N.Icon({img:ia,
imgSize:fa,anchor:T.getAnchor(),anchorXUnits:H["default"].PIXELS,anchorYUnits:H["default"].PIXELS,offset:T.getOrigin(),size:T.getSize(),opacity:T.getOpacity(),scale:T.getScale(),rotation:T.getRotation(),rotateWithView:T.getRotateWithView()}))}fa=Number(ja.getZIndex());T=O[fa];T||(T={},O[fa]=T,T[w["default"].POLYGON]=[],T[w["default"].CIRCLE]=[],T[w["default"].LINE_STRING]=[],T[w["default"].POINT]=[]);(fa=ja.getGeometryFunction()(F))&&(0,v.intersects)(a,fa.getExtent())&&T[fa.getType().replace("Multi",
"")].push(fa,ja)}}}}d=Object.keys(O).map(Number).sort(u.numberSafeCompareFunction);M=0;for(f=d.length;M<f;++M){T=O[d[M]];for(var P in T)for(a=T[P],z=0,R=a.length;z<R;z+=2)for(n.setStyle(a[z+1]),e=0,B=g.length;e<B;++e)n.setTransform(g[e]),n.drawGeometry(a[z])}return y.getImageData(0,0,m.width,m.height)};E.hitDetect=function(m,g,d){var f=[];d&&(m=4*(Math.round(m[0]/2)+Math.round(m[1]/2)*d.width),d=d.data[m+2]+256*(d.data[m+1]+256*d.data[m]),m=Math.floor(16777215/g.length),d&&0===d%m&&f.push(g[d/m-1]));
return f};var l=k(A(222)),w=k(A(117)),H=k(A(223)),N=A(230),x=A(101),v=A(78),u=A(70)};
shadow$provide[232]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m,g,d,f){if(g.getType()==H["default"].GEOMETRY_COLLECTION){g=g.getGeometries();for(var a=0,e=g.length;a<e;++a)l(m,g[a],d,f)}else m.getBuilder(d.getZIndex(),w["default"].DEFAULT).drawCustom(g,f,d.getRenderer())}Object.defineProperty(E,"__esModule",{value:!0});E.defaultOrder=function(m,g){return parseInt((0,x.getUid)(m),10)-parseInt((0,x.getUid)(g),10)};E.getSquaredTolerance=function(m,g){m=v*m/g;
return m*m};E.getTolerance=function(m,g){return v*m/g};E.renderFeature=function(m,g,d,f,a,e,n){var y=!1,B=d.getImage();if(B){var D=B.getImageState();D==N["default"].LOADED||D==N["default"].ERROR?B.unlistenImageChange(a):(D==N["default"].IDLE&&B.load(),B.getImageState(),B.listenImageChange(a),y=!0)}if(a=d.getGeometryFunction()(g))if(f=a.simplifyTransformed(f,e),d.getRenderer())l(m,f,d,g);else(0,u[f.getType()])(m,f,d,g,n);return y};var w=k(A(218)),H=k(A(117)),N=k(A(197)),x=A(72),v=.5,u={Point:function(m,
g,d,f,a){var e=d.getImage(),n=d.getText();if(a){m=a;var y=e&&n&&n.getText()?{}:void 0}if(e){if(e.getImageState()!=N["default"].LOADED)return;a=m.getBuilder(d.getZIndex(),w["default"].IMAGE);a.setImageStyle(e,y);a.drawPoint(g,f)}n&&n.getText()&&(m=m.getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(n,y),m.drawText(g,f))},LineString:function(m,g,d,f,a){var e=d.getStroke();if(e){var n=m.getBuilder(d.getZIndex(),w["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawLineString(g,f)}(e=
d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},Polygon:function(m,g,d,f,a){var e=d.getFill(),n=d.getStroke();if(e||n){var y=m.getBuilder(d.getZIndex(),w["default"].POLYGON);y.setFillStrokeStyle(e,n);y.drawPolygon(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},MultiPoint:function(m,g,d,f,a){var e=d.getImage(),n=d.getText();if(a){m=a;var y=e&&n&&n.getText()?
{}:void 0}if(e){if(e.getImageState()!=N["default"].LOADED)return;var B=m.getBuilder(d.getZIndex(),w["default"].IMAGE);B.setImageStyle(e,y);B.drawMultiPoint(g,f)}n&&n.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(n,y),m.drawText(g,f))},MultiLineString:function(m,g,d,f,a){var e=d.getStroke();if(e){var n=m.getBuilder(d.getZIndex(),w["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawMultiLineString(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),
w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},MultiPolygon:function(m,g,d,f,a){var e=d.getFill(),n=d.getStroke();if(n||e){var y=m.getBuilder(d.getZIndex(),w["default"].POLYGON);y.setFillStrokeStyle(e,n);y.drawMultiPolygon(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},GeometryCollection:function(m,g,d,f,a){g=g.getGeometriesArray();var e;var n=0;for(e=g.length;n<e;++n)(0,u[g[n].getType()])(m,g[n],d,f,a)},Circle:function(m,
g,d,f,a){var e=d.getFill(),n=d.getStroke();if(e||n){var y=m.getBuilder(d.getZIndex(),w["default"].CIRCLE);y.setFillStrokeStyle(e,n);y.drawCircle(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))}}};
shadow$provide[233]=function(Ia,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(215));Ia=k(A(217));var w=k(A(221)),H=k(A(119)),N=A(75),x=A(78),v=A(231),u=A(232),m=A(128),g=A(72),d=A(96),f=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,B){y.__proto__=B}||function(y,B){for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(y[D]=B[D])};return a(e,n)};return function(e,
n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}();A=function(a){function e(n){n=a.call(this,n)||this;n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n);n.dirty_=!1;n.hitDetectionImageData_=null;n.renderedFeatures_=null;n.renderedRevision_=-1;n.renderedResolution_=NaN;n.renderedExtent_=(0,x.createEmpty)();n.renderedCenter_=null;n.renderedProjection_=null;n.renderedRenderOrder_=null;n.replayGroup_=null;n.replayGroupChanged=
!0;n.declutterExecutorGroup=null;n.clipping=!0;return n}f(e,a);e.prototype.useContainer=function(n,y,B){1>B&&(n=null);a.prototype.useContainer.call(this,n,y,B)};e.prototype.renderWorlds=function(n,y,B){var D=y.extent,O=y.viewState,M=O.center,F=O.resolution,z=O.projection;O=O.rotation;var G=z.getExtent(),K=this.getLayer().getSource(),R=y.pixelRatio,T=y.viewHints;T=!(T[H["default"].ANIMATING]||T[H["default"].INTERACTING]);var ja=this.context,fa=Math.round(y.size[0]*R);y=Math.round(y.size[1]*R);var ia=
K.getWrapX()&&z.canWrapX();z=ia?(0,x.getWidth)(G):null;K=ia?Math.ceil((D[2]-G[2])/z)+1:1;D=ia?Math.floor((D[0]-G[0])/z):0;do G=this.getRenderTransform(M,F,O,R,fa,y,D*z),n.execute(ja,1,G,O,T,void 0,B);while(++D<K)};e.prototype.renderDeclutter=function(n){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,n,n.declutterTree)};e.prototype.renderFrame=function(n,y){var B=n.pixelRatio,D=n.layerStatesArray[n.layerIndex];(0,N.makeScale)(this.pixelTransform,1/B,1/B);(0,N.makeInverse)(this.inversePixelTransform,
this.pixelTransform);var O=(0,N.toString)(this.pixelTransform);this.useContainer(y,O,D.opacity);y=this.context;var M=y.canvas,F=this.replayGroup_,z=this.declutterExecutorGroup;if(!(F&&!F.isEmpty()||z&&!z.isEmpty()))return!this.containerReused&&0<M.width&&(M.width=0),this.container;z=Math.round(n.size[0]*B);B=Math.round(n.size[1]*B);M.width!=z||M.height!=B?(M.width=z,M.height=B,M.style.transform!==O&&(M.style.transform=O)):this.containerReused||y.clearRect(0,0,z,B);this.preRender(y,n);O=n.viewState;
M=O.projection;B=!1;D.extent&&this.clipping&&(M=(0,m.fromUserExtent)(D.extent,M),(B=!(0,x.containsExtent)(M,n.extent)&&(0,x.intersects)(M,n.extent))&&this.clipUnrotated(y,n,M));this.renderWorlds(F,n);B&&y.restore();this.postRender(y,n);n=D.opacity;D=this.container;n!==parseFloat(D.style.opacity)&&(D.style.opacity=1===n?"":String(n));this.renderedRotation_!==O.rotation&&(this.renderedRotation_=O.rotation,this.hitDetectionImageData_=null);return this.container};e.prototype.getFeatures=function(n){return new Promise(function(y){if(!this.hitDetectionImageData_&&
!this.animatingOrInteracting_){var B=[this.context.canvas.width,this.context.canvas.height];(0,N.apply)(this.pixelTransform,B);var D=this.renderedCenter_,O=this.renderedResolution_,M=this.renderedRotation_,F=this.renderedProjection_,z=this.renderedExtent_,G=this.getLayer(),K=[],R=B[0]/2,T=B[1]/2;K.push(this.getRenderTransform(D,O,M,.5,R,T,0).slice());var ja=G.getSource(),fa=F.getExtent();if(ja.getWrapX()&&F.canWrapX()&&!(0,x.containsExtent)(fa,z)){F=z[0];ja=(0,x.getWidth)(fa);for(var ia=0,la;F<fa[0];)--ia,
la=ja*ia,K.push(this.getRenderTransform(D,O,M,.5,R,T,la).slice()),F+=ja;ia=0;for(F=z[2];F>fa[2];)++ia,la=ja*ia,K.push(this.getRenderTransform(D,O,M,.5,R,T,la).slice()),F-=ja}this.hitDetectionImageData_=(0,v.createHitDetectionImageData)(B,K,this.renderedFeatures_,G.getStyleFunction(),z,O,M)}y((0,v.hitDetect)(n,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};e.prototype.forEachFeatureAtCoordinate=function(n,y,B,D,O){var M=this;if(this.replayGroup_){var F=y.viewState.resolution,z=
y.viewState.rotation,G=this.getLayer(),K={},R=function(fa,ia,la){var Z=(0,g.getUid)(fa),P=K[Z];if(!P){if(0===la)return K[Z]=!0,D(fa,G,ia);O.push(K[Z]={feature:fa,layer:G,geometry:ia,distanceSq:la,callback:D})}else if(!0!==P&&la<P.distanceSq){if(0===la)return K[Z]=!0,O.splice(O.lastIndexOf(P),1),D(fa,G,ia);P.geometry=ia;P.distanceSq=la}},T,ja=[this.replayGroup_];this.declutterExecutorGroup&&ja.push(this.declutterExecutorGroup);ja.some(function(fa){return T=fa.forEachFeatureAtCoordinate(n,F,z,B,R,fa===
M.declutterExecutorGroup?y.declutterTree.all().map(function(ia){return ia.value}):null)});return T}};e.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.replayGroup_&&n.changed()};e.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()};e.prototype.prepareFrame=function(n){var y=this.getLayer(),B=y.getSource();if(!B)return!1;var D=n.viewHints[H["default"].ANIMATING],O=n.viewHints[H["default"].INTERACTING],M=y.getUpdateWhileAnimating(),F=y.getUpdateWhileInteracting();
if(!this.dirty_&&!M&&D||!F&&O)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var z=n.extent,G=n.viewState;D=G.projection;var K=G.resolution;O=n.pixelRatio;M=y.getRevision();var R=y.getRenderBuffer();F=y.getRenderOrder();void 0===F&&(F=u.defaultOrder);G=G.center.slice();z=(0,x.buffer)(z,R*K);R=[z.slice()];var T=D.getExtent();if(B.getWrapX()&&D.canWrapX()&&!(0,x.containsExtent)(T,n.extent)){n=(0,x.getWidth)(T);var ja=Math.max((0,x.getWidth)(z)/2,n);z[0]=T[0]-ja;z[2]=T[2]+ja;
(0,d.wrapX)(G,D);ja=(0,x.wrapX)(R[0],D);ja[0]<T[0]&&ja[2]<T[2]?R.push([ja[0]+n,ja[1],ja[2]+n,ja[3]]):ja[0]>T[0]&&ja[2]>T[2]&&R.push([ja[0]-n,ja[1],ja[2]-n,ja[3]])}if(!this.dirty_&&this.renderedResolution_==K&&this.renderedRevision_==M&&this.renderedRenderOrder_==F&&(0,x.containsExtent)(this.renderedExtent_,z))return this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var fa=new l["default"]((0,u.getTolerance)(K,O),z,K,O),ia;this.getLayer().getDeclutter()&&(ia=new l["default"]((0,u.getTolerance)(K,
O),z,K,O));ja=(0,m.getUserProjection)();if(ja){n=0;for(T=R.length;n<T;++n)B.loadFeatures((0,m.toUserExtent)(R[n],D),K,ja);var la=(0,m.getTransformFromProjections)(ja,D)}else for(n=0,T=R.length;n<T;++n)B.loadFeatures(R[n],K,D);var Z=(0,u.getSquaredTolerance)(K,O);R=function(P){var C,V=P.getStyleFunction()||y.getStyleFunction();V&&(C=V(P,K));C&&(P=this.renderFeature(P,Z,C,fa,la,ia),this.dirty_=this.dirty_||P)}.bind(this);n=(0,m.toUserExtent)(z,D);ja=B.getFeaturesInExtent(n);F&&ja.sort(F);n=0;for(T=
ja.length;n<T;++n)R(ja[n]);this.renderedFeatures_=ja;n=fa.finish();n=new w["default"](z,K,O,B.getOverlaps(),n,y.getRenderBuffer());ia&&(this.declutterExecutorGroup=new w["default"](z,K,O,B.getOverlaps(),ia.finish(),y.getRenderBuffer()));this.renderedResolution_=K;this.renderedRevision_=M;this.renderedRenderOrder_=F;this.renderedExtent_=z;this.renderedCenter_=G;this.renderedProjection_=D;this.replayGroup_=n;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};e.prototype.renderFeature=
function(n,y,B,D,O,M){if(!B)return!1;var F=!1;if(Array.isArray(B))for(var z=0,G=B.length;z<G;++z)F=(0,u.renderFeature)(D,n,B[z],y,this.boundHandleStyleImageChange_,O,M)||F;else F=(0,u.renderFeature)(D,n,B,y,this.boundHandleStyleImageChange_,O,M);return F};return e}(Ia["default"]);E["default"]=A};
shadow$provide[234]=function(Ia,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(205));var l=k(A(233)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){return H.call(this,x)||this}w(N,H);N.prototype.createRenderer=function(){return new l["default"](this)};return N}(Ia["default"]);E["default"]=A};
shadow$provide[235]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=function(N){return N&&N.__esModule?N:{"default":N}}(A(196)),l=A(78),w=A(72),H=A(84);Ia=function(){function N(x){this.rbush_=new k["default"](x);this.items_={}}N.prototype.insert=function(x,v){x={minX:x[0],minY:x[1],maxX:x[2],maxY:x[3],value:v};this.rbush_.insert(x);this.items_[(0,w.getUid)(v)]=x};N.prototype.load=function(x,v){for(var u=Array(v.length),m=0,g=v.length;m<g;m++){var d=x[m],
f=v[m];d={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],value:f};u[m]=d;this.items_[(0,w.getUid)(f)]=d}this.rbush_.load(u)};N.prototype.remove=function(x){x=(0,w.getUid)(x);var v=this.items_[x];delete this.items_[x];return null!==this.rbush_.remove(v)};N.prototype.update=function(x,v){var u=this.items_[(0,w.getUid)(v)];u=[u.minX,u.minY,u.maxX,u.maxY];(0,l.equals)(u,x)||(this.remove(v),this.insert(x,v))};N.prototype.getAll=function(){return this.rbush_.all().map(function(x){return x.value})};N.prototype.getInExtent=
function(x){return this.rbush_.search({minX:x[0],minY:x[1],maxX:x[2],maxY:x[3]}).map(function(v){return v.value})};N.prototype.forEach=function(x){return this.forEach_(this.getAll(),x)};N.prototype.forEachInExtent=function(x,v){return this.forEach_(this.getInExtent(x),v)};N.prototype.forEach_=function(x,v){for(var u,m=0,g=x.length;m<g&&!(u=v(x[m]));m++);return u};N.prototype.isEmpty=function(){return(0,H.isEmpty)(this.items_)};N.prototype.clear=function(){this.rbush_.clear();this.items_={}};N.prototype.getExtent=
function(x){var v=this.rbush_.toJSON();return(0,l.createOrUpdate)(v.minX,v.minY,v.maxX,v.maxY,x)};N.prototype.concat=function(x){this.rbush_.load(x.rbush_.all());for(var v in x.items_)this.items_[v]=x.items_[v]};return N}();E["default"]=Ia};
shadow$provide[236]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}function l(v){return v?Array.isArray(v)?function(u){return v}:"function"===typeof v?v:function(u){return[v]}:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(89));var w=k(A(93)),H=A(72),N=A(128),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,
f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=v.call(this)||this;g.projection_=(0,N.get)(m.projection);g.attributions_=l(m.attributions);g.attributionsCollapsible_=void 0!==m.attributionsCollapsible?m.attributionsCollapsible:!0;g.loading=!1;g.state_=void 0!==m.state?m.state:w["default"].READY;g.wrapX_=void 0!==m.wrapX?m.wrapX:!1;return g}x(u,v);
u.prototype.getAttributions=function(){return this.attributions_};u.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};u.prototype.getProjection=function(){return this.projection_};u.prototype.getResolutions=function(){return(0,H["abstract"])()};u.prototype.getState=function(){return this.state_};u.prototype.getWrapX=function(){return this.wrapX_};u.prototype.getContextOptions=function(){};u.prototype.refresh=function(){this.changed()};u.prototype.setAttributions=
function(m){this.attributions_=l(m);this.changed()};u.prototype.setState=function(m){this.state_=m;this.changed()};return u}(Ia["default"]);E["default"]=A};
shadow$provide[237]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[238]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.all=function(k,l){return[[-Infinity,-Infinity,Infinity,Infinity]]};E.bbox=function(k,l){return[k]};E.tile=function(k){return function(l,w){w=k.getZForResolution(w);l=k.getTileRangeForExtentAndZ(l,w);var H=[];w=[w,0,0];for(w[1]=l.minX;w[1]<=l.maxX;++w[1])for(w[2]=l.minY;w[2]<=l.maxY;++w[2])H.push(k.getTileCoordExtent(w));return H}}};
shadow$provide[239]=function(Ia,A,rb,E){function k(N,x,v,u,m,g,d){var f=new XMLHttpRequest;f.open("GET","function"===typeof N?N(v,u,m):N,!0);x.getType()==l["default"].ARRAY_BUFFER&&(f.responseType="arraybuffer");f.withCredentials=H;f.onload=function(a){if(!f.status||200<=f.status&&300>f.status){a=x.getType();var e=void 0;a==l["default"].JSON||a==l["default"].TEXT?e=f.responseText:a==l["default"].XML?(e=f.responseXML)||(e=(new DOMParser).parseFromString(f.responseText,"application/xml")):a==l["default"].ARRAY_BUFFER&&
(e=f.response);e?g(x.readFeatures(e,{extent:v,featureProjection:m}),x.readProjection(e)):d()}else d()};f.onerror=d;f.send()}Object.defineProperty(E,"__esModule",{value:!0});E.loadFeaturesXhr=k;E.xhr=function(N,x){return function(v,u,m,g,d){var f=this;k(N,x,v,u,m,function(a,e){void 0!==g&&g(a);f.addFeatures(a)},d?d:w.VOID)}};E.setWithCredentials=function(N){H=N};var l=function(N){return N&&N.__esModule?N:{"default":N}}(A(184)),w=A(71),H=!1};
shadow$provide[240]=function(Ia,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.VectorSourceEvent=void 0;var l=k(A(105)),w=k(A(104));Ia=k(A(82));var H=k(A(86)),N=k(A(83)),x=k(A(235));rb=k(A(236));var v=k(A(93)),u=k(A(237)),m=A(71),g=A(238),d=A(74),f=A(78),a=A(70),e=A(72),n=A(84),y=A(87),B=A(239),D=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,
K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}(),O=function(M){function F(z,G,K){z=M.call(this,z)||this;z.feature=G;z.features=K;return z}D(F,M);return F}(Ia["default"]);E.VectorSourceEvent=O;A=function(M){function F(z){var G=z||{};z=M.call(this,{attributions:G.attributions,projection:void 0,state:v["default"].READY,wrapX:void 0!==
G.wrapX?G.wrapX:!0})||this;z.loader_=m.VOID;z.format_=G.format;z.overlaps_=void 0===G.overlaps?!0:G.overlaps;z.url_=G.url;void 0!==G.loader?z.loader_=G.loader:void 0!==z.url_&&((0,d.assert)(z.format_,7),z.loader_=(0,B.xhr)(z.url_,z.format_));z.strategy_=void 0!==G.strategy?G.strategy:g.all;var K=void 0!==G.useSpatialIndex?G.useSpatialIndex:!0;z.featuresRtree_=K?new x["default"]:null;z.loadedExtentsRtree_=new x["default"];z.nullGeometryFeatures_={};z.idIndex_={};z.uidIndex_={};z.featureChangeKeys_=
{};z.featuresCollection_=null;if(Array.isArray(G.features))var R=G.features;else if(G.features){var T=G.features;R=T.getArray()}K||void 0!==T||(T=new l["default"](R));void 0!==R&&z.addFeaturesInternal(R);void 0!==T&&z.bindFeaturesCollection_(T);return z}D(F,M);F.prototype.addFeature=function(z){this.addFeatureInternal(z);this.changed()};F.prototype.addFeatureInternal=function(z){var G=(0,e.getUid)(z);if(this.addToIndex_(G,z)){this.setupChangeEvents_(G,z);var K=z.getGeometry();K?(G=K.getExtent(),this.featuresRtree_&&
this.featuresRtree_.insert(G,z)):this.nullGeometryFeatures_[G]=z;this.dispatchEvent(new O(u["default"].ADDFEATURE,z))}else this.featuresCollection_&&this.featuresCollection_.remove(z)};F.prototype.setupChangeEvents_=function(z,G){this.featureChangeKeys_[z]=[(0,y.listen)(G,H["default"].CHANGE,this.handleFeatureChange_,this),(0,y.listen)(G,N["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};F.prototype.addToIndex_=function(z,G){var K=!0,R=G.getId();void 0!==R&&(R.toString()in this.idIndex_?
K=!1:this.idIndex_[R.toString()]=G);K&&((0,d.assert)(!(z in this.uidIndex_),30),this.uidIndex_[z]=G);return K};F.prototype.addFeatures=function(z){this.addFeaturesInternal(z);this.changed()};F.prototype.addFeaturesInternal=function(z){for(var G=[],K=[],R=[],T=0,ja=z.length;T<ja;T++){var fa=z[T],ia=(0,e.getUid)(fa);this.addToIndex_(ia,fa)&&K.push(fa)}T=0;for(z=K.length;T<z;T++)fa=K[T],ia=(0,e.getUid)(fa),this.setupChangeEvents_(ia,fa),(ja=fa.getGeometry())?(ia=ja.getExtent(),G.push(ia),R.push(fa)):
this.nullGeometryFeatures_[ia]=fa;this.featuresRtree_&&this.featuresRtree_.load(G,R);T=0;for(G=K.length;T<G;T++)this.dispatchEvent(new O(u["default"].ADDFEATURE,K[T]))};F.prototype.bindFeaturesCollection_=function(z){var G=!1;this.addEventListener(u["default"].ADDFEATURE,function(K){G||(G=!0,z.push(K.feature),G=!1)});this.addEventListener(u["default"].REMOVEFEATURE,function(K){G||(G=!0,z.remove(K.feature),G=!1)});z.addEventListener(w["default"].ADD,function(K){G||(G=!0,this.addFeature(K.element),
G=!1)}.bind(this));z.addEventListener(w["default"].REMOVE,function(K){G||(G=!0,this.removeFeature(K.element),G=!1)}.bind(this));this.featuresCollection_=z};F.prototype.clear=function(z){if(z){for(var G in this.featureChangeKeys_)this.featureChangeKeys_[G].forEach(y.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var K in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[K])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};z=new O(u["default"].CLEAR);this.dispatchEvent(z);this.changed()};F.prototype.forEachFeature=function(z){if(this.featuresRtree_)return this.featuresRtree_.forEach(z);this.featuresCollection_&&this.featuresCollection_.forEach(z)};F.prototype.forEachFeatureAtCoordinateDirect=function(z,G){return this.forEachFeatureInExtent([z[0],z[1],z[0],z[1]],function(K){if(K.getGeometry().intersectsCoordinate(z))return G(K)})};
F.prototype.forEachFeatureInExtent=function(z,G){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(z,G);this.featuresCollection_&&this.featuresCollection_.forEach(G)};F.prototype.forEachFeatureIntersectingExtent=function(z,G){return this.forEachFeatureInExtent(z,function(K){if(K.getGeometry().intersectsExtent(z)&&(K=G(K)))return K})};F.prototype.getFeaturesCollection=function(){return this.featuresCollection_};F.prototype.getFeatures=function(){if(this.featuresCollection_)var z=this.featuresCollection_.getArray();
else this.featuresRtree_&&(z=this.featuresRtree_.getAll(),(0,n.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(z,(0,n.getValues)(this.nullGeometryFeatures_)));return z};F.prototype.getFeaturesAtCoordinate=function(z){var G=[];this.forEachFeatureAtCoordinateDirect(z,function(K){G.push(K)});return G};F.prototype.getFeaturesInExtent=function(z){return this.featuresRtree_?this.featuresRtree_.getInExtent(z):this.featuresCollection_?this.featuresCollection_.getArray():[]};F.prototype.getClosestFeatureToCoordinate=
function(z,G){var K=z[0],R=z[1],T=null,ja=[NaN,NaN],fa=Infinity,ia=[-Infinity,-Infinity,Infinity,Infinity],la=G?G:m.TRUE;this.featuresRtree_.forEachInExtent(ia,function(Z){if(la(Z)){var P=Z.getGeometry(),C=fa;fa=P.closestPointXY(K,R,ja,fa);fa<C&&(T=Z,Z=Math.sqrt(fa),ia[0]=K-Z,ia[1]=R-Z,ia[2]=K+Z,ia[3]=R+Z)}});return T};F.prototype.getExtent=function(z){return this.featuresRtree_.getExtent(z)};F.prototype.getFeatureById=function(z){z=this.idIndex_[z.toString()];return void 0!==z?z:null};F.prototype.getFeatureByUid=
function(z){z=this.uidIndex_[z];return void 0!==z?z:null};F.prototype.getFormat=function(){return this.format_};F.prototype.getOverlaps=function(){return this.overlaps_};F.prototype.getUrl=function(){return this.url_};F.prototype.handleFeatureChange_=function(z){z=z.target;var G=(0,e.getUid)(z),K=z.getGeometry();K?(K=K.getExtent(),G in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[G],this.featuresRtree_&&this.featuresRtree_.insert(K,z)):this.featuresRtree_&&this.featuresRtree_.update(K,
z)):G in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(z),this.nullGeometryFeatures_[G]=z);K=z.getId();void 0!==K?(G=K.toString(),this.idIndex_[G]!==z&&(this.removeFromIdIndex_(z),this.idIndex_[G]=z)):(this.removeFromIdIndex_(z),this.uidIndex_[G]=z);this.changed();this.dispatchEvent(new O(u["default"].CHANGEFEATURE,z))};F.prototype.hasFeature=function(z){var G=z.getId();return void 0!==G?G in this.idIndex_:(0,e.getUid)(z)in this.uidIndex_};F.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&
(0,n.isEmpty)(this.nullGeometryFeatures_)};F.prototype.loadFeatures=function(z,G,K){var R=this.loadedExtentsRtree_,T=this.strategy_(z,G);this.loading=!1;z=function(la,Z){var P=T[la];R.forEachInExtent(P,function(C){return(0,f.containsExtent)(C.extent,P)})||(ja.dispatchEvent(new O(u["default"].FEATURESLOADSTART)),ja.loader_.call(ja,P,G,K,function(C){this.dispatchEvent(new O(u["default"].FEATURESLOADEND,void 0,C))}.bind(ja),function(){this.dispatchEvent(new O(u["default"].FEATURESLOADERROR))}.bind(ja)),
R.insert(P,{extent:P.slice()}),ja.loading=ja.loader_!==m.VOID)};for(var ja=this,fa=0,ia=T.length;fa<ia;++fa)z(fa,ia)};F.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();M.prototype.refresh.call(this)};F.prototype.removeLoadedExtent=function(z){var G=this.loadedExtentsRtree_,K;G.forEachInExtent(z,function(R){if((0,f.equals)(R.extent,z))return K=R,!0});K&&G.remove(K)};F.prototype.removeFeature=function(z){var G=(0,e.getUid)(z);G in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[G]:
this.featuresRtree_&&this.featuresRtree_.remove(z);this.removeFeatureInternal(z);this.changed()};F.prototype.removeFeatureInternal=function(z){var G=(0,e.getUid)(z);this.featureChangeKeys_[G].forEach(y.unlistenByKey);delete this.featureChangeKeys_[G];var K=z.getId();void 0!==K&&delete this.idIndex_[K.toString()];delete this.uidIndex_[G];this.dispatchEvent(new O(u["default"].REMOVEFEATURE,z))};F.prototype.removeFromIdIndex_=function(z){var G=!1,K;for(K in this.idIndex_)if(this.idIndex_[K]===z){delete this.idIndex_[K];
G=!0;break}return G};F.prototype.setLoader=function(z){this.loader_=z};F.prototype.setUrl=function(z){(0,d.assert)(this.format_,7);this.setLoader((0,B.xhr)(z,this.format_))};return F}(rb["default"]);E["default"]=A};
shadow$provide[241]=function(Ia,A,rb,E){function k(Z){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"===typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};return k(Z)}function l(){if("function"!==typeof WeakMap)return null;var Z=new WeakMap;l=function(){return Z};return Z}function w(Z){return Z&&Z.__esModule?Z:{"default":Z}}function H(){var Z=(0,K.createEditingStyle)();return function(P,C){return Z[P.getGeometry().getType()]}}
function N(Z){if(Z===m["default"].POINT||Z===m["default"].MULTI_POINT)var P=ia.POINT;else Z===m["default"].LINE_STRING||Z===m["default"].MULTI_LINE_STRING?P=ia.LINE_STRING:Z===m["default"].POLYGON||Z===m["default"].MULTI_POLYGON?P=ia.POLYGON:Z===m["default"].CIRCLE&&(P=ia.CIRCLE);return P}Object.defineProperty(E,"__esModule",{value:!0});E.createRegularPolygon=function(Z,P){return function(C,V,ha){var aa=(0,R.fromUserCoordinate)(C[0],ha);C=(0,R.fromUserCoordinate)(C[C.length-1],ha);var ta=Math.sqrt((0,
ja.squaredDistance)(aa,C));V=V?V:(0,D.fromCircle)(new x["default"](aa),Z);var wa=P;P||0===P||(wa=Math.atan2(C[1]-aa[1],C[0]-aa[0]));(0,D.makeRegular)(V,aa,ta,wa);(aa=(0,R.getUserProjection)())&&V.transform(ha,aa);return V}};E.createBox=function(){return function(Z,P,C){Z=(0,G.boundingExtent)([Z[0],Z[Z.length-1]].map(function(V){return(0,R.fromUserCoordinate)(V,C)}));Z=[[(0,G.getBottomLeft)(Z),(0,G.getBottomRight)(Z),(0,G.getTopRight)(Z),(0,G.getTopLeft)(Z),(0,G.getBottomLeft)(Z)]];P?P.setCoordinates(Z):
P=new D["default"](Z);(Z=(0,R.getUserProjection)())&&P.transform(C,Z);return P}};E["default"]=E.DrawEvent=void 0;var x=w(A(187));Ia=w(A(82));var v=w(A(86)),u=w(A(188)),m=w(A(117)),g=w(A(167)),d=w(A(191)),f=w(A(108)),a=w(A(109)),e=w(A(192)),n=w(A(193)),y=w(A(195)),B=w(A(143));rb=w(A(170));var D=function(Z){if(Z&&Z.__esModule)return Z;if(null===Z||"object"!==k(Z)&&"function"!==typeof Z)return{"default":Z};var P=l();if(P&&P.has(Z))return P.get(Z);var C={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor,
ha;for(ha in Z)if(Object.prototype.hasOwnProperty.call(Z,ha)){var aa=V?Object.getOwnPropertyDescriptor(Z,ha):null;aa&&(aa.get||aa.set)?Object.defineProperty(C,ha,aa):C[ha]=Z[ha]}C["default"]=Z;P&&P.set(Z,C);return C}(A(150)),O=w(A(234)),M=w(A(240)),F=A(71),z=A(171),G=A(78),K=A(204),R=A(128),T=A(89),ja=A(96),fa=function(){var Z=function(P,C){Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,ha){V.__proto__=ha}||function(V,ha){for(var aa in ha)Object.prototype.hasOwnProperty.call(ha,
aa)&&(V[aa]=ha[aa])};return Z(P,C)};return function(P,C){function V(){this.constructor=P}Z(P,C);P.prototype=null===C?Object.create(C):(V.prototype=C.prototype,new V)}}(),ia={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},la=function(Z){function P(C,V){C=Z.call(this,C)||this;C.feature=V;return C}fa(P,Z);return P}(Ia["default"]);E.DrawEvent=la;A=function(Z){function P(C){var V=this;C.stopDown||(C.stopDown=F.FALSE);V=Z.call(this,C)||this;V.shouldHandle_=!1;V.downPx_=null;V.freehand_=
!1;V.source_=C.source?C.source:null;V.features_=C.features?C.features:null;V.snapTolerance_=C.snapTolerance?C.snapTolerance:12;V.type_=C.type;V.mode_=N(V.type_);V.stopClick_=!!C.stopClick;V.minPoints_=C.minPoints?C.minPoints:V.mode_===ia.POLYGON?3:2;V.maxPoints_=V.mode_===ia.CIRCLE?2:C.maxPoints?C.maxPoints:Infinity;V.finishCondition_=C.finishCondition?C.finishCondition:F.TRUE;var ha=C.geometryFunction;if(!ha){var aa=V.mode_;if(aa===ia.CIRCLE)ha=function(wa,Ha,bb){Ha=Ha?Ha:new x["default"]([NaN,NaN]);
var kb=(0,R.fromUserCoordinate)(wa[0],bb);wa=(0,ja.squaredDistance)(kb,(0,R.fromUserCoordinate)(wa[wa.length-1],bb));Ha.setCenterAndRadius(kb,Math.sqrt(wa));(wa=(0,R.getUserProjection)())&&Ha.transform(bb,wa);return Ha};else{var ta;aa===ia.POINT?ta=B["default"]:aa===ia.LINE_STRING?ta=d["default"]:aa===ia.POLYGON&&(ta=D["default"]);ha=function(wa,Ha,bb){Ha?aa===ia.POLYGON?wa[0].length?Ha.setCoordinates([wa[0].concat([wa[0][0]])]):Ha.setCoordinates([]):Ha.setCoordinates(wa):Ha=new ta(wa);return Ha}}}V.geometryFunction_=
ha;V.dragVertexDelay_=void 0!==C.dragVertexDelay?C.dragVertexDelay:500;V.finishCoordinate_=null;V.sketchFeature_=null;V.sketchPoint_=null;V.sketchCoords_=null;V.sketchLine_=null;V.sketchLineCoords_=null;V.squaredClickTolerance_=C.clickTolerance?C.clickTolerance*C.clickTolerance:36;V.overlay_=new O["default"]({source:new M["default"]({useSpatialIndex:!1,wrapX:C.wrapX?C.wrapX:!1}),style:C.style?C.style:H(),updateWhileInteracting:!0});V.geometryName_=C.geometryName;V.condition_=C.condition?C.condition:
z.noModifierKeys;V.freehandCondition_=C.freehand?z.always:C.freehandCondition?C.freehandCondition:z.shiftKeyOnly;V.addEventListener((0,T.getChangeEventType)(g["default"].ACTIVE),V.updateState_);return V}fa(P,Z);P.prototype.setMap=function(C){Z.prototype.setMap.call(this,C);this.updateState_()};P.prototype.getOverlay=function(){return this.overlay_};P.prototype.handleEvent=function(C){C.originalEvent.type===v["default"].CONTEXTMENU&&C.originalEvent.preventDefault();this.freehand_=this.mode_!==ia.POINT&&
this.freehandCondition_(C);var V=C.type===a["default"].POINTERMOVE,ha=!0;!this.freehand_&&this.lastDragTime_&&C.type===a["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=C.pixel,this.shouldHandle_=!this.freehand_,V=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&C.type===a["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(C.coordinate),
ha=!1):this.freehand_&&C.type===a["default"].POINTERDOWN?ha=!1:V&&2>this.getPointerCount()?(ha=C.type===a["default"].POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(C),this.shouldHandle_&&C.originalEvent.preventDefault()):("mouse"===C.originalEvent.pointerType||C.type===a["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(C):C.type===a["default"].DBLCLICK&&(ha=!1);return Z.prototype.handleEvent.call(this,C)&&ha};P.prototype.handleDownEvent=function(C){this.shouldHandle_=
!this.freehand_;if(this.freehand_)return this.downPx_=C.pixel,this.finishCoordinate_||this.startDrawing_(C.coordinate),!0;if(this.condition_(C))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new f["default"](a["default"].POINTERMOVE,C.map,C.originalEvent,!1,C.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=C.pixel,!0;this.lastDragTime_=void 0;return!1};P.prototype.handleUpEvent=function(C){var V=!0;if(0===this.getPointerCount())if(this.downTimeout_&&
(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(C),this.shouldHandle_){switch(!0){case !this.finishCoordinate_:if(this.startDrawing_(C.coordinate),this.mode_!==ia.POINT)break;case this.freehand_||this.atFinish_(C.pixel)&&this.finishCondition_(C):this.finishDrawing();break;case !this.freehand_:this.addToDrawing_(C.coordinate)}V=!1}else this.freehand_&&this.abortDrawing();!V&&this.stopClick_&&C.originalEvent.stopPropagation();return V};P.prototype.handlePointerMove_=
function(C){this.pointerType_=C.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var V=this.downPx_,ha=C.pixel,aa=V[0]-ha[0];V=V[1]-ha[1];aa=aa*aa+V*V;this.shouldHandle_=this.freehand_?aa>this.squaredClickTolerance_:aa<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(C.coordinate):this.createOrUpdateSketchPoint_(C)};P.prototype.atFinish_=function(C){var V=!1;if(this.sketchFeature_){var ha=
!1,aa=[this.finishCoordinate_],ta=this.mode_;ta===ia.POINT?V=!0:ta===ia.CIRCLE?V=2===this.sketchCoords_.length:ta===ia.LINE_STRING?ha=this.sketchCoords_.length>this.minPoints_:ta===ia.POLYGON&&(aa=this.sketchCoords_,ha=aa[0].length>this.minPoints_,aa=[aa[0][0],aa[0][aa[0].length-2]]);if(ha){ha=this.getMap();ta=0;for(var wa=aa.length;ta<wa;ta++){var Ha=aa[ta],bb=ha.getPixelFromCoordinate(Ha);V=C[0]-bb[0];bb=C[1]-bb[1];if(V=Math.sqrt(V*V+bb*bb)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=
Ha;break}}}}return V};P.prototype.createOrUpdateSketchPoint_=function(C){C=C.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(C):(this.sketchPoint_=new u["default"](new B["default"](C)),this.updateSketchFeatures_())};P.prototype.createOrUpdateCustomSketchLine_=function(C){this.sketchLine_||(this.sketchLine_=new u["default"]);C=C.getLinearRing(0);var V=this.sketchLine_.getGeometry();V?(V.setFlatCoordinates(C.getLayout(),C.getFlatCoordinates()),V.changed()):(V=new d["default"](C.getFlatCoordinates(),
C.getLayout()),this.sketchLine_.setGeometry(V))};P.prototype.startDrawing_=function(C){var V=this.getMap().getView().getProjection();this.finishCoordinate_=C;this.mode_===ia.POINT?this.sketchCoords_=C.slice():this.mode_===ia.POLYGON?(this.sketchCoords_=[[C.slice(),C.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[C.slice(),C.slice()];this.sketchLineCoords_&&(this.sketchLine_=new u["default"](new d["default"](this.sketchLineCoords_)));C=this.geometryFunction_(this.sketchCoords_,
void 0,V);this.sketchFeature_=new u["default"];this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(C);this.updateSketchFeatures_();this.dispatchEvent(new la("drawstart",this.sketchFeature_))};P.prototype.modifyDrawing_=function(C){var V=this.getMap(),ha=this.sketchFeature_.getGeometry(),aa=V.getView().getProjection();if(this.mode_===ia.POINT)var ta=this.sketchCoords_;else this.mode_===ia.POLYGON?(ta=this.sketchCoords_[0],ta=ta[ta.length-1],this.atFinish_(V.getPixelFromCoordinate(C))&&
(C=this.finishCoordinate_.slice())):(ta=this.sketchCoords_,ta=ta[ta.length-1]);ta[0]=C[0];ta[1]=C[1];this.geometryFunction_(this.sketchCoords_,ha,aa);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(C);ha.getType()===m["default"].POLYGON&&this.mode_!==ia.POLYGON?this.createOrUpdateCustomSketchLine_(ha):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};P.prototype.addToDrawing_=function(C){var V=this.sketchFeature_.getGeometry(),
ha=this.getMap().getView().getProjection(),aa;var ta=this.mode_;ta===ia.LINE_STRING||ta===ia.CIRCLE?(this.finishCoordinate_=C.slice(),ta=this.sketchCoords_,ta.length>=this.maxPoints_&&(this.freehand_?ta.pop():aa=!0),ta.push(C.slice()),this.geometryFunction_(ta,V,ha)):ta===ia.POLYGON&&(ta=this.sketchCoords_[0],ta.length>=this.maxPoints_&&(this.freehand_?ta.pop():aa=!0),ta.push(C.slice()),aa&&(this.finishCoordinate_=ta[0]),this.geometryFunction_(this.sketchCoords_,V,ha));this.updateSketchFeatures_();
aa&&this.finishDrawing()};P.prototype.removeLastPoint=function(){if(this.sketchFeature_){var C=this.sketchFeature_.getGeometry(),V=this.getMap().getView().getProjection(),ha=this.mode_;if(ha===ia.LINE_STRING||ha===ia.CIRCLE){var aa=this.sketchCoords_;aa.splice(-2,1);2<=aa.length&&(this.finishCoordinate_=aa[aa.length-2].slice(),ha=this.finishCoordinate_.slice(),aa[aa.length-1]=ha,this.sketchPoint_.setGeometry(new B["default"](ha)));this.geometryFunction_(aa,C,V);C.getType()===m["default"].POLYGON&&
this.sketchLine_&&this.createOrUpdateCustomSketchLine_(C)}else if(ha===ia.POLYGON){aa=this.sketchCoords_[0];aa.splice(-2,1);var ta=this.sketchLine_.getGeometry();2<=aa.length&&(ha=aa[aa.length-2].slice(),aa[aa.length-1]=ha,this.sketchPoint_.setGeometry(new B["default"](ha)));ta.setCoordinates(aa);this.geometryFunction_(this.sketchCoords_,C,V)}1===aa.length&&this.abortDrawing();this.updateSketchFeatures_()}};P.prototype.finishDrawing=function(){var C=this.abortDrawing_();if(C){var V=this.sketchCoords_,
ha=C.getGeometry(),aa=this.getMap().getView().getProjection();this.mode_===ia.LINE_STRING?(V.pop(),this.geometryFunction_(V,ha,aa)):this.mode_===ia.POLYGON&&(V[0].pop(),this.geometryFunction_(V,ha,aa),V=ha.getCoordinates());this.type_===m["default"].MULTI_POINT?C.setGeometry(new n["default"]([V])):this.type_===m["default"].MULTI_LINE_STRING?C.setGeometry(new e["default"]([V])):this.type_===m["default"].MULTI_POLYGON&&C.setGeometry(new y["default"]([V]));this.dispatchEvent(new la("drawend",C));this.features_&&
this.features_.push(C);this.source_&&this.source_.addFeature(C)}};P.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var C=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return C};P.prototype.abortDrawing=function(){var C=this.abortDrawing_();C&&this.dispatchEvent(new la("drawabort",C))};P.prototype.appendCoordinates=function(C){var V=this.mode_,ha=!this.sketchFeature_;ha&&this.startDrawing_(C[0]);if(V===ia.LINE_STRING||
V===ia.CIRCLE)V=this.sketchCoords_;else if(V===ia.POLYGON)V=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;ha&&V.shift();V.pop();for(ha=0;ha<C.length;ha++)this.addToDrawing_(C[ha]);C=C[C.length-1];this.addToDrawing_(C);this.modifyDrawing_(C)};P.prototype.extend=function(C){var V=C.getGeometry();this.sketchFeature_=C;this.sketchCoords_=V.getCoordinates();C=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=C.slice();this.sketchCoords_.push(C.slice());
this.sketchPoint_=new u["default"](new B["default"](C));this.updateSketchFeatures_();this.dispatchEvent(new la("drawstart",this.sketchFeature_))};P.prototype.updateSketchFeatures_=function(){var C=[];this.sketchFeature_&&C.push(this.sketchFeature_);this.sketchLine_&&C.push(this.sketchLine_);this.sketchPoint_&&C.push(this.sketchPoint_);var V=this.overlay_.getSource();V.clear(!0);V.addFeatures(C)};P.prototype.updateState_=function(){var C=this.getMap(),V=this.getActive();C&&V||this.abortDrawing();this.overlay_.setMap(V?
C:null)};return P}(rb["default"]);E["default"]=A};
shadow$provide[242]=function(Ia,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}function l(){var M=(0,n.createEditingStyle)();return function(F,z){return M[v["default"].POLYGON]}}function w(){var M=(0,n.createEditingStyle)();return function(F,z){return M[v["default"].POINT]}}function H(M){return function(F){return(0,a.boundingExtent)([M,F])}}function N(M,F){return M[0]==F[0]?function(z){return(0,a.boundingExtent)([M,[z[0],F[1]]])}:M[1]==F[1]?function(z){return(0,a.boundingExtent)([M,
[F[0],z[1]]])}:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ExtentEvent=void 0;Ia=k(A(82));var x=k(A(188)),v=k(A(117)),u=k(A(109)),m=k(A(143));rb=k(A(170));var g=k(A(234)),d=k(A(240)),f=A(171),a=A(78),e=A(96),n=A(204),y=A(150),B=A(128),D=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=
F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}(),O=function(M){function F(z){var G=M.call(this,"extentchanged")||this;G.extent=z;return G}D(F,M);return F}(Ia["default"]);E.ExtentEvent=O;A=function(M){function F(z){var G=z||{};var K=M.call(this,G)||this;K.condition_=G.condition?G.condition:f.always;K.extent_=null;K.pointerHandler_=null;K.pixelTolerance_=void 0!==G.pixelTolerance?G.pixelTolerance:10;K.snappedToVertex_=!1;K.extentFeature_=null;K.vertexFeature_=null;
z||(z={});K.extentOverlay_=new g["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.boxStyle?z.boxStyle:l(),updateWhileAnimating:!0,updateWhileInteracting:!0});K.vertexOverlay_=new g["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.pointerStyle?z.pointerStyle:w(),updateWhileAnimating:!0,updateWhileInteracting:!0});z.extent&&K.setExtent(z.extent);return K}D(F,M);F.prototype.snapToVertex_=function(z,G){var K=G.getCoordinateFromPixelInternal(z),
R=function(fa,ia){return(0,e.squaredDistanceToSegment)(K,fa)-(0,e.squaredDistanceToSegment)(K,ia)},T=this.getExtentInternal();if(T){T=[[[T[0],T[1]],[T[0],T[3]]],[[T[0],T[3]],[T[2],T[3]]],[[T[2],T[3]],[T[2],T[1]]],[[T[2],T[1]],[T[0],T[1]]]];T.sort(R);R=T[0];T=(0,e.closestOnSegment)(K,R);var ja=G.getPixelFromCoordinateInternal(T);if((0,e.distance)(z,ja)<=this.pixelTolerance_)return z=G.getPixelFromCoordinateInternal(R[0]),G=G.getPixelFromCoordinateInternal(R[1]),z=(0,e.squaredDistance)(ja,z),G=(0,e.squaredDistance)(ja,
G),(this.snappedToVertex_=Math.sqrt(Math.min(z,G))<=this.pixelTolerance_)&&(T=z>G?R[1]:R[0]),T}return null};F.prototype.handlePointerMove_=function(z){var G=z.pixel;z=z.map;var K=this.snapToVertex_(G,z);K||(K=z.getCoordinateFromPixelInternal(G));this.createOrUpdatePointerFeature_(K)};F.prototype.createOrUpdateExtentFeature_=function(z){var G=this.extentFeature_;G?z?G.setGeometry((0,y.fromExtent)(z)):G.setGeometry(void 0):(this.extentFeature_=G=z?new x["default"]((0,y.fromExtent)(z)):new x["default"]({}),
this.extentOverlay_.getSource().addFeature(G));return G};F.prototype.createOrUpdatePointerFeature_=function(z){var G=this.vertexFeature_;G?G.getGeometry().setCoordinates(z):(this.vertexFeature_=G=new x["default"](new m["default"](z)),this.vertexOverlay_.getSource().addFeature(G));return G};F.prototype.handleEvent=function(z){if(!z.originalEvent||!this.condition_(z))return!0;z.type!=u["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(z);M.prototype.handleEvent.call(this,
z);return!1};F.prototype.handleDownEvent=function(z){var G=z.pixel,K=z.map,R=this.getExtentInternal();z=this.snapToVertex_(G,K);var T=function(ja){var fa=null,ia=null;ja[0]==R[0]?fa=R[2]:ja[0]==R[2]&&(fa=R[0]);ja[1]==R[1]?ia=R[3]:ja[1]==R[3]&&(ia=R[1]);return null!==fa&&null!==ia?[fa,ia]:null};z&&R?(G=z[0]==R[0]||z[0]==R[2]?z[0]:null,K=z[1]==R[1]||z[1]==R[3]?z[1]:null,null!==G&&null!==K?this.pointerHandler_=H(T(z)):null!==G?this.pointerHandler_=N(T([G,R[1]]),T([G,R[3]])):null!==K&&(this.pointerHandler_=
N(T([R[0],K]),T([R[2],K])))):(z=K.getCoordinateFromPixelInternal(G),this.setExtent([z[0],z[1],z[0],z[1]]),this.pointerHandler_=H(z));return!0};F.prototype.handleDragEvent=function(z){this.pointerHandler_&&(z=z.coordinate,this.setExtent(this.pointerHandler_(z)),this.createOrUpdatePointerFeature_(z))};F.prototype.handleUpEvent=function(z){this.pointerHandler_=null;(z=this.getExtentInternal())&&0!==(0,a.getArea)(z)||this.setExtent(null);return!1};F.prototype.setMap=function(z){this.extentOverlay_.setMap(z);
this.vertexOverlay_.setMap(z);M.prototype.setMap.call(this,z)};F.prototype.getExtent=function(){return(0,B.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};F.prototype.getExtentInternal=function(){return this.extent_};F.prototype.setExtent=function(z){this.extent_=z?z:null;this.createOrUpdateExtentFeature_(z);this.dispatchEvent(new O(this.extent_))};return F}(rb["default"]);E["default"]=A};
shadow$provide[243]=function(Ia,A,rb,E){function k(la){return la&&la.__esModule?la:{"default":la}}function l(la){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"===typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z};return l(la)}function w(la,Z){return la.index-Z.index}function H(la,Z,P){var C=Z.geometry;if(C.getType()===d["default"].CIRCLE&&1===Z.index)return(Z=(0,K.getUserProjection)())&&(C=C.clone().transform(Z,
P)),P=(0,M.squaredDistance)(C.getCenter(),(0,K.fromUserCoordinate)(la,P)),P=Math.sqrt(P)-C.getRadius(),P*P;la=(0,K.fromUserCoordinate)(la,P);fa[0]=(0,K.fromUserCoordinate)(Z.segment[0],P);fa[1]=(0,K.fromUserCoordinate)(Z.segment[1],P);return(0,M.squaredDistanceToSegment)(la,fa)}function N(la,Z,P){var C=Z.geometry;if(C.getType()===d["default"].CIRCLE&&1===Z.index)return Z=C,(C=(0,K.getUserProjection)())&&(Z=Z.clone().transform(C,P)),(0,K.toUserCoordinate)(Z.getClosestPoint((0,K.fromUserCoordinate)(la,
P)),P);la=(0,K.fromUserCoordinate)(la,P);fa[0]=(0,K.fromUserCoordinate)(Z.segment[0],P);fa[1]=(0,K.fromUserCoordinate)(Z.segment[1],P);return(0,K.toUserCoordinate)((0,M.closestOnSegment)(la,fa),P)}function x(){var la=(0,F.createEditingStyle)();return function(Z,P){return la[d["default"].POINT]}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ModifyEvent=void 0;var v=k(A(105)),u=k(A(104));Ia=k(A(82));var m=k(A(86)),g=k(A(188)),d=k(A(117)),f=k(A(109)),a=k(A(143));rb=k(A(170));var e=
k(A(235)),n=k(A(237)),y=k(A(234)),B=k(A(240)),D=A(171),O=A(78),M=A(96),F=A(204),z=A(70),G=A(150),K=A(128),R=A(72),T=function(){var la=function(Z,P){la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,V){C.__proto__=V}||function(C,V){for(var ha in V)Object.prototype.hasOwnProperty.call(V,ha)&&(C[ha]=V[ha])};return la(Z,P)};return function(Z,P){function C(){this.constructor=Z}la(Z,P);Z.prototype=null===P?Object.create(P):(C.prototype=P.prototype,new C)}}(),ja=[0,0,0,0],fa=[],ia=function(la){function Z(P,
C,V){P=la.call(this,P)||this;P.features=C;P.mapBrowserEvent=V;return P}T(Z,la);return Z}(Ia["default"]);E.ModifyEvent=ia;A=function(la){function Z(P){var C=la.call(this,P)||this;C.boundHandleFeatureChange_=C.handleFeatureChange_.bind(C);C.condition_=P.condition?P.condition:D.primaryAction;C.defaultDeleteCondition_=function(ha){return(0,D.altKeyOnly)(ha)&&(0,D.singleClick)(ha)};C.deleteCondition_=P.deleteCondition?P.deleteCondition:C.defaultDeleteCondition_;C.insertVertexCondition_=P.insertVertexCondition?
P.insertVertexCondition:D.always;C.vertexFeature_=null;C.vertexSegments_=null;C.lastPixel_=[0,0];C.ignoreNextSingleClick_=!1;C.featuresBeingModified_=null;C.rBush_=new e["default"];C.pixelTolerance_=void 0!==P.pixelTolerance?P.pixelTolerance:10;C.snappedToVertex_=!1;C.changingFeature_=!1;C.dragSegments_=[];C.overlay_=new y["default"]({source:new B["default"]({useSpatialIndex:!1,wrapX:!!P.wrapX}),style:P.style?P.style:x(),updateWhileAnimating:!0,updateWhileInteracting:!0});C.SEGMENT_WRITERS_={Point:C.writePointGeometry_.bind(C),
LineString:C.writeLineStringGeometry_.bind(C),LinearRing:C.writeLineStringGeometry_.bind(C),Polygon:C.writePolygonGeometry_.bind(C),MultiPoint:C.writeMultiPointGeometry_.bind(C),MultiLineString:C.writeMultiLineStringGeometry_.bind(C),MultiPolygon:C.writeMultiPolygonGeometry_.bind(C),Circle:C.writeCircleGeometry_.bind(C),GeometryCollection:C.writeGeometryCollectionGeometry_.bind(C)};C.source_=null;C.hitDetection_=null;if(P.features)var V=P.features;else P.source&&(C.source_=P.source,V=new v["default"](C.source_.getFeatures()),
C.source_.addEventListener(n["default"].ADDFEATURE,C.handleSourceAdd_.bind(C)),C.source_.addEventListener(n["default"].REMOVEFEATURE,C.handleSourceRemove_.bind(C)));if(!V)throw Error("The modify interaction requires features, a source or a layer");P.hitDetection&&(C.hitDetection_=P.hitDetection);C.features_=V;C.features_.forEach(C.addFeature_.bind(C));C.features_.addEventListener(u["default"].ADD,C.handleFeatureAdd_.bind(C));C.features_.addEventListener(u["default"].REMOVE,C.handleFeatureRemove_.bind(C));
C.lastPointerEvent_=null;C.delta_=[0,0];return C}T(Z,la);Z.prototype.addFeature_=function(P){var C=P.getGeometry();if(C){var V=this.SEGMENT_WRITERS_[C.getType()];V&&V(P,C)}(C=this.getMap())&&C.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,C);P.addEventListener(m["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.willModifyFeatures_=function(P,C){if(!this.featuresBeingModified_){this.featuresBeingModified_=new v["default"];for(var V=this.featuresBeingModified_.getArray(),
ha=0,aa=C.length;ha<aa;++ha){var ta=C[ha][0].feature;-1===V.indexOf(ta)&&this.featuresBeingModified_.push(ta)}this.dispatchEvent(new ia("modifystart",this.featuresBeingModified_,P))}};Z.prototype.removeFeature_=function(P){this.removeFeatureSegmentData_(P);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);P.removeEventListener(m["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.removeFeatureSegmentData_=
function(P){var C=this.rBush_,V=[];C.forEach(function(wa){P===wa.feature&&V.push(wa)});for(var ha=V.length-1;0<=ha;--ha){for(var aa=V[ha],ta=this.dragSegments_.length-1;0<=ta;--ta)this.dragSegments_[ta][0]===aa&&this.dragSegments_.splice(ta,1);C.remove(aa)}};Z.prototype.setActive=function(P){this.vertexFeature_&&!P&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);la.prototype.setActive.call(this,P)};Z.prototype.setMap=function(P){this.overlay_.setMap(P);la.prototype.setMap.call(this,
P)};Z.prototype.getOverlay=function(){return this.overlay_};Z.prototype.handleSourceAdd_=function(P){P.feature&&this.features_.push(P.feature)};Z.prototype.handleSourceRemove_=function(P){P.feature&&this.features_.remove(P.feature)};Z.prototype.handleFeatureAdd_=function(P){this.addFeature_(P.element)};Z.prototype.handleFeatureChange_=function(P){this.changingFeature_||(P=P.target,this.removeFeature_(P),this.addFeature_(P))};Z.prototype.handleFeatureRemove_=function(P){this.removeFeature_(P.element)};
Z.prototype.writePointGeometry_=function(P,C){var V=C.getCoordinates();P={feature:P,geometry:C,segment:[V,V]};this.rBush_.insert(C.getExtent(),P)};Z.prototype.writeMultiPointGeometry_=function(P,C){for(var V=C.getCoordinates(),ha=0,aa=V.length;ha<aa;++ha){var ta=V[ha];ta={feature:P,geometry:C,depth:[ha],index:ha,segment:[ta,ta]};this.rBush_.insert(C.getExtent(),ta)}};Z.prototype.writeLineStringGeometry_=function(P,C){for(var V=C.getCoordinates(),ha=0,aa=V.length-1;ha<aa;++ha){var ta=V.slice(ha,ha+
2),wa={feature:P,geometry:C,index:ha,segment:ta};this.rBush_.insert((0,O.boundingExtent)(ta),wa)}};Z.prototype.writeMultiLineStringGeometry_=function(P,C){for(var V=C.getCoordinates(),ha=0,aa=V.length;ha<aa;++ha)for(var ta=V[ha],wa=0,Ha=ta.length-1;wa<Ha;++wa){var bb=ta.slice(wa,wa+2),kb={feature:P,geometry:C,depth:[ha],index:wa,segment:bb};this.rBush_.insert((0,O.boundingExtent)(bb),kb)}};Z.prototype.writePolygonGeometry_=function(P,C){for(var V=C.getCoordinates(),ha=0,aa=V.length;ha<aa;++ha)for(var ta=
V[ha],wa=0,Ha=ta.length-1;wa<Ha;++wa){var bb=ta.slice(wa,wa+2),kb={feature:P,geometry:C,depth:[ha],index:wa,segment:bb};this.rBush_.insert((0,O.boundingExtent)(bb),kb)}};Z.prototype.writeMultiPolygonGeometry_=function(P,C){for(var V=C.getCoordinates(),ha=0,aa=V.length;ha<aa;++ha)for(var ta=V[ha],wa=0,Ha=ta.length;wa<Ha;++wa)for(var bb=ta[wa],kb=0,va=bb.length-1;kb<va;++kb){var Ta=bb.slice(kb,kb+2),Ya={feature:P,geometry:C,depth:[wa,ha],index:kb,segment:Ta};this.rBush_.insert((0,O.boundingExtent)(Ta),
Ya)}};Z.prototype.writeCircleGeometry_=function(P,C){var V=C.getCenter(),ha={feature:P,geometry:C,index:0,segment:[V,V]};P={feature:P,geometry:C,index:1,segment:[V,V]};var aa=[ha,P];ha.featureSegments=aa;P.featureSegments=aa;this.rBush_.insert((0,O.createOrUpdateFromCoordinate)(V),ha);(V=(0,K.getUserProjection)())&&this.getMap()&&(ha=this.getMap().getView().getProjection(),C=C.clone().transform(V,ha),C=(0,G.fromCircle)(C).transform(ha,V));this.rBush_.insert(C.getExtent(),P)};Z.prototype.writeGeometryCollectionGeometry_=
function(P,C){C=C.getGeometriesArray();for(var V=0;V<C.length;++V){var ha=C[V];(0,this.SEGMENT_WRITERS_[ha.getType()])(P,ha)}};Z.prototype.createOrUpdateVertexFeature_=function(P,C,V){var ha=this.vertexFeature_;ha?ha.getGeometry().setCoordinates(P):(this.vertexFeature_=ha=new g["default"](new a["default"](P)),this.overlay_.getSource().addFeature(ha));ha.set("features",C);ha.set("geometries",V);return ha};Z.prototype.handleEvent=function(P){if(!P.originalEvent)return!0;this.lastPointerEvent_=P;var C;
P.map.getView().getInteracting()||P.type!=f["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(P);this.vertexFeature_&&this.deleteCondition_(P)&&(C=P.type==f["default"].SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());P.type==f["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return la.prototype.handleEvent.call(this,P)&&!C};Z.prototype.handleDragEvent=function(P){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(P,this.dragSegments_);for(var C=
[P.coordinate[0]+this.delta_[0],P.coordinate[1]+this.delta_[1]],V=[],ha=[],aa=0,ta=this.dragSegments_.length;aa<ta;++aa){var wa=this.dragSegments_[aa],Ha=wa[0],bb=Ha.feature;-1===V.indexOf(bb)&&V.push(bb);bb=Ha.geometry;-1===ha.indexOf(bb)&&ha.push(bb);var kb=Ha.depth,va=void 0,Ta=Ha.segment;for(wa=wa[1];C.length<bb.getStride();)C.push(Ta[wa][C.length]);switch(bb.getType()){case d["default"].POINT:va=C;Ta[0]=C;Ta[1]=C;break;case d["default"].MULTI_POINT:va=bb.getCoordinates();va[Ha.index]=C;Ta[0]=
C;Ta[1]=C;break;case d["default"].LINE_STRING:va=bb.getCoordinates();va[Ha.index+wa]=C;Ta[wa]=C;break;case d["default"].MULTI_LINE_STRING:va=bb.getCoordinates();va[kb[0]][Ha.index+wa]=C;Ta[wa]=C;break;case d["default"].POLYGON:va=bb.getCoordinates();va[kb[0]][Ha.index+wa]=C;Ta[wa]=C;break;case d["default"].MULTI_POLYGON:va=bb.getCoordinates();va[kb[1]][kb[0]][Ha.index+wa]=C;Ta[wa]=C;break;case d["default"].CIRCLE:Ta[0]=C;Ta[1]=C;if(0===Ha.index)this.changingFeature_=!0,bb.setCenter(C);else{this.changingFeature_=
!0;Ha=P.map.getView().getProjection();wa=(0,M.distance)((0,K.fromUserCoordinate)(bb.getCenter(),Ha),(0,K.fromUserCoordinate)(C,Ha));if(kb=(0,K.getUserProjection)())Ta=bb.clone().transform(kb,Ha),Ta.setRadius(wa),wa=Ta.transform(Ha,kb).getRadius();bb.setRadius(wa)}this.changingFeature_=!1}va&&this.setGeometryCoordinates_(bb,va)}this.createOrUpdateVertexFeature_(C,V,ha)};Z.prototype.handleDownEvent=function(P){if(!this.condition_(P))return!1;var C=P.coordinate;this.handlePointerAtPixel_(P.pixel,P.map,
C);this.dragSegments_.length=0;this.featuresBeingModified_=null;var V=this.vertexFeature_;if(V){var ha=P.map.getView().getProjection(),aa=[];V=V.getGeometry().getCoordinates();var ta=(0,O.boundingExtent)([V]);ta=this.rBush_.getInExtent(ta);var wa={};ta.sort(w);for(var Ha=0,bb=ta.length;Ha<bb;++Ha){var kb=ta[Ha],va=kb.segment,Ta=(0,R.getUid)(kb.geometry),Ya=kb.depth;Ya&&(Ta+="-"+Ya.join("-"));wa[Ta]||(wa[Ta]=Array(2));if(kb.geometry.getType()===d["default"].CIRCLE&&1===kb.index)va=N(C,kb,ha),(0,M.equals)(va,
V)&&!wa[Ta][0]&&(this.dragSegments_.push([kb,0]),wa[Ta][0]=kb);else if((0,M.equals)(va[0],V)&&!wa[Ta][0])this.dragSegments_.push([kb,0]),wa[Ta][0]=kb;else if((0,M.equals)(va[1],V)&&!wa[Ta][1]){if(kb.geometry.getType()!==d["default"].LINE_STRING&&kb.geometry.getType()!==d["default"].MULTI_LINE_STRING||!wa[Ta][0]||0!==wa[Ta][0].index)this.dragSegments_.push([kb,1]),wa[Ta][1]=kb}else(0,R.getUid)(va)in this.vertexSegments_&&!wa[Ta][0]&&!wa[Ta][1]&&this.insertVertexCondition_(P)&&aa.push(kb)}aa.length&&
this.willModifyFeatures_(P,[aa]);for(P=aa.length-1;0<=P;--P)this.insertVertex_(aa[P],V)}return!!this.vertexFeature_};Z.prototype.handleUpEvent=function(P){for(var C=this.dragSegments_.length-1;0<=C;--C){var V=this.dragSegments_[C][0],ha=V.geometry;if(ha.getType()===d["default"].CIRCLE){var aa=ha.getCenter(),ta=V.featureSegments[0];V=V.featureSegments[1];ta.segment[0]=aa;ta.segment[1]=aa;V.segment[0]=aa;V.segment[1]=aa;this.rBush_.update((0,O.createOrUpdateFromCoordinate)(aa),ta);if(aa=(0,K.getUserProjection)())ta=
P.map.getView().getProjection(),ha=ha.clone().transform(aa,ta),ha=(0,G.fromCircle)(ha).transform(ta,aa);this.rBush_.update(ha.getExtent(),V)}else this.rBush_.update((0,O.boundingExtent)(V.segment),V)}this.featuresBeingModified_&&(this.dispatchEvent(new ia("modifyend",this.featuresBeingModified_,P)),this.featuresBeingModified_=null);return!1};Z.prototype.handlePointerMove_=function(P){this.lastPixel_=P.pixel;this.handlePointerAtPixel_(P.pixel,P.map,P.coordinate)};Z.prototype.handlePointerAtPixel_=
function(P,C,V){var ha=this,aa=V||C.getCoordinateFromPixel(P),ta=C.getView().getProjection();V=function(Ca,ua){return H(aa,Ca,ta)-H(aa,ua,ta)};var wa;if(this.hitDetection_){var Ha="object"===l(this.hitDetection_)?function(Ca){return Ca===ha.hitDetection_}:void 0;C.forEachFeatureAtPixel(P,function(Ca,ua,U){U=U||Ca.getGeometry();U.getType()===d["default"].POINT&&(wa=U,ua=U.getCoordinates(),kb=[{feature:Ca,geometry:U,segment:[ua,ua]}]);return!0},{layerFilter:Ha})}if(!kb){Ha=(0,K.fromUserExtent)((0,O.createOrUpdateFromCoordinate)(aa,
ja),ta);var bb=C.getView().getResolution()*this.pixelTolerance_;Ha=(0,K.toUserExtent)((0,O.buffer)(Ha,bb,ja),ta);var kb=this.rBush_.getInExtent(Ha)}if(kb&&0<kb.length){Ha=kb.sort(V)[0];V=Ha.segment;bb=N(aa,Ha,ta);var va=C.getPixelFromCoordinate(bb),Ta=(0,M.distance)(P,va);if(wa||Ta<=this.pixelTolerance_){P={};P[(0,R.getUid)(V)]=!0;this.delta_[0]=bb[0]-aa[0];this.delta_[1]=bb[1]-aa[1];if(Ha.geometry.getType()===d["default"].CIRCLE&&1===Ha.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(bb,
[Ha.feature],[Ha.geometry]);else{Ta=C.getPixelFromCoordinate(V[0]);var Ya=C.getPixelFromCoordinate(V[1]);C=(0,M.squaredDistance)(va,Ta);va=(0,M.squaredDistance)(va,Ya);Ta=Math.sqrt(Math.min(C,va));(this.snappedToVertex_=Ta<=this.pixelTolerance_)&&(bb=C>va?V[1]:V[0]);this.createOrUpdateVertexFeature_(bb,[Ha.feature],[Ha.geometry]);C={};C[(0,R.getUid)(Ha.geometry)]=!0;Ha=1;for(bb=kb.length;Ha<bb;++Ha)if(va=kb[Ha].segment,(0,M.equals)(V[0],va[0])&&(0,M.equals)(V[1],va[1])||(0,M.equals)(V[0],va[1])&&
(0,M.equals)(V[1],va[0]))Ta=(0,R.getUid)(kb[Ha].geometry),Ta in C||(C[Ta]=!0,P[(0,R.getUid)(va)]=!0);else break}this.vertexSegments_=P;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};Z.prototype.insertVertex_=function(P,C){for(var V=P.segment,ha=P.feature,aa=P.geometry,ta=P.depth,wa=P.index,Ha;C.length<aa.getStride();)C.push(0);switch(aa.getType()){case d["default"].MULTI_LINE_STRING:Ha=aa.getCoordinates();Ha[ta[0]].splice(wa+1,
0,C);break;case d["default"].POLYGON:Ha=aa.getCoordinates();Ha[ta[0]].splice(wa+1,0,C);break;case d["default"].MULTI_POLYGON:Ha=aa.getCoordinates();Ha[ta[1]][ta[0]].splice(wa+1,0,C);break;case d["default"].LINE_STRING:Ha=aa.getCoordinates();Ha.splice(wa+1,0,C);break;default:return}this.setGeometryCoordinates_(aa,Ha);Ha=this.rBush_;Ha.remove(P);this.updateSegmentIndices_(aa,wa,ta,1);P={segment:[V[0],C],feature:ha,geometry:aa,depth:ta,index:wa};Ha.insert((0,O.boundingExtent)(P.segment),P);this.dragSegments_.push([P,
1]);C={segment:[C,V[1]],feature:ha,geometry:aa,depth:ta,index:wa+1};Ha.insert((0,O.boundingExtent)(C.segment),C);this.dragSegments_.push([C,0]);this.ignoreNextSingleClick_=!0};Z.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=f["default"].POINTERDRAG){var P=this.lastPointerEvent_;this.willModifyFeatures_(P,this.dragSegments_);var C=this.removeVertex_();this.dispatchEvent(new ia("modifyend",this.featuresBeingModified_,P));this.featuresBeingModified_=null;return C}return!1};
Z.prototype.removeVertex_=function(){var P=this.dragSegments_,C={},V=!1,ha,aa;for(aa=P.length-1;0<=aa;--aa){var ta=P[aa];var wa=ta[0];var Ha=(0,R.getUid)(wa.feature);wa.depth&&(Ha+="-"+wa.depth.join("-"));Ha in C||(C[Ha]={});0===ta[1]?(C[Ha].right=wa,C[Ha].index=wa.index):1==ta[1]&&(C[Ha].left=wa,C[Ha].index=wa.index+1)}for(Ha in C){var bb=C[Ha].right;var kb=C[Ha].left;aa=C[Ha].index;var va=aa-1;wa=void 0!==kb?kb:bb;0>va&&(va=0);ta=wa.geometry;var Ta=ha=ta.getCoordinates();V=!1;switch(ta.getType()){case d["default"].MULTI_LINE_STRING:2<
ha[wa.depth[0]].length&&(ha[wa.depth[0]].splice(aa,1),V=!0);break;case d["default"].LINE_STRING:2<ha.length&&(ha.splice(aa,1),V=!0);break;case d["default"].MULTI_POLYGON:Ta=Ta[wa.depth[1]];case d["default"].POLYGON:Ta=Ta[wa.depth[0]],4<Ta.length&&(aa==Ta.length-1&&(aa=0),Ta.splice(aa,1),V=!0,0===aa&&(Ta.pop(),Ta.push(Ta[0]),va=Ta.length-1))}V&&(this.setGeometryCoordinates_(ta,ha),Ta=[],void 0!==kb&&(this.rBush_.remove(kb),Ta.push(kb.segment[0])),void 0!==bb&&(this.rBush_.remove(bb),Ta.push(bb.segment[1])),
void 0!==kb&&void 0!==bb&&(kb={depth:wa.depth,feature:wa.feature,geometry:wa.geometry,index:va,segment:Ta},this.rBush_.insert((0,O.boundingExtent)(kb.segment),kb)),this.updateSegmentIndices_(ta,aa,wa.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),P.length=0)}return V};Z.prototype.setGeometryCoordinates_=function(P,C){this.changingFeature_=!0;P.setCoordinates(C);this.changingFeature_=!1};Z.prototype.updateSegmentIndices_=function(P,
C,V,ha){this.rBush_.forEachInExtent(P.getExtent(),function(aa){aa.geometry===P&&(void 0===V||void 0===aa.depth||(0,z.equals)(aa.depth,V))&&aa.index>C&&(aa.index+=ha)})};return Z}(rb["default"]);E["default"]=A};
shadow$provide[244]=function(Ia,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(){var n=(0,u.createEditingStyle)();(0,m.extend)(n[N["default"].POLYGON],n[N["default"].LINE_STRING]);(0,m.extend)(n[N["default"].GEOMETRY_COLLECTION],n[N["default"].LINE_STRING]);return function(y){return y.getGeometry()?n[y.getGeometry().getType()]:null}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.SelectEvent=void 0;var w=k(A(105)),H=k(A(104));Ia=k(A(82));var N=k(A(117));rb=
k(A(168));var x=A(71),v=A(84),u=A(204),m=A(70),g=A(72),d=A(171),f=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}(),a=function(n){function y(B,D,O,M){B=n.call(this,B)||this;B.selected=D;B.deselected=
O;B.mapBrowserEvent=M;return B}f(y,n);return y}(Ia["default"]);E.SelectEvent=a;var e={};A=function(n){function y(B){var D=n.call(this)||this;B=B?B:{};D.boundAddFeature_=D.addFeature_.bind(D);D.boundRemoveFeature_=D.removeFeature_.bind(D);D.condition_=B.condition?B.condition:d.singleClick;D.addCondition_=B.addCondition?B.addCondition:d.never;D.removeCondition_=B.removeCondition?B.removeCondition:d.never;D.toggleCondition_=B.toggleCondition?B.toggleCondition:d.shiftKeyOnly;D.multi_=B.multi?B.multi:
!1;D.filter_=B.filter?B.filter:x.TRUE;D.hitTolerance_=B.hitTolerance?B.hitTolerance:0;D.style_=void 0!==B.style?B.style:l();D.features_=B.features||new w["default"];if(B.layers)if("function"===typeof B.layers)B=B.layers;else{var O=B.layers;B=function(M){return(0,m.includes)(O,M)}}else B=x.TRUE;D.layerFilter_=B;D.featureLayerAssociation_={};return D}f(y,n);y.prototype.addFeatureLayerAssociation_=function(B,D){this.featureLayerAssociation_[(0,g.getUid)(B)]=D};y.prototype.getFeatures=function(){return this.features_};
y.prototype.getHitTolerance=function(){return this.hitTolerance_};y.prototype.getLayer=function(B){return this.featureLayerAssociation_[(0,g.getUid)(B)]};y.prototype.setHitTolerance=function(B){this.hitTolerance_=B};y.prototype.setMap=function(B){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));n.prototype.setMap.call(this,B);B?(this.features_.addEventListener(H["default"].ADD,this.boundAddFeature_),this.features_.addEventListener(H["default"].REMOVE,this.boundRemoveFeature_),
this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(H["default"].ADD,this.boundAddFeature_),this.features_.removeEventListener(H["default"].REMOVE,this.boundRemoveFeature_))};y.prototype.addFeature_=function(B){B=B.element;this.style_&&this.applySelectedStyle_(B)};y.prototype.removeFeature_=function(B){B=B.element;this.style_&&this.restorePreviousStyle_(B)};y.prototype.getStyle=function(){return this.style_};y.prototype.applySelectedStyle_=
function(B){var D=(0,g.getUid)(B);D in e||(e[D]=B.getStyle());B.setStyle(this.style_)};y.prototype.restorePreviousStyle_=function(B){for(var D=this.getMap().getInteractions().getArray(),O=D.length-1;0<=O;--O){var M=D[O];if(M!==this&&M instanceof y&&M.getStyle()&&-1!==M.getFeatures().getArray().lastIndexOf(B)){B.setStyle(M.getStyle());return}}D=(0,g.getUid)(B);B.setStyle(e[D]);delete e[D]};y.prototype.removeFeatureLayerAssociation_=function(B){delete this.featureLayerAssociation_[(0,g.getUid)(B)]};
y.prototype.handleEvent=function(B){if(!this.condition_(B))return!0;var D=this.addCondition_(B),O=this.removeCondition_(B),M=this.toggleCondition_(B),F=!D&&!O&&!M,z=B.map,G=this.getFeatures(),K=[],R=[];if(F){(0,v.clear)(this.featureLayerAssociation_);z.forEachFeatureAtPixel(B.pixel,function(ja,fa){if(this.filter_(ja,fa))return R.push(ja),this.addFeatureLayerAssociation_(ja,fa),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(F=G.getLength()-1;0<=F;--F){z=
G.item(F);var T=R.indexOf(z);-1<T?R.splice(T,1):(G.remove(z),K.push(z))}0!==R.length&&G.extend(R)}else{z.forEachFeatureAtPixel(B.pixel,function(ja,fa){if(this.filter_(ja,fa))return!D&&!M||(0,m.includes)(G.getArray(),ja)?(O||M)&&(0,m.includes)(G.getArray(),ja)&&(K.push(ja),this.removeFeatureLayerAssociation_(ja)):(R.push(ja),this.addFeatureLayerAssociation_(ja,fa)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(F=K.length-1;0<=F;--F)G.remove(K[F]);G.extend(R)}(0<
R.length||0<K.length)&&this.dispatchEvent(new a("select",R,K,B));return!0};return y}(rb["default"]);E["default"]=A};
shadow$provide[245]=function(Ia,A,rb,E){function k(D){return D&&D.__esModule?D:{"default":D}}function l(D){if(D.feature)return D.feature;if(D.element)return D.element}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(104)),H=k(A(86)),N=k(A(117));Ia=k(A(170));var x=k(A(235)),v=k(A(237)),u=A(71),m=A(78),g=A(96),d=A(150),f=A(128),a=A(72),e=A(84),n=A(87),y=function(){var D=function(O,M){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,z){F.__proto__=z}||
function(F,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(F[G]=z[G])};return D(O,M)};return function(O,M){function F(){this.constructor=O}D(O,M);O.prototype=null===M?Object.create(M):(F.prototype=M.prototype,new F)}}(),B=[];A=function(D){function O(M){var F=M?M:{};F.handleDownEvent||(F.handleDownEvent=u.TRUE);F.stopDown||(F.stopDown=u.FALSE);M=D.call(this,F)||this;M.source_=F.source?F.source:null;M.vertex_=void 0!==F.vertex?F.vertex:!0;M.edge_=void 0!==F.edge?F.edge:!0;M.features_=
F.features?F.features:null;M.featuresListenerKeys_=[];M.featureChangeListenerKeys_={};M.indexedFeaturesExtents_={};M.pendingFeatures_={};M.pixelTolerance_=void 0!==F.pixelTolerance?F.pixelTolerance:10;M.rBush_=new x["default"];M.SEGMENT_WRITERS_={Point:M.writePointGeometry_.bind(M),LineString:M.writeLineStringGeometry_.bind(M),LinearRing:M.writeLineStringGeometry_.bind(M),Polygon:M.writePolygonGeometry_.bind(M),MultiPoint:M.writeMultiPointGeometry_.bind(M),MultiLineString:M.writeMultiLineStringGeometry_.bind(M),
MultiPolygon:M.writeMultiPolygonGeometry_.bind(M),GeometryCollection:M.writeGeometryCollectionGeometry_.bind(M),Circle:M.writeCircleGeometry_.bind(M)};return M}y(O,D);O.prototype.addFeature=function(M,F){F=void 0!==F?F:!0;var z=(0,a.getUid)(M),G=M.getGeometry();if(G){var K=this.SEGMENT_WRITERS_[G.getType()];K&&(this.indexedFeaturesExtents_[z]=G.getExtent((0,m.createEmpty)()),K(M,G))}F&&(this.featureChangeListenerKeys_[z]=(0,n.listen)(M,H["default"].CHANGE,this.handleFeatureChange_,this))};O.prototype.forEachFeatureAdd_=
function(M){this.addFeature(M)};O.prototype.forEachFeatureRemove_=function(M){this.removeFeature(M)};O.prototype.getFeatures_=function(){var M;this.features_?M=this.features_:this.source_&&(M=this.source_.getFeatures());return M};O.prototype.handleEvent=function(M){var F=this.snapTo(M.pixel,M.coordinate,M.map);F.snapped&&(M.coordinate=F.vertex.slice(0,2),M.pixel=F.vertexPixel);return D.prototype.handleEvent.call(this,M)};O.prototype.handleFeatureAdd_=function(M){M=l(M);this.addFeature(M)};O.prototype.handleFeatureRemove_=
function(M){M=l(M);this.removeFeature(M)};O.prototype.handleFeatureChange_=function(M){M=M.target;if(this.handlingDownUpSequence){var F=(0,a.getUid)(M);F in this.pendingFeatures_||(this.pendingFeatures_[F]=M)}else this.updateFeature_(M)};O.prototype.handleUpEvent=function(M){M=(0,e.getValues)(this.pendingFeatures_);M.length&&(M.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};O.prototype.removeFeature=function(M,F){F=void 0!==F?F:!0;var z=(0,a.getUid)(M),G=this.indexedFeaturesExtents_[z];
if(G){var K=this.rBush_,R=[];K.forEachInExtent(G,function(T){M===T.feature&&R.push(T)});for(G=R.length-1;0<=G;--G)K.remove(R[G])}F&&((0,n.unlistenByKey)(this.featureChangeListenerKeys_[z]),delete this.featureChangeListenerKeys_[z])};O.prototype.setMap=function(M){var F=this.getMap(),z=this.featuresListenerKeys_,G=this.getFeatures_();F&&(z.forEach(n.unlistenByKey),z.length=0,G.forEach(this.forEachFeatureRemove_.bind(this)));D.prototype.setMap.call(this,M);M&&(this.features_?z.push((0,n.listen)(this.features_,
w["default"].ADD,this.handleFeatureAdd_,this),(0,n.listen)(this.features_,w["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&z.push((0,n.listen)(this.source_,v["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,n.listen)(this.source_,v["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),G.forEach(this.forEachFeatureAdd_.bind(this)))};O.prototype.snapTo=function(M,F,z){var G=z.getCoordinateFromPixel([M[0]-this.pixelTolerance_,M[1]+this.pixelTolerance_]),K=z.getCoordinateFromPixel([M[0]+
this.pixelTolerance_,M[1]-this.pixelTolerance_]);G=(0,m.boundingExtent)([G,K]);var R=this.rBush_.getInExtent(G);this.vertex_&&!this.edge_&&(R=R.filter(function(C){return C.feature.getGeometry().getType()!==N["default"].CIRCLE}));G=!1;var T=K=null;if(0===R.length)return{snapped:G,vertex:K,vertexPixel:T};var ja=z.getView().getProjection();F=(0,f.fromUserCoordinate)(F,ja);for(var fa,ia=Infinity,la=0;la<R.length;++la){var Z=R[la];B[0]=(0,f.fromUserCoordinate)(Z.segment[0],ja);B[1]=(0,f.fromUserCoordinate)(Z.segment[1],
ja);var P=(0,g.squaredDistanceToSegment)(F,B);P<ia&&(fa=Z,ia=P)}R=fa.segment;this.vertex_&&!this.edge_?(fa=z.getPixelFromCoordinate(R[0]),ja=z.getPixelFromCoordinate(R[1]),fa=(0,g.squaredDistance)(M,fa),M=(0,g.squaredDistance)(M,ja),ja=Math.sqrt(Math.min(fa,M)),ja<=this.pixelTolerance_&&(G=!0,K=fa>M?R[1]:R[0],T=z.getPixelFromCoordinate(K))):this.edge_&&((ia=fa.feature.getGeometry().getType()===N["default"].CIRCLE)?(K=fa.feature.getGeometry(),(T=(0,f.getUserProjection)())&&(K=K.clone().transform(T,
ja)),K=(0,f.toUserCoordinate)((0,g.closestOnCircle)(F,K),ja)):(B[0]=(0,f.fromUserCoordinate)(R[0],ja),B[1]=(0,f.fromUserCoordinate)(R[1],ja),K=(0,f.toUserCoordinate)((0,g.closestOnSegment)(F,B),ja)),T=z.getPixelFromCoordinate(K),(0,g.distance)(M,T)<=this.pixelTolerance_&&(G=!0,this.vertex_&&!ia&&(fa=z.getPixelFromCoordinate(R[0]),ja=z.getPixelFromCoordinate(R[1]),fa=(0,g.squaredDistance)(T,fa),M=(0,g.squaredDistance)(T,ja),ja=Math.sqrt(Math.min(fa,M)),ja<=this.pixelTolerance_&&(K=fa>M?R[1]:R[0],T=
z.getPixelFromCoordinate(K)))));G&&(T=[Math.round(T[0]),Math.round(T[1])]);return{snapped:G,vertex:K,vertexPixel:T}};O.prototype.updateFeature_=function(M){this.removeFeature(M,!1);this.addFeature(M,!1)};O.prototype.writeCircleGeometry_=function(M,F){var z=this.getMap().getView().getProjection(),G=F;(F=(0,f.getUserProjection)())&&(G=G.clone().transform(F,z));G=(0,d.fromCircle)(G);F&&G.transform(z,F);z=G.getCoordinates()[0];F=0;for(G=z.length-1;F<G;++F){var K=z.slice(F,F+2),R={feature:M,segment:K};
this.rBush_.insert((0,m.boundingExtent)(K),R)}};O.prototype.writeGeometryCollectionGeometry_=function(M,F){F=F.getGeometriesArray();for(var z=0;z<F.length;++z){var G=this.SEGMENT_WRITERS_[F[z].getType()];G&&G(M,F[z])}};O.prototype.writeLineStringGeometry_=function(M,F){F=F.getCoordinates();for(var z=0,G=F.length-1;z<G;++z){var K=F.slice(z,z+2),R={feature:M,segment:K};this.rBush_.insert((0,m.boundingExtent)(K),R)}};O.prototype.writeMultiLineStringGeometry_=function(M,F){F=F.getCoordinates();for(var z=
0,G=F.length;z<G;++z)for(var K=F[z],R=0,T=K.length-1;R<T;++R){var ja=K.slice(R,R+2),fa={feature:M,segment:ja};this.rBush_.insert((0,m.boundingExtent)(ja),fa)}};O.prototype.writeMultiPointGeometry_=function(M,F){for(var z=F.getCoordinates(),G=0,K=z.length;G<K;++G){var R=z[G];R={feature:M,segment:[R,R]};this.rBush_.insert(F.getExtent(),R)}};O.prototype.writeMultiPolygonGeometry_=function(M,F){F=F.getCoordinates();for(var z=0,G=F.length;z<G;++z)for(var K=F[z],R=0,T=K.length;R<T;++R)for(var ja=K[R],fa=
0,ia=ja.length-1;fa<ia;++fa){var la=ja.slice(fa,fa+2),Z={feature:M,segment:la};this.rBush_.insert((0,m.boundingExtent)(la),Z)}};O.prototype.writePointGeometry_=function(M,F){var z=F.getCoordinates();M={feature:M,segment:[z,z]};this.rBush_.insert(F.getExtent(),M)};O.prototype.writePolygonGeometry_=function(M,F){F=F.getCoordinates();for(var z=0,G=F.length;z<G;++z)for(var K=F[z],R=0,T=K.length-1;R<T;++R){var ja=K.slice(R,R+2),fa={feature:M,segment:ja};this.rBush_.insert((0,m.boundingExtent)(ja),fa)}};
return O}(Ia["default"]);E["default"]=A};
shadow$provide[246]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TranslateEvent=void 0;var l=k(A(105));Ia=k(A(82));var w=k(A(167));rb=k(A(170));var H=A(71),N=A(89),x=A(70),v=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,
d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),u=function(m){function g(d,f,a,e,n){d=m.call(this,d)||this;d.features=f;d.coordinate=a;d.startCoordinate=e;d.mapBrowserEvent=n;return d}v(g,m);return g}(Ia["default"]);E.TranslateEvent=u;A=function(m){function g(d){var f=this;d=d?d:{};f=m.call(this,d)||this;f.lastCoordinate_=null;f.startCoordinate_=null;f.features_=void 0!==d.features?d.features:null;if(d.layers)if("function"===typeof d.layers)var a=
d.layers;else{var e=d.layers;a=function(n){return(0,x.includes)(e,n)}}else a=H.TRUE;f.layerFilter_=a;f.filter_=d.filter?d.filter:H.TRUE;f.hitTolerance_=d.hitTolerance?d.hitTolerance:0;f.lastFeature_=null;f.addEventListener((0,N.getChangeEventType)(w["default"].ACTIVE),f.handleActiveChanged_);return f}v(g,m);g.prototype.handleDownEvent=function(d){this.lastFeature_=this.featuresAtPixel_(d.pixel,d.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=d.coordinate;
this.handleMoveEvent(d);var f=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new u("translatestart",f,d.coordinate,this.startCoordinate_,d));return!0}return!1};g.prototype.handleUpEvent=function(d){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(d);var f=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new u("translateend",f,d.coordinate,this.startCoordinate_,d));this.startCoordinate_=null;return!0}return!1};g.prototype.handleDragEvent=
function(d){if(this.lastCoordinate_){var f=d.coordinate,a=f[0]-this.lastCoordinate_[0],e=f[1]-this.lastCoordinate_[1],n=this.features_||new l["default"]([this.lastFeature_]);n.forEach(function(y){var B=y.getGeometry();B.translate(a,e);y.setGeometry(B)});this.lastCoordinate_=f;this.dispatchEvent(new u("translating",n,f,this.startCoordinate_,d))}};g.prototype.handleMoveEvent=function(d){var f=d.map.getViewport();this.featuresAtPixel_(d.pixel,d.map)?(f.classList.remove(this.lastCoordinate_?"ol-grab":
"ol-grabbing"),f.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):f.classList.remove("ol-grab","ol-grabbing")};g.prototype.featuresAtPixel_=function(d,f){return f.forEachFeatureAtPixel(d,function(a,e){if(this.filter_(a,e)&&(!this.features_||(0,x.includes)(this.features_.getArray(),a)))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};g.prototype.getHitTolerance=function(){return this.hitTolerance_};g.prototype.setHitTolerance=function(d){this.hitTolerance_=
d};g.prototype.setMap=function(d){var f=this.getMap();m.prototype.setMap.call(this,d);this.updateState_(f)};g.prototype.handleActiveChanged_=function(){this.updateState_(null)};g.prototype.updateState_=function(d){var f=this.getMap(),a=this.getActive();f&&a||(f=f||d)&&f.getViewport().classList.remove("ol-grab","ol-grabbing")};return g}(rb["default"]);E["default"]=A};
shadow$provide[247]=function(Ia,A,rb,E){function k(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(E,"__esModule",{value:!0});E.defaults=function(K){K=K?K:{};var R=new l["default"],T=new m["default"](-.005,.05,100);(void 0!==K.altShiftDragRotate?K.altShiftDragRotate:1)&&R.push(new N["default"]);(void 0!==K.doubleClickZoom?K.doubleClickZoom:1)&&R.push(new w["default"]({delta:K.zoomDelta,duration:K.zoomDuration}));(void 0!==K.dragPan?K.dragPan:1)&&R.push(new H["default"]({onFocusOnly:K.onFocusOnly,
kinetic:T}));(void 0!==K.pinchRotate?K.pinchRotate:1)&&R.push(new d["default"]);(void 0!==K.pinchZoom?K.pinchZoom:1)&&R.push(new f["default"]({duration:K.zoomDuration}));if(void 0!==K.keyboard?K.keyboard:1)R.push(new v["default"]),R.push(new u["default"]({delta:K.zoomDelta,duration:K.zoomDuration}));(void 0!==K.mouseWheelZoom?K.mouseWheelZoom:1)&&R.push(new g["default"]({onFocusOnly:K.onFocusOnly,duration:K.zoomDuration}));(void 0!==K.shiftDragZoom?K.shiftDragZoom:1)&&R.push(new x["default"]({duration:K.zoomDuration}));
return R};Object.defineProperty(E,"DoubleClickZoom",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"DragPan",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"DragRotate",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,"DragZoom",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"KeyboardPan",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"KeyboardZoom",{enumerable:!0,
get:function(){return u["default"]}});Object.defineProperty(E,"MouseWheelZoom",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"PinchRotate",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(E,"PinchZoom",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(E,"DragAndDrop",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(E,"DragBox",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(E,
"DragRotateAndZoom",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"Draw",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"Extent",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(E,"Interaction",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(E,"Modify",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,"Pointer",{enumerable:!0,get:function(){return M["default"]}});
Object.defineProperty(E,"Select",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"Snap",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(E,"Translate",{enumerable:!0,get:function(){return G["default"]}});var l=k(A(105)),w=k(A(169)),H=k(A(172)),N=k(A(173)),x=k(A(176)),v=k(A(178)),u=k(A(179)),m=k(A(180)),g=k(A(181)),d=k(A(182)),f=k(A(183)),a=k(A(185)),e=k(A(175)),n=k(A(186)),y=k(A(241)),B=k(A(242)),D=k(A(168)),O=k(A(243)),M=k(A(170)),F=k(A(244)),
z=k(A(245)),G=k(A(246))};
shadow$provide[248]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(103));Ia=k(A(153));var w=A(84),H=A(166),N=A(247),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);
u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){m=(0,w.assign)({},m);m.controls||(m.controls=(0,H.defaults)());m.interactions||(m.interactions=(0,N.defaults)({onFocusOnly:!0}));return v.call(this,m)||this}x(u,v);u.prototype.createRenderer=function(){return new l["default"](this)};return u}(Ia["default"]);E["default"]=A};
shadow$provide[249]=function(Ia,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}function l(u){for(var m=[],g=0,d=u.length;g<d;++g)m.push(u[g].clone());return m}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(86));Ia=k(A(135));var H=k(A(117)),N=A(78),x=A(87),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};
return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=u.call(this)||this;d.geometries_=g?g:null;d.changeEventsKeys_=[];d.listenGeometriesChange_();return d}v(m,u);m.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(x.unlistenByKey);this.changeEventsKeys_.length=0};m.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var g=0,
d=this.geometries_.length;g<d;++g)this.changeEventsKeys_.push((0,x.listen)(this.geometries_[g],w["default"].CHANGE,this.changed,this))};m.prototype.clone=function(){var g=new m(null);g.setGeometries(this.geometries_);g.applyProperties(this);return g};m.prototype.closestPointXY=function(g,d,f,a){if(a<(0,N.closestSquaredDistanceXY)(this.getExtent(),g,d))return a;for(var e=this.geometries_,n=0,y=e.length;n<y;++n)a=e[n].closestPointXY(g,d,f,a);return a};m.prototype.containsXY=function(g,d){for(var f=
this.geometries_,a=0,e=f.length;a<e;++a)if(f[a].containsXY(g,d))return!0;return!1};m.prototype.computeExtent=function(g){(0,N.createOrUpdateEmpty)(g);for(var d=this.geometries_,f=0,a=d.length;f<a;++f)(0,N.extend)(g,d[f].getExtent());return g};m.prototype.getGeometries=function(){return l(this.geometries_)};m.prototype.getGeometriesArray=function(){return this.geometries_};m.prototype.getGeometriesArrayRecursive=function(){for(var g=[],d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].getType()===this.getType()?
g=g.concat(d[f].getGeometriesArrayRecursive()):g.push(d[f]);return g};m.prototype.getSimplifiedGeometry=function(g){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>g||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&g<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var d=[],f=this.geometries_,a=!1,e=0,n=f.length;e<n;++e){var y=f[e],B=y.getSimplifiedGeometry(g);d.push(B);
B!==y&&(a=!0)}if(a)return g=new m(null),g.setGeometriesArray(d),g;this.simplifiedGeometryMaxMinSquaredTolerance=g;return this};m.prototype.getType=function(){return H["default"].GEOMETRY_COLLECTION};m.prototype.intersectsExtent=function(g){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)if(d[f].intersectsExtent(g))return!0;return!1};m.prototype.isEmpty=function(){return 0===this.geometries_.length};m.prototype.rotate=function(g,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].rotate(g,
d);this.changed()};m.prototype.scale=function(g,d,f){f||(f=(0,N.getCenter)(this.getExtent()));for(var a=this.geometries_,e=0,n=a.length;e<n;++e)a[e].scale(g,d,f);this.changed()};m.prototype.setGeometries=function(g){this.setGeometriesArray(l(g))};m.prototype.setGeometriesArray=function(g){this.unlistenGeometriesChange_();this.geometries_=g;this.listenGeometriesChange_();this.changed()};m.prototype.applyTransform=function(g){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].applyTransform(g);
this.changed()};m.prototype.translate=function(g,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].translate(g,d);this.changed()};m.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();u.prototype.disposeInternal.call(this)};return m}(Ia["default"]);E["default"]=A};
shadow$provide[250]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.transformGeometryWithOptions=function(N,x,v){var u=v?(0,H.get)(v.featureProjection):null,m=v?(0,H.get)(v.dataProjection):null;u=u&&m&&!(0,H.equivalent)(u,m)?(x?N.clone():N).transform(x?u:m,x?m:u):N;if(x&&v&&void 0!==v.decimals){var g=Math.pow(10,v.decimals);u===N&&(u=N.clone());u.applyTransform(function(d){for(var f=0,a=d.length;f<a;++f)d[f]=Math.round(d[f]*g)/g;return d})}return u};E.transformExtentWithOptions=
function(N,x){var v=x?(0,H.get)(x.featureProjection):null;x=x?(0,H.get)(x.dataProjection):null;return v&&x&&!(0,H.equivalent)(v,x)?(0,H.transformExtent)(N,x,v):N};E["default"]=void 0;var k=function(N){return N&&N.__esModule?N:{"default":N}}(A(118)),l=A(72),w=A(84),H=A(128);Ia=function(){function N(){this.defaultFeatureProjection=this.dataProjection=null}N.prototype.getReadOptions=function(x,v){if(v){x=v.dataProjection?(0,H.get)(v.dataProjection):this.readProjection(x);v.extent&&x&&x.getUnits()===
k["default"].TILE_PIXELS&&(x=(0,H.get)(x),x.setWorldExtent(v.extent));var u={dataProjection:x,featureProjection:v.featureProjection}}return this.adaptOptions(u)};N.prototype.adaptOptions=function(x){return(0,w.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},x)};N.prototype.getType=function(){return(0,l["abstract"])()};N.prototype.readFeature=function(x,v){return(0,l["abstract"])()};N.prototype.readFeatures=function(x,v){return(0,l["abstract"])()};N.prototype.readGeometry=
function(x,v){return(0,l["abstract"])()};N.prototype.readProjection=function(x){return(0,l["abstract"])()};N.prototype.writeFeature=function(x,v){return(0,l["abstract"])()};N.prototype.writeFeatures=function(x,v){return(0,l["abstract"])()};N.prototype.writeGeometry=function(x,v){return(0,l["abstract"])()};return N}();E["default"]=Ia};
shadow$provide[251]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}function l(x){return"string"===typeof x?x:""}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(250));var w=k(A(184)),H=A(72),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=
v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(){return x.call(this)||this}N(v,x);v.prototype.getType=function(){return w["default"].TEXT};v.prototype.readFeature=function(u,m){return this.readFeatureFromText(l(u),this.adaptOptions(m))};v.prototype.readFeatureFromText=function(u,m){return(0,H["abstract"])()};v.prototype.readFeatures=function(u,m){return this.readFeaturesFromText(l(u),this.adaptOptions(m))};v.prototype.readFeaturesFromText=
function(u,m){return(0,H["abstract"])()};v.prototype.readGeometry=function(u,m){return this.readGeometryFromText(l(u),this.adaptOptions(m))};v.prototype.readGeometryFromText=function(u,m){return(0,H["abstract"])()};v.prototype.readProjection=function(u){return this.readProjectionFromText(l(u))};v.prototype.readProjectionFromText=function(u){return this.dataProjection};v.prototype.writeFeature=function(u,m){return this.writeFeatureText(u,this.adaptOptions(m))};v.prototype.writeFeatureText=function(u,
m){return(0,H["abstract"])()};v.prototype.writeFeatures=function(u,m){return this.writeFeaturesText(u,this.adaptOptions(m))};v.prototype.writeFeaturesText=function(u,m){return(0,H["abstract"])()};v.prototype.writeGeometry=function(u,m){return this.writeGeometryText(u,this.adaptOptions(m))};v.prototype.writeGeometryText=function(u,m){return(0,H["abstract"])()};return v}(Ia["default"]);E["default"]=A};
shadow$provide[252]=function(Ia,A,rb,E){function k(z){return z&&z.__esModule?z:{"default":z}}function l(z){z=z.getCoordinates();return 0===z.length?"":z.join(" ")}function w(z){z=z.getCoordinates();for(var G=[],K=0,R=z.length;K<R;++K)G.push(z[K].join(" "));return G.join(",")}function H(z){var G=[];z=z.getLinearRings();for(var K=0,R=z.length;K<R;++K)G.push("("+w(z[K])+")");return G.join(",")}function N(z){var G=z.getType(),K=(0,F[G])(z);G=G.toUpperCase();if("function"===typeof z.getFlatCoordinates){z=
z.getLayout();var R="";if(z===u["default"].XYZ||z===u["default"].XYZM)R+="Z";if(z===u["default"].XYM||z===u["default"].XYZM)R+="M";z=R;0<z.length&&(G+=" "+z)}return 0===K.length?G+" EMPTY":G+"("+K+")"}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=k(A(188)),v=k(A(249)),u=k(A(133)),m=k(A(117));Ia=k(A(191));rb=k(A(192));var g=k(A(193)),d=k(A(195)),f=k(A(143)),a=k(A(150)),e=k(A(251)),n=A(250),y=function(){var z=function(G,K){z=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(R,T){R.__proto__=T}||function(R,T){for(var ja in T)Object.prototype.hasOwnProperty.call(T,ja)&&(R[ja]=T[ja])};return z(G,K)};return function(G,K){function R(){this.constructor=G}z(G,K);G.prototype=null===K?Object.create(K):(R.prototype=K.prototype,new R)}}(),B={POINT:f["default"],LINESTRING:Ia["default"],POLYGON:a["default"],MULTIPOINT:g["default"],MULTILINESTRING:rb["default"],MULTIPOLYGON:d["default"]},D;for(D in m["default"])m["default"][D].toUpperCase();var O=function(){function z(G){this.wkt=
G;this.index_=-1}z.prototype.isAlpha_=function(G){return"a"<=G&&"z">=G||"A"<=G&&"Z">=G};z.prototype.isNumeric_=function(G,K){return"0"<=G&&"9">=G||"."==G&&!(void 0!==K&&K)};z.prototype.isWhiteSpace_=function(G){return" "==G||"\t"==G||"\r"==G||"\n"==G};z.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};z.prototype.nextToken=function(){var G=this.nextChar_(),K=this.index_,R=G;if("("==G)G=2;else if(","==G)G=5;else if(")"==G)G=3;else if(this.isNumeric_(G)||"-"==G)G=4,R=this.readNumber_();
else if(this.isAlpha_(G))G=1,R=this.readText_();else{if(this.isWhiteSpace_(G))return this.nextToken();if(""===G)G=6;else throw Error("Unexpected character: "+G);}return{position:K,value:R,type:G}};z.prototype.readNumber_=function(){var G=this.index_,K=!1,R=!1;do{if("."==T)K=!0;else if("e"==T||"E"==T)R=!0;var T=this.nextChar_()}while(this.isNumeric_(T,K)||!R&&("e"==T||"E"==T)||R&&("-"==T||"+"==T));return parseFloat(this.wkt.substring(G,this.index_--))};z.prototype.readText_=function(){var G=this.index_;
do var K=this.nextChar_();while(this.isAlpha_(K));return this.wkt.substring(G,this.index_--).toUpperCase()};return z}(),M=function(){function z(G){this.lexer_=G;this.layout_=u["default"].XY}z.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};z.prototype.isTokenType=function(G){return this.token_.type==G};z.prototype.match=function(G){(G=this.isTokenType(G))&&this.consume_();return G};z.prototype.parse=function(){this.consume_();return this.parseGeometry_()};z.prototype.parseGeometryLayout_=
function(){var G=u["default"].XY,K=this.token_;this.isTokenType(1)&&(K=K.value,"Z"===K?G=u["default"].XYZ:"M"===K?G=u["default"].XYM:"ZM"===K&&(G=u["default"].XYZM),G!==u["default"].XY&&this.consume_());return G};z.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var G=[];do G.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePointText_=function(){if(this.match(2)){var G=
this.parsePoint_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};z.prototype.parseLineStringText_=function(){if(this.match(2)){var G=this.parsePointList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePolygonText_=function(){if(this.match(2)){var G=this.parseLineStringTextList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());
};z.prototype.parseMultiPointText_=function(){if(this.match(2)){var G=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var G=this.parseLineStringTextList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var G=
this.parsePolygonTextList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePoint_=function(){for(var G=[],K=this.layout_.length,R=0;R<K;++R){var T=this.token_;if(this.match(4))G.push(T.value);else break}if(G.length==K)return G;throw Error(this.formatErrorMessage_());};z.prototype.parsePointList_=function(){for(var G=[this.parsePoint_()];this.match(5);)G.push(this.parsePoint_());return G};z.prototype.parsePointTextList_=
function(){for(var G=[this.parsePointText_()];this.match(5);)G.push(this.parsePointText_());return G};z.prototype.parseLineStringTextList_=function(){for(var G=[this.parseLineStringText_()];this.match(5);)G.push(this.parseLineStringText_());return G};z.prototype.parsePolygonTextList_=function(){for(var G=[this.parsePolygonText_()];this.match(5);)G.push(this.parsePolygonText_());return G};z.prototype.isEmptyGeometry_=function(){var G=this.isTokenType(1)&&"EMPTY"==this.token_.value;G&&this.consume_();
return G};z.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};z.prototype.parseGeometry_=function(){var G=this.token_;if(this.match(1)){var K=G.value;this.layout_=this.parseGeometryLayout_();if("GEOMETRYCOLLECTION"==K)return G=this.parseGeometryCollectionText_(),new v["default"](G);G=B[K];if(!G)throw Error("Invalid geometry type: "+K);switch(K){case "POINT":K=this.parsePointText_();break;case "LINESTRING":K=
this.parseLineStringText_();break;case "POLYGON":K=this.parsePolygonText_();break;case "MULTIPOINT":K=this.parseMultiPointText_();break;case "MULTILINESTRING":K=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":K=this.parseMultiPolygonText_();break;default:throw Error("Invalid geometry type: "+K);}K||(K=G===B.POINT?[NaN,NaN]:[]);return new G(K,this.layout_)}throw Error(this.formatErrorMessage_());};return z}();A=function(z){function G(K){var R=z.call(this)||this;K=K?K:{};R.splitCollection_=
void 0!==K.splitCollection?K.splitCollection:!1;return R}y(G,z);G.prototype.parse_=function(K){K=new O(K);return(new M(K)).parse()};G.prototype.readFeatureFromText=function(K,R){return(K=this.readGeometryFromText(K,R))?(R=new x["default"],R.setGeometry(K),R):null};G.prototype.readFeaturesFromText=function(K,R){K=this.readGeometryFromText(K,R);K=this.splitCollection_&&K.getType()==m["default"].GEOMETRY_COLLECTION?K.getGeometriesArray():[K];R=[];for(var T=0,ja=K.length;T<ja;++T){var fa=new x["default"];
fa.setGeometry(K[T]);R.push(fa)}return R};G.prototype.readGeometryFromText=function(K,R){return(K=this.parse_(K))?(0,n.transformGeometryWithOptions)(K,!1,R):null};G.prototype.writeFeatureText=function(K,R){return(K=K.getGeometry())?this.writeGeometryText(K,R):""};G.prototype.writeFeaturesText=function(K,R){if(1==K.length)return this.writeFeatureText(K[0],R);for(var T=[],ja=0,fa=K.length;ja<fa;++ja)T.push(K[ja].getGeometry());K=new v["default"](T);return this.writeGeometryText(K,R)};G.prototype.writeGeometryText=
function(K,R){return N((0,n.transformGeometryWithOptions)(K,!0,R))};return G}(e["default"]);var F={Point:l,LineString:w,Polygon:H,MultiPoint:function(z){var G=[];z=z.getPoints();for(var K=0,R=z.length;K<R;++K)G.push("("+l(z[K])+")");return G.join(",")},MultiLineString:function(z){var G=[];z=z.getLineStrings();for(var K=0,R=z.length;K<R;++K)G.push("("+w(z[K])+")");return G.join(",")},MultiPolygon:function(z){var G=[];z=z.getPolygons();for(var K=0,R=z.length;K<R;++K)G.push("("+H(z[K])+")");return G.join(",")},
GeometryCollection:function(z){var G=[];z=z.getGeometries();for(var K=0,R=z.length;K<R;++K)G.push(N(z[K]));return G.join(",")}};E["default"]=A};
shadow$provide[253]=function(Ia,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(85));var l=k(A(86)),w=k(A(115)),H=A(72),N=A(132),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g,d){var f=v.call(this)||this;d=d?d:{};f.tileCoord=m;f.state=g;f.interimTile=null;f.hifi=!0;f.key="";f.transition_=void 0===d.transition?250:d.transition;f.transitionStarts_={};return f}x(u,v);u.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};u.prototype.release=function(){};u.prototype.getKey=function(){return this.key+"/"+this.tileCoord};u.prototype.getInterimTile=function(){if(!this.interimTile)return this;
var m=this.interimTile;do{if(m.getState()==w["default"].LOADED)return this.transition_=0,m;m=m.interimTile}while(m);return this};u.prototype.refreshInterimChain=function(){if(this.interimTile){var m=this.interimTile,g=this;do{if(m.getState()==w["default"].LOADED){m.interimTile=null;break}else m.getState()==w["default"].LOADING?g=m:m.getState()==w["default"].IDLE?g.interimTile=m.interimTile:g=m;m=g.interimTile}while(m)}};u.prototype.getTileCoord=function(){return this.tileCoord};u.prototype.getState=
function(){return this.state};u.prototype.setState=function(m){if(this.state!==w["default"].ERROR&&this.state>m)throw Error("Tile load sequence violation");this.state=m;this.changed()};u.prototype.load=function(){(0,H["abstract"])()};u.prototype.getAlpha=function(m,g){if(!this.transition_)return 1;var d=this.transitionStarts_[m];if(!d)d=g,this.transitionStarts_[m]=d;else if(-1===d)return 1;m=g-d+1E3/60;return m>=this.transition_?1:(0,N.easeIn)(m/this.transition_)};u.prototype.inTransition=function(m){return this.transition_?
-1!==this.transitionStarts_[m]:!1};u.prototype.endTransition=function(m){this.transition_&&(this.transitionStarts_[m]=-1)};return u}(Ia["default"]);E["default"]=A};
shadow$provide[254]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(253));var l=k(A(115)),w=A(101),H=A(226),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=
null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u,m,g,d,f,a){u=x.call(this,u,m,a)||this;u.crossOrigin_=d;u.src_=g;u.key=g;u.image_=new Image;null!==d&&(u.image_.crossOrigin=d);u.unlisten_=null;u.tileLoadFunction_=f;return u}N(v,x);v.prototype.getImage=function(){return this.image_};v.prototype.handleImageError_=function(){this.state=l["default"].ERROR;this.unlistenImage_();var u=(0,w.createCanvasContext2D)(1,1);u.fillStyle="rgba(0,0,0,0)";u.fillRect(0,0,1,1);
this.image_=u.canvas;this.changed()};v.prototype.handleImageLoad_=function(){var u=this.image_;this.state=u.naturalWidth&&u.naturalHeight?l["default"].LOADED:l["default"].EMPTY;this.unlistenImage_();this.changed()};v.prototype.load=function(){this.state==l["default"].ERROR&&(this.state=l["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),this.tileLoadFunction_(this,
this.src_),this.unlisten_=(0,H.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};v.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return v}(Ia["default"]);E["default"]=A};
shadow$provide[255]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.ERROR_THRESHOLD=.5;E.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[256]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(78),l=A(128),w=A(79);Ia=function(){function H(N,x,v,u,m,g){this.sourceProj_=N;this.targetProj_=x;var d={},f=(0,l.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(D){var O=D[0]+"/"+D[1];d[O]||(d[O]=f(D));return d[O]};this.maxSourceExtent_=u;this.errorThresholdSquared_=m*m;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!u&&!!this.sourceProj_.getExtent()&&(0,k.getWidth)(u)==(0,k.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,k.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,k.getWidth)(this.targetProj_.getExtent()):null;N=(0,k.getTopLeft)(v);x=(0,k.getTopRight)(v);u=(0,k.getBottomRight)(v);m=(0,k.getBottomLeft)(v);var a=this.transformInv_(N),e=this.transformInv_(x),n=this.transformInv_(u),y=this.transformInv_(m);
v=10+(g?Math.max(0,Math.ceil((0,w.log2)((0,k.getArea)(v)/(g*g*65536)))):0);this.addQuad_(N,x,u,m,a,e,n,y,v);if(this.wrapsXInSource_){var B=Infinity;this.triangles_.forEach(function(D,O,M){B=Math.min(B,D.source[0][0],D.source[1][0],D.source[2][0])});this.triangles_.forEach(function(D){if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-B>this.sourceWorldWidth_/2){var O=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];O[0][0]-B>this.sourceWorldWidth_/
2&&(O[0][0]-=this.sourceWorldWidth_);O[1][0]-B>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_);O[2][0]-B>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);Math.max(O[0][0],O[1][0],O[2][0])-Math.min(O[0][0],O[1][0],O[2][0])<this.sourceWorldWidth_/2&&(D.source=O)}}.bind(this))}d={}}H.prototype.addTriangle_=function(N,x,v,u,m,g){this.triangles_.push({source:[u,m,g],target:[N,x,v]})};H.prototype.addQuad_=function(N,x,v,u,m,g,d,f,a){var e=(0,k.boundingExtent)([m,g,d,f]),n=this.sourceWorldWidth_?
(0,k.getWidth)(e)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,B=this.sourceProj_.canWrapX()&&.5<n&&1>n,D=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var O=(0,k.boundingExtent)([N,x,v,u]);D=.25<(0,k.getWidth)(O)/this.targetWorldWidth_||D}!B&&this.sourceProj_.isGlobal()&&n&&(D=.25<n||D)}if(D||!this.maxSourceExtent_||!(isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(e[3]))||(0,k.intersects)(e,this.maxSourceExtent_)){e=0;if(!(D||isFinite(m[0])&&isFinite(m[1])&&
isFinite(g[0])&&isFinite(g[1])&&isFinite(d[0])&&isFinite(d[1])&&isFinite(f[0])&&isFinite(f[1])))if(0<a)D=!0;else if(e=(isFinite(m[0])&&isFinite(m[1])?0:8)+(isFinite(g[0])&&isFinite(g[1])?0:4)+(isFinite(d[0])&&isFinite(d[1])?0:2)+(isFinite(f[0])&&isFinite(f[1])?0:1),1!=e&&2!=e&&4!=e&&8!=e)return;if(0<a&&(D||(D=this.transformInv_([(N[0]+v[0])/2,(N[1]+v[1])/2]),y=B?((0,w.modulo)(m[0],y)+(0,w.modulo)(d[0],y))/2-(0,w.modulo)(D[0],y):(m[0]+d[0])/2-D[0],D=(m[1]+d[1])/2-D[1],D=y*y+D*D>this.errorThresholdSquared_),
D)){Math.abs(N[0]-v[0])<=Math.abs(N[1]-v[1])?(B=[(x[0]+v[0])/2,(x[1]+v[1])/2],y=this.transformInv_(B),D=[(u[0]+N[0])/2,(u[1]+N[1])/2],e=this.transformInv_(D),this.addQuad_(N,x,B,D,m,g,y,e,a-1),this.addQuad_(D,B,v,u,e,y,d,f,a-1)):(B=[(N[0]+x[0])/2,(N[1]+x[1])/2],y=this.transformInv_(B),D=[(v[0]+u[0])/2,(v[1]+u[1])/2],e=this.transformInv_(D),this.addQuad_(N,B,D,u,m,y,e,f,a-1),this.addQuad_(B,x,v,D,y,g,d,e,a-1));return}if(B){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(e&11)&&this.addTriangle_(N,
v,u,m,d,f);0==(e&14)&&this.addTriangle_(N,v,x,m,d,g);e&&(0==(e&13)&&this.addTriangle_(x,u,N,g,f,m),0==(e&7)&&this.addTriangle_(x,u,v,g,f,d))}};H.prototype.calculateSourceExtent=function(){var N=(0,k.createEmpty)();this.triangles_.forEach(function(x,v,u){x=x.source;(0,k.extendCoordinate)(N,x[0]);(0,k.extendCoordinate)(N,x[1]);(0,k.extendCoordinate)(N,x[2])});return N};H.prototype.getTriangles=function(){return this.triangles_};return H}();E["default"]=Ia};
shadow$provide[257]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.DEFAULT_WMS_VERSION="1.3.0";E.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}};
shadow$provide[258]=function(Ia,A,rb,E){function k(d,f,a,e,n){d.beginPath();d.moveTo(0,0);d.lineTo(f,a);d.lineTo(e,n);d.closePath();d.save();d.clip();d.fillRect(0,0,Math.max(f,e)+1,Math.max(a,n));d.restore()}function l(d,f){return 2<Math.abs(d[4*f]-210)||2<Math.abs(d[4*f+3]-191.25)}function w(d,f,a,e){var n=(0,u.transform)(a,f,d);a=(0,u.getPointResolution)(f,e,a);f=f.getMetersPerUnit();void 0!==f&&(a*=f);f=d.getMetersPerUnit();void 0!==f&&(a/=f);f=d.getExtent();if(!f||(0,x.containsCoordinate)(f,n))d=
(0,u.getPointResolution)(d,a,n)/a,isFinite(d)&&0<d&&(a/=d);return a}Object.defineProperty(E,"__esModule",{value:!0});E.calculateSourceResolution=w;E.calculateSourceExtentResolution=function(d,f,a,e){var n=(0,x.getCenter)(a),y=w(d,f,n,e);(!isFinite(y)||0>=y)&&(0,x.forEachCorner)(a,function(B){y=w(d,f,B,e);return isFinite(y)&&0<y});return y};E.render=function(d,f,a,e,n,y,B,D,O,M,F,z){function G(ia){return Math.round(ia*a)/a}var K=(0,v.createCanvasContext2D)(Math.round(a*d),Math.round(a*f));(0,N.assign)(K,
z);if(0===O.length)return K.canvas;K.scale(a,a);K.globalCompositeOperation="lighter";var R=(0,x.createEmpty)();O.forEach(function(ia,la,Z){(0,x.extend)(R,ia.extent)});d=(0,x.getWidth)(R);f=(0,x.getHeight)(R);var T=(0,v.createCanvasContext2D)(Math.round(a*d/e),Math.round(a*f/e));(0,N.assign)(T,z);var ja=a/e;O.forEach(function(ia,la,Z){la=ia.extent[0]-R[0];Z=-(ia.extent[3]-R[3]);var P=(0,x.getWidth)(ia.extent),C=(0,x.getHeight)(ia.extent);0<ia.image.width&&0<ia.image.height&&T.drawImage(ia.image,M,
M,ia.image.width-2*M,ia.image.height-2*M,la*ja,Z*ja,P*ja,C*ja)});var fa=(0,x.getTopLeft)(B);D.getTriangles().forEach(function(ia,la,Z){Z=ia.source;var P=ia.target;ia=Z[0][0];la=Z[0][1];var C=Z[1][0],V=Z[1][1],ha=Z[2][0],aa=Z[2][1];Z=G((P[0][0]-fa[0])/y);var ta=G(-(P[0][1]-fa[1])/y),wa=G((P[1][0]-fa[0])/y),Ha=G(-(P[1][1]-fa[1])/y),bb=G((P[2][0]-fa[0])/y);P=G(-(P[2][1]-fa[1])/y);C-=ia;V-=la;ha-=ia;aa-=la;C=[[C,V,0,0,wa-Z],[ha,aa,0,0,bb-Z],[0,0,C,V,Ha-ta],[0,0,ha,aa,P-ta]];if(C=(0,m.solveLinearSystem)(C)){K.save();
K.beginPath();void 0===g&&(V=document.createElement("canvas").getContext("2d"),V.globalCompositeOperation="lighter",V.fillStyle="rgba(210, 0, 0, 0.75)",k(V,4,5,4,0),k(V,4,5,0,5),V=V.getImageData(0,0,3,3).data,g=l(V,0)||l(V,4)||l(V,8));if(g||z===H.IMAGE_SMOOTHING_DISABLED)for(K.moveTo(wa,Ha),V=Z-wa,ha=ta-Ha,aa=0;4>aa;aa++)K.lineTo(wa+G((aa+1)*V/4),Ha+G(aa*ha/3)),3!=aa&&K.lineTo(wa+G((aa+1)*V/4),Ha+G((aa+1)*ha/3));else K.moveTo(wa,Ha),K.lineTo(Z,ta);K.lineTo(bb,P);K.clip();K.transform(C[0],C[2],C[1],
C[3],Z,ta);K.translate(R[0]-ia,R[3]-la);K.scale(e/a,-e/a);K.drawImage(T.canvas,0,0);K.restore()}});F&&(K.save(),K.globalCompositeOperation="source-over",K.strokeStyle="black",K.lineWidth=1,D.getTriangles().forEach(function(ia,la,Z){var P=ia.target;ia=(P[0][0]-fa[0])/y;la=-(P[0][1]-fa[1])/y;Z=(P[1][0]-fa[0])/y;var C=-(P[1][1]-fa[1])/y,V=(P[2][0]-fa[0])/y;P=-(P[2][1]-fa[1])/y;K.beginPath();K.moveTo(Z,C);K.lineTo(ia,la);K.lineTo(V,P);K.closePath();K.stroke()}),K.restore());return K.canvas};var H=A(257),
N=A(84),x=A(78),v=A(101),u=A(128),m=A(79),g};
shadow$provide[259]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=A(255),w=k(A(86));Ia=k(A(253));var H=k(A(115)),N=k(A(256)),x=A(258),v=A(79),u=A(78),m=A(87),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,y,B,D,O,M,F,z,G,K){var R=d.call(this,B,H["default"].IDLE)||this;R.renderEdges_=void 0!==G?G:!1;R.contextOptions_=K;R.pixelRatio_=O;R.gutter_=M;R.canvas_=null;R.sourceTileGrid_=e;R.targetTileGrid_=y;R.wrappedTileCoord_=D?D:B;R.sourceTiles_=[];R.sourcesListenerKeys_=null;R.sourceZ_=0;D=y.getTileCoordExtent(R.wrappedTileCoord_);M=R.targetTileGrid_.getExtent();B=R.sourceTileGrid_.getExtent();
D=M?(0,u.getIntersection)(D,M):D;if(0===(0,u.getArea)(D))return R.state=H["default"].EMPTY,R;(M=a.getExtent())&&(B=B?(0,u.getIntersection)(B,M):M);y=y.getResolution(R.wrappedTileCoord_[0]);M=(0,x.calculateSourceExtentResolution)(a,n,D,y);if(!isFinite(M)||0>=M)return R.state=H["default"].EMPTY,R;R.triangulation_=new N["default"](a,n,D,B,M*(void 0!==z?z:l.ERROR_THRESHOLD),y);if(0===R.triangulation_.getTriangles().length)return R.state=H["default"].EMPTY,R;R.sourceZ_=e.getZForResolution(M);n=R.triangulation_.calculateSourceExtent();
B&&(a.canWrapX()?(n[1]=(0,v.clamp)(n[1],B[1],B[3]),n[3]=(0,v.clamp)(n[3],B[1],B[3])):n=(0,u.getIntersection)(n,B));if((0,u.getArea)(n)){a=e.getTileRangeForExtentAndZ(n,R.sourceZ_);for(e=a.minX;e<=a.maxX;e++)for(n=a.minY;n<=a.maxY;n++)(z=F(R.sourceZ_,e,n,O))&&R.sourceTiles_.push(z);0===R.sourceTiles_.length&&(R.state=H["default"].EMPTY)}else R.state=H["default"].EMPTY;return R}g(f,d);f.prototype.getImage=function(){return this.canvas_};f.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(O,
M,F){O&&O.getState()==H["default"].LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(O.tileCoord),image:O.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=H["default"].ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),y="number"===typeof n?n:n[0];n="number"===typeof n?n:n[1];e=this.targetTileGrid_.getResolution(e);var B=this.sourceTileGrid_.getResolution(this.sourceZ_),D=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
this.canvas_=(0,x.render)(y,n,this.pixelRatio_,B,this.sourceTileGrid_.getExtent(),e,D,this.triangulation_,a,this.gutter_,this.renderEdges_,this.contextOptions_);this.state=H["default"].LOADED}this.changed()};f.prototype.load=function(){if(this.state==H["default"].IDLE){this.state=H["default"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(e,n,y){n=e.getState();if(n==H["default"].IDLE||n==H["default"].LOADING){a++;var B=(0,m.listen)(e,w["default"].CHANGE,
function(D){D=e.getState();if(D==H["default"].LOADED||D==H["default"].ERROR||D==H["default"].EMPTY)(0,m.unlistenByKey)(B),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(B)}}.bind(this));this.sourceTiles_.forEach(function(e,n,y){e.getState()==H["default"].IDLE&&e.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};f.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(m.unlistenByKey);this.sourcesListenerKeys_=null};return f}(Ia["default"]);
E["default"]=A};
shadow$provide[260]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(74);Ia=function(){function l(w){this.highWaterMark=void 0!==w?w:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}l.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};l.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};l.prototype.containsKey=function(w){return this.entries_.hasOwnProperty(w)};
l.prototype.forEach=function(w){for(var H=this.oldest_;H;)w(H.value_,H.key_,this),H=H.newer};l.prototype.get=function(w,H){w=this.entries_[w];(0,k.assert)(void 0!==w,15);if(w===this.newest_)return w.value_;w===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(w.newer.older=w.older,w.older.newer=w.newer);w.newer=null;w.older=this.newest_;this.newest_=this.newest_.newer=w;return w.value_};l.prototype.remove=function(w){var H=this.entries_[w];(0,k.assert)(void 0!==H,15);if(H===
this.newest_){if(this.newest_=H.older)this.newest_.newer=null}else if(H===this.oldest_){if(this.oldest_=H.newer)this.oldest_.older=null}else H.newer.older=H.older,H.older.newer=H.newer;delete this.entries_[w];--this.count_;return H.value_};l.prototype.getCount=function(){return this.count_};l.prototype.getKeys=function(){var w=Array(this.count_),H=0,N;for(N=this.newest_;N;N=N.older)w[H++]=N.key_;return w};l.prototype.getValues=function(){var w=Array(this.count_),H=0,N;for(N=this.newest_;N;N=N.older)w[H++]=
N.value_;return w};l.prototype.peekLast=function(){return this.oldest_.value_};l.prototype.peekLastKey=function(){return this.oldest_.key_};l.prototype.peekFirstKey=function(){return this.newest_.key_};l.prototype.pop=function(){var w=this.oldest_;delete this.entries_[w.key_];w.newer&&(w.newer.older=null);this.oldest_=w.newer;this.oldest_||(this.newest_=null);--this.count_;return w.value_};l.prototype.replace=function(w,H){this.get(w);this.entries_[w].value_=H};l.prototype.set=function(w,H){(0,k.assert)(!(w in
this.entries_),16);H={key_:w,newer:null,older:this.newest_,value_:H};this.newest_?this.newest_.newer=H:this.oldest_=H;this.newest_=H;this.entries_[w]=H;++this.count_};l.prototype.setSize=function(w){this.highWaterMark=w};return l}();E["default"]=Ia};
shadow$provide[261]=function(Ia,A,rb,E){function k(l,w,H){return l+"/"+w+"/"+H}Object.defineProperty(E,"__esModule",{value:!0});E.createOrUpdate=function(l,w,H,N){return void 0!==N?(N[0]=l,N[1]=w,N[2]=H,N):[l,w,H]};E.getKeyZXY=k;E.getKey=function(l){return k(l[0],l[1],l[2])};E.fromKey=function(l){return l.split("/").map(Number)};E.hash=function(l){return(l[1]<<l[0])+l[2]};E.withinExtentAndZ=function(l,w){var H=l[0],N=l[1];l=l[2];return w.getMinZoom()>H||H>w.getMaxZoom()?!1:(w=w.getFullTileRange(H))?
w.containsXY(N,l):!0}};
shadow$provide[262]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(w){return w&&w.__esModule?w:{"default":w}}(A(260));var k=A(261),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):
(x.prototype=N.prototype,new x)}}();A=function(w){function H(){return null!==w&&w.apply(this,arguments)||this}l(H,w);H.prototype.expireCache=function(N){for(;this.canExpireCache()&&!(this.peekLast().getKey()in N);)this.pop().release()};H.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var N=this.peekFirstKey(),x=(0,k.fromKey)(N)[0];this.forEach(function(v){v.tileCoord[0]!==x&&(this.remove((0,k.getKey)(v.tileCoord)),v.release())}.bind(this))}};return H}(Ia["default"]);E["default"]=
A};
shadow$provide[263]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[264]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createOrUpdate=function(l,w,H,N,x){return void 0!==x?(x.minX=l,x.maxX=w,x.minY=H,x.maxY=N,x):new k(l,w,H,N)};E["default"]=void 0;var k=function(){function l(w,H,N,x){this.minX=w;this.maxX=H;this.minY=N;this.maxY=x}l.prototype.contains=function(w){return this.containsXY(w[1],w[2])};l.prototype.containsTileRange=function(w){return this.minX<=w.minX&&w.maxX<=this.maxX&&this.minY<=w.minY&&w.maxY<=this.maxY};l.prototype.containsXY=
function(w,H){return this.minX<=w&&w<=this.maxX&&this.minY<=H&&H<=this.maxY};l.prototype.equals=function(w){return this.minX==w.minX&&this.minY==w.minY&&this.maxX==w.maxX&&this.maxY==w.maxY};l.prototype.extend=function(w){w.minX<this.minX&&(this.minX=w.minX);w.maxX>this.maxX&&(this.maxX=w.maxX);w.minY<this.minY&&(this.minY=w.minY);w.maxY>this.maxY&&(this.maxY=w.maxY)};l.prototype.getHeight=function(){return this.maxY-this.minY+1};l.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
l.prototype.getWidth=function(){return this.maxX-this.minX+1};l.prototype.intersects=function(w){return this.minX<=w.maxX&&this.maxX>=w.minX&&this.minY<=w.maxY&&this.maxY>=w.minY};return l}();E["default"]=k};
shadow$provide[265]=function(Ia,A,rb,E){function k(f){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return k(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(f){if(f&&f.__esModule)return f;if(null===
f||"object"!==k(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var B=n?Object.getOwnPropertyDescriptor(f,y):null;B&&(B.get||B.set)?Object.defineProperty(e,y,B):e[y]=f[y]}e["default"]=f;a&&a.set(f,e);return e}(A(264)),H=A(121),N=A(74),x=A(79),v=A(78),u=A(261),m=A(70),g=A(152),d=[0,0,0];Ia=function(){function f(a){this.minZoom=void 0!==
a.minZoom?a.minZoom:0;this.resolutions_=a.resolutions;(0,N.assert)((0,m.isSorted)(this.resolutions_,function(D,O){return O-D},!0),17);if(!a.origins)for(var e=0,n=this.resolutions_.length-1;e<n;++e)if(!y)var y=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==y){y=void 0;break}this.zoomFactor_=y;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=null;void 0!==a.origins&&(this.origins_=a.origins,(0,N.assert)(this.origins_.length==
this.resolutions_.length,20));var B=a.extent;void 0===B||this.origin_||this.origins_||(this.origin_=(0,v.getTopLeft)(B));(0,N.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,(0,N.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:H.DEFAULT_TILE_SIZE;(0,N.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,
22);this.extent_=void 0!==B?B:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(D,O){D=new w["default"](Math.min(0,D[0]),Math.max(D[0]-1,-1),Math.min(0,D[1]),Math.max(D[1]-1,-1));B&&(O=this.getTileRangeForExtentAndZ(B,O),D.minX=Math.max(O.minX,D.minX),D.maxX=Math.min(O.maxX,D.maxX),D.minY=Math.max(O.minY,D.minY),D.maxY=Math.min(O.maxY,D.maxY));return D},this):B&&this.calculateTileRanges_(B)}f.prototype.forEachTileCoord=function(a,e,n){a=
this.getTileRangeForExtentAndZ(a,e);for(var y=a.minX,B=a.maxX;y<=B;++y)for(var D=a.minY,O=a.maxY;D<=O;++D)n([e,y,D])};f.prototype.forEachTileCoordParentTileRange=function(a,e,n,y){var B=null,D=a[0]-1;if(2===this.zoomFactor_){var O=a[1];var M=a[2]}else B=this.getTileCoordExtent(a,y);for(;D>=this.minZoom;){2===this.zoomFactor_?(O=Math.floor(O/2),M=Math.floor(M/2),a=(0,w.createOrUpdate)(O,O,M,M,n)):a=this.getTileRangeForExtentAndZ(B,D,n);if(e(D,a))return!0;--D}return!1};f.prototype.getExtent=function(){return this.extent_};
f.prototype.getMaxZoom=function(){return this.maxZoom};f.prototype.getMinZoom=function(){return this.minZoom};f.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};f.prototype.getResolution=function(a){return this.resolutions_[a]};f.prototype.getResolutions=function(){return this.resolutions_};f.prototype.getTileCoordChildTileRange=function(a,e,n){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return n=2*a[1],a=2*a[2],(0,w.createOrUpdate)(n,n+1,a,a+1,e);n=this.getTileCoordExtent(a,
n);return this.getTileRangeForExtentAndZ(n,a[0]+1,e)}return null};f.prototype.getTileRangeExtent=function(a,e,n){var y=this.getOrigin(a),B=this.getResolution(a),D=(0,g.toSize)(this.getTileSize(a),this.tmpSize_);a=y[0]+e.minX*D[0]*B;var O=y[0]+(e.maxX+1)*D[0]*B,M=y[1]+e.minY*D[1]*B;e=y[1]+(e.maxY+1)*D[1]*B;return(0,v.createOrUpdate)(a,M,O,e,n)};f.prototype.getTileRangeForExtentAndZ=function(a,e,n){this.getTileCoordForXYAndZ_(a[0],a[3],e,!1,d);var y=d[1],B=d[2];this.getTileCoordForXYAndZ_(a[2],a[1],
e,!0,d);return(0,w.createOrUpdate)(y,d[1],B,d[2],n)};f.prototype.getTileCoordCenter=function(a){var e=this.getOrigin(a[0]),n=this.getResolution(a[0]),y=(0,g.toSize)(this.getTileSize(a[0]),this.tmpSize_);return[e[0]+(a[1]+.5)*y[0]*n,e[1]-(a[2]+.5)*y[1]*n]};f.prototype.getTileCoordExtent=function(a,e){var n=this.getOrigin(a[0]),y=this.getResolution(a[0]),B=(0,g.toSize)(this.getTileSize(a[0]),this.tmpSize_),D=n[0]+a[1]*B[0]*y;a=n[1]-(a[2]+1)*B[1]*y;n=D+B[0]*y;y=a+B[1]*y;return(0,v.createOrUpdate)(D,
a,n,y,e)};f.prototype.getTileCoordForCoordAndResolution=function(a,e,n){return this.getTileCoordForXYAndResolution_(a[0],a[1],e,!1,n)};f.prototype.getTileCoordForXYAndResolution_=function(a,e,n,y,B){var D=this.getZForResolution(n),O=n/this.getResolution(D),M=this.getOrigin(D),F=(0,g.toSize)(this.getTileSize(D),this.tmpSize_);a=O*Math.floor((a-M[0])/n+(y?.5:0))/F[0];e=O*Math.floor((M[1]-e)/n+(y?.5:0))/F[1];y?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,u.createOrUpdate)(D,
a,e,B)};f.prototype.getTileCoordForXYAndZ_=function(a,e,n,y,B){var D=this.getOrigin(n),O=this.getResolution(n),M=(0,g.toSize)(this.getTileSize(n),this.tmpSize_);a=Math.floor((a-D[0])/O+(y?.5:0))/M[0];e=Math.floor((D[1]-e)/O+(y?.5:0))/M[1];y?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,u.createOrUpdate)(n,a,e,B)};f.prototype.getTileCoordForCoordAndZ=function(a,e,n){return this.getTileCoordForXYAndZ_(a[0],a[1],e,!1,n)};f.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};
f.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};f.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,a):null};f.prototype.getZForResolution=function(a,e){a=(0,m.linearFindNearest)(this.resolutions_,a,e||0);return(0,x.clamp)(a,this.minZoom,this.maxZoom)};f.prototype.calculateTileRanges_=function(a){for(var e=this.resolutions_.length,n=Array(e),y=this.minZoom;y<
e;++y)n[y]=this.getTileRangeForExtentAndZ(a,y);this.fullTileRanges_=n};return f}();E["default"]=Ia};
shadow$provide[266]=function(Ia,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,e,n,y){y=void 0!==y?y:x["default"].TOP_LEFT;e=w(a,e,n);return new v["default"]({extent:a,origin:(0,d.getCorner)(a,y),resolutions:e,tileSize:n})}function w(a,e,n,y){e=void 0!==e?e:m.DEFAULT_MAX_ZOOM;var B=(0,d.getHeight)(a);a=(0,d.getWidth)(a);n=(0,f.toSize)(void 0!==n?n:m.DEFAULT_TILE_SIZE);y=0<y?y:Math.max(a/n[0],B/n[1]);e+=1;n=Array(e);for(B=0;B<e;++B)n[B]=y/Math.pow(2,B);return n}function H(a,
e,n,y){a=N(a);return l(a,e,n,y)}function N(a){a=(0,g.get)(a);var e=a.getExtent();e||(a=180*g.METERS_PER_UNIT[u["default"].DEGREES]/a.getMetersPerUnit(),e=(0,d.createOrUpdate)(-a,-a,a,a));return e}Object.defineProperty(E,"__esModule",{value:!0});E.getForProjection=function(a){var e=a.getDefaultTileGrid();e||(e=H(a),a.setDefaultTileGrid(e));return e};E.wrapX=function(a,e,n){var y=e[0],B=a.getTileCoordCenter(e);n=N(n);if((0,d.containsCoordinate)(n,B))return e;e=(0,d.getWidth)(n);B[0]+=e*Math.ceil((n[0]-
B[0])/e);return a.getTileCoordForCoordAndZ(B,y)};E.createForExtent=l;E.createXYZ=function(a){a=a||{};var e=a.extent||(0,g.get)("EPSG:3857").getExtent();a={extent:e,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:w(e,a.maxZoom,a.tileSize,a.maxResolution)};return new v["default"](a)};E.createForProjection=H;E.extentFromProjection=N;var x=k(A(76)),v=k(A(265)),u=k(A(118)),m=A(121),g=A(128),d=A(78),f=A(152)};
shadow$provide[267]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TileSourceEvent=void 0;Ia=k(A(82));rb=k(A(236));var l=k(A(262)),w=k(A(115)),H=A(72),N=A(74),x=A(128),v=A(261),u=A(266),m=A(152),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,
a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX})||this;e.opaque_=void 0!==a.opaque?a.opaque:!1;e.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;e.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var n=[256,256],y=a.tileGrid;
y&&(0,m.toSize)(y.getTileSize(y.getMinZoom()),n);e.tileCache=new l["default"](a.cacheSize||0);e.tmpSize=[0,0];e.key_=a.key||"";e.tileOptions={transition:a.transition};e.zDirection=a.zDirection?a.zDirection:0;return e}g(f,d);f.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};f.prototype.expireCache=function(a,e){(a=this.getTileCacheForProjection(a))&&a.expireCache(e)};f.prototype.forEachLoadedTile=function(a,e,n,y){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var B=
!0,D,O,M=n.minX;M<=n.maxX;++M)for(var F=n.minY;F<=n.maxY;++F)D=(0,v.getKeyZXY)(e,M,F),O=!1,a.containsKey(D)&&(D=a.get(D),(O=D.getState()===w["default"].LOADED)&&(O=!1!==y(D))),O||(B=!1);return B};f.prototype.getGutterForProjection=function(a){return 0};f.prototype.getKey=function(){return this.key_};f.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};f.prototype.getOpaque=function(a){return this.opaque_};f.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};
f.prototype.getTile=function(a,e,n,y,B){return(0,H["abstract"])()};f.prototype.getTileGrid=function(){return this.tileGrid};f.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,u.getForProjection)(a)};f.prototype.getTileCacheForProjection=function(a){(0,N.assert)((0,x.equivalent)(this.getProjection(),a),68);return this.tileCache};f.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};f.prototype.getTilePixelSize=function(a,e,n){n=this.getTileGridForProjection(n);
e=this.getTilePixelRatio(e);a=(0,m.toSize)(n.getTileSize(a),this.tmpSize);return 1==e?a:(0,m.scale)(a,e,this.tmpSize)};f.prototype.getTileCoordForTileUrlFunction=function(a,e){e=void 0!==e?e:this.getProjection();var n=this.getTileGridForProjection(e);this.getWrapX()&&e.isGlobal()&&(a=(0,u.wrapX)(n,a,e));return(0,v.withinExtentAndZ)(a,n)?a:null};f.prototype.clear=function(){this.tileCache.clear()};f.prototype.refresh=function(){this.clear();d.prototype.refresh.call(this)};f.prototype.updateCacheSize=
function(a,e){e=this.getTileCacheForProjection(e);a>e.highWaterMark&&(e.highWaterMark=a)};f.prototype.useTile=function(a,e,n,y){};return f}(rb["default"]);Ia=function(d){function f(a,e){a=d.call(this,a)||this;a.tile=e;return a}g(f,d);return f}(Ia["default"]);E.TileSourceEvent=Ia;E["default"]=A};
shadow$provide[268]=function(Ia,A,rb,E){function k(x,v){var u=/\{z\}/g,m=/\{x\}/g,g=/\{y\}/g,d=/\{-y\}/g;return function(f,a,e){if(f)return x.replace(u,f[0].toString()).replace(m,f[1].toString()).replace(g,f[2].toString()).replace(d,function(){var n=v.getFullTileRange(f[0]);(0,w.assert)(n,55);return(n.getHeight()-f[2]-1).toString()})}}function l(x){return 1===x.length?x[0]:function(v,u,m){if(v){var g=(0,N.hash)(v);g=(0,H.modulo)(g,x.length);return x[g](v,u,m)}}}Object.defineProperty(E,"__esModule",
{value:!0});E.createFromTemplate=k;E.createFromTemplates=function(x,v){for(var u=x.length,m=Array(u),g=0;g<u;++g)m[g]=k(x[g],v);return l(m)};E.createFromTileUrlFunctions=l;E.nullTileUrlFunction=function(x,v,u){};E.expandUrl=function(x){var v=[],u=/\{([a-z])-([a-z])\}/.exec(x);if(u){for(var m=u[1].charCodeAt(0),g=u[2].charCodeAt(0);m<=g;++m)v.push(x.replace(u[0],String.fromCharCode(m)));return v}if(u=/\{(\d+)-(\d+)\}/.exec(x)){g=parseInt(u[2],10);for(m=parseInt(u[1],10);m<=g;m++)v.push(x.replace(u[0],
m.toString()));return v}v.push(x);return v};var w=A(74),H=A(79),N=A(261)};
shadow$provide[269]=function(Ia,A,rb,E){function k(d){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return k(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function w(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(263)),N=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==k(d)&&"function"!==typeof d)return{"default":d};var f=l();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var y=e?Object.getOwnPropertyDescriptor(d,n):null;y&&(y.get||y.set)?Object.defineProperty(a,n,y):a[n]=d[n]}a["default"]=d;f&&f.set(d,a);return a}(A(267)),x=w(A(115)),v=A(268),u=A(261),m=A(72),g=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ia=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,
tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition,key:a.key,attributionsCollapsible:a.attributionsCollapsible,zDirection:a.zDirection})||this;e.generateTileUrlFunction_=e.tileUrlFunction===f.prototype.tileUrlFunction;e.tileLoadFunction=a.tileLoadFunction;a.tileUrlFunction&&(e.tileUrlFunction=a.tileUrlFunction);e.urls=null;a.urls?e.setUrls(a.urls):a.url&&e.setUrl(a.url);e.tileLoadingKeys_={};return e}g(f,d);f.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};
f.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};f.prototype.getUrls=function(){return this.urls};f.prototype.handleTileChange=function(a){a=a.target;var e=(0,m.getUid)(a),n=a.getState();if(n==x["default"].LOADING){this.tileLoadingKeys_[e]=!0;var y=H["default"].TILELOADSTART}else e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],y=n==x["default"].ERROR?H["default"].TILELOADERROR:
n==x["default"].LOADED?H["default"].TILELOADEND:void 0);void 0!=y&&this.dispatchEvent(new N.TileSourceEvent(y,a))};f.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};f.prototype.setTileUrlFunction=function(a,e){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof e?this.setKey(e):this.changed()};f.prototype.setUrl=function(a){this.urls=a=(0,v.expandUrl)(a);this.setUrls(a)};f.prototype.setUrls=function(a){this.urls=
a;var e=a.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,v.createFromTemplates)(a,this.tileGrid),e):this.setKey(e)};f.prototype.tileUrlFunction=function(a,e,n){};f.prototype.useTile=function(a,e,n){a=(0,u.getKeyZXY)(a,e,n);this.tileCache.containsKey(a)&&this.tileCache.get(a)};return f}(N["default"]);E["default"]=Ia};
shadow$provide[270]=function(Ia,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(n,y){n.getImage().src=y}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(86)),H=k(A(254)),N=k(A(259)),x=k(A(262)),v=k(A(115));Ia=k(A(269));var u=A(255),m=A(257),g=A(128),d=A(261),f=A(266),a=A(72),e=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,
M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B){var D=n.call(this,{attributions:B.attributions,cacheSize:B.cacheSize,opaque:B.opaque,projection:B.projection,state:B.state,tileGrid:B.tileGrid,tileLoadFunction:B.tileLoadFunction?B.tileLoadFunction:l,tilePixelRatio:B.tilePixelRatio,tileUrlFunction:B.tileUrlFunction,url:B.url,urls:B.urls,wrapX:B.wrapX,transition:B.transition,
key:B.key,attributionsCollapsible:B.attributionsCollapsible,zDirection:B.zDirection})||this;D.crossOrigin=void 0!==B.crossOrigin?B.crossOrigin:null;D.tileClass=void 0!==B.tileClass?B.tileClass:H["default"];D.tileCacheForProjection={};D.tileGridForProjection={};D.reprojectionErrorThreshold_=B.reprojectionErrorThreshold;D.contextOptions_=!1===B.imageSmoothing?m.IMAGE_SMOOTHING_DISABLED:void 0;D.renderReprojectionEdges_=!1;return D}e(y,n);y.prototype.canExpireCache=function(){if(!u.ENABLE_RASTER_REPROJECTION)return n.prototype.canExpireCache.call(this);
if(this.tileCache.canExpireCache())return!0;for(var B in this.tileCacheForProjection)if(this.tileCacheForProjection[B].canExpireCache())return!0;return!1};y.prototype.expireCache=function(B,D){if(u.ENABLE_RASTER_REPROJECTION){B=this.getTileCacheForProjection(B);this.tileCache.expireCache(this.tileCache==B?D:{});for(var O in this.tileCacheForProjection){var M=this.tileCacheForProjection[O];M.expireCache(M==B?D:{})}}else n.prototype.expireCache.call(this,B,D)};y.prototype.getContextOptions=function(){return this.contextOptions_};
y.prototype.getGutterForProjection=function(B){return u.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&B&&!(0,g.equivalent)(this.getProjection(),B)?0:this.getGutter()};y.prototype.getGutter=function(){return 0};y.prototype.getKey=function(){return n.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")};y.prototype.getOpaque=function(B){return u.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&B&&!(0,g.equivalent)(this.getProjection(),B)?!1:n.prototype.getOpaque.call(this,
B)};y.prototype.getTileGridForProjection=function(B){if(!u.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileGridForProjection.call(this,B);var D=this.getProjection();return!this.tileGrid||D&&!(0,g.equivalent)(D,B)?(D=(0,a.getUid)(B),D in this.tileGridForProjection||(this.tileGridForProjection[D]=(0,f.getForProjection)(B)),this.tileGridForProjection[D]):this.tileGrid};y.prototype.getTileCacheForProjection=function(B){if(!u.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileCacheForProjection.call(this,
B);var D=this.getProjection();if(!D||(0,g.equivalent)(D,B))return this.tileCache;B=(0,a.getUid)(B);B in this.tileCacheForProjection||(this.tileCacheForProjection[B]=new x["default"](this.tileCache.highWaterMark));return this.tileCacheForProjection[B]};y.prototype.createTile_=function(B,D,O,M,F,z){B=[B,D,O];M=(D=this.getTileCoordForTileUrlFunction(B,F))?this.tileUrlFunction(D,M,F):void 0;M=new this.tileClass(B,void 0!==M?v["default"].IDLE:v["default"].EMPTY,void 0!==M?M:"",this.crossOrigin,this.tileLoadFunction,
this.tileOptions);M.key=z;M.addEventListener(w["default"].CHANGE,this.handleTileChange.bind(this));return M};y.prototype.getTile=function(B,D,O,M,F){var z=this.getProjection();if(u.ENABLE_RASTER_REPROJECTION&&z&&F&&!(0,g.equivalent)(z,F)){var G=this.getTileCacheForProjection(F),K=[B,D,O];B=void 0;D=(0,d.getKey)(K);G.containsKey(D)&&(B=G.get(D));O=this.getKey();if(B&&B.key==O)return B;var R=this.getTileGridForProjection(z),T=this.getTileGridForProjection(F),ja=this.getTileCoordForTileUrlFunction(K,
F);M=new N["default"](z,R,F,T,K,ja,this.getTilePixelRatio(M),this.getGutter(),function(fa,ia,la,Z){return this.getTileInternal(fa,ia,la,Z,z)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);M.key=O;B?(M.interimTile=B,M.refreshInterimChain(),G.replace(D,M)):G.set(D,M);return M}return this.getTileInternal(B,D,O,M,z||F)};y.prototype.getTileInternal=function(B,D,O,M,F){var z=(0,d.getKeyZXY)(B,D,O),G=this.getKey();if(this.tileCache.containsKey(z)){var K=
this.tileCache.get(z);if(K.key!=G){var R=K;K=this.createTile_(B,D,O,M,F,G);R.getState()==v["default"].IDLE?K.interimTile=R.interimTile:K.interimTile=R;K.refreshInterimChain();this.tileCache.replace(z,K)}}else K=this.createTile_(B,D,O,M,F,G),this.tileCache.set(z,K);return K};y.prototype.setRenderReprojectionEdges=function(B){if(u.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=B){this.renderReprojectionEdges_=B;for(var D in this.tileCacheForProjection)this.tileCacheForProjection[D].clear();
this.changed()}};y.prototype.setTileGridForProjection=function(B,D){u.ENABLE_RASTER_REPROJECTION&&(B=(0,g.get)(B))&&(B=(0,a.getUid)(B),B in this.tileGridForProjection||(this.tileGridForProjection[B]=D))};return y}(Ia["default"]);E["default"]=A};
shadow$provide[271]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.jsonp=function(l,w,H,N){function x(){delete window[u];v.parentNode.removeChild(v)}var v=document.createElement("script"),u="olc_"+(0,k.getUid)(w);v.async=!0;v.src=l+(-1==l.indexOf("?")?"?":"\x26")+(N||"callback")+"\x3d"+u;var m=setTimeout(function(){x();H&&H()},1E4);window[u]=function(g){clearTimeout(m);x();w(g)};document.getElementsByTagName("head")[0].appendChild(v)};var k=A(72)};
shadow$provide[272]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(d){var f=d[0],a=Array(f),e=1<<f-1,n;for(n=0;n<f;++n){var y=48;d[1]&e&&(y+=1);d[2]&e&&(y+=2);a[n]=String.fromCharCode(y);e>>=1}return a.join("")}Object.defineProperty(E,"__esModule",{value:!0});E.quadKey=l;E["default"]=void 0;var w=k(A(93));Ia=k(A(270));var H=A(78),N=A(268),x=A(261),v=A(266),u=A(128),m=A(271),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=void 0!==a.hidpi?a.hidpi:!1;var n=d.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",imageSmoothing:a.imageSmoothing,opaque:!0,projection:(0,u.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,
state:w["default"].LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})||this;n.hidpi_=e;n.culture_=void 0!==a.culture?a.culture:"en-us";n.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;n.apiKey_=a.key;n.imagerySet_=a.imagerySet;a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+n.apiKey_+"\x26c\x3d"+n.culture_;(0,m.jsonp)(a,n.handleImageryMetadataResponse.bind(n),
void 0,"jsonp");return n}g(f,d);f.prototype.getApiKey=function(){return this.apiKey_};f.prototype.getImagerySet=function(){return this.imagerySet_};f.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(w["default"].ERROR);else{var e=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var n=this.getProjection();
n=(0,v.extentFromProjection)(n);var y=this.hidpi_?2:1;y=e.imageWidth==e.imageHeight?e.imageWidth/y:[e.imageWidth/y,e.imageHeight/y];this.tileGrid=(0,v.createXYZ)({extent:n,minZoom:e.zoomMin,maxZoom:a,tileSize:y});var B=this.culture_,D=this.hidpi_;this.tileUrlFunction=(0,N.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(M){var F=[0,0,0],z=e.imageUrl.replace("{subdomain}",M).replace("{culture}",B);return function(G,K,R){if(G)return(0,x.createOrUpdate)(G[0],G[1],G[2],F),G=z,D&&(G+="\x26dpi\x3dd1\x26device\x3dmobile"),
G.replace("{quadkey}",l(F))}}));if(e.imageryProviders){var O=(0,u.getTransformFromProjections)((0,u.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(M){var F=[],z=M.viewState,G=this.getTileGrid(),K=G.getZForResolution(z.resolution,this.zDirection),R=G.getTileCoordForCoordAndZ(z.center,K)[0];e.imageryProviders.map(function(T){for(var ja=!1,fa=T.coverageAreas,ia=0,la=fa.length;ia<la;++ia){var Z=fa[ia];if(R>=Z.zoomMin&&R<=Z.zoomMax&&(Z=Z.bbox,Z=[Z[1],Z[0],Z[3],Z[2]],Z=(0,H.applyTransform)(Z,
O),(0,H.intersects)(Z,M.extent))){ja=!0;break}}ja&&F.push(T.attribution)});F.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return F}.bind(this))}this.setState(w["default"].READY)}};return f}(Ia["default"]);E["default"]=A};
shadow$provide[273]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(w){return w&&w.__esModule?w:{"default":w}}(A(270));var k=A(266),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):
(x.prototype=N.prototype,new x)}}();A=function(w){function H(N){N=N||{};var x=void 0!==N.projection?N.projection:"EPSG:3857",v=void 0!==N.tileGrid?N.tileGrid:(0,k.createXYZ)({extent:(0,k.extentFromProjection)(x),maxResolution:N.maxResolution,maxZoom:N.maxZoom,minZoom:N.minZoom,tileSize:N.tileSize});return w.call(this,{attributions:N.attributions,cacheSize:N.cacheSize,crossOrigin:N.crossOrigin,imageSmoothing:N.imageSmoothing,opaque:N.opaque,projection:x,reprojectionErrorThreshold:N.reprojectionErrorThreshold,
tileGrid:v,tileLoadFunction:N.tileLoadFunction,tilePixelRatio:N.tilePixelRatio,tileUrlFunction:N.tileUrlFunction,url:N.url,urls:N.urls,wrapX:void 0!==N.wrapX?N.wrapX:!0,transition:N.transition,attributionsCollapsible:N.attributionsCollapsible,zDirection:N.zDirection})||this}l(H,w);return H}(Ia["default"]);E["default"]=A};
shadow$provide[274]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(93));Ia=k(A(273));var w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=N.call(this,{attributions:v.attributions,cacheSize:v.cacheSize,crossOrigin:v.crossOrigin,maxZoom:void 0!==v.maxZoom?v.maxZoom:18,minZoom:v.minZoom,projection:v.projection,transition:v.transition,wrapX:v.wrapX})||this;u.account_=v.account;u.mapId_=v.map||"";u.config_=v.config||{};u.templateCache_={};u.initializeMap_();return u}H(x,N);x.prototype.getConfig=function(){return this.config_};x.prototype.updateConfig=
function(v){(0,w.assign)(this.config_,v);this.initializeMap_()};x.prototype.setConfig=function(v){this.config_=v||{};this.initializeMap_()};x.prototype.initializeMap_=function(){var v=JSON.stringify(this.config_);if(this.templateCache_[v])this.applyTemplate_(this.templateCache_[v]);else{var u="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(u+="/named/"+this.mapId_);var m=new XMLHttpRequest;m.addEventListener("load",this.handleInitResponse_.bind(this,v));m.addEventListener("error",this.handleInitError_.bind(this));
m.open("POST",u);m.setRequestHeader("Content-type","application/json");m.send(JSON.stringify(this.config_))}};x.prototype.handleInitResponse_=function(v,u){u=u.target;if(!u.status||200<=u.status&&300>u.status){var m=void 0;try{m=JSON.parse(u.responseText)}catch(g){this.setState(l["default"].ERROR);return}this.applyTemplate_(m);this.templateCache_[v]=m;this.setState(l["default"].READY)}else this.setState(l["default"].ERROR)};x.prototype.handleInitError_=function(v){this.setState(l["default"].ERROR)};
x.prototype.applyTemplate_=function(v){this.setUrl("https://"+v.cdn_url.https+"/"+this.account_+"/api/v1/map/"+v.layergroupid+"/{z}/{x}/{y}.png")};return x}(Ia["default"]);E["default"]=A};
shadow$provide[275]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(86)),w=k(A(188)),H=k(A(117)),N=k(A(143));Ia=k(A(240));var x=A(96),v=A(74),u=A(78),m=A(72),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;e.resolution=void 0;e.distance=void 0!==a.distance?a.distance:20;e.features=[];e.geometryFunction=a.geometryFunction||function(n){n=n.getGeometry();(0,v.assert)(n.getType()==H["default"].POINT,10);return n};e.boundRefresh_=e.refresh.bind(e);e.setSource(a.source||null);return e}g(f,d);f.prototype.clear=function(a){this.features.length=
0;d.prototype.clear.call(this,a)};f.prototype.getDistance=function(){return this.distance};f.prototype.getSource=function(){return this.source};f.prototype.loadFeatures=function(a,e,n){this.source.loadFeatures(a,e,n);e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))};f.prototype.setDistance=function(a){this.distance=a;this.refresh()};f.prototype.setSource=function(a){this.source&&this.source.removeEventListener(l["default"].CHANGE,this.boundRefresh_);
(this.source=a)&&a.addEventListener(l["default"].CHANGE,this.boundRefresh_);this.refresh()};f.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features)};f.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,u.createEmpty)(),e=this.distance*this.resolution,n=this.source.getFeatures(),y={},B=0,D=n.length;B<D;B++){var O=n[B];(0,m.getUid)(O)in y||!(O=this.geometryFunction(O))||(O=O.getCoordinates(),(0,u.createOrUpdateFromCoordinate)(O,a),(0,
u.buffer)(a,e,a),O=this.source.getFeaturesInExtent(a),O=O.filter(function(M){M=(0,m.getUid)(M);return M in y?!1:y[M]=!0}),this.features.push(this.createCluster(O)))}};f.prototype.createCluster=function(a){for(var e=[0,0],n=a.length-1;0<=n;--n){var y=this.geometryFunction(a[n]);y?(0,x.add)(e,y.getCoordinates()):a.splice(n,1)}(0,x.scale)(e,1/a.length);e=new w["default"](new N["default"](e));e.set("features",a);return e};return f}(Ia["default"]);E["default"]=A};
shadow$provide[276]=function(Ia,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CustomTile=void 0;var l=A(121);Ia=k(A(254));var w=k(A(265));rb=k(A(270));var H=k(A(115)),N=A(74),x=A(101),v=A(268),u=A(78),m=A(152),g=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,
e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d=function(f){function a(e,n,y,B,D,O,M){n=f.call(this,n,y,B,D,O,M)||this;n.zoomifyImage_=null;n.tileSize_=e;return n}g(a,f);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=f.prototype.getImage.call(this);if(this.state==H["default"].LOADED){var n=this.tileSize_;if(e.width==n[0]&&e.height==n[1])return this.zoomifyImage_=e;n=(0,
x.createCanvasContext2D)(n[0],n[1]);n.drawImage(e,0,0);return this.zoomifyImage_=n.canvas}return e};return a}(Ia["default"]);E.CustomTile=d;A=function(f){function a(e){var n=this,y=e.size;n=e.tilePixelRatio||1;var B=y[0],D=y[1],O=[],M=e.tileSize||l.DEFAULT_TILE_SIZE;y=M*n;switch(void 0!==e.tierSizeCalculation?e.tierSizeCalculation:"default"){case "default":for(;B>y||D>y;)O.push([Math.ceil(B/y),Math.ceil(D/y)]),y+=y;break;case "truncated":for(var F=B,z=D;F>y||z>y;)O.push([Math.ceil(F/y),Math.ceil(z/
y)]),F>>=1,z>>=1;break;default:(0,N.assert)(!1,53)}O.push([1,1]);O.reverse();y=[n];var G=[0];F=1;for(z=O.length;F<z;F++)y.push(n<<F),G.push(O[F-1][0]*O[F-1][1]+G[F-1]);y.reverse();B=new w["default"]({tileSize:M,extent:e.extent||[0,-D,B,0],resolutions:y});(D=e.url)&&-1==D.indexOf("{TileGroup}")&&-1==D.indexOf("{tileIndex}")&&(D+="{TileGroup}/{z}-{x}-{y}.jpg");D=(0,v.expandUrl)(D);var K=M*n;D=(0,v.createFromTileUrlFunctions)(D.map(function(R){return function(T,ja,fa){if(T){ja=T[0];fa=T[1];T=T[2];var ia=
fa+T*O[ja][0],la={z:ja,x:fa,y:T,tileIndex:ia,TileGroup:"TileGroup"+((ia+G[ja])/K|0)};return R.replace(/\{(\w+?)\}/g,function(Z,P){return la[P]})}}}));F=d.bind(null,(0,m.toSize)(M*n));n=f.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,tilePixelRatio:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:F,tileGrid:B,tileUrlFunction:D,transition:e.transition})||this;n.zDirection=e.zDirection;
e=B.getTileCoordForCoordAndResolution((0,u.getCenter)(B.getExtent()),y[y.length-1]);e=D(e,1,null);y=new Image;y.addEventListener("error",function(){K=M;this.changed()}.bind(n));y.src=e;return n}g(a,f);return a}(rb["default"]);E["default"]=A};
shadow$provide[277]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Versions=void 0;var k=A(74),l=function(){for(var m=0,g=0,d=arguments.length;g<d;g++)m+=arguments[g].length;m=Array(m);var f=0;for(g=0;g<d;g++)for(var a=arguments[g],e=0,n=a.length;e<n;e++,f++)m[f]=a[e];return m},w={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};E.Versions=w;var H={};H[w.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};H[w.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};H[w.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};H.none={none:{supports:[],formats:[],qualities:[]}};var N=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
x=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,v=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,u={};u[w.VERSION1]=function(m){var g=m.getComplianceLevelSupportedFeatures();void 0===g&&(g=H[w.VERSION1].level0);return{url:void 0===m.imageInfo["@id"]?void 0:m.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:g.supports,formats:l(g.formats,[void 0===m.imageInfo.formats?[]:m.imageInfo.formats]),qualities:l(g.qualities,[void 0===m.imageInfo.qualities?
[]:m.imageInfo.qualities]),resolutions:m.imageInfo.scale_factors,tileSize:void 0!==m.imageInfo.tile_width?void 0!==m.imageInfo.tile_height?[m.imageInfo.tile_width,m.imageInfo.tile_height]:[m.imageInfo.tile_width,m.imageInfo.tile_width]:void 0!=m.imageInfo.tile_height?[m.imageInfo.tile_height,m.imageInfo.tile_height]:void 0}};u[w.VERSION2]=function(m){var g=m.getComplianceLevelSupportedFeatures(),d=Array.isArray(m.imageInfo.profile)&&1<m.imageInfo.profile.length,f=d&&m.imageInfo.profile[1].supports?
m.imageInfo.profile[1].supports:[],a=d&&m.imageInfo.profile[1].formats?m.imageInfo.profile[1].formats:[];d=d&&m.imageInfo.profile[1].qualities?m.imageInfo.profile[1].qualities:[];return{url:m.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===m.imageInfo.sizes?void 0:m.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===m.imageInfo.tiles?void 0:[m.imageInfo.tiles.map(function(e){return e.width})[0],m.imageInfo.tiles.map(function(e){return void 0===e.height?
e.width:e.height})[0]],resolutions:void 0===m.imageInfo.tiles?void 0:m.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:l(g.supports,f),formats:l(g.formats,a),qualities:l(g.qualities,d)}};u[w.VERSION3]=function(m){var g=m.getComplianceLevelSupportedFeatures(),d=void 0===m.imageInfo.extraFormats?g.formats:l(g.formats,m.imageInfo.extraFormats),f=void 0!==m.imageInfo.preferredFormats&&Array.isArray(m.imageInfo.preferredFormats)&&0<m.imageInfo.preferredFormats.length?m.imageInfo.preferredFormats.filter(function(a){return["jpg",
"png","gif"].includes(a)}).reduce(function(a,e){return void 0===a&&d.includes(e)?e:a},void 0):void 0;return{url:m.imageInfo.id,sizes:void 0===m.imageInfo.sizes?void 0:m.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:void 0===m.imageInfo.tiles?void 0:[m.imageInfo.tiles.map(function(a){return a.width})[0],m.imageInfo.tiles.map(function(a){return a.height})[0]],resolutions:void 0===m.imageInfo.tiles?void 0:m.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:void 0===
m.imageInfo.extraFeatures?g.supports:l(g.supports,m.imageInfo.extraFeatures),formats:d,qualities:void 0===m.imageInfo.extraQualities?g.qualities:l(g.qualities,m.imageInfo.extraQualities),preferredFormat:f}};Ia=function(){function m(g){this.setImageInfo(g)}m.prototype.setImageInfo=function(g){this.imageInfo="string"==typeof g?JSON.parse(g):g};m.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var g=this.imageInfo["@context"]||"ol-no-context";"string"==typeof g&&(g=[g]);for(var d=
0;d<g.length;d++)switch(g[d]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return w.VERSION1;case "http://iiif.io/api/image/2/context.json":return w.VERSION2;case "http://iiif.io/api/image/3/context.json":return w.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(w.VERSION1)&&this.imageInfo.identifier)return w.VERSION1}(0,k.assert)(!1,61)}};m.prototype.getComplianceLevelEntryFromProfile=function(g){if(void 0!==
this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===g&&(g=this.getImageApiVersion()),g){case w.VERSION1:if(N.test(this.imageInfo.profile))return this.imageInfo.profile;break;case w.VERSION3:if(v.test(this.imageInfo.profile))return this.imageInfo.profile;break;case w.VERSION2:if("string"===typeof this.imageInfo.profile&&x.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&
x.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};m.prototype.getComplianceLevelFromProfile=function(g){g=this.getComplianceLevelEntryFromProfile(g);if(void 0!==g)return g=g.match(/level[0-2](?:\.json)?$/g),Array.isArray(g)?g[0].replace(".json",""):void 0};m.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var g=this.getImageApiVersion(),d=this.getComplianceLevelFromProfile(g);return void 0===d?H.none.none:H[g][d]}};m.prototype.getTileSourceOptions=
function(g){g=g||{};var d=this.getImageApiVersion();if(void 0!==d){var f=void 0===d?void 0:u[d](this);if(void 0!==f)return{url:f.url,version:d,size:[this.imageInfo.width,this.imageInfo.height],sizes:f.sizes,format:void 0!==g.format&&f.formats.includes(g.format)?g.format:void 0!==f.preferredFormat?f.preferredFormat:"jpg",supports:f.supports,quality:g.quality&&f.qualities.includes(g.quality)?g.quality:f.qualities.includes("native")?"native":"default",resolutions:Array.isArray(f.resolutions)?f.resolutions.sort(function(a,
e){return e-a}):void 0,tileSize:f.tileSize}}};return m}();E["default"]=Ia};
shadow$provide[278]=function(Ia,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(d){return d.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(265));Ia=k(A(270));var H=A(276),N=A(121),x=A(277),v=A(74),u=A(78),m=A(152),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,
y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=this;a=a||{};var n=a.url||"";n+=n.lastIndexOf("/")===n.length-1||""===n?"":"/";var y=a.version||x.Versions.VERSION2,B=a.sizes||[];e=a.size;(0,v.assert)(void 0!=e&&Array.isArray(e)&&2==e.length&&!isNaN(e[0])&&0<e[0]&&!isNaN(e[1])&&0<e[1],60);var D=e[0],O=e[1];e=a.tileSize;var M=a.tilePixelRatio||1,F=a.format||
"jpg",z=a.quality||(a.version==x.Versions.VERSION1?"native":"default"),G=a.resolutions||[],K=a.supports||[],R=a.extent||[0,-O,D,0],T=void 0!=B&&Array.isArray(B)&&0<B.length,ja=void 0!==e&&("number"===typeof e&&Number.isInteger(e)&&0<e||Array.isArray(e)&&0<e.length),fa=void 0!=K&&Array.isArray(K)&&(K.includes("regionByPx")||K.includes("regionByPct"))&&(K.includes("sizeByWh")||K.includes("sizeByH")||K.includes("sizeByW")||K.includes("sizeByPct")),ia,la;G.sort(function(ha,aa){return aa-ha});if(ja||fa){if(void 0!=
e)if("number"===typeof e&&Number.isInteger(e)&&0<e)var Z=ia=e;else if(Array.isArray(e)&&0<e.length){if(1==e.length||void 0==e[1]&&Number.isInteger(e[0]))ia=e[0],Z=e[0];2==e.length&&(Number.isInteger(e[0])&&Number.isInteger(e[1])?(ia=e[0],Z=e[1]):void 0==e[0]&&Number.isInteger(e[1])&&(ia=e[1],Z=e[1]))}if(void 0===ia||void 0===Z)Z=ia=N.DEFAULT_TILE_SIZE;if(0==G.length)for(var P=la=Math.max(Math.ceil(Math.log(D/ia)/Math.LN2),Math.ceil(Math.log(O/Z)/Math.LN2));0<=P;P--)G.push(Math.pow(2,P));else P=Math.max.apply(Math,
G),la=Math.round(Math.log(P)/Math.LN2)}else if(ia=D,Z=O,G=[],T){B.sort(function(ha,aa){return ha[0]-aa[0]});la=-1;var C=[];for(P=0;P<B.length;P++){var V=D/B[P][0];0<G.length&&G[G.length-1]==V?C.push(P):(G.push(V),la++)}if(0<C.length)for(P=0;P<C.length;P++)B.splice(C[P]-P,1)}else G.push(1),B.push([D,O]),la=0;R=new w["default"]({tileSize:[ia,Z],extent:R,origin:(0,u.getTopLeft)(R),resolutions:G});e=H.CustomTile.bind(null,(0,m.toSize)(e||256).map(function(ha){return ha*M}));e=d.call(this,{attributions:a.attributions,
attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,imageSmoothing:a.imageSmoothing,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:a.state,tileClass:e,tileGrid:R,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:function(ha,aa,ta){var wa;aa=ha[0];if(!(aa>la)){ta=ha[1];var Ha=ha[2];ha=G[aa];if(!(void 0===ta||void 0===Ha||void 0===ha||0>ta||Math.ceil(D/ha/ia)<=ta||0>Ha||Math.ceil(O/ha/Z)<=Ha)){if(fa||ja){var bb=ta*ia*
ha,kb=Ha*Z*ha,va=ia*ha;Ha=Z*ha;aa=ia;ta=Z;bb+va>D&&(va=D-bb);kb+Ha>O&&(Ha=O-kb);bb+ia*ha>D&&(aa=Math.floor((D-bb+ha-1)/ha));kb+Z*ha>O&&(ta=Math.floor((O-kb+ha-1)/ha));if(0==bb&&va==D&&0==kb&&Ha==O)var Ta="full";else!fa||K.includes("regionByPx")?Ta=bb+","+kb+","+va+","+Ha:K.includes("regionByPct")&&(Ta=l(bb/D*100),bb=l(kb/O*100),va=l(va/D*100),Ha=l(Ha/O*100),Ta="pct:"+Ta+","+bb+","+va+","+Ha);y!=x.Versions.VERSION3||fa&&!K.includes("sizeByWh")?!fa||K.includes("sizeByW")?wa=aa+",":K.includes("sizeByH")?
wa=","+ta:K.includes("sizeByWh")?wa=aa+","+ta:K.includes("sizeByPct")&&(wa="pct:"+l(100/ha)):wa=aa+","+ta}else Ta="full",T?(wa=B[aa][0],ha=B[aa][1],wa=y==x.Versions.VERSION3?wa==D&&ha==O?"max":wa+","+ha:wa==D?"full":wa+","):wa=y==x.Versions.VERSION3?"max":"full";return n+Ta+"/"+wa+"/0/"+z+"."+F}}},transition:a.transition})||this;e.zDirection=a.zDirection;return e}g(f,d);return f}(Ia["default"]);E["default"]=A};
shadow$provide[279]=function(Ia,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=A(255),w=k(A(86));Ia=k(A(225));var H=k(A(197)),N=k(A(256)),x=A(258),v=A(78),u=A(87),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f,a,e,n,y,B,D){var O,M=f.getExtent(),F=(O=a.getExtent())?(0,v.getIntersection)(e,O):e;O=(0,v.getCenter)(F);O=(0,x.calculateSourceResolution)(f,a,O,n);f=new N["default"](f,a,F,M,O*l.ERROR_THRESHOLD,n);F=f.calculateSourceExtent();O=(y=B(F,O,y))?H["default"].IDLE:H["default"].EMPTY;B=y?y.getPixelRatio():1;O=g.call(this,e,n,B,O)||this;O.targetProj_=a;O.maxSourceExtent_=M;O.triangulation_=f;O.targetResolution_=
n;O.targetExtent_=e;O.sourceImage_=y;O.sourcePixelRatio_=B;O.contextOptions_=D;O.canvas_=null;O.sourceListenerKey_=null;return O}m(d,g);d.prototype.disposeInternal=function(){this.state==H["default"].LOADING&&this.unlistenSource_();g.prototype.disposeInternal.call(this)};d.prototype.getImage=function(){return this.canvas_};d.prototype.getProjection=function(){return this.targetProj_};d.prototype.reproject_=function(){var f=this.sourceImage_.getState();if(f==H["default"].LOADED){var a=(0,v.getWidth)(this.targetExtent_)/
this.targetResolution_,e=(0,v.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,x.render)(a,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=f;this.changed()};d.prototype.load=function(){if(this.state==H["default"].IDLE){this.state=H["default"].LOADING;this.changed();var f=
this.sourceImage_.getState();f==H["default"].LOADED||f==H["default"].ERROR?this.reproject_():(this.sourceListenerKey_=(0,u.listen)(this.sourceImage_,w["default"].CHANGE,function(a){a=this.sourceImage_.getState();if(a==H["default"].LOADED||a==H["default"].ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};d.prototype.unlistenSource_=function(){(0,u.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null};return d}(Ia["default"]);E["default"]=A};
shadow$provide[280]=function(Ia,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E.defaultImageLoadFunction=function(a,e){a.getImage().src=e};E["default"]=E.ImageSourceEvent=E.ImageSourceEventType=void 0;Ia=k(A(82));var l=k(A(197)),w=k(A(279));rb=k(A(236));var H=A(255),N=A(257),x=A(72),v=A(78),u=A(128),m=A(70),g=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,B){y.__proto__=B}||function(y,
B){for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(y[D]=B[D])};return a(e,n)};return function(e,n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}(),d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};E.ImageSourceEventType=d;var f=function(a){function e(n,y){n=a.call(this,n)||this;n.image=y;return n}g(e,a);return e}(Ia["default"]);E.ImageSourceEvent=f;A=function(a){function e(n){var y=
a.call(this,{attributions:n.attributions,projection:n.projection,state:n.state})||this;y.resolutions_=void 0!==n.resolutions?n.resolutions:null;y.reprojectedImage_=null;y.reprojectedRevision_=0;y.contextOptions_=!1===n.imageSmoothing?N.IMAGE_SMOOTHING_DISABLED:void 0;return y}g(e,a);e.prototype.getResolutions=function(){return this.resolutions_};e.prototype.getContextOptions=function(){return this.contextOptions_};e.prototype.findNearestResolution=function(n){this.resolutions_&&(n=(0,m.linearFindNearest)(this.resolutions_,
n,0),n=this.resolutions_[n]);return n};e.prototype.getImage=function(n,y,B,D){var O=this.getProjection();if(H.ENABLE_RASTER_REPROJECTION&&O&&D&&!(0,u.equivalent)(O,D)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,u.equivalent)(this.reprojectedImage_.getProjection(),D)&&this.reprojectedImage_.getResolution()==y&&(0,v.equals)(this.reprojectedImage_.getExtent(),n))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=
new w["default"](O,D,n,y,B,function(M,F,z){return this.getImageInternal(M,F,z,O)}.bind(this),this.contextOptions_);this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}O&&(D=O);return this.getImageInternal(n,y,B,D)};e.prototype.getImageInternal=function(n,y,B,D){return(0,x["abstract"])()};e.prototype.handleImageChange=function(n){n=n.target;switch(n.getState()){case l["default"].LOADING:this.loading=!0;this.dispatchEvent(new f(d.IMAGELOADSTART,n));break;case l["default"].LOADED:this.loading=
!1;this.dispatchEvent(new f(d.IMAGELOADEND,n));break;case l["default"].ERROR:this.loading=!1,this.dispatchEvent(new f(d.IMAGELOADERROR,n))}};return e}(rb["default"]);E["default"]=A};
shadow$provide[281]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.appendParams=function(k,l){var w=[];Object.keys(l).forEach(function(N){null!==l[N]&&void 0!==l[N]&&w.push(N+"\x3d"+encodeURIComponent(l[N]))});var H=w.join("\x26");k=k.replace(/[?&]$/,"");k=-1===k.indexOf("?")?k+"?":k+"\x26";return k+H}};
shadow$provide[282]=function(Ia,A,rb,E){function k(f){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return k(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}function w(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var B=n?Object.getOwnPropertyDescriptor(f,y):null;B&&(B.get||B.set)?Object.defineProperty(e,y,B):e[y]=f[y]}e["default"]=f;a&&a.set(f,e);return e}(A(280)),x=w(A(226)),v=A(281),u=A(74),m=A(84),g=A(78),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ia=function(f){function a(e){var n=e?e:{};e=f.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||
this;e.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;e.hidpi_=void 0!==n.hidpi?n.hidpi:!0;e.url_=n.url;e.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:N.defaultImageLoadFunction;e.params_=n.params||{};e.image_=null;e.imageSize_=[0,0];e.renderedRevision_=0;e.ratio_=void 0!==n.ratio?n.ratio:1.5;return e}d(a,f);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(e,n,y,B){if(void 0===this.url_)return null;n=this.findNearestResolution(n);
y=this.hidpi_?y:1;var D=this.image_;if(D&&this.renderedRevision_==this.getRevision()&&D.getResolution()==n&&D.getPixelRatio()==y&&(0,g.containsExtent)(D.getExtent(),e))return D;D={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,m.assign)(D,this.params_);e=e.slice();var O=(e[0]+e[2])/2,M=(e[1]+e[3])/2;if(1!=this.ratio_){var F=this.ratio_*(0,g.getWidth)(e)/2,z=this.ratio_*(0,g.getHeight)(e)/2;e[0]=O-F;e[1]=M-z;e[2]=O+F;e[3]=M+z}F=n/y;z=Math.ceil((0,g.getWidth)(e)/F);var G=Math.ceil((0,g.getHeight)(e)/F);
e[0]=O-F*z/2;e[2]=O+F*z/2;e[1]=M-F*G/2;e[3]=M+F*G/2;this.imageSize_[0]=z;this.imageSize_[1]=G;B=this.getRequestUrl_(e,this.imageSize_,y,B,D);this.image_=new x["default"](e,n,y,B,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(H["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.getRequestUrl_=function(e,n,y,B,D){B=B.getCode().split(":").pop();
D.SIZE=n[0]+","+n[1];D.BBOX=e.join(",");D.BBOXSR=B;D.IMAGESR=B;D.DPI=Math.round(90*y);e=this.url_;n=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");n==e&&(0,u.assert)(!1,50);return(0,v.appendParams)(n,D)};a.prototype.getUrl=function(){return this.url_};a.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};a.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())};a.prototype.updateParams=
function(e){(0,m.assign)(this.params_,e);this.image_=null;this.changed()};return a}(N["default"]);E["default"]=Ia};
shadow$provide[283]=function(Ia,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(225));var l=k(A(197)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x,v,u,m,g){x=H.call(this,x,v,u,void 0!==g?l["default"].IDLE:l["default"].LOADED)||this;x.loader_=void 0!==g?g:null;x.canvas_=m;x.error_=null;return x}w(N,H);N.prototype.getError=function(){return this.error_};N.prototype.handleLoad_=function(x){x?(this.error_=x,this.state=l["default"].ERROR):this.state=l["default"].LOADED;this.changed()};N.prototype.load=function(){this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),
this.loader_(this.handleLoad_.bind(this)))};N.prototype.getImage=function(){return this.canvas_};return N}(Ia["default"]);E["default"]=A};
shadow$provide[284]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(283));Ia=k(A(280));var w=A(78),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,{attributions:u.attributions,imageSmoothing:u.imageSmoothing,projection:u.projection,resolutions:u.resolutions,state:u.state})||this;v.canvasFunction_=u.canvasFunction;v.canvas_=null;v.renderedRevision_=0;v.ratio_=void 0!==u.ratio?u.ratio:1.5;return v}H(x,N);x.prototype.getImageInternal=function(v,u,m,g){u=this.findNearestResolution(u);var d=this.canvas_;if(d&&this.renderedRevision_==this.getRevision()&&
d.getResolution()==u&&d.getPixelRatio()==m&&(0,w.containsExtent)(d.getExtent(),v))return d;v=v.slice();(0,w.scaleFromCenter)(v,this.ratio_);var f=(0,w.getWidth)(v)/u,a=(0,w.getHeight)(v)/u;(g=this.canvasFunction_.call(this,v,u,m,[f*m,a*m],g))&&(d=new l["default"](v,u,m,g));this.canvas_=d;this.renderedRevision_=this.getRevision();return d};return x}(Ia["default"]);E["default"]=A};
shadow$provide[285]=function(Ia,A,rb,E){function k(d){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return k(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function w(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==k(d)&&"function"!==typeof d)return{"default":d};var f=l();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var y=e?Object.getOwnPropertyDescriptor(d,n):null;y&&(y.get||y.set)?Object.defineProperty(a,n,y):a[n]=d[n]}a["default"]=d;f&&f.set(d,a);return a}(A(280)),x=w(A(226)),v=A(281),u=A(84),m=A(78),g=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ia=function(d){function f(a){var e=d.call(this,{imageSmoothing:a.imageSmoothing,projection:a.projection,resolutions:a.resolutions})||this;e.crossOrigin_=void 0!==a.crossOrigin?
a.crossOrigin:null;e.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96;e.params_=a.params||{};e.url_=a.url;e.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:N.defaultImageLoadFunction;e.hidpi_=void 0!==a.hidpi?a.hidpi:!0;e.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1;e.ratio_=void 0!==a.ratio?a.ratio:1;e.useOverlay_=void 0!==a.useOverlay?a.useOverlay:!1;e.image_=null;e.renderedRevision_=0;return e}g(f,d);f.prototype.getParams=function(){return this.params_};f.prototype.getImageInternal=
function(a,e,n,y){e=this.findNearestResolution(e);n=this.hidpi_?n:1;var B=this.image_;if(B&&this.renderedRevision_==this.getRevision()&&B.getResolution()==e&&B.getPixelRatio()==n&&(0,m.containsExtent)(B.getExtent(),a))return B;1!=this.ratio_&&(a=a.slice(),(0,m.scaleFromCenter)(a,this.ratio_));B=(0,m.getWidth)(a)/e;var D=(0,m.getHeight)(a)/e;B=[B*n,D*n];void 0!==this.url_?(y=this.getUrl(this.url_,this.params_,a,B,y),B=new x["default"](a,e,n,y,this.crossOrigin_,this.imageLoadFunction_),B.addEventListener(H["default"].CHANGE,
this.handleImageChange.bind(this))):B=null;this.image_=B;this.renderedRevision_=this.getRevision();return B};f.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};f.prototype.updateParams=function(a){(0,u.assign)(this.params_,a);this.changed()};f.prototype.getUrl=function(a,e,n,y,B){B=this.metersPerUnit_;var D=this.displayDpi_,O=(0,m.getWidth)(n),M=(0,m.getHeight)(n),F=y[0],z=y[1];D=.0254/D;B=z*O>F*M?O*B/(F*D):M*B/(z*D);n=(0,m.getCenter)(n);y={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":
"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(y[0]),SETDISPLAYHEIGHT:Math.round(y[1]),SETVIEWSCALE:B,SETVIEWCENTERX:n[0],SETVIEWCENTERY:n[1]};(0,u.assign)(y,e);return(0,v.appendParams)(a,y)};f.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};return f}(N["default"]);E["default"]=Ia};
shadow$provide[286]=function(Ia,A,rb,E){function k(a){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return k(a)}function l(){if("function"!==typeof WeakMap)return null;var a=new WeakMap;l=function(){return a};return a}function w(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==k(a)&&"function"!==typeof a)return{"default":a};var e=l();if(e&&e.has(a))return e.get(a);var n={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor,B;for(B in a)if(Object.prototype.hasOwnProperty.call(a,B)){var D=y?Object.getOwnPropertyDescriptor(a,B):null;D&&(D.get||D.set)?Object.defineProperty(n,B,D):n[B]=a[B]}n["default"]=a;e&&e.set(a,n);return n}(A(280)),x=w(A(197)),v=w(A(226)),u=A(84),m=A(101),g=A(78),d=A(128),
f=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,B){y.__proto__=B}||function(y,B){for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(y[D]=B[D])};return a(e,n)};return function(e,n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}();Ia=function(a){function e(n){var y=void 0!==n.crossOrigin?n.crossOrigin:null,B=void 0!==n.imageLoadFunction?n.imageLoadFunction:N.defaultImageLoadFunction;
var D=a.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:(0,d.get)(n.projection)})||this;D.url_=n.url;D.imageExtent_=n.imageExtent;D.image_=new v["default"](D.imageExtent_,void 0,1,D.url_,y,B);D.imageSize_=n.imageSize?n.imageSize:null;D.image_.addEventListener(H["default"].CHANGE,D.handleImageChange.bind(D));return D}f(e,a);e.prototype.getImageExtent=function(){return this.imageExtent_};e.prototype.getImageInternal=function(n,y,B,D){return(0,g.intersects)(n,this.image_.getExtent())?
this.image_:null};e.prototype.getUrl=function(){return this.url_};e.prototype.handleImageChange=function(n){if(this.image_.getState()==x["default"].LOADED){var y=this.image_.getExtent(),B=this.image_.getImage();if(this.imageSize_){var D=this.imageSize_[0];var O=this.imageSize_[1]}else D=B.width,O=B.height;var M=(0,g.getHeight)(y)/O;y=Math.ceil((0,g.getWidth)(y)/M);y!=D&&(y=(0,m.createCanvasContext2D)(y,O),(0,u.assign)(y,this.getContextOptions()),M=y.canvas,y.drawImage(B,0,0,D,O,0,0,M.width,M.height),
this.image_.setImage(M))}a.prototype.handleImageChange.call(this,n)};return e}(N["default"]);E["default"]=Ia};
shadow$provide[287]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[288]=function(Ia,A,rb,E){function k(D){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"===typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};return k(D)}function l(){if("function"!==typeof WeakMap)return null;var D=new WeakMap;l=function(){return D};return D}function w(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=A(257),N=w(A(86)),x=function(D){if(D&&D.__esModule)return D;if(null===D||"object"!==k(D)&&"function"!==typeof D)return{"default":D};var O=l();if(O&&O.has(D))return O.get(D);var M={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in D)if(Object.prototype.hasOwnProperty.call(D,z)){var G=F?Object.getOwnPropertyDescriptor(D,z):null;G&&(G.get||G.set)?Object.defineProperty(M,z,G):M[z]=D[z]}M["default"]=D;O&&O.set(D,M);return M}(A(280)),v=w(A(226)),u=w(A(287)),m=A(281),g=A(74),d=
A(84),f=A(258),a=A(95),e=A(78),n=A(128),y=function(){var D=function(O,M){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,z){F.__proto__=z}||function(F,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(F[G]=z[G])};return D(O,M)};return function(O,M){function F(){this.constructor=O}D(O,M);O.prototype=null===M?Object.create(M):(F.prototype=M.prototype,new F)}}(),B=[101,101];Ia=function(D){function O(M){var F=M?M:{};M=D.call(this,{attributions:F.attributions,imageSmoothing:F.imageSmoothing,
projection:F.projection,resolutions:F.resolutions})||this;M.crossOrigin_=void 0!==F.crossOrigin?F.crossOrigin:null;M.url_=F.url;M.imageLoadFunction_=void 0!==F.imageLoadFunction?F.imageLoadFunction:x.defaultImageLoadFunction;M.params_=F.params||{};M.v13_=!0;M.updateV13_();M.serverType_=F.serverType;M.hidpi_=void 0!==F.hidpi?F.hidpi:!0;M.image_=null;M.imageSize_=[0,0];M.renderedRevision_=0;M.ratio_=void 0!==F.ratio?F.ratio:1.5;return M}y(O,D);O.prototype.getFeatureInfoUrl=function(M,F,z,G){if(void 0!==
this.url_){z=(0,n.get)(z);var K=this.getProjection();K&&K!==z&&(F=(0,f.calculateSourceResolution)(K,z,M,F),M=(0,n.transform)(M,z,K));var R=(0,e.getForViewAndSize)(M,F,0,B),T={SERVICE:"WMS",VERSION:H.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,d.assign)(T,this.params_,G);G=Math.floor((R[3]-M[1])/F);T[this.v13_?"I":"X"]=Math.floor((M[0]-R[0])/F);T[this.v13_?"J":"Y"]=G;return this.getRequestUrl_(R,B,1,K||z,T)}};O.prototype.getLegendUrl=
function(M,F){if(void 0!==this.url_){var z={SERVICE:"WMS",VERSION:H.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===F||void 0===F.LAYER){var G=this.params_.LAYERS;if(Array.isArray(G)&&1!==G.length)return;z.LAYER=G}void 0!==M&&(G=this.getProjection()?this.getProjection().getMetersPerUnit():1,z.SCALE=M*G/2.8E-4);(0,d.assign)(z,F);return(0,m.appendParams)(this.url_,z)}};O.prototype.getParams=function(){return this.params_};O.prototype.getImageInternal=function(M,F,z,G){if(void 0===
this.url_)return null;F=this.findNearestResolution(F);1==z||this.hidpi_&&void 0!==this.serverType_||(z=1);var K=F/z,R=(0,e.getCenter)(M),T=Math.ceil((0,e.getWidth)(M)/K),ja=Math.ceil((0,e.getHeight)(M)/K);T=(0,e.getForViewAndSize)(R,K,0,[T,ja]);ja=Math.ceil(this.ratio_*(0,e.getWidth)(M)/K);M=Math.ceil(this.ratio_*(0,e.getHeight)(M)/K);R=(0,e.getForViewAndSize)(R,K,0,[ja,M]);if((M=this.image_)&&this.renderedRevision_==this.getRevision()&&M.getResolution()==F&&M.getPixelRatio()==z&&(0,e.containsExtent)(M.getExtent(),
T))return M;T={SERVICE:"WMS",VERSION:H.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,d.assign)(T,this.params_);this.imageSize_[0]=Math.round((0,e.getWidth)(R)/K);this.imageSize_[1]=Math.round((0,e.getHeight)(R)/K);G=this.getRequestUrl_(R,this.imageSize_,z,G,T);this.image_=new v["default"](R,F,z,G,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(N["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};
O.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};O.prototype.getRequestUrl_=function(M,F,z,G,K){(0,g.assert)(void 0!==this.url_,9);K[this.v13_?"CRS":"SRS"]=G.getCode();"STYLES"in this.params_||(K.STYLES="");if(1!=z)switch(this.serverType_){case u["default"].GEOSERVER:z=90*z+.5|0;K.FORMAT_OPTIONS="FORMAT_OPTIONS"in K?K.FORMAT_OPTIONS+(";dpi:"+z):"dpi:"+z;break;case u["default"].MAPSERVER:K.MAP_RESOLUTION=90*z;break;case u["default"].CARMENTA_SERVER:case u["default"].QGIS:K.DPI=
90*z;break;default:(0,g.assert)(!1,8)}K.WIDTH=F[0];K.HEIGHT=F[1];F=G.getAxisOrientation();M=this.v13_&&"ne"==F.substr(0,2)?[M[1],M[0],M[3],M[2]]:M;K.BBOX=M.join(",");return(0,m.appendParams)(this.url_,K)};O.prototype.getUrl=function(){return this.url_};O.prototype.setImageLoadFunction=function(M){this.image_=null;this.imageLoadFunction_=M;this.changed()};O.prototype.setUrl=function(M){M!=this.url_&&(this.url_=M,this.image_=null,this.changed())};O.prototype.updateParams=function(M){(0,d.assign)(this.params_,
M);this.updateV13_();this.image_=null;this.changed()};O.prototype.updateV13_=function(){var M=this.params_.VERSION||H.DEFAULT_WMS_VERSION;this.v13_=0<=(0,a.compareVersions)(M,"1.3")};return O}(x["default"]);E["default"]=Ia};
shadow$provide[289]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ATTRIBUTION=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(273));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):
(N.prototype=H.prototype,new N)}}();E.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';Ia=function(l){function w(H){H=H||{};return l.call(this,{attributions:void 0!==H.attributions?H.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],attributionsCollapsible:!1,cacheSize:H.cacheSize,crossOrigin:void 0!==H.crossOrigin?
H.crossOrigin:"anonymous",imageSmoothing:H.imageSmoothing,maxZoom:void 0!==H.maxZoom?H.maxZoom:19,opaque:void 0!==H.opaque?H.opaque:!0,reprojectionErrorThreshold:H.reprojectionErrorThreshold,tileLoadFunction:H.tileLoadFunction,transition:H.transition,url:void 0!==H.url?H.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:H.wrapX})||this}k(w,l);return w}(Ia["default"]);E["default"]=Ia};
shadow$provide[290]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(l){return l&&l.__esModule?l:{"default":l}}(A(94));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ia=function(l){function w(H){return l.call(this,H?H:{})||this}k(w,l);return w}(Ia["default"]);E["default"]=Ia};
shadow$provide[291]=function(Ia,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(217));var l=k(A(119)),w=A(255),H=A(84),N=A(75),x=A(78),v=A(102),u=A(128),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){f=g.call(this,f)||this;f.image_=null;return f}m(d,g);d.prototype.getImage=function(){return this.image_?this.image_.getImage():null};d.prototype.prepareFrame=function(f){var a=f.layerStatesArray[f.layerIndex],e=f.pixelRatio,n=f.viewState,y=n.resolution,B=this.getLayer().getSource(),D=f.viewHints;f=f.extent;void 0!==a.extent&&(f=(0,x.getIntersection)(f,(0,u.fromUserExtent)(a.extent,n.projection)));
D[l["default"].ANIMATING]||D[l["default"].INTERACTING]||(0,x.isEmpty)(f)||(B?(a=n.projection,w.ENABLE_RASTER_REPROJECTION||(n=B.getProjection())&&(a=n),(e=B.getImage(f,y,e,a))&&this.loadImage(e)&&(this.image_=e)):this.image_=null);return!!this.image_};d.prototype.renderFrame=function(f,a){var e=this.image_,n=e.getExtent(),y=e.getResolution(),B=e.getPixelRatio(),D=f.layerStatesArray[f.layerIndex],O=f.pixelRatio,M=f.viewState,F=M.center,z=f.size,G=O*y/(M.resolution*B),K=Math.round(z[0]*O),R=Math.round(z[1]*
O);if(z=M.rotation){var T=Math.round(Math.sqrt(K*K+R*R));R=K=T}(0,N.compose)(this.pixelTransform,f.size[0]/2,f.size[1]/2,1/O,1/O,z,-K/2,-R/2);(0,N.makeInverse)(this.inversePixelTransform,this.pixelTransform);z=(0,v.createTransformString)(this.pixelTransform);this.useContainer(a,z,D.opacity);a=this.context;T=a.canvas;T.width!=K||T.height!=R?(T.width=K,T.height=R):this.containerReused||a.clearRect(0,0,K,R);var ja=!1;D.extent&&(M=(0,u.fromUserExtent)(D.extent,M.projection),(ja=!(0,x.containsExtent)(M,
f.extent)&&(0,x.intersects)(M,f.extent))&&this.clipUnrotated(a,f,M));e=e.getImage();n=(0,N.compose)(this.tempTransform,K/2,R/2,G,G,0,B*(n[0]-F[0])/y,B*(F[1]-n[3])/y);this.renderedResolution=y*O/B;y=n[4];B=n[5];O=e.width*n[0];n=e.height*n[3];(0,H.assign)(a,this.getLayer().getSource().getContextOptions());this.preRender(a,f);.5<=O&&.5<=n&&(D=D.opacity,F=void 0,1!==D&&(F=this.context.globalAlpha,this.context.globalAlpha=D),this.context.drawImage(e,0,0,+e.width,+e.height,Math.round(y),Math.round(B),Math.round(O),
Math.round(n)),1!==D&&(this.context.globalAlpha=F));this.postRender(a,f);ja&&a.restore();z!==T.style.transform&&(T.style.transform=z);return this.container};return d}(Ia["default"]);E["default"]=A};
shadow$provide[292]=function(Ia,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(290));var l=k(A(291)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){return H.call(this,x)||this}w(N,H);N.prototype.createRenderer=function(){return new l["default"](this)};return N}(Ia["default"]);E["default"]=A};
shadow$provide[293]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[294]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(94));var l=k(A(293)),w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){v=v?v:{};var u=(0,w.assign)({},v);delete u.preload;delete u.useInterimTilesOnError;u=N.call(this,u)||this;u.setPreload(void 0!==v.preload?v.preload:0);u.setUseInterimTilesOnError(void 0!==v.useInterimTilesOnError?v.useInterimTilesOnError:!0);return u}H(x,N);x.prototype.getPreload=function(){return this.get(l["default"].PRELOAD)};x.prototype.setPreload=function(v){this.set(l["default"].PRELOAD,v)};x.prototype.getUseInterimTilesOnError=
function(){return this.get(l["default"].USE_INTERIM_TILES_ON_ERROR)};x.prototype.setUseInterimTilesOnError=function(v){this.set(l["default"].USE_INTERIM_TILES_ON_ERROR,v)};return x}(Ia["default"]);E["default"]=A};
shadow$provide[295]=function(Ia,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(217));var l=k(A(264)),w=k(A(115)),H=A(75),N=A(84),x=A(78),v=A(102),u=A(128),m=A(72),g=A(70),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,e){function n(){this.constructor=
a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){e=f.call(this,e)||this;e.extentChanged=!0;e.renderedExtent_=null;e.renderedProjection=null;e.renderedTiles=[];e.newTiles_=!1;e.tmpExtent=(0,x.createEmpty)();e.tmpTileRange_=new l["default"](0,0,0,0);return e}d(a,f);a.prototype.isDrawableTile=function(e){var n=this.getLayer();e=e.getState();n=n.getUseInterimTilesOnError();return e==w["default"].LOADED||e==w["default"].EMPTY||e==w["default"].ERROR&&
!n};a.prototype.getTile=function(e,n,y,B){var D=B.pixelRatio,O=B.viewState.projection;B=this.getLayer();e=B.getSource().getTile(e,n,y,D,O);e.getState()==w["default"].ERROR&&(B.getUseInterimTilesOnError()?0<B.getPreload()&&(this.newTiles_=!0):e.setState(w["default"].LOADED));this.isDrawableTile(e)||(e=e.getInterimTile());return e};a.prototype.loadedTileCallback=function(e,n,y){return this.isDrawableTile(y)?f.prototype.loadedTileCallback.call(this,e,n,y):!1};a.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()};
a.prototype.renderFrame=function(e,n){var y=e.layerStatesArray[e.layerIndex],B=e.viewState,D=B.projection,O=B.resolution,M=B.center,F=B.rotation;B=e.pixelRatio;var z=this.getLayer(),G=z.getSource(),K=G.getRevision(),R=G.getTileGridForProjection(D),T=R.getZForResolution(O,G.zDirection),ja=R.getResolution(T),fa=e.extent,ia=y.extent&&(0,u.fromUserExtent)(y.extent,D);ia&&(fa=(0,x.getIntersection)(fa,(0,u.fromUserExtent)(y.extent,D)));var la=G.getTilePixelRatio(B),Z=Math.round(e.size[0]*la),P=Math.round(e.size[1]*
la);if(F){var C=Math.round(Math.sqrt(Z*Z+P*P));P=Z=C}C=ja*Z/2/la;var V=ja*P/2/la;M=[M[0]-C,M[1]-V,M[0]+C,M[1]+V];var ha=R.getTileRangeForExtentAndZ(fa,T);C={};C[T]={};var aa=this.createLoadedTileFinder(G,D,C),ta=this.tmpExtent,wa=this.tmpTileRange_;this.newTiles_=!1;for(var Ha=ha.minX;Ha<=ha.maxX;++Ha)for(var bb=ha.minY;bb<=ha.maxY;++bb){V=this.getTile(T,Ha,bb,e);if(this.isDrawableTile(V)){var kb=(0,m.getUid)(this);if(V.getState()==w["default"].LOADED){C[T][V.tileCoord.toString()]=V;var va=V.inTransition(kb);
this.newTiles_||!va&&-1!==this.renderedTiles.indexOf(V)||(this.newTiles_=!0)}if(1===V.getAlpha(kb,e.time))continue}va=R.getTileCoordChildTileRange(V.tileCoord,wa,ta);kb=!1;va&&(kb=aa(T+1,va));kb||R.forEachTileCoordParentTileRange(V.tileCoord,aa,wa,ta)}O=ja/O;(0,H.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/la,1/la,F,-Z/2,-P/2);F=(0,v.createTransformString)(this.pixelTransform);this.useContainer(n,F,y.opacity);n=this.context;ha=n.canvas;(0,H.makeInverse)(this.inversePixelTransform,this.pixelTransform);
(0,H.compose)(this.tempTransform,Z/2,P/2,O,O,0,-Z/2,-P/2);ha.width!=Z||ha.height!=P?(ha.width=Z,ha.height=P):this.containerReused||n.clearRect(0,0,Z,P);ia&&this.clipUnrotated(n,e,ia);(0,N.assign)(n,G.getContextOptions());this.preRender(n,e);this.renderedTiles.length=0;ia=Object.keys(C).map(Number);ia.sort(g.numberSafeCompareFunction);if(1!==y.opacity||this.containerReused&&!G.getOpaque(e.viewState.projection)){var Ta=[];var Ya=[]}else ia=ia.reverse();for(Z=ia.length-1;0<=Z;--Z){P=ia[Z];V=G.getTilePixelSize(P,
B,D);Ha=R.getResolution(P)/ja;aa=V[0]*Ha*O;ta=V[1]*Ha*O;wa=R.getTileCoordForCoordAndZ((0,x.getTopLeft)(M),P);V=R.getTileCoordExtent(wa);kb=(0,H.apply)(this.tempTransform,[la*(V[0]-M[0])/ja,la*(M[3]-V[3])/ja]);var Ca=la*G.getGutterForProjection(D),ua=C[P],U;for(U in ua){V=ua[U];bb=V.tileCoord;Ha=kb[0]-(wa[1]-bb[1])*aa;va=Math.round(Ha+aa);bb=kb[1]-(wa[2]-bb[2])*ta;var W=Math.round(bb+ta);Ha=Math.round(Ha);bb=Math.round(bb);var ba=va-Ha,ca=W-bb,ra=T===P;va=ra&&1!==V.getAlpha((0,m.getUid)(this),e.time);
if(!va)if(Ta){n.save();W=[Ha,bb,Ha+ba,bb,Ha+ba,bb+ca,Ha,bb+ca];for(var qa=0,Da=Ta.length;qa<Da;++qa)if(T!==P&&P<Ya[qa]){var na=Ta[qa];n.beginPath();n.moveTo(W[0],W[1]);n.lineTo(W[2],W[3]);n.lineTo(W[4],W[5]);n.lineTo(W[6],W[7]);n.moveTo(na[6],na[7]);n.lineTo(na[4],na[5]);n.lineTo(na[2],na[3]);n.lineTo(na[0],na[1]);n.clip()}Ta.push(W);Ya.push(P)}else n.clearRect(Ha,bb,ba,ca);this.drawTileImage(V,e,Ha,bb,ba,ca,Ca,ra,y.opacity);Ta&&!va&&n.restore();this.renderedTiles.push(V);this.updateUsedTiles(e.usedTiles,
G,V)}}this.renderedRevision=K;this.renderedResolution=ja;this.extentChanged=!this.renderedExtent_||!(0,x.equals)(this.renderedExtent_,M);this.renderedExtent_=M;this.renderedPixelRatio=B;this.renderedProjection=D;this.manageTilePyramid(e,G,R,B,D,fa,T,z.getPreload());this.scheduleExpireCache(e,G);this.postRender(n,e);y.extent&&n.restore();F!==ha.style.transform&&(ha.style.transform=F);return this.container};a.prototype.drawTileImage=function(e,n,y,B,D,O,M,F,z){var G=this.getTileImage(e);if(G){var K=
(0,m.getUid)(this),R=F?e.getAlpha(K,n.time):1;z*=R;var T=z!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=z);this.context.drawImage(G,M,M,G.width-2*M,G.height-2*M,y,B,D,O);T&&this.context.restore();1!==R?n.animate=!0:F&&e.endTransition(K)}};a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null};a.prototype.getTileImage=function(e){return e.getImage()};a.prototype.scheduleExpireCache=function(e,n){n.canExpireCache()&&(n=function(y,B,D){B=(0,m.getUid)(y);
B in D.usedTiles&&y.expireCache(D.viewState.projection,D.usedTiles[B])}.bind(null,n),e.postRenderFunctions.push(n))};a.prototype.updateUsedTiles=function(e,n,y){n=(0,m.getUid)(n);n in e||(e[n]={});e[n][y.getKey()]=!0};a.prototype.manageTilePyramid=function(e,n,y,B,D,O,M,F,z){var G=(0,m.getUid)(n);G in e.wantedTiles||(e.wantedTiles[G]={});var K=e.wantedTiles[G];e=e.tileQueue;var R=0,T,ja,fa;for(fa=y.getMinZoom();fa<=M;++fa){var ia=y.getTileRangeForExtentAndZ(O,fa,ia);var la=y.getResolution(fa);for(T=
ia.minX;T<=ia.maxX;++T)for(ja=ia.minY;ja<=ia.maxY;++ja)if(M-fa<=F){++R;var Z=n.getTile(fa,T,ja,B,D);Z.getState()==w["default"].IDLE&&(K[Z.getKey()]=!0,e.isKeyQueued(Z.getKey())||e.enqueue([Z,G,y.getTileCoordCenter(Z.tileCoord),la]));void 0!==z&&z(Z)}else n.useTile(fa,T,ja,D)}n.updateCacheSize(R,D)};return a}(Ia["default"]);E["default"]=A};
shadow$provide[296]=function(Ia,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(294));var l=k(A(295)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){return H.call(this,x)||this}w(N,H);N.prototype.createRenderer=function(){return new l["default"](this)};return N}(Ia["default"]);E["default"]=A};
shadow$provide[297]=function(Ia,A,rb,E){function k(fa){return fa&&fa.__esModule?fa:{"default":fa}}function l(fa,ia,la){if(G)return new ImageData(fa,ia,la);ia=K.createImageData(ia,la);ia.data.set(fa);return ia}function w(fa){var ia=!0;try{new ImageData(10,10)}catch(la){ia=!1}return function(la){var Z=la.buffers,P=la.meta,C=la.width,V=la.height,ha=Z.length,aa=Z[0].byteLength;if(la.imageOps){aa=Array(ha);for(la=0;la<ha;++la){var ta=la;var wa=new Uint8ClampedArray(Z[la]);var Ha=C,bb=V;wa=ia?new ImageData(wa,
Ha,bb):{data:wa,width:Ha,height:bb};aa[ta]=wa}C=fa(aa,P).data}else{C=new Uint8ClampedArray(aa);V=Array(ha);ta=Array(ha);for(la=0;la<ha;++la)V[la]=new Uint8ClampedArray(Z[la]),ta[la]=[0,0,0,0];for(Z=0;Z<aa;Z+=4){for(la=0;la<ha;++la)wa=V[la],ta[la][0]=wa[Z],ta[la][1]=wa[Z+1],ta[la][2]=wa[Z+2],ta[la][3]=wa[Z+3];la=fa(ta,P);C[Z]=la[0];C[Z+1]=la[1];C[Z+2]=la[2];C[Z+3]=la[3]}}return C.buffer}}function H(fa,ia){var la=Object.keys(fa.lib||{}).map(function(Z){return"var "+Z+" \x3d "+fa.lib[Z].toString()+";"}).concat(["var __minion__ \x3d ("+
w.toString()+")(",fa.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);la=new Blob(la,{type:"text/javascript"});la=URL.createObjectURL(la);la=new Worker(la);la.addEventListener("message",ia);return la}function N(fa,ia){var la=w(fa.operation),Z=!1;return{postMessage:function(P){setTimeout(function(){Z||ia({data:{buffer:la(P),meta:P.meta}})},0)},terminate:function(){Z=
!0}}}function x(fa,ia){var la=fa.getRenderer();if(!la)throw Error("Unsupported layer type: "+fa);if(!la.prepareFrame(ia))return null;fa=ia.size[0];var Z=ia.size[1];if(0===fa||0===Z)return null;ia=la.renderFrame(ia,null);if(ia)var P=ia.firstElementChild;if(!(P instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+P);if(P.width===fa&&P.height===Z)return P.getContext("2d").getImageData(0,0,fa,Z);ja?(ia=ja.canvas,ia.width!==fa||ia.height!==Z?ja=(0,O.createCanvasContext2D)(fa,Z):ja.clearRect(0,
0,fa,Z)):ja=(0,O.createCanvasContext2D)(fa,Z);ja.drawImage(P,0,0,fa,Z);return ja.getImageData(0,0,fa,Z)}function v(fa){return fa.map(function(ia){return ia.getLayerState()})}function u(fa){for(var ia=fa.length,la=Array(ia),Z=0;Z<ia;++Z){var P=Z,C=void 0,V=fa[Z];V instanceof a["default"]?V instanceof B["default"]?C=new n["default"]({source:V}):V instanceof f["default"]&&(C=new d["default"]({source:V})):C=V;la[P]=C}return la}Object.defineProperty(E,"__esModule",{value:!0});E.newImageData=l;E["default"]=
E.RasterSourceEvent=E.Processor=void 0;Ia=k(A(69));rb=k(A(82));var m=k(A(86)),g=k(A(283)),d=k(A(292)),f=k(A(280)),a=k(A(236)),e=k(A(93)),n=k(A(296)),y=k(A(116)),B=k(A(267)),D=A(84),O=A(101),M=A(75),F=A(78),z=function(){var fa=function(ia,la){fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,P){Z.__proto__=P}||function(Z,P){for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(Z[C]=P[C])};return fa(ia,la)};return function(ia,la){function Z(){this.constructor=ia}fa(ia,la);ia.prototype=
null===la?Object.create(la):(Z.prototype=la.prototype,new Z)}}(),G=!0;try{new ImageData(10,10)}catch(fa){G=!1}var K=document.createElement("canvas").getContext("2d"),R=function(fa){function ia(la){var Z=fa.call(this)||this;Z._imageOps=!!la.imageOps;var P=0===la.threads?0:Z._imageOps?1:la.threads||1;var C=[];if(P)for(var V=0;V<P;++V)C[V]=H(la,Z._onWorkerMessage.bind(Z,V));else C[0]=N(la,Z._onWorkerMessage.bind(Z,0));Z._workers=C;Z._queue=[];Z._maxQueueLength=la.queue||Infinity;Z._running=0;Z._dataLookup=
{};Z._job=null;return Z}z(ia,fa);ia.prototype.process=function(la,Z,P){this._enqueue({inputs:la,meta:Z,callback:P});this._dispatch()};ia.prototype._enqueue=function(la){for(this._queue.push(la);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};ia.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var la=this._queue.shift();this._job=la;var Z=la.inputs[0].width,P=la.inputs[0].height,C=la.inputs.map(function(kb){return kb.data.buffer}),V=this._workers.length;
this._running=V;if(1===V)this._workers[0].postMessage({buffers:C,meta:la.meta,imageOps:this._imageOps,width:Z,height:P},C);else for(var ha=4*Math.ceil(la.inputs[0].data.length/4/V),aa=0;aa<V;++aa){for(var ta=aa*ha,wa=[],Ha=0,bb=C.length;Ha<bb;++Ha)wa.push(C[Ha].slice(ta,ta+ha));this._workers[aa].postMessage({buffers:wa,meta:la.meta,imageOps:this._imageOps,width:Z,height:P},wa)}}};ia.prototype._onWorkerMessage=function(la,Z){this.disposed||(this._dataLookup[la]=Z.data,--this._running,0===this._running&&
this._resolveJob())};ia.prototype._resolveJob=function(){var la=this._job,Z=this._workers.length;if(1===Z){var P=new Uint8ClampedArray(this._dataLookup[0].buffer);var C=this._dataLookup[0].meta}else{var V=la.inputs[0].data.length;P=new Uint8ClampedArray(V);C=Array(V);V=4*Math.ceil(V/4/Z);for(var ha=0;ha<Z;++ha){var aa=ha*V;P.set(new Uint8ClampedArray(this._dataLookup[ha].buffer),aa);C[ha]=this._dataLookup[ha].meta}}this._job=null;this._dataLookup={};la.callback(null,l(P,la.inputs[0].width,la.inputs[0].height),
C);this._dispatch()};ia.prototype.disposeInternal=function(){for(var la=0;la<this._workers.length;++la)this._workers[la].terminate();this._workers.length=0};return ia}(Ia["default"]);E.Processor=R;var T=function(fa){function ia(la,Z,P){la=fa.call(this,la)||this;la.extent=Z.extent;la.resolution=Z.viewState.resolution/Z.pixelRatio;la.data=P;return la}z(ia,fa);return ia}(rb["default"]);E.RasterSourceEvent=T;A=function(fa){function ia(la){var Z=fa.call(this,{projection:null})||this;Z.processor_=null;
Z.operationType_=void 0!==la.operationType?la.operationType:"pixel";Z.threads_=void 0!==la.threads?la.threads:1;Z.layers_=u(la.sources);for(var P=Z.changed.bind(Z),C=0,V=Z.layers_.length;C<V;++C)Z.layers_[C].addEventListener(m["default"].CHANGE,P);Z.tileQueue_=new y["default"](function(){return 1},Z.changed.bind(Z));Z.renderedImageCanvas_=null;Z.frameState_={animate:!1,coordinateToPixelTransform:(0,M.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:v(Z.layers_),pixelRatio:1,
pixelToCoordinateTransform:(0,M.create)(),postRenderFunctions:[],size:[0,0],tileQueue:Z.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};Z.setAttributions(function(ha){for(var aa=[],ta=0,wa=la.sources.length;ta<wa;++ta){var Ha=la.sources[ta];Ha=(Ha instanceof a["default"]?Ha:Ha.getSource()).getAttributions();"function"===typeof Ha&&(Ha=Ha(ha),aa.push.apply(aa,Ha))}return 0!==aa.length?aa:null});void 0!==la.operation&&Z.setOperation(la.operation,la.lib);return Z}
z(ia,fa);ia.prototype.setOperation=function(la,Z){this.processor_&&this.processor_.dispose();this.processor_=new R({operation:la,imageOps:"image"===this.operationType_,queue:1,lib:Z,threads:this.threads_});this.changed()};ia.prototype.updateFrameState_=function(la,Z,P){var C=(0,D.assign)({},this.frameState_);C.viewState=(0,D.assign)({},C.viewState);var V=(0,F.getCenter)(la);C.extent=la.slice();C.size[0]=Math.round((0,F.getWidth)(la)/Z);C.size[1]=Math.round((0,F.getHeight)(la)/Z);C.time=Infinity;la=
C.viewState;la.center=V;la.projection=P;la.resolution=Z;return C};ia.prototype.allSourcesReady_=function(){for(var la=!0,Z,P=0,C=this.layers_.length;P<C;++P)if(Z=this.layers_[P].getSource(),Z.getState()!==e["default"].READY){la=!1;break}return la};ia.prototype.getImage=function(la,Z,P,C){if(!this.allSourcesReady_())return null;this.requestedFrameState_=P=this.updateFrameState_(la,Z,C);if(this.renderedImageCanvas_){C=this.renderedImageCanvas_.getResolution();var V=this.renderedImageCanvas_.getExtent();
Z===C&&(0,F.equals)(la,V)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();P.tileQueue.loadMoreTiles(16,16);P.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};ia.prototype.processSources_=function(){for(var la=this.requestedFrameState_,Z=this.layers_.length,P=Array(Z),C=0;C<Z;++C){la.layerIndex=C;var V=x(this.layers_[C],la);if(V)P[C]=V;else return}Z={};this.dispatchEvent(new T("beforeoperations",
la,Z));this.processor_.process(P,Z,this.onWorkerComplete_.bind(this,la))};ia.prototype.onWorkerComplete_=function(la,Z,P,C){if(!Z&&P){Z=la.extent;var V=la.viewState.resolution;if(V===this.requestedFrameState_.viewState.resolution&&(0,F.equals)(Z,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var ha=this.renderedImageCanvas_.getImage().getContext("2d");else{ha=Math.round((0,F.getWidth)(Z)/V);var aa=Math.round((0,F.getHeight)(Z)/V);ha=(0,O.createCanvasContext2D)(ha,aa);this.renderedImageCanvas_=
new g["default"](Z,V,1,ha.canvas)}ha.putImageData(P,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new T("afteroperations",la,C))}}};ia.prototype.getImageInternal=function(){return null};ia.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();fa.prototype.disposeInternal.call(this)};return ia}(f["default"]);var ja=null;E["default"]=A};
shadow$provide[298]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(N){return N&&N.__esModule?N:{"default":N}}(A(273));A=A(289);var k=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}(),l=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',A.ATTRIBUTION],w={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",
opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},H={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};A=function(N){function x(v){var u=v.layer.indexOf("-");u=-1==u?v.layer:v.layer.slice(0,u);u=H[u];var m=w[v.layer];return N.call(this,{attributions:l,cacheSize:v.cacheSize,crossOrigin:"anonymous",
imageSmoothing:v.imageSmoothing,maxZoom:void 0!=v.maxZoom?v.maxZoom:u.maxZoom,minZoom:void 0!=v.minZoom?v.minZoom:u.minZoom,opaque:m.opaque,reprojectionErrorThreshold:v.reprojectionErrorThreshold,tileLoadFunction:v.tileLoadFunction,transition:v.transition,url:void 0!==v.url?v.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+v.layer+"/{z}/{x}/{y}."+m.extension,wrapX:v.wrapX})||this}k(x,N);return x}(Ia["default"]);E["default"]=A};
shadow$provide[299]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(u){return u&&u.__esModule?u:{"default":u}}(A(270));var k=A(281),l=A(84),w=A(78),H=A(79),N=A(152),x=A(261),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,
g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=g?g:{};g=u.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,imageSmoothing:d.imageSmoothing,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition})||this;g.params_=d.params||{};g.hidpi_=void 0!==
d.hidpi?d.hidpi:!0;g.tmpExtent_=(0,w.createEmpty)();g.setKey(g.getKeyForParams_());return g}v(m,u);m.prototype.getKeyForParams_=function(){var g=0,d=[],f;for(f in this.params_)d[g++]=f+"-"+this.params_[f];return d.join("/")};m.prototype.getParams=function(){return this.params_};m.prototype.getRequestUrl_=function(g,d,f,a,e,n){var y=this.urls;if(y)return e=e.getCode().split(":").pop(),n.SIZE=d[0]+","+d[1],n.BBOX=f.join(","),n.BBOXSR=e,n.IMAGESR=e,n.DPI=Math.round(n.DPI?n.DPI*a:90*a),1==y.length?y=
y[0]:(g=(0,H.modulo)((0,x.hash)(g),y.length),y=y[g]),y=y.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,k.appendParams)(y,n)};m.prototype.getTilePixelRatio=function(g){return this.hidpi_?g:1};m.prototype.updateParams=function(g){(0,l.assign)(this.params_,g);this.setKey(this.getKeyForParams_())};m.prototype.tileUrlFunction=function(g,d,f){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(f));if(!(a.getResolutions().length<=g[0])){1==d||
this.hidpi_||(d=1);var e=a.getTileCoordExtent(g,this.tmpExtent_);a=(0,N.toSize)(a.getTileSize(g[0]),this.tmpSize);1!=d&&(a=(0,N.scale)(a,d,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,l.assign)(n,this.params_);return this.getRequestUrl_(g,a,e,d,f,n)}};return m}(Ia["default"]);E["default"]=A};
shadow$provide[300]=function(Ia,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(253));var l=k(A(115));rb=k(A(273));var w=A(101),H=A(261),N=A(152),x=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=
m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}(),v=function(u){function m(g,d,f){g=u.call(this,g,l["default"].LOADED)||this;g.tileSize_=d;g.text_=f;g.canvas_=null;return g}x(m,u);m.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var g=this.tileSize_,d=(0,w.createCanvasContext2D)(g[0],g[1]);d.strokeStyle="grey";d.strokeRect(.5,.5,g[0]+.5,g[1]+.5);d.fillStyle="grey";d.strokeStyle="white";d.textAlign="center";d.textBaseline="middle";d.font="24px sans-serif";
d.lineWidth=4;d.strokeText(this.text_,g[0]/2,g[1]/2,g[0]);d.fillText(this.text_,g[0]/2,g[1]/2,g[0]);return this.canvas_=d.canvas};m.prototype.load=function(){};return m}(Ia["default"]);A=function(u){function m(g){g=g||{};return u.call(this,{opaque:!1,projection:g.projection,tileGrid:g.tileGrid,wrapX:void 0!==g.wrapX?g.wrapX:!0,zDirection:g.zDirection})||this}x(m,u);m.prototype.getTile=function(g,d,f){var a=(0,H.getKeyZXY)(g,d,f);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var e=
(0,N.toSize)(this.tileGrid.getTileSize(g));g=[g,d,f];d=this.getTileCoordForTileUrlFunction(g);e=new v(g,e,d?"z:"+d[0]+" x:"+d[1]+" y:"+d[2]:"none");this.tileCache.set(a,e);return e};return m}(rb["default"]);E["default"]=A};
shadow$provide[301]=function(Ia,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(93));Ia=k(A(270));var w=A(78),H=A(74),N=A(268),x=A(266),v=A(128),u=A(271),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=g.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:(0,v.get)("EPSG:3857"),reprojectionErrorThreshold:f.reprojectionErrorThreshold,state:l["default"].LOADING,tileLoadFunction:f.tileLoadFunction,wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition})||this;a.tileJSON_=null;a.tileSize_=f.tileSize;if(f.url)if(f.jsonp)(0,
u.jsonp)(f.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var e=new XMLHttpRequest;e.addEventListener("load",a.onXHRLoad_.bind(a));e.addEventListener("error",a.onXHRError_.bind(a));e.open("GET",f.url);e.send()}else f.tileJSON?a.handleTileJSONResponse(f.tileJSON):(0,H.assert)(!1,51);return a}m(d,g);d.prototype.onXHRLoad_=function(f){f=f.target;if(!f.status||200<=f.status&&300>f.status){var a=void 0;try{a=JSON.parse(f.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};
d.prototype.onXHRError_=function(f){this.handleTileJSONError()};d.prototype.getTileJSON=function(){return this.tileJSON_};d.prototype.handleTileJSONResponse=function(f){var a=(0,v.get)("EPSG:4326"),e=this.getProjection();if(void 0!==f.bounds){var n=(0,v.getTransformFromProjections)(a,e);n=(0,w.applyTransform)(f.bounds,n)}var y=f.minzoom||0,B=f.maxzoom||22;this.tileGrid=e=(0,x.createXYZ)({extent:(0,x.extentFromProjection)(e),maxZoom:B,minZoom:y,tileSize:this.tileSize_});this.tileUrlFunction=(0,N.createFromTemplates)(f.tiles,
e);if(void 0!==f.attribution&&!this.getAttributions()){var D=void 0!==n?n:a.getExtent();this.setAttributions(function(O){return(0,w.intersects)(D,O.extent)?[f.attribution]:null})}this.tileJSON_=f;this.setState(l["default"].READY)};d.prototype.handleTileJSONError=function(){this.setState(l["default"].ERROR)};return d}(Ia["default"]);E["default"]=A};
shadow$provide[302]=function(Ia,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=A(257);Ia=k(A(270));var w=k(A(287)),H=A(281),N=A(74),x=A(84),v=A(78),u=A(152),m=A(258),g=A(95),d=A(128),f=A(79),a=A(261),e=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,
B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B){var D=B?B:{},O=D.params||{};B=n.call(this,{attributions:D.attributions,cacheSize:D.cacheSize,crossOrigin:D.crossOrigin,imageSmoothing:D.imageSmoothing,opaque:!("TRANSPARENT"in O?O.TRANSPARENT:1),projection:D.projection,reprojectionErrorThreshold:D.reprojectionErrorThreshold,tileClass:D.tileClass,tileGrid:D.tileGrid,tileLoadFunction:D.tileLoadFunction,
url:D.url,urls:D.urls,wrapX:void 0!==D.wrapX?D.wrapX:!0,transition:D.transition})||this;B.gutter_=void 0!==D.gutter?D.gutter:0;B.params_=O;B.v13_=!0;B.serverType_=D.serverType;B.hidpi_=void 0!==D.hidpi?D.hidpi:!0;B.tmpExtent_=(0,v.createEmpty)();B.updateV13_();B.setKey(B.getKeyForParams_());return B}e(y,n);y.prototype.getFeatureInfoUrl=function(B,D,O,M){O=(0,d.get)(O);var F=this.getProjection(),z=this.getTileGrid();z||(z=this.getTileGridForProjection(O));D=z.getZForResolution(D,this.zDirection);D=
z.getTileCoordForCoordAndZ(B,D);if(!(z.getResolutions().length<=D[0])){var G=z.getResolution(D[0]),K=z.getTileCoordExtent(D,this.tmpExtent_);z=(0,u.toSize)(z.getTileSize(D[0]),this.tmpSize);var R=this.gutter_;0!==R&&(z=(0,u.buffer)(z,R,this.tmpSize),K=(0,v.buffer)(K,G*R,K));F&&F!==O&&(G=(0,m.calculateSourceResolution)(F,O,B,G),K=(0,d.transformExtent)(K,O,F),B=(0,d.transform)(B,O,F));R={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};
(0,x.assign)(R,this.params_,M);M=Math.floor((K[3]-B[1])/G);R[this.v13_?"I":"X"]=Math.floor((B[0]-K[0])/G);R[this.v13_?"J":"Y"]=M;return this.getRequestUrl_(D,z,K,1,F||O,R)}};y.prototype.getLegendUrl=function(B,D){if(void 0!==this.urls[0]){var O={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===D||void 0===D.LAYER){var M=this.params_.LAYERS;if(Array.isArray(M)&&1!==M.length)return;O.LAYER=M}void 0!==B&&(M=this.getProjection()?this.getProjection().getMetersPerUnit():
1,O.SCALE=B*M/2.8E-4);(0,x.assign)(O,D);return(0,H.appendParams)(this.urls[0],O)}};y.prototype.getGutter=function(){return this.gutter_};y.prototype.getParams=function(){return this.params_};y.prototype.getRequestUrl_=function(B,D,O,M,F,z){var G=this.urls;if(G){z.WIDTH=D[0];z.HEIGHT=D[1];z[this.v13_?"CRS":"SRS"]=F.getCode();"STYLES"in this.params_||(z.STYLES="");if(1!=M)switch(this.serverType_){case w["default"].GEOSERVER:D=90*M+.5|0;z.FORMAT_OPTIONS="FORMAT_OPTIONS"in z?z.FORMAT_OPTIONS+(";dpi:"+
D):"dpi:"+D;break;case w["default"].MAPSERVER:z.MAP_RESOLUTION=90*M;break;case w["default"].CARMENTA_SERVER:case w["default"].QGIS:z.DPI=90*M;break;default:(0,N.assert)(!1,52)}F=F.getAxisOrientation();this.v13_&&"ne"==F.substr(0,2)&&(F=O[0],O[0]=O[1],O[1]=F,F=O[2],O[2]=O[3],O[3]=F);z.BBOX=O.join(",");1==G.length?G=G[0]:(B=(0,f.modulo)((0,a.hash)(B),G.length),G=G[B]);return(0,H.appendParams)(G,z)}};y.prototype.getTilePixelRatio=function(B){return this.hidpi_&&void 0!==this.serverType_?B:1};y.prototype.getKeyForParams_=
function(){var B=0,D=[],O;for(O in this.params_)D[B++]=O+"-"+this.params_[O];return D.join("/")};y.prototype.updateParams=function(B){(0,x.assign)(this.params_,B);this.updateV13_();this.setKey(this.getKeyForParams_())};y.prototype.updateV13_=function(){var B=this.params_.VERSION||l.DEFAULT_WMS_VERSION;this.v13_=0<=(0,g.compareVersions)(B,"1.3")};y.prototype.tileUrlFunction=function(B,D,O){var M=this.getTileGrid();M||(M=this.getTileGridForProjection(O));if(!(M.getResolutions().length<=B[0])){1==D||
this.hidpi_&&void 0!==this.serverType_||(D=1);var F=M.getResolution(B[0]),z=M.getTileCoordExtent(B,this.tmpExtent_);M=(0,u.toSize)(M.getTileSize(B[0]),this.tmpSize);var G=this.gutter_;0!==G&&(M=(0,u.buffer)(M,G,this.tmpSize),z=(0,v.buffer)(z,F*G,z));1!=D&&(M=(0,u.scale)(M,D,this.tmpSize));F={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,x.assign)(F,this.params_);return this.getRequestUrl_(B,M,z,D,O,F)}};return y}(Ia["default"]);E["default"]=A};
shadow$provide[303]=function(Ia,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CustomTile=void 0;var l=k(A(86)),w=k(A(93));Ia=k(A(253));rb=k(A(267));var H=k(A(115)),N=A(78),x=A(74),v=A(268),u=A(266),m=A(261),g=A(128),d=A(87),f=A(271),a=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&
(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}(),e=function(n){function y(B,D,O,M,F,z){B=n.call(this,B,D)||this;B.src_=O;B.extent_=M;B.preemptive_=F;B.grid_=null;B.keys_=null;B.data_=null;B.jsonp_=z;return B}a(y,n);y.prototype.getImage=function(){return null};y.prototype.getData=function(B){if(!this.grid_||!this.keys_)return null;var D=this.grid_[Math.floor((1-(B[1]-this.extent_[1])/(this.extent_[3]-
this.extent_[1]))*this.grid_.length)];if("string"!==typeof D)return null;B=D.charCodeAt(Math.floor((B[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*D.length));93<=B&&B--;35<=B&&B--;B-=32;D=null;B in this.keys_&&(B=this.keys_[B],D=this.data_&&B in this.data_?this.data_[B]:B);return D};y.prototype.forDataAtCoordinate=function(B,D,O){this.state==H["default"].EMPTY&&!0===O?(this.state=H["default"].IDLE,(0,d.listenOnce)(this,l["default"].CHANGE,function(M){D(this.getData(B))},this),this.loadInternal_()):
!0===O?setTimeout(function(){D(this.getData(B))}.bind(this),0):D(this.getData(B))};y.prototype.getKey=function(){return this.src_};y.prototype.handleError_=function(){this.state=H["default"].ERROR;this.changed()};y.prototype.handleLoad_=function(B){this.grid_=B.grid;this.keys_=B.keys;this.data_=B.data;this.state=H["default"].LOADED;this.changed()};y.prototype.loadInternal_=function(){if(this.state==H["default"].IDLE)if(this.state=H["default"].LOADING,this.jsonp_)(0,f.jsonp)(this.src_,this.handleLoad_.bind(this),
this.handleError_.bind(this));else{var B=new XMLHttpRequest;B.addEventListener("load",this.onXHRLoad_.bind(this));B.addEventListener("error",this.onXHRError_.bind(this));B.open("GET",this.src_);B.send()}};y.prototype.onXHRLoad_=function(B){B=B.target;if(!B.status||200<=B.status&&300>B.status){var D=void 0;try{D=JSON.parse(B.responseText)}catch(O){this.handleError_();return}this.handleLoad_(D)}else this.handleError_()};y.prototype.onXHRError_=function(B){this.handleError_()};y.prototype.load=function(){this.preemptive_?
this.loadInternal_():this.setState(H["default"].EMPTY)};return y}(Ia["default"]);E.CustomTile=e;A=function(n){function y(B){var D=n.call(this,{projection:(0,g.get)("EPSG:3857"),state:w["default"].LOADING})||this;D.preemptive_=void 0!==B.preemptive?B.preemptive:!0;D.tileUrlFunction_=v.nullTileUrlFunction;D.template_=void 0;D.jsonp_=B.jsonp||!1;if(B.url)if(D.jsonp_)(0,f.jsonp)(B.url,D.handleTileJSONResponse.bind(D),D.handleTileJSONError.bind(D));else{var O=new XMLHttpRequest;O.addEventListener("load",
D.onXHRLoad_.bind(D));O.addEventListener("error",D.onXHRError_.bind(D));O.open("GET",B.url);O.send()}else B.tileJSON?D.handleTileJSONResponse(B.tileJSON):(0,x.assert)(!1,51);return D}a(y,n);y.prototype.onXHRLoad_=function(B){B=B.target;if(!B.status||200<=B.status&&300>B.status){var D=void 0;try{D=JSON.parse(B.responseText)}catch(O){this.handleTileJSONError();return}this.handleTileJSONResponse(D)}else this.handleTileJSONError()};y.prototype.onXHRError_=function(B){this.handleTileJSONError()};y.prototype.getTemplate=
function(){return this.template_};y.prototype.forDataAtCoordinateAndResolution=function(B,D,O,M){this.tileGrid?(D=this.tileGrid.getZForResolution(D,this.zDirection),D=this.tileGrid.getTileCoordForCoordAndZ(B,D),this.getTile(D[0],D[1],D[2],1,this.getProjection()).forDataAtCoordinate(B,O,M)):!0===M?setTimeout(function(){O(null)},0):O(null)};y.prototype.handleTileJSONError=function(){this.setState(w["default"].ERROR)};y.prototype.handleTileJSONResponse=function(B){var D=(0,g.get)("EPSG:4326"),O=this.getProjection();
if(void 0!==B.bounds){var M=(0,g.getTransformFromProjections)(D,O);M=(0,N.applyTransform)(B.bounds,M)}var F=B.minzoom||0,z=B.maxzoom||22;this.tileGrid=O=(0,u.createXYZ)({extent:(0,u.extentFromProjection)(O),maxZoom:z,minZoom:F});this.template_=B.template;if(F=B.grids){this.tileUrlFunction_=(0,v.createFromTemplates)(F,O);if(void 0!==B.attribution){var G=void 0!==M?M:D.getExtent();this.setAttributions(function(K){return(0,N.intersects)(G,K.extent)?[B.attribution]:null})}this.setState(w["default"].READY)}else this.setState(w["default"].ERROR)};
y.prototype.getTile=function(B,D,O,M,F){var z=(0,m.getKeyZXY)(B,D,O);if(this.tileCache.containsKey(z))return this.tileCache.get(z);B=[B,D,O];D=this.getTileCoordForTileUrlFunction(B,F);M=this.tileUrlFunction_(D,M,F);M=new e(B,void 0!==M?H["default"].IDLE:H["default"].EMPTY,void 0!==M?M:"",this.tileGrid.getTileCoordExtent(B),this.preemptive_,this.jsonp_);this.tileCache.set(z,M);return M};y.prototype.useTile=function(B,D,O){B=(0,m.getKeyZXY)(B,D,O);this.tileCache.containsKey(B)&&this.tileCache.get(B)};
return y}(rb["default"]);E["default"]=A};
shadow$provide[304]=function(Ia,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(253));var l=k(A(115)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x,v,u,m,g,d){x=H.call(this,x,v,d)||this;x.extent=null;x.format_=m;x.features_=null;x.projection=null;x.tileLoadFunction_=g;x.url_=u;x.key=u;return x}w(N,H);N.prototype.getFormat=function(){return this.format_};N.prototype.getFeatures=function(){return this.features_};N.prototype.load=function(){this.state==l["default"].IDLE&&(this.setState(l["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,
this.resolution,this.projection))};N.prototype.onLoad=function(x,v){this.setFeatures(x)};N.prototype.onError=function(){this.setState(l["default"].ERROR)};N.prototype.setFeatures=function(x){this.features_=x;this.setState(l["default"].LOADED)};N.prototype.setLoader=function(x){this.loader_=x};return N}(Ia["default"]);E["default"]=A};
shadow$provide[305]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(N){return N&&N.__esModule?N:{"default":N}}(A(253));var k=A(101),l=A(72),w=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}(),H=[];A=function(N){function x(v,u,m,g){v=N.call(this,v,u,{transition:0})||this;v.context_={};v.executorGroups={};v.declutterExecutorGroups={};v.loadingSourceTiles=0;v.errorSourceTileKeys={};v.hitDetectionImageData={};v.replayState_={};v.sourceTiles=null;v.getSourceTiles=g.bind(void 0,v);v.sourceZ=-1;v.hifi=!1;v.wrappedTileCoord=m;return v}w(x,N);x.prototype.getContext=function(v){v=(0,l.getUid)(v);v in this.context_||(this.context_[v]=(0,k.createCanvasContext2D)(1,
1,H));return this.context_[v]};x.prototype.hasContext=function(v){return(0,l.getUid)(v)in this.context_};x.prototype.getImage=function(v){return this.hasContext(v)?this.getContext(v).canvas:null};x.prototype.getReplayState=function(v){v=(0,l.getUid)(v);v in this.replayState_||(this.replayState_[v]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1});return this.replayState_[v]};x.prototype.load=
function(){this.getSourceTiles()};x.prototype.release=function(){for(var v in this.context_)H.push(this.context_[v].canvas),delete this.context_[v];N.prototype.release.call(this)};return x}(Ia["default"]);E["default"]=A};
shadow$provide[306]=function(Ia,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(n,y){n.setLoader(function(B,D,O){(0,f.loadFeaturesXhr)(y,n.getFormat(),B,D,O,n.onLoad.bind(n),n.onError.bind(n))})}Object.defineProperty(E,"__esModule",{value:!0});E.defaultLoadFunction=l;E["default"]=void 0;var w=k(A(86)),H=k(A(304)),N=k(A(262)),x=k(A(115));Ia=k(A(269));var v=k(A(305)),u=A(78),m=A(266),g=A(70),d=A(261),f=A(239),a=A(152),e=function(){var n=function(y,B){n=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B){var D=B.projection||"EPSG:3857";var O=B.extent||(0,m.extentFromProjection)(D);O=B.tileGrid||(0,m.createXYZ)({extent:O,maxResolution:B.maxResolution,maxZoom:void 0!==B.maxZoom?B.maxZoom:
22,minZoom:B.minZoom,tileSize:B.tileSize||512});D=n.call(this,{attributions:B.attributions,attributionsCollapsible:B.attributionsCollapsible,cacheSize:B.cacheSize,opaque:!1,projection:D,state:B.state,tileGrid:O,tileLoadFunction:B.tileLoadFunction?B.tileLoadFunction:l,tileUrlFunction:B.tileUrlFunction,url:B.url,urls:B.urls,wrapX:void 0===B.wrapX?!0:B.wrapX,transition:B.transition,zDirection:void 0===B.zDirection?1:B.zDirection})||this;D.format_=B.format?B.format:null;D.loadingTiles_={};D.sourceTileCache=
new N["default"](D.tileCache.highWaterMark);D.overlaps_=void 0==B.overlaps?!0:B.overlaps;D.tileClass=B.tileClass?B.tileClass:H["default"];D.tileGrids_={};return D}e(y,n);y.prototype.getFeaturesInExtent=function(B){var D=[],O=this.tileCache;if(0===O.getCount())return D;var M=(0,d.fromKey)(O.peekFirstKey())[0],F=this.tileGrid;O.forEach(function(z){if(z.tileCoord[0]===M&&z.getState()===x["default"].LOADED){z=z.getSourceTiles();for(var G=0,K=z.length;G<K;++G){var R=z[G],T=R.tileCoord;if((0,u.intersects)(B,
F.getTileCoordExtent(T))&&(R=R.getFeatures())){T=0;for(var ja=R.length;T<ja;++T){var fa=R[T],ia=fa.getGeometry();(0,u.intersects)(B,ia.getExtent())&&D.push(fa)}}}}});return D};y.prototype.getOverlaps=function(){return this.overlaps_};y.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};y.prototype.expireCache=function(B,D){n.prototype.expireCache.call(this,B,D);this.sourceTileCache.expireCache({})};y.prototype.getSourceTiles=function(B,D,O){var M=O.wrappedTileCoord,F=
this.getTileGridForProjection(D),z=F.getTileCoordExtent(M);M=F.getResolution(M[0]);(0,u.buffer)(z,-M,z);var G=this.tileGrid;(F=G.getExtent())&&(0,u.getIntersection)(z,F,z);var K=G.getZForResolution(M,1);M=G.getMinZoom();F=O.sourceTiles;if(F&&0<F.length&&F[0].tileCoord[0]===K){var R=F;var T=!0;var ja=K}else{R=[];ja=K+1;do--ja,T=!0,G.forEachTileCoord(z,ja,function(fa){var ia=this.tileUrlFunction(fa,B,D);if(void 0!==ia)if(this.sourceTileCache.containsKey(ia)){var la=this.sourceTileCache.get(ia);fa=la.getState();
if(fa===x["default"].LOADED||fa===x["default"].ERROR||fa===x["default"].EMPTY){R.push(la);return}}else ja===K&&(la=new this.tileClass(fa,x["default"].IDLE,ia,this.format_,this.tileLoadFunction),la.extent=G.getTileCoordExtent(fa),la.projection=D,la.resolution=G.getResolution(fa[0]),this.sourceTileCache.set(ia,la),la.addEventListener(w["default"].CHANGE,this.handleTileChange.bind(this)),la.load());T=T&&la&&la.getState()===x["default"].LOADED;la&&la.getState()!==x["default"].EMPTY&&O.getState()===x["default"].IDLE&&
(O.loadingSourceTiles++,la.addEventListener(w["default"].CHANGE,function P(){var C=la.getState(),V=la.getKey();if(C===x["default"].LOADED||C===x["default"].ERROR)C===x["default"].LOADED?(la.removeEventListener(w["default"].CHANGE,P),O.loadingSourceTiles--,delete O.errorSourceTileKeys[V]):C===x["default"].ERROR&&(O.errorSourceTileKeys[V]=!0),C=Object.keys(O.errorSourceTileKeys).length,0===O.loadingSourceTiles-C&&(O.hifi=0===C,O.sourceZ=K,O.setState(x["default"].LOADED))}))}.bind(this)),T||(R.length=
0);while(!T&&ja>M)}O.getState()===x["default"].IDLE&&O.setState(x["default"].LOADING);T&&(O.hifi=K===ja,O.sourceZ=ja,O.getState()<x["default"].LOADED?O.setState(x["default"].LOADED):F&&(0,g.equals)(R,F)||(O.sourceTiles=R));return R};y.prototype.getTile=function(B,D,O,M,F){var z=(0,d.getKeyZXY)(B,D,O),G=this.getKey();if(this.tileCache.containsKey(z)){var K=this.tileCache.get(z);if(K.key===G)return K}D=[B,D,O];O=this.getTileCoordForTileUrlFunction(D,F);var R=this.getTileGrid().getExtent(),T=this.getTileGridForProjection(F);
if(O&&R){var ja=T.getTileCoordExtent(O);(0,u.buffer)(ja,-T.getResolution(B),ja);(0,u.intersects)(R,ja)||(O=null)}var fa=!0;null!==O&&(R=this.tileGrid,B=T.getResolution(B),ja=R.getZForResolution(B,1),T=T.getTileCoordExtent(O),(0,u.buffer)(T,-B,T),R.forEachTileCoord(T,ja,function(ia){fa=fa&&!this.tileUrlFunction(ia,M,F)}.bind(this)));D=new v["default"](D,fa?x["default"].EMPTY:x["default"].IDLE,O,this.getSourceTiles.bind(this,M,F));D.key=G;K?(D.interimTile=K,D.refreshInterimChain(),this.tileCache.replace(z,
D)):this.tileCache.set(z,D);return D};y.prototype.getTileGridForProjection=function(B){var D=B.getCode(),O=this.tileGrids_[D];O||(O=this.tileGrid,O=(0,m.createForProjection)(B,void 0,O?O.getTileSize(O.getMinZoom()):void 0),this.tileGrids_[D]=O);return O};y.prototype.getTilePixelRatio=function(B){return B};y.prototype.getTilePixelSize=function(B,D,O){O=this.getTileGridForProjection(O);B=(0,a.toSize)(O.getTileSize(B),this.tmpSize);return[Math.round(B[0]*D),Math.round(B[1]*D)]};y.prototype.updateCacheSize=
function(B,D){n.prototype.updateCacheSize.call(this,2*B,D)};return y}(Ia["default"]);E["default"]=A};
shadow$provide[307]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={KVP:"KVP",REST:"REST"}};
shadow$provide[308]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createFromCapabilitiesMatrixSet=function(N,x,v){var u=[],m=[],g=[],d=[],f=[],a=void 0!==v?v:[];v=N.SupportedCRS;v=(0,l.get)(v);var e=v.getMetersPerUnit(),n="ne"==v.getAxisOrientation().substr(0,2);N.TileMatrix.sort(function(y,B){return B.ScaleDenominator-y.ScaleDenominator});N.TileMatrix.forEach(function(y){if(0<a.length?(0,k.find)(a,function(M){return y.Identifier==M.TileMatrix?!0:-1===y.Identifier.indexOf(":")?
N.Identifier+":"+y.Identifier===M.TileMatrix:!1}):1){m.push(y.Identifier);var B=2.8E-4*y.ScaleDenominator/e,D=y.TileWidth,O=y.TileHeight;n?g.push([y.TopLeftCorner[1],y.TopLeftCorner[0]]):g.push(y.TopLeftCorner);u.push(B);d.push(D==O?D:[D,O]);f.push([y.MatrixWidth,y.MatrixHeight])}});return new H({extent:x,origins:g,resolutions:u,matrixIds:m,tileSizes:d,sizes:f})};E["default"]=void 0;Ia=function(N){return N&&N.__esModule?N:{"default":N}}(A(265));var k=A(70),l=A(128),w=function(){var N=function(x,v){N=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}(),H=function(N){function x(v){var u=N.call(this,{extent:v.extent,origin:v.origin,origins:v.origins,resolutions:v.resolutions,tileSize:v.tileSize,tileSizes:v.tileSizes,sizes:v.sizes})||
this;u.matrixIds_=v.matrixIds;return u}w(x,N);x.prototype.getMatrixId=function(v){return this.matrixIds_[v]};x.prototype.getMatrixIds=function(){return this.matrixIds_};return x}(Ia["default"]);E["default"]=H};
shadow$provide[309]=function(Ia,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E.optionsFromCapabilities=function(g,d){var f=g.Contents.Layer;f=(0,u.find)(f,function(ja,fa,ia){return ja.Identifier==d.layer});if(null===f)return null;var a=g.Contents.TileMatrixSet;var e=1<f.TileMatrixSetLink.length?"projection"in d?(0,u.findIndex)(f.TileMatrixSetLink,function(ja,fa,ia){fa=(0,u.find)(a,function(Z){return Z.Identifier==ja.TileMatrixSet}).SupportedCRS;
ia=(0,v.get)(fa);var la=(0,v.get)(d.projection);return ia&&la?(0,v.equivalent)(ia,la):fa==d.projection}):(0,u.findIndex)(f.TileMatrixSetLink,function(ja,fa,ia){return ja.TileMatrixSet==d.matrixSet}):0;0>e&&(e=0);var n=f.TileMatrixSetLink[e].TileMatrixSet,y=f.TileMatrixSetLink[e].TileMatrixSetLimits,B=f.Format[0];"format"in d&&(B=d.format);e=(0,u.findIndex)(f.Style,function(ja,fa,ia){return"style"in d?ja.Title==d.style:ja.isDefault});0>e&&(e=0);e=f.Style[e].Identifier;var D={};"Dimension"in f&&f.Dimension.forEach(function(ja,
fa,ia){fa=ja.Identifier;ia=ja.Default;void 0===ia&&(ia=ja.Value[0]);D[fa]=ia});var O=g.Contents.TileMatrixSet,M=(0,u.find)(O,function(ja,fa,ia){return ja.Identifier==n}),F;(O=M.SupportedCRS)&&(F=(0,v.get)(O));"projection"in d&&(O=(0,v.get)(d.projection),!O||F&&!(0,v.equivalent)(O,F)||(F=O));var z="ne"==F.getAxisOrientation().substr(0,2);O=M.TileMatrix[0];var G={MinTileCol:0,MinTileRow:0,MaxTileCol:O.MatrixWidth-1,MaxTileRow:O.MatrixHeight-1};if(y){G=y[y.length-1];var K=(0,u.find)(M.TileMatrix,function(ja){return ja.Identifier===
G.TileMatrix||M.Identifier+":"+ja.Identifier===G.TileMatrix});K&&(O=K)}K=2.8E-4*O.ScaleDenominator/F.getMetersPerUnit();z=z?[O.TopLeftCorner[1],O.TopLeftCorner[0]]:O.TopLeftCorner;var R=O.TileWidth*K;O=O.TileHeight*K;O=[z[0]+R*G.MinTileCol,z[1]-O*(1+G.MaxTileRow),z[0]+R*(1+G.MaxTileCol),z[1]-O*G.MinTileRow];null===F.getExtent()&&F.setExtent(O);y=(0,N.createFromCapabilitiesMatrixSet)(M,O,y);var T=[];O=d.requestEncoding;O=void 0!==O?O:"";if("OperationsMetadata"in g&&"GetTile"in g.OperationsMetadata)for(g=
g.OperationsMetadata.GetTile.DCP.HTTP.Get,K=0,z=g.length;K<z;++K)if(g[K].Constraint)if(R=(0,u.find)(g[K].Constraint,function(ja){return"GetEncoding"==ja.name}).AllowedValues.Value,""===O&&(O=R[0]),O===l["default"].KVP)(0,u.includes)(R,l["default"].KVP)&&T.push(g[K].href);else break;else g[K].href&&(O=l["default"].KVP,T.push(g[K].href));0===T.length&&(O=l["default"].REST,f.ResourceURL.forEach(function(ja){"tile"===ja.resourceType&&(B=ja.format,T.push(ja.template))}));return{urls:T,layer:d.layer,matrixSet:n,
format:B,projection:F,requestEncoding:O,tileGrid:y,style:e,dimensions:D,wrapX:!1,crossOrigin:d.crossOrigin}};E["default"]=void 0;Ia=k(A(270));var l=k(A(307)),w=A(281),H=A(84),N=A(308),x=A(268),v=A(128),u=A(70),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=
null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=void 0!==f.requestEncoding?f.requestEncoding:l["default"].KVP;var e=f.tileGrid;var n=f.urls;void 0===n&&void 0!==f.url&&(n=(0,x.expandUrl)(f.url));e=g.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:f.tileClass,tileGrid:e,tileLoadFunction:f.tileLoadFunction,
tilePixelRatio:f.tilePixelRatio,urls:n,wrapX:void 0!==f.wrapX?f.wrapX:!1,transition:f.transition})||this;e.version_=void 0!==f.version?f.version:"1.0.0";e.format_=void 0!==f.format?f.format:"image/jpeg";e.dimensions_=void 0!==f.dimensions?f.dimensions:{};e.layer_=f.layer;e.matrixSet_=f.matrixSet;e.style_=f.style;e.requestEncoding_=a;e.setKey(e.getKeyForDimensions_());n&&0<n.length&&(e.tileUrlFunction=(0,x.createFromTileUrlFunctions)(n.map(e.createFromWMTSTemplate.bind(e))));return e}m(d,g);d.prototype.setUrls=
function(f){this.urls=f;var a=f.join("\n");this.setTileUrlFunction((0,x.createFromTileUrlFunctions)(f.map(this.createFromWMTSTemplate.bind(this))),a)};d.prototype.getDimensions=function(){return this.dimensions_};d.prototype.getFormat=function(){return this.format_};d.prototype.getLayer=function(){return this.layer_};d.prototype.getMatrixSet=function(){return this.matrixSet_};d.prototype.getRequestEncoding=function(){return this.requestEncoding_};d.prototype.getStyle=function(){return this.style_};
d.prototype.getVersion=function(){return this.version_};d.prototype.getKeyForDimensions_=function(){var f=0,a=[],e;for(e in this.dimensions_)a[f++]=e+"-"+this.dimensions_[e];return a.join("/")};d.prototype.updateDimensions=function(f){(0,H.assign)(this.dimensions_,f);this.setKey(this.getKeyForDimensions_())};d.prototype.createFromWMTSTemplate=function(f){var a=this.requestEncoding_,e={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};a==l["default"].KVP&&(0,H.assign)(e,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});f=a==l["default"].KVP?(0,w.appendParams)(f,e):f.replace(/\{(\w+?)\}/g,function(B,D){return D.toLowerCase()in e?e[D.toLowerCase()]:B});var n=this.tileGrid,y=this.dimensions_;return function(B,D,O){if(B){var M={TileMatrix:n.getMatrixId(B[0]),TileCol:B[1],TileRow:B[2]};(0,H.assign)(M,y);B=f;return B=a==l["default"].KVP?(0,w.appendParams)(B,M):B.replace(/\{(\w+?)\}/g,function(F,z){return M[z]})}}};return d}(Ia["default"]);E["default"]=A};
shadow$provide[310]=function(Ia,A,rb,E){function k(ia){return ia&&ia.__esModule?ia:{"default":ia}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"BingMaps",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"CartoDB",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"Cluster",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"IIIF",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"ImageArcGISRest",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"ImageCanvas",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"ImageMapGuide",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"ImageStatic",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"ImageWMS",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(E,"OSM",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(E,"Raster",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(E,"Source",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(E,"Stamen",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"Tile",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"TileArcGISRest",{enumerable:!0,get:function(){return B["default"]}});
Object.defineProperty(E,"TileDebug",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(E,"TileImage",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,"TileJSON",{enumerable:!0,get:function(){return M["default"]}});Object.defineProperty(E,"TileWMS",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"UrlTile",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(E,"UTFGrid",{enumerable:!0,get:function(){return G["default"]}});
Object.defineProperty(E,"Vector",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty(E,"VectorTile",{enumerable:!0,get:function(){return R["default"]}});Object.defineProperty(E,"WMTS",{enumerable:!0,get:function(){return T["default"]}});Object.defineProperty(E,"XYZ",{enumerable:!0,get:function(){return ja["default"]}});Object.defineProperty(E,"Zoomify",{enumerable:!0,get:function(){return fa["default"]}});var l=k(A(272)),w=k(A(274)),H=k(A(275)),N=k(A(278)),x=k(A(280)),v=k(A(282)),
u=k(A(284)),m=k(A(285)),g=k(A(286)),d=k(A(288)),f=k(A(289)),a=k(A(297)),e=k(A(236)),n=k(A(298)),y=k(A(267)),B=k(A(299)),D=k(A(300)),O=k(A(270)),M=k(A(301)),F=k(A(302)),z=k(A(269)),G=k(A(303)),K=k(A(240)),R=k(A(306)),T=k(A(309)),ja=k(A(273)),fa=k(A(276))};
shadow$provide[311]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.toContext=function(x,v){var u=x.canvas,m=v?v:{};v=m.pixelRatio||l.DEVICE_PIXEL_RATIO;if(m=m.size)u.width=m[0]*v,u.height=m[1]*v,u.style.width=m[0]+"px",u.style.height=m[1]+"px";u=[0,0,u.width,u.height];m=(0,w.scale)((0,w.create)(),v,v);return new k["default"](x,v,u,m,0)};E.getVectorContext=function(x){var v=x.frameState,u=(0,w.multiply)(x.inversePixelTransform.slice(),v.coordinateToPixelTransform),m=(0,H.getSquaredTolerance)(v.viewState.resolution,
v.pixelRatio),g,d=(0,N.getUserProjection)();d&&(g=(0,N.getTransformFromProjections)(d,v.viewState.projection));return new k["default"](x.context,v.pixelRatio,v.extent,u,v.viewState.rotation,m,g)};E.getRenderPixel=function(x,v){v=v.slice(0);(0,w.apply)(x.inversePixelTransform.slice(),v);return v};var k=function(x){return x&&x.__esModule?x:{"default":x}}(A(222)),l=A(100),w=A(75),H=A(232),N=A(128)};
shadow$provide[312]=function(Ia,A,rb,E){function k(H,N,x){for(var v=[],u=H(0),m=H(1),g=N(u),d=N(m),f=[m,u],a=[d,g],e=[1,0],n={},y=1E5,B,D,O,M,F;0<--y&&0<e.length;)O=e.pop(),u=f.pop(),g=a.pop(),m=O.toString(),m in n||(v.push(g[0],g[1]),n[m]=!0),M=e.pop(),m=f.pop(),d=a.pop(),F=(O+M)/2,B=H(F),D=N(B),(0,w.squaredSegmentDistance)(D[0],D[1],g[0],g[1],d[0],d[1])<x?(v.push(d[0],d[1]),m=M.toString(),n[m]=!0):(e.push(M,F,F,O),a.push(d,D,D,g),f.push(m,B,B,u));return v}Object.defineProperty(E,"__esModule",{value:!0});
E.greatCircleArc=function(H,N,x,v,u,m){var g=(0,l.get)("EPSG:4326"),d=Math.cos((0,w.toRadians)(N)),f=Math.sin((0,w.toRadians)(N)),a=Math.cos((0,w.toRadians)(v)),e=Math.sin((0,w.toRadians)(v)),n=Math.cos((0,w.toRadians)(x-H)),y=Math.sin((0,w.toRadians)(x-H)),B=f*e+d*a*n;return k(function(D){if(1<=B)return[x,v];var O=D*Math.acos(B);D=Math.cos(O);var M=Math.sin(O),F=Math.atan2(y*a,d*e-f*a*n);O=Math.asin(f*D+d*M*Math.cos(F));D=(0,w.toRadians)(H)+Math.atan2(Math.sin(F)*M*d,D-f*Math.sin(O));return[(0,w.toDegrees)(D),
(0,w.toDegrees)(O)]},(0,l.getTransform)(g,u),m)};E.meridian=function(H,N,x,v,u){var m=(0,l.get)("EPSG:4326");return k(function(g){return[H,N+(x-N)*g]},(0,l.getTransform)(m,v),u)};E.parallel=function(H,N,x,v,u){var m=(0,l.get)("EPSG:4326");return k(function(g){return[N+(x-N)*g,H]},(0,l.getTransform)(m,v),u)};var l=A(128),w=A(79)};
shadow$provide[313]=function(Ia,A,rb,E){function k(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(105)),w=k(A(92)),H=k(A(188)),N=k(A(202)),x=k(A(133)),v=k(A(191)),u=k(A(143)),m=k(A(203)),g=k(A(204)),d=k(A(229));Ia=k(A(234));var f=k(A(240)),a=A(78),e=A(84),n=A(79),y=A(96),B=A(128),D=A(311),O=A(312),M=function(){var G=function(K,R){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,ja){T.__proto__=ja}||function(T,
ja){for(var fa in ja)Object.prototype.hasOwnProperty.call(ja,fa)&&(T[fa]=ja[fa])};return G(K,R)};return function(K,R){function T(){this.constructor=K}G(K,R);K.prototype=null===R?Object.create(R):(T.prototype=R.prototype,new T)}}(),F=new m["default"]({color:"rgba(0,0,0,0.2)"}),z=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];A=function(G){function K(R){var T=this;R=R?R:{};T=(0,e.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},R);delete T.maxLines;delete T.strokeStyle;
delete T.targetSize;delete T.showLabels;delete T.lonLabelFormatter;delete T.latLabelFormatter;delete T.lonLabelPosition;delete T.latLabelPosition;delete T.lonLabelStyle;delete T.latLabelStyle;delete T.intervals;T=G.call(this,T)||this;T.projection_=null;T.maxLat_=Infinity;T.maxLon_=Infinity;T.minLat_=-Infinity;T.minLon_=-Infinity;T.maxX_=Infinity;T.maxY_=Infinity;T.minX_=-Infinity;T.minY_=-Infinity;T.targetSize_=void 0!==R.targetSize?R.targetSize:100;T.maxLines_=void 0!==R.maxLines?R.maxLines:100;
T.meridians_=[];T.parallels_=[];T.strokeStyle_=void 0!==R.strokeStyle?R.strokeStyle:F;T.fromLonLatTransform_=void 0;T.toLonLatTransform_=void 0;T.projectionCenterLonLat_=null;T.bottomLeft_=null;T.bottomRight_=null;T.topLeft_=null;T.topRight_=null;T.meridiansLabels_=null;T.parallelsLabels_=null;R.showLabels&&(T.lonLabelFormatter_=void 0==R.lonLabelFormatter?y.degreesToStringHDMS.bind(T,"EW"):R.lonLabelFormatter,T.latLabelFormatter_=void 0==R.latLabelFormatter?y.degreesToStringHDMS.bind(T,"NS"):R.latLabelFormatter,
T.lonLabelPosition_=void 0==R.lonLabelPosition?0:R.lonLabelPosition,T.latLabelPosition_=void 0==R.latLabelPosition?1:R.latLabelPosition,T.lonLabelStyleBase_=new g["default"]({text:void 0!==R.lonLabelStyle?R.lonLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new N["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})})}),T.lonLabelStyle_=function(ja){ja=ja.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ja);
return this.lonLabelStyleBase_}.bind(T),T.latLabelStyleBase_=new g["default"]({text:void 0!==R.latLabelStyle?R.latLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new N["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})})}),T.latLabelStyle_=function(ja){ja=ja.get("graticule_label");this.latLabelStyleBase_.getText().setText(ja);return this.latLabelStyleBase_}.bind(T),T.meridiansLabels_=[],T.parallelsLabels_=[],
T.addEventListener(w["default"].POSTRENDER,T.drawLabels_.bind(T)));T.intervals_=void 0!==R.intervals?R.intervals:z;T.setSource(new f["default"]({loader:T.loaderFunction.bind(T),strategy:T.strategyFunction.bind(T),features:new l["default"],overlaps:!1,useSpatialIndex:!1,wrapX:R.wrapX}));T.featurePool_=[];T.lineStyle_=new g["default"]({stroke:T.strokeStyle_});T.loadedExtent_=null;T.renderedExtent_=null;T.setRenderOrder(null);return T}M(K,G);K.prototype.strategyFunction=function(R,T){R=R.slice();this.projection_&&
this.getSource().getWrapX()&&(0,a.wrapX)(R,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,R,T)?R=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[R]};K.prototype.loaderFunction=function(R,T,ja){this.loadedExtent_=R;var fa=this.getSource(),ia=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];R=(0,a.getIntersection)(ia,R);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,R))if(this.renderedExtent_=R,!(0,
a.isEmpty)(R)){ia=(0,a.getCenter)(R);var la=T*T/4;this.projection_&&(0,B.equivalent)(this.projection_,ja)||this.updateProjectionInfo_(ja);this.createGraticule_(R,ia,T,la);ja=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ja+=this.meridians_.length);for(this.parallelsLabels_&&(ja+=this.parallels_.length);ja>this.featurePool_.length;)T=new H["default"],this.featurePool_.push(T);fa=fa.getFeaturesCollection();fa.clear();R=ja=0;for(ia=this.meridians_.length;R<ia;++R)T=this.featurePool_[ja++],
T.setGeometry(this.meridians_[R]),T.setStyle(this.lineStyle_),fa.push(T);R=0;for(ia=this.parallels_.length;R<ia;++R)T=this.featurePool_[ja++],T.setGeometry(this.parallels_[R]),T.setStyle(this.lineStyle_),fa.push(T)}};K.prototype.addMeridian_=function(R,T,ja,fa,ia,la){T=this.getMeridian_(R,T,ja,fa,la);(0,a.intersects)(T.getExtent(),ia)&&(this.meridiansLabels_&&(R=this.lonLabelFormatter_(R),la in this.meridiansLabels_?this.meridiansLabels_[la].text=R:this.meridiansLabels_[la]={geom:new u["default"]([]),
text:R}),this.meridians_[la++]=T);return la};K.prototype.addParallel_=function(R,T,ja,fa,ia,la){T=this.getParallel_(R,T,ja,fa,la);(0,a.intersects)(T.getExtent(),ia)&&(this.parallelsLabels_&&(R=this.latLabelFormatter_(R),la in this.parallelsLabels_?this.parallelsLabels_[la].text=R:this.parallelsLabels_[la]={geom:new u["default"]([]),text:R}),this.parallels_[la++]=T);return la};K.prototype.drawLabels_=function(R){var T=R.frameState.viewState.rotation,ja=R.frameState.extent,fa=(0,a.getCenter)(ja),ia=
ja;if(T){var la=(0,a.getWidth)(ja),Z=(0,a.getHeight)(ja),P=Math.abs(Math.cos(T)),C=Math.abs(Math.sin(T));ia=(C*Z-P*la)/(C*C-P*P);la=(C*la-P*Z)/(C*C-P*P);ia=[fa[0]-ia/2,fa[1]-la/2,fa[0]+ia/2,fa[1]+la/2]}Z=la=0;P=.5>this.latLabelPosition_;var V=this.projection_.getExtent();C=(0,a.getWidth)(V);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(V,ja)&&(la=Math.floor((ja[0]-V[0])/C),Z=Math.ceil((ja[2]-V[2])/C),P=P!==Math.abs(T)>Math.PI/2);R=(0,D.getVectorContext)(R);for(V=
la;V<=Z;++V){var ha=this.meridians_.length+this.parallels_.length,aa;if(this.meridiansLabels_){var ta=0;for(aa=this.meridiansLabels_.length;ta<aa;++ta){var wa=this.meridians_[ta];if(T||0!==V){wa=wa.clone();wa.translate(V*C,0);wa.rotate(-T,fa);var Ha=this.getMeridianPoint_(wa,ia,ta);Ha.rotate(T,fa)}else Ha=this.getMeridianPoint_(wa,ja,ta);wa=this.featurePool_[ha++];wa.setGeometry(Ha);wa.set("graticule_label",this.meridiansLabels_[ta].text);R.drawFeature(wa,this.lonLabelStyle_(wa))}}if(this.parallelsLabels_&&
(V===la&&P||V===Z&&!P))for(ta=0,aa=this.parallels_.length;ta<aa;++ta)wa=this.parallels_[ta],T||0!==V?(wa=wa.clone(),wa.translate(V*C,0),wa.rotate(-T,fa),Ha=this.getParallelPoint_(wa,ia,ta),Ha.rotate(T,fa)):Ha=this.getParallelPoint_(wa,ja,ta),wa=this.featurePool_[ha++],wa.setGeometry(Ha),wa.set("graticule_label",this.parallelsLabels_[ta].text),R.drawFeature(wa,this.latLabelStyle_(wa))}};K.prototype.createGraticule_=function(R,T,ja,fa){ja=this.getInterval_(ja);if(-1==ja)this.meridians_.length=0,this.parallels_.length=
0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var ia=!1,la=this.projection_.getExtent(),Z=(0,a.getWidth)(la);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(la,R)&&((0,a.getWidth)(R)>=Z?(R[0]=la[0],R[2]=la[2]):ia=!0);T=[(0,n.clamp)(T[0],this.minX_,this.maxX_),(0,n.clamp)(T[1],this.minY_,this.maxY_)];la=this.toLonLatTransform_(T);isNaN(la[1])&&(la[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?
this.maxLat_:this.minLat_);T=(0,n.clamp)(la[0],this.minLon_,this.maxLon_);la=(0,n.clamp)(la[1],this.minLat_,this.maxLat_);Z=this.maxLines_;var P=R;ia||(P=[(0,n.clamp)(R[0],this.minX_,this.maxX_),(0,n.clamp)(R[1],this.minY_,this.maxY_),(0,n.clamp)(R[2],this.minX_,this.maxX_),(0,n.clamp)(R[3],this.minY_,this.maxY_)]);var C=(0,a.applyTransform)(P,this.toLonLatTransform_,void 0,8),V=C[3],ha=C[2],aa=C[1];C=C[0];ia||((0,a.containsCoordinate)(P,this.bottomLeft_)&&(C=this.minLon_,aa=this.minLat_),(0,a.containsCoordinate)(P,
this.bottomRight_)&&(ha=this.maxLon_,aa=this.minLat_),(0,a.containsCoordinate)(P,this.topLeft_)&&(C=this.minLon_,V=this.maxLat_),(0,a.containsCoordinate)(P,this.topRight_)&&(ha=this.maxLon_,V=this.maxLat_),V=(0,n.clamp)(V,la,this.maxLat_),ha=(0,n.clamp)(ha,T,this.maxLon_),aa=(0,n.clamp)(aa,this.minLat_,la),C=(0,n.clamp)(C,this.minLon_,T));T=Math.floor(T/ja)*ja;var ta=(0,n.clamp)(T,this.minLon_,this.maxLon_);var wa=this.addMeridian_(ta,aa,V,fa,R,0);P=0;if(ia)for(;(ta-=ja)>=C&&P++<Z;)wa=this.addMeridian_(ta,
aa,V,fa,R,wa);else for(;ta!=this.minLon_&&P++<Z;)ta=Math.max(ta-ja,this.minLon_),wa=this.addMeridian_(ta,aa,V,fa,R,wa);ta=(0,n.clamp)(T,this.minLon_,this.maxLon_);P=0;if(ia)for(;(ta+=ja)<=ha&&P++<Z;)wa=this.addMeridian_(ta,aa,V,fa,R,wa);else for(;ta!=this.maxLon_&&P++<Z;)ta=Math.min(ta+ja,this.maxLon_),wa=this.addMeridian_(ta,aa,V,fa,R,wa);this.meridians_.length=wa;this.meridiansLabels_&&(this.meridiansLabels_.length=wa);la=Math.floor(la/ja)*ja;ia=(0,n.clamp)(la,this.minLat_,this.maxLat_);wa=this.addParallel_(ia,
C,ha,fa,R,0);for(P=0;ia!=this.minLat_&&P++<Z;)ia=Math.max(ia-ja,this.minLat_),wa=this.addParallel_(ia,C,ha,fa,R,wa);ia=(0,n.clamp)(la,this.minLat_,this.maxLat_);for(P=0;ia!=this.maxLat_&&P++<Z;)ia=Math.min(ia+ja,this.maxLat_),wa=this.addParallel_(ia,C,ha,fa,R,wa);this.parallels_.length=wa;this.parallelsLabels_&&(this.parallelsLabels_.length=wa)}};K.prototype.getInterval_=function(R){var T=this.projectionCenterLonLat_[0],ja=this.projectionCenterLonLat_[1],fa=-1;R=Math.pow(this.targetSize_*R,2);for(var ia=
[],la=[],Z=0,P=this.intervals_.length;Z<P;++Z){var C=(0,n.clamp)(this.intervals_[Z]/2,0,90),V=(0,n.clamp)(ja,-90+C,90-C);ia[0]=T-C;ia[1]=V-C;la[0]=T+C;la[1]=V+C;this.fromLonLatTransform_(ia,ia);this.fromLonLatTransform_(la,la);if(Math.pow(la[0]-ia[0],2)+Math.pow(la[1]-ia[1],2)<=R)break;fa=this.intervals_[Z]}return fa};K.prototype.getMeridian_=function(R,T,ja,fa,ia){R=(0,O.meridian)(R,T,ja,this.projection_,fa);(T=this.meridians_[ia])?(T.setFlatCoordinates(x["default"].XY,R),T.changed()):(T=new v["default"](R,
x["default"].XY),this.meridians_[ia]=T);return T};K.prototype.getMeridianPoint_=function(R,T,ja){R=R.getFlatCoordinates();var fa=1,ia=R.length-1;R[fa]>R[ia]&&(fa=ia,ia=1);var la=Math.max(T[1],R[fa]),Z=Math.min(T[3],R[ia]);T=(0,n.clamp)(T[1]+Math.abs(T[1]-T[3])*this.lonLabelPosition_,la,Z);ja=this.meridiansLabels_[ja].geom;ja.setCoordinates([R[fa-1]+(R[ia-1]-R[fa-1])*(T-R[fa])/(R[ia]-R[fa]),T]);return ja};K.prototype.getMeridians=function(){return this.meridians_};K.prototype.getParallel_=function(R,
T,ja,fa,ia){R=(0,O.parallel)(R,T,ja,this.projection_,fa);(ia=this.parallels_[ia])?(ia.setFlatCoordinates(x["default"].XY,R),ia.changed()):ia=new v["default"](R,x["default"].XY);return ia};K.prototype.getParallelPoint_=function(R,T,ja){R=R.getFlatCoordinates();var fa=0,ia=R.length-2;R[fa]>R[ia]&&(fa=ia,ia=0);var la=Math.max(T[0],R[fa]),Z=Math.min(T[2],R[ia]);T=(0,n.clamp)(T[0]+Math.abs(T[0]-T[2])*this.latLabelPosition_,la,Z);ja=this.parallelsLabels_[ja].geom;ja.setCoordinates([T,R[fa+1]+(R[ia+1]-R[fa+
1])*(T-R[fa])/(R[ia]-R[fa])]);return ja};K.prototype.getParallels=function(){return this.parallels_};K.prototype.updateProjectionInfo_=function(R){var T=(0,B.get)("EPSG:4326"),ja=R.getWorldExtent();this.maxLat_=ja[3];this.maxLon_=ja[2];this.minLat_=ja[1];this.minLon_=ja[0];var fa=(0,B.getTransform)(R,T);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=fa;else{var ia=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(la,Z,P){P=P||2;la=fa(la,Z,P);Z=0;for(var C=la.length;Z<
C;Z+=P)la[Z]<ia&&(la[Z]+=360);return la}}this.fromLonLatTransform_=(0,B.getTransform)(T,R);T=(0,a.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=T[0];this.maxX_=T[2];this.minY_=T[1];this.maxY_=T[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,
this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(R.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=R};return K}(Ia["default"]);E["default"]=A};
shadow$provide[314]=function(Ia,A,rb,E){function k(H,N){for(var x=l.length,v=0;v<x;++v)try{var u=H.getContext(l[v],N);if(u)return u}catch(m){}return null}Object.defineProperty(E,"__esModule",{value:!0});E.getContext=k;E.getSupportedExtensions=function(){if(!w){var H=document.createElement("canvas");(H=k(H))&&(w=H.getSupportedExtensions())}return w};E.FLOAT=E.UNSIGNED_INT=E.UNSIGNED_SHORT=E.UNSIGNED_BYTE=E.DYNAMIC_DRAW=E.STATIC_DRAW=E.STREAM_DRAW=E.ELEMENT_ARRAY_BUFFER=E.ARRAY_BUFFER=void 0;E.ARRAY_BUFFER=
34962;E.ELEMENT_ARRAY_BUFFER=34963;E.STREAM_DRAW=35040;E.STATIC_DRAW=35044;E.DYNAMIC_DRAW=35048;E.UNSIGNED_BYTE=5121;E.UNSIGNED_SHORT=5123;E.UNSIGNED_INT=5125;E.FLOAT=5126;var l=["experimental-webgl","webgl","webkit-3d","moz-webgl"],w};
shadow$provide[315]=function(Ia,A,rb,E){function k(N){switch(N){case l.ARRAY_BUFFER:return Float32Array;case l.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(E,"__esModule",{value:!0});E.getArrayClassForType=k;E["default"]=E.BufferUsage=void 0;var l=A(314),w=A(74),H={STATIC_DRAW:l.STATIC_DRAW,STREAM_DRAW:l.STREAM_DRAW,DYNAMIC_DRAW:l.DYNAMIC_DRAW};E.BufferUsage=H;Ia=function(){function N(x,v){this.array=null;this.type=x;(0,w.assert)(x===l.ARRAY_BUFFER||x===
l.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==v?v:H.STATIC_DRAW}N.prototype.ofSize=function(x){this.array=new (k(this.type))(x)};N.prototype.fromArray=function(x){this.array=k(this.type).from(x)};N.prototype.fromArrayBuffer=function(x){this.array=new (k(this.type))(x)};N.prototype.getType=function(){return this.type};N.prototype.getArray=function(){return this.array};N.prototype.getUsage=function(){return this.usage};N.prototype.getSize=function(){return this.array?this.array.length:0};return N}();
E["default"]=Ia};
shadow$provide[316]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[317]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=function(){function k(l){var w=this.gl_=l.webGlContext;this.scaleRatio_=l.scaleRatio||1;this.renderTargetTexture_=w.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=w.createFramebuffer();var H=w.createShader(w.VERTEX_SHADER);w.shaderSource(H,l.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
w.compileShader(H);var N=w.createShader(w.FRAGMENT_SHADER);w.shaderSource(N,l.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord);\n  }\n");w.compileShader(N);this.renderTargetProgram_=w.createProgram();w.attachShader(this.renderTargetProgram_,H);w.attachShader(this.renderTargetProgram_,N);w.linkProgram(this.renderTargetProgram_);this.renderTargetVerticesBuffer_=
w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);w.bufferData(w.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),w.STATIC_DRAW);this.renderTargetAttribLocation_=w.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=w.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetTextureLocation_=w.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];l.uniforms&&Object.keys(l.uniforms).forEach(function(x){this.uniforms_.push({value:l.uniforms[x],
location:w.getUniformLocation(this.renderTargetProgram_,x)})}.bind(this))}k.prototype.getGL=function(){return this.gl_};k.prototype.init=function(l){l=this.getGL();var w=[l.drawingBufferWidth*this.scaleRatio_,l.drawingBufferHeight*this.scaleRatio_];l.bindFramebuffer(l.FRAMEBUFFER,this.getFrameBuffer());l.viewport(0,0,w[0],w[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==w[0]||this.renderTargetTextureSize_[1]!==w[1]){this.renderTargetTextureSize_=w;var H=l.RGBA,N=l.RGBA,
x=l.UNSIGNED_BYTE;l.bindTexture(l.TEXTURE_2D,this.renderTargetTexture_);l.texImage2D(l.TEXTURE_2D,0,H,w[0],w[1],0,N,x,null);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this.renderTargetTexture_,0)}};k.prototype.apply=function(l,w){var H=this.getGL(),N=l.size;H.bindFramebuffer(H.FRAMEBUFFER,
w?w.getFrameBuffer():null);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,this.renderTargetTexture_);H.clearColor(0,0,0,0);H.clear(H.COLOR_BUFFER_BIT);H.enable(H.BLEND);H.blendFunc(H.ONE,H.ONE_MINUS_SRC_ALPHA);H.viewport(0,0,H.drawingBufferWidth,H.drawingBufferHeight);H.bindBuffer(H.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);H.useProgram(this.renderTargetProgram_);H.enableVertexAttribArray(this.renderTargetAttribLocation_);H.vertexAttribPointer(this.renderTargetAttribLocation_,2,H.FLOAT,
!1,0,0);H.uniform2f(this.renderTargetUniformLocation_,N[0],N[1]);H.uniform1i(this.renderTargetTextureLocation_,0);this.applyUniforms(l);H.drawArrays(H.TRIANGLES,0,6)};k.prototype.getFrameBuffer=function(){return this.frameBuffer_};k.prototype.applyUniforms=function(l){var w=this.getGL(),H,N=1;this.uniforms_.forEach(function(x){H="function"===typeof x.value?x.value(l):x.value;if(H instanceof HTMLCanvasElement||H instanceof ImageData)x.texture||(x.texture=w.createTexture()),w.activeTexture(w["TEXTURE"+
N]),w.bindTexture(w.TEXTURE_2D,x.texture),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),H instanceof ImageData?w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,H.width,H.height,0,w.UNSIGNED_BYTE,new Uint8Array(H.data)):w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,H),w.uniform1i(x.location,N++);else if(Array.isArray(H))switch(H.length){case 2:w.uniform2f(x.location,
H[0],H[1]);break;case 3:w.uniform3f(x.location,H[0],H[1],H[2]);break;case 4:w.uniform4f(x.location,H[0],H[1],H[2],H[3])}else"number"===typeof H&&w.uniform1f(x.location,H)})};return k}();E["default"]=Ia};
shadow$provide[318]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};E.fromTransform=function(k,l){k[0]=l[0];k[1]=l[1];k[4]=l[2];k[5]=l[3];k[12]=l[4];k[13]=l[5];return k}};
shadow$provide[319]=function(Ia,A,rb,E){function k(y){return y&&y.__esModule?y:{"default":y}}function l(y){for(var B=0,D=0;D<y.length;D++){var O=y[D];B+=O.size*w(O.type)}return B}function w(y){switch(y){case n.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case n.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case n.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(E,"__esModule",{value:!0});E.computeAttributesStride=l;E["default"]=
E.AttributeType=E.DefaultUniform=E.ShaderType=void 0;var H=k(A(316));Ia=k(A(69));var N=k(A(317)),x=A(314),v=A(74),u=A(84),m=A(75),g=A(318),d=A(72),f=A(70),a=function(){var y=function(B,D){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,M){O.__proto__=M}||function(O,M){for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&(O[F]=M[F])};return y(B,D)};return function(B,D){function O(){this.constructor=B}y(B,D);B.prototype=null===D?Object.create(D):(O.prototype=D.prototype,new O)}}();
E.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var e={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"};E.DefaultUniform=e;var n={UNSIGNED_BYTE:x.UNSIGNED_BYTE,UNSIGNED_SHORT:x.UNSIGNED_SHORT,UNSIGNED_INT:x.UNSIGNED_INT,FLOAT:x.FLOAT};E.AttributeType=n;A=function(y){function B(D){var O=y.call(this)||this;D=D||{};O.boundHandleWebGLContextLost_=O.handleWebGLContextLost.bind(O);
O.boundHandleWebGLContextRestored_=O.handleWebGLContextRestored.bind(O);O.canvas_=document.createElement("canvas");O.canvas_.style.position="absolute";O.canvas_.style.left="0";O.gl_=(0,x.getContext)(O.canvas_);var M=O.getGL();O.bufferCache_={};O.currentProgram_=null;(0,v.assert)((0,f.includes)((0,x.getSupportedExtensions)(),"OES_element_index_uint"),63);M.getExtension("OES_element_index_uint");O.canvas_.addEventListener(H["default"].LOST,O.boundHandleWebGLContextLost_);O.canvas_.addEventListener(H["default"].RESTORED,
O.boundHandleWebGLContextRestored_);O.offsetRotateMatrix_=(0,m.create)();O.offsetScaleMatrix_=(0,m.create)();O.tmpMat4_=(0,g.create)();O.uniformLocations_={};O.attribLocations_={};O.uniforms_=[];if(D.uniforms)for(var F in D.uniforms)O.uniforms_.push({name:F,value:D.uniforms[F]});O.postProcessPasses_=D.postProcesses?D.postProcesses.map(function(z){return new N["default"]({webGlContext:M,scaleRatio:z.scaleRatio,vertexShader:z.vertexShader,fragmentShader:z.fragmentShader,uniforms:z.uniforms})}):[new N["default"]({webGlContext:M})];
O.shaderCompileErrors_=null;O.startTime_=Date.now();return O}a(B,y);B.prototype.bindBuffer=function(D){var O=this.getGL(),M=(0,d.getUid)(D),F=this.bufferCache_[M];F||(F=O.createBuffer(),F={buffer:D,webGlBuffer:F},this.bufferCache_[M]=F);O.bindBuffer(D.getType(),F.webGlBuffer)};B.prototype.flushBufferData=function(D){var O=this.getGL();this.bindBuffer(D);O.bufferData(D.getType(),D.getArray(),D.getUsage())};B.prototype.deleteBuffer=function(D){var O=this.getGL();D=(0,d.getUid)(D);var M=this.bufferCache_[D];
O.isContextLost()||O.deleteBuffer(M.buffer);delete this.bufferCache_[D]};B.prototype.disposeInternal=function(){this.canvas_.removeEventListener(H["default"].LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(H["default"].RESTORED,this.boundHandleWebGLContextRestored_)};B.prototype.prepareDraw=function(D){var O=this.getGL(),M=this.getCanvas(),F=D.size,z=D.pixelRatio;M.width=F[0]*z;M.height=F[1]*z;M.style.width=F[0]+"px";M.style.height=F[1]+"px";O.useProgram(this.currentProgram_);
for(M=this.postProcessPasses_.length-1;0<=M;M--)this.postProcessPasses_[M].init(D);O.bindTexture(O.TEXTURE_2D,null);O.clearColor(0,0,0,0);O.clear(O.COLOR_BUFFER_BIT);O.enable(O.BLEND);O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA);O.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};B.prototype.prepareDrawToRenderTarget=function(D,O,M){var F=this.getGL(),z=O.getSize();F.bindFramebuffer(F.FRAMEBUFFER,O.getFramebuffer());F.viewport(0,0,z[0],z[1]);F.bindTexture(F.TEXTURE_2D,O.getTexture());
F.clearColor(0,0,0,0);F.clear(F.COLOR_BUFFER_BIT);F.enable(F.BLEND);F.blendFunc(F.ONE,M?F.ZERO:F.ONE_MINUS_SRC_ALPHA);F.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};B.prototype.drawElements=function(D,O){var M=this.getGL();M.drawElements(M.TRIANGLES,O-D,M.UNSIGNED_INT,4*D)};B.prototype.finalizeDraw=function(D){for(var O=0;O<this.postProcessPasses_.length;O++)this.postProcessPasses_[O].apply(D,this.postProcessPasses_[O+1]||null)};B.prototype.getCanvas=function(){return this.canvas_};
B.prototype.getGL=function(){return this.gl_};B.prototype.applyFrameState=function(D){var O=D.size,M=D.viewState.rotation,F=(0,m.reset)(this.offsetScaleMatrix_);(0,m.scale)(F,2/O[0],2/O[1]);O=(0,m.reset)(this.offsetRotateMatrix_);0!==M&&(0,m.rotate)(O,-M);this.setUniformMatrixValue(e.OFFSET_SCALE_MATRIX,(0,g.fromTransform)(this.tmpMat4_,F));this.setUniformMatrixValue(e.OFFSET_ROTATION_MATRIX,(0,g.fromTransform)(this.tmpMat4_,O));this.setUniformFloatValue(e.TIME,.001*(Date.now()-this.startTime_));
this.setUniformFloatValue(e.ZOOM,D.viewState.zoom);this.setUniformFloatValue(e.RESOLUTION,D.viewState.resolution)};B.prototype.applyUniforms=function(D){var O=this.getGL(),M,F=0;this.uniforms_.forEach(function(z){M="function"===typeof z.value?z.value(D):z.value;if(M instanceof HTMLCanvasElement||M instanceof HTMLImageElement||M instanceof ImageData)z.texture||(z.prevValue=void 0,z.texture=O.createTexture()),O.activeTexture(O["TEXTURE"+F]),O.bindTexture(O.TEXTURE_2D,z.texture),O.texParameteri(O.TEXTURE_2D,
O.TEXTURE_MIN_FILTER,O.LINEAR),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),M instanceof HTMLImageElement&&!M.complete||z.prevValue===M||(z.prevValue=M,O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,M)),O.uniform1i(this.getUniformLocation(z.name),F++);else if(Array.isArray(M)&&6===M.length)this.setUniformMatrixValue(z.name,(0,g.fromTransform)(this.tmpMat4_,M));else if(Array.isArray(M)&&4>=M.length)switch(M.length){case 2:O.uniform2f(this.getUniformLocation(z.name),
M[0],M[1]);break;case 3:O.uniform3f(this.getUniformLocation(z.name),M[0],M[1],M[2]);break;case 4:O.uniform4f(this.getUniformLocation(z.name),M[0],M[1],M[2],M[3])}else"number"===typeof M&&O.uniform1f(this.getUniformLocation(z.name),M)}.bind(this))};B.prototype.useProgram=function(D){if(D==this.currentProgram_)return!1;this.getGL().useProgram(D);this.currentProgram_=D;this.uniformLocations_={};this.attribLocations_={};return!0};B.prototype.compileShader=function(D,O){var M=this.getGL();O=M.createShader(O);
M.shaderSource(O,D);M.compileShader(O);return O};B.prototype.getProgram=function(D,O){var M=this.getGL();D=this.compileShader(D,M.FRAGMENT_SHADER);O=this.compileShader(O,M.VERTEX_SHADER);this.shaderCompileErrors_=null;M.getShaderInfoLog(D)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+M.getShaderInfoLog(D));M.getShaderInfoLog(O)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+M.getShaderInfoLog(O)));var F=M.createProgram();M.attachShader(F,
D);M.attachShader(F,O);M.linkProgram(F);return F};B.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_};B.prototype.getUniformLocation=function(D){void 0===this.uniformLocations_[D]&&(this.uniformLocations_[D]=this.getGL().getUniformLocation(this.currentProgram_,D));return this.uniformLocations_[D]};B.prototype.getAttributeLocation=function(D){void 0===this.attribLocations_[D]&&(this.attribLocations_[D]=this.getGL().getAttribLocation(this.currentProgram_,D));return this.attribLocations_[D]};
B.prototype.makeProjectionTransform=function(D,O){var M=D.size,F=D.viewState.rotation,z=D.viewState.resolution;D=D.viewState.center;(0,m.reset)(O);(0,m.compose)(O,0,0,2/(z*M[0]),2/(z*M[1]),-F,-D[0],-D[1]);return O};B.prototype.setUniformFloatValue=function(D,O){this.getGL().uniform1f(this.getUniformLocation(D),O)};B.prototype.setUniformMatrixValue=function(D,O){this.getGL().uniformMatrix4fv(this.getUniformLocation(D),!1,O)};B.prototype.enableAttributeArray_=function(D,O,M,F,z){D=this.getAttributeLocation(D);
0>D||(this.getGL().enableVertexAttribArray(D),this.getGL().vertexAttribPointer(D,O,M,!1,F,z))};B.prototype.enableAttributes=function(D){for(var O=l(D),M=0,F=0;F<D.length;F++){var z=D[F];this.enableAttributeArray_(z.name,z.size,z.type||x.FLOAT,O,M);M+=z.size*w(z.type)}};B.prototype.handleWebGLContextLost=function(){(0,u.clear)(this.bufferCache_);this.currentProgram_=null};B.prototype.handleWebGLContextRestored=function(){};B.prototype.createTexture=function(D,O,M){var F=this.getGL();M=M||F.createTexture();
var z=F.RGBA,G=F.RGBA,K=F.UNSIGNED_BYTE;F.bindTexture(F.TEXTURE_2D,M);O?F.texImage2D(F.TEXTURE_2D,0,z,G,K,O):F.texImage2D(F.TEXTURE_2D,0,z,D[0],D[1],0,G,K,null);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.LINEAR);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE);return M};return B}(Ia["default"]);E["default"]=A};
shadow$provide[320]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m,g,d,f,a){m[g+0]=d;m[g+1]=f;m[g+2]=a}Object.defineProperty(E,"__esModule",{value:!0});E.writePointFeatureToBuffers=function(m,g,d,f,a,e){var n=3+a,y=m[g+0],B=m[g+1],D=v;D.length=a;for(a=0;a<D.length;a++)D[a]=m[g+2+a];m=e?e.vertexPosition:0;e=e?e.indexPosition:0;g=m/n;l(d,m,y,B,0);D.length&&d.set(D,m+3);m+=n;l(d,m,y,B,1);D.length&&d.set(D,m+3);m+=n;l(d,m,y,B,2);D.length&&d.set(D,m+3);m+=n;l(d,m,
y,B,3);D.length&&d.set(D,m+3);f[e++]=g;f[e++]=g+1;f[e++]=g+3;f[e++]=g+1;f[e++]=g+2;f[e++]=g+3;u.vertexPosition=m+n;u.indexPosition=e;return u};E.getBlankImageData=function(){var m=document.createElement("canvas").getContext("2d").createImageData(1,1);m.data[0]=255;m.data[1]=255;m.data[2]=255;m.data[3]=255;return m};E.colorEncodeId=function(m,g){g=g||[];g[0]=Math.floor(m/256/256/256)/255;g[1]=Math.floor(m/256/256)%256/255;g[2]=Math.floor(m/256)%256/255;g[3]=m%256/255;return g};E.colorDecodeId=function(m){var g=
0+Math.round(4278190080*m[0]);g+=Math.round(16711680*m[1]);g+=Math.round(65280*m[2]);return g+=Math.round(255*m[3])};E["default"]=E.WebGLWorkerMessageType=void 0;Ia=k(A(216));var w=k(A(98)),H=k(A(92)),N=k(A(319)),x=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=
null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();E.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};A=function(m){function g(d,f){d=m.call(this,d)||this;f=f||{};d.helper=new N["default"]({postProcesses:f.postProcesses,uniforms:f.uniforms});void 0!==f.className&&(d.helper.getCanvas().className=f.className);return d}x(g,m);g.prototype.disposeInternal=function(){this.helper.dispose();m.prototype.disposeInternal.call(this)};g.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()};
g.prototype.dispatchRenderEvent_=function(d,f){var a=this.getLayer();a.hasListener(d)&&(d=new w["default"](d,null,f,null),a.dispatchEvent(d))};g.prototype.preRender=function(d){this.dispatchRenderEvent_(H["default"].PRERENDER,d)};g.prototype.postRender=function(d){this.dispatchRenderEvent_(H["default"].POSTRENDER,d)};return g}(Ia["default"]);var v=[],u={vertexPosition:0,indexPosition:0};E["default"]=A};
shadow$provide[321]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(70),l=new Uint8Array(4);Ia=function(){function w(H,N){this.helper_=H;H=H.getGL();this.texture_=H.createTexture();this.framebuffer_=H.createFramebuffer();this.size_=N||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}w.prototype.setSize=function(H){(0,k.equals)(H,this.size_)||(this.size_[0]=H[0],this.size_[1]=H[1],this.updateSize_())};w.prototype.getSize=
function(){return this.size_};w.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};w.prototype.readAll=function(){if(this.dataCacheDirty_){var H=this.size_,N=this.helper_.getGL();N.bindFramebuffer(N.FRAMEBUFFER,this.framebuffer_);N.readPixels(0,0,H[0],H[1],N.RGBA,N.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};w.prototype.readPixel=function(H,N){if(0>H||0>N||H>this.size_[0]||N>=this.size_[1])return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l;this.readAll();H=Math.floor(H)+(this.size_[1]-
Math.floor(N)-1)*this.size_[0];l[0]=this.data_[4*H];l[1]=this.data_[4*H+1];l[2]=this.data_[4*H+2];l[3]=this.data_[4*H+3];return l};w.prototype.getTexture=function(){return this.texture_};w.prototype.getFramebuffer=function(){return this.framebuffer_};w.prototype.updateSize_=function(){var H=this.size_,N=this.helper_.getGL();this.texture_=this.helper_.createTexture(H,null,this.texture_);N.bindFramebuffer(N.FRAMEBUFFER,this.framebuffer_);N.viewport(0,0,H[0],H[1]);N.framebufferTexture2D(N.FRAMEBUFFER,
N.COLOR_ATTACHMENT0,N.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(H[0]*H[1]*4)};return w}();E["default"]=Ia};
shadow$provide[322]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.create=function(){return new Worker(k)};Ia=new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,u){var a\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3du?u.vertexPosition:0,h\x3du?u.indexPosition:0,d\x3db/a;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3da,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o\x3dr.customAttributesCount,s\x3d2+o,u\x3dnew Float32Array(r.renderInstructions),a\x3du.length/s,l\x3d4*a*(o+3),v\x3dnew Uint32Array(6*a),c\x3dnew Float32Array(l),g\x3dnull,b\x3d0;b\x3cu.length;b+\x3ds)g\x3di(u,b,c,v,o,g);var h\x3de({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],
{type:"application/javascript"});var k=URL.createObjectURL(Ia)};
shadow$provide[323]=function(Ia,A,rb,E){function k(M){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"===typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};return k(M)}function l(){if("function"!==typeof WeakMap)return null;var M=new WeakMap;l=function(){return M};return M}function w(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(205)),N=w(A(117)),x=w(A(237)),v=w(A(119)),u=w(A(315)),m=function(M){if(M&&M.__esModule)return M;if(null===M||"object"!==k(M)&&"function"!==typeof M)return{"default":M};var F=l();if(F&&F.has(M))return F.get(M);var z={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor,K;for(K in M)if(Object.prototype.hasOwnProperty.call(M,K)){var R=G?Object.getOwnPropertyDescriptor(M,K):null;R&&(R.get||R.set)?Object.defineProperty(z,K,R):z[K]=M[K]}z["default"]=M;F&&F.set(M,z);return z}(A(320)),g=w(A(321)),
d=A(314),f=A(319),a=A(75),e=A(74),n=A(78),y=A(322),B=A(72),D=A(87),O=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}();Ia=function(M){function F(z,G){var K=this;K=G.uniforms||{};var R=(0,a.create)();
K[f.DefaultUniform.PROJECTION_MATRIX]=R;K=M.call(this,z,{className:G.className,uniforms:K,postProcesses:G.postProcesses})||this;K.sourceRevision_=-1;K.verticesBuffer_=new u["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);K.hitVerticesBuffer_=new u["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);K.indicesBuffer_=new u["default"](d.ELEMENT_ARRAY_BUFFER,d.DYNAMIC_DRAW);K.program_=K.helper.getProgram(G.fragmentShader,G.vertexShader);K.hitDetectionEnabled_=G.hitFragmentShader&&G.hitVertexShader?!0:!1;K.hitProgram_=
K.hitDetectionEnabled_&&K.helper.getProgram(G.hitFragmentShader,G.hitVertexShader);z=G.attributes?G.attributes.map(function(T){return{name:"a_"+T.name,size:1,type:f.AttributeType.FLOAT}}):[];K.attributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT}].concat(z);K.hitDetectionAttributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:f.AttributeType.FLOAT},
{name:"a_featureUid",size:1,type:f.AttributeType.FLOAT}].concat(z);K.customAttributes=G.attributes?G.attributes:[];K.previousExtent_=(0,n.createEmpty)();K.currentTransform_=R;K.renderTransform_=(0,a.create)();K.invertRenderTransform_=(0,a.create)();K.renderInstructions_=new Float32Array(0);K.hitRenderInstructions_=new Float32Array(0);K.hitRenderTarget_=K.hitDetectionEnabled_&&new g["default"](K.helper);K.worker_=(0,y.create)();K.worker_.addEventListener("message",function(T){var ja=T.data;if(ja.type===
m.WebGLWorkerMessageType.GENERATE_BUFFERS){var fa=ja.projectionTransform;ja.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(ja.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(ja.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(ja.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=fa;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);
ja.hitDetection?this.hitRenderInstructions_=new Float32Array(T.data.renderInstructions):this.renderInstructions_=new Float32Array(T.data.renderInstructions);this.getLayer().changed()}}.bind(K));K.featureCache_={};K.featureCount_=0;G=K.getLayer().getSource();K.sourceListenKeys_=[(0,D.listen)(G,x["default"].ADDFEATURE,K.handleSourceFeatureAdded_,K),(0,D.listen)(G,x["default"].CHANGEFEATURE,K.handleSourceFeatureChanged_,K),(0,D.listen)(G,x["default"].REMOVEFEATURE,K.handleSourceFeatureDelete_,K),(0,
D.listen)(G,x["default"].CLEAR,K.handleSourceFeatureClear_,K)];G.forEachFeature(function(T){this.featureCache_[(0,B.getUid)(T)]={feature:T,properties:T.getProperties(),geometry:T.getGeometry()};this.featureCount_++}.bind(K));return K}O(F,M);F.prototype.handleSourceFeatureAdded_=function(z){z=z.feature;this.featureCache_[(0,B.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()};this.featureCount_++};F.prototype.handleSourceFeatureChanged_=function(z){z=z.feature;this.featureCache_[(0,
B.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()}};F.prototype.handleSourceFeatureDelete_=function(z){z=z.feature;delete this.featureCache_[(0,B.getUid)(z)];this.featureCount_--};F.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};F.prototype.renderFrame=function(z){this.preRender(z);var G=this.indicesBuffer_.getSize();this.helper.drawElements(0,G);this.helper.finalizeDraw(z);G=this.helper.getCanvas();var K=z.layerStatesArray[z.layerIndex].opacity;
K!==parseFloat(G.style.opacity)&&(G.style.opacity=String(K));this.hitDetectionEnabled_&&(this.renderHitDetection(z),this.hitRenderTarget_.clearCachedData());this.postRender(z);return G};F.prototype.prepareFrame=function(z){var G=this.getLayer(),K=G.getSource(),R=z.viewState,T=!z.viewHints[v["default"].ANIMATING]&&!z.viewHints[v["default"].INTERACTING],ja=!(0,n.equals)(this.previousExtent_,z.extent),fa=this.sourceRevision_<K.getRevision();fa&&(this.sourceRevision_=K.getRevision());T&&(ja||fa)&&(T=
R.projection,R=R.resolution,G=G instanceof H["default"]?G.getRenderBuffer():0,G=(0,n.buffer)(z.extent,G*R),K.loadFeatures(G,R,T),this.rebuildBuffers_(z),this.previousExtent_=z.extent.slice());this.helper.makeProjectionTransform(z,this.currentTransform_);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(z);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);
return!0};F.prototype.rebuildBuffers_=function(z){var G=(0,a.create)();this.helper.makeProjectionTransform(z,G);z=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===z||(this.renderInstructions_=new Float32Array(z));this.hitDetectionEnabled_&&(z=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===z||(this.hitRenderInstructions_=new Float32Array(z)));var K,R=[],T=[],ja=0,fa=
0;for(la in this.featureCache_)if(z=this.featureCache_[la],(K=z.geometry)&&K.getType()===N["default"].POINT){R[0]=K.getFlatCoordinates()[0];R[1]=K.getFlatCoordinates()[1];(0,a.apply)(G,R);K=(0,m.colorEncodeId)(fa+6,T);this.renderInstructions_[ja++]=R[0];this.renderInstructions_[ja++]=R[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[fa++]=R[0],this.hitRenderInstructions_[fa++]=R[1],this.hitRenderInstructions_[fa++]=K[0],this.hitRenderInstructions_[fa++]=K[1],this.hitRenderInstructions_[fa++]=
K[2],this.hitRenderInstructions_[fa++]=K[3],this.hitRenderInstructions_[fa++]=Number(la));for(var ia=0;ia<this.customAttributes.length;ia++)K=this.customAttributes[ia].callback(z.feature,z.properties),this.renderInstructions_[ja++]=K,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[fa++]=K)}var la={type:m.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};la.projectionTransform=G;this.worker_.postMessage(la,
[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(la={type:m.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},la.projectionTransform=G,la.hitDetection=!0,this.worker_.postMessage(la,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};F.prototype.forEachFeatureAtCoordinate=function(z,G,K,R,T){(0,e.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&
(z=(0,a.apply)(G.coordinateToPixelTransform,z.slice()),z=this.hitRenderTarget_.readPixel(z[0]/2,z[1]/2),z=[z[0]/255,z[1]/255,z[2]/255,z[3]/255],z=(0,m.colorDecodeId)(z),z=Math.floor(this.hitRenderInstructions_[z]).toString(),z=this.getLayer().getSource().getFeatureByUid(z)))return R(z,this.getLayer(),null)};F.prototype.renderHitDetection=function(z){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(z.size[0]/2),Math.floor(z.size[1]/2)]),this.helper.useProgram(this.hitProgram_),
this.helper.prepareDrawToRenderTarget(z,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),z=this.indicesBuffer_.getSize(),this.helper.drawElements(0,z))};F.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(z){(0,D.unlistenByKey)(z)});this.sourceListenKeys_=null;M.prototype.disposeInternal.call(this)};return F}(m["default"]);
E["default"]=Ia};
shadow$provide[324]=function(Ia,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(234));var l=k(A(323)),w=A(84),H=A(79),N=A(101),x=A(89),v=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,
d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),u=["#00f","#0ff","#0f0","#ff0","#f00"];A=function(m){function g(d){var f=this;d=d?d:{};f=(0,w.assign)({},d);delete f.gradient;delete f.radius;delete f.blur;delete f.weight;f=m.call(this,f)||this;f.gradient_=null;f.addEventListener((0,x.getChangeEventType)("gradient"),f.handleGradientChanged_);f.setGradient(d.gradient?d.gradient:u);f.setBlur(void 0!==d.blur?d.blur:15);f.setRadius(void 0!==d.radius?d.radius:8);var a=d.weight?
d.weight:"weight";f.weightFunction_="string"===typeof a?function(e){return e.get(a)}:a;f.setRenderOrder(null);return f}v(g,m);g.prototype.getBlur=function(){return this.get("blur")};g.prototype.getGradient=function(){return this.get("gradient")};g.prototype.getRadius=function(){return this.get("radius")};g.prototype.handleGradientChanged_=function(){for(var d=this.getGradient(),f=(0,N.createCanvasContext2D)(1,256),a=f.createLinearGradient(0,0,1,256),e=1/(d.length-1),n=0,y=d.length;n<y;++n)a.addColorStop(n*
e,d[n]);f.fillStyle=a;f.fillRect(0,0,1,256);this.gradient_=f.canvas};g.prototype.setBlur=function(d){this.set("blur",d)};g.prototype.setGradient=function(d){this.set("gradient",d)};g.prototype.setRadius=function(d){this.set("radius",d)};g.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(d){d=this.weightFunction_(d);return void 0!==d?(0,H.clamp)(d,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})};g.prototype.renderDeclutter=function(){};return g}(Ia["default"]);E["default"]=A};
shadow$provide[325]=function(Ia,A,rb,E){function k(F){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(F)?F:new Uint8Array(F||0);this.type=this.pos=0;this.length=this.buf.length}function l(F,z,G){var K=G.buf;var R=K[G.pos++];var T=(R&112)>>4;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<3;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<10;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<17;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<24;if(128>R)return H(F,T,z);R=K[G.pos++];if(128>R)return H(F,
T|(R&1)<<31,z);throw Error("Expected varint not more than 10 bytes");}function w(F){return F.type===k.Bytes?F.readVarint()+F.pos:F.pos+1}function H(F,z,G){return G?4294967296*z+(F>>>0):4294967296*(z>>>0)+(F>>>0)}function N(F,z,G){z=16383>=z?1:2097151>=z?2:268435455>=z?3:Math.floor(Math.log(z)/(7*Math.LN2));G.realloc(z);for(var K=G.pos-1;K>=F;K--)G.buf[K+z]=G.buf[K]}function x(F,z){for(var G=0;G<F.length;G++)z.writeVarint(F[G])}function v(F,z){for(var G=0;G<F.length;G++)z.writeSVarint(F[G])}function u(F,
z){for(var G=0;G<F.length;G++)z.writeFloat(F[G])}function m(F,z){for(var G=0;G<F.length;G++)z.writeDouble(F[G])}function g(F,z){for(var G=0;G<F.length;G++)z.writeBoolean(F[G])}function d(F,z){for(var G=0;G<F.length;G++)z.writeFixed32(F[G])}function f(F,z){for(var G=0;G<F.length;G++)z.writeSFixed32(F[G])}function a(F,z){for(var G=0;G<F.length;G++)z.writeFixed64(F[G])}function e(F,z){for(var G=0;G<F.length;G++)z.writeSFixed64(F[G])}function n(F,z){return(F[z]|F[z+1]<<8|F[z+2]<<16)+16777216*F[z+3]}function y(F,
z,G){F[G]=z;F[G+1]=z>>>8;F[G+2]=z>>>16;F[G+3]=z>>>24}function B(F,z){return(F[z]|F[z+1]<<8|F[z+2]<<16)+(F[z+3]<<24)}rb.exports=k;var D=A(22);k.Varint=0;k.Fixed64=1;k.Bytes=2;k.Fixed32=5;var O=1/4294967296,M="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");k.prototype={destroy:function(){this.buf=null},readFields:function(F,z,G){for(G=G||this.length;this.pos<G;){var K=this.readVarint(),R=K>>3,T=this.pos;this.type=K&7;F(R,z,this);this.pos===T&&this.skip(K)}return z},readMessage:function(F,
z){return this.readFields(F,z,this.readVarint()+this.pos)},readFixed32:function(){var F=n(this.buf,this.pos);this.pos+=4;return F},readSFixed32:function(){var F=B(this.buf,this.pos);this.pos+=4;return F},readFixed64:function(){var F=n(this.buf,this.pos)+4294967296*n(this.buf,this.pos+4);this.pos+=8;return F},readSFixed64:function(){var F=n(this.buf,this.pos)+4294967296*B(this.buf,this.pos+4);this.pos+=8;return F},readFloat:function(){var F=D.read(this.buf,this.pos,!0,23,4);this.pos+=4;return F},readDouble:function(){var F=
D.read(this.buf,this.pos,!0,52,8);this.pos+=8;return F},readVarint:function(F){var z=this.buf;var G=z[this.pos++];var K=G&127;if(128>G)return K;G=z[this.pos++];K|=(G&127)<<7;if(128>G)return K;G=z[this.pos++];K|=(G&127)<<14;if(128>G)return K;G=z[this.pos++];K|=(G&127)<<21;if(128>G)return K;G=z[this.pos];return l(K|(G&15)<<28,F,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var F=this.readVarint();return 1===F%2?(F+1)/-2:F/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var F=this.readVarint()+this.pos,z=this.pos;this.pos=F;if(12<=F-z&&M)return M.decode(this.buf.subarray(z,F));for(var G=this.buf,K="";z<F;){var R=G[z],T=null,ja=239<R?4:223<R?3:191<R?2:1;if(z+ja>F)break;if(1===ja)128>R&&(T=R);else if(2===ja){var fa=G[z+1];128===(fa&192)&&(T=(R&31)<<6|fa&63,127>=T&&(T=null))}else if(3===ja){fa=G[z+1];var ia=G[z+2];128===(fa&192)&&128===(ia&192)&&(T=(R&15)<<12|(fa&63)<<6|ia&63,2047>=T||55296<=T&&57343>=T)&&(T=null)}else if(4===ja){fa=G[z+1];ia=
G[z+2];var la=G[z+3];128===(fa&192)&&128===(ia&192)&&128===(la&192)&&(T=(R&15)<<18|(fa&63)<<12|(ia&63)<<6|la&63,65535>=T||1114112<=T)&&(T=null)}null===T?(T=65533,ja=1):65535<T&&(T-=65536,K+=String.fromCharCode(T>>>10&1023|55296),T=56320|T&1023);K+=String.fromCharCode(T);z+=ja}return K},readBytes:function(){var F=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,F);this.pos=F;return z},readPackedVarint:function(F,z){if(this.type!==k.Bytes)return F.push(this.readVarint(z));var G=w(this);for(F=
F||[];this.pos<G;)F.push(this.readVarint(z));return F},readPackedSVarint:function(F){if(this.type!==k.Bytes)return F.push(this.readSVarint());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readSVarint());return F},readPackedBoolean:function(F){if(this.type!==k.Bytes)return F.push(this.readBoolean());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readBoolean());return F},readPackedFloat:function(F){if(this.type!==k.Bytes)return F.push(this.readFloat());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readFloat());
return F},readPackedDouble:function(F){if(this.type!==k.Bytes)return F.push(this.readDouble());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readDouble());return F},readPackedFixed32:function(F){if(this.type!==k.Bytes)return F.push(this.readFixed32());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readFixed32());return F},readPackedSFixed32:function(F){if(this.type!==k.Bytes)return F.push(this.readSFixed32());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readSFixed32());return F},readPackedFixed64:function(F){if(this.type!==
k.Bytes)return F.push(this.readFixed64());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readFixed64());return F},readPackedSFixed64:function(F){if(this.type!==k.Bytes)return F.push(this.readSFixed64());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readSFixed64());return F},skip:function(F){F&=7;if(F===k.Varint)for(;127<this.buf[this.pos++];);else if(F===k.Bytes)this.pos=this.readVarint()+this.pos;else if(F===k.Fixed32)this.pos+=4;else if(F===k.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
F);},writeTag:function(F,z){this.writeVarint(F<<3|z)},realloc:function(F){for(var z=this.length||16;z<this.pos+F;)z*=2;z!==this.length&&(F=new Uint8Array(z),F.set(this.buf),this.buf=F,this.length=z)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(F){this.realloc(4);y(this.buf,F,this.pos);this.pos+=4},writeSFixed32:function(F){this.realloc(4);y(this.buf,F,this.pos);this.pos+=4},writeFixed64:function(F){this.realloc(8);y(this.buf,F&-1,
this.pos);y(this.buf,Math.floor(F*O),this.pos+4);this.pos+=8},writeSFixed64:function(F){this.realloc(8);y(this.buf,F&-1,this.pos);y(this.buf,Math.floor(F*O),this.pos+4);this.pos+=8},writeVarint:function(F){F=+F||0;if(268435455<F||0>F){if(0<=F){var z=F%4294967296|0;var G=F/4294967296|0}else z=~(-F%4294967296),G=~(-F/4294967296),z^4294967295?z=z+1|0:(z=0,G=G+1|0);if(1.8446744073709552E19<=F||-1.8446744073709552E19>F)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);F=z;this.buf[this.pos++]=
F&127|128;F>>>=7;this.buf[this.pos++]=F&127|128;F>>>=7;this.buf[this.pos++]=F&127|128;F>>>=7;this.buf[this.pos++]=F&127|128;this.buf[this.pos]=F>>>7&127;this.buf[this.pos++]|=(G&7)<<4|((G>>>=3)?128:0);G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127)))))}else this.realloc(4),this.buf[this.pos++]=F&127|(127<F?128:0),127>=F||(this.buf[this.pos++]=
(F>>>=7)&127|(127<F?128:0),127>=F||(this.buf[this.pos++]=(F>>>=7)&127|(127<F?128:0),127>=F||(this.buf[this.pos++]=F>>>7&127)))},writeSVarint:function(F){this.writeVarint(0>F?2*-F-1:2*F)},writeBoolean:function(F){this.writeVarint(!!F)},writeString:function(F){F=String(F);this.realloc(4*F.length);this.pos++;for(var z=this.pos,G=this.buf,K=this.pos,R=0,T,ja;R<F.length;R++){T=F.charCodeAt(R);if(55295<T&&57344>T)if(ja)if(56320>T){G[K++]=239;G[K++]=191;G[K++]=189;ja=T;continue}else T=ja-55296<<10|T-56320|
65536,ja=null;else{56319<T||R+1===F.length?(G[K++]=239,G[K++]=191,G[K++]=189):ja=T;continue}else ja&&(G[K++]=239,G[K++]=191,G[K++]=189,ja=null);128>T?G[K++]=T:(2048>T?G[K++]=T>>6|192:(65536>T?G[K++]=T>>12|224:(G[K++]=T>>18|240,G[K++]=T>>12&63|128),G[K++]=T>>6&63|128),G[K++]=T&63|128)}this.pos=K;G=this.pos-z;128<=G&&N(z,G,this);this.pos=z-1;this.writeVarint(G);this.pos+=G},writeFloat:function(F){this.realloc(4);D.write(this.buf,F,this.pos,!0,23,4);this.pos+=4},writeDouble:function(F){this.realloc(8);
D.write(this.buf,F,this.pos,!0,52,8);this.pos+=8},writeBytes:function(F){var z=F.length;this.writeVarint(z);this.realloc(z);for(var G=0;G<z;G++)this.buf[this.pos++]=F[G]},writeRawMessage:function(F,z){this.pos++;var G=this.pos;F(z,this);F=this.pos-G;128<=F&&N(G,F,this);this.pos=G-1;this.writeVarint(F);this.pos+=F},writeMessage:function(F,z,G){this.writeTag(F,k.Bytes);this.writeRawMessage(z,G)},writePackedVarint:function(F,z){z.length&&this.writeMessage(F,x,z)},writePackedSVarint:function(F,z){z.length&&
this.writeMessage(F,v,z)},writePackedBoolean:function(F,z){z.length&&this.writeMessage(F,g,z)},writePackedFloat:function(F,z){z.length&&this.writeMessage(F,u,z)},writePackedDouble:function(F,z){z.length&&this.writeMessage(F,m,z)},writePackedFixed32:function(F,z){z.length&&this.writeMessage(F,d,z)},writePackedSFixed32:function(F,z){z.length&&this.writeMessage(F,f,z)},writePackedFixed64:function(F,z){z.length&&this.writeMessage(F,a,z)},writePackedSFixed64:function(F,z){z.length&&this.writeMessage(F,
e,z)},writeBytesField:function(F,z){this.writeTag(F,k.Bytes);this.writeBytes(z)},writeFixed32Field:function(F,z){this.writeTag(F,k.Fixed32);this.writeFixed32(z)},writeSFixed32Field:function(F,z){this.writeTag(F,k.Fixed32);this.writeSFixed32(z)},writeFixed64Field:function(F,z){this.writeTag(F,k.Fixed64);this.writeFixed64(z)},writeSFixed64Field:function(F,z){this.writeTag(F,k.Fixed64);this.writeSFixed64(z)},writeVarintField:function(F,z){this.writeTag(F,k.Varint);this.writeVarint(z)},writeSVarintField:function(F,
z){this.writeTag(F,k.Varint);this.writeSVarint(z)},writeStringField:function(F,z){this.writeTag(F,k.Bytes);this.writeString(z)},writeFloatField:function(F,z){this.writeTag(F,k.Fixed32);this.writeFloat(z)},writeDoubleField:function(F,z){this.writeTag(F,k.Fixed64);this.writeDouble(z)},writeBooleanField:function(F,z){this.writeVarintField(F,!!z)}}};
shadow$provide[326]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=function(d){return d&&d.__esModule?d:{"default":d}}(A(117)),l=A(75),w=A(78),H=A(70),N=A(145),x=A(128),v=A(189),u=A(194),m=A(134),g=(0,l.create)();Ia=function(){function d(f,a,e,n,y){this.id_=y;this.type_=f;this.flatCoordinates_=a;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=e;this.properties_=n}d.prototype.get=function(f){return this.properties_[f]};d.prototype.getExtent=
function(){this.extent_||(this.extent_=this.type_===k["default"].POINT?(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,w.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_};d.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var f=(0,w.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,N.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,f,0)}return this.flatInteriorPoints_};d.prototype.getFlatInteriorPoints=
function(){if(!this.flatInteriorPoints_){var f=(0,u.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,N.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,f)}return this.flatInteriorPoints_};d.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,v.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};d.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=
[];for(var f=this.flatCoordinates_,a=0,e=this.ends_,n=0,y=e.length;n<y;++n){var B=e[n];a=(0,v.interpolatePoint)(f,a,B,2,.5);(0,H.extend)(this.flatMidpoints_,a);a=B}}return this.flatMidpoints_};d.prototype.getId=function(){return this.id_};d.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};d.prototype.getGeometry=function(){return this};d.prototype.getSimplifiedGeometry=function(f){return this};d.prototype.simplifyTransformed=function(f,a){return this};d.prototype.getProperties=
function(){return this.properties_};d.prototype.getStride=function(){return 2};d.prototype.getStyleFunction=function(){};d.prototype.getType=function(){return this.type_};d.prototype.transform=function(f){f=(0,x.get)(f);var a=f.getExtent();f=f.getWorldExtent();a&&f&&(a=(0,w.getHeight)(f)/(0,w.getHeight)(a),(0,l.compose)(g,f[0],f[3],a,-a,0,0,0),(0,m.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,g,this.flatCoordinates_))};d.prototype.getEnds=function(){return this.ends_};return d}();
Ia.prototype.getEndss=Ia.prototype.getEnds;Ia.prototype.getFlatCoordinates=Ia.prototype.getOrientedFlatCoordinates;E["default"]=Ia};
shadow$provide[327]=function(Ia,A,rb,E){function k(R){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"===typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};return k(R)}function l(R){return R&&R.__esModule?R:{"default":R}}function w(){if("function"!==typeof WeakMap)return null;var R=new WeakMap;w=function(){return R};return R}function H(R,T,ja){if(3===R){R={keys:[],values:[],features:[]};var fa=
ja.readVarint()+ja.pos;ja.readFields(N,R,fa);R.length=R.features.length;R.length&&(T[R.name]=R)}}function N(R,T,ja){if(15===R)T.version=ja.readVarint();else if(1===R)T.name=ja.readString();else if(5===R)T.extent=ja.readVarint();else if(2===R)T.features.push(ja.pos);else if(3===R)T.keys.push(ja.readString());else if(4===R){R=null;for(var fa=ja.readVarint()+ja.pos;ja.pos<fa;)R=ja.readVarint()>>3,R=1===R?ja.readString():2===R?ja.readFloat():3===R?ja.readDouble():4===R?ja.readVarint64():5===R?ja.readVarint():
6===R?ja.readSVarint():7===R?ja.readBoolean():null;T.values.push(R)}}function x(R,T,ja){if(1==R)T.id=ja.readVarint();else if(2==R)for(R=ja.readVarint()+ja.pos;ja.pos<R;){var fa=T.layer.keys[ja.readVarint()],ia=T.layer.values[ja.readVarint()];T.properties[fa]=ia}else 3==R?T.type=ja.readVarint():4==R&&(T.geometry=ja.pos)}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var v=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==k(R)&&"function"!==typeof R)return{"default":R};
var T=w();if(T&&T.has(R))return T.get(R);var ja={},fa=Object.defineProperty&&Object.getOwnPropertyDescriptor,ia;for(ia in R)if(Object.prototype.hasOwnProperty.call(R,ia)){var la=fa?Object.getOwnPropertyDescriptor(R,ia):null;la&&(la.get||la.set)?Object.defineProperty(ja,ia,la):ja[ia]=R[ia]}ja["default"]=R;T&&T.set(R,ja);return ja}(A(250)),u=l(A(184)),m=l(A(133)),g=l(A(117)),d=l(A(191)),f=l(A(192)),a=l(A(193)),e=l(A(195)),n=l(A(325)),y=l(A(143)),B=l(A(150)),D=l(A(122)),O=l(A(326)),M=l(A(118)),F=A(74),
z=A(128),G=A(149),K=function(){var R=function(T,ja){R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fa,ia){fa.__proto__=ia}||function(fa,ia){for(var la in ia)Object.prototype.hasOwnProperty.call(ia,la)&&(fa[la]=ia[la])};return R(T,ja)};return function(T,ja){function fa(){this.constructor=T}R(T,ja);T.prototype=null===ja?Object.create(ja):(fa.prototype=ja.prototype,new fa)}}();Ia=function(R){function T(ja){var fa=R.call(this)||this;ja=ja?ja:{};fa.dataProjection=new D["default"]({code:"",
units:M["default"].TILE_PIXELS});fa.featureClass_=ja.featureClass?ja.featureClass:O["default"];fa.geometryName_=ja.geometryName;fa.layerName_=ja.layerName?ja.layerName:"layer";fa.layers_=ja.layers?ja.layers:null;fa.idProperty_=ja.idProperty;return fa}K(T,R);T.prototype.readRawGeometry_=function(ja,fa,ia,la){ja.pos=fa.geometry;fa=ja.readVarint()+ja.pos;for(var Z=1,P=0,C=0,V=0,ha=0,aa=0;ja.pos<fa;)P||(P=ja.readVarint(),Z=P&7,P>>=3),P--,1===Z||2===Z?(C+=ja.readSVarint(),V+=ja.readSVarint(),1===Z&&ha>
aa&&(la.push(ha),aa=ha),ia.push(C,V),ha+=2):7===Z?ha>aa&&(ia.push(ia[aa],ia[aa+1]),ha+=2):(0,F.assert)(!1,59);ha>aa&&la.push(ha)};T.prototype.createFeature_=function(ja,fa,ia){var la=fa.type;if(0===la)return null;var Z=fa.properties;if(this.idProperty_){var P=Z[this.idProperty_];delete Z[this.idProperty_]}else P=fa.id;Z[this.layerName_]=fa.layer.name;var C=[];var V=[];this.readRawGeometry_(ja,fa,C,V);ja=V.length;if(1===la)var ha=1===ja?g["default"].POINT:g["default"].MULTI_POINT;else 2===la?ha=1===
ja?g["default"].LINE_STRING:g["default"].MULTI_LINE_STRING:3===la&&(ha=g["default"].POLYGON);la=ha;if(this.featureClass_===O["default"])C=new this.featureClass_(la,C,V,Z,P),C.transform(ia.dataProjection);else{if(la==g["default"].POLYGON){la=[];fa=ja=ha=0;for(var aa=V.length;fa<aa;++fa){var ta=V[fa];if((0,G.linearRingIsClockwise)(C,ha,ta,2)){if(0===la.length)continue;la[la.length-1].push(V[ja])}else la.push(V.slice(ja,fa+1));ja=fa+1;ha=ta}V=1<la.length?new e["default"](C,m["default"].XY,la):new B["default"](C,
m["default"].XY,V)}else V=la===g["default"].POINT?new y["default"](C,m["default"].XY):la===g["default"].LINE_STRING?new d["default"](C,m["default"].XY):la===g["default"].POLYGON?new B["default"](C,m["default"].XY,V):la===g["default"].MULTI_POINT?new a["default"](C,m["default"].XY):la===g["default"].MULTI_LINE_STRING?new f["default"](C,m["default"].XY,V):null;C=new this.featureClass_;this.geometryName_&&C.setGeometryName(this.geometryName_);ia=(0,v.transformGeometryWithOptions)(V,!1,ia);C.setGeometry(ia);
C.setId(P);C.setProperties(Z,!0)}return C};T.prototype.getType=function(){return u["default"].ARRAY_BUFFER};T.prototype.readFeatures=function(ja,fa){var ia=this.layers_;fa=this.adaptOptions(fa);var la=(0,z.get)(fa.dataProjection);la.setWorldExtent(fa.extent);fa.dataProjection=la;ja=new n["default"](ja);var Z=ja.readFields(H,{}),P=[],C;for(C in Z)if(!ia||-1!=ia.indexOf(C)){var V=Z[C];la.setExtent(V?[0,0,V.extent,V.extent]:null);for(var ha=0,aa=V.length;ha<aa;++ha){var ta=ja,wa=V;ta.pos=wa.features[ha];
var Ha=ta.readVarint()+ta.pos;wa={layer:wa,type:0,properties:{}};ta.readFields(x,wa,Ha);P.push(this.createFeature_(ja,wa,fa))}}return P};T.prototype.readProjection=function(ja){return this.dataProjection};T.prototype.setLayers=function(ja){this.layers_=ja};return T}(v["default"]);E["default"]=Ia};
shadow$provide[328]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[329]=function(Ia,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(215)),w=k(A(221));Ia=k(A(295));var H=k(A(86));rb=k(A(218));var N=k(A(115)),x=k(A(328)),v=k(A(119)),u=A(75),m=A(78),g=A(84),d=A(231),f=A(232),a=A(72),e=A(87),n=A(152),y=A(96),B=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,
R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}(),D={image:[rb["default"].POLYGON,rb["default"].CIRCLE,rb["default"].LINE_STRING,rb["default"].IMAGE,rb["default"].TEXT],hybrid:[rb["default"].POLYGON,rb["default"].LINE_STRING],vector:[]},O={image:[rb["default"].DEFAULT],hybrid:[rb["default"].IMAGE,rb["default"].TEXT,rb["default"].DEFAULT],vector:[rb["default"].POLYGON,rb["default"].CIRCLE,
rb["default"].LINE_STRING,rb["default"].IMAGE,rb["default"].TEXT,rb["default"].DEFAULT]};A=function(M){function F(z){z=M.call(this,z)||this;z.boundHandleStyleImageChange_=z.handleStyleImageChange_.bind(z);z.dirty_=!1;z.renderedPixelToCoordinateTransform_=null;z.renderTileImageQueue_={};z.tileListenerKeys_={};z.tmpTransform_=(0,u.create)();return z}B(F,M);F.prototype.prepareTile=function(z,G,K,R){var T=(0,a.getUid)(z),ja=z.getState();(ja===N["default"].LOADED&&z.hifi||ja===N["default"].ERROR)&&T in
this.tileListenerKeys_&&((0,e.unlistenByKey)(this.tileListenerKeys_[T]),delete this.tileListenerKeys_[T]);if(ja===N["default"].LOADED||ja===N["default"].ERROR)if(this.updateExecutorGroup_(z,G,K),this.tileImageNeedsRender_(z,G,K)){var fa=!0;R&&(this.renderTileImageQueue_[T]=z)}return fa};F.prototype.getTile=function(z,G,K,R){var T=R.pixelRatio,ja=R.viewState,fa=ja.resolution;ja=ja.projection;var ia=this.getLayer(),la=ia.getSource().getTile(z,G,K,T,ja);if(la.getState()<N["default"].LOADED)la.wantedResolution=
fa,fa=(0,a.getUid)(la),fa in this.tileListenerKeys_||(T=(0,e.listen)(la,H["default"].CHANGE,this.prepareTile.bind(this,la,T,ja,!0)),this.tileListenerKeys_[fa]=T);else{var Z=R.viewHints;(Z[v["default"].ANIMATING]||Z[v["default"].INTERACTING])&&la.wantedResolution||(la.wantedResolution=fa);this.prepareTile(la,T,ja,!1)&&ia.getRenderMode()!==x["default"].VECTOR&&this.renderTileImage_(la,R)}return M.prototype.getTile.call(this,z,G,K,R)};F.prototype.isDrawableTile=function(z){var G=this.getLayer();return M.prototype.isDrawableTile.call(this,
z)&&(G.getRenderMode()===x["default"].VECTOR?(0,a.getUid)(G)in z.executorGroups:z.hasContext(G))};F.prototype.getTileImage=function(z){return z.getImage(this.getLayer())};F.prototype.prepareFrame=function(z){var G=this.getLayer().getRevision();this.renderedLayerRevision_!=G&&(this.renderedTiles.length=0);this.renderedLayerRevision_=G;return M.prototype.prepareFrame.call(this,z)};F.prototype.updateExecutorGroup_=function(z,G,K){var R=this.getLayer(),T=R.getRevision(),ja=R.getRenderOrder()||null,fa=
z.wantedResolution,ia=z.getReplayState(R);if(ia.dirty||ia.renderedResolution!==fa||ia.renderedRevision!=T||ia.renderedRenderOrder!=ja||ia.renderedZ!==z.sourceZ){var la=R.getSource(),Z=R.getDeclutter(),P=la.getTileGrid(),C=la.getTileGridForProjection(K).getTileCoordExtent(z.wrappedTileCoord),V=la.getSourceTiles(G,K,z),ha=(0,a.getUid)(R);delete z.hitDetectionImageData[ha];z.executorGroups[ha]=[];Z&&(z.declutterExecutorGroups[ha]=[]);K=function(Ha,bb){var kb=V[Ha];if(kb.getState()!=N["default"].LOADED)return"continue";
bb=P.getTileCoordExtent(kb.tileCoord);Ha=(0,m.getIntersection)(C,bb);bb=(0,m.equals)(bb,Ha)?null:(0,m.buffer)(Ha,R.getRenderBuffer()*fa,aa.tmpExtent);ia.dirty=!1;var va=new l["default"](0,Ha,fa,G),Ta=Z?new l["default"](0,Ha,fa,G):void 0,Ya=(0,f.getSquaredTolerance)(fa,G),Ca=function(ba){var ca,ra=ba.getStyleFunction()||R.getStyleFunction();ra&&(ca=ra(ba,fa));ca&&(ba=this.renderFeature(ba,Ya,ca,va,Ta),this.dirty_=this.dirty_||ba,ia.dirty=ia.dirty||ba)};kb=kb.getFeatures();ja&&ja!==ia.renderedRenderOrder&&
kb.sort(ja);for(var ua=0,U=kb.length;ua<U;++ua){var W=kb[ua];bb&&!(0,m.intersects)(bb,W.getGeometry().getExtent())||Ca.call(aa,W)}bb=va.finish();Ha=R.getRenderMode()!==x["default"].VECTOR&&Z&&1===V.length?null:Ha;bb=new w["default"](Ha,fa,G,la.getOverlaps(),bb,R.getRenderBuffer());z.executorGroups[ha].push(bb);Ta&&(Ha=new w["default"](Ha,fa,G,la.getOverlaps(),Ta.finish(),R.getRenderBuffer()),z.declutterExecutorGroups[ha].push(Ha))};for(var aa=this,ta=0,wa=V.length;ta<wa;++ta)K(ta,wa);ia.renderedRevision=
T;ia.renderedZ=z.sourceZ;ia.renderedRenderOrder=ja;ia.renderedResolution=fa}};F.prototype.forEachFeatureAtCoordinate=function(z,G,K,R,T){var ja=G.viewState.resolution,fa=G.viewState.rotation;K=void 0==K?0:K;var ia=this.getLayer(),la=ia.getSource().getTileGridForProjection(G.viewState.projection),Z=(0,m.boundingExtent)([z]);(0,m.buffer)(Z,ja*K,Z);for(var P={},C=function(Ha,bb,kb){var va=Ha.getId();void 0===va&&(va=(0,a.getUid)(Ha));var Ta=P[va];if(!Ta){if(0===kb)return P[va]=!0,R(Ha,ia,bb);T.push(P[va]=
{feature:Ha,layer:ia,geometry:bb,distanceSq:kb,callback:R})}else if(!0!==Ta&&kb<Ta.distanceSq){if(0===kb)return P[va]=!0,T.splice(T.lastIndexOf(Ta),1),R(Ha,ia,bb);Ta.geometry=bb;Ta.distanceSq=kb}},V=this.renderedTiles,ha,aa=function(Ha,bb){Ha=V[Ha];bb=la.getTileCoordExtent(Ha.wrappedTileCoord);if(!(0,m.intersects)(bb,Z))return"continue";bb=(0,a.getUid)(ia);var kb=[Ha.executorGroups[bb]],va=Ha.declutterExecutorGroups[bb];va&&kb.push(va);kb.some(function(Ta){for(var Ya=Ta===va?G.declutterTree.all().map(function(U){return U.value}):
null,Ca=0,ua=Ta.length;Ca<ua;++Ca)if(ha=Ta[Ca].forEachFeatureAtCoordinate(z,ja,fa,K,C,Ya))return!0})},ta=0,wa=V.length;!ha&&ta<wa;++ta)aa(ta,wa);return ha};F.prototype.getFeatures=function(z){return new Promise(function(G,K){K=this.getLayer();for(var R=(0,a.getUid)(K),T=K.getSource(),ja=this.renderedProjection,fa=ja.getExtent(),ia=this.renderedResolution,la=T.getTileGridForProjection(ja),Z=(0,u.apply)(this.renderedPixelToCoordinateTransform_,z.slice()),P=la.getTileCoordForCoordAndResolution(Z,ia),
C,V=0,ha=this.renderedTiles.length;V<ha;++V)if(P.toString()===this.renderedTiles[V].tileCoord.toString()){C=this.renderedTiles[V];if(C.getState()===N["default"].LOADED&&C.hifi){P=la.getTileCoordExtent(C.tileCoord);T.getWrapX()&&ja.canWrapX()&&!(0,m.containsExtent)(fa,P)&&(0,y.wrapX)(Z,ja);break}C=void 0}!C||0<C.loadingSourceTiles?G([]):(T=la.getTileCoordExtent(C.wrappedTileCoord),T=(0,m.getTopLeft)(T),Z=[(Z[0]-T[0])/ia,(T[1]-Z[1])/ia],T=C.getSourceTiles().reduce(function(aa,ta){return aa.concat(ta.getFeatures())},
[]),ja=C.hitDetectionImageData[R],ja||this.animatingOrInteracting_||(ja=(0,n.toSize)(la.getTileSize(la.getZForResolution(ia))),P=[ja[0]/2,ja[1]/2],fa=this.renderedRotation_,ia=[this.getRenderTransform(la.getTileCoordCenter(C.wrappedTileCoord),ia,0,.5,P[0],P[1],0)],ja=(0,d.createHitDetectionImageData)(ja,ia,T,K.getStyleFunction(),la.getTileCoordExtent(C.wrappedTileCoord),C.getReplayState(K).renderedResolution,fa),C.hitDetectionImageData[R]=ja),G((0,d.hitDetect)(Z,T,ja)))}.bind(this))};F.prototype.handleFontsChanged=
function(){(0,g.clear)(this.renderTileImageQueue_);var z=this.getLayer();z.getVisible()&&void 0!==this.renderedLayerRevision_&&z.changed()};F.prototype.handleStyleImageChange_=function(z){this.renderIfReadyAndVisible()};F.prototype.renderDeclutter=function(z){var G=z.viewHints;G=!(G[v["default"].ANIMATING]||G[v["default"].INTERACTING]);for(var K=this.renderedTiles,R=0,T=K.length;R<T;++R){var ja=K[R],fa=ja.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(fa)for(var ia=fa.length-1;0<=ia;--ia)fa[ia].execute(this.context,
1,this.getTileRenderTransform(ja,z),z.viewState.rotation,G,void 0,z.declutterTree)}};F.prototype.getTileRenderTransform=function(z,G){var K=G.pixelRatio,R=G.viewState,T=R.center,ja=R.resolution;R=R.rotation;var fa=G.size,ia=Math.round(fa[0]*K);fa=Math.round(fa[1]*K);G=this.getLayer().getSource().getTileGridForProjection(G.viewState.projection);var la=z.tileCoord;z=G.getTileCoordExtent(z.wrappedTileCoord);z=G.getTileCoordExtent(la,this.tmpExtent)[0]-z[0];return(0,u.multiply)((0,u.scale)(this.inversePixelTransform.slice(),
1/K,1/K),this.getRenderTransform(T,ja,R,K,ia,fa,z))};F.prototype.renderFrame=function(z,G){var K=z.viewHints;K=!(K[v["default"].ANIMATING]||K[v["default"].INTERACTING]);this.renderQueuedTileImages_(K,z);M.prototype.renderFrame.call(this,z,G);this.renderedPixelToCoordinateTransform_=z.pixelToCoordinateTransform.slice();this.renderedRotation_=z.viewState.rotation;G=this.getLayer();var R=G.getRenderMode();if(R===x["default"].IMAGE)return this.container;var T=G.getSource();T=z.usedTiles[(0,a.getUid)(T)];
for(var ja in this.renderTileImageQueue_)T&&ja in T||delete this.renderTileImageQueue_[ja];ja=this.context;R=O[R];T=z.viewState.rotation;for(var fa=this.renderedTiles,ia=[],la=[],Z=fa.length-1;0<=Z;--Z)for(var P=fa[Z],C=this.getTileRenderTransform(P,z),V=P.executorGroups[(0,a.getUid)(G)],ha=!1,aa=0,ta=V.length;aa<ta;++aa){var wa=V[aa];if(wa.hasExecutors(R)){var Ha=P.tileCoord[0],bb=void 0;if(!ha&&(bb=wa.getClipCoords(C))){ja.save();for(var kb=0,va=ia.length;kb<va;++kb){var Ta=ia[kb];Ha<la[kb]&&(ja.beginPath(),
ja.moveTo(bb[0],bb[1]),ja.lineTo(bb[2],bb[3]),ja.lineTo(bb[4],bb[5]),ja.lineTo(bb[6],bb[7]),ja.moveTo(Ta[6],Ta[7]),ja.lineTo(Ta[4],Ta[5]),ja.lineTo(Ta[2],Ta[3]),ja.lineTo(Ta[0],Ta[1]),ja.clip())}}wa.execute(ja,1,C,T,K,R);!ha&&bb&&(ja.restore(),ia.push(bb),la.push(Ha),ha=!0)}}return this.container};F.prototype.renderQueuedTileImages_=function(z,G){for(var K in this.renderTileImageQueue_){if(!z&&8<Date.now()-G.time){G.animate=!0;break}var R=this.renderTileImageQueue_[K];delete this.renderTileImageQueue_[K];
this.renderTileImage_(R,G)}};F.prototype.renderFeature=function(z,G,K,R,T){if(!K)return!1;var ja=!1;if(Array.isArray(K))for(var fa=0,ia=K.length;fa<ia;++fa)ja=(0,f.renderFeature)(R,z,K[fa],G,this.boundHandleStyleImageChange_,void 0,T)||ja;else ja=(0,f.renderFeature)(R,z,K,G,this.boundHandleStyleImageChange_,void 0,T);return ja};F.prototype.tileImageNeedsRender_=function(z,G,K){K=this.getLayer();G=z.getReplayState(K);K=K.getRevision();var R=z.sourceZ;return G.renderedTileResolution!==z.wantedResolution||
G.renderedTileRevision!==K||G.renderedTileZ!==R};F.prototype.renderTileImage_=function(z,G){var K=this.getLayer(),R=z.getReplayState(K),T=K.getRevision(),ja=z.executorGroups[(0,a.getUid)(K)];R.renderedTileRevision=T;R.renderedTileZ=z.sourceZ;T=z.wrappedTileCoord;var fa=T[0],ia=K.getSource(),la=G.pixelRatio,Z=G.viewState.projection,P=ia.getTileGridForProjection(Z),C=P.getResolution(z.tileCoord[0]);C*=G.pixelRatio/z.wantedResolution;var V=P.getResolution(fa);G=z.getContext(K);la=Math.round(Math.max(la,
C/la));fa=ia.getTilePixelSize(fa,la,Z);G.canvas.width=fa[0];G.canvas.height=fa[1];la/=C;1!==la&&(fa=(0,u.reset)(this.tmpTransform_),(0,u.scale)(fa,la,la),G.setTransform.apply(G,fa));T=P.getTileCoordExtent(T,this.tmpExtent);C/=V;P=(0,u.reset)(this.tmpTransform_);(0,u.scale)(P,C,-C);(0,u.translate)(P,-T[0],-T[3]);T=0;for(C=ja.length;T<C;++T)ja[T].execute(G,la,P,0,!0,D[K.getRenderMode()]);R.renderedTileResolution=z.wantedResolution};return F}(Ia["default"]);E["default"]=A};
shadow$provide[330]=function(Ia,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(205));var l=k(A(329)),w=k(A(293)),H=k(A(328)),N=A(74),x=A(84),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=
m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){g=g?g:{};var d=(0,x.assign)({},g);delete d.preload;delete d.useInterimTilesOnError;d=u.call(this,d)||this;var f=g.renderMode||H["default"].HYBRID;(0,N.assert)(void 0==f||f==H["default"].IMAGE||f==H["default"].HYBRID||f==H["default"].VECTOR,28);d.renderMode_=f;d.setPreload(g.preload?g.preload:0);d.setUseInterimTilesOnError(void 0!==g.useInterimTilesOnError?g.useInterimTilesOnError:!0);return d}
v(m,u);m.prototype.createRenderer=function(){return new l["default"](this)};m.prototype.getFeatures=function(g){return u.prototype.getFeatures.call(this,g)};m.prototype.getRenderMode=function(){return this.renderMode_};m.prototype.getPreload=function(){return this.get(w["default"].PRELOAD)};m.prototype.getUseInterimTilesOnError=function(){return this.get(w["default"].USE_INTERIM_TILES_ON_ERROR)};m.prototype.setPreload=function(g){this.set(w["default"].PRELOAD,g)};m.prototype.setUseInterimTilesOnError=
function(g){this.set(w["default"].USE_INTERIM_TILES_ON_ERROR,g)};return m}(Ia["default"]);E["default"]=A};
shadow$provide[331]=function(Ia,A,rb,E){var k={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},l=/(italic|oblique)$/i,w={};rb.exports=function(H,N,x){var v=w[H];if(!v){Array.isArray(H)||(H=[H]);v=400;for(var u="normal",m=[],g=0,d=H.length;g<
d;++g){var f=H[g].split(" "),a=f[f.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(u=a,f.pop(),a=f[f.length-1].toLowerCase()):l.test(a)&&(a=a.replace(l,""),u=f[f.length-1].replace(a,""));for(var e in k)if(a==e||a==e.replace("-","")||a==e.replace("-"," ")){v=k[e];f.pop();break}"number"==typeof a&&(v=a);f=f.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==f.indexOf(" ")&&(f='"'+f+'"');m.push(f)}v=w[H]=[u,v,m]}return v[0]+" "+v[1]+" "+N+"px"+(x?"/"+x:"")+" "+v[2]}};
shadow$provide[332]=function(Ia,A,rb,E){var k=A(24).Buffer;(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?w(E):"function"===typeof define&&define.amd?define(["exports"],w):(l=l||self,w(l.mapboxGlStyleSpecification={}))})(this,function(l){function w(r,Q){const ma={};for(const Ma in Q)void 0!==r[Ma]&&(ma[Ma]=r[Ma]);for(const Ma in r)void 0===ma[Ma]&&(ma[Ma]=r[Ma]);return ma}function H(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs");}function N(r,
Q){return Q={exports:{}},r(Q,Q.exports),Q.exports}function x(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function v(r,Q,ma){if(r&&ue.isObject(r)&&r instanceof x)return r;var Ma=new x;Ma.parse(r,Q,ma);return Ma}function u(r){for(var Q=0;Q<Gc.layout.length;Q++)for(const ma in Gc[Gc.layout[Q]])if(ma===r)return Gc[Gc.layout[Q]][ma];for(Q=0;Q<Gc.paint.length;Q++)for(const ma in Gc[Gc.paint[Q]])if(ma===
r)return Gc[Gc.paint[Q]][ma];return null}function m(r,Q){for(const ma in r.sources)Q(r.sources[ma])}function g(r,Q){for(const ma of r.layers)Q(ma)}function d(r,Q,ma){function Ma(gb,lb){const sb=gb[lb];sb&&Object.keys(sb).forEach(Rb=>{ma({path:[gb.id,lb,Rb],key:Rb,value:sb[Rb],reference:u(Rb),set(ec){sb[Rb]=ec}})})}g(r,gb=>{Q.paint&&Ma(gb,"paint");Q.layout&&Ma(gb,"layout")})}function f(r,Q){for(const ma in r)0===ma.indexOf("layout")&&Q(r[ma],ma)}function a(r,Q){for(const ma in r)0===ma.indexOf("paint")&&
Q(r[ma],ma)}function e(r,Q){return"string"===typeof Q&&"@"===Q[0]?e(r,r.constants[Q]):Q}function n(r,Q,ma){r[ma]=r[Q];delete r[Q]}function y(r){function Q(gb){const lb=Mc.parse(gb),sb=lb.pathname.split("/");if("mapbox:"!==lb.protocol)return gb;if("fontstack"===lb.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===lb.hostname)return`mapbox://fonts/${sb[2]}/{fontstack}/{range}.pbf`}function ma(gb){function lb(sb){return sb.split(",").map(Rb=>Rb.trim())}if(Array.isArray(gb))return gb;
if("string"===typeof gb)return lb(gb);if("object"===typeof gb)return gb.stops.forEach(sb=>{sb[1]=lb(sb[1])}),gb;throw Error("unexpected font value");}r.version=8;m(r,gb=>{"video"===gb.type&&void 0!==gb.url&&n(gb,"url","urls");"video"===gb.type&&gb.coordinates.forEach(lb=>lb.reverse())});g(r,gb=>{f(gb,lb=>{void 0!==lb["symbol-min-distance"]&&n(lb,"symbol-min-distance","symbol-spacing")});a(gb,lb=>{void 0!==lb["background-image"]&&n(lb,"background-image","background-pattern");void 0!==lb["line-image"]&&
n(lb,"line-image","line-pattern");void 0!==lb["fill-image"]&&n(lb,"fill-image","fill-pattern")})});d(r,{paint:!0,layout:!0},gb=>{const lb=e(r,gb.value);Array.isArray(lb.stops)&&lb.stops.forEach(sb=>{sb[1]=e(r,sb[1])});gb.set(lb)});delete r.constants;g(r,gb=>{f(gb,lb=>{delete lb["text-max-size"];delete lb["icon-max-size"]});a(gb,lb=>{lb["text-size"]&&(gb.layout||(gb.layout={}),gb.layout["text-size"]=lb["text-size"],delete lb["text-size"]);lb["icon-size"]&&(gb.layout||(gb.layout={}),gb.layout["icon-size"]=
lb["icon-size"],delete lb["icon-size"])})});r.glyphs&&(r.glyphs=Q(r.glyphs));g(r,gb=>{f(gb,lb=>{lb["text-font"]&&(lb["text-font"]=ma(lb["text-font"]))})});var Ma=0;for(let gb=r.layers.length-1;0<=gb;gb--)if("symbol"!==r.layers[gb].type){Ma=gb+1;break}Ma=r.layers.splice(Ma);Ma.reverse();r.layers=r.layers.concat(Ma);return r}function B(r,...Q){for(const ma of Q)for(const Ma in ma)r[Ma]=ma[Ma];return r}function D(r,Q){return{kind:"array",itemType:r,N:Q}}function O(r){if("array"===r.kind){const Q=O(r.itemType);
return"number"===typeof r.N?`array<${Q}, ${r.N}>`:"value"===r.itemType.kind?"array":`array<${Q}>`}return r.kind}function M(r,Q){if("error"===Q.kind)return null;if("array"===r.kind){if("array"===Q.kind&&(0===Q.N&&"value"===Q.itemType.kind||!M(r.itemType,Q.itemType))&&("number"!==typeof r.N||r.N===Q.N))return null}else{if(r.kind===Q.kind)return null;if("value"===r.kind)for(const ma of Zf)if(!M(ma,Q))return null}return`Expected ${O(r)} but found ${O(Q)} instead.`}function F(r,Q){return Q.some(ma=>ma.kind===
r.kind)}function z(r,Q){return Q.some(ma=>"null"===ma?null===r:"array"===ma?Array.isArray(r):"object"===ma?r&&!Array.isArray(r)&&"object"===typeof r:ma===typeof r)}function G(r,Q,ma,Ma){return"number"===typeof r&&0<=r&&255>=r&&"number"===typeof Q&&0<=Q&&255>=Q&&"number"===typeof ma&&0<=ma&&255>=ma?"undefined"===typeof Ma||"number"===typeof Ma&&0<=Ma&&1>=Ma?null:`Invalid rgba value [${[r,Q,ma,Ma].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===typeof Ma?[r,Q,ma,Ma]:[r,
Q,ma]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function K(r){if(null===r||"string"===typeof r||"boolean"===typeof r||"number"===typeof r||r instanceof Pe||r instanceof nf||r instanceof Pa||r instanceof vb)return!0;if(Array.isArray(r)){for(const Q of r)if(!K(Q))return!1;return!0}if("object"===typeof r){for(const Q in r)if(!K(r[Q]))return!1;return!0}return!1}function R(r){if(null===r)return Id;if("string"===typeof r)return Qd;if("boolean"===typeof r)return ie;if("number"===typeof r)return jd;
if(r instanceof Pe)return Gf;if(r instanceof nf)return We;if(r instanceof Pa)return uf;if(r instanceof vb)return mf;if(Array.isArray(r)){const Q=r.length;let ma;for(const Ma of r)if(r=R(Ma),ma){if(ma!==r){ma=kd;break}}else ma=r;return D(ma||kd,Q)}return tf}function T(r){const Q=typeof r;return null===r?"":"string"===Q||"number"===Q||"boolean"===Q?String(r):r instanceof Pe||r instanceof Pa||r instanceof vb?r.toString():JSON.stringify(r)}function ja(r,Q){r[0]=Math.min(r[0],Q[0]);r[1]=Math.min(r[1],
Q[1]);r[2]=Math.max(r[2],Q[0]);r[3]=Math.max(r[3],Q[1])}function fa(r,Q){return r[0]<=Q[0]||r[2]>=Q[2]||r[1]<=Q[1]||r[3]>=Q[3]?!1:!0}function ia(r,Q){let ma=!1;for(let sb=0,Rb=Q.length;sb<Rb;sb++){const ec=Q[sb];for(let Vb=0,Qc=ec.length;Vb<Qc-1;Vb++){{var Ma=ec[Vb],gb=ec[Vb+1];var lb=r[0]-Ma[0];Ma=r[1]-Ma[1];const dd=r[0]-gb[0];gb=r[1]-gb[1];lb=0===lb*gb-dd*Ma&&0>=lb*dd&&0>=Ma*gb}if(lb)return!1;lb=ec[Vb];gb=ec[Vb+1];lb[1]>r[1]!==gb[1]>r[1]&&r[0]<(gb[0]-lb[0])*(r[1]-lb[1])/(gb[1]-lb[1])+lb[0]&&(ma=
!ma)}}return ma}function la(r,Q,ma,Ma){const gb=Ma[0]-ma[0];Ma=Ma[1]-ma[1];r=(r[0]-ma[0])*Ma-gb*(r[1]-ma[1]);Q=(Q[0]-ma[0])*Ma-gb*(Q[1]-ma[1]);return 0<r&&0>Q||0>r&&0<Q?!0:!1}function Z(r,Q){for(var ma=0;ma<r.length;++ma)if(!ia(r[ma],Q))return!1;for(ma=0;ma<r.length-1;++ma){a:{var Ma=r[ma];var gb=r[ma+1],lb=Q;for(const dd of lb)for(let zd=0;zd<dd.length-1;++zd){lb=Ma;var sb=gb,Rb=dd[zd],ec=dd[zd+1],Vb=[ec[0]-Rb[0],ec[1]-Rb[1]],Qc=[sb[0]-lb[0],sb[1]-lb[1]];if(0===Vb[0]*Qc[1]-Vb[1]*Qc[0]?0:la(lb,sb,
Rb,ec)&&la(Rb,ec,lb,sb)){Ma=!0;break a}}Ma=!1}if(Ma)return!1}return!0}function P(r,Q,ma){const Ma=[];for(let lb=0;lb<r.length;lb++){const sb=[];for(let Rb=0;Rb<r[lb].length;Rb++){{var gb=r[lb][Rb];const ec=Math.pow(2,ma.z);gb=[Math.round((180+gb[0])/360*ec*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+gb[1]*Math.PI/360)))/360*ec*8192)]}ja(Q,gb);sb.push(gb)}Ma.push(sb)}return Ma}function C(r,Q,ma){const Ma=[];for(let gb=0;gb<r.length;gb++){const lb=P(r[gb],Q,ma);Ma.push(lb)}return Ma}
function V(r,Q,ma,Ma){if(r[0]<ma[0]||r[0]>ma[2]){const gb=.5*Ma;let lb=r[0]-ma[0]>gb?-Ma:ma[0]-r[0]>gb?Ma:0;0===lb&&(lb=r[0]-ma[2]>gb?-Ma:ma[2]-r[0]>gb?Ma:0);r[0]+=lb}ja(Q,r)}function ha(r,Q,ma,Ma){const gb=8192*Math.pow(2,Ma.z);Ma=[8192*Ma.x,8192*Ma.y];const lb=[];for(const sb of r)for(const Rb of sb)r=[Rb.x+Ma[0],Rb.y+Ma[1]],V(r,Q,ma,gb),lb.push(r);return lb}function aa(r,Q,ma,Ma){const gb=8192*Math.pow(2,Ma.z);Ma=[8192*Ma.x,8192*Ma.y];const lb=[];for(const sb of r){r=[];for(const Rb of sb){const ec=
[Rb.x+Ma[0],Rb.y+Ma[1]];ja(Q,ec);r.push(ec)}lb.push(r)}if(Q[2]-Q[0]<=gb/2){Q[0]=Q[1]=Infinity;Q[2]=Q[3]=-Infinity;for(const sb of lb)for(const Rb of sb)V(Rb,Q,ma,gb)}return lb}function ta(r,Q){var ma=[Infinity,Infinity,-Infinity,-Infinity],Ma=[Infinity,Infinity,-Infinity,-Infinity];const gb=r.canonicalID();if("Polygon"===Q.type){const lb=P(Q.coordinates,Ma,gb),sb=ha(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const Rb of sb)if(!ia(Rb,lb))return!1}if("MultiPolygon"===Q.type){Q=C(Q.coordinates,
Ma,gb);r=ha(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const lb of r){a:{ma=lb;Ma=Q;for(r=0;r<Ma.length;r++)if(ia(ma,Ma[r])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function wa(r,Q){var ma=[Infinity,Infinity,-Infinity,-Infinity],Ma=[Infinity,Infinity,-Infinity,-Infinity];const gb=r.canonicalID();if("Polygon"===Q.type){const lb=P(Q.coordinates,Ma,gb),sb=aa(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const Rb of sb)if(!Z(Rb,lb))return!1}if("MultiPolygon"===Q.type){Q=C(Q.coordinates,
Ma,gb);r=aa(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const lb of r){a:{ma=lb;Ma=Q;for(r=0;r<Ma.length;r++)if(Z(ma,Ma[r])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function Ha(r){if(r instanceof Gd&&("get"===r.name&&1===r.args.length||"feature-state"===r.name||"has"===r.name&&1===r.args.length||"properties"===r.name||"geometry-type"===r.name||"id"===r.name||/^filter-/.test(r.name))||r instanceof $d)return!1;let Q=!0;r.eachChild(ma=>{Q&&!Ha(ma)&&(Q=!1)});return Q}function bb(r){if(r instanceof
Gd&&"feature-state"===r.name)return!1;let Q=!0;r.eachChild(ma=>{Q&&!bb(ma)&&(Q=!1)});return Q}function kb(r,Q){if(r instanceof Gd&&0<=Q.indexOf(r.name))return!1;let ma=!0;r.eachChild(Ma=>{ma&&!kb(Ma,Q)&&(ma=!1)});return ma}function va(r){if(r instanceof Ie)return va(r.boundExpression);if(r instanceof Gd&&"error"===r.name||r instanceof Le||r instanceof $d)return!1;const Q=r instanceof Kd||r instanceof oc;let ma=!0;r.eachChild(Ma=>{ma=Q?ma&&va(Ma):ma&&Ma instanceof Wb});return ma?Ha(r)&&kb(r,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script".split(" ")):
!1}function Ta(r,Q){const ma=r.length-1;let Ma=0,gb=ma,lb,sb,Rb;for(;Ma<=gb;)if(lb=Math.floor((Ma+gb)/2),sb=r[lb],Rb=r[lb+1],sb<=Q){if(lb===ma||Q<Rb)return lb;Ma=lb+1}else if(sb>Q)gb=lb-1;else throw new Tb("Input is not a number.");return 0}function Ya(r,Q,ma,Ma){this.cx=3*r;this.bx=3*(ma-r)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*Q;this.by=3*(Ma-Q)-this.cy;this.ay=1-this.cy-this.by;this.p1x=r;this.p1y=Ma;this.p2x=ma;this.p2y=Ma}function Ca(r,Q,ma){return r*(1-ma)+Q*ma}function ua(r){return r>
Bg?Math.pow(r,1/3):r/Cf+ne}function U(r){return r>sf?r*r*r:Cf*(r-ne)}function W(r){return 255*(.0031308>=r?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function ba(r){r/=255;return.04045>=r?r/12.92:Math.pow((r+.055)/1.055,2.4)}function ca(r){var Q=ba(r.r);const ma=ba(r.g),Ma=ba(r.b),gb=ua((.4124564*Q+.3575761*ma+.1804375*Ma)/.95047),lb=ua(.2126729*Q+.7151522*ma+.072175*Ma);Q=ua((.0193339*Q+.119192*ma+.9503041*Ma)/1.08883);return{l:116*lb-16,a:500*(gb-lb),b:200*(lb-Q),alpha:r.a}}function ra(r){let Q=(r.l+
16)/116,ma=isNaN(r.a)?Q:Q+r.a/500,Ma=isNaN(r.b)?Q:Q-r.b/200;Q=1*U(Q);ma=.95047*U(ma);Ma=1.08883*U(Ma);return new Pe(W(3.2404542*ma-1.5371385*Q-.4985314*Ma),W(-.969266*ma+1.8760108*Q+.041556*Ma),W(.0556434*ma-.2040259*Q+1.0572252*Ma),r.alpha)}function qa(r,Q,ma,Ma){Ma-=ma;r-=ma;return 0===Ma?0:1===Q?r/Ma:(Math.pow(Q,r)-1)/(Math.pow(Q,Ma)-1)}function Da(r,Q){return"\x3d\x3d"===r||"!\x3d"===r?"boolean"===Q.kind||"string"===Q.kind||"number"===Q.kind||"null"===Q.kind||"value"===Q.kind:"string"===Q.kind||
"number"===Q.kind||"value"===Q.kind}function na(r,Q,ma,Ma){return 0===Ma.compare(Q,ma)}function Ra(r,Q,ma){const Ma="\x3d\x3d"!==r&&"!\x3d"!==r;return class gb{constructor(lb,sb,Rb){this.type=ie;this.lhs=lb;this.rhs=sb;this.collator=Rb;this.hasUntypedArgument="value"===lb.type.kind||"value"===sb.type.kind}static parse(lb,sb){if(3!==lb.length&&4!==lb.length)return sb.error("Expected two or three arguments.");var Rb=lb[0];let ec=sb.parse(lb[1],1,kd);if(!ec)return null;if(!Da(Rb,ec.type))return sb.concat(1).error(`"${Rb}" comparisons are not supported for type '${O(ec.type)}'.`);
let Vb=sb.parse(lb[2],2,kd);if(!Vb)return null;if(!Da(Rb,Vb.type))return sb.concat(2).error(`"${Rb}" comparisons are not supported for type '${O(Vb.type)}'.`);if(ec.type.kind!==Vb.type.kind&&"value"!==ec.type.kind&&"value"!==Vb.type.kind)return sb.error(`Cannot compare types '${O(ec.type)}' and '${O(Vb.type)}'.`);Ma&&("value"===ec.type.kind&&"value"!==Vb.type.kind?ec=new oc(Vb.type,[ec]):"value"!==ec.type.kind&&"value"===Vb.type.kind&&(Vb=new oc(ec.type,[Vb])));Rb=null;if(4===lb.length){if("string"!==
ec.type.kind&&"string"!==Vb.type.kind&&"value"!==ec.type.kind&&"value"!==Vb.type.kind)return sb.error("Cannot use collator to compare non-string types.");Rb=sb.parse(lb[3],3,We);if(!Rb)return null}return new gb(ec,Vb,Rb)}evaluate(lb){const sb=this.lhs.evaluate(lb),Rb=this.rhs.evaluate(lb);if(Ma&&this.hasUntypedArgument){var ec=R(sb),Vb=R(Rb);if(ec.kind!==Vb.kind||"string"!==ec.kind&&"number"!==ec.kind)throw new Tb(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${ec.kind}, ${Vb.kind}) instead.`);
}return this.collator&&!Ma&&this.hasUntypedArgument&&(ec=R(sb),Vb=R(Rb),"string"!==ec.kind||"string"!==Vb.kind)?Q(lb,sb,Rb):this.collator?ma(lb,sb,Rb,this.collator.evaluate(lb)):Q(lb,sb,Rb)}eachChild(lb){lb(this.lhs);lb(this.rhs);this.collator&&lb(this.collator)}outputDefined(){return!0}serialize(){const lb=[r];this.eachChild(sb=>{lb.push(sb.serialize())});return lb}}}function db(r,[Q,ma,Ma,gb]){Q=Q.evaluate(r);ma=ma.evaluate(r);Ma=Ma.evaluate(r);r=gb?gb.evaluate(r):1;if(gb=G(Q,ma,Ma,r))throw new Tb(gb);
return new Pe(Q/255*r,ma/255*r,Ma/255*r,r)}function $a(r,Q){r=Q[r];return"undefined"===typeof r?null:r}function Fa(r){return{result:"success",value:r}}function Ga(r){return{result:"error",value:r}}function pa(r){return"data-driven"===r["property-type"]||"cross-faded-data-driven"===r["property-type"]}function Ja(r){return!!r.expression&&-1<r.expression.parameters.indexOf("zoom")}function Ua(r){return!!r.expression&&r.expression.interpolated}function jb(r){return r instanceof Number?"number":r instanceof
String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":null===r?"null":typeof r}function Fb(r){return"object"===typeof r&&null!==r&&!Array.isArray(r)}function Xb(r){return r}function nc(r,Q){var ma="color"===Q.type,Ma=r.stops&&"object"===typeof r.stops[0][0],gb=Ma||void 0!==r.property;gb=Ma||!gb;var lb=r.type||(Ua(Q)?"exponential":"interval");ma&&(r=B({},r),r.stops&&(r.stops=r.stops.map(dd=>[dd[0],Pe.parse(dd[1])])),r.default=r.default?Pe.parse(r.default):Pe.parse(Q.default));if(r.colorSpace&&
"rgb"!==r.colorSpace&&!Na[r.colorSpace])throw Error(`Unknown color space: ${r.colorSpace}`);let sb,Rb,ec;if("exponential"===lb)sb=mb;else if("interval"===lb)sb=Hc;else if("categorical"===lb){sb=pc;Rb=Object.create(null);for(var Vb of r.stops)Rb[Vb[0]]=Vb[1];ec=typeof r.stops[0][0]}else if("identity"===lb)sb=hc;else throw Error(`Unknown function type "${lb}"`);if(Ma){ma={};Ma=[];for(Vb=0;Vb<r.stops.length;Vb++)gb=r.stops[Vb],lb=gb[0].zoom,void 0===ma[lb]&&(ma[lb]={zoom:lb,type:r.type,property:r.property,
default:r.default,stops:[]},Ma.push(lb)),ma[lb].stops.push([gb[0].value,gb[1]]);const dd=[];for(var Qc of Ma)dd.push([ma[Qc].zoom,nc(ma[Qc],Q)]);Qc={name:"linear"};return{kind:"composite",interpolationType:Qc,interpolationFactor:Sa.interpolationFactor.bind(void 0,Qc),zoomStops:dd.map(zd=>zd[0]),evaluate({zoom:zd},rd){return mb({stops:dd,base:r.base},Q,zd).evaluate(zd,rd)}}}return gb?(Qc="exponential"===lb?{name:"exponential",base:void 0!==r.base?r.base:1}:null,{kind:"camera",interpolationType:Qc,
interpolationFactor:Sa.interpolationFactor.bind(void 0,Qc),zoomStops:r.stops.map(dd=>dd[0]),evaluate:({zoom:dd})=>sb(r,Q,dd,Rb,ec)}):{kind:"source",evaluate(dd,zd){dd=zd&&zd.properties?zd.properties[r.property]:void 0;return void 0===dd?md(r.default,Q.default):sb(r,Q,dd,Rb,ec)}}}function md(r,Q,ma){if(void 0!==r)return r;if(void 0!==Q)return Q;if(void 0!==ma)return ma}function pc(r,Q,ma,Ma,gb){return md(typeof ma===gb?Ma[ma]:void 0,r.default,Q.default)}function Hc(r,Q,ma){if("number"!==jb(ma))return md(r.default,
Q.default);Q=r.stops.length;if(1===Q||ma<=r.stops[0][0])return r.stops[0][1];if(ma>=r.stops[Q-1][0])return r.stops[Q-1][1];ma=Ta(r.stops.map(Ma=>Ma[0]),ma);return r.stops[ma][1]}function mb(r,Q,ma){const Ma=void 0!==r.base?r.base:1;if("number"!==jb(ma))return md(r.default,Q.default);var gb=r.stops.length;if(1===gb||ma<=r.stops[0][0])return r.stops[0][1];if(ma>=r.stops[gb-1][0])return r.stops[gb-1][1];gb=Ta(r.stops.map(Vb=>Vb[0]),ma);const lb=jc(ma,Ma,r.stops[gb][0],r.stops[gb+1][0]),sb=r.stops[gb][1],
Rb=r.stops[gb+1][1];let ec=Uf[Q.type]||Xb;if(r.colorSpace&&"rgb"!==r.colorSpace){const Vb=Na[r.colorSpace];ec=(Qc,dd)=>Vb.reverse(Vb.interpolate(Vb.forward(Qc),Vb.forward(dd),lb))}return"function"===typeof sb.evaluate?{evaluate(...Vb){const Qc=sb.evaluate.apply(void 0,Vb);Vb=Rb.evaluate.apply(void 0,Vb);if(void 0!==Qc&&void 0!==Vb)return ec(Qc,Vb,lb)}}:ec(sb,Rb,lb)}function hc(r,Q,ma){"color"===Q.type?ma=Pe.parse(ma):"formatted"===Q.type?ma=Pa.fromString(ma.toString()):"resolvedImage"===Q.type?ma=
vb.fromString(ma.toString()):jb(ma)===Q.type||"enum"===Q.type&&Q.values[ma]||(ma=void 0);return md(ma,r.default,Q.default)}function jc(r,Q,ma,Ma){Ma-=ma;r-=ma;return 0===Ma?0:1===Q?r/Ma:(Math.pow(Q,r)-1)/(Math.pow(Q,Ma)-1)}function rc(r){return Array.isArray(r)&&0<r.length&&"string"===typeof r[0]&&r[0]in qc}function Pc(r,Q){if(Q){var ma={color:Gf,string:Qd,number:jd,enum:Qd,boolean:ie,formatted:uf,resolvedImage:mf};ma="array"===Q.type?D(ma[Q.value]||kd,Q.length):ma[Q.type]}else ma=void 0;ma=new Ce(qc,
[],ma);return(r=ma.parse(r,void 0,void 0,void 0,Q&&"string"===Q.type?{typeAnnotation:"coerce"}:void 0))?Fa(new Ec(r,Q)):Ga(ma.errors)}function sc(r,Q){r=Pc(r,Q);if("error"===r.result)return r;var ma=r.value.expression;const Ma=Ha(ma);if(!Ma&&!pa(Q))return Ga([new Nd("","data expressions not supported")]);const gb=kb(ma,["zoom"]);if(!gb&&!Ja(Q))return Ga([new Nd("","zoom expressions not supported")]);if((ma=Uc(ma))||gb){if(ma instanceof Nd)return Ga([ma]);if(ma instanceof Sa&&!Ua(Q))return Ga([new Nd("",
'"interpolate" expressions cannot be used with this property')])}else return Ga([new Nd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!ma)return Fa(Ma?new ed("constant",r.value):new ed("source",r.value));Q=ma instanceof Sa?ma.interpolation:void 0;return Fa(Ma?new Zc("camera",r.value,ma.labels,Q):new Zc("composite",r.value,ma.labels,Q))}function Uc(r){let Q=null;if(r instanceof hb)Q=Uc(r.result);else if(r instanceof fb)for(const ma of r.args){if(Q=
Uc(ma))break}else(r instanceof Qe||r instanceof Sa)&&r.input instanceof Gd&&"zoom"===r.input.name&&(Q=r);if(Q instanceof Nd)return Q;r.eachChild(ma=>{ma=Uc(ma);ma instanceof Nd?Q=ma:!Q&&ma?Q=new Nd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Q&&ma&&Q!==ma&&(Q=new Nd("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return Q}function Sc(r){return"object"===typeof r?["literal",r]:r}function Lc(r,
Q){let ma=r.stops;if(!ma)return Fd(r,Q);const Ma=ma&&"object"===typeof ma[0][0],gb=Ma||void 0!==r.property,lb=Ma||!gb;ma=ma.map(sb=>!gb&&Q.tokens&&"string"===typeof sb[1]?[sb[0],Vc(sb[1])]:[sb[0],Sc(sb[1])]);return Ma?wd(r,Q,ma):lb?Pb(r,Q,ma):Wd(r,Q,ma)}function Fd(r,Q){const ma=["get",r.property];if(void 0===r.default)return"string"===Q.type?["string",ma]:ma;if("enum"===Q.type)return["match",ma,Object.keys(Q.values),ma,r.default];r=["color"===Q.type?"to-color":Q.type,ma,Sc(r.default)];"array"===
Q.type&&r.splice(1,0,Q.value,Q.length||null);return r}function ge(r){switch(r.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function wd(r,Q,ma){const Ma={},gb={};var lb=[];for(let ec=0;ec<ma.length;ec++){const Vb=ma[ec],Qc=Vb[0].zoom;void 0===Ma[Qc]&&(Ma[Qc]={zoom:Qc,type:r.type,property:r.property,default:r.default},gb[Qc]=[],lb.push(Qc));gb[Qc].push([Vb[0].value,Vb[1]])}if("exponential"===zc({},Q)){var sb=[ge(r),["linear"],["zoom"]];
for(var Rb of lb)lb=Wd(Ma[Rb],Q,gb[Rb]),Eb(sb,Rb,lb,!1);return sb}Rb=["step",["zoom"]];for(sb of lb)lb=Wd(Ma[sb],Q,gb[sb]),Eb(Rb,sb,lb,!0);gc(Rb);return Rb}function vd(r,Q){r=r.default;var ma=Q.default;r=Sc(void 0!==r?r:void 0!==ma?ma:void 0);return void 0===r&&"resolvedImage"===Q.type?"":r}function Wd(r,Q,ma){const Ma=zc(r,Q);var gb=["get",r.property];if("categorical"===Ma&&"boolean"===typeof ma[0][0]){var lb=["case"];for(const sb of ma)lb.push(["\x3d\x3d",gb,sb[0]],sb[1]);lb.push(vd(r,Q));return lb}if("categorical"===
Ma){gb=["match",gb];for(const sb of ma)Eb(gb,sb[0],sb[1],!1);gb.push(vd(r,Q));return gb}if("interval"===Ma){Q=["step",["number",gb]];for(const sb of ma)Eb(Q,sb[0],sb[1],!0);gc(Q);return void 0===r.default?Q:["case",["\x3d\x3d",["typeof",gb],"number"],Q,Sc(r.default)]}if("exponential"===Ma){Q=void 0!==r.base?r.base:1;Q=[ge(r),1===Q?["linear"]:["exponential",Q],["number",gb]];for(lb of ma)Eb(Q,lb[0],lb[1],!1);return void 0===r.default?Q:["case",["\x3d\x3d",["typeof",gb],"number"],Q,Sc(r.default)]}throw Error(`Unknown property function type ${Ma}`);
}function Pb(r,Q,ma,Ma=["zoom"]){var gb=zc(r,Q);Q=!1;if("interval"===gb)r=["step",Ma],Q=!0;else if("exponential"===gb)gb=void 0!==r.base?r.base:1,r=[ge(r),1===gb?["linear"]:["exponential",gb],Ma];else throw Error(`Unknown zoom function type "${gb}"`);for(const lb of ma)Eb(r,lb[0],lb[1],Q);gc(r);return r}function gc(r){"step"===r[0]&&3===r.length&&(r.push(0),r.push(r[3]))}function Eb(r,Q,ma,Ma){3<r.length&&Q===r[r.length-2]||(Ma&&2===r.length||r.push(Q),r.push(ma))}function zc(r,Q){return r.type?r.type:
Q.expression.interpolated?"exponential":"interval"}function Vc(r){const Q=["concat"],ma=/{([^{}]+)}/g;let Ma=0;for(let gb=ma.exec(r);null!==gb;gb=ma.exec(r)){const lb=r.slice(Ma,ma.lastIndex-gb[0].length);Ma=ma.lastIndex;0<lb.length&&Q.push(lb);Q.push(["get",gb[1]])}if(1===Q.length)return r;if(Ma<r.length)Q.push(r.slice(Ma));else if(2===Q.length)return["to-string",Q[1]];return Q}function Ed(r){if(!0===r||!1===r)return!0;if(!Array.isArray(r)||0===r.length)return!1;switch(r[0]){case "has":return 2<=
r.length&&"$id"!==r[1]&&"$type"!==r[1];case "in":return 3<=r.length&&("string"!==typeof r[1]||Array.isArray(r[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==r.length||Array.isArray(r[1])||Array.isArray(r[2]);case "any":case "all":for(const Q of r.slice(1))if(!Ed(Q)&&"boolean"!==typeof Q)return!1;return!0;default:return!0}}function Vd(r,Q){return r<Q?-1:r>Q?1:0}function Ka(r){if(!Array.isArray(r))return!1;
if("within"===r[0])return!0;for(let Q=1;Q<r.length;Q++)if(Ka(r[Q]))return!0;return!1}function eb(r){if(!r)return!0;const Q=r[0];return 1>=r.length?"any"!==Q:"\x3d\x3d"===Q?wb(r[1],r[2],"\x3d\x3d"):"!\x3d"===Q?Lb(wb(r[1],r[2],"\x3d\x3d")):"\x3c"===Q||"\x3e"===Q||"\x3c\x3d"===Q||"\x3e\x3d"===Q?wb(r[1],r[2],Q):"any"===Q?["any"].concat(r.slice(1).map(eb)):"all"===Q?["all"].concat(r.slice(1).map(eb)):"none"===Q?["all"].concat(r.slice(1).map(eb).map(Lb)):"in"===Q?Hb(r[1],r.slice(2)):"!in"===Q?Lb(Hb(r[1],
r.slice(2))):"has"===Q?ac(r[1]):"!has"===Q?Lb(ac(r[1])):"within"===Q?r:!0}function wb(r,Q,ma){switch(r){case "$type":return[`filter-type-${ma}`,Q];case "$id":return[`filter-id-${ma}`,Q];default:return[`filter-${ma}`,r,Q]}}function Hb(r,Q){if(0===Q.length)return!1;switch(r){case "$type":return["filter-type-in",["literal",Q]];case "$id":return["filter-id-in",["literal",Q]];default:return 200<Q.length&&!Q.some(ma=>typeof ma!==typeof Q[0])?["filter-in-large",r,["literal",Q.sort(Vd)]]:["filter-in-small",
r,["literal",Q]]}}function ac(r){switch(r){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",r]}}function Lb(r){return["!",r]}function Ac(r){return tc(r,{})}function tc(r,Q){if(Ed(r))return r;if(!r)return!0;const ma=r[0];if(1>=r.length)return"any"!==ma;if("\x3d\x3d"===ma||"!\x3d"===ma||"\x3c"===ma||"\x3e"===ma||"\x3c\x3d"===ma||"\x3e\x3d"===ma){const [,Ma,gb]=r;r=pb(Ma,gb,ma,Q)}else{if("any"===ma)return r=r.slice(1).map(Ma=>{var gb={};Ma=tc(Ma,gb);{const lb=[];for(const sb in gb)lb.push(["\x3d\x3d",
["typeof","$id"===sb?["id"]:["get",sb]],gb[sb]]);gb=0===lb.length?!0:1===lb.length?lb[0]:["all"].concat(lb)}return!0===gb?Ma:["case",gb,Ma,!1]}),["any"].concat(r);if("all"===ma)return r=r.slice(1).map(Ma=>tc(Ma,Q)),1<r.length?["all"].concat(r):[].concat(...r);if("none"===ma)return["!",tc(["any"].concat(r.slice(1)),{})];r="in"===ma?Bb(r[1],r.slice(2)):"!in"===ma?Bb(r[1],r.slice(2),!0):"has"===ma?Ub(r[1]):"!has"===ma?["!",Ub(r[1])]:!0}return r}function pb(r,Q,ma,Ma){let gb;if("$type"===r)return[ma,
["geometry-type"],Q];gb="$id"===r?["id"]:["get",r];Ma&&null!==Q&&(Ma[r]=typeof Q);return"\x3d\x3d"===ma&&"$id"!==r&&null===Q?["all",["has",r],["\x3d\x3d",gb,null]]:"!\x3d"===ma&&"$id"!==r&&null===Q?["any",["!",["has",r]],["!\x3d",gb,null]]:[ma,gb,Q]}function Bb(r,Q,ma=!1){if(0===Q.length)return ma;let Ma;Ma="$type"===r?["geometry-type"]:"$id"===r?["id"]:["get",r];r=!0;const gb=typeof Q[0];for(var lb of Q)if(typeof lb!==gb){r=!1;break}return!r||"string"!==gb&&"number"!==gb?[ma?"all":"any"].concat(Q.map(sb=>
[ma?"!\x3d":"\x3d\x3d",Ma,sb])):(lb=Q.sort().filter((sb,Rb)=>0===Rb||Q[Rb-1]!==sb),["match",Ma,lb,!ma,ma])}function Ub(r){return"$type"===r?!0:"$id"===r?["!\x3d",["id"],null]:["has",r]}function mc(r){const Q=[];g(r,ma=>{ma.filter&&(ma.filter=Ac(ma.filter))});d(r,{paint:!0,layout:!0},({path:ma,value:Ma,reference:gb,set:lb})=>{rc(Ma)||("object"!==typeof Ma||Array.isArray(Ma)?gb.tokens&&"string"===typeof Ma&&lb(Vc(Ma)):(lb(Lc(Ma,gb)),Q.push(ma.join("."))))});return r}function Bc(r,Q){const ma={};for(const Ma in r)"ref"!==
Ma&&(ma[Ma]=r[Ma]);pd.forEach(Ma=>{Ma in Q&&(ma[Ma]=Q[Ma])});return ma}function Cc(r,Q){if(Array.isArray(r)){if(!Array.isArray(Q)||r.length!==Q.length)return!1;for(var ma=0;ma<r.length;ma++)if(!Cc(r[ma],Q[ma]))return!1;return!0}if("object"===typeof r&&null!==r&&null!==Q){if("object"!==typeof Q||Object.keys(r).length!==Object.keys(Q).length)return!1;for(ma in r)if(!Cc(r[ma],Q[ma]))return!1;return!0}return r===Q}function Xc(r,Q,ma,Ma){r=r||{};Q=Q||{};let gb;for(gb in r)if(r.hasOwnProperty(gb)&&!Q.hasOwnProperty(gb)){var lb=
gb,sb=Ma;ma.push({command:Ad.removeSource,args:[lb]});sb[lb]=!0}for(gb in Q)if(Q.hasOwnProperty(gb))if(!r.hasOwnProperty(gb))ma.push({command:Ad.addSource,args:[gb,Q[gb]]});else if(!Cc(r[gb],Q[gb])){if(lb="geojson"===r[gb].type&&"geojson"===Q[gb].type)a:{var Rb=void 0;lb=r;sb=Q;var ec=gb;for(Rb in lb[ec])if(lb[ec].hasOwnProperty(Rb)&&"data"!==Rb&&!Cc(lb[ec][Rb],sb[ec][Rb])){lb=!1;break a}for(Rb in sb[ec])if(sb[ec].hasOwnProperty(Rb)&&"data"!==Rb&&!Cc(lb[ec][Rb],sb[ec][Rb])){lb=!1;break a}lb=!0}if(lb)ma.push({command:Ad.setGeoJSONSourceData,
args:[gb,Q[gb].data]});else{lb=gb;sb=Q;ec=ma;Rb=lb;var Vb=Ma;ec.push({command:Ad.removeSource,args:[Rb]});Vb[Rb]=!0;ec.push({command:Ad.addSource,args:[lb,sb[lb]]})}}}function Qb(r,Q,ma,Ma,gb,lb){r=r||{};Q=Q||{};let sb;for(sb in r)r.hasOwnProperty(sb)&&(Cc(r[sb],Q[sb])||ma.push({command:lb,args:[Ma,sb,Q[sb],gb]}));for(sb in Q)Q.hasOwnProperty(sb)&&!r.hasOwnProperty(sb)&&(Cc(r[sb],Q[sb])||ma.push({command:lb,args:[Ma,sb,Q[sb],gb]}))}function Ic(r){return r.id}function Dc(r,Q){r[Q.id]=Q;return r}function uc(r,
Q,ma){r=r||[];Q=Q||[];var Ma=r.map(Ic);const gb=Q.map(Ic);r=r.reduce(Dc,{});Q=Q.reduce(Dc,{});const lb=Ma.slice(),sb=Object.create(null);let Rb;var ec;let Vb,Qc,dd;for(ec=Rb=0;Rb<Ma.length;Rb++)Vb=Ma[Rb],Q.hasOwnProperty(Vb)?ec++:(ma.push({command:Ad.removeLayer,args:[Vb]}),lb.splice(lb.indexOf(Vb,ec),1));for(ec=Rb=0;Rb<gb.length;Rb++)Vb=gb[gb.length-1-Rb],lb[lb.length-1-Rb]!==Vb&&(r.hasOwnProperty(Vb)?(ma.push({command:Ad.removeLayer,args:[Vb]}),lb.splice(lb.lastIndexOf(Vb,lb.length-ec),1)):ec++,
Qc=lb[lb.length-Rb],ma.push({command:Ad.addLayer,args:[Q[Vb],Qc]}),lb.splice(lb.length-Rb,0,Vb),sb[Vb]=!0);for(Rb=0;Rb<gb.length;Rb++)if(Vb=gb[Rb],ec=r[Vb],Ma=Q[Vb],!sb[Vb]&&!Cc(ec,Ma))if(Cc(ec.source,Ma.source)&&Cc(ec["source-layer"],Ma["source-layer"])&&Cc(ec.type,Ma.type)){Qb(ec.layout,Ma.layout,ma,Vb,null,Ad.setLayoutProperty);Qb(ec.paint,Ma.paint,ma,Vb,null,Ad.setPaintProperty);Cc(ec.filter,Ma.filter)||ma.push({command:Ad.setFilter,args:[Vb,Ma.filter]});Cc(ec.minzoom,Ma.minzoom)&&Cc(ec.maxzoom,
Ma.maxzoom)||ma.push({command:Ad.setLayerZoomRange,args:[Vb,Ma.minzoom,Ma.maxzoom]});for(dd in ec)ec.hasOwnProperty(dd)&&"layout"!==dd&&"paint"!==dd&&"filter"!==dd&&"metadata"!==dd&&"minzoom"!==dd&&"maxzoom"!==dd&&(0===dd.indexOf("paint.")?Qb(ec[dd],Ma[dd],ma,Vb,dd.slice(6),Ad.setPaintProperty):Cc(ec[dd],Ma[dd])||ma.push({command:Ad.setLayerProperty,args:[Vb,dd,Ma[dd]]}));for(dd in Ma)Ma.hasOwnProperty(dd)&&!ec.hasOwnProperty(dd)&&"layout"!==dd&&"paint"!==dd&&"filter"!==dd&&"metadata"!==dd&&"minzoom"!==
dd&&"maxzoom"!==dd&&(0===dd.indexOf("paint.")?Qb(ec[dd],Ma[dd],ma,Vb,dd.slice(6),Ad.setPaintProperty):Cc(ec[dd],Ma[dd])||ma.push({command:Ad.setLayerProperty,args:[Vb,dd,Ma[dd]]}))}else ma.push({command:Ad.removeLayer,args:[Vb]}),Qc=lb[lb.lastIndexOf(Vb)+1],ma.push({command:Ad.addLayer,args:[Ma,Qc]})}function Tc(r){const Q=r.key;return(r=r.value)?[new id(Q,r,"constants have been deprecated as of v8")]:[]}function ad(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():
r}function ld(r){if(Array.isArray(r))return r.map(ld);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const Q={};for(const ma in r)Q[ma]=ld(r[ma]);return Q}return ad(r)}function Cd(r){const Q=r.key,ma=r.value,Ma=r.valueSpec||{},gb=r.objectElementValidators||{},lb=r.style;r=r.styleSpec;let sb=[];var Rb=jb(ma);if("object"!==Rb)return[new id(Q,ma,`object expected, ${Rb} found`)];for(const Vb in ma){var ec=Vb.split(".")[0];Rb=Ma[ec]||Ma["*"];if(gb[ec])ec=gb[ec];
else if(Ma[ec])ec=te;else if(gb["*"])ec=gb["*"];else if(Ma["*"])ec=te;else{sb.push(new id(Q,ma[Vb],`unknown property "${Vb}"`));continue}sb=sb.concat(ec({key:(Q?`${Q}.`:Q)+Vb,value:ma[Vb],valueSpec:Rb,style:lb,styleSpec:r,object:ma,objectKey:Vb},ma))}for(const Vb in Ma)gb[Vb]||Ma[Vb].required&&void 0===Ma[Vb]["default"]&&void 0===ma[Vb]&&sb.push(new id(Q,ma,`missing required property "${Vb}"`));return sb}function Dd(r){const Q=r.value;var ma=r.valueSpec;const Ma=r.style,gb=r.styleSpec,lb=r.key;r=
r.arrayElementValidator||te;if("array"!==jb(Q))return[new id(lb,Q,`array expected, ${jb(Q)} found`)];if(ma.length&&Q.length!==ma.length)return[new id(lb,Q,`array length ${ma.length} expected, length ${Q.length} found`)];if(ma["min-length"]&&Q.length<ma["min-length"])return[new id(lb,Q,`array length at least ${ma["min-length"]} expected, length ${Q.length} found`)];let sb={type:ma.value,values:ma.values};7>gb.$version&&(sb.function=ma.function);"object"===jb(ma.value)&&(sb=ma.value);ma=[];for(let Rb=
0;Rb<Q.length;Rb++)ma=ma.concat(r({array:Q,arrayIndex:Rb,value:Q[Rb],valueSpec:sb,style:Ma,styleSpec:gb,key:`${lb}[${Rb}]`}));return ma}function Ud(r){const Q=r.key,ma=r.value;r=r.valueSpec;let Ma=jb(ma);"number"===Ma&&ma!==ma&&(Ma="NaN");return"number"!==Ma?[new id(Q,ma,`number expected, ${Ma} found`)]:"minimum"in r&&ma<r.minimum?[new id(Q,ma,`${ma} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&ma>r.maximum?[new id(Q,ma,`${ma} is greater than the maximum value ${r.maximum}`)]:[]}
function ae(r){function Q(rd){let bd=[];const Jc=rd.value,ud=rd.key;if("array"!==jb(Jc))return[new id(ud,Jc,`array expected, ${jb(Jc)} found`)];if(2!==Jc.length)return[new id(ud,Jc,`array length 2 expected, length ${Jc.length} found`)];if(dd){if("object"!==jb(Jc[0]))return[new id(ud,Jc,`object expected, ${jb(Jc[0])} found`)];if(void 0===Jc[0].zoom)return[new id(ud,Jc,"object stop key must have zoom")];if(void 0===Jc[0].value)return[new id(ud,Jc,"object stop key must have value")];if(ec&&ec>ad(Jc[0].zoom))return[new id(ud,
Jc[0].zoom,"stop zoom values must appear in ascending order")];ad(Jc[0].zoom)!==ec&&(ec=ad(Jc[0].zoom),Rb=void 0,sb={});bd=bd.concat(Cd({key:`${ud}[0]`,value:Jc[0],valueSpec:{zoom:{}},style:rd.style,styleSpec:rd.styleSpec,objectElementValidators:{zoom:Ud,value:ma}}))}else bd=bd.concat(ma({key:`${ud}[0]`,value:Jc[0],valueSpec:{},style:rd.style,styleSpec:rd.styleSpec},Jc));return rc(ld(Jc[1]))?bd.concat([new id(`${ud}[1]`,Jc[1],"expressions are not allowed in function stops.")]):bd.concat(te({key:`${ud}[1]`,
value:Jc[1],valueSpec:Ma,style:rd.style,styleSpec:rd.styleSpec}))}function ma(rd,bd){var Jc=jb(rd.value);const ud=ad(rd.value);bd=null!==rd.value?rd.value:bd;if(!lb)lb=Jc;else if(Jc!==lb)return[new id(rd.key,bd,`${Jc} stop domain type must match previous stop domain type ${lb}`)];if("number"!==Jc&&"string"!==Jc&&"boolean"!==Jc)return[new id(rd.key,bd,"stop domain value must be a number, string, or boolean")];if("number"!==Jc&&"categorical"!==gb)return Jc=`number expected, ${Jc} found`,pa(Ma)&&void 0===
gb&&(Jc+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new id(rd.key,bd,Jc)];if("categorical"===gb&&"number"===Jc&&(!isFinite(ud)||Math.floor(ud)!==ud))return[new id(rd.key,bd,`integer expected, found ${ud}`)];if("categorical"!==gb&&"number"===Jc&&void 0!==Rb&&ud<Rb)return[new id(rd.key,bd,"stop domain values must appear in ascending order")];Rb=ud;if("categorical"===gb&&ud in sb)return[new id(rd.key,bd,"stop domain values must be unique")];sb[ud]=!0;return[]}
const Ma=r.valueSpec,gb=ad(r.value.type);let lb,sb={},Rb,ec;const Vb="categorical"!==gb&&void 0===r.value.property,Qc=!Vb,dd="array"===jb(r.value.stops)&&"array"===jb(r.value.stops[0])&&"object"===jb(r.value.stops[0][0]),zd=Cd({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(rd){if("identity"===gb)return[new id(rd.key,rd.value,'identity function may not have a "stops" property')];let bd=[];const Jc=rd.value;bd=bd.concat(Dd({key:rd.key,
value:Jc,valueSpec:rd.valueSpec,style:rd.style,styleSpec:rd.styleSpec,arrayElementValidator:Q}));"array"===jb(Jc)&&0===Jc.length&&bd.push(new id(rd.key,Jc,"array must have at least one stop"));return bd},default:function(rd){return te({key:rd.key,value:rd.value,valueSpec:Ma,style:rd.style,styleSpec:rd.styleSpec})}}});"identity"===gb&&Vb&&zd.push(new id(r.key,r.value,'missing required property "property"'));"identity"===gb||r.value.stops||zd.push(new id(r.key,r.value,'missing required property "stops"'));
"exponential"===gb&&r.valueSpec.expression&&!Ua(r.valueSpec)&&zd.push(new id(r.key,r.value,"exponential functions not supported"));8<=r.styleSpec.$version&&(Qc&&!pa(r.valueSpec)?zd.push(new id(r.key,r.value,"property functions not supported")):Vb&&!Ja(r.valueSpec)&&zd.push(new id(r.key,r.value,"zoom functions not supported")));"categorical"!==gb&&!dd||void 0!==r.value.property||zd.push(new id(r.key,r.value,'"property" property is required'));return zd}function oe(r){var Q=("property"===r.expressionContext?
sc:Pc)(ld(r.value),r.valueSpec);if("error"===Q.result)return Q.value.map(ma=>new id(`${r.key}${ma.key}`,r.value,ma.message));Q=Q.value.expression||Q.value._styleExpression.expression;if("property"===r.expressionContext&&"text-font"===r.propertyKey&&!Q.outputDefined())return[new id(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===r.expressionContext&&"layout"===r.propertyType&&!bb(Q))return[new id(r.key,
r.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===r.expressionContext&&!bb(Q))return[new id(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&0===r.expressionContext.indexOf("cluster")){if(!kb(Q,["zoom","feature-state"]))return[new id(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===r.expressionContext&&!Ha(Q))return[new id(r.key,
r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function De(r){const Q=r.key,ma=r.value;r=r.valueSpec;const Ma=[];Array.isArray(r.values)?-1===r.values.indexOf(ad(ma))&&Ma.push(new id(Q,ma,`expected one of [${r.values.join(", ")}], ${JSON.stringify(ma)} found`)):-1===Object.keys(r.values).indexOf(ad(ma))&&Ma.push(new id(Q,ma,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(ma)} found`));return Ma}function fe(r){return Ed(ld(r.value))?
oe(B({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ef(r)}function ef(r){const Q=r.value,ma=r.key;if("array"!==jb(Q))return[new id(ma,Q,`array expected, ${jb(Q)} found`)];var Ma=r.styleSpec;let gb,lb=[];if(1>Q.length)return[new id(ma,Q,"filter array must have at least 1 element")];lb=lb.concat(De({key:`${ma}[0]`,value:Q[0],valueSpec:Ma.filter_operator,style:r.style,styleSpec:r.styleSpec}));switch(ad(Q[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=Q.length&&"$type"===
ad(Q[1])&&lb.push(new id(ma,Q,`"$type" cannot be use with operator "${Q[0]}"`));case "\x3d\x3d":case "!\x3d":3!==Q.length&&lb.push(new id(ma,Q,`filter array for operator "${Q[0]}" must have 3 elements`));case "in":case "!in":2<=Q.length&&(gb=jb(Q[1]),"string"!==gb&&lb.push(new id(`${ma}[1]`,Q[1],`string expected, ${gb} found`)));for(let sb=2;sb<Q.length;sb++)gb=jb(Q[sb]),"$type"===ad(Q[1])?lb=lb.concat(De({key:`${ma}[${sb}]`,value:Q[sb],valueSpec:Ma.geometry_type,style:r.style,styleSpec:r.styleSpec})):
"string"!==gb&&"number"!==gb&&"boolean"!==gb&&lb.push(new id(`${ma}[${sb}]`,Q[sb],`string, number, or boolean expected, ${gb} found`));break;case "any":case "all":case "none":for(Ma=1;Ma<Q.length;Ma++)lb=lb.concat(ef({key:`${ma}[${Ma}]`,value:Q[Ma],style:r.style,styleSpec:r.styleSpec}));break;case "has":case "!has":gb=jb(Q[1]);2!==Q.length?lb.push(new id(ma,Q,`filter array for "${Q[0]}" operator must have 2 elements`)):"string"!==gb&&lb.push(new id(`${ma}[1]`,Q[1],`string expected, ${gb} found`));
break;case "within":gb=jb(Q[1]),2!==Q.length?lb.push(new id(ma,Q,`filter array for "${Q[0]}" operator must have 2 elements`)):"object"!==gb&&lb.push(new id(`${ma}[1]`,Q[1],`object expected, ${gb} found`))}return lb}function Ze(r,Q){const ma=r.key,Ma=r.style,gb=r.styleSpec,lb=r.value,sb=r.objectKey;var Rb=gb[`${Q}_${r.layerType}`];if(!Rb)return[];const ec=sb.match(/^(.*)-transition$/);if("paint"===Q&&ec&&Rb[ec[1]]&&Rb[ec[1]].transition)return te({key:ma,value:lb,valueSpec:gb.transition,style:Ma,styleSpec:gb});
Rb=r.valueSpec||Rb[sb];if(!Rb)return[new id(ma,lb,`unknown property "${sb}"`)];var Vb;if("string"===jb(lb)&&pa(Rb)&&!Rb.tokens&&(Vb=/^{([^}]+)}$/.exec(lb)))return[new id(ma,lb,`"${sb}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Vb[1])} }\`.`)];Vb=[];"symbol"===r.layerType&&("text-field"===sb&&Ma&&!Ma.glyphs&&Vb.push(new id(ma,lb,'use of "text-field" requires a style "glyphs" property')),"text-font"===sb&&
Fb(ld(lb))&&"identity"===ad(lb.type)&&Vb.push(new id(ma,lb,'"text-font" does not support identity functions')));return Vb.concat(te({key:r.key,value:lb,valueSpec:Rb,style:Ma,styleSpec:gb,expressionContext:"property",propertyType:Q,propertyKey:sb}))}function df(r){return Ze(r,"paint")}function Zd(r){return Ze(r,"layout")}function he(r){let Q=[];const ma=r.value,Ma=r.key;var gb=r.style;const lb=r.styleSpec;ma.type||ma.ref||Q.push(new id(Ma,ma,'either "type" or "ref" is required'));let sb=ad(ma.type);
const Rb=ad(ma.ref);if(ma.id){var ec=ad(ma.id);for(let Vb=0;Vb<r.arrayIndex;Vb++){const Qc=gb.layers[Vb];ad(Qc.id)===ec&&Q.push(new id(Ma,ma.id,`duplicate layer id "${ma.id}", previously used at line ${Qc.id.__line__}`))}}if("ref"in ma){["type","source","source-layer","filter","layout"].forEach(Qc=>{Qc in ma&&Q.push(new id(Ma,ma[Qc],`"${Qc}" is prohibited for ref layers`))});let Vb;gb.layers.forEach(Qc=>{ad(Qc.id)===Rb&&(Vb=Qc)});Vb?Vb.ref?Q.push(new id(Ma,ma.ref,"ref cannot reference another ref layer")):
sb=ad(Vb.type):Q.push(new id(Ma,ma.ref,`ref layer "${Rb}" not found`))}else"background"!==sb&&"sky"!==sb&&(ma.source?(ec=(gb=gb.sources&&gb.sources[ma.source])&&ad(gb.type),gb?"vector"===ec&&"raster"===sb?Q.push(new id(Ma,ma.source,`layer "${ma.id}" requires a raster source`)):"raster"===ec&&"raster"!==sb?Q.push(new id(Ma,ma.source,`layer "${ma.id}" requires a vector source`)):"vector"!==ec||ma["source-layer"]?"raster-dem"===ec&&"hillshade"!==sb?Q.push(new id(Ma,ma.source,"raster-dem source can only be used with layer type 'hillshade'.")):
"line"!==sb||!ma.paint||!ma.paint["line-gradient"]||"geojson"===ec&&gb.lineMetrics||Q.push(new id(Ma,ma,`layer "${ma.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):Q.push(new id(Ma,ma,`layer "${ma.id}" must specify a "source-layer"`)):Q.push(new id(Ma,ma.source,`source "${ma.source}" not found`))):Q.push(new id(Ma,ma,'missing required property "source"')));return Q=Q.concat(Cd({key:Ma,value:ma,valueSpec:lb.layer,style:r.style,styleSpec:r.styleSpec,
objectElementValidators:{["*"](){return[]},type(){return te({key:`${Ma}.type`,value:ma.type,valueSpec:lb.layer.type,style:r.style,styleSpec:r.styleSpec,object:ma,objectKey:"type"})},filter:fe,layout(Vb){return Cd({layer:ma,key:Vb.key,value:Vb.value,style:Vb.style,styleSpec:Vb.styleSpec,objectElementValidators:{["*"](Qc){return Zd(B({layerType:sb},Qc))}}})},paint(Vb){return Cd({layer:ma,key:Vb.key,value:Vb.value,style:Vb.style,styleSpec:Vb.styleSpec,objectElementValidators:{["*"](Qc){return df(B({layerType:sb},
Qc))}}})}}}))}function zf(r){const Q=r.value;r=r.key;const ma=jb(Q);return"string"!==ma?[new id(r,Q,`string expected, ${ma} found`)]:[]}function Ue(r){const Q=r.value,ma=r.key;var Ma=r.styleSpec;const gb=r.style;if(!Q.type)return[new id(ma,Q,'"type" is required')];const lb=ad(Q.type);switch(lb){case "vector":case "raster":case "raster-dem":return r=Cd({key:ma,value:Q,valueSpec:Ma[`source_${lb.replace("-","_")}`],style:r.style,styleSpec:Ma,objectElementValidators:Wa});case "geojson":r=Cd({key:ma,value:Q,
valueSpec:Ma.source_geojson,style:gb,styleSpec:Ma,objectElementValidators:Wa});if(Q.cluster)for(const sb in Q.clusterProperties){const [Rb,ec]=Q.clusterProperties[sb];Ma="string"===typeof Rb?[Rb,["accumulated"],["get",sb]]:Rb;r.push(...oe({key:`${ma}.${sb}.map`,value:ec,expressionContext:"cluster-map"}));r.push(...oe({key:`${ma}.${sb}.reduce`,value:Ma,expressionContext:"cluster-reduce"}))}return r;case "video":return Cd({key:ma,value:Q,valueSpec:Ma.source_video,style:gb,styleSpec:Ma});case "image":return Cd({key:ma,
value:Q,valueSpec:Ma.source_image,style:gb,styleSpec:Ma});case "canvas":return[new id(ma,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return De({key:`${ma}.type`,value:Q.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:gb,styleSpec:Ma})}}function Nf(r){const Q=r.value,ma=r.styleSpec,Ma=ma.light;r=r.style;let gb=[];var lb=jb(Q);if(void 0===Q)return gb;if("object"!==lb)return gb=gb.concat([new id("light",
Q,`object expected, ${lb} found`)]);for(const sb in Q)gb=(lb=sb.match(/^(.*)-transition$/))&&Ma[lb[1]]&&Ma[lb[1]].transition?gb.concat(te({key:sb,value:Q[sb],valueSpec:ma.transition,style:r,styleSpec:ma})):Ma[sb]?gb.concat(te({key:sb,value:Q[sb],valueSpec:Ma[sb],style:r,styleSpec:ma})):gb.concat([new id(sb,Q[sb],`unknown property "${sb}"`)]);return gb}function me(r){const Q=r.value,ma=r.key;var Ma=r.style;const gb=r.styleSpec,lb=gb.terrain;r=[];var sb=jb(Q);if(void 0===Q)return r;if("object"!==sb)return r=
r.concat([new id("terrain",Q,`object expected, ${sb} found`)]);for(var Rb in Q)r=(sb=Rb.match(/^(.*)-transition$/))&&lb[sb[1]]&&lb[sb[1]].transition?r.concat(te({key:Rb,value:Q[Rb],valueSpec:gb.transition,style:Ma,styleSpec:gb})):lb[Rb]?r.concat(te({key:Rb,value:Q[Rb],valueSpec:lb[Rb],style:Ma,styleSpec:gb})):r.concat([new id(Rb,Q[Rb],`unknown property "${Rb}"`)]);Q.source?(Rb=(Ma=Ma.sources&&Ma.sources[Q.source])&&ad(Ma.type),Ma?"raster-dem"!==Rb&&r.push(new id(ma,Q.source,`terrain cannot be used with a source of type ${Rb}, it only be used with a "raster-dem" source type`)):
r.push(new id(ma,Q.source,`source "${Q.source}" not found`))):r.push(new id(ma,Q,'terrain is missing required property "source"'));return r}function te(r){const Q=r.value,ma=r.valueSpec,Ma=r.styleSpec;return ma.expression&&Fb(ad(Q))?ae(r):ma.expression&&rc(ld(Q))?oe(r):ma.type&&ob[ma.type]?ob[ma.type](r):Cd(B({},r,{valueSpec:ma.type?Ma[ma.type]:ma}))}function kf(r){const Q=r.value,ma=r.key;r=zf(r);if(r.length)return r;-1===Q.indexOf("{fontstack}")&&r.push(new id(ma,Q,'"glyphs" url must include a "{fontstack}" token'));
-1===Q.indexOf("{range}")&&r.push(new id(ma,Q,'"glyphs" url must include a "{range}" token'));return r}function we(r,Q=Gc){let ma=[];ma=ma.concat(te({key:"",value:r,valueSpec:Q.$root,styleSpec:Q,style:r,objectElementValidators:{glyphs:kf,["*"](){return[]}}}));r.constants&&(ma=ma.concat(Tc({key:"constants",value:r.constants,style:r,styleSpec:Q})));return Od(ma)}function Od(r){return[].concat(r).sort((Q,ma)=>Q.line-ma.line)}function Xd(r){return function(...Q){return Od(r.apply(this,Q))}}function Be(r){if(r instanceof
String||"string"===typeof r||r instanceof k)try{return zb.parse(r.toString())}catch(Q){throw new af(Q);}return r}function jf(r,Q=Gc){try{r=Be(r)}catch(ma){return[ma]}return we(r,Q)}function Ge(r,Q){return r&&"string"===jb(r)?!!r.match(Q):!0}function Td(r,Q,ma){const Ma=new Set(Q),gb=[];Object.keys(r).forEach(lb=>{Ma.has(lb)||gb.push(new id(ma?`${ma}.${lb}`:null,r[lb],`Unsupported property "${lb}"`))});return gb}function Ye(r){const Q=[];let ma=0;Object.keys(r).forEach((Ma,gb)=>{{var lb=r[Ma];const sb=
[];sb.push(...Td(lb,["type","url","tileSize"],"source"));Ge(lb.url,/^mapbox:\/\/([^/]*)$/)||sb.push(new id(`sources[${gb}]`,lb.url,"Source url must be a valid Mapbox tileset url"));gb=sb}gb.length||(lb=ma,Ma=r[Ma],Ma=Ma.url?Ma.url.split(",").length:0,ma=lb+Ma);Q.push(...gb)});15<ma&&Q.push(new id("sources",null,"Styles must contain 15 or fewer sources"));return Q}function Xf(r,Q){const ma=[];Q=Td(r,[...Q,"owner","id","cacheControl","draft","created","modified","visibility"]);ma.push(...Q);(8<r.version||
8>r.version)&&ma.push(new id("version",r.version,"Style version must be 8"));Ge(r.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||ma.push(new id("glyphs",r.glyphs,"Styles must reference glyphs hosted by Mapbox"));Ge(r.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||ma.push(new id("sprite",r.sprite,"Styles must reference sprites hosted by Mapbox"));Ge(r.visibility,/^(public|private)$/)||ma.push(new id("visibility",r.visibility,"Style visibility must be public or private"));
return ma}var Gc={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},
source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",
length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},
volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},
tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",
"default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},
tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},
source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},
layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},
"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},
"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},
square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},
round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",
ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,
doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",
android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},
layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point",
doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},
left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},
"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",
expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.",
"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},
"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",
requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",
"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},
lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key]  value`'},
"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key]  value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key]  value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",
example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},
transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},
{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",
"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},
"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},
"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",
doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,
overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.",
"sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},
"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},
"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",
doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",
"default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",
doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},
"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},xe=/("(?:[^\\"]|\\.)*")|[:,]/g,le=function(r,Q){Q=Q||{};var ma=JSON.stringify([1],void 0,void 0===Q.indent?2:Q.indent).slice(2,-3);var Ma=""===ma?Infinity:void 0===Q.maxLength?
80:Q.maxLength;var gb=Q.replacer;return function Vb(sb,Rb,ec){sb&&"function"===typeof sb.toJSON&&(sb=sb.toJSON());var Qc=JSON.stringify(sb,gb);if(void 0===Qc)return Qc;ec=Ma-Rb.length-ec;if(Qc.length<=ec){var dd=Qc.replace(xe,function(ye,re){return re||ye+" "});if(dd.length<=ec)return dd}null!=gb&&(sb=JSON.parse(Qc),gb=void 0);if("object"===typeof sb&&null!==sb){var zd=Rb+ma;var rd=[];var bd=0;if(Array.isArray(sb)){var Jc="[";dd="]";for(ec=sb.length;bd<ec;bd++)rd.push(Vb(sb[bd],zd,bd===ec-1?0:1)||
"null")}else{Jc="{";dd="}";var ud=Object.keys(sb);for(ec=ud.length;bd<ec;bd++){var ee=ud[bd];var Sd=JSON.stringify(ee)+": ";ee=Vb(sb[ee],zd,Sd.length+(bd===ec-1?0:1));void 0!==ee&&rd.push(Sd+ee)}}if(0<rd.length)return[Jc,ma+rd.join(",\n"+zd),dd].join("\n"+Rb)}return Qc}(r,"",0)},kc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof Ia?Ia:"undefined"!==typeof self?self:{},Fe=N(function(r,Q){(function(ma){function Ma(ke){throw RangeError(Sd[ke]);}function gb(ke,
pe){for(var Re=ke.length,xd=[];Re--;)xd[Re]=pe(ke[Re]);return xd}function lb(ke,pe){var Re=ke.split("@"),xd="";1<Re.length&&(xd=Re[0]+"@",ke=Re[1]);ke=ke.replace(ee,".");ke=ke.split(".");pe=gb(ke,pe).join(".");return xd+pe}function sb(ke){for(var pe=[],Re=0,xd=ke.length,Oe,dg;Re<xd;)Oe=ke.charCodeAt(Re++),55296<=Oe&&56319>=Oe&&Re<xd?(dg=ke.charCodeAt(Re++),56320==(dg&64512)?pe.push(((Oe&1023)<<10)+(dg&1023)+65536):(pe.push(Oe),Re--)):pe.push(Oe);return pe}function Rb(ke){return gb(ke,function(pe){var Re=
"";65535<pe&&(pe-=65536,Re+=re(pe>>>10&1023|55296),pe=56320|pe&1023);return Re+=re(pe)}).join("")}function ec(ke,pe){return ke+22+75*(26>ke)-((0!=pe)<<5)}function Vb(ke,pe,Re){var xd=0;ke=Re?ye(ke/700):ke>>1;for(ke+=ye(ke/pe);455<ke;xd+=36)ke=ye(ke/35);return ye(xd+36*ke/(ke+38))}function Qc(ke){var pe=[],Re=ke.length,xd=0,Oe=128,dg=72,Xe,$f;var vf=ke.lastIndexOf("-");0>vf&&(vf=0);for(Xe=0;Xe<vf;++Xe)128<=ke.charCodeAt(Xe)&&Ma("not-basic"),pe.push(ke.charCodeAt(Xe));for(vf=0<vf?vf+1:0;vf<Re;){Xe=
xd;var Df=1;for($f=36;;$f+=36){vf>=Re&&Ma("invalid-input");var Qf=ke.charCodeAt(vf++);Qf=10>Qf-48?Qf-22:26>Qf-65?Qf-65:26>Qf-97?Qf-97:36;(36<=Qf||Qf>ye((2147483647-xd)/Df))&&Ma("overflow");xd+=Qf*Df;var Vf=$f<=dg?1:$f>=dg+26?26:$f-dg;if(Qf<Vf)break;Qf=36-Vf;Df>ye(2147483647/Qf)&&Ma("overflow");Df*=Qf}Df=pe.length+1;dg=Vb(xd-Xe,Df,0==Xe);ye(xd/Df)>2147483647-Oe&&Ma("overflow");Oe+=ye(xd/Df);xd%=Df;pe.splice(xd++,0,Oe)}return Rb(pe)}function dd(ke){var pe,Re,xd,Oe=[];ke=sb(ke);var dg=ke.length;var Xe=
128;var $f=0;var vf=72;for(xd=0;xd<dg;++xd){var Df=ke[xd];128>Df&&Oe.push(re(Df))}for((pe=Re=Oe.length)&&Oe.push("-");pe<dg;){var Qf=2147483647;for(xd=0;xd<dg;++xd)Df=ke[xd],Df>=Xe&&Df<Qf&&(Qf=Df);var Vf=pe+1;Qf-Xe>ye((2147483647-$f)/Vf)&&Ma("overflow");$f+=(Qf-Xe)*Vf;Xe=Qf;for(xd=0;xd<dg;++xd)if(Df=ke[xd],Df<Xe&&2147483647<++$f&&Ma("overflow"),Df==Xe){var Xg=$f;for(Qf=36;;Qf+=36){Df=Qf<=vf?1:Qf>=vf+26?26:Qf-vf;if(Xg<Df)break;var Bh=Xg-Df;Xg=36-Df;Oe.push(re(ec(Df+Bh%Xg,0)));Xg=ye(Bh/Xg)}Oe.push(re(ec(Xg,
0)));vf=Vb($f,Vf,pe==Re);$f=0;++pe}++$f;++Xe}return Oe.join("")}var zd=Q&&!Q.nodeType&&Q,rd=r&&!r.nodeType&&r,bd="object"==typeof kc&&kc;if(bd.global===bd||bd.window===bd||bd.self===bd)ma=bd;var Jc=/^xn--/,ud=/[^\x20-\x7E]/,ee=/[\x2E\u3002\uFF0E\uFF61]/g,Sd={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},ye=Math.floor,re=String.fromCharCode,Pf;bd={version:"1.3.2",ucs2:{decode:sb,encode:Rb},
decode:Qc,encode:dd,toASCII:function(ke){return lb(ke,function(pe){return ud.test(pe)?"xn--"+dd(pe):pe})},toUnicode:function(ke){return lb(ke,function(pe){return Jc.test(pe)?Qc(pe.slice(4).toLowerCase()):pe})}};if(zd&&rd)if(r.exports==zd)rd.exports=bd;else for(Pf in bd)bd.hasOwnProperty(Pf)&&(zd[Pf]=bd[Pf]);else ma.punycode=bd})(kc)}),ue={isString:function(r){return"string"===typeof r},isObject:function(r){return"object"===typeof r&&null!==r},isNull:function(r){return null===r},isNullOrUndefined:function(r){return null==
r}},lf=function(r,Q,ma,Ma){ma=ma||"\x3d";var gb={};if("string"!==typeof r||0===r.length)return gb;var lb=/\+/g;r=r.split(Q||"\x26");Q=1E3;Ma&&"number"===typeof Ma.maxKeys&&(Q=Ma.maxKeys);Ma=r.length;0<Q&&Ma>Q&&(Ma=Q);for(Q=0;Q<Ma;++Q){var sb=r[Q].replace(lb,"%20"),Rb=sb.indexOf(ma);if(0<=Rb){var ec=sb.substr(0,Rb);sb=sb.substr(Rb+1)}else ec=sb,sb="";ec=decodeURIComponent(ec);sb=decodeURIComponent(sb);Object.prototype.hasOwnProperty.call(gb,ec)?Array.isArray(gb[ec])?gb[ec].push(sb):gb[ec]=[gb[ec],
sb]:gb[ec]=sb}return gb},Yf=function(r){switch(typeof r){case "string":return r;case "boolean":return r?"true":"false";case "number":return isFinite(r)?r:"";default:return""}},If=function(r,Q,ma,Ma){Q=Q||"\x26";ma=ma||"\x3d";null===r&&(r=void 0);return"object"===typeof r?Object.keys(r).map(function(gb){var lb=encodeURIComponent(Yf(gb))+ma;return Array.isArray(r[gb])?r[gb].map(function(sb){return lb+encodeURIComponent(Yf(sb))}).join(Q):lb+encodeURIComponent(Yf(r[gb]))}).join(Q):Ma?encodeURIComponent(Yf(Ma))+
ma+encodeURIComponent(Yf(r)):""},Sf=N(function(r,Q){Q.decode=Q.parse=lf;Q.encode=Q.stringify=If}),Bf=/^([a-z0-9.+-]+:)/i,qe=/:[0-9]*$/,yc=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xa="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),Ea=["'"].concat(xa),Za=["%","/","?",";","#"].concat(Ea),Cb=["/","?","#"],ub=/^[+a-z0-9A-Z_-]{0,63}$/,Yb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$b={javascript:!0,"javascript:":!0},Oc={javascript:!0,"javascript:":!0},gd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,
"ftp:":!0,"gopher:":!0,"file:":!0};x.prototype.parse=function(r,Q,ma){if(!ue.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var Ma=r.indexOf("?");Ma=-1!==Ma&&Ma<r.indexOf("#")?"?":"#";r=r.split(Ma);r[0]=r[0].replace(/\\/g,"/");r=r.join(Ma);Ma=r.trim();if(!ma&&1===r.split("#").length&&(r=yc.exec(Ma)))return this.href=this.path=Ma,this.pathname=r[1],r[2]?(this.search=r[2],this.query=Q?Sf.parse(this.search.substr(1)):this.search.substr(1)):Q&&(this.search="",this.query=
{}),this;if(r=Bf.exec(Ma)){r=r[0];var gb=r.toLowerCase();this.protocol=gb;Ma=Ma.substr(r.length)}if(ma||r||Ma.match(/^\/\/[^@\/]+@[^@\/]+/)){var lb="//"===Ma.substr(0,2);!lb||r&&Oc[r]||(Ma=Ma.substr(2),this.slashes=!0)}if(!Oc[r]&&(lb||r&&!gd[r])){lb=-1;for(ma=0;ma<Cb.length;ma++)r=Ma.indexOf(Cb[ma]),-1!==r&&(-1===lb||r<lb)&&(lb=r);lb=-1===lb?Ma.lastIndexOf("@"):Ma.lastIndexOf("@",lb);-1!==lb&&(ma=Ma.slice(0,lb),Ma=Ma.slice(lb+1),this.auth=decodeURIComponent(ma));lb=-1;for(ma=0;ma<Za.length;ma++)r=
Ma.indexOf(Za[ma]),-1!==r&&(-1===lb||r<lb)&&(lb=r);-1===lb&&(lb=Ma.length);this.host=Ma.slice(0,lb);Ma=Ma.slice(lb);this.parseHost();this.hostname=this.hostname||"";lb="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!lb){var sb=this.hostname.split(/\./);ma=0;for(r=sb.length;ma<r;ma++){var Rb=sb[ma];if(Rb&&!Rb.match(ub)){for(var ec="",Vb=0,Qc=Rb.length;Vb<Qc;Vb++)ec=127<Rb.charCodeAt(Vb)?ec+"x":ec+Rb[Vb];if(!ec.match(ub)){r=sb.slice(0,ma);ma=sb.slice(ma+1);if(Rb=Rb.match(Yb))r.push(Rb[1]),
ma.unshift(Rb[2]);ma.length&&(Ma="/"+ma.join(".")+Ma);this.hostname=r.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();lb||(this.hostname=Fe.toASCII(this.hostname));ma=this.port?":"+this.port:"";this.host=(this.hostname||"")+ma;this.href+=this.host;lb&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Ma[0]&&(Ma="/"+Ma))}if(!$b[gb])for(ma=0,r=Ea.length;ma<r;ma++)lb=Ea[ma],-1!==Ma.indexOf(lb)&&(Rb=encodeURIComponent(lb),Rb===lb&&(Rb=escape(lb)),
Ma=Ma.split(lb).join(Rb));ma=Ma.indexOf("#");-1!==ma&&(this.hash=Ma.substr(ma),Ma=Ma.slice(0,ma));ma=Ma.indexOf("?");-1!==ma?(this.search=Ma.substr(ma),this.query=Ma.substr(ma+1),Q&&(this.query=Sf.parse(this.query)),Ma=Ma.slice(0,ma)):Q&&(this.search="",this.query={});Ma&&(this.pathname=Ma);gd[gb]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)ma=this.pathname||"",this.path=ma+(this.search||"");this.href=this.format();return this};x.prototype.format=function(){var r=
this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var Q=this.protocol||"",ma=this.pathname||"",Ma=this.hash||"",gb=!1,lb="";this.host?gb=r+this.host:this.hostname&&(gb=r+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(gb+=":"+this.port));this.query&&ue.isObject(this.query)&&Object.keys(this.query).length&&(lb=Sf.stringify(this.query));r=this.search||lb&&"?"+lb||"";Q&&":"!==Q.substr(-1)&&(Q+=":");this.slashes||(!Q||gd[Q])&&!1!==gb?(gb="//"+
(gb||""),ma&&"/"!==ma.charAt(0)&&(ma="/"+ma)):gb||(gb="");Ma&&"#"!==Ma.charAt(0)&&(Ma="#"+Ma);r&&"?"!==r.charAt(0)&&(r="?"+r);ma=ma.replace(/[?#]/g,function(sb){return encodeURIComponent(sb)});r=r.replace("#","%23");return Q+gb+ma+r+Ma};x.prototype.resolve=function(r){return this.resolveObject(v(r,!1,!0)).format()};x.prototype.resolveObject=function(r){if(ue.isString(r)){var Q=new x;Q.parse(r,!1,!0);r=Q}Q=new x;for(var ma=Object.keys(this),Ma=0;Ma<ma.length;Ma++){var gb=ma[Ma];Q[gb]=this[gb]}Q.hash=
r.hash;if(""===r.href)return Q.href=Q.format(),Q;if(r.slashes&&!r.protocol){ma=Object.keys(r);for(Ma=0;Ma<ma.length;Ma++)gb=ma[Ma],"protocol"!==gb&&(Q[gb]=r[gb]);gd[Q.protocol]&&Q.hostname&&!Q.pathname&&(Q.path=Q.pathname="/");Q.href=Q.format();return Q}if(r.protocol&&r.protocol!==Q.protocol){if(!gd[r.protocol]){ma=Object.keys(r);for(Ma=0;Ma<ma.length;Ma++)gb=ma[Ma],Q[gb]=r[gb];Q.href=Q.format();return Q}Q.protocol=r.protocol;if(r.host||Oc[r.protocol])Q.pathname=r.pathname;else{for(var lb=(r.pathname||
"").split("/");lb.length&&!(r.host=lb.shift()););r.host||(r.host="");r.hostname||(r.hostname="");""!==lb[0]&&lb.unshift("");2>lb.length&&lb.unshift("");Q.pathname=lb.join("/")}Q.search=r.search;Q.query=r.query;Q.host=r.host||"";Q.auth=r.auth;Q.hostname=r.hostname||r.host;Q.port=r.port;if(Q.pathname||Q.search)Q.path=(Q.pathname||"")+(Q.search||"");Q.slashes=Q.slashes||r.slashes;Q.href=Q.format();return Q}ma=Q.pathname&&"/"===Q.pathname.charAt(0);var sb=r.host||r.pathname&&"/"===r.pathname.charAt(0),
Rb=ma=sb||ma||Q.host&&r.pathname;Ma=Q.pathname&&Q.pathname.split("/")||[];lb=r.pathname&&r.pathname.split("/")||[];if(gb=Q.protocol&&!gd[Q.protocol])Q.hostname="",Q.port=null,Q.host&&(""===Ma[0]?Ma[0]=Q.host:Ma.unshift(Q.host)),Q.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(""===lb[0]?lb[0]=r.host:lb.unshift(r.host)),r.host=null),ma=ma&&(""===lb[0]||""===Ma[0]);if(sb)Q.host=r.host||""===r.host?r.host:Q.host,Q.hostname=r.hostname||""===r.hostname?r.hostname:Q.hostname,Q.search=r.search,
Q.query=r.query,Ma=lb;else if(lb.length)Ma||(Ma=[]),Ma.pop(),Ma=Ma.concat(lb),Q.search=r.search,Q.query=r.query;else if(!ue.isNullOrUndefined(r.search))return gb&&(Q.hostname=Q.host=Ma.shift(),gb=Q.host&&0<Q.host.indexOf("@")?Q.host.split("@"):!1)&&(Q.auth=gb.shift(),Q.host=Q.hostname=gb.shift()),Q.search=r.search,Q.query=r.query,ue.isNull(Q.pathname)&&ue.isNull(Q.search)||(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:"")),Q.href=Q.format(),Q;if(!Ma.length)return Q.pathname=null,Q.path=Q.search?
"/"+Q.search:null,Q.href=Q.format(),Q;sb=Ma.slice(-1)[0];lb=(Q.host||r.host||1<Ma.length)&&("."===sb||".."===sb)||""===sb;for(var ec=0,Vb=Ma.length;0<=Vb;Vb--)sb=Ma[Vb],"."===sb?Ma.splice(Vb,1):".."===sb?(Ma.splice(Vb,1),ec++):ec&&(Ma.splice(Vb,1),ec--);if(!ma&&!Rb)for(;ec--;ec)Ma.unshift("..");!ma||""===Ma[0]||Ma[0]&&"/"===Ma[0].charAt(0)||Ma.unshift("");lb&&"/"!==Ma.join("/").substr(-1)&&Ma.push("");Rb=""===Ma[0]||Ma[0]&&"/"===Ma[0].charAt(0);gb&&(Q.hostname=Q.host=Rb?"":Ma.length?Ma.shift():"",
gb=Q.host&&0<Q.host.indexOf("@")?Q.host.split("@"):!1)&&(Q.auth=gb.shift(),Q.host=Q.hostname=gb.shift());(ma=ma||Q.host&&Ma.length)&&!Rb&&Ma.unshift("");Ma.length?Q.pathname=Ma.join("/"):(Q.pathname=null,Q.path=null);ue.isNull(Q.pathname)&&ue.isNull(Q.search)||(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:""));Q.auth=r.auth||Q.auth;Q.slashes=Q.slashes||r.slashes;Q.href=Q.format();return Q};x.prototype.parseHost=function(){var r=this.host,Q=qe.exec(r);Q&&(Q=Q[0],":"!==Q&&(this.port=Q.substr(1)),
r=r.substr(0,r.length-Q.length));r&&(this.hostname=r)};var Mc={parse:v,resolve:function(r,Q){return v(r,!1,!0).resolve(Q)},resolveObject:function(r,Q){return r?v(r,!1,!0).resolveObject(Q):Q},format:function(r){ue.isString(r)&&(r=v(r));return r instanceof x?r.format():x.prototype.format.call(r)},Url:x};class Nd extends Error{constructor(r,Q){super(Q);this.message=Q;this.key=r}}class od{constructor(r,Q=[]){this.parent=r;this.bindings={};for(const [ma,Ma]of Q)this.bindings[ma]=Ma}concat(r){return new od(this,
r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw Error(`${r} not found in scope.`);}has(r){return this.bindings[r]?!0:this.parent?this.parent.has(r):!1}}const Id={kind:"null"},jd={kind:"number"},Qd={kind:"string"},ie={kind:"boolean"},Gf={kind:"color"},tf={kind:"object"},kd={kind:"value"},We={kind:"collator"},uf={kind:"formatted"},mf={kind:"resolvedImage"},Zf=[Id,jd,Qd,ie,Gf,uf,tf,D(kd),mf];var yf=N(function(r,Q){function ma(Vb){Vb=Math.round(Vb);
return 0>Vb?0:255<Vb?255:Vb}function Ma(Vb){return 0>Vb?0:1<Vb?1:Vb}function gb(Vb){return"%"===Vb[Vb.length-1]?ma(parseFloat(Vb)/100*255):ma(parseInt(Vb))}function lb(Vb){return"%"===Vb[Vb.length-1]?Ma(parseFloat(Vb)/100):Ma(parseFloat(Vb))}function sb(Vb,Qc,dd){0>dd?dd+=1:1<dd&&--dd;return 1>6*dd?Vb+(Qc-Vb)*dd*6:1>2*dd?Qc:2>3*dd?Vb+(Qc-Vb)*(2/3-dd)*6:Vb}function Rb(Vb){Vb=Vb.replace(/ /g,"").toLowerCase();if(Vb in ec)return ec[Vb].slice();if("#"===Vb[0])return 4===Vb.length?(Vb=parseInt(Vb.substr(1),
16),0<=Vb&&4095>=Vb?[(Vb&3840)>>4|(Vb&3840)>>8,Vb&240|(Vb&240)>>4,Vb&15|(Vb&15)<<4,1]:null):7===Vb.length?(Vb=parseInt(Vb.substr(1),16),0<=Vb&&16777215>=Vb?[(Vb&16711680)>>16,(Vb&65280)>>8,Vb&255,1]:null):null;var Qc=Vb.indexOf("("),dd=Vb.indexOf(")");if(-1!==Qc&&dd+1===Vb.length){var zd=Vb.substr(0,Qc);Qc=Vb.substr(Qc+1,dd-(Qc+1)).split(",");Vb=1;switch(zd){case "rgba":if(4!==Qc.length)break;Vb=lb(Qc.pop());case "rgb":if(3!==Qc.length)break;return[gb(Qc[0]),gb(Qc[1]),gb(Qc[2]),Vb];case "hsla":if(4!==
Qc.length)break;Vb=lb(Qc.pop());case "hsl":if(3===Qc.length)return zd=(parseFloat(Qc[0])%360+360)%360/360,dd=lb(Qc[1]),Qc=lb(Qc[2]),dd=.5>=Qc?Qc*(dd+1):Qc+dd-Qc*dd,Qc=2*Qc-dd,[ma(255*sb(Qc,dd,zd+1/3)),ma(255*sb(Qc,dd,zd)),ma(255*sb(Qc,dd,zd-1/3)),Vb]}}return null}var ec={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,
205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,
107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,
220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,
250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,
85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,
170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,
192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{Q.parseCSSColor=Rb}catch(Vb){}}).parseCSSColor;class Pe{constructor(r,
Q,ma,Ma=1){this.r=r;this.g=Q;this.b=ma;this.a=Ma}static parse(r){if(r){if(r instanceof Pe)return r;if("string"===typeof r&&(r=yf(r)))return new Pe(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3])}}toString(){const [r,Q,ma,Ma]=this.toArray();return`rgba(${Math.round(r)},${Math.round(Q)},${Math.round(ma)},${Ma})`}toArray(){const {r,g:Q,b:ma,a:Ma}=this;return 0===Ma?[0,0,0,0]:[255*r/Ma,255*Q/Ma,255*ma/Ma,Ma]}}Pe.black=new Pe(0,0,0,1);Pe.white=new Pe(1,1,1,1);Pe.transparent=new Pe(0,0,0,0);Pe.red=new Pe(1,
0,0,1);Pe.blue=new Pe(0,0,1,1);class nf{constructor(r,Q,ma){this.sensitivity=r?Q?"variant":"case":Q?"accent":"base";this.locale=ma;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,Q){return this.collator.compare(r,Q)}resolvedLocale(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale}}class Aa{constructor(r,Q,ma,Ma,gb){this.text=r;this.image=Q;this.scale=ma;this.fontStack=Ma;this.textColor=gb}}class Pa{constructor(r){this.sections=
r}static fromString(r){return new Pa([new Aa(r,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(r=>0!==r.text.length||r.image&&0!==r.image.name.length)}static factory(r){return r instanceof Pa?r:Pa.fromString(r)}toString(){return 0===this.sections.length?"":this.sections.map(r=>r.text).join("")}serialize(){const r=["format"];for(const Q of this.sections){if(Q.image){r.push(["image",Q.image.name]);continue}r.push(Q.text);const ma={};Q.fontStack&&(ma["text-font"]=
["literal",Q.fontStack.split(",")]);Q.scale&&(ma["font-scale"]=Q.scale);Q.textColor&&(ma["text-color"]=["rgba"].concat(Q.textColor.toArray()));r.push(ma)}return r}}class vb{constructor(r){this.name=r.name;this.available=r.available}toString(){return this.name}static fromString(r){return r?new vb({name:r,available:!1}):null}serialize(){return["image",this.name]}}class Wb{constructor(r,Q){this.type=r;this.value=Q}static parse(r,Q){if(2!==r.length)return Q.error(`'literal' expression requires exactly one argument, but found ${r.length-
1} instead.`);if(!K(r[1]))return Q.error("invalid value");r=r[1];let ma=R(r);Q=Q.expectedType;"array"!==ma.kind||0!==ma.N||!Q||"array"!==Q.kind||"number"===typeof Q.N&&0!==Q.N||(ma=Q);return new Wb(ma,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Pe?["rgba"].concat(this.value.toArray()):this.value instanceof Pa?this.value.serialize():this.value}}class Tb{constructor(r){this.name=
"ExpressionEvaluationError";this.message=r}toJSON(){return this.message}}const ic={string:Qd,number:jd,boolean:ie,object:tf};class oc{constructor(r,Q){this.type=r;this.args=Q}static parse(r,Q){if(2>r.length)return Q.error("Expected at least one argument.");let ma=1;var Ma=r[0];if("array"===Ma){if(2<r.length){Ma=r[1];if("string"!==typeof Ma||!(Ma in ic)||"object"===Ma)return Q.error('The item type argument of "array" must be one of string, number, boolean',1);Ma=ic[Ma];ma++}else Ma=kd;if(3<r.length){if(null!==
r[2]&&("number"!==typeof r[2]||0>r[2]||r[2]!==Math.floor(r[2])))return Q.error('The length argument to "array" must be a positive integer literal',2);var gb=r[2];ma++}gb=D(Ma,gb)}else gb=ic[Ma];for(Ma=[];ma<r.length;ma++){const lb=Q.parse(r[ma],ma,kd);if(!lb)return null;Ma.push(lb)}return new oc(gb,Ma)}evaluate(r){for(let Q=0;Q<this.args.length;Q++){const ma=this.args[Q].evaluate(r);if(!M(this.type,R(ma)))return ma;if(Q===this.args.length-1)throw new Tb(`Expected value to be of type ${O(this.type)}, but found ${O(R(ma))} instead.`);
}return null}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){var r=this.type;const Q=[r.kind];if("array"===r.kind){const ma=r.itemType;if("string"===ma.kind||"number"===ma.kind||"boolean"===ma.kind)Q.push(ma.kind),r=r.N,("number"===typeof r||1<this.args.length)&&Q.push(r)}return Q.concat(this.args.map(ma=>ma.serialize()))}}class fd{constructor(r){this.type=uf;this.sections=r}static parse(r,Q){if(2>r.length)return Q.error("Expected at least one argument.");
var ma=r[1];if(!Array.isArray(ma)&&"object"===typeof ma)return Q.error("First argument must be an image or text section.");ma=[];var Ma=!1;for(let sb=1;sb<=r.length-1;++sb){var gb=r[sb];if(Ma&&"object"===typeof gb&&!Array.isArray(gb)){Ma=!1;var lb=null;if(gb["font-scale"]&&(lb=Q.parse(gb["font-scale"],1,jd),!lb))return null;let Rb=null;if(gb["text-font"]&&(Rb=Q.parse(gb["text-font"],1,D(Qd)),!Rb))return null;let ec=null;if(gb["text-color"]&&(ec=Q.parse(gb["text-color"],1,Gf),!ec))return null;gb=ma[ma.length-
1];gb.scale=lb;gb.font=Rb;gb.textColor=ec}else{lb=Q.parse(r[sb],1,kd);if(!lb)return null;Ma=lb.type.kind;if("string"!==Ma&&"value"!==Ma&&"null"!==Ma&&"resolvedImage"!==Ma)return Q.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ma=!0;ma.push({content:lb,scale:null,font:null,textColor:null})}}return new fd(ma)}evaluate(r){return new Pa(this.sections.map(Q=>{const ma=Q.content.evaluate(r);return R(ma)===mf?new Aa("",ma,null,null,null):new Aa(T(ma),null,Q.scale?Q.scale.evaluate(r):
null,Q.font?Q.font.evaluate(r).join(","):null,Q.textColor?Q.textColor.evaluate(r):null)}))}eachChild(r){for(const Q of this.sections)r(Q.content),Q.scale&&r(Q.scale),Q.font&&r(Q.font),Q.textColor&&r(Q.textColor)}outputDefined(){return!1}serialize(){const r=["format"];for(const Q of this.sections){r.push(Q.content.serialize());const ma={};Q.scale&&(ma["font-scale"]=Q.scale.serialize());Q.font&&(ma["text-font"]=Q.font.serialize());Q.textColor&&(ma["text-color"]=Q.textColor.serialize());r.push(ma)}return r}}
class Wc{constructor(r){this.type=mf;this.input=r}static parse(r,Q){return 2!==r.length?Q.error("Expected two arguments."):(r=Q.parse(r[1],1,Qd))?new Wc(r):Q.error("No image name provided.")}evaluate(r){const Q=this.input.evaluate(r),ma=vb.fromString(Q);ma&&r.availableImages&&(ma.available=-1<r.availableImages.indexOf(Q));return ma}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const nd={"to-boolean":ie,"to-color":Gf,"to-number":jd,"to-string":Qd};
class Kd{constructor(r,Q){this.type=r;this.args=Q}static parse(r,Q){if(2>r.length)return Q.error("Expected at least one argument.");var ma=r[0];if(("to-boolean"===ma||"to-string"===ma)&&2!==r.length)return Q.error("Expected one argument.");ma=nd[ma];const Ma=[];for(let gb=1;gb<r.length;gb++){const lb=Q.parse(r[gb],gb,kd);if(!lb)return null;Ma.push(lb)}return new Kd(ma,Ma)}evaluate(r){if("boolean"===this.type.kind)return!!this.args[0].evaluate(r);if("color"===this.type.kind){for(const gb of this.args){var Q=
gb.evaluate(r);var ma=null;if(Q instanceof Pe)return Q;if("string"===typeof Q){var Ma=r.parseColor(Q);if(Ma)return Ma}else if(Array.isArray(Q)&&(ma=3>Q.length||4<Q.length?`Invalid rbga value ${JSON.stringify(Q)}: expected an array containing either three or four numeric values.`:G(Q[0],Q[1],Q[2],Q[3]),!ma))return new Pe(Q[0]/255,Q[1]/255,Q[2]/255,Q[3])}throw new Tb(ma||`Could not parse color from value '${"string"===typeof Q?Q:String(JSON.stringify(Q))}'`);}if("number"===this.type.kind){Q=null;for(Ma of this.args){Q=
Ma.evaluate(r);if(null===Q)return 0;ma=Number(Q);if(!isNaN(ma))return ma}throw new Tb(`Could not convert ${JSON.stringify(Q)} to number.`);}return"formatted"===this.type.kind?Pa.fromString(T(this.args[0].evaluate(r))):"resolvedImage"===this.type.kind?vb.fromString(T(this.args[0].evaluate(r))):T(this.args[0].evaluate(r))}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new fd([{content:this.args[0],scale:null,
font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new Wc(this.args[0])).serialize();const r=[`to-${this.type.kind}`];this.eachChild(Q=>{r.push(Q.serialize())});return r}}const de=["Unknown","Point","LineString","Polygon"];class je{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?
"number"===typeof this.feature.type?de[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(r){let Q=this._parseColorCache[r];Q||(Q=this._parseColorCache[r]=Pe.parse(r));return Q}}class Gd{constructor(r,Q,ma,Ma){this.name=r;this.type=Q;this._evaluate=ma;this.args=Ma}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(r=>
r.serialize()))}static parse(r,Q){var ma=r[0],Ma=Gd.definitions[ma];if(!Ma)return Q.error(`Unknown expression "${ma}". If you wanted a literal array, use ["literal", [...]].`,0);var gb=Array.isArray(Ma)?Ma[0]:Ma.type;Ma=Array.isArray(Ma)?[[Ma[1],Ma[2]]]:Ma.overloads;var lb=Ma.filter(([Qc])=>!Array.isArray(Qc)||Qc.length===r.length-1);let sb=null;for(const [Qc,dd]of lb){sb=new Ce(Q.registry,Q.path,null,Q.scope);const zd=[];var Rb=!1;for(var ec=1;ec<r.length;ec++){var Vb=r[ec];const rd=Array.isArray(Qc)?
Qc[ec-1]:Qc.type;Vb=sb.parse(Vb,1+zd.length,rd);if(!Vb){Rb=!0;break}zd.push(Vb)}if(!Rb)if(Array.isArray(Qc)&&Qc.length!==zd.length)sb.error(`Expected ${Qc.length} arguments, but found ${zd.length} instead.`);else{for(Rb=0;Rb<zd.length;Rb++)ec=Array.isArray(Qc)?Qc[Rb]:Qc.type,Vb=zd[Rb],sb.concat(Rb+1).checkSubtype(ec,Vb.type);if(0===sb.errors.length)return new Gd(ma,gb,dd,zd)}}if(1===lb.length)Q.errors.push(...sb.errors);else{ma=(lb.length?lb:Ma).map(([Qc])=>{Qc=Array.isArray(Qc)?`(${Qc.map(O).join(", ")})`:
`(${O(Qc.type)}...)`;return Qc}).join(" | ");gb=[];for(Ma=1;Ma<r.length;Ma++){lb=Q.parse(r[Ma],1+gb.length);if(!lb)return null;gb.push(O(lb.type))}Q.error(`Expected arguments of type ${ma}, but found (${gb.join(", ")}) instead.`)}return null}static register(r,Q){Gd.definitions=Q;for(const ma in Q)r[ma]=Gd}}class Le{constructor(r,Q,ma){this.type=We;this.locale=ma;this.caseSensitive=r;this.diacriticSensitive=Q}static parse(r,Q){if(2!==r.length)return Q.error("Expected one argument.");r=r[1];if("object"!==
typeof r||Array.isArray(r))return Q.error("Collator options argument must be an object.");const ma=Q.parse(void 0===r["case-sensitive"]?!1:r["case-sensitive"],1,ie);if(!ma)return null;const Ma=Q.parse(void 0===r["diacritic-sensitive"]?!1:r["diacritic-sensitive"],1,ie);if(!Ma)return null;let gb=null;return r.locale&&(gb=Q.parse(r.locale,1,Qd),!gb)?null:new Le(ma,Ma,gb)}evaluate(r){return new nf(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive);
r(this.diacriticSensitive);this.locale&&r(this.locale)}outputDefined(){return!1}serialize(){const r={};r["case-sensitive"]=this.caseSensitive.serialize();r["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(r.locale=this.locale.serialize());return["collator",r]}}class $d{constructor(r,Q){this.type=ie;this.geojson=r;this.geometries=Q}static parse(r,Q){if(2!==r.length)return Q.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(K(r[1]))if(r=
r[1],"FeatureCollection"===r.type)for(var ma=0;ma<r.features.length;++ma){const Ma=r.features[ma].geometry.type;if("Polygon"===Ma||"MultiPolygon"===Ma)return new $d(r,r.features[ma].geometry)}else if("Feature"===r.type){if(ma=r.geometry.type,"Polygon"===ma||"MultiPolygon"===ma)return new $d(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new $d(r,r);return Q.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(null!=
r.geometry()&&null!=r.canonicalID()){if("Point"===r.geometryType())return ta(r,this.geometries);if("LineString"===r.geometryType())return wa(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class Ie{constructor(r,Q){this.type=Q.type;this.name=r;this.boundExpression=Q}static parse(r,Q){if(2!==r.length||"string"!==typeof r[1])return Q.error("'var' expression requires exactly one string literal argument.");r=r[1];return Q.scope.has(r)?new Ie(r,
Q.scope.get(r)):Q.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Ce{constructor(r,Q=[],ma,Ma=new od,gb=[]){this.registry=r;this.path=Q;this.key=Q.map(lb=>`[${lb}]`).join("");this.scope=Ma;this.errors=gb;this.expectedType=ma}parse(r,Q,ma,Ma,gb={}){return Q?this.concat(Q,ma,Ma)._parse(r,gb):this._parse(r,
gb)}_parse(r,Q){function ma(lb,sb,Rb){return"assert"===Rb?new oc(sb,[lb]):"coerce"===Rb?new Kd(sb,[lb]):lb}if(null===r||"string"===typeof r||"boolean"===typeof r||"number"===typeof r)r=["literal",r];if(Array.isArray(r)){if(0===r.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var Ma=r[0];if("string"!==typeof Ma)return this.error(`Expression name must be a string, but found ${typeof Ma} instead. If you wanted a literal array, use ["literal", [...]].`,
0),null;var gb=this.registry[Ma];if(gb){r=gb.parse(r,this);if(!r)return null;if(this.expectedType)if(Ma=this.expectedType,gb=r.type,("string"===Ma.kind||"number"===Ma.kind||"boolean"===Ma.kind||"object"===Ma.kind||"array"===Ma.kind)&&"value"===gb.kind)r=ma(r,Ma,Q.typeAnnotation||"assert");else if(!("color"!==Ma.kind&&"formatted"!==Ma.kind&&"resolvedImage"!==Ma.kind||"value"!==gb.kind&&"string"!==gb.kind))r=ma(r,Ma,Q.typeAnnotation||"coerce");else if(this.checkSubtype(Ma,gb))return null;if(!(r instanceof
Wb)&&"resolvedImage"!==r.type.kind&&va(r)){Q=new je;try{r=new Wb(r.type,r.evaluate(Q))}catch(lb){return this.error(lb.message),null}}return r}return this.error(`Unknown expression "${Ma}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof r?this.error("'undefined' value invalid. Use null instead."):"object"===typeof r?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof r} instead.`)}concat(r,Q,ma){r=
"number"===typeof r?this.path.concat(r):this.path;ma=ma?this.scope.concat(ma):this.scope;return new Ce(this.registry,r,Q||null,ma,this.errors)}error(r,...Q){Q=`${this.key}${Q.map(ma=>`[${ma}]`).join("")}`;this.errors.push(new Nd(Q,r))}checkSubtype(r,Q){(r=M(r,Q))&&this.error(r);return r}}class Qe{constructor(r,Q,ma){this.type=r;this.input=Q;this.labels=[];this.outputs=[];for(const [Ma,gb]of ma)this.labels.push(Ma),this.outputs.push(gb)}static parse(r,Q){if(4>r.length-1)return Q.error(`Expected at least 4 arguments, but found only ${r.length-
1}.`);if(0!==(r.length-1)%2)return Q.error("Expected an even number of arguments.");const ma=Q.parse(r[1],1,jd);if(!ma)return null;const Ma=[];let gb=null;Q.expectedType&&"value"!==Q.expectedType.kind&&(gb=Q.expectedType);for(let sb=1;sb<r.length;sb+=2){const Rb=1===sb?-Infinity:r[sb];var lb=r[sb+1];const ec=sb,Vb=sb+1;if("number"!==typeof Rb)return Q.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ec);
if(Ma.length&&Ma[Ma.length-1][0]>=Rb)return Q.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ec);lb=Q.parse(lb,Vb,gb);if(!lb)return null;gb=gb||lb.type;Ma.push([Rb,lb])}return new Qe(gb,ma,Ma)}evaluate(r){var Q=this.labels;const ma=this.outputs;if(1===Q.length)return ma[0].evaluate(r);const Ma=this.input.evaluate(r);if(Ma<=Q[0])return ma[0].evaluate(r);const gb=Q.length;if(Ma>=Q[gb-1])return ma[gb-1].evaluate(r);Q=Ta(Q,Ma);return ma[Q].evaluate(r)}eachChild(r){r(this.input);
for(const Q of this.outputs)r(Q)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){const r=["step",this.input.serialize()];for(let Q=0;Q<this.labels.length;Q++)0<Q&&r.push(this.labels[Q]),r.push(this.outputs[Q].serialize());return r}}Ya.prototype.sampleCurveX=function(r){return((this.ax*r+this.bx)*r+this.cx)*r};Ya.prototype.sampleCurveY=function(r){return((this.ay*r+this.by)*r+this.cy)*r};Ya.prototype.sampleCurveDerivativeX=function(r){return(3*this.ax*r+2*this.bx)*r+this.cx};
Ya.prototype.solveCurveX=function(r,Q){"undefined"===typeof Q&&(Q=1E-6);var ma;var Ma=r;for(ma=0;8>ma;ma++){var gb=this.sampleCurveX(Ma)-r;if(Math.abs(gb)<Q)return Ma;var lb=this.sampleCurveDerivativeX(Ma);if(1E-6>Math.abs(lb))break;Ma-=gb/lb}ma=0;lb=1;Ma=r;if(Ma<ma)return ma;if(Ma>lb)return lb;for(;ma<lb;){gb=this.sampleCurveX(Ma);if(Math.abs(gb-r)<Q)break;r>gb?ma=Ma:lb=Ma;Ma=.5*(lb-ma)+ma}return Ma};Ya.prototype.solve=function(r,Q){return this.sampleCurveY(this.solveCurveX(r,Q))};var Uf=Object.freeze({__proto__:null,
number:Ca,color:function(r,Q,ma){return new Pe(Ca(r.r,Q.r,ma),Ca(r.g,Q.g,ma),Ca(r.b,Q.b,ma),Ca(r.a,Q.a,ma))},array:function(r,Q,ma){return r.map((Ma,gb)=>Ca(Ma,Q[gb],ma))}});const ne=4/29,sf=6/29,Cf=3*sf*sf,Bg=sf*sf*sf,Lf=Math.PI/180,jg=180/Math.PI,ya={forward:ca,reverse:ra,interpolate:function(r,Q,ma){return{l:Ca(r.l,Q.l,ma),a:Ca(r.a,Q.a,ma),b:Ca(r.b,Q.b,ma),alpha:Ca(r.alpha,Q.alpha,ma)}}},za={forward:function(r){const {l:Q,a:ma,b:Ma}=ca(r),gb=Math.atan2(Ma,ma)*jg;return{h:0>gb?gb+360:gb,c:Math.sqrt(ma*
ma+Ma*Ma),l:Q,alpha:r.a}},reverse:function(r){const Q=r.h*Lf,ma=r.c;return ra({l:r.l,a:Math.cos(Q)*ma,b:Math.sin(Q)*ma,alpha:r.alpha})},interpolate:function(r,Q,ma){{var Ma=r.h;const gb=Q.h-Ma;Ma+=ma*(180<gb||-180>gb?gb-360*Math.round(gb/360):gb)}return{h:Ma,c:Ca(r.c,Q.c,ma),l:Ca(r.l,Q.l,ma),alpha:Ca(r.alpha,Q.alpha,ma)}}};var Na=Object.freeze({__proto__:null,lab:ya,hcl:za});class Sa{constructor(r,Q,ma,Ma,gb){this.type=r;this.operator=Q;this.interpolation=ma;this.input=Ma;this.labels=[];this.outputs=
[];for(const [lb,sb]of gb)this.labels.push(lb),this.outputs.push(sb)}static interpolationFactor(r,Q,ma,Ma){let gb=0;"exponential"===r.name?gb=qa(Q,r.base,ma,Ma):"linear"===r.name?gb=qa(Q,1,ma,Ma):"cubic-bezier"===r.name&&(r=r.controlPoints,gb=(new Ya(r[0],r[1],r[2],r[3])).solve(qa(Q,1,ma,Ma)));return gb}static parse(r,Q){let [ma,Ma,gb,...lb]=r;if(!Array.isArray(Ma)||0===Ma.length)return Q.error("Expected an interpolation type expression.",1);if("linear"===Ma[0])Ma={name:"linear"};else if("exponential"===
Ma[0]){var sb=Ma[1];if("number"!==typeof sb)return Q.error("Exponential interpolation requires a numeric base.",1,1);Ma={name:"exponential",base:sb}}else if("cubic-bezier"===Ma[0]){sb=Ma.slice(1);if(4!==sb.length||sb.some(ec=>"number"!==typeof ec||0>ec||1<ec))return Q.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Ma={name:"cubic-bezier",controlPoints:sb}}else return Q.error(`Unknown interpolation type ${String(Ma[0])}`,1,0);if(4>r.length-1)return Q.error(`Expected at least 4 arguments, but found only ${r.length-
1}.`);if(0!==(r.length-1)%2)return Q.error("Expected an even number of arguments.");gb=Q.parse(gb,2,jd);if(!gb)return null;r=[];sb=null;"interpolate-hcl"===ma||"interpolate-lab"===ma?sb=Gf:Q.expectedType&&"value"!==Q.expectedType.kind&&(sb=Q.expectedType);for(let ec=0;ec<lb.length;ec+=2){const Vb=lb[ec];var Rb=lb[ec+1];const Qc=ec+3,dd=ec+4;if("number"!==typeof Vb)return Q.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Qc);if(r.length&&r[r.length-1][0]>=Vb)return Q.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Qc);Rb=Q.parse(Rb,dd,sb);if(!Rb)return null;sb=sb||Rb.type;r.push([Vb,Rb])}return"number"===sb.kind||"color"===sb.kind||"array"===sb.kind&&"number"===sb.itemType.kind&&"number"===typeof sb.N?new Sa(sb,ma,Ma,gb,r):Q.error(`Type ${O(sb)} is not interpolatable.`)}evaluate(r){var Q=this.labels;const ma=this.outputs;if(1===Q.length)return ma[0].evaluate(r);
var Ma=this.input.evaluate(r);if(Ma<=Q[0])return ma[0].evaluate(r);var gb=Q.length;if(Ma>=Q[gb-1])return ma[gb-1].evaluate(r);gb=Ta(Q,Ma);Q=Sa.interpolationFactor(this.interpolation,Ma,Q[gb],Q[gb+1]);Ma=ma[gb].evaluate(r);r=ma[gb+1].evaluate(r);return"interpolate"===this.operator?Uf[this.type.kind.toLowerCase()](Ma,r,Q):"interpolate-hcl"===this.operator?za.reverse(za.interpolate(za.forward(Ma),za.forward(r),Q)):ya.reverse(ya.interpolate(ya.forward(Ma),ya.forward(r),Q))}eachChild(r){r(this.input);
for(const Q of this.outputs)r(Q)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){var r="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);r=[this.operator,r,this.input.serialize()];for(let Q=0;Q<this.labels.length;Q++)r.push(this.labels[Q],this.outputs[Q].serialize());return r}}class fb{constructor(r,
Q){this.type=r;this.args=Q}static parse(r,Q){if(2>r.length)return Q.error("Expectected at least one argument.");let ma=null;const Ma=Q.expectedType;Ma&&"value"!==Ma.kind&&(ma=Ma);const gb=[];for(const lb of r.slice(1)){r=Q.parse(lb,1+gb.length,ma,void 0,{typeAnnotation:"omit"});if(!r)return null;ma=ma||r.type;gb.push(r)}return Ma&&gb.some(lb=>M(Ma,lb.type))?new fb(kd,gb):new fb(ma,gb)}evaluate(r){let Q=null,ma=0,Ma;for(const gb of this.args)if(ma++,(Q=gb.evaluate(r))&&Q instanceof vb&&!Q.available&&
(Ma||(Ma=Q.name),Q=null,ma===this.args.length&&(Q=Ma)),null!==Q)break;return Q}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=["coalesce"];this.eachChild(Q=>{r.push(Q.serialize())});return r}}class hb{constructor(r,Q){this.type=Q.type;this.bindings=[].concat(r);this.result=Q}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const Q of this.bindings)r(Q[1]);r(this.result)}static parse(r,Q){if(4>r.length)return Q.error(`Expected at least 3 arguments, but found ${r.length-
1} instead.`);const ma=[];for(let Ma=1;Ma<r.length-1;Ma+=2){const gb=r[Ma];if("string"!==typeof gb)return Q.error(`Expected string, but found ${typeof gb} instead.`,Ma);if(/[^a-zA-Z0-9_]/.test(gb))return Q.error("Variable names must contain only alphanumeric characters or '_'.",Ma);const lb=Q.parse(r[Ma+1],Ma+1);if(!lb)return null;ma.push([gb,lb])}return(r=Q.parse(r[r.length-1],r.length-1,Q.expectedType,ma))?new hb(ma,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const r=
["let"];for(const [Q,ma]of this.bindings)r.push(Q,ma.serialize());r.push(this.result.serialize());return r}}class qb{constructor(r,Q,ma){this.type=r;this.index=Q;this.input=ma}static parse(r,Q){if(3!==r.length)return Q.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const ma=Q.parse(r[1],1,jd);r=Q.parse(r[2],2,D(Q.expectedType||kd));return ma&&r?new qb(r.type.itemType,ma,r):null}evaluate(r){const Q=this.index.evaluate(r);r=this.input.evaluate(r);if(0>Q)throw new Tb(`Array index out of bounds: ${Q} < 0.`);
if(Q>=r.length)throw new Tb(`Array index out of bounds: ${Q} > ${r.length-1}.`);if(Q!==Math.floor(Q))throw new Tb(`Array index must be an integer, but found ${Q} instead.`);return r[Q]}eachChild(r){r(this.index);r(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Db{constructor(r,Q){this.type=ie;this.needle=r;this.haystack=Q}static parse(r,Q){if(3!==r.length)return Q.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const ma=
Q.parse(r[1],1,kd);r=Q.parse(r[2],2,kd);return ma&&r?F(ma.type,[ie,Qd,jd,Id,kd])?new Db(ma,r):Q.error(`Expected first argument to be of type boolean, string, number or null, but found ${O(ma.type)} instead`):null}evaluate(r){const Q=this.needle.evaluate(r);r=this.haystack.evaluate(r);if(!r)return!1;if(!z(Q,["boolean","string","number","null"]))throw new Tb(`Expected first argument to be of type boolean, string, number or null, but found ${O(R(Q))} instead.`);if(!z(r,["string","array"]))throw new Tb(`Expected second argument to be of type array or string, but found ${O(R(r))} instead.`);
return 0<=r.indexOf(Q)}eachChild(r){r(this.needle);r(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Ab{constructor(r,Q,ma){this.type=jd;this.needle=r;this.haystack=Q;this.fromIndex=ma}static parse(r,Q){if(2>=r.length||5<=r.length)return Q.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const ma=Q.parse(r[1],1,kd),Ma=Q.parse(r[2],2,kd);return ma&&Ma?F(ma.type,[ie,Qd,jd,Id,kd])?4===r.length?(r=Q.parse(r[3],
3,jd))?new Ab(ma,Ma,r):null:new Ab(ma,Ma):Q.error(`Expected first argument to be of type boolean, string, number or null, but found ${O(ma.type)} instead`):null}evaluate(r){const Q=this.needle.evaluate(r),ma=this.haystack.evaluate(r);if(!z(Q,["boolean","string","number","null"]))throw new Tb(`Expected first argument to be of type boolean, string, number or null, but found ${O(R(Q))} instead.`);if(!z(ma,["string","array"]))throw new Tb(`Expected second argument to be of type array or string, but found ${O(R(ma))} instead.`);
return this.fromIndex?(r=this.fromIndex.evaluate(r),ma.indexOf(Q,r)):ma.indexOf(Q)}eachChild(r){r(this.needle);r(this.haystack);this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Kb{constructor(r,Q,ma,Ma,gb,lb){this.inputType=r;this.type=Q;this.input=
ma;this.cases=Ma;this.outputs=gb;this.otherwise=lb}static parse(r,Q){if(5>r.length)return Q.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(1!==r.length%2)return Q.error("Expected an even number of arguments.");let ma,Ma;Q.expectedType&&"value"!==Q.expectedType.kind&&(Ma=Q.expectedType);const gb={},lb=[];for(var sb=2;sb<r.length-1;sb+=2){var Rb=r[sb];const ec=r[sb+1];Array.isArray(Rb)||(Rb=[Rb]);const Vb=Q.concat(sb);if(0===Rb.length)return Vb.error("Expected at least one branch label.");
for(const Qc of Rb){if("number"!==typeof Qc&&"string"!==typeof Qc)return Vb.error("Branch labels must be numbers or strings.");if("number"===typeof Qc&&Math.abs(Qc)>Number.MAX_SAFE_INTEGER)return Vb.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof Qc&&Math.floor(Qc)!==Qc)return Vb.error("Numeric branch labels must be integer values.");if(!ma)ma=R(Qc);else if(Vb.checkSubtype(ma,R(Qc)))return null;if("undefined"!==typeof gb[String(Qc)])return Vb.error("Branch labels must be unique.");
gb[String(Qc)]=lb.length}Rb=Q.parse(ec,sb,Ma);if(!Rb)return null;Ma=Ma||Rb.type;lb.push(Rb)}sb=Q.parse(r[1],1,kd);if(!sb)return null;r=Q.parse(r[r.length-1],r.length-1,Ma);return!r||"value"!==sb.type.kind&&Q.concat(1).checkSubtype(ma,sb.type)?null:new Kb(ma,Ma,sb,gb,lb,r)}evaluate(r){const Q=this.input.evaluate(r);return(R(Q)===this.inputType&&this.outputs[this.cases[Q]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input);this.outputs.forEach(r);r(this.otherwise)}outputDefined(){return this.outputs.every(r=>
r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["match",this.input.serialize()];var Q=Object.keys(this.cases).sort();const ma=[];var Ma={};for(const gb of Q)Q=Ma[this.cases[gb]],void 0===Q?(Ma[this.cases[gb]]=ma.length,ma.push([this.cases[gb],[gb]])):ma[Q][1].push(gb);Ma=gb=>"number"===this.inputType.kind?Number(gb):gb;for(const [gb,lb]of ma)1===lb.length?r.push(Ma(lb[0])):r.push(lb.map(Ma)),r.push(this.outputs[gb].serialize());r.push(this.otherwise.serialize());return r}}
class Jb{constructor(r,Q,ma){this.type=r;this.branches=Q;this.otherwise=ma}static parse(r,Q){if(4>r.length)return Q.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(0!==r.length%2)return Q.error("Expected an odd number of arguments.");let ma;Q.expectedType&&"value"!==Q.expectedType.kind&&(ma=Q.expectedType);const Ma=[];for(let gb=1;gb<r.length-1;gb+=2){const lb=Q.parse(r[gb],gb,ie);if(!lb)return null;const sb=Q.parse(r[gb+1],gb+1,ma);if(!sb)return null;Ma.push([lb,sb]);ma=
ma||sb.type}return(r=Q.parse(r[r.length-1],r.length-1,ma))?new Jb(ma,Ma,r):null}evaluate(r){for(const [Q,ma]of this.branches)if(Q.evaluate(r))return ma.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const [Q,ma]of this.branches)r(Q),r(ma);r(this.otherwise)}outputDefined(){return this.branches.every(([,r])=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["case"];this.eachChild(Q=>{r.push(Q.serialize())});return r}}class cc{constructor(r,Q,ma,Ma){this.type=r;
this.input=Q;this.beginIndex=ma;this.endIndex=Ma}static parse(r,Q){if(2>=r.length||5<=r.length)return Q.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const ma=Q.parse(r[1],1,kd),Ma=Q.parse(r[2],2,jd);return ma&&Ma?F(ma.type,[D(kd),Qd,kd])?4===r.length?(r=Q.parse(r[3],3,jd))?new cc(ma.type,ma,Ma,r):null:new cc(ma.type,ma,Ma):Q.error(`Expected first argument to be of type array or string, but found ${O(ma.type)} instead`):null}evaluate(r){const Q=this.input.evaluate(r),ma=this.beginIndex.evaluate(r);
if(!z(Q,["string","array"]))throw new Tb(`Expected first argument to be of type array or string, but found ${O(R(Q))} instead.`);return this.endIndex?(r=this.endIndex.evaluate(r),Q.slice(ma,r)):Q.slice(ma)}eachChild(r){r(this.input);r(this.beginIndex);this.endIndex&&r(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),
this.beginIndex.serialize()]}}const xc=Ra("\x3d\x3d",function(r,Q,ma){return Q===ma},na),Y=Ra("!\x3d",function(r,Q,ma){return Q!==ma},function(r,Q,ma,Ma){return!na(r,Q,ma,Ma)}),oa=Ra("\x3c",function(r,Q,ma){return Q<ma},function(r,Q,ma,Ma){return 0>Ma.compare(Q,ma)}),Oa=Ra("\x3e",function(r,Q,ma){return Q>ma},function(r,Q,ma,Ma){return 0<Ma.compare(Q,ma)}),Va=Ra("\x3c\x3d",function(r,Q,ma){return Q<=ma},function(r,Q,ma,Ma){return 0>=Ma.compare(Q,ma)}),xb=Ra("\x3e\x3d",function(r,Q,ma){return Q>=ma},
function(r,Q,ma,Ma){return 0<=Ma.compare(Q,ma)});class Sb{constructor(r,Q,ma,Ma,gb){this.type=Qd;this.number=r;this.locale=Q;this.currency=ma;this.minFractionDigits=Ma;this.maxFractionDigits=gb}static parse(r,Q){if(3!==r.length)return Q.error("Expected two arguments.");const ma=Q.parse(r[1],1,jd);if(!ma)return null;r=r[2];if("object"!==typeof r||Array.isArray(r))return Q.error("NumberFormat options argument must be an object.");let Ma=null;if(r.locale&&(Ma=Q.parse(r.locale,1,Qd),!Ma))return null;
let gb=null;if(r.currency&&(gb=Q.parse(r.currency,1,Qd),!gb))return null;let lb=null;if(r["min-fraction-digits"]&&(lb=Q.parse(r["min-fraction-digits"],1,jd),!lb))return null;let sb=null;return r["max-fraction-digits"]&&(sb=Q.parse(r["max-fraction-digits"],1,jd),!sb)?null:new Sb(ma,Ma,gb,lb,sb)}evaluate(r){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0})).format(this.number.evaluate(r))}eachChild(r){r(this.number);this.locale&&r(this.locale);this.currency&&r(this.currency);this.minFractionDigits&&r(this.minFractionDigits);this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const r={};this.locale&&(r.locale=this.locale.serialize());this.currency&&(r.currency=this.currency.serialize());
this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),r]}}class Zb{constructor(r){this.type=jd;this.input=r}static parse(r,Q){return 2!==r.length?Q.error(`Expected 1 argument, but found ${r.length-1} instead.`):(r=Q.parse(r[1],1))?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?Q.error(`Expected argument of type string or array, but found ${O(r.type)} instead.`):
new Zb(r):null}evaluate(r){r=this.input.evaluate(r);if("string"===typeof r||Array.isArray(r))return r.length;throw new Tb(`Expected value to be of type string or array, but found ${O(R(r))} instead.`);}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){const r=["length"];this.eachChild(Q=>{r.push(Q.serialize())});return r}}const qc={"\x3d\x3d":xc,"!\x3d":Y,"\x3e":Oa,"\x3c":oa,"\x3e\x3d":xb,"\x3c\x3d":Va,array:oc,at:qb,"boolean":oc,"case":Jb,coalesce:fb,collator:Le,format:fd,image:Wc,
"in":Db,"index-of":Ab,interpolate:Sa,"interpolate-hcl":Sa,"interpolate-lab":Sa,length:Zb,let:hb,literal:Wb,match:Kb,number:oc,"number-format":Sb,object:oc,slice:cc,step:Qe,string:oc,"to-boolean":Kd,"to-color":Kd,"to-number":Kd,"to-string":Kd,"var":Ie,within:$d};Gd.register(qc,{error:[{kind:"error"},[Qd],(r,[Q])=>{throw new Tb(Q.evaluate(r));}],"typeof":[Qd,[kd],(r,[Q])=>O(R(Q.evaluate(r)))],"to-rgba":[D(jd,4),[Gf],(r,[Q])=>Q.evaluate(r).toArray()],rgb:[Gf,[jd,jd,jd],db],rgba:[Gf,[jd,jd,jd,jd],db],
has:{type:ie,overloads:[[[Qd],(r,[Q])=>{Q=Q.evaluate(r);r=r.properties();return Q in r}],[[Qd,tf],(r,[Q,ma])=>{Q=Q.evaluate(r);r=ma.evaluate(r);return Q in r}]]},get:{type:kd,overloads:[[[Qd],(r,[Q])=>$a(Q.evaluate(r),r.properties())],[[Qd,tf],(r,[Q,ma])=>$a(Q.evaluate(r),ma.evaluate(r))]]},"feature-state":[kd,[Qd],(r,[Q])=>$a(Q.evaluate(r),r.featureState||{})],properties:[tf,[],r=>r.properties()],"geometry-type":[Qd,[],r=>r.geometryType()],id:[kd,[],r=>r.id()],zoom:[jd,[],r=>r.globals.zoom],"heatmap-density":[jd,
[],r=>r.globals.heatmapDensity||0],"line-progress":[jd,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[jd,[],r=>r.globals.skyRadialProgress||0],accumulated:[kd,[],r=>void 0===r.globals.accumulated?null:r.globals.accumulated],"+":[jd,{type:jd},(r,Q)=>{let ma=0;for(const Ma of Q)ma+=Ma.evaluate(r);return ma}],"*":[jd,{type:jd},(r,Q)=>{let ma=1;for(const Ma of Q)ma*=Ma.evaluate(r);return ma}],"-":{type:jd,overloads:[[[jd,jd],(r,[Q,ma])=>Q.evaluate(r)-ma.evaluate(r)],[[jd],(r,[Q])=>-Q.evaluate(r)]]},
"/":[jd,[jd,jd],(r,[Q,ma])=>Q.evaluate(r)/ma.evaluate(r)],"%":[jd,[jd,jd],(r,[Q,ma])=>Q.evaluate(r)%ma.evaluate(r)],ln2:[jd,[],()=>Math.LN2],pi:[jd,[],()=>Math.PI],e:[jd,[],()=>Math.E],"^":[jd,[jd,jd],(r,[Q,ma])=>Math.pow(Q.evaluate(r),ma.evaluate(r))],sqrt:[jd,[jd],(r,[Q])=>Math.sqrt(Q.evaluate(r))],log10:[jd,[jd],(r,[Q])=>Math.log(Q.evaluate(r))/Math.LN10],ln:[jd,[jd],(r,[Q])=>Math.log(Q.evaluate(r))],log2:[jd,[jd],(r,[Q])=>Math.log(Q.evaluate(r))/Math.LN2],sin:[jd,[jd],(r,[Q])=>Math.sin(Q.evaluate(r))],
cos:[jd,[jd],(r,[Q])=>Math.cos(Q.evaluate(r))],tan:[jd,[jd],(r,[Q])=>Math.tan(Q.evaluate(r))],asin:[jd,[jd],(r,[Q])=>Math.asin(Q.evaluate(r))],acos:[jd,[jd],(r,[Q])=>Math.acos(Q.evaluate(r))],atan:[jd,[jd],(r,[Q])=>Math.atan(Q.evaluate(r))],min:[jd,{type:jd},(r,Q)=>Math.min(...Q.map(ma=>ma.evaluate(r)))],max:[jd,{type:jd},(r,Q)=>Math.max(...Q.map(ma=>ma.evaluate(r)))],abs:[jd,[jd],(r,[Q])=>Math.abs(Q.evaluate(r))],round:[jd,[jd],(r,[Q])=>{r=Q.evaluate(r);return 0>r?-Math.round(-r):Math.round(r)}],
floor:[jd,[jd],(r,[Q])=>Math.floor(Q.evaluate(r))],ceil:[jd,[jd],(r,[Q])=>Math.ceil(Q.evaluate(r))],"filter-\x3d\x3d":[ie,[Qd,kd],(r,[Q,ma])=>r.properties()[Q.value]===ma.value],"filter-id-\x3d\x3d":[ie,[kd],(r,[Q])=>r.id()===Q.value],"filter-type-\x3d\x3d":[ie,[Qd],(r,[Q])=>r.geometryType()===Q.value],"filter-\x3c":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===typeof ma&&r<ma}],"filter-id-\x3c":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r<
Q}],"filter-\x3e":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===typeof ma&&r>ma}],"filter-id-\x3e":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r>Q}],"filter-\x3c\x3d":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===typeof ma&&r<=ma}],"filter-id-\x3c\x3d":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r<=Q}],"filter-\x3e\x3d":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===
typeof ma&&r>=ma}],"filter-id-\x3e\x3d":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r>=Q}],"filter-has":[ie,[kd],(r,[Q])=>Q.value in r.properties()],"filter-has-id":[ie,[],r=>null!==r.id()&&void 0!==r.id()],"filter-type-in":[ie,[D(Qd)],(r,[Q])=>0<=Q.value.indexOf(r.geometryType())],"filter-id-in":[ie,[D(kd)],(r,[Q])=>0<=Q.value.indexOf(r.id())],"filter-in-small":[ie,[Qd,D(kd)],(r,[Q,ma])=>0<=ma.value.indexOf(r.properties()[Q.value])],"filter-in-large":[ie,[Qd,D(kd)],(r,[Q,ma])=>
{a:{r=r.properties()[Q.value];Q=ma.value;var Ma=0;for(ma=ma.value.length-1;Ma<=ma;){const gb=Ma+ma>>1;if(Q[gb]===r){ma=!0;break a}Q[gb]>r?ma=gb-1:Ma=gb+1}ma=!1}return ma}],all:{type:ie,overloads:[[[ie,ie],(r,[Q,ma])=>Q.evaluate(r)&&ma.evaluate(r)],[{type:ie},(r,Q)=>{for(const ma of Q)if(!ma.evaluate(r))return!1;return!0}]]},any:{type:ie,overloads:[[[ie,ie],(r,[Q,ma])=>Q.evaluate(r)||ma.evaluate(r)],[{type:ie},(r,Q)=>{for(const ma of Q)if(ma.evaluate(r))return!0;return!1}]]},"!":[ie,[ie],(r,[Q])=>
!Q.evaluate(r)],"is-supported-script":[ie,[Qd],(r,[Q])=>{const ma=r.globals&&r.globals.isSupportedScript;return ma?ma(Q.evaluate(r)):!0}],upcase:[Qd,[Qd],(r,[Q])=>Q.evaluate(r).toUpperCase()],downcase:[Qd,[Qd],(r,[Q])=>Q.evaluate(r).toLowerCase()],concat:[Qd,{type:kd},(r,Q)=>Q.map(ma=>T(ma.evaluate(r))).join("")],"resolved-locale":[Qd,[We],(r,[Q])=>Q.evaluate(r).resolvedLocale()]});class Ec{constructor(r,Q){this.expression=r;this._warningHistory={};this._evaluator=new je;this._defaultValue=Q?"color"===
Q.type&&Fb(Q.default)?new Pe(0,0,0,0):"color"===Q.type?Pe.parse(Q.default)||null:void 0===Q.default?null:Q.default:null;this._enumValues=Q&&"enum"===Q.type?Q.values:null}evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb){this._evaluator.globals=r;this._evaluator.feature=Q;this._evaluator.featureState=ma;this._evaluator.canonical=Ma;this._evaluator.availableImages=gb||null;this._evaluator.formattedSection=lb;return this.expression.evaluate(this._evaluator)}evaluate(r,Q,ma,Ma,gb,lb){this._evaluator.globals=
r;this._evaluator.feature=Q||null;this._evaluator.featureState=ma||null;this._evaluator.canonical=Ma;this._evaluator.availableImages=gb||null;this._evaluator.formattedSection=lb||null;try{const sb=this.expression.evaluate(this._evaluator);if(null===sb||void 0===sb||"number"===typeof sb&&sb!==sb)return this._defaultValue;if(this._enumValues&&!(sb in this._enumValues))throw new Tb(`Expected value to be one of ${Object.keys(this._enumValues).map(Rb=>JSON.stringify(Rb)).join(", ")}, but found ${JSON.stringify(sb)} instead.`);
return sb}catch(sb){return this._warningHistory[sb.message]||(this._warningHistory[sb.message]=!0,"undefined"!==typeof console&&console.warn(sb.message)),this._defaultValue}}}class ed{constructor(r,Q){this.kind=r;this._styleExpression=Q;this.isStateDependent="constant"!==r&&!bb(Q.expression)}evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb)}evaluate(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluate(r,Q,ma,Ma,gb,lb)}}class Zc{constructor(r,
Q,ma,Ma){this.kind=r;this.zoomStops=ma;this._styleExpression=Q;this.isStateDependent="camera"!==r&&!bb(Q.expression);this.interpolationType=Ma}evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb)}evaluate(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluate(r,Q,ma,Ma,gb,lb)}interpolationFactor(r,Q,ma){return this.interpolationType?Sa.interpolationFactor(this.interpolationType,r,Q,ma):0}}class Pd{constructor(r,Q){this._parameters=
r;this._specification=Q;B(this,nc(this._parameters,this._specification))}static deserialize(r){return new Pd(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}const be={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};var pd="type source source-layer minzoom maxzoom filter layout".split(" ");const Ad={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",
setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};class id{constructor(r,Q,ma,Ma){this.message=
(r?`${r}: `:"")+ma;Ma&&(this.identifier=Ma);null!==Q&&void 0!==Q&&Q.__line__&&(this.line=Q.__line__)}}class af{constructor(r){this.error=r;this.message=r.message;this.line=(r=r.message.match(/line (\d+)/))?parseInt(r[1],10):0}}const Wa={promoteId:function({key:r,value:Q}){if("string"===jb(Q))return zf({key:r,value:Q});{const ma=[];for(const Ma in Q)ma.push(...zf({key:`${r}.${Ma}`,value:Q[Ma]}));return ma}}},ob={["*"](){return[]},array:Dd,"boolean":function(r){const Q=r.value;r=r.key;const ma=jb(Q);
return"boolean"!==ma?[new id(r,Q,`boolean expected, ${ma} found`)]:[]},number:Ud,color:function(r){const Q=r.key;r=r.value;const ma=jb(r);return"string"!==ma?[new id(Q,r,`color expected, ${ma} found`)]:null===yf(r)?[new id(Q,r,`color expected, "${r}" found`)]:[]},constants:Tc,"enum":De,filter:fe,"function":ae,layer:he,object:Cd,source:Ue,light:Nf,terrain:me,string:zf,formatted:function(r){return 0===zf(r).length?[]:oe(r)},resolvedImage:function(r){return 0===zf(r).length?[]:oe(r)}};we.source=Xd(Ue);
we.light=Xd(Nf);we.terrain=Xd(me);we.layer=Xd(he);we.filter=Xd(fe);we.paintProperty=Xd(df);we.layoutProperty=Xd(Zd);var zb=N(function(r,Q){var ma=function(){function Ma(){this.yy={}}var gb=function(Jc,ud,ee,Sd){ee=ee||{};for(Sd=Jc.length;Sd--;ee[Jc[Sd]]=ud);return ee},lb=[1,12],sb=[1,13],Rb=[1,9],ec=[1,10],Vb=[1,11],Qc=[1,14],dd=[1,15],zd=[14,18,22,24],rd=[18,22],bd=[22,24];gb={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,
TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Jc,ud,
ee,Sd,ye,re,Pf){ud=re.length-1;switch(ye){case 1:this.$=new String(Jc.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Jc);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;
case 6:return this.$=re[ud-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=re[ud-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[re[ud-2],re[ud]];break;case 16:this.$={};this.$[re[ud][0]]=re[ud][1];break;case 17:this.$=re[ud-2];re[ud-2][re[ud][0]]=re[ud][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});
break;case 20:this.$=[re[ud]];break;case 21:this.$=re[ud-2],re[ud-2].push(re[ud])}},table:[{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,12:1,13:2,15:7,16:8,17:Qc,23:dd},{1:[3]},{14:[1,16]},gb(zd,[2,7]),gb(zd,[2,8]),gb(zd,[2,9]),gb(zd,[2,10]),gb(zd,[2,11]),gb(zd,[2,12]),gb(zd,[2,3]),gb(zd,[2,4]),gb(zd,[2,5]),gb([14,18,21,22,24],[2,1]),gb(zd,[2,2]),{3:20,4:lb,18:[1,17],19:18,20:19},{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,13:23,15:7,16:8,17:Qc,23:dd,24:[1,21],25:22},{1:[2,6]},gb(zd,[2,13]),{18:[1,
24],22:[1,25]},gb(rd,[2,16]),{21:[1,26]},gb(zd,[2,18]),{22:[1,28],24:[1,27]},gb(bd,[2,20]),gb(zd,[2,14]),{3:20,4:lb,20:29},{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,13:30,15:7,16:8,17:Qc,23:dd},gb(zd,[2,19]),{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,13:31,15:7,16:8,17:Qc,23:dd},gb(rd,[2,17]),gb(rd,[2,15]),gb(bd,[2,21])],defaultActions:{16:[2,6]},parseError:function(Jc,ud){if(ud.recoverable)this.trace(Jc);else throw Error(Jc);},parse:function(Jc){var ud=[0],ee=[null],Sd=[],ye=this.table,re="",
Pf=0,ke=0,pe=Sd.slice.call(arguments,1),Re=Object.create(this.lexer),xd={};for(Oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Oe)&&(xd[Oe]=this.yy[Oe]);Re.setInput(Jc,xd);xd.lexer=Re;xd.parser=this;"undefined"==typeof Re.yylloc&&(Re.yylloc={});var Oe=Re.yylloc;Sd.push(Oe);var dg=Re.options&&Re.options.ranges;this.parseError="function"===typeof xd.parseError?xd.parseError:Object.getPrototypeOf(this).parseError;for(var Xe,$f,vf,Df={},Qf,Vf;;){$f=ud[ud.length-1];if(this.defaultActions[$f])vf=
this.defaultActions[$f];else{if(null===Xe||"undefined"==typeof Xe)Xe=Re.lex()||1,"number"!==typeof Xe&&(Xe=this.symbols_[Xe]||Xe);vf=ye[$f]&&ye[$f][Xe]}if("undefined"===typeof vf||!vf.length||!vf[0]){Vf=[];for(Qf in ye[$f])this.terminals_[Qf]&&2<Qf&&Vf.push("'"+this.terminals_[Qf]+"'");var Xg=Re.showPosition?"Parse error on line "+(Pf+1)+":\n"+Re.showPosition()+"\nExpecting "+Vf.join(", ")+", got '"+(this.terminals_[Xe]||Xe)+"'":"Parse error on line "+(Pf+1)+": Unexpected "+(1==Xe?"end of input":
"'"+(this.terminals_[Xe]||Xe)+"'");this.parseError(Xg,{text:Re.match,token:this.terminals_[Xe]||Xe,line:Re.yylineno,loc:Oe,expected:Vf})}if(vf[0]instanceof Array&&1<vf.length)throw Error("Parse Error: multiple actions possible at state: "+$f+", token: "+Xe);switch(vf[0]){case 1:ud.push(Xe);ee.push(Re.yytext);Sd.push(Re.yylloc);ud.push(vf[1]);Xe=null;ke=Re.yyleng;re=Re.yytext;Pf=Re.yylineno;Oe=Re.yylloc;break;case 2:Vf=this.productions_[vf[1]][1];Df.$=ee[ee.length-Vf];Df._$={first_line:Sd[Sd.length-
(Vf||1)].first_line,last_line:Sd[Sd.length-1].last_line,first_column:Sd[Sd.length-(Vf||1)].first_column,last_column:Sd[Sd.length-1].last_column};dg&&(Df._$.range=[Sd[Sd.length-(Vf||1)].range[0],Sd[Sd.length-1].range[1]]);$f=this.performAction.apply(Df,[re,ke,Pf,xd,vf[1],ee,Sd].concat(pe));if("undefined"!==typeof $f)return $f;Vf&&(ud=ud.slice(0,-2*Vf),ee=ee.slice(0,-1*Vf),Sd=Sd.slice(0,-1*Vf));ud.push(this.productions_[vf[1]][0]);ee.push(Df.$);Sd.push(Df._$);vf=ye[ud[ud.length-2]][ud[ud.length-1]];
ud.push(vf);break;case 3:return!0}}}};lb=function(){return{EOF:1,parseError:function(Jc,ud){if(this.yy.parser)this.yy.parser.parseError(Jc,ud);else throw Error(Jc);},setInput:function(Jc,ud){this.yy=ud||this.yy||{};this._input=Jc;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var Jc=this._input[0];this.yytext+=Jc;this.yyleng++;this.offset++;this.match+=Jc;this.matched+=Jc;Jc.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return Jc},unput:function(Jc){var ud=Jc.length,ee=Jc.split(/(?:\r\n?|\n)/g);this._input=Jc+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-ud);this.offset-=ud;Jc=this.match.split(/(?:\r\n?|\n)/g);this.match=
this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);ee.length-1&&(this.yylineno-=ee.length-1);var Sd=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===Jc.length?this.yylloc.first_column:0)+Jc[Jc.length-ee.length].length-ee[0].length:this.yylloc.first_column-ud};this.options.ranges&&(this.yylloc.range=[Sd[0],Sd[0]+this.yyleng-ud]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Jc){this.unput(this.match.slice(Jc))},pastInput:function(){var Jc=this.matched.substr(0,
this.matched.length-this.match.length);return(20<Jc.length?"...":"")+Jc.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Jc=this.match;20>Jc.length&&(Jc+=this._input.substr(0,20-Jc.length));return(Jc.substr(0,20)+(20<Jc.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Jc=this.pastInput(),ud=Array(Jc.length+1).join("-");return Jc+this.upcomingInput()+"\n"+ud+"^"},test_match:function(Jc,ud){var ee;if(this.options.backtrack_lexer){var Sd={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(Sd.yylloc.range=this.yylloc.range.slice(0))}if(ee=Jc[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=ee.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:ee?ee[ee.length-1].length-ee[ee.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Jc[0].length};this.yytext+=Jc[0];this.match+=Jc[0];this.matches=Jc;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(Jc[0].length);this.matched+=Jc[0];Jc=this.performAction.call(this,this.yy,this,ud,this.conditionStack[this.conditionStack.length-
1]);this.done&&this._input&&(this.done=!1);if(Jc)return Jc;if(this._backtrack)for(var ye in Sd)this[ye]=Sd[ye];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Jc;this._more||(this.match=this.yytext="");for(var ud=this._currentRules(),ee=0;ee<ud.length;ee++)if((Jc=this._input.match(this.rules[ud[ee]]))&&(!Sd||Jc[0].length>Sd[0].length)){var Sd=Jc;var ye=ee;if(this.options.backtrack_lexer){Sd=this.test_match(Jc,ud[ee]);if(!1!==Sd)return Sd;if(this._backtrack)Sd=
!1;else return!1}else if(!this.options.flex)break}return Sd?(Sd=this.test_match(Sd,ud[ye]),!1!==Sd?Sd:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Jc=this.next();return Jc?Jc:this.lex()},begin:function(Jc){this.conditionStack.push(Jc)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&
this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Jc){Jc=this.conditionStack.length-1-Math.abs(Jc||0);return 0<=Jc?this.conditionStack[Jc]:"INITIAL"},pushState:function(Jc){this.begin(Jc)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Jc,ud,ee,Sd){switch(ee){case 1:return 6;case 2:return ud.yytext=ud.yytext.substr(1,ud.yyleng-2),
4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,
2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();gb.lexer=lb;Ma.prototype=gb;gb.Parser=Ma;return new Ma}();"undefined"!==typeof H&&(Q.parser=ma,Q.Parser=ma.Parser,Q.parse=function(){return ma.parse.apply(ma,arguments)})});const Mb={StyleExpression:Ec,isExpression:rc,isExpressionFilter:Ed,createExpression:Pc,createPropertyExpression:sc,normalizePropertyExpression:function(r,Q){if(Fb(r))return new Pd(r,Q);if(rc(r)){r=sc(r,Q);if("error"===r.result)throw Error(r.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));
return r.value}{let ma=r;"string"===typeof r&&"color"===Q.type&&(ma=Pe.parse(r));return{kind:"constant",evaluate:()=>ma}}},ZoomConstantExpression:ed,ZoomDependentExpression:Zc,StylePropertyFunction:Pd},bc={convertFunction:Lc,createFunction:nc,isFunction:Fb},Kc={eachSource:m,eachLayer:g,eachProperty:d};jf.parsed=jf;jf.latest=jf;l.Color=Pe;l.ParsingError=af;l.ValidationError=id;l.composite=function(r){const Q=[],ma=[],Ma=[];for(const sb in r.sources){var gb=r.sources[sb];"vector"===gb.type&&(gb=/^mapbox:\/\/(.*)/.exec(gb.url))&&
(Q.push(sb),ma.push(gb[1]))}if(2>Q.length)return r;Q.forEach(sb=>{delete r.sources[sb]});const lb=ma.join(",");r.sources[lb]={type:"vector",url:`mapbox://${lb}`};r.layers.forEach(sb=>{if(0<=Q.indexOf(sb.source)&&(sb.source=lb,"source-layer"in sb)){if(0<=Ma.indexOf(sb["source-layer"]))throw Error("Conflicting source layer names");Ma.push(sb["source-layer"])}});return r};l.convertFilter=Ac;l.derefLayers=function(r){r=r.slice();const Q=Object.create(null);for(var ma=0;ma<r.length;ma++)Q[r[ma].id]=r[ma];
for(ma=0;ma<r.length;ma++)"ref"in r[ma]&&(r[ma]=Bc(r[ma],Q[r[ma].ref]));return r};l.diff=function(r,Q){if(!r)return[{command:Ad.setStyle,args:[Q]}];let ma=[];try{if(!Cc(r.version,Q.version))return[{command:Ad.setStyle,args:[Q]}];Cc(r.center,Q.center)||ma.push({command:Ad.setCenter,args:[Q.center]});Cc(r.zoom,Q.zoom)||ma.push({command:Ad.setZoom,args:[Q.zoom]});Cc(r.bearing,Q.bearing)||ma.push({command:Ad.setBearing,args:[Q.bearing]});Cc(r.pitch,Q.pitch)||ma.push({command:Ad.setPitch,args:[Q.pitch]});
Cc(r.sprite,Q.sprite)||ma.push({command:Ad.setSprite,args:[Q.sprite]});Cc(r.glyphs,Q.glyphs)||ma.push({command:Ad.setGlyphs,args:[Q.glyphs]});Cc(r.transition,Q.transition)||ma.push({command:Ad.setTransition,args:[Q.transition]});Cc(r.light,Q.light)||ma.push({command:Ad.setLight,args:[Q.light]});const Ma={},gb=[];Xc(r.sources,Q.sources,gb,Ma);const lb=[];r.layers&&r.layers.forEach(Rb=>{Ma[Rb.source]?ma.push({command:Ad.removeLayer,args:[Rb.id]}):lb.push(Rb)});let sb=r.terrain;sb&&Ma[sb.source]&&(ma.push({command:Ad.setTerrain,
args:[void 0]}),sb=void 0);ma=ma.concat(gb);Cc(sb,Q.terrain)||ma.push({command:Ad.setTerrain,args:[Q.terrain]});uc(lb,Q.layers,ma)}catch(Ma){console.warn("Unable to compute style diff:",Ma),ma=[{command:Ad.setStyle,args:[Q]}]}return ma};l.expression=Mb;l.featureFilter=function(r){if(null===r||void 0===r)return{filter:()=>!0,needGeometry:!1};Ed(r)||(r=eb(r));const Q=Pc(r,be);if("error"===Q.result)throw Error(Q.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));return{filter:(ma,Ma,gb)=>Q.value.evaluate(ma,
Ma,{},gb),needGeometry:Ka(r)}};l.format=function(r,Q=2){r=w(r,Gc.$root);r.layers&&(r.layers=r.layers.map(ma=>w(ma,Gc.layer)));return le(r,{indent:Q})};l.function=bc;l.latest=Gc;l.migrate=function(r){let Q=!1;7===r.version&&(r=y(r),Q=!0);8===r.version&&(mc(r),Q=!0);if(!Q)throw Error("cannot migrate from",r.version);return r};l.v8=Gc;l.validate=jf;l.validateMapboxApiSupported=function(r){try{r=Be(r)}catch(ma){return[ma]}let Q=we(r,Gc).concat(Xf(r,Object.keys(Gc.$root)));r.sources&&(Q=Q.concat(Ye(r.sources)));
return Q};l.visit=Kc;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[333]=function(Ia,A,rb,E){function k(g,d){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(g,d);var f=document.createElement("canvas");f.width=g;f.height=d;return f}function l(g,d){if(.05<=d){var f="";g=g.split("\n");d=v.slice(0,Math.round(d/.1));for(var a=0,e=g.length;a<e;++a)0<a&&(f+="\n"),f+=g[a].split("").join(d);return f}return g}function w(){u||(u=k(1,1).getContext("2d"));return u}function H(g,
d){return w().measureText(g).width+(g.length-1)*d}function N(g,d,f,a){if(-1!==g.indexOf("\n")){var e=g.split("\n");g=[];for(var n=0,y=e.length;n<y;++n)g.push(N(e[n],d,f,a));return g.join("\n")}e=f+","+d+","+g+","+a;n=m[e];if(!n){var B=g.split(" ");if(1<B.length){g=w();g.font=d;d=g.measureText("M").width*f;f="";g=[];n=0;for(y=B.length;n<y;++n){var D=B[n],O=f+(f?" ":"")+D;H(O,a)<=d?f=O:(f&&g.push(f),f=D)}f&&g.push(f);n=0;for(y=g.length;n<y&&1<y;++n)B=g[n],H(B,a)<.35*d&&(f=0<n?H(g[n-1],a):Infinity,D=
n<y-1?H(g[n+1],a):Infinity,g.splice(n,1),--y,f<D?(g[n-1]+=" "+B,--n):g[n]=B+" "+g[n]);n=0;for(y=g.length-1;n<y;++n)f=g[n],B=g[n+1],H(f,a)>.7*d&&H(B,a)<.6*d&&(f=f.split(" "),D=f.pop(),H(D,a)<.2*d&&(g[n]=f.join(" "),g[n+1]=D+" "+B),--y);n=g.join("\n")}else n=g;n=l(n,a);m[e]=n}return n}Object.defineProperty(E,"__esModule",{value:!0});E.deg2rad=function(g){return g*Math.PI/180};E.createCanvas=k;E.getZoomForResolution=function(g,d){for(var f=0,a=d.length;f<a;++f)if(d[f]<g&&f+1<a)return f+Math.log(d[f]/
g)/Math.log(d[f]/d[f+1]);return a-1};E.applyLetterSpacing=l;E.wrapText=N;E.defaultResolutions=E.assign=void 0;Ia=A(87);rb=function(g){return g&&g.__esModule?g:{"default":g}}(A(86));A=A(102);E.assign="function"===typeof Object.assign?Object.assign:function(g,d){if(void 0===g||null===g)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(g),a=1,e=arguments.length;a<e;++a){var n=arguments[a];if(void 0!==n&&null!==n)for(var y in n)n.hasOwnProperty(y)&&(f[y]=n[y])}return f};
var x=function(){for(var g=[],d=78271.51696402048;24>=g.length;d/=2)g.push(d);return g}();E.defaultResolutions=x;var v=Array(256).join(""),u,m={};A.labelCache&&(0,Ia.listen)(A.labelCache,rb["default"].CLEAR,function(){m={}})};
shadow$provide[334]=function(Ia,A,rb,E){function k(Z){return Z&&Z.__esModule?Z:{"default":Z}}function l(Z,P,C,V,ha){var aa=Z.id;R[aa]||(R[aa]={});aa=R[aa];if(!aa[C]){var ta=(Z[P]||G)[C];Z=a.latest[P+"_"+Z.type][C];void 0===ta&&(ta=Z["default"]);P=D(ta);!P&&y(ta)&&(ta=B(ta,Z),P=!0);P?(Z=z(ta,Z),aa[C]=Z.evaluate.bind(Z)):("color"==Z.type&&(ta=a.Color.parse(ta)),aa[C]=function(){return ta})}K.zoom=V;return aa[C](K,ha)}function w(Z,P,C,V){Z in fa||(fa[Z]=(0,a.featureFilter)(P).filter);K.zoom=V;return fa[Z](K,
C)}function H(Z,P){if(Z){if(0===Z.a||0===P)return;var C=Z.a;return"rgba("+Math.round(255*Z.r/C)+","+Math.round(255*Z.g/C)+","+Math.round(255*Z.b/C)+","+C*(void 0===P?1:P)+")"}return Z}function N(Z,P){var C;do(C=Z.match(ia))&&(Z=C[1]+(P[C[2]]||"")+C[3]);while(C);return Z}Object.defineProperty(E,"__esModule",{value:!0});E._getValue=E.getValue=l;E.recordStyleLayer=function(Z){la=Z};E["default"]=function(Z,P,C,V,ha,aa,ta){void 0===V&&(V=n.defaultResolutions);"string"==typeof P&&(P=JSON.parse(P));if(8!=
P.version)throw Error("glStyle version 8 required.");var wa,Ha;if(aa)if("undefined"!==typeof Image){var bb=new Image;bb.crossOrigin="anonymous";bb.onload=function(){wa=bb;Ha=[bb.width,bb.height];Z.changed();bb.onload=null};bb.src=aa}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var kb=self;kb.postMessage({action:"loadImage",src:aa});kb.addEventListener("message",function(db){"imageLoaded"===db.data.action&&db.data.src===aa&&(wa=db.data.image,Ha=[wa.width,wa.height])})}var va=
(0,a.derefLayers)(P.layers),Ta={};kb=[];for(var Ya,Ca=0,ua=va.length;Ca<ua;++Ca){var U=va[Ca],W=U.id;if("string"==typeof C&&U.source==C||-1!==C.indexOf(W)){var ba=U["source-layer"];if(!Ya){Ya=U.source;var ca=P.sources[Ya];if(!ca)throw Error('Source "'+Ya+'" is not defined');ca=ca.type;if("vector"!==ca&&"geojson"!==ca)throw Error('Source "'+Ya+'" is not of type "vector" or "geojson", but "'+ca+'"');}(ca=Ta[ba])||(ca=Ta[ba]=[]);ca.push({layer:U,index:Ca});kb.push(W)}delete R[W];delete fa[W]}var ra=
new u["default"],qa=new v["default"],Da={},na={},Ra=[];P=function(db,$a){var Fa=db.getProperties(),Ga=Ta[Fa.layer];if(Ga){var pa=V.indexOf($a);-1==pa&&(pa=(0,n.getZoomForResolution)($a,V));var Ja=M[db.getGeometry().getType()],Ua={properties:Fa,type:Ja},jb=-1,Fb,Xb=function(pc,Hc){var mb=Ga[pc];pc=mb.layer;Hc=pc.id;var hc=pc.layout||G,jc=pc.paint||G;if("none"===hc.visibility||"minzoom"in pc&&pa<pc.minzoom||"maxzoom"in pc&&pa>=pc.maxzoom)return"continue";var rc=pc.filter;if(!rc||w(Hc,rc,Ua,pa)){Fb=
pc;var Pc=void 0,sc=rc=void 0,Uc=sc=void 0;Hc=void 0;mb=mb.index;if(3==Ja&&("fill"==pc.type||"fill-extrusion"==pc.type))if(rc=l(pc,"paint",pc.type+"-opacity",pa,Ua),pc.type+"-pattern"in jc){if(sc=l(pc,"paint",pc.type+"-pattern",pa,Ua))if(Pc="string"===typeof sc?N(sc,Fa):sc.toString(),wa&&ha&&ha[Pc]){++jb;Hc=Ra[jb];if(!Hc||!Hc.getFill()||Hc.getStroke()||Hc.getText())Hc=Ra[jb]=new x["default"]({fill:new v["default"]});sc=Hc.getFill();Hc.setZIndex(mb);var Sc=Pc+"."+rc;Uc=na[Sc];if(!Uc){var Lc=ha[Pc],
Fd=(0,n.createCanvas)(Lc.width,Lc.height),ge=Fd.getContext("2d");ge.globalAlpha=rc;ge.drawImage(wa,Lc.x,Lc.y,Lc.width,Lc.height,0,0,Lc.width,Lc.height);Uc=ge.createPattern(Fd,"repeat");na[Sc]=Uc}sc.setColor(Uc)}}else if(Pc=H(l(pc,"paint",pc.type+"-color",pa,Ua),rc))pc.type+"-outline-color"in jc&&(Uc=H(l(pc,"paint",pc.type+"-outline-color",pa,Ua),rc)),Uc||(Uc=Pc),++jb,(Hc=Ra[jb])&&Hc.getFill()&&Hc.getStroke()&&!Hc.getText()||(Hc=Ra[jb]=new x["default"]({fill:new v["default"],stroke:new u["default"]})),
sc=Hc.getFill(),sc.setColor(Pc),sc=Hc.getStroke(),sc.setColor(Uc),sc.setWidth(1),Hc.setZIndex(mb);if(1!=Ja&&"line"==pc.type){Pc=!("line-pattern"in jc)&&"line-color"in jc?H(l(pc,"paint","line-color",pa,Ua),l(pc,"paint","line-opacity",pa,Ua)):void 0;var wd=l(pc,"paint","line-width",pa,Ua);if(Pc&&0<wd){++jb;Hc=Ra[jb];if(!Hc||!Hc.getStroke()||Hc.getFill()||Hc.getText())Hc=Ra[jb]=new x["default"]({stroke:new u["default"]});sc=Hc.getStroke();sc.setLineCap(l(pc,"layout","line-cap",pa,Ua));sc.setLineJoin(l(pc,
"layout","line-join",pa,Ua));sc.setMiterLimit(l(pc,"layout","line-miter-limit",pa,Ua));sc.setColor(Pc);sc.setWidth(wd);sc.setLineDash(jc["line-dasharray"]?l(pc,"paint","line-dasharray",pa,Ua).map(function(ac){return ac*wd}):null);Hc.setZIndex(mb)}}Pc=!1;sc=null;var vd=0;Uc=Lc=ge=void 0;if((1==Ja||2==Ja)&&"icon-image"in hc){var Wd=l(pc,"layout","icon-image",pa,Ua);if(Wd&&(ge="string"===typeof Wd?N(Wd,Fa):Wd.toString(),Wd=void 0,wa&&ha&&ha[ge])){Fd=l(pc,"layout","icon-rotation-alignment",pa,Ua);if(2==
Ja){var Pb=db.getGeometry();if(Pb.getFlatMidpoint||Pb.getFlatMidpoints)if(Sc=Pb.getExtent(),150<Math.sqrt(Math.max(Math.pow((Sc[2]-Sc[0])/$a,2),Math.pow((Sc[3]-Sc[1])/$a,2)))){Sc="MultiLineString"===Pb.getType()?Pb.getFlatMidpoints():Pb.getFlatMidpoint();ja||(T=[NaN,NaN],ja=new f["default"]("Point",T,[],{},null));Wd=ja;T[0]=Sc[0];T[1]=Sc[1];var gc=l(pc,"layout","symbol-placement",pa,Ua);if("line"===gc&&"map"===Fd){gc=Pb.getStride();Pb=Pb.getFlatCoordinates();for(var Eb=0,zc=Pb.length-gc;Eb<zc;Eb+=
gc){var Vc=Pb[Eb],Ed=Pb[Eb+1],Vd=Pb[Eb+gc],Ka=Pb[Eb+gc+1],eb=Math.min(Ed,Ka),wb=Math.max(Vc,Vd),Hb=Math.max(Ed,Ka);if(Sc[0]>=Math.min(Vc,Vd)&&Sc[0]<=wb&&Sc[1]>=eb&&Sc[1]<=Hb){vd=Math.atan2(Ed-Ka,Vd-Vc);break}}}}}if(2!==Ja||Wd){gc=l(pc,"layout","icon-size",pa,Ua);Pb=void 0!==jc["icon-color"]?l(pc,"paint","icon-color",pa,Ua):null;if(!Pb||0!==Pb.a)if(Sc=ge+"."+gc,null!==Pb&&(Sc+="."+Pb),Lc=Da[Sc],!Lc)if(Lc=ha[ge],null!==Pb){Fd=(0,n.createCanvas)(Lc.width,Lc.height);ge=Fd.getContext("2d");ge.drawImage(wa,
Lc.x,Lc.y,Lc.width,Lc.height,0,0,Lc.width,Lc.height);Eb=ge.getImageData(0,0,Fd.width,Fd.height);zc=0;for(Vc=Eb.data.length;zc<Vc;zc+=4)Ed=Pb.a,0!==Ed&&(Eb.data[zc]=255*Pb.r/Ed,Eb.data[zc+1]=255*Pb.g/Ed,Eb.data[zc+2]=255*Pb.b/Ed),Eb.data[zc+3]=Ed;ge.putImageData(Eb,0,0);Lc=Da[Sc]=new m["default"]({img:Fd,imgSize:[Fd.width,Fd.height],scale:gc/Lc.pixelRatio})}else Lc=Da[Sc]=new m["default"]({img:wa,imgSize:Ha,size:[Lc.width,Lc.height],offset:[Lc.x,Lc.y],rotateWithView:"map"===Fd,scale:gc/Lc.pixelRatio});
if(Lc){++jb;Hc=Ra[jb];if(!Hc||!Hc.getImage()||Hc.getFill()||Hc.getStroke())Hc=Ra[jb]=new x["default"];Hc.setGeometry(Wd);Lc.setRotation(vd+(0,n.deg2rad)(l(pc,"layout","icon-rotate",pa,Ua)));Lc.setOpacity(l(pc,"paint","icon-opacity",pa,Ua));Lc.setAnchor(F[l(pc,"layout","icon-anchor",pa,Ua)]);Hc.setImage(Lc);sc=Hc.getText();Hc.setText(void 0);Hc.setZIndex(mb);Pc=!0;Uc=!1}}else Uc=!0}}if(1==Ja&&"circle-radius"in jc){++jb;Hc=Ra[jb];if(!Hc||!Hc.getImage()||Hc.getFill()||Hc.getStroke())Hc=Ra[jb]=new x["default"];
sc=l(pc,"paint","circle-radius",pa,Ua);Pc=H(l(pc,"paint","circle-stroke-color",pa,Ua),l(pc,"paint","circle-stroke-opacity",pa,Ua));jc=H(l(pc,"paint","circle-color",pa,Ua),l(pc,"paint","circle-opacity",pa,Ua));vd=l(pc,"paint","circle-stroke-width",pa,Ua);Wd=sc+"."+Pc+"."+jc+"."+vd;(Lc=Da[Wd])||(Lc=Da[Wd]=new d["default"]({radius:sc,stroke:Pc&&0<vd?new u["default"]({width:vd,color:Pc}):void 0,fill:jc?new v["default"]({color:jc}):void 0}));Hc.setImage(Lc);sc=Hc.getText();Hc.setText(void 0);Hc.setGeometry(void 0);
Hc.setZIndex(mb);Pc=!0}vd=void 0;"text-field"in hc&&(rc=l(pc,"layout","text-field",pa,Ua).toString(),vd=N(rc,Fa).trim(),rc=l(pc,"paint","text-opacity",pa,Ua));if(vd&&rc&&!Uc){if(!Pc){++jb;Hc=Ra[jb];if(!Hc||!Hc.getText()||Hc.getFill()||Hc.getStroke())Hc=Ra[jb]=new x["default"];Hc.setImage(void 0);Hc.setGeometry(void 0)}Hc.getText()||Hc.setText(sc||new g["default"]({padding:[2,2,2,2]}));sc=Hc.getText();jc=Math.round(l(pc,"layout","text-size",pa,Ua));Wd=l(pc,"layout","text-font",pa,Ua);Uc=l(pc,"layout",
"text-line-height",pa,Ua);Wd=(0,e["default"])(ta?ta(Wd):Wd,jc,Uc);hc=hc["text-transform"];"uppercase"==hc?vd=vd.toUpperCase():"lowercase"==hc&&(vd=vd.toLowerCase());hc=l(pc,"layout","text-max-width",pa,Ua);Lc=l(pc,"layout","text-letter-spacing",pa,Ua);Sc=2==Ja?(0,n.applyLetterSpacing)(vd,Lc):(0,n.wrapText)(vd,Wd,hc,Lc);sc.setText(Sc);sc.setFont(Wd);sc.setRotation((0,n.deg2rad)(l(pc,"layout","text-rotate",pa,Ua)));Wd=l(pc,"layout","text-anchor",pa,Ua);gc=Pc||1==Ja?"point":l(pc,"layout","symbol-placement",
pa,Ua);sc.setPlacement(gc);hc=l(pc,"paint","text-halo-width",pa,Ua);Pc=l(pc,"layout","text-offset",pa,Ua);Lc=l(pc,"paint","text-translate",pa,Ua);ge=Fd=0;"point"==gc?(vd="center",-1!==Wd.indexOf("left")?(vd="left",ge=hc):-1!==Wd.indexOf("right")&&(vd="right",ge=-hc),sc.setTextAlign(vd),vd=l(pc,"layout","text-rotation-alignment",pa,Ua),sc.setRotateWithView("map"==vd)):(sc.setMaxAngle((0,n.deg2rad)(l(pc,"layout","text-max-angle",pa,Ua))*vd.length/Sc.length),sc.setTextAlign(),sc.setRotateWithView(!1));
vd="middle";0==Wd.indexOf("bottom")?(vd="bottom",Fd=-hc-.5*(Uc-1)*jc):0==Wd.indexOf("top")&&(vd="top",Fd=hc+.5*(Uc-1)*jc);sc.setTextBaseline(vd);sc.setOffsetX(Pc[0]*jc+ge+Lc[0]);sc.setOffsetY(Pc[1]*jc+Fd+Lc[1]);qa.setColor(H(l(pc,"paint","text-color",pa,Ua),rc));sc.setFill(qa);(rc=H(l(pc,"paint","text-halo-color",pa,Ua),rc))?(ra.setColor(rc),hc*=2,rc=.5*jc,ra.setWidth(hc<=rc?hc:rc),sc.setStroke(ra)):sc.setStroke(void 0);pc=l(pc,"layout","text-padding",pa,Ua);rc=sc.getPadding();pc!==rc[0]&&(rc[0]=
rc[1]=rc[2]=rc[3]=pc);Hc.setZIndex(mb)}}},nc=0,md=Ga.length;for(;nc<md;++nc)Xb(nc,md);if(-1<jb)return Ra.length=jb+1,la&&("function"===typeof db.set?db.set("mapbox-layer",Fb):db.getProperties()["mapbox-layer"]=Fb),Ra}};Z.setStyle(P);Z.set("mapbox-source",Ya);Z.set("mapbox-layers",kb);return P};E._colorWithOpacity=H;E._evaluateFilter=w;E._fromTemplate=N;E._functionCache=E._filterCache=void 0;var x=k(A(204)),v=k(A(202)),u=k(A(203)),m=k(A(228)),g=k(A(229)),d=k(A(201)),f=k(A(326)),a=A(332),e=k(A(331)),
n=A(333),y=a["function"].isFunction,B=a["function"].convertFunction,D=a.expression.isExpression,O=a.expression.createPropertyExpression,M={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},F={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},z=function(Z,P){Z=O(Z,P);if("error"===Z.result)throw Error(Z.value.map(function(C){return C.key+": "+C.message}).join(", "));return Z.value},
G={},K={zoom:0},R={};E._functionCache=R;var T,ja,fa={};E._filterCache=fa;var ia=/^([^]*)\{(.*)\}([^]*)$/,la=!1};
shadow$provide[335]=function(Ia,A,rb,E){(function(){rb.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return k},getLink:function(l){return"https://fonts.google.com/specimen/"+l.replace(/( )/g,"+")},normalizeName:function(l){return l}};var k="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[336]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}function l(x){return"string"===typeof x?(x=JSON.parse(x))?x:null:null!==x?x:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(250));var w=k(A(184)),H=A(72),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,
u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(){return x.call(this)||this}N(v,x);v.prototype.getType=function(){return w["default"].JSON};v.prototype.readFeature=function(u,m){return this.readFeatureFromObject(l(u),this.getReadOptions(u,m))};v.prototype.readFeatures=function(u,m){return this.readFeaturesFromObject(l(u),this.getReadOptions(u,m))};v.prototype.readFeatureFromObject=function(u,m){return(0,H["abstract"])()};
v.prototype.readFeaturesFromObject=function(u,m){return(0,H["abstract"])()};v.prototype.readGeometry=function(u,m){return this.readGeometryFromObject(l(u),this.getReadOptions(u,m))};v.prototype.readGeometryFromObject=function(u,m){return(0,H["abstract"])()};v.prototype.readProjection=function(u){return this.readProjectionFromObject(l(u))};v.prototype.readProjectionFromObject=function(u){return(0,H["abstract"])()};v.prototype.writeFeature=function(u,m){return JSON.stringify(this.writeFeatureObject(u,
m))};v.prototype.writeFeatureObject=function(u,m){return(0,H["abstract"])()};v.prototype.writeFeatures=function(u,m){return JSON.stringify(this.writeFeaturesObject(u,m))};v.prototype.writeFeaturesObject=function(u,m){return(0,H["abstract"])()};v.prototype.writeGeometry=function(u,m){return JSON.stringify(this.writeGeometryObject(u,m))};v.prototype.writeGeometryObject=function(u,m){return(0,H["abstract"])()};return v}(Ia["default"]);E["default"]=A};
shadow$provide[337]=function(Ia,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}function l(M,F){if(!M)return null;switch(M.type){case u["default"].POINT:M=new a["default"](M.coordinates);break;case u["default"].LINE_STRING:M=new m["default"](M.coordinates);break;case u["default"].POLYGON:M=new e["default"](M.coordinates);break;case u["default"].MULTI_POINT:M=new d["default"](M.coordinates);break;case u["default"].MULTI_LINE_STRING:M=new g["default"](M.coordinates);break;case u["default"].MULTI_POLYGON:M=
new f["default"](M.coordinates);break;case u["default"].GEOMETRY_COLLECTION:M=w(M);break;default:throw Error("Unsupported GeoJSON type: "+M.type);}return(0,D.transformGeometryWithOptions)(M,!1,F)}function w(M,F){M=M.geometries.map(function(z){return l(z,F)});return new v["default"](M)}function H(M,F){M=(0,D.transformGeometryWithOptions)(M,!0,F);var z=M.getType();switch(z){case u["default"].POINT:M={type:"Point",coordinates:M.getCoordinates()};break;case u["default"].LINE_STRING:M={type:"LineString",
coordinates:M.getCoordinates()};break;case u["default"].POLYGON:if(F)var G=F.rightHanded;M={type:"Polygon",coordinates:M.getCoordinates(G)};break;case u["default"].MULTI_POINT:M={type:"MultiPoint",coordinates:M.getCoordinates()};break;case u["default"].MULTI_LINE_STRING:M={type:"MultiLineString",coordinates:M.getCoordinates()};break;case u["default"].MULTI_POLYGON:if(F)var K=F.rightHanded;M={type:"MultiPolygon",coordinates:M.getCoordinates(K)};break;case u["default"].GEOMETRY_COLLECTION:M=N(M,F);
break;case u["default"].CIRCLE:M={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+z);}return M}function N(M,F){return{type:"GeometryCollection",geometries:M.getGeometriesArray().map(function(z){var G=(0,y.assign)({},F);delete G.featureProjection;return H(z,G)})}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=k(A(188)),v=k(A(249)),u=k(A(117));Ia=k(A(336));var m=k(A(191)),g=k(A(192)),d=k(A(193)),f=k(A(195)),a=k(A(143)),e=k(A(150)),
n=A(74),y=A(84),B=A(128),D=A(250),O=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}();A=function(M){function F(z){var G=z?z:{};z=M.call(this)||this;z.dataProjection=(0,B.get)(G.dataProjection?G.dataProjection:
"EPSG:4326");G.featureProjection&&(z.defaultFeatureProjection=(0,B.get)(G.featureProjection));z.geometryName_=G.geometryName;z.extractGeometryName_=G.extractGeometryName;return z}O(F,M);F.prototype.readFeatureFromObject=function(z,G){z="Feature"===z.type?z:{type:"Feature",geometry:z,properties:null};G=l(z.geometry,G);var K=new x["default"];this.geometryName_?K.setGeometryName(this.geometryName_):this.extractGeometryName_&&K.setGeometryName(z.geometry_name);K.setGeometry(G);"id"in z&&K.setId(z.id);
z.properties&&K.setProperties(z.properties,!0);return K};F.prototype.readFeaturesFromObject=function(z,G){if("FeatureCollection"===z.type){var K=[];z=z.features;for(var R=0,T=z.length;R<T;++R)K.push(this.readFeatureFromObject(z[R],G))}else K=[this.readFeatureFromObject(z,G)];return K};F.prototype.readGeometryFromObject=function(z,G){return l(z,G)};F.prototype.readProjectionFromObject=function(z){z=z.crs;var G;z?"name"==z.type?G=(0,B.get)(z.properties.name):"EPSG"===z.type?G=(0,B.get)("EPSG:"+z.properties.code):
(0,n.assert)(!1,36):G=this.dataProjection;return G};F.prototype.writeFeatureObject=function(z,G){G=this.adaptOptions(G);var K={type:"Feature",geometry:null,properties:null},R=z.getId();void 0!==R&&(K.id=R);if(!z.hasProperties())return K;R=z.getProperties();var T=z.getGeometry();T&&(K.geometry=H(T,G),delete R[z.getGeometryName()]);(0,y.isEmpty)(R)||(K.properties=R);return K};F.prototype.writeFeaturesObject=function(z,G){G=this.adaptOptions(G);for(var K=[],R=0,T=z.length;R<T;++R)K.push(this.writeFeatureObject(z[R],
G));return{type:"FeatureCollection",features:K}};F.prototype.writeGeometryObject=function(z,G){return H(z,this.adaptOptions(G))};return F}(Ia["default"]);E["default"]=A};
shadow$provide[338]=function(Ia,A,rb,E){function k(){if("function"!==typeof WeakMap)return null;var Ca=new WeakMap;k=function(){return Ca};return Ca}function l(Ca){return Ca&&Ca.__esModule?Ca:{"default":Ca}}function w(Ca){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ua){return typeof ua}:function(ua){return ua&&"function"===typeof Symbol&&ua.constructor===Symbol&&ua!==Symbol.prototype?"symbol":typeof ua};return w(Ca)}function H(Ca){if(!Ha){Ha={};for(var ua=document.styleSheets,
U=0,W=ua.length;U<W;++U){var ba=ua[U];try{var ca=ba.rules||ba.cssRules;if(ca){ba=0;for(var ra=ca.length;ba<ra;++ba){var qa=ca[ba];if(5==qa.type){var Da=qa.cssText.match(ta);Ha[Da[1].replace(wa,"")]=!0}}}}catch(na){}}}return Ca in Ha}function N(Ca){var ua=Ca.toString();if(ua in bb)return Ca;for(var U=Ca.map(function(qa){qa=(0,O["default"])(qa,1).split(" ");return[qa.slice(3).join(" ").replace(/"/g,""),qa[1]+qa[0]]}),W=0,ba=U.length;W<ba;++W){var ca=U[W],ra=ca[0];H(ra)||-1===kb.indexOf(ra)||(ca="https://fonts.googleapis.com/css?family\x3d"+
ra.replace(/ /g,"+")+":"+ca[1],document.querySelector('link[href\x3d"'+ca+'"]')||(ra=document.createElement("link"),ra.href=ca,ra.rel="stylesheet",document.head.appendChild(ra)))}bb[ua]=!0;return Ca}function x(Ca,ua){ua&&0===Ca.indexOf(".")&&(Ca=ua+Ca);return Ca}function v(Ca,ua,U){Ca=x(Ca,ua);return(ua=Ca.match(va))?ua[1]+U+(2<ua.length?ua[2]:""):Ca+U}function u(Ca,ua,U,W,ba){return new Promise(function(ca,ra){function qa(){Ra||ua.sprite&&!Da?Ra?(Ca.setStyle(Ra),ca()):ra(Error("Something went wrong trying to apply style.")):
(Ra=(0,M["default"])(Ca,ua,U,ba,Da,na,N),Ca.getStyle()?ca():ra(Error("Nothing to show for source ["+U+"]")))}"object"!=w(ua)&&(ua=JSON.parse(ua));if(8!=ua.version)return ra(Error("glStyle version 8 required."));if(!(Ca instanceof ia["default"]||Ca instanceof la["default"]))return ra(Error("Can only apply to VectorLayer or VectorTileLayer"));var Da,na,Ra;if(ua.sprite){var db=1.5<=window.devicePixelRatio?.5:1;var $a=.5==db?"@2x":"",Fa=v(ua.sprite,W,$a+".json");fetch(Fa,{credentials:"same-origin"}).then(function(Ga){if(Ga.ok||
""===$a)return Ga;Fa=v(ua.sprite,W,".json");return fetch(Fa,{credentials:"same-origin"})}).then(function(Ga){if(Ga.ok)return Ga.json();ra(Error("Problem fetching sprite from "+Fa+": "+Ga.statusText))}).then(function(Ga){if(void 0===Ga)return ra(Error("No sprites found."));Da=Ga;na=v(ua.sprite,W,$a+".png");qa()})["catch"](function(Ga){ra(Error("Sprites cannot be loaded: "+Fa+": "+Ga.message))})}else qa()})}function m(Ca,ua){function U(){var ba=Ca.getTargetElement();if(ba){var ca=ua.layout||{},ra=ua.paint||
{};W.paint=ra;W.id="olms-bg-"+ra["background-opacity"]+ra["background-color"];var qa=Ca.getView().getZoom();if(void 0!==ra["background-color"]){var Da=(0,M.getValue)(W,"paint","background-color",qa,Ta);ba.style.background=V.Color.parse(Da).toString()}void 0!==ra["background-opacity"]&&(ba.style.opacity=(0,M.getValue)(W,"paint","background-opacity",qa,Ta));"none"==ca.visibility&&(ba.style.backgroundColor="",ba.style.opacity="")}}var W={type:ua.type};Ca.getTargetElement()&&U();Ca.on(["change:resolution",
"change:target"],U)}function g(Ca,ua){var U;Ca.some(function(W){if(W.id==ua)return U=W.source,!0});return U}function d(Ca){var ua=Ca.bounds;if(ua)return Ca=(0,F.fromLonLat)([ua[0],ua[1]]),ua=(0,F.fromLonLat)([ua[2],ua[3]]),[Ca[0],Ca[1],ua[0],ua[1]]}function f(Ca,ua,U){Ca=(0,ha.assign)({},Ca);var W=new la["default"]({declutter:!0,visible:!1});ua=JSON.stringify(Ca);var ba=aa[ua];ba||(ba=aa[ua]=new Z["default"]({url:Ca.tiles?void 0:U,tileJSON:Ca.tiles?Ca:void 0}));var ca=ba.on("change",function(){var ra=
ba.getState();if("ready"===ra){var qa=ba.getTileJSON();ra=Array.isArray(qa.tiles)?qa.tiles:[qa.tiles];if(U)for(var Da=0,na=ra.length;Da<na;++Da){var Ra=ra[Da];0!=Ra.indexOf("http")&&(ra[Da]=U.replace(/\/?$/,"/")+Ra.replace(/^\//,""))}Da=ba.getTileGrid();na=d(qa);Ra=qa.minzoom||0;qa=qa.maxzoom||22;var db=ba.get("ol-source");void 0===db&&(db=new C["default"]({attributions:ba.getAttributions(),format:new T["default"],tileGrid:new G["default"]({origin:Da.getOrigin(0),extent:na||Da.getExtent(),minZoom:Ra,
resolutions:ha.defaultResolutions.slice(0,qa+1),tileSize:512}),urls:ra}),ba.set("ol-source",db));(0,ja.unByKey)(ca);W.setSource(db)}else"error"===ra&&(ba.set("ol-source",null),(0,ja.unByKey)(ca),W.setSource(void 0))});"ready"===ba.getState()&&ba.changed();return W}function a(Ca,ua){var U=new fa["default"],W=new Z["default"]({transition:0,url:Ca.tiles?void 0:ua,tileJSON:Ca.tiles?Ca:void 0,crossOrigin:"anonymous"}),ba=W.on("change",function(){var ca=W.getState();if("ready"===ca){(0,ja.unByKey)(ba);
var ra=W.getTileJSON();ca=d(ra);var qa=W.getTileGrid(),Da=Ca.tileSize||ra.tileSize||512,na=ra.minzoom||0;ra=ra.maxzoom||22;W.tileGrid=new G["default"]({origin:qa.getOrigin(0),extent:ca||qa.getExtent(),minZoom:na,resolutions:(0,z.createXYZ)({maxZoom:ra,tileSize:Da}).getResolutions(),tileSize:Da});U.setSource(W)}else"error"===ca&&((0,ja.unByKey)(ba),U.setSource(void 0))});W.setTileLoadFunction(function(ca,ra){if(-1!=ra.indexOf("{bbox-epsg-3857}")){var qa=W.getTileGrid().getTileCoordExtent(ca.getTileCoord());
ra=ra.replace("{bbox-epsg-3857}",qa.toString())}ca.getImage().src=ra});return U}function e(Ca,ua){var U=Ca.data,W,ba;"string"==typeof U?ba=x(U,ua):W=Ya.readFeatures(U,{featureProjection:"EPSG:3857"});return new ia["default"]({source:new P["default"]({attributions:Ca.attribution,features:W,format:Ya,url:ba}),visible:!1})}function n(Ca,ua,U){U=U.getZoom();Ca=(0,M.getValue)(Ca,"paint","raster-opacity",U,Ta);ua.setOpacity(Ca)}function y(Ca,ua,U,W,ba,ca){void 0===ca&&(ca="");var ra=[],qa=ua.getView();
qa.isDef()||qa.getRotation()||qa.getResolutions()||(qa=new R["default"]({maxResolution:ha.defaultResolutions[0]}),ua.setView(qa));"center"in Ca&&!qa.getCenter()&&qa.setCenter((0,F.fromLonLat)(Ca.center));"zoom"in Ca&&void 0===qa.getZoom()&&qa.setResolution(ha.defaultResolutions[0]/Math.pow(2,Ca.zoom));qa.getCenter()&&void 0!==qa.getZoom()||qa.fit(qa.getProjection().getExtent(),{nearest:!0,size:ua.getSize()});Ca.sprite&&(0==Ca.sprite.indexOf("mapbox://")?Ca.sprite=U+"/sprite"+ca:0!=Ca.sprite.indexOf("http")&&
(Ca.sprite=(W?W+ba:"")+Ca.sprite+ca));var Da=Ca.layers,na=[],Ra,db,$a,Fa,Ga,pa;U=function(Fb,Xb){Ra=Da[Fb];Fb=Ra.type;if("heatmap"!=Fb&&"hillshade"!=Fb)if("background"==Fb)m(ua,Ra);else{Fa=Ra.source||g(Da,Ra.ref);if(Fa!=$a){na.length&&(ra.push(D(Ga,na,Ca,ba,ua)),na=[]);db=Ca.sources[Fa];if(pa=db.url)if(pa=x(pa,ba),0==pa.indexOf("mapbox://")){var nc=pa.replace("mapbox://","");db.tiles=["a","b","c","d"].map(function(md){return"https://"+md+".tiles.mapbox.com/v4/"+nc+"/{z}/{x}/{y}."+("vector"==db.type?
"vector.pbf":"png")+ca})}else 0===pa.indexOf("/")&&0===W.indexOf("http")&&(pa=W+pa);"vector"==db.type?Ga=f(db,ca,pa):"raster"==db.type?(Ga=a(db,pa),Ga.setVisible(Ra.layout?"none"!==Ra.layout.visibility:!0),qa.on("change:resolution",n.bind(Ja,Ra,Ga,qa)),n(Ra,Ga,qa)):"geojson"==db.type&&(Ga=e(db,ba));$a=Fa;Ga&&Ga.set("mapbox-source",$a)}na.push(Ra.id)}};for(var Ja=this,Ua=0,jb=Da.length;Ua<jb;++Ua)U(Ua,jb);ra.push(D(Ga,na,Ca,ba,ua));ua.set("mapbox-style",Ca);return Promise.all(ra)}function B(Ca,ua){var U,
W,ba,ca;var ra=U=W=ba="";if("string"===typeof Ca||Ca instanceof HTMLElement)Ca=new K["default"]({target:Ca});if("string"===typeof ua){if(ca=ua.match(va))U=ca[1],ra=2<ca.length?ca[2]:"";ca=new Promise(function(qa,Da){fetch(ua,{credentials:"same-origin"}).then(function(na){return na.json()}).then(function(na){var Ra=document.createElement("A");Ra.href=ua;var db=Ra.href;ba=Ra.pathname.split("/").slice(0,-1).join("/")+"/";W=db.substr(0,db.indexOf(ba));y(na,Ca,U,W,ba,ra).then(function(){qa(Ca)})["catch"](Da)})["catch"](function(na){Da(Error("Could not load "+
ua+": "+na.message))})})}else ca=new Promise(function(qa,Da){y(ua,Ca).then(function(){qa(Ca)})["catch"](Da)});return ca}function D(Ca,ua,U,W,ba){for(var ca=24,ra=0,qa=U.layers,Da=0,na=qa.length;Da<na;++Da){var Ra=qa[Da];-1!==ua.indexOf(Ra.id)&&(ca=Math.min("minzoom"in Ra?Ra.minzoom:0,ca),ra=Math.max("maxzoom"in Ra?Ra.maxzoom:24,ra))}return new Promise(function(db,$a){var Fa=function(){var Ga=Ca.getSource();if(Ga&&"error"!==Ga.getState()){if("function"===typeof Ga.getTileGrid){var pa=Ga.getTileGrid();
if(pa){var Ja=pa.getMinZoom();(0<ca||0<Ja)&&Ca.setMaxResolution(Math.min(ha.defaultResolutions[ca],pa.getResolution(Ja))+1E-9);24>ra&&Ca.setMinResolution(ha.defaultResolutions[ra]+1E-9)}}Ga instanceof P["default"]||Ga instanceof C["default"]?u(Ca,U,ua,W).then(function(){Ca.setVisible(!0);db()},function(Ua){$a(Ua)}):db()}else $a(Error("Error accessing data for source "+Ca.get("mapbox-source")))};Ca.set("mapbox-layers",ua);-1===ba.getLayers().getArray().indexOf(Ca)&&ba.addLayer(Ca);if(Ca.getSource())Fa();
else Ca.once("change:source",Fa)})}Object.defineProperty(E,"__esModule",{value:!0});E.applyStyle=u;E.applyBackground=function(Ca,ua){ua.layers.some(function(U){if("background"==U.type)return m(Ca,U),!0})};E["default"]=B;E.apply=function(Ca,ua){if("string"===typeof Ca||Ca instanceof HTMLElement)Ca=new K["default"]({target:Ca});setTimeout(function(){B(Ca,ua)},0);return Ca};E.getLayer=function(Ca,ua){Ca=Ca.getLayers().getArray();for(var U=0,W=Ca.length;U<W;++U){var ba=Ca[U].get("mapbox-layers");if(ba&&
-1!==ba.indexOf(ua))return Ca[U]}};E.getLayers=function(Ca,ua){var U=[];Ca=Ca.getLayers().getArray();for(var W=0,ba=Ca.length;W<ba;++W)Ca[W].get("mapbox-source")===ua&&U.push(Ca[W]);return U};E.getSource=function(Ca,ua){Ca=Ca.getLayers().getArray();for(var U=0,W=Ca.length;U<W;++U){var ba=Ca[U].getSource();if(Ca[U].get("mapbox-source")===ua)return ba}};E._finalizeLayer=D;E._getFonts=N;var O=l(A(331)),M=function(Ca){if(Ca&&Ca.__esModule)return Ca;if(null===Ca||"object"!==w(Ca)&&"function"!==typeof Ca)return{"default":Ca};
var ua=k();if(ua&&ua.has(Ca))return ua.get(Ca);var U={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor,ba;for(ba in Ca)if(Object.prototype.hasOwnProperty.call(Ca,ba)){var ca=W?Object.getOwnPropertyDescriptor(Ca,ba):null;ca&&(ca.get||ca.set)?Object.defineProperty(U,ba,ca):U[ba]=Ca[ba]}U["default"]=Ca;ua&&ua.set(Ca,U);return U}(A(334));Ia=l(A(335));var F=A(128),z=A(266),G=l(A(265)),K=l(A(248)),R=l(A(151));rb=l(A(337));var T=l(A(327)),ja=A(88),fa=l(A(296)),ia=l(A(234)),la=l(A(330)),Z=l(A(301)),
P=l(A(240)),C=l(A(306)),V=A(332),ha=A(333),aa={},ta=/font-family: ?([^;]*);/,wa=/("|')/g,Ha,bb={},kb=Ia["default"].getNames(),va=/^(.*)(\?.*)$/,Ta={},Ya=new rb["default"]};
shadow$provide[339]=function(Ia,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(n){return 0!==n.indexOf("mapbox://")?"":n.slice(9)}function w(n,y){var B=l(n);if(!B)return n;if(0!==B.indexOf("sprites/"))throw Error("unexpected sprites url: "+n);n=B.slice(8);return a+"/styles/v1/"+n+"/sprite?access_token\x3d"+y}function H(n,y){var B=l(n);if(!B)return n;if(0!==B.indexOf("fonts/"))throw Error("unexpected fonts url: "+n);n=B.slice(6);return a+"/fonts/v1/"+n+"/0-255.pbf?access_token\x3d"+
y}function N(n,y){var B=l(n);if(!B)return n;if(0!==B.indexOf("styles/"))throw Error("unexpected style url: "+n);n=B.slice(7);return a+"/styles/v1/"+n+"?\x26access_token\x3d"+y}function x(n,y){var B=l(n);return B?"https://{a-d}.tiles.mapbox.com/v4/"+B+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+y:n}Object.defineProperty(E,"__esModule",{value:!0});E.getMapboxPath=l;E.normalizeSpriteUrl=w;E.normalizeGlyphsUrl=H;E.normalizeStyleUrl=N;E.normalizeSourceUrl=x;E["default"]=void 0;Ia=k(A(82));var v=k(A(86)),
u=k(A(327)),m=k(A(93));rb=k(A(330));var g=k(A(306)),d=A(338),f=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}(),a="https://api.mapbox.com",e=function(n){function y(B){var D=n.call(this,v["default"].ERROR)||
this;D.error=B;return D}f(y,n);return y}(Ia["default"]);A=function(n){function y(B){var D="declutter"in B?B.declutter:!0;var O=new g["default"]({state:m["default"].LOADING,format:new u["default"]});D=n.call(this,{source:O,declutter:D,className:B.className,opacity:B.opacity,visible:B.visible,zIndex:B.zIndex,minResolution:B.minResolution,maxResolution:B.maxResolution,minZoom:B.minZoom,maxZoom:B.maxZoom,renderOrder:B.renderOrder,renderBuffer:B.renderBuffer,renderMode:B.renderMode,map:B.map,updateWhileAnimating:B.updateWhileAnimating,
updateWhileInteracting:B.updateWhileInteracting,preload:B.preload,useInterimTilesOnError:B.useInterimTilesOnError})||this;D.sourceId=B.source;D.layers=B.layers;D.accessToken=B.accessToken;D.fetchStyle(B.styleUrl);return D}f(y,n);y.prototype.fetchStyle=function(B){var D=this;B=N(B,this.accessToken);fetch(B).then(function(O){if(!O.ok)throw Error("unexpected response when fetching style: "+O.status);return O.json()}).then(function(O){D.onStyleLoad(O)})["catch"](function(O){D.handleError(O)})};y.prototype.onStyleLoad=
function(B){var D=this,O;if(this.layers){var M={};for(O=0;O<B.layers.length;++O){var F=B.layers[O];F.source&&(M[F.id]=F.source)}F=void 0;for(O=0;O<this.layers.length;++O){var z=M[this.layers[O]];if(!z){this.handleError(Error("could not find source for "+this.layers[O]));return}if(!F)F=z;else if(F!==z){this.handleError(Error("layers can only use a single source, found "+F+" and "+z));return}}O=F;M=this.layers}else M=O=this.sourceId;M||(M=O=Object.keys(B.sources)[0]);B.sprite&&(B.sprite=w(B.sprite,
this.accessToken));B.glyphs&&(B.glyphs=H(B.glyphs,this.accessToken));O=B.sources[O];if("vector"!==O.type)this.handleError(Error("only works for vector sources, found "+O.type));else{var G=this.getSource();G.setUrl(x(O.url,this.accessToken));(0,d.applyStyle)(this,B,M).then(function(){G.setState(m["default"].READY)})["catch"](function(K){D.handleError(K)})}};y.prototype.handleError=function(B){this.dispatchEvent(new e(B));this.getSource().setState(m["default"].ERROR)};return y}(rb["default"]);E["default"]=
A};
shadow$provide[340]=function(Ia,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(291));var l=k(A(233)),w=k(A(86)),H=k(A(283)),N=k(A(197)),x=k(A(196)),v=k(A(119)),u=A(75),m=A(84),g=A(78),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){var n=f.call(this,e)||this;n.vectorRenderer_=new l["default"](e);n.layerImageRatio_=e.getImageRatio();n.coordinateToVectorPixelTransform_=(0,u.create)();n.renderedPixelToCoordinateTransform_=null;return n}d(a,f);a.prototype.disposeInternal=function(){this.vectorRenderer_.dispose();f.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(e){return this.vectorRenderer_?
(e=(0,u.apply)(this.coordinateToVectorPixelTransform_,(0,u.apply)(this.renderedPixelToCoordinateTransform_,e.slice())),this.vectorRenderer_.getFeatures(e)):new Promise(function(n,y){n([])})};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(e){var n=e.pixelRatio,y=e.viewState,B=y.resolution,D=e.viewHints,O=this.vectorRenderer_,M=e.extent;1!==this.layerImageRatio_&&(M=M.slice(0),(0,g.scaleFromCenter)(M,this.layerImageRatio_));var F=
(0,g.getWidth)(M)/B,z=(0,g.getHeight)(M)/B;if(!D[v["default"].ANIMATING]&&!D[v["default"].INTERACTING]&&!(0,g.isEmpty)(M)){O.useContainer(null,null,1);D=O.context;var G=(0,m.assign)({},e,{declutterTree:new x["default"](9),extent:M,size:[F,z],viewState:(0,m.assign)({},e.viewState,{rotation:0})}),K=new H["default"](M,B,n,D.canvas,function(R){O.prepareFrame(G)&&O.replayGroupChanged&&(O.clipping=!1,O.renderFrame(G,null),O.renderDeclutter(G),R())});K.addEventListener(w["default"].CHANGE,function(){if(K.getState()===
N["default"].LOADED){this.image_=K;var R=K.getResolution(),T=K.getPixelRatio();this.renderedResolution=R=R*n/T;this.coordinateToVectorPixelTransform_=(0,u.compose)(this.coordinateToVectorPixelTransform_,F/2,z/2,1/R,-1/R,0,-y.center[0],-y.center[1])}}.bind(this));K.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice());return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=
function(e,n,y,B,D){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,y,B,D):f.prototype.forEachFeatureAtCoordinate.call(this,e,n,y,B,D)};return a}(Ia["default"]);E["default"]=A};
shadow$provide[341]=function(Ia,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(205));var l=k(A(340)),w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){v=v?v:{};var u=(0,w.assign)({},v);delete u.imageRatio;u=N.call(this,u)||this;u.imageRatio_=void 0!==v.imageRatio?v.imageRatio:1;return u}H(x,N);x.prototype.getImageRatio=function(){return this.imageRatio_};x.prototype.createRenderer=function(){return new l["default"](this)};return x}(Ia["default"]);E["default"]=A};
shadow$provide[342]=function(Ia,A,rb,E){function k(z){if("number"===typeof z)return M.NUMBER;if("boolean"===typeof z)return M.BOOLEAN;if("string"===typeof z)return(0,O.isStringColor)(z)?M.COLOR|M.STRING:M.STRING;if(!Array.isArray(z))throw Error("Unhandled value type: "+JSON.stringify(z));if(z.every(function(K){return"number"===typeof K}))return 3===z.length||4===z.length?M.COLOR|M.NUMBER_ARRAY:M.NUMBER_ARRAY;if("string"!==typeof z[0])throw Error("Expected an expression operator but received: "+JSON.stringify(z));
var G=F[z[0]];if(void 0===G)throw Error("Unrecognized expression operator: "+JSON.stringify(z));return G.getReturnType(z.slice(1))}function l(z){return 0===Math.log2(z)%1}function w(z){z=z.toString();return-1===z.indexOf(".")?z+".0":z}function H(z){if(2>z.length||4<z.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+z.length+"("+z.map(w).join(", ")+")"}function N(z){z=(0,O.asArray)(z).slice();4>z.length&&z.push(1);return H(z.map(function(G,K){return 3>
K?G/255:G}))}function x(z,G){void 0===z.stringLiteralsMap[G]&&(z.stringLiteralsMap[G]=Object.keys(z.stringLiteralsMap).length);return z.stringLiteralsMap[G]}function v(z,G){return w(x(z,G))}function u(z,G,K){if(Array.isArray(G)&&"string"===typeof G[0]){var R=F[G[0]];if(void 0===R)throw Error("Unrecognized expression operator: "+JSON.stringify(G));return R.toGlsl(z,G.slice(1),K)}R=k(G);if(0<(R&M.NUMBER))return w(G);if(0<(R&M.BOOLEAN))return G.toString();if(0<(R&M.STRING)&&(void 0===K||K==M.STRING))return v(z,
G.toString());if(0<(R&M.COLOR)&&(void 0===K||K==M.COLOR))return N(G);if(0<(R&M.NUMBER_ARRAY))return H(G)}function m(z){for(var G=0;G<z.length;G++){var K=z[G];if(!(k(K)&M.NUMBER))throw Error("A numeric value was expected, got "+JSON.stringify(K)+" instead");}}function g(z){if(!(k(z)&M.STRING))throw Error("A string value was expected, got "+JSON.stringify(z)+" instead");}function d(z){if(!(k(z)&M.BOOLEAN))throw Error("A boolean value was expected, got "+JSON.stringify(z)+" instead");}function f(z,G){if(z.length!==
G)throw Error("Exactly "+G+" arguments were expected, got "+z.length+" instead");}function a(z,G){if(z.length<G)throw Error("At least "+G+" arguments were expected, got "+z.length+" instead");}function e(z,G){if(z.length>G)throw Error("At most "+G+" arguments were expected, got "+z.length+" instead");}function n(z){if(0!==z.length%2)throw Error("An even amount of arguments was expected, got "+z+" instead");}function y(z,G){if(!l(G))throw Error("Could not infer only one type from the following expression: "+
JSON.stringify(z));}function B(z){return{getReturnType:function(G){return M.BOOLEAN},toGlsl:function(G,K){f(K,2);for(var R=M.ANY,T=0;T<K.length;T++)R&=k(K[T]);if(0===R)throw Error("All arguments should be of compatible type, got "+JSON.stringify(K)+" instead");return"("+u(G,K[0],R)+" "+z+" "+u(G,K[1],R)+")"}}}function D(z){return{getReturnType:function(G){return M.BOOLEAN},toGlsl:function(G,K){a(K,2);for(var R=0;R<K.length;R++)d(K[R]);R="";R=K.map(function(T){return u(G,T)}).join(" "+z+" ");return"("+
R+")"}}}Object.defineProperty(E,"__esModule",{value:!0});E.getValueType=k;E.isTypeUnique=l;E.numberToGlsl=w;E.arrayToGlsl=H;E.colorToGlsl=N;E.getStringNumberEquivalent=x;E.stringToGlsl=v;E.expressionToGlsl=u;E.Operators=E.ValueTypes=void 0;var O=A(80),M={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};E.ValueTypes=M;var F={};E.Operators=F;F.get={getReturnType:function(z){return M.ANY},toGlsl:function(z,G){f(G,1);g(G[0]);G=G[0].toString();-1===z.attributes.indexOf(G)&&z.attributes.push(G);
return(z.inFragmentShader?"v_":"a_")+G}};F["var"]={getReturnType:function(z){return M.ANY},toGlsl:function(z,G){f(G,1);g(G[0]);G=G[0].toString();-1===z.variables.indexOf(G)&&z.variables.push(G);return"u_"+G}};F.time={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,0);return"u_time"}};F.zoom={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,0);return"u_zoom"}};F.resolution={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,0);return"u_resolution"}};
F["*"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" * "+u(z,G[1])+")"}};F["/"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" / "+u(z,G[1])+")"}};F["+"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" + "+u(z,G[1])+")"}};F["-"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" - "+u(z,G[1])+")"}};
F.clamp={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,3);m(G);var K=u(z,G[1]),R=u(z,G[2]);return"clamp("+u(z,G[0])+", "+K+", "+R+")"}};F["%"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"mod("+u(z,G[0])+", "+u(z,G[1])+")"}};F["^"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"pow("+u(z,G[0])+", "+u(z,G[1])+")"}};F["\x3e"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);
return"("+u(z,G[0])+" \x3e "+u(z,G[1])+")"}};F["\x3e\x3d"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" \x3e\x3d "+u(z,G[1])+")"}};F["\x3c"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" \x3c "+u(z,G[1])+")"}};F["\x3c\x3d"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" \x3c\x3d "+u(z,G[1])+")"}};F["\x3d\x3d"]=B("\x3d\x3d");F["!\x3d"]=B("!\x3d");
F["!"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,1);d(G[0]);return"(!"+u(z,G[0])+")"}};F.all=D("\x26\x26");F.any=D("||");F.between={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,3);m(G);var K=u(z,G[1]),R=u(z,G[2]);z=u(z,G[0]);return"("+z+" \x3e\x3d "+K+" \x26\x26 "+z+" \x3c\x3d "+R+")"}};F.array={getReturnType:function(z){return M.NUMBER_ARRAY},toGlsl:function(z,G){a(G,2);e(G,4);m(G);var K=G.map(function(R){return u(z,R,M.NUMBER)});return"vec"+G.length+
"("+K.join(", ")+")"}};F.color={getReturnType:function(z){return M.COLOR},toGlsl:function(z,G){a(G,3);e(G,4);m(G);3===G.length&&G.push(1);var K=G.map(function(R,T){return u(z,R,M.NUMBER)+(3>T?" / 255.0":"")});return"vec"+G.length+"("+K.join(", ")+")"}};F.interpolate={getReturnType:function(z){for(var G=M.COLOR|M.NUMBER,K=3;K<z.length;K+=2)G&=k(z[K]);return G},toGlsl:function(z,G,K){n(G);a(G,6);var R=G[0];switch(R[0]){case "linear":var T=1;break;case "exponential":T=R[1];break;default:T=null}if(!T)throw Error('Invalid interpolation type for "interpolate" operator, received: '+
JSON.stringify(R));K=void 0!==K?K:M.ANY;K&=F.interpolate.getReturnType(G);y(G,K);R=u(z,G[1]);for(var ja=null,fa=2;fa<G.length-2;fa+=2){var ia=u(z,G[fa]),la=u(z,G[fa+1],K),Z=u(z,G[fa+2]),P=u(z,G[fa+3],K);ja="mix("+(ja||la)+", "+P+", pow(clamp(("+R+" - "+ia+") / ("+Z+" - "+ia+"), 0.0, 1.0), "+w(T)+"))"}return ja}};F.match={getReturnType:function(z){for(var G=M.ANY,K=2;K<z.length;K+=2)G&=k(z[K]);return G&=k(z[z.length-1])},toGlsl:function(z,G,K){n(G);a(G,4);K=void 0!==K?K:M.ANY;K&=F.match.getReturnType(G);
y(G,K);for(var R=u(z,G[0]),T=u(z,G[G.length-1],K),ja=null,fa=G.length-3;1<=fa;fa-=2){var ia=u(z,G[fa]),la=u(z,G[fa+1],K);ja="("+R+" \x3d\x3d "+ia+" ? "+la+" : "+(ja||T)+")"}return ja}};F["case"]={getReturnType:function(z){for(var G=M.ANY,K=1;K<z.length;K+=2)G&=k(z[K]);return G&=k(z[z.length-1])},toGlsl:function(z,G,K){if(0===G.length%2)throw Error("An odd amount of arguments was expected, got "+G+" instead");a(G,3);K=void 0!==K?K:M.ANY;K&=F["case"].getReturnType(G);y(G,K);for(var R=0;R<G.length-1;R+=
2)d(G[R]);var T=u(z,G[G.length-1],K),ja=null;for(R=G.length-3;0<=R;R-=2){var fa=u(z,G[R]),ia=u(z,G[R+1],K);ja="("+fa+" ? "+ia+" : "+(ja||T)+")"}return ja}}};
shadow$provide[343]=function(Ia,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.parseLiteralStyle=function(w){var H=w.symbol,N=void 0!==H.size?H.size:1,x=H.color||"white",v=H.textureCoord||[0,0,1,1],u=H.offset||[0,0],m=void 0!==H.opacity?H.opacity:1,g=void 0!==H.rotation?H.rotation:0,d={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},f=(0,k.expressionToGlsl)(d,N,k.ValueTypes.NUMBER_ARRAY|k.ValueTypes.NUMBER);u=(0,k.expressionToGlsl)(d,u,k.ValueTypes.NUMBER_ARRAY);v=
(0,k.expressionToGlsl)(d,v,k.ValueTypes.NUMBER_ARRAY);var a=(0,k.expressionToGlsl)(d,g,k.ValueTypes.NUMBER);g={inFragmentShader:!0,variables:d.variables,attributes:[],stringLiteralsMap:d.stringLiteralsMap};x=(0,k.expressionToGlsl)(g,x,k.ValueTypes.COLOR);m=(0,k.expressionToGlsl)(g,m,k.ValueTypes.NUMBER);var e="1.0";N="vec2("+(0,k.expressionToGlsl)(g,N,k.ValueTypes.NUMBER_ARRAY|k.ValueTypes.NUMBER)+").x";switch(H.symbolType){case "square":break;case "image":break;case "circle":e="(1.0-smoothstep(1.-4./"+
N+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case "triangle":e="(1.0-smoothstep(.5-3./"+N+",.5,cos(floor(.5+(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))/2.094395102)*2.094395102-(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y)))*length((v_quadCoord*2.-1.))))";break;default:throw Error("Unexpected symbol type: "+H.symbolType);}var n=(new l).setSizeExpression("vec2("+f+")").setRotationExpression(a).setSymbolOffsetExpression(u).setTextureCoordinateExpression(v).setSymbolRotateWithView(!!H.rotateWithView).setColorExpression("vec4("+
x+".rgb, "+x+".a * "+m+" * "+e+")");w.filter&&(f=(0,k.expressionToGlsl)(g,w.filter,k.ValueTypes.BOOLEAN),n.setFragmentDiscardExpression("!"+f));var y={};g.variables.forEach(function(B){n.addUniform("float u_"+B);y["u_"+B]=function(){if(!w.variables||void 0===w.variables[B])throw Error("The following variable is missing from the style: "+B);var D=w.variables[B];"string"===typeof D&&(D=(0,k.getStringNumberEquivalent)(d,D));return void 0!==D?D:-9999999}});"image"===H.symbolType&&H.src&&(f=new Image,
f.src=H.src,n.addUniform("sampler2D u_texture").setColorExpression(n.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),y.u_texture=f);g.attributes.forEach(function(B){-1===d.attributes.indexOf(B)&&d.attributes.push(B);n.addVarying("v_"+B,"float","a_"+B)});d.attributes.forEach(function(B){n.addAttribute("float a_"+B)});return{builder:n,attributes:d.attributes.map(function(B){return{name:B,callback:function(D,O){D=O[B];"string"===typeof D&&(D=(0,k.getStringNumberEquivalent)(d,D));return void 0!==
D?D:-9999999}}}),uniforms:y}};E.ShaderBuilder=void 0;var k=A(342),l=function(){function w(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}w.prototype.addUniform=function(H){this.uniforms.push(H);return this};w.prototype.addAttribute=function(H){this.attributes.push(H);
return this};w.prototype.addVarying=function(H,N,x){this.varyings.push({name:H,type:N,expression:x});return this};w.prototype.setSizeExpression=function(H){this.sizeExpression=H;return this};w.prototype.setRotationExpression=function(H){this.rotationExpression=H;return this};w.prototype.setSymbolOffsetExpression=function(H){this.offsetExpression=H;return this};w.prototype.setColorExpression=function(H){this.colorExpression=H;return this};w.prototype.setTextureCoordinateExpression=function(H){this.texCoordExpression=
H;return this};w.prototype.setFragmentDiscardExpression=function(H){this.discardExpression=H;return this};w.prototype.setSymbolRotateWithView=function(H){this.rotateWithView=H;return this};w.prototype.getSizeExpression=function(){return this.sizeExpression};w.prototype.getOffsetExpression=function(){return this.offsetExpression};w.prototype.getColorExpression=function(){return this.colorExpression};w.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};w.prototype.getFragmentDiscardExpression=
function(){return this.discardExpression};w.prototype.getSymbolVertexShader=function(H){var N=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",x=this.attributes,v=this.varyings;H&&(x=x.concat("vec4 a_hitColor"),v=v.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+
this.uniforms.map(function(u){return"uniform "+u+";"}).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+x.map(function(u){return"attribute "+u+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+v.map(function(u){return"varying "+u.type+" "+u.name+";"}).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix \x3d "+N+";\n  vec2 halfSize \x3d "+this.sizeExpression+" * 0.5;\n  vec2 offset \x3d "+this.offsetExpression+";\n  float angle \x3d "+this.rotationExpression+
";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d "+
this.texCoordExpression+";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n"+v.map(function(u){return"  "+u.name+" \x3d "+u.expression+";"}).join("\n")+"\n}"};w.prototype.getSymbolFragmentShader=
function(H){var N=H?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",x=this.varyings;H&&(x=x.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map(function(v){return"uniform "+v+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+x.map(function(v){return"varying "+v.type+" "+v.name+";"}).join("\n")+"\nvoid main(void) {\n  if ("+
this.discardExpression+") { discard; }\n  gl_FragColor \x3d "+this.colorExpression+";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n"+N+"\n}"};return w}();E.ShaderBuilder=l};
shadow$provide[344]=function(Ia,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ia=k(A(94));var l=k(A(323)),w=A(84),H=A(343),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=(0,w.assign)({},u);m=x.call(this,m)||this;m.parseResult_=(0,H.parseLiteralStyle)(u.style);m.hitDetectionDisabled_=!!u.disableHitDetection;return m}N(v,x);v.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&
this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};v.prototype.disposeInternal=function(){this.getRenderer().disposeInternal();x.prototype.disposeInternal.call(this)};return v}(Ia["default"]);E["default"]=A};
shadow$provide[345]=function(Ia,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"Graticule",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"Group",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"Heatmap",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"Image",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,
"Layer",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"MapboxVector",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"Tile",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"Vector",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"VectorImage",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"VectorTile",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(E,"WebGLPoints",{enumerable:!0,get:function(){return f["default"]}});var l=k(A(313)),w=k(A(106)),H=k(A(324)),N=k(A(292)),x=k(A(94)),v=k(A(339)),u=k(A(296)),m=k(A(234)),g=k(A(341)),d=k(A(330)),f=k(A(344))};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",fa="datascript.db",ha="datascript.pull-api",ja="taoensso.sente",g,la=la||{},ma=this||self;function ia(a,b){a=a.split(".");var c=ma;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function na(){}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==pa(a)}function ra(a){var b=pa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function sa(a){return"function"==pa(a)}function ta(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ya(a){return a[za]||(a[za]=++Aa)}var za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0;function Da(a,b,c){return a.call.apply(a.bind,arguments)}
function Ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Fa(a,b,c){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ea;return Fa.apply(null,arguments)}var Ga=Date.now||function(){return+new Date};
function Ia(a,b){function c(){}c.prototype=b.prototype;a.Ed=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ja(a){Ja[" "](a);return a}Ja[" "]=na;function Ka(a,b){var c=La;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Na=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Sa=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ta(a){a:{var b=Va;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Wa(a){if(!qa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Xa(a,b){b=Na(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Ya(a){return Array.prototype.concat.apply([],arguments)}function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b){a.sort(b||ab)}function bb(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ab;$a(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function ab(a,b){return a>b?1:a<b?-1:0}function cb(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function db(a){this.Hi=a}db.prototype.toString=function(){return this.Hi};var eb=new db("IFRAME"),fb=new db("SCRIPT");function Ha(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function gb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function hb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ib(a,b,c){return null!==a&&b in a?a[b]:c}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function lb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<kb.length;f++)c=kb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function mb(a,b){this.Gi=a===nb&&b||"";this.lh=ob}var ob={},nb={},pb=new mb(nb,"");function qb(){}qb.prototype.Bd=function(){return this};(new qb).Bd("");function rb(a,b){this.Ai=a===sb&&b||"";this.mh=tb}var tb={},sb={};function ub(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function vb(a){return/^[\s\xa0]*$/.test(a)}var wb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function xb(a){return-1!=zb.toLowerCase().indexOf(a.toLowerCase())}function Ab(a,b){return a<b?-1:a>b?1:0};function Bb(){}Bb.prototype.Bd=function(){return this};(new Bb).Bd("");function Cb(){}Cb.prototype.Bd=function(){return this};(new Cb).Bd("");var zb;a:{var Ma=ma.navigator;if(Ma){var jb=Ma.userAgent;if(jb){zb=jb;break a}}zb=""}function Fb(a){return-1!=zb.indexOf(a)};function Gb(){this.Xg="";this.kh=Hb}function Ib(){var a=Jb;if(a instanceof Gb&&a.constructor===Gb&&a.kh===Hb)return a.Xg;pa(a);return"type_error:SafeHtml"}var Hb={};Gb.prototype.Bd=function(a){this.Xg=a;return this};(new Gb).Bd("\x3c!DOCTYPE html\x3e");var Jb=(new Gb).Bd("");(new Gb).Bd("\x3cbr\x3e");function Kb(a){var b=new rb(sb,pb instanceof mb&&pb.constructor===mb&&pb.lh===ob?pb.Gi:"type_error:Const");b instanceof rb&&b.constructor===rb&&b.mh===tb?b=b.Ai:(pa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Lb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Mb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Ob(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if(ra(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Pb(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gb(a)}
function Qb(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(ra(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return hb(a)}}function Rb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ra(a)||"string"===typeof a)Pa(a,b,c);else for(var d=Qb(a),e=Pb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Sb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ra(a)||"string"===typeof a)return Sa(a,b,void 0);for(var c=Qb(a),d=Pb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Tb(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Tb.prototype;g.getCount=function(){return this.count_};g.getValues=function(){Ub(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.getKeys=function(){Ub(this);return this.keys_.concat()};
g.containsKey=function(a){return Vb(this.map_,a)};g.He=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Vb(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Wb;Ub(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Wb(a,b){return a===b}g.isEmpty=function(){return 0==this.count_};
g.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};g.remove=function(a){return Vb(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&Ub(this),!0):!1};
function Ub(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];Vb(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],Vb(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}g.get=function(a,b){return Vb(this.map_,a)?this.map_[a]:b};g.set=function(a,b){Vb(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
g.addAll=function(a){if(a instanceof Tb)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Tb(this)};g.transpose=function(){for(var a=new Tb,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};function Vb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Yb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function $b(a,b){this.count_=this.Ab=null;this.Nc=a||null;this.Ph=!!b}function bc(a){a.Ab||(a.Ab=new Tb,a.count_=0,a.Nc&&Zb(a.Nc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=$b.prototype;g.getCount=function(){bc(this);return this.count_};g.add=function(a,b){bc(this);this.Nc=null;a=cc(this,a);var c=this.Ab.get(a);c||this.Ab.set(a,c=[]);c.push(b);this.count_+=1;return this};
g.remove=function(a){bc(this);a=cc(this,a);return this.Ab.containsKey(a)?(this.Nc=null,this.count_-=this.Ab.get(a).length,this.Ab.remove(a)):!1};g.clear=function(){this.Ab=this.Nc=null;this.count_=0};g.isEmpty=function(){bc(this);return 0==this.count_};g.containsKey=function(a){bc(this);a=cc(this,a);return this.Ab.containsKey(a)};g.He=function(a){var b=this.getValues();return 0<=Na(b,a)};g.forEach=function(a,b){bc(this);this.Ab.forEach(function(c,d){Pa(c,function(e){a.call(b,e,d,this)},this)},this)};
g.getKeys=function(){bc(this);for(var a=this.Ab.getValues(),b=this.Ab.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.getValues=function(a){bc(this);var b=[];if("string"===typeof a)this.containsKey(a)&&(b=Ya(b,this.Ab.get(cc(this,a))));else{a=this.Ab.getValues();for(var c=0;c<a.length;c++)b=Ya(b,a[c])}return b};
g.set=function(a,b){bc(this);this.Nc=null;a=cc(this,a);this.containsKey(a)&&(this.count_-=this.Ab.get(a).length);this.Ab.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.Nc)return this.Nc;if(!this.Ab)return"";for(var a=[],b=this.Ab.getKeys(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.getValues(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.Nc=a.join("\x26")};g.clone=function(){var a=new $b;a.Nc=this.Nc;this.Ab&&(a.Ab=this.Ab.clone(),a.count_=this.count_);return a};function cc(a,b){b=String(b);a.Ph&&(b=b.toLowerCase());return b}
g.extend=function(a){for(var b=0;b<arguments.length;b++)Rb(arguments[b],function(c,d){this.add(d,c)},this)};function dc(a,b){null!=a&&this.append.apply(this,arguments)}g=dc.prototype;g.Id="";g.set=function(a){this.Id=""+a};g.append=function(a,b,c){this.Id+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Id+=arguments[d];return this};g.clear=function(){this.Id=""};g.getLength=function(){return this.Id.length};g.toString=function(){return this.Id};var fc={},gc={},hc,l={},ic=null,jc=null,kc=!0,lc=!0,mc=null,nc=null;function oc(){return new p(null,5,[pc,!0,qc,lc,rc,!1,sc,!1,tc,mc],null)}function uc(){kc=!1;jc=function(){return console.log.apply(console,Za(arguments))}}function q(a){return null!=a&&!1!==a}function vc(a){return null==a}function wc(a){return a instanceof Array}function xc(a){return"number"===typeof a}function yc(a){return null==a?!0:!1===a?!0:!1}function zc(a){return null!=a}
function Ac(a,b){return a[pa(null==b?null:b)]?!0:a._?!0:!1}function Bc(a){return null==a?null:a.constructor}function Cc(a,b){var c=Bc(b);c=q(q(c)?c.$b:c)?c.Kb:pa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Dc(a){var b=a.Kb;return q(b)?b:t.aa(a)}
var Ec="undefined"!==typeof Symbol&&"function"===pa(Symbol)?Symbol.iterator:"@@iterator",Fc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Gc=null;
function Hc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ic(a){function b(d,e){d.push(e);return d}var c=[];return v.ba?v.ba(b,c,a):v.call(null,b,c,a)}function Jc(a){return"symbol"===pa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Kc(){}function Lc(){}function Mc(){}
function Nc(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=Nc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ICounted.-count",a);}return a}function Oc(){}function Pc(a){if(null!=a&&null!=a.Ya)a=a.Ya(a);else{var b=Pc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Pc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IEmptyableCollection.-empty",a);}return a}function Qc(){}
function Rc(a,b){if(null!=a&&null!=a.xa)a=a.xa(a,b);else{var c=Rc[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Rc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ICollection.-conj",a);}return a}function Sc(){}
var Tc=function(){function a(d,e,f){var h=x[pa(null==d?null:d)];if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);throw Cc("IIndexed.-nth",d);}function b(d,e){var f=x[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.ba=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.j(arguments[0],arguments[1]);case 3:return x.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};x.j=function(a,b){return null!=a&&null!=a.La?a.La(a,b):Tc(a,b)};x.ba=function(a,b,c){return null!=a&&null!=a.gb?a.gb(a,b,c):Tc(a,b,c)};x.na=3;function Uc(){}
function Vc(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=Vc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Vc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ISeq.-first",a);}return a}function Wc(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Wc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ISeq.-rest",a);}return a}function Xc(){}
function Yc(a){if(null!=a&&null!=a.bb)a=a.bb(a);else{var b=Yc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INext.-next",a);}return a}function $c(){}
var bd=function(){function a(d,e,f){var h=ad[pa(null==d?null:d)];if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);h=ad._;if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);throw Cc("ILookup.-lookup",d);}function b(d,e){var f=ad[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=ad._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.ba=a;return c}(),ad=function ad(a){switch(arguments.length){case 2:return ad.j(arguments[0],arguments[1]);case 3:return ad.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};ad.j=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):bd(a,b)};ad.ba=function(a,b,c){return null!=a&&null!=a.ka?a.ka(a,b,c):bd(a,b,c)};ad.na=3;
function cd(a,b,c){if(null!=a&&null!=a.pa)a=a.pa(a,b,c);else{var d=cd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=cd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IAssociative.-assoc",a);}return a}function dd(a,b){if(null!=a&&null!=a.rd)a=a.rd(a,b);else{var c=dd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IFind.-find",a);}return a}function ed(){}
function fd(a,b){if(null!=a&&null!=a.Ka)a=a.Ka(a,b);else{var c=fd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=fd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IMap.-dissoc",a);}return a}function gd(a){if(null!=a&&null!=a.Ff)a=a.key;else{var b=gd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=gd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IMapEntry.-key",a);}return a}
function hd(a){if(null!=a&&null!=a.Gf)a=a.val;else{var b=hd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=hd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IMapEntry.-val",a);}return a}function id(){}function jd(a,b){if(null!=a&&null!=a.If)a=a.If(a,b);else{var c=jd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISet.-disjoin",a);}return a}
function kd(a){if(null!=a&&null!=a.sd)a=a.sd(a);else{var b=kd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=kd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IStack.-peek",a);}return a}function ld(a){if(null!=a&&null!=a.td)a=a.td(a);else{var b=ld[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=ld._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IStack.-pop",a);}return a}function md(){}
function nd(a,b,c){if(null!=a&&null!=a.Wc)a=a.Wc(a,b,c);else{var d=nd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=nd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IVector.-assoc-n",a);}return a}function od(){}function y(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=y[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=y._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDeref.-deref",a);}return a}function pd(){}
function qd(a){if(null!=a&&null!=a.ra)a=a.ra(a);else{var b=qd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=qd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IMeta.-meta",a);}return a}function rd(a,b){if(null!=a&&null!=a.sa)a=a.sa(a,b);else{var c=rd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=rd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWithMeta.-with-meta",a);}return a}function sd(){}
var ud=function(){function a(d,e,f){var h=td[pa(null==d?null:d)];if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);h=td._;if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);throw Cc("IReduce.-reduce",d);}function b(d,e){var f=td[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=td._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.ba=a;return c}(),td=function td(a){switch(arguments.length){case 2:return td.j(arguments[0],arguments[1]);case 3:return td.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};td.j=function(a,b){return null!=a&&null!=a.hb?a.hb(a,b):ud(a,b)};td.ba=function(a,b,c){return null!=a&&null!=a.ib?a.ib(a,b,c):ud(a,b,c)};td.na=3;function vd(){}
function wd(a,b,c){if(null!=a&&null!=a.Ia)a=a.Ia(a,b,c);else{var d=wd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=wd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IKVReduce.-kv-reduce",a);}return a}function xd(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=xd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEquiv.-equiv",a);}return a}
function yd(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=yd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=yd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IHash.-hash",a);}return a}function zd(){}function Dd(a){if(null!=a&&null!=a.ua)a=a.ua(a);else{var b=Dd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ISeqable.-seq",a);}return a}function Ed(){}function Fd(){}function Gd(){}
function Hd(){}function Id(a){if(null!=a&&null!=a.Jc)a=a.Jc(a);else{var b=Id[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Id._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IReversible.-rseq",a);}return a}function Jd(a,b){if(null!=a&&null!=a.Ld)a=a.Ld(a,b);else{var c=Jd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWriter.-write",a);}return a}
function Kd(a){if(null!=a&&null!=a.gd)a=a.gd(a);else{var b=Kd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Kd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IWriter.-flush",a);}return a}function Ld(){}function Md(a,b,c){if(null!=a&&null!=a.ta)a=a.ta(a,b,c);else{var d=Md[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=Md._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IPrintWithWriter.-pr-writer",a);}return a}
function Nd(){}function Od(a){if(null!=a&&null!=a.cf)a=a.cf(a);else{var b=Od[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Od._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IPending.-realized?",a);}return a}function Pd(a,b,c){if(null!=a&&null!=a.Dg)a.Dg(a,b,c);else{var d=Pd[pa(null==a?null:a)];if(null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=Pd._,null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IWatchable.-add-watch",a);}}
function Sd(a,b){if(null!=a&&null!=a.Eg)a.Eg(a,b);else{var c=Sd[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWatchable.-remove-watch",a);}}function Td(a){if(null!=a&&null!=a.Jd)a=a.Jd(a);else{var b=Td[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Td._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IEditableCollection.-as-transient",a);}return a}
function Ud(a,b){if(null!=a&&null!=a.Kd)a=a.Kd(a,b);else{var c=Ud[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ud._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientCollection.-conj!",a);}return a}function Vd(a){if(null!=a&&null!=a.Sd)a=a.Sd(a);else{var b=Vd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Vd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ITransientCollection.-persistent!",a);}return a}
function Wd(a,b,c){if(null!=a&&null!=a.ee)a=a.ee(a,b,c);else{var d=Wd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=Wd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("ITransientAssociative.-assoc!",a);}return a}function Xd(a,b){if(null!=a&&null!=a.Jf)a=a.Jf(a,b);else{var c=Xd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Xd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientMap.-dissoc!",a);}return a}
function Yd(){}function Zd(a,b){if(null!=a&&null!=a.fd)a=a.fd(a,b);else{var c=Zd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Zd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IComparable.-compare",a);}return a}function $d(a){if(null!=a&&null!=a.ue)a=a.ue(a);else{var b=$d[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=$d._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChunk.-drop-first",a);}return a}
function ae(a){if(null!=a&&null!=a.we)a=a.we(a);else{var b=ae[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=ae._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-first",a);}return a}function be(a){if(null!=a&&null!=a.Rd)a=a.Rd(a);else{var b=be[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=be._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-rest",a);}return a}
function ce(a){if(null!=a&&null!=a.ze)a=a.ze(a);else{var b=ce[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=ce._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INamed.-name",a);}return a}function de(a){if(null!=a&&null!=a.Ae)a=a.Ae(a);else{var b=de[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=de._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INamed.-namespace",a);}return a}
function ee(a,b){if(null!=a&&null!=a.xh)a=a.xh(a,b);else{var c=ee[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ee._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IReset.-reset!",a);}return a}
var ge=function(){function a(f,h,k,m,n){var r=fe[pa(null==f?null:f)];if(null!=r)return r.za?r.za(f,h,k,m,n):r.call(null,f,h,k,m,n);r=fe._;if(null!=r)return r.za?r.za(f,h,k,m,n):r.call(null,f,h,k,m,n);throw Cc("ISwap.-swap!",f);}function b(f,h,k,m){var n=fe[pa(null==f?null:f)];if(null!=n)return n.ja?n.ja(f,h,k,m):n.call(null,f,h,k,m);n=fe._;if(null!=n)return n.ja?n.ja(f,h,k,m):n.call(null,f,h,k,m);throw Cc("ISwap.-swap!",f);}function c(f,h,k){var m=fe[pa(null==f?null:f)];if(null!=m)return m.ba?m.ba(f,
h,k):m.call(null,f,h,k);m=fe._;if(null!=m)return m.ba?m.ba(f,h,k):m.call(null,f,h,k);throw Cc("ISwap.-swap!",f);}function d(f,h){var k=fe[pa(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=fe._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw Cc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.j=d;e.ba=c;e.ja=b;e.za=a;return e}(),fe=function fe(a){switch(arguments.length){case 2:return fe.j(arguments[0],arguments[1]);case 3:return fe.ba(arguments[0],arguments[1],arguments[2]);case 4:return fe.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fe.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};
fe.j=function(a,b){return null!=a&&null!=a.zh?a.zh(a,b):ge(a,b)};fe.ba=function(a,b,c){return null!=a&&null!=a.Ah?a.Ah(a,b,c):ge(a,b,c)};fe.ja=function(a,b,c,d){return null!=a&&null!=a.Bh?a.Bh(a,b,c,d):ge(a,b,c,d)};fe.za=function(a,b,c,d,e){return null!=a&&null!=a.Ch?a.Ch(a,b,c,d,e):ge(a,b,c,d,e)};fe.na=5;
function he(a,b){if(null!=a&&null!=a.Xc)a.Xc(a,b);else{var c=he[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=he._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IVolatile.-vreset!",a);}}function ie(){}function je(a){if(null!=a&&null!=a.Ba)a=a.Ba(a);else{var b=je[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=je._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IIterable.-iterator",a);}return a}
function ke(a){this.Fi=a;this.ga=1073741824;this.la=0}ke.prototype.Ld=function(a,b){return this.Fi.append(b)};ke.prototype.gd=function(){return null};function le(a){var b=new dc,c=new ke(b);a.ta(null,c,oc());c.gd(null);return t.aa(b)}var me="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};
function ne(a){a=me(a|0,-862048943);return me(a<<15|a>>>-15,461845907)}function oe(a,b){a=(a|0)^(b|0);return me(a<<13|a>>>-13,5)+-430675100|0}function pe(a,b){a=(a|0)^b;a=me(a^a>>>16,-2048144789);a=me(a^a>>>13,-1028477387);return a^a>>>16}var qe={},re=0;
function se(a){255<re&&(qe={},re=0);if(null==a)return 0;var b=qe[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=me(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;qe[a]=b;re+=1;a=b}return a}
function ve(a){if(null!=a&&(a.ga&4194304||l===a.uh))return a.wa(null)^0;if("number"===typeof a){if(q(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=se(a),a=0===a?a:pe(oe(0,ne(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:yd(a)^0,a}function we(a){return a instanceof z}
function xe(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=oe(d,ne(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=pe(1===(b.length&1)?c^ne(b.charCodeAt(b.length-1)):c,me(2,b.length));a=se(a.dc);return b^a+2654435769+(b<<6)+(b>>2)}function ye(a,b){if(a.od===b.od)return 0;if(q(yc(a.dc)?b.dc:!1))return-1;if(q(a.dc)){if(yc(b.dc))return 1;var c=ab(a.dc,b.dc);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}
function z(a,b,c,d,e){this.dc=a;this.name=b;this.od=c;this._hash=d;this.Gc=e;this.ga=2154168321;this.la=4096}g=z.prototype;g.toString=function(){return this.od};g.equiv=function(a){return this.oa(null,a)};g.oa=function(a,b){return b instanceof z?this.od===b.od:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return B.j?B.j(a,this):B.call(null,a,this)};g.j=function(a,b){return B.ba?B.ba(a,this,b):B.call(null,a,this,b)};g.ra=function(){return this.Gc};g.sa=function(a,b){return new z(this.dc,this.name,this.od,this._hash,b)};g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)};g.ze=function(){return this.name};g.Ae=function(){return this.dc};g.ta=function(a,b){return Jd(b,this.od)};
var ze=function ze(a){switch(arguments.length){case 1:return ze.aa(arguments[0]);case 2:return ze.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};ze.aa=function(a){for(;;){if(a instanceof z)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?ze.j(null,a):ze.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Ae)return a.be;if(a instanceof C)a=a.Aa;else throw Error("no conversion to symbol");}};
ze.j=function(a,b){var c=null!=a?[t.aa(a),"/",t.aa(b)].join(""):b;return new z(a,b,c,null,null)};ze.na=2;function Ae(a,b,c){this.val=a;this.be=b;this.Gc=c;this.ga=6717441;this.la=0}g=Ae.prototype;g.toString=function(){return["#'",t.aa(this.be)].join("")};g.Ib=function(){return this.val.ia?this.val.ia():this.val.call(null)};g.ra=function(){return this.Gc};g.sa=function(a,b){return new Ae(this.val,this.be,b)};
g.oa=function(a,b){return b instanceof Ae?(a=this.be,b=b.be,D.j?D.j(a,b):D.call(null,a,b)):!1};g.wa=function(){return xe(this.be)};g.vg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.ia();case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.ba(arguments[1],arguments[2],arguments[3]);case 4:return this.ja(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Yb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Sb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Vb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.ia=function(){var a=this.val.ia?this.val.ia():this.val.call(null);return a.ia?a.ia():a.call(null)};g.aa=function(a){var b=this.val.ia?this.val.ia():this.val.call(null);return b.aa?b.aa(a):b.call(null,a)};
g.j=function(a,b){var c=this.val.ia?this.val.ia():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};g.ba=function(a,b,c){var d=this.val.ia?this.val.ia():this.val.call(null);return d.ba?d.ba(a,b,c):d.call(null,a,b,c)};g.ja=function(a,b,c,d){var e=this.val.ia?this.val.ia():this.val.call(null);return e.ja?e.ja(a,b,c,d):e.call(null,a,b,c,d)};g.za=function(a,b,c,d,e){var f=this.val.ia?this.val.ia():this.val.call(null);return f.za?f.za(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.nb=function(a,b,c,d,e,f){var h=this.val.ia?this.val.ia():this.val.call(null);return h.nb?h.nb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Yb=function(a,b,c,d,e,f,h){var k=this.val.ia?this.val.ia():this.val.call(null);return k.Yb?k.Yb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Jb=function(a,b,c,d,e,f,h,k){var m=this.val.ia?this.val.ia():this.val.call(null);return m.Jb?m.Jb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Zb=function(a,b,c,d,e,f,h,k,m){var n=this.val.ia?this.val.ia():this.val.call(null);return n.Zb?n.Zb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.Nb=function(a,b,c,d,e,f,h,k,m,n){var r=this.val.ia?this.val.ia():this.val.call(null);return r.Nb?r.Nb(a,b,c,d,e,f,h,k,m,n):r.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ob=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.val.ia?this.val.ia():this.val.call(null);return u.Ob?u.Ob(a,b,c,d,e,f,h,k,m,n,r):u.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Pb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.val.ia?this.val.ia():this.val.call(null);return w.Pb?w.Pb(a,b,c,d,e,f,h,k,m,n,r,u):w.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Qb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.val.ia?this.val.ia():this.val.call(null);return A.Qb?A.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Rb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.val.ia?this.val.ia():this.val.call(null);return G.Rb?G.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};g.Sb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.val.ia?this.val.ia():this.val.call(null);return I.Sb?I.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Tb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.val.ia?this.val.ia():this.val.call(null);return F.Tb?F.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Ub=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.val.ia?this.val.ia():this.val.call(null);return N.Ub?N.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.val.ia?this.val.ia():this.val.call(null);return O.Vb?O.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Wb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.val.ia?this.val.ia():this.val.call(null);return U.Wb?U.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.val.ia?this.val.ia():this.val.call(null);return ea.Xb?ea.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.xe=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=this.val.ia?this.val.ia():this.val.call(null);return Be.Ef?Be.Ef(va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};
function Ce(a){return null!=a?a.la&131072||l===a.Ni?!0:a.la?!1:Ac(ie,a):Ac(ie,a)}function E(a){if(null==a)return null;if(null!=a&&(a.ga&8388608||l===a.Hf))return a.ua(null);if(wc(a)||"string"===typeof a)return 0===a.length?null:new De(a,0,null);if(null!=a&&null!=a[Ec])return a=ib(a,Ec).call(a),Ee.aa?Ee.aa(a):Ee.call(null,a);if(Ac(zd,a))return Dd(a);throw Error([t.aa(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.ga&64||l===a.Ja))return a.jb(null);a=E(a);return null==a?null:Vc(a)}function Fe(a){return null!=a?null!=a&&(a.ga&64||l===a.Ja)?a.sb(null):(a=E(a))?a.sb(null):Ge:Ge}function J(a){return null==a?null:null!=a&&(a.ga&128||l===a.Be)?a.bb(null):E(Fe(a))}
var D=function D(a){switch(arguments.length){case 1:return D.aa(arguments[0]);case 2:return D.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return D.da(arguments[0],arguments[1],c)}};D.aa=function(){return!0};D.j=function(a,b){return null==a?null==b:a===b||xd(a,b)};D.da=function(a,b,c){for(;;)if(D.j(a,b))if(J(c))a=b,b=H(c),c=J(c);else return D.j(b,H(c));else return!1};
D.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};D.na=2;function He(a){this.s=a}He.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ie(a){return new He(E(a))}function Je(a,b){this.value=a;this.iter=b;this.Af=null;this.ga=8388672;this.la=0}Je.prototype.ua=function(){return this};Je.prototype.jb=function(){return this.value};
Je.prototype.sb=function(){null==this.Af&&(this.Af=Ee.aa?Ee.aa(this.iter):Ee.call(null,this.iter));return this.Af};function Ee(a){var b=a.next();return q(b.done)?null:new Je(b.value,a)}function Ke(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=me(31,c)+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Le=pe(oe(0,ne(1)),0);function Me(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Ne=pe(oe(0,ne(0)),0);Mc["null"]=!0;Nc["null"]=function(){return 0};
Date.prototype.oa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.qd=l;Date.prototype.fd=function(a,b){if(b instanceof Date)return ab(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};xd.number=function(a,b){return a===b};Kc["function"]=!0;pd["function"]=!0;qd["function"]=function(){return null};yd._=function(a){return ya(a)};function Oe(a){return a+1}function Pe(a){this.val=a;this.ga=32768;this.la=0}
Pe.prototype.Ib=function(){return this.val};function Qe(a){return new Pe(a)}function Re(a){return a instanceof Pe}function Se(a){return Re(a)?Te.aa?Te.aa(a):Te.call(null,a):a}function Te(a){return y(a)}function Ue(a,b){var c=a.va(null);if(0===c)return b.ia?b.ia():b.call(null);for(var d=a.La(null,0),e=1;;)if(e<c){var f=a.La(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}
function Ve(a,b,c){var d=a.va(null),e=c;for(c=0;;)if(c<d){var f=a.La(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}function We(a,b){var c=a.length;if(0===a.length)return b.ia?b.ia():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}function Xe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}
function Ye(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Re(c))return y(c);d+=1}else return c}function Ze(a){return null!=a?a.ga&2||l===a.wg?!0:a.ga?!1:Ac(Mc,a):Ac(Mc,a)}function $e(a){return null!=a?a.ga&16||l===a.Ag?!0:a.ga?!1:Ac(Sc,a):Ac(Sc,a)}function af(a,b,c){var d=K.aa?K.aa(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.j(bf?bf(a,c):cf.call(null,a,c),b))return c;c+=1}else return-1}
function df(a,b,c){var d=K.aa?K.aa(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.j(bf?bf(a,c):cf.call(null,a,c),b))return c;--c}else return-1}function ef(a,b){this.ha=a;this.i=b}ef.prototype.pb=function(){return this.i<this.ha.length};ef.prototype.next=function(){var a=this.ha[this.i];this.i+=1;return a};function De(a,b,c){this.ha=a;this.i=b;this.meta=c;this.ga=166592766;this.la=139264}g=De.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.aa?K.aa(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.La=function(a,b){a=b+this.i;if(0<=a&&a<this.ha.length)return this.ha[a];throw Error("Index out of bounds");};g.gb=function(a,b,c){a=b+this.i;return 0<=a&&a<this.ha.length?this.ha[a]:c};
g.Ba=function(){return new ef(this.ha,this.i)};g.ra=function(){return this.meta};g.bb=function(){return this.i+1<this.ha.length?new De(this.ha,this.i+1,null):null};g.va=function(){var a=this.ha.length-this.i;return 0>a?0:a};g.Jc=function(){var a=this.va(null);return 0<a?new ff(this,a-1,null):null};g.wa=function(){return Ke(this)};g.oa=function(a,b){return gf.j?gf.j(this,b):gf.call(null,this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return Ye(this.ha,b,this.ha[this.i],this.i+1)};
g.ib=function(a,b,c){return Ye(this.ha,b,c,this.i)};g.jb=function(){return this.ha[this.i]};g.sb=function(){return this.i+1<this.ha.length?new De(this.ha,this.i+1,null):Ge};g.ua=function(){return this.i<this.ha.length?this:null};g.sa=function(a,b){return b===this.meta?this:new De(this.ha,this.i,b)};g.xa=function(a,b){return hf.j?hf.j(b,this):hf.call(null,b,this)};De.prototype[Ec]=function(){return Ie(this)};function M(a){return 0<a.length?new De(a,0,null):null}
function ff(a,b,c){this.ci=a;this.i=b;this.meta=c;this.ga=32374990;this.la=8192}g=ff.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.aa?K.aa(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return 0<this.i?new ff(this.ci,this.i-1,null):null};g.va=function(){return this.i+1};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf.j?gf.j(this,b):gf.call(null,this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf?jf(b,this):kf.call(null,b,this)};g.ib=function(a,b,c){return lf?lf(b,c,this):kf.call(null,b,c,this)};g.jb=function(){return x(this.ci,this.i)};g.sb=function(){return 0<this.i?new ff(this.ci,this.i-1,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new ff(this.ci,this.i,b)};g.xa=function(a,b){return hf.j?hf.j(b,this):hf.call(null,b,this)};
ff.prototype[Ec]=function(){return Ie(this)};function mf(a){return H(J(a))}function nf(a){return H(H(a))}function of(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}xd._=function(a,b){return a===b};
var pf=function pf(a){switch(arguments.length){case 0:return pf.ia();case 1:return pf.aa(arguments[0]);case 2:return pf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return pf.da(arguments[0],arguments[1],c)}};pf.ia=function(){return qf};pf.aa=function(a){return a};pf.j=function(a,b){return null!=a?Rc(a,b):new rf(null,b,null,1,null)};
pf.da=function(a,b,c){for(;;)if(q(c))a=pf.j(a,b),b=H(c),c=J(c);else return pf.j(a,b)};pf.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};pf.na=2;function sf(a){return null==a?null:null!=a&&(a.ga&4||l===a.zg)?a.Ya(null):(null!=a?a.ga&4||l===a.zg||(a.ga?0:Ac(Oc,a)):Ac(Oc,a))?Pc(a):null}
function K(a){if(null!=a)if(null!=a&&(a.ga&2||l===a.wg))a=a.va(null);else if(wc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.ga&8388608||l===a.Hf))a:{a=E(a);for(var b=0;;){if(Ze(a)){a=b+Nc(a);break a}a=J(a);b+=1}}else a=Nc(a);else a=0;return a}function tf(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?H(a):c;if($e(a))return x(a,b,c);if(E(a))a=J(a),--b;else return c}}
function cf(a){switch(arguments.length){case 2:return bf(arguments[0],arguments[1]);case 3:return P(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}
function bf(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.ga&16||l===a.Ag))return a.La(null,b);if(wc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.ga&64||l===a.Ja)||null!=a&&(a.ga&16777216||l===a.Cg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=H(a);break a}throw Error("Index out of bounds");}if($e(a)){a=x(a,b);break a}if(E(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(Ac(Sc,a))return x(a,b);throw Error(["nth not supported on this type ",t.aa(Dc(Bc(a)))].join(""));}
function P(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.ga&16||l===a.Ag))return a.gb(null,b,c);if(wc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.ga&64||l===a.Ja)||null!=a&&(a.ga&16777216||l===a.Cg))return 0>b?c:tf(a,b,c);if(Ac(Sc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.aa(Dc(Bc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.j(arguments[0],arguments[1]);case 3:return B.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};B.j=function(a,b){return null==a?null:null!=a&&(a.ga&256||l===a.vh)?a.ya(null,b):wc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Ac($c,a)?ad(a,b):null};
B.ba=function(a,b,c){return null!=a?null!=a&&(a.ga&256||l===a.vh)?a.ka(null,b,c):wc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Ac($c,a)?ad(a,b,c):c:c};B.na=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Q.da(arguments[0],arguments[1],arguments[2],c)}};
Q.ba=function(a,b,c){return null!=a&&(a.ga&512||l===a.Ii)?a.pa(null,b,c):null!=a?cd(a,b,c):uf([b,c])};Q.da=function(a,b,c,d){for(;;)if(a=Q.ba(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};Q.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};Q.na=3;
var R=function R(a){switch(arguments.length){case 1:return R.aa(arguments[0]);case 2:return R.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return R.da(arguments[0],arguments[1],c)}};R.aa=function(a){return a};R.j=function(a,b){return null==a?null:fd(a,b)};R.da=function(a,b,c){for(;;){if(null==a)return null;a=R.j(a,b);if(q(c))b=H(c),c=J(c);else return a}};
R.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};R.na=2;function vf(a){var b=sa(a);return b?b:null!=a?l===a.vg?!0:a.Md?!1:Ac(Kc,a):Ac(Kc,a)}function wf(a,b){this.Ca=a;this.meta=b;this.ga=393217;this.la=0}g=wf.prototype;g.ra=function(){return this.meta};g.sa=function(a,b){return new wf(this.Ca,b)};g.vg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.ia();case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.ba(arguments[1],arguments[2],arguments[3]);case 4:return this.ja(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Yb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Sb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Vb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.ia=function(){return this.Ca.ia?this.Ca.ia():this.Ca.call(null)};g.aa=function(a){return this.Ca.aa?this.Ca.aa(a):this.Ca.call(null,a)};g.j=function(a,b){return this.Ca.j?this.Ca.j(a,b):this.Ca.call(null,a,b)};g.ba=function(a,b,c){return this.Ca.ba?this.Ca.ba(a,b,c):this.Ca.call(null,a,b,c)};
g.ja=function(a,b,c,d){return this.Ca.ja?this.Ca.ja(a,b,c,d):this.Ca.call(null,a,b,c,d)};g.za=function(a,b,c,d,e){return this.Ca.za?this.Ca.za(a,b,c,d,e):this.Ca.call(null,a,b,c,d,e)};g.nb=function(a,b,c,d,e,f){return this.Ca.nb?this.Ca.nb(a,b,c,d,e,f):this.Ca.call(null,a,b,c,d,e,f)};g.Yb=function(a,b,c,d,e,f,h){return this.Ca.Yb?this.Ca.Yb(a,b,c,d,e,f,h):this.Ca.call(null,a,b,c,d,e,f,h)};
g.Jb=function(a,b,c,d,e,f,h,k){return this.Ca.Jb?this.Ca.Jb(a,b,c,d,e,f,h,k):this.Ca.call(null,a,b,c,d,e,f,h,k)};g.Zb=function(a,b,c,d,e,f,h,k,m){return this.Ca.Zb?this.Ca.Zb(a,b,c,d,e,f,h,k,m):this.Ca.call(null,a,b,c,d,e,f,h,k,m)};g.Nb=function(a,b,c,d,e,f,h,k,m,n){return this.Ca.Nb?this.Ca.Nb(a,b,c,d,e,f,h,k,m,n):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ob=function(a,b,c,d,e,f,h,k,m,n,r){return this.Ca.Ob?this.Ca.Ob(a,b,c,d,e,f,h,k,m,n,r):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Pb=function(a,b,c,d,e,f,h,k,m,n,r,u){return this.Ca.Pb?this.Ca.Pb(a,b,c,d,e,f,h,k,m,n,r,u):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Qb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){return this.Ca.Qb?this.Ca.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};g.Rb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){return this.Ca.Rb?this.Ca.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){return this.Ca.Sb?this.Ca.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};g.Tb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){return this.Ca.Tb?this.Ca.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Ub=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){return this.Ca.Ub?this.Ca.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){return this.Ca.Vb?this.Ca.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Wb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){return this.Ca.Wb?this.Ca.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){return this.Ca.Xb?this.Ca.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.xe=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){return Be.Ef?Be.Ef(this.Ca,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,this.Ca,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};function xf(a,b){return sa(a)?new wf(a,b):null==a?null:rd(a,b)}
function yf(a){return null!=a&&(null!=a?a.ga&131072||l===a.ye||(a.ga?0:Ac(pd,a)):Ac(pd,a))?qd(a):null}var Af=function Af(a){switch(arguments.length){case 1:return Af.aa(arguments[0]);case 2:return Af.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Af.da(arguments[0],arguments[1],c)}};Af.aa=function(a){return a};Af.j=function(a,b){return null==a?null:jd(a,b)};
Af.da=function(a,b,c){for(;;){if(null==a)return null;a=Af.j(a,b);if(q(c))b=H(c),c=J(c);else return a}};Af.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Af.na=2;function Bf(a){return null==a||yc(E(a))}function Cf(a){return null==a?!1:null!=a?a.ga&8||l===a.Ki?!0:a.ga?!1:Ac(Qc,a):Ac(Qc,a)}function Df(a){return null==a?!1:null!=a?a.ga&4096||l===a.Ui?!0:a.ga?!1:Ac(id,a):Ac(id,a)}function Ef(a){return null!=a?a.ga&16777216||l===a.Cg?!0:a.ga?!1:Ac(Ed,a):Ac(Ed,a)}
function Ff(a){return null==a?!1:null!=a?a.ga&1024||l===a.Qi?!0:a.ga?!1:Ac(ed,a):Ac(ed,a)}function Gf(a){return null!=a?a.ga&67108864||l===a.Ti?!0:a.ga?!1:Ac(Gd,a):Ac(Gd,a)}function Hf(a){return null!=a?a.ga&16384||l===a.Vi?!0:a.ga?!1:Ac(md,a):Ac(md,a)}function If(a){return null!=a?a.la&512||l===a.Ji?!0:!1:!1}function Jf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Kf={};function Lf(a){return null==a?!1:null!=a?a.ga&64||l===a.Ja?!0:a.ga?!1:Ac(Uc,a):Ac(Uc,a)}
function Mf(a){return null==a?!1:!1===a?!1:!0}function Nf(a){var b=vf(a);return b?b:null!=a?a.ga&1||l===a.Mi?!0:a.ga?!1:Ac(Lc,a):Ac(Lc,a)}function Of(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Pf(a,b){return B.ba(a,b,Kf)===Kf?!1:!0}
var Qf=function Qf(a){switch(arguments.length){case 1:return Qf.aa(arguments[0]);case 2:return Qf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Qf.da(arguments[0],arguments[1],c)}};Qf.aa=function(){return!0};Qf.j=function(a,b){return!D.j(a,b)};Qf.da=function(a,b,c){if(D.j(a,b))return!1;a=Rf([a,b]);for(b=c;;){var d=H(b);c=J(b);if(q(b)){if(Pf(a,d))return!1;a=pf.j(a,d);b=c}else return!0}};
Qf.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Qf.na=2;function Sf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ab(a,b);throw Error(["Cannot compare ",t.aa(a)," to ",t.aa(b)].join(""));}if(null!=a?a.la&2048||l===a.qd||(a.la?0:Ac(Yd,a)):Ac(Yd,a))return Zd(a,b);if("string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b))throw Error(["Cannot compare ",t.aa(a)," to ",t.aa(b)].join(""));return ab(a,b)}
function Tf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Sf(bf(a,d),bf(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Uf(a){return D.j(a,Sf)?Sf:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:q(d)?-1:q(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Vf(a,b){return E(b)?(b=Wf.aa?Wf.aa(b):Wf.call(null,b),bb(b,Uf(a)),E(b)):Ge}
function qg(a){var b=Yf;return Vf(function(c,d){c=b.aa?b.aa(c):b.call(null,c);d=b.aa?b.aa(d):b.call(null,d);var e=Uf(Sf);return e.j?e.j(c,d):e.call(null,c,d)},a)}function kf(a){switch(arguments.length){case 2:return jf(arguments[0],arguments[1]);case 3:return lf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function jf(a,b){var c=E(b);return c?(b=H(c),c=J(c),v.ba?v.ba(a,b,c):v.call(null,a,b,c)):a.ia?a.ia():a.call(null)}
function lf(a,b,c){for(c=E(c);;)if(c){var d=H(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Re(b))return y(b);c=J(c)}else return b}function rg(a){a=Wf.aa?Wf.aa(a):Wf.call(null,a);cb(a);return sg.aa?sg.aa(a):sg.call(null,a)}function tg(a,b){a=je(a);if(q(a.pb()))for(var c=a.next();;)if(a.pb()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c;else return b.ia?b.ia():b.call(null)}
function ug(a,b,c){for(a=je(a);;)if(a.pb()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c}var v=function v(a){switch(arguments.length){case 2:return v.j(arguments[0],arguments[1]);case 3:return v.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};v.j=function(a,b){return null!=b&&(b.ga&524288||l===b.wh)?b.hb(null,a):wc(b)?We(b,a):"string"===typeof b?We(b,a):Ac(sd,b)?td(b,a):Ce(b)?tg(b,a):jf(a,b)};
v.ba=function(a,b,c){return null!=c&&(c.ga&524288||l===c.wh)?c.ib(null,a,b):wc(c)?Xe(c,a,b):"string"===typeof c?Xe(c,a,b):Ac(sd,c)?td(c,a,b):Ce(c)?ug(c,a,b):lf(a,b,c)};v.na=3;function vg(a,b,c){return null!=c?wd(c,a,b):b}function wg(a){return a}
function xg(a,b){return function(){function c(h,k){return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return b.aa?b.aa(h):b.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}function yg(a,b,c){return zg(a,b,b.ia?b.ia():b.call(null),c)}
function zg(a,b,c,d){a=a.aa?a.aa(b):a.call(null,b);c=v.ba(a,c,d);return a.aa?a.aa(c):a.call(null,c)}var Ag=function Ag(a){switch(arguments.length){case 0:return Ag.ia();case 1:return Ag.aa(arguments[0]);case 2:return Ag.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Ag.da(arguments[0],arguments[1],c)}};Ag.ia=function(){return 0};Ag.aa=function(a){return a};Ag.j=function(a,b){return a+b};
Ag.da=function(a,b,c){return v.ba(Ag,a+b,c)};Ag.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Ag.na=2;var Bg=function Bg(a){switch(arguments.length){case 1:return Bg.aa(arguments[0]);case 2:return Bg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Bg.da(arguments[0],arguments[1],c)}};Bg.aa=function(a){return-a};Bg.j=function(a,b){return a-b};
Bg.da=function(a,b,c){return v.ba(Bg,a-b,c)};Bg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Bg.na=2;var Cg=function Cg(a){switch(arguments.length){case 0:return Cg.ia();case 1:return Cg.aa(arguments[0]);case 2:return Cg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Cg.da(arguments[0],arguments[1],c)}};Cg.ia=function(){return 1};Cg.aa=function(a){return a};
Cg.j=function(a,b){return a*b};Cg.da=function(a,b,c){return v.ba(Cg,a*b,c)};Cg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Cg.na=2;var Dg=function Dg(a){switch(arguments.length){case 1:return Dg.aa(arguments[0]);case 2:return Dg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Dg.da(arguments[0],arguments[1],c)}};Dg.aa=function(a){return 1/a};
Dg.j=function(a,b){return a/b};Dg.da=function(a,b,c){return v.ba(Dg,a/b,c)};Dg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Dg.na=2;var Eg=function Eg(a){switch(arguments.length){case 1:return Eg.aa(arguments[0]);case 2:return Eg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Eg.da(arguments[0],arguments[1],c)}};Eg.aa=function(){return!0};
Eg.j=function(a,b){return a<b};Eg.da=function(a,b,c){for(;;)if(a<b)if(J(c))a=b,b=H(c),c=J(c);else return b<H(c);else return!1};Eg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Eg.na=2;var Fg=function Fg(a){switch(arguments.length){case 1:return Fg.aa(arguments[0]);case 2:return Fg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Fg.da(arguments[0],arguments[1],c)}};
Fg.aa=function(){return!0};Fg.j=function(a,b){return a<=b};Fg.da=function(a,b,c){for(;;)if(a<=b)if(J(c))a=b,b=H(c),c=J(c);else return b<=H(c);else return!1};Fg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Fg.na=2;
var Gg=function Gg(a){switch(arguments.length){case 1:return Gg.aa(arguments[0]);case 2:return Gg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Gg.da(arguments[0],arguments[1],c)}};Gg.aa=function(){return!0};Gg.j=function(a,b){return a>b};Gg.da=function(a,b,c){for(;;)if(a>b)if(J(c))a=b,b=H(c),c=J(c);else return b>H(c);else return!1};
Gg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Gg.na=2;var Hg=function Hg(a){switch(arguments.length){case 1:return Hg.aa(arguments[0]);case 2:return Hg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Hg.da(arguments[0],arguments[1],c)}};Hg.aa=function(){return!0};Hg.j=function(a,b){return a>=b};
Hg.da=function(a,b,c){for(;;)if(a>=b)if(J(c))a=b,b=H(c),c=J(c);else return b>=H(c);else return!1};Hg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Hg.na=2;var Ig=function Ig(a){switch(arguments.length){case 1:return Ig.aa(arguments[0]);case 2:return Ig.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Ig.da(arguments[0],arguments[1],c)}};Ig.aa=function(a){return a};
Ig.j=function(a,b){return a>b?a:b};Ig.da=function(a,b,c){return v.ba(Ig,a>b?a:b,c)};Ig.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Ig.na=2;var Jg=function Jg(a){switch(arguments.length){case 1:return Jg.aa(arguments[0]);case 2:return Jg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Jg.da(arguments[0],arguments[1],c)}};Jg.aa=function(a){return a};
Jg.j=function(a,b){return a<b?a:b};Jg.da=function(a,b,c){return v.ba(Jg,a<b?a:b,c)};Jg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Jg.na=2;function Kg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function Lg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Mg(a,b){return(a%b+b)%b}function Ng(a,b){return Lg((a-a%b)/b)}
function Pg(a,b){return a-b*Ng(a,b)}function Qg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var Rg=function Rg(a){switch(arguments.length){case 1:return Rg.aa(arguments[0]);case 2:return Rg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Rg.da(arguments[0],arguments[1],c)}};Rg.aa=function(){return!0};Rg.j=function(a,b){return xd(a,b)};
Rg.da=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};Rg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Rg.na=2;var t=function t(a){switch(arguments.length){case 0:return t.ia();case 1:return t.aa(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(1),0,null);return t.da(arguments[0],c)}};t.ia=function(){return""};t.aa=function(a){return null==a?"":[a].join("")};
t.da=function(a,b){for(a=new dc(t.aa(a));;)if(q(b))a=a.append(t.aa(H(b))),b=J(b);else return a.toString()};t.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};t.na=1;var Sg=function Sg(a){switch(arguments.length){case 2:return Sg.j(arguments[0],arguments[1]);case 3:return Sg.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};Sg.j=function(a,b){return a.substring(b)};Sg.ba=function(a,b,c){return a.substring(b,c)};Sg.na=3;
function gf(a,b){if(Ef(b))if(Ze(a)&&Ze(b)&&K(a)!==K(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.j(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Mf(a)}function rf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.fa=e;this.ga=65937646;this.la=8192}g=rf.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return 1===this.count?null:this.rest};g.va=function(){return this.count};g.sd=function(){return this.first};g.td=function(){return this.sb(null)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(Ge,this.meta)};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.first};g.sb=function(){return 1===this.count?Ge:this.rest};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new rf(b,this.first,this.rest,this.count,this.fa)};
g.xa=function(a,b){return new rf(this.meta,b,this,this.count+1,null)};function Tg(a){return null!=a?a.ga&33554432||l===a.Pi?!0:a.ga?!1:Ac(Fd,a):Ac(Fd,a)}rf.prototype[Ec]=function(){return Ie(this)};function Ug(a){this.meta=a;this.ga=65937614;this.la=8192}g=Ug.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return null};g.va=function(){return 0};g.sd=function(){return null};g.td=function(){throw Error("Can't pop empty list");};g.wa=function(){return Le};
g.oa=function(a,b){return Tg(b)||Ef(b)?null==E(b):!1};g.Ya=function(){return this};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return null};g.sb=function(){return Ge};g.ua=function(){return null};g.sa=function(a,b){return b===this.meta?this:new Ug(b)};g.xa=function(a,b){return new rf(this.meta,b,null,1,null)};var Ge=new Ug(null);Ug.prototype[Ec]=function(){return Ie(this)};
function Vg(a){return(null!=a?a.ga&134217728||l===a.yh||(a.ga?0:Ac(Hd,a)):Ac(Hd,a))?(a=Id(a))?a:Ge:v.ba(pf,Ge,a)}var bg=function bg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return bg.da(c)};bg.da=function(a){if(a instanceof De&&0===a.i)var b=a.ha;else a:for(b=[];;)if(null!=a)b.push(Vc(a)),a=Yc(a);else break a;a=b.length;for(var c=Ge;;)if(0<a){var d=a-1;c=Rc(c,b[a-1]);a=d}else return c};bg.na=0;bg.qa=function(a){return this.da(E(a))};
function Wg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.fa=d;this.ga=65929452;this.la=8192}g=Wg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return null==this.rest?null:E(this.rest)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};
g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.first};g.sb=function(){return null==this.rest?Ge:this.rest};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new Wg(b,this.first,this.rest,this.fa)};g.xa=function(a,b){return new Wg(null,b,this,null)};Wg.prototype[Ec]=function(){return Ie(this)};
function hf(a,b){return null==b?new rf(null,a,null,1,null):null!=b&&(b.ga&64||l===b.Ja)?new Wg(null,a,b,null):new Wg(null,a,E(b),null)}function Xg(a,b){if(a.Aa===b.Aa)return 0;if(q(yc(a.dc)?b.dc:!1))return-1;if(q(a.dc)){if(yc(b.dc))return 1;var c=ab(a.dc,b.dc);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}function C(a,b,c,d){this.dc=a;this.name=b;this.Aa=c;this._hash=d;this.ga=2153775105;this.la=4096}g=C.prototype;g.toString=function(){return[":",t.aa(this.Aa)].join("")};
g.equiv=function(a){return this.oa(null,a)};g.oa=function(a,b){return b instanceof C?this.Aa===b.Aa:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return B.j(a,this)};g.j=function(a,b){return B.ba(a,this,b)};
g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)+2654435769|0};g.ze=function(){return this.name};g.Ae=function(){return this.dc};g.ta=function(a,b){return Jd(b,[":",t.aa(this.Aa)].join(""))};function V(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.Aa===b.Aa:!1}function Zg(a){if(null!=a&&(a.la&4096||l===a.Bg))return a.Ae(null);throw Error(["Doesn't support namespace: ",t.aa(a)].join(""));}function $g(a){return a instanceof C||a instanceof z}
var ah=function ah(a){switch(arguments.length){case 1:return ah.aa(arguments[0]);case 2:return ah.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};ah.aa=function(a){if(a instanceof C)return a;if(a instanceof z)return new C(Zg(a),bh.aa?bh.aa(a):bh.call(null,a),a.od,null);if(D.j("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
ah.j=function(a,b){a=a instanceof C?bh.aa?bh.aa(a):bh.call(null,a):a instanceof z?bh.aa?bh.aa(a):bh.call(null,a):a;b=b instanceof C?bh.aa?bh.aa(b):bh.call(null,b):b instanceof z?bh.aa?bh.aa(b):bh.call(null,b):b;return new C(a,b,[q(a)?[t.aa(a),"/"].join(""):null,t.aa(b)].join(""),null)};ah.na=2;function ch(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.fa=d;this.ga=32374988;this.la=1}g=ch.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
function dh(a){null!=a.fn&&(a.s=a.fn.ia?a.fn.ia():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){this.ua(null);return null==this.s?null:J(this.s)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};
g.Ya=function(){return rd(Ge,this.meta)};g.cf=function(){return yc(this.fn)};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){this.ua(null);return null==this.s?null:H(this.s)};g.sb=function(){this.ua(null);return null!=this.s?Fe(this.s):Ge};g.ua=function(){dh(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof ch)a=dh(a);else return this.s=a,E(this.s)};
g.sa=function(a,b){var c=this;return b===this.meta?c:new ch(b,function(){return c.ua(null)},null,this.fa)};g.xa=function(a,b){return hf(b,this)};ch.prototype[Ec]=function(){return Ie(this)};function eh(a){this.buf=a;this.end=0;this.ga=2;this.la=0}eh.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};eh.prototype.pc=function(){var a=new fh(this.buf,0,this.end);this.buf=null;return a};eh.prototype.va=function(){return this.end};function gh(a){return new eh(Array(a))}
function fh(a,b,c){this.ha=a;this.off=b;this.end=c;this.ga=524306;this.la=0}g=fh.prototype;g.va=function(){return this.end-this.off};g.La=function(a,b){return this.ha[this.off+b]};g.gb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ha[this.off+b]:c};g.ue=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new fh(this.ha,this.off+1,this.end)};g.hb=function(a,b){return Ye(this.ha,b,this.ha[this.off],this.off+1)};g.ib=function(a,b,c){return Ye(this.ha,b,c,this.off)};
function hh(a,b,c,d){this.pc=a;this.more=b;this.meta=c;this.fa=d;this.ga=31850732;this.la=1536}g=hh.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return 1<Nc(this.pc)?new hh($d(this.pc),this.more,null,null):null==this.more?null:Dd(this.more)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.jb=function(){return x(this.pc,0)};g.sb=function(){return 1<Nc(this.pc)?new hh($d(this.pc),this.more,null,null):null==this.more?Ge:this.more};g.ua=function(){return this};g.we=function(){return this.pc};g.Rd=function(){return null==this.more?Ge:this.more};g.sa=function(a,b){return b===this.meta?this:new hh(this.pc,this.more,b,this.fa)};g.xa=function(a,b){return hf(b,this)};g.ve=function(){return null==this.more?null:this.more};
hh.prototype[Ec]=function(){return Ie(this)};function ih(a,b){return 0===Nc(a)?b:new hh(a,b,null,null)}function jh(a,b){a.add(b)}function kh(a){return a.pc()}function Wf(a){var b=[];for(a=E(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function lh(a,b){if(Ze(b))return K(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var mh=function mh(a){if(null==a)return null;var c=J(a);return null==c?E(H(a)):hf(H(a),mh.aa?mh.aa(c):mh.call(null,c))},W=function W(a){switch(arguments.length){case 0:return W.ia();case 1:return W.aa(arguments[0]);case 2:return W.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return W.da(arguments[0],arguments[1],c)}};W.ia=function(){return new ch(null,function(){return null},null,null)};
W.aa=function(a){return new ch(null,function(){return a},null,null)};W.j=function(a,b){return new ch(null,function(){var c=E(a);return c?If(c)?ih(ae(c),W.j(be(c),b)):hf(H(c),W.j(Fe(c),b)):b},null,null)};W.da=function(a,b,c){return function h(e,f){return new ch(null,function(){var k=E(e);return k?If(k)?ih(ae(k),h(be(k),f)):hf(H(k),h(Fe(k),f)):q(f)?h(H(f),J(f)):null},null,null)}(W.j(a,b),c)};W.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};W.na=2;
function nh(a,b,c){return hf(a,hf(b,c))}function oh(a){return Td(a)}function ph(a){return Vd(a)}var qh=function qh(a){switch(arguments.length){case 0:return qh.ia();case 1:return qh.aa(arguments[0]);case 2:return qh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return qh.da(arguments[0],arguments[1],c)}};qh.ia=function(){return Td(qf)};qh.aa=function(a){return a};qh.j=function(a,b){return Ud(a,b)};
qh.da=function(a,b,c){for(;;)if(a=Ud(a,b),q(c))b=H(c),c=J(c);else return a};qh.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};qh.na=2;var rh=function rh(a){switch(arguments.length){case 3:return rh.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return rh.da(arguments[0],arguments[1],arguments[2],c)}};rh.ba=function(a,b,c){return Wd(a,b,c)};
rh.da=function(a,b,c,d){for(;;)if(a=Wd(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};rh.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};rh.na=3;
function sh(a,b,c){var d=E(c);if(0===b)return a.ia?a.ia():a.call(null);c=Vc(d);var e=Wc(d);if(1===b)return a.aa?a.aa(c):a.call(null,c);d=Vc(e);var f=Wc(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Vc(f);var h=Wc(f);if(3===b)return a.ba?a.ba(c,d,e):a.call(null,c,d,e);f=Vc(h);var k=Wc(h);if(4===b)return a.ja?a.ja(c,d,e,f):a.call(null,c,d,e,f);h=Vc(k);var m=Wc(k);if(5===b)return a.za?a.za(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Vc(m);var n=Wc(m);if(6===b)return a.nb?a.nb(c,d,e,f,h,k):a.call(null,c,
d,e,f,h,k);m=Vc(n);var r=Wc(n);if(7===b)return a.Yb?a.Yb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Vc(r);var u=Wc(r);if(8===b)return a.Jb?a.Jb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);r=Vc(u);var w=Wc(u);if(9===b)return a.Zb?a.Zb(c,d,e,f,h,k,m,n,r):a.call(null,c,d,e,f,h,k,m,n,r);u=Vc(w);var A=Wc(w);if(10===b)return a.Nb?a.Nb(c,d,e,f,h,k,m,n,r,u):a.call(null,c,d,e,f,h,k,m,n,r,u);w=Vc(A);var G=Wc(A);if(11===b)return a.Ob?a.Ob(c,d,e,f,h,k,m,n,r,u,w):a.call(null,c,d,e,f,h,k,m,n,r,u,w);A=Vc(G);
var I=Wc(G);if(12===b)return a.Pb?a.Pb(c,d,e,f,h,k,m,n,r,u,w,A):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A);G=Vc(I);var F=Wc(I);if(13===b)return a.Qb?a.Qb(c,d,e,f,h,k,m,n,r,u,w,A,G):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G);I=Vc(F);var N=Wc(F);if(14===b)return a.Rb?a.Rb(c,d,e,f,h,k,m,n,r,u,w,A,G,I):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=Wc(N);if(15===b)return a.Sb?a.Sb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=Wc(O);if(16===b)return a.Tb?a.Tb(c,
d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=Wc(U);if(17===b)return a.Ub?a.Ub(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=Wc(ea);if(18===b)return a.Vb?a.Vb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=Wc(va);if(19===b)return a.Wb?a.Wb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);var wa=Vc(va);Wc(va);
if(20===b)return a.Xb?a.Xb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa);throw Error("Only up to 20 arguments supported on functions");}function th(a){return null!=a&&(a.ga&128||l===a.Be)?a.bb(null):E(Fe(a))}function uh(a,b,c){return null==c?a.aa?a.aa(b):a.call(a,b):vh(a,b,Vc(c),th(c))}function vh(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):wh(a,b,c,Vc(d),th(d))}
function wh(a,b,c,d,e){return null==e?a.ba?a.ba(b,c,d):a.call(a,b,c,d):xh(a,b,c,d,Vc(e),th(e))}
function xh(a,b,c,d,e,f){if(null==f)return a.ja?a.ja(b,c,d,e):a.call(a,b,c,d,e);var h=Vc(f),k=J(f);if(null==k)return a.za?a.za(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Vc(k);var m=J(k);if(null==m)return a.nb?a.nb(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Vc(m);var n=J(m);if(null==n)return a.Yb?a.Yb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Vc(n);var r=J(n);if(null==r)return a.Jb?a.Jb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Vc(r);var u=J(r);if(null==u)return a.Zb?a.Zb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,
f,k,m,n);r=Vc(u);var w=J(u);if(null==w)return a.Nb?a.Nb(b,c,d,e,h,f,k,m,n,r):a.call(a,b,c,d,e,h,f,k,m,n,r);u=Vc(w);var A=J(w);if(null==A)return a.Ob?a.Ob(b,c,d,e,h,f,k,m,n,r,u):a.call(a,b,c,d,e,h,f,k,m,n,r,u);w=Vc(A);var G=J(A);if(null==G)return a.Pb?a.Pb(b,c,d,e,h,f,k,m,n,r,u,w):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w);A=Vc(G);var I=J(G);if(null==I)return a.Qb?a.Qb(b,c,d,e,h,f,k,m,n,r,u,w,A):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A);G=Vc(I);var F=J(I);if(null==F)return a.Rb?a.Rb(b,c,d,e,h,f,k,m,n,r,u,w,A,G):
a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G);I=Vc(F);var N=J(F);if(null==N)return a.Sb?a.Sb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=J(N);if(null==O)return a.Tb?a.Tb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=J(O);if(null==U)return a.Ub?a.Ub(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=J(U);if(null==ea)return a.Vb?a.Vb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O):a.call(a,b,
c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=J(ea);if(null==va)return a.Wb?a.Wb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=J(va);if(null==va)return a.Xb?a.Xb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea];for(c=va;;)if(c)b.push(Vc(c)),c=J(c);else break;return a.apply(a,b)}
function Be(a){switch(arguments.length){case 2:return yh(arguments[0],arguments[1]);case 3:return zh(arguments[0],arguments[1],arguments[2]);case 4:return Ah(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Bh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new De(b.slice(5),0,null);return Ch(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function yh(a,b){if(a.qa){var c=a.na,d=lh(c+1,b);return d<=c?sh(a,d,b):a.qa(b)}b=E(b);return null==b?a.ia?a.ia():a.call(a):uh(a,Vc(b),th(b))}function zh(a,b,c){if(a.qa){b=hf(b,c);var d=a.na;c=lh(d,c)+1;return c<=d?sh(a,c,b):a.qa(b)}return uh(a,b,E(c))}function Ah(a,b,c,d){return a.qa?(b=nh(b,c,d),c=a.na,d=2+lh(c-1,d),d<=c?sh(a,d,b):a.qa(b)):vh(a,b,c,E(d))}function Bh(a,b,c,d,e){return a.qa?(b=hf(b,hf(c,hf(d,e))),c=a.na,e=3+lh(c-2,e),e<=c?sh(a,e,b):a.qa(b)):wh(a,b,c,d,E(e))}
function Ch(a,b,c,d,e,f){return a.qa?(f=mh(f),b=hf(b,hf(c,hf(d,hf(e,f)))),c=a.na,f=4+lh(c-3,f),f<=c?sh(a,f,b):a.qa(b)):xh(a,b,c,d,e,mh(f))}var Dh=function Dh(a){switch(arguments.length){case 1:return Dh.aa(arguments[0]);case 2:return Dh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Dh.da(arguments[0],arguments[1],c)}};Dh.aa=function(){return!1};Dh.j=function(a,b){return!D.j(a,b)};
Dh.da=function(a,b,c){return yc(Ah(D,a,b,c))};Dh.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Dh.na=2;function Eh(a){return E(a)?a:null}
function Fh(){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof hc)hc=function(a){this.Yh=a;this.ga=393216;this.la=0},hc.prototype.sa=function(a,b){return new hc(b)},hc.prototype.ra=function(){return this.Yh},hc.prototype.pb=function(){return!1},hc.prototype.next=function(){return Error("No such element")},hc.prototype.remove=function(){return Error("Unsupported operation")},hc.$b=!0,hc.Kb="cljs.core/t_cljs$core19772",hc.kc=function(a){return Jd(a,"cljs.core/t_cljs$core19772")};
return new hc(X)}var Gh={},Hh={};function Ih(a){this.qe=Gh;this._next=a}Ih.prototype.pb=function(){this.qe===Gh?(this.qe=Hh,this._next=E(this._next)):this.qe===this._next&&(this._next=J(this.qe));return null!=this._next};Ih.prototype.next=function(){if(this.pb())return this.qe=this._next,H(this._next);throw Error("No such element");};Ih.prototype.remove=function(){return Error("Unsupported operation")};
function Jh(a,b){for(;;){if(null==E(b))return!0;var c=H(b);c=a.aa?a.aa(c):a.call(null,c);if(q(c))b=J(b);else return!1}}function Kh(a,b){for(;;)if(b=E(b)){var c=H(b);c=a.aa?a.aa(c):a.call(null,c);if(q(c))return c;b=J(b)}else return null}function Lh(a){if(Of(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.aa(a)].join(""));}
function Mh(a){return function(){function b(h,k){return yc(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return yc(a.aa?a.aa(h):a.call(null,h))}function d(){return yc(a.ia?a.ia():a.call(null))}var e=null,f=function(){function h(m,n,r){var u=null;if(2<arguments.length){u=0;for(var w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new De(w,0,null)}return k.call(this,m,n,u)}function k(m,n,r){return yc(Ah(a,m,n,r))}h.na=2;h.qa=function(m){var n=H(m);m=J(m);var r=H(m);m=Fe(m);return k(n,
r,m)};h.da=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var r=Array(arguments.length-2);n<r.length;)r[n]=arguments[n+2],++n;n=new De(r,0,null)}return f.da(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.na=2;e.qa=f.qa;e.ia=d;e.aa=c;e.j=b;e.da=f.da;return e}()}
function Nh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.na=0;b.qa=function(c){E(c);return a};b.da=function(){return a};return b}()}
var Oh=function Oh(a){switch(arguments.length){case 0:return Oh.ia();case 1:return Oh.aa(arguments[0]);case 2:return Oh.j(arguments[0],arguments[1]);case 3:return Oh.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Oh.da(arguments[0],arguments[1],arguments[2],c)}};Oh.ia=function(){return wg};Oh.aa=function(a){return a};
Oh.j=function(a,b){return function(){function c(m,n,r){m=b.ba?b.ba(m,n,r):b.call(null,m,n,r);return a.aa?a.aa(m):a.call(null,m)}function d(m,n){m=b.j?b.j(m,n):b.call(null,m,n);return a.aa?a.aa(m):a.call(null,m)}function e(m){m=b.aa?b.aa(m):b.call(null,m);return a.aa?a.aa(m):a.call(null,m)}function f(){var m=b.ia?b.ia():b.call(null);return a.aa?a.aa(m):a.call(null,m)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=
arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){r=Bh(b,r,u,w,A);return a.aa?a.aa(r):a.call(null,r)}m.na=3;m.qa=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.da=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<
A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.da(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.na=3;h.qa=k.qa;h.ia=f;h.aa=e;h.j=d;h.ba=c;h.da=k.da;return h}()};
Oh.ba=function(a,b,c){return function(){function d(n,r,u){n=c.ba?c.ba(n,r,u):c.call(null,n,r,u);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}function e(n,r){n=c.j?c.j(n,r):c.call(null,n,r);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}function f(n){n=c.aa?c.aa(n):c.call(null,n);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}function h(){var n=c.ia?c.ia():c.call(null);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}var k=null,
m=function(){function n(u,w,A,G){var I=null;if(3<arguments.length){I=0;for(var F=Array(arguments.length-3);I<F.length;)F[I]=arguments[I+3],++I;I=new De(F,0,null)}return r.call(this,u,w,A,I)}function r(u,w,A,G){u=Bh(c,u,w,A,G);u=b.aa?b.aa(u):b.call(null,u);return a.aa?a.aa(u):a.call(null,u)}n.na=3;n.qa=function(u){var w=H(u);u=J(u);var A=H(u);u=J(u);var G=H(u);u=Fe(u);return r(w,A,G,u)};n.da=r;return n}();k=function(n,r,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,
n);case 2:return e.call(this,n,r);case 3:return d.call(this,n,r,u);default:var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.da(n,r,u,A)}throw Error("Invalid arity: "+arguments.length);};k.na=3;k.qa=m.qa;k.ia=h;k.aa=f;k.j=e;k.ba=d;k.da=m.da;return k}()};
Oh.da=function(a,b,c,d){var e=Vg(hf(a,hf(b,hf(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=yh(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.aa?n.aa(k):n.call(null,k);m=J(m)}else return k}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()};
Oh.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};Oh.na=3;
var Db=function Db(a){switch(arguments.length){case 1:return Db.aa(arguments[0]);case 2:return Db.j(arguments[0],arguments[1]);case 3:return Db.ba(arguments[0],arguments[1],arguments[2]);case 4:return Db.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Db.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};Db.aa=function(a){return a};
Db.j=function(a,b){return function(){function c(m,n,r){return a.ja?a.ja(b,m,n,r):a.call(null,b,m,n,r)}function d(m,n){return a.ba?a.ba(b,m,n):a.call(null,b,m,n)}function e(m){return a.j?a.j(b,m):a.call(null,b,m)}function f(){return a.aa?a.aa(b):a.call(null,b)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return Ch(a,b,r,u,w,
M([A]))}m.na=3;m.qa=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.da=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.da(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.na=
3;h.qa=k.qa;h.ia=f;h.aa=e;h.j=d;h.ba=c;h.da=k.da;return h}()};
Db.ba=function(a,b,c){return function(){function d(n,r,u){return a.za?a.za(b,c,n,r,u):a.call(null,b,c,n,r,u)}function e(n,r){return a.ja?a.ja(b,c,n,r):a.call(null,b,c,n,r)}function f(n){return a.ba?a.ba(b,c,n):a.call(null,b,c,n)}function h(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,w,A,G){var I=null;if(3<arguments.length){I=0;for(var F=Array(arguments.length-3);I<F.length;)F[I]=arguments[I+3],++I;I=new De(F,0,null)}return r.call(this,u,w,A,I)}function r(u,w,A,G){return Ch(a,
b,c,u,w,M([A,G]))}n.na=3;n.qa=function(u){var w=H(u);u=J(u);var A=H(u);u=J(u);var G=H(u);u=Fe(u);return r(w,A,G,u)};n.da=r;return n}();k=function(n,r,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,r);case 3:return d.call(this,n,r,u);default:var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.da(n,r,u,A)}throw Error("Invalid arity: "+arguments.length);
};k.na=3;k.qa=m.qa;k.ia=h;k.aa=f;k.j=e;k.ba=d;k.da=m.da;return k}()};
Db.ja=function(a,b,c,d){return function(){function e(r,u,w){return a.nb?a.nb(b,c,d,r,u,w):a.call(null,b,c,d,r,u,w)}function f(r,u){return a.za?a.za(b,c,d,r,u):a.call(null,b,c,d,r,u)}function h(r){return a.ja?a.ja(b,c,d,r):a.call(null,b,c,d,r)}function k(){return a.ba?a.ba(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function r(w,A,G,I){var F=null;if(3<arguments.length){F=0;for(var N=Array(arguments.length-3);F<N.length;)N[F]=arguments[F+3],++F;F=new De(N,0,null)}return u.call(this,w,A,G,F)}function u(w,
A,G,I){return Ch(a,b,c,d,w,M([A,G,I]))}r.na=3;r.qa=function(w){var A=H(w);w=J(w);var G=H(w);w=J(w);var I=H(w);w=Fe(w);return u(A,G,I,w)};r.da=u;return r}();m=function(r,u,w,A){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,r);case 2:return f.call(this,r,u);case 3:return e.call(this,r,u,w);default:var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.da(r,u,w,G)}throw Error("Invalid arity: "+
arguments.length);};m.na=3;m.qa=n.qa;m.ia=k;m.aa=h;m.j=f;m.ba=e;m.da=n.da;return m}()};Db.da=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return Bh(a,b,c,d,W.j(e,k))}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()};
Db.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};Db.na=4;
function Qh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.ba?a.ba(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.j?a.j(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.aa?a.aa(k):a.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){return Bh(a,null==n?b:n,r,u,w)}k.na=3;k.qa=
function(n){var r=H(n);n=J(n);var u=H(n);n=J(n);var w=H(n);n=Fe(n);return m(r,u,w,n)};k.da=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.da(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.na=3;f.qa=h.qa;f.aa=e;f.j=d;f.ba=c;f.da=h.da;return f}()}
function Sh(a,b){return new ch(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=gh(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.aa?a.aa(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return ih(kh(f),Sh(a,be(c)))}e=function(){var m=H(c);return a.aa?a.aa(m):a.call(null,m)}();return null==e?Sh(a,Fe(c)):hf(e,Sh(a,Fe(c)))}return null},null,null)}function Th(a,b,c){this.state=a;this.meta=b;this.validator=c;this.oe=null;this.la=16386;this.ga=6455296}g=Th.prototype;
g.equiv=function(a){return this.oa(null,a)};g.oa=function(a,b){return this===b};g.Ib=function(){return this.state};g.ra=function(){return this.meta};g.R=function(a,b){for(var c=E(this.oe),d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f),k=P(h,0,null);h=P(h,1,null);h.ja?h.ja(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=E(c))If(c)?(d=ae(c),c=be(c),k=d,e=K(d),d=k):(d=H(c),k=P(d,0,null),h=P(d,1,null),h.ja?h.ja(k,this,a,b):h.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
g.Dg=function(a,b,c){this.oe=Q.ba(this.oe,b,c);return this};g.Eg=function(a,b){return this.oe=R.j(this.oe,b)};g.wa=function(){return ya(this)};function Uh(a){return new Th(a,null,null)}function Vh(a,b){if(a instanceof Th){var c=a.validator;if(null!=c&&!q(c.aa?c.aa(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.oe&&a.R(c,b);return b}return ee(a,b)}
var Wh=function Wh(a){switch(arguments.length){case 2:return Wh.j(arguments[0],arguments[1]);case 3:return Wh.ba(arguments[0],arguments[1],arguments[2]);case 4:return Wh.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Wh.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Wh.j=function(a,b){if(a instanceof Th){var c=a.state;b=b.aa?b.aa(c):b.call(null,c);a=Vh(a,b)}else a=fe(a,b);return a};Wh.ba=function(a,b,c){if(a instanceof Th){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=Vh(a,b)}else a=fe(a,b,c);return a};Wh.ja=function(a,b,c,d){if(a instanceof Th){var e=a.state;b=b.ba?b.ba(e,c,d):b.call(null,e,c,d);a=Vh(a,b)}else a=fe(a,b,c,d);return a};Wh.da=function(a,b,c,d,e){return a instanceof Th?Vh(a,Bh(b,a.state,c,d,e)):fe(a,b,c,d,e)};
Wh.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};Wh.na=4;function Xh(a){return D.j(a.Ib(null),!1)?(Vh(a,!0),!0):!1}function Yh(a){this.state=a;this.ga=32768;this.la=0}Yh.prototype.Xc=function(a,b){return this.state=b};Yh.prototype.Ib=function(){return this.state};function Zh(a){return new Yh(a)}
function $h(){var a=ai,b=bi;return function(){function c(k,m,n){var r=a.aa?a.aa(k):a.call(null,k);if(q(r))return r;r=a.aa?a.aa(m):a.call(null,m);if(q(r))return r;r=a.aa?a.aa(n):a.call(null,n);if(q(r))return r;k=b.aa?b.aa(k):b.call(null,k);if(q(k))return k;m=b.aa?b.aa(m):b.call(null,m);return q(m)?m:b.aa?b.aa(n):b.call(null,n)}function d(k,m){var n=a.aa?a.aa(k):a.call(null,k);if(q(n))return n;n=a.aa?a.aa(m):a.call(null,m);if(q(n))return n;k=b.aa?b.aa(k):b.call(null,k);return q(k)?k:b.aa?b.aa(m):b.call(null,
m)}function e(k){var m=a.aa?a.aa(k):a.call(null,k);return q(m)?m:b.aa?b.aa(k):b.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){n=f.ba(n,r,u);return q(n)?n:Kh(function(A){var G=a.aa?a.aa(A):a.call(null,A);return q(G)?G:b.aa?b.aa(A):b.call(null,A)},w)}k.na=3;k.qa=function(n){var r=H(n);n=J(n);var u=H(n);n=J(n);var w=
H(n);n=Fe(n);return m(r,u,w,n)};k.da=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.da(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.na=3;f.qa=h.qa;f.ia=function(){return null};f.aa=e;f.j=d;f.ba=c;f.da=h.da;return f}()}
var ci=function ci(a){switch(arguments.length){case 1:return ci.aa(arguments[0]);case 2:return ci.j(arguments[0],arguments[1]);case 3:return ci.ba(arguments[0],arguments[1],arguments[2]);case 4:return ci.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return ci.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ci.aa=function(a){return function(b){return function(){function c(k,m){m=a.aa?a.aa(m):a.call(null,m);return b.j?b.j(k,m):b.call(null,k,m)}function d(k){return b.aa?b.aa(k):b.call(null,k)}function e(){return b.ia?b.ia():b.call(null)}var f=null,h=function(){function k(n,r,u){var w=null;if(2<arguments.length){w=0;for(var A=Array(arguments.length-2);w<A.length;)A[w]=arguments[w+2],++w;w=new De(A,0,null)}return m.call(this,n,r,w)}function m(n,r,u){r=zh(a,r,u);return b.j?b.j(n,r):b.call(null,n,r)}k.na=
2;k.qa=function(n){var r=H(n);n=J(n);var u=H(n);n=Fe(n);return m(r,u,n)};k.da=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new De(u,0,null)}return h.da(k,m,r)}throw Error("Invalid arity: "+arguments.length);};f.na=2;f.qa=h.qa;f.ia=e;f.aa=d;f.j=c;f.da=h.da;return f}()}};
ci.j=function(a,b){return new ch(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=gh(e),h=0;;)if(h<e)jh(f,function(){var k=x(d,h);return a.aa?a.aa(k):a.call(null,k)}()),h+=1;else break;return ih(kh(f),ci.j(a,be(c)))}return hf(function(){var k=H(c);return a.aa?a.aa(k):a.call(null,k)}(),ci.j(a,Fe(c)))}return null},null,null)};
ci.ba=function(a,b,c){return new ch(null,function(){var d=E(b),e=E(c);if(d&&e){var f=H(d);var h=H(e);f=a.j?a.j(f,h):a.call(null,f,h);d=hf(f,ci.ba(a,Fe(d),Fe(e)))}else d=null;return d},null,null)};ci.ja=function(a,b,c,d){return new ch(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.ba?a.ba(k,m,n):a.call(null,k,m,n);e=hf(k,ci.ja(a,Fe(e),Fe(f),Fe(h)))}else e=null;return e},null,null)};
ci.da=function(a,b,c,d,e){return ci.j(function(f){return yh(a,f)},function k(h){return new ch(null,function(){var m=ci.j(E,h);return Jh(wg,m)?hf(ci.j(H,m),k(ci.j(Fe,m))):null},null,null)}(pf.da(e,d,M([c,b]))))};ci.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};ci.na=4;
var di=function di(a){switch(arguments.length){case 1:return di.aa(arguments[0]);case 2:return di.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};
di.aa=function(a){return function(b){var c=Zh(a);return function(){function d(k,m){var n=y(c),r=c.Xc(null,c.Ib(null)-1);k=0<n?b.j?b.j(k,m):b.call(null,k,m):k;return 0<r?k:Re(k)?k:Qe(k)}function e(k){return b.aa?b.aa(k):b.call(null,k)}function f(){return b.ia?b.ia():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.ia=f;h.aa=e;h.j=d;return h}()}};
di.j=function(a,b){return new ch(null,function(){if(0<a){var c=E(b);return c?hf(H(c),di.j(a-1,Fe(c))):null}return null},null,null)};di.na=2;function ei(a,b){return new ch(null,function(){a:for(var c=a,d=b;;)if(d=E(d),0<c&&d)--c,d=Fe(d);else break a;return d},null,null)}function fi(a,b){return ci.ba(function(c){return c},b,ei(a,b))}
function gi(a,b){return new ch(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=H(d),e=c.aa?c.aa(e):c.call(null,e);if(q(e))d=Fe(d);else break a}return d},null,null)}function hi(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.fa=null;this.ga=32374988;this.la=1}g=hi.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return null==this.next?1<this.count?this.next=new hi(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.cf=function(){return!1};g.hb=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(Re(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};
g.ib=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(Re(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};g.jb=function(){return this.val};g.sb=function(){return null==this.next?1<this.count?this.next=new hi(null,this.count-1,this.val,null):-1===this.count?this:Ge:this.next};g.ua=function(){return this};
g.sa=function(a,b){return b===this.meta?this:new hi(b,this.count,this.val,this.next)};g.xa=function(a,b){return hf(b,this)};function ii(a){return new hi(null,-1,a,null)}function ji(a,b){return 0<a?new hi(null,a,b,null):Ge}function ki(a){return new ch(null,function(){return hf(a.ia?a.ia():a.call(null),ki(a))},null,null)}function li(a,b){return di.j(a,ki(b))}
var mi=function mi(a){switch(arguments.length){case 0:return mi.ia();case 1:return mi.aa(arguments[0]);case 2:return mi.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return mi.da(arguments[0],arguments[1],c)}};mi.ia=function(){return Ge};mi.aa=function(a){return new ch(null,function(){return a},null,null)};
mi.j=function(a,b){return new ch(null,function(){var c=E(a),d=E(b);return c&&d?hf(H(c),hf(H(d),mi.j(Fe(c),Fe(d)))):null},null,null)};mi.da=function(a,b,c){return new ch(null,function(){var d=ci.j(E,pf.da(c,b,M([a])));return Jh(wg,d)?W.j(ci.j(H,d),yh(mi,ci.j(Fe,d))):null},null,null)};mi.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};mi.na=2;
function ni(){return function(a){var b=Zh(!1);return function(){function c(h,k){if(q(y(b)))return h=a.j?a.j(h," "):a.call(null,h," "),Re(h)?h:a.j?a.j(h,k):a.call(null,h,k);he(b,!0);return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return a.aa?a.aa(h):a.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};
f.ia=e;f.aa=d;f.j=c;return f}()}}function oi(a,b){return yh(W,zh(ci,a,b))}
function pi(a){return function(b){return function(){function c(h,k){return q(a.aa?a.aa(k):a.call(null,k))?b.j?b.j(h,k):b.call(null,h,k):h}function d(h){return b.aa?b.aa(h):b.call(null,h)}function e(){return b.ia?b.ia():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}}
function qi(a,b){return new ch(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=gh(e),h=0;;)if(h<e){var k=x(d,h);k=a.aa?a.aa(k):a.call(null,k);q(k)&&(k=x(d,h),f.add(k));h+=1}else break;return ih(kh(f),qi(a,be(c)))}d=H(c);c=Fe(c);return q(a.aa?a.aa(d):a.call(null,d))?hf(d,qi(a,c)):qi(a,c)}return null},null,null)}function ri(a,b){return qi(Mh(a),b)}
var si=function si(a){switch(arguments.length){case 0:return si.ia();case 1:return si.aa(arguments[0]);case 2:return si.j(arguments[0],arguments[1]);case 3:return si.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};si.ia=function(){return qf};si.aa=function(a){return a};si.j=function(a,b){return null!=a?null!=a&&(a.la&4||l===a.yg)?rd(Vd(v.ba(Ud,Td(a),b)),yf(a)):v.ba(Rc,a,b):v.ba(pf,a,b)};
si.ba=function(a,b,c){return null!=a&&(a.la&4||l===a.yg)?rd(Vd(zg(b,qh,Td(a),c)),yf(a)):zg(b,pf,a,c)};si.na=3;
var ti=function ti(a){switch(arguments.length){case 2:return ti.j(arguments[0],arguments[1]);case 3:return ti.ba(arguments[0],arguments[1],arguments[2]);case 4:return ti.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return ti.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ti.j=function(a,b){return Vd(v.ba(function(c,d){return qh.j(c,a.aa?a.aa(d):a.call(null,d))},Td(qf),b))};ti.ba=function(a,b,c){return si.j(qf,ci.ba(a,b,c))};ti.ja=function(a,b,c,d){return si.j(qf,ci.ja(a,b,c,d))};ti.da=function(a,b,c,d,e){return si.j(qf,Ch(ci,a,b,c,d,M([e])))};ti.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};ti.na=4;
function ui(a,b){return Vd(v.ba(function(c,d){return q(a.aa?a.aa(d):a.call(null,d))?qh.j(c,d):c},Td(qf),b))}function vi(a,b,c){return new ch(null,function(){var d=E(c);if(d){var e=di.j(a,d);return a===K(e)?hf(e,vi(a,b,ei(b,d))):null}return null},null,null)}function wi(a,b){return v.ba(B,a,b)}function xi(a,b,c){var d=Kf;for(b=E(b);;)if(null!=b){a=B.ba(a,H(b),d);if(d===a)return c;b=J(b)}else return a}
var yi=function yi(a,b,c){b=E(b);var e=H(b),f=J(b);return f?Q.ba(a,e,function(){var h=B.j(a,e);return yi.ba?yi.ba(h,f,c):yi.call(null,h,f,c)}()):Q.ba(a,e,c)},zi=function zi(a){switch(arguments.length){case 3:return zi.ba(arguments[0],arguments[1],arguments[2]);case 4:return zi.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return zi.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return zi.nb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return zi.da(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};zi.ba=function(a,b,c){b=E(b);var d=H(b);return(b=J(b))?Q.ba(a,d,zi.ba(B.j(a,d),b,c)):Q.ba(a,d,function(){var e=B.j(a,d);return c.aa?c.aa(e):c.call(null,e)}())};
zi.ja=function(a,b,c,d){b=E(b);var e=H(b);return(b=J(b))?Q.ba(a,e,zi.ja(B.j(a,e),b,c,d)):Q.ba(a,e,function(){var f=B.j(a,e);return c.j?c.j(f,d):c.call(null,f,d)}())};zi.za=function(a,b,c,d,e){b=E(b);var f=H(b);return(b=J(b))?Q.ba(a,f,zi.za(B.j(a,f),b,c,d,e)):Q.ba(a,f,function(){var h=B.j(a,f);return c.ba?c.ba(h,d,e):c.call(null,h,d,e)}())};
zi.nb=function(a,b,c,d,e,f){b=E(b);var h=H(b);return(b=J(b))?Q.ba(a,h,zi.nb(B.j(a,h),b,c,d,e,f)):Q.ba(a,h,function(){var k=B.j(a,h);return c.ja?c.ja(k,d,e,f):c.call(null,k,d,e,f)}())};zi.da=function(a,b,c,d,e,f,h){var k=E(b);b=H(k);return(k=J(k))?Q.ba(a,b,Ch(zi,B.j(a,b),k,c,d,M([e,f,h]))):Q.ba(a,b,Ch(c,B.j(a,b),d,e,f,M([h])))};zi.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.da(b,a,c,d,e,f,h)};zi.na=6;
var Ai=function Ai(a){switch(arguments.length){case 3:return Ai.ba(arguments[0],arguments[1],arguments[2]);case 4:return Ai.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ai.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Ai.nb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return Ai.da(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Ai.ba=function(a,b,c){return Q.ba(a,b,function(){var d=B.j(a,b);return c.aa?c.aa(d):c.call(null,d)}())};Ai.ja=function(a,b,c,d){return Q.ba(a,b,function(){var e=B.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};Ai.za=function(a,b,c,d,e){return Q.ba(a,b,function(){var f=B.j(a,b);return c.ba?c.ba(f,d,e):c.call(null,f,d,e)}())};
Ai.nb=function(a,b,c,d,e,f){return Q.ba(a,b,function(){var h=B.j(a,b);return c.ja?c.ja(h,d,e,f):c.call(null,h,d,e,f)}())};Ai.da=function(a,b,c,d,e,f,h){return Q.ba(a,b,Ch(c,B.j(a,b),d,e,f,M([h])))};Ai.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.da(b,a,c,d,e,f,h)};Ai.na=6;function Bi(a,b){this.ab=a;this.ha=b}
function Ci(a){return new Bi(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Di(a){return new Bi(a.ab,Hc(a.ha))}function Ei(a){a=a.ma;return 32>a?0:a-1>>>5<<5}function Fi(a,b,c){for(;;){if(0===b)return c;var d=Ci(a);d.ha[0]=c;c=d;b-=5}}
var Gi=function Gi(a,b,c,d){var f=Di(c),h=a.ma-1>>>b&31;5===b?f.ha[h]=d:(c=c.ha[h],null!=c?(b-=5,a=Gi.ja?Gi.ja(a,b,c,d):Gi.call(null,a,b,c,d)):a=Fi(null,b-5,d),f.ha[h]=a);return f};function Hi(a,b){throw Error(["No item ",t.aa(a)," in vector of length ",t.aa(b)].join(""));}function Ii(a,b){if(b>=Ei(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.ha[b>>>a&31];a=d}else return c.ha}function Ji(a,b){return 0<=b&&b<a.ma?Ii(a,b):Hi(b,a.ma)}
var Ki=function Ki(a,b,c,d,e){var h=Di(c);if(0===b)h.ha[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.ha[k];a=Ki.za?Ki.za(a,b,c,d,e):Ki.call(null,a,b,c,d,e);h.ha[k]=a}return h},Li=function Li(a,b,c){var e=a.ma-2>>>b&31;if(5<b){b-=5;var f=c.ha[e];a=Li.ba?Li.ba(a,b,f):Li.call(null,a,b,f);if(null==a&&0===e)return null;c=Di(c);c.ha[e]=a;return c}if(0===e)return null;c=Di(c);c.ha[e]=null;return c};function Mi(a,b,c,d,e,f){this.i=a;this.base=b;this.ha=c;this.v=d;this.start=e;this.end=f}
Mi.prototype.pb=function(){return this.i<this.end};Mi.prototype.next=function(){32===this.i-this.base&&(this.ha=Ii(this.v,this.i),this.base+=32);var a=this.ha[this.i&31];this.i+=1;return a};function Ni(a,b,c){return new Mi(b,b-b%32,b<K(a)?Ii(a,b):null,a,b,c)}function Oi(a,b,c,d){return c<d?Pi(a,b,bf(a,c),c+1,d):b.ia?b.ia():b.call(null)}
function Pi(a,b,c,d,e){var f=c;c=d;for(d=Ii(a,d);;)if(c<e){var h=c&31;d=0===h?Ii(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Re(f))return y(f);c+=1}else return f}function S(a,b,c,d,e,f){this.meta=a;this.ma=b;this.shift=c;this.root=d;this.tail=e;this.fa=f;this.ga=167666463;this.la=139268}g=S.prototype;g.rd=function(a,b){return 0<=b&&b<this.ma?new Y(b,Ii(this,b)[b&31]):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return"number"===typeof b?this.gb(null,b,c):c};
g.Ia=function(a,b,c){a=0;for(var d=c;;)if(a<this.ma){var e=Ii(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.ba?b.ba(d,h,k):b.call(null,d,h,k);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.Df=l;g.La=function(a,b){return Ji(this,b)[b&31]};g.gb=function(a,b,c){return 0<=b&&b<this.ma?Ii(this,b)[b&31]:c};
g.Wc=function(a,b,c){if(0<=b&&b<this.ma)return Ei(this)<=b?(a=Hc(this.tail),a[b&31]=c,new S(this.meta,this.ma,this.shift,this.root,a,null)):new S(this.meta,this.ma,this.shift,Ki(this,this.shift,this.root,b,c),this.tail,null);if(b===this.ma)return this.xa(null,c);throw Error(["Index ",t.aa(b)," out of bounds  [0,",t.aa(this.ma),"]"].join(""));};g.Ba=function(){return Ni(this,0,this.ma)};g.ra=function(){return this.meta};g.va=function(){return this.ma};
g.sd=function(){return 0<this.ma?this.La(null,this.ma-1):null};g.td=function(){if(0===this.ma)throw Error("Can't pop empty vector");if(1===this.ma)return rd(qf,this.meta);if(1<this.ma-Ei(this))return new S(this.meta,this.ma-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Ii(this,this.ma-2),b=Li(this,this.shift,this.root);b=null==b?T:b;var c=this.ma-1;return 5<this.shift&&null==b.ha[1]?new S(this.meta,c,this.shift-5,b.ha[0],a,null):new S(this.meta,c,this.shift,b,a,null)};
g.Jc=function(){return 0<this.ma?new ff(this,this.ma-1,null):null};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){if(b instanceof S)if(this.ma===K(b))for(a=this.Ba(null),b=b.Ba(null);;)if(a.pb()){var c=a.next(),d=b.next();if(!D.j(c,d))return!1}else return!0;else return!1;else return gf(this,b)};g.Jd=function(){return new Qi(this.ma,this.shift,Ri.aa?Ri.aa(this.root):Ri.call(null,this.root),Si.aa?Si.aa(this.tail):Si.call(null,this.tail))};
g.Ya=function(){return rd(qf,this.meta)};g.hb=function(a,b){return Oi(this,b,0,this.ma)};g.ib=function(a,b,c){a=0;for(var d=c;;)if(a<this.ma){var e=Ii(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.pa=function(a,b,c){if("number"===typeof b)return this.Wc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ua=function(){if(0===this.ma)return null;if(32>=this.ma)return new De(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.ha[0];else{a=a.ha;break a}}return Ti?Ti(this,a,0,0):Ui.call(null,this,a,0,0)};g.sa=function(a,b){return b===this.meta?this:new S(b,this.ma,this.shift,this.root,this.tail,this.fa)};
g.xa=function(a,b){if(32>this.ma-Ei(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new S(this.meta,this.ma+1,this.shift,this.root,c,null)}a=(c=this.ma>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Ci(null),c.ha[0]=this.root,d=Fi(null,this.shift,new Bi(null,this.tail)),c.ha[1]=d):c=Gi(this,this.shift,this.root,new Bi(null,this.tail));return new S(this.meta,this.ma+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};
var T=new Bi(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),qf=new S(null,0,5,T,[],Le);function Vi(a,b){var c=a.length;a=b?a:Hc(a);if(32>c)return new S(null,c,5,T,a,null);var d=a.slice(0,32);b=32;for(var e=(new S(null,32,5,T,d,null)).Jd(null);;)if(b<c)d=b+1,e=qh.j(e,a[b]),b=d;else return Vd(e)}S.prototype[Ec]=function(){return Ie(this)};
function sg(a){return q(Wi.aa?Wi.aa(a):Wi.call(null,a))?new S(null,2,5,T,[Xi.aa?Xi.aa(a):Xi.call(null,a),Yi.aa?Yi.aa(a):Yi.call(null,a)],null):Hf(a)?xf(a,null):wc(a)?Vi(a,!0):Vd(v.ba(Ud,Td(qf),a))}var Zi=function Zi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Zi.da(c)};Zi.da=function(a){return a instanceof De&&0===a.i?Vi(a.ha,!wc(a.ha)):sg(a)};Zi.na=0;Zi.qa=function(a){return this.da(E(a))};
function $i(a,b,c,d,e){this.Ac=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.fa=null;this.ga=32375020;this.la=1536}g=$i.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){if(this.off+1<this.node.length){var a=this.Ac;var b=this.node,c=this.i,d=this.off+1;a=Ti?Ti(a,b,c,d):Ui.call(null,a,b,c,d);return null==a?null:a}return this.ve()};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return Oi(this.Ac,b,this.i+this.off,K(this.Ac))};g.ib=function(a,b,c){return Pi(this.Ac,b,c,this.i+this.off,K(this.Ac))};g.jb=function(){return this.node[this.off]};g.sb=function(){if(this.off+1<this.node.length){var a=this.Ac;var b=this.node,c=this.i,d=this.off+1;a=Ti?Ti(a,b,c,d):Ui.call(null,a,b,c,d);return null==a?Ge:a}return this.Rd(null)};
g.ua=function(){return this};g.we=function(){var a=this.node;return new fh(a,this.off,a.length)};g.Rd=function(){var a=this.i+this.node.length;if(a<Nc(this.Ac)){var b=this.Ac,c=Ii(this.Ac,a);return Ti?Ti(b,c,a,0):Ui.call(null,b,c,a,0)}return Ge};g.sa=function(a,b){return b===this.meta?this:aj?aj(this.Ac,this.node,this.i,this.off,b):Ui.call(null,this.Ac,this.node,this.i,this.off,b)};g.xa=function(a,b){return hf(b,this)};
g.ve=function(){var a=this.i+this.node.length;if(a<Nc(this.Ac)){var b=this.Ac,c=Ii(this.Ac,a);return Ti?Ti(b,c,a,0):Ui.call(null,b,c,a,0)}return null};$i.prototype[Ec]=function(){return Ie(this)};
function Ui(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new $i(b,Ji(b,c),c,d,null);case 4:return Ti(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return aj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function Ti(a,b,c,d){return new $i(a,b,c,d,null)}function aj(a,b,c,d,e){return new $i(a,b,c,d,e)}
function bj(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.fa=e;this.ga=167666463;this.la=139264}g=bj.prototype;g.rd=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,ad(this.v,a)):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return"number"===typeof b?this.gb(null,b,c):c};
g.Ia=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.ba?b.ba(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=1;a+=1}else return c};g.La=function(a,b){return 0>b||this.end<=this.start+b?Hi(b,this.end-this.start):x(this.v,this.start+b)};g.gb=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Wc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.aa(b)," out of bounds [0,",t.aa(this.va(null)),"]"].join(""));b=this.meta;c=Q.ba(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return cj.za?cj.za(b,c,d,a,null):cj.call(null,b,c,d,a,null)};g.Ba=function(){return null!=this.v&&l===this.v.Df?Ni(this.v,this.start,this.end):new Ih(this)};g.ra=function(){return this.meta};g.va=function(){return this.end-this.start};
g.sd=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.td=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return cj.za?cj.za(a,b,c,d,null):cj.call(null,a,b,c,d,null)};g.Jc=function(){return this.start!==this.end?new ff(this,this.end-this.start-1,null):null};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(qf,this.meta)};
g.hb=function(a,b){return null!=this.v&&l===this.v.Df?Oi(this.v,b,this.start,this.end):Ue(this,b)};g.ib=function(a,b,c){return null!=this.v&&l===this.v.Df?Pi(this.v,b,c,this.start,this.end):Ve(this,b,c)};g.pa=function(a,b,c){if("number"===typeof b)return this.Wc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ua=function(){var a=this;return function d(c){return c===a.end?null:hf(x(a.v,c),new ch(null,function(){return d(c+1)},null,null))}(a.start)};
g.sa=function(a,b){return b===this.meta?this:cj.za?cj.za(b,this.v,this.start,this.end,this.fa):cj.call(null,b,this.v,this.start,this.end,this.fa)};g.xa=function(a,b){a=this.meta;b=nd(this.v,this.end,b);var c=this.start,d=this.end+1;return cj.za?cj.za(a,b,c,d,null):cj.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};bj.prototype[Ec]=function(){return Ie(this)};function cj(a,b,c,d,e){for(;;)if(b instanceof bj)c=b.start+c,d=b.start+d,b=b.v;else{if(!Hf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new bj(a,b,c,d,e)}}function dj(a,b,c){return cj(null,a,b|0,c|0,null)}
function ej(a,b){return a===b.ab?b:new Bi(a,Hc(b.ha))}function Ri(a){return new Bi({},Hc(a.ha))}function Si(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Jf(a,0,b,0,a.length);return b}var fj=function fj(a,b,c,d){c=ej(a.root.ab,c);var f=a.ma-1>>>b&31;if(5===b)a=d;else{var h=c.ha[f];null!=h?(b-=5,a=fj.ja?fj.ja(a,b,h,d):fj.call(null,a,b,h,d)):a=Fi(a.root.ab,b-5,d)}c.ha[f]=a;return c};
function Qi(a,b,c,d){this.ma=a;this.shift=b;this.root=c;this.tail=d;this.la=88;this.ga=275}g=Qi.prototype;
g.Kd=function(a,b){if(this.root.ab){if(32>this.ma-Ei(this))this.tail[this.ma&31]=b;else{a=new Bi(this.root.ab,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.ma>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=Fi(this.root.ab,this.shift,a),this.root=new Bi(this.root.ab,b),this.shift=c):this.root=fj(this,this.shift,this.root,a)}this.ma+=1;return this}throw Error("conj! after persistent!");};g.Sd=function(){if(this.root.ab){this.root.ab=null;var a=this.ma-Ei(this),b=Array(a);Jf(this.tail,0,b,0,a);return new S(null,this.ma,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.ee=function(a,b,c){if("number"===typeof b)return gj(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function gj(a,b,c){if(a.root.ab){if(0<=b&&b<a.ma){if(Ei(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=ej(a.root.ab,h);if(0===f)h.ha[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.ha[m]);h.ha[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.ma)return a.Kd(null,c);throw Error(["Index ",t.aa(b)," out of bounds for TransientVector of length",t.aa(a.ma)].join(""));}throw Error("assoc! after persistent!");}g.va=function(){if(this.root.ab)return this.ma;throw Error("count after persistent!");};
g.La=function(a,b){if(this.root.ab)return Ji(this,b)[b&31];throw Error("nth after persistent!");};g.gb=function(a,b,c){return 0<=b&&b<this.ma?this.La(null,b):c};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){if(this.root.ab)return"number"===typeof b?this.gb(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};function hj(a,b){this.ge=a;this.Ve=b}hj.prototype.pb=function(){var a=null!=this.ge&&E(this.ge);return a?a:null!=this.Ve?this.Ve.pb():!1};
hj.prototype.next=function(){if(null!=this.ge){var a=H(this.ge);this.ge=J(this.ge);return a}if(null!=this.Ve&&this.Ve.pb())return this.Ve.next();throw Error("No such element");};hj.prototype.remove=function(){return Error("Unsupported operation")};function ij(a,b,c,d){this.meta=a;this.lc=b;this.zc=c;this.fa=d;this.ga=31850700;this.la=0}g=ij.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){var a=J(this.lc);return a?new ij(this.meta,a,this.zc,null):null!=this.zc?new ij(this.meta,this.zc,null,null):null};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(Ge,this.meta)};g.jb=function(){return H(this.lc)};g.sb=function(){var a=J(this.lc);return a?new ij(this.meta,a,this.zc,null):null==this.zc?this.Ya(null):new ij(this.meta,this.zc,null,null)};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new ij(b,this.lc,this.zc,this.fa)};g.xa=function(a,b){return hf(b,this)};ij.prototype[Ec]=function(){return Ie(this)};
function jj(a,b,c,d,e){this.meta=a;this.count=b;this.lc=c;this.zc=d;this.fa=e;this.la=139264;this.ga=31858766}g=jj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count.aa?this.count.aa(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.Ba=function(){return new hj(this.lc,je(this.zc))};g.ra=function(){return this.meta};g.va=function(){return this.count};g.sd=function(){return H(this.lc)};
g.td=function(){if(q(this.lc)){var a=J(this.lc);return a?new jj(this.meta,this.count-1,a,this.zc,null):new jj(this.meta,this.count-1,E(this.zc),qf,null)}return this};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(kj,this.meta)};g.jb=function(){return H(this.lc)};g.sb=function(){return Fe(E(this))};g.ua=function(){var a=E(this.zc),b=this.lc;return q(q(b)?b:a)?new ij(null,this.lc,E(a),null):null};
g.sa=function(a,b){return b===this.meta?this:new jj(b,this.count,this.lc,this.zc,this.fa)};g.xa=function(a,b){q(this.lc)?(a=this.zc,b=new jj(this.meta,this.count+1,this.lc,pf.j(q(a)?a:qf,b),null)):b=new jj(this.meta,this.count+1,pf.j(this.lc,b),qf,null);return b};var kj=new jj(null,0,null,qf,Le);jj.prototype[Ec]=function(){return Ie(this)};function lj(){this.ga=2097152;this.la=0}lj.prototype.equiv=function(a){return this.oa(null,a)};lj.prototype.oa=function(){return!1};var mj=new lj;
function qj(a,b){return Mf(Ff(b)&&!Gf(b)?K(a)===K(b)?(null!=a?a.ga&1048576||l===a.Oi||(a.ga?0:Ac(vd,a)):Ac(vd,a))?vg(function(c,d,e){return D.j(B.ba(b,d,mj),e)?!0:Qe(!1)},!0,a):Jh(function(c){return D.j(B.ba(b,H(c),mj),mf(c))},a):null:null)}function rj(a,b,c,d){this.i=0;this.Bi=a;this.rg=b;this.fields=c;this.Ng=d}rj.prototype.pb=function(){var a=this.i<this.rg;return a?a:this.Ng.pb()};
rj.prototype.next=function(){if(this.i<this.rg){var a=bf(this.fields,this.i);this.i+=1;return new Y(a,ad(this.Bi,a))}return this.Ng.next()};rj.prototype.remove=function(){return Error("Unsupported operation")};function sj(a){this.s=a}sj.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=P(a,0,null);a=P(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function tj(a){this.s=a}
tj.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function uj(a,b){if(b instanceof C)a:{var c=a.length;b=b.Aa;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].Aa){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof z)a:for(c=a.length,b=b.od,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof z&&b===a[d].od){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(D.j(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b){this.key=a;this.val=b;this.fa=null;this.ga=166619935;this.la=0}g=Y.prototype;g.rd=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ya=function(a,b){return this.gb(null,b,null)};g.ka=function(a,b,c){return this.gb(null,b,c)};g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.gb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Wc=function(a,b,c){return(new S(null,2,5,T,[this.key,this.val],null)).Wc(null,b,c)};g.ra=function(){return null};g.va=function(){return 2};g.Ff=function(){return this.key};g.Gf=function(){return this.val};g.sd=function(){return this.val};g.td=function(){return new S(null,1,5,T,[this.key],null)};g.Jc=function(){return new De([this.val,this.key],0,null)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return null};g.hb=function(a,b){return Ue(this,b)};g.ib=function(a,b,c){return Ve(this,b,c)};g.pa=function(a,b,c){return Q.ba(new S(null,2,5,T,[this.key,this.val],null),b,c)};g.ua=function(){return new De([this.key,this.val],0,null)};g.sa=function(a,b){return xf(new S(null,2,5,T,[this.key,this.val],null),b)};g.xa=function(a,b){return new S(null,3,5,T,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};function Wi(a){return null!=a?a.ga&2048||l===a.Ri?!0:!1:!1}function vj(a,b,c){this.ha=a;this.i=b;this.Gc=c;this.ga=32374990;this.la=0}
g=vj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.Gc};g.bb=function(){return this.i<this.ha.length-2?new vj(this.ha,this.i+2,null):null};g.va=function(){return(this.ha.length-this.i)/2};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return new Y(this.ha[this.i],this.ha[this.i+1])};g.sb=function(){return this.i<this.ha.length-2?new vj(this.ha,this.i+2,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.Gc?this:new vj(this.ha,this.i,b)};g.xa=function(a,b){return hf(b,this)};vj.prototype[Ec]=function(){return Ie(this)};
function wj(a,b){this.ha=a;this.i=0;this.ma=b}wj.prototype.pb=function(){return this.i<this.ma};wj.prototype.next=function(){var a=new Y(this.ha[this.i],this.ha[this.i+1]);this.i+=2;return a};function p(a,b,c,d){this.meta=a;this.ma=b;this.ha=c;this.fa=d;this.ga=16647951;this.la=139268}g=p.prototype;g.rd=function(a,b){a=uj(this.ha,b);return-1===a?null:new Y(this.ha[a],this.ha[a+1])};g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.keys=function(){return Ie(xj.aa?xj.aa(this):xj.call(null,this))};g.entries=function(){return new sj(E(E(this)))};g.values=function(){return Ie(yj.aa?yj.aa(this):yj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.ka(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){a=uj(this.ha,b);return-1===a?c:this.ha[a+1]};
g.Ia=function(a,b,c){a=this.ha.length;for(var d=0;;)if(d<a){var e=this.ha[d],f=this.ha[d+1];c=b.ba?b.ba(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=2}else return c};g.Ba=function(){return new wj(this.ha,2*this.ma)};g.ra=function(){return this.meta};g.va=function(){return this.ma};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};
g.oa=function(a,b){if(Ff(b)&&!Gf(b))if(a=this.ha.length,this.ma===b.va(null))for(var c=0;;)if(c<a){var d=b.ka(null,this.ha[c],Kf);if(d!==Kf)if(D.j(this.ha[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Jd=function(){return new zj(this.ha.length,Hc(this.ha))};g.Ya=function(){return rd(X,this.meta)};g.hb=function(a,b){return tg(this,b)};g.ib=function(a,b,c){return ug(this,b,c)};
g.Ka=function(a,b){if(0<=uj(this.ha,b)){a=this.ha.length;var c=a-2;if(0===c)return this.Ya(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new p(this.meta,this.ma-1,c,null);D.j(b,this.ha[d])?d+=2:(c[e]=this.ha[d],c[e+1]=this.ha[d+1],e+=2,d+=2)}}else return this};
g.pa=function(a,b,c){a=uj(this.ha,b);if(-1===a){if(this.ma<Aj){a=this.ha;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new p(this.meta,this.ma+1,e,null)}return rd(cd(si.j(Bj,this),b,c),this.meta)}if(c===this.ha[a+1])return this;b=Hc(this.ha);b[a+1]=c;return new p(this.meta,this.ma,b,null)};g.ua=function(){var a=this.ha;return 0<=a.length-2?new vj(a,0,null):null};g.sa=function(a,b){return b===this.meta?this:new p(b,this.ma,this.ha,this.fa)};
g.xa=function(a,b){if(Hf(b))return this.pa(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var X=new p(null,0,[],Ne),Aj=8;function uf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=uj(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new p(null,b.length/2,b,null)}p.prototype[Ec]=function(){return Ie(this)};function zj(a,b){this.Vd={};this.bd=a;this.ha=b;this.ga=259;this.la=56}g=zj.prototype;
g.va=function(){if(this.Vd)return Ng(this.bd,2);throw Error("count after persistent!");};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){if(this.Vd)return a=uj(this.ha,b),-1===a?c:this.ha[a+1];throw Error("lookup after persistent!");};
g.Kd=function(a,b){if(this.Vd){if(Wi(b))return this.ee(null,Xi.aa?Xi.aa(b):Xi.call(null,b),Yi.aa?Yi.aa(b):Yi.call(null,b));if(Hf(b))return this.ee(null,b.aa?b.aa(0):b.call(null,0),b.aa?b.aa(1):b.call(null,1));a=E(b);for(b=this;;){var c=H(a);if(q(c))a=J(a),b=Wd(b,Xi.aa?Xi.aa(c):Xi.call(null,c),Yi.aa?Yi.aa(c):Yi.call(null,c));else return b}}else throw Error("conj! after persistent!");};
g.Sd=function(){if(this.Vd)return this.Vd=!1,new p(null,Ng(this.bd,2),this.ha,null);throw Error("persistent! called twice");};g.ee=function(a,b,c){if(this.Vd){a=uj(this.ha,b);if(-1===a)return this.bd+2<=2*Aj?(this.bd+=2,this.ha.push(b),this.ha.push(c),this):rh.ba(Cj.j?Cj.j(this.bd,this.ha):Cj.call(null,this.bd,this.ha),b,c);c!==this.ha[a+1]&&(this.ha[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.Jf=function(a,b){if(this.Vd)return a=uj(this.ha,b),0<=a&&(this.ha[a]=this.ha[this.bd-2],this.ha[a+1]=this.ha[this.bd-1],a=this.ha,a.pop(),a.pop(),this.bd-=2),this;throw Error("dissoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ka(null,a,null)};g.j=function(a,b){return this.ka(null,a,b)};function Cj(a,b){for(var c=Td(Bj),d=0;;)if(d<a)c=rh.ba(c,b[d],b[d+1]),d+=2;else return c}function Dj(){this.val=!1}function Ej(a,b){return a===b?!0:V(a,b)?!0:D.j(a,b)}function Fj(a,b,c){a=Hc(a);a[b]=c;return a}function Gj(a,b){var c=Array(a.length-2);Jf(a,0,c,0,2*b);Jf(a,2*(b+1),c,2*b,c.length-2*b);return c}function Hj(a,b,c,d){a=a.yd(b);a.ha[c]=d;return a}
function Ij(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.ba?b.ba(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.$d(b,f):f;if(Re(c))return c;e+=2;f=c}else return f}function Jj(a){this.ha=a;this.i=0;this.dd=this.Te=null}Jj.prototype.advance=function(){for(var a=this.ha.length;;)if(this.i<a){var b=this.ha[this.i],c=this.ha[this.i+1];null!=b?b=this.Te=new Y(b,c):null!=c?(b=je(c),b=b.pb()?this.dd=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
Jj.prototype.pb=function(){var a=null!=this.Te;return a?a:(a=null!=this.dd)?a:this.advance()};Jj.prototype.next=function(){if(null!=this.Te){var a=this.Te;this.Te=null;return a}if(null!=this.dd)return a=this.dd.next(),this.dd.pb()||(this.dd=null),a;if(this.advance())return this.next();throw Error("No such element");};Jj.prototype.remove=function(){return Error("Unsupported operation")};function Kj(a,b,c){this.ab=a;this.bitmap=b;this.ha=c;this.la=131072;this.ga=0}g=Kj.prototype;
g.yd=function(a){if(a===this.ab)return this;var b=Qg(this.bitmap),c=Array(0>b?4:2*(b+1));Jf(this.ha,0,c,0,2*b);return new Kj(a,this.bitmap,c)};g.Re=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=Qg(this.bitmap&f-1),k=this.ha[2*h],m=this.ha[2*h+1];return null==k?(b=m.Re(a,b+5,c,d,e),b===m?this:null!=b?Hj(this,a,2*h+1,b):this.bitmap===f?null:Lj(this,a,f,h)):Ej(d,k)?(e.val=!0,Lj(this,a,f,h)):this};
function Lj(a,b,c,d){if(a.bitmap===c)return null;a=a.yd(b);b=a.ha;var e=b.length;a.bitmap^=c;Jf(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.Pe=function(){return Mj?Mj(this.ha):Nj.call(null,this.ha)};g.$d=function(a,b){return Ij(this.ha,a,b)};g.Zd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Qg(this.bitmap&e-1);e=this.ha[2*f];f=this.ha[2*f+1];return null==e?f.Zd(a+5,b,c,d):Ej(c,e)?f:d};
g.ad=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Qg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=Qg(this.bitmap);if(2*m<this.ha.length){a=this.yd(a);b=a.ha;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Oj.ad(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.ha[e]?Oj.ad(a,b+5,ve(this.ha[e]),this.ha[e],this.ha[e+1],f):this.ha[e+1],e+=2,d+=1);else break;return new Pj(a,m+1,k)}b=Array(2*(m+4));Jf(this.ha,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Jf(this.ha,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.yd(a);a.ha=b;a.bitmap|=h;return a}m=this.ha[2*k];h=this.ha[2*k+1];if(null==m)return m=h.ad(a,b+5,c,d,e,f),m===h?this:Hj(this,a,2*k+1,m);if(Ej(d,m))return e===h?this:Hj(this,a,2*k+1,e);f.val=!0;f=b+5;d=Qj?Qj(a,f,m,h,c,d,e):Rj.call(null,
a,f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.yd(a);a.ha[e]=null;a.ha[k]=d;return a};
g.$c=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Qg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=Qg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Oj.$c(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.ha[d]?Oj.$c(a+5,ve(this.ha[d]),this.ha[d],this.ha[d+1],e):this.ha[d+1],d+=2,c+=1);else break;return new Pj(null,k+1,h)}a=
Array(2*(k+1));Jf(this.ha,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Jf(this.ha,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new Kj(null,this.bitmap|f,a)}var m=this.ha[2*h];f=this.ha[2*h+1];if(null==m)return k=f.$c(a+5,b,c,d,e),k===f?this:new Kj(null,this.bitmap,Fj(this.ha,2*h+1,k));if(Ej(c,m))return d===f?this:new Kj(null,this.bitmap,Fj(this.ha,2*h+1,d));e.val=!0;e=this.bitmap;k=this.ha;a+=5;a=Sj?Sj(a,m,f,b,c,d):Rj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Hc(k);d[c]=null;d[h]=a;return new Kj(null,e,d)};
g.Oe=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Qg(this.bitmap&e-1);e=this.ha[2*f];f=this.ha[2*f+1];return null==e?f.Oe(a+5,b,c,d):Ej(c,e)?new Y(e,f):d};
g.Qe=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=Qg(this.bitmap&d-1),f=this.ha[2*e],h=this.ha[2*e+1];return null==f?(a=h.Qe(a+5,b,c),a===h?this:null!=a?new Kj(null,this.bitmap,Fj(this.ha,2*e+1,a)):this.bitmap===d?null:new Kj(null,this.bitmap^d,Gj(this.ha,e))):Ej(c,f)?new Kj(null,this.bitmap^d,Gj(this.ha,e)):this};g.Ba=function(){return new Jj(this.ha)};var Oj=new Kj(null,0,[]);
function Tj(a,b,c){var d=a.ha,e=d.length;a=Array(2*(a.ma-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new Kj(b,k,a)}function Uj(a){this.ha=a;this.i=0;this.dd=null}Uj.prototype.pb=function(){for(var a=this.ha.length;;){if(null!=this.dd&&this.dd.pb())return!0;if(this.i<a){var b=this.ha[this.i];this.i+=1;null!=b&&(this.dd=je(b))}else return!1}};Uj.prototype.next=function(){if(this.pb())return this.dd.next();throw Error("No such element");};
Uj.prototype.remove=function(){return Error("Unsupported operation")};function Pj(a,b,c){this.ab=a;this.ma=b;this.ha=c;this.la=131072;this.ga=0}g=Pj.prototype;g.yd=function(a){return a===this.ab?this:new Pj(a,this.ma,Hc(this.ha))};g.Re=function(a,b,c,d,e){var f=c>>>b&31,h=this.ha[f];if(null==h)return this;b=h.Re(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.ma)return Tj(this,a,f);a=Hj(this,a,f,b);--a.ma;return a}return Hj(this,a,f,b)};
g.Pe=function(){return Vj?Vj(this.ha):Wj.call(null,this.ha)};g.$d=function(a,b){for(var c=this.ha.length,d=0;;)if(d<c){var e=this.ha[d];if(null!=e){b=e.$d(a,b);if(Re(b))return b;d+=1}else d+=1}else return b};g.Zd=function(a,b,c,d){var e=this.ha[b>>>a&31];return null!=e?e.Zd(a+5,b,c,d):d};g.ad=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.ha[h];if(null==k)return a=Hj(this,a,h,Oj.ad(a,b+5,c,d,e,f)),a.ma+=1,a;b=k.ad(a,b+5,c,d,e,f);return b===k?this:Hj(this,a,h,b)};
g.$c=function(a,b,c,d,e){var f=b>>>a&31,h=this.ha[f];if(null==h)return new Pj(null,this.ma+1,Fj(this.ha,f,Oj.$c(a+5,b,c,d,e)));a=h.$c(a+5,b,c,d,e);return a===h?this:new Pj(null,this.ma,Fj(this.ha,f,a))};g.Oe=function(a,b,c,d){var e=this.ha[b>>>a&31];return null!=e?e.Oe(a+5,b,c,d):d};g.Qe=function(a,b,c){var d=b>>>a&31,e=this.ha[d];return null!=e?(a=e.Qe(a+5,b,c),a===e?this:null==a?8>=this.ma?Tj(this,null,d):new Pj(null,this.ma-1,Fj(this.ha,d,a)):new Pj(null,this.ma,Fj(this.ha,d,a))):this};g.Ba=function(){return new Uj(this.ha)};
function Xj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Ej(c,a[d]))return d;d+=2}else return-1}function Yj(a,b,c,d){this.ab=a;this.ud=b;this.ma=c;this.ha=d;this.la=131072;this.ga=0}g=Yj.prototype;g.yd=function(a){if(a===this.ab)return this;var b=Array(2*(this.ma+1));Jf(this.ha,0,b,0,2*this.ma);return new Yj(a,this.ud,this.ma,b)};
g.Re=function(a,b,c,d,e){b=Xj(this.ha,this.ma,d);if(-1===b)return this;e.val=!0;if(1===this.ma)return null;a=this.yd(a);e=a.ha;e[b]=e[2*this.ma-2];e[b+1]=e[2*this.ma-1];e[2*this.ma-1]=null;e[2*this.ma-2]=null;--a.ma;return a};g.Pe=function(){return Mj?Mj(this.ha):Nj.call(null,this.ha)};g.$d=function(a,b){return Ij(this.ha,a,b)};g.Zd=function(a,b,c,d){a=Xj(this.ha,this.ma,c);return 0>a?d:Ej(c,this.ha[a])?this.ha[a+1]:d};
g.ad=function(a,b,c,d,e,f){if(c===this.ud){b=Xj(this.ha,this.ma,d);if(-1===b){if(this.ha.length>2*this.ma)return b=2*this.ma,c=2*this.ma+1,a=this.yd(a),a.ha[b]=d,a.ha[c]=e,f.val=!0,a.ma+=1,a;c=this.ha.length;b=Array(c+2);Jf(this.ha,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.ma+1;a===this.ab?(this.ha=b,this.ma=d,a=this):a=new Yj(this.ab,this.ud,d,b);return a}return this.ha[b+1]===e?this:Hj(this,a,b+1,e)}return(new Kj(a,1<<(this.ud>>>b&31),[null,this,null,null])).ad(a,b,c,d,e,f)};
g.$c=function(a,b,c,d,e){return b===this.ud?(a=Xj(this.ha,this.ma,c),-1===a?(a=2*this.ma,b=Array(a+2),Jf(this.ha,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Yj(null,this.ud,this.ma+1,b)):D.j(this.ha[a+1],d)?this:new Yj(null,this.ud,this.ma,Fj(this.ha,a+1,d))):(new Kj(null,1<<(this.ud>>>a&31),[null,this])).$c(a,b,c,d,e)};g.Oe=function(a,b,c,d){a=Xj(this.ha,this.ma,c);return 0>a?d:Ej(c,this.ha[a])?new Y(this.ha[a],this.ha[a+1]):d};
g.Qe=function(a,b,c){a=Xj(this.ha,this.ma,c);return-1===a?this:1===this.ma?null:new Yj(null,this.ud,this.ma-1,Gj(this.ha,Ng(a,2)))};g.Ba=function(){return new Jj(this.ha)};function Rj(a){switch(arguments.length){case 6:return Sj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Qj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}
function Sj(a,b,c,d,e,f){var h=ve(b);if(h===d)return new Yj(null,h,2,[b,c,e,f]);var k=new Dj;return Oj.$c(a,h,b,c,k).$c(a,d,e,f,k)}function Qj(a,b,c,d,e,f,h){var k=ve(c);if(k===e)return new Yj(null,k,2,[c,d,f,h]);var m=new Dj;return Oj.ad(a,b,k,c,d,m).ad(a,b,e,f,h,m)}function Zj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.fa=e;this.ga=32374988;this.la=0}g=Zj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return ak?ak(a,b,null):Nj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return ak?ak(a,b,c):Nj.call(null,a,b,c)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1]):H(this.s)};
g.sb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return ak?ak(c,d,null):Nj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return ak?ak(c,d,e):Nj.call(null,c,d,e)}();return null!=b?b:Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new Zj(b,this.nodes,this.i,this.s,this.fa)};g.xa=function(a,b){return hf(b,this)};Zj.prototype[Ec]=function(){return Ie(this)};
function Nj(a){switch(arguments.length){case 1:return Mj(arguments[0]);case 3:return ak(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function Mj(a){return ak(a,0,null)}function ak(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Zj(null,a,b,null,null);var d=a[b+1];if(q(d)&&(d=d.Pe(),q(d)))return new Zj(null,a,b+2,d,null);b+=2}else return null;else return new Zj(null,a,b,c,null)}
function bk(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.fa=e;this.ga=32374988;this.la=0}g=bk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){var a=this.nodes,b=this.i,c=J(this.s);return ck?ck(a,b,c):Wj.call(null,a,b,c)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return H(this.s)};g.sb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=ck?ck(a,b,c):Wj.call(null,a,b,c);return null!=a?a:Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new bk(b,this.nodes,this.i,this.s,this.fa)};g.xa=function(a,b){return hf(b,this)};bk.prototype[Ec]=function(){return Ie(this)};
function Wj(a){switch(arguments.length){case 1:return Vj(arguments[0]);case 3:return ck(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function Vj(a){return ck(a,0,null)}function ck(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(q(d)&&(d=d.Pe(),q(d)))return new bk(null,a,b+1,d,null);b+=1}else return null;else return new bk(null,a,b,c,null)}function dk(a,b){this.Gb=a;this.bh=b;this.seen=!1}
dk.prototype.pb=function(){return!this.seen||this.bh.pb()};dk.prototype.next=function(){if(this.seen)return this.bh.next();this.seen=!0;return new Y(null,this.Gb)};dk.prototype.remove=function(){return Error("Unsupported operation")};function ek(a,b,c,d,e,f){this.meta=a;this.ma=b;this.root=c;this.Fb=d;this.Gb=e;this.fa=f;this.ga=16123663;this.la=139268}g=ek.prototype;g.rd=function(a,b){return null==b?this.Fb?new Y(null,this.Gb):null:null==this.root?null:this.root.Oe(0,ve(b),b,null)};g.toString=function(){return le(this)};
g.equiv=function(a){return this.oa(null,a)};g.keys=function(){return Ie(xj.aa?xj.aa(this):xj.call(null,this))};g.entries=function(){return new sj(E(E(this)))};g.values=function(){return Ie(yj.aa?yj.aa(this):yj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.ka(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return null==b?this.Fb?this.Gb:c:null==this.root?c:this.root.Zd(0,ve(b),b,c)};
g.Ia=function(a,b,c){a=this.Fb?b.ba?b.ba(c,null,this.Gb):b.call(null,c,null,this.Gb):c;return Re(a)?y(a):null!=this.root?Se(this.root.$d(b,a)):a};g.Ba=function(){var a=this.root?je(this.root):Fh();return this.Fb?new dk(this.Gb,a):a};g.ra=function(){return this.meta};g.va=function(){return this.ma};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};g.oa=function(a,b){return qj(this,b)};g.Jd=function(){return new fk(this.root,this.ma,this.Fb,this.Gb)};g.Ya=function(){return rd(Bj,this.meta)};
g.Ka=function(a,b){if(null==b)return this.Fb?new ek(this.meta,this.ma-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Qe(0,ve(b),b);return a===this.root?this:new ek(this.meta,this.ma-1,a,this.Fb,this.Gb,null)};
g.pa=function(a,b,c){if(null==b)return this.Fb&&c===this.Gb?this:new ek(this.meta,this.Fb?this.ma:this.ma+1,this.root,!0,c,null);a=new Dj;b=(null==this.root?Oj:this.root).$c(0,ve(b),b,c,a);return b===this.root?this:new ek(this.meta,a.val?this.ma+1:this.ma,b,this.Fb,this.Gb,null)};g.ua=function(){if(0<this.ma){var a=null!=this.root?this.root.Pe():null;return this.Fb?hf(new Y(null,this.Gb),a):a}return null};g.sa=function(a,b){return b===this.meta?this:new ek(b,this.ma,this.root,this.Fb,this.Gb,this.fa)};
g.xa=function(a,b){if(Hf(b))return this.pa(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var Bj=new ek(null,0,null,!1,null,Ne);function gk(a,b){for(var c=a.length,d=0,e=Td(Bj);;)if(d<c){var f=d+1;e=Wd(e,a[d],b[d]);d=f}else return Vd(e)}ek.prototype[Ec]=function(){return Ie(this)};function fk(a,b,c,d){this.ab={};this.root=a;this.count=b;this.Fb=c;this.Gb=d;this.ga=259;this.la=56}
function hk(a,b,c){if(a.ab){if(null==b)a.Gb!==c&&(a.Gb=c),a.Fb||(a.count+=1,a.Fb=!0);else{var d=new Dj;b=(null==a.root?Oj:a.root).ad(a.ab,0,ve(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=fk.prototype;g.va=function(){if(this.ab)return this.count;throw Error("count after persistent!");};g.ya=function(a,b){return null==b?this.Fb?this.Gb:null:null==this.root?null:this.root.Zd(0,ve(b),b)};
g.ka=function(a,b,c){return null==b?this.Fb?this.Gb:c:null==this.root?c:this.root.Zd(0,ve(b),b,c)};g.Kd=function(a,b){a:if(this.ab)if(Wi(b))a=hk(this,Xi.aa?Xi.aa(b):Xi.call(null,b),Yi.aa?Yi.aa(b):Yi.call(null,b));else if(Hf(b))a=hk(this,b.aa?b.aa(0):b.call(null,0),b.aa?b.aa(1):b.call(null,1));else for(a=E(b),b=this;;){var c=H(a);if(q(c))a=J(a),b=hk(b,Xi.aa?Xi.aa(c):Xi.call(null,c),Yi.aa?Yi.aa(c):Yi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Sd=function(){if(this.ab){this.ab=null;var a=new ek(null,this.count,this.root,this.Fb,this.Gb,null)}else throw Error("persistent! called twice");return a};g.ee=function(a,b,c){return hk(this,b,c)};g.Jf=function(a,b){if(this.ab)null==b?this.Fb&&(this.Fb=!1,this.Gb=null,--this.count):null!=this.root&&(a=new Dj,b=this.root.Re(this.ab,0,ve(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};function ik(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=pf.j(d,a),a=b;else return d}
function jk(a,b,c,d,e){this.meta=a;this.stack=b;this.Qd=c;this.ma=d;this.fa=e;this.ga=32374990;this.la=0}g=jk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){var a=H(this.stack);a=ik(this.Qd?a.right:a.left,J(this.stack),this.Qd);return null==a?null:new jk(null,a,this.Qd,this.ma-1,null)};
g.va=function(){return 0>this.ma?K(J(this))+1:this.ma};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){var a=this.stack;return null==a?null:kd(a)};g.sb=function(){var a=H(this.stack);a=ik(this.Qd?a.right:a.left,J(this.stack),this.Qd);return null!=a?new jk(null,a,this.Qd,this.ma-1,null):Ge};g.ua=function(){return this};
g.sa=function(a,b){return b===this.meta?this:new jk(b,this.stack,this.Qd,this.ma,this.fa)};g.xa=function(a,b){return hf(b,this)};jk.prototype[Ec]=function(){return Ie(this)};function kk(a,b,c){return new jk(null,ik(a,null,b),b,c,null)}
function lk(a,b,c,d){return c instanceof mk?c.left instanceof mk?new mk(c.key,c.val,c.left.pd(),new nk(a,b,c.right,d)):c.right instanceof mk?new mk(c.right.key,c.right.val,new nk(c.key,c.val,c.left,c.right.left),new nk(a,b,c.right.right,d)):new nk(a,b,c,d):new nk(a,b,c,d)}
function ok(a,b,c,d){return d instanceof mk?d.right instanceof mk?new mk(d.key,d.val,new nk(a,b,c,d.left),d.right.pd()):d.left instanceof mk?new mk(d.left.key,d.left.val,new nk(a,b,c,d.left.left),new nk(d.key,d.val,d.left.right,d.right)):new nk(a,b,c,d):new nk(a,b,c,d)}
function pk(a,b,c,d){if(c instanceof mk)return new mk(a,b,c.pd(),d);if(d instanceof nk)return ok(a,b,c,d.Ue());if(d instanceof mk&&d.left instanceof nk)return new mk(d.left.key,d.left.val,new nk(a,b,c,d.left.left),ok(d.key,d.val,d.left.right,d.right.Ue()));throw Error("red-black tree invariant violation");}
function qk(a,b,c,d){if(d instanceof mk)return new mk(a,b,c,d.pd());if(c instanceof nk)return lk(a,b,c.Ue(),d);if(c instanceof mk&&c.right instanceof nk)return new mk(c.right.key,c.right.val,lk(c.key,c.val,c.left.Ue(),c.right.left),new nk(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var rk=function rk(a,b,c){var e=null!=a.left?function(){var k=a.left;return rk.ba?rk.ba(k,b,c):rk.call(null,k,b,c)}():c;if(Re(e))return e;var f=function(){var k=a.key,m=a.val;return b.ba?b.ba(e,k,m):b.call(null,e,k,m)}();if(Re(f))return f;if(null!=a.right){var h=a.right;return rk.ba?rk.ba(h,b,f):rk.call(null,h,b,f)}return f};function nk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.fa=null;this.ga=166619935;this.la=0}g=nk.prototype;
g.rd=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();g.ng=function(a){return a.qg(this)};g.Ue=function(){return new mk(this.key,this.val,this.left,this.right)};g.pd=function(){return this};g.mg=function(a){return a.pg(this)};g.replace=function(a,b,c,d){return new nk(a,b,c,d)};
g.pg=function(a){return new nk(a.key,a.val,this,a.right)};g.qg=function(a){return new nk(a.key,a.val,a.left,this)};g.$d=function(a,b){return rk(this,a,b)};g.ya=function(a,b){return this.gb(null,b,null)};g.ka=function(a,b,c){return this.gb(null,b,c)};g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.gb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Wc=function(a,b,c){return(new S(null,2,5,T,[this.key,this.val],null)).Wc(null,b,c)};
g.ra=function(){return null};g.va=function(){return 2};g.Ff=function(){return this.key};g.Gf=function(){return this.val};g.sd=function(){return this.val};g.td=function(){return new S(null,1,5,T,[this.key],null)};g.Jc=function(){return new De([this.val,this.key],0,null)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return null};g.hb=function(a,b){return Ue(this,b)};g.ib=function(a,b,c){return Ve(this,b,c)};
g.pa=function(a,b,c){return Q.ba(new S(null,2,5,T,[this.key,this.val],null),b,c)};g.ua=function(){return new De([this.key,this.val],0,null)};g.sa=function(a,b){return rd(new S(null,2,5,T,[this.key,this.val],null),b)};g.xa=function(a,b){return new S(null,3,5,T,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};nk.prototype[Ec]=function(){return Ie(this)};function mk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.fa=null;this.ga=166619935;this.la=0}g=mk.prototype;g.rd=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();g.ng=function(a){return new mk(this.key,this.val,this.left,a)};g.Ue=function(){throw Error("red-black tree invariant violation");};g.pd=function(){return new nk(this.key,this.val,this.left,this.right)};
g.mg=function(a){return new mk(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new mk(a,b,c,d)};g.pg=function(a){return this.left instanceof mk?new mk(this.key,this.val,this.left.pd(),new nk(a.key,a.val,this.right,a.right)):this.right instanceof mk?new mk(this.right.key,this.right.val,new nk(this.key,this.val,this.left,this.right.left),new nk(a.key,a.val,this.right.right,a.right)):new nk(a.key,a.val,this,a.right)};
g.qg=function(a){return this.right instanceof mk?new mk(this.key,this.val,new nk(a.key,a.val,a.left,this.left),this.right.pd()):this.left instanceof mk?new mk(this.left.key,this.left.val,new nk(a.key,a.val,a.left,this.left.left),new nk(this.key,this.val,this.left.right,this.right)):new nk(a.key,a.val,a.left,this)};g.$d=function(a,b){return rk(this,a,b)};g.ya=function(a,b){return this.gb(null,b,null)};g.ka=function(a,b,c){return this.gb(null,b,c)};
g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.gb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Wc=function(a,b,c){return(new S(null,2,5,T,[this.key,this.val],null)).Wc(null,b,c)};g.ra=function(){return null};g.va=function(){return 2};g.Ff=function(){return this.key};g.Gf=function(){return this.val};g.sd=function(){return this.val};g.td=function(){return new S(null,1,5,T,[this.key],null)};
g.Jc=function(){return new De([this.val,this.key],0,null)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return null};g.hb=function(a,b){return Ue(this,b)};g.ib=function(a,b,c){return Ve(this,b,c)};g.pa=function(a,b,c){return Q.ba(new S(null,2,5,T,[this.key,this.val],null),b,c)};g.ua=function(){return new De([this.key,this.val],0,null)};g.sa=function(a,b){return rd(new S(null,2,5,T,[this.key,this.val],null),b)};
g.xa=function(a,b){return new S(null,3,5,T,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};mk.prototype[Ec]=function(){return Ie(this)};
var sk=function sk(a,b,c,d,e){if(null==b)return new mk(c,d,null,null);var h=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return sk.za?sk.za(a,k,c,d,e):sk.call(null,a,k,c,d,e)}(),null!=h?b.mg(h):null;h=function(){var k=b.right;return sk.za?sk.za(a,k,c,d,e):sk.call(null,a,k,c,d,e)}();return null!=h?b.ng(h):null},tk=function tk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof mk){if(b instanceof mk){var d=
function(){var e=a.right,f=b.left;return tk.j?tk.j(e,f):tk.call(null,e,f)}();return d instanceof mk?new mk(d.key,d.val,new mk(a.key,a.val,a.left,d.left),new mk(b.key,b.val,d.right,b.right)):new mk(a.key,a.val,a.left,new mk(b.key,b.val,d,b.right))}return new mk(a.key,a.val,a.left,function(){var e=a.right;return tk.j?tk.j(e,b):tk.call(null,e,b)}())}if(b instanceof mk)return new mk(b.key,b.val,function(){var e=b.left;return tk.j?tk.j(a,e):tk.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return tk.j?tk.j(e,f):tk.call(null,e,f)}();return d instanceof mk?new mk(d.key,d.val,new nk(a.key,a.val,a.left,d.left),new nk(b.key,b.val,d.right,b.right)):pk(a.key,a.val,a.left,new nk(b.key,b.val,d,b.right))},uk=function uk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.j?a.j(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,tk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return uk.ja?uk.ja(a,h,c,d):uk.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof nk?pk(b.key,b.val,
f,b.right):new mk(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return uk.ja?uk.ja(a,h,c,d):uk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof nk?qk(b.key,b.val,b.left,f):new mk(b.key,b.val,b.left,f):null}return null},vk=function vk(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return vk.ja?vk.ja(a,k,c,d):vk.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return vk.ja?vk.ja(a,k,c,d):vk.call(null,a,k,c,d)}())};function wk(a,b,c,d,e){this.Kc=a;this.tree=b;this.ma=c;this.meta=d;this.fa=e;this.ga=418776847;this.la=8192}g=wk.prototype;g.rd=function(a,b){return xk(this,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.ka(null,a,b)};g.entries=function(){return new sj(E(E(this)))};g.toString=function(){return le(this)};g.keys=function(){return Ie(xj.aa?xj.aa(this):xj.call(null,this))};
g.values=function(){return Ie(yj.aa?yj.aa(this):yj.call(null,this))};g.equiv=function(a){return this.oa(null,a)};function xk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Kc.j?a.Kc.j(b,d):a.Kc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Pf(this,a)};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){a=xk(this,b);return null!=a?a.val:c};g.Ia=function(a,b,c){return null!=this.tree?Se(rk(this.tree,b,c)):c};g.ra=function(){return this.meta};
g.va=function(){return this.ma};g.Jc=function(){return 0<this.ma?kk(this.tree,!1,this.ma):null};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};g.oa=function(a,b){return qj(this,b)};g.Ya=function(){return new wk(this.Kc,null,0,this.meta,0)};g.Ka=function(a,b){a=[null];b=uk(this.Kc,this.tree,b,a);return null==b?null==bf(a,0)?this:new wk(this.Kc,null,0,this.meta,null):new wk(this.Kc,b.pd(),this.ma-1,this.meta,null)};
g.pa=function(a,b,c){a=[null];var d=sk(this.Kc,this.tree,b,c,a);return null==d?(a=bf(a,0),D.j(c,a.val)?this:new wk(this.Kc,vk(this.Kc,this.tree,b,c),this.ma,this.meta,null)):new wk(this.Kc,d.pd(),this.ma+1,this.meta,null)};g.ua=function(){return 0<this.ma?kk(this.tree,!0,this.ma):null};g.sa=function(a,b){return b===this.meta?this:new wk(this.Kc,this.tree,this.ma,b,this.fa)};
g.xa=function(a,b){if(Hf(b))return this.pa(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var yk=new wk(Sf,null,0,null,Ne);wk.prototype[Ec]=function(){return Ie(this)};var zk=function zk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return zk.da(c)};zk.da=function(a){a=E(a);for(var b=Td(Bj);;)if(a){var c=J(J(a));b=rh.ba(b,H(a),mf(a));a=c}else return Vd(b)};zk.na=0;zk.qa=function(a){return this.da(E(a))};
var Ak=function Ak(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Ak.da(c)};Ak.da=function(a){a=a instanceof De&&0===a.i?a.ha:Ic(a);return uf(a)};Ak.na=0;Ak.qa=function(a){return this.da(E(a))};function Ck(a,b){this.Xa=a;this.Gc=b;this.ga=32374988;this.la=0}g=Ck.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.Gc};g.bb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null==a?null:new Ck(a,null)};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.Xa.jb(null).key};g.sb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null!=a?new Ck(a,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.Gc?this:new Ck(this.Xa,b)};g.xa=function(a,b){return hf(b,this)};
Ck.prototype[Ec]=function(){return Ie(this)};function xj(a){return(a=E(a))?new Ck(a,null):null}function Xi(a){return gd(a)}function Dk(a,b){this.Xa=a;this.Gc=b;this.ga=32374988;this.la=0}g=Dk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.Gc};g.bb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null==a?null:new Dk(a,null)};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.Xa.jb(null).val};g.sb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null!=a?new Dk(a,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.Gc?this:new Dk(this.Xa,b)};g.xa=function(a,b){return hf(b,this)};
Dk.prototype[Ec]=function(){return Ie(this)};function yj(a){return(a=E(a))?new Dk(a,null):null}function Yi(a){return hd(a)}var Ek=function Ek(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Ek.da(c)};Ek.da=function(a){return q(Kh(wg,a))?v.j(function(b,c){return pf.j(q(b)?b:X,c)},a):null};Ek.na=0;Ek.qa=function(a){return this.da(E(a))};
var Fk=function Fk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return Fk.da(arguments[0],c)};Fk.da=function(a,b){if(q(Kh(wg,b))){var c=function(d,e){var f=gd(e),h=hd(e);return Pf(d,f)?Q.ba(d,f,function(){var k=B.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):Q.ba(d,f,h)};return v.j(function(d,e){return v.ba(c,q(d)?d:X,E(e))},b)}return null};Fk.na=1;Fk.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};
function Gk(a,b){var c=X;for(b=E(b);;)if(b){var d=H(b),e=B.ba(a,d,Hk);c=Dh.j(e,Hk)?Q.ba(c,d,e):c;b=J(b)}else return rd(c,yf(a))}function Ik(a){this.iter=a}Ik.prototype.pb=function(){return this.iter.pb()};Ik.prototype.next=function(){if(this.iter.pb())return this.iter.next().key;throw Error("No such element");};Ik.prototype.remove=function(){return Error("Unsupported operation")};function Jk(a,b,c){this.meta=a;this.Ad=b;this.fa=c;this.ga=15077647;this.la=139268}g=Jk.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.oa(null,a)};g.keys=function(){return Ie(E(this))};g.entries=function(){return new tj(E(E(this)))};g.values=function(){return Ie(E(this))};g.has=function(a){return Pf(this,a)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){a=dd(this.Ad,b);return q(a)?gd(a):c};g.Ba=function(){return new Ik(je(this.Ad))};g.ra=function(){return this.meta};g.va=function(){return Nc(this.Ad)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};g.oa=function(a,b){if(Df(b))if(K(this)===K(b))try{return vg(function(c,d){return(c=Pf(b,d))?c:Qe(!1)},!0,this.Ad)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Jd=function(){return new Kk(Td(this.Ad))};
g.Ya=function(){return rd(Lk,this.meta)};g.If=function(a,b){return new Jk(this.meta,fd(this.Ad,b),null)};g.ua=function(){return xj(this.Ad)};g.sa=function(a,b){return b===this.meta?this:new Jk(b,this.Ad,this.fa)};g.xa=function(a,b){return new Jk(this.meta,Q.ba(this.Ad,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var Lk=new Jk(null,X,Ne);function Rf(a){for(var b=a.length,c=Td(Lk),d=0;;)if(d<b)Ud(c,a[d]),d+=1;else break;return Vd(c)}Jk.prototype[Ec]=function(){return Ie(this)};function Kk(a){this.ce=a;this.la=136;this.ga=259}g=Kk.prototype;g.Kd=function(a,b){this.ce=rh.ba(this.ce,b,null);return this};g.Sd=function(){return new Jk(null,Vd(this.ce),null)};
g.va=function(){return K(this.ce)};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return ad(this.ce,b,Kf)===Kf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return ad(this.ce,a,Kf)===Kf?null:a};
g.j=function(a,b){return ad(this.ce,a,Kf)===Kf?b:a};function Mk(a){if(Df(a))return xf(a,null);a=E(a);if(null==a)return Lk;if(a instanceof De&&0===a.i)return Rf(a.ha);for(var b=Td(Lk);;)if(null!=a){var c=J(a);b=Ud(b,Vc(a));a=c}else return Vd(b)}function Nk(a){return function e(c,d){return new ch(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=P(k,0,null);if(k=E(k))if(Pf(f,h))h=Fe(k);else{f=hf(h,e(Fe(k),pf.j(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,Lk)}
function Ok(a){for(var b=qf;;)if(J(a))b=pf.j(b,H(a)),a=J(a);else return E(b)}function bh(a){if(null!=a&&(a.la&4096||l===a.Bg))return a.ze(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.aa(a)].join(""));}function Pk(a,b){var c=Td(X);a=E(a);for(b=E(b);;)if(a&&b)c=rh.ba(c,H(a),H(b)),a=J(a),b=J(b);else return Vd(c)}
var Qk=function Qk(a){switch(arguments.length){case 2:return Qk.j(arguments[0],arguments[1]);case 3:return Qk.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Qk.da(arguments[0],arguments[1],arguments[2],c)}};Qk.j=function(a,b){return b};Qk.ba=function(a,b,c){return(a.aa?a.aa(b):a.call(null,b))>(a.aa?a.aa(c):a.call(null,c))?b:c};
Qk.da=function(a,b,c,d){return v.ba(function(e,f){return Qk.ba(a,e,f)},Qk.ba(a,b,c),d)};Qk.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};Qk.na=3;function Rk(){this.ha=[]}g=Rk.prototype;g.add=function(a){return this.ha.push(a)};g.size=function(){return this.ha.length};g.clear=function(){return this.ha=[]};g.isEmpty=function(){return 0===this.ha.length};g.toArray=function(){return this.ha};
function Sk(){return function(a){var b=new Rk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=sg(b.toArray()),b.clear(),a.j?a.j(h,k):a.call(null,h,k)):h}function d(h){if(!q(b.isEmpty())){var k=sg(b.toArray());b.clear();h=Se(a.j?a.j(h,k):a.call(null,h,k))}return a.aa?a.aa(h):a.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}}function Tk(a,b){return new ch(null,function(){var c=E(b);if(c){var d=H(c);d=a.aa?a.aa(d):a.call(null,d);c=q(d)?hf(H(c),Tk(a,Fe(c))):null}else c=null;return c},null,null)}function Uk(a,b,c){this.start=a;this.step=b;this.count=c;this.ga=82;this.la=0}g=Uk.prototype;g.va=function(){return this.count};g.jb=function(){return this.start};g.La=function(a,b){return this.start+b*this.step};
g.gb=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.ue=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Uk(this.start+this.step,this.step,this.count-1)};function Vk(a,b,c){this.i=a;this.end=b;this.step=c}Vk.prototype.pb=function(){return 0<this.step?this.i<this.end:this.i>this.end};Vk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Wk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.pc=e;this.bf=f;this.fa=h;this.ga=32375006;this.la=140800}g=Wk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();function Xk(a){if(null==a.pc){var b=a.va(null);32<b?(a.bf=new Wk(null,a.start+32*a.step,a.end,a.step,null,null,null),a.pc=new Uk(a.start,a.step,32)):a.pc=new Uk(a.start,a.step,b)}}
g.La=function(a,b){if(0<=b&&b<this.va(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.gb=function(a,b,c){return 0<=b&&b<this.va(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.Ba=function(){return new Vk(this.start,this.end,this.step)};g.ra=function(){return this.meta};
g.bb=function(){return 0<this.step?this.start+this.step<this.end?new Wk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Wk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.va=function(){return Math.ceil((this.end-this.start)/this.step)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return Ue(this,b)};
g.ib=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Re(c))return y(c);a+=this.step}else return c};g.jb=function(){return this.start};g.sb=function(){var a=this.bb(null);return null==a?Ge:a};g.ua=function(){return this};g.we=function(){Xk(this);return this.pc};g.Rd=function(){Xk(this);return null==this.bf?Ge:this.bf};g.sa=function(a,b){return b===this.meta?this:new Wk(b,this.start,this.end,this.step,this.pc,this.bf,this.fa)};
g.xa=function(a,b){return hf(b,this)};g.ve=function(){return E(this.Rd(null))};Wk.prototype[Ec]=function(){return Ie(this)};var Yk=function Yk(a){switch(arguments.length){case 0:return Yk.ia();case 1:return Yk.aa(arguments[0]);case 2:return Yk.j(arguments[0],arguments[1]);case 3:return Yk.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};Yk.ia=function(){return Yk.ba(0,Number.MAX_VALUE,1)};Yk.aa=function(a){return Yk.ba(0,a,1)};
Yk.j=function(a,b){return Yk.ba(a,b,1)};Yk.ba=function(a,b,c){return 0<c?b<=a?Ge:new Wk(null,a,b,c,null,null,null):0>c?b>=a?Ge:new Wk(null,a,b,c,null,null,null):b===a?Ge:ii(a)};Yk.na=3;function Zk(a,b){return new ch(null,function(){var c=E(b);return c?hf(H(c),Zk(a,ei(a,c))):null},null,null)}function $k(a,b){return new S(null,2,5,T,[Tk(a,b),gi(a,b)],null)}
function al(a,b){return new ch(null,function(){var c=E(b);if(c){var d=H(c),e=a.aa?a.aa(d):a.call(null,d),f=hf(d,Tk(function(h){return D.j(e,a.aa?a.aa(h):a.call(null,h))},J(c)));return hf(f,al(a,new ch(null,function(){return ei(K(f),c)},null,null)))}return null},null,null)}function bl(a){return Vd(v.ba(function(b,c){return rh.ba(b,c,B.ba(b,c,0)+1)},Td(X),a))}
function cl(a,b){return function(){function c(m,n,r){return new S(null,2,5,T,[a.ba?a.ba(m,n,r):a.call(null,m,n,r),b.ba?b.ba(m,n,r):b.call(null,m,n,r)],null)}function d(m,n){return new S(null,2,5,T,[a.j?a.j(m,n):a.call(null,m,n),b.j?b.j(m,n):b.call(null,m,n)],null)}function e(m){return new S(null,2,5,T,[a.aa?a.aa(m):a.call(null,m),b.aa?b.aa(m):b.call(null,m)],null)}function f(){return new S(null,2,5,T,[a.ia?a.ia():a.call(null),b.ia?b.ia():b.call(null)],null)}var h=null,k=function(){function m(r,u,
w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return new S(null,2,5,T,[Bh(a,r,u,w,A),Bh(b,r,u,w,A)],null)}m.na=3;m.qa=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.da=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,
m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.da(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.na=3;h.qa=k.qa;h.ia=f;h.aa=e;h.j=d;h.ba=c;h.da=k.da;return h}()}function dl(a){a:for(var b=a;;)if(b=E(b))b=J(b);else break a;return a}
function el(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.j(a[0],b)?1===a.length?a[0]:sg(a):null;throw new TypeError("re-matches must match against a string.");}function fl(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:sg(a);throw new TypeError("re-find must match against a string.");}
var gl=function gl(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:sg(d);return hf(f,new ch(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=Sg.j(b,h),gl.j?gl.j(a,h):gl.call(null,a,h)):null},null,null))};function hl(a,b){if("string"===typeof b)return gl(a,b);throw new TypeError("re-seq must match against a string.");}
function il(a){if(a instanceof RegExp)return a;var b=fl(/^\(\?([idmsux]*)\)/,a),c=P(b,0,null);b=P(b,1,null);a=Sg.j(a,null==c?0:c.length);return new RegExp(a,q(b)?b:"")}
function Z(a,b,c,d,e,f,h){var k=nc;nc=null==nc?null:nc-1;try{if(null!=nc&&0>nc)return Jd(a,"#");Jd(a,c);if(0===tc.aa(f))E(h)&&Jd(a,function(){var A=jl.aa(f);return q(A)?A:"..."}());else{if(E(h)){var m=H(h);b.ba?b.ba(m,a,f):b.call(null,m,a,f)}for(var n=J(h),r=tc.aa(f)-1;;)if(!n||null!=r&&0===r){E(n)&&0===r&&(Jd(a,d),Jd(a,function(){var A=jl.aa(f);return q(A)?A:"..."}()));break}else{Jd(a,d);var u=H(n);c=a;h=f;b.ba?b.ba(u,c,h):b.call(null,u,c,h);var w=J(n);c=r-1;n=w;r=c}}return Jd(a,e)}finally{nc=k}}
function kl(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);Jd(a,f);e+=1}else if(b=E(b))c=b,If(c)?(b=ae(c),d=be(c),c=b,f=K(b),b=d,d=f):(f=H(c),Jd(a,f),b=J(c),c=null,d=0),e=0;else return null}function ll(a){if(null==jc)throw Error("No *print-fn* fn set for evaluation environment");jc.call(null,a);return null}var ml={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function nl(a){return['"',t.aa(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return ml[b]})),'"'].join("")}function ol(a,b){return Mf(B.j(a,rc))?null!=b&&(b.ga&131072||l===b.ye)?null!=yf(b):!1:!1}
function pl(a,b,c){if(null==a)return Jd(b,"nil");if(ol(c,a)){Jd(b,"^");var d=yf(a);ql.ba?ql.ba(d,b,c):ql.call(null,d,b,c);Jd(b," ")}if(a.$b)return a.kc(b);if(null!=a?a.ga&2147483648||l===a.Za||(a.ga?0:Ac(Ld,a)):Ac(Ld,a))return Md(a,b,c);if(!0===a||!1===a)return Jd(b,t.aa(a));if("number"===typeof a)return Jd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.aa(a));if(null!=a&&a.constructor===Object)return Jd(b,"#js "),d=ci.j(function(f){return new Y(null!=
el(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?ah.aa(f):f,a[f])},hb(a)),rl.ja?rl.ja(d,ql,b,c):rl.call(null,d,ql,b,c);if(wc(a))return Z(b,ql,"#js ["," ","]",c,a);if("string"==typeof a)return q(qc.aa(c))?Jd(b,nl(a)):Jd(b,a);if(sa(a)){var e=a.name;c=q(function(){var f=null==e;return f?f:vb(e)}())?"Function":e;return kl(b,M(["#object[",c,q(!1)?[' "',t.aa(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.aa(f);;)if(f.length<h)f=["0",f].join("");else return f},kl(b,M(['#inst "',
t.aa(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return kl(b,M(['#"',a.source,'"']));if(Jc(a))return kl(b,M(["#object[",a.toString(),"]"]));if(q(function(){var f=null==a?null:a.constructor;return null==f?null:f.Kb}()))return kl(b,M(["#object[",a.constructor.Kb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=q(function(){var f=null==e;return f?f:vb(e)}())?"Object":e;return null==a.constructor?kl(b,M(["#object[",c,"]"])):kl(b,M(["#object[",c," ",t.aa(a),"]"]))}function ql(a,b,c){var d=sl.aa(c);return q(d)?(c=Q.ba(c,tl,pl),d.ba?d.ba(a,b,c):d.call(null,a,b,c)):pl(a,b,c)}
function ul(a,b){var c=new dc,d=new ke(c);a:{ql(H(a),d,b);a=E(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.La(null,h);Jd(d," ");ql(k,d,b);h+=1}else if(a=E(a))e=a,If(e)?(a=ae(e),f=be(e),e=a,k=K(a),a=f,f=k):(k=H(e),Jd(d," "),ql(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.gd(null);return c}function vl(a,b){return Bf(a)?"":t.aa(ul(a,b))}function wl(a,b){if(Bf(a))return"\n";a=ul(a,b);a.append("\n");return t.aa(a)}
var xl=function xl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return xl.da(c)};xl.da=function(a){return vl(a,oc())};xl.na=0;xl.qa=function(a){return this.da(E(a))};var yl=function yl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return yl.da(c)};yl.da=function(a){return wl(a,oc())};yl.na=0;yl.qa=function(a){return this.da(E(a))};
var zl=function zl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return zl.da(c)};zl.da=function(a){return vl(a,Q.ba(oc(),qc,!1))};zl.na=0;zl.qa=function(a){return this.da(E(a))};var Al=function Al(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Al.da(c)};Al.da=function(a){return wl(a,Q.ba(oc(),qc,!1))};Al.na=0;Al.qa=function(a){return this.da(E(a))};
function Bl(a){ll(vl(a,oc()));q(kc)&&(a=oc(),ll("\n"),B.j(a,pc))}function Cl(a){return a instanceof z?ze.j(null,bh(a)):ah.j(null,bh(a))}
function Dl(a){if(q(!1)){var b=E(a),c=E(b),d=H(c);J(c);P(d,0,null);P(d,1,null);c=sf(a);for(a=null;;){d=a;b=E(b);a=H(b);var e=J(b),f=a;a=P(f,0,null);b=P(f,1,null);if(q(f))if(a instanceof C||a instanceof z)if(q(d))if(D.j(d,Zg(a)))c=Q.ba(c,Cl(a),b),a=d,b=e;else return null;else if(d=Zg(a),q(d))c=Q.ba(c,Cl(a),b),a=d,b=e;else return null;else return null;else return new S(null,2,5,T,[d,c],null)}}else return null}
function El(a,b,c,d,e){return Z(d,function(f,h,k){var m=gd(f);c.ba?c.ba(m,h,k):c.call(null,m,h,k);Jd(h," ");f=hd(f);return c.ba?c.ba(f,h,k):c.call(null,f,h,k)},[t.aa(a),"{"].join(""),", ","}",e,E(b))}function rl(a,b,c,d){var e=Ff(a)?Dl(a):null,f=P(e,0,null);e=P(e,1,null);return q(f)?El(["#:",t.aa(f)].join(""),e,b,c,d):El(null,a,b,c,d)}Yh.prototype.Za=l;Yh.prototype.ta=function(a,b,c){Jd(b,"#object[cljs.core.Volatile ");ql(new p(null,1,[Fl,this.state],null),b,c);return Jd(b,"]")};Ae.prototype.Za=l;
Ae.prototype.ta=function(a,b,c){Jd(b,"#'");return ql(this.be,b,c)};De.prototype.Za=l;De.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};ch.prototype.Za=l;ch.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Y.prototype.Za=l;Y.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};jk.prototype.Za=l;jk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Zj.prototype.Za=l;Zj.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};
nk.prototype.Za=l;nk.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};vj.prototype.Za=l;vj.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Je.prototype.Za=l;Je.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};$i.prototype.Za=l;$i.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Wg.prototype.Za=l;Wg.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};ff.prototype.Za=l;
ff.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};ek.prototype.Za=l;ek.prototype.ta=function(a,b,c){return rl(this,ql,b,c)};bk.prototype.Za=l;bk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};bj.prototype.Za=l;bj.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};wk.prototype.Za=l;wk.prototype.ta=function(a,b,c){return rl(this,ql,b,c)};Jk.prototype.Za=l;Jk.prototype.ta=function(a,b,c){return Z(b,ql,"#{"," ","}",c,this)};hh.prototype.Za=l;
hh.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Th.prototype.Za=l;Th.prototype.ta=function(a,b,c){Jd(b,"#object[cljs.core.Atom ");ql(new p(null,1,[Fl,this.state],null),b,c);return Jd(b,"]")};Dk.prototype.Za=l;Dk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};mk.prototype.Za=l;mk.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};hi.prototype.Za=l;hi.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};S.prototype.Za=l;
S.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};ij.prototype.Za=l;ij.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Ug.prototype.Za=l;Ug.prototype.ta=function(a,b){return Jd(b,"()")};jj.prototype.Za=l;jj.prototype.ta=function(a,b,c){return Z(b,ql,"#queue ["," ","]",c,E(this))};p.prototype.Za=l;p.prototype.ta=function(a,b,c){return rl(this,ql,b,c)};Wk.prototype.Za=l;Wk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Ck.prototype.Za=l;
Ck.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};rf.prototype.Za=l;rf.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};z.prototype.qd=l;z.prototype.fd=function(a,b){if(b instanceof z)return ye(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};C.prototype.qd=l;C.prototype.fd=function(a,b){if(b instanceof C)return Xg(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};bj.prototype.qd=l;
bj.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};S.prototype.qd=l;S.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};Y.prototype.qd=l;Y.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};nk.prototype.qd=l;
nk.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};mk.prototype.qd=l;mk.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};function Gl(a,b){Pd(a,Rd,b)}var Eb=null;function Nb(a){null==Eb&&(Eb=Uh(0));return ze.aa([t.aa(a),t.aa(Wh.j(Eb,Oe))].join(""))}function Hl(a){this.f=a;this.value=null;this.ga=2147516416;this.la=1}
Hl.prototype.Ib=function(){q(this.f)&&(this.value=this.f.ia?this.f.ia():this.f.call(null),this.f=null);return this.value};Hl.prototype.cf=function(){return yc(this.f)};Hl.prototype.ta=function(a,b,c){Jd(b,"#object[cljs.core.Delay ");ql(new p(null,2,[Il,null==this.f?Jl:Kl,Fl,this.value],null),b,c);return Jd(b,"]")};function Ll(a){return a instanceof Hl?y(a):a}function Ml(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return Re(b)?Qe(b):b}}
function Nl(a){var b=Ml(a);return function(){function c(h,k){return v.ba(b,h,k)}function d(h){return a.aa?a.aa(h):a.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}function Ol(){}
function Pl(a){if(null!=a&&null!=a.th)a=a.th(a);else{var b=Pl[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Pl._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IEncodeJS.-clj-\x3ejs",a);}return a}function Ql(a,b){return(null!=a?l===a.sh||(a.Md?0:Ac(Ol,a)):Ac(Ol,a))?Pl(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof z?b.aa?b.aa(a):b.call(null,a):xl.da(M([a]))}
var Rl=function Rl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return Rl.da(arguments[0],c)};
Rl.da=function(a,b){b=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;var c=B.ba(b,Sl,bh),d=function h(f){if(null==f)return null;if(null!=f?l===f.sh||(f.Md?0:Ac(Ol,f)):Ac(Ol,f))return Pl(f);if(f instanceof C)return c.aa?c.aa(f):c.call(null,f);if(f instanceof z)return t.aa(f);if(Ff(f)){var k={};f=E(f);for(var m=null,n=0,r=0;;)if(r<n){var u=m.La(null,r),w=P(u,0,null);u=P(u,1,null);w=Ql(w,d);u=h(u);k[w]=u;r+=1}else if(f=E(f))If(f)?(n=ae(f),f=be(f),m=n,n=K(n)):(n=H(f),m=P(n,0,null),n=P(n,1,null),m=Ql(m,d),n=
h(n),k[m]=n,f=J(f),m=null,n=0),r=0;else break;return k}if(Cf(f)){k=[];f=E(ci.j(h,f));m=null;for(r=n=0;;)if(r<n)w=m.La(null,r),k.push(w),r+=1;else if(f=E(f))m=f,If(m)?(f=ae(m),r=be(m),m=f,n=K(f),f=r):(f=H(m),k.push(f),f=J(m),m=null,n=0),r=0;else break;return k}return f};return d(a)};Rl.na=1;Rl.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};function Tl(){}
function Ul(a,b){if(null!=a&&null!=a.rh)a=a.rh(a,b);else{var c=Ul[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ul._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Vl(a){var b=M([Wl,!1]),c=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;c=B.j(c,Wl);var d=q(c)?ah:t;return function h(f){return(null!=f?l===f.Li||(f.Md?0:Ac(Tl,f)):Ac(Tl,f))?Ul(f,yh(Ak,b)):Lf(f)?dl(ci.j(h,f)):Wi(f)?new Y(h(gd(f)),h(hd(f))):Cf(f)?si.ba(sf(f),ci.aa(h),f):wc(f)?Vd(v.ba(function(k,m){return qh.j(k,h(m))},Td(qf),f)):Bc(f)===Object?Vd(v.ba(function(k,m){return rh.ba(k,d.aa?d.aa(m):d.call(null,m),h(ib(f,m)))},Td(X),hb(f))):f}(a)}
function Xl(a){var b=Uh(X);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){var f=B.ba(y(b),e,Kf);return f===Kf?(f=yh(a,e),Wh.ja(b,Q,e,f),f):f}c.na=0;c.qa=function(e){e=E(e);return d(e)};c.da=d;return c}()}
var Yl=function Yl(a){switch(arguments.length){case 0:return Yl.ia();case 1:return Yl.aa(arguments[0]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};Yl.ia=function(){return Yl.aa(1)};Yl.aa=function(a){return Math.random()*a};Yl.na=1;function am(a){return Math.floor(Math.random()*a)}function bm(a,b){return Vd(v.ba(function(c,d){var e=a.aa?a.aa(d):a.call(null,d);return rh.ba(c,e,pf.j(B.ba(c,e,qf),d))},Td(X),b))}var cm=null;
function dm(){null==cm&&(cm=Uh(new p(null,3,[em,X,fm,X,gm,X],null)));return cm}function hm(a,b,c){var d=D.j(b,c);if(d)return d;d=gm.aa(a);d=d.aa?d.aa(b):d.call(null,b);if(d=Pf(d,c))return d;if(Hf(c))if(Hf(b))if(K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=hm(a,b.aa?b.aa(e):b.call(null,e),c.aa?c.aa(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function im(a){var b=y(dm());return Eh(B.j(em.aa(b),a))}
function jm(a,b,c,d){Wh.j(a,function(){return y(b)});Wh.j(c,function(){return y(d)})}
var km=function km(a,b,c){var e=function(){var f=y(c);return f.aa?f.aa(a):f.call(null,a)}();e=q(q(e)?e.aa?e.aa(b):e.call(null,b):e)?!0:null;if(q(e))return e;e=function(){for(var f=im(b);;)if(0<K(f)){var h=H(f);km.ba?km.ba(a,h,c):km.call(null,a,h,c);f=Fe(f)}else return null}();if(q(e))return e;e=function(){for(var f=im(a);;)if(0<K(f)){var h=H(f);km.ba?km.ba(h,b,c):km.call(null,h,b,c);f=Fe(f)}else return null}();return q(e)?e:!1};function lm(a,b,c,d){c=km(a,b,c);return q(c)?c:hm(d,a,b)}
var mm=function mm(a,b,c,d,e,f,h,k){var n=v.ba(function(u,w){var A=P(w,0,null);P(w,1,null);if(hm(y(c),b,A)){u=null==u||lm(A,H(u),e,y(c))?w:u;if(!lm(H(u),A,e,y(c)))throw Error(["Multiple methods in multimethod '",t.aa(a),"' match dispatch value: ",t.aa(b)," -\x3e ",t.aa(A)," and ",t.aa(H(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),r=function(){if(null==n){var u=y(d);u=u.aa?u.aa(k):u.call(null,k)}else u=!1;return q(u)?new S(null,2,5,T,[k,u],null):n}();if(q(r)){if(D.j(y(h),
y(c)))return Wh.ja(f,Q,b,mf(r)),mf(r);jm(f,d,h,c);return mm.Jb?mm.Jb(a,b,c,d,e,f,h,k):mm.call(null,a,b,c,d,e,f,h,k)}return null};function nm(a,b,c){if(null!=a&&null!=a.wb)a.wb(a,b,c);else{var d=nm[pa(null==a?null:a)];if(null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=nm._,null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IMultiFn.-add-method",a);}}function om(a,b){throw Error(["No method in multimethod '",t.aa(a),"' for dispatch value: ",t.aa(b)].join(""));}
function pm(a,b,c,d,e,f,h){var k=qm;this.name=a;this.Ea=b;this.Kh=k;this.hierarchy=c;this.tf=d;this.zi=e;this.sf=f;this.Ze=h;this.ga=4194305;this.la=4352}g=pm.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.ia();case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.ba(arguments[1],arguments[2],arguments[3]);case 4:return this.ja(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Yb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Sb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Vb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.ia=function(){var a=this.Ea.ia?this.Ea.ia():this.Ea.call(null),b=rm(this,a);q(b)||om(this.name,a);return b.ia?b.ia():b.call(null)};g.aa=function(a){var b=this.Ea.aa?this.Ea.aa(a):this.Ea.call(null,a),c=rm(this,b);q(c)||om(this.name,b);return c.aa?c.aa(a):c.call(null,a)};
g.j=function(a,b){var c=this.Ea.j?this.Ea.j(a,b):this.Ea.call(null,a,b),d=rm(this,c);q(d)||om(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};g.ba=function(a,b,c){var d=this.Ea.ba?this.Ea.ba(a,b,c):this.Ea.call(null,a,b,c),e=rm(this,d);q(e)||om(this.name,d);return e.ba?e.ba(a,b,c):e.call(null,a,b,c)};g.ja=function(a,b,c,d){var e=this.Ea.ja?this.Ea.ja(a,b,c,d):this.Ea.call(null,a,b,c,d),f=rm(this,e);q(f)||om(this.name,e);return f.ja?f.ja(a,b,c,d):f.call(null,a,b,c,d)};
g.za=function(a,b,c,d,e){var f=this.Ea.za?this.Ea.za(a,b,c,d,e):this.Ea.call(null,a,b,c,d,e),h=rm(this,f);q(h)||om(this.name,f);return h.za?h.za(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.nb=function(a,b,c,d,e,f){var h=this.Ea.nb?this.Ea.nb(a,b,c,d,e,f):this.Ea.call(null,a,b,c,d,e,f),k=rm(this,h);q(k)||om(this.name,h);return k.nb?k.nb(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Yb=function(a,b,c,d,e,f,h){var k=this.Ea.Yb?this.Ea.Yb(a,b,c,d,e,f,h):this.Ea.call(null,a,b,c,d,e,f,h),m=rm(this,k);q(m)||om(this.name,k);return m.Yb?m.Yb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.Jb=function(a,b,c,d,e,f,h,k){var m=this.Ea.Jb?this.Ea.Jb(a,b,c,d,e,f,h,k):this.Ea.call(null,a,b,c,d,e,f,h,k),n=rm(this,m);q(n)||om(this.name,m);return n.Jb?n.Jb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Zb=function(a,b,c,d,e,f,h,k,m){var n=this.Ea.Zb?this.Ea.Zb(a,b,c,d,e,f,h,k,m):this.Ea.call(null,a,b,c,d,e,f,h,k,m),r=rm(this,n);q(r)||om(this.name,n);return r.Zb?r.Zb(a,b,c,d,e,f,h,k,m):r.call(null,a,b,c,d,e,f,h,k,m)};g.Nb=function(a,b,c,d,e,f,h,k,m,n){var r=this.Ea.Nb?this.Ea.Nb(a,b,c,d,e,f,h,k,m,n):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n),u=rm(this,r);q(u)||om(this.name,r);return u.Nb?u.Nb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.Ob=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.Ea.Ob?this.Ea.Ob(a,b,c,d,e,f,h,k,m,n,r):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r),w=rm(this,u);q(w)||om(this.name,u);return w.Ob?w.Ob(a,b,c,d,e,f,h,k,m,n,r):w.call(null,a,b,c,d,e,f,h,k,m,n,r)};g.Pb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.Ea.Pb?this.Ea.Pb(a,b,c,d,e,f,h,k,m,n,r,u):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u),A=rm(this,w);q(A)||om(this.name,w);return A.Pb?A.Pb(a,b,c,d,e,f,h,k,m,n,r,u):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};
g.Qb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.Ea.Qb?this.Ea.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w),G=rm(this,A);q(G)||om(this.name,A);return G.Qb?G.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Rb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.Ea.Rb?this.Ea.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A),I=rm(this,G);q(I)||om(this.name,G);return I.Rb?I.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.Ea.Sb?this.Ea.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G),F=rm(this,I);q(F)||om(this.name,I);return F.Sb?F.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Tb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.Ea.Tb?this.Ea.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I),N=rm(this,F);q(N)||om(this.name,F);return N.Tb?N.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.Ea.Ub?this.Ea.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F),O=rm(this,N);q(O)||om(this.name,N);return O.Ub?O.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.Ea.Vb?this.Ea.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N),U=rm(this,O);q(U)||om(this.name,O);return U.Vb?U.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};
g.Wb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.Ea.Wb?this.Ea.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O),ea=rm(this,U);q(ea)||om(this.name,U);return ea.Wb?ea.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.Ea.Xb?this.Ea.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U),va=rm(this,ea);q(va)||om(this.name,ea);return va.Xb?va.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):va.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};
g.xe=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=Ch(this.Ea,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea])),wa=rm(this,va);q(wa)||om(this.name,va);return Ch(wa,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea]))};g.wb=function(a,b,c){Wh.ja(this.tf,Q,b,c);jm(this.sf,this.tf,this.Ze,this.hierarchy);return this};
function rm(a,b){D.j(y(a.Ze),y(a.hierarchy))||jm(a.sf,a.tf,a.Ze,a.hierarchy);var c=y(a.sf);c=c.aa?c.aa(b):c.call(null,b);return q(c)?c:mm(a.name,b,a.hierarchy,a.tf,a.zi,a.sf,a.Ze,a.Kh)}g.ze=function(){return ce(this.name)};g.Ae=function(){return de(this.name)};g.wa=function(){return ya(this)};function sm(a){this.de=a;this.fa=null;this.ga=2153775104;this.la=2048}g=sm.prototype;g.toString=function(){return this.de};g.equiv=function(a){return this.oa(null,a)};
g.oa=function(a,b){return b instanceof sm&&this.de===b.de};g.ta=function(a,b){return Jd(b,['#uuid "',t.aa(this.de),'"'].join(""))};g.wa=function(){null==this.fa&&(this.fa=ve(this.de));return this.fa};g.fd=function(a,b){return ab(this.de,b.de)};
function tm(){function a(){return am(16).toString(16)}var b=(8|3&am(16)).toString(16);return new sm([t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-4",t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(b),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a())].join("").toLowerCase())}
function um(a,b,c){var d=Error(a);this.message=a;this.data=b;this.ug=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}um.prototype.__proto__=Error.prototype;um.prototype.Za=l;
um.prototype.ta=function(a,b,c){Jd(b,"#error {:message ");ql(this.message,b,c);q(this.data)&&(Jd(b,", :data "),ql(this.data,b,c));q(this.ug)&&(Jd(b,", :cause "),ql(this.ug,b,c));return Jd(b,"}")};um.prototype.toString=function(){return le(this)};function vm(a,b){return new um(a,b,null)}
function wm(){q(Gc)||(Gc=function(){for(var a=Vf(function(e,f){return f.length-e.length},hb(Fc)),b="";;)if(E(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.aa(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Gc}
function xm(a){var b=t.aa(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(wm(),"g");b=q(ub(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(q(f))f=P(f,0,null),d=[d,t.aa(b.substring(e,c.lastIndex-f.length)),t.aa("$"===f?"/":ib(Fc,f))].join(""),e=c.lastIndex;else{c=[d,t.aa(b.substring(e,b.length))].join("");break a}}}a=a instanceof z?ze:t;return a.aa?a.aa(c):a.call(null,c)}"undefined"!==typeof console&&uc();uc();var ym=new C(null,"ns","ns",441598760),zm=new C(null,"expected","expected",1583670997),Am=new C(null,"components","components",-1073188942),Xf=new C(null,"div.flex-1","div.flex-1",2004402050),Bm=new C(null,"data-error","data-error",-1058016301),Cm=new C(null,"apparent-success","apparent-success",242592222),Dm=new z(null,aa,aa,770546058,null),Em=new C("chsk","error","chsk/error",-984175439),Fm=new C(null,"p2","p2",905500641),Gm=new z(null,"defrecord*","defrecord*",-1936366207,null),Hm=new C(null,"p1",
"p1",-936759954),Im=new C(null,"level","level",1290497552),Jm=new C("db","current-tx","db/current-tx",1600722132),Km=new C(null,"type-tag","type-tag",-1873863267),Lm=new C(null,"?err_","?err_",789480858),Mm=new C(null,"ms","ms",-1152709733),Nm=new C(null,"middleware-fn","middleware-fn",-61585752),Pm=new C(null,"readers","readers",-2118263030),Qm=new C(null,"line","line",212345235),Rm=new z(null,"!\x3d","!\x3d",-201205829,null),Sm=new C("db","unique","db/unique",329396388),Tm=new C("db","isComponent",
"db/isComponent",423352398),Um=new C(fa,"flush-tuples","datascript.db/flush-tuples",-797350002),Ph=new C("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Vm=new z(null,"ns*","ns*",1840949383,null),Wm=new C(null,"lp-timeout","lp-timeout",1149461302),Rh=new C(null,"div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer","div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer",
-1098663220),Xm=new C(null,"start-block-t","start-block-t",-373430594),Ym=new C(null,"limit","limit",-1355822363),Om=new C(null,"on-dispose","on-dispose",2105306360),Zm=new C(null,"per-line-prefix","per-line-prefix",846941813),$m=new C(null,"form-str","form-str",871608859),an=new C("db.type","tuple","db.type/tuple",938234914),bn=new C("lookup-ref","unique","lookup-ref/unique",-960647710),cn=new C(fa,"value-tempids","datascript.db/value-tempids",244806162),dn=new z(da,"ends-with?","clojure.string/ends-with?",
-745964149,null),en=new C(null,"headers","headers",-835030129),fn=new C(null,"string","string",-1989541586),gn=new C(null,"avet","avet",1383857032),hn=new C(null,"data","data",-232669377),jn=new C(null,"factor","factor",-2103172748),kn=new z(null,"identity","identity",-1007039734,null),ln=new z(null,"max","max",1701898075,null),nn=new C(null,"end-line","end-line",1837326455),on=new z(null,"fn*","fn*",-752876845,null),pn=new C(null,"ks","ks",1900203942),qn=new C(ca,"amp","cljs.spec.alpha/amp",831147508),
rn=new C("transact","syntax","transact/syntax",-299207078),sn=new C(null,"abort","abort",521193198),tn=new C(null,"allow","allow",-1857325745),un=new C(null,"source","source",-433931539),vn=new C(null,"done-nl","done-nl",-381024340),wn=new C(null,"private","private",-558947994),xn=new C(null,"bindings","bindings",1271397192),yn=new C(ca,"alt","cljs.spec.alpha/alt",523685437),zn=new C(null,"?status","?status",938730360),An=new z(aa,"fn","cljs.core/fn",-1065745098,null),Bn=new z(null,"median","median",
-2084869638,null),Il=new C(null,"status","status",-1997798413),Cn=new C(null,"version","version",425292698),Dn=new C(null,"circle","circle",1903212362),fm=new C(null,"descendants","descendants",1824886031),Fn=new C(null,"report","report",1394055010),Gn=new C(null,"strs","strs",1175537277),Hn=new C(null,"start","start",-355208981),In=new C(null,"days","days",-1394072564),Jn=new C(null,"ns-whitelist","ns-whitelist",-1717299774),Kn=new z(null,"identical?","identical?",-745864205,null),Ln=new z(null,
"complement","complement",-913606051,null),Mn=new z(aa,"deref","cljs.core/deref",1901963335,null),Nn=new C("transact","cas","transact/cas",816687170),mn=new C(null,"on-click","on-click",1632826543),On=new C(null,"recur","recur",-437573268),Pn=new C(ca,"nil","cljs.spec.alpha/nil",1733813950),Qn=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),Rn=new C("db.fn","cas","db.fn/cas",-379352172),Sn=new C(null,"deny-spec","deny-spec",-1074984268),Tn=new C(null,"port","port",1534937262),Un=new C("chsk",
"timeout","chsk/timeout",-319776489),Vn=new C(null,"*?data*","*?data*",1047537922),Xn=new C(null,"http","http",382524695),Yn=new C(null,"mandatory","mandatory",542802336),Zn=new z(null,"resolve-datom","resolve-datom",-294110827,null),$n=new C(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),ao=new C(null,"udt","udt",2011712751),bo=new C(null,"length","length",588987862),co=new C(null,"end-column","end-column",1425389514),eo=new C(null,"appender-id","appender-id",-1917983538),fo=new z(null,"with-open",
"with-open",172119667,null),go=new C(null,"timeout-ms","timeout-ms",754221406),En=new C(null,"getInitialState","getInitialState",1541760916),ho=new C(null,"ps","ps",292358046),Rd=new C("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),io=new C(null,"opts","opts",155075701),jo=new z(null,"list","list",-1889078086,null),ko=new C(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),lo=new C(null,"not-delivered","not-delivered",1599158697),mo=new z(null,"if-not","if-not",
-265415609,null),to=new C(null,"blacklist","blacklist",1248093170),uo=new C(ha,"expand-rev","datascript.pull-api/expand-rev",2143627459),vo=new C(null,"state","state",-1988618099),wo=new C(null,"base-args","base-args",-1268706822),xo=new C(null,"db-before","db-before",-553691536),yo=new z(null,"\x3d\x3d","\x3d\x3d",-234118149,null),zo=new z(aa,"unquote","cljs.core/unquote",1013085760,null),Ao=new C(null,"return-map","return-map",1620104901),Hk=new C(aa,"not-found","cljs.core/not-found",-1572889185),
Bo=new C(null,"eids","eids",1546550700),Wn=new C(null,"no-cache","no-cache",1588056370),Co=new z(null,"compare","compare",1109853757,null),Do=new C(null,"vargs_","vargs_",552132148),Eo=new C(null,"server","server",1499190120),Fo=new C(null,"expand-rev","expand-rev",1249112650),Go=new C(null,"def","def",-1043430536),Ho=new z(null,"dotimes","dotimes",-818708397,null),Io=new C(null,"raw-console?","raw-console?",-2061489061),Jo=new C(null,"conform-keys","conform-keys",-1800041814),Ko=new C("widget.type",
"vega-lite","widget.type/vega-lite",1594251738),Lo=new C(null,"exception","exception",-335277064),No=new C(null,"op","op",-1882987955),Oo=new z(null,"finally","finally",-1065347064,null),Po=new z(null,"str","str",-1564826950,null),Qo=new z(null,"/","/",-1371932971,null),Ro=new z(null,"stddev","stddev",775056588,null),So=new C(null,"buffering","buffering",-876713613),To=new z(aa,"string?","cljs.core/string?",-2072921719,null),Uo=new C("ajax","bad-response-type","ajax/bad-response-type",789441015),
Vo=new C("db","tupleAttrs","db/tupleAttrs",250080092),Wo=new C(null,"clean?","clean?",-1675631009),Xo=new C(null,"tx-meta","tx-meta",1159283194),Yo=new C(null,"prefix-clauses","prefix-clauses",1294180028),Zo=new C(null,"illegal-argument","illegal-argument",-1845493170),$o=new C("mem","all","mem/all",892075139),ap=new C(null,"opt-un","opt-un",883442496),bp=new C(null,"first-open?","first-open?",396686530),cp=new C("chsk","ws-ping","chsk/ws-ping",191675304),dp=new C(null,"rule","rule",729973257),ep=
new C("debug","timeout","debug/timeout",309499949),fp=new C("schema","validation","schema/validation",1178447161),gp=new C(null,"right-margin","right-margin",-810413306),hp=new C(null,"wildcard?","wildcard?",-686044101),ip=new z(null,"pos?","pos?",-244377722,null),jp=new C("query","inputs","query/inputs",1042810394),kp=new C(null,"wrong-id-type","wrong-id-type",-1213601689),lp=new C(null,"exponentchar","exponentchar",1986664222),mp=new C(null,"attribute","attribute",-2074029119),np=new z(null,"default",
"default",-347290801,null),op=new z(da,"includes?","clojure.string/includes?",-1842146260,null),pp=new C(null,"tx","tx",466630418),qp=new C("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),rp=new z(null,"locking","locking",1542862874,null),sp=new C(null,"uid","uid",-1447769400),tp=new C(null,"directive","directive",793559132),no=new C(null,"function-components","function-components",1492814963),up=new z(null,"subs","subs",1453849536,null),vp=new C(null,"seq","seq",-1817803783),wp=
new C(null,"qname","qname",-1983612179),kg=new C(null,"where","where",-2044795965),xp=new z(null,"pr-str","pr-str",-2066912145,null),yp=new C(null,"set","set",304602554),zp=new C(null,"flush?","flush?",-108887231),Ap=new z(null,"or-join","or-join",591375469,null),Bp=new C(null,"handshake?","handshake?",-423743093),Cp=new C(ca,"name","cljs.spec.alpha/name",205233570),Dp=new z(null,"sum","sum",1777518341,null),Ep=new z(null,"some?","some?",234752293,null),Fp=new z(null,"min","min",2085523049,null),
Mo=new C(null,"div.flex-1.bg-white.px-3.py-1.font-thin","div.flex-1.bg-white.px-3.py-1.font-thin",1633962198),Gp=new C(null,"handshake","handshake",68079331),Hp=new C(null,"error","error",-978969032),Ip=new C(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Jp=new C(null,"base","base",185279322),Kp=new C(null,"actual","actual",107306363),Lp=new C(null,"event","event",301435442),Np=new C(null,"noop","noop",-673731258),Op=new C(null,"trailing-white-space","trailing-white-space",1496006996),
Zp=new C(null,"div","div",1057191632),Pp=new z(null,"letfn*","letfn*",-110097810,null),Qp=new C(null,"handshake-data","handshake-data",-278378864),Rp=new C(null,"prefix","prefix",-265908465),Sp=new C("parser","binding","parser/binding",-346395752),jg=new z(null,"$","$",-1580747756,null),Tp=new C("query","binding","query/binding",698240489),Up=new C(null,"right-params","right-params",-1790676237),Vp=new C(null,"start-pos","start-pos",668789086),Sl=new C(null,"keyword-fn","keyword-fn",-64566675),Wp=
new C(null,"first","first",-644103046),Xp=new z(null,"let*","let*",1920721458,null),$p=new C(null,"pathname","pathname",-1420497528),aq=new z(null,"limit","limit",284709164,null),fg=new C("widget","children","widget/children",485181574),bq=new C("db.fn","retractEntity","db.fn/retractEntity",-1423535441),Iq=new C(null,"component-will-unmount","component-will-unmount",-2058314698),dq=new z(null,"re-seq","re-seq",-2105554076,null),eq=new z(null,"when-first","when-first",821699168,null),fq=new C(null,
"ns-blacklist","ns-blacklist",1957763142),gq=new C(null,"?err","?err",549653299),hq=new C(null,"depth","depth",1768663640),iq=new C(null,"multi?","multi?",-749311069),jq=new C(null,"onmessage-fn","onmessage-fn",1633804172),kq=new C(null,"?error","?error",1070752222),lq=new C(null,"href","href",-793805698),mq=new z(null,"recur","recur",1202958259,null),nq=new C("widget.type","markdown","widget.type/markdown",177221797),oq=new z(null,"variance","variance",-1522424942,null),pq=new C(null,"type","type",
1174270348),qq=new C(null,"none","none",1333468478),rq=new z(null,"_","_",-1201019570,null),sq=new C(null,"style","style",-496642736),tq=new C(null,"impl_","impl_",1218818179),uq=new C("parser","rule-var","parser/rule-var",-1584354459),Yq=new C(null,"callback","callback",-705136228),es=new C(null,"span.text-lg.text-gray-700.py-6","span.text-lg.text-gray-700.py-6",1537118948),vq=new C(null,"reader-error","reader-error",1610253121),wq=new z(null,"v","v",1661996586,null),xq=new C(ca,"op","cljs.spec.alpha/op",
-1269055252),yq=new z(null,"m","m",-1021758608,null),zq=new z(null,"k","k",-505765866,null),Aq=new C(null,"ws","ws",86841443),Bq=new C(null,"span","span",1394872991),Cq=new C("widget","code","widget/code",-845791534),Dq=new C(null,"async?","async?",1523057758),Eq=new C("entity-id","missing","entity-id/missing",1234588374),Fq=new z(null,"count","count",-514511684,null),Gq=new C(null,"no-stacktrace?","no-stacktrace?",1701072694),Hq=new C(null,"code","code",1586293142),Qq=new C(null,"keys","keys",1068423698),
Sq=new C(null,"qfind","qfind",1529332972),Tq=new C(null,"intra-block-nl","intra-block-nl",1808826875),Uq=new C("parser","rule-vars","parser/rule-vars",-1493174969),Vq=new C(null,"gen-max","gen-max",-793680445),rc=new C(null,"meta","meta",1499536964),Wq=new z(null,"not-join","not-join",-645515756,null),Xq=new C(null,"deny","deny",1589338523),Zq=new C("widget.type","html","widget.type/html",-2034153477),$q=new C(null,"subpattern","subpattern",45002743),ar=new C(null,"datoms","datoms",-290874434),br=
new C(null,"search","search",1564939822),ks=new C(null,"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500","div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500",2054366269),cr=new C("literate","widget","literate/widget",-1743430817),dr=new C(null,"right","right",-452581833),er=new z(null,"println-str","println-str",-2049216703,null),fr=new C(null,"host","host",-1558485167),gr=new C(null,"err","err",-2089457205),hr=new z(null,"when","when",1064114221,
null),ir=new z(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),jr=new z(aa,"set?","cljs.core/set?",-1176684971,null),kr=new C(null,"logical-blocks","logical-blocks",-1466339776),lr=new C(null,"\x3cserver","\x3cserver",-2135373537),mr=new z(null,"quot","quot",-1125214196,null),nr=new C(null,"colinc","colinc",-584873385),or=new C(null,"auto","auto",-566279492),ag=new C(null,"find","find",496279456),pr=new z(null,"\x3e\x3d","\x3e\x3d",1016916022,null),qr=new C(null,"fatal","fatal",1874419888),
rr=new C(null,"logical-block","logical-block",-581022564),sr=new C(null,"rate-limit","rate-limit",1748082022),tr=new z(null,"nil?","nil?",1612038930,null),ur=new C(null,"namespaced-keyword","namespaced-keyword",131372895),vr=new C(null,"your-version","your-version",-351781765),wr=new z(null,"or","or",1876275696,null),xr=new C(null,"col","col",-1959363084),yr=new C("db","fn","db/fn",-1175261470),zr=new C(null,"?ns-str","?ns-str",2012733966),ns=new C("widget.geoplot","height","widget.geoplot/height",
774138358),Ar=new C("entity-id","syntax","entity-id/syntax",1921317045),Br=new C(null,"current","current",-1088038603),Cr=new C(null,"writing","writing",-1486865108),Dr=new C(null,"ch-recv","ch-recv",-990916861),Er=new C(null,"start-col","start-col",668080143),Fr=new C(null,"into","into",-150836029),Gr=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),Hr=new z(null,"set!","set!",250714521,null),Ir=new C(null,"uri-str","uri-str",304128675),Jr=new C(null,"parent","parent",-878878779),
Kr=new C(null,"instance-handle_","instance-handle_",-1923384457),Ls=new C("widget.geoplot","style","widget.geoplot/style",1499653960),Lr=new C(null,"new","new",-2085437848),Mr=new C("query","where","query/where",-1935159429),Nr=new C("db","retract","db/retract",-1549825231),Or=new C(null,"free","free",801364328),mg=new z(null,"missing?","missing?",-1710383910,null),Rs=new C(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Pr=new z(aa,"map?","cljs.core/map?",-1390345523,null),Qr=new C(null,
"seen","seen",-518999789),Rr=new C(null,"instant","instant",655498374),Sr=new z(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Tr=new z(null,"\x26","\x26",-2144855648,null),Ur=new C(null,"ex-kind","ex-kind",1581199296),Vr=new C(null,"internal","internal",-854870097),tu=new C(null,"reagentRender","reagentRender",-358306383),Wr=new C(null,"right-bracket","right-bracket",951856080),Xr=new C(null,"last-ws-error","last-ws-error",-820288502),Yr=new C(null,"req-id","req-id",-471642231),Zr=new C(null,"schema",
"schema",-1582001791),$r=new C(null,"tx-data","tx-data",934159761),as=new C(null,"amp","amp",271690571),bs=new C("db.unique","value","db.unique/value",276903088),cs=new C(null,"csrf-token","csrf-token",-1872302856),ds=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),fs=new C("chsk","state","chsk/state",-1991397620),gs=new z(null,"-Inf","-Inf",-2123243689,null),Yf=new C("db","id","db/id",-1388397098),hs=new C(null,"vars","vars",-2046957217),is=new C(null,"any","any",1705907423),js=new C(null,"client-uuid",
"client-uuid",-1717531965),ls=new z(null,"name","name",-810760592,null),ms=new C(null,"operation","operation",-1267664310),qm=new C(null,"default","default",-1987822328),os=new C(null,"secs","secs",1532330091),ps=new z("clojure.core","deref","clojure.core/deref",188719157,null),qs=new C(null,"padchar","padchar",2018584530),rs=new C(null,"unexpected","unexpected",-1137752424),ss=new C(null,"elidable?","elidable?",248362249),ts=new C(null,"cache?","cache?",-1601953949),tc=new C(null,"print-length",
"print-length",1931866356),us=new C(null,"nil","nil",99600501),vs=new z(null,"odd?","odd?",-1458588199,null),eg=new C(null,"*","*",-1294732318),ws=new C(null,"json","json",1279968570),xs=new C(null,"allow-spec","allow-spec",448749872),ys=new C("db","retractEntity","db/retractEntity",-1452737935),zs=new C(null,"no-op","no-op",-93046065),As=new z(null,"zero?","zero?",325758897,null),Bs=new C(null,"buffer-block","buffer-block",-10937307),Cs=new C(null,"reader-exception","reader-exception",-1938323098),
Ds=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),Es=new C(null,"recursion","recursion",-749738765),Fs=new z(null,"-","-",-471816912,null),Gs=new C(null,"req-un","req-un",1074571008),Hs=new z(null,"keyword","keyword",-1843046022,null),Is=new C(null,"forms","forms",2045992350),Js=new C("db","attrTuples","db/attrTuples",860541631),Ks=new C(null,"cur","cur",1153190599),Ms=new C(null,"branches","branches",-1240337268),Ns=new z(null,"def","def",597100991,null),Os=new z(null,"dec",
"dec",-766002333,null),Ps=new C(fa,"internal","datascript.db/internal",-249301114),Qs=new z(null,"rand","rand",-1745930995,null),Wl=new C(null,"keywordize-keys","keywordize-keys",1310784252),Ss=new C("widget","type","widget/type",-1894308144),Ts=new C(null,"pos","pos",-864607220),Us=new C(ca,"v","cljs.spec.alpha/v",552625740),av=new C(null,"on-write","on-write",31519475),Vs=new C("transact","upsert","transact/upsert",412688078),Ws=new C(ca,"k","cljs.spec.alpha/k",-1602615178),Xs=new C(null,"kvps",
"kvps",65308317),Ys=new C(null,"info","info",-317069002),Zs=new C(null,"output-fn","output-fn",1600951539),$s=new z(null,"set","set",1945134081,null),at=new C(null,"commainterval","commainterval",-1980061083),bt=new C("mem","del","mem/del",574870667),ct=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),dt=new C(null,"elements","elements",657646735),et=new C(null,"send-buffers","send-buffers",-1788003787),ft=new C(null,"total","total",1916810418),gt=new C(null,"separator","separator",
-1628749125),ht=new z("datascript","Datom","datascript/Datom",-901340080,null),it=new z(null,"defonce","defonce",-1681484013,null),jt=new C(null,"?content","?content",1697782054),Fv=new C(null,"div.w-full","div.w-full",-1626749092),kt=new z(null,"%","%",-950237169,null),lt=new C(null,"form","form",-1624062471),mt=new C(null,"pretty-writer","pretty-writer",-1222834267),Yp=new z(null,"p1__24414#","p1__24414#",-1146977367,null),nt=new z(null,"..","..",-300507420,null),ot=new C(fa,"tx-redundant","datascript.db/tx-redundant",
-1117921977),pt=new C(null,"length-computable?","length-computable?",1915473276),qt=new z(null,"not\x3d","not\x3d",1466536204,null),rt=new C(null,"validator","validator",-1966190681),st=new C(null,"pretty","pretty",-1916372486),tt=new C(null,"unnamespaced-id","unnamespaced-id",1976189772),ut=new C(null,"buffer-level","buffer-level",928864731),vt=new z(null,"range","range",-1014743483,null),wt=new z(da,"blank?","clojure.string/blank?",1772874244,null),xt=new C("rl","all","rl/all",892118056),yt=new C(null,
"ever-opened?","ever-opened?",1128459732),zt=new C(null,"fragment","fragment",826775688),Kl=new C(null,"pending","pending",-220036727),At=new C(ca,"invalid","cljs.spec.alpha/invalid",-1220295119),Bt=new C(ca,"pcat","cljs.spec.alpha/pcat",26406623),Iv=new C("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),qc=new C(null,"readably","readably",1129599760),Qv=new C(null,"contextTypes","contextTypes",-2023853910),Ct=new C(null,"chsk","chsk",-863703081),Dt=new C(null,"file","file",
-1269645878),Et=new C(null,"error-handler","error-handler",-484945776),Ft=new C(null,"rschema","rschema",-1196134054),Gt=new C(null,"progress-fn","progress-fn",-1146547855),Ht=new C(null,"fill","fill",883462889),Rv=new C(null,"i.zmdi.zmdi-close","i.zmdi.zmdi-close",1663309273),Jt=new C(null,"client-id","client-id",-464622140),Kt=new C(null,"attrs","attrs",-2090668713),Lt=new C(ha,"recursion","datascript.pull-api/recursion",-1897884534),Mt=new C(null,"months","months",-45571637),Nt=new C(null,"radix",
"radix",857016463),Ot=new C(null,"send-fn","send-fn",351002041),Pt=new C("parser","with","parser/with",-386255821),St=new C(null,"text","text",-1790561697),Ut=new C(null,"distinct","distinct",-1788879121),Vt=new C(null,"ns-str","ns-str",-2062616499),Wt=new z(null,"uuid","uuid",-504564192,null),Xt=new C(null,"udt-last-comms_","udt-last-comms_",-145799639),Yt=new C(null,"entity-id","entity-id",1485898093),Zt=new C(null,"wildcard","wildcard",-622473020),$t=new z(null,"queue","queue",-1198599890,null),
au=new C(null,"block","block",664686210),bu=new C(null,"else","else",-1508377146),cu=new C(null,"variable","variable",-281346492),du=new z(null,"case*","case*",-1938255072,null),eu=new C(null,"params","params",710516235),gm=new C(null,"ancestors","ancestors",-776045424),fu=new C(null,"tuples","tuples",-676032639),gu=new C(null,"listeners","listeners",394544445),hu=new C(null,"retry-count_","retry-count_",20238093),iu=new C("db","cardinality","db/cardinality",-104975659),ku=new z(null,"struct-map",
"struct-map",-1387540878,null),lu=new C(null,"hostname","hostname",2105669933),mu=new C(null,"rest","rest",-1241696419),nu=new C(null,"min-remaining","min-remaining",962687677),ou=new C(null,"?data","?data",-9471433),pu=new C(null,"offset","offset",296498311),qu=new C(null,"var","var",-769682797),ru=new C(null,"commachar","commachar",652859327),su=new C(null,"error-level?","error-level?",778415885),uu=new C(null,"ring-req","ring-req",-747861961),vu=new C(null,"loaded","loaded",-1246482293),wu=new z(null,
"re-find","re-find",1143444147,null),Fl=new C(null,"val","val",128701612),xu=new z(aa,"zipmap","cljs.core/zipmap",-1902130674,null),yu=new z(null,"-\x3e","-\x3e",-2139605430,null),zu=new C(null,"db-after","db-after",-571884666),dw=new C(null,"render","render",-1408033454),Au=new C(null,"entity","entity",-450970276),Bu=new C(null,"timeout","timeout",-318625318),Cu=new C(null,"arglists","arglists",1661989754),Ew=new C(null,"div.flex.flex-col","div.flex.flex-col",255067761),Du=new z(null,"js*","js*",
-1134233646,null),Eu=new C(null,"end-pos","end-pos",-1643883926),Jw=new C(null,"auto-run","auto-run",1958400437),Fu=new C(null,"min-version","min-version",-1697197126),Gu=new C(null,"pred-forms","pred-forms",172611832),Hu=new C(null,"hours","hours",58380855),Iu=new C(null,"trace-evs?","trace-evs?",1502453512),Ju=new z(null,"catch","catch",-1616370245,null),Ku=new z(null,"tuple","tuple",1167864243,null),Lu=new z(null,"count-distinct","count-distinct",-1566572514,null),Mu=new C(null,"get","get",1683182755),
Nu=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Ou=new C(null,"kind","kind",-717265803),Pu=new C(null,"method","method",55703592),Qu=new C(null,"val-type","val-type",-279850094),Ru=new z(null,"defn","defn",-126010802,null),Su=new C(null,"specs","specs",1426570741),Tu=new z(null,"struct","struct",325972931,null),Uu=new C("db.fn","call","db.fn/call",-151594418),Vu=new C("widget.type","code","widget.type/code",-673996494),Wu=new C(null,"gfn","gfn",791517474),Xu=new C(null,"years",
"years",-1298579689),Yu=new C(null,"namespaced-map","namespaced-map",1235665380),Zu=new z(null,"prn-str","prn-str",-145225943,null),$u=new C(ca,"accept","cljs.spec.alpha/accept",370988198),hg=new z(null,"...","...",-1926939749,null),my=new C(null,"constructor","constructor",-1953928811),py=new C(null,"childContextTypes","childContextTypes",578717991),bv=new C(null,"onerror-fn","onerror-fn",1069372505),cv=new C(null,"xhr","xhr",-177710851),dv=new C(null,"eavt","eavt",-666437073),ev=new C(null,"mins",
"mins",467369676),fv=new C(null,"tag","tag",-1290361223),gv=new C(null,"hostname_","hostname_",-2091647379),hv=new C(null,"linear","linear",872268697),iv=new z(null,"new","new",-444906321,null),jv=new C("db","cas","db/cas",-451542322),kv=new C(null,"other","other",995793544),lv=new z(null,"\x3e","\x3e",1085014381,null),mv=new C(null,"?msg-fmt","?msg-fmt",-852453891),nv=new C(null,"sections","sections",-886710106),ov=new C(null,"lines","lines",-700165781),pv=new z(null,"do","do",1686842252,null),qv=
new C(null,"colon","colon",-965200945),rv=new C("literate","widgets","literate/widgets",1235755088),$U=new C(null,"color","color",1011675173),sv=new C(null,"edn","edn",1317840885),tv=new C(null,"keys-pred","keys-pred",858984739),vv=new C(null,"?line","?line",-631853385),wv=new C(null,"test","test",577538877),xv=new z(null,"\x3d","\x3d",-1501502141,null),yv=new C(null,"minpad","minpad",323570901),It=new z(null,"p1__24413#","p1__24413#",-1380168101,null),zv=new z("datascript","DB","datascript/DB",-487332776,
null),sl=new C(null,"alt-impl","alt-impl",670969595),Av=new z(null,"not-empty","not-empty",2029453590,null),Bv=new C(null,"conflict","conflict",1978796605),Cv=new C(null,"datom","datom",-371556090),Dv=new z(ca,"keys","cljs.spec.alpha/keys",1109346032,null),Ev=new C(null,"given","given",716253602),Gv=new z(null,"db","db",-1661185010,null),Hv=new z(null,"with-local-vars","with-local-vars",837642072,null),Jv=new z(null,"aggregate","aggregate",-1142967327,null),Kv=new C(null,"udt-next-reconnect","udt-next-reconnect",
-1990375733),Lv=new z(null,"and","and",668631710,null),Mv=new z(null,"try","try",-1273693247,null),Nv=new C(null,"location","location",1815599388),Ov=new C(null,"xml","xml",-1170142052),Pv=new z(null,"throw","throw",595905694,null),Ay=new C(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",1209242693),Sv=new z(null,"array-map","array-map",1555038968,null),My=new C(null,"font-family","font-family",-667419874),Tv=new C(null,"?reply-fn","?reply-fn",-1479510592),Uv=new z(null,
"let","let",358118826,null),pc=new C(null,"flush-on-newline","flush-on-newline",-151457939),Vv=new z(null,"print-str","print-str",-699700354,null),Wv=new C(null,"opt-specs","opt-specs",-384905450),Xv=new z(null,"meta","meta",-1154898805,null),Yv=new C(null,"wrong-length","wrong-length",1367572281),Zv=new C(null,"rules","rules",1198912366),$v=new C(null,"rels","rels",1770187185),aw=new C(null,"pred-exprs","pred-exprs",1792271395),bw=new z(null,"if","if",1181717262,null),cw=new z(null,"get-some","get-some",
409442058,null),ew=new C(null,"binding","binding",539932593),fw=new C(null,"character","character",380652989),gw=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),hw=new C(null,"eid","eid",559519930),iw=new C(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),rz=new C(null,"reagent-render","reagent-render",-985383853),jw=new z(null,"hash-map","hash-map",-439030950,null),kw=new z(null,"loop*","loop*",615029416,null),lw=new C(null,"min-count","min-count",1594709013),mw=new C(null,"last","last",1105735132),
nw=new z(null,"quote","quote",1377916282,null),ow=new z(aa,"vector?","cljs.core/vector?",-1550392028,null),pw=new z(aa,"lift-ns","cljs.core/lift-ns",463499081,null),qw=new C(null,"k","k",-2146297393),Iz=new C(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",-1554471704),rw=new C(null,"hierarchy","hierarchy",-1053470341),sw=new C(null,"qreturn-map","qreturn-map",1841215994),tw=new C(null,"e","e",1381269198),uw=new C(null,"f","f",-1597136552),vw=new C(null,"trace","trace",-1082747415),ww=
new C(null,"d","d",1972142424),xw=new C(null,"a","a",-2123407586),yw=new C("rl","reset","rl/reset",-800926172),cg=new z(null,"pull","pull",779986722,null),zw=new C(null,"ajax-cb","ajax-cb",-807060321),Aw=new z(da,"starts-with?","clojure.string/starts-with?",656256322,null),Bw=new C(null,"w","w",354169001),Cw=new z(null,"fn","fn",465265323,null),Dw=new C(null,"v","v",21465059),Fw=new C(null,"last-close","last-close",-2054255782),Gw=new C(null,"strable","strable",1877668047),Hw=new C(null,"p","p",151049309),
Lz=new C(null,"componentWillUnmount","componentWillUnmount",1573788814),Iw=new C(null,"n","n",562130025),PB=new C(null,"contextType","contextType",1033066077),Kw=new C(null,"func","func",-238706040),Lw=new C(null,"symbol","symbol",-1038572696),Mw=new C(null,"got","got",-1674745710),Nw=new z(aa,"contains?","cljs.core/contains?",-976526835,null),Ow=new C(null,"indent-t","indent-t",528318969),Pw=new z(null,"lift-ns","lift-ns",602311926,null),Qw=new C(null,"middleware","middleware",1462115504),RB=new C(null,
"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),GF=new C(null,"ref","ref",1289896967),Rw=new C(null,"value","value",305978217),Sw=new C(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),tl=new C(null,"fallback-impl","fallback-impl",-1501286995),Tw=new C(null,"sources","sources",-321166424),HF=new C(null,"display-name","display-name",694513143),Uw=new C(null,"enabled?","enabled?",-1376075057),Vw=new z(null,"ns","ns",2082130287,null),Ww=new C(null,"req","req",-326448303),Xw=new C(null,
"height","height",1025178622),Yw=new C(null,"ret","ret",-468222814),Zw=new C("parser","rule","parser/rule",-464044566),$w=new C(null,"done","done",-889844188),ax=new C(null,"chs","chs",376886120),bx=new C(null,"both","both",-393648840),cx=new C(null,"debug","debug",-1608172596),dx=new C(null,"vector","vector",1902966158),ex=new C(null,"req-specs","req-specs",553962313),fx=new C(null,"end","end",-268185958),gx=new C(null,"wrong-type","wrong-type",929556915),hx=new C(null,"connected-uids","connected-uids",
1454332231),ix=new z(null,"distinct","distinct",-148347594,null),jx=new z(null,"get-else","get-else",1312024065,null),kx=new C(null,"className","className",-1983287057),lx=new C(null,"buffer-blob","buffer-blob",-1830112173),mx=new C(null,"allows-separator","allows-separator",-818967742),IF=new C(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),nx=new z("clojure.core","unquote","clojure.core/unquote",843087510,null),ox=new C(null,"appenders","appenders",1245583998),px=new C(null,
"colon-up-arrow","colon-up-arrow",244853007),gg=new z(null,"*","*",345799209,null),qx=new C("rl","peek","rl/peek",-291391771),rx=new C(null,"flags","flags",1775418075),sx=new C(null,"eof","eof",-489063237),tx=new z(null,"-differ?","-differ?",1465687357,null),ux=new C(null,"ws-kalive-ms","ws-kalive-ms",1442179968),vx=new z(null,"js","js",-886355190,null),wx=new C(null,"relative-to","relative-to",-470100051),xx=new z(null,"doseq","doseq",221164135,null),ng=new C("widget","parent","widget/parent",-1665940103),
yx=new z(null,"avg","avg",1837937727,null),zx=new z(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),Ax=new z(null,"not","not",1044554643,null),Bx=new z(aa,"list?","cljs.core/list?",-684796618,null),Cx=new C(null,"max-eid","max-eid",2134868075),Dx=new C(null,"expand-kvps","expand-kvps",44141154),Ex=new C(null,"unknown","unknown",-935977881),jl=new C(null,"more-marker","more-marker",-14717935),Fx=new C(null,"index-access","index-access",-1548960265),JF=new C(null,"stroke","stroke",1741823555),
Gx=new C(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Hx=new C("parser","where","parser/where",-966053850),Ix=new C(null,"aevt","aevt",-585148059),KF=new C("widget.geoplot","wkt","widget.geoplot/wkt",1238224566),Jx=new C(null,"used-args","used-args",23596256),Kx=new C(null,"nl-t","nl-t",-1608382114),Lx=new C(null,"symbols","symbols",1211743),Mx=new z(null,"var","var",870848730,null),Nx=new C(null,"qualifier","qualifier",125841738),Ox=new C(null,"attr","attr",-604132353),Px=new C(null,"doc","doc",
1913296891),Qx=new C("chsk","bad-package","chsk/bad-package",501893679),Rx=new C(null,"cbs-waiting_","cbs-waiting_",-1519029061),Jl=new C(null,"ready","ready",1086465795),Sx=new z(null,"neg?","neg?",-1902175577,null),YF=new C(null,"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200","div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",-1396684735),Tx=new C(null,"hash_","hash_",-827203612),Ux=new C(null,"http-error","http-error",
-1040049553),Vx=new C("db.cardinality","one","db.cardinality/one",1428352190),Wx=new z(null,"untuple","untuple",-606149900,null),Xx=new C("parser","query","parser/query",1877320671),ZF=new C(null,"displayName","displayName",-809144601),Yx=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),Zx=new C(null,"added","added",2057651688),$x=new C(null,"?file","?file",1533429675),ay=new z(null,"mod","mod",1510044207,null),$F=new C(null,"i.zmdi.zmdi-bug.text-green-500","i.zmdi.zmdi-bug.text-green-500",-1589227883),
by=new C(null,"qin","qin",1372651151),cy=new z(null,"cond","cond",1606708055,null),dy=new z(null,"\x3c","\x3c",993667236,null),ey=new C(null,"map","map",1371690461),fy=new C(null,"open?","open?",1238443125),gy=new C(null,"element","element",1974019749),hy=new C(null,"char-format","char-format",-1016499218),aG=new z(null,"style","style",1143888791,null),iy=new z(null,"type","type",-1480165421,null),bG=new C(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),jy=new C("parser","pull",
"parser/pull",-2147427204),ky=new C(null,"mode","mode",654403691),ly=new C(null,"max-columns","max-columns",1742323262),ny=new C(null,"max","max",61366548),oy=new C(null,"pending-guards","pending-guards",-1255527308),qy=new C(null,"last-ws-close","last-ws-close",-798104932),ry=new z(null,"when-let","when-let",-1383043480,null),sy=new C("db","index","db/index",-1531680669),ty=new C(null,"url","url",276297046),uy=new C(null,"rattr","rattr",-1122345563),vy=new C(null,"qwhere","qwhere",-1645067378),wy=
new C(null,"count","count",2139924085),xy=new C(null,"clauses","clauses",1454841241),yy=new z(null,"empty?","empty?",76408555,null),zy=new z(null,"re-matches","re-matches",-1865705768,null),By=new C(null,"ever-opened?_","ever-opened?_",1641338913),Cy=new C(null,"miser-width","miser-width",-1310049437),Dy=new C(null,"expand","expand",595248157),Jy=new z(null,"binding","binding",-2114503176,null),Ky=new z(null,"ground","ground",-1460862835,null),Ly=new C(null,"state_","state_",957667102),Ny=new C(null,
"index","index",-1531685915),Mp=new C("widget.html","src","widget.html/src",1397441752),Oy=new C(null,"class","class",-2030961996),Py=new C(null,"packer","packer",66077544),Qy=new C("db.unique","identity","db.unique/identity",1675950722),Ry=new C(null,"success?","success?",-122854052),Sy=new C(fa,"queued-tuples","datascript.db/queued-tuples",-762852029),Ty=new z(null,".",".",1975675962,null),Uy=new C(null,"at","at",1476951349),Vy=new C("transact","unique","transact/unique",-940992320),Wy=new C(null,
"splice","splice",449588165),Xy=new C(null,"dispatch","dispatch",1319337009),Yy=new z(null,"inst","inst",-2008473268,null),Zy=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),$y=new z(null,"sample","sample",1719555128,null),az=new C("widget","markdown","widget/markdown",-145862203),sG=new C(null,"__html","__html",674048345),bz=new C(null,"max-tx","max-tx",1119558339),cz=new C("lookup-ref","syntax","lookup-ref/syntax",-317304012),tG=new C("widget.geoplot","center","widget.geoplot/center",
-530369016),dz=new C(null,"as","as",1148689641),ez=new C(null,"?meta","?meta",-793560773),fz=new C(null,"name","name",1843675177),gz=new C(null,"syms","syms",-1575891762),hz=new C(null,"vargs","vargs",-966597273),iz=new C("chsk","bad-event","chsk/bad-event",-565206930),uG=new C(null,"div.fixed.bottom-0.right-0.mr-4.mb-4","div.fixed.bottom-0.right-0.mr-4.mb-4",211353752),jz=new C("db.type","ref","db.type/ref",-1728373079),kz=new C(null,"queue","queue",1455835879),lz=new C(null,"stacktrace-fonts","stacktrace-fonts",
830799382),mz=new C(null,"warn","warn",-436710552),nz=new z(null,"loop","loop",1244978678,null),oz=new C("parser","find","parser/find",-801023103),pz=new C(null,"appender","appender",1267426510),qz=new C(null,"selector","selector",762528866),sz=new C(null,"parameter-from-args","parameter-from-args",-758446196),tz=new C(null,"miser","miser",-556060186),uz=new C("mem","fresh","mem/fresh",-1179989133),vz=new C(null,"ajax","ajax",814345549),vG=new C(null,"on-set","on-set",-140953470),wz=new z(null,"inc",
"inc",324505433,null),xz=new C(null,"rule-vars","rule-vars",1665972520),yz=new C(null,"backoff-ms-fn","backoff-ms-fn",772895955),zz=new C(null,"context","context",-830191113),Az=new C(null,"chsk-url-fn","chsk-url-fn",1968894294),Bz=new C(null,"colnum","colnum",2023796854),Cz=new C(null,"raw-resp","raw-resp",-1924342506),Dz=new C(null,"section","section",-300141526),Ez=new C(null,"bracket-info","bracket-info",-1600092774),Fz=new z(null,"even?","even?",-1827825394,null),Gz=new z(null,"Inf","Inf",647172781,
null),Hz=new z(aa,"map","cljs.core/map",-338988913,null),sc=new C(null,"dup","dup",556298533),Jz=new C(null,"prefix-context","prefix-context",-1269613591),Kz=new C(null,"init-db","init-db",1595181278),Mz=new C(null,"timestamp_","timestamp_",-954533417),Nz=new C("ajax","resp-as-text","ajax/resp-as-text",141416819),Oz=new C(null,"socket_","socket_",-361048908),Pz=new C(ca,"rep","cljs.spec.alpha/rep",1483217317),Qz=new C(null,"fn","fn",-1175266204),Rz=new C(null,"args","args",1315556576),Sz=new C(null,
"suffix","suffix",367373057),Tz=new C(null,"old","old",-1825222690),wG=new C(null,"div.flex.flex-1.overflow-x-auto","div.flex.flex-1.overflow-x-auto",2231265),Uz=new C(null,"qwith","qwith",-45809392),Vz=new z(null,"defn-","defn-",1097765044,null),Wz=new C(null,"pattern","pattern",242135423),Xz=new C(null,"div.p-2","div.p-2",-325121057),Yz=new C(null,"required","required",1807647006),Zz=new C(null,"priority","priority",1431093715),$z=new C(null,"buffer","buffer",617295198),aA=new C(null,"inherit",
"inherit",-1840815422),LH=new C(null,"component-did-update","component-did-update",-1468549173),bA=new C(null,"msg_","msg_",-1925147E3),cA=new C(null,"opt-keys","opt-keys",1262688261),dA=new z(null,"when-not","when-not",-1223136340,null),eA=new C(null,"ev","ev",-406827324),fA=new C(null,"console","console",1228072057),gA=new C("parser","in","parser/in",1617442048),iA=new C(null,"hash","hash",-13781596),jA=new z(null,"namespace","namespace",1263021155,null),kA=new C(null,"?content-type","?content-type",
-2129759049),lA=new C(null,"post","post",269697687),mA=new C(null,"simple-auto-threading?","simple-auto-threading?",1950754184),nA=new C(null,"arg3","arg3",-1486822496),oA=new C(null,"min-level","min-level",1634684919),pA=new C(null,"arg1","arg1",951899358),qA=new C("db","valueType","db/valueType",1827971944),rA=new C(null,"arg2","arg2",1729550917),sA=new C(null,"list","list",765357683),tA=new C("db","ident","db/ident",-737096),uA=new C(null,"dt","dt",-368444759),vA=new C(null,"min","min",444991522),
wA=new C("literate","!transact","literate/!transact",758397308),xA=new z(null,"re-pattern","re-pattern",1047705161,null),yA=new C(null,"column","column",2078222095),zA=new C(null,"key","key",-1516042587),AA=new z(null,"rand-int","rand-int",-495012157,null),BA=new C("chsk","recv","chsk/recv",561097091),CA=new C(null,"up-arrow","up-arrow",1705310333),DA=new z(null,"contains?","contains?",-1676812576,null),EA=new z(null,"true?","true?",-1600332395,null),FA=new C(null,"?ratio","?ratio",-1275760831),GA=
new z(null,"+","+",-740910886,null),HA=new C(null,"generator-fn","generator-fn",811851656),IA=new C(null,"req-keys","req-keys",514319221),JA=new C(null,"logical-block-callback","logical-block-callback",1612691194),KA=new C(null,"resp-type","resp-type",1050675962),LA=new C("db.cardinality","many","db.cardinality/many",772806234),MA=new C(null,"weeks","weeks",1844596125),NA=new C(null,"overflowchar","overflowchar",-1620088106),OA=new C(null,"with","with",-1536296876),PA=new C(null,"cb","cb",589947841),
QA=new C("swap","dissoc","swap/dissoc",-605373782),RA=new C(null,"ppstr","ppstr",1557495252),em=new C(null,"parents","parents",-2027538891),SA=new C("chsk","handshake","chsk/handshake",64910686),TA=new C(null,"with-credentials?","with-credentials?",-1773202222),UA=new C(null,"mincol","mincol",1230695445),VA=new C(null,"protocol","protocol",652470118),WA=new C(null,"curr-xhr_","curr-xhr_",-1318773696),XA=new z(null,"if-let","if-let",1803593690,null),YA=new C(null,"*assert*","*assert*",-160895053),
ZA=new C("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),$A=new z(null,"condp","condp",1054325175,null),aB=new z(null,"rem","rem",664046770,null),bB=new C("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),cB=new C(null,"deref","deref",-145586795),ig=new C(null,"in","in",-1531184865),dB=new C(ca,"unknown","cljs.spec.alpha/unknown",651034818),eB=new C(null,"max-iterations","max-iterations",2021275563),fB=new C(null,"output_","output_",-36797880),gB=new C(null,"opt","opt",-794706369),
hB=new C(null,"reason","reason",-2070751759),DO=new C(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),iB=new C(null,"assertion","assertion",-1645134882),jB=new C(null,"config","config",994861415),kB=new C(null,"id","id",-1388402092),dg=new z(null,"?e","?e",-1194391683,null),lB=new C(null,"onclose-fn","onclose-fn",-1388163785),mB=new C(null,"stream","stream",1534941648),nB=new C(null,"results","results",-1134170113),oB=new z(null,"false?","false?",-1522377573,null),lg=new C("widget",
"uuid","widget/uuid",-585315811),pB=new z(null,"deftype*","deftype*",962659890,null),qB=new C(null,"rep+","rep+",-281382396),rB=new C(null,"ajax-opts","ajax-opts",-518239109),sB=new z(null,"NaN","NaN",666918153,null),tB=new C(null,"indent","indent",-148200125),uB=new C("chsk","closed","chsk/closed",-922855264),vB=new C(null,"msecs","msecs",1711980553),wB=new z(null,"defmacro","defmacro",2054157304,null),xB=new C("db","add","db/add",235286841),yB=new z(null,"vector","vector",-751469611,null),zB=new C(null,
"recv-buf-or-n","recv-buf-or-n",1363950355),AB=new C(null,"porrl","porrl",-1693905102),BB=new C(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),CB=new C(null,"else-params","else-params",-832171646),DB=new C(null,"keyword","keyword",811389747),EB=new C(null,"whitelist","whitelist",-979294437),FB=new C(null,"end-block-t","end-block-t",1544648735),GB=new C(null,"tempids","tempids",1767509089),HB=new C(null,"errors","errors",-908790718),IB=new C(null,"max-count","max-count",1539185305);function JB(a,b,c){if(Tg(c)){var d=yh(bg,ci.j(a,c));return b.aa?b.aa(d):b.call(null,d)}return Wi(c)?(d=new Y(function(){var e=gd(c);return a.aa?a.aa(e):a.call(null,e)}(),function(){var e=hd(c);return a.aa?a.aa(e):a.call(null,e)}()),b.aa?b.aa(d):b.call(null,d)):Lf(c)?(d=dl(ci.j(a,c)),b.aa?b.aa(d):b.call(null,d)):Gf(c)?(d=v.ba(function(e,f){return pf.j(e,a.aa?a.aa(f):a.call(null,f))},c,c),b.aa?b.aa(d):b.call(null,d)):Cf(c)?(d=si.j(sf(c),ci.j(a,c)),b.aa?b.aa(d):b.call(null,d)):b.aa?b.aa(c):b.call(null,
c)}var KB=function KB(a,b){return JB(Db.j(KB,a),a,b)};var LB={};function MB(a,b,c){var d=RegExp,e=b.source,f=q(b.ignoreCase)?"gi":"g";f=q(b.multiline)?[f,"m"].join(""):f;b=q(b.Yi)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function NB(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=fi(2,d);if(D.j(K(d),1))return d=H(d),a.aa?a.aa(d):a.call(null,d);d=sg(d);return a.aa?a.aa(d):a.call(null,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}
function OB(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?MB(a,b,c):MB(a,b,NB(c));throw["Invalid match arg: ",t.aa(b)].join("");}function QB(a,b){var c=new dc;for(b=E(b);;)if(null!=b)c.append(t.aa(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function SB(a,b){if(0>=b||b>=2+K(a))return pf.j(sg(hf("",ci.j(t,E(a)))),"");if(q(Rg.j?Rg.j(1,b):Rg.call(null,1,b)))return new S(null,1,5,T,[a],null);if(q(Rg.j?Rg.j(2,b):Rg.call(null,2,b)))return new S(null,2,5,T,["",a],null);b-=2;return pf.j(sg(hf("",dj(sg(ci.j(t,E(a))),0,b))),Sg.j(a,b))}function TB(a,b){return UB(a,b,0)}
function UB(a,b,c){if("/(?:)/"===t.aa(b))b=SB(a,c);else if(1>c)b=sg(t.aa(a).split(b));else a:for(var d=c,e=qf;;){if(1===d){b=pf.j(e,a);break a}var f=fl(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=pf.j(e,a.substring(0,h));a=f}else{b=pf.j(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:kd(c)))c=null==c?null:ld(c);else break a;else c=b;return c}function VB(a){return vb(null==a?"":String(a))};var WB={},ju,uv,hA,XB;function aC(a,b){if(null!=a&&null!=a.Ee)a=a.Ee(a,b);else{var c=aC[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=aC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.conform*",a);}return a}function bC(a,b){if(null!=a&&null!=a.Fe)a=a.Fe(a,b);else{var c=bC[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=bC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.with-gen*",a);}return a}var cC=Uh(X);
function dC(a){if($g(a)){var b=y(cC);a=B.j(b,a);if($g(a))a:for(;;)if($g(a))a=B.j(b,a);else{b=a;break a}else b=a;return b}return a}function eC(a){if($g(a)){var b=dC(a);if(q(b))return b;throw Error(["Unable to resolve spec: ",t.aa(a)].join(""));}return a}function fC(a){return null!=a&&l===a.ff?a:null}function gC(a){var b=xq.aa(a);return q(b)?a:b}function hC(a,b){return $g(a)?a:q(gC(a))?Q.ba(a,Cp,b):null!=a&&(a.ga&131072||l===a.ye)?xf(a,Q.ba(yf(a),Cp,b)):null}
function iC(a){return $g(a)?a:q(gC(a))?Cp.aa(a):null!=a&&(a.ga&131072||l===a.ye)?Cp.aa(yf(a)):null}function jC(a){var b=function(){var c=$g(a)?dC(a):!1;if(q(c))return c;c=fC(a);if(q(c))return c;c=gC(a);return q(c)?c:null}();return q(gC(b))?hC(kC(b,null),iC(b)):b}function lC(a){var b=jC(a);if(q(b))return b;if($g(a))throw Error(["Unable to resolve spec: ",t.aa(a)].join(""));return null}
function mC(a){if(VB(a))return null;a=ci.j(xm,TB(a,"$"));if(2<=K(a)&&Jh(function(c){return!VB(c)},a)){var b=cl(Ok,of)(a);a=P(b,0,null);b=P(b,1,null);return ze.aa([QB(".",a),"/",t.aa(b)].join(""))}return null}
var YB=function(){function a(d,e){var f=nC[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=nC._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("Specize.specize*",d);}function b(d){var e=nC[pa(null==d?null:d)];if(null!=e)return e.aa?e.aa(d):e.call(null,d);e=nC._;if(null!=e)return e.aa?e.aa(d):e.call(null,d);throw Cc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.aa=b;c.j=a;return c}(),nC=function nC(a){switch(arguments.length){case 1:return nC.aa(arguments[0]);case 2:return nC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};nC.aa=function(a){return null!=a&&null!=a.Nd?a.Nd(a):YB(a)};nC.j=function(a,b){return null!=a&&null!=a.Od?a.Od(a,b):YB(a,b)};nC.na=2;C.prototype.Nd=function(){return nC(eC(this))};C.prototype.Od=function(){return nC(eC(this))};z.prototype.Nd=function(){return nC(eC(this))};
z.prototype.Od=function(){return nC(eC(this))};Jk.prototype.Nd=function(){return pC(this,this,null,null,null)};Jk.prototype.Od=function(a,b){return pC(b,this,null,null,null)};
nC._=function(){function a(c){var d=vf(c)?mC(c.name):!1;return q(d)?pC(d,c,null,null,null):pC(dB,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return pC(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return pC(d,c,null,null,null)};return b}();
var qC=function qC(a){switch(arguments.length){case 1:return qC.aa(arguments[0]);case 2:return qC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};qC.aa=function(a){var b=fC(a);return q(b)?b:nC(a)};qC.j=function(a,b){var c=fC(a);return q(c)?c:nC(a,b)};qC.na=2;function rC(a,b){a=dC(a);return q(gC(a))?Q.ba(a,Yx,b):bC(qC.aa(a),b)}
function sC(a,b,c){if(null==c)Wh.ba(cC,R,a);else{var d=fC(c);q(d)||(d=gC(c),d=q(d)?d:B.j(y(cC),c));b=q(d)?c:pC(b,c,null,null,null);Wh.ja(cC,Q,a,hC(b,a))}}function tC(a,b,c){if(q(a)){var d=lC(a);if(q(d))return aC(qC.aa(d),b);if(Nf(a))return q(null)?a.aa?a.aa(b):a.call(null,b):q(a.aa?a.aa(b):a.call(null,b))?b:At;throw Error([xl.da(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function uC(a,b){a=qC.aa(a);return!V(At,aC(a,b))}
function pC(a,b,c,d,e){if(q(fC(b)))return q(c)?rC(b,c):b;if(q(gC(b)))return kC(b,c);if($g(b))return a=lC(b),q(c)?rC(a,c):a;if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof uv)uv=function(f,h,k,m,n,r){this.form=f;this.pred=h;this.Xd=k;this.Nf=m;this.hh=n;this.bi=r;this.ga=393216;this.la=0},uv.prototype.sa=function(f,h){return new uv(this.form,this.pred,this.Xd,this.Nf,this.hh,h)},uv.prototype.ra=function(){return this.bi},uv.prototype.Nd=function(){return this},
uv.prototype.Od=function(){return this},uv.prototype.ff=l,uv.prototype.Ee=function(f,h){f=this.pred.aa?this.pred.aa(h):this.pred.call(null,h);return q(this.Nf)?f:q(f)?h:At},uv.prototype.Fe=function(f,h){return pC(this.form,this.pred,h,this.Nf,this.hh)},uv.$b=!0,uv.Kb="cljs.spec.alpha/t_cljs$spec$alpha22855",uv.kc=function(f){return Jd(f,"cljs.spec.alpha/t_cljs$spec$alpha22855")};return new uv(a,b,c,d,e,X)}
function vC(a,b,c){var d=E(b);H(d);J(d);d=E(c);H(d);J(d);for(d=c;;){c=a;b=E(b);a=H(b);b=J(b);var e=E(d);d=H(e);e=J(e);var f=d;d=e;if(q(a)){c=tC(a,c,f);if(V(At,c))return At;a=c}else return c}}var wC=new p(null,4,[ow,qf,jr,Lk,Bx,Ge,Pr,X],null);
function xC(a,b,c,d){function e(wa,xa,Ra,ka){return pf.j(wa,ka)}var f=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c,h=B.j(f,IB),k=B.j(f,Qn),m=B.ba(f,Vq,20),n=B.j(f,ds),r=B.j(f,Jo),u=B.j(f,Zy),w=B.j(f,Ut),A=B.j(f,gw),G=B.j(f,wy),I=B.j(f,lw),F=B.j(f,Ou),N=B.j(f,BB),O=B.j(f,Fr),U=q(O)?sf(O):B.j(wC,k),ea=new Hl(function(){return qC.aa(b)}),va=function(){return q(A)?A:function(wa){return wa}}();if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof hA)hA=function(wa,
xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq){this.form=wa;this.Wh=xa;this.qh=Ra;this.Xd=ka;this.Nh=oa;this.pred=Ca;this.gf=ua;this.Hh=Ba;this.Sh=Ua;this.oh=ac;this.af=yb;this.Xh=ec;this.Lh=Xb;this.distinct=Qd;this.spec=Zf;this.Rh=zf;this.Mh=Og;this.count=Zc;this.ni=Ad;this.Dc=te;this.kind=$f;this.$i=Bd;this.Gg=ue;this.Gh=Cd;this.di=cq;this.ga=393216;this.la=0},hA.prototype.sa=function(wa,xa){return new hA(this.form,this.Wh,this.qh,this.Xd,this.Nh,this.pred,this.gf,this.Hh,
this.Sh,this.oh,this.af,this.Xh,this.Lh,this.distinct,this.spec,this.Rh,this.Mh,this.count,this.ni,this.Dc,this.kind,this.$i,this.Gg,this.Gh,xa)},hA.prototype.ra=function(){return this.di},hA.prototype.Nd=function(){return this},hA.prototype.Od=function(){return this},hA.prototype.ff=l,hA.prototype.Ee=function(wa,xa){wa=y(this.spec);if(yc(this.gf.aa?this.gf.aa(xa):this.gf.call(null,xa)))return At;if(q(this.Gg)){var Ra=this.af.aa?this.af.aa(xa):this.af.call(null,xa),ka=P(Ra,0,null),oa=P(Ra,1,null);
Ra=P(Ra,2,null);var Ca=ka.aa?ka.aa(xa):ka.call(null,xa);ka=0;var ua=E(xa);xa=E(ua);H(xa);J(xa);for(xa=Ca;;){var Ba=ua;Ca=E(Ba);ua=H(Ca);Ca=J(Ca);if(Ba){Ba=aC(wa,ua);if(V(At,Ba))return At;xa=oa.ja?oa.ja(xa,ka,ua,Ba):oa.call(null,xa,ka,ua,Ba);ka+=1;ua=Ca}else return Ra.aa?Ra.aa(xa):Ra.call(null,xa)}}else if($e(xa))for(oa=Lg(K(xa)/101),oa=1>oa?1:oa,ka=0;;){if(ka>=K(xa))return xa;if(uC(wa,bf(xa,ka)))ka+=oa;else return At}else for(ka=0,oa=E(xa),Ra=E(oa),H(Ra),J(Ra);;){ua=E(oa);Ra=H(ua);Ca=J(ua);ua=Ra;
Ba=oa;if(null==Ba||D.j(ka,101))return xa;if(uC(wa,ua))oa=Ca,ka+=1;else return At}},hA.prototype.Fe=function(wa,xa){return xC(this.form,this.pred,this.Dc,xa)},hA.$b=!0,hA.Kb="cljs.spec.alpha/t_cljs$spec$alpha23346",hA.kc=function(wa){return Jd(wa,"cljs.spec.alpha/t_cljs$spec$alpha23346")};return new hA(a,h,function(wa){return uC(y(ea),wa)},d,m,b,n,r,k,e,function(wa){return Hf(wa)&&(yc(O)||Hf(O))?new S(null,3,5,T,[wg,function(xa,Ra,ka,oa){return ka===oa?xa:Q.ba(xa,Ra,oa)},wg],null):q(Ff(wa)?function(){var xa=
q(F)?yc(O):F;return q(xa)?xa:Ff(O)}():!1)?new S(null,3,5,T,[q(r)?sf:wg,function(xa,Ra,ka,oa){return ka===oa&&yc(r)?xa:Q.ba(xa,bf(q(r)?oa:ka,0),bf(oa,1))},wg],null):Tg(O)||Lf(O)||yc(O)&&(Tg(wa)||Lf(wa))?new S(null,3,5,T,[sf,e,Vg],null):new S(null,3,5,T,[function(xa){return sf(q(O)?O:xa)},e,wg],null)},f,u,w,ea,va,U,G,I,f,F,c,N,O,X)}function yC(a){return new p(null,2,[xq,$u,Yw,a],null)}function zC(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(a,xq);return D.j($u,a)}
var AC=function AC(a){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,ho);a=E(d);var e=H(a);a=J(a);var f=B.j(c,pn),h=E(f),k=H(h);h=J(h);var m=B.j(c,Is),n=E(m);H(n);n=J(n);var r=B.j(c,Yw);c=B.j(c,qB);return Jh(wg,d)?zC(e)?(d=Yw.aa(e),d=pf.j(r,q(f)?uf([k,d]):d),a?(a=new p(null,4,[ho,a,pn,h,Is,n,Yw,d],null),AC.aa?AC.aa(a):AC.call(null,a)):yC(d)):new p(null,6,[xq,Bt,ho,d,Yw,r,pn,f,Is,m,qB,c],null):null};
function BC(a,b,c,d,e){return q(a)?(d=new p(null,5,[xq,Pz,Fm,b,Wy,d,Is,e,kB,tm()],null),zC(a)?Q.da(d,Hm,b,M([Yw,pf.j(c,Yw.aa(a))])):Q.da(d,Hm,a,M([Yw,c]))):null}
function CC(a,b,c,d){return q(q(b)?b:c)?(a=qi(function(e){e=H(e);return d.aa?d.aa(e):d.call(null,e)},ci.ja(Zi,a,function(){var e=E(b);return e?e:ii(null)}(),function(){var e=E(c);return e?e:ii(null)}())),new S(null,3,5,T,[E(ci.j(H,a)),q(b)?E(ci.j(mf,a)):null,q(c)?E(ci.j(function(e){return bf(e,2)},a)):null],null)):new S(null,3,5,T,[E(qi(d,a)),b,c],null)}
function DC(a,b,c){var d=CC(a,b,c,wg);c=P(d,0,null);b=E(c);a=H(b);var e=J(b),f=P(d,1,null);b=P(f,0,null);d=P(d,2,null);return q(c)?(c=new p(null,4,[xq,yn,ho,c,pn,f,Is,d],null),null==e?q(b)&&(zC(a)?(a=Yw.aa(a),a=yC(new Y(b,a))):a=c):a=c,a):null}function EC(a,b){return q(q(a)?b:a)?DC(M([a,b]),null,null):q(a)?a:b}
var FC=function FC(a){a=eC(a);var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,xq),e=B.j(c,ho);a=B.j(c,Hm);var f=B.j(c,Fm);c=B.j(c,Is);if(D.j($u,d))return!0;if(D.j(null,d))return null;if(D.j(qn,d))return d=FC.aa?FC.aa(a):FC.call(null,a),q(d)?(a=vC(GC(a),e,J(c)),!V(At,a)):d;if(D.j(Pz,d))return(e=a===f)?e:FC.aa?FC.aa(a):FC.call(null,a);if(D.j(Bt,d))return Jh(FC,e);if(D.j(yn,d))return Kh(FC,e);throw Error(["No matching clause: ",t.aa(d)].join(""));},GC=function GC(a){a=eC(a);var c=null!=a&&(a.ga&
64||l===a.Ja)?yh(zk,a):a;a=B.j(c,ho);var d=E(a),e=H(d);J(d);var f=B.j(c,pn),h=P(f,0,null),k=B.j(c,xq);d=B.j(c,Hm);var m=B.j(c,Yw);c=B.j(c,Is);if(D.j($u,k))return m;if(D.j(null,k))return null;if(D.j(qn,k))return e=GC.aa?GC.aa(d):GC.call(null,d),(f=D.j(e,Pn))?d=f:(d=xq.aa(eC(d)),f=new Jk(null,new p(null,2,[Pz,null,Bt,null],null),null),d=f.aa?f.aa(d):f.call(null,d),d=q(d)?Bf(e):d,d=q(d)?d:null),q(d)?Pn:vC(e,a,c);if(D.j(Pz,k))return HC(d,m,h);if(D.j(Bt,k))return HC(e,m,h);if(D.j(yn,k))return c=CC(a,f,
c,FC),a=P(c,0,null),a=P(a,0,null),c=P(c,1,null),c=P(c,0,null),a=null==a?Pn:GC.aa?GC.aa(a):GC.call(null,a),q(c)?new Y(c,a):a;throw Error(["No matching clause: ",t.aa(k)].join(""));};
function HC(a,b,c){a=eC(a);var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,xq);B.j(d,ho);a=B.j(d,Wy);if(D.j(null,e))return b;if(D.j(yn,e)||D.j($u,e)||D.j(qn,e))return a=GC(d),D.j(a,Pn)?b:pf.j(b,q(c)?uf([c,a]):a);if(D.j(Pz,e)||D.j(Bt,e))return d=GC(d),Bf(d)||(c=q(c)?uf([c,d]):d,a=q(a)?si:pf,b=a.j?a.j(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.aa(e)].join(""));}
var IC=function IC(a,b){a=eC(a);var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,Is),f=B.j(d,Fm);a=B.j(d,ho);var h=E(a),k=H(h),m=J(h),n=B.j(d,Yw);h=B.j(d,xq);var r=B.j(d,Wy),u=B.j(d,pn),w=E(u),A=H(w),G=J(w);w=B.j(d,as);var I=B.j(d,Hm);if(q(d)){if(D.j($u,h))return null;if(D.j(null,h))return a=tC(d,b,d),V(At,a)?null:yC(a);if(D.j(qn,h))return d=IC.j?IC.j(I,b):IC.call(null,I,b),q(d)?D.j($u,xq.aa(d))?(a=vC(GC(d),a,J(e)),V(At,a)?null:yC(a)):new p(null,5,[xq,qn,Hm,d,as,w,ho,a,Is,e],null):null;if(D.j(Bt,
h))return EC(AC(new p(null,4,[ho,hf(IC.j?IC.j(k,b):IC.call(null,k,b),m),pn,u,Is,e,Yw,n],null)),q(FC(k))?function(){var F=AC(new p(null,4,[ho,m,pn,G,Is,J(e),Yw,HC(k,n,A)],null));return IC.j?IC.j(F,b):IC.call(null,F,b)}():null);if(D.j(yn,h))return DC(ci.j(function(F){return IC.j?IC.j(F,b):IC.call(null,F,b)},a),u,e);if(D.j(Pz,h))return EC(BC(IC.j?IC.j(I,b):IC.call(null,I,b),f,n,r,e),q(FC(I))?function(){var F=BC(f,f,HC(I,n,null),r,e);return IC.j?IC.j(F,b):IC.call(null,F,b)}():null);throw Error(["No matching clause: ",
t.aa(h)].join(""));}return null};function JC(a,b){for(;;){var c=E(b),d=H(c);c=J(c);if(Bf(b))return q(FC(a))?(a=GC(a),D.j(a,Pn)?null:a):At;a=IC(a,d);if(q(a))b=c;else return At}}
var kC=function kC(a,b){if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof XB)XB=function(d,e,f){this.re=d;this.Xd=e;this.ii=f;this.ga=393216;this.la=0},XB.prototype.sa=function(d,e){return new XB(this.re,this.Xd,e)},XB.prototype.ra=function(){return this.ii},XB.prototype.Nd=function(){return this},XB.prototype.Od=function(){return this},XB.prototype.ff=l,XB.prototype.Ee=function(d,e){return null==e||Ef(e)?JC(this.re,E(e)):At},XB.prototype.Fe=function(d,
e){return kC.j?kC.j(this.re,e):kC.call(null,this.re,e)},XB.$b=!0,XB.Kb="cljs.spec.alpha/t_cljs$spec$alpha24306",XB.kc=function(d){return Jd(d,"cljs.spec.alpha/t_cljs$spec$alpha24306")};return new XB(a,b,X)};
sC(Nu,bg(zx,bg(on,new S(null,1,5,T,[It],null),bg(xu,bg(Hz,Ws,It),bg(Hz,Us,It))),bg(on,new S(null,1,5,T,[Yp],null),bg(Hz,bg(An,new S(null,1,5,T,[new S(null,2,5,T,[zq,wq],null)],null),new p(null,2,[Ws,zq,Us,wq],null)),Yp))),pC(bg(zx,bg(An,new S(null,1,5,T,[kt],null),bg(xu,bg(Hz,Ws,kt),bg(Hz,Us,kt))),bg(An,new S(null,1,5,T,[kt],null),bg(Hz,bg(An,new S(null,1,5,T,[new S(null,2,5,T,[zq,wq],null)],null),new p(null,2,[Ws,zq,Us,wq],null)),kt))),function(a){return Pk(ci.j(Ws,a),ci.j(Us,a))},null,!0,function(a){return ci.j(function(b){var c=
P(b,0,null);b=P(b,1,null);return new p(null,2,[Ws,c,Us,b],null)},a)}));var KC={},ZB,$B,oC,LC,MC,NC,RC=function RC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return RC.da(c)};RC.da=function(a){return Jd(ic,yh(zl,a))};RC.na=0;RC.qa=function(a){return this.da(E(a))};var SC=function SC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return SC.da(c)};SC.da=function(a){return Jd(ic,yh(xl,a))};SC.na=0;SC.qa=function(a){return this.da(E(a))};
function TC(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;yh(SC,b);Jd(ic,"\n")}function UC(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function VC(a,b,c){var d=c;for(c=qf;;){if(Bf(d))return new S(null,2,5,T,[c,b],null);var e=H(d);d=J(d);e=yh(a,new S(null,2,5,T,[e,b],null));b=P(e,0,null);e=P(e,1,null);c=pf.j(c,b);b=e}}function WC(a,b){var c=b;for(b=qf;;){var d=yh(a,new S(null,1,5,T,[c],null));c=P(d,0,null);d=P(d,1,null);if(yc(c))return new S(null,2,5,T,[b,d],null);b=pf.j(b,c);c=d}}
function XC(a){return new S(null,2,5,T,[si.j(X,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);var u=P(n,0,null);P(n,1,null);k.add(new S(null,2,5,T,[r,u],null));m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);h=P(f,0,null);P(f,1,null);return hf(new S(null,2,5,T,[k,h],null),d(Fe(e)))}return null}},null,null)}(a)}()),
si.j(X,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);P(n,0,null);n=P(n,1,null);k.add(new S(null,2,5,T,[r,n],null));m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);P(f,0,null);f=P(f,1,null);return hf(new S(null,2,5,T,[k,f],null),d(Fe(e)))}return null}},null,null)}(a)}())],null)}
function YC(a,b){return si.j(X,function(){return function e(d){return new ch(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=gh(k);a:for(var n=0;;)if(n<k){var r=x(h,n),u=P(r,0,null);r=P(r,1,null);m.add(new S(null,2,5,T,[u,new S(null,2,5,T,[r,b],null)],null));n+=1}else{h=!0;break a}return h?ih(kh(m),e(be(f))):ih(kh(m),null)}h=H(f);m=P(h,0,null);h=P(h,1,null);return hf(new S(null,2,5,T,[m,new S(null,2,5,T,[h,b],null)],null),e(Fe(f)))}return null}},null,null)}(a)}())}
function ZC(){var a=ic;if(null!=a&&null!=a.Mf)a.Mf(a);else{var b=ZC[pa(null==a?null:a)];if(null!=b)b.aa?b.aa(a):b.call(null,a);else if(b=ZC._,null!=b)b.aa?b.aa(a):b.call(null,a);else throw Cc("IPrettyFlush.-ppflush",a);}}function $C(a,b){a=y(y(a));return b.aa?b.aa(a):b.call(null,a)}function aD(a,b,c){Wh.ja(y(a),Q,b,c)}function bD(a,b){D.j(b,"\n")?(aD(a,Ks,0),aD(a,Qm,$C(a,Qm)+1)):aD(a,Ks,$C(a,Ks)+1);return Jd($C(a,Jp),b)}
function cD(a,b){var c=Uh(new p(null,4,[ny,b,Ks,0,Qm,0,Jp,a],null));if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof ZB)ZB=function(d,e,f,h){this.lb=d;this.Vf=e;this.fields=f;this.Zh=h;this.ga=1074167808;this.la=0},ZB.prototype.sa=function(d,e){return new ZB(this.lb,this.Vf,this.fields,e)},ZB.prototype.ra=function(){return this.Zh},ZB.prototype.Ib=function(){return this.fields},ZB.prototype.gd=function(){return Kd(this.lb)},ZB.prototype.Ld=function(d,e){d=Bc(e);if(q(D.j?D.j(String,
d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?aD(this,Ks,$C(this,Ks)+K(e)):(aD(this,Ks,K(e)-d-1),aD(this,Qm,$C(this,Qm)+K(qi(function(f){return D.j(f,"\n")},e)))),Jd($C(this,Jp),e);if(q(D.j?D.j(Number,d):D.call(null,Number,d)))return bD(this,e);throw Error(["No matching clause: ",t.aa(d)].join(""));},ZB.$b=!0,ZB.Kb="cljs.pprint/t_cljs$pprint21120",ZB.kc=function(d){return Jd(d,"cljs.pprint/t_cljs$pprint21120")};return new ZB(a,b,c,X)}
function dD(a,b,c,d,e,f,h,k,m,n,r,u,w){this.parent=a;this.fc=b;this.Mb=c;this.indent=d;this.ac=e;this.bc=f;this.prefix=h;this.ec=k;this.suffix=m;this.cc=n;this.ea=r;this.ca=u;this.fa=w;this.ga=2230716170;this.la=139264}g=dD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "parent":return this.parent;case "section":return this.fc;case "start-col":return this.Mb;case "indent":return this.indent;case "done-nl":return this.ac;case "intra-block-nl":return this.bc;case "prefix":return this.prefix;case "per-line-prefix":return this.ec;case "suffix":return this.suffix;case "logical-block-callback":return this.cc;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,W.j(new S(null,10,5,T,[new S(null,2,5,T,[Jr,this.parent],null),new S(null,2,5,T,[Dz,this.fc],null),new S(null,2,5,T,[Er,this.Mb],null),new S(null,2,5,T,[tB,this.indent],null),new S(null,2,5,T,[vn,this.ac],null),new S(null,2,5,T,[Tq,this.bc],null),new S(null,2,5,T,[Rp,this.prefix],null),new S(null,2,5,T,[Zm,this.ec],null),new S(null,2,5,T,[Sz,this.suffix],null),new S(null,2,5,T,[JA,this.cc],
null)],null),this.ca))};g.Ba=function(){return new rj(this,10,new S(null,10,5,T,[Jr,Dz,Er,tB,vn,Tq,Rp,Zm,Sz,JA],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 10+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1977012399^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.parent,b.parent)&&D.j(this.fc,b.fc)&&D.j(this.Mb,b.Mb)&&D.j(this.indent,b.indent)&&D.j(this.ac,b.ac)&&D.j(this.bc,b.bc)&&D.j(this.prefix,b.prefix)&&D.j(this.ec,b.ec)&&D.j(this.suffix,b.suffix)&&D.j(this.cc,b.cc)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,10,[Sz,null,tB,null,Jr,null,Dz,null,vn,null,Er,null,Rp,null,Zm,null,JA,null,Tq,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Jr,b):V.call(null,Jr,b))?new dD(c,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Dz,b):V.call(null,Dz,b))?new dD(this.parent,c,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Er,b):V.call(null,Er,b))?new dD(this.parent,this.fc,c,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(tB,b):
V.call(null,tB,b))?new dD(this.parent,this.fc,this.Mb,c,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(vn,b):V.call(null,vn,b))?new dD(this.parent,this.fc,this.Mb,this.indent,c,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Tq,b):V.call(null,Tq,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,c,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Rp,b):V.call(null,Rp,b))?new dD(this.parent,this.fc,
this.Mb,this.indent,this.ac,this.bc,c,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Zm,b):V.call(null,Zm,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,c,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Sz,b):V.call(null,Sz,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,c,this.cc,this.ea,this.ca,null):q(V.j?V.j(JA,b):V.call(null,JA,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,
this.ec,this.suffix,c,this.ea,this.ca,null):new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,10,5,T,[new Y(Jr,this.parent),new Y(Dz,this.fc),new Y(Er,this.Mb),new Y(tB,this.indent),new Y(vn,this.ac),new Y(Tq,this.bc),new Y(Rp,this.prefix),new Y(Zm,this.ec),new Y(Sz,this.suffix),new Y(JA,this.cc)],null),this.ca))};
g.sa=function(a,b){return new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function eD(a,b){for(b=Jr.aa(b);;){if(null==b)return!1;if(a===b)return!0;b=Jr.aa(b)}}function fD(a,b,c,d,e,f,h,k){this.Ha=a;this.data=b;this.Qc=c;this.Ga=d;this.Fa=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=fD.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "data":return this.data;case "trailing-white-space":return this.Qc;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[hn,this.data],null),new S(null,2,5,T,[Op,this.Qc],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[Km,hn,Op,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1809113693^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.data,b.data)&&D.j(this.Qc,b.Qc)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[Eu,null,Op,null,Km,null,Vp,null,hn,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new fD(this.Ha,this.data,this.Qc,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new fD(c,this.data,this.Qc,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(hn,b):V.call(null,hn,b))?new fD(this.Ha,c,this.Qc,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Op,b):V.call(null,Op,b))?new fD(this.Ha,this.data,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new fD(this.Ha,this.data,this.Qc,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new fD(this.Ha,this.data,this.Qc,this.Ga,
c,this.ea,this.ca,null):new fD(this.Ha,this.data,this.Qc,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(Km,this.Ha),new Y(hn,this.data),new Y(Op,this.Qc),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new fD(this.Ha,this.data,this.Qc,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function gD(a,b,c,d,e,f,h,k){this.Ha=a;this.type=b;this.Na=c;this.Ga=d;this.Fa=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=gD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "type":return this.type;case "logical-block":return this.Na;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[pq,this.type],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};
g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[Km,pq,rr,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1640656800^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.type,b.type)&&D.j(this.Na,b.Na)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[Eu,null,pq,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new gD(this.Ha,this.type,this.Na,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new gD(c,this.type,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(pq,b):V.call(null,pq,b))?new gD(this.Ha,c,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new gD(this.Ha,this.type,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new gD(this.Ha,this.type,this.Na,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new gD(this.Ha,this.type,this.Na,this.Ga,
c,this.ea,this.ca,null):new gD(this.Ha,this.type,this.Na,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(Km,this.Ha),new Y(pq,this.type),new Y(rr,this.Na),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new gD(this.Ha,this.type,this.Na,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function hD(a,b,c,d,e,f,h){this.Ha=a;this.Na=b;this.Ga=c;this.Fa=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=hD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "logical-block":return this.Na;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};
g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Km,rr,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-414877272^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.Na,b.Na)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[Eu,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new hD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new hD(c,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new hD(this.Ha,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new hD(this.Ha,this.Na,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new hD(this.Ha,this.Na,this.Ga,c,this.ea,this.ca,null):new hD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Km,this.Ha),new Y(rr,this.Na),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new hD(this.Ha,this.Na,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function iD(a,b,c,d,e,f,h){this.Ha=a;this.Na=b;this.Ga=c;this.Fa=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=iD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "logical-block":return this.Na;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Km,rr,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1365867980^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.Na,b.Na)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[Eu,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new iD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new iD(c,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new iD(this.Ha,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new iD(this.Ha,this.Na,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new iD(this.Ha,this.Na,this.Ga,c,this.ea,this.ca,null):new iD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Km,this.Ha),new Y(rr,this.Na),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new iD(this.Ha,this.Na,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function jD(a,b,c,d,e,f,h,k,m){this.Ha=a;this.Na=b;this.Ec=c;this.offset=d;this.Ga=e;this.Fa=f;this.ea=h;this.ca=k;this.fa=m;this.ga=2230716170;this.la=139264}g=jD.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "logical-block":return this.Na;case "relative-to":return this.Ec;case "offset":return this.offset;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,W.j(new S(null,6,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[wx,this.Ec],null),new S(null,2,5,T,[pu,this.offset],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};g.Ba=function(){return new rj(this,6,new S(null,6,5,T,[Km,rr,wx,pu,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 6+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1602780238^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.Na,b.Na)&&D.j(this.Ec,b.Ec)&&D.j(this.offset,b.offset)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,6,[pu,null,Eu,null,wx,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new jD(c,this.Na,this.Ec,this.offset,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new jD(this.Ha,c,this.Ec,this.offset,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(wx,b):V.call(null,wx,b))?new jD(this.Ha,this.Na,c,this.offset,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(pu,b):V.call(null,pu,b))?new jD(this.Ha,this.Na,this.Ec,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new jD(this.Ha,
this.Na,this.Ec,this.offset,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,c,this.ea,this.ca,null):new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,6,5,T,[new Y(Km,this.Ha),new Y(rr,this.Na),new Y(wx,this.Ec),new Y(pu,this.offset),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};
g.sa=function(a,b){return new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};var kD=function(){var a=Uh(X),b=Uh(X),c=Uh(X),d=Uh(X),e=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));return new pm(ze.j(ba,"write-token"),function(f,h){return Km.aa(h)},e,a,b,c,d)}();
kD.wb(null,Xm,function(a,b){var c=JA.aa(y(y(a)));q(c)&&(c.aa?c.aa(Hn):c.call(null,Hn));b=rr.aa(b);c=Rp.aa(b);q(c)&&Jd(Jp.aa(y(y(a))),c);a=$C(Jp.aa(y(y(a))),Ks);Vh(Er.aa(b),a);return Vh(tB.aa(b),a)});kD.wb(null,FB,function(a,b){var c=JA.aa(y(y(a)));q(c)&&(c.aa?c.aa(fx):c.call(null,fx));b=Sz.aa(rr.aa(b));return q(b)?Jd(Jp.aa(y(y(a))),b):null});
kD.wb(null,Ow,function(a,b){var c=rr.aa(b),d=tB.aa(c),e=pu.aa(b);b=wx.aa(b);if(q(D.j?D.j(au,b):D.call(null,au,b)))a=y(Er.aa(c));else if(q(D.j?D.j(Br,b):D.call(null,Br,b)))a=$C(Jp.aa(y(y(a))),Ks);else throw Error(["No matching clause: ",t.aa(b)].join(""));return Vh(d,e+a)});kD.wb(null,lx,function(a,b){return Jd(Jp.aa(y(y(a))),hn.aa(b))});
kD.wb(null,Kx,function(a,b){var c=(c=D.j(pq.aa(b),Yn))?c:D.j(pq.aa(b),Ht)?!1:y(vn.aa(rr.aa(b)));q(c)?lD.j?lD.j(a,b):lD.call(null,a,b):(b=Op.aa(y(y(a))),q(b)&&Jd(Jp.aa(y(y(a))),b));return Wh.ja(y(a),Q,Op,null)});
function mD(a,b,c){b=E(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);if(!D.j(Km.aa(h),Kx)){var k=Op.aa(y(y(a)));q(k)&&Jd(Jp.aa(y(y(a))),k)}kD.j(a,h);Wh.ja(y(a),Q,Op,Op.aa(h));h=Op.aa(y(y(a)));q(q(c)?h:c)&&(Jd(Jp.aa(y(y(a))),h),Wh.ja(y(a),Q,Op,null));f+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),h=d,e=K(d),d=h):(h=H(b),D.j(Km.aa(h),Kx)||(d=Op.aa(y(y(a))),q(d)&&Jd(Jp.aa(y(y(a))),d)),kD.j(a,h),Wh.ja(y(a),Q,Op,Op.aa(h)),h=Op.aa(y(y(a))),q(q(c)?h:c)&&(Jd(Jp.aa(y(y(a))),h),Wh.ja(y(a),Q,Op,null)),
b=J(b),d=null,e=0),f=0;else break}function nD(a,b){var c=$C(Jp.aa(y(y(a))),ny),d;(d=null==c)||(a=$C(Jp.aa(y(y(a))),Ks),b=(b=E(b))?Eu.aa(of(b))-Vp.aa(H(b)):0,d=a+b<c);return d}function oD(a,b,c){b=y(vn.aa(b));return q(b)?b:!nD(a,c)}function pD(a,b,c){var d=Cy.aa(y(y(a))),e=$C(Jp.aa(y(y(a))),ny);return q(d)?q(e)?y(Er.aa(b))>=e-d?oD(a,b,c):!1:e:d}
var qD=function(){var a=Uh(X),b=Uh(X),c=Uh(X),d=Uh(X),e=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));return new pm(ze.j(ba,"emit-nl?"),function(f){return pq.aa(f)},e,a,b,c,d)}();qD.wb(null,hv,function(a,b,c){a=rr.aa(a);return oD(b,a,c)});qD.wb(null,tz,function(a,b,c){a=rr.aa(a);return pD(b,a,c)});qD.wb(null,Ht,function(a,b,c,d){a=rr.aa(a);var e=y(Tq.aa(a));return q(e)?e:(d=!nD(b,d))?d:pD(b,a,c)});qD.wb(null,Yn,function(){return!0});
function rD(a){var b=H(a),c=rr.aa(b);b=E(Tk(function(d){return!(D.j(Km.aa(d),Kx)&&eD(rr.aa(d),c))},J(a)));return new S(null,2,5,T,[b,E(ei(K(b)+1,a))],null)}function sD(a){var b=H(a),c=rr.aa(b);return E(Tk(function(d){var e=rr.aa(d);return!(D.j(Km.aa(d),Kx)&&(D.j(e,c)||eD(e,c)))},J(a)))}
function lD(a,b){Jd(Jp.aa(y(y(a))),"\n");Wh.ja(y(a),Q,Op,null);b=rr.aa(b);var c=Zm.aa(b);q(c)&&Jd(Jp.aa(y(y(a))),c);c=yh(t,ji(y(tB.aa(b))-K(c)," "));Jd(Jp.aa(y(y(a))),c);a:for(Vh(Tq.aa(b),!0),Vh(vn.aa(b),!0),a=Jr.aa(b);;)if(q(a))Vh(vn.aa(a),!0),Vh(Tq.aa(a),!0),a=Jr.aa(a);else break a;return null}function tD(a){var b=E(Tk(function(c){return!D.j(Km.aa(c),Kx)},a));return new S(null,2,5,T,[b,E(ei(K(b),a))],null)}
var uD=function uD(a,b){var d=tD(b);b=P(d,0,null);var e=P(d,1,null);q(b)&&mD(a,b,!1);if(q(e)){d=rD(e);b=P(d,0,null);d=P(d,1,null);var f=H(e),h=qD.ja(f,a,b,sD(e));q(h)&&(lD(a,f),e=J(e));nD(a,e)?a=e:(e=uD.j?uD.j(a,b):uD.call(null,a,b),D.j(e,b)?(mD(a,b,!1),a=d):a=si.j(qf,W.j(e,d)));return a}return null};function vD(a){for(var b=$z.aa(y(y(a)));;){Wh.ja(y(a),Q,$z,si.j(qf,b));if(nD(a,b))return null;var c=uD(a,b);if(b!==c)b=c;else return null}}
function wD(a,b){Wh.ja(y(a),Q,$z,pf.j($z.aa(y(y(a))),b));return nD(a,$z.aa(y(y(a))))?null:vD(a)}function xD(a){var b=Op.aa(y(y(a)));return q(b)?(Jd(Jp.aa(y(y(a))),b),Wh.ja(y(a),Q,Op,null)):null}
function yD(a,b){var c=UB(b,"\n",-1);if(D.j(K(c),1))return b;b=Zm.aa(H(kr.aa(y(y(a)))));var d=H(c);if(D.j(So,ky.aa(y(y(a))))){var e=Ts.aa(y(y(a))),f=e+K(d);Wh.ja(y(a),Q,Ts,f);wD(a,new fD(lx,d,null,e,f,null,null,null));vD(a);d=$z.aa(y(y(a)));q(d)&&(mD(a,d,!0),Wh.ja(y(a),Q,$z,qf))}else xD(a),Jd(Jp.aa(y(y(a))),d);Jd(Jp.aa(y(y(a))),"\n");d=E(J(Ok(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.La(null,h);Jd(Jp.aa(y(y(a))),k);Jd(Jp.aa(y(y(a))),"\n");q(b)&&Jd(Jp.aa(y(y(a))),b);h+=1}else if(d=E(d))e=d,If(e)?
(d=ae(e),h=be(e),e=d,f=K(d),d=h):(d=H(e),Jd(Jp.aa(y(y(a))),d),Jd(Jp.aa(y(y(a))),"\n"),q(b)&&Jd(Jp.aa(y(y(a))),b),d=J(e),e=null,f=0),h=0;else break;Wh.ja(y(a),Q,So,Cr);return of(c)}
function zD(a){var b=AD,c=BD,d=new dD(null,null,Uh(0),Uh(0),Uh(!1),Uh(!1),null,null,null,null,null,null,null),e=Uh(gk([kr,Cy,Bs,mt,nv,ky,Ts,Op,Jp,ut,$z],[d,c,d,!0,null,Cr,0,null,cD(a,b),1,qf]));if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof $B)$B=function(f,h,k,m,n,r){this.lb=f;this.Vf=h;this.oi=k;this.Th=m;this.fields=n;this.$h=r;this.ga=1074167808;this.la=0},$B.prototype.sa=function(f,h){return new $B(this.lb,this.Vf,this.oi,this.Th,this.fields,h)},$B.prototype.ra=function(){return this.$h},
$B.prototype.Ib=function(){return this.fields},$B.prototype.Ld=function(f,h){f=Bc(h);if(q(D.j?D.j(String,f):D.call(null,String,f))){var k=yD(this,h);h=k.replace(/\s+$/,"");f=Sg.j(k,h.length);var m=ky.aa(y(y(this)));if(D.j(m,Cr))return xD(this),Jd(Jp.aa(y(y(this))),h),Wh.ja(y(this),Q,Op,f);m=Ts.aa(y(y(this)));k=m+K(k);Wh.ja(y(this),Q,Ts,k);return wD(this,new fD(lx,h,f,m,k,null,null,null))}if(q(D.j?D.j(Number,f):D.call(null,Number,f)))return D.j(ky.aa(y(y(this))),Cr)?(xD(this),h=Jd(Jp.aa(y(y(this))),
h)):D.j(h,"\n")?h=yD(this,"\n"):(f=Ts.aa(y(y(this))),k=f+1,Wh.ja(y(this),Q,Ts,k),h=Kg(h),h=wD(this,new fD(lx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.aa(f)].join(""));},$B.prototype.gd=function(){this.Mf(null);return Kd(Jp.aa(y(y(this))))},$B.prototype.Mf=function(){return D.j(ky.aa(y(y(this))),So)?(mD(this,$z.aa(y(y(this))),!0),Wh.ja(y(this),Q,$z,qf)):xD(this)},$B.$b=!0,$B.Kb="cljs.pprint/t_cljs$pprint22008",$B.kc=function(f){return Jd(f,"cljs.pprint/t_cljs$pprint22008")};
return new $B(a,b,c,d,e,X)}function CD(a,b){var c=ic;b=new dD(kr.aa(y(y(c))),null,Uh(0),Uh(0),Uh(!1),Uh(!1),a,null,b,null,null,null,null);Wh.ja(y(c),Q,kr,b);if(D.j(ky.aa(y(y(c))),Cr)){xD(c);var d=JA.aa(y(y(c)));q(d)&&(d.aa?d.aa(Hn):d.call(null,Hn));q(a)&&Jd(Jp.aa(y(y(c))),a);c=$C(Jp.aa(y(y(c))),Ks);Vh(b.Mb,c);Vh(b.indent,c)}else d=Ts.aa(y(y(c))),a=d+(q(a)?K(a):0),Wh.ja(y(c),Q,Ts,a),wD(c,new hD(Xm,b,d,a,null,null,null))}
function DD(){var a=ic,b=kr.aa(y(y(a))),c=Sz.aa(b);if(D.j(ky.aa(y(y(a))),Cr)){xD(a);q(c)&&Jd(Jp.aa(y(y(a))),c);var d=JA.aa(y(y(a)));q(d)&&(d.aa?d.aa(fx):d.call(null,fx))}else d=Ts.aa(y(y(a))),c=d+(q(c)?K(c):0),Wh.ja(y(a),Q,Ts,c),wD(a,new iD(FB,b,d,c,null,null,null));Wh.ja(y(a),Q,kr,Jr.aa(b))}var ED=!0,FD=null,AD=72,BD=40,GD=null,HD=null,ID=null,JD=null,KD=10,LD=0,MD=null;function ND(a){return(null!=a?a.ga&32768||l===a.xg||(a.ga?0:Ac(od,a)):Ac(od,a))?mt.aa(y(y(a))):!1}
function OD(a){var b=MD;q(b)&&(b=mc,b=q(b)?MD>=mc:b);yc(ED)?SC.call(null,a):q(b)?Jd(ic,"..."):(q(MD)&&(MD+=1),FD.call(null,a));return b}var PD=function PD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return PD.da(arguments[0],c)};
PD.da=function(a,b){var c=Ek.da(M([new p(null,1,[mB,!0],null),yh(zk,b)]));b=KD;var d=HD,e=mc,f=nc,h=GD,k=BD,m=FD,n=ED,r=JD,u=lc,w=AD,A=ID,G=Jp.j(c,KD),I=Dn.j(c,HD),F=bo.j(c,mc),N=Im.j(c,nc),O=ov.j(c,GD),U=Cy.j(c,BD),ea=Xy.j(c,FD),va=st.j(c,ED),wa=Nt.j(c,JD),xa=qc.j(c,lc),Ra=gp.j(c,AD),ka=Gr.j(c,ID);KD=G;HD=I;mc=F;nc=N;GD=O;BD=U;FD=ea;ED=va;JD=wa;lc=xa;AD=Ra;ID=ka;try{var oa=new dc,Ca=Pf(c,mB)?mB.aa(c):!0,ua=!0===Ca||null==Ca?new ke(oa):Ca;if(q(ED)){var Ba=yc(ND(ua));c=ic;ic=Ba?zD(ua):ua;try{OD(a),
ZC()}finally{ic=c}}else{Ba=ic;ic=ua;try{SC.call(null,a)}finally{ic=Ba}}!0===Ca&&ll(t.aa(oa));return null==Ca?t.aa(oa):null}finally{ID=A,AD=w,lc=u,JD=r,ED=n,FD=m,BD=k,GD=h,nc=f,mc=e,HD=d,KD=b}};PD.na=1;PD.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};
function QD(){var a=new S(null,6,5,T,[ag,new S(null,2,5,T,[bg(cg,dg,new S(null,1,5,T,[eg],null)),hg],null),ig,jg,kg,new S(null,2,5,T,[dg,lg],null)],null);var b=y(og);a=pg.j?pg.j(a,b):pg.call(null,a,b);b=new dc;var c=ic;ic=new ke(b);try{var d=ic,e=yc(ND(d)),f=ic;ic=e?zD(d):d;try{e=ED;ED=!0;try{OD(a)}finally{ED=e}D.j(0,$C(ic,Ks))||Jd(ic,"\n");ZC()}finally{ic=f}ll(t.aa(b))}finally{ic=c}}
function RD(a,b){if(yc(b.aa?b.aa(a):b.call(null,a)))throw Error(["Bad argument: ",t.aa(a),". It must be one of ",t.aa(b)].join(""));}function SD(){var a=nc;return q(a)?LD>=nc:a}function TD(a){RD(a,new Jk(null,new p(null,4,[Yn,null,tz,null,Ht,null,hv,null],null),null));var b=ic;Wh.ja(y(b),Q,ky,So);var c=Ts.aa(y(y(b))),d=kr.aa(y(y(b)));wD(b,new gD(Kx,a,d,c,c,null,null,null))}
function UD(a,b){RD(a,new Jk(null,new p(null,2,[au,null,Br,null],null),null));var c=ic,d=kr.aa(y(y(c)));if(D.j(ky.aa(y(y(c))),Cr)){xD(c);var e=tB.aa(d);if(q(D.j?D.j(au,a):D.call(null,au,a)))a=y(Er.aa(d));else if(q(D.j?D.j(Br,a):D.call(null,Br,a)))a=$C(Jp.aa(y(y(c))),Ks);else throw Error(["No matching clause: ",t.aa(a)].join(""));Vh(e,b+a)}else e=Ts.aa(y(y(c))),wD(c,new jD(Ow,d,a,b,e,e,null,null,null))}
function VD(a,b,c){b="string"===typeof b?WD(b):b;c=XD(c);a:{var d=new dc,e=yc(a)||!0===a?new ke(d):a,f=YD(b)&&yc(ND(e))?q(ND(e))?e:zD(e):e,h=ic;ic=f;try{try{ZD(b,c)}finally{e!==f&&Kd(f)}var k=yc(a)?t.aa(d):!0===a?ll(t.aa(d)):null;break a}finally{ic=h}k=void 0}return k}var $D=null;function aE(a,b){a=[t.aa(a),"\n",t.aa($D),"\n",t.aa(yh(t,ji(b," "))),"^\n"].join("");throw Error(a);}
function bE(a,b,c,d,e,f){this.nd=a;this.rest=b;this.pos=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=bE.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "seq":return this.nd;case "rest":return this.rest;case "pos":return this.pos;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[vp,this.nd],null),new S(null,2,5,T,[mu,this.rest],null),new S(null,2,5,T,[Ts,this.pos],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[vp,mu,Ts],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-402038447^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.nd,b.nd)&&D.j(this.rest,b.rest)&&D.j(this.pos,b.pos)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Ts,null,vp,null,mu,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new bE(this.nd,this.rest,this.pos,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(vp,b):V.call(null,vp,b))?new bE(c,this.rest,this.pos,this.ea,this.ca,null):q(V.j?V.j(mu,b):V.call(null,mu,b))?new bE(this.nd,c,this.pos,this.ea,this.ca,null):q(V.j?V.j(Ts,b):V.call(null,Ts,b))?new bE(this.nd,this.rest,c,this.ea,this.ca,null):new bE(this.nd,this.rest,this.pos,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(vp,this.nd),new Y(mu,this.rest),new Y(Ts,this.pos)],null),this.ca))};
g.sa=function(a,b){return new bE(this.nd,this.rest,this.pos,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function XD(a){a=E(a);return new bE(a,a,0,null,null,null)}function cE(a){var b=mu.aa(a);if(q(b))return new S(null,2,5,T,[H(b),new bE(vp.aa(a),J(b),Ts.aa(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function dE(a){var b=cE(a);a=P(b,0,null);b=P(b,1,null);a="string"===typeof a?WD(a):a;return new S(null,2,5,T,[a,b],null)}function eE(a,b){return b>=Ts.aa(a)?(b=Ts.aa(a)-b,fE.j?fE.j(a,b):fE.call(null,a,b)):new bE(vp.aa(a),ei(b,vp.aa(a)),b,null,null,null)}function fE(a,b){var c=Ts.aa(a)+b;return 0>b?eE(a,c):new bE(vp.aa(a),ei(b,mu.aa(a)),c,null,null,null)}function gE(a,b,c,d,e,f,h){this.Me=a;this.def=b;this.params=c;this.offset=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=gE.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "func":return this.Me;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Kw,this.Me],null),new S(null,2,5,T,[Go,this.def],null),new S(null,2,5,T,[eu,this.params],null),new S(null,2,5,T,[pu,this.offset],null)],null),this.ca))};g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Kw,Go,eu,pu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-829256337^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Me,b.Me)&&D.j(this.def,b.def)&&D.j(this.params,b.params)&&D.j(this.offset,b.offset)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[pu,null,Kw,null,eu,null,Go,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new gE(this.Me,this.def,this.params,this.offset,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Kw,b):V.call(null,Kw,b))?new gE(c,this.def,this.params,this.offset,this.ea,this.ca,null):q(V.j?V.j(Go,b):V.call(null,Go,b))?new gE(this.Me,c,this.params,this.offset,this.ea,this.ca,null):q(V.j?V.j(eu,b):V.call(null,eu,b))?new gE(this.Me,this.def,c,this.offset,this.ea,this.ca,null):q(V.j?V.j(pu,b):V.call(null,pu,b))?new gE(this.Me,this.def,this.params,c,this.ea,this.ca,null):new gE(this.Me,this.def,this.params,this.offset,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Kw,this.Me),new Y(Go,this.def),new Y(eu,this.params),new Y(pu,this.offset)],null),this.ca))};g.sa=function(a,b){return new gE(this.Me,this.def,this.params,this.offset,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function hE(a,b){var c=P(a,0,null);a=P(a,1,null);var d=P(a,0,null);a=P(a,1,null);d=Pf(new Jk(null,new p(null,2,[qv,null,Uy,null],null),null),c)?new S(null,2,5,T,[d,b],null):D.j(d,sz)?cE(b):D.j(d,Ds)?new S(null,2,5,T,[K(mu.aa(b)),b],null):new S(null,2,5,T,[d,b],null);b=P(d,0,null);d=P(d,1,null);return new S(null,2,5,T,[new S(null,2,5,T,[c,new S(null,2,5,T,[b,a],null)],null),d],null)}function iE(a,b){b=VC(hE,b,a);a=P(b,0,null);b=P(b,1,null);return new S(null,2,5,T,[si.j(X,a),b],null)}
var jE=new p(null,3,[2,"#b",8,"#o",16,"#x"],null);function kE(a){return Of(a)?D.j(KD,10)?[t.aa(a),q(JD)?".":null].join(""):[t.aa(q(JD)?function(){var b=B.j(jE,KD);return q(b)?b:["#",t.aa(KD),"r"].join("")}():null),t.aa(lE(KD,a))].join(""):null}
function mE(a,b,c){c=cE(c);var d=P(c,0,null);c=P(c,1,null);var e=kE(d);a=q(e)?e:a.aa?a.aa(d):a.call(null,d);d=a.length;e=d+yv.aa(b);e=e>=UA.aa(b)?e:e+(Ng(UA.aa(b)-e-1,nr.aa(b))+1)*nr.aa(b);d=yh(t,ji(e-d,qs.aa(b)));q(Uy.aa(b))?RC.da(M([[t.aa(d),t.aa(a)].join("")])):RC.da(M([[t.aa(a),t.aa(d)].join("")]));return c}function nE(a,b){return Vg(H(WC(function(c){return 0<c?new S(null,2,5,T,[Pg(c,a),Ng(c,a)],null):new S(null,2,5,T,[null,null],null)},b)))}
function lE(a,b){return 0===b?"0":yh(t,ci.j(function(c){return 10>c?Kg(UC("0")+c):Kg(UC("a")+(c-10))},nE(a,b)))}function oE(a,b){return Vg(H(WC(function(c){return new S(null,2,5,T,[E(Vg(di.j(a,c))),E(ei(a,c))],null)},Vg(b))))}
function pE(a,b,c){c=cE(c);var d=P(c,0,null);c=P(c,1,null);if(Of(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.j(d,Math.floor(d))){var e=0>d,f=lE(a,e?-d:d);a=q(qv.aa(b))?function(){var h=ci.j(function(m){return yh(t,m)},oE(at.aa(b),f)),k=ji(K(h),ru.aa(b));return yh(t,J(mi.j(k,h)))}():f;a=e?["-",t.aa(a)].join(""):q(Uy.aa(b))?["+",t.aa(a)].join(""):a;a=a.length<UA.aa(b)?[t.aa(yh(t,ji(UA.aa(b)-a.length,qs.aa(b)))),t.aa(a)].join(""):a;RC.da(M([a]))}else mE(zl,new p(null,
5,[UA,UA.aa(b),nr,1,yv,0,qs,qs.aa(b),Uy,!0],null),XD(new S(null,1,5,T,[d],null)));return c}
var qE=new S(null,20,5,T,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),rE=new S(null,20,5,T,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),sE=new S(null,10,5,T,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),tE=new S(null,10,5,T,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),uE=new S(null,22,5,T," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function vE(a){var b=Ng(a,100),c=Pg(a,100);return[0<b?[t.aa(bf(qE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.aa(0<c?20>c?bf(qE,c):function(){var d=Ng(c,10),e=Pg(c,10);return[t.aa(0<d?bf(sE,d):null),0<d&&0<e?"-":null,t.aa(0<e?bf(qE,e):null)].join("")}():null)].join("")}
function wE(a,b){var c=K(a),d=qf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.aa(yh(t,ei(1,mi.j(ii(", "),d)))),Bf(e)||Bf(d)?null:", ",t.aa(e),!Bf(e)&&0<c+b?[" ",t.aa(bf(uE,c+b))].join(""):null].join("");d=Bf(e)?d:pf.j(d,[t.aa(e)," ",t.aa(bf(uE,c+b))].join(""));--c;e=H(a);a=J(a)}}
function xE(a){var b=Ng(a,100),c=Pg(a,100);return[0<b?[t.aa(bf(qE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.aa(0<c?20>c?bf(rE,c):function(){var d=Ng(c,10),e=Pg(c,10);return 0<d&&!(0<e)?bf(tE,d):[t.aa(0<d?bf(sE,d):null),0<d&&0<e?"-":null,t.aa(0<e?bf(rE,e):null)].join("")}():0<b?"th":null)].join("")}
var yE=new S(null,4,5,T,[new S(null,9,5,T,"I II III IIII V VI VII VIII VIIII".split(" "),null),new S(null,9,5,T,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new S(null,9,5,T,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new S(null,3,5,T,["M","MM","MMM"],null)],null),zE=new S(null,4,5,T,[new S(null,9,5,T,"I II III IV V VI VII VIII IX".split(" "),null),new S(null,9,5,T,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new S(null,9,5,T,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new S(null,
3,5,T,["M","MM","MMM"],null)],null);function AE(a,b){b=cE(b);var c=P(b,0,null);b=P(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=nE(10,c);c=qf;for(var e=K(d)-1;;)if(Bf(d)){RC.da(M([yh(t,c)]));break}else{var f=H(d);c=D.j(0,f)?c:pf.j(c,bf(bf(a,e),f-1));--e;d=J(d)}}else pE(10,new p(null,5,[UA,0,qs," ",ru,",",at,3,qv,!0],null),XD(new S(null,1,5,T,[c],null)));return b}var BE=new p(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function CE(a,b){a=cE(b);b=P(a,0,null);a=P(a,1,null);var c=UC(b);b=c&127;c&=128;var d=B.j(BE,b);0<c&&RC.da(M(["Meta-"]));RC.da(M([q(d)?d:32>b?["Control-",t.aa(Kg(b+64))].join(""):D.j(b,127)?"Control-?":Kg(b)]));return a}
function DE(a,b){var c=cE(b);b=P(c,0,null);c=P(c,1,null);a=hy.aa(a);if(q(D.j?D.j("o",a):D.call(null,"o",a)))VD(!0,"\\o~3, '0o",M([UC(b)]));else if(q(D.j?D.j("u",a):D.call(null,"u",a)))VD(!0,"\\u~4, '0x",M([UC(b)]));else if(q(D.j?D.j(null,a):D.call(null,null,a)))Jd(ic,q(D.j?D.j("\b",b):D.call(null,"\b",b))?"\\backspace":q(D.j?D.j(" ",b):D.call(null," ",b))?"\\space":q(D.j?D.j("\t",b):D.call(null,"\t",b))?"\\tab":q(D.j?D.j("\n",b):D.call(null,"\n",b))?"\\newline":q(D.j?D.j("\f",b):D.call(null,"\f",
b))?"\\formfeed":q(D.j?D.j("\r",b):D.call(null,"\r",b))?"\\return":q(D.j?D.j('"',b):D.call(null,'"',b))?'\\"':q(D.j?D.j("\\",b):D.call(null,"\\",b))?"\\\\":["\\",t.aa(b)].join(""));else throw Error(["No matching clause: ",t.aa(a)].join(""));return c}function EE(a,b){b=cE(b);a=P(b,0,null);b=P(b,1,null);RC.da(M([a]));return b}function FE(a){a=H(a);return D.j(CA,a)||D.j(px,a)}
function GE(a,b,c){return mf(VC(function(d,e){if(FE(e))return new S(null,2,5,T,[null,e],null);e=iE(eu.aa(d),e);var f=P(e,0,null);e=P(e,1,null);var h=XC(f);f=P(h,0,null);h=P(h,1,null);f=Q.ba(f,wo,c);return new S(null,2,5,T,[null,yh(Kw.aa(d),new S(null,3,5,T,[f,e,h],null))],null)},b,a))}
function HE(a){a=t.aa(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new S(null,2,5,T,[a,t.aa(a.length-1)],null):new S(null,2,5,T,[[Sg.ba(a,0,c),Sg.j(a,c+1)].join(""),t.aa(c-1)],null):0>c?new S(null,2,5,T,[Sg.ba(a,0,b),Sg.j(a,b+1)],null):new S(null,2,5,T,[[Sg.ba(a,0,1),Sg.ba(a,2,b)].join(""),Sg.j(a,b+1)],null);b=P(a,0,null);a=P(a,1,null);a:if(c=K(b),0<c&&D.j(bf(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.j(bf(b,c),"0"))--c;else{b=Sg.ba(b,0,c+1);break a}}a:{c=b;var d=K(c);
if(0<d&&D.j(bf(c,0),"0"))for(var e=0;;){if(D.j(e,d)||!D.j(bf(c,e),"0")){c=Sg.j(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&D.j(bf(a,0),"+")?Sg.j(a,1):a;return Bf(c)?new S(null,2,5,T,["0",0],null):new S(null,2,5,T,[c,parseInt(a,10)-b],null)}
function IE(a,b,c,d){if(q(q(c)?c:d)){var e=K(a);d=q(d)?2>d?2:d:0;q(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.j(c,0)?new S(null,4,5,T,[["0",t.aa(a)].join(""),b+1,1,e+1],null):new S(null,4,5,T,[a,b,c,e],null);c=P(f,0,null);e=P(f,1,null);d=P(f,2,null);f=P(f,3,null);if(q(d)){if(0>d)return new S(null,3,5,T,["0",0,!1],null);if(f>d){b=bf(c,d);a=Sg.ba(c,0,d);if(UC(b)>=UC("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=zh(t,"1",ji(b+1,"0"));break a}if(D.j("9",a.charAt(c)))--c;else{b=Ah(t,Sg.ba(a,0,c),Kg(UC(a.charAt(c))+
1),ji(b-c,"0"));break a}}a=K(b)>a.length;return new S(null,3,5,T,[a?Sg.ba(b,0,K(b)-1):b,e,a],null)}return new S(null,3,5,T,[a,e,!1],null)}}}return new S(null,3,5,T,[a,b,!1],null)}
function JE(a,b,c){var d=0>b?new S(null,2,5,T,[[t.aa(yh(t,ji(-b-1,"0"))),t.aa(a)].join(""),-1],null):new S(null,2,5,T,[a,b],null);a=P(d,0,null);var e=P(d,1,null);d=K(a);c=q(c)?e+c+1:e+1;c=d<c?[t.aa(a),t.aa(yh(t,ji(c-d,"0")))].join(""):a;0>b?b=[".",t.aa(c)].join(""):(b+=1,b=[Sg.ba(c,0,b),".",Sg.j(c,b)].join(""));return b}function KE(a,b){return 0>b?[".",t.aa(a)].join(""):[Sg.ba(a,0,b),".",Sg.j(a,b)].join("")}
function LE(a,b){var c=Bw.aa(a),d=ww.aa(a);b=cE(b);var e=P(b,0,null);b=P(b,1,null);var f=0>e?new S(null,2,5,T,["-",-e],null):new S(null,2,5,T,["+",e],null),h=P(f,0,null);f=P(f,1,null);f=HE(f);var k=P(f,0,null),m=P(f,1,null)+qw.aa(a);f=Uy.aa(a);e=q(f)?f:0>e;f=yc(d)&&K(k)-1<=m;var n=IE(k,m,d,q(c)?c-(q(e)?1:0):null);k=P(n,0,null);m=P(n,1,null);n=P(n,2,null);k=JE(k,q(n)?m+1:m,d);d=q(q(c)?q(d)?1<=d&&D.j(k.charAt(0),"0")&&D.j(k.charAt(1),".")&&k.length>c-(q(e)?1:0):d:c)?Sg.j(k,1):k;m=D.j(H(d),".");q(c)?
(k=d.length,k=q(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,q(k>c?NA.aa(a):!1)?RC.da(M([yh(t,ji(c,NA.aa(a)))])):RC.da(M([[t.aa(yh(t,ji(c-k,qs.aa(a)))),t.aa(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):RC.da(M([[t.aa(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function ME(a,b){b=cE(b);var c=P(b,0,null);b=P(b,1,null);var d=HE(0>c?-c:c);P(d,0,null);for(P(d,1,null);;){var e=P(d,0,null),f=P(d,1,null),h=Bw.aa(a),k=ww.aa(a),m=tw.aa(a),n=qw.aa(a),r=function(){var F=lp.aa(a);return q(F)?F:"E"}();d=function(){var F=Uy.aa(a);return q(F)?F:0>c}();var u=0>=n,w=f-(n-1),A=t.aa(Math.abs(w));r=[t.aa(r),0>w?"-":"+",t.aa(q(m)?yh(t,ji(m-A.length,"0")):null),A].join("");var G=r.length;w=K(e);e=[t.aa(yh(t,ji(-n,"0"))),t.aa(e),t.aa(q(k)?yh(t,ji(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=q(h)?h-G:null;e=IE(e,0,D.j(n,0)?k-1:0<n?k:0>n?k-1:null,q(w)?w-(q(d)?1:0):null);w=P(e,0,null);P(e,1,null);A=P(e,2,null);e=KE(w,n);k=D.j(n,K(w))&&null==k;if(yc(A)){if(q(h)){f=e.length+G;f=q(d)?f+1:f;var I=(u=u&&!D.j(f,h))?f+1:f;f=k&&I<h;q(function(){var F=I>h;F||(F=m,F=q(F)?G-2>m:F);return q(F)?NA.aa(a):F}())?RC.da(M([yh(t,ji(h,NA.aa(a)))])):RC.da(M([[t.aa(yh(t,ji(h-I-(f?1:0),qs.aa(a)))),q(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,r].join("")]))}else RC.da(M([[q(d)?0>c?"-":"+":null,u?"0":null,e,
k?"0":null,r].join("")]));break}else d=new S(null,2,5,T,[w,f+1],null)}return b}function NE(a,b,c){var d=cE(b),e=P(d,0,null);P(d,1,null);d=HE(0>e?-e:e);var f=P(d,0,null);d=P(d,1,null);var h=Bw.aa(a),k=ww.aa(a),m=tw.aa(a);d=D.j(e,0)?0:d+1;e=q(m)?m+2:4;h=q(h)?h-e:null;q(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=LE(new p(null,6,[Bw,h,ww,d,qw,0,NA,NA.aa(a),qs,qs.aa(a),Uy,Uy.aa(a)],null),b,c),RC.da(M([yh(t,ji(e," "))])),a):ME(a,b,c)}
function OE(a,b){b=cE(b);var c=P(b,0,null);b=P(b,1,null);var d=HE(Math.abs(c)),e=P(d,0,null),f=P(d,1,null),h=ww.aa(a),k=Iw.aa(a);d=Bw.aa(a);var m=function(){var r=Uy.aa(a);return q(r)?r:0>c}(),n=IE(e,f,h,null);e=P(n,0,null);f=P(n,1,null);n=P(n,2,null);h=JE(e,q(n)?f+1:f,h);k=[t.aa(yh(t,ji(k-h.indexOf("."),"0"))),h].join("");h=k.length+(q(m)?1:0);RC.da(M([[q(function(){var r=qv.aa(a);return q(r)?m:r}())?0>c?"-":"+":null,t.aa(yh(t,ji(d-h,qs.aa(a)))),q(yc(qv.aa(a))?m:!1)?0>c?"-":"+":null,k].join("")]));
return b}function PE(a,b){var c=qz.aa(a);c=q(c)?new S(null,2,5,T,[c,b],null):cE(b);b=P(c,0,null);c=P(c,1,null);var d=xy.aa(a);b=0>b||b>=K(d)?H(bu.aa(a)):bf(d,b);return q(b)?GE(b,c,wo.aa(a)):c}function QE(a,b){var c=cE(b);b=P(c,0,null);c=P(c,1,null);var d=xy.aa(a);b=q(b)?mf(d):H(d);return q(b)?GE(b,c,wo.aa(a)):c}function RE(a,b){var c=cE(b),d=P(c,0,null);c=P(c,1,null);var e=xy.aa(a);e=q(d)?H(e):null;return q(d)?q(e)?GE(e,b,wo.aa(a)):b:c}
function SE(a,b){var c=eB.aa(a),d=H(xy.aa(a));d=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=cE(d);var e=P(d,0,null);d=P(d,1,null);var f=0;e=XD(e);for(var h=-1;;){if(yc(c)&&D.j(Ts.aa(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=Bf(mu.aa(e))&&(yc(qv.aa(Up.aa(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=GE(b,e,wo.aa(a));if(D.j(CA,H(h)))return d;f+=1;var k=Ts.aa(e);e=h;h=k}}
function TE(a,b){var c=eB.aa(a),d=H(xy.aa(a));d=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=cE(d);var e=P(d,0,null);d=P(d,1,null);for(var f=0;;){var h=Bf(e)&&(yc(qv.aa(Up.aa(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=GE(b,XD(H(e)),XD(J(e)));if(D.j(px,H(h)))return d;f+=1;e=J(e)}}
function UE(a,b){var c=eB.aa(a),d=H(xy.aa(a)),e=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(e,0,null);d=0;e=P(e,1,null);for(var f=-1;;){if(yc(c)&&D.j(Ts.aa(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=Bf(mu.aa(e))&&(yc(qv.aa(Up.aa(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=GE(b,e,wo.aa(a));if(D.j(CA,H(f)))return mf(f);d+=1;var h=Ts.aa(e);e=f;f=h}}
function VE(a,b){var c=eB.aa(a),d=H(xy.aa(a)),e=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(e,0,null);d=0;for(e=P(e,1,null);;){var f=Bf(mu.aa(e))&&(yc(qv.aa(Up.aa(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=mu.aa(e);f=q(f)?new S(null,2,5,T,[H(f),new bE(vp.aa(e),J(f),Ts.aa(e)+1,null,null,null)],null):new S(null,2,5,T,[null,e],null);e=P(f,0,null);f=P(f,1,null);e=GE(b,XD(e),f);if(D.j(px,H(e)))return f;e=f;d+=1}}
function WE(a,b){if(q(qv.aa(Up.aa(a)))){var c=xy.aa(a),d=K(c),e=1<d?fn.aa(eu.aa(H(H(c)))):q(qv.aa(a))?"(":null,f=bf(c,1<d?1:0);c=2<d?fn.aa(eu.aa(H(bf(c,2)))):q(qv.aa(a))?")":null;d=cE(b);b=P(d,0,null);d=P(d,1,null);if(q(SD()))Jd(ic,"#");else{var h=LD,k=MD;LD+=1;MD=0;try{CD(e,c),GE(f,XD(b),wo.aa(a)),DD()}finally{MD=k,LD=h}}a=d}else a=XE(a,b);return a}
function YE(a,b,c){for(var d=qf;;){if(Bf(a))return new S(null,2,5,T,[d,b],null);var e=H(a);a:{var f=new dc,h=ic;ic=new ke(f);try{var k=new S(null,2,5,T,[GE(e,b,c),t.aa(f)],null);break a}finally{ic=h}k=void 0}b=P(k,0,null);e=P(k,1,null);if(D.j(CA,H(b)))return new S(null,2,5,T,[d,mf(b)],null);a=J(a);d=pf.j(d,e)}}
function XE(a,b){var c=function(){var O=bu.aa(a);return q(O)?YE(O,b,wo.aa(a)):null}(),d=P(c,0,null);d=P(d,0,null);c=P(c,1,null);var e=q(c)?c:b;c=function(){var O=CB.aa(a);return q(O)?iE(O,e):null}();var f=P(c,0,null);c=P(c,1,null);var h=q(c)?c:e;c=function(){var O=H(nu.aa(f));return q(O)?O:0}();var k=function(){var O=H(ly.aa(f));return q(O)?O:$C(ic,ny)}(),m=xy.aa(a);h=YE(m,h,wo.aa(a));var n=P(h,0,null);h=P(h,1,null);var r=function(){var O=K(n)-1+(q(qv.aa(a))?1:0)+(q(Uy.aa(a))?1:0);return 1>O?1:O}();
m=v.j(Ag,ci.j(K,n));var u=UA.aa(a),w=yv.aa(a),A=nr.aa(a),G=m+r*w;u=G<=u?u:u+A*(1+Ng(G-u-1,A));var I=u-m;m=function(){var O=Ng(I,r);return w>O?w:O}();A=I-m*r;m=yh(t,ji(m,qs.aa(a)));q(q(d)?$C(Jp.aa(y(y(ic))),Ks)+c+u>k:d)&&RC.da(M([d]));c=A;for(var F=n,N=function(){var O=qv.aa(a);return q(O)?O:D.j(K(F),1)&&yc(Uy.aa(a))}();;)if(E(F))RC.da(M([[t.aa(yc(N)?H(F):null),t.aa(q(function(){var O=N;return q(O)?O:(O=J(F))?O:Uy.aa(a)}())?m:null),t.aa(0<c?qs.aa(a):null)].join("")])),--c,F=d=q(N)?F:J(F),N=!1;else break;
return h}
function ZE(a){if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof oC)oC=function(b,c){this.lb=b;this.ei=c;this.ga=1074135040;this.la=0},oC.prototype.sa=function(b,c){return new oC(this.lb,c)},oC.prototype.ra=function(){return this.ei},oC.prototype.gd=function(){return Kd(this.lb)},oC.prototype.Ld=function(b,c){b=Bc(c);if(q(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.lb,c.toLowerCase());if(q(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.lb,Kg(c).toLowerCase());throw Error(["No matching clause: ",
t.aa(b)].join(""));},oC.$b=!0,oC.Kb="cljs.pprint/t_cljs$pprint23371",oC.kc=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23371")};return new oC(a,X)}
function $E(a){if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof LC)LC=function(b,c){this.lb=b;this.fi=c;this.ga=1074135040;this.la=0},LC.prototype.sa=function(b,c){return new LC(this.lb,c)},LC.prototype.ra=function(){return this.fi},LC.prototype.gd=function(){return Kd(this.lb)},LC.prototype.Ld=function(b,c){b=Bc(c);if(q(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.lb,c.toUpperCase());if(q(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.lb,Kg(c).toUpperCase());
throw Error(["No matching clause: ",t.aa(b)].join(""));},LC.$b=!0,LC.Kb="cljs.pprint/t_cljs$pprint23443",LC.kc=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23443")};return new LC(a,X)}
function aF(a,b){var c=H(a);a=q(q(b)?q(c)?Lb(c):c:b)?[c.toUpperCase(),Sg.j(a,1)].join(""):a;return yh(t,H(WC(function(d){if(Bf(d))return new S(null,2,5,T,[null,null],null);var e=/\W\w/g.exec(d);e=q(e)?e.index+1:e;return q(e)?new S(null,2,5,T,[[Sg.ba(d,0,e),bf(d,e).toUpperCase()].join(""),Sg.j(d,e+1)],null):new S(null,2,5,T,[d,null],null)},a)))}
function bF(a){var b=Uh(!0);if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof MC)MC=function(c,d,e){this.lb=c;this.Se=d;this.gi=e;this.ga=1074135040;this.la=0},MC.prototype.sa=function(c,d){return new MC(this.lb,this.Se,d)},MC.prototype.ra=function(){return this.gi},MC.prototype.gd=function(){return Kd(this.lb)},MC.prototype.Ld=function(c,d){c=Bc(d);if(q(D.j?D.j(String,c):D.call(null,String,c)))return Jd(this.lb,aF(d.toLowerCase(),y(this.Se))),0<d.length?Vh(this.Se,vb(bf(d,
K(d)-1))):null;if(q(D.j?D.j(Number,c):D.call(null,Number,c)))return d=Kg(d),c=q(y(this.Se))?d.toUpperCase():d,Jd(this.lb,c),Vh(this.Se,vb(d));throw Error(["No matching clause: ",t.aa(c)].join(""));},MC.$b=!0,MC.Kb="cljs.pprint/t_cljs$pprint23483",MC.kc=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23483")};return new MC(a,b,X)}
function cF(a){var b=Uh(!1);if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof NC)NC=function(c,d,e){this.lb=c;this.se=d;this.hi=e;this.ga=1074135040;this.la=0},NC.prototype.sa=function(c,d){return new NC(this.lb,this.se,d)},NC.prototype.ra=function(){return this.hi},NC.prototype.gd=function(){return Kd(this.lb)},NC.prototype.Ld=function(c,d){c=Bc(d);if(q(D.j?D.j(String,c):D.call(null,String,c)))return d=d.toLowerCase(),yc(y(this.se))?(c=/\S/g.exec(d),c=q(c)?c.index:c,q(c)?
(Jd(this.lb,[Sg.ba(d,0,c),bf(d,c).toUpperCase(),Sg.j(d,c+1).toLowerCase()].join("")),Vh(this.se,!0)):Jd(this.lb,d)):Jd(this.lb,d.toLowerCase());if(q(D.j?D.j(Number,c):D.call(null,Number,c)))return d=Kg(d),q(yc(y(this.se))?Lb(d):!1)?(Vh(this.se,!0),Jd(this.lb,d.toUpperCase())):Jd(this.lb,d.toLowerCase());throw Error(["No matching clause: ",t.aa(c)].join(""));},NC.$b=!0,NC.Kb="cljs.pprint/t_cljs$pprint23491",NC.kc=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23491")};return new NC(a,b,X)}
function dF(a,b){var c=q(qv.aa(a))?Br:au;UD(c,Iw.aa(a));return b}function eF(a,b){a=q(qv.aa(a))?q(Uy.aa(a))?Yn:Ht:q(Uy.aa(a))?tz:hv;TD(a);return b}
var fF=gk("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new p(null,5,[tp,"A",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),nr,new S(null,2,5,T,[1,Number],null),yv,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return mE(zl,a,b)}}],null),new p(null,5,[tp,"S",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),nr,new S(null,2,5,T,[1,Number],
null),yv,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return mE(xl,a,b)}}],null),new p(null,5,[tp,"D",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,
b){return pE(10,a,b)}}],null),new p(null,5,[tp,"B",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return pE(2,a,b)}}],null),new p(null,5,[tp,"O",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],
null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return pE(8,a,b)}}],null),new p(null,5,[tp,"X",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return pE(16,a,b)}}],
null),new p(null,5,[tp,"R",eu,new p(null,5,[Jp,new S(null,2,5,T,[null,Number],null),UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(a){return q(H(Jp.aa(a)))?function(b,c){return pE(Jp.aa(b),b,c)}:q(function(){var b=Uy.aa(a);return q(b)?qv.aa(a):b}())?function(b,c){return AE(yE,c)}:q(Uy.aa(a))?function(b,c){return AE(zE,
c)}:q(qv.aa(a))?function(b,c){b=cE(c);c=P(b,0,null);b=P(b,1,null);if(D.j(0,c))RC.da(M(["zeroth"]));else{var d=nE(1E3,0>c?-c:c);if(K(d)<=K(uE)){var e=ci.j(vE,fi(1,d));e=wE(e,1);d=xE(of(d));RC.da(M([[0>c?"minus ":null,Bf(e)||Bf(d)?Bf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else pE(10,new p(null,5,[UA,0,qs," ",ru,",",at,3,qv,!0],null),XD(new S(null,1,5,T,[c],null))),d=Pg(c,100),c=11<d||19>d,d=Pg(d,10),RC.da(M([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=
cE(c);b=P(c,0,null);c=P(c,1,null);if(D.j(0,b))RC.da(M(["zero"]));else{var d=nE(1E3,0>b?-b:b);K(d)<=K(uE)?(d=ci.j(vE,d),d=wE(d,0),RC.da(M([[0>b?"minus ":null,d].join("")]))):pE(10,new p(null,5,[UA,0,qs," ",ru,",",at,3,qv,!0],null),XD(new S(null,1,5,T,[b],null)))}return c}}],null),new p(null,5,[tp,"P",eu,X,rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){b=q(qv.aa(a))?fE(b,-1):b;a=q(Uy.aa(a))?new S(null,2,5,T,["y","ies"],null):new S(null,2,5,
T,["","s"],null);var c=cE(b);b=P(c,0,null);c=P(c,1,null);RC.da(M([D.j(b,1)?H(a):mf(a)]));return c}}],null),new p(null,5,[tp,"C",eu,new p(null,1,[hy,new S(null,2,5,T,[null,String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(a){return q(qv.aa(a))?CE:q(Uy.aa(a))?DE:EE}],null),new p(null,5,[tp,"F",eu,new p(null,5,[Bw,new S(null,2,5,T,[null,Number],null),ww,new S(null,2,5,T,[null,Number],null),qw,new S(null,2,5,T,[0,Number],null),NA,new S(null,2,5,T,
[null,String],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,1,[Uy,null],null),null),Ez,X,HA,function(){return LE}],null),new p(null,5,[tp,"E",eu,new p(null,7,[Bw,new S(null,2,5,T,[null,Number],null),ww,new S(null,2,5,T,[null,Number],null),tw,new S(null,2,5,T,[null,Number],null),qw,new S(null,2,5,T,[1,Number],null),NA,new S(null,2,5,T,[null,String],null),qs,new S(null,2,5,T,[" ",String],null),lp,new S(null,2,5,T,[null,String],null)],null),rx,new Jk(null,new p(null,1,
[Uy,null],null),null),Ez,X,HA,function(){return ME}],null),new p(null,5,[tp,"G",eu,new p(null,7,[Bw,new S(null,2,5,T,[null,Number],null),ww,new S(null,2,5,T,[null,Number],null),tw,new S(null,2,5,T,[null,Number],null),qw,new S(null,2,5,T,[1,Number],null),NA,new S(null,2,5,T,[null,String],null),qs,new S(null,2,5,T,[" ",String],null),lp,new S(null,2,5,T,[null,String],null)],null),rx,new Jk(null,new p(null,1,[Uy,null],null),null),Ez,X,HA,function(){return NE}],null),new p(null,5,[tp,"$",eu,new p(null,
4,[ww,new S(null,2,5,T,[2,Number],null),Iw,new S(null,2,5,T,[1,Number],null),Bw,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return OE}],null),new p(null,5,[tp,"%",eu,new p(null,1,[wy,new S(null,2,5,T,[1,Number],null)],null),rx,Lk,Ez,X,HA,function(){return function(a,b){a=wy.aa(a);for(var c=0;;)if(c<a)TC(),c+=1;else break;return b}}],null),new p(null,5,[tp,"\x26",eu,new p(null,1,
[wy,new S(null,2,5,T,[1,Number],null)],null),rx,new Jk(null,new p(null,1,[st,null],null),null),Ez,X,HA,function(){return function(a,b){a=wy.aa(a);0<a&&((null!=ic?ic.ga&32768||l===ic.xg||(ic.ga?0:Ac(od,ic)):Ac(od,ic))?D.j(0,$C(Jp.aa(y(y(ic))),Ks))||TC():TC());--a;for(var c=0;;)if(c<a)TC(),c+=1;else break;return b}}],null),new p(null,5,[tp,"|",eu,new p(null,1,[wy,new S(null,2,5,T,[1,Number],null)],null),rx,Lk,Ez,X,HA,function(){return function(a,b){a=wy.aa(a);for(var c=0;;)if(c<a)RC.da(M(["\f"])),c+=
1;else break;return b}}],null),new p(null,5,[tp,"~",eu,new p(null,1,[Iw,new S(null,2,5,T,[1,Number],null)],null),rx,Lk,Ez,X,HA,function(){return function(a,b){a=Iw.aa(a);RC.da(M([yh(t,ji(a,"~"))]));return b}}],null),new p(null,5,[tp,"\n",eu,X,rx,new Jk(null,new p(null,2,[qv,null,Uy,null],null),null),Ez,X,HA,function(){return function(a,b){q(Uy.aa(a))&&TC();return b}}],null),new p(null,5,[tp,"T",eu,new p(null,2,[Bz,new S(null,2,5,T,[1,Number],null),nr,new S(null,2,5,T,[1,Number],null)],null),rx,new Jk(null,
new p(null,2,[Uy,null,st,null],null),null),Ez,X,HA,function(a){return q(Uy.aa(a))?function(b,c){var d=Bz.aa(b);b=nr.aa(b);var e=d+$C(Jp.aa(y(y(ic))),Ks);e=0<b?Pg(e,b):0;d+=D.j(0,e)?0:b-e;RC.da(M([yh(t,ji(d," "))]));return c}:function(b,c){var d=Bz.aa(b);b=nr.aa(b);var e=$C(Jp.aa(y(y(ic))),Ks);d=e<d?d-e:D.j(b,0)?0:b-Pg(e-d,b);RC.da(M([yh(t,ji(d," "))]));return c}}],null),new p(null,5,[tp,"*",eu,new p(null,1,[Iw,new S(null,2,5,T,[1,Number],null)],null),rx,new Jk(null,new p(null,2,[qv,null,Uy,null],
null),null),Ez,X,HA,function(){return function(a,b){var c=Iw.aa(a);return q(Uy.aa(a))?eE(b,c):fE(b,q(qv.aa(a))?-c:c)}}],null),new p(null,5,[tp,"?",eu,X,rx,new Jk(null,new p(null,1,[Uy,null],null),null),Ez,X,HA,function(a){return q(Uy.aa(a))?function(b,c){var d=dE(c);c=P(d,0,null);d=P(d,1,null);return GE(c,d,wo.aa(b))}:function(b,c){var d=dE(c);c=P(d,0,null);d=P(d,1,null);var e=cE(d);d=P(e,0,null);e=P(e,1,null);d=XD(d);GE(c,d,wo.aa(b));return e}}],null),new p(null,5,[tp,"(",eu,X,rx,new Jk(null,new p(null,
3,[qv,null,Uy,null,bx,null],null),null),Ez,new p(null,3,[dr,")",mx,null,bu,null],null),HA,function(a){var b=q(function(){var c=Uy.aa(a);return q(c)?qv.aa(a):c}())?$E:q(qv.aa(a))?bF:q(Uy.aa(a))?cF:ZE;return function(c,d){a:{var e=H(xy.aa(c)),f=ic;ic=b.aa?b.aa(ic):b.call(null,ic);try{var h=GE(e,d,wo.aa(c));break a}finally{ic=f}h=void 0}return h}}],null),new p(null,5,[tp,")",eu,X,rx,Lk,Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"[",eu,new p(null,1,[qz,new S(null,2,5,T,[null,Number],null)],
null),rx,new Jk(null,new p(null,2,[qv,null,Uy,null],null),null),Ez,new p(null,3,[dr,"]",mx,!0,bu,mw],null),HA,function(a){return q(qv.aa(a))?QE:q(Uy.aa(a))?RE:PE}],null),new p(null,5,[tp,";",eu,new p(null,2,[nu,new S(null,2,5,T,[null,Number],null),ly,new S(null,2,5,T,[null,Number],null)],null),rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,new p(null,1,[gt,!0],null),HA,function(){return null}],null),new p(null,5,[tp,"]",eu,X,rx,Lk,Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"{",
eu,new p(null,1,[eB,new S(null,2,5,T,[null,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,new p(null,2,[dr,"}",mx,!1],null),HA,function(a){var b=Uy.aa(a);b=q(b)?qv.aa(a):b;return q(b)?VE:q(qv.aa(a))?TE:q(Uy.aa(a))?UE:SE}],null),new p(null,5,[tp,"}",eu,X,rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"\x3c",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),nr,new S(null,2,5,T,[1,Number],null),
yv,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,4,[qv,null,Uy,null,bx,null,st,null],null),null),Ez,new p(null,3,[dr,"\x3e",mx,!0,bu,Wp],null),HA,function(){return WE}],null),new p(null,5,[tp,"\x3e",eu,X,rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"^",eu,new p(null,3,[pA,new S(null,2,5,T,[null,Number],null),rA,new S(null,2,5,T,[null,Number],null),nA,new S(null,2,5,T,[null,Number],
null)],null),rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return function(a,b){var c=pA.aa(a),d=rA.aa(a),e=nA.aa(a),f=q(qv.aa(a))?px:CA;return q(q(c)?q(d)?e:d:c)?c<=d&&d<=e?new S(null,2,5,T,[f,b],null):b:q(q(c)?d:c)?D.j(c,d)?new S(null,2,5,T,[f,b],null):b:q(c)?D.j(c,0)?new S(null,2,5,T,[f,b],null):b:(q(qv.aa(a))?Bf(mu.aa(wo.aa(a))):Bf(mu.aa(b)))?new S(null,2,5,T,[f,b],null):b}}],null),new p(null,5,[tp,"W",eu,X,rx,new Jk(null,new p(null,4,[qv,null,Uy,null,bx,null,st,null],null),
null),Ez,X,HA,function(a){if(q(function(){var c=Uy.aa(a);return q(c)?c:qv.aa(a)}())){var b=W.j(q(Uy.aa(a))?new S(null,4,5,T,[Im,null,bo,null],null):qf,q(qv.aa(a))?new S(null,2,5,T,[st,!0],null):qf);return function(c,d){d=cE(d);c=P(d,0,null);d=P(d,1,null);return q(zh(PD,c,b))?new S(null,2,5,T,[CA,d],null):d}}return function(c,d){d=cE(d);c=P(d,0,null);d=P(d,1,null);return q(OD(c))?new S(null,2,5,T,[CA,d],null):d}}],null),new p(null,5,[tp,"_",eu,X,rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],
null),null),Ez,X,HA,function(){return eF}],null),new p(null,5,[tp,"I",eu,new p(null,1,[Iw,new S(null,2,5,T,[0,Number],null)],null),rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return dF}],null)]),gF=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,hF=new Jk(null,new p(null,2,[Ds,null,sz,null],null),null);
function iF(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);a=new RegExp(gF.source,"g");var e=a.exec(b);return q(e)?(d=H(e),b=Sg.j(b,a.lastIndex),a=c+a.lastIndex,D.j(",",bf(b,0))?new S(null,2,5,T,[new S(null,2,5,T,[d,c],null),new S(null,3,5,T,[Sg.j(b,1),a+1,!0],null)],null):new S(null,2,5,T,[new S(null,2,5,T,[d,c],null),new S(null,3,5,T,[b,a,!1],null)],null)):q(d)?aE("Badly formed parameters in format directive",c):new S(null,2,5,T,[null,new S(null,2,5,T,[b,c],null)],null)}
function jF(a){var b=P(a,0,null);a=P(a,1,null);return new S(null,2,5,T,[D.j(b.length,0)?null:D.j(b.length,1)&&Pf(new Jk(null,new p(null,2,["V",null,"v",null],null),null),bf(b,0))?sz:D.j(b.length,1)&&D.j("#",bf(b,0))?Ds:D.j(b.length,2)&&D.j("'",bf(b,0))?bf(b,1):parseInt(b,10),a],null)}var kF=new p(null,2,[":",qv,"@",Uy],null);
function lF(a,b){return WC(function(c){var d=P(c,0,null),e=P(c,1,null);c=P(c,2,null);if(Bf(d))return new S(null,2,5,T,[null,new S(null,3,5,T,[d,e,c],null)],null);var f=B.j(kF,H(d));return q(f)?Pf(c,f)?aE(['Flag "',t.aa(H(d)),'" appears more than once in a directive'].join(""),e):new S(null,2,5,T,[!0,new S(null,3,5,T,[Sg.j(d,1),e+1,Q.ba(c,f,new S(null,2,5,T,[!0,e],null))],null)],null):new S(null,2,5,T,[null,new S(null,3,5,T,[d,e,c],null)],null)},new S(null,3,5,T,[a,b,X],null))}
function mF(a,b){var c=rx.aa(a);q(yc(Uy.aa(c))?Uy.aa(b):!1)&&aE(['"@" is an illegal flag for format directive "',t.aa(tp.aa(a)),'"'].join(""),bf(Uy.aa(b),1));q(yc(qv.aa(c))?qv.aa(b):!1)&&aE(['":" is an illegal flag for format directive "',t.aa(tp.aa(a)),'"'].join(""),bf(qv.aa(b),1));q(yc(bx.aa(c))?function(){var d=Uy.aa(b);return q(d)?qv.aa(b):d}():!1)&&aE(['Cannot combine "@" and ":" flags for format directive "',t.aa(tp.aa(a)),'"'].join(""),function(){var d=bf(qv.aa(b),1),e=bf(Uy.aa(b),1);return d<
e?d:e}())}
function nF(a,b,c,d){mF(a,c);K(b)>K(eu.aa(a))&&aE(VD(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([tp.aa(a),K(b),K(eu.aa(a))])),mf(H(b)));dl(ci.ba(function(e,f){var h=H(e);return null==h||Pf(hF,h)||D.j(mf(mf(f)),Bc(h))?null:aE(["Parameter ",bh(H(f)),' has bad type in directive "',t.aa(tp.aa(a)),'": ',t.aa(Bc(h))].join(""),mf(e))},b,eu.aa(a)));return Ek.da(M([si.j(X,Vg(function(){return function h(f){return new ch(null,function(){for(;;){var k=
E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=P(w,0,null);w=P(w,1,null);w=P(w,0,null);r.add(new S(null,2,5,T,[A,new S(null,2,5,T,[w,d],null)],null));u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}m=H(k);r=P(m,0,null);m=P(m,1,null);m=P(m,0,null);return hf(new S(null,2,5,T,[r,new S(null,2,5,T,[m,d],null)],null),h(Fe(k)))}return null}},null,null)}(eu.aa(a))}())),v.ba(function(e,f){return zh(Q,e,f)},X,qi(function(e){return H(bf(e,1))},Pk(xj(eu.aa(a)),
b))),c]))}
function oF(a,b){b=WC(iF,new S(null,3,5,T,[a,b,!1],null));a=P(b,0,null);var c=P(b,1,null);b=P(c,0,null);c=P(c,1,null);b=lF(b,c);P(b,0,null);b=P(b,1,null);var d=P(b,0,null),e=P(b,1,null);b=P(b,2,null);c=H(d);var f=B.j(fF,c.toUpperCase()),h=q(f)?nF(f,ci.j(jF,a),b,e):null;yc(c)&&aE("Format string ended in the middle of a directive",e);yc(f)&&aE(['Directive "',t.aa(c),'" is undefined'].join(""),e);return new S(null,2,5,T,[new gE(function(){var k=HA.aa(f);return k.j?k.j(h,e):k.call(null,h,e)}(),f,h,e,
null,null,null),function(){var k=Sg.j(d,1),m=e+1;if(D.j("\n",tp.aa(f))&&yc(qv.aa(h)))a:{var n=new S(null,2,5,T,[" ","\t"],null);n=Cf(n)?Mk(n):Rf([n]);for(var r=0;;){var u;(u=D.j(r,K(k)))||(u=bf(k,r),u=n.aa?n.aa(u):n.call(null,u),u=yc(u));if(u){n=r;break a}r+=1}}else n=0;k=Sg.j(k,n);return new S(null,2,5,T,[k,m+n],null)}()],null)}function pF(a,b){return new gE(function(c,d){RC.da(M([a]));return d},null,new p(null,1,[fn,a],null),b,null,null,null)}
function qF(a,b){var c=rF(Ez.aa(Go.aa(a)),pu.aa(a),b);b=P(c,0,null);c=P(c,1,null);return new S(null,2,5,T,[new gE(Kw.aa(a),Go.aa(a),Ek.da(M([eu.aa(a),YC(b,pu.aa(a))])),pu.aa(a),null,null,null),c],null)}
function sF(a,b,c){return WC(function(d){if(Bf(d))return aE("No closing bracket found.",b);var e=H(d);d=J(d);if(q(dr.aa(Ez.aa(Go.aa(e)))))e=qF(e,d);else if(D.j(dr.aa(a),tp.aa(Go.aa(e))))e=new S(null,2,5,T,[null,new S(null,4,5,T,[Wr,eu.aa(e),null,d],null)],null);else{var f=gt.aa(Ez.aa(Go.aa(e)));f=q(f)?qv.aa(eu.aa(e)):f;e=q(f)?new S(null,2,5,T,[null,new S(null,4,5,T,[bu,null,eu.aa(e),d],null)],null):q(gt.aa(Ez.aa(Go.aa(e))))?new S(null,2,5,T,[null,new S(null,4,5,T,[gt,null,null,d],null)],null):new S(null,
2,5,T,[e,d],null)}return e},c)}
function rF(a,b,c){return mf(WC(function(d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);var h=sF(a,b,d);d=P(h,0,null);var k=P(h,1,null);h=P(k,0,null);var m=P(k,1,null),n=P(k,2,null);k=P(k,3,null);return D.j(h,Wr)?new S(null,2,5,T,[null,new S(null,2,5,T,[Fk.da(W,M([e,uf([q(f)?bu:xy,new S(null,1,5,T,[d],null),Up,m])])),k],null)],null):D.j(h,bu)?q(bu.aa(e))?aE('Two else clauses ("~:;") inside bracket construction.',b):yc(bu.aa(a))?aE('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.j(Wp,bu.aa(a))&&E(xy.aa(e))?aE('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.j(Wp,bu.aa(a))?new S(null,2,5,T,[!0,new S(null,3,5,T,[Fk.da(W,M([e,new p(null,2,[bu,new S(null,1,5,T,[d],null),CB,n],null)])),!1,k],null)],null):new S(null,2,5,T,[!0,new S(null,3,5,T,[Fk.da(W,M([e,new p(null,1,[xy,new S(null,1,5,T,[d],null)],null)])),!0,k],null)],null):D.j(h,gt)?q(f)?aE('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):
yc(mx.aa(a))?aE('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new S(null,2,5,T,[!0,new S(null,3,5,T,[Fk.da(W,M([e,new p(null,1,[xy,new S(null,1,5,T,[d],null)],null)])),!1,k],null)],null):null},new S(null,3,5,T,[new p(null,1,[xy,qf],null),!1,c],null)))}function tF(a){return H(WC(function(b){var c=H(b);b=J(b);var d=Ez.aa(Go.aa(c));return q(dr.aa(d))?qF(c,b):new S(null,2,5,T,[c,b],null)},a))}
function WD(a){var b=$D;$D=a;try{return tF(H(WC(function(c){var d=P(c,0,null);c=P(c,1,null);if(Bf(d))return new S(null,2,5,T,[null,d],null);var e=d.indexOf("~");return 0>e?new S(null,2,5,T,[pF(d,c),new S(null,2,5,T,["",c+d.length],null)],null):0===e?oF(Sg.j(d,1),c+1):new S(null,2,5,T,[pF(Sg.ba(d,0,e),c),new S(null,2,5,T,[Sg.j(d,e),e+c],null)],null)},new S(null,2,5,T,[a,0],null))))}finally{$D=b}}
var YD=function YD(a){for(;;){if(Bf(a))return!1;var c=st.aa(rx.aa(Go.aa(H(a))));q(c)||(c=Kh(YD,H(xy.aa(eu.aa(H(a))))),c=q(c)?c:Kh(YD,H(bu.aa(eu.aa(H(a))))));if(q(c))return!0;a=J(a)}};function ZD(a,b){VC(function(c,d){if(FE(d))return new S(null,2,5,T,[null,d],null);d=iE(eu.aa(c),d);var e=P(d,0,null);d=P(d,1,null);var f=XC(e);e=P(f,0,null);f=P(f,1,null);e=Q.ba(e,wo,d);return new S(null,2,5,T,[null,yh(Kw.aa(c),new S(null,3,5,T,[e,d,f],null))],null)},b,a);return null}
var uF=Xl(WD),vF=new p(null,6,[nw,"'",Mx,"#'",ps,"@",nx,"~",Mn,"@",zo,"~"],null);function wF(a){var b=H(a);b=vF.aa?vF.aa(b):vF.call(null,b);return q(q(b)?D.j(2,K(a)):b)?(Jd(ic,b),OD(mf(a)),!0):null}function xF(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("[","]");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(OD(H(e)),J(e))){Jd(ic," ");TD(hv);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null}
(function(){var a=uF("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()})();
function yF(a){var b=Gf(a)?null:function(){var m=new Ae(function(){return Dl},pw,gk([wn,ym,fz,Dt,co,yA,Qm,nn,Cu,Px,wv],[!0,Dm,Pw,"cljs/core.cljs",15,1,10307,10307,bg(new S(null,1,5,T,[yq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",q(Dl)?Dl.Wi:null]));return m.aa?m.aa(a):m.call(null,a)}(),c=P(b,0,null);b=P(b,1,null);var d=q(b)?b:a,e=q(c)?["#:",t.aa(c),"{"].join(""):"{";if(q(SD()))Jd(ic,"#");else{c=LD;b=MD;LD+=1;MD=0;try{CD(e,"}");e=0;for(var f=E(d);;){if(yc(mc)||e<mc){if(f){if(q(SD()))Jd(ic,
"#");else{d=LD;var h=MD;LD+=1;MD=0;try{CD(null,null),OD(nf(f)),Jd(ic," "),TD(hv),MD=0,OD(H(J(H(f)))),DD()}finally{MD=h,LD=d}}if(J(f)){Jd(ic,", ");TD(hv);d=e+1;var k=J(f);e=d;f=k;continue}}}else Jd(ic,"...");break}DD()}finally{MD=b,LD=c}}return null}function zF(a){return Jd(ic,xl.da(M([a])))}
var AF=function(){var a=uF("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}(),BF=new p(null,2,["core$future_call","Future","core$promise","Promise"],null);
function CF(a){var b=fl(/^[^$]+\$[^$]+/,a);b=q(b)?BF.aa?BF.aa(b):BF.call(null,b):null;return q(b)?b:a}var DF=function(){var a=uF("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}();
function EF(a){return a instanceof jj?kz:(null!=a?a.ga&32768||l===a.xg||(a.ga?0:Ac(od,a)):Ac(od,a))?cB:a instanceof z?Lw:Lf(a)?sA:Ff(a)?ey:Hf(a)?dx:Df(a)?yp:null==a?null:qm}var FF,EO=Uh(X),OO=Uh(X),PO=Uh(X),QO=Uh(X),RO=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));FF=new pm(ze.j(ba,"simple-dispatch"),EF,RO,EO,OO,PO,QO);
nm(FF,sA,function(a){if(yc(wF(a)))if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",")");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(OD(H(e)),J(e))){Jd(ic," ");TD(hv);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null});nm(FF,dx,xF);nm(FF,ey,yF);nm(FF,yp,AF);nm(FF,null,function(){return Jd(ic,xl.da(M([null])))});nm(FF,qm,zF);FD=FF;function LF(a){return Hf(a)?new S(null,2,5,T,["[","]"],null):new S(null,2,5,T,["(",")"],null)}
function MF(a){if(Ef(a)){var b=LF(a),c=P(b,0,null),d=P(b,1,null),e=E(a),f=H(e),h=J(e);if(q(SD()))Jd(ic,"#");else{var k=LD,m=MD,n=LD+1;LD=n;MD=0;try{CD(c,d);(function(){var wa=uF("~w~:i");return function(){function xa(ka){var oa=null;if(0<arguments.length){oa=0;for(var Ca=Array(arguments.length-0);oa<Ca.length;)Ca[oa]=arguments[oa+0],++oa;oa=new De(Ca,0,null)}return Ra.call(this,oa)}function Ra(ka){ka=XD(ka);return ZD(wa,ka)}xa.na=0;xa.qa=function(ka){ka=E(ka);return Ra(ka)};xa.da=Ra;return xa}()})()(f);
for(var r=h;;)if(E(r)){(function(){var wa=uF(" ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r," ",wa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(r);if(Ef(u)){var w=LF(u),A=P(w,0,null),G=P(w,1,null);if(q(SD()))Jd(ic,
"#");else{var I=LD,F=MD,N=LD+1;LD=N;MD=0;try{CD(A,G);if(D.j(K(u),3)&&mf(u)instanceof C){var O=u,U=P(O,0,null),ea=P(O,1,null),va=P(O,2,null);(function(){var wa=uF("~w ~w ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,
"~w ~w ",wa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);Ef(va)?function(){var wa=Hf(va)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",xa="string"===typeof wa?uF(wa):wa;return function(Ra,ka,oa){return function(){function Ca(Ba){var Ua=null;if(0<arguments.length){Ua=0;for(var ac=Array(arguments.length-0);Ua<ac.length;)ac[Ua]=arguments[Ua+0],++Ua;Ua=new De(ac,0,null)}return ua.call(this,Ua)}function ua(Ba){Ba=XD(Ba);return ZD(oa,Ba)}Ca.na=0;Ca.qa=function(Ba){Ba=
E(Ba);return ua(Ba)};Ca.da=ua;return Ca}()}(r,wa,xa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(va):OD(va)}else yh(function(){var wa=uF("~w ~:i~@{~w~^ ~:_~}");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,
"~w ~:i~@{~w~^ ~:_~}",wa,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);DD()}finally{MD=F,LD=I}}J(r)&&function(){var wa=uF("~_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,"~_",wa,w,A,G,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else OD(u),J(r)&&function(){var wa=uF("~:_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,"~:_",wa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();r=J(r)}else break;DD()}finally{MD=m,LD=k}}}else OD(a)}
var NF=function(){var a=uF("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}();
function OF(a,b){E(a)&&(q(b)?function(){var c=uF(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=XD(f);return ZD(c,f)}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}()():function(){var c=uF(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=XD(f);return ZD(c,f)}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}()(),function(){var c=uF("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=XD(f);return ZD(c,f)}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}()(a))}
function PF(a){E(a)&&function(){var b=uF(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){e=XD(e);return ZD(b,e)}c.na=0;c.qa=function(e){e=E(e);return d(e)};c.da=d;return c}()}()(a)}
function QF(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new S(null,2,5,T,[H(c),J(c)],null):new S(null,2,5,T,[null,c],null);c=P(d,0,null);d=P(d,1,null);var e=Ff(H(d))?new S(null,2,5,T,[H(d),J(d)],null):new S(null,2,5,T,[null,d],null);d=P(e,0,null);e=P(e,1,null);if(q(SD()))Jd(ic,"#");else{var f=LD,h=MD;LD+=1;MD=0;try{CD("(",")"),function(){var k=uF("~w ~1I~@_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-
0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);return n(r)};m.da=n;return m}()}()(a,b),q(c)&&function(){var k=uF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);return n(r)};m.da=n;return m}()}()(c),
q(d)&&function(){var k=uF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);return n(r)};m.da=n;return m}()}()(d),Hf(H(e))?OF(e,q(c)?c:d):PF(e),DD()}finally{MD=h,LD=f}}return null}return RF(a)}
function SF(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("[","]");for(var d=0;;){if(yc(mc)||d<mc){if(E(a)){if(q(SD()))Jd(ic,"#");else{var e=LD,f=MD;LD+=1;MD=0;try{CD(null,null),OD(H(a)),J(a)&&(Jd(ic," "),TD(tz),OD(mf(a))),DD()}finally{MD=f,LD=e}}if(J(Fe(a))){Jd(ic," ");TD(hv);e=d+1;var h=J(Fe(a));d=e;a=h;continue}}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}}
function TF(a){var b=H(a);if(q(SD()))Jd(ic,"#");else{var c=LD,d=MD;LD+=1;MD=0;try{CD("(",")"),J(a)&&Hf(mf(a))?(function(){var e=uF("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=XD(k);return ZD(e,k)}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()}()(b),SF(mf(a)),function(){var e=uF(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=XD(k);return ZD(e,k)}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()}()(J(Fe(a)))):RF(a),DD()}finally{MD=d,LD=c}}return null}
var UF=function(){var a=uF("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}(),VF=X;
function RF(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",")");UD(au,1);for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(OD(H(e)),J(e))){Jd(ic," ");TD(hv);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null}
var WF=function(a){return si.j(X,oi(wg,M([function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new S(null,2,5,T,[n,new S(null,2,5,T,[ze.aa(bh(H(n))),mf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}k=H(e);return hf(new S(null,2,5,T,[k,new S(null,2,5,T,[ze.aa(bh(H(k))),mf(k)],null)],null),d(Fe(e)))}return null}},null,null)}(a)}()])))}(function(a){return si.j(X,
ci.j(function(b){var c=P(b,0,null),d=P(b,1,null);var e=Zg(c);e=q(e)?e:Pf(new Jk(null,new p(null,24,[Tr,"null",du,"null",Gm,"null",Mv,"null",Vm,"null",Oo,"null",kw,"null",pv,"null",Pp,"null",bw,"null",iv,"null",Vw,"null",pB,"null",Xp,"null",Du,"null",on,"null",mq,"null",Hr,"null",Ty,"null",Mx,"null",nw,"null",Ju,"null",Pv,"null",Ns,"null"],null),null),c);return yc(e)?new S(null,2,5,T,[ze.j("clojure.core",bh(c)),d],null):b},a))}(gk([Ty,on,eq,bw,$A,nt,wB,Ru,nz,Tu,xx,mo,dA,Ns,hr,fo,Hv,it,ry,Vw,Ho,cy,
Uv,Cw,Vz,rp,yu,XA,Jy,ku],[NF,function(a){var b=mf(a),c=H(Fe(Fe(a)));if(Hf(b)){a=VF;VF=D.j(1,K(b))?uf([H(b),"%"]):si.j(X,ci.ba(function(d,e){return new S(null,2,5,T,[d,["%",t.aa(e)].join("")],null)},b,Yk.j(1,K(b)+1)));try{return function(){var d=uF("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new De(m,0,null)}return f.call(this,k)}function f(h){h=XD(h);return ZD(d,h)}
e.na=0;e.qa=function(h){h=E(h);return f(h)};e.da=f;return e}()}()(c)}finally{VF=a}}else return RF(a)},TF,UF,function(a){if(3<K(a)){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",")");UD(au,1);yh(function(){var k=uF("~w ~@_~w ~@_~w ~_");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);
return n(r)};m.da=n;return m}()}(),a);for(var d=0,e=E(ei(3,a));;){if(yc(mc)||d<mc){if(e){if(q(SD()))Jd(ic,"#");else{a=LD;var f=MD;LD+=1;MD=0;try{CD(null,null),OD(H(e)),J(e)&&(Jd(ic," "),TD(tz),OD(mf(e))),DD()}finally{MD=f,LD=a}}if(J(Fe(e))){Jd(ic," ");TD(hv);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null}return RF(a)},NF,QF,QF,TF,NF,TF,UF,UF,NF,UF,TF,TF,NF,TF,function(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?
new S(null,2,5,T,[H(c),J(c)],null):new S(null,2,5,T,[null,c],null);c=P(d,0,null);d=P(d,1,null);d=Ff(H(d))?new S(null,2,5,T,[H(d),J(d)],null):new S(null,2,5,T,[null,d],null);var e=P(d,0,null),f=P(d,1,null);if(q(SD()))Jd(ic,"#");else{d=LD;var h=MD;LD+=1;MD=0;try{CD("(",")");(function(){var m=uF("~w ~1I~@_~w");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=
XD(u);return ZD(m,u)}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()})()(a,b);q(q(c)?c:q(e)?e:E(f))&&function(){var m=uF("~@:_");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=XD(u);return ZD(m,u)}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()}()();q(c)&&VD(!0,'"~a"~:[~;~:@_~]',M([c,q(e)?e:E(f)]));q(e)&&function(){var m=
uF("~w~:[~;~:@_~]");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=XD(u);return ZD(m,u)}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()}()(e,E(f));for(a=f;;){MF(H(a));var k=J(a);if(k)b=k,TD(hv),a=b;else break}DD()}finally{MD=h,LD=d}}return null}return OD(a)},TF,function(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",
")");UD(au,1);OD(H(a));if(J(a)){Jd(ic," ");TD(hv);for(var d=0,e=J(a);;){if(yc(mc)||d<mc){if(e){if(q(SD()))Jd(ic,"#");else{a=LD;var f=MD;LD+=1;MD=0;try{CD(null,null),OD(H(e)),J(e)&&(Jd(ic," "),TD(tz),OD(mf(e))),DD()}finally{MD=f,LD=a}}if(J(Fe(e))){Jd(ic," ");TD(hv);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}}DD()}finally{MD=c,LD=b}}return null},TF,QF,QF,NF,NF,TF,TF,NF]))),XF,SO=Uh(X),TO=Uh(X),UO=Uh(X),VO=Uh(X),vP=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));
XF=new pm(ze.j(ba,"code-dispatch"),EF,vP,SO,TO,UO,VO);nm(XF,sA,function(a){if(yc(wF(a))){var b=WF.call(null,H(a));return q(b)?b.aa?b.aa(a):b.call(null,a):RF(a)}return null});nm(XF,Lw,function(a){var b=a.aa?a.aa(VF):a.call(null,VF);return q(b)?RC.da(M([b])):q(ID)?RC.da(M([bh(a)])):SC.call(null,a)});nm(XF,dx,xF);nm(XF,ey,yF);nm(XF,yp,AF);nm(XF,kz,DF);
nm(XF,cB,function(a){var b=["#\x3c",t.aa(CF(Bc(a).name)),"@",t.aa(ya(a)),": "].join("");if(q(SD()))Jd(ic,"#");else{var c=LD,d=MD;LD+=1;MD=0;try{CD(b,"\x3e"),UD(au,-(b.length-2)),TD(hv),OD((null!=a?a.la&1||l===a.Si||(a.la?0:Ac(Nd,a)):Ac(Nd,a))&&!Od(a)?lo:y(a)),DD()}finally{MD=d,LD=c}}return null});nm(XF,null,SC);nm(XF,qm,zF);FD=FF;var cG=/[\s]/;function dG(a){return null==a?null:","===a?!0:cG.test(a)}function eG(a){return null==a?null:!/[^0-9]/.test(a)}
function fG(a,b){return function e(d){return new ch(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var r=0;;)if(r<k){var u=x(h,r),w=m;if(u instanceof z||u instanceof C){var A=cl(Zg,bh)(u),G=P(A,0,null);A=P(A,1,null);var I=u instanceof z?ze:ah;u=null==G?I.j?I.j(a,A):I.call(null,a,A):D.j("_",G)?I.aa?I.aa(A):I.call(null,A):u}w.add(u);r+=1}else return!0}()?ih(kh(m),e(be(f))):ih(kh(m),null)}var n=H(f);return hf(n instanceof z||n instanceof C?function(){var r=
cl(Zg,bh)(n),u=P(r,0,null);r=P(r,1,null);var w=n instanceof z?ze:ah;return null==u?w.j?w.j(a,r):w.call(null,a,r):D.j("_",u)?w.aa?w.aa(r):w.call(null,r):n}():n,e(Fe(f)))}return null}},null,null)}(b)}function gG(a,b){a=parseInt(a,b);return q(isNaN(a))?-1:a};function hG(a){if(null!=a&&null!=a.Td)a=a.Td(a);else{var b=hG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=hG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Reader.read-char",a);}return a}function iG(a){if(null!=a&&null!=a.Ge)a=a.Ge(a);else{var b=iG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=iG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Reader.peek-char",a);}return a}
function jG(a,b){if(null!=a&&null!=a.Fg)a.Fg(a,b);else{var c=jG[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=jG._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPushbackReader.unread",a);}}function kG(a){if(null!=a&&null!=a.Fh)a=a.Fh(a);else{var b=kG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=kG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IndexingReader.get-line-number",a);}return a}
function lG(a){if(null!=a&&null!=a.Dh)a=a.Dh(a);else{var b=lG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=lG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IndexingReader.get-column-number",a);}return a}function mG(a){if(null!=a&&null!=a.Eh)a=a.Eh(a);else{var b=mG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=mG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IndexingReader.get-file-name",a);}return a}
function nG(a,b){this.s=a;this.dh=b;this.le=0}nG.prototype.Td=function(){if(this.dh>this.le){var a=this.s.charAt(this.le);this.le+=1;return a}return null};nG.prototype.Ge=function(){return this.dh>this.le?this.s.charAt(this.le):null};function oG(a,b){this.Zg=a;this.buf=b;this.Vc=this.Cf=1}oG.prototype.Td=function(){var a=this.Vc<this.Cf?this.buf[this.Vc]:this.Zg.Td(null);this.Vc<this.Cf&&(this.Vc+=1);return null==a?null:Kg(a)};
oG.prototype.Ge=function(){var a=this.Vc<this.Cf?this.buf[this.Vc]:this.Zg.Ge(null);return null==a?null:Kg(a)};oG.prototype.Fg=function(a,b){if(q(b)){if(0===this.Vc)throw Error("Pushback buffer is full");--this.Vc;return this.buf[this.Vc]=b}return null};function pG(a){return null!=a?l===a.Xi?!0:!1:!1};function qG(a,b,c,d){var e=K(b);a=q(a)?0:10<e?10:e;b=ci.j(Db.j(rG,!0),di.j(a,b));b=yh(t,ei(1,mi.j(ii(" "),b)));e=a<e?"...":null;return[t.aa(c),t.aa(b),e,t.aa(d)].join("")}var rG,yP=Uh(X),zP=Uh(X),AP=Uh(X),CP=Uh(X),gR=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));
rG=new pm(ze.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?us:"string"===typeof b?fn:b instanceof C?Gw:"number"===typeof b?Gw:b instanceof z?Gw:Hf(b)?dx:Tg(b)?sA:Ff(b)?ey:Df(b)?yp:D.j(b,!0)?Gw:D.j(b,!1)?Gw:Bc(b)},gR,yP,zP,AP,CP);rG.wb(null,fn,function(a,b){a=q(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.aa(b.substring(0,a<d?a:d)),c].join("")});rG.wb(null,Gw,function(a,b){return t.aa(b)});rG.wb(null,De,function(){return"\x3cindexed seq\x3e"});
rG.wb(null,vj,function(){return"\x3cmap seq\x3e"});rG.wb(null,Zj,function(){return"\x3cmap seq\x3e"});rG.wb(null,Wg,function(){return"\x3ccons\x3e"});rG.wb(null,ch,function(){return"\x3clazy seq\x3e"});rG.wb(null,us,function(){return"nil"});rG.wb(null,sA,function(a,b){return qG(a,b,"(",")")});rG.wb(null,ey,function(a,b){var c=K(b),d=q(a)?0:c;b=yh(W,di.j(d,b));return qG(a,b,"{",c>d?"...}":"}")});rG.wb(null,yp,function(a,b){return qG(a,b,"#{","}")});rG.wb(null,dx,function(a,b){return qG(a,b,"[","]")});
rG.wb(null,qm,function(a,b){return xl.da(M([Bc(b)]))});function xG(a,b,c){b=new p(null,2,[pq,Cs,Ur,b],null);a=pG(a)?Q.da(b,Dt,mG(a),M([Qm,kG(a),xr,lG(a)])):b;var d=Dt.aa(a);b=Qm.aa(a);var e=xr.aa(a);d=q(d)?[t.aa(d)," "].join(""):null;b=q(b)?["[line ",t.aa(b),", col ",t.aa(e),"]"].join(""):null;c=Bh(t,d,b,q(q(d)?d:b)?" ":null,c);throw vm(c,a);}function yG(a,b){return xG(a,vq,M([yh(t,b)]))}function zG(a,b){return xG(a,Zo,M([yh(t,b)]))}function AG(a,b){return xG(a,sx,M([yh(t,b)]))}
function BG(a,b,c,d){yG(a,M(["The map literal starting with ",rG.j(!1,H(d)),q(b)?[" on line ",t.aa(b)," column ",t.aa(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function CG(a,b,c){return yG(a,M(["Invalid ",bh(b),": ",c,"."]))}function DG(a,b,c){return yG(a,M(["Invalid character: ",c," found while reading ",bh(b),"."]))}
function EG(a,b){a:{var c=fn instanceof C?fn.Aa:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.aa(c)].join(""));}}return AG(a,M(["Unexpected EOF reading ",bh(fn)," starting ",zh(t,c,b),"."]))}function FG(a,b){return zG(a,M(["Invalid digit ",b," in unicode character."]))}function GG(a){return yG(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function HG(a,b){b=function(c){return function f(e){return new ch(null,function(){for(var h=e;;)if(h=E(h)){if(If(h)){var k=ae(h),m=K(k),n=gh(m);a:for(var r=0;;)if(r<m){var u=x(k,r),w=P(u,0,null);1<P(u,1,null)&&n.add(w);r+=1}else{k=!0;break a}return k?ih(kh(n),f(be(h))):ih(kh(n),null)}n=H(h);k=P(n,0,null);if(1<P(n,1,null))return hf(k,f(Fe(h)));h=Fe(h)}else return null},null,null)}(bl(c))}(b);return Bh(t,a,1<K(b)?"s":null,": ",ei(1,mi.j(ii(", "),b)))}
function IG(a,b,c){b=bh(b);yG(a,M([HG([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function JG(a){for(var b=a.Td(null);;)if(dG.aa?dG.aa(b):dG.call(null,b))b=a.Td(null);else return b}var KG=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,LG=/([-+]?[0-9]+)\/([0-9]+)/,MG=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function SG(a,b){a=fl(a,b);return P(a,0,null)===b}
function TG(a){if(SG(KG,a)){var b=sg(fl(KG,a));if(null!=(b.aa?b.aa(2):b.call(null,2)))a=0;else{a="-"===(b.aa?b.aa(1):b.call(null,1));b=null!=(b.aa?b.aa(3):b.call(null,3))?new S(null,2,5,T,[b.aa?b.aa(3):b.call(null,3),10],null):null!=(b.aa?b.aa(4):b.call(null,4))?new S(null,2,5,T,[b.aa?b.aa(4):b.call(null,4),16],null):null!=(b.aa?b.aa(5):b.call(null,5))?new S(null,2,5,T,[b.aa?b.aa(5):b.call(null,5),8],null):null!=(b.aa?b.aa(7):b.call(null,7))?new S(null,2,5,T,[b.aa?b.aa(7):b.call(null,7),parseInt(b.aa?
b.aa(6):b.call(null,6))],null):new S(null,2,5,T,[null,null],null);var c=b.aa?b.aa(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.aa?b.aa(1):b.call(null,1)),a=a?-1*b:b,a=q(isNaN(a))?null:a)}}else SG(MG,a)?(b=sg(fl(MG,a)),a=null!=(b.aa?b.aa(4):b.call(null,4))?parseFloat(b.aa?b.aa(1):b.call(null,1)):parseFloat(a)):SG(LG,a)?(b=sg(fl(LG,a)),a=b.aa?b.aa(1):b.call(null,1),b=b.aa?b.aa(2):b.call(null,2),a=q(fl(/^\+/,a))?Sg.j(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function UG(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?Sg.ba(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=Sg.j(a,b);return eG(bf(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new S(null,2,5,T,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new S(null,2,5,T,[null,a],null):null}
var VG=function VG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return VG.da(arguments[0],c)};VG.da=function(a){for(;;){var b=a.Td(null);if("\n"===b||"\n"===b||null==b)break}return a};VG.na=1;VG.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};
function WG(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new De(f,0,null)}return b.call(this,c,e)}function b(c){return yG(c,M(["Unreadable form"]))}a.na=1;a.qa=function(c){var d=H(c);c=Fe(c);return b(d,c)};a.da=b;return a}()};new dc;function XG(a){return"#"!==a?"'"!==a?":"!==a?YG.aa?YG.aa(a):YG.call(null,a):!1:!1:!1}function ZG(a){return"@"===a||"`"===a||"~"===a}function $G(a,b,c,d){if(yc(c))return AG(a,M(["Unexpected EOF while reading start of ",bh(b),"."]));if(q(q(d)?ZG(c):d))return DG(a,b,c);d=new dc;for(jG(a,c);;){if(dG(c)||XG(c)||null==c)return t.aa(d);if(ZG(c))return DG(a,b,c);d.append(hG(a));c=iG(a)}}
function aH(a,b,c){b=hG(a);if(q(b)){var d=bH.aa?bH.aa(b):bH.call(null,b);if(q(d))return d.ba?d.ba(a,b,c):d.call(null,a,b,c);jG(a,b);return cH.ba?cH.ba(a,b,c):cH.call(null,a,b,c)}return AG(a,M(["Unexpected EOF while reading dispatch character."]))}function dH(a,b){return yG(a,M(["Unmatched delimiter ",b,"."]))}
function eH(a,b,c){b=1+b;if(K(a)!==b)throw zG(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=gG(bf(a,d),c);if(-1===f)return c=bf(a,d),zG(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function fH(a,b,c,d,e){for(var f=1,h=gG(b,c);;){if(-1===h)return FG(a,b);if(f!==d){var k=iG(a);var m=dG(k);m||(m=YG.aa?YG.aa(k):YG.call(null,k),m=q(m)?m:null==k);if(q(m))return q(e)?zG(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=gG(k,c);hG(a);if(-1===m)return FG(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function gH(a){var b=hG(a);if(null!=b){b=XG(b)||ZG(b)||dG(b)?t.aa(b):$G(a,fw,b,!1);var c=b.length;if(1===c)return bf(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(q(0==b.lastIndexOf("u",0)))return b=eH(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=yG(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(q(0==b.lastIndexOf("o",0))){--c;if(3<c)return yG(a,M(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=eH(b,c,8);return 255<(b|0)?GG(a):b}return yG(a,M(["Unsupported character: ",b,"."]))}return AG(a,M(["Unexpected EOF while reading character."]))}function hH(a){return pG(a)?new S(null,2,5,T,[kG(a),(lG(a)|0)-1|0],null):null}
function iH(a,b,c,d){var e=hH(c),f=P(e,0,null);e=P(e,1,null);b=null==b?null:Kg(b);for(var h=Td(qf);;){var k=JG(c);if(!q(k)){var m=a,n=f,r=e,u=K(h);AG(c,M(["Unexpected EOF while reading ",q(u)?["item ",t.aa(u)," of "].join(""):null,bh(m),q(n)?[", starting at line ",t.aa(n)," and column ",t.aa(r)].join(""):null,"."]))}if(D.j(b,null==k?null:Kg(k)))return Vd(h);m=YG.aa?YG.aa(k):YG.call(null,k);q(m)?(k=m.ba?m.ba(c,k,d):m.call(null,c,k,d),h=k!==c?qh.j(h,k):h):(jG(c,k),k=jH?jH(c,!0,null,d):kH.call(null,
c,!0,null,d),h=k!==c?qh.j(h,k):h)}}function lH(a,b,c){a=iH(sA,")",a,c);return Bf(a)?Ge:yh(bg,a)}function mH(a,b,c){return iH(dx,"]",a,c)}function nH(a,b,c){var d=hH(a);b=P(d,0,null);d=P(d,1,null);c=iH(ey,"}",a,c);var e=K(c),f=Zk(2,c),h=Mk(f);!Lh(e)&&BG(a,b,d,c);D.j(K(h),K(f))||IG(a,ey,f);if(e<=2*Aj)a=Wf(c),a=new p(null,a.length/2,a,null);else a:for(a=Wf(c),b=a.length,d=0,e=Td(Bj);;)if(d<b)c=d+2,e=Wd(e,a[d],a[d+1]),d=c;else{a=Vd(e);break a}return a}
function oH(a,b){for(var c=function(){var h=new dc;h.append(b);return h}(),d=hG(a);;){if(q(function(){var h=dG(d);if(h)return h;h=YG.aa?YG.aa(d):YG.call(null,d);return q(h)?h:null==d}())){var e=t.aa(c);jG(a,d);var f=TG(e);return q(f)?f:yG(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=hG(a);c=e;d=f}}
function pH(a){var b=hG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=hG(a),-1===parseInt(b|0,16)?yG(a,M(["Invalid unicode escape: \\u",b,"."])):fH(a,b,16,4,!0);default:return eG(b)?(b=fH(a,b,8,3,!1),255<(b|0)?GG(a):b):yG(a,M(["Unsupported escape character: \\",b,"."]))}}
function qH(a){for(var b=new dc,c=hG(a);;){var d=c;if(D.j(null,d))return EG(a,M(['"',b]));if(D.j("\\",d)){d=function(){var f=b;f.append(pH(a));return f}();var e=hG(a);b=d;c=e}else{if(D.j('"',d))return t.aa(b);d=function(){var f=b;f.append(c);return f}();e=hG(a);b=d;c=e}}}
function rH(a,b){b=$G(a,Lw,b,!0);if(q(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Qo;default:var c=UG(b);c=q(c)?ze.j(c.aa?c.aa(0):c.call(null,0),c.aa?c.aa(1):c.call(null,1)):null;return q(c)?c:CG(a,Lw,b)}else return null}
function sH(a){var b=hG(a);if(dG(b))return yG(a,M(["A single colon is not a valid keyword."]));b=$G(a,DB,b,!0);var c=UG(b);if(q(q(c)?-1===b.indexOf("::"):c)){var d=c.aa?c.aa(0):c.call(null,0);c=c.aa?c.aa(1):c.call(null,1);return":"===bf(b,0)?CG(a,DB,b):ah.j(d,c)}return CG(a,DB,b)}
function tH(a,b,c){b=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);b=b instanceof C?uf([b,!0]):b instanceof z?new p(null,1,[fv,b],null):"string"===typeof b?new p(null,1,[fv,b],null):b;Ff(b)||yG(a,M(["Metadata cannot be ",rG.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);return null!=c&&(c.ga&131072||l===c.ye)?xf(c,Ek.da(M([yf(c),b]))):yG(a,M(["Metadata can not be applied to ",rG.j(!1,c),". ","Metadata can only be applied to IMetas."]))}
function uH(a,b,c){b=iH(yp,"}",a,c);c=Mk(b);D.j(K(b),K(c))||IG(a,yp,b);return c}function vH(a){jH?jH(a,!0,null,!0):kH.call(null,a,!0,null,!0);return a}
function wH(a,b,c){b=hG(a);b=$G(a,Yu,b,!0);var d=null==b?null:UG(b);if(null==d)var e=null;else e=P(d,0,null),d=P(d,1,null),e=q(e)?null:d;return q(e)?"{"===JG(a)?(c=iH(Yu,"}",a,c),!Lh(K(c))&&BG(a,null,null,c),b=fG(t.aa(e),Zk(2,c)),c=Zk(2,Fe(c)),D.j(K(Mk(b)),K(b))||IG(a,Yu,b),Pk(b,c)):yG(a,M(["Namespaced map with namespace ",b," does not specify a map."])):yG(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function xH(a,b,c){b=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);return D.j(sB,b)?Number.NaN:D.j(gs,b)?Number.NEGATIVE_INFINITY:D.j(Gz,b)?Number.POSITIVE_INFINITY:yG(a,M([["Invalid token: ##",t.aa(b)].join("")]))}function YG(a){switch(a){case '"':return qH;case ":":return sH;case ";":return VG;case "^":return tH;case "(":return lH;case ")":return dH;case "[":return mH;case "]":return dH;case "{":return nH;case "}":return dH;case "\\":return gH;case "#":return aH;default:return null}}
function bH(a){switch(a){case "^":return tH;case "{":return uH;case "\x3c":return WG();case "!":return VG;case "_":return vH;case ":":return wH;case "#":return xH;default:return null}}
function cH(a,b,c){b=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);var d=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);b instanceof z||yG(a,M(["Invalid reader tag: ",rG.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.j(Pm.aa(c),b);e=q(e)?e:X.aa?X.aa(b):X.call(null,b);if(q(e))return e.aa?e.aa(d):e.call(null,d);c=qm.aa(c);return q(c)?c.j?c.j(b,d):c.call(null,b,d):yG(a,M(["No reader function for tag ",rG.j(!1,b),"."]))}
function kH(a){switch(arguments.length){case 1:return yH(X,arguments[0]);case 2:return yH(arguments[0],arguments[1]);case 4:return jH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function yH(a,b){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var c=B.j(a,sx),d=!Pf(a,sx);return jH(b,d,c,a)}
function jH(a,b,c,d){try{for(;;){var e=hG(a);if(!dG(e)){if(null==e){if(q(b)){b=a;var f=q(null)?AG(b,M(["EOF while reading, starting at line ",null,"."])):AG(b,M(["EOF while reading."]))}else f=c;return f}if(eG(e)||("+"===e||"-"===e)&&eG(a.Ge(null)))return oH(a,e);var h=YG(e);if(q(h)){var k=h.ba?h.ba(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return rH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof um){b=f instanceof um?f.data:null;if(D.j(Cs,pq.aa(b)))throw f;a=Ek.da(M([new p(null,
1,[pq,Cs],null),b,pG(a)?new p(null,3,[Qm,kG(a),yA,lG(a),Dt,mG(a)],null):null]));throw new um(f.message,a,f);}a=Ek.da(M([new p(null,1,[pq,Cs],null),pG(a)?new p(null,3,[Qm,kG(a),yA,lG(a),Dt,mG(a)],null):null]));throw new um(f.message,a,f);}throw m;}}function zH(a,b){if(q(q(b)?Dh.j(b,""):b)){b=new nG(b,K(b));a:{var c=Array(1);if(Lf(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=yH(a,new oG(b,c))}else a=null;return a};var AH=function(){var a=new S(null,13,5,T,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new S(null,13,5,T,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.j(q(d)?b:a,c)}}(),BH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function CH(a){a=parseInt(a,10);return yc(isNaN(a))?a:null}
function DH(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.aa(d)," Failed:  ",t.aa(a),"\x3c\x3d",t.aa(b),"\x3c\x3d",t.aa(c)].join(""));return b}
function EH(a){var b=el(BH,a);P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null),m=P(b,7,null),n=P(b,8,null),r=P(b,9,null),u=P(b,10,null);if(yc(b))throw Error(["Unrecognized date/time syntax: ",t.aa(a)].join(""));a=CH(c);b=function(){var F=CH(d);return q(F)?F:1}();c=function(){var F=CH(e);return q(F)?F:1}();var w=function(){var F=CH(f);return q(F)?F:0}(),A=function(){var F=CH(h);return q(F)?F:0}(),G=function(){var F=CH(k);return q(F)?F:0}(),I=function(){a:if(D.j(3,
K(m)))var F=m;else if(3<K(m))F=Sg.ba(m,0,3);else for(F=new dc(m);;)if(3>F.getLength())F=F.append("0");else{F=F.toString();break a}F=CH(F);return q(F)?F:0}();n=(D.j(n,"-")?-1:1)*(60*function(){var F=CH(r);return q(F)?F:0}()+function(){var F=CH(u);return q(F)?F:0}());return new S(null,8,5,T,[a,DH(1,b,12,"timestamp month field must be in range 1..12"),DH(1,c,AH(b,0===Mg(a,4)&&(0!==Mg(a,100)||0===Mg(a,400))),"timestamp day field must be in range 1..last day in month"),DH(0,w,23,"timestamp hour field must be in range 0..23"),
DH(0,A,59,"timestamp minute field must be in range 0..59"),DH(0,G,D.j(A,59)?60:59,"timestamp second field must be in range 0..60"),DH(0,I,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var FH=Uh(null),GH=Uh(Ek.da(M([new p(null,4,[Yy,function(a){if("string"===typeof a){var b=EH(a);if(q(b)){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null);b=P(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.aa(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Wt,function(a){if("string"===typeof a)return new sm(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},$t,function(a){if(Hf(a))return si.j(kj,a);throw Error("Queue literal expects a vector for its elements.");},vx,function(a){if(Hf(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);b.push(f);e+=1}else if(a=E(a))c=a,If(c)?(a=ae(c),e=be(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(Ff(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.La(null,e);f=P(h,0,null);h=P(h,1,null);f=bh(f);b[f]=h;e+=1}else if(a=E(a))If(a)?(d=ae(a),a=be(a),c=d,d=K(d)):
(d=H(a),c=P(d,0,null),d=P(d,1,null),c=bh(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),X])));function HH(a,b){var c=zh(Qk,a,b);return hf(c,ri(function(d){return c===d},b))}function IH(a,b){return K(a)<K(b)?v.ba(pf,b,a):v.ba(pf,a,b)}var JH=function JH(a){switch(arguments.length){case 1:return JH.aa(arguments[0]);case 2:return JH.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return JH.da(arguments[0],arguments[1],c)}};JH.aa=function(a){return a};
JH.j=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return v.ba(function(d,e){return function(f,h){return Pf(e,h)?f:Af.j(f,h)}}(a,b),a,a)};JH.da=function(a,b,c){a=HH(function(d){return-K(d)},pf.da(c,b,M([a])));return v.ba(JH,H(a),Fe(a))};JH.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};JH.na=2;
var KH=function KH(a){switch(arguments.length){case 1:return KH.aa(arguments[0]);case 2:return KH.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return KH.da(arguments[0],arguments[1],c)}};KH.aa=function(a){return a};KH.j=function(a,b){return K(a)<K(b)?v.ba(function(c,d){return Pf(b,d)?Af.j(c,d):c},a,a):v.ba(Af,a,b)};KH.da=function(a,b,c){return v.ba(KH,a,pf.j(c,b))};
KH.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};KH.na=2;function MH(a,b){return K(a)<=K(b)&&Jh(function(c){return Pf(b,c)},a)}function NH(a,b){return K(a)>=K(b)&&Jh(function(c){return Pf(a,c)},b)};function OH(a){return v.ba(function(b,c){b.push(c);return b},[],a)}function PH(a){return a instanceof Array};var QH=H(qi(function(a){return 0!=(32&1<<a)},Yk.ba(31,-1,-1)))+1,RH=(1<<QH)-1;function SH(a,b,c,d){for(var e=0,f=Lg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.j?a.j(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function TH(a,b,c,d){for(var e=0,f=Lg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.j?a.j(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function UH(a,b,c){var d=b.length,e=SH(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.j?a.j(b,c):a.call(null,b,c));return d?e:-1}
function VH(a,b,c){var d=b.length;a=SH(a,b,d-1,c);return a===d?-1:a}function WH(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var r=0;;)if(r<d)n[r+0]=a[r+b],r+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function XH(a,b,c,d){return WH(a,0,a.length,b,c,d)}
function YH(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function ZH(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.j?a.j(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function $H(a,b){return q(a)?q(b)?[a,b]:[a]:[b]}function aI(a,b,c){return q(a)?q(b)?q(c)?[a,b,c]:[a,b]:q(c)?[a,c]:[a]:q(b)?q(c)?[b,c]:[b]:[c]}
function bI(a){if(null!=a&&null!=a.Yf)a=a.Yf(a);else{var b=bI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=bI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INode.node-lim-key",a);}return a}function cI(a){if(null!=a&&null!=a.Tg)a=a.keys.length;else{var b=cI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=cI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INode.node-len",a);}return a}
function dI(a,b){if(null!=a&&null!=a.$f)a=a.$f(a,b);else{var c=dI[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge",a);}return a}function eI(a,b){if(null!=a&&null!=a.ag)a=a.ag(a,b);else{var c=eI[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=eI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge-n-split",a);}return a}
function fI(a,b,c){if(null!=a&&null!=a.Zf)a=a.Zf(a,b,c);else{var d=fI[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=fI._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-lookup",a);}return a}function gI(a,b,c){if(null!=a&&null!=a.Wf)a=a.Wf(a,b,c);else{var d=gI[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=gI._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-conj",a);}return a}
function hI(a,b,c,d,e,f){if(null!=a&&null!=a.Xf)a=a.Xf(a,b,c,d,e,f);else{var h=hI[pa(null==a?null:a)];if(null!=h)a=h.nb?h.nb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=hI._,null!=h)a=h.nb?h.nb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Cc("INode.node-disj",a);}return a}
function iI(a,b,c,d){if(q(b))return[a];if(16<cI(a))return aI(c,a,d);if(q(q(c)?16>=cI(c):c))return $H(dI(c,a),d);if(q(q(d)?16>=cI(d):d))return $H(c,dI(a,d));if(q(q(c)?null==d||cI(c)<cI(d):c))return a=eI(c,a),aI(a[0],a[1],d);a=eI(a,d);return aI(c,a[0],a[1])}function jI(a,b){this.keys=a;this.yb=b}g=jI.prototype;g.Yf=function(){var a=this.keys;return a[a.length-1]};g.Tg=function(){return this.keys.length};g.$f=function(a,b){return new jI(this.keys.concat(b.keys),this.yb.concat(b.yb))};
g.ag=function(a,b){a=YH(this.keys,b.keys);b=YH(this.yb,b.yb);return $H(new jI(a[0],b[0]),new jI(a[1],b[1]))};g.Zf=function(a,b,c){a=VH(b,this.keys,c);return-1===a?null:fI(this.yb[a],b,c)};g.Wf=function(a,b,c){a=SH(b,this.keys,this.keys.length-2,c);c=gI(this.yb[a],b,c);if(q(c)){var d=this.keys,e=a+1,f=c.map(bI);b=ZH(b,d,a,e,f,f.length)?d:XH(d,a,e,f);a=XH(this.yb,a,a+1,c);if(32>=a.length)return[new jI(b,a)];c=a.length>>>1;return[new jI(b.slice(0,c),a.slice(0,c)),new jI(b.slice(c),a.slice(c))]}return null};
g.Xf=function(a,b,c,d,e,f){var h=VH(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.yb[h-1]:null;var k=h+1<this.yb.length?this.yb[h+1]:null;c=hI(this.yb[h],b,c,!1,a,k);if(q(c)){a=q(a)?h-1:h;h=q(k)?2+h:1+h;k=this.keys;var m=c.map(bI);b=ZH(b,k,a,h,m,m.length)?k:XH(k,a,h,m);c=XH(this.yb,a,h,c);return iI(new jI(b,c),d,e,f)}return null};function kI(a){this.keys=a}g=kI.prototype;g.Yf=function(){var a=this.keys;return a[a.length-1]};g.Tg=function(){return this.keys.length};g.$f=function(a,b){return new kI(this.keys.concat(b.keys))};
g.ag=function(a,b){a=YH(this.keys,b.keys);return $H(new kI(a[0]),new kI(a[1]))};g.Zf=function(a,b,c){a=UH(b,this.keys,c);return-1===a?null:this.keys[a]};g.Wf=function(a,b,c){a=SH(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.j?b.j(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new kI(this.keys.slice(0,b)),new kI(WH(this.keys,b,d,a,a,[c]))]:[new kI(WH(this.keys,0,b,a,a,[c])),new kI(this.keys.slice(b,d))]):[new kI(XH(this.keys,a,a,[c]))]};
g.Xf=function(a,b,c,d,e,f){a=UH(b,this.keys,c);if(-1===a)return null;a=XH(this.keys,a,a+1,[]);return iI(new kI(a),d,e,f)};function lI(a,b,c,d,e,f){this.root=a;this.shift=b;this.ma=c;this.Bc=d;this.meta=e;this._hash=f;this.ga=2297303311;this.la=8332}g=lI.prototype;g.toString=function(){return le(this)};g.ya=function(a,b){return fI(this.root,this.Bc,b)};g.ka=function(a,b,c){a=fI(this.root,this.Bc,b);return q(a)?a:c};g.ta=function(a,b,c){return Z(b,ql,"#{"," ","}",c,E(this))};g.ra=function(){return this.meta};
g.va=function(){return this.ma};g.Jc=function(){return Id(mI.aa?mI.aa(this):mI.call(null,this))};g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=Me(this)};g.oa=function(a,b){var c=this;return Df(b)&&this.ma===K(b)&&Jh(function(d){return Pf(c,d)},b)};g.Jd=function(){return this};g.Ya=function(){return new lI(new kI([]),0,0,this.Bc,this.meta,null)};g.If=function(a,b){return nI.ba?nI.ba(this,b,this.Bc):nI.call(null,this,b,this.Bc)};
g.hb=function(a,b){a=mI.aa?mI.aa(this):mI.call(null,this);return q(a)?td(a,b):b.ia?b.ia():b.call(null)};g.ib=function(a,b,c){a=mI.aa?mI.aa(this):mI.call(null,this);return q(a)?td(a,b,c):c};g.Kd=function(a,b){return oI.ba?oI.ba(this,b,this.Bc):oI.call(null,this,b,this.Bc)};g.Sd=function(){return this};g.ua=function(){return mI.aa?mI.aa(this):mI.call(null,this)};g.sa=function(a,b){return new lI(this.root,this.shift,this.ma,this.Bc,b,this._hash)};
g.xa=function(a,b){return oI.ba?oI.ba(this,b,this.Bc):oI.call(null,this,b,this.Bc)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};
function pI(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.yb[RH&b>>>c],c-=QH;else return a.keys}function qI(a,b,c,d){return new lI(b,c,d,a.Bc,a.meta,null)}var rI=function rI(a,b,c){var e=RH&b>>>c;if(0<c){var f=a.yb[e],h=c-QH;b=rI.ba?rI.ba(f,b,h):rI.call(null,f,b,h);return-1===b?e+1<a.yb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function sI(a,b){return rI(a.root,b,a.shift)}
function tI(a,b){for(var c=0;;)if(0<b)c|=a.yb.length-1<<b,b-=QH,a=a.yb,a=a[a.length-1];else return c|a.keys.length-1<<0}var uI=function uI(a,b,c){var e=RH&b>>>c;if(0<c){var f=c-QH,h=a.yb[e];b=uI.ba?uI.ba(h,b,f):uI.call(null,h,b,f);return-1===b?0<=e-1?(--e,tI(a.yb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function vI(a,b){return uI(a.root,b,a.shift)}function mI(a){if(0<cI(a.root)){var b=tI(a.root,a.shift)+1;return wI.ba?wI.ba(a,0,b):wI.call(null,a,0,b)}return null}
function xI(a,b,c){this.ha=a;this.off=b;this.end=c;this.ga=524306;this.la=0}g=xI.prototype;g.va=function(){return this.end-this.off};g.La=function(a,b){return this.ha[this.off+b]};g.gb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ha[this.off+b]:c};g.ue=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new fh(this.ha,this.off+1,this.end)};g.hb=function(a,b){return this.off===this.end?b.ia?b.ia():b.call(null):td(this.ue(null),b,this.ha[this.off])};
g.ib=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.ha[a];c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c);a+=1}else return c};function yI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.ga=2309488832;this.la=1536}g=yI.prototype;g.toString=function(){return le(this)};g.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,E(this))};
g.bb=function(){if(q(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new yI(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=sI(this.set,this.left);return Dh.j(-1,a)&&a<this.right?this.rf(a,this.right):null}return null};g.Jc=function(){if(q(this.keys)){var a=this.set,b=vI(this.set,this.left),c=vI(this.set,this.right);return zI.ba?zI.ba(a,b,c):zI.call(null,a,b,c)}return null};g.oa=function(a,b){return gf(this,b)};
g.hb=function(a,b){if(null==this.keys)return b.ia?b.ia():b.call(null);a=this.jb(null);var c=this.bb(null);return null==c?a:td(c,b,a)};g.ib=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.j?b.j(c,f):b.call(null,c,f);if(Re(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=sI(this.set,a),-1!==a&&a<this.right)d=pI(this.set,a),e=RH&a>>>0;else return c}};g.jb=function(){return q(this.keys)?this.keys[this.idx]:null};
g.sb=function(){var a=this.bb(null);return q(a)?a:Ge};g.ua=function(){return q(this.keys)?this:null};g.we=function(){var a=D.j(this.left|RH,this.right|RH)?this.right&RH:this.keys.length;return new xI(this.keys,this.idx,a)};g.Rd=function(){var a=this.ve();return q(a)?a:Ge};g.rf=function(a,b){return new yI(this.set,a,b,pI(this.set,a),RH&a>>>0)};g.ve=function(){var a=sI(this.set,this.left+(this.keys.length-this.idx-1));return Dh.j(-1,a)&&a<this.right?this.rf(a,this.right):null};
function wI(a,b,c){return new yI(a,b,c,pI(a,b),RH&b>>>0)}function AI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.ga=2308964544;this.la=0}g=AI.prototype;g.toString=function(){return le(this)};g.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,E(this))};
g.bb=function(){if(q(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new AI(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=vI(this.set,this.right);return Dh.j(-1,a)&&a>this.left?this.rf(this.left,a):null}return null};g.Jc=function(){if(q(this.keys)){var a=-1===this.left?0:sI(this.set,this.left),b=sI(this.set,this.right);return wI(this.set,a,-1===b?this.right+1:b)}return null};g.oa=function(a,b){return gf(this,b)};
g.jb=function(){return q(this.keys)?this.keys[this.idx]:null};g.sb=function(){var a=this.bb(null);return q(a)?a:Ge};g.ua=function(){return q(this.keys)?this:null};g.rf=function(a,b){return new AI(this.set,a,b,pI(this.set,b),RH&b>>>0)};function zI(a,b,c){return new AI(a,b,c,pI(a,c),RH&c>>>0)}
function BI(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=cI(e);if(0===h){var m=e.keys;m=SH(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=SH(d,m,k-2,b);f|=m<<h;h-=QH;e=e.yb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=cI(e);if(0===h){k=e.keys;m=TH(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=TH(d,k,m-2,c);f|=m<<h;h-=QH;e=e.yb[m]}return c>b?new yI(a,b,c,pI(a,b),RH&b>>>0):null}
function CI(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.aa?a.aa(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function DI(a){var b=a.length,c=Td(qf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){qh.j(c,a.slice(d));break}else 40<=e?(qh.j(c,a.slice(d,d+24)),d+=24):(e>>>=1,qh.j(c,a.slice(d,d+e)),d+=e)}return Wf(Vd(c))}function oI(a,b,c){b=gI(a.root,c,b);return null==b?a:1===b.length?qI(a,b[0],a.shift,a.ma+1):qI(a,new jI(b.map(bI),b),a.shift+QH,a.ma+1)}
function nI(a,b,c){b=hI(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof jI&&1===b.yb.length?qI(a,b.yb[0],a.shift-QH,a.ma-1):qI(a,b,a.shift,a.ma-1)}function EI(a,b,c){return BI(a,b,c,a.Bc)}function FI(a){var b=GI.ja(536870911,null,null,2147483647),c=GI.ja(0,null,null,536870912);a=BI(a,c,b,a.Bc);return null==a?null:Id(a)}
function HI(a,b){for(var c=CI(function(h){return new kI(h)},DI(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new lI(new kI([]),0,0,a,null,null);case 1:return new lI(H(d),e,b.length,a,null,null);default:d=CI(function(){return function(h){return new jI(h.map(bI),h)}}(d,e,f,c),DI(d)),e+=QH}}}function II(a){return new lI(new kI([]),0,0,a,null,null)};var JI=Error;function KI(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.ga&8388608||l===a.Hf?!0:a.ga?!1:Ac(zd,a):Ac(zd,a))?b:wc(a)||"string"===typeof a),b=b||PH(a);return b}var LI=Qh(pf,qf),MI=Qh(pf,Lk);function NI(a,b,c){return H(v.ba(function(d,e){var f=P(d,0,null);d=P(d,1,null);e=a.ba?a.ba(f,e,d):a.call(null,f,e,d);return Re(e)?Qe(new S(null,2,5,T,[e,d],null)):new S(null,2,5,T,[e,d+1],null)},new S(null,2,5,T,[b,0],null),c))}function OI(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function PI(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=PI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=PI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDatom.datom-tx",a);}return a}function QI(a){if(null!=a&&null!=a.tc)a=a.tc(a);else{var b=QI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=QI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDatom.datom-added",a);}return a}
function RI(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.xf=d;this._hash=e;this.ga=2162164496;this.la=0}g=RI.prototype;g.$a=function(){return 0<this.xf?this.xf:-this.xf};g.tc=function(){return 0<this.xf};g.wa=function(){return 0===this._hash?this._hash=SI.aa?SI.aa(this):SI.call(null,this):this._hash};g.oa=function(a,b){return b instanceof RI?TI.j?TI.j(this,b):TI.call(null,this,b):!1};g.ua=function(){return UI.aa?UI.aa(this):UI.call(null,this)};
g.ya=function(a,b){return VI.ba?VI.ba(this,b,null):VI.call(null,this,b,null)};g.ka=function(a,b,c){return VI.ba?VI.ba(this,b,c):VI.call(null,this,b,c)};g.La=function(a,b){return WI?WI(this,b):XI.call(null,this,b)};g.gb=function(a,b,c){return YI?YI(this,b,c):XI.call(null,this,b,c)};g.pa=function(a,b,c){return ZI.ba?ZI.ba(this,b,c):ZI.call(null,this,b,c)};g.ta=function(a,b,c){return Z(b,ql,"#datascript/Datom ["," ","]",c,new S(null,5,5,T,[this.e,this.a,this.v,this.$a(null),this.tc(null)],null))};
ia("datascript.db.Datom",RI);var GI=function GI(a){switch(arguments.length){case 3:return GI.ba(arguments[0],arguments[1],arguments[2]);case 4:return GI.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return GI.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};GI.ba=function(a,b,c){return new RI(a,b,c,536870912,0)};GI.ja=function(a,b,c,d){return new RI(a,b,c,d,0)};
GI.za=function(a,b,c,d,e){return new RI(a,b,c,q(e)?d:-d,0)};GI.na=5;function $I(a){return a instanceof RI}function SI(a){return OI(OI(ve(a.e),ve(a.a)),ve(a.v))}function TI(a,b){return a.e===b.e&&D.j(a.a,b.a)&&D.j(a.v,b.v)}function UI(a){return new rf(null,a.e,new rf(null,a.a,new rf(null,a.v,new rf(null,a.$a(null),new rf(null,a.tc(null),null,1,null),2,null),3,null),4,null),5,null)}
function VI(a,b,c){return D.j(Dw,b)?a.v:D.j("e",b)?a.e:D.j(Zx,b)?a.tc(null):D.j("v",b)?a.v:D.j(tw,b)?a.e:D.j("a",b)?a.a:D.j(pp,b)?a.$a(null):D.j("added",b)?a.tc(null):D.j("tx",b)?a.$a(null):D.j(xw,b)?a.a:c}function XI(a){switch(arguments.length){case 2:return WI(arguments[0],arguments[1]);case 3:return YI(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}
function WI(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.$a(null);case 4:return a.tc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.aa(b)].join(""));}}function YI(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.$a(null);case 4:return a.tc(null);default:return c}}
function ZI(a,b,c){switch(b instanceof C?b.Aa:null){case "e":return GI.za(c,a.a,a.v,a.$a(null),a.tc(null));case "a":return GI.za(a.e,c,a.v,a.$a(null),a.tc(null));case "v":return GI.za(a.e,a.a,c,a.$a(null),a.tc(null));case "tx":return GI.za(a.e,a.a,a.v,c,a.tc(null));case "added":return GI.za(a.e,a.a,a.v,a.$a(null),c);default:throw new JI(["invalid key for #datascript/Datom: ",t.aa(b)].join(""));}}function aJ(a,b){return null==a?0:null==b?0:Sf(a,b)}
function bJ(a,b){return D.j(a,b)?0:(null!=a?a.la&2048||l===a.qd||(a.la?0:Ac(Yd,a)):Ac(Yd,a))?Zd(a,b):"string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b)?ve(a)-ve(b):ab(a,b)}function cJ(a,b){return null==a?0:null==b?0:bJ(a,b)}function dJ(a,b){var c=a.e-b.e;return 0===c?(c=aJ(a.a,b.a),0===c?(c=cJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function eJ(a,b){var c=aJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=cJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}
function fJ(a,b){var c=aJ(a.a,b.a);return 0===c?(c=cJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function gJ(a,b){return a instanceof C?Zd(a,b):ab(a,b)}function hJ(a,b){var c=a.e-b.e;return 0===c?(c=gJ(a.a,b.a),0===c?(c=bJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function iJ(a,b){var c=gJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=bJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}
function jJ(a,b){var c=gJ(a.a,b.a);return 0===c?(c=bJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function kJ(){}function lJ(a,b){if(null!=a&&null!=a.Kg)a=a.Kg(a,b);else{var c=lJ[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=lJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISearch.-search",a);}return a}function mJ(a,b){return H(lJ(a,b))}
function nJ(a,b,c){if(null!=a&&null!=a.Jg)a=a.Jg(a,b,c);else{var d=nJ[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=nJ._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IIndexAccess.-datoms",a);}return a}function oJ(){}function pJ(a){if(null!=a&&null!=a.Ih)a=a.Lb;else{var b=pJ[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=pJ._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDB.-schema",a);}return a}
function qJ(a,b){if(null!=a&&null!=a.Ig)a=a.Ig(a,b);else{var c=qJ[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=qJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IDB.-attrs-by",a);}return a}function rJ(a,b,c,d,e,f,h,k,m,n,r){this.Lb=a;this.Eb=b;this.hc=c;this.ic=d;this.qc=e;this.rc=f;this.oc=h;this.hash=k;this.ea=m;this.ca=n;this.fa=r;this.ga=2230716170;this.la=139264}g=rJ.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "schema":return this.Lb;case "eavt":return this.Eb;case "aevt":return this.hc;case "avet":return this.ic;case "max-eid":return this.qc;case "max-tx":return this.rc;case "rschema":return this.oc;case "hash":return this.hash;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,W.j(new S(null,8,5,T,[new S(null,2,5,T,[Zr,this.Lb],null),new S(null,2,5,T,[dv,this.Eb],null),new S(null,2,5,T,[Ix,this.hc],null),new S(null,2,5,T,[gn,this.ic],null),new S(null,2,5,T,[Cx,this.qc],null),new S(null,2,5,T,[bz,this.rc],null),new S(null,2,5,T,[Ft,this.oc],null),new S(null,2,5,T,[iA,this.hash],null)],null),this.ca))};
g.Ba=function(){return new rj(this,8,new S(null,8,5,T,[Zr,dv,Ix,gn,Cx,bz,Ft,iA],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 8+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1515640948^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Lb,b.Lb)&&D.j(this.Eb,b.Eb)&&D.j(this.hc,b.hc)&&D.j(this.ic,b.ic)&&D.j(this.qc,b.qc)&&D.j(this.rc,b.rc)&&D.j(this.oc,b.oc)&&D.j(this.hash,b.hash)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,8,[Zr,null,bz,null,iA,null,Ix,null,gn,null,Cx,null,dv,null,Ft,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Zr,b):V.call(null,Zr,b))?new rJ(c,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(dv,b):V.call(null,dv,b))?new rJ(this.Lb,c,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(Ix,b):V.call(null,Ix,b))?new rJ(this.Lb,this.Eb,c,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(gn,b):V.call(null,gn,b))?new rJ(this.Lb,this.Eb,this.hc,c,this.qc,this.rc,this.oc,this.hash,
this.ea,this.ca,null):q(V.j?V.j(Cx,b):V.call(null,Cx,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,c,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(bz,b):V.call(null,bz,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,c,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(Ft,b):V.call(null,Ft,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,c,this.hash,this.ea,this.ca,null):q(V.j?V.j(iA,b):V.call(null,iA,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,c,this.ea,
this.ca,null):new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,8,5,T,[new Y(Zr,this.Lb),new Y(dv,this.Eb),new Y(Ix,this.hc),new Y(gn,this.ic),new Y(Cx,this.qc),new Y(bz,this.rc),new Y(Ft,this.oc),new Y(iA,this.hash)],null),this.ca))};g.sa=function(a,b){return new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function sJ(a){var b=R.da(a,Zr,M([dv,Ix,gn,Cx,bz,Ft,iA]));b=Gf(a)?si.j(X,b):b;return new rJ(Zr.aa(a),dv.aa(a),Ix.aa(a),gn.aa(a),Cx.aa(a),bz.aa(a),Ft.aa(a),iA.aa(a),null,Eh(b),null)}g.Za=l;g.ta=function(a,b,c){return tJ.ba?tJ.ba(this,b,c):tJ.call(null,this,b,c)};g.wg=l;g.va=function(){return K(this.Eb)};g.yh=l;g.Jc=function(){return Id(this.Eb)};g.uh=l;g.wa=function(){return uJ.aa?uJ.aa(this):uJ.call(null,this)};
g.oa=function(a,b){return vJ.j?vJ.j(this,b):vJ.call(null,this,b)};g.yg=l;g.Jd=function(){return Ai.ba(Ai.ba(Ai.ba(this,dv,oh),Ix,oh),gn,oh)};g.zg=l;g.Ya=function(){var a=this.Lb;a=wJ?wJ(a):xJ.call(null,a);return xf(a,yf(this))};g.Kd=function(){throw vm("datascript.DB/conj! is not supported",X);};g.Sd=function(){return Ai.ba(Ai.ba(Ai.ba(this,dv,ph),Ix,ph),gn,ph)};g.Hf=l;g.ua=function(){return Dd(this.Eb)};
g.Jg=function(a,b,c){if(D.j(b,gn)&&(a=H(c),null!=a&&!q(yJ.j?yJ.j(this,a):yJ.call(null,this,a))))throw vm(["Attribute ",xl.da(M([a]))," should be marked as :db/index true"].join(""),new p(null,3,[Hp,Fx,Ny,gn,Am,c],null));return EI(B.j(this,b),zJ.za?zJ.za(this,b,c,0,536870912):zJ.call(null,this,b,c,0,536870912),zJ.za?zJ.za(this,b,c,2147483647,2147483647):zJ.call(null,this,b,c,2147483647,2147483647))};g.Hg=l;g.Ih=function(){return this.Lb};
g.Ig=function(a,b){a=this.oc;return a.aa?a.aa(b):a.call(null,b)};g.Jh=l;
g.Kg=function(a,b){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null);b=this.Eb;var f=this.hc,h=this.ic;Pf(qJ(this,LA),c);return q(a)?q(c)?null!=d?q(e)?EI(b,GI.ja(a,c,d,e),GI.ja(a,c,d,e)):EI(b,GI.ja(a,c,d,536870912),GI.ja(a,c,d,2147483647)):q(e)?qi(function(k){return D.j(e,k.$a(null))},EI(b,GI.ja(a,c,null,536870912),GI.ja(a,c,null,2147483647))):EI(b,GI.ja(a,c,null,536870912),GI.ja(a,c,null,2147483647)):null!=d?q(e)?qi(function(k){return D.j(d,k.v)&&D.j(e,k.$a(null))},EI(b,GI.ja(a,null,null,
536870912),GI.ja(a,null,null,2147483647))):qi(function(k){return D.j(d,k.v)},EI(b,GI.ja(a,null,null,536870912),GI.ja(a,null,null,2147483647))):q(e)?qi(function(k){return D.j(e,k.$a(null))},EI(b,GI.ja(a,null,null,536870912),GI.ja(a,null,null,2147483647))):EI(b,GI.ja(a,null,null,536870912),GI.ja(a,null,null,2147483647)):q(c)?null!=d?q(e)?q(yJ.j?yJ.j(this,c):yJ.call(null,this,c))?qi(function(k){return D.j(e,k.$a(null))},EI(h,GI.ja(0,c,d,536870912),GI.ja(2147483647,c,d,2147483647))):qi(function(k){return D.j(d,
k.v)&&D.j(e,k.$a(null))},EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647))):q(yJ.j?yJ.j(this,c):yJ.call(null,this,c))?EI(h,GI.ja(0,c,d,536870912),GI.ja(2147483647,c,d,2147483647)):qi(function(k){return D.j(d,k.v)},EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647))):q(e)?qi(function(k){return D.j(e,k.$a(null))},EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647))):EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647)):null!=d?q(e)?qi(function(k){return D.j(d,
k.v)&&D.j(e,k.$a(null))},b):qi(function(k){return D.j(d,k.v)},b):q(e)?qi(function(k){return D.j(e,k.$a(null))},b):b};
function AJ(a,b){switch(b instanceof C?b.Aa:null){case "db.unique/identity":return new S(null,3,5,T,[Sm,Qy,sy],null);case "db.unique/value":return new S(null,3,5,T,[Sm,bs,sy],null);case "db.cardinality/many":return new S(null,1,5,T,[LA],null);case "db.type/ref":return new S(null,2,5,T,[jz,sy],null);default:return D.j(Tm,a)&&!0===b?new S(null,1,5,T,[Tm],null):D.j(sy,a)&&!0===b?new S(null,1,5,T,[sy],null):D.j(Vo,a)?new S(null,2,5,T,[an,sy],null):qf}}
function BJ(a,b){return v.ba(function(c,d){return NI(function(e,f,h){return Ai.za(e,f,Q,d,h)},c,Vo.aa(d.aa?d.aa(a):d.call(null,a)))},X,an.aa(b))}function CJ(a){var b=vg(function(c,d,e){return vg(function(f,h,k){return v.ba(function(m,n){return Ai.ja(m,n,MI,d)},f,AJ(h,k))},c,e)},X,a);return Q.ba(b,Js,BJ(a,b))}
function DJ(a,b,c,d){if(null!=c&&!Pf(d,c))throw vm(["Bad attribute specification for ",xl.da(M([uf([a,uf([b,c])])])),", expected one of ",t.aa(d)].join(""),new p(null,4,[Hp,fp,mp,a,zA,b,Rw,c],null));}
function EJ(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null),k=P(f,1,null),m=Tm.j(k,!1);DJ(h,Tm,Tm.aa(k),new Jk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=m;return q(F)?Dh.j(qA.aa(k),jz):F}()))throw vm(["Bad attribute specification for ",xl.da(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Hp,fp,mp,h,zA,Tm],null));DJ(h,Sm,Sm.aa(k),new Jk(null,new p(null,2,[Qy,null,bs,null],null),null));
DJ(h,qA,qA.aa(k),new Jk(null,new p(null,1,[jz,null],null),null));DJ(h,iu,iu.aa(k),new Jk(null,new p(null,2,[LA,null,Vx,null],null),null));if(Pf(k,Vo)){f=new p(null,3,[Hp,fp,mp,h,zA,Vo],null);if(D.j(LA,iu.aa(k)))throw vm([xl.da(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Vo.aa(k);if(!Ef(n))throw vm([xl.da(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",xl.da(M([n]))].join(""),f);if(Bf(n))throw vm([xl.da(M([h]))," :db/tupleAttrs cant be empty"].join(""),
f);n=E(n);for(var r=null,u=0,w=0;;)if(w<u){var A=r.La(null,w),G=Q.ba(f,Rw,A);if(Pf(B.j(a,A),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",xl.da(M([A]))].join(""),G);if(D.j(LA,iu.aa(B.j(a,A))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",xl.da(M([A]))].join(""),G);w+=1}else if(n=E(n)){if(If(n))u=ae(n),n=be(n),r=u,u=K(u);else{r=H(n);u=Q.ba(f,Rw,r);if(Pf(B.j(a,r),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
xl.da(M([r]))].join(""),u);if(D.j(LA,iu.aa(B.j(a,r))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",xl.da(M([r]))].join(""),u);n=J(n);r=null;u=0}w=0}else break}e+=1}else if(h=E(b)){b=h;if(If(b))c=ae(b),b=be(b),h=c,d=K(c),c=h;else{c=H(b);h=P(c,0,null);k=P(c,1,null);var I=Tm.j(k,!1);DJ(h,Tm,Tm.aa(k),new Jk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=I;return q(F)?Dh.j(qA.aa(k),jz):F}()))throw vm(["Bad attribute specification for ",
xl.da(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Hp,fp,mp,h,zA,Tm],null));DJ(h,Sm,Sm.aa(k),new Jk(null,new p(null,2,[Qy,null,bs,null],null),null));DJ(h,qA,qA.aa(k),new Jk(null,new p(null,1,[jz,null],null),null));DJ(h,iu,iu.aa(k),new Jk(null,new p(null,2,[LA,null,Vx,null],null),null));if(Pf(k,Vo)){c=new p(null,3,[Hp,fp,mp,h,zA,Vo],null);if(D.j(LA,iu.aa(k)))throw vm([xl.da(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),
c);d=Vo.aa(k);if(!Ef(d))throw vm([xl.da(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",xl.da(M([d]))].join(""),c);if(Bf(d))throw vm([xl.da(M([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=E(d);e=null;for(n=f=0;;)if(n<f){r=e.La(null,n);u=Q.ba(c,Rw,r);if(Pf(B.j(a,r),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",xl.da(M([r]))].join(""),u);if(D.j(LA,iu.aa(B.j(a,r))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
xl.da(M([r]))].join(""),u);n+=1}else if(d=E(d)){if(If(d))f=ae(d),d=be(d),e=f,f=K(f);else{e=H(d);f=Q.ba(c,Rw,e);if(Pf(B.j(a,e),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",xl.da(M([e]))].join(""),f);if(D.j(LA,iu.aa(B.j(a,e))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",xl.da(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else break}
function xJ(a){switch(arguments.length){case 0:return wJ(null);case 1:return wJ(arguments[0]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function wJ(a){EJ(a);return sJ(new p(null,8,[Zr,a,Ft,CJ(Ek.da(M([new p(null,1,[tA,new p(null,1,[Sm,Qy],null)],null),a]))),dv,II(dJ),Ix,II(eJ),gn,II(fJ),Cx,0,bz,536870912,iA,Uh(0)],null))}function FJ(a){a=tw.aa(H(FI(a)));return q(a)?a:0}
function GJ(a,b){var c=H(gi($I,a));if(null!=c)throw vm(["init-db expects list of Datoms, got ",xl.da(M([Bc(c)]))].join(""),new p(null,1,[Hp,Kz],null));EJ(b);c=CJ(Ek.da(M([new p(null,1,[tA,new p(null,1,[Sm,Qy],null)],null),b])));var d=sy.aa(c),e=PH(a)?a:OH(a);e.sort(hJ);var f=HI(dJ,e);e.sort(iJ);e=HI(eJ,e);a=Wf(qi(function(m){return Pf(d,m.a)},a));a.sort(jJ);a=HI(fJ,a);var h=FJ(f),k=zg(ci.aa(function(m){return m.$a(null)}),Ig,536870912,f);return sJ(new p(null,8,[Zr,b,Ft,c,dv,f,Ix,e,gn,a,Cx,h,bz,k,
iA,Uh(0)],null))}function uJ(a){var b=y(a.hash);return 0===b?Vh(a.hash,OI(ve(a.Lb),ve(a.Eb))):b}function vJ(a,b){var c;if(c=(b instanceof rJ||!1)&&D.j(pJ(a),pJ(b)))a:for(a=nJ(a,dv,qf),c=nJ(b,dv,qf),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(D.j(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function tJ(a,b,c){Jd(b,"#datascript/DB {");Jd(b,":schema ");ql(pJ(a),b,c);Jd(b,", :datoms ");Z(b,function(d,e,f){return Z(e,ql,"["," ","]",f,new S(null,4,5,T,[d.e,d.a,d.v,PI(d)],null))},"["," ","]",c,nJ(a,dv,qf));return Jd(b,"}")}
function HJ(a,b,c,d,e,f,h){if(q(c)){var k=new rf(null,Zn,new rf(null,Gv,new rf(null,b,new rf(null,c,new rf(null,d,new rf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);IJ.j?IJ.j(c,k):IJ.call(null,c,k)}return GI.ja(function(){var m=JJ.j?JJ.j(a,b):JJ.call(null,a,b);return q(m)?m:f}(),c,q(null!=d?KJ.j?KJ.j(a,c):KJ.call(null,a,c):!1)?LJ.j?LJ.j(a,d):LJ.call(null,a,d):d,function(){var m=JJ.j?JJ.j(a,e):JJ.call(null,a,e);return q(m)?m:h}())}
function zJ(a,b,c,d,e){var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);b=b instanceof C?b.Aa:null;switch(b){case "eavt":return HJ(a,f,h,k,c,d,e);case "aevt":return HJ(a,h,f,k,c,d,e);case "avet":return HJ(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.aa(b)].join(""));}}function MJ(a,b,c,d,e,f,h,k){this.Mc=a;this.Lc=b;this.Rc=c;this.Pc=d;this.Sc=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=MJ.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "db-before":return this.Mc;case "db-after":return this.Lc;case "tx-data":return this.Rc;case "tempids":return this.Pc;case "tx-meta":return this.Sc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[xo,this.Mc],null),new S(null,2,5,T,[zu,this.Lc],null),new S(null,2,5,T,[$r,this.Rc],null),new S(null,2,5,T,[GB,this.Pc],null),new S(null,2,5,T,[Xo,this.Sc],null)],null),this.ca))};g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[xo,zu,$r,GB,Xo],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-2022644885^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Mc,b.Mc)&&D.j(this.Lc,b.Lc)&&D.j(this.Rc,b.Rc)&&D.j(this.Pc,b.Pc)&&D.j(this.Sc,b.Sc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[GB,null,zu,null,xo,null,$r,null,Xo,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new MJ(this.Mc,this.Lc,this.Rc,this.Pc,this.Sc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(xo,b):V.call(null,xo,b))?new MJ(c,this.Lc,this.Rc,this.Pc,this.Sc,this.ea,this.ca,null):q(V.j?V.j(zu,b):V.call(null,zu,b))?new MJ(this.Mc,c,this.Rc,this.Pc,this.Sc,this.ea,this.ca,null):q(V.j?V.j($r,b):V.call(null,$r,b))?new MJ(this.Mc,this.Lc,c,this.Pc,this.Sc,this.ea,this.ca,null):q(V.j?V.j(GB,b):V.call(null,GB,b))?new MJ(this.Mc,this.Lc,this.Rc,c,this.Sc,this.ea,this.ca,null):q(V.j?V.j(Xo,b):V.call(null,Xo,b))?new MJ(this.Mc,this.Lc,this.Rc,this.Pc,c,this.ea,
this.ca,null):new MJ(this.Mc,this.Lc,this.Rc,this.Pc,this.Sc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(xo,this.Mc),new Y(zu,this.Lc),new Y($r,this.Rc),new Y(GB,this.Pc),new Y(Xo,this.Sc)],null),this.ca))};g.sa=function(a,b){return new MJ(this.Mc,this.Lc,this.Rc,this.Pc,this.Sc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function NJ(a,b,c){return Pf(qJ(a,c),b)}function KJ(a,b){return NJ(a,b,jz)}
function yJ(a,b){return NJ(a,b,sy)}
function OJ(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw vm(["Highest supported entity id is ",xl.da(M([2147483647])),", got ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Yt,Rw,b],null));return b}if(Ef(b)){var c=b,d=P(c,0,null);c=P(c,1,null);if(Dh.j(K(b),2))throw vm(["Lookup ref should contain 2 elements: ",xl.da(M([b]))].join(""),new p(null,2,[Hp,cz,Yt,b],null));if(NJ(a,d,Sm))return null==c?null:tw.aa(H(nJ(a,gn,b)));throw vm(["Lookup ref attribute should be marked as :db/unique: ",xl.da(M([b]))].join(""),
new p(null,2,[Hp,bn,Yt,b],null));}if(wc(b))b=M(b);else{if(b instanceof C)return tw.aa(H(nJ(a,gn,new S(null,2,5,T,[tA,b],null))));throw vm(["Expected number or lookup ref for entity id, got ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Ar,Yt,b],null));}}}function LJ(a,b){a=OJ(a,b);if(q(a))return a;throw vm(["Nothing found for entity id ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Eq,Yt,b],null));}function JJ(a,b){return q(b)?LJ(a,b):null}
function IJ(a,b){if(a instanceof C||"string"===typeof a)return null;throw vm(["Bad entity attribute ",xl.da(M([a]))," at ",xl.da(M([b])),", expected keyword or string"].join(""),new p(null,3,[Hp,rn,mp,a,zz,b],null));}function PJ(a,b){if(null==a)throw vm(["Cannot store nil as a value at ",xl.da(M([b]))].join(""),new p(null,3,[Hp,rn,Rw,a,zz,b],null));return null}function QJ(a){return wi(a,new S(null,2,5,T,[xo,bz],null))+1}
function RJ(a){return D.j(a,Jm)||D.j(a,":db/current-tx")||D.j(a,"datomic.tx")||D.j(a,"datascript.tx")}function SJ(a){return"number"===typeof a&&0>a||"string"===typeof a}function TJ(a,b){return b>Cx.aa(a)&&536870912>b?Q.ba(a,Cx,b):a}function UJ(a,b,c){var d=RJ(b)?Ai.za(a,GB,Q,b,c):a;d=SJ(b)?Ai.za(d,GB,Q,b,c):d;if(b=!SJ(b))a=zu.aa(a),b=c>Cx.aa(a)&&536870912>c;a=b?Ai.za(d,GB,Q,c,c):d;return Ai.ja(a,zu,TJ,c)}
function VJ(a,b){var c=b.tc(null);c=q(c)?NJ(a,b.a,Sm):c;if(q(c)&&(c=Eh(nJ(a,gn,new S(null,2,5,T,[b.a,b.v],null))),null!=c))throw vm(["Cannot add ",xl.da(M([b]))," because of unique constraint: ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Vy,mp,b.a,Cv,b],null));c=yJ(a,b.a);if(q(b.tc(null)))return a=Ai.za(a,dv,oI,b,hJ),a=Ai.za(a,Ix,oI,b,iJ),c=c?Ai.za(a,gn,oI,b,jJ):a,b=TJ(c,b.e),Q.ba(b,iA,Uh(0));b=mJ(a,new S(null,3,5,T,[b.e,b.a,b.v],null));if(null==b)return a;a=Ai.za(a,dv,nI,b,hJ);a=Ai.za(a,Ix,nI,b,iJ);
b=c?Ai.za(a,gn,nI,b,jJ):a;return Q.ba(b,iA,Uh(0))}function WJ(a,b,c,d,e){return vg(function(f,h,k){var m=B.j(f,h);q(m)||(m=Dw.aa(H(nJ(c,dv,new S(null,2,5,T,[d,h],null)))),m=q(m)?m:sg(ji(K(Vo.aa(B.j(pJ(c),h))),null)));k=Q.ba(m,k,e);return Q.ba(f,h,k)},a,b)}function XJ(a,b){var c=zu.aa(a),d=xw.aa(b);a=Ai.ja(Q.ba(a,zu,VJ(c,b)),$r,pf,b);if(NJ(c,d,Js)){var e=tw.aa(b);b=q(QI(b))?Dw.aa(b):null;var f=B.j(Sy.aa(a),e);f=q(f)?f:X;d=B.j(qJ(c,Js),d);c=WJ(f,d,c,e,b);return Ai.za(a,Sy,Q,e,c)}return a}
function YJ(a){if(a instanceof C)return D.j("_",bf(bh(a),0));if("string"===typeof a)return Mf(el(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw vm(["Bad attribute type: ",xl.da(M([a])),", expected keyword or string"].join(""),new p(null,2,[Hp,rn,mp,a],null));}
function ZJ(a){if(a instanceof C)return YJ(a)?ah.j(Zg(a),Sg.j(bh(a),1)):ah.j(Zg(a),["_",bh(a)].join(""));if("string"===typeof a){var b=el(/(?:([^\/]+)\/)?([^\/]+)/,a);P(b,0,null);a=P(b,1,null);b=P(b,2,null);return D.j("_",bf(b,0))?q(a)?[t.aa(a),"/",Sg.j(b,1)].join(""):Sg.j(b,1):q(a)?[t.aa(a),"/_",t.aa(b)].join(""):["_",t.aa(b)].join("")}throw vm(["Bad attribute type: ",xl.da(M([a])),", expected keyword or string"].join(""),new p(null,2,[Hp,rn,mp,a],null));}
function $J(a,b){function c(f,h){return v.ba(function(k,m){var n=d(f,m);return null==n?Ai.ja(k,0,pf,m):Ai.za(k,1,Q,m,n)},new S(null,2,5,T,[qf,X],null),h)}function d(f,h){return tw.aa(H(nJ(a,gn,new S(null,2,5,T,[f,h],null))))}var e=Eh(qJ(a,Qy));return null==e?new S(null,2,5,T,[b,null],null):vg(function(f,h,k){var m=P(f,0,null);f=P(f,1,null);if(Pf(e,h)){if(NJ(a,h,LA)&&(PH(k)||Cf(k)&&!Ff(k))){var n=c(h,k);k=P(n,0,null);n=P(n,1,null);return new S(null,2,5,T,[Bf(k)?m:Q.ba(m,h,k),Bf(n)?f:Q.ba(f,h,n)],null)}n=
d(h,k);return null==n?new S(null,2,5,T,[Q.ba(m,h,k),f],null):new S(null,2,5,T,[m,Q.ba(f,h,uf([k,n]))],null)}return new S(null,2,5,T,[Q.ba(m,h,k),f],null)},new S(null,2,5,T,[X,X],null),b)}
function aK(a,b){var c=vg(function(h,k,m){return vg(function(n,r,u){return Q.ba(n,u,new S(null,2,5,T,[k,r],null))},h,m)},X,b);if(2<=K(c)){b=H(c);a=P(b,0,null);var d=P(b,1,null);b=P(d,0,null);d=P(d,1,null);var e=mf(c);c=P(e,0,null);var f=P(e,1,null);e=P(f,0,null);f=P(f,1,null);throw vm(["Conflicting upserts: ",xl.da(M([new S(null,2,5,T,[b,d],null)]))," resolves to ",xl.da(M([a])),", but ",xl.da(M([new S(null,2,5,T,[e,f],null)]))," resolves to ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Vs,iB,new S(null,
3,5,T,[a,b,d],null),Bv,new S(null,3,5,T,[c,e,f],null)],null));}d=H(c);b=P(d,0,null);c=P(d,1,null);d=P(c,0,null);c=P(c,1,null);a=Yf.aa(a);if(null!=b&&null!=a&&!SJ(a)&&Dh.j(b,a))throw vm(["Conflicting upsert: ",xl.da(M([new S(null,2,5,T,[d,c],null)]))," resolves to ",xl.da(M([b])),", but entity already has :db/id ",xl.da(M([a]))].join(""),new p(null,3,[Hp,Vs,iB,new S(null,3,5,T,[b,d,c],null),Bv,new p(null,1,[Yf,a],null)],null));return b}
function bK(a,b,c){return YJ(b)||NJ(a,b,LA)?PH(c)||Cf(c)&&!Ff(c)?D.j(K(c),2)&&NJ(a,H(c),Qy)?new S(null,1,5,T,[c],null):c:new S(null,1,5,T,[c],null):new S(null,1,5,T,[c],null)}
function cK(a,b){var c=Yf.aa(b);return function f(e){return new ch(null,function(){for(var h=e;;){var k=E(h);if(k){var m=k,n=H(m),r=P(n,0,null),u=P(n,1,null);if(Dh.j(r,Yf)){var w=IJ(r,uf([Yf,c,r,u])),A=YJ(r),G=A?ZJ(r):r;if(A&&!KJ(a,G))throw vm(["Bad attribute ",xl.da(M([r])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new p(null,3,[Hp,rn,mp,r,zz,uf([Yf,c,r,u])],null));if(k=E(function(I,F,N,O,U,ea,va,wa,xa,Ra,ka){return function ua(Ca){return new ch(null,function(Ba,
Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc){return function(){for(;;){var Ad=E(Ca);if(Ad){if(If(Ad)){var te=ae(Ad),$f=K(te),Bd=gh($f);a:for(var ue=0;;)if(ue<$f){var Cd=x(te,ue);Cd=KJ(a,yb)&&Ff(Cd)?Q.ba(Cd,ZJ(Qd),Zc):ac?new S(null,4,5,T,[xB,Cd,yb,Zc],null):new S(null,4,5,T,[xB,Zc,yb,Cd],null);Bd.add(Cd);ue+=1}else{te=!0;break a}return te?ih(kh(Bd),ua(be(Ad))):ih(kh(Bd),null)}Bd=H(Ad);return hf(KJ(a,yb)&&Ff(Bd)?Q.ba(Bd,ZJ(Qd),Zc):ac?new S(null,4,5,T,[xB,Bd,yb,Zc],null):new S(null,4,5,T,[xB,Zc,yb,Bd],null),ua(Fe(Ad)))}return null}}}(I,
F,N,O,U,ea,va,wa,xa,Ra,ka),null,null)}}(h,w,A,G,null,n,r,u,m,k,c)(bK(a,r,u))))return W.j(k,f(Fe(h)))}h=Fe(h)}else return null}},null,null)}(b)}function dK(a,b){P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null);IJ(d,b);PJ(e,b);b=q(f)?f:QJ(a);f=zu.aa(a);c=LJ(f,c);e=KJ(f,d)?LJ(f,e):e;var h=GI.ja(c,d,e,b);f=NJ(f,d,LA)?mJ(f,new S(null,3,5,T,[c,d,e],null)):mJ(f,new S(null,2,5,T,[c,d],null));return null==f?XJ(a,h):D.j(f.v,e)?Ai.ja(a,ot,LI,h):XJ(XJ(a,GI.za(c,d,f.v,b,!1)),h)}
function eK(a,b){var c=QJ(a);return XJ(a,GI.za(b.e,b.a,b.v,c,!1))}function fK(a,b){return si.ba(Lk,Oh.j(pi(function(c){return NJ(a,c.a,Tm)}),ci.aa(function(c){return new S(null,2,5,T,[bq,c.v],null)})),b)}function gK(a,b,c,d,e){if(Pf(GB.aa(a),d))throw vm(["Conflicting upsert: ",xl.da(M([d]))," resolves both to ",xl.da(M([e]))," and ",xl.da(M([wi(a,new S(null,2,5,T,[GB,d],null))]))].join(""),new p(null,1,[Hp,Vs],null));b=Q.ba(GB.aa(b),d,e);a=Q.ba(a,GB,b);return hK.j?hK.j(a,c):hK.call(null,a,c)}
var iK=new Jk(null,new p(null,8,[Uu,null,jv,null,bq,null,ys,null,Nr,null,ct,null,Rn,null,xB,null],null),null);function jK(a){var b=zu.aa(a);pJ(b);qJ(b,Js);return vg(function(c,d,e){return vg(function(f,h,k){k=Jh(vc,k)?null:k;var m=Dw.aa(H(nJ(b,dv,new S(null,2,5,T,[d,h],null))));return D.j(k,m)?f:null==k?pf.j(f,xf(new S(null,4,5,T,[Nr,d,h,m],null),new p(null,1,[Ps,!0],null))):pf.j(f,xf(new S(null,4,5,T,[xB,d,h,k],null),new p(null,1,[Ps,!0],null)))},c,e)},qf,Sy.aa(a))}
function kK(a){var b=cn.aa(a);b=v.ba(function(c,d){return q(QI(d))?R.j(c,tw.aa(d)):c},b,W.j($r.aa(a),ot.aa(a)));if(Bf(b))return R.da(a,cn,M([ot]));throw vm(["Tempids used only as value in transaction: ",xl.da(M([Vf(Sf,yj(b))]))].join(""),new p(null,2,[Hp,rn,GB,b],null));}
function hK(a,b){if(null!=b&&!Ef(b))throw vm(["Bad transaction data ",xl.da(M([b])),", expected sequential collection"].join(""),new p(null,2,[Hp,rn,$r,b],null));for(var c=!Bf(qJ(zu.aa(a),an)),d=c?mi.j(b,ii(Um)):b,e=a,f=d;;){if(Bf(f))return Ai.za(Ai.za(kK(e),GB,Q,Jm,QJ(e)),zu,Ai,bz,Oe);var h=f,k=E(h),m=H(k),n=J(k),r=m,u=n;if(null==r)f=u;else if(D.j(Um,r))if(Pf(e,Sy)){var w=R.j(e,Sy);u=W.j(jK(e),u);e=w;f=u}else f=u;else{var A=zu.aa(e),G=GB.aa(e);if(Ff(r)){var I=Yf.aa(r);if(RJ(I))w=QJ(e),e=UJ(e,I,w),
f=u=hf(Q.ba(r,Yf,w),u);else if(Ef(I))w=LJ(A,I),f=u=hf(Q.ba(r,Yf,w),u);else{var F=$J(A,r);w=P(F,0,null);F=P(F,1,null);var N=aK(w,F);if(null!=N){if(SJ(I)&&Pf(G,I)&&Dh.j(N,B.j(G,I)))return gK(a,e,b,I,N);e=UJ(e,I,N);f=u=W.j(cK(A,Q.ba(w,Yf,N)),u)}else if("number"===typeof I||null==I||"string"===typeof I)w=null==I?Cx.aa(A)+1:SJ(I)?function(){var Xb=B.j(G,I);return q(Xb)?Xb:Cx.aa(A)+1}():I,r=Q.ba(r,Yf,w),e=UJ(e,I,w),f=u=W.j(cK(A,r),u);else throw vm(["Expected number, string or lookup ref for :db/id, got ",
xl.da(M([I]))].join(""),new p(null,2,[Hp,Ar,Au,r],null));}}else if(Ef(r)){var O=r;F=P(O,0,null);var U=P(O,1,null);w=P(O,2,null);var ea=P(O,3,null);if(D.j(F,Uu)){w=E(r);r=H(w);w=J(w);var va=r;r=H(w);w=J(w);f=u=W.j(zh(r,A,w),u)}else if(F instanceof C&&yc(iK.aa?iK.aa(F):iK.call(null,F))){va=OJ(A,F);if(null==va)throw vm(["Cant find entity for transaction fn ",xl.da(M([F]))].join(""),new p(null,3,[Hp,rn,ms,Uu,$r,r],null));U=Dw.aa(mJ(A,new S(null,2,5,T,[va,yr],null)));w=J(r);if(vf(U))f=u=W.j(zh(U,A,w),
u);else throw vm(["Entity ",xl.da(M([F]))," expected to have :db/fn attribute with fn? value"].join(""),new p(null,3,[Hp,rn,ms,Uu,$r,r],null));}else{if(SJ(U)&&Dh.j(F,xB))throw vm(["Can't use tempid in '",xl.da(M([r])),"'. Tempids are allowed in :db/add only"].join(""),new p(null,2,[Hp,rn,No,r],null));if(D.j(F,Rn)||D.j(F,jv)){var wa=r;va=P(wa,0,null);var xa=P(wa,1,null),Ra=P(wa,2,null),ka=P(wa,3,null),oa=P(wa,4,null),Ca=LJ(A,xa),ua=IJ(Ra,r),Ba=KJ(A,Ra)?LJ(A,ka):ka,Ua=KJ(A,Ra)?LJ(A,oa):oa,ac=PJ(Ua,
r),yb=sg(lJ(A,new S(null,2,5,T,[Ca,Ra],null)));if(NJ(A,Ra,LA))if(q(Kh(function(Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue){return function(Cd){return D.j(Cd.v,ue)}}(e,f,wa,va,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),yb)))e=dK(e,new S(null,4,5,T,[xB,Ca,Ra,Ua],null)),f=u;else throw vm([":db.fn/cas failed on datom [",xl.da(M([Ca]))," ",xl.da(M([Ra]))," ",xl.da(M([ci.j(Dw,yb)])),"], expected ",xl.da(M([Ba]))].join(""),new p(null,4,[Hp,Nn,Tz,yb,zm,Ba,Lr,Ua],null));else if(F=Dw.aa(H(yb)),D.j(F,
Ba))e=dK(e,new S(null,4,5,T,[xB,Ca,Ra,Ua],null)),f=u;else throw vm([":db.fn/cas failed on datom [",xl.da(M([Ca]))," ",xl.da(M([Ra]))," ",xl.da(M([F])),"], expected ",xl.da(M([Ba]))].join(""),new p(null,4,[Hp,Nn,Tz,H(yb),zm,Ba,Lr,Ua],null));}else if(RJ(U))r=UJ(e,U,QJ(e)),u=hf(new S(null,4,5,T,[F,QJ(e),w,ea],null),u),e=r,f=u;else if(KJ(A,w)&&RJ(ea))r=UJ(e,ea,QJ(e)),u=hf(new S(null,4,5,T,[F,U,w,QJ(e)],null),u),e=r,f=u;else if(KJ(A,w)&&SJ(ea))va=B.j(G,ea),null==va?(r=Cx.aa(A)+1,e=Ai.za(UJ(e,ea,r),cn,
Q,r,ea),f=u=f):(r=va,e=Ai.za(e,cn,Q,r,ea),f=u=hf(new S(null,4,5,T,[F,U,w,r],null),u));else if(SJ(U)){N=NJ(A,w,Qy)?tw.aa(H(nJ(A,gn,new S(null,2,5,T,[w,ea],null)))):null;var ec=B.j(G,U);if(q(function(){var Xb=N;return q(Xb)?(Xb=ec,q(Xb)?Dh.j(N,ec):Xb):Xb}()))return gK(a,e,b,U,N);r=function(){var Xb=N;if(q(Xb))return Xb;Xb=ec;return q(Xb)?Xb:Cx.aa(A)+1}();e=UJ(e,U,r);f=u=hf(new S(null,4,5,T,[F,r,w,ea],null),u)}else{if(yc(Ps.aa(yf(r)))&&NJ(A,w,an))throw vm(["Cant modify tuple attrs directly: ",xl.da(M([r]))].join(""),
new p(null,2,[Hp,rn,$r,r],null));if(D.j(F,xB))e=dK(e,r),f=u;else if(D.j(F,Nr)&&null!=ea)va=OJ(A,U),null==va?f=u:(xa=va,F=KJ(A,w)?LJ(A,ea):ea,IJ(w,r),PJ(F,r),w=mJ(A,new S(null,3,5,T,[xa,w,F],null)),null==w?f=u:(e=eK(e,w),f=u));else if(D.j(F,ct)||D.j(F,Nr))va=OJ(A,U),null==va?f=u:(xa=va,va=IJ(w,r),yb=sg(lJ(A,new S(null,2,5,T,[xa,w],null))),e=v.ba(eK,e,yb),f=u=W.j(fK(A,yb),u));else if(D.j(F,bq)||D.j(F,ys))va=OJ(A,U),null==va?f=u:(xa=va,yb=sg(lJ(A,new S(null,1,5,T,[xa],null))),w=sg(oi(function(Xb,Qd,
Zf,zf,Og,Zc,Ad,te,$f,Bd,ue){return function(Cd){return lJ(ue,new S(null,3,5,T,[null,Cd,zf],null))}}(e,f,yb,xa,va,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),M([qJ(A,jz)]))),e=v.ba(eK,e,W.j(yb,w)),f=u=W.j(fK(A,yb),u));else throw vm(["Unknown operation at ",xl.da(M([r])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new p(null,3,[Hp,rn,ms,F,$r,r],null));}}}else if($I(r))F=r,U=P(F,0,null),w=P(F,1,null),ea=P(F,2,null),r=P(F,3,null),F=P(F,4,null),q(F)?(e=dK(e,new S(null,5,5,T,[xB,U,w,ea,r],null)),f=u):f=u=hf(new S(null,4,5,T,[Nr,U,w,ea],null),u);else throw vm(["Bad entity type at ",xl.da(M([r])),", expected map or vector"].join(""),new p(null,2,[Hp,rn,$r,r],null));}}};function lK(a,b,c,d,e){this.Gd=a;this.Hb=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=lK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "wildcard?":return this.Gd;case "attrs":return this.Hb;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[hp,this.Gd],null),new S(null,2,5,T,[Kt,this.Hb],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[hp,Kt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=90253489^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Gd,b.Gd)&&D.j(this.Hb,b.Hb)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Kt,null,hp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new lK(this.Gd,this.Hb,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(hp,b):V.call(null,hp,b))?new lK(c,this.Hb,this.ea,this.ca,null):q(V.j?V.j(Kt,b):V.call(null,Kt,b))?new lK(this.Gd,c,this.ea,this.ca,null):new lK(this.Gd,this.Hb,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(hp,this.Gd),new Y(Kt,this.Hb)],null),this.ca))};g.sa=function(a,b){return new lK(this.Gd,this.Hb,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function mK(a){if(null!=a&&null!=a.vd)a=a.vd(a);else{var b=mK[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=mK._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IPullSpecComponent.-as-spec",a);}return a}function nK(a,b,c,d){this.attr=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=nK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Ox,this.attr],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Ox],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-838771693^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.ca,b.ca)};g.vd=function(){return new S(null,2,5,T,[this.attr,new p(null,1,[Ox,this.attr],null)],null)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new nK(this.attr,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new nK(c,this.ea,this.ca,null):new nK(this.attr,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Ox,this.attr)],null),this.ca))};g.sa=function(a,b){return new nK(this.attr,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function oK(a,b,c,d,e){this.attr=a;this.ld=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=oK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "rattr":return this.ld;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[uy,this.ld],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,uy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=158820207^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.ld,b.ld)&&D.j(this.ca,b.ca)};g.vd=function(){return new S(null,2,5,T,[this.ld,new p(null,1,[Ox,this.attr],null)],null)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[uy,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new oK(this.attr,this.ld,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new oK(c,this.ld,this.ea,this.ca,null):q(V.j?V.j(uy,b):V.call(null,uy,b))?new oK(this.attr,c,this.ea,this.ca,null):new oK(this.attr,this.ld,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(uy,this.ld)],null),this.ca))};g.sa=function(a,b){return new oK(this.attr,this.ld,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function pK(a,b,c,d,e){this.attr=a;this.limit=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=pK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[Ym,this.limit],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,Ym],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=2109320956^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.limit,b.limit)&&D.j(this.ca,b.ca)};g.vd=function(){return yi(mK(this.attr),new S(null,2,5,T,[1,Ym],null),this.limit)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Ym,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new pK(this.attr,this.limit,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new pK(c,this.limit,this.ea,this.ca,null):q(V.j?V.j(Ym,b):V.call(null,Ym,b))?new pK(this.attr,c,this.ea,this.ca,null):new pK(this.attr,this.limit,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(Ym,this.limit)],null),this.ca))};g.sa=function(a,b){return new pK(this.attr,this.limit,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function qK(a,b,c,d,e){this.attr=a;this.value=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=qK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "value":return this.value;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[Rw,this.value],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,Rw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1499761615^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.value,b.value)&&D.j(this.ca,b.ca)};g.vd=function(){return yi(mK(this.attr),new S(null,2,5,T,[1,qm],null),this.value)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Rw,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new qK(this.attr,this.value,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new qK(c,this.value,this.ea,this.ca,null):q(V.j?V.j(Rw,b):V.call(null,Rw,b))?new qK(this.attr,c,this.ea,this.ca,null):new qK(this.attr,this.value,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(Rw,this.value)],null),this.ca))};g.sa=function(a,b){return new qK(this.attr,this.value,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function rK(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=rK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,W.j(qf,this.ca))};
g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-163917799^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new rK(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new rK(this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new rK(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function sK(a,b,c,d){this.limit=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=sK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "limit":return this.limit;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Ym,this.limit],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Ym],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1552688154^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.limit,b.limit)&&D.j(this.ca,b.ca)};g.vd=function(){return new S(null,2,5,T,[Es,this.limit],null)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Ym,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new sK(this.limit,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ym,b):V.call(null,Ym,b))?new sK(c,this.ea,this.ca,null):new sK(this.limit,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Ym,this.limit)],null),this.ca))};g.sa=function(a,b){return new sK(this.limit,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function tK(a,b,c,d,e){this.attr=a;this.kd=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=tK.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "porrl":return this.kd;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[AB,this.kd],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,AB],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=152088668^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.kd,b.kd)&&D.j(this.ca,b.ca)};g.vd=function(){return Ai.ja(mK(this.attr),1,pf,mK(this.kd))};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[AB,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new tK(this.attr,this.kd,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new tK(c,this.kd,this.ea,this.ca,null):q(V.j?V.j(AB,b):V.call(null,AB,b))?new tK(this.attr,c,this.ea,this.ca,null):new tK(this.attr,this.kd,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(AB,this.kd)],null),this.ca))};g.sa=function(a,b){return new tK(this.attr,this.kd,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function uK(a,b,c,d,e){this.attr=a;this.Dc=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=uK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "opts":return this.Dc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[io,this.Dc],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,io],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-429987476^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Dc,b.Dc)&&D.j(this.ca,b.ca)};g.vd=function(){return Ai.ja(mK(this.attr),1,Ek,this.Dc)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[io,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new uK(this.attr,this.Dc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new uK(c,this.Dc,this.ea,this.ca,null):q(V.j?V.j(io,b):V.call(null,io,b))?new uK(this.attr,c,this.ea,this.ca,null):new uK(this.attr,this.Dc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(io,this.Dc)],null),this.ca))};g.sa=function(a,b){return new uK(this.attr,this.Dc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function vK(a,b){return b instanceof rK?Q.ba(a,hp,!0):Ai.ja(a,Kt,qh,mK(b))}function wK(a,b,c,d){this.Dd=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=wK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "specs":return this.Dd;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Su,this.Dd],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Su],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-795554044^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Dd,b.Dd)&&D.j(this.ca,b.ca)};g.vd=function(){var a=new lK(!1,Td(X),null,null,null);a=v.ba(vK,a,this.Dd);return new S(null,2,5,T,[$q,Ai.ba(a,Kt,ph)],null)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Su,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new wK(this.Dd,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Su,b):V.call(null,Su,b))?new wK(c,this.ea,this.ca,null):new wK(this.Dd,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Su,this.Dd)],null),this.ca))};g.sa=function(a,b){return new wK(this.Dd,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};var xK=new Jk(null,new p(null,3,[eg,null,"*",null,gg,null],null),null);
function yK(a){return a instanceof C||"string"===typeof a?YJ(a)?new oK(ZJ(a),a,null,null,null):new nK(a,null,null,null):null}var zK=new Jk(null,new p(null,2,["...",null,hg,null],null),null);function AK(a){return Ef(a)&&D.j(3,K(a))}var BK=new Jk(null,new p(null,3,[aq,null,Ym,null,"limit",null],null),null);
function CK(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);if(q(BK.aa?BK.aa(b):BK.call(null,b))){b=null==d||"number"===typeof d&&0<d?yK(c):!1;if(q(b))return new pK(b,d,null,null,null);throw vm('Expected ["limit" attr-name (positive-number | nil)]',new p(null,2,[Hp,jy,zt,a],null));}return null}var DK=new Jk(null,new p(null,3,[np,null,qm,null,"default",null],null),null);
function EK(a){if(Ef(a)){a=E(a);var b=H(a);a=J(a);b=yK(b);if(null==b)a=null;else{var c;if(c=Lh(K(a)))c=Jh(new Jk(null,new p(null,3,[Ym,null,qm,null,dz,null],null),null),ci.j(H,vi(2,2,a)));a=c?new uK(b,yh(Ak,a),null,null,null):null}return a}return null}
function FK(a){var b=P(a,0,null),c=P(a,1,null);a=function(){var e=yK(b);if(q(e))return e;e=EK(b);return q(e)?e:AK(b)?CK(b):null}();if(q(a)){var d=function(){var e=q(zK.aa?zK.aa(c):zK.call(null,c))?new sK(null,null,null,null):"number"===typeof c&&0<c?new sK(c,null,null,null):null;return q(e)?e:GK.aa?GK.aa(c):GK.call(null,c)}();if(q(d))return new tK(a,d,null,null,null);throw vm("Expected (pattern | recursion-limit)",new p(null,2,[Hp,jy,zt,new S(null,2,5,T,[b,c],null)],null));}throw vm("Expected (attr-name | limit-expr)",
new p(null,2,[Hp,jy,zt,new S(null,2,5,T,[b,c],null)],null));}
function HK(a){var b=yK(a);if(q(b))return b;b=q(xK.aa?xK.aa(a):xK.call(null,a))?new rK(null,null,null):null;if(q(b))return b;b=Ff(a)?FK(H(a)):null;if(q(b))return b;b=EK(a);if(q(b))return b;if(AK(a)){if(b=CK(a),!q(b))b:{var c=P(a,0,null),d=P(a,1,null);b=P(a,2,null);if(q(DK.aa?DK.aa(c):DK.call(null,c))){c=yK(d);if(q(c)){b=new qK(c,b,null,null,null);break b}throw vm('Expected ["default" attr-name any-value]',new p(null,2,[Hp,jy,zt,a],null));}b=null}}else b=null;if(q(b))return b;throw vm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new p(null,2,[Hp,jy,zt,a],null));}function IK(a){return Ff(a)?ey:q(xK.aa?xK.aa(a):xK.call(null,a))?Zt:kv}function JK(a){return si.ba(qf,ci.aa(function(b){return pf.j(X,b)}),a)}function KK(a){a=bm(IK,a);var b=q(Eh(B.j(a,Zt)))?new S(null,1,5,T,[gg],null):qf;return si.ba(si.j(b,B.j(a,kv)),Oh.j(ci.aa(JK),Nl),B.j(a,ey))}function GK(a){return Ef(a)?new wK(si.ba(qf,ci.aa(HK),KK(a)),null,null,null):null}
function LK(a){var b=null==a?null:GK(a);b=null==b?null:mf(mK(b));if(q(b))return b;throw vm("Cannot parse pull pattern, expected: [attr-spec+]",new p(null,2,[Hp,jy,zt,a],null));};function MK(a,b){return v.ba(qh,a,b)}function NK(a,b,c){return gk([iq,Bo,vo,Es,Su,hp,Xs,Wz,nB],[c,b,Wz,new p(null,2,[hq,X,Qr,Lk],null),E(Kt.aa(a)),hp.aa(a),Td(X),a,Td(qf)])}function OK(a,b,c,d){return Q.ba(NK(a,b,c),Ox,d)}function PK(a,b,c){var d=Wz.aa(a);return Q.da(a,Bo,b,M([Su,E(Kt.aa(d)),hp,hp.aa(d),Xs,Td(X),nB,function(){var e=nB.aa(a);return E(c)?qh.j(e,c):e}()]))}
function QK(a,b,c){var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,hq);d=B.j(d,Qr);return Q.da(a,hq,Ai.ba(e,b,Qh(Oe,0)),M([Qr,pf.j(d,c)]))}function RK(a,b,c){return Pf(xi(a,new S(null,2,5,T,[Es,Qr],null),Lk),c)?pf.j(b,Ai.ja(a,nB,qh,new p(null,1,[Yf,c],null))):null}function SK(a,b){b=Xs.aa(b);b=null==b?null:Vd(b);return null==b?null:B.j(b,a)}function TK(a,b){var c=Ox.aa(a);c=QK(Es.aa(a),c,b);return Q.ba(OK(Wz.aa(a),new S(null,1,5,T,[b],null),!1,Lt),Es,c)}
function UK(a){a=E(a);var b=H(a);a=J(a);var c=E(Bo.aa(b));if(c){b=PK(b,Fe(c),SK(Lt,b));c=H(c);var d=RK(b,a,c);return q(d)?d:pf.da(a,b,M([TK(b,c)]))}c=SK(Lt,b);d=nB.aa(b);c=E(c)?qh.j(d,c):d;return pf.j(a,Q.da(b,vo,$w,M([nB,c])))}function VK(a,b,c,d,e){var f=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d,h=B.j(f,Es);f=B.j(f,Wz);var k=B.ba(B.j(h,hq),a,0);return D.j(Es.aa(B.j(Kt.aa(f),a)),k)?pf.j(e,d):UK(pf.da(e,d,M([new p(null,7,[vo,Es,Wz,f,Ox,a,iq,b,Bo,c,Es,h,nB,Td(qf)],null)])))}
var OC=new lK(!0,X,null,null,null);function XK(a,b,c,d,e){a=QK(Es.aa(a),c,b);return Q.ba(OK(OC,e,d,c),Es,a)}
function YK(a,b,c,d,e,f,h,k){var m=E(k);k=H(m);m=J(m);var n=B.ba(h,Ym,1E3),r=function(){var F=dz.aa(h);return q(F)?F:b}(),u=Eh(q(n)?si.ba(qf,di.aa(n),f):f);if(q(u)){var w=KJ(a,c);f=w&&NJ(a,c,Tm);a=q(e)?NJ(a,c,LA):!f;var A=q(e)?function(F){return F.v}:function(F){return F.e};if(Pf(h,$q))return pf.da(m,k,M([OK($q.aa(h),ti.j(A,u),a,r)]));if(Pf(h,Es))return VK(r,a,ti.j(A,u),k,m);if(q(f?e:!1))return pf.da(m,k,M([XK(k,d,r,a,ti.j(A,u))]));var G=function(){return w?Oh.j(function(F){return gk([Yf],[F])},A):
A}(),I=!a;return pf.j(m,Ai.za(k,Xs,rh,r,function(){var F=si.ba(qf,ci.aa(G),u);return I?H(F):F}()))}return pf.j(m,Pf(h,qm)?Ai.za(k,Xs,rh,r,qm.aa(h)):k)}var ZK=pi(function(a){var b=P(a,0,null);a=P(a,1,null);return Dh.j(b,Ox.aa(a))});function $K(a,b,c){return OK(Q.da(Wz.aa(a),Kt,c,M([hp,!1])),new S(null,1,5,T,[b],null),!1,uo)}function aL(a,b){return pf.j(Fe(a),Ai.ja(H(a),Xs,MK,Vd(b)))}function bL(a){var b=E(a);a=H(b);b=J(b);var c=Dx.aa(a);a=SK(uo,a);return aL(b,MK(c,q(a)?a:X))}
function cL(a,b){var c=E(b);b=H(c);c=J(c);var d=E(ar.aa(b));if(d){var e=H(d);d=P(e,0,null);e=P(e,1,null);var f=B.ba(wi(b,new S(null,2,5,T,[Wz,Kt],null)),d,X);return YK(a,d,d,hw.aa(b),!0,e,f,pf.j(c,Ai.ba(b,ar,Fe)))}a=Eh(si.ba(X,ZK,wi(b,new S(null,2,5,T,[Wz,Kt],null))));return q(a)?(b=Q.da(b,vo,Fo,M([Dx,Xs.aa(b),Xs,Td(X)])),pf.da(c,b,M([$K(b,hw.aa(b),a)]))):aL(c,Xs.aa(b))}
function dL(a,b,c,d,e){var f=bm(function(m){return m.a},nJ(a,dv,new S(null,1,5,T,[d],null))),h=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,k=B.j(h,Ox);h=B.j(h,Es);k=null!=k?QK(h,k,d):h;return cL(a,pf.da(c,b,M([new p(null,6,[vo,Dy,Xs,Td(new p(null,1,[Yf,d],null)),hw,d,Wz,e,ar,E(f),Es,k],null)])))}
function eL(a,b){for(;;){var c=E(b);b=H(c);var d=J(c);c=b;if(b=E(Bo.aa(c))){if(q(hp.aa(c))){b=Q.da(c,Su,qf,M([hw,H(b),hp,!1]));c=d;var e=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;d=B.j(e,hw);e=B.j(e,Wz);var f=RK(b,c,d);return q(f)?f:dL(a,b,c,d,e)}if(e=E(Su.aa(c))){f=e;e=H(f);Wz.aa(c);c=pf.j(d,Q.ba(c,Su,Fe(f)));b=H(b);d=P(e,0,null);e=P(e,1,null);if(D.j(Yf,d))a=q(Eh(nJ(a,dv,new S(null,1,5,T,[b],null))))?pf.j(Fe(c),Ai.za(H(c),Xs,rh,Yf,b)):c;else{f=Ox.aa(e);var h=D.j(d,f),k=h?nJ(a,dv,new S(null,2,5,T,[b,
f],null)):nJ(a,gn,new S(null,2,5,T,[f,b],null));a=YK(a,d,f,b,h,k,e,c)}return a}b=pf.j(d,PK(c,Fe(b),Eh(Vd(Xs.aa(c)))))}else return pf.j(d,Q.ba(c,vo,$w))}}
function fL(a,b){for(;;){var c=vo.aa(H(b));c=c instanceof C?c.Aa:null;switch(c){case "expand":c=a;b=cL(a,b);a=c;continue;case "expand-rev":b=bL(b);continue;case "pattern":c=a;b=eL(a,b);a=c;continue;case "recursion":b=UK(b);continue;case "done":c=E(b);b=H(c);c=J(c);var d=b,e=c,f=function(){var h=Vd(nB.aa(d));return yc(iq.aa(d))?H(h):h}();if(E(e)){b=pf.j(Fe(e),function(){var h=H(e);return q(f)?Ai.za(h,Xs,rh,Ox.aa(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.aa(c)].join(""));
}}}function gL(a,b,c){c=si.ba(qf,ci.aa(function(d){return LJ(a,d)}),c);return fL(a,new rf(null,NK(b,c,!1),null,1,null))};function hL(a,b,c,d,e){this.he=a;this.Pg=b;this.Sg=c;this.Og=d;this.limit=e;this.ga=2147484416;this.la=0}hL.prototype.pa=function(a,b,c){return iL.ba?iL.ba(this,b,c):iL.call(null,this,b,c)};hL.prototype.ya=function(a,b){return ad(this.he,b,null)};hL.prototype.ka=function(a,b,c){return ad(this.he,b,c)};hL.prototype.ta=function(a,b,c){return Md(this.he,b,c)};function jL(a,b,c,d,e){return new hL(a,b,c,d,e)}
function iL(a,b,c){var d=a.he,e=a.Pg,f=a.Sg,h=a.Og;a=a.limit;var k=f.j?f.j(b,null):f.call(null,b,null);if(q(k))return jL(d,Q.ba(R.j(e,k),h,b),Q.ba(f,b,h),h+1,a);b=jL(Q.ba(d,b,c),Q.ba(e,h,b),Q.ba(f,b,h),h+1,a);return kL.aa?kL.aa(b):kL.call(null,b)}function kL(a){if(K(a.he)>a.limit){var b=a.he,c=a.Pg,d=a.Sg,e=a.Og;a=a.limit;var f=H(c),h=P(f,0,null);f=P(f,1,null);return jL(R.j(b,f),R.j(c,h),R.j(d,f),e,a)}return a};function lL(a,b){b="number"===typeof b||Ef(b)||b instanceof C?OJ(a,b):null;if(q(b)){var c=Zh(!1),d=Zh(X);return mL.ja?mL.ja(a,b,c,d):mL.call(null,a,b,c,d)}return null}function nL(a,b,c){return NJ(a,b,LA)?KJ(a,b)?v.ba(function(d,e){return pf.j(d,lL(a,Dw.aa(e)))},Lk,c):v.ba(function(d,e){return pf.j(d,Dw.aa(e))},Lk,c):KJ(a,b)?lL(a,Dw.aa(H(c))):Dw.aa(H(c))}
function oL(a,b,c,d){b=Eh(lJ(a,new S(null,3,5,T,[null,c,b],null)));return q(b)?NJ(a,c,Tm)?lL(a,tw.aa(H(b))):v.ba(function(e,f){return pf.j(e,lL(a,tw.aa(f)))},Lk,b):d}function pL(a){return q(a)?Wf(a):null}
function qL(a){rL.aa?rL.aa(a):rL.call(null,a);return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);r=NJ(a.db,r,LA)?new S(null,2,5,T,[r,pL(n)],null):new S(null,2,5,T,[r,n],null);k.add(r);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);return hf(NJ(a.db,k,LA)?new S(null,2,5,T,[k,pL(f)],null):new S(null,2,5,T,[k,f],null),d(Fe(e)))}return null}},
null,null)}(y(a.cache))}function sL(a,b,c,d){this.db=a;this.hd=b;this.ig=c;this.cache=d;this.ga=2162164483;this.la=0}g=sL.prototype;g.entry_set=function(){return Wf(ci.j(Wf,qL(this)))};
g.forEach=function(){function a(d,e){for(var f=E(qL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.La(null,m),r=P(n,0,null);n=P(n,1,null);d.call(e,n,r,this);m+=1}else if(f=E(f))If(f)?(h=ae(f),f=be(f),r=h,k=K(h),h=r):(h=H(f),r=P(h,0,null),n=P(h,1,null),d.call(e,n,r,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=E(qL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.La(null,k),n=P(m,0,null);m=P(m,1,null);d.ba?d.ba(m,n,this):d.call(null,m,n,this);k+=1}else if(e=E(e))If(e)?(f=ae(e),e=be(e),n=f,
h=K(f),f=n):(f=H(e),n=P(f,0,null),m=P(f,1,null),d.ba?d.ba(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.aa=b;c.j=a;return c}();g.get=function(a){if(D.j(a,":db/id"))return this.hd;if(YJ(a))return pL(oL(this.db,this.hd,ZJ(a),null));var b=tL?tL(this,a):uL.call(null,this,a);return NJ(this.db,a,LA)?pL(b):b};
g.key_set=function(){return Wf(xj(this))};g.entries=function(){return new sj(E(qL(this)))};g.value_set=function(){return Wf(ci.j(mf,qL(this)))};g.toString=function(){return le(this)};g.keys=function(){return Ie(xj(this))};g.values=function(){return Ie(ci.j(mf,qL(this)))};g.equiv=function(a){return vL.j?vL.j(this,a):vL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ya=function(a,b){return wL?wL(this,b,null):uL.call(null,this,b,null)};
g.ka=function(a,b,c){return wL?wL(this,b,c):uL.call(null,this,b,c)};g.ta=function(a,b,c){return Md(Q.ba(y(this.cache),Yf,this.hd),b,c)};g.va=function(){rL.aa?rL.aa(this):rL.call(null,this);return K(y(this.cache))};g.wa=function(){return ve(this.hd)};g.oa=function(a,b){return vL.j?vL.j(this,b):vL.call(null,this,b)};g.ua=function(){rL.aa?rL.aa(this):rL.call(null,this);return E(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return tL?tL(this,a):uL.call(null,this,a)};g.j=function(a,b){return wL?wL(this,a,b):uL.call(null,this,a,b)};function mL(a,b,c,d){return new sL(a,b,c,d)}
function vL(a,b){return b instanceof sL&&D.j(a.hd,b.hd)}function uL(a){switch(arguments.length){case 2:return tL(arguments[0],arguments[1]);case 3:return wL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function tL(a,b){return wL(a,b,null)}
function wL(a,b,c){if(D.j(b,Yf))return a.hd;if(YJ(b))return oL(a.db,a.hd,ZJ(b),c);var d=y(a.cache);d=d.aa?d.aa(b):d.call(null,b);if(null==d){if(q(y(a.ig)))return c;d=Eh(lJ(a.db,new S(null,2,5,T,[a.hd,b],null)));if(null==d)return c;c=nL(a.db,b,d);b=Q.ba(y(a.cache),b,c);he(a.cache,b);return c}return d}function xL(a,b){return vg(function(c,d,e){return Q.ba(c,d,NJ(a,d,Tm)?NJ(a,d,LA)?Mk(ci.j(rL,e)):rL.aa?rL.aa(e):rL.call(null,e):e)},X,b)}
function yL(a,b){return v.ba(function(c,d){var e=xw.aa(H(d));return Q.ba(c,e,nL(a,e,d))},X,al(xw,b))}function rL(a){if(!q(y(a.ig))){var b=Eh(lJ(a.db,new S(null,1,5,T,[a.hd],null)));q(b)&&(b=xL(a.db,yL(a.db,b)),he(a.cache,b),he(a.ig,!0))}return a}ia("datascript.impl.entity.Entity",sL);function zL(){}function AL(a,b,c){if(null!=a&&null!=a.eb)a=a.eb(a,b,c);else{var d=AL[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=AL._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("ITraversable.-collect",a);}return a}
function BL(a,b){if(null!=a&&null!=a.fb)a=a.fb(a,b);else{var c=BL[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=BL._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITraversable.-collect-vars",a);}return a}function CL(a,b){return Ef(a)&&D.j(K(a),b)}function DL(a,b){return Ef(b)?v.ba(function(c,d){d=a.aa?a.aa(d):a.call(null,d);return q(d)?pf.j(c,d):Qe(null)},qf,b):null}function EL(a,b){return FL(a,b,qf)}
function FL(a,b,c){return q(a.aa?a.aa(b):a.call(null,b))?pf.j(c,b):(null!=b?l===b.cb||(b.Md?0:Ac(zL,b)):Ac(zL,b))?AL(b,a,c):KI(b)?v.ba(function(d,e){return FL(a,e,d)},c,b):c}function GL(a){var b=Bf(a);return b?b:yh(Qf,a)}function HL(a,b){return xf(a,new p(null,1,[un,b],null))}function IL(a){var b=un.aa(yf(a));return q(b)?b:a}function JL(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=JL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){return B.ba(this.ca,b,c)};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,W.j(qf,this.ca))};g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-528488587^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new JL(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new JL(this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new JL(b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};function KL(a,b,c,d){this.symbol=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=KL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "symbol":return this.symbol;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Lw,this.symbol],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Lw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=736891289^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Lw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new KL(this.symbol,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Lw,b):V.call(null,Lw,b))?new KL(c,this.ea,this.ca,null):new KL(this.symbol,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Lw,this.symbol)],null),this.ca))};g.sa=function(a,b){return new KL(this.symbol,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbol,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.symbol):LL.call(null,b,this.symbol)};function ML(a,b,c,d){this.symbol=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=ML.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "symbol":return this.symbol;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Lw,this.symbol],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Lw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1648766309^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Lw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new ML(this.symbol,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Lw,b):V.call(null,Lw,b))?new ML(c,this.ea,this.ca,null):new ML(this.symbol,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Lw,this.symbol)],null),this.ca))};g.sa=function(a,b){return new ML(this.symbol,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbol,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.symbol):LL.call(null,b,this.symbol)};function NL(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=NL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,W.j(qf,this.ca))};g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-350962559^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new NL(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new NL(this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new NL(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};
function OL(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=OL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,W.j(qf,this.ca))};
g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1504050517^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new OL(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new OL(this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new OL(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};function PL(a,b,c,d){this.value=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=PL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "value":return this.value;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Rw,this.value],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Rw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-812884714^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.value,b.value)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Rw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new PL(this.value,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Rw,b):V.call(null,Rw,b))?new PL(c,this.ea,this.ca,null):new PL(this.value,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Rw,this.value)],null),this.ca))};g.sa=function(a,b){return new PL(this.value,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.value,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.value):LL.call(null,b,this.value)};function QL(a,b,c,d){this.symbol=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=QL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "symbol":return this.symbol;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Lw,this.symbol],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Lw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1509921913^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Lw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new QL(this.symbol,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Lw,b):V.call(null,Lw,b))?new QL(c,this.ea,this.ca,null):new QL(this.symbol,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Lw,this.symbol)],null),this.ca))};g.sa=function(a,b){return new QL(this.symbol,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbol,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.symbol):LL.call(null,b,this.symbol)};function RL(a){return a instanceof z&&D.j(H(bh(a)),"?")?new KL(a,null,null,null):null}
function SL(a){var b=RL(a);if(q(b))return b;throw vm(["Cannot parse var, expected symbol starting with ?, got: ",xl.da(M([a]))].join(""),new p(null,2,[Hp,uq,lt,a],null));}function TL(a){return a instanceof z&&D.j(H(bh(a)),"$")?new ML(a,null,null,null):null}function UL(a){return a instanceof z?null:new PL(a,null,null,null)}function VL(a){return a instanceof z&&yc(RL(a))&&yc(TL(a))&&yc(D.j(kt,a)?new OL(null,null,null):null)&&yc(D.j(rq,a)?new JL(null,null,null):null)?new QL(a,null,null,null):null}
function WL(a){return q(VL(a))?new KL(a,null,null,null):null}function XL(a){var b=RL(a);if(q(b))return b;b=UL(a);return q(b)?b:TL(a)}function YL(a,b,c,d,e){this.required=a;this.Yc=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=YL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "required":return this.required;case "free":return this.Yc;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Yz,this.required],null),new S(null,2,5,T,[Or,this.Yc],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Yz,Or],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=892963297^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.required,b.required)&&D.j(this.Yc,b.Yc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Or,null,Yz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new YL(this.required,this.Yc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Yz,b):V.call(null,Yz,b))?new YL(c,this.Yc,this.ea,this.ca,null):q(V.j?V.j(Or,b):V.call(null,Or,b))?new YL(this.required,c,this.ea,this.ca,null):new YL(this.required,this.Yc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Yz,this.required),new Y(Or,this.Yc)],null),this.ca))};g.sa=function(a,b){return new YL(this.required,this.Yc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
g.cb=l;g.eb=function(a,b,c){return FL(b,this.Yc,FL(b,this.required,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.required):LL.call(null,b,this.required);b=this.Yc;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function ZL(a){if(Ef(a)){var b=Ef(H(a))?new S(null,2,5,T,[H(a),J(a)],null):new S(null,2,5,T,[null,a],null),c=P(b,0,null);b=P(b,1,null);c=DL(SL,c);b=DL(SL,b);if(Bf(c)&&Bf(b))throw vm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new p(null,2,[Hp,Uq,lt,a],null));if(!q(GL(W.j(c,b))))throw vm("Rule variables should be distinct",new p(null,2,[Hp,Uq,lt,a],null));return new YL(c,b,null,null,null)}throw vm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new p(null,2,[Hp,Uq,lt,a],null));}function $L(a){return W.aa(q(Yz.aa(a))?function(){ti.j(Lw,Yz.aa(a));return ti.j(Lw,Or.aa(a))}():null)}function aM(a){return new S(null,2,5,T,[K(Yz.aa(a)),K(Or.aa(a))],null)}function bM(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=bM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,W.j(qf,this.ca))};g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-890522983^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new bM(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new bM(this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new bM(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};
function cM(a,b,c,d){this.kb=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=cM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "variable":return this.kb;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[cu,this.kb],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[cu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1522792445^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.kb,b.kb)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[cu,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new cM(this.kb,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(cu,b):V.call(null,cu,b))?new cM(c,this.ea,this.ca,null):new cM(this.kb,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(cu,this.kb)],null),this.ca))};
g.sa=function(a,b){return new cM(this.kb,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.kb,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.kb):LL.call(null,b,this.kb)};function dM(a,b,c,d){this.bindings=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=dM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "bindings":return this.bindings;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[xn,this.bindings],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[xn],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1637239347^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.bindings,b.bindings)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[xn,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new dM(this.bindings,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(xn,b):V.call(null,xn,b))?new dM(c,this.ea,this.ca,null):new dM(this.bindings,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(xn,this.bindings)],null),this.ca))};g.sa=function(a,b){return new dM(this.bindings,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.bindings,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.bindings):LL.call(null,b,this.bindings)};function eM(a,b,c,d){this.binding=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=eM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "binding":return this.binding;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[ew,this.binding],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[ew],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1930368089^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.binding,b.binding)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[ew,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new eM(this.binding,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(ew,b):V.call(null,ew,b))?new eM(c,this.ea,this.ca,null):new eM(this.binding,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(ew,this.binding)],null),this.ca))};g.sa=function(a,b){return new eM(this.binding,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.binding,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.binding):LL.call(null,b,this.binding)};function fM(a){return D.j(rq,a)?HL(new bM(null,null,null),a):null}function gM(a){var b=fM(a);return q(b)?b:hM.aa?hM.aa(a):hM.call(null,a)}
function iM(a){var b=DL(gM,a);if(q(b)){if(Bf(b))throw vm("Tuple binding cannot be empty",new p(null,2,[Hp,Sp,lt,a],null));return HL(new dM(b,null,null,null),a)}return null}
function hM(a){a:{if(CL(a,2)&&D.j(mf(a),hg)){var b=H(a);b=hM.aa?hM.aa(b):hM.call(null,b);if(q(b)){b=HL(new eM(b,null,null,null),a);break a}throw vm("Cannot parse collection binding",new p(null,2,[Hp,Sp,lt,a],null));}b=null}if(q(b))return b;b=CL(a,1)&&Ef(H(a))?HL(new eM(iM(H(a)),null,null,null),a):null;if(q(b))return b;b=iM(a);if(q(b))return b;b=fM(a);if(q(b))return b;b=RL(a);b=q(b)?HL(new cM(b,null,null,null),a):null;if(q(b))return b;throw vm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new p(null,2,[Hp,Sp,lt,a],null));}function jM(a){if(null!=a&&null!=a.hf)a=a.hf(a);else{var b=jM[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=jM._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IFindVars.-find-vars",a);}return a}KL.prototype.hf=function(){return new S(null,1,5,T,[this.symbol],null)};function kM(a,b,c,d,e){this.fn=a;this.args=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=kM.prototype;g.hf=function(){return jM(of(this.args))};
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "fn":return this.fn;case "args":return this.args;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Qz,this.fn],null),new S(null,2,5,T,[Rz,this.args],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Qz,Rz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-91097383^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Rz,null,Qz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new kM(this.fn,this.args,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Qz,b):V.call(null,Qz,b))?new kM(c,this.args,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new kM(this.fn,c,this.ea,this.ca,null):new kM(this.fn,this.args,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Qz,this.fn),new Y(Rz,this.args)],null),this.ca))};g.sa=function(a,b){return new kM(this.fn,this.args,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;
g.eb=function(a,b,c){return FL(b,this.args,FL(b,this.fn,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.fn):LL.call(null,b,this.fn);b=this.args;return LL.j?LL.j(a,b):LL.call(null,a,b)};function lM(a,b,c,d,e,f){this.source=a;this.kb=b;this.pattern=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=lM.prototype;g.hf=function(){return jM(this.kb)};g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "variable":return this.kb;case "pattern":return this.pattern;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[cu,this.kb],null),new S(null,2,5,T,[Wz,this.pattern],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,cu,Wz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-2108867663^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.kb,b.kb)&&D.j(this.pattern,b.pattern)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[cu,null,un,null,Wz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new lM(this.source,this.kb,this.pattern,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new lM(c,this.kb,this.pattern,this.ea,this.ca,null):q(V.j?V.j(cu,b):V.call(null,cu,b))?new lM(this.source,c,this.pattern,this.ea,this.ca,null):q(V.j?V.j(Wz,b):V.call(null,Wz,b))?new lM(this.source,this.kb,c,this.ea,this.ca,null):new lM(this.source,this.kb,this.pattern,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(cu,this.kb),new Y(Wz,this.pattern)],null),this.ca))};
g.sa=function(a,b){return new lM(this.source,this.kb,this.pattern,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.pattern,FL(b,this.kb,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.kb;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.pattern;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function mM(a){if(null!=a&&null!=a.Ie)a=a.Ie(a);else{var b=mM[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=mM._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IFindElements.find-elements",a);}return a}function nM(a,b,c,d){this.elements=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=nM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "elements":return this.elements;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[dt,this.elements],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[dt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=744809563^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[dt,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new nM(this.elements,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return this.elements};g.pa=function(a,b,c){return q(V.j?V.j(dt,b):V.call(null,dt,b))?new nM(c,this.ea,this.ca,null):new nM(this.elements,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(dt,this.elements)],null),this.ca))};g.sa=function(a,b){return new nM(this.elements,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.elements,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.elements):LL.call(null,b,this.elements)};function oM(a,b,c,d){this.element=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=oM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "element":return this.element;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[gy,this.element],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[gy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=124241361^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[gy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new oM(this.element,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return new S(null,1,5,T,[this.element],null)};g.pa=function(a,b,c){return q(V.j?V.j(gy,b):V.call(null,gy,b))?new oM(c,this.ea,this.ca,null):new oM(this.element,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(gy,this.element)],null),this.ca))};
g.sa=function(a,b){return new oM(this.element,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.element,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.element):LL.call(null,b,this.element)};function pM(a,b,c,d){this.element=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=pM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "element":return this.element;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[gy,this.element],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[gy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-661542332^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[gy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new pM(this.element,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return new S(null,1,5,T,[this.element],null)};g.pa=function(a,b,c){return q(V.j?V.j(gy,b):V.call(null,gy,b))?new pM(c,this.ea,this.ca,null):new pM(this.element,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(gy,this.element)],null),this.ca))};
g.sa=function(a,b){return new pM(this.element,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.element,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.element):LL.call(null,b,this.element)};function qM(a,b,c,d){this.elements=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=qM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "elements":return this.elements;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[dt,this.elements],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[dt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=681530371^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[dt,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new qM(this.elements,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return this.elements};g.pa=function(a,b,c){return q(V.j?V.j(dt,b):V.call(null,dt,b))?new qM(c,this.ea,this.ca,null):new qM(this.elements,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(dt,this.elements)],null),this.ca))};g.sa=function(a,b){return new qM(this.elements,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.elements,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.elements):LL.call(null,b,this.elements)};function rM(a){return a instanceof kM}function sM(a){return a instanceof lM}
function tM(a){var b=RL(a);if(q(b))return b;a:{if(Ef(a)&&D.j(H(a),cg)){if(3<=K(a)&&4>=K(a)){var c=(b=D.j(K(a),4))?bf(a,1):jg;b=b?J(J(a)):J(a);var d=P(b,0,null);b=P(b,1,null);c=TL(c);d=RL(d);var e=RL(b);q(e)?b=e:(e=WL(b),b=q(e)?e:UL(b));if(q(q(c)?q(d)?b:d:c)){b=new lM(c,d,b,null,null,null);break a}}throw vm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new p(null,2,[Hp,oz,zt,a],null));}b=null}if(q(b))return b;a:{if(Ef(a)&&D.j(H(a),Jv)){if(3<=
K(a)&&(b=E(a),H(b),c=J(b),b=H(c),c=J(c),b=RL(b),c=DL(XL,c),q(q(b)?c:b))){b=new kM(b,c,null,null,null);break a}throw vm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new p(null,2,[Hp,oz,zt,a],null));}b=null}q(b)?a=b:Ef(a)&&2<=K(a)?(b=E(a),a=H(b),b=J(b),a=VL(a),b=DL(XL,b),a=q(q(a)?b:a)?new kM(a,b,null,null,null):null):a=null;return a}
function uM(a){var b=DL(tM,a);b=null==b?null:new nM(b,null,null,null);if(q(b))return b;a:{if(Ef(a)&&D.j(K(a),1)&&(b=H(a),Ef(b)&&D.j(K(b),2)&&D.j(mf(b),hg))){b=tM(H(b));b=null==b?null:new oM(b,null,null,null);break a}b=null}if(q(b))return b;Ef(a)&&D.j(K(a),2)&&D.j(mf(a),Ty)?(b=tM(H(a)),b=null==b?null:new pM(b,null,null,null)):b=null;if(q(b))return b;Ef(a)&&D.j(K(a),1)?(b=H(a),b=DL(tM,b),b=null==b?null:new qM(b,null,null,null)):b=null;if(q(b))return b;throw vm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new p(null,2,[Hp,oz,zt,a],null));}function vM(a,b,c,d,e){this.type=a;this.symbols=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=vM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[pq,this.type],null),new S(null,2,5,T,[Lx,this.symbols],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[pq,Lx],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-2025547471^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.type,b.type)&&D.j(this.symbols,b.symbols)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[pq,null,Lx,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new vM(this.type,this.symbols,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(pq,b):V.call(null,pq,b))?new vM(c,this.symbols,this.ea,this.ca,null):q(V.j?V.j(Lx,b):V.call(null,Lx,b))?new vM(this.type,c,this.ea,this.ca,null):new vM(this.type,this.symbols,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(pq,this.type),new Y(Lx,this.symbols)],null),this.ca))};g.sa=function(a,b){return new vM(this.type,this.symbols,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbols,FL(b,this.type,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.type):LL.call(null,b,this.type);b=this.symbols;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function wM(a,b){if(!Bf(b)&&Jh(we,b))switch(a instanceof C?a.Aa:null){case "keys":return new vM(a,ti.j(ah,b),null,null,null);case "syms":return new vM(a,sg(b),null,null,null);case "strs":return new vM(a,ti.j(t,b),null,null,null);default:return null}else return null}function xM(a){var b=TL(a);q(b)||(b=D.j(kt,a)?new OL(null,null,null):null,b=q(b)?b:WL(a));return q(b)?HL(new cM(b,null,null,null),a):hM(a)}
function yM(a){var b=DL(xM,a);if(q(b))return b;throw vm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new p(null,2,[Hp,gA,lt,a],null));}function zM(a,b,c,d,e){this.source=a;this.pattern=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=zM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[Wz,this.pattern],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[un,Wz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=575220587^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.pattern,b.pattern)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[un,null,Wz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new zM(this.source,this.pattern,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new zM(c,this.pattern,this.ea,this.ca,null):q(V.j?V.j(Wz,b):V.call(null,Wz,b))?new zM(this.source,c,this.ea,this.ca,null):new zM(this.source,this.pattern,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(un,this.source),new Y(Wz,this.pattern)],null),this.ca))};g.sa=function(a,b){return new zM(this.source,this.pattern,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.pattern,FL(b,this.source,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.pattern;return LL.j?LL.j(a,b):LL.call(null,a,b)};function AM(a,b,c,d,e){this.fn=a;this.args=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=AM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "fn":return this.fn;case "args":return this.args;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Qz,this.fn],null),new S(null,2,5,T,[Rz,this.args],null)],null),this.ca))};
g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Qz,Rz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1523376880^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Rz,null,Qz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new AM(this.fn,this.args,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Qz,b):V.call(null,Qz,b))?new AM(c,this.args,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new AM(this.fn,c,this.ea,this.ca,null):new AM(this.fn,this.args,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Qz,this.fn),new Y(Rz,this.args)],null),this.ca))};g.sa=function(a,b){return new AM(this.fn,this.args,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.args,FL(b,this.fn,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.fn):LL.call(null,b,this.fn);b=this.args;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function BM(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=BM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[Qz,this.fn],null),new S(null,2,5,T,[Rz,this.args],null),new S(null,2,5,T,[ew,this.binding],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[Qz,Rz,ew],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=589494199^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.binding,b.binding)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Rz,null,Qz,null,ew,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new BM(this.fn,this.args,this.binding,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Qz,b):V.call(null,Qz,b))?new BM(c,this.args,this.binding,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new BM(this.fn,c,this.binding,this.ea,this.ca,null):q(V.j?V.j(ew,b):V.call(null,ew,b))?new BM(this.fn,this.args,c,this.ea,this.ca,null):new BM(this.fn,this.args,this.binding,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(Qz,this.fn),new Y(Rz,this.args),new Y(ew,this.binding)],null),this.ca))};
g.sa=function(a,b){return new BM(this.fn,this.args,this.binding,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.binding,FL(b,this.args,FL(b,this.fn,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.fn):LL.call(null,b,this.fn);b=this.args;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.binding;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function CM(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=CM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[fz,this.name],null),new S(null,2,5,T,[Rz,this.args],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,fz,Rz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-444662011^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.name,b.name)&&D.j(this.args,b.args)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Rz,null,fz,null,un,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new CM(this.source,this.name,this.args,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new CM(c,this.name,this.args,this.ea,this.ca,null):q(V.j?V.j(fz,b):V.call(null,fz,b))?new CM(this.source,c,this.args,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new CM(this.source,this.name,c,this.ea,this.ca,null):new CM(this.source,this.name,this.args,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(fz,this.name),new Y(Rz,this.args)],null),this.ca))};
g.sa=function(a,b){return new CM(this.source,this.name,this.args,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.args,FL(b,this.name,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.name;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.args;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function DM(a,b,c,d,e,f){this.source=a;this.ub=b;this.Oa=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=DM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "vars":return this.ub;case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[hs,this.ub],null),new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,hs,xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1394671061^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.ub,b.ub)&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[un,null,xy,null,hs,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new DM(this.source,this.ub,this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new DM(c,this.ub,this.Oa,this.ea,this.ca,null):q(V.j?V.j(hs,b):V.call(null,hs,b))?new DM(this.source,c,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xy,b):V.call(null,xy,b))?new DM(this.source,this.ub,c,this.ea,this.ca,null):new DM(this.source,this.ub,this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(hs,this.ub),new Y(xy,this.Oa)],null),this.ca))};
g.sa=function(a,b){return new DM(this.source,this.ub,this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.Oa,FL(b,this.ub,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.ub;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.Oa;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function EM(a,b,c,d,e,f){this.source=a;this.Fc=b;this.Oa=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=EM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "rule-vars":return this.Fc;case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[xz,this.Fc],null),new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,xz,xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1461934571^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.Fc,b.Fc)&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[xz,null,un,null,xy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new EM(this.source,this.Fc,this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new EM(c,this.Fc,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xz,b):V.call(null,xz,b))?new EM(this.source,c,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xy,b):V.call(null,xy,b))?new EM(this.source,this.Fc,c,this.ea,this.ca,null):new EM(this.source,this.Fc,this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(xz,this.Fc),new Y(xy,this.Oa)],null),this.ca))};
g.sa=function(a,b){return new EM(this.source,this.Fc,this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.Oa,FL(b,this.Fc,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.Fc;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.Oa;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function FM(a,b,c,d){this.Oa=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=FM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-131856804^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[xy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new FM(this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(xy,b):V.call(null,xy,b))?new FM(c,this.ea,this.ca,null):new FM(this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(xy,this.Oa)],null),this.ca))};
g.sa=function(a,b){return new FM(this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.Oa,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.Oa):LL.call(null,b,this.Oa)};function GM(a){var b=D.j(rq,a)?new JL(null,null,null):null;if(q(b))return b;b=RL(a);return q(b)?b:UL(a)}
function HM(a){if(Ef(a)){var b=TL(H(a));return q(b)?new S(null,2,5,T,[b,J(a)],null):new S(null,2,5,T,[new NL(null,null,null),a],null)}return null}function IM(a){if(Ef(a)){var b=E(a);a=H(b);b=J(b);b=null==b?qf:b;var c=VL(a);a=q(c)?c:RL(a);b=DL(XL,b);return q(q(a)?b:a)?new S(null,2,5,T,[a,b],null):null}return null}
var LL=function LL(a,b){return b instanceof KL?pf.j(a,b):b instanceof DM?si.j(a,b.ub):b instanceof EM?(b=b.Fc,LL.j?LL.j(a,b):LL.call(null,a,b)):(null!=b?l===b.cb||(b.Md?0:Ac(zL,b)):Ac(zL,b))?BL(b,a):Ef(b)?v.ba(LL,a,b):a};function JM(a,b,c){if(Bf(a)&&Bf(b))throw vm("Join variables should not be empty",new p(null,2,[Hp,Hx,lt,c],null));}function KM(a,b){JM(null,hs.aa(a),b);return a}
function LM(a,b){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;c=B.j(c,xz);var d=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;c=B.j(d,Yz);d=B.j(d,Or);JM(c,d,b);return a}function ai(a){if(Ef(a)&&D.j(Lv,H(a))){var b=J(a);b=MM.aa?MM.aa(b):MM.call(null,b);if(q(Eh(b)))return new FM(b,null,null,null);throw vm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}return null}
function bi(a){a:{var b=HM(a);if(q(b)){var c=P(b,0,null);b=P(b,1,null);var d=E(b);b=H(d);d=J(d);if(D.j(Ax,b)){b=MM.aa?MM.aa(d):MM.call(null,d);if(q(b)){c=KM(HL(new DM(c,sg(Nk(LL(qf,b))),b,null,null,null),a),a);break a}throw vm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)){c=P(b,0,null);b=P(b,1,null);d=E(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(D.j(Wq,b)){b=DL(RL,d);d=MM.aa?MM.aa(e):MM.call(null,e);if(q(q(b)?
d:b)){c=KM(HL(new DM(c,b,d,null,null,null),a),a);break a}throw vm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),d=J(d),D.j(wr,b))){b=DL($h(),d);if(q(b)){c=LM(HL(new EM(c,new YL(null,sg(Nk(LL(qf,b))),null,null,null),b,null,null,null),a),a);break a}throw vm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new p(null,2,[Hp,Hx,
lt,a],null));}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),e=J(d),d=H(e),e=J(e),D.j(Ap,b))){b=ZL(d);d=DL($h(),e);if(q(q(b)?d:b)){c=LM(HL(new EM(c,b,d,null,null,null),a),a);break a}throw vm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}c=null}if(q(c))return c;a:{if(CL(a,1)&&(b=IM(H(a)),q(b))){c=P(b,0,null);b=P(b,1,null);c=HL(new AM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;
a:{if(CL(a,2)&&(b=P(a,0,null),c=P(a,1,null),d=IM(b),q(d))){b=P(d,0,null);d=P(d,1,null);c=hM(c);c=q(c)?HL(new BM(b,d,c,null,null,null),a):null;break a}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=E(b),d=H(b),b=J(b),d=VL(d),e=DL(GM,b),q(d))){if(Bf(b))throw vm("rule-expr requires at least one argument",new p(null,2,[Hp,Hx,lt,a],null));if(null==e)throw vm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new p(null,2,[Hp,Hx,lt,a],null));c=new CM(c,
d,e,null,null,null);break a}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=DL(GM,b),q(b))){if(Bf(b))throw vm("Pattern could not be empty",new p(null,2,[Hp,Hx,lt,a],null));c=HL(new zM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;throw vm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new p(null,2,[Hp,Hx,lt,a],null));}function MM(a){return DL(bi,a)}
function NM(a){var b=MM(a);if(q(b))return b;throw vm("Cannot parse :where clause, expected [clause+]",new p(null,2,[Hp,Hx,lt,a],null));}function OM(a,b,c,d,e){this.ub=a;this.Oa=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=OM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "vars":return this.ub;case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[hs,this.ub],null),new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[hs,xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1024755006^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ub,b.ub)&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[xy,null,hs,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new OM(this.ub,this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(hs,b):V.call(null,hs,b))?new OM(c,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xy,b):V.call(null,xy,b))?new OM(this.ub,c,this.ea,this.ca,null):new OM(this.ub,this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(hs,this.ub),new Y(xy,this.Oa)],null),this.ca))};g.sa=function(a,b){return new OM(this.ub,this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;
g.eb=function(a,b,c){return FL(b,this.Oa,FL(b,this.ub,c))};g.fb=function(a,b){return LL(LL(b,this.ub),this.Oa)};function PM(a,b,c,d,e){this.name=a;this.branches=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=PM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "name":return this.name;case "branches":return this.branches;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[fz,this.name],null),new S(null,2,5,T,[Ms,this.branches],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[fz,Ms],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-900273052^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.name,b.name)&&D.j(this.branches,b.branches)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[fz,null,Ms,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new PM(this.name,this.branches,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(fz,b):V.call(null,fz,b))?new PM(c,this.branches,this.ea,this.ca,null):q(V.j?V.j(Ms,b):V.call(null,Ms,b))?new PM(this.name,c,this.ea,this.ca,null):new PM(this.name,this.branches,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(fz,this.name),new Y(Ms,this.branches)],null),this.ca))};g.sa=function(a,b){return new PM(this.name,this.branches,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.branches,FL(b,this.name,c))};g.fb=function(a,b){return LL(LL(b,this.name),this.branches)};
function QM(a){if(Ef(a)){var b=E(a),c=H(b),d=J(b);if(Ef(c)){b=E(c);var e=H(b);c=J(b);b=function(){var h=VL(e);if(q(h))return h;throw vm("Cannot parse rule name, expected plain-symbol",new p(null,2,[Hp,Zw,lt,a],null));}();c=ZL(c);var f=function(){var h=Eh(MM(d));if(q(h))return h;throw vm("Rule branch should have clauses",new p(null,2,[Hp,Zw,lt,a],null));}();return new p(null,3,[fz,b,hs,c,xy,f],null)}throw vm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",xl.da(M([c]))].join(""),new p(null,
2,[Hp,Zw,lt,a],null));}throw vm("Cannot parse rule, expected [rule-head clause+]",new p(null,2,[Hp,Zw,lt,a],null));}
function RM(a,b){var c=hs.aa(H(b)),d=aM(c);b=E(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.La(null,h);k=hs.aa(k);if(Dh.j(d,aM(k)))throw vm(["Arity mismatch for rule '",xl.da(M([Lw.aa(a)])),"': ",xl.da(M([$L(c)]))," vs. ",xl.da(M([$L(k)]))].join(""),new p(null,2,[Hp,Zw,dp,a],null));h+=1}else if(b=E(b)){if(If(b))f=ae(b),b=be(b),e=f,f=K(f);else{k=H(b);e=hs.aa(k);if(Dh.j(d,aM(e)))throw vm(["Arity mismatch for rule '",xl.da(M([Lw.aa(a)])),"': ",xl.da(M([$L(c)]))," vs. ",xl.da(M([$L(e)]))].join(""),
new p(null,2,[Hp,Zw,dp,a],null));b=J(b);e=null;f=0}h=0}else break}
function SM(a){sg(function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){var f=e;if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);A=ti.j(function(){return function(F){return new OM(hs.aa(F),xy.aa(F),null,null,null)}}(w,A,G,I,h,k,m,f,e),I);I=m;RM(G,A);I.add(new PM(G,A,null,null,null));w+=1}else return!0}()?ih(kh(m),d(be(f))):ih(kh(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);n=ti.j(function(){return function(w){return new OM(hs.aa(w),
xy.aa(w),null,null,null)}}(n,r,u,f,e),u);RM(r,n);return hf(new PM(r,n,null,null,null),d(Fe(f)))}return null}},null,null)}(bm(fz,DL(QM,a)))}())}function TM(a,b,c,d,e,f,h,k){this.uc=a;this.yc=b;this.wc=c;this.vc=d;this.xc=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=TM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "qfind":return this.uc;case "qwith":return this.yc;case "qreturn-map":return this.wc;case "qin":return this.vc;case "qwhere":return this.xc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[Sq,this.uc],null),new S(null,2,5,T,[Uz,this.yc],null),new S(null,2,5,T,[sw,this.wc],null),new S(null,2,5,T,[by,this.vc],null),new S(null,2,5,T,[vy,this.xc],null)],null),this.ca))};g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[Sq,Uz,sw,by,vy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=181307977^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.uc,b.uc)&&D.j(this.yc,b.yc)&&D.j(this.wc,b.wc)&&D.j(this.vc,b.vc)&&D.j(this.xc,b.xc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[Sq,null,vy,null,by,null,Uz,null,sw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new TM(this.uc,this.yc,this.wc,this.vc,this.xc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Sq,b):V.call(null,Sq,b))?new TM(c,this.yc,this.wc,this.vc,this.xc,this.ea,this.ca,null):q(V.j?V.j(Uz,b):V.call(null,Uz,b))?new TM(this.uc,c,this.wc,this.vc,this.xc,this.ea,this.ca,null):q(V.j?V.j(sw,b):V.call(null,sw,b))?new TM(this.uc,this.yc,c,this.vc,this.xc,this.ea,this.ca,null):q(V.j?V.j(by,b):V.call(null,by,b))?new TM(this.uc,this.yc,this.wc,c,this.xc,this.ea,this.ca,null):q(V.j?V.j(vy,b):V.call(null,vy,b))?new TM(this.uc,this.yc,this.wc,this.vc,c,this.ea,
this.ca,null):new TM(this.uc,this.yc,this.wc,this.vc,this.xc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(Sq,this.uc),new Y(Uz,this.yc),new Y(sw,this.wc),new Y(by,this.vc),new Y(vy,this.xc)],null),this.ca))};g.sa=function(a,b){return new TM(this.uc,this.yc,this.wc,this.vc,this.xc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;
g.eb=function(a,b,c){return FL(b,this.xc,FL(b,this.vc,FL(b,this.wc,FL(b,this.yc,FL(b,this.uc,c)))))};g.fb=function(a,b){return LL(LL(LL(LL(LL(b,this.uc),this.yc),this.wc),this.vc),this.xc)};function UM(a){var b=R.da(a,Sq,M([Uz,sw,by,vy]));b=Gf(a)?si.j(X,b):b;return new TM(Sq.aa(a),Uz.aa(a),sw.aa(a),by.aa(a),vy.aa(a),null,Eh(b),null)}function VM(a){for(var b=X,c=null;;){var d=H(a);if(q(d))d instanceof C?(c=d,a=J(a)):(b=zi.ja(b,new S(null,1,5,T,[c],null),Qh(pf,qf),d),a=J(a));else return b}}
function WM(a){var b=un.aa(a);return a instanceof zM?b:null!=b?b instanceof NL?null:b:null}
function XM(a,b,c){var d=Mk(LL(qf,Sq.aa(a))),e=Mk(Uz.aa(a)),f=Mk(LL(qf,by.aa(a))),h=Mk(LL(qf,vy.aa(a)));f=KH.j(IH(d,e),IH(h,f));d=JH.j(d,e);if(!Bf(f))throw vm(["Query for unknown vars: ",xl.da(M([ti.j(Lw,f)]))].join(""),new p(null,3,[Hp,Xx,hs,f,lt,b],null));if(!Bf(d))throw vm([":find and :with should not use same variables: ",xl.da(M([ti.j(Lw,d)]))].join(""),new p(null,3,[Hp,Xx,hs,d,lt,b],null));d=sw.aa(a);if(null!=d){if(Sq.aa(a)instanceof pM)throw vm([xl.da(M([pq.aa(d)]))," does not work with single-scalar :find"].join(""),
new p(null,2,[Hp,Xx,lt,b],null));if(Sq.aa(a)instanceof oM)throw vm([xl.da(M([pq.aa(d)]))," does not work with collection :find"].join(""),new p(null,2,[Hp,Xx,lt,b],null));}d=Lx.aa(sw.aa(a));if(null!=d&&(e=mM(Sq.aa(a)),!D.j(K(d),K(e))))throw vm(["Count of ",xl.da(M([pq.aa(sw.aa(a))]))," must match count of :find"].join(""),new p(null,4,[Hp,Xx,Ao,hf(pq.aa(sw.aa(a)),d),ag,e,lt,b],null));if(1<K(qi(zc,new S(null,3,5,T,[Qq.aa(c),gz.aa(c),Gn.aa(c)],null))))throw vm("Only one of :keys/:syms/:strs must be present",
new p(null,2,[Hp,Xx,lt,b],null));var k=LL(qf,by.aa(a)),m=EL(function(r){return r instanceof ML},by.aa(a)),n=EL(function(r){return r instanceof OL},by.aa(a));if(!q(function(){var r=GL(k);return q(r)?(r=GL(m),q(r)?GL(n):r):r}()))throw vm("Vars used in :in should be distinct",new p(null,2,[Hp,Xx,lt,b],null));c=LL(qf,Uz.aa(a));if(!q(GL(c)))throw vm("Vars used in :with should be distinct",new p(null,2,[Hp,Xx,lt,b],null));c=FL(function(r){return r instanceof ML},by.aa(a),Lk);d=FL(function(r){return r instanceof
ML},vy.aa(a),Lk);c=KH.j(d,c);if(!Bf(c))throw vm(["Where uses unknown source vars: ",xl.da(M([ti.j(Lw,c)]))].join(""),new p(null,3,[Hp,Xx,hs,c,lt,b],null));c=EL(function(r){return r instanceof CM},vy.aa(a));a=EL(function(r){return r instanceof OL},by.aa(a));if(!Bf(c)&&Bf(a))throw vm("Missing rules var '%' in :in",new p(null,2,[Hp,Xx,lt,b],null));}
function YM(a){if(Ff(a))var b=a;else if(Ef(a))b=VM(a);else throw vm("Query should be a vector or a map",new p(null,2,[Hp,Xx,lt,a],null));var c=b,d=NM(kg.j(c,qf));b=UM(new p(null,5,[Sq,uM(ag.aa(c)),Uz,function(){var e=OA.aa(c);if(q(e)){var f=DL(RL,e);if(q(f))e=f;else throw vm("Cannot parse :with clause, expected [ variable+ ]",new p(null,2,[Hp,Pt,lt,e],null));}else e=null;return e}(),sw,function(){var e=wM(Qq,Qq.aa(c));if(q(e))return e;e=wM(gz,gz.aa(c));return q(e)?e:wM(Gn,Gn.aa(c))}(),by,yM(function(){var e=
ig.aa(c);return q(e)?e:Bf(EL(WM,d))?qf:new S(null,1,5,T,[jg],null)}()),vy,d],null));XM(b,a,c);return b};function ZM(a,b,c,d,e,f){this.md=a;this.sources=b;this.rules=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=ZM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "rels":return this.md;case "sources":return this.sources;case "rules":return this.rules;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[$v,this.md],null),new S(null,2,5,T,[Tw,this.sources],null),new S(null,2,5,T,[Zv,this.rules],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[$v,Tw,Zv],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1014232958^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.md,b.md)&&D.j(this.sources,b.sources)&&D.j(this.rules,b.rules)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Tw,null,Zv,null,$v,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new ZM(this.md,this.sources,this.rules,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j($v,b):V.call(null,$v,b))?new ZM(c,this.sources,this.rules,this.ea,this.ca,null):q(V.j?V.j(Tw,b):V.call(null,Tw,b))?new ZM(this.md,c,this.rules,this.ea,this.ca,null):q(V.j?V.j(Zv,b):V.call(null,Zv,b))?new ZM(this.md,this.sources,c,this.ea,this.ca,null):new ZM(this.md,this.sources,this.rules,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y($v,this.md),new Y(Tw,this.sources),new Y(Zv,this.rules)],null),this.ca))};
g.sa=function(a,b){return new ZM(this.md,this.sources,this.rules,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function $M(a,b,c,d,e){this.Hb=a;this.Fd=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=$M.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attrs":return this.Hb;case "tuples":return this.Fd;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Kt,this.Hb],null),new S(null,2,5,T,[fu,this.Fd],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Kt,fu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1107093117^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Hb,b.Hb)&&D.j(this.Fd,b.Fd)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[fu,null,Kt,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new $M(this.Hb,this.Fd,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Kt,b):V.call(null,Kt,b))?new $M(c,this.Fd,this.ea,this.ca,null):q(V.j?V.j(fu,b):V.call(null,fu,b))?new $M(this.Hb,c,this.ea,this.ca,null):new $M(this.Hb,this.Fd,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Kt,this.Hb),new Y(fu,this.Fd)],null),this.ca))};g.sa=function(a,b){return new $M(this.Hb,this.Fd,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function aN(a,b){return JH.j(Mk(xj(a)),Mk(xj(b)))}function bN(a,b){return D.j(K(a),K(b))&&Jh(function(c){return Pf(b,c)},xj(a))&&Jh(function(c){return Pf(b,c)},xj(a))}
var cN=function cN(a,b){return D.j(rq,a)?!0:D.j(new S(null,1,5,T,[gg],null),a)?Ef(b):a instanceof z?D.j(b,a):Ef(a)?D.j(of(a),gg)?Ef(b)&&Jh(function(d){var e=P(d,0,null);d=P(d,1,null);return cN.j?cN.j(e,d):cN.call(null,e,d)},ci.ba(Zi,Ok(a),b)):Ef(b)&&D.j(K(b),K(a))&&Jh(function(d){var e=P(d,0,null);d=P(d,1,null);return cN.j?cN.j(e,d):cN.call(null,e,d)},ci.ba(Zi,a,b)):a.aa?a.aa(b):a.call(null,b)};function dN(a){return a instanceof z&&D.j("$",H(bh(a)))}
function eN(a){return a instanceof z&&D.j("?",H(bh(a)))}function fN(a){return a instanceof C||"string"===typeof a}function gN(a){return cN(new S(null,2,5,T,[fN,rq],null),a)}function hN(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var iN=function iN(a,b){var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,Kt);d=B.j(d,fu);var f=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,h=B.j(f,Kt);f=B.j(f,fu);if(D.j(e,h))return new $M(e,si.j(sg(d),f),null,null,null);if(bN(e,h)){if(Jh(xc,yj(e))){var k=sg(function(){return function w(u){return new ch(null,function(){for(;;){var A=E(u);if(A){if(If(A)){var G=ae(A),I=K(G),F=gh(I);a:for(var N=0;;)if(N<I){var O=x(G,N),U=P(O,0,null);O=P(O,1,null);U=new S(null,2,5,T,[O,e.aa?e.aa(U):e.call(null,U)],null);
F.add(U);N+=1}else{G=!0;break a}return G?ih(kh(F),w(be(A))):ih(kh(F),null)}G=H(A);F=P(G,0,null);G=P(G,1,null);return hf(new S(null,2,5,T,[G,e.aa?e.aa(F):e.call(null,F)],null),w(Fe(A)))}return null}},null,null)}(h)}()),m=v.j(Ig,yj(e))+1;b=Vd(v.ba(function(r,u){for(var w=Array(m),A=E(k),G=null,I=0,F=0;;)if(F<I){var N=G.La(null,F),O=P(N,0,null);N=P(N,1,null);w[N]=u[O];F+=1}else if(A=E(A))If(A)?(I=ae(A),A=be(A),G=I,I=K(I)):(I=H(A),G=P(I,0,null),I=P(I,1,null),w[I]=u[G],A=J(A),G=null,I=0),F=0;else break;
return qh.j(r,w)},Td(sg(d)),f));return new $M(e,b,null,null,null)}var n=Pk(xj(Ek.da(M([e,h]))),Yk.ia());d=function(){var r=new $M(n,qf,null,null,null);return iN.j?iN.j(r,a):iN.call(null,r,a)}();return iN.j?iN.j(d,b):iN.call(null,d,b)}throw vm(["Cant sum relations with different attrs: ",xl.da(M([e]))," and ",xl.da(M([h]))].join(""),new p(null,1,[Hp,Mr],null));},jN=function jN(a){switch(arguments.length){case 0:return jN.ia();case 2:return jN.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
t.aa(arguments.length)].join(""));}};jN.ia=function(){return new $M(X,new S(null,1,5,T,[[]],null),null,null,null)};jN.j=function(a,b){var c=xj(Kt.aa(a)),d=xj(Kt.aa(b)),e=Wf(ci.j(Kt.aa(a),c)),f=Wf(ci.j(Kt.aa(b),d));return new $M(Pk(W.j(c,d),Yk.ia()),Vd(v.ba(function(h,k){return v.ba(function(m,n){return qh.j(m,hN(k,e,n,f))},h,fu.aa(b))},Td(qf),fu.aa(a))),null,null,null)};jN.na=2;
var kN=function kN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return kN.da(c)};kN.da=function(a){var b=K(a);return Dh.j(di.j(b/2,a),ei(b/2,a))};kN.na=0;kN.qa=function(a){return this.da(E(a))};var lN=function lN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new De(c.slice(2),0,null):null;return lN.da(arguments[0],arguments[1],c)};
lN.da=function(a,b,c){return v.ba(function(d,e){d=H(lJ(a,new S(null,2,5,T,[b,e],null)));return null==d?null:Qe(new S(null,2,5,T,[xw.aa(d),Dw.aa(d)],null))},null,c)};lN.na=2;lN.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};var mN=function mN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return mN.da(c)};mN.da=function(a){return v.ba(function(b,c){return q(c)?c:Qe(c)},!0,a)};mN.na=0;mN.qa=function(a){return this.da(E(a))};
var nN=function nN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return nN.da(c)};nN.da=function(a){return v.ba(function(b,c){return q(c)?Qe(c):c},null,a)};nN.na=0;nN.qa=function(a){return this.da(E(a))};
var oN=gk([EA,Lv,vs,jx,pr,Vv,lv,Fq,cw,tr,Wx,wz,Qo,mr,oB,Ax,kn,tx,Ku,dq,Sr,Aw,xv,Fp,GA,ls,mg,Ky,AA,Ln,yo,jw,Co,vt,ln,yy,gg,xp,er,Xv,As,Rm,Zu,Os,xA,yB,qt,Po,dy,jA,Hs,Fs,Ep,ip,Qs,zy,jo,DA,dn,up,ay,op,Sv,aB,Fz,iy,Sx,wt,Av,wr,Kn,$s,wu],[function(a){return!0===a},mN,function(a){return!Lh(a)},function(a,b,c,d){if(null==d)throw vm("get-else: nil default value is not supported",new p(null,1,[Hp,Mr],null));a=H(lJ(a,new S(null,2,5,T,[b,c],null)));return null==a?d:Dw.aa(a)},Hg,zl,Gg,K,lN,vc,wg,Oe,Dg,Ng,function(a){return!1===
a},yc,wg,kN,Zi,hl,Fg,function(a,b){return 0==a.lastIndexOf(b,0)},D,Jg,Ag,bh,function(a,b,c){return null==B.j(lL(a,b),c)},wg,am,Mh,Rg,zk,Sf,Yk,Ig,Bf,Cg,xl,Al,yf,function(a){return 0===a},Dh,yl,function(a){return a-1},il,Zi,Dh,t,Eg,Zg,ah,Bg,zc,function(a){return 0<a},Yl,el,bg,Pf,function(a,b){return ub(a,b)},Sg,Mg,function(a,b){return-1!=a.indexOf(b)},Ak,Pg,Lh,Bc,function(a){return 0>a},VB,Eh,nN,function(a,b){return a===b},Mk,fl]),pN=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new ch(null,
function(){for(;;){var m=E(h);if(m){if(If(m)){var n=ae(m),r=K(n),u=gh(r);a:for(var w=0;;)if(w<r){var A=x(n,w)-e;u.add(A*A);w+=1}else{n=!0;break a}return n?ih(kh(u),k(be(m))):ih(kh(u),null)}u=H(m)-e;return hf(u*u,k(Fe(m)))}return null}},null,null)}(d)}())/K(d)}function b(d){return c(d)/K(d)}function c(d){return v.ba(Ag,0,d)}return gk([oq,Fq,Bn,Dp,Fp,ln,Lu,ix,yx,Ro,Qs,$y],[a,K,function(d){var e=Vf(Sf,d);d=K(d);var f=d>>1,h=bf(e,f);return Lh(d)?(h+bf(e,f-1))/2:h},c,function(){function d(h,k){return sg(v.ba(function(m,
n){return K(m)<h?Vf(Sf,pf.j(m,n)):0>Sf(n,of(m))?Vf(Sf,pf.j(Ok(m),n)):m},qf,k))}function e(h){return v.ba(function(k,m){return 0>Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.aa=e;f.j=d;return f}(),function(){function d(h,k){return sg(v.ba(function(m,n){return K(m)<h?Vf(Sf,pf.j(m,n)):0<Sf(n,H(m))?Vf(Sf,pf.j(J(m),n)):m},qf,k))}function e(h){return v.ba(function(k,
m){return 0<Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.aa=e;f.j=d;return f}(),function(d){return K(Nk(d))},Mk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return sg(li(f,function(){return bf(h,am(K(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return bf(f,am(K(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.aa=function(f){return bf(f,am(K(f)))};e.j=d;return e}(),function(d,e){return sg(di.j(d,rg(e)))}])}();function qN(a){a="string"===typeof a?zH(new p(null,3,[Pm,y(GH),qm,y(FH),sx,null],null),a):a;SM(a);return bm(nf,a)}function rN(a){a=ci.j(Lw,sg(Nk(LL(qf,a))));return new $M(Pk(a,Yk.ia()),qf,null,null,null)}
function sN(a,b){if(null!=a&&null!=a.Je)a=a.Je(a,b);else{var c=sN[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=sN._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IBinding.in-\x3erel",a);}return a}bM.prototype.Je=function(){return jN.ia()};cM.prototype.Je=function(a,b){return new $M(uf([wi(this,new S(null,2,5,T,[cu,Lw],null)),0]),new S(null,1,5,T,[Ic(new S(null,1,5,T,[b],null))],null),null,null,null)};
eM.prototype.Je=function(a,b){var c=this;if(KI(b))return Bf(b)?rN(c):v.j(iN,ci.j(function(d){return sN(c.binding,d)},b));throw vm(["Cannot bind value ",xl.da(M([b]))," to collection ",xl.da(M([IL(c)]))].join(""),new p(null,3,[Hp,Tp,Rw,b,ew,IL(c)],null));};
dM.prototype.Je=function(a,b){if(KI(b)){if(K(b)<K(this.bindings))throw vm(["Not enough elements in a collection ",xl.da(M([b]))," to bind tuple ",xl.da(M([IL(this)]))].join(""),new p(null,3,[Hp,Tp,Rw,b,ew,IL(this)],null));return v.j(jN,ci.ba(function(c,d){return sN(c,d)},this.bindings,b))}throw vm(["Cannot bind value ",xl.da(M([b]))," to tuple ",xl.da(M([IL(this)]))].join(""),new p(null,3,[Hp,Tp,Rw,b,ew,IL(this)],null));};
function tN(a,b){var c=P(b,0,null);b=P(b,1,null);return c instanceof cM&&c.kb instanceof ML?Ai.za(a,Tw,Q,wi(c,new S(null,2,5,T,[cu,Lw],null)),b):c instanceof cM&&c.kb instanceof OL?Q.ba(a,Zv,qN(b)):Ai.ja(a,$v,pf,sN(c,b))}
function uN(a,b,c){var d=K(b),e=K(c);if(d<e)throw vm(["Extra inputs passed, expected: ",xl.da(M([ti.j(function(f){return un.aa(yf(f))},b)])),", got: ",xl.da(M([e]))].join(""),new p(null,3,[Hp,jp,zm,b,Mw,c],null));if(d>e)throw vm(["Too few inputs passed, expected: ",xl.da(M([ti.j(function(f){return un.aa(yf(f))},b)])),", got: ",xl.da(M([e]))].join(""),new p(null,3,[Hp,jp,zm,b,Mw,c],null));return v.ba(tN,a,Pk(b,c))}var vN=null,wN=null;
function xN(a,b){var c=a.aa?a.aa(b):a.call(null,b);return Pf(vN,b)?function(d){d=d[c];return"number"===typeof d?d:Ef(d)?OJ(wN,d):PH(d)?OJ(wN,d):d}:function(d){return d[c]}}function yN(a){if(1===K(a))return H(a);var b=Wf(a);return function(c){return E(b.map(function(d){return d.aa?d.aa(c):d.call(null,c)}))}}function zN(a,b){for(var c=Td(X);;){var d=H(b);if(null==d)return Vd(c);var e=a.aa?a.aa(d):a.call(null,d);b=J(b);c=rh.ba(c,e,pf.j(B.ba(c,e,Ge),d))}}
function AN(a,b){var c=fu.aa(a),d=fu.aa(b),e=Kt.aa(a),f=Kt.aa(b);a=sg(aN(Kt.aa(a),Kt.aa(b)));var h=ci.j(function(w){return xN(e,w)},a),k=ci.j(function(w){return xN(f,w)},a);a=xj(e);b=sg(KH.j(Mk(xj(f)),Mk(xj(e))));var m=Wf(ci.j(e,a)),n=Wf(ci.j(f,b));h=yN(h);var r=zN(h,c),u=yN(k);c=Vd(v.ba(function(w,A){var G=u.aa?u.aa(A):u.call(null,A);G=B.j(r,G);return null==G?w:v.ba(function(I,F){return qh.j(I,hN(F,m,A,n))},w,G)},Td(qf),d));return new $M(Pk(W.j(a,b),Yk.ia()),c,null,null,null)}
function BN(a,b){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,Kt);c=B.j(c,fu);b=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;var e=B.j(b,Kt);b=B.j(b,fu);var f=aN(d,e),h=ci.j(function(n){return xN(e,n)},f);h=yN(h);var k=zN(h,b);b=ci.j(function(n){return xN(d,n)},f);var m=yN(b);return Q.ba(a,fu,ui(function(n){n=m.aa?m.aa(n):m.call(null,n);return null==(k.aa?k.aa(n):k.call(null,n))},c))}
function CN(a,b){var c=ti.j(function(d){return d instanceof z?null:d},b);a=lJ(a,c);b=si.j(X,qi(function(d){var e=P(d,0,null);P(d,1,null);return eN(e)},ci.ba(Zi,b,new S(null,4,5,T,["e","a","v","tx"],null))));return new $M(b,a,null,null,null)}
function DN(a,b){a=qi(function(d){a:for(var e=b;;){var f=d;if(q(q(f)?e:f)){f=H(d);var h=H(e);if(h instanceof z||D.j(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=si.j(X,qi(function(d){var e=P(d,0,null);P(d,1,null);return eN(e)},ci.ba(Zi,b,Yk.ia())));return new $M(c,ti.j(Wf,a),null,null,null)}function EN(a,b){return(null!=a?l===a.Jh||(a.Md?0:Ac(kJ,a)):Ac(kJ,a))?CN(a,b):DN(a,b)}
function FN(a,b){for(var c=qf;;){var d=H(a);if(null==d)return pf.j(c,b);q(Eh(aN(Kt.aa(b),Kt.aa(d))))?(a=J(a),b=AN(d,b)):(a=J(a),c=pf.j(c,d))}}function GN(a,b){return Kh(function(c){return Pf(Kt.aa(c),b)?c:null},$v.aa(a))}function HN(a,b){var c=GN(a,b);if(null==c)return null;a=H(fu.aa(c));null==a?b=null:(c=Kt.aa(c),b=c.aa?c.aa(b):c.call(null,b),b=a[b]);return b}function IN(a,b){return Kh(function(c){return Pf(Kt.aa(a),c)},b)}
function JN(a,b){var c=qi(function(e){return IN(e,b)},$v.aa(a)),d=v.j(jN,c);return new S(null,2,5,T,[Ai.ba(a,$v,function(e){return ri(Mk(c),e)}),d],null)}
function KN(a,b,c,d){a=Tw.aa(a);b=Kt.aa(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=bf(d,k);if(m instanceof z){var n=B.j(a,m);null==n?h[k]=B.j(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Zi?function(r){for(var u=f.slice(0),w=0;;)if(w<e){var A=h[w];null!=A&&(u[w]=r[A]);w+=1}else break;return yh(c,u)}:function(r){for(var u=0;;)if(u<e){var w=h[u];null!=w&&(f[u]=r[w]);u+=1}else break;return yh(c,f)}}
function LN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c),f=function(){var m=B.j(oN,d);if(q(m))return m;m=HN(a,d);if(q(m))return m;if(q(null))return null;if(null==GN(a,d))throw vm(["Unknown predicate '",xl.da(M([d]))," in ",xl.da(M([b]))].join(""),new p(null,3,[Hp,Mr,lt,b,qu,d],null));return null}();c=JN(a,qi(we,e));var h=P(c,0,null),k=P(c,1,null);c=q(f)?function(){var m=KN(h,k,f,e);return Ai.ba(k,fu,function(n){return qi(m,n)})}():Q.ba(k,fu,qf);return Ai.ja(h,$v,pf,c)}
function MN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c);c=P(b,1,null);var f=hM(c),h=function(){var n=B.j(oN,d);if(q(n))return n;n=HN(a,d);if(q(n))return n;if(q(null))return null;if(null==GN(a,d))throw vm(["Unknown function '",xl.da(M([d]))," in ",xl.da(M([b]))].join(""),new p(null,3,[Hp,Mr,lt,b,qu,d],null));return null}();c=JN(a,qi(we,e));var k=P(c,0,null),m=P(c,1,null);c=q(h)?function(){var n=KN(k,m,h,e),r=function(){return function A(w){return new ch(null,function(){for(var G=w;;)if(G=E(G)){if(If(G)){var I=
ae(G),F=K(I),N=gh(F);a:for(var O=0;;)if(O<F){var U=x(I,O),ea=n(U);null!=ea&&(U=jN.j(new $M(Kt.aa(m),new S(null,1,5,T,[U],null),null,null,null),sN(f,ea)),N.add(U));O+=1}else{I=!0;break a}return I?ih(kh(N),A(be(G))):ih(kh(N),null)}N=H(G);I=n(N);if(null!=I)return hf(jN.j(new $M(Kt.aa(m),new S(null,1,5,T,[N],null),null,null,null),sN(f,I)),A(Fe(G)));G=Fe(G)}else return null},null,null)}(fu.aa(m))}();return Bf(r)?jN.j(m,rN(f)):v.j(iN,r)}():jN.j(Q.ba(m,fu,qf),rN(f));return Ai.ja(k,$v,FN,c)}
function NN(a,b){if(Ef(b)){var c=dN(H(b))?mf(b):H(b);if(c instanceof z){if(eN(c)||Pf(new Jk(null,new p(null,6,[Lv,null,Ax,null,Wq,null,Ap,null,wr,null,rq,null],null),null),c))return!1;if(Pf(Zv.aa(a),c))return!0;throw vm(["Unknown rule '",xl.da(M([c]))," in ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Mr,lt,b],null));}}return!1}var ON=Uh(0);
function PN(a,b){var c=E(a),d=H(c),e=J(c),f=Wh.j(ON,Oe),h=B.j(Zv.aa(b),d);return function n(m){return new ch(null,function(){for(;;){var r=E(m);if(r){var u=r;if(If(u)){var w=ae(u),A=K(w),G=gh(A);return function(){for(var ua=0;;)if(ua<A){var Ba=x(w,ua),Ua=Ba,ac=E(Ua),yb=H(ac),ec=J(ac),Xb=yb,Qd=E(Xb),Zf=H(Qd),zf=J(Qd),Og=Zf,Zc=zf,Ad=ec,te=Pk(Zc,e);jh(G,KB(function($f,Bd,ue,Cd,cq,Jq,oo,Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq,oj,Oq,Pq,ro,Qt,Zl,pj,Bk,Rt,$l){return function(Yg){if(eN(Yg)){var Gy=qo.aa?qo.aa(Yg):qo.call(null,
Yg);return null==Gy?ze.aa([bh(Yg),"__auto__",t.aa($l)].join("")):Gy}return Yg}}(ua,Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,Ba,w,A,G,u,r,a,c,d,e,d,e,f,h),Ad));ua+=1}else return!0}()?ih(kh(G),n(be(u))):ih(kh(G),null)}var I=H(u),F=I,N=E(F),O=H(N),U=J(N),ea=O,va=E(ea),wa=H(va),xa=J(va),Ra=wa,ka=xa,oa=U,Ca=Pk(ka,e);return hf(KB(function(ua,Ba,Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq,Jq,oo,Kq){return function(nj){if(eN(nj)){var po=Zc.aa?Zc.aa(nj):Zc.call(null,nj);return null==po?ze.aa([bh(nj),"__auto__",
t.aa(Kq)].join("")):po}return nj}}(F,N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,I,u,r,a,c,d,e,d,e,f,h),oa),n(Fe(u)))}return null}},null,null)}(h)}function QN(a,b){a=ri(function(c){var d=P(c,0,null);c=P(c,1,null);return D.j(d,c)},ci.ba(Zi,a,b));return new S(null,2,5,T,[ci.j(H,a),ci.j(mf,a)],null)}
function RN(a,b){a=E(a);var c=H(a),d=J(a);return function h(f){return new ch(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=QN(d,w);w=P(A,0,null);A=P(A,1,null);w=new S(null,1,5,T,[W.da(new S(null,1,5,T,[tx],null),w,M([A]))],null);r.add(w);u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}r=H(k);m=QN(d,r);r=P(m,0,null);m=P(m,1,null);return hf(new S(null,1,5,T,[W.da(new S(null,1,5,T,[tx],null),r,M([m]))],null),h(Fe(k)))}return null}},
null,null)}(B.j(b,c))}function SN(a){var b=Uh(qf);KB(function(c){q(eN.aa?eN.aa(c):eN.call(null,c))&&Wh.ba(b,pf,c);return c},a);return y(b)}function TN(a,b){function c(e){e=P(e,0,null);e=E(e);H(e);e=J(e);return Jh(d,e)}var d=Mk(SN(a));return new S(null,2,5,T,[qi(c,b),ri(c,b)],null)}
function UN(a,b){function c(ec){return Kh(function(Xb){return Bf(fu.aa(Xb))},$v.aa(ec))}function d(ec,Xb){return v.ba(VN,ec,Xb)}for(var e=qi(eN,b),f=Pk(e,Yk.ia()),h=new rf(null,new p(null,5,[Yo,qf,Jz,a,xy,new S(null,1,5,T,[b],null),Jx,X,oy,X],null),null,1,null),k=new $M(f,qf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,r=$k(function(){return function(ec){return!NN(a,ec)}}(h,k,n,m,e,f,d,c),xy.aa(n)),u=P(r,0,null),w=P(r,1,null),A=E(w),G=H(A),I=J(A),F=G,N=I;if(null==F){b=d(Jz.aa(n),u);b=
WN?WN(b,e):XN.call(null,b,e);var O=new $M(f,b,null,null,null);b=J(h);O=iN(k,O);h=b;k=O}else{var U=F,ea=E(U),va=H(ea),wa=J(ea),xa=va,Ra=wa,ka=RN(F,Jx.aa(n)),oa=TN(W.j(Yo.aa(n),u),W.j(ka,oy.aa(n))),Ca=P(oa,0,null),ua=P(oa,1,null);if(q(Kh(function(){return function(ec){return D.j(ec,new S(null,1,5,T,[bg(tx)],null))}}(h,k,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c),Ca)))b=J(h),O=k,h=b,k=O;else{var Ba=W.j(u,Ca),Ua=d(Jz.aa(n),Ba);if(q(c(Ua)))b=J(h),O=k,h=b,k=O;else{var ac=Q.ba(Jx.aa(n),xa,
pf.j(B.ba(Jx.aa(n),xa,qf),Ra)),yb=PN(F,a);b=W.j(function(){return function(ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq,Jq,oo,Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq,oj,Oq,Pq,ro,Qt){return function Bk(pj){return new ch(null,function(Rt,$l,Yg,Gy,NG,OG,mV,nV,oV,pV,qV,rV,sV,tV,uV,PG,vV,wV,xV,yV,zV,AV,BV,QG){return function(){for(;;){var so=E(pj);if(so){if(If(so)){var Tt=ae(so),RG=K(Tt),Rq=gh(RG);a:for(var Hy=0;;)if(Hy<RG){var Iy=x(Tt,Hy);Iy=new p(null,5,[Yo,NG,Jz,OG,xy,si.ba(qf,Nl,M([Iy,QG])),Jx,Yg,oy,PG],null);Rq.add(Iy);
Hy+=1}else{Tt=!0;break a}return Tt?ih(kh(Rq),Bk(be(so))):ih(kh(Rq),null)}Rq=H(so);return hf(new p(null,5,[Yo,NG,Jz,OG,xy,si.ba(qf,Nl,M([Rq,QG])),Jx,Yg,oy,PG],null),Bk(Fe(so)))}return null}}}(ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq,Jq,oo,Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq,oj,Oq,Pq,ro,Qt),null,null)}}(h,k,ac,yb,Ba,Ua,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c)(yb)}(),J(h));O=k;h=b;k=O}}}}}
function YN(a,b){if(null!=a?l===a.Hg||(a.Md?0:Ac(oJ,a)):Ac(oJ,a)){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null),f=P(b,3,null);return dj(new S(null,4,5,T,[q(function(){var h=gN(c);return q(h)?h:fN(c)}())?LJ(a,c):c,d,q(function(){if(q(e)){if(fN(d)&&KJ(a,d)){var h=gN(e);return q(h)?h:fN(e)}return!1}return e}())?LJ(a,e):e,q(gN(f))?LJ(a,f):f],null),0,K(b))}return b}
function ZN(a,b){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null);b=P(b,3,null);c=eN(c)?pf.j(Lk,c):Lk;c=eN(b)?pf.j(c,b):c;return eN(e)&&!eN(d)&&KJ(a,d)?pf.j(c,e):c}function $N(a,b){return Q.ba(a,$v,Sh(function(c){var d=Eh(Gk(Kt.aa(c),b));return null==d?null:Q.ba(c,Kt,d)},$v.aa(a)))}function aO(a){return si.j(Lk,oi(function(b){return xj(Kt.aa(b))},M([$v.aa(a)])))}
function bO(a,b,c){if(MH(b,a))return null;a=KH.j(Mk(b),a);throw vm(["Insufficient bindings: ",xl.da(M([a]))," not bound in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,a],null));}function cO(a,b,c){b=ti.j(function(d){return KH.j(Mk(SN(d)),a)},b);if(q(yh(D,b)))return null;throw vm(["All clauses in 'or' must use same set of free vars, had ",xl.da(M([b]))," in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,b],null));}
function dO(a,b,c){for(var d=Mk(ri(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.La(null,k);var m=Eh(KH.j(d,Mk(SN(c))));if(null!=m)throw e=m,Bl(M([c,a,b,d])),vm(["All clauses in 'or' must use same set of free vars, had ",xl.da(M([e]))," not bound in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,e],null));k+=1}else if(c=E(e)){e=c;if(If(e))f=ae(e),e=be(e),c=f,h=K(f),f=c;else{c=H(e);f=Eh(KH.j(d,Mk(SN(c))));if(null!=f)throw e=f,Bl(M([c,a,b,d])),vm(["All clauses in 'or' must use same set of free vars, had ",
xl.da(M([e]))," not bound in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,e],null));e=J(e);f=null;h=0}k=0}else return null}var VN=function VN(a){switch(arguments.length){case 2:return VN.j(arguments[0],arguments[1]);case 3:return VN.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};VN.j=function(a,b){return VN.ba(a,b,b)};
VN.ba=function(a,b,c){for(;;){var d=cN,e=b;if(q(function(){var O=new S(null,1,5,T,[new S(null,2,5,T,[we,gg],null)],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return bO(aO(a),qi(eN,J(H(b))),b),LN(a,b);if(q(function(){var O=new S(null,2,5,T,[new S(null,2,5,T,[we,gg],null),rq],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return bO(aO(a),qi(eN,J(H(b))),b),MN(a,b);if(q(function(){var O=new S(null,2,5,T,[dN,gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var f=E(b);c=H(f);f=J(f);var h=
wN;wN=B.j(Tw.aa(a),c);try{return VN.ba(a,f,b)}finally{wN=h}}else{if(q(function(){var O=new S(null,2,5,T,[wr,gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var k=b,m=E(k),n=H(m),r=J(m);f=n;h=r;var u=cO(aO(a),h,b),w=ci.j(function(O){return function(U){return eO.j?eO.j(O,U):eO.call(null,O,U)}}(a,b,c,k,m,n,r,f,h,u,d,e),h);b=ci.j(function(){return function(O){return v.j(AN,$v.aa(O))}}(a,b,c,k,m,n,r,f,h,u,w,d,e),w);return Q.ba(H(w),$v,new S(null,1,5,T,[v.j(iN,b)],null))}if(q(function(){var O=new S(null,
3,5,T,[Ap,new S(null,2,5,T,[new S(null,1,5,T,[gg],null),gg],null),gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){h=E(b);f=H(h);h=J(h);k=H(h);f=J(h);k=E(k);h=H(k);k=J(k);u=h;h=f;f=aO(a);bO(f,u,c);dO(f,k,h);c=nh(Ap,W.j(u,k),h);f=b;b=c;c=f;continue}else{if(q(function(){var O=new S(null,3,5,T,[Ap,new S(null,1,5,T,[gg],null),gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){n=b;r=E(n);var A=H(r),G=J(r);f=A;var I=H(G),F=J(G);k=I;h=F;var N=Mk(k);u=dO(aO(a),N,h);m=$N(a,N);w=ci.j(function(O,
U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb){return function(ec){return $N(eO.j?eO.j(yb,ec):eO.call(null,yb,ec),Ua)}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,d,e),h);b=ci.j(function(){return function(O){return v.j(AN,$v.aa(O))}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,w,d,e),w);b=v.j(iN,b);return Ai.ja(a,$v,FN,b)}if(q(function(){var O=new S(null,2,5,T,[Lv,gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return c=E(b),b=H(c),c=J(c),f=b,b=c,v.ba(eO,a,b);if(q(function(){var O=new S(null,2,5,T,[Ax,gg],null),U=e;return d.j?
d.j(O,U):d.call(null,O,U)}())){f=E(b);b=H(f);h=J(f);f=b;b=h;f=aO(a);h=Mk(SN(b));if(Bf(JH.j(f,h)))throw vm(["Insufficient bindings: none of ",xl.da(M([h]))," is bound in ",xl.da(M([c]))].join(""),new p(null,2,[Hp,Mr,lt,c],null));u=null;a=Q.ba(a,$v,new S(null,1,5,T,[v.j(AN,$v.aa(a))],null));b=v.ba(eO,a,b);b=BN(H($v.aa(a)),v.j(AN,$v.aa(b)));return Q.ba(a,$v,new S(null,1,5,T,[b],null))}if(q(function(){var O=new S(null,3,5,T,[Wq,new S(null,1,5,T,[gg],null),gg],null),U=e;return d.j?d.j(O,U):d.call(null,
O,U)}()))return b=E(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=aO(a),u=bO(f,k,c),a=Q.ba(a,$v,new S(null,1,5,T,[v.j(AN,$v.aa(a))],null)),m=$N(a,k),b=$N(v.ba(eO,m,b),k),b=BN(H($v.aa(a)),v.j(AN,$v.aa(b))),Q.ba(a,$v,new S(null,1,5,T,[b],null));if(q(function(){var O=new S(null,1,5,T,[gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){c=wN;b=YN(c,b);f=EN(c,b);h=vN;vN=(null!=c?l===c.Hg||(c.Md?0:Ac(oJ,c)):Ac(oJ,c))?ZN(c,b):vN;try{return Ai.ja(a,$v,FN,f)}finally{vN=h}}else throw Error(["No matching clause: ",
t.aa(e)].join(""));}}break}};VN.na=3;var eO=function eO(a,b){if(NN(a,b))if(dN(H(b))){var d=wN;wN=B.j(Tw.aa(a),H(b));try{var e=J(b);return eO.j?eO.j(a,e):eO.call(null,a,e)}finally{wN=d}}else return Ai.ja(a,$v,FN,UN(a,b));else return VN.j(a,b)};function fO(a,b){var c=wN;wN=B.j(Tw.aa(a),jg);try{return v.ba(eO,a,b)}finally{wN=c}}
function XN(a){switch(arguments.length){case 2:return WN(arguments[0],arguments[1]);case 3:return gO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function WN(a,b){a=$v.aa(a);return gO(new S(null,1,5,T,[Array(K(b))],null),a,b)}
function gO(a,b,c){for(;;){var d=H(b);if(null==d)return a;var e=d,f=Gk(Kt.aa(e),c);if(Bf(f)){var h=a,k=J(b),m=c;a=h;b=k;c=m}else{var n=Wf(ci.j(function(u,w,A,G){return function(I){return B.j(G,I)}}(a,b,c,f,e,d),c)),r=K(c);h=function(){return function(u,w,A,G,I,F,N,O){return function va(ea){return new ch(null,function(wa,xa,Ra,ka,oa,Ca,ua,Ba){return function(){for(var Ua=ea;;){var ac=E(Ua);if(ac){var yb=ac,ec=H(yb);if(ac=E(function(Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd){return function oo(Jq){return new ch(null,
function(Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq){return function(){for(;;){var oj=E(Jq);if(oj){if(If(oj)){var Oq=ae(oj),Pq=K(Oq),ro=gh(Pq);return function(){for(var Zl=0;;)if(Zl<Pq){for(var pj=x(Oq,Zl),Bk=ro,Rt=Hc(Lq),$l=0;;)if($l<Nq){var Yg=Mq[$l];null!=Yg&&(Rt[$l]=pj[Yg]);$l+=1}else break;Bk.add(Rt);Zl+=1}else return!0}()?ih(kh(ro),oo(be(oj))):ih(kh(ro),null)}var Qt=H(oj);return hf(function(){for(var Zl=Hc(Lq),pj=0;;)if(pj<Nq){var Bk=Mq[pj];null!=Bk&&(Zl[pj]=Qt[Bk]);pj+=1}else break;return Zl}(),oo(Fe(oj)))}return null}}}(Xb,
Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd),null,null)}}(Ua,wa,xa,Ra,ec,yb,ac,ka,oa,Ca,ua,Ba)(fu.aa(ua))))return W.j(ac,va(Fe(Ua)));Ua=Fe(Ua)}else return null}}}(u,w,A,G,I,F,N,O),null,null)}}(a,b,c,n,r,f,e,d)(a)}();k=J(b);m=c;a=h;b=k;c=m}}}function hO(a,b){return Mk(ci.j(sg,WN(a,b)))}
function iO(a,b){if(null!=a&&null!=a.Ke)a=a.Ke(a,b);else{var c=iO[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=iO._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IContextResolve.-context-resolve",a);}return a}KL.prototype.Ke=function(a,b){return HN(b,this.symbol)};ML.prototype.Ke=function(a,b){return wi(b,new S(null,2,5,T,[Tw,this.symbol],null))};QL.prototype.Ke=function(){var a=B.j(pN,this.symbol);return q(a)?a:null};PL.prototype.Ke=function(){return this.value};
function jO(a,b,c){return ti.ja(function(d,e,f){if(rM(d)){e=iO(Qz.aa(d),b);d=ci.j(function(k){return iO(k,b)},Ok(Rz.aa(d)));var h=ci.j(function(k){return bf(k,f)},c);return yh(e,W.j(d,new S(null,1,5,T,[h],null)))}return e},a,H(c),Yk.ia())}function kO(a){var b=Mh(rM);return ri(vc,ci.ba(function(c,d){return q(b.aa?b.aa(c):b.call(null,c))?d:null},a,Yk.ia()))}
function lO(a,b,c){var d=kO(a);return function h(f){return new ch(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u);P(w,0,null);w=P(w,1,null);w=jO(a,b,w);r.add(w);u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}r=H(k);P(r,0,null);r=P(r,1,null);return hf(jO(a,b,r),h(Fe(k)))}return null}},null,null)}(bm(function(f){return ci.j(function(h){return bf(f,h)},d)},c))}
function mO(a,b){return v.ba(function(c,d){return pf.j(c,a.aa?a.aa(d):a.call(null,d))},sf(b),b)}function nO(a,b){var c=Lx.aa(a),d=Yk.j(0,K(c));return mO(function(e){return v.ba(function(f,h){return Q.ba(f,bf(c,h),bf(e,h))},X,d)},b)}function oO(a,b,c){if(null!=a&&null!=a.Le)a=a.Le(a,b,c);else{var d=oO[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=oO._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IPostProcess.-post-process",a);}return a}
nM.prototype.Le=function(a,b,c){return null==b?c:nO(b,c)};oM.prototype.Le=function(a,b,c){return si.ba(qf,ci.aa(H),c)};pM.prototype.Le=function(a,b,c){return nf(c)};qM.prototype.Le=function(a,b,c){return null!=b?H(nO(b,new S(null,1,5,T,[H(c)],null))):H(c)};
function pO(a,b,c){var d=function(){return function h(f){return new ch(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u);w=sM(w)?new S(null,2,5,T,[iO(un.aa(w),b),LK(iO(Wz.aa(w),b))],null):null;r.add(w);u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}r=H(k);return hf(sM(r)?new S(null,2,5,T,[iO(un.aa(r),b),LK(iO(Wz.aa(r),b))],null):null,h(Fe(k)))}return null}},null,null)}(a)}();return function h(f){return new ch(null,
function(){for(;;){var k=E(f);if(k){var m=k;if(If(m)){var n=ae(m),r=K(n),u=gh(r);return function(){for(var A=0;;)if(A<r){var G=x(n,A);jh(u,ti.ba(function(){return function(I,F){if(q(I)){var N=P(I,0,null);I=P(I,1,null);return gL(N,I,new S(null,1,5,T,[F],null))}return F}}(A,G,n,r,u,m,k,d),d,G));A+=1}else return!0}()?ih(kh(u),h(be(m))):ih(kh(u),null)}var w=H(m);return hf(ti.ba(function(){return function(A,G){if(q(A)){var I=P(A,0,null);A=P(A,1,null);return gL(I,A,new S(null,1,5,T,[G],null))}return G}}(w,
m,k,d),d,w),h(Fe(m)))}return null}},null,null)}(c)}var qO=Zh(jL(X,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;a:for(b=E(b),d=yk;;)if(b)c=J(J(b)),d=Q.ba(d,H(b),mf(b)),b=c;else break a;return d}(),X,0,100));function rO(a){var b=B.ba(y(qO),a,null);return null==b?(b=YM(a),qO.Xc(null,Q.ba(qO.Ib(null),a,b)),b):b}
function pg(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return sO(arguments[0],b)}function sO(a,b){var c=rO(a),d=Sq.aa(c),e=mM(d),f=oi(jM,M([mM(d)])),h=K(e),k=Uz.aa(c);f=W.j(f,ci.j(Lw,k));a=Ef(a)?VM(a):a;k=kg.aa(a);b=uN(new ZM(qf,X,X,null,null,null),by.aa(c),b);f=hO(fO(b,k),f);f=q(OA.aa(a))?ti.j(function(m){return sg(dj(m,0,h))},f):f;f=q(Kh(rM,e))?lO(e,b,f):f;e=q(Kh(sM,e))?pO(e,b,f):f;return oO(d,sw.aa(c),e)};function tO(a,b){var c=Uh(null);Wh.j(a,function(d){var e=hK;d=new p(null,5,[xo,d,zu,d,$r,qf,GB,X,Xo,null],null);var f=R.da(d,xo,M([zu,$r,GB,Xo]));f=Gf(d)?si.j(X,f):f;d=new MJ(xo.aa(d),zu.aa(d),$r.aa(d),GB.aa(d),Xo.aa(d),null,Eh(f),null);e=e(d,b);Vh(c,e);return zu.aa(e)});return y(c)}
function uO(a){var b=og;a=tO(b,a);b=gu.aa(yf(b));b=null==b?null:y(b);b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);P(f,0,null);f=P(f,1,null);f.aa?f.aa(a):f.call(null,a);e+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),c=d,d=K(d)):(c=H(b),P(c,0,null),c=P(c,1,null),c.aa?c.aa(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}function vO(a){var b=og,c=Yl.ia();Wh.ja(gu.aa(yf(b)),Q,c,a)}
for(var PC=E(new p(null,2,[ht,function(a){return yh(GI,a)},zv,function(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,Zr);b=B.j(b,ar);return GJ(ci.j(function(c){var d=P(c,0,null),e=P(c,1,null),f=P(c,2,null);c=P(c,3,null);return GI.ja(d,e,f,c)},b),a)}],null)),QC=null,WK=0,wO=0;;)if(wO<WK){var xO=QC.La(null,wO),yO=P(xO,0,null),zO=P(xO,1,null),pR=yO,pU=zO;B.j(y(GH),pR);Wh.ja(GH,Q,pR,pU);wO+=1}else{var AO=E(PC);if(AO){var BO=AO;if(If(BO)){var CO=ae(BO),FO=be(BO),GO=CO,HO=K(CO);PC=FO;QC=GO;WK=
HO}else{var IO=H(BO),JO=P(IO,0,null),KO=P(IO,1,null),qU=JO,rU=KO;B.j(y(GH),qU);Wh.ja(GH,Q,qU,rU);PC=J(BO);QC=null;WK=0}wO=0}else break};var og,sU=new p(null,3,[lg,new p(null,1,[Sm,Qy],null),ng,new p(null,2,[qA,jz,iu,Vx],null),fg,new p(null,2,[qA,jz,iu,LA],null)],null),tU=wJ?wJ(sU):xJ.call(null,sU),LO=M([rc,new p(null,1,[gu,Uh(X)],null)]),MO=null!=LO&&(LO.ga&64||l===LO.Ja)?yh(zk,LO):LO,wU=B.j(MO,rc),xU=B.j(MO,rt);og=new Th(tU,wU,xU);function WO(a){return uO(new S(null,1,5,T,[new S(null,2,5,T,[bq,a],null)],null))};sC(lg,To,function(a){return"string"==typeof a});sC(Ss,new Jk(null,new p(null,4,[nq,"null",Vu,"null",Ko,"null",Zq,"null"],null),null),new Jk(null,new p(null,4,[nq,null,Vu,null,Ko,null,Zq,null],null),null));
sC(cr,bg(Dv,Ww,new S(null,2,5,T,[lg,Ss],null)),function XO(a){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,gB),e=B.j(c,Gs),f=B.j(c,ap),h=B.j(c,Wu),k=B.j(c,aw),m=B.j(c,tv),n=B.j(c,cA),r=B.j(c,ex),u=B.j(c,Ww),w=B.j(c,IA),A=B.j(c,Wv),G=B.j(c,Gu),I=Pk(W.j(w,n),W.j(r,A)),F=tm();if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof ju)ju=function(N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Qd){this.nf=N;this.ri=O;this.Ei=U;this.ui=ea;this.Xd=
va;this.xi=wa;this.pf=xa;this.og=Ra;this.si=ka;this.Di=oa;this.req=Ca;this.Vh=ua;this.id=Ba;this.Ci=Ua;this.Zi=ac;this.ti=yb;this.Qh=ec;this.yi=Xb;this.ai=Qd;this.ga=393216;this.la=0},ju.prototype.sa=function(N,O){return new ju(this.nf,this.ri,this.Ei,this.ui,this.Xd,this.xi,this.pf,this.og,this.si,this.Di,this.req,this.Vh,this.id,this.Ci,this.Zi,this.ti,this.Qh,this.yi,O)},ju.prototype.ra=function(){return this.ai},ju.prototype.Nd=function(){return this},ju.prototype.Od=function(){return this},ju.prototype.ff=
l,ju.prototype.Ee=function(N,O){if(q(this.pf.aa?this.pf.aa(O):this.pf.call(null,O))){N=y(cC);var U=E(O),ea=H(U);J(U);P(ea,0,null);P(ea,1,null);for(ea=U=O;;){O=U;var va=ea;ea=E(va);U=H(ea);var wa=J(ea);ea=U;U=P(ea,0,null);ea=P(ea,1,null);if(q(va))if(va=this.nf.aa?this.nf.aa(U):this.nf.call(null,U),va=B.j(N,va),q(va)){var xa=ea;va=aC(qC.aa(va),xa);if(V(At,va))return At;O=va===ea?O:Q.ba(O,U,va);ea=wa;U=O}else ea=wa,U=O;else return O}}else return At},ju.prototype.Fe=function(N,O){N=Q.ba(this.og,Wu,O);
return XO.aa?XO.aa(N):XO.call(null,N)},ju.$b=!0,ju.Kb="cljs.spec.alpha/t_cljs$spec$alpha22701",ju.kc=function(N){return Jd(N,"cljs.spec.alpha/t_cljs$spec$alpha22701")};return new ju(function(N){var O=I.aa?I.aa(N):I.call(null,N);return q(O)?O:N},d,e,f,h,k,m,c,n,r,u,c,F,w,a,A,I,G,X)}(gk([Gs,ap,Wu,aw,tv,cA,ex,Ww,IA,Wv,Gu,gB],[null,null,null,new S(null,3,5,T,[function(a){return Ff(a)},function(a){return Pf(a,lg)},function(a){return Pf(a,Ss)}],null),function(a){return Ff(a)&&Pf(a,lg)&&Pf(a,Ss)},qf,new S(null,
2,5,T,[lg,Ss],null),new S(null,2,5,T,[lg,Ss],null),new S(null,2,5,T,[lg,Ss],null),qf,new S(null,3,5,T,[bg(An,new S(null,1,5,T,[kt],null),bg(Pr,kt)),bg(An,new S(null,1,5,T,[kt],null),bg(Nw,kt,lg)),bg(An,new S(null,1,5,T,[kt],null),bg(Nw,kt,Ss))],null),null])));sC(rv,bg(ir,cr),xC(cr,cr,new p(null,4,[Qn,null,ds,function(a){return Cf(a)},BB,!0,Zy,bg(ir,cr)],null),null));var YO={},NO,ZO,$O,bP={};function cP(a,b){if(null!=a&&null!=a.Lf)a=a.Lf(a,b);else{var c=cP[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=cP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ReadPort.take!",a);}return a}function dP(a,b,c){if(null!=a&&null!=a.ef)a=a.ef(a,b,c);else{var d=dP[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=dP._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("WritePort.put!",a);}return a}
function eP(a){if(null!=a&&null!=a.Ce)a=a.Ce(a);else{var b=eP[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=eP._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Channel.close!",a);}return a}function fP(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=fP[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=fP._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Handler.active?",a);}return a}
function gP(a){if(null!=a&&null!=a.jc)a=a.jc(a);else{var b=gP[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=gP._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Handler.commit",a);}return a}function hP(a,b){if(null!=a&&null!=a.Kf)a=a.Kf(a,b);else{var c=hP[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Buffer.add!*",a);}return a}
var iP=function iP(a){switch(arguments.length){case 1:return iP.aa(arguments[0]);case 2:return iP.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};iP.aa=function(a){return a};iP.j=function(a,b){return hP(a,b)};iP.na=2;function jP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function kP(a){this.length=this.tail=this.head=0;this.ha=a}g=kP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.ha[this.tail];this.ha[this.tail]=null;this.tail=(this.tail+1)%this.ha.length;--this.length;return a};g.unshift=function(a){this.ha[this.head]=a;this.head=(this.head+1)%this.ha.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.ha.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.ha.length);return this.tail<this.head?(jP(this.ha,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.ha=a):this.tail>this.head?(jP(this.ha,this.tail,a,0,this.ha.length-this.tail),jP(this.ha,0,a,this.ha.length-this.tail,this.head),this.tail=0,this.head=this.length,this.ha=a):this.tail===this.head?(this.head=this.tail=0,this.ha=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.aa?a.aa(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function lP(a){return new kP(Array(a))}function mP(a,b){this.buf=a;this.n=b;this.ga=2;this.la=0}mP.prototype.df=function(){return this.buf.length>=this.n};mP.prototype.Kf=function(a,b){this.buf.unbounded_unshift(b);return this};mP.prototype.va=function(){return this.buf.length};function nP(a,b){this.buf=a;this.n=b;this.ga=2;this.la=0}nP.prototype.df=function(){return!1};
nP.prototype.Kf=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};nP.prototype.va=function(){return this.buf.length};function oP(a){return new nP(lP(a),a)};function pP(){return Fb("iPhone")&&!Fb("iPod")&&!Fb("iPad")};var qP=Fb("Opera"),rP=Fb("Trident")||Fb("MSIE"),sP=Fb("Edge"),tP=Fb("Gecko")&&!(xb("WebKit")&&!Fb("Edge"))&&!(Fb("Trident")||Fb("MSIE"))&&!Fb("Edge"),uP=xb("WebKit")&&!Fb("Edge");uP&&Fb("Mobile");Fb("Macintosh");Fb("Windows");Fb("Linux")||Fb("CrOS");var yU=ma.navigator||null;yU&&(yU.appVersion||"").indexOf("X11");Fb("Android");pP();Fb("iPad");Fb("iPod");pP()||Fb("iPad")||Fb("iPod");xb("KaiOS");xb("GAFP");function wP(){var a=ma.document;return a?a.documentMode:void 0}var xP;
a:{var zU="",AU=function(){var a=zb;if(tP)return/rv:([^\);]+)(\)|;)/.exec(a);if(sP)return/Edge\/([\d\.]+)/.exec(a);if(rP)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(uP)return/WebKit\/(\S+)/.exec(a);if(qP)return/(?:Version)[ \/]?(\S+)/.exec(a)}();AU&&(zU=AU?AU[1]:"");if(rP){var BU=wP();if(null!=BU&&BU>parseFloat(zU)){xP=String(BU);break a}}xP=zU}var La={};
function BP(a){return Ka(a,function(){{var b=0;const e=wb(String(xP)).split("."),f=wb(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Ab(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Ab(0==c[2].length,0==d[2].length)||Ab(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var CU;
CU=ma.document&&rP?wP():void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){}!tP&&!rP||rP&&9<=Number(CU)||tP&&BP("1.9.1");rP&&BP("9");function DP(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var EP;
function FP(){var a=ma.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Fb("Presto")&&(a=function(){var e=DP(eb);e.style.display="none";Kb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Ib());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Fa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Fb("Trident")&&!Fb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.te;c.te=null;e()}};return function(e){d.next={te:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in DP(fb)?function(e){var f=DP(fb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ma.setTimeout(e,0)}};var GP=lP(32),HP=!1,IP=!1;function JP(){HP=!0;IP=!1;for(var a=0;;){var b=GP.pop();if(null!=b&&(b.ia?b.ia():b.call(null),1024>a)){a+=1;continue}break}HP=!1;return 0<GP.length?KP.ia?KP.ia():KP.call(null):null}function KP(){if(IP&&HP)return null;IP=!0;!sa(ma.setImmediate)||ma.Window&&ma.Window.prototype&&!Fb("Edge")&&ma.Window.prototype.setImmediate==ma.setImmediate?(EP||(EP=FP()),EP(JP)):ma.setImmediate(JP)}function LP(a){GP.unbounded_unshift(a);KP()}function MP(a,b){setTimeout(a,b)};var NP={},aP;
function PP(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof bP||"undefined"===typeof NP||"undefined"===typeof aP)aP=function(b,c){this.val=b;this.ji=c;this.ga=425984;this.la=0},aP.prototype.sa=function(b,c){return new aP(this.val,c)},aP.prototype.ra=function(){return this.ji},aP.prototype.Ib=function(){return this.val},aP.$b=!0,aP.Kb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels28053",aP.kc=function(b){return Jd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels28053")};
return new aP(a,X)}function QP(a,b){this.handler=a;this.val=b}function RP(a){return fP(a.handler)}function SP(a,b,c,d){this.me=a;this.kf=0;this.Cd=b;this.jf=0;this.buf=c;this.closed=!1;this.Hc=d}function TP(a){for(;;){var b=a.Cd.pop();if(null!=b){var c=b.handler,d=b.val;if(c.sc(null)){var e=c.jc(null);LP(function(f){return function(){return f.aa?f.aa(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.Cd.cleanup(Nh(!1));a.Ce(null)}
SP.prototype.ef=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.sc(null))return PP(!f);if(q(function(){var u=d.buf;return q(u)?yc(d.buf.df()):u}())){c.jc(null);var h=Re(d.Hc.j?d.Hc.j(d.buf,b):d.Hc.call(null,d.buf,b));c=function(){for(var u=qf;;)if(0<d.me.length&&0<K(d.buf)){var w=d.me.pop();if(w.sc(null)){var A=w.jc(null),G=d.buf.buf.pop();u=pf.j(u,function(I,F,N){return function(){return F.aa?F.aa(N):F.call(null,N)}}(u,A,G,w,h,f,e))}}else return u}();h&&TP(e);if(E(c)){c=E(c);a=null;for(var k=
0,m=0;;)if(m<k){var n=a.La(null,m);LP(n);m+=1}else if(c=E(c))a=c,If(a)?(c=ae(a),m=be(a),a=c,k=K(c),c=m):(c=H(a),LP(c),c=J(a),a=null,k=0),m=0;else break}return PP(!0)}a=function(){for(;;){var u=d.me.pop();if(q(u)){if(q(u.sc(null)))return u}else return null}}();if(q(a)){var r=a.jc(null);c.jc(null);LP(function(){return r.aa?r.aa(b):r.call(null,b)});return PP(!0)}64<d.jf?(d.jf=0,d.Cd.cleanup(RP)):d.jf+=1;q(c.De())&&d.Cd.unbounded_unshift(new QP(c,b));return null};
SP.prototype.Lf=function(a,b){var c=this;if(b.sc(null)){if(null!=c.buf&&0<K(c.buf)){a=b.jc(null);if(q(a)){var d=c.buf.buf.pop(),e=yc(c.buf.df())&&0<c.Cd.length?function(){for(var I=qf;;){var F=c.Cd.pop(),N=F.handler;F=F.val;N=N.sc(null)?N.jc(null):!1;I=q(N)?pf.j(I,N):I;F=q(N)?Re(c.Hc.j?c.Hc.j(c.buf,F):c.Hc.call(null,c.buf,F)):null;if(!(yc(F)&&yc(c.buf.df())&&0<c.Cd.length))return new S(null,2,5,T,[F,I],null)}}():null,f=P(e,0,null),h=P(e,1,null);q(f)&&TP(this);for(var k=E(h),m=null,n=0,r=0;;)if(r<
n){var u=m.La(null,r);LP(function(I,F,N,O,U){return function(){return U.aa?U.aa(!0):U.call(null,!0)}}(k,m,n,r,u,d,e,f,h,a,a,this));r+=1}else{var w=E(k);if(w){u=w;if(If(u))k=ae(u),r=be(u),m=k,n=K(k),k=r;else{var A=H(u);LP(function(I,F,N,O,U){return function(){return U.aa?U.aa(!0):U.call(null,!0)}}(k,m,n,r,A,u,w,d,e,f,h,a,a,this));k=J(u);m=null;n=0}r=0}else break}return PP(d)}return null}a=function(){for(;;){var I=c.Cd.pop();if(q(I)){if(fP(I.handler))return I}else return null}}();if(q(a)){var G=gP(a.handler);
b.jc(null);LP(function(){return G.aa?G.aa(!0):G.call(null,!0)});return PP(a.val)}if(q(c.closed))return q(c.buf)&&(c.Hc.aa?c.Hc.aa(c.buf):c.Hc.call(null,c.buf)),q(function(){var I=b.sc(null);return q(I)?b.jc(null):I}())?(a=function(){var I=c.buf;return q(I)?0<K(c.buf):I}(),d=q(a)?c.buf.buf.pop():null,PP(d)):null;64<c.kf?(c.kf=0,c.me.cleanup(fP)):c.kf+=1;q(b.De())&&c.me.unbounded_unshift(b)}return null};
SP.prototype.Ce=function(){var a=this;if(!a.closed)for(a.closed=!0,q(function(){var e=a.buf;return q(e)?0===a.Cd.length:e}())&&(a.Hc.aa?a.Hc.aa(a.buf):a.Hc.call(null,a.buf));;){var b=a.me.pop();if(null!=b){if(b.sc(null)){var c=b.jc(null),d=q(function(){var e=a.buf;return q(e)?0<K(a.buf):e}())?a.buf.buf.pop():null;LP(function(e,f){return function(){return e.aa?e.aa(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function UP(a){console.log(a);return null}
function VP(a,b){var c=q(null)?null:UP;b=c.aa?c.aa(b):c.call(null,b);return null==b?a:iP.j(a,b)}
function WP(a,b){return new SP(lP(32),lP(32),a,function(){var c=q(b)?b.aa?b.aa(iP):b.call(null,iP):iP;return function(){function d(h,k){try{return c.j?c.j(h,k):c.call(null,h,k)}catch(m){return VP(h,m)}}function e(h){try{return c.aa?c.aa(h):c.call(null,h)}catch(k){return VP(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.aa=e;f.j=d;return f}()}())};function XP(a,b,c){this.key=a;this.val=b;this.forward=c;this.ga=2155872256;this.la=0}XP.prototype.ua=function(){return new rf(null,this.key,new rf(null,this.val,null,1,null),2,null)};XP.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};function YP(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new XP(a,b,c)}
function ZP(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(q(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function $P(){this.header=YP(null,null,0);this.level=0;this.ga=2155872256;this.la=0}g=$P.prototype;
g.put=function(a,b){var c=Array(15),d=ZP(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=YP(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=ZP(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return D.j(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};
g.ua=function(){return function c(b){return new ch(null,function(){return null==b?null:hf(new S(null,2,5,T,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"{",", ","}",c,this)};var aQ=new $P;function bQ(a){var b=(new Date).valueOf()+a,c=aQ.ceilingEntry(b);c=q(q(c)?c.key<b+10:c)?c.val:null;if(q(c))return c;var d=WP(null,null);aQ.put(b,d);MP(function(){aQ.remove(b);return eP(d)},a);return d};var cQ={},OP;
function eQ(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof bP||"undefined"===typeof cQ||"undefined"===typeof OP)OP=function(b,c){this.f=b;this.ki=c;this.ga=393216;this.la=0},OP.prototype.sa=function(b,c){return new OP(this.f,c)},OP.prototype.ra=function(){return this.ki},OP.prototype.sc=function(){return!0},OP.prototype.De=function(){return!0},OP.prototype.jc=function(){return this.f},OP.$b=!0,OP.Kb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers30127",OP.kc=
function(b){return Jd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers30127")};return new OP(a,X)}function fQ(a){try{var b=a[0];return b.aa?b.aa(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].Ce(null),b;throw c;}}function gQ(a,b,c){c=c.Lf(null,eQ(function(d){a[2]=d;a[1]=b;return fQ(a)}));return q(c)?(a[2]=y(c),a[1]=b,On):null}function hQ(a,b,c){b=b.ef(null,c,eQ(function(d){a[2]=d;a[1]=11;return fQ(a)}));return q(b)?(a[2]=y(b),a[1]=11,On):null}
function iQ(a,b){a=a[6];null!=b&&a.ef(null,b,eQ(function(){return null}));a.Ce(null);return a};function jQ(a,b){return kQ(a,b)}function kQ(a,b){a=D.j(a,0)?null:a;return WP("number"===typeof a?new mP(lP(a),a):a,b)}
var lQ=function(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof NO)NO=function(b,c,d){this.f=b;this.sg=c;this.li=d;this.ga=393216;this.la=0},NO.prototype.sa=function(b,c){return new NO(this.f,this.sg,c)},NO.prototype.ra=function(){return this.li},NO.prototype.sc=function(){return!0},NO.prototype.De=function(){return this.sg},NO.prototype.jc=function(){return this.f},NO.$b=!0,NO.Kb="cljs.core.async/t_cljs$core$async30456",NO.kc=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async30456")};return new NO(a,!0,X)}(function(){return null});function mQ(a,b){a=dP(a,b,lQ);return q(a)?y(a):!0}function nQ(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;cb(b);return b}
function oQ(){var a=Uh(!0);if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof ZO)ZO=function(b,c){this.Wd=b;this.mi=c;this.ga=393216;this.la=0},ZO.prototype.sa=function(b,c){return new ZO(this.Wd,c)},ZO.prototype.ra=function(){return this.mi},ZO.prototype.sc=function(){return y(this.Wd)},ZO.prototype.De=function(){return!0},ZO.prototype.jc=function(){Vh(this.Wd,null);return!0},ZO.$b=!0,ZO.Kb="cljs.core.async/t_cljs$core$async30520",ZO.kc=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async30520")};return new ZO(a,X)}
function pQ(a,b){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof $O)$O=function(c,d,e){this.Wd=c;this.te=d;this.vi=e;this.ga=393216;this.la=0},$O.prototype.sa=function(c,d){return new $O(this.Wd,this.te,d)},$O.prototype.ra=function(){return this.vi},$O.prototype.sc=function(){return fP(this.Wd)},$O.prototype.De=function(){return!0},$O.prototype.jc=function(){gP(this.Wd);return this.te},$O.$b=!0,$O.Kb="cljs.core.async/t_cljs$core$async30562",$O.kc=
function(c){return Jd(c,"cljs.core.async/t_cljs$core$async30562")};return new $O(a,b,X)}
function qQ(a,b,c){var d=oQ(),e=K(b),f=nQ(e),h=Zz.aa(c),k=function(){for(var m=0;;)if(m<e){var n=q(h)?m:f[m],r=bf(b,n),u=Hf(r)?r.aa?r.aa(0):r.call(null,0):null,w=q(u)?function(){var A=r.aa?r.aa(1):r.call(null,1);return dP(u,A,pQ(d,function(G,I,F,N,O){return function(U){U=new S(null,2,5,T,[U,O],null);return a.aa?a.aa(U):a.call(null,U)}}(m,A,n,r,u,d,e,f,h)))}():cP(r,pQ(d,function(A,G,I){return function(F){F=new S(null,2,5,T,[F,I],null);return a.aa?a.aa(F):a.call(null,F)}}(m,n,r,u,d,e,f,h)));if(q(w))return PP(new S(null,
2,5,T,[y(w),function(){var A=u;return q(A)?A:r}()],null));m+=1}else return null}();return q(k)?k:Pf(c,qm)?(k=function(){var m=d.sc(null);return q(m)?d.jc(null):m}(),q(k)?PP(new S(null,2,5,T,[qm.aa(c),qm],null)):null):null}
function rQ(a,b){var c=kQ(1,null);LP(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,On):1===k?(h[2]=null,h[1]=2,On):4===k?(k=h[2],h[7]=k,h[1]=q(null==k)?5:6,On):13===k?(h[2]=null,h[1]=14,On):6===k?(k=h[7],hQ(h,b,k)):3===k?iQ(h,h[2]):12===k?(h[2]=null,h[1]=2,On):2===k?gQ(h,4,a):11===k?(h[1]=q(h[2])?12:13,On):9===k?(h[2]=null,h[1]=10,On):5===k?(h[1]=q(!0)?8:9,On):14===k||10===k?(h[2]=h[2],h[1]=7,On):8===k?(k=eP(b),h[2]=k,h[1]=10,On):null}return function(){function h(n){for(;;){a:try{for(;;){var r=
f(n);if(!V(r,On)){var u=r;break a}}}catch(w){u=w;n[2]=u;if(E(n[4]))n[1]=H(n[4]);else throw u;u=On}if(!V(u,On))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.ia=k;m.aa=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return fQ(e)})}
function sQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new De(b.slice(3),0,null):null;return tQ(arguments[0],arguments[1],arguments[2],b)}function tQ(a,b,c,d){d=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d;a[1]=b;b=qQ(function(e){a[2]=e;return fQ(a)},c,d);return q(b)?(a[2]=y(b),On):null}
function uQ(a,b){var c=kQ(b,null),d=kQ(1,null);LP(function(){var e=function(){function h(k){var m=k[1];if(7===m){var n=k[8];m=k[2];n=P(m,0,null);var r=P(m,1,null);k[7]=m;k[9]=r;k[8]=n;k[1]=q(null==n)?8:9;return On}return 1===m?(m=sg(a),k[10]=m,k[2]=null,k[1]=2,On):4===m?(m=k[10],sQ(k,7,m)):6===m?(k[2]=k[2],k[1]=3,On):3===m?iQ(k,k[2]):2===m?(m=k[10],m=0<K(m),k[1]=q(m)?4:5,On):11===m?(m=k[10],n=k[2],k[10]=m,k[11]=n,k[2]=null,k[1]=2,On):9===m?(n=k[8],hQ(k,c,n)):5===m?(m=eP(c),k[2]=m,k[1]=6,On):10===
m?(k[2]=k[2],k[1]=6,On):8===m?(m=k[10],r=k[9],n=k[8],m=ui(function(){var u=r;return function(w){return Dh.j(u,w)}}(),m),k[10]=m,k[2]=null,k[1]=2,On):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!V(u,On)){var w=u;break a}}}catch(A){w=A;r[2]=w;if(E(r[4]))r[1]=H(r[4]);else throw w;w=On}if(!V(w,On))return w}}function m(){var r=[null,null,null,null,null,null,null,null,null,null,null,null];r[0]=n;r[1]=1;return r}var n=null;n=function(r){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};n.ia=m;n.aa=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return fQ(f)});return c};function vQ(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,r,u){if("%"==n)return"%";var w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return vQ.wd[n].apply(null,arguments)})}vQ.wd={};
vQ.wd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Mb(" ",Number(c)-a.length):Mb(" ",Number(c)-a.length)+a};
vQ.wd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Mb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Mb(b,a)+d);return d};vQ.wd.d=function(a,b,c,d,e,f,h,k){return vQ.wd.f(parseInt(a,10),b,c,d,0,f,h,k)};
vQ.wd.i=vQ.wd.d;vQ.wd.u=vQ.wd.d;var wQ=!rP||9<=Number(CU),xQ=rP&&!BP("9");!uP||BP("528");tP&&BP("1.9b")||rP&&BP("8")||qP&&BP("9.5")||uP&&BP("528");tP&&!BP("8")||rP&&BP("9");var yQ=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",na,b),ma.removeEventListener("test",na,b)}catch(c){}return a}();function zQ(){0!=AQ&&(BQ[ya(this)]=this);this.fe=this.fe;this.ke=this.ke}var AQ=0,BQ={};zQ.prototype.fe=!1;zQ.prototype.dispose=function(){if(!this.fe&&(this.fe=!0,this.disposeInternal(),0!=AQ)){var a=ya(this);if(0!=AQ&&this.ke&&0<this.ke.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete BQ[a]}};zQ.prototype.disposeInternal=function(){if(this.ke)for(;this.ke.length;)this.ke.shift()()};function CQ(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ae=!1;this.ah=!0}CQ.prototype.stopPropagation=function(){this.ae=!0};CQ.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ah=!1};function DQ(a,b){CQ.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Ne=null;a&&this.init(a,b)}Ia(DQ,CQ);var EQ={2:"touch",3:"pen",4:"mouse"};
DQ.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(tP){a:{try{Ja(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=uP||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=uP||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:EQ[a.pointerType]||"";this.state=a.state;this.Ne=a;a.defaultPrevented&&this.preventDefault()};DQ.prototype.stopPropagation=function(){DQ.Ed.stopPropagation.call(this);this.Ne.stopPropagation?this.Ne.stopPropagation():this.Ne.cancelBubble=!0};
DQ.prototype.preventDefault=function(){DQ.Ed.preventDefault.call(this);var a=this.Ne;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,xQ)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var FQ="closure_listenable_"+(1E6*Math.random()|0),GQ=0;function HQ(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++GQ;this.removed=this.$e=!1}function IQ(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function JQ(a){this.src=a;this.listeners={};this.Xe=0}g=JQ.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Xe++);var h=KQ(a,b,d,e);-1<h?(b=a[h],c||(b.$e=!1)):(b=new HQ(b,this.src,f,!!d,e),b.$e=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=KQ(e,b,c,d);return-1<b?(IQ(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Xe--),!0):!1};
function LQ(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Xa(a.listeners[c],b);d&&(IQ(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Xe--));return d}g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,IQ(d[e]);delete this.listeners[c];this.Xe--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.Qf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=KQ(a,b,c,d));return-1<e?a[e]:null};g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Ha(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function KQ(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var MQ="closure_lm_"+(1E6*Math.random()|0),NQ={},OQ=0;function PQ(a,b,c,d,e){if(d&&d.once)return QQ(a,b,c,d,e);if(qa(b)){for(var f=0;f<b.length;f++)PQ(a,b[f],c,d,e);return null}c=RQ(c);return a&&a[FQ]?a.listen(b,c,ta(d)?!!d.capture:!!d,e):SQ(a,b,c,!1,d,e)}
function SQ(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ta(e)?!!e.capture:!!e,k=TQ(a);k||(a[MQ]=k=new JQ(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=UQ();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)yQ||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(VQ(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");OQ++;return c}
function UQ(){var a=WQ,b=wQ?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function QQ(a,b,c,d,e){if(qa(b)){for(var f=0;f<b.length;f++)QQ(a,b[f],c,d,e);return null}c=RQ(c);return a&&a[FQ]?a.listenOnce(b,c,ta(d)?!!d.capture:!!d,e):SQ(a,b,c,!0,d,e)}
function XQ(a,b,c,d,e){if(qa(b))for(var f=0;f<b.length;f++)XQ(a,b[f],c,d,e);else d=ta(d)?!!d.capture:!!d,c=RQ(c),a&&a[FQ]?a.zd.remove(String(b),c,d,e):a&&(a=TQ(a))&&(b=a.Qf(b,c,d,e))&&YQ(b)}
function YQ(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[FQ])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(VQ(c),d):b.addListener&&b.removeListener&&b.removeListener(d);OQ--;(c=TQ(b))?(LQ(c,a),0==c.Xe&&(c.src=null,b[MQ]=null)):IQ(a)}}}function VQ(a){return a in NQ?NQ[a]:NQ[a]="on"+a}
function ZQ(a,b,c,d){var e=!0;if(a=TQ(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=$Q(f,d),e=e&&!1!==f)}return e}function $Q(a,b){var c=a.listener,d=a.handler||a.src;a.$e&&YQ(a);return c.call(d,b)}
function WQ(a,b){if(a.removed)return!0;if(!wQ){if(!b)a:{b=["window","event"];for(var c=ma,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new DQ(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.ae&&0<=e;e--){b.currentTarget=d[e];var f=ZQ(d[e],a,!0,b);c=c&&f}for(e=0;!b.ae&&e<d.length;e++)b.currentTarget=
d[e],f=ZQ(d[e],a,!1,b),c=c&&f}return c}return $Q(a,new DQ(b,this))}function TQ(a){a=a[MQ];return a instanceof JQ?a:null}var aR="__closure_events_fn_"+(1E9*Math.random()>>>0);function RQ(a){if(sa(a))return a;a[aR]||(a[aR]=function(b){return a.handleEvent(b)});return a[aR]};function bR(){zQ.call(this);this.zd=new JQ(this);this.nh=this;this.fg=null}Ia(bR,zQ);bR.prototype[FQ]=!0;g=bR.prototype;g.addEventListener=function(a,b,c,d){PQ(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){XQ(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.fg;if(c)for(b=[];c;c=c.fg)b.push(c);c=this.nh;var d=a.type||a;if("string"===typeof a)a=new CQ(a,c);else if(a instanceof CQ)a.target=a.target||c;else{var e=a;a=new CQ(d,c);lb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.ae&&0<=f;f--){var h=a.currentTarget=b[f];e=cR(h,d,!0,a)&&e}a.ae||(h=a.currentTarget=c,e=cR(h,d,!0,a)&&e,a.ae||(e=cR(h,d,!1,a)&&e));if(b)for(f=0;!a.ae&&f<b.length;f++)h=a.currentTarget=b[f],e=cR(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){bR.Ed.disposeInternal.call(this);this.removeAllListeners();this.fg=null};g.listen=function(a,b,c,d){return this.zd.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.zd.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return LQ(this.zd,a)};g.removeAllListeners=function(a){return this.zd?this.zd.removeAll(a):0};
function cR(a,b,c,d){b=a.zd.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.$e&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.ah}g.getListeners=function(a,b){return this.zd.getListeners(String(a),b)};g.Qf=function(a,b,c,d){return this.zd.Qf(String(a),b,c,d)};g.hasListener=function(a,b){return this.zd.hasListener(void 0!==a?String(a):void 0,b)};function dR(a,b,c){if(sa(a))c&&(a=Fa(a,c));else if(a&&"function"==typeof a.handleEvent)a=Fa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ma.setTimeout(a,b||0)};function eR(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function fR(){}fR.prototype.tg=null;fR.prototype.getOptions=function(){var a;(a=this.tg)||(a={},hR(this)&&(a[0]=!0,a[1]=!0),a=this.tg=a);return a};var iR;function jR(){}Ia(jR,fR);function kR(a){return(a=hR(a))?new ActiveXObject(a):new XMLHttpRequest}function hR(a){if(!a.Qg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Qg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Qg}iR=new jR;function lR(a){bR.call(this);this.headers=new Tb;this.zf=a||null;this.Hd=!1;this.yf=this.Va=null;this.Uf="";this.je=0;this.Yd=this.Sf=this.mf=this.Pf=!1;this.wf=0;this.timeoutId_=null;this.$g=mR;this.kg=this.Yg=this.pe=!1}Ia(lR,bR);var mR="",nR=/^https?$/i,oR=["POST","PUT"];g=lR.prototype;g.setWithCredentials=function(a){this.pe=a};
g.send=function(a,b,c,d){if(this.Va)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Uf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Uf=a;this.je=0;this.Pf=!1;this.Hd=!0;this.Va=this.zf?kR(this.zf):kR(iR);this.yf=this.zf?this.zf.getOptions():iR.getOptions();this.Va.onreadystatechange=Fa(this.Wg,this);this.Yg&&"onprogress"in this.Va&&(this.Va.onprogress=Fa(function(f){this.Vg(f,!0)},this),this.Va.upload&&(this.Va.upload.onprogress=Fa(this.Vg,this)));try{this.Sf=!0,
this.Va.open(b,String(a),!0),this.Sf=!1}catch(f){this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&Rb(d,function(f,h){e.set(h,f)});d=Ta(e.getKeys());c=ma.FormData&&a instanceof ma.FormData;!(0<=Na(oR,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Va.setRequestHeader(h,f)},this);this.$g&&(this.Va.responseType=this.$g);"withCredentials"in this.Va&&this.Va.withCredentials!==this.pe&&(this.Va.withCredentials=this.pe);try{qR(this),
0<this.wf&&((this.kg=rR(this.Va))?(this.Va.timeout=this.wf,this.Va.ontimeout=Fa(this.timeout_,this)):this.timeoutId_=dR(this.timeout_,this.wf,this)),this.mf=!0,this.Va.send(a),this.mf=!1}catch(f){this.error_(5,f)}};function rR(a){return rP&&BP(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Va(a){return"content-type"==a.toLowerCase()}g.timeout_=function(){"undefined"!=typeof la&&this.Va&&(this.je=8,this.dispatchEvent("timeout"),this.abort(8))};
g.error_=function(a){this.Hd=!1;this.Va&&(this.Yd=!0,this.Va.abort(),this.Yd=!1);this.je=a;sR(this);tR(this)};function sR(a){a.Pf||(a.Pf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Va&&this.Hd&&(this.Hd=!1,this.Yd=!0,this.Va.abort(),this.Yd=!1,this.je=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),tR(this))};g.disposeInternal=function(){this.Va&&(this.Hd&&(this.Hd=!1,this.Yd=!0,this.Va.abort(),this.Yd=!1),tR(this,!0));lR.Ed.disposeInternal.call(this)};
g.Wg=function(){this.fe||(this.Sf||this.mf||this.Yd?uR(this):this.vf())};g.vf=function(){uR(this)};function uR(a){if(a.Hd&&"undefined"!=typeof la&&(!a.yf[1]||4!=vR(a)||2!=wR(a)))if(a.mf&&4==vR(a))dR(a.Wg,0,a);else if(a.dispatchEvent("readystatechange"),4==vR(a)){a.Hd=!1;try{xR(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.je=6,sR(a))}finally{tR(a)}}}g.Vg=function(a,b){this.dispatchEvent(yR(a,"progress"));this.dispatchEvent(yR(a,b?"downloadprogress":"uploadprogress"))};
function yR(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function tR(a,b){if(a.Va){qR(a);var c=a.Va,d=a.yf[0]?na:null;a.Va=null;a.yf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function qR(a){a.Va&&a.kg&&(a.Va.ontimeout=null);a.timeoutId_&&(ma.clearTimeout(a.timeoutId_),a.timeoutId_=null)}
function xR(a){var b=wR(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Uf).match(Yb)[1]||null,!a&&ma.self&&ma.self.location&&(a=ma.self.location.protocol,a=a.substr(0,a.length-1)),b=!nR.test(a?a.toLowerCase():"");c=b}return c}function vR(a){return a.Va?a.Va.readyState:0}function wR(a){try{return 2<vR(a)?a.Va.status:-1}catch(b){return-1}}
function zR(a){try{return a.Va?a.Va.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Va&&4==vR(this))return a=this.Va.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Va&&4==vR(this)?this.Va.getAllResponseHeaders()||"":""};function AR(){this.Oc=[];this.ed=[]}function BR(a){0==a.Oc.length&&(a.Oc=a.ed,a.Oc.reverse(),a.ed=[])}g=AR.prototype;g.enqueue=function(a){this.ed.push(a)};g.dequeue=function(){BR(this);return this.Oc.pop()};g.peek=function(){BR(this);var a=this.Oc;return a[a.length-1]};g.getCount=function(){return this.Oc.length+this.ed.length};g.isEmpty=function(){return 0==this.Oc.length&&0==this.ed.length};g.clear=function(){this.Oc=[];this.ed=[]};
g.contains=function(a){return 0<=Na(this.Oc,a)||0<=Na(this.ed,a)};g.remove=function(a){var b=this.Oc;var c=Oa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Xa(this.ed,a)};g.getValues=function(){for(var a=[],b=this.Oc.length-1;0<=b;--b)a.push(this.Oc[b]);var c=this.ed.length;for(b=0;b<c;++b)a.push(this.ed[b]);return a};function CR(a){this.map_=new Tb;a&&this.addAll(a)}function DR(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ya(a):b.substr(0,1)+a}g=CR.prototype;g.getCount=function(){return this.map_.getCount()};g.add=function(a){this.map_.set(DR(a),a)};g.addAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.map_.remove(DR(a))};g.clear=function(){this.map_.clear()};
g.isEmpty=function(){return this.map_.isEmpty()};g.contains=function(a){return this.map_.containsKey(DR(a))};g.intersection=function(a){var b=new CR;a=Pb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.getValues=function(){return this.map_.getValues()};g.clone=function(){return new CR(this)};g.equals=function(a){return this.getCount()==Ob(a)&&ER(this,a)};
function ER(a,b){var c=Ob(b);if(a.getCount()>c)return!1;!(b instanceof CR)&&5<c&&(b=new CR(b));return Sb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.He&&"function"==typeof e.He)d=e.He(d);else if(ra(e)||"string"===typeof e)d=0<=Na(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function FR(a,b){zQ.call(this);this.Ug=a||0;this.qf=b||10;if(this.Ug>this.qf)throw Error(GR);this.jd=new AR;this.Pd=new CR;this.delay=0;this.Tf=null;this.Ye()}Ia(FR,zQ);var GR="[goog.structs.Pool] Min can not be greater than max";g=FR.prototype;g.lf=function(){var a=Ga();if(!(null!=this.Tf&&a-this.Tf<this.delay)){for(var b;0<this.jd.getCount()&&(b=this.jd.dequeue(),!this.eg(b));)this.Ye();!b&&this.getCount()<this.qf&&(b=this.Of());b&&(this.Tf=a,this.Pd.add(b));return b}};
function HR(a,b){return a.Pd.remove(b)?(a.Bf(b),!0):!1}g.Bf=function(a){this.Pd.remove(a);this.eg(a)&&this.getCount()<this.qf?this.jd.enqueue(a):IR(a)};g.Ye=function(){for(var a=this.jd;this.getCount()<this.Ug;)a.enqueue(this.Of());for(;this.getCount()>this.qf&&0<this.jd.getCount();)IR(a.dequeue())};g.Of=function(){return{}};function IR(a){if("function"==typeof a.dispose)a.dispose();else for(var b in a)a[b]=null}g.eg=function(a){return"function"==typeof a.ph?a.ph():!0};
g.contains=function(a){return this.jd.contains(a)||this.Pd.contains(a)};g.getCount=function(){return this.jd.getCount()+this.Pd.getCount()};g.isEmpty=function(){return this.jd.isEmpty()&&this.Pd.isEmpty()};g.disposeInternal=function(){FR.Ed.disposeInternal.call(this);if(0<this.Pd.getCount())throw Error("[goog.structs.Pool] Objects not released");delete this.Pd;for(var a=this.jd;!a.isEmpty();)IR(a.dequeue());delete this.jd};function JR(a,b){this.key_=a;this.value_=b}JR.prototype.getKey=function(){return this.key_};JR.prototype.getValue=function(){return this.value_};JR.prototype.clone=function(){return new JR(this.key_,this.value_)};function KR(a){this.Cc=[];if(a)a:{if(a instanceof KR){var b=a.getKeys();a=a.getValues();if(0>=this.getCount()){for(var c=this.Cc,d=0;d<b.length;d++)c.push(new JR(b[d],a[d]));break a}}else b=hb(a),a=gb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=KR.prototype;g.insert=function(a,b){var c=this.Cc;c.push(new JR(a,b));a=c.length-1;b=this.Cc;for(c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.Cc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Wa(a);else{a[0]=a.pop();a=0;b=this.Cc;for(var d=b.length,e=b[a];a<d>>1;){var f=this.getLeftChildIndex_(a),h=this.getRightChildIndex_(a);f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Cc;if(0!=a.length)return a[0].getValue()};g.getLeftChildIndex_=function(a){return 2*a+1};g.getRightChildIndex_=function(a){return 2*a+2};
g.getParentIndex_=function(a){return a-1>>1};g.getValues=function(){for(var a=this.Cc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};g.getKeys=function(){for(var a=this.Cc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.He=function(a){return Qa(this.Cc,function(b){return b.getValue()==a})};g.containsKey=function(a){return Qa(this.Cc,function(b){return b.getKey()==a})};g.clone=function(){return new KR(this)};g.getCount=function(){return this.Cc.length};
g.isEmpty=function(){return 0==this.Cc.length};g.clear=function(){Wa(this.Cc)};function LR(){KR.call(this)}Ia(LR,KR);LR.prototype.enqueue=function(a,b){this.insert(a,b)};LR.prototype.dequeue=function(){return this.remove()};function MR(a,b){this.Lg=void 0;this.gg=new LR;FR.call(this,a,b)}Ia(MR,FR);g=MR.prototype;g.lf=function(){var a=MR.Ed.lf.call(this);a&&this.delay&&(this.Lg=ma.setTimeout(Fa(this.Rf,this),this.delay));return a};g.Rf=function(){for(var a=this.gg;0<a.getCount();){var b=this.lf();if(b)a.dequeue().apply(this,[b]);else break}};g.Bf=function(a){MR.Ed.Bf.call(this,a);this.Rf()};g.Ye=function(){MR.Ed.Ye.call(this);this.Rf()};
g.disposeInternal=function(){MR.Ed.disposeInternal.call(this);ma.clearTimeout(this.Lg);this.gg.clear();this.gg=null};function NR(a,b,c,d){this.Oh=a;this.pe=!!d;MR.call(this,b,c)}Ia(NR,MR);NR.prototype.Of=function(){var a=new lR,b=this.Oh;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.pe&&a.setWithCredentials(!0);return a};NR.prototype.eg=function(a){return!a.fe&&!a.Va};function OR(a){a=y(a);throw vm(y(bA.aa(a)),R.j(a,bA));}var PR={};
function QR(a,b,c,d){if(q(OR)){var e=new Hl(function(){var f=new Date,h=q(a)?a:"?",k=t.aa(b),m=null==c?"\x3ctruss/nil\x3e":xl.da(M([c])),n=PR===d?null:d,r=new Hl(function(){var w=q(n)?t.aa(n):null;var A=["Invariant violation in `",t.aa(ja),":",t.aa(h),"`. Test form `",t.aa(k),"` failed against input val `",t.aa(m),"`."].join("");return yc(n)?A:[A," An error was thrown while evaluating test form: [",w,"]."].join("")}),u=function(){if(q(null))try{return null.ia?null.ia():null.call(null)}catch(w){if(w instanceof
Error)return new p(null,1,[Bm,w],null);throw w;}else return null}();return gk([Vn,bA,ss,uA,Fl,Vt,Qu,gq,YA,ou,vv,$m],[null,r,null,f,c,ja,Bc(c),n,!0,u,a,k])});return OR.aa?OR.aa(e):OR.call(null,e)}return null};var RR=new S(null,3,5,T,[3,1,0],null);function SR(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.ba(null,Pm,qp),c=B.ba(null,qm,qp);q(V.j?V.j(b,qp):V.call(null,b,qp))&&(b=y(GH),b=TR.j?TR.j(ze,b):TR.call(null,ze,b));c=q(V.j?V.j(c,qp):V.call(null,c,qp))?y(FH):c;c=Q.da(null,Pm,b,M([qm,c]));return zH(c,a)}throw vm("`read-edn` attempt against non-nil, non-string arg",new p(null,2,[Ev,a,pq,Bc(a)],null));}
function UR(a){if(null!=a&&(a.la&4096||l===a.Bg)){var b=bh(a);a=Zg(a);return q(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function VR(a){return"string"===typeof a?D.j(a,"")?null:a:null}function WR(a){return"number"===typeof a?Lg(a):"string"===typeof a?(a=parseInt(a,10),q(isNaN(a))?null:a):null}function YR(a){var b=UR(a);if(!q(b))throw vm(["`as-",bh(wp),"` failed against: `",xl.da(M([a])),"`"].join(""),new p(null,2,[Ev,a,pq,Bc(a)],null));return b}
function ZR(a,b,c){return zg(Sk(),xg(function(d,e){var f=P(e,0,null);e=P(e,1,null);return a.ba?a.ba(d,f,e):a.call(null,d,f,e)},wg),b,c)}function $R(a,b){return v.ba(function(c,d){c=a.aa?a.aa(d):a.call(null,d);return q(c)?Qe(c):null},null,b)}
function aS(){var a=Zh(-1);return function(){function b(e){return a.Xc(null,a.Ib(null)+e)}function c(){return a.Xc(null,a.Ib(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.ia=c;d.aa=b;return d}()}
var bS=function bS(a){switch(arguments.length){case 1:return bS.aa(arguments[0]);case 2:return bS.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};bS.aa=function(a){return bS.j(a,null)};bS.j=function(a,b){var c=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,d=B.j(c,vA);b=B.j(c,ny);c=B.ba(c,jn,1E3);a=Math.pow(2,36<a?36:a);a=Lg(.5*(a+Yl.aa(a))*c);d=Lg(q(d)?a<d?d:a:a);return Lg(q(b)?d>b?b:d:d)};bS.na=2;D.j("default","nodejs");
var cS="undefined"!==typeof window?window:null;function dS(a){a=UB(t.aa(a),/-/,2);var b=P(a,0,null);a=P(a,1,null);b=hl(/\d+/,b);b=q(b)?ti.j(WR,b):null;return new p(null,2,[Cn,b,Nx,q(a)?a.toLowerCase():null],null)}
function eS(a){var b=P(RR,0,null),c=P(RR,1,null),d=P(RR,2,null),e=Hf(a)?a:Cn.aa(dS(a));a=P(e,0,null);var f=P(e,1,null);e=P(e,2,null);e=ti.j(function(h){return q(h)?h:0},new S(null,3,5,T,[a,f,e],null));a=P(e,0,null);f=P(e,1,null);e=P(e,2,null);if(!(b>a||D.j(b,a)&&(c>f||D.j(c,f)&&d>=e)))throw vm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new p(null,2,[Fu,QB(".",new S(null,3,5,T,[a,f,e],null)),vr,QB(".",new S(null,3,5,T,[b,
c,d],null))],null));}function fS(a,b){return ib(a,bh(b),null)}function gS(a,b){return null==b?null==a?X:a:Q.ba(a,"x-requested-with",b)}var hS=function hS(a){switch(arguments.length){case 3:return hS.ba(arguments[0],arguments[1],arguments[2]);case 2:return hS.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return hS.da(arguments[0],arguments[1],arguments[2],c)}};
hS.ba=function(a,b,c){return Pf(a,b)?a:Q.ba(a,b,c)};hS.da=function(a,b,c,d){return ZR(hS,hS.ba(a,b,c),d)};hS.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};hS.j=function(a,b){return vg(function(c,d,e){return Pf(c,d)?c:Q.ba(c,d,e)},null==a?X:a,b)};hS.na=3;
var iS=function iS(a){switch(arguments.length){case 2:return iS.j(arguments[0],arguments[1]);case 3:return iS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};iS.j=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?qf:dj(a,b,c)};iS.ba=function(a,b,c){b=0>b?0:b;var d=Lg(K(a));c=c>d?d:c;return b>=c?qf:dj(a,b,c)};iS.na=3;
var jS=function jS(a){switch(arguments.length){case 2:return jS.j(arguments[0],arguments[1]);case 3:return jS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};jS.j=function(a,b){var c=K(a);return 0>b?(b+=c,dj(a,0>b?0:b,c)):b>=c?qf:dj(a,b,c)};jS.ba=function(a,b,c){if(0>=c)return qf;var d=Lg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,dj(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?qf:dj(a,b,d)};jS.na=3;
function kS(a,b){for(var c=qf;;){var d=E(b);b=H(d);if(d=J(d))c=pf.j(c,b),b=d;else return a.j?a.j(c,b):a.call(null,c,b)}}Db.j(v,W);function TR(a,b){b=vg(function(c,d,e){return rh.ba(c,a.aa?a.aa(d):a.call(null,d),e)},oh.aa?oh.aa(X):oh.call(null,X),b);return ph.aa?ph.aa(b):ph.call(null,b)}function lS(a,b){b=Mk(xj(b));a=Df(a)?a:Mk(a);return NH(b,a)}
function mS(a,b,c,d){var e=E(b);if(e){b=bf(b,0);if(e=J(e))return Q.ba(a,b,mS(B.j(a,b),e,c,d));if(q(V.j?V.j(d,QA):V.call(null,d,QA)))return R.j(a,b);c=B.ba(a,b,c);d=d.aa?d.aa(c):d.call(null,c);return q(V.j?V.j(d,QA):V.call(null,d,QA))?R.j(a,b):Q.ba(a,b,d)}return d.aa?d.aa(a):d.call(null,a)}function nS(a,b,c){return mS(a,b,null,function(d){return R.j(d,c)})}var dQ={};
function pS(a,b){return v.ba(function(c,d){return null==d?c:vg(function m(f,h,k){var n=B.ba(f,h,dQ);if(n===dQ)return Q.ba(f,h,k);if(q(V.j?V.j(k,QA):V.call(null,k,QA)))return R.j(f,h);if(q(q(!1)?Ff(k)&&Ff(n):!1))return Q.ba(f,h,vg(m,n,k));k=a.j?a.j(n,k):a.call(null,n,k);return q(V.j?V.j(k,QA):V.call(null,k,QA))?R.j(f,h):Q.ba(f,h,k)},q(c)?c:X,d)},null,b)}function qS(a){return pS(function(b,c){return c},a)}function rS(a,b){this.dg=a;this.hg=b}
function sS(a,b,c){for(;;){var d=y(b);c=c.aa?c.aa(d):c.call(null,d);var e=c instanceof rS,f=e?c.dg:c;Vh(b,f);return e?c.hg:a.j?a.j(d,f):a.call(null,d,f)}}
function tS(a,b,c,d){if(q(V.j?V.j(d,QA):V.call(null,d,QA)))for(;;){var e=y(b);d=R.j(e,c);Vh(b,d);b=B.ba(e,c,null);c=QA;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){e=y(b);var f=B.ba(e,c,null),h=d.aa?d.aa(f):d.call(null,f),k=h instanceof rS,m=k?h.dg:h;d=q(V.j?V.j(m,QA):V.call(null,m,QA))?R.j(e,c):Q.ba(e,c,m);Vh(b,d);return k?h.hg:a.j?a.j(f,m):a.call(null,f,m)}}
function uS(a,b,c){var d=oS,e=E(b);if(e)if(J(e))if(q(V.j?V.j(c,QA):V.call(null,c,QA)))for(;;){var f=y(a);e=kS(function(n){return function(r,u){return nS(n,r,u)}}(f,e,e),b);Vh(a,e);a=xi(f,b,null);b=QA;return d.j?d.j(a,b):d.call(null,a,b)}else for(;;){f=y(a);var h=xi(f,b,null);c=c.aa?c.aa(h):c.call(null,h);var k=c instanceof rS,m=k?c.dg:c;e=q(V.j?V.j(m,QA):V.call(null,m,QA))?kS(function(n){return function(r,u){return nS(n,r,u)}}(f,h,c,k,m,e,e),b):yi(f,b,m);Vh(a,e);return k?c.hg:d.j?d.j(h,m):d.call(null,
h,m)}else return tS(d,a,bf(b,0),c);else return sS(d,a,c)}function oS(a,b){return b}function wS(a,b){return sS(oS,a,b)}function xS(a,b,c){return uS(a,b,c)}function vS(a){return a}
function zS(a,b,c){a:{var d=E(b);if(d)if(J(d))for(;;){d=y(a);var e=yi(d,b,c);Vh(a,e);a=xi(d,b,null);vS.j?vS.j(a,c):vS.call(null,a,c);break a}else b:for(b=bf(b,0);;){d=y(a);e=Q.ba(d,b,c);Vh(a,e);a=B.ba(d,b,null);vS.j?vS.j(a,c):vS.call(null,a,c);break b}else b:for(;;){b=y(a);Vh(a,c);vS.j?vS.j(b,c):vS.call(null,b,c);break b}}}function AS(){return(new Date).getTime()}
(function(){var a=fS(cS,"performance");if(q(a)){var b=function(){var c=fS(a,"now");if(q(c))return c;c=fS(a,"mozNow");if(q(c))return c;c=fS(a,"msNow");if(q(c))return c;c=fS(a,"oNow");return q(c)?c:fS(a,"webkitNow")}();return q(b)?function(){return 1E6*Lg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function BS(a){var b=Zh(X),c={};return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){var h=H(f);if(q(V.j?V.j(h,bt):V.call(null,h,bt)))return f=J(f),h=H(f),q(V.j?V.j(h,$o):V.call(null,h,$o))?he(b,X):b.Xc(null,R.j(b.Ib(null),f)),null;if(q(V.j?V.j(h,uz):V.call(null,h,uz)))return f=J(f),h=yh(a,f),b.Xc(null,Q.ba(b.Ib(null),f,h)),h;h=B.ba(y(b),f,c);return h===c?
(h=yh(a,f),b.Xc(null,Q.ba(b.Ib(null),f,h)),h):h}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}function CS(a,b){this.n=a;this.cg=b}function DS(a,b){this.n=a;this.jg=b}function ES(a,b,c){this.m=a;this.jh=b;this.lg=c}
function FS(a){if(Ff(a))return vg(function(c,d,e){var f=P(e,0,null);e=P(e,1,null);return Q.ba(c,d,new CS(f,e))},X,a);if(Hf(a)){var b=Zh(-1);return v.ba(function(c,d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);return Q.ba(c,q(d)?d:b.Xc(null,b.Ib(null)+1),new CS(e,f))},X,a)}throw vm("No matching `encore/cond!` clause",X);}
function GS(a){function b(f,h){var k=(new Date).getTime();yc(h)&&6.25E-5>=Math.random()&&(Vh(c,null),Wh.j(d,function(u){return Vd(vg(function(w,A,G){G=vg(function(I,F,N){var O=B.j(e,F);return q(O)?k>=N.jg+O.cg?R.j(I,F):I:R.j(I,F)},G,G);return Bf(G)?Xd(w,A):rh.ba(w,A,G)},Td(q(u)?u:X),u))}));for(;;){var m=y(d),n=B.j(m,f),r=null==n?null:vg(function(u,w,A,G,I,F){return function(N,O,U){var ea=B.j(F,O);if(q(ea)){if(U.n<ea.n)return N;U=U.jg+ea.cg-A;return 0>=U?N:null==N?new ES(uf([O,U]),O,U):U>N.lg?new ES(Q.ba(N.m,
O,U),O,U):new ES(Q.ba(N.m,O,U),N.jh,N.lg)}return N}}(m,n,k,c,d,e),null,n);if(q(q(h)?h:r))return h=r,q(h)?(f=h,new S(null,3,5,T,[f.jh,f.lg,f.m],null)):null;h=y(c);q(h)||(n=vg(function(u,w,A,G,I){return function(F,N,O){return Q.ba(F,N,function(){var U=B.j(A,N);if(q(U)){var ea=U.jg;return I>=ea+O.cg?new DS(1,I):new DS(U.n+1,ea)}return new DS(1,I)}())}}(h,m,n,r,k,c,d,e),n,e),Vh(d,Q.ba(m,f,n)));return null}}if(Bf(a))return new S(null,2,5,T,[null,Nh(null)],null);var c=Uh(null),d=Uh(null),e=FS(a);return new S(null,
2,5,T,[d,function(){function f(n,r){if(q(V.j?V.j(n,yw):V.call(null,n,yw)))return q(V.j?V.j(r,xt):V.call(null,r,xt))?Vh(d,null):Wh.ba(d,R,r),null;if(q(V.j?V.j(n,qx):V.call(null,n,qx)))return b(r,!0);throw vm("Unrecognized rate limiter command",new p(null,2,[Ev,n,Yr,r],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,r){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,r)}throw Error("Invalid arity: "+
arguments.length);};m.ia=k;m.aa=h;m.j=f;return m}()],null)}
var HS=function(){function a(d){return new dc(d)}function b(){return new dc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.ia=b;c.aa=a;return c}(),IS=function(){function a(e,f){e=e instanceof dc?e:HS.aa(t.aa(e));f=t.aa(f);return e.append(f)}function b(e){return e instanceof dc?e:HS.aa(t.aa(e))}function c(){return HS.ia()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.ia=c;d.aa=b;d.j=a;return d}();function JS(a,b){if(q(q(" ")?Dh.j(" ",""):" ")){var c=ni(),d=xg(IS,t);return q(a)?yg(Oh.j(a,c),d,b):yg(c,d,b)}return q(a)?yg(a,xg(IS,t),b):t.aa(v.j(IS,b))}
var KS=function KS(a){switch(arguments.length){case 2:return KS.j(arguments[0],arguments[1]);case 3:return KS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};KS.j=function(a,b){return a.substring(b)};KS.ba=function(a,b,c){return b>=c?"":a.substring(b,c)};KS.na=3;
var LS=function LS(a){switch(arguments.length){case 2:return LS.j(arguments[0],arguments[1]);case 3:return LS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};LS.j=function(a,b){return VR(a.substr(b))};LS.ba=function(a,b,c){return VR(a.substr(b,c))};LS.na=3;function MS(a){return void 0===a||null==a?"nil":a}
function NS(a){if(VB("/"))return t.aa(v.ba(IS,"",a));var b=Zh(!1),c=Zh(!0);return t.aa(v.ba(function(d,e){e=t.aa(e);var f=D.j(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?Dh.j(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);he(b,k);q(n)&&he(c,f);if(q(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||q(q(n)?n:f)||d.append("/");return d.append(e)},HS.ia(),a))}
function OS(){function a(){return am(16).toString(16)}var b=(8|3&am(16)).toString(16);return[t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-4",t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(b),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a())].join("")}ti.j(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var PS=function PS(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return PS.da(c)};PS.da=function(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,Mm);var c=B.j(b,MA),d=B.j(b,vB),e=B.j(b,Mt),f=B.j(b,os),h=B.j(b,ev),k=B.j(b,In),m=B.j(b,Hu);b=B.j(b,Xu);return Math.round((q(b)?31536E6*b:0)+(q(e)?2551392E3*e:0)+(q(c)?6048E5*c:0)+(q(k)?864E5*k:0)+(q(m)?36E5*m:0)+(q(h)?6E4*h:0)+(q(f)?1E3*f:0)+(q(d)?d:0)+(q(a)?a:0))};
PS.na=0;PS.qa=function(a){return this.da(E(a))};Oh.j(function(a){return Ng(Lg(a),1E3)},PS);var QS=new Hl(function(){return new NR});function RS(){var a=y(QS).lf();return void 0===a?null:a}
var SS="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},TS="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},US=function(){function a(c,d){if(q(SS(d)))return new S(null,2,5,T,[c,d],null);if(q("undefined"!==typeof FormData?$R(TS,yj(d)):!1)){var e=new FormData;d=E(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.La(null,k),n=P(m,0,null);m=P(m,1,null);e.append(bh(n),m);k+=1}else if(d=E(d))If(d)?(h=ae(d),d=be(d),f=h,h=K(h)):
(h=H(d),f=P(h,0,null),h=P(h,1,null),e.append(bh(f),h),d=J(d),f=null,h=0),k=0;else break;return new S(null,2,5,T,[c,e],null)}return new S(null,2,5,T,[c,b(d)],null)}var b=function(){function c(f,h){h=e.aa(h);f=VB(h)?f:[t.aa(f),"?",t.aa(h)].join("");return new S(null,2,5,T,[f,null],null)}function d(f){if(E(f)){var h=Rl(f);f=Qb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new $b(null,void 0);h=Pb(h);for(var m=0;m<f.length;m++){var n=f[m],r=h[m];if(qa(r)){var u=k;u.remove(n);0<r.length&&
(u.Nc=null,u.Ab.set(cc(u,n),Za(r)),u.count_+=r.length)}else k.add(n,r)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.aa=d;e.j=c;return e}();return function(c,d,e){d=d instanceof C?d.Aa:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.aa(d)].join(""));}}}();
function VS(a,b,c){var d=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,e=B.ba(d,Pu,Mu);b=B.j(d,eu);var f=B.j(d,en),h=B.ba(d,go,1E4),k=B.ba(d,KA,or),m=B.j(d,TA),n=RS();if(q(n))try{var r=function(){var N=Bu.aa(d);return q(N)?N:h}(),u=function(){var N=e instanceof C?e.Aa:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.aa(N)].join(""));}}(),w=US(a,e,b),A=P(w,0,null),G=P(w,1,null),I=function(){var N=TR(function(O){return bh(O).toLowerCase()},
f);N=gS(N,B.ba(N,"x-requested-with","XMLHTTPRequest"));return Rl(N)}(),F=function(){var N=Gt.aa(d);return q(N)?(n.Yg=!0,PQ(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,va=O.total,wa=q(q(U)?Dh.j(va,0):U)?ea/va:null;O=new p(null,5,[FA,wa,pt,U,vu,ea,ft,va,eA,O],null);return N.aa?N.aa(O):N.call(null,O)})):null}();QQ(n,"ready",function(){return HR(y(QS),n)});QQ(n,"complete",function(N){var O=xR(n),U=wR(n),ea=Dh.j(U,-1)?function(){var xa=n.getResponseHeader("content-type"),Ra=function(){if(Dh.j(k,
or))var ka=k;else null==xa?ka=St:(ka=t.aa(xa).toLowerCase(),ka=Dh.j(-1,ka.indexOf("/edn"))?sv:Dh.j(-1,ka.indexOf("/json"))?ws:Dh.j(-1,ka.indexOf("/xml"))?Ov:St);try{var oa=ka instanceof C?ka.Aa:null;switch(oa){case "edn":return SR(zR(n));case "json":if(n.Va){b:{var Ca=n.Va.responseText;if(ma.JSON)try{var ua=ma.JSON.parse(Ca);break b}catch(ac){}ua=eR(Ca)}var Ba=ua}else Ba=void 0;return Ba;case "xml":try{var Ua=n.Va?n.Va.responseXML:null}catch(ac){Ua=null}return Ua;case "text":return zR(n);default:throw Error(["No matching clause: ",
t.aa(oa)].join(""));}}catch(ac){return new p(null,2,[Uo,ka,Nz,zR(n)],null)}}();return new S(null,3,5,T,[U,xa,Ra],null)}():null,va=P(ea,0,null),wa=P(ea,1,null);ea=P(ea,2,null);q(F)&&YQ(F);N=new p(null,7,[Cz,N,cv,n,Ry,O,zn,va,kA,wa,jt,ea,kq,q(O)?null:q(va)?va:B.ba(uf([0,null,5,Lo,6,Ux,7,sn,8,Bu]),n.je,Ex)],null);return c.aa?c.aa(N):c.call(null,N)});n.wf=Math.max(0,q(r)?r:0);q(m)&&n.setWithCredentials(!0);n.send(A,u,G,I);return n}catch(N){return a=N,HR(y(QS),n),a=new p(null,1,[kq,a],null),c.aa?c.aa(a):
c.call(null,a),null}else return a=new p(null,1,[kq,Ip],null),c.aa?c.aa(a):c.call(null,a),null}function WS(a){return q(a)?OB(encodeURIComponent(t.aa(a),a),"*","%2A"):null}function XS(a,b){P(b,0,null);return q(a)?decodeURIComponent(t.aa(a)):null}
function YS(a){function b(c,d){return[WS(YR(c)),"\x3d",WS(function(){var e=UR(d);return q(e)?e:t.aa(d)}())].join("")}return Bf(a)?"":QB("\x26",function(){return function e(d){return new ch(null,function(){for(var f=d;;)if(f=E(f)){if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);null!=I&&jh(m,Ef(I)?QB("\x26",ti.j(Db.j(b,G),function(){var F=E(I);return F?F:new S(null,1,5,T,[""],null)}())):b(G,I));w+=1}else return!0}()?ih(kh(m),e(be(f))):
ih(kh(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);if(null!=u)return hf(Ef(u)?QB("\x26",ti.j(Db.j(b,r),function(){var w=E(u);return w?w:new S(null,1,5,T,[""],null)}())):b(r,u),e(Fe(f)));f=Fe(f)}else return null},null,null)}(a)}())}function ZS(a,b,c){return Q.ba(a,b,function(){var d=B.j(a,b);return q(d)?Hf(d)?pf.j(d,c):new S(null,2,5,T,[d,c],null):c}())}
function $S(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return aT(arguments[0],b)}function aT(a,b){var c=P(b,0,null),d=P(b,1,null);if(VB(a)||!Dh.j(-1,a.indexOf("\x3d")))return X;a=0===a.indexOf("?")?Sg.j(a,1):a;a=v.ba(function(e,f){var h=UB(f,/=/,2);return q(h)?(f=P(h,0,null),h=P(h,1,null),ZS(e,XS(f,M([d])),XS(h,M([d])))):e},X,TB(a,/&/));return q(c)?TR(ah,a):a}
function bT(a,b){var c=UB(t.aa(a),/\?/,2);a=P(c,0,null);c=P(c,1,null);b=qS(M([q(c)?TR(ah,$S(c)):null,TR(ah,b)]));b=YS(b);b="string"===typeof b?VB(b)?null:b:null;return q(b)?[t.aa(a),"?",b].join(""):a}function yS(){return!0}function cT(){return!1}function dT(a){return Dh.j(-1,a.indexOf("*"))?il(OB(OB(["^",t.aa(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function eT(a,b){for(;;){if(q(function(){var n=new Jk(null,new p(null,2,["*",null,is,null],null),null);return n.aa?n.aa(a):n.call(null,a)}()))return yS;if(q(function(){var n=Rf([qf,Lk,qq]);return n.aa?n.aa(a):n.call(null,a)}()))return cT;if(a instanceof RegExp)return function(n){return function(r){return fl(n,r)}}(a,b,yS,cT,dT);if("string"===typeof a){var c=dT(a);if(q(c)){var d=b;a=c;b=d}else return function(n){return function(r){return D.j(r,n)}}(a,b,c,yS,cT,dT)}else if(Hf(a)||Df(a)){if(q(function(){var n=
Mk(a);return n.aa?n.aa("*"):n.call(null,"*")}()))return yS;if(D.j(K(a),1))c=H(a),d=b,a=c,b=d;else{var e=v.ba(function(n,r,u,w,A){return function(G,I){var F=P(G,0,null);G=P(G,1,null);var N=I instanceof RegExp?I:A(I);return q(N)?new S(null,2,5,T,[F,pf.j(G,N)],null):new S(null,2,5,T,[pf.j(F,I),G],null)}}(a,b,yS,cT,dT),new S(null,2,5,T,[Lk,qf],null),a),f=P(e,0,null),h=P(e,1,null),k=Eh(f),m=function(){var n=Eh(h);return q(n)?(n=function(r,u,w,A,G,I,F,N,O,U,ea){return function(va){return $R(function(){return function(wa){return fl(wa,
va)}}(r,u,w,A,G,I,F,N,O,U,ea),w)}}(a,b,n,n,e,f,h,k,yS,cT,dT),q(b)?Xl(n):n):null}();if(q(function(){var n=k;return q(n)?m:n}()))return function(n,r,u,w,A,G,I){return function(F){var N=G.aa?G.aa(F):G.call(null,F);return q(N)?N:I.aa?I.aa(F):I.call(null,F)}}(a,b,e,f,h,k,m,yS,cT,dT);if(q(k))return k;if(q(m))return m;throw vm("No matching `encore/cond!` clause",X);}}else throw vm("Unexpected compile spec type",new p(null,2,[Ev,a,pq,Bc(a)],null));}}
function gT(a){for(;;){if(Ff(a)){var b=B.j(a,ts),c=function(){var h=B.j(a,tn);return q(h)?h:B.j(a,EB)}(),d=function(){var h=B.j(a,Xq);return q(h)?h:B.j(a,to)}(),e=function(){var h=c;return q(h)?eT(h,b):null}(),f=function(){var h=d;return q(h)?eT(h,b):null}();if(D.j(f,yS)||D.j(e,cT))return cT;if(q(function(){var h=e;return q(h)?f:h}()))return function(h,k,m,n,r,u){return function(w){w=t.aa(w);return q(r.aa?r.aa(w):r.call(null,w))?q(u.aa?u.aa(w):u.call(null,w))?!1:!0:!1}}(a,b,c,d,e,f,yS,cT,dT,eT);if(q(e))return D.j(e,
yS)?yS:function(h,k,m,n,r){return function(u){u=t.aa(u);u=r.aa?r.aa(u):r.call(null,u);return q(u)?!0:!1}}(a,b,c,d,e,f,yS,cT,dT,eT);if(q(f))return D.j(f,cT)?yS:function(h,k,m,n,r,u){return function(w){w=t.aa(w);w=u.aa?u.aa(w):u.call(null,w);return q(w)?!0:!1}}(a,b,c,d,e,f,yS,cT,dT,eT);throw vm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new p(null,2,[xs,c,Sn,d],null));}a=new p(null,2,[tn,a,Xq,null],null)}}Oh.j(Eh,iS);Oh.j(Eh,jS);Oh.j(VR,KS);Oh.j(VR,LS);
function fT(a){return Pf(Rf([null,qf,Lk]),a)}var iT=function iT(a){switch(arguments.length){case 1:return iT.aa(arguments[0]);case 2:return iT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};iT.aa=function(a){return iT.j(a,null)};iT.j=function(a,b){return fT(a)&&fT(b)?function(){return!0}:gT(new p(null,2,[tn,a,Xq,b],null))};iT.na=2;function jT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;return kT(b)}
function kT(a){P(a,0,null);return new p(null,6,[Uw,!0,Dq,!1,oA,null,sr,null,Zs,aA,Qz,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof C?c.Aa:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.aa(e)].join(""));}}();return q(d)?
d:console.log}return function(c){var d=b(Im.aa(c));if(q(d)){if(q(function(){var h=Io.aa(c);return q(h)?h:wi(c,new S(null,2,5,T,[ez,Io],null))}())){var e=function(){var h=Q.da(c,bA,"",M([gq,null])),k=Zs.aa(c);return k.aa?k.aa(h):k.call(null,h)}(),f=function(){var h=hz.aa(c),k=gq.aa(c);return q(k)?hf(e,hf(k,h)):hf(e,h)}();return d.apply(console,Ic(f))}return d.call(console,Ll(fB.aa(c)))}return null}}():function(){return null}],null)};Hf(RR)?eS(new S(null,3,5,T,[2,87,0],null)):eS(2.87);var lT=function lT(a){switch(arguments.length){case 1:return lT.aa(arguments[0]);case 2:return lT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};lT.aa=function(a){return lT.j(null,a)};
lT.j=function(a,b){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,Gq);B.j(c,lz);var e=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;b=B.j(e,Im);c=B.j(e,gq);var f=B.j(e,bA),h=B.j(e,zr),k=B.j(e,$x);B.j(e,gv);B.j(e,Mz);e=B.j(e,vv);return[bh(b).toUpperCase()," [",t.aa(q(h)?h:q(k)?k:"?"),":",t.aa(q(e)?e:"?"),"] - ",t.aa(Ll(f)),q(d)?null:q(c)?["\n",t.aa(mT?mT(c,a):nT.call(null,c,a))].join(""):null].join("")};lT.na=2;
var oT=new p(null,6,[Im,cx,Jn,qf,fq,qf,Qw,qf,Zs,lT,ox,new p(null,1,[fA,jT.aa?jT.aa(X):jT.call(null,X)],null)],null),pT=Mk(new S(null,7,5,T,[vw,cx,Ys,mz,Hp,qr,Fn],null)),qT=Pk(new S(null,7,5,T,[vw,cx,Ys,mz,Hp,qr,Fn],null),J(Yk.ia()));function rT(a){var b=pT.aa?pT.aa(a):pT.call(null,a);if(q(b))return b;throw vm("Invalid Timbre logging level",new p(null,1,[Ev,a],null));}
function sT(a,b){return function(){var c=rT(a);return qT.aa?qT.aa(c):qT.call(null,c)}()>=function(){var c=rT(b);return qT.aa?qT.aa(c):qT.call(null,c)}()}var tT=BS(iT),uT=BS(function(a,b,c){a=tT(a,b);return a.aa?a.aa(c):a.call(null,c)});function vT(a){var b=B.ba(oT,Im,Fn);return sT(a,b)&&Mf(uT(B.j(oT,Jn),B.j(oT,fq),ja))&&!0}function wT(a){return JS(ci.aa(function(b){b=MS(b);return Gf(b)?xl.da(M([b])):b}),a)}var xT=BS(function(a,b){a=GS(b);P(a,0,null);return P(a,1,null)});
function yT(a){return 1<K(a)?dj(a,1,K(a)):qf}function zT(a){var b=V.j?V.j(or,or):V.call(null,or,or),c=V.j?V.j(uw,uw):V.call(null,uw,uw),d=P(a,0,null);if(q(q(b)?d instanceof Error:b)){b=d;d=null;var e=yT(a);a=q(c)?P(e,0,null):null;c=q(c)?yT(e):e;return new S(null,4,5,T,[b,d,a,c],null)}d=q(Ff(d)?rc.aa(yf(d)):!1)?d:null;e=gr.aa(d);b=q(e)?e:q(b)?null:or;d=R.j(d,gr);e=q(d)?yT(a):a;a=q(c)?P(e,0,null):null;c=q(c)?yT(e):e;return new S(null,4,5,T,[b,d,a,c],null)}
function AT(a,b,c,d){if(vT(a)){var e=new Date;c=y(c);c=zT(c);var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);e=pf.j(q(null)?null:X,gk([Rr,jB,hz,$x,su,zr,Im,gq,zz,vv,Lm,ez,mv],[e,oT,c,null,function(){var u=new Jk(null,new p(null,2,[qr,null,Hp,null],null),null);return u.aa?u.aa(a):u.call(null,a)}(),ja,a,f,null,b,new Hl(function(){return f}),h,k]));e=v.ba(function(u,w){u=w.aa?w.aa(u):w.call(null,u);return null==u?Qe(null):u},e,Qw.aa(oT));if(q(e)){c=null!=e&&(e.ga&64||l===e.Ja)?yh(zk,e):e;
var m=B.j(c,hz);e=Q.ba(e,Do,new Hl(function(){return m}));var n=hS.da(e,bA,new Hl(function(){if(D.j(null,uw))return"";if(D.j(Hw,uw))return wT(m);if(D.j(uw,uw)){if("string"!==typeof k)throw vm("Timbre format-style logging call without a format pattern (string)",new p(null,2,[Im,a,Nv,[t.aa(q(ja)?ja:q(null)?null:"?"),":",t.aa(q(b)?b:"?")].join("")],null));var u=q(k)?k:"",w=ti.j(MS,m);return zh(vQ,u,w)}throw Error(["No matching clause: ",t.aa(uw)].join(""));}),M([Tx,new Hl(function(){return ve(new S(null,
3,5,T,[d,k,B.ba(h,iA,m)],null))})])),r=BS(B.ba(oT,Zs,lT));vg(function(u,w,A){if(q(function(){var O=Uw.aa(A);q(O)&&(O=oA.aa(A),O=sT(a,q(O)?O:vw));return O}())&&q(uT(Jn.aa(A),fq.aa(A),ja))){var G=sr.aa(A);if(function(){var O=Bf(G);if(O)return O;O=xT(w,G);var U=Ll(Tx.aa(n));O=O.aa?O.aa(U):O.call(null,U);return yc(O)}()){var I=null!=A&&(A.ga&64||l===A.Ja)?yh(zk,A):A;u=B.j(I,Qz);B.j(I,Dq);var F=function(){var O=Zs.aa(A);var U=(U=null==O)?U:V.j?V.j(O,aA):V.call(null,O,aA);return q(U)?r:O}(),N=pf.j(n,new p(null,
4,[eo,w,pz,A,Zs,F,fB,new Hl(function(){return F.aa?F.aa(n):F.call(null,n)})],null));I=function(){var O=Nm.aa(A);return q(O)?O.aa?O.aa(N):O.call(null,N):N}();return q(I)?u.aa?u.aa(I):u.call(null,I):null}}return null},null,ox.aa(oT))}}return null}function nT(a){switch(arguments.length){case 1:return mT(arguments[0],null);case 2:return mT(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function mT(a){return t.aa(a)};function BT(a,b){if(null!=a&&null!=a.eh)a=a.eh(a,b);else{var c=BT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=BT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.pack",a);}return a}function CT(a,b){if(null!=a&&null!=a.fh)a=a.fh(a,b);else{var c=CT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=CT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.unpack",a);}return a};Hf(RR)?eS(new S(null,3,5,T,[2,105,0],null)):eS(2.105);var DT=D.j("default","nodejs"),ET=Uh(!1);function FT(a,b){return new p(null,2,[zm,a,Kp,new p(null,2,[pq,Bc(b),Rw,b],null)],null)}
function GT(a){if(Hf(a)){var b=K(a);var c=new Jk(null,new p(null,2,[1,null,2,null],null),null);b=c.aa?c.aa(b):c.call(null,b);if(yc(b))return new p(null,1,[Yv,FT(new Jk(null,new p(null,2,[1,null,2,null],null),null),a)],null);b=P(a,0,null);P(a,1,null);return b instanceof C?yc(Zg(b))?new p(null,1,[tt,FT(ur,b)],null):null:new p(null,1,[kp,FT(DB,b)],null)}return new p(null,1,[gx,FT(dx,a)],null)}function HT(a){var b=GT(a);if(q(b))throw vm("Invalid event",new p(null,2,[Ev,a,HB,b],null));}
function IT(a,b){var c=0===b.indexOf("+"),d=Sg.j(b,1),e=function(){try{return CT(a,d)}catch(m){var k=m;AT(cx,215,new Hl(function(){return new S(null,3,5,T,["Bad package: %s (%s)",d,k],null)}),-1745346960);return new S(null,2,5,T,[Qx,d],null)}}();c=c?e:new S(null,2,5,T,[e,null],null);var f=P(c,0,null);c=P(c,1,null);var h=D.j(0,c)?zw:c;AT(vw,221,new Hl(function(){return new S(null,3,5,T,["Unpacking: %s -\x3e %s",b,new S(null,2,5,T,[f,h],null)],null)}),6430203);return new S(null,2,5,T,[f,h],null)}
function JT(a,b,c){c=D.j(c,zw)?0:c;var d=q(c)?new S(null,2,5,T,[b,c],null):new S(null,1,5,T,[b],null),e=["+",t.aa(BT(a,d))].join("");AT(vw,237,new Hl(function(){return new S(null,3,5,T,["Packing (wrapped): %s -\x3e %s",d,e],null)}),2093032810);return e}function KT(){}KT.prototype.eh=function(a,b){a:{a=nc;var c=mc;mc=nc=null;try{var d=xl.da(M([b]));break a}finally{mc=c,nc=a}d=void 0}return d};KT.prototype.fh=function(a,b){return SR(b)};var LT=new KT;function MT(a){return D.j(a,sv)?LT:a}aS.ia&&aS.ia();
function NT(a){if(null!=a&&null!=a.ne)a=a.ne(a);else{var b=NT[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=NT._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChSocket.-chsk-connect!",a);}return a}function OT(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=OT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=OT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IChSocket.-chsk-disconnect!",a);}return a}
function PT(a,b,c){if(null!=a&&null!=a.We)a=a.We(a,b,c);else{var d=PT[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=PT._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IChSocket.-chsk-send!",a);}return a}
var QT=function QT(a){switch(arguments.length){case 2:return QT.j(arguments[0],arguments[1]);case 4:return QT.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return QT.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};QT.j=function(a,b){return QT.ba(a,b,X)};QT.ja=function(a,b,c,d){return QT.ba(a,b,new p(null,2,[go,c,PA,d],null))};
QT.ba=function(a,b,c){AT(vw,877,new Hl(function(){return new S(null,3,5,T,["Chsk send: (%s) %s",Q.ba(c,PA,Mf(PA.aa(c))),b],null)}),-1757286694);return PT(a,b,c)};QT.na=4;function RT(a){AT(mz,881,new Hl(function(){return new S(null,1,5,T,["Chsk send against closed chsk."],null)}),-800723023);q(a)&&(a.aa?a.aa(uB):a.call(null,uB));return!1}function ST(a,b){return q(b)?xS(a,new S(null,1,5,T,[b],null),function(c){return new rS(QA,c)}):null}
function TT(a,b){var c=wS(Ly.aa(a),function(e){var f=b.aa?b.aa(e):b.call(null,e);f=q(bp.aa(e))?Q.ba(f,bp,!1):f;f=q(fy.aa(f))?R.j(f,Kv):f;return new rS(f,new S(null,2,5,T,[e,f],null))}),d=P(c,0,null);c=P(c,1,null);return Dh.j(d,c)?(d=new S(null,2,5,T,[d,c],null),mQ(wi(a,new S(null,2,5,T,[ax,vo],null)),new S(null,2,5,T,[fs,d],null)),d):null}function UT(a,b){var c=fy.aa(a);c=q(c)?c:Dh.j(b,rs);return q(c)?Q.da(R.j(a,Kv),fy,!1,M([Fw,new p(null,2,[ao,AS(),hB,b],null)])):a}
function VT(a,b){if(null==a||Nf(a))return a;HT(b);var c=P(b,0,null);P(b,1,null);return function(d){return mQ(a,new S(null,2,5,T,[ah.aa([YR(c),".cb"].join("")),d],null))}}
function WT(a,b){AT(vw,955,new Hl(function(){return new S(null,2,5,T,["receive-buffered-evs!: %s",b],null)}),-1871144854);for(var c=E(b),d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);HT(h);P(h,0,null);mQ(lr.aa(a),h);f+=1}else if(c=E(c))d=c,If(d)?(c=ae(d),e=be(d),d=c,h=K(c),c=e,e=h):(h=H(d),HT(h),P(h,0,null),mQ(lr.aa(a),h),c=J(d),d=null,e=0),f=0;else return null}function XT(a){return Hf(a)?(a=P(a,0,null),D.j(a,SA)):!1}
function YT(a,b,c){AT(vw,970,new Hl(function(){return new S(null,3,5,T,["receive-handshake! (%s): %s",a,c],null)}),-1737079132);P(c,0,null);var d=P(c,1,null),e=P(d,0,null);P(d,1,null);var f=P(d,2,null),h=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;d=B.j(h,ax);h=B.j(h,By);h=Xh(h);var k=new p(null,6,[pq,a,fy,!0,yt,!0,sp,e,Qp,f,bp,h],null);e=new S(null,2,5,T,[SA,new S(null,4,5,T,[e,null,f,h],null)],null);HT(e);TT(b,function(m){return Ek.da(M([m,k]))});mQ(Vr.aa(d),e)}
var ZT=function(){var a="undefined"!==typeof require?require:Nh(zs);return new Hl(function(){if(DT&&"undefined"!==typeof require)try{var b=[t.aa("web"),"socket"].join("");return a.aa?a.aa(b):a.call(null,b)}catch(c){return null}else return null})}();
function $T(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;B.j(a,bv);B.j(a,jq);B.j(a,lB);B.j(a,Ir);B.j(a,en);var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,bv);var c=B.j(b,jq),d=B.j(b,lB),e=B.j(b,Ir);B.j(b,en);b=fS(ma,"WebSocket");q(b)||(b=fS(ma,"MozWebSocket"),b=q(b)?b:fS(y(ZT),"w3cwebsocket"));q(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function aU(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){this.Ua=a;this.Ta=b;this.params=c;this.headers=d;this.Sa=e;this.url=f;this.zb=h;this.state_=k;this.Pa=m;this.tb=n;this.Wa=r;this.Qa=u;this.mb=w;this.qb=A;this.rb=G;this.ea=I;this.ca=F;this.fa=N;this.ga=2230716170;this.la=139264}g=aU.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "client-id":return this.Ua;case "chs":return this.Ta;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Sa;case "url":return this.url;case "ws-kalive-ms":return this.zb;case "state_":return this.state_;case "instance-handle_":return this.Pa;case "retry-count_":return this.tb;case "ever-opened?_":return this.Wa;case "backoff-ms-fn":return this.Qa;case "cbs-waiting_":return this.mb;case "socket_":return this.qb;
case "udt-last-comms_":return this.rb;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,W.j(new S(null,15,5,T,[new S(null,2,5,T,[Jt,this.Ua],null),new S(null,2,5,T,[ax,this.Ta],null),new S(null,2,5,T,[eu,this.params],null),new S(null,2,5,T,[en,this.headers],null),new S(null,2,5,T,[Py,this.Sa],null),new S(null,2,5,T,[ty,this.url],null),new S(null,2,5,T,[ux,this.zb],null),new S(null,2,5,T,[Ly,this.state_],null),new S(null,2,5,T,[Kr,this.Pa],null),new S(null,2,5,T,[hu,this.tb],
null),new S(null,2,5,T,[By,this.Wa],null),new S(null,2,5,T,[yz,this.Qa],null),new S(null,2,5,T,[Rx,this.mb],null),new S(null,2,5,T,[Oz,this.qb],null),new S(null,2,5,T,[Xt,this.rb],null)],null),this.ca))};g.Ba=function(){return new rj(this,15,new S(null,15,5,T,[Jt,ax,eu,en,Py,ty,ux,Ly,Kr,hu,By,yz,Rx,Oz,Xt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 15+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1998688700^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ua,b.Ua)&&D.j(this.Ta,b.Ta)&&D.j(this.params,b.params)&&D.j(this.headers,b.headers)&&D.j(this.Sa,b.Sa)&&D.j(this.url,b.url)&&D.j(this.zb,b.zb)&&D.j(this.state_,b.state_)&&D.j(this.Pa,b.Pa)&&D.j(this.tb,b.tb)&&D.j(this.Wa,b.Wa)&&D.j(this.Qa,b.Qa)&&D.j(this.mb,b.mb)&&D.j(this.qb,b.qb)&&D.j(this.rb,b.rb)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,15,[ux,null,By,null,Jt,null,Py,null,ax,null,Xt,null,eu,null,hu,null,en,null,yz,null,Oz,null,ty,null,Kr,null,Rx,null,Ly,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Jt,b):V.call(null,Jt,b))?new aU(c,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(ax,b):V.call(null,ax,b))?new aU(this.Ua,c,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(eu,b):V.call(null,eu,b))?new aU(this.Ua,this.Ta,c,this.headers,this.Sa,this.url,
this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(en,b):V.call(null,en,b))?new aU(this.Ua,this.Ta,this.params,c,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Py,b):V.call(null,Py,b))?new aU(this.Ua,this.Ta,this.params,this.headers,c,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(ty,b):V.call(null,
ty,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,c,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(ux,b):V.call(null,ux,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,c,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Ly,b):V.call(null,Ly,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,c,this.Pa,this.tb,this.Wa,this.Qa,this.mb,
this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Kr,b):V.call(null,Kr,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,c,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(hu,b):V.call(null,hu,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,c,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(By,b):V.call(null,By,b))?new aU(this.Ua,this.Ta,this.params,this.headers,
this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,c,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(yz,b):V.call(null,yz,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,c,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Rx,b):V.call(null,Rx,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,c,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Oz,
b):V.call(null,Oz,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,c,this.rb,this.ea,this.ca,null):q(V.j?V.j(Xt,b):V.call(null,Xt,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,c,this.ea,this.ca,null):new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,
this.rb,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,15,5,T,[new Y(Jt,this.Ua),new Y(ax,this.Ta),new Y(eu,this.params),new Y(en,this.headers),new Y(Py,this.Sa),new Y(ty,this.url),new Y(ux,this.zb),new Y(Ly,this.state_),new Y(Kr,this.Pa),new Y(hu,this.tb),new Y(By,this.Wa),new Y(yz,this.Qa),new Y(Rx,this.mb),new Y(Oz,this.qb),new Y(Xt,this.rb)],null),this.ca))};
g.sa=function(a,b){return new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.uf=function(a,b){Vh(this.Pa,null);TT(this,function(c){return UT(c,b)});a=y(this.qb);return q(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.We=function(a,b,c){var d=this;a=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;var e=B.j(a,go);c=B.j(a,PA);B.j(a,zp);HT(b);var f=VT(c,b);if(yc(fy.aa(y(d.state_))))return RT(f);var h=q(f)?LS.ba(OS(),0,6):null;b=JT(d.Sa,b,h);if(q(h)&&(zS(d.mb,new S(null,1,5,T,[h],null),f),q(e))){var k=kQ(1,null);LP(function(){var n=function(){function u(w){var A=w[1];if(1===A)return A=bQ(e),gQ(w,2,A);if(2===A){A=w[2];var G=ST(d.mb,h);w[7]=G;w[8]=A;w[1]=q(G)?3:4;return On}return 3===A?(A=w[7],A=A.aa?A.aa(Un):A.call(null,
Un),w[2]=A,w[1]=5,On):4===A?(w[2]=null,w[1]=5,On):5===A?iQ(w,w[2]):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!V(F,On)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=On}if(!V(N,On))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);};G.ia=
A;G.aa=w;return G}()}(),r=function(){var u=n();u[6]=k;return u}();return fQ(r)})}try{return y(d.qb).send(b),Vh(d.rb,AS()),Cm}catch(n){var m=n;AT(Hp,1128,new Hl(function(){return new S(null,2,5,T,[m,"Chsk send error"],null)}),539655873);q(h)&&(b=function(){var r=ST(d.mb,h);return q(r)?r:f}(),b.aa?b.aa(Em):b.call(null,Em));return!1}};
g.ne=function(){function a(){return D.j(y(b.Pa),d)}var b=this,c=this,d=Vh(b.Pa,OS()),e=b.zb;if(q(e)){var f=kQ(1,null);LP(function(){var h=function(){function m(n){var r=n[1];if(7===r)return n[2]=n[2],n[1]=3,On;if(1===r)return n[2]=null,n[1]=2,On;if(4===r){r=n[2];var u=a();n[7]=r;n[1]=u?5:6;return On}return 6===r?(n[2]=null,n[1]=7,On):3===r?iQ(n,n[2]):2===r?(r=y(b.rb),u=bQ(e),n[8]=r,gQ(n,4,u)):9===r?(n[2]=null,n[1]=10,On):5===r?(r=n[8],u=y(b.rb),r=D.j(r,u),n[1]=r?8:9,On):10===r?(n[9]=n[2],n[2]=null,
n[1]=2,On):8===r?(r=new S(null,1,5,T,[cp],null),u=gk([zp],[!0]),r=c.We(null,r,u),n[2]=r,n[1]=10,On):null}return function(){function n(w){for(;;){a:try{for(;;){var A=m(w);if(!V(A,On)){var G=A;break a}}}catch(I){G=I;w[2]=G;if(E(w[4]))w[1]=H(w[4]);else throw G;G=On}if(!V(G,On))return G}}function r(){var w=[null,null,null,null,null,null,null,null,null,null];w[0]=u;w[1]=1;return w}var u=null;u=function(w){switch(arguments.length){case 0:return r.call(this);case 1:return n.call(this,w)}throw Error("Invalid arity: "+
arguments.length);};u.ia=r;u.aa=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return fQ(k)})}Vh(b.tb,0);(function k(){if(a()){var m=function(){if(a()){var G=Wh.j(b.tb,Oe),I=b.Qa.aa?b.Qa.aa(G):b.Qa.call(null,G),F=AS()+I;AT(mz,1147,new Hl(function(){return new S(null,3,5,T,["Chsk is closed: will try reconnect attempt (%s) in %s ms",G,I],null)}),-1003889496);ma.setTimeout(k,I);return TT(c,function(N){return Q.ba(N,Kv,F)})}return null},n=function(G){AT(Hp,1160,new Hl(function(){var I=T;try{var F=
Vl(G)}catch(N){F=G}return new S(null,2,5,I,["WebSocket error: %s",F],null)}),-1469563856);return TT(c,function(I){return Q.ba(I,Xr,new p(null,2,[ao,AS(),eA,G],null))})},r=function(G){G=fS(G,"data");G=IT(b.Sa,G);var I=P(G,0,null);G=P(G,1,null);Vh(b.rb,AS());if(XT(I)){YT(Aq,c,I);Vh(b.tb,0);var F=Gp}else F=null;if(q(F))return F;D.j(I,cp)?(mQ(lr.aa(b.Ta),new S(null,1,5,T,[cp],null)),F=Np):F=null;return q(F)?F:q(G)?(G=ST(b.mb,G),q(G)?G.aa?G.aa(I):G.call(null,I):AT(mz,1204,new Hl(function(){return new S(null,
2,5,T,["Cb reply w/o local cb-fn: %s",I],null)}),910417127)):WT(b.Ta,I)},u=function(G){var I=new p(null,5,[ao,AS(),eA,G,Wo,fS(G,"wasClean"),Hq,fS(G,"code"),hB,fS(G,"reason")],null);if(q(Wo.aa(I)))return AT(cx,1230,new Hl(function(){return new S(null,1,5,T,["Clean WebSocket close, will not attempt reconnect"],null)}),-1448742920),TT(c,function(F){return Q.ba(F,qy,I)});TT(c,function(F){return Q.ba(UT(F,rs),qy,I)});return m()},w=function(){try{return $T(new p(null,5,[bv,n,jq,r,lB,u,en,b.headers,Ir,bT(b.url,
Ek.da(M([b.params,new p(null,2,[Jt,b.Ua,cs,cs.aa(y(b.state_))],null)])))],null))}catch(I){var G=I;AT(Hp,1253,new Hl(function(){return new S(null,2,5,T,[G,"WebSocket error"],null)}),1675127386);return null}}();if(yc(w))return m();var A=y(b.qb);q(A)&&A.close();return Vh(b.qb,w)}return null})();return c};
function bU(a,b){a=Ek.da(M([new p(null,7,[Ly,Uh(new p(null,4,[pq,Aq,fy,!1,yt,!1,cs,b],null)),Kr,Uh(null),hu,Uh(0),By,Uh(!1),Rx,Uh(X),Oz,Uh(null),Xt,Uh(null)],null),a]));b=R.da(a,Jt,M([ax,eu,en,Py,ty,ux,Ly,Kr,hu,By,yz,Rx,Oz,Xt]));b=Gf(a)?si.j(X,b):b;return new aU(Jt.aa(a),ax.aa(a),eu.aa(a),en.aa(a),Py.aa(a),ty.aa(a),ux.aa(a),Ly.aa(a),Kr.aa(a),hu.aa(a),By.aa(a),yz.aa(a),Rx.aa(a),Oz.aa(a),Xt.aa(a),null,Eh(b),null)}var cU=PS.da(M([os,60]));
function dU(a,b,c,d,e,f,h,k,m,n,r,u,w,A){this.Ua=a;this.Ta=b;this.params=c;this.Sa=d;this.url=e;this.state_=f;this.Pa=h;this.Wa=k;this.Qa=m;this.vb=n;this.Db=r;this.ea=u;this.ca=w;this.fa=A;this.ga=2230716170;this.la=139264}g=dU.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "client-id":return this.Ua;case "chs":return this.Ta;case "params":return this.params;case "packer":return this.Sa;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Pa;case "ever-opened?_":return this.Wa;case "backoff-ms-fn":return this.Qa;case "ajax-opts":return this.vb;case "curr-xhr_":return this.Db;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,W.j(new S(null,11,5,T,[new S(null,2,5,T,[Jt,this.Ua],null),new S(null,2,5,T,[ax,this.Ta],null),new S(null,2,5,T,[eu,this.params],null),new S(null,2,5,T,[Py,this.Sa],null),new S(null,2,5,T,[ty,this.url],null),new S(null,2,5,T,[Ly,this.state_],null),new S(null,2,5,T,[Kr,this.Pa],null),new S(null,2,5,T,[By,this.Wa],null),new S(null,2,5,T,[yz,this.Qa],null),new S(null,2,5,T,[rB,this.vb],
null),new S(null,2,5,T,[WA,this.Db],null)],null),this.ca))};g.Ba=function(){return new rj(this,11,new S(null,11,5,T,[Jt,ax,eu,Py,ty,Ly,Kr,By,yz,rB,WA],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 11+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-266770752^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ua,b.Ua)&&D.j(this.Ta,b.Ta)&&D.j(this.params,b.params)&&D.j(this.Sa,b.Sa)&&D.j(this.url,b.url)&&D.j(this.state_,b.state_)&&D.j(this.Pa,b.Pa)&&D.j(this.Wa,b.Wa)&&D.j(this.Qa,b.Qa)&&D.j(this.vb,b.vb)&&D.j(this.Db,b.Db)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,11,[WA,null,By,null,Jt,null,Py,null,ax,null,eu,null,yz,null,ty,null,Kr,null,rB,null,Ly,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Jt,b):V.call(null,Jt,b))?new dU(c,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(ax,b):V.call(null,ax,b))?new dU(this.Ua,c,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(eu,b):V.call(null,eu,b))?new dU(this.Ua,this.Ta,c,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(Py,
b):V.call(null,Py,b))?new dU(this.Ua,this.Ta,this.params,c,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(ty,b):V.call(null,ty,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,c,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(Ly,b):V.call(null,Ly,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,c,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(Kr,b):V.call(null,Kr,b))?new dU(this.Ua,this.Ta,
this.params,this.Sa,this.url,this.state_,c,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(By,b):V.call(null,By,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,c,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(yz,b):V.call(null,yz,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,c,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(rB,b):V.call(null,rB,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,
this.Pa,this.Wa,this.Qa,c,this.Db,this.ea,this.ca,null):q(V.j?V.j(WA,b):V.call(null,WA,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,c,this.ea,this.ca,null):new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,11,5,T,[new Y(Jt,this.Ua),new Y(ax,this.Ta),new Y(eu,this.params),new Y(Py,this.Sa),new Y(ty,this.url),new Y(Ly,this.state_),new Y(Kr,this.Pa),new Y(By,this.Wa),new Y(yz,this.Qa),new Y(rB,this.vb),new Y(WA,this.Db)],null),this.ca))};g.sa=function(a,b){return new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
g.uf=function(a,b){Vh(this.Pa,null);TT(this,function(c){return UT(c,b)});a=y(this.Db);return q(a)?a.abort():null};
g.We=function(a,b,c){function d(n){var r=null!=n&&(n.ga&64||l===n.Ja)?yh(zk,n):n;n=B.j(r,kq);r=B.j(r,jt);if(q(n)){if(D.j(n,Bu))return q(k)?k.aa?k.aa(Un):k.call(null,Un):null;TT(f,function(w){return UT(w,rs)});return q(k)?k.aa?k.aa(Em):k.call(null,Em):null}n=IT(e.Sa,r);var u=P(n,0,null);P(n,1,null);q(k)?k.aa?k.aa(u):k.call(null,u):Dh.j(u,ZA)&&AT(mz,1377,new Hl(function(){return new S(null,2,5,T,["Cb reply w/o local cb-fn: %s",u],null)}),82552181);return TT(f,function(w){return Q.ba(w,fy,!0)})}var e=
this,f=this;a=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;var h=B.j(a,go);c=B.j(a,PA);B.j(a,zp);HT(b);var k=VT(c,b);if(yc(fy.aa(y(e.state_))))return RT(k);var m=cs.aa(y(e.state_));a=e.url;c=Ek.da(M([e.vb,new p(null,5,[Pu,lA,go,function(){if(q(h))return h;var n=go.aa(e.vb);return q(n)?n:cU}(),KA,St,en,Ek.da(M([en.aa(e.vb),new p(null,1,[Gx,m],null)])),eu,function(){var n=JT(e.Sa,b,q(k)?zw:null);return Ek.da(M([e.params,new p(null,4,[ao,AS(),cs,m,Jt,e.Ua,RA,n],null)]))}()],null)]));VS.ba?VS.ba(a,c,d):VS.call(null,
a,c,d);return Cm};
g.ne=function(){var a=this,b=this,c=Vh(a.Pa,OS());(function f(e){AT(vw,1387,new Hl(function(){return new S(null,1,5,T,["async-poll-for-update!"],null)}),-229326793);if(D.j(y(a.Pa),c)){var h=function(){if(D.j(y(a.Pa),c)){var k=e+1,m=a.Qa.aa?a.Qa.aa(k):a.Qa.call(null,k),n=AS()+m;AT(mz,1395,new Hl(function(){return new S(null,3,5,T,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),-351732087);ma.setTimeout(function(){return f(k)},m);return TT(b,function(r){return Q.ba(r,Kv,n)})}return null};
return Vh(a.Db,function(){function k(r){var u=null!=r&&(r.ga&64||l===r.Ja)?yh(zk,r):r;r=B.j(u,kq);u=B.j(u,jt);if(q(r)){if(D.j(r,Bu))return f(0);TT(b,function(w){return UT(w,rs)});return h()}r=IT(a.Sa,u);r=P(r,0,null);(u=XT(r))&&YT(vz,b,r);TT(b,function(w){return Q.ba(w,fy,!0)});f(0);if(u)return null;D.j(r,Un)?(q(y(ET))&&WT(a.Ta,new S(null,1,5,T,[new S(null,1,5,T,[ep],null)],null)),u=Np):u=null;return q(u)?u:WT(a.Ta,r)}var m=a.url,n=Ek.da(M([a.vb,new p(null,5,[Pu,Mu,go,function(){var r=go.aa(a.vb);
return q(r)?r:cU}(),KA,St,eu,Ek.da(M([a.params,new p(null,2,[ao,AS(),Jt,a.Ua],null),q(fy.aa(y(a.state_)))?null:new p(null,1,[Bp,!0],null)])),en,Ek.da(M([en.aa(a.vb),new p(null,1,[Gx,cs.aa(y(a.state_))],null)]))],null)]));return VS.ba?VS.ba(m,n,k):VS.call(null,m,n,k)}())}return null})(0);return b};
function eU(a,b){a=Ek.da(M([new p(null,4,[Ly,Uh(new p(null,4,[pq,vz,fy,!1,yt,!1,cs,b],null)),Kr,Uh(null),By,Uh(!1),WA,Uh(null)],null),a]));b=R.da(a,Jt,M([ax,eu,Py,ty,Ly,Kr,By,yz,rB,WA]));b=Gf(a)?si.j(X,b):b;return new dU(Jt.aa(a),ax.aa(a),eu.aa(a),Py.aa(a),ty.aa(a),Ly.aa(a),Kr.aa(a),By.aa(a),yz.aa(a),rB.aa(a),WA.aa(a),null,Eh(b),null)}function fU(a,b,c,d,e,f,h){this.Tc=a;this.Ic=b;this.state_=c;this.nc=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=fU.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "ws-chsk-opts":return this.Tc;case "ajax-chsk-opts":return this.Ic;case "state_":return this.state_;case "impl_":return this.nc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Sw,this.Tc],null),new S(null,2,5,T,[$n,this.Ic],null),new S(null,2,5,T,[Ly,this.state_],null),new S(null,2,5,T,[tq,this.nc],null)],null),this.ca))};g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Sw,$n,Ly,tq],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1193508708^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Tc,b.Tc)&&D.j(this.Ic,b.Ic)&&D.j(this.state_,b.state_)&&D.j(this.nc,b.nc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[tq,null,Sw,null,Ly,null,$n,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new fU(this.Tc,this.Ic,this.state_,this.nc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Sw,b):V.call(null,Sw,b))?new fU(c,this.Ic,this.state_,this.nc,this.ea,this.ca,null):q(V.j?V.j($n,b):V.call(null,$n,b))?new fU(this.Tc,c,this.state_,this.nc,this.ea,this.ca,null):q(V.j?V.j(Ly,b):V.call(null,Ly,b))?new fU(this.Tc,this.Ic,c,this.nc,this.ea,this.ca,null):q(V.j?V.j(tq,b):V.call(null,tq,b))?new fU(this.Tc,this.Ic,this.state_,c,this.ea,this.ca,null):new fU(this.Tc,this.Ic,this.state_,this.nc,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Sw,this.Tc),new Y($n,this.Ic),new Y(Ly,this.state_),new Y(tq,this.nc)],null),this.ca))};g.sa=function(a,b){return new fU(this.Tc,this.Ic,this.state_,this.nc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.uf=function(a,b){a=y(this.nc);return q(a)?OT(a,b):null};g.We=function(a,b,c){a=y(this.nc);if(q(a))return PT(a,b,c);c=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;c=B.j(c,PA);b=VT(c,b);return RT(b)};
g.ne=function(){function a(){var f=Uh(!1);Gl(c.state_,function(h,k,m,n){h=y(c.nc);if(q(h)&&(k=By.aa(h),q(k))){if(q(y(k)))return null;if(q(Xr.aa(n))&&Xh(f))return AT(mz,1528,new Hl(function(){return new S(null,1,5,T,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),1278147249),OT(h,ko),Vh(c.nc,b())}return null});return bU(e,cs.aa(y(c.state_))).ne(null)}function b(){Sd(c.state_,Rd);return eU(d,cs.aa(y(c.state_))).ne(null)}var c=this,d=Q.ba(c.Ic,Ly,c.state_),e=Q.ba(c.Tc,Ly,c.state_);Vh(c.nc,
function(){var f=a();return q(f)?f:b()}());return this};
function gU(a,b,c,d){var e=function(){switch(a instanceof C?a.Aa:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof C?d.Aa:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.aa(e)].join(""));}default:throw Error(["No matching clause: ",t.aa(h)].join(""));}}();return[t.aa(f),"//",NS(M([b,c]))].join("")}
function hU(a,b,c){function d(n){return n.ia?n.ia():n.call(null)}var e=yc(Eo);c=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;var f=B.j(c,Iu),h=B.j(c,Et);B.j(c,mA);var k=kQ(null,null),m=kQ(1,null);LP(function(){var n=function(){function u(w){var A=w[1];if(7===A)return w[2]=w[2],w[1]=3,On;if(1===A)return w[2]=null,w[1]=2,On;if(4===A){A=w[7];A=w[2];var G=P(A,0,null),I=P(A,1,null),F=D.j(I,k)||null==G;w[7]=G;w[8]=I;w[9]=A;w[10]=F;w[1]=q(F)?5:6;return On}if(15===A)return A=w[7],w[2]=A,w[1]=16,On;if(13===A)return w[2]=
w[2],w[1]=10,On;if(6===A)return A=w[7],w[1]=yc(null==A)?8:9,On;if(3===A)return iQ(w,w[2]);if(12===A)return w[2]=!1,w[1]=13,On;if(2===A)return sQ(w,4,new S(null,2,5,T,[a,k],null));if(11===A)return w[2]=!0,w[1]=13,On;if(9===A)return w[2]=!1,w[1]=10,On;if(5===A)return w[2]=null,w[1]=7,On;if(14===A)return A=w[7],A=yh(zk,A),w[2]=A,w[1]=16,On;if(16===A){A=w[7];var N=w[2],O=B.j(N,Lp);A=d(function(){return function(){try{q(f)&&AT(vw,1727,new Hl(function(){return new S(null,2,5,T,["Pre-handler event: %s",
O],null)}),44467345);var U=q(e)?function(){try{if(Ff(N)&&lS(new Jk(null,new p(null,11,[Tv,null,Dr,null,Jt,null,hx,null,sp,null,Lp,null,kB,null,et,null,uu,null,ou,null,Ot,null],null),null),N)){var wa=null!=N&&(N.ga&64||l===N.Ja)?yh(zk,N):N,xa=B.j(wa,Dr),Ra=B.j(wa,Ot),ka=B.j(wa,hx),oa=B.j(wa,et),Ca=B.j(wa,uu),ua=B.j(wa,Jt),Ba=B.j(wa,Lp),Ua=B.j(wa,Tv);var ac=xa instanceof SP&&Nf(Ra)&&ka instanceof Th&&oa instanceof Th&&Ff(Ca)&&"string"===typeof ua&&!VB(ua)&&null==GT(Ba)&&(null==Ua||Nf(Ua))}else ac=!1;
var yb=ac?null:PR}catch(ec){if(ec instanceof Error)yb=ec;else throw ec;}return null==yb?N:QR(1730,"(server-event-msg? event-msg)",N,yb)}():function(){try{if(Ff(N)&&lS(new Jk(null,new p(null,6,[Dr,null,vo,null,Lp,null,kB,null,ou,null,Ot,null],null),null),N)){var wa=null!=N&&(N.ga&64||l===N.Ja)?yh(zk,N):N,xa=B.j(wa,Dr),Ra=B.j(wa,Ot),ka=B.j(wa,vo),oa=B.j(wa,Lp);var Ca=xa instanceof SP&&Nf(Ra)&&ka instanceof Th&&null==GT(oa)}else Ca=!1;var ua=Ca?null:PR}catch(Ba){if(Ba instanceof Error)ua=Ba;else throw Ba;
}return null==ua?N:QR(1731,"(client-event-msg? event-msg)",N,ua)}();return b.aa?b.aa(U):b.call(null,U)}catch(wa){var ea=wa;try{return q(h)?h.j?h.j(ea,N):h.call(null,ea,N):AT(Hp,1736,new Hl(function(){return new S(null,3,5,T,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),-276476254)}catch(xa){var va=xa;return AT(Hp,1737,new Hl(function(){return new S(null,3,5,T,[va,"Chsk router `error-handler` error: %s",O],null)}),646170669)}}}}());w[11]=A;w[2]=null;w[1]=2;return On}return 10===A?(w[1]=
q(w[2])?14:15,On):8===A?(A=w[7],G=l===A.Ja,w[1]=q(A.ga&64||G)?11:12,On):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!V(F,On)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=On}if(!V(N,On))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);
};G.ia=A;G.aa=w;return G}()}(),r=function(){var u=n();u[6]=m;return u}();return fQ(r)});return function(){return eP(k)}}function iU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new De(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=P(d,0,null);d=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d;B.j(d,Iu);B.j(d,Et);return hU(b,c,d)};var jU={},kU={},lU=[];function mU(a,b){var c=kU[a];if(void 0!==c)return c;try{lU.push(a);var d=jU[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};jU[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ma,mU,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{lU.pop()}return d.exports}mU.cache={};mU.resolve=function(a){return a};
function DU(a){return mU(a,{})};var nU=DU(3);var oU=DU(12);var EU={};var FU={},GU="undefined"!==typeof window&&null!=window.document,HU=new Jk(null,new p(null,2,["aria",null,"data",null],null),null);function IU(a){return 2>K(a)?a.toUpperCase():[Sg.ba(a,0,1).toUpperCase(),Sg.j(a,1)].join("")}function JU(a){if("string"===typeof a)return a;a=bh(a);var b=TB(a,/-/),c=E(b);b=H(c);c=J(c);return q(HU.aa?HU.aa(b):HU.call(null,b))?a:zh(t,b,ci.j(IU,c))}
function KU(a){var b=function(){if(vf(a)){var c=a.displayName;q(c)||(c=a.name,c="string"===typeof c&&E(c)?c:null)}else c=!1;if(q(c))return c;c=null!=a&&(a.la&4096||l===a.Bg)?bh(a):!1;if(q(c))return c;c=yf(a);return Ff(c)?fz.aa(c):null}();return q(b)?OB(t.aa(b),"$","."):null}function LU(a){return a instanceof C||a instanceof z}
var MU=function MU(a){switch(arguments.length){case 0:return MU.ia();case 1:return MU.aa(arguments[0]);case 2:return MU.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return MU.da(arguments[0],arguments[1],c)}};MU.ia=function(){return null};MU.aa=function(a){return Cf(a)?(a=Sh(function(b){return q(b)?LU(b)?bh(b):b:null},a),E(a)?QB(" ",a):null):LU(a)?bh(a):a};
MU.j=function(a,b){return q(a)?q(b)?[t.aa(MU.aa(a))," ",t.aa(MU.aa(b))].join(""):MU.aa(a):MU.aa(b)};MU.da=function(a,b,c){return v.ba(MU,MU.j(a,b),c)};MU.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};MU.na=2;var NU=!1;function OU(a){if(Ff(a))try{var b=B.j(a,zA)}catch(c){b=null}else b=null;return b}
function PU(a){var b=zA.aa(yf(a));if(q(b))return b;b=OU(P(a,1,null));if(q(b))return b;b=P(a,0,null);switch(b instanceof C?b.Aa:null){case "\x3e":case "f\x3e":return OU(P(a,2,null));case "r\x3e":return a=P(a,2,null),null==a?null:a.key;default:return null}};var QU=0;function RU(a){return setTimeout(a,16)}var TU=GU?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(q(b))return b;b=a.webkitRequestAnimationFrame;if(q(b))return b;b=a.mozRequestAnimationFrame;if(q(b))return b;b=a.msRequestAnimationFrame;return q(b)?b:RU}().bind(a)}():RU;function WU(a,b){return a.Y-b.Y}function YU(){return null}function ZU(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.ia?d.ia():d.call(null);c+=1}else return null}
function fV(a,b,c){b.push(c);return a.schedule()}function gV(){this.O=!1}g=gV.prototype;g.flush_after_render=function(){var a=this.G;if(null==a)return null;this.G=null;return ZU(a)};g.queue_render=function(a){null==this.K&&(this.K=[]);return fV(this,this.K,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.O)return null;this.O=!0;return TU.aa?TU.aa(a):TU.call(null,a)};g.flush_before_flush=function(){var a=this.I;if(null==a)return null;this.I=null;return ZU(a)};
g.flush_queues=function(){this.flush_before_flush();YU();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.O=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.I&&(this.I=[]);return fV(this,this.I,a)};g.add_after_render=function(a){null==this.G&&(this.G=[]);return fV(this,this.G,a)};
g.flush_render=function(){var a=this.K;if(null==a)return null;this.K=null;a:{a.sort(WU);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var CV=new gV;function DV(a){if(q(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return CV.queue_render(a)};function EV(a){if(null!=a&&null!=a.Rg)a=a.id;else{var b=EV[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=EV._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Compiler.get-id",a);}return a}function FV(a,b){if(null!=a&&null!=a.mc)a=a.mc(a,b);else{var c=FV[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=FV._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Compiler.as-element",a);}return a}
function GV(a,b,c,d,e){if(null!=a&&null!=a.Uc)a=a.Uc(a,b,c,d,e);else{var f=GV[pa(null==a?null:a)];if(null!=f)a=f.za?f.za(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=GV._,null!=f)a=f.za?f.za(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Cc("Compiler.make-element",a);}return a};var HV;function IV(a,b){b.Uh=null;a:{var c=HV;HV=b;try{var d=a.ia?a.ia():a.call(null);break a}finally{HV=c}d=void 0}a=b.Uh;b.C=!1;a:{c=b.F;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function JV(a){var b=HV;if(null!=b){var c=b.Uh;null==c?b.Uh=[a]:c.push(a)}}function KV(a,b,c){a.oe=Q.ba(a.oe,b,c);return a.Ra=null}
function LV(a,b){a.oe=R.j(a.oe,b);return a.Ra=null}function MV(a,b,c){var d=a.Ra;d=null==d?a.Ra=vg(function(m,n,r){m.push(n);m.push(r);return m},[],a.oe):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.ja?k.ja(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function NV(a,b,c,d){Jd(a,["#object[reagent.ratom.",t.aa(c)," "].join(""));a:{c=HV;HV=null;try{var e=d;break a}finally{HV=c}e=void 0}ql(e,a,b);return Jd(a,"]")}var OV=null;
function PV(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.oe=d;this.ga=2154201088;this.la=114690}g=PV.prototype;g.ta=function(a,b,c){return NV(b,c,"RAtom",new p(null,1,[Fl,this.Ib(null)],null))};g.ra=function(){return this.meta};g.wa=function(){return ya(this)};g.oa=function(a,b){return this===b};g.xh=function(a,b){a=this.state;this.state=b;null!=this.oe&&MV(this,a,b);return b};g.zh=function(a,b){return this.xh(null,b.aa?b.aa(this.state):b.call(null,this.state))};
g.Ah=function(a,b,c){return this.xh(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.Bh=function(a,b,c,d){return this.xh(null,b.ba?b.ba(this.state,c,d):b.call(null,this.state,c,d))};g.Ch=function(a,b,c,d,e){return this.xh(null,Bh(b,this.state,c,d,e))};g.R=function(a,b){MV(this,a,b)};g.Dg=function(a,b,c){return KV(this,b,c)};g.Eg=function(a,b){return LV(this,b)};g.sa=function(a,b){return new PV(this.state,b,this.validator,this.oe)};g.Ib=function(){JV(this);return this.state};
function QV(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=QV[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=QV._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDisposable.dispose!",a);}return a}function RV(a,b,c,d){return a._handle_change(b,c,d)}function SV(a){this.f=a;this.state=null;this.C=!0;this.Bb=!1;this.P=this.B=this.oe=this.F=null;this.ga=2153807872;this.la=114690}g=SV.prototype;g._peek_at=function(){var a=HV;HV=null;try{return this.Ib(null)}finally{HV=a}};
g._handle_change=function(a,b,c){return b===c||this.C?null:null==this.B?(this.C=!0,null==OV&&(OV=[],!1===CV.O&&CV.schedule()),OV.push(this)):!0===this.B?this._run(!1):this.B.aa?this.B.aa(this):this.B.call(null,this)};
g._update_watching=function(a){var b=Mk(a),c=Mk(this.F);this.F=a;a=E(KH.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);Pd(h,this,RV);f+=1}else if(a=E(a))d=a,If(d)?(a=ae(d),f=be(d),d=a,e=K(a),a=f):(a=H(d),Pd(a,this,RV),a=J(d),d=null,e=0),f=0;else break;b=E(KH.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.La(null,e),Sd(a,this),e+=1;else if(b=E(b))c=b,If(c)?(b=ae(c),d=be(c),c=b,a=K(b),b=d,d=a):(a=H(c),Sd(a,this),b=J(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.C&&null!=this.F?this._run(!0):null};g._try_capture=function(a){try{return this.P=null,IV(a,this)}catch(b){return this.P=this.state=a=b,this.C=!1}};g._run=function(a){var b=this.state;a=q(a)?this._try_capture(this.f):IV(this.f,this);this.Bb||(this.state=a,null==this.oe||D.j(b,a)||MV(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,Jw);var c=B.j(b,vG),d=B.j(b,Om);b=B.j(b,Wn);null!=a&&(this.B=a);null!=c&&(this.Mg=c);null!=d&&(this.Cb=d);return null!=b?this.Bb=b:null};g.ta=function(a,b,c){return NV(b,c,"Reaction",new p(null,1,[Fl,this.Ib(null)],null))};g.wa=function(){return ya(this)};g.oa=function(a,b){return this===b};
g.Ma=function(){var a=this.state,b=this.F;this.B=this.state=this.F=null;this.C=!0;b=E(Mk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);Sd(f,this);e+=1}else if(b=E(b))c=b,If(c)?(b=ae(c),e=be(c),c=b,d=K(b),b=e):(b=H(c),Sd(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.Cb&&this.Cb(a);a=this.ih;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.aa?d.aa(this):d.call(null,this),c+=1;else return null};g.xh=function(a,b){a=this.state;this.state=b;this.Mg(a,b);MV(this,a,b);return b};
g.zh=function(a,b){var c=this;return c.xh(null,function(){var d=c._peek_at();return b.aa?b.aa(d):b.call(null,d)}())};g.Ah=function(a,b,c){var d=this;return d.xh(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.Bh=function(a,b,c,d){var e=this;return e.xh(null,function(){var f=e._peek_at();return b.ba?b.ba(f,c,d):b.call(null,f,c,d)}())};g.Ch=function(a,b,c,d,e){return this.xh(null,Bh(b,this._peek_at(),c,d,e))};g.R=function(a,b){MV(this,a,b)};
g.Dg=function(a,b,c){return KV(this,b,c)};g.Eg=function(a,b){a=Bf(this.oe);LV(this,b);return!a&&Bf(this.oe)&&null==this.B?this.Ma(null):null};g.Ib=function(){var a=this.P;if(null!=a)throw a;(a=null==HV)&&(TV.ia?TV.ia():TV.call(null));a&&null==this.B?this.C&&(a=this.state,this.state=this.f.ia?this.f.ia():this.f.call(null),null==this.oe||D.j(a,this.state)||MV(this,a,this.state)):(JV(this),this.C&&this._run(!1));return this.state};
function TV(){for(;;){var a=OV;if(null==a)return null;OV=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}YU=TV;function UV(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new De(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;c=B.j(e,Jw);d=B.j(e,vG);e=B.j(e,Om);b=new SV(b);b._set_opts(new p(null,3,[Jw,c,vG,d,Om,e],null));return b}var VV=UV(null);
function WV(a,b){var c=XV,d=VV,e=IV(a,d);null!=d.F&&(VV=UV(null),d._set_opts(c),d.f=a,d.B=function(){return DV.aa?DV.aa(b):DV.call(null,b)},b.cljsRatom=d);return e};var YV;function ZV(a,b){var c=b.argv;if(null==c){c=T;a=a.constructor;a:for(var d=hb(b),e=d.length,f=X,h=0;;)if(h<e){var k=d[h];f=Q.ba(f,ah.aa(k),ib(b,k));h+=1}else break a;b=new S(null,2,5,c,[a,f],null)}else b=c;return b}function $V(a){var b;if(b=vf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.D);return b}
function aW(a,b){for(;;){var c=a.D,d=!0===a.cd?c.call(a,a):function(){var e=ZV(a,a.props);switch(K(e)){case 1:return c.call(a);case 2:return c.call(a,bf(e,1));case 3:return c.call(a,bf(e,1),bf(e,2));case 4:return c.call(a,bf(e,1),bf(e,2),bf(e,3));case 5:return c.call(a,bf(e,1),bf(e,2),bf(e,3),bf(e,4));default:return c.apply(a,Ic(e).slice(1))}}();if(Hf(d))return FV(b,d);if(Nf(d))d=$V(d)?function(e,f,h,k,m){return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-
0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){return FV(f,zh(Zi,m,u))}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()}(a,b,c,null,d):d,a.D=d;else return d}}var XV=new p(null,1,[Wn,!0],null);
function bW(a,b){switch(a instanceof C?a.Aa:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=P(e,1,null),e=Ff(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Ud;d=null!=d?d:c.Ud=new PV(null,null,null,null);return Vh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,ZV(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,ZV(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,ZV(this,c))};case "shouldComponentUpdate":return function(c){var d=NU;if(q(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return Dh.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,ZV(this,this.props),ZV(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,ZV(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,ZV(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,ZV(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ib(this,"cljsRatom");null!=c&&QV(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function cW(a,b){a=bW(a,b);return q(a)?a:b}var dW=new p(null,2,[DO,null,Lz,null],null),eW=function(a){var b=Uh(X);return function(c){var d=B.j(y(b),c);if(null!=d)return d;d=a.aa?a.aa(c):a.call(null,c);Wh.ja(b,Q,c,d);return d}}(function(a){if("string"===typeof a)return a;a=bh(a);a=OB(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=TB(a,/-/);var b=E(a);a=H(b);b=J(b);return zh(t,a,ci.j(IU,b))});
function fW(a){return vg(function(b,c,d){return Q.ba(b,ah.aa(eW(c)),d)},X,a)}
function gW(a,b){var c=function(){var h=tu.aa(a);return q(h)?h:dw.aa(a)}(),d=null==tu.aa(a),e=function(){var h=ZF.aa(a);if(q(h))return h;h=KU(c);return q(h)?h:t.aa(Nb("reagent"))}(),f=vg(function(h,k,m){return Q.ba(h,k,cW(k,m))},X,a);return Q.da(f,ZF,e,M([Rs,d,tu,c,dw,function(){var h=this,k=ib(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?WV(function(){a:{var m=YV;YV=h;try{var n=aW(h,b);break a}finally{YV=m}n=void 0}return n},h):k._run(!1)}]))}
function hW(a){return vg(function(b,c,d){c=bh(c);b[c]=d;return b},{},a)}function iW(a,b){return gW(Ek.da(M([dW,fW(a)])),b)}var jW=new S(null,5,5,T,[py,Qv,PB,RB,bG],null);
function kW(a,b){function c(k,m,n){nU.Component.call(this,k,m,n);q(h)&&(h.j?h.j(this,k):h.call(null,this,k));q(f)&&(this.state=f.aa?f.aa(this):f.call(null,this));this.Y=QU+=1;return this}a=iW(a,b);b=hW(Ch(R,a,ZF,En,my,M([dw,tu,jW])));var d=hW(Gk(a,jW)),e=ZF.aa(a),f=En.aa(a),h=my.aa(a);lb(c.prototype,nU.Component.prototype,b);q(dw.aa(a))&&(c.prototype.render=dw.aa(a));q(tu.aa(a))&&(c.prototype.D=tu.aa(a));q(Rs.aa(a))&&(c.prototype.cd=Rs.aa(a));lb(c,nU.Component,d);q(e)&&(c.displayName=e,c.Kb=e,c.kc=
function(k){return Jd(k,e)});c.$b=!0;return c.prototype.constructor=c}function lW(a,b,c){a=EV(a);return b[a]=c}
function mW(a,b){for(;;){var c=b.D,d=b.argv,e=yh(c,d);if(Hf(e))return FV(a,e);if(Nf(e))c=$V(e)?function(f,h,k,m,n,r){return function(){function u(A){var G=null;if(0<arguments.length){G=0;for(var I=Array(arguments.length-0);G<I.length;)I[G]=arguments[G+0],++G;G=new De(I,0,null)}return w.call(this,G)}function w(A){return FV(f,zh(Zi,r,A))}u.na=0;u.qa=function(A){A=E(A);return w(A)};u.da=w;return u}()}(a,b,c,null,d,e):e,b.D=c;else return e}}
function nW(a,b){var c=b.argv,d=b.D;b=nU.useState(0);P(b,0,null);var e=P(b,1,null),f=nU.useRef();q(f.current)||function(){var k={forceUpdate:function(){return e.aa?e.aa(Oe):e.call(null,Oe)}};k.Y=QU+=1;k.constructor=d;k.D=d;return f.current=k}();var h=f.current;b=ib(h,"cljsRatom");nU.useEffect(function(){return function(){var k=ib(h,"cljsRatom");return null==k?null:QV(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?WV(function(){a:{var k=YV;YV=h;try{var m=mW(a,h);break a}finally{YV=k}m=void 0}return m},
h):b._run(!1)}function oW(a,b){a=a.argv;b=b.argv;if(!1===NU)try{return D.j(a,b)}catch(c){return!1}else return!1}function pW(a,b){function c(e){return nW(a,e)}var d=ib(b,EV(a));if(q(d))return d;c.displayName=KU(b);d=nU.memo(c,oW);lW(a,b,d);return d};var qW=new Jk(null,new p(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function rW(a,b,c,d){var e=X;e=null!=e&&(e.ga&64||l===e.Ja)?yh(zk,e):e;e=B.j(e,av);if(a===document.activeElement&&Pf(qW,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(Dh.j(f,c))return CV.add_after_render(function(){return sW.aa?sW.aa(d):sW.call(null,d)});c=K(f)-a.selectionStart;c=K(b)-c;d.J=b;a.value=b;vf(e)&&(e.aa?e.aa(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.J=b;a.value=b;return vf(e)?e.aa?e.aa(b):e.call(null,b):null}
function sW(a){if(q(a.T)){a.ob=!1;var b=a.xd,c=a.J,d=a.Da;return Dh.j(b,c)?rW(d,b,c,a):null}return null}function tW(a,b,c){a.J=c.target.value;q(a.ob)||(a.ob=!0,CV.add_after_render(function(){return sW(a)}));return b.aa?b.aa(c):b.call(null,c)}
function uW(a){var b=YV;if(q(null!=a?function(){var f=a.hasOwnProperty("onChange");return q(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;q(b.T)||(b.T=!0,b.J=c);q(b.Zc)||(b.Zc=vf(e)?function(f){b.Da=f;return e.aa?e.aa(f):e.call(null,f)}:q(q(e)?e.hasOwnProperty("current"):e)?function(f){b.Da=f;return e.current=f}:function(f){return b.Da=f});b.xd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return tW(b,d,f)};a.ref=b.Zc}}
var vW=new p(null,4,[HF,"ReagentInput",LH,sW,Iq,function(a){return a.T=null},rz,function(a,b,c,d,e){uW(c);return GV(e,a,b,c,d)}],null);var wW={},hT,yW=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,zW={"class":"className","for":"htmlFor",charset:"charSet"};function AW(a,b){return a.hasOwnProperty(b)?ib(a,b):null}function BW(a,b,c){if(LU(b)){var d=AW(zW,bh(b));null==d?(d=JU(b),b=bh(b),b=zW[b]=d):b=d}c=CW.aa?CW.aa(c):CW.call(null,c);a[b]=c;return a}
function CW(a){return"object"!==pa(a)?a:LU(a)?bh(a):Ff(a)?vg(BW,{},a):Cf(a)?Rl(a):Nf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){return yh(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}():Rl(a)}var DW={};function EW(a,b,c){if(LU(b)){var d=AW(DW,bh(b));null==d?(d=JU(b),b=bh(b),b=DW[b]=d):b=d}c=CW(c);a[b]=c;return a}
function FW(a){return"object"!==pa(a)?a:LU(a)?bh(a):Ff(a)?vg(EW,{},a):Cf(a)?Rl(a):Nf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){return yh(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}():Rl(a)}
function GW(a,b){var c=b.id;b=b.className;c=null!=c&&null==kB.aa(a)?Q.ba(a,kB,c):a;return q(b)?Q.ba(c,Oy,MU.j(b,function(){var d=Oy.aa(a);return q(d)?d:kx.aa(a)}())):c}function HW(a,b,c,d,e){switch(K(b)-e){case 0:return nU.createElement(c,d);case 1:return nU.createElement(c,d,FV(a,P(b,e,null)));default:return nU.createElement.apply(null,vg(function(f,h,k){h>=e&&f.push(FV(a,k));return f},[c,d],b))}}function IW(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ie=d}
function JW(a,b,c){var d=ib(a,EV(c));null==d?$V(a)?a=lW(c,a,a):(d=yf(a),d=Q.ba(d,rz,a),d=kW(d,c),a=lW(c,a,d)):a=d;c={};c.argv=b;b=PU(b);null!=b&&(c.key=b);return nU.createElement(a,c)}function KW(a,b,c,d){var e={};e.D=a;e.argv=dj(b,c,K(b));b=PU(b);null!=b&&(e.key=b);return nU.createElement(pW(d,a),e)}function LW(a,b,c){var d;if(d=vf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?JW(a,b,c):KW(a,b,1,c)}var MW={};
function NW(a,b,c,d){var e=a.tag,f=P(b,c,null),h=null==f||Ff(f),k=function(){var n=h?f:null;var r=Oy.aa(n);n=GW(q(r)?Q.ba(n,Oy,MU.aa(r)):n,a);n=q(a.ie)?FW(n):CW(n);return q(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m)return m=function(){var n=d.gh;if(q(n))return n;n=kW(vW,d);return d.gh=n}(),FV(d,xf(new S(null,6,5,T,[m,b,e,k,c,d],null),yf(b)));m=OU(yf(b));null!=m&&(k.key=m);return GV(d,b,e,k,c)}
function OW(a,b){return Ic(ci.j(function(c){return FV(b,c)},a))}
function PW(a,b,c){null==b&&console.error("vec-to-elem",xl.da(M([a])));var d=P(a,0,null);switch(d instanceof C?d.Aa:null){case "\x3e":return c=P(a,1,null),NW(new IW(c,null,null,null),a,2,b);case "r\x3e":c=P(a,1,null);d=P(a,2,null);d=q(d)?d:{};var e=OU(yf(a));null!=e&&(d.key=e);return GV(b,a,c,d,3);case "f\x3e":return KW(P(a,1,null),a,2,b);case "\x3c\x3e":return d=P(a,1,null),c=null==d||Ff(d),d=CW(c?d:null),d=q(d)?d:{},c=1+(c?1:0),e=PU(a),null!=e&&(d.key=e),GV(b,a,nU.Fragment,d,c);default:if(LU(d)||
"string"===typeof d)a:for(;;)switch(c=P(a,0,null),c=bh(c),d=c.indexOf("\x3e"),d){case -1:d=AW(MW,c);if(null==d){var f=J(el(yW,bh(c)));d=P(f,0,null);e=P(f,1,null);f=P(f,2,null);f=null==f?null:OB(f,/\./," ");var h=Dh.j(-1,d.indexOf("-"));d=new IW(d,e,f,h);c=MW[c]=d}else c=d;a=NW(c,a,1,b);break a;case 0:a=null;break a;default:a=xf(new S(null,2,5,T,[Sg.ba(c,0,d),Q.ba(xf(a,null),0,Sg.j(c,d+1))],null),yf(a))}else a=c.ba?c.ba(d,a,b):c.call(null,d,a,b);return a}}
var QW=function(a){var b=Nb("G__"),c=q(no.aa(a))?LW:JW;if("undefined"===typeof EU||"undefined"===typeof FU||"undefined"===typeof wW||"undefined"===typeof hT)hT=function(d,e,f,h){this.Dc=d;this.id=e;this.xb=f;this.wi=h;this.ga=393216;this.la=0},hT.prototype.sa=function(d,e){return new hT(this.Dc,this.id,this.xb,e)},hT.prototype.ra=function(){return this.wi},hT.prototype.Rg=function(){return this.id},hT.prototype.mc=function(d,e){d=this.xb;return"object"!==pa(e)?e:Hf(e)?PW(e,this,d):Lf(e)?OW(e,this):
LU(e)?bh(e):(null!=e?e.ga&2147483648||l===e.Za||(e.ga?0:Ac(Ld,e)):Ac(Ld,e))?xl.da(M([e])):e},hT.prototype.Uc=function(d,e,f,h,k){return HW(this,e,f,h,k)},hT.$b=!0,hT.Kb="reagent.impl.template/t_reagent$impl$template35663",hT.kc=function(d){return Jd(d,"reagent.impl.template/t_reagent$impl$template35663")};return new hT(a,b,c,X)}(X);var RW=Uh(X);function SW(a,b,c){var d=NU;NU=!0;try{return oU.render(a.ia?a.ia():a.call(null),b,function(){var e=NU;NU=!1;try{return Wh.ja(RW,Q,b,a),CV.flush_after_render(),null!=c?c.ia?c.ia():c.call(null):null}finally{NU=e}})}finally{NU=d}}function TW(a){var b=document.getElementById("app");TV();var c=vf(QW)?new S(null,2,5,T,[QW,QW],null):new S(null,2,5,T,[QW,Yq.aa(QW)],null),d=P(c,0,null);c=P(c,1,null);return SW(function(){return FV(d,vf(a)?a.ia?a.ia():a.call(null):a)},b,c)};var UU=DU(13);var VU=DU(66);var XU=DU(67);DU(68);var UW=DU(80);var VW=DU(128);var WW=DU(151);var module$node_modules$ol$style=DU(230);var module$node_modules$ol$Map=DU(248);var XW=DU(252);var YW=DU(310);var ZW=DU(345);var uU=function(a,b,c){var d=P(c,0,null),e=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d,f=B.j(e,rB),h=B.ba(e,ux,PS.da(M([os,20]))),k=B.ba(e,Jt,function(){var ka=js.aa(e);return q(ka)?ka:OS()}()),m=B.j(e,VA),n=B.ba(e,Py,sv),r=B.j(e,eu),u=B.ba(e,pq,or),w=B.j(e,Tn),A=B.j(e,en),G=B.j(e,fr);d=B.ba(e,zB,oP(2048));var I=B.ba(e,yz,bS),F=B.ba(e,iw,!0);null!=P(c,1,null)&&AT(mz,1594,new Hl(function(){return new S(null,1,5,T,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),-210771069);
Pf(e,Wm)&&AT(mz,1595,new Hl(function(){return new S(null,1,5,T,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-1072408128);("string"!==typeof b||VB(b))&&AT(mz,1598,new Hl(function(){return new S(null,1,5,T,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),2020061539);var N=MT(n);n=function(){if(q(cS)){var ka=cS.location;var oa=q(ka)?new p(null,7,[lq,ka.href,VA,ka.protocol,lu,ka.hostname,fr,ka.host,$p,
ka.pathname,br,ka.search,iA,ka.hash],null):null}else oa=null;ka=q(a)?a:$p.aa(oa);var Ca=Az.aa(e);if(q(Ca))return new S(null,2,5,T,[Ca.ba?Ca.ba(ka,oa,Aq):Ca.call(null,ka,oa,Aq),Ca.ba?Ca.ba(ka,oa,vz):Ca.call(null,ka,oa,vz)],null);q(m)?Ca=m:(Ca=VA.aa(oa),Ca=q(Ca)?Ca:Xn);oa=q(G)?q(w)?[t.aa(G),":",t.aa(w)].join(""):G:q(w)?[t.aa(lu.aa(oa)),":",t.aa(w)].join(""):fr.aa(oa);return new S(null,2,5,T,[gU(Ca,oa,ka,Aq),gU(Ca,oa,ka,vz)],null)}();c=P(n,0,null);var O=P(n,1,null);n=new p(null,3,[Vr,kQ(oP(128),null),
vo,kQ(oP(10),null),lr,function(){var ka=oP(512);return q(F)?jQ(ka,ci.aa(function(oa){return new S(null,2,5,T,[BA,oa],null)})):kQ(ka,null)}()],null);h=new p(null,6,[Jt,k,ax,n,eu,r,en,A,Py,N,ux,h],null);var U=Ek.da(M([h,new p(null,2,[ty,c,yz,I],null)])),ea=Ek.da(M([h,new p(null,3,[ty,O,rB,f,yz,I],null)])),va=new p(null,2,[Sw,U,$n,ea],null);f=NT(function(){var ka=u instanceof C?u.Aa:null;switch(ka){case "ws":return bU(U,b);case "ajax":return eU(ea,b);case "auto":ka=Ek.da(M([new p(null,2,[Ly,Uh(new p(null,
4,[pq,or,fy,!1,yt,!1,cs,b],null)),tq,Uh(null)],null),va]));var oa=R.da(ka,Sw,M([$n,Ly,tq]));oa=Gf(ka)?si.j(X,oa):oa;return new fU(Sw.aa(ka),$n.aa(ka),Ly.aa(ka),tq.aa(ka),null,Eh(oa),null);default:throw Error(["No matching clause: ",t.aa(ka)].join(""));}}());if(q(f)){var wa=Ly.aa(f),xa=Vr.aa(n),Ra=Db.j(QT,f);d=uQ(new S(null,3,5,T,[Vr.aa(n),vo.aa(n),lr.aa(n)],null),d);I=jQ(1,ci.aa(function(ka){var oa=GT(ka);ka=q(oa)?new S(null,2,5,T,[iz,ka],null):ka;oa=P(ka,0,null);var Ca=P(ka,1,null);return new p(null,
6,[Dr,xa,Ot,Ra,vo,wa,Lp,ka,kB,oa,ou,Ca],null)}));rQ(d,I);return new p(null,4,[Ct,f,Dr,I,Ot,Ra,vo,Ly.aa(f)],null)}return AT(mz,1700,new Hl(function(){return new S(null,1,5,T,["Failed to create channel socket"],null)}),294795586)}("/chsk",null,M([new p(null,1,[pq,or],null)])),vU=null!=uU&&(uU.ga&64||l===uU.Ja)?yh(zk,uU):uU;B.j(vU,Ct);var xW=B.j(vU,Dr);B.j(vU,Ot);B.j(vU,vo);var aV=Uh(function(){return null});
function bV(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,Cq);return new S(null,2,5,T,[Fv,new p(null,1,[GF,function(c){return q(c)?XU(c,{value:b,mode:"clojure",lineNumbers:!1}):null}],null)],null)}function cV(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,bB);return new S(null,2,5,T,[Zp,new p(null,1,[GF,function(c){return q(c)?VU(c,Rl(b)):null}],null)],null)}function dV(a){return new S(null,2,5,T,[Mo,new p(null,1,[IF,new p(null,1,[sG,UU(az.aa(a))],null)],null)],null)}
function eV(a){return new S(null,2,5,T,[Xf,new p(null,1,[IF,new p(null,1,[sG,Mp.aa(a)],null)],null)],null)}
function cX(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,ns),c=B.j(a,KF),d=B.j(a,Ls),e=B.j(a,tG),f=B.j(a,Iv),h=B.j(a,Ph);return new S(null,2,5,T,[Fv,new p(null,2,[sq,new p(null,1,[Xw,q(b)?b:"500px"],null),GF,function(k){if(q(k)){var m=(new XW.default).readFeature(c,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),n=null==e?null:Rl(e),r=q(f)?function(){var w=null==n?null:VW.fromLonLat(n);console.log(["Center projection: ",QB(" ",e)," (WGS84) to ",t.aa(w)," (EPSG:3857)"].join(""));
return w}():n;r=q(r)?r:[0,0];var u=q(d)?new module$node_modules$ol$style.Style(Rl(Ek.da(M([X,function(){var w=wi(d,new S(null,2,5,T,[Ht,$U],null));return q(w)?new p(null,1,[Ht,new module$node_modules$ol$style.Fill({color:UW.asString(w)})],null):null}(),function(){var w=wi(d,new S(null,2,5,T,[JF,$U],null));return q(w)?new p(null,1,[JF,new module$node_modules$ol$style.Stroke({color:UW.asString(w)})],null):null}()])))):null;m=new YW.Vector({features:[m]});m=new ZW.Vector(Rl(Ek.da(M([new p(null,1,[un,
m],null),q(u)?new p(null,1,[sq,u],null):null]))));console.log(aG,u);return new module$node_modules$ol$Map.default({target:k,layers:[new ZW.Tile({source:new YW.OSM}),m],view:new WW.default({center:r,zoom:q(h)?h:4})})}return null}],null)],null)}
function iV(a){return new S(null,2,5,T,[Iz,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(n)],null),new S(null,2,5,T,[hV,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}k=H(e);return hf(new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(k)],null),new S(null,2,5,T,[hV,k],null)],null),d(Fe(e)))}return null}},
null,null)}(fg.aa(a))}()],null)}
function jV(a){return new S(null,2,5,T,[Ay,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(n)],null),new S(null,2,5,T,[hV,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}k=H(e);return hf(new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(k)],null),new S(null,2,5,T,[hV,k],null)],null),d(Fe(e)))}return null}},
null,null)}(fg.aa(a))}()],null)}
function hV(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,c=B.j(b,lg),d=B.j(b,Ss);b=function(){switch(d instanceof C?d.Aa:null){case "widget.type/html":return eV;case "widget.type/row":return iV;case "widget.type/column":return jV;case "widget.type/vega-lite":return cV;case "widget.type/code":return bV;case "widget.type/markdown":return dV;case "widget.type/geoplot":return cX;default:return new S(null,2,5,T,[Xz,new S(null,3,5,T,[Bq,"Unknown Widget type ",new S(null,2,5,T,[Hq,t.aa(d)],null)],null)],
null)}}();console.log("Render",bh(d));return xf(new S(null,2,5,T,[b,a],null),new p(null,1,[zA,c],null))}
function SU(a){return new S(null,4,5,T,[Ew,new S(null,3,5,T,[es,new p(null,1,[sq,new p(null,1,[My,"Cinzel"],null)],null),"Literate"],null),function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){var f=e;if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var A=0;;)if(A<k){var G=x(h,A),I=null!=G&&(G.ga&64||l===G.Ja)?yh(zk,G):G,F=I,N=B.j(I,Yf);jh(m,new S(null,4,5,T,[ks,new p(null,1,[zA,N],null),new S(null,3,5,T,[Rh,new p(null,1,[mn,function(O,U,ea,va,wa){return function(){return WO(wa)}}(A,
G,I,F,N,h,k,m,f,e)],null),new S(null,1,5,T,[Rv],null)],null),new S(null,2,5,T,[wG,hV(F)],null)],null));A+=1}else return!0}()?ih(kh(m),d(be(f))):ih(kh(m),null)}var n=H(f),r=null!=n&&(n.ga&64||l===n.Ja)?yh(zk,n):n,u=r,w=B.j(r,Yf);return hf(new S(null,4,5,T,[ks,new p(null,1,[zA,w],null),new S(null,3,5,T,[Rh,new p(null,1,[mn,function(A,G,I,F){return function(){return WO(F)}}(n,r,u,w,f,e)],null),new S(null,1,5,T,[Rv],null)],null),new S(null,2,5,T,[wG,hV(u)],null)],null),d(Fe(f)))}return null}},null,null)}(a)}(),
new S(null,2,5,T,[uG,new S(null,3,5,T,[YF,new p(null,1,[mn,function(){return uO(new S(null,1,5,T,[new p(null,3,[lg,t.aa(tm()),Ss,Vu,Cq,function(){var b=new dc,c=kc,d=jc;kc=!0;jc=function(e){return b.append(e)};try{QD()}finally{jc=d,kc=c}return t.aa(b)}()],null)],null))}],null),new S(null,1,5,T,[$F],null)],null)],null)],null)}
function kV(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,ou),c=P(b,0,null);b=P(b,1,null);console.group("Sente");console.log(Gk(a,new S(null,2,5,T,[kB,ou],null)));console.groupEnd();return D.j(wA,c)?uO(b):null}
function dX(){var a=new S(null,7,5,T,[ag,new S(null,2,5,T,[bg(cg,dg,new S(null,2,5,T,[eg,new p(null,1,[fg,new S(null,1,5,T,[gg],null)],null)],null)),hg],null),ig,jg,kg,new S(null,2,5,T,[dg,lg],null),new S(null,1,5,T,[bg(mg,jg,dg,ng)],null)],null);var b=y(og);a=pg.j?pg.j(a,b):pg.call(null,a,b);a=qg(a);return TW(new S(null,2,5,T,[SU,a],null))}function lV(){Vh(aV,iU(xW,kV));vO(function(){console.log("Will re-render...");return dX()});return dX()}ia("literate.app.init",lV);try{lV()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);