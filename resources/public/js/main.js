var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function(mc,Rb,Jc,Nb){var n=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,ca=Object.prototype.propertyIsEnumerable;Jc.exports=function(){try{if(!Object.assign)return!1;var Sa=new String("abc");Sa[5]="de";if("5"===Object.getOwnPropertyNames(Sa)[0])return!1;var Wb={};for(Sa=0;10>Sa;Sa++)Wb["_"+String.fromCharCode(Sa)]=Sa;if("0123456789"!==Object.getOwnPropertyNames(Wb).map(function(ub){return Wb[ub]}).join(""))return!1;var fb={};"abcdefghijklmnopqrst".split("").forEach(function(ub){fb[ub]=
ub});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},fb)).join("")?!1:!0}catch(ub){return!1}}()?Object.assign:function(Sa,Wb){if(null===Sa||void 0===Sa)throw new TypeError("Object.assign cannot be called with null or undefined");var fb=Object(Sa);for(var ub,Qb=1;Qb<arguments.length;Qb++){var Bb=Object(arguments[Qb]);for(var bb in Bb)x.call(Bb,bb)&&(fb[bb]=Bb[bb]);if(n){ub=n(Bb);for(var qb=0;qb<ub.length;qb++)ca.call(Bb,ub[qb])&&(fb[ub[qb]]=Bb[ub[qb]])}}return fb}};
shadow$provide[1]=function(mc,Rb,Jc,Nb){function n(W){for(var ea="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+W,pa=1;pa<arguments.length;pa++)ea+="\x26args[]\x3d"+encodeURIComponent(arguments[pa]);return"Minified React error #"+W+"; visit "+ea+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(W,ea,pa){this.props=W;this.context=ea;this.refs=ob;this.updater=pa||cb}function ca(){}function Sa(W,ea,pa){this.props=
W;this.context=ea;this.refs=ob;this.updater=pa||cb}function Wb(W,ea,pa){var Ua,db={},U=null,va=null;if(null!=ea)for(Ua in void 0!==ea.ref&&(va=ea.ref),void 0!==ea.key&&(U=""+ea.key),ea)Q.call(ea,Ua)&&!H.hasOwnProperty(Ua)&&(db[Ua]=ea[Ua]);var xa=arguments.length-2;if(1===xa)db.children=pa;else if(1<xa){for(var ma=Array(xa),R=0;R<xa;R++)ma[R]=arguments[R+2];db.children=ma}if(W&&W.defaultProps)for(Ua in xa=W.defaultProps,xa)void 0===db[Ua]&&(db[Ua]=xa[Ua]);return{$$typeof:jb,type:W,key:U,ref:va,props:db,
_owner:$a.current}}function fb(W,ea){return{$$typeof:jb,type:W.type,key:ea,ref:W.ref,props:W.props,_owner:W._owner}}function ub(W){return"object"===typeof W&&null!==W&&W.$$typeof===jb}function Qb(W){var ea={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+W).replace(/[=:]/g,function(pa){return ea[pa]})}function Bb(W,ea,pa,Ua){if(na.length){var db=na.pop();db.result=W;db.keyPrefix=ea;db.func=pa;db.context=Ua;db.count=0;return db}return{result:W,keyPrefix:ea,func:pa,context:Ua,count:0}}function bb(W){W.result=
null;W.keyPrefix=null;W.func=null;W.context=null;W.count=0;10>na.length&&na.push(W)}function qb(W,ea,pa,Ua){var db=typeof W;if("undefined"===db||"boolean"===db)W=null;var U=!1;if(null===W)U=!0;else switch(db){case "string":case "number":U=!0;break;case "object":switch(W.$$typeof){case jb:case Ca:U=!0}}if(U)return pa(Ua,W,""===ea?"."+Wa(W,0):ea),1;U=0;ea=""===ea?".":ea+":";if(Array.isArray(W))for(var va=0;va<W.length;va++){db=W[va];var xa=ea+Wa(db,va);U+=qb(db,xa,pa,Ua)}else if(null===W||"object"!==
typeof W?xa=null:(xa=hb&&W[hb]||W["@@iterator"],xa="function"===typeof xa?xa:null),"function"===typeof xa)for(W=xa.call(W),va=0;!(db=W.next()).done;)db=db.value,xa=ea+Wa(db,va++),U+=qb(db,xa,pa,Ua);else if("object"===db)throw pa=""+W,Error(n(31,"[object Object]"===pa?"object with keys {"+Object.keys(W).join(", ")+"}":pa,""));return U}function sb(W,ea,pa){return null==W?0:qb(W,"",ea,pa)}function Wa(W,ea){return"object"===typeof W&&null!==W&&null!=W.key?Qb(W.key):ea.toString(36)}function Ha(W,ea){W.func.call(W.context,
ea,W.count++)}function Ia(W,ea,pa){var Ua=W.result,db=W.keyPrefix;W=W.func.call(W.context,ea,W.count++);Array.isArray(W)?Ya(W,Ua,pa,function(U){return U}):null!=W&&(ub(W)&&(W=fb(W,db+(!W.key||ea&&ea.key===W.key?"":(""+W.key).replace(T,"$\x26/")+"/")+pa)),Ua.push(W))}function Ya(W,ea,pa,Ua,db){var U="";null!=pa&&(U=(""+pa).replace(T,"$\x26/")+"/");ea=Bb(ea,U,Ua,db);sb(W,Ia,ea);bb(ea)}function mb(){var W=O.current;if(null===W)throw Error(n(321));return W}var Ea=Rb(0),Ga="function"===typeof Symbol&&
Symbol.for,jb=Ga?Symbol.for("react.element"):60103,Ca=Ga?Symbol.for("react.portal"):60106;mc=Ga?Symbol.for("react.fragment"):60107;Rb=Ga?Symbol.for("react.strict_mode"):60108;Jc=Ga?Symbol.for("react.profiler"):60114;var ab=Ga?Symbol.for("react.provider"):60109,Ma=Ga?Symbol.for("react.context"):60110,ja=Ga?Symbol.for("react.forward_ref"):60112,Aa=Ga?Symbol.for("react.suspense"):60113,Qa=Ga?Symbol.for("react.memo"):60115,Xa=Ga?Symbol.for("react.lazy"):60116,hb="function"===typeof Symbol&&Symbol.iterator,
cb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob={};x.prototype.isReactComponent={};x.prototype.setState=function(W,ea){if("object"!==typeof W&&"function"!==typeof W&&null!=W)throw Error(n(85));this.updater.enqueueSetState(this,W,ea,"setState")};x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};ca.prototype=x.prototype;Ga=Sa.prototype=new ca;Ga.constructor=Sa;Ea(Ga,x.prototype);
Ga.isPureReactComponent=!0;var $a={current:null},Q=Object.prototype.hasOwnProperty,H={key:!0,ref:!0,__self:!0,__source:!0},T=/\/+/g,na=[],O={current:null};Ga={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:$a,IsSomeRendererActing:{current:!1},assign:Ea};Nb.Children={map:function(W,ea,pa){if(null==W)return W;var Ua=[];Ya(W,Ua,null,ea,pa);return Ua},forEach:function(W,ea,pa){if(null==W)return W;ea=Bb(null,null,ea,pa);sb(W,Ha,ea);bb(ea)},count:function(W){return sb(W,
function(){return null},null)},toArray:function(W){var ea=[];Ya(W,ea,null,function(pa){return pa});return ea},only:function(W){if(!ub(W))throw Error(n(143));return W}};Nb.Component=x;Nb.Fragment=mc;Nb.Profiler=Jc;Nb.PureComponent=Sa;Nb.StrictMode=Rb;Nb.Suspense=Aa;Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ga;Nb.cloneElement=function(W,ea,pa){if(null===W||void 0===W)throw Error(n(267,W));var Ua=Ea({},W.props),db=W.key,U=W.ref,va=W._owner;if(null!=ea){void 0!==ea.ref&&(U=ea.ref,va=$a.current);
void 0!==ea.key&&(db=""+ea.key);if(W.type&&W.type.defaultProps)var xa=W.type.defaultProps;for(ma in ea)Q.call(ea,ma)&&!H.hasOwnProperty(ma)&&(Ua[ma]=void 0===ea[ma]&&void 0!==xa?xa[ma]:ea[ma])}var ma=arguments.length-2;if(1===ma)Ua.children=pa;else if(1<ma){xa=Array(ma);for(var R=0;R<ma;R++)xa[R]=arguments[R+2];Ua.children=xa}return{$$typeof:jb,type:W.type,key:db,ref:U,props:Ua,_owner:va}};Nb.createContext=function(W,ea){void 0===ea&&(ea=null);W={$$typeof:Ma,_calculateChangedBits:ea,_currentValue:W,
_currentValue2:W,_threadCount:0,Provider:null,Consumer:null};W.Provider={$$typeof:ab,_context:W};return W.Consumer=W};Nb.createElement=Wb;Nb.createFactory=function(W){var ea=Wb.bind(null,W);ea.type=W;return ea};Nb.createRef=function(){return{current:null}};Nb.forwardRef=function(W){return{$$typeof:ja,render:W}};Nb.isValidElement=ub;Nb.lazy=function(W){return{$$typeof:Xa,_ctor:W,_status:-1,_result:null}};Nb.memo=function(W,ea){return{$$typeof:Qa,type:W,compare:void 0===ea?null:ea}};Nb.useCallback=
function(W,ea){return mb().useCallback(W,ea)};Nb.useContext=function(W,ea){return mb().useContext(W,ea)};Nb.useDebugValue=function(){};Nb.useEffect=function(W,ea){return mb().useEffect(W,ea)};Nb.useImperativeHandle=function(W,ea,pa){return mb().useImperativeHandle(W,ea,pa)};Nb.useLayoutEffect=function(W,ea){return mb().useLayoutEffect(W,ea)};Nb.useMemo=function(W,ea){return mb().useMemo(W,ea)};Nb.useReducer=function(W,ea,pa){return mb().useReducer(W,ea,pa)};Nb.useRef=function(W){return mb().useRef(W)};
Nb.useState=function(W){return mb().useState(W)};Nb.version="16.13.1"};
shadow$provide[5]=function(mc,Rb,Jc,Nb){Jc.exports=Rb(1)};
shadow$provide[6]=function(mc,Rb,Jc,Nb){function n(O,W){var ea=O.length;O.push(W);a:for(;;){var pa=ea-1>>>1,Ua=O[pa];if(void 0!==Ua&&0<Sa(Ua,W))O[pa]=W,O[ea]=Ua,ea=pa;else break a}}function x(O){O=O[0];return void 0===O?null:O}function ca(O){var W=O[0];if(void 0!==W){var ea=O.pop();if(ea!==W){O[0]=ea;var pa=0,Ua=O.length;a:for(;pa<Ua;){var db=2*(pa+1)-1,U=O[db],va=db+1,xa=O[va];if(void 0!==U&&0>Sa(U,ea))void 0!==xa&&0>Sa(xa,U)?(O[pa]=xa,O[va]=ea,pa=va):(O[pa]=U,O[db]=ea,pa=db);else if(void 0!==xa&&
0>Sa(xa,ea))O[pa]=xa,O[va]=ea,pa=va;else break a}}return W}return null}function Sa(O,W){var ea=O.sortIndex-W.sortIndex;return 0!==ea?ea:O.id-W.id}function Wb(O){for(var W=x(cb);null!==W;){if(null===W.callback)ca(cb);else if(W.startTime<=O)ca(cb),W.sortIndex=W.expirationTime,n(hb,W);else break;W=x(cb)}}function fb(O){na=!1;Wb(O);if(!T)if(null!==x(hb))T=!0,Wa(ub);else{var W=x(cb);null!==W&&Ha(fb,W.startTime-O)}}function ub(O,W){T=!1;na&&(na=!1,Ia());H=!0;var ea=Q;try{Wb(W);for($a=x(hb);null!==$a&&(!($a.expirationTime>
W)||O&&!Ya());){var pa=$a.callback;if(null!==pa){$a.callback=null;Q=$a.priorityLevel;var Ua=pa($a.expirationTime<=W);W=Nb.unstable_now();"function"===typeof Ua?$a.callback=Ua:$a===x(hb)&&ca(hb);Wb(W)}else ca(hb);$a=x(hb)}if(null!==$a)var db=!0;else{var U=x(cb);null!==U&&Ha(fb,U.startTime-W);db=!1}return db}finally{$a=null,Q=ea,H=!1}}function Qb(O){switch(O){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==
typeof MessageChannel){var Bb=null,bb=null,qb=function(){if(null!==Bb)try{var O=Nb.unstable_now();Bb(!0,O);Bb=null}catch(W){throw setTimeout(qb,0),W;}},sb=Date.now();Nb.unstable_now=function(){return Date.now()-sb};var Wa=function(O){null!==Bb?setTimeout(Wa,0,O):(Bb=O,setTimeout(qb,0))};var Ha=function(O,W){bb=setTimeout(O,W)};var Ia=function(){clearTimeout(bb)};var Ya=function(){return!1};mc=Nb.unstable_forceFrameRate=function(){}}else{var mb=window.performance,Ea=window.Date,Ga=window.setTimeout,
jb=window.clearTimeout;"undefined"!==typeof console&&(mc=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof mc&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof mb&&"function"===
typeof mb.now)Nb.unstable_now=function(){return mb.now()};else{var Ca=Ea.now();Nb.unstable_now=function(){return Ea.now()-Ca}}var ab=!1,Ma=null,ja=-1,Aa=5,Qa=0;Ya=function(){return Nb.unstable_now()>=Qa};mc=function(){};Nb.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):Aa=0<O?Math.floor(1E3/O):5};Rb=new MessageChannel;var Xa=Rb.port2;Rb.port1.onmessage=function(){if(null!==
Ma){var O=Nb.unstable_now();Qa=O+Aa;try{Ma(!0,O)?Xa.postMessage(null):(ab=!1,Ma=null)}catch(W){throw Xa.postMessage(null),W;}}else ab=!1};Wa=function(O){Ma=O;ab||(ab=!0,Xa.postMessage(null))};Ha=function(O,W){ja=Ga(function(){O(Nb.unstable_now())},W)};Ia=function(){jb(ja);ja=-1}}var hb=[],cb=[],ob=1,$a=null,Q=3,H=!1,T=!1,na=!1;Nb.unstable_IdlePriority=5;Nb.unstable_ImmediatePriority=1;Nb.unstable_LowPriority=4;Nb.unstable_NormalPriority=3;Nb.unstable_Profiling=null;Nb.unstable_UserBlockingPriority=
2;Nb.unstable_cancelCallback=function(O){O.callback=null};Nb.unstable_continueExecution=function(){T||H||(T=!0,Wa(ub))};Nb.unstable_getCurrentPriorityLevel=function(){return Q};Nb.unstable_getFirstCallbackNode=function(){return x(hb)};Nb.unstable_next=function(O){switch(Q){case 1:case 2:case 3:var W=3;break;default:W=Q}var ea=Q;Q=W;try{return O()}finally{Q=ea}};Nb.unstable_pauseExecution=function(){};Nb.unstable_requestPaint=mc;Nb.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;
default:O=3}var ea=Q;Q=O;try{return W()}finally{Q=ea}};Nb.unstable_scheduleCallback=function(O,W,ea){var pa=Nb.unstable_now();if("object"===typeof ea&&null!==ea){var Ua=ea.delay;Ua="number"===typeof Ua&&0<Ua?pa+Ua:pa;ea="number"===typeof ea.timeout?ea.timeout:Qb(O)}else ea=Qb(O),Ua=pa;ea=Ua+ea;O={id:ob++,callback:W,priorityLevel:O,startTime:Ua,expirationTime:ea,sortIndex:-1};Ua>pa?(O.sortIndex=Ua,n(cb,O),null===x(hb)&&O===x(cb)&&(na?Ia():na=!0,Ha(fb,Ua-pa))):(O.sortIndex=ea,n(hb,O),T||H||(T=!0,Wa(ub)));
return O};Nb.unstable_shouldYield=function(){var O=Nb.unstable_now();Wb(O);var W=x(hb);return W!==$a&&null!==$a&&null!==W&&null!==W.callback&&W.startTime<=O&&W.expirationTime<$a.expirationTime||Ya()};Nb.unstable_wrapCallback=function(O){var W=Q;return function(){var ea=Q;Q=W;try{return O.apply(this,arguments)}finally{Q=ea}}}};
shadow$provide[8]=function(mc,Rb,Jc,Nb){Jc.exports=Rb(6)};
shadow$provide[9]=function(mc,Rb,Jc,Nb){function n(e){for(var h="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+e,z=1;z<arguments.length;z++)h+="\x26args[]\x3d"+encodeURIComponent(arguments[z]);return"Minified React error #"+e+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e,h,z,ba,Ba,yb,Jb,hc,dd){var Zc=Array.prototype.slice.call(arguments,3);try{h.apply(z,Zc)}catch(Qd){this.onError(Qd)}}function ca(e,
h,z,ba,Ba,yb,Jb,hc,dd){Pf=!1;Mi=null;x.apply(Sj,arguments)}function Sa(e,h,z,ba,Ba,yb,Jb,hc,dd){ca.apply(this,arguments);if(Pf){if(Pf){var Zc=Mi;Pf=!1;Mi=null}else throw Error(n(198));vh||(vh=!0,gj=Zc)}}function Wb(e,h,z){var ba=e.type||"unknown-event";e.currentTarget=ci(z);Sa(ba,h,void 0,e);e.currentTarget=null}function fb(){if(hj)for(var e in di){var h=di[e],z=hj.indexOf(e);if(!(-1<z))throw Error(n(96,e));if(!ij[z]){if(!h.extractEvents)throw Error(n(97,e));ij[z]=h;z=h.eventTypes;for(var ba in z){var Ba=
void 0,yb=z[ba],Jb=h,hc=ba;if(Bj.hasOwnProperty(hc))throw Error(n(99,hc));Bj[hc]=yb;var dd=yb.phasedRegistrationNames;if(dd){for(Ba in dd)dd.hasOwnProperty(Ba)&&ub(dd[Ba],Jb,hc);Ba=!0}else yb.registrationName?(ub(yb.registrationName,Jb,hc),Ba=!0):Ba=!1;if(!Ba)throw Error(n(98,ba,e));}}}}function ub(e,h,z){if(qi[e])throw Error(n(100,e));qi[e]=h;ei[e]=h.eventTypes[z].dependencies}function Qb(e){var h=!1,z;for(z in e)if(e.hasOwnProperty(z)){var ba=e[z];if(!di.hasOwnProperty(z)||di[z]!==ba){if(di[z])throw Error(n(102,
z));di[z]=ba;h=!0}}h&&fb()}function Bb(e){if(e=Ni(e)){if("function"!==typeof Oi)throw Error(n(280));var h=e.stateNode;h&&(h=jj(h),Oi(e.stateNode,e.type,h))}}function bb(e){ri?pg?pg.push(e):pg=[e]:ri=e}function qb(){if(ri){var e=ri,h=pg;pg=ri=null;Bb(e);if(h)for(e=0;e<h.length;e++)Bb(h[e])}}function sb(e,h){return e(h)}function Wa(e,h,z,ba,Ba){return e(h,z,ba,Ba)}function Ha(){}function Ia(){if(null!==ri||null!==pg)Ha(),qb()}function Ya(e,h,z){if(Pi)return e(h,z);Pi=!0;try{return Nh(e,h,z)}finally{Pi=
!1,Ia()}}function mb(e){if(kj.call(sf,e))return!0;if(kj.call(nf,e))return!1;if($g.test(e))return sf[e]=!0;nf[e]=!0;return!1}function Ea(e,h,z,ba){if(null!==z&&0===z.type)return!1;switch(typeof h){case "function":case "symbol":return!0;case "boolean":if(ba)return!1;if(null!==z)return!z.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function Ga(e,h,z,ba){if(null===h||"undefined"===typeof h||Ea(e,h,z,ba))return!0;if(ba)return!1;if(null!==z)switch(z.type){case 3:return!h;
case 4:return!1===h;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function jb(e,h,z,ba,Ba,yb){this.acceptsBooleans=2===h||3===h||4===h;this.attributeName=ba;this.attributeNamespace=Ba;this.mustUseProperty=z;this.propertyName=e;this.type=h;this.sanitizeURL=yb}function Ca(e){return e[1].toUpperCase()}function ab(e,h,z,ba){var Ba=yf.hasOwnProperty(h)?yf[h]:null;(null!==Ba?0===Ba.type:ba?0:2<h.length&&("o"===h[0]||"O"===h[0])&&("n"===h[1]||"N"===h[1]))||(Ga(h,z,Ba,ba)&&(z=null),ba||null===
Ba?mb(h)&&(null===z?e.removeAttribute(h):e.setAttribute(h,""+z)):Ba.mustUseProperty?e[Ba.propertyName]=null===z?3===Ba.type?!1:"":z:(h=Ba.attributeName,ba=Ba.attributeNamespace,null===z?e.removeAttribute(h):(Ba=Ba.type,z=3===Ba||4===Ba&&!0===z?"":""+z,ba?e.setAttributeNS(ba,h,z):e.setAttribute(h,z))))}function Ma(e){if(null===e||"object"!==typeof e)return null;e=lf&&e[lf]||e["@@iterator"];return"function"===typeof e?e:null}function ja(e){if(-1===e._status){e._status=0;var h=e._ctor;h=h();e._result=
h;h.then(function(z){0===e._status&&(z=z.default,e._status=1,e._result=z)},function(z){0===e._status&&(e._status=2,e._result=z)})}}function Aa(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ah:return"Fragment";case fi:return"Portal";case Oh:return"Profiler";case si:return"StrictMode";case Qi:return"Suspense";case ti:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Tj:return"Context.Consumer";case Wg:return"Context.Provider";
case wh:var h=e.render;h=h.displayName||h.name||"";return e.displayName||(""!==h?"ForwardRef("+h+")":"ForwardRef");case Xg:return Aa(e.type);case ui:return Aa(e.render);case vi:if(e=1===e._status?e._result:null)return Aa(e)}return null}function Qa(e){var h="";do{a:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var z="";break a;default:var ba=e._debugOwner,Ba=e._debugSource,yb=Aa(e.type);z=null;ba&&(z=Aa(ba.type));ba=yb;yb="";Ba?yb=" (at "+Ba.fileName.replace(Kg,"")+":"+Ba.lineNumber+")":
z&&(yb=" (created by "+z+")");z="\n    in "+(ba||"Unknown")+yb}h+=z;e=e.return}while(e);return h}function Xa(e){switch(typeof e){case "boolean":case "number":case "object":case "string":case "undefined":return e;default:return""}}function hb(e){var h=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===h||"radio"===h)}function cb(e){var h=hb(e)?"checked":"value",z=Object.getOwnPropertyDescriptor(e.constructor.prototype,h),ba=""+e[h];if(!e.hasOwnProperty(h)&&"undefined"!==typeof z&&
"function"===typeof z.get&&"function"===typeof z.set){var Ba=z.get,yb=z.set;Object.defineProperty(e,h,{configurable:!0,get:function(){return Ba.call(this)},set:function(Jb){ba=""+Jb;yb.call(this,Jb)}});Object.defineProperty(e,h,{enumerable:z.enumerable});return{getValue:function(){return ba},setValue:function(Jb){ba=""+Jb},stopTracking:function(){e._valueTracker=null;delete e[h]}}}}function ob(e){e._valueTracker||(e._valueTracker=cb(e))}function $a(e){if(!e)return!1;var h=e._valueTracker;if(!h)return!0;
var z=h.getValue(),ba="";e&&(ba=hb(e)?e.checked?"true":"false":e.value);e=ba;return e!==z?(h.setValue(e),!0):!1}function Q(e,h){var z=h.checked;return Ag({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=z?z:e._wrapperState.initialChecked})}function H(e,h){var z=null==h.defaultValue?"":h.defaultValue,ba=null!=h.checked?h.checked:h.defaultChecked;z=Xa(null!=h.value?h.value:z);e._wrapperState={initialChecked:ba,initialValue:z,controlled:"checkbox"===h.type||"radio"===h.type?
null!=h.checked:null!=h.value}}function T(e,h){h=h.checked;null!=h&&ab(e,"checked",h,!1)}function na(e,h){T(e,h);var z=Xa(h.value),ba=h.type;if(null!=z)if("number"===ba){if(0===z&&""===e.value||e.value!=z)e.value=""+z}else e.value!==""+z&&(e.value=""+z);else if("submit"===ba||"reset"===ba){e.removeAttribute("value");return}h.hasOwnProperty("value")?W(e,h.type,z):h.hasOwnProperty("defaultValue")&&W(e,h.type,Xa(h.defaultValue));null==h.checked&&null!=h.defaultChecked&&(e.defaultChecked=!!h.defaultChecked)}
function O(e,h,z){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var ba=h.type;if(!("submit"!==ba&&"reset"!==ba||void 0!==h.value&&null!==h.value))return;h=""+e._wrapperState.initialValue;z||h===e.value||(e.value=h);e.defaultValue=h}z=e.name;""!==z&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==z&&(e.name=z)}function W(e,h,z){if("number"!==h||e.ownerDocument.activeElement!==e)null==z?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+z&&(e.defaultValue=
""+z)}function ea(e){var h="";lj.Children.forEach(e,function(z){null!=z&&(h+=z)});return h}function pa(e,h){e=Ag({children:void 0},h);if(h=ea(h.children))e.children=h;return e}function Ua(e,h,z,ba){e=e.options;if(h){h={};for(var Ba=0;Ba<z.length;Ba++)h["$"+z[Ba]]=!0;for(z=0;z<e.length;z++)Ba=h.hasOwnProperty("$"+e[z].value),e[z].selected!==Ba&&(e[z].selected=Ba),Ba&&ba&&(e[z].defaultSelected=!0)}else{z=""+Xa(z);h=null;for(Ba=0;Ba<e.length;Ba++){if(e[Ba].value===z){e[Ba].selected=!0;ba&&(e[Ba].defaultSelected=
!0);return}null!==h||e[Ba].disabled||(h=e[Ba])}null!==h&&(h.selected=!0)}}function db(e,h){if(null!=h.dangerouslySetInnerHTML)throw Error(n(91));return Ag({},h,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U(e,h){var z=h.value;if(null==z){z=h.children;h=h.defaultValue;if(null!=z){if(null!=h)throw Error(n(92));if(Array.isArray(z)){if(!(1>=z.length))throw Error(n(93));z=z[0]}h=z}null==h&&(h="");z=h}e._wrapperState={initialValue:Xa(z)}}function va(e,h){var z=Xa(h.value),
ba=Xa(h.defaultValue);null!=z&&(z=""+z,z!==e.value&&(e.value=z),null==h.defaultValue&&e.defaultValue!==z&&(e.defaultValue=z));null!=ba&&(e.defaultValue=""+ba)}function xa(e){var h=e.textContent;h===e._wrapperState.initialValue&&""!==h&&null!==h&&(e.value=h)}function ma(e){switch(e){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R(e,h){return null==e||"http://www.w3.org/1999/xhtml"===e?ma(h):
"http://www.w3.org/2000/svg"===e&&"foreignObject"===h?"http://www.w3.org/1999/xhtml":e}function v(e,h){if(h){var z=e.firstChild;if(z&&z===e.lastChild&&3===z.nodeType){z.nodeValue=h;return}}e.textContent=h}function w(e,h){var z={};z[e.toLowerCase()]=h.toLowerCase();z["Webkit"+e]="webkit"+h;z["Moz"+e]="moz"+h;return z}function p(e){if(gi[e])return gi[e];if(!Gf[e])return e;var h=Gf[e],z;for(z in h)if(h.hasOwnProperty(z)&&z in mj)return gi[e]=h[z];return e}function r(e){var h=Ge.get(e);void 0===h&&(h=
new Map,Ge.set(e,h));return h}function C(e){var h=e,z=e;if(e.alternate)for(;h.return;)h=h.return;else{e=h;do h=e,0!==(h.effectTag&1026)&&(z=h.return),e=h.return;while(e)}return 3===h.tag?z:null}function D(e){if(13===e.tag){var h=e.memoizedState;null===h&&(e=e.alternate,null!==e&&(h=e.memoizedState));if(null!==h)return h.dehydrated}return null}function G(e){if(C(e)!==e)throw Error(n(188));}function B(e){var h=e.alternate;if(!h){h=C(e);if(null===h)throw Error(n(188));return h!==e?null:e}for(var z=e,
ba=h;;){var Ba=z.return;if(null===Ba)break;var yb=Ba.alternate;if(null===yb){ba=Ba.return;if(null!==ba){z=ba;continue}break}if(Ba.child===yb.child){for(yb=Ba.child;yb;){if(yb===z)return G(Ba),e;if(yb===ba)return G(Ba),h;yb=yb.sibling}throw Error(n(188));}if(z.return!==ba.return)z=Ba,ba=yb;else{for(var Jb=!1,hc=Ba.child;hc;){if(hc===z){Jb=!0;z=Ba;ba=yb;break}if(hc===ba){Jb=!0;ba=Ba;z=yb;break}hc=hc.sibling}if(!Jb){for(hc=yb.child;hc;){if(hc===z){Jb=!0;z=yb;ba=Ba;break}if(hc===ba){Jb=!0;ba=yb;z=Ba;
break}hc=hc.sibling}if(!Jb)throw Error(n(189));}}if(z.alternate!==ba)throw Error(n(190));}if(3!==z.tag)throw Error(n(188));return z.stateNode.current===z?e:h}function fa(e){e=B(e);if(!e)return null;for(var h=e;;){if(5===h.tag||6===h.tag)return h;if(h.child)h.child.return=h,h=h.child;else{if(h===e)break;for(;!h.sibling;){if(!h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}}return null}function wa(e,h){if(null==h)throw Error(n(30));if(null==e)return h;if(Array.isArray(e)){if(Array.isArray(h))return e.push.apply(e,
h),e;e.push(h);return e}return Array.isArray(h)?[e].concat(h):[e,h]}function la(e,h,z){Array.isArray(e)?e.forEach(h,z):e&&h.call(z,e)}function Ta(e){if(e){var h=e._dispatchListeners,z=e._dispatchInstances;if(Array.isArray(h))for(var ba=0;ba<h.length&&!e.isPropagationStopped();ba++)Wb(e,h[ba],z[ba]);else h&&Wb(e,h,z);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}function Ja(e){null!==e&&(wi=wa(wi,e));e=wi;wi=null;if(e){la(e,Ta);if(wi)throw Error(n(95));
if(vh)throw e=gj,vh=!1,gj=null,e;}}function Z(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function sa(e){if(!xh)return!1;e="on"+e;var h=e in document;h||(h=document.createElement("div"),h.setAttribute(e,"return;"),h="function"===typeof h[e]);return h}function eb(e){e.topLevelType=null;e.nativeEvent=null;e.targetInst=null;e.ancestors.length=0;10>xi.length&&xi.push(e)}function xb(e,h,z,ba){if(xi.length){var Ba=xi.pop();
Ba.topLevelType=e;Ba.eventSystemFlags=ba;Ba.nativeEvent=h;Ba.targetInst=z;return Ba}return{topLevelType:e,eventSystemFlags:ba,nativeEvent:h,targetInst:z,ancestors:[]}}function Kb(e){var h=e.targetInst,z=h;do{if(!z){e.ancestors.push(z);break}var ba=z;if(3===ba.tag)ba=ba.stateNode.containerInfo;else{for(;ba.return;)ba=ba.return;ba=3!==ba.tag?null:ba.stateNode.containerInfo}if(!ba)break;h=z.tag;5!==h&&6!==h||e.ancestors.push(z);z=rb(ba)}while(z);for(z=0;z<e.ancestors.length;z++){h=e.ancestors[z];var Ba=
Z(e.nativeEvent);ba=e.topLevelType;var yb=e.nativeEvent,Jb=e.eventSystemFlags;0===z&&(Jb|=64);for(var hc=null,dd=0;dd<ij.length;dd++){var Zc=ij[dd];Zc&&(Zc=Zc.extractEvents(ba,h,yb,Ba,Jb))&&(hc=wa(hc,Zc))}Ja(hc)}}function ec(e,h,z){if(!z.has(e)){switch(e){case "scroll":Dd(h,"scroll",!0);break;case "focus":case "blur":Dd(h,"focus",!0);Dd(h,"blur",!0);z.set("blur",null);z.set("focus",null);break;case "cancel":case "close":sa(e)&&Dd(h,e,!0);break;case "invalid":case "submit":case "reset":break;default:-1===
yh.indexOf(e)&&Nc(e,h)}z.set(e,null)}}function Ec(e,h){var z=r(h);Xf.forEach(function(ba){ec(ba,h,z)});nj.forEach(function(ba){ec(ba,h,z)})}function gd(e,h,z,ba,Ba){return{blockedOn:e,topLevelType:h,eventSystemFlags:z|32,nativeEvent:Ba,container:ba}}function Dc(e,h){switch(e){case "focus":case "blur":Ph=null;break;case "dragenter":case "dragleave":Qh=null;break;case "mouseover":case "mouseout":zh=null;break;case "pointerover":case "pointerout":Ah.delete(h.pointerId);break;case "gotpointercapture":case "lostpointercapture":Bh.delete(h.pointerId)}}
function Sc(e,h,z,ba,Ba,yb){if(null===e||e.nativeEvent!==yb)return e=gd(h,z,ba,Ba,yb),null!==h&&(h=Lb(h),null!==h&&bl(h)),e;e.eventSystemFlags|=ba;return e}function Ra(e,h,z,ba,Ba){switch(h){case "focus":return Ph=Sc(Ph,e,h,z,ba,Ba),!0;case "dragenter":return Qh=Sc(Qh,e,h,z,ba,Ba),!0;case "mouseover":return zh=Sc(zh,e,h,z,ba,Ba),!0;case "pointerover":var yb=Ba.pointerId;Ah.set(yb,Sc(Ah.get(yb)||null,e,h,z,ba,Ba));return!0;case "gotpointercapture":return yb=Ba.pointerId,Bh.set(yb,Sc(Bh.get(yb)||null,
e,h,z,ba,Ba)),!0}return!1}function nc(e){var h=rb(e.target);if(null!==h){var z=C(h);if(null!==z)if(h=z.tag,13===h){if(h=D(z),null!==h){e.blockedOn=h;Bg.unstable_runWithPriority(e.priority,function(){yl(z)});return}}else if(3===h&&z.stateNode.hydrate){e.blockedOn=3===z.tag?z.stateNode.containerInfo:null;return}}e.blockedOn=null}function kc(e){if(null!==e.blockedOn)return!1;var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==h){var z=Lb(h);null!==z&&bl(z);e.blockedOn=h;return!1}return!0}
function wc(e,h,z){kc(e)&&z.delete(h)}function Pc(){for(Ri=!1;0<bh.length;){var e=bh[0];if(null!==e.blockedOn){e=Lb(e.blockedOn);null!==e&&Lk(e);break}var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==h?e.blockedOn=h:bh.shift()}null!==Ph&&kc(Ph)&&(Ph=null);null!==Qh&&kc(Qh)&&(Qh=null);null!==zh&&kc(zh)&&(zh=null);Ah.forEach(wc);Bh.forEach(wc)}function rc(e,h){e.blockedOn===h&&(e.blockedOn=null,Ri||(Ri=!0,Bg.unstable_scheduleCallback(Bg.unstable_NormalPriority,Pc)))}function Xc(e){function h(Ba){return rc(Ba,
e)}if(0<bh.length){rc(bh[0],e);for(var z=1;z<bh.length;z++){var ba=bh[z];ba.blockedOn===e&&(ba.blockedOn=null)}}null!==Ph&&rc(Ph,e);null!==Qh&&rc(Qh,e);null!==zh&&rc(zh,e);Ah.forEach(h);Bh.forEach(h);for(z=0;z<ch.length;z++)ba=ch[z],ba.blockedOn===e&&(ba.blockedOn=null);for(;0<ch.length&&(z=ch[0],null===z.blockedOn);)nc(z),null===z.blockedOn&&ch.shift()}function $c(e,h){for(var z=0;z<e.length;z+=2){var ba=e[z],Ba=e[z+1],yb="on"+(Ba[0].toUpperCase()+Ba.slice(1));yb={phasedRegistrationNames:{bubbled:yb,
captured:yb+"Capture"},dependencies:[ba],eventPriority:h};Cj.set(ba,h);Dj.set(ba,yb);kh[Ba]=yb}}function Nc(e,h){Dd(h,e,!1)}function Dd(e,h,z){var ba=Cj.get(h);switch(void 0===ba?2:ba){case 0:ba=we.bind(null,h,1,e);break;case 1:ba=ld.bind(null,h,1,e);break;default:ba=sd.bind(null,h,1,e)}z?e.addEventListener(h,ba,!0):e.addEventListener(h,ba,!1)}function we(e,h,z,ba){jg||Ha();var Ba=sd,yb=jg;jg=!0;try{Wa(Ba,e,h,z,ba)}finally{(jg=yb)||Ia()}}function ld(e,h,z,ba){yi(Uj,sd.bind(null,e,h,z,ba))}function sd(e,
h,z,ba){if(Rh)if(0<bh.length&&-1<Xf.indexOf(e))e=gd(null,e,h,z,ba),bh.push(e);else{var Ba=ge(e,h,z,ba);if(null===Ba)Dc(e,ba);else if(-1<Xf.indexOf(e))e=gd(Ba,e,h,z,ba),bh.push(e);else if(!Ra(Ba,e,h,z,ba)){Dc(e,ba);e=xb(e,ba,null,h);try{Ya(Kb,e)}finally{eb(e)}}}}function ge(e,h,z,ba){z=Z(ba);z=rb(z);if(null!==z){var Ba=C(z);if(null===Ba)z=null;else{var yb=Ba.tag;if(13===yb){z=D(Ba);if(null!==z)return z;z=null}else if(3===yb){if(Ba.stateNode.hydrate)return 3===Ba.tag?Ba.stateNode.containerInfo:null;
z=null}else Ba!==z&&(z=null)}}e=xb(e,ba,z,h);try{Ya(Kb,e)}finally{eb(e)}return null}function La(e,h,z){return null==h||"boolean"===typeof h||""===h?"":z||"number"!==typeof h||0===h||zi.hasOwnProperty(e)&&zi[e]?(""+h).trim():h+"px"}function vb(e,h){e=e.style;for(var z in h)if(h.hasOwnProperty(z)){var ba=0===z.indexOf("--"),Ba=La(z,h[z],ba);"float"===z&&(z="cssFloat");ba?e.setProperty(z,Ba):e[z]=Ba}}function $b(e,h){if(h){if(Ch[e]&&(null!=h.children||null!=h.dangerouslySetInnerHTML))throw Error(n(137,
e,""));if(null!=h.dangerouslySetInnerHTML){if(null!=h.children)throw Error(n(60));if(!("object"===typeof h.dangerouslySetInnerHTML&&"__html"in h.dangerouslySetInnerHTML))throw Error(n(61));}if(null!=h.style&&"object"!==typeof h.style)throw Error(n(62,""));}}function rd(e,h){if(-1===e.indexOf("-"))return"string"===typeof h.is;switch(e){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function vd(e,h){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var z=r(e);h=ei[h];for(var ba=0;ba<h.length;ba++)ec(h[ba],e,z)}function de(){}function oe(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(h){return e.body}}function X(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function za(e,h){var z=X(e);e=0;for(var ba;z;){if(3===z.nodeType){ba=e+z.textContent.length;if(e<=h&&ba>=h)return{node:z,
offset:h-e};e=ba}a:{for(;z;){if(z.nextSibling){z=z.nextSibling;break a}z=z.parentNode}z=void 0}z=X(z)}}function gb(e,h){return e&&h?e===h?!0:e&&3===e.nodeType?!1:h&&3===h.nodeType?gb(e,h.parentNode):"contains"in e?e.contains(h):e.compareDocumentPosition?!!(e.compareDocumentPosition(h)&16):!1:!1}function Db(){for(var e=window,h=oe();h instanceof e.HTMLIFrameElement;){try{var z="string"===typeof h.contentWindow.location.href}catch(ba){z=!1}if(z)e=h.contentWindow;else break;h=oe(e.document)}return h}
function Zb(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return h&&("input"===h&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===h||"true"===e.contentEditable)}function Gb(e,h){switch(e){case "button":case "input":case "select":case "textarea":return!!h.autoFocus}return!1}function sc(e,h){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof h.children||"number"===typeof h.children||"object"===typeof h.dangerouslySetInnerHTML&&
null!==h.dangerouslySetInnerHTML&&null!=h.dangerouslySetInnerHTML.__html}function jc(e){for(;null!=e;e=e.nextSibling){var h=e.nodeType;if(1===h||3===h)break}return e}function Oa(e){e=e.previousSibling;for(var h=0;e;){if(8===e.nodeType){var z=e.data;if(z===lh||z===Ai||z===Vj){if(0===h)return e;h--}else z===Si&&h++}e=e.previousSibling}return null}function rb(e){var h=e[mh];if(h)return h;for(var z=e.parentNode;z;){if(h=z[Dh]||z[mh]){z=h.alternate;if(null!==h.child||null!==z&&null!==z.child)for(e=Oa(e);null!==
e;){if(z=e[mh])return z;e=Oa(e)}return h}e=z;z=e.parentNode}return null}function Lb(e){e=e[mh]||e[Dh];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gc(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33));}function tc(e){return e[Qg]||null}function Bc(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function Mc(e,h){var z=e.stateNode;if(!z)return null;var ba=jj(z);if(!ba)return null;z=ba[h];a:switch(h){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(ba=
!ba.disabled)||(e=e.type,ba=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!ba;break a;default:e=!1}if(e)return null;if(z&&"function"!==typeof z)throw Error(n(231,h,typeof z));return z}function Hb(e,h,z){if(h=Mc(e,z.dispatchConfig.phasedRegistrationNames[h]))z._dispatchListeners=wa(z._dispatchListeners,h),z._dispatchInstances=wa(z._dispatchInstances,e)}function yc(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var h=e._targetInst,z=[];h;)z.push(h),h=Bc(h);for(h=z.length;0<h--;)Hb(z[h],
"captured",e);for(h=0;h<z.length;h++)Hb(z[h],"bubbled",e)}}function Cc(e,h,z){e&&z&&z.dispatchConfig.registrationName&&(h=Mc(e,z.dispatchConfig.registrationName))&&(z._dispatchListeners=wa(z._dispatchListeners,h),z._dispatchInstances=wa(z._dispatchInstances,e))}function xc(e){e&&e.dispatchConfig.registrationName&&Cc(e._targetInst,null,e)}function Ic(e){la(e,yc)}function Yc(){if(Bi)return Bi;var e,h=ug,z=h.length,ba,Ba="value"in Sh?Sh.value:Sh.textContent,yb=Ba.length;for(e=0;e<z&&h[e]===Ba[e];e++);
var Jb=z-e;for(ba=1;ba<=Jb&&h[z-ba]===Ba[yb-ba];ba++);return Bi=Ba.slice(e,1<ba?1-ba:void 0)}function Uc(){return!0}function od(){return!1}function qd(e,h,z,ba){this.dispatchConfig=e;this._targetInst=h;this.nativeEvent=z;e=this.constructor.Interface;for(var Ba in e)e.hasOwnProperty(Ba)&&((h=e[Ba])?this[Ba]=h(z):"target"===Ba?this.target=ba:this[Ba]=z[Ba]);this.isDefaultPrevented=(null!=z.defaultPrevented?z.defaultPrevented:!1===z.returnValue)?Uc:od;this.isPropagationStopped=od;return this}function Id(e,
h,z,ba){if(this.eventPool.length){var Ba=this.eventPool.pop();this.call(Ba,e,h,z,ba);return Ba}return new this(e,h,z,ba)}function Ed(e){if(!(e instanceof this))throw Error(n(279));e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function Wd(e){e.eventPool=[];e.getPooled=Id;e.release=Ed}function me(e,h){switch(e){case "keyup":return-1!==Ti.indexOf(h.keyCode);case "keydown":return 229!==h.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ye(e){e=
e.detail;return"object"===typeof e&&"data"in e?e.data:null}function Ye(e,h){switch(e){case "compositionend":return ye(h);case "keypress":if(32!==h.which)return null;oj=!0;return Wj;case "textInput":return e=h.data,e===Wj&&oj?null:e;default:return null}}function Qe(e,h){if(nh)return"compositionend"===e||!Ci&&me(e,h)?(e=Yc(),Bi=ug=Sh=null,nh=!1,e):null;switch(e){case "paste":return null;case "keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;
if(h.which)return String.fromCharCode(h.which)}return null;case "compositionend":return Di&&"ko"!==h.locale?null:h.data;default:return null}}function Re(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===h?!!Ui[e.type]:"textarea"===h?!0:!1}function Fd(e,h,z){e=qd.getPooled(Xj.change,e,h,z);e.type="change";bb(z);Ic(e);return e}function ee(e){Ja(e)}function ff(e){var h=gc(e);if($a(h))return e}function Oe(e,h){if("change"===e)return h}function Bf(){Th&&(Th.detachEvent("onpropertychange",
Yd),Uh=Th=null)}function Yd(e){if("value"===e.propertyName&&ff(Uh))if(e=Fd(Uh,e,Z(e)),jg)Ja(e);else{jg=!0;try{sb(ee,e)}finally{jg=!1,Ia()}}}function Ae(e,h,z){"focus"===e?(Bf(),Th=h,Uh=z,Th.attachEvent("onpropertychange",Yd)):"blur"===e&&Bf()}function cf(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ff(Uh)}function re(e,h){if("click"===e)return ff(h)}function Ad(e,h){if("input"===e||"change"===e)return ff(h)}function Ld(e){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(e):
(e=Mk[e])?!!h[e]:!1}function ae(){return Ld}function Jf(e,h){return e===h&&(0!==e||1/e===1/h)||e!==e&&h!==h}function De(e,h){if(ra(e,h))return!0;if("object"!==typeof e||null===e||"object"!==typeof h||null===h)return!1;var z=Object.keys(e),ba=Object.keys(h);if(z.length!==ba.length)return!1;for(ba=0;ba<z.length;ba++)if(!ib.call(h,z[ba])||!ra(e[z[ba]],h[z[ba]]))return!1;return!0}function Jd(e,h){var z=h.window===h?h.document:9===h.nodeType?h:h.ownerDocument;if(ed||null==Hc||Hc!==oe(z))return null;z=
Hc;"selectionStart"in z&&Zb(z)?z={start:z.selectionStart,end:z.selectionEnd}:(z=(z.ownerDocument&&z.ownerDocument.defaultView||window).getSelection(),z={anchorNode:z.anchorNode,anchorOffset:z.anchorOffset,focusNode:z.focusNode,focusOffset:z.focusOffset});return oc&&De(oc,z)?null:(oc=z,e=qd.getPooled(Xb.select,qc,e,h),e.type="select",e.target=Hc,Ic(e),e)}function Se(e){var h=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===h&&(e=13)):e=h;10===e&&(e=13);return 32<=e||13===e?e:0}function Ee(e){0>vg||
(e.current=Cg[vg],Cg[vg]=null,vg--)}function Ac(e,h){vg++;Cg[vg]=e.current;e.current=h}function Be(e,h){var z=e.type.contextTypes;if(!z)return Lg;var ba=e.stateNode;if(ba&&ba.__reactInternalMemoizedUnmaskedChildContext===h)return ba.__reactInternalMemoizedMaskedChildContext;var Ba={},yb;for(yb in z)Ba[yb]=h[yb];ba&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=Ba);return Ba}function Xd(e){e=e.childContextTypes;return null!==e&&void 0!==
e}function bc(){Ee(Dg);Ee(mg)}function Je(e,h,z){if(mg.current!==Lg)throw Error(n(168));Ac(mg,h);Ac(Dg,z)}function pe(e,h,z){var ba=e.stateNode;e=h.childContextTypes;if("function"!==typeof ba.getChildContext)return z;ba=ba.getChildContext();for(var Ba in ba)if(!(Ba in e))throw Error(n(108,Aa(h)||"Unknown",Ba));return Ag({},z,{},ba)}function Ke(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lg;Vi=mg.current;Ac(mg,e);Ac(Dg,Dg.current);return!0}function Cf(e,h,z){var ba=e.stateNode;
if(!ba)throw Error(n(169));z?(e=pe(e,h,Vi),ba.__reactInternalMemoizedMergedChildContext=e,Ee(Dg),Ee(mg),Ac(mg,e)):Ee(Dg);Ac(Dg,z)}function kf(){switch(zl()){case eg:return 99;case Eh:return 98;case tk:return 97;case pj:return 96;case Nk:return 95;default:throw Error(n(332));}}function tf(e){switch(e){case 99:return eg;case 98:return Eh;case 97:return tk;case 96:return pj;case 95:return Nk;default:throw Error(n(332));}}function Pe(e,h){e=tf(e);return cl(e,h)}function K(e,h,z){e=tf(e);return uk(e,h,
z)}function S(e){null===hi?(hi=[e],Ej=uk(eg,Ka)):hi.push(e);return dl}function ua(){if(null!==Ej){var e=Ej;Ej=null;el(e)}Ka()}function Ka(){if(!Fj&&null!==hi){Fj=!0;var e=0;try{var h=hi;Pe(99,function(){for(;e<h.length;e++){var z=h[e];do z=z(!0);while(null!==z)}});hi=null}catch(z){throw null!==hi&&(hi=hi.slice(e+1)),uk(eg,ua),z;}finally{Fj=!1}}}function Va(e,h,z){z/=10;return 1073741821-(((1073741821-e+h/10)/z|0)+1)*z}function Vb(e,h){if(e&&e.defaultProps){h=Ag({},h);e=e.defaultProps;for(var z in e)void 0===
h[z]&&(h[z]=e[z])}return h}function lc(e){var h=Yj.current;Ee(Yj);e.type._context._currentValue=h}function Gc(e,h){for(;null!==e;){var z=e.alternate;if(e.childExpirationTime<h)e.childExpirationTime=h,null!==z&&z.childExpirationTime<h&&(z.childExpirationTime=h);else if(null!==z&&z.childExpirationTime<h)z.childExpirationTime=h;else break;e=e.return}}function uc(e,h){Gj=e;Hj=Vh=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(e.expirationTime>=h&&(dh=!0),e.firstContext=null)}function Fc(e,h){if(Hj!==
e&&!1!==h&&0!==h){if("number"!==typeof h||1073741823===h)Hj=e,h=1073741823;h={context:e,observedBits:h,next:null};if(null===Vh){if(null===Gj)throw Error(n(308));Vh=h;Gj.dependencies={expirationTime:0,firstContext:h,responders:null}}else Vh=Vh.next=h}return e._currentValue}function id(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fd(e,h){e=e.updateQueue;h.updateQueue===e&&(h.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,
effects:e.effects})}function se(e,h){e={expirationTime:e,suspenseConfig:h,tag:0,payload:null,callback:null,next:null};return e.next=e}function xd(e,h){e=e.updateQueue;if(null!==e){e=e.shared;var z=e.pending;null===z?h.next=h:(h.next=z.next,z.next=h);e.pending=h}}function zd(e,h){var z=e.alternate;null!==z&&fd(z,e);e=e.updateQueue;z=e.baseQueue;null===z?(e.baseQueue=h.next=h,h.next=h):(h.next=z.next,z.next=h)}function le(e,h,z,ba){var Ba=e.updateQueue;Wi=!1;var yb=Ba.baseQueue,Jb=Ba.shared.pending;
if(null!==Jb){if(null!==yb){var hc=yb.next;yb.next=Jb.next;Jb.next=hc}yb=Jb;Ba.shared.pending=null;hc=e.alternate;null!==hc&&(hc=hc.updateQueue,null!==hc&&(hc.baseQueue=Jb))}if(null!==yb){hc=yb.next;var dd=Ba.baseState,Zc=0,Qd=null,Zd=null,Df=null;if(null!==hc){var Rf=hc;do{Jb=Rf.expirationTime;if(Jb<ba){var fg={expirationTime:Rf.expirationTime,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null};null===Df?(Zd=Df=fg,Qd=dd):Df=Df.next=fg;Jb>Zc&&(Zc=Jb)}else{null!==
Df&&(Df=Df.next={expirationTime:1073741823,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null});kg(Jb,Rf.suspenseConfig);a:{var Gg=e,Vc=Rf;Jb=h;fg=z;switch(Vc.tag){case 1:Gg=Vc.payload;if("function"===typeof Gg){dd=Gg.call(fg,dd,Jb);break a}dd=Gg;break a;case 3:Gg.effectTag=Gg.effectTag&-4097|64;case 0:Gg=Vc.payload;Jb="function"===typeof Gg?Gg.call(fg,dd,Jb):Gg;if(null===Jb||void 0===Jb)break a;dd=Ag({},dd,Jb);break a;case 2:Wi=!0}}null!==Rf.callback&&(e.effectTag|=
32,Jb=Ba.effects,null===Jb?Ba.effects=[Rf]:Jb.push(Rf))}Rf=Rf.next;if(null===Rf||Rf===hc)if(Jb=Ba.shared.pending,null===Jb)break;else Rf=yb.next=Jb.next,Jb.next=hc,Ba.baseQueue=yb=Jb,Ba.shared.pending=null}while(1)}null===Df?Qd=dd:Df.next=Zd;Ba.baseState=Qd;Ba.baseQueue=Df;Yf(Zc);e.expirationTime=Zc;e.memoizedState=dd}}function Te(e,h,z){e=h.effects;h.effects=null;if(null!==e)for(h=0;h<e.length;h++){var ba=e[h],Ba=ba.callback;if(null!==Ba){ba.callback=null;ba=Ba;Ba=z;if("function"!==typeof ba)throw Error(n(191,
ba));ba.call(Ba)}}}function Me(e,h,z,ba){h=e.memoizedState;z=z(ba,h);z=null===z||void 0===z?h:Ag({},h,z);e.memoizedState=z;0===e.expirationTime&&(e.updateQueue.baseState=z)}function uf(e,h,z,ba,Ba,yb,Jb){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(ba,yb,Jb):h.prototype&&h.prototype.isPureReactComponent?!De(z,ba)||!De(Ba,yb):!0}function Zf(e,h,z){var ba=!1,Ba=Lg,yb=h.contextType;"object"===typeof yb&&null!==yb?yb=Fc(yb):(Ba=Xd(h)?Vi:mg.current,ba=h.contextTypes,
yb=(ba=null!==ba&&void 0!==ba)?Be(e,Ba):Lg);h=new h(z,yb);e.memoizedState=null!==h.state&&void 0!==h.state?h.state:null;h.updater=vk;e.stateNode=h;h._reactInternalFiber=e;ba&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=Ba,e.__reactInternalMemoizedMaskedChildContext=yb);return h}function pd(e,h,z,ba){e=h.state;"function"===typeof h.componentWillReceiveProps&&h.componentWillReceiveProps(z,ba);"function"===typeof h.UNSAFE_componentWillReceiveProps&&h.UNSAFE_componentWillReceiveProps(z,
ba);h.state!==e&&vk.enqueueReplaceState(h,h.state,null)}function Ue(e,h,z,ba){var Ba=e.stateNode;Ba.props=z;Ba.state=e.memoizedState;Ba.refs=fl;id(e);var yb=h.contextType;"object"===typeof yb&&null!==yb?Ba.context=Fc(yb):(yb=Xd(h)?Vi:mg.current,Ba.context=Be(e,yb));le(e,z,Ba,ba);Ba.state=e.memoizedState;yb=h.getDerivedStateFromProps;"function"===typeof yb&&(Me(e,h,yb,z),Ba.state=e.memoizedState);"function"===typeof h.getDerivedStateFromProps||"function"===typeof Ba.getSnapshotBeforeUpdate||"function"!==
typeof Ba.UNSAFE_componentWillMount&&"function"!==typeof Ba.componentWillMount||(h=Ba.state,"function"===typeof Ba.componentWillMount&&Ba.componentWillMount(),"function"===typeof Ba.UNSAFE_componentWillMount&&Ba.UNSAFE_componentWillMount(),h!==Ba.state&&vk.enqueueReplaceState(Ba,Ba.state,null),le(e,z,Ba,ba),Ba.state=e.memoizedState);"function"===typeof Ba.componentDidMount&&(e.effectTag|=4)}function Le(e,h,z){e=z.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(z._owner){if(z=z._owner){if(1!==
z.tag)throw Error(n(309));var ba=z.stateNode}if(!ba)throw Error(n(147,e));var Ba=""+e;if(null!==h&&null!==h.ref&&"function"===typeof h.ref&&h.ref._stringRef===Ba)return h.ref;h=function(yb){var Jb=ba.refs;Jb===fl&&(Jb=ba.refs={});null===yb?delete Jb[Ba]:Jb[Ba]=yb};h._stringRef=Ba;return h}if("string"!==typeof e)throw Error(n(284));if(!z._owner)throw Error(n(290,e));}return e}function Ze(e,h){if("textarea"!==e.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(h)?"object with keys {"+
Object.keys(h).join(", ")+"}":h,""));}function $f(e){function h(Vc,Lc){if(e){var jd=Vc.lastEffect;null!==jd?(jd.nextEffect=Lc,Vc.lastEffect=Lc):Vc.firstEffect=Vc.lastEffect=Lc;Lc.nextEffect=null;Lc.effectTag=8}}function z(Vc,Lc){if(!e)return null;for(;null!==Lc;)h(Vc,Lc),Lc=Lc.sibling;return null}function ba(Vc,Lc){for(Vc=new Map;null!==Lc;)null!==Lc.key?Vc.set(Lc.key,Lc):Vc.set(Lc.index,Lc),Lc=Lc.sibling;return Vc}function Ba(Vc,Lc){Vc=Wh(Vc,Lc);Vc.index=0;Vc.sibling=null;return Vc}function yb(Vc,
Lc,jd){Vc.index=jd;if(!e)return Lc;jd=Vc.alternate;if(null!==jd)return jd=jd.index,jd<Lc?(Vc.effectTag=2,Lc):jd;Vc.effectTag=2;return Lc}function Jb(Vc){e&&null===Vc.alternate&&(Vc.effectTag=2);return Vc}function hc(Vc,Lc,jd,Gd){if(null===Lc||6!==Lc.tag)return Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function dd(Vc,Lc,jd,Gd){if(null!==Lc&&Lc.elementType===jd.type)return Gd=Ba(Lc,jd.props),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Gd;Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,
Gd);Gd.ref=Le(Vc,Lc,jd);Gd.return=Vc;return Gd}function Zc(Vc,Lc,jd,Gd){if(null===Lc||4!==Lc.tag||Lc.stateNode.containerInfo!==jd.containerInfo||Lc.stateNode.implementation!==jd.implementation)return Lc=qg(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;return Lc}function Qd(Vc,Lc,jd,Gd,Ud){if(null===Lc||7!==Lc.tag)return Lc=eh(jd,Vc.mode,Gd,Ud),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function Zd(Vc,Lc,jd){if("string"===typeof Lc||"number"===typeof Lc)return Lc=Ij(""+
Lc,Vc.mode,jd),Lc.return=Vc,Lc;if("object"===typeof Lc&&null!==Lc){switch(Lc.$$typeof){case qj:return jd=Ei(Lc.type,Lc.key,Lc.props,null,Vc.mode,jd),jd.ref=Le(Vc,null,Lc),jd.return=Vc,jd;case fi:return Lc=qg(Lc,Vc.mode,jd),Lc.return=Vc,Lc}if(wk(Lc)||Ma(Lc))return Lc=eh(Lc,Vc.mode,jd,null),Lc.return=Vc,Lc;Ze(Vc,Lc)}return null}function Df(Vc,Lc,jd,Gd){var Ud=null!==Lc?Lc.key:null;if("string"===typeof jd||"number"===typeof jd)return null!==Ud?null:hc(Vc,Lc,""+jd,Gd);if("object"===typeof jd&&null!==
jd){switch(jd.$$typeof){case qj:return jd.key===Ud?jd.type===ah?Qd(Vc,Lc,jd.props.children,Gd,Ud):dd(Vc,Lc,jd,Gd):null;case fi:return jd.key===Ud?Zc(Vc,Lc,jd,Gd):null}if(wk(jd)||Ma(jd))return null!==Ud?null:Qd(Vc,Lc,jd,Gd,null);Ze(Vc,jd)}return null}function Rf(Vc,Lc,jd,Gd,Ud){if("string"===typeof Gd||"number"===typeof Gd)return Vc=Vc.get(jd)||null,hc(Lc,Vc,""+Gd,Ud);if("object"===typeof Gd&&null!==Gd){switch(Gd.$$typeof){case qj:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Gd.type===ah?Qd(Lc,
Vc,Gd.props.children,Ud,Gd.key):dd(Lc,Vc,Gd,Ud);case fi:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Zc(Lc,Vc,Gd,Ud)}if(wk(Gd)||Ma(Gd))return Vc=Vc.get(jd)||null,Qd(Lc,Vc,Gd,Ud,null);Ze(Lc,Gd)}return null}function fg(Vc,Lc,jd,Gd){for(var Ud=null,qe=null,Ne=Lc,Hf=Lc=0,lg=null;null!==Ne&&Hf<jd.length;Hf++){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var pf=Df(Vc,Ne,jd[Hf],Gd);if(null===pf){null===Ne&&(Ne=lg);break}e&&Ne&&null===pf.alternate&&h(Vc,Ne);Lc=yb(pf,Lc,Hf);null===qe?Ud=pf:qe.sibling=pf;qe=
pf;Ne=lg}if(Hf===jd.length)return z(Vc,Ne),Ud;if(null===Ne){for(;Hf<jd.length;Hf++)Ne=Zd(Vc,jd[Hf],Gd),null!==Ne&&(Lc=yb(Ne,Lc,Hf),null===qe?Ud=Ne:qe.sibling=Ne,qe=Ne);return Ud}for(Ne=ba(Vc,Ne);Hf<jd.length;Hf++)lg=Rf(Ne,Vc,Hf,jd[Hf],Gd),null!==lg&&(e&&null!==lg.alternate&&Ne.delete(null===lg.key?Hf:lg.key),Lc=yb(lg,Lc,Hf),null===qe?Ud=lg:qe.sibling=lg,qe=lg);e&&Ne.forEach(function(ii){return h(Vc,ii)});return Ud}function Gg(Vc,Lc,jd,Gd){var Ud=Ma(jd);if("function"!==typeof Ud)throw Error(n(150));
jd=Ud.call(jd);if(null==jd)throw Error(n(151));for(var qe=Ud=null,Ne=Lc,Hf=Lc=0,lg=null,pf=jd.next();null!==Ne&&!pf.done;Hf++,pf=jd.next()){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var ii=Df(Vc,Ne,pf.value,Gd);if(null===ii){null===Ne&&(Ne=lg);break}e&&Ne&&null===ii.alternate&&h(Vc,Ne);Lc=yb(ii,Lc,Hf);null===qe?Ud=ii:qe.sibling=ii;qe=ii;Ne=lg}if(pf.done)return z(Vc,Ne),Ud;if(null===Ne){for(;!pf.done;Hf++,pf=jd.next())pf=Zd(Vc,pf.value,Gd),null!==pf&&(Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,
qe=pf);return Ud}for(Ne=ba(Vc,Ne);!pf.done;Hf++,pf=jd.next())pf=Rf(Ne,Vc,Hf,pf.value,Gd),null!==pf&&(e&&null!==pf.alternate&&Ne.delete(null===pf.key?Hf:pf.key),Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,qe=pf);e&&Ne.forEach(function(Ok){return h(Vc,Ok)});return Ud}return function(Vc,Lc,jd,Gd){var Ud="object"===typeof jd&&null!==jd&&jd.type===ah&&null===jd.key;Ud&&(jd=jd.props.children);var qe="object"===typeof jd&&null!==jd;if(qe)switch(jd.$$typeof){case qj:a:{qe=jd.key;for(Ud=Lc;null!==Ud;){if(Ud.key===
qe){switch(Ud.tag){case 7:if(jd.type===ah){z(Vc,Ud.sibling);Lc=Ba(Ud,jd.props.children);Lc.return=Vc;Vc=Lc;break a}break;default:if(Ud.elementType===jd.type){z(Vc,Ud.sibling);Lc=Ba(Ud,jd.props);Lc.ref=Le(Vc,Ud,jd);Lc.return=Vc;Vc=Lc;break a}}z(Vc,Ud);break}else h(Vc,Ud);Ud=Ud.sibling}jd.type===ah?(Lc=eh(jd.props.children,Vc.mode,Gd,jd.key),Lc.return=Vc,Vc=Lc):(Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,Gd),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Vc=Gd)}return Jb(Vc);case fi:a:{for(Ud=jd.key;null!==Lc;){if(Lc.key===
Ud)if(4===Lc.tag&&Lc.stateNode.containerInfo===jd.containerInfo&&Lc.stateNode.implementation===jd.implementation){z(Vc,Lc.sibling);Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;Vc=Lc;break a}else{z(Vc,Lc);break}else h(Vc,Lc);Lc=Lc.sibling}Lc=qg(jd,Vc.mode,Gd);Lc.return=Vc;Vc=Lc}return Jb(Vc)}if("string"===typeof jd||"number"===typeof jd)return jd=""+jd,null!==Lc&&6===Lc.tag?(z(Vc,Lc.sibling),Lc=Ba(Lc,jd),Lc.return=Vc,Vc=Lc):(z(Vc,Lc),Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Vc=Lc),Jb(Vc);if(wk(jd))return fg(Vc,
Lc,jd,Gd);if(Ma(jd))return Gg(Vc,Lc,jd,Gd);qe&&Ze(Vc,jd);if("undefined"===typeof jd&&!Ud)switch(Vc.tag){case 1:case 0:throw Vc=Vc.type,Error(n(152,Vc.displayName||Vc.name||"Component"));}return z(Vc,Lc)}}function vf(e){if(e===Zj)throw Error(n(174));return e}function ag(e,h){Ac(ak,h);Ac(bk,e);Ac(ji,Zj);e=h.nodeType;switch(e){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:R(null,"");break;default:e=8===e?h.parentNode:h,h=e.namespaceURI||null,e=e.tagName,h=R(h,e)}Ee(ji);Ac(ji,h)}function df(){Ee(ji);
Ee(bk);Ee(ak)}function J(e){vf(ak.current);var h=vf(ji.current),z=R(h,e.type);h!==z&&(Ac(bk,e),Ac(ji,z))}function da(e){bk.current===e&&(Ee(ji),Ee(bk))}function kb(e){for(var h=e;null!==h;){if(13===h.tag){var z=h.memoizedState;if(null!==z&&(z=z.dehydrated,null===z||z.data===Vj||z.data===Ai))return h}else if(19===h.tag&&void 0!==h.memoizedProps.revealOrder){if(0!==(h.effectTag&64))return h}else if(null!==h.child){h.child.return=h;h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===
h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}return null}function Pb(e,h){return{responder:e,props:h}}function Mb(){throw Error(n(321));}function ac(e,h){if(null===h)return!1;for(var z=0;z<h.length&&z<e.length;z++)if(!ra(e[z],h[z]))return!1;return!0}function ic(e,h,z,ba,Ba,yb){ki=yb;tg=h;h.memoizedState=null;h.updateQueue=null;h.expirationTime=0;xk.current=null===e||null===e.memoizedState?Jj:ck;e=z(ba,Ba);if(h.expirationTime===ki){yb=0;do{h.expirationTime=0;
if(!(25>yb))throw Error(n(301));yb+=1;Rg=Sg=null;h.updateQueue=null;xk.current=Kj;e=z(ba,Ba)}while(h.expirationTime===ki)}xk.current=te;h=null!==Sg&&null!==Sg.next;ki=0;Rg=Sg=tg=null;yk=!1;if(h)throw Error(n(300));return e}function Qc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e;return Rg}function Kc(){if(null===Sg){var e=tg.alternate;e=null!==e?e.memoizedState:null}else e=Sg.next;var h=null===Rg?tg.memoizedState:Rg.next;
if(null!==h)Rg=h,Sg=e;else{if(null===e)throw Error(n(310));Sg=e;e={memoizedState:Sg.memoizedState,baseState:Sg.baseState,baseQueue:Sg.baseQueue,queue:Sg.queue,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e}return Rg}function ad(e,h){return"function"===typeof h?h(e):h}function ud(e){var h=Kc(),z=h.queue;if(null===z)throw Error(n(311));z.lastRenderedReducer=e;var ba=Sg,Ba=ba.baseQueue,yb=z.pending;if(null!==yb){if(null!==Ba){var Jb=Ba.next;Ba.next=yb.next;yb.next=Jb}ba.baseQueue=Ba=yb;z.pending=
null}if(null!==Ba){Ba=Ba.next;ba=ba.baseState;var hc=Jb=yb=null,dd=Ba;do{var Zc=dd.expirationTime;if(Zc<ki){var Qd={expirationTime:dd.expirationTime,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,next:null};null===hc?(Jb=hc=Qd,yb=ba):hc=hc.next=Qd;Zc>tg.expirationTime&&(tg.expirationTime=Zc,Yf(Zc))}else null!==hc&&(hc=hc.next={expirationTime:1073741823,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,
next:null}),kg(Zc,dd.suspenseConfig),ba=dd.eagerReducer===e?dd.eagerState:e(ba,dd.action);dd=dd.next}while(null!==dd&&dd!==Ba);null===hc?yb=ba:hc.next=Jb;ra(ba,h.memoizedState)||(dh=!0);h.memoizedState=ba;h.baseState=yb;h.baseQueue=hc;z.lastRenderedState=ba}return[h.memoizedState,z.dispatch]}function Nd(e){var h=Kc(),z=h.queue;if(null===z)throw Error(n(311));z.lastRenderedReducer=e;var ba=z.dispatch,Ba=z.pending,yb=h.memoizedState;if(null!==Ba){z.pending=null;var Jb=Ba=Ba.next;do yb=e(yb,Jb.action),
Jb=Jb.next;while(Jb!==Ba);ra(yb,h.memoizedState)||(dh=!0);h.memoizedState=yb;null===h.baseQueue&&(h.baseState=yb);z.lastRenderedState=yb}return[yb,ba]}function Td(e){var h=Qc();"function"===typeof e&&(e=e());h.memoizedState=h.baseState=e;e=h.queue={pending:null,dispatch:null,lastRenderedReducer:ad,lastRenderedState:e};e=e.dispatch=N.bind(null,tg,e);return[h.memoizedState,e]}function Bd(e,h,z,ba){e={tag:e,create:h,destroy:z,deps:ba,next:null};h=tg.updateQueue;null===h?(h={lastEffect:null},tg.updateQueue=
h,h.lastEffect=e.next=e):(z=h.lastEffect,null===z?h.lastEffect=e.next=e:(ba=z.next,z.next=e,e.next=ba,h.lastEffect=e));return e}function af(){return Kc().memoizedState}function Pd(e,h,z,ba){var Ba=Qc();tg.effectTag|=e;Ba.memoizedState=Bd(1|h,z,void 0,void 0===ba?null:ba)}function Fe(e,h,z,ba){var Ba=Kc();ba=void 0===ba?null:ba;var yb=void 0;if(null!==Sg){var Jb=Sg.memoizedState;yb=Jb.destroy;if(null!==ba&&ac(ba,Jb.deps)){Bd(h,z,yb,ba);return}}tg.effectTag|=e;Ba.memoizedState=Bd(1|h,z,yb,ba)}function he(e,
h){return Pd(516,4,e,h)}function ze(e,h){return Fe(516,4,e,h)}function Sf(e,h){return Fe(4,2,e,h)}function be(e,h){if("function"===typeof h)return e=e(),h(e),function(){h(null)};if(null!==h&&void 0!==h)return e=e(),h.current=e,function(){h.current=null}}function wf(e,h,z){z=null!==z&&void 0!==z?z.concat([e]):null;return Fe(4,2,be.bind(null,h,e),z)}function Ce(){}function Kf(e,h){Qc().memoizedState=[e,void 0===h?null:h];return e}function ef(e,h){var z=Kc();h=void 0===h?null:h;var ba=z.memoizedState;
if(null!==ba&&null!==h&&ac(h,ba[1]))return ba[0];z.memoizedState=[e,h];return e}function gg(e,h){var z=Kc();h=void 0===h?null:h;var ba=z.memoizedState;if(null!==ba&&null!==h&&ac(h,ba[1]))return ba[0];e=e();z.memoizedState=[e,h];return e}function M(e,h,z){var ba=kf();Pe(98>ba?98:ba,function(){e(!0)});Pe(97<ba?97:ba,function(){var Ba=fh.suspense;fh.suspense=void 0===h?null:h;try{e(!1),z()}finally{fh.suspense=Ba}})}function N(e,h,z){var ba=vc(),Ba=dk.suspense;ba=hd(ba,e,Ba);Ba={expirationTime:ba,suspenseConfig:Ba,
action:z,eagerReducer:null,eagerState:null,next:null};var yb=h.pending;null===yb?Ba.next=Ba:(Ba.next=yb.next,yb.next=Ba);h.pending=Ba;yb=e.alternate;if(e===tg||null!==yb&&yb===tg)yk=!0,Ba.expirationTime=ki,tg.expirationTime=ki;else{if(0===e.expirationTime&&(null===yb||0===yb.expirationTime)&&(yb=h.lastRenderedReducer,null!==yb))try{var Jb=h.lastRenderedState,hc=yb(Jb,z);Ba.eagerReducer=yb;Ba.eagerState=hc;if(ra(hc,Jb))return}catch(dd){}finally{}nd(e,ba)}}function Y(e,h){var z=Mg(5,null,null,0);z.elementType=
"DELETED";z.type="DELETED";z.stateNode=h;z.return=e;z.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=z,e.lastEffect=z):e.firstEffect=e.lastEffect=z}function ia(e,h){switch(e.tag){case 5:var z=e.type;h=1!==h.nodeType||z.toLowerCase()!==h.nodeName.toLowerCase()?null:h;return null!==h?(e.stateNode=h,!0):!1;case 6:return h=""===e.pendingProps||3!==h.nodeType?null:h,null!==h?(e.stateNode=h,!0):!1;case 13:return!1;default:return!1}}function ya(e){if(td){var h=If;if(h){var z=h;if(!ia(e,h)){h=jc(z.nextSibling);
if(!h||!ia(e,h)){e.effectTag=e.effectTag&-1025|2;td=!1;Ve=e;return}Y(Ve,z)}Ve=e;If=jc(h.firstChild)}else e.effectTag=e.effectTag&-1025|2,td=!1,Ve=e}}function Da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ve=e}function Za(e){if(e!==Ve)return!1;if(!td)return Da(e),td=!0,!1;var h=e.type;if(5!==e.tag||"head"!==h&&"body"!==h&&!sc(h,e.memoizedProps))for(h=If;h;)Y(e,h),h=jc(h.nextSibling);Da(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(n(317));
a:{e=e.nextSibling;for(h=0;e;){if(8===e.nodeType){var z=e.data;if(z===Si){if(0===h){If=jc(e.nextSibling);break a}h--}else z!==lh&&z!==Ai&&z!==Vj||h++}e=e.nextSibling}If=null}}else If=Ve?jc(e.stateNode.nextSibling):null;return!0}function tb(e,h,z,ba){h.child=null===e?Pk(h,null,z,ba):Xi(h,e.child,z,ba)}function nb(e,h,z,ba,Ba){z=z.render;var yb=h.ref;uc(h,Ba);ba=ic(e,h,z,ba,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),fc(e,h,
Ba);h.effectTag|=1;tb(e,h,ba,Ba);return h.child}function zb(e,h,z,ba,Ba,yb){if(null===e){var Jb=z.type;if("function"===typeof Jb&&!Lj(Jb)&&void 0===Jb.defaultProps&&null===z.compare&&void 0===z.defaultProps)return h.tag=15,h.type=Jb,Eb(e,h,Jb,ba,Ba,yb);e=Ei(z.type,null,ba,null,h.mode,yb);e.ref=h.ref;e.return=h;return h.child=e}Jb=e.child;if(Ba<yb&&(Ba=Jb.memoizedProps,z=z.compare,z=null!==z?z:De,z(Ba,ba)&&e.ref===h.ref))return fc(e,h,yb);h.effectTag|=1;e=Wh(Jb,ba);e.ref=h.ref;e.return=h;return h.child=
e}function Eb(e,h,z,ba,Ba,yb){return null!==e&&De(e.memoizedProps,ba)&&e.ref===h.ref&&(dh=!1,Ba<yb)?(h.expirationTime=e.expirationTime,fc(e,h,yb)):pc(e,h,z,ba,yb)}function Yb(e,h){var z=h.ref;if(null===e&&null!==z||null!==e&&e.ref!==z)h.effectTag|=128}function pc(e,h,z,ba,Ba){var yb=Xd(z)?Vi:mg.current;yb=Be(h,yb);uc(h,Ba);z=ic(e,h,z,ba,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),fc(e,h,Ba);h.effectTag|=1;tb(e,h,z,Ba);return h.child}
function u(e,h,z,ba,Ba){if(Xd(z)){var yb=!0;Ke(h)}else yb=!1;uc(h,Ba);if(null===h.stateNode)null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),Zf(h,z,ba),Ue(h,z,ba,Ba),ba=!0;else if(null===e){var Jb=h.stateNode,hc=h.memoizedProps;Jb.props=hc;var dd=Jb.context,Zc=z.contextType;"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(z)?Vi:mg.current,Zc=Be(h,Zc));var Qd=z.getDerivedStateFromProps,Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate;Zd||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Jb.componentWillReceiveProps||(hc!==ba||dd!==Zc)&&pd(h,Jb,ba,Zc);Wi=!1;var Df=h.memoizedState;Jb.state=Df;le(h,ba,Jb,Ba);dd=h.memoizedState;hc!==ba||Df!==dd||Dg.current||Wi?("function"===typeof Qd&&(Me(h,z,Qd,ba),dd=h.memoizedState),(hc=Wi||uf(h,z,hc,ba,Df,dd,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillMount&&"function"!==typeof Jb.componentWillMount||("function"===typeof Jb.componentWillMount&&Jb.componentWillMount(),"function"===typeof Jb.UNSAFE_componentWillMount&&
Jb.UNSAFE_componentWillMount()),"function"===typeof Jb.componentDidMount&&(h.effectTag|=4)):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),h.memoizedProps=ba,h.memoizedState=dd),Jb.props=ba,Jb.state=dd,Jb.context=Zc,ba=hc):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),ba=!1)}else Jb=h.stateNode,fd(e,h),hc=h.memoizedProps,Jb.props=h.type===h.elementType?hc:Vb(h.type,hc),dd=Jb.context,Zc=z.contextType,"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(z)?Vi:mg.current,Zc=Be(h,
Zc)),Qd=z.getDerivedStateFromProps,(Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate)||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Jb.componentWillReceiveProps||(hc!==ba||dd!==Zc)&&pd(h,Jb,ba,Zc),Wi=!1,dd=h.memoizedState,Jb.state=dd,le(h,ba,Jb,Ba),Df=h.memoizedState,hc!==ba||dd!==Df||Dg.current||Wi?("function"===typeof Qd&&(Me(h,z,Qd,ba),Df=h.memoizedState),(Qd=Wi||uf(h,z,hc,ba,dd,Df,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillUpdate&&
"function"!==typeof Jb.componentWillUpdate||("function"===typeof Jb.componentWillUpdate&&Jb.componentWillUpdate(ba,Df,Zc),"function"===typeof Jb.UNSAFE_componentWillUpdate&&Jb.UNSAFE_componentWillUpdate(ba,Df,Zc)),"function"===typeof Jb.componentDidUpdate&&(h.effectTag|=4),"function"===typeof Jb.getSnapshotBeforeUpdate&&(h.effectTag|=256)):("function"!==typeof Jb.componentDidUpdate||hc===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||hc===e.memoizedProps&&
dd===e.memoizedState||(h.effectTag|=256),h.memoizedProps=ba,h.memoizedState=Df),Jb.props=ba,Jb.state=Df,Jb.context=Zc,ba=Qd):("function"!==typeof Jb.componentDidUpdate||hc===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||hc===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=256),ba=!1);return E(e,h,z,ba,yb,Ba)}function E(e,h,z,ba,Ba,yb){Yb(e,h);var Jb=0!==(h.effectTag&64);if(!ba&&!Jb)return Ba&&Cf(h,z,!1),fc(e,h,yb);ba=h.stateNode;Fi.current=
h;var hc=Jb&&"function"!==typeof z.getDerivedStateFromError?null:ba.render();h.effectTag|=1;null!==e&&Jb?(h.child=Xi(h,e.child,null,yb),h.child=Xi(h,null,hc,yb)):tb(e,h,hc,yb);h.memoizedState=ba.state;Ba&&Cf(h,z,!0);return h.child}function aa(e){var h=e.stateNode;h.pendingContext?Je(e,h.pendingContext,h.pendingContext!==h.context):h.context&&Je(e,h.context,!1);ag(e,h.containerInfo)}function ka(e,h,z){var ba=h.mode,Ba=h.pendingProps,yb=rg.current,Jb=!1,hc;(hc=0!==(h.effectTag&64))||(hc=0!==(yb&2)&&
(null===e||null!==e.memoizedState));hc?(Jb=!0,h.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===Ba.fallback||!0===Ba.unstable_avoidThisFallback||(yb|=1);Ac(rg,yb&1);if(null===e){void 0!==Ba.fallback&&ya(h);if(Jb){Jb=Ba.fallback;Ba=eh(null,ba,0,null);Ba.return=h;if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;z=eh(Jb,ba,z,null);z.return=h;Ba.sibling=z;h.memoizedState=zk;h.child=Ba;return z}ba=Ba.children;h.memoizedState=null;
return h.child=Pk(h,null,ba,z)}if(null!==e.memoizedState){e=e.child;ba=e.sibling;if(Jb){Ba=Ba.fallback;z=Wh(e,e.pendingProps);z.return=h;if(0===(h.mode&2)&&(Jb=null!==h.memoizedState?h.child.child:h.child,Jb!==e.child))for(z.child=Jb;null!==Jb;)Jb.return=z,Jb=Jb.sibling;ba=Wh(ba,Ba);ba.return=h;z.sibling=ba;z.childExpirationTime=0;h.memoizedState=zk;h.child=z;return ba}z=Xi(h,e.child,Ba.children,z);h.memoizedState=null;return h.child=z}e=e.child;if(Jb){Jb=Ba.fallback;Ba=eh(null,ba,0,null);Ba.return=
h;Ba.child=e;null!==e&&(e.return=Ba);if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;z=eh(Jb,ba,z,null);z.return=h;Ba.sibling=z;z.effectTag|=2;Ba.childExpirationTime=0;h.memoizedState=zk;h.child=Ba;return z}h.memoizedState=null;return h.child=Xi(h,e,Ba.children,z)}function lb(e,h){e.expirationTime<h&&(e.expirationTime=h);var z=e.alternate;null!==z&&z.expirationTime<h&&(z.expirationTime=h);Gc(e.return,h)}function Ib(e,h,z,ba,Ba,yb){var Jb=
e.memoizedState;null===Jb?e.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:ba,tail:z,tailExpiration:0,tailMode:Ba,lastEffect:yb}:(Jb.isBackwards=h,Jb.rendering=null,Jb.renderingStartTime=0,Jb.last=ba,Jb.tail=z,Jb.tailExpiration=0,Jb.tailMode=Ba,Jb.lastEffect=yb)}function Sb(e,h,z){var ba=h.pendingProps,Ba=ba.revealOrder,yb=ba.tail;tb(e,h,ba.children,z);ba=rg.current;if(0!==(ba&2))ba=ba&1|2,h.effectTag|=64;else{if(null!==e&&0!==(e.effectTag&64))a:for(e=h.child;null!==e;){if(13===
e.tag)null!==e.memoizedState&&lb(e,z);else if(19===e.tag)lb(e,z);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===h)break a;for(;null===e.sibling;){if(null===e.return||e.return===h)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}ba&=1}Ac(rg,ba);if(0===(h.mode&2))h.memoizedState=null;else switch(Ba){case "forwards":z=h.child;for(Ba=null;null!==z;)e=z.alternate,null!==e&&null===kb(e)&&(Ba=z),z=z.sibling;z=Ba;null===z?(Ba=h.child,h.child=null):(Ba=z.sibling,z.sibling=null);
Ib(h,!1,Ba,z,yb,h.lastEffect);break;case "backwards":z=null;Ba=h.child;for(h.child=null;null!==Ba;){e=Ba.alternate;if(null!==e&&null===kb(e)){h.child=Ba;break}e=Ba.sibling;Ba.sibling=z;z=Ba;Ba=e}Ib(h,!0,z,null,yb,h.lastEffect);break;case "together":Ib(h,!1,null,null,void 0,h.lastEffect);break;default:h.memoizedState=null}return h.child}function fc(e,h,z){null!==e&&(h.dependencies=e.dependencies);var ba=h.expirationTime;0!==ba&&Yf(ba);if(h.childExpirationTime<z)return null;if(null!==e&&h.child!==e.child)throw Error(n(153));
if(null!==h.child){e=h.child;z=Wh(e,e.pendingProps);h.child=z;for(z.return=h;null!==e.sibling;)e=e.sibling,z=z.sibling=Wh(e,e.pendingProps),z.return=h;z.sibling=null}return h.child}function zc(e,h){switch(e.tailMode){case "hidden":h=e.tail;for(var z=null;null!==h;)null!==h.alternate&&(z=h),h=h.sibling;null===z?e.tail=null:z.sibling=null;break;case "collapsed":z=e.tail;for(var ba=null;null!==z;)null!==z.alternate&&(ba=z),z=z.sibling;null===ba?h||null===e.tail?e.tail=null:e.tail.sibling=null:ba.sibling=
null}}function Tc(e,h,z){var ba=h.pendingProps;switch(h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Xd(h.type)&&bc(),null;case 3:return df(),Ee(Dg),Ee(mg),z=h.stateNode,z.pendingContext&&(z.context=z.pendingContext,z.pendingContext=null),null!==e&&null!==e.child||!Za(h)||(h.effectTag|=4),Qk(h),null;case 5:da(h);z=vf(ak.current);var Ba=h.type;if(null!==e&&null!=h.stateNode)Al(e,h,Ba,ba,z),e.ref!==h.ref&&(h.effectTag|=128);else{if(!ba){if(null===
h.stateNode)throw Error(n(166));return null}e=vf(ji.current);if(Za(h)){ba=h.stateNode;Ba=h.type;var yb=h.memoizedProps;ba[mh]=h;ba[Qg]=yb;switch(Ba){case "iframe":case "object":case "embed":Nc("load",ba);break;case "video":case "audio":for(e=0;e<yh.length;e++)Nc(yh[e],ba);break;case "source":Nc("error",ba);break;case "img":case "image":case "link":Nc("error",ba);Nc("load",ba);break;case "form":Nc("reset",ba);Nc("submit",ba);break;case "details":Nc("toggle",ba);break;case "input":H(ba,yb);Nc("invalid",
ba);vd(z,"onChange");break;case "select":ba._wrapperState={wasMultiple:!!yb.multiple};Nc("invalid",ba);vd(z,"onChange");break;case "textarea":U(ba,yb),Nc("invalid",ba),vd(z,"onChange")}$b(Ba,yb);e=null;for(var Jb in yb)if(yb.hasOwnProperty(Jb)){var hc=yb[Jb];"children"===Jb?"string"===typeof hc?ba.textContent!==hc&&(e=["children",hc]):"number"===typeof hc&&ba.textContent!==""+hc&&(e=["children",""+hc]):qi.hasOwnProperty(Jb)&&null!=hc&&vd(z,Jb)}switch(Ba){case "input":ob(ba);O(ba,yb,!0);break;case "textarea":ob(ba);
xa(ba);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(ba.onclick=de)}z=e;h.updateQueue=z;null!==z&&(h.effectTag|=4)}else{Jb=9===z.nodeType?z:z.ownerDocument;"http://www.w3.org/1999/xhtml"===e&&(e=ma(Ba));"http://www.w3.org/1999/xhtml"===e?"script"===Ba?(e=Jb.createElement("div"),e.innerHTML="\x3cscript\x3e\x3c/script\x3e",e=e.removeChild(e.firstChild)):"string"===typeof ba.is?e=Jb.createElement(Ba,{is:ba.is}):(e=Jb.createElement(Ba),"select"===Ba&&(Jb=e,ba.multiple?
Jb.multiple=!0:ba.size&&(Jb.size=ba.size))):e=Jb.createElementNS(e,Ba);e[mh]=h;e[Qg]=ba;gl(e,h,!1,!1);h.stateNode=e;Jb=rd(Ba,ba);switch(Ba){case "iframe":case "object":case "embed":Nc("load",e);hc=ba;break;case "video":case "audio":for(hc=0;hc<yh.length;hc++)Nc(yh[hc],e);hc=ba;break;case "source":Nc("error",e);hc=ba;break;case "img":case "image":case "link":Nc("error",e);Nc("load",e);hc=ba;break;case "form":Nc("reset",e);Nc("submit",e);hc=ba;break;case "details":Nc("toggle",e);hc=ba;break;case "input":H(e,
ba);hc=Q(e,ba);Nc("invalid",e);vd(z,"onChange");break;case "option":hc=pa(e,ba);break;case "select":e._wrapperState={wasMultiple:!!ba.multiple};hc=Ag({},ba,{value:void 0});Nc("invalid",e);vd(z,"onChange");break;case "textarea":U(e,ba);hc=db(e,ba);Nc("invalid",e);vd(z,"onChange");break;default:hc=ba}$b(Ba,hc);var dd=hc;for(yb in dd)if(dd.hasOwnProperty(yb)){var Zc=dd[yb];"style"===yb?vb(e,Zc):"dangerouslySetInnerHTML"===yb?(Zc=Zc?Zc.__html:void 0,null!=Zc&&bg(e,Zc)):"children"===yb?"string"===typeof Zc?
("textarea"!==Ba||""!==Zc)&&v(e,Zc):"number"===typeof Zc&&v(e,""+Zc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(qi.hasOwnProperty(yb)?null!=Zc&&vd(z,yb):null!=Zc&&ab(e,yb,Zc,Jb))}switch(Ba){case "input":ob(e);O(e,ba,!1);break;case "textarea":ob(e);xa(e);break;case "option":null!=ba.value&&e.setAttribute("value",""+Xa(ba.value));break;case "select":e.multiple=!!ba.multiple;z=ba.value;null!=z?Ua(e,!!ba.multiple,z,!1):null!=ba.defaultValue&&Ua(e,!!ba.multiple,
ba.defaultValue,!0);break;default:"function"===typeof hc.onClick&&(e.onclick=de)}Gb(Ba,ba)&&(h.effectTag|=4)}null!==h.ref&&(h.effectTag|=128)}return null;case 6:if(e&&null!=h.stateNode)hl(e,h,e.memoizedProps,ba);else{if("string"!==typeof ba&&null===h.stateNode)throw Error(n(166));z=vf(ak.current);vf(ji.current);Za(h)?(z=h.stateNode,ba=h.memoizedProps,z[mh]=h,z.nodeValue!==ba&&(h.effectTag|=4)):(z=(9===z.nodeType?z:z.ownerDocument).createTextNode(ba),z[mh]=h,h.stateNode=z)}return null;case 13:Ee(rg);
ba=h.memoizedState;if(0!==(h.effectTag&64))return h.expirationTime=z,h;z=null!==ba;ba=!1;null===e?void 0!==h.memoizedProps.fallback&&Za(h):(Ba=e.memoizedState,ba=null!==Ba,z||null===Ba||(Ba=e.child.sibling,null!==Ba&&(yb=h.firstEffect,null!==yb?(h.firstEffect=Ba,Ba.nextEffect=yb):(h.firstEffect=h.lastEffect=Ba,Ba.nextEffect=null),Ba.effectTag=8)));if(z&&!ba&&0!==(h.mode&2))if(null===e&&!0!==h.memoizedProps.unstable_avoidThisFallback||0!==(rg.current&1))Hg===rj&&(Hg=Yg);else{if(Hg===rj||Hg===Yg)Hg=
sj;0!==Tg&&null!==oh&&(ph(oh,gh),wg(oh,Tg))}if(z||ba)h.effectTag|=4;return null;case 4:return df(),Qk(h),null;case 10:return lc(h),null;case 17:return Xd(h.type)&&bc(),null;case 19:Ee(rg);ba=h.memoizedState;if(null===ba)return null;Ba=0!==(h.effectTag&64);yb=ba.rendering;if(null===yb)if(Ba)zc(ba,!1);else{if(Hg!==rj||null!==e&&0!==(e.effectTag&64))for(yb=h.child;null!==yb;){e=kb(yb);if(null!==e){h.effectTag|=64;zc(ba,!1);Ba=e.updateQueue;null!==Ba&&(h.updateQueue=Ba,h.effectTag|=4);null===ba.lastEffect&&
(h.firstEffect=null);h.lastEffect=ba.lastEffect;for(ba=h.child;null!==ba;)Ba=ba,yb=z,Ba.effectTag&=2,Ba.nextEffect=null,Ba.firstEffect=null,Ba.lastEffect=null,e=Ba.alternate,null===e?(Ba.childExpirationTime=0,Ba.expirationTime=yb,Ba.child=null,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null):(Ba.childExpirationTime=e.childExpirationTime,Ba.expirationTime=e.expirationTime,Ba.child=e.child,Ba.memoizedProps=e.memoizedProps,Ba.memoizedState=e.memoizedState,Ba.updateQueue=
e.updateQueue,yb=e.dependencies,Ba.dependencies=null===yb?null:{expirationTime:yb.expirationTime,firstContext:yb.firstContext,responders:yb.responders}),ba=ba.sibling;Ac(rg,rg.current&1|2);return h.child}yb=yb.sibling}}else{if(!Ba)if(e=kb(yb),null!==e){if(h.effectTag|=64,Ba=!0,z=e.updateQueue,null!==z&&(h.updateQueue=z,h.effectTag|=4),zc(ba,!0),null===ba.tail&&"hidden"===ba.tailMode&&!yb.alternate)return h=h.lastEffect=ba.lastEffect,null!==h&&(h.nextEffect=null),null}else 2*hh()-ba.renderingStartTime>
ba.tailExpiration&&1<z&&(h.effectTag|=64,Ba=!0,zc(ba,!1),h.expirationTime=h.childExpirationTime=z-1);ba.isBackwards?(yb.sibling=h.child,h.child=yb):(z=ba.last,null!==z?z.sibling=yb:h.child=yb,ba.last=yb)}return null!==ba.tail?(0===ba.tailExpiration&&(ba.tailExpiration=hh()+500),z=ba.tail,ba.rendering=z,ba.tail=z.sibling,ba.lastEffect=h.lastEffect,ba.renderingStartTime=hh(),z.sibling=null,h=rg.current,Ac(rg,Ba?h&1|2:h&1),z):null}throw Error(n(156,h.tag));}function Rc(e){switch(e.tag){case 1:Xd(e.type)&&
bc();var h=e.effectTag;return h&4096?(e.effectTag=h&-4097|64,e):null;case 3:df();Ee(Dg);Ee(mg);h=e.effectTag;if(0!==(h&64))throw Error(n(285));e.effectTag=h&-4097|64;return e;case 5:return da(e),null;case 13:return Ee(rg),h=e.effectTag,h&4096?(e.effectTag=h&-4097|64,e):null;case 19:return Ee(rg),null;case 4:return df(),null;case 10:return lc(e),null;default:return null}}function yd(e,h){return{value:e,source:h,stack:Qa(h)}}function Md(e,h){var z=h.source,ba=h.stack;null===ba&&null!==z&&(ba=Qa(z));
null!==z&&Aa(z.type);h=h.value;null!==e&&1===e.tag&&Aa(e.type);try{console.error(h)}catch(Ba){setTimeout(function(){throw Ba;})}}function bd(e,h){try{h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(z){Xh(e,z)}}function Sd(e){var h=e.ref;if(null!==h)if("function"===typeof h)try{h(null)}catch(z){Xh(e,z)}else h.current=null}function je(e,h){switch(h.tag){case 0:case 11:case 15:case 22:return;case 1:if(h.effectTag&256&&null!==e){var z=e.memoizedProps,ba=e.memoizedState;
e=h.stateNode;h=e.getSnapshotBeforeUpdate(h.elementType===h.type?z:Vb(h.type,z),ba);e.__reactInternalSnapshotBeforeUpdate=h}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163));}function We(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var z=h=h.next;do{if((z.tag&e)===e){var ba=z.destroy;z.destroy=void 0;void 0!==ba&&ba()}z=z.next}while(z!==h)}}function oa(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var z=h=h.next;do{if((z.tag&e)===e){var ba=z.create;
z.destroy=ba()}z=z.next}while(z!==h)}}function Pa(e,h,z){switch(z.tag){case 0:case 11:case 15:case 22:oa(3,z);return;case 1:e=z.stateNode;if(z.effectTag&4)if(null===h)e.componentDidMount();else{var ba=z.elementType===z.type?h.memoizedProps:Vb(z.type,h.memoizedProps);e.componentDidUpdate(ba,h.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}h=z.updateQueue;null!==h&&Te(z,h,e);return;case 3:h=z.updateQueue;if(null!==h){e=null;if(null!==z.child)switch(z.child.tag){case 5:e=z.child.stateNode;break;
case 1:e=z.child.stateNode}Te(z,h,e)}return;case 5:e=z.stateNode;null===h&&z.effectTag&4&&Gb(z.type,z.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===z.memoizedState&&(z=z.alternate,null!==z&&(z=z.memoizedState,null!==z&&(z=z.dehydrated,null!==z&&Xc(z))));return;case 19:case 17:case 20:case 21:return}throw Error(n(163));}function pb(e,h,z){"function"===typeof Ak&&Ak(h);switch(h.tag){case 0:case 11:case 14:case 15:case 22:e=h.updateQueue;if(null!==e&&(e=e.lastEffect,
null!==e)){var ba=e.next;Pe(97<z?97:z,function(){var Ba=ba;do{var yb=Ba.destroy;if(void 0!==yb){var Jb=h;try{yb()}catch(hc){Xh(Jb,hc)}}Ba=Ba.next}while(Ba!==ba)})}break;case 1:Sd(h);z=h.stateNode;"function"===typeof z.componentWillUnmount&&bd(h,z);break;case 5:Sd(h);break;case 4:ha(e,h,z)}}function Cb(e){var h=e.alternate;e.return=null;e.child=null;e.memoizedState=null;e.updateQueue=null;e.dependencies=null;e.alternate=null;e.firstEffect=null;e.lastEffect=null;e.pendingProps=null;e.memoizedProps=
null;e.stateNode=null;null!==h&&Cb(h)}function Ub(e){return 5===e.tag||3===e.tag||4===e.tag}function c(e){a:{for(var h=e.return;null!==h;){if(Ub(h)){var z=h;break a}h=h.return}throw Error(n(160));}h=z.stateNode;switch(z.tag){case 5:var ba=!1;break;case 3:h=h.containerInfo;ba=!0;break;case 4:h=h.containerInfo;ba=!0;break;default:throw Error(n(161));}z.effectTag&16&&(v(h,""),z.effectTag&=-17);z=e;a:b:for(;;){for(;null===z.sibling;){if(null===z.return||Ub(z.return)){z=null;break a}z=z.return}z.sibling.return=
z.return;for(z=z.sibling;5!==z.tag&&6!==z.tag&&18!==z.tag;){if(z.effectTag&2)continue b;if(null===z.child||4===z.tag)continue b;else z.child.return=z,z=z.child}if(!(z.effectTag&2)){z=z.stateNode;break a}}ba?m(e,z,h):F(e,z,h)}function m(e,h,z){var ba=e.tag,Ba=5===ba||6===ba;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?8===z.nodeType?z.parentNode.insertBefore(e,h):z.insertBefore(e,h):(8===z.nodeType?(h=z.parentNode,h.insertBefore(e,z)):(h=z,h.appendChild(e)),z=z._reactRootContainer,null!==z&&void 0!==
z||null!==h.onclick||(h.onclick=de));else if(4!==ba&&(e=e.child,null!==e))for(m(e,h,z),e=e.sibling;null!==e;)m(e,h,z),e=e.sibling}function F(e,h,z){var ba=e.tag,Ba=5===ba||6===ba;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?z.insertBefore(e,h):z.appendChild(e);else if(4!==ba&&(e=e.child,null!==e))for(F(e,h,z),e=e.sibling;null!==e;)F(e,h,z),e=e.sibling}function ha(e,h,z){for(var ba=h,Ba=!1,yb,Jb;;){if(!Ba){Ba=ba.return;a:for(;;){if(null===Ba)throw Error(n(160));yb=Ba.stateNode;switch(Ba.tag){case 5:Jb=
!1;break a;case 3:yb=yb.containerInfo;Jb=!0;break a;case 4:yb=yb.containerInfo;Jb=!0;break a}Ba=Ba.return}Ba=!0}if(5===ba.tag||6===ba.tag){var hc=e,dd=ba,Zc=z,Qd=dd;a:for(;;)if(pb(hc,Qd,Zc),null!==Qd.child&&4!==Qd.tag)Qd.child.return=Qd,Qd=Qd.child;else{if(Qd===dd)break a;for(;null===Qd.sibling;){if(null===Qd.return||Qd.return===dd)break a;Qd=Qd.return}Qd.sibling.return=Qd.return;Qd=Qd.sibling}Jb?(hc=yb,dd=ba.stateNode,8===hc.nodeType?hc.parentNode.removeChild(dd):hc.removeChild(dd)):yb.removeChild(ba.stateNode)}else if(4===
ba.tag){if(null!==ba.child){yb=ba.stateNode.containerInfo;Jb=!0;ba.child.return=ba;ba=ba.child;continue}}else if(pb(e,ba,z),null!==ba.child){ba.child.return=ba;ba=ba.child;continue}if(ba===h)break;for(;null===ba.sibling;){if(null===ba.return||ba.return===h)return;ba=ba.return;4===ba.tag&&(Ba=!1)}ba.sibling.return=ba.return;ba=ba.sibling}}function Fa(e,h){switch(h.tag){case 0:case 11:case 14:case 15:case 22:We(3,h);return;case 1:return;case 5:var z=h.stateNode;if(null!=z){var ba=h.memoizedProps,Ba=
null!==e?e.memoizedProps:ba;e=h.type;var yb=h.updateQueue;h.updateQueue=null;if(null!==yb){z[Qg]=ba;"input"===e&&"radio"===ba.type&&null!=ba.name&&T(z,ba);rd(e,Ba);h=rd(e,ba);for(Ba=0;Ba<yb.length;Ba+=2){var Jb=yb[Ba],hc=yb[Ba+1];"style"===Jb?vb(z,hc):"dangerouslySetInnerHTML"===Jb?bg(z,hc):"children"===Jb?v(z,hc):ab(z,Jb,hc,h)}switch(e){case "input":na(z,ba);break;case "textarea":va(z,ba);break;case "select":h=z._wrapperState.wasMultiple,z._wrapperState.wasMultiple=!!ba.multiple,e=ba.value,null!=
e?Ua(z,!!ba.multiple,e,!1):h!==!!ba.multiple&&(null!=ba.defaultValue?Ua(z,!!ba.multiple,ba.defaultValue,!0):Ua(z,!!ba.multiple,ba.multiple?[]:"",!1))}}}return;case 6:if(null===h.stateNode)throw Error(n(162));h.stateNode.nodeValue=h.memoizedProps;return;case 3:h=h.stateNode;h.hydrate&&(h.hydrate=!1,Xc(h.containerInfo));return;case 12:return;case 13:z=h;null===h.memoizedState?ba=!1:(ba=!0,z=h.child,Rk=hh());if(null!==z)a:for(e=z;;){if(5===e.tag)yb=e.stateNode,ba?(yb=yb.style,"function"===typeof yb.setProperty?
yb.setProperty("display","none","important"):yb.display="none"):(yb=e.stateNode,Ba=e.memoizedProps.style,Ba=void 0!==Ba&&null!==Ba&&Ba.hasOwnProperty("display")?Ba.display:null,yb.style.display=La("display",Ba));else if(6===e.tag)e.stateNode.nodeValue=ba?"":e.memoizedProps;else if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){yb=e.child.sibling;yb.return=e;e=yb;continue}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===z)break;for(;null===e.sibling;){if(null===
e.return||e.return===z)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}Ob(h);return;case 19:Ob(h);return;case 17:return}throw Error(n(163));}function Ob(e){var h=e.updateQueue;if(null!==h){e.updateQueue=null;var z=e.stateNode;null===z&&(z=e.stateNode=new il);h.forEach(function(ba){var Ba=Yi.bind(null,e,ba);z.has(ba)||(z.add(ba),ba.then(Ba,Ba))})}}function Tb(e,h,z){z=se(z,null);z.tag=3;z.payload={element:null};var ba=h.value;z.callback=function(){Bk||(Bk=!0,Yh=ba);Md(e,h)};return z}function cc(e,
h,z){z=se(z,null);z.tag=3;var ba=e.type.getDerivedStateFromError;if("function"===typeof ba){var Ba=h.value;z.payload=function(){Md(e,h);return ba(Ba)}}var yb=e.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(z.callback=function(){"function"!==typeof ba&&(null===Zh?Zh=new Set([this]):Zh.add(this),Md(e,h));var Jb=h.stack;this.componentDidCatch(h.value,{componentStack:null!==Jb?Jb:""})});return z}function vc(){return($e&(qh|Fh))!==Ig?1073741821-(hh()/10|0):0!==Ck?Ck:Ck=1073741821-(hh()/
10|0)}function hd(e,h,z){h=h.mode;if(0===(h&2))return 1073741823;var ba=kf();if(0===(h&4))return 99===ba?1073741823:1073741822;if(($e&qh)!==Ig)return gh;if(null!==z)e=Va(e,z.timeoutMs|0||5E3,250);else switch(ba){case 99:e=1073741823;break;case 98:e=Va(e,150,100);break;case 97:case 96:e=Va(e,5E3,250);break;case 95:e=2;break;default:throw Error(n(326));}null!==oh&&e===gh&&--e;return e}function nd(e,h){if(50<Zi)throw Zi=0,Dk=null,Error(n(185));e=ie(e,h);if(null!==e){var z=kf();1073741823===h?($e&Sk)!==
Ig&&($e&(qh|Fh))===Ig?md(e):(Vd(e),$e===Ig&&ua()):Vd(e);($e&4)===Ig||98!==z&&99!==z||(null===$i?$i=new Map([[e,h]]):(z=$i.get(e),(void 0===z||z>h)&&$i.set(e,h)))}}function ie(e,h){e.expirationTime<h&&(e.expirationTime=h);var z=e.alternate;null!==z&&z.expirationTime<h&&(z.expirationTime=h);var ba=e.return,Ba=null;if(null===ba&&3===e.tag)Ba=e.stateNode;else for(;null!==ba;){z=ba.alternate;ba.childExpirationTime<h&&(ba.childExpirationTime=h);null!==z&&z.childExpirationTime<h&&(z.childExpirationTime=
h);if(null===ba.return&&3===ba.tag){Ba=ba.stateNode;break}ba=ba.return}null!==Ba&&(oh===Ba&&(Yf(h),Hg===sj&&ph(Ba,gh)),wg(Ba,h));return Ba}function $d(e){var h=e.lastExpiredTime;if(0!==h)return h;h=e.firstPendingTime;if(!ek(e,h))return h;var z=e.lastPingedTime;e=e.nextKnownPendingLevel;e=z>e?z:e;return 2>=e&&h!==e?0:e}function Vd(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=S(md.bind(null,e));else{var h=$d(e),z=e.callbackNode;if(0===h)null!==
z&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var ba=vc();1073741823===h?ba=99:1===h||2===h?ba=95:(ba=10*(1073741821-h)-10*(1073741821-ba),ba=0>=ba?99:250>=ba?98:5250>=ba?97:95);if(null!==z){var Ba=e.callbackPriority;if(e.callbackExpirationTime===h&&Ba>=ba)return;z!==dl&&el(z)}e.callbackExpirationTime=h;e.callbackPriority=ba;h=1073741823===h?S(md.bind(null,e)):K(ba,Hd.bind(null,e),{timeout:10*(1073741821-h)-hh()});e.callbackNode=h}}}function Hd(e,h){Ck=0;if(h)return h=
vc(),aj(e,h),Vd(e),null;var z=$d(e);if(0!==z){h=e.callbackNode;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&z===gh||ke(e,z);if(null!==gf){var ba=$e;$e|=qh;var Ba=hf();do try{for(;null!==gf&&!Bl();)gf=Lf(gf);break}catch(hc){Xe(e,hc)}while(1);Hj=Vh=Gj=null;$e=ba;Ek.current=Ba;if(Hg===fk)throw h=Ug,ke(e,z),ph(e,z),Vd(e),h;if(null===gf)switch(Ba=e.finishedWork=e.current.alternate,e.finishedExpirationTime=z,ba=Hg,oh=null,ba){case rj:case fk:throw Error(n(345));case Tk:aj(e,2<z?2:z);break;case Yg:ph(e,
z);ba=e.lastSuspendedTime;z===ba&&(e.nextKnownPendingLevel=Rd(Ba));if(1073741823===$h&&(Ba=Rk+li-hh(),10<Ba)){if(Mj){var yb=e.lastPingedTime;if(0===yb||yb>=z){e.lastPingedTime=z;ke(e,z);break}}yb=$d(e);if(0!==yb&&yb!==z)break;if(0!==ba&&ba!==z){e.lastPingedTime=ba;break}e.timeoutHandle=Ng(Ef.bind(null,e),Ba);break}Ef(e);break;case sj:ph(e,z);ba=e.lastSuspendedTime;z===ba&&(e.nextKnownPendingLevel=Rd(Ba));if(Mj&&(Ba=e.lastPingedTime,0===Ba||Ba>=z)){e.lastPingedTime=z;ke(e,z);break}Ba=$d(e);if(0!==
Ba&&Ba!==z)break;if(0!==ba&&ba!==z){e.lastPingedTime=ba;break}1073741823!==gk?ba=10*(1073741821-gk)-hh():1073741823===$h?ba=0:(ba=10*(1073741821-$h)-5E3,Ba=hh(),z=10*(1073741821-z)-Ba,ba=Ba-ba,0>ba&&(ba=0),ba=(120>ba?120:480>ba?480:1080>ba?1080:1920>ba?1920:3E3>ba?3E3:4320>ba?4320:1960*Cl(ba/1960))-ba,z<ba&&(ba=z));if(10<ba){e.timeoutHandle=Ng(Ef.bind(null,e),ba);break}Ef(e);break;case Uk:if(1073741823!==$h&&null!==xg){yb=$h;var Jb=xg;ba=Jb.busyMinDurationMs|0;0>=ba?ba=0:(Ba=Jb.busyDelayMs|0,yb=hh()-
(10*(1073741821-yb)-(Jb.timeoutMs|0||5E3)),ba=yb<=Ba?0:Ba+ba-yb);if(10<ba){ph(e,z);e.timeoutHandle=Ng(Ef.bind(null,e),ba);break}}Ef(e);break;default:throw Error(n(329));}Vd(e);if(e.callbackNode===h)return Hd.bind(null,e)}}return null}function md(e){var h=e.lastExpiredTime;h=0!==h?h:1073741823;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&h===gh||ke(e,h);if(null!==gf){var z=$e;$e|=qh;var ba=hf();do try{for(;null!==gf;)gf=Lf(gf);break}catch(Ba){Xe(e,Ba)}while(1);Hj=Vh=Gj=null;$e=z;Ek.current=
ba;if(Hg===fk)throw z=Ug,ke(e,h),ph(e,h),Vd(e),z;if(null!==gf)throw Error(n(261));e.finishedWork=e.current.alternate;e.finishedExpirationTime=h;oh=null;Ef(e);Vd(e)}return null}function ce(){if(null!==$i){var e=$i;$i=null;e.forEach(function(h,z){aj(z,h);Vd(z)});ua()}}function bf(e,h){var z=$e;$e|=1;try{return e(h)}finally{$e=z,$e===Ig&&ua()}}function qf(e,h){var z=$e;$e&=-2;$e|=Sk;try{return e(h)}finally{$e=z,$e===Ig&&ua()}}function ke(e,h){e.finishedWork=null;e.finishedExpirationTime=0;var z=e.timeoutHandle;
-1!==z&&(e.timeoutHandle=-1,zf(z));if(null!==gf)for(z=gf.return;null!==z;){var ba=z;switch(ba.tag){case 1:ba=ba.type.childContextTypes;null!==ba&&void 0!==ba&&bc();break;case 3:df();Ee(Dg);Ee(mg);break;case 5:da(ba);break;case 4:df();break;case 13:Ee(rg);break;case 19:Ee(rg);break;case 10:lc(ba)}z=z.return}oh=e;gf=Wh(e.current,null);gh=h;Hg=rj;Ug=null;gk=$h=1073741823;xg=null;Tg=0;Mj=!1}function Xe(e,h){do{try{Hj=Vh=Gj=null;xk.current=te;if(yk)for(var z=tg.memoizedState;null!==z;){var ba=z.queue;
null!==ba&&(ba.pending=null);z=z.next}ki=0;Rg=Sg=tg=null;yk=!1;if(null===gf||null===gf.return)return Hg=fk,Ug=h,gf=null;a:{var Ba=e,yb=gf.return,Jb=gf,hc=h;h=gh;Jb.effectTag|=2048;Jb.firstEffect=Jb.lastEffect=null;if(null!==hc&&"object"===typeof hc&&"function"===typeof hc.then){var dd=hc;if(0===(Jb.mode&2)){var Zc=Jb.alternate;Zc?(Jb.updateQueue=Zc.updateQueue,Jb.memoizedState=Zc.memoizedState,Jb.expirationTime=Zc.expirationTime):(Jb.updateQueue=null,Jb.memoizedState=null)}var Qd=0!==(rg.current&
1),Zd=yb;do{var Df;if(Df=13===Zd.tag){var Rf=Zd.memoizedState;if(null!==Rf)Df=null!==Rf.dehydrated?!0:!1;else{var fg=Zd.memoizedProps;Df=void 0===fg.fallback?!1:!0!==fg.unstable_avoidThisFallback?!0:Qd?!1:!0}}if(Df){var Gg=Zd.updateQueue;if(null===Gg){var Vc=new Set;Vc.add(dd);Zd.updateQueue=Vc}else Gg.add(dd);if(0===(Zd.mode&2)){Zd.effectTag|=64;Jb.effectTag&=-2981;if(1===Jb.tag)if(null===Jb.alternate)Jb.tag=17;else{var Lc=se(1073741823,null);Lc.tag=2;xd(Jb,Lc)}Jb.expirationTime=1073741823;break a}hc=
void 0;Jb=h;var jd=Ba.pingCache;null===jd?(jd=Ba.pingCache=new jl,hc=new Set,jd.set(dd,hc)):(hc=jd.get(dd),void 0===hc&&(hc=new Set,jd.set(dd,hc)));if(!hc.has(Jb)){hc.add(Jb);var Gd=bj.bind(null,Ba,dd,Jb);dd.then(Gd,Gd)}Zd.effectTag|=4096;Zd.expirationTime=h;break a}Zd=Zd.return}while(null!==Zd);hc=Error((Aa(Jb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+
Qa(Jb))}Hg!==Uk&&(Hg=Tk);hc=yd(hc,Jb);Zd=yb;do{switch(Zd.tag){case 3:dd=hc;Zd.effectTag|=4096;Zd.expirationTime=h;var Ud=Tb(Zd,dd,h);zd(Zd,Ud);break a;case 1:dd=hc;var qe=Zd.type,Ne=Zd.stateNode;if(0===(Zd.effectTag&64)&&("function"===typeof qe.getDerivedStateFromError||null!==Ne&&"function"===typeof Ne.componentDidCatch&&(null===Zh||!Zh.has(Ne)))){Zd.effectTag|=4096;Zd.expirationTime=h;var Hf=cc(Zd,dd,h);zd(Zd,Hf);break a}}Zd=Zd.return}while(null!==Zd)}gf=Gh(gf)}catch(lg){h=lg;continue}break}while(1)}
function hf(){var e=Ek.current;Ek.current=te;return null===e?te:e}function kg(e,h){e<$h&&2<e&&($h=e);null!==h&&e<gk&&2<e&&(gk=e,xg=h)}function Yf(e){e>Tg&&(Tg=e)}function Lf(e){var h=kl(e.alternate,e,gh);e.memoizedProps=e.pendingProps;null===h&&(h=Gh(e));ll.current=null;return h}function Gh(e){gf=e;do{var h=gf.alternate;e=gf.return;if(0===(gf.effectTag&2048)){h=Tc(h,gf,gh);if(1===gh||1!==gf.childExpirationTime){for(var z=0,ba=gf.child;null!==ba;){var Ba=ba.expirationTime,yb=ba.childExpirationTime;
Ba>z&&(z=Ba);yb>z&&(z=yb);ba=ba.sibling}gf.childExpirationTime=z}if(null!==h)return h;null!==e&&0===(e.effectTag&2048)&&(null===e.firstEffect&&(e.firstEffect=gf.firstEffect),null!==gf.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=gf.firstEffect),e.lastEffect=gf.lastEffect),1<gf.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=gf:e.firstEffect=gf,e.lastEffect=gf))}else{h=Rc(gf);if(null!==h)return h.effectTag&=2047,h;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}h=
gf.sibling;if(null!==h)return h;gf=e}while(null!==gf);Hg===rj&&(Hg=Uk);return null}function Rd(e){var h=e.expirationTime;e=e.childExpirationTime;return h>e?h:e}function Ef(e){var h=kf();Pe(99,Hh.bind(null,e,h));return null}function Hh(e,h){do rh();while(null!==Nj);if(($e&(qh|Fh))!==Ig)throw Error(n(327));var z=e.finishedWork,ba=e.finishedExpirationTime;if(null===z)return null;e.finishedWork=null;e.finishedExpirationTime=0;if(z===e.current)throw Error(n(177));e.callbackNode=null;e.callbackExpirationTime=
0;e.callbackPriority=90;e.nextKnownPendingLevel=0;var Ba=Rd(z);e.firstPendingTime=Ba;ba<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:ba<=e.firstSuspendedTime&&(e.firstSuspendedTime=ba-1);ba<=e.lastPingedTime&&(e.lastPingedTime=0);ba<=e.lastExpiredTime&&(e.lastExpiredTime=0);e===oh&&(gf=oh=null,gh=0);1<z.effectTag?null!==z.lastEffect?(z.lastEffect.nextEffect=z,Ba=z.firstEffect):Ba=z:Ba=z.firstEffect;if(null!==Ba){var yb=$e;$e|=Fh;ll.current=null;Gi=Rh;var Jb=
Db();if(Zb(Jb)){if("selectionStart"in Jb)var hc={start:Jb.selectionStart,end:Jb.selectionEnd};else a:{hc=(hc=Jb.ownerDocument)&&hc.defaultView||window;var dd=hc.getSelection&&hc.getSelection();if(dd&&0!==dd.rangeCount){hc=dd.anchorNode;var Zc=dd.anchorOffset,Qd=dd.focusNode;dd=dd.focusOffset;try{hc.nodeType,Qd.nodeType}catch(pf){hc=null;break a}var Zd=0,Df=-1,Rf=-1,fg=0,Gg=0,Vc=Jb,Lc=null;b:for(;;){for(var jd;;){Vc!==hc||0!==Zc&&3!==Vc.nodeType||(Df=Zd+Zc);Vc!==Qd||0!==dd&&3!==Vc.nodeType||(Rf=Zd+
dd);3===Vc.nodeType&&(Zd+=Vc.nodeValue.length);if(null===(jd=Vc.firstChild))break;Lc=Vc;Vc=jd}for(;;){if(Vc===Jb)break b;Lc===hc&&++fg===Zc&&(Df=Zd);Lc===Qd&&++Gg===dd&&(Rf=Zd);if(null!==(jd=Vc.nextSibling))break;Vc=Lc;Lc=Vc.parentNode}Vc=jd}hc=-1===Df||-1===Rf?null:{start:Df,end:Rf}}else hc=null}hc=hc||{start:0,end:0}}else hc=null;Og={activeElementDetached:null,focusedElem:Jb,selectionRange:hc};Rh=!1;ue=Ba;do try{Zg()}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=Ba;do try{for(Jb=e,hc=h;null!==ue;){var Gd=ue.effectTag;Gd&16&&v(ue.stateNode,"");if(Gd&128){var Ud=ue.alternate;if(null!==Ud){var qe=Ud.ref;null!==qe&&("function"===typeof qe?qe(null):qe.current=null)}}switch(Gd&1038){case 2:c(ue);ue.effectTag&=-3;break;case 6:c(ue);ue.effectTag&=-3;Fa(ue.alternate,ue);break;case 1024:ue.effectTag&=-1025;break;case 1028:ue.effectTag&=-1025;Fa(ue.alternate,ue);break;case 4:Fa(ue.alternate,ue);break;case 8:Zc=ue,ha(Jb,Zc,hc),Cb(Zc)}ue=ue.nextEffect}}catch(pf){if(null===
ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==ue);qe=Og;Ud=Db();Gd=qe.focusedElem;hc=qe.selectionRange;if(Ud!==Gd&&Gd&&Gd.ownerDocument&&gb(Gd.ownerDocument.documentElement,Gd)){null!==hc&&Zb(Gd)&&(Ud=hc.start,qe=hc.end,void 0===qe&&(qe=Ud),"selectionStart"in Gd?(Gd.selectionStart=Ud,Gd.selectionEnd=Math.min(qe,Gd.value.length)):(qe=(Ud=Gd.ownerDocument||document)&&Ud.defaultView||window,qe.getSelection&&(qe=qe.getSelection(),Zc=Gd.textContent.length,Jb=Math.min(hc.start,Zc),hc=void 0===
hc.end?Jb:Math.min(hc.end,Zc),!qe.extend&&Jb>hc&&(Zc=hc,hc=Jb,Jb=Zc),Zc=za(Gd,Jb),Qd=za(Gd,hc),Zc&&Qd&&(1!==qe.rangeCount||qe.anchorNode!==Zc.node||qe.anchorOffset!==Zc.offset||qe.focusNode!==Qd.node||qe.focusOffset!==Qd.offset)&&(Ud=Ud.createRange(),Ud.setStart(Zc.node,Zc.offset),qe.removeAllRanges(),Jb>hc?(qe.addRange(Ud),qe.extend(Qd.node,Qd.offset)):(Ud.setEnd(Qd.node,Qd.offset),qe.addRange(Ud))))));Ud=[];for(qe=Gd;qe=qe.parentNode;)1===qe.nodeType&&Ud.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});
"function"===typeof Gd.focus&&Gd.focus();for(Gd=0;Gd<Ud.length;Gd++)qe=Ud[Gd],qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}Rh=!!Gi;Og=Gi=null;e.current=z;ue=Ba;do try{for(Gd=e;null!==ue;){var Ne=ue.effectTag;Ne&36&&Pa(Gd,ue.alternate,ue);if(Ne&128){Ud=void 0;var Hf=ue.ref;if(null!==Hf){var lg=ue.stateNode;switch(ue.tag){case 5:Ud=lg;break;default:Ud=lg}"function"===typeof Hf?Hf(Ud):Hf.current=Ud}}ue=ue.nextEffect}}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=null;ml();$e=yb}else e.current=z;if(hk)hk=!1,Nj=e,ik=h;else for(ue=Ba;null!==ue;)h=ue.nextEffect,ue.nextEffect=null,ue=h;h=e.firstPendingTime;0===h&&(Zh=null);1073741823===h?e===Dk?Zi++:(Zi=0,Dk=e):Zi=0;"function"===typeof Vk&&Vk(z.stateNode,ba);Vd(e);if(Bk)throw Bk=!1,e=Yh,Yh=null,e;if(($e&Sk)!==Ig)return null;ua();return null}function Zg(){for(;null!==ue;){var e=ue.effectTag;0!==(e&256)&&je(ue.alternate,ue);0===(e&512)||hk||(hk=!0,K(97,function(){rh();return null}));ue=ue.nextEffect}}function rh(){if(90!==
ik){var e=97<ik?97:ik;ik=90;return Pe(e,Hi)}}function Hi(){if(null===Nj)return!1;var e=Nj;Nj=null;if(($e&(qh|Fh))!==Ig)throw Error(n(331));var h=$e;$e|=Fh;for(e=e.current.firstEffect;null!==e;){try{var z=e;if(0!==(z.effectTag&512))switch(z.tag){case 0:case 11:case 15:case 22:We(5,z),oa(5,z)}}catch(ba){if(null===e)throw Error(n(330));Xh(e,ba)}z=e.nextEffect;e.nextEffect=null;e=z}$e=h;ua();return!0}function Ii(e,h,z){h=yd(z,h);h=Tb(e,h,1073741823);xd(e,h);e=ie(e,1073741823);null!==e&&Vd(e)}function Xh(e,
h){if(3===e.tag)Ii(e,e,h);else for(var z=e.return;null!==z;){if(3===z.tag){Ii(z,e,h);break}else if(1===z.tag){var ba=z.stateNode;if("function"===typeof z.type.getDerivedStateFromError||"function"===typeof ba.componentDidCatch&&(null===Zh||!Zh.has(ba))){e=yd(h,e);e=cc(z,e,1073741823);xd(z,e);z=ie(z,1073741823);null!==z&&Vd(z);break}}z=z.return}}function bj(e,h,z){var ba=e.pingCache;null!==ba&&ba.delete(h);oh===e&&gh===z?Hg===sj||Hg===Yg&&1073741823===$h&&hh()-Rk<li?ke(e,gh):Mj=!0:ek(e,z)&&(h=e.lastPingedTime,
0!==h&&h<z||(e.lastPingedTime=z,Vd(e)))}function Yi(e,h){var z=e.stateNode;null!==z&&z.delete(h);h=0;0===h&&(h=vc(),h=hd(h,e,null));e=ie(e,h);null!==e&&Vd(e)}function mi(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)return!0;try{var z=h.inject(e);Vk=function(ba){try{h.onCommitFiberRoot(z,ba,void 0,64===(ba.current.effectTag&64))}catch(Ba){}};Ak=function(ba){try{h.onCommitFiberUnmount(z,ba)}catch(Ba){}}}catch(ba){}return!0}
function tj(e,h,z,ba){this.tag=e;this.key=z;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=h;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=ba;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Mg(e,h,z,ba){return new tj(e,h,z,ba)}function Lj(e){e=e.prototype;return!(!e||!e.isReactComponent)}
function jk(e){if("function"===typeof e)return Lj(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===wh)return 11;if(e===Xg)return 14}return 2}function Wh(e,h){var z=e.alternate;null===z?(z=Mg(e.tag,h,e.key,e.mode),z.elementType=e.elementType,z.type=e.type,z.stateNode=e.stateNode,z.alternate=e,e.alternate=z):(z.pendingProps=h,z.effectTag=0,z.nextEffect=null,z.firstEffect=null,z.lastEffect=null);z.childExpirationTime=e.childExpirationTime;z.expirationTime=e.expirationTime;z.child=e.child;z.memoizedProps=
e.memoizedProps;z.memoizedState=e.memoizedState;z.updateQueue=e.updateQueue;h=e.dependencies;z.dependencies=null===h?null:{expirationTime:h.expirationTime,firstContext:h.firstContext,responders:h.responders};z.sibling=e.sibling;z.index=e.index;z.ref=e.ref;return z}function Ei(e,h,z,ba,Ba,yb){var Jb=2;ba=e;if("function"===typeof e)Lj(e)&&(Jb=1);else if("string"===typeof e)Jb=5;else a:switch(e){case ah:return eh(z.children,Ba,yb,h);case Vg:Jb=8;Ba|=7;break;case si:Jb=8;Ba|=1;break;case Oh:return e=
Mg(12,z,h,Ba|8),e.elementType=Oh,e.type=Oh,e.expirationTime=yb,e;case Qi:return e=Mg(13,z,h,Ba),e.type=Qi,e.elementType=Qi,e.expirationTime=yb,e;case ti:return e=Mg(19,z,h,Ba),e.elementType=ti,e.expirationTime=yb,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Wg:Jb=10;break a;case Tj:Jb=9;break a;case wh:Jb=11;break a;case Xg:Jb=14;break a;case vi:Jb=16;ba=null;break a;case ui:Jb=22;break a}throw Error(n(130,null==e?e:typeof e,""));}h=Mg(Jb,z,h,Ba);h.elementType=e;h.type=ba;h.expirationTime=
yb;return h}function eh(e,h,z,ba){e=Mg(7,e,ba,h);e.expirationTime=z;return e}function Ij(e,h,z){e=Mg(6,e,null,h);e.expirationTime=z;return e}function qg(e,h,z){h=Mg(4,null!==e.children?e.children:[],e.key,h);h.expirationTime=z;h.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return h}function Fk(e,h,z){this.tag=h;this.current=null;this.containerInfo=e;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=z;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ek(e,h){var z=e.firstSuspendedTime;e=e.lastSuspendedTime;return 0!==z&&z>=h&&e<=h}function ph(e,h){var z=e.firstSuspendedTime,ba=e.lastSuspendedTime;z<h&&(e.firstSuspendedTime=h);if(ba>h||0===z)e.lastSuspendedTime=h;h<=e.lastPingedTime&&(e.lastPingedTime=
0);h<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function wg(e,h){h>e.firstPendingTime&&(e.firstPendingTime=h);var z=e.firstSuspendedTime;0!==z&&(h>=z?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:h>=e.lastSuspendedTime&&(e.lastSuspendedTime=h+1),h>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=h))}function aj(e,h){var z=e.lastExpiredTime;if(0===z||z>h)e.lastExpiredTime=h}function uj(e,h,z,ba){var Ba=h.current,yb=vc(),Jb=dk.suspense;yb=hd(yb,Ba,Jb);a:if(z){z=z._reactInternalFiber;
b:{if(C(z)!==z||1!==z.tag)throw Error(n(170));var hc=z;do{switch(hc.tag){case 3:hc=hc.stateNode.context;break b;case 1:if(Xd(hc.type)){hc=hc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}hc=hc.return}while(null!==hc);throw Error(n(171));}if(1===z.tag){var dd=z.type;if(Xd(dd)){z=pe(z,dd,hc);break a}}z=hc}else z=Lg;null===h.context?h.context=z:h.pendingContext=z;h=se(yb,Jb);h.payload={element:e};ba=void 0===ba?null:ba;null!==ba&&(h.callback=ba);xd(Ba,h);nd(Ba,yb);return yb}function Ji(e){e=
e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kk(e,h){e=e.memoizedState;null!==e&&null!==e.dehydrated&&e.retryTime<h&&(e.retryTime=h)}function cj(e,h){kk(e,h);(e=e.alternate)&&kk(e,h)}function Ih(e,h,z){z=null!=z&&!0===z.hydrate;var ba=new Fk(e,h,z),Ba=Mg(3,null,null,2===h?7:1===h?3:0);ba.current=Ba;Ba.stateNode=ba;id(Ba);e[Dh]=ba.current;z&&0!==h&&Ec(e,9===e.nodeType?e:e.ownerDocument);this._internalRoot=ba}function Jh(e){return!(!e||
1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gk(e,h){h||(h=e?9===e.nodeType?e.documentElement:e.firstChild:null,h=!(!h||1!==h.nodeType||!h.hasAttribute("data-reactroot")));if(!h)for(var z;z=e.lastChild;)e.removeChild(z);return new Ih(e,0,h?{hydrate:!0}:void 0)}function Pg(e,h,z,ba,Ba){var yb=z._reactRootContainer;if(yb){var Jb=yb._internalRoot;if("function"===typeof Ba){var hc=Ba;Ba=function(){var Zc=Ji(Jb);hc.call(Zc)}}uj(h,
Jb,e,Ba)}else{yb=z._reactRootContainer=Gk(z,ba);Jb=yb._internalRoot;if("function"===typeof Ba){var dd=Ba;Ba=function(){var Zc=Ji(Jb);dd.call(Zc)}}qf(function(){uj(h,Jb,e,Ba)})}return Ji(Jb)}function vj(e,h,z){var ba=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:fi,key:null==ba?null:""+ba,children:e,containerInfo:h,implementation:z}}function lk(e,h){var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jh(h))throw Error(n(200));return vj(e,h,null,z)}var lj=
Rb(5),Ag=Rb(0),Bg=Rb(8);if(!lj)throw Error(n(227));var Pf=!1,Mi=null,vh=!1,gj=null,Sj={onError:function(e){Pf=!0;Mi=e}},jj=null,Ni=null,ci=null,hj=null,di={},ij=[],Bj={},qi={},ei={},xh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Oi=null,ri=null,pg=null,Nh=sb,jg=!1,Pi=!1,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
kj=Object.prototype.hasOwnProperty,nf={},sf={},yf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yf[e]=new jb(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var h=e[0];yf[h]=new jb(h,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yf[e]=
new jb(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yf[e]=new jb(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yf[e]=new jb(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){yf[e]=
new jb(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){yf[e]=new jb(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){yf[e]=new jb(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){yf[e]=new jb(e,5,!1,e.toLowerCase(),null,!1)});var Ki=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var h=
e.replace(Ki,Ca);yf[h]=new jb(h,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new jb(h,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new jb(h,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){yf[e]=new jb(e,1,!1,e.toLowerCase(),null,!1)});yf.xlinkHref=new jb("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){yf[e]=new jb(e,1,!1,e.toLowerCase(),null,!0)});var yg=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;yg.hasOwnProperty("ReactCurrentDispatcher")||(yg.ReactCurrentDispatcher={current:null});yg.hasOwnProperty("ReactCurrentBatchConfig")||(yg.ReactCurrentBatchConfig={suspense:null});var Kg=/^(.*)[\\\/]/,sg="function"===typeof Symbol&&Symbol.for,qj=sg?Symbol.for("react.element"):60103,fi=
sg?Symbol.for("react.portal"):60106,ah=sg?Symbol.for("react.fragment"):60107,si=sg?Symbol.for("react.strict_mode"):60108,Oh=sg?Symbol.for("react.profiler"):60114,Wg=sg?Symbol.for("react.provider"):60109,Tj=sg?Symbol.for("react.context"):60110,Vg=sg?Symbol.for("react.concurrent_mode"):60111,wh=sg?Symbol.for("react.forward_ref"):60112,Qi=sg?Symbol.for("react.suspense"):60113,ti=sg?Symbol.for("react.suspense_list"):60120,Xg=sg?Symbol.for("react.memo"):60115,vi=sg?Symbol.for("react.lazy"):60116,ui=sg?
Symbol.for("react.block"):60121,lf="function"===typeof Symbol&&Symbol.iterator,Kh,bg=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(h,z,ba,Ba){MSApp.execUnsafeLocalFunction(function(){return e(h,z,ba,Ba)})}:e}(function(e,h){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=h;else{Kh=Kh||document.createElement("div");Kh.innerHTML="\x3csvg\x3e"+h.valueOf().toString()+"\x3c/svg\x3e";for(h=Kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);
for(;h.firstChild;)e.appendChild(h.firstChild)}}),Gf={animationend:w("Animation","AnimationEnd"),animationiteration:w("Animation","AnimationIteration"),animationstart:w("Animation","AnimationStart"),transitionend:w("Transition","TransitionEnd")},gi={},mj={};xh&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete Gf.animationend.animation,delete Gf.animationiteration.animation,delete Gf.animationstart.animation),"TransitionEvent"in window||delete Gf.transitionend.transition);
var mk=p("animationend"),wj=p("animationiteration"),Li=p("animationstart"),ni=p("transitionend"),yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ge=new ("function"===typeof WeakMap?WeakMap:Map),wi=null,xi=[],Ri=!1,bh=[],Ph=null,Qh=null,zh=null,Ah=new Map,Bh=new Map,ch=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
nj="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),kh={},Dj=new Map,Cj=new Map,ai=["abort","abort",mk,"animationEnd",wj,"animationIteration",Li,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ni,"transitionEnd","waiting","waiting"];$c("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);$c("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);$c(ai,2);for(var bi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nk=0;nk<bi.length;nk++)Cj.set(bi[nk],0);var Uj=Bg.unstable_UserBlockingPriority,yi=Bg.unstable_runWithPriority,
Rh=!0,zi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ih=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(e){ih.forEach(function(h){h=h+e.charAt(0).toUpperCase()+e.substring(1);zi[h]=zi[e]})});var Ch=Ag({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),lh="$",Si="/$",Vj="$?",Ai="$!",Gi=null,Og=null,Ng="function"===typeof setTimeout?
setTimeout:void 0,zf="function"===typeof clearTimeout?clearTimeout:void 0,oi=Math.random().toString(36).slice(2),mh="__reactInternalInstance$"+oi,Qg="__reactEventHandlers$"+oi,Dh="__reactContainere$"+oi,Sh=null,ug=null,Bi=null;Ag(qd.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?
e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){this.isPersistent=Uc},isPersistent:od,destructor:function(){var e=this.constructor.Interface,h;for(h in e)this[h]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=od;this._dispatchInstances=this._dispatchListeners=null}});qd.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};qd.extend=function(e){function h(){}function z(){return ba.apply(this,arguments)}var ba=this;h.prototype=ba.prototype;var Ba=new h;Ag(Ba,z.prototype);z.prototype=Ba;z.prototype.constructor=z;z.Interface=Ag({},ba.Interface,e);z.extend=ba.extend;Wd(z);return z};Wd(qd);var ok=qd.extend({data:null}),Lh=qd.extend({data:null}),Ti=[9,13,27,32],Ci=xh&&"CompositionEvent"in window,Mh=null;
xh&&"documentMode"in document&&(Mh=document.documentMode);var dj=xh&&"TextEvent"in window&&!Mh,Di=xh&&(!Ci||Mh&&8<Mh&&11>=Mh),Wj=String.fromCharCode(32),sh={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},oj=!1,nh=!1,xj={eventTypes:sh,extractEvents:function(e,h,z,ba){var Ba;if(Ci)a:{switch(e){case "compositionstart":var yb=sh.compositionStart;break a;case "compositionend":yb=sh.compositionEnd;
break a;case "compositionupdate":yb=sh.compositionUpdate;break a}yb=void 0}else nh?me(e,z)&&(yb=sh.compositionEnd):"keydown"===e&&229===z.keyCode&&(yb=sh.compositionStart);yb?(Di&&"ko"!==z.locale&&(nh||yb!==sh.compositionStart?yb===sh.compositionEnd&&nh&&(Ba=Yc()):(Sh=ba,ug="value"in Sh?Sh.value:Sh.textContent,nh=!0)),yb=ok.getPooled(yb,h,z,ba),Ba?yb.data=Ba:(Ba=ye(z),null!==Ba&&(yb.data=Ba)),Ic(yb),Ba=yb):Ba=null;(e=dj?Ye(e,z):Qe(e,z))?(h=Lh.getPooled(sh.beforeInput,h,z,ba),h.data=e,Ic(h)):h=null;
return null===Ba?h:null===h?Ba:[Ba,h]}},Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xj={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Th=null,Uh=null,Eg=!1;xh&&(Eg=sa("input")&&(!document.documentMode||9<document.documentMode));var Mf={eventTypes:Xj,_isInputEventSupported:Eg,
extractEvents:function(e,h,z,ba){var Ba=h?gc(h):window,yb=Ba.nodeName&&Ba.nodeName.toLowerCase();if("select"===yb||"input"===yb&&"file"===Ba.type)var Jb=Oe;else if(Re(Ba))if(Eg)Jb=Ad;else{Jb=cf;var hc=Ae}else(yb=Ba.nodeName)&&"input"===yb.toLowerCase()&&("checkbox"===Ba.type||"radio"===Ba.type)&&(Jb=re);if(Jb&&(Jb=Jb(e,h)))return Fd(Jb,z,ba);hc&&hc(e,Ba,h);"blur"===e&&(e=Ba._wrapperState)&&e.controlled&&"number"===Ba.type&&W(Ba,"number",Ba.value)}},cg=qd.extend({view:null,detail:null}),Mk={Alt:"altKey",
Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ej=0,a=0,f=!1,t=!1,q=cg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var h=ej;ej=e.screenX;return f?"mousemove"===e.type?e.screenX-h:0:(f=!0,0)},movementY:function(e){if("movementY"in
e)return e.movementY;var h=a;a=e.screenY;return t?"mousemove"===e.type?e.screenY-h:0:(t=!0,0)}}),y=q.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),V={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},
pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},qa={eventTypes:V,extractEvents:function(e,h,z,ba,Ba){var yb="mouseover"===e||"pointerover"===e,Jb="mouseout"===e||"pointerout"===e;if(yb&&0===(Ba&32)&&(z.relatedTarget||z.fromElement)||!Jb&&!yb)return null;yb=ba.window===ba?ba:(yb=ba.ownerDocument)?yb.defaultView||yb.parentWindow:window;if(Jb){if(Jb=h,h=(h=z.relatedTarget||z.toElement)?rb(h):null,null!==h){var hc=C(h);if(h!==hc||5!==h.tag&&6!==h.tag)h=null}}else Jb=
null;if(Jb===h)return null;if("mouseout"===e||"mouseover"===e)var dd=q,Zc=V.mouseLeave,Qd=V.mouseEnter,Zd="mouse";else if("pointerout"===e||"pointerover"===e)dd=y,Zc=V.pointerLeave,Qd=V.pointerEnter,Zd="pointer";e=null==Jb?yb:gc(Jb);yb=null==h?yb:gc(h);Zc=dd.getPooled(Zc,Jb,z,ba);Zc.type=Zd+"leave";Zc.target=e;Zc.relatedTarget=yb;z=dd.getPooled(Qd,h,z,ba);z.type=Zd+"enter";z.target=yb;z.relatedTarget=e;ba=Jb;Zd=h;if(ba&&Zd)a:{dd=ba;Qd=Zd;Jb=0;for(e=dd;e;e=Bc(e))Jb++;e=0;for(h=Qd;h;h=Bc(h))e++;for(;0<
Jb-e;)dd=Bc(dd),Jb--;for(;0<e-Jb;)Qd=Bc(Qd),e--;for(;Jb--;){if(dd===Qd||dd===Qd.alternate)break a;dd=Bc(dd);Qd=Bc(Qd)}dd=null}else dd=null;Qd=dd;for(dd=[];ba&&ba!==Qd;){Jb=ba.alternate;if(null!==Jb&&Jb===Qd)break;dd.push(ba);ba=Bc(ba)}for(ba=[];Zd&&Zd!==Qd;){Jb=Zd.alternate;if(null!==Jb&&Jb===Qd)break;ba.push(Zd);Zd=Bc(Zd)}for(Zd=0;Zd<dd.length;Zd++)Cc(dd[Zd],"bubbled",Zc);for(Zd=ba.length;0<Zd--;)Cc(ba[Zd],"captured",z);return 0===(Ba&64)?[Zc]:[Zc,z]}},ra="function"===typeof Object.is?Object.is:
Jf,ib=Object.prototype.hasOwnProperty,Ab=xh&&"documentMode"in document&&11>=document.documentMode,Xb={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hc=null,qc=null,oc=null,ed=!1,Od={eventTypes:Xb,extractEvents:function(e,h,z,ba,Ba,yb){Ba=yb||(ba.window===ba?ba.document:9===ba.nodeType?ba:ba.ownerDocument);if(!(yb=!Ba)){a:{Ba=r(Ba);yb=ei.onSelect;for(var Jb=0;Jb<
yb.length;Jb++)if(!Ba.has(yb[Jb])){Ba=!1;break a}Ba=!0}yb=!Ba}if(yb)return null;Ba=h?gc(h):window;switch(e){case "focus":if(Re(Ba)||"true"===Ba.contentEditable)Hc=Ba,qc=h,oc=null;break;case "blur":oc=qc=Hc=null;break;case "mousedown":ed=!0;break;case "contextmenu":case "mouseup":case "dragend":return ed=!1,Jd(z,ba);case "selectionchange":if(Ab)break;case "keydown":case "keyup":return Jd(z,ba)}return null}},He=qd.extend({animationName:null,elapsedTime:null,pseudoElement:null}),xf=qd.extend({clipboardData:function(e){return"clipboardData"in
e?e.clipboardData:window.clipboardData}}),ve=cg.extend({relatedTarget:null}),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf=cg.extend({key:function(e){if(e.key){var h=Nf[e.key]||e.key;if("Unidentified"!==h)return h}return"keypress"===e.type?(e=Se(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Af[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:ae,charCode:function(e){return"keypress"===e.type?Se(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Se(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wf=q.extend({dataTransfer:null}),jf=cg.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ae}),Uf=qd.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ff=q.extend({deltaX:function(e){return"deltaX"in
e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Of={eventTypes:kh,extractEvents:function(e,h,z,ba){var Ba=Dj.get(e);if(!Ba)return null;switch(e){case "keypress":if(0===Se(z))return null;case "keydown":case "keyup":e=Tf;break;case "blur":case "focus":e=ve;break;case "click":if(2===z.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":e=
q;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":e=Wf;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":e=jf;break;case mk:case wj:case Li:e=He;break;case ni:e=Uf;break;case "scroll":e=cg;break;case "wheel":e=Ff;break;case "copy":case "cut":case "paste":e=xf;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":e=
y;break;default:e=qd}h=e.getPooled(Ba,h,z,ba);Ic(h);return h}};if(hj)throw Error(n(101));hj=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));fb();var Jg=Lb;jj=tc;Ni=Jg;ci=gc;Qb({SimpleEventPlugin:Of,EnterLeaveEventPlugin:qa,ChangeEventPlugin:Mf,SelectEventPlugin:Od,BeforeInputEventPlugin:xj});var Cg=[],vg=-1,Lg={},mg={current:Lg},Dg={current:!1},Vi=Lg,cl=Bg.unstable_runWithPriority,uk=Bg.unstable_scheduleCallback,
el=Bg.unstable_cancelCallback,nl=Bg.unstable_requestPaint,Hk=Bg.unstable_now,zl=Bg.unstable_getCurrentPriorityLevel,eg=Bg.unstable_ImmediatePriority,Eh=Bg.unstable_UserBlockingPriority,tk=Bg.unstable_NormalPriority,pj=Bg.unstable_LowPriority,Nk=Bg.unstable_IdlePriority,dl={},Bl=Bg.unstable_shouldYield,ml=void 0!==nl?nl:function(){},hi=null,Ej=null,Fj=!1,ol=Hk(),hh=1E4>ol?Hk:function(){return Hk()-ol},Yj={current:null},Gj=null,Vh=null,Hj=null,Wi=!1,dk=yg.ReactCurrentBatchConfig,fl=(new lj.Component).refs,
vk={isMounted:function(e){return(e=e._reactInternalFiber)?C(e)===e:!1},enqueueSetState:function(e,h,z){e=e._reactInternalFiber;var ba=vc(),Ba=dk.suspense;ba=hd(ba,e,Ba);Ba=se(ba,Ba);Ba.payload=h;void 0!==z&&null!==z&&(Ba.callback=z);xd(e,Ba);nd(e,ba)},enqueueReplaceState:function(e,h,z){e=e._reactInternalFiber;var ba=vc(),Ba=dk.suspense;ba=hd(ba,e,Ba);Ba=se(ba,Ba);Ba.tag=1;Ba.payload=h;void 0!==z&&null!==z&&(Ba.callback=z);xd(e,Ba);nd(e,ba)},enqueueForceUpdate:function(e,h){e=e._reactInternalFiber;
var z=vc(),ba=dk.suspense;z=hd(z,e,ba);ba=se(z,ba);ba.tag=2;void 0!==h&&null!==h&&(ba.callback=h);xd(e,ba);nd(e,z)}},wk=Array.isArray,Xi=$f(!0),Pk=$f(!1),Zj={},ji={current:Zj},bk={current:Zj},ak={current:Zj},rg={current:0},xk=yg.ReactCurrentDispatcher,fh=yg.ReactCurrentBatchConfig,ki=0,tg=null,Sg=null,Rg=null,yk=!1,te={readContext:Fc,useCallback:Mb,useContext:Mb,useEffect:Mb,useImperativeHandle:Mb,useLayoutEffect:Mb,useMemo:Mb,useReducer:Mb,useRef:Mb,useState:Mb,useDebugValue:Mb,useResponder:Mb,useDeferredValue:Mb,
useTransition:Mb},Jj={readContext:Fc,useCallback:Kf,useContext:Fc,useEffect:he,useImperativeHandle:function(e,h,z){z=null!==z&&void 0!==z?z.concat([e]):null;return Pd(4,2,be.bind(null,h,e),z)},useLayoutEffect:function(e,h){return Pd(4,2,e,h)},useMemo:function(e,h){var z=Qc();h=void 0===h?null:h;e=e();z.memoizedState=[e,h];return e},useReducer:function(e,h,z){var ba=Qc();h=void 0!==z?z(h):h;ba.memoizedState=ba.baseState=h;e=ba.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:h};
e=e.dispatch=N.bind(null,tg,e);return[ba.memoizedState,e]},useRef:function(e){var h=Qc();e={current:e};return h.memoizedState=e},useState:Td,useDebugValue:Ce,useResponder:Pb,useDeferredValue:function(e,h){var z=Td(e),ba=z[0],Ba=z[1];he(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return ba},useTransition:function(e){var h=Td(!1),z=h[0];h=h[1];return[Kf(M.bind(null,h,e),[h,e]),z]}},ck={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,
useImperativeHandle:wf,useLayoutEffect:Sf,useMemo:gg,useReducer:ud,useRef:af,useState:function(){return ud(ad)},useDebugValue:Ce,useResponder:Pb,useDeferredValue:function(e,h){var z=ud(ad),ba=z[0],Ba=z[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return ba},useTransition:function(e){var h=ud(ad),z=h[0];h=h[1];return[ef(M.bind(null,h,e),[h,e]),z]}},Kj={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,useImperativeHandle:wf,useLayoutEffect:Sf,
useMemo:gg,useReducer:Nd,useRef:af,useState:function(){return Nd(ad)},useDebugValue:Ce,useResponder:Pb,useDeferredValue:function(e,h){var z=Nd(ad),ba=z[0],Ba=z[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return ba},useTransition:function(e){var h=Nd(ad),z=h[0];h=h[1];return[ef(M.bind(null,h,e),[h,e]),z]}},Ve=null,If=null,td=!1,Fi=yg.ReactCurrentOwner,dh=!1,zk={dehydrated:null,retryTime:0};var gl=function(e,h){for(var z=h.child;null!==
z;){if(5===z.tag||6===z.tag)e.appendChild(z.stateNode);else if(4!==z.tag&&null!==z.child){z.child.return=z;z=z.child;continue}if(z===h)break;for(;null===z.sibling;){if(null===z.return||z.return===h)return;z=z.return}z.sibling.return=z.return;z=z.sibling}};var Qk=function(){};var Al=function(e,h,z,ba,Ba){var yb=e.memoizedProps;if(yb!==ba){var Jb=h.stateNode;vf(ji.current);e=null;switch(z){case "input":yb=Q(Jb,yb);ba=Q(Jb,ba);e=[];break;case "option":yb=pa(Jb,yb);ba=pa(Jb,ba);e=[];break;case "select":yb=
Ag({},yb,{value:void 0});ba=Ag({},ba,{value:void 0});e=[];break;case "textarea":yb=db(Jb,yb);ba=db(Jb,ba);e=[];break;default:"function"!==typeof yb.onClick&&"function"===typeof ba.onClick&&(Jb.onclick=de)}$b(z,ba);var hc,dd;z=null;for(hc in yb)if(!ba.hasOwnProperty(hc)&&yb.hasOwnProperty(hc)&&null!=yb[hc])if("style"===hc)for(dd in Jb=yb[hc],Jb)Jb.hasOwnProperty(dd)&&(z||(z={}),z[dd]="");else"dangerouslySetInnerHTML"!==hc&&"children"!==hc&&"suppressContentEditableWarning"!==hc&&"suppressHydrationWarning"!==
hc&&"autoFocus"!==hc&&(qi.hasOwnProperty(hc)?e||(e=[]):(e=e||[]).push(hc,null));for(hc in ba){var Zc=ba[hc];Jb=null!=yb?yb[hc]:void 0;if(ba.hasOwnProperty(hc)&&Zc!==Jb&&(null!=Zc||null!=Jb))if("style"===hc)if(Jb){for(dd in Jb)!Jb.hasOwnProperty(dd)||Zc&&Zc.hasOwnProperty(dd)||(z||(z={}),z[dd]="");for(dd in Zc)Zc.hasOwnProperty(dd)&&Jb[dd]!==Zc[dd]&&(z||(z={}),z[dd]=Zc[dd])}else z||(e||(e=[]),e.push(hc,z)),z=Zc;else"dangerouslySetInnerHTML"===hc?(Zc=Zc?Zc.__html:void 0,Jb=Jb?Jb.__html:void 0,null!=
Zc&&Jb!==Zc&&(e=e||[]).push(hc,Zc)):"children"===hc?Jb===Zc||"string"!==typeof Zc&&"number"!==typeof Zc||(e=e||[]).push(hc,""+Zc):"suppressContentEditableWarning"!==hc&&"suppressHydrationWarning"!==hc&&(qi.hasOwnProperty(hc)?(null!=Zc&&vd(Ba,hc),e||Jb===Zc||(e=[])):(e=e||[]).push(hc,Zc))}z&&(e=e||[]).push("style",z);if(h.updateQueue=e)h.effectTag|=4}};var hl=function(e,h,z,ba){z!==ba&&(h.effectTag|=4)};var il="function"===typeof WeakSet?WeakSet:Set,jl="function"===typeof WeakMap?WeakMap:Map,Cl=Math.ceil,
Ek=yg.ReactCurrentDispatcher,ll=yg.ReactCurrentOwner,Ig=0,Sk=8,qh=16,Fh=32,rj=0,fk=1,Tk=2,Yg=3,sj=4,Uk=5,$e=Ig,oh=null,gf=null,gh=0,Hg=rj,Ug=null,$h=1073741823,gk=1073741823,xg=null,Tg=0,Mj=!1,Rk=0,li=500,ue=null,Bk=!1,Yh=null,Zh=null,hk=!1,Nj=null,ik=90,$i=null,Zi=0,Dk=null,Ck=0;var kl=function(e,h,z){var ba=h.expirationTime;if(null!==e){var Ba=h.pendingProps;if(e.memoizedProps!==Ba||Dg.current)dh=!0;else{if(ba<z){dh=!1;switch(h.tag){case 3:aa(h);If=Ve=null;td=!1;break;case 5:J(h);if(h.mode&4&&1!==
z&&Ba.hidden)return h.expirationTime=h.childExpirationTime=1,null;break;case 1:Xd(h.type)&&Ke(h);break;case 4:ag(h,h.stateNode.containerInfo);break;case 10:ba=h.memoizedProps.value;Ba=h.type._context;Ac(Yj,Ba._currentValue);Ba._currentValue=ba;break;case 13:if(null!==h.memoizedState){ba=h.child.childExpirationTime;if(0!==ba&&ba>=z)return ka(e,h,z);Ac(rg,rg.current&1);h=fc(e,h,z);return null!==h?h.sibling:null}Ac(rg,rg.current&1);break;case 19:ba=h.childExpirationTime>=z;if(0!==(e.effectTag&64)){if(ba)return Sb(e,
h,z);h.effectTag|=64}Ba=h.memoizedState;null!==Ba&&(Ba.rendering=null,Ba.tail=null);Ac(rg,rg.current);if(!ba)return null}return fc(e,h,z)}dh=!1}}else dh=!1;h.expirationTime=0;switch(h.tag){case 2:ba=h.type;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;Ba=Be(h,mg.current);uc(h,z);Ba=ic(null,h,ba,e,Ba,z);h.effectTag|=1;if("object"===typeof Ba&&null!==Ba&&"function"===typeof Ba.render&&void 0===Ba.$$typeof){h.tag=1;h.memoizedState=null;h.updateQueue=null;if(Xd(ba)){var yb=
!0;Ke(h)}else yb=!1;h.memoizedState=null!==Ba.state&&void 0!==Ba.state?Ba.state:null;id(h);var Jb=ba.getDerivedStateFromProps;"function"===typeof Jb&&Me(h,ba,Jb,e);Ba.updater=vk;h.stateNode=Ba;Ba._reactInternalFiber=h;Ue(h,ba,e,z);h=E(null,h,ba,!0,yb,z)}else h.tag=0,tb(null,h,Ba,z),h=h.child;return h;case 16:a:{Ba=h.elementType;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;ja(Ba);if(1!==Ba._status)throw Ba._result;Ba=Ba._result;h.type=Ba;yb=h.tag=jk(Ba);e=Vb(Ba,e);
switch(yb){case 0:h=pc(null,h,Ba,e,z);break a;case 1:h=u(null,h,Ba,e,z);break a;case 11:h=nb(null,h,Ba,e,z);break a;case 14:h=zb(null,h,Ba,Vb(Ba.type,e),ba,z);break a}throw Error(n(306,Ba,""));}return h;case 0:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),pc(e,h,ba,Ba,z);case 1:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),u(e,h,ba,Ba,z);case 3:aa(h);ba=h.updateQueue;if(null===e||null===ba)throw Error(n(282));ba=h.pendingProps;Ba=h.memoizedState;Ba=
null!==Ba?Ba.element:null;fd(e,h);le(h,ba,null,z);ba=h.memoizedState.element;if(ba===Ba)If=Ve=null,td=!1,h=fc(e,h,z);else{if(Ba=h.stateNode.hydrate)If=jc(h.stateNode.containerInfo.firstChild),Ve=h,Ba=td=!0;if(Ba)for(z=Pk(h,null,ba,z),h.child=z;z;)z.effectTag=z.effectTag&-3|1024,z=z.sibling;else tb(e,h,ba,z),If=Ve=null,td=!1;h=h.child}return h;case 5:return J(h),null===e&&ya(h),ba=h.type,Ba=h.pendingProps,yb=null!==e?e.memoizedProps:null,Jb=Ba.children,sc(ba,Ba)?Jb=null:null!==yb&&sc(ba,yb)&&(h.effectTag|=
16),Yb(e,h),h.mode&4&&1!==z&&Ba.hidden?(h.expirationTime=h.childExpirationTime=1,h=null):(tb(e,h,Jb,z),h=h.child),h;case 6:return null===e&&ya(h),null;case 13:return ka(e,h,z);case 4:return ag(h,h.stateNode.containerInfo),ba=h.pendingProps,null===e?h.child=Xi(h,null,ba,z):tb(e,h,ba,z),h.child;case 11:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),nb(e,h,ba,Ba,z);case 7:return tb(e,h,h.pendingProps,z),h.child;case 8:return tb(e,h,h.pendingProps.children,z),h.child;case 12:return tb(e,
h,h.pendingProps.children,z),h.child;case 10:a:{ba=h.type._context;Ba=h.pendingProps;Jb=h.memoizedProps;yb=Ba.value;var hc=h.type._context;Ac(Yj,hc._currentValue);hc._currentValue=yb;if(null!==Jb)if(hc=Jb.value,yb=ra(hc,yb)?0:("function"===typeof ba._calculateChangedBits?ba._calculateChangedBits(hc,yb):1073741823)|0,0===yb){if(Jb.children===Ba.children&&!Dg.current){h=fc(e,h,z);break a}}else for(hc=h.child,null!==hc&&(hc.return=h);null!==hc;){var dd=hc.dependencies;if(null!==dd){Jb=hc.child;for(var Zc=
dd.firstContext;null!==Zc;){if(Zc.context===ba&&0!==(Zc.observedBits&yb)){1===hc.tag&&(Zc=se(z,null),Zc.tag=2,xd(hc,Zc));hc.expirationTime<z&&(hc.expirationTime=z);Zc=hc.alternate;null!==Zc&&Zc.expirationTime<z&&(Zc.expirationTime=z);Gc(hc.return,z);dd.expirationTime<z&&(dd.expirationTime=z);break}Zc=Zc.next}}else Jb=10===hc.tag?hc.type===h.type?null:hc.child:hc.child;if(null!==Jb)Jb.return=hc;else for(Jb=hc;null!==Jb;){if(Jb===h){Jb=null;break}hc=Jb.sibling;if(null!==hc){hc.return=Jb.return;Jb=hc;
break}Jb=Jb.return}hc=Jb}tb(e,h,Ba.children,z);h=h.child}return h;case 9:return Ba=h.type,yb=h.pendingProps,ba=yb.children,uc(h,z),Ba=Fc(Ba,yb.unstable_observedBits),ba=ba(Ba),h.effectTag|=1,tb(e,h,ba,z),h.child;case 14:return Ba=h.type,yb=Vb(Ba,h.pendingProps),yb=Vb(Ba.type,yb),zb(e,h,Ba,yb,ba,z);case 15:return Eb(e,h,h.type,h.pendingProps,ba,z);case 17:return ba=h.type,Ba=h.pendingProps,Ba=h.elementType===ba?Ba:Vb(ba,Ba),null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),h.tag=1,Xd(ba)?
(e=!0,Ke(h)):e=!1,uc(h,z),Zf(h,ba,Ba),Ue(h,ba,Ba,z),E(null,h,ba,!0,e,z);case 19:return Sb(e,h,z)}throw Error(n(156,h.tag));};var Vk=null,Ak=null;Ih.prototype.render=function(e){uj(e,this._internalRoot,null,null)};Ih.prototype.unmount=function(){var e=this._internalRoot,h=e.containerInfo;uj(null,e,null,function(){h[Dh]=null})};var Lk=function(e){if(13===e.tag){var h=Va(vc(),150,100);nd(e,h);cj(e,h)}};var bl=function(e){13===e.tag&&(nd(e,3),cj(e,3))};var yl=function(e){if(13===e.tag){var h=vc();h=hd(h,
e,null);nd(e,h);cj(e,h)}};Oi=function(e,h,z){switch(h){case "input":na(e,z);h=z.name;if("radio"===z.type&&null!=h){for(z=e;z.parentNode;)z=z.parentNode;z=z.querySelectorAll("input[name\x3d"+JSON.stringify(""+h)+'][type\x3d"radio"]');for(h=0;h<z.length;h++){var ba=z[h];if(ba!==e&&ba.form===e.form){var Ba=tc(ba);if(!Ba)throw Error(n(90));$a(ba);na(ba,Ba)}}}break;case "textarea":va(e,z);break;case "select":h=z.value,null!=h&&Ua(e,!!z.multiple,h,!1)}};sb=bf;Wa=function(e,h,z,ba,Ba){var yb=$e;$e|=4;try{return Pe(98,
e.bind(null,h,z,ba,Ba))}finally{$e=yb,$e===Ig&&ua()}};Ha=function(){($e&(1|qh|Fh))===Ig&&(ce(),rh())};Nh=function(e,h){var z=$e;$e|=2;try{return e(h)}finally{$e=z,$e===Ig&&ua()}};var Dl={Events:[Lb,gc,tc,Qb,Bj,Ic,function(e){la(e,xc)},bb,qb,sd,Ja,rh,{current:!1}]};(function(e){var h=e.findFiberByHostInstance;return mi(Ag({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yg.ReactCurrentDispatcher,findHostInstanceByFiber:function(z){z=fa(z);
return null===z?null:z.stateNode},findFiberByHostInstance:function(z){return h?h(z):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:rb,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dl;Nb.createPortal=lk;Nb.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var h=e._reactInternalFiber;if(void 0===h){if("function"===
typeof e.render)throw Error(n(188));throw Error(n(268,Object.keys(e)));}e=fa(h);return e=null===e?null:e.stateNode};Nb.flushSync=function(e,h){if(($e&(qh|Fh))!==Ig)throw Error(n(187));var z=$e;$e|=1;try{return Pe(99,e.bind(null,h))}finally{$e=z,ua()}};Nb.hydrate=function(e,h,z){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!0,z)};Nb.render=function(e,h,z){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!1,z)};Nb.unmountComponentAtNode=function(e){if(!Jh(e))throw Error(n(40));return e._reactRootContainer?
(qf(function(){Pg(null,null,e,!1,function(){e._reactRootContainer=null;e[Dh]=null})}),!0):!1};Nb.unstable_batchedUpdates=bf;Nb.unstable_createPortal=function(e,h){return lk(e,h,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};Nb.unstable_renderSubtreeIntoContainer=function(e,h,z,ba){if(!Jh(z))throw Error(n(200));if(null==e||void 0===e._reactInternalFiber)throw Error(n(38));return Pg(e,h,z,!1,ba)};Nb.version="16.13.1"};
shadow$provide[14]=function(mc,Rb,Jc,Nb){function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(x){console.error(x)}}n();Jc.exports=Rb(9)};
shadow$provide[15]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?Jc.exports=x():"function"===typeof define&&define.amd?define(x):(n="undefined"!==typeof globalThis?globalThis:n||self,n.marked=x())})(this,function(){function n(D,G){for(var B=0;B<G.length;B++){var fa=G[B];fa.enumerable=fa.enumerable||!1;fa.configurable=!0;"value"in fa&&(fa.writable=!0);Object.defineProperty(D,fa.key,fa)}}function x(D,G,B){G&&n(D.prototype,G);B&&n(D,B);return D}function ca(D,G){if(D){if("string"===
typeof D)return Sa(D,G);var B=Object.prototype.toString.call(D).slice(8,-1);"Object"===B&&D.constructor&&(B=D.constructor.name);if("Map"===B||"Set"===B)return Array.from(D);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return Sa(D,G)}}function Sa(D,G){if(null==G||G>D.length)G=D.length;for(var B=0,fa=Array(G);B<G;B++)fa[B]=D[B];return fa}function Wb(D,G){var B;if("undefined"===typeof Symbol||null==D[Symbol.iterator]){if(Array.isArray(D)||(B=ca(D))||G&&D&&"number"===typeof D.length){B&&
(D=B);var fa=0;return function(){return fa>=D.length?{done:!0}:{done:!1,value:D[fa++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}B=D[Symbol.iterator]();return B.next.bind(B)}function fb(D){return D.replace(jb,function(G,B){B=B.toLowerCase();return"colon"===B?":":"#"===B.charAt(0)?"x"===B.charAt(1)?String.fromCharCode(parseInt(B.substring(2),16)):String.fromCharCode(+B.substring(1)):
""})}function ub(D,G,B){var fa=D.length;if(0===fa)return"";for(var wa=0;wa<fa;){var la=D.charAt(fa-wa-1);if(la!==G||B)if(la!==G&&B)wa++;else break;else wa++}return D.substr(0,fa-wa)}function Qb(D,G,B){var fa=G.href;G=G.title?Q(G.title):null;var wa=D[1].replace(/\\([\[\]])/g,"$1");return"!"!==D[0].charAt(0)?{type:"link",raw:B,href:fa,title:G,text:wa}:{type:"image",raw:B,href:fa,title:G,text:Q(wa)}}function Bb(D,G){D=D.match(/^(\s+)(?:```)/);if(null===D)return G;var B=D[1];return G.split("\n").map(function(fa){var wa=
fa.match(/^\s+/);return null===wa?fa:wa[0].length>=B.length?fa.slice(B.length):fa}).join("\n")}function bb(D){return D.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function qb(D){var G="",B,fa=D.length;for(B=0;B<fa;B++){var wa=D.charCodeAt(B);.5<Math.random()&&(wa="x"+wa.toString(16));G+="\x26#"+wa+";"}return G}function sb(D,G,B){if("undefined"===typeof D||null===
D)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof D)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(D)+", string expected");"function"===typeof G&&(B=G,G=null);G=w({},sb.defaults,G||{});p(G);if(B){var fa=G.highlight;try{var wa=Ua.lex(D,G)}catch(Z){return B(Z)}var la=function(Z){if(!Z)try{var sa=v.parse(wa,G)}catch(eb){Z=eb}G.highlight=fa;return Z?B(Z):B(null,sa)};if(!fa||3>fa.length)return la();delete G.highlight;if(!wa.length)return la();
var Ta=0;sb.walkTokens(wa,function(Z){"code"===Z.type&&(Ta++,setTimeout(function(){fa(Z.text,Z.lang,function(sa,eb){if(sa)return la(sa);null!=eb&&eb!==Z.text&&(Z.text=eb,Z.escaped=!0);Ta--;0===Ta&&la()})},0))});0===Ta&&la()}else try{var Ja=Ua.lex(D,G);G.walkTokens&&sb.walkTokens(Ja,G.walkTokens);return v.parse(Ja,G)}catch(Z){Z.message+="\nPlease report this to https://github.com/markedjs/marked.";if(G.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+r(Z.message+"",!0)+"\x3c/pre\x3e";
throw Z;}}var Wa=function(D,G){return G={exports:{}},D(G,G.exports),G.exports}(function(D){function G(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}D.exports={defaults:G(),getDefaults:G,changeDefaults:function(B){D.exports.defaults=B}}}),Ha=/[&<>"']/,Ia=/[&<>"']/g,Ya=/[<>"']|&(?!#?\w+;)/,mb=/[<>"']|&(?!#?\w+;)/g,
Ea={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},Ga=function(D){return Ea[D]},jb=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,Ca=/(^|[^\[])\^/g,ab=/[^\w:]/g,Ma=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,ja={},Aa=/^[^:]+:\/*[^/]*$/,Qa=/^([^:]+:)[\s\S]*$/,Xa=/^([^:]+:\/*[^/]*)[\s\S]*$/,hb=function(D,G){if(G){if(Ha.test(D))return D.replace(Ia,Ga)}else if(Ya.test(D))return D.replace(mb,Ga);return D},cb=function(D){for(var G=1,B,fa;G<arguments.length;G++)for(fa in B=arguments[G],
B)Object.prototype.hasOwnProperty.call(B,fa)&&(D[fa]=B[fa]);return D},ob=Wa.defaults,$a=function(D,G){D=D.replace(/\|/g,function(fa,wa,la){for(fa=!1;0<=--wa&&"\\"===la[wa];)fa=!fa;return fa?"|":" |"}).split(/ \|/);var B=0;if(D.length>G)D.splice(G);else for(;D.length<G;)D.push("");for(;B<D.length;B++)D[B]=D[B].trim().replace(/\\\|/g,"|");return D},Q=hb,H=function(){function D(B){this.options=B||ob}var G=D.prototype;G.space=function(B){if(B=this.rules.block.newline.exec(B))return 1<B[0].length?{type:"space",
raw:B[0]}:{raw:"\n"}};G.code=function(B,fa){if(B=this.rules.block.code.exec(B)){if((fa=fa[fa.length-1])&&"paragraph"===fa.type)return{raw:B[0],text:B[0].trimRight()};fa=B[0].replace(/^ {4}/gm,"");return{type:"code",raw:B[0],codeBlockStyle:"indented",text:this.options.pedantic?fa:ub(fa,"\n")}}};G.fences=function(B){if(B=this.rules.block.fences.exec(B)){var fa=B[0],wa=Bb(fa,B[3]||"");return{type:"code",raw:fa,lang:B[2]?B[2].trim():B[2],text:wa}}};G.heading=function(B){if(B=this.rules.block.heading.exec(B)){var fa=
B[2].trim();if(/#$/.test(fa)){var wa=ub(fa,"#");if(this.options.pedantic)fa=wa.trim();else if(!wa||/ $/.test(wa))fa=wa.trim()}return{type:"heading",raw:B[0],depth:B[1].length,text:fa}}};G.nptable=function(B){if(B=this.rules.block.nptable.exec(B))if(B={type:"table",header:$a(B[1].replace(/^ *| *\| *$/g,"")),align:B[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:B[3]?B[3].replace(/\n$/,"").split("\n"):[],raw:B[0]},B.header.length===B.align.length){var fa=B.align.length,wa;for(wa=0;wa<fa;wa++)/^ *-+: *$/.test(B.align[wa])?
B.align[wa]="right":/^ *:-+: *$/.test(B.align[wa])?B.align[wa]="center":/^ *:-+ *$/.test(B.align[wa])?B.align[wa]="left":B.align[wa]=null;fa=B.cells.length;for(wa=0;wa<fa;wa++)B.cells[wa]=$a(B.cells[wa],B.header.length);return B}};G.hr=function(B){if(B=this.rules.block.hr.exec(B))return{type:"hr",raw:B[0]}};G.blockquote=function(B){if(B=this.rules.block.blockquote.exec(B)){var fa=B[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:B[0],text:fa}}};G.list=function(B){var fa=this.rules.block.list.exec(B);
if(fa){B=fa[0];var wa=fa[2],la=1<wa.length,Ta={type:"list",raw:B,ordered:la,start:la?+wa.slice(0,-1):"",loose:!1,items:[]};fa=fa[0].match(this.rules.block.item);var Ja=!1,Z,sa=fa.length;var eb=this.rules.block.listItemStart.exec(fa[0]);for(var xb=0;xb<sa;xb++){B=Z=fa[xb];if(xb!==sa-1){var Kb=this.rules.block.listItemStart.exec(fa[xb+1]);if(Kb[1].length>eb[0].length||3<Kb[1].length){fa.splice(xb,2,fa[xb]+"\n"+fa[xb+1]);xb--;sa--;continue}else if(!this.options.pedantic||this.options.smartLists?Kb[2][Kb[2].length-
1]!==wa[wa.length-1]:la===(1===Kb[2].length))eb=fa.slice(xb+1).join("\n"),Ta.raw=Ta.raw.substring(0,Ta.raw.length-eb.length),xb=sa-1;eb=Kb}Kb=Z.length;Z=Z.replace(/^ *([*+-]|\d+[.)]) ?/,"");~Z.indexOf("\n ")&&(Kb-=Z.length,Z=this.options.pedantic?Z.replace(/^ {1,4}/gm,""):Z.replace(new RegExp("^ {1,"+Kb+"}","gm"),""));Kb=Ja||/\n\n(?!\s*$)/.test(Z);xb!==sa-1&&(Ja="\n"===Z.charAt(Z.length-1),Kb||(Kb=Ja));Kb&&(Ta.loose=!0);if(this.options.gfm){var ec=/^\[[ xX]\] /.test(Z);var Ec=void 0;ec&&(Ec=" "!==
Z[1],Z=Z.replace(/^\[[ xX]\] +/,""))}Ta.items.push({type:"list_item",raw:B,task:ec,checked:Ec,loose:Kb,text:Z})}return Ta}};G.html=function(B){if(B=this.rules.block.html.exec(B))return{type:this.options.sanitize?"paragraph":"html",raw:B[0],pre:!this.options.sanitizer&&("pre"===B[1]||"script"===B[1]||"style"===B[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(B[0]):Q(B[0]):B[0]}};G.def=function(B){if(B=this.rules.block.def.exec(B))return B[3]&&(B[3]=B[3].substring(1,B[3].length-
1)),{tag:B[1].toLowerCase().replace(/\s+/g," "),raw:B[0],href:B[2],title:B[3]}};G.table=function(B){var fa=this.rules.block.table.exec(B);if(fa&&(B={type:"table",header:$a(fa[1].replace(/^ *| *\| *$/g,"")),align:fa[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:fa[3]?fa[3].replace(/\n$/,"").split("\n"):[]},B.header.length===B.align.length)){B.raw=fa[0];fa=B.align.length;var wa;for(wa=0;wa<fa;wa++)/^ *-+: *$/.test(B.align[wa])?B.align[wa]="right":/^ *:-+: *$/.test(B.align[wa])?B.align[wa]="center":
/^ *:-+ *$/.test(B.align[wa])?B.align[wa]="left":B.align[wa]=null;fa=B.cells.length;for(wa=0;wa<fa;wa++)B.cells[wa]=$a(B.cells[wa].replace(/^ *\| *| *\| *$/g,""),B.header.length);return B}};G.lheading=function(B){if(B=this.rules.block.lheading.exec(B))return{type:"heading",raw:B[0],depth:"\x3d"===B[2].charAt(0)?1:2,text:B[1]}};G.paragraph=function(B){if(B=this.rules.block.paragraph.exec(B))return{type:"paragraph",raw:B[0],text:"\n"===B[1].charAt(B[1].length-1)?B[1].slice(0,-1):B[1]}};G.text=function(B,
fa){if(B=this.rules.block.text.exec(B))return(fa=fa[fa.length-1])&&"text"===fa.type?{raw:B[0],text:B[0]}:{type:"text",raw:B[0],text:B[0]}};G.escape=function(B){if(B=this.rules.inline.escape.exec(B))return{type:"escape",raw:B[0],text:Q(B[1])}};G.tag=function(B,fa,wa){if(B=this.rules.inline.tag.exec(B))return!fa&&/^<a /i.test(B[0])?fa=!0:fa&&/^<\/a>/i.test(B[0])&&(fa=!1),!wa&&/^<(pre|code|kbd|script)(\s|>)/i.test(B[0])?wa=!0:wa&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(B[0])&&(wa=!1),{type:this.options.sanitize?
"text":"html",raw:B[0],inLink:fa,inRawBlock:wa,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(B[0]):Q(B[0]):B[0]}};G.link=function(B){if(B=this.rules.inline.link.exec(B)){var fa=B[2].trim();if(!this.options.pedantic&&/^</.test(fa)){if(!/>$/.test(fa))return;var wa=ub(fa.slice(0,-1),"\\");if(0===(fa.length-wa.length)%2)return}else{a:{wa=B[2];if(-1!==wa.indexOf(")"))for(var la=wa.length,Ta=0,Ja=0;Ja<la;Ja++)if("\\"===wa[Ja])Ja++;else if("("===wa[Ja])Ta++;else if(")"===wa[Ja]&&
(Ta--,0>Ta)){wa=Ja;break a}wa=-1}-1<wa&&(la=(0===B[0].indexOf("!")?5:4)+B[1].length+wa,B[2]=B[2].substring(0,wa),B[0]=B[0].substring(0,la).trim(),B[3]="")}wa=B[2];la="";if(this.options.pedantic){if(Ta=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(wa))wa=Ta[1],la=Ta[3]}else la=B[3]?B[3].slice(1,-1):"";wa=wa.trim();/^</.test(wa)&&(wa=this.options.pedantic&&!/>$/.test(fa)?wa.slice(1):wa.slice(1,-1));return Qb(B,{href:wa?wa.replace(this.rules.inline._escapes,"$1"):wa,title:la?la.replace(this.rules.inline._escapes,
"$1"):la},B[0])}};G.reflink=function(B,fa){var wa;if((wa=this.rules.inline.reflink.exec(B))||(wa=this.rules.inline.nolink.exec(B)))return B=(wa[2]||wa[1]).replace(/\s+/g," "),B=fa[B.toLowerCase()],B&&B.href?Qb(wa,B,wa[0]):(fa=wa[0].charAt(0),{type:"text",raw:fa,text:fa})};G.strong=function(B,fa,wa){void 0===wa&&(wa="");var la=this.rules.inline.strong.start.exec(B);if(la&&(!la[1]||la[1]&&(""===wa||this.rules.inline.punctuation.exec(wa))))for(fa=fa.slice(-1*B.length),wa="**"===la[0]?this.rules.inline.strong.endAst:
this.rules.inline.strong.endUnd,wa.lastIndex=0;null!=(la=wa.exec(fa));)if(la=this.rules.inline.strong.middle.exec(fa.slice(0,la.index+3)))return{type:"strong",raw:B.slice(0,la[0].length),text:B.slice(2,la[0].length-2)}};G.em=function(B,fa,wa){void 0===wa&&(wa="");var la=this.rules.inline.em.start.exec(B);if(la&&(!la[1]||la[1]&&(""===wa||this.rules.inline.punctuation.exec(wa))))for(fa=fa.slice(-1*B.length),wa="*"===la[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd,wa.lastIndex=0;null!=
(la=wa.exec(fa));)if(la=this.rules.inline.em.middle.exec(fa.slice(0,la.index+2)))return{type:"em",raw:B.slice(0,la[0].length),text:B.slice(1,la[0].length-1)}};G.codespan=function(B){if(B=this.rules.inline.code.exec(B)){var fa=B[2].replace(/\n/g," "),wa=/[^ ]/.test(fa),la=/^ /.test(fa)&&/ $/.test(fa);wa&&la&&(fa=fa.substring(1,fa.length-1));fa=Q(fa,!0);return{type:"codespan",raw:B[0],text:fa}}};G.br=function(B){if(B=this.rules.inline.br.exec(B))return{type:"br",raw:B[0]}};G.del=function(B){if(B=this.rules.inline.del.exec(B))return{type:"del",
raw:B[0],text:B[2]}};G.autolink=function(B,fa){if(B=this.rules.inline.autolink.exec(B)){if("@"===B[2]){fa=Q(this.options.mangle?fa(B[1]):B[1]);var wa="mailto:"+fa}else wa=fa=Q(B[1]);return{type:"link",raw:B[0],text:fa,href:wa,tokens:[{type:"text",raw:fa,text:fa}]}}};G.url=function(B,fa){if(B=this.rules.inline.url.exec(B)){if("@"===B[2]){fa=Q(this.options.mangle?fa(B[0]):B[0]);var wa="mailto:"+fa}else{do fa=B[0],B[0]=this.rules.inline._backpedal.exec(B[0])[0];while(fa!==B[0]);fa=Q(B[0]);wa="www."===
B[1]?"http://"+fa:fa}return{type:"link",raw:B[0],text:fa,href:wa,tokens:[{type:"text",raw:fa,text:fa}]}}};G.inlineText=function(B,fa,wa){if(B=this.rules.inline.text.exec(B))return fa=fa?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(B[0]):Q(B[0]):B[0]:Q(this.options.smartypants?wa(B[0]):B[0]),{type:"text",raw:B[0],text:fa}};return D}(),T={exec:function(){}},na=function(D,G){D=D.source||D;G=G||"";var B={replace:function(fa,wa){wa=wa.source||wa;wa=wa.replace(Ca,"$1");D=D.replace(fa,
wa);return B},getRegex:function(){return new RegExp(D,G)}};return B},O={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:T,table:T,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};O.def=na(O.def).replace("label",O._label).replace("title",O._title).getRegex();O.bullet=/(?:[*+-]|\d{1,9}[.)])/;O.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
O.item=na(O.item,"gm").replace(/bull/g,O.bullet).getRegex();O.listItemStart=na(/^( *)(bull)/).replace("bull",O.bullet).getRegex();O.list=na(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+O.def.source+")").getRegex();O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
O._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;O.html=na(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();O.paragraph=na(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",
O._tag).getRegex();O.blockquote=na(O.blockquote).replace("paragraph",O.paragraph).getRegex();O.normal=cb({},O);O.gfm=cb({},O.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});O.gfm.nptable=na(O.gfm.nptable).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",O._tag).getRegex();O.gfm.table=na(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",O._tag).getRegex();O.pedantic=cb({},O.normal,{html:na("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:T,paragraph:na(O.normal._paragraph).replace("hr",O.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",O.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:T,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,
endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:T,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};W.punctuation=na(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex();W._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|\x3c[^\x3e]*?\x3e";W._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*";W._comment=na(O._comment).replace("(?:--\x3e|$)",
"--\x3e").getRegex();W.em.start=na(W.em.start).replace(/punctuation/g,W._punctuation).getRegex();W.em.middle=na(W.em.middle).replace(/punctuation/g,W._punctuation).replace(/overlapSkip/g,W._overlapSkip).getRegex();W.em.endAst=na(W.em.endAst,"g").replace(/punctuation/g,W._punctuation).getRegex();W.em.endUnd=na(W.em.endUnd,"g").replace(/punctuation/g,W._punctuation).getRegex();W.strong.start=na(W.strong.start).replace(/punctuation/g,W._punctuation).getRegex();W.strong.middle=na(W.strong.middle).replace(/punctuation/g,
W._punctuation).replace(/overlapSkip/g,W._overlapSkip).getRegex();W.strong.endAst=na(W.strong.endAst,"g").replace(/punctuation/g,W._punctuation).getRegex();W.strong.endUnd=na(W.strong.endUnd,"g").replace(/punctuation/g,W._punctuation).getRegex();W.blockSkip=na(W._blockSkip,"g").getRegex();W.overlapSkip=na(W._overlapSkip,"g").getRegex();W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
W.autolink=na(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex();W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;W.tag=na(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex();W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;W.link=na(W.link).replace("label",W._label).replace("href",
W._href).replace("title",W._title).getRegex();W.reflink=na(W.reflink).replace("label",W._label).getRegex();W.reflinkSearch=na(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex();W.normal=cb({},W);W.pedantic=cb({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,
endUnd:/_(?!_)/g},link:na(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:na(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()});W.gfm=cb({},W.normal,{escape:na(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});W.gfm.url=na(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex();W.breaks=cb({},W.gfm,{br:na(W.br).replace("{2,}","*").getRegex(),text:na(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ea=Wa.defaults,pa=function(D,G){if(1>G)return"";
for(var B="";1<G;)G&1&&(B+=D),G>>=1,D+=D;return B+D},Ua=function(){function D(B){this.tokens=[];this.tokens.links=Object.create(null);this.options=B||ea;this.options.tokenizer=this.options.tokenizer||new H;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;B={block:O.normal,inline:W.normal};this.options.pedantic?(B.block=O.pedantic,B.inline=W.pedantic):this.options.gfm&&(B.block=O.gfm,B.inline=this.options.breaks?W.breaks:W.gfm);this.tokenizer.rules=B}D.lex=function(B,fa){return(new D(fa)).lex(B)};
D.lexInline=function(B,fa){return(new D(fa)).inlineTokens(B)};var G=D.prototype;G.lex=function(B){B=B.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(B,this.tokens,!0);this.inline(this.tokens);return this.tokens};G.blockTokens=function(B,fa,wa){void 0===fa&&(fa=[]);void 0===wa&&(wa=!0);B=B.replace(/^ +$/gm,"");for(var la,Ta,Ja;B;)if(la=this.tokenizer.space(B))B=B.substring(la.raw.length),la.type&&fa.push(la);else if(la=this.tokenizer.code(B,fa))B=B.substring(la.raw.length),la.type?
fa.push(la):(Ta=fa[fa.length-1],Ta.raw+="\n"+la.raw,Ta.text+="\n"+la.text);else if(la=this.tokenizer.fences(B))B=B.substring(la.raw.length),fa.push(la);else if(la=this.tokenizer.heading(B))B=B.substring(la.raw.length),fa.push(la);else if(la=this.tokenizer.nptable(B))B=B.substring(la.raw.length),fa.push(la);else if(la=this.tokenizer.hr(B))B=B.substring(la.raw.length),fa.push(la);else if(la=this.tokenizer.blockquote(B))B=B.substring(la.raw.length),la.tokens=this.blockTokens(la.text,[],wa),fa.push(la);
else if(la=this.tokenizer.list(B)){B=B.substring(la.raw.length);Ja=la.items.length;for(Ta=0;Ta<Ja;Ta++)la.items[Ta].tokens=this.blockTokens(la.items[Ta].text,[],!1);fa.push(la)}else if(la=this.tokenizer.html(B))B=B.substring(la.raw.length),fa.push(la);else if(wa&&(la=this.tokenizer.def(B)))B=B.substring(la.raw.length),this.tokens.links[la.tag]||(this.tokens.links[la.tag]={href:la.href,title:la.title});else if(la=this.tokenizer.table(B))B=B.substring(la.raw.length),fa.push(la);else if(la=this.tokenizer.lheading(B))B=
B.substring(la.raw.length),fa.push(la);else if(wa&&(la=this.tokenizer.paragraph(B)))B=B.substring(la.raw.length),fa.push(la);else if(la=this.tokenizer.text(B,fa))B=B.substring(la.raw.length),la.type?fa.push(la):(Ta=fa[fa.length-1],Ta.raw+="\n"+la.raw,Ta.text+="\n"+la.text);else if(B)if(B="Infinite loop on byte: "+B.charCodeAt(0),this.options.silent){console.error(B);break}else throw Error(B);return fa};G.inline=function(B){var fa,wa,la,Ta=B.length;for(fa=0;fa<Ta;fa++){var Ja=B[fa];switch(Ja.type){case "paragraph":case "text":case "heading":Ja.tokens=
[];this.inlineTokens(Ja.text,Ja.tokens);break;case "table":Ja.tokens={header:[],cells:[]};var Z=Ja.header.length;for(wa=0;wa<Z;wa++)Ja.tokens.header[wa]=[],this.inlineTokens(Ja.header[wa],Ja.tokens.header[wa]);Z=Ja.cells.length;for(wa=0;wa<Z;wa++){var sa=Ja.cells[wa];Ja.tokens.cells[wa]=[];for(la=0;la<sa.length;la++)Ja.tokens.cells[wa][la]=[],this.inlineTokens(sa[la],Ja.tokens.cells[wa][la])}break;case "blockquote":this.inline(Ja.tokens);break;case "list":for(Z=Ja.items.length,wa=0;wa<Z;wa++)this.inline(Ja.items[wa].tokens)}}return B};
G.inlineTokens=function(B,fa,wa,la){void 0===fa&&(fa=[]);void 0===wa&&(wa=!1);void 0===la&&(la=!1);var Ta,Ja=B,Z;if(this.tokens.links){var sa=Object.keys(this.tokens.links);if(0<sa.length)for(;null!=(Ta=this.tokenizer.rules.inline.reflinkSearch.exec(Ja));)sa.includes(Ta[0].slice(Ta[0].lastIndexOf("[")+1,-1))&&(Ja=Ja.slice(0,Ta.index)+"["+pa("a",Ta[0].length-2)+"]"+Ja.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ta=this.tokenizer.rules.inline.blockSkip.exec(Ja));)Ja=Ja.slice(0,
Ta.index)+"["+pa("a",Ta[0].length-2)+"]"+Ja.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;B;){eb||(Z="");var eb=!1;if(Ta=this.tokenizer.escape(B))B=B.substring(Ta.raw.length),fa.push(Ta);else if(Ta=this.tokenizer.tag(B,wa,la))B=B.substring(Ta.raw.length),wa=Ta.inLink,la=Ta.inRawBlock,fa.push(Ta);else if(Ta=this.tokenizer.link(B))B=B.substring(Ta.raw.length),"link"===Ta.type&&(Ta.tokens=this.inlineTokens(Ta.text,[],!0,la)),fa.push(Ta);else if(Ta=this.tokenizer.reflink(B,this.tokens.links))B=
B.substring(Ta.raw.length),"link"===Ta.type&&(Ta.tokens=this.inlineTokens(Ta.text,[],!0,la)),fa.push(Ta);else if(Ta=this.tokenizer.strong(B,Ja,Z))B=B.substring(Ta.raw.length),Ta.tokens=this.inlineTokens(Ta.text,[],wa,la),fa.push(Ta);else if(Ta=this.tokenizer.em(B,Ja,Z))B=B.substring(Ta.raw.length),Ta.tokens=this.inlineTokens(Ta.text,[],wa,la),fa.push(Ta);else if(Ta=this.tokenizer.codespan(B))B=B.substring(Ta.raw.length),fa.push(Ta);else if(Ta=this.tokenizer.br(B))B=B.substring(Ta.raw.length),fa.push(Ta);
else if(Ta=this.tokenizer.del(B))B=B.substring(Ta.raw.length),Ta.tokens=this.inlineTokens(Ta.text,[],wa,la),fa.push(Ta);else if(Ta=this.tokenizer.autolink(B,qb))B=B.substring(Ta.raw.length),fa.push(Ta);else if(!wa&&(Ta=this.tokenizer.url(B,qb)))B=B.substring(Ta.raw.length),fa.push(Ta);else if(Ta=this.tokenizer.inlineText(B,la,bb))B=B.substring(Ta.raw.length),Z=Ta.raw.slice(-1),eb=!0,fa.push(Ta);else if(B)if(B="Infinite loop on byte: "+B.charCodeAt(0),this.options.silent){console.error(B);break}else throw Error(B);
}return fa};x(D,null,[{key:"rules",get:function(){return{block:O,inline:W}}}]);return D}(),db=Wa.defaults,U=function(D,G,B){if(D){try{var fa=decodeURIComponent(fb(B)).replace(ab,"").toLowerCase()}catch(wa){return null}if(0===fa.indexOf("javascript:")||0===fa.indexOf("vbscript:")||0===fa.indexOf("data:"))return null}G&&!Ma.test(B)&&(D=G,ja[" "+D]||(Aa.test(D)?ja[" "+D]=D+"/":ja[" "+D]=ub(D,"/",!0)),D=ja[" "+D],G=-1===D.indexOf(":"),B="//"===B.substring(0,2)?G?B:D.replace(Qa,"$1")+B:"/"===B.charAt(0)?
G?B:D.replace(Xa,"$1")+B:D+B);try{B=encodeURI(B).replace(/%25/g,"%")}catch(wa){return null}return B},va=function(){function D(B){this.options=B||db}var G=D.prototype;G.code=function(B,fa,wa){fa=(fa||"").match(/\S*/)[0];if(this.options.highlight){var la=this.options.highlight(B,fa);null!=la&&la!==B&&(wa=!0,B=la)}return fa?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+hb(fa,!0)+'"\x3e'+(wa?B:hb(B,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(wa?B:hb(B,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};
G.blockquote=function(B){return"\x3cblockquote\x3e\n"+B+"\x3c/blockquote\x3e\n"};G.html=function(B){return B};G.heading=function(B,fa,wa,la){return this.options.headerIds?"\x3ch"+fa+' id\x3d"'+this.options.headerPrefix+la.slug(wa)+'"\x3e'+B+"\x3c/h"+fa+"\x3e\n":"\x3ch"+fa+"\x3e"+B+"\x3c/h"+fa+"\x3e\n"};G.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};G.list=function(B,fa,wa){var la=fa?"ol":"ul";return"\x3c"+la+(fa&&1!==wa?' start\x3d"'+wa+'"':"")+"\x3e\n"+B+"\x3c/"+la+"\x3e\n"};
G.listitem=function(B){return"\x3cli\x3e"+B+"\x3c/li\x3e\n"};G.checkbox=function(B){return"\x3cinput "+(B?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};G.paragraph=function(B){return"\x3cp\x3e"+B+"\x3c/p\x3e\n"};G.table=function(B,fa){fa&&(fa="\x3ctbody\x3e"+fa+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+B+"\x3c/thead\x3e\n"+fa+"\x3c/table\x3e\n"};G.tablerow=function(B){return"\x3ctr\x3e\n"+B+"\x3c/tr\x3e\n"};G.tablecell=function(B,fa){var wa=
fa.header?"th":"td";return(fa.align?"\x3c"+wa+' align\x3d"'+fa.align+'"\x3e':"\x3c"+wa+"\x3e")+B+"\x3c/"+wa+"\x3e\n"};G.strong=function(B){return"\x3cstrong\x3e"+B+"\x3c/strong\x3e"};G.em=function(B){return"\x3cem\x3e"+B+"\x3c/em\x3e"};G.codespan=function(B){return"\x3ccode\x3e"+B+"\x3c/code\x3e"};G.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};G.del=function(B){return"\x3cdel\x3e"+B+"\x3c/del\x3e"};G.link=function(B,fa,wa){B=U(this.options.sanitize,this.options.baseUrl,B);if(null===
B)return wa;B='\x3ca href\x3d"'+hb(B)+'"';fa&&(B+=' title\x3d"'+fa+'"');return B+("\x3e"+wa+"\x3c/a\x3e")};G.image=function(B,fa,wa){B=U(this.options.sanitize,this.options.baseUrl,B);if(null===B)return wa;B='\x3cimg src\x3d"'+B+'" alt\x3d"'+wa+'"';fa&&(B+=' title\x3d"'+fa+'"');return B+=this.options.xhtml?"/\x3e":"\x3e"};G.text=function(B){return B};return D}(),xa=function(){function D(){}var G=D.prototype;G.strong=function(B){return B};G.em=function(B){return B};G.codespan=function(B){return B};
G.del=function(B){return B};G.html=function(B){return B};G.text=function(B){return B};G.link=function(B,fa,wa){return""+wa};G.image=function(B,fa,wa){return""+wa};G.br=function(){return""};return D}(),ma=function(){function D(){this.seen={}}var G=D.prototype;G.serialize=function(B){return B.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};G.getNextSafeSlug=function(B,fa){var wa=B,la=0;if(this.seen.hasOwnProperty(wa)){la=
this.seen[B];do la++,wa=B+"-"+la;while(this.seen.hasOwnProperty(wa))}fa||(this.seen[B]=la,this.seen[wa]=0);return wa};G.slug=function(B,fa){void 0===fa&&(fa={});B=this.serialize(B);return this.getNextSafeSlug(B,fa.dryrun)};return D}(),R=Wa.defaults,v=function(){function D(B){this.options=B||R;this.options.renderer=this.options.renderer||new va;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new xa;this.slugger=new ma}D.parse=function(B,fa){return(new D(fa)).parse(B)};
D.parseInline=function(B,fa){return(new D(fa)).parseInline(B)};var G=D.prototype;G.parse=function(B,fa){void 0===fa&&(fa=!0);var wa="",la,Ta,Ja,Z,sa=B.length;for(la=0;la<sa;la++){var eb=B[la];switch(eb.type){case "space":continue;case "hr":wa+=this.renderer.hr();continue;case "heading":wa+=this.renderer.heading(this.parseInline(eb.tokens),eb.depth,fb(this.parseInline(eb.tokens,this.textRenderer)),this.slugger);continue;case "code":wa+=this.renderer.code(eb.text,eb.lang,eb.escaped);continue;case "table":var xb=
Z="";var Kb=eb.header.length;for(Ta=0;Ta<Kb;Ta++)xb+=this.renderer.tablecell(this.parseInline(eb.tokens.header[Ta]),{header:!0,align:eb.align[Ta]});Z+=this.renderer.tablerow(xb);var ec="";Kb=eb.cells.length;for(Ta=0;Ta<Kb;Ta++){var Ec=eb.tokens.cells[Ta];xb="";var gd=Ec.length;for(Ja=0;Ja<gd;Ja++)xb+=this.renderer.tablecell(this.parseInline(Ec[Ja]),{header:!1,align:eb.align[Ja]});ec+=this.renderer.tablerow(xb)}wa+=this.renderer.table(Z,ec);continue;case "blockquote":ec=this.parse(eb.tokens);wa+=this.renderer.blockquote(ec);
continue;case "list":Ja=eb.ordered;gd=eb.start;Ec=eb.loose;Kb=eb.items.length;ec="";for(Ta=0;Ta<Kb;Ta++){Z=eb.items[Ta];var Dc=Z.checked;var Sc=Z.task;xb="";if(Z.task){var Ra=this.renderer.checkbox(Dc);Ec?0<Z.tokens.length&&"text"===Z.tokens[0].type?(Z.tokens[0].text=Ra+" "+Z.tokens[0].text,Z.tokens[0].tokens&&0<Z.tokens[0].tokens.length&&"text"===Z.tokens[0].tokens[0].type&&(Z.tokens[0].tokens[0].text=Ra+" "+Z.tokens[0].tokens[0].text)):Z.tokens.unshift({type:"text",text:Ra}):xb+=Ra}xb+=this.parse(Z.tokens,
Ec);ec+=this.renderer.listitem(xb,Sc,Dc)}wa+=this.renderer.list(ec,Ja,gd);continue;case "html":wa+=this.renderer.html(eb.text);continue;case "paragraph":wa+=this.renderer.paragraph(this.parseInline(eb.tokens));continue;case "text":for(ec=eb.tokens?this.parseInline(eb.tokens):eb.text;la+1<sa&&"text"===B[la+1].type;)eb=B[++la],ec+="\n"+(eb.tokens?this.parseInline(eb.tokens):eb.text);wa+=fa?this.renderer.paragraph(ec):ec;continue;default:B='Token with "'+eb.type+'" type was not found.';if(this.options.silent){console.error(B);
return}throw Error(B);}}return wa};G.parseInline=function(B,fa){fa=fa||this.renderer;var wa="",la,Ta=B.length;for(la=0;la<Ta;la++){var Ja=B[la];switch(Ja.type){case "escape":wa+=fa.text(Ja.text);break;case "html":wa+=fa.html(Ja.text);break;case "link":wa+=fa.link(Ja.href,Ja.title,this.parseInline(Ja.tokens,fa));break;case "image":wa+=fa.image(Ja.href,Ja.title,Ja.text);break;case "strong":wa+=fa.strong(this.parseInline(Ja.tokens,fa));break;case "em":wa+=fa.em(this.parseInline(Ja.tokens,fa));break;
case "codespan":wa+=fa.codespan(Ja.text);break;case "br":wa+=fa.br();break;case "del":wa+=fa.del(this.parseInline(Ja.tokens,fa));break;case "text":wa+=fa.text(Ja.text);break;default:B='Token with "'+Ja.type+'" type was not found.';if(this.options.silent){console.error(B);return}throw Error(B);}}return wa};return D}(),w=cb,p=function(D){D&&D.sanitize&&!D.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
r=hb;cb=Wa.getDefaults;var C=Wa.changeDefaults;Wa=Wa.defaults;sb.options=sb.setOptions=function(D){w(sb.defaults,D);C(sb.defaults);return sb};sb.getDefaults=cb;sb.defaults=Wa;sb.use=function(D){var G=w({},D);D.renderer&&function(){var fa=sb.defaults.renderer||new va,wa=function(Ta){var Ja=fa[Ta];fa[Ta]=function(){for(var Z=arguments.length,sa=Array(Z),eb=0;eb<Z;eb++)sa[eb]=arguments[eb];Z=D.renderer[Ta].apply(fa,sa);!1===Z&&(Z=Ja.apply(fa,sa));return Z}},la;for(la in D.renderer)wa(la);G.renderer=
fa}();D.tokenizer&&function(){var fa=sb.defaults.tokenizer||new H,wa=function(Ta){var Ja=fa[Ta];fa[Ta]=function(){for(var Z=arguments.length,sa=Array(Z),eb=0;eb<Z;eb++)sa[eb]=arguments[eb];Z=D.tokenizer[Ta].apply(fa,sa);!1===Z&&(Z=Ja.apply(fa,sa));return Z}},la;for(la in D.tokenizer)wa(la);G.tokenizer=fa}();if(D.walkTokens){var B=sb.defaults.walkTokens;G.walkTokens=function(fa){D.walkTokens(fa);B&&B(fa)}}sb.setOptions(G)};sb.walkTokens=function(D,G){D=Wb(D);for(var B;!(B=D()).done;)switch(B=B.value,
G(B),B.type){case "table":for(var fa=Wb(B.tokens.header),wa;!(wa=fa()).done;)sb.walkTokens(wa.value,G);for(B=Wb(B.tokens.cells);!(fa=B()).done;)for(fa=Wb(fa.value);!(wa=fa()).done;)sb.walkTokens(wa.value,G);break;case "list":sb.walkTokens(B.items,G);break;default:B.tokens&&sb.walkTokens(B.tokens,G)}};sb.parseInline=function(D,G){if("undefined"===typeof D||null===D)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof D)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(D)+", string expected");G=w({},sb.defaults,G||{});p(G);try{var B=Ua.lexInline(D,G);G.walkTokens&&sb.walkTokens(B,G.walkTokens);return v.parseInline(B,G)}catch(fa){fa.message+="\nPlease report this to https://github.com/markedjs/marked.";if(G.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+r(fa.message+"",!0)+"\x3c/pre\x3e";throw fa;}};sb.Parser=v;sb.parser=v.parse;sb.Renderer=va;sb.TextRenderer=xa;sb.Lexer=Ua;sb.lexer=Ua.lex;sb.Tokenizer=H;sb.Slugger=
ma;return sb.parse=sb})};
shadow$provide[16]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={}))})(this,function(n){function x(R,v,w){R.fields=v||[];R.fname=w;return R}function ca(R){return null==R?null:R.fields}function Sa(R){return 1===R.length?Aa(R[0]):Qa(R)}function Wb(R){throw Error(R);}function fb(R){function v(){w.push(D+R.substring(G,B));D="";G=B+1}const w=
[],p=R.length;let r=null,C=0,D="",G,B,fa;R+="";for(G=B=0;B<p;++B)(fa=R[B],"\\"===fa)?(D+=R.substring(G,B),D+=R.substring(++B,++B),G=B):fa===r?(v(),r=null,C=-1):r||(G===C&&'"'===fa?(G=B+1,r=fa):G===C&&"'"===fa?(G=B+1,r=fa):"."!==fa||C?"["===fa?(B>G&&v(),C=G=B+1):"]"===fa&&(C||Wb("Access path missing open bracket: "+R),0<C&&v(),C=0,G=B+1):B>G?v():G=B+1);C&&Wb("Access path missing closing bracket: "+R);r&&Wb("Access path missing closing quote: "+R);B>G&&(B++,v());return w}function ub(R,v,w){const p=
fb(R);R=1===p.length?p[0]:R;return x((w&&w.get||Sa)(p),[R],v||R)}function Qb(R,v,w){v=[v].concat([].slice.call(w));console[R].apply(console,v)}function Bb(R){return R===Object(R)}function bb(R,v,w,p){if("__proto__"!==v){var r;if(Bb(w)&&!H(w))for(r in R=Bb(R[v])?R[v]:R[v]={},w)p&&(!0===p||p[r])?bb(R,r,w[r]):"__proto__"!==r&&(R[r]=w[r]);else R[v]=w}}function qb(R,v){function w(C){p[C.name]||(p[C.name]=1,r.push(C))}if(null==R)return v;const p={},r=[];v.forEach(w);R.forEach(w);return r}function sb(R){return R[R.length-
1]}function Wa(R){return null==R||""===R?null:+R}function Ha(R,v,w,p){const r=w(R[0]);R=w(sb(R));v*=R-r;return[p(r-v),p(R-v)]}function Ia(R,v,w,p,r){const C=p(R[0]);R=p(sb(R));v=null!=v?p(v):(C+R)/2;return[r(v+(C-v)*w),r(v+(R-v)*w)]}function Ya(R){return null!=R?H(R)?R:[R]:[]}function mb(R){return"function"===typeof R}function Ea(R){for(let v,w,p=1,r=arguments.length;p<r;++p)for(w in v=arguments[p],v)R[w]=v[w];return R}function Ga(R,v){return va.call(R,v)}function jb(R){return"[object Date]"===Object.prototype.toString.call(R)}
function Ca(R){return"number"===typeof R}function ab(R){return"string"===typeof R}function Ma(R,v){let w="";for(;0<=--v;)w+=R;return w}function ja(R){return H(R)?"["+R.map(ja)+"]":Bb(R)||ab(R)?JSON.stringify(R).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):R}const Aa=R=>function(v){return v[R]},Qa=R=>{const v=R.length;return function(w){for(let p=0;p<v;++p)w=w[R[p]];return w}},Xa=ub("id"),hb=x(R=>R,[],"identity"),cb=x(()=>0,[],"zero"),ob=x(()=>1,[],"one"),$a=x(()=>!0,[],"true"),Q=x(()=>
!1,[],"false");var H=Array.isArray;const T=R=>v=>R*Math.exp(v),na=R=>v=>Math.log(R*v),O=R=>v=>Math.sign(v)*Math.log1p(Math.abs(v/R)),W=R=>v=>Math.sign(v)*Math.expm1(Math.abs(v))*R,ea=R=>v=>0>v?-Math.pow(-v,R):Math.pow(v,R),pa=(R,v)=>(R<v||null==R)&&null!=v?-1:(R>v||null==v)&&null!=R?1:(v=v instanceof Date?+v:v,R=R instanceof Date?+R:R)!==R&&v===v?-1:v!==v&&R===R?1:0,Ua=(R,v)=>1===R.length?db(R[0],v[0]):U(R,v,R.length),db=(R,v)=>function(w,p){return pa(R(w),R(p))*v},U=(R,v,w)=>{v.push(0);return function(p,
r){var C=0;let D=-1;for(;0===C&&++D<w;)C=R[D],C=pa(C(p),C(r));return C*v[D]}},va=Object.prototype.hasOwnProperty,xa={},ma=R=>Ca(R)?R:jb(R)?R:Date.parse(R);n.Debug=4;n.Error=1;n.Info=3;n.None=0;n.Warn=2;n.accessor=x;n.accessorFields=ca;n.accessorName=function(R){return null==R?null:R.fname};n.array=Ya;n.ascending=pa;n.clampRange=function(R,v,w){let p=R[0];R=R[1];let r;R<p&&(r=R,R=p,p=r);r=R-p;return r>=w-v?[v,w]:[p=Math.min(Math.max(p,v),w-r),p+r]};n.compare=function(R,v,w){w=w||{};v=Ya(v)||[];const p=
[],r=[],C={},D=w.comparator||Ua;Ya(R).forEach((G,B)=>{null!=G&&(p.push("descending"===v[B]?-1:1),r.push(G=mb(G)?G:ub(G,null,w)),(ca(G)||[]).forEach(fa=>C[fa]=1))});return 0===r.length?null:x(D(r,p),Object.keys(C))};n.constant=function(R){return mb(R)?R:()=>R};n.debounce=function(R,v){let w;return p=>{w&&clearTimeout(w);w=setTimeout(()=>(v(p),w=null),R)}};n.error=Wb;n.extend=Ea;n.extent=function(R,v){let w=0,p,r,C,D;if(R&&(p=R.length))if(null==v){for(r=R[w];w<p&&(null==r||r!==r);r=R[++w]);for(C=D=
r;w<p;++w)r=R[w],null!=r&&(r<C&&(C=r),r>D&&(D=r))}else{for(r=v(R[w]);w<p&&(null==r||r!==r);r=v(R[++w]));for(C=D=r;w<p;++w)r=v(R[w]),null!=r&&(r<C&&(C=r),r>D&&(D=r))}return[C,D]};n.extentIndex=function(R,v){const w=R.length;let p=-1,r,C,D,G,B;if(null==v){for(;++p<w;)if(C=R[p],null!=C&&C>=C){r=D=C;break}if(p===w)return[-1,-1];for(G=B=p;++p<w;)C=R[p],null!=C&&(r>C&&(r=C,G=p),D<C&&(D=C,B=p))}else{for(;++p<w;)if(C=v(R[p],p,R),null!=C&&C>=C){r=D=C;break}if(p===w)return[-1,-1];for(G=B=p;++p<w;)C=v(R[p],
p,R),null!=C&&(r>C&&(r=C,G=p),D<C&&(D=C,B=p))}return[G,B]};n.falsy=Q;n.fastmap=function(R){function v(C){return Ga(w,C)&&w[C]!==xa}let w={},p;const r={size:0,empty:0,object:w,has:v,get(C){return v(C)?w[C]:void 0},set(C,D){v(C)||(++r.size,w[C]===xa&&--r.empty);w[C]=D;return this},delete(C){v(C)&&(--r.size,++r.empty,w[C]=xa);return this},clear(){r.size=r.empty=0;r.object=w={}},test(C){return arguments.length?(p=C,r):p},clean(){const C={};let D=0;for(const G in w){const B=w[G];B===xa||p&&p(B)||(C[G]=
B,++D)}r.size=D;r.empty=0;r.object=w=C}};R&&Object.keys(R).forEach(C=>{r.set(C,R[C])});return r};n.field=ub;n.flush=function(R,v,w,p,r,C){if(!w&&0!==w)return C;w=+w;let D=R[0],G=sb(R);G<D&&(R=D,D=G,G=R);R=Math.abs(v-D);v=Math.abs(G-v);return R<v&&R<=w?p:v<=w?r:C};n.hasOwnProperty=Ga;n.id=Xa;n.identity=hb;n.inherits=function(R,v,w){v=R.prototype=Object.create(v.prototype);v.constructor=R;return Ea(v,w)};n.inrange=function(R,v,w,p){let r=v[0];v=v[v.length-1];let C;r>v&&(C=r,r=v,v=C);return(void 0===
w||w?r<=R:r<R)&&(void 0===p||p?R<=v:R<v)};n.isArray=H;n.isBoolean=function(R){return"boolean"===typeof R};n.isDate=jb;n.isFunction=mb;n.isIterable=function(R){return R&&mb(R[Symbol.iterator])};n.isNumber=Ca;n.isObject=Bb;n.isRegExp=function(R){return"[object RegExp]"===Object.prototype.toString.call(R)};n.isString=ab;n.key=function(R,v,w){R&&(R=v?Ya(R).map(C=>C.replace(/\\(.)/g,"$1")):Ya(R));const p=R&&R.length,r=w&&w.get||Sa;w=C=>r(v?[C]:fb(C));if(p)if(1===p){const C=w(R[0]);w=function(D){return""+
C(D)}}else{const C=R.map(w);w=function(D){let G=""+C[0](D),B=0;for(;++B<p;)G+="|"+C[B](D);return G}}else w=function(){return""};return x(w,R,"key")};n.lerp=function(R,v){const w=R[0];R=sb(R);return(v=+v)?1===v?R:w+v*(R-w):w};n.logger=function(R,v){let w=R||0;return{level(p){return arguments.length?(w=+p,this):w},error(){1<=w&&Qb(v||"error","ERROR",arguments);return this},warn(){2<=w&&Qb(v||"warn","WARN",arguments);return this},info(){3<=w&&Qb(v||"log","INFO",arguments);return this},debug(){4<=w&&
Qb(v||"log","DEBUG",arguments);return this}}};n.lruCache=function(R){R=+R||1E4;let v,w,p;const r=()=>{v={};w={};p=0},C=(D,G)=>{++p>R&&(w=v,v={},p=1);return v[D]=G};r();return{clear:r,has:D=>Ga(v,D)||Ga(w,D),get:D=>Ga(v,D)?v[D]:Ga(w,D)?C(D,w[D]):void 0,set:(D,G)=>Ga(v,D)?v[D]=G:C(D,G)}};n.merge=function(R,v,w,p){const r=v.length,C=w.length;if(!C)return v;if(!r)return w;p=p||new v.constructor(r+C);let D=0,G=0,B=0;for(;D<r&&G<C;++B)p[B]=0<R(v[D],w[G])?w[G++]:v[D++];for(;D<r;++D,++B)p[B]=v[D];for(;G<
C;++G,++B)p[B]=w[G];return p};n.mergeConfig=function(...R){return R.reduce((v,w)=>{for(const p in w)"signals"===p?v.signals=qb(v.signals,w.signals):bb(v,p,w[p],"legend"===p?{layout:1}:"style"===p?!0:null);return v},{})};n.one=ob;n.pad=function(R,v,w,p){w=w||" ";R+="";v-=R.length;return 0>=v?R:"left"===p?Ma(w,v)+R:"center"===p?Ma(w,~~(v/2))+R+Ma(w,Math.ceil(v/2)):R+Ma(w,v)};n.panLinear=function(R,v){return Ha(R,v,Wa,hb)};n.panLog=function(R,v){var w=Math.sign(R[0]);return Ha(R,v,na(w),T(w))};n.panPow=
function(R,v,w){return Ha(R,v,ea(w),ea(1/w))};n.panSymlog=function(R,v,w){return Ha(R,v,O(w),W(w))};n.peek=sb;n.quarter=function(R){return 1+~~((new Date(R)).getMonth()/3)};n.repeat=Ma;n.span=function(R){return R&&sb(R)-R[0]||0};n.splitAccessPath=fb;n.stringValue=ja;n.toBoolean=function(R){return null==R||""===R?null:R&&"false"!==R&&"0"!==R?!!R:!1};n.toDate=function(R,v){v=v||ma;return null==R||""===R?null:v(R)};n.toNumber=Wa;n.toSet=function(R){const v={},w=R.length;for(let p=0;p<w;++p)v[R[p]]=!0;
return v};n.toString=function(R){return null==R||""===R?null:R+""};n.truncate=function(R,v,w,p){p=null!=p?p:"…";R+="";const r=R.length,C=Math.max(0,v-p.length);return r<=v?R:"left"===w?p+R.slice(r-C):"center"===w?R.slice(0,Math.ceil(C/2))+p+R.slice(r-~~(C/2)):R.slice(0,C)+p};n.truthy=$a;n.utcquarter=function(R){return 1+~~((new Date(R)).getUTCMonth()/3)};n.visitArray=function(R,v,w){if(R)if(v){const p=R.length;for(let r=0;r<p;++r){const C=v(R[r]);C&&w(C,r,R)}}else R.forEach(w)};n.writeConfig=bb;n.zero=
cb;n.zoomLinear=function(R,v,w){return Ia(R,v,w,Wa,hb)};n.zoomLog=function(R,v,w){const p=Math.sign(R[0]);return Ia(R,v,w,na(p),T(p))};n.zoomPow=function(R,v,w,p){return Ia(R,v,w,ea(p),ea(1/p))};n.zoomSymlog=function(R,v,w,p){return Ia(R,v,w,O(p),W(p))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[17]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(p,r){return p<r?-1:p>r?1:p>=r?0:NaN}function ca(p){function r(G,B,fa,wa){null==fa&&(fa=0);null==wa&&(wa=G.length);for(;fa<wa;){const la=fa+wa>>>1;0>D(G[la],B)?fa=la+1:wa=la}return fa}let C=p,D=p;1===p.length&&(C=(G,B)=>p(G)-B,D=Sa(p));
return{left:r,center:function(G,B,fa,wa){null==fa&&(fa=0);null==wa&&(wa=G.length);wa=r(G,B,fa,wa-1);return wa>fa&&C(G[wa-1],B)>-C(G[wa],B)?wa-1:wa},right:function(G,B,fa,wa){null==fa&&(fa=0);null==wa&&(wa=G.length);for(;fa<wa;){const la=fa+wa>>>1;0<D(G[la],B)?wa=la:fa=la+1}return fa}}}function Sa(p){return(r,C)=>x(p(r),C)}function Wb(p){return null===p?NaN:+p}function*fb(p,r){if(void 0===r)for(var C of p)null!=C&&(C=+C)>=C&&(yield C);else{C=-1;for(let D of p)null!=(D=r(D,++C,p))&&(D=+D)>=D&&(yield D)}}
function ub(p,r){let C=0;if(void 0===r)for(var D of p)null!=D&&(D=+D)>=D&&++C;else{D=-1;for(let G of p)null!=(G=r(G,++D,p))&&(G=+G)>=G&&++C}return C}function Qb(p){return p.length|0}function Bb(p){return!(0<p)}function bb(p){return"object"!==typeof p||"length"in p?p:Array.from(p)}function qb(p){return r=>p(...r)}function sb(p,r){let C=0,D,G=0,B=0;if(void 0===r)for(var fa of p)null!=fa&&(fa=+fa)>=fa&&(D=fa-G,G+=D/++C,B+=D*(fa-G));else{fa=-1;for(let wa of p)null!=(wa=r(wa,++fa,p))&&(wa=+wa)>=wa&&(D=
wa-G,G+=D/++C,B+=D*(wa-G))}if(1<C)return B/(C-1)}function Wa(p,r){return(p=sb(p,r))?Math.sqrt(p):p}function Ha(p,r){let C,D;if(void 0===r)for(var G of p)null!=G&&(void 0===C?G>=G&&(C=D=G):(C>G&&(C=G),D<G&&(D=G)));else{G=-1;for(let B of p)null!=(B=r(B,++G,p))&&(void 0===C?B>=B&&(C=D=B):(C>B&&(C=B),D<B&&(D=B)))}return[C,D]}function Ia(p){return p}function Ya(p){if(1!==p.length)throw Error("duplicate key");return p[0]}function mb(p,r,C,D){return function wa(B,fa){if(fa>=D.length)return C(B);const la=
new Map,Ta=D[fa++];let Ja=-1;for(const Z of B){const sa=Ta(Z,++Ja,B),eb=la.get(sa);eb?eb.push(Z):la.set(sa,[Z])}for(const [Z,sa]of la)la.set(Z,wa(sa,fa));return r(la)}(p,0)}function Ea(p){return function(){return p}}function Ga(p,r,C){var D,G=-1,B;r=+r;p=+p;C=+C;if(p===r&&0<C)return[p];if(D=r<p){var fa=p;p=r;r=fa}if(0===(B=jb(p,r,C))||!isFinite(B))return[];if(0<B)for(p=Math.ceil(p/B),r=Math.floor(r/B),r=Array(fa=Math.ceil(r-p+1));++G<fa;)r[G]=(p+G)*B;else for(B=-B,p=Math.ceil(p*B),r=Math.floor(r*
B),r=Array(fa=Math.ceil(r-p+1));++G<fa;)r[G]=(p+G)/B;D&&r.reverse();return r}function jb(p,r,C){r=(r-p)/Math.max(0,C);p=Math.floor(Math.log(r)/Math.LN10);r/=Math.pow(10,p);return 0<=p?(r>=ma?10:r>=R?5:r>=v?2:1)*Math.pow(10,p):-Math.pow(10,-p)/(r>=ma?10:r>=R?5:r>=v?2:1)}function Ca(p,r,C){let D;for(;;){const G=jb(p,r,C);if(G===D||0===G||!isFinite(G))return[p,r];0<G?(p=Math.floor(p/G)*G,r=Math.ceil(r/G)*G):0>G&&(p=Math.ceil(p*G)/G,r=Math.floor(r*G)/G);D=G}}function ab(p){return Math.ceil(Math.log(ub(p))/
Math.LN2)+1}function Ma(){function p(G){Array.isArray(G)||(G=Array.from(G));var B,fa=G.length,wa=Array(fa);for(B=0;B<fa;++B)wa[B]=r(G[B],B,G);var la=C(wa),Ta=la[0];la=la[1];var Ja=D(wa,Ta,la);if(!Array.isArray(Ja)){B=la;var Z=+Ja;C===Ha&&([Ta,la]=Ca(Ta,la,Z));Ja=Ga(Ta,la,Z);Ja[Ja.length-1]>=la&&(B>=la&&C===Ha?(B=jb(Ta,la,Z),isFinite(B)&&(0<B?la=(Math.floor(la/B)+1)*B:0>B&&(la=(Math.ceil(la*-B)+1)/-B))):Ja.pop())}for(Z=Ja.length;Ja[0]<=Ta;)Ja.shift(),--Z;for(;Ja[Z-1]>la;)Ja.pop(),--Z;var sa=Array(Z+
1);for(B=0;B<=Z;++B){var eb=sa[B]=[];eb.x0=0<B?Ja[B-1]:Ta;eb.x1=B<Z?Ja[B]:la}for(B=0;B<fa;++B)eb=wa[B],Ta<=eb&&eb<=la&&sa[db(Ja,eb,0,Z)].push(G[B]);return sa}var r=Ia,C=Ha,D=ab;p.value=function(G){return arguments.length?(r="function"===typeof G?G:Ea(G),p):r};p.domain=function(G){return arguments.length?(C="function"===typeof G?G:Ea([G[0],G[1]]),p):C};p.thresholds=function(G){return arguments.length?(D="function"===typeof G?G:Array.isArray(G)?Ea(xa.call(G)):Ea(G),p):D};return p}function ja(p,r){let C;
if(void 0===r)for(var D of p)null!=D&&(C<D||void 0===C&&D>=D)&&(C=D);else{D=-1;for(let G of p)null!=(G=r(G,++D,p))&&(C<G||void 0===C&&G>=G)&&(C=G)}return C}function Aa(p,r){let C;if(void 0===r)for(var D of p)null!=D&&(C>D||void 0===C&&D>=D)&&(C=D);else{D=-1;for(let G of p)null!=(G=r(G,++D,p))&&(C>G||void 0===C&&G>=G)&&(C=G)}return C}function Qa(p,r,C=0,D=p.length-1,G=x){for(;D>C;){if(600<D-C){var B=D-C+1,fa=r-C+1,wa=Math.log(B),la=.5*Math.exp(2*wa/3);wa=.5*Math.sqrt(wa*la*(B-la)/B)*(0>fa-B/2?-1:1);
Qa(p,r,Math.max(C,Math.floor(r-fa*la/B+wa)),Math.min(D,Math.floor(r+(B-fa)*la/B+wa)),G)}B=p[r];fa=C;la=D;Xa(p,C,r);for(0<G(p[D],B)&&Xa(p,C,D);fa<la;){Xa(p,fa,la);++fa;for(--la;0>G(p[fa],B);)++fa;for(;0<G(p[la],B);)--la}0===G(p[C],B)?Xa(p,C,la):(++la,Xa(p,la,D));la<=r&&(C=la+1);r<=la&&(D=la-1)}return p}function Xa(p,r,C){const D=p[r];p[r]=p[C];p[C]=D}function hb(p,r,C){p=Float64Array.from(fb(p,C));if(C=p.length){if(0>=(r=+r)||2>C)return Aa(p);if(1<=r)return ja(p);r*=C-1;C=Math.floor(r);var D=ja(Qa(p,
C).subarray(0,C+1));p=Aa(p.subarray(C+1));return D+(p-D)*(r-C)}}function cb(p,r){let C,D=-1,G=-1;if(void 0===r)for(const B of p)++G,null!=B&&(C<B||void 0===C&&B>=B)&&(C=B,D=G);else for(let B of p)null!=(B=r(B,++G,p))&&(C<B||void 0===C&&B>=B)&&(C=B,D=G);return D}function*ob(p){for(const r of p)yield*r}function $a(p,r){let C,D=-1,G=-1;if(void 0===r)for(const B of p)++G,null!=B&&(C>B||void 0===C&&B>=B)&&(C=B,D=G);else for(let B of p)null!=(B=r(B,++G,p))&&(C>B||void 0===C&&B>=B)&&(C=B,D=G);return D}function Q(p,
r){return[p,r]}function H(p,r){return Array.from(r,C=>p[C])}function T(p,r=x){if(1===r.length)return $a(p,r);let C,D=-1,G=-1;for(const B of p)if(++G,0>D?0===r(B,B):0>r(B,C))C=B,D=G;return D}function na(p){return function(r,C=0,D=r.length){for(D-=C=+C;D;){const G=p()*D--|0,B=r[D+C];r[D+C]=r[G+C];r[G+C]=B}return r}}function O(p){if(!(B=p.length))return[];for(var r=-1,C=Aa(p,W),D=Array(C);++r<C;)for(var G=-1,B,fa=D[r]=Array(B);++G<B;)fa[G]=p[G][r];return D}function W(p){return p.length}function ea(p){return p instanceof
Set?p:new Set(p)}function pa(p,r){p=p[Symbol.iterator]();const C=new Set;for(const D of r){if(C.has(D))continue;let G;for(;{value:r,done:G}=p.next();){if(G)return!1;C.add(r);if(Object.is(D,r))break}}return!0}var Ua=ca(x);const db=Ua.right;Ua=Ua.left;const U=ca(Wb).center;class va{constructor(){this._partials=new Float64Array(32);this._n=0}add(p){const r=this._partials;let C=0;for(let D=0;D<this._n&&32>D;D++){const G=r[D],B=p+G;(p=Math.abs(p)<Math.abs(G)?p-(B-G):G-(B-p))&&(r[C++]=p);p=B}r[C]=p;this._n=
C+1;return this}valueOf(){const p=this._partials;let r=this._n;let C,D=0;if(0<r){for(D=p[--r];0<r;){var G=D;C=p[--r];D=G+C;if(G=C-(D-G))break}0<r&&(0>G&&0>p[r-1]||0<G&&0<p[r-1])&&(C=2*G,G=D+C,C==G-D&&(D=G))}return D}}var xa=Array.prototype.slice,ma=Math.sqrt(50),R=Math.sqrt(10),v=Math.sqrt(2),w=na(Math.random);n.Adder=va;n.ascending=x;n.bin=Ma;n.bisect=db;n.bisectCenter=U;n.bisectLeft=Ua;n.bisectRight=db;n.bisector=ca;n.count=ub;n.cross=function(...p){const r="function"===typeof p[p.length-1]&&qb(p.pop());
p=p.map(bb);const C=p.map(Qb),D=p.length-1,G=Array(D+1).fill(0),B=[];if(0>D||C.some(Bb))return B;for(;;){B.push(G.map((wa,la)=>p[la][wa]));let fa=D;for(;++G[fa]===C[fa];){if(0===fa)return r?B.map(r):B;G[fa--]=0}}};n.cumsum=function(p,r){var C=0,D=0;return Float64Array.from(p,void 0===r?G=>C+=+G||0:G=>C+=+r(G,D++,p)||0)};n.descending=function(p,r){return r<p?-1:r>p?1:r>=p?0:NaN};n.deviation=Wa;n.difference=function(p,...r){p=new Set(p);for(const C of r)for(const D of C)p.delete(D);return p};n.disjoint=
function(p,r){r=r[Symbol.iterator]();const C=new Set;for(const D of p){if(C.has(D))return!1;let G;for(;({value:p,done:G}=r.next())&&!G;){if(Object.is(D,p))return!1;C.add(p)}}return!0};n.every=function(p,r){if("function"!==typeof r)throw new TypeError("test is not a function");let C=-1;for(const D of p)if(!r(D,++C,p))return!1;return!0};n.extent=Ha;n.filter=function(p,r){if("function"!==typeof r)throw new TypeError("test is not a function");const C=[];let D=-1;for(const G of p)r(G,++D,p)&&C.push(G);
return C};n.fsum=function(p,r){const C=new va;if(void 0===r)for(var D of p)(D=+D)&&C.add(D);else{D=-1;for(let G of p)(G=+r(G,++D,p))&&C.add(G)}return+C};n.greatest=function(p,r=x){let C,D=!1;if(1===r.length){let G;for(const B of p)if(p=r(B),D?0<x(p,G):0===x(p,p))C=B,G=p,D=!0}else for(const G of p)if(D?0<r(G,C):0===r(G,G))C=G,D=!0;return C};n.greatestIndex=function(p,r=x){if(1===r.length)return cb(p,r);let C,D=-1,G=-1;for(const B of p)if(++G,0>D?0===r(B,B):0<r(B,C))C=B,D=G;return D};n.group=function(p,
...r){return mb(p,Ia,Ia,r)};n.groups=function(p,...r){return mb(p,Array.from,Ia,r)};n.histogram=Ma;n.index=function(p,...r){return mb(p,Ia,Ya,r)};n.indexes=function(p,...r){return mb(p,Array.from,Ya,r)};n.intersection=function(p,...r){p=new Set(p);r=r.map(ea);a:for(const C of p)for(const D of r)if(!D.has(C)){p.delete(C);continue a}return p};n.least=function(p,r=x){let C,D=!1;if(1===r.length){let G;for(const B of p)if(p=r(B),D?0>x(p,G):0===x(p,p))C=B,G=p,D=!0}else for(const G of p)if(D?0>r(G,C):0===
r(G,G))C=G,D=!0;return C};n.leastIndex=T;n.map=function(p,r){if("function"!==typeof p[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof r)throw new TypeError("mapper is not a function");return Array.from(p,(C,D)=>r(C,D,p))};n.max=ja;n.maxIndex=cb;n.mean=function(p,r){let C=0,D=0;if(void 0===r)for(var G of p)null!=G&&(G=+G)>=G&&(++C,D+=G);else{G=-1;for(let B of p)null!=(B=r(B,++G,p))&&(B=+B)>=B&&(++C,D+=B)}if(C)return D/C};n.median=function(p,r){return hb(p,.5,r)};
n.merge=function(p){return Array.from(ob(p))};n.min=Aa;n.minIndex=$a;n.nice=Ca;n.pairs=function(p,r=Q){const C=[];let D,G=!1;for(const B of p)G&&C.push(r(D,B)),D=B,G=!0;return C};n.permute=H;n.quantile=hb;n.quantileSorted=function(p,r,C=Wb){if(D=p.length){if(0>=(r=+r)||2>D)return+C(p[0],0,p);if(1<=r)return+C(p[D-1],D-1,p);var D;r*=D-1;D=Math.floor(r);var G=+C(p[D],D,p);p=+C(p[D+1],D+1,p);return G+(p-G)*(r-D)}};n.quickselect=Qa;n.range=function(p,r,C){p=+p;r=+r;C=2>(G=arguments.length)?(r=p,p=0,1):
3>G?1:+C;for(var D=-1,G=Math.max(0,Math.ceil((r-p)/C))|0,B=Array(G);++D<G;)B[D]=p+D*C;return B};n.reduce=function(p,r,C){if("function"!==typeof r)throw new TypeError("reducer is not a function");const D=p[Symbol.iterator]();let G,B,fa=-1;if(3>arguments.length){({done:G,value:C}=D.next());if(G)return;++fa}for(;{done:G,value:B}=D.next(),!G;)C=r(C,B,++fa,p);return C};n.reverse=function(p){if("function"!==typeof p[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(p).reverse()};
n.rollup=function(p,r,...C){return mb(p,Ia,r,C)};n.rollups=function(p,r,...C){return mb(p,Array.from,r,C)};n.scan=function(p,r){p=T(p,r);return 0>p?void 0:p};n.shuffle=w;n.shuffler=na;n.some=function(p,r){if("function"!==typeof r)throw new TypeError("test is not a function");let C=-1;for(const D of p)if(r(D,++C,p))return!0;return!1};n.sort=function(p,r=x){if("function"!==typeof p[Symbol.iterator])throw new TypeError("values is not iterable");p=Array.from(p);return 1===r.length?(r=p.map(r),H(p,p.map((C,
D)=>D).sort((C,D)=>x(r[C],r[D])))):p.sort(r)};n.subset=function(p,r){return pa(r,p)};n.sum=function(p,r){let C=0;if(void 0===r)for(var D of p){if(D=+D)C+=D}else{D=-1;for(let G of p)if(G=+r(G,++D,p))C+=G}return C};n.superset=pa;n.thresholdFreedmanDiaconis=function(p,r,C){return Math.ceil((C-r)/(2*(hb(p,.75)-hb(p,.25))*Math.pow(ub(p),-1/3)))};n.thresholdScott=function(p,r,C){return Math.ceil((C-r)/(3.5*Wa(p)*Math.pow(ub(p),-1/3)))};n.thresholdSturges=ab;n.tickIncrement=jb;n.tickStep=function(p,r,C){var D=
Math.abs(r-p)/Math.max(0,C);C=Math.pow(10,Math.floor(Math.log(D)/Math.LN10));D/=C;D>=ma?C*=10:D>=R?C*=5:D>=v&&(C*=2);return r<p?-C:C};n.ticks=Ga;n.transpose=O;n.union=function(...p){const r=new Set;for(const C of p)for(const D of C)r.add(D);return r};n.variance=sb;n.zip=function(){return O(arguments)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[18]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(Ea,Ga){if(0>(Ga=(Ea=Ga?Ea.toExponential(Ga-1):Ea.toExponential()).indexOf("e")))return null;var jb=Ea.slice(0,Ga);return[1<jb.length?jb[0]+jb.slice(2):jb,+Ea.slice(Ga+1)]}function ca(Ea){return Ea=x(Math.abs(Ea)),Ea?Ea[1]:NaN}function Sa(Ea,
Ga){return function(jb,Ca){for(var ab=jb.length,Ma=[],ja=0,Aa=Ea[0],Qa=0;0<ab&&0<Aa;){Qa+Aa+1>Ca&&(Aa=Math.max(1,Ca-Qa));Ma.push(jb.substring(ab-=Aa,ab+Aa));if((Qa+=Aa+1)>Ca)break;Aa=Ea[ja=(ja+1)%Ea.length]}return Ma.reverse().join(Ga)}}function Wb(Ea){return function(Ga){return Ga.replace(/[0-9]/g,function(jb){return Ea[+jb]})}}function fb(Ea){if(!(Ga=sb.exec(Ea)))throw Error("invalid format: "+Ea);var Ga;return new ub({fill:Ga[1],align:Ga[2],sign:Ga[3],symbol:Ga[4],zero:Ga[5],width:Ga[6],comma:Ga[7],
precision:Ga[8]&&Ga[8].slice(1),trim:Ga[9],type:Ga[10]})}function ub(Ea){this.fill=void 0===Ea.fill?" ":Ea.fill+"";this.align=void 0===Ea.align?"\x3e":Ea.align+"";this.sign=void 0===Ea.sign?"-":Ea.sign+"";this.symbol=void 0===Ea.symbol?"":Ea.symbol+"";this.zero=!!Ea.zero;this.width=void 0===Ea.width?void 0:+Ea.width;this.comma=!!Ea.comma;this.precision=void 0===Ea.precision?void 0:+Ea.precision;this.trim=!!Ea.trim;this.type=void 0===Ea.type?"":Ea.type+""}function Qb(Ea,Ga){Ga=x(Ea,Ga);if(!Ga)return Ea+
"";Ea=Ga[0];Ga=Ga[1];return 0>Ga?"0."+Array(-Ga).join("0")+Ea:Ea.length>Ga+1?Ea.slice(0,Ga+1)+"."+Ea.slice(Ga+1):Ea+Array(Ga-Ea.length+2).join("0")}function Bb(Ea){return Ea}function bb(Ea){function Ga(hb){function cb(xa){var ma=Ua,R=db,v,w;if("c"===pa)R=U(xa)+R,xa="";else{xa=+xa;var p=0>xa||0>1/xa;xa=isNaN(xa)?Xa:U(Math.abs(xa),W);if(ea){var r=xa.length,C=1,D=-1;a:for(;C<r;++C)switch(xa[C]){case ".":D=v=C;break;case "0":0===D&&(D=C);v=C;break;default:if(!+xa[C])break a;0<D&&(D=0)}xa=0<D?xa.slice(0,
D)+xa.slice(v+1):xa}p&&0===+xa&&"+"!==Q&&(p=!1);ma=(p?"("===Q?Q:Qa:"-"===Q||"("===Q?"":Q)+ma;R=("s"===pa?Ya[8+Wa/3]:"")+R+(p&&"("===Q?")":"");if(va)for(p=-1,v=xa.length;++p<v;)if(w=xa.charCodeAt(p),48>w||57<w){R=(46===w?Ma+xa.slice(p+1):xa.slice(p))+R;xa=xa.slice(0,p);break}}O&&!T&&(xa=jb(xa,Infinity));w=ma.length+xa.length+R.length;p=w<na?Array(na-w+1).join(ob):"";O&&T&&(xa=jb(p+xa,p.length?na-R.length:Infinity),p="");switch($a){case "\x3c":xa=ma+xa+R+p;break;case "\x3d":xa=ma+p+xa+R;break;case "^":xa=
p.slice(0,w=p.length>>1)+ma+xa+R+p.slice(w);break;default:xa=p+ma+xa+R}return ja(xa)}hb=fb(hb);var ob=hb.fill,$a=hb.align,Q=hb.sign,H=hb.symbol,T=hb.zero,na=hb.width,O=hb.comma,W=hb.precision,ea=hb.trim,pa=hb.type;"n"===pa?(O=!0,pa="g"):Ha[pa]||(void 0===W&&(W=12),ea=!0,pa="g");if(T||"0"===ob&&"\x3d"===$a)T=!0,ob="0",$a="\x3d";var Ua="$"===H?Ca:"#"===H&&/[boxX]/.test(pa)?"0"+pa.toLowerCase():"",db="$"===H?ab:/[%p]/.test(pa)?Aa:"",U=Ha[pa],va=/[defgprs%]/.test(pa);W=void 0===W?6:/[gprs]/.test(pa)?
Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));cb.toString=function(){return hb+""};return cb}var jb=void 0===Ea.grouping||void 0===Ea.thousands?Bb:Sa(Ia.call(Ea.grouping,Number),Ea.thousands+""),Ca=void 0===Ea.currency?"":Ea.currency[0]+"",ab=void 0===Ea.currency?"":Ea.currency[1]+"",Ma=void 0===Ea.decimal?".":Ea.decimal+"",ja=void 0===Ea.numerals?Bb:Wb(Ia.call(Ea.numerals,String)),Aa=void 0===Ea.percent?"%":Ea.percent+"",Qa=void 0===Ea.minus?"−":Ea.minus+"",Xa=void 0===Ea.nan?"NaN":Ea.nan+
"";return{format:Ga,formatPrefix:function(hb,cb){var ob=Ga((hb=fb(hb),hb.type="f",hb));hb=3*Math.max(-8,Math.min(8,Math.floor(ca(cb)/3)));var $a=Math.pow(10,-hb),Q=Ya[8+hb/3];return function(H){return ob($a*H)+Q}}}}function qb(Ea){mb=bb(Ea);n.format=mb.format;n.formatPrefix=mb.formatPrefix;return mb}var sb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;fb.prototype=ub.prototype;ub.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?
"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Wa,Ha={"%":(Ea,Ga)=>(100*Ea).toFixed(Ga),b:Ea=>Math.round(Ea).toString(2),c:Ea=>Ea+"",d:function(Ea){return 1E21<=Math.abs(Ea=Math.round(Ea))?Ea.toLocaleString("en").replace(/,/g,""):Ea.toString(10)},e:(Ea,Ga)=>Ea.toExponential(Ga),f:(Ea,Ga)=>Ea.toFixed(Ga),g:(Ea,Ga)=>Ea.toPrecision(Ga),o:Ea=>Math.round(Ea).toString(8),p:(Ea,
Ga)=>Qb(100*Ea,Ga),r:Qb,s:function(Ea,Ga){var jb=x(Ea,Ga);if(!jb)return Ea+"";var Ca=jb[0];jb=jb[1];jb=jb-(Wa=3*Math.max(-8,Math.min(8,Math.floor(jb/3))))+1;var ab=Ca.length;return jb===ab?Ca:jb>ab?Ca+Array(jb-ab+1).join("0"):0<jb?Ca.slice(0,jb)+"."+Ca.slice(jb):"0."+Array(1-jb).join("0")+x(Ea,Math.max(0,Ga+jb-1))[0]},X:Ea=>Math.round(Ea).toString(16).toUpperCase(),x:Ea=>Math.round(Ea).toString(16)},Ia=Array.prototype.map,Ya="y z a f p n µ m  k M G T P E Z Y".split(" "),mb;qb({thousands:",",grouping:[3],
currency:["$",""]});n.FormatSpecifier=ub;n.formatDefaultLocale=qb;n.formatLocale=bb;n.formatSpecifier=fb;n.precisionFixed=function(Ea){return Math.max(0,-ca(Math.abs(Ea)))};n.precisionPrefix=function(Ea,Ga){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ca(Ga)/3)))-ca(Math.abs(Ea)))};n.precisionRound=function(Ea,Ga){Ea=Math.abs(Ea);Ga=Math.abs(Ga)-Ea;return Math.max(0,ca(Ga)-ca(Ea))+1};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[19]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(Ja,Z,sa,eb){function xb(Kb){return Ja(Kb=0===arguments.length?new Date:new Date(+Kb)),Kb}xb.floor=function(Kb){return Ja(Kb=new Date(+Kb)),Kb};xb.ceil=function(Kb){return Ja(Kb=new Date(Kb-1)),Z(Kb,1),Ja(Kb),Kb};xb.round=function(Kb){var ec=xb(Kb),Ec=xb.ceil(Kb);return Kb-
ec<Ec-Kb?ec:Ec};xb.offset=function(Kb,ec){return Z(Kb=new Date(+Kb),null==ec?1:Math.floor(ec)),Kb};xb.range=function(Kb,ec,Ec){var gd=[],Dc;Kb=xb.ceil(Kb);Ec=null==Ec?1:Math.floor(Ec);if(!(Kb<ec&&0<Ec))return gd;do gd.push(Dc=new Date(+Kb)),Z(Kb,Ec),Ja(Kb);while(Dc<Kb&&Kb<ec);return gd};xb.filter=function(Kb){return x(function(ec){if(ec>=ec)for(;Ja(ec),!Kb(ec);)ec.setTime(ec-1)},function(ec,Ec){if(ec>=ec)if(0>Ec)for(;0>=++Ec;)for(;Z(ec,-1),!Kb(ec););else for(;0<=--Ec;)for(;Z(ec,1),!Kb(ec););})};sa&&
(xb.count=function(Kb,ec){Wb.setTime(+Kb);fb.setTime(+ec);Ja(Wb);Ja(fb);return Math.floor(sa(Wb,fb))},xb.every=function(Kb){Kb=Math.floor(Kb);return isFinite(Kb)&&0<Kb?1<Kb?xb.filter(eb?function(ec){return 0===eb(ec)%Kb}:function(ec){return 0===xb.count(0,ec)%Kb}):xb:null});return xb}function ca(Ja){return x(function(Z){Z.setDate(Z.getDate()-(Z.getDay()+7-Ja)%7);Z.setHours(0,0,0,0)},function(Z,sa){Z.setDate(Z.getDate()+7*sa)},function(Z,sa){return(sa-Z-6E4*(sa.getTimezoneOffset()-Z.getTimezoneOffset()))/
6048E5})}function Sa(Ja){return x(function(Z){Z.setUTCDate(Z.getUTCDate()-(Z.getUTCDay()+7-Ja)%7);Z.setUTCHours(0,0,0,0)},function(Z,sa){Z.setUTCDate(Z.getUTCDate()+7*sa)},function(Z,sa){return(sa-Z)/6048E5})}var Wb=new Date,fb=new Date,ub=x(function(){},function(Ja,Z){Ja.setTime(+Ja+Z)},function(Ja,Z){return Z-Ja});ub.every=function(Ja){Ja=Math.floor(Ja);return isFinite(Ja)&&0<Ja?1<Ja?x(function(Z){Z.setTime(Math.floor(Z/Ja)*Ja)},function(Z,sa){Z.setTime(+Z+sa*Ja)},function(Z,sa){return(sa-Z)/Ja}):
ub:null};var Qb=ub.range,Bb=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds())},function(Ja,Z){Ja.setTime(+Ja+1E3*Z)},function(Ja,Z){return(Z-Ja)/1E3},function(Ja){return Ja.getUTCSeconds()}),bb=Bb.range,qb=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds()-1E3*Ja.getSeconds())},function(Ja,Z){Ja.setTime(+Ja+6E4*Z)},function(Ja,Z){return(Z-Ja)/6E4},function(Ja){return Ja.getMinutes()}),sb=qb.range,Wa=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds()-1E3*Ja.getSeconds()-6E4*Ja.getMinutes())},function(Ja,
Z){Ja.setTime(+Ja+36E5*Z)},function(Ja,Z){return(Z-Ja)/36E5},function(Ja){return Ja.getHours()}),Ha=Wa.range,Ia=x(Ja=>Ja.setHours(0,0,0,0),(Ja,Z)=>Ja.setDate(Ja.getDate()+Z),(Ja,Z)=>(Z-Ja-6E4*(Z.getTimezoneOffset()-Ja.getTimezoneOffset()))/864E5,Ja=>Ja.getDate()-1),Ya=Ia.range,mb=ca(0),Ea=ca(1),Ga=ca(2),jb=ca(3),Ca=ca(4),ab=ca(5),Ma=ca(6),ja=mb.range,Aa=Ea.range,Qa=Ga.range,Xa=jb.range,hb=Ca.range,cb=ab.range,ob=Ma.range,$a=x(function(Ja){Ja.setDate(1);Ja.setHours(0,0,0,0)},function(Ja,Z){Ja.setMonth(Ja.getMonth()+
Z)},function(Ja,Z){return Z.getMonth()-Ja.getMonth()+12*(Z.getFullYear()-Ja.getFullYear())},function(Ja){return Ja.getMonth()}),Q=$a.range,H=x(function(Ja){Ja.setMonth(0,1);Ja.setHours(0,0,0,0)},function(Ja,Z){Ja.setFullYear(Ja.getFullYear()+Z)},function(Ja,Z){return Z.getFullYear()-Ja.getFullYear()},function(Ja){return Ja.getFullYear()});H.every=function(Ja){return isFinite(Ja=Math.floor(Ja))&&0<Ja?x(function(Z){Z.setFullYear(Math.floor(Z.getFullYear()/Ja)*Ja);Z.setMonth(0,1);Z.setHours(0,0,0,0)},
function(Z,sa){Z.setFullYear(Z.getFullYear()+sa*Ja)}):null};var T=H.range,na=x(function(Ja){Ja.setUTCSeconds(0,0)},function(Ja,Z){Ja.setTime(+Ja+6E4*Z)},function(Ja,Z){return(Z-Ja)/6E4},function(Ja){return Ja.getUTCMinutes()}),O=na.range,W=x(function(Ja){Ja.setUTCMinutes(0,0,0)},function(Ja,Z){Ja.setTime(+Ja+36E5*Z)},function(Ja,Z){return(Z-Ja)/36E5},function(Ja){return Ja.getUTCHours()}),ea=W.range,pa=x(function(Ja){Ja.setUTCHours(0,0,0,0)},function(Ja,Z){Ja.setUTCDate(Ja.getUTCDate()+Z)},function(Ja,
Z){return(Z-Ja)/864E5},function(Ja){return Ja.getUTCDate()-1}),Ua=pa.range,db=Sa(0),U=Sa(1),va=Sa(2),xa=Sa(3),ma=Sa(4),R=Sa(5),v=Sa(6),w=db.range,p=U.range,r=va.range,C=xa.range,D=ma.range,G=R.range,B=v.range,fa=x(function(Ja){Ja.setUTCDate(1);Ja.setUTCHours(0,0,0,0)},function(Ja,Z){Ja.setUTCMonth(Ja.getUTCMonth()+Z)},function(Ja,Z){return Z.getUTCMonth()-Ja.getUTCMonth()+12*(Z.getUTCFullYear()-Ja.getUTCFullYear())},function(Ja){return Ja.getUTCMonth()}),wa=fa.range,la=x(function(Ja){Ja.setUTCMonth(0,
1);Ja.setUTCHours(0,0,0,0)},function(Ja,Z){Ja.setUTCFullYear(Ja.getUTCFullYear()+Z)},function(Ja,Z){return Z.getUTCFullYear()-Ja.getUTCFullYear()},function(Ja){return Ja.getUTCFullYear()});la.every=function(Ja){return isFinite(Ja=Math.floor(Ja))&&0<Ja?x(function(Z){Z.setUTCFullYear(Math.floor(Z.getUTCFullYear()/Ja)*Ja);Z.setUTCMonth(0,1);Z.setUTCHours(0,0,0,0)},function(Z,sa){Z.setUTCFullYear(Z.getUTCFullYear()+sa*Ja)}):null};var Ta=la.range;n.timeDay=Ia;n.timeDays=Ya;n.timeFriday=ab;n.timeFridays=
cb;n.timeHour=Wa;n.timeHours=Ha;n.timeInterval=x;n.timeMillisecond=ub;n.timeMilliseconds=Qb;n.timeMinute=qb;n.timeMinutes=sb;n.timeMonday=Ea;n.timeMondays=Aa;n.timeMonth=$a;n.timeMonths=Q;n.timeSaturday=Ma;n.timeSaturdays=ob;n.timeSecond=Bb;n.timeSeconds=bb;n.timeSunday=mb;n.timeSundays=ja;n.timeThursday=Ca;n.timeThursdays=hb;n.timeTuesday=Ga;n.timeTuesdays=Qa;n.timeWednesday=jb;n.timeWednesdays=Xa;n.timeWeek=mb;n.timeWeeks=ja;n.timeYear=H;n.timeYears=T;n.utcDay=pa;n.utcDays=Ua;n.utcFriday=R;n.utcFridays=
G;n.utcHour=W;n.utcHours=ea;n.utcMillisecond=ub;n.utcMilliseconds=Qb;n.utcMinute=na;n.utcMinutes=O;n.utcMonday=U;n.utcMondays=p;n.utcMonth=fa;n.utcMonths=wa;n.utcSaturday=v;n.utcSaturdays=B;n.utcSecond=Bb;n.utcSeconds=bb;n.utcSunday=db;n.utcSundays=w;n.utcThursday=ma;n.utcThursdays=D;n.utcTuesday=va;n.utcTuesdays=r;n.utcWednesday=xa;n.utcWednesdays=C;n.utcWeek=db;n.utcWeeks=w;n.utcYear=la;n.utcYears=Ta;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[20]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(19),Rb(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.d3,n.d3))})(this,function(n,x,ca,Sa){function Wb(ea){const pa=x.array(ea).slice(),Ua={};pa.length||x.error("Missing time unit.");pa.forEach(db=>{x.hasOwnProperty(Ea,db)?Ua[db]=1:x.error(`Invalid time unit: ${db}.`)});
1<(Ua.week||Ua.day?1:0)+(Ua.quarter||Ua.month||Ua.date?1:0)+(Ua.dayofyear?1:0)&&x.error(`Incompatible time units: ${ea}`);pa.sort((db,U)=>Ea[db]-Ea[U]);return pa}function fb(ea){jb.setFullYear(ea);jb.setMonth(0);jb.setDate(1);jb.setHours(0,0,0,0);return jb}function ub(ea){return ca.timeDay.count(fb(ea.getFullYear())-1,ea)}function Qb(ea){return ca.timeWeek.count(fb(ea.getFullYear())-1,ea)}function Bb(ea,pa,Ua,db,U,va,xa){return 0<=ea&&100>ea?(pa=new Date(-1,pa,Ua,db,U,va,xa),pa.setFullYear(ea),pa):
new Date(ea,pa,Ua,db,U,va,xa)}function bb(ea){const pa=Date.UTC(ea.getUTCFullYear(),0,1);return ca.utcDay.count(pa-1,ea)}function qb(ea){const pa=Date.UTC(ea.getUTCFullYear(),0,1);return ca.utcWeek.count(pa-1,ea)}function sb(ea){jb.setTime(Date.UTC(ea,0,1));return jb.getUTCDay()}function Wa(ea,pa,Ua,db,U,va,xa){return 0<=ea&&100>ea?(ea=new Date(Date.UTC(-1,pa,Ua,db,U,va,xa)),ea.setUTCFullYear(Ua.y),ea):new Date(Date.UTC(ea,pa,Ua,db,U,va,xa))}function Ha(ea,pa,Ua,db,U){const va=pa||1,xa=x.peek(ea);
pa=(G,B,fa)=>{fa=fa||G;return Ia(Ua[fa],db[fa],G===xa&&va,B)};const ma=new Date;ea=x.toSet(ea);const R=ea.year?pa("year"):x.constant(2012),v=ea.month?pa("month"):ea.quarter?pa("quarter"):x.zero,w=ea.week&&ea.day?pa("day",1,"weekday"):ea.week?pa("week",1):ea.day?pa("day",1):ea.date?pa("date",1):ea.dayofyear?pa("dayofyear",1):x.one,p=ea.hours?pa("hours"):x.zero,r=ea.minutes?pa("minutes"):x.zero,C=ea.seconds?pa("seconds"):x.zero,D=ea.milliseconds?pa("milliseconds"):x.zero;return function(G){ma.setTime(+G);
G=R(ma);return U(G,v(ma),w(ma,G),p(ma),r(ma),C(ma),D(ma))}}function Ia(ea,pa,Ua,db){const U=1>=Ua?ea:db?(va,xa)=>db+Ua*Math.floor((ea(va,xa)-db)/Ua):(va,xa)=>Ua*Math.floor(ea(va,xa)/Ua);return pa?(va,xa)=>pa(U(va,xa),xa):U}function Ya(ea,pa,Ua){return pa+7*ea-(Ua+6)%7}const mb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ea=mb.reduce((ea,pa,Ua)=>(ea[pa]=1+Ua,ea),{}),Ga={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",["day"]:"%a ",
["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},jb=new Date,Ca={["year"]:ea=>ea.getFullYear(),["quarter"]:ea=>Math.floor(ea.getMonth()/3),["month"]:ea=>ea.getMonth(),["date"]:ea=>ea.getDate(),["hours"]:ea=>ea.getHours(),["minutes"]:ea=>ea.getMinutes(),["seconds"]:ea=>ea.getSeconds(),["milliseconds"]:ea=>ea.getMilliseconds(),["dayofyear"]:ea=>ub(ea),["week"]:ea=>Qb(ea),
["weekday"]:(ea,pa)=>Ya(Qb(ea),ea.getDay(),fb(pa).getDay()),["day"]:(ea,pa)=>Ya(1,ea.getDay(),fb(pa).getDay())},ab={["quarter"]:ea=>3*ea,["week"]:(ea,pa)=>Ya(ea,0,fb(pa).getDay())},Ma={["year"]:ea=>ea.getUTCFullYear(),["quarter"]:ea=>Math.floor(ea.getUTCMonth()/3),["month"]:ea=>ea.getUTCMonth(),["date"]:ea=>ea.getUTCDate(),["hours"]:ea=>ea.getUTCHours(),["minutes"]:ea=>ea.getUTCMinutes(),["seconds"]:ea=>ea.getUTCSeconds(),["milliseconds"]:ea=>ea.getUTCMilliseconds(),["dayofyear"]:ea=>bb(ea),["week"]:ea=>
qb(ea),["day"]:(ea,pa)=>Ya(1,ea.getUTCDay(),sb(pa)),["weekday"]:(ea,pa)=>Ya(qb(ea),ea.getUTCDay(),sb(pa))},ja={["quarter"]:ea=>3*ea,["week"]:(ea,pa)=>Ya(ea,0,sb(pa))},Aa={["year"]:ca.timeYear,["quarter"]:ca.timeMonth.every(3),["month"]:ca.timeMonth,["week"]:ca.timeWeek,["date"]:ca.timeDay,["day"]:ca.timeDay,["dayofyear"]:ca.timeDay,["hours"]:ca.timeHour,["minutes"]:ca.timeMinute,["seconds"]:ca.timeSecond,["milliseconds"]:ca.timeMillisecond},Qa={["year"]:ca.utcYear,["quarter"]:ca.utcMonth.every(3),
["month"]:ca.utcMonth,["week"]:ca.utcWeek,["date"]:ca.utcDay,["day"]:ca.utcDay,["dayofyear"]:ca.utcDay,["hours"]:ca.utcHour,["minutes"]:ca.utcMinute,["seconds"]:ca.utcSecond,["milliseconds"]:ca.utcMillisecond},Xa=6048E5,hb=2592E6,cb=31536E6,ob="year month date hours minutes seconds milliseconds".split(" "),$a=ob.slice(0,-1),Q=$a.slice(0,-1),H=Q.slice(0,-1),T=H.slice(0,-1),na=["year","month"],O=["year"],W=[[$a,1,1E3],[$a,5,5E3],[$a,15,15E3],[$a,30,3E4],[Q,1,6E4],[Q,5,3E5],[Q,15,9E5],[Q,30,18E5],[H,
1,36E5],[H,3,108E5],[H,6,216E5],[H,12,432E5],[T,1,864E5],[["year","week"],1,Xa],[na,1,hb],[na,3,3*hb],[O,1,cb]];n.DATE="date";n.DAY="day";n.DAYOFYEAR="dayofyear";n.HOURS="hours";n.MILLISECONDS="milliseconds";n.MINUTES="minutes";n.MONTH="month";n.QUARTER="quarter";n.SECONDS="seconds";n.TIME_UNITS=mb;n.WEEK="week";n.YEAR="year";n.dayofyear=function(ea){return ub(new Date(ea))};n.timeBin=function(ea){var pa=ea.extent;ea=ea.maxbins||40;var Ua=Math.abs(x.span(pa))/ea;let db=Sa.bisector(U=>U[2]).right(W,
Ua);db===W.length?(Ua=O,pa=Sa.tickStep(pa[0]/cb,pa[1]/cb,ea)):db?(db=W[Ua/W[db-1][2]<W[db][2]/Ua?db-1:db],Ua=db[0],pa=db[1]):(Ua=ob,pa=Math.max(Sa.tickStep(pa[0],pa[1],ea),1));return{units:Ua,step:pa}};n.timeFloor=function(ea,pa){return Ha(ea,pa||1,Ca,ab,Bb)};n.timeInterval=function(ea){return Aa[ea]};n.timeOffset=function(ea,pa,Ua){return(ea=Aa[ea])?ea.offset(pa,Ua):void 0};n.timeSequence=function(ea,pa,Ua,db){return(ea=Aa[ea])?ea.range(pa,Ua,db):void 0};n.timeUnitSpecifier=function(ea,pa){pa=x.extend({},
Ga,pa);ea=Wb(ea);const Ua=ea.length;let db="",U,va,xa;for(U=0;U<Ua;)for(va=ea.length;va>U;--va)if(xa=ea.slice(U,va).join("-"),null!=pa[xa]){db+=pa[xa];U=va;break}return db.trim()};n.timeUnits=Wb;n.utcFloor=function(ea,pa){return Ha(ea,pa||1,Ma,ja,Wa)};n.utcInterval=function(ea){return Qa[ea]};n.utcOffset=function(ea,pa,Ua){return(ea=Qa[ea])?ea.offset(pa,Ua):void 0};n.utcSequence=function(ea,pa,Ua,db){return(ea=Qa[ea])?ea.range(pa,Ua,db):void 0};n.utcdayofyear=function(ea){return bb(new Date(ea))};
n.utcweek=function(ea){return qb(new Date(ea))};n.week=function(ea){return Qb(new Date(ea))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[21]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(19)):"function"===typeof define&&define.amd?define(["exports","d3-time"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ca(La){if(0<=La.y&&100>La.y){var vb=new Date(-1,La.m,La.d,La.H,La.M,La.S,La.L);vb.setFullYear(La.y);return vb}return new Date(La.y,La.m,La.d,La.H,La.M,La.S,La.L)}function Sa(La){if(0<=La.y&&100>La.y){var vb=new Date(Date.UTC(-1,La.m,La.d,La.H,La.M,La.S,
La.L));vb.setUTCFullYear(La.y);return vb}return new Date(Date.UTC(La.y,La.m,La.d,La.H,La.M,La.S,La.L))}function Wb(La,vb,$b){return{y:La,m:vb,d:$b,H:0,M:0,S:0,L:0}}function fb(La){function vb(xc,Ic){return function(Yc){var Uc=[],od=-1,qd=0,Id=xc.length,Ed,Wd;for(Yc instanceof Date||(Yc=new Date(+Yc));++od<Id;)if(37===xc.charCodeAt(od)){Uc.push(xc.slice(qd,od));null!=(qd=$c[Ed=xc.charAt(++od)])?Ed=xc.charAt(++od):qd="e"===Ed?" ":"0";if(Wd=Ic[Ed])Ed=Wd(Yc,qd);Uc.push(Ed);qd=od+1}Uc.push(xc.slice(qd,
od));return Uc.join("")}}function $b(xc,Ic){return function(Yc){var Uc=Wb(1900,void 0,1);if(rd(Uc,xc,Yc+="",0)!=Yc.length)return null;if("Q"in Uc)return new Date(Uc.Q);if("s"in Uc)return new Date(1E3*Uc.s+("L"in Uc?Uc.L:0));!Ic||"Z"in Uc||(Uc.Z=0);"p"in Uc&&(Uc.H=Uc.H%12+12*Uc.p);void 0===Uc.m&&(Uc.m="q"in Uc?Uc.q:0);if("V"in Uc){if(1>Uc.V||53<Uc.V)return null;"w"in Uc||(Uc.w=1);if("Z"in Uc){Yc=Sa(Wb(Uc.y,0,1));var od=Yc.getUTCDay();Yc=4<od||0===od?x.utcMonday.ceil(Yc):x.utcMonday(Yc);Yc=x.utcDay.offset(Yc,
7*(Uc.V-1));Uc.y=Yc.getUTCFullYear();Uc.m=Yc.getUTCMonth();Uc.d=Yc.getUTCDate()+(Uc.w+6)%7}else Yc=ca(Wb(Uc.y,0,1)),od=Yc.getDay(),Yc=4<od||0===od?x.timeMonday.ceil(Yc):x.timeMonday(Yc),Yc=x.timeDay.offset(Yc,7*(Uc.V-1)),Uc.y=Yc.getFullYear(),Uc.m=Yc.getMonth(),Uc.d=Yc.getDate()+(Uc.w+6)%7}else if("W"in Uc||"U"in Uc)"w"in Uc||(Uc.w="u"in Uc?Uc.u%7:"W"in Uc?1:0),od="Z"in Uc?Sa(Wb(Uc.y,0,1)).getUTCDay():ca(Wb(Uc.y,0,1)).getDay(),Uc.m=0,Uc.d="W"in Uc?(Uc.w+6)%7+7*Uc.W-(od+5)%7:Uc.w+7*Uc.U-(od+6)%7;return"Z"in
Uc?(Uc.H+=Uc.Z/100|0,Uc.M+=Uc.Z%100,Sa(Uc)):ca(Uc)}}function rd(xc,Ic,Yc,Uc){for(var od=0,qd=Ic.length,Id=Yc.length,Ed;od<qd;){if(Uc>=Id)return-1;Ed=Ic.charCodeAt(od++);if(37===Ed){if(Ed=Ic.charAt(od++),Ed=Cc[Ed in $c?Ic.charAt(od++):Ed],!Ed||0>(Uc=Ed(xc,Yc,Uc)))return-1}else if(Ed!=Yc.charCodeAt(Uc++))return-1}return Uc}var vd=La.dateTime,de=La.date,oe=La.time,X=La.periods,za=La.days,gb=La.shortDays,Db=La.months,Zb=La.shortMonths,Gb=Bb(X),sc=bb(X),jc=Bb(za),Oa=bb(za),rb=Bb(gb),Lb=bb(gb),gc=Bb(Db),
tc=bb(Db),Bc=Bb(Zb),Mc=bb(Zb),Hb={a:function(xc){return gb[xc.getDay()]},A:function(xc){return za[xc.getDay()]},b:function(xc){return Zb[xc.getMonth()]},B:function(xc){return Db[xc.getMonth()]},c:null,d:$a,e:$a,f:O,g:v,G:p,H:Q,I:H,j:T,L:na,m:W,M:ea,p:function(xc){return X[+(12<=xc.getHours())]},q:function(xc){return 1+~~(xc.getMonth()/3)},Q:kc,s:wc,S:pa,u:Ua,U:db,V:va,w:xa,W:ma,x:null,X:null,y:R,Y:w,Z:r,"%":nc},yc={a:function(xc){return gb[xc.getUTCDay()]},A:function(xc){return za[xc.getUTCDay()]},
b:function(xc){return Zb[xc.getUTCMonth()]},B:function(xc){return Db[xc.getUTCMonth()]},c:null,d:C,e:C,f:wa,g:gd,G:Sc,H:D,I:G,j:B,L:fa,m:la,M:Ta,p:function(xc){return X[+(12<=xc.getUTCHours())]},q:function(xc){return 1+~~(xc.getUTCMonth()/3)},Q:kc,s:wc,S:Ja,u:Z,U:sa,V:xb,w:Kb,W:ec,x:null,X:null,y:Ec,Y:Dc,Z:Ra,"%":nc},Cc={a:function(xc,Ic,Yc){return(Ic=rb.exec(Ic.slice(Yc)))?(xc.w=Lb.get(Ic[0].toLowerCase()),Yc+Ic[0].length):-1},A:function(xc,Ic,Yc){return(Ic=jc.exec(Ic.slice(Yc)))?(xc.w=Oa.get(Ic[0].toLowerCase()),
Yc+Ic[0].length):-1},b:function(xc,Ic,Yc){return(Ic=Bc.exec(Ic.slice(Yc)))?(xc.m=Mc.get(Ic[0].toLowerCase()),Yc+Ic[0].length):-1},B:function(xc,Ic,Yc){return(Ic=gc.exec(Ic.slice(Yc)))?(xc.m=tc.get(Ic[0].toLowerCase()),Yc+Ic[0].length):-1},c:function(xc,Ic,Yc){return rd(xc,vd,Ic,Yc)},d:Ca,e:Ca,f:Xa,g:mb,G:Ya,H:Ma,I:Ma,j:ab,L:Qa,m:jb,M:ja,p:function(xc,Ic,Yc){return(Ic=Gb.exec(Ic.slice(Yc)))?(xc.p=sc.get(Ic[0].toLowerCase()),Yc+Ic[0].length):-1},q:Ga,Q:cb,s:ob,S:Aa,u:sb,U:Wa,V:Ha,w:qb,W:Ia,x:function(xc,
Ic,Yc){return rd(xc,de,Ic,Yc)},X:function(xc,Ic,Yc){return rd(xc,oe,Ic,Yc)},y:mb,Y:Ya,Z:Ea,"%":hb};Hb.x=vb(de,Hb);Hb.X=vb(oe,Hb);Hb.c=vb(vd,Hb);yc.x=vb(de,yc);yc.X=vb(oe,yc);yc.c=vb(vd,yc);return{format:function(xc){var Ic=vb(xc+="",Hb);Ic.toString=function(){return xc};return Ic},parse:function(xc){var Ic=$b(xc+="",!1);Ic.toString=function(){return xc};return Ic},utcFormat:function(xc){var Ic=vb(xc+="",yc);Ic.toString=function(){return xc};return Ic},utcParse:function(xc){var Ic=$b(xc+="",!0);Ic.toString=
function(){return xc};return Ic}}}function ub(La,vb,$b){var rd=0>La?"-":"";La=(rd?-La:La)+"";var vd=La.length;return rd+(vd<$b?Array($b-vd+1).join(vb)+La:La)}function Qb(La){return La.replace(we,"\\$\x26")}function Bb(La){return new RegExp("^(?:"+La.map(Qb).join("|")+")","i")}function bb(La){return new Map(La.map((vb,$b)=>[vb.toLowerCase(),$b]))}function qb(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+1)))?(La.w=+vb[0],$b+vb[0].length):-1}function sb(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+1)))?
(La.u=+vb[0],$b+vb[0].length):-1}function Wa(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.U=+vb[0],$b+vb[0].length):-1}function Ha(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.V=+vb[0],$b+vb[0].length):-1}function Ia(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.W=+vb[0],$b+vb[0].length):-1}function Ya(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+4)))?(La.y=+vb[0],$b+vb[0].length):-1}function mb(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.y=+vb[0]+(68<+vb[0]?1900:2E3),$b+
vb[0].length):-1}function Ea(La,vb,$b){return(vb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(vb.slice($b,$b+6)))?(La.Z=vb[1]?0:-(vb[2]+(vb[3]||"00")),$b+vb[0].length):-1}function Ga(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+1)))?(La.q=3*vb[0]-3,$b+vb[0].length):-1}function jb(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.m=vb[0]-1,$b+vb[0].length):-1}function Ca(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.d=+vb[0],$b+vb[0].length):-1}function ab(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+3)))?
(La.m=0,La.d=+vb[0],$b+vb[0].length):-1}function Ma(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.H=+vb[0],$b+vb[0].length):-1}function ja(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.M=+vb[0],$b+vb[0].length):-1}function Aa(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+2)))?(La.S=+vb[0],$b+vb[0].length):-1}function Qa(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+3)))?(La.L=+vb[0],$b+vb[0].length):-1}function Xa(La,vb,$b){return(vb=Nc.exec(vb.slice($b,$b+6)))?(La.L=Math.floor(vb[0]/1E3),$b+
vb[0].length):-1}function hb(La,vb,$b){return(La=Dd.exec(vb.slice($b,$b+1)))?$b+La[0].length:-1}function cb(La,vb,$b){return(vb=Nc.exec(vb.slice($b)))?(La.Q=+vb[0],$b+vb[0].length):-1}function ob(La,vb,$b){return(vb=Nc.exec(vb.slice($b)))?(La.s=+vb[0],$b+vb[0].length):-1}function $a(La,vb){return ub(La.getDate(),vb,2)}function Q(La,vb){return ub(La.getHours(),vb,2)}function H(La,vb){return ub(La.getHours()%12||12,vb,2)}function T(La,vb){return ub(1+x.timeDay.count(x.timeYear(La),La),vb,3)}function na(La,
vb){return ub(La.getMilliseconds(),vb,3)}function O(La,vb){return na(La,vb)+"000"}function W(La,vb){return ub(La.getMonth()+1,vb,2)}function ea(La,vb){return ub(La.getMinutes(),vb,2)}function pa(La,vb){return ub(La.getSeconds(),vb,2)}function Ua(La){La=La.getDay();return 0===La?7:La}function db(La,vb){return ub(x.timeSunday.count(x.timeYear(La)-1,La),vb,2)}function U(La){var vb=La.getDay();return 4<=vb||0===vb?x.timeThursday(La):x.timeThursday.ceil(La)}function va(La,vb){La=U(La);return ub(x.timeThursday.count(x.timeYear(La),
La)+(4===x.timeYear(La).getDay()),vb,2)}function xa(La){return La.getDay()}function ma(La,vb){return ub(x.timeMonday.count(x.timeYear(La)-1,La),vb,2)}function R(La,vb){return ub(La.getFullYear()%100,vb,2)}function v(La,vb){La=U(La);return ub(La.getFullYear()%100,vb,2)}function w(La,vb){return ub(La.getFullYear()%1E4,vb,4)}function p(La,vb){var $b=La.getDay();La=4<=$b||0===$b?x.timeThursday(La):x.timeThursday.ceil(La);return ub(La.getFullYear()%1E4,vb,4)}function r(La){La=La.getTimezoneOffset();return(0<
La?"-":(La*=-1,"+"))+ub(La/60|0,"0",2)+ub(La%60,"0",2)}function C(La,vb){return ub(La.getUTCDate(),vb,2)}function D(La,vb){return ub(La.getUTCHours(),vb,2)}function G(La,vb){return ub(La.getUTCHours()%12||12,vb,2)}function B(La,vb){return ub(1+x.utcDay.count(x.utcYear(La),La),vb,3)}function fa(La,vb){return ub(La.getUTCMilliseconds(),vb,3)}function wa(La,vb){return fa(La,vb)+"000"}function la(La,vb){return ub(La.getUTCMonth()+1,vb,2)}function Ta(La,vb){return ub(La.getUTCMinutes(),vb,2)}function Ja(La,
vb){return ub(La.getUTCSeconds(),vb,2)}function Z(La){La=La.getUTCDay();return 0===La?7:La}function sa(La,vb){return ub(x.utcSunday.count(x.utcYear(La)-1,La),vb,2)}function eb(La){var vb=La.getUTCDay();return 4<=vb||0===vb?x.utcThursday(La):x.utcThursday.ceil(La)}function xb(La,vb){La=eb(La);return ub(x.utcThursday.count(x.utcYear(La),La)+(4===x.utcYear(La).getUTCDay()),vb,2)}function Kb(La){return La.getUTCDay()}function ec(La,vb){return ub(x.utcMonday.count(x.utcYear(La)-1,La),vb,2)}function Ec(La,
vb){return ub(La.getUTCFullYear()%100,vb,2)}function gd(La,vb){La=eb(La);return ub(La.getUTCFullYear()%100,vb,2)}function Dc(La,vb){return ub(La.getUTCFullYear()%1E4,vb,4)}function Sc(La,vb){var $b=La.getUTCDay();La=4<=$b||0===$b?x.utcThursday(La):x.utcThursday.ceil(La);return ub(La.getUTCFullYear()%1E4,vb,4)}function Ra(){return"+0000"}function nc(){return"%"}function kc(La){return+La}function wc(La){return Math.floor(+La/1E3)}function Pc(La){ld=fb(La);n.timeFormat=ld.format;n.timeParse=ld.parse;
n.utcFormat=ld.utcFormat;n.utcParse=ld.utcParse;return ld}function rc(La){return La.toISOString()}function Xc(La){La=new Date(La);return isNaN(La)?null:La}var $c={"-":"",_:" ",0:"0"},Nc=/^\s*\d+/,Dd=/^%/,we=/[\\^$*+?|[\]().{}]/g,ld;Pc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var sd=Date.prototype.toISOString?rc:n.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ge=+new Date("2000-01-01T00:00:00.000Z")?Xc:n.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");n.isoFormat=sd;n.isoParse=ge;n.timeFormatDefaultLocale=Pc;n.timeFormatLocale=fb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[22]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(17),Rb(18),Rb(20),Rb(16),Rb(21)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.d3,n.d3,n.vega,n.vega,n.d3))})(this,function(n,x,ca,Sa,Wb,fb){function ub(Ca){const ab={};return Ma=>ab[Ma]||(ab[Ma]=Ca(Ma))}function Qb(Ca,ab){return Ma=>{Ma=Ca(Ma);
const ja=Ma.indexOf(ab);if(0>ja)return Ma;a:{var Aa=Ma.lastIndexOf("e");if(!(0<Aa)){for(Aa=Ma.length;--Aa>ja;){var Qa=Ma.charCodeAt(Aa);if(48<=Qa&&57>=Qa){Aa+=1;break a}}Aa=void 0}}for(Qa=Aa<Ma.length?Ma.slice(Aa):"";--Aa>ja;)if("0"!==Ma[Aa]){++Aa;break}return Ma.slice(0,Aa)+Qa}}function Bb(Ca){const ab=ub(Ca.format),Ma=Ca.formatPrefix;return{format:ab,formatPrefix:Ma,formatFloat(ja){ja=ca.formatSpecifier(ja||",");if(null==ja.precision){ja.precision=12;switch(ja.type){case "%":ja.precision-=2;break;
case "e":--ja.precision}return Qb(ab(ja),ab(".1f")(1)[1])}return ab(ja)},formatSpan(ja,Aa,Qa,Xa){Xa=ca.formatSpecifier(null==Xa?",f":Xa);Qa=x.tickStep(ja,Aa,Qa);ja=Math.max(Math.abs(ja),Math.abs(Aa));if(null==Xa.precision)switch(Xa.type){case "s":return isNaN(Aa=ca.precisionPrefix(Qa,ja))||(Xa.precision=Aa),Ma(Xa,ja);case "":case "e":case "g":case "p":case "r":isNaN(Aa=ca.precisionRound(Qa,ja))||(Xa.precision=Aa-("e"===Xa.type));break;case "f":case "%":isNaN(Aa=ca.precisionFixed(Qa))||(Xa.precision=
Aa-2*("%"===Xa.type))}return ab(Xa)}}}function bb(){return Ga=Bb({format:ca.format,formatPrefix:ca.formatPrefix})}function qb(Ca){return Bb(ca.formatLocale(Ca))}function sb(Ca){return arguments.length?Ga=qb(Ca):Ga}function Wa(Ca,ab,Ma){Ma=Ma||{};Wb.isObject(Ma)||Wb.error(`Invalid time multi-format specifier: ${Ma}`);const ja=ab(Sa.SECONDS),Aa=ab(Sa.MINUTES),Qa=ab(Sa.HOURS),Xa=ab(Sa.DATE),hb=ab(Sa.WEEK),cb=ab(Sa.MONTH),ob=ab(Sa.QUARTER),$a=ab(Sa.YEAR),Q=Ca(Ma[Sa.MILLISECONDS]||".%L"),H=Ca(Ma[Sa.SECONDS]||
":%S"),T=Ca(Ma[Sa.MINUTES]||"%I:%M"),na=Ca(Ma[Sa.HOURS]||"%I %p"),O=Ca(Ma[Sa.DATE]||Ma[Sa.DAY]||"%a %d"),W=Ca(Ma[Sa.WEEK]||"%b %d"),ea=Ca(Ma[Sa.MONTH]||"%B"),pa=Ca(Ma[Sa.QUARTER]||"%B"),Ua=Ca(Ma[Sa.YEAR]||"%Y");return db=>(ja(db)<db?Q:Aa(db)<db?H:Qa(db)<db?T:Xa(db)<db?na:cb(db)<db?hb(db)<db?O:W:$a(db)<db?ob(db)<db?ea:pa:Ua)(db)}function Ha(Ca){const ab=ub(Ca.format),Ma=ub(Ca.utcFormat);return{timeFormat:ja=>Wb.isString(ja)?ab(ja):Wa(ab,Sa.timeInterval,ja),utcFormat:ja=>Wb.isString(ja)?Ma(ja):Wa(Ma,
Sa.utcInterval,ja),timeParse:ub(Ca.parse),utcParse:ub(Ca.utcParse)}}function Ia(){return jb=Ha({format:fb.timeFormat,parse:fb.timeParse,utcFormat:fb.utcFormat,utcParse:fb.utcParse})}function Ya(Ca){return Ha(fb.timeFormatLocale(Ca))}function mb(Ca){return arguments.length?jb=Ya(Ca):jb}function Ea(Ca,ab){var Ma=arguments.length;Ma&&2!==Ma&&Wb.error("defaultLocale expects either zero or two arguments.");if(Ma){Ma=sb(Ca);var ja=mb(ab);Ma=Wb.extend({},Ma,ja)}else Ma=sb(),ja=mb(),Ma=Wb.extend({},Ma,ja);
return Ma}let Ga;bb();let jb;Ia();n.defaultLocale=Ea;n.locale=function(Ca,ab){Ca=Ca?qb(Ca):sb();ab=ab?Ya(ab):mb();return Wb.extend({},Ca,ab)};n.numberFormatDefaultLocale=sb;n.numberFormatLocale=qb;n.resetDefaultLocale=function(){bb();Ia();return Ea()};n.resetNumberFormatDefaultLocale=bb;n.resetTimeFormatDefaultLocale=Ia;n.timeFormatDefaultLocale=mb;n.timeFormatLocale=Ya;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[23]=function(mc,Rb,Jc,Nb){function n(fb){var ub=fb.length;if(0<ub%4)throw Error("Invalid string. Length must be a multiple of 4");fb=fb.indexOf("\x3d");-1===fb&&(fb=ub);return[fb,fb===ub?0:4-fb%4]}function x(fb,ub,Qb){for(var Bb=[],bb=ub;bb<Qb;bb+=3)ub=(fb[bb]<<16&16711680)+(fb[bb+1]<<8&65280)+(fb[bb+2]&255),Bb.push(ca[ub>>18&63]+ca[ub>>12&63]+ca[ub>>6&63]+ca[ub&63]);return Bb.join("")}Nb.byteLength=function(fb){fb=n(fb);var ub=fb[1];return 3*(fb[0]+ub)/4-ub};Nb.toByteArray=function(fb){var ub=
n(fb);var Qb=ub[0];ub=ub[1];var Bb=new Wb(3*(Qb+ub)/4-ub),bb=0,qb=0<ub?Qb-4:Qb,sb;for(sb=0;sb<qb;sb+=4)Qb=Sa[fb.charCodeAt(sb)]<<18|Sa[fb.charCodeAt(sb+1)]<<12|Sa[fb.charCodeAt(sb+2)]<<6|Sa[fb.charCodeAt(sb+3)],Bb[bb++]=Qb>>16&255,Bb[bb++]=Qb>>8&255,Bb[bb++]=Qb&255;2===ub&&(Qb=Sa[fb.charCodeAt(sb)]<<2|Sa[fb.charCodeAt(sb+1)]>>4,Bb[bb++]=Qb&255);1===ub&&(Qb=Sa[fb.charCodeAt(sb)]<<10|Sa[fb.charCodeAt(sb+1)]<<4|Sa[fb.charCodeAt(sb+2)]>>2,Bb[bb++]=Qb>>8&255,Bb[bb++]=Qb&255);return Bb};Nb.fromByteArray=
function(fb){for(var ub=fb.length,Qb=ub%3,Bb=[],bb=0,qb=ub-Qb;bb<qb;bb+=16383)Bb.push(x(fb,bb,bb+16383>qb?qb:bb+16383));1===Qb?(fb=fb[ub-1],Bb.push(ca[fb>>2]+ca[fb<<4&63]+"\x3d\x3d")):2===Qb&&(fb=(fb[ub-2]<<8)+fb[ub-1],Bb.push(ca[fb>>10]+ca[fb>>4&63]+ca[fb<<2&63]+"\x3d"));return Bb.join("")};var ca=[],Sa=[],Wb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(mc=0;64>mc;++mc)ca[mc]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[mc],Sa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(mc)]=
mc;Sa[45]=62;Sa[95]=63};
shadow$provide[24]=function(mc,Rb,Jc,Nb){Nb.read=function(n,x,ca,Sa,Wb){var fb=8*Wb-Sa-1;var ub=(1<<fb)-1,Qb=ub>>1,Bb=-7;Wb=ca?Wb-1:0;var bb=ca?-1:1,qb=n[x+Wb];Wb+=bb;ca=qb&(1<<-Bb)-1;qb>>=-Bb;for(Bb+=fb;0<Bb;ca=256*ca+n[x+Wb],Wb+=bb,Bb-=8);fb=ca&(1<<-Bb)-1;ca>>=-Bb;for(Bb+=Sa;0<Bb;fb=256*fb+n[x+Wb],Wb+=bb,Bb-=8);if(0===ca)ca=1-Qb;else{if(ca===ub)return fb?NaN:Infinity*(qb?-1:1);fb+=Math.pow(2,Sa);ca-=Qb}return(qb?-1:1)*fb*Math.pow(2,ca-Sa)};Nb.write=function(n,x,ca,Sa,Wb,fb){var ub,Qb=8*fb-Wb-1,
Bb=(1<<Qb)-1,bb=Bb>>1,qb=23===Wb?Math.pow(2,-24)-Math.pow(2,-77):0;fb=Sa?0:fb-1;var sb=Sa?1:-1,Wa=0>x||0===x&&0>1/x?1:0;x=Math.abs(x);isNaN(x)||Infinity===x?(x=isNaN(x)?1:0,Sa=Bb):(Sa=Math.floor(Math.log(x)/Math.LN2),1>x*(ub=Math.pow(2,-Sa))&&(Sa--,ub*=2),x=1<=Sa+bb?x+qb/ub:x+qb*Math.pow(2,1-bb),2<=x*ub&&(Sa++,ub/=2),Sa+bb>=Bb?(x=0,Sa=Bb):1<=Sa+bb?(x=(x*ub-1)*Math.pow(2,Wb),Sa+=bb):(x=x*Math.pow(2,bb-1)*Math.pow(2,Wb),Sa=0));for(;8<=Wb;n[ca+fb]=x&255,fb+=sb,x/=256,Wb-=8);Sa=Sa<<Wb|x;for(Qb+=Wb;0<
Qb;n[ca+fb]=Sa&255,fb+=sb,Sa/=256,Qb-=8);n[ca+fb-sb]|=128*Wa}};
shadow$provide[25]=function(mc,Rb,Jc,Nb){var n={}.toString;Jc.exports=Array.isArray||function(x){return"[object Array]"==n.call(x)}};
shadow$provide[26]=function(mc,Rb,Jc,Nb){function n(){try{var Q=new Uint8Array(1);Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===Q.foo()&&"function"===typeof Q.subarray&&0===Q.subarray(1,1).byteLength}catch(H){return!1}}function x(Q,H){if((ca.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<H)throw new RangeError("Invalid typed array length");ca.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(H),Q.__proto__=ca.prototype):(null===Q&&(Q=new ca(H)),Q.length=H);return Q}function ca(Q,
H,T){if(!(ca.TYPED_ARRAY_SUPPORT||this instanceof ca))return new ca(Q,H,T);if("number"===typeof Q){if("string"===typeof H)throw Error("If encoding is specified then the first argument must be a string");return fb(this,Q)}return Sa(this,Q,H,T)}function Sa(Q,H,T,na){if("number"===typeof H)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&H instanceof ArrayBuffer){H.byteLength;if(0>T||H.byteLength<T)throw new RangeError("'offset' is out of bounds");if(H.byteLength<
T+(na||0))throw new RangeError("'length' is out of bounds");H=void 0===T&&void 0===na?new Uint8Array(H):void 0===na?new Uint8Array(H,T):new Uint8Array(H,T,na);ca.TYPED_ARRAY_SUPPORT?(Q=H,Q.__proto__=ca.prototype):Q=ub(Q,H);return Q}if("string"===typeof H){na=Q;Q=T;if("string"!==typeof Q||""===Q)Q="utf8";if(!ca.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');T=bb(H,Q)|0;na=x(na,T);H=na.write(H,Q);H!==T&&(na=na.slice(0,H));return na}return Qb(Q,H)}function Wb(Q){if("number"!==
typeof Q)throw new TypeError('"size" argument must be a number');if(0>Q)throw new RangeError('"size" argument must not be negative');}function fb(Q,H){Wb(H);Q=x(Q,0>H?0:Bb(H)|0);if(!ca.TYPED_ARRAY_SUPPORT)for(var T=0;T<H;++T)Q[T]=0;return Q}function ub(Q,H){var T=0>H.length?0:Bb(H.length)|0;Q=x(Q,T);for(var na=0;na<T;na+=1)Q[na]=H[na]&255;return Q}function Qb(Q,H){if(ca.isBuffer(H)){var T=Bb(H.length)|0;Q=x(Q,T);if(0===Q.length)return Q;H.copy(Q,0,0,T);return Q}if(H){if("undefined"!==typeof ArrayBuffer&&
H.buffer instanceof ArrayBuffer||"length"in H)return(T="number"!==typeof H.length)||(T=H.length,T=T!==T),T?x(Q,0):ub(Q,H);if("Buffer"===H.type&&cb(H.data))return ub(Q,H.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function Bb(Q){if(Q>=(ca.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(ca.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return Q|
0}function bb(Q,H){if(ca.isBuffer(Q))return Q.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;"string"!==typeof Q&&(Q=""+Q);var T=Q.length;if(0===T)return 0;for(var na=!1;;)switch(H){case "ascii":case "latin1":case "binary":return T;case "utf8":case "utf-8":case void 0:return ja(Q).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*T;case "hex":return T>>>1;case "base64":return Xa.toByteArray(Ma(Q)).length;
default:if(na)return ja(Q).length;H=(""+H).toLowerCase();na=!0}}function qb(Q,H,T){var na=!1;if(void 0===H||0>H)H=0;if(H>this.length)return"";if(void 0===T||T>this.length)T=this.length;if(0>=T)return"";T>>>=0;H>>>=0;if(T<=H)return"";for(Q||(Q="utf8");;)switch(Q){case "hex":Q=H;H=T;T=this.length;if(!Q||0>Q)Q=0;if(!H||0>H||H>T)H=T;na="";for(T=Q;T<H;++T)Q=na,na=this[T],na=16>na?"0"+na.toString(16):na.toString(16),na=Q+na;return na;case "utf8":case "utf-8":return Ia(this,H,T);case "ascii":Q="";for(T=
Math.min(this.length,T);H<T;++H)Q+=String.fromCharCode(this[H]&127);return Q;case "latin1":case "binary":Q="";for(T=Math.min(this.length,T);H<T;++H)Q+=String.fromCharCode(this[H]);return Q;case "base64":return H=0===H&&T===this.length?Xa.fromByteArray(this):Xa.fromByteArray(this.slice(H,T)),H;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":H=this.slice(H,T);T="";for(Q=0;Q<H.length;Q+=2)T+=String.fromCharCode(H[Q]+256*H[Q+1]);return T;default:if(na)throw new TypeError("Unknown encoding: "+
Q);Q=(Q+"").toLowerCase();na=!0}}function sb(Q,H,T){var na=Q[H];Q[H]=Q[T];Q[T]=na}function Wa(Q,H,T,na,O){if(0===Q.length)return-1;"string"===typeof T?(na=T,T=0):2147483647<T?T=2147483647:-2147483648>T&&(T=-2147483648);T=+T;isNaN(T)&&(T=O?0:Q.length-1);0>T&&(T=Q.length+T);if(T>=Q.length){if(O)return-1;T=Q.length-1}else if(0>T)if(O)T=0;else return-1;"string"===typeof H&&(H=ca.from(H,na));if(ca.isBuffer(H))return 0===H.length?-1:Ha(Q,H,T,na,O);if("number"===typeof H)return H&=255,ca.TYPED_ARRAY_SUPPORT&&
"function"===typeof Uint8Array.prototype.indexOf?O?Uint8Array.prototype.indexOf.call(Q,H,T):Uint8Array.prototype.lastIndexOf.call(Q,H,T):Ha(Q,[H],T,na,O);throw new TypeError("val must be string, number or Buffer");}function Ha(Q,H,T,na,O){function W(db,U){return 1===ea?db[U]:db.readUInt16BE(U*ea)}var ea=1,pa=Q.length,Ua=H.length;if(void 0!==na&&(na=String(na).toLowerCase(),"ucs2"===na||"ucs-2"===na||"utf16le"===na||"utf-16le"===na)){if(2>Q.length||2>H.length)return-1;ea=2;pa/=2;Ua/=2;T/=2}if(O)for(na=
-1;T<pa;T++)if(W(Q,T)===W(H,-1===na?0:T-na)){if(-1===na&&(na=T),T-na+1===Ua)return na*ea}else-1!==na&&(T-=T-na),na=-1;else for(T+Ua>pa&&(T=pa-Ua);0<=T;T--){pa=!0;for(na=0;na<Ua;na++)if(W(Q,T+na)!==W(H,na)){pa=!1;break}if(pa)return T}return-1}function Ia(Q,H,T){T=Math.min(Q.length,T);for(var na=[];H<T;){var O=Q[H],W=null,ea=239<O?4:223<O?3:191<O?2:1;if(H+ea<=T)switch(ea){case 1:128>O&&(W=O);break;case 2:var pa=Q[H+1];128===(pa&192)&&(O=(O&31)<<6|pa&63,127<O&&(W=O));break;case 3:pa=Q[H+1];var Ua=Q[H+
2];128===(pa&192)&&128===(Ua&192)&&(O=(O&15)<<12|(pa&63)<<6|Ua&63,2047<O&&(55296>O||57343<O)&&(W=O));break;case 4:pa=Q[H+1];Ua=Q[H+2];var db=Q[H+3];128===(pa&192)&&128===(Ua&192)&&128===(db&192)&&(O=(O&15)<<18|(pa&63)<<12|(Ua&63)<<6|db&63,65535<O&&1114112>O&&(W=O))}null===W?(W=65533,ea=1):65535<W&&(W-=65536,na.push(W>>>10&1023|55296),W=56320|W&1023);na.push(W);H+=ea}Q=na.length;if(Q<=ob)na=String.fromCharCode.apply(String,na);else{T="";for(H=0;H<Q;)T+=String.fromCharCode.apply(String,na.slice(H,H+=
ob));na=T}return na}function Ya(Q,H,T){if(0!==Q%1||0>Q)throw new RangeError("offset is not uint");if(Q+H>T)throw new RangeError("Trying to access beyond buffer length");}function mb(Q,H,T,na,O,W){if(!ca.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>O||H<W)throw new RangeError('"value" argument is out of bounds');if(T+na>Q.length)throw new RangeError("Index out of range");}function Ea(Q,H,T,na){0>H&&(H=65535+H+1);for(var O=0,W=Math.min(Q.length-T,2);O<W;++O)Q[T+
O]=(H&255<<8*(na?O:1-O))>>>8*(na?O:1-O)}function Ga(Q,H,T,na){0>H&&(H=4294967295+H+1);for(var O=0,W=Math.min(Q.length-T,4);O<W;++O)Q[T+O]=H>>>8*(na?O:3-O)&255}function jb(Q,H,T,na,O,W){if(T+na>Q.length)throw new RangeError("Index out of range");if(0>T)throw new RangeError("Index out of range");}function Ca(Q,H,T,na,O){O||jb(Q,H,T,4,3.4028234663852886E38,-3.4028234663852886E38);hb.write(Q,H,T,na,23,4);return T+4}function ab(Q,H,T,na,O){O||jb(Q,H,T,8,1.7976931348623157E308,-1.7976931348623157E308);
hb.write(Q,H,T,na,52,8);return T+8}function Ma(Q){Q=Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"");Q=Q.replace($a,"");if(2>Q.length)return"";for(;0!==Q.length%4;)Q+="\x3d";return Q}function ja(Q,H){H=H||Infinity;for(var T,na=Q.length,O=null,W=[],ea=0;ea<na;++ea){T=Q.charCodeAt(ea);if(55295<T&&57344>T){if(!O){if(56319<T){-1<(H-=3)&&W.push(239,191,189);continue}else if(ea+1===na){-1<(H-=3)&&W.push(239,191,189);continue}O=T;continue}if(56320>T){-1<(H-=3)&&W.push(239,191,189);O=T;continue}T=(O-55296<<10|
T-56320)+65536}else O&&-1<(H-=3)&&W.push(239,191,189);O=null;if(128>T){if(0>--H)break;W.push(T)}else if(2048>T){if(0>(H-=2))break;W.push(T>>6|192,T&63|128)}else if(65536>T){if(0>(H-=3))break;W.push(T>>12|224,T>>6&63|128,T&63|128)}else if(1114112>T){if(0>(H-=4))break;W.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw Error("Invalid code point");}return W}function Aa(Q){for(var H=[],T=0;T<Q.length;++T)H.push(Q.charCodeAt(T)&255);return H}function Qa(Q,H,T,na){for(var O=0;O<na&&!(O+T>=H.length||
O>=Q.length);++O)H[O+T]=Q[O];return O}var Xa=Rb(23),hb=Rb(24),cb=Rb(25);Nb.Buffer=ca;Nb.SlowBuffer=function(Q){+Q!=Q&&(Q=0);return ca.alloc(+Q)};Nb.INSPECT_MAX_BYTES=50;ca.TYPED_ARRAY_SUPPORT=void 0!==mc.TYPED_ARRAY_SUPPORT?mc.TYPED_ARRAY_SUPPORT:n();Nb.kMaxLength=ca.TYPED_ARRAY_SUPPORT?2147483647:1073741823;ca.poolSize=8192;ca._augment=function(Q){Q.__proto__=ca.prototype;return Q};ca.from=function(Q,H,T){return Sa(null,Q,H,T)};ca.TYPED_ARRAY_SUPPORT&&(ca.prototype.__proto__=Uint8Array.prototype,
ca.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&ca[Symbol.species]===ca&&Object.defineProperty(ca,Symbol.species,{value:null,configurable:!0}));ca.alloc=function(Q,H,T){Wb(Q);Q=0>=Q?x(null,Q):void 0!==H?"string"===typeof T?x(null,Q).fill(H,T):x(null,Q).fill(H):x(null,Q);return Q};ca.allocUnsafe=function(Q){return fb(null,Q)};ca.allocUnsafeSlow=function(Q){return fb(null,Q)};ca.isBuffer=function(Q){return!(null==Q||!Q._isBuffer)};ca.compare=function(Q,H){if(!ca.isBuffer(Q)||!ca.isBuffer(H))throw new TypeError("Arguments must be Buffers");
if(Q===H)return 0;for(var T=Q.length,na=H.length,O=0,W=Math.min(T,na);O<W;++O)if(Q[O]!==H[O]){T=Q[O];na=H[O];break}return T<na?-1:na<T?1:0};ca.isEncoding=function(Q){switch(String(Q).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};ca.concat=function(Q,H){if(!cb(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Q.length)return ca.alloc(0);
var T;if(void 0===H)for(T=H=0;T<Q.length;++T)H+=Q[T].length;H=ca.allocUnsafe(H);var na=0;for(T=0;T<Q.length;++T){var O=Q[T];if(!ca.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(H,na);na+=O.length}return H};ca.byteLength=bb;ca.prototype._isBuffer=!0;ca.prototype.swap16=function(){var Q=this.length;if(0!==Q%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var H=0;H<Q;H+=2)sb(this,H,H+1);return this};ca.prototype.swap32=function(){var Q=
this.length;if(0!==Q%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var H=0;H<Q;H+=4)sb(this,H,H+3),sb(this,H+1,H+2);return this};ca.prototype.swap64=function(){var Q=this.length;if(0!==Q%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var H=0;H<Q;H+=8)sb(this,H,H+7),sb(this,H+1,H+6),sb(this,H+2,H+5),sb(this,H+3,H+4);return this};ca.prototype.toString=function(){var Q=this.length|0;return 0===Q?"":0===arguments.length?Ia(this,0,Q):qb.apply(this,arguments)};
ca.prototype.equals=function(Q){if(!ca.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:0===ca.compare(this,Q)};ca.prototype.inspect=function(){var Q="",H=Nb.INSPECT_MAX_BYTES;0<this.length&&(Q=this.toString("hex",0,H).match(/.{2}/g).join(" "),this.length>H&&(Q+=" ... "));return"\x3cBuffer "+Q+"\x3e"};ca.prototype.compare=function(Q,H,T,na,O){if(!ca.isBuffer(Q))throw new TypeError("Argument must be a Buffer");void 0===H&&(H=0);void 0===T&&(T=Q?Q.length:0);void 0===na&&
(na=0);void 0===O&&(O=this.length);if(0>H||T>Q.length||0>na||O>this.length)throw new RangeError("out of range index");if(na>=O&&H>=T)return 0;if(na>=O)return-1;if(H>=T)return 1;H>>>=0;T>>>=0;na>>>=0;O>>>=0;if(this===Q)return 0;var W=O-na,ea=T-H,pa=Math.min(W,ea);na=this.slice(na,O);Q=Q.slice(H,T);for(H=0;H<pa;++H)if(na[H]!==Q[H]){W=na[H];ea=Q[H];break}return W<ea?-1:ea<W?1:0};ca.prototype.includes=function(Q,H,T){return-1!==this.indexOf(Q,H,T)};ca.prototype.indexOf=function(Q,H,T){return Wa(this,
Q,H,T,!0)};ca.prototype.lastIndexOf=function(Q,H,T){return Wa(this,Q,H,T,!1)};ca.prototype.write=function(Q,H,T,na){if(void 0===H)na="utf8",T=this.length,H=0;else if(void 0===T&&"string"===typeof H)na=H,T=this.length,H=0;else if(isFinite(H))H|=0,isFinite(T)?(T|=0,void 0===na&&(na="utf8")):(na=T,T=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var O=this.length-H;if(void 0===T||T>O)T=O;if(0<Q.length&&(0>T||0>H)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");
na||(na="utf8");for(O=!1;;)switch(na){case "hex":a:{H=Number(H)||0;na=this.length-H;T?(T=Number(T),T>na&&(T=na)):T=na;na=Q.length;if(0!==na%2)throw new TypeError("Invalid hex string");T>na/2&&(T=na/2);for(na=0;na<T;++na){O=parseInt(Q.substr(2*na,2),16);if(isNaN(O)){Q=na;break a}this[H+na]=O}Q=na}return Q;case "utf8":case "utf-8":return Qa(ja(Q,this.length-H),this,H,T);case "ascii":return Qa(Aa(Q),this,H,T);case "latin1":case "binary":return Qa(Aa(Q),this,H,T);case "base64":return Qa(Xa.toByteArray(Ma(Q)),
this,H,T);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":na=Q;O=this.length-H;for(var W=[],ea=0;ea<na.length&&!(0>(O-=2));++ea){var pa=na.charCodeAt(ea);Q=pa>>8;pa%=256;W.push(pa);W.push(Q)}return Qa(W,this,H,T);default:if(O)throw new TypeError("Unknown encoding: "+na);na=(""+na).toLowerCase();O=!0}};ca.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ob=4096;ca.prototype.slice=function(Q,H){var T=this.length;Q=~~Q;H=void 0===H?T:~~H;
0>Q?(Q+=T,0>Q&&(Q=0)):Q>T&&(Q=T);0>H?(H+=T,0>H&&(H=0)):H>T&&(H=T);H<Q&&(H=Q);if(ca.TYPED_ARRAY_SUPPORT)H=this.subarray(Q,H),H.__proto__=ca.prototype;else{T=H-Q;H=new ca(T,void 0);for(var na=0;na<T;++na)H[na]=this[na+Q]}return H};ca.prototype.readUIntLE=function(Q,H,T){Q|=0;H|=0;T||Ya(Q,H,this.length);T=this[Q];for(var na=1,O=0;++O<H&&(na*=256);)T+=this[Q+O]*na;return T};ca.prototype.readUIntBE=function(Q,H,T){Q|=0;H|=0;T||Ya(Q,H,this.length);T=this[Q+--H];for(var na=1;0<H&&(na*=256);)T+=this[Q+--H]*
na;return T};ca.prototype.readUInt8=function(Q,H){H||Ya(Q,1,this.length);return this[Q]};ca.prototype.readUInt16LE=function(Q,H){H||Ya(Q,2,this.length);return this[Q]|this[Q+1]<<8};ca.prototype.readUInt16BE=function(Q,H){H||Ya(Q,2,this.length);return this[Q]<<8|this[Q+1]};ca.prototype.readUInt32LE=function(Q,H){H||Ya(Q,4,this.length);return(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+16777216*this[Q+3]};ca.prototype.readUInt32BE=function(Q,H){H||Ya(Q,4,this.length);return 16777216*this[Q]+(this[Q+1]<<16|
this[Q+2]<<8|this[Q+3])};ca.prototype.readIntLE=function(Q,H,T){Q|=0;H|=0;T||Ya(Q,H,this.length);T=this[Q];for(var na=1,O=0;++O<H&&(na*=256);)T+=this[Q+O]*na;T>=128*na&&(T-=Math.pow(2,8*H));return T};ca.prototype.readIntBE=function(Q,H,T){Q|=0;H|=0;T||Ya(Q,H,this.length);T=H;for(var na=1,O=this[Q+--T];0<T&&(na*=256);)O+=this[Q+--T]*na;O>=128*na&&(O-=Math.pow(2,8*H));return O};ca.prototype.readInt8=function(Q,H){H||Ya(Q,1,this.length);return this[Q]&128?-1*(255-this[Q]+1):this[Q]};ca.prototype.readInt16LE=
function(Q,H){H||Ya(Q,2,this.length);Q=this[Q]|this[Q+1]<<8;return Q&32768?Q|4294901760:Q};ca.prototype.readInt16BE=function(Q,H){H||Ya(Q,2,this.length);Q=this[Q+1]|this[Q]<<8;return Q&32768?Q|4294901760:Q};ca.prototype.readInt32LE=function(Q,H){H||Ya(Q,4,this.length);return this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24};ca.prototype.readInt32BE=function(Q,H){H||Ya(Q,4,this.length);return this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]};ca.prototype.readFloatLE=function(Q,H){H||Ya(Q,4,this.length);
return hb.read(this,Q,!0,23,4)};ca.prototype.readFloatBE=function(Q,H){H||Ya(Q,4,this.length);return hb.read(this,Q,!1,23,4)};ca.prototype.readDoubleLE=function(Q,H){H||Ya(Q,8,this.length);return hb.read(this,Q,!0,52,8)};ca.prototype.readDoubleBE=function(Q,H){H||Ya(Q,8,this.length);return hb.read(this,Q,!1,52,8)};ca.prototype.writeUIntLE=function(Q,H,T,na){Q=+Q;H|=0;T|=0;na||mb(this,Q,H,T,Math.pow(2,8*T)-1,0);na=1;var O=0;for(this[H]=Q&255;++O<T&&(na*=256);)this[H+O]=Q/na&255;return H+T};ca.prototype.writeUIntBE=
function(Q,H,T,na){Q=+Q;H|=0;T|=0;na||mb(this,Q,H,T,Math.pow(2,8*T)-1,0);na=T-1;var O=1;for(this[H+na]=Q&255;0<=--na&&(O*=256);)this[H+na]=Q/O&255;return H+T};ca.prototype.writeUInt8=function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,1,255,0);ca.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));this[H]=Q&255;return H+1};ca.prototype.writeUInt16LE=function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,2,65535,0);ca.TYPED_ARRAY_SUPPORT?(this[H]=Q&255,this[H+1]=Q>>>8):Ea(this,Q,H,!0);return H+2};ca.prototype.writeUInt16BE=function(Q,
H,T){Q=+Q;H|=0;T||mb(this,Q,H,2,65535,0);ca.TYPED_ARRAY_SUPPORT?(this[H]=Q>>>8,this[H+1]=Q&255):Ea(this,Q,H,!1);return H+2};ca.prototype.writeUInt32LE=function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,4,4294967295,0);ca.TYPED_ARRAY_SUPPORT?(this[H+3]=Q>>>24,this[H+2]=Q>>>16,this[H+1]=Q>>>8,this[H]=Q&255):Ga(this,Q,H,!0);return H+4};ca.prototype.writeUInt32BE=function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,4,4294967295,0);ca.TYPED_ARRAY_SUPPORT?(this[H]=Q>>>24,this[H+1]=Q>>>16,this[H+2]=Q>>>8,this[H+3]=Q&255):Ga(this,
Q,H,!1);return H+4};ca.prototype.writeIntLE=function(Q,H,T,na){Q=+Q;H|=0;na||(na=Math.pow(2,8*T-1),mb(this,Q,H,T,na-1,-na));na=0;var O=1,W=0;for(this[H]=Q&255;++na<T&&(O*=256);)0>Q&&0===W&&0!==this[H+na-1]&&(W=1),this[H+na]=(Q/O>>0)-W&255;return H+T};ca.prototype.writeIntBE=function(Q,H,T,na){Q=+Q;H|=0;na||(na=Math.pow(2,8*T-1),mb(this,Q,H,T,na-1,-na));na=T-1;var O=1,W=0;for(this[H+na]=Q&255;0<=--na&&(O*=256);)0>Q&&0===W&&0!==this[H+na+1]&&(W=1),this[H+na]=(Q/O>>0)-W&255;return H+T};ca.prototype.writeInt8=
function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,1,127,-128);ca.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));0>Q&&(Q=255+Q+1);this[H]=Q&255;return H+1};ca.prototype.writeInt16LE=function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,2,32767,-32768);ca.TYPED_ARRAY_SUPPORT?(this[H]=Q&255,this[H+1]=Q>>>8):Ea(this,Q,H,!0);return H+2};ca.prototype.writeInt16BE=function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,2,32767,-32768);ca.TYPED_ARRAY_SUPPORT?(this[H]=Q>>>8,this[H+1]=Q&255):Ea(this,Q,H,!1);return H+2};ca.prototype.writeInt32LE=function(Q,
H,T){Q=+Q;H|=0;T||mb(this,Q,H,4,2147483647,-2147483648);ca.TYPED_ARRAY_SUPPORT?(this[H]=Q&255,this[H+1]=Q>>>8,this[H+2]=Q>>>16,this[H+3]=Q>>>24):Ga(this,Q,H,!0);return H+4};ca.prototype.writeInt32BE=function(Q,H,T){Q=+Q;H|=0;T||mb(this,Q,H,4,2147483647,-2147483648);0>Q&&(Q=4294967295+Q+1);ca.TYPED_ARRAY_SUPPORT?(this[H]=Q>>>24,this[H+1]=Q>>>16,this[H+2]=Q>>>8,this[H+3]=Q&255):Ga(this,Q,H,!1);return H+4};ca.prototype.writeFloatLE=function(Q,H,T){return Ca(this,Q,H,!0,T)};ca.prototype.writeFloatBE=
function(Q,H,T){return Ca(this,Q,H,!1,T)};ca.prototype.writeDoubleLE=function(Q,H,T){return ab(this,Q,H,!0,T)};ca.prototype.writeDoubleBE=function(Q,H,T){return ab(this,Q,H,!1,T)};ca.prototype.copy=function(Q,H,T,na){T||(T=0);na||0===na||(na=this.length);H>=Q.length&&(H=Q.length);H||(H=0);0<na&&na<T&&(na=T);if(na===T||0===Q.length||0===this.length)return 0;if(0>H)throw new RangeError("targetStart out of bounds");if(0>T||T>=this.length)throw new RangeError("sourceStart out of bounds");if(0>na)throw new RangeError("sourceEnd out of bounds");
na>this.length&&(na=this.length);Q.length-H<na-T&&(na=Q.length-H+T);var O=na-T;if(this===Q&&T<H&&H<na)for(na=O-1;0<=na;--na)Q[na+H]=this[na+T];else if(1E3>O||!ca.TYPED_ARRAY_SUPPORT)for(na=0;na<O;++na)Q[na+H]=this[na+T];else Uint8Array.prototype.set.call(Q,this.subarray(T,T+O),H);return O};ca.prototype.fill=function(Q,H,T,na){if("string"===typeof Q){"string"===typeof H?(na=H,H=0,T=this.length):"string"===typeof T&&(na=T,T=this.length);if(1===Q.length){var O=Q.charCodeAt(0);256>O&&(Q=O)}if(void 0!==
na&&"string"!==typeof na)throw new TypeError("encoding must be a string");if("string"===typeof na&&!ca.isEncoding(na))throw new TypeError("Unknown encoding: "+na);}else"number"===typeof Q&&(Q&=255);if(0>H||this.length<H||this.length<T)throw new RangeError("Out of range index");if(T<=H)return this;H>>>=0;T=void 0===T?this.length:T>>>0;Q||(Q=0);if("number"===typeof Q)for(na=H;na<T;++na)this[na]=Q;else for(Q=ca.isBuffer(Q)?Q:ja((new ca(Q,na)).toString()),O=Q.length,na=0;na<T-H;++na)this[na+H]=Q[na%O];
return this};var $a=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[27]=function(mc,Rb,Jc,Nb){var n=Rb(26).Buffer;!function(x,ca){"object"==typeof Nb&&"undefined"!=typeof Jc?ca(Nb,Rb(16),Rb(22)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],ca):ca((x="undefined"!=typeof globalThis?globalThis:x||self).vega={},x.vega,x.vega)}(this,function(x,ca,Sa){function Wb(U,va){const xa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ma=yield xa.sanitize(U,va),R=ma.href;return ma.localFile?xa.file(R):
xa.http(R,va)})}function fb(U,va){const xa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){va=ca.extend({},xa.options,va);const ma=xa.fileAccess,R={href:null};let v,w,p;var r=$a.test(U.replace(Q,""));null!=U&&"string"==typeof U&&r||ca.error("Sanitize failure, invalid URI: "+ca.stringValue(U));r=ob.test(U);return(p=va.baseURL)&&!r&&(U.startsWith("/")||"/"===p[p.length-1]||(U="/"+U),U=p+U),w=(v=U.startsWith("file://"))||"file"===va.mode||"http"!==va.mode&&!r&&ma,v?U=U.slice(7):
U.startsWith("//")&&("file"===va.defaultProtocol?(U=U.slice(2),w=!0):U=(va.defaultProtocol||"http")+":"+U),Object.defineProperty(R,"localFile",{value:!!w}),R.href=U,va.target&&(R.target=va.target+""),va.rel&&(R.rel=va.rel+""),"image"===va.context&&va.crossOrigin&&(R.crossOrigin=va.crossOrigin+""),R})}function ub(U){return U?va=>new Promise((xa,ma)=>{U.readFile(va,(R,v)=>{R?ma(R):xa(v)})}):Qb}function Qb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ca.error("No file system access.")})}
function Bb(U){return U?function(va,xa){const ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var R=ca.extend({},ma.options.http,xa);const v=xa&&xa.response;R=yield U(va,R);return R.ok?ca.isFunction(R[v])?R[v]():R.text():ca.error(R.status+""+R.statusText)})}:bb}function bb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ca.error("No HTTP fetch method available.")})}function qb(U,va){if(!U||!U.length)return"unknown";const xa=U.length,ma=na.length,R=na.map((w,
p)=>p+1);for(let w,p,r=0,C=0;r<xa;++r)for(p=va?U[r][va]:U[r],w=0;w<ma;++w)if(R[w]&&null!=(v=p)&&v==v&&!na[w](p)&&(R[w]=0,++C,C===na.length))return"string";var v;return O[R.reduce((w,p)=>0===w?p:w,0)-1]}function sb(U,va){return va.reduce((xa,ma)=>(xa[ma]=qb(U,ma),xa),{})}function Wa(U){return new Function("d","return {"+U.map(function(va,xa){return JSON.stringify(va)+": d["+xa+'] || ""'}).join(",")+"}")}function Ha(U){var va=Object.create(null),xa=[];return U.forEach(function(ma){for(var R in ma)R in
va||xa.push(va[R]=R)}),xa}function Ia(U,va){U+="";var xa=U.length;return xa<va?Array(va-xa+1).join(0)+U:U}function Ya(U){function va(p,r){function C(){if(la)return ea;if(Ta)return Ta=!1,W;var Z,sa,eb=fa;if(34===p.charCodeAt(eb)){for(;fa++<B&&34!==p.charCodeAt(fa)||34===p.charCodeAt(++fa););return(Z=fa)>=B?la=!0:10===(sa=p.charCodeAt(fa++))?Ta=!0:13===sa&&(Ta=!0,10===p.charCodeAt(fa)&&++fa),p.slice(eb+1,Z-1).replace(/""/g,'"')}for(;fa<B;){if(10===(sa=p.charCodeAt(Z=fa++)))Ta=!0;else if(13===sa)Ta=
!0,10===p.charCodeAt(fa)&&++fa;else if(sa!==w)continue;return p.slice(eb,Z)}return la=!0,p.slice(eb,B)}var D,G=[],B=p.length,fa=0,wa=0,la=0>=B,Ta=!1;10===p.charCodeAt(B-1)&&--B;for(13===p.charCodeAt(B-1)&&--B;(D=C())!==ea;){for(var Ja=[];D!==W&&D!==ea;)Ja.push(D),D=C();r&&null==(Ja=r(Ja,wa++))||G.push(Ja)}return G}function xa(p,r){return p.map(function(C){return r.map(function(D){return R(C[D])}).join(U)})}function ma(p){return p.map(R).join(U)}function R(p){if(null==p)var r="";else{if(p instanceof
Date){var C=p.getUTCHours();var D=p.getUTCMinutes(),G=p.getUTCSeconds(),B=p.getUTCMilliseconds();C=isNaN(p)?"Invalid Date":(0>(r=p.getUTCFullYear())?"-"+Ia(-r,6):9999<r?"+"+Ia(r,6):Ia(r,4))+"-"+Ia(p.getUTCMonth()+1,2)+"-"+Ia(p.getUTCDate(),2)+(B?"T"+Ia(C,2)+":"+Ia(D,2)+":"+Ia(G,2)+"."+Ia(B,3)+"Z":G?"T"+Ia(C,2)+":"+Ia(D,2)+":"+Ia(G,2)+"Z":D||C?"T"+Ia(C,2)+":"+Ia(D,2)+"Z":"")}else C=v.test(p+="")?'"'+p.replace(/"/g,'""')+'"':p;r=C}return r}var v=new RegExp('["'+U+"\n\r]"),w=U.charCodeAt(0);return{parse:function(p,
r){var C,D;p=va(p,function(G,B){if(C)return C(G,B-1);D=G;C=r?function(fa,wa){var la=Wa(fa);return function(Ta,Ja){return wa(la(Ta),Ja,fa)}}(G,r):Wa(G)});return p.columns=D||[],p},parseRows:va,format:function(p,r){return null==r&&(r=Ha(p)),[r.map(R).join(U)].concat(xa(p,r)).join("\n")},formatBody:function(p,r){return null==r&&(r=Ha(p)),xa(p,r).join("\n")},formatRows:function(p){return p.map(ma).join("\n")},formatRow:ma,formatValue:R}}function mb(U){const va=function(xa,ma){const R={delimiter:U};return Ea(xa,
ma?ca.extend(ma,R):R)};return va.responseType="text",va}function Ea(U,va){return va.header&&(U=va.header.map(ca.stringValue).join(va.delimiter)+"\n"+U),Ya(va.delimiter).parse(U+"")}function Ga(U,va){const xa=va&&va.property?ca.field(va.property):ca.identity;!ca.isObject(U)||(ma=U,"function"==typeof n&&ca.isFunction(n.isBuffer)&&n.isBuffer(ma))?va=xa(JSON.parse(U)):(U=xa(U),!ca.isArray(U)&&ca.isIterable(U)&&(U=[...U]),va=va&&va.copy?JSON.parse(JSON.stringify(U)):U);return va;var ma}function jb(U){return U}
function Ca(U,va){return"string"==typeof va&&(va=U.objects[va]),"GeometryCollection"===va.type?{type:"FeatureCollection",features:va.geometries.map(function(xa){return ab(U,xa)})}:ab(U,va)}function ab(U,va){var xa=va.id,ma=va.bbox,R=null==va.properties?{}:va.properties;U=Ma(U,va);return null==xa&&null==ma?{type:"Feature",properties:R,geometry:U}:null==ma?{type:"Feature",id:xa,properties:R,geometry:U}:{type:"Feature",id:xa,bbox:ma,properties:R,geometry:U}}function Ma(U,va){function xa(r){return w(r)}
function ma(r){for(var C=[],D=0,G=r.length;D<G;++D){var B,fa=r[D],wa=C;wa.length&&wa.pop();var la=p[0>fa?~fa:fa],Ta=0;for(B=la.length;Ta<B;++Ta)wa.push(w(la[Ta],Ta));if(0>fa)for(fa=wa.length,la=fa-B;la<--fa;)B=wa[la],wa[la++]=wa[fa],wa[fa]=B}return 2>C.length&&C.push(C[0]),C}function R(r){for(r=ma(r);4>r.length;)r.push(r[0]);return r}function v(r){return r.map(R)}var w=function(r){if(null==r)return jb;var C,D,G=r.scale[0],B=r.scale[1],fa=r.translate[0],wa=r.translate[1];return function(la,Ta){Ta||
(C=D=0);Ta=2;var Ja=la.length,Z=Array(Ja);Z[0]=(C+=la[0])*G+fa;for(Z[1]=(D+=la[1])*B+wa;Ta<Ja;)Z[Ta]=la[Ta],++Ta;return Z}}(U.transform),p=U.arcs;return function D(C){var G=C.type;switch(G){case "GeometryCollection":return{type:G,geometries:C.geometries.map(D)};case "Point":C=w(C.coordinates);break;case "MultiPoint":C=C.coordinates.map(xa);break;case "LineString":C=ma(C.arcs);break;case "MultiLineString":C=C.arcs.map(ma);break;case "Polygon":C=v(C.arcs);break;case "MultiPolygon":C=C.arcs.map(v);break;
default:return null}return{type:G,coordinates:C}}(va)}function ja(U,va){function xa(r,C){for(var D in r){var G=r[D];delete C[G.start];delete G.start;delete G.end;G.forEach(function(B){ma[0>B?~B:B]=1});w.push(G)}}var ma={},R={},v={},w=[],p=-1;return va.forEach(function(r,C){var D,G=U.arcs[0>r?~r:r];3>G.length&&!G[1][0]&&!G[1][1]&&(D=va[++p],va[p]=r,va[C]=D)}),va.forEach(function(r){var C=function(B){var fa,wa=U.arcs[0>B?~B:B],la=wa[0];U.transform?(fa=[0,0],wa.forEach(function(Ta){fa[0]+=Ta[0];fa[1]+=
Ta[1]})):fa=wa[wa.length-1];return 0>B?[fa,la]:[la,fa]}(r);var D=C[0],G=C[1];(C=v[D])?(delete v[C.end],C.push(r),C.end=G,r=R[G])?(delete R[r.start],D=r===C?C:C.concat(r),R[D.start=C.start]=v[D.end=r.end]=D):R[C.start]=v[C.end]=C:(C=R[G])?(delete R[C.start],C.unshift(r),C.start=D,r=v[D])?(delete v[r.end],D=r===C?C:r.concat(C),R[D.start=r.start]=v[D.end=C.end]=D):R[C.start]=v[C.end]=C:R[(C=[r]).start=D]=v[C.end=G]=C}),xa(v,R),xa(R,v),va.forEach(function(r){ma[0>r?~r:r]||w.push([r])}),w}function Aa(U){return Ma(U,
Qa.apply(this,arguments))}function Qa(U,va,xa){var ma;if(1<arguments.length)var R=Xa(U,va,xa);else{var v=0;for(R=Array(ma=U.arcs.length);v<ma;++v)R[v]=v}return{type:"MultiLineString",arcs:ja(U,R)}}function Xa(U,va,xa){function ma(C){var D=0>C?~C:C;(r[D]||(r[D]=[])).push({i:C,g:w})}function R(C){C.forEach(ma)}function v(C){C.forEach(R)}var w,p=[],r=[];return function G(D){switch(w=D,D.type){case "GeometryCollection":D.geometries.forEach(G);break;case "LineString":R(D.arcs);break;case "MultiLineString":case "Polygon":v(D.arcs);
break;case "MultiPolygon":D.arcs.forEach(v),!0}}(va),r.forEach(null==xa?function(D){p.push(D[0].i)}:function(D){xa(D[0].g,D[D.length-1].g)&&p.push(D[0].i)}),p}function hb(U,va){let xa,ma,R,v;return U=Ga(U,va),va&&va.feature?(xa=Ca,R=va.feature):va&&va.mesh?(xa=Aa,R=va.mesh,v=pa[va.filter]):ca.error("Missing TopoJSON feature or mesh parameter."),ma=(ma=U.objects[R])?xa(U,ma,v):ca.error("Invalid TopoJSON object: "+R),ma&&ma.features||[ma]}function cb(U,va){return 1<arguments.length?(Ua[U]=va,this):
ca.hasOwnProperty(Ua,U)?Ua[U]:null}const ob=/^([A-Za-z]+:)?\/\//,$a=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Q=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,H=U=>!(Number.isNaN(+U)||U instanceof Date),T={boolean:ca.toBoolean,integer:ca.toNumber,number:ca.toNumber,date:ca.toDate,string:ca.toString,unknown:ca.identity},na=[U=>"true"===U||"false"===U||!0===U||!1===U,U=>H(U)&&Number.isInteger(+U),H,U=>!Number.isNaN(Date.parse(U))],
O=["boolean","integer","number","date"];var W={},ea={};Ea.responseType="text";Ga.responseType="json";const pa={interior:(U,va)=>U!==va,exterior:(U,va)=>U===va};hb.responseType="json";const Ua={dsv:Ea,csv:mb(","),tsv:mb("\t"),json:Ga,topojson:hb},db=function(U,va){return xa=>({options:xa||{},sanitize:fb,load:Wb,fileAccess:!!va,file:ub(va),http:Bb(U)})}("undefined"!=typeof fetch&&fetch,null);x.format=Ua;x.formats=cb;x.inferType=qb;x.inferTypes=sb;x.loader=db;x.read=function(U,va,xa,ma){const R=cb((va=
va||{}).type||"json");return R||ca.error("Unknown data format type: "+va.type),U=R(U,va),va.parse&&function(v,w,p,r){if(v.length){var C=Sa.timeFormatDefaultLocale();p=p||C.timeParse;r=r||C.utcParse;var D,G,B=v.columns||Object.keys(v[0]);"auto"===w&&(w=sb(v,B));B=Object.keys(w);var fa=B.map(Ja=>{var Z=w[Ja];if(Z&&(Z.startsWith("date:")||Z.startsWith("utc:")))return Ja=Z.split(/:(.+)?/,2),Z=Ja[1],("'"===Z[0]&&"'"===Z[Z.length-1]||'"'===Z[0]&&'"'===Z[Z.length-1])&&(Z=Z.slice(1,-1)),("utc"===Ja[0]?r:
p)(Z);if(!T[Z])throw Error("Illegal format pattern: "+Ja+":"+Z);return T[Z]});var wa=0;var la=v.length;for(G=B.length;wa<la;++wa)for(C=v[wa],D=0;D<G;++D){var Ta=B[D];C[Ta]=fa[D](C[Ta])}}}(U,va.parse,xa,ma),ca.hasOwnProperty(U,"columns")&&delete U.columns,U};x.responseType=function(U){return(U=cb(U))&&U.responseType||"text"};x.typeParsers=T;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[28]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(27),Rb(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,x,ca,Sa){function Wb(U){const va=U||x.identity,xa=[],ma={};xa.add=R=>{const v=va(R);ma[v]||(ma[v]=1,xa.push(R));return xa};xa.remove=R=>{const v=va(R);ma[v]&&(ma[v]=
0,R=xa.indexOf(R),0<=R&&xa.splice(R,1));return xa};return xa}function fb(U,va){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield va(U)}catch(xa){U.error(xa)}})}function ub(U){U=U===Object(U)?U:{data:U};if(!U[H]){var va=T++;U[H]=va}return U}function Qb(U,va){for(const xa in U)va[xa]=U[xa];return va}function Bb(U){return U&&U.constructor===bb}function bb(){const U=[],va=[],xa=[],ma=[],R=[];let v=null,w=!1;return{constructor:bb,insert(p){p=x.array(p);const r=p.length;for(let C=
0;C<r;++C)U.push(p[C]);return this},remove(p){const r=x.isFunction(p)?ma:va;p=x.array(p);const C=p.length;for(let D=0;D<C;++D)r.push(p[D]);return this},modify(p,r,C){r={field:r,value:x.constant(C)};x.isFunction(p)?(r.filter=p,R.push(r)):(r.tuple=p,xa.push(r));return this},encode(p,r){x.isFunction(p)?R.push({filter:p,field:r}):xa.push({tuple:p,field:r});return this},clean(p){v=p;return this},reflow(){w=!0;return this},pulse(p,r){function C(Z,sa,eb){eb?Z[sa]=eb(Z):p.encode=sa;w||(G[Z[H]]=Z)}const D=
{},G={};let B,fa,wa,la,Ta,Ja;B=0;for(fa=r.length;B<fa;++B)D[r[B][H]]=1;B=0;for(fa=va.length;B<fa;++B)Ta=va[B],D[Ta[H]]=-1;B=0;for(fa=ma.length;B<fa;++B)la=ma[B],r.forEach(Z=>{la(Z)&&(D[Z[H]]=-1)});B=0;for(fa=U.length;B<fa;++B)Ta=U[B],Ja=Ta[H],D[Ja]?D[Ja]=1:p.add.push(ub(U[B]));B=0;for(fa=r.length;B<fa;++B)Ta=r[B],0>D[Ta[H]]&&p.rem.push(Ta);B=0;for(fa=xa.length;B<fa;++B)wa=xa[B],Ta=wa.tuple,la=wa.field,Ja=D[Ta[H]],0<Ja&&(C(Ta,la,wa.value),p.modifies(la));B=0;for(fa=R.length;B<fa;++B)wa=R[B],la=wa.filter,
r.forEach(Z=>{la(Z)&&0<D[Z[H]]&&C(Z,wa.field,wa.value)}),p.modifies(wa.field);if(w)p.mod=va.length||ma.length?r.filter(Z=>0<D[Z[H]]):r.slice();else for(Ja in G)p.mod.push(G[Ja]);(v||null==v&&(va.length||ma.length))&&p.clean(!0);return p}}}function qb(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function sb(U,va,xa,ma){this.id=++na;this.value=U;this.qrank=this.rank=this.stamp=-1;this.flags=0;va&&(this._update=va);xa&&this.parameters(xa,ma)}function Wa(U){return function(va){const xa=
this.flags;if(0===arguments.length)return!!(xa&U);this.flags=va?xa|U:xa&~U;return this}}function Ha(U,va,xa){this.id=++W;this.value=null;xa&&(this.receive=xa);U&&(this._filter=U);va&&(this._apply=va)}function Ia(U,va,xa){return new Ha(U,va,xa)}function Ya(U){let va;const xa=new Promise(ma=>va=ma);xa.requests=0;xa.done=()=>{0===--xa.requests&&(U._pending=null,va(U))};return U._pending=xa}function mb(U,va,xa,ma,R,v){const w=x.extend({},v,ea);let p;x.isFunction(xa)||(xa=x.constant(xa));void 0===ma?R=
r=>U.touch(xa(r)):x.isFunction(ma)?(p=new sb(null,ma,R,!1),R=r=>{p.evaluate(r);r=xa(r);const C=p.value;Bb(C)?U.pulse(r,C,v):U.update(r,C,w)}):R=r=>U.update(xa(r),ma,w);va.apply(R)}function Ea(U,va,xa,ma,R,v){void 0===ma?va.targets().add(xa):(v=v||{},ma=new sb(null,Ga(xa,ma),R,!1),ma.modified(v.force),ma.rank=va.rank,va.targets().add(ma),xa&&(ma.skip(!0),ma.value=xa.value,ma.targets().add(xa),U.connect(xa,[ma])))}function Ga(U,va){va=x.isFunction(va)?va:x.constant(va);return U?function(xa,ma){xa=va(xa,
ma);U.skip()||(U.skip(xa!==this.value).value=xa);return xa}:va}function jb(U,va,xa){this.dataflow=U;this.stamp=null==va?-1:va;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=xa||null}function Ca(U,va){const xa=[];x.visitArray(U,va,ma=>xa.push(ma));return xa}function ab(U,va){const xa={};U.visit(va,ma=>{xa[ma[H]]=1});return ma=>xa[ma[H]]?null:ma}function Ma(U,va){return U?(xa,ma)=>U(xa,ma)&&va(xa,ma):va}function ja(U,va,xa,ma){const R=xa.length;let v=0;this.dataflow=U;this.stamp=va;
this.fields=null;this.encode=ma||null;this.pulses=xa;for(U=0;U<R;++U)if(ma=xa[U],ma.stamp===va){if(ma.fields){const w=this.fields||(this.fields={});for(const p in ma.fields)w[p]=1}ma.changed(this.ADD)&&(v|=this.ADD);ma.changed(this.REM)&&(v|=this.REM);ma.changed(this.MOD)&&(v|=this.MOD)}this.changes=v}function Aa(U){U.error("Dataflow already running. Use runAsync() to chain invocations.");return U}function Qa(U,va){if(va&&va.stamp===U.stamp)return va;U=U.fork();va&&va!==pa&&(U.source=va.source);return U}
function Xa(U){let va=[];return{clear:()=>va=[],size:()=>va.length,peek:()=>va[0],push:xa=>{va.push(xa);return hb(va,0,va.length-1,U)},pop:()=>{var xa=va.pop();let ma;if(va.length){ma=va[0];va[0]=xa;{xa=va;var R=0;const v=R,w=xa.length,p=xa[R];let r=(R<<1)+1,C;for(;r<w;)C=r+1,C<w&&0<=U(xa[r],xa[C])&&(r=C),xa[R]=xa[r],R=r,r=(R<<1)+1;xa[R]=p;hb(xa,v,R,U)}}else ma=xa;return ma}}}function hb(U,va,xa,ma){let R,v;const w=U[xa];for(;xa>va;)if(v=xa-1>>1,R=U[v],0>ma(w,R))U[xa]=R,xa=v;else break;return U[xa]=
w}function cb(){this.logger(x.logger());this.logLevel(x.Error);this._rank=this._clock=0;this._locale=Sa.defaultLocale();try{this._loader=ca.loader()}catch(U){}this._touched=Wb(x.id);this._input={};this._pulse=null;this._heap=Xa((U,va)=>U.qrank-va.qrank);this._postrun=[]}function ob(U){return function(){return this._log[U].apply(this,arguments)}}function $a(U,va){sb.call(this,U,null,va)}function Q(U){U=U&&U.toLowerCase();return x.hasOwnProperty(db,U)?db[U]:null}const H=Symbol("vega_id");let T=1;qb.prototype=
{set(U,va,xa,ma){const R=this[U],v=this["_:mod:_"];if(null!=va&&0<=va){if(R[va]!==xa||ma)R[va]=xa,v[va+":"+U]=-1,v[U]=-1}else if(R!==xa||ma)this[U]=xa,v[U]=x.isArray(xa)?1+xa.length:-1;return this},modified(U,va){const xa=this["_:mod:_"];if(!arguments.length){for(var ma in xa)if(xa[ma])return!0;return!1}if(x.isArray(U)){for(ma=0;ma<U.length;++ma)if(xa[U[ma]])return!0;return!1}return null!=va&&0<=va?va+1<xa[U]||!!xa[va+":"+U]:!!xa[U]},clear(){this["_:mod:_"]={};return this}};let na=0;const O=new qb;
sb.prototype={targets(){return this._targets||(this._targets=Wb(x.id))},set(U){return this.value!==U?(this.value=U,1):0},skip:Wa(1),modified:Wa(2),parameters(U,va,xa){va=!1!==va;const ma=this._argval=this._argval||new qb,R=this._argops=this._argops||[],v=[];let w,p,r,C;const D=(G,B,fa)=>{fa instanceof sb?(fa!==this&&(va&&fa.targets().add(this),v.push(fa)),R.push({op:fa,name:G,index:B})):ma.set(G,B,fa)};for(w in U)if(p=U[w],"pulse"===w)x.array(p).forEach(G=>{G instanceof sb?G!==this&&(G.targets().add(this),
v.push(G)):x.error("Pulse parameters must be operator instances.")}),this.source=p;else if(x.isArray(p))for(ma.set(w,-1,Array(r=p.length)),C=0;C<r;++C)D(w,C,p[C]);else D(w,-1,p);this.marshall().clear();xa&&(R.initonly=!0);return v},marshall(U){const va=this._argval||O,xa=this._argops;let ma,R,v,w;if(xa){const p=xa.length;for(R=0;R<p;++R)ma=xa[R],v=ma.op,w=v.modified()&&v.stamp===U,va.set(ma.name,ma.index,v.value,w);if(xa.initonly){for(R=0;R<p;++R)ma=xa[R],ma.op.targets().remove(this);this._update=
this._argops=null}}return va},detach(){const U=this._argops;let va,xa;if(U)for(va=0,xa=U.length;va<xa;++va){var ma=U[va];ma=ma.op;ma._targets&&ma._targets.remove(this)}},evaluate(U){var va=this._update;if(va){const xa=this.marshall(U.stamp);va=va.call(this,xa,U);xa.clear();if(va!==this.value)this.value=va;else if(!this.modified())return U.StopPropagation}},run(U){if(U.stamp<this.stamp)return U.StopPropagation;let va;this.skip()?(this.skip(!1),va=0):va=this.evaluate(U);return this.pulse=va||U}};let W=
0;Ha.prototype={_filter:x.truthy,_apply:x.identity,targets(){return this._targets||(this._targets=Wb(x.id))},consume(U){if(!arguments.length)return!!this._consume;this._consume=!!U;return this},receive(U){if(this._filter(U)){const va=this.value=this._apply(U),xa=this._targets,ma=xa?xa.length:0;for(let R=0;R<ma;++R)xa[R].receive(va);this._consume&&(U.preventDefault(),U.stopPropagation())}},filter(U){U=Ia(U);this.targets().add(U);return U},apply(U){U=Ia(null,U);this.targets().add(U);return U},merge(){const U=
Ia();this.targets().add(U);for(let va=0,xa=arguments.length;va<xa;++va)arguments[va].targets().add(U);return U},throttle(U){let va=-1;return this.filter(()=>{const xa=Date.now();return xa-va>U?(va=xa,1):0})},debounce(U){const va=Ia();this.targets().add(Ia(null,null,x.debounce(U,xa=>{const ma=xa.dataflow;va.receive(xa);ma&&ma.run&&ma.run()})));return va},between(U,va){let xa=!1;U.targets().add(Ia(null,null,()=>xa=!0));va.targets().add(Ia(null,null,()=>xa=!1));return this.filter(()=>xa)},detach(){}};
const ea={skip:!0},pa={};jb.prototype={StopPropagation:pa,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(U){return(new jb(this.dataflow)).init(this,U)},clone(){const U=this.fork(7);U.add=U.add.slice();U.rem=U.rem.slice();U.mod=U.mod.slice();U.source&&(U.source=U.source.slice());return U.materialize(23)},addAll(){let U=this;U.source&&U.add!==U.rem&&(U.rem.length||U.source.length!==U.add.length)&&(U=(new jb(this.dataflow)).init(this),U.add=U.source,U.rem=
[]);return U},init(U,va){this.stamp=U.stamp;this.encode=U.encode;!U.fields||va&64||(this.fields=U.fields);va&1?(this.addF=U.addF,this.add=U.add):(this.addF=null,this.add=[]);va&2?(this.remF=U.remF,this.rem=U.rem):(this.remF=null,this.rem=[]);va&4?(this.modF=U.modF,this.mod=U.mod):(this.modF=null,this.mod=[]);va&32?this.source=this.srcF=null:(this.srcF=U.srcF,this.source=U.source,U.cleans&&(this.cleans=U.cleans));return this},runAfter(U){this.dataflow.runAfter(U)},changed(U){U=U||7;return U&1&&this.add.length||
U&2&&this.rem.length||U&4&&this.mod.length},reflow(U){if(U)return this.fork(7).reflow();U=this.add.length;const va=this.source&&this.source.length;va&&va!==U&&(this.mod=this.source,U&&this.filter(4,ab(this,1)));return this},clean(U){return arguments.length?(this.cleans=!!U,this):this.cleans},modifies(U){const va=this.fields||(this.fields={});x.isArray(U)?U.forEach(xa=>va[xa]=!0):va[U]=!0;return this},modified(U,va){const xa=this.fields;return(va||this.mod.length)&&xa?arguments.length?x.isArray(U)?
U.some(ma=>xa[ma]):xa[U]:!!xa:!1},filter(U,va){U&1&&(this.addF=Ma(this.addF,va));U&2&&(this.remF=Ma(this.remF,va));U&4&&(this.modF=Ma(this.modF,va));U&16&&(this.srcF=Ma(this.srcF,va));return this},materialize(U){U=U||7;U&1&&this.addF&&(this.add=Ca(this.add,this.addF),this.addF=null);U&2&&this.remF&&(this.rem=Ca(this.rem,this.remF),this.remF=null);U&4&&this.modF&&(this.mod=Ca(this.mod,this.modF),this.modF=null);U&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},
visit(U,va){if(U&16)return x.visitArray(this.source,this.srcF,va),this;U&1&&x.visitArray(this.add,this.addF,va);U&2&&x.visitArray(this.rem,this.remF,va);U&4&&x.visitArray(this.mod,this.modF,va);const xa=this.source;U&8&&xa&&(U=this.add.length+this.mod.length,U!==xa.length&&(U?x.visitArray(xa,ab(this,5),va):x.visitArray(xa,this.srcF,va)));return this}};x.inherits(ja,jb,{fork(U){const va=(new jb(this.dataflow)).init(this,U&this.NO_FIELDS);void 0!==U&&(U&va.ADD&&this.visit(va.ADD,xa=>va.add.push(xa)),
U&va.REM&&this.visit(va.REM,xa=>va.rem.push(xa)),U&va.MOD&&this.visit(va.MOD,xa=>va.mod.push(xa)));return va},changed(U){return this.changes&U},modified(U){const va=this.fields;return va&&this.changes&this.MOD?x.isArray(U)?U.some(xa=>va[xa]):va[U]:0},filter(){x.error("MultiPulse does not support filtering.")},materialize(){x.error("MultiPulse does not support materialization.")},visit(U,va){const xa=this.pulses,ma=xa.length;let R=0;if(U&this.SOURCE)for(;R<ma;++R)xa[R].visit(U,va);else for(;R<ma;++R)xa[R].stamp===
this.stamp&&xa[R].visit(U,va);return this}});const Ua={skip:!1,force:!1};cb.prototype={stamp(){return this._clock},loader(U){return arguments.length?(this._loader=U,this):this._loader},locale(U){return arguments.length?(this._locale=U,this):this._locale},logger(U){return arguments.length?(this._log=U,this):this._log},error:ob("error"),warn:ob("warn"),info:ob("info"),debug:ob("debug"),logLevel:ob("level"),cleanThreshold:1E4,add:function(U,va,xa,ma){let R=1;U instanceof sb||(U&&U.prototype instanceof
sb?U=new U:x.isFunction(U)?U=new sb(null,U):(R=0,U=new sb(U,va)));this.rank(U);R&&(ma=xa,xa=va);xa&&this.connect(U,U.parameters(xa,ma));this.touch(U);return U},connect:function(U,va){const xa=U.rank,ma=va.length;for(let R=0;R<ma;++R)if(xa<va[R].rank){this.rerank(U);break}},rank:function(U){U.rank=++this._rank},rerank:function(U){const va=[U];let xa,ma,R;for(;va.length;)if(this.rank(xa=va.pop()),ma=xa._targets)for(R=ma.length;0<=--R;)va.push(xa=ma[R]),xa===U&&x.error("Cycle detected in dataflow graph.")},
pulse:function(U,va,xa){this.touch(U,xa||Ua);xa=new jb(this,this._clock+(this._pulse?0:1));const ma=U.pulse&&U.pulse.source||[];xa.target=U;this._input[U.id]=va.pulse(xa,ma);return this},touch:function(U,va){va=va||Ua;this._pulse?this._enqueue(U):this._touched.add(U);va.skip&&U.skip(!0);return this},update:function(U,va,xa){xa=xa||Ua;(U.set(va)||xa.force)&&this.touch(U,xa);return this},changeset:bb,ingest:function(U,va,xa){va=this.parse(va,xa);return this.pulse(U,this.changeset().insert(va))},parse:function(U,
va){const xa=this.locale();return ca.read(U,va,xa.timeParse,xa.utcParse)},preload:function(U,va,xa){const ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const R=ma._pending||Ya(ma);R.requests+=1;const v=yield ma.request(va,xa);ma.pulse(U,ma.changeset().remove(x.truthy).insert(v.data||[]));R.done();return v})},request:function(U,va){const xa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let ma=0,R;try{R=yield xa.loader().load(U,{context:"dataflow",response:ca.responseType(va&&
va.type)});try{R=xa.parse(R,va)}catch(v){ma=-2,xa.warn("Data ingestion failed",U,v)}}catch(v){ma=-1,xa.warn("Loading failed",U,v)}return{data:R,status:ma}})},events:function(U,va,xa,ma){const R=this,v=Ia(xa,ma);xa=function(w){w.dataflow=R;try{v.receive(w)}catch(p){R.error(p)}finally{R.run()}};U="string"===typeof U&&"undefined"!==typeof document?document.querySelectorAll(U):x.array(U);ma=U.length;for(let w=0;w<ma;++w)U[w].addEventListener(va,xa);return v},on:function(U,va,xa,ma,R){(U instanceof sb?
Ea:mb)(this,U,va,xa,ma,R);return this},evaluate:function(U,va,xa){const ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const R=[];if(ma._pulse)return Aa(ma);ma._pending&&(yield ma._pending);va&&(yield fb(ma,va));if(!ma._touched.length)return ma.debug("Dataflow invoked, but nothing to do."),ma;var v=++ma._clock;ma._pulse=new jb(ma,v,U);ma._touched.forEach(D=>ma._enqueue(D,!0));ma._touched=Wb(x.id);var w=0;let p,r,C;try{for(;0<ma._heap.size();)p=ma._heap.pop(),p.rank!==p.qrank?
ma._enqueue(p,!0):(r=p.run(ma._getPulse(p,U)),r.then?r=yield r:r.async&&(R.push(r.async),r=pa),r!==pa&&p._targets&&p._targets.forEach(D=>ma._enqueue(D)),++w)}catch(D){ma._heap.clear(),C=D}ma._input={};ma._pulse=null;ma.debug(`Pulse ${v}: ${w} operators`);C&&(ma._postrun=[],ma.error(C));if(ma._postrun.length)for(v=ma._postrun.sort((D,G)=>G.priority-D.priority),ma._postrun=[],w=0;w<v.length;++w)yield fb(ma,v[w].callback);xa&&(yield fb(ma,xa));R.length&&Promise.all(R).then(D=>ma.runAsync(null,()=>{D.forEach(G=>
{try{G(ma)}catch(B){ma.error(B)}})}));return ma})},run:function(U,va,xa){return this._pulse?Aa(this):(this.evaluate(U,va,xa),this)},runAsync:function(U,va,xa){const ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;ma._running;)yield ma._running;const R=()=>ma._running=null;(ma._running=ma.evaluate(U,va,xa)).then(R,R);return ma._running})},runAfter:function(U,va,xa){if(this._pulse||va)this._postrun.push({priority:xa||0,callback:U});else try{U(this)}catch(ma){this.error(ma)}},
_enqueue:function(U,va){const xa=U.stamp<this._clock;xa&&(U.stamp=this._clock);if(xa||va)U.qrank=U.rank,this._heap.push(U)},_getPulse:function(U,va){const xa=U.source,ma=this._clock;return xa&&x.isArray(xa)?new ja(this,ma,xa.map(R=>R.pulse),va):this._input[U.id]||Qa(this._pulse,xa&&xa.pulse)}};x.inherits($a,sb,{run(U){if(U.stamp<this.stamp)return U.StopPropagation;let va;this.skip()?this.skip(!1):va=this.evaluate(U);va=va||U;va.then?va=va.then(xa=>this.pulse=xa):va!==U.StopPropagation&&(this.pulse=
va);return va},evaluate(U){const va=this.marshall(U.stamp);U=this.transform(va,U);va.clear();return U},transform(){}});const db={};n.Dataflow=cb;n.EventStream=Ha;n.MultiPulse=ja;n.Operator=sb;n.Parameters=qb;n.Pulse=jb;n.Transform=$a;n.UniqueList=Wb;n.asyncCallback=fb;n.changeset=bb;n.definition=function(U){return(U=Q(U))&&U.Definition||null};n.derive=function(U){return Qb(U,ub({}))};n.ingest=ub;n.isChangeSet=Bb;n.isTuple=function(U){return!(!U||!U[H])};n.rederive=Qb;n.replace=function(U,va){va[H]=
U[H];return va};n.stableCompare=function(U,va){return U?va?(xa,ma)=>U(xa,ma)||va(xa)[H]-va(ma)[H]:(xa,ma)=>U(xa,ma)||xa[H]-ma[H]:null};n.transform=Q;n.transforms=db;n.tupleid=function(U){return U[H]};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[29]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(17)):"function"===typeof define&&define.amd?define(["exports","d3-array"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.d3))})(this,function(n,x){function*ca(H,T){if(null==T)for(var na of H)null!=na&&""!==na&&(na=+na)>=na&&(yield na);else{na=-1;for(let O of H)O=T(O,++na,H),null!=O&&""!==O&&(O=+O)>=O&&(yield O)}}function Sa(H,T,na){const O=Float64Array.from(ca(H,na));
O.sort(x.ascending);return T.map(W=>x.quantileSorted(O,W))}function Wb(H,T){return Sa(H,[.25,.5,.75],T)}function fb(H,T){const na=H.length,O=x.deviation(H,T);H=Wb(H,T);return 1.06*(Math.min(O,(H[2]-H[0])/1.34)||O||Math.abs(H[0])||1)*Math.pow(na,-.2)}function ub(H,T){const na=H.length;let O=0,W=1,ea,pa;for(;H[O]===H[W];)++W;for(;W<na;){for(ea=W+1;H[W]===H[ea];)++ea;if(H[W]-H[W-1]<T){for(pa=W+(O+ea-W-W>>1);pa<W;)H[pa++]=H[W];for(;pa>W;)H[pa--]=H[O]}O=W;W=ea}return H}function Qb(H,T){H=H||0;T=null==
T?1:T;let na,O;if($a===$a)na=$a,$a=NaN;else{do{na=2*n.random()-1;O=2*n.random()-1;var W=na*na+O*O}while(0===W||1<W);W=Math.sqrt(-2*Math.log(W)/W);na*=W;$a=O*W}return H+na*T}function Bb(H,T,na){na=null==na?1:na;H=(H-(T||0))/na;return Math.exp(-.5*H*H)/(na*cb)}function bb(H,T,na){H=(H-(T||0))/(null==na?1:na);T=Math.abs(H);37<T?na=0:(na=Math.exp(-T*T/2),7.07106781186547>T?(na*=(((((.0352624965998911*T+.700383064443688)*T+6.37396220353165)*T+33.912866078383)*T+112.079291497871)*T+221.213596169931)*T+
220.206867912376,na/=((((((.0883883476483184*T+1.75566716318264)*T+16.064177579207)*T+86.7807322029461)*T+296.564248779674)*T+637.333633378831)*T+793.826512519948)*T+440.413735824752):na=na/(T+1/(T+2/(T+3/(T+4/(T+.65)))))/2.506628274631);return 0<H?1-na:na}function qb(H,T,na){if(0>H||1<H)return NaN;H=2*H-1;var O=-Math.log((1-H)*(1+H));6.25>O?(O-=3.125,O=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O):16>O?(O=Math.sqrt(O)-3.25,O=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O):Number.isFinite(O)?(O=Math.sqrt(O)-5,O=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O)*O):O=Infinity;H*=O;return(T||0)+(null==na?1:na)*ob*H}function sb(H,T){let na,O;const W={mean(ea){return arguments.length?
(na=ea||0,W):na},stdev(ea){return arguments.length?(O=null==ea?1:ea,W):O},sample:()=>Qb(na,O),pdf:ea=>Bb(ea,na,O),cdf:ea=>bb(ea,na,O),icdf:ea=>qb(ea,na,O)};return W.mean(H).stdev(T)}function Wa(H,T){T=null==T?1:T;return Math.exp((H||0)+Qb()*T)}function Ha(H,T,na){if(0>=H)return 0;na=null==na?1:na;T=(Math.log(H)-(T||0))/na;return Math.exp(-.5*T*T)/(na*cb*H)}function Ia(H,T,na){return bb(Math.log(H),T,na)}function Ya(H,T,na){return Math.exp(qb(H,T,na))}function mb(H,T){null==T&&(T=null==H?1:H,H=0);
return H+(T-H)*n.random()}function Ea(H,T,na){null==na&&(na=null==T?1:T,T=0);return H>=T&&H<=na?1/(na-T):0}function Ga(H,T,na){null==na&&(na=null==T?1:T,T=0);return H<T?0:H>na?1:(H-T)/(na-T)}function jb(H,T,na){null==na&&(na=null==T?1:T,T=0);return 0<=H&&1>=H?T+H*(na-T):NaN}function Ca(H,T,na,O){O-=H*H;na=1E-24>Math.abs(O)?0:(na-H*T)/O;return[T-na*H,na]}function ab(H,T,na,O){H=H.filter(xa=>{let ma=T(xa);xa=na(xa);return null!=ma&&(ma=+ma)>=ma&&null!=xa&&(xa=+xa)>=xa});O&&H.sort((xa,ma)=>T(xa)-T(ma));
O=H.length;const W=new Float64Array(O),ea=new Float64Array(O);let pa=0,Ua=0,db=0,U,va;for(va of H)W[pa]=H=+T(va),ea[pa]=U=+na(va),++pa,Ua+=(H-Ua)/pa,db+=(U-db)/pa;for(pa=0;pa<O;++pa)W[pa]-=Ua,ea[pa]-=db;return[W,ea,Ua,db]}function Ma(H,T,na,O){let W=-1,ea;for(const pa of H)H=T(pa),ea=na(pa),null!=H&&(H=+H)>=H&&null!=ea&&(ea=+ea)>=ea&&O(H,ea,++W)}function ja(H,T,na,O,W){let ea=0,pa=0;Ma(H,T,na,(Ua,db)=>{Ua=db-W(Ua);db-=O;ea+=Ua*Ua;pa+=db*db});return 1-ea/pa}function Aa(H,T,na){let O=0,W=0,ea=0,pa=
0,Ua=0;Ma(H,T,na,(va,xa)=>{++Ua;O+=(va-O)/Ua;W+=(xa-W)/Ua;ea+=(va*xa-ea)/Ua;pa+=(va*va-pa)/Ua});const db=Ca(O,W,ea,pa),U=va=>db[0]+db[1]*va;return{coef:db,predict:U,rSquared:ja(H,T,na,W,U)}}function Qa(H,T,na){const [O,W,ea,pa]=ab(H,T,na);var Ua=O.length,db=0;let U=0;var va=0;let xa=0,ma=0,R,v,w,p;for(R=0;R<Ua;)v=O[R],w=W[R++],p=v*v,db+=(p-db)/R,U+=(p*v-U)/R,va+=(p*p-va)/R,xa+=(v*w-xa)/R,ma+=(p*w-ma)/R;Ua=va-db*db;va=db*Ua-U*U;const r=(ma*db-xa*U)/va,C=(xa*Ua-ma*U)/va,D=-r*db;db=G=>{G-=ea;return r*
G*G+C*G+D+pa};return{coef:[D-C*ea+r*ea*ea+pa,C-2*r*ea,r],predict:db,rSquared:ja(H,T,na,pa,db)}}function Xa(H,T,na,O){const W=Array(H);let ea,pa,Ua;for(ea=0;ea<H;++ea)W[ea]=0;for(ea=H-1;0<=ea;--ea)for(pa=T[ea],Ua=1,W[ea]+=pa,H=1;H<=ea;++H)Ua*=(ea+1-H)/H,W[ea-H]+=pa*Math.pow(na,H)*Ua;W[0]+=O;return W}function hb(H){const T=H.length-1,na=[];let O,W,ea,pa,Ua;for(O=0;O<T;++O){pa=O;for(W=O+1;W<T;++W)Math.abs(H[O][W])>Math.abs(H[O][pa])&&(pa=W);for(ea=O;ea<T+1;++ea)Ua=H[ea][O],H[ea][O]=H[ea][pa],H[ea][pa]=
Ua;for(W=O+1;W<T;++W)for(ea=T;ea>=O;ea--)H[ea][W]-=H[ea][O]*H[O][W]/H[O][O]}for(W=T-1;0<=W;--W){Ua=0;for(ea=W+1;ea<T;++ea)Ua+=H[ea][W]*na[ea];na[W]=(H[T][W]-Ua)/H[W][W]}return na}n.random=Math.random;const cb=Math.sqrt(2*Math.PI),ob=Math.SQRT2;let $a=NaN;const Q=.1*Math.PI/180;n.bandwidthNRD=fb;n.bin=function(H){var T=H.maxbins||20;const na=H.base||10,O=Math.log(na),W=H.divide||[5,2];let ea=H.extent[0],pa=H.extent[1];let Ua,db,U,va;const xa=H.span||pa-ea||Math.abs(ea)||1;if(H.step)var ma=H.step;else if(H.steps){db=
xa/T;U=0;for(va=H.steps.length;U<va&&H.steps[U]<db;++U);ma=H.steps[Math.max(0,U-1)]}else{ma=Math.ceil(Math.log(T)/O);Ua=H.minstep||0;for(ma=Math.max(Ua,Math.pow(na,Math.round(Math.log(xa)/O)-ma));Math.ceil(xa/ma)>T;)ma*=na;U=0;for(va=W.length;U<va;++U)db=ma/W[U],db>=Ua&&xa/db<=T&&(ma=db)}db=Math.log(ma);T=Math.pow(na,-(0<=db?0:~~(-db/O)+1)-1);if(H.nice||void 0===H.nice)db=Math.floor(ea/ma+T)*ma,ea=ea<db?db-ma:db,pa=Math.ceil(pa/ma)*ma;return{start:ea,stop:pa===ea?ea+ma:pa,step:ma}};n.bootstrapCI=
function(H,T,na,O){if(!H.length)return[void 0,void 0];H=Float64Array.from(ca(H,O));O=H.length;let W,ea,pa,Ua;pa=0;for(Ua=Array(T);pa<T;++pa){for(ea=W=0;ea<O;++ea)W+=H[~~(n.random()*O)];Ua[pa]=W/O}Ua.sort(x.ascending);return[x.quantile(Ua,na/2),x.quantile(Ua,1-na/2)]};n.cumulativeLogNormal=Ia;n.cumulativeNormal=bb;n.cumulativeUniform=Ga;n.densityLogNormal=Ha;n.densityNormal=Bb;n.densityUniform=Ea;n.dotbin=function(H,T,na,O){O=O||(ma=>ma);const W=H.length,ea=new Float64Array(W);let pa=0,Ua=1,db=O(H[0]),
U=db,va=db+T,xa;for(;Ua<W;++Ua){xa=O(H[Ua]);if(xa>=va){for(U=(db+U)/2;pa<Ua;++pa)ea[pa]=U;va=xa+T;db=xa}U=xa}for(U=(db+U)/2;pa<Ua;++pa)ea[pa]=U;return na?ub(ea,T+T/4):ea};n.quantileLogNormal=Ya;n.quantileNormal=qb;n.quantileUniform=jb;n.quantiles=Sa;n.quartiles=Wb;n.randomInteger=function(H,T){null==T&&(T=H,H=0);let na,O,W;const ea={min(pa){return arguments.length?(na=pa||0,W=O-na,ea):na},max(pa){return arguments.length?(O=pa||0,W=O-na,ea):O},sample(){return na+Math.floor(W*n.random())},pdf(pa){return pa===
Math.floor(pa)&&pa>=na&&pa<O?1/W:0},cdf(pa){pa=Math.floor(pa);return pa<na?0:pa>=O?1:(pa-na+1)/W},icdf(pa){return 0<=pa&&1>=pa?na-1+Math.floor(pa*W):NaN}};return ea.min(H).max(T)};n.randomKDE=function(H,T){const na=sb();let O=0;const W={data(ea){return arguments.length?(O=(H=ea)?ea.length:0,W.bandwidth(T)):H},bandwidth(ea){if(!arguments.length)return T;T=ea;!T&&H&&(T=fb(H));return W},sample(){return H[~~(n.random()*O)]+T*na.sample()},pdf(ea){let pa=0,Ua=0;for(;Ua<O;++Ua)pa+=na.pdf((ea-H[Ua])/T);return pa/
T/O},cdf(ea){let pa=0,Ua=0;for(;Ua<O;++Ua)pa+=na.cdf((ea-H[Ua])/T);return pa/O},icdf(){throw Error("KDE icdf not supported.");}};return W.data(H)};n.randomLCG=function(H){return function(){H=(1103515245*H+12345)%2147483647;return H/2147483647}};n.randomLogNormal=function(H,T){let na,O;const W={mean(ea){return arguments.length?(na=ea||0,W):na},stdev(ea){return arguments.length?(O=null==ea?1:ea,W):O},sample:()=>Wa(na,O),pdf:ea=>Ha(ea,na,O),cdf:ea=>Ia(ea,na,O),icdf:ea=>Ya(ea,na,O)};return W.mean(H).stdev(T)};
n.randomMixture=function(H,T){let na=0,O;const W={weights(ea){if(arguments.length){{var pa=T=ea||[];const Ua=[];let db=0,U;for(U=0;U<na;++U)db+=Ua[U]=null==pa[U]?1:+pa[U];for(U=0;U<na;++U)Ua[U]/=db;O=Ua}return W}return T},distributions(ea){return arguments.length?(ea?(na=ea.length,H=ea):(na=0,H=[]),W.weights(T)):H},sample(){const ea=n.random();let pa=H[na-1],Ua=O[0],db=0;for(;db<na-1;Ua+=O[++db])if(ea<Ua){pa=H[db];break}return pa.sample()},pdf(ea){let pa=0,Ua=0;for(;Ua<na;++Ua)pa+=O[Ua]*H[Ua].pdf(ea);
return pa},cdf(ea){let pa=0,Ua=0;for(;Ua<na;++Ua)pa+=O[Ua]*H[Ua].cdf(ea);return pa},icdf(){throw Error("Mixture icdf not supported.");}};return W.distributions(H).weights(T)};n.randomNormal=sb;n.randomUniform=function(H,T){let na,O;const W={min(ea){return arguments.length?(na=ea||0,W):na},max(ea){return arguments.length?(O=null==ea?1:ea,W):O},sample:()=>mb(na,O),pdf:ea=>Ea(ea,na,O),cdf:ea=>Ga(ea,na,O),icdf:ea=>jb(ea,na,O)};null==T&&(T=null==H?1:H,H=0);return W.min(H).max(T)};n.regressionExp=function(H,
T,na){const [O,,W,ea]=ab(H,T,na);let pa=0,Ua=0,db=0,U=0,va=0,xa,ma,R;Ma(H,T,na,(r,C)=>{xa=O[va++];ma=Math.log(C);R=xa*C;pa+=(C*ma-pa)/va;Ua+=(R-Ua)/va;db+=(R*ma-db)/va;U+=(xa*R-U)/va});const [v,w]=Ca(Ua/ea,pa/ea,db/ea,U/ea),p=r=>Math.exp(v+w*(r-W));return{coef:[Math.exp(v-w*W),w],predict:p,rSquared:ja(H,T,na,ea,p)}};n.regressionLinear=Aa;n.regressionLoess=function(H,T,na,O){const [W,ea,pa,Ua]=ab(H,T,na,!0);H=W.length;T=Math.max(2,~~(O*H));O=new Float64Array(H);na=new Float64Array(H);var db=(new Float64Array(H)).fill(1);
for(var U=-1;2>=++U;){var va=[0,T-1];for(let D=0;D<H;++D){var xa=W[D],ma=va[0],R=va[1],v=0,w=0,p=0,r=0;let G=0;const B=1/Math.abs(W[xa-W[ma]>W[R]-xa?ma:R]-xa||1);for(;ma<=R;++ma){const la=W[ma],Ta=ea[ma];var C=Math.abs(xa-la)*B;const Ja=(C=1-C*C*C)*C*C*db[ma];C=la*Ja;v+=Ja;w+=C;p+=Ta*Ja;r+=Ta*C;G+=la*C}const [fa,wa]=Ca(w/v,p/v,r/v,G/v);O[D]=fa+wa*xa;na[D]=Math.abs(ea[D]-O[D]);xa=W;R=D+1;v=va;w=xa[R];p=v[0];r=v[1]+1;if(!(r>=xa.length))for(;R>p&&xa[r]-w<=w-xa[p];)v[0]=++p,v[1]=r,++r}if(2===U)break;
va=x.median(na);if(1E-12>Math.abs(va))break;for(let D=0,G,B;D<H;++D)G=na[D]/(6*va),db[D]=1<=G?1E-12:(B=1-G*G)*B}H=W.length;T=[];db=na=0;for(U=[];na<H;++na)va=W[na]+pa,U[0]===va?U[1]+=(O[na]-U[1])/++db:(db=0,U[1]+=Ua,U=[va,O[na]],T.push(U));U[1]+=Ua;return O=T};n.regressionLog=function(H,T,na){let O=0,W=0,ea=0,pa=0,Ua=0;Ma(H,T,na,(va,xa)=>{++Ua;va=Math.log(va);O+=(va-O)/Ua;W+=(xa-W)/Ua;ea+=(va*xa-ea)/Ua;pa+=(va*va-pa)/Ua});const db=Ca(O,W,ea,pa),U=va=>db[0]+db[1]*Math.log(va);return{coef:db,predict:U,
rSquared:ja(H,T,na,W,U)}};n.regressionPoly=function(H,T,na,O){if(1===O)return Aa(H,T,na);if(2===O)return Qa(H,T,na);const [W,ea,pa,Ua]=ab(H,T,na);var db=W.length;const U=[],va=[],xa=O+1;let ma,R,v,w;for(ma=0;ma<xa;++ma){for(v=R=0;R<db;++R)v+=Math.pow(W[R],ma)*ea[R];U.push(v);w=new Float64Array(xa);for(O=0;O<xa;++O){for(v=R=0;R<db;++R)v+=Math.pow(W[R],ma+O);w[O]=v}va.push(w)}va.push(U);const p=hb(va);db=r=>{r-=pa;let C=Ua+p[0]+p[1]*r+p[2]*r*r;for(ma=3;ma<xa;++ma)C+=p[ma]*Math.pow(r,ma);return C};return{coef:Xa(xa,
p,-pa,Ua),predict:db,rSquared:ja(H,T,na,Ua,db)}};n.regressionPow=function(H,T,na){let O=0,W=0,ea=0,pa=0,Ua=0,db=0;Ma(H,T,na,(xa,ma)=>{xa=Math.log(xa);const R=Math.log(ma);++db;O+=(xa-O)/db;W+=(R-W)/db;ea+=(xa*R-ea)/db;pa+=(xa*xa-pa)/db;Ua+=(ma-Ua)/db});const U=Ca(O,W,ea,pa),va=xa=>U[0]*Math.pow(xa,U[1]);U[0]=Math.exp(U[0]);return{coef:U,predict:va,rSquared:ja(H,T,na,Ua,va)}};n.regressionQuad=Qa;n.sampleCurve=function(H,T,na,O){na=na||25;O=Math.max(na,O||200);var W=va=>[va,H(va)],ea=T[0];const pa=
T[1],Ua=pa-ea;var db=Ua/O;T=[[ea,H(ea)]];const U=[];if(na===O){for(db=1;db<O;++db)T.push(W(ea+db/na*Ua));T.push([pa,H(pa)]);return T}U.push([pa,H(pa)]);for(O=na;0<--O;)U.push(W(ea+O/na*Ua));na=T[0];for(W=U[U.length-1];W;)ea=(na[0]+W[0])/2,ea=[ea,H(ea)],ea[0]-na[0]>=db&&Math.abs(Math.atan2(W[1]-na[1],W[0]-na[0])-Math.atan2(ea[1]-na[1],ea[0]-na[0]))>Q?U.push(ea):(na=W,T.push(W),U.pop()),W=U[U.length-1];return T};n.sampleLogNormal=Wa;n.sampleNormal=Qb;n.sampleUniform=mb;n.setRandom=function(H){n.random=
H};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[30]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(28),Rb(29),Rb(17),Rb(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega))})(this,function(n,x,ca,Sa,Wb,fb){function ub(X){return za=>{const gb=X.length;let Db=1,Zb=String(X[0](za));for(;Db<gb;++Db)Zb+="|"+
X[Db](za);return Zb}}function Qb(X){return X&&X.length?1===X.length?X[0]:ub(X):function(){return""}}function Bb(X,za){return gb=>x.extend({name:X,out:gb||X},sd,za)}function bb(X,za){return X.idx-za.idx}function qb(X){const za={};X.forEach(Db=>za[Db.name]=Db);const gb=Db=>{Db.req&&Db.req.forEach(Zb=>{za[Zb]||gb(za[Zb]=ge[Zb]())})};X.forEach(gb);return Object.values(za).sort(bb)}function sb(){this.missing=this.valid=0;this._ops.forEach(X=>X.init(this))}function Wa(X,za){null==X||""===X?++this.missing:
X===X&&(++this.valid,this._ops.forEach(gb=>gb.add(this,X,za)))}function Ha(X,za){null==X||""===X?--this.missing:X===X&&(--this.valid,this._ops.forEach(gb=>gb.rem(this,X,za)))}function Ia(X){this._out.forEach(za=>X[za.out]=za.value(this));return X}function Ya(X,za){function gb(Gb){this._ops=Db;this._out=Zb;this.cell=Gb;this.init()}za=za||x.identity;const Db=qb(X),Zb=X.slice().sort(bb);gb.prototype.init=sb;gb.prototype.add=Wa;gb.prototype.rem=Ha;gb.prototype.set=Ia;gb.prototype.get=za;gb.fields=X.map(Gb=>
Gb.out);return gb}function mb(X){this._key=X?x.field(X):ca.tupleid;this.reset()}function Ea(X){ca.Transform.call(this,null,X);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Ga(X){ca.Transform.call(this,null,X)}function jb(X,za,gb){let Db=za||[],Zb=gb||[],Gb={},sc=0;return{add:jc=>Zb.push(jc),remove:jc=>Gb[X(jc)]=++sc,size:()=>Db.length,
data:(jc,Oa)=>{sc&&(Db=Db.filter(rb=>!Gb[X(rb)]),Gb={},sc=0);Oa&&jc&&Db.sort(jc);Zb.length&&(Db=jc?x.merge(jc,Db,Zb.sort(jc)):Db.concat(Zb),Zb=[]);return Db}}}function Ca(X){ca.Transform.call(this,[],X)}function ab(X){ca.Operator.call(this,null,Ma,X)}function Ma(X){return this.value&&!X.modified()?this.value:x.compare(X.fields,X.orders)}function ja(X){ca.Transform.call(this,null,X)}function Aa(X){ca.Transform.call(this,null,X)}function Qa(X,za){var gb=X["function"];x.hasOwnProperty(vb,gb)||x.error("Unknown distribution function: "+
gb);gb=vb[gb]();for(const Db in X)if("field"===Db)gb.data((X.from||za()).map(X[Db]));else if("distributions"===Db)gb[Db](X[Db].map(Zb=>Qa(Zb,za)));else if("function"===typeof gb[Db])gb[Db](X[Db]);return gb}function Xa(X){ca.Transform.call(this,null,X)}function hb(X){return()=>X.materialize(X.SOURCE).source}function cb(X,za){return X?X.map((gb,Db)=>za[Db]||x.accessorName(gb)):null}function ob(X,za,gb){const Db=[],Zb=gc=>gc(Oa);let Gb,sc,jc,Oa,rb,Lb;if(null==za)Db.push(X.map(gb));else for(Gb={},sc=
0,jc=X.length;sc<jc;++sc)Oa=X[sc],rb=za.map(Zb),Lb=Gb[rb],Lb||(Gb[rb]=Lb=[],Lb.dims=rb,Db.push(Lb)),Lb.push(gb(Oa));return Db}function $a(X){ca.Transform.call(this,null,X)}function Q(X){ca.Operator.call(this,null,H,X);this.modified(!0)}function H(X){const za=X.expr;return this.value&&!X.modified("expr")?this.value:x.accessor(gb=>za(gb,X),x.accessorFields(za),x.accessorName(za))}function T(X){ca.Transform.call(this,[void 0,void 0],X)}function na(X,za){ca.Operator.call(this,X);this.parent=za;this.count=
0}function O(X){ca.Transform.call(this,{},X);this._keys=x.fastmap();const za=this._targets=[];za.active=0;za.forEach=gb=>{for(let Db=0,Zb=za.active;Db<Zb;++Db)gb(za[Db],Db,za)}}function W(X){ca.Operator.call(this,null,ea,X)}function ea(X){return this.value&&!X.modified()?this.value:x.isArray(X.name)?x.array(X.name).map(za=>x.field(za)):x.field(X.name,X.as)}function pa(X){ca.Transform.call(this,x.fastmap(),X)}function Ua(X){ca.Transform.call(this,[],X)}function db(X){ca.Transform.call(this,[],X)}function U(X){ca.Transform.call(this,
null,X)}function va(X){ca.Transform.call(this,[],X)}function xa(X){ca.Transform.call(this,[],X)}function ma(X){var za=X.method||$b.value;if(null==$b[za])x.error("Unrecognized imputation method: "+za);else{if(za===$b.value){var gb=void 0!==X.value?X.value:0;return()=>gb}return $b[za]}}function R(X){const za=X.field;return gb=>gb?za(gb):NaN}function v(X,za,gb,Db){var Zb=Hb=>Hb(gc),Gb=[];Db=Db?Db.slice():[];var sc={},jc={},Oa,rb;Db.forEach((Hb,yc)=>sc[Hb]=yc+1);var Lb=0;for(rb=X.length;Lb<rb;++Lb){var gc=
X[Lb];var tc=gb(gc);var Bc=sc[tc]||(sc[tc]=Db.push(tc));var Mc=(tc=za?za.map(Zb):rd)+"";(Oa=jc[Mc])||(Oa=jc[Mc]=[],Gb.push(Oa),Oa.values=tc);Oa[Bc-1]=gc}Gb.domain=Db;return Gb}function w(X){Ea.call(this,X)}function p(X){ca.Transform.call(this,null,X)}function r(X){ca.Operator.call(this,null,C,X)}function C(X){return this.value&&!X.modified()?this.value:x.key(X.fields,X.flat)}function D(X){ca.Transform.call(this,[],X);this._pending=null}function G(X){return X.modified("async")&&!(X.modified("values")||
X.modified("url")||X.modified("format"))}function B(X,za,gb){gb.forEach(ca.ingest);za=za.fork(za.NO_FIELDS&za.NO_SOURCE);za.rem=X.value;X.value=za.source=za.add=gb;X._pending=null;za.rem.length&&za.clean(!0);return za}function fa(X){ca.Transform.call(this,{},X)}function wa(X){ca.Operator.call(this,null,la,X)}function la(X){if(this.value&&!X.modified())return this.value;X=X.extents;const za=X.length;let gb=Infinity,Db=-Infinity,Zb,Gb;for(Zb=0;Zb<za;++Zb)Gb=X[Zb],Gb[0]<gb&&(gb=Gb[0]),Gb[1]>Db&&(Db=
Gb[1]);return[gb,Db]}function Ta(X){ca.Operator.call(this,null,Ja,X)}function Ja(X){return this.value&&!X.modified()?this.value:X.values.reduce((za,gb)=>za.concat(gb),[])}function Z(X){ca.Transform.call(this,null,X)}function sa(X){Ea.call(this,X)}function eb(X,za){const gb=X.field,Db=X.value,Zb=("count"===X.op?"__count__":X.op)||"sum",Gb=x.accessorFields(gb).concat(x.accessorFields(Db)),sc=Kb(gb,X.limit||0,za);za.changed()&&X.set("__pivot__",null,null,!0);return{key:X.key,groupby:X.groupby,ops:sc.map(()=>
Zb),fields:sc.map(jc=>xb(jc,gb,Db,Gb)),as:sc.map(jc=>jc+""),modified:X.modified.bind(X)}}function xb(X,za,gb,Db){return x.accessor(Zb=>za(Zb)===X?gb(Zb):NaN,Db,X+"")}function Kb(X,za,gb){const Db={},Zb=[];gb.visit(gb.SOURCE,Gb=>{Gb=X(Gb);Db[Gb]||(Db[Gb]=1,Zb.push(Gb))});Zb.sort(x.ascending);return za?Zb.slice(0,za):Zb}function ec(X){O.call(this,X)}function Ec(X){ca.Transform.call(this,null,X)}function gd(X){ca.Transform.call(this,null,X)}function Dc(X){ca.Transform.call(this,null,X)}function Sc(X){ca.Transform.call(this,
null,X)}function Ra(X){ca.Transform.call(this,[],X);this.count=0}function nc(X){ca.Transform.call(this,null,X)}function kc(X){ca.Transform.call(this,null,X);this.modified(!0)}function wc(X){ca.Transform.call(this,null,X)}function Pc(X){ca.Transform.call(this,x.fastmap(),X)}function rc(X){ca.Transform.call(this,null,X)}function Xc(X,za,gb,Db){const Zb=de[X](za,gb);return{init:Zb.init||x.zero,update:function(Gb,sc){sc[Db]=Zb.next(Gb)}}}function $c(X){function za(Bc){x.array(x.accessorFields(Bc)).forEach(Mc=>
Oa[Mc]=1)}const gb=x.array(X.ops),Db=x.array(X.fields),Zb=x.array(X.params),Gb=x.array(X.as),sc=this.outputs=[],jc=this.windows=[],Oa={},rb={},Lb=[],gc=[];let tc=!0;za(X.sort);gb.forEach((Bc,Mc)=>{const Hb=Db[Mc],yc=x.accessorName(Hb),Cc=Gb[Mc]||Bc+(yc?"_"+yc:"");za(Hb);sc.push(Cc);x.hasOwnProperty(de,Bc)?jc.push(Xc(Bc,Db[Mc],Zb[Mc],Cc)):(null==Hb&&"count"!==Bc&&x.error("Null aggregate field specified."),"count"===Bc?Lb.push(Cc):(tc=!1,Mc=rb[yc],Mc||(Mc=rb[yc]=[],Mc.field=Hb,gc.push(Mc)),Mc.push(ge[Bc](Cc))))});
if(Lb.length||gc.length)this.cell=Nc(gc,Lb,tc);this.inputs=Object.keys(Oa)}function Nc(X,za,gb){X=X.map(Oa=>Ya(Oa,Oa.field));const Db={num:0,agg:null,store:!1,count:za};if(!gb)for(var Zb=X.length,Gb=Db.agg=Array(Zb),sc=0;sc<Zb;++sc)Gb[sc]=new X[sc](Db);if(Db.store)var jc=Db.data=new mb;Db.add=function(Oa){Db.num+=1;if(!gb){jc&&jc.add(Oa);for(let rb=0;rb<Zb;++rb)Gb[rb].add(Gb[rb].get(Oa),Oa)}};Db.rem=function(Oa){--Db.num;if(!gb){jc&&jc.rem(Oa);for(let rb=0;rb<Zb;++rb)Gb[rb].rem(Gb[rb].get(Oa),Oa)}};
Db.set=function(Oa){let rb,Lb;jc&&jc.values();rb=0;for(Lb=za.length;rb<Lb;++rb)Oa[za[rb]]=Db.num;if(!gb)for(rb=0,Lb=Gb.length;rb<Lb;++rb)Gb[rb].set(Oa)};Db.init=function(){Db.num=0;jc&&jc.reset();for(let Oa=0;Oa<Zb;++Oa)Gb[Oa].init()};return Db}function Dd(X){ca.Transform.call(this,{},X);this._mlen=0;this._mods=[]}function we(X,za,gb,Db){var Zb=Db.sort;const Gb=Zb&&!Db.ignorePeers;Db=Db.frame||[null,0];X=X.data(gb);gb=X.length;const sc=Gb?Wb.bisector(Zb):null;Zb={i0:0,i1:0,p0:0,p1:0,index:0,data:X,
compare:Zb||x.constant(-1)};za.init();for(let gc=0;gc<gb;++gc){var jc=Zb,Oa=Db,rb=gc,Lb=gb;jc.p0=jc.i0;jc.p1=jc.i1;jc.i0=null==Oa[0]?0:Math.max(0,rb-Math.abs(Oa[0]));jc.i1=null==Oa[1]?Lb:Math.min(Lb,rb+Math.abs(Oa[1])+1);jc.index=rb;if(Gb){{jc=Zb;Oa=sc;rb=jc.i0;Lb=jc.i1-1;const tc=jc.compare,Bc=jc.data,Mc=Bc.length-1;0<rb&&!tc(Bc[rb],Bc[rb-1])&&(jc.i0=Oa.left(Bc,Bc[rb]));Lb<Mc&&!tc(Bc[Lb],Bc[Lb+1])&&(jc.i1=Oa.right(Bc,Bc[Lb]))}}za.update(Zb,X[gc])}}var ld=()=>{};const sd={init:ld,add:ld,rem:ld,idx:0},
ge={values:{init:X=>X.cell.store=!0,value:X=>X.cell.data.values(),idx:-1},count:{value:X=>X.cell.num},__count__:{value:X=>X.missing+X.valid},missing:{value:X=>X.missing},valid:{value:X=>X.valid},sum:{init:X=>X.sum=0,value:X=>X.sum,add:(X,za)=>X.sum+=+za,rem:(X,za)=>X.sum-=za},product:{init:X=>X.product=1,value:X=>X.valid?X.product:void 0,add:(X,za)=>X.product*=za,rem:(X,za)=>X.product/=za},mean:{init:X=>X.mean=0,value:X=>X.valid?X.mean:void 0,add:(X,za)=>(X.mean_d=za-X.mean,X.mean+=X.mean_d/X.valid),
rem:(X,za)=>(X.mean_d=za-X.mean,X.mean-=X.valid?X.mean_d/X.valid:X.mean)},average:{value:X=>X.valid?X.mean:void 0,req:["mean"],idx:1},variance:{init:X=>X.dev=0,value:X=>1<X.valid?X.dev/(X.valid-1):void 0,add:(X,za)=>X.dev+=X.mean_d*(za-X.mean),rem:(X,za)=>X.dev-=X.mean_d*(za-X.mean),req:["mean"],idx:1},variancep:{value:X=>1<X.valid?X.dev/X.valid:void 0,req:["variance"],idx:2},stdev:{value:X=>1<X.valid?Math.sqrt(X.dev/(X.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:X=>1<X.valid?Math.sqrt(X.dev/
X.valid):void 0,req:["variance"],idx:2},stderr:{value:X=>1<X.valid?Math.sqrt(X.dev/(X.valid*(X.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:X=>X.cell.data.distinct(X.get),req:["values"],idx:3},ci0:{value:X=>X.cell.data.ci0(X.get),req:["values"],idx:3},ci1:{value:X=>X.cell.data.ci1(X.get),req:["values"],idx:3},median:{value:X=>X.cell.data.q2(X.get),req:["values"],idx:3},q1:{value:X=>X.cell.data.q1(X.get),req:["values"],idx:3},q3:{value:X=>X.cell.data.q3(X.get),req:["values"],idx:3},min:{init:X=>
X.min=void 0,value:X=>X.min=Number.isNaN(X.min)?X.cell.data.min(X.get):X.min,add:(X,za)=>{if(za<X.min||void 0===X.min)X.min=za},rem:(X,za)=>{za<=X.min&&(X.min=NaN)},req:["values"],idx:4},max:{init:X=>X.max=void 0,value:X=>X.max=Number.isNaN(X.max)?X.cell.data.max(X.get):X.max,add:(X,za)=>{if(za>X.max||void 0===X.max)X.max=za},rem:(X,za)=>{za>=X.max&&(X.max=NaN)},req:["values"],idx:4},argmin:{init:X=>X.argmin=void 0,value:X=>X.argmin||X.cell.data.argmin(X.get),add:(X,za,gb)=>{za<X.min&&(X.argmin=gb)},
rem:(X,za)=>{za<=X.min&&(X.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:X=>X.argmax=void 0,value:X=>X.argmax||X.cell.data.argmax(X.get),add:(X,za,gb)=>{za>X.max&&(X.argmax=gb)},rem:(X,za)=>{za>=X.max&&(X.argmax=void 0)},req:["max","values"],idx:3}};ld=Object.keys(ge);ld.forEach(X=>{ge[X]=Bb(X,ge[X])});var La=mb.prototype;La.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};La.add=function(X){this._add.push(X)};La.rem=function(X){this._rem.push(X)};La.values=
function(){this._get=null;if(0===this._rem.length)return this._add;const X=this._add;var za=this._rem;const gb=this._key,Db=X.length,Zb=za.length,Gb=Array(Db-Zb),sc={};let jc,Oa;for(jc=0;jc<Zb;++jc)sc[gb(za[jc])]=1;for(za=jc=0;jc<Db;++jc)sc[gb(Oa=X[jc])]?sc[gb(Oa)]=0:Gb[za++]=Oa;this._rem=[];return this._add=Gb};La.distinct=function(X){const za=this.values(),gb={};let Db=za.length,Zb=0,Gb;for(;0<=--Db;)Gb=X(za[Db])+"",x.hasOwnProperty(gb,Gb)||(gb[Gb]=1,++Zb);return Zb};La.extent=function(X){if(this._get!==
X||!this._ext){const za=this.values(),gb=x.extentIndex(za,X);this._ext=[za[gb[0]],za[gb[1]]];this._get=X}return this._ext};La.argmin=function(X){return this.extent(X)[0]||{}};La.argmax=function(X){return this.extent(X)[1]||{}};La.min=function(X){const za=this.extent(X)[0];return null!=za?X(za):void 0};La.max=function(X){const za=this.extent(X)[1];return null!=za?X(za):void 0};La.quartile=function(X){this._get===X&&this._q||(this._q=Sa.quartiles(this.values(),X),this._get=X);return this._q};La.q1=
function(X){return this.quartile(X)[0]};La.q2=function(X){return this.quartile(X)[1]};La.q3=function(X){return this.quartile(X)[2]};La.ci=function(X){this._get===X&&this._ci||(this._ci=Sa.bootstrapCI(this.values(),1E3,.05,X),this._get=X);return this._ci};La.ci0=function(X){return this.ci(X)[0]};La.ci1=function(X){return this.ci(X)[1]};Ea.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ld},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};x.inherits(Ea,ca.Transform,{transform(X,za){const gb=this,Db=za.fork(za.NO_SOURCE|za.NO_FIELDS),Zb=X.modified();gb.stamp=Db.stamp;gb.value&&(Zb||za.modified(gb._inputs,!0))?(gb._prev=gb.value,gb.value=Zb?gb.init(X):{},za.visit(za.SOURCE,Gb=>gb.add(Gb))):(gb.value=gb.value||gb.init(X),za.visit(za.REM,Gb=>gb.rem(Gb)),
za.visit(za.ADD,Gb=>gb.add(Gb)));Db.modifies(gb._outputs);gb._drop=!1!==X.drop;X.cross&&1<gb._dims.length&&(gb._drop=!1,gb.cross());za.clean()&&gb._drop&&Db.clean(!0).runAfter(()=>this.clean());return gb.changes(Db)},cross(){function X(jc){let Oa,rb,Lb,gc;for(Oa in jc)for(Lb=jc[Oa].tuple,rb=0;rb<sc;++rb)Gb[rb][gc=Lb[Zb[rb]]]=gc}function za(jc,Oa,rb){const Lb=Zb[rb],gc=Gb[rb++];for(const tc in gc){const Bc=jc?jc+"|"+tc:tc;Oa[Lb]=gc[tc];rb<sc?za(Bc,Oa,rb):Db[Bc]||gb.cell(Bc,Oa)}}const gb=this,Db=gb.value,
Zb=gb._dnames,Gb=Zb.map(()=>({})),sc=Zb.length;X(gb._prev);X(Db);za("",{},0)},init(X){function za(Hb){Hb=x.array(x.accessorFields(Hb));const yc=Hb.length;let Cc=0,xc;for(;Cc<yc;++Cc)Zb[xc=Hb[Cc]]||(Zb[xc]=1,gb.push(xc))}const gb=this._inputs=[],Db=this._outputs=[],Zb={};this._dims=x.array(X.groupby);this._dnames=this._dims.map(Hb=>{const yc=x.accessorName(Hb);za(Hb);Db.push(yc);return yc});this.cellkey=X.key?X.key:Qb(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Gb=X.fields||
[null],sc=X.ops||["count"];X=X.as||[];const jc=Gb.length,Oa={};let rb,Lb,gc,tc,Bc,Mc;jc!==sc.length&&x.error("Unmatched number of fields and aggregate ops.");for(Mc=0;Mc<jc;++Mc)rb=Gb[Mc],Lb=sc[Mc],null==rb&&"count"!==Lb&&x.error("Null aggregate field specified."),tc=x.accessorName(rb),Bc=X[Mc]||Lb+(tc?"_"+tc:""),Db.push(Bc),"count"===Lb?this._counts.push(Bc):(gc=Oa[tc],gc||(za(rb),gc=Oa[tc]=[],gc.field=rb,this._measures.push(gc)),"count"!==Lb&&(this._countOnly=!1),gc.push(ge[Lb](Bc)));this._measures=
this._measures.map(Hb=>Ya(Hb,Hb.field));return{}},cellkey:Qb(),cell(X,za){let gb=this.value[X];gb?0===gb.num&&this._drop&&gb.stamp<this.stamp?(gb.stamp=this.stamp,this._adds[this._alen++]=gb):gb.stamp<this.stamp&&(gb.stamp=this.stamp,this._mods[this._mlen++]=gb):(gb=this.value[X]=this.newcell(X,za),this._adds[this._alen++]=gb);return gb},newcell(X,za){X={key:X,num:0,agg:null,tuple:this.newtuple(za,this._prev&&this._prev[X]),stamp:this.stamp,store:!1};if(!this._countOnly){za=this._measures;const gb=
za.length;X.agg=Array(gb);for(let Db=0;Db<gb;++Db)X.agg[Db]=new za[Db](X)}X.store&&(X.data=new mb);return X},newtuple(X,za){const gb=this._dnames,Db=this._dims,Zb=Db.length,Gb={};for(let sc=0;sc<Zb;++sc)Gb[gb[sc]]=Db[sc](X);return za?ca.replace(za.tuple,Gb):ca.ingest(Gb)},clean(){const X=this.value;for(const za in X)0===X[za].num&&delete X[za]},add(X){var za=this.cellkey(X);za=this.cell(za,X);za.num+=1;if(!this._countOnly){za.store&&za.data.add(X);za=za.agg;for(let gb=0,Db=za.length;gb<Db;++gb)za[gb].add(za[gb].get(X),
X)}},rem(X){var za=this.cellkey(X);za=this.cell(za,X);--za.num;if(!this._countOnly){za.store&&za.data.rem(X);za=za.agg;for(let gb=0,Db=za.length;gb<Db;++gb)za[gb].rem(za[gb].get(X),X)}},celltuple(X){const za=X.tuple,gb=this._counts;X.store&&X.data.values();for(let Db=0,Zb=gb.length;Db<Zb;++Db)za[gb[Db]]=X.num;if(!this._countOnly){X=X.agg;for(let Db=0,Zb=X.length;Db<Zb;++Db)X[Db].set(za)}return za},changes(X){const za=this._adds,gb=this._mods;var Db=this._prev;const Zb=this._drop,Gb=X.add,sc=X.rem,
jc=X.mod;let Oa;var rb;if(Db)for(rb in Db)Oa=Db[rb],Zb&&!Oa.num||sc.push(Oa.tuple);Db=0;for(rb=this._alen;Db<rb;++Db)Gb.push(this.celltuple(za[Db])),za[Db]=null;Db=0;for(rb=this._mlen;Db<rb;++Db)Oa=gb[Db],(0===Oa.num&&Zb?sc:jc).push(this.celltuple(Oa)),gb[Db]=null;this._alen=this._mlen=0;this._prev=null;return X}});Ga.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",
type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};x.inherits(Ga,ca.Transform,{transform(X,
za){const gb=!1!==X.interval,Db=this._bins(X),Zb=Db.start,Gb=Db.step,sc=X.as||["bin0","bin1"],jc=sc[0],Oa=sc[1];X.modified()?(za=za.reflow(!0),X=za.SOURCE):X=za.modified(x.accessorFields(X.field))?za.ADD_MOD:za.ADD;za.visit(X,gb?rb=>{const Lb=Db(rb);rb[jc]=Lb;rb[Oa]=null==Lb?null:Zb+Gb*(1+(Lb-Zb)/Gb)}:rb=>rb[jc]=Db(rb));return za.modifies(gb?sc:jc)},_bins(X){if(this.value&&!X.modified())return this.value;const za=X.field,gb=Sa.bin(X),Db=gb.step;let Zb=gb.start,Gb=Zb+Math.ceil((gb.stop-Zb)/Db)*Db;
var sc;null!=(sc=X.anchor)&&(sc-=Zb+Db*Math.floor((sc-Zb)/Db),Zb+=sc,Gb+=sc);sc=function(jc){jc=x.toNumber(za(jc));return null==jc?null:jc<Zb?-Infinity:jc>Gb?Infinity:(jc=Math.max(Zb,Math.min(jc,Gb-Db)),Zb+Db*Math.floor(1E-14+(jc-Zb)/Db))};sc.start=Zb;sc.stop=gb.stop;sc.step=Db;return this.value=x.accessor(sc,x.accessorFields(za),X.name||"bin_"+x.accessorName(za))}});Ca.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};x.inherits(Ca,ca.Transform,{transform(X,za){const gb=
za.fork(za.ALL),Db=jb(ca.tupleid,this.value,gb.materialize(gb.ADD).add),Zb=X.sort;X=za.changed()||Zb&&(X.modified("sort")||za.modified(Zb.fields));gb.visit(gb.REM,Db.remove);this.modified(X);this.value=gb.source=Db.data(ca.stableCompare(Zb),X);za.source&&za.source.root&&(this.value.root=za.source.root);return gb}});x.inherits(ab,ca.Operator);ja.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper",
"lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};x.inherits(ja,ca.Transform,{transform(X,za){var gb=Lb=>gc=>{gc=jc(gc);var tc=Gb;switch(X.case){case "upper":gc=gc.toUpperCase();break;case "lower":gc=gc.toLowerCase()}gc=gc.match(tc)||[];var Bc;tc=0;for(var Mc=gc.length;tc<Mc;++tc)sc.test(Bc=gc[tc])||Lb(Bc)};const Db=this._parameterCheck(X,za),
Zb=this._counts,Gb=this._match,sc=this._stop,jc=X.field,Oa=X.as||["text","count"],rb=gb(Lb=>Zb[Lb]=1+(Zb[Lb]||0));gb=gb(Lb=>--Zb[Lb]);Db?za.visit(za.SOURCE,rb):(za.visit(za.ADD,rb),za.visit(za.REM,gb));return this._finish(za,Oa)},_parameterCheck(X,za){let gb=!1;if(X.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(X.stopwords||"")+"$","i"),gb=!0;if(X.modified("pattern")||!this._match)this._match=new RegExp(X.pattern||"[\\w']+","g"),gb=!0;if(X.modified("field")||za.modified(X.field.fields))gb=
!0;gb&&(this._counts={});return gb},_finish(X,za){const gb=this._counts,Db=this._tuples||(this._tuples={}),Zb=za[0],Gb=za[1];X=X.fork(X.NO_SOURCE|X.NO_FIELDS);let sc,jc,Oa;for(sc in gb)jc=Db[sc],Oa=gb[sc]||0,!jc&&Oa?(Db[sc]=jc=ca.ingest({}),jc[Zb]=sc,jc[Gb]=Oa,X.add.push(jc)):0===Oa?(jc&&X.rem.push(jc),gb[sc]=null,Db[sc]=null):jc[Gb]!==Oa&&(jc[Gb]=Oa,X.mod.push(jc));return X.modifies(za)}});Aa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",
array:!0,length:2,"default":["a","b"]}]};x.inherits(Aa,ca.Transform,{transform(X,za){const gb=za.fork(za.NO_SOURCE),Db=X.as||["a","b"],Zb=Db[0],Gb=Db[1];var sc=!this.value||za.changed(za.ADD_REM)||X.modified("as")||X.modified("filter"),jc=this.value;if(sc){jc&&(gb.rem=jc);za=jc=za.materialize(za.SOURCE).source;X=X.filter||x.truthy;sc=[];jc={};for(var Oa=za.length,rb=0,Lb,gc;rb<Oa;++rb)for(jc[Zb]=gc=za[rb],Lb=0;Lb<Oa;++Lb)jc[Gb]=za[Lb],X(jc)&&(sc.push(ca.ingest(jc)),jc={},jc[Zb]=gc);gb.add=this.value=
sc}else gb.mod=jc;gb.source=this.value;return gb.modifies(Db)}});const vb={kde:Sa.randomKDE,mixture:Sa.randomMixture,normal:Sa.randomNormal,lognormal:Sa.randomLogNormal,uniform:Sa.randomUniform};La=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},
{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Xa.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",
type:"param",params:La.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:La},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};x.inherits(Xa,ca.Transform,{transform(X,za){const gb=za.fork(za.NO_SOURCE|za.NO_FIELDS);if(!this.value||za.changed()||X.modified()){const Db=Qa(X.distribution,hb(za));za=X.steps||X.minsteps||25;const Zb=X.steps||X.maxsteps||200;let Gb=X.method||"pdf";"pdf"!==Gb&&"cdf"!==
Gb&&x.error("Invalid density method: "+Gb);X.extent||Db.data||x.error("Missing density extent parameter.");Gb=Db[Gb];const sc=X.as||["value","density"];X=X.extent||x.extent(Db.data());X=Sa.sampleCurve(Gb,X,za,Zb).map(jc=>{const Oa={};Oa[sc[0]]=jc[0];Oa[sc[1]]=jc[1];return ca.ingest(Oa)});this.value&&(gb.rem=this.value);this.value=gb.add=gb.source=X}return gb}});$a.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},
{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};x.inherits($a,ca.Transform,{transform(X,za){if(this.value&&!X.modified()&&!za.changed())return za;var gb=za.materialize(za.SOURCE).source;const Db=ob(za.source,X.groupby,x.identity),Zb=X.smooth||!1,Gb=X.field;gb=X.step||x.span(x.extent(gb,Gb))/30;const sc=ca.stableCompare((tc,Bc)=>Gb(tc)-Gb(Bc));X=X.as||"bin";const jc=Db.length;let Oa=Infinity,rb=-Infinity,Lb=0,gc;for(;Lb<jc;++Lb){const tc=
Db[Lb].sort(sc);gc=-1;for(const Bc of Sa.dotbin(tc,gb,Zb,Gb))Bc<Oa&&(Oa=Bc),Bc>rb&&(rb=Bc),tc[++gc][X]=Bc}this.value={start:Oa,stop:rb,step:gb};return za.reflow(!0).modifies(X)}});x.inherits(Q,ca.Operator);T.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};x.inherits(T,ca.Transform,{transform(X,za){var gb=this.value;const Db=X.field;X=za.changed()||za.modified(Db.fields)||X.modified("field");let Zb=gb[0],Gb=gb[1];if(X||null==Zb)Zb=Infinity,Gb=-Infinity;za.visit(X?
za.SOURCE:za.ADD,sc=>{sc=x.toNumber(Db(sc));null!=sc&&(sc<Zb&&(Zb=sc),sc>Gb&&(Gb=sc))});Number.isFinite(Zb)&&Number.isFinite(Gb)||((gb=x.accessorName(Db))&&(gb=` for field "${gb}"`),za.dataflow.warn(`Infinite extent${gb}: [${Zb}, ${Gb}]`),Zb=Gb=void 0);this.value=[Zb,Gb]}});x.inherits(na,ca.Operator,{connect(X){this.detachSubflow=X.detachSubflow;this.targets().add(X);return X.source=this},add(X){this.count+=1;this.value.add.push(X)},rem(X){--this.count;this.value.rem.push(X)},mod(X){this.value.mod.push(X)},
init(X){this.value.init(X,X.NO_SOURCE)},evaluate(){return this.value}});x.inherits(O,ca.Transform,{activate(X){this._targets[this._targets.active++]=X},subflow(X,za,gb,Db){const Zb=this.value;let Gb=x.hasOwnProperty(Zb,X)&&Zb[X],sc;Gb?Gb.value.stamp<gb.stamp&&(Gb.init(gb),this.activate(Gb)):(sc=Db||(sc=this._group[X])&&sc.tuple,Db=gb.dataflow,Gb=new na(gb.fork(gb.NO_SOURCE),this),Db.add(Gb).connect(za(Db,X,sc)),Zb[X]=Gb,this.activate(Gb));return Gb},clean(){const X=this.value;for(const za in X)if(0===
X[za].count){const gb=X[za].detachSubflow;gb&&gb();delete X[za]}},initTargets(){const X=this._targets,za=X.length;for(let gb=0;gb<za&&null!=X[gb];++gb)X[gb]=null;X.active=0},transform(X,za){const gb=za.dataflow,Db=X.key,Zb=X.subflow,Gb=this._keys,sc=X.modified("key"),jc=Oa=>this.subflow(Oa,Zb,za);this._group=X.group||{};this.initTargets();za.visit(za.REM,Oa=>{const rb=ca.tupleid(Oa),Lb=Gb.get(rb);void 0!==Lb&&(Gb.delete(rb),jc(Lb).rem(Oa))});za.visit(za.ADD,Oa=>{const rb=Db(Oa);Gb.set(ca.tupleid(Oa),
rb);jc(rb).add(Oa)});sc||za.modified(Db.fields)?za.visit(za.MOD,Oa=>{const rb=ca.tupleid(Oa),Lb=Gb.get(rb),gc=Db(Oa);Lb===gc?jc(gc).mod(Oa):(Gb.set(rb,gc),jc(Lb).rem(Oa),jc(gc).add(Oa))}):za.changed(za.MOD)&&za.visit(za.MOD,Oa=>{jc(Gb.get(ca.tupleid(Oa))).mod(Oa)});sc&&za.visit(za.REFLOW,Oa=>{const rb=ca.tupleid(Oa),Lb=Gb.get(rb),gc=Db(Oa);Lb!==gc&&(Gb.set(rb,gc),jc(Lb).rem(Oa),jc(gc).add(Oa))});za.clean()?gb.runAfter(()=>{this.clean();Gb.clean()}):Gb.empty>gb.cleanThreshold&&gb.runAfter(Gb.clean);
return za}});x.inherits(W,ca.Operator);pa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};x.inherits(pa,ca.Transform,{transform(X,za){function gb(gc){const tc=ca.tupleid(gc),Bc=rb(gc,X),Mc=Zb.get(tc);Bc&&Mc?(Zb.delete(tc),sc.push(gc)):Bc||Mc?Lb&&Bc&&!Mc&&Oa.push(gc):(Zb.set(tc,1),jc.push(gc))}const Db=za.dataflow,Zb=this.value,Gb=za.fork(),sc=Gb.add,jc=Gb.rem,Oa=Gb.mod,rb=X.expr;let Lb=!0;za.visit(za.REM,gc=>{const tc=ca.tupleid(gc);Zb.has(tc)?Zb.delete(tc):
jc.push(gc)});za.visit(za.ADD,gc=>{rb(gc,X)?sc.push(gc):Zb.set(ca.tupleid(gc),1)});za.visit(za.MOD,gb);X.modified()&&(Lb=!1,za.visit(za.REFLOW,gb));Zb.empty>Db.cleanThreshold&&Db.runAfter(Zb.clean);return Gb}});Ua.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};x.inherits(Ua,ca.Transform,{transform(X,za){const gb=za.fork(za.NO_SOURCE),Db=X.fields,Zb=cb(Db,X.as||[]),Gb=X.index||
null,sc=Zb.length;gb.rem=this.value;za.visit(za.SOURCE,jc=>{const Oa=Db.map(Mc=>Mc(jc)),rb=Oa.reduce((Mc,Hb)=>Math.max(Mc,Hb.length),0);let Lb=0,gc,tc,Bc;for(;Lb<rb;++Lb){tc=ca.derive(jc);for(gc=0;gc<sc;++gc)tc[Zb[gc]]=null==(Bc=Oa[gc][Lb])?null:Bc;Gb&&(tc[Gb]=Lb);gb.add.push(tc)}});this.value=gb.source=gb.add;Gb&&gb.modifies(Gb);return gb.modifies(Zb)}});db.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,
length:2,"default":["key","value"]}]};x.inherits(db,ca.Transform,{transform(X,za){const gb=za.fork(za.NO_SOURCE),Db=X.fields,Zb=Db.map(x.accessorName);X=X.as||["key","value"];const Gb=X[0],sc=X[1],jc=Db.length;gb.rem=this.value;za.visit(za.SOURCE,Oa=>{for(let rb=0,Lb;rb<jc;++rb)Lb=ca.derive(Oa),Lb[Gb]=Zb[rb],Lb[sc]=Db[rb](Oa),gb.add.push(Lb)});this.value=gb.source=gb.add;return gb.modifies(X)}});U.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",
type:"string",required:!0},{name:"initonly",type:"boolean"}]};x.inherits(U,ca.Transform,{transform(X,za){const gb=X.expr,Db=X.as,Zb=X.modified(),Gb=X.initonly?za.ADD:Zb?za.SOURCE:za.modified(gb.fields)||za.modified(Db)?za.ADD_MOD:za.ADD;Zb&&(za=za.materialize().reflow(!0));X.initonly||za.modifies(Db);return za.visit(Gb,sc=>sc[Db]=gb(sc,X))}});x.inherits(va,ca.Transform,{transform(X,za){za=za.fork(za.ALL);const gb=X.generator;let Db=this.value,Zb=X.size-Db.length,Gb,sc;if(0<Zb){for(Gb=[];0<=--Zb;)Gb.push(sc=
ca.ingest(gb(X))),Db.push(sc);za.add=za.add.length?za.materialize(za.ADD).add.concat(Gb):Gb}else X=Db.slice(0,-Zb),za.rem=za.rem.length?za.materialize(za.REM).rem.concat(X):X,Db=Db.slice(-Zb);za.source=this.value=Db;return za}});const $b={value:"value",median:Wb.median,mean:Wb.mean,min:Wb.min,max:Wb.max},rd=[];xa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",
array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};x.inherits(xa,ca.Transform,{transform(X,za){var gb=za.fork(za.ALL),Db=ma(X),Zb=R(X),Gb=x.accessorName(X.field),sc=x.accessorName(X.key),jc=(X.groupby||[]).map(x.accessorName);X=v(za.source,X.groupby,X.key,X.keyvals);za=[];var Oa=this.value,rb=X.domain.length,Lb,gc,tc;var Bc=0;for(gc=X.length;Bc<gc;++Bc){var Mc=X[Bc];var Hb=Mc.values;var yc=NaN;for(Lb=0;Lb<rb;++Lb)if(null==
Mc[Lb]){var Cc=X.domain[Lb];var xc={_impute:!0};var Ic=0;for(tc=Hb.length;Ic<tc;++Ic)xc[jc[Ic]]=Hb[Ic];xc[sc]=Cc;xc[Gb]=Number.isNaN(yc)?yc=Db(Mc,Zb):yc;za.push(ca.ingest(xc))}}za.length&&(gb.add=gb.materialize(gb.ADD).add.concat(za));Oa.length&&(gb.rem=gb.materialize(gb.REM).rem.concat(Oa));this.value=za;return gb}});w.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,
values:ld},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};x.inherits(w,Ea,{transform(X,za){const gb=this,Db=X.modified();let Zb;gb.value&&(Db||za.modified(gb._inputs,!0))?(Zb=gb.value=Db?gb.init(X):{},za.visit(za.SOURCE,Gb=>gb.add(Gb))):(Zb=gb.value=gb.value||this.init(X),za.visit(za.REM,Gb=>gb.rem(Gb)),za.visit(za.ADD,Gb=>gb.add(Gb)));gb.changes();za.visit(za.SOURCE,Gb=>{x.extend(Gb,Zb[gb.cellkey(Gb)].tuple)});return za.reflow(Db).modifies(this._outputs)},changes(){const X=
this._adds,za=this._mods;let gb,Db;gb=0;for(Db=this._alen;gb<Db;++gb)this.celltuple(X[gb]),X[gb]=null;gb=0;for(Db=this._mlen;gb<Db;++gb)this.celltuple(za[gb]),za[gb]=null;this._alen=this._mlen=0}});p.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,
length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};x.inherits(p,ca.Transform,{transform(X,za){const gb=za.fork(za.NO_SOURCE|za.NO_FIELDS);if(!this.value||za.changed()||X.modified()){za=za.materialize(za.SOURCE).source;const Db=ob(za,X.groupby,X.field),Zb=(X.groupby||[]).map(x.accessorName),
Gb=X.bandwidth,sc=X.cumulative?"cdf":"pdf",jc=X.as||["value","density"],Oa=[];let rb=X.extent,Lb=X.steps||X.minsteps||25,gc=X.steps||X.maxsteps||200;"pdf"!==sc&&"cdf"!==sc&&x.error("Invalid density method: "+sc);"shared"===X.resolve&&(rb||(rb=x.extent(za,X.field)),Lb=gc=X.steps||gc);Db.forEach(tc=>{const Bc=Sa.randomKDE(tc,Gb)[sc],Mc=X.counts?tc.length:1,Hb=rb||x.extent(tc);Sa.sampleCurve(Bc,Hb,Lb,gc).forEach(yc=>{const Cc={};for(let xc=0;xc<Zb.length;++xc)Cc[Zb[xc]]=tc.dims[xc];Cc[jc[0]]=yc[0];Cc[jc[1]]=
yc[1]*Mc;Oa.push(ca.ingest(Cc))})});this.value&&(gb.rem=this.value);this.value=gb.add=gb.source=Oa}return gb}});x.inherits(r,ca.Operator);x.inherits(D,ca.Transform,{transform(X,za){const gb=za.dataflow;return this._pending?B(this,za,this._pending):G(X)?za.StopPropagation:X.values?B(this,za,gb.parse(X.values,X.format)):X.async?{async:gb.request(X.url,X.format).then(Db=>{this._pending=x.array(Db.data);return Zb=>Zb.touch(this)})}:gb.request(X.url,X.format).then(Db=>B(this,za,x.array(Db.data)))}});fa.Definition=
{type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};x.inherits(fa,ca.Transform,{transform(X,za){const gb=X.fields,Db=X.index,Zb=X.values,Gb=null==X.default?null:X.default;var sc=X.modified();const jc=gb.length;let Oa=sc?za.SOURCE:za.ADD,
rb=za,Lb=X.as,gc;Zb?(gc=Zb.length,1<jc&&!Lb&&x.error('Multi-field lookup requires explicit "as" parameter.'),Lb&&Lb.length!==jc*gc&&x.error('The "as" parameter has too few output field names.'),Lb=Lb||Zb.map(x.accessorName),X=function(tc){for(var Bc=0,Mc=0,Hb,yc;Bc<jc;++Bc)if(yc=Db.get(gb[Bc](tc)),null==yc)for(Hb=0;Hb<gc;++Hb,++Mc)tc[Lb[Mc]]=Gb;else for(Hb=0;Hb<gc;++Hb,++Mc)tc[Lb[Mc]]=Zb[Hb](yc)}):(Lb||x.error("Missing output field names."),X=function(tc){for(var Bc=0,Mc;Bc<jc;++Bc)Mc=Db.get(gb[Bc](tc)),
tc[Lb[Bc]]=null==Mc?Gb:Mc});sc?rb=za.reflow(!0):(sc=gb.some(tc=>za.modified(tc.fields)),Oa|=sc?za.MOD:0);za.visit(Oa,X);return rb.modifies(Lb)}});x.inherits(wa,ca.Operator);x.inherits(Ta,ca.Operator);x.inherits(Z,ca.Transform,{transform(X,za){this.modified(X.modified());this.value=X;return za.fork(za.NO_SOURCE|za.NO_FIELDS)}});sa.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",
required:!0},{name:"op",type:"enum",values:ld,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};x.inherits(sa,Ea,{_transform:Ea.prototype.transform,transform(X,za){return this._transform(eb(X,za),za)}});x.inherits(ec,O,{transform(X,za){const gb=X.subflow,Db=X.field,Zb=Gb=>this.subflow(ca.tupleid(Gb),gb,za,Gb);(X.modified("field")||Db&&za.modified(x.accessorFields(Db)))&&x.error("PreFacet does not support field modification.");this.initTargets();Db?(za.visit(za.MOD,
Gb=>{const sc=Zb(Gb);Db(Gb).forEach(jc=>sc.mod(jc))}),za.visit(za.ADD,Gb=>{const sc=Zb(Gb);Db(Gb).forEach(jc=>sc.add(ca.ingest(jc)))}),za.visit(za.REM,Gb=>{const sc=Zb(Gb);Db(Gb).forEach(jc=>sc.rem(jc))})):(za.visit(za.MOD,Gb=>Zb(Gb).mod(Gb)),za.visit(za.ADD,Gb=>Zb(Gb).add(Gb)),za.visit(za.REM,Gb=>Zb(Gb).rem(Gb)));za.clean()&&za.runAfter(()=>this.clean());return za}});Ec.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",
"null":!0,array:!0}]};x.inherits(Ec,ca.Transform,{transform(X,za){const gb=za.fork(za.NO_SOURCE),Db=X.fields,Zb=cb(X.fields,X.as||[]),Gb=Db?(jc,Oa)=>{for(let rb=0,Lb=Db.length;rb<Lb;++rb)Oa[Zb[rb]]=Db[rb](jc);return Oa}:ca.rederive;let sc;this.value?sc=this.value:(za=za.addAll(),sc=this.value={});za.visit(za.REM,jc=>{jc=ca.tupleid(jc);gb.rem.push(sc[jc]);sc[jc]=null});za.visit(za.ADD,jc=>{const Oa=Gb(jc,ca.ingest({}));sc[ca.tupleid(jc)]=Oa;gb.add.push(Oa)});za.visit(za.MOD,jc=>{gb.mod.push(Gb(jc,
sc[ca.tupleid(jc)]))});return gb}});x.inherits(gd,ca.Transform,{transform(X,za){this.value=X.value;return X.modified("value")?za.fork(za.NO_SOURCE|za.NO_FIELDS):za.StopPropagation}});Dc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};x.inherits(Dc,ca.Transform,
{transform(X,za){const gb=za.fork(za.NO_SOURCE|za.NO_FIELDS),Db=X.as||["prob","value"];if(this.value&&!X.modified()&&!za.changed())return gb.source=this.value,gb;za=za.materialize(za.SOURCE).source;za=ob(za,X.groupby,X.field);const Zb=(X.groupby||[]).map(x.accessorName),Gb=[],sc=X.step||.01,jc=X.probs||Wb.range(sc/2,1-1E-14,sc),Oa=jc.length;za.forEach(rb=>{const Lb=Sa.quantiles(rb,jc);for(let gc=0;gc<Oa;++gc){const tc={};for(let Bc=0;Bc<Zb.length;++Bc)tc[Zb[Bc]]=rb.dims[Bc];tc[Db[0]]=jc[gc];tc[Db[1]]=
Lb[gc];Gb.push(ca.ingest(tc))}});this.value&&(gb.rem=this.value);this.value=gb.add=gb.source=Gb;return gb}});x.inherits(Sc,ca.Transform,{transform(X,za){let gb,Db;this.value?Db=this.value:(gb=za=za.addAll(),Db=this.value={});X.derive&&(gb=za.fork(za.NO_SOURCE),za.visit(za.REM,Zb=>{Zb=ca.tupleid(Zb);gb.rem.push(Db[Zb]);Db[Zb]=null}),za.visit(za.ADD,Zb=>{const Gb=ca.derive(Zb);Db[ca.tupleid(Zb)]=Gb;gb.add.push(Gb)}),za.visit(za.MOD,Zb=>{const Gb=Db[ca.tupleid(Zb)];for(const sc in Zb)Gb[sc]=Zb[sc],gb.modifies(sc);
gb.mod.push(Gb)}));return gb}});Ra.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};x.inherits(Ra,ca.Transform,{transform(X,za){function gb(Lb){let gc,tc;jc.length<Gb?jc.push(Lb):(tc=~~((Oa+1)*Sa.random()),tc<jc.length&&tc>=rb&&(gc=jc[tc],sc[ca.tupleid(gc)]&&Db.rem.push(gc),jc[tc]=Lb));++Oa}const Db=za.fork(za.NO_SOURCE);var Zb=X.modified("size");const Gb=X.size,sc=this.value.reduce((Lb,gc)=>(Lb[ca.tupleid(gc)]=1,Lb),{});let jc=this.value,Oa=this.count,rb=
0;za.rem.length&&(za.visit(za.REM,Lb=>{const gc=ca.tupleid(Lb);sc[gc]&&(sc[gc]=-1,Db.rem.push(Lb));--Oa}),jc=jc.filter(Lb=>-1!==sc[ca.tupleid(Lb)]));(za.rem.length||Zb)&&jc.length<Gb&&za.source&&(rb=Oa=jc.length,za.visit(za.SOURCE,Lb=>{sc[ca.tupleid(Lb)]||gb(Lb)}),rb=-1);if(Zb&&jc.length>Gb){X=jc.length-Gb;for(Zb=0;Zb<X;++Zb)sc[ca.tupleid(jc[Zb])]=-1,Db.rem.push(jc[Zb]);jc=jc.slice(X)}za.mod.length&&za.visit(za.MOD,Lb=>{sc[ca.tupleid(Lb)]&&Db.mod.push(Lb)});za.add.length&&za.visit(za.ADD,gb);if(za.add.length||
0>rb)Db.add=jc.filter(Lb=>!sc[ca.tupleid(Lb)]);this.count=Oa;this.value=Db.source=jc;return Db}});nc.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};x.inherits(nc,ca.Transform,{transform(X,za){if(!this.value||X.modified()){var gb=za.materialize().fork(za.MOD),Db=X.as||"data";gb.rem=this.value?za.rem.concat(this.value):
za.rem;this.value=Wb.range(X.start,X.stop,X.step||1).map(Zb=>{const Gb={};Gb[Db]=Zb;return ca.ingest(Gb)});gb.add=za.add.concat(this.value);return gb}}});x.inherits(kc,ca.Transform,{transform(X,za){this.value=za.source;return za.changed()?za.fork(za.NO_SOURCE|za.NO_FIELDS):za.StopPropagation}});const vd=["unit0","unit1"];wc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:fb.TIME_UNITS,
array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":vd}]};x.inherits(wc,ca.Transform,{transform(X,za){const gb=X.field,Db=!1!==X.interval;var Zb="utc"===X.timezone;const Gb=this._floor(X,za),sc=(Zb?fb.utcInterval:fb.timeInterval)(Gb.unit).offset;Zb=X.as||vd;const jc=Zb[0],Oa=Zb[1],rb=Gb.step;let Lb=
Gb.start||Infinity,gc=Gb.stop||-Infinity,tc=za.ADD;if(X.modified()||za.modified(x.accessorFields(gb)))za=za.reflow(!0),tc=za.SOURCE,Lb=Infinity,gc=-Infinity;za.visit(tc,Bc=>{var Mc=gb(Bc);let Hb;null==Mc?(Bc[jc]=null,Db&&(Bc[Oa]=null)):(Bc[jc]=Mc=Hb=Gb(Mc),Db&&(Bc[Oa]=Hb=sc(Mc,rb)),Mc<Lb&&(Lb=Mc),Hb>gc&&(gc=Hb))});Gb.start=Lb;Gb.stop=gc;return za.modifies(Db?Zb:jc)},_floor(X,za){var gb="utc"===X.timezone;const {units:Db,step:Zb}=X.units?{units:X.units,step:X.step||1}:fb.timeBin({extent:X.extent||
x.extent(za.materialize(za.SOURCE).source,X.field),maxbins:X.maxbins});X=fb.timeUnits(Db);za=this.value||{};gb=(gb?fb.utcFloor:fb.timeFloor)(X,Zb);gb.unit=x.peek(X);gb.units=X;gb.step=Zb;gb.start=za.start;gb.stop=za.stop;return this.value=gb}});x.inherits(Pc,ca.Transform,{transform(X,za){const gb=za.dataflow,Db=X.field,Zb=this.value,Gb=jc=>Zb.set(Db(jc),jc);let sc=!0;X.modified("field")||za.modified(Db.fields)?(Zb.clear(),za.visit(za.SOURCE,Gb)):za.changed()?(za.visit(za.REM,jc=>Zb.delete(Db(jc))),
za.visit(za.ADD,Gb)):sc=!1;this.modified(sc);Zb.empty>gb.cleanThreshold&&gb.runAfter(Zb.clean);return za.fork()}});x.inherits(rc,ca.Transform,{transform(X,za){if(!this.value||X.modified("field")||X.modified("sort")||za.changed()||X.sort&&za.modified(X.sort.fields))this.value=(X.sort?za.source.slice().sort(ca.stableCompare(X.sort)):za.source).map(X.field)}});const de={row_number:function(){return{next:X=>X.index+1}},rank:function(){let X;return{init:()=>X=1,next:za=>{const gb=za.index,Db=za.data;return gb&&
za.compare(Db[gb-1],Db[gb])?X=gb+1:X}}},dense_rank:function(){let X;return{init:()=>X=1,next:za=>{const gb=za.index,Db=za.data;return gb&&za.compare(Db[gb-1],Db[gb])?++X:X}}},percent_rank:function(){const X=de.rank(),za=X.next;return{init:X.init,next:gb=>(za(gb)-1)/(gb.data.length-1)}},cume_dist:function(){let X;return{init:()=>X=0,next:za=>{const gb=za.data,Db=za.compare;za=za.index;if(X<za){for(;za+1<gb.length&&!Db(gb[za],gb[za+1]);)++za;X=za}return(1+X)/gb.length}}},ntile:function(X,za){za=+za;
0<za||x.error("ntile num must be greater than zero.");X=de.cume_dist();const gb=X.next;return{init:X.init,next:Db=>Math.ceil(za*gb(Db))}},lag:function(X,za){za=+za||1;return{next:gb=>{const Db=gb.index-za;return 0<=Db?X(gb.data[Db]):null}}},lead:function(X,za){za=+za||1;return{next:gb=>{const Db=gb.index+za;gb=gb.data;return Db<gb.length?X(gb[Db]):null}}},first_value:function(X){return{next:za=>X(za.data[za.i0])}},last_value:function(X){return{next:za=>X(za.data[za.i1-1])}},nth_value:function(X,za){za=
+za;0<za||x.error("nth_value nth must be greater than zero.");return{next:gb=>{const Db=gb.i0+(za-1);return Db<gb.i1?X(gb.data[Db]):null}}},prev_value:function(X){let za;return{init:()=>za=null,next:gb=>{gb=X(gb.data[gb.index]);return null!=gb?za=gb:za}}},next_value:function(X){let za,gb;return{init:()=>(za=null,gb=-1),next:Db=>{var Zb=Db.data;if(Db.index<=gb)Zb=za;else{a:{Db=Db.index;for(let Gb=Zb.length;Db<Gb;++Db)if(null!=X(Zb[Db]))break a;Db=-1}Zb=0>(gb=Db)?(gb=Zb.length,za=null):za=X(Zb[gb])}return Zb}}}};
La=Object.keys(de);const oe=$c.prototype;oe.init=function(){this.windows.forEach(X=>X.init());this.cell&&this.cell.init()};oe.update=function(X,za){const gb=this.cell,Db=this.windows,Zb=X.data,Gb=Db&&Db.length;let sc;if(gb){for(sc=X.p0;sc<X.i0;++sc)gb.rem(Zb[sc]);for(sc=X.p1;sc<X.i1;++sc)gb.add(Zb[sc]);gb.set(za)}for(sc=0;sc<Gb;++sc)Db[sc].update(X,za)};Dd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",
array:!0,values:La.concat(ld)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};x.inherits(Dd,ca.Transform,{transform(X,za){this.stamp=za.stamp;const gb=X.modified(),Db=ca.stableCompare(X.sort),Zb=Qb(X.groupby),Gb=jc=>this.group(Zb(jc));let sc=this.state;if(!sc||gb)sc=this.state=new $c(X);
gb||za.modified(sc.inputs)?(this.value={},za.visit(za.SOURCE,jc=>Gb(jc).add(jc))):(za.visit(za.REM,jc=>Gb(jc).remove(jc)),za.visit(za.ADD,jc=>Gb(jc).add(jc)));for(let jc=0,Oa=this._mlen;jc<Oa;++jc)we(this._mods[jc],sc,Db,X);this._mlen=0;this._mods=[];return za.reflow(gb).modifies(sc.outputs)},group(X){let za=this.value[X];za||(za=this.value[X]=jb(ca.tupleid),za.stamp=-1);za.stamp<this.stamp&&(za.stamp=this.stamp,this._mods[this._mlen++]=za);return za}});n.aggregate=Ea;n.bin=Ga;n.collect=Ca;n.compare=
ab;n.countpattern=ja;n.cross=Aa;n.density=Xa;n.dotbin=$a;n.expression=Q;n.extent=T;n.facet=O;n.field=W;n.filter=pa;n.flatten=Ua;n.fold=db;n.formula=U;n.generate=va;n.impute=xa;n.joinaggregate=w;n.kde=p;n.key=r;n.load=D;n.lookup=fa;n.multiextent=wa;n.multivalues=Ta;n.params=Z;n.pivot=sa;n.prefacet=ec;n.project=Ec;n.proxy=gd;n.quantile=Dc;n.relay=Sc;n.sample=Ra;n.sequence=nc;n.sieve=kc;n.subflow=na;n.timeunit=wc;n.tupleindex=Pc;n.values=rc;n.window=Dd;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[31]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function ca(){return new x}const Sa=Math.PI,Wb=2*Sa,fb=Wb-1E-6;x.prototype=ca.prototype={constructor:x,moveTo:function(ub,Qb){this._+="M"+(this._x0=this._x1=+ub)+","+(this._y0=this._y1=+Qb)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(ub,Qb){this._+="L"+(this._x1=+ub)+","+(this._y1=+Qb)},quadraticCurveTo:function(ub,Qb,Bb,bb){this._+="Q"+ +ub+","+ +Qb+","+(this._x1=+Bb)+","+(this._y1=+bb)},bezierCurveTo:function(ub,Qb,Bb,bb,qb,sb){this._+="C"+ +ub+","+ +Qb+","+ +Bb+","+ +bb+","+(this._x1=+qb)+","+(this._y1=+sb)},arcTo:function(ub,Qb,Bb,bb,qb){ub=+ub;Qb=+Qb;Bb=+Bb;bb=+bb;qb=+qb;var sb=this._x1,Wa=this._y1,Ha=Bb-ub,Ia=bb-Qb,Ya=sb-ub,mb=Wa-Qb,Ea=Ya*Ya+mb*mb;if(0>qb)throw Error("negative radius: "+
qb);if(null===this._x1)this._+="M"+(this._x1=ub)+","+(this._y1=Qb);else if(1E-6<Ea)if(1E-6<Math.abs(mb*Ha-Ia*Ya)&&qb){Bb-=sb;bb-=Wa;var Ga=Ha*Ha+Ia*Ia;Wa=Math.sqrt(Ga);sb=Math.sqrt(Ea);Ea=qb*Math.tan((Sa-Math.acos((Ga+Ea-(Bb*Bb+bb*bb))/(2*Wa*sb)))/2);sb=Ea/sb;Ea/=Wa;1E-6<Math.abs(sb-1)&&(this._+="L"+(ub+sb*Ya)+","+(Qb+sb*mb));this._+="A"+qb+","+qb+",0,0,"+ +(mb*Bb>Ya*bb)+","+(this._x1=ub+Ea*Ha)+","+(this._y1=Qb+Ea*Ia)}else this._+="L"+(this._x1=ub)+","+(this._y1=Qb)},arc:function(ub,Qb,Bb,bb,qb,sb){ub=
+ub;Qb=+Qb;Bb=+Bb;sb=!!sb;var Wa=Bb*Math.cos(bb),Ha=Bb*Math.sin(bb),Ia=ub+Wa,Ya=Qb+Ha,mb=1^sb;bb=sb?bb-qb:qb-bb;if(0>Bb)throw Error("negative radius: "+Bb);if(null===this._x1)this._+="M"+Ia+","+Ya;else if(1E-6<Math.abs(this._x1-Ia)||1E-6<Math.abs(this._y1-Ya))this._+="L"+Ia+","+Ya;Bb&&(0>bb&&(bb=bb%Wb+Wb),bb>fb?this._+="A"+Bb+","+Bb+",0,1,"+mb+","+(ub-Wa)+","+(Qb-Ha)+"A"+Bb+","+Bb+",0,1,"+mb+","+(this._x1=Ia)+","+(this._y1=Ya):1E-6<bb&&(this._+="A"+Bb+","+Bb+",0,"+ +(bb>=Sa)+","+mb+","+(this._x1=
ub+Bb*Math.cos(qb))+","+(this._y1=Qb+Bb*Math.sin(qb))))},rect:function(ub,Qb,Bb,bb){this._+="M"+(this._x0=this._x1=+ub)+","+(this._y0=this._y1=+Qb)+"h"+ +Bb+"v"+ +bb+"h"+-Bb+"Z"},toString:function(){return this._}};n.path=ca;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[32]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(31)):"function"===typeof define&&define.amd?define(["exports","d3-path"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ca(Oa){return function(){return Oa}}function Sa(Oa){return 1<=Oa?kc:-1>=Oa?-kc:Math.asin(Oa)}function Wb(Oa){return Oa.innerRadius}function fb(Oa){return Oa.outerRadius}function ub(Oa){return Oa.startAngle}function Qb(Oa){return Oa.endAngle}function Bb(Oa){return Oa&&
Oa.padAngle}function bb(Oa,rb,Lb,gc,tc,Bc,Mc){var Hb=Oa-Lb,yc=rb-gc;Mc=(Mc?Bc:-Bc)/Ra(Hb*Hb+yc*yc);yc*=Mc;Hb*=-Mc;var Cc=Oa+yc,xc=rb+Hb,Ic=Lb+yc,Yc=gc+Hb;Lb=(Cc+Ic)/2;gc=(xc+Yc)/2;rb=Ic-Cc;Oa=Yc-xc;Mc=rb*rb+Oa*Oa;Bc=tc-Bc;Yc=Cc*Yc-Ic*xc;var Uc=(0>Oa?-1:1)*Ra(gd(0,Bc*Bc*Mc-Yc*Yc));Cc=(Yc*Oa-rb*Uc)/Mc;xc=(-Yc*rb-Oa*Uc)/Mc;Ic=(Yc*Oa+rb*Uc)/Mc;rb=(-Yc*rb+Oa*Uc)/Mc;Oa=Cc-Lb;Mc=xc-gc;Lb=Ic-Lb;gc=rb-gc;Oa*Oa+Mc*Mc>Lb*Lb+gc*gc&&(Cc=Ic,xc=rb);return{cx:Cc,cy:xc,x01:-yc,y01:-Hb,x11:Cc*(tc/Bc-1),y11:xc*(tc/
Bc-1)}}function qb(Oa){return"object"===typeof Oa&&"length"in Oa?Oa:Array.from(Oa)}function sb(Oa){this._context=Oa}function Wa(Oa){return new sb(Oa)}function Ha(Oa){return Oa[0]}function Ia(Oa){return Oa[1]}function Ya(Oa,rb){function Lb(Hb){var yc,Cc=(Hb=qb(Hb)).length,xc,Ic=!1,Yc;null==tc&&(Mc=Bc(Yc=x.path()));for(yc=0;yc<=Cc;++yc)!(yc<Cc&&gc(xc=Hb[yc],yc,Hb))===Ic&&((Ic=!Ic)?Mc.lineStart():Mc.lineEnd()),Ic&&Mc.point(+Oa(xc,yc,Hb),+rb(xc,yc,Hb));if(Yc)return Mc=null,Yc+""||null}var gc=ca(!0),tc=
null,Bc=Wa,Mc=null;Oa="function"===typeof Oa?Oa:void 0===Oa?Ha:ca(Oa);rb="function"===typeof rb?rb:void 0===rb?Ia:ca(rb);Lb.x=function(Hb){return arguments.length?(Oa="function"===typeof Hb?Hb:ca(+Hb),Lb):Oa};Lb.y=function(Hb){return arguments.length?(rb="function"===typeof Hb?Hb:ca(+Hb),Lb):rb};Lb.defined=function(Hb){return arguments.length?(gc="function"===typeof Hb?Hb:ca(!!Hb),Lb):gc};Lb.curve=function(Hb){return arguments.length?(Bc=Hb,null!=tc&&(Mc=Bc(tc)),Lb):Bc};Lb.context=function(Hb){return arguments.length?
(null==Hb?tc=Mc=null:Mc=Bc(tc=Hb),Lb):tc};return Lb}function mb(Oa,rb,Lb){function gc(xc){var Ic,Yc,Uc=(xc=qb(xc)).length,od,qd=!1,Id,Ed=Array(Uc),Wd=Array(Uc);null==Hb&&(Cc=yc(Id=x.path()));for(Ic=0;Ic<=Uc;++Ic){if(!(Ic<Uc&&Mc(od=xc[Ic],Ic,xc))===qd)if(qd=!qd){var me=Ic;Cc.areaStart();Cc.lineStart()}else{Cc.lineEnd();Cc.lineStart();for(Yc=Ic-1;Yc>=me;--Yc)Cc.point(Ed[Yc],Wd[Yc]);Cc.lineEnd();Cc.areaEnd()}qd&&(Ed[Ic]=+Oa(od,Ic,xc),Wd[Ic]=+rb(od,Ic,xc),Cc.point(Bc?+Bc(od,Ic,xc):Ed[Ic],Lb?+Lb(od,Ic,
xc):Wd[Ic]))}if(Id)return Cc=null,Id+""||null}function tc(){return Ya().defined(Mc).curve(yc).context(Hb)}var Bc=null,Mc=ca(!0),Hb=null,yc=Wa,Cc=null;Oa="function"===typeof Oa?Oa:void 0===Oa?Ha:ca(+Oa);rb="function"===typeof rb?rb:void 0===rb?ca(0):ca(+rb);Lb="function"===typeof Lb?Lb:void 0===Lb?Ia:ca(+Lb);gc.x=function(xc){return arguments.length?(Oa="function"===typeof xc?xc:ca(+xc),Bc=null,gc):Oa};gc.x0=function(xc){return arguments.length?(Oa="function"===typeof xc?xc:ca(+xc),gc):Oa};gc.x1=function(xc){return arguments.length?
(Bc=null==xc?null:"function"===typeof xc?xc:ca(+xc),gc):Bc};gc.y=function(xc){return arguments.length?(rb="function"===typeof xc?xc:ca(+xc),Lb=null,gc):rb};gc.y0=function(xc){return arguments.length?(rb="function"===typeof xc?xc:ca(+xc),gc):rb};gc.y1=function(xc){return arguments.length?(Lb=null==xc?null:"function"===typeof xc?xc:ca(+xc),gc):Lb};gc.lineX0=gc.lineY0=function(){return tc().x(Oa).y(rb)};gc.lineY1=function(){return tc().x(Oa).y(Lb)};gc.lineX1=function(){return tc().x(Bc).y(rb)};gc.defined=
function(xc){return arguments.length?(Mc="function"===typeof xc?xc:ca(!!xc),gc):Mc};gc.curve=function(xc){return arguments.length?(yc=xc,null!=Hb&&(Cc=yc(Hb)),gc):yc};gc.context=function(xc){return arguments.length?(null==xc?Hb=Cc=null:Cc=yc(Hb=xc),gc):Hb};return gc}function Ea(Oa,rb){return rb<Oa?-1:rb>Oa?1:rb>=Oa?0:NaN}function Ga(Oa){return Oa}function jb(Oa){this._curve=Oa}function Ca(Oa){function rb(Lb){return new jb(Oa(Lb))}rb._curve=Oa;return rb}function ab(Oa){var rb=Oa.curve;Oa.angle=Oa.x;
delete Oa.x;Oa.radius=Oa.y;delete Oa.y;Oa.curve=function(Lb){return arguments.length?rb(Ca(Lb)):rb()._curve};return Oa}function Ma(){return ab(Ya().curve(rc))}function ja(){var Oa=mb().curve(rc),rb=Oa.curve,Lb=Oa.lineX0,gc=Oa.lineX1,tc=Oa.lineY0,Bc=Oa.lineY1;Oa.angle=Oa.x;delete Oa.x;Oa.startAngle=Oa.x0;delete Oa.x0;Oa.endAngle=Oa.x1;delete Oa.x1;Oa.radius=Oa.y;delete Oa.y;Oa.innerRadius=Oa.y0;delete Oa.y0;Oa.outerRadius=Oa.y1;delete Oa.y1;Oa.lineStartAngle=function(){return ab(Lb())};delete Oa.lineX0;
Oa.lineEndAngle=function(){return ab(gc())};delete Oa.lineX1;Oa.lineInnerRadius=function(){return ab(tc())};delete Oa.lineY0;Oa.lineOuterRadius=function(){return ab(Bc())};delete Oa.lineY1;Oa.curve=function(Mc){return arguments.length?rb(Ca(Mc)):rb()._curve};return Oa}function Aa(Oa,rb){return[(rb=+rb)*Math.cos(Oa-=Math.PI/2),rb*Math.sin(Oa)]}function Qa(Oa){return Oa.source}function Xa(Oa){return Oa.target}function hb(Oa){function rb(){var Hb,yc=Pc.call(arguments),Cc=Lb.apply(this,yc),xc=gc.apply(this,
yc);Mc||(Mc=Hb=x.path());Oa(Mc,+tc.apply(this,(yc[0]=Cc,yc)),+Bc.apply(this,yc),+tc.apply(this,(yc[0]=xc,yc)),+Bc.apply(this,yc));if(Hb)return Mc=null,Hb+""||null}var Lb=Qa,gc=Xa,tc=Ha,Bc=Ia,Mc=null;rb.source=function(Hb){return arguments.length?(Lb=Hb,rb):Lb};rb.target=function(Hb){return arguments.length?(gc=Hb,rb):gc};rb.x=function(Hb){return arguments.length?(tc="function"===typeof Hb?Hb:ca(+Hb),rb):tc};rb.y=function(Hb){return arguments.length?(Bc="function"===typeof Hb?Hb:ca(+Hb),rb):Bc};rb.context=
function(Hb){return arguments.length?(Mc=null==Hb?null:Hb,rb):Mc};return rb}function cb(Oa,rb,Lb,gc,tc){Oa.moveTo(rb,Lb);Oa.bezierCurveTo(rb=(rb+gc)/2,Lb,rb,tc,gc,tc)}function ob(Oa,rb,Lb,gc,tc){Oa.moveTo(rb,Lb);Oa.bezierCurveTo(rb,Lb=(Lb+tc)/2,gc,Lb,gc,tc)}function $a(Oa,rb,Lb,gc,tc){var Bc=Aa(rb,Lb);rb=Aa(rb,Lb=(Lb+tc)/2);Lb=Aa(gc,Lb);gc=Aa(gc,tc);Oa.moveTo(Bc[0],Bc[1]);Oa.bezierCurveTo(rb[0],rb[1],Lb[0],Lb[1],gc[0],gc[1])}function Q(){}function H(Oa,rb,Lb){Oa._context.bezierCurveTo((2*Oa._x0+Oa._x1)/
3,(2*Oa._y0+Oa._y1)/3,(Oa._x0+2*Oa._x1)/3,(Oa._y0+2*Oa._y1)/3,(Oa._x0+4*Oa._x1+rb)/6,(Oa._y0+4*Oa._y1+Lb)/6)}function T(Oa){this._context=Oa}function na(Oa){this._context=Oa}function O(Oa){this._context=Oa}function W(Oa,rb){this._basis=new T(Oa);this._beta=rb}function ea(Oa,rb,Lb){Oa._context.bezierCurveTo(Oa._x1+Oa._k*(Oa._x2-Oa._x0),Oa._y1+Oa._k*(Oa._y2-Oa._y0),Oa._x2+Oa._k*(Oa._x1-rb),Oa._y2+Oa._k*(Oa._y1-Lb),Oa._x2,Oa._y2)}function pa(Oa,rb){this._context=Oa;this._k=(1-rb)/6}function Ua(Oa,rb){this._context=
Oa;this._k=(1-rb)/6}function db(Oa,rb){this._context=Oa;this._k=(1-rb)/6}function U(Oa,rb,Lb){var gc=Oa._x1,tc=Oa._y1,Bc=Oa._x2,Mc=Oa._y2;if(1E-12<Oa._l01_a){var Hb=2*Oa._l01_2a+3*Oa._l01_a*Oa._l12_a+Oa._l12_2a,yc=3*Oa._l01_a*(Oa._l01_a+Oa._l12_a);gc=(gc*Hb-Oa._x0*Oa._l12_2a+Oa._x2*Oa._l01_2a)/yc;tc=(tc*Hb-Oa._y0*Oa._l12_2a+Oa._y2*Oa._l01_2a)/yc}1E-12<Oa._l23_a&&(Hb=2*Oa._l23_2a+3*Oa._l23_a*Oa._l12_a+Oa._l12_2a,yc=3*Oa._l23_a*(Oa._l23_a+Oa._l12_a),Bc=(Bc*Hb+Oa._x1*Oa._l23_2a-rb*Oa._l12_2a)/yc,Mc=
(Mc*Hb+Oa._y1*Oa._l23_2a-Lb*Oa._l12_2a)/yc);Oa._context.bezierCurveTo(gc,tc,Bc,Mc,Oa._x2,Oa._y2)}function va(Oa,rb){this._context=Oa;this._alpha=rb}function xa(Oa,rb){this._context=Oa;this._alpha=rb}function ma(Oa,rb){this._context=Oa;this._alpha=rb}function R(Oa){this._context=Oa}function v(Oa,rb,Lb){var gc=Oa._x1-Oa._x0;rb-=Oa._x1;var tc=(Oa._y1-Oa._y0)/(gc||0>rb&&-0);Oa=(Lb-Oa._y1)/(rb||0>gc&&-0);return((0>tc?-1:1)+(0>Oa?-1:1))*Math.min(Math.abs(tc),Math.abs(Oa),.5*Math.abs((tc*rb+Oa*gc)/(gc+rb)))||
0}function w(Oa,rb){var Lb=Oa._x1-Oa._x0;return Lb?(3*(Oa._y1-Oa._y0)/Lb-rb)/2:rb}function p(Oa,rb,Lb){var gc=Oa._x0,tc=Oa._x1,Bc=Oa._y1,Mc=(tc-gc)/3;Oa._context.bezierCurveTo(gc+Mc,Oa._y0+Mc*rb,tc-Mc,Bc-Mc*Lb,tc,Bc)}function r(Oa){this._context=Oa}function C(Oa){this._context=new D(Oa)}function D(Oa){this._context=Oa}function G(Oa){this._context=Oa}function B(Oa){var rb,Lb=Oa.length-1,gc=Array(Lb),tc=Array(Lb),Bc=Array(Lb);gc[0]=0;tc[0]=2;Bc[0]=Oa[0]+2*Oa[1];for(rb=1;rb<Lb-1;++rb)gc[rb]=1,tc[rb]=
4,Bc[rb]=4*Oa[rb]+2*Oa[rb+1];gc[Lb-1]=2;tc[Lb-1]=7;Bc[Lb-1]=8*Oa[Lb-1]+Oa[Lb];for(rb=1;rb<Lb;++rb){var Mc=gc[rb]/tc[rb-1];tc[rb]-=Mc;Bc[rb]-=Mc*Bc[rb-1]}gc[Lb-1]=Bc[Lb-1]/tc[Lb-1];for(rb=Lb-2;0<=rb;--rb)gc[rb]=(Bc[rb]-gc[rb+1])/tc[rb];tc[Lb-1]=(Oa[Lb]+gc[Lb-1])/2;for(rb=0;rb<Lb-1;++rb)tc[rb]=2*Oa[rb+1]-gc[rb+1];return[gc,tc]}function fa(Oa,rb){this._context=Oa;this._t=rb}function wa(Oa,rb){if(1<(Mc=Oa.length))for(var Lb=1,gc,tc,Bc=Oa[rb[0]],Mc,Hb=Bc.length;Lb<Mc;++Lb)for(tc=Bc,Bc=Oa[rb[Lb]],gc=0;gc<
Hb;++gc)Bc[gc][1]+=Bc[gc][0]=isNaN(tc[gc][1])?tc[gc][0]:tc[gc][1]}function la(Oa){Oa=Oa.length;for(var rb=Array(Oa);0<=--Oa;)rb[Oa]=Oa;return rb}function Ta(Oa,rb){return Oa[rb]}function Ja(Oa){const rb=[];rb.key=Oa;return rb}function Z(Oa){var rb=Oa.map(sa);return la(Oa).sort(function(Lb,gc){return rb[Lb]-rb[gc]})}function sa(Oa){for(var rb=-1,Lb=0,gc=Oa.length,tc,Bc=-Infinity;++rb<gc;)(tc=+Oa[rb][1])>Bc&&(Bc=tc,Lb=rb);return Lb}function eb(Oa){var rb=Oa.map(xb);return la(Oa).sort(function(Lb,gc){return rb[Lb]-
rb[gc]})}function xb(Oa){for(var rb=0,Lb=-1,gc=Oa.length,tc;++Lb<gc;)if(tc=+Oa[Lb][1])rb+=tc;return rb}var Kb=Math.abs,ec=Math.atan2,Ec=Math.cos,gd=Math.max,Dc=Math.min,Sc=Math.sin,Ra=Math.sqrt,nc=Math.PI,kc=nc/2,wc=2*nc,Pc=Array.prototype.slice;sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Oa,
rb){Oa=+Oa;rb=+rb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Oa,rb):this._context.moveTo(Oa,rb);break;case 1:this._point=2;default:this._context.lineTo(Oa,rb)}}};var rc=Ca(Wa);jb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(Oa,rb){this._curve.point(rb*Math.sin(Oa),rb*-Math.cos(Oa))}};var Xc={draw:function(Oa,rb){rb=
Math.sqrt(rb/nc);Oa.moveTo(rb,0);Oa.arc(0,0,rb,0,wc)}},$c={draw:function(Oa,rb){rb=Math.sqrt(rb/5)/2;Oa.moveTo(-3*rb,-rb);Oa.lineTo(-rb,-rb);Oa.lineTo(-rb,-3*rb);Oa.lineTo(rb,-3*rb);Oa.lineTo(rb,-rb);Oa.lineTo(3*rb,-rb);Oa.lineTo(3*rb,rb);Oa.lineTo(rb,rb);Oa.lineTo(rb,3*rb);Oa.lineTo(-rb,3*rb);Oa.lineTo(-rb,rb);Oa.lineTo(-3*rb,rb);Oa.closePath()}},Nc=Math.sqrt(1/3),Dd=2*Nc,we={draw:function(Oa,rb){rb=Math.sqrt(rb/Dd);var Lb=rb*Nc;Oa.moveTo(0,-rb);Oa.lineTo(Lb,0);Oa.lineTo(0,rb);Oa.lineTo(-Lb,0);Oa.closePath()}},
ld=Math.sin(nc/10)/Math.sin(7*nc/10),sd=Math.sin(wc/10)*ld,ge=-Math.cos(wc/10)*ld;ld={draw:function(Oa,rb){rb=Math.sqrt(.8908130915292852*rb);var Lb=sd*rb,gc=ge*rb;Oa.moveTo(0,-rb);Oa.lineTo(Lb,gc);for(var tc=1;5>tc;++tc){var Bc=wc*tc/5,Mc=Math.cos(Bc);Bc=Math.sin(Bc);Oa.lineTo(Bc*rb,-Mc*rb);Oa.lineTo(Mc*Lb-Bc*gc,Bc*Lb+Mc*gc)}Oa.closePath()}};var La={draw:function(Oa,rb){rb=Math.sqrt(rb);var Lb=-rb/2;Oa.rect(Lb,Lb,rb,rb)}},vb=Math.sqrt(3),$b={draw:function(Oa,rb){rb=-Math.sqrt(rb/(3*vb));Oa.moveTo(0,
2*rb);Oa.lineTo(-vb*rb,-rb);Oa.lineTo(vb*rb,-rb);Oa.closePath()}},rd=Math.sqrt(3)/2,vd=1/Math.sqrt(12),de=3*(vd/2+1),oe={draw:function(Oa,rb){var Lb=Math.sqrt(rb/de);rb=Lb/2;var gc=Lb*vd;Lb=Lb*vd+Lb;var tc=-rb;Oa.moveTo(rb,gc);Oa.lineTo(rb,Lb);Oa.lineTo(tc,Lb);Oa.lineTo(-.5*rb-rd*gc,rd*rb+-.5*gc);Oa.lineTo(-.5*rb-rd*Lb,rd*rb+-.5*Lb);Oa.lineTo(-.5*tc-rd*Lb,rd*tc+-.5*Lb);Oa.lineTo(-.5*rb+rd*gc,-.5*gc-rd*rb);Oa.lineTo(-.5*rb+rd*Lb,-.5*Lb-rd*rb);Oa.lineTo(-.5*tc+rd*Lb,-.5*Lb-rd*tc);Oa.closePath()}},X=
[Xc,$c,we,La,ld,$b,oe];T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:H(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Oa,rb){Oa=+Oa;rb=+rb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Oa,
rb):this._context.moveTo(Oa,rb);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H(this,Oa,rb)}this._x0=this._x1;this._x1=Oa;this._y0=this._y1;this._y1=rb}};na.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();
break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Oa,rb){Oa=+Oa;rb=+rb;switch(this._point){case 0:this._point=1;this._x2=Oa;this._y2=rb;break;case 1:this._point=2;this._x3=Oa;this._y3=rb;break;case 2:this._point=3;this._x4=Oa;this._y4=rb;this._context.moveTo((this._x0+
4*this._x1+Oa)/6,(this._y0+4*this._y1+rb)/6);break;default:H(this,Oa,rb)}this._x0=this._x1;this._x1=Oa;this._y0=this._y1;this._y1=rb}};O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Oa,rb){Oa=+Oa;rb=+rb;switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;var Lb=(this._x0+4*this._x1+Oa)/6,gc=(this._y0+4*this._y1+rb)/6;this._line?this._context.lineTo(Lb,gc):this._context.moveTo(Lb,gc);break;case 3:this._point=4;default:H(this,Oa,rb)}this._x0=this._x1;this._x1=Oa;this._y0=this._y1;this._y1=rb}};W.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Oa=this._x,rb=this._y,Lb=Oa.length-1;if(0<Lb)for(var gc=Oa[0],tc=rb[0],Bc=Oa[Lb]-gc,Mc=rb[Lb]-tc,Hb=-1,yc;++Hb<=Lb;)yc=Hb/Lb,this._basis.point(this._beta*
Oa[Hb]+(1-this._beta)*(gc+yc*Bc),this._beta*rb[Hb]+(1-this._beta)*(tc+yc*Mc));this._x=this._y=null;this._basis.lineEnd()},point:function(Oa,rb){this._x.push(+Oa);this._y.push(+rb)}};var za=function Lb(rb){function gc(tc){return 1===rb?new T(tc):new W(tc,rb)}gc.beta=function(tc){return Lb(+tc)};return gc}(.85);pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:ea(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(rb,Lb){rb=+rb;Lb=+Lb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(rb,Lb):this._context.moveTo(rb,Lb);break;case 1:this._point=2;this._x1=rb;this._y1=Lb;break;case 2:this._point=3;default:ea(this,rb,Lb)}this._x0=this._x1;this._x1=this._x2;this._x2=rb;this._y0=this._y1;this._y1=this._y2;this._y2=Lb}};var gb=function gc(Lb){function tc(Bc){return new pa(Bc,
Lb)}tc.tension=function(Bc){return gc(+Bc)};return tc}(0);Ua.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Lb,gc){Lb=+Lb;gc=+gc;switch(this._point){case 0:this._point=1;this._x3=Lb;this._y3=gc;break;case 1:this._point=2;this._context.moveTo(this._x4=Lb,this._y4=gc);break;case 2:this._point=3;this._x5=Lb;this._y5=gc;break;default:ea(this,Lb,gc)}this._x0=this._x1;this._x1=this._x2;this._x2=Lb;this._y0=this._y1;this._y1=this._y2;this._y2=gc}};var Db=function tc(gc){function Bc(Mc){return new Ua(Mc,gc)}Bc.tension=function(Mc){return tc(+Mc)};return Bc}(0);db.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(gc,tc){gc=+gc;tc=+tc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:ea(this,gc,tc)}this._x0=this._x1;this._x1=this._x2;this._x2=gc;this._y0=this._y1;this._y1=this._y2;this._y2=tc}};var Zb=function Bc(tc){function Mc(Hb){return new db(Hb,tc)}Mc.tension=function(Hb){return Bc(+Hb)};return Mc}(0);va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(tc,Bc){tc=+tc;Bc=+Bc;if(this._point){var Mc=this._x2-tc,Hb=this._y2-Bc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Mc*Mc+Hb*Hb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(tc,Bc):this._context.moveTo(tc,Bc);break;case 1:this._point=
2;break;case 2:this._point=3;default:U(this,tc,Bc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=tc;this._y0=this._y1;this._y1=this._y2;this._y2=Bc}};var Gb=function Mc(Bc){function Hb(yc){return Bc?new va(yc,Bc):new pa(yc,0)}Hb.alpha=function(yc){return Mc(+yc)};return Hb}(.5);xa.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Bc,Mc){Bc=+Bc;Mc=+Mc;if(this._point){var Hb=this._x2-Bc,yc=this._y2-
Mc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Hb*Hb+yc*yc,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Bc;this._y3=Mc;break;case 1:this._point=2;this._context.moveTo(this._x4=Bc,this._y4=Mc);break;case 2:this._point=3;this._x5=Bc;this._y5=Mc;break;default:U(this,Bc,Mc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Bc;this._y0=this._y1;this._y1=this._y2;this._y2=Mc}};var sc=function Hb(Mc){function yc(Cc){return Mc?
new xa(Cc,Mc):new Ua(Cc,0)}yc.alpha=function(Cc){return Hb(+Cc)};return yc}(.5);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Mc,Hb){Mc=+Mc;Hb=+Hb;if(this._point){var yc=
this._x2-Mc,Cc=this._y2-Hb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(yc*yc+Cc*Cc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:U(this,Mc,Hb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Mc;this._y0=this._y1;this._y1=
this._y2;this._y2=Hb}};var jc=function yc(Hb){function Cc(xc){return Hb?new ma(xc,Hb):new db(xc,0)}Cc.alpha=function(xc){return yc(+xc)};return Cc}(.5);R.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Hb,yc){Hb=+Hb;yc=+yc;this._point?this._context.lineTo(Hb,yc):(this._point=1,this._context.moveTo(Hb,yc))}};r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p(this,this._t0,w(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Hb,yc){var Cc=NaN;Hb=+Hb;yc=+yc;if(Hb!==this._x1||yc!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,yc):this._context.moveTo(Hb,yc);break;case 1:this._point=2;
break;case 2:this._point=3;p(this,w(this,Cc=v(this,Hb,yc)),Cc);break;default:p(this,this._t0,Cc=v(this,Hb,yc))}this._x0=this._x1;this._x1=Hb;this._y0=this._y1;this._y1=yc;this._t0=Cc}}};(C.prototype=Object.create(r.prototype)).point=function(Hb,yc){r.prototype.point.call(this,yc,Hb)};D.prototype={moveTo:function(Hb,yc){this._context.moveTo(yc,Hb)},closePath:function(){this._context.closePath()},lineTo:function(Hb,yc){this._context.lineTo(yc,Hb)},bezierCurveTo:function(Hb,yc,Cc,xc,Ic,Yc){this._context.bezierCurveTo(yc,
Hb,xc,Cc,Yc,Ic)}};G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Hb=this._x,yc=this._y,Cc=Hb.length;if(Cc)if(this._line?this._context.lineTo(Hb[0],yc[0]):this._context.moveTo(Hb[0],yc[0]),2===Cc)this._context.lineTo(Hb[1],yc[1]);else for(var xc=B(Hb),Ic=B(yc),Yc=0,Uc=1;Uc<Cc;++Yc,++Uc)this._context.bezierCurveTo(xc[0][Yc],Ic[0][Yc],xc[1][Yc],Ic[1][Yc],Hb[Uc],yc[Uc]);(this._line||0!==this._line&&
1===Cc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Hb,yc){this._x.push(+Hb);this._y.push(+yc)}};fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Hb,yc){Hb=+Hb;yc=+yc;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,yc):this._context.moveTo(Hb,yc);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,yc),this._context.lineTo(Hb,yc);else{var Cc=this._x*(1-this._t)+Hb*this._t;this._context.lineTo(Cc,this._y);this._context.lineTo(Cc,yc)}}this._x=Hb;this._y=yc}};n.arc=function(){function Hb(){var Id,Ed=+yc.apply(this,arguments),Wd=+Cc.apply(this,arguments),me=Yc.apply(this,arguments)-
kc,ye=Uc.apply(this,arguments)-kc,Ye=Kb(ye-me),Qe=ye>me;qd||(qd=Id=x.path());if(Wd<Ed){var Re=Wd;Wd=Ed;Ed=Re}if(1E-12<Wd)if(Ye>wc-1E-12)qd.moveTo(Wd*Ec(me),Wd*Sc(me)),qd.arc(0,0,Wd,me,ye,!Qe),1E-12<Ed&&(qd.moveTo(Ed*Ec(ye),Ed*Sc(ye)),qd.arc(0,0,Ed,ye,me,Qe));else{var Fd=me,ee=ye;Re=me;var ff=ye,Oe=Ye,Bf=Ye,Yd=od.apply(this,arguments)/2,Ae=1E-12<Yd&&(Ic?+Ic.apply(this,arguments):Ra(Ed*Ed+Wd*Wd)),cf=Dc(Kb(Wd-Ed)/2,+xc.apply(this,arguments)),re=cf,Ad=cf;if(1E-12<Ae){var Ld=Sa(Ae/Ed*Sc(Yd));Yd=Sa(Ae/
Wd*Sc(Yd));1E-12<(Oe-=2*Ld)?(Ld*=Qe?1:-1,Re+=Ld,ff-=Ld):(Oe=0,Re=ff=(me+ye)/2);1E-12<(Bf-=2*Yd)?(Yd*=Qe?1:-1,Fd+=Yd,ee-=Yd):(Bf=0,Fd=ee=(me+ye)/2)}me=Wd*Ec(Fd);ye=Wd*Sc(Fd);Ld=Ed*Ec(ff);Yd=Ed*Sc(ff);if(1E-12<cf){var ae=Wd*Ec(ee),Jf=Wd*Sc(ee),De=Ed*Ec(Re),Jd=Ed*Sc(Re);if(Ye=Ye<nc){var Se=De-me;Ye=Jd-ye;Ae=Ld-ae;var Ee=Yd-Jf,Ac=Ee*Se-Ae*Ye;1E-12>Ac*Ac?Se=void 0:(Ac=(Ae*(ye-Jf)-Ee*(me-ae))/Ac,Se=[me+Ac*Se,ye+Ac*Ye]);Ye=Se}Ye&&(re=me-Se[0],Ad=ye-Se[1],Ye=ae-Se[0],Ae=Jf-Se[1],re=(re*Ye+Ad*Ae)/(Ra(re*re+
Ad*Ad)*Ra(Ye*Ye+Ae*Ae)),Ad=1/Sc((1<re?0:-1>re?nc:Math.acos(re))/2),Se=Ra(Se[0]*Se[0]+Se[1]*Se[1]),re=Dc(cf,(Ed-Se)/(Ad-1)),Ad=Dc(cf,(Wd-Se)/(Ad+1)))}1E-12<Bf?1E-12<Ad?(Fd=bb(De,Jd,me,ye,Wd,Ad,Qe),ee=bb(ae,Jf,Ld,Yd,Wd,Ad,Qe),qd.moveTo(Fd.cx+Fd.x01,Fd.cy+Fd.y01),Ad<cf?qd.arc(Fd.cx,Fd.cy,Ad,ec(Fd.y01,Fd.x01),ec(ee.y01,ee.x01),!Qe):(qd.arc(Fd.cx,Fd.cy,Ad,ec(Fd.y01,Fd.x01),ec(Fd.y11,Fd.x11),!Qe),qd.arc(0,0,Wd,ec(Fd.cy+Fd.y11,Fd.cx+Fd.x11),ec(ee.cy+ee.y11,ee.cx+ee.x11),!Qe),qd.arc(ee.cx,ee.cy,Ad,ec(ee.y11,
ee.x11),ec(ee.y01,ee.x01),!Qe))):(qd.moveTo(me,ye),qd.arc(0,0,Wd,Fd,ee,!Qe)):qd.moveTo(me,ye);1E-12<Ed&&1E-12<Oe?1E-12<re?(Fd=bb(Ld,Yd,ae,Jf,Ed,-re,Qe),ee=bb(me,ye,De,Jd,Ed,-re,Qe),qd.lineTo(Fd.cx+Fd.x01,Fd.cy+Fd.y01),re<cf?qd.arc(Fd.cx,Fd.cy,re,ec(Fd.y01,Fd.x01),ec(ee.y01,ee.x01),!Qe):(qd.arc(Fd.cx,Fd.cy,re,ec(Fd.y01,Fd.x01),ec(Fd.y11,Fd.x11),!Qe),qd.arc(0,0,Ed,ec(Fd.cy+Fd.y11,Fd.cx+Fd.x11),ec(ee.cy+ee.y11,ee.cx+ee.x11),Qe),qd.arc(ee.cx,ee.cy,re,ec(ee.y11,ee.x11),ec(ee.y01,ee.x01),!Qe))):qd.arc(0,
0,Ed,ff,Re,Qe):qd.lineTo(Ld,Yd)}else qd.moveTo(0,0);qd.closePath();if(Id)return qd=null,Id+""||null}var yc=Wb,Cc=fb,xc=ca(0),Ic=null,Yc=ub,Uc=Qb,od=Bb,qd=null;Hb.centroid=function(){var Id=(+yc.apply(this,arguments)+ +Cc.apply(this,arguments))/2,Ed=(+Yc.apply(this,arguments)+ +Uc.apply(this,arguments))/2-nc/2;return[Ec(Ed)*Id,Sc(Ed)*Id]};Hb.innerRadius=function(Id){return arguments.length?(yc="function"===typeof Id?Id:ca(+Id),Hb):yc};Hb.outerRadius=function(Id){return arguments.length?(Cc="function"===
typeof Id?Id:ca(+Id),Hb):Cc};Hb.cornerRadius=function(Id){return arguments.length?(xc="function"===typeof Id?Id:ca(+Id),Hb):xc};Hb.padRadius=function(Id){return arguments.length?(Ic=null==Id?null:"function"===typeof Id?Id:ca(+Id),Hb):Ic};Hb.startAngle=function(Id){return arguments.length?(Yc="function"===typeof Id?Id:ca(+Id),Hb):Yc};Hb.endAngle=function(Id){return arguments.length?(Uc="function"===typeof Id?Id:ca(+Id),Hb):Uc};Hb.padAngle=function(Id){return arguments.length?(od="function"===typeof Id?
Id:ca(+Id),Hb):od};Hb.context=function(Id){return arguments.length?(qd=null==Id?null:Id,Hb):qd};return Hb};n.area=mb;n.areaRadial=ja;n.curveBasis=function(Hb){return new T(Hb)};n.curveBasisClosed=function(Hb){return new na(Hb)};n.curveBasisOpen=function(Hb){return new O(Hb)};n.curveBundle=za;n.curveCardinal=gb;n.curveCardinalClosed=Db;n.curveCardinalOpen=Zb;n.curveCatmullRom=Gb;n.curveCatmullRomClosed=sc;n.curveCatmullRomOpen=jc;n.curveLinear=Wa;n.curveLinearClosed=function(Hb){return new R(Hb)};
n.curveMonotoneX=function(Hb){return new r(Hb)};n.curveMonotoneY=function(Hb){return new C(Hb)};n.curveNatural=function(Hb){return new G(Hb)};n.curveStep=function(Hb){return new fa(Hb,.5)};n.curveStepAfter=function(Hb){return new fa(Hb,1)};n.curveStepBefore=function(Hb){return new fa(Hb,0)};n.line=Ya;n.lineRadial=Ma;n.linkHorizontal=function(){return hb(cb)};n.linkRadial=function(){var Hb=hb($a);Hb.angle=Hb.x;delete Hb.x;Hb.radius=Hb.y;delete Hb.y;return Hb};n.linkVertical=function(){return hb(ob)};
n.pie=function(){function Hb(od){var qd,Id=(od=qb(od)).length;var Ed=0;var Wd=Array(Id),me=Array(Id),ye=+Ic.apply(this,arguments);var Ye=Math.min(wc,Math.max(-wc,Yc.apply(this,arguments)-ye));var Qe=Math.min(Math.abs(Ye)/Id,Uc.apply(this,arguments)),Re=Qe*(0>Ye?-1:1),Fd;for(qd=0;qd<Id;++qd)0<(Fd=me[Wd[qd]=qd]=+yc(od[qd],qd,od))&&(Ed+=Fd);null!=Cc?Wd.sort(function(ff,Oe){return Cc(me[ff],me[Oe])}):null!=xc&&Wd.sort(function(ff,Oe){return xc(od[ff],od[Oe])});qd=0;for(Ye=Ed?(Ye-Id*Re)/Ed:0;qd<Id;++qd,
ye=ee){Ed=Wd[qd];Fd=me[Ed];var ee=ye+(0<Fd?Fd*Ye:0)+Re;me[Ed]={data:od[Ed],index:qd,value:Fd,startAngle:ye,endAngle:ee,padAngle:Qe}}return me}var yc=Ga,Cc=Ea,xc=null,Ic=ca(0),Yc=ca(wc),Uc=ca(0);Hb.value=function(od){return arguments.length?(yc="function"===typeof od?od:ca(+od),Hb):yc};Hb.sortValues=function(od){return arguments.length?(Cc=od,xc=null,Hb):Cc};Hb.sort=function(od){return arguments.length?(xc=od,Cc=null,Hb):xc};Hb.startAngle=function(od){return arguments.length?(Ic="function"===typeof od?
od:ca(+od),Hb):Ic};Hb.endAngle=function(od){return arguments.length?(Yc="function"===typeof od?od:ca(+od),Hb):Yc};Hb.padAngle=function(od){return arguments.length?(Uc="function"===typeof od?od:ca(+od),Hb):Uc};return Hb};n.pointRadial=Aa;n.radialArea=ja;n.radialLine=Ma;n.stack=function(){function Hb(Yc){var Uc=Array.from(yc.apply(this,arguments),Ja),od=Uc.length,qd=-1;for(const Ed of Yc){var Id=0;for(++qd;Id<od;++Id)(Uc[Id][qd]=[0,+Ic(Ed,Uc[Id].key,qd,Yc)]).data=Ed}Id=0;for(qd=qb(Cc(Uc));Id<od;++Id)Uc[qd[Id]].index=
Id;xc(Uc,qd);return Uc}var yc=ca([]),Cc=la,xc=wa,Ic=Ta;Hb.keys=function(Yc){return arguments.length?(yc="function"===typeof Yc?Yc:ca(Array.from(Yc)),Hb):yc};Hb.value=function(Yc){return arguments.length?(Ic="function"===typeof Yc?Yc:ca(+Yc),Hb):Ic};Hb.order=function(Yc){return arguments.length?(Cc=null==Yc?la:"function"===typeof Yc?Yc:ca(Array.from(Yc)),Hb):Cc};Hb.offset=function(Yc){return arguments.length?(xc=null==Yc?wa:Yc,Hb):xc};return Hb};n.stackOffsetDiverging=function(Hb,yc){if(0<(qd=Hb.length))for(var Cc,
xc=0,Ic,Yc,Uc,od,qd,Id=Hb[yc[0]].length;xc<Id;++xc)for(Cc=Uc=od=0;Cc<qd;++Cc)0<(Yc=(Ic=Hb[yc[Cc]][xc])[1]-Ic[0])?(Ic[0]=Uc,Ic[1]=Uc+=Yc):0>Yc?(Ic[1]=od,Ic[0]=od+=Yc):(Ic[0]=0,Ic[1]=Yc)};n.stackOffsetExpand=function(Hb,yc){if(0<(xc=Hb.length)){for(var Cc,xc,Ic=0,Yc=Hb[0].length,Uc;Ic<Yc;++Ic){for(Uc=Cc=0;Cc<xc;++Cc)Uc+=Hb[Cc][Ic][1]||0;if(Uc)for(Cc=0;Cc<xc;++Cc)Hb[Cc][Ic][1]/=Uc}wa(Hb,yc)}};n.stackOffsetNone=wa;n.stackOffsetSilhouette=function(Hb,yc){if(0<(Ic=Hb.length)){for(var Cc=0,xc=Hb[yc[0]],
Ic,Yc=xc.length;Cc<Yc;++Cc){for(var Uc=0,od=0;Uc<Ic;++Uc)od+=Hb[Uc][Cc][1]||0;xc[Cc][1]+=xc[Cc][0]=-od/2}wa(Hb,yc)}};n.stackOffsetWiggle=function(Hb,yc){if(0<(Uc=Hb.length)&&0<(Yc=(Ic=Hb[yc[0]]).length)){for(var Cc=0,xc=1,Ic,Yc,Uc;xc<Yc;++xc){for(var od=0,qd=0,Id=0;od<Uc;++od){var Ed=Hb[yc[od]],Wd=Ed[xc][1]||0;Ed=(Wd-(Ed[xc-1][1]||0))/2;for(var me=0;me<od;++me){var ye=Hb[yc[me]];Ed+=(ye[xc][1]||0)-(ye[xc-1][1]||0)}qd+=Wd;Id+=Ed*Wd}Ic[xc-1][1]+=Ic[xc-1][0]=Cc;qd&&(Cc-=Id/qd)}Ic[xc-1][1]+=Ic[xc-1][0]=
Cc;wa(Hb,yc)}};n.stackOrderAppearance=Z;n.stackOrderAscending=eb;n.stackOrderDescending=function(Hb){return eb(Hb).reverse()};n.stackOrderInsideOut=function(Hb){var yc=Hb.length,Cc=Hb.map(xb),xc=Z(Hb),Ic=0,Yc=0,Uc=[],od=[];for(Hb=0;Hb<yc;++Hb){var qd=xc[Hb];Ic<Yc?(Ic+=Cc[qd],Uc.push(qd)):(Yc+=Cc[qd],od.push(qd))}return od.reverse().concat(Uc)};n.stackOrderNone=la;n.stackOrderReverse=function(Hb){return la(Hb).reverse()};n.symbol=function(Hb,yc){function Cc(){var Ic;xc||(xc=Ic=x.path());Hb.apply(this,
arguments).draw(xc,+yc.apply(this,arguments));if(Ic)return xc=null,Ic+""||null}var xc=null;Hb="function"===typeof Hb?Hb:ca(Hb||Xc);yc="function"===typeof yc?yc:ca(void 0===yc?64:+yc);Cc.type=function(Ic){return arguments.length?(Hb="function"===typeof Ic?Ic:ca(Ic),Cc):Hb};Cc.size=function(Ic){return arguments.length?(yc="function"===typeof Ic?Ic:ca(+Ic),Cc):yc};Cc.context=function(Ic){return arguments.length?(xc=null==Ic?null:Ic,Cc):xc};return Cc};n.symbolCircle=Xc;n.symbolCross=$c;n.symbolDiamond=
we;n.symbolSquare=La;n.symbolStar=ld;n.symbolTriangle=$b;n.symbolWye=oe;n.symbols=X;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[33]=function(mc,Rb,Jc,Nb){!function(n,x){"object"==typeof Nb&&"undefined"!=typeof Jc?x(Nb):"function"==typeof define&&define.amd?define(["exports"],x):x((n="undefined"!=typeof globalThis?globalThis:n||self).vega={})}(this,function(n){function x(ca,Sa){if("undefined"!=typeof document&&document.createElement){const Wb=document.createElement("canvas");if(Wb&&Wb.getContext)return Wb.width=ca,Wb.height=Sa,Wb}return null}n.canvas=x;n.domCanvas=x;n.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[34]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(r,C,D){r.prototype=C.prototype=D;D.constructor=r}function ca(r,C){r=Object.create(r.prototype);for(var D in C)r[D]=C[D];return r}function Sa(){}function Wb(){return this.rgb().formatHex()}function fb(){return this.rgb().formatRgb()}function ub(r){var C,D;r=(r+"").trim().toLowerCase();
return(C=na.exec(r))?(D=C[1].length,C=parseInt(C[1],16),6===D?Qb(C):3===D?new sb(C>>8&15|C>>4&240,C>>4&15|C&240,(C&15)<<4|C&15,1):8===D?Bb(C>>24&255,C>>16&255,C>>8&255,(C&255)/255):4===D?Bb(C>>12&15|C>>8&240,C>>8&15|C>>4&240,C>>4&15|C&240,((C&15)<<4|C&15)/255):null):(C=O.exec(r))?new sb(C[1],C[2],C[3],1):(C=W.exec(r))?new sb(255*C[1]/100,255*C[2]/100,255*C[3]/100,1):(C=ea.exec(r))?Bb(C[1],C[2],C[3],C[4]):(C=pa.exec(r))?Bb(255*C[1]/100,255*C[2]/100,255*C[3]/100,C[4]):(C=Ua.exec(r))?Ya(C[1],C[2]/100,
C[3]/100,1):(C=db.exec(r))?Ya(C[1],C[2]/100,C[3]/100,C[4]):U.hasOwnProperty(r)?Qb(U[r]):"transparent"===r?new sb(NaN,NaN,NaN,0):null}function Qb(r){return new sb(r>>16&255,r>>8&255,r&255,1)}function Bb(r,C,D,G){0>=G&&(r=C=D=NaN);return new sb(r,C,D,G)}function bb(r){r instanceof Sa||(r=ub(r));if(!r)return new sb;r=r.rgb();return new sb(r.r,r.g,r.b,r.opacity)}function qb(r,C,D,G){return 1===arguments.length?bb(r):new sb(r,C,D,null==G?1:G)}function sb(r,C,D,G){this.r=+r;this.g=+C;this.b=+D;this.opacity=
+G}function Wa(){return"#"+Ia(this.r)+Ia(this.g)+Ia(this.b)}function Ha(){var r=this.opacity;r=isNaN(r)?1:Math.max(0,Math.min(1,r));return(1===r?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===r?")":", "+r+")")}function Ia(r){r=Math.max(0,Math.min(255,Math.round(r)||0));return(16>r?"0":"")+r.toString(16)}function Ya(r,C,D,G){0>=G?r=C=D=NaN:0>=D||1<=D?r=C=NaN:0>=C&&(r=NaN);
return new Ga(r,C,D,G)}function mb(r){if(r instanceof Ga)return new Ga(r.h,r.s,r.l,r.opacity);r instanceof Sa||(r=ub(r));if(!r)return new Ga;if(r instanceof Ga)return r;r=r.rgb();var C=r.r/255,D=r.g/255,G=r.b/255,B=Math.min(C,D,G),fa=Math.max(C,D,G),wa=NaN,la=fa-B,Ta=(fa+B)/2;la?(wa=C===fa?(D-G)/la+6*(D<G):D===fa?(G-C)/la+2:(C-D)/la+4,la/=.5>Ta?fa+B:2-fa-B,wa*=60):la=0<Ta&&1>Ta?0:wa;return new Ga(wa,la,Ta,r.opacity)}function Ea(r,C,D,G){return 1===arguments.length?mb(r):new Ga(r,C,D,null==G?1:G)}
function Ga(r,C,D,G){this.h=+r;this.s=+C;this.l=+D;this.opacity=+G}function jb(r,C,D){return 255*(60>r?C+(D-C)*r/60:180>r?D:240>r?C+(D-C)*(240-r)/60:C)}function Ca(r){if(r instanceof Ma)return new Ma(r.l,r.a,r.b,r.opacity);if(r instanceof ob)return $a(r);r instanceof sb||(r=bb(r));var C=Xa(r.r),D=Xa(r.g),G=Xa(r.b),B=ja(.2225045*C+.7168786*D+.0606169*G);if(C===D&&D===G)var fa=C=B;else fa=ja((.4360747*C+.3850649*D+.1430804*G)/.96422),C=ja((.0139322*C+.0971045*D+.7141733*G)/.82521);return new Ma(116*
B-16,500*(fa-B),200*(B-C),r.opacity)}function ab(r,C,D,G){return 1===arguments.length?Ca(r):new Ma(r,C,D,null==G?1:G)}function Ma(r,C,D,G){this.l=+r;this.a=+C;this.b=+D;this.opacity=+G}function ja(r){return r>w?Math.pow(r,1/3):r/v+ma}function Aa(r){return r>R?r*r*r:v*(r-ma)}function Qa(r){return 255*(.0031308>=r?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function Xa(r){return.04045>=(r/=255)?r/12.92:Math.pow((r+.055)/1.055,2.4)}function hb(r){if(r instanceof ob)return new ob(r.h,r.c,r.l,r.opacity);r instanceof
Ma||(r=Ca(r));if(0===r.a&&0===r.b)return new ob(NaN,0<r.l&&100>r.l?0:NaN,r.l,r.opacity);var C=Math.atan2(r.b,r.a)*xa;return new ob(0>C?C+360:C,Math.sqrt(r.a*r.a+r.b*r.b),r.l,r.opacity)}function cb(r,C,D,G){return 1===arguments.length?hb(r):new ob(r,C,D,null==G?1:G)}function ob(r,C,D,G){this.h=+r;this.c=+C;this.l=+D;this.opacity=+G}function $a(r){if(isNaN(r.h))return new Ma(r.l,0,0,r.opacity);var C=r.h*va;return new Ma(r.l,Math.cos(C)*r.c,Math.sin(C)*r.c,r.opacity)}function Q(r,C,D,G){if(1===arguments.length){var B=
r;if(B instanceof H)B=new H(B.h,B.s,B.l,B.opacity);else{B instanceof sb||(B=bb(B));var fa=B.g/255,wa=B.b/255,la=(p*wa+B.r/255*-1.7884503806-3.5172982438*fa)/(p+-1.7884503806-3.5172982438);wa-=la;var Ta=(1.97294*(fa-la)- -.29227*wa)/-.90649;wa=(fa=Math.sqrt(Ta*Ta+wa*wa)/(1.97294*la*(1-la)))?Math.atan2(Ta,wa)*xa-120:NaN;B=new H(0>wa?wa+360:wa,fa,la,B.opacity)}}else B=new H(r,C,D,null==G?1:G);return B}function H(r,C,D,G){this.h=+r;this.s=+C;this.l=+D;this.opacity=+G}var T=1/.7,na=/^#([0-9a-f]{3,8})$/,
O=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,W=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,ea=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,pa=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ua=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
db=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x(Sa,ub,{copy:function(r){return Object.assign(new this.constructor,this,r)},displayable:function(){return this.rgb().displayable()},hex:Wb,formatHex:Wb,formatHsl:function(){return mb(this).formatHsl()},
formatRgb:fb,toString:fb});x(sb,qb,ca(Sa,{brighter:function(r){r=null==r?T:Math.pow(T,r);return new sb(this.r*r,this.g*r,this.b*r,this.opacity)},darker:function(r){r=null==r?.7:Math.pow(.7,r);return new sb(this.r*r,this.g*r,this.b*r,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Wa,formatHex:Wa,formatRgb:Ha,toString:Ha}));x(Ga,Ea,ca(Sa,{brighter:function(r){r=
null==r?T:Math.pow(T,r);return new Ga(this.h,this.s,this.l*r,this.opacity)},darker:function(r){r=null==r?.7:Math.pow(.7,r);return new Ga(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=this.h%360+360*(0>this.h),C=isNaN(r)||isNaN(this.s)?0:this.s,D=this.l;C=D+(.5>D?D:1-D)*C;D=2*D-C;return new sb(jb(240<=r?r-240:r+120,D,C),jb(r,D,C),jb(120>r?r+240:r-120,D,C),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var r=this.opacity;r=isNaN(r)?1:Math.max(0,Math.min(1,r));return(1===r?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===r?")":", "+r+")")}}));const va=Math.PI/180,xa=180/Math.PI,ma=4/29,R=6/29,v=3*R*R,w=R*R*R;x(Ma,ab,ca(Sa,{brighter:function(r){return new Ma(this.l+18*(null==r?1:r),this.a,this.b,this.opacity)},darker:function(r){return new Ma(this.l-18*(null==r?1:r),this.a,this.b,this.opacity)},rgb:function(){var r=(this.l+16)/116,C=isNaN(this.a)?
r:r+this.a/500,D=isNaN(this.b)?r:r-this.b/200;C=.96422*Aa(C);r=1*Aa(r);D=.82521*Aa(D);return new sb(Qa(3.1338561*C-1.6168667*r-.4906146*D),Qa(-.9787684*C+1.9161415*r+.033454*D),Qa(.0719453*C-.2289914*r+1.4052427*D),this.opacity)}}));x(ob,cb,ca(Sa,{brighter:function(r){return new ob(this.h,this.c,this.l+18*(null==r?1:r),this.opacity)},darker:function(r){return new ob(this.h,this.c,this.l-18*(null==r?1:r),this.opacity)},rgb:function(){return $a(this).rgb()}}));var p=1.78277*-.29227-.1347134789;x(H,
Q,ca(Sa,{brighter:function(r){r=null==r?T:Math.pow(T,r);return new H(this.h,this.s,this.l*r,this.opacity)},darker:function(r){r=null==r?.7:Math.pow(.7,r);return new H(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=isNaN(this.h)?0:(this.h+120)*va,C=+this.l,D=isNaN(this.s)?0:this.s*C*(1-C),G=Math.cos(r);r=Math.sin(r);return new sb(255*(C+D*(-.14861*G+1.78277*r)),255*(C+D*(-.29227*G+-.90649*r)),255*(C+1.97294*D*G),this.opacity)}}));n.color=ub;n.cubehelix=Q;n.gray=function(r,C){return new Ma(r,
0,0,null==C?1:C)};n.hcl=cb;n.hsl=Ea;n.lab=ab;n.lch=function(r,C,D,G){return 1===arguments.length?hb(r):new ob(D,C,r,null==G?1:G)};n.rgb=qb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[35]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(34)):"function"===typeof define&&define.amd?define(["exports","d3-color"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ca(R,v,w,p,r){var C=R*R,D=C*R;return((1-3*R+3*C-D)*v+(4-6*C+3*D)*w+(1+3*R+3*C-3*D)*p+D*r)/6}function Sa(R){var v=R.length-1;return function(w){var p=0>=w?w=0:1<=w?(w=1,v-1):Math.floor(w*v),r=R[p],C=R[p+1];return ca((w-p/v)*v,0<p?R[p-1]:2*r-C,r,C,p<v-
1?R[p+2]:2*C-r)}}function Wb(R){var v=R.length;return function(w){var p=Math.floor((0>(w%=1)?++w:w)*v);return ca((w-p/v)*v,R[(p+v-1)%v],R[p%v],R[(p+1)%v],R[(p+2)%v])}}function fb(R,v){return function(w){return R+w*v}}function ub(R,v,w){return R=Math.pow(R,w),v=Math.pow(v,w)-R,w=1/w,function(p){return Math.pow(R+p*v,w)}}function Qb(R,v){var w=v-R;return w?fb(R,180<w||-180>w?w-360*Math.round(w/360):w):hb(isNaN(R)?v:R)}function Bb(R){return 1===(R=+R)?bb:function(v,w){return w-v?ub(v,w,R):hb(isNaN(v)?
w:v)}}function bb(R,v){var w=v-R;return w?fb(R,w):hb(isNaN(R)?v:R)}function qb(R){return function(v){var w=v.length,p=Array(w),r=Array(w),C=Array(w),D;for(D=0;D<w;++D){var G=x.rgb(v[D]);p[D]=G.r||0;r[D]=G.g||0;C[D]=G.b||0}p=R(p);r=R(r);C=R(C);G.opacity=1;return function(B){G.r=p(B);G.g=r(B);G.b=C(B);return G+""}}}function sb(R,v){v||(v=[]);var w=R?Math.min(v.length,R.length):0,p=v.slice(),r;return function(C){for(r=0;r<w;++r)p[r]=R[r]*(1-C)+v[r]*C;return p}}function Wa(R){return ArrayBuffer.isView(R)&&
!(R instanceof DataView)}function Ha(R,v){var w=v?v.length:0,p=R?Math.min(w,R.length):0,r=Array(p),C=Array(w),D;for(D=0;D<p;++D)r[D]=Ca(R[D],v[D]);for(;D<w;++D)C[D]=v[D];return function(G){for(D=0;D<p;++D)C[D]=r[D](G);return C}}function Ia(R,v){var w=new Date;return R=+R,v=+v,function(p){return w.setTime(R*(1-p)+v*p),w}}function Ya(R,v){return R=+R,v=+v,function(w){return R*(1-w)+v*w}}function mb(R,v){var w={},p={},r;if(null===R||"object"!==typeof R)R={};if(null===v||"object"!==typeof v)v={};for(r in v)r in
R?w[r]=Ca(R[r],v[r]):p[r]=v[r];return function(C){for(r in w)p[r]=w[r](C);return p}}function Ea(R){return function(){return R}}function Ga(R){return function(v){return R(v)+""}}function jb(R,v){var w=Q.lastIndex=H.lastIndex=0,p,r,C,D=-1,G=[],B=[];R+="";for(v+="";(p=Q.exec(R))&&(r=H.exec(v));)(C=r.index)>w&&(C=v.slice(w,C),G[D]?G[D]+=C:G[++D]=C),(p=p[0])===(r=r[0])?G[D]?G[D]+=r:G[++D]=r:(G[++D]=null,B.push({i:D,x:Ya(p,r)})),w=H.lastIndex;w<v.length&&(C=v.slice(w),G[D]?G[D]+=C:G[++D]=C);return 2>G.length?
B[0]?Ga(B[0].x):Ea(v):(v=B.length,function(fa){for(var wa=0,la;wa<v;++wa)G[(la=B[wa]).i]=la.x(fa);return G.join("")})}function Ca(R,v){var w=typeof v,p;return null==v||"boolean"===w?hb(v):("number"===w?Ya:"string"===w?(p=x.color(v))?(v=p,cb):jb:v instanceof x.color?cb:v instanceof Date?Ia:Wa(v)?sb:Array.isArray(v)?Ha:"function"!==typeof v.valueOf&&"function"!==typeof v.toString||isNaN(v)?mb:Ya)(R,v)}function ab(R,v,w,p,r,C){var D,G,B;if(D=Math.sqrt(R*R+v*v))R/=D,v/=D;if(B=R*w+v*p)w-=R*B,p-=v*B;if(G=
Math.sqrt(w*w+p*p))w/=G,p/=G,B/=G;R*p<v*w&&(R=-R,v=-v,B=-B,D=-D);return{translateX:r,translateY:C,rotate:Math.atan2(v,R)*T,skewX:Math.atan(B)*T,scaleX:D,scaleY:G}}function Ma(R,v,w,p){function r(fa){return fa.length?fa.pop()+" ":""}function C(fa,wa,la,Ta,Ja,Z){fa!==la||wa!==Ta?(Ja=Ja.push("translate(",null,v,null,w),Z.push({i:Ja-4,x:Ya(fa,la)},{i:Ja-2,x:Ya(wa,Ta)})):(la||Ta)&&Ja.push("translate("+la+v+Ta+w)}function D(fa,wa,la,Ta){fa!==wa?(180<fa-wa?wa+=360:180<wa-fa&&(fa+=360),Ta.push({i:la.push(r(la)+
"rotate(",null,p)-2,x:Ya(fa,wa)})):wa&&la.push(r(la)+"rotate("+wa+p)}function G(fa,wa,la,Ta){fa!==wa?Ta.push({i:la.push(r(la)+"skewX(",null,p)-2,x:Ya(fa,wa)}):wa&&la.push(r(la)+"skewX("+wa+p)}function B(fa,wa,la,Ta,Ja,Z){fa!==la||wa!==Ta?(Ja=Ja.push(r(Ja)+"scale(",null,",",null,")"),Z.push({i:Ja-4,x:Ya(fa,la)},{i:Ja-2,x:Ya(wa,Ta)})):1===la&&1===Ta||Ja.push(r(Ja)+"scale("+la+","+Ta+")")}return function(fa,wa){var la=[],Ta=[];fa=R(fa);wa=R(wa);C(fa.translateX,fa.translateY,wa.translateX,wa.translateY,
la,Ta);D(fa.rotate,wa.rotate,la,Ta);G(fa.skewX,wa.skewX,la,Ta);B(fa.scaleX,fa.scaleY,wa.scaleX,wa.scaleY,la,Ta);fa=wa=null;return function(Ja){for(var Z=-1,sa=Ta.length,eb;++Z<sa;)la[(eb=Ta[Z]).i]=eb.x(Ja);return la.join("")}}}function ja(R){return((R=Math.exp(R))+1/R)/2}function Aa(R){return function(v,w){var p=R((v=x.hsl(v)).h,(w=x.hsl(w)).h),r=bb(v.s,w.s),C=bb(v.l,w.l),D=bb(v.opacity,w.opacity);return function(G){v.h=p(G);v.s=r(G);v.l=C(G);v.opacity=D(G);return v+""}}}function Qa(R){return function(v,
w){var p=R((v=x.hcl(v)).h,(w=x.hcl(w)).h),r=bb(v.c,w.c),C=bb(v.l,w.l),D=bb(v.opacity,w.opacity);return function(G){v.h=p(G);v.c=r(G);v.l=C(G);v.opacity=D(G);return v+""}}}function Xa(R){return function p(w){function r(C,D){var G=R((C=x.cubehelix(C)).h,(D=x.cubehelix(D)).h),B=bb(C.s,D.s),fa=bb(C.l,D.l),wa=bb(C.opacity,D.opacity);return function(la){C.h=G(la);C.s=B(la);C.l=fa(Math.pow(la,w));C.opacity=wa(la);return C+""}}w=+w;r.gamma=p;return r}(1)}var hb=R=>()=>R,cb=function w(v){function p(C,D){var G=
r((C=x.rgb(C)).r,(D=x.rgb(D)).r),B=r(C.g,D.g),fa=r(C.b,D.b),wa=bb(C.opacity,D.opacity);return function(la){C.r=G(la);C.g=B(la);C.b=fa(la);C.opacity=wa(la);return C+""}}var r=Bb(v);p.gamma=w;return p}(1),ob=qb(Sa),$a=qb(Wb),Q=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H=new RegExp(Q.source,"g"),T=180/Math.PI,na={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},O,W=Ma(function(v){v=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(v+"");return v.isIdentity?na:ab(v.a,v.b,
v.c,v.d,v.e,v.f)},"px, ","px)","deg)"),ea=Ma(function(v){if(null==v)return na;O||(O=document.createElementNS("http://www.w3.org/2000/svg","g"));O.setAttribute("transform",v);if(!(v=O.transform.baseVal.consolidate()))return na;v=v.matrix;return ab(v.a,v.b,v.c,v.d,v.e,v.f)},", ",")",")"),pa=function C(w,p,r){function D(G,B){var fa=G[0],wa=G[1],la=G[2];G=B[2];var Ta=B[0]-fa,Ja=B[1]-wa,Z=Ta*Ta+Ja*Ja;if(1E-12>Z){var sa=Math.log(G/la)/w;G=function(Kb){return[fa+Kb*Ta,wa+Kb*Ja,la*Math.exp(w*Kb*sa)]}}else{var eb=
Math.sqrt(Z);B=(G*G-la*la+r*Z)/(2*la*p*eb);G=(G*G-la*la-r*Z)/(2*G*p*eb);var xb=Math.log(Math.sqrt(B*B+1)-B);sa=(Math.log(Math.sqrt(G*G+1)-G)-xb)/w;G=function(Kb){Kb*=sa;var ec=ja(xb),Ec=w*Kb+xb;var gd=((Ec=Math.exp(2*Ec))-1)/(Ec+1);var Dc=xb;Ec=((Dc=Math.exp(Dc))-1/Dc)/2;gd=la/(p*eb)*(ec*gd-Ec);return[fa+gd*Ta,wa+gd*Ja,la*ec/ja(w*Kb+xb)]}}G.duration=1E3*sa*w/Math.SQRT2;return G}D.rho=function(G){G=Math.max(.001,+G);var B=G*G;return C(G,B,B*B)};return D}(Math.SQRT2,2,4),Ua=Aa(Qb),db=Aa(bb),U=Qa(Qb),
va=Qa(bb),xa=Xa(Qb),ma=Xa(bb);n.interpolate=Ca;n.interpolateArray=function(w,p){return(Wa(p)?sb:Ha)(w,p)};n.interpolateBasis=Sa;n.interpolateBasisClosed=Wb;n.interpolateCubehelix=xa;n.interpolateCubehelixLong=ma;n.interpolateDate=Ia;n.interpolateDiscrete=function(w){var p=w.length;return function(r){return w[Math.max(0,Math.min(p-1,Math.floor(r*p)))]}};n.interpolateHcl=U;n.interpolateHclLong=va;n.interpolateHsl=Ua;n.interpolateHslLong=db;n.interpolateHue=function(w,p){var r=Qb(+w,+p);return function(C){C=
r(C);return C-360*Math.floor(C/360)}};n.interpolateLab=function(w,p){var r=bb((w=x.lab(w)).l,(p=x.lab(p)).l),C=bb(w.a,p.a),D=bb(w.b,p.b),G=bb(w.opacity,p.opacity);return function(B){w.l=r(B);w.a=C(B);w.b=D(B);w.opacity=G(B);return w+""}};n.interpolateNumber=Ya;n.interpolateNumberArray=sb;n.interpolateObject=mb;n.interpolateRgb=cb;n.interpolateRgbBasis=ob;n.interpolateRgbBasisClosed=$a;n.interpolateRound=function(w,p){return w=+w,p=+p,function(r){return Math.round(w*(1-r)+p*r)}};n.interpolateString=
jb;n.interpolateTransformCss=W;n.interpolateTransformSvg=ea;n.interpolateZoom=pa;n.piecewise=function(w,p){void 0===p&&(p=w,w=Ca);for(var r=0,C=p.length-1,D=p[0],G=Array(0>C?0:C);r<C;)G[r]=w(D,D=p[++r]);return function(B){var fa=Math.max(0,Math.min(C-1,Math.floor(B*=C)));return G[fa](B-fa)}};n.quantize=function(w,p){for(var r=Array(p),C=0;C<p;++C)r[C]=w(C/(p-1));return r};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[36]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(17),Rb(35),Rb(18),Rb(19),Rb(21)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),x):(n=n||self,x(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3))})(this,function(n,x,ca,Sa,Wb,fb){function ub(Ra,nc){switch(arguments.length){case 0:break;case 1:this.range(Ra);break;default:this.range(nc).domain(Ra)}return this}function Qb(Ra,
nc){switch(arguments.length){case 0:break;case 1:"function"===typeof Ra?this.interpolator(Ra):this.range(Ra);break;default:this.domain(Ra),"function"===typeof nc?this.interpolator(nc):this.range(nc)}return this}function Bb(){function Ra(rc){var Xc=rc+"",$c=nc.get(Xc);if(!$c){if(Pc!==ec)return Pc;nc.set(Xc,$c=kc.push(rc))}return wc[($c-1)%wc.length]}var nc=new Map,kc=[],wc=[],Pc=ec;Ra.domain=function(rc){if(!arguments.length)return kc.slice();kc=[];nc=new Map;for(const Xc of rc){const $c=Xc+"";nc.has($c)||
nc.set($c,kc.push(Xc))}return Ra};Ra.range=function(rc){return arguments.length?(wc=Array.from(rc),Ra):wc.slice()};Ra.unknown=function(rc){return arguments.length?(Pc=rc,Ra):Pc};Ra.copy=function(){return Bb(kc,wc).unknown(Pc)};ub.apply(Ra,arguments);return Ra}function bb(){function Ra(){var sd=kc().length,ge=rc<Pc,La=ge?rc:Pc,vb=ge?Pc:rc;Xc=(vb-La)/Math.max(1,sd-Dd+2*we);Nc&&(Xc=Math.floor(Xc));La+=(vb-La-Xc*(sd-Dd))*ld;$c=Xc*(1-Dd);Nc&&(La=Math.round(La),$c=Math.round($c));sd=x.range(sd).map(function($b){return La+
Xc*$b});return wc(ge?sd.reverse():sd)}var nc=Bb().unknown(void 0),kc=nc.domain,wc=nc.range,Pc=0,rc=1,Xc,$c,Nc=!1,Dd=0,we=0,ld=.5;delete nc.unknown;nc.domain=function(sd){return arguments.length?(kc(sd),Ra()):kc()};nc.range=function(sd){return arguments.length?([Pc,rc]=sd,Pc=+Pc,rc=+rc,Ra()):[Pc,rc]};nc.rangeRound=function(sd){return[Pc,rc]=sd,Pc=+Pc,rc=+rc,Nc=!0,Ra()};nc.bandwidth=function(){return $c};nc.step=function(){return Xc};nc.round=function(sd){return arguments.length?(Nc=!!sd,Ra()):Nc};
nc.padding=function(sd){return arguments.length?(Dd=Math.min(1,we=+sd),Ra()):Dd};nc.paddingInner=function(sd){return arguments.length?(Dd=Math.min(1,sd),Ra()):Dd};nc.paddingOuter=function(sd){return arguments.length?(we=+sd,Ra()):we};nc.align=function(sd){return arguments.length?(ld=Math.max(0,Math.min(1,sd)),Ra()):ld};nc.copy=function(){return bb(kc(),[Pc,rc]).round(Nc).paddingInner(Dd).paddingOuter(we).align(ld)};return ub.apply(Ra(),arguments)}function qb(Ra){var nc=Ra.copy;Ra.padding=Ra.paddingOuter;
delete Ra.paddingInner;delete Ra.paddingOuter;Ra.copy=function(){return qb(nc())};return Ra}function sb(Ra){return function(){return Ra}}function Wa(Ra){return+Ra}function Ha(Ra){return Ra}function Ia(Ra,nc){return(nc-=Ra=+Ra)?function(kc){return(kc-Ra)/nc}:sb(isNaN(nc)?NaN:.5)}function Ya(Ra,nc){if(Ra>nc){var kc=Ra;Ra=nc;nc=kc}return function(wc){return Math.max(Ra,Math.min(nc,wc))}}function mb(Ra,nc,kc){var wc=Ra[0];Ra=Ra[1];var Pc=nc[0];nc=nc[1];Ra<wc?(wc=Ia(Ra,wc),Pc=kc(nc,Pc)):(wc=Ia(wc,Ra),
Pc=kc(Pc,nc));return function(rc){return Pc(wc(rc))}}function Ea(Ra,nc,kc){var wc=Math.min(Ra.length,nc.length)-1,Pc=Array(wc),rc=Array(wc),Xc=-1;Ra[wc]<Ra[0]&&(Ra=Ra.slice().reverse(),nc=nc.slice().reverse());for(;++Xc<wc;)Pc[Xc]=Ia(Ra[Xc],Ra[Xc+1]),rc[Xc]=kc(nc[Xc],nc[Xc+1]);return function($c){var Nc=x.bisect(Ra,$c,1,wc)-1;return rc[Nc](Pc[Nc]($c))}}function Ga(Ra,nc){return nc.domain(Ra.domain()).range(Ra.range()).interpolate(Ra.interpolate()).clamp(Ra.clamp()).unknown(Ra.unknown())}function jb(){function Ra(){var sd=
Math.min(kc.length,wc.length);Nc!==Ha&&(Nc=Ya(kc[0],kc[sd-1]));Dd=2<sd?Ea:mb;we=ld=null;return nc}function nc(sd){return isNaN(sd=+sd)?$c:(we||(we=Dd(kc.map(rc),wc,Pc)))(rc(Nc(sd)))}var kc=Ec,wc=Ec,Pc=ca.interpolate,rc,Xc,$c,Nc=Ha,Dd,we,ld;nc.invert=function(sd){return Nc(Xc((ld||(ld=Dd(wc,kc.map(rc),ca.interpolateNumber)))(sd)))};nc.domain=function(sd){return arguments.length?(kc=Array.from(sd,Wa),Ra()):kc.slice()};nc.range=function(sd){return arguments.length?(wc=Array.from(sd),Ra()):wc.slice()};
nc.rangeRound=function(sd){return wc=Array.from(sd),Pc=ca.interpolateRound,Ra()};nc.clamp=function(sd){return arguments.length?(Nc=sd?!0:Ha,Ra()):Nc!==Ha};nc.interpolate=function(sd){return arguments.length?(Pc=sd,Ra()):Pc};nc.unknown=function(sd){return arguments.length?($c=sd,nc):$c};return function(sd,ge){rc=sd;Xc=ge;return Ra()}}function Ca(Ra,nc,kc,wc){kc=x.tickStep(Ra,nc,kc);var Pc;wc=Sa.formatSpecifier(null==wc?",f":wc);switch(wc.type){case "s":return Ra=Math.max(Math.abs(Ra),Math.abs(nc)),
null!=wc.precision||isNaN(Pc=Sa.precisionPrefix(kc,Ra))||(wc.precision=Pc),Sa.formatPrefix(wc,Ra);case "":case "e":case "g":case "p":case "r":null!=wc.precision||isNaN(Pc=Sa.precisionRound(kc,Math.max(Math.abs(Ra),Math.abs(nc))))||(wc.precision=Pc-("e"===wc.type));break;case "f":case "%":null!=wc.precision||isNaN(Pc=Sa.precisionFixed(kc))||(wc.precision=Pc-2*("%"===wc.type))}return Sa.format(wc)}function ab(Ra){var nc=Ra.domain;Ra.ticks=function(kc){var wc=nc();return x.ticks(wc[0],wc[wc.length-1],
null==kc?10:kc)};Ra.tickFormat=function(kc,wc){var Pc=nc();return Ca(Pc[0],Pc[Pc.length-1],null==kc?10:kc,wc)};Ra.nice=function(kc){null==kc&&(kc=10);var wc=nc(),Pc=0,rc=wc.length-1,Xc=wc[Pc],$c=wc[rc],Nc=10;if($c<Xc){var Dd=Xc;Xc=$c;$c=Dd;Dd=Pc;Pc=rc;rc=Dd}for(;0<Nc--;){Dd=x.tickIncrement(Xc,$c,kc);if(Dd===we)return wc[Pc]=Xc,wc[rc]=$c,nc(wc);if(0<Dd)Xc=Math.floor(Xc/Dd)*Dd,$c=Math.ceil($c/Dd)*Dd;else if(0>Dd)Xc=Math.ceil(Xc*Dd)/Dd,$c=Math.floor($c*Dd)/Dd;else break;var we=Dd}return Ra};return Ra}
function Ma(){var Ra=jb()(Ha,Ha);Ra.copy=function(){return Ga(Ra,Ma())};ub.apply(Ra,arguments);return ab(Ra)}function ja(Ra){function nc(wc){return isNaN(wc=+wc)?kc:wc}var kc;nc.invert=nc;nc.domain=nc.range=function(wc){return arguments.length?(Ra=Array.from(wc,Wa),nc):Ra.slice()};nc.unknown=function(wc){return arguments.length?(kc=wc,nc):kc};nc.copy=function(){return ja(Ra).unknown(kc)};Ra=arguments.length?Array.from(Ra,Wa):[0,1];return ab(nc)}function Aa(Ra,nc){Ra=Ra.slice();var kc=0,wc=Ra.length-
1,Pc=Ra[kc],rc=Ra[wc];if(rc<Pc){var Xc=kc;kc=wc;wc=Xc;Xc=Pc;Pc=rc;rc=Xc}Ra[kc]=nc.floor(Pc);Ra[wc]=nc.ceil(rc);return Ra}function Qa(Ra){return Math.log(Ra)}function Xa(Ra){return Math.exp(Ra)}function hb(Ra){return-Math.log(-Ra)}function cb(Ra){return-Math.exp(-Ra)}function ob(Ra){return isFinite(Ra)?+("1e"+Ra):0>Ra?0:Ra}function $a(Ra){return 10===Ra?ob:Ra===Math.E?Math.exp:function(nc){return Math.pow(Ra,nc)}}function Q(Ra){return Ra===Math.E?Math.log:10===Ra&&Math.log10||2===Ra&&Math.log2||(Ra=
Math.log(Ra),function(nc){return Math.log(nc)/Ra})}function H(Ra){return function(nc){return-Ra(-nc)}}function T(Ra){function nc(){rc=Q(Pc);Xc=$a(Pc);0>wc()[0]?(rc=H(rc),Xc=H(Xc),Ra(hb,cb)):Ra(Qa,Xa);return kc}var kc=Ra(Qa,Xa),wc=kc.domain,Pc=10,rc,Xc;kc.base=function($c){return arguments.length?(Pc=+$c,nc()):Pc};kc.domain=function($c){return arguments.length?(wc($c),nc()):wc()};kc.ticks=function($c){var Nc=wc(),Dd=Nc[0];Nc=Nc[Nc.length-1];var we;if(we=Nc<Dd)ld=Dd,Dd=Nc,Nc=ld;var ld=rc(Dd),sd=rc(Nc),
ge=null==$c?10:+$c,La=[];if(!(Pc%1)&&sd-ld<ge){ld=Math.floor(ld);sd=Math.ceil(sd);if(0<Dd)for(;ld<=sd;++ld){var vb=1;for($c=Xc(ld);vb<Pc;++vb){var $b=$c*vb;if(!($b<Dd)){if($b>Nc)break;La.push($b)}}}else for(;ld<=sd;++ld)for(vb=Pc-1,$c=Xc(ld);1<=vb;--vb)if($b=$c*vb,!($b<Dd)){if($b>Nc)break;La.push($b)}2*La.length<ge&&(La=x.ticks(Dd,Nc,ge))}else La=x.ticks(ld,sd,Math.min(sd-ld,ge)).map(Xc);return we?La.reverse():La};kc.tickFormat=function($c,Nc){null==Nc&&(Nc=10===Pc?".0e":",");"function"!==typeof Nc&&
(Nc=Sa.format(Nc));if(Infinity===$c)return Nc;null==$c&&($c=10);var Dd=Math.max(1,Pc*$c/kc.ticks().length);return function(we){var ld=we/Xc(Math.round(rc(we)));ld*Pc<Pc-.5&&(ld*=Pc);return ld<=Dd?Nc(we):""}};kc.nice=function(){return wc(Aa(wc(),{floor:function($c){return Xc(Math.floor(rc($c)))},ceil:function($c){return Xc(Math.ceil(rc($c)))}}))};return kc}function na(){var Ra=T(jb()).domain([1,10]);Ra.copy=function(){return Ga(Ra,na()).base(Ra.base())};ub.apply(Ra,arguments);return Ra}function O(Ra){return function(nc){return Math.sign(nc)*
Math.log1p(Math.abs(nc/Ra))}}function W(Ra){return function(nc){return Math.sign(nc)*Math.expm1(Math.abs(nc))*Ra}}function ea(Ra){var nc=1,kc=Ra(O(nc),W(nc));kc.constant=function(wc){return arguments.length?Ra(O(nc=+wc),W(nc)):nc};return ab(kc)}function pa(){var Ra=ea(jb());Ra.copy=function(){return Ga(Ra,pa()).constant(Ra.constant())};return ub.apply(Ra,arguments)}function Ua(Ra){return function(nc){return 0>nc?-Math.pow(-nc,Ra):Math.pow(nc,Ra)}}function db(Ra){return 0>Ra?-Math.sqrt(-Ra):Math.sqrt(Ra)}
function U(Ra){return 0>Ra?-Ra*Ra:Ra*Ra}function va(Ra){var nc=Ra(Ha,Ha),kc=1;nc.exponent=function(wc){return arguments.length?(kc=+wc,1===kc?Ra(Ha,Ha):.5===kc?Ra(db,U):Ra(Ua(kc),Ua(1/kc))):kc};return ab(nc)}function xa(){var Ra=va(jb());Ra.copy=function(){return Ga(Ra,xa()).exponent(Ra.exponent())};ub.apply(Ra,arguments);return Ra}function ma(Ra){return Math.sign(Ra)*Ra*Ra}function R(){function Ra(rc){rc=nc(rc);rc=Math.sign(rc)*Math.sqrt(Math.abs(rc));return isNaN(rc)?Pc:wc?Math.round(rc):rc}var nc=
jb()(Ha,Ha),kc=[0,1],wc=!1,Pc;Ra.invert=function(rc){return nc.invert(ma(rc))};Ra.domain=function(rc){return arguments.length?(nc.domain(rc),Ra):nc.domain()};Ra.range=function(rc){return arguments.length?(nc.range((kc=Array.from(rc,Wa)).map(ma)),Ra):kc.slice()};Ra.rangeRound=function(rc){return Ra.range(rc).round(!0)};Ra.round=function(rc){return arguments.length?(wc=!!rc,Ra):wc};Ra.clamp=function(rc){return arguments.length?(nc.clamp(rc),Ra):nc.clamp()};Ra.unknown=function(rc){return arguments.length?
(Pc=rc,Ra):Pc};Ra.copy=function(){return R(nc.domain(),kc).round(wc).clamp(nc.clamp()).unknown(Pc)};ub.apply(Ra,arguments);return ab(Ra)}function v(){function Ra(){var Xc=0,$c=Math.max(1,wc.length);for(Pc=Array($c-1);++Xc<$c;)Pc[Xc-1]=x.quantileSorted(kc,Xc/$c);return nc}function nc(Xc){return isNaN(Xc=+Xc)?rc:wc[x.bisect(Pc,Xc)]}var kc=[],wc=[],Pc=[],rc;nc.invertExtent=function(Xc){Xc=wc.indexOf(Xc);return 0>Xc?[NaN,NaN]:[0<Xc?Pc[Xc-1]:kc[0],Xc<Pc.length?Pc[Xc]:kc[kc.length-1]]};nc.domain=function(Xc){if(!arguments.length)return kc.slice();
kc=[];for(let $c of Xc)null==$c||isNaN($c=+$c)||kc.push($c);kc.sort(x.ascending);return Ra()};nc.range=function(Xc){return arguments.length?(wc=Array.from(Xc),Ra()):wc.slice()};nc.unknown=function(Xc){return arguments.length?(rc=Xc,nc):rc};nc.quantiles=function(){return Pc.slice()};nc.copy=function(){return v().domain(kc).range(wc).unknown(rc)};return ub.apply(nc,arguments)}function w(){function Ra(Nc){return Nc<=Nc?Xc[x.bisect(rc,Nc,0,Pc)]:$c}function nc(){var Nc=-1;for(rc=Array(Pc);++Nc<Pc;)rc[Nc]=
((Nc+1)*wc-(Nc-Pc)*kc)/(Pc+1);return Ra}var kc=0,wc=1,Pc=1,rc=[.5],Xc=[0,1],$c;Ra.domain=function(Nc){return arguments.length?([kc,wc]=Nc,kc=+kc,wc=+wc,nc()):[kc,wc]};Ra.range=function(Nc){return arguments.length?(Pc=(Xc=Array.from(Nc)).length-1,nc()):Xc.slice()};Ra.invertExtent=function(Nc){Nc=Xc.indexOf(Nc);return 0>Nc?[NaN,NaN]:1>Nc?[kc,rc[0]]:Nc>=Pc?[rc[Pc-1],wc]:[rc[Nc-1],rc[Nc]]};Ra.unknown=function(Nc){return arguments.length?($c=Nc,Ra):Ra};Ra.thresholds=function(){return rc.slice()};Ra.copy=
function(){return w().domain([kc,wc]).range(Xc).unknown($c)};return ub.apply(ab(Ra),arguments)}function p(){function Ra(rc){return rc<=rc?kc[x.bisect(nc,rc,0,Pc)]:wc}var nc=[.5],kc=[0,1],wc,Pc=1;Ra.domain=function(rc){return arguments.length?(nc=Array.from(rc),Pc=Math.min(nc.length,kc.length-1),Ra):nc.slice()};Ra.range=function(rc){return arguments.length?(kc=Array.from(rc),Pc=Math.min(nc.length,kc.length-1),Ra):kc.slice()};Ra.invertExtent=function(rc){rc=kc.indexOf(rc);return[nc[rc-1],nc[rc]]};Ra.unknown=
function(rc){return arguments.length?(wc=rc,Ra):wc};Ra.copy=function(){return p().domain(nc).range(kc).unknown(wc)};return ub.apply(Ra,arguments)}function r(Ra){return new Date(Ra)}function C(Ra){return Ra instanceof Date?+Ra:+new Date(+Ra)}function D(Ra,nc,kc,wc,Pc,rc,Xc,$c,Nc){function Dd(gb){return(Xc(gb)<gb?La:rc(gb)<gb?vb:Pc(gb)<gb?$b:wc(gb)<gb?rd:nc(gb)<gb?kc(gb)<gb?vd:de:Ra(gb)<gb?oe:X)(gb)}function we(gb,Db,Zb){null==gb&&(gb=10);if("number"===typeof gb){var Gb=Math.abs(Zb-Db)/gb,sc=x.bisector(function(jc){return jc[2]}).right(za,
Gb);sc===za.length?(Db=x.tickStep(Db/Sc,Zb/Sc,gb),gb=Ra):sc?(sc=za[Gb/za[sc-1][2]<za[sc][2]/Gb?sc-1:sc],Db=sc[1],gb=sc[0]):(Db=Math.max(x.tickStep(Db,Zb,gb),1),gb=$c);return gb.every(Db)}return gb}var ld=jb()(Ha,Ha),sd=ld.invert,ge=ld.domain,La=Nc(".%L"),vb=Nc(":%S"),$b=Nc("%I:%M"),rd=Nc("%I %p"),vd=Nc("%a %d"),de=Nc("%b %d"),oe=Nc("%B"),X=Nc("%Y"),za=[[Xc,1,1E3],[Xc,5,5E3],[Xc,15,15E3],[Xc,30,3E4],[rc,1,6E4],[rc,5,3E5],[rc,15,9E5],[rc,30,18E5],[Pc,1,36E5],[Pc,3,108E5],[Pc,6,216E5],[Pc,12,432E5],
[wc,1,864E5],[wc,2,1728E5],[kc,1,gd],[nc,1,Dc],[nc,3,3*Dc],[Ra,1,Sc]];ld.invert=function(gb){return new Date(sd(gb))};ld.domain=function(gb){return arguments.length?ge(Array.from(gb,C)):ge().map(r)};ld.ticks=function(gb){var Db=ge(),Zb=Db[0];Db=Db[Db.length-1];var Gb=Db<Zb;if(Gb){var sc=Zb;Zb=Db;Db=sc}sc=(sc=we(gb,Zb,Db))?sc.range(Zb,Db+1):[];return Gb?sc.reverse():sc};ld.tickFormat=function(gb,Db){return null==Db?Dd:Nc(Db)};ld.nice=function(gb){var Db=ge();return(gb=we(gb,Db[0],Db[Db.length-1]))?
ge(Aa(Db,gb)):ld};ld.copy=function(){return Ga(ld,D(Ra,nc,kc,wc,Pc,rc,Xc,$c,Nc))};return ld}function G(){function Ra(ld){return isNaN(ld=+ld)?we:Nc(0===Xc?.5:(ld=($c(ld)-Pc)*Xc,Dd?Math.max(0,Math.min(1,ld)):ld))}function nc(ld){return function(sd){var ge,La;return arguments.length?([ge,La]=sd,Nc=ld(ge,La),Ra):[Nc(0),Nc(1)]}}var kc=0,wc=1,Pc,rc,Xc,$c,Nc=Ha,Dd=!1,we;Ra.domain=function(ld){return arguments.length?([kc,wc]=ld,Pc=$c(kc=+kc),rc=$c(wc=+wc),Xc=Pc===rc?0:1/(rc-Pc),Ra):[kc,wc]};Ra.clamp=function(ld){return arguments.length?
(Dd=!!ld,Ra):Dd};Ra.interpolator=function(ld){return arguments.length?(Nc=ld,Ra):Nc};Ra.range=nc(ca.interpolate);Ra.rangeRound=nc(ca.interpolateRound);Ra.unknown=function(ld){return arguments.length?(we=ld,Ra):we};return function(ld){$c=ld;Pc=ld(kc);rc=ld(wc);Xc=Pc===rc?0:1/(rc-Pc);return Ra}}function B(Ra,nc){return nc.domain(Ra.domain()).interpolator(Ra.interpolator()).clamp(Ra.clamp()).unknown(Ra.unknown())}function fa(){var Ra=ab(G()(Ha));Ra.copy=function(){return B(Ra,fa())};return Qb.apply(Ra,
arguments)}function wa(){var Ra=T(G()).domain([1,10]);Ra.copy=function(){return B(Ra,wa()).base(Ra.base())};return Qb.apply(Ra,arguments)}function la(){var Ra=ea(G());Ra.copy=function(){return B(Ra,la()).constant(Ra.constant())};return Qb.apply(Ra,arguments)}function Ta(){var Ra=va(G());Ra.copy=function(){return B(Ra,Ta()).exponent(Ra.exponent())};return Qb.apply(Ra,arguments)}function Ja(){function Ra(wc){if(!isNaN(wc=+wc))return kc((x.bisect(nc,wc,1)-1)/(nc.length-1))}var nc=[],kc=Ha;Ra.domain=
function(wc){if(!arguments.length)return nc.slice();nc=[];for(let Pc of wc)null==Pc||isNaN(Pc=+Pc)||nc.push(Pc);nc.sort(x.ascending);return Ra};Ra.interpolator=function(wc){return arguments.length?(kc=wc,Ra):kc};Ra.range=function(){return nc.map((wc,Pc)=>kc(Pc/(nc.length-1)))};Ra.quantiles=function(wc){return Array.from({length:wc+1},(Pc,rc)=>x.quantile(nc,rc/wc))};Ra.copy=function(){return Ja(kc).domain(nc)};return Qb.apply(Ra,arguments)}function Z(){function Ra(vb){return isNaN(vb=+vb)?La:(vb=.5+
((vb=+sd(vb))-$c)*(rc*vb<rc*$c?Dd:we),ld(ge?Math.max(0,Math.min(1,vb)):vb))}function nc(vb){return function($b){var rd,vd,de;return arguments.length?([rd,vd,de]=$b,ld=ca.piecewise(vb,[rd,vd,de]),Ra):[ld(0),ld(.5),ld(1)]}}var kc=0,wc=.5,Pc=1,rc=1,Xc,$c,Nc,Dd,we,ld=Ha,sd,ge=!1,La;Ra.domain=function(vb){return arguments.length?([kc,wc,Pc]=vb,Xc=sd(kc=+kc),$c=sd(wc=+wc),Nc=sd(Pc=+Pc),Dd=Xc===$c?0:.5/($c-Xc),we=$c===Nc?0:.5/(Nc-$c),rc=$c<Xc?-1:1,Ra):[kc,wc,Pc]};Ra.clamp=function(vb){return arguments.length?
(ge=!!vb,Ra):ge};Ra.interpolator=function(vb){return arguments.length?(ld=vb,Ra):ld};Ra.range=nc(ca.interpolate);Ra.rangeRound=nc(ca.interpolateRound);Ra.unknown=function(vb){return arguments.length?(La=vb,Ra):La};return function(vb){sd=vb;Xc=vb(kc);$c=vb(wc);Nc=vb(Pc);Dd=Xc===$c?0:.5/($c-Xc);we=$c===Nc?0:.5/(Nc-$c);rc=$c<Xc?-1:1;return Ra}}function sa(){var Ra=ab(Z()(Ha));Ra.copy=function(){return B(Ra,sa())};return Qb.apply(Ra,arguments)}function eb(){var Ra=T(Z()).domain([.1,1,10]);Ra.copy=function(){return B(Ra,
eb()).base(Ra.base())};return Qb.apply(Ra,arguments)}function xb(){var Ra=ea(Z());Ra.copy=function(){return B(Ra,xb()).constant(Ra.constant())};return Qb.apply(Ra,arguments)}function Kb(){var Ra=va(Z());Ra.copy=function(){return B(Ra,Kb()).exponent(Ra.exponent())};return Qb.apply(Ra,arguments)}const ec=Symbol("implicit");var Ec=[0,1],gd=6048E5,Dc=2592E6,Sc=31536E6;n.scaleBand=bb;n.scaleDiverging=sa;n.scaleDivergingLog=eb;n.scaleDivergingPow=Kb;n.scaleDivergingSqrt=function(){return Kb.apply(null,
arguments).exponent(.5)};n.scaleDivergingSymlog=xb;n.scaleIdentity=ja;n.scaleImplicit=ec;n.scaleLinear=Ma;n.scaleLog=na;n.scaleOrdinal=Bb;n.scalePoint=function(){return qb(bb.apply(null,arguments).paddingInner(1))};n.scalePow=xa;n.scaleQuantile=v;n.scaleQuantize=w;n.scaleRadial=R;n.scaleSequential=fa;n.scaleSequentialLog=wa;n.scaleSequentialPow=Ta;n.scaleSequentialQuantile=Ja;n.scaleSequentialSqrt=function(){return Ta.apply(null,arguments).exponent(.5)};n.scaleSequentialSymlog=la;n.scaleSqrt=function(){return xa.apply(null,
arguments).exponent(.5)};n.scaleSymlog=pa;n.scaleThreshold=p;n.scaleTime=function(){return ub.apply(D(Wb.timeYear,Wb.timeMonth,Wb.timeWeek,Wb.timeDay,Wb.timeHour,Wb.timeMinute,Wb.timeSecond,Wb.timeMillisecond,fb.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};n.scaleUtc=function(){return ub.apply(D(Wb.utcYear,Wb.utcMonth,Wb.utcWeek,Wb.utcDay,Wb.utcHour,Wb.utcMinute,Wb.utcSecond,Wb.utcMillisecond,fb.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};n.tickFormat=
Ca;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[37]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(17),Rb(36),Rb(35),Rb(20)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.d3,n.d3,n.d3,n.vega))})(this,function(n,x,ca,Sa,Wb,fb){function ub(v,w,p){w=v-w+2*p;return v?0<w?w:1:0}function Qb(v){return function(w){let p=w[0];w=w[1];let r;
w<p&&(r=p,p=w,w=r);return[v.invert(p),v.invert(w)]}}function Bb(v){return function(w){const p=v.range();let r=w[0];w=w[1];let C=-1,D;let G;if(w<r){var B=r;r=w;w=B}B=0;for(G=p.length;B<G;++B)p[B]>=r&&p[B]<=w&&(0>C&&(C=B),D=B);if(!(0>C))return r=v.invertExtent(p[C]),w=v.invertExtent(p[D]),[void 0===r[0]?r[1]:r[0],void 0===w[1]?w[0]:w[1]]}}function bb(){function v(){var Ta=p().length;const Ja=C[1]<C[0],Z=C[1-Ja],sa=ub(Ta,fa,wa);let eb=C[Ja-0];D=(Z-eb)/(sa||1);B&&(D=Math.floor(D));eb+=(Z-eb-D*(Ta-fa))*
la;G=D*(1-fa);B&&(eb=Math.round(eb),G=Math.round(G));Ta=ca.range(Ta).map(xb=>eb+D*xb);return r(Ja?Ta.reverse():Ta)}const w=Sa.scaleOrdinal().unknown(void 0),p=w.domain,r=w.range;let C=[0,1],D,G,B=!1,fa=0,wa=0,la=.5;delete w.unknown;w.domain=function(Ta){return arguments.length?(p(Ta),v()):p()};w.range=function(Ta){return arguments.length?(C=[+Ta[0],+Ta[1]],v()):C.slice()};w.rangeRound=function(Ta){C=[+Ta[0],+Ta[1]];B=!0;return v()};w.bandwidth=function(){return G};w.step=function(){return D};w.round=
function(Ta){return arguments.length?(B=!!Ta,v()):B};w.padding=function(Ta){return arguments.length?(fa=wa=Math.max(0,Math.min(1,Ta)),v()):fa};w.paddingInner=function(Ta){return arguments.length?(fa=Math.max(0,Math.min(1,Ta)),v()):fa};w.paddingOuter=function(Ta){return arguments.length?(wa=Math.max(0,Math.min(1,Ta)),v()):wa};w.align=function(Ta){return arguments.length?(la=Math.max(0,Math.min(1,Ta)),v()):la};w.invertRange=function(Ta){if(null!=Ta[0]&&null!=Ta[1]){var Ja=C[1]<C[0],Z=Ja?r().reverse():
r(),sa=Z.length-1,eb=+Ta[0],xb=+Ta[1];if(eb===eb&&xb===xb){if(xb<eb){var Kb=eb;eb=xb;xb=Kb}if(!(xb<Z[0]||eb>C[1-Ja]))return Ta=Math.max(0,ca.bisectRight(Z,eb)-1),xb=eb===xb?Ta:ca.bisectRight(Z,xb)-1,eb-Z[Ta]>G+1E-10&&++Ta,Ja&&(Kb=Ta,Ta=sa-xb,xb=sa-Kb),Ta>xb?void 0:p().slice(Ta,xb+1)}}};w.invert=function(Ta){return(Ta=w.invertRange([Ta,Ta]))?Ta[0]:Ta};w.copy=function(){return bb().domain(p()).range(C).round(B).paddingInner(fa).paddingOuter(wa).align(la)};return v()}function qb(v){const w=v.copy;v.padding=
v.paddingOuter;delete v.paddingInner;v.copy=function(){return qb(w())};return v}function sb(){function v(r){return null==r||r!==r?void 0:p[(ca.bisect(w,r)-1)%p.length]}let w=[],p=[];v.domain=function(r){return arguments.length?(w=T.call(r,x.toNumber),v):w.slice()};v.range=function(r){return arguments.length?(p=na.call(r),v):p.slice()};v.tickFormat=function(r,C){return Sa.tickFormat(w[0],x.peek(w),null==r?10:r,C)};v.copy=function(){return sb().domain(v.domain()).range(v.range())};return v}function Wa(v,
w,p){const r=function(){const C=w();C.invertRange||(C.invertRange=C.invert?Qb(C):C.invertExtent?Bb(C):void 0);C.type=v;return C};r.metadata=x.toSet(x.array(p));return r}function Ha(v,w,p){return 1<arguments.length?(O[v]=Wa(v,w,p),this):Ia(v)?O[v]:void 0}function Ia(v){return x.hasOwnProperty(O,v)}function Ya(v,w){return(v=O[v])&&v.metadata[w]}function mb(v){return Ya(v,"discrete")}function Ea(v){return Ya(v,"discretizing")}function Ga(v){return Ya(v,"log")}function jb(v){return Ya(v,"temporal")}function Ca(v,
w,p){return Wb.piecewise(ab(w||"rgb",p),v)}function ab(v,w){v=H[Ma(v)];return null!=w&&v&&v.gamma?v.gamma(w):v}function Ma(v){return"interpolate"+v.toLowerCase().split("-").map(w=>w[0].toUpperCase()+w.slice(1)).join("")}function ja(v){const w=v.length/6|0,p=Array(w);for(let r=0;r<w;)p[r]="#"+v.slice(6*r,6*++r);return p}function Aa(v,w){for(const p in v)Qa(p,w(v[p]))}function Qa(v,w){v=v&&v.toLowerCase();return 1<arguments.length?(ea[v]=w,this):ea[v]}function Xa(v,w,p){var r=v.range();let C=r[0],D=
x.peek(r);r=Ua;C>D&&(r=D,D=C,C=r,r=db);C=Math.floor(C);D=Math.ceil(D);w=w.map(G=>[G,v(G)]).filter(G=>C<=G[1]&&G[1]<=D).sort(r).map(G=>G[0]);if(0<p&&1<w.length){for(r=[w[0],x.peek(w)];w.length>p&&3<=w.length;)w=w.filter((G,B)=>!(B%2));3>w.length&&(w=r)}return w}function hb(v,w){return v.bins?Xa(v,v.bins):v.ticks?v.ticks(w):v.domain()}function cb(v,w,p,r,C,D){const G=w.type;let B=pa;if("time"===G||"time"===C)B=v.timeFormat(r);else if("utc"===G||"utc"===C)B=v.utcFormat(r);else if(Ga(G)){const fa=v.formatFloat(r);
if(D||w.bins)B=fa;else{const wa=ob(w,p,!1);B=la=>wa(la)?fa(la):""}}else w.tickFormat?(w=w.domain(),B=v.formatSpan(w[0],w[w.length-1],p,r)):r&&(B=v.format(r));return B}function ob(v,w,p){const r=hb(v,w),C=v.base(),D=Math.log(C),G=Math.max(1,C*w/r.length);v=B=>{B/=Math.pow(C,Math.round(Math.log(B)/D));B*C<C-.5&&(B*=C);return B<=G};return p?r.filter(v):v}function $a(v,w){v.bins?(v=v.bins,w=v.slice(0,-1),w.max=x.peek(v),v=w):"log"===v.type?v=ob(v,w,!0):U[v.type]?(v=v[U[v.type]](),v=[-Infinity].concat(v),
v.max=Infinity):v=hb(v,w);return v}function Q(v,w,p,r,C,D,G){if(va[w.type]&&"time"!==D&&"utc"!==D){{p=w[va[w.type]]();D=p.length;G=1<D?p[1]-p[0]:p[0];let B;for(B=1;B<D;++B)G=Math.min(G,p[B]-p[B-1]);v=v.formatSpan(0,G,30,C)}}else v=cb(v,w,p,C,D,G);return"symbol"===r&&(U[w.type]||w.bins)?xa(v):"discrete"===r?ma(v):R(v)}var H=function(v){if(v&&v.__esModule)return v;var w=Object.create(null);v&&Object.keys(v).forEach(function(p){if("default"!==p){var r=Object.getOwnPropertyDescriptor(v,p);Object.defineProperty(w,
p,r.get?r:{enumerable:!0,get:function(){return v[p]}})}});w["default"]=v;return Object.freeze(w)}(Wb),T=Array.prototype.map;const na=Array.prototype.slice,O={};Ha("identity",Sa.scaleIdentity);Ha("linear",Sa.scaleLinear,"continuous");Ha("log",Sa.scaleLog,["continuous","log"]);Ha("pow",Sa.scalePow,"continuous");Ha("sqrt",Sa.scaleSqrt,"continuous");Ha("symlog",Sa.scaleSymlog,"continuous");Ha("time",Sa.scaleTime,["continuous","temporal"]);Ha("utc",Sa.scaleUtc,["continuous","temporal"]);Ha("sequential",
Sa.scaleSequential,["continuous","interpolating"]);Ha("sequential-linear",Sa.scaleSequential,["continuous","interpolating"]);Ha("sequential-log",Sa.scaleSequentialLog,["continuous","interpolating","log"]);Ha("sequential-pow",Sa.scaleSequentialPow,["continuous","interpolating"]);Ha("sequential-sqrt",Sa.scaleSequentialSqrt,["continuous","interpolating"]);Ha("sequential-symlog",Sa.scaleSequentialSymlog,["continuous","interpolating"]);Ha("diverging-linear",Sa.scaleDiverging,["continuous","interpolating"]);
Ha("diverging-log",Sa.scaleDivergingLog,["continuous","interpolating","log"]);Ha("diverging-pow",Sa.scaleDivergingPow,["continuous","interpolating"]);Ha("diverging-sqrt",Sa.scaleDivergingSqrt,["continuous","interpolating"]);Ha("diverging-symlog",Sa.scaleDivergingSymlog,["continuous","interpolating"]);Ha("quantile",Sa.scaleQuantile,["discretizing","quantile"]);Ha("quantize",Sa.scaleQuantize,"discretizing");Ha("threshold",Sa.scaleThreshold,"discretizing");Ha("bin-ordinal",sb,["discrete","discretizing"]);
Ha("ordinal",Sa.scaleOrdinal,"discrete");Ha("band",bb,"discrete");Ha("point",function(){return qb(bb().paddingInner(1))},"discrete");const W=["clamp","base","constant","exponent"],ea={};Aa({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ja);Aa({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},v=>Ca(ja(v)));const pa=v=>x.isArray(v)?v.map(w=>String(w)):String(v),Ua=(v,w)=>v[1]-w[1],db=(v,w)=>w[1]-v[1],U={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},va={["quantile"]:"quantiles",["quantize"]:"domain"},xa=v=>(w,p,r)=>{p=r[p+1];r=r.max;r=null!=r?r:Infinity;p=null!=p?p:r;
w=Number.isFinite(w)?v(w):null;p=Number.isFinite(p)?v(p):null;return w&&p?w+" – "+p:p?"\x3c "+p:"≥ "+w},ma=v=>(w,p)=>p?v(w):null,R=v=>w=>v(w);Object.defineProperty(n,"scaleImplicit",{enumerable:!0,get:function(){return Sa.scaleImplicit}});n.Band="band";n.BinOrdinal="bin-ordinal";n.DiscreteLegend="discrete";n.Diverging="diverging";n.GradientLegend="gradient";n.Identity="identity";n.Linear="linear";n.Log="log";n.Ordinal="ordinal";n.Point="point";n.Pow="pow";n.Quantile="quantile";n.Quantize="quantize";
n.Sequential="sequential";n.Sqrt="sqrt";n.SymbolLegend="symbol";n.Symlog="symlog";n.Threshold="threshold";n.Time="time";n.UTC="utc";n.bandSpace=ub;n.domainCaption=function(v,w,p){p=p||{};var r=Math.max(3,p.maxlen||7);{var C=p.format;const D=(p=p.formatType)||w.type;x.isString(C)&&jb(D)&&(C=C.replace(/%a/g,"%A").replace(/%b/g,"%B"));v=C||"time"!==D?C||"utc"!==D?Q(v,w,5,null,C,p,!0):v.utcFormat("%A, %d %B %Y, %X UTC"):v.timeFormat("%A, %d %B %Y, %X")}if(Ea(w.type))return r=$a(w).slice(1).map(v),w=r.length,
`${w} boundar${1===w?"y":"ies"}: ${r.join(", ")}`;if(mb(w.type))return C=w.domain(),w=C.length,r=w>r?C.slice(0,r-2).map(v).join(", ")+", ending with "+C.slice(-1).map(v):C.map(v).join(", "),`${w} value${1===w?"":"s"}: ${r}`;r=w.domain();return`values from ${v(r[0])} to ${v(x.peek(r))}`};n.interpolate=ab;n.interpolateColors=Ca;n.interpolateRange=function(v,w){const p=w[0],r=x.peek(w)-p;return function(C){return v(p+C*r)}};n.isContinuous=function(v){return Ya(v,"continuous")};n.isDiscrete=mb;n.isDiscretizing=
Ea;n.isInterpolating=function(v){return Ya(v,"interpolating")};n.isLogarithmic=Ga;n.isQuantile=function(v){return Ya(v,"quantile")};n.isTemporal=jb;n.isValidScaleType=Ia;n.labelFormat=Q;n.labelFraction=function(v){var w=v.domain();const p=w.length-1;let r=+w[0];w=+x.peek(w);let C=w-r;"threshold"===v.type&&(v=p?C/p:.1,r-=v,w+=v,C=w-r);return D=>(D-r)/C};n.labelValues=$a;n.quantizeInterpolator=function(v,w){const p=Array(w),r=w+1;for(let C=0;C<w;)p[C]=v(++C/r);return p};n.scale=Ha;n.scaleCopy=function(v){const w=
v.type;v=v.copy();v.type=w;return v};n.scaleFraction=function(v,w,p){var r=p-w;let C,D;return r&&Number.isFinite(r)?(r=(C=v.type).indexOf("-"),C=0>r?C:C.slice(r+1),D=Ha(C)().domain([w,p]).range([0,1]),W.forEach(G=>v[G]?D[G](v[G]()):0),D):x.constant(.5)};n.scheme=Qa;n.tickCount=function(v,w,p){let r;x.isNumber(w)&&(v.bins&&(w=Math.max(w,v.bins.length)),null!=p&&(w=Math.min(w,Math.floor(x.span(v.domain())/p||1))));x.isObject(w)&&(r=w.step,w=w.interval);x.isString(w)&&(w="time"===v.type?fb.timeInterval(w):
"utc"==v.type?fb.utcInterval(w):x.error("Only time and utc scales accept interval strings."),r&&(w=w.every(r)));return w};n.tickFormat=cb;n.tickValues=hb;n.validTicks=Xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[38]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(32),Rb(31),Rb(33),Rb(27),Rb(37)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.d3,n.d3,n.vega,n.vega,n.vega))})(this,function(n,x,ca,Sa,Wb,fb,ub){function Qb(u,E,aa){const ka=u.gradient;let lb=u.id,Ib="radial"===ka?"p_":"";
lb||(lb=u.id="gradient_"+ae++,"radial"===ka?(u.x1=Bb(u.x1,.5),u.y1=Bb(u.y1,.5),u.r1=Bb(u.r1,0),u.x2=Bb(u.x2,.5),u.y2=Bb(u.y2,.5),u.r2=Bb(u.r2,.5),Ib="p_"):(u.x1=Bb(u.x1,0),u.y1=Bb(u.y1,0),u.x2=Bb(u.x2,1),u.y2=Bb(u.y2,0)));E[lb]=u;return"url("+(aa||"")+"#"+Ib+lb+")"}function Bb(u,E){return null!=u?u:E}function bb(u,E,aa){u=x.hasOwnProperty(Jf,u)&&Jf[u];var ka=null;u&&(ka=u.curve||u[E||"vertical"],u.tension&&null!=aa&&(ka=ka[u.tension](aa)));return ka}function qb(u){const E=[];let aa,ka,lb,Ib;var Sb;
const fc=u.slice().replace(Jd[0],"###$1").split(Jd[1]).slice(1);u=0;for(Ib=fc.length;u<Ib;++u){var zc=fc[u];var Tc=zc.slice(1).trim().replace(Jd[2],"$1###$2").replace(Jd[3],"$1###$2").split(Jd[4]);ka=zc.charAt(0);zc=[ka];lb=0;for(Sb=Tc.length;lb<Sb;++lb)(aa=+Tc[lb])===aa&&zc.push(aa);Tc=De[ka.toLowerCase()];if(zc.length-1>Tc)for(Sb=zc.length,lb=1,E.push([ka].concat(zc.slice(lb,lb+=Tc))),ka="M"===ka?"L":"m"===ka?"l":ka;lb<Sb;lb+=Tc)E.push([ka].concat(zc.slice(lb,lb+Tc)));else E.push(zc)}return E}function sb(u,
E,aa,ka,lb,Ib,Sb,fc,zc){const Tc=Je.call(arguments);if(Xd[Tc])return Xd[Tc];var Rc=Sb*Se;const yd=Math.sin(Rc);Rc=Math.cos(Rc);aa=Math.abs(aa);ka=Math.abs(ka);var Md=Rc*(fc-u)*.5+yd*(zc-E)*.5,bd=Rc*(zc-E)*.5-yd*(fc-u)*.5;Md=Md*Md/(aa*aa)+bd*bd/(ka*ka);1<Md&&(Md=Math.sqrt(Md),aa*=Md,ka*=Md);var Sd=Rc/aa,je=yd/aa,We=-yd/ka,oa=Rc/ka;Md=Sd*fc+je*zc;bd=We*fc+oa*zc;Sd=Sd*u+je*E;je=We*u+oa*E;We=1/((Sd-Md)*(Sd-Md)+(je-bd)*(je-bd))-.25;0>We&&(We=0);oa=Math.sqrt(We);Ib==lb&&(oa=-oa);We=.5*(Md+Sd)-oa*(je-bd);
oa=.5*(bd+je)+oa*(Sd-Md);Md=Math.atan2(bd-oa,Md-We);bd=Math.atan2(je-oa,Sd-We)-Md;0>bd&&1===Ib?bd+=Ac:0<bd&&0===Ib&&(bd-=Ac);Sd=Math.ceil(Math.abs(bd/(Ee+.001)));je=[];for(let Pa=0;Pa<Sd;++Pa)je[Pa]=[We,oa,Md+Pa*bd/Sd,Md+(Pa+1)*bd/Sd,aa,ka,yd,Rc];return Xd[Tc]=je}function Wa(u,E,aa,ka,lb,Ib){var Sb=null,fc=0,zc=0,Tc=0,Rc=0;null==aa&&(aa=0);null==ka&&(ka=0);null==lb&&(lb=1);null==Ib&&(Ib=lb);u.beginPath&&u.beginPath();for(var yd=0,Md=E.length;yd<Md;++yd){var bd=E[yd];if(1!==lb||1!==Ib){var Sd=lb;var je=
Ib;var We=pe[0]=bd[0];if("a"===We||"A"===We)pe[1]=Sd*bd[1],pe[2]=je*bd[2],pe[3]=bd[3],pe[4]=bd[4],pe[5]=bd[5],pe[6]=Sd*bd[6],pe[7]=je*bd[7];else if("h"===We||"H"===We)pe[1]=Sd*bd[1];else if("v"===We||"V"===We)pe[1]=je*bd[1];else{We=1;for(var oa=bd.length;We<oa;++We)pe[We]=(1==We%2?Sd:je)*bd[We]}bd=pe}switch(bd[0]){case "l":fc+=bd[1];zc+=bd[2];u.lineTo(fc+aa,zc+ka);break;case "L":fc=bd[1];zc=bd[2];u.lineTo(fc+aa,zc+ka);break;case "h":fc+=bd[1];u.lineTo(fc+aa,zc+ka);break;case "H":fc=bd[1];u.lineTo(fc+
aa,zc+ka);break;case "v":zc+=bd[1];u.lineTo(fc+aa,zc+ka);break;case "V":zc=bd[1];u.lineTo(fc+aa,zc+ka);break;case "m":fc+=bd[1];zc+=bd[2];u.moveTo(fc+aa,zc+ka);break;case "M":fc=bd[1];zc=bd[2];u.moveTo(fc+aa,zc+ka);break;case "c":Sd=fc+bd[5];je=zc+bd[6];Tc=fc+bd[3];Rc=zc+bd[4];u.bezierCurveTo(fc+bd[1]+aa,zc+bd[2]+ka,Tc+aa,Rc+ka,Sd+aa,je+ka);fc=Sd;zc=je;break;case "C":fc=bd[5];zc=bd[6];Tc=bd[3];Rc=bd[4];u.bezierCurveTo(bd[1]+aa,bd[2]+ka,Tc+aa,Rc+ka,fc+aa,zc+ka);break;case "s":Sd=fc+bd[3];je=zc+bd[4];
Tc=2*fc-Tc;Rc=2*zc-Rc;u.bezierCurveTo(Tc+aa,Rc+ka,fc+bd[1]+aa,zc+bd[2]+ka,Sd+aa,je+ka);Tc=fc+bd[1];Rc=zc+bd[2];fc=Sd;zc=je;break;case "S":Sd=bd[3];je=bd[4];Tc=2*fc-Tc;Rc=2*zc-Rc;u.bezierCurveTo(Tc+aa,Rc+ka,bd[1]+aa,bd[2]+ka,Sd+aa,je+ka);fc=Sd;zc=je;Tc=bd[1];Rc=bd[2];break;case "q":Sd=fc+bd[3];je=zc+bd[4];Tc=fc+bd[1];Rc=zc+bd[2];u.quadraticCurveTo(Tc+aa,Rc+ka,Sd+aa,je+ka);fc=Sd;zc=je;break;case "Q":Sd=bd[3];je=bd[4];u.quadraticCurveTo(bd[1]+aa,bd[2]+ka,Sd+aa,je+ka);fc=Sd;zc=je;Tc=bd[1];Rc=bd[2];break;
case "t":Sd=fc+bd[1];je=zc+bd[2];null===Sb[0].match(/[QqTt]/)?(Tc=fc,Rc=zc):"t"===Sb[0]?(Tc=2*fc-Pa,Rc=2*zc-pb):"q"===Sb[0]&&(Tc=2*fc-Tc,Rc=2*zc-Rc);var Pa=Tc;var pb=Rc;u.quadraticCurveTo(Tc+aa,Rc+ka,Sd+aa,je+ka);fc=Sd;zc=je;Tc=fc+bd[1];Rc=zc+bd[2];break;case "T":Sd=bd[1];je=bd[2];Tc=2*fc-Tc;Rc=2*zc-Rc;u.quadraticCurveTo(Tc+aa,Rc+ka,Sd+aa,je+ka);fc=Sd;zc=je;break;case "a":Ha(u,fc+aa,zc+ka,[bd[1],bd[2],bd[3],bd[4],bd[5],bd[6]+fc+aa,bd[7]+zc+ka]);fc+=bd[6];zc+=bd[7];break;case "A":Ha(u,fc+aa,zc+ka,
[bd[1],bd[2],bd[3],bd[4],bd[5],bd[6]+aa,bd[7]+ka]);fc=bd[6];zc=bd[7];break;case "z":case "Z":u.closePath()}Sb=bd}}function Ha(u,E,aa,ka){E=sb(ka[5],ka[6],ka[0],ka[1],ka[3],ka[4],ka[2],E,aa);for(aa=0;aa<E.length;++aa){a:{var lb=E[aa];ka=Je.call(lb);if(bc[ka]){ka=bc[ka];break a}var Ib=lb[0],Sb=lb[1],fc=lb[2],zc=lb[3],Tc=lb[4],Rc=lb[5],yd=lb[6],Md=lb[7];lb=Md*Tc;const Sd=-yd*Rc;Tc*=yd;Rc*=Md;var bd=Math.cos(fc);const je=Math.sin(fc);yd=Math.cos(zc);Md=Math.sin(zc);fc=.5*(zc-fc);zc=Math.sin(.5*fc);zc=
8/3*zc*zc/Math.sin(fc);fc=Ib+bd-zc*je;bd=Sb+je+zc*bd;Ib+=yd;Sb+=Md;Md=Ib+zc*Md;yd=Sb-zc*yd;ka=bc[ka]=[lb*fc+Sd*bd,Tc*fc+Rc*bd,lb*Md+Sd*yd,Tc*Md+Rc*yd,lb*Ib+Sd*Sb,Tc*Ib+Rc*Sb]}u.bezierCurveTo(ka[0],ka[1],ka[2],ka[3],ka[4],ka[5])}}function Ia(u){return x.hasOwnProperty(Ke,u)?Ke[u]:Ya(u)}function Ya(u){if(!x.hasOwnProperty(Cf,u)){const E=qb(u);Cf[u]={draw:function(aa,ka){Wa(aa,E,0,0,Math.sqrt(ka)/2)}}}return Cf[u]}function mb(u){return u.x}function Ea(u){return u.y}function Ga(u){return u.width}function jb(u){return u.height}
function Ca(u){return"function"===typeof u?u:()=>+u}function ab(u,E,aa){return Math.max(E,Math.min(u,aa))}function Ma(){function u(Rc,yd,Md){var bd;yd=null!=yd?yd:+E.call(this,Rc);Md=null!=Md?Md:+aa.call(this,Rc);var Sd=+ka.call(this,Rc),je=+lb.call(this,Rc),We=Math.min(Sd,je)/2,oa=ab(+Ib.call(this,Rc),0,We),Pa=ab(+Sb.call(this,Rc),0,We),pb=ab(+fc.call(this,Rc),0,We);Rc=ab(+zc.call(this,Rc),0,We);Tc||(Tc=bd=Sa.path());0>=oa&&0>=Pa&&0>=pb&&0>=Rc?Tc.rect(yd,Md,Sd,je):(Sd=yd+Sd,je=Md+je,Tc.moveTo(yd+
oa,Md),Tc.lineTo(Sd-Pa,Md),Tc.bezierCurveTo(Sd-.448084975506*Pa,Md,Sd,Md+.448084975506*Pa,Sd,Md+Pa),Tc.lineTo(Sd,je-Rc),Tc.bezierCurveTo(Sd,je-.448084975506*Rc,Sd-.448084975506*Rc,je,Sd-Rc,je),Tc.lineTo(yd+pb,je),Tc.bezierCurveTo(yd+.448084975506*pb,je,yd,je-.448084975506*pb,yd,je-pb),Tc.lineTo(yd,Md+oa),Tc.bezierCurveTo(yd,Md+.448084975506*oa,yd+.448084975506*oa,Md,yd+oa,Md),Tc.closePath());if(bd)return Tc=null,bd+""||null}var E=mb,aa=Ea,ka=Ga,lb=jb,Ib=Ca(0),Sb=Ib,fc=Ib,zc=Ib,Tc=null;u.x=function(Rc){return arguments.length?
(E=Ca(Rc),u):E};u.y=function(Rc){return arguments.length?(aa=Ca(Rc),u):aa};u.width=function(Rc){return arguments.length?(ka=Ca(Rc),u):ka};u.height=function(Rc){return arguments.length?(lb=Ca(Rc),u):lb};u.cornerRadius=function(Rc,yd,Md,bd){return arguments.length?(Ib=Ca(Rc),Sb=null!=yd?Ca(yd):Ib,zc=null!=Md?Ca(Md):Ib,fc=null!=bd?Ca(bd):Sb,u):Ib};u.context=function(Rc){return arguments.length?(Tc=null==Rc?null:Rc,u):Tc};return u}function ja(){function u(Rc){var yd,Md=Rc.length,bd,Sd=!1,je;null==Ib&&
(Ib=je=Sa.path());for(yd=0;yd<=Md;++yd)if(!(yd<Md&&lb(bd=Rc[yd],yd,Rc))===Sd&&(Sd=!Sd)&&(Sb=0),Sd){{var We=+E(bd,yd,Rc),oa=+aa(bd,yd,Rc);const m=+ka(bd,yd,Rc)/2;if(Sb){var Pa=zc-oa,pb=We-fc;if(Pa||pb){var Cb=Math.sqrt(Pa*Pa+pb*pb),Ub=(Pa/=Cb)*Tc;Cb=(pb/=Cb)*Tc;var c=Math.atan2(pb,Pa);Ib.moveTo(fc-Ub,zc-Cb);Ib.lineTo(We-Pa*m,oa-pb*m);Ib.arc(We,oa,m,c-Math.PI,c);Ib.lineTo(fc+Ub,zc+Cb);Ib.arc(fc,zc,Tc,c,c+Math.PI)}else Ib.arc(We,oa,m,0,Ac);Ib.closePath()}else Sb=1;fc=We;zc=oa;Tc=m}}if(je)return Ib=null,
je+""||null}var E,aa,ka,lb,Ib=null,Sb,fc,zc,Tc;u.x=function(Rc){return arguments.length?(E=Rc,u):E};u.y=function(Rc){return arguments.length?(aa=Rc,u):aa};u.size=function(Rc){return arguments.length?(ka=Rc,u):ka};u.defined=function(Rc){return arguments.length?(lb=Rc,u):lb};u.context=function(Rc){return arguments.length?(Ib=null==Rc?null:Rc,u):Ib};return u}function Aa(u,E){return null!=u?u:E}function Qa(u){return u.cornerRadius||u.cornerRadiusTopLeft||u.cornerRadiusTopRight||u.cornerRadiusBottomRight||
u.cornerRadiusBottomLeft}function Xa(u,E,aa,ka){return Va.context(u)(E,aa,ka)}function hb(u,E,aa){var ka=E.clip;u=u._defs;E=E.clip_id||(E.clip_id="clip"+Gc++);u=u.clipping[E]||(u.clipping[E]={id:E});x.isFunction(ka)?u.path=ka(null):Qa(aa)?u.path=Xa(null,aa,0,0):(u.width=aa.width||0,u.height=aa.height||0);return"url(#"+E+")"}function cb(u){this.clear();u&&this.union(u)}function ob(u){this.mark=u;this.bounds=this.bounds||new cb}function $a(u){ob.call(this,u);this.items=this.items||[]}function Q(u){this._pending=
0;this._loader=u||fb.loader()}function H(u,E,aa){if(E.stroke&&0!==E.opacity&&0!==E.strokeOpacity){const ka=null!=E.strokeWidth?+E.strokeWidth:1;u.expand(ka+(aa?E.strokeJoin&&"miter"!==E.strokeJoin?0:ka:0))}return u}function T(u,E){Fc=u;E?(se=E*Se,xd=Te=Math.cos(se),zd=Math.sin(se),le=-zd):(xd=Te=1,se=zd=le=0);return Le}function na(u,E,aa,ka){aa=(u-E)/(u+aa-2*E);0<aa&&1>aa&&ka(u+(E-u)*aa)}function O(u,E,aa,ka,lb){const Ib=ka-u+3*E-3*aa,Sb=u+aa-2*E;var fc=u-E;let zc=0,Tc=0;1E-14<Math.abs(Ib)?(fc=Sb*
Sb+fc*Ib,0<=fc&&(fc=Math.sqrt(fc),zc=(-Sb+fc)/Ib,Tc=(-Sb-fc)/Ib)):zc=.5*fc/Sb;0<zc&&1>zc&&lb(W(zc,u,E,aa,ka));0<Tc&&1>Tc&&lb(W(Tc,u,E,aa,ka))}function W(u,E,aa,ka,lb){const Ib=1-u,Sb=Ib*Ib,fc=u*u;return Sb*Ib*E+3*Sb*u*aa+3*Ib*fc*ka+fc*u*lb}function ea(u){return function(E,aa){if(!Ze)return!0;u(Ze,E);$f.clear().union(E.bounds).intersect(aa).round();const {x1:ka,y1:lb,x2:Ib,y2:Sb}=$f;for(E=lb;E<=Sb;++E)for(aa=ka;aa<=Ib;++aa)if(Ze.isPointInPath(aa,E))return!0;return!1}}function pa(u,E){return E.contains(u.x||
0,u.y||0)}function Ua(u,E){const aa=u.x||0,ka=u.y||0;return E.intersects($f.set(aa,ka,aa+(u.width||0),ka+(u.height||0)))}function db(u,E){const aa=u.x||0,ka=u.y||0;return U(E,aa,ka,null!=u.x2?u.x2:aa,null!=u.y2?u.y2:ka)}function U(u,E,aa,ka,lb){const {x1:Ib,y1:Sb,x2:fc,y2:zc}=u;u=ka-E;lb-=aa;ka=0;let Tc=1,Rc,yd,Md,bd;for(bd=0;4>bd;++bd){0===bd&&(Rc=-u,yd=-(Ib-E));1===bd&&(Rc=u,yd=fc-E);2===bd&&(Rc=-lb,yd=-(Sb-aa));3===bd&&(Rc=lb,yd=zc-aa);if(1E-10>Math.abs(Rc)&&0>yd)return!1;Md=yd/Rc;if(0>Rc){if(Md>
Tc)return!1;Md>ka&&(ka=Md)}else if(0<Rc){if(Md<ka)return!1;Md<Tc&&(Tc=Md)}}return!0}function va(u,E){u.globalCompositeOperation=E.blend||"source-over"}function xa(u,E){return null==u?E:u}function ma(u,E){const aa=E.length;for(let ka=0;ka<aa;++ka)u.addColorStop(E[ka].offset,E[ka].color);return u}function R(u,E,aa){const ka=aa.width(),lb=aa.height();if("radial"===E.gradient)u=u.createRadialGradient(aa.x1+xa(E.x1,.5)*ka,aa.y1+xa(E.y1,.5)*lb,Math.max(ka,lb)*xa(E.r1,0),aa.x1+xa(E.x2,.5)*ka,aa.y1+xa(E.y2,
.5)*lb,Math.max(ka,lb)*xa(E.r2,.5));else{const Ib=xa(E.x1,0),Sb=xa(E.y1,0),fc=xa(E.x2,1),zc=xa(E.y2,0);if(Ib===fc||Sb===zc||ka===lb)u=u.createLinearGradient(aa.x1+Ib*ka,aa.y1+Sb*lb,aa.x1+fc*ka,aa.y1+zc*lb);else{aa=Wb.canvas(Math.ceil(ka),Math.ceil(lb));const Tc=aa.getContext("2d");Tc.scale(ka,lb);Tc.fillStyle=ma(Tc.createLinearGradient(Ib,Sb,fc,zc),E.stops);Tc.fillRect(0,0,ka,lb);return u.createPattern(aa,"no-repeat")}}return ma(u,E.stops)}function v(u,E,aa){aa*=null==E.fillOpacity?1:E.fillOpacity;
return 0<aa?(u.globalAlpha=aa,E=(aa=E.fill)&&aa.gradient?R(u,aa,E.bounds):aa,u.fillStyle=E,!0):!1}function w(u,E,aa){var ka=null!=(ka=E.strokeWidth)?ka:1;if(0>=ka)return!1;aa*=null==E.strokeOpacity?1:E.strokeOpacity;return 0<aa?(u.globalAlpha=aa,aa=(aa=E.stroke)&&aa.gradient?R(u,aa,E.bounds):aa,u.strokeStyle=aa,u.lineWidth=ka,u.lineCap=E.strokeCap||"butt",u.lineJoin=E.strokeJoin||"miter",u.miterLimit=E.strokeMiterLimit||10,u.setLineDash&&(u.setLineDash(E.strokeDash||vf),u.lineDashOffset=E.strokeDashOffset||
0),!0):!1}function p(u,E){return u.zindex-E.zindex||u.index-E.index}function r(u){if(!u.zdirty)return u.zitems;var E=u.items,aa=[],ka;var lb=0;for(ka=E.length;lb<ka;++lb){var Ib=E[lb];Ib.index=lb;Ib.zindex&&aa.push(Ib)}u.zdirty=!1;return u.zitems=aa.sort(p)}function C(u,E){var aa=u.items,ka;if(aa&&aa.length){var lb=r(u);if(lb&&lb.length){u=0;for(ka=aa.length;u<ka;++u)aa[u].zindex||E(aa[u]);aa=lb}u=0;for(ka=aa.length;u<ka;++u)E(aa[u])}}function D(u,E){var aa=u.items,ka,lb;if(!aa||!aa.length)return null;
const Ib=r(u);Ib&&Ib.length&&(aa=Ib);for(lb=aa.length;0<=--lb;)if(ka=E(aa[lb]))return ka;if(aa===Ib)for(aa=u.items,lb=aa.length;0<=--lb;)if(!aa[lb].zindex&&(ka=E(aa[lb])))return ka;return null}function G(u){return function(E,aa,ka){C(aa,lb=>{ka&&!ka.intersects(lb.bounds)||fa(u,E,lb,lb)})}}function B(u){return function(E,aa,ka){!aa.items.length||ka&&!ka.intersects(aa.bounds)||fa(u,E,aa.items[0],aa.items)}}function fa(u,E,aa,ka){var lb=null==aa.opacity?1:aa.opacity;0===lb||u(E,ka)||(va(E,aa),aa.fill&&
v(E,aa,lb)&&E.fill(),aa.stroke&&w(E,aa,lb)&&E.stroke())}function wa(u){u=u||x.truthy;return function(E,aa,ka,lb,Ib,Sb){ka*=E.pixelRatio;lb*=E.pixelRatio;return D(aa,fc=>{const zc=fc.bounds;if((!zc||zc.contains(Ib,Sb))&&zc&&u(E,fc,ka,lb,Ib,Sb))return fc})}}function la(u,E){return function(aa,ka,lb,Ib){var Sb=Array.isArray(ka)?ka[0]:ka,fc=null==E?Sb.fill:E,zc=Sb.stroke&&aa.isPointInStroke;if(zc){var Tc=Sb.strokeWidth;Sb=Sb.strokeCap;aa.lineWidth=null!=Tc?Tc:1;aa.lineCap=null!=Sb?Sb:"butt"}return u(aa,
ka)?!1:fc&&aa.isPointInPath(lb,Ib)||zc&&aa.isPointInStroke(lb,Ib)}}function Ta(u,E){return"translate("+u+","+E+")"}function Ja(u,E,aa){function ka(lb,Ib){var Sb=Ib.x||0,fc=Ib.y||0,zc=Ib.angle||0;lb.translate(Sb,fc);zc&&lb.rotate(zc*=Se);lb.beginPath();E(lb,Ib);zc&&lb.rotate(-zc);lb.translate(-Sb,-fc)}return{type:u,tag:"path",nested:!1,attr:function(lb,Ib){var Sb=Ta(Ib.x||0,Ib.y||0)+(Ib.angle?" rotate("+(Ib.angle+")"):"");lb("transform",Sb);lb("d",E(null,Ib))},bound:function(lb,Ib){E(T(lb,Ib.angle),
Ib);return H(lb,Ib).translate(Ib.x||0,Ib.y||0)},draw:G(ka),pick:wa(la(ka)),isect:aa||ea(ka)}}function Z(u,E,aa){function ka(Ib,Sb){Ib.beginPath();E(Ib,Sb)}const lb=la(ka);return{type:u,tag:"path",nested:!0,attr:function(Ib,Sb){Sb=Sb.mark.items;Sb.length&&Ib("d",E(null,Sb))},bound:function(Ib,Sb){Sb=Sb.items;if(0===Sb.length)return Ib;E(T(Ib),Sb);return H(Ib,Sb[0])},draw:B(ka),pick:function(Ib,Sb,fc,zc,Tc,Rc){var yd=Sb.items;Sb=Sb.bounds;if(!yd||!yd.length||Sb&&!Sb.contains(Tc,Rc))return null;fc*=
Ib.pixelRatio;zc*=Ib.pixelRatio;return lb(Ib,yd,fc,zc)?yd[0]:null},isect:pa,tip:aa}}function sa(u,E){u.beginPath();Qa(E)?Xa(u,E,0,0):u.rect(0,0,E.width||0,E.height||0);u.clip()}function eb(u){const E=xa(u.strokeWidth,1);return null!=u.strokeOffset?u.strokeOffset:u.stroke&&.5<E&&1.5>E?.5-Math.abs(E-1):0}function xb(u,E,aa,ka){const lb=eb(E);u.beginPath();Xa(u,E,(aa||0)+lb,(ka||0)+lb)}function Kb(u,E){var aa=u.image;if(!aa||u.url&&u.url!==aa.url)aa={complete:!1,width:0,height:0},E.loadImage(u.url).then(ka=>
{u.image=ka;u.image.url=u.url});return aa}function ec(u,E){return null!=u.width?u.width:E&&E.width?!1!==u.aspect&&u.height?u.height*E.width/E.height:E.width:0}function Ec(u,E){return null!=u.height?u.height:E&&E.height?!1!==u.aspect&&u.width?u.width*E.height/E.width:E.height:0}function gd(u,E){return"center"===u?E/2:"right"===u?E:0}function Dc(u,E){return"middle"===u?E/2:"bottom"===u?E:0}function Sc(u,E){var aa=E.path;if(null==aa)return!0;var ka=E.x||0,lb=E.y||0,Ib=E.scaleX||1,Sb=E.scaleY||1,fc=(E.angle||
0)*Se,zc=E.pathCache;zc&&zc.path===aa||((E.pathCache=zc=qb(aa)).path=aa);fc&&u.rotate&&u.translate?(u.translate(ka,lb),u.rotate(fc),Wa(u,zc,0,0,Ib,Sb),u.rotate(-fc),u.translate(-ka,-lb)):Wa(u,zc,ka,lb,Ib,Sb)}function Ra(u,E){u.beginPath();Xa(u,E)}function nc(u,E,aa){if(E.stroke&&w(u,E,aa)){aa=E.x||0;var ka=E.y||0;var lb=null!=E.x2?E.x2:aa;E=null!=E.y2?E.y2:ka;u.beginPath();u.moveTo(aa,ka);u.lineTo(lb,E);return!0}return!1}function kc(u){Bd.width=u&&Ze?Pc:wc}function wc(u,E){E=Dd(u,E);u=Xc(u);return~~(.8*
E.length*u)}function Pc(u,E){return 0>=Xc(u)||!(E=Dd(u,E))?0:rc(E,sd(u))}function rc(u,E){const aa=`(${E}) ${u}`;let ka=Td.get(aa);void 0===ka&&(Ze.font=E,ka=Ze.measureText(u).width,Td.set(aa,ka));return ka}function Xc(u){return null!=u.fontSize?+u.fontSize||0:11}function $c(u){return null!=u.lineHeight?u.lineHeight:Xc(u)+2}function Nc(u){u=u.lineBreak&&u.text&&!x.isArray(u.text)?u.text.split(u.lineBreak):u.text;return x.isArray(u)?1<u.length?u:u[0]:u}function Dd(u,E){E=null==E?"":(E+"").trim();if(0<
u.limit&&E.length){var aa=+u.limit,ka=we(u);if(!(ka(E)<aa)){var lb=u.ellipsis||"…",Ib="rtl"===u.dir;u=0;var Sb=E.length;aa-=ka(lb);if(Ib){for(;u<Sb;)Ib=u+Sb>>>1,ka(E.slice(Ib))>aa?u=Ib+1:Sb=Ib;E=lb+E.slice(u)}else{for(;u<Sb;)Ib=1+(u+Sb>>>1),ka(E.slice(0,Ib))<aa?u=Ib:Sb=Ib-1;E=E.slice(0,u)+lb}}}return E}function we(u){if(Bd.width===Pc){const E=sd(u);return aa=>rc(aa,E)}{const E=Xc(u);return aa=>~~(.8*aa.length*E)}}function ld(u,E){u=u.font;return(E&&u?String(u).replace(/"/g,"'"):u)||"sans-serif"}function sd(u,
E){return(u.fontStyle?u.fontStyle+" ":"")+(u.fontVariant?u.fontVariant+" ":"")+(u.fontWeight?u.fontWeight+" ":"")+Xc(u)+"px "+ld(u,E)}function ge(u){var E=u.baseline,aa=Xc(u);return Math.round("top"===E?.79*aa:"middle"===E?.3*aa:"bottom"===E?-.21*aa:"line-top"===E?.29*aa+.5*$c(u):"line-bottom"===E?.29*aa-.5*$c(u):0)}function La(u){var E=u.x||0,aa=u.y||0,ka=u.radius||0;ka&&(u=(u.theta||0)-Ee,E+=ka*Math.cos(u),aa+=ka*Math.sin(u));Pd.x1=E;Pd.y1=aa;return Pd}function vb(u,E,aa){var ka=Bd.height(E),lb=
E.align,Ib=La(E),Sb=Ib.x1;Ib=Ib.y1;var fc=E.dx||0,zc=(E.dy||0)+ge(E)-Math.round(.8*ka),Tc=Nc(E);x.isArray(Tc)?(ka+=$c(E)*(Tc.length-1),Tc=Tc.reduce((Rc,yd)=>Math.max(Rc,Bd.width(E,yd)),0)):Tc=Bd.width(E,Tc);"center"===lb?fc-=Tc/2:"right"===lb&&(fc-=Tc);u.set(fc+=Sb,zc+=Ib,fc+Tc,zc+ka);if(E.angle&&!aa)u.rotate(E.angle*Se,Sb,Ib);else if(2===aa)return u.rotatedPoints(E.angle*Se,Sb,Ib);return u}function $b(u,E,aa){var ka=ze[u.mark.marktype];E=E||ka.bound;ka.nested&&(u=u.mark);return E(u.bounds||(u.bounds=
new cb),u,aa)}function rd(u,E,aa){var ka=ze[u.marktype],lb=ka.bound,Ib=u.items,Sb=Ib&&Ib.length;if(ka.nested)return Sb?u=Ib[0]:(Sf.mark=u,u=Sf),aa=$b(u,lb,aa),E=E&&E.union(aa)||aa;E=E||u.bounds&&u.bounds.clear()||new cb;if(Sb)for(ka=0,Sb=Ib.length;ka<Sb;++ka)E.union($b(Ib[ka],lb,aa));return u.bounds=E}function vd(u,E){return JSON.stringify(u,be,E)}function de(u){u="string"===typeof u?JSON.parse(u):u;return oe(u)}function oe(u){var E=u.marktype,aa=u.items,ka;if(aa){var lb=0;for(ka=aa.length;lb<ka;++lb){var Ib=
E?"mark":"group";aa[lb][Ib]=u;aa[lb].zindex&&(aa[lb][Ib].zdirty=!0);"group"===(E||Ib)&&oe(aa[lb])}}E&&rd(u);return u}function X(u){arguments.length?this.root=de(u):(this.root=za({marktype:"group",name:"root",role:"frame"}),this.root.items=[new $a(this.root)])}function za(u,E){E={bounds:new cb,clip:!!u.clip,group:E,interactive:!1===u.interactive?!1:!0,items:[],marktype:u.marktype,name:u.name||void 0,role:u.role||void 0,zindex:u.zindex||0};null!=u.aria&&(E.aria=u.aria);u.description&&(E.description=
u.description);return E}function gb(u,E,aa){!u&&"undefined"!==typeof document&&document.createElement&&(u=document);return u?aa?u.createElementNS(aa,E):u.createElement(E):null}function Db(u,E){E=E.toLowerCase();u=u.childNodes;for(var aa=0,ka=u.length;aa<ka;++aa)if(u[aa].tagName.toLowerCase()===E)return u[aa]}function Zb(u,E,aa,ka){E=u.childNodes[E];if(!E||E.tagName.toLowerCase()!==aa.toLowerCase()){var lb=E||null;E=gb(u.ownerDocument,aa,ka);u.insertBefore(E,lb)}return E}function Gb(u,E){for(var aa=
u.childNodes,ka=aa.length;ka>E;)u.removeChild(aa[--ka]);return u}function sc(u){return"mark-"+u.marktype+(u.role?" role-"+u.role:"")+(u.name?" "+u.name:"")}function jc(u,E){const aa=E.getBoundingClientRect();return[u.clientX-aa.left-(E.clientLeft||0),u.clientY-aa.top-(E.clientTop||0)]}function Oa(u,E){this._active=null;this._handlers={};this._loader=u||fb.loader();this._tooltip=E||rb}function rb(u,E,aa,ka){u.element().setAttribute("title",ka||"")}function Lb(u){this._bgcolor=this._el=null;this._loader=
new Q(u)}function gc(u,E){Oa.call(this,u,E);this._touch=this._down=null;this._first=!0;this._events={}}function tc(u,E){("touchstart"===E||"touchmove"===E||"touchend"===E?["touchstart","touchmove","touchend"]:[E]).forEach(aa=>Bc(u,aa))}function Bc(u,E){const aa=u.canvas();aa&&!u._events[E]&&(u._events[E]=1,aa.addEventListener(E,u[E]?ka=>u[E](ka):ka=>u.fire(E,ka)))}function Mc(u,E,aa){return function(ka){const lb=this._active,Ib=this.pickEvent(ka);Ib!==lb&&(lb&&lb.exit||this.fire(aa,ka),this._active=
Ib,this.fire(E,ka));this.fire(u,ka)}}function Hb(u){return function(E){this.fire(u,E);this._active=null}}function yc(u){Lb.call(this,u);this._options={};this._redraw=!1;this._dirty=new cb;this._tempb=new cb}function Cc(u,E){Oa.call(this,u,E);const aa=this;aa._hrefHandler=Kf(aa,(ka,lb)=>{lb&&lb.href&&aa.handleHref(ka,lb,lb.href)});aa._tooltipHandler=Kf(aa,(ka,lb)=>{aa.handleTooltip(ka,lb,"mouseout"!==ka.type)})}function xc(u,E){var aa=!1===E.aria;u("aria-hidden",aa||void 0);if(aa||null==E.description)for(const ka in N)u(N[ka],
void 0);else aa=E.mark.marktype,u("aria-label",E.description),u("role",E.ariaRole||("group"===aa?"graphics-object":"graphics-symbol")),u("aria-roledescription",E.ariaRoleDescription||`${aa} mark`)}function Ic(u){return!1===u.aria?{["aria-hidden"]:!0}:gg[u.role]?null:M[u.role]?Uc(u,M[u.role]):Yc(u)}function Yc(u){const E=u.marktype,aa="group"===E||"text"===E||u.items.some(ka=>null!=ka.description&&!1!==ka.aria);return ef(aa?"graphics-object":"graphics-symbol",`${E} mark container`,u.description)}function Uc(u,
E){try{const aa=u.items[0],ka=E.caption||(()=>"");return ef(E.role||"graphics-symbol",E.desc,aa.description||ka(aa))}catch(aa){return null}}function od(u){try{return x.array(x.peek(u.items).items[0].text).join(" ")}catch(E){return null}}function qd(u){u=u.map(E=>E+("fill"===E||"stroke"===E?" color":""));return 2>u.length?u[0]:u.slice(0,-1).join(", ")+" and "+x.peek(u)}function Id(){let u="",E="",aa="";const ka=[],lb=(Sb,fc)=>{null!=fc&&(E+=` ${Sb}="${Y(fc).replace(/"/g,"\x26quot;").replace(/\t/g,
"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Ib},Ib={open(Sb,...fc){E&&(u+=`${E}>${aa}`,E=aa="");ka.push(Sb);E="\x3c"+Sb;for(const zc of fc)for(const Tc in zc)lb(Tc,zc[Tc]);return Ib},close(){const Sb=ka.pop();u=E?u+(E+(aa?`>${aa}</${Sb}>`:"/\x3e")):u+`</${Sb}>`;E=aa="";return Ib},attr:lb,text:Sb=>(aa+=Y(Sb),Ib),toString:()=>u};return Ib}function Ed(u,E){u.open(E.tagName);if(E.hasAttributes()){var aa=E.attributes,ka=aa.length;for(var lb=0;lb<ka;++lb)u.attr(aa[lb].name,
aa[lb].value)}if(E.hasChildNodes())for(E=E.childNodes,aa=E.length,ka=0;ka<aa;ka++)lb=E[ka],3===lb.nodeType?u.text(lb.nodeValue):Ed(u,lb);return u.close()}function Wd(u){Lb.call(this,u);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function me(u,E){for(;u&&u.dirty!==E;u=u.mark.group)if(u.dirty=E,u.mark&&u.mark.dirty!==E)u.mark.dirty=E;else break}function ye(u,E,aa){E=E.lastChild.previousSibling;let ka,lb=0;C(aa,Ib=>{ka=u.mark(E,Ib,ka);++lb});Gb(E,1+lb)}function Ye(u,E,aa,ka,lb){let Ib=
u._svg;if(!Ib){var Sb=E.ownerDocument;Ib=gb(Sb,ka,Za);u._svg=Ib;u.mark&&(Ib.__data__=u,Ib.__values__={fill:"default"},"g"===ka&&(ka=gb(Sb,"path",Za),Ib.appendChild(ka),ka.__data__=u,ka=gb(Sb,"g",Za),Ib.appendChild(ka),ka.__data__=u,Sb=gb(Sb,"path",Za),Ib.appendChild(Sb),Sb.__data__=u,Sb.__values__={fill:"default"}))}(Ib.ownerSVGElement!==lb||Ib.parentNode&&1<Ib.parentNode.childNodes.length&&Ib.previousSibling!=aa)&&E.insertBefore(Ib,aa?aa.nextSibling:E.firstChild);return Ib}function Qe(u,E,aa){if(E!==
zb[u]){if(aa){var ka=nb;null!=E?ka.setAttributeNS(aa,u,E):ka.removeAttributeNS(aa,u)}else ee(nb,u,E);zb[u]=E}}function Re(u,E,aa){aa!==zb[E]&&(null==aa?u.style.removeProperty(E):u.style.setProperty(E,aa+""),zb[E]=aa)}function Fd(u,E){for(const aa in E)ee(u,aa,E[aa])}function ee(u,E,aa){null!=aa?u.setAttribute(E,aa):u.removeAttribute(E)}function ff(){let u;return"undefined"===typeof window?"":(u=window.location).hash?u.href.slice(0,-u.hash.length):u.href}function Oe(u){Lb.call(this,u);this._text=null;
this._defs={gradient:{},clipping:{}}}function Bf(u,E,aa,ka,lb){if(null==E)return u;"bgrect"===ka&&!1===aa.interactive&&(u["pointer-events"]="none");if("bgfore"===ka&&(!1===aa.interactive&&(u["pointer-events"]="none"),u.display="none",null!==E.fill))return u;"image"===ka&&!1===E.smooth&&(u.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===ka&&(u["font-family"]=ld(E),u["font-size"]=Xc(E)+"px",u["font-style"]=E.fontStyle,u["font-variant"]=E.fontVariant,u["font-weight"]=E.fontWeight);
for(const Ib in ya)aa=E[Ib],ka=ya[Ib],("transparent"!==aa||"fill"!==ka&&"stroke"!==ka)&&null!=aa&&(aa&&aa.gradient&&(aa=Qb(aa,lb.gradient,"")),u[ka]=aa);return u}function Yd(u,E,aa,ka){if(u.bounds&&E.intersects(u.bounds)&&("group"===u.marktype||!1!==u.interactive&&(!aa||aa(u)))){const Ib=u.items;var lb=u.marktype;u=Ib.length;let Sb=0;if("group"===lb)for(;Sb<u;++Sb)Ae(Ib[Sb],E,aa,ka);else for(aa=ze[lb].isect;Sb<u;++Sb)lb=Ib[Sb],cf(lb,E,aa)&&ka.push(lb)}return ka}function Ae(u,E,aa,ka){aa&&aa(u.mark)&&
cf(u,E,ze.group.isect)&&ka.push(u);const lb=u.items,Ib=lb&&lb.length;if(Ib){const Sb=u.x||0;u=u.y||0;E.translate(-Sb,-u);for(let fc=0;fc<Ib;++fc)Yd(lb[fc],E,aa,ka);E.translate(Sb,u)}return ka}function cf(u,E,aa){const ka=u.bounds;return E.encloses(ka)||E.intersects(ka)&&aa(u,E)}function re(u,E,aa){return u===E?!0:"path"===aa?Ad(u,E):u instanceof Date&&E instanceof Date?+u===+E:x.isNumber(u)&&x.isNumber(E)?1E-9>=Math.abs(u-E):u&&E&&(x.isObject(u)||x.isObject(E))?Ld(u,E):u==E}function Ad(u,E){return re(qb(u),
qb(E))}function Ld(u,E){var aa=Object.keys(u),ka=Object.keys(E),lb;if(aa.length!==ka.length)return!1;aa.sort();ka.sort();for(lb=aa.length-1;0<=lb;lb--)if(aa[lb]!=ka[lb])return!1;for(lb=aa.length-1;0<=lb;lb--)if(ka=aa[lb],!re(u[ka],E[ka],ka))return!1;return typeof u===typeof E}let ae=0;const Jf={basis:{curve:ca.curveBasis},"basis-closed":{curve:ca.curveBasisClosed},"basis-open":{curve:ca.curveBasisOpen},bundle:{curve:ca.curveBundle,tension:"beta",value:.85},cardinal:{curve:ca.curveCardinal,tension:"tension",
value:0},"cardinal-open":{curve:ca.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:ca.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:ca.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ca.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:ca.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:ca.curveLinear},"linear-closed":{curve:ca.curveLinearClosed},monotone:{horizontal:ca.curveMonotoneY,vertical:ca.curveMonotoneX},
natural:{curve:ca.curveNatural},step:{curve:ca.curveStep},"step-after":{curve:ca.curveStepAfter},"step-before":{curve:ca.curveStepBefore}},De={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Jd=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Se=Math.PI/180,Ee=Math.PI/2,Ac=2*Math.PI,Be=Math.sqrt(3)/2;var Xd={},bc={},Je=[].join;const pe=["l",0,0,0,0,0,0,0],Ke={circle:{draw:function(u,E){E=Math.sqrt(E)/2;u.moveTo(E,0);u.arc(0,0,E,0,Ac)}},cross:{draw:function(u,E){E=Math.sqrt(E)/2;
var aa=E/2.5;u.moveTo(-E,-aa);u.lineTo(-E,aa);u.lineTo(-aa,aa);u.lineTo(-aa,E);u.lineTo(aa,E);u.lineTo(aa,aa);u.lineTo(E,aa);u.lineTo(E,-aa);u.lineTo(aa,-aa);u.lineTo(aa,-E);u.lineTo(-aa,-E);u.lineTo(-aa,-aa);u.closePath()}},diamond:{draw:function(u,E){E=Math.sqrt(E)/2;u.moveTo(-E,0);u.lineTo(0,-E);u.lineTo(E,0);u.lineTo(0,E);u.closePath()}},square:{draw:function(u,E){E=Math.sqrt(E);var aa=-E/2;u.rect(aa,aa,E,E)}},arrow:{draw:function(u,E){E=Math.sqrt(E)/2;var aa=E/7,ka=E/2.5,lb=E/8;u.moveTo(-aa,
E);u.lineTo(aa,E);u.lineTo(aa,-lb);u.lineTo(ka,-lb);u.lineTo(0,-E);u.lineTo(-ka,-lb);u.lineTo(-aa,-lb);u.closePath()}},wedge:{draw:function(u,E){var aa=Math.sqrt(E)/2;E=Be*aa;var ka=E-.5773502691896257*aa;aa/=4;u.moveTo(0,-E-ka);u.lineTo(-aa,E-ka);u.lineTo(aa,E-ka);u.closePath()}},triangle:{draw:function(u,E){E=Math.sqrt(E)/2;var aa=Be*E,ka=aa-.5773502691896257*E;u.moveTo(0,-aa-ka);u.lineTo(-E,aa-ka);u.lineTo(E,aa-ka);u.closePath()}},"triangle-up":{draw:function(u,E){E=Math.sqrt(E)/2;var aa=Be*E;
u.moveTo(0,-aa);u.lineTo(-E,aa);u.lineTo(E,aa);u.closePath()}},"triangle-down":{draw:function(u,E){E=Math.sqrt(E)/2;var aa=Be*E;u.moveTo(0,aa);u.lineTo(-E,-aa);u.lineTo(E,-aa);u.closePath()}},"triangle-right":{draw:function(u,E){E=Math.sqrt(E)/2;var aa=Be*E;u.moveTo(aa,0);u.lineTo(-aa,-E);u.lineTo(-aa,E);u.closePath()}},"triangle-left":{draw:function(u,E){E=Math.sqrt(E)/2;var aa=Be*E;u.moveTo(-aa,0);u.lineTo(aa,-E);u.lineTo(aa,E);u.closePath()}},stroke:{draw:function(u,E){E=Math.sqrt(E)/2;u.moveTo(-E,
0);u.lineTo(E,0)}}};var Cf={};const kf=u=>u.x||0,tf=u=>u.y||0,Pe=u=>!1!==u.defined,K=ca.arc().startAngle(u=>u.startAngle||0).endAngle(u=>u.endAngle||0).padAngle(u=>u.padAngle||0).innerRadius(u=>u.innerRadius||0).outerRadius(u=>u.outerRadius||0).cornerRadius(u=>u.cornerRadius||0),S=ca.area().x(kf).y1(tf).y0(u=>(u.y||0)+(u.height||0)).defined(Pe),ua=ca.area().y(tf).x1(kf).x0(u=>(u.x||0)+(u.width||0)).defined(Pe),Ka=ca.line().x(kf).y(tf).defined(Pe),Va=Ma().x(kf).y(tf).width(u=>u.width||0).height(u=>
u.height||0).cornerRadius(u=>Aa(u.cornerRadiusTopLeft,u.cornerRadius)||0,u=>Aa(u.cornerRadiusTopRight,u.cornerRadius)||0,u=>Aa(u.cornerRadiusBottomRight,u.cornerRadius)||0,u=>Aa(u.cornerRadiusBottomLeft,u.cornerRadius)||0),Vb=ca.symbol().type(u=>Ia(u.shape||"circle")).size(u=>Aa(u.size,64)),lc=ja().x(kf).y(tf).defined(Pe).size(u=>u.size||1);var Gc=1;cb.prototype={clone(){return new cb(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;
return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(u){return this.x1===u.x1&&this.y1===u.y1&&this.x2===u.x2&&this.y2===u.y2},set(u,E,aa,ka){aa<u?(this.x2=u,this.x1=aa):(this.x1=u,this.x2=aa);ka<E?(this.y2=E,this.y1=ka):(this.y1=E,this.y2=ka);return this},add(u,E){u<this.x1&&(this.x1=u);E<this.y1&&(this.y1=E);u>this.x2&&(this.x2=u);E>this.y2&&(this.y2=E);return this},expand(u){this.x1-=u;this.y1-=u;
this.x2+=u;this.y2+=u;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(u){this.x1*=u;this.y1*=u;this.x2*=u;this.y2*=u;return this},translate(u,E){this.x1+=u;this.x2+=u;this.y1+=E;this.y2+=E;return this},rotate(u,E,aa){u=this.rotatedPoints(u,E,aa);return this.clear().add(u[0],u[1]).add(u[2],u[3]).add(u[4],u[5]).add(u[6],u[7])},rotatedPoints(u,E,aa){var {x1:ka,y1:lb,x2:Ib,y2:Sb}=this,fc=Math.cos(u);
u=Math.sin(u);var zc=E-E*fc+aa*u;E=aa-E*u-aa*fc;return[fc*ka-u*lb+zc,u*ka+fc*lb+E,fc*ka-u*Sb+zc,u*ka+fc*Sb+E,fc*Ib-u*lb+zc,u*Ib+fc*lb+E,fc*Ib-u*Sb+zc,u*Ib+fc*Sb+E]},union(u){u.x1<this.x1&&(this.x1=u.x1);u.y1<this.y1&&(this.y1=u.y1);u.x2>this.x2&&(this.x2=u.x2);u.y2>this.y2&&(this.y2=u.y2);return this},intersect(u){u.x1>this.x1&&(this.x1=u.x1);u.y1>this.y1&&(this.y1=u.y1);u.x2<this.x2&&(this.x2=u.x2);u.y2<this.y2&&(this.y2=u.y2);return this},encloses(u){return u&&this.x1<=u.x1&&this.x2>=u.x2&&this.y1<=
u.y1&&this.y2>=u.y2},alignsWith(u){return u&&(this.x1==u.x1||this.x2==u.x2||this.y1==u.y1||this.y2==u.y2)},intersects(u){return u&&!(this.x2<u.x1||this.x1>u.x2||this.y2<u.y1||this.y1>u.y2)},contains(u,E){return!(u<this.x1||u>this.x2||E<this.y1||E>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};x.inherits($a,ob);Q.prototype={pending(){return this._pending},sanitizeURL(u){const E=this;E._pending+=1;return E._loader.sanitize(u,{context:"href"}).then(aa=>{--E._pending;return aa}).catch(()=>
{--E._pending;return null})},loadImage(u){const E=this,aa=Wb.image();E._pending+=1;return E._loader.sanitize(u,{context:"image"}).then(ka=>{const lb=ka.href;if(!lb||!aa)throw{url:lb};const Ib=new aa;ka=x.hasOwnProperty(ka,"crossOrigin")?ka.crossOrigin:"anonymous";null!=ka&&(Ib.crossOrigin=ka);Ib.onload=()=>{--E._pending};Ib.onerror=()=>{--E._pending};Ib.src=lb;return Ib}).catch(ka=>{--E._pending;return{complete:!1,width:0,height:0,src:ka&&ka.url||""}})},ready(){const u=this;return new Promise(E=>
{function aa(ka){u.pending()?setTimeout(()=>{aa(!0)},10):E(ka)}aa(!1)})}};const uc=Ac-1E-8;let Fc,id,fd,se,xd,zd,le,Te;const Me=(u,E)=>{u=id=u;E=fd=E;return Fc.add(u,E)},uf=u=>Fc.add(u,Fc.y1),Zf=u=>Fc.add(Fc.x1,u),pd=(u,E)=>Fc.add(xd*u+le*E,zd*u+Te*E),Ue=(u,E)=>Me(xd*u+le*E,zd*u+Te*E),Le={beginPath(){},closePath(){},moveTo:Ue,lineTo:Ue,rect(u,E,aa,ka){se?(pd(u+aa,E),pd(u+aa,E+ka),pd(u,E+ka),Ue(u,E)):(Fc.add(u+aa,E+ka),Me(u,E))},quadraticCurveTo(u,E,aa,ka){const lb=zd*u+Te*E,Ib=xd*aa+le*ka;aa=zd*aa+
Te*ka;na(id,xd*u+le*E,Ib,uf);na(fd,lb,aa,Zf);Me(Ib,aa)},bezierCurveTo(u,E,aa,ka,lb,Ib){const Sb=zd*u+Te*E,fc=zd*aa+Te*ka,zc=xd*lb+le*Ib;lb=zd*lb+Te*Ib;O(id,xd*u+le*E,xd*aa+le*ka,zc,uf);O(fd,Sb,fc,lb,Zf);Me(zc,lb)},arc(u,E,aa,ka,lb,Ib){ka+=se;lb+=se;id=aa*Math.cos(lb)+u;fd=aa*Math.sin(lb)+E;if(Math.abs(lb-ka)>uc)Fc.add(u-aa,E-aa),Fc.add(u+aa,E+aa);else{const Sb=zc=>Fc.add(aa*Math.cos(zc)+u,aa*Math.sin(zc)+E);let fc;Sb(ka);Sb(lb);if(lb!==ka)if(ka%=Ac,0>ka&&(ka+=Ac),lb%=Ac,0>lb&&(lb+=Ac),lb<ka&&(Ib=
!Ib,fc=ka,ka=lb,lb=fc),Ib)for(lb-=Ac,fc=ka-ka%Ee,ka=0;4>ka&&fc>lb;++ka,fc-=Ee)Sb(fc);else for(fc=ka-ka%Ee+Ee,ka=0;4>ka&&fc<lb;++ka,fc+=Ee)Sb(fc)}}};var Ze=(Ze=Wb.canvas(1,1))?Ze.getContext("2d"):null;const $f=new cb;var vf=[],ag=Ja("arc",function(u,E){return K.context(u)(E)}),df=Z("area",function(u,E){const aa=E[0];return("horizontal"===aa.orient?ua:S).curve(bb(aa.interpolate||"linear",aa.orient,aa.tension)).context(u)(E)},function(u,E){E="horizontal"===u[0].orient?E[1]:E[0];for(var aa="horizontal"===
u[0].orient?"y":"x",ka=u.length,lb=Infinity,Ib,Sb;0<=--ka;)!1!==u[ka].defined&&(Sb=Math.abs(u[ka][aa]-E),Sb<lb&&(lb=Sb,Ib=u[ka]));return Ib});const J=la(xb),da=la(xb,!1),kb=la(xb,!0);var Pb={type:"group",tag:"g",nested:!1,attr:function(u,E){u("transform",Ta(E.x||0,E.y||0))},bound:function(u,E){if(!E.clip&&E.items){const aa=E.items,ka=aa.length;for(let lb=0;lb<ka;++lb)u.union(aa[lb].bounds)}(E.clip||E.width||E.height)&&!E.noBound&&u.add(0,0).add(E.width||0,E.height||0);H(u,E);return u.translate(E.x||
0,E.y||0)},draw:function(u,E,aa){C(E,ka=>{const lb=ka.x||0,Ib=ka.y||0,Sb=ka.strokeForeground,fc=null==ka.opacity?1:ka.opacity;(ka.stroke||ka.fill)&&fc&&(xb(u,ka,lb,Ib),va(u,ka),ka.fill&&v(u,ka,fc)&&u.fill(),ka.stroke&&!Sb&&w(u,ka,fc)&&u.stroke());u.save();u.translate(lb,Ib);ka.clip&&sa(u,ka);aa&&aa.translate(-lb,-Ib);C(ka,zc=>{this.draw(u,zc,aa)});aa&&aa.translate(lb,Ib);u.restore();Sb&&ka.stroke&&fc&&(xb(u,ka,lb,Ib),va(u,ka),w(u,ka,fc)&&u.stroke())})},pick:function(u,E,aa,ka,lb,Ib){if(E.bounds&&
!E.bounds.contains(lb,Ib)||!E.items)return null;const Sb=aa*u.pixelRatio,fc=ka*u.pixelRatio;return D(E,zc=>{let Tc,Rc;var yd=zc.bounds;if(!yd||yd.contains(lb,Ib)){Tc=zc.x||0;Rc=zc.y||0;yd=Tc+(zc.width||0);var Md=Rc+(zc.height||0),bd=zc.clip;if(!bd||!(lb<Tc||lb>yd||Ib<Rc||Ib>Md)){u.save();u.translate(Tc,Rc);Tc=lb-Tc;Rc=Ib-Rc;if(bd&&Qa(zc)&&!kb(u,zc,Sb,fc))return u.restore(),null;Md=zc.strokeForeground;if((bd=!1!==E.interactive)&&Md&&zc.stroke&&da(u,zc,Sb,fc))return u.restore(),zc;yd=D(zc,Sd=>(!1!==
Sd.interactive||"group"===Sd.marktype)&&Sd.bounds&&Sd.bounds.contains(Tc,Rc)?this.pick(Sd,aa,ka,Tc,Rc):null);!yd&&bd&&(zc.fill||!Md&&zc.stroke)&&J(u,zc,Sb,fc)&&(yd=zc);u.restore();return yd||null}}})},isect:Ua,content:function(u,E,aa){E=E.clip?hb(aa,E,E):null;u("clip-path",E)},background:function(u,E){u("class","background");u("aria-hidden",!0);{const aa=eb(E);u("d",Xa(null,E,aa,aa))}},foreground:function(u,E){u("class","foreground");u("aria-hidden",!0);if(E.strokeForeground){{const aa=eb(E);u("d",
Xa(null,E,aa,aa))}}else u("d","")}},Mb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},ac={type:"image",tag:"image",nested:!1,attr:function(u,E,aa){var ka=Kb(E,aa);aa=ec(E,ka);const lb=Ec(E,ka),Ib=(E.x||0)-gd(E.align,aa),Sb=(E.y||0)-Dc(E.baseline,lb);ka=!ka.src&&ka.toDataURL?ka.toDataURL():ka.src||"";u("href",ka,Mb["xmlns:xlink"],"xlink:href");u("transform",Ta(Ib,Sb));u("width",aa);u("height",lb);u("preserveAspectRatio",!1===E.aspect?"none":"xMidYMid")},
bound:function(u,E){var aa=E.image;const ka=ec(E,aa);aa=Ec(E,aa);const lb=(E.x||0)-gd(E.align,ka);E=(E.y||0)-Dc(E.baseline,aa);return u.set(lb,E,lb+ka,E+aa)},draw:function(u,E,aa){C(E,ka=>{if(!aa||aa.intersects(ka.bounds)){var lb=Kb(ka,this),Ib=ec(ka,lb),Sb=Ec(ka,lb),fc=(ka.x||0)-gd(ka.align,Ib),zc=(ka.y||0)-Dc(ka.baseline,Sb),Tc;if(!1!==ka.aspect){var Rc=lb.width/lb.height;var yd=ka.width/ka.height;Rc===Rc&&yd===yd&&Rc!==yd&&(yd<Rc?(Rc=Ib/Rc,zc+=(Sb-Rc)/2,Sb=Rc):(Rc*=Sb,fc+=(Ib-Rc)/2,Ib=Rc))}if(lb.complete||
lb.toDataURL)va(u,ka),u.globalAlpha=null!=(Tc=ka.opacity)?Tc:1,u.imageSmoothingEnabled=!1!==ka.smooth,u.drawImage(lb,fc,zc,Ib,Sb)}})},pick:wa(),isect:x.truthy,get:Kb,xOffset:gd,yOffset:Dc},ic=Z("line",function(u,E){const aa=E[0];return Ka.curve(bb(aa.interpolate||"linear",aa.orient,aa.tension)).context(u)(E)},function(u,E){for(var aa=Math.pow(u[0].strokeWidth||1,2),ka=u.length,lb,Ib;0<=--ka;)if(!1!==u[ka].defined&&(lb=u[ka].x-E[0],Ib=u[ka].y-E[1],lb=lb*lb+Ib*Ib,lb<aa))return u[ka];return null}),Qc=
{type:"path",tag:"path",nested:!1,attr:function(u,E){var aa=E.scaleY||1;1===(E.scaleX||1)&&1===aa||u("vector-effect","non-scaling-stroke");aa=Ta(E.x||0,E.y||0)+(E.angle?" rotate("+(E.angle+")"):"")+(E.scaleX||E.scaleY?" scale("+((E.scaleX||1)+","+(E.scaleY||1)+")"):"");u("transform",aa);u("d",E.path)},bound:function(u,E){return Sc(T(u,E.angle),E)?u.set(0,0,0,0):H(u,E,!0)},draw:G(Sc),pick:wa(la(Sc)),isect:ea(Sc)},Kc={type:"rect",tag:"path",nested:!1,attr:function(u,E){u("d",Xa(null,E))},bound:function(u,
E){var aa,ka;return H(u.set(aa=E.x||0,ka=E.y||0,aa+E.width||0,ka+E.height||0),E)},draw:G(Ra),pick:wa(la(Ra)),isect:Ua},ad={type:"rule",tag:"line",nested:!1,attr:function(u,E){u("transform",Ta(E.x||0,E.y||0));u("x2",null!=E.x2?E.x2-(E.x||0):0);u("y2",null!=E.y2?E.y2-(E.y||0):0)},bound:function(u,E){var aa,ka;return H(u.set(aa=E.x||0,ka=E.y||0,null!=E.x2?E.x2:aa,null!=E.y2?E.y2:ka),E)},draw:function(u,E,aa){C(E,ka=>{if(!aa||aa.intersects(ka.bounds)){var lb=null==ka.opacity?1:ka.opacity;lb&&nc(u,ka,
lb)&&(va(u,ka),u.stroke())}})},pick:wa(function(u,E,aa,ka){return u.isPointInStroke?nc(u,E,1)&&u.isPointInStroke(aa,ka):!1}),isect:db},ud=Ja("shape",function(u,E){return(E.mark.shape||E.shape).context(u)(E)}),Nd=Ja("symbol",function(u,E){return Vb.context(u)(E)},pa);const Td=x.lruCache();var Bd={height:Xc,measureWidth:Pc,estimateWidth:wc,width:wc,canvas:kc};kc(!0);const af={left:"start",center:"middle",right:"end"},Pd=new cb;var Fe={type:"text",tag:"text",nested:!1,attr:function(u,E){var aa=E.dx||
0,ka=(E.dy||0)+ge(E),lb=La(E),Ib=lb.x1;lb=lb.y1;var Sb=E.angle||0;u("text-anchor",af[E.align]||"start");if(Sb){if(E=Ta(Ib,lb)+" rotate("+(Sb+")"),aa||ka)E+=" "+Ta(aa,ka)}else E=Ta(Ib+aa,lb+ka);u("transform",E)},bound:vb,draw:function(u,E,aa){C(E,ka=>{var lb=null==ka.opacity?1:ka.opacity,Ib;if(!(aa&&!aa.intersects(ka.bounds)||0===lb||0>=ka.fontSize||null==ka.text||0===ka.text.length)){u.font=sd(ka);u.textAlign=ka.align||"left";var Sb=La(ka);var fc=Sb.x1;Sb=Sb.y1;ka.angle&&(u.save(),u.translate(fc,
Sb),u.rotate(ka.angle*Se),fc=Sb=0);fc+=ka.dx||0;Sb+=(ka.dy||0)+ge(ka);var zc=Nc(ka);va(u,ka);if(x.isArray(zc)){var Tc=$c(ka);for(Ib=0;Ib<zc.length;++Ib){var Rc=Dd(ka,zc[Ib]);ka.fill&&v(u,ka,lb)&&u.fillText(Rc,fc,Sb);ka.stroke&&w(u,ka,lb)&&u.strokeText(Rc,fc,Sb);Sb+=Tc}}else Rc=Dd(ka,zc),ka.fill&&v(u,ka,lb)&&u.fillText(Rc,fc,Sb),ka.stroke&&w(u,ka,lb)&&u.strokeText(Rc,fc,Sb);ka.angle&&u.restore()}})},pick:wa(function(u,E,aa,ka,lb,Ib){if(0>=E.fontSize)return!1;if(!E.angle)return!0;aa=La(E);u=aa.x1;aa=
aa.y1;ka=vb(Pd,E,1);var Sb=-E.angle*Se;E=Math.cos(Sb);Sb=Math.sin(Sb);return ka.contains(E*lb-Sb*Ib+(u-E*u+Sb*aa),Sb*lb+E*Ib+(aa-Sb*u-E*aa))}),isect:function(u,E){u=vb(Pd,u,2);return U(E,u[0],u[1],u[2],u[3])||U(E,u[0],u[1],u[4],u[5])||U(E,u[4],u[5],u[6],u[7])||U(E,u[2],u[3],u[6],u[7])}},he=Z("trail",function(u,E){return lc.context(u)(E)},function(u,E){for(var aa=u.length,ka,lb;0<=--aa;)if(!1!==u[aa].defined&&(ka=u[aa].x-E[0],lb=u[aa].y-E[1],lb=ka*ka+lb*lb,ka=u[aa].size||1,lb<ka*ka))return u[aa];return null}),
ze={arc:ag,area:df,group:Pb,image:ac,line:ic,path:Qc,rect:Kc,rule:ad,shape:ud,symbol:Nd,text:Fe,trail:he},Sf={mark:null};const be="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
X.prototype={toJSON(u){return vd(this.root,u||0)},mark(u,E,aa){E=E||this.root.items[0];u=za(u,E);E.items[aa]=u;u.zindex&&(u.group.zdirty=!0);return u}};Oa.prototype={initialize(u,E,aa){this._el=u;this._obj=aa||null;return this.origin(E)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(u){return arguments.length?(this._origin=u||[0,0],this):this._origin.slice()},scene(u){if(!arguments.length)return this._scene;this._scene=u;return this},on(){},off(){},_handlerIndex(u,
E,aa){for(let ka=u?u.length:0;0<=--ka;)if(u[ka].type===E&&(!aa||u[ka].handler===aa))return ka;return-1},handlers(u){const E=this._handlers,aa=[];if(u)aa.push(...E[this.eventName(u)]);else for(const ka in E)aa.push(...E[ka]);return aa},eventName(u){const E=u.indexOf(".");return 0>E?u:u.slice(0,E)},handleHref(u,E,aa){this._loader.sanitize(aa,{context:"href"}).then(ka=>{const lb=new MouseEvent(u.type,u),Ib=gb(null,"a");for(const Sb in ka)Ib.setAttribute(Sb,ka[Sb]);Ib.dispatchEvent(lb)}).catch(()=>{})},
handleTooltip(u,E,aa){if(E&&null!=E.tooltip){var ka=this.canvas(),lb=this._origin,Ib=E&&E.mark,Sb;if(Ib&&(Sb=ze[Ib.marktype]).tip){ka=jc(u,ka);ka[0]-=lb[0];for(ka[1]-=lb[1];E=E.mark.group;)ka[0]-=E.x||0,ka[1]-=E.y||0;E=Sb.tip(Ib.items,ka)}this._tooltip.call(this._obj,this,u,E,aa&&E&&E.tooltip||null)}},getItemBoundingClientRect(u){var E=this.canvas();if(E){var aa=E.getBoundingClientRect(),ka=this._origin,lb=u.bounds;E=lb.width();var Ib=lb.height(),Sb=lb.x1+ka[0]+aa.left;for(aa=lb.y1+ka[1]+aa.top;u.mark&&
(u=u.mark.group);)Sb+=u.x||0,aa+=u.y||0;return{x:Sb,y:aa,width:E,height:Ib,left:Sb,top:aa,right:Sb+E,bottom:aa+Ib}}}};Lb.prototype={initialize(u,E,aa,ka,lb){this._el=u;return this.resize(E,aa,ka,lb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(u){if(0===arguments.length)return this._bgcolor;this._bgcolor=u;return this},resize(u,E,aa,ka){this._width=u;this._height=E;this._origin=aa||[0,0];this._scale=ka||1;return this},dirty(){},render(u){const E=this;E._call=
function(){E._render(u)};E._call();E._call=null;return E},_render(){},renderAsync(u){const E=this.render(u);return this._ready?this._ready.then(()=>E):Promise.resolve(E)},_load(u,E){var aa=this;u=aa._loader[u](E);if(!aa._ready){const ka=aa._call;aa._ready=aa._loader.ready().then(lb=>{lb&&ka();aa._ready=null})}return u},sanitizeURL(u){return this._load("sanitizeURL",u)},loadImage(u){return this._load("loadImage",u)}};x.inherits(gc,Oa,{initialize(u,E,aa){this._canvas=u&&Db(u,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(ka=>tc(this,ka));return Oa.prototype.initialize.call(this,u,E,aa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(u){this.fire("mousewheel",u)},mousemove:Mc("mousemove","mouseover","mouseout"),dragover:Mc("dragover","dragenter","dragleave"),
mouseout:Hb("mouseout"),dragleave:Hb("dragleave"),mousedown(u){this._down=this._active;this.fire("mousedown",u)},click(u){this._down===this._active&&(this.fire("click",u),this._down=null)},touchstart(u){this._touch=this.pickEvent(u.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",u,!0)},touchmove(u){this.fire("touchmove",u,!0)},touchend(u){this.fire("touchend",u,!0);this._touch=null},fire(u,E,aa){aa=aa?this._touch:this._active;const ka=this._handlers[u];
E.vegaType=u;"click"===u&&aa&&aa.href?this.handleHref(E,aa,aa.href):("mousemove"===u||"mouseout"===u)&&this.handleTooltip(E,aa,"mouseout"!==u);if(ka)for(let lb=0,Ib=ka.length;lb<Ib;++lb)ka[lb].handler.call(this._obj,E,aa)},on(u,E){const aa=this.eventName(u),ka=this._handlers;0>this._handlerIndex(ka[aa],u,E)&&(tc(this,u),(ka[aa]||(ka[aa]=[])).push({type:u,handler:E}));return this},off(u,E){var aa=this.eventName(u);aa=this._handlers[aa];u=this._handlerIndex(aa,u,E);0<=u&&aa.splice(u,1);return this},
pickEvent(u){u=jc(u,this._canvas);const E=this._origin;return this.pick(this._scene,u[0],u[1],u[0]-E[0],u[1]-E[1])},pick(u,E,aa,ka,lb){const Ib=this.context();return ze[u.marktype].pick.call(this,Ib,u,E,aa,ka,lb)}});var wf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Ce=Lb.prototype;x.inherits(yc,Lb,{initialize(u,E,aa,ka,lb,Ib){this._options=Ib||{};this._canvas=this._options.externalContext?null:Wb.canvas(1,1,this._options.type);u&&this._canvas&&(Gb(u,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Ce.initialize.call(this,u,E,aa,ka,lb)},resize(u,E,aa,ka){Ce.resize.call(this,u,E,aa,ka);if(this._canvas){{u=this._canvas;E=this._width;aa=this._height;ka=this._origin;var lb=this._scale,Ib=this._options.context;const fc="undefined"!==typeof HTMLElement&&u instanceof HTMLElement&&null!=u.parentNode,zc=u.getContext("2d");lb=fc?wf:lb;u.width=E*lb;u.height=aa*lb;for(var Sb in Ib)zc[Sb]=Ib[Sb];fc&&1!==lb&&(u.style.width=E+"px",u.style.height=aa+"px");
zc.pixelRatio=lb;zc.setTransform(lb,0,0,lb,lb*ka[0],lb*ka[1])}}else(Sb=this._options.externalContext)||x.error("CanvasRenderer is missing a valid canvas or context"),Sb.scale(this._scale,this._scale),Sb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(u){const E=this._tempb.clear().union(u.bounds);for(u=u.mark.group;u;)E.translate(u.x||0,u.y||
0),u=u.mark.group;this._dirty.union(E)},_render(u){const E=this.context(),aa=this._origin,ka=this._width,lb=this._height,Ib=this._dirty;var Sb=(new cb).set(0,0,ka,lb).translate(-aa[0],-aa[1]);E.save();this._redraw||Ib.empty()?Sb=(this._redraw=!1,Sb.expand(1)):(Sb=Sb.intersect(Ib),Sb.expand(1).round(),E.pixelRatio%1&&Sb.scale(E.pixelRatio).round().scale(1/E.pixelRatio),Sb.translate(-(aa[0]%1),-(aa[1]%1)),E.beginPath(),E.rect(Sb.x1,Sb.y1,Sb.width(),Sb.height()),E.clip());this.clear(-aa[0],-aa[1],ka,
lb);this.draw(E,u,Sb);E.restore();Ib.clear();return this},draw(u,E,aa){const ka=ze[E.marktype];if(E.clip){var lb=E.clip;u.save();x.isFunction(lb)?(u.beginPath(),lb(u),u.clip()):sa(u,E.group)}ka.draw.call(this,u,E,aa);E.clip&&u.restore()},clear(u,E,aa,ka){const lb=this._options,Ib=this.context();"pdf"===lb.type||lb.externalContext||Ib.clearRect(u,E,aa,ka);null!=this._bgcolor&&(Ib.fillStyle=this._bgcolor,Ib.fillRect(u,E,aa,ka))}});const Kf=(u,E)=>aa=>{let ka=aa.target.__data__;ka=Array.isArray(ka)?
ka[0]:ka;aa.vegaType=aa.type;E.call(u._obj,aa,ka)};x.inherits(Cc,Oa,{initialize(u,E,aa){let ka=this._svg;ka&&(ka.removeEventListener("click",this._hrefHandler),ka.removeEventListener("mousemove",this._tooltipHandler),ka.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ka=u&&Db(u,"svg"))ka.addEventListener("click",this._hrefHandler),ka.addEventListener("mousemove",this._tooltipHandler),ka.addEventListener("mouseout",this._tooltipHandler);return Oa.prototype.initialize.call(this,u,
E,aa)},canvas(){return this._svg},on(u,E){const aa=this.eventName(u),ka=this._handlers;0>this._handlerIndex(ka[aa],u,E)&&(u={type:u,handler:E,listener:Kf(this,E)},(ka[aa]||(ka[aa]=[])).push(u),this._svg&&this._svg.addEventListener(aa,u.listener));return this},off(u,E){const aa=this.eventName(u),ka=this._handlers[aa];u=this._handlerIndex(ka,u,E);0<=u&&(this._svg&&this._svg.removeEventListener(aa,ka[u].listener),ka.splice(u,1));return this}});const ef=(u,E,aa)=>({["role"]:u,["aria-roledescription"]:E,
["aria-label"]:aa||void 0}),gg=x.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),M={axis:{desc:"axis",caption:function(u){var E=u.datum;const aa=u.orient,ka=E.title?od(u):null;var lb=u.context;E=lb.scales[E.scale].value;lb=lb.dataflow.locale();const Ib=E.type;return`${"left"===aa||"right"===aa?"Y":"X"}-axis`+(ka?` titled '${ka}'`:"")+` for a ${ub.isDiscrete(Ib)?"discrete":Ib} scale`+` with ${ub.domainCaption(lb,
E,u)}`}},legend:{desc:"legend",caption:function(u){var E=u.datum;const aa=E.title?od(u):null,ka=`${E.type||""} legend`.trim();var lb=E.scales;E=Object.keys(lb);var Ib=u.context;lb=Ib.scales[lb[E[0]]].value;Ib=Ib.dataflow.locale();return(ka.length?ka[0].toUpperCase()+ka.slice(1):ka)+(aa?` titled '${aa}'`:"")+` for ${qd(E)}`+` with ${ub.domainCaption(Ib,lb,u)}`}},"title-text":{desc:"title",caption:u=>`Title text '${x.array(u.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:u=>`Subtitle text '${x.array(u.text).join(" ")}'`}},
N={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Y=u=>(u+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),ia=u=>Ed(Id(),u)+"",ya={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},
Da={fill:"none","stroke-miterlimit":10},Za=Mb.xmlns,tb=Lb.prototype;x.inherits(Wd,Lb,{initialize(u,E,aa,ka,lb){this._defs={};this._clearDefs();u&&(this._svg=Zb(u,0,"svg",Za),Fd(this._svg,Mb),this._svg.setAttribute("class","marks"),Gb(u,1),this._root=Zb(this._svg,0,"g",Za),Fd(this._root,Da),Gb(this._svg,1));this.background(this._bgcolor);return tb.initialize.call(this,u,E,aa,ka,lb)},background(u){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",u);return tb.background.apply(this,
arguments)},resize(u,E,aa,ka){tb.resize.call(this,u,E,aa,ka);this._svg&&(Fd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const u=this._svg,E=this._bgcolor;if(!u)return null;let aa;E&&(u.removeAttribute("style"),aa=Zb(u,0,"rect",Za),Fd(aa,{width:this._width,height:this._height,fill:E}));const ka=ia(u);
E&&(u.removeChild(aa),this._svg.style.setProperty("background-color",E));return ka},_render(u){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,u),Gb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(u){u.dirty!==this._dirtyID&&(u.dirty=this._dirtyID,this._dirty.push(u))},isDirty(u){return this._dirtyAll||!u._svg||u.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const u=this._dirty;if(!u.length||!this._dirtyID)return!0;const E=++this._dirtyID;
let aa;let ka,lb,Ib,Sb;Ib=0;for(Sb=u.length;Ib<Sb;++Ib){aa=u[Ib];var fc=aa.mark;fc.marktype!==ka&&(ka=fc.marktype,lb=ze[ka]);fc.zdirty&&fc.dirty!==E&&(this._dirtyAll=!1,me(aa,E),fc.items.forEach(zc=>{zc.dirty=E}));fc.zdirty||(aa.exit?(lb.nested&&fc.items.length?(fc=fc.items[0],fc._svg&&this._update(lb,fc._svg,fc)):aa._svg&&(fc=aa._svg.parentNode)&&fc.removeChild(aa._svg),aa._svg=null):(aa=lb.nested?fc.items[0]:aa,aa._update!==E&&(aa._svg&&aa._svg.ownerSVGElement?this._update(lb,aa._svg,aa):(this._dirtyAll=
!1,me(aa,E)),aa._update=E)))}return!this._dirtyAll},mark(u,E,aa){if(!this.isDirty(E))return E._svg;const ka=this._svg,lb=ze[E.marktype];var Ib=!1===E.interactive?"none":null;const Sb="g"===lb.tag;let fc=null,zc=0;const Tc=Ye(E,u,aa,"g",ka);Tc.setAttribute("class",sc(E));u=Ic(E);for(const Rc in u)ee(Tc,Rc,u[Rc]);Sb||ee(Tc,"pointer-events",Ib);ee(Tc,"clip-path",E.clip?hb(this,E,E.group):null);Ib=Rc=>{const yd=this.isDirty(Rc),Md=Ye(Rc,Tc,fc,lb.tag,ka);yd&&(this._update(lb,Md,Rc),Sb&&ye(this,Md,Rc));
fc=Md;++zc};lb.nested?E.items.length&&Ib(E.items[0]):C(E,Ib);Gb(Tc,zc);return Tc},_update(u,E,aa){nb=E;zb=E.__values__;xc(Qe,aa);u.attr(Qe,aa,this);const ka=Eb[u.type];ka&&ka.call(this,u,E,aa);nb&&this.style(nb,aa)},style(u,E){if(null!=E)for(const aa in ya){let ka="font"===aa?ld(E):E[aa];if(ka===zb[aa])continue;const lb=ya[aa];null==ka?u.removeAttribute(lb):(ka&&ka.gradient&&(ka=Qb(ka,this._defs.gradient,ff())),u.setAttribute(lb,ka+""));zb[aa]=ka}},defs(){const u=this._svg,E=this._defs;let aa=E.el;
var ka=0;for(var lb in E.gradient){aa||(E.el=aa=Zb(u,1,"defs",Za));{var Ib=void 0;let zc,Tc;var Sb=aa,fc=E.gradient[lb];"radial"===fc.gradient?(Ib=Zb(Sb,ka++,"pattern",Za),Fd(Ib,{id:"p_"+fc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Ib=Zb(Ib,0,"rect",Za),Fd(Ib,{width:1,height:1,fill:`url(${ff()}#${fc.id})`}),Sb=Zb(Sb,ka++,"radialGradient",Za),Fd(Sb,{id:fc.id,fx:fc.x1,fy:fc.y1,fr:fc.r1,cx:fc.x2,cy:fc.y2,r:fc.r2})):(Sb=Zb(Sb,ka++,"linearGradient",Za),Fd(Sb,
{id:fc.id,x1:fc.x1,x2:fc.x2,y1:fc.y1,y2:fc.y2}));Tc=0;for(zc=fc.stops.length;Tc<zc;++Tc)Ib=Zb(Sb,Tc,"stop",Za),Ib.setAttribute("offset",fc.stops[Tc].offset),Ib.setAttribute("stop-color",fc.stops[Tc].color);Gb(Sb,Tc)}}for(const zc in E.clipping)aa||(E.el=aa=Zb(u,1,"defs",Za)),Sb=aa,fc=E.clipping[zc],lb=ka,Sb=Zb(Sb,lb,"clipPath",Za),Sb.setAttribute("id",fc.id),fc.path?(ka=Zb(Sb,0,"path",Za),ka.setAttribute("d",fc.path)):(ka=Zb(Sb,0,"rect",Za),Fd(ka,{x:0,y:0,width:fc.width,height:fc.height})),Gb(Sb,
1),ka=lb+1;aa&&(0===ka?(u.removeChild(aa),E.el=null):Gb(aa,ka))},_clearDefs(){const u=this._defs;u.gradient={};u.clipping={}}});let nb=null,zb=null;const Eb={group(u,E,aa){const ka=nb=E.childNodes[2];zb=ka.__values__;u.foreground(Qe,aa,this);zb=E.__values__;nb=E.childNodes[1];u.content(Qe,aa,this);E=nb=E.childNodes[0];u.background(Qe,aa,this);u=!1===aa.mark.interactive?"none":null;u!==zb.events&&(ee(ka,"pointer-events",u),ee(E,"pointer-events",u),zb.events=u);aa.strokeForeground&&aa.stroke?(u=aa.fill,
ee(ka,"display",null),this.style(E,aa),ee(E,"stroke",null),u&&(aa.fill=null),zb=ka.__values__,this.style(ka,aa),u&&(aa.fill=u),nb=null):ee(ka,"display","none")},image(u,E,aa){!1===aa.smooth?(Re(E,"image-rendering","optimizeSpeed"),Re(E,"image-rendering","pixelated")):Re(E,"image-rendering",null)},text(u,E,aa){u=Nc(aa);let ka,lb,Ib;x.isArray(u)?(ka=u.map(Sb=>Dd(aa,Sb)),u=ka.join("\n"),u!==zb.text&&(Gb(E,0),lb=E.ownerDocument,Ib=$c(aa),ka.forEach((Sb,fc)=>{const zc=gb(lb,"tspan",Za);zc.__data__=aa;
zc.textContent=Sb;fc&&(zc.setAttribute("x",0),zc.setAttribute("dy",Ib));E.appendChild(zc)}),zb.text=u)):(ka=Dd(aa,u),ka!==zb.text&&(E.textContent=ka,zb.text=ka));ee(E,"font-family",ld(aa));ee(E,"font-size",Xc(aa)+"px");ee(E,"font-style",aa.fontStyle);ee(E,"font-variant",aa.fontVariant);ee(E,"font-weight",aa.fontWeight)}};x.inherits(Oe,Lb,{svg(){return this._text},_render(u){const E=Id();E.open("svg",x.extend({},Mb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));
const aa=this._bgcolor;aa&&"transparent"!==aa&&"none"!==aa&&E.open("rect",{width:this._width,height:this._height,fill:aa}).close();E.open("g",Da,{transform:"translate("+this._origin+")"});this.mark(E,u);E.close();this.defs(E);this._text=E.close()+"";return this},mark(u,E){const aa=ze[E.marktype],ka=aa.tag,lb=[xc,aa.attr];u.open("g",{"class":sc(E),"clip-path":E.clip?hb(this,E,E.group):null},Ic(E),{"pointer-events":"g"!==ka&&!1===E.interactive?"none":null});const Ib=Sb=>{const fc=this.href(Sb);fc&&
u.open("a",fc);u.open(ka,this.attr(E,Sb,lb,"g"!==ka?ka:null));if("text"===ka){var zc=Nc(Sb);if(x.isArray(zc)){var Tc={x:0,dy:$c(Sb)};for(var Rc=0;Rc<zc.length;++Rc)u.open("tspan",Rc?Tc:null).text(Dd(Sb,zc[Rc])).close()}else u.text(Dd(Sb,zc))}else"g"===ka&&(zc=Sb.strokeForeground,Tc=Sb.fill,Rc=Sb.stroke,zc&&Rc&&(Sb.stroke=null),u.open("path",this.attr(E,Sb,aa.background,"bgrect")).close(),u.open("g",this.attr(E,Sb,aa.content)),C(Sb,yd=>this.mark(u,yd)),u.close(),zc&&Rc?(Tc&&(Sb.fill=null),Sb.stroke=
Rc,u.open("path",this.attr(E,Sb,aa.foreground,"bgrect")).close(),Tc&&(Sb.fill=Tc)):u.open("path",this.attr(E,Sb,aa.foreground,"bgfore")).close());u.close();fc&&u.close()};aa.nested?E.items&&E.items.length&&Ib(E.items[0]):C(E,Ib);return u.close()},href(u){const E=u.href;if(E){if(u=this._hrefs&&this._hrefs[E])return u;this.sanitizeURL(E).then(aa=>{aa["xlink:href"]=aa.href;aa.href=null;(this._hrefs||(this._hrefs={}))[E]=aa})}return null},attr(u,E,aa,ka){const lb={},Ib=(Sb,fc,zc,Tc)=>{lb[Tc||Sb]=fc};
Array.isArray(aa)?aa.forEach(Sb=>Sb(Ib,E,this)):aa(Ib,E,this);ka&&Bf(lb,E,u,ka,this._defs);return lb},defs(u){var E=this._defs.gradient;const aa=this._defs.clipping;if(0!==Object.keys(E).length+Object.keys(aa).length){u.open("defs");for(const lb in E){var ka=E[lb];const Ib=ka.stops;"radial"===ka.gradient?(u.open("pattern",{id:"p_"+lb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),u.open("rect",{width:"1",height:"1",fill:"url(#"+lb+")"}).close(),u.close(),u.open("radialGradient",
{id:lb,fx:ka.x1,fy:ka.y1,fr:ka.r1,cx:ka.x2,cy:ka.y2,r:ka.r2})):u.open("linearGradient",{id:lb,x1:ka.x1,x2:ka.x2,y1:ka.y1,y2:ka.y2});for(ka=0;ka<Ib.length;++ka)u.open("stop",{offset:Ib[ka].offset,"stop-color":Ib[ka].color}).close();u.close()}for(const lb in aa)E=aa[lb],u.open("clipPath",{id:lb}),E.path?u.open("path",{d:E.path}).close():u.open("rect",{x:0,y:0,width:E.width,height:E.height}).close(),u.close();u.close()}}});const Yb={};Yb.canvas=Yb.png={renderer:yc,headless:yc,handler:gc};Yb.svg={renderer:Wd,
headless:Oe,handler:Cc};Yb.none={};const pc=new cb;n.Bounds=cb;n.CanvasHandler=gc;n.CanvasRenderer=yc;n.Gradient=function(u,E){var aa=[],ka;return ka={gradient:"linear",x1:u?u[0]:0,y1:u?u[1]:0,x2:E?E[0]:1,y2:E?E[1]:0,stops:aa,stop:function(lb,Ib){aa.push({offset:lb,color:Ib});return ka}}};n.GroupItem=$a;n.Handler=Oa;n.Item=ob;n.Marks=ze;n.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};n.Renderer=Lb;n.ResourceLoader=Q;n.SVGHandler=Cc;n.SVGRenderer=Wd;n.SVGStringRenderer=Oe;n.Scenegraph=
X;n.boundClip=function(u){const E=u.clip;if(x.isFunction(E))E(T(pc.clear()));else if(E)pc.set(0,0,u.group.width,u.group.height);else return;u.bounds.intersect(pc)};n.boundContext=T;n.boundItem=$b;n.boundMark=rd;n.boundStroke=H;n.domChild=Zb;n.domClear=Gb;n.domCreate=gb;n.domFind=Db;n.font=sd;n.fontFamily=ld;n.fontSize=Xc;n.intersect=function(u,E,aa){const ka=[];E=(new cb).union(E);const lb=u.marktype;return lb?Yd(u,E,aa,ka):"group"===lb?Ae(u,E,aa,ka):x.error("Intersect scene must be mark node or group item.")};
n.intersectBoxLine=U;n.intersectPath=ea;n.intersectPoint=pa;n.intersectRule=db;n.lineHeight=$c;n.markup=Id;n.multiLineOffset=function(u){const E=Nc(u);return(x.isArray(E)?E.length-1:0)*$c(u)};n.pathCurves=bb;n.pathEqual=Ad;n.pathParse=qb;n.pathRectangle=Ma;n.pathRender=Wa;n.pathSymbols=Ia;n.pathTrail=ja;n.point=jc;n.renderModule=function(u,E){u=String(u||"").toLowerCase();return 1<arguments.length?(Yb[u]=E,this):Yb[u]};n.resetSVGClipId=function(){Gc=1};n.resetSVGDefIds=function(){Gc=1;ae=0};n.sceneEqual=
re;n.sceneFromJSON=de;n.scenePickVisit=D;n.sceneToJSON=vd;n.sceneVisit=C;n.sceneZOrder=r;n.serializeXML=ia;n.textMetrics=Bd;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[39]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(28),Rb(38),Rb(16)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(this,function(n,x,ca,Sa){function Wb(w){x.Transform.call(this,null,w)}function fb(w,p,r){return p(w.bounds.clear(),w,r)}function ub(w){x.Transform.call(this,
0,w)}function Qb(w){return w._signals[":vega_identifier:"]||(w._signals[":vega_identifier:"]=w.add(0))}function Bb(w){x.Transform.call(this,null,w)}function bb(w){const p=w.groups;w=w.parent;return p&&1===p.size?p.get(Object.keys(p.object)[0]):p&&w?p.lookup(w):null}function qb(w){x.Transform.call(this,null,w)}function sb(w){x.Transform.call(this,null,w)}function Wa(w,p,r){return w[p]===r?0:(w[p]=r,1)}function Ha(w){w=w.items[0].orient;return"left"===w||"right"===w}function Ia(w,p,r,C){p=p.items[0];
var D=p.datum,G=null!=p.translate?p.translate:.5,B=p.orient,fa=+D.grid;var wa=[D.ticks?fa++:-1,D.labels?fa++:-1,fa+ +D.domain];fa=p.range;var la=p.offset,Ta=p.position,Ja=p.minExtent,Z=p.maxExtent;D=D.title&&p.items[wa[2]].items[0];var sa=p.titlePadding,eb=p.bounds,xb=D&&ca.multiLineOffset(D),Kb;ma.clear().union(eb);eb.clear();-1<(Kb=wa[0])&&eb.union(p.items[Kb].bounds);-1<(Kb=wa[1])&&eb.union(p.items[Kb].bounds);switch(B){case "top":r=Ta||0;C=-la;Ja=Math.max(Ja,Math.min(Z,-eb.y1));eb.add(0,-Ja).add(fa,
0);D&&Ya(w,D,Ja,sa,xb,0,-1,eb);break;case "left":r=-la;C=Ta||0;Ja=Math.max(Ja,Math.min(Z,-eb.x1));eb.add(-Ja,0).add(0,fa);D&&Ya(w,D,Ja,sa,xb,1,-1,eb);break;case "right":r+=la;C=Ta||0;Ja=Math.max(Ja,Math.min(Z,eb.x2));eb.add(0,0).add(Ja,fa);D&&Ya(w,D,Ja,sa,xb,1,1,eb);break;case "bottom":r=Ta||0;C+=la;Ja=Math.max(Ja,Math.min(Z,eb.y2));eb.add(0,0).add(fa,Ja);D&&Ya(w,D,Ja,sa,0,0,1,eb);break;default:r=p.x,C=p.y}ca.boundStroke(eb.translate(r,C),p);Wa(p,"x",r+G)|Wa(p,"y",C+G)&&(p.bounds=ma,w.dirty(p),p.bounds=
eb,w.dirty(p));return p.mark.bounds.clear().union(eb)}function Ya(w,p,r,C,D,G,B,fa){const wa=p.bounds;p.auto&&(r=B*(r+D+C),D=C=0,w.dirty(p),G?C=(p.x||0)-(p.x=r):D=(p.y||0)-(p.y=r),p.mark.bounds.clear().union(wa.translate(-C,-D)),w.dirty(p));fa.union(wa)}function mb(w){return(new ca.Bounds).set(0,0,w.width||0,w.height||0)}function Ea(w){const p=w.bounds.clone();return p.empty()?p.set(0,0,0,0):p.translate(-(w.x||0),-(w.y||0))}function Ga(w,p,r){w=Sa.isObject(w)?w[p]:w;return null!=w?w:void 0!==r?r:
0}function jb(w){return 0>w?Math.ceil(-w):0}function Ca(w,p,r){var C=!r.nodirty,D="flush"===r.bounds?mb:Ea,G=ma.set(0,0,0,0),B=Ga(r.align,"column"),fa=Ga(r.align,"row"),wa=Ga(r.padding,"column"),la=Ga(r.padding,"row"),Ta=r.columns||p.length,Ja=0>=Ta?1:Math.ceil(p.length/Ta),Z=p.length,sa=Array(Z),eb=Array(Ta),xb=0,Kb=Array(Z),ec=Array(Ja),Ec=0,gd=Array(Z),Dc=Array(Z),Sc=Array(Z),Ra,nc,kc;for(Ra=0;Ra<Ta;++Ra)eb[Ra]=0;for(Ra=0;Ra<Ja;++Ra)ec[Ra]=0;for(Ra=0;Ra<Z;++Ra){var wc=p[Ra];var Pc=Sc[Ra]=D(wc);
wc.x=wc.x||0;gd[Ra]=0;wc.y=wc.y||0;Dc[Ra]=0;wc=Ra%Ta;var rc=~~(Ra/Ta);xb=Math.max(xb,nc=Math.ceil(Pc.x2));Ec=Math.max(Ec,kc=Math.ceil(Pc.y2));eb[wc]=Math.max(eb[wc],nc);ec[rc]=Math.max(ec[rc],kc);sa[Ra]=wa+jb(Pc.x1);Kb[Ra]=la+jb(Pc.y1);C&&w.dirty(p[Ra])}for(Ra=0;Ra<Z;++Ra)0===Ra%Ta&&(sa[Ra]=0),Ra<Ta&&(Kb[Ra]=0);if("each"===B)for(wc=1;wc<Ta;++wc){D=0;for(Ra=wc;Ra<Z;Ra+=Ta)D<sa[Ra]&&(D=sa[Ra]);for(Ra=wc;Ra<Z;Ra+=Ta)sa[Ra]=D+eb[wc-1]}else if("all"===B){for(Ra=D=0;Ra<Z;++Ra)Ra%Ta&&D<sa[Ra]&&(D=sa[Ra]);
for(Ra=0;Ra<Z;++Ra)Ra%Ta&&(sa[Ra]=D+xb)}else for(B=!1,wc=1;wc<Ta;++wc)for(Ra=wc;Ra<Z;Ra+=Ta)sa[Ra]+=eb[wc-1];if("each"===fa)for(rc=1;rc<Ja;++rc){D=0;Ra=rc*Ta;for(wc=Ra+Ta;Ra<wc;++Ra)D<Kb[Ra]&&(D=Kb[Ra]);for(Ra=rc*Ta;Ra<wc;++Ra)Kb[Ra]=D+ec[rc-1]}else if("all"===fa){D=0;for(Ra=Ta;Ra<Z;++Ra)D<Kb[Ra]&&(D=Kb[Ra]);for(Ra=Ta;Ra<Z;++Ra)Kb[Ra]=D+Ec}else for(fa=!1,rc=1;rc<Ja;++rc)for(Ra=rc*Ta,wc=Ra+Ta;Ra<wc;++Ra)Kb[Ra]+=ec[rc-1];for(Ra=rc=0;Ra<Z;++Ra)rc=sa[Ra]+(Ra%Ta?rc:0),gd[Ra]+=rc-p[Ra].x;for(wc=0;wc<Ta;++wc)for(sa=
0,Ra=wc;Ra<Z;Ra+=Ta)sa+=Kb[Ra],Dc[Ra]+=sa-p[Ra].y;if(B&&Ga(r.center,"column")&&1<Ja)for(Ra=0;Ra<Z;++Ra)Pc="all"===B?xb:eb[Ra%Ta],rc=Pc-Sc[Ra].x2-p[Ra].x-gd[Ra],0<rc&&(gd[Ra]+=rc/2);if(fa&&Ga(r.center,"row")&&1!==Ta)for(Ra=0;Ra<Z;++Ra)Pc="all"===fa?Ec:ec[~~(Ra/Ta)],sa=Pc-Sc[Ra].y2-p[Ra].y-Dc[Ra],0<sa&&(Dc[Ra]+=sa/2);for(Ra=0;Ra<Z;++Ra)G.union(Sc[Ra].translate(gd[Ra],Dc[Ra]));rc=Ga(r.anchor,"x");sa=Ga(r.anchor,"y");switch(Ga(r.anchor,"column")){case "end":rc-=G.width();break;case "middle":rc-=G.width()/
2}switch(Ga(r.anchor,"row")){case "end":sa-=G.height();break;case "middle":sa-=G.height()/2}rc=Math.round(rc);sa=Math.round(sa);G.clear();for(Ra=0;Ra<Z;++Ra)p[Ra].mark.bounds.clear();for(Ra=0;Ra<Z;++Ra)wc=p[Ra],wc.x+=gd[Ra]+=rc,wc.y+=Dc[Ra]+=sa,G.union(wc.mark.bounds.union(wc.bounds.translate(gd[Ra],Dc[Ra]))),C&&w.dirty(wc);return G}function ab(w,p){return"x1"===p?w.x||0:"y1"===p?w.y||0:"x2"===p?(w.x||0)+(w.width||0):"y2"===p?(w.y||0)+(w.height||0):void 0}function Ma(w,p){return w.bounds[p]}function ja(w,
p,r,C,D,G,B,fa,wa,la,Ta,Ja,Z,sa){var eb=r.length,xb=C=0,Kb,ec;if(!eb)return C;for(Kb=Ta;Kb<eb;Kb+=Ja)r[Kb]&&(C=B(C,wa(r[Kb],la)));if(!p.length)return C;p.length>D&&(w.warn("Grid headers exceed limit: "+D),p=p.slice(0,D));C+=G;D=0;for(G=p.length;D<G;++D)w.dirty(p[D]),p[D].mark.bounds.clear();Kb=Ta;D=0;for(G=p.length;D<G;++D,Kb+=Ja){wa=p[D];Ta=wa.mark.bounds;for(eb=Kb;0<=eb&&null==(ec=r[eb]);eb-=Z);if(fa){eb=null==sa?ec.x:Math.round(ec.bounds.x1+sa*ec.bounds.width());var Ec=C}else eb=C,Ec=null==sa?
ec.y:Math.round(ec.bounds.y1+sa*ec.bounds.height());Ta.union(wa.bounds.translate(eb-(wa.x||0),Ec-(wa.y||0)));wa.x=eb;wa.y=Ec;w.dirty(wa);xb=B(xb,Ta[la])}return xb}function Aa(w,p,r,C,D,G){if(p){w.dirty(p);var B=r;C?B=Math.round(D.x1+G*D.width()):r=Math.round(D.y1+G*D.height());p.bounds.translate(B-(p.x||0),r-(p.y||0));p.mark.bounds.clear().union(p.bounds);p.x=B;p.y=r;w.dirty(p)}}function Qa(w,p){const r=w[p]||{};return(C,D)=>null!=r[C]?r[C]:null!=w[C]?w[C]:D}function Xa(w,p){let r=-Infinity;w.forEach(C=>
{null!=C.offset&&(r=Math.max(r,C.offset))});return-Infinity<r?r:p}function hb(w,p,r,C,D,G,B){const fa=Qa(r,p);r=Xa(w,fa("offset",0));const wa=fa("anchor","start"),la="end"===wa?1:"middle"===wa?.5:0;w={align:"each",bounds:fa("bounds","flush"),columns:"vertical"===fa("direction")?1:w.length,padding:fa("margin",8),center:fa("center"),nodirty:!0};switch(p){case "left":w.anchor={x:Math.floor(C.x1)-r,column:"end",y:la*(B||C.height()+2*C.y1),row:wa};break;case "right":w.anchor={x:Math.ceil(C.x2)+r,y:la*
(B||C.height()+2*C.y1),row:wa};break;case "top":w.anchor={y:Math.floor(D.y1)-r,row:"end",x:la*(G||D.width()+2*D.x1),column:wa};break;case "bottom":w.anchor={y:Math.ceil(D.y2)+r,x:la*(G||D.width()+2*D.x1),column:wa};break;case "top-left":w.anchor={x:r,y:r};break;case "top-right":w.anchor={x:G-r,y:r,column:"end"};break;case "bottom-left":w.anchor={x:r,y:B-r,row:"end"};break;case "bottom-right":w.anchor={x:G-r,y:B-r,column:"end",row:"end"}}return w}function cb(w,p){p=p.items[0];var r=p.datum,C=p.orient,
D=p.bounds,G=p.x,B=p.y;p._bounds?p._bounds.clear().union(D):p._bounds=D.clone();D.clear();var fa=p.items[0].items[0];var wa=p.padding,la=wa-fa.x,Ta=wa-fa.y;if(p.datum.title){var Ja=p.items[1].items[0],Z=Ja.anchor,sa=p.titlePadding||0,eb=wa-Ja.x,xb=wa-Ja.y;switch(Ja.orient){case "left":la+=Math.ceil(Ja.bounds.width())+sa;break;case "right":case "bottom":break;default:Ta+=Ja.bounds.height()+sa}(la||Ta)&&Q(w,fa,la,Ta);switch(Ja.orient){case "left":xb+=$a(p,fa,Ja,Z,1,1);break;case "right":eb+=$a(p,fa,
Ja,"end",0,0)+sa;xb+=$a(p,fa,Ja,Z,1,1);break;case "bottom":eb+=$a(p,fa,Ja,Z,0,0);xb+=$a(p,fa,Ja,"end",-1,0,1)+sa;break;default:eb+=$a(p,fa,Ja,Z,0,0)}(eb||xb)&&Q(w,Ja,eb,xb);0>(eb=Math.round(Ja.bounds.x1-wa))&&(Q(w,fa,-eb,0),Q(w,Ja,-eb,0))}else(la||Ta)&&Q(w,fa,la,Ta);D=ob(p,D);w=2*p.padding;fa=2*p.padding;D.empty()||(w=Math.ceil(D.width()+w),fa=Math.ceil(D.height()+fa));"symbol"===r.type&&H(p.items[0].items[0].items[0].items);"none"!==C&&(p.x=G=0,p.y=B=0);p.width=w;p.height=fa;ca.boundStroke(D.set(G,
B,G+w,B+fa),p);p.mark.bounds.clear().union(D);return p}function ob(w,p){w.items.forEach(r=>p.union(r.bounds));p.x1=w.padding;p.y1=w.padding;return p}function $a(w,p,r,C,D,G,B){const fa=r.datum.vgrad;w=("symbol"===w.datum.type||!G&&fa||B?p:p.items[0]).bounds[D?"y2":"x2"]-w.padding;p=fa&&G?w:0;G=fa&&G?0:w;r=0>=D?0:ca.multiLineOffset(r);return Math.round("start"===C?p:"end"===C?G-r:.5*(w-r))}function Q(w,p,r,C){p.x+=r;p.y+=C;p.bounds.translate(r,C);p.mark.bounds.translate(r,C);w.dirty(p)}function H(w){const p=
w.reduce((r,C)=>{r[C.column]=Math.max(C.bounds.x2-C.x,r[C.column]||0);return r},{});w.forEach(r=>{r.width=p[r.column];r.height=r.bounds.y2-r.y})}function T(w,p,r,C,D){var G=p.items[0],B=G.orient,fa=G.anchor,wa=G.offset,la=G.padding,Ta=G.items[0].items[0],Ja=G.items[1]&&G.items[1].items[0],Z="left"===B||"right"===B?C:r,sa=0,eb=r=0;"group"!==G.frame?"left"===B?(sa=D.y2,Z=D.y1):"right"===B?(sa=D.y1,Z=D.y2):(sa=D.x1,Z=D.x2):"left"===B&&(sa=C,Z=0);C="start"===fa?sa:"end"===fa?Z:(sa+Z)/2;if(Ja&&Ja.text){switch(B){case "top":case "bottom":eb=
Ta.bounds.height()+la;break;case "left":r=Ta.bounds.width()+la;break;case "right":r=-Ta.bounds.width()-la}ma.clear().union(Ja.bounds);ma.translate(r-(Ja.x||0),eb-(Ja.y||0));Wa(Ja,"x",r)|Wa(Ja,"y",eb)&&(w.dirty(Ja),Ja.bounds.clear().union(ma),Ja.mark.bounds.clear().union(ma),w.dirty(Ja));ma.clear().union(Ja.bounds)}else ma.clear();ma.union(Ta.bounds);switch(B){case "top":B=C;D=D.y1-ma.height()-wa;break;case "left":B=D.x1-ma.width()-wa;D=C;break;case "right":B=D.x2+ma.width()+wa;D=C;break;case "bottom":B=
C;D=D.y2+wa;break;default:B=G.x,D=G.y}Wa(G,"x",B)|Wa(G,"y",D)&&(ma.translate(B,D),w.dirty(G),G.bounds.clear().union(ma),p.bounds.clear().union(ma),w.dirty(G));return G.bounds}function na(w){x.Transform.call(this,null,w)}function O(w){return w&&"legend-entry"!==w.mark.role}function W(w,p,r){var C=p.items,D=Math.max(0,p.width||0),G=Math.max(0,p.height||0),B=(new ca.Bounds).set(0,0,D,G),fa=B.clone(),wa=B.clone(),la=[],Ta,Ja;var Z=0;for(Ja=C.length;Z<Ja;++Z){var sa=C[Z];switch(sa.role){case "axis":var eb=
Ha(sa)?fa:wa;eb.union(Ia(w,sa,D,G));break;case "title":var xb=sa;break;case "legend":la.push(cb(w,sa));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":fa.union(sa.bounds);wa.union(sa.bounds);break;default:B.union(sa.bounds)}}if(la.length){const Kb={};la.forEach(ec=>{Ta=ec.orient||"right";"none"!==Ta&&(Kb[Ta]||(Kb[Ta]=[])).push(ec)});for(const ec in Kb)C=Kb[ec],Ca(w,C,hb(C,ec,r.legends,fa,wa,D,G));la.forEach(ec=>
{const Ec=ec.bounds;Ec.equals(ec._bounds)||(ec.bounds=ec._bounds,w.dirty(ec),ec.bounds=Ec,w.dirty(ec));if(r.autosize&&"fit"===r.autosize.type)switch(ec.orient){case "left":case "right":B.add(Ec.x1,0).add(Ec.x2,0);break;case "top":case "bottom":B.add(0,Ec.y1).add(0,Ec.y2)}else B.union(Ec)})}B.union(fa).union(wa);xb&&B.union(T(w,xb,D,G,B));p.clip&&B.set(0,0,p.width||0,p.height||0);ea(w,p,B,r)}function ea(w,p,r,C){C=C.autosize||{};const D=C.type;if(!(1>w._autosize)&&D){var G=w._width,B=w._height,fa=
Math.max(0,p.width||0),wa=Math.max(0,Math.ceil(-r.x1));p=Math.max(0,p.height||0);var la=Math.max(0,Math.ceil(-r.y1)),Ta=Math.max(0,Math.ceil(r.x2-fa));r=Math.max(0,Math.ceil(r.y2-p));if("padding"===C.contains){const Ja=w.padding();G-=Ja.left+Ja.right;B-=Ja.top+Ja.bottom}"none"===D?(la=wa=0,fa=G,p=B):"fit"===D?(fa=Math.max(0,G-wa-Ta),p=Math.max(0,B-la-r)):"fit-x"===D?(fa=Math.max(0,G-wa-Ta),B=p+la+r):"fit-y"===D?(G=fa+wa+Ta,p=Math.max(0,B-la-r)):"pad"===D&&(G=fa+wa+Ta,B=p+la+r);w._resizeView(G,B,fa,
p,[wa,la],C.resize)}}Sa.inherits(Wb,x.Transform,{transform(w,p){const r=p.dataflow,C=w.mark,D=C.marktype,G=ca.Marks[D],B=G.bound;let fa=C.bounds,wa;if(G.nested)C.items.length&&r.dirty(C.items[0]),fa=fb(C,B),C.items.forEach(la=>{la.bounds.clear().union(fa)});else if("group"===D||w.modified())switch(p.visit(p.MOD,la=>r.dirty(la)),fa.clear(),C.items.forEach(la=>fa.union(fb(la,B))),C.role){case "axis":case "legend":case "title":p.reflow()}else wa=p.changed(p.REM),p.visit(p.ADD,la=>{fa.union(fb(la,B))}),
p.visit(p.MOD,la=>{wa=wa||fa.alignsWith(la.bounds);r.dirty(la);fa.union(fb(la,B))}),wa&&(fa.clear(),C.items.forEach(la=>fa.union(la.bounds)));ca.boundClip(C);return p.modifies("bounds")}});ub.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Sa.inherits(ub,x.Transform,{transform(w,p){const r=Qb(p.dataflow),C=w.as;let D=r.value;p.visit(p.ADD,G=>G[C]=G[C]||++D);r.set(this.value=D);return p}});Sa.inherits(Bb,x.Transform,{transform(w,p){let r=this.value;
r||(r=p.dataflow.scenegraph().mark(w.markdef,bb(w),w.index),r.group.context=w.context,w.context.group||(w.context.group=r.group),r.source=this.source,r.clip=w.clip,r.interactive=w.interactive,this.value=r);const C="group"===r.marktype?ca.GroupItem:ca.Item;p.visit(p.ADD,D=>C.call(D,r));if(w.modified("clip")||w.modified("interactive"))r.clip=w.clip,r.interactive=!!w.interactive,r.zdirty=!0,p.reflow();r.items=p.source;return p}});const pa={parity:w=>w.filter((p,r)=>r%2?p.opacity=0:1),greedy:(w,p)=>{let r;
return w.filter((C,D)=>D&&Ua(r.bounds,C.bounds,p)?C.opacity=0:(r=C,1))}},Ua=(w,p,r)=>r>Math.max(p.x1-w.x2,w.x1-p.x2,p.y1-w.y2,w.y1-p.y2),db=(w,p)=>{for(var r=1,C=w.length,D=w[0].bounds;r<C;++r)if(Ua(D,D=w[r].bounds,p))return!0},U=w=>{w=w.bounds;return 1<w.width()&&1<w.height()},va=(w,p,r)=>{w=w.range();var C=new ca.Bounds;"top"===p||"bottom"===p?C.set(w[0],-Infinity,w[1],Infinity):C.set(-Infinity,w[0],Infinity,w[1]);C.expand(r||1);return D=>C.encloses(D.bounds)},xa=w=>{w.forEach(p=>p.opacity=1);return w};
Sa.inherits(qb,x.Transform,{transform(w,p){const r=pa[w.method]||pa.parity,C=w.separation||0;let D=p.materialize(p.SOURCE).source,G,B;if(D&&D.length){if(!w.method)return w.modified("method")&&(xa(D),p=p.reflow(w.modified()).modifies("opacity")),p;D=D.filter(U);if(D.length){w.sort&&(D=D.slice().sort(w.sort));G=xa(D);p=p.reflow(w.modified()).modifies("opacity");if(3<=G.length&&db(G,C)){do G=r(G,C);while(3<=G.length&&db(G,C));3>G.length&&!Sa.peek(D).opacity&&(1<G.length&&(Sa.peek(G).opacity=0),Sa.peek(D).opacity=
1)}w.boundScale&&0<=w.boundTolerance&&(B=va(w.boundScale,w.boundOrient,+w.boundTolerance),D.forEach(wa=>{B(wa)||(wa.opacity=0)}));var fa=G[0].mark.bounds.clear();D.forEach(wa=>{wa.opacity&&fa.union(wa.bounds)});return p}}}});Sa.inherits(sb,x.Transform,{transform(w,p){const r=p.dataflow;p.visit(p.ALL,C=>r.dirty(C));p.fields&&p.fields.zindex&&(w=p.source&&p.source[0])&&(w.mark.zdirty=!0)}});const ma=new ca.Bounds,R=(w,p)=>Math.floor(Math.min(w,p)),v=(w,p)=>Math.ceil(Math.max(w,p));Sa.inherits(na,x.Transform,
{transform(w,p){const r=p.dataflow;w.mark.items.forEach(C=>{if(w.layout){var D=w.layout;var G=C.items;for(var B=G.length,fa=0,wa,la,Ta={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};fa<B;++fa)if(wa=G[fa],la=wa.items,"group"===wa.marktype)switch(wa.role){case "axis":case "legend":case "title":break;case "row-header":Ta.rowheaders.push(...la);break;case "row-footer":Ta.rowfooters.push(...la);break;case "column-header":Ta.colheaders.push(...la);break;case "column-footer":Ta.colfooters.push(...la);
break;case "row-title":Ta.rowtitle=la[0];break;case "column-title":Ta.coltitle=la[0];break;default:Ta.marks.push(...la)}G=Ta;la=G.marks;Ta="flush"===D.bounds?ab:Ma;B=D.offset;var Ja=D.columns||la.length,Z=0>=Ja?1:Math.ceil(la.length/Ja),sa=Z*Ja;fa=Ca(r,la,D);fa.empty()&&fa.set(0,0,0,0);if(G.rowheaders){wa=Ga(D.headerBand,"row",null);var eb=ja(r,G.rowheaders,la,Ja,Z,-Ga(B,"rowHeader"),R,0,Ta,"x1",0,Ja,1,wa)}if(G.colheaders){wa=Ga(D.headerBand,"column",null);var xb=ja(r,G.colheaders,la,Ja,Ja,-Ga(B,
"columnHeader"),R,1,Ta,"y1",0,1,Ja,wa)}if(G.rowfooters){wa=Ga(D.footerBand,"row",null);var Kb=ja(r,G.rowfooters,la,Ja,Z,Ga(B,"rowFooter"),v,0,Ta,"x2",Ja-1,Ja,1,wa)}if(G.colfooters){wa=Ga(D.footerBand,"column",null);var ec=ja(r,G.colfooters,la,Ja,Ja,Ga(B,"columnFooter"),v,1,Ta,"y2",sa-Ja,1,Ja,wa)}G.rowtitle&&(wa=Ga(D.titleAnchor,"row"),la=Ga(B,"rowTitle"),la="end"===wa?Kb+la:eb-la,wa=Ga(D.titleBand,"row",.5),Aa(r,G.rowtitle,la,0,fa,wa));G.coltitle&&(wa=Ga(D.titleAnchor,"column"),la=Ga(B,"columnTitle"),
la="end"===wa?ec+la:xb-la,wa=Ga(D.titleBand,"column",.5),Aa(r,G.coltitle,la,1,fa,wa))}W(r,C,w)});return O(w.mark.group)?p.reflow():p}});n.bound=Wb;n.identifier=ub;n.mark=Bb;n.overlap=qb;n.render=sb;n.viewlayout=na;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[40]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(28),Rb(37),Rb(16),Rb(17),Rb(35)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.d3,n.d3))})(this,function(n,x,ca,Sa,Wb,fb){function ub(O){x.Transform.call(this,null,O)}function Qb(O){x.Transform.call(this,null,O)}function Bb(){return x.ingest({})}
function bb(O){const W=Sa.fastmap().test(ea=>ea.exit);W.lookup=ea=>W.get(O(ea));return W}function qb(O){x.Transform.call(this,null,O)}function sb(O){x.Transform.call(this,[],O)}function Wa(O){x.Transform.call(this,{},O)}function Ha(O){x.Transform.call(this,null,O)}function Ia(O){return ca.isContinuous(O)&&O!==ca.Sequential}function Ya(O){x.Transform.call(this,null,O);this.modified(!0)}function mb(O,W,ea){ca.isLogarithmic(O)&&Math.abs(W.reduce((pa,Ua)=>pa+(0>Ua?-1:0<Ua?1:0),0))!==W.length&&ea.warn("Log scale domain includes zero: "+
Sa.stringValue(W));return W}function Ea(O,W,ea){return Sa.isFunction(O)&&(W||ea)?ca.interpolateRange(O,Ga(W||[0,1],ea)):O}function Ga(O,W){return W?O.slice().reverse():O}function jb(O){x.Transform.call(this,null,O)}function Ca(O){x.Transform.call(this,null,O)}function ab(O,W,ea,pa,Ua){W=(W-O.sum)/2;for(var db=O.length,U=0,va;U<db;++U)va=O[U],va[pa]=W,va[Ua]=W+=Math.abs(ea(va))}function Ma(O,W,ea,pa,Ua){W=1/O.sum;for(var db=0,U=O.length,va=0,xa=0,ma;va<U;++va)ma=O[va],ma[pa]=db,ma[Ua]=db=W*(xa+=Math.abs(ea(ma)))}
function ja(O,W,ea,pa,Ua){for(var db=W=0,U=O.length,va=0,xa,ma;va<U;++va)ma=O[va],xa=+ea(ma),0>xa?(ma[pa]=db,ma[Ua]=db+=xa):(ma[pa]=W,ma[Ua]=W+=xa)}function Aa(O,W,ea,pa){var Ua=[],db=w=>w(ma),U;if(null==W)Ua.push(O.slice());else{var va={};var xa=0;for(U=O.length;xa<U;++xa){var ma=O[xa];var R=W.map(db);var v=va[R];v||(va[R]=v=[],Ua.push(v));v.push(ma)}}db=R=0;for(O=Ua.length;R<O;++R){v=Ua[R];W=xa=0;for(U=v.length;xa<U;++xa)W+=Math.abs(pa(v[xa]));v.sum=W;W>db&&(db=W);ea&&v.sort(ea)}Ua.max=db;return Ua}
Sa.inherits(ub,x.Transform,{transform(O,W){if(this.value&&!O.modified())return W.StopPropagation;var ea=W.dataflow.locale();W=W.fork(W.NO_SOURCE|W.NO_FIELDS);var pa=this.value,Ua=O.scale,db=ca.tickCount(Ua,null==O.count?O.values?O.values.length:10:O.count,O.minstep),U=O.format||ca.tickFormat(ea,Ua,db,O.formatSpecifier,O.formatType,!!O.values),va=O.values?ca.validTicks(Ua,O.values,db):ca.tickValues(Ua,db);pa&&(W.rem=pa);pa=va.map((xa,ma)=>x.ingest({index:ma/(va.length-1||1),value:xa,label:U(xa)}));
O.extra&&pa.length&&pa.push(x.ingest({index:-1,extra:{value:pa[0].value},label:""}));W.source=pa;this.value=W.add=pa;return W}});Sa.inherits(Qb,x.Transform,{transform(O,W){var ea=W.dataflow,pa=W.fork(W.NO_SOURCE|W.NO_FIELDS),Ua=O.item||Bb,db=O.key||x.tupleid,U=this.value;Sa.isArray(pa.encode)&&(pa.encode=null);U&&(O.modified("key")||W.modified(db))&&Sa.error("DataJoin does not support modified key function or fields.");U||(W=W.addAll(),this.value=U=bb(db));W.visit(W.ADD,va=>{const xa=db(va);let ma=
U.get(xa);ma?ma.exit?(U.empty--,pa.add.push(ma)):pa.mod.push(ma):(ma=Ua(va),U.set(xa,ma),pa.add.push(ma));ma.datum=va;ma.exit=!1});W.visit(W.MOD,va=>{var xa=db(va);if(xa=U.get(xa))xa.datum=va,pa.mod.push(xa)});W.visit(W.REM,va=>{var xa=db(va);xa=U.get(xa);va!==xa.datum||xa.exit||(pa.rem.push(xa),xa.exit=!0,++U.empty)});W.changed(W.ADD_MOD)&&pa.modifies("datum");(W.clean()||O.clean&&U.empty>ea.cleanThreshold)&&ea.runAfter(U.clean);return pa}});Sa.inherits(qb,x.Transform,{transform(O,W){var ea=W.fork(W.ADD_REM),
pa=O.mod||!1,Ua=O.encoders,db=W.encode;if(Sa.isArray(db))if(ea.changed()||db.every(v=>Ua[v]))db=db[0],ea.encode=null;else return W.StopPropagation;var U="enter"===db,va=Ua.update||Sa.falsy,xa=Ua.enter||Sa.falsy,ma=Ua.exit||Sa.falsy,R=(db&&!U?Ua[db]:va)||Sa.falsy;W.changed(W.ADD)&&(W.visit(W.ADD,v=>{xa(v,O);va(v,O)}),ea.modifies(xa.output),ea.modifies(va.output),R!==Sa.falsy&&R!==va&&(W.visit(W.ADD,v=>{R(v,O)}),ea.modifies(R.output)));W.changed(W.REM)&&ma!==Sa.falsy&&(W.visit(W.REM,v=>{ma(v,O)}),ea.modifies(ma.output));
if(U||R!==Sa.falsy)db=W.MOD|(O.modified()?W.REFLOW:0),U?(W.visit(db,v=>{const w=xa(v,O)||pa;(R(v,O)||w)&&ea.mod.push(v)}),ea.mod.length&&ea.modifies(xa.output)):W.visit(db,v=>{(R(v,O)||pa)&&ea.mod.push(v)}),ea.mod.length&&ea.modifies(R.output);return ea.changed()?ea:W.StopPropagation}});Sa.inherits(sb,x.Transform,{transform(O,W){if(null!=this.value&&!O.modified())return W.StopPropagation;var ea=W.dataflow.locale(),pa=W.fork(W.NO_SOURCE|W.NO_FIELDS),Ua=this.value,db=O.type||ca.SymbolLegend,U=O.scale,
va=+O.limit,xa=ca.tickCount(U,null==O.count?5:O.count,O.minstep),ma=!!O.values||db===ca.SymbolLegend,R=O.format||ca.labelFormat(ea,U,xa,db,O.formatSpecifier,O.formatType,ma),v=O.values||ca.labelValues(U,xa),w;Ua&&(pa.rem=Ua);if(db===ca.SymbolLegend){if(va&&v.length>va){W.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ua=v.slice(0,va-1);var p=!0}else Ua=v;if(Sa.isFunction(w=O.size)){O.values||0!==U(Ua[0])||(Ua=Ua.slice(1));var r=Ua.reduce((D,G)=>Math.max(D,w(G,O)),0)}else w=Sa.constant(r=
w||8);Ua=Ua.map((D,G)=>x.ingest({index:G,label:R(D,G,Ua),value:D,offset:r,size:w(D,O)}));p&&(p=v[Ua.length],Ua.push(x.ingest({index:Ua.length,label:`\u2026${v.length-Ua.length} entries`,value:p,offset:r,size:w(p,O)})))}else if(db===ca.GradientLegend){W=U.domain();var C=ca.scaleFraction(U,W[0],Sa.peek(W));3>v.length&&!O.values&&W[0]!==Sa.peek(W)&&(v=[W[0],Sa.peek(W)]);Ua=v.map((D,G)=>x.ingest({index:G,label:R(D,G,v),value:D,perc:C(D)}))}else w=v.length-1,C=ca.labelFraction(U),Ua=v.map((D,G)=>x.ingest({index:G,
label:R(D,G,v),value:D,perc:G?C(D):0,perc2:G===w?1:C(v[G+1])}));pa.source=Ua;this.value=pa.add=Ua;return pa}});const Qa=O=>O.source.x,Xa=O=>O.source.y,hb=O=>O.target.x,cb=O=>O.target.y;Wa.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Sa.inherits(Wa,x.Transform,{transform(O,W){var ea=O.sourceX||Qa,pa=O.sourceY||Xa,Ua=O.targetX||hb,db=O.targetY||cb,U=O.as||"path",va=O.shape||"line",xa=H.get(va+"-"+(O.orient||"vertical"))||H.get(va);xa||Sa.error("LinkPath unsupported type: "+O.shape+(O.orient?"-"+O.orient:""));W.visit(W.SOURCE,ma=>{ma[U]=
xa(ea(ma),pa(ma),Ua(ma),db(ma))});return W.reflow(O.modified()).modifies(U)}});const ob=(O,W,ea,pa)=>"M"+O+","+W+"L"+ea+","+pa,$a=(O,W,ea,pa)=>{var Ua=ea-O,db=pa-W,U=Math.sqrt(Ua*Ua+db*db)/2;return"M"+O+","+W+"A"+U+","+U+" "+180*Math.atan2(db,Ua)/Math.PI+" 0 1 "+ea+","+pa},Q=(O,W,ea,pa)=>{var Ua=ea-O;const db=pa-W,U=.2*(Ua+db);Ua=.2*(db-Ua);return"M"+O+","+W+"C"+(O+U)+","+(W+Ua)+" "+(ea+Ua)+","+(pa-U)+" "+ea+","+pa},H=Sa.fastmap({line:ob,"line-radial":(O,W,ea,pa)=>ob(W*Math.cos(O),W*Math.sin(O),pa*
Math.cos(ea),pa*Math.sin(ea)),arc:$a,"arc-radial":(O,W,ea,pa)=>$a(W*Math.cos(O),W*Math.sin(O),pa*Math.cos(ea),pa*Math.sin(ea)),curve:Q,"curve-radial":(O,W,ea,pa)=>Q(W*Math.cos(O),W*Math.sin(O),pa*Math.cos(ea),pa*Math.sin(ea)),"orthogonal-horizontal":(O,W,ea,pa)=>"M"+O+","+W+"V"+pa+"H"+ea,"orthogonal-vertical":(O,W,ea,pa)=>"M"+O+","+W+"H"+ea+"V"+pa,"orthogonal-radial":(O,W,ea,pa)=>{const Ua=Math.cos(ea),db=Math.sin(ea);return"M"+W*Math.cos(O)+","+W*Math.sin(O)+"A"+W+","+W+" 0 0,"+((Math.abs(ea-O)>
Math.PI?ea<=O:ea>O)?1:0)+" "+W*Ua+","+W*db+"L"+pa*Ua+","+pa*db},"diagonal-horizontal":(O,W,ea,pa)=>{const Ua=(O+ea)/2;return"M"+O+","+W+"C"+Ua+","+W+" "+Ua+","+pa+" "+ea+","+pa},"diagonal-vertical":(O,W,ea,pa)=>{const Ua=(W+pa)/2;return"M"+O+","+W+"C"+O+","+Ua+" "+ea+","+Ua+" "+ea+","+pa},"diagonal-radial":(O,W,ea,pa)=>{const Ua=Math.cos(O);O=Math.sin(O);const db=Math.cos(ea);ea=Math.sin(ea);const U=(W+pa)/2;return"M"+W*Ua+","+W*O+"C"+U*Ua+","+U*O+" "+U*db+","+U*ea+" "+pa*db+","+pa*ea}});Ha.Definition=
{type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Sa.inherits(Ha,x.Transform,{transform(O,W){var ea=O.as||["startAngle","endAngle"],pa=ea[0],Ua=ea[1],db=O.startAngle||0,U=null!=O.endAngle?O.endAngle:2*Math.PI,va=W.source,xa=va.map(O.field||Sa.one),ma=
xa.length,R=db;db=(U-db)/Wb.sum(xa);U=Wb.range(ma);var v;O.sort&&U.sort((r,C)=>xa[r]-xa[C]);for(v=0;v<ma;++v){var w=xa[U[v]];var p=va[U[v]];p[pa]=R;p[Ua]=R+=w*db}this.value=xa;return W.reflow(O.modified()).modifies(ea)}});const T=Sa.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));Sa.inherits(Ya,x.Transform,{transform(O,W){var ea=W.dataflow,
pa=this.value;var Ua=O.type;var db="";if(Ua===ca.Sequential)Ua=ca.Sequential+"-"+ca.Linear;else{var U=O.type;if(U=ca.isContinuous(U)&&U!==ca.Time&&U!==ca.UTC&&(O.scheme||O.range&&O.range.length&&O.range.every(Sa.isString)))db=O.rawDomain?O.rawDomain.length:O.domain?O.domain.length+ +(null!=O.domainMid):0,db=2===db?ca.Sequential+"-":3===db?ca.Diverging+"-":"";Ua=(db+Ua||ca.Linear).toLowerCase()}pa&&Ua===pa.type||(this.value=pa=ca.scale(Ua)());for(Ua in O)T[Ua]||"padding"===Ua&&Ia(pa.type)||(Sa.isFunction(pa[Ua])?
pa[Ua](O[Ua]):ea.warn("Unsupported scale property: "+Ua));db=Ua=pa;(U=O.domainRaw)?(pa.domain(mb(pa.type,U,ea)),U=U.length):U=-1;if(-1<U)ea=U;else{var va=O.domain;U=pa.type;var xa;!(xa=O.zero)&&(xa=void 0===O.zero)&&(xa=pa.type,xa=!pa.bins&&(xa===ca.Linear||xa===ca.Pow||xa===ca.Sqrt));if(va){if(Ia(U)&&O.padding&&va[0]!==Sa.peek(va)){var ma=O.range,R=O.padding;var v=O.exponent;var w=O.constant;ma=Math.abs(Sa.peek(ma)-ma[0]);R=ma/(ma-2*R);v=U===ca.Log?Sa.zoomLog(va,null,R):U===ca.Sqrt?Sa.zoomPow(va,
null,R,.5):U===ca.Pow?Sa.zoomPow(va,null,R,v||1):U===ca.Symlog?Sa.zoomSymlog(va,null,R,w||1):Sa.zoomLinear(va,null,R);va=va.slice();va[0]=v[0];va[va.length-1]=v[1]}if(xa||null!=O.domainMin||null!=O.domainMax||null!=O.domainMid)v=(va=va.slice()).length-1||1,xa&&(0<va[0]&&(va[0]=0),0>va[v]&&(va[v]=0)),null!=O.domainMin&&(va[0]=O.domainMin),null!=O.domainMax&&(va[v]=O.domainMax),null!=O.domainMid&&(xa=O.domainMid,w=xa>va[v]?v+1:xa<va[0]?0:v,w!==v&&ea.warn("Scale domainMid exceeds domain min or max.",
xa),va.splice(w,0,xa));pa.domain(mb(U,va,ea));U===ca.Ordinal&&pa.unknown(O.domainImplicit?ca.scaleImplicit:void 0);O.nice&&pa.nice&&pa.nice(!0!==O.nice&&ca.tickCount(pa,O.nice)||null);ea=va.length}else ea=0}(U=O.bins)&&!Sa.isArray(U)&&(xa=db.domain(),pa=xa[0],xa=Sa.peek(xa),va=U.step,v=null==U.start?pa:U.start,U=null==U.stop?xa:U.stop,va||Sa.error("Scale bins parameter missing step property."),v<pa&&(v=va*Math.ceil(pa/va)),U>xa&&(U=va*Math.floor(xa/va)),U=Wb.range(v,U+va/2,va));U?db.bins=U:db.bins&&
delete db.bins;db.type===ca.BinOrdinal&&(U?O.domain||O.domainRaw||(db.domain(U),ea=U.length):db.bins=db.domain());pa=ea;a:{db=Ua.type;ea=O.round||!1;U=O.range;if(null!=O.rangeStep)db!==ca.Band&&db!==ca.Point&&Sa.error("Only band and point scales support rangeStep."),U=[0,O.rangeStep*ca.bandSpace(pa,db===ca.Point?1:(null!=O.paddingInner?O.paddingInner:O.padding)||0,(null!=O.paddingOuter?O.paddingOuter:O.padding)||0)];else if(O.scheme&&(U=O.schemeExtent,Sa.isArray(O.scheme)?xa=ca.interpolateColors(O.scheme,
O.interpolate,O.interpolateGamma):(xa=O.scheme.toLowerCase(),(xa=ca.scheme(xa))||Sa.error(`Unrecognized scheme name: ${O.scheme}`)),pa=db===ca.Threshold?pa+1:db===ca.BinOrdinal?pa-1:db===ca.Quantile||db===ca.Quantize?+O.schemeCount||5:pa,U=ca.isInterpolating(db)?Ea(xa,U,O.reverse):Sa.isFunction(xa)?ca.quantizeInterpolator(Ea(xa,U),pa):db===ca.Ordinal?xa:xa.slice(0,pa),Sa.isFunction(U)))if(Ua.interpolator){Ua.interpolator(U);break a}else Sa.error(`Scale type ${db} does not support interpolating color schemes.`);
U&&ca.isInterpolating(db)?Ua.interpolator(ca.interpolateColors(Ga(U,O.reverse),O.interpolate,O.interpolateGamma)):(U&&O.interpolate&&Ua.interpolate?Ua.interpolate(ca.interpolate(O.interpolate,O.interpolateGamma)):Sa.isFunction(Ua.round)?Ua.round(ea):Sa.isFunction(Ua.rangeRound)&&Ua.interpolate(ea?fb.interpolateRound:fb.interpolate),U&&Ua.range(Ga(U,O.reverse)))}return W.fork(W.NO_SOURCE|W.NO_FIELDS)}});Sa.inherits(jb,x.Transform,{transform(O,W){const ea=O.modified("sort")||W.changed(W.ADD)||W.modified(O.sort.fields)||
W.modified("datum");ea&&W.source.sort(x.stableCompare(O.sort));this.modified(ea);return W}});const na=["y0","y1"];Ca.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":na}]};Sa.inherits(Ca,x.Transform,{transform(O,W){var ea=O.as||na,pa=ea[0],Ua=ea[1],db=x.stableCompare(O.sort),
U=O.field||Sa.one,va="center"===O.offset?ab:"normalize"===O.offset?Ma:ja,xa;db=Aa(W.source,O.groupby,db,U);var ma=0;var R=db.length;for(xa=db.max;ma<R;++ma)va(db[ma],xa,U,pa,Ua);return W.reflow(O.modified()).modifies(ea)}});n.axisticks=ub;n.datajoin=Qb;n.encode=qb;n.legendentries=sb;n.linkpath=Wa;n.pie=Ha;n.scale=Ya;n.sortitems=jb;n.stack=Ca;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[41]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(17)):"function"===typeof define&&define.amd?define(["exports","d3-array"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ca(oa){return 1<oa?0:-1>oa?Yd:Math.acos(oa)}function Sa(oa){return 1<oa?Ae:-1>oa?-Ae:Math.asin(oa)}function Wb(oa){return(oa=bc(oa/2))*oa}function fb(){}function ub(oa,Pa){if(oa&&kf.hasOwnProperty(oa.type))kf[oa.type](oa,Pa)}function Qb(oa,Pa,pb){var Cb=
-1;pb=oa.length-pb;for(Pa.lineStart();++Cb<pb;){var Ub=oa[Cb];Pa.point(Ub[0],Ub[1],Ub[2])}Pa.lineEnd()}function Bb(oa,Pa){var pb=-1,Cb=oa.length;for(Pa.polygonStart();++pb<Cb;)Qb(oa[pb],Pa,1);Pa.polygonEnd()}function bb(oa,Pa){if(oa&&Cf.hasOwnProperty(oa.type))Cf[oa.type](oa,Pa);else ub(oa,Pa)}function qb(){Vb.point=Wa}function sb(){Ha(K,S)}function Wa(oa,Pa){Vb.point=Ha;K=oa;S=Pa;oa*=Ld;Pa*=Ld;ua=oa;Ka=Jd(Pa=Pa/2+cf);Va=bc(Pa)}function Ha(oa,Pa){oa*=Ld;Pa*=Ld;Pa=Pa/2+cf;var pb=oa-ua,Cb=0<=pb?1:-1,
Ub=Cb*pb;pb=Jd(Pa);Pa=bc(Pa);var c=Va*Pa,m=Ka*pb+c*Jd(Ub);Cb=c*Cb*bc(Ub);tf.add(De(Cb,m));ua=oa;Ka=pb;Va=Pa}function Ia(oa){return[De(oa[1],oa[0]),Sa(oa[2])]}function Ya(oa){var Pa=oa[0];oa=oa[1];var pb=Jd(oa);return[pb*Jd(Pa),pb*bc(Pa),bc(oa)]}function mb(oa,Pa){return oa[0]*Pa[0]+oa[1]*Pa[1]+oa[2]*Pa[2]}function Ea(oa,Pa){return[oa[1]*Pa[2]-oa[2]*Pa[1],oa[2]*Pa[0]-oa[0]*Pa[2],oa[0]*Pa[1]-oa[1]*Pa[0]]}function Ga(oa,Pa){oa[0]+=Pa[0];oa[1]+=Pa[1];oa[2]+=Pa[2]}function jb(oa,Pa){return[oa[0]*Pa,oa[1]*
Pa,oa[2]*Pa]}function Ca(oa){var Pa=pe(oa[0]*oa[0]+oa[1]*oa[1]+oa[2]*oa[2]);oa[0]/=Pa;oa[1]/=Pa;oa[2]/=Pa}function ab(oa,Pa){le.push(Te=[lc=oa,uc=oa]);Pa<Gc&&(Gc=Pa);Pa>Fc&&(Fc=Pa)}function Ma(oa,Pa){var pb=Ya([oa*Ld,Pa*Ld]);if(xd){var Cb=Ea(xd,pb);Cb=Ea([Cb[1],-Cb[0],0],Cb);Ca(Cb);Cb=Ia(Cb);var Ub=oa-id,c=0<Ub?1:-1,m=Cb[0]*Ad*c;Ub=180<ae(Ub);Ub^(c*id<m&&m<c*oa)?(Cb=Cb[1]*Ad,Cb>Fc&&(Fc=Cb)):(m=(m+360)%360-180,Ub^(c*id<m&&m<c*oa))?(Cb=-Cb[1]*Ad,Cb<Gc&&(Gc=Cb)):(Pa<Gc&&(Gc=Pa),Pa>Fc&&(Fc=Pa));Ub?oa<
id?cb(lc,oa)>cb(lc,uc)&&(uc=oa):cb(oa,uc)>cb(lc,uc)&&(lc=oa):uc>=lc?(oa<lc&&(lc=oa),oa>uc&&(uc=oa)):oa>id?cb(lc,oa)>cb(lc,uc)&&(uc=oa):cb(oa,uc)>cb(lc,uc)&&(lc=oa)}else le.push(Te=[lc=oa,uc=oa]);Pa<Gc&&(Gc=Pa);Pa>Fc&&(Fc=Pa);xd=pb;id=oa}function ja(){Me.point=Ma}function Aa(){Te[0]=lc;Te[1]=uc;Me.point=ab;xd=null}function Qa(oa,Pa){if(xd){var pb=oa-id;zd.add(180<ae(pb)?pb+(0<pb?360:-360):pb)}else fd=oa,se=Pa;Vb.point(oa,Pa);Ma(oa,Pa)}function Xa(){Vb.lineStart()}function hb(){Qa(fd,se);Vb.lineEnd();
1E-6<ae(zd)&&(lc=-(uc=180));Te[0]=lc;Te[1]=uc;xd=null}function cb(oa,Pa){return 0>(Pa-=oa)?Pa+360:Pa}function ob(oa,Pa){return oa[0]-Pa[0]}function $a(oa,Pa){return oa[0]<=oa[1]?oa[0]<=Pa&&Pa<=oa[1]:Pa<oa[0]||oa[1]<Pa}function Q(oa,Pa){oa*=Ld;Pa*=Ld;var pb=Jd(Pa);H(pb*Jd(oa),pb*bc(oa),bc(Pa))}function H(oa,Pa,pb){++uf;pd+=(oa-pd)/uf;Ue+=(Pa-Ue)/uf;Le+=(pb-Le)/uf}function T(){ic.point=na}function na(oa,Pa){oa*=Ld;Pa*=Ld;var pb=Jd(Pa);Pb=pb*Jd(oa);Mb=pb*bc(oa);ac=bc(Pa);ic.point=O;H(Pb,Mb,ac)}function O(oa,
Pa){oa*=Ld;Pa*=Ld;var pb=Jd(Pa),Cb=pb*Jd(oa);oa=pb*bc(oa);Pa=bc(Pa);var Ub=De(pe((Ub=Mb*Pa-ac*oa)*Ub+(Ub=ac*Cb-Pb*Pa)*Ub+(Ub=Pb*oa-Mb*Cb)*Ub),Pb*Cb+Mb*oa+ac*Pa);Zf+=Ub;Ze+=Ub*(Pb+(Pb=Cb));$f+=Ub*(Mb+(Mb=oa));vf+=Ub*(ac+(ac=Pa));H(Pb,Mb,ac)}function W(){ic.point=Q}function ea(){ic.point=Ua}function pa(){db(da,kb);ic.point=Q}function Ua(oa,Pa){da=oa;kb=Pa;oa*=Ld;Pa*=Ld;ic.point=db;var pb=Jd(Pa);Pb=pb*Jd(oa);Mb=pb*bc(oa);ac=bc(Pa);H(Pb,Mb,ac)}function db(oa,Pa){oa*=Ld;Pa*=Ld;var pb=Jd(Pa),Cb=pb*Jd(oa);
oa=pb*bc(oa);Pa=bc(Pa);pb=Mb*Pa-ac*oa;var Ub=ac*Cb-Pb*Pa,c=Pb*oa-Mb*Cb,m=Ac(pb,Ub,c),F=Sa(m);m=m&&-F/m;ag.add(m*pb);df.add(m*Ub);J.add(m*c);Zf+=F;Ze+=F*(Pb+(Pb=Cb));$f+=F*(Mb+(Mb=oa));vf+=F*(ac+(ac=Pa));H(Pb,Mb,ac)}function U(oa){return function(){return oa}}function va(oa,Pa){function pb(Cb,Ub){return Cb=oa(Cb,Ub),Pa(Cb[0],Cb[1])}oa.invert&&Pa.invert&&(pb.invert=function(Cb,Ub){return Cb=Pa.invert(Cb,Ub),Cb&&oa.invert(Cb[0],Cb[1])});return pb}function xa(oa,Pa){return[ae(oa)>Yd?oa+Math.round(-oa/
re)*re:oa,Pa]}function ma(oa,Pa,pb){return(oa%=re)?Pa||pb?va(v(oa),w(Pa,pb)):v(oa):Pa||pb?w(Pa,pb):xa}function R(oa){return function(Pa,pb){return Pa+=oa,[Pa>Yd?Pa-re:Pa<-Yd?Pa+re:Pa,pb]}}function v(oa){var Pa=R(oa);Pa.invert=R(-oa);return Pa}function w(oa,Pa){function pb(F,ha){var Fa=Jd(ha),Ob=Jd(F)*Fa;F=bc(F)*Fa;ha=bc(ha);Fa=ha*Cb+Ob*Ub;return[De(F*c-Fa*m,Ob*Cb-ha*Ub),Sa(Fa*c+F*m)]}var Cb=Jd(oa),Ub=bc(oa),c=Jd(Pa),m=bc(Pa);pb.invert=function(F,ha){var Fa=Jd(ha),Ob=Jd(F)*Fa;F=bc(F)*Fa;ha=bc(ha);
Fa=ha*c-F*m;return[De(F*c+ha*m,Ob*Cb+Fa*Ub),Sa(Fa*Cb-Ob*Ub)]};return pb}function p(oa){function Pa(pb){pb=oa(pb[0]*Ld,pb[1]*Ld);return pb[0]*=Ad,pb[1]*=Ad,pb}oa=ma(oa[0]*Ld,oa[1]*Ld,2<oa.length?oa[2]*Ld:0);Pa.invert=function(pb){pb=oa.invert(pb[0]*Ld,pb[1]*Ld);return pb[0]*=Ad,pb[1]*=Ad,pb};return Pa}function r(oa,Pa,pb,Cb,Ub,c){if(pb){var m=Jd(Pa),F=bc(Pa);pb*=Cb;if(null==Ub)Ub=Pa+Cb*re,c=Pa-pb/2;else if(Ub=C(m,Ub),c=C(m,c),0<Cb?Ub<c:Ub>c)Ub+=Cb*re;for(;0<Cb?Ub>c:Ub<c;Ub-=pb)Pa=Ia([m,-F*Jd(Ub),-F*
bc(Ub)]),oa.point(Pa[0],Pa[1])}}function C(oa,Pa){Pa=Ya(Pa);Pa[0]-=oa;Ca(Pa);oa=ca(-Pa[1]);return((0>-Pa[2]?-oa:oa)+re-1E-6)%re}function D(){var oa=[],Pa;return{point:function(pb,Cb,Ub){Pa.push([pb,Cb,Ub])},lineStart:function(){oa.push(Pa=[])},lineEnd:fb,rejoin:function(){1<oa.length&&oa.push(oa.pop().concat(oa.shift()))},result:function(){var pb=oa;oa=[];Pa=null;return pb}}}function G(oa,Pa){return 1E-6>ae(oa[0]-Pa[0])&&1E-6>ae(oa[1]-Pa[1])}function B(oa,Pa,pb,Cb){this.x=oa;this.z=Pa;this.o=pb;this.e=
Cb;this.v=!1;this.n=this.p=null}function fa(oa,Pa,pb,Cb,Ub){var c=[],m=[];oa.forEach(function(Tb){if(!(0>=(cc=Tb.length-1))){var cc,vc=Tb[0],hd=Tb[cc];if(G(vc,hd)){if(!vc[2]&&!hd[2]){Ub.lineStart();for(F=0;F<cc;++F)Ub.point((vc=Tb[F])[0],vc[1]);Ub.lineEnd();return}hd[0]+=2E-6}c.push(cc=new B(vc,Tb,null,!0));m.push(cc.o=new B(vc,null,cc,!1));c.push(cc=new B(hd,Tb,null,!1));m.push(cc.o=new B(hd,null,cc,!0))}});if(c.length){m.sort(Pa);wa(c);wa(m);var F=0;for(oa=m.length;F<oa;++F)m[F].e=pb=!pb;pb=c[0];
for(var ha;;){for(var Fa=pb,Ob=!0;Fa.v;)if((Fa=Fa.n)===pb)return;Pa=Fa.z;Ub.lineStart();do{Fa.v=Fa.o.v=!0;if(Fa.e){if(Ob)for(F=0,oa=Pa.length;F<oa;++F)Ub.point((ha=Pa[F])[0],ha[1]);else Cb(Fa.x,Fa.n.x,1,Ub);Fa=Fa.n}else{if(Ob)for(Pa=Fa.p.z,F=Pa.length-1;0<=F;--F)Ub.point((ha=Pa[F])[0],ha[1]);else Cb(Fa.x,Fa.p.x,-1,Ub);Fa=Fa.p}Fa=Fa.o;Pa=Fa.z;Ob=!Ob}while(!Fa.v);Ub.lineEnd()}}}function wa(oa){if(Pa=oa.length){for(var Pa,pb=0,Cb=oa[0],Ub;++pb<Pa;)Cb.n=Ub=oa[pb],Ub.p=Cb,Cb=Ub;Cb.n=Ub=oa[0];Ub.p=Cb}}
function la(oa){return ae(oa[0])<=Yd?oa[0]:Je(oa[0])*((ae(oa[0])+Yd)%re-Yd)}function Ta(oa,Pa){var pb=la(Pa);Pa=Pa[1];var Cb=bc(Pa),Ub=[bc(pb),-Jd(pb),0],c=0,m=0,F=new x.Adder;1===Cb?Pa=Ae+1E-6:-1===Cb&&(Pa=-Ae-1E-6);Cb=0;for(var ha=oa.length;Cb<ha;++Cb)if(Ob=(Fa=oa[Cb]).length){var Fa,Ob,Tb=Fa[Ob-1],cc=la(Tb),vc=Tb[1]/2+cf,hd=bc(vc),nd=Jd(vc);for(vc=0;vc<Ob;++vc,cc=$d,hd=Vd,nd=Hd,Tb=ie){var ie=Fa[vc],$d=la(ie);Hd=ie[1]/2+cf;var Vd=bc(Hd),Hd=Jd(Hd),md=$d-cc,ce=0<=md?1:-1,bf=ce*md,qf=bf>Yd;hd*=Vd;
F.add(De(hd*ce*bc(bf),nd*Hd+hd*Jd(bf)));c+=qf?md+ce*re:md;qf^cc>=pb^$d>=pb&&(Tb=Ea(Ya(Tb),Ya(ie)),Ca(Tb),cc=Ea(Ub,Tb),Ca(cc),cc=(qf^0<=md?-1:1)*Sa(cc[2]),Pa>cc||Pa===cc&&(Tb[0]||Tb[1]))&&(m+=qf^0<=md?1:-1)}}return(-1E-6>c||1E-6>c&&-1E-12>F)^m&1}function Ja(oa,Pa,pb,Cb){return function(Ub){function c(md,ce){oa(md,ce)&&Ub.point(md,ce)}function m(md,ce){cc.point(md,ce)}function F(){Hd.point=m;cc.lineStart()}function ha(){Hd.point=c;cc.lineEnd()}function Fa(md,ce){Vd.push([md,ce]);hd.point(md,ce)}function Ob(){hd.lineStart();
Vd=[]}function Tb(){Fa(Vd[0][0],Vd[0][1]);hd.lineEnd();var md=hd.clean(),ce=vc.result(),bf=ce.length,qf;Vd.pop();ie.push(Vd);Vd=null;if(bf)if(md&1){if(bf=ce[0],0<(ce=bf.length-1)){nd||(Ub.polygonStart(),nd=!0);Ub.lineStart();for(md=0;md<ce;++md)Ub.point((qf=bf[md])[0],qf[1]);Ub.lineEnd()}}else 1<bf&&md&2&&ce.push(ce.pop().concat(ce.shift())),$d.push(ce.filter(Z))}var cc=Pa(Ub),vc=D(),hd=Pa(vc),nd=!1,ie,$d,Vd,Hd={point:c,lineStart:F,lineEnd:ha,polygonStart:function(){Hd.point=Fa;Hd.lineStart=Ob;Hd.lineEnd=
Tb;$d=[];ie=[]},polygonEnd:function(){Hd.point=c;Hd.lineStart=F;Hd.lineEnd=ha;$d=x.merge($d);var md=Ta(ie,Cb);$d.length?(nd||(Ub.polygonStart(),nd=!0),fa($d,sa,md,pb,Ub)):md&&(nd||(Ub.polygonStart(),nd=!0),Ub.lineStart(),pb(null,null,1,Ub),Ub.lineEnd());nd&&(Ub.polygonEnd(),nd=!1);$d=ie=null},sphere:function(){Ub.polygonStart();Ub.lineStart();pb(null,null,1,Ub);Ub.lineEnd();Ub.polygonEnd()}};return Hd}}function Z(oa){return 1<oa.length}function sa(oa,Pa){return(0>(oa=oa.x)[0]?oa[1]-Ae-1E-6:Ae-oa[1])-
(0>(Pa=Pa.x)[0]?Pa[1]-Ae-1E-6:Ae-Pa[1])}function eb(oa){function Pa(ha,Fa){return Jd(ha)*Jd(Fa)>Ub}function pb(ha,Fa,Ob){var Tb=Ya(ha),cc=Ya(Fa),vc=[1,0,0];cc=Ea(Tb,cc);var hd=mb(cc,cc);Tb=cc[0];var nd=hd-Tb*Tb;if(!nd)return!Ob&&ha;hd=Ub*hd/nd;nd=-Ub*Tb/nd;Tb=Ea(vc,cc);vc=jb(vc,hd);cc=jb(cc,nd);Ga(vc,cc);cc=mb(vc,Tb);hd=mb(Tb,Tb);nd=cc*cc-hd*(mb(vc,vc)-1);if(!(0>nd)){var ie=pe(nd);nd=jb(Tb,(-cc-ie)/hd);Ga(nd,vc);nd=Ia(nd);if(!Ob)return nd;Ob=ha[0];var $d=Fa[0];ha=ha[1];Fa=Fa[1];if($d<Ob){var Vd=Ob;
Ob=$d;$d=Vd}var Hd=$d-Ob,md=1E-6>ae(Hd-Yd);!md&&Fa<ha&&(Vd=ha,ha=Fa,Fa=Vd);if(md||1E-6>Hd?md?0<ha+Fa^nd[1]<(1E-6>ae(nd[0]-Ob)?ha:Fa):ha<=nd[1]&&nd[1]<=Fa:Hd>Yd^(Ob<=nd[0]&&nd[0]<=$d))return Fa=jb(Tb,(-cc+ie)/hd),Ga(Fa,vc),[nd,Ia(Fa)]}}function Cb(ha,Fa){var Ob=m?oa:Yd-oa,Tb=0;ha<-Ob?Tb|=1:ha>Ob&&(Tb|=2);Fa<-Ob?Tb|=4:Fa>Ob&&(Tb|=8);return Tb}var Ub=Jd(oa),c=6*Ld,m=0<Ub,F=1E-6<ae(Ub);return Ja(Pa,function(ha){var Fa,Ob,Tb,cc,vc;return{lineStart:function(){cc=Tb=!1;vc=1},point:function(hd,nd){var ie=
[hd,nd],$d=Pa(hd,nd);nd=m?$d?0:Cb(hd,nd):$d?Cb(hd+(0>hd?Yd:-Yd),nd):0;!Fa&&(cc=Tb=$d)&&ha.lineStart();$d!==Tb&&(hd=pb(Fa,ie),!hd||G(Fa,hd)||G(ie,hd))&&(ie[2]=1);if($d!==Tb)vc=0,$d?(ha.lineStart(),hd=pb(ie,Fa),ha.point(hd[0],hd[1])):(hd=pb(Fa,ie),ha.point(hd[0],hd[1],2),ha.lineEnd()),Fa=hd;else if(F&&Fa&&m^$d){var Vd;nd&Ob||!(Vd=pb(ie,Fa,!0))||(vc=0,m?(ha.lineStart(),ha.point(Vd[0][0],Vd[0][1]),ha.point(Vd[1][0],Vd[1][1]),ha.lineEnd()):(ha.point(Vd[1][0],Vd[1][1]),ha.lineEnd(),ha.lineStart(),ha.point(Vd[0][0],
Vd[0][1],3)))}!$d||Fa&&G(Fa,ie)||ha.point(ie[0],ie[1]);Fa=ie;Tb=$d;Ob=nd},lineEnd:function(){Tb&&ha.lineEnd();Fa=null},clean:function(){return vc|(cc&&Tb)<<1}}},function(ha,Fa,Ob,Tb){r(Tb,oa,c,Ob,ha,Fa)},m?[0,-oa]:[-Yd,oa-Yd])}function xb(oa,Pa,pb,Cb,Ub,c){var m=oa[0],F=oa[1],ha=0,Fa=1,Ob=Pa[0]-m,Tb=Pa[1]-F;pb-=m;if(Ob||!(0<pb)){pb/=Ob;if(0>Ob){if(pb<ha)return;pb<Fa&&(Fa=pb)}else if(0<Ob){if(pb>Fa)return;pb>ha&&(ha=pb)}pb=Ub-m;if(Ob||!(0>pb)){pb/=Ob;if(0>Ob){if(pb>Fa)return;pb>ha&&(ha=pb)}else if(0<
Ob){if(pb<ha)return;pb<Fa&&(Fa=pb)}pb=Cb-F;if(Tb||!(0<pb)){pb/=Tb;if(0>Tb){if(pb<ha)return;pb<Fa&&(Fa=pb)}else if(0<Tb){if(pb>Fa)return;pb>ha&&(ha=pb)}pb=c-F;if(Tb||!(0>pb)){pb/=Tb;if(0>Tb){if(pb>Fa)return;pb>ha&&(ha=pb)}else if(0<Tb){if(pb<ha)return;pb<Fa&&(Fa=pb)}0<ha&&(oa[0]=m+ha*Ob,oa[1]=F+ha*Tb);1>Fa&&(Pa[0]=m+Fa*Ob,Pa[1]=F+Fa*Tb);return!0}}}}}function Kb(oa,Pa,pb,Cb){function Ub(ha,Fa,Ob,Tb){var cc=0,vc=0;if(null==ha||(cc=c(ha,Ob))!==(vc=c(Fa,Ob))||0>F(ha,Fa)^0<Ob){do Tb.point(0===cc||3===cc?
oa:pb,1<cc?Cb:Pa);while((cc=(cc+Ob+4)%4)!==vc)}else Tb.point(Fa[0],Fa[1])}function c(ha,Fa){return 1E-6>ae(ha[0]-oa)?0<Fa?0:3:1E-6>ae(ha[0]-pb)?0<Fa?2:1:1E-6>ae(ha[1]-Pa)?0<Fa?1:0:0<Fa?3:2}function m(ha,Fa){return F(ha.x,Fa.x)}function F(ha,Fa){var Ob=c(ha,1),Tb=c(Fa,1);return Ob!==Tb?Ob-Tb:0===Ob?Fa[1]-ha[1]:1===Ob?ha[0]-Fa[0]:2===Ob?ha[1]-Fa[1]:Fa[0]-ha[0]}return function(ha){function Fa(Xe,hf){oa<=Xe&&Xe<=pb&&Pa<=hf&&hf<=Cb&&Tb.point(Xe,hf)}function Ob(Xe,hf){var kg=oa<=Xe&&Xe<=pb&&Pa<=hf&&hf<=
Cb;hd&&nd.push([Xe,hf]);if(bf)ie=Xe,$d=hf,Vd=kg,bf=!1,kg&&(Tb.lineStart(),Tb.point(Xe,hf));else if(kg&&ce)Tb.point(Xe,hf);else{var Yf=[Hd=Math.max(-1E9,Math.min(1E9,Hd)),md=Math.max(-1E9,Math.min(1E9,md))],Lf=[Xe=Math.max(-1E9,Math.min(1E9,Xe)),hf=Math.max(-1E9,Math.min(1E9,hf))];xb(Yf,Lf,oa,Pa,pb,Cb)?(ce||(Tb.lineStart(),Tb.point(Yf[0],Yf[1])),Tb.point(Lf[0],Lf[1]),kg||Tb.lineEnd(),qf=!1):kg&&(Tb.lineStart(),Tb.point(Xe,hf),qf=!1)}Hd=Xe;md=hf;ce=kg}var Tb=ha,cc=D(),vc,hd,nd,ie,$d,Vd,Hd,md,ce,bf,
qf,ke={point:Fa,lineStart:function(){ke.point=Ob;hd&&hd.push(nd=[]);bf=!0;ce=!1;Hd=md=NaN},lineEnd:function(){vc&&(Ob(ie,$d),Vd&&ce&&cc.rejoin(),vc.push(cc.result()));ke.point=Fa;ce&&Tb.lineEnd()},polygonStart:function(){Tb=cc;vc=[];hd=[];qf=!0},polygonEnd:function(){for(var Xe,hf=Xe=0,kg=hd.length;hf<kg;++hf){var Yf=hd[hf],Lf=1,Gh=Yf.length,Rd=Yf[0],Ef=Rd[0];for(Rd=Rd[1];Lf<Gh;++Lf){var Hh=Ef;var Zg=Rd;Rd=Yf[Lf];Ef=Rd[0];Rd=Rd[1];Zg<=Cb?Rd>Cb&&(Ef-Hh)*(Cb-Zg)>(Rd-Zg)*(oa-Hh)&&++Xe:Rd<=Cb&&(Ef-Hh)*
(Cb-Zg)<(Rd-Zg)*(oa-Hh)&&--Xe}}hf=qf&&Xe;kg=(vc=x.merge(vc)).length;if(hf||kg)ha.polygonStart(),hf&&(ha.lineStart(),Ub(null,null,1,ha),ha.lineEnd()),kg&&fa(vc,m,Xe,Ub,ha),ha.polygonEnd();Tb=ha;vc=hd=nd=null}};return ke}}function ec(){Td.point=Td.lineEnd=fb}function Ec(oa,Pa){oa*=Ld;Pa*=Ld;ad=oa;ud=bc(Pa);Nd=Jd(Pa);Td.point=gd}function gd(oa,Pa){oa*=Ld;Pa*=Ld;var pb=bc(Pa);Pa=Jd(Pa);var Cb=ae(oa-ad),Ub=Jd(Cb);Cb=bc(Cb);Cb*=Pa;var c=Nd*pb-ud*Pa*Ub;Ub=ud*pb+Nd*Pa*Ub;Kc.add(De(pe(Cb*Cb+c*c),Ub));ad=oa;
ud=pb;Nd=Pa}function Dc(oa){Kc=new x.Adder;bb(oa,Td);return+Kc}function Sc(oa,Pa){Bd[0]=oa;Bd[1]=Pa;return Dc(af)}function Ra(oa,Pa){return oa&&Fe.hasOwnProperty(oa.type)?Fe[oa.type](oa,Pa):!1}function nc(oa,Pa){for(var pb,Cb,Ub,c=0,m=oa.length;c<m;c++){Cb=Sc(oa[c],Pa);if(0===Cb||0<c&&(Ub=Sc(oa[c],oa[c-1]),0<Ub&&pb<=Ub&&Cb<=Ub&&(pb+Cb-Ub)*(1-Math.pow((pb-Cb)/Ub,2))<1E-12*Ub))return!0;pb=Cb}return!1}function kc(oa,Pa){return!!Ta(oa.map(wc),Pc(Pa))}function wc(oa){return oa=oa.map(Pc),oa.pop(),oa}function Pc(oa){return[oa[0]*
Ld,oa[1]*Ld]}function rc(oa,Pa,pb){var Cb=x.range(oa,Pa-1E-6,pb).concat(Pa);return function(Ub){return Cb.map(function(c){return[Ub,c]})}}function Xc(oa,Pa,pb){var Cb=x.range(oa,Pa-1E-6,pb).concat(Pa);return function(Ub){return Cb.map(function(c){return[c,Ub]})}}function $c(){function oa(){return{type:"MultiLineString",coordinates:Pa()}}function Pa(){return x.range(Se(c/cc)*cc,Ub,cc).map(ie).concat(x.range(Se(Fa/vc)*vc,ha,vc).map($d)).concat(x.range(Se(Cb/Ob)*Ob,pb,Ob).filter(function(Hd){return 1E-6<
ae(Hd%cc)}).map(hd)).concat(x.range(Se(F/Tb)*Tb,m,Tb).filter(function(Hd){return 1E-6<ae(Hd%vc)}).map(nd))}var pb,Cb,Ub,c,m,F,ha,Fa,Ob=10,Tb=Ob,cc=90,vc=360,hd,nd,ie,$d,Vd=2.5;oa.lines=function(){return Pa().map(function(Hd){return{type:"LineString",coordinates:Hd}})};oa.outline=function(){return{type:"Polygon",coordinates:[ie(c).concat($d(ha).slice(1),ie(Ub).reverse().slice(1),$d(Fa).reverse().slice(1))]}};oa.extent=function(Hd){return arguments.length?oa.extentMajor(Hd).extentMinor(Hd):oa.extentMinor()};
oa.extentMajor=function(Hd){if(!arguments.length)return[[c,Fa],[Ub,ha]];c=+Hd[0][0];Ub=+Hd[1][0];Fa=+Hd[0][1];ha=+Hd[1][1];c>Ub&&(Hd=c,c=Ub,Ub=Hd);Fa>ha&&(Hd=Fa,Fa=ha,ha=Hd);return oa.precision(Vd)};oa.extentMinor=function(Hd){if(!arguments.length)return[[Cb,F],[pb,m]];Cb=+Hd[0][0];pb=+Hd[1][0];F=+Hd[0][1];m=+Hd[1][1];Cb>pb&&(Hd=Cb,Cb=pb,pb=Hd);F>m&&(Hd=F,F=m,m=Hd);return oa.precision(Vd)};oa.step=function(Hd){return arguments.length?oa.stepMajor(Hd).stepMinor(Hd):oa.stepMinor()};oa.stepMajor=function(Hd){if(!arguments.length)return[cc,
vc];cc=+Hd[0];vc=+Hd[1];return oa};oa.stepMinor=function(Hd){if(!arguments.length)return[Ob,Tb];Ob=+Hd[0];Tb=+Hd[1];return oa};oa.precision=function(Hd){if(!arguments.length)return Vd;Vd=+Hd;hd=rc(F,m,90);nd=Xc(Cb,pb,Vd);ie=rc(Fa,ha,90);$d=Xc(c,Ub,Vd);return oa};return oa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Nc(){ef.point=Dd}function Dd(oa,Pa){ef.point=we;be=Ce=oa;wf=Kf=Pa}function we(oa,Pa){Sf.add(Kf*oa-Ce*Pa);Ce=oa;Kf=Pa}function ld(){we(be,
wf)}function sd(oa,Pa){ya+=oa;Da+=Pa;++Za}function ge(){lb.point=La}function La(oa,Pa){lb.point=vb;sd(aa=oa,ka=Pa)}function vb(oa,Pa){var pb=oa-aa,Cb=Pa-ka;pb=pe(pb*pb+Cb*Cb);tb+=pb*(aa+oa)/2;nb+=pb*(ka+Pa)/2;zb+=pb;sd(aa=oa,ka=Pa)}function $b(){lb.point=sd}function rd(){lb.point=de}function vd(){oe(u,E)}function de(oa,Pa){lb.point=oe;sd(u=aa=oa,E=ka=Pa)}function oe(oa,Pa){var pb=oa-aa,Cb=Pa-ka;pb=pe(pb*pb+Cb*Cb);tb+=pb*(aa+oa)/2;nb+=pb*(ka+Pa)/2;zb+=pb;pb=ka*oa-aa*Pa;Eb+=pb*(aa+oa);Yb+=pb*(ka+Pa);
pc+=3*pb;sd(aa=oa,ka=Pa)}function X(oa){this._context=oa}function za(oa,Pa){yd.point=gb;fc=Tc=oa;zc=Rc=Pa}function gb(oa,Pa){Tc-=oa;Rc-=Pa;Ib.add(pe(Tc*Tc+Rc*Rc));Tc=oa;Rc=Pa}function Db(){this._string=[]}function Zb(oa){return"m0,"+oa+"a"+oa+","+oa+" 0 1,1 0,"+-2*oa+"a"+oa+","+oa+" 0 1,1 0,"+2*oa+"z"}function Gb(oa){return function(Pa){var pb=new sc,Cb;for(Cb in oa)pb[Cb]=oa[Cb];pb.stream=Pa;return pb}}function sc(){}function jc(oa,Pa,pb){var Cb=oa.clipExtent&&oa.clipExtent();oa.scale(150).translate([0,
0]);null!=Cb&&oa.clipExtent(null);bb(pb,oa.stream(ia));Pa(ia.result());null!=Cb&&oa.clipExtent(Cb);return oa}function Oa(oa,Pa,pb){return jc(oa,function(Cb){var Ub=Pa[1][0]-Pa[0][0],c=Pa[1][1]-Pa[0][1],m=Math.min(Ub/(Cb[1][0]-Cb[0][0]),c/(Cb[1][1]-Cb[0][1]));Ub=+Pa[0][0]+(Ub-m*(Cb[1][0]+Cb[0][0]))/2;Cb=+Pa[0][1]+(c-m*(Cb[1][1]+Cb[0][1]))/2;oa.scale(150*m).translate([Ub,Cb])},pb)}function rb(oa,Pa,pb){return jc(oa,function(Cb){var Ub=+Pa,c=Ub/(Cb[1][0]-Cb[0][0]);Ub=(Ub-c*(Cb[1][0]+Cb[0][0]))/2;Cb=
-c*Cb[0][1];oa.scale(150*c).translate([Ub,Cb])},pb)}function Lb(oa,Pa,pb){return jc(oa,function(Cb){var Ub=+Pa,c=Ub/(Cb[1][1]-Cb[0][1]),m=-c*Cb[0][0];Cb=(Ub-c*(Cb[1][1]+Cb[0][1]))/2;oa.scale(150*c).translate([m,Cb])},pb)}function gc(oa){return Gb({point:function(Pa,pb){Pa=oa(Pa,pb);this.stream.point(Pa[0],Pa[1])}})}function tc(oa,Pa){function pb(Cb,Ub,c,m,F,ha,Fa,Ob,Tb,cc,vc,hd,nd,ie){var $d=Fa-Cb,Vd=Ob-Ub,Hd=$d*$d+Vd*Vd;if(Hd>4*Pa&&nd--){var md=m+cc,ce=F+vc,bf=ha+hd,qf=pe(md*md+ce*ce+bf*bf),ke=Sa(bf/=
qf),Xe=1E-6>ae(ae(bf)-1)||1E-6>ae(c-Tb)?(c+Tb)/2:De(ce,md),hf=oa(Xe,ke);ke=hf[0];hf=hf[1];var kg=ke-Cb,Yf=hf-Ub,Lf=Vd*kg-$d*Yf;if(Lf*Lf/Hd>Pa||.3<ae(($d*kg+Vd*Yf)/Hd-.5)||m*cc+F*vc+ha*hd<Md)pb(Cb,Ub,c,m,F,ha,ke,hf,Xe,md/=qf,ce/=qf,bf,nd,ie),ie.point(ke,hf),pb(ke,hf,Xe,md,ce,bf,Fa,Ob,Tb,cc,vc,hd,nd,ie)}}return function(Cb){function Ub(ke,Xe){ke=oa(ke,Xe);Cb.point(ke[0],ke[1])}function c(){Vd=NaN;qf.point=m;Cb.lineStart()}function m(ke,Xe){var hf=Ya([ke,Xe]);Xe=oa(ke,Xe);pb(Vd,Hd,$d,md,ce,bf,Vd=Xe[0],
Hd=Xe[1],$d=ke,md=hf[0],ce=hf[1],bf=hf[2],16,Cb);Cb.point(Vd,Hd)}function F(){qf.point=Ub;Cb.lineEnd()}function ha(){c();qf.point=Fa;qf.lineEnd=Ob}function Fa(ke,Xe){m(Tb=ke,Xe);cc=Vd;vc=Hd;hd=md;nd=ce;ie=bf;qf.point=m}function Ob(){pb(Vd,Hd,$d,md,ce,bf,cc,vc,Tb,hd,nd,ie,16,Cb);qf.lineEnd=F;F()}var Tb,cc,vc,hd,nd,ie,$d,Vd,Hd,md,ce,bf,qf={point:Ub,lineStart:c,lineEnd:F,polygonStart:function(){Cb.polygonStart();qf.lineStart=ha},polygonEnd:function(){Cb.polygonEnd();qf.lineStart=c}};return qf}}function Bc(oa){return Gb({point:function(Pa,
pb){Pa=oa(Pa,pb);return this.stream.point(Pa[0],Pa[1])}})}function Mc(oa,Pa,pb,Cb,Ub){function c(m,F){m*=Cb;F*=Ub;return[Pa+oa*m,pb-oa*F]}c.invert=function(m,F){return[(m-Pa)/oa*Cb,(pb-F)/oa*Ub]};return c}function Hb(oa,Pa,pb,Cb,Ub,c){function m(hd,nd){hd*=Cb;nd*=Ub;return[ha*hd-Fa*nd+Pa,pb-Fa*hd-ha*nd]}if(!c)return Mc(oa,Pa,pb,Cb,Ub);var F=Jd(c);c=bc(c);var ha=F*oa,Fa=c*oa,Ob=F/oa,Tb=c/oa,cc=(c*pb-F*Pa)/oa,vc=(c*Pa+F*pb)/oa;m.invert=function(hd,nd){return[Cb*(Ob*hd-Tb*nd+cc),Ub*(vc-Tb*hd-Ob*nd)]};
return m}function yc(oa){return Cc(function(){return oa})()}function Cc(oa){function Pa(Rd){return Yf(Rd[0]*Ld,Rd[1]*Ld)}function pb(Rd){return(Rd=Yf.invert(Rd[0],Rd[1]))&&[Rd[0]*Ad,Rd[1]*Ad]}function Cb(){var Rd=Hb(m,0,0,ie,$d,nd).apply(null,c(Fa,Ob));Rd=Hb(m,F-Rd[0],ha-Rd[1],ie,$d,nd);hd=ma(Tb,cc,vc);kg=va(c,Rd);Yf=va(hd,kg);Rd=kg;hf=+Xe?tc(Rd,Xe):gc(Rd);return Ub()}function Ub(){Lf=Gh=null;return Pa}var c,m=150,F=480,ha=250,Fa=0,Ob=0,Tb=0,cc=0,vc=0,hd,nd=0,ie=1,$d=1,Vd=null,Hd=Qc,md=null,ce,bf,
qf,ke=he,Xe=.5,hf,kg,Yf,Lf,Gh;Pa.stream=function(Rd){return Lf&&Gh===Rd?Lf:Lf=bd(Bc(hd)(Hd(hf(ke(Gh=Rd)))))};Pa.preclip=function(Rd){return arguments.length?(Hd=Rd,Vd=void 0,Ub()):Hd};Pa.postclip=function(Rd){return arguments.length?(ke=Rd,md=ce=bf=qf=null,Ub()):ke};Pa.clipAngle=function(Rd){return arguments.length?(Hd=+Rd?eb(Vd=Rd*Ld):(Vd=null,Qc),Ub()):Vd*Ad};Pa.clipExtent=function(Rd){return arguments.length?(ke=null==Rd?(md=ce=bf=qf=null,he):Kb(md=+Rd[0][0],ce=+Rd[0][1],bf=+Rd[1][0],qf=+Rd[1][1]),
Ub()):null==md?null:[[md,ce],[bf,qf]]};Pa.scale=function(Rd){return arguments.length?(m=+Rd,Cb()):m};Pa.translate=function(Rd){return arguments.length?(F=+Rd[0],ha=+Rd[1],Cb()):[F,ha]};Pa.center=function(Rd){return arguments.length?(Fa=Rd[0]%360*Ld,Ob=Rd[1]%360*Ld,Cb()):[Fa*Ad,Ob*Ad]};Pa.rotate=function(Rd){return arguments.length?(Tb=Rd[0]%360*Ld,cc=Rd[1]%360*Ld,vc=2<Rd.length?Rd[2]%360*Ld:0,Cb()):[Tb*Ad,cc*Ad,vc*Ad]};Pa.angle=function(Rd){return arguments.length?(nd=Rd%360*Ld,Cb()):nd*Ad};Pa.reflectX=
function(Rd){return arguments.length?(ie=Rd?-1:1,Cb()):0>ie};Pa.reflectY=function(Rd){return arguments.length?($d=Rd?-1:1,Cb()):0>$d};Pa.precision=function(Rd){if(arguments.length){var Ef=kg;var Hh=Xe=Rd*Rd;Ef=(hf=+Hh?tc(Ef,Hh):gc(Ef),Ub())}else Ef=pe(Xe);return Ef};Pa.fitExtent=function(Rd,Ef){return Oa(Pa,Rd,Ef)};Pa.fitSize=function(Rd,Ef){return Oa(Pa,[[0,0],Rd],Ef)};Pa.fitWidth=function(Rd,Ef){return rb(Pa,Rd,Ef)};Pa.fitHeight=function(Rd,Ef){return Lb(Pa,Rd,Ef)};return function(){c=oa.apply(this,
arguments);Pa.invert=c.invert&&pb;return Cb()}}function xc(oa){var Pa=0,pb=Yd/3,Cb=Cc(oa);oa=Cb(Pa,pb);oa.parallels=function(Ub){return arguments.length?Cb(Pa=Ub[0]*Ld,pb=Ub[1]*Ld):[Pa*Ad,pb*Ad]};return oa}function Ic(oa){function Pa(Cb,Ub){return[Cb*pb,bc(Ub)/pb]}var pb=Jd(oa);Pa.invert=function(Cb,Ub){return[Cb/pb,Sa(Ub*pb)]};return Pa}function Yc(oa,Pa){function pb(F,ha){ha=pe(c-2*Ub*bc(ha))/Ub;return[ha*bc(F*=Ub),m-ha*Jd(F)]}var Cb=bc(oa),Ub=(Cb+bc(Pa))/2;if(1E-6>ae(Ub))return Ic(oa);var c=1+
Cb*(2*Ub-Cb),m=pe(c)/Ub;pb.invert=function(F,ha){ha=m-ha;var Fa=De(F,ae(ha))*Je(ha);0>ha*Ub&&(Fa-=Yd*Je(F)*Je(ha));return[Fa/Ub,Sa((c-(F*F+ha*ha)*Ub*Ub)/(2*Ub))]};return pb}function Uc(){return xc(Yc).scale(155.424).center([0,33.6442])}function od(){return Uc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function qd(oa){var Pa=oa.length;return{point:function(pb,Cb){for(var Ub=-1;++Ub<Pa;)oa[Ub].point(pb,Cb)},sphere:function(){for(var pb=-1;++pb<Pa;)oa[pb].sphere()},
lineStart:function(){for(var pb=-1;++pb<Pa;)oa[pb].lineStart()},lineEnd:function(){for(var pb=-1;++pb<Pa;)oa[pb].lineEnd()},polygonStart:function(){for(var pb=-1;++pb<Pa;)oa[pb].polygonStart()},polygonEnd:function(){for(var pb=-1;++pb<Pa;)oa[pb].polygonEnd()}}}function Id(oa){return function(Pa,pb){var Cb=Jd(Pa),Ub=Jd(pb);Cb=oa(Cb*Ub);return Infinity===Cb?[2,0]:[Cb*Ub*bc(Pa),Cb*bc(pb)]}}function Ed(oa){return function(Pa,pb){var Cb=pe(Pa*Pa+pb*pb),Ub=oa(Cb),c=bc(Ub);Ub=Jd(Ub);return[De(Pa*c,Cb*Ub),
Sa(Cb&&pb*c/Cb)]}}function Wd(oa,Pa){return[oa,Be(Ke((Ae+Pa)/2))]}function me(oa){function Pa(){var Tb=Yd*Ub(),cc=pb(p(pb.rotate()).invert([0,0]));return m(null==F?[[cc[0]-Tb,cc[1]-Tb],[cc[0]+Tb,cc[1]+Tb]]:oa===Wd?[[Math.max(cc[0]-Tb,F),ha],[Math.min(cc[0]+Tb,Fa),Ob]]:[[F,Math.max(cc[1]-Tb,ha)],[Fa,Math.min(cc[1]+Tb,Ob)]])}var pb=yc(oa),Cb=pb.center,Ub=pb.scale,c=pb.translate,m=pb.clipExtent,F=null,ha,Fa,Ob;pb.scale=function(Tb){return arguments.length?(Ub(Tb),Pa()):Ub()};pb.translate=function(Tb){return arguments.length?
(c(Tb),Pa()):c()};pb.center=function(Tb){return arguments.length?(Cb(Tb),Pa()):Cb()};pb.clipExtent=function(Tb){return arguments.length?(null==Tb?F=ha=Fa=Ob=null:(F=+Tb[0][0],ha=+Tb[0][1],Fa=+Tb[1][0],Ob=+Tb[1][1]),Pa()):null==F?null:[[F,ha],[Fa,Ob]]};return Pa()}function ye(oa,Pa){function pb(m,F){0<c?F<-Ae+1E-6&&(F=-Ae+1E-6):F>Ae-1E-6&&(F=Ae-1E-6);F=c/Xd(Ke((Ae+F)/2),Ub);return[F*bc(Ub*m),c-F*Jd(Ub*m)]}var Cb=Jd(oa),Ub=oa===Pa?bc(oa):Be(Cb/Jd(Pa))/Be(Ke((Ae+Pa)/2)/Ke((Ae+oa)/2)),c=Cb*Xd(Ke((Ae+
oa)/2),Ub)/Ub;if(!Ub)return Wd;pb.invert=function(m,F){F=c-F;var ha=Je(Ub)*pe(m*m+F*F),Fa=De(m,ae(F))*Je(F);0>F*Ub&&(Fa-=Yd*Je(m)*Je(F));return[Fa/Ub,2*Jf(Xd(c/ha,1/Ub))-Ae]};return pb}function Ye(oa,Pa){return[oa,Pa]}function Qe(oa,Pa){function pb(m,F){F=c-F;m*=Ub;return[F*bc(m),c-F*Jd(m)]}var Cb=Jd(oa),Ub=oa===Pa?bc(oa):(Cb-Jd(Pa))/(Pa-oa),c=Cb/Ub+oa;if(1E-6>ae(Ub))return Ye;pb.invert=function(m,F){F=c-F;var ha=De(m,ae(F))*Je(F);0>F*Ub&&(ha-=Yd*Je(m)*Je(F));return[ha/Ub,c-Je(Ub)*pe(m*m+F*F)]};return pb}
function Re(oa,Pa){Pa=Sa(We*bc(Pa));var pb=Pa*Pa,Cb=pb*pb*pb;return[oa*Jd(Pa)/(We*(1.340264+3*-.081106*pb+Cb*(7*8.93E-4+.034164*pb))),Pa*(1.340264+-.081106*pb+Cb*(8.93E-4+.003796*pb))]}function Fd(oa,Pa){var pb=Jd(Pa),Cb=Jd(oa)*pb;return[pb*bc(oa)/Cb,bc(Pa)/Cb]}function ee(oa,Pa){var pb=Pa*Pa,Cb=pb*pb;return[oa*(.8707-.131979*pb+Cb*(-.013791+Cb*(.003971*pb-.001529*Cb))),Pa*(1.007226+pb*(.015085+Cb*(-.044475+.028874*pb-.005916*Cb)))]}function ff(oa,Pa){return[Jd(Pa)*bc(oa),bc(Pa)]}function Oe(oa,Pa){var pb=
Jd(Pa),Cb=1+Jd(oa)*pb;return[pb*bc(oa)/Cb,bc(Pa)/Cb]}function Bf(oa,Pa){return[Be(Ke((Ae+Pa)/2)),-oa]}var Yd=Math.PI,Ae=Yd/2,cf=Yd/4,re=2*Yd,Ad=180/Yd,Ld=Yd/180,ae=Math.abs,Jf=Math.atan,De=Math.atan2,Jd=Math.cos,Se=Math.ceil,Ee=Math.exp,Ac=Math.hypot,Be=Math.log,Xd=Math.pow,bc=Math.sin,Je=Math.sign||function(oa){return 0<oa?1:0>oa?-1:0},pe=Math.sqrt,Ke=Math.tan,Cf={Feature:function(oa,Pa){ub(oa.geometry,Pa)},FeatureCollection:function(oa,Pa){oa=oa.features;for(var pb=-1,Cb=oa.length;++pb<Cb;)ub(oa[pb].geometry,
Pa)}},kf={Sphere:function(oa,Pa){Pa.sphere()},Point:function(oa,Pa){oa=oa.coordinates;Pa.point(oa[0],oa[1],oa[2])},MultiPoint:function(oa,Pa){for(var pb=oa.coordinates,Cb=-1,Ub=pb.length;++Cb<Ub;)oa=pb[Cb],Pa.point(oa[0],oa[1],oa[2])},LineString:function(oa,Pa){Qb(oa.coordinates,Pa,0)},MultiLineString:function(oa,Pa){oa=oa.coordinates;for(var pb=-1,Cb=oa.length;++pb<Cb;)Qb(oa[pb],Pa,0)},Polygon:function(oa,Pa){Bb(oa.coordinates,Pa)},MultiPolygon:function(oa,Pa){oa=oa.coordinates;for(var pb=-1,Cb=
oa.length;++pb<Cb;)Bb(oa[pb],Pa)},GeometryCollection:function(oa,Pa){oa=oa.geometries;for(var pb=-1,Cb=oa.length;++pb<Cb;)ub(oa[pb],Pa)}},tf=new x.Adder,Pe=new x.Adder,K,S,ua,Ka,Va,Vb={point:fb,lineStart:fb,lineEnd:fb,polygonStart:function(){tf=new x.Adder;Vb.lineStart=qb;Vb.lineEnd=sb},polygonEnd:function(){var oa=+tf;Pe.add(0>oa?re+oa:oa);this.lineStart=this.lineEnd=this.point=fb},sphere:function(){Pe.add(re)}},lc,Gc,uc,Fc,id,fd,se,xd,zd,le,Te,Me={point:ab,lineStart:ja,lineEnd:Aa,polygonStart:function(){Me.point=
Qa;Me.lineStart=Xa;Me.lineEnd=hb;zd=new x.Adder;Vb.polygonStart()},polygonEnd:function(){Vb.polygonEnd();Me.point=ab;Me.lineStart=ja;Me.lineEnd=Aa;0>tf?(lc=-(uc=180),Gc=-(Fc=90)):1E-6<zd?Fc=90:-1E-6>zd&&(Gc=-90);Te[0]=lc;Te[1]=uc},sphere:function(){lc=-(uc=180);Gc=-(Fc=90)}},uf,Zf,pd,Ue,Le,Ze,$f,vf,ag,df,J,da,kb,Pb,Mb,ac,ic={sphere:fb,point:Q,lineStart:T,lineEnd:W,polygonStart:function(){ic.lineStart=ea;ic.lineEnd=pa},polygonEnd:function(){ic.lineStart=T;ic.lineEnd=W}};xa.invert=xa;var Qc=Ja(function(){return!0},
function(oa){var Pa=NaN,pb=NaN,Cb=NaN,Ub;return{lineStart:function(){oa.lineStart();Ub=1},point:function(c,m){var F=0<c?Yd:-Yd,ha=ae(c-Pa);if(1E-6>ae(ha-Yd))oa.point(Pa,pb=0<(pb+m)/2?Ae:-Ae),oa.point(Cb,pb),oa.lineEnd(),oa.lineStart(),oa.point(F,pb),oa.point(c,pb),Ub=0;else if(Cb!==F&&ha>=Yd){1E-6>ae(Pa-Cb)&&(Pa-=1E-6*Cb);1E-6>ae(c-F)&&(c-=1E-6*F);ha=Pa;var Fa=pb,Ob=c,Tb,cc,vc=bc(ha-Ob);pb=1E-6<ae(vc)?Jf((bc(Fa)*(cc=Jd(m))*bc(Ob)-bc(m)*(Tb=Jd(Fa))*bc(ha))/(Tb*cc*vc)):(Fa+m)/2;oa.point(Cb,pb);oa.lineEnd();
oa.lineStart();oa.point(F,pb);Ub=0}oa.point(Pa=c,pb=m);Cb=F},lineEnd:function(){oa.lineEnd();Pa=pb=NaN},clean:function(){return 2-Ub}}},function(oa,Pa,pb,Cb){null==oa?(pb*=Ae,Cb.point(-Yd,pb),Cb.point(0,pb),Cb.point(Yd,pb),Cb.point(Yd,0),Cb.point(Yd,-pb),Cb.point(0,-pb),Cb.point(-Yd,-pb),Cb.point(-Yd,0),Cb.point(-Yd,pb)):1E-6<ae(oa[0]-Pa[0])?(oa=oa[0]<Pa[0]?Yd:-Yd,pb=pb*oa/2,Cb.point(-oa,pb),Cb.point(0,pb),Cb.point(oa,pb)):Cb.point(Pa[0],Pa[1])},[-Yd,-Ae]),Kc,ad,ud,Nd,Td={sphere:fb,point:fb,lineStart:function(){Td.point=
Ec;Td.lineEnd=ec},lineEnd:fb,polygonStart:fb,polygonEnd:fb},Bd=[null,null],af={type:"LineString",coordinates:Bd},Pd={Feature:function(oa,Pa){return Ra(oa.geometry,Pa)},FeatureCollection:function(oa,Pa){oa=oa.features;for(var pb=-1,Cb=oa.length;++pb<Cb;)if(Ra(oa[pb].geometry,Pa))return!0;return!1}},Fe={Sphere:function(){return!0},Point:function(oa,Pa){return 0===Sc(oa.coordinates,Pa)},MultiPoint:function(oa,Pa){oa=oa.coordinates;for(var pb=-1,Cb=oa.length;++pb<Cb;)if(0===Sc(oa[pb],Pa))return!0;return!1},
LineString:function(oa,Pa){return nc(oa.coordinates,Pa)},MultiLineString:function(oa,Pa){oa=oa.coordinates;for(var pb=-1,Cb=oa.length;++pb<Cb;)if(nc(oa[pb],Pa))return!0;return!1},Polygon:function(oa,Pa){return kc(oa.coordinates,Pa)},MultiPolygon:function(oa,Pa){oa=oa.coordinates;for(var pb=-1,Cb=oa.length;++pb<Cb;)if(kc(oa[pb],Pa))return!0;return!1},GeometryCollection:function(oa,Pa){oa=oa.geometries;for(var pb=-1,Cb=oa.length;++pb<Cb;)if(Ra(oa[pb],Pa))return!0;return!1}},he=oa=>oa,ze=new x.Adder,
Sf=new x.Adder,be,wf,Ce,Kf,ef={point:fb,lineStart:fb,lineEnd:fb,polygonStart:function(){ef.lineStart=Nc;ef.lineEnd=ld},polygonEnd:function(){ef.lineStart=ef.lineEnd=ef.point=fb;ze.add(ae(Sf));Sf=new x.Adder},result:function(){var oa=ze/2;ze=new x.Adder;return oa}},gg=Infinity,M=gg,N=-gg,Y=N,ia={point:function(oa,Pa){oa<gg&&(gg=oa);oa>N&&(N=oa);Pa<M&&(M=Pa);Pa>Y&&(Y=Pa)},lineStart:fb,lineEnd:fb,polygonStart:fb,polygonEnd:fb,result:function(){var oa=[[gg,M],[N,Y]];N=Y=-(M=gg=Infinity);return oa}},ya=
0,Da=0,Za=0,tb=0,nb=0,zb=0,Eb=0,Yb=0,pc=0,u,E,aa,ka,lb={point:sd,lineStart:ge,lineEnd:$b,polygonStart:function(){lb.lineStart=rd;lb.lineEnd=vd},polygonEnd:function(){lb.point=sd;lb.lineStart=ge;lb.lineEnd=$b},result:function(){var oa=pc?[Eb/pc,Yb/pc]:zb?[tb/zb,nb/zb]:Za?[ya/Za,Da/Za]:[NaN,NaN];ya=Da=Za=tb=nb=zb=Eb=Yb=pc=0;return oa}};X.prototype={_radius:4.5,pointRadius:function(oa){return this._radius=oa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=
0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(oa,Pa){switch(this._point){case 0:this._context.moveTo(oa,Pa);this._point=1;break;case 1:this._context.lineTo(oa,Pa);break;default:this._context.moveTo(oa+this._radius,Pa),this._context.arc(oa,Pa,this._radius,0,re)}},result:fb};var Ib=new x.Adder,Sb,fc,zc,Tc,Rc,yd={point:fb,lineStart:function(){yd.point=za},lineEnd:function(){Sb&&gb(fc,zc);yd.point=fb},polygonStart:function(){Sb=!0},polygonEnd:function(){Sb=
null},result:function(){var oa=+Ib;Ib=new x.Adder;return oa}};Db.prototype={_radius:4.5,_circle:Zb(4.5),pointRadius:function(oa){(oa=+oa)!==this._radius&&(this._radius=oa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(oa,Pa){switch(this._point){case 0:this._string.push("M",oa,",",Pa);this._point=1;break;case 1:this._string.push("L",
oa,",",Pa);break;default:null==this._circle&&(this._circle=Zb(this._radius)),this._string.push("M",oa,",",Pa,this._circle)}},result:function(){if(this._string.length){var oa=this._string.join("");this._string=[];return oa}return null}};sc.prototype={constructor:sc,point:function(oa,Pa){this.stream.point(oa,Pa)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
var Md=Jd(30*Ld),bd=Gb({point:function(oa,Pa){this.stream.point(oa*Ld,Pa*Ld)}}),Sd=Id(function(oa){return pe(2/(1+oa))});Sd.invert=Ed(function(oa){return 2*Sa(oa/2)});var je=Id(function(oa){return(oa=ca(oa))&&oa/bc(oa)});je.invert=Ed(function(oa){return oa});Wd.invert=function(oa,Pa){return[oa,2*Jf(Ee(Pa))-Ae]};Ye.invert=Ye;var We=pe(3)/2;Re.invert=function(oa,Pa){for(var pb=Pa,Cb=pb*pb,Ub=Cb*Cb*Cb,c=0,m;12>c&&!(m=pb*(1.340264+-.081106*Cb+Ub*(8.93E-4+.003796*Cb))-Pa,Cb=1.340264+3*-.081106*Cb+Ub*(7*
8.93E-4+.034164*Cb),pb-=m/=Cb,Cb=pb*pb,Ub=Cb*Cb*Cb,1E-12>ae(m));++c);return[We*oa*(1.340264+3*-.081106*Cb+Ub*(7*8.93E-4+.034164*Cb))/Jd(pb),Sa(bc(pb)/We)]};Fd.invert=Ed(Jf);ee.invert=function(oa,Pa){var pb=Pa,Cb=25;do{var Ub=pb*pb;var c=Ub*Ub;pb-=c=(pb*(1.007226+Ub*(.015085+c*(-.044475+.028874*Ub-.005916*c)))-Pa)/(1.007226+Ub*(.045255+c*(-.311325+.259866*Ub-.005916*11*c)))}while(1E-6<ae(c)&&0<--Cb);return[oa/(.8707+(Ub=pb*pb)*(-.131979+Ub*(-.013791+Ub*Ub*Ub*(.003971-.001529*Ub)))),pb]};ff.invert=
Ed(Sa);Oe.invert=Ed(function(oa){return 2*Jf(oa)});Bf.invert=function(oa,Pa){return[-Pa,2*Jf(Ee(oa))-Ae]};n.geoAlbers=od;n.geoAlbersUsa=function(){function oa(cc){var vc=cc[0];cc=cc[1];return Ob=null,(c.point(vc,cc),Ob)||(F.point(vc,cc),Ob)||(Fa.point(vc,cc),Ob)}function Pa(){pb=Cb=null;return oa}var pb,Cb,Ub=od(),c,m=Uc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),F,ha=Uc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Fa,Ob,Tb={point:function(cc,vc){Ob=[cc,vc]}};oa.invert=function(cc){var vc=
Ub.scale(),hd=Ub.translate(),nd=(cc[0]-hd[0])/vc;vc=(cc[1]-hd[1])/vc;return(.12<=vc&&.234>vc&&-.425<=nd&&-.214>nd?m:.166<=vc&&.234>vc&&-.214<=nd&&-.115>nd?ha:Ub).invert(cc)};oa.stream=function(cc){return pb&&Cb===cc?pb:pb=qd([Ub.stream(Cb=cc),m.stream(cc),ha.stream(cc)])};oa.precision=function(cc){if(!arguments.length)return Ub.precision();Ub.precision(cc);m.precision(cc);ha.precision(cc);return Pa()};oa.scale=function(cc){if(!arguments.length)return Ub.scale();Ub.scale(cc);m.scale(.35*cc);ha.scale(cc);
return oa.translate(Ub.translate())};oa.translate=function(cc){if(!arguments.length)return Ub.translate();var vc=Ub.scale(),hd=+cc[0],nd=+cc[1];c=Ub.translate(cc).clipExtent([[hd-.455*vc,nd-.238*vc],[hd+.455*vc,nd+.238*vc]]).stream(Tb);F=m.translate([hd-.307*vc,nd+.201*vc]).clipExtent([[hd-.425*vc+1E-6,nd+.12*vc+1E-6],[hd-.214*vc-1E-6,nd+.234*vc-1E-6]]).stream(Tb);Fa=ha.translate([hd-.205*vc,nd+.212*vc]).clipExtent([[hd-.214*vc+1E-6,nd+.166*vc+1E-6],[hd-.115*vc-1E-6,nd+.234*vc-1E-6]]).stream(Tb);
return Pa()};oa.fitExtent=function(cc,vc){return Oa(oa,cc,vc)};oa.fitSize=function(cc,vc){return Oa(oa,[[0,0],cc],vc)};oa.fitWidth=function(cc,vc){return rb(oa,cc,vc)};oa.fitHeight=function(cc,vc){return Lb(oa,cc,vc)};return oa.scale(1070)};n.geoArea=function(oa){Pe=new x.Adder;bb(oa,Vb);return 2*Pe};n.geoAzimuthalEqualArea=function(){return yc(Sd).scale(124.75).clipAngle(179.999)};n.geoAzimuthalEqualAreaRaw=Sd;n.geoAzimuthalEquidistant=function(){return yc(je).scale(79.4188).clipAngle(179.999)};
n.geoAzimuthalEquidistantRaw=je;n.geoBounds=function(oa){var Pa,pb,Cb;Fc=uc=-(lc=Gc=Infinity);le=[];bb(oa,Me);if(Pa=le.length){le.sort(ob);oa=1;var Ub=le[0];for(pb=[Ub];oa<Pa;++oa){var c=le[oa];$a(Ub,c[0])||$a(Ub,c[1])?(cb(Ub[0],c[1])>cb(Ub[0],Ub[1])&&(Ub[1]=c[1]),cb(c[0],Ub[1])>cb(Ub[0],Ub[1])&&(Ub[0]=c[0])):pb.push(Ub=c)}var m=-Infinity;Pa=pb.length-1;oa=0;for(Ub=pb[Pa];oa<=Pa;Ub=c,++oa)c=pb[oa],(Cb=cb(Ub[1],c[0]))>m&&(m=Cb,lc=c[0],uc=Ub[1])}le=Te=null;return Infinity===lc||Infinity===Gc?[[NaN,
NaN],[NaN,NaN]]:[[lc,Gc],[uc,Fc]]};n.geoCentroid=function(oa){uf=Zf=pd=Ue=Le=Ze=$f=vf=0;ag=new x.Adder;df=new x.Adder;J=new x.Adder;bb(oa,ic);oa=+ag;var Pa=+df,pb=+J,Cb=Ac(oa,Pa,pb);return 1E-12>Cb&&(oa=Ze,Pa=$f,pb=vf,1E-6>Zf&&(oa=pd,Pa=Ue,pb=Le),Cb=Ac(oa,Pa,pb),1E-12>Cb)?[NaN,NaN]:[De(Pa,oa)*Ad,Sa(pb/Cb)*Ad]};n.geoCircle=function(){function oa(){var F=Pa.apply(this,arguments),ha=pb.apply(this,arguments)*Ld,Fa=Cb.apply(this,arguments)*Ld;Ub=[];c=ma(-F[0]*Ld,-F[1]*Ld,0).invert;r(m,ha,Fa,1);F={type:"Polygon",
coordinates:[Ub]};Ub=c=null;return F}var Pa=U([0,0]),pb=U(90),Cb=U(6),Ub,c,m={point:function(F,ha){Ub.push(F=c(F,ha));F[0]*=Ad;F[1]*=Ad}};oa.center=function(F){return arguments.length?(Pa="function"===typeof F?F:U([+F[0],+F[1]]),oa):Pa};oa.radius=function(F){return arguments.length?(pb="function"===typeof F?F:U(+F),oa):pb};oa.precision=function(F){return arguments.length?(Cb="function"===typeof F?F:U(+F),oa):Cb};return oa};n.geoClipAntimeridian=Qc;n.geoClipCircle=eb;n.geoClipExtent=function(){var oa=
0,Pa=0,pb=960,Cb=500,Ub,c,m;return m={stream:function(F){return Ub&&c===F?Ub:Ub=Kb(oa,Pa,pb,Cb)(c=F)},extent:function(F){return arguments.length?(oa=+F[0][0],Pa=+F[0][1],pb=+F[1][0],Cb=+F[1][1],Ub=c=null,m):[[oa,Pa],[pb,Cb]]}}};n.geoClipRectangle=Kb;n.geoConicConformal=function(){return xc(ye).scale(109.5).parallels([30,30])};n.geoConicConformalRaw=ye;n.geoConicEqualArea=Uc;n.geoConicEqualAreaRaw=Yc;n.geoConicEquidistant=function(){return xc(Qe).scale(131.154).center([0,13.9389])};n.geoConicEquidistantRaw=
Qe;n.geoContains=function(oa,Pa){return(oa&&Pd.hasOwnProperty(oa.type)?Pd[oa.type]:Ra)(oa,Pa)};n.geoDistance=Sc;n.geoEqualEarth=function(){return yc(Re).scale(177.158)};n.geoEqualEarthRaw=Re;n.geoEquirectangular=function(){return yc(Ye).scale(152.63)};n.geoEquirectangularRaw=Ye;n.geoGnomonic=function(){return yc(Fd).scale(144.049).clipAngle(60)};n.geoGnomonicRaw=Fd;n.geoGraticule=$c;n.geoGraticule10=function(){return $c()()};n.geoIdentity=function(){function oa(){hd=pb*c;nd=pb*m;Vd=Hd=null;return Pa}
function Pa(md){var ce=md[0]*hd;md=md[1]*nd;if(F){var bf=md*ha-ce*Fa;ce=ce*ha+md*Fa;md=bf}return[ce+Cb,md+Ub]}var pb=1,Cb=0,Ub=0,c=1,m=1,F=0,ha,Fa,Ob=null,Tb,cc,vc,hd=1,nd=1,ie=Gb({point:function(md,ce){md=Pa([md,ce]);this.stream.point(md[0],md[1])}}),$d=he,Vd,Hd;Pa.invert=function(md){var ce=md[0]-Cb;md=md[1]-Ub;if(F){var bf=md*ha+ce*Fa;ce=ce*ha-md*Fa;md=bf}return[ce/hd,md/nd]};Pa.stream=function(md){return Vd&&Hd===md?Vd:Vd=ie($d(Hd=md))};Pa.postclip=function(md){return arguments.length?($d=md,
Ob=Tb=cc=vc=null,oa()):$d};Pa.clipExtent=function(md){return arguments.length?($d=null==md?(Ob=Tb=cc=vc=null,he):Kb(Ob=+md[0][0],Tb=+md[0][1],cc=+md[1][0],vc=+md[1][1]),oa()):null==Ob?null:[[Ob,Tb],[cc,vc]]};Pa.scale=function(md){return arguments.length?(pb=+md,oa()):pb};Pa.translate=function(md){return arguments.length?(Cb=+md[0],Ub=+md[1],oa()):[Cb,Ub]};Pa.angle=function(md){return arguments.length?(F=md%360*Ld,Fa=bc(F),ha=Jd(F),oa()):F*Ad};Pa.reflectX=function(md){return arguments.length?(c=md?
-1:1,oa()):0>c};Pa.reflectY=function(md){return arguments.length?(m=md?-1:1,oa()):0>m};Pa.fitExtent=function(md,ce){return Oa(Pa,md,ce)};Pa.fitSize=function(md,ce){return Oa(Pa,[[0,0],md],ce)};Pa.fitWidth=function(md,ce){return rb(Pa,md,ce)};Pa.fitHeight=function(md,ce){return Lb(Pa,md,ce)};return Pa};n.geoInterpolate=function(oa,Pa){var pb=oa[0]*Ld,Cb=oa[1]*Ld;oa=Pa[0]*Ld;Pa=Pa[1]*Ld;var Ub=Jd(Cb),c=bc(Cb),m=Jd(Pa),F=bc(Pa),ha=Ub*Jd(pb),Fa=Ub*bc(pb),Ob=m*Jd(oa),Tb=m*bc(oa),cc=2*Sa(pe(Wb(Pa-Cb)+Ub*
m*Wb(oa-pb))),vc=bc(cc);oa=cc?function(hd){var nd=bc(hd*=cc)/vc,ie=bc(cc-hd)/vc;hd=ie*ha+nd*Ob;var $d=ie*Fa+nd*Tb;nd=ie*c+nd*F;return[De($d,hd)*Ad,De(nd,pe(hd*hd+$d*$d))*Ad]}:function(){return[pb*Ad,Cb*Ad]};oa.distance=cc;return oa};n.geoLength=Dc;n.geoMercator=function(){return me(Wd).scale(961/re)};n.geoMercatorRaw=Wd;n.geoNaturalEarth1=function(){return yc(ee).scale(175.295)};n.geoNaturalEarth1Raw=ee;n.geoOrthographic=function(){return yc(ff).scale(249.5).clipAngle(90.000001)};n.geoOrthographicRaw=
ff;n.geoPath=function(oa,Pa){function pb(m){m&&("function"===typeof Cb&&c.pointRadius(+Cb.apply(this,arguments)),bb(m,Ub(c)));return c.result()}var Cb=4.5,Ub,c;pb.area=function(m){bb(m,Ub(ef));return ef.result()};pb.measure=function(m){bb(m,Ub(yd));return yd.result()};pb.bounds=function(m){bb(m,Ub(ia));return ia.result()};pb.centroid=function(m){bb(m,Ub(lb));return lb.result()};pb.projection=function(m){return arguments.length?(Ub=null==m?(oa=null,he):(oa=m).stream,pb):oa};pb.context=function(m){if(!arguments.length)return Pa;
c=null==m?(Pa=null,new Db):new X(Pa=m);"function"!==typeof Cb&&c.pointRadius(Cb);return pb};pb.pointRadius=function(m){if(!arguments.length)return Cb;Cb="function"===typeof m?m:(c.pointRadius(+m),+m);return pb};return pb.projection(oa).context(Pa)};n.geoProjection=yc;n.geoProjectionMutator=Cc;n.geoRotation=p;n.geoStereographic=function(){return yc(Oe).scale(250).clipAngle(142)};n.geoStereographicRaw=Oe;n.geoStream=bb;n.geoTransform=function(oa){return{stream:Gb(oa)}};n.geoTransverseMercator=function(){var oa=
me(Bf),Pa=oa.center,pb=oa.rotate;oa.center=function(Cb){return arguments.length?Pa([-Cb[1],Cb[0]]):(Cb=Pa(),[Cb[1],-Cb[0]])};oa.rotate=function(Cb){return arguments.length?pb([Cb[0],Cb[1],2<Cb.length?Cb[2]+90:90]):(Cb=pb(),[Cb[0],Cb[1],Cb[2]-90])};return pb([0,0,90]).scale(159.155)};n.geoTransverseMercatorRaw=Bf;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[42]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(41),Rb(17)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],x):x(n.d3=n.d3||{},n.d3,n.d3)})(this,function(n,x,ca){function Sa(M){return 1<M?Va:-1>M?-Va:Math.asin(M)}function Wb(M){return 1<M?0:-1>M?Ka:Math.acos(M)}function fb(M){return 0<M?Math.sqrt(M):0}function ub(M){return(Je(M)-Je(-M))/2}function Qb(M){return(Je(M)+Je(-M))/2}function Bb(M){function N(ya,Da){var Za=
bc(ya),tb=bc(Da);Da=S(Da);Za*=tb;Za=-((1-Za?Ke((1+Za)/2)/(1-Za):-.5)+ia/(1+Za));return[Za*tb*S(ya),Za*Da]}var Y=ua(M/2),ia=2*Ke(bc(M/2))/(Y*Y);N.invert=function(ya,Da){var Za=fb(ya*ya+Da*Da),tb=-M/2,nb=50;if(!Za)return[0,0];do{var zb=tb/2;var Eb=bc(zb);zb=S(zb);var Yb=zb/Eb,pc=-Ke(Ac(Eb));tb-=Eb=(2/Yb*pc-ia*Yb-Za)/(-pc/(zb*zb)+1-ia/(2*Eb*Eb))*(0>Eb?.7:1)}while(1E-6<Ac(Eb)&&0<--nb);nb=S(tb);return[Xd(ya*nb,Za*bc(tb)),Sa(Da*nb/Za)]};return N}function bb(M,N){var Y=bc(N);var ia=(ia=Wb(Y*bc(M/=2)))?ia/
Math.sin(ia):1;return[2*Y*S(M)*ia,S(N)*ia]}function qb(M){function N(tb,nb){var zb=bc(nb),Eb=bc(tb/=2);return[(1+zb)*S(tb),(ya*nb>-Xd(Eb,Da)-.001?0:10*-ya)+Za+S(nb)*ia-(1+zb)*Y*Eb]}var Y=S(M),ia=bc(M),ya=0<=M?1:-1,Da=ua(ya*M),Za=(1+Y-ia)/2;N.invert=function(tb,nb){var zb=0,Eb=0,Yb=50;do{var pc=bc(zb),u=S(zb),E=bc(Eb),aa=S(Eb),ka=1+E,lb=ka*u-tb,Ib=Za+aa*ia-ka*Y*pc-nb,Sb=ka*pc/2,fc=-u*aa;u=Y*ka*u/2;E=ia*E+Y*pc*aa;pc=fc*u-E*Sb;fc=(Ib*fc-lb*E)/pc/2;lb=(lb*u-Ib*Sb)/pc;2<Ac(lb)&&(lb/=2);zb-=fc;Eb-=lb}while((1E-6<
Ac(fc)||1E-6<Ac(lb))&&0<--Yb);return ya*Eb>-Xd(bc(zb),Da)-.001?[2*zb,Eb]:null};return N}function sb(M,N){N=ua(N/2);var Y=fb(1-N*N),ia=1+Y*bc(M/=2);M=S(M)*Y/ia;N/=ia;ia=M*M;Y=N*N;return[4/3*M*(3+ia-3*Y),4/3*N*(3+3*ia-Y)]}function Wa(M,N){var Y=Ac(N);return Y<Vb?[M,Ke(ua(Vb+N/2))]:[M*bc(Y)*(2*Gc-1/S(Y)),K(N)*(2*Gc*(Y-Vb)-Ke(ua(Y/2)))]}function Ha(M){function N(ia,ya){ya=x.geoAzimuthalEquidistantRaw(ia,ya);if(Ac(ia)>Va){ia=Xd(ya[1],ya[0]);var Da=fb(ya[0]*ya[0]+ya[1]*ya[1]),Za=Y*Pe((ia-Va)/Y)+Va,tb=Xd(S(ia-=
Za),2-bc(ia));ia=Za+Sa(Ka/Da*S(tb))-tb;ya[0]=Da*bc(ia);ya[1]=Da*S(ia)}return ya}var Y=2*Ka/M;N.invert=function(ia,ya){var Da=fb(ia*ia+ya*ya);if(Da>Va){var Za=Xd(ya,ia);ia=Y*Pe((Za-Va)/Y)+Va;ya=Za>ia?-1:1;Za=Da*bc(ia-Za);Za=1/ua(ya*Wb((Za-Ka)/fb(Ka*(Ka-2*Za)+Da*Da)));Za=ia+2*Be((Za+ya*fb(Za*Za-3))/3);ia=Da*bc(Za);ya=Da*S(Za)}return x.geoAzimuthalEquidistantRaw.invert(ia,ya)};return N}function Ia(M,N){function Y(ia,ya){ia=x.geoAzimuthalEqualAreaRaw(ia/N,ya);ia[0]*=M;return ia}2>arguments.length&&(N=
M);if(1===N)return x.geoAzimuthalEqualAreaRaw;if(Infinity===N)return Ya;Y.invert=function(ia,ya){ia=x.geoAzimuthalEqualAreaRaw.invert(ia/M,ya);ia[0]*=N;return ia};return Y}function Ya(M,N){return[M*bc(N)/bc(N/=2),2*S(N)]}function mb(M,N,Y){var ia=100;Y=void 0===Y?0:+Y;N=+N;do{var ya=M(Y);var Da=M(Y+1E-6);ya===Da&&(Da=ya+1E-6);Y-=ya=-1E-6*(ya-N)/(ya-Da)}while(0<ia--&&1E-6<Ac(ya));return 0>ia?NaN:Y}function Ea(M,N,Y){void 0===N&&(N=40);void 0===Y&&(Y=1E-12);return function(ia,ya,Da,Za){Da=void 0===
Da?0:+Da;Za=void 0===Za?0:+Za;for(var tb=0;tb<N;tb++){var nb=M(Da,Za),zb=nb[0]-ia,Eb=nb[1]-ya;if(Ac(zb)<Y&&Ac(Eb)<Y)break;var Yb=zb*zb+Eb*Eb;if(Yb>pc)Da-=E/=2,Za-=ka/=2;else{var pc=Yb;Yb=(0<Da?-1:1)*Y;var u=(0<Za?-1:1)*Y;var E=M(Da+Yb,Za);var aa=M(Da,Za+u);var ka=(E[0]-nb[0])/Yb;Yb=(E[1]-nb[1])/Yb;E=(aa[0]-nb[0])/u;nb=(aa[1]-nb[1])/u;u=nb*ka-Yb*E;u=(.5>Ac(u)?.5:1)/u;E=(Eb*E-zb*nb)*u;ka=(zb*Yb-Eb*ka)*u;Da+=E;Za+=ka;if(Ac(E)<Y&&Ac(ka)<Y)break}}return[Da,Za]}}function Ga(){function M(Y,ia){if(-1.4>Y+
ia){var ya=(Y-ia+1.6)*(Y+ia+1.4)/8;Y+=ya;ia-=.8*ya*S(ia+Ka/2)}ya=N(Y,ia);Y=(1-bc(Y*ia))/12;0>ya[1]&&(ya[0]*=1+Y);0<ya[1]&&(ya[1]*=1+Y/1.5*ya[0]*ya[0]);return ya}var N=Ia(1.68,2);M.invert=Ea(M);return M}function jb(M,N){M*=S(N);var Y=30,ia;do N-=ia=(N+S(N)-M)/(1+bc(N));while(1E-6<Ac(ia)&&0<--Y);return N/2}function Ca(M,N,Y){function ia(ya,Da){return[M*ya*bc(Da=jb(Y,Da)),N*S(Da)]}ia.invert=function(ya,Da){return Da=Sa(Da/N),[ya/(M*bc(Da)),Sa((2*Da+S(2*Da))/Y)]};return ia}function ab(M,N){var Y=jb(Ka,
N);return[2.00276*M/(1/bc(N)+1.11072/bc(Y)),(N+Gc*S(Y))/2.00276]}function Ma(M){var N=0,Y=x.geoProjectionMutator(M);M=Y(N);M.parallel=function(ia){return arguments.length?Y(N=ia*fd):N*id};return M}function ja(M,N){return[M*bc(N),N]}function Aa(M){function N(ia,ya){var Da=Y+M-ya;ia=Da?ia*bc(ya)/Da:Da;return[Da*S(ia),Y-Da*bc(ia)]}if(!M)return ja;var Y=1/ua(M);N.invert=function(ia,ya){var Da=fb(ia*ia+(ya=Y-ya)*ya),Za=Y+M-Da;return[Da/bc(Za)*Xd(ia,ya),Za]};return N}function Qa(M){function N(Y,ia){Y=(ia=
Va-ia)?Y*M*S(ia)/ia:ia;return[ia*S(Y)/M,Va-ia*bc(Y)]}N.invert=function(Y,ia){Y*=M;var ya=Va-ia;ia=fb(Y*Y+ya*ya);Y=Xd(Y,ya);return[(ia?ia/S(ia):1)*Y/M,Va-ia]};return N}function Xa(M,N,Y,ia,ya,Da){var Za=bc(Da);if(1<Ac(M)||1<Ac(Da))M=Wb(Y*ya+N*ia*Za);else{M=S(M/2);var tb=S(Da/2);M=2*Sa(fb(M*M+N*ia*tb*tb))}return 1E-6<Ac(M)?[M,Xd(ia*S(Da),N*ya-Y*ia*Za)]:[0,0]}function hb(M,N,Y){return Wb((M*M+N*N-Y*Y)/(2*M*N))}function cb(M,N,Y){var ia=[[M[0],M[1],S(M[1]),bc(M[1])],[N[0],N[1],S(N[1]),bc(N[1])],[Y[0],
Y[1],S(Y[1]),bc(Y[1])]];M=ia[2];for(Y=0;3>Y;++Y,M=N)N=ia[Y],M.v=Xa(N[1]-M[1],M[3],M[2],N[3],N[2],N[0]-M[0]),M.point=[0,0];M=hb(ia[0].v[0],ia[2].v[0],ia[1].v[0]);var ya=hb(ia[0].v[0],ia[1].v[0],ia[2].v[0]),Da=Ka-M;ia[2].point[1]=0;ia[0].point[0]=-(ia[1].point[0]=ia[0].v[0]/2);var Za=[ia[2].point[0]=ia[0].point[0]+ia[2].v[0]*bc(M),2*(ia[0].point[1]=ia[1].point[1]=ia[2].v[0]*S(M))];return function(tb,nb){var zb=S(nb),Eb=bc(nb),Yb=Array(3),pc;for(pc=0;3>pc;++pc){var u=ia[pc];Yb[pc]=Xa(nb-u[1],u[3],u[2],
Eb,zb,tb-u[0]);if(!Yb[pc][0])return u.point;var E=Yb[pc];u=Yb[pc][1]-u.v[1];u-=2*Ka*pe((u+Ka)/(2*Ka));E[1]=u}tb=Za.slice();for(pc=0;3>pc;++pc)nb=hb(ia[pc].v[0],Yb[pc][0],Yb[2==pc?0:pc+1][0]),0>Yb[pc][1]&&(nb=-nb),pc?1==pc?(nb=ya-nb,tb[0]-=Yb[pc][0]*bc(nb),tb[1]-=Yb[pc][0]*S(nb)):(nb=Da-nb,tb[0]+=Yb[pc][0]*bc(nb),tb[1]+=Yb[pc][0]*S(nb)):(tb[0]+=Yb[pc][0]*bc(nb),tb[1]-=Yb[pc][0]*S(nb));tb[0]/=3;tb[1]/=3;return tb}}function ob(M){return M[0]*=fd,M[1]*=fd,M}function $a(M,N,Y){var ia=x.geoCentroid({type:"MultiPoint",
coordinates:[M,N,Y]});ia=[-ia[0],-ia[1]];var ya=x.geoRotation(ia);M=cb(ob(ya(M)),ob(ya(N)),ob(ya(Y)));M.invert=Ea(M);M=x.geoProjection(M).rotate(ia);var Da=M.center;delete M.rotate;M.center=function(Za){return arguments.length?Da(ya(Za)):ya.invert(Da())};return M.clipAngle(90)}function Q(M,N){N=fb(1-S(N));return[2/uc*M*N,uc*(1-N)]}function H(M){function N(ia,ya){return[ia,(ia?ia/S(ia):1)*(S(ya)*bc(ia)-Y*bc(ya))]}var Y=ua(M);N.invert=Y?function(ia,ya){ia&&(ya*=S(ia)/ia);var Da=bc(ia);return[ia,2*Xd(fb(Da*
Da+Y*Y-ya*ya)-Da,Y-ya)]}:function(ia,ya){return[ia,Sa(ia?ya*ua(ia)/ia:ya)]};return N}function T(M,N){return[Te*M*(2*bc(2*N/3)-1)/uc,Te*uc*S(N/3)]}function na(M){function N(ia,ya){return[ia*Y,S(ya)/Y]}var Y=bc(M);N.invert=function(ia,ya){return[ia/Y,Sa(ya*Y)]};return N}function O(M){function N(ia,ya){return[ia*Y,(1+Y)*ua(ya/2)]}var Y=bc(M);N.invert=function(ia,ya){return[ia/Y,2*Be(ya/(1+Y))]};return N}function W(M,N){var Y=fb(8/(3*Ka));return[Y*M*(1-Ac(N)/Ka),Y*N]}function ea(M,N){var Y=fb(4-3*S(Ac(N)));
return[2/fb(6*Ka)*M*Y,K(N)*fb(2*Ka/3)*(2-Y)]}function pa(M,N){var Y=fb(Ka*(4+Ka));return[2/Y*M*(1+fb(1-4*N*N/(Ka*Ka))),4/Y*N]}function Ua(M,N){var Y=(2+Va)*S(N);N/=2;for(var ia=0,ya=Infinity;10>ia&&1E-6<Ac(ya);ia++)ya=bc(N),N-=ya=(N+S(N)*(ya+2)-Y)/(2*ya*(1+ya));return[2/fb(Ka*(4+Ka))*M*(1+bc(N)),2*fb(Ka/(4+Ka))*S(N)]}function db(M,N){return[M*(1+bc(N))/fb(2+Ka),2*N/fb(2+Ka)]}function U(M,N){for(var Y=(1+Va)*S(N),ia=0,ya=Infinity;10>ia&&1E-6<Ac(ya);ia++)N-=ya=(N+S(N)-Y)/(1+bc(N));Y=fb(2+Ka);return[M*
(1+bc(N))/Y,2*N/Y]}function va(M,N){var Y=S(M/=2);M=bc(M);var ia=fb(bc(N)),ya=bc(N/=2);N=S(N)/(ya+Gc*M*ia);var Da=fb(2/(1+N*N));Y=fb((Gc*ya+(M+Y)*ia)/(Gc*ya+(M-Y)*ia));return[Me*(Da*(Y-1/Y)-2*Ke(Y)),Me*(Da*N*(Y+1/Y)-2*Be(N))]}function xa(M,N){N=ua(N/2);return[M*uf*fb(1-N*N),(1+uf)*N]}function ma(M,N){var Y=N/2,ia=bc(Y);return[2*M/uc*bc(N)*ia*ia,uc*ua(Y)]}function R(M){function N(nb,zb){var Eb=bc(zb),Yb=S(zb);return[Eb/(ya+M*Eb)*nb,ya*zb+M*Yb]}function Y(nb,zb){nb=N(nb,zb);return[nb[0]*tb,nb[1]/tb]}
function ia(nb){return Y(0,nb)[1]}var ya=1-M,Da=N(Ka,0)[0]-N(-Ka,0)[0],Za=N(0,Va)[1]-N(0,-Va)[1],tb=fb(2*Za/Da);Y.invert=function(nb,zb){zb=mb(ia,zb);return[nb/tb*(M+ya/bc(zb)),zb]};return Y}function v(M){return[2*M[0],2*Be(S(M[1]*fd))*id]}function w(M,N){function Y(Da,Za){Da=x.geoAzimuthalEquidistantRaw(Da,Za);Za=Da[0];var tb=Da[1],nb=Za*Za+tb*tb;if(nb>ya){var zb=fb(nb);Za=Xd(tb,Za);nb=ia*Pe(Za/ia);tb=Za-nb;var Eb=M*bc(tb),Yb=(M*S(tb)-tb*S(Eb))/(Va-Eb),pc=p(tb,Yb),u=(Ka-M)/r(pc,Eb,Ka);Za=zb;var E=
50,aa;do Za-=aa=(M+r(pc,Eb,Za)*u-zb)/(pc(Za)*u);while(1E-6<Ac(aa)&&0<--E);tb*=S(Za);Za<Va&&(tb-=Yb*(Za-Va));zb=S(nb);nb=bc(nb);Da[0]=Za*nb-tb*zb;Da[1]=Za*zb+tb*nb}return Da}var ia=2*Ka/N,ya=M*M;Y.invert=function(Da,Za){var tb=Da*Da+Za*Za;if(tb>ya){var nb=fb(tb);Za=Xd(Za,Da);tb=ia*Pe(Za/ia);Za-=tb;Da=nb*bc(Za);Za=nb*S(Za);nb=Da-Va;for(var zb=S(Da),Eb=Za/zb,Yb=Da<Va?Infinity:0,pc=10;;){var u=M*S(Eb),E=M*bc(Eb),aa=S(E),ka=Va-E,lb=(u-Eb*aa)/ka,Ib=p(Eb,lb);if(1E-12>Ac(Yb)||!--pc)break;Eb-=Yb=(Eb*zb-lb*
nb-Za)/(zb-2*nb*(ka*(E+Eb*u*bc(E)-aa)-u*(u-Eb*aa))/(ka*ka))}nb=M+r(Ib,E,Da)*(Ka-M)/r(Ib,E,Ka);Za=tb+Eb;Da=nb*bc(Za);Za=nb*S(Za)}return x.geoAzimuthalEquidistantRaw.invert(Da,Za)};return Y}function p(M,N){return function(Y){var ia=M*bc(Y);Y<Va&&(ia-=N);return fb(1+ia*ia)}}function r(M,N,Y){var ia=(Y-N)/50;Y=M(N)+M(Y);for(var ya=1;50>ya;++ya)Y+=2*M(N+=ia);return.5*Y*ia}function C(M,N,Y,ia,ya,Da,Za,tb){function nb(zb,Eb){if(!Eb)return[M*zb/Ka,0];var Yb=Eb*Eb,pc=M+Yb*(N+Yb*(Y+Yb*ia)),u=Eb*(ya-1+Yb*(Da-
tb+Yb*Za));u=(pc*pc+u*u)/(2*u);zb=zb*Sa(pc/u)/Ka;return[u*S(zb),Eb*(1+Yb*tb)+u*(1-bc(zb))]}8>arguments.length&&(tb=0);nb.invert=function(zb,Eb){var Yb=Ka*zb/M,pc=Eb,u=50;do{var E=pc*pc,aa=M+E*(N+E*(Y+E*ia)),ka=pc*(ya-1+E*(Da-tb+E*Za)),lb=aa*aa+ka*ka,Ib=2*ka;var Sb=lb/Ib;var fc=Sb*Sb;var zc=Sa(aa/Sb)/Ka;var Tc=Yb*zc,Rc=aa*aa,yd=(2*N+E*(4*Y+6*E*ia))*pc,Md=ya+E*(3*Da+5*E*Za);ka=(2*(aa*yd+ka*(Md-1))*Ib-2*lb*(Md-1))/(Ib*Ib);lb=bc(Tc);Md=S(Tc);Ib=Sb*lb;Tc=Sb*Md;fc=Yb/Ka*(1/fb(1-Rc/fc))*(yd*Sb-aa*ka)/fc;
aa=Tc-zb;E=pc*(1+E*tb)+Sb-Ib-Eb;Sb=ka*Md+Ib*fc;Rc=Ib*zc;ka=1+ka-(ka*lb-Tc*fc);zc*=Tc;lb=Sb*zc-ka*Rc;if(!lb)break;Yb-=Sb=(E*Sb-aa*ka)/lb;pc-=zc=(aa*zc-E*Rc)/lb}while((1E-6<Ac(Sb)||1E-6<Ac(zc))&&0<--u);return[Yb,pc]};return nb}function D(M,N){var Y=M*M,ia=N*N;return[M*(1-.162388*ia)*(.87-9.52426E-4*Y*Y),N*(1+ia/12)]}function G(M){function N(ia,ya){var Da=0<ia?-.5:.5;ia=M(ia+Da*Ka,ya);ia[0]-=Da*Y;return ia}var Y=M(Va,0)[0]-M(-Va,0)[0];M.invert&&(N.invert=function(ia,ya){var Da=0<ia?-.5:.5;ia=M.invert(ia+
Da*Y,ya);Da=ia[0]-Da*Ka;Da<-Ka?Da+=2*Ka:Da>Ka&&(Da-=2*Ka);ia[0]=Da;return ia});return N}function B(M,N){var Y=K(M),ia=K(N),ya=bc(N),Da=bc(M)*ya;M=S(M)*ya;N=S(ia*N);M=Ac(Xd(M,N));N=Sa(Da);1E-6<Ac(M-Va)&&(M%=Va);Da=fa(M>Ka/4?Va-M:M,N);M>Ka/4&&(N=Da[0],Da[0]=-Da[1],Da[1]=-N);return Da[0]*=Y,Da[1]*=-ia,Da}function fa(M,N){if(N===Va)return[0,0];var Y=S(N),ia=Y*Y,ya=ia*ia,Da=1+ya,Za=1+3*ya,tb=1-ya,nb=Sa(1/fb(Da)),zb=tb+ia*Da*nb,Eb=(1-Y)/zb,Yb=fb(Eb),pc=Eb*Da,u=fb(pc),E=Yb*tb;if(0===M)return[0,-(E+ia*u)];
var aa=bc(N),ka=1/aa,lb=2*Y*aa;nb=(-zb*aa-(1-Y)*(-3*ia+nb*Za)*lb)/(zb*zb);Y=-ka*lb;Da=-ka*(ia*Da*nb+Eb*Za*lb);tb=-2*ka*(.5*nb/Yb*tb-2*ia*Yb*lb);Yb=4*M/Ka;if(M>.222*Ka||N<Ka/4&&M>.175*Ka){N=(E+ia*fb(pc*(1+ya)-E*E))/(1+ya);if(M>Ka/4)return[N,N];ya=N;ka=.5*N;N=.5*(ka+ya);M=50;do{lb=fb(pc-N*N);lb=N*(tb+Y*lb)+Da*Sa(N/u)-Yb;if(!lb)break;0>lb?ka=N:ya=N;N=.5*(ka+ya)}while(1E-6<Ac(ya-ka)&&0<--M)}else{N=1E-6;M=25;do lb=N*N,ya=fb(pc-lb),Za=tb+Y*ya,ka=N*Za+Da*Sa(N/u)-Yb,lb=Za+(Da-Y*lb)/ya,N-=ya=ya?ka/lb:0;while(1E-6<
Ac(ya)&&0<--M)}return[N,-E-ia*fb(pc-N*N)]}function wa(M,N){if(1E-6>N){var Y=S(M);var ia=bc(M);var ya=N*(M-Y*ia)/4;return[Y-ya*ia,ia+ya*Y,1-N*Y*Y/2,M-ya]}if(.999999<=N){ya=(1-N)/4;ia=Qb(M);Y=Je(2*M);Y=(Y-1)/(Y+1);N=1/ia;var Da=ia*ub(M);return[Y+ya*(Da-M)/(ia*ia),N-ya*Y*N*(Da-M),N+ya*Y*N*(Da+M),2*Be(Je(M))-Va+ya*(Da-M)/ia]}var Za=[1,0,0,0,0,0,0,0,0],tb=[fb(N),0,0,0,0,0,0,0,0],nb=0;ia=fb(1-N);for(Da=1;1E-6<Ac(tb[nb]/Za[nb])&&8>nb;)ya=Za[nb++],tb[nb]=(ya-ia)/2,Za[nb]=(ya+ia)/2,ia=fb(ya*ia),Da*=2;N=Da*
Za[nb]*M;do Y=tb[nb]*S(ia=N)/Za[nb],N=(Sa(Y)+N)/2;while(--nb);return[S(N),Y=bc(N),Y/bc(N-ia),N]}function la(M,N){if(!N)return M;if(1===N)return Ke(ua(M/2+Vb));var Y=1,ia=fb(1-N),ya=fb(N);for(N=0;1E-6<Ac(ya);N++)M%Ka?(ya=Be(ia*ua(M)/Y),0>ya&&(ya+=Ka),M+=ya+~~(M/Ka)*Ka):M+=M,ya=(Y+ia)/2,ia=fb(Y*ia),ya=((Y=ya)-ia)/2;return M/(tf(2,N)*Y)}function Ta(M,N){var Y=(Gc-1)/(Gc+1),ia=fb(1-Y*Y),ya=la(Va,ia*ia),Da=Ke(ua(Ka/4+Ac(N)/2));Da=Je(-1*Da)/fb(Y);Y=Da*bc(-1*M);var Za=Da*S(-1*M);M=Y*Y;Da=Za+1;Za=1-M-Za*
Za;M=[.5*((0<=Y?Va:-Va)-Xd(Za,2*Y)),-.25*Ke(Za*Za+4*M)+.5*Ke(Da*Da+M)];Y=M[0];M=M[1];ia*=ia;Da=Ac(Y);Za=Ac(M);Za=ub(Za);if(Da){var tb=1/S(Da);Da=1/(ua(Da)*ua(Da));Za=-(Da+ia*Za*Za*tb*tb-1+ia);Za=(-Za+fb(Za*Za-4*(ia-1)*Da))/2;ia=[la(Be(1/fb(Za)),ia)*K(Y),la(Be(fb((Za/Da-1)/ia)),1-ia)*K(M)]}else ia=[0,la(Be(Za),1-ia)*K(M)];return[-ia[1],(0<=N?1:-1)*(.5*ya-ia[0])]}function Ja(M){function N(Da,Za){var tb=ya(Da,Za);Da=tb[0];Za=tb[1];tb=S(Za);Za=bc(Za);var nb=bc(Da),zb=Wb(Y*tb+ia*Za*nb),Eb=S(zb);zb=1E-6<
Ac(Eb)?zb/Eb:1;return[zb*ia*S(Da),(Ac(Da)>Va?zb:-zb)*(Y*Za-ia*tb*nb)]}var Y=S(M),ia=bc(M),ya=Z(M);ya.invert=Z(-M);N.invert=function(Da,Za){var tb=fb(Da*Da+Za*Za),nb=-S(tb),zb=bc(tb),Eb=tb*zb,Yb=-Za*nb,pc=tb*Y,u=fb(Eb*Eb+Yb*Yb-pc*pc);Eb=Xd(Eb*pc+Yb*u,Yb*pc-Eb*u);Da=(tb>Va?-1:1)*Xd(Da*nb,tb*bc(Eb)*zb+Za*S(Eb)*nb);return ya.invert(Da,Eb)};return N}function Z(M){var N=S(M),Y=bc(M);return function(ia,ya){var Da=bc(ya),Za=bc(ia)*Da;ia=S(ia)*Da;ya=S(ya);return[Xd(ia,Za*Y-ya*N),Sa(ya*Y+Za*N)]}}function sa(M){function N(Eb,
Yb){var pc=Ac(Yb);if(pc>Y){var u=kf(M-1,Cf(0,pe((Eb+Ka)/tb)));Eb+=Ka*(M-1)/M-u*tb;Eb=Q(Eb,pc);Eb[0]=Eb[0]*Fc/ia-Fc*(M-1)/(2*M)+u*Fc/M;Eb[1]=ya+4*(Eb[1]-Da)*Za/Fc;0>Yb&&(Eb[1]=-Eb[1])}else Eb=$f(Eb,Yb);Eb[0]*=nb;Eb[1]/=zb;return Eb}var Y=Ze*fd,ia=Q(Ka,Y)[0]-Q(-Ka,Y)[0],ya=$f(0,Y)[1],Da=Q(0,Y)[1],Za=uc-Da,tb=Fc/M,nb=4/Fc,zb=ya+Za*Za*4/Fc;N.invert=function(Eb,Yb){Eb/=nb;Yb*=zb;var pc=Ac(Yb);if(pc>ya){var u=kf(M-1,Cf(0,pe((Eb+Ka)/tb)));Eb=(Eb+Ka*(M-1)/M-u*tb)*ia/Fc;Eb=Q.invert(Eb,.25*(pc-ya)*Fc/Za+Da);
Eb[0]-=Ka*(M-1)/M-u*tb;0>Yb&&(Eb[1]=-Eb[1]);return Eb}return $f.invert(Eb,Yb)};return N}function eb(M,N){return[M,N&1?89.999999:Ze]}function xb(M,N){return[M,N&1?-89.999999:-Ze]}function Kb(M){return[.999999*M[0],M[1]]}function ec(M){var N=[].concat(ca.range(-180,180+M/2,M).map(eb),ca.range(180,-180-M/2,-M).map(xb));return{type:"Polygon",coordinates:[180===M?N.map(Kb):N]}}function Ec(M){function N(Eb,Yb){var pc=1-S(Yb);if(pc&&2>pc){var u=Va-Yb,E=25;do{var aa=S(u);var ka=bc(u);Yb=ya+Xd(aa,Y-ka);ka=
1+zb-2*Y*ka;u-=aa=(u-nb*ya-Y*aa+ka*Yb-.5*pc*Za)/(2*Y*aa*Yb)}while(1E-12<Ac(aa)&&0<--E);pc=Da*fb(ka);Eb=Eb*Yb/Ka}else pc=Da*(M+pc),Eb=Eb*ya/Ka;return[pc*S(Eb),tb-pc*bc(Eb)]}var Y=1+M,ia=S(1/Y),ya=Sa(ia),Da=2*fb(Ka/(Za=Ka+4*ya*Y)),Za,tb=.5*Da*(Y+fb(M*(2+M))),nb=M*M,zb=Y*Y;N.invert=function(Eb,Yb){var pc=Eb*Eb+(Yb-=tb)*Yb;Yb=(1+zb-pc/(Da*Da))/(2*Y);var u=Wb(Yb),E=S(u),aa=ya+Xd(E,Y-Yb);return[Sa(Eb/fb(pc))*Ka/aa,Sa(1-2*(u-nb*ya-Y*E+(1+zb-2*Y*Yb)*aa)/Za)]};return N}function gd(M,N){return-.7109889596207567<
N?(M=zd(M,N),M[1]+=.0528035274542,M):ja(M,N)}function Dc(M,N){return.7109889596207567<Ac(N)?(M=zd(M,N),M[1]-=0<N?.0528035274542:-.0528035274542,M):ja(M,N)}function Sc(M,N,Y,ia){function ya(Yb){return fb(1+M*bc(2*Yb)+N*bc(4*Yb))}function Da(Yb){Yb*=Y;return(2*Yb+(1+M-N/2)*S(2*Yb)+(M+N)/2*S(4*Yb)+N/2*S(6*Yb))/Y}function Za(Yb){return ya(Yb)*S(Yb)}var tb=fb(4*Ka/(2*Y+(1+M-N/2)*S(2*Y)+(M+N)/2*S(4*Y)+N/2*S(6*Y))),nb=fb(ia*S(Y)*fb((1+M*bc(2*Y)+N*bc(4*Y))/(1+M+N))),zb=Y*Da(1),Eb=function(Yb,pc){var u=Y*
mb(Da,zb*S(pc)/Y,pc/Ka);isNaN(u)&&(u=Y*K(pc));pc=tb*ya(u);return[pc*nb*Yb/Ka*bc(u),pc/nb*S(u)]};Eb.invert=function(Yb,pc){pc=mb(Za,pc*nb/tb);return[Yb*Ka/(bc(pc)*tb*nb*ya(pc)),Sa(Y*Da(pc/Y)/zb)]};0===Y&&(tb=fb(ia/Ka),Eb=function(Yb,pc){return[Yb*tb,S(pc)/tb]},Eb.invert=function(Yb,pc){return[Yb/tb,Sa(pc*tb)]});return Eb}function Ra(M,N,Y,ia,ya,Da,Za,tb,nb,zb,Eb){if(Eb.nanEncountered)return NaN;var Yb=Y-N;var pc=M(N+.25*Yb);var u=M(Y-.25*Yb);if(isNaN(pc))Eb.nanEncountered=!0;else if(isNaN(u))Eb.nanEncountered=
!0;else{var E=Yb*(ia+4*pc+ya)/12;var aa=Yb*(ya+4*u+Da)/12;var ka=E+aa;Za=(ka-Za)/15;if(zb>nb)return Eb.maxDepthCount++,ka+Za;if(Math.abs(Za)<tb)return ka+Za;Yb=N+.5*Yb;N=Ra(M,N,Yb,ia,pc,ya,E,.5*tb,nb,zb+1,Eb);if(isNaN(N))return Eb.nanEncountered=!0,NaN;M=Ra(M,Yb,Y,ya,u,Da,aa,.5*tb,nb,zb+1,Eb);return isNaN(M)?(Eb.nanEncountered=!0,NaN):N+M}}function nc(M,N,Y,ia,ya){void 0===ia&&(ia=1E-8);void 0===ya&&(ya=20);var Da=M(N),Za=M(.5*(N+Y)),tb=M(Y);return Ra(M,N,Y,Da,Za,tb,(Da+4*Za+tb)*(Y-N)/6,ia,ya,1,{maxDepthCount:0,
nanEncountered:!1})}function kc(M,N,Y){function ia(Eb){return M+(1-M)*tf(1-tf(Eb,N),1/N)}function ya(Eb){var Yb=0,pc=1E3,u=500;do tb[u]>Eb?pc=u:Yb=u,u=Yb+pc>>1;while(u>Yb);(Yb=tb[u+1]-tb[u])&&(Yb=(Eb-tb[u+1])/Yb);return(u+1+Yb)/1E3}for(var Da=1/nc(ia,0,1,1E-4),Za=1.00000001*Da,tb=[],nb=0;1E3>=nb;nb++)tb.push(nc(ia,0,nb/1E3,1E-4)*Za);var zb=2*ya(1)/Ka*Da/Y;Y=function(Eb,Yb){var pc=ya(Ac(S(Yb)));Eb*=ia(pc);pc/=zb;return[Eb,0<=Yb?pc:-pc]};Y.invert=function(Eb,Yb){var pc;Yb*=zb;1>Ac(Yb)&&(pc=K(Yb)*Sa(nc(ia,
0,Ac(Yb),1E-4)*Da));return[Eb/ia(Ac(Yb)),pc]};return Y}function wc(M,N){for(var Y=-1,ia=M.length,ya=M[0],Da,Za,tb,nb=[];++Y<ia;){Da=M[Y];Za=(Da[0]-ya[0])/N;tb=(Da[1]-ya[1])/N;for(var zb=0;zb<N;++zb)nb.push([ya[0]+zb*Za,ya[1]+zb*tb]);ya=Da}nb.push(Da);return nb}function Pc(M){var N=[],Y,ia=M[0].length;for(Y=0;Y<ia;++Y){var ya=M[0][Y];var Da=ya[0][0];var Za=ya[0][1];var tb=ya[1][1];var nb=ya[2][0];ya=ya[2][1];N.push(wc([[Da+1E-6,Za+1E-6],[Da+1E-6,tb-1E-6],[nb-1E-6,tb-1E-6],[nb-1E-6,ya+1E-6]],30))}for(Y=
M[1].length-1;0<=Y;--Y)ya=M[1][Y],Da=ya[0][0],Za=ya[0][1],tb=ya[1][1],nb=ya[2][0],ya=ya[2][1],N.push(wc([[nb-1E-6,ya-1E-6],[nb-1E-6,tb+1E-6],[Da+1E-6,tb+1E-6],[Da+1E-6,Za-1E-6]],30));return{type:"Polygon",coordinates:[ca.merge(N)]}}function rc(M,N,Y){function ia(nb,zb){for(var Eb=0>zb?-1:1,Yb=N[+(0>zb)],pc=0,u=Yb.length-1;pc<u&&nb>Yb[pc][2][0];++pc);nb=M(nb-Yb[pc][1][0],zb);nb[0]+=M(Yb[pc][1][0],Eb*zb>Eb*Yb[pc][0][1]?Yb[pc][0][1]:zb)[0];return nb}var ya,Da;Y?ia.invert=Y(ia):M.invert&&(ia.invert=function(nb,
zb){for(var Eb=Da[+(0>zb)],Yb=N[+(0>zb)],pc=0,u=Eb.length;pc<u;++pc){var E=Eb[pc];if(E[0][0]<=nb&&nb<E[1][0]&&E[0][1]<=zb&&zb<E[1][1])return Eb=M.invert(nb-M(Yb[pc][1][0],0)[0],zb),Eb[0]+=Yb[pc][1][0],Yb=ia(Eb[0],Eb[1]),nb=[nb,zb],1E-6>Ac(Yb[0]-nb[0])&&1E-6>Ac(Yb[1]-nb[1])?Eb:null}});var Za=x.geoProjection(ia),tb=Za.stream;Za.stream=function(nb){var zb=Za.rotate(),Eb=tb(nb),Yb=(Za.rotate([0,0]),tb(nb));Za.rotate(zb);Eb.sphere=function(){x.geoStream(ya,Yb)};return Eb};Za.lobes=function(nb){if(!arguments.length)return N.map(function(zb){return zb.map(function(Eb){return[[Eb[0][0]*
id,Eb[0][1]*id],[Eb[1][0]*id,Eb[1][1]*id],[Eb[2][0]*id,Eb[2][1]*id]]})});ya=Pc(nb);N=nb.map(function(zb){return zb.map(function(Eb){return[[Eb[0][0]*fd,Eb[0][1]*fd],[Eb[1][0]*fd,Eb[1][1]*fd],[Eb[2][0]*fd,Eb[2][1]*fd]]})});Da=N.map(function(zb){return zb.map(function(Eb){var Yb=M(Eb[0][0],Eb[0][1])[0],pc=M(Eb[2][0],Eb[2][1])[0],u=M(Eb[1][0],Eb[0][1])[1];Eb=M(Eb[1][0],Eb[1][1])[1];if(u>Eb){var E=u;u=Eb;Eb=E}return[[Yb,u],[pc,Eb]]})});return Za};null!=N&&Za.lobes(N);return Za}function Xc(M,N){return[3/
Fc*M*fb(Ka*Ka/3-N*N),N]}function $c(M){function N(Y,ia){if(1E-6>Ac(Ac(ia)-Va))return[0,0>ia?-2:2];ia=S(ia);ia=tf((1+ia)/(1-ia),M/2);var ya=.5*(ia+1/ia)+bc(Y*=M);return[2*S(Y)/ya,(ia-1/ia)/ya]}N.invert=function(Y,ia){var ya=Ac(ia);if(1E-6>Ac(ya-2))return Y?null:[0,K(ia)*Va];if(2<ya)return null;Y/=2;ia/=2;ya=Y*Y;var Da=ia*ia;ia=2*ia/(1+ya+Da);ia=tf((1+ia)/(1-ia),1/M);return[Xd(2*Y,1-ya-Da)/M,Sa((ia-1)/(ia+1))]};return N}function Nc(M,N){return[M*(1+fb(bc(N)))/2,N/(bc(N/2)*bc(M/6))]}function Dd(M,N){var Y=
M*M,ia=N*N;return[M*(.975534+ia*(-.119161+-.0143059*Y+-.0547009*ia)),N*(1.00384+Y*(.0802894+-.02855*ia+1.99025E-4*Y)+ia*(.0998909+-.0491032*ia))]}function we(M,N){return[S(M)/bc(N),ua(N)*bc(M)]}function ld(M){function N(ya,Da){var Za=Da-M,tb=1E-6>Ac(Za)?ya*Y:1E-6>Ac(tb=Vb+Da/2)||1E-6>Ac(Ac(tb)-Va)?0:ya*Za/Ke(ua(tb)/ia);return[tb,Za]}var Y=bc(M),ia=ua(Vb+M/2);N.invert=function(ya,Da){var Za,tb=Da+M;return[1E-6>Ac(Da)?ya/Y:1E-6>Ac(Za=Vb+tb/2)||1E-6>Ac(Ac(Za)-Va)?0:ya*Ke(ua(Za)/ia)/Da,tb]};return N}
function sd(M,N){return[M,1.25*Ke(ua(Vb+.4*N))]}function ge(M){function N(ia,ya){var Da=bc(ya),Za=2/(1+Da*bc(ia));ia=Za*Da*S(ia);ya=Za*S(ya);Za=Y;Da=M[Za];for(var tb=Da[0],nb=Da[1],zb;0<=--Za;)Da=M[Za],tb=Da[0]+ia*(zb=tb)-ya*nb,nb=Da[1]+ia*nb+ya*zb;tb=ia*(zb=tb)-ya*nb;return[tb,ia*nb+ya*zb]}var Y=M.length-1;N.invert=function(ia,ya){var Da=20,Za=ia,tb=ya;do{for(var nb=Y,zb=M[nb],Eb=zb[0],Yb=zb[1],pc=0,u=0,E;0<=--nb;)zb=M[nb],pc=Eb+Za*(E=pc)-tb*u,u=Yb+Za*u+tb*E,Eb=zb[0]+Za*(E=Eb)-tb*Yb,Yb=zb[1]+Za*
Yb+tb*E;pc=Eb+Za*(E=pc)-tb*u;u=Yb+Za*u+tb*E;Eb=Za*(E=Eb)-tb*Yb-ia;Yb=Za*Yb+tb*E-ya;zb=pc*pc+u*u;Za-=nb=(Eb*pc+Yb*u)/zb;tb-=Eb=(Yb*pc-Eb*u)/zb}while(1E-12<Ac(nb)+Ac(Eb)&&0<--Da);if(Da)return ia=fb(Za*Za+tb*tb),ya=2*Be(.5*ia),Da=S(ya),[Xd(Za*Da,ia*bc(ya)),ia?Sa(tb*Da/ia):0]};return N}function La(M,N){M=x.geoProjection(ge(M)).rotate(N).clipAngle(90);var Y=x.geoRotation(N),ia=M.center;delete M.rotate;M.center=function(ya){return arguments.length?ia(Y(ya)):Y.invert(ia())};return M}function vb(M,N){N=Sa(7*
S(N)/(3*ad));return[ad*M*(2*bc(2*N/3)-1)/ud,9*S(N/3)/ud]}function $b(M,N){for(var Y=(1+lc)*S(N),ia=0,ya;25>ia&&!(N-=ya=(S(N/2)+S(N)-Y)/(.5*bc(N/2)+bc(N)),1E-6>Ac(ya));ia++);return[M*(1+2*bc(N)/bc(N/2))/(3*Gc),2*fb(3)*S(N/2)/fb(2+Gc)]}function rd(M,N){var Y=fb(6/(4+Ka)),ia=(1+Ka/4)*S(N);N/=2;for(var ya=0,Da;25>ya&&!(N-=Da=(N/2+S(N)-ia)/(.5+bc(N)),1E-6>Ac(Da));ya++);return[Y*(.5+bc(N))*M/1.5,Y*N]}function vd(M,N){var Y=N*N,ia=Y*Y,ya=Y*ia;return[M*(.84719-.13063*Y+ya*ya*(-.04515+.05494*Y-.02326*ia+.00331*
ya)),N*(1.01183+ia*ia*(-.02625+.01926*Y-.00396*ia))]}function de(M,N){return[M*(1+bc(N))/2,2*(N-ua(N/2))]}function oe(M,N){var Y=S(N),ia=bc(N),ya=K(M);if(0===M||Ac(N)===Va)return[0,N];if(0===N)return[M,0];if(Ac(M)===Va)return[M*ia,Va*Y];M=Ka/(2*M)-2*M/Ka;var Da=2*N/Ka,Za=(1-Da*Da)/(Y-Da),tb=M*M,nb=Za*Za;Da=1+tb/nb;var zb=1+nb/tb,Eb=(M*Y/Za-M/2)/Da,Yb=(nb*Y/tb+Za/2)/zb;Y=Yb*Yb-(nb*Y*Y/tb+Za*Y-1)/zb;return[Va*(Eb+fb(Eb*Eb+ia*ia/Da)*ya),Va*(Yb+fb(0>Y?0:Y)*K(-N*M)*ya)]}function X(M,N){var Y=N*N;return[M,
N*(1.0148+Y*Y*(.23185+Y*(-.14499+.02406*Y)))]}function za(M,N){if(1E-6>Ac(N))return[M,0];var Y=ua(N);M*=S(N);return[S(M)/Y,N+(1-bc(M))/Y]}function gb(M,N){var Y=Zb(M[1],M[0]),ia=Zb(N[1],N[0]),ya=Xd(Y[0]*ia[1]-Y[1]*ia[0],Y[0]*ia[0]+Y[1]*ia[1]);Y=fb(Y[0]*Y[0]+Y[1]*Y[1])/fb(ia[0]*ia[0]+ia[1]*ia[1]);return Db([1,0,M[0][0],0,1,M[0][1]],Db([Y,0,0,0,Y,0],Db([bc(ya),S(ya),0,-S(ya),bc(ya),0],[1,0,-N[0][0],0,1,-N[0][1]])))}function Db(M,N){return[M[0]*N[0]+M[1]*N[3],M[0]*N[1]+M[1]*N[4],M[0]*N[2]+M[1]*N[5]+
M[2],M[3]*N[0]+M[4]*N[3],M[3]*N[1]+M[4]*N[4],M[3]*N[2]+M[4]*N[5]+M[5]]}function Zb(M,N){return[M[0]-N[0],M[1]-N[1]]}function Gb(M,N){function Y(tb,nb){tb.edges=rb(tb.face);if(nb.face){var zb=tb.shared=Oa(tb.face,nb.face),Eb=gb(zb.map(nb.project),zb.map(tb.project));tb.transform=nb.transform?Db(nb.transform,Eb):Eb;Eb=nb.edges;for(var Yb=0,pc=Eb.length;Yb<pc;++Yb)jc(zb[0],Eb[Yb][1])&&jc(zb[1],Eb[Yb][0])&&(Eb[Yb]=tb),jc(zb[0],Eb[Yb][0])&&jc(zb[1],Eb[Yb][1])&&(Eb[Yb]=tb);Eb=tb.edges;Yb=0;for(pc=Eb.length;Yb<
pc;++Yb)jc(zb[0],Eb[Yb][0])&&jc(zb[1],Eb[Yb][1])&&(Eb[Yb]=nb),jc(zb[0],Eb[Yb][1])&&jc(zb[1],Eb[Yb][0])&&(Eb[Yb]=nb)}else tb.transform=nb.transform;tb.children&&tb.children.forEach(function(u){Y(u,tb)});return tb}function ia(tb,nb){var zb=N(tb,nb);tb=zb.project([tb*id,nb*id]);if(zb=zb.transform)return[zb[0]*tb[0]+zb[1]*tb[1]+zb[2],-(zb[3]*tb[0]+zb[4]*tb[1]+zb[5])];tb[1]=-tb[1];return tb}function ya(tb,nb){var zb=tb.project.invert,Eb=tb.transform,Yb=nb;if(Eb){var pc=1/(Eb[0]*Eb[4]-Eb[1]*Eb[3]);Eb=[pc*
Eb[4],-pc*Eb[1],pc*(Eb[1]*Eb[5]-Eb[2]*Eb[4]),-pc*Eb[3],pc*Eb[0],pc*(Eb[2]*Eb[3]-Eb[0]*Eb[5])];Yb=[Eb[0]*Yb[0]+Eb[1]*Yb[1]+Eb[2],Eb[3]*Yb[0]+Eb[4]*Yb[1]+Eb[5]]}if(Eb=zb)zb=u=zb(Yb),zb=N(zb[0]*fd,zb[1]*fd),Eb=tb===zb;if(Eb)return u;var u;tb=tb.children;zb=0;for(Yb=tb&&tb.length;zb<Yb;++zb)if(u=ya(tb[zb],nb))return u}Y(M,{transform:null});Lb(M)&&(ia.invert=function(tb,nb){return(tb=ya(M,[tb,-nb]))&&(tb[0]*=fd,tb[1]*=fd,tb)});var Da=x.geoProjection(ia),Za=Da.stream;Da.stream=function(tb){var nb=Da.rotate(),
zb=Za(tb),Eb=(Da.rotate([0,0]),Za(tb));Da.rotate(nb);zb.sphere=function(){Eb.polygonStart();Eb.lineStart();sc(Eb,M);Eb.lineEnd();Eb.polygonEnd()};return zb};return Da.angle(-30)}function sc(M,N,Y){var ia,ya=N.edges,Da=ya.length;var Za={type:"MultiPoint",coordinates:N.face};var tb=N.face.filter(function(Yb){return 90!==Ac(Yb[1])}),nb=x.geoBounds({type:"MultiPoint",coordinates:tb});tb=!1;var zb=-1,Eb=nb[1][0]-nb[0][0];nb=180===Eb||360===Eb?[(nb[0][0]+nb[1][0])/2,(nb[0][1]+nb[1][1])/2]:x.geoCentroid(Za);
if(Y)for(;++zb<Da&&ya[zb]!==Y;);++zb;for(Eb=0;Eb<Da;++Eb)Za=ya[(Eb+zb)%Da],Array.isArray(Za)?(tb||(M.point((ia=x.geoInterpolate(Za[0],nb)(1E-6))[0],ia[1]),tb=!0),M.point((ia=x.geoInterpolate(Za[1],nb)(1E-6))[0],ia[1])):(tb=!1,Za!==Y&&sc(M,Za,N))}function jc(M,N){return M&&N&&M[0]===N[0]&&M[1]===N[1]}function Oa(M,N){for(var Y,ia,ya=M.length,Da=null,Za=0;Za<ya;++Za){Y=M[Za];for(var tb=N.length;0<=--tb;)if(ia=N[tb],Y[0]===ia[0]&&Y[1]===ia[1]){if(Da)return[Da,Y];Da=Y}}}function rb(M){for(var N=M.length,
Y=[],ia=M[N-1],ya=0;ya<N;++ya)Y.push([ia,ia=M[ya]]);return Y}function Lb(M){return M.project.invert||M.children&&M.children.some(Lb)}function gc(M,N){M=Q(M,N);return[M[0]*Pd,M[1]]}function tc(M,N){for(var Y=0,ia=M.length,ya=0;Y<ia;++Y)ya+=M[Y]*N[Y];return ya}function Bc(M,N){return[M[1]*N[2]-M[2]*N[1],M[2]*N[0]-M[0]*N[2],M[0]*N[1]-M[1]*N[0]]}function Mc(M){return[Xd(M[1],M[0])*id,Sa(Cf(-1,kf(1,M[2])))*id]}function Hb(M){var N=M[0]*fd;M=M[1]*fd;var Y=bc(M);return[Y*bc(N),Y*S(N),S(M)]}function yc(M,
N){return{type:"FeatureCollection",features:M.features.map(function(Y){return Cc(Y,N)})}}function Cc(M,N){return{type:"Feature",id:M.id,properties:M.properties,geometry:Ic(M.geometry,N)}}function xc(M,N){return{type:"GeometryCollection",geometries:M.geometries.map(function(Y){return Ic(Y,N)})}}function Ic(M,N){if(!M)return null;if("GeometryCollection"===M.type)return xc(M,N);switch(M.type){case "Point":var Y=Sf;break;case "MultiPoint":Y=Sf;break;case "LineString":Y=be;break;case "MultiLineString":Y=
be;break;case "Polygon":Y=wf;break;case "MultiPolygon":Y=wf;break;case "Sphere":Y=wf;break;default:return null}x.geoStream(M,N(Y));return Y.result()}function Yc(M){function N(ia,ya){var Da=Ac(ia)<Va;ya=M(Da?ia:0<ia?ia-Ka:ia+Ka,ya);ia=(ya[0]-ya[1])*lc;ya=(ya[0]+ya[1])*lc;if(Da)return[ia,ya];Da=Y*lc;var Za=0<ia^0<ya?-1:1;return[Za*ia-K(ya)*Da,Za*ya-K(ia)*Da]}var Y=M(Va,0)[0]-M(-Va,0)[0];M.invert&&(N.invert=function(ia,ya){var Da=(ia+ya)*lc,Za=(ya-ia)*lc,tb=Ac(Da)<.5*Y&&Ac(Za)<.5*Y;if(!tb){var nb=Y*
lc,zb=0<Da^0<Za?-1:1;ia=-zb*ia+(0<Za?1:-1)*nb;ya=-zb*ya+(0<Da?1:-1)*nb;Da=(-ia-ya)*lc;Za=(ia-ya)*lc}ya=M.invert(Da,Za);tb||(ya[0]+=0<Da?Ka:-Ka);return ya});return x.geoProjection(N).rotate([-90,-90,45]).clipAngle(179.999)}function Uc(M){function N(ia,ya){ia=Y?ua(ia*Y/2)/Y:ia/2;if(!ya)return[2*ia,-M];ia=2*Be(ia*S(ya));var Da=1/ua(ya);return[S(ia)*Da,ya+(1-bc(ia))*Da-M]}var Y=S(M);N.invert=function(ia,ya){if(1E-6>Ac(ya+=M))return[Y?2*Be(Y*ia/2)/Y:ia,0];var Da=ia*ia+ya*ya,Za=0,tb=10;do{var nb=ua(Za);
var zb=1/bc(Za),Eb=Da-2*ya*Za+Za*Za;Za-=nb=(nb*Eb+2*(Za-ya))/(2+Eb*zb*zb+2*(Za-ya)*nb)}while(1E-6<Ac(nb)&&0<--tb);ia*=nb=ua(Za);ya=ua(Ac(ya)<Ac(Za+1/nb)?.5*Sa(ia):.5*Wb(ia)+Ka/4)/S(Za);return[Y?2*Be(Y*ya)/Y:2*ya,Za]};return N}function od(M,N){var Y=kf(18,36*Ac(N)/Ka),ia=pe(Y);Y-=ia;var ya=(nb=Ce[ia])[0],Da=nb[1],Za=(nb=Ce[++ia])[0],tb=nb[1];ia=(nb=Ce[kf(19,++ia)])[0];nb=nb[1];var nb;return[M*(Za+Y*(ia-ya)/2+Y*Y*(ia-2*Za+ya)/2),(0<N?Va:-Va)*(tb+Y*(nb-Da)/2+Y*Y*(nb-2*tb+Da)/2)]}function qd(M){function N(Y,
ia){var ya=bc(ia),Da=(M-1)/(M-ya*bc(Y));return[Da*ya*S(Y),Da*S(ia)]}N.invert=function(Y,ia){var ya=Y*Y+ia*ia,Da=fb(ya);ya=(M-fb(1-ya*(M+1)/(M-1)))/((M-1)/Da+Da/(M-1));return[Xd(Y*ya,Da*fb(1-ya*ya)),Da?Sa(ia*ya/Da):0]};return N}function Id(M,N){function Y(Za,tb){Za=ia(Za,tb);tb=Za[1];var nb=tb*Da/(M-1)+ya;return[Za[0]*ya/nb,tb/nb]}var ia=qd(M);if(!N)return ia;var ya=bc(N),Da=S(N);Y.invert=function(Za,tb){var nb=(M-1)/(M-1-tb*Da);return ia.invert(nb*Za,nb*tb*ya)};return Y}function Ed(M){return 0<M.length}
function Wd(M){return-90===M||90===M?[0,M]:[-180,Math.floor(1E4*M)/1E4]}function me(M){var N=M[0],Y=M[1],ia=!1;-179.9999>=N?(N=-180,ia=!0):179.9999<=N&&(N=180,ia=!0);-89.9999>=Y?(Y=-90,ia=!0):89.9999<=Y&&(Y=90,ia=!0);return ia?[N,Y]:M}function ye(M){return M.map(me)}function Ye(M,N,Y){for(var ia=0,ya=M.length;ia<ya;++ia){var Da=M[ia].slice();Y.push({index:-1,polygon:N,ring:Da});for(var Za=0,tb=Da.length;Za<tb;++Za){var nb=Da[Za],zb=nb[0],Eb=nb[1];if(-179.9999>=zb||179.9999<=zb||-89.9999>=Eb||89.9999<=
Eb){Da[Za]=me(nb);for(nb=Za+1;nb<tb;++nb){var Yb=Da[nb];zb=Yb[0];Yb=Yb[1];if(-179.9999<zb&&179.9999>zb&&-89.9999<Yb&&89.9999>Yb)break}if(nb!==Za+1){Za?(Za={index:-1,polygon:N,ring:Da.slice(0,Za+1)},Za.ring[Za.ring.length-1]=Wd(Eb),Y[Y.length-1]=Za):Y.pop();if(nb>=tb)break;Y.push({index:-1,polygon:N,ring:Da=Da.slice(nb-1)});Da[0]=Wd(Da[0][1]);Za=-1;tb=Da.length}}}}}function Qe(M){var N,Y=M.length,ia={},ya={};for(N=0;N<Y;++N){var Da=M[N];var Za=Da.ring[0];var tb=Da.ring[Da.ring.length-1];Za[0]===tb[0]&&
Za[1]===tb[1]?(Da.polygon.push(Da.ring),M[N]=null):(Da.index=N,ia[Za]=ya[tb]=Da)}for(N=0;N<Y;++N)if(Da=M[N]){Za=Da.ring[0];tb=Da.ring[Da.ring.length-1];var nb=ya[Za];var zb=ia[tb];delete ia[Za];delete ya[tb];Za[0]===tb[0]&&Za[1]===tb[1]?Da.polygon.push(Da.ring):nb?(delete ya[Za],delete ia[nb.ring[0]],nb.ring.pop(),M[nb.index]=null,Da={index:-1,polygon:nb.polygon,ring:nb.ring.concat(Da.ring)},nb===zb?Da.polygon.push(Da.ring):(Da.index=Y++,M.push(ia[Da.ring[0]]=ya[Da.ring[Da.ring.length-1]]=Da))):zb?
(delete ia[tb],delete ya[zb.ring[zb.ring.length-1]],Da.ring.pop(),Da={index:Y++,polygon:zb.polygon,ring:Da.ring.concat(zb.ring)},M[zb.index]=null,M.push(ia[Da.ring[0]]=ya[Da.ring[Da.ring.length-1]]=Da)):(Da.ring.push(Da.ring[0]),Da.polygon.push(Da.ring))}}function Re(M){var N={type:"Feature",geometry:Fd(M.geometry)};null!=M.id&&(N.id=M.id);null!=M.bbox&&(N.bbox=M.bbox);null!=M.properties&&(N.properties=M.properties);return N}function Fd(M){if(null==M)return M;switch(M.type){case "GeometryCollection":var N=
{type:"GeometryCollection",geometries:M.geometries.map(Fd)};break;case "Point":N={type:"Point",coordinates:me(M.coordinates)};break;case "MultiPoint":case "LineString":N={type:M.type,coordinates:ye(M.coordinates)};break;case "MultiLineString":N={type:"MultiLineString",coordinates:M.coordinates.map(ye)};break;case "Polygon":var Y=[];Ye(M.coordinates,Y,N=[]);Qe(N);N={type:"Polygon",coordinates:Y};break;case "MultiPolygon":N=[];Y=-1;var ia=M.coordinates.length;for(var ya=Array(ia);++Y<ia;)Ye(M.coordinates[Y],
ya[Y]=[],N);Qe(N);N={type:"MultiPolygon",coordinates:ya.filter(Ed)};break;default:return M}null!=M.bbox&&(N.bbox=M.bbox);return N}function ee(M,N){N=ua(N/2);var Y=S(Vb*N);return[M*(.74482-.34588*Y*Y),1.70711*N]}function ff(M,N,Y){var ia=x.geoInterpolate(N,Y);Y=ia(.5);N=x.geoRotation([-Y[0],-Y[1]])(N);ia=ia.distance/2;var ya=-Sa(S(N[1]*fd)/S(ia));Y=[-Y[0],-Y[1],-(0<N[0]?Ka-ya:ya)*id];M=x.geoProjection(M(ia)).rotate(Y);var Da=x.geoRotation(Y),Za=M.center;delete M.rotate;M.center=function(tb){return arguments.length?
Za(Da(tb)):Da.invert(Za())};return M.clipAngle(90)}function Oe(M){function N(ia,ya){ia=x.geoGnomonicRaw(ia,ya);ia[0]*=Y;return ia}var Y=bc(M);N.invert=function(ia,ya){return x.geoGnomonicRaw.invert(ia/Y,ya)};return N}function Bf(M,N){return ff(Oe,M,N)}function Yd(M){function N(tb,nb){var zb=Wb(bc(nb)*bc(tb-Y));tb=Wb(bc(nb)*bc(tb-ia));zb*=zb;tb*=tb;return[(zb-tb)/(2*M),(0>nb?-1:1)*fb(4*ya*tb-(ya-zb+tb)*(ya-zb+tb))/(2*M)]}if(!(M*=2))return x.geoAzimuthalEquidistantRaw;var Y=-M/2,ia=-Y,ya=M*M,Da=ua(ia),
Za=.5/S(ia);N.invert=function(tb,nb){var zb=nb*nb,Eb=bc(fb(zb+(Yb=tb+Y)*Yb));tb=bc(fb(zb+(Yb=tb+ia)*Yb));var Yb,pc;return[Xd(pc=Eb-tb,Yb=(Eb+tb)*Da),(0>nb?-1:1)*Wb(fb(Yb*Yb+pc*pc)*Za)]};return N}function Ae(M,N){return ff(Yd,M,N)}function cf(M,N){if(1E-6>Ac(N))return[M,0];var Y=Ac(N/Va),ia=Sa(Y);if(1E-6>Ac(M)||1E-6>Ac(Ac(N)-Va))return[0,K(N)*Ka*ua(ia/2)];var ya=bc(ia);ia=Ac(Ka/M-M/Ka)/2;var Da=ia*ia;ya/=Y+ya-1;Y=ya*(2/Y-1);var Za=Y*Y,tb=Za+Da,nb=ya-Za,zb=Da+ya;return[K(M)*Ka*(ia*nb+fb(Da*nb*nb-tb*
(ya*ya-Za)))/tb,K(N)*Ka*(Y*zb-ia*fb((Da+1)*tb-zb*zb))/tb]}function re(M,N){if(1E-6>Ac(N))return[M,0];var Y=Ac(N/Va),ia=Sa(Y);if(1E-6>Ac(M)||1E-6>Ac(Ac(N)-Va))return[0,K(N)*Ka*ua(ia/2)];var ya=bc(ia);ia=Ac(Ka/M-M/Ka)/2;var Da=ia*ia;Y=ya*(fb(1+Da)-ia*ya)/(1+Da*Y*Y);return[K(M)*Ka*Y,K(N)*Ka*fb(1-Y*(2*ia+Y))]}function Ad(M,N){if(1E-6>Ac(N))return[M,0];var Y=N/Va,ia=Sa(Y);if(1E-6>Ac(M)||1E-6>Ac(Ac(N)-Va))return[0,Ka*ua(ia/2)];N=(Ka/M-M/Ka)/2;Y/=1+bc(ia);return[Ka*(K(M)*fb(N*N+1-Y*Y)-N),Ka*Y]}function Ld(M,
N){if(!N)return[M,0];var Y=Ac(N);if(!M||Y===Va)return[0,N];var ia=Y/Va;Y=ia*ia;var ya=(8*ia-Y*(Y+2)-5)/(2*Y*(ia-1)),Da=ya*ya,Za=ia*ya,tb=Y+Da+2*Za;ia+=3*ya;ya=M/Va;ya+=1/ya;ya=K(Ac(M)-Va)*fb(ya*ya-4);var nb=ya*ya;Y=(ya*(tb+Da-1)+2*fb(tb*(Y+Da*nb-1)+(1-Y)*(Y*(ia*ia+4*Da)+12*Za*Da+4*Da*Da)))/(4*tb+nb);return[K(M)*Va*Y,K(N)*Va*fb(1+ya*Ac(Y)-Y*Y)]}function ae(M,N,Y,ia,ya){function Da(Za,tb){tb=Y*S(ia*tb);var nb=fb(1-tb*tb),zb=fb(2/(1+nb*bc(Za*=ya)));return[M*nb*zb*S(Za),N*tb*zb]}Da.invert=function(Za,
tb){var nb=Za/M,zb=tb/N;nb=fb(nb*nb+zb*zb);zb=2*Sa(nb/2);return[Xd(Za*ua(zb),M*nb)/ya,nb&&Sa(tb*S(zb)/(N*Y*nb))/ia]};return Da}function Jf(M,N,Y,ia){var ya=Ka/3;M=Cf(M,1E-6);N=Cf(N,1E-6);M=kf(M,Va);N=kf(N,Ka-1E-6);Y=Cf(Y,0);Y=kf(Y,99.999999);ia=Cf(ia,1E-6);var Da=ia/100;Y=Wb((Y/100+1)*bc(ya))/ya;ya=S(M)/S(Y*Va);ia=N/Ka;N=fb(Da*S(M/2)/S(N/2));M=N/fb(ia*ya*Y);N=1/(N*fb(ia*ya*Y));return ae(M,N,ya,Y,ia)}function De(){var M=65*fd,N=60*fd,Y=20,ia=200,ya=x.geoProjectionMutator(Jf),Da=ya(M,N,Y,ia);Da.poleline=
function(Za){return arguments.length?ya(M=+Za*fd,N,Y,ia):M*id};Da.parallels=function(Za){return arguments.length?ya(M,N=+Za*fd,Y,ia):N*id};Da.inflation=function(Za){return arguments.length?ya(M,N,Y=+Za,ia):Y};Da.ratio=function(Za){return arguments.length?ya(M,N,Y,ia=+Za):ia};return Da.scale(163.775)}function Jd(M,N){return[M*fb(1-3*N*N/(Ka*Ka)),N]}function Se(M,N){var Y=bc(N),ia=bc(M)*Y,ya=1-ia;N=bc(M=Xd(S(M)*Y,-S(N)));M=S(M);Y=fb(1-ia*ia);return[M*Y-N*ya,-N*Y-M*ya]}function Ee(M,N){var Y=bb(M,N);
return[(Y[0]+M/Va)/2,(Y[1]+N)/2]}var Ac=Math.abs,Be=Math.atan,Xd=Math.atan2,bc=Math.cos,Je=Math.exp,pe=Math.floor,Ke=Math.log,Cf=Math.max,kf=Math.min,tf=Math.pow,Pe=Math.round,K=Math.sign||function(M){return 0<M?1:0>M?-1:0},S=Math.sin,ua=Math.tan,Ka=Math.PI,Va=Ka/2,Vb=Ka/4,lc=Math.SQRT1_2,Gc=fb(2),uc=fb(Ka),Fc=2*Ka,id=180/Ka,fd=Ka/180;bb.invert=function(M,N){if(!(M*M+4*N*N>Ka*Ka+1E-6)){var Y=M,ia=N,ya=25;do{var Da=S(Y),Za=S(Y/2),tb=bc(Y/2),nb=S(ia),zb=bc(ia),Eb=S(2*ia),Yb=nb*nb,pc=zb*zb,u=Za*Za,E=
1-pc*tb*tb,aa=E?Wb(zb*tb)*fb(ka=1/E):ka=0,ka;E=2*aa*zb*Za-M;var lb=aa*nb-N,Ib=ka*(pc*u+aa*zb*tb*Yb),Sb=ka*(.5*Da*Eb-2*aa*nb*Za);Da=.25*ka*(Eb*Za-aa*nb*pc*Da);zb=ka*(Yb*tb+aa*u*zb);tb=Sb*Da-zb*Ib;if(!tb)break;Sb=(lb*Sb-E*zb)/tb;E=(E*Da-lb*Ib)/tb;Y-=Sb;ia-=E}while((1E-6<Ac(Sb)||1E-6<Ac(E))&&0<--ya);return[Y,ia]}};sb.invert=function(M,N){M*=.375;N*=.375;if(!M&&1<Ac(N))return null;var Y=1+M*M+N*N,ia=fb((Y-fb(Y*Y-4*N*N))/2);Y=Sa(ia)/3;ia?(ia=Ac(N/ia),ia=Ke(ia+fb(ia*ia-1))/3):(ia=Ac(M),ia=Ke(ia+fb(ia*ia+
1))/3);var ya=bc(Y),Da=Qb(ia),Za=Da*Da-ya*ya;return[2*K(M)*Xd(ub(ia)*ya,.25-Za),2*K(N)*Xd(Da*S(Y),.25+Za)]};var se=fb(8),xd=Ke(1+Gc);Wa.invert=function(M,N){if((ya=Ac(N))<xd)return[M,2*Be(Je(N))-Va];var Y=Vb,ia=25,ya;do{var Da=bc(Y/2);var Za=ua(Y/2);Y-=Da=(se*(Y-Vb)-Ke(Za)-ya)/(se-Da*Da/(2*Za))}while(1E-12<Ac(Da)&&0<--ia);return[M/(bc(Y)*(se-1/S(Y))),K(N)*Y]};Ya.invert=function(M,N){N=2*Sa(N/2);return[M*bc(N/2)/bc(N),N]};var zd=Ca(Gc/Va,Gc,Ka);ab.invert=function(M,N){var Y=2.00276*N;N=0>N?-Vb:Vb;
var ia=25;do{var ya=Y-Gc*S(N);N-=ya=(S(2*N)+2*N-Ka*S(ya))/(2*bc(2*N)+2+Ka*bc(ya)*Gc*bc(N))}while(1E-6<Ac(ya)&&0<--ia);ya=Y-Gc*S(N);return[M*(1/bc(ya)+1.11072/bc(N))/2.00276,ya]};ja.invert=function(M,N){return[M/bc(N),N]};var le=Ca(1,4/Ka,Ka);Q.invert=function(M,N){var Y=(Y=N/uc-1)*Y;return[0<Y?M*fb(Ka/Y)/2:0,Sa(1-Y)]};var Te=fb(3);T.invert=function(M,N){N=3*Sa(N/(Te*uc));return[uc*M/(Te*(2*bc(2*N/3)-1)),N]};W.invert=function(M,N){var Y=fb(8/(3*Ka));N/=Y;return[M/(Y*(1-Ac(N)/Ka)),N]};ea.invert=function(M,
N){var Y=2-Ac(N)/fb(2*Ka/3);return[M*fb(6*Ka)/(2*Y),K(N)*Sa((4-Y*Y)/3)]};pa.invert=function(M,N){var Y=fb(Ka*(4+Ka))/2;return[M*Y/(1+fb(1-N*N*(4+Ka)/(4*Ka))),N*Y/2]};Ua.invert=function(M,N){N=N*fb((4+Ka)/Ka)/2;var Y=Sa(N),ia=bc(Y);return[M/(2/fb(Ka*(4+Ka))*(1+ia)),Sa((Y+N*(ia+2))/(2+Va))]};db.invert=function(M,N){var Y=fb(2+Ka);N=N*Y/2;return[Y*M/(1+bc(N)),N]};U.invert=function(M,N){var Y=1+Va,ia=fb(Y/2);return[2*M*ia/(1+bc(N*=ia)),Sa((N+S(N))/Y)]};var Me=3+2*Gc;va.invert=function(M,N){if(!(ya=sb.invert(M/
1.2,1.065*N)))return null;var Y=ya[0];ya=ya[1];var ia=20,ya;M/=Me;N/=Me;do{var Da=Y/2,Za=ya/2,tb=S(Da),nb=bc(Da),zb=S(Za),Eb=bc(Za),Yb=bc(ya),pc=fb(Yb),u=zb/(Eb+Gc*nb*pc),E=u*u,aa=fb(2/(1+E)),ka=(Gc*Eb+(nb+tb)*pc)/(Gc*Eb+(nb-tb)*pc),lb=fb(ka),Ib=lb-1/lb,Sb=lb+1/lb;Za=aa*Ib-2*Ke(lb)-M;Da=aa*u*Sb-2*Be(u)-N;var fc=zb&&lc*pc*tb*E/zb,zc=(Gc*nb*Eb+pc)/(2*(Eb+Gc*nb*pc)*(Eb+Gc*nb*pc)*pc),Tc=-.5*u*aa*aa*aa,Rc=Tc*fc;Tc*=zc;var yd=(yd=2*Eb+Gc*pc*(nb-tb))*yd*lb;nb=(Gc*nb*Eb*pc+Yb)/yd;zb=-(Gc*tb*zb)/(pc*yd);tb=
Ib*Rc-2*nb/lb+aa*(nb+nb/ka);lb=Ib*Tc-2*zb/lb+aa*(zb+zb/ka);fc=u*Sb*Rc-2*fc/(1+E)+aa*Sb*fc+aa*u*(nb-nb/ka);E=u*Sb*Tc-2*zc/(1+E)+aa*Sb*zc+aa*u*(zb-zb/ka);u=lb*fc-E*tb;if(!u)break;E=(Da*lb-Za*E)/u;Za=(Za*fc-Da*tb)/u;Y-=E;ya=Cf(-Va,kf(Va,ya-Za))}while((1E-6<Ac(E)||1E-6<Ac(Za))&&0<--ia);return 1E-6>Ac(Ac(ya)-Va)?[0,ya]:ia&&[Y,ya]};var uf=bc(35*fd);xa.invert=function(M,N){N/=1+uf;return[M&&M/(uf*fb(1-N*N)),2*Be(N)]};ma.invert=function(M,N){var Y=Be(N/uc);N=bc(Y);Y*=2;return[M*uc/2/(bc(Y)*N*N),Y]};var Zf=
C(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),pd=C(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Ue=C(5/6*Ka,-.62636,-.0344,0,1.3493,-.05524,0,.045);D.invert=function(M,N){var Y=M,ia=N,ya=50,Da;do{var Za=ia*ia;ia-=Da=(ia*(1+Za/12)-N)/(1+Za/4)}while(1E-6<Ac(Da)&&0<--ya);ya=50;M/=1-.162388*Za;do{var tb=(tb=Y*Y)*tb;Y-=Da=(Y*(.87-9.52426E-4*tb)-M)/(.87-.00476213*tb)}while(1E-6<Ac(Da)&&0<--ya);return[Y,ia]};var Le=C(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);B.invert=
function(M,N){1<Ac(M)&&(M=2*K(M)-M);1<Ac(N)&&(N=2*K(N)-N);var Y=K(M),ia=K(N),ya=-Y*M,Da=-ia*N;N=1>Da/ya;M=N?Da:ya;var Za=N?ya:Da,tb=0,nb=1;ya=.5;for(var zb=50;;){Da=ya*ya;var Eb=fb(ya),Yb=Sa(1/fb(1+Da)),pc=1-Da+ya*(1+Da)*Yb,u=(1-Eb)/pc,E=fb(u),aa=u*(1+Da),ka=E*(1-Da),lb=fb(aa-M*M);ka=Za+ka+ya*lb;if(1E-12>Ac(nb-tb)||0===--zb||0===ka)break;0<ka?tb=ya:nb=ya;ya=.5*(tb+nb)}zb?(Za=Sa(Eb),zb=bc(Za),tb=1/zb,nb=2*Eb*zb,Eb=(-pc*zb-(1-Eb)*(-3*ya+Yb*(1+3*Da))*nb)/(pc*pc),ya=[Ka/4*(M*(-2*tb*(.5*Eb/E*(1-Da)-2*
ya*E*nb)+-tb*nb*lb)+-tb*(ya*(1+Da)*Eb+u*(1+3*Da)*nb)*Sa(M/fb(aa))),Za]):ya=null;M=ya[0];ya=ya[1];Da=bc(ya);N&&(M=-Va-M);return[Y*(Xd(S(M)*Da,-S(ya))+Ka),ia*Sa(bc(M)*Da)]};Ta.invert=function(M,N){var Y=(Gc-1)/(Gc+1),ia=fb(1-Y*Y);N=.5*la(Va,ia*ia)-N;M=-M;ia*=ia;if(N)if(N=wa(N,ia),M){M=wa(M,1-ia);var ya=M[1]*M[1]+ia*N[0]*N[0]*M[0]*M[0];N=[[N[0]*M[2]/ya,N[1]*N[2]*M[0]*M[1]/ya],[N[1]*M[1]/ya,-N[0]*N[2]*M[0]*M[2]/ya],[N[2]*M[1]*M[2]/ya,-ia*N[0]*N[1]*M[0]/ya]]}else N=[[N[0],0],[N[1],0],[N[2],0]];else M=
wa(M,1-ia),N=[[0,M[0]/M[1]],[1/M[1],0],[M[2]/M[1],0]];ia=N[0];N=N[1];M=N[0]*N[0]+N[1]*N[1];ia=[(ia[0]*N[0]+ia[1]*N[1])/M,(ia[1]*N[0]-ia[0]*N[1])/M];return[Xd(ia[1],ia[0])/-1,2*Be(Je(-.5*Ke(Y*ia[0]*ia[0]+Y*ia[1]*ia[1])))-Va]};var Ze=Sa(1-1/3)*id,$f=na(0);gd.invert=function(M,N){return-.7109889596207567<N?zd.invert(M,N-.0528035274542):ja.invert(M,N)};Dc.invert=function(M,N){return.7109889596207567<Ac(N)?zd.invert(M,N+(0<N?.0528035274542:-.0528035274542)):ja.invert(M,N)};var vf=[[[[-180,0],[-100,90],
[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],ag=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],df=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],
J=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],da=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],kb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Xc.invert=function(M,N){return[Fc/3*M/fb(Ka*Ka/3-N*N),N]};var Pb=
Ka/Gc;Nc.invert=function(M,N){var Y=Ac(M),ia=Ac(N),ya=1E-6,Da=Va;ia<Pb?Da*=ia/Pb:ya+=6*Wb(Pb/ia);for(var Za=0;25>Za;Za++){var tb=S(Da),nb=fb(bc(Da)),zb=S(Da/2),Eb=bc(Da/2),Yb=S(ya/6),pc=bc(ya/6),u=.5*ya*(1+nb)-Y,E=Da/(Eb*pc)-ia;tb=nb?-.25*ya*tb/nb:0;nb=.5*(1+nb);zb=(1+.5*Da*zb/Eb)/(Eb*pc);Yb=Da/Eb*(Yb/6)/(pc*pc);Eb=tb*Yb-zb*nb;Yb=(u*Yb-E*nb)/Eb;u=(E*tb-u*zb)/Eb;Da-=Yb;ya-=u;if(1E-6>Ac(Yb)&&1E-6>Ac(u))break}return[0>M?-ya:ya,0>N?-Da:Da]};Dd.invert=function(M,N){var Y=K(M)*Ka,ia=N/2,ya=50;do{var Da=
Y*Y,Za=ia*ia,tb=Y*ia,nb=Y*(.975534+Za*(-.119161+-.0143059*Da+-.0547009*Za))-M,zb=ia*(1.00384+Da*(.0802894+-.02855*Za+1.99025E-4*Da)+Za*(.0998909+-.0491032*Za))-N,Eb=.975534-Za*(.119161+.0429177*Da+.0547009*Za),Yb=-tb*(.238322+.2188036*Za+.0286118*Da);tb*=.1605788+7.961E-4*Da+-.0571*Za;Za=1.00384+Da*(.0802894+1.99025E-4*Da)+Za*(3*(.0998909-.02855*Da)-.245516*Za);Da=Yb*tb-Za*Eb;Yb=(zb*Yb-nb*Za)/Da;nb=(nb*tb-zb*Eb)/Da;Y-=Yb;ia-=nb}while((1E-6<Ac(Yb)||1E-6<Ac(nb))&&0<--ya);return ya&&[Y,ia]};we.invert=
function(M,N){var Y=M*M,ia=N*N+1,ya=Y+ia;Y=M?lc*fb((ya-fb(ya*ya-4*Y))/Y):1/fb(ia);return[Sa(M*Y),K(N)*Wb(Y)]};sd.invert=function(M,N){return[M,2.5*Be(Je(.8*N))-.625*Ka]};var Mb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ac=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ic=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],
[-.0216473,.0776645],[-.0225161,.0853673]],Qc=[[.9245,0],[0,0],[.01943,0]],Kc=[[.721316,0],[0,0],[-.00881625,-.00617325]],ad=fb(6),ud=fb(7);vb.invert=function(M,N){N=3*Sa(N*ud/9);return[M*ud/(ad*(2*bc(2*N/3)-1)),Sa(3*S(N)*ad/7)]};$b.invert=function(M,N){N=N*fb(2+Gc)/(2*fb(3));var Y=2*Sa(N);return[3*Gc*M/(1+2*bc(Y)/bc(Y/2)),Sa((N+S(Y))/(1+lc))]};rd.invert=function(M,N){var Y=fb(6/(4+Ka));N/=Y;1E-6>Ac(Ac(N)-Va)&&(N=0>N?-Va:Va);return[1.5*M/(Y*(.5+bc(N))),Sa((N/2+S(N))/(1+Ka/4))]};vd.invert=function(M,
N){var Y=N,ia=25;do{var ya=Y*Y;var Da=ya*ya;Y-=ya=(Y*(1.01183+Da*Da*(-.02625+.01926*ya-.00396*Da))-N)/(1.01183+Da*Da*(-.23625+.21186*ya+-.05148*Da))}while(1E-12<Ac(ya)&&0<--ia);ya=Y*Y;Da=ya*ya;N=ya*Da;return[M/(.84719-.13063*ya+N*N*(-.04515+.05494*ya-.02326*Da+.00331*N)),Y]};de.invert=function(M,N){for(var Y=N/2,ia=0,ya=Infinity;10>ia&&1E-6<Ac(ya);++ia)ya=bc(N/2),N-=ya=(N-ua(N/2)-Y)/(1-.5/(ya*ya));return[2*M/(1+bc(N)),N]};var Nd=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,
-90],[0,0]],[[0,0],[90,-90],[180,0]]]];oe.invert=function(M,N){M/=Va;N/=Va;var Y=M*M,ia=Y+N*N,ya=Ka*Ka;return[M?(ia-1+fb((1-ia)*(1-ia)+4*Y))/(2*M)*Va:0,mb(function(Da){return ia*(Ka*S(Da)-2*Da)*Ka+4*Da*Da*(N-S(Da))+2*Ka*Da-ya*N},0)]};var Td=5*.23185;X.invert=function(M,N){1.790857183<N?N=1.790857183:-1.790857183>N&&(N=-1.790857183);var Y=N;do{var ia=Y*Y;Y-=ia=(Y*(1.0148+ia*ia*(.23185+ia*(-.14499+.02406*ia)))-N)/(1.0148+ia*ia*(Td+ia*(-1.01493+.21654*ia)))}while(1E-6<Ac(ia));return[M,Y]};za.invert=
function(M,N){if(1E-6>Ac(N))return[M,0];var Y=M*M+N*N,ia=.5*N,ya=10;do{var Da=ua(ia);var Za=1/bc(ia),tb=Y-2*N*ia+ia*ia;ia-=Da=(Da*tb+2*(ia-N))/(2+tb*Za*Za+2*(ia-N)*Da)}while(1E-6<Ac(Da)&&0<--ya);Da=ua(ia);return[(Ac(N)<Ac(ia+1/Da)?Sa(M*Da):K(N)*K(M)*(Wb(Ac(M*Da))+Va))/S(ia),ia]};var Bd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],af=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(M){return M.map(function(N){return Bd[N]})}),Pd=2/fb(3);gc.invert=function(M,N){return Q.invert(M/
Pd,N)};var Fe=()=>{},he=[],ze=[],Sf={point:function(M,N){he.push([M,N])},result:function(){var M=he.length?2>he.length?{type:"Point",coordinates:he[0]}:{type:"MultiPoint",coordinates:he}:null;he=[];return M}},be={lineStart:Fe,point:function(M,N){he.push([M,N])},lineEnd:function(){he.length&&(ze.push(he),he=[])},result:function(){var M=ze.length?2>ze.length?{type:"LineString",coordinates:ze[0]}:{type:"MultiLineString",coordinates:ze}:null;ze=[];return M}},wf={polygonStart:Fe,lineStart:Fe,point:function(M,
N){he.push([M,N])},lineEnd:function(){var M=he.length;if(M){do he.push(he[0].slice());while(4>++M);ze.push(he);he=[]}},polygonEnd:Fe,result:function(){if(!ze.length)return null;var M=[],N=[];ze.forEach(function(Y){if(4>(ya=Y.length))var ia=!1;else{ia=0;for(var ya,Da=Y[ya-1][1]*Y[0][0]-Y[ya-1][0]*Y[0][1];++ia<ya;)Da+=Y[ia-1][1]*Y[ia][0]-Y[ia-1][0]*Y[ia][1];ia=0>=Da}ia?M.push([Y]):N.push(Y)});N.forEach(function(Y){var ia=Y[0];M.some(function(ya){for(var Da=ya[0],Za=ia[0],tb=ia[1],nb=!1,zb=0,Eb=Da.length,
Yb=Eb-1;zb<Eb;Yb=zb++){var pc=Da[zb],u=pc[0];pc=pc[1];var E=Da[Yb];Yb=E[0];E=E[1];pc>tb^E>tb&&Za<(Yb-u)*(tb-pc)/(E-pc)+u&&(nb=!nb)}if(nb)return ya.push(Y),!0})||M.push([Y])});ze=[];return M.length?1<M.length?{type:"MultiPolygon",coordinates:M}:{type:"Polygon",coordinates:M[0]}:null}},Ce=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],
[.6213,.9394],[.5722,.9761],[.5322,1]];Ce.forEach(function(M){M[1]*=1.0144});od.invert=function(M,N){var Y=N/Va,ia=90*Y,ya=kf(18,Ac(ia/5)),Da=Cf(0,pe(ya));do{var Za=Ce[Da][1],tb=Ce[Da+1][1],nb=Ce[kf(19,Da+2)][1],zb=nb-Za;Za=nb-2*tb+Za;tb=2*(Ac(Y)-tb)/zb;zb=Za/zb;zb=tb*(1-zb*tb*(1-2*zb*tb));if(0<=zb||1===Da){ia=(0<=N?5:-5)*(zb+ya);Y=50;do ya=kf(18,Ac(ia)/5),Da=pe(ya),zb=ya-Da,Za=Ce[Da][1],tb=Ce[Da+1][1],nb=Ce[kf(19,Da+2)][1],ia-=(ya=(0<=N?Va:-Va)*(tb+zb*(nb-Za)/2+zb*zb*(nb-2*tb+Za)/2)-N)*id;while(1E-12<
Ac(ya)&&0<--Y);break}}while(0<=--Da);N=Ce[Da][0];ya=Ce[Da+1][0];Da=Ce[kf(19,Da+2)][0];return[M/(ya+zb*(Da-N)/2+zb*zb*(Da-2*ya+N)/2),ia*fd]};ee.invert=function(M,N){N/=1.70711;var Y=S(Vb*N);return[M/(.74482-.34588*Y*Y),2*Be(N)]};cf.invert=function(M,N){if(1E-6>Ac(N))return[M,0];if(1E-6>Ac(M))return[0,Va*S(2*Be(N/Ka))];var Y=(M/=Ka)*M,ia=(N/=Ka)*N,ya=Y+ia,Da=ya*ya,Za=-Ac(N)*(1+ya),tb=Za-2*ia+Y,nb=-2*Za+1+2*ia+Da,zb=ia/nb+(2*tb*tb*tb/(nb*nb*nb)-9*Za*tb/(nb*nb))/27,Eb=(Za-tb*tb/(3*nb))/nb;Za=2*fb(-Eb/
3);zb=Wb(3*zb/(Eb*Za))/3;return[Ka*(ya-1+fb(1+2*(Y-ia)+Da))/(2*M),K(N)*Ka*(-Za*bc(zb+Ka/3)-tb/(3*nb))]};re.invert=function(M,N){if(!M)return[0,Va*S(2*Be(N/Ka))];var Y=Ac(M/Ka),ia=(1-Y*Y-(N/=Ka)*N)/(2*Y),ya=fb(ia*ia+1);return[K(M)*Ka*(ya-ia),K(N)*Va*S(2*Xd(fb((1-2*ia*Y)*(ia+ya)-Y),fb(ya+ia+Y)))]};Ad.invert=function(M,N){if(!N)return[M,0];N/=Ka;var Y=(Ka*Ka*(1-N*N)-M*M)/(2*Ka*M);return[M?Ka*(K(M)*fb(Y*Y+1)-Y):0,Va*S(2*Be(N))]};Ld.invert=function(M,N){if(!M||!N)return[M,N];var Y=K(N);N=Ac(N)/Ka;var ia=
K(M)*M/Va,ya=(ia*ia-1+4*N*N)/Ac(ia),Da=ya*ya,Za=N*(2-(.5<N?kf(N,Ac(M)):0));N=M*M+N*N;var tb=50;do{var nb=Za*Za;var zb=(8*Za-nb*(nb+2)-5)/(2*nb*(Za-1));var Eb=(3*Za-nb*Za-10)/(2*nb*Za),Yb=zb*zb,pc=Za*zb,u=Za+zb,E=u*u,aa=Za+3*zb,ka=-2*u*(4*pc*Yb+(1-4*nb+3*nb*nb)*(1+Eb)+Yb*(-6+14*nb-Da+(-8+8*nb-2*Da)*Eb)+pc*(-8+12*nb+(-10+10*nb-Da)*Eb));nb=fb(E*(nb+Yb*Da-1)+(1-nb)*(nb*(aa*aa+4*Yb)+Yb*(12*pc+4*Yb)));Za-=zb=(ya*(E+Yb-1)+2*nb-ia*(4*E+Da))/(ya*(2*zb*Eb+2*u*(1+Eb))+ka/nb-8*u*(ya*(-1+Yb+E)+2*nb)*(1+Eb)/(Da+
4*E))}while(1E-6<zb*N*N&&0<--tb);return[K(M)*(fb(ya*ya+4)+ya)*Ka/4,Y*Va*Za]};var Kf=4*Ka+3*fb(3),ef=2*fb(2*Ka*fb(3)/Kf),gg=Ca(ef*fb(3)/Ka,ef,Kf/6);Jd.invert=function(M,N){return[M/fb(1-3*N*N/(Ka*Ka)),N]};Se.invert=function(M,N){var Y=(M*M+N*N)/-2,ia=fb(-Y*(2+Y)),ya=N*Y+M*ia;M=M*Y-N*ia;N=fb(M*M+ya*ya);return[Xd(ia*ya,N*(1+Y)),N?-Sa(ia*M/N):0]};Ee.invert=function(M,N){var Y=M,ia=N,ya=25;do{var Da=bc(ia),Za=S(ia),tb=S(2*ia),nb=Za*Za,zb=Da*Da,Eb=S(Y),Yb=bc(Y/2),pc=S(Y/2),u=pc*pc,E=1-zb*Yb*Yb,aa=E?Wb(Da*
Yb)*fb(ka=1/E):ka=0,ka;E=.5*(2*aa*Da*pc+Y/Va)-M;var lb=.5*(aa*Za+ia)-N,Ib=.5*ka*(zb*u+aa*Da*Yb*nb)+.5/Va,Sb=ka*(Eb*tb/4-aa*Za*pc);Za=.125*ka*(tb*pc-aa*Za*zb*Eb);nb=.5*ka*(nb*Yb+aa*u*Da)+.5;Da=Sb*Za-nb*Ib;Sb=(lb*Sb-E*nb)/Da;E=(E*Za-lb*Ib)/Da;Y-=Sb;ia-=E}while((1E-6<Ac(Sb)||1E-6<Ac(E))&&0<--ya);return[Y,ia]};n.geoAiry=function(){var M=Va,N=x.geoProjectionMutator(Bb),Y=N(M);Y.radius=function(ia){return arguments.length?N(M=ia*fd):M*id};return Y.scale(179.976).clipAngle(147)};n.geoAiryRaw=Bb;n.geoAitoff=
function(){return x.geoProjection(bb).scale(152.63)};n.geoAitoffRaw=bb;n.geoArmadillo=function(){var M=20*fd,N=0<=M?1:-1,Y=ua(N*M),ia=x.geoProjectionMutator(qb),ya=ia(M),Da=ya.stream;ya.parallel=function(Za){if(!arguments.length)return M*id;Y=ua((N=0<=(M=Za*fd)?1:-1)*M);return ia(M)};ya.stream=function(Za){var tb=ya.rotate(),nb=Da(Za),zb=(ya.rotate([0,0]),Da(Za)),Eb=ya.precision();ya.rotate(tb);nb.sphere=function(){zb.polygonStart();zb.lineStart();for(var Yb=-180*N;180>N*Yb;Yb+=90*N)zb.point(Yb,90*
N);if(M)for(;-180<=N*(Yb-=3*N*Eb);)zb.point(Yb,N*-Xd(bc(Yb*fd/2),Y)*id);zb.lineEnd();zb.polygonEnd()};return nb};return ya.scale(218.695).center([0,28.0974])};n.geoArmadilloRaw=qb;n.geoAugust=function(){return x.geoProjection(sb).scale(66.1603)};n.geoAugustRaw=sb;n.geoBaker=function(){return x.geoProjection(Wa).scale(112.314)};n.geoBakerRaw=Wa;n.geoBerghaus=function(){var M=5,N=x.geoProjectionMutator(Ha),Y=N(M),ia=Y.stream,ya=-bc(.01*fd),Da=S(.01*fd);Y.lobes=function(Za){return arguments.length?N(M=
+Za):M};Y.stream=function(Za){var tb=Y.rotate(),nb=ia(Za),zb=(Y.rotate([0,0]),ia(Za));Y.rotate(tb);nb.sphere=function(){zb.polygonStart();zb.lineStart();for(var Eb=0,Yb=360/M,pc=2*Ka/M,u=90-180/M,E=Va;Eb<M;++Eb,u-=Yb,E-=pc)zb.point(Xd(Da*bc(E),ya)*id,Sa(Da*S(E))*id),-90>u?(zb.point(-90,-180-u-.01),zb.point(-90,-180-u+.01)):(zb.point(90,u+.01),zb.point(90,u-.01));zb.lineEnd();zb.polygonEnd()};return nb};return Y.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};n.geoBerghausRaw=Ha;n.geoBertin1953=
function(){return x.geoProjection(Ga()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};n.geoBertin1953Raw=Ga;n.geoBoggs=function(){return x.geoProjection(ab).scale(160.857)};n.geoBoggsRaw=ab;n.geoBonne=function(){return Ma(Aa).scale(123.082).center([0,26.1441]).parallel(45)};n.geoBonneRaw=Aa;n.geoBottomley=function(){var M=.5,N=x.geoProjectionMutator(Qa),Y=N(M);Y.fraction=function(ia){return arguments.length?N(M=+ia):M};return Y.scale(158.837)};n.geoBottomleyRaw=Qa;n.geoBromley=function(){return x.geoProjection(le).scale(152.63)};
n.geoBromleyRaw=le;n.geoChamberlin=$a;n.geoChamberlinRaw=cb;n.geoChamberlinAfrica=function(){return $a([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};n.geoCollignon=function(){return x.geoProjection(Q).scale(95.6464).center([0,30])};n.geoCollignonRaw=Q;n.geoCraig=function(){return Ma(H).scale(249.828).clipAngle(90)};n.geoCraigRaw=H;n.geoCraster=function(){return x.geoProjection(T).scale(156.19)};n.geoCrasterRaw=T;n.geoCylindricalEqualArea=function(){return Ma(na).parallel(38.58).scale(195.044)};
n.geoCylindricalEqualAreaRaw=na;n.geoCylindricalStereographic=function(){return Ma(O).scale(124.75)};n.geoCylindricalStereographicRaw=O;n.geoEckert1=function(){return x.geoProjection(W).scale(165.664)};n.geoEckert1Raw=W;n.geoEckert2=function(){return x.geoProjection(ea).scale(165.664)};n.geoEckert2Raw=ea;n.geoEckert3=function(){return x.geoProjection(pa).scale(180.739)};n.geoEckert3Raw=pa;n.geoEckert4=function(){return x.geoProjection(Ua).scale(180.739)};n.geoEckert4Raw=Ua;n.geoEckert5=function(){return x.geoProjection(db).scale(173.044)};
n.geoEckert5Raw=db;n.geoEckert6=function(){return x.geoProjection(U).scale(173.044)};n.geoEckert6Raw=U;n.geoEisenlohr=function(){return x.geoProjection(va).scale(62.5271)};n.geoEisenlohrRaw=va;n.geoFahey=function(){return x.geoProjection(xa).scale(137.152)};n.geoFaheyRaw=xa;n.geoFoucaut=function(){return x.geoProjection(ma).scale(135.264)};n.geoFoucautRaw=ma;n.geoFoucautSinusoidal=function(){var M=.5,N=x.geoProjectionMutator(R),Y=N(M);Y.alpha=function(ia){return arguments.length?N(M=+ia):M};return Y.scale(168.725)};
n.geoFoucautSinusoidalRaw=R;n.geoGilbert=function(M){function N(Da){return ia([Da[0]/2,Sa(ua(Da[1]/2*fd))*id])}function Y(Da){N[Da]=function(){return arguments.length?(ia[Da].apply(ia,arguments),N):ia[Da]()}}null==M&&(M=x.geoOrthographic);var ia=M(),ya=x.geoEquirectangular().scale(id).precision(0).clipAngle(null).translate([0,0]);ia.invert&&(N.invert=function(Da){return v(ia.invert(Da))});N.stream=function(Da){var Za=ia.stream(Da);Da=ya.stream({point:function(tb,nb){Za.point(tb/2,Sa(ua(-nb/2*fd))*
id)},lineStart:function(){Za.lineStart()},lineEnd:function(){Za.lineEnd()},polygonStart:function(){Za.polygonStart()},polygonEnd:function(){Za.polygonEnd()}});Da.sphere=Za.sphere;return Da};N.rotate=function(Da){return arguments.length?(ya.rotate(Da),N):ya.rotate()};N.center=function(Da){return arguments.length?(ia.center([Da[0]/2,Sa(ua(Da[1]/2*fd))*id]),N):v(ia.center())};Y("angle");Y("clipAngle");Y("clipExtent");Y("fitExtent");Y("fitHeight");Y("fitSize");Y("fitWidth");Y("scale");Y("translate");
Y("precision");return N.scale(249.5)};n.geoGingery=function(){var M=6,N=30*fd,Y=bc(N),ia=S(N),ya=x.geoProjectionMutator(w),Da=ya(N,M),Za=Da.stream,tb=-bc(.01*fd),nb=S(.01*fd);Da.radius=function(zb){if(!arguments.length)return N*id;Y=bc(N=zb*fd);ia=S(N);return ya(N,M)};Da.lobes=function(zb){return arguments.length?ya(N,M=+zb):M};Da.stream=function(zb){var Eb=Da.rotate(),Yb=Za(zb),pc=(Da.rotate([0,0]),Za(zb));Da.rotate(Eb);Yb.sphere=function(){pc.polygonStart();pc.lineStart();for(var u=0,E=2*Ka/M,aa=
0;u<M;++u,aa-=E)pc.point(Xd(nb*bc(aa),tb)*id,Sa(nb*S(aa))*id),pc.point(Xd(ia*bc(aa-E/2),Y)*id,Sa(ia*S(aa-E/2))*id);pc.lineEnd();pc.polygonEnd()};return Yb};return Da.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};n.geoGingeryRaw=w;n.geoGinzburg4=function(){return x.geoProjection(Zf).scale(149.995)};n.geoGinzburg4Raw=Zf;n.geoGinzburg5=function(){return x.geoProjection(pd).scale(153.93)};n.geoGinzburg5Raw=pd;n.geoGinzburg6=function(){return x.geoProjection(Ue).scale(130.945)};n.geoGinzburg6Raw=
Ue;n.geoGinzburg8=function(){return x.geoProjection(D).scale(131.747)};n.geoGinzburg8Raw=D;n.geoGinzburg9=function(){return x.geoProjection(Le).scale(131.087)};n.geoGinzburg9Raw=Le;n.geoGringorten=function(){return x.geoProjection(G(B)).scale(239.75)};n.geoGringortenRaw=B;n.geoGuyou=function(){return x.geoProjection(G(Ta)).scale(151.496)};n.geoGuyouRaw=Ta;n.geoHammer=function(){var M=2,N=x.geoProjectionMutator(Ia),Y=N(M);Y.coefficient=function(ia){return arguments.length?N(M=+ia):M};return Y.scale(169.529)};
n.geoHammerRaw=Ia;n.geoHammerRetroazimuthal=function(){var M=0,N=x.geoProjectionMutator(Ja),Y=N(M),ia=Y.rotate,ya=Y.stream,Da=x.geoCircle();Y.parallel=function(Za){if(!arguments.length)return M*id;var tb=Y.rotate();return N(M=Za*fd).rotate(tb)};Y.rotate=function(Za){if(!arguments.length)return Za=ia.call(Y),Za[1]+=M*id,Za;ia.call(Y,[Za[0],Za[1]-M*id]);Da.center([-Za[0],-Za[1]]);return Y};Y.stream=function(Za){Za=ya(Za);Za.sphere=function(){Za.polygonStart();var tb=Da.radius(89.99)().coordinates[0],
nb=tb.length-1,zb=-1,Eb;for(Za.lineStart();++zb<nb;)Za.point((Eb=tb[zb])[0],Eb[1]);Za.lineEnd();tb=Da.radius(90.01)().coordinates[0];for(Za.lineStart();0<=--zb;)Za.point((Eb=tb[zb])[0],Eb[1]);Za.lineEnd();Za.polygonEnd()};return Za};return Y.scale(79.4187).parallel(45).clipAngle(179.999)};n.geoHammerRetroazimuthalRaw=Ja;n.geoHealpix=function(){var M=4,N=x.geoProjectionMutator(sa),Y=N(M),ia=Y.stream;Y.lobes=function(ya){return arguments.length?N(M=+ya):M};Y.stream=function(ya){var Da=Y.rotate(),Za=
ia(ya),tb=(Y.rotate([0,0]),ia(ya));Y.rotate(Da);Za.sphere=function(){x.geoStream(ec(180/M),tb)};return Za};return Y.scale(239.75)};n.geoHealpixRaw=sa;n.geoHill=function(){var M=1,N=x.geoProjectionMutator(Ec),Y=N(M);Y.ratio=function(ia){return arguments.length?N(M=+ia):M};return Y.scale(167.774).center([0,18.67])};n.geoHillRaw=Ec;n.geoHomolosine=function(){return x.geoProjection(Dc).scale(152.63)};n.geoHomolosineRaw=Dc;n.geoHufnagel=function(){var M=1,N=0,Y=45*fd,ia=2,ya=x.geoProjectionMutator(Sc),
Da=ya(M,N,Y,ia);Da.a=function(Za){return arguments.length?ya(M=+Za,N,Y,ia):M};Da.b=function(Za){return arguments.length?ya(M,N=+Za,Y,ia):N};Da.psiMax=function(Za){return arguments.length?ya(M,N,Y=+Za*fd,ia):Y*id};Da.ratio=function(Za){return arguments.length?ya(M,N,Y,ia=+Za):ia};return Da.scale(180.739)};n.geoHufnagelRaw=Sc;n.geoHyperelliptical=function(){var M=0,N=2.5,Y=1.183136,ia=x.geoProjectionMutator(kc),ya=ia(M,N,Y);ya.alpha=function(Da){return arguments.length?ia(M=+Da,N,Y):M};ya.k=function(Da){return arguments.length?
ia(M,N=+Da,Y):N};ya.gamma=function(Da){return arguments.length?ia(M,N,Y=+Da):Y};return ya.scale(152.63)};n.geoHyperellipticalRaw=kc;n.geoInterrupt=rc;n.geoInterruptedBoggs=function(){return rc(ab,vf).scale(160.857)};n.geoInterruptedHomolosine=function(){return rc(Dc,ag).scale(152.63)};n.geoInterruptedMollweide=function(){return rc(zd,df).scale(169.529)};n.geoInterruptedMollweideHemispheres=function(){return rc(zd,J).scale(169.529).rotate([20,0])};n.geoInterruptedSinuMollweide=function(){return rc(gd,
da,Ea).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoInterruptedSinusoidal=function(){return rc(ja,kb).scale(152.63).rotate([-20,0])};n.geoKavrayskiy7=function(){return x.geoProjection(Xc).scale(158.837)};n.geoKavrayskiy7Raw=Xc;n.geoLagrange=function(){var M=.5,N=x.geoProjectionMutator($c),Y=N(M);Y.spacing=function(ia){return arguments.length?N(M=+ia):M};return Y.scale(124.75)};n.geoLagrangeRaw=$c;n.geoLarrivee=function(){return x.geoProjection(Nc).scale(97.2672)};n.geoLarriveeRaw=Nc;
n.geoLaskowski=function(){return x.geoProjection(Dd).scale(139.98)};n.geoLaskowskiRaw=Dd;n.geoLittrow=function(){return x.geoProjection(we).scale(144.049).clipAngle(89.999)};n.geoLittrowRaw=we;n.geoLoximuthal=function(){return Ma(ld).parallel(40).scale(158.837)};n.geoLoximuthalRaw=ld;n.geoMiller=function(){return x.geoProjection(sd).scale(108.318)};n.geoMillerRaw=sd;n.geoModifiedStereographic=La;n.geoModifiedStereographicRaw=ge;n.geoModifiedStereographicAlaska=function(){return La(Mb,[152,-64]).scale(1400).center([-160.908,
62.4864]).clipAngle(30).angle(7.8)};n.geoModifiedStereographicGs48=function(){return La(ac,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};n.geoModifiedStereographicGs50=function(){return La(ic,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};n.geoModifiedStereographicMiller=function(){return La(Qc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};n.geoModifiedStereographicLee=function(){return La(Kc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};
n.geoMollweide=function(){return x.geoProjection(zd).scale(169.529)};n.geoMollweideRaw=zd;n.geoMtFlatPolarParabolic=function(){return x.geoProjection(vb).scale(164.859)};n.geoMtFlatPolarParabolicRaw=vb;n.geoMtFlatPolarQuartic=function(){return x.geoProjection($b).scale(188.209)};n.geoMtFlatPolarQuarticRaw=$b;n.geoMtFlatPolarSinusoidal=function(){return x.geoProjection(rd).scale(166.518)};n.geoMtFlatPolarSinusoidalRaw=rd;n.geoNaturalEarth2=function(){return x.geoProjection(vd).scale(175.295)};n.geoNaturalEarth2Raw=
vd;n.geoNellHammer=function(){return x.geoProjection(de).scale(152.63)};n.geoNellHammerRaw=de;n.geoInterruptedQuarticAuthalic=function(){return rc(Ia(Infinity),Nd).rotate([20,0]).scale(152.63)};n.geoNicolosi=function(){return x.geoProjection(oe).scale(127.267)};n.geoNicolosiRaw=oe;n.geoPatterson=function(){return x.geoProjection(X).scale(139.319)};n.geoPattersonRaw=X;n.geoPolyconic=function(){return x.geoProjection(za).scale(103.74)};n.geoPolyconicRaw=za;n.geoPolyhedral=Gb;n.geoPolyhedralButterfly=
function(M){M=M||function(Y){Y=x.geoCentroid({type:"MultiPoint",coordinates:Y});return x.geoGnomonic().scale(1).translate([0,0]).rotate([-Y[0],-Y[1]])};var N=af.map(function(Y){return{face:Y,project:M(Y)}});[-1,0,0,1,0,1,4,5].forEach(function(Y,ia){(Y=N[Y])&&(Y.children||(Y.children=[])).push(N[ia])});return Gb(N[0],function(Y,ia){return N[Y<-Ka/2?0>ia?6:4:0>Y?0>ia?2:0:Y<Ka/2?0>ia?3:1:0>ia?7:5]}).angle(-30).scale(101.858).center([0,45])};n.geoPolyhedralCollignon=function(M){M=M||function(Y){Y=x.geoCentroid({type:"MultiPoint",
coordinates:Y});return x.geoProjection(gc).translate([0,0]).scale(1).rotate(0<Y[1]?[-Y[0],0]:[180-Y[0],180])};var N=af.map(function(Y){return{face:Y,project:M(Y)}});[-1,0,0,1,0,1,4,5].forEach(function(Y,ia){(Y=N[Y])&&(Y.children||(Y.children=[])).push(N[ia])});return Gb(N[0],function(Y,ia){return N[Y<-Ka/2?0>ia?6:4:0>Y?0>ia?2:0:Y<Ka/2?0>ia?3:1:0>ia?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};n.geoPolyhedralWaterman=function(M){M=M||function(Da){Da=6===Da.length?x.geoCentroid({type:"MultiPoint",
coordinates:Da}):Da[0];return x.geoGnomonic().scale(1).translate([0,0]).rotate([-Da[0],-Da[1]])};var N=af.map(function(Da){Da=Da.map(Hb);for(var Za=Da.length,tb=Da[Za-1],nb,zb=[],Eb=0;Eb<Za;++Eb)nb=Da[Eb],zb.push(Mc([.9486832980505138*tb[0]+.31622776601683794*nb[0],.9486832980505138*tb[1]+.31622776601683794*nb[1],.9486832980505138*tb[2]+.31622776601683794*nb[2]]),Mc([.9486832980505138*nb[0]+.31622776601683794*tb[0],.9486832980505138*nb[1]+.31622776601683794*tb[1],.9486832980505138*nb[2]+.31622776601683794*
tb[2]])),tb=nb;return zb}),Y=[],ia=[-1,0,0,1,0,1,4,5];N.forEach(function(Da,Za){for(var tb=af[Za],nb=tb.length,zb=Y[Za]=[],Eb=0;Eb<nb;++Eb)N.push([tb[Eb],Da[(2*Eb+2)%(2*nb)],Da[(2*Eb+1)%(2*nb)]]),ia.push(Za),zb.push(Bc(Hb(Da[(2*Eb+2)%(2*nb)]),Hb(Da[(2*Eb+1)%(2*nb)])))});var ya=N.map(function(Da){return{project:M(Da),face:Da}});ia.forEach(function(Da,Za){(Da=ya[Da])&&(Da.children||(Da.children=[])).push(ya[Za])});return Gb(ya[0],function(Da,Za){var tb=bc(Za);tb=[tb*bc(Da),tb*S(Da),S(Za)];Da=Da<-Ka/
2?0>Za?6:4:0>Da?0>Za?2:0:Da<Ka/2?0>Za?3:1:0>Za?7:5;Za=Y[Da];return ya[0>tc(Za[0],tb)?8+3*Da:0>tc(Za[1],tb)?3*Da+9:0>tc(Za[2],tb)?3*Da+10:Da]}).angle(-30).scale(110.625).center([0,45])};n.geoProject=function(M,N){N=N.stream;if(!N)throw Error("invalid projection");switch(M&&M.type){case "Feature":var Y=Cc;break;case "FeatureCollection":Y=yc;break;default:Y=Ic}return Y(M,N)};n.geoGringortenQuincuncial=function(){return Yc(B).scale(176.423)};n.geoPeirceQuincuncial=function(){return Yc(Ta).scale(111.48)};
n.geoQuantize=function(M,N){function Y(nb){var zb=nb.length,Eb=2,Yb=Array(zb);Yb[0]=+nb[0].toFixed(N);for(Yb[1]=+nb[1].toFixed(N);Eb<zb;)Yb[Eb]=nb[Eb],++Eb;return Yb}function ia(nb){for(var zb=Y(nb[0]),Eb=[zb],Yb=1;Yb<nb.length;Yb++){var pc=Y(nb[Yb]);if(2<pc.length||pc[0]!=zb[0]||pc[1]!=zb[1])Eb.push(pc),zb=pc}1===Eb.length&&1<nb.length&&Eb.push(Y(nb[nb.length-1]));return Eb}function ya(nb){return nb.map(ia)}function Da(nb){if(null==nb)return nb;switch(nb.type){case "GeometryCollection":var zb={type:"GeometryCollection",
geometries:nb.geometries.map(Da)};break;case "Point":zb={type:"Point",coordinates:Y(nb.coordinates)};break;case "MultiPoint":zb={type:nb.type,coordinates:nb.coordinates.map(Y)};break;case "LineString":zb={type:nb.type,coordinates:ia(nb.coordinates)};break;case "MultiLineString":case "Polygon":zb={type:nb.type,coordinates:ya(nb.coordinates)};break;case "MultiPolygon":zb={type:"MultiPolygon",coordinates:nb.coordinates.map(ya)};break;default:return nb}null!=nb.bbox&&(zb.bbox=nb.bbox);return zb}function Za(nb){var zb=
{type:"Feature",properties:nb.properties,geometry:Da(nb.geometry)};null!=nb.id&&(zb.id=nb.id);null!=nb.bbox&&(zb.bbox=nb.bbox);return zb}if(!(0<=(N=+N)&&20>=N))throw Error("invalid digits");if(null!=M)switch(M.type){case "Feature":return Za(M);case "FeatureCollection":var tb={type:"FeatureCollection",features:M.features.map(Za)};null!=M.bbox&&(tb.bbox=M.bbox);return tb;default:return Da(M)}return M};n.geoQuincuncial=Yc;n.geoRectangularPolyconic=function(){return Ma(Uc).scale(131.215)};n.geoRectangularPolyconicRaw=
Uc;n.geoRobinson=function(){return x.geoProjection(od).scale(152.63)};n.geoRobinsonRaw=od;n.geoSatellite=function(){var M=2,N=0,Y=x.geoProjectionMutator(Id),ia=Y(M,N);ia.distance=function(ya){return arguments.length?Y(M=+ya,N):M};ia.tilt=function(ya){return arguments.length?Y(M,N=ya*fd):N*id};return ia.scale(432.147).clipAngle(Wb(1/M)*id-1E-6)};n.geoSatelliteRaw=Id;n.geoSinuMollweide=function(){return x.geoProjection(gd).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoSinuMollweideRaw=
gd;n.geoSinusoidal=function(){return x.geoProjection(ja).scale(152.63)};n.geoSinusoidalRaw=ja;n.geoStitch=function(M){if(null==M)return M;switch(M.type){case "Feature":return Re(M);case "FeatureCollection":var N={type:"FeatureCollection",features:M.features.map(Re)};null!=M.bbox&&(N.bbox=M.bbox);return N;default:return Fd(M)}};n.geoTimes=function(){return x.geoProjection(ee).scale(146.153)};n.geoTimesRaw=ee;n.geoTwoPointAzimuthal=Bf;n.geoTwoPointAzimuthalRaw=Oe;n.geoTwoPointAzimuthalUsa=function(){return Bf([-158,
21.5],[-77,39]).clipAngle(60).scale(400)};n.geoTwoPointEquidistant=Ae;n.geoTwoPointEquidistantRaw=Yd;n.geoTwoPointEquidistantUsa=function(){return Ae([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};n.geoVanDerGrinten=function(){return x.geoProjection(cf).scale(79.4183)};n.geoVanDerGrintenRaw=cf;n.geoVanDerGrinten2=function(){return x.geoProjection(re).scale(79.4183)};n.geoVanDerGrinten2Raw=re;n.geoVanDerGrinten3=function(){return x.geoProjection(Ad).scale(79.4183)};n.geoVanDerGrinten3Raw=Ad;
n.geoVanDerGrinten4=function(){return x.geoProjection(Ld).scale(127.16)};n.geoVanDerGrinten4Raw=Ld;n.geoWagner=De;n.geoWagner7=function(){return De().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};n.geoWagnerRaw=Jf;n.geoWagner4=function(){return x.geoProjection(gg).scale(176.84)};n.geoWagner4Raw=gg;n.geoWagner6=function(){return x.geoProjection(Jd).scale(152.63)};n.geoWagner6Raw=Jd;n.geoWiechel=function(){return x.geoProjection(Se).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};
n.geoWiechelRaw=Se;n.geoWinkel3=function(){return x.geoProjection(Ee).scale(158.837)};n.geoWinkel3Raw=Ee;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[43]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(41),Rb(42)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.d3,n.d3))})(this,function(n,x,ca){function Sa(Bb,bb){return function sb(){const Wa=bb();Wa.type=Bb;Wa.path=x.geoPath().projection(Wa);Wa.copy=Wa.copy||function(){const Ha=sb();ub.forEach(Ia=>{if(Wa[Ia])Ha[Ia](Wa[Ia]())});
Ha.path.pointRadius(Wa.path.pointRadius());return Ha};return Wa}}function Wb(Bb,bb){if(!Bb||"string"!==typeof Bb)throw Error("Projection type must be a name string.");Bb=Bb.toLowerCase();return 1<arguments.length?(Qb[Bb]=Sa(Bb,bb),this):Qb[Bb]||null}const fb=x.geoPath(),ub="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Qb={albers:x.geoAlbers,albersusa:x.geoAlbersUsa,azimuthalequalarea:x.geoAzimuthalEqualArea,
azimuthalequidistant:x.geoAzimuthalEquidistant,conicconformal:x.geoConicConformal,conicequalarea:x.geoConicEqualArea,conicequidistant:x.geoConicEquidistant,equalEarth:x.geoEqualEarth,equirectangular:x.geoEquirectangular,gnomonic:x.geoGnomonic,identity:x.geoIdentity,mercator:x.geoMercator,mollweide:ca.geoMollweide,naturalEarth1:x.geoNaturalEarth1,orthographic:x.geoOrthographic,stereographic:x.geoStereographic,transversemercator:x.geoTransverseMercator};for(const Bb in Qb)Wb(Bb,Qb[Bb]);n.getProjectionPath=
function(Bb){return Bb&&Bb.path||fb};n.projection=Wb;n.projectionProperties=ub;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[44]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(28),Rb(16),Rb(17),Rb(29),Rb(43),Rb(41),Rb(34),Rb(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.d3,n.vega))})(this,function(n,x,ca,Sa,
Wb,fb,ub,Qb,Bb){function bb(){}function qb(){function ma(D,G){return G.map(B=>R(D,B))}function R(D,G){var B=[],fa=[];v(D,G,wa=>{C(wa,D,G);for(var la=0,Ta=wa.length,Ja=wa[Ta-1][1]*wa[0][0]-wa[Ta-1][0]*wa[0][1];++la<Ta;)Ja+=wa[la-1][1]*wa[la][0]-wa[la-1][0]*wa[la][1];0<Ja?B.push([wa]):fa.push(wa)});fa.forEach(wa=>{for(var la=0,Ta=B.length,Ja;la<Ta;++la){a:{var Z=(Ja=B[la])[0];for(var sa=wa,eb=-1,xb=sa.length;++eb<xb;){b:{var Kb=Z;for(var ec=sa[eb],Ec=ec[0],gd=ec[1],Dc=-1,Sc=0,Ra=Kb.length,nc=Ra-1;Sc<
Ra;nc=Sc++){var kc=Kb[Sc],wc=kc[0],Pc=kc[1],rc=Kb[nc];nc=rc[0];var Xc=rc[1],$c,Nc=kc;kc=rc;rc=ec;if($c=(kc[0]-Nc[0])*(rc[1]-Nc[1])===(rc[0]-Nc[0])*(kc[1]-Nc[1]))Nc=Nc[$c=+(Nc[0]===kc[0])],rc=rc[$c],kc=kc[$c],$c=Nc<=rc&&rc<=kc||kc<=rc&&rc<=Nc;if($c){Kb=0;break b}Pc>gd!==Xc>gd&&Ec<(nc-wc)*(gd-Pc)/(Xc-Pc)+wc&&(Dc=-Dc)}Kb=Dc}if(Kb){Z=Kb;break a}}Z=0}if(-1!==Z){Ja.push(wa);break}}});return{type:"MultiPolygon",value:G,coordinates:B}}function v(D,G,B){function fa(Kb){var ec=[Kb[0][0]+Ja,Kb[0][1]+Ta];Kb=
[Kb[1][0]+Ja,Kb[1][1]+Ta];var Ec=2*ec[0]+ec[1]*(p+1)*4,gd=2*Kb[0]+Kb[1]*(p+1)*4,Dc,Sc;(Dc=la[Ec])?(Sc=wa[gd])?(delete la[Dc.end],delete wa[Sc.start],Dc===Sc?(Dc.ring.push(Kb),B(Dc.ring)):wa[Dc.start]=la[Sc.end]={start:Dc.start,end:Sc.end,ring:Dc.ring.concat(Sc.ring)}):(delete la[Dc.end],Dc.ring.push(Kb),la[Dc.end=gd]=Dc):(Dc=wa[gd])?(Sc=la[Ec])?(delete wa[Dc.start],delete la[Sc.end],Dc===Sc?(Dc.ring.push(Kb),B(Dc.ring)):wa[Sc.start]=la[Dc.end]={start:Sc.start,end:Dc.end,ring:Sc.ring.concat(Dc.ring)}):
(delete wa[Dc.start],Dc.ring.unshift(ec),wa[Dc.start=Ec]=Dc):wa[Ec]=la[gd]={start:Ec,end:gd,ring:[ec,Kb]}}var wa=[],la=[],Ta;var Ja=Ta=-1;var Z=D[0]>=G;for(va[Z<<1].forEach(fa);++Ja<p-1;){var sa=Z;Z=D[Ja+1]>=G;va[sa|Z<<1].forEach(fa)}for(va[Z<<0].forEach(fa);++Ta<r-1;){Ja=-1;Z=D[Ta*p+p]>=G;var eb=D[Ta*p]>=G;for(va[Z<<1|eb<<2].forEach(fa);++Ja<p-1;){sa=Z;Z=D[Ta*p+p+Ja+1]>=G;var xb=eb;eb=D[Ta*p+Ja+1]>=G;va[sa|Z<<1|eb<<2|xb<<3].forEach(fa)}va[Z|eb<<3].forEach(fa)}Ja=-1;eb=D[Ta*p]>=G;for(va[eb<<2].forEach(fa);++Ja<
p-1;)xb=eb,eb=D[Ta*p+Ja+1]>=G,va[eb<<2|xb<<3].forEach(fa);va[eb<<3].forEach(fa)}function w(D,G,B){D.forEach(fa=>{var wa=fa[0],la=fa[1],Ta=wa|0,Ja=la|0,Z=G[Ja*p+Ta];if(0<wa&&wa<p&&Ta===wa){var sa=G[Ja*p+Ta-1];fa[0]=wa+(B-sa)/(Z-sa)-.5}0<la&&la<r&&Ja===la&&(sa=G[(Ja-1)*p+Ta],fa[1]=la+(B-sa)/(Z-sa)-.5)})}var p=1,r=1,C=w;ma.contour=R;ma.size=function(D){if(!arguments.length)return[p,r];var G=Math.floor(D[0]),B=Math.floor(D[1]);0<=G&&0<=B||ca.error("invalid size");return p=G,r=B,ma};ma.smooth=function(D){return arguments.length?
(C=D?w:bb,ma):C===w};return ma}function sb(ma,R,v){return function(w){var p=ca.extent(w);w=v?Math.min(p[0],0):p[0];p=p[1];var r=p-w;r=R?Sa.tickStep(w,p,ma):r/(ma+1);return Sa.range(w+r,p,r)}}function Wa(ma){x.Transform.call(this,null,ma)}function Ha(ma,R,v){const w=sb(v.levels||10,v.nice,!1!==v.zero);return"shared"!==v.resolve?w:w(ma.map(p=>Sa.max(R(p).values)))}function Ia(ma,R,v,w){var p=w.scale||R.scale;let r=w.translate||R.translate;ca.isFunction(p)&&(p=p(v,w));ca.isFunction(r)&&(r=r(v,w));if(1!==
p&&null!=p||r)v=(ca.isNumber(p)?p:p[0])||1,p=(ca.isNumber(p)?p:p[1])||1,ma.forEach(Ya(R,v,p,r&&r[0]||0,r&&r[1]||0))}function Ya(ma,R,v,w,p){function r(wa){wa.forEach(C)}function C(wa){fa&&wa.reverse();wa.forEach(D)}function D(wa){wa[0]=(wa[0]-G)*R+w;wa[1]=(wa[1]-B)*v+p}const G=ma.x1||0,B=ma.y1||0,fa=0>R*v;return function(wa){wa.coordinates.forEach(r);return wa}}function mb(ma,R,v){ma=0<=ma?ma:Wb.bandwidthNRD(R,v);return Math.round((Math.sqrt(4*ma*ma+1)-1)/2)}function Ea(ma){return ca.isFunction(ma)?
ma:ca.constant(+ma)}function Ga(){function ma(G,B){const fa=mb(p[0],G,R)>>D,wa=mb(p[1],G,v)>>D,la=fa?fa+2:0,Ta=wa?wa+2:0,Ja=2*la+(r>>D),Z=2*Ta+(C>>D),sa=new Float32Array(Ja*Z),eb=new Float32Array(Ja*Z);let xb=sa;G.forEach(Kb=>{const ec=la+(+R(Kb)>>D),Ec=Ta+(+v(Kb)>>D);0<=ec&&ec<Ja&&0<=Ec&&Ec<Z&&(sa[ec+Ec*Ja]+=+w(Kb))});0<fa&&0<wa?(jb(Ja,Z,sa,eb,fa),Ca(Ja,Z,eb,sa,wa),jb(Ja,Z,sa,eb,fa),Ca(Ja,Z,eb,sa,wa),jb(Ja,Z,sa,eb,fa),Ca(Ja,Z,eb,sa,wa)):0<fa?(jb(Ja,Z,sa,eb,fa),jb(Ja,Z,eb,sa,fa),jb(Ja,Z,sa,eb,fa),
xb=eb):0<wa&&(Ca(Ja,Z,sa,eb,wa),Ca(Ja,Z,eb,sa,wa),Ca(Ja,Z,sa,eb,wa),xb=eb);G=B?Math.pow(2,-2*D):1/Sa.sum(xb);for(let Kb=0,ec=Ja*Z;Kb<ec;++Kb)xb[Kb]*=G;return{values:xb,scale:1<<D,width:Ja,height:Z,x1:la,y1:Ta,x2:la+(r>>D),y2:Ta+(C>>D)}}var R=G=>G[0],v=G=>G[1],w=ca.one,p=[-1,-1],r=960,C=500,D=2;ma.x=function(G){return arguments.length?(R=Ea(G),ma):R};ma.y=function(G){return arguments.length?(v=Ea(G),ma):v};ma.weight=function(G){return arguments.length?(w=Ea(G),ma):w};ma.size=function(G){if(!arguments.length)return[r,
C];var B=+G[0],fa=+G[1];0<=B&&0<=fa||ca.error("invalid size");return r=B,C=fa,ma};ma.cellSize=function(G){if(!arguments.length)return 1<<D;1<=(G=+G)||ca.error("invalid cell size");D=Math.floor(Math.log(G)/Math.LN2);return ma};ma.bandwidth=function(G){if(!arguments.length)return p;G=ca.array(G);1===G.length&&(G=[+G[0],+G[0]]);2!==G.length&&ca.error("invalid bandwidth");return p=G,ma};return ma}function jb(ma,R,v,w,p){const r=(p<<1)+1;for(let C=0;C<R;++C)for(let D=0,G=0;D<ma+p;++D)D<ma&&(G+=v[D+C*ma]),
D>=p&&(D>=r&&(G-=v[D-r+C*ma]),w[D-p+C*ma]=G/Math.min(D+1,ma-1+r-D,r))}function Ca(ma,R,v,w,p){const r=(p<<1)+1;for(let C=0;C<ma;++C)for(let D=0,G=0;D<R+p;++D)D<R&&(G+=v[C+D*ma]),D>=p&&(D>=r&&(G-=v[C+(D-r)*ma]),w[C+(D-p)*ma]=G/Math.min(D+1,R-1+r-D,r))}function ab(ma){x.Transform.call(this,null,ma)}function Ma(ma,R){xa.forEach(v=>null!=R[v]?ma[v](R[v]):0);return ma}function ja(ma,R){var v=[],w=fa=>fa(D),p;if(null==R)v.push(ma);else{var r={};var C=0;for(p=ma.length;C<p;++C){var D=ma[C];var G=R.map(w);
var B=r[G];B||(r[G]=B=[],B.dims=G,v.push(B));B.push(D)}}return v}function Aa(ma){x.Transform.call(this,null,ma)}function Qa(ma){x.Transform.call(this,null,ma)}function Xa(ma){x.Transform.call(this,null,ma)}function hb(ma,R){const v=ma.pointRadius();ma.context(null);null!=R&&ma.pointRadius(R);return v}function cb(ma){x.Transform.call(this,null,ma)}function ob(ma){x.Transform.call(this,null,ma)}function $a(ma,R,v){const w=null==v?p=>ma(R(p)):p=>{var r=ma.pointRadius();p=ma.pointRadius(v)(R(p));ma.pointRadius(r);
return p};w.context=p=>{ma.context(p);return w};return w}function Q(ma){x.Transform.call(this,[],ma);this.generator=ub.geoGraticule()}function H(ma){x.Transform.call(this,null,ma)}function T(ma,R){let v;ca.isFunction(ma)?(v=w=>Qb.rgb(ma(w,R)),v.dep=O(ma)):v=ca.constant(Qb.rgb(ma||"#888"));return v}function na(ma,R){let v;ca.isFunction(ma)?(v=w=>ma(w,R),v.dep=O(ma)):ma?v=ca.constant(ma):(v=w=>w.$value/w.$max||0,v.dep=!0);return v}function O(ma){if(!ca.isFunction(ma))return!1;ma=ca.toSet(ca.accessorFields(ma));
return ma.$x||ma.$y||ma.$value||ma.$max}function W(ma,R,v,w){const p=ma.width;var r=ma.height;const C=ma.x1||0,D=ma.y1||0,G=ma.x2||p;r=ma.y2||r;const B=ma.values;ma=B?Ja=>B[Ja]:ca.zero;const fa=Bb.canvas(G-C,r-D),wa=fa.getContext("2d"),la=wa.getImageData(0,0,G-C,r-D),Ta=la.data;for(let Ja=D,Z=0;Ja<r;++Ja){R.$y=Ja-D;for(let sa=C,eb=Ja*p;sa<G;++sa,Z+=4){R.$x=sa-C;R.$value=ma(sa+eb);const xb=v(R);Ta[Z+0]=xb.r;Ta[Z+1]=xb.g;Ta[Z+2]=xb.b;Ta[Z+3]=~~(255*w(R))}}wa.putImageData(la,0,0);return fa}function ea(ma){x.Transform.call(this,
null,ma);this.modified(!0)}function pa(ma,R){const v=db(R.fit);R.extent?ma.fitExtent(R.extent,v):R.size?ma.fitSize(R.size,v):0}function Ua(ma){const R=fb.projection((ma||"mercator").toLowerCase());R||ca.error("Unrecognized projection type: "+ma);return R()}function db(ma){ma=ca.array(ma);return 1===ma.length?ma[0]:{type:"FeatureCollection",features:ma.reduce((R,v)=>R.concat(U(v)),[])}}function U(ma){return"FeatureCollection"===ma.type?ma.features:ca.array(ma).filter(R=>null!=R).map(R=>"Feature"===
R.type?R:{type:"Feature",geometry:R})}const va=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Wa.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",
type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ca.inherits(Wa,x.Transform,{transform(ma,R){if(this.value&&!R.changed()&&!ma.modified())return R.StopPropagation;var v=R.fork(R.NO_SOURCE|
R.NO_FIELDS);R=R.materialize(R.SOURCE).source;var w=ma.field||ca.identity,p=qb().smooth(!1!==ma.smooth),r=ma.thresholds||Ha(R,w,ma),C=null===ma.as?null:ma.as||"contour",D=[];R.forEach(G=>{const B=w(G),fa=p.size([B.width,B.height])(B.values,ca.isArray(r)?r:r(B.values));Ia(fa,B,G,ma);fa.forEach(wa=>{D.push(x.rederive(G,x.ingest(null!=C?{[C]:wa}:wa)))})});this.value&&(v.rem=this.value);this.value=v.source=v.add=D;return v}});ab.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",
array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const xa="x y weight size cellSize bandwidth".split(" ");ca.inherits(ab,x.Transform,{transform(ma,R){function v(G,B){for(let fa=0;fa<p.length;++fa)G[p[fa]]=B[fa];
return G}if(this.value&&!R.changed()&&!ma.modified())return R.StopPropagation;var w=R.fork(R.NO_SOURCE|R.NO_FIELDS);R=R.materialize(R.SOURCE).source;R=ja(R,ma.groupby);var p=(ma.groupby||[]).map(ca.accessorName),r=Ma(Ga(),ma),C=ma.as||"grid",D=[];D=R.map(G=>x.ingest(v({[C]:r(G,ma.counts)},G.dims)));this.value&&(w.rem=this.value);this.value=w.source=w.add=D;return w}});Aa.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",
type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ca.inherits(Aa,x.Transform,{transform(ma,R){if(this.value&&!R.changed()&&!ma.modified())return R.StopPropagation;var v=R.fork(R.NO_SOURCE|R.NO_FIELDS),w=qb().smooth(!1!==ma.smooth),
p=ma.values,r=ma.thresholds||sb(ma.count||10,ma.nice,!!p),C=ma.size;if(!p){p=R.materialize(R.SOURCE).source;ma=Ma(Ga(),ma)(p,!0);var D=Ya(ma,ma.scale||1,ma.scale||1,0,0);C=[ma.width,ma.height];p=ma.values}r=ca.isArray(r)?r:r(p);p=w.size(C)(p,r);D&&p.forEach(D);this.value&&(v.rem=this.value);this.value=v.source=v.add=(p||[]).map(x.ingest);return v}});Qa.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ca.inherits(Qa,x.Transform,
{transform(ma,R){var v=this._features,w=this._points,p=ma.fields,r=p&&p[0],C=p&&p[1],D=ma.geojson||!p&&ca.identity;p=R.ADD;ma=ma.modified()||R.changed(R.REM)||R.modified(ca.accessorFields(D))||r&&R.modified(ca.accessorFields(r))||C&&R.modified(ca.accessorFields(C));if(!this.value||ma)p=R.SOURCE,this._features=v=[],this._points=w=[];D&&R.visit(p,G=>v.push(D(G)));r&&C&&(R.visit(p,G=>{var B=r(G);G=C(G);null!=B&&null!=G&&(B=+B)===B&&(G=+G)===G&&w.push([B,G])}),v=v.concat({type:"Feature",geometry:{type:"MultiPoint",
coordinates:w}}));this.value={type:"FeatureCollection",features:v}}});Xa.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};ca.inherits(Xa,x.Transform,{transform(ma,R){var v=R.fork(R.ALL),w=this.value,p=ma.field||ca.identity,r=ma.as||"path",C=v.SOURCE;!w||ma.modified()?(this.value=w=fb.getProjectionPath(ma.projection),v.materialize().reflow()):
C=p===ca.identity||R.modified(p.fields)?v.ADD_MOD:v.ADD;ma=hb(w,ma.pointRadius);v.visit(C,D=>D[r]=w(p(D)));w.pointRadius(ma);return v.modifies(r)}});cb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ca.inherits(cb,x.Transform,{transform(ma,R){function v(B){const fa=w([p(B),r(B)]);fa?(B[D]=fa[0],B[G]=fa[1]):(B[D]=
void 0,B[G]=void 0)}var w=ma.projection,p=ma.fields[0],r=ma.fields[1],C=ma.as||["x","y"],D=C[0],G=C[1];ma.modified()?R=R.materialize().reflow(!0).visit(R.SOURCE,v):(ma=R.modified(p.fields)||R.modified(r.fields),R.visit(ma?R.ADD_MOD:R.ADD,v));return R.modifies(C)}});ob.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};
ca.inherits(ob,x.Transform,{transform(ma,R){R=R.fork(R.ALL);var v=this.value,w=ma.as||"shape",p=R.ADD;if(!v||ma.modified())this.value=v=$a(fb.getProjectionPath(ma.projection),ma.field||ca.field("datum"),ma.pointRadius),R.materialize().reflow(),p=R.SOURCE;R.visit(p,r=>r[w]=v);return R.modifies(w)}});Q.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,
length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ca.inherits(Q,x.Transform,{transform(ma,R){var v=this.value,w=this.generator;if(!v.length||ma.modified())for(const p in ma)if(ca.isFunction(w[p]))w[p](ma[p]);
ma=w();v.length?R.mod.push(x.replace(v[0],ma)):R.add.push(x.ingest(ma));v[0]=ma;return R}});H.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ca.inherits(H,x.Transform,{transform(ma,R){if(!R.changed()&&!ma.modified())return R.StopPropagation;var v=R.materialize(R.SOURCE).source,
w="shared"===ma.resolve,p=ma.field||ca.identity,r=na(ma.opacity,ma),C=T(ma.color,ma),D=ma.as||"image",G={$x:0,$y:0,$value:0,$max:w?Sa.max(v.map(B=>Sa.max(p(B).values))):0};v.forEach(B=>{const fa=p(B),wa=ca.extend({},B,G);w||(wa.$max=Sa.max(fa.values||[]));B[D]=W(fa,wa,C.dep?C:ca.constant(C(wa)),r.dep?r:ca.constant(r(wa)))});return R.reflow(!0).modifies(D)}});ca.inherits(ea,x.Transform,{transform(ma,R){let v=this.value;!v||ma.modified("type")?(this.value=v=Ua(ma.type),fb.projectionProperties.forEach(w=>
{if(null!=ma[w]){var p=v,r=ma[w];if(ca.isFunction(p[w]))p[w](r)}})):fb.projectionProperties.forEach(w=>{if(ma.modified(w)){var p=v,r=ma[w];if(ca.isFunction(p[w]))p[w](r)}});null!=ma.pointRadius&&v.path.pointRadius(ma.pointRadius);ma.fit&&pa(v,ma);return R.fork(R.NO_SOURCE|R.NO_FIELDS)}});n.contour=Aa;n.geojson=Qa;n.geopath=Xa;n.geopoint=cb;n.geoshape=ob;n.graticule=Q;n.heatmap=H;n.isocontour=Wa;n.kde2d=ab;n.projection=ea;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[45]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(bb,qb,sb,Wa){if(isNaN(qb)||isNaN(sb))return bb;var Ha,Ia=bb._root;Wa={data:Wa};var Ya=bb._x0,mb=bb._y0,Ea=bb._x1,Ga=bb._y1,jb,Ca,ab,Ma;if(!Ia)return bb._root=Wa,bb;for(;Ia.length;)if((ab=qb>=(jb=(Ya+Ea)/2))?Ya=jb:Ea=jb,(Ma=sb>=(Ca=(mb+Ga)/2))?mb=Ca:Ga=Ca,Ha=Ia,!(Ia=Ia[ab|=
Ma<<1]))return Ha[ab]=Wa,bb;var ja=+bb._x.call(null,Ia.data);var Aa=+bb._y.call(null,Ia.data);if(qb===ja&&sb===Aa)return Wa.next=Ia,Ha?Ha[ab]=Wa:bb._root=Wa,bb;do Ha=Ha?Ha[ab]=Array(4):bb._root=Array(4),(ab=qb>=(jb=(Ya+Ea)/2))?Ya=jb:Ea=jb,(Ma=sb>=(Ca=(mb+Ga)/2))?mb=Ca:Ga=Ca;while((ab|=Ma<<1)===(Ma=(Aa>=Ca)<<1|ja>=jb));return Ha[Ma]=Ia,Ha[ab]=Wa,bb}function ca(bb,qb,sb,Wa,Ha){this.node=bb;this.x0=qb;this.y0=sb;this.x1=Wa;this.y1=Ha}function Sa(bb){return bb[0]}function Wb(bb){return bb[1]}function fb(bb,
qb,sb){qb=new ub(null==qb?Sa:qb,null==sb?Wb:sb,NaN,NaN,NaN,NaN);return null==bb?qb:qb.addAll(bb)}function ub(bb,qb,sb,Wa,Ha,Ia){this._x=bb;this._y=qb;this._x0=sb;this._y0=Wa;this._x1=Ha;this._y1=Ia;this._root=void 0}function Qb(bb){for(var qb={data:bb.data},sb=qb;bb=bb.next;)sb=sb.next={data:bb.data};return qb}var Bb=fb.prototype=ub.prototype;Bb.copy=function(){var bb=new ub(this._x,this._y,this._x0,this._y0,this._x1,this._y1),qb=this._root,sb,Wa;if(!qb)return bb;if(!qb.length)return bb._root=Qb(qb),
bb;for(sb=[{source:qb,target:bb._root=Array(4)}];qb=sb.pop();)for(var Ha=0;4>Ha;++Ha)if(Wa=qb.source[Ha])Wa.length?sb.push({source:Wa,target:qb.target[Ha]=Array(4)}):qb.target[Ha]=Qb(Wa);return bb};Bb.add=function(bb){const qb=+this._x.call(null,bb),sb=+this._y.call(null,bb);return x(this.cover(qb,sb),qb,sb,bb)};Bb.addAll=function(bb){var qb,sb,Wa=bb.length,Ha,Ia,Ya=Array(Wa),mb=Array(Wa),Ea=Infinity,Ga=Infinity,jb=-Infinity,Ca=-Infinity;for(sb=0;sb<Wa;++sb)isNaN(Ha=+this._x.call(null,qb=bb[sb]))||
isNaN(Ia=+this._y.call(null,qb))||(Ya[sb]=Ha,mb[sb]=Ia,Ha<Ea&&(Ea=Ha),Ha>jb&&(jb=Ha),Ia<Ga&&(Ga=Ia),Ia>Ca&&(Ca=Ia));if(Ea>jb||Ga>Ca)return this;this.cover(Ea,Ga).cover(jb,Ca);for(sb=0;sb<Wa;++sb)x(this,Ya[sb],mb[sb],bb[sb]);return this};Bb.cover=function(bb,qb){if(isNaN(bb=+bb)||isNaN(qb=+qb))return this;var sb=this._x0,Wa=this._y0,Ha=this._x1,Ia=this._y1;if(isNaN(sb))Ha=(sb=Math.floor(bb))+1,Ia=(Wa=Math.floor(qb))+1;else{for(var Ya=Ha-sb||1,mb=this._root,Ea,Ga;sb>bb||bb>=Ha||Wa>qb||qb>=Ia;)switch(Ga=
(qb<Wa)<<1|bb<sb,Ea=Array(4),Ea[Ga]=mb,mb=Ea,Ya*=2,Ga){case 0:Ha=sb+Ya;Ia=Wa+Ya;break;case 1:sb=Ha-Ya;Ia=Wa+Ya;break;case 2:Ha=sb+Ya;Wa=Ia-Ya;break;case 3:sb=Ha-Ya,Wa=Ia-Ya}this._root&&this._root.length&&(this._root=mb)}this._x0=sb;this._y0=Wa;this._x1=Ha;this._y1=Ia;return this};Bb.data=function(){var bb=[];this.visit(function(qb){if(!qb.length){do bb.push(qb.data);while(qb=qb.next)}});return bb};Bb.extent=function(bb){return arguments.length?this.cover(+bb[0][0],+bb[0][1]).cover(+bb[1][0],+bb[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Bb.find=function(bb,qb,sb){var Wa=this._x0,Ha=this._y0,Ia,Ya,mb,Ea,Ga=this._x1,jb=this._y1,Ca=[],ab=this._root,Ma;ab&&Ca.push(new ca(ab,Wa,Ha,Ga,jb));null==sb?sb=Infinity:(Wa=bb-sb,Ha=qb-sb,Ga=bb+sb,jb=qb+sb,sb*=sb);for(;Ma=Ca.pop();)if(!(!(ab=Ma.node)||(Ia=Ma.x0)>Ga||(Ya=Ma.y0)>jb||(mb=Ma.x1)<Wa||(Ea=Ma.y1)<Ha))if(ab.length){Ma=(Ia+mb)/2;var ja=(Ya+Ea)/2;Ca.push(new ca(ab[3],Ma,ja,mb,Ea),new ca(ab[2],Ia,ja,Ma,Ea),new ca(ab[1],Ma,Ya,
mb,ja),new ca(ab[0],Ia,Ya,Ma,ja));if(ab=(qb>=ja)<<1|bb>=Ma)Ma=Ca[Ca.length-1],Ca[Ca.length-1]=Ca[Ca.length-1-ab],Ca[Ca.length-1-ab]=Ma}else if(Ma=bb-+this._x.call(null,ab.data),ja=qb-+this._y.call(null,ab.data),Ma=Ma*Ma+ja*ja,Ma<sb){var Aa=Math.sqrt(sb=Ma);Wa=bb-Aa;Ha=qb-Aa;Ga=bb+Aa;jb=qb+Aa;Aa=ab.data}return Aa};Bb.remove=function(bb){if(isNaN(Ea=+this._x.call(null,bb))||isNaN(Ga=+this._y.call(null,bb)))return this;var qb,sb=this._root,Wa,Ha=this._x0,Ia=this._y0,Ya=this._x1,mb=this._y1,Ea,Ga,jb,
Ca,ab,Ma;if(!sb)return this;if(sb.length)for(;;){(ab=Ea>=(jb=(Ha+Ya)/2))?Ha=jb:Ya=jb;(Ma=Ga>=(Ca=(Ia+mb)/2))?Ia=Ca:mb=Ca;if(!(qb=sb,sb=sb[ab|=Ma<<1]))return this;if(!sb.length)break;if(qb[ab+1&3]||qb[ab+2&3]||qb[ab+3&3]){var ja=qb;var Aa=ab}}for(;sb.data!==bb;)if(!(Wa=sb,sb=sb.next))return this;(bb=sb.next)&&delete sb.next;if(Wa)return bb?Wa.next=bb:delete Wa.next,this;if(!qb)return this._root=bb,this;bb?qb[ab]=bb:delete qb[ab];(sb=qb[0]||qb[1]||qb[2]||qb[3])&&sb===(qb[3]||qb[2]||qb[1]||qb[0])&&!sb.length&&
(ja?ja[Aa]=sb:this._root=sb);return this};Bb.removeAll=function(bb){for(var qb=0,sb=bb.length;qb<sb;++qb)this.remove(bb[qb]);return this};Bb.root=function(){return this._root};Bb.size=function(){var bb=0;this.visit(function(qb){if(!qb.length){do++bb;while(qb=qb.next)}});return bb};Bb.visit=function(bb){var qb=[],sb,Wa=this._root,Ha,Ia,Ya,mb;for(Wa&&qb.push(new ca(Wa,this._x0,this._y0,this._x1,this._y1));sb=qb.pop();)if(!bb(Wa=sb.node,Ia=sb.x0,Ya=sb.y0,mb=sb.x1,sb=sb.y1)&&Wa.length){var Ea=(Ia+mb)/
2,Ga=(Ya+sb)/2;(Ha=Wa[3])&&qb.push(new ca(Ha,Ea,Ga,mb,sb));(Ha=Wa[2])&&qb.push(new ca(Ha,Ia,Ga,Ea,sb));(Ha=Wa[1])&&qb.push(new ca(Ha,Ea,Ya,mb,Ga));(Ha=Wa[0])&&qb.push(new ca(Ha,Ia,Ya,Ea,Ga))}return this};Bb.visitAfter=function(bb){var qb=[],sb=[],Wa;for(this._root&&qb.push(new ca(this._root,this._x0,this._y0,this._x1,this._y1));Wa=qb.pop();){var Ha=Wa.node;if(Ha.length){var Ia,Ya=Wa.x0,mb=Wa.y0,Ea=Wa.x1,Ga=Wa.y1,jb=(Ya+Ea)/2,Ca=(mb+Ga)/2;(Ia=Ha[0])&&qb.push(new ca(Ia,Ya,mb,jb,Ca));(Ia=Ha[1])&&qb.push(new ca(Ia,
jb,mb,Ea,Ca));(Ia=Ha[2])&&qb.push(new ca(Ia,Ya,Ca,jb,Ga));(Ia=Ha[3])&&qb.push(new ca(Ia,jb,Ca,Ea,Ga))}sb.push(Wa)}for(;Wa=sb.pop();)bb(Wa.node,Wa.x0,Wa.y0,Wa.x1,Wa.y1);return this};Bb.x=function(bb){return arguments.length?(this._x=bb,this):this._x};Bb.y=function(bb){return arguments.length?(this._y=bb,this):this._y};n.quadtree=fb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[46]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(){for(var ub=0,Qb=arguments.length,Bb={},bb;ub<Qb;++ub){if(!(bb=arguments[ub]+"")||bb in Bb||/[\s.]/.test(bb))throw Error("illegal type: "+bb);Bb[bb]=[]}return new ca(Bb)}function ca(ub){this._=ub}function Sa(ub,Qb){return ub.trim().split(/^|\s+/).map(function(Bb){var bb="",
qb=Bb.indexOf(".");0<=qb&&(bb=Bb.slice(qb+1),Bb=Bb.slice(0,qb));if(Bb&&!Qb.hasOwnProperty(Bb))throw Error("unknown type: "+Bb);return{type:Bb,name:bb}})}function Wb(ub,Qb,Bb){for(var bb=0,qb=ub.length;bb<qb;++bb)if(ub[bb].name===Qb){ub[bb]=fb;ub=ub.slice(0,bb).concat(ub.slice(bb+1));break}null!=Bb&&ub.push({name:Qb,value:Bb});return ub}var fb={value:()=>{}};ca.prototype=x.prototype={constructor:ca,on:function(ub,Qb){var Bb=this._,bb=Sa(ub+"",Bb),qb,sb=-1,Wa=bb.length;if(2>arguments.length)for(;++sb<
Wa;){var Ha;if(Ha=qb=(ub=bb[sb]).type){a:{Ha=Bb[qb];for(var Ia=0,Ya=Ha.length;Ia<Ya;++Ia)if((qb=Ha[Ia]).name===ub.name){qb=qb.value;break a}qb=void 0}Ha=qb}if(Ha)return qb}else{if(null!=Qb&&"function"!==typeof Qb)throw Error("invalid callback: "+Qb);for(;++sb<Wa;)if(qb=(ub=bb[sb]).type)Bb[qb]=Wb(Bb[qb],ub.name,Qb);else if(null==Qb)for(qb in Bb)Bb[qb]=Wb(Bb[qb],ub.name,null);return this}},copy:function(){var ub={},Qb=this._,Bb;for(Bb in Qb)ub[Bb]=Qb[Bb].slice();return new ca(ub)},call:function(ub,
Qb){if(0<(qb=arguments.length-2))for(var Bb=Array(qb),bb=0,qb,sb;bb<qb;++bb)Bb[bb]=arguments[bb+2];if(!this._.hasOwnProperty(ub))throw Error("unknown type: "+ub);sb=this._[ub];bb=0;for(qb=sb.length;bb<qb;++bb)sb[bb].value.apply(Qb,Bb)},apply:function(ub,Qb,Bb){if(!this._.hasOwnProperty(ub))throw Error("unknown type: "+ub);ub=this._[ub];for(var bb=0,qb=ub.length;bb<qb;++bb)ub[bb].value.apply(Qb,Bb)}};n.dispatch=x;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[47]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(){return Ya||(Ga(ca),Ya=Ea.now()+mb)}function ca(){Ya=0}function Sa(){this._call=this._time=this._next=null}function Wb(jb,Ca,ab){var Ma=new Sa;Ma.restart(jb,Ca,ab);return Ma}function fb(){x();++bb;for(var jb=Wa,Ca;jb;)0<=(Ca=Ya-jb._time)&&jb._call.call(null,Ca),jb=jb._next;
--bb}function ub(){Ya=(Ia=Ea.now())+mb;bb=qb=0;try{fb()}finally{bb=0;for(var jb,Ca=Wa,ab,Ma=Infinity;Ca;)Ca._call?(Ma>Ca._time&&(Ma=Ca._time),jb=Ca,Ca=Ca._next):(ab=Ca._next,Ca._next=null,Ca=jb?jb._next=ab:Wa=ab);Ha=jb;Bb(Ma);Ya=0}}function Qb(){var jb=Ea.now(),Ca=jb-Ia;1E3<Ca&&(mb-=Ca,Ia=jb)}function Bb(jb){bb||(qb&&(qb=clearTimeout(qb)),24<jb-Ya?(Infinity>jb&&(qb=setTimeout(ub,jb-Ea.now()-mb)),sb&&(sb=clearInterval(sb))):(sb||(Ia=Ea.now(),sb=setInterval(Qb,1E3)),bb=1,Ga(ub)))}var bb=0,qb=0,sb=0,
Wa,Ha,Ia=0,Ya=0,mb=0,Ea="object"===typeof performance&&performance.now?performance:Date,Ga="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(jb){setTimeout(jb,17)};Sa.prototype=Wb.prototype={constructor:Sa,restart:function(jb,Ca,ab){if("function"!==typeof jb)throw new TypeError("callback is not a function");ab=(null==ab?x():+ab)+(null==Ca?0:+Ca);this._next||Ha===this||(Ha?Ha._next=this:Wa=this,Ha=this);this._call=jb;this._time=ab;Bb()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,Bb())}};n.interval=function(jb,Ca,ab){var Ma=new Sa,ja=Ca;if(null==Ca)return Ma.restart(jb,Ca,ab),Ma;Ma._restart=Ma.restart;Ma.restart=function(Aa,Qa,Xa){Qa=+Qa;Xa=null==Xa?x():+Xa;Ma._restart(function ob(cb){cb+=ja;Ma._restart(ob,ja+=Qa,Xa);Aa(cb)},Qa,Xa)};Ma.restart(jb,Ca,ab);return Ma};n.now=x;n.timeout=function(jb,Ca,ab){var Ma=new Sa;Ca=null==Ca?0:+Ca;Ma.restart(ja=>{Ma.stop();jb(ja+Ca)},Ca,ab);return Ma};n.timer=Wb;n.timerFlush=fb;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[48]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(45),Rb(46),Rb(47)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],x):(n=n||self,x(n.d3=n.d3||{},n.d3,n.d3,n.d3))})(this,function(n,x,ca,Sa){function Wb(Ha){return function(){return Ha}}function fb(Ha){return Ha.x+Ha.vx}function ub(Ha){return Ha.y+Ha.vy}function Qb(Ha){return Ha.index}function Bb(Ha,Ia){Ha=Ha.get(Ia);if(!Ha)throw Error("node not found: "+
Ia);return Ha}function bb(){let Ha=1;return()=>(Ha=(1664525*Ha+1013904223)%4294967296)/4294967296}function qb(Ha){return Ha.x}function sb(Ha){return Ha.y}var Wa=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(Ha,Ia){function Ya(){var Ga,jb=mb.length,Ca=0,ab=0;for(Ga=0;Ga<jb;++Ga){var Ma=mb[Ga];Ca+=Ma.x;ab+=Ma.y}Ca=(Ca/jb-Ha)*Ea;ab=(ab/jb-Ia)*Ea;for(Ga=0;Ga<jb;++Ga)Ma=mb[Ga],Ma.x-=Ca,Ma.y-=ab}var mb,Ea=1;null==Ha&&(Ha=0);null==Ia&&(Ia=0);Ya.initialize=function(Ga){mb=Ga};Ya.x=function(Ga){return arguments.length?
(Ha=+Ga,Ya):Ha};Ya.y=function(Ga){return arguments.length?(Ia=+Ga,Ya):Ia};Ya.strength=function(Ga){return arguments.length?(Ea=+Ga,Ya):Ea};return Ya};n.forceCollide=function(Ha){function Ia(){function Ma(H,T,na,O,W){var ea=H.data;H=H.r;var pa=ob+H;if(ea)ea.index>Xa.index&&(T=hb-ea.x-ea.vx,na=cb-ea.y-ea.vy,O=T*T+na*na,O<pa*pa&&(0===T&&(T=1E-6*(jb()-.5),O+=T*T),0===na&&(na=1E-6*(jb()-.5),O+=na*na),O=(pa-(O=Math.sqrt(O)))/O*Ca,Xa.vx+=(T*=O)*(pa=(H*=H)/($a+H)),Xa.vy+=(na*=O)*pa,ea.vx-=T*(pa=1-pa),ea.vy-=
na*pa));else return T>hb+pa||O<hb-pa||na>cb+pa||W<cb-pa}for(var ja,Aa=Ea.length,Qa,Xa,hb,cb,ob,$a,Q=0;Q<ab;++Q)for(Qa=x.quadtree(Ea,fb,ub).visitAfter(Ya),ja=0;ja<Aa;++ja)Xa=Ea[ja],ob=Ga[Xa.index],$a=ob*ob,hb=Xa.x+Xa.vx,cb=Xa.y+Xa.vy,Qa.visit(Ma)}function Ya(Ma){if(Ma.data)return Ma.r=Ga[Ma.data.index];for(var ja=Ma.r=0;4>ja;++ja)Ma[ja]&&Ma[ja].r>Ma.r&&(Ma.r=Ma[ja].r)}function mb(){if(Ea){var Ma,ja=Ea.length;Ga=Array(ja);for(Ma=0;Ma<ja;++Ma){var Aa=Ea[Ma];Ga[Aa.index]=+Ha(Aa,Ma,Ea)}}}var Ea,Ga,jb,
Ca=1,ab=1;"function"!==typeof Ha&&(Ha=Wb(null==Ha?1:+Ha));Ia.initialize=function(Ma,ja){Ea=Ma;jb=ja;mb()};Ia.iterations=function(Ma){return arguments.length?(ab=+Ma,Ia):ab};Ia.strength=function(Ma){return arguments.length?(Ca=+Ma,Ia):Ca};Ia.radius=function(Ma){return arguments.length?(Ha="function"===typeof Ma?Ma:Wb(+Ma),mb(),Ia):Ha};return Ia};n.forceLink=function(Ha){function Ia(cb){for(var ob=0,$a=Ha.length;ob<hb;++ob)for(var Q=0,H,T,na,O,W;Q<$a;++Q)H=Ha[Q],T=H.source,H=H.target,na=H.x+H.vx-T.x-
T.vx||1E-6*(Xa()-.5),O=H.y+H.vy-T.y-T.vy||1E-6*(Xa()-.5),W=Math.sqrt(na*na+O*O),W=(W-Ma[Q])/W*cb*Ca[Q],na*=W,O*=W,H.vx-=na*(W=Qa[Q]),H.vy-=O*W,T.vx+=na*(W=1-W),T.vy+=O*W}function Ya(){if(ja){var cb=ja.length,ob=Ha.length,$a=new Map(ja.map((H,T)=>[Ga(H,T,ja),H]));var Q=0;for(Aa=Array(cb);Q<ob;++Q)cb=Ha[Q],cb.index=Q,"object"!==typeof cb.source&&(cb.source=Bb($a,cb.source)),"object"!==typeof cb.target&&(cb.target=Bb($a,cb.target)),Aa[cb.source.index]=(Aa[cb.source.index]||0)+1,Aa[cb.target.index]=(Aa[cb.target.index]||
0)+1;Q=0;for(Qa=Array(ob);Q<ob;++Q)cb=Ha[Q],Qa[Q]=Aa[cb.source.index]/(Aa[cb.source.index]+Aa[cb.target.index]);Ca=Array(ob);mb();Ma=Array(ob);Ea()}}function mb(){if(ja)for(var cb=0,ob=Ha.length;cb<ob;++cb)Ca[cb]=+jb(Ha[cb],cb,Ha)}function Ea(){if(ja)for(var cb=0,ob=Ha.length;cb<ob;++cb)Ma[cb]=+ab(Ha[cb],cb,Ha)}var Ga=Qb,jb=function(cb){return 1/Math.min(Aa[cb.source.index],Aa[cb.target.index])},Ca,ab=Wb(30),Ma,ja,Aa,Qa,Xa,hb=1;null==Ha&&(Ha=[]);Ia.initialize=function(cb,ob){ja=cb;Xa=ob;Ya()};Ia.links=
function(cb){return arguments.length?(Ha=cb,Ya(),Ia):Ha};Ia.id=function(cb){return arguments.length?(Ga=cb,Ia):Ga};Ia.iterations=function(cb){return arguments.length?(hb=+cb,Ia):hb};Ia.strength=function(cb){return arguments.length?(jb="function"===typeof cb?cb:Wb(+cb),mb(),Ia):jb};Ia.distance=function(cb){return arguments.length?(ab="function"===typeof cb?cb:Wb(+cb),Ea(),Ia):ab};return Ia};n.forceManyBody=function(){function Ha(Xa){var hb=Ea.length,cb=x.quadtree(Ea,qb,sb).visitAfter(Ya);Ca=Xa;for(Xa=
0;Xa<hb;++Xa)Ga=Ea[Xa],cb.visit(mb)}function Ia(){if(Ea){var Xa,hb=Ea.length;Ma=Array(hb);for(Xa=0;Xa<hb;++Xa){var cb=Ea[Xa];Ma[cb.index]=+ab(cb,Xa,Ea)}}}function Ya(Xa){var hb=0,cb,ob,$a=0,Q,H,T;if(Xa.length){for(Q=H=T=0;4>T;++T)(cb=Xa[T])&&(ob=Math.abs(cb.value))&&(hb+=cb.value,$a+=ob,Q+=ob*cb.x,H+=ob*cb.y);Xa.x=Q/$a;Xa.y=H/$a}else{cb=Xa;cb.x=cb.data.x;cb.y=cb.data.y;do hb+=Ma[cb.data.index];while(cb=cb.next)}Xa.value=hb}function mb(Xa,hb,cb,ob){if(!Xa.value)return!0;cb=Xa.x-Ga.x;var $a=Xa.y-Ga.y;
hb=ob-hb;ob=cb*cb+$a*$a;if(hb*hb/Qa<ob)return ob<Aa&&(0===cb&&(cb=1E-6*(jb()-.5),ob+=cb*cb),0===$a&&($a=1E-6*(jb()-.5),ob+=$a*$a),ob<ja&&(ob=Math.sqrt(ja*ob)),Ga.vx+=cb*Xa.value*Ca/ob,Ga.vy+=$a*Xa.value*Ca/ob),!0;if(!(Xa.length||ob>=Aa)){if(Xa.data!==Ga||Xa.next)0===cb&&(cb=1E-6*(jb()-.5),ob+=cb*cb),0===$a&&($a=1E-6*(jb()-.5),ob+=$a*$a),ob<ja&&(ob=Math.sqrt(ja*ob));do Xa.data!==Ga&&(hb=Ma[Xa.data.index]*Ca/ob,Ga.vx+=cb*hb,Ga.vy+=$a*hb);while(Xa=Xa.next)}}var Ea,Ga,jb,Ca,ab=Wb(-30),Ma,ja=1,Aa=Infinity,
Qa=.81;Ha.initialize=function(Xa,hb){Ea=Xa;jb=hb;Ia()};Ha.strength=function(Xa){return arguments.length?(ab="function"===typeof Xa?Xa:Wb(+Xa),Ia(),Ha):ab};Ha.distanceMin=function(Xa){return arguments.length?(ja=Xa*Xa,Ha):Math.sqrt(ja)};Ha.distanceMax=function(Xa){return arguments.length?(Aa=Xa*Xa,Ha):Math.sqrt(Aa)};Ha.theta=function(Xa){return arguments.length?(Qa=Xa*Xa,Ha):Math.sqrt(Qa)};return Ha};n.forceRadial=function(Ha,Ia,Ya){function mb(Ma){for(var ja=0,Aa=Ga.length;ja<Aa;++ja){var Qa=Ga[ja],
Xa=Qa.x-Ia||1E-6,hb=Qa.y-Ya||1E-6,cb=Math.sqrt(Xa*Xa+hb*hb);cb=(ab[ja]-cb)*Ca[ja]*Ma/cb;Qa.vx+=Xa*cb;Qa.vy+=hb*cb}}function Ea(){if(Ga){var Ma,ja=Ga.length;Ca=Array(ja);ab=Array(ja);for(Ma=0;Ma<ja;++Ma)ab[Ma]=+Ha(Ga[Ma],Ma,Ga),Ca[Ma]=isNaN(ab[Ma])?0:+jb(Ga[Ma],Ma,Ga)}}var Ga,jb=Wb(.1),Ca,ab;"function"!==typeof Ha&&(Ha=Wb(+Ha));null==Ia&&(Ia=0);null==Ya&&(Ya=0);mb.initialize=function(Ma){Ga=Ma;Ea()};mb.strength=function(Ma){return arguments.length?(jb="function"===typeof Ma?Ma:Wb(+Ma),Ea(),mb):jb};
mb.radius=function(Ma){return arguments.length?(Ha="function"===typeof Ma?Ma:Wb(+Ma),Ea(),mb):Ha};mb.x=function(Ma){return arguments.length?(Ia=+Ma,mb):Ia};mb.y=function(Ma){return arguments.length?(Ya=+Ma,mb):Ya};return mb};n.forceSimulation=function(Ha){function Ia(){Ya();Xa.call("tick",Ga);jb<Ca&&(Qa.stop(),Xa.call("end",Ga))}function Ya(cb){var ob,$a=Ha.length;void 0===cb&&(cb=1);for(var Q=0;Q<cb;++Q)for(jb+=(Ma-jb)*ab,Aa.forEach(function(T){T(jb)}),ob=0;ob<$a;++ob){var H=Ha[ob];null==H.fx?H.x+=
H.vx*=ja:(H.x=H.fx,H.vx=0);null==H.fy?H.y+=H.vy*=ja:(H.y=H.fy,H.vy=0)}return Ga}function mb(){for(var cb=0,ob=Ha.length,$a;cb<ob;++cb){$a=Ha[cb];$a.index=cb;null!=$a.fx&&($a.x=$a.fx);null!=$a.fy&&($a.y=$a.fy);if(isNaN($a.x)||isNaN($a.y)){var Q=10*Math.sqrt(.5+cb),H=cb*Wa;$a.x=Q*Math.cos(H);$a.y=Q*Math.sin(H)}if(isNaN($a.vx)||isNaN($a.vy))$a.vx=$a.vy=0}}function Ea(cb){cb.initialize&&cb.initialize(Ha,hb);return cb}var Ga,jb=1,Ca=.001,ab=1-Math.pow(Ca,1/300),Ma=0,ja=.6,Aa=new Map,Qa=Sa.timer(Ia),Xa=
ca.dispatch("tick","end"),hb=bb();null==Ha&&(Ha=[]);mb();return Ga={tick:Ya,restart:function(){return Qa.restart(Ia),Ga},stop:function(){return Qa.stop(),Ga},nodes:function(cb){return arguments.length?(Ha=cb,mb(),Aa.forEach(Ea),Ga):Ha},alpha:function(cb){return arguments.length?(jb=+cb,Ga):jb},alphaMin:function(cb){return arguments.length?(Ca=+cb,Ga):Ca},alphaDecay:function(cb){return arguments.length?(ab=+cb,Ga):+ab},alphaTarget:function(cb){return arguments.length?(Ma=+cb,Ga):Ma},velocityDecay:function(cb){return arguments.length?
(ja=1-cb,Ga):1-ja},randomSource:function(cb){return arguments.length?(hb=cb,Aa.forEach(Ea),Ga):hb},force:function(cb,ob){return 1<arguments.length?(null==ob?Aa.delete(cb):Aa.set(cb,Ea(ob)),Ga):Aa.get(cb)},find:function(cb,ob,$a){var Q,H=Ha.length;$a=null==$a?Infinity:$a*$a;for(Q=0;Q<H;++Q){var T=Ha[Q];var na=cb-T.x;var O=ob-T.y;na=na*na+O*O;if(na<$a){var W=T;$a=na}}return W},on:function(cb,ob){return 1<arguments.length?(Xa.on(cb,ob),Ga):Xa.on(cb)}}};n.forceX=function(Ha){function Ia(Ca){for(var ab=
0,Ma=Ea.length,ja;ab<Ma;++ab)ja=Ea[ab],ja.vx+=(jb[ab]-ja.x)*Ga[ab]*Ca}function Ya(){if(Ea){var Ca,ab=Ea.length;Ga=Array(ab);jb=Array(ab);for(Ca=0;Ca<ab;++Ca)Ga[Ca]=isNaN(jb[Ca]=+Ha(Ea[Ca],Ca,Ea))?0:+mb(Ea[Ca],Ca,Ea)}}var mb=Wb(.1),Ea,Ga,jb;"function"!==typeof Ha&&(Ha=Wb(null==Ha?0:+Ha));Ia.initialize=function(Ca){Ea=Ca;Ya()};Ia.strength=function(Ca){return arguments.length?(mb="function"===typeof Ca?Ca:Wb(+Ca),Ya(),Ia):mb};Ia.x=function(Ca){return arguments.length?(Ha="function"===typeof Ca?Ca:Wb(+Ca),
Ya(),Ia):Ha};return Ia};n.forceY=function(Ha){function Ia(Ca){for(var ab=0,Ma=Ea.length,ja;ab<Ma;++ab)ja=Ea[ab],ja.vy+=(jb[ab]-ja.y)*Ga[ab]*Ca}function Ya(){if(Ea){var Ca,ab=Ea.length;Ga=Array(ab);jb=Array(ab);for(Ca=0;Ca<ab;++Ca)Ga[Ca]=isNaN(jb[Ca]=+Ha(Ea[Ca],Ca,Ea))?0:+mb(Ea[Ca],Ca,Ea)}}var mb=Wb(.1),Ea,Ga,jb;"function"!==typeof Ha&&(Ha=Wb(null==Ha?0:+Ha));Ia.initialize=function(Ca){Ea=Ca;Ya()};Ia.strength=function(Ca){return arguments.length?(mb="function"===typeof Ca?Ca:Wb(+Ca),Ya(),Ia):mb};Ia.y=
function(Ca){return arguments.length?(Ha="function"===typeof Ca?Ca:Wb(+Ca),Ya(),Ia):Ha};return Ia};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[49]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(28),Rb(16),Rb(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,x,ca,Sa){function Wb(Ha){x.Transform.call(this,null,Ha)}function fb(Ha,Ia){return()=>Ha.touch(Ia).run()}function ub(Ha,Ia){Ha=Sa.forceSimulation(Ha);
const Ya=Ha.stop,mb=Ha.restart;let Ea=!1;Ha.stopped=()=>Ea;Ha.restart=()=>(Ea=!1,mb());Ha.stop=()=>(Ea=!0,Ya());return Qb(Ha,Ia,!0).on("end",()=>Ea=!0)}function Qb(Ha,Ia,Ya,mb){var Ea=ca.array(Ia.forces),Ga;var jb=0;for(Ga=qb.length;jb<Ga;++jb){var Ca=qb[jb];if("forces"!==Ca&&Ia.modified(Ca))Ha[Ca](Ia[Ca])}jb=0;for(Ga=Ea.length;jb<Ga;++jb){var ab="forces"+jb;if(Ya||Ia.modified("forces",jb)){Ca=void 0;var Ma=Ea[jb];ca.hasOwnProperty(bb,Ma.force)||ca.error("Unrecognized force: "+Ma.force);var ja=bb[Ma.force]();
for(Ca in Ma)ca.isFunction(ja[Ca])&&Bb(ja[Ca],Ma[Ca],Ma);Ca=ja}else{if(Ca=mb)a:{ja=Ca=void 0;Ma=Ea[jb];var Aa=mb;for(ja in Ma)if(ca.isFunction(Ca=Ma[ja])&&Aa.modified(ca.accessorFields(Ca))){Ca=1;break a}Ca=0}Ca=Ca?Ha.force(ab):null}Ca&&Ha.force(ab,Ca)}for(Ga=Ha.numForces||0;jb<Ga;++jb)Ha.force("forces"+jb,null);Ha.numForces=Ea.length;return Ha}function Bb(Ha,Ia,Ya){Ha(ca.isFunction(Ia)?mb=>Ia(mb,Ya):Ia)}const bb={center:Sa.forceCenter,collide:Sa.forceCollide,nbody:Sa.forceManyBody,link:Sa.forceLink,
x:Sa.forceX,y:Sa.forceY},qb=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],sb=["static","iterations"],Wa=["x","y","vx","vy"];Wb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number",
"default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Wa}]};ca.inherits(Wb,
x.Transform,{transform(Ha,Ia){var Ya=this.value,mb=Ia.changed(Ia.ADD_REM),Ea=Ha.modified(qb),Ga=Ha.iterations||300;Ya?(mb&&(Ia.modifies("index"),Ya.nodes(Ia.source)),(Ea||Ia.changed(Ia.MOD))&&Qb(Ya,Ha,0,Ia)):(this.value=Ya=ub(Ia.source,Ha),Ya.on("tick",fb(Ia.dataflow,this)),Ha.static||(mb=!0,Ya.tick()),Ia.modifies("index"));if(Ea||mb||Ha.modified(sb)||Ia.changed()&&Ha.restart)if(Ya.alpha(Math.max(Ya.alpha(),Ha.alpha||1)).alphaDecay(1-Math.pow(Ya.alphaMin(),1/Ga)),Ha.static)for(Ya.stop();0<=--Ga;)Ya.tick();
else if(Ya.stopped()&&Ya.restart(),!mb)return Ia.StopPropagation;return this.finish(Ha,Ia)},finish(Ha,Ia){const Ya=Ia.dataflow;for(let Ca=this._argops,ab=0,Ma=Ca.length,ja;ab<Ma;++ab)if(ja=Ca[ab],"forces"===ja.name&&"link"===ja.op._argval.force)for(var mb=ja.op._argops,Ea=0,Ga=mb.length,jb;Ea<Ga;++Ea)if("links"===mb[Ea].name&&(jb=mb[Ea].op.source)){Ya.pulse(jb,Ya.changeset().reflow());break}return Ia.reflow(Ha.modified()).modifies(Wa)}});n.force=Wb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[50]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(v,w){return v.parent===w.parent?1:2}function ca(v,w){return v+w.x}function Sa(v,w){return Math.max(v,w.y)}function Wb(v){for(var w;w=v.children;)v=w[0];return v}function fb(v){for(var w;w=v.children;)v=w[w.length-1];return v}function ub(v){var w=0,p=v.children,r=p&&p.length;
if(r)for(;0<=--r;)w+=p[r].value;else w=1;v.value=w}function Qb(v,w){v instanceof Map?(v=[void 0,v],void 0===w&&(w=bb)):void 0===w&&(w=Bb);v=new Wa(v);for(var p,r=[v],C,D,G,B;p=r.pop();)if((D=w(p.data))&&(B=(D=Array.from(D)).length))for(p.children=D,G=B-1;0<=G;--G)r.push(C=D[G]=new Wa(D[G])),C.parent=p,C.depth=p.depth+1;return v.eachBefore(sb)}function Bb(v){return v.children}function bb(v){return Array.isArray(v)?v[1]:null}function qb(v){void 0!==v.data.value&&(v.value=v.data.value);v.data=v.data.data}
function sb(v){var w=0;do v.height=w;while((v=v.parent)&&v.height<++w)}function Wa(v){this.data=v;this.depth=this.height=0;this.parent=null}function Ha(v){var w=0;v=Array.from(v);for(var p=v.length,r,C;p;)C=Math.random()*p--|0,r=v[p],v[p]=v[C],v[C]=r;p=v.length;r=[];for(var D;w<p;)if(C=v[w],D&&Ya(D,C))++w;else{a:if(w=r,mb(C,w))w=[C];else{for(r=0;r<w.length;++r)if(Ia(C,w[r])&&mb(Ea(w[r],C),w)){w=[w[r],C];break a}for(r=0;r<w.length-1;++r)for(D=r+1;D<w.length;++D)if(Ia(Ea(w[r],w[D]),C)&&Ia(Ea(w[r],C),
w[D])&&Ia(Ea(w[D],C),w[r])&&mb(Ga(w[r],w[D],C),w)){w=[w[r],w[D],C];break a}throw Error();}a:{w=r=w;switch(w.length){case 1:w=w[0];w={x:w.x,y:w.y,r:w.r};break a;case 2:w=Ea(w[0],w[1]);break a;case 3:w=Ga(w[0],w[1],w[2]);break a}w=void 0}D=w;w=0}return D}function Ia(v,w){var p=v.r-w.r,r=w.x-v.x;v=w.y-v.y;return 0>p||p*p<r*r+v*v}function Ya(v,w){var p=v.r-w.r+1E-9*Math.max(v.r,w.r,1),r=w.x-v.x;v=w.y-v.y;return 0<p&&p*p>r*r+v*v}function mb(v,w){for(var p=0;p<w.length;++p)if(!Ya(v,w[p]))return!1;return!0}
function Ea(v,w){var p=v.x,r=v.y;v=v.r;var C=w.x,D=w.y;w=w.r;var G=C-p,B=D-r,fa=w-v,wa=Math.sqrt(G*G+B*B);return{x:(p+C+G/wa*fa)/2,y:(r+D+B/wa*fa)/2,r:(wa+v+w)/2}}function Ga(v,w,p){var r=v.x,C=v.y;v=v.r;var D=w.x,G=w.y,B=w.r,fa=p.x,wa=p.y,la=p.r;p=r-D;w=r-fa;var Ta=C-G,Ja=C-wa,Z=B-v,sa=la-v,eb=r*r+C*C-v*v;G=eb-D*D-G*G+B*B;wa=eb-fa*fa-wa*wa+la*la;fa=w*Ta-p*Ja;D=(Ta*wa-Ja*G)/(2*fa)-r;Ta=(Ja*Z-Ta*sa)/fa;Ja=(w*G-p*wa)/(2*fa)-C;p=(p*sa-w*Z)/fa;w=Ta*Ta+p*p-1;Z=2*(v+D*Ta+Ja*p);v=D*D+Ja*Ja-v*v;v=-(w?(Z+
Math.sqrt(Z*Z-4*w*v))/(2*w):v/Z);return{x:r+D+Ta*v,y:C+Ja+p*v,r:v}}function jb(v,w,p){var r=v.x-w.x,C=v.y-w.y,D=r*r+C*C;if(D){var G=w.r+p.r;G*=G;var B=v.r+p.r;B*=B;if(G>B){var fa=(D+B-G)/(2*D);G=Math.sqrt(Math.max(0,B/D-fa*fa));p.x=v.x-fa*r-G*C;p.y=v.y-fa*C+G*r}else fa=(D+G-B)/(2*D),G=Math.sqrt(Math.max(0,G/D-fa*fa)),p.x=w.x+fa*r-G*C,p.y=w.y+fa*C+G*r}else p.x=w.x+p.r,p.y=w.y}function Ca(v,w){var p=v.r+w.r-1E-6,r=w.x-v.x;v=w.y-v.y;return 0<p&&p*p>r*r+v*v}function ab(v){var w=v._,p=v.next._,r=w.r+p.r;
v=(w.x*p.r+p.x*w.r)/r;w=(w.y*p.r+p.y*w.r)/r;return v*v+w*w}function Ma(v){this._=v;this.previous=this.next=null}function ja(v){if(!(p=(v="object"===typeof v&&"length"in v?v:Array.from(v)).length))return 0;var w,p;var r=v[0];r.x=0;r.y=0;if(!(1<p))return r.r;var C=v[1];r.x=-C.r;C.x=r.r;C.y=0;if(!(2<p))return r.r+C.r;jb(C,r,w=v[2]);r=new Ma(r);C=new Ma(C);w=new Ma(w);r.next=w.previous=C;C.next=r.previous=w;w.next=C.previous=r;var D=3;a:for(;D<p;++D){jb(r._,C._,w=v[D]);w=new Ma(w);var G=C.next;var B=
r.previous;var fa=C._.r;var wa=r._.r;do if(fa<=wa){if(Ca(G._,w._)){C=G;r.next=C;C.previous=r;--D;continue a}fa+=G._.r;G=G.next}else{if(Ca(B._,w._)){r=B;r.next=C;C.previous=r;--D;continue a}wa+=B._.r;B=B.previous}while(G!==B.next);w.previous=r;w.next=C;r.next=C.previous=C=w;for(G=ab(r);(w=w.next)!==C;)(B=ab(w))<G&&(r=w,G=B);C=r.next}r=[C._];for(w=C;(w=w.next)!==C;)r.push(w._);w=Ha(r);for(D=0;D<p;++D)r=v[D],r.x-=w.x,r.y-=w.y;return w.r}function Aa(v){if("function"!==typeof v)throw Error();return v}
function Qa(){return 0}function Xa(v){return function(){return v}}function hb(v){return Math.sqrt(v.value)}function cb(v){return function(w){w.children||(w.r=Math.max(0,+v(w)||0))}}function ob(v,w){return function(p){if(r=p.children){var r,C,D=r.length,G=v(p)*w||0;if(G)for(C=0;C<D;++C)r[C].r+=G;var B=ja(r);if(G)for(C=0;C<D;++C)r[C].r-=G;p.r=B+G}}}function $a(v){return function(w){var p=w.parent;w.r*=v;p&&(w.x=p.x+v*w.x,w.y=p.y+v*w.y)}}function Q(v){v.x0=Math.round(v.x0);v.y0=Math.round(v.y0);v.x1=
Math.round(v.x1);v.y1=Math.round(v.y1)}function H(v,w,p,r,C){var D=v.children,G=-1,B=D.length;for(r=v.value&&(r-w)/v.value;++G<B;)v=D[G],v.y0=p,v.y1=C,v.x0=w,v.x1=w+=v.value*r}function T(v){return v.id}function na(v){return v.parentId}function O(v,w){return v.parent===w.parent?1:2}function W(v){var w=v.children;return w?w[0]:v.t}function ea(v){var w=v.children;return w?w[w.length-1]:v.t}function pa(v,w){this._=v;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=
null;this.i=w}function Ua(v){v=new pa(v,0);for(var w,p=[v],r,C,D;w=p.pop();)if(C=w._.children)for(w.children=Array(r=C.length),D=r-1;0<=D;--D)p.push(r=w.children[D]=new pa(C[D],D)),r.parent=w;(v.parent=new pa(null,0)).children=[v];return v}function db(v,w,p,r,C){var D=v.children,G=-1,B=D.length;for(C=v.value&&(C-p)/v.value;++G<B;)v=D[G],v.x0=w,v.x1=r,v.y0=p,v.y1=p+=v.value*C}function U(v,w,p,r,C,D){for(var G=[],B=w.children,fa,wa,la=fa=0,Ta=B.length,Ja,Z=w.value,sa,eb,xb,Kb,ec,Ec;fa<Ta;){w=C-p;Ja=
D-r;do sa=B[la++].value;while(!sa&&la<Ta);eb=xb=sa;Ec=Math.max(Ja/w,w/Ja)/(Z*v);Kb=sa*sa*Ec;for(ec=Math.max(xb/Kb,Kb/eb);la<Ta;++la){sa+=wa=B[la].value;wa<eb&&(eb=wa);wa>xb&&(xb=wa);Kb=sa*sa*Ec;Kb=Math.max(xb/Kb,Kb/eb);if(Kb>ec){sa-=wa;break}ec=Kb}G.push(fa={value:sa,dice:w<Ja,children:B.slice(fa,la)});fa.dice?H(fa,p,r,C,Z?r+=Ja*sa/Z:D):db(fa,p,r,Z?p+=w*sa/Z:C,D);Z-=sa;fa=la}return G}Wa.prototype=Qb.prototype={constructor:Wa,count:function(){return this.eachAfter(ub)},each:function(v,w){let p=-1;
for(const r of this)v.call(w,r,++p,this);return this},eachAfter:function(v,w){for(var p,r=[this],C=[],D,G,B=-1;p=r.pop();)if(C.push(p),p=p.children)for(D=0,G=p.length;D<G;++D)r.push(p[D]);for(;p=C.pop();)v.call(w,p,++B,this);return this},eachBefore:function(v,w){for(var p,r=[this],C,D=-1;p=r.pop();)if(v.call(w,p,++D,this),p=p.children)for(C=p.length-1;0<=C;--C)r.push(p[C]);return this},find:function(v,w){let p=-1;for(const r of this)if(v.call(w,r,++p,this))return r},sum:function(v){return this.eachAfter(function(w){for(var p=
+v(w.data)||0,r=w.children,C=r&&r.length;0<=--C;)p+=r[C].value;w.value=p})},sort:function(v){return this.eachBefore(function(w){w.children&&w.children.sort(v)})},path:function(v){var w=this;var p=w;var r=v;if(p!==r){var C=p.ancestors(),D=r.ancestors(),G=null;p=C.pop();for(r=D.pop();p===r;)G=p,p=C.pop(),r=D.pop();p=G}for(r=[w];w!==p;)w=w.parent,r.push(w);for(w=r.length;v!==p;)r.splice(w,0,v),v=v.parent;return r},ancestors:function(){for(var v=this,w=[v];v=v.parent;)w.push(v);return w},descendants:function(){return Array.from(this)},
leaves:function(){var v=[];this.eachBefore(function(w){w.children||v.push(w)});return v},links:function(){var v=this,w=[];v.each(function(p){p!==v&&w.push({source:p.parent,target:p})});return w},copy:function(){return Qb(this).eachBefore(qb)},[Symbol.iterator]:function*(){var v,w=[this],p;do{var r=w.reverse();for(w=[];v=r.pop();)if(yield v,v=v.children){var C=0;for(p=v.length;C<p;++C)w.push(v[C])}}while(w.length)}};var va={depth:-1},xa={};pa.prototype=Object.create(Wa.prototype);var ma=(1+Math.sqrt(5))/
2,R=function p(w){function r(C,D,G,B,fa){U(w,C,D,G,B,fa)}r.ratio=function(C){return p(1<(C=+C)?C:1)};return r}(ma);ma=function r(p){function C(D,G,B,fa,wa){if((la=D._squarify)&&la.ratio===p)for(var la,Ta,Ja,Z=-1,sa,eb=la.length,xb=D.value;++Z<eb;){D=la[Z];Ta=D.children;Ja=D.value=0;for(sa=Ta.length;Ja<sa;++Ja)D.value+=Ta[Ja].value;D.dice?H(D,G,B,fa,xb?B+=(wa-B)*D.value/xb:wa):db(D,G,B,xb?G+=(fa-G)*D.value/xb:fa,wa);xb-=D.value}else D._squarify=la=U(p,D,G,B,fa,wa),la.ratio=p}C.ratio=function(D){return r(1<
(D=+D)?D:1)};return C}(ma);n.cluster=function(){function p(B){var fa,wa=0;B.eachAfter(function(sa){var eb=sa.children;if(eb){var xb=eb.reduce(ca,0)/eb.length;sa.x=xb;sa.y=1+eb.reduce(Sa,0)}else sa.x=fa?wa+=r(sa,fa):0,sa.y=0,fa=sa});var la=Wb(B),Ta=fb(B),Ja=la.x-r(la,Ta)/2,Z=Ta.x+r(Ta,la)/2;return B.eachAfter(G?function(sa){sa.x=(sa.x-B.x)*C;sa.y=(B.y-sa.y)*D}:function(sa){sa.x=(sa.x-Ja)/(Z-Ja)*C;sa.y=(1-(B.y?sa.y/B.y:1))*D})}var r=x,C=1,D=1,G=!1;p.separation=function(B){return arguments.length?(r=
B,p):r};p.size=function(B){return arguments.length?(G=!1,C=+B[0],D=+B[1],p):G?null:[C,D]};p.nodeSize=function(B){return arguments.length?(G=!0,C=+B[0],D=+B[1],p):G?[C,D]:null};return p};n.hierarchy=Qb;n.pack=function(){function p(B){B.x=C/2;B.y=D/2;r?B.eachBefore(cb(r)).eachAfter(ob(G,.5)).eachBefore($a(1)):B.eachBefore(cb(hb)).eachAfter(ob(Qa,1)).eachAfter(ob(G,B.r/Math.min(C,D))).eachBefore($a(Math.min(C,D)/(2*B.r)));return B}var r=null,C=1,D=1,G=Qa;p.radius=function(B){return arguments.length?
(r=null==B?null:Aa(B),p):r};p.size=function(B){return arguments.length?(C=+B[0],D=+B[1],p):[C,D]};p.padding=function(B){return arguments.length?(G="function"===typeof B?B:Xa(+B),p):G};return p};n.packEnclose=Ha;n.packSiblings=function(p){ja(p);return p};n.partition=function(){function p(fa){var wa=fa.height+1;fa.x0=fa.y0=G;fa.x1=C;fa.y1=D/wa;fa.eachBefore(r(D,wa));B&&fa.eachBefore(Q);return fa}function r(fa,wa){return function(la){la.children&&H(la,la.x0,fa*(la.depth+1)/wa,la.x1,fa*(la.depth+2)/wa);
var Ta=la.x0,Ja=la.y0,Z=la.x1-G,sa=la.y1-G;Z<Ta&&(Ta=Z=(Ta+Z)/2);sa<Ja&&(Ja=sa=(Ja+sa)/2);la.x0=Ta;la.y0=Ja;la.x1=Z;la.y1=sa}}var C=1,D=1,G=0,B=!1;p.round=function(fa){return arguments.length?(B=!!fa,p):B};p.size=function(fa){return arguments.length?(C=+fa[0],D=+fa[1],p):[C,D]};p.padding=function(fa){return arguments.length?(G=+fa,p):G};return p};n.stratify=function(){function p(D){var G=Array.from(D),B=G.length,fa,wa,la=new Map;for(fa=0;fa<B;++fa){var Ta=G[fa];var Ja=G[fa]=new Wa(Ta);if(null!=(wa=
r(Ta,fa,D))&&(wa+="")){var Z=Ja.id=wa;la.set(Z,la.has(Z)?xa:Ja)}null!=(wa=C(Ta,fa,D))&&(wa+="")&&(Ja.parent=wa)}for(fa=0;fa<B;++fa)if(Ja=G[fa],wa=Ja.parent){D=la.get(wa);if(!D)throw Error("missing: "+wa);if(D===xa)throw Error("ambiguous: "+wa);D.children?D.children.push(Ja):D.children=[Ja];Ja.parent=D}else{if(sa)throw Error("multiple roots");var sa=Ja}if(!sa)throw Error("no root");sa.parent=va;sa.eachBefore(function(eb){eb.depth=eb.parent.depth+1;--B}).eachBefore(sb);sa.parent=null;if(0<B)throw Error("cycle");
return sa}var r=T,C=na;p.id=function(D){return arguments.length?(r=Aa(D),p):r};p.parentId=function(D){return arguments.length?(C=Aa(D),p):C};return p};n.tree=function(){function p(la){var Ta=Ua(la);Ta.eachAfter(r);Ta.parent.m=-Ta.z;Ta.eachBefore(C);if(wa)la.eachBefore(D);else{var Ja=la,Z=la,sa=la;la.eachBefore(function(ec){ec.x<Ja.x&&(Ja=ec);ec.x>Z.x&&(Z=ec);ec.depth>sa.depth&&(sa=ec)});Ta=Ja===Z?1:G(Ja,Z)/2;var eb=Ta-Ja.x,xb=B/(Z.x+Ta+eb),Kb=fa/(sa.depth||1);la.eachBefore(function(ec){ec.x=(ec.x+
eb)*xb;ec.y=ec.depth*Kb})}return la}function r(la){var Ta=la.children,Ja=la.parent.children,Z=la.i?Ja[la.i-1]:null;if(Ta){for(var sa=0,eb=0,xb=la.children,Kb=xb.length,ec;0<=--Kb;)ec=xb[Kb],ec.z+=sa,ec.m+=sa,sa+=ec.s+(eb+=ec.c);Ta=(Ta[0].z+Ta[Ta.length-1].z)/2;Z?(la.z=Z.z+G(la._,Z._),la.m=la.z-Ta):la.z=Ta}else Z&&(la.z=Z.z+G(la._,Z._));Ta=la.parent;Ja=la.parent.A||Ja[0];if(Z){eb=sa=la;xb=sa.parent.children[0];Kb=sa.m;ec=eb.m;for(var Ec=Z.m,gd=xb.m,Dc;Z=ea(Z),sa=W(sa),Z&&sa;){xb=W(xb);eb=ea(eb);eb.a=
la;Dc=Z.z+Ec-sa.z-Kb+G(Z._,sa._);if(0<Dc){var Sc=Z.a.parent===la.parent?Z.a:Ja,Ra=la,nc=Dc,kc=nc/(Ra.i-Sc.i);Ra.c-=kc;Ra.s+=nc;Sc.c+=kc;Ra.z+=nc;Ra.m+=nc;Kb+=Dc;ec+=Dc}Ec+=Z.m;Kb+=sa.m;gd+=xb.m;ec+=eb.m}Z&&!ea(eb)&&(eb.t=Z,eb.m+=Ec-ec);sa&&!W(xb)&&(xb.t=sa,xb.m+=Kb-gd,Ja=la)}Ta.A=Ja}function C(la){la._.x=la.z+la.parent.m;la.m+=la.parent.m}function D(la){la.x*=B;la.y=la.depth*fa}var G=O,B=1,fa=1,wa=null;p.separation=function(la){return arguments.length?(G=la,p):G};p.size=function(la){return arguments.length?
(wa=!1,B=+la[0],fa=+la[1],p):wa?null:[B,fa]};p.nodeSize=function(la){return arguments.length?(wa=!0,B=+la[0],fa=+la[1],p):wa?[B,fa]:null};return p};n.treemap=function(){function p(sa){sa.x0=sa.y0=0;sa.x1=G;sa.y1=B;sa.eachBefore(r);fa=[0];D&&sa.eachBefore(Q);return sa}function r(sa){var eb=fa[sa.depth],xb=sa.x0+eb,Kb=sa.y0+eb,ec=sa.x1-eb,Ec=sa.y1-eb;ec<xb&&(xb=ec=(xb+ec)/2);Ec<Kb&&(Kb=Ec=(Kb+Ec)/2);sa.x0=xb;sa.y0=Kb;sa.x1=ec;sa.y1=Ec;sa.children&&(eb=fa[sa.depth+1]=wa(sa)/2,xb+=Z(sa)-eb,Kb+=la(sa)-
eb,ec-=Ta(sa)-eb,Ec-=Ja(sa)-eb,ec<xb&&(xb=ec=(xb+ec)/2),Ec<Kb&&(Kb=Ec=(Kb+Ec)/2),C(sa,xb,Kb,ec,Ec))}var C=R,D=!1,G=1,B=1,fa=[0],wa=Qa,la=Qa,Ta=Qa,Ja=Qa,Z=Qa;p.round=function(sa){return arguments.length?(D=!!sa,p):D};p.size=function(sa){return arguments.length?(G=+sa[0],B=+sa[1],p):[G,B]};p.tile=function(sa){return arguments.length?(C=Aa(sa),p):C};p.padding=function(sa){return arguments.length?p.paddingInner(sa).paddingOuter(sa):p.paddingInner()};p.paddingInner=function(sa){return arguments.length?
(wa="function"===typeof sa?sa:Xa(+sa),p):wa};p.paddingOuter=function(sa){return arguments.length?p.paddingTop(sa).paddingRight(sa).paddingBottom(sa).paddingLeft(sa):p.paddingTop()};p.paddingTop=function(sa){return arguments.length?(la="function"===typeof sa?sa:Xa(+sa),p):la};p.paddingRight=function(sa){return arguments.length?(Ta="function"===typeof sa?sa:Xa(+sa),p):Ta};p.paddingBottom=function(sa){return arguments.length?(Ja="function"===typeof sa?sa:Xa(+sa),p):Ja};p.paddingLeft=function(sa){return arguments.length?
(Z="function"===typeof sa?sa:Xa(+sa),p):Z};return p};n.treemapBinary=function(p,r,C,D,G){function B(Z,sa,eb,xb,Kb,ec,Ec){if(Z>=sa-1)Z=fa[Z],Z.x0=xb,Z.y0=Kb,Z.x1=ec,Z.y1=Ec;else{for(var gd=Ja[Z],Dc=eb/2+gd,Sc=Z+1,Ra=sa-1;Sc<Ra;){var nc=Sc+Ra>>>1;Ja[nc]<Dc?Sc=nc+1:Ra=nc}Dc-Ja[Sc-1]<Ja[Sc]-Dc&&Z+1<Sc&&--Sc;gd=Ja[Sc]-gd;Dc=eb-gd;ec-xb>Ec-Kb?(eb=eb?(xb*Dc+ec*gd)/eb:ec,B(Z,Sc,gd,xb,Kb,eb,Ec),B(Sc,sa,Dc,eb,Kb,ec,Ec)):(eb=eb?(Kb*Dc+Ec*gd)/eb:Ec,B(Z,Sc,gd,xb,Kb,ec,eb),B(Sc,sa,Dc,xb,eb,ec,Ec))}}var fa=p.children,
wa,la=fa.length,Ta,Ja=Array(la+1);for(Ja[0]=Ta=wa=0;wa<la;++wa)Ja[wa+1]=Ta+=fa[wa].value;B(0,la,p.value,r,C,D,G)};n.treemapDice=H;n.treemapResquarify=ma;n.treemapSlice=db;n.treemapSliceDice=function(p,r,C,D,G){(p.depth&1?db:H)(p,r,C,D,G)};n.treemapSquarify=R;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[51]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(28),Rb(16),Rb(50)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.d3))})(this,function(n,x,ca,Sa){function Wb(Ca,ab,Ma){const ja={};Ca.each(Aa=>{const Qa=Aa.data;Ma(Qa)&&(ja[ab(Qa)]=Aa)});Ca.lookup=ja;return Ca}function fb(Ca){x.Transform.call(this,null,
Ca)}function ub(){function Ca(Aa,Qa){if(Qa>=Ma.length)return Aa;const Xa=Aa.length,hb=Ma[Qa++],cb={},ob={};let $a=-1,Q,H,T;for(;++$a<Xa;)Q=hb(H=Aa[$a])+"",(T=cb[Q])?T.push(H):cb[Q]=[H];for(Q in cb)ob[Q]=Ca(cb[Q],Qa);return ob}function ab(Aa,Qa){if(++Qa>Ma.length)return Aa;const Xa=[];for(const hb in Aa)Xa.push({key:hb,values:ab(Aa[hb],Qa)});return Xa}const Ma=[],ja={entries:Aa=>ab(Ca(Aa,0),0),key:Aa=>(Ma.push(Aa),ja)};return ja}function Qb(Ca){x.Transform.call(this,null,Ca)}function Bb(Ca,ab,Ma){for(let ja,
Aa=0,Qa=ab.length;Aa<Qa;++Aa)if(ja=ab[Aa],ja in Ma)Ca[ja](Ma[ja])}function bb(Ca){Qb.call(this,Ca)}function qb(Ca){Qb.call(this,Ca)}function sb(Ca){x.Transform.call(this,null,Ca)}function Wa(Ca){Qb.call(this,Ca)}function Ha(Ca){x.Transform.call(this,[],Ca)}function Ia(Ca){Qb.call(this,Ca)}fb.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Ya=Ca=>Ca.values;ca.inherits(fb,x.Transform,{transform(Ca,ab){ab.source||
ca.error("Nest transform requires an upstream data source.");var Ma=Ca.generate,ja=Ca.modified(),Aa=ab.clone(),Qa=this.value;if(!Qa||ja||ab.changed())Qa&&Qa.each(Xa=>{Xa.children&&x.isTuple(Xa.data)&&Aa.rem.push(Xa.data)}),this.value=Qa=Sa.hierarchy({values:ca.array(Ca.keys).reduce((Xa,hb)=>{Xa.key(hb);return Xa},ub()).entries(Aa.source)},Ya),Ma&&Qa.each(Xa=>{Xa.children&&(Xa=x.ingest(Xa.data),Aa.add.push(Xa),Aa.source.push(Xa))}),Wb(Qa,x.tupleid,x.tupleid);Aa.source.root=Qa;return Aa}});const mb=
(Ca,ab)=>Ca.parent===ab.parent?1:2;ca.inherits(Qb,x.Transform,{transform(Ca,ab){ab.source&&ab.source.root||ca.error(this.constructor.name+" transform requires a backing tree data source.");const Ma=this.layout(Ca.method),ja=this.fields,Aa=ab.source.root,Qa=Ca.as||ja;Ca.field?Aa.sum(Ca.field):Aa.count();Ca.sort&&Aa.sort(x.stableCompare(Ca.sort,Xa=>Xa.data));Bb(Ma,this.params,Ca);Ma.separation&&Ma.separation(!1!==Ca.separation?mb:ca.one);try{this.value=Ma(Aa)}catch(Xa){ca.error(Xa)}Aa.each(Xa=>{{const hb=
Xa.data,cb=ja.length-1;for(let ob=0;ob<cb;++ob)hb[Qa[ob]]=Xa[ja[ob]];hb[Qa[cb]]=Xa.children?Xa.children.length:0}});return ab.reflow(Ca.modified()).modifies(Qa).modifies("leaf")}});var Ea=["x","y","r","depth","children"];bb.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",
array:!0,length:Ea.length,"default":Ea}]};ca.inherits(bb,Qb,{layout:Sa.pack,params:["radius","size","padding"],fields:Ea});Ea="x0 y0 x1 y1 depth children".split(" ");qb.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ea.length,"default":Ea}]};ca.inherits(qb,
Qb,{layout:Sa.partition,params:["size","round","padding"],fields:Ea});sb.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ca.inherits(sb,x.Transform,{transform(Ca,ab){ab.source||ca.error("Stratify transform requires an upstream data source.");let Ma=this.value;const ja=Ca.modified(),Aa=ab.fork(ab.ALL).materialize(ab.SOURCE);ab=!Ma||ja||ab.changed(ab.ADD_REM)||ab.modified(Ca.key.fields)||ab.modified(Ca.parentKey.fields);
Aa.source=Aa.source.slice();ab&&(Ma=Aa.source.length?Wb(Sa.stratify().id(Ca.key).parentId(Ca.parentKey)(Aa.source),Ca.key,ca.truthy):Wb(Sa.stratify()([{}]),Ca.key,Ca.key));Aa.source.root=this.value=Ma;return Aa}});const Ga={tidy:Sa.tree,cluster:Sa.cluster};Ea=["x","y","depth","children"];Wa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",
array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Ea.length,"default":Ea}]};ca.inherits(Wa,Qb,{layout(Ca){Ca=Ca||"tidy";if(ca.hasOwnProperty(Ga,Ca))return Ga[Ca]();ca.error("Unrecognized Tree layout method: "+Ca)},params:["size","nodeSize"],fields:Ea});Ha.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ca.inherits(Ha,x.Transform,{transform(Ca,ab){Ca=this.value;
const Ma=ab.source&&ab.source.root,ja=ab.fork(ab.NO_SOURCE),Aa={};Ma||ca.error("TreeLinks transform requires a tree data source.");ab.changed(ab.ADD_REM)?(ja.rem=Ca,ab.visit(ab.SOURCE,Qa=>Aa[x.tupleid(Qa)]=1),Ma.each(Qa=>{const Xa=Qa.data;(Qa=Qa.parent&&Qa.parent.data)&&Aa[x.tupleid(Xa)]&&Aa[x.tupleid(Qa)]&&ja.add.push(x.ingest({source:Qa,target:Xa}))}),this.value=ja.add):ab.changed(ab.MOD)&&(ab.visit(ab.MOD,Qa=>Aa[x.tupleid(Qa)]=1),Ca.forEach(Qa=>{(Aa[x.tupleid(Qa.source)]||Aa[x.tupleid(Qa.target)])&&
ja.mod.push(Qa)}));return ja}});const jb={binary:Sa.treemapBinary,dice:Sa.treemapDice,slice:Sa.treemapSlice,slicedice:Sa.treemapSliceDice,squarify:Sa.treemapSquarify,resquarify:Sa.treemapResquarify};Ea="x0 y0 x1 y1 depth children".split(" ");Ia.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",
type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ea.length,
"default":Ea}]};ca.inherits(Ia,Qb,{layout(){const Ca=Sa.treemap();Ca.ratio=ab=>{const Ma=Ca.tile();Ma.ratio&&Ca.tile(Ma.ratio(ab))};Ca.method=ab=>{ca.hasOwnProperty(jb,ab)?Ca.tile(jb[ab]):ca.error("Unrecognized Treemap layout method: "+ab)};return Ca},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:Ea});n.nest=fb;n.pack=bb;n.partition=qb;n.stratify=sb;n.tree=Wa;n.treelinks=Ha;n.treemap=Ia;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[52]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(33),Rb(28),Rb(38),Rb(16)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(this,function(n,x,ca,Sa,Wb){function fb($a,Q){const H=$a.bitmap();(Q||[]).forEach(T=>H.set($a(T.boundary[0]),$a(T.boundary[3])));
return[H,void 0]}function ub($a,Q,H,T){const na=$a.width,O=$a.height,W=H||T,ea=x.canvas(na,O).getContext("2d");Q.forEach(ma=>Qb(ea,ma,W));Q=new Uint32Array(ea.getImageData(0,0,na,O).data.buffer);H=$a.bitmap();const pa=W&&$a.bitmap();let Ua,db,U,va,xa;for(db=0;db<O;++db)for(Ua=0;Ua<na;++Ua)if(xa=Q[db*na+Ua]&4278190080)U=$a(Ua),va=$a(db),T||H.set(U,va),W&&xa^268435456&&pa.set(U,va);return[H,pa]}function Qb($a,Q,H){if(Q.length){var T=Q[0].mark.marktype;"group"===T?Q.forEach(na=>{na.items.forEach(O=>
Qb($a,O.items,H))}):Sa.Marks[T].draw($a,{items:H?Q.map(Bb):Q})}}function Bb($a){$a=ca.rederive($a,{});$a.stroke&&($a.strokeOpacity=1);$a.fill&&($a.fillOpacity=.0625,$a.stroke="#000",$a.strokeOpacity=1,$a.strokeWidth=2);return $a}function bb($a,Q){const H=new Uint32Array(~~(($a*Q+32)/32));return{array:H,get:(T,na)=>{T=na*$a+T;return H[T>>>5]&1<<(T&31)},set:(T,na)=>{T=na*$a+T;H[T>>>5]|=1<<(T&31)},clear:(T,na)=>{T=na*$a+T;H[T>>>5]&=~(1<<(T&31))},getRange:(T,na,O,W)=>{let ea,pa,Ua;for(;W>=na;--W){var db=
W*$a+T;ea=W*$a+O;pa=db>>>5;Ua=ea>>>5;if(pa===Ua){if(H[pa]&Ca[db&31]&ab[(ea&31)+1])return!0}else{if(H[pa]&Ca[db&31]||H[Ua]&ab[(ea&31)+1])return!0;for(db=pa+1;db<Ua;++db)if(H[db])return!0}}return!1},setRange:(T,na,O,W)=>{let ea,pa,Ua;for(;na<=W;++na){var db=na*$a+T;ea=na*$a+O;pa=db>>>5;Ua=ea>>>5;if(pa===Ua)H[pa]|=Ca[db&31]&ab[(ea&31)+1];else for(H[pa]|=Ca[db&31],H[Ua]|=ab[(ea&31)+1],db=pa+1;db<Ua;++db)H[db]|=4294967295}},clearRange:(T,na,O,W)=>{let ea,pa,Ua;for(;na<=W;++na){var db=na*$a+T;ea=na*$a+
O;pa=db>>>5;Ua=ea>>>5;if(pa===Ua)H[pa]&=ab[db&31]|Ca[(ea&31)+1];else for(H[pa]&=ab[db&31],H[Ua]&=Ca[(ea&31)+1],db=pa+1;db<Ua;++db)H[db]&=0}},outOfBounds:(T,na,O,W)=>0>T||0>na||W>=Q||O>=$a}}function qb($a,Q,H){const T=Math.max(1,Math.sqrt($a*Q/1E6)),na=~~(($a+2*H+T)/T),O=~~((Q+2*H+T)/T),W=ea=>~~((ea+H)/T);W.invert=ea=>ea*T-H;W.bitmap=()=>bb(na,O);W.ratio=T;W.padding=H;W.width=$a;W.height=Q;return W}function sb($a,Q,H,T,na,O){H/=2;return 0>$a-H||$a+H>na||0>Q-(H=T/2)||Q+H>O}function Wa($a,Q,H,T,na,O,
W,ea){na=na*O/(2*T);T=$a(Q-na);Q=$a(Q+na);na=$a(H-(O/=2));$a=$a(H+O);return W.outOfBounds(T,na,Q,$a)||W.getRange(T,na,Q,$a)||ea&&ea.getRange(T,na,Q,$a)}function Ha($a,Q,H,T){const na=$a.width,O=$a.height,W=Q[0],ea=Q[1],pa=T.length;return function(Ua){const db=Ua.boundary,U=Ua.datum.fontSize;if(0>db[2]||0>db[5]||db[0]>na||db[3]>O)return!1;let va=0,xa,ma;let R,v;let w;let p;let r,C;for(let Sc=0;Sc<pa;++Sc){xa=(H[Sc]&3)-1;ma=(H[Sc]>>>2&3)-1;var D=0===xa&&0===ma||0>T[Sc];var G=xa&&ma?Math.SQRT1_2:1;R=
0>T[Sc]?-1:1;v=db[1+xa]+T[Sc]*xa*G;p=db[4+ma]+R*U*ma/2+T[Sc]*ma*G;G=p-U/2;w=p+U/2;var B=$a(v);r=$a(G);C=$a(w);if(!va){var fa=B;var wa=r;var la=C;var Ta=W,Ja=ea,Z=v,sa=v,eb=G,xb=w,Kb=db,ec=D;if(!Ta.outOfBounds(fa,wa,B,la)&&(ec&&Ja?!Ja.getRange(fa,wa,B,la)&&Kb[0]<=Z&&sa<=Kb[2]&&Kb[3]<=eb&&xb<=Kb[5]:!Ta.getRange(fa,wa,B,la)))va=Sa.textMetrics.width(Ua.datum,Ua.datum.text);else continue}wa=v+R*va*xa/2;v=wa-va/2;fa=wa+va/2;B=$a(v);la=$a(fa);Ta=B;Ja=la;Z=r;sa=C;eb=W;xb=ea;Kb=v;ec=fa;var Ec=G,gd=w,Dc=db;
if(!eb.outOfBounds(Ta,Z,Ja,sa)&&(D&&xb?!xb.getRange(Ta,Z,Ja,sa)&&Dc[0]<=Kb&&ec<=Dc[2]&&Dc[3]<=Ec&&gd<=Dc[5]:!eb.getRange(Ta,Z,Ja,sa)))return Ua.x=xa?0>xa*R?fa:v:wa,Ua.y=ma?0>ma*R?w:G:p,Ua.align=Aa[xa*R+1],Ua.baseline=Qa[ma*R+1],W.setRange(B,r,la,C),!0}return!1}}function Ia($a,Q,H,T,na,O,W,ea,pa,Ua,db){if(!$a.length)return $a;var U=Math.max(T.length,na.length);T=Ya(T,U);na=mb(na,U);U=Ea($a[0].datum);const va="group"===U&&$a[0].datum.items[pa].marktype,xa="area"===va,ma=Ga(U,va,ea,pa);Q=qb(Q[0],Q[1],
Ua);Ua=xa&&"naive"===db;ea=$a.map(w=>({datum:w,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:ma(w)}));if(!Ua){H&&ea.sort((w,p)=>H(w.datum,p.datum));var R=!1;for(Ua=0;Ua<na.length&&!R;++Ua)R=5===na[Ua]||0>T[Ua];U&&(W||xa)&&(O=[$a.map(w=>w.datum)].concat(O));R=O.length?ub(Q,O,R,xa):fb(Q,W&&ea)}const v=xa?hb[db](Q,R,W,pa):Ha(Q,R,na,T);ea.forEach(w=>w.opacity=+v(w));return ea}function Ya($a,Q){const H=new Float64Array(Q),T=$a.length;for(let na=0;na<T;++na)H[na]=$a[na]||0;for($a=T;$a<
Q;++$a)H[$a]=H[T-1];return H}function mb($a,Q){const H=new Int8Array(Q),T=$a.length;for(let na=0;na<T;++na)H[na]|=Xa[$a[na]];for($a=T;$a<Q;++$a)H[$a]=H[T-1];return H}function Ea($a){return $a&&$a.mark&&$a.mark.marktype}function Ga($a,Q,H,T){const na=O=>[O.x,O.x,O.x,O.y,O.y,O.y];return $a?"line"===$a||"area"===$a?O=>na(O.datum):"line"===Q?O=>{O=O.datum.items[T].items;return na(O.length?O["start"===H?0:O.length-1]:{x:NaN,y:NaN})}:O=>{O=O.datum.bounds;return[O.x1,(O.x1+O.x2)/2,O.x2,O.y1,(O.y1+O.y2)/
2,O.y2]}:na}function jb($a){ca.Transform.call(this,null,$a)}const Ca=new Uint32Array(33),ab=new Uint32Array(33);ab[0]=0;Ca[0]=~ab[0];for(let $a=1;32>=$a;++$a)ab[$a]=ab[$a-1]<<1|1,Ca[$a]=~ab[$a];const Ma=[-1,-1,1,1],ja=[-1,1,-1,1],Aa=["right","center","left"],Qa=["bottom","middle","top"],Xa={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},hb={naive:function($a,Q,H,T){const na=$a.width,O=$a.height;return function(W){const ea=W.datum.datum.items[T].items,
pa=ea.length,Ua=W.datum.fontSize,db=Sa.textMetrics.width(W.datum,W.datum.text);let U=0;let va,xa,ma,R,v;for(let p=0;p<pa;++p){var w=ea[p].x;xa=ea[p].y;va=void 0===ea[p].x2?w:ea[p].x2;ma=void 0===ea[p].y2?xa:ea[p].y2;R=(w+va)/2;v=(xa+ma)/2;w=Math.abs(va-w+ma-xa);w>=U&&(U=w,W.x=R,W.y=v)}R=db/2;v=Ua/2;w=W.x-R;va=W.x+R;xa=W.y-v;ma=W.y+v;W.align="center";0>w&&va<=na?W.align="left":0<=w&&na<va&&(W.align="right");W.baseline="middle";0>xa&&ma<=O?W.baseline="top":0<=xa&&O<ma&&(W.baseline="bottom");return!0}},
"reduced-search":function($a,Q,H,T){function na(Ua,db,U,va,xa){Ua=$a.invert(Ua);db=$a.invert(db);let ma=U,R=W,v;if(!sb(Ua,db,va,xa,O,W)&&!Wa($a,Ua,db,xa,va,ma,ea,pa)&&!Wa($a,Ua,db,xa,va,xa,ea,null)){for(;1<=R-ma;)v=(ma+R)/2,Wa($a,Ua,db,xa,va,v,ea,pa)?R=v:ma=v;if(ma>U)return[Ua,db,ma,!0]}}const O=$a.width,W=$a.height,ea=Q[0],pa=Q[1];return function(Ua){const db=Ua.datum.datum.items[T].items,U=db.length,va=Ua.datum.fontSize,xa=Sa.textMetrics.width(Ua.datum,Ua.datum.text);let ma=H?va:0,R=!1,v=!1,w=0;
let p;let r;let C,D,G,B,fa,wa,la,Ta;for(let eb=0;eb<U;++eb){var Ja=db[eb].x;var Z=db[eb].y;p=void 0===db[eb].x2?Ja:db[eb].x2;r=void 0===db[eb].y2?Z:db[eb].y2;if(Ja>p){var sa=Ja;Ja=p;p=sa}Z>r&&(sa=Z,Z=r,r=sa);D=$a(Ja);B=$a(p);G=~~((D+B)/2);fa=$a(Z);la=$a(r);wa=~~((fa+la)/2);for(sa=G;sa>=D;--sa)for(C=wa;C>=fa;--C)(Ta=na(sa,C,ma,xa,va))&&([Ua.x,Ua.y,ma,R]=Ta);for(sa=G;sa<=B;++sa)for(C=wa;C<=la;++C)(Ta=na(sa,C,ma,xa,va))&&([Ua.x,Ua.y,ma,R]=Ta);R||H||(sa=Math.abs(p-Ja+r-Z),Ja=(Ja+p)/2,Z=(Z+r)/2,sa>=w&&
!sb(Ja,Z,xa,va,O,W)&&!Wa($a,Ja,Z,va,xa,va,ea,null)&&(w=sa,Ua.x=Ja,Ua.y=Z,v=!0))}return R||v?(Ja=xa/2,Z=va/2,ea.setRange($a(Ua.x-Ja),$a(Ua.y-Z),$a(Ua.x+Ja),$a(Ua.y+Z)),Ua.align="center",Ua.baseline="middle",!0):!1}},floodfill:function($a,Q,H,T){const na=$a.width,O=$a.height,W=Q[0],ea=Q[1],pa=$a.bitmap();return function(Ua){const db=Ua.datum.datum.items[T].items,U=db.length,va=Ua.datum.fontSize,xa=Sa.textMetrics.width(Ua.datum,Ua.datum.text),ma=[];let R=H?va:0,v=!1,w=!1,p=0,r,C,D,G,B,fa;var wa;for(let Ja=
0;Ja<U;++Ja){r=db[Ja].x;D=db[Ja].y;C=void 0===db[Ja].x2?r:db[Ja].x2;G=void 0===db[Ja].y2?D:db[Ja].y2;for(ma.push([$a((r+C)/2),$a((D+G)/2)]);ma.length;)if([la,Ta]=ma.pop(),!(W.get(la,Ta)||ea.get(la,Ta)||pa.get(la,Ta))){pa.set(la,Ta);for(wa=0;4>wa;++wa)B=la+Ma[wa],fa=Ta+ja[wa],pa.outOfBounds(B,fa,B,fa)||ma.push([B,fa]);B=$a.invert(la);fa=$a.invert(Ta);var la=R;var Ta=O;if(!sb(B,fa,xa,va,na,O)&&!Wa($a,B,fa,va,xa,la,W,ea)&&!Wa($a,B,fa,va,xa,va,W,null)){for(;1<=Ta-la;)wa=(la+Ta)/2,Wa($a,B,fa,va,xa,wa,
W,ea)?Ta=wa:la=wa;la>R&&(Ua.x=B,Ua.y=fa,R=la,v=!0)}}v||H||(la=Math.abs(C-r+G-D),B=(r+C)/2,fa=(D+G)/2,la>=p&&!sb(B,fa,xa,va,na,O)&&!Wa($a,B,fa,va,xa,va,W,null)&&(p=la,Ua.x=B,Ua.y=fa,w=!0))}return v||w?(B=xa/2,fa=va/2,W.setRange($a(Ua.x-B),$a(Ua.y-fa),$a(Ua.x+B),$a(Ua.y+fa)),Ua.align="center",Ua.baseline="middle",!0):!1}}},cb=["x","y","opacity","align","baseline"],ob="top-left left bottom-left top bottom top-right right bottom-right".split(" ");jb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ob},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:cb.length,
default:cb}]};Wb.inherits(jb,ca.Transform,{transform($a,Q){function H(O){O=$a[O];return Wb.isFunction(O)&&Q.modified(O.fields)}const T=$a.modified();if(T||Q.changed(Q.ADD_REM)||H("sort")){$a.size&&2===$a.size.length||Wb.error("Size parameter should be specified as a [width, height] array.");var na=$a.as||cb;Ia(Q.materialize(Q.SOURCE).source,$a.size,$a.sort,Wb.array($a.offset||1),Wb.array($a.anchor||ob),$a.avoidMarks||[],!1===$a.avoidBaseMark?!1:!0,$a.lineAnchor||"end",$a.markIndex||0,$a.padding||
0,$a.method||"naive").forEach(O=>{const W=O.datum;W[na[0]]=O.x;W[na[1]]=O.y;W[na[2]]=O.opacity;W[na[3]]=O.align;W[na[4]]=O.baseline});return Q.reflow(T).modifies(na)}}});n.label=jb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[53]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(29),Rb(28),Rb(16)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,x,ca,Sa){function Wb(Bb,bb){var qb=[],sb=function(Ga){return Ga(Ya)},Wa;if(null==bb)qb.push(Bb);else{var Ha={};var Ia=0;for(Wa=Bb.length;Ia<Wa;++Ia){var Ya=Bb[Ia];
var mb=bb.map(sb);var Ea=Ha[mb];Ea||(Ha[mb]=Ea=[],Ea.dims=mb,qb.push(Ea));Ea.push(Ya)}}return qb}function fb(Bb){ca.Transform.call(this,null,Bb)}function ub(Bb){ca.Transform.call(this,null,Bb)}fb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Sa.inherits(fb,ca.Transform,{transform(Bb,bb){const qb=
bb.fork(bb.NO_SOURCE|bb.NO_FIELDS);if(!this.value||bb.changed()||Bb.modified()){bb=bb.materialize(bb.SOURCE).source;bb=Wb(bb,Bb.groupby);const sb=(Bb.groupby||[]).map(Sa.accessorName),Wa=sb.length,Ha=Bb.as||[Sa.accessorName(Bb.x),Sa.accessorName(Bb.y)],Ia=[];bb.forEach(Ya=>{x.regressionLoess(Ya,Bb.x,Bb.y,Bb.bandwidth||.3).forEach(mb=>{const Ea={};for(let Ga=0;Ga<Wa;++Ga)Ea[sb[Ga]]=Ya.dims[Ga];Ea[Ha[0]]=mb[0];Ea[Ha[1]]=mb[1];Ia.push(ca.ingest(Ea))})});this.value&&(qb.rem=this.value);this.value=qb.add=
qb.source=Ia}return qb}});const Qb={linear:x.regressionLinear,log:x.regressionLog,exp:x.regressionExp,pow:x.regressionPow,quad:x.regressionQuad,poly:x.regressionPoly};ub.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Qb)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Sa.inherits(ub,ca.Transform,{transform(Bb,bb){const qb=bb.fork(bb.NO_SOURCE|bb.NO_FIELDS);if(!this.value||bb.changed()||Bb.modified()){var sb=bb.materialize(bb.SOURCE).source;sb=Wb(sb,Bb.groupby);const Wa=(Bb.groupby||[]).map(Sa.accessorName),Ha=Bb.method||"linear",Ia=Bb.order||3,Ya="poly"===Ha?Ia:"quad"===Ha?2:1,mb=Bb.as||[Sa.accessorName(Bb.x),Sa.accessorName(Bb.y)],Ea=Qb[Ha],Ga=[];let jb=Bb.extent;Sa.hasOwnProperty(Qb,
Ha)||Sa.error("Invalid regression method: "+Ha);null!=jb&&"log"===Ha&&0>=jb[0]&&(bb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),jb=null);sb.forEach(Ca=>{if(Ca.length<=Ya)bb.dataflow.warn("Skipping regression with more parameters than data points.");else{var ab=Ea(Ca,Bb.x,Bb.y,Ia);if(Bb.params)Ga.push(ca.ingest({keys:Ca.dims,coef:ab.coef,rSquared:ab.rSquared}));else{var Ma=jb||Sa.extent(Ca,Bb.x),ja=Aa=>{const Qa={};for(let Xa=0;Xa<Wa.length;++Xa)Qa[Wa[Xa]]=Ca.dims[Xa];
Qa[mb[0]]=Aa[0];Qa[mb[1]]=Aa[1];Ga.push(ca.ingest(Qa))};"linear"===Ha?Ma.forEach(Aa=>ja([Aa,ab.predict(Aa)])):x.sampleCurve(ab.predict,Ma,25,200).forEach(ja)}}});this.value&&(qb.rem=this.value);this.value=qb.add=qb.source=Ga}return qb}});n.loess=fb;n.regression=ub;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[54]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(ja,Aa){ja/=Math.abs(ja)+Math.abs(Aa);return(0<Aa?3-ja:1+ja)/4}function ca(ja,Aa,Qa,Xa){ja-=Qa;Aa-=Xa;return ja*ja+Aa*Aa}function Sa(ja,Aa,Qa,Xa,hb,cb){Xa=(Xa-Aa)*(hb-ja);ja=(Qa-ja)*(cb-Aa);return Math.abs(Xa-ja)>=3.3306690738754716E-16*Math.abs(Xa+ja)?Xa-ja:0}function Wb(ja,
Aa,Qa,Xa,hb,cb){return 0>(Sa(hb,cb,ja,Aa,Qa,Xa)||Sa(ja,Aa,Qa,Xa,hb,cb)||Sa(Qa,Xa,hb,cb,ja,Aa))}function fb(ja,Aa,Qa,Xa){if(20>=Xa-Qa)for(var hb=Qa+1;hb<=Xa;hb++){for(var cb=ja[hb],ob=Aa[cb],$a=hb-1;$a>=Qa&&Aa[ja[$a]]>ob;)ja[$a+1]=ja[$a--];ja[$a+1]=cb}else{hb=Qa+1;cb=Xa;ub(ja,Qa+Xa>>1,hb);Aa[ja[Qa]]>Aa[ja[Xa]]&&ub(ja,Qa,Xa);Aa[ja[hb]]>Aa[ja[Xa]]&&ub(ja,hb,Xa);Aa[ja[Qa]]>Aa[ja[hb]]&&ub(ja,Qa,hb);ob=ja[hb];for($a=Aa[ob];;){do hb++;while(Aa[ja[hb]]<$a);do cb--;while(Aa[ja[cb]]>$a);if(cb<hb)break;ub(ja,
hb,cb)}ja[Qa+1]=ja[cb];ja[cb]=ob;Xa-hb+1>=cb-Qa?(fb(ja,Aa,hb,Xa),fb(ja,Aa,Qa,cb-1)):(fb(ja,Aa,Qa,cb-1),fb(ja,Aa,hb,Xa))}}function ub(ja,Aa,Qa){const Xa=ja[Aa];ja[Aa]=ja[Qa];ja[Qa]=Xa}function Qb(ja){return ja[0]}function Bb(ja){return ja[1]}function bb(ja){return ja[0]}function qb(ja){return ja[1]}function sb(ja){const {triangles:Aa,coords:Qa}=ja;for(ja=0;ja<Aa.length;ja+=3){const Xa=2*Aa[ja],hb=2*Aa[ja+1],cb=2*Aa[ja+2];if(1E-10<(Qa[cb]-Qa[Xa])*(Qa[hb+1]-Qa[Xa+1])-(Qa[hb]-Qa[Xa])*(Qa[cb+1]-Qa[Xa+
1]))return!1}return!0}function Wa(ja,Aa,Qa){return[ja+Math.sin(ja+Aa)*Qa,Aa+Math.cos(ja-Aa)*Qa]}function*Ha(ja,Aa,Qa,Xa){let hb=0;for(const cb of ja)yield Aa.call(Xa,cb,hb,ja),yield Qa.call(Xa,cb,hb,ja),++hb}const Ia=Math.pow(2,-52),Ya=new Uint32Array(512);class mb{static from(ja,Aa=Qb,Qa=Bb){const Xa=ja.length,hb=new Float64Array(2*Xa);for(let cb=0;cb<Xa;cb++){const ob=ja[cb];hb[2*cb]=Aa(ob);hb[2*cb+1]=Qa(ob)}return new mb(hb)}constructor(ja){const Aa=ja.length>>1;if(0<Aa&&"number"!==typeof ja[0])throw Error("Expected coords to contain numbers.");
this.coords=ja;ja=Math.max(2*Aa-5,0);this._triangles=new Uint32Array(3*ja);this._halfedges=new Int32Array(3*ja);this._hashSize=Math.ceil(Math.sqrt(Aa));this._hullPrev=new Uint32Array(Aa);this._hullNext=new Uint32Array(Aa);this._hullTri=new Uint32Array(Aa);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Aa);this._dists=new Float64Array(Aa);this.update()}update(){const {coords:ja,_hullPrev:Aa,_hullNext:Qa,_hullTri:Xa,_hullHash:hb}=this;var cb=ja.length>>1,ob=Infinity,
$a=Infinity,Q=-Infinity,H=-Infinity;for(var T=0;T<cb;T++){var na=ja[2*T];var O=ja[2*T+1];na<ob&&(ob=na);O<$a&&($a=O);na>Q&&(Q=na);O>H&&(H=O);this._ids[T]=T}Q=(ob+Q)/2;$a=($a+H)/2;ob=Infinity;for(H=0;H<cb;H++)if(T=ca(Q,$a,ja[2*H],ja[2*H+1]),T<ob){var W=H;ob=T}$a=ja[2*W];H=ja[2*W+1];ob=Infinity;for(Q=0;Q<cb;Q++)if(Q!==W&&(T=ca($a,H,ja[2*Q],ja[2*Q+1]),T<ob&&0<T)){var ea=Q;ob=T}ob=ja[2*ea];Q=ja[2*ea+1];O=Infinity;for(T=0;T<cb;T++)if(T!==W&&T!==ea){na=ob-$a;var pa=Q-H;var Ua=ja[2*T]-$a;var db=ja[2*T+1]-
H,U=na*na+pa*pa,va=Ua*Ua+db*db,xa=.5/(na*db-pa*Ua);pa=(db*U-pa*va)*xa;na=(na*va-Ua*U)*xa;na=pa*pa+na*na;if(na<O){var ma=T;O=na}}T=ja[2*ma];na=ja[2*ma+1];if(Infinity===O){for(W=0;W<cb;W++)this._dists[W]=ja[2*W]-ja[0]||ja[2*W+1]-ja[1];fb(this._ids,this._dists,0,cb-1);W=new Uint32Array(cb);ea=0;for(let R=0,v=-Infinity;R<cb;R++)ma=this._ids[R],this._dists[ma]>v&&(W[ea++]=ma,v=this._dists[ma]);this.hull=W.subarray(0,ea);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Wb($a,H,ob,
Q,T,na)&&(O=ea,Ua=ob,U=Q,ea=ma,ob=T,Q=na,ma=O,T=Ua,na=U);Ua=ob-$a;O=Q-H;U=T-$a;db=na-H;va=Ua*Ua+O*O;xa=U*U+db*db;pa=.5/(Ua*db-O*U);O=$a+(db*va-O*xa)*pa;Ua=H+(Ua*xa-U*va)*pa;this._cx=O;this._cy=Ua;for(U=0;U<cb;U++)this._dists[U]=ca(ja[2*U],ja[2*U+1],O,Ua);fb(this._ids,this._dists,0,cb-1);this._hullStart=W;cb=3;Qa[W]=Aa[ma]=ea;Qa[ea]=Aa[W]=ma;Qa[ma]=Aa[ea]=W;Xa[W]=0;Xa[ea]=1;Xa[ma]=2;hb.fill(-1);hb[this._hashKey($a,H)]=W;hb[this._hashKey(ob,Q)]=ea;hb[this._hashKey(T,na)]=ma;this.trianglesLen=0;this._addTriangle(W,
ea,ma,-1,-1,-1);for(let R=0,v,w;R<this._ids.length;R++){$a=this._ids[R];H=ja[2*$a];ob=ja[2*$a+1];if(0<R&&Math.abs(H-v)<=Ia&&Math.abs(ob-w)<=Ia)continue;v=H;w=ob;if($a===W||$a===ea||$a===ma)continue;Q=0;for(let r=0,C=this._hashKey(H,ob);r<this._hashSize&&(Q=hb[(C+r)%this._hashSize],-1===Q||Q===Qa[Q]);r++);T=Q=Aa[Q];let p;for(;p=Qa[T],!Wb(H,ob,ja[2*T],ja[2*T+1],ja[2*p],ja[2*p+1]);)if(T=p,T===Q){T=-1;break}if(-1!==T){na=this._addTriangle(T,$a,Qa[T],-1,-1,Xa[T]);Xa[$a]=this._legalize(na+2);Xa[T]=na;cb++;
for(O=Qa[T];p=Qa[O],Wb(H,ob,ja[2*O],ja[2*O+1],ja[2*p],ja[2*p+1]);)na=this._addTriangle(O,$a,p,Xa[$a],-1,Xa[O]),Xa[$a]=this._legalize(na+2),Qa[O]=O,cb--,O=p;if(T===Q)for(;p=Aa[T],Wb(H,ob,ja[2*p],ja[2*p+1],ja[2*T],ja[2*T+1]);)na=this._addTriangle(p,$a,T,-1,Xa[T],Xa[p]),this._legalize(na+2),Xa[p]=na,Qa[T]=T,cb--,T=p;this._hullStart=Aa[$a]=T;Qa[T]=Aa[O]=$a;Qa[$a]=O;hb[this._hashKey(H,ob)]=$a;hb[this._hashKey(ja[2*T],ja[2*T+1])]=T}}this.hull=new Uint32Array(cb);for(let R=0,v=this._hullStart;R<cb;R++)this.hull[R]=
v,v=Qa[v];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(ja,Aa){return Math.floor(x(ja-this._cx,Aa-this._cy)*this._hashSize)%this._hashSize}_legalize(ja){const {_triangles:Aa,_halfedges:Qa,coords:Xa}=this;let hb=0;for(var cb;;){const W=Qa[ja];var ob=ja-ja%3;cb=ob+(ja+2)%3;if(-1===W){if(0===hb)break;ja=Ya[--hb];continue}const ea=W-W%3,pa=ea+(W+2)%3;var $a=Aa[cb],Q=Aa[ja],H=Aa[ob+(ja+1)%3];ob=Aa[pa];{var T=Xa[2*ob],
na=Xa[2*ob+1];var O=Xa[2*$a]-T;const Ua=Xa[2*$a+1]-na,db=Xa[2*Q]-T;Q=Xa[2*Q+1]-na;T=Xa[2*H]-T;na=Xa[2*H+1]-na;H=db*db+Q*Q;const U=T*T+na*na;O=0>O*(Q*U-H*na)-Ua*(db*U-H*T)+(O*O+Ua*Ua)*(db*na-Q*T)}if(O){Aa[ja]=ob;Aa[W]=$a;$a=Qa[pa];if(-1===$a){ob=this._hullStart;do{if(this._hullTri[ob]===pa){this._hullTri[ob]=ja;break}ob=this._hullPrev[ob]}while(ob!==this._hullStart)}this._link(ja,$a);this._link(W,Qa[cb]);this._link(cb,pa);cb=ea+(W+1)%3;hb<Ya.length&&(Ya[hb++]=cb)}else{if(0===hb)break;ja=Ya[--hb]}}return cb}_link(ja,
Aa){this._halfedges[ja]=Aa;-1!==Aa&&(this._halfedges[Aa]=ja)}_addTriangle(ja,Aa,Qa,Xa,hb,cb){const ob=this.trianglesLen;this._triangles[ob]=ja;this._triangles[ob+1]=Aa;this._triangles[ob+2]=Qa;this._link(ob,Xa);this._link(ob+1,hb);this._link(ob+2,cb);this.trianglesLen+=3;return ob}}class Ea{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(ja,Aa){this._+=`M${this._x0=this._x1=+ja},${this._y0=this._y1=+Aa}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=
"Z")}lineTo(ja,Aa){this._+=`L${this._x1=+ja},${this._y1=+Aa}`}arc(ja,Aa,Qa){ja=+ja;Aa=+Aa;Qa=+Qa;const Xa=ja+Qa,hb=Aa;if(0>Qa)throw Error("negative radius");if(null===this._x1)this._+=`M${Xa},${hb}`;else if(1E-6<Math.abs(this._x1-Xa)||1E-6<Math.abs(this._y1-hb))this._+="L"+Xa+","+hb;Qa&&(this._+=`A${Qa},${Qa},0,1,1,${ja-Qa},${Aa}A${Qa},${Qa},0,1,1,${this._x1=Xa},${this._y1=hb}`)}rect(ja,Aa,Qa,Xa){this._+=`M${this._x0=this._x1=+ja},${this._y0=this._y1=+Aa}h${+Qa}v${+Xa}h${-Qa}Z`}value(){return this._||
null}}class Ga{constructor(){this._=[]}moveTo(ja,Aa){this._.push([ja,Aa])}closePath(){this._.push(this._[0].slice())}lineTo(ja,Aa){this._.push([ja,Aa])}value(){return this._.length?this._:null}}class jb{constructor(ja,[Aa,Qa,Xa,hb]=[0,0,960,500]){if(!((Xa=+Xa)>=(Aa=+Aa)&&(hb=+hb)>=(Qa=+Qa)))throw Error("invalid bounds");this.delaunay=ja;this._circumcenters=new Float64Array(2*ja.points.length);this.vectors=new Float64Array(2*ja.points.length);this.xmax=Xa;this.xmin=Aa;this.ymax=hb;this.ymin=Qa;this._init()}update(){this.delaunay.update();
this._init();return this}_init(){const {delaunay:{points:ja,hull:Aa,triangles:Qa},vectors:Xa}=this;var hb=this.circumcenters=this._circumcenters.subarray(0,Qa.length/3*2);for(let O=0,W=0,ea=Qa.length,pa,Ua;O<ea;O+=3,W+=2){var cb=2*Qa[O],ob=2*Qa[O+1],$a=2*Qa[O+2],Q=ja[cb];cb=ja[cb+1];var H=ja[$a],T=ja[$a+1];$a=ja[ob]-Q;ob=ja[ob+1]-cb;var na=H-Q;const db=T-cb,U=$a*$a+ob*ob,va=na*na+db*db,xa=2*($a*db-ob*na);xa?1E-8>Math.abs(xa)?(pa=(Q+H)/2,Ua=(cb+T)/2):(H=1/xa,pa=Q+(db*U-ob*va)*H,Ua=cb+($a*va-na*U)*
H):(pa=(Q+H)/2-1E8*db,Ua=(cb+T)/2+1E8*na);hb[W]=pa;hb[W+1]=Ua}hb=Aa[Aa.length-1];cb=4*hb;$a=ja[2*hb];ob=ja[2*hb+1];Xa.fill(0);for(na=0;na<Aa.length;++na)hb=Aa[na],Q=cb,H=$a,T=ob,cb=4*hb,$a=ja[2*hb],ob=ja[2*hb+1],Xa[Q+2]=Xa[cb]=T-ob,Xa[Q+3]=Xa[cb+1]=$a-H}render(ja){const Aa=null==ja?ja=new Ea:void 0,{delaunay:{halfedges:Qa,inedges:Xa,hull:hb},circumcenters:cb,vectors:ob}=this;if(1>=hb.length)return null;for(let na=0,O=Qa.length;na<O;++na){var $a=Qa[na];if(!($a<na)){var Q=2*Math.floor(na/3);$a=2*Math.floor($a/
3);this._renderSegment(cb[Q],cb[Q+1],cb[$a],cb[$a+1],ja)}}Q=hb[hb.length-1];for($a=0;$a<hb.length;++$a){var H=Q;Q=hb[$a];var T=2*Math.floor(Xa[Q]/3);const na=cb[T];T=cb[T+1];H*=4;(H=this._project(na,T,ob[H+2],ob[H+3]))&&this._renderSegment(na,T,H[0],H[1],ja)}return Aa&&Aa.value()}renderBounds(ja){const Aa=null==ja?ja=new Ea:void 0;ja.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Aa&&Aa.value()}renderCell(ja,Aa){const Qa=null==Aa?Aa=new Ea:void 0;ja=this._clip(ja);if(null!==
ja&&ja.length){Aa.moveTo(ja[0],ja[1]);for(var Xa=ja.length;ja[0]===ja[Xa-2]&&ja[1]===ja[Xa-1]&&1<Xa;)Xa-=2;for(let hb=2;hb<Xa;hb+=2)ja[hb]===ja[hb-2]&&ja[hb+1]===ja[hb-1]||Aa.lineTo(ja[hb],ja[hb+1]);Aa.closePath();return Qa&&Qa.value()}}*cellPolygons(){var {delaunay:{points:ja}}=this;for(let Aa=0,Qa=ja.length/2;Aa<Qa;++Aa)if(ja=this.cellPolygon(Aa))ja.index=Aa,yield ja}cellPolygon(ja){const Aa=new Ga;this.renderCell(ja,Aa);return Aa.value()}_renderSegment(ja,Aa,Qa,Xa,hb){const cb=this._regioncode(ja,
Aa),ob=this._regioncode(Qa,Xa);if(0===cb&&0===ob)hb.moveTo(ja,Aa),hb.lineTo(Qa,Xa);else if(ja=this._clipSegment(ja,Aa,Qa,Xa,cb,ob))hb.moveTo(ja[0],ja[1]),hb.lineTo(ja[2],ja[3])}contains(ja,Aa,Qa){return(Aa=+Aa,Aa!==Aa)||(Qa=+Qa,Qa!==Qa)?!1:this.delaunay._step(ja,Aa,Qa)===ja}*neighbors(ja){const Aa=this._clip(ja);if(Aa)for(const Qa of this.delaunay.neighbors(ja))if(ja=this._clip(Qa))a:for(let Xa=0,hb=Aa.length;Xa<hb;Xa+=2)for(let cb=0,ob=ja.length;cb<ob;cb+=2)if(Aa[Xa]==ja[cb]&&Aa[Xa+1]==ja[cb+1]&&
Aa[(Xa+2)%hb]==ja[(cb+ob-2)%ob]&&Aa[(Xa+3)%hb]==ja[(cb+ob-1)%ob]){yield Qa;break a}}_cell(ja){const {circumcenters:Aa,delaunay:{inedges:Qa,halfedges:Xa,triangles:hb}}=this,cb=Qa[ja];if(-1===cb)return null;const ob=[];let $a=cb;do{const Q=Math.floor($a/3);ob.push(Aa[2*Q],Aa[2*Q+1]);$a=2===$a%3?$a-2:$a+1;if(hb[$a]!==ja)break;$a=Xa[$a]}while($a!==cb&&-1!==$a);return ob}_clip(ja){if(0===ja&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];
const Aa=this._cell(ja);if(null===Aa)return null;const {vectors:Qa}=this,Xa=4*ja;return Qa[Xa]||Qa[Xa+1]?this._clipInfinite(ja,Aa,Qa[Xa],Qa[Xa+1],Qa[Xa+2],Qa[Xa+3]):this._clipFinite(ja,Aa)}_clipFinite(ja,Aa){const Qa=Aa.length;let Xa=null;let hb=Aa[Qa-2],cb=Aa[Qa-1];let ob=this._regioncode(hb,cb),$a;for(let na=0;na<Qa;na+=2){var Q=hb;var H=cb;hb=Aa[na];cb=Aa[na+1];var T=ob;ob=this._regioncode(hb,cb);if(0===T&&0===ob)$a=0,Xa?Xa.push(hb,cb):Xa=[hb,cb];else{let O,W;if(0===T){if(null===(Q=this._clipSegment(Q,
H,hb,cb,T,ob)))continue;[H,T,O,W]=Q}else{if(null===(Q=this._clipSegment(hb,cb,Q,H,ob,T)))continue;[O,W,H,T]=Q;Q=$a;$a=this._edgecode(H,T);Q&&$a&&this._edge(ja,Q,$a,Xa,Xa.length);Xa?Xa.push(H,T):Xa=[H,T]}Q=$a;$a=this._edgecode(O,W);Q&&$a&&this._edge(ja,Q,$a,Xa,Xa.length);Xa?Xa.push(O,W):Xa=[O,W]}}if(Xa)Q=$a,$a=this._edgecode(Xa[0],Xa[1]),Q&&$a&&this._edge(ja,Q,$a,Xa,Xa.length);else if(this.contains(ja,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,
this.ymax,this.xmin,this.ymin];return Xa}_clipSegment(ja,Aa,Qa,Xa,hb,cb){for(;;){if(0===hb&&0===cb)return[ja,Aa,Qa,Xa];if(hb&cb)return null;var ob=void 0;let $a;ob=hb||cb;ob&8?(ob=ja+(Qa-ja)*(this.ymax-Aa)/(Xa-Aa),$a=this.ymax):ob&4?(ob=ja+(Qa-ja)*(this.ymin-Aa)/(Xa-Aa),$a=this.ymin):ob&2?($a=Aa+(Xa-Aa)*(this.xmax-ja)/(Qa-ja),ob=this.xmax):($a=Aa+(Xa-Aa)*(this.xmin-ja)/(Qa-ja),ob=this.xmin);hb?(ja=ob,Aa=$a,hb=this._regioncode(ja,Aa)):(Qa=ob,Xa=$a,cb=this._regioncode(Qa,Xa))}}_clipInfinite(ja,Aa,Qa,
Xa,hb,cb){Aa=Array.from(Aa);let ob;(ob=this._project(Aa[0],Aa[1],Qa,Xa))&&Aa.unshift(ob[0],ob[1]);(ob=this._project(Aa[Aa.length-2],Aa[Aa.length-1],hb,cb))&&Aa.push(ob[0],ob[1]);if(Aa=this._clipFinite(ja,Aa))for(let $a=0,Q=Aa.length,H,T=this._edgecode(Aa[Q-2],Aa[Q-1]);$a<Q;$a+=2)H=T,T=this._edgecode(Aa[$a],Aa[$a+1]),H&&T&&($a=this._edge(ja,H,T,Aa,$a),Q=Aa.length);else this.contains(ja,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Aa=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,
this.xmin,this.ymax]);return Aa}_edge(ja,Aa,Qa,Xa,hb){for(;Aa!==Qa;){let cb,ob;switch(Aa){case 5:Aa=4;continue;case 4:Aa=6;cb=this.xmax;ob=this.ymin;break;case 6:Aa=2;continue;case 2:Aa=10;cb=this.xmax;ob=this.ymax;break;case 10:Aa=8;continue;case 8:Aa=9;cb=this.xmin;ob=this.ymax;break;case 9:Aa=1;continue;case 1:Aa=5,cb=this.xmin,ob=this.ymin}Xa[hb]===cb&&Xa[hb+1]===ob||!this.contains(ja,cb,ob)||(Xa.splice(hb,0,cb,ob),hb+=2)}if(4<Xa.length)for(ja=0;ja<Xa.length;ja+=2)if(Aa=(ja+2)%Xa.length,Qa=(ja+
4)%Xa.length,Xa[ja]===Xa[Aa]&&Xa[Aa]===Xa[Qa]||Xa[ja+1]===Xa[Aa+1]&&Xa[Aa+1]===Xa[Qa+1])Xa.splice(Aa,2),ja-=2;return hb}_project(ja,Aa,Qa,Xa){let hb=Infinity,cb,ob,$a;if(0>Xa){if(Aa<=this.ymin)return null;(cb=(this.ymin-Aa)/Xa)<hb&&($a=this.ymin,ob=ja+(hb=cb)*Qa)}else if(0<Xa){if(Aa>=this.ymax)return null;(cb=(this.ymax-Aa)/Xa)<hb&&($a=this.ymax,ob=ja+(hb=cb)*Qa)}if(0<Qa){if(ja>=this.xmax)return null;(cb=(this.xmax-ja)/Qa)<hb&&(ob=this.xmax,$a=Aa+cb*Xa)}else if(0>Qa){if(ja<=this.xmin)return null;
(cb=(this.xmin-ja)/Qa)<hb&&(ob=this.xmin,$a=Aa+cb*Xa)}return[ob,$a]}_edgecode(ja,Aa){return(ja===this.xmin?1:ja===this.xmax?2:0)|(Aa===this.ymin?4:Aa===this.ymax?8:0)}_regioncode(ja,Aa){return(ja<this.xmin?1:ja>this.xmax?2:0)|(Aa<this.ymin?4:Aa>this.ymax?8:0)}}const Ca=2*Math.PI,ab=Math.pow;class Ma{static from(ja,Aa=bb,Qa=qb,Xa){if("length"in ja){{const hb=ja.length,cb=new Float64Array(2*hb);for(let ob=0;ob<hb;++ob){const $a=ja[ob];cb[2*ob]=Aa.call(Xa,$a,ob,ja);cb[2*ob+1]=Qa.call(Xa,$a,ob,ja)}ja=
cb}}else ja=Float64Array.from(Ha(ja,Aa,Qa,Xa));return new Ma(ja)}constructor(ja){this._delaunator=new mb(ja);this.inedges=new Int32Array(ja.length/2);this._hullIndex=new Int32Array(ja.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var ja=this._delaunator;const Aa=this.points;if(ja.hull&&2<ja.hull.length&&sb(ja)){this.collinear=Int32Array.from({length:Aa.length/2},(ob,$a)=>$a).sort((ob,$a)=>Aa[2*ob]-Aa[2*$a]||Aa[2*ob+1]-
Aa[2*$a+1]);ja=this.collinear[0];var Qa=this.collinear[this.collinear.length-1];ja=[Aa[2*ja],Aa[2*ja+1],Aa[2*Qa],Aa[2*Qa+1]];ja=1E-8*Math.hypot(ja[3]-ja[1],ja[2]-ja[0]);for(let ob=0,$a=Aa.length/2;ob<$a;++ob)Qa=Wa(Aa[2*ob],Aa[2*ob+1],ja),Aa[2*ob]=Qa[0],Aa[2*ob+1]=Qa[1];this._delaunator=new mb(Aa)}else delete this.collinear;ja=this.halfedges=this._delaunator.halfedges;Qa=this.hull=this._delaunator.hull;const Xa=this.triangles=this._delaunator.triangles,hb=this.inedges.fill(-1),cb=this._hullIndex.fill(-1);
for(let ob=0,$a=ja.length;ob<$a;++ob){const Q=Xa[2===ob%3?ob-2:ob+1];if(-1===ja[ob]||-1===hb[Q])hb[Q]=ob}for(let ob=0,$a=Qa.length;ob<$a;++ob)cb[Qa[ob]]=ob;2>=Qa.length&&0<Qa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Qa[0],this.triangles[1]=Qa[1],this.triangles[2]=Qa[1],hb[Qa[0]]=1,2===Qa.length&&(hb[Qa[1]]=0))}voronoi(ja){return new jb(this,ja)}*neighbors(ja){const {inedges:Aa,hull:Qa,_hullIndex:Xa,halfedges:hb,triangles:cb,
collinear:ob}=this;if(ob){var $a=ob.indexOf(ja);0<$a&&(yield ob[$a-1]);$a<ob.length-1&&(yield ob[$a+1])}else{var Q=Aa[ja];if(-1!==Q){var H=Q;do{yield($a=cb[H]);H=2===H%3?H-2:H+1;if(cb[H]!==ja)break;H=hb[H];if(-1===H){ja=Qa[(Xa[ja]+1)%Qa.length];ja!==$a&&(yield ja);break}}while(H!==Q)}}}find(ja,Aa,Qa=0){if((ja=+ja,ja!==ja)||(Aa=+Aa,Aa!==Aa))return-1;const Xa=Qa;let hb;for(;0<=(hb=this._step(Qa,ja,Aa))&&hb!==Qa&&hb!==Xa;)Qa=hb;return hb}_step(ja,Aa,Qa){const {inedges:Xa,hull:hb,_hullIndex:cb,halfedges:ob,
triangles:$a,points:Q}=this;if(-1===Xa[ja]||!Q.length)return(ja+1)%(Q.length>>1);let H=ja,T=ab(Aa-Q[2*ja],2)+ab(Qa-Q[2*ja+1],2);const na=Xa[ja];let O=na;do{let W=$a[O];const ea=ab(Aa-Q[2*W],2)+ab(Qa-Q[2*W+1],2);ea<T&&(T=ea,H=W);O=2===O%3?O-2:O+1;if($a[O]!==ja)break;O=ob[O];if(-1===O){O=hb[(cb[ja]+1)%hb.length];if(O!==W&&ab(Aa-Q[2*O],2)+ab(Qa-Q[2*O+1],2)<T)return O;break}}while(O!==na);return H}render(ja){const Aa=null==ja?ja=new Ea:void 0,{points:Qa,halfedges:Xa,triangles:hb}=this;for(let ob=0,$a=
Xa.length;ob<$a;++ob){var cb=Xa[ob];if(cb<ob)continue;const Q=2*hb[ob];cb=2*hb[cb];ja.moveTo(Qa[Q],Qa[Q+1]);ja.lineTo(Qa[cb],Qa[cb+1])}this.renderHull(ja);return Aa&&Aa.value()}renderPoints(ja,Aa=2){const Qa=null==ja?ja=new Ea:void 0,{points:Xa}=this;for(let hb=0,cb=Xa.length;hb<cb;hb+=2){const ob=Xa[hb],$a=Xa[hb+1];ja.moveTo(ob+Aa,$a);ja.arc(ob,$a,Aa,0,Ca)}return Qa&&Qa.value()}renderHull(ja){const Aa=null==ja?ja=new Ea:void 0,{hull:Qa,points:Xa}=this;var hb=2*Qa[0];const cb=Qa.length;ja.moveTo(Xa[hb],
Xa[hb+1]);for(hb=1;hb<cb;++hb){const ob=2*Qa[hb];ja.lineTo(Xa[ob],Xa[ob+1])}ja.closePath();return Aa&&Aa.value()}hullPolygon(){const ja=new Ga;this.renderHull(ja);return ja.value()}renderTriangle(ja,Aa){const Qa=null==Aa?Aa=new Ea:void 0,{points:Xa,triangles:hb}=this,cb=2*hb[ja*=3],ob=2*hb[ja+1];ja=2*hb[ja+2];Aa.moveTo(Xa[cb],Xa[cb+1]);Aa.lineTo(Xa[ob],Xa[ob+1]);Aa.lineTo(Xa[ja],Xa[ja+1]);Aa.closePath();return Qa&&Qa.value()}*trianglePolygons(){const {triangles:ja}=this;for(let Aa=0,Qa=ja.length/
3;Aa<Qa;++Aa)yield this.trianglePolygon(Aa)}trianglePolygon(ja){const Aa=new Ga;this.renderTriangle(ja,Aa);return Aa.value()}}n.Delaunay=Ma;n.Voronoi=jb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[55]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(28),Rb(16),Rb(54)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,x,ca,Sa){function Wb(ub){x.Transform.call(this,null,ub)}Wb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const fb=[-1E5,-1E5,1E5,1E5];ca.inherits(Wb,x.Transform,{transform(ub,Qb){const Bb=ub.as||"path",bb=Qb.source;if(!bb||!bb.length)return Qb;var qb=ub.size;qb=qb?[0,0,qb[0],qb[1]]:(qb=ub.extent)?[qb[0][0],qb[0][1],qb[1][0],qb[1][1]]:fb;qb=this.value=
Sa.Delaunay.from(bb,ub.x,ub.y).voronoi(qb);for(let Ha=0,Ia=bb.length;Ha<Ia;++Ha){var sb=qb.cellPolygon(Ha),Wa=bb[Ha];if(sb){{const Ya=sb[0][0],mb=sb[0][1];let Ea=sb.length-1;for(;sb[Ea][0]===Ya&&sb[Ea][1]===mb;--Ea);sb="M"+sb.slice(0,Ea+1).join("L")+"Z"}}else sb=null;Wa[Bb]=sb}return Qb.reflow(ub.modified()).modifies(Bb)}});n.voronoi=Wb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[56]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(33),Rb(28),Rb(16),Rb(37),Rb(29)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,x,ca,Sa,Wb,fb){function ub(){function Ea(Q){Q.width=Q.height=1;var H=Math.sqrt(Q.getContext("2d").getImageData(0,
0,1,1).data.length>>2);Q.width=2048/H;Q.height=2048/H;Q=Q.getContext("2d");Q.fillStyle=Q.strokeStyle="red";Q.textAlign="center";return{context:Q,ratio:H}}function Ga(Q,H,T){for(var na=H.x,O=H.y,W=Math.sqrt(jb[0]*jb[0]+jb[1]*jb[1]),ea=hb(jb),pa=.5>ob()?1:-1,Ua=-pa,db,U;db=ea(Ua+=pa);){U=~~db[0];db=~~db[1];if(Math.min(Math.abs(U),Math.abs(db))>=W)break;H.x=na+U;H.y=O+db;if(!(0>H.x+H.x0||0>H.y+H.y0||H.x+H.x1>jb[0]||H.y+H.y1>jb[1])){if(!(U=!T)){a:{U=jb[0];U>>=5;db=H.sprite;var va=H.width>>5;var xa=H.x-
(va<<4);for(var ma=xa&127,R=32-ma,v=H.y1-H.y0,w=(H.y+H.y0)*U+(xa>>5),p=0;p<v;p++){for(var r=xa=0;r<=va;r++)if((xa<<R|(r<va?(xa=db[p*va+r])>>>ma:0))&Q[w+r]){U=!0;break a}w+=U}U=!1}U=!U}if(U&&(!T||H.x+H.x1>T[0].x&&H.x+H.x0<T[1].x&&H.y+H.y1>T[0].y&&H.y+H.y0<T[1].y)){T=H.sprite;na=H.width>>5;O=jb[0]>>5;Ua=H.x-(na<<4);W=Ua&127;ea=32-W;pa=H.y1-H.y0;Ua=(H.y+H.y0)*O+(Ua>>5);for(db=0;db<pa;db++){for(va=U=0;va<=na;va++)Q[Ua+va]=Q[Ua+va]|U<<ea|(va<na?(U=T[db*na+va])>>>W:0);Ua+=O}H.sprite=null;return!0}}}return!1}
var jb=[256,256],Ca,ab,Ma,ja,Aa,Qa,Xa,hb=bb,cb=[],ob=Math.random,$a={layout:function(){for(var Q=Ea(x.canvas()),H=qb((jb[0]>>5)*jb[1]),T=null,na=cb.length,O=-1,W=[],ea=cb.map(Ua=>({text:Ca(Ua),font:ab(Ua),style:ja(Ua),weight:Aa(Ua),rotate:Qa(Ua),size:~~(Ma(Ua)+1E-14),padding:Xa(Ua),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Ua})).sort((Ua,db)=>db.size-Ua.size);++O<na;){var pa=ea[O];pa.x=jb[0]*(ob()+.5)>>1;pa.y=jb[1]*(ob()+.5)>>1;Qb(Q,pa,ea,O);pa.hasText&&Ga(H,pa,T)&&(W.push(pa),
T?Bb(T,pa):T=[{x:pa.x+pa.x0,y:pa.y+pa.y0},{x:pa.x+pa.x1,y:pa.y+pa.y1}],pa.x-=jb[0]>>1,pa.y-=jb[1]>>1)}return W},words:function(Q){return arguments.length?(cb=Q,$a):cb},size:function(Q){return arguments.length?(jb=[+Q[0],+Q[1]],$a):jb},font:function(Q){return arguments.length?(ab=sb(Q),$a):ab},fontStyle:function(Q){return arguments.length?(ja=sb(Q),$a):ja},fontWeight:function(Q){return arguments.length?(Aa=sb(Q),$a):Aa},rotate:function(Q){return arguments.length?(Qa=sb(Q),$a):Qa},text:function(Q){return arguments.length?
(Ca=sb(Q),$a):Ca},spiral:function(Q){return arguments.length?(hb=Ia[Q]||Q,$a):hb},fontSize:function(Q){return arguments.length?(Ma=sb(Q),$a):Ma},padding:function(Q){return arguments.length?(Xa=sb(Q),$a):Xa},random:function(Q){return arguments.length?(ob=Q,$a):ob}};return $a}function Qb(Ea,Ga,jb,Ca){if(!Ga.sprite){var ab=Ea.context,Ma=Ea.ratio;ab.clearRect(0,0,2048/Ma,2048/Ma);var ja=Ea=0,Aa=0,Qa=jb.length;for(--Ca;++Ca<Qa;){Ga=jb[Ca];ab.save();ab.font=Ga.style+" "+Ga.weight+" "+~~((Ga.size+1)/Ma)+
"px "+Ga.font;var Xa=ab.measureText(Ga.text+"m").width*Ma;var hb=Ga.size<<1;if(Ga.rotate){var cb=Math.sin(Ga.rotate*Ha),ob=Math.cos(Ga.rotate*Ha),$a=Xa*ob,Q=Xa*cb;ob*=hb;Xa=hb*cb;Xa=Math.max(Math.abs($a+Xa),Math.abs($a-Xa))+31>>5<<5;hb=~~Math.max(Math.abs(Q+ob),Math.abs(Q-ob))}else Xa=Xa+31>>5<<5;hb>Aa&&(Aa=hb);2048<=Ea+Xa&&(Ea=0,ja+=Aa,Aa=0);if(2048<=ja+hb)break;ab.translate((Ea+(Xa>>1))/Ma,(ja+(hb>>1))/Ma);Ga.rotate&&ab.rotate(Ga.rotate*Ha);ab.fillText(Ga.text,0,0);Ga.padding&&(ab.lineWidth=2*Ga.padding,
ab.strokeText(Ga.text,0,0));ab.restore();Ga.width=Xa;Ga.height=hb;Ga.xoff=Ea;Ga.yoff=ja;Ga.x1=Xa>>1;Ga.y1=hb>>1;Ga.x0=-Ga.x1;Ga.y0=-Ga.y1;Ga.hasText=!0;Ea+=Xa}Qa=ab.getImageData(0,0,2048/Ma,2048/Ma).data;for($a=[];0<=--Ca;)if(Ga=jb[Ca],Ga.hasText){Xa=Ga.width;ab=Xa>>5;hb=Ga.y1-Ga.y0;for(Ma=0;Ma<hb*ab;Ma++)$a[Ma]=0;Ea=Ga.xoff;if(null==Ea)break;ja=Ga.yoff;Q=0;cb=-1;for(Aa=0;Aa<hb;Aa++){for(Ma=0;Ma<Xa;Ma++)ob=Qa[2048*(ja+Aa)+(Ea+Ma)<<2]?1<<31-Ma%32:0,$a[ab*Aa+(Ma>>5)]|=ob,Q|=ob;Q?cb=Aa:(Ga.y0++,hb--,
Aa--,ja++)}Ga.y1=Ga.y0+cb;Ga.sprite=$a.slice(0,(Ga.y1-Ga.y0)*ab)}}}function Bb(Ea,Ga){var jb=Ea[0];Ea=Ea[1];Ga.x+Ga.x0<jb.x&&(jb.x=Ga.x+Ga.x0);Ga.y+Ga.y0<jb.y&&(jb.y=Ga.y+Ga.y0);Ga.x+Ga.x1>Ea.x&&(Ea.x=Ga.x+Ga.x1);Ga.y+Ga.y1>Ea.y&&(Ea.y=Ga.y+Ga.y1)}function bb(Ea){var Ga=Ea[0]/Ea[1];return function(jb){return[Ga*(jb*=.1)*Math.cos(jb),jb*Math.sin(jb)]}}function qb(Ea){for(var Ga=[],jb=-1;++jb<Ea;)Ga[jb]=0;return Ga}function sb(Ea){return"function"===typeof Ea?Ea:function(){return Ea}}function Wa(Ea){ca.Transform.call(this,
ub(),Ea)}var Ha=Math.PI/180,Ia={archimedean:bb,rectangular:function(Ea){var Ga=4*Ea[0]/Ea[1],jb=0,Ca=0;return function(ab){var Ma=0>ab?-1:1;switch(Math.sqrt(1+4*Ma*ab)-Ma&3){case 0:jb+=Ga;break;case 1:Ca+=4;break;case 2:jb-=Ga;break;default:Ca-=4}return[jb,Ca]}}};const Ya="x y font fontSize fontStyle fontWeight angle".split(" "),mb="text font rotate fontSize fontStyle fontWeight".split(" ");Wa.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":Ya}]};Sa.inherits(Wa,ca.Transform,{transform(Ea,Ga){function jb(Xa){Xa=Ea[Xa];return Sa.isFunction(Xa)&&Ga.modified(Xa.fields)}!Ea.size||Ea.size[0]&&Ea.size[1]||Sa.error("Wordcloud size dimensions must be non-zero.");const Ca=Ea.modified();if(Ca||Ga.changed(Ga.ADD_REM)||mb.some(jb)){var ab=Ga.materialize(Ga.SOURCE).source,Ma=this.value,ja=Ea.as||Ya,Aa=Ea.fontSize||14,Qa;Sa.isFunction(Aa)?Qa=Ea.fontSizeRange:Aa=Sa.constant(Aa);if(Qa){const Xa=Aa,hb=Wb.scale("sqrt")().domain(Sa.extent(ab,
Xa)).range(Qa);Aa=cb=>hb(Xa(cb))}ab.forEach(Xa=>{Xa[ja[0]]=NaN;Xa[ja[1]]=NaN;Xa[ja[3]]=0});ab=Ma.words(ab).text(Ea.text).size(Ea.size||[500,500]).padding(Ea.padding||1).spiral(Ea.spiral||"archimedean").rotate(Ea.rotate||0).font(Ea.font||"sans-serif").fontStyle(Ea.fontStyle||"normal").fontWeight(Ea.fontWeight||"normal").fontSize(Aa).random(fb.random).layout();Aa=Ma.size();Ma=Aa[0]>>1;Aa=Aa[1]>>1;Qa=ab.length;for(let Xa=0,hb,cb;Xa<Qa;++Xa)hb=ab[Xa],cb=hb.datum,cb[ja[0]]=hb.x+Ma,cb[ja[1]]=hb.y+Aa,cb[ja[2]]=
hb.font,cb[ja[3]]=hb.size,cb[ja[4]]=hb.style,cb[ja[5]]=hb.weight,cb[ja[6]]=hb.rotate;return Ga.reflow(Ca).modifies(ja)}}});n.wordcloud=Wa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[57]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(17),Rb(28),Rb(16)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.d3,n.vega,n.vega))})(this,function(n,x,ca,Sa){function Wb(){let Ia=8,Ya=[],mb=new Uint32Array(0),Ea=fb(0,Ia),Ga=fb(0,Ia);return{data:()=>Ya,seen:()=>{var jb=mb;var Ca=Ya.length;
jb.length>=Ca||(Ca=new jb.constructor(Ca),Ca.set(jb),jb=Ca);return mb=jb},add(jb){for(let Ca=0,ab=Ya.length,Ma=jb.length,ja;Ca<Ma;++Ca)ja=jb[Ca],ja._index=ab++,Ya.push(ja)},remove(jb,Ca){const ab=Ya.length;jb=Array(ab-jb);const Ma=Ya;let ja,Aa,Qa;for(Aa=0;!Ca[Aa]&&Aa<ab;++Aa)jb[Aa]=Ya[Aa],Ma[Aa]=Aa;for(Qa=Aa;Aa<ab;++Aa)ja=Ya[Aa],Ca[Aa]?Ma[Aa]=-1:(Ma[Aa]=Qa,Ea[Qa]=Ea[Aa],Ga[Qa]=Ga[Aa],jb[Qa]=ja,ja._index=Qa++),Ea[Aa]=0;Ya=jb;return Ma},size:()=>Ya.length,curr:()=>Ea,prev:()=>Ga,reset:jb=>Ga[jb]=Ea[jb],
all:()=>257>Ia?255:65537>Ia?65535:4294967295,set(jb,Ca){Ea[jb]|=Ca},clear(jb,Ca){Ea[jb]&=~Ca},resize(jb,Ca){if(jb>Ea.length||Ca>Ia)Ia=Math.max(Ca,Ia),Ea=fb(jb,Ia,Ea),Ga=fb(jb,Ia)}}}function fb(Ia,Ya,mb){Ia=(257>Ya?sb:65537>Ya?Wa:Ha)(Ia);mb&&Ia.set(mb);return Ia}function ub(Ia,Ya,mb){const Ea=1<<Ya;return{one:Ea,zero:~Ea,range:mb.slice(),bisect:Ia.bisect,index:Ia.index,size:Ia.size,onAdd(Ga,jb){var Ca=this.bisect(this.range,Ga.value);Ga=Ga.index;const ab=Ca[0];Ca=Ca[1];const Ma=Ga.length;let ja;for(ja=
0;ja<ab;++ja)jb[Ga[ja]]|=Ea;for(ja=Ca;ja<Ma;++ja)jb[Ga[ja]]|=Ea;return this}}}function Qb(){let Ia=new Uint32Array(0),Ya=[],mb=0;return{insert:function(Ea,Ga,jb){if(!Ga.length)return[];const Ca=mb,ab=Ga.length,Ma=new Uint32Array(ab);let ja=Array(ab);var Aa;for(Aa=0;Aa<ab;++Aa)ja[Aa]=Ea(Ga[Aa]),Ma[Aa]=Aa;ja=Bb(ja,Ma);if(Ca){Ea=Ya;Ga=Ia;Ya=Array(Ca+ab);Ia=new Uint32Array(Ca+ab);{Aa=ja;var Qa=Ya,Xa=Ia;let hb=0,cb=0,ob;for(ob=0;hb<Ca&&cb<ab;++ob)Ea[hb]<Aa[cb]?(Qa[ob]=Ea[hb],Xa[ob]=Ga[hb++]):(Qa[ob]=Aa[cb],
Xa[ob]=Ma[cb++]+jb);for(;hb<Ca;++hb,++ob)Qa[ob]=Ea[hb],Xa[ob]=Ga[hb];for(;cb<ab;++cb,++ob)Qa[ob]=Aa[cb],Xa[ob]=Ma[cb]+jb}}else{if(0<jb)for(Aa=0;Aa<ab;++Aa)Ma[Aa]+=jb;Ya=ja;Ia=Ma}mb=Ca+ab;return{index:Ma,value:ja}},remove:function(Ea,Ga){const jb=mb;let Ca,ab,Ma;for(ab=0;!Ga[Ia[ab]]&&ab<jb;++ab);for(Ma=ab;ab<jb;++ab)Ga[Ca=Ia[ab]]||(Ia[Ma]=Ca,Ya[Ma]=Ya[ab],++Ma);mb=jb-Ea},bisect:function(Ea,Ga){let jb;Ga?jb=Ga.length:(Ga=Ya,jb=mb);return[x.bisectLeft(Ga,Ea[0],0,jb),x.bisectRight(Ga,Ea[1],0,jb)]},reindex:function(Ea){for(let Ga=
0,jb=mb;Ga<jb;++Ga)Ia[Ga]=Ea[Ia[Ga]]},index:()=>Ia,size:()=>mb}}function Bb(Ia,Ya){Ia.sort.call(Ya,(mb,Ea)=>{mb=Ia[mb];Ea=Ia[Ea];return mb<Ea?-1:mb>Ea?1:0});return x.permute(Ia,Ya)}function bb(Ia){ca.Transform.call(this,Wb(),Ia);this._dims=this._indices=null}function qb(Ia){ca.Transform.call(this,null,Ia)}const sb=Ia=>new Uint8Array(Ia),Wa=Ia=>new Uint16Array(Ia),Ha=Ia=>new Uint32Array(Ia);bb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",
type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Sa.inherits(bb,ca.Transform,{transform(Ia,Ya){return this._dims?Ia.modified("fields")||Ia.fields.some(mb=>Ya.modified(mb.fields))?this.reinit(Ia,Ya):this.eval(Ia,Ya):this.init(Ia,Ya)},init(Ia,Ya){const mb=Ia.fields,Ea=Ia.query,Ga=this._indices={},jb=this._dims=[],Ca=Ea.length;let ab=0;for(var Ma;ab<Ca;++ab)Ma=mb[ab].fname,Ma=Ga[Ma]||(Ga[Ma]=Qb()),jb.push(ub(Ma,ab,Ea[ab]));return this.eval(Ia,Ya)},reinit(Ia,Ya){const mb=
Ya.materialize().fork(),Ea=Ia.fields,Ga=Ia.query,jb=this._indices,Ca=this._dims,ab=this.value,Ma=ab.curr(),ja=ab.prev(),Aa=ab.all(),Qa=mb.rem=mb.add,Xa=mb.mod,hb=Ga.length,cb={};let ob;var $a;let Q,H,T,na;ja.set(Ma);Ya.rem.length&&(Q=this.remove(Ia,Ya,mb));Ya.add.length&&ab.add(Ya.add);if(Ya.mod.length){H={};var O=Ya.mod;T=0;for($a=O.length;T<$a;++T)H[O[T]._index]=1}for(T=0;T<hb;++T)if(na=Ea[T],!Ca[T]||Ia.modified("fields",T)||Ya.modified(na.fields))$a=na.fname,(O=cb[$a])||(jb[$a]=ob=Qb(),cb[$a]=
O=ob.insert(na,Ya.source,0)),Ca[T]=ub(ob,T,Ga[T]).onAdd(O,Ma);T=0;for($a=ab.data().length;T<$a;++T)Q[T]||(ja[T]!==Ma[T]?Qa.push(T):H[T]&&Ma[T]!==Aa&&Xa.push(T));ab.mask=(1<<hb)-1;return mb},eval(Ia,Ya){const mb=Ya.materialize().fork(),Ea=this._dims.length;let Ga=0;Ya.rem.length&&(this.remove(Ia,Ya,mb),Ga|=(1<<Ea)-1);Ia.modified("query")&&!Ia.modified("fields")&&(Ga|=this.update(Ia,Ya,mb));Ya.add.length&&(this.insert(Ia,Ya,mb),Ga|=(1<<Ea)-1);Ya.mod.length&&(this.modify(Ya,mb),Ga|=(1<<Ea)-1);this.value.mask=
Ga;return mb},insert(Ia,Ya,mb){Ya=Ya.add;var Ea=this.value;const Ga=this._dims,jb=this._indices;Ia=Ia.fields;const Ca={};mb=mb.add;const ab=Ea.size()+Ya.length,Ma=Ga.length;let ja=Ea.size();Ea.resize(ab,Ma);Ea.add(Ya);const Aa=Ea.curr(),Qa=Ea.prev(),Xa=Ea.all();for(Ea=0;Ea<Ma;++Ea){var hb=Ia[Ea].fname;hb=Ca[hb]||(Ca[hb]=jb[hb].insert(Ia[Ea],Ya,ja));Ga[Ea].onAdd(hb,Aa)}for(;ja<ab;++ja)Qa[ja]=Xa,Aa[ja]!==Xa&&mb.push(ja)},modify(Ia,Ya){Ya=Ya.mod;var mb=this.value;const Ea=mb.curr();mb=mb.all();Ia=Ia.mod;
let Ga,jb,Ca;Ga=0;for(jb=Ia.length;Ga<jb;++Ga)Ca=Ia[Ga]._index,Ea[Ca]!==mb&&Ya.push(Ca)},remove(Ia,Ya,mb){Ia=this._indices;var Ea=this.value;const Ga=Ea.curr(),jb=Ea.prev();Ea=Ea.all();const Ca={};mb=mb.rem;const ab=Ya.rem;let Ma,ja,Aa,Qa;Ma=0;for(ja=ab.length;Ma<ja;++Ma)Aa=ab[Ma]._index,Ca[Aa]=1,jb[Aa]=Qa=Ga[Aa],Ga[Aa]=Ea,Qa!==Ea&&mb.push(Aa);for(Aa in Ia)Ia[Aa].remove(ja,Ca);this.reindex(Ya,ja,Ca);return Ca},reindex(Ia,Ya,mb){const Ea=this._indices,Ga=this.value;Ia.runAfter(()=>{const jb=Ga.remove(Ya,
mb);for(const Ca in Ea)Ea[Ca].reindex(jb)})},update(Ia,Ya,mb){const Ea=this._dims,Ga=Ia.query;Ya=Ya.stamp;const jb=Ea.length;let Ca=0,ab,Ma;for(Ma=mb.filters=0;Ma<jb;++Ma)Ia.modified("query",Ma)&&(ab=Ma,++Ca);if(1===Ca)Ca=Ea[ab].one,this.incrementOne(Ea[ab],Ga[ab],mb.add,mb.rem);else for(Ca=Ma=0;Ma<jb;++Ma)Ia.modified("query",Ma)&&(Ca|=Ea[Ma].one,this.incrementAll(Ea[Ma],Ga[Ma],Ya,mb.add),mb.rem=mb.add);return Ca},incrementAll(Ia,Ya,mb,Ea){var Ga=this.value;const jb=Ga.seen(),Ca=Ga.curr();Ga=Ga.prev();
const ab=Ia.index();var Ma=Ia.bisect(Ia.range),ja=Ia.bisect(Ya);const Aa=ja[0];ja=ja[1];const Qa=Ma[0];Ma=Ma[1];const Xa=Ia.one;let hb,cb,ob;if(Aa<Qa)for(hb=Aa,cb=Math.min(Qa,ja);hb<cb;++hb)ob=ab[hb],jb[ob]!==mb&&(Ga[ob]=Ca[ob],jb[ob]=mb,Ea.push(ob)),Ca[ob]^=Xa;else if(Aa>Qa)for(hb=Qa,cb=Math.min(Aa,Ma);hb<cb;++hb)ob=ab[hb],jb[ob]!==mb&&(Ga[ob]=Ca[ob],jb[ob]=mb,Ea.push(ob)),Ca[ob]^=Xa;if(ja>Ma)for(hb=Math.max(Aa,Ma),cb=ja;hb<cb;++hb)ob=ab[hb],jb[ob]!==mb&&(Ga[ob]=Ca[ob],jb[ob]=mb,Ea.push(ob)),Ca[ob]^=
Xa;else if(ja<Ma)for(hb=Math.max(Qa,ja),cb=Ma;hb<cb;++hb)ob=ab[hb],jb[ob]!==mb&&(Ga[ob]=Ca[ob],jb[ob]=mb,Ea.push(ob)),Ca[ob]^=Xa;Ia.range=Ya.slice()},incrementOne(Ia,Ya,mb,Ea){const Ga=this.value.curr(),jb=Ia.index();var Ca=Ia.bisect(Ia.range),ab=Ia.bisect(Ya);const Ma=ab[0];ab=ab[1];const ja=Ca[0];Ca=Ca[1];const Aa=Ia.one;let Qa,Xa,hb;if(Ma<ja)for(Qa=Ma,Xa=Math.min(ja,ab);Qa<Xa;++Qa)hb=jb[Qa],Ga[hb]^=Aa,mb.push(hb);else if(Ma>ja)for(Qa=ja,Xa=Math.min(Ma,Ca);Qa<Xa;++Qa)hb=jb[Qa],Ga[hb]^=Aa,Ea.push(hb);
if(ab>Ca)for(Qa=Math.max(Ma,Ca),Xa=ab;Qa<Xa;++Qa)hb=jb[Qa],Ga[hb]^=Aa,mb.push(hb);else if(ab<Ca)for(Qa=Math.max(ja,ab),Xa=Ca;Qa<Xa;++Qa)hb=jb[Qa],Ga[hb]^=Aa,Ea.push(hb);Ia.range=Ya.slice()}});qb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Sa.inherits(qb,ca.Transform,{transform(Ia,
Ya){const mb=~(Ia.ignore||0);Ia=Ia.filter;const Ea=Ia.mask;if(0===(Ea&mb))return Ya.StopPropagation;Ya=Ya.fork(Ya.ALL);const Ga=Ia.data(),jb=Ia.curr(),Ca=Ia.prev(),ab=Ma=>jb[Ma]&mb?null:Ga[Ma];Ya.filter(Ya.MOD,ab);Ea&Ea-1?(Ya.filter(Ya.ADD,Ma=>{const ja=jb[Ma]&mb;return!ja&&ja^Ca[Ma]&mb?Ga[Ma]:null}),Ya.filter(Ya.REM,Ma=>{const ja=jb[Ma]&mb;return!ja||ja^ja^Ca[Ma]&mb?null:Ga[Ma]})):(Ya.filter(Ya.ADD,ab),Ya.filter(Ya.REM,Ma=>(jb[Ma]&mb)===Ea?Ga[Ma]:null));return Ya.filter(Ya.SOURCE,Ma=>ab(Ma._index))}});
n.crossfilter=bb;n.resolvefilter=qb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[58]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16)):"function"===typeof define&&define.amd?define(["exports","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega))})(this,function(n,x){function ca(v){this.type=v}function Sa(v){switch(v.type){case "ArrayExpression":return v.elements;case "BinaryExpression":case "LogicalExpression":return[v.left,v.right];case "CallExpression":return[v.callee].concat(v.arguments);
case "ConditionalExpression":return[v.test,v.consequent,v.alternate];case "MemberExpression":return[v.object,v.property];case "ObjectExpression":return v.properties;case "Property":return[v.key,v.value];case "UnaryExpression":return[v.argument];default:return[]}}function Wb(v,w){if(!v)throw Error("ASSERT: "+w);}function fb(v){return 48<=v&&57>=v}function ub(v){return 0<="0123456789abcdefABCDEF".indexOf(v)}function Qb(v){return 0<="01234567".indexOf(v)}function Bb(v){return 10===v||13===v||8232===
v||8233===v}function bb(v){return 36===v||95===v||65<=v&&90>=v||97<=v&&122>=v||92===v||128<=v&&U.test(String.fromCharCode(v))}function qb(v){return 36===v||95===v||65<=v&&90>=v||97<=v&&122>=v||48<=v&&57>=v||92===v||128<=v&&va.test(String.fromCharCode(v))}function sb(){for(;pa<Ua;){const v=ea.charCodeAt(pa);if(32===v||9===v||11===v||12===v||160===v||5760<=v&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(v)||Bb(v))++pa;else break}}function Wa(v){var w=
0;var p="u"===v?4:2;for(v=0;v<p;++v)if(pa<Ua&&ub(ea[pa])){var r=ea[pa++];w=16*w+"0123456789abcdef".indexOf(r.toLowerCase())}else Qa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(w)}function Ha(){var v=ea.charCodeAt(pa++);var w=String.fromCharCode(v);92===v&&(117!==ea.charCodeAt(pa)&&Qa({},"Unexpected token %0","ILLEGAL"),++pa,(v=Wa("u"))&&"\\"!==v&&bb(v.charCodeAt(0))||Qa({},"Unexpected token %0","ILLEGAL"),w=v);for(;pa<Ua;){v=ea.charCodeAt(pa);if(!qb(v))break;++pa;w+=String.fromCharCode(v);
92===v&&(w=w.substr(0,w.length-1),117!==ea.charCodeAt(pa)&&Qa({},"Unexpected token %0","ILLEGAL"),++pa,(v=Wa("u"))&&"\\"!==v&&qb(v.charCodeAt(0))||Qa({},"Unexpected token %0","ILLEGAL"),w+=v)}return w}function Ia(){var v=pa,w=ea.charCodeAt(pa),p=ea[pa];switch(w){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++pa,{type:7,value:String.fromCharCode(w),start:v,end:pa};default:var r=ea.charCodeAt(pa+1);if(61===r)switch(w){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return pa+=
2,{type:7,value:String.fromCharCode(w)+String.fromCharCode(r),start:v,end:pa};case 33:case 61:return pa+=2,61===ea.charCodeAt(pa)&&++pa,{type:7,value:ea.slice(v,pa),start:v,end:pa}}}w=ea.substr(pa,4);if("\x3e\x3e\x3e\x3d"===w)return pa+=4,{type:7,value:w,start:v,end:pa};w=w.substr(0,3);if("\x3e\x3e\x3e"===w||"\x3c\x3c\x3d"===w||"\x3e\x3e\x3d"===w)return pa+=3,{type:7,value:w,start:v,end:pa};w=w.substr(0,2);if(p===w[1]&&0<="+-\x3c\x3e\x26|".indexOf(p)||"\x3d\x3e"===w)return pa+=2,{type:7,value:w,start:v,
end:pa};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(p))return++pa,{type:7,value:p,start:v,end:pa};Qa({},"Unexpected token %0","ILLEGAL")}function Ya(){var v=ea[pa];Wb(fb(v.charCodeAt(0))||"."===v,"Numeric literal must start with a decimal digit or a decimal point");var w=pa;var p="";if("."!==v){p=ea[pa++];v=ea[pa];if("0"===p){if("x"===v||"X"===v){++pa;for(p="";pa<Ua&&ub(ea[pa]);)p+=ea[pa++];0===p.length&&Qa({},"Unexpected token %0","ILLEGAL");bb(ea.charCodeAt(pa))&&Qa({},"Unexpected token %0","ILLEGAL");
return w={type:6,value:parseInt("0x"+p,16),start:w,end:pa}}if(Qb(v)){for(p="0"+ea[pa++];pa<Ua&&Qb(ea[pa]);)p+=ea[pa++];(bb(ea.charCodeAt(pa))||fb(ea.charCodeAt(pa)))&&Qa({},"Unexpected token %0","ILLEGAL");return w={type:6,value:parseInt(p,8),octal:!0,start:w,end:pa}}v&&fb(v.charCodeAt(0))&&Qa({},"Unexpected token %0","ILLEGAL")}for(;fb(ea.charCodeAt(pa));)p+=ea[pa++];v=ea[pa]}if("."===v){for(p+=ea[pa++];fb(ea.charCodeAt(pa));)p+=ea[pa++];v=ea[pa]}if("e"===v||"E"===v){p+=ea[pa++];v=ea[pa];if("+"===
v||"-"===v)p+=ea[pa++];if(fb(ea.charCodeAt(pa)))for(;fb(ea.charCodeAt(pa));)p+=ea[pa++];else Qa({},"Unexpected token %0","ILLEGAL")}bb(ea.charCodeAt(pa))&&Qa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(p),start:w,end:pa}}function mb(v,w){let p=v;0<=w.indexOf("u")&&(p=p.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,C)=>{if(1114111>=parseInt(C,16))return"x";Qa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(p)}catch(r){Qa({},"Invalid regular expression")}try{return new RegExp(v,
w)}catch(r){return null}}function Ea(){sb();if(pa>=Ua)return{type:2,start:pa,end:pa};var v=ea.charCodeAt(pa);if(bb(v)){v=pa;if(92===ea.charCodeAt(pa))var w=Ha();else a:{for(w=pa++;pa<Ua;){var p=ea.charCodeAt(pa);if(92===p){pa=w;w=Ha();break a}if(qb(p))++pa;else break}w=ea.slice(w,pa)}return{type:1===w.length?3:xa.hasOwnProperty(w)?4:"null"===w?5:"true"===w||"false"===w?1:3,value:w,start:v,end:pa}}if(40===v||41===v||59===v)return Ia();if(39===v||34===v){var r="";p=!1;v=ea[pa];Wb("'"===v||'"'===v,"String literal must starts with a quote");
w=pa;for(++pa;pa<Ua;){var C=ea[pa++];if(C===v){v="";break}else if("\\"===C)if((C=ea[pa++])&&Bb(C.charCodeAt(0)))"\r"===C&&"\n"===ea[pa]&&++pa;else switch(C){case "u":case "x":if("{"===ea[pa]){++pa;var D=ea[pa];C=0;for("}"===D&&Qa({},"Unexpected token %0","ILLEGAL");pa<Ua;){D=ea[pa++];if(!ub(D))break;C=16*C+"0123456789abcdef".indexOf(D.toLowerCase())}(1114111<C||"}"!==D)&&Qa({},"Unexpected token %0","ILLEGAL");C=65535>=C?String.fromCharCode(C):String.fromCharCode((C-65536>>10)+55296,(C-65536&1023)+
56320);r+=C}else r+=Wa(C);break;case "n":r+="\n";break;case "r":r+="\r";break;case "t":r+="\t";break;case "b":r+="\b";break;case "f":r+="\f";break;case "v":r+="\x0B";break;default:Qb(C)?(D="01234567".indexOf(C),0!==D&&(p=!0),pa<Ua&&Qb(ea[pa])&&(p=!0,D=8*D+"01234567".indexOf(ea[pa++]),0<="0123".indexOf(C)&&pa<Ua&&Qb(ea[pa])&&(D=8*D+"01234567".indexOf(ea[pa++]))),r+=String.fromCharCode(D)):r+=C}else if(Bb(C.charCodeAt(0)))break;else r+=C}""!==v&&Qa({},"Unexpected token %0","ILLEGAL");return{type:8,
value:r,octal:p,start:w,end:pa}}return 46===v?fb(ea.charCodeAt(pa+1))?Ya():Ia():fb(v)?Ya():Ia()}function Ga(){const v=db;pa=v.end;db=Ea();pa=v.end;return v}function jb(){const v=pa;db=Ea();pa=v}function Ca(v,w,p){const r=new ca("||"===v||"\x26\x26"===v?"LogicalExpression":"BinaryExpression");r.operator=v;r.left=w;r.right=p;return r}function ab(v){const w=new ca("Identifier");w.name=v;return w}function Ma(v){const w=new ca("Literal");w.value=v.value;w.raw=ea.slice(v.start,v.end);v.regex&&("//"===w.raw&&
(w.raw="/(?:)/"),w.regex=v.regex);return w}function ja(v,w,p){const r=new ca("MemberExpression");r.computed="["===v;r.object=w;r.property=p;r.computed||(p.member=!0);return r}function Aa(v,w,p){const r=new ca("Property");r.key=w;r.value=p;r.kind=v;return r}function Qa(v,w){var p=Array.prototype.slice.call(arguments,2),r=w.replace(/%(\d)/g,(D,G)=>{Wb(G<p.length,"Message reference must be in range");return p[G]});var C=Error(r);C.index=pa;C.description=r;throw C;}function Xa(v){2===v.type&&Qa(v,"Unexpected end of input");
6===v.type&&Qa(v,"Unexpected number");8===v.type&&Qa(v,"Unexpected string");3===v.type&&Qa(v,"Unexpected identifier");4===v.type&&Qa(v,"Unexpected reserved word");Qa(v,"Unexpected token %0",v.value)}function hb(v){const w=Ga();7===w.type&&w.value===v||Xa(w)}function cb(v){return 7===db.type&&db.value===v}function ob(){pa=db.start;const v=Ga();return 8===v.type||6===v.type?(v.octal&&Qa(v,"Octal literals are not allowed in strict mode."),Ma(v)):ab(v.value)}function $a(){if(cb("(")){hb("(");var v=O();
hb(")");return v}if(cb("[")){v=[];pa=db.start;for(hb("[");!cb("]");)cb(",")?(Ga(),v.push(null)):(v.push(na()),cb("]")||hb(","));Ga();var w=new ca("ArrayExpression");w.elements=v;return v=w}if(cb("{")){v=[];w={};var p=String;pa=db.start;for(hb("{");!cb("}");){pa=db.start;var r=db;if(3===r.type){var C=ob();hb(":");r=na();r=Aa("init",C,r)}else 2===r.type||7===r.type?(Xa(r),r=void 0):(C=ob(),hb(":"),r=na(),r=Aa("init",C,r));C="Identifier"===r.key.type?r.key.name:p(r.key.value);C="$"+C;Object.prototype.hasOwnProperty.call(w,
C)?Qa({},"Duplicate data property in object literal not allowed in strict mode"):w[C]=!0;v.push(r);cb("}")||hb(",")}hb("}");w=new ca("ObjectExpression");w.properties=v;return v=w}v=db.type;pa=db.start;if(3===v||ma[db.value])w=ab(Ga().value);else if(8===v||6===v)db.octal&&Qa(db,"Octal literals are not allowed in strict mode."),w=Ma(Ga());else{if(4===v)throw Error("Disabled.");if(1===v)v=Ga(),v.value="true"===v.value,w=Ma(v);else if(5===v)v=Ga(),v.value=null,w=Ma(v);else if(cb("/")||cb("/\x3d")){var D;
db=null;sb();v=pa;w=ea[pa];Wb("/"===w,"Regular expression literal must start with a slash");p=ea[pa++];for(C=r=!1;pa<Ua;)if(w=ea[pa++],p+=w,"\\"===w)w=ea[pa++],Bb(w.charCodeAt(0))&&Qa({},"Invalid regular expression: missing /"),p+=w;else if(Bb(w.charCodeAt(0)))Qa({},"Invalid regular expression: missing /");else if(r)"]"===w&&(r=!1);else if("/"===w){C=!0;break}else"["===w&&(r=!0);C||Qa({},"Invalid regular expression: missing /");w=p.substr(1,p.length-2);for(D=C="";pa<Ua;){r=ea[pa];if(!qb(r.charCodeAt(0)))break;
++pa;"\\"===r&&pa<Ua?Qa({},"Unexpected token %0","ILLEGAL"):(D+=r,C+=r)}0<=D.search(/[^gimuy]/g)&&Qa({},"Invalid regular expression",D);r=D;D=mb(w,r);w=Ma({literal:p+C,value:D,regex:{pattern:w,flags:r},start:v,end:pa});jb()}else Xa(Ga())}return w}function Q(){var v;for(v=$a();;)if(cb(".")){hb(".");pa=db.start;var w=Ga();3===w.type||4===w.type||1===w.type||5===w.type||Xa(w);w=ab(w.value);v=ja(".",v,w)}else if(cb("(")){w=[];hb("(");if(!cb(")"))for(;pa<Ua;){w.push(na());if(cb(")"))break;hb(",")}hb(")");
{const p=new ca("CallExpression");p.callee=v;p.arguments=w;v=p}}else if(cb("["))hb("["),w=O(),hb("]"),v=ja("[",v,w);else break;if(7===db.type&&(cb("++")||cb("--")))throw Error("Disabled.");return v}function H(){if(7!==db.type&&4!==db.type)var v=Q();else{if(cb("++")||cb("--"))throw Error("Disabled.");if(cb("+")||cb("-")||cb("~")||cb("!")){var w=Ga();v=H();{w=w.value;const p=new ca("UnaryExpression");p.operator=w;p.argument=v;p.prefix=!0;v=p}}else{if(4===db.type&&"delete"===db.value||4===db.type&&"void"===
db.value||4===db.type&&"typeof"===db.value)throw Error("Disabled.");v=Q()}}return v}function T(v){let w=0;if(7!==v.type&&4!==v.type)return 0;switch(v.value){case "||":w=1;break;case "\x26\x26":w=2;break;case "|":w=3;break;case "^":w=4;break;case "\x26":w=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":w=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":w=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":w=8;break;case "+":case "-":w=
9;break;case "*":case "/":case "%":w=11}return w}function na(){var v=db;var w=H();var p=db;var r=T(p);if(0===r)var C=w;else{p.prec=r;Ga();v=[v,db];var D=H();for(C=[w,p,D];0<(r=T(db));){for(;2<C.length&&r<=C[C.length-2].prec;)D=C.pop(),p=C.pop().value,w=C.pop(),v.pop(),w=Ca(p,w,D),C.push(w);p=Ga();p.prec=r;C.push(p);v.push(db);w=H();C.push(w)}r=C.length-1;w=C[r];for(v.pop();1<r;)v.pop(),w=Ca(C[r-1].value,C[r-2],w),r-=2;C=w}cb("?")&&(Ga(),v=na(),hb(":"),r=na(),w=new ca("ConditionalExpression"),w.test=
C,w.consequent=v,w.alternate=r,C=w);return C}function O(){const v=na();if(cb(","))throw Error("Disabled.");return v}function W(v){function w(p,r,C){return D=>{{let G=v(D[0]);r&&(G=r+"("+G+")",0===r.lastIndexOf("new ",0)&&(G="("+G+")"));D=G+"."+p+(0>C?"":0===C?"()":"("+D.slice(1).map(v).join(",")+")")}return D}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",
log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(p){3>p.length&&x.error("Missing arguments to clamp function.");3<p.length&&x.error("Too many arguments to clamp function.");p=p.map(v);return"Math.max("+p[1]+", Math.min("+p[2]+","+p[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:w("getDate","new Date",0),day:w("getDay","new Date",0),year:w("getFullYear","new Date",0),month:w("getMonth",
"new Date",0),hours:w("getHours","new Date",0),minutes:w("getMinutes","new Date",0),seconds:w("getSeconds","new Date",0),milliseconds:w("getMilliseconds","new Date",0),time:w("getTime","new Date",0),timezoneoffset:w("getTimezoneOffset","new Date",0),utcdate:w("getUTCDate","new Date",0),utcday:w("getUTCDay","new Date",0),utcyear:w("getUTCFullYear","new Date",0),utcmonth:w("getUTCMonth","new Date",0),utchours:w("getUTCHours","new Date",0),utcminutes:w("getUTCMinutes","new Date",0),utcseconds:w("getUTCSeconds",
"new Date",0),utcmilliseconds:w("getUTCMilliseconds","new Date",0),length:w("length",null,-1),join:w("join",null),indexof:w("indexOf",null),lastindexof:w("lastIndexOf",null),slice:w("slice",null),reverse:function(p){return"("+v(p[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:w("toUpperCase","String",0),lower:w("toLowerCase","String",0),substring:w("substring","String"),split:w("split","String"),replace:w("replace","String"),trim:w("trim","String",0),regexp:"RegExp",
test:w("test","RegExp"),if:function(p){3>p.length&&x.error("Missing arguments to if function.");3<p.length&&x.error("Too many arguments to if function.");p=p.map(v);return"("+p[0]+"?"+p[1]+":"+p[2]+")"}}}ca.prototype.visit=function(v){let w,p,r;if(v(this))return 1;w=Sa(this);p=0;for(r=w.length;p<r;++p)if(w[p].visit(v))return 1};var ea,pa,Ua,db,U=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
va=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const xa={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},ma={"if":1};var R={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};n.ASTNode=ca;n.ArrayExpression="ArrayExpression";n.BinaryExpression="BinaryExpression";n.CallExpression="CallExpression";n.ConditionalExpression="ConditionalExpression";n.Identifier="Identifier";n.Literal="Literal";n.LogicalExpression="LogicalExpression";n.MemberExpression="MemberExpression";n.ObjectExpression="ObjectExpression";
n.Property="Property";n.RawCode="RawCode";n.UnaryExpression="UnaryExpression";n.codegen=function(v){function w(sa){if(x.isString(sa))return sa;const eb=Z[sa.type];null==eb&&x.error("Unsupported type: "+sa.type);return eb(sa)}function p(sa){sa={code:w(sa),globals:Object.keys(la),fields:Object.keys(Ta)};la={};Ta={};return sa}v=v||{};const r=v.allowed?x.toSet(v.allowed):{},C=v.forbidden?x.toSet(v.forbidden):{},D=v.constants||R,G=(v.functions||W)(w),B=v.globalvar,fa=v.fieldvar,wa=x.isFunction(B)?B:sa=>
`${B}["${sa}"]`;let la={},Ta={},Ja=0;const Z={Literal:sa=>sa.raw,Identifier:sa=>{sa=sa.name;if(0<Ja)return sa;if(x.hasOwnProperty(C,sa))return x.error("Illegal identifier: "+sa);if(x.hasOwnProperty(D,sa))return D[sa];if(x.hasOwnProperty(r,sa))return sa;la[sa]=1;return wa(sa)},MemberExpression:sa=>{const eb=!sa.computed,xb=w(sa.object);eb&&(Ja+=1);sa=w(sa.property);if(xb===fa){var Kb=Ta;var ec=(ec=sa&&sa.length-1)&&('"'===sa[0]&&'"'===sa[ec]||"'"===sa[0]&&"'"===sa[ec])?sa.slice(1,-1):sa;Kb[ec]=1}eb&&
--Ja;return xb+(eb?"."+sa:"["+sa+"]")},CallExpression:sa=>{"Identifier"!==sa.callee.type&&x.error("Illegal callee type: "+sa.callee.type);const eb=sa.callee.name;sa=sa.arguments;const xb=x.hasOwnProperty(G,eb)&&G[eb];xb||x.error("Unrecognized function: "+eb);return x.isFunction(xb)?xb(sa):xb+"("+sa.map(w).join(",")+")"},ArrayExpression:sa=>"["+sa.elements.map(w).join(",")+"]",BinaryExpression:sa=>"("+w(sa.left)+sa.operator+w(sa.right)+")",UnaryExpression:sa=>"("+sa.operator+w(sa.argument)+")",ConditionalExpression:sa=>
"("+w(sa.test)+"?"+w(sa.consequent)+":"+w(sa.alternate)+")",LogicalExpression:sa=>"("+w(sa.left)+sa.operator+w(sa.right)+")",ObjectExpression:sa=>"{"+sa.properties.map(w).join(",")+"}",Property:sa=>{Ja+=1;const eb=w(sa.key);--Ja;return eb+":"+w(sa.value)}};p.functions=G;p.constants=D;return p};n.constants=R;n.functions=W;n.parse=function(v){ea=v;pa=0;Ua=ea.length;db=null;jb();v=O();if(2!==db.type)throw Error("Unexpect token after expression.");return v};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[59]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(58)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega))})(this,function(n,x,ca){function Sa(fb,ub){var Qb=ub.fields;ub=ub.values;for(var Bb=Qb.length,bb=0,qb,sb;bb<Bb;++bb)if(sb=Qb[bb],sb.getter=x.field.getter||x.field(sb.field),qb=sb.getter(fb),x.isDate(qb)&&(qb=
x.toNumber(qb)),x.isDate(ub[bb])&&(ub[bb]=x.toNumber(ub[bb])),x.isDate(ub[bb][0])&&(ub[bb]=ub[bb].map(x.toNumber)),"E"===sb.type){if(x.isArray(ub[bb])?0>ub[bb].indexOf(qb):qb!==ub[bb])return!1}else if("R"===sb.type){if(!x.inrange(qb,ub[bb]))return!1}else if("R-RE"===sb.type){if(!x.inrange(qb,ub[bb],!0,!1))return!1}else if("R-E"===sb.type){if(!x.inrange(qb,ub[bb],!1,!1))return!1}else if("R-LE"===sb.type&&!x.inrange(qb,ub[bb],!1,!0))return!1;return!0}var Wb={E_union:function(fb,ub){if(!fb.length)return ub;
for(var Qb=0,Bb=ub.length;Qb<Bb;++Qb)0>fb.indexOf(ub[Qb])&&fb.push(ub[Qb]);return fb},E_intersect:function(fb,ub){return fb.length?fb.filter(Qb=>0<=ub.indexOf(Qb)):ub},R_union:function(fb,ub){var Qb=x.toNumber(ub[0]),Bb=x.toNumber(ub[1]);Qb>Bb&&(Qb=ub[1],Bb=ub[0]);if(!fb.length)return[Qb,Bb];fb[0]>Qb&&(fb[0]=Qb);fb[1]<Bb&&(fb[1]=Bb);return fb},R_intersect:function(fb,ub){var Qb=x.toNumber(ub[0]),Bb=x.toNumber(ub[1]);Qb>Bb&&(Qb=ub[1],Bb=ub[0]);if(!fb.length)return[Qb,Bb];if(Bb<fb[0]||fb[1]<Qb)return[];
fb[0]<Qb&&(fb[0]=Qb);fb[1]>Bb&&(fb[1]=Bb);return fb}};n.selectionResolve=function(fb,ub,Qb,Bb){fb=(fb=this.context.data[fb])?fb.values.value:[];for(var bb={},qb={},sb={},Wa,Ha,Ia,Ya,mb,Ea,Ga=fb.length,jb=0,Ca,ab;jb<Ga;++jb){Wa=fb[jb];Ia=Wa.unit;Ha=Wa.fields;Wa=Wa.values;Ca=0;for(ab=Ha.length;Ca<ab;++Ca)Ya=Ha[Ca],mb=bb[Ya.field]||(bb[Ya.field]={}),Ea=mb[Ia]||(mb[Ia]=[]),sb[Ya.field]=Ya=Ya.type.charAt(0),Ya=Wb[Ya+"_union"],mb[Ia]=Ya(Ea,x.array(Wa[Ca]));Qb&&(Ea=qb[Ia]||(qb[Ia]=[]),Ea.push(x.array(Wa).reduce((Ma,
ja,Aa)=>(Ma[Ha[Aa].field]=ja,Ma),{})))}ub=ub||"union";Object.keys(bb).forEach(Ma=>{bb[Ma]=Object.keys(bb[Ma]).map(ja=>bb[Ma][ja]).reduce((ja,Aa)=>void 0===ja?Aa:Wb[sb[Ma]+"_"+ub](ja,Aa))});fb=Object.keys(qb);Qb&&fb.length&&(bb[Bb?"vlPoint":"vlMulti"]="union"===ub?{["or"]:fb.reduce((Ma,ja)=>(Ma.push(...qb[ja]),Ma),[])}:{["and"]:fb.map(Ma=>({["or"]:qb[Ma]}))});return bb};n.selectionTest=function(fb,ub,Qb){var Bb=this.context.data[fb];fb=Bb?Bb.values.value:[];Bb=Bb?Bb["index:unit"]&&Bb["index:unit"].value:
void 0;Qb="intersect"===Qb;for(var bb=fb.length,qb=0,sb,Wa,Ha,Ia;qb<bb;++qb)if(sb=fb[qb],Bb&&Qb){if(Wa=Wa||{},Ha=Wa[Ia=sb.unit]||0,-1!==Ha){sb=Sa(ub,sb);Wa[Ia]=sb?-1:++Ha;if(sb&&1===Bb.size)return!0;if(!sb&&Ha===Bb.get(Ia).count)return!1}}else if(sb=Sa(ub,sb),Qb^sb)return sb;return bb&&Qb};n.selectionVisitor=function(fb,ub,Qb,Bb){ub[0].type!==ca.Literal&&x.error("First argument to selection functions must be a string literal.");fb=ub[0].value;ub=2<=ub.length&&x.peek(ub).value;const bb=":"+fb;"intersect"!==
ub||x.hasOwnProperty(Bb,"@unit")||(Bb["@unit"]=Qb.getData(fb).indataRef(Qb,"unit"));x.hasOwnProperty(Bb,bb)||(Bb[bb]=Qb.getData(fb).tuplesRef())};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[60]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(58),Rb(41),Rb(34),Rb(28),Rb(37),Rb(38),Rb(59),Rb(29),Rb(20),Rb(17)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.d3,n.d3,n.vega,n.vega,n.vega,n.vega,
n.vega,n.vega,n.d3))})(this,function(n,x,ca,Sa,Wb,fb,ub,Qb,Bb,bb,qb,sb){function Wa(La){return(La=this.context.data[La])?La.values.value:[]}function Ha(La,vb,$b){return($b=(La=this.context.data[La]["index:"+vb])?La.value.get($b):void 0)?$b.count:$b}function Ia(La,vb){const $b=this.context.dataflow;$b.pulse(this.context.data[La].input,$b.changeset().remove(x.truthy).insert(vb));return 1}function Ya(La,vb,$b){if(La){const rd=this.context.dataflow;rd.pulse(La.mark.source,rd.changeset().encode(La,vb))}return void 0!==
$b?$b:La}function mb(La,vb,$b){if(!Number.isInteger(La)||!Number.isInteger(vb))return"";rc.setYear(2E3);rc.setMonth(La);rc.setDate(vb);return kc.call(this,rc,$b)}function Ea(La){return mb.call(this,La,1,"%B")}function Ga(La){return mb.call(this,La,1,"%b")}function jb(La){return mb.call(this,0,2+La,"%A")}function Ca(La){return mb.call(this,0,2+La,"%a")}function ab(La,vb,$b,rd){vb[0].type!==ca.Literal&&x.error("First argument to data functions must be a string literal.");La=vb[0].value;vb=":"+La;if(!x.hasOwnProperty(vb,
rd))try{rd[vb]=$b.getData(La).tuplesRef()}catch(vd){}}function Ma(La,vb,$b,rd){vb[0].type!==ca.Literal&&x.error("First argument to indata must be a string literal.");vb[1].type!==ca.Literal&&x.error("Second argument to indata must be a string literal.");La=vb[0].value;vb=vb[1].value;const vd="@"+vb;x.hasOwnProperty(vd,rd)||(rd[vd]=$b.getData(La).indataRef($b,vb))}function ja(La,vb,$b,rd){if(vb[0].type===ca.Literal)Aa($b,rd,vb[0].value);else for(La in $b.scales)Aa($b,rd,La)}function Aa(La,vb,$b){const rd=
"%"+$b;if(!x.hasOwnProperty(vb,rd))try{vb[rd]=La.scaleRef($b)}catch(vd){}}function Qa(La,vb){let $b;return x.isFunction(La)?La:x.isString(La)?($b=vb.scales[La])&&$b.value:void 0}function Xa(La,vb,$b){vb.__bandwidth=vd=>vd&&vd.bandwidth?vd.bandwidth():0;$b._bandwidth=ja;$b._range=ja;$b._scale=ja;const rd=vd=>"_["+(vd.type===ca.Literal?x.stringValue("%"+vd.value):x.stringValue("%")+"+"+La(vd))+"]";return{_bandwidth:vd=>`this.__bandwidth(${rd(vd[0])})`,_range:vd=>`${rd(vd[0])}.range()`,_scale:vd=>`${rd(vd[0])}(${La(vd[1])})`}}
function hb(La,vb){return function($b,rd,vd){return $b?($b=Qa($b,(vd||this).context))&&$b.path[La](rd):vb(rd)}}function cb(La){const vb=this.context.group;let $b=!1;if(vb)for(;La;){if(La===vb){$b=!0;break}La=La.mark.group}return $b}function ob(La,vb,$b){try{La[vb].apply(La,["EXPRESSION"].concat([].slice.call($b)))}catch(rd){La.warn(rd)}return $b[$b.length-1]}function $a(){return ob(this.context.dataflow,"warn",arguments)}function Q(){return ob(this.context.dataflow,"info",arguments)}function H(){return ob(this.context.dataflow,
"debug",arguments)}function T(La){La/=255;return.03928>=La?La/12.92:Math.pow((La+.055)/1.055,2.4)}function na(La){var vb=Wb.rgb(La);La=T(vb.r);const $b=T(vb.g);vb=T(vb.b);return.2126*La+.7152*$b+.0722*vb}function O(La,vb){La=na(La);vb=na(vb);return(Math.max(La,vb)+.05)/(Math.min(La,vb)+.05)}function W(){const La=[].slice.call(arguments);La.unshift({});return x.extend(...La)}function ea(La,vb){if(La===vb||La!==La&&vb!==vb)La=!0;else if(x.isArray(La))if(x.isArray(vb)&&La.length===vb.length)a:{for(let $b=
0,rd=La.length;$b<rd;++$b)if(!ea(La[$b],vb[$b])){La=!1;break a}La=!0}else La=!1;else La=x.isObject(La)&&x.isObject(vb)?pa(La,vb):!1;return La}function pa(La,vb){for(const $b in La)if(!ea(La[$b],vb[$b]))return!1;return!0}function Ua(La){return vb=>pa(La,vb)}function db(La,vb,$b,rd,vd,de){const oe=this.context.dataflow,X=this.context.data[La],za=X.input;La=oe.stamp();let gb=X.changes,Db;if(!1===oe._trigger||!(za.value.length||vb||rd))return 0;if(!gb||gb.stamp<La)X.changes=gb=oe.changeset(),gb.stamp=
La,oe.runAfter(()=>{X.modified=!0;oe.pulse(za,gb).run()},!0,1);$b&&($b=!0===$b?x.truthy:x.isArray($b)||fb.isTuple($b)?$b:Ua($b),gb.remove($b));vb&&gb.insert(vb);rd&&($b=Ua(rd),za.value.some($b)?gb.remove($b):gb.insert(rd));if(vd)for(Db in de)gb.modify(vd,Db,de[Db]);return 1}function U(La){var vb=La.touches;La=vb[0].clientX-vb[1].clientX;vb=vb[0].clientY-vb[1].clientY;return Math.sqrt(La*La+vb*vb)}function va(La){La=La.touches;return Math.atan2(La[0].clientY-La[1].clientY,La[0].clientX-La[1].clientX)}
function xa(La){return x.isArray(La)||ArrayBuffer.isView(La)?La:null}function ma(La){return xa(La)||(x.isString(La)?La:null)}function R(La,...vb){return xa(La).join(...vb)}function v(La,...vb){return ma(La).indexOf(...vb)}function w(La,...vb){return ma(La).lastIndexOf(...vb)}function p(La,...vb){return ma(La).slice(...vb)}function r(La,vb,$b){x.isFunction($b)&&x.error("Function argument passed to replace.");return String(La).replace(vb,$b)}function C(La){return xa(La).slice().reverse()}function D(La,
vb,$b){return ub.bandSpace(La||0,vb||0,$b||0)}function G(La,vb){return(La=Qa(La,(vb||this).context))&&La.bandwidth?La.bandwidth():0}function B(La,vb){return(La=Qa(La,(vb||this).context))?La.copy():void 0}function fa(La,vb){return(La=Qa(La,(vb||this).context))?La.domain():[]}function wa(La,vb,$b){return(La=Qa(La,($b||this).context))?x.isArray(vb)?(La.invertRange||La.invert)(vb):(La.invert||La.invertExtent)(vb):void 0}function la(La,vb){return(La=Qa(La,(vb||this).context))&&La.range?La.range():[]}function Ta(La,
vb,$b){return(La=Qa(La,($b||this).context))?La(vb):void 0}function Ja(La,vb,$b,rd,vd){La=Qa(La,(vd||this).context);const de=Qb.Gradient(vb,$b);vb=La.domain();$b=vb[0];vd=x.peek(vb);let oe=x.identity;vd-$b?oe=ub.scaleFraction(La,$b,vd):La=(La.interpolator?ub.scale("sequential")().interpolator(La.interpolator()):ub.scale("linear")().interpolate(La.interpolate()).range(La.range())).domain([$b=0,vd=1]);La.ticks&&(vb=La.ticks(+rd||15),$b!==vb[0]&&vb.unshift($b),vd!==x.peek(vb)&&vb.push(vd));vb.forEach(X=>
de.stop(oe(X),La(X)));return de}function Z(La,vb,$b){const rd=Qa(La,($b||this).context);return function(vd){return rd?rd.path.context(vd)(vb):""}}function sa(La){let vb=null;return function($b){return $b?Qb.pathRender($b,vb=vb||Qb.pathParse(La)):La}}function eb(La,vb){La=Wa.call(vb,La);return La.root&&La.root.lookup||{}}function xb(La,vb,$b){La=eb(La,this);vb=La[vb];$b=La[$b];return vb&&$b?vb.path($b).map(Nc):void 0}function Kb(La,vb){return(La=eb(La,this)[vb])?La.ancestors().map(Nc):void 0}function ec(){const La=
"undefined"!==typeof window&&window||null;return La?La.screen:{}}function Ec(){const La="undefined"!==typeof window&&window||null;return La?[La.innerWidth,La.innerHeight]:[void 0,void 0]}function gd(){var La=this.context.dataflow;return(La=La.container&&La.container())?[La.clientWidth,La.clientHeight]:[void 0,void 0]}function Dc(La){let vb=null;if(La){const $b=x.array(La.marktype),rd=x.array(La.markname);vb=vd=>(!$b.length||$b.some(de=>vd.marktype===de))&&(!rd.length||rd.some(de=>vd.name===de))}return vb}
function Sc(La,vb,$b){if(1===arguments.length)return Dd[La];Dd[La]=vb;$b&&(ld[La]=$b);ge&&(ge.functions[La]="this."+La);return this}var Ra=La=>function(vb,$b){return this.context.dataflow.locale()[La]($b)(vb)};const nc=Ra("format"),kc=Ra("timeFormat"),wc=Ra("utcFormat"),Pc=Ra("timeParse");Ra=Ra("utcParse");const rc=new Date(2E3,0,1),Xc=hb("area",Sa.geoArea),$c=hb("bounds",Sa.geoBounds);Sa=hb("centroid",Sa.geoCentroid);const Nc=La=>La.data,Dd={random(){return bb.random()},cumulativeNormal:bb.cumulativeNormal,
cumulativeLogNormal:bb.cumulativeLogNormal,cumulativeUniform:bb.cumulativeUniform,densityNormal:bb.densityNormal,densityLogNormal:bb.densityLogNormal,densityUniform:bb.densityUniform,quantileNormal:bb.quantileNormal,quantileLogNormal:bb.quantileLogNormal,quantileUniform:bb.quantileUniform,sampleNormal:bb.sampleNormal,sampleLogNormal:bb.sampleLogNormal,sampleUniform:bb.sampleUniform,isArray:x.isArray,isBoolean:x.isBoolean,isDate:x.isDate,isDefined(La){return void 0!==La},isNumber:x.isNumber,isObject:x.isObject,
isRegExp:x.isRegExp,isString:x.isString,isTuple:fb.isTuple,isValid(La){return null!=La&&La===La},toBoolean:x.toBoolean,toDate:x.toDate,toNumber:x.toNumber,toString:x.toString,indexof:v,join:R,lastindexof:w,replace:r,reverse:C,slice:p,flush:x.flush,lerp:x.lerp,merge:W,pad:x.pad,peek:x.peek,span:x.span,inrange:x.inrange,truncate:x.truncate,rgb:Wb.rgb,lab:Wb.lab,hcl:Wb.hcl,hsl:Wb.hsl,luminance:na,contrast:O,sequence:sb.range,format:nc,utcFormat:wc,utcParse:Ra,utcOffset:qb.utcOffset,utcSequence:qb.utcSequence,
timeFormat:kc,timeParse:Pc,timeOffset:qb.timeOffset,timeSequence:qb.timeSequence,timeUnitSpecifier:qb.timeUnitSpecifier,monthFormat:Ea,monthAbbrevFormat:Ga,dayFormat:jb,dayAbbrevFormat:Ca,quarter:x.quarter,utcquarter:x.utcquarter,week:qb.week,utcweek:qb.utcweek,dayofyear:qb.dayofyear,utcdayofyear:qb.utcdayofyear,warn:$a,info:Q,debug:H,extent:x.extent,inScope:cb,intersect:function(La,vb,$b){if(!La)return[];const [rd,vd]=La;La=(new Qb.Bounds).set(rd[0],rd[1],vd[0],vd[1]);$b=$b||this.context.dataflow.scenegraph().root;
return Qb.intersect($b,La,Dc(vb))},clampRange:x.clampRange,pinchDistance:U,pinchAngle:va,screen:ec,containerSize:gd,windowSize:Ec,bandspace:D,setdata:Ia,pathShape:sa,panLinear:x.panLinear,panLog:x.panLog,panPow:x.panPow,panSymlog:x.panSymlog,zoomLinear:x.zoomLinear,zoomLog:x.zoomLog,zoomPow:x.zoomPow,zoomSymlog:x.zoomSymlog,encode:Ya,modify:db},we="view item group xy x y".split(" "),ld={},sd={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:La=>`_[${x.stringValue("$"+La)}]`,
functions:function(La){const vb=ca.functions(La);we.forEach($b=>vb[$b]="event.vega."+$b);for(const $b in Dd)vb[$b]="this."+$b;x.extend(vb,Xa(La,Dd,ld));return vb},constants:ca.constants,visitors:ld},ge=ca.codegen(sd);Sc("bandwidth",G,ja);Sc("copy",B,ja);Sc("domain",fa,ja);Sc("range",la,ja);Sc("invert",wa,ja);Sc("scale",Ta,ja);Sc("gradient",Ja,ja);Sc("geoArea",Xc,ja);Sc("geoBounds",$c,ja);Sc("geoCentroid",Sa,ja);Sc("geoShape",Z,ja);Sc("indata",Ha,Ma);Sc("data",Wa,ab);Sc("treePath",xb,ab);Sc("treeAncestors",
Kb,ab);Sc("vlSelectionTest",Bb.selectionTest,Bb.selectionVisitor);Sc("vlSelectionResolve",Bb.selectionResolve,Bb.selectionVisitor);n.DataPrefix=":";n.IndexPrefix="@";n.ScalePrefix="%";n.SignalPrefix="$";n.bandspace=D;n.bandwidth=G;n.codeGenerator=ge;n.codegenParams=sd;n.containerSize=gd;n.contrast=O;n.copy=B;n.data=Wa;n.dataVisitor=ab;n.dayAbbrevFormat=Ca;n.dayFormat=jb;n.debug=H;n.domain=fa;n.encode=Ya;n.expressionFunction=Sc;n.format=nc;n.functionContext=Dd;n.geoArea=Xc;n.geoBounds=$c;n.geoCentroid=
Sa;n.geoShape=Z;n.inScope=cb;n.indata=Ha;n.indataVisitor=Ma;n.indexof=v;n.info=Q;n.invert=wa;n.join=R;n.lastindexof=w;n.luminance=na;n.merge=W;n.modify=db;n.monthAbbrevFormat=Ga;n.monthFormat=Ea;n.parseExpression=function(La,vb){const $b={};let rd;try{La=x.isString(La)?La:x.stringValue(La)+"",rd=ca.parse(La)}catch(vd){x.error("Expression parse error: "+La)}rd.visit(vd=>{if(vd.type===ca.CallExpression){var de=vd.callee.name,oe=sd.visitors[de];oe&&oe(de,vd.arguments,vb,$b)}});La=ge(rd);La.globals.forEach(vd=>
{const de="$"+vd;!x.hasOwnProperty($b,de)&&vb.getSignal(vd)&&($b[de]=vb.signalRef(vd))});return{$expr:x.extend({code:La.code},vb.options.ast?{ast:rd}:null),$fields:La.fields,$params:$b}};n.pathShape=sa;n.pinchAngle=va;n.pinchDistance=U;n.range=la;n.replace=r;n.reverse=C;n.scale=Ta;n.scaleGradient=Ja;n.scaleVisitor=ja;n.screen=ec;n.setdata=Ia;n.slice=p;n.timeFormat=kc;n.timeParse=Pc;n.treeAncestors=Kb;n.treePath=xb;n.utcFormat=wc;n.utcParse=Ra;n.warn=$a;n.windowSize=Ec;Object.defineProperty(n,"__esModule",
{value:!0})})};
shadow$provide[61]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(28)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega))})(this,function(n,x,ca){function Sa(Wa,Ha,Ia){";"!==Ia[Ia.length-1]&&(Ia="return("+Ia+");");Ha=Function(...Ha.concat(Ia));return Wa&&Wa.functions?Ha.bind(Wa.functions):Ha}function Wb(Wa,Ha,Ia){if(!Wa||!x.isObject(Wa))return Wa;
for(let Ya=0,mb=qb.length,Ea;Ya<mb;++Ya)if(Ea=qb[Ya],x.hasOwnProperty(Wa,Ea.key))return Ea.parse(Wa,Ha,Ia);return Wa}function fb(Wa,Ha,Ia,Ya){this.dataflow=Wa;this.transforms=Ha;this.events=Wa.events.bind(Wa);this.expr=Ya||bb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Ia&&(this.functions=Object.create(Ia),this.functions.context=this)}function ub(Wa){this.dataflow=Wa.dataflow;this.transforms=Wa.transforms;this.events=Wa.events;this.expr=Wa.expr;this.signals=Object.create(Wa.signals);
this.scales=Object.create(Wa.scales);this.nodes=Object.create(Wa.nodes);this.data=Object.create(Wa.data);this.fn=Object.create(Wa.fn);Wa.functions&&(this.functions=Object.create(Wa.functions),this.functions.context=this)}const Qb=x.toSet(["rule"]),Bb=x.toSet(["group","image","rect"]);var bb={operator:(Wa,Ha)=>Sa(Wa,["_"],Ha.code),parameter:(Wa,Ha)=>Sa(Wa,["datum","_"],Ha.code),event:(Wa,Ha)=>Sa(Wa,["event"],Ha.code),handler:(Wa,Ha)=>Sa(Wa,["_","event"],`var datum=event.item&&event.item.datum;return ${Ha.code};`),
encode:(Wa,Ha)=>{const {marktype:Ia,channels:Ya}=Ha;Ha="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var mb in Ya){const Ea="o["+x.stringValue(mb)+"]";Ha+=`$=${Ya[mb].code};if(${Ea}!==$)${Ea}=$,m=1;`}mb="";Qb[Ia]||(Ya.x2&&(Ya.x?(Bb[Ia]&&(mb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),mb+="o.width\x3do.x2-o.x;"):mb+="o.x\x3do.x2-(o.width||0);"),Ya.xc&&(mb+="o.x\x3do.xc-(o.width||0)/2;"),Ya.y2&&(Ya.y?(Bb[Ia]&&(mb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),mb+="o.height\x3do.y2-o.y;"):
mb+="o.y\x3do.y2-(o.height||0);"),Ya.yc&&(mb+="o.y\x3do.yc-(o.height||0)/2;"));Ha+=mb;return Sa(Wa,["item","_"],Ha+"return m;")},codegen:{get(Wa){Wa=`[${Wa.map(x.stringValue).join("][")}]`;const Ha=Function("_",`return _${Wa};`);Ha.path=Wa;return Ha},comparator(Wa,Ha){let Ia;Wa=Function("a","b","var u, v; return "+Wa.map((Ya,mb)=>{const Ea=Ha[mb];let Ga;Ya.path?(Ga=`a${Ya.path}`,Ya=`b${Ya.path}`):((Ia=Ia||{})["f"+mb]=Ya,Ga=`this.f${mb}(a)`,Ya=`this.f${mb}(b)`);mb=-Ea;return`((u = ${Ga}) < (v = ${Ya}) || u == null) && v != null ? ${mb}
  : (u > v || v == null) && u != null ? ${Ea}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${mb}
  : v !== v && u === u ? ${Ea} : `}).join("")+"0;");return Ia?Wa.bind(Ia):Wa}}},qb=[{key:"$ref",parse:function(Wa,Ha){return Ha.get(Wa.$ref)||x.error("Operator not defined: "+Wa.$ref)}},{key:"$key",parse:function(Wa,Ha){const Ia="k:"+Wa.$key+"_"+!!Wa.$flat;return Ha.fn[Ia]||(Ha.fn[Ia]=x.key(Wa.$key,Wa.$flat,Ha.expr.codegen))}},{key:"$expr",parse:function(Wa,Ha,Ia){Wa.$params&&Ha.parseParameters(Wa.$params,Ia);Ia="e:"+Wa.$expr.code+"_"+Wa.$name;return Ha.fn[Ia]||(Ha.fn[Ia]=x.accessor(Ha.parameterExpression(Wa.$expr),
Wa.$fields,Wa.$name))}},{key:"$field",parse:function(Wa,Ha){if(!Wa.$field)return null;const Ia="f:"+Wa.$field+"_"+Wa.$name;return Ha.fn[Ia]||(Ha.fn[Ia]=x.field(Wa.$field,Wa.$name,Ha.expr.codegen))}},{key:"$encode",parse:function(Wa,Ha){Wa=Wa.$encode;const Ia={};for(const Ya in Wa){const mb=Wa[Ya];Ia[Ya]=x.accessor(Ha.encodeExpression(mb.$expr),mb.$fields);Ia[Ya].output=mb.$output}return Ia}},{key:"$compare",parse:function(Wa,Ha){const Ia="c:"+Wa.$compare+"_"+Wa.$order,Ya=x.array(Wa.$compare).map(mb=>
mb&&mb.$tupleid?ca.tupleid:mb);return Ha.fn[Ia]||(Ha.fn[Ia]=x.compare(Ya,Wa.$order,Ha.expr.codegen))}},{key:"$context",parse:function(Wa,Ha){return Ha}},{key:"$subflow",parse:function(Wa,Ha){const Ia=Wa.$subflow;return function(Ya,mb,Ea){const Ga=Ha.fork().parse(Ia);Ya=Ga.get(Ia.operators[0].id);(mb=Ga.signals.parent)&&mb.set(Ea);Ya.detachSubflow=()=>Ha.detach(Ga);return Ya}}},{key:"$tupleid",parse:function(){return ca.tupleid}}];const sb={skip:!0};fb.prototype=ub.prototype={fork(){const Wa=new ub(this);
(this.subcontext||(this.subcontext=[])).push(Wa);return Wa},detach(Wa){this.subcontext=this.subcontext.filter(Ia=>Ia!==Wa);const Ha=Object.keys(Wa.nodes);for(const Ia of Ha)Wa.nodes[Ia]._targets=null;for(const Ia of Ha)Wa.nodes[Ia].detach();Wa.nodes=null},get(Wa){return this.nodes[Wa]},set(Wa,Ha){return this.nodes[Wa]=Ha},add(Wa,Ha){const Ia=this,Ya=Ia.dataflow,mb=Wa.value;Ia.set(Wa.id,Ha);"collect"===(Wa.type+"").toLowerCase()&&mb&&(mb.$ingest?Ya.ingest(Ha,mb.$ingest,mb.$format):mb.$request?Ya.preload(Ha,
mb.$request,mb.$format):Ya.pulse(Ha,Ya.changeset().insert(mb)));Wa.root&&(Ia.root=Ha);if(Wa.parent){let Ea=Ia.get(Wa.parent.$ref);Ea?(Ya.connect(Ea,[Ha]),Ha.targets().add(Ea)):(Ia.unresolved=Ia.unresolved||[]).push(()=>{Ea=Ia.get(Wa.parent.$ref);Ya.connect(Ea,[Ha]);Ha.targets().add(Ea)})}Wa.signal&&(Ia.signals[Wa.signal]=Ha);Wa.scale&&(Ia.scales[Wa.scale]=Ha);if(Wa.data)for(const Ea in Wa.data){const Ga=Ia.data[Ea]||(Ia.data[Ea]={});Wa.data[Ea].forEach(jb=>Ga[jb]=Ha)}},resolve(){(this.unresolved||
[]).forEach(Wa=>Wa());delete this.unresolved;return this},operator(Wa,Ha){this.add(Wa,this.dataflow.add(Wa.value,Ha))},transform(Wa,Ha){this.add(Wa,this.dataflow.add(this.transforms[(Ha+"").toLowerCase()]))},stream(Wa,Ha){this.set(Wa.id,Ha)},update(Wa,Ha,Ia,Ya,mb){this.dataflow.on(Ha,Ia,Ya,mb,Wa.options)},operatorExpression(Wa){return this.expr.operator(this,Wa)},parameterExpression(Wa){return this.expr.parameter(this,Wa)},eventExpression(Wa){return this.expr.event(this,Wa)},handlerExpression(Wa){return this.expr.handler(this,
Wa)},encodeExpression(Wa){return this.expr.encode(this,Wa)},parse:function(Wa){const Ha=this,Ia=Wa.operators||[];Wa.background&&(Ha.background=Wa.background);Wa.eventConfig&&(Ha.eventConfig=Wa.eventConfig);Wa.locale&&(Ha.locale=Wa.locale);Ia.forEach(Ya=>Ha.parseOperator(Ya));Ia.forEach(Ya=>Ha.parseOperatorParameters(Ya));(Wa.streams||[]).forEach(Ya=>Ha.parseStream(Ya));(Wa.updates||[]).forEach(Ya=>Ha.parseUpdate(Ya));return Ha.resolve()},parseOperator:function(Wa){"operator"!==(Wa.type+"").toLowerCase()&&
Wa.type?this.transform(Wa,Wa.type):this.operator(Wa,Wa.update?this.operatorExpression(Wa.update):null)},parseOperatorParameters:function(Wa){if(Wa.params){const Ha=this.get(Wa.id);Ha||x.error("Invalid operator id: "+Wa.id);this.dataflow.connect(Ha,Ha.parameters(this.parseParameters(Wa.params),Wa.react,Wa.initonly))}},parseParameters:function(Wa,Ha){Ha=Ha||{};const Ia=this;for(const Ya in Wa){const mb=Wa[Ya];Ha[Ya]=x.isArray(mb)?mb.map(Ea=>Wb(Ea,Ia,Ha)):Wb(mb,Ia,Ha)}return Ha},parseStream:function(Wa){var Ha=
this,Ia=null!=Wa.filter?Ha.eventExpression(Wa.filter):void 0,Ya=null!=Wa.stream?Ha.get(Wa.stream):void 0;if(Wa.source)Ya=Ha.events(Wa.source,Wa.type,Ia);else if(Wa.merge){var mb=Wa.merge.map(Ea=>Ha.get(Ea));Ya=mb[0].merge.apply(mb[0],mb.slice(1))}Wa.between&&(mb=Wa.between.map(Ea=>Ha.get(Ea)),Ya=Ya.between(mb[0],mb[1]));Wa.filter&&(Ya=Ya.filter(Ia));null!=Wa.throttle&&(Ya=Ya.throttle(+Wa.throttle));null!=Wa.debounce&&(Ya=Ya.debounce(+Wa.debounce));null==Ya&&x.error("Invalid stream definition: "+JSON.stringify(Wa));
Wa.consume&&Ya.consume(!0);Ha.stream(Wa,Ya)},parseUpdate:function(Wa){var Ha=x.isObject(Ha=Wa.source)?Ha.$ref:Ha;Ha=this.get(Ha);var Ia=Wa.update,Ya=void 0;Ha||x.error("Source not defined: "+Wa.source);var mb=Wa.target&&Wa.target.$expr?this.eventExpression(Wa.target.$expr):this.get(Wa.target);Ia&&Ia.$expr&&(Ia.$params&&(Ya=this.parseParameters(Ia.$params)),Ia=this.handlerExpression(Ia.$expr));this.update(Wa,Ha,mb,Ia,Ya)},getState:function(Wa){var Ha=this,Ia={};if(Wa.signals){var Ya=Ia.signals={};
Object.keys(Ha.signals).forEach(Ea=>{const Ga=Ha.signals[Ea];Wa.signals(Ea,Ga)&&(Ya[Ea]=Ga.value)})}if(Wa.data){var mb=Ia.data={};Object.keys(Ha.data).forEach(Ea=>{const Ga=Ha.data[Ea];Wa.data(Ea,Ga)&&(mb[Ea]=Ga.input.value)})}Ha.subcontext&&!1!==Wa.recurse&&(Ia.subcontext=Ha.subcontext.map(Ea=>Ea.getState(Wa)));return Ia},setState:function(Wa){var Ha=this,Ia=Ha.dataflow,Ya=Wa.data,mb=Wa.signals;Object.keys(mb||{}).forEach(Ea=>{Ia.update(Ha.signals[Ea],mb[Ea],sb)});Object.keys(Ya||{}).forEach(Ea=>
{Ia.pulse(Ha.data[Ea].input,Ia.changeset().remove(x.truthy).insert(Ya[Ea]))});(Wa.subcontext||[]).forEach((Ea,Ga)=>{(Ga=Ha.subcontext[Ga])&&Ga.setState(Ea)})}};n.context=function(Wa,Ha,Ia,Ya){return new fb(Wa,Ha,Ia,Ya)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[62]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(28),Rb(38),Rb(17),Rb(60),Rb(61),Rb(47),Rb(22)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.vega))})(this,function(n,x,ca,Sa,Wb,fb,ub,Qb,Bb){function bb(Z){const sa=
Z.container();sa&&(sa.setAttribute("role","graphics-document"),sa.setAttribute("aria-roleDescription","visualization"),qb(sa,Z.description()))}function qb(Z,sa){Z&&(null==sa?Z.removeAttribute("aria-label"):Z.setAttribute("aria-label",sa))}function sb(Z){Z.add(null,sa=>{Z._background=sa.bg;Z._resize=1;return sa.bg},{bg:Z._signals.background})}function Wa(Z){const sa=Z._signals.cursor||(Z._signals.cursor=Z.add({user:"default",item:null}));Z.on(Z.events("view","mousemove"),sa,(eb,xb)=>{const Kb=(eb=
sa.value)?x.isString(eb)?eb:eb.user:"default";xb=xb.item&&xb.item.cursor||null;return eb&&Kb===eb.user&&xb==eb.item?eb:{user:Kb,item:xb}});Z.add(null,function(eb){eb=eb.cursor;let xb=this.value;x.isString(eb)||(xb=eb.item,eb=eb.user);Ha(Z,eb&&"default"!==eb?eb:xb||eb);return xb},{cursor:sa})}function Ha(Z,sa){if(Z=Z.globalCursor()?"undefined"!==typeof document&&document.body:Z.container())return null==sa?Z.style.removeProperty("cursor"):Z.style.cursor=sa}function Ia(Z,sa){Z=Z._runtime.data;x.hasOwnProperty(Z,
sa)||x.error("Unrecognized data set: "+sa);return Z[sa]}function Ya(Z,sa){ca.isChangeSet(sa)||x.error("Second argument to changes must be a changeset.");Z=Ia(this,Z);Z.modified=!0;return this.pulse(Z.input,sa)}function mb(Z){var sa=Z.padding();return Math.max(0,Z._viewWidth+sa.left+sa.right)}function Ea(Z){var sa=Z.padding();return Math.max(0,Z._viewHeight+sa.top+sa.bottom)}function Ga(Z){var sa=Z.padding();Z=Z._origin;return[sa.left+Z[0],sa.top+Z[1]]}function jb(Z){var sa=Ga(Z),eb=mb(Z),xb=Ea(Z);
Z._renderer.background(Z.background());Z._renderer.resize(eb,xb,sa);Z._handler.origin(sa);Z._resizeListeners.forEach(Kb=>{try{Kb(eb,xb)}catch(ec){Z.error(ec)}})}function Ca(Z,sa,eb){var xb=Z._renderer;xb=xb&&xb.canvas();if(xb){var Kb=Ga(Z);var ec=sa.changedTouches?sa.changedTouches[0]:sa;ec=Sa.point(ec,xb);ec[0]-=Kb[0];ec[1]-=Kb[1]}sa.dataflow=Z;sa.item=eb;sa.vega=ab(Z,eb,ec);return sa}function ab(Z,sa,eb){function xb(Ec){var gd=ec,Dc;if(Ec)for(Dc=sa;Dc;Dc=Dc.mark.group)if(Dc.mark.name===Ec){gd=Dc;
break}return gd&&gd.mark&&gd.mark.interactive?gd:{}}function Kb(Ec){if(!Ec)return eb;x.isString(Ec)&&(Ec=xb(Ec));const gd=eb.slice();for(;Ec;)gd[0]-=Ec.x||0,gd[1]-=Ec.y||0,Ec=Ec.mark&&Ec.mark.group;return gd}const ec=sa?"group"===sa.mark.marktype?sa:sa.mark.group:null;return{view:x.constant(Z),item:x.constant(sa||{}),group:xb,xy:Kb,x:Ec=>Kb(Ec)[0],y:Ec=>Kb(Ec)[1]}}function Ma(Z){Z=x.extend({defaults:{}},Z);const sa=(eb,xb)=>{xb.forEach(Kb=>{x.isArray(eb[Kb])&&(eb[Kb]=x.toSet(eb[Kb]))})};sa(Z.defaults,
["prevent","allow"]);sa(Z,["view","window","selector"]);return Z}function ja(Z,sa,eb){const xb=Z._eventConfig&&Z._eventConfig[sa];return!1===xb||x.isObject(xb)&&!xb[eb]?(Z.warn(`Blocked ${sa} ${eb} event listener.`),!1):!0}function Aa(Z){return Z.item}function Qa(Z){return Z.item.mark.source}function Xa(Z){return function(sa,eb){return eb.vega.view().changeset().encode(eb.item,Z)}}function hb(Z,sa,eb){Z=document.createElement(Z);for(const xb in sa)Z.setAttribute(xb,sa[xb]);null!=eb&&(Z.textContent=
eb);return Z}function cb(Z,sa,eb){if(sa){var xb=eb.param,Kb=eb.state;Kb||(Kb=eb.state={elements:null,active:!1,set:null,update:ec=>{ec!==Z.signal(xb.signal)&&Z.runAsync(null,()=>{Kb.source=!0;Z.signal(xb.signal,ec)})}},xb.debounce&&(Kb.update=x.debounce(xb.debounce,Kb.update)));ob(Kb,sa,xb,Z.signal(xb.signal));Kb.active||(Z.on(Z._signals[xb.signal],null,()=>{Kb.source?Kb.source=!1:Kb.set(Z.signal(xb.signal))}),Kb.active=!0);return Kb}}function ob(Z,sa,eb,xb){const Kb=hb("div",{"class":"vega-bind"}),
ec="radio"===eb.input?Kb:Kb.appendChild(hb("label"));ec.appendChild(hb("span",{"class":"vega-bind-name"},eb.name||eb.signal));sa.appendChild(Kb);sa=$a;switch(eb.input){case "checkbox":sa=Q;break;case "select":sa=H;break;case "radio":sa=T;break;case "range":sa=na}sa(Z,ec,eb,xb)}function $a(Z,sa,eb,xb){const Kb=hb("input");for(const ec in eb)"signal"!==ec&&"element"!==ec&&Kb.setAttribute("input"===ec?"type":ec,eb[ec]);Kb.setAttribute("name",eb.signal);Kb.value=xb;sa.appendChild(Kb);Kb.addEventListener("input",
()=>Z.update(Kb.value));Z.elements=[Kb];Z.set=ec=>Kb.value=ec}function Q(Z,sa,eb,xb){eb={type:"checkbox",name:eb.signal};xb&&(eb.checked=!0);const Kb=hb("input",eb);sa.appendChild(Kb);Kb.addEventListener("change",()=>Z.update(Kb.checked));Z.elements=[Kb];Z.set=ec=>Kb.checked=!!ec||null}function H(Z,sa,eb,xb){const Kb=hb("select",{name:eb.signal}),ec=eb.labels||[];eb.options.forEach((Ec,gd)=>{const Dc={value:Ec};O(Ec,xb)&&(Dc.selected=!0);Kb.appendChild(hb("option",Dc,(ec[gd]||Ec)+""))});sa.appendChild(Kb);
Kb.addEventListener("change",()=>{Z.update(eb.options[Kb.selectedIndex])});Z.elements=[Kb];Z.set=Ec=>{for(let gd=0,Dc=eb.options.length;gd<Dc;++gd)if(O(eb.options[gd],Ec)){Kb.selectedIndex=gd;break}}}function T(Z,sa,eb,xb){const Kb=hb("span",{"class":"vega-bind-radio"}),ec=eb.labels||[];sa.appendChild(Kb);Z.elements=eb.options.map((Ec,gd)=>{var Dc={type:"radio",name:eb.signal,value:Ec};O(Ec,xb)&&(Dc.checked=!0);Dc=hb("input",Dc);Dc.addEventListener("change",()=>Z.update(Ec));gd=hb("label",{},(ec[gd]||
Ec)+"");gd.prepend(Dc);Kb.appendChild(gd);return Dc});Z.set=Ec=>{const gd=Z.elements,Dc=gd.length;for(let Sc=0;Sc<Dc;++Sc)O(gd[Sc].value,Ec)&&(gd[Sc].checked=!0)}}function na(Z,sa,eb,xb){xb=void 0!==xb?xb:(+eb.max+ +eb.min)/2;const Kb=null!=eb.max?eb.max:Math.max(100,+xb)||100,ec=eb.min||Math.min(0,Kb,+xb)||0,Ec=eb.step||Wb.tickStep(ec,Kb,100),gd=hb("input",{type:"range",name:eb.signal,min:ec,max:Kb,step:Ec});gd.value=xb;const Dc=hb("span",{},+xb);sa.appendChild(gd);sa.appendChild(Dc);sa=()=>{Dc.textContent=
gd.value;Z.update(+gd.value)};gd.addEventListener("input",sa);gd.addEventListener("change",sa);Z.elements=[gd];Z.set=Sc=>{gd.value=Sc;Dc.textContent=Sc}}function O(Z,sa){return Z===sa||Z+""===sa+""}function W(Z,sa,eb,xb,Kb,ec){sa=sa||new xb(Z.loader());return sa.initialize(eb,mb(Z),Ea(Z),Ga(Z),Kb,ec).background(Z.background())}function ea(Z,sa){return sa?function(){try{sa.apply(this,arguments)}catch(eb){Z.error(eb)}}:null}function pa(Z,sa,eb,xb){const Kb=(new xb(Z.loader(),ea(Z,Z.tooltip()))).scene(Z.scenegraph().root).initialize(eb,
Ga(Z),Z);sa&&sa.handlers().forEach(ec=>{Kb.on(ec.type,ec.handler)});return Kb}function Ua(Z,sa){if("string"===typeof sa)if("undefined"!==typeof document){if(sa=document.querySelector(sa),!sa)return Z.error("Signal bind element not found: "+sa),null}else return Z.error("DOM document instance not found."),null;if(sa)try{sa.innerHTML=""}catch(eb){sa=null,Z.error(eb)}return sa}function db(Z){x.isObject(Z)?Z={top:+Z.top||0,bottom:+Z.bottom||0,left:+Z.left||0,right:+Z.right||0}:(Z=+Z||0,Z={top:Z,bottom:Z,
left:Z,right:Z});return Z}function U(Z,sa,eb,xb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Kb=Sa.renderModule(sa);(Kb=Kb&&Kb.headless)||x.error("Unrecognized renderer type: "+sa);yield Z.runAsync();return W(Z,null,null,Kb,eb,xb).renderAsync(Z._scenegraph.root)})}function va(Z,sa,eb){return ub.context(Z,ca.transforms,fb.functionContext,eb).parse(sa)}function xa(Z,sa){var eb=Z.autosize();Z=Z.padding();return sa-(eb&&"padding"===eb.contains?Z.left+Z.right:0)}function ma(Z,sa){var eb=
Z.autosize();Z=Z.padding();return sa-(eb&&"padding"===eb.contains?Z.top+Z.bottom:0)}function R(Z){function sa(){Z._autosize=Z._resize=1}var eb=Z._signals,xb=eb.width,Kb=eb.height;eb=eb.padding;Z._resizeWidth=Z.add(null,Ec=>{Z._width=Ec.size;Z._viewWidth=xa(Z,Ec.size);sa()},{size:xb});Z._resizeHeight=Z.add(null,Ec=>{Z._height=Ec.size;Z._viewHeight=ma(Z,Ec.size);sa()},{size:Kb});const ec=Z.add(null,sa,{pad:eb});Z._resizeWidth.rank=xb.rank+1;Z._resizeHeight.rank=Kb.rank+1;ec.rank=eb.rank+1}function v(Z,
sa){return sa.modified&&x.isArray(sa.input.value)&&Z.indexOf("_:vega:_")}function w(Z,sa){return!("parent"===Z||sa instanceof ca.transforms.proxy)}function p(Z,sa,eb,xb){(Z=Z.element())&&Z.setAttribute("title",r(xb))}function r(Z){return null==Z?"":x.isArray(Z)?"["+Z.map(D).join(", ")+"]":x.isObject(Z)&&!x.isDate(Z)?C(Z):Z+""}function C(Z){return Object.keys(Z).map(sa=>{const eb=Z[sa];return sa+": "+(x.isArray(eb)?"["+eb.map(D).join(", ")+"]":D(eb))}).join("\n")}function D(Z){return x.isArray(Z)?
"[…]":x.isObject(Z)&&!x.isDate(Z)?"{…}":Z}function G(Z,sa){sa=sa||{};ca.Dataflow.call(this);sa.loader&&this.loader(sa.loader);sa.logger&&this.logger(sa.logger);null!=sa.logLevel&&this.logLevel(sa.logLevel);if(sa.locale||Z.locale){var eb=x.extend({},Z.locale,sa.locale);this.locale(Bb.locale(eb.number,eb.time))}this._elBind=this._el=null;this._renderType=sa.renderer||Sa.RenderType.Canvas;this._scenegraph=new Sa.Scenegraph;eb=this._scenegraph.root;this._renderer=null;this._tooltip=sa.tooltip||p;this._redraw=
!0;this._handler=(new Sa.CanvasHandler).scene(eb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=Ma(Z.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const xb=va(this,Z,sa.expr);this._runtime=xb;this._signals=xb.signals;this._bind=(Z.bindings||[]).map(Kb=>({state:null,param:x.extend({},Kb)}));xb.root&&xb.root.set(eb);eb.source=xb.data.root.input;this.pulse(xb.data.root.input,this.changeset().insert(eb.items));
this._width=this.width();this._height=this.height();this._viewWidth=xa(this,this._width);this._viewHeight=ma(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;R(this);sb(this);Wa(this);this.description(Z.description);sa.hover&&this.hover();sa.container&&this.initialize(sa.container,sa.bind)}function B(Z,sa){return x.hasOwnProperty(Z._signals,sa)?Z._signals[sa]:x.error("Unrecognized signal name: "+x.stringValue(sa))}function fa(Z,sa){Z=(Z._targets||[]).filter(eb=>eb._update&&eb._update.handler===
sa);return Z.length?Z[0]:null}function wa(Z,sa,eb,xb){let Kb=fa(eb,xb);Kb||(Kb=ea(Z,()=>xb(sa,eb.value)),Kb.handler=xb,Z.on(eb,null,Kb));return Z}function la(Z,sa,eb){(eb=fa(sa,eb))&&sa._targets.remove(eb);return Z}const Ta={trap:!1};var Ja={skip:!0};x.inherits(G,ca.Dataflow,{evaluate(Z,sa,eb){const xb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ca.Dataflow.prototype.evaluate.call(xb,Z,sa);if(xb._redraw||xb._resize)try{xb._renderer&&(xb._resize&&(xb._resize=0,jb(xb)),
yield xb._renderer.renderAsync(xb._scenegraph.root)),xb._redraw=!1}catch(Kb){xb.error(Kb)}eb&&ca.asyncCallback(xb,eb);return xb})},dirty(Z){this._redraw=!0;this._renderer&&this._renderer.dirty(Z)},description(Z){if(arguments.length){const sa=null!=Z?Z+"":null;sa!==this._desc&&qb(this._el,this._desc=sa);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Z,sa,eb){const xb=B(this,Z);return 1===arguments.length?
xb.value:this.update(xb,sa,eb)},width(Z){return arguments.length?this.signal("width",Z):this.signal("width")},height(Z){return arguments.length?this.signal("height",Z):this.signal("height")},padding(Z){return arguments.length?this.signal("padding",db(Z)):db(this.signal("padding"))},autosize(Z){return arguments.length?this.signal("autosize",Z):this.signal("autosize")},background(Z){return arguments.length?this.signal("background",Z):this.signal("background")},renderer(Z){if(!arguments.length)return this._renderType;
Sa.renderModule(Z)||x.error("Unrecognized renderer type: "+Z);Z!==this._renderType&&(this._renderType=Z,this._resetRenderer());return this},tooltip(Z){if(!arguments.length)return this._tooltip;Z!==this._tooltip&&(this._tooltip=Z,this._resetRenderer());return this},loader(Z){if(!arguments.length)return this._loader;Z!==this._loader&&(ca.Dataflow.prototype.loader.call(this,Z),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(B(this,"autosize"))},_resetRenderer(){this._renderer&&
(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Z,sa,eb,xb,Kb,ec){this.runAfter(Ec=>{let gd=0;Ec._autosize=0;Ec.width()!==eb&&(gd=1,Ec.signal("width",eb,Ja),Ec._resizeWidth.skip(!0));Ec.height()!==xb&&(gd=1,Ec.signal("height",xb,Ja),Ec._resizeHeight.skip(!0));Ec._viewWidth!==Z&&(Ec._resize=1,Ec._viewWidth=Z);Ec._viewHeight!==sa&&(Ec._resize=1,Ec._viewHeight=sa);if(Ec._origin[0]!==Kb[0]||Ec._origin[1]!==Kb[1])Ec._resize=1,Ec._origin=Kb;gd&&Ec.run("enter");ec&&Ec.runAfter(Dc=>
Dc.resize())},!1,1)},addEventListener(Z,sa,eb){let xb=sa;eb&&!1===eb.trap||(xb=ea(this,sa),xb.raw=sa);this._handler.on(Z,xb);return this},removeEventListener(Z,sa){for(var eb=this._handler.handlers(Z),xb=eb.length,Kb,ec;0<=--xb;)if(ec=eb[xb].type,Kb=eb[xb].handler,Z===ec&&(sa===Kb||sa===Kb.raw)){this._handler.off(ec,Kb);break}return this},addResizeListener(Z){const sa=this._resizeListeners;0>sa.indexOf(Z)&&sa.push(Z);return this},removeResizeListener(Z){var sa=this._resizeListeners;Z=sa.indexOf(Z);
0<=Z&&sa.splice(Z,1);return this},addSignalListener(Z,sa){return wa(this,Z,B(this,Z),sa)},removeSignalListener(Z,sa){return la(this,B(this,Z),sa)},addDataListener(Z,sa){return wa(this,Z,Ia(this,Z).values,sa)},removeDataListener(Z,sa){return la(this,Ia(this,Z).values,sa)},globalCursor(Z){if(arguments.length){if(this._globalCursor!==!!Z){const sa=Ha(this,null);this._globalCursor=!!Z;sa&&Ha(this,sa)}return this}return this._globalCursor},preventDefault(Z){return arguments.length?(this._preventDefault=
Z,this):this._preventDefault},timer:function(Z,sa){this._timers.push(Qb.interval(function(eb){Z({timestamp:Date.now(),elapsed:eb})},sa))},events:function(Z,sa,eb){var xb=this,Kb=new ca.EventStream(eb);eb=function(Dc,Sc){xb.runAsync(null,()=>{var Ra;if(Ra="view"===Z){var nc=xb._eventConfig.defaults;Ra=nc.prevent;nc=nc.allow;Ra=!1===Ra||!0===nc?!1:!0===Ra||!1===nc?!0:Ra?Ra[sa]:nc?!nc[sa]:xb.preventDefault()}Ra&&Dc.preventDefault();Kb.receive(Ca(xb,Dc,Sc))})};var ec;if("timer"===Z)ja(xb,"timer",sa)&&
xb.timer(eb,sa);else if("view"===Z)ja(xb,"view",sa)&&xb.addEventListener(sa,eb,Ta);else if("window"===Z?ja(xb,"window",sa)&&"undefined"!==typeof window&&(ec=[window]):"undefined"!==typeof document&&ja(xb,"selector",sa)&&(ec=document.querySelectorAll(Z)),ec){for(var Ec=0,gd=ec.length;Ec<gd;++Ec)ec[Ec].addEventListener(sa,eb);xb._eventListeners.push({type:sa,sources:ec,handler:eb})}else xb.warn("Can not resolve event source: "+Z);return Kb},finalize:function(){var Z=this._tooltip,sa=this._timers,eb=
this._eventListeners,xb;for(xb=sa.length;0<=--xb;)sa[xb].stop();for(xb=eb.length;0<=--xb;){var Kb=eb[xb];for(sa=Kb.sources.length;0<=--sa;)Kb.sources[sa].removeEventListener(Kb.type,Kb.handler)}Z&&Z.call(this,this._handler,null,null,null);return this},hover:function(Z,sa){Z=[Z||"hover"];sa=[sa||"update",Z[0]];this.on(this.events("view","mouseover",Aa),Qa,Xa(Z));this.on(this.events("view","mouseout",Aa),Qa,Xa(sa));return this},data:function(Z,sa){return 2>arguments.length?Ia(this,Z).values.value:Ya.call(this,
Z,ca.changeset().remove(x.truthy).insert(sa))},change:Ya,insert:function(Z,sa){return Ya.call(this,Z,ca.changeset().insert(sa))},remove:function(Z,sa){return Ya.call(this,Z,ca.changeset().remove(sa))},scale:function(Z){var sa=this._runtime.scales;x.hasOwnProperty(sa,Z)||x.error("Unrecognized scale or projection: "+Z);return sa[Z].value},initialize:function(Z,sa){const eb=this;var xb=eb._renderType;const Kb=eb._eventConfig.bind;var ec=Sa.renderModule(xb);Z=eb._el=Z?Ua(eb,Z):null;bb(eb);ec||eb.error("Unrecognized renderer type: "+
xb);xb=ec.handler||Sa.CanvasHandler;ec=Z?ec.renderer:ec.headless;eb._renderer=ec?W(eb,eb._renderer,Z,ec):null;eb._handler=pa(eb,eb._handler,Z,xb);eb._redraw=!0;Z&&"none"!==Kb&&(sa=sa?eb._elBind=Ua(eb,sa):Z.appendChild(hb("form",{"class":"vega-bindings"})),eb._bind.forEach(Ec=>{Ec.param.element&&"container"!==Kb&&(Ec.element=Ua(eb,Ec.param.element))}),eb._bind.forEach(Ec=>{cb(eb,Ec.element||sa,Ec)}));return eb},toImageURL:function(Z,sa){const eb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Z!==
Sa.RenderType.Canvas&&Z!==Sa.RenderType.SVG&&Z!==Sa.RenderType.PNG&&x.error("Unrecognized image type: "+Z);var xb=yield U(eb,Z,sa);Z===Sa.RenderType.SVG?(xb=xb.svg(),xb=new Blob([xb],{type:"image/svg+xml"}),xb=window.URL.createObjectURL(xb)):xb=xb.canvas().toDataURL("image/png");return xb})},toCanvas:function(Z,sa){const eb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield U(eb,Sa.RenderType.Canvas,Z,sa)).canvas()})},toSVG:function(Z){const sa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield U(sa,
Sa.RenderType.SVG,Z)).svg()})},getState:function(Z){return this._runtime.getState(Z||{data:v,signals:w,recurse:!0})},setState:function(Z){this.runAsync(null,sa=>{sa._trigger=!1;sa._runtime.setState(Z)},sa=>{sa._trigger=!0});return this}});n.View=G;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[63]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={}))})(this,function(n){function x(bb,qb,sb,Wa,Ha){const Ia=bb.length;let Ya=0,mb;for(;qb<Ia;++qb)if(mb=bb[qb],Ya||mb!==sb)Ha&&0<=Ha.indexOf(mb)?--Ya:Wa&&0<=Wa.indexOf(mb)&&++Ya;else break;return qb}function ca(bb){const qb=[],sb=bb.length;let Wa=0,Ha=0;for(;Ha<sb;)Ha=
x(bb,Ha,",","[{","]}"),qb.push(bb.substring(Wa,Ha).trim()),Wa=++Ha;if(0===qb.length)throw"Empty event selector: "+bb;return qb}function Sa(bb){if("["===bb[0]){var qb=bb;var sb=qb.length;bb=x(qb,1,"]","[","]");if(bb===sb)throw"Empty between selector: "+qb;sb=ca(qb.substring(1,bb));if(2!==sb.length)throw"Between selector must have two elements: "+qb;qb=qb.slice(bb+1).trim();if("\x3e"!==qb[0])throw"Expected '\x3e' after between selector: "+qb;sb=sb.map(Sa);qb=Sa(qb.slice(1).trim());qb.between?qb={between:sb,
stream:qb}:qb.between=sb}else{{sb={source:Qb};const Wa=[];let Ha=[0,0],Ia=0,Ya=0,mb=bb.length,Ea=0,Ga;if("}"===bb[mb-1]){Ea=bb.lastIndexOf("{");if(0<=Ea){try{Ha=Wb(bb.substring(Ea+1,mb-1))}catch(jb){throw"Invalid throttle specification: "+bb;}bb=bb.slice(0,Ea).trim();mb=bb.length}else throw"Unmatched right brace: "+bb;Ea=0}if(!mb)throw bb;"@"===bb[0]&&(Ia=++Ea);Ga=x(bb,Ea,":");Ga<mb&&(Wa.push(bb.substring(Ya,Ga).trim()),Ya=Ea=++Ga);Ea=x(bb,Ea,"[");if(Ea===mb)Wa.push(bb.substring(Ya,mb).trim());else if(Wa.push(bb.substring(Ya,
Ea).trim()),qb=[],Ya=++Ea,Ya===mb)throw"Unmatched left bracket: "+bb;for(;Ea<mb;){Ea=x(bb,Ea,"]");if(Ea===mb)throw"Unmatched left bracket: "+bb;qb.push(bb.substring(Ya,Ea).trim());if(Ea<mb-1&&"["!==bb[++Ea])throw"Expected left bracket: "+bb;Ya=++Ea}if(!(mb=Wa.length)||fb.test(Wa[mb-1]))throw"Invalid event selector: "+bb;1<mb?(sb.type=Wa[1],Ia?sb.markname=Wa[0].slice(1):Bb[Wa[0]]?sb.marktype=Wa[0]:sb.source=Wa[0]):sb.type=Wa[0];"!"===sb.type.slice(-1)&&(sb.consume=!0,sb.type=sb.type.slice(0,-1));null!=
qb&&(sb.filter=qb);Ha[0]&&(sb.throttle=Ha[0]);Ha[1]&&(sb.debounce=Ha[1]);qb=sb}}return qb}function Wb(bb){const qb=bb.split(",");if(!bb.length||2<qb.length)throw bb;return qb.map(sb=>{sb=+sb;if(sb!==sb)throw bb;return sb})}const fb=/[[\]{}]/,ub={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Qb,Bb;n.selector=function(bb,qb,sb){Qb=qb||"view";Bb=sb||ub;return ca(bb.trim()).map(Sa)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[64]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb,Rb(16),Rb(60),Rb(63),Rb(37),Rb(28)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,x,ca,Sa,Wb,fb){function ub(J){return x.isObject(J)?J:{type:J||"pad"}}function Qb(J){x.isObject(J)?
J=J.signal?J:{top:+J.top||0,bottom:+J.bottom||0,left:+J.left||0,right:+J.right||0}:(J=+J||0,J={top:J,bottom:J,left:J,right:J});return J}function Bb(J,da,kb,Pb){return null!=kb?(x.isObject(kb)&&!x.isArray(kb)||x.isArray(kb)&&kb.length&&x.isObject(kb[0])?J.update[da]=kb:J[Pb||"enter"][da]={value:kb},1):0}function bb(J,da,kb){for(const Pb in da)Bb(J,Pb,da[Pb]);for(const Pb in kb)Bb(J,Pb,kb[Pb],"update")}function qb(J,da,kb){for(const Pb in da)kb&&x.hasOwnProperty(kb,Pb)||(J[Pb]=x.extend(J[Pb]||{},da[Pb]));
return J}function sb(J,da){return da&&(da.enter&&da.enter[J]||da.update&&da.update[J])}function Wa(J,da,kb,Pb,Mb){const ac={},ic={};let Qc,Kc;Kc="lineBreak";"text"!==da||null==Mb[Kc]||sb(Kc,J)||Ha(ac,Kc,Mb[Kc]);if("legend"==kb||String(kb).startsWith("axis"))kb=null;kb="frame"===kb?Mb.group:"mark"===kb?x.extend({},Mb.mark,Mb[da]):null;for(Kc in kb)(da=sb(Kc,J)||("fill"===Kc||"stroke"===Kc)&&(sb("fill",J)||sb("stroke",J)))||Ha(ac,Kc,kb[Kc]);x.array(Pb).forEach(ad=>{ad=Mb.style&&Mb.style[ad];for(const ud in ad)sb(ud,
J)||Ha(ac,ud,ad[ud])});J=x.extend({},J);for(Kc in ac)kb=ac[Kc],kb.signal?(Qc=Qc||{})[Kc]=kb:ic[Kc]=kb;J.enter=x.extend(ic,J.enter);Qc&&(J.update=x.extend(Qc,J.update));return J}function Ha(J,da,kb){J[da]=kb&&kb.signal?{signal:kb.signal}:{value:kb}}function Ia(J){if(null!=J.gradient)return Ya(J);if(J.signal)var da=`(${J.signal})`;else J.color?(da=J.color,da=da.c?Yd("hcl",da.h,da.c,da.l):da.h||da.s?Yd("hsl",da.h,da.s,da.l):da.l||da.a?Yd("lab",da.l,da.a,da.b):da.r||da.g||da.b?Yd("rgb",da.r,da.g,da.b):
null):da=null!=J.field?Ea(J.field):void 0!==J.value?x.stringValue(J.value):void 0;if(null!=J.scale){{const kb=Bf(J.scale);null!=J.range?da=`lerp(_range(${kb}), ${+J.range})`:(void 0!==da&&(da=`_scale(${kb}, ${da})`),J.band&&(da=(da?da+"+":"")+`_bandwidth(${kb})`+(1===+J.band?"":"*"+mb(J.band)),J.extra&&(da=`(datum.extra ? _scale(${kb}, datum.extra.value) : ${da})`)),null==da&&(da="0"))}}void 0===da&&(da=null);null!=J.exponent&&(da=`pow(${da},${mb(J.exponent)})`);null!=J.mult&&(da+=`*${mb(J.mult)}`);
null!=J.offset&&(da+=`+${mb(J.offset)}`);J.round&&(da=`round(${da})`);return da}function Ya(J){const da=[J.start,J.stop,J.count].map(kb=>null==kb?null:x.stringValue(kb));for(;da.length&&null==x.peek(da);)da.pop();da.unshift(Bf(J.gradient));return`gradient(${da.join(",")})`}function mb(J){return x.isObject(J)?"("+Ia(J)+")":J}function Ea(J){return Ga(x.isObject(J)?J:{datum:J})}function Ga(J){let da;if(J.signal){da="datum";var kb=J.signal}else if(J.group||J.parent){kb=Math.max(1,J.level||1);for(da="item";0<
kb--;)da+=".mark.group";J.parent?(kb=J.parent,da+=".datum"):kb=J.group}else J.datum?(da="datum",kb=J.datum):x.error("Invalid field reference: "+x.stringValue(J));J.signal||(kb=x.isString(kb)?x.splitAccessPath(kb).map(x.stringValue).join("]["):Ga(kb));return da+"["+kb+"]"}function jb(J){let da="";J.forEach(kb=>{const Pb=Ia(kb);da+=kb.test?`(${kb.test})?${Pb}:`:Pb});":"===x.peek(da)&&(da+="null");return da}function Ca(J,da,kb,Pb,Mb,ac){const ic={};ac=ac||{};ac.encoders={$encode:ic};J=Wa(J,da,kb,Pb,
Mb.config);for(const ud in J){{kb=J[ud];Pb=da;var Qc=ac,Kc=Mb;const Nd={},Td={};for(const Bd in kb)if(null!=kb[Bd]){var ad=kb[Bd];ad=x.isArray(ad)?jb(ad):Ia(ad);Nd[Bd]=ab(ad,Kc,Qc,Td)}kb={$expr:{marktype:Pb,channels:Nd},$fields:Object.keys(Td),$output:Object.keys(kb)}}ic[ud]=kb}return ac}function ab(J,da,kb,Pb){J=ca.parseExpression(J,da);J.$fields.forEach(Mb=>Pb[Mb]=1);x.extend(kb,J.$params);return J.$expr}function Ma(J,da){x.error(J+' for "outer" push: '+x.stringValue(da))}function ja(J,da){const kb=
J.name;if("outer"===J.push)da.signals[kb]||Ma("No prior signal definition",kb),Ae.forEach(Pb=>{void 0!==J[Pb]&&Ma("Invalid property ",Pb)});else{const Pb=da.addSignal(kb,J.value);!1===J.react&&(Pb.react=!1);J.bind&&da.addBinding(kb,J.bind)}}function Aa(J,da,kb,Pb){this.id=-1;this.type=J;this.value=da;this.params=kb;Pb&&(this.parent=Pb)}function Qa(J){const da={$ref:J.id};0>J.id&&(J.refs=J.refs||[]).push(da);return da}function Xa(J,da){return da?{$field:J,$name:da}:{$field:J}}function hb(J,da){J={$key:J};
da&&(J.$flat=!0);return J}function cb(J,da){return(J&&J.signal?"$"+J.signal:J||"")+(J&&da?"_":"")+(da&&da.signal?"$"+da.signal:da||"")}function ob(J){return J&&J.signal}function $a(J){if(ob(J))return!0;if(x.isObject(J))for(const da in J)if($a(J[da]))return!0;return!1}function Q(J,da){return null!=J?J:da}function H(J){return J&&J.signal||J}function T(J,da){return(J.merge?O:J.stream?W:J.type?ea:x.error("Invalid stream specification: "+x.stringValue(J)))(J,da)}function na(J){return"scope"===J?"view":
J||"view"}function O(J,da){const kb=J.merge.map(Pb=>T(Pb,da));J=pa({merge:kb},J,da);return da.addStream(J).id}function W(J,da){const kb=T(J.stream,da);J=pa({stream:kb},J,da);return da.addStream(J).id}function ea(J,da){let kb;"timer"===J.type?(kb=da.event("timer",J.throttle),J={between:J.between,filter:J.filter}):kb=da.event(na(J.source),J.type);J=pa({stream:kb},J,da);return 1===Object.keys(J).length?kb:da.addStream(J).id}function pa(J,da,kb){let Pb=da.between;Pb&&(2!==Pb.length&&x.error('Stream "between" parameter must have 2 entries: '+
x.stringValue(da)),J.between=[T(Pb[0],kb),T(Pb[1],kb)]);Pb=da.filter?[].concat(da.filter):[];(da.marktype||da.markname||da.markrole)&&Pb.push(Ua(da.marktype,da.markname,da.markrole));"scope"===da.source&&Pb.push("inScope(event.item)");Pb.length&&(J.filter=ca.parseExpression("("+Pb.join(")\x26\x26(")+")",kb).$expr);null!=(Pb=da.throttle)&&(J.throttle=+Pb);null!=(Pb=da.debounce)&&(J.debounce=+Pb);da.consume&&(J.consume=!0);return J}function Ua(J,da,kb){return"event.item"+(J&&"*"!==J?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+
J+"'":"")+(kb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+kb+"'":"")+(da?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+da+"'":"")}function db(J,da,kb){const Pb=J.encode,Mb={target:kb};kb=J.events;let ac=J.update,ic=[];kb||x.error("Signal update missing events specification.");x.isString(kb)&&(kb=Sa.selector(kb,da.isSubscope()?"scope":"view"));kb=x.array(kb).filter(Qc=>Qc.signal||Qc.scale?(ic.push(Qc),0):1);1<ic.length&&(ic=[va(ic)]);kb.length&&ic.push(1<kb.length?{merge:kb}:kb[0]);null!=Pb&&(ac&&x.error("Signal encode and update are mutually exclusive."),
ac="encode(item(),"+x.stringValue(Pb)+")");Mb.update=x.isString(ac)?ca.parseExpression(ac,da):null!=ac.expr?ca.parseExpression(ac.expr,da):null!=ac.value?ac.value:null!=ac.signal?{$expr:re,$params:{$value:da.signalRef(ac.signal)}}:x.error("Invalid signal update specification.");J.force&&(Mb.options={force:!0});ic.forEach(Qc=>da.addUpdate(x.extend(U(Qc,da),Mb)))}function U(J,da){return{source:J.signal?da.signalRef(J.signal):J.scale?da.scaleRef(J.scale):T(J,da)}}function va(J){return{signal:"["+J.map(da=>
da.scale?'scale("'+da.scale+'")':da.signal)+"]"}}function xa(J,da){const kb=da.getSignal(J.name);let Pb=J.update;J.init&&(Pb?x.error("Signals can not include both init and update expressions."):(Pb=J.init,kb.initonly=!0));Pb&&(Pb=ca.parseExpression(Pb,da),kb.update=Pb.$expr,kb.params=Pb.$params);J.on&&J.on.forEach(Mb=>db(Mb,da,kb.id))}function ma(J,da){return x.isObject(J)?J.signal?da.signalRef(J.signal):x.error("Unsupported object: "+x.stringValue(J)):J}function R(J,da){return J.signal?da.signalRef(J.signal):
J.map(kb=>ma(kb,da))}function v(J){x.error("Can not find data set: "+x.stringValue(J))}function w(J,da,kb){if(J)return J.signal?kb.signalRef(J.signal):(x.isArray(J)?p:J.fields?C:r)(J,da,kb);null==da.domainMin&&null==da.domainMax||x.error("No scale domain defined for domainMin/domainMax to override.")}function p(J,da,kb){return J.map(Pb=>ma(Pb,kb))}function r(J,da,kb){const Pb=kb.getData(J.data);Pb||v(J.data);return Wb.isDiscrete(da.type)?Pb.valuesRef(kb,J.field,G(J.sort,!1)):Wb.isQuantile(da.type)?
Pb.domainRef(kb,J.field):Pb.extentRef(kb,J.field)}function C(J,da,kb){const Pb=J.data,Mb=J.fields.reduce((ac,ic)=>{if(x.isString(ic))ic={data:Pb,field:ic};else if(x.isArray(ic)||ic.signal){{var Qc=ic;ic="_:vega:_"+id++;const Kc=De({});x.isArray(Qc)?Kc.value={$ingest:Qc}:Qc.signal&&(Qc="setdata("+x.stringValue(ic)+","+Qc.signal+")",Kc.params.input=kb.signalRef(Qc));kb.addDataPipeline(ic,[Kc,lc({})]);ic={data:ic,field:"data"}}}ac.push(ic);return ac},[]);return(Wb.isDiscrete(da.type)?D:Wb.isQuantile(da.type)?
B:fa)(J,kb,Mb)}function D(J,da,kb){const Pb=G(J.sort,!0);J=kb.map(ac=>{const ic=da.getData(ac.data);ic||v(ac.data);return ic.countsRef(da,ac.field,Pb)});const Mb={groupby:cf,pulse:J};Pb&&(J=Pb.op||"count",kb=Pb.field?cb(J,Pb.field):"count",Mb.ops=[fd[J]],Mb.fields=[da.fieldRef(kb)],Mb.as=[kb]);J=da.add(Ld(Mb));J=da.add(De({pulse:Qa(J)}));kb=da.add(Fc({field:cf,sort:da.sortRef(Pb),pulse:Qa(J)}));return Qa(kb)}function G(J,da){J&&(J.field||J.op?J.field||"count"===J.op?da&&J.field&&J.op&&!fd[J.op]&&
x.error("Multiple domain scales can not be sorted using "+J.op):x.error("No field provided for sort aggregate op: "+J.op):x.isObject(J)?J.field="key":J={field:"key"});return J}function B(J,da,kb){J=kb.map(Pb=>{const Mb=da.getData(Pb.data);Mb||v(Pb.data);return Mb.domainRef(da,Pb.field)});return Qa(da.add(kf({values:J})))}function fa(J,da,kb){J=kb.map(Pb=>{const Mb=da.getData(Pb.data);Mb||v(Pb.data);return Mb.extentRef(da,Pb.field)});return Qa(da.add(Cf({extents:J})))}function wa(J,da,kb){const Pb=
da.config.range;let Mb=J.range;if(Mb.signal)return da.signalRef(Mb.signal);if(x.isString(Mb)){if(Pb&&x.hasOwnProperty(Pb,Mb))return J=x.extend({},J,{range:Pb[Mb]}),wa(J,da,kb);"width"===Mb?Mb=[0,{signal:"width"}]:"height"===Mb?Mb=Wb.isDiscrete(J.type)?[0,{signal:"height"}]:[{signal:"height"},0]:x.error("Unrecognized scale range value: "+x.stringValue(Mb))}else{if(Mb.scheme){kb.scheme=x.isArray(Mb.scheme)?R(Mb.scheme,da):ma(Mb.scheme,da);Mb.extent&&(kb.schemeExtent=R(Mb.extent,da));Mb.count&&(kb.schemeCount=
ma(Mb.count,da));return}if(Mb.step){kb.rangeStep=ma(Mb.step,da);return}if(Wb.isDiscrete(J.type)&&!x.isArray(Mb))return w(Mb,J,da);x.isArray(Mb)||x.error("Unsupported range type: "+x.stringValue(Mb))}return Mb.map(ac=>(x.isArray(ac)?R:ma)(ac,da))}function la(J,da,kb){return x.isArray(J)?J.map(Pb=>la(Pb,da,kb)):x.isObject(J)?J.signal?kb.signalRef(J.signal):"fit"===da?J:x.error("Unsupported parameter object: "+x.stringValue(J)):J}function Ta(J){J.type="group";J.interactive=J.interactive||!1;return J}
function Ja(J,da){const kb=(Pb,Mb)=>Q(J[Pb],Q(da[Pb],Mb));kb.isVertical=Pb=>"vertical"===Q(J.direction,da.direction||(Pb?da.symbolDirection:da.gradientDirection));kb.gradientLength=()=>Q(J.gradientLength,da.gradientLength||da.gradientWidth);kb.gradientThickness=()=>Q(J.gradientThickness,da.gradientThickness||da.gradientHeight);kb.entryColumns=()=>Q(J.columns,Q(da.columns,+kb.isVertical(!0)));return kb}function Z(J,da){return(J=da&&(da.update&&da.update[J]||da.enter&&da.enter[J]))&&J.signal?J:J?J.value:
null}function sa(J,da,kb){return`item.anchor === '${"start"}' ? ${J} : item.anchor === '${"end"}' ? ${da} : ${kb}`}function eb(J,da){return da?J?x.isObject(J)?Object.assign({},J,{offset:eb(J.offset,da)}):{value:J,offset:da}:da:J}function xb(J,da){da?(J.name=da.name,J.style=da.style||J.style,J.interactive=!!da.interactive,J.encode=qb(J.encode,da,xd)):J.interactive=!1;return J}function Kb(J,da,kb,Pb){J=Ja(J,kb);var Mb=J.isVertical();kb=J.gradientThickness();const ac=J.gradientLength();let ic,Qc,Kc;
Mb?(Mb=[0,1],Qc=[0,0],Kc=kb,kb=ac):(Mb=[0,0],Qc=[1,0],Kc=ac);da={enter:ic={opacity:zd,x:zd,y:zd,width:Oe(Kc),height:Oe(kb)},update:x.extend({},ic,{opacity:le,fill:{gradient:da,start:Mb,stop:Qc}}),exit:{opacity:zd}};bb(da,{stroke:J("gradientStrokeColor"),strokeWidth:J("gradientStrokeWidth")},{opacity:J("gradientOpacity")});return xb({type:"rect",role:"legend-gradient",encode:da},Pb)}function ec(J,da,kb,Pb,Mb){J=Ja(J,kb);const ac=J.isVertical();kb=J.gradientThickness();const ic=J.gradientLength();var Qc;
let Kc,ad,ud,Nd="";ac?(Qc="y",ad="y2",Kc="x",ud="width",Nd="1-"):(Qc="x",ad="x2",Kc="y",ud="height");da={opacity:zd,fill:{scale:da,field:"value"}};da[Qc]={signal:Nd+"datum.perc",mult:ic};da[Kc]=zd;da[ad]={signal:Nd+"datum.perc2",mult:ic};da[ud]=Oe(kb);Qc={enter:da,update:x.extend({},da,{opacity:le}),exit:{opacity:zd}};bb(Qc,{stroke:J("gradientStrokeColor"),strokeWidth:J("gradientStrokeWidth")},{opacity:J("gradientOpacity")});return xb({type:"rect",role:"legend-band",key:"value",from:Mb,encode:Qc},
Pb)}function Ec(J,da,kb,Pb){const Mb=Ja(J,da);var ac=Mb.isVertical();const ic=Oe(Mb.gradientThickness()),Qc=Mb.gradientLength();let Kc=Mb("labelOverlap"),ad,ud,Nd,Td="";const Bd={enter:ad={opacity:zd},update:ud={opacity:le,text:{field:"label"}},exit:{opacity:zd}};bb(Bd,{fill:Mb("labelColor"),fillOpacity:Mb("labelOpacity"),font:Mb("labelFont"),fontSize:Mb("labelFontSize"),fontStyle:Mb("labelFontStyle"),fontWeight:Mb("labelFontWeight"),limit:Q(J.labelLimit,da.gradientLabelLimit)});ac?(ad.align={value:"left"},
ad.baseline=ud.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},ac="y",Nd="x",Td="1-"):(ad.align=ud.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},ad.baseline={value:"top"},ac="x",Nd="y");ad[ac]=ud[ac]={signal:Td+"datum.perc",mult:Qc};ad[Nd]=ud[Nd]=ic;ic.offset=Q(J.labelOffset,da.gradientLabelOffset)||0;Kc=Kc?{separation:Mb("labelSeparation"),method:Kc,order:"datum.index"}:void 0;return xb({type:"text",role:"legend-label",style:"guide-label",
key:"value",from:Pb,encode:Bd,overlap:Kc},kb)}function gd(J,da,kb,Pb,Mb){var ac=Ja(J,da);const ic=kb.entries,Qc=!(!ic||!ic.interactive),Kc=ic?ic.name:void 0,ad=ac("clipHeight"),ud=ac("symbolOffset"),Nd={data:"value"},Td=`(${Mb}) ? datum.${"offset"} : datum.${"size"}`,Bd=ad?Oe(ad):{field:"size"},af=`max(1, ${Mb})`;let Pd,Fe;Bd.mult=.5;var he={enter:Pd={opacity:zd,x:{signal:Td,mult:.5,offset:ud},y:Bd},update:Fe={opacity:le,x:Pd.x,y:Pd.y},exit:{opacity:zd}};let ze=null,Sf=null;J.fill||(ze=da.symbolBaseFillColor,
Sf=da.symbolBaseStrokeColor);bb(he,{fill:ac("symbolFillColor",ze),shape:ac("symbolType"),size:ac("symbolSize"),stroke:ac("symbolStrokeColor",Sf),strokeDash:ac("symbolDash"),strokeDashOffset:ac("symbolDashOffset"),strokeWidth:ac("symbolStrokeWidth")},{opacity:ac("symbolOpacity")});se.forEach(be=>{J[be]&&(Fe[be]=Pd[be]={scale:J[be],field:"value"})});da=xb({type:"symbol",role:"legend-symbol",key:"value",from:Nd,clip:ad?!0:void 0,encode:he},kb.symbols);he=Oe(ud);he.offset=ac("labelOffset");he={enter:Pd=
{opacity:zd,x:{signal:Td,offset:he},y:Bd},update:Fe={opacity:le,text:{field:"label"},x:Pd.x,y:Pd.y},exit:{opacity:zd}};bb(he,{align:ac("labelAlign"),baseline:ac("labelBaseline"),fill:ac("labelColor"),fillOpacity:ac("labelOpacity"),font:ac("labelFont"),fontSize:ac("labelFontSize"),fontStyle:ac("labelFontStyle"),fontWeight:ac("labelFontWeight"),limit:ac("labelLimit")});kb=xb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Nd,encode:he},kb.labels);he={enter:{noBound:{value:!ad},
width:zd,height:ad?Oe(ad):zd,opacity:zd},exit:{opacity:zd},update:Fe={opacity:le,row:{signal:null},column:{signal:null}}};ac.isVertical(!0)?(ac=`ceil(item.mark.items.length / ${af})`,Fe.row.signal=`${"datum.index"}%${ac}`,Fe.column.signal=`floor(${"datum.index"} / ${ac})`,ac={field:["row","datum.index"]}):(Fe.row.signal=`floor(${"datum.index"} / ${af})`,Fe.column.signal=`${"datum.index"} % ${af}`,ac={field:"datum.index"});Fe.column.signal=`(${Mb})?${Fe.column.signal}:${"datum.index"}`;Pb={facet:{data:Pb,
name:"value",groupby:"index"}};return Ta({role:"scope",from:Pb,encode:qb(he,ic,xd),marks:[da,kb],name:Kc,interactive:Qc,sort:ac})}function Dc(J,da){J=Ja(J,da);return{align:J("gridAlign"),columns:J.entryColumns(),center:{row:!0,column:!1},padding:{row:J("rowPadding"),column:J("columnPadding")}}}function Sc(J,da,kb,Pb){da=Ja(J,da);const Mb={enter:{opacity:zd},update:{opacity:le,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:zd}};bb(Mb,{orient:da("titleOrient"),_anchor:da("titleAnchor"),
anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:uf},baseline:{signal:Zf},text:J.title,fill:da("titleColor"),fillOpacity:da("titleOpacity"),font:da("titleFont"),fontSize:da("titleFontSize"),fontStyle:da("titleFontStyle"),fontWeight:da("titleFontWeight"),
limit:da("titleLimit"),lineHeight:da("titleLineHeight")},{align:da("titleAlign"),baseline:da("titleBaseline")});return xb({type:"text",role:"legend-title",style:"guide-title",from:Pb,encode:Mb},kb)}function Ra(J,da){let kb;x.isObject(J)&&(J.signal?kb=J.signal:J.path?kb="pathShape("+nc(J.path)+")":J.sphere&&(kb="geoShape("+nc(J.sphere)+', {type: "Sphere"})'));return kb?da.signalRef(kb):!!J}function nc(J){return x.isObject(J)&&J.signal?J.signal:x.stringValue(J)}function kc(J){const da=J.role||"";return da.indexOf("axis")&&
da.indexOf("legend")&&da.indexOf("title")?"group"===J.type?"scope":da||"mark":da}function wc(J){return{marktype:J.type,name:J.name||void 0,role:J.role||kc(J),zindex:+J.zindex||void 0,aria:J.aria,description:J.description}}function Pc(J,da){return J&&J.signal?da.signalRef(J.signal):!1===J?!1:!0}function rc(J,da){const kb=fb.definition(J.type);kb||x.error("Unrecognized transform type: "+x.stringValue(J.type));var Pb=kb.type.toLowerCase();var Mb=Xc(kb,J,da);Pb=new Aa(Pb,null,Mb,void 0);J.signal&&da.addSignal(J.signal,
da.proxy(Pb));Pb.metadata=kb.metadata||{};return Pb}function Xc(J,da,kb){const Pb={},Mb=J.params.length;for(let ac=0;ac<Mb;++ac){const ic=J.params[ac];Pb[ic.name]=$c(ic,da,kb)}return Pb}function $c(J,da,kb){const Pb=J.type,Mb=da[J.name];if("index"===Pb)return Dd(J,da,kb);if(void 0===Mb)J.required&&x.error("Missing required "+x.stringValue(da.type)+" parameter: "+x.stringValue(J.name));else return"param"===Pb?we(J,da,kb):"projection"===Pb?kb.projectionRef(da[J.name]):J.array&&!ob(Mb)?Mb.map(ac=>Nc(J,
ac,kb)):Nc(J,Mb,kb)}function Nc(J,da,kb){const Pb=J.type;return ob(da)?"expr"===Pb?x.error("Expression references can not be signals."):"field"===Pb?kb.fieldRef(da):"compare"===Pb?kb.compareRef(da):kb.signalRef(da.signal):(J=J.expr||"field"===Pb)&&da&&da.expr?kb.exprRef(da.expr,da.as):J&&da&&da.field?Xa(da.field,da.as):"expr"===Pb?ca.parseExpression(da,kb):"data"===Pb?Qa(kb.getData(da).values):"field"===Pb?Xa(da):"compare"===Pb?kb.compareRef(da):da}function Dd(J,da,kb){x.isString(da.from)||x.error('Lookup "from" parameter must be a string literal.');
return kb.getData(da.from).lookupRef(kb,da.key)}function we(J,da,kb){da=da[J.name];return J.array?(x.isArray(da)||x.error("Expected an array of sub-parameters. Instead: "+x.stringValue(da)),da.map(Pb=>ld(J,Pb,kb))):ld(J,da,kb)}function ld(J,da,kb){const Pb=J.params.length;let Mb;for(let ac=0;ac<Pb;++ac){Mb=J.params[ac];for(const ic in Mb.key)if(Mb.key[ic]!==da[ic]){Mb=null;break}if(Mb)break}Mb||x.error("Unsupported parameter: "+x.stringValue(da));J=x.extend(Xc(Mb,da,kb),Mb.key);return Qa(kb.add(Pe(J)))}
function sd(J,da,kb){let Pb,Mb,ac,ic;if(!J)ac=Qa(kb.add(De(null,[{}])));else if(Pb=J.facet)da||x.error("Only group marks can be faceted."),null!=Pb.field?ac=ic=ge(Pb,kb):(J.data?ic=Qa(kb.getData(J.data).aggregate):(da=rc(x.extend({type:"aggregate",groupby:x.array(Pb.groupby)},Pb.aggregate),kb),da.params.key=kb.keyRef(Pb.groupby),da.params.pulse=ge(Pb,kb),ac=ic=Qa(kb.add(da))),Mb=kb.keyRef(Pb.groupby,!0));ac||(ac=ge(J,kb));return{key:Mb,pulse:ac,parent:ic}}function ge(J,da){return J.$ref?J:J.data&&
J.data.$ref?J.data:Qa(da.getData(J.data).output)}function La(J,da,kb,Pb,Mb){this.scope=J;this.input=da;this.output=kb;this.values=Pb;this.aggregate=Mb;this.index={}}function vb(J){return x.isString(J)?J:null}function $b(J,da,kb){const Pb=cb(kb.op,kb.field);let Mb;if(da.ops)for(let ac=0,ic=da.as.length;ac<ic;++ac){if(da.as[ac]===Pb)return}else da.ops=["count"],da.fields=[null],da.as=["count"];kb.op&&(da.ops.push((Mb=kb.op.signal)?J.signalRef(Mb):kb.op),da.fields.push(J.fieldRef(kb.field)),da.as.push(Pb))}
function rd(J,da,kb,Pb,Mb,ac,ic){kb=da[kb]||(da[kb]={});var Qc=x.isObject(ac)?("descending"===ac.order?"-":"+")+cb(ac.op,ac.field):"";let Kc=vb(Mb);if(null!=Kc){J=da.scope;Kc+=Qc?"|"+Qc:"";var ad=kb[Kc]}ad||(ad=ac?{field:cf,pulse:da.countsRef(J,Mb,ac)}:{field:J.fieldRef(Mb),pulse:Qa(da.output)},Qc&&(ad.sort=J.sortRef(ac)),J=J.add(new Aa(Pb,void 0,ad,void 0)),ic&&(da.index[Mb]=J),ad=Qa(J),null!=Kc&&(kb[Kc]=ad));return ad}function vd(J,da,kb){var Pb=J.from.facet;const Mb=Pb.name,ac=ge(Pb,da);let ic;
Pb.name||x.error("Facet must have a name: "+x.stringValue(Pb));Pb.data||x.error("Facet must reference a data set: "+x.stringValue(Pb));Pb.field?ic=da.add(K({field:da.fieldRef(Pb.field),pulse:ac})):Pb.groupby?ic=da.add(Be({key:da.keyRef(Pb.groupby),group:Qa(da.proxy(kb.parent)),pulse:ac})):x.error("Facet must specify groupby or field: "+x.stringValue(Pb));da=da.fork();kb=da.add(De());Pb=da.add(lc({pulse:Qa(kb)}));da.addData(Mb,new La(da,kb,kb,Pb));da.addSignal("parent",null);ic.params.subflow={$subflow:da.parse(J).toRuntime()}}
function de(J,da,kb){kb=da.add(K({pulse:kb.pulse}));da=da.fork();da.add(lc());da.addSignal("parent",null);kb.params.subflow={$subflow:da.parse(J).toRuntime()}}function oe(J,da,kb){const Pb=J.remove,Mb=J.insert,ac=J.toggle,ic=J.modify,Qc=J.values,Kc=da.add(new Aa("operator",void 0,void 0,void 0));J="if("+J.trigger+',modify("'+kb+'",'+[Mb,Pb,ac,ic,Qc].map(ad=>null==ad?"null":ad).join(",")+"),0)";da=ca.parseExpression(J,da);Kc.update=da.$expr;Kc.params=da.$params}function X(J,da){var kb=kc(J),Pb="group"===
J.type,Mb=J.from&&J.from.facet;const ac=J.overlap;let ic=J.layout||"scope"===kb||"frame"===kb,Qc,Kc,ad,ud,Nd,Td;const Bd="mark"===kb||ic||Mb,af=sd(J.from,Pb,da);Kc=da.add(Se({key:af.key||(J.key?Xa(J.key):void 0),pulse:af.pulse,clean:!Pb}));const Pd=Qa(Kc);Kc=ad=da.add(De({pulse:Pd}));Kc=da.add(Ke({markdef:wc(J),interactive:Pc(J.interactive,da),clip:Ra(J.clip,da),context:{$context:!0},groups:da.lookup(),parent:da.signals.parent?da.signalRef("parent"):null,index:da.markpath(),pulse:Qa(Kc)}));var Fe=
Qa(Kc);Kc=ud=da.add(Ee(Ca(J.encode,J.type,kb,J.style,da,{mod:!1,pulse:Fe})));Kc.params.parent=da.encode();J.transform&&J.transform.forEach(ze=>{ze=rc(ze,da);const Sf=ze.metadata;(Sf.generates||Sf.changes)&&x.error("Mark transforms should not generate new data.");Sf.nomod||(ud.params.mod=!0);ze.params.pulse=Qa(Kc);da.add(Kc=ze)});J.sort&&(Kc=da.add(Gc({sort:da.compareRef(J.sort),pulse:Qa(Kc)})));kb=Qa(Kc);if(Mb||ic)ic=da.add(uc({layout:da.objectProperty(J.layout),legends:da.legends,mark:Fe,pulse:kb})),
Td=Qa(ic);const he=da.add(Jf({mark:Fe,pulse:Td||kb}));Fe=Qa(he);Pb&&(Bd&&(Qc=da.operators,Qc.pop(),ic&&Qc.pop()),da.pushState(kb,Td||Fe,Pd),Mb?vd(J,da,af):Bd?de(J,da,af):da.parse(J),da.popState(),Bd&&(ic&&Qc.push(ic),Qc.push(he)));ac&&(Fe=za(ac,Fe,da));Pb=da.add(Va({pulse:Fe}));Mb=da.add(lc({pulse:Qa(Pb)},void 0,da.parent()));null!=J.name&&(Nd=J.name,da.addData(Nd,new La(da,ad,Pb,Mb)),J.on&&J.on.forEach(ze=>{(ze.insert||ze.remove||ze.toggle)&&x.error("Marks only support modify triggers.");oe(ze,da,
Nd)}))}function za(J,da,kb){const Pb=J.method,Mb=J.bound,ac=J.separation;da={separation:ob(ac)?kb.signalRef(ac.signal):ac,method:ob(Pb)?kb.signalRef(Pb.signal):Pb,pulse:da};J.order&&(da.sort=kb.compareRef({field:J.order}));Mb&&(J=Mb.tolerance,da.boundTolerance=ob(J)?kb.signalRef(J.signal):+J,da.boundScale=kb.scaleRef(Mb.scale),da.boundOrient=Mb.orient);return Qa(kb.add(tf(da)))}function gb(J,da){const kb=da.config.legend,Pb=J.encode||{},Mb=Ja(J,kb),ac=Pb.legend||{},ic=ac.name||void 0,Qc=ac.interactive,
Kc=ac.style,ad={};let ud=0,Nd,Td;se.forEach(he=>J[he]?(ad[he]=J[he],ud=ud||J[he]):0);ud||x.error("Missing valid scale for legend.");var Bd=Db(J,da.scaleType(ud));const af={title:null!=J.title,scales:ad,type:Bd,vgrad:"symbol"!==Bd&&Mb.isVertical()},Pd=Qa(da.add(De(null,[af]))),Fe=Qa(da.add(Je(Td={type:Bd,scale:da.scaleRef(ud),count:da.objectProperty(Mb("tickCount")),limit:da.property(Mb("symbolLimit")),values:da.objectProperty(J.values),minstep:da.property(J.tickMinStep),formatType:da.property(J.formatType),
formatSpecifier:da.property(J.format)})));"gradient"===Bd?(Bd=[Kb(J,ud,kb,Pb.gradient),Ec(J,kb,Pb.labels,Fe)],Td.count=Td.count||da.signalRef(`max(2,2*floor((${H(Mb.gradientLength())})/100))`)):"discrete"===Bd?Bd=[ec(J,ud,kb,Pb.gradient,Fe),Ec(J,kb,Pb.labels,Fe)]:(Nd=Dc(J,kb),Bd=[gd(J,kb,Pb,Fe,H(Nd.columns))],Td.size=sc(J,da,Bd[0].marks));Bd=[Ta({role:"legend-entry",from:Pd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Bd,layout:Nd,interactive:Qc})];af.title&&Bd.push(Sc(J,kb,Pb.title,Pd));return X(Ta({role:"legend",
from:Pd,encode:qb(Gb(Mb,J,kb),ac,xd),marks:Bd,aria:Mb("aria"),description:Mb("description"),zindex:Mb("zindex"),name:ic,interactive:Qc,style:Kc}),da)}function Db(J,da){let kb=J.type||"symbol";J.type||1!==Zb(J)||!J.fill&&!J.stroke||(kb=Wb.isContinuous(da)?"gradient":Wb.isDiscretizing(da)?"discrete":"symbol");return"gradient"!==kb?kb:Wb.isDiscretizing(da)?"discrete":"gradient"}function Zb(J){return se.reduce((da,kb)=>da+(J[kb]?1:0),0)}function Gb(J,da,kb){const Pb={enter:{},update:{}};bb(Pb,{orient:J("orient"),
offset:J("offset"),padding:J("padding"),titlePadding:J("titlePadding"),cornerRadius:J("cornerRadius"),fill:J("fillColor"),stroke:J("strokeColor"),strokeWidth:kb.strokeWidth,strokeDash:kb.strokeDash,x:J("legendX"),y:J("legendY"),format:da.format,formatType:da.formatType});return Pb}function sc(J,da,kb){const Pb=H(jc("size",J,kb));J=H(jc("strokeWidth",J,kb));(kb=Z("fontSize",kb[1].encode))||(kb=(kb=da.config.style["guide-label"])&&kb.fontSize);kb=H(kb);return ca.parseExpression(`max(ceil(sqrt(${Pb})+${J}),${kb})`,
da)}function jc(J,da,kb){return da[J]?`scale("${da[J]}",datum)`:Z(J,kb[0].encode)}function Oa(J,da){J=x.isString(J)?{text:J}:J;const kb=Ja(J,da.config.title),Pb=J.encode||{};var Mb=Pb.group||{};const ac=Mb.name||void 0,ic=Mb.interactive,Qc=Mb.style,Kc=[],ad=Qa(da.add(De(null,[{}])));Kc.push(Lb(J,kb,rb(J),ad));J.subtitle&&Kc.push(gc(J,kb,Pb.subtitle,ad));J={enter:{},update:{}};bb(J,{orient:kb("orient"),anchor:kb("anchor"),align:{signal:Te},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:kb("limit"),frame:kb("frame"),offset:kb("offset")||0,padding:kb("subtitlePadding")});Mb=qb(J,Mb,xd);return X(Ta({role:"title",from:ad,encode:Mb,marks:Kc,aria:kb("aria"),description:kb("description"),zindex:kb("zindex"),name:ac,interactive:ic,style:Qc}),da)}function rb(J){const da=J.encode;return da&&da.title||x.extend({name:J.name,interactive:J.interactive,style:J.style},da)}function Lb(J,da,kb,Pb){var Mb={value:0};Mb={enter:{opacity:Mb},update:{opacity:{value:1}},exit:{opacity:Mb}};bb(Mb,{text:J.text,
align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:da("dx"),dy:da("dy"),fill:da("color"),font:da("font"),fontSize:da("fontSize"),fontStyle:da("fontStyle"),fontWeight:da("fontWeight"),lineHeight:da("lineHeight")},{align:da("align"),angle:da("angle"),baseline:da("baseline")});return xb({type:"text",role:"title-text",style:"group-title",from:Pb,encode:Mb},kb)}function gc(J,da,kb,Pb){var Mb={value:0};Mb={enter:{opacity:Mb},
update:{opacity:{value:1}},exit:{opacity:Mb}};bb(Mb,{text:J.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:da("dx"),dy:da("dy"),fill:da("subtitleColor"),font:da("subtitleFont"),fontSize:da("subtitleFontSize"),fontStyle:da("subtitleFontStyle"),fontWeight:da("subtitleFontWeight"),lineHeight:da("subtitleLineHeight")},{align:da("align"),angle:da("angle"),baseline:da("baseline")});return xb({type:"text",role:"title-subtitle",
style:"group-subtitle",from:Pb,encode:Mb},kb)}function tc(J,da){const kb=[];J.transform&&J.transform.forEach(Pb=>{kb.push(rc(Pb,da))});J.on&&J.on.forEach(Pb=>{oe(Pb,da,J.name)});da.addDataPipeline(J.name,Bc(J,da,kb))}function Bc(J,da,kb){const Pb=[];let Mb=null,ac=!1,ic=!1,Qc,Kc,ad,ud;J.values?$a(J.values)||$a(J.format)?(Pb.push(Hb(da,J)),Pb.push(Mb=Mc())):Pb.push(Mb=Mc({$ingest:J.values,$format:J.format})):J.url?$a(J.url)||$a(J.format)?(Pb.push(Hb(da,J)),Pb.push(Mb=Mc())):Pb.push(Mb=Mc({$request:J.url,
$format:J.format})):J.source&&(Mb=Qc=x.array(J.source).map(Nd=>Qa(da.getData(Nd).output)),Pb.push(null));J=0;for(Kc=kb.length;J<Kc;++J)ad=kb[J],ud=ad.metadata,Mb||ud.source||Pb.push(Mb=Mc()),Pb.push(ad),ud.generates&&(ic=!0),ud.modifies&&!ic&&(ac=!0),ud.source?Mb=ad:ud.changes&&(Mb=null);Qc&&(Kc=Qc.length-1,Pb[0]=Ka({derive:ac,pulse:Kc?Qc:Qc[0]}),(ac||Kc)&&Pb.splice(1,0,Mc()));Mb||Pb.push(Mc());Pb.push(lc({}));return Pb}function Mc(J){J=De({},J);J.metadata={source:!0};return J}function Hb(J,da){return pe({url:da.url?
J.property(da.url):void 0,async:da.async?J.property(da.async):void 0,values:da.values?J.property(da.values):void 0,format:J.objectProperty(da.format)})}function yc(J,da,kb,Pb){let Mb;if(da&&x.hasOwnProperty(da,J))return da[J];if(x.hasOwnProperty(kb,J))return kb[J];if(J.startsWith("title")){switch(J){case "titleColor":Mb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Mb=J[5].toLowerCase()+J.slice(6)}return Pb["guide-title"][Mb]}if(J.startsWith("label")){switch(J){case "labelColor":Mb=
"fill";break;case "labelFont":case "labelFontSize":Mb=J[5].toLowerCase()+J.slice(6)}return Pb["guide-label"][Mb]}return null}function Cc(J){const da={};for(const kb of J)if(kb)for(const Pb in kb)da[Pb]=1;return Object.keys(da)}function xc(J,da,kb,Pb){var Mb=Ja(J,da);da=J.orient;let ac,ic;const Qc={enter:ac={opacity:zd},update:ic={opacity:le},exit:{opacity:zd}};bb(Qc,{stroke:Mb("domainColor"),strokeCap:Mb("domainCap"),strokeDash:Mb("domainDash"),strokeDashOffset:Mb("domainDashOffset"),strokeWidth:Mb("domainWidth"),
strokeOpacity:Mb("domainOpacity")});Mb={scale:J.scale,range:0};J={scale:J.scale,range:1};ac.x=ic.x=Ue(da,Mb,zd);ac.x2=ic.x2=Ue(da,J);ac.y=ic.y=Le(da,Mb,zd);ac.y2=ic.y2=Le(da,J);return xb({type:"rule",role:"axis-domain",from:Pb,encode:Qc},kb)}function Ic(J,da,kb,Pb,Mb){var ac=Ja(J,da);da=J.orient;var ic=J.gridScale;const Qc=pd(da,1,-1);a:{var Kc=J.offset;if(1!==Qc)if(x.isObject(Kc)){for(var ad=Kc=x.extend({},Kc);null!=ad.mult;)if(x.isObject(ad.mult))ad=ad.mult=x.extend({},ad.mult);else{ad.mult=ob(Qc)?
{signal:`(${ad.mult}) * (${Qc.signal})`}:ad.mult*Qc;break a}ad.mult=Qc}else Kc=ob(Qc)?{signal:`(${Qc.signal}) * (${Kc||0})`}:Qc*(Kc||0)}const ud=Kc;let Nd;const Td={enter:Kc={opacity:zd},update:Nd={opacity:le},exit:ad={opacity:zd}};bb(Td,{stroke:ac("gridColor"),strokeCap:ac("gridCap"),strokeDash:ac("gridDash"),strokeDashOffset:ac("gridDashOffset"),strokeOpacity:ac("gridOpacity"),strokeWidth:ac("gridWidth")});J={scale:J.scale,field:"value",band:Mb.band,extra:Mb.extra,offset:Mb.offset,round:ac("tickRound")};
ac=Ue(da,{signal:"height"},{signal:"width"});Mb=ic?{scale:ic,range:0,mult:Qc,offset:ud}:{value:0,offset:ud};ic=ic?{scale:ic,range:1,mult:Qc,offset:ud}:x.extend(ac,{mult:Qc,offset:ud});Kc.x=Nd.x=Ue(da,J,Mb);Kc.y=Nd.y=Le(da,J,Mb);Kc.x2=Nd.x2=Le(da,ic);Kc.y2=Nd.y2=Ue(da,ic);ad.x=Ue(da,J);ad.y=Le(da,J);return xb({type:"rule",role:"axis-grid",key:"value",from:Pb,encode:Td},kb)}function Yc(J,da,kb,Pb,Mb,ac){const ic=Ja(J,da);da=J.orient;const Qc=pd(da,-1,1);let Kc,ad,ud;const Nd={enter:Kc={opacity:zd},
update:ud={opacity:le},exit:ad={opacity:zd}};bb(Nd,{stroke:ic("tickColor"),strokeCap:ic("tickCap"),strokeDash:ic("tickDash"),strokeDashOffset:ic("tickDashOffset"),strokeOpacity:ic("tickOpacity"),strokeWidth:ic("tickWidth")});Mb=Oe(Mb);Mb.mult=Qc;J={scale:J.scale,field:"value",band:ac.band,extra:ac.extra,offset:ac.offset,round:ic("tickRound")};ud.y=Kc.y=Ue(da,zd,J);ud.y2=Kc.y2=Ue(da,Mb);ad.x=Ue(da,J);ud.x=Kc.x=Le(da,zd,J);ud.x2=Kc.x2=Le(da,Mb);ad.y=Le(da,J);return xb({type:"rule",role:"axis-tick",
key:"value",from:Pb,encode:Nd},kb)}function Uc(J,da,kb,Pb,Mb){return{signal:'flush(range("'+J+'"), scale("'+J+'", datum.value), '+da+","+kb+","+Pb+","+Mb+")"}}function od(J,da,kb,Pb,Mb,ac){da=Ja(J,da);const ic=J.orient;J=J.scale;var Qc=pd(ic,-1,1),Kc=H(da("labelFlush")),ad=H(da("labelFlushOffset")),ud=da("labelAlign"),Nd=da("labelBaseline");let Td=0===Kc||!!Kc;var Bd=Oe(Mb);Bd.mult=Qc;Bd.offset=Oe(da("labelPadding")||0);Bd.offset.mult=Qc;Qc={scale:J,field:"value",band:.5,offset:eb(ac.offset,da("labelOffset"))};
ac=Td?Uc(J,Kc,'"left"','"right"','"center"'):{value:"center"};Mb=ob(ic)?vf(`${ic.signal} === '${"right"}'`,"left","right"):"right"===ic?{value:"left"}:{value:"right"};ac=Ue(ic,ac,Mb);Mb=Ue(ic,Ze(ic,"bottom","top"),Td?Uc(J,Kc,'"top"','"bottom"','"middle"'):{value:"middle"});Kc=Uc(J,Kc,`-(${ad})`,ad,0);Td=Td&&ad;Bd={opacity:zd,x:Ue(ic,Qc,Bd),y:Le(ic,Qc,Bd)};Bd={enter:Bd,update:ad={opacity:le,text:{field:"label"},x:Bd.x,y:Bd.y,align:ac,baseline:Mb},exit:{opacity:zd,x:Bd.x,y:Bd.y}};bb(Bd,{dx:!ud&&Td?
Ue(ic,Kc):null,dy:!Nd&&Td?Le(ic,Kc):null});bb(Bd,{angle:da("labelAngle"),fill:da("labelColor"),fillOpacity:da("labelOpacity"),font:da("labelFont"),fontSize:da("labelFontSize"),fontWeight:da("labelFontWeight"),fontStyle:da("labelFontStyle"),limit:da("labelLimit"),lineHeight:da("labelLineHeight")},{align:ud,baseline:Nd});ud=da("labelBound");Nd=(Nd=da("labelOverlap"))||ud?{separation:da("labelSeparation"),method:Nd,order:"datum.index",bound:ud?{scale:J,orient:ic,tolerance:ud}:null}:void 0;ad.align!==
ac&&(ad.align=df(ad.align,ac));ad.baseline!==Mb&&(ad.baseline=df(ad.baseline,Mb));return xb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Pb,encode:Bd,overlap:Nd},kb)}function qd(J,da,kb,Pb){da=Ja(J,da);const Mb=J.orient,ac=pd(Mb,-1,1);let ic,Qc;const Kc={enter:ic={opacity:zd,anchor:Oe(da("titleAnchor",null)),align:{signal:Te}},update:Qc=x.extend({},ic,{opacity:le,text:Oe(J.title)}),exit:{opacity:zd}};J={signal:`lerp(range("${J.scale}"), ${sa(0,1,.5)})`};Qc.x=Ue(Mb,J);Qc.y=Le(Mb,
J);J=ob(ac)?{signal:`(${ac.signal}) * ${90}`}:{value:90*ac};ic.angle=Ue(Mb,zd,J);ic.baseline=Ue(Mb,Ze(Mb,"bottom","top"),{value:"bottom"});Qc.angle=ic.angle;Qc.baseline=ic.baseline;bb(Kc,{fill:da("titleColor"),fillOpacity:da("titleOpacity"),font:da("titleFont"),fontSize:da("titleFontSize"),fontStyle:da("titleFontStyle"),fontWeight:da("titleFontWeight"),limit:da("titleLimit"),lineHeight:da("titleLineHeight")},{align:da("titleAlign"),angle:da("titleAngle"),baseline:da("titleBaseline")});Id(da,Mb,Kc,
kb);Kc.update.align=df(Kc.update.align,ic.align);Kc.update.angle=df(Kc.update.angle,ic.angle);Kc.update.baseline=df(Kc.update.baseline,ic.baseline);return xb({type:"text",role:"axis-title",style:"guide-title",from:Pb,encode:Kc},kb)}function Id(J,da,kb,Pb){const Mb=(ic,Qc)=>null!=ic?(kb.update[Qc]=df(Oe(ic),kb.update[Qc]),!1):sb(Qc,Pb)?!1:!0,ac=Mb(J("titleX"),"x");J=Mb(J("titleY"),"y");kb.enter.auto=J===ac?Oe(J):Ue(da,Oe(J),Oe(ac))}function Ed(J,da,kb){const Pb=x.array(J.signals),Mb=x.array(J.scales);
kb||Pb.forEach(ac=>ja(ac,da));x.array(J.projections).forEach(ac=>{{const ic=da.config.projection||{},Qc={};for(const Kc in ac)"name"!==Kc&&(Qc[Kc]=la(ac[Kc],Kc,da));for(const Kc in ic)null==Qc[Kc]&&(Qc[Kc]=la(ic[Kc],Kc,da));da.addProjection(ac.name,Qc)}});Mb.forEach(ac=>{{const ic=ac.type||"linear";Wb.isValidScaleType(ic)||x.error("Unrecognized scale type: "+x.stringValue(ic));da.addScale(ac.name,{type:ic,domain:void 0})}});x.array(J.data).forEach(ac=>tc(ac,da));Mb.forEach(ac=>{{const Kc=da.getScale(ac.name).params;
let ad;Kc.domain=w(ac.domain,ac,da);null!=ac.range&&(Kc.range=wa(ac,da,Kc));if(null!=ac.interpolate){var ic=ac.interpolate,Qc=Kc;Qc.interpolate=ma(ic.type||ic);null!=ic.gamma&&(Qc.interpolateGamma=ma(ic.gamma))}null!=ac.nice&&(ic=ac.nice,ic=x.isObject(ic)?{interval:ma(ic.interval),step:ma(ic.step)}:ma(ic),Kc.nice=ic);null!=ac.bins&&(ic=ac.bins,ic=ic.signal||x.isArray(ic)?R(ic,da):da.objectProperty(ic),Kc.bins=ic);for(ad in ac)x.hasOwnProperty(Kc,ad)||"name"===ad||(Kc[ad]=ma(ac[ad],da))}});(kb||Pb).forEach(ac=>
xa(ac,da));x.array(J.axes).forEach(ac=>{var ic=da.config,Qc=ic.style,Kc=ic.axis,ad="band"===da.scaleType(ac.scale)&&ic.axisBand,ud=ac.orient;if(ob(ud)){var Nd=Cc([ic.axisX,ic.axisY]);var Td=Cc([ic.axisTop,ic.axisBottom,ic.axisLeft,ic.axisRight]);var Bd={};for(be of Nd)Bd[be]=Ue(ud,yc(be,ic.axisX,Kc,Qc),yc(be,ic.axisY,Kc,Qc));Nd={};for(be of Td){Td=Nd;var af=be;var Pd=ud.signal;var Fe=yc(be,ic.axisTop,Kc,Qc),he=yc(be,ic.axisBottom,Kc,Qc),ze=yc(be,ic.axisLeft,Kc,Qc),Sf=yc(be,ic.axisRight,Kc,Qc);Pd=
{signal:(null!=ze?`${Pd} === '${"left"}' ? (${ag(ze)}) : `:"")+(null!=he?`${Pd} === '${"bottom"}' ? (${ag(he)}) : `:"")+(null!=Sf?`${Pd} === '${"right"}' ? (${ag(Sf)}) : `:"")+(null!=Fe?`${Pd} === '${"top"}' ? (${ag(Fe)}) : `:"")+"(null)"};Td[af]=Pd}}else Bd="top"===ud||"bottom"===ud?ic.axisX:ic.axisY,Nd=ic["axis"+ud[0].toUpperCase()+ud.slice(1)];Bd=Bd||Nd||ad?x.extend({},Kc,Bd,Nd,ad):Kc;var be=ac.encode||{};ic=be.axis||{};Qc=ic.name||void 0;Kc=ic.interactive;ad=ic.style;Pd=ud=Ja(ac,Bd);Nd=Pd("tickBand");
Td=Pd("tickOffset");Nd?Nd.signal?(af={signal:`(${Nd.signal}) === 'extent' ? 1 : 0.5`},Pd={signal:`(${Nd.signal}) === 'extent'`},x.isObject(Td)||(Td={signal:`(${Nd.signal}) === 'extent' ? 0 : ${Td}`})):"extent"===Nd?(af=1,Pd=!0,Td=0):(af=.5,Pd=!1):(af=Pd("bandPosition"),Pd=Pd("tickExtra"));af={extra:Pd,band:af,offset:Td};Pd={scale:ac.scale,ticks:!!ud("ticks"),labels:!!ud("labels"),grid:!!ud("grid"),domain:!!ud("domain"),title:null!=ac.title};Nd=Qa(da.add(De({},[Pd])));Fe=Qa(da.add(ae({scale:da.scaleRef(ac.scale),
extra:da.property(af.extra),count:da.objectProperty(ac.tickCount),values:da.objectProperty(ac.values),minstep:da.property(ac.tickMinStep),formatType:da.property(ac.formatType),formatSpecifier:da.property(ac.format)})));Td=[];Pd.grid&&Td.push(Ic(ac,Bd,be.grid,Fe,af));if(Pd.ticks){var wf=ud("tickSize");Td.push(Yc(ac,Bd,be.ticks,Fe,wf,af))}Pd.labels&&(wf=Pd.ticks?wf:0,Td.push(od(ac,Bd,be.labels,Fe,wf,af)));Pd.domain&&Td.push(xc(ac,Bd,be.domain,Nd));Pd.title&&Td.push(qd(ac,Bd,be.title,Nd));wf=ud;Bd={enter:{},
update:{}};bb(Bd,{orient:wf("orient"),offset:wf("offset")||0,position:Q(ac.position,0),titlePadding:wf("titlePadding"),minExtent:wf("minExtent"),maxExtent:wf("maxExtent"),range:{signal:`abs(span(range("${ac.scale}")))`},translate:wf("translate"),format:ac.format,formatType:ac.formatType});ac=Bd;return ac=X(Ta({role:"axis",from:Nd,encode:qb(ac,ic,xd),marks:Td,aria:ud("aria"),description:ud("description"),zindex:ud("zindex"),name:Qc,interactive:Kc,style:ad}),da)});x.array(J.marks).forEach(ac=>X(ac,
da));x.array(J.legends).forEach(ac=>gb(ac,da));J.title&&Oa(J.title,da);da.parseLambdas();return da}function Wd(J,da){var kb=da.config;const Pb=Qa(da.root=da.add(new Aa("operator",void 0,void 0,void 0))),Mb=ye(J,kb);Mb.forEach(Qc=>ja(Qc,da));da.description=J.description||kb.description;da.eventConfig=kb.events;da.legends=da.objectProperty(kb.legend&&kb.legend.layout);da.locale=kb.locale;kb=da.add(De());const ac=da.add(Ee(Ca(qb({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},
J.encode),"group","frame",J.style,da,{pulse:Qa(kb)}))),ic=da.add(uc({layout:da.objectProperty(J.layout),legends:da.legends,autosize:da.signalRef("autosize"),mark:Pb,pulse:Qa(ac)}));da.operators.pop();da.pushState(Qa(ac),Qa(ic),null);Ed(J,da,Mb);da.operators.push(ic);J=da.add(Jf({mark:Pb,pulse:Qa(ic)}));J=da.add(Va({pulse:Qa(J)}));J=da.add(lc({pulse:Qa(J)}));da.addData("root",new La(da,kb,kb,J));return da}function me(J,da){return da&&da.signal?{name:J,update:da.signal}:{name:J,value:da}}function ye(J,
da){const kb=ic=>Q(J[ic],da[ic]),Pb=[me("background",kb("background")),me("autosize",ub(kb("autosize"))),me("padding",Qb(kb("padding"))),me("width",kb("width")||0),me("height",kb("height")||0)],Mb=Pb.reduce((ic,Qc)=>(ic[Qc.name]=Qc,ic),{}),ac={};x.array(J.signals).forEach(ic=>{x.hasOwnProperty(Mb,ic.name)?ic=x.extend(Mb[ic.name],ic):Pb.push(ic);ac[ic.name]=ic});x.array(da.signals).forEach(ic=>{x.hasOwnProperty(ac,ic.name)||x.hasOwnProperty(Mb,ic.name)||Pb.push(ic)});return Pb}function Ye(J,da){this.config=
J||{};this.options=da||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Qe(J){this.config=J.config;this.options=J.options;this.legends=J.legends;this.field=Object.create(J.field);this.signals=Object.create(J.signals);this.lambdas=Object.create(J.lambdas);
this.scales=Object.create(J.scales);this.events=Object.create(J.events);this.data=Object.create(J.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++J._nextsub[0];this._nextsub=J._nextsub;this._parent=J._parent.slice();this._encode=J._encode.slice();this._lookup=J._lookup.slice();this._markpath=J._markpath}function Re(J){return(x.isArray(J)?Fd:ee)(J)}function Fd(J){const da=J.length;let kb="[";for(let Pb=0;Pb<da;++Pb){const Mb=J[Pb];kb+=(0<Pb?",":"")+(x.isObject(Mb)?
Mb.signal||Re(Mb):x.stringValue(Mb))}return kb+"]"}function ee(J){let da="{",kb=0,Pb,Mb;for(Pb in J)Mb=J[Pb],da+=(1<++kb?",":"")+x.stringValue(Pb)+":"+(x.isObject(Mb)?Mb.signal||Re(Mb):x.stringValue(Mb));return da+"}"}function ff(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},
rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},
square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",
padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,
layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Oe=J=>x.isObject(J)&&!x.isArray(J)?x.extend({},J):{value:J},Bf=J=>x.isString(J)?x.stringValue(J):J.signal?`(${J.signal})`:Ea(J),
Yd=(J,da,kb,Pb)=>`(${J}(${[da,kb,Pb].map(Ia).join(",")})+'')`,Ae=["value","update","init","react","bind"],cf=Xa("key"),re={code:"_.$value",ast:{type:"Identifier",value:"value"}},Ad=J=>(da,kb,Pb)=>new Aa(J,kb,da||void 0,Pb),Ld=Ad("aggregate"),ae=Ad("axisticks"),Jf=Ad("bound"),De=Ad("collect"),Jd=Ad("compare"),Se=Ad("datajoin"),Ee=Ad("encode"),Ac=Ad("expression"),Be=Ad("facet"),Xd=Ad("field"),bc=Ad("key"),Je=Ad("legendentries"),pe=Ad("load"),Ke=Ad("mark"),Cf=Ad("multiextent"),kf=Ad("multivalues"),tf=
Ad("overlap"),Pe=Ad("params"),K=Ad("prefacet"),S=Ad("projection"),ua=Ad("proxy"),Ka=Ad("relay"),Va=Ad("render"),Vb=Ad("scale"),lc=Ad("sieve"),Gc=Ad("sortitems"),uc=Ad("viewlayout"),Fc=Ad("values");let id=0;const fd={min:"min",max:"max",count:"sum"},se="size shape fill stroke strokeWidth strokeDash opacity".split(" "),xd={name:1,style:1,interactive:1},zd={value:0},le={value:1},Te=sa(x.stringValue("left"),x.stringValue("right"),x.stringValue("center")),Me=sa('"top"','"bottom"','"middle"'),uf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${sa('"right"',
'"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Te}`,Zf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Me}) : "top"`;La.fromEntries=function(J,da){const kb=da.length,Pb=da[kb-1],Mb=da[kb-2];let ac=da[0],ic=null,Qc=1;ac&&"load"===ac.type&&(ac=da[1]);for(J.add(da[0]);Qc<
kb;++Qc)da[Qc].params.pulse=Qa(da[Qc-1]),J.add(da[Qc]),"aggregate"===da[Qc].type&&(ic=da[Qc]);return new La(J,ac,Mb,Pb,ic)};La.prototype={countsRef(J,da,kb){const Pb=this.counts||(this.counts={}),Mb=vb(da);if(null!=Mb){J=this.scope;var ac=Pb[Mb]}ac?kb&&kb.field&&$b(J,ac.agg.params,kb):(ac={groupby:J.fieldRef(da,"key"),pulse:Qa(this.output)},kb&&kb.field&&$b(J,ac,kb),kb=J.add(Ld(ac)),ac=J.add(De({pulse:Qa(kb)})),ac={agg:kb,ref:Qa(ac)},null!=Mb&&(Pb[Mb]=ac));return ac.ref},tuplesRef(){return Qa(this.values)},
extentRef(J,da){return rd(J,this,"extent","extent",da,!1)},domainRef(J,da){return rd(J,this,"domain","values",da,!1)},valuesRef(J,da,kb){return rd(J,this,"vals","values",da,kb||!0)},lookupRef(J,da){return rd(J,this,"lookup","tupleindex",da,!1)},indataRef(J,da){return rd(J,this,"indata","tupleindex",da,!0,!0)}};const pd=(J,da,kb)=>{ob(J)?(J=J.signal,da=vf(`${J} === '${"left"}' || ${J} === '${"top"}'`,da,kb)):da="left"===J||"top"===J?da:kb;return da},Ue=(J,da,kb)=>{ob(J)?(J=J.signal,da=$f(`${J} === '${"top"}' || ${J} === '${"bottom"}'`,
da,kb)):da="bottom"===J||"top"===J?da:kb;return da},Le=(J,da,kb)=>{ob(J)?(J=J.signal,da=$f(`${J} !== '${"top"}' && ${J} !== '${"bottom"}'`,da,kb)):da="bottom"===J||"top"===J?kb:da;return da},Ze=(J,da,kb)=>ob(J)?vf(`${J.signal} === '${"top"}'`,da,kb):"top"===J?{value:da}:{value:kb},$f=(J,da,kb)=>{da=null!=da?Oe(da):da;kb=null!=kb?Oe(kb):kb;if(null!=da&&1!==Object.keys(da).length||null!=kb&&1!==Object.keys(kb).length)return[x.extend({test:J},da)].concat(kb||[]);da=da?da.signal||x.stringValue(da.value):
null;kb=kb?kb.signal||x.stringValue(kb.value):null;return{signal:`${J} ? (${da}) : (${kb})`}},vf=(J,da,kb)=>({signal:`${J} ? (${ag(da)}) : (${ag(kb)})`}),ag=J=>ob(J)?J.signal:null==J?null:x.stringValue(J),df=(J,da)=>{const kb=J.signal;return kb&&kb.endsWith("(null)")?{signal:kb.slice(0,-6)+da.signal}:J};Ye.prototype=Qe.prototype={parse(J){return Ed(J,this)},fork(){return new Qe(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,
streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(J){this.operators.push(J);J.id=this.id();J.refs&&(J.refs.forEach(da=>{da.$ref=J.id}),J.refs=null);return J},proxy(J){J=J instanceof Aa?Qa(J):J;return this.add(ua({value:J}))},addStream(J){this.streams.push(J);J.id=this.id();return J},addUpdate(J){this.updates.push(J);return J},finish(){function J(Pb,Mb,ac){Pb&&(Pb=Pb.data||(Pb.data=
{}),Mb=Pb[Mb]||(Pb[Mb]=[]),Mb.push(ac))}let da,kb;this.root&&(this.root.root=!0);for(da in this.signals)this.signals[da].signal=da;for(da in this.scales)this.scales[da].scale=da;for(da in this.data){kb=this.data[da];J(kb.input,da,"input");J(kb.output,da,"output");J(kb.values,da,"values");for(const Pb in kb.index)J(kb.index[Pb],da,"index:"+Pb)}return this},pushState(J,da,kb){this._encode.push(Qa(this.add(lc({pulse:J}))));this._parent.push(da);this._lookup.push(kb?Qa(this.proxy(kb)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return x.peek(this._parent)},encode(){return x.peek(this._encode)},lookup(){return x.peek(this._lookup)},markpath(){const J=this._markpath;return++J[J.length-1]},fieldRef(J,da){if(x.isString(J))return Xa(J,da);J.signal||x.error("Unsupported field reference: "+x.stringValue(J));J=J.signal;var kb=this.field[J];kb||(kb={name:this.signalRef(J)},da&&(kb.as=da),this.field[J]=kb=Qa(this.add(Xd(kb))));return kb},
compareRef(J){let da=!1;const kb=Mb=>ob(Mb)?(da=!0,this.signalRef(Mb.signal)):Mb&&Mb.expr?(da=!0,this.exprRef(Mb.expr)):Mb,Pb=x.array(J.field).map(kb);J=x.array(J.order).map(kb);return da?Qa(this.add(Jd({fields:Pb,orders:J}))):{$compare:Pb,$order:J}},keyRef(J,da){let kb=!1;const Pb=this.signals;J=x.array(J).map(Mb=>ob(Mb)?(kb=!0,Qa(Pb[Mb.signal])):Mb);return kb?Qa(this.add(bc({fields:J,flat:da}))):hb(J,da)},sortRef(J){if(!J)return J;const da=cb(J.op,J.field);J=J.order||"ascending";return J.signal?
Qa(this.add(Jd({fields:da,orders:this.signalRef(J.signal)}))):{$compare:da,$order:J}},event(J,da){const kb=J+":"+da;if(!this.events[kb]){const Pb=this.id();this.streams.push({id:Pb,source:J,type:da});this.events[kb]=Pb}return this.events[kb]},hasOwnSignal(J){return x.hasOwnProperty(this.signals,J)},addSignal(J,da){this.hasOwnSignal(J)&&x.error("Duplicate signal name: "+x.stringValue(J));da=da instanceof Aa?da:this.add(new Aa("operator",da,void 0,void 0));return this.signals[J]=da},getSignal(J){this.signals[J]||
x.error("Unrecognized signal name: "+x.stringValue(J));return this.signals[J]},signalRef(J){if(this.signals[J])return Qa(this.signals[J]);x.hasOwnProperty(this.lambdas,J)||(this.lambdas[J]=this.add(new Aa("operator",null,void 0,void 0)));return Qa(this.lambdas[J])},parseLambdas(){const J=Object.keys(this.lambdas);for(let kb=0,Pb=J.length;kb<Pb;++kb){var da=J[kb];const Mb=ca.parseExpression(da,this);da=this.lambdas[da];da.params=Mb.$params;da.update=Mb.$expr}},property(J){return J&&J.signal?this.signalRef(J.signal):
J},objectProperty(J){return J&&x.isObject(J)?this.signalRef(J.signal||Re(J)):J},exprRef(J,da){J={expr:ca.parseExpression(J,this)};da&&(J.expr.$name=da);return Qa(this.add(Ac(J)))},addBinding(J,da){this.bindings||x.error("Nested signals do not support binding: "+x.stringValue(J));this.bindings.push(x.extend({signal:J},da))},addScaleProj(J,da){x.hasOwnProperty(this.scales,J)&&x.error("Duplicate scale or projection name: "+x.stringValue(J));this.scales[J]=this.add(da)},addScale(J,da){this.addScaleProj(J,
Vb(da))},addProjection(J,da){this.addScaleProj(J,S(da))},getScale(J){this.scales[J]||x.error("Unrecognized scale name: "+x.stringValue(J));return this.scales[J]},scaleRef(J){return Qa(this.getScale(J))},scaleType(J){return this.getScale(J).params.type},projectionRef(J){return this.scaleRef(J)},projectionType(J){return this.scaleType(J)},addData(J,da){x.hasOwnProperty(this.data,J)&&x.error("Duplicate data set name: "+x.stringValue(J));return this.data[J]=da},getData(J){this.data[J]||x.error("Undefined data set name: "+
x.stringValue(J));return this.data[J]},addDataPipeline(J,da){x.hasOwnProperty(this.data,J)&&x.error("Duplicate data set name: "+x.stringValue(J));return this.addData(J,La.fromEntries(this,da))}};n.AxisDomainRole="axis-domain";n.AxisGridRole="axis-grid";n.AxisLabelRole="axis-label";n.AxisRole="axis";n.AxisTickRole="axis-tick";n.AxisTitleRole="axis-title";n.DataScope=La;n.FrameRole="frame";n.LegendEntryRole="legend-entry";n.LegendLabelRole="legend-label";n.LegendRole="legend";n.LegendSymbolRole="legend-symbol";
n.LegendTitleRole="legend-title";n.MarkRole="mark";n.Scope=Ye;n.ScopeRole="scope";n.config=ff;n.parse=function(J,da,kb){x.isObject(J)||x.error("Input Vega specification must be an object.");da=x.mergeConfig(ff(),da,J.config);return Wd(J,new Ye(da,kb)).toRuntime()};n.signal=ja;n.signalUpdates=xa;n.stream=T;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[65]=function(mc,Rb,Jc,Nb){function n(ja){if(ja&&ja.__esModule)return ja;var Aa=Object.create(null);ja&&Object.keys(ja).forEach(function(Qa){if("default"!==Qa){var Xa=Object.getOwnPropertyDescriptor(ja,Qa);Object.defineProperty(Aa,Qa,Xa.get?Xa:{enumerable:!0,get:function(){return ja[Qa]}})}});Aa["default"]=ja;return Object.freeze(Aa)}Object.defineProperty(Nb,"__esModule",{value:!0});var x=Rb(16),ca=Rb(28),Sa=Rb(30),Wb=Rb(39),fb=Rb(40),ub=Rb(44),Qb=Rb(49),Bb=Rb(51),bb=Rb(52),qb=Rb(53),
sb=Rb(55);Jc=Rb(56);mc=Rb(57);var Wa=Rb(29),Ha=Rb(20),Ia=Rb(27),Ya=Rb(38),mb=Rb(37),Ea=Rb(43),Ga=Rb(62),jb=Rb(22),Ca=Rb(60),ab=Rb(64),Ma=Rb(61);Rb=n(Sa);Wb=n(Wb);fb=n(fb);ub=n(ub);Qb=n(Qb);Bb=n(Bb);bb=n(bb);qb=n(qb);sb=n(sb);Jc=n(Jc);mc=n(mc);x.extend(ca.transforms,Rb,Wb,fb,ub,Qb,bb,Bb,qb,sb,Jc,mc);Object.keys(x).forEach(function(ja){"default"!==ja&&Object.defineProperty(Nb,ja,{enumerable:!0,get:function(){return x[ja]}})});Object.keys(Wa).forEach(function(ja){"default"!==ja&&Object.defineProperty(Nb,
ja,{enumerable:!0,get:function(){return Wa[ja]}})});Object.keys(Ha).forEach(function(ja){"default"!==ja&&Object.defineProperty(Nb,ja,{enumerable:!0,get:function(){return Ha[ja]}})});Object.keys(Ia).forEach(function(ja){"default"!==ja&&Object.defineProperty(Nb,ja,{enumerable:!0,get:function(){return Ia[ja]}})});Object.keys(Ya).forEach(function(ja){"default"!==ja&&Object.defineProperty(Nb,ja,{enumerable:!0,get:function(){return Ya[ja]}})});Object.defineProperty(Nb,"Dataflow",{enumerable:!0,get:function(){return ca.Dataflow}});
Object.defineProperty(Nb,"EventStream",{enumerable:!0,get:function(){return ca.EventStream}});Object.defineProperty(Nb,"MultiPulse",{enumerable:!0,get:function(){return ca.MultiPulse}});Object.defineProperty(Nb,"Operator",{enumerable:!0,get:function(){return ca.Operator}});Object.defineProperty(Nb,"Parameters",{enumerable:!0,get:function(){return ca.Parameters}});Object.defineProperty(Nb,"Pulse",{enumerable:!0,get:function(){return ca.Pulse}});Object.defineProperty(Nb,"Transform",{enumerable:!0,get:function(){return ca.Transform}});
Object.defineProperty(Nb,"changeset",{enumerable:!0,get:function(){return ca.changeset}});Object.defineProperty(Nb,"definition",{enumerable:!0,get:function(){return ca.definition}});Object.defineProperty(Nb,"ingest",{enumerable:!0,get:function(){return ca.ingest}});Object.defineProperty(Nb,"isTuple",{enumerable:!0,get:function(){return ca.isTuple}});Object.defineProperty(Nb,"transform",{enumerable:!0,get:function(){return ca.transform}});Object.defineProperty(Nb,"transforms",{enumerable:!0,get:function(){return ca.transforms}});
Object.defineProperty(Nb,"tupleid",{enumerable:!0,get:function(){return ca.tupleid}});Object.defineProperty(Nb,"interpolate",{enumerable:!0,get:function(){return mb.interpolate}});Object.defineProperty(Nb,"interpolateColors",{enumerable:!0,get:function(){return mb.interpolateColors}});Object.defineProperty(Nb,"interpolateRange",{enumerable:!0,get:function(){return mb.interpolateRange}});Object.defineProperty(Nb,"quantizeInterpolator",{enumerable:!0,get:function(){return mb.quantizeInterpolator}});
Object.defineProperty(Nb,"scale",{enumerable:!0,get:function(){return mb.scale}});Object.defineProperty(Nb,"scheme",{enumerable:!0,get:function(){return mb.scheme}});Object.defineProperty(Nb,"projection",{enumerable:!0,get:function(){return Ea.projection}});Object.defineProperty(Nb,"View",{enumerable:!0,get:function(){return Ga.View}});Object.defineProperty(Nb,"defaultLocale",{enumerable:!0,get:function(){return jb.defaultLocale}});Object.defineProperty(Nb,"formatLocale",{enumerable:!0,get:function(){return jb.numberFormatDefaultLocale}});
Object.defineProperty(Nb,"locale",{enumerable:!0,get:function(){return jb.locale}});Object.defineProperty(Nb,"resetDefaultLocale",{enumerable:!0,get:function(){return jb.resetDefaultLocale}});Object.defineProperty(Nb,"timeFormatLocale",{enumerable:!0,get:function(){return jb.timeFormatDefaultLocale}});Object.defineProperty(Nb,"expressionFunction",{enumerable:!0,get:function(){return Ca.expressionFunction}});Object.defineProperty(Nb,"parse",{enumerable:!0,get:function(){return ab.parse}});Object.defineProperty(Nb,
"runtimeContext",{enumerable:!0,get:function(){return Ma.context}});Nb.version="5.18.0"};
shadow$provide[66]=function(mc,Rb,Jc,Nb){var n=Rb(26).Buffer;(function(x,ca){"object"===typeof Nb&&"undefined"!==typeof Jc?ca(Nb):"function"===typeof define&&define.amd?define(["exports"],ca):(x="undefined"!==typeof globalThis?globalThis:x||self,ca(x.vegaLite={}))})(this,function(x){function ca(d,k,b){d.fields=k||[];d.fname=b;return d}function Sa(d){return 1===d.length?Sg(d[0]):Rg(d)}function Wb(d){function k(){b.push(I+d.substring(P,ta));I="";P=ta+1}const b=[],g=d.length;let l=null,A=0,I="",P,ta,
Na;d+="";for(P=ta=0;ta<g;++ta)if(Na=d[ta],"\\"===Na)I+=d.substring(P,ta),I+=d.substring(++ta,++ta),P=ta;else if(Na===l)k(),l=null,A=-1;else if(!l)if(P===A&&'"'===Na)P=ta+1,l=Na;else if(P===A&&"'"===Na)P=ta+1,l=Na;else if("."===Na&&!A)ta>P?k():P=ta+1;else if("["===Na)ta>P&&k(),A=P=ta+1;else if("]"===Na){if(!A)throw Error("Access path missing open bracket: "+d);0<A&&k();A=0;P=ta+1}if(A)throw Error("Access path missing closing bracket: "+d);if(l)throw Error("Access path missing closing quote: "+d);ta>
P&&(ta++,k());return b}function fb(d,k,b){k=[k].concat([].slice.call(b));console[d].apply(console,k)}function ub(d){return d===Object(d)}function Qb(...d){return d.reduce((k,b)=>{for(const g in b)"signals"===g?k.signals=bb(k.signals,b.signals):Bb(k,g,b[g],"legend"===g?{layout:1}:"style"===g?!0:null);return k},{})}function Bb(d,k,b,g){if("__proto__"!==k){var l;if(ub(b)&&!te(b))for(l in d=ub(d[k])?d[k]:d[k]={},b)g&&(!0===g||g[l])?Bb(d,l,b[l]):"__proto__"!==l&&(d[l]=b[l]);else d[k]=b}}function bb(d,
k){function b(A){g[A.name]||(g[A.name]=1,l.push(A))}if(null==d)return k;const g={},l=[];k.forEach(b);d.forEach(b);return l}function qb(d){return null!=d?te(d)?d:[d]:[]}function sb(d){return"boolean"===typeof d}function Wa(d){return"number"===typeof d}function Ha(d){return"string"===typeof d}function Ia(d){return te(d)?"["+d.map(Ia)+"]":ub(d)||Ha(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}function Ya(d){const k={},b=d.length;for(let g=0;g<b;++g)k[d[g]]=!0;return k}
function mb(d,k){if(d.not)mb(d.not,k);else if(d.and)for(const b of d.and)mb(b,k);else if(d.or)for(const b of d.or)mb(b,k);else k(d)}function Ea(d,k){return d.not?{not:Ea(d.not,k)}:d.and?{and:d.and.map(b=>Ea(b,k))}:d.or?{or:d.or.map(b=>Ea(b,k))}:k(d)}function Ga(d,k){const b={};for(const g of k)Jj.call(d,g)&&(b[g]=d[g]);return b}function jb(d,k){d=Object.assign({},d);for(const b of k)delete d[b];return d}function Ca(d){if(Wa(d))return d;d=Ha(d)?d:ck(d);if(250>d.length)return d;let k=0;for(let b=0;b<
d.length;b++){const g=d.charCodeAt(b);k=(k<<5)-k+g;k&=k}return k}function ab(d){return!1===d||null===d}function Ma(d,k){return-1<d.indexOf(k)}function ja(d,k){let b=0;for(const g of d.entries()){const [l,A]=g;if(k(A,l,b++))return!0}return!1}function Aa(d,k){let b=0;for(const g of d.entries()){const [l,A]=g;if(!k(A,l,b++))return!1}return!0}function Qa(d,...k){for(const g of k){k=d;var b=null!==g&&void 0!==g?g:{};for(const l of td(b))Bb(k,l,b[l],!0)}return d}function Xa(d,k){const b=[],g={};for(const l of d)d=
k(l),d in g||(g[d]=1,b.push(l));return b}function hb(d,k){if(d.size!==k.size)return!1;for(const b of d)if(!k.has(b))return!1;return!0}function cb(d,k){for(const b of d)if(k.has(b))return!0;return!1}function ob(d){const k=new Set;for(const b of d){const g=Wb(b).map((l,A)=>0===A?l:"[".concat(l,"]"));d=g.map((l,A)=>g.slice(0,A+1).join(""));for(const l of d)k.add(l)}return k}function $a(d,k){return void 0===d||void 0===k?!0:cb(ob(d),ob(k))}function Q(d){return 0===td(d).length}function H(d){return!0===
d||!1===d}function T(d){const k=d.replace(/\W/g,"_");return(d.match(/^\d+/)?"_":"")+k}function na(d,k){return d.not?"!("+na(d.not,k)+")":d.and?"("+d.and.map(b=>na(b,k)).join(") \x26\x26 (")+")":d.or?"("+d.or.map(b=>na(b,k)).join(") || (")+")":k(d)}function O(d,k){if(0===k.length)return!0;const b=k.shift();b in d&&O(d[b],k)&&delete d[b];return Q(d)}function W(d){return d.charAt(0).toUpperCase()+d.substr(1)}function ea(d,k){k=void 0===k?"datum":k;d=Wb(d);const b=[];for(let g=1;g<=d.length;g++){const l=
"[".concat(d.slice(0,g).map(Ia).join("]["),"]");b.push("".concat(k).concat(l))}return b.join(" \x26\x26 ")}function pa(d,k){return"".concat(void 0===k?"datum":k,"[").concat(Ia(Wb(d).join(".")),"]")}function Ua(d){return d.replace(/(\[|\]|\.|'|")/g,"\\$1")}function db(d){return"".concat(Wb(d).map(Ua).join("\\."))}function U(d,k,b){return d.replace(new RegExp(k.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),b)}function va(d){return"".concat(Wb(d).join("."))}function xa(d){return d?Wb(d).length:0}function ma(...d){for(const k of d)if(void 0!==
k)return k}function R(d){const k=++zk;return d?String(d)+k:k}function v(d){return w(d)?d:"__".concat(d)}function w(d){return 0===d.indexOf("__")}function p(d){if(void 0!==d)return(d%360+360)%360}function r(d){return Wa(d)?!0:!isNaN(d)&&!isNaN(parseFloat(d))}function C(d){return d&&d.condition}function D(d){return!!d&&!!d.argmin}function G(d){return!!d&&!!d.argmax}function B(d){return Ha(d)&&!!Cl[d]}function fa(d){return Ha(d)&&Ma(ll,d)}function wa(d){switch(d){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function la(d){return"color"===d||"fill"===d||"stroke"===d}function Ta(d){return Ja(d)!==d}function Ja(d){switch(d){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return d}function Z(d){if(d in qh)switch(d){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return d}
function sa(d){switch(d){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function eb(d){switch(d){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function xb(d){switch(d){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function Kb(d){return"width"===d?"x":"y"}function ec(d){switch(d){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return hk;case "x":case "y":case "latitude":case "longitude":return ik;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function Ec(d){switch(d){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function gd(d){sb(d)&&
(d=Mb(d,void 0));return"bin"+td(d).map(k=>Ra(d[k])?T("_".concat(k,"_").concat(dh(d[k]))):T("_".concat(k,"_").concat(d[k]))).join("")}function Dc(d){return!0===d||ub(d)&&!d.binned}function Sc(d){return"binned"===d||ub(d)&&!0===d.binned}function Ra(d){return null===d||void 0===d?void 0:d.selection}function nc(d){switch(d){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function kc(d,k,b){k in d?Object.defineProperty(d,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[k]=b;return d}function wc(d,k,b){k=k.get(d);if(!k)throw new TypeError("attempted to set private field on non-instance");if(k.set)k.set.call(d,b);else{if(!k.writable)throw new TypeError("attempted to set read only private field");k.value=b}return b}function Pc(d){return"Invalid specification ".concat(JSON.stringify(d),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function rc(d){return"".concat("width"==d?"Width":"Height",' "container" only works for single views and layered views.')}function Xc(d){const k="width"==d?"x":"y";return"".concat("width"==d?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(k,'".')}function $c(d){return d?'Dropping "fit-'.concat(d,'" because spec has discrete ').concat(eb(d),"."):'Dropping "fit" because spec has discrete size.'}function Nc(d){return"Unknown field for ".concat(d,". Cannot calculate view size.")}
function Dd(d){return'Cannot project a selection on encoding channel "'.concat(d,'", which has no field.')}function we(d,k){return'Cannot project a selection on encoding channel "'.concat(d,'" as it uses an aggregate function ("').concat(k,'").')}function ld(d){return"Selection not supported for ".concat(d," yet.")}function sd(d){return'The "columns" property cannot be used when "'.concat(d,'" has nested row/column.')}function ge(d,k,b){return'An ancestor parsed field "'.concat(d,'" as ').concat(b,
" but a child wants to parse the field as ").concat(k,".")}function La(d){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(d," are dropped.")}function vb(d,k){const {fill:b,stroke:g}=k;return"Dropping color ".concat(d," as the plot also has ").concat(b&&g?"fill and stroke":b?"fill":"stroke",".")}function $b(d,k){return"Dropping ".concat(If(d),' from channel "').concat(k,'" since it does not contain any data field, datum, value, or signal.')}function rd(d,
k,b){return"".concat(d,' dropped as it is incompatible with "').concat(k,'"').concat(b?" when ".concat(b):"",".")}function vd(d){return"".concat(d,"-encoding is dropped as ").concat(d," is not a valid encoding channel.")}function de(d,k){return'Using discrete channel "'.concat(d,'" to encode "').concat(k,'" field can be misleading as it does not encode ').concat("ordinal"===k?"order":"magnitude",".")}function oe(d,k,b){return"".concat(b,"-scale's \"").concat(k,'" is dropped as it does not work with ').concat(d,
" scale.")}function X(d){return'The step for "'.concat(d,'" is dropped because the ').concat("width"===d?"x":"y"," is continuous.")}function za(d){return'Cannot stack "'.concat(d,'" if there is already "').concat(d,'2".')}function gb(d,k){return"Invalid ".concat(d,": ").concat(If(k),".")}function Db(d){return"1D error band does not support ".concat(d,".")}function Zb(d){return"Channel ".concat(d,' is required for "binned" bin.')}function Gb(...d){Zi.warn(...d)}function sc(d){if(d&&ub(d))for(const k of Lk)if(k in
d)return!0;return!1}function jc(d){r(d)&&(d=+d);if(Wa(d))return d-1;{var k=d.toLowerCase();const b=Dk.indexOf(k);if(-1!==b)return b;k=k.substr(0,3);k=Ck.indexOf(k);if(-1!==k)return k;throw Error(gb("month",d));}}function Oa(d){r(d)&&(d=+d);if(Wa(d))return d%7;{var k=d.toLowerCase();const b=kl.indexOf(k);if(-1!==b)return b;k=k.substr(0,3);k=Vk.indexOf(k);if(-1!==k)return k;throw Error(gb("day",d));}}function rb(d,k){const b=[];k&&void 0!==d.day&&1<td(d).length&&(Gb("Dropping day from datetime ".concat(If(d),
" as day cannot be combined with other units.")),d=Ve(d),delete d.day);void 0!==d.year?b.push(d.year):b.push(2012);if(void 0!==d.month){var g=k?jc(d.month):d.month;b.push(g)}else if(void 0!==d.quarter){if(k)if(g=d.quarter,r(g)&&(g=+g),Wa(g))4<g&&Gb(gb("quarter",g)),--g;else throw Error(gb("quarter",g));else g=d.quarter;b.push(Wa(g)?3*g:g+"*3")}else b.push(0);void 0!==d.date?b.push(d.date):void 0!==d.day?(k=k?Oa(d.day):d.day,b.push(Wa(k)?k+1:k+"+1")):b.push(1);for(const l of["hours","minutes","seconds",
"milliseconds"])k=d[l],b.push("undefined"===typeof k?0:k);return b}function Lb(d){const k=rb(d,!0).join(", ");return d.utc?"utc(".concat(k,")"):"datetime(".concat(k,")")}function gc(d){const k=rb(d,!0);return d.utc?+new Date(Date.UTC(...k)):+new Date(...k)}function tc(d){const k=[];for(const b of Lk)Bc(d,b)&&k.push(b);return k}function Bc(d,k){const b=d.indexOf(k);return 0>b||0<b&&"seconds"===k&&"i"===d.charAt(b-1)||d.length>b+3&&"day"===k&&"o"===d.charAt(b+3)||0<b&&"year"===k&&"f"===d.charAt(b-1)?
!1:!0}function Mc(d){if(d)return d=tc(d),"timeUnitSpecifier(".concat(ck(d),", ").concat(ck(bl),")")}function Hb(d){if(d){var k;Ha(d)?k={unit:d}:ub(d)&&(k=Object.assign({},d,d.unit?{unit:d.unit}:{}));k.unit.startsWith("utc")&&(k.utc=!0,k.unit=k.unit.substr(3));return k}}function yc(d){var k=Hb(d);d=Object.assign({},k);k=k.utc;const b=(delete d.utc,d);return b.unit?(k?"utc":"")+td(b).map(g=>T("".concat("unit"===g?"":"_".concat(g,"_")).concat(b[g]))).join(""):(k?"utc":"")+"timeunit"+td(b).map(g=>T("_".concat(g,
"_").concat(b[g]))).join("")}function Cc(d){return d&&!!d.signal}function xc(d){return!!d.step}function Ic(d){return te(d)?!1:"field"in d&&"data"in d}function Yc(d){return d&&!!d.field&&void 0!==d.equal}function Uc(d){return d&&!!d.field&&void 0!==d.lt}function od(d){return d&&!!d.field&&void 0!==d.lte}function qd(d){return d&&!!d.field&&void 0!==d.gt}function Id(d){return d&&!!d.field&&void 0!==d.gte}function Ed(d){return d&&d.field&&(te(d.range)&&2===d.range.length||Cc(d.range))?!0:!1}function Wd(d){return d&&
!!d.field&&(te(d.oneOf)||te(d.in))}function me(d){return Wd(d)||Yc(d)||Ed(d)||Uc(d)||qd(d)||od(d)||Id(d)}function ye(d,k){return Qc(d,{timeUnit:k,wrapTime:!0})}function Ye(d,k){return d.map(b=>ye(b,k))}function Qe(d,k){k=void 0===k?!0:k;var b,{field:g}=d;const l=null===(b=Hb(d.timeUnit))||void 0===b?void 0:b.unit;if(l){{({end:b}={end:!1});g=ea(g);const P=l.startsWith("utc")?"utc":"";const ta={};for(I of Lk)if(Bc(l,I)){var A=I;A="quarter"===A?"(".concat(P,"quarter(").concat(g,")-1)"):"".concat(P).concat(A,
"(").concat(g,")");ta[I]=A;A=I}b&&(ta[A]+="+1");var I=ta;b=rb(I,!1).join(", ");I=I.utc?"utc(".concat(b,")"):"datetime(".concat(b,")")}I="time("+I+")"}else I=pd(d,{expr:"datum"});if(Yc(d))return I+"\x3d\x3d\x3d"+ye(d.equal,l);if(Uc(d))return k=d.lt,"".concat(I,"\x3c").concat(ye(k,l));if(qd(d))return k=d.gt,"".concat(I,"\x3e").concat(ye(k,l));if(od(d))return k=d.lte,"".concat(I,"\x3c\x3d").concat(ye(k,l));if(Id(d))return k=d.gte,"".concat(I,"\x3e\x3d").concat(ye(k,l));if(Wd(d))return"indexof([".concat(Ye(d.oneOf,
l).join(","),"], ").concat(I,") !\x3d\x3d -1");if(d&&d.field&&void 0!==d.valid)return Re(I,d.valid);if(Ed(d)){({range:b}=d);d=Cc(b)?{signal:"".concat(b.signal,"[0]")}:b[0];b=Cc(b)?{signal:"".concat(b.signal,"[1]")}:b[1];if(null!==d&&null!==b&&k)return"inrange("+I+", ["+ye(d,l)+", "+ye(b,l)+"])";k=[];null!==d&&k.push("".concat(I," \x3e\x3d ").concat(ye(d,l)));null!==b&&k.push("".concat(I," \x3c\x3d ").concat(ye(b,l)));return 0<k.length?k.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(d)));
}function Re(d,k){return void 0===k||k?"isValid(".concat(d,") \x26\x26 isFinite(+").concat(d,")"):"!isValid(".concat(d,") || !isFinite(+").concat(d,")")}function Fd(d){if(me(d)&&d.timeUnit){var k;return Object.assign({},d,{timeUnit:null===(k=Hb(d.timeUnit))||void 0===k?void 0:k.unit})}return d}function ee(d){if(d)switch(d=d.toLowerCase(),d){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function ff(d){return null===d||void 0===d?void 0:d.selection}function Oe(d,k){switch(k){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!Ma(["point","band","identity"],d);case "bins":return!Ma(["point","band","identity","ordinal"],d);case "round":return d in yb||"band"===d||"point"===d;case "padding":case "rangeMin":case "rangeMax":return d in yb||Ma(["point","band"],d);case "paddingOuter":case "align":return Ma(["point",
"band"],d);case "paddingInner":return"band"===d;case "domainMax":case "domainMid":case "domainMin":case "clamp":return d in yb;case "nice":return d in yb||"quantize"===d||"threshold"===d;case "exponent":return"pow"===d;case "base":return"log"===d;case "constant":return"symlog"===d;case "zero":return d in Zc&&!Ma(["log","time","utc","threshold","quantile"],d)}}function Bf(d,k){switch(k){case "interpolate":case "scheme":case "domainMid":if(!la(d))return'Cannot use the scale property "'.concat(d,'" with non-color channel.')}}
function Yd(d,k){if(!Yh[d])return!1;switch(d){case "x":case "y":case "theta":case "radius":return k in yb||Ma(["band","point"],k);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return k in yb||k in hc||Ma(["band","point","ordinal"],k);case "color":case "fill":case "stroke":return"band"!==k;case "strokeDash":return"ordinal"===k||k in hc;case "shape":return"ordinal"===k}}function Ae(d){return d&&!!d.expr}function cf(d){const k=td(d||{}),b={};for(const g of k)b[g]=
Bd(d[g]);return b}function re(d){return Ma(["line","area","trail"],d)}function Ad(d){return d.type}function Ld(d){const {channel:k,channelDef:b,markDef:g,scale:l,config:A}=d;d=Se(d);return uc(b)&&!fa(b.aggregate)&&l&&l.get("type")in yb&&!1===l.get("zero")?ae({fieldDef:b,channel:k,markDef:g,ref:d,config:A}):d}function ae(d){var {fieldDef:k,channel:b,markDef:g,ref:l,config:A}=d;if(re(g.type)||null===be("invalid",g,A))return l;{d=Jf(k,!0);const I="y"===Ja(b)?{field:{group:"height"}}:{value:0};d=Object.assign({},
{test:d},I)}return[d,l]}function Jf(d,k){k=void 0===k?!0:k;return Re(Ha(d)?d:pd(d,{expr:"datum"}),!k)}function De(d,k,b,g){const l={};k&&(l.scale=k);id(d)?({datum:d}=d,sc(d)?l.signal=Lb(d):Cc(d)?l.signal=d.signal:Ae(d)?l.signal=d.expr:l.value=d):l.field=pd(d,b);if(g){const {offset:A,band:I}=g;A&&(l.offset=A);I&&(l.band=I)}return l}function Jd(d){var {scaleName:k,fieldOrDatumDef:b,fieldOrDatumDef2:g,offset:l,startSuffix:A,band:I=.5}=d,P=0<I&&1>I?"datum":void 0;d=pd(b,{expr:P,suffix:A});const ta=void 0!==
g?pd(g,{expr:P}):pd(b,{suffix:"end",expr:P});P={};0===I||1===I?(P.scale=k,P.field=0===I?d:ta):(d="".concat(I," * ").concat(d," + ").concat(1-I," * ").concat(ta),P.signal='scale("'.concat(k,'", ').concat(d,")"));l&&(P.offset=l);return P}function Se(d){var {channel:k,channelDef:b,channel2Def:g,markDef:l,config:A,scaleName:I,scale:P,stack:ta,offset:Na,defaultRef:wb,band:Fb}=d;if(b){if(xd(b)){var dc,Oc;if(zd(b)){var Wc;Fb=null!==(Wc=Fb)&&void 0!==Wc?Wc:Va({channel:k,fieldDef:b,fieldDef2:g,markDef:l,stack:ta,
config:A,isMidPoint:!0});const {bin:cd,timeUnit:wd,type:Cd}=b;if(Dc(cd)||Fb&&wd&&"temporal"===Cd)return ta&&ta.impute?De(b,I,{binSuffix:"mid"},{offset:Na}):Fb?Jd({scaleName:I,fieldOrDatumDef:b,band:Fb,offset:Na}):De(b,I,ad(b,k)?{binSuffix:"range"}:{},{offset:Na});if(Sc(cd)){if(uc(g))return Jd({scaleName:I,fieldOrDatumDef:b,fieldOrDatumDef2:g,band:Fb,offset:Na});Gb(Zb("x"===k?"x2":"y2"))}}d=null===P||void 0===P?void 0:P.get("type");return De(b,I,d in Qd?{binSuffix:"range"}:{},{offset:Na,band:"band"===
d?null!==(dc=null!==(Oc=Fb)&&void 0!==Oc?Oc:b.band)&&void 0!==dc?dc:.5:void 0})}if(le(b))return dc=Na?{offset:Na}:{},Object.assign({},Ee(k,b.value),dc)}"function"===typeof wb&&(wb=wb());return wb?Object.assign({},wb,Na?{offset:Na}:{}):wb}function Ee(d,k){return Ma(["x","x2"],d)&&"width"===k?{field:{group:"width"}}:Ma(["y","y2"],d)&&"height"===k?{field:{group:"height"}}:Pd(k)}function Ac(d){return d&&"number"!==d&&"time"!==d}function Be(d,k,b){return"".concat(d,"(").concat(k).concat(b?", ".concat(JSON.stringify(b)):
"",")")}function Xd(d){var {fieldOrDatumDef:k,format:b,formatType:g,expr:l,normalizeStack:A,config:I}=d;if(Ac(g))return Je({fieldOrDatumDef:k,format:b,formatType:g,expr:l,config:I});d=bc(k,l,A);if(ic(k)){var P,ta;var Na=uc(k)?null===(P=Hb(k.timeUnit))||void 0===P?void 0:P.unit:void 0,wb=b,Fb=I.timeFormat;P=Te(k)&&(null===(ta=k.scale)||void 0===ta?void 0:ta.type)===h.UTC;!Na||wb?(wb=Ha(wb)?wb:Fb,d="".concat(P?"utc":"time","Format(").concat(d,", '").concat(wb,"')")):Na?(ta=Mc(Na),Na=P||Na.startsWith("utc"),
d="".concat(Na?"utc":"time","Format(").concat(d,", ").concat(ta,")")):d=void 0;return d?{signal:d}:void 0}b=Cf(Fc(k),b,I);return uc(k)&&Dc(k.bin)?(ta=pd(k,{expr:l,binSuffix:"end"}),{signal:Pe(d,ta,b,g,I)}):b||"quantitative"===Fc(k)?{signal:"".concat(kf(d,b))}:{signal:"isValid(".concat(d,") ? ").concat(d,' : ""+').concat(d)}}function bc(d,k,b){if(uc(d))return b?"".concat(pd(d,{expr:k,suffix:"end"}),"-").concat(pd(d,{expr:k,suffix:"start"})):pd(d,{expr:k});({datum:d}=d);d=sc(d)?Lb(d):"".concat(JSON.stringify(d));
return d}function Je(d){var {fieldOrDatumDef:k,format:b,formatType:g,expr:l,normalizeStack:A,config:I,field:P}=d,ta;P=null!==(ta=P)&&void 0!==ta?ta:bc(k,l,A);return uc(k)&&Dc(k.bin)?(d=pd(k,{expr:l,binSuffix:"end"}),{signal:Pe(P,d,b,g,I)}):{signal:Be(g,P,b)}}function pe(d,k,b,g,l,A){if(!Ac(g)){if(ic(d)){var I;d=uc(d)?null===(I=Hb(d.timeUnit))||void 0===I?void 0:I.unit:void 0;b=b?b:d?{signal:Mc(d)}:A?void 0:l.timeFormat;return b}return Cf(k,b,l)}}function Ke(d,k,b){if(d&&(Cc(d)||"number"===d||"time"===
d))return d;if(ic(k)&&"time"!==b&&"utc"!==b)return"time"}function Cf(d,k,b){if(Ha(k))return k;if("quantitative"===d)return b.numberFormat}function kf(d,k){return"format(".concat(d,', "').concat(k||"",'")')}function tf(d,k,b,g){var l;return Ac(b)?Be(b,d,k):kf(d,null!==(l=Ha(k)?k:void 0)&&void 0!==l?l:g.numberFormat)}function Pe(d,k,b,g,l){const A=tf(d,b,g,l);k=tf(k,b,g,l);return"".concat(Re(d,!1),' ? "null" : ').concat(A,' + "').concat(" – ",'" + ').concat(k)}function K(d){return!!d&&("count"===d.op||
!!d.field)}function S(d){return!!d&&te(d)}function ua(d){return"row"in d||"column"in d}function Ka(d){const {field:k,timeUnit:b,bin:g,aggregate:l}=d;return Object.assign({},b?{timeUnit:b}:{},g?{bin:g}:{},l?{aggregate:l}:{},{field:k})}function Va(d){var {channel:k,fieldDef:b,fieldDef2:g,markDef:l,stack:A,config:I,isMidPoint:P}=d;if(xd(b)&&void 0!==b.band)return b.band;if(uc(b)){const {timeUnit:ta,bin:Na}=b;if(ta&&!g)return P?wf("timeUnitBandPosition",l,I):Ma(["rect","bar","image","arc"],l.type)?wf("timeUnitBand",
l,I):0;if(Dc(Na))return Ma(["rect","bar","image","arc"],l.type)&&!P?1:.5}if((null===A||void 0===A?void 0:A.fieldChannel)===k&&P)return.5}function Vb(d,k,b,g,l,A){return Dc(k.bin)||k.timeUnit&&zd(k)&&"temporal"===k.type?!!Va({channel:d,fieldDef:k,fieldDef2:b,stack:g,markDef:l,config:A}):!1}function lc(d){d=d&&d.condition;return!!d&&!te(d)&&uc(d)}function Gc(d){d=d&&d.condition;return!!d&&!te(d)&&xd(d)}function uc(d){return!!d&&(!!d.field||"count"===d.aggregate)}function Fc(d){return d&&d.type}function id(d){return!!d&&
"datum"in d}function fd(d){return zd(d)&&!Ue(d)||se(d)}function se(d){return id(d)&&Wa(d.datum)}function xd(d){return uc(d)||id(d)}function zd(d){return!!d&&("field"in d||"count"===d.aggregate)&&"type"in d}function le(d){return d&&"value"in d&&"value"in d}function Te(d){return!!d&&("scale"in d||"sort"in d)}function Me(d){return d&&("axis"in d||"stack"in d||"impute"in d)}function uf(d){return!!d&&("format"in d||"formatType"in d)}function Zf(d){return jb(d,["legend","axis","header","scale"])}function pd(d,
k){k=void 0===k?{}:k;let b=d.field;const g=k.prefix;let l=k.suffix,A="";if("count"===d.aggregate)b=v("count");else{let Na;if(!k.nofn)if("op"in d)Na=d.op;else{const {bin:wb,aggregate:Fb,timeUnit:dc}=d;if(Dc(wb)){var I,P;Na=gd(wb);l=(null!==(I=k.binSuffix)&&void 0!==I?I:"")+(null!==(P=k.suffix)&&void 0!==P?P:"")}else if(Fb)G(Fb)?(A='["'.concat(b,'"]'),b="argmax_".concat(Fb.argmax)):D(Fb)?(A='["'.concat(b,'"]'),b="argmin_".concat(Fb.argmin)):Na=String(Fb);else if(dc){var ta;Na=yc(dc);l=(!Ma(["range",
"mid"],k.binSuffix)&&k.binSuffix||"")+(null!==(ta=k.suffix)&&void 0!==ta?ta:"")}}Na&&(b=b?"".concat(Na,"_").concat(b):Na)}l&&(b="".concat(b,"_").concat(l));g&&(b="".concat(g,"_").concat(b));return k.forAs?va(b):k.expr?pa(b,k.expr)+A:db(b)+A}function Ue(d){switch(d.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return uc(d)&&!!d.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(d.type,'".'));}function Le(d,k){const {field:b,bin:g,timeUnit:l,aggregate:A}=
d;if("count"===A)return k.countTitle;if(Dc(g))return"".concat(b," (binned)");if(l){var I;if(d=null===(I=Hb(l))||void 0===I?void 0:I.unit)return"".concat(b," (").concat(tc(d).join("-"),")")}else if(A)return G(A)?"".concat(b," for max ").concat(A.argmax):D(A)?"".concat(b," for min ").concat(A.argmin):"".concat(W(A)," of ").concat(b);return b}function Ze(d,k,b){var {allowDisabling:g,includeDefault:l=!0}=b,A;b=null===(A=$f(d))||void 0===A?void 0:A.title;if(!uc(d))return b;k=l?Wk(d,k):void 0;if(g)return ma(b,
d.title,k);var I;return null!==(I=null!==b&&void 0!==b?b:d.title)&&void 0!==I?I:k}function $f(d){if(Me(d)&&d.axis)return d.axis;if(d&&"legend"in d&&d.legend)return d.legend;if(d&&"header"in d&&d.header)return d.header}function vf(d){if(uf(d)){const {format:b,formatType:g}=d;return{format:b,formatType:g}}{var k;d=null!==(k=$f(d))&&void 0!==k?k:{};const {format:b,formatType:g}=d;return{format:b,formatType:g}}}function ag(d,k){var b;switch(k){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in d&&te(d.sort))return"ordinal";const {aggregate:g,bin:l,timeUnit:A}=d;if(A)return"temporal";if(l||g&&!G(g)&&!D(g))return"quantitative";if(Te(d)&&(null===(b=d.scale)||void 0===b?0:b.type))switch(z[d.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function df(d){if(uc(d))return d;if(lc(d))return d.condition}function J(d){if(xd(d))return d;if(Gc(d))return d.condition}function da(d,k,b,g){g=void 0===
g?{}:g;return Ha(d)||Wa(d)||sb(d)?(b=Ha(d)?"string":Wa(d)?"number":"boolean",k="Channel ".concat(k," is a ").concat(b,". Converted to {value: ").concat(If(d),"}."),Gb(k),{value:d}):xd(d)?kb(d,k,b,g):Gc(d)?Object.assign({},d,{condition:kb(d.condition,k,b,g)}):d}function kb(d,k,b,g){if(uf(d)){var l=Object.assign({},d),A=d.formatType;l=(delete l.format,delete l.formatType,l);if(Ac(A)&&!b.customFormatTypes)return Gb(La(k)),kb(l,k,b,g)}else if((A=Me(d)?"axis":d&&"legend"in d?"legend":d&&"header"in d?"header":
null)&&d[A]){var I=d[A];l=Object.assign({},I);I=I.formatType;l=(delete l.format,delete l.formatType,l);if(Ac(I)&&!b.customFormatTypes)return Gb(La(k)),kb(Object.assign({},d,{[A]:l}),k,b,g)}if(uc(d))return Pb(d,k,g);k=d.type;k||({datum:k}=d,k=Wa(k)?"quantitative":Ha(k)?"nominal":sc(k)?"temporal":void 0,d=Object.assign({},d,{type:k}));return d}function Pb(d,k,b){({compositeMark:b=!1}=void 0===b?{}:b);const {aggregate:g,timeUnit:l,bin:A,field:I}=d;d=Object.assign({},d);b||!g||B(g)||G(g)||D(g)||(Gb('Invalid aggregation operator "'.concat(g,
'".')),delete d.aggregate);l&&(d.timeUnit=Hb(l));I&&(d.field="".concat(I));Dc(A)&&(d.bin=Mb(A,k));!Sc(A)||k in xg||Gb("Channel ".concat(k,' should not be used with "binned" bin.'));if(zd(d)){({type:b}=d);var P=ee(b);b!==P&&(d.type=P);"quantitative"!==b&&fa(g)&&(b='Invalid field type "'.concat(b,'" for aggregate: "').concat(g,'", using "quantitative" instead.'),Gb(b),d.type="quantitative")}else Ta(k)||(b=ag(d,k),d.type=b);if(zd(d)){const {compatible:ta,warning:Na}=ac(d,k)||{};!1===ta&&Gb(Na)}if("sort"in
d&&Ha(d.sort)){({sort:k}=d);if(k in Tl)return Object.assign({},d,{sort:{encoding:k}});b=k.substr(1);if("-"===k.charAt(0)&&b in Tl)return Object.assign({},d,{sort:{encoding:b,order:"descending"}})}return d&&"header"in d&&({header:k}=d,P=k,b=Object.assign({},P),P=P.orient,b=(delete b.orient,b),P)?Object.assign({},d,{header:Object.assign({},b,{labelOrient:k.labelOrient||P,titleOrient:k.titleOrient||P})}):d}function Mb(d,k){return sb(d)?{maxbins:nc(k)}:"binned"===d?{binned:!0}:d.maxbins||d.step?d:Object.assign({},
d,{maxbins:nc(k)})}function ac(d,k){const b=d.type;if("geojson"===b&&"shape"!==k)return{compatible:!1,warning:"Channel ".concat(k," should not be used with a geojson data.")};switch(k){case "row":case "column":case "facet":return Ue(d)?pk:{compatible:!1,warning:"".concat(k," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return pk;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==b?{compatible:!1,warning:"Channel ".concat(k," should be used with a quantitative field only, not ").concat(d.type," field.")}:pk;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==b||d.sort?pk:{compatible:!1,warning:"Channel ".concat(k," should not be used with an unsorted discrete field.")};case "strokeDash":return Ma(["ordinal",
"nominal"],d.type)?pk:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return Ma(["ordinal","nominal","geojson"],d.type)?pk:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==d.type||"sort"in d?pk:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function ic(d){var {formatType:k}=vf(d),b;if(!(b="time"===k)){if(k=!k)k=
d&&("temporal"===d.type||uc(d)&&!!d.timeUnit);b=k}return b}function Qc(d,k){var {timeUnit:b,type:g,wrapTime:l,undefinedIfExprNotRequired:A}=k;var I=(k=b&&(null===(I=Hb(b))||void 0===I?void 0:I.unit))||"temporal"===g;let P;Ae(d)?P=d.expr:Cc(d)?P=d.signal:sc(d)?(I=!0,P=Lb(d)):(Ha(d)||Wa(d))&&I&&(P="datetime(".concat(JSON.stringify(d),")"),Ak[k]&&(Wa(d)&&1E4>d||Ha(d)&&isNaN(Date.parse(d)))&&(P=Lb({[k]:d})));return P?l&&I?"time(".concat(P,")"):P:A?void 0:JSON.stringify(d)}function Kc(d,k){const {type:b}=
d;return k.map(g=>{const l=Qc(g,{timeUnit:uc(d)?d.timeUnit:void 0,type:b,undefinedIfExprNotRequired:!0});return void 0!==l?{signal:l}:g})}function ad(d,k){return Dc(d.bin)?!!Yh[k]&&Ma(["ordinal","nominal"],d.type):(console.warn("Only call this method for binned field defs."),!1)}function ud(d){var k=Object.assign({},d),b=d.anchor;const g=d.frame,l=d.offset,A=d.orient;var I=d.color,P=d.subtitleColor,ta=d.subtitleFont;const Na=d.subtitleFontSize,wb=d.subtitleFontStyle,Fb=d.subtitleFontWeight,dc=d.subtitleLineHeight;
d=d.subtitlePadding;k=(delete k.anchor,delete k.frame,delete k.offset,delete k.orient,delete k.color,delete k.subtitleColor,delete k.subtitleFont,delete k.subtitleFontSize,delete k.subtitleFontStyle,delete k.subtitleFontWeight,delete k.subtitleLineHeight,delete k.subtitlePadding,k);I=Object.assign({},k,I?{fill:I}:{});b=Object.assign({},b?{anchor:b}:{},g?{frame:g}:{},l?{offset:l}:{},A?{orient:A}:{});P=Object.assign({},P?{subtitleColor:P}:{},ta?{subtitleFont:ta}:{},Na?{subtitleFontSize:Na}:{},wb?{subtitleFontStyle:wb}:
{},Fb?{subtitleFontWeight:Fb}:{},dc?{subtitleLineHeight:dc}:{},d?{subtitlePadding:d}:{});ta=Ga(I,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:I,subtitleMarkConfig:ta,nonMark:b,subtitle:P}}function Nd(d){return Ha(d)||te(d)&&Ha(d[0])}function Td(d){const k=te(d.condition)?d.condition.map(af):af(d.condition);return Object.assign({},Bd(d),{condition:k})}function Bd(d){if(Ae(d)){var k=Object.assign({},d);d=d.expr;k=(delete k.expr,k);return Object.assign({},{signal:d},k)}return d}function af(d){if(Ae(d)){var k=
Object.assign({},d);d=d.expr;k=(delete k.expr,k);return Object.assign({},{signal:d},k)}return d}function Pd(d){if(Ae(d)){var k=Object.assign({},d);d=d.expr;k=(delete k.expr,k);return Object.assign({},{signal:d},k)}return Cc(d)?d:void 0!==d?{value:d}:void 0}function Fe(d){return Cc(d)?d.signal:Ia(d.value)}function he(d){return Cc(d)?d.signal:null==d?null:Ia(d)}function ze(d,k,b){for(const g of b)b=wf(g,k.markDef,k.config),void 0!==b&&(d[g]=Pd(b));return d}function Sf(d){var k;return[].concat(d.type,
null!==(k=d.style)&&void 0!==k?k:[])}function be(d,k,b,g){g=void 0===g?{}:g;const {vgChannel:l,ignoreVgConfig:A}=g;if(l&&void 0!==k[l])return k[l];if(void 0!==k[d])return k[d];if(!A||l&&l!==d)return wf(d,k,b,g)}function wf(d,k,b,g){({vgChannel:g}=void 0===g?{}:g);return ma(g?Ce(d,k,b.style):void 0,Ce(d,k,b.style),g?b[k.type][g]:void 0,b[k.type][d],g?b.mark[g]:b.mark[d])}function Ce(d,k,b){return Kf(d,Sf(k),b)}function Kf(d,k,b){k=qb(k);let g;for(const l of k)(k=b[l])&&void 0!==k[d]&&(g=k[d]);return g}
function ef(d,k){return qb(d).reduce((b,g)=>{var l;b.field.push(pd(g,k));b.order.push(null!==(l=g.sort)&&void 0!==l?l:"ascending");return b},{field:[],order:[]})}function gg(d,k){const b=[...d];k.forEach(g=>{for(const l of b)if(Kj(l,g))return;b.push(g)});return b}function M(d,k){return Kj(d,k)||!k?d:d?[...qb(d),...qb(k)].join(", "):k}function N(d,k){const b=d.value;k=k.value;if(null==b||null===k)return{explicit:d.explicit,value:null};if((Nd(b)||Cc(b))&&(Nd(k)||Cc(k)))return{explicit:d.explicit,value:M(b,
k)};if(Nd(b)||Cc(b))return{explicit:d.explicit,value:b};if(Nd(k)||Cc(k))return{explicit:d.explicit,value:k};if(!(Nd(b)||Cc(b)||Nd(k)||Cc(k)))return{explicit:d.explicit,value:gg(b,k)};throw Error("It should never reach here");}function Y(d){return"mark"in d}function ia(d,k){return(d=d&&d[k])?te(d)?ja(d,b=>!!b.field):uc(d)||lc(d):!1}function ya(d){return ja(Uk,k=>ia(d,k)?(k=d[k],te(k)?ja(k,b=>!!b.aggregate):(k=df(k))&&!!k.aggregate):!1)}function Da(d,k){const b=[],g=[],l=[],A=[],I={};Eb(d,(P,ta)=>{if(uc(P)){var Na=
Object.assign({},P),wb=P.field;const dc=P.aggregate,Oc=P.bin,Wc=P.timeUnit;Na=(delete Na.field,delete Na.aggregate,delete Na.bin,delete Na.timeUnit,Na);if(dc||Wc||Oc){var Fb=$f(P);const cd=Fb&&Fb.title;Fb=pd(P,{forAs:!0});Na=Object.assign({},cd?[]:{title:Ze(P,k,{allowDisabling:!0})},Na,{field:Fb});if(dc){let wd;G(dc)?(wd="argmax",Fb=pd({op:"argmax",field:dc.argmax},{forAs:!0}),Na.field="".concat(Fb,".").concat(wb)):D(dc)?(wd="argmin",Fb=pd({op:"argmin",field:dc.argmin},{forAs:!0}),Na.field="".concat(Fb,
".").concat(wb)):"boxplot"!==dc&&"errorbar"!==dc&&"errorband"!==dc&&(wd=dc);wd&&(P={op:wd,as:Fb},wb&&(P.field=wb),A.push(P))}else b.push(Fb),zd(P)&&Dc(Oc)?(g.push({bin:Oc,field:wb,as:Fb}),b.push(pd(P,{binSuffix:"end"})),ad(P,ta)&&b.push(pd(P,{binSuffix:"range"})),ta in xg&&(I[ta+"2"]={field:Fb+"_end"}),Na.bin="binned",Ta(ta)||(Na.type="quantitative")):Wc&&(l.push({timeUnit:Wc,field:wb,as:Fb}),(wb=zd(P)&&"temporal"!==P.type&&"time")&&("text"===ta||"tooltip"===ta?Na.formatType=wb:$h[ta]?Na.legend=Object.assign({},
{formatType:wb},Na.legend):ta in xg&&(Na.axis=Object.assign({},{formatType:wb},Na.axis))));I[ta]=Na}else b.push(wb),I[ta]=d[ta]}else I[ta]=d[ta]});return{bins:g,timeUnits:l,aggregate:A,groupby:b,encoding:I}}function Za(d,k,b){b=ec(k)[b];return b&&("binned"!==b||(b=d["x2"===k?"x":"y"],uc(b)&&uc(d[k])&&Sc(b.bin)))?!0:!1}function tb(d,k,b,g){return td(d).reduce((l,A)=>{if(!sj[A])return Gb(vd(A)),l;const I=d[A];"angle"!==A||"arc"!==k||d.theta||(Gb("Arc marks uses theta channel rather than angle, replacing angle with theta."),
A="theta");if(!Za(d,A,k))return Gb(rd(A,k)),l;if("size"===A&&"line"===k){const P=df(d[A]);if(null===P||void 0===P?0:P.aggregate)return Gb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),l}if("color"===A&&(b?"fill"in d:"stroke"in d))return Gb(vb("encoding",{fill:"fill"in d,stroke:"stroke"in d})),l;if("detail"===A||"order"===A&&!te(I)&&!le(I)||"tooltip"===A&&te(I))I&&(l[A]=qb(I).reduce((P,ta)=>{uc(ta)?P.push(Pb(ta,A)):Gb($b(ta,A));return P},[]));else{if("tooltip"===
A&&null===I)l[A]=null;else if(!(uc(I)||id(I)||le(I)||I&&"condition"in I||Cc(I)))return Gb($b(I,A)),l;l[A]=da(I,A,g)}return l},{})}function nb(d,k){const b={};for(const g of td(d)){const l=da(d[g],g,k,{compositeMark:!0});b[g]=l}return b}function zb(d){const k=[];for(const b of td(d))if(ia(d,b)){const g=qb(d[b]);for(const l of g)uc(l)?k.push(l):lc(l)&&k.push(l.condition)}return k}function Eb(d,k,b){if(d)for(const g of td(d)){const l=d[g];if(te(l))for(const A of l)k.call(b,A,g);else k.call(b,l,g)}}function Yb(d,
k,b,g){return d?td(d).reduce((l,A)=>{const I=d[A];return te(I)?I.reduce((P,ta)=>k.call(g,P,ta,A),l):k.call(g,l,I,A)},b):b}function pc(d,k){return td(k).reduce((b,g)=>{switch(g){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return b;case "order":if("line"===d||"trail"===d)return b;case "detail":case "key":g=
k[g];if(te(g)||uc(g))for(var l of qb(g))l.aggregate||b.push(pd(l,{}));return b;case "size":if("trail"===d)return b;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(l=df(k[g]))&&!l.aggregate&&b.push(pd(l,{})),b}},[])}function u(d,k,b,g){g=void 0===g?!0:g;if("tooltip"in b)return{tooltip:b.tooltip};d=d.map(l=>{var {fieldPrefix:A,titlePrefix:I}=l;l=g?" of ".concat(E(k)):"";return{field:A+k.field,type:k.type,title:Cc(I)?
{signal:I+'"'.concat(escape(l),'"')}:I+l}});b=zb(b).map(Zf);return{tooltip:[...d,...Xa(b,Ca)]}}function E(d){const {title:k,field:b}=d;return ma(k,b)}function aa(d,k,b,g,l){const {scale:A,axis:I}=b;return P=>{var {partName:ta,mark:Na,positionPrefix:wb,endPositionPrefix:Fb,extraEncoding:dc={}}=P;P=E(b);return ka(d,ta,l,{mark:Na,encoding:Object.assign({},{[k]:Object.assign({},{field:wb+"_"+b.field,type:b.type},void 0!==P?{title:P}:{},void 0!==A?{scale:A}:{},void 0!==I?{axis:I}:{})},Ha(Fb)?{[k+"2"]:{field:Fb+
"_"+b.field}}:{},g,dc)})}}function ka(d,k,b,g){const {clip:l,color:A,opacity:I}=d,P=d.type;return d[k]||void 0===d[k]&&b[k]?[Object.assign({},g,{mark:Object.assign({},b[k],l?{clip:l}:{},A?{color:A}:{},I?{opacity:I}:{},Ad(g.mark)?g.mark:{type:g.mark},{style:"".concat(P,"-").concat(k)},sb(d[k])?{}:d[k])})]:[]}function lb(d,k,b){({encoding:d}=d);k="vertical"===k?"y":"x";const g=d[k+"2"],l=d[k+"Error"],A=d[k+"Error2"];return{continuousAxisChannelDef:Ib(d[k],b),continuousAxisChannelDef2:Ib(g,b),continuousAxisChannelDefError:Ib(l,
b),continuousAxisChannelDefError2:Ib(A,b),continuousAxis:k}}function Ib(d,k){if(d&&d.aggregate){var b=Object.assign({},d);d=d.aggregate;b=(delete b.aggregate,b);d!==k&&(k="Continuous axis should not have customized aggregation function ".concat(d,"; ").concat(k," already agregates the axis."),Gb(k));return b}return d}function Sb(d,k){const {mark:b,encoding:g}=d,{x:l,y:A}=g;if(Ad(b)&&b.orient)return b.orient;if(fd(l)){if(fd(A)){d=uc(l)&&l.aggregate;const I=uc(A)&&A.aggregate;if(!d&&I===k)return"vertical";
if(I||d!==k){if(d===k&&I===k)throw Error("Both x and y cannot have aggregate");return ic(A)&&!ic(l)?"horizontal":"vertical"}}return"horizontal"}if(fd(A))return"vertical";throw Error("Need a valid continuous axis for ".concat(k,"s"));}function fc(d){return Wa(d)?"tukey":d}function zc(d,k){var {config:b}=k,g,l=d=Object.assign({},d,{encoding:nb(d.encoding,b)});k=Object.assign({},l);var A=l.mark;l=l.selection;k=(delete k.mark,delete k.encoding,delete k.selection,delete k.projection,k);A=Ad(A)?A:{type:A};
l&&Gb(ld("boxplot"));l=null!==(g=A.extent)&&void 0!==g?g:b.boxplot.extent;var I=be("size",A,b);g=fc(l);var P;{var ta=d;d=Sb(ta,"boxplot");const {continuousAxisChannelDef:Qf,continuousAxis:Fg}=lb(ta,d,"boxplot");var Na=Qf.field,wb=fc(l),Fb=[...Tc(Na),{op:"median",field:Na,as:"mid_box_"+Na},{op:"min",field:Na,as:("min-max"===wb?"lower_whisker_":"min_")+Na},{op:"max",field:Na,as:("min-max"===wb?"upper_whisker_":"max_")+Na}];Na="min-max"===wb||"tukey"===wb?[]:[{calculate:'datum["upper_box_'.concat(Na,
'"] - datum["lower_box_').concat(Na,'"]'),as:"iqr_"+Na},{calculate:'min(datum["upper_box_'.concat(Na,'"] + datum["iqr_').concat(Na,'"] * ').concat(l,', datum["max_').concat(Na,'"])'),as:"upper_whisker_"+Na},{calculate:'max(datum["lower_box_'.concat(Na,'"] - datum["iqr_').concat(Na,'"] * ').concat(l,', datum["min_').concat(Na,'"])'),as:"lower_whisker_"+Na}];ta=Object.assign({},ta.encoding);wb=(delete ta[Fg],ta);ta=Object.assign({},wb);wb=wb.tooltip;ta=(delete ta.tooltip,ta);if(wb){var dc;if(te(wb)){for(var Oc of wb)Oc.aggregate?
(P||(P=[]),P.push(Oc)):(dc||(dc=[]),dc.push(Oc));P&&(ta.tooltip=P)}else wb.aggregate?ta.tooltip=wb:dc=wb;te(dc)&&1===dc.length&&(dc=dc[0]);P={customTooltipWithoutAggregatedField:dc,filteredEncoding:ta}}else P={filteredEncoding:ta};const {customTooltipWithoutAggregatedField:ng,filteredEncoding:El}=P,{bins:Oj,timeUnits:Xk,aggregate:Ul,groupby:Vl,encoding:zm}=Da(El,b);P=[...Oj,...Xk,{aggregate:[...Ul,...Fb],groupby:Vl},...Na];P={bins:Oj,timeUnits:Xk,transform:P,groupby:Vl,aggregate:Ul,continuousAxisChannelDef:Qf,
continuousAxis:Fg,encodingWithoutContinuousAxis:zm,ticksOrient:"vertical"===d?"horizontal":"vertical",boxOrient:d,customTooltipWithoutAggregatedField:ng}}const {bins:Wc,timeUnits:cd,transform:wd,continuousAxisChannelDef:Cd,continuousAxis:ne,groupby:of,aggregate:fe,encodingWithoutContinuousAxis:mf,ticksOrient:Kd,boxOrient:hg,customTooltipWithoutAggregatedField:rf}=P;dc=Object.assign({},mf);P=mf.color;Fb=mf.size;dc=(delete dc.color,delete dc.size,dc);Oc=aa(A,ne,Cd,dc,b.boxplot);d=aa(A,ne,Cd,mf,b.boxplot);
Fb=aa(A,ne,Cd,Object.assign({},dc,Fb?{size:Fb}:{}),b.boxplot);Na=u([{fieldPrefix:"min-max"===g?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===g?"lower_whisker_":"min_",titlePrefix:"Min"}],Cd,mf);ta={type:"tick",color:"black",opacity:1,orient:Kd,invalid:null,aria:!1};wb="min-max"===g?Na:u([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},
{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Cd,mf);Oc=[...Oc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:wb}),...Oc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:wb}),...Oc({partName:"ticks",mark:ta,positionPrefix:"lower_whisker",extraEncoding:wb}),...Oc({partName:"ticks",mark:ta,positionPrefix:"upper_whisker",
extraEncoding:wb})];I=[..."tukey"!==g?Oc:[],...d({partName:"box",mark:Object.assign({},{type:"bar"},I?{size:I}:{},{orient:hg,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Na}),...Fb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},ub(b.boxplot.median)&&b.boxplot.median.color?{color:b.boxplot.median.color}:{},I?{size:I}:{},{orient:Kd,aria:!1}),positionPrefix:"mid_box",extraEncoding:Na})];if("min-max"===g){var Ie;return Object.assign({},
k,{transform:(null!==(Ie=k.transform)&&void 0!==Ie?Ie:[]).concat(wd),layer:I})}Ie='datum["lower_box_'.concat(Cd.field,'"]');g='datum["upper_box_'.concat(Cd.field,'"]');d="(".concat(g," - ").concat(Ie,")");Ie="".concat(Ie," - ").concat(l," * ").concat(d);d="".concat(g," + ").concat(l," * ").concat(d);Fb='datum["'.concat(Cd.field,'"]');l={joinaggregate:Tc(Cd.field),groupby:of};g={transform:[{filter:"(".concat(Ie," \x3c\x3d ").concat(Fb,") \x26\x26 (").concat(Fb," \x3c\x3d ").concat(d,")")},{aggregate:[{op:"min",
field:Cd.field,as:"lower_whisker_"+Cd.field},{op:"max",field:Cd.field,as:"upper_whisker_"+Cd.field},{op:"min",field:"lower_box_"+Cd.field,as:"lower_box_"+Cd.field},{op:"max",field:"upper_box_"+Cd.field,as:"upper_box_"+Cd.field},...fe],groupby:of}],layer:Oc};dc=Object.assign({},dc);dc=(delete dc.tooltip,dc);const {scale:dg,axis:zg}=Cd;Oc=E(Cd);Na=jb(zg,["title"]);b=ka(A,"outliers",b.boxplot,{transform:[{filter:"(".concat(Fb," \x3c ").concat(Ie,") || (").concat(Fb," \x3e ").concat(d,")")}],mark:"point",
encoding:Object.assign({},{[ne]:Object.assign({},{field:Cd.field,type:Cd.type},void 0!==Oc?{title:Oc}:{},void 0!==dg?{scale:dg}:{},Q(Na)?{}:{axis:Na})},dc,P?{color:P}:{},rf?{tooltip:rf}:{})})[0];A=[...Wc,...cd,l];b?b={transform:A,layer:[b,g]}:(b=g,b.transform.unshift(...A));return Object.assign({},k,{layer:[b,{transform:wd,layer:I}]})}function Tc(d){return[{op:"q1",field:d,as:"lower_box_"+d},{op:"q3",field:d,as:"upper_box_"+d}]}function Rc(d,k){({config:k}=k);d=Object.assign({},d,{encoding:nb(d.encoding,
k)});const {transform:b,continuousAxisChannelDef:g,continuousAxis:l,encodingWithoutContinuousAxis:A,ticksOrient:I,markDef:P,outerSpec:ta,tooltipEncoding:Na}=Md(d,"errorbar",k);delete A.size;d=aa(P,l,g,A,k.errorbar);k=P.thickness;var wb=P.size;wb=Object.assign({},{type:"tick",orient:I,aria:!1},void 0!==k?{thickness:k}:{},void 0!==wb?{size:wb}:{});d=[...d({partName:"ticks",mark:wb,positionPrefix:"lower",extraEncoding:Na}),...d({partName:"ticks",mark:wb,positionPrefix:"upper",extraEncoding:Na}),...d({partName:"rule",
mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==k?{size:k}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Na})];return Object.assign({},ta,{transform:b},1<d.length?{layer:d}:Object.assign({},d[0]))}function yd(d,k){var {encoding:b}=d;if(!(!xd(b.x)&&!xd(b.y)||xd(b.x2)||xd(b.y2)||xd(b.xError)||xd(b.xError2)||xd(b.yError)||xd(b.yError2)))return{orient:Sb(d,k),inputType:"raw"};var g=xd(b.x2)||xd(b.y2);var l=xd(b.xError)||xd(b.xError2)||xd(b.yError)||xd(b.yError2);
d=b.x;const A=b.y;if(g){if(l)throw Error("".concat(k," cannot be both type aggregated-upper-lower and aggregated-error"));g=b.x2;b=b.y2;if(xd(g)&&xd(b))throw Error("".concat(k," cannot have both x2 and y2"));if(xd(g)){if(fd(d))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(k));}if(xd(b)){if(fd(A))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(k));
}}else{g=b.xError;l=b.yError;const I=b.yError2;if(xd(b.xError2)&&!xd(g))throw Error("".concat(k," cannot have xError2 without xError"));if(xd(I)&&!xd(l))throw Error("".concat(k," cannot have yError2 without yError"));if(xd(g)&&xd(l))throw Error("".concat(k," cannot have both xError and yError with both are quantiative"));if(xd(g)){if(fd(d))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(xd(l)){if(fd(A))return{orient:"vertical",
inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Md(d,k,b){var g,l=Object.assign({},d),A=d.mark,I=d.encoding,P=d.selection;l=(delete l.mark,delete l.encoding,delete l.selection,delete l.projection,l);A=Ad(A)?A:{type:A};P&&Gb(ld(k));const {orient:ta,inputType:Na}=yd(d,k),{continuousAxisChannelDef:wb,continuousAxisChannelDef2:Fb,continuousAxisChannelDefError:dc,continuousAxisChannelDefError2:Oc,continuousAxis:Wc}=
lb(d,ta,k);P=[];d=[];var cd=wb.field,wd=!1;if("raw"===Na){var Cd=A.center?A.center:A.extent?"iqr"===A.extent?"median":"mean":b.errorbar.center;var ne=A.extent?A.extent:"mean"===Cd?"stderr":"iqr";"median"===Cd!==("iqr"===ne)&&(P=ne,P="".concat(Cd," is not usually used with ").concat(P," for ").concat(k,"."),Gb(P));"stderr"===ne||"stdev"===ne?(P=[{op:ne,field:cd,as:"extent_"+cd},{op:Cd,field:cd,as:"center_"+cd}],d=[{calculate:'datum["center_'.concat(cd,'"] + datum["extent_').concat(cd,'"]'),as:"upper_"+
cd},{calculate:'datum["center_'.concat(cd,'"] - datum["extent_').concat(cd,'"]'),as:"lower_"+cd}],cd={fieldPrefix:"center_",titlePrefix:W(Cd)},wd=ne,wd={fieldPrefix:"upper_",titlePrefix:W(Cd)+" + "+wd},k=ne,k=W(Cd)+" - "+k,Cd=[cd,wd,{fieldPrefix:"lower_",titlePrefix:k}],wd=!0):("ci"===ne?(k="mean",Cd="ci0",ne="ci1"):(k="median",Cd="q1",ne="q3"),P=[{op:Cd,field:cd,as:"lower_"+cd},{op:ne,field:cd,as:"upper_"+cd},{op:k,field:cd,as:"center_"+cd}],Cd=[{fieldPrefix:"upper_",titlePrefix:Ze({field:cd,aggregate:ne,
type:"quantitative"},b,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ze({field:cd,aggregate:Cd,type:"quantitative"},b,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ze({field:cd,aggregate:k,type:"quantitative"},b,{allowDisabling:!1})}])}else{if(A.center||A.extent){k=A.center;var of=A.extent;k="".concat(of?"extent ":"").concat(of&&k?"and ":"").concat(k?"center ":"").concat(of&&k?"are ":"is ","not needed when data are aggregated.");Gb(k)}"aggregated-upper-lower"===Na?(Cd=[],d=[{calculate:'datum["'.concat(Fb.field,
'"]'),as:"upper_"+cd},{calculate:'datum["'.concat(cd,'"]'),as:"lower_"+cd}]):"aggregated-error"===Na&&(Cd=[{fieldPrefix:"",titlePrefix:cd}],d=[{calculate:'datum["'.concat(cd,'"] + datum["').concat(dc.field,'"]'),as:"upper_"+cd}],Oc?d.push({calculate:'datum["'.concat(cd,'"] + datum["').concat(Oc.field,'"]'),as:"lower_"+cd}):d.push({calculate:'datum["'.concat(cd,'"] - datum["').concat(dc.field,'"]'),as:"lower_"+cd}));for(ne of d)Cd.push({fieldPrefix:ne.as.substring(0,6),titlePrefix:U(U(ne.calculate,
'datum["',""),'"]',"")})}d={postAggregateCalculates:d,errorBarSpecificAggregate:P,tooltipSummary:Cd,tooltipTitleWithFieldName:wd};const {errorBarSpecificAggregate:fe,postAggregateCalculates:mf,tooltipSummary:Kd,tooltipTitleWithFieldName:hg}=d;I=Object.assign({},I);d="x"===Wc?"x2":"y2";P="x"===Wc?"xError":"yError";cd="x"===Wc?"xError2":"yError2";I=(delete I[Wc],delete I[d],delete I[P],delete I[cd],I);const {bins:rf,timeUnits:Ie,aggregate:dg,groupby:zg,encoding:Qf}=Da(I,b);b=[...dg,...fe];I="raw"!==
Na?[]:zg;d=u(Kd,wb,Qf,hg);return{transform:[...null!==(g=l.transform)&&void 0!==g?g:[],...rf,...Ie,...0===b.length?[]:[{aggregate:b,groupby:I}],...mf],groupby:I,continuousAxisChannelDef:wb,continuousAxis:Wc,encodingWithoutContinuousAxis:Qf,ticksOrient:"vertical"===ta?"horizontal":"vertical",markDef:A,outerSpec:l,tooltipEncoding:d}}function bd(d,k){({config:k}=k);d=Object.assign({},d,{encoding:nb(d.encoding,k)});const {transform:b,continuousAxisChannelDef:g,continuousAxis:l,encodingWithoutContinuousAxis:A,
markDef:I,outerSpec:P,tooltipEncoding:ta}=Md(d,"errorband",k);k=aa(I,l,g,A,k.errorband);d=void 0!==d.encoding.x&&void 0!==d.encoding.y;let Na={type:d?"area":"rect"},wb={type:d?"line":"rule"};const Fb=Object.assign({},I.interpolate?{interpolate:I.interpolate}:{},I.tension&&I.interpolate?{tension:I.tension}:{});d?(Na=Object.assign({},Na,Fb,{ariaRoleDescription:"errorband"}),wb=Object.assign({},wb,Fb,{aria:!1})):I.interpolate?Gb(Db("interpolate")):I.tension&&Gb(Db("tension"));return Object.assign({},
P,{transform:b,layer:[...k({partName:"band",mark:Na,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ta}),...k({partName:"borders",mark:wb,positionPrefix:"lower",extraEncoding:ta}),...k({partName:"borders",mark:wb,positionPrefix:"upper",extraEncoding:ta})]})}function Sd(d,k,b){k=new pl(d,k);Wl[d]={normalizer:k,parts:b}}function je(d){const k=[];for(const l of d||[]){var b=l,g=Object.assign({},b);d=b.expr;b=b.bind;g=(delete g.expr,delete g.bind,g);b&&d?(d=Object.assign({},g,{bind:b,init:d}),
k.push(d)):(d=Object.assign({},g,d?{update:d}:{},b?{bind:b}:{}),k.push(d))}return k}function We(d){return!!d&&("legend"===d||!!d.legend)}function oa(d){return We(d)&&ub(d)}function Pa(d,k){const b={};for(const g of Am)d&&void 0!==d[g]&&(b[g]=Bd(d[g]));k&&(b.params=d.params);return b}function pb(d){return ub(d)&&void 0!==d.step}function Cb(d){return d.view||d.width||d.height}function Ub(d,k,b){const g={},{spacing:l,columns:A}=b[k];void 0!==l&&(g.spacing=l);void 0!==A&&("facet"in d&&!ua(d.facet)||"concat"in
d)&&(g.columns=A);"vconcat"in d&&(g.columns=1);for(const ta of Bm)if(void 0!==d[ta])if("spacing"===ta){var I,P;k=d[ta];g[ta]=Wa(k)?k:{row:null!==(I=k.row)&&void 0!==I?I:l,column:null!==(P=k.column)&&void 0!==P?P:l}}else g[ta]=d[ta];return g}function c(d,k){var b;return null!==(b=d[k])&&void 0!==b?b:d["width"===k?"continuousWidth":"continuousHeight"]}function m(d,k){d=F(d,k);return pb(d)?d.step:20}function F(d,k){var b;k=null!==(b=d[k])&&void 0!==b?b:d["width"===k?"discreteWidth":"discreteHeight"];
return ma(k,{step:d.step})}function ha(d){var k=td(d||{});const b={};for(const g of k)k=d[g],b[g]=C(k)?Td(k):Bd(k);return b}function Fa(d){d=void 0===d?{}:d;var k=Object.assign({},d),b=d.color,g=d.font;d=d.fontSize;k=(delete k.color,delete k.font,delete k.fontSize,k);g=g?{text:{font:g},style:{"guide-label":{font:g},"guide-title":{font:g},"group-title":{font:g},"group-subtitle":{font:g}}}:{};b?(b=void 0===b?{}:b,b={signals:[{name:"color",value:ub(b)?Object.assign({},Xl,b):Xl}],mark:{color:{signal:"color.blue"}},
rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},
{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):b={};d=d?{signals:[{name:"fontSize",value:ub(d)?Object.assign({},Yl,d):Yl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};
d=Qb({},Cm,g,b,d,k||{});k=jb(d,Dm);for(var l of["background","lineBreak","padding"])d[l]&&(k[l]=Bd(d[l]));for(var A of Zl)d[A]&&(k[A]=cf(d[A]));for(var I of jl)d[I]&&(k[I]=ha(d[I]));for(const ta of $l)d[ta]&&(k[ta]=cf(d[ta]));d.legend&&(k.legend=cf(d.legend));d.scale&&(k.scale=cf(d.scale));if(d.style){l=d.style;A=td(l);I={};for(P of A)I[P]=ha(l[P]);var P=I;k.style=P}d.title&&(k.title=cf(d.title));d.view&&(k.view=cf(d.view));return k}function Ob(d){d=Ve(d);for(var k of Em)delete d[k];if(d.axis)for(var b in d.axis)C(d.axis[b])&&
delete d.axis[b];if(d.legend)for(var g of Fm)delete d.legend[g];if(d.mark){for(var l of am)delete d.mark[l];d.mark.tooltip&&ub(d.mark.tooltip)&&delete d.mark.tooltip}d.params&&(d.signals=(d.signals||[]).concat(je(d.params)),delete d.params);for(var A of Gm){for(const ta of am)delete d[A][ta];if(k=Hm[A])for(const ta of k)delete d[A][ta];b=k=void 0;g=d;l=A;var I=void 0,P=g[l];"view"===l&&(I="cell");P=Object.assign({},P,g.style[null!==(b=I)&&void 0!==b?b:l]);Q(P)||(g.style[null!==(k=I)&&void 0!==k?k:
l]=P);delete g[l]}for(const ta of td(Wl))delete d[ta];{A=d;const {titleMarkConfig:ta,subtitleMarkConfig:Na,subtitle:wb}=ud(A.title);Q(ta)||(A.style["group-title"]=Object.assign({},A.style["group-title"],ta));Q(Na)||(A.style["group-subtitle"]=Object.assign({},A.style["group-subtitle"],Na));Q(wb)?delete A.title:A.title=wb}for(const ta in d)ub(d[ta])&&Q(d[ta])&&delete d[ta];return Q(d)?void 0:d}function Tb(d,k){const b="x"===k?"y":"radius";var g=d[k];d=d[b];if(uc(g)&&uc(d))if("quantitative"===Fc(g)&&
"quantitative"===Fc(d)){if(g.stack)return k;if(d.stack)return b;const I=uc(g)&&!!g.aggregate,P=uc(d)&&!!d.aggregate;if(I!==P)return I?k:b;var l,A;g=null===(l=g.scale)||void 0===l?void 0:l.type;l=null===(A=d.scale)||void 0===A?void 0:A.type;if(g&&"linear"!==g)return b;if(l&&"linear"!==l)return k}else{if("quantitative"===Fc(g))return k;if("quantitative"===Fc(d))return b}else{if("quantitative"===Fc(g))return k;if("quantitative"===Fc(d))return b}}function cc(d){switch(d){case "x":return"y";case "y":return"x";
case "theta":return"radius";case "radius":return"theta"}}function vc(d,k,b){b=void 0===b?{}:b;d=Ad(d)?d.type:d;if(!Im.has(d))return null;const g=Tb(k,"x")||Tb(k,"theta");if(!g)return null;const l=k[g];var A=uc(l)?pd(l,{}):void 0;let I=cc(g),P=k[I],ta=uc(P)?pd(P,{}):void 0;ta===A&&(I=P=ta=void 0);A=gk.reduce((wb,Fb)=>{if("tooltip"!==Fb&&ia(k,Fb)){var dc=k[Fb];for(const Oc of qb(dc)){dc=df(Oc);if(dc.aggregate)continue;const Wc=pd(dc,{});Wc&&Wc===ta||wb.push({channel:Fb,fieldDef:dc})}}return wb},[]);
let Na;void 0!==l.stack?Na=sb(l.stack)?l.stack?"zero":null:l.stack:0<A.length&&Jm.has(d)&&(Na="zero");if(!(Na&&Na in Km)||ya(k)&&0===A.length)return null;if(l.scale&&l.scale.type&&l.scale.type!==h.LINEAR){if(b.disallowNonLinearStack)return null;Gb("Cannot stack non-linear scale (".concat(l.scale.type,")."))}if(xd(k[sa(g)]))return void 0!==l.stack&&Gb(za(g)),null;uc(l)&&l.aggregate&&!Ma(Ig,l.aggregate)&&Gb('Stacking is applied even though the aggregate function is non-summative ("'.concat(l.aggregate,
'").'));return{groupbyChannel:P?I:void 0,groupbyField:ta,fieldChannel:g,impute:null===l.impute?!1:re(d),stackBy:A,offset:Na}}function hd(d){d=Object.assign({},d);d=(delete d.point,delete d.line,d);return 1<td(d).length?d:d.type}function nd(d){for(const k of["line","area","rule","trail"])d[k]&&(d=Object.assign({},d,{[k]:jb(d[k],["point","line"])}));return d}function ie(d,k,b){k=void 0===k?{}:k;if("transparent"===d.point)return{opacity:0};if(d.point)return ub(d.point)?d.point:{};if(void 0!==d.point)return null;
if(k.point||b.shape)return ub(k.point)?k.point:{}}function $d(d,k){k=void 0===k?{}:k;if(d.line)return!0===d.line?{}:d.line;if(void 0!==d.line)return null;if(k.line)return!0===k.line?{}:k.line}function Vd(d,k){return k?qf(d,k):d}function Hd(d,k,b){const g=k[d];if(g&&!Ha(g)&&"repeat"in g){if(g.repeat in b)return Object.assign({},k,{[d]:b[g.repeat]});Gb('Unknown repeated value "'.concat(g.repeat,'".'))}else return k}function md(d,k){d=Hd("field",d,k);if(void 0!==d){if(null===d)return null;"sort"in d&&
K(d.sort)&&(k=Hd("field",d.sort,k),d=Object.assign({},d,k?{sort:k}:{}));return d}}function ce(d,k){if(uc(d))return md(d,k);k=Hd("datum",d,k);k===d||k.type||(k.type="nominal");return k}function bf(d,k){if(xd(d)){if(k=ce(d,k))return k;if(d&&"condition"in d)return{condition:d.condition}}else{if(Gc(d)){if(k=ce(d.condition,k))return Object.assign({},d,{condition:k});d=Object.assign({},d);return delete d.condition,d}return d}}function qf(d,k){const b={};for(const l in d)if(Jj.call(d,l)){var g=d[l];te(g)?
b[l]=g.map(A=>bf(A,k)).filter(A=>A):(g=bf(g,k),void 0!==g&&(b[l]=g))}return b}function ke(d){var {parentEncoding:k,encoding:b={},layer:g}=d;d={};if(k){var l=new Set([...td(k),...td(b)]);for(const A of l){l=b[A];const I=k[A];if(xd(l))l=Object.assign({},I,l),d[A]=l;else if(Gc(l))d[A]=Object.assign({},l,{condition:Object.assign({},I,l.condition)});else if(l||null===l)d[A]=l;else if(g||le(I)||Cc(I)||xd(I)||te(I))d[A]=I}}else d=b;return!d||Q(d)?void 0:d}function Xe(d){const {parentProjection:k,projection:b}=
d;if(k&&b){{const {parentProjection:g,projection:l}={parentProjection:k,projection:b};d="Layer's shared projection ".concat(If(g)," is overridden by a child projection ").concat(If(l),".")}Gb(d)}return null!==b&&void 0!==b?b:k}function hf(d,k){void 0===k&&(k=Fa(d.config));var b=k;b=void 0===b?{}:b;b=Lm.map(d,{config:b});const {width:g,height:l}=d;{let {width:A,height:I}={width:g,height:l,autosize:d.autosize};d=Y(b)||"layer"in b;const P={};d?"container"==A&&"container"==I?(P.type="fit",P.contains=
"padding"):"container"==A?(P.type="fit-x",P.contains="padding"):"container"==I&&(P.type="fit-y",P.contains="padding"):("container"==A&&(Gb(rc("width")),A=void 0),"container"==I&&(Gb(rc("height")),I=void 0));k=Object.assign({},{type:"pad"},P,k?kg(k.autosize):{},kg(b.autosize));"fit"!==k.type||d||(Gb('Autosize "fit" only works for single views and layered views.'),k.type="pad");"container"==A&&"fit"!=k.type&&"fit-x"!=k.type&&Gb(Xc("width"));"container"==I&&"fit"!=k.type&&"fit-y"!=k.type&&Gb(Xc("height"));
d=Kj(k,{type:"pad"})?void 0:k}return Object.assign({},b,d?{autosize:d}:{})}function kg(d){return Ha(d)?{type:d}:null!==d&&void 0!==d?d:{}}function Yf(d){return{explicit:!0,value:d}}function Lf(d){return{explicit:!1,value:d}}function Gh(d){return(k,b,g,l)=>{const A=d(k.value,b.value);return 0<A?k:0>A?b:Rd(k,b,g,l)}}function Rd(d,k,b,g){if(d.explicit&&k.explicit){var l=d.value;k=k.value;b="Conflicting ".concat(g.toString(),' property "').concat(b.toString(),'" (').concat(If(l)," and ").concat(If(k),
"). Using ").concat(If(l),".");Gb(b)}return d}function Ef(d,k,b,g,l){l=void 0===l?Rd:l;return void 0===d||void 0===d.value?k:d.explicit&&!k.explicit?d:k.explicit&&!d.explicit?k:Kj(d.value,k.value)?d:l(d,k,b,g)}function Hh(d){return"name"in d&&!("url"in d)&&!("values"in d)&&!Zg(d)}function Zg(d){return d&&("sequence"in d||"sphere"in d||"graticule"in d)}function rh(d){return d.map(k=>"filter"in k?{filter:Ea(k.filter,Fd)}:k)}function Hi(d,k,b){bm=k||"view";cm=b||Mm;return Xh(d.trim()).map(bj)}function Ii(d,
k,b,g,l){const A=d.length;let I=0,P;for(;k<A;++k)if(P=d[k],I||P!==b)l&&0<=l.indexOf(P)?--I:g&&0<=g.indexOf(P)&&++I;else break;return k}function Xh(d){const k=[],b=d.length;let g=0,l=0;for(;l<b;)l=Ii(d,l,",","[{","]}"),k.push(d.substring(g,l).trim()),g=++l;if(0===k.length)throw"Empty event selector: "+d;return k}function bj(d){if("["===d[0]){var k=d;var b=k.length;d=Ii(k,1,"]","[","]");if(d===b)throw"Empty between selector: "+k;b=Xh(k.substring(1,d));if(2!==b.length)throw"Between selector must have two elements: "+
k;k=k.slice(d+1).trim();if("\x3e"!==k[0])throw"Expected '\x3e' after between selector: "+k;b=b.map(bj);k=bj(k.slice(1).trim());k.between?k={between:b,stream:k}:k.between=b}else{{b={source:bm};const g=[];let l=[0,0],A=0,I=0,P=d.length,ta=0,Na;if("}"===d[P-1]){ta=d.lastIndexOf("{");if(0<=ta){try{l=Yi(d.substring(ta+1,P-1))}catch(wb){throw"Invalid throttle specification: "+d;}d=d.slice(0,ta).trim();P=d.length}else throw"Unmatched right brace: "+d;ta=0}if(!P)throw d;"@"===d[0]&&(A=++ta);Na=Ii(d,ta,":");
Na<P&&(g.push(d.substring(I,Na).trim()),I=ta=++Na);ta=Ii(d,ta,"[");if(ta===P)g.push(d.substring(I,P).trim());else if(g.push(d.substring(I,ta).trim()),k=[],I=++ta,I===P)throw"Unmatched left bracket: "+d;for(;ta<P;){ta=Ii(d,ta,"]");if(ta===P)throw"Unmatched left bracket: "+d;k.push(d.substring(I,ta).trim());if(ta<P-1&&"["!==d[++ta])throw"Expected left bracket: "+d;I=++ta}if(!(P=g.length)||Nm.test(g[P-1]))throw"Invalid event selector: "+d;1<P?(b.type=g[1],A?b.markname=g[0].slice(1):cm[g[0]]?b.marktype=
g[0]:b.source=g[0]):b.type=g[0];"!"===b.type.slice(-1)&&(b.consume=!0,b.type=b.type.slice(0,-1));null!=k&&(b.filter=k);l[0]&&(b.throttle=l[0]);l[1]&&(b.debounce=l[1]);k=b}}return k}function Yi(d){const k=d.split(",");if(!d.length||2<k.length)throw d;return k.map(b=>{b=+b;if(b!==b)throw d;return b})}function mi(d,k,b,g){var l=!!k&&"condition"in k&&k.condition;k=g(k);return l?(l=qb(l).map(A=>{const I=g(A);A=A.selection?Ph(d,A.selection):Ah(d,A.test);return Object.assign({},{test:A},I)}),{[b]:[...l,
...void 0!==k?[k]:[]]}):void 0!==k?{[b]:k}:{}}function tj(d,k){k=void 0===k?"text":k;return mi(d,d.encoding[k],k,b=>Mg(b,d.config))}function Mg(d,k,b){b=void 0===b?"datum":b;if(d){if(le(d))return Pd(d.value);if(xd(d)){const {format:g,formatType:l}=vf(d);return Xd({fieldOrDatumDef:d,format:g,formatType:l,expr:b,config:k})}}}function Lj(d,k){k=void 0===k?{}:k;const {encoding:b,markDef:g,config:l,stack:A}=d,I=b.tooltip;if(te(I))return{tooltip:Wh({tooltip:I},A,l,k)};{const P=k.reactiveGeom?"datum.datum":
"datum";return mi(d,I,"tooltip",ta=>{const Na=Mg(ta,l,P);if(Na)return Na;if(null!==ta){ta=be("tooltip",g,l);!0===ta&&(ta={content:"encoding"});if(Ha(ta))return{value:ta};if(ub(ta))return Cc(ta)?ta:"encoding"===ta.content?Wh(b,A,l,k):{signal:P}}})}}function jk(d,k,b,g){function l(ta,Na){var wb,Fb=Ja(Na);ta=zd(ta)?ta:Object.assign({},ta,{type:d[Fb].type});Fb=ta.title||Wk(ta,b);Fb=qb(Fb).join(", ");if(Na in xg){const Wc="x"===Na?"x2":"y2";var dc=df(d[Wc]);if(Sc(ta.bin)&&dc){var Oc=pd(ta,{expr:I});dc=
pd(dc,{expr:I});const {format:cd,formatType:wd}=vf(ta);Oc=Pe(Oc,dc,cd,wd,b);A[Wc]=!0}else if(k&&k.fieldChannel===Na&&"normalize"===k.offset){const {format:cd,formatType:wd}=vf(ta);Oc=Xd({fieldOrDatumDef:ta,format:cd,formatType:wd,expr:I,config:b,normalizeStack:!0}).signal}}Oc=null!==(wb=Oc)&&void 0!==wb?wb:Mg(ta,b,I).signal;P.push({channel:Na,key:Fb,value:Oc})}({reactiveGeom:g}=void 0===g?{}:g);const A={},I=g?"datum.datum":"datum",P=[];Eb(d,(ta,Na)=>{uc(ta)?l(ta,Na):lc(ta)&&l(ta.condition,Na)});g=
{};for(const ta of P){const {channel:Na,key:wb,value:Fb}=ta;A[Na]||g[wb]||(g[wb]=Fb)}return g}function Wh(d,k,b,g){({reactiveGeom:g}=void 0===g?{}:g);d=jk(d,k,b,{reactiveGeom:g});d=dh(d).map(l=>{var [A,I]=l;return'"'.concat(A,'": ').concat(I)});return 0<d.length?{signal:"{".concat(d.join(", "),"}")}:void 0}function Ei(d){const {markDef:k,config:b}=d,g=be("aria",k,b);return!1===g?{}:Object.assign({},g?{aria:g}:{},eh(d),Ij(d))}function eh(d){const {mark:k,markDef:b,config:g}=d;if(!1===g.aria)return{};
d=be("ariaRoleDescription",b,g);return null!=d?{ariaRoleDescription:{value:d}}:k in Dl?{}:{ariaRoleDescription:{value:k}}}function Ij(d){const {encoding:k,markDef:b,config:g,stack:l}=d;var A=k.description;if(A)return mi(d,A,"description",I=>Mg(I,d.config));A=be("description",b,g);if(null!=A)return{description:Pd(A)};if(!1===g.aria)return{};A=jk(k,l,g);if(!Q(A))return{description:{signal:dh(A).map((I,P)=>{var [ta,Na]=I;return'"'.concat(0<P?"; ":"").concat(ta,': " + (').concat(Na,")")}).join(" + ")}}}
function qg(d,k,b){b=void 0===b?{}:b;const {markDef:g,encoding:l,config:A}=k,{vgChannel:I}=b;let {defaultRef:P,defaultValue:ta}=b;if(void 0===P){var Na;ta=null!==(Na=ta)&&void 0!==Na?Na:be(d,g,A,{vgChannel:I,ignoreVgConfig:!0});void 0!==ta&&(P=Pd(ta))}return mi(k,l[d],null!==I&&void 0!==I?I:d,wb=>Se({channel:d,channelDef:wb,markDef:g,config:A,scaleName:k.scaleName(d),scale:k.getScaleComponent(d),stack:null,defaultRef:P}))}function Fk(d,k){k=void 0===k?{filled:void 0}:k;var b,g,l,A;const {markDef:I,
encoding:P,config:ta}=d,{type:Na}=I;k=null!==(b=k.filled)&&void 0!==b?b:be("filled",I,ta);b=Ma(["bar","point","circle","square","geoshape"],Na)?"transparent":void 0;b=null!==(g=null!==(l=be(!0===k?"color":void 0,I,ta,{vgChannel:"fill"}))&&void 0!==l?l:ta.mark[!0===k&&"color"])&&void 0!==g?g:b;g=null!==(A=be(!1===k?"color":void 0,I,ta,{vgChannel:"stroke"}))&&void 0!==A?A:ta.mark[!1===k&&"color"];A=k?"fill":"stroke";l=Object.assign({},b?{fill:Pd(b)}:{},g?{stroke:Pd(g)}:{});I.color&&(k?I.fill:I.stroke)&&
Gb(vb("property",{fill:"fill"in I,stroke:"stroke"in I}));return Object.assign({},l,qg("color",d,{vgChannel:A,defaultValue:k?b:g}),qg("fill",d,{defaultValue:P.fill?b:void 0}),qg("stroke",d,{defaultValue:P.stroke?g:void 0}))}function ek(d){const {encoding:k,mark:b}=d,g=k.order;return!re(b)&&le(g)?mi(d,g,"zindex",l=>Pd(l.value)):{}}function ph(d,k){d=xb(d);if(k=k[d])return k}function wg(d,k,b){var {defaultPos:g,vgChannel:l,isMidPoint:A}=b;const {encoding:I,markDef:P,config:ta,stack:Na}=k;b=I[d];const wb=
I[sa(d)],Fb=k.scaleName(d),dc=k.getScaleComponent(d),Oc=ph(d,P),Wc=aj({model:k,defaultPos:g,channel:d,scaleName:Fb,scale:dc});if(!b&&d in xg&&(I.latitude||I.longitude))k={field:k.getName(d)};else a:{k={channel:d,channelDef:b,channel2Def:wb,markDef:P,config:ta,isMidPoint:A,scaleName:Fb,scale:dc,stack:Na,offset:Oc,defaultRef:Wc};const {channel:cd,channelDef:wd,isMidPoint:Cd,scaleName:ne,stack:of,offset:fe,markDef:mf,config:Kd}=k;if(xd(wd)&&of&&cd===of.fieldChannel){if(uc(wd)&&(k=Va({channel:cd,fieldDef:wd,
isMidPoint:Cd,markDef:mf,stack:of,config:Kd}),void 0!==k)){k=Jd({scaleName:ne,fieldOrDatumDef:wd,startSuffix:"start",band:k,offset:fe});break a}k=De(wd,ne,{suffix:"end"},{offset:fe})}else k=Ld(k)}return k?{[l||d]:k}:void 0}function aj(d){var {model:k,defaultPos:b,channel:g,scaleName:l,scale:A}=d;const {markDef:I,config:P}=k;return()=>{var ta=Ja(g),Na=Z(g);Na=be(g,I,P,{vgChannel:Na});if(void 0!==Na)return Ee(g,Na);switch(b){case "zeroOrMin":case "zeroOrMax":if(l&&(Na=A.get("type"),!Ma([h.LOG,h.TIME,
h.UTC],Na)&&A.domainDefinitelyIncludesZero()))return{scale:l,value:0};if("zeroOrMin"===b)return"y"===ta?{field:{group:"height"}}:{value:0};switch(ta){case "radius":return{signal:"min(".concat(k.width.signal,",").concat(k.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ta=k[eb(g)],Object.assign({},ta,{mult:.5})}}}function uj(d,k,b,g){g=void 0===g?"middle":g;if("radius"===d||"theta"===d)return Z(d);var l=
"x"===d?"align":"baseline";k=be(l,k,b);Cc(k)?(Gb("The ".concat(l," for range marks cannot be an expression")),l=void 0):l=k;return"x"===d?Om[l||("top"===g?"left":"center")]:Pm[l||g]}function Ji(d,k,b){var {defaultPos:g,defaultPos2:l,range:A}=b;return A?kk(d,k,{defaultPos:g,defaultPos2:l}):wg(d,k,{defaultPos:g})}function kk(d,k,b){var {defaultPos:g,defaultPos2:l}=b;const {markDef:A,config:I}=k;var P=sa(d);b=eb(d);{const {encoding:fe,mark:mf,markDef:Kd,stack:hg,config:rf}=k;var ta=Ja(P);const Ie=eb(P),
dg=Z(P);var Na=fe[ta];const zg=k.scaleName(ta),Qf=k.getScaleComponent(ta);ta=P in fe||P in Kd?ph(P,k.markDef):ph(ta,k.markDef);if(Na||"x2"!==P&&"y2"!==P||!fe.latitude&&!fe.longitude){var {channel:wb,channelDef:Fb,channel2Def:dc,markDef:Oc,config:Wc,scaleName:cd,scale:wd,stack:Cd,offset:ne,defaultRef:of}={channel:P,channelDef:Na,channel2Def:fe[P],markDef:Kd,config:rf,scaleName:zg,scale:Qf,stack:hg,offset:ta,defaultRef:void 0};Na=xd(Fb)&&Cd&&wb.charAt(0)===Cd.fieldChannel.charAt(0)?De(Fb,cd,{suffix:"start"},
{offset:ne}):Ld({channel:wb,channelDef:dc,scaleName:cd,scale:wd,stack:Cd,markDef:Oc,config:Wc,offset:ne,defaultRef:of});P=void 0!==Na?{[dg]:Na}:cj(P,Kd)||cj(P,{[P]:Ce(P,Kd,rf.style),[Ie]:Ce(Ie,Kd,rf.style)})||cj(P,rf[mf])||cj(P,rf.mark)||{[dg]:aj({model:k,defaultPos:l,channel:P,scaleName:zg,scale:Qf})()}}else P={[dg]:{field:k.getName(P)}}}b=P[b]?uj(d,A,I):Z(d);return Object.assign({},wg(d,k,{defaultPos:g,vgChannel:b}),P)}function cj(d,k){const b=eb(d),g=Z(d);if(void 0!==k[g])return{[g]:Ee(d,k[g])};
if(void 0!==k[d])return{[g]:Ee(d,k[d])};if(k[b])return{[b]:Ee(d,k[b])}}function Ih(d,k,b){var g,l;const {config:A,encoding:I,markDef:P,stack:ta}=d;var Na=sa(k),wb=eb(k),Fb=I[k];Na=I[Na];var dc=d.getScaleComponent(k),Oc=dc?dc.get("type"):void 0,Wc=d.scaleName(k);const cd=P.orient;wb=null!==(g=null!==(l=I[wb])&&void 0!==l?l:I.size)&&void 0!==g?g:be("size",P,A,{vgChannel:wb});g="bar"===b&&("x"===k?"vertical"===cd:"horizontal"===cd);if(uc(Fb)&&(Dc(Fb.bin)||Sc(Fb.bin)||Fb.timeUnit&&!Na)&&!wb&&!(Oc in Qd)){var wd,
Cd;b=Va({channel:k,fieldDef:Fb,stack:ta,markDef:P,config:A});d=null===(wd=d.component.axes[k])||void 0===wd?void 0:wd[0];d=null!==(Cd=null===d||void 0===d?void 0:d.get("translate"))&&void 0!==Cd?Cd:.5;a:{k={fieldDef:Fb,fieldDef2:Na,channel:k,markDef:P,scaleName:Wc,band:b,axisTranslate:d,spacing:k in xg?be("binSpacing",P,A):void 0,reverse:dc.get("reverse"),config:A};var {fieldDef:ne,fieldDef2:of,channel:fe,band:mf,scaleName:Kd,markDef:hg,spacing:rf=0,axisTranslate:Ie,reverse:dg,config:zg}=k;k=sa(fe);
Fb=Z(fe);d=Z(k);b=ph(fe,hg);if(Dc(ne.bin)||ne.timeUnit)k={[d]:Gk({channel:fe,fieldDef:ne,scaleName:Kd,markDef:hg,band:(1-mf)/2,offset:Jh(k,rf,dg,Ie,b),config:zg}),[Fb]:Gk({channel:fe,fieldDef:ne,scaleName:Kd,markDef:hg,band:1-(1-mf)/2,offset:Jh(fe,rf,dg,Ie,b),config:zg})};else{if(Sc(ne.bin)){var Qf=De(ne,Kd,{},{offset:Jh(k,rf,dg,Ie,b)});if(uc(of)){k={[d]:Qf,[Fb]:De(of,Kd,{},{offset:Jh(fe,rf,dg,Ie,b)})};break a}if(ub(ne.bin)&&ne.bin.step){k={[d]:Qf,[Fb]:{signal:'scale("'.concat(Kd,'", ').concat(pd(ne,
{expr:"datum"})," + ").concat(ne.bin.step,")"),offset:Jh(fe,rf,dg,Ie,b)}};break a}}Gb(Zb(k));k=void 0}}return k}if((xd(Fb)&&Oc in Qd||g)&&!Na){{var Fg;const {markDef:ng,encoding:El,config:Oj,stack:Xk}=d;wd=ng.orient;dc=d.scaleName(k);Wc=d.getScaleComponent(k);Cd=eb(k);Na=sa(k);wd="horizontal"===wd&&"y"===k||"vertical"===wd&&"x"===k;g=be(wd?"size":Cd,ng,Oj,{vgChannel:Cd});if(El.size||void 0!==g)wd?Qf=qg("size",d,{vgChannel:Cd,defaultValue:g}):Gb('Cannot apply size to non-oriented mark "'.concat(ng.type,
'".'));wd=null!==(Fg=xd(Fb)?Va({channel:k,fieldDef:Fb,markDef:ng,stack:Xk,config:Oj}):void 0)&&void 0!==Fg?Fg:1;Qf||(Oc=Cd,Fg=dc,g=Wc,Qf=Oj,l=wd,g?(Oc=g.get("type"),"point"===Oc||"band"===Oc?void 0!==Qf[b].discreteBandSize?b={value:Qf[b].discreteBandSize}:Oc===h.POINT?(b=g.get("range"),b=xc(b)&&Wa(b.step)?{value:b.step-2}:{value:18}):b={scale:Fg,band:l}:b={value:Qf[b].continuousBandSize}):(Fg=m(Qf.view,Oc),b=ma(Qf[b].discreteBandSize,Fg-2),b=void 0!==b?{value:b}:void 0),Qf={[Cd]:b});g="band"!==(null===
Wc||void 0===Wc?void 0:Wc.get("type"))||!("band"in Qf[Cd]);b=uj(k,ng,Oj,g?"middle":"top");Fg=ph(k,ng);k=Ld({channel:k,channelDef:Fb,markDef:ng,config:Oj,scaleName:dc,scale:Wc,stack:Xk,offset:Fg,defaultRef:aj({model:d,defaultPos:"mid",channel:k,scaleName:dc,scale:Wc}),band:g?.5:(1-wd)/2});Cd?k=Object.assign({},{[b]:k},Qf):(Fb=Z(Na),d=Qf[Cd],d=Fg?Object.assign({},d,{offset:Fg}):d,k={[b]:k,[Fb]:te(k)?[k[0],Object.assign({},k[1],{offset:d})]:Object.assign({},k,{offset:d})})}return k}return kk(k,d,{defaultPos:"zeroOrMax",
defaultPos2:"zeroOrMin"})}function Jh(d,k,b,g,l){if(d in qh)return 0;d="x"===d||"y2"===d?-k/2:k/2;if(Cc(b)||Cc(l)||Cc(g))return b=he(b),l=he(l),g=(g=he(g))?"".concat(g," + "):"",b=b?"(".concat(b," ? -1 : 1) * "):"",d=l?"(".concat(l," + ").concat(d,")"):d,{signal:g+b+d};l=l||0;return g+(b?-l-d:+l+d)}function Gk(d){var {channel:k,fieldDef:b,scaleName:g,markDef:l,band:A,offset:I,config:P}=d;d=Jd({scaleName:g,fieldOrDatumDef:b,band:A,offset:I});return ae({fieldDef:b,channel:k,markDef:l,ref:d,config:P})}
function Pg(d,k){const {fill:b,stroke:g}="include"===k.color?Fk(d):{};return Object.assign({},lk(d.markDef,k),vj(d,"fill",b),vj(d,"stroke",g),qg("opacity",d),qg("fillOpacity",d),qg("strokeOpacity",d),qg("strokeWidth",d),qg("strokeDash",d),ek(d),Lj(d),tj(d,"href"),Ei(d))}function vj(d,k,b){const {config:g,mark:l,markDef:A}=d;return"hide"===be("invalid",A,g)&&b&&!re(l)&&(d=lj(d,{invalid:!0,channels:Zh}))?{[k]:[{test:d,value:null},...qb(b)]}:b?{[k]:b}:{}}function lk(d,k){return yl.reduce((b,g)=>{Qm.has(g)||
void 0===d[g]||"ignore"===k[g]||(b[g]=Pd(d[g]));return b},{})}function lj(d,k){var {invalid:b=!1,channels:g}=k;k=g.reduce((l,A)=>{var I=d.getScaleComponent(A);I&&(I=I.get("type"),(A=d.vgField(A,{expr:"datum"}))&&I in Zc&&(l[A]=!0));return l},{});k=td(k);if(0<k.length){const l=b?"||":"\x26\x26";return k.map(A=>Jf(A,b)).join(" ".concat(l," "))}}function Ag(d){const {config:k,markDef:b}=d;return be("invalid",b,k)&&(d=Bg(d,{channels:Tg}))?{defined:{signal:d}}:{}}function Bg(d,k){var {invalid:b=!1,channels:g}=
k;k=g.reduce((l,A)=>{var I=d.getScaleComponent(A);I&&(I=I.get("type"),(A=d.vgField(A,{expr:"datum"}))&&I in Zc&&(l[A]=!0));return l},{});k=td(k);if(0<k.length){const l=b?"||":"\x26\x26";return k.map(A=>Jf(A,b)).join(" ".concat(l," "))}}function Pf(d,k){if(void 0!==k)return{[d]:Pd(k)}}function Mi(d,k){d=Ia(d.scaleName(k));return"domain(".concat(d,")")}function vh(d){var k;return d.parent&&pj(d.parent)&&(null!==(k=!d.parent.parent)&&void 0!==k?k:vh(d.parent.parent))}function gj(d,k,b){var g;const l=
null===(g=d.fieldDef(k))||void 0===g?void 0:g.field;Nh(d,A=>{var I;const P=null!==(I=A.project.hasField[l])&&void 0!==I?I:A.project.hasChannel[k];if(P&&dm.has(A)){var ta;I=null!==(ta=b.get("selections"))&&void 0!==ta?ta:[];I.push(A.name);b.set("selections",I,!1);P.hasLegend=!0}})}function Sj(d,k,b,g,l){var A,I=k.name,P=I+"_translate_anchor";I+="_translate_delta";var ta=b.channel;const Na=Pj.has(k);k=l.filter(Fb=>Fb.name===b.signals[Na?"data":"visual"])[0];g=d.getSizeSignalRef(g).signal;d=d.getScaleComponent(ta);
l=d.get("type");const wb=Na&&"x"===ta?"-":"";P="".concat(P,".extent_").concat(ta);ta="".concat(wb).concat(I,".").concat(ta," / ")+(Na?"".concat(g):"span(".concat(P,")"));P="".concat(Na?"log"===l?"panLog":"pow"===l?"panPow":"panLinear":"panLinear","(").concat(P,", ").concat(ta)+(Na&&"pow"===l?", ".concat(null!==(A=d.get("exponent"))&&void 0!==A?A:1):"")+")";k.on.push({events:{signal:I},update:Na?P:"clampRange(".concat(P,", 0, ").concat(g,")")})}function jj(d,k,b,g,l){var A,I=k.name;const P=b.channel,
ta=Pj.has(k);k=l.filter(Fb=>Fb.name===b.signals[ta?"data":"visual"])[0];g=d.getSizeSignalRef(g).signal;l=d.getScaleComponent(P);const Na=l.get("type"),wb=ta?Mi(d,P):k.name;d=I+"_zoom_delta";I="".concat(I).concat("_zoom_anchor",".").concat(P);I="".concat(ta?"log"===Na?"zoomLog":"pow"===Na?"zoomPow":"zoomLinear":"zoomLinear","(").concat(wb,", ").concat(I,", ").concat(d)+(ta&&"pow"===Na?", ".concat(null!==(A=l.get("exponent"))&&void 0!==A?A:1):"")+")";k.on.push({events:{signal:d},update:ta?I:"clampRange(".concat(I,
", 0, ").concat(g,")")})}function Ni(d,k){for(const b of Rm)b.has(d)&&k(b)}function ci(d,k,b){k=void 0===k?!0:k;b=void 0===b?yk:b;return te(d)?(d=d.map(g=>ci(g,k,b)),k?"[".concat(d.join(", "),"]"):d):sc(d)?k?b(Lb(d)):b(gc(d)):k?b(JSON.stringify(d)):d}function hj(d,k){Nh(d,(b,g)=>{const l=b.name;let A=g.modifyExpr(d,b);k.push(...g.signals(d,b));Ni(b,I=>{I.signals&&(k=I.signals(d,b,k));I.modifyExpr&&(A=I.modifyExpr(d,b,A))});k.push({name:l+"_modify",on:[{events:{signal:b.name+"_tuple"},update:"modify(".concat(Ia(b.name+
"_store"),", ").concat(A,")")}]})});return xh(k)}function di(d,k){d.component.selection&&td(d.component.selection).length&&(d=Ia(d.getName("cell")),k.unshift({name:"facet",value:{},on:[{events:Hi("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(d,").datum")}]}));return xh(k)}function ij(d,k){let b=!1;Nh(d,(g,l)=>{const A=g.name,I=Ia(A+"_store");if(0===k.filter(P=>P.name===A).length){const P="global"===g.resolve?"union":g.resolve,ta="multi"===g.type?", true)":")";k.push({name:g.name,
update:"".concat("vlSelectionResolve","(").concat(I,", ").concat(Ia(P)).concat(ta)})}b=!0;l.topLevelSignals&&(k=l.topLevelSignals(d,g,k));Ni(g,P=>{P.topLevelSignals&&(k=P.topLevelSignals(d,g,k))})});b&&0===k.filter(g=>"unit"===g.name).length&&k.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return xh(k)}function Bj(d,k){const b=[...k];Nh(d,g=>{const l={name:g.name+"_store"};if(g.init){const A=g.project.items.map(P=>{P=Object.assign({},P);return delete P.signals,
P}),I=g.init.map(P=>ci(P,!1));l.values="interval"===g.type?[{unit:jg(d,{escape:!1}),fields:A,values:I}]:I.map(P=>({unit:jg(d,{escape:!1}),fields:A,values:P}))}b.filter(A=>A.name===g.name+"_store").length||b.push(l)});return b}function qi(d,k){Nh(d,(b,g)=>{k=g.marks?g.marks(d,b,k):k;Ni(b,l=>{l.marks&&(k=l.marks(d,b,k))})});return k}function ei(d,k){for(const b of d.children)eg(b)&&(k=qi(b,k));return k}function xh(d){return d.map(k=>{k.on&&!k.on.length&&delete k.on;return k})}function Oi(d,k,b,g){const l=
b.channel,A=b.signals.visual;b=b.signals.data;const I=Pj.has(k),P=Ia(d.scaleName(l));var ta=d.getScaleComponent(l);ta=ta?ta.get("type"):void 0;const Na=dc=>"scale(".concat(P,", ").concat(dc,")"),wb=d.getSizeSignalRef("x"===l?"width":"height").signal,Fb="".concat(l,"(unit)");d=ri(k,(dc,Oc)=>[...dc,{events:Oc.between[0],update:"[".concat(Fb,", ").concat(Fb,"]")},{events:Oc,update:"[".concat(A,"[0], clamp(").concat(Fb,", 0, ").concat(wb,")]")}]);d.push({events:{signal:k.name+"_scale_trigger"},update:ta in
Zc?"[".concat(Na("".concat(b,"[0]")),", ").concat(Na("".concat(b,"[1]")),"]"):"[0, 0]"});return I?[{name:b,on:[]}]:[Object.assign({},{name:A},g?{init:ci(g,!0,Na)}:{value:[]},{on:d}),Object.assign({},{name:b},g?{init:ci(g)}:{},{on:[{events:{signal:A},update:"".concat(A,"[0] \x3d\x3d\x3d ").concat(A,"[1] ? null : invert(").concat(P,", ").concat(A,")")}]})]}function ri(d,k){return d.events.reduce((b,g)=>g.between?k(b,g):(Gb("".concat(g," is not an ordered event stream for interval selections.")),b),
[])}function pg(d,k){const b=k.name;var g=b+"_tuple_fields";const l=k.project.items.map(A=>{const I=d.fieldDef(A.channel);return I&&I.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ia(d.vgField(A.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ia(d.vgField(A.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ia(A.field),"]")}).join(", ");g="unit: ".concat(jg(d),", fields: ").concat(g,", values");
k=k.events;return[{name:b+"_tuple",on:k?[{events:k,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(g,": [").concat(l,"]} : null"),force:!0}]:[]}]}function Nh(d,k){if(d=d.component.selection)for(const b of Fi(d))if(!0===k(b,Sm[b.type]))break}function jg(d,k){({escape:k}=void 0===k?{escape:!0}:k);k=k?Ia(d.name):d.name;for(d=d.parent;d&&!Eh(d);)d=d.parent;if(d){const {facet:b}=d;for(const g of Yg)b[g]&&(k+=" + '__facet_".concat(g,"_' + (facet[").concat(Ia(d.vgField(g)),"])"))}return k}
function Pi(d){let k=!1;Nh(d,b=>{k=k||b.project.items.some(g=>"_vgsid_"===g.field)});return k}function $g(d){this.type=d}function kj(d){switch(d.type){case "ArrayExpression":return d.elements;case "BinaryExpression":case "LogicalExpression":return[d.left,d.right];case "CallExpression":return[d.callee].concat(d.arguments);case "ConditionalExpression":return[d.test,d.consequent,d.alternate];case "MemberExpression":return[d.object,d.property];case "ObjectExpression":return d.properties;case "Property":return[d.key,
d.value];case "UnaryExpression":return[d.argument];default:return[]}}function nf(d,k){if(!d)throw Error("ASSERT: "+k);}function sf(d){return 48<=d&&57>=d}function yf(d){return 0<="0123456789abcdefABCDEF".indexOf(d)}function Ki(d){return 0<="01234567".indexOf(d)}function yg(d){return 10===d||13===d||8232===d||8233===d}function Kg(d){return 36===d||95===d||65<=d&&90>=d||97<=d&&122>=d||92===d||128<=d&&Tm.test(String.fromCharCode(d))}function sg(d){return 36===d||95===d||65<=d&&90>=d||97<=d&&122>=d||
48<=d&&57>=d||92===d||128<=d&&Um.test(String.fromCharCode(d))}function qj(){for(;kd<jh;){const d=xe.charCodeAt(kd);if(32===d||9===d||11===d||12===d||160===d||5760<=d&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(d)||yg(d))++kd;else break}}function fi(d){var k=0;var b="u"===d?4:2;for(d=0;d<b;++d)if(kd<jh&&yf(xe[kd])){var g=xe[kd++];k=16*k+"0123456789abcdef".indexOf(g.toLowerCase())}else lf({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(k)}
function ah(){var d=xe.charCodeAt(kd++);var k=String.fromCharCode(d);92===d&&(117!==xe.charCodeAt(kd)&&lf({},"Unexpected token %0","ILLEGAL"),++kd,(d=fi("u"))&&"\\"!==d&&Kg(d.charCodeAt(0))||lf({},"Unexpected token %0","ILLEGAL"),k=d);for(;kd<jh;){d=xe.charCodeAt(kd);if(!sg(d))break;++kd;k+=String.fromCharCode(d);92===d&&(k=k.substr(0,k.length-1),117!==xe.charCodeAt(kd)&&lf({},"Unexpected token %0","ILLEGAL"),++kd,(d=fi("u"))&&"\\"!==d&&sg(d.charCodeAt(0))||lf({},"Unexpected token %0","ILLEGAL"),
k+=d)}return k}function si(){var d=kd,k=xe.charCodeAt(kd),b=xe[kd];switch(k){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++kd,{type:7,value:String.fromCharCode(k),start:d,end:kd};default:var g=xe.charCodeAt(kd+1);if(61===g)switch(k){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return kd+=2,{type:7,value:String.fromCharCode(k)+String.fromCharCode(g),start:d,end:kd};case 33:case 61:return kd+=2,61===xe.charCodeAt(kd)&&
++kd,{type:7,value:xe.slice(d,kd),start:d,end:kd}}}k=xe.substr(kd,4);if("\x3e\x3e\x3e\x3d"===k)return kd+=4,{type:7,value:k,start:d,end:kd};k=k.substr(0,3);if("\x3e\x3e\x3e"===k||"\x3c\x3c\x3d"===k||"\x3e\x3e\x3d"===k)return kd+=3,{type:7,value:k,start:d,end:kd};k=k.substr(0,2);if(b===k[1]&&0<="+-\x3c\x3e\x26|".indexOf(b)||"\x3d\x3e"===k)return kd+=2,{type:7,value:k,start:d,end:kd};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(b))return++kd,{type:7,value:b,start:d,end:kd};lf({},"Unexpected token %0","ILLEGAL")}
function Oh(){var d=xe[kd];nf(sf(d.charCodeAt(0))||"."===d,"Numeric literal must start with a decimal digit or a decimal point");var k=kd;var b="";if("."!==d){b=xe[kd++];d=xe[kd];if("0"===b){if("x"===d||"X"===d){++kd;for(b="";kd<jh&&yf(xe[kd]);)b+=xe[kd++];0===b.length&&lf({},"Unexpected token %0","ILLEGAL");Kg(xe.charCodeAt(kd))&&lf({},"Unexpected token %0","ILLEGAL");return k={type:6,value:parseInt("0x"+b,16),start:k,end:kd}}if(Ki(d)){for(b="0"+xe[kd++];kd<jh&&Ki(xe[kd]);)b+=xe[kd++];(Kg(xe.charCodeAt(kd))||
sf(xe.charCodeAt(kd)))&&lf({},"Unexpected token %0","ILLEGAL");return k={type:6,value:parseInt(b,8),octal:!0,start:k,end:kd}}d&&sf(d.charCodeAt(0))&&lf({},"Unexpected token %0","ILLEGAL")}for(;sf(xe.charCodeAt(kd));)b+=xe[kd++];d=xe[kd]}if("."===d){for(b+=xe[kd++];sf(xe.charCodeAt(kd));)b+=xe[kd++];d=xe[kd]}if("e"===d||"E"===d){b+=xe[kd++];d=xe[kd];if("+"===d||"-"===d)b+=xe[kd++];if(sf(xe.charCodeAt(kd)))for(;sf(xe.charCodeAt(kd));)b+=xe[kd++];else lf({},"Unexpected token %0","ILLEGAL")}Kg(xe.charCodeAt(kd))&&
lf({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(b),start:k,end:kd}}function Wg(d,k){let b=d;0<=k.indexOf("u")&&(b=b.replace(/\\u\{([0-9a-fA-F]+)\}/g,(g,l)=>{if(1114111>=parseInt(l,16))return"x";lf({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(b)}catch(g){lf({},"Invalid regular expression")}try{return new RegExp(d,k)}catch(g){return null}}function Tj(){qj();if(kd>=jh)return{type:2,start:kd,end:kd};var d=xe.charCodeAt(kd);if(Kg(d)){d=
kd;if(92===xe.charCodeAt(kd))var k=ah();else a:{for(k=kd++;kd<jh;){var b=xe.charCodeAt(kd);if(92===b){kd=k;k=ah();break a}if(sg(b))++kd;else break}k=xe.slice(k,kd)}return{type:1===k.length?3:Vm.hasOwnProperty(k)?4:"null"===k?5:"true"===k||"false"===k?1:3,value:k,start:d,end:kd}}if(40===d||41===d||59===d)return si();if(39===d||34===d){var g="";b=!1;d=xe[kd];nf("'"===d||'"'===d,"String literal must starts with a quote");k=kd;for(++kd;kd<jh;){var l=xe[kd++];if(l===d){d="";break}else if("\\"===l)if((l=
xe[kd++])&&yg(l.charCodeAt(0)))"\r"===l&&"\n"===xe[kd]&&++kd;else switch(l){case "u":case "x":if("{"===xe[kd]){++kd;var A=xe[kd];l=0;for("}"===A&&lf({},"Unexpected token %0","ILLEGAL");kd<jh;){A=xe[kd++];if(!yf(A))break;l=16*l+"0123456789abcdef".indexOf(A.toLowerCase())}(1114111<l||"}"!==A)&&lf({},"Unexpected token %0","ILLEGAL");l=65535>=l?String.fromCharCode(l):String.fromCharCode((l-65536>>10)+55296,(l-65536&1023)+56320);g+=l}else g+=fi(l);break;case "n":g+="\n";break;case "r":g+="\r";break;case "t":g+=
"\t";break;case "b":g+="\b";break;case "f":g+="\f";break;case "v":g+="\x0B";break;default:Ki(l)?(A="01234567".indexOf(l),0!==A&&(b=!0),kd<jh&&Ki(xe[kd])&&(b=!0,A=8*A+"01234567".indexOf(xe[kd++]),0<="0123".indexOf(l)&&kd<jh&&Ki(xe[kd])&&(A=8*A+"01234567".indexOf(xe[kd++]))),g+=String.fromCharCode(A)):g+=l}else if(yg(l.charCodeAt(0)))break;else g+=l}""!==d&&lf({},"Unexpected token %0","ILLEGAL");return{type:8,value:g,octal:b,start:k,end:kd}}return 46===d?sf(xe.charCodeAt(kd+1))?Oh():si():sf(d)?Oh():
si()}function Vg(){const d=Vf;kd=d.end;Vf=Tj();kd=d.end;return d}function wh(){const d=kd;Vf=Tj();kd=d}function Qi(d,k,b){const g=new $g("||"===d||"\x26\x26"===d?"LogicalExpression":"BinaryExpression");g.operator=d;g.left=k;g.right=b;return g}function ti(d){const k=new $g("Identifier");k.name=d;return k}function Xg(d){const k=new $g("Literal");k.value=d.value;k.raw=xe.slice(d.start,d.end);d.regex&&("//"===k.raw&&(k.raw="/(?:)/"),k.regex=d.regex);return k}function vi(d,k,b){const g=new $g("MemberExpression");
g.computed="["===d;g.object=k;g.property=b;g.computed||(b.member=!0);return g}function ui(d,k,b){const g=new $g("Property");g.key=k;g.value=b;g.kind=d;return g}function lf(d,k){var b=Array.prototype.slice.call(arguments,2),g=k.replace(/%(\d)/g,(A,I)=>{nf(I<b.length,"Message reference must be in range");return b[I]});var l=Error(g);l.index=kd;l.description=g;throw l;}function Kh(d){2===d.type&&lf(d,"Unexpected end of input");6===d.type&&lf(d,"Unexpected number");8===d.type&&lf(d,"Unexpected string");
3===d.type&&lf(d,"Unexpected identifier");4===d.type&&lf(d,"Unexpected reserved word");lf(d,"Unexpected token %0",d.value)}function bg(d){const k=Vg();7===k.type&&k.value===d||Kh(k)}function Gf(d){return 7===Vf.type&&Vf.value===d}function gi(){kd=Vf.start;const d=Vg();return 8===d.type||6===d.type?(d.octal&&lf(d,"Octal literals are not allowed in strict mode."),Xg(d)):ti(d.value)}function mj(){if(Gf("(")){bg("(");var d=yh();bg(")");return d}if(Gf("[")){d=[];kd=Vf.start;for(bg("[");!Gf("]");)Gf(",")?
(Vg(),d.push(null)):(d.push(ni()),Gf("]")||bg(","));Vg();var k=new $g("ArrayExpression");k.elements=d;return d=k}if(Gf("{")){d=[];k={};var b=String;kd=Vf.start;for(bg("{");!Gf("}");){kd=Vf.start;var g=Vf;if(3===g.type){var l=gi();bg(":");g=ni();g=ui("init",l,g)}else 2===g.type||7===g.type?(Kh(g),g=void 0):(l=gi(),bg(":"),g=ni(),g=ui("init",l,g));l="Identifier"===g.key.type?g.key.name:b(g.key.value);l="$"+l;Object.prototype.hasOwnProperty.call(k,l)?lf({},"Duplicate data property in object literal not allowed in strict mode"):
k[l]=!0;d.push(g);Gf("}")||bg(",")}bg("}");k=new $g("ObjectExpression");k.properties=d;return d=k}d=Vf.type;kd=Vf.start;if(3===d||Wm[Vf.value])k=ti(Vg().value);else if(8===d||6===d)Vf.octal&&lf(Vf,"Octal literals are not allowed in strict mode."),k=Xg(Vg());else{if(4===d)throw Error("Disabled.");if(1===d)d=Vg(),d.value="true"===d.value,k=Xg(d);else if(5===d)d=Vg(),d.value=null,k=Xg(d);else if(Gf("/")||Gf("/\x3d")){var A;Vf=null;qj();d=kd;k=xe[kd];nf("/"===k,"Regular expression literal must start with a slash");
b=xe[kd++];for(l=g=!1;kd<jh;)if(k=xe[kd++],b+=k,"\\"===k)k=xe[kd++],yg(k.charCodeAt(0))&&lf({},"Invalid regular expression: missing /"),b+=k;else if(yg(k.charCodeAt(0)))lf({},"Invalid regular expression: missing /");else if(g)"]"===k&&(g=!1);else if("/"===k){l=!0;break}else"["===k&&(g=!0);l||lf({},"Invalid regular expression: missing /");k=b.substr(1,b.length-2);for(A=l="";kd<jh;){g=xe[kd];if(!sg(g.charCodeAt(0)))break;++kd;"\\"===g&&kd<jh?lf({},"Unexpected token %0","ILLEGAL"):(A+=g,l+=g)}0<=A.search(/[^gimuy]/g)&&
lf({},"Invalid regular expression",A);g=A;A=Wg(k,g);k=Xg({literal:b+l,value:A,regex:{pattern:k,flags:g},start:d,end:kd});wh()}else Kh(Vg())}return k}function mk(){var d;for(d=mj();;)if(Gf(".")){bg(".");kd=Vf.start;var k=Vg();3===k.type||4===k.type||1===k.type||5===k.type||Kh(k);k=ti(k.value);d=vi(".",d,k)}else if(Gf("(")){k=[];bg("(");if(!Gf(")"))for(;kd<jh;){k.push(ni());if(Gf(")"))break;bg(",")}bg(")");{const b=new $g("CallExpression");b.callee=d;b.arguments=k;d=b}}else if(Gf("["))bg("["),k=yh(),
bg("]"),d=vi("[",d,k);else break;if(7===Vf.type&&(Gf("++")||Gf("--")))throw Error("Disabled.");return d}function wj(){if(7!==Vf.type&&4!==Vf.type)var d=mk();else{if(Gf("++")||Gf("--"))throw Error("Disabled.");if(Gf("+")||Gf("-")||Gf("~")||Gf("!")){var k=Vg();d=wj();{k=k.value;const b=new $g("UnaryExpression");b.operator=k;b.argument=d;b.prefix=!0;d=b}}else{if(4===Vf.type&&"delete"===Vf.value||4===Vf.type&&"void"===Vf.value||4===Vf.type&&"typeof"===Vf.value)throw Error("Disabled.");d=mk()}}return d}
function Li(d){let k=0;if(7!==d.type&&4!==d.type)return 0;switch(d.value){case "||":k=1;break;case "\x26\x26":k=2;break;case "|":k=3;break;case "^":k=4;break;case "\x26":k=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":k=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":k=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":k=8;break;case "+":case "-":k=9;break;case "*":case "/":case "%":k=11}return k}function ni(){var d=
Vf;var k=wj();var b=Vf;var g=Li(b);if(0===g)var l=k;else{b.prec=g;Vg();d=[d,Vf];var A=wj();for(l=[k,b,A];0<(g=Li(Vf));){for(;2<l.length&&g<=l[l.length-2].prec;)A=l.pop(),b=l.pop().value,k=l.pop(),d.pop(),k=Qi(b,k,A),l.push(k);b=Vg();b.prec=g;l.push(b);d.push(Vf);k=wj();l.push(k)}g=l.length-1;k=l[g];for(d.pop();1<g;)d.pop(),k=Qi(l[g-1].value,l[g-2],k),g-=2;l=k}Gf("?")&&(Vg(),d=ni(),bg(":"),g=ni(),k=new $g("ConditionalExpression"),k.test=l,k.consequent=d,k.alternate=g,l=k);return l}function yh(){const d=
ni();if(Gf(","))throw Error("Disabled.");return d}function Ge(d){xe=d;kd=0;jh=xe.length;Vf=null;wh();d=yh();if(2!==Vf.type)throw Error("Unexpect token after expression.");return d}function wi(d){const k=[];if("Identifier"===d.type)return[d.name];if("Literal"===d.type)return[d.value];"MemberExpression"===d.type&&(k.push(...wi(d.object)),k.push(...wi(d.property)));return k}function xi(d){return"MemberExpression"===d.object.type?xi(d.object):"datum"===d.object.name}function Ri(d){d=Ge(d);const k=new Set;
d.visit(b=>{"MemberExpression"===b.type&&xi(b)&&k.add(wi(b).slice(1).join("."))});return k}function bh(d,k){const b={},g=d.config.selection;for(const I of td(null!==k&&void 0!==k?k:{})){const P=Ve(k[I]);var l=Object.assign({},g[P.type]);l=(delete l.fields,delete l.encodings,l);for(const Na in l)if(!("encodings"===Na&&P.fields||"fields"===Na&&P.encodings)&&("mark"===Na&&(P[Na]=Object.assign({},l[Na],P[Na])),void 0===P[Na]||!0===P[Na])){var A;P[Na]=null!==(A=l[Na])&&void 0!==A?A:P[Na]}l=T(I);const ta=
b[l]=Object.assign({},P,{name:l,events:Ha(P.on)?Hi(P.on,"scope"):Ve(P.on)});Ni(ta,Na=>{Na.has(ta)&&Na.parse&&Na.parse(d,ta,P,k[I])})}return b}function Ph(d,k,b,g){g=void 0===g?"datum":g;const l=[];k=na(k,function(A){var I=T(A);A=d.getSelectionComponent(I,A);I=Ia(I+"_store");if(A.project.timeUnit){const P=null!==b&&void 0!==b?b:d.component.data.raw,ta=A.project.timeUnit.clone();P.parent?ta.insertAsParentOf(P):P.parent=ta}"none"!==A.empty&&l.push(I);return"vlSelectionTest(".concat(I,", ").concat(g)+
("global"===A.resolve?")":", ".concat(Ia(A.resolve),")"))});return(l.length?"!("+l.map(A=>"length(data(".concat(A,"))")).join(" || ")+") || ":"")+"(".concat(k,")")}function Qh(d,k){const b=k.encoding;let g=k.field;if(!b&&!g)g=d.project.items[0].field,1<d.project.items.length&&Gb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(Ia(g),"."));else if(b&&!g){const l=d.project.items.filter(A=>A.channel===b);!l.length||1<l.length?(g=d.project.items[0].field,
Gb((l.length?"Multiple ":"No ")+"matching ".concat(Ia(b)," encoding found for selection ").concat(Ia(k.selection),". ")+'Using "field": '.concat(Ia(g),"."))):g=l[0].field}return"".concat(d.name,"[").concat(Ia(g),"]")}function zh(d,k){Nh(d,b=>{const g=b.name,l=d.getName("lookup_".concat(g));d.component.data.outputNodes[l]=b.materialized=new th(new Yk(k,d,{selection:g}),l,og.Lookup,d.component.data.outputNodeRefCounts)})}function Ah(d,k,b){return na(k,g=>Ha(g)?g:(null===g||void 0===g?0:g.selection)?
Ph(d,g.selection,b):Qe(g))}function Bh(d,k){if(d)return te(d)&&!Nd(d)?d.map(b=>Wk(b,k)).join(", "):d}function ch(d,k,b,g){var l,A,I;d.encode=null!==(l=d.encode)&&void 0!==l?l:{};d.encode[k]=null!==(A=d.encode[k])&&void 0!==A?A:{};d.encode[k].update=null!==(I=d.encode[k].update)&&void 0!==I?I:{};d.encode[k].update[b]=g}function Xf(d,k,b,g){g=void 0===g?{header:!1}:g;var l=d.combine(),A=Object.assign({},l),I=l.disable;const P=l.orient,ta=l.scale,Na=l.labelExpr,wb=l.title;l=l.zindex;A=(delete A.disable,
delete A.orient,delete A.scale,delete A.labelExpr,delete A.title,delete A.zindex,A);if(!I){for(const Wc in A){var Fb=Al[Wc];I=A[Wc];if(Fb&&Fb!==k&&"both"!==Fb)delete A[Wc];else if(C(I)){Fb=I;I=Object.assign({},Fb);Fb=Fb.condition;I=(delete I.condition,I);Fb=qb(Fb);const cd=gl[Wc];if(cd){const {vgProp:wd,part:Cd}=cd;I=[...Fb.map(ne=>{var of=Object.assign({},ne);ne=ne.test;of=(delete of.test,of);return Object.assign({},{test:Ah(null,ne)},of)}),I];ch(A,Cd,wd,I);delete A[Wc]}else null===cd&&(I={signal:Fb.map(wd=>
{var Cd=Object.assign({},wd);wd=wd.test;Cd=(delete Cd.test,Cd);return"".concat(Ah(null,wd)," ? ").concat(Fe(Cd)," : ")}).join("")+Fe(I)},A[Wc]=I)}else if(Cc(I)&&(Fb=gl[Wc])){const {vgProp:cd,part:wd}=Fb;ch(A,wd,cd,I);delete A[Wc]}}if("grid"===k){if(A.grid)return A.encode&&({grid:b}=A.encode,A.encode=Object.assign({},b?{grid:b}:{}),Q(A.encode)&&delete A.encode),Object.assign({},{scale:ta,orient:P},A,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ma(l,0)})}else if(g.header||!d.mainExtracted){if(void 0!==
Na){var dc,Oc;k=Na;(null===(dc=A.encode)||void 0===dc?0:null===(Oc=dc.labels)||void 0===Oc?0:Oc.update)&&Cc(A.encode.labels.update.text)&&(k=U(Na,"datum.label",A.encode.labels.update.text.signal));ch(A,"labels","text",{signal:k})}null===A.labelAlign&&delete A.labelAlign;if(A.encode){for(const Wc of Qk)d.hasAxisPart(Wc)||delete A.encode[Wc];Q(A.encode)&&delete A.encode}d=Bh(wb,b);return Object.assign({},{scale:ta,orient:P,grid:!1},d?{title:d}:{},A,!1===b.aria?{aria:!1}:{},{zindex:ma(l,0)})}}}function nj(d){const {axes:k}=
d.component,b=[];for(const g of Tg)if(k[g])for(const l of k[g])if(!l.get("disable")&&!l.get("gridScale")){const A="x"===g?"height":"width",I=d.getSizeSignalRef(A).signal;A!==I&&b.push({name:A,update:I})}return b}function kh(d,k){const {x:b=[],y:g=[]}=d;return[...b.map(l=>Xf(l,"grid",k)),...g.map(l=>Xf(l,"grid",k)),...b.map(l=>Xf(l,"main",k)),...g.map(l=>Xf(l,"main",k))].filter(l=>l)}function Dj(d,k,b,g){return Object.assign.apply(null,[{},...d.map(l=>{if("axisOrient"===l){l="x"===b?"bottom":"left";
const A=k["x"===b?"axisBottom":"axisLeft"]||{},I=k["x"===b?"axisTop":"axisRight"]||{},P=new Set([...td(A),...td(I)]),ta={};for(const Na of P.values())ta[Na]={signal:"".concat(g.signal,' \x3d\x3d\x3d "').concat(l,'" ? ').concat(he(A[Na])," : ").concat(he(I[Na]))};return ta}return k[l]})])}function Cj(d,k,b,g){var l="band"===k?["axisDiscrete","axisBand"]:"point"===k?["axisDiscrete","axisPoint"]:k in Jb?["axisQuantitative"]:"time"===k||"utc"===k?["axisTemporal"]:[];const A="x"===d?"axisX":"axisY";k=
Cc(b)?"axisOrient":"axis"+W(b);l=[...l,...l.map(I=>A+I.substr(4))];k=["axis",k,A];return{vlOnlyAxisConfig:Dj(l,g,d,b),vgAxisConfig:Dj(k,g,d,b),axisConfigStyle:ai([...k,...l],g)}}function ai(d,k){const b=[{}];for(const l of d){var g;if(d=null===(g=k[l])||void 0===g?void 0:g.style){d=qb(d);for(const A of d)b.push(k.style[A])}}return Object.assign.apply(null,b)}function bi(d,k,b,g){g=void 0===g?{}:g;k=Kf(d,b,k);if(void 0!==k)return{configFrom:"style",configValue:k};for(const A of["vlOnlyAxisConfig",
"vgAxisConfig","axisConfigStyle"]){var l;if(void 0!==(null===(l=g[A])||void 0===l?void 0:l[d]))return{configFrom:A,configValue:g[A][d]}}return{}}function nk(d,k,b,g,l){const A=null===k||void 0===k?void 0:k.labelAngle;if(void 0!==A)return Cc(A)?A:p(A);({configValue:k}=bi("labelAngle",g,null===k||void 0===k?void 0:k.style,l));if(void 0!==k)return p(k);if("x"===b&&Ma(["nominal","ordinal"],d.type)&&(!uc(d)||!d.timeUnit))return 270}function Uj(d){return"(((".concat(d.signal," % 360) + 360) % 360)")}function yi(d,
k,b,g){if(void 0!==d)return"x"===b?Cc(d)?(g=Uj(d),k=Cc(k)?"(".concat(k.signal,' \x3d\x3d\x3d "top")'):"top"===k,{signal:"(45 \x3c ".concat(g," \x26\x26 ").concat(g," \x3c 135) || (225 \x3c ").concat(g," \x26\x26 ").concat(g,' \x3c 315) ? "middle" :')+"(".concat(g," \x3c\x3d 45 || 315 \x3c\x3d ").concat(g,") \x3d\x3d\x3d ").concat(k,' ? "bottom" : "top"')}):45<d&&135>d||225<d&&315>d?"middle":Cc(k)?(g=45>=d||315<=d?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(k.signal," ").concat(g,' "top" ? "bottom" : "top"')}):
(45>=d||315<=d)===("top"===k)?"bottom":"top":Cc(d)?(d=Uj(d),k=Cc(k)?"(".concat(k.signal,' \x3d\x3d\x3d "left")'):"left"===k,g=g?'"middle"':"null",{signal:"".concat(d," \x3c\x3d 45 || 315 \x3c\x3d ").concat(d," || (135 \x3c\x3d ").concat(d," \x26\x26 ").concat(d," \x3c\x3d 225) ? ").concat(g," : (45 \x3c\x3d ").concat(d," \x26\x26 ").concat(d," \x3c\x3d 135) \x3d\x3d\x3d ").concat(k,' ? "top" : "bottom"')}):45>=d||315<=d||135<=d&&225>=d?g?"middle":null:Cc(k)?(g=45<=d&&135>=d?"\x3d\x3d\x3d":"!\x3d\x3d",
{signal:"".concat(k.signal," ").concat(g,' "left" ? "top" : "bottom"')}):(45<=d&&135>=d)===("left"===k)?"top":"bottom"}function Rh(d,k,b){if(void 0!==d){var g=(b="x"===b)?0:90,l=b?"bottom":"left";return Cc(d)?(d=Uj(d),k=Cc(k)?"(".concat(k.signal,' \x3d\x3d\x3d "').concat(l,'")'):k===l,{signal:"(".concat(g?"("+d+" + 90)":d," % 180 \x3d\x3d\x3d 0) ? ").concat(b?null:'"center"'," :")+"(".concat(g," \x3c ").concat(d," \x26\x26 ").concat(d," \x3c ").concat(180+g,") \x3d\x3d\x3d ").concat(k,' ? "left" : "right"')}):
0===(d+g)%180?b?null:"center":Cc(k)?(b=g<d&&d<180+g?"\x3d\x3d\x3d":"!\x3d\x3d",k="".concat(k.signal," ").concat(b,' "').concat(l,'"'),{signal:"".concat(k,' ? "left" : "right"')}):(g<d&&d<180+g)===(k===l)?"left":"right"}}function zi(d,k){var b="x"===k?"x2":"y2";k=d.fieldDef(k);d=d.fieldDef(b);b=k?k.title:void 0;d=d?d.title:void 0;if(b&&d)return M(b,d);if(b)return b;if(d)return d;if(void 0!==b)return b;if(void 0!==d)return d}function ih(d,k,b){return pd(d,Object.assign({},{prefix:k,suffix:"sort_index"},
null!==b&&void 0!==b?b:{}))}function Ch(d,k){return Ma(["top","bottom"],k)?"column":Ma(["left","right"],k)?"row":"row"===d?"row":"column"}function lh(d,k,b,g){return ma((k||{})[d],("row"===g?b.headerRow:"column"===g?b.headerColumn:b.headerFacet)[d],b.header[d])}function Si(d,k,b,g){const l={};for(const A of d)d=lh(A,k||{},b,g),void 0!==d&&(l[A]=d);return l}function Vj(d,k){const b=d.component.layoutHeaders[k].title,g=d.config?d.config:void 0;d=d.component.layoutHeaders[k].facetFieldDef?d.component.layoutHeaders[k].facetFieldDef:
void 0;const {titleAnchor:l,titleAngle:A,titleOrient:I}=Si(["titleAnchor","titleAngle","titleOrient"],d.header,g,k),P=Ch(k,I),ta=p(A);return{name:"".concat(k,"-title"),type:"group",role:"".concat(P,"-title"),title:Object.assign({},{text:b},"row"===k?{orient:"left"}:{},{style:"guide-title"},Gi(ta,P),Ai(P,ta,l),oi(g,d,k,Xm,em))}}function Ai(d,k,b){switch(void 0===b?"middle":b){case "start":return{align:"left"};case "end":return{align:"right"}}return(d=Rh(k,"row"===d?"left":"top","row"===d?"y":"x"))?
{align:d}:{}}function Gi(d,k){return(d=yi(d,"row"===k?"left":"top","row"===k?"y":"x",!0))?{baseline:d}:{}}function Og(d,k){const b=d.component.layoutHeaders[k],g=[];for(const Fb of Fl)if(b[Fb])for(const dc of b[Fb]){a:{var l=d;var A=k,I=Fb,P=b,ta=dc;if(ta){let Oc=null;const {facetFieldDef:Wc}=P;var Na=l.config?l.config:void 0;if(Wc&&ta.labels){var {labelOrient:wb}=Si(["labelOrient"],Wc.header,Na,A);if("row"===A&&!Ma(["top","bottom"],wb)||"column"===A&&!Ma(["left","right"],wb))Oc=zf(Wc,A,Na)}Na=Eh(l)&&
!ua(l.facet);wb=ta.axes;const cd=0<(null===wb||void 0===wb?void 0:wb.length);if(Oc||cd){const wd="row"===A?"height":"width";l=Object.assign({},{name:l.getName("".concat(A,"_").concat(I)),type:"group",role:"".concat(A,"-").concat(I)},P.facetFieldDef?{from:{data:l.getName(A+"_domain")},sort:Ng(Wc,A)}:{},cd&&Na?{from:{data:l.getName("facet_domain_".concat(A))}}:{},Oc?{title:Oc}:{},ta.sizeSignal?{encode:{update:{[wd]:ta.sizeSignal}}}:{},cd?{axes:wb}:{});break a}}l=null}null!=l&&g.push(l)}return g}function Ng(d,
k){const {sort:b}=d;if(K(b)){var g;return{field:pd(b,{expr:"datum"}),order:null!==(g=b.order)&&void 0!==g?g:"ascending"}}return te(b)?{field:ih(d,k,{expr:"datum"}),order:"ascending"}:{field:pd(d,{expr:"datum"}),order:null!==b&&void 0!==b?b:"ascending"}}function zf(d,k,b){const {format:g,formatType:l,labelAngle:A,labelAnchor:I,labelOrient:P,labelExpr:ta}=Si("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),d.header,b,k),Na=Xd({fieldOrDatumDef:d,format:g,formatType:l,expr:"parent",
config:b}).signal,wb=Ch(k,P);return Object.assign({},{text:{signal:ta?U(U(ta,"datum.label",Na),"datum.value",pd(d,{expr:"parent"})):Na}},"row"===k?{orient:"left"}:{},{style:"guide-label",frame:"group"},Gi(A,wb),Ai(wb,A,I),oi(b,d,k,Ym,fm))}function oi(d,k,b,g,l){const A={};for(const I of g)l[I]&&(g=lh(I,null===k||void 0===k?void 0:k.header,d,b),void 0!==g&&(A[l[I]]=g));return A}function mh(d){return[...Qg(d,"width"),...Qg(d,"height"),...Qg(d,"childWidth"),...Qg(d,"childHeight")]}function Qg(d,k){var b=
"width"===k?"x":"y",g=d.component.layoutSize.get(k);if(!g||"merged"===g)return[];k=d.getSizeSignalRef(k).signal;if("step"===g){if(g=d.getScaleComponent(b)){var l=g.get("type");const A=g.get("range");if(l in Qd&&xc(A))return l=d.scaleName(b),Eh(d.parent)&&"independent"===d.parent.component.resolve.scale[b]?[{name:l+"_step",value:A.step}]:[{name:l+"_step",value:A.step},{name:k,update:Dh(l,g,"domain('".concat(l,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==
g?(b=(g=k.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",d=c(d.config.view,g?"width":"height"),d="isFinite(".concat(b,") ? ").concat(b," : ").concat(d),[{name:k,init:d,on:[{update:d,events:"window:resize"}]}]):[{name:k,value:g}]}function Dh(d,k,b){const g=k.get("type"),l=k.get("padding"),A=ma(k.get("paddingOuter"),l);k=k.get("paddingInner");k="band"===g?void 0!==k?k:l:1;return"bandspace(".concat(b,", ").concat(he(k),", ").concat(he(A),") * ").concat(d,"_step")}function Sh(d){return"childWidth"===
d?"width":"childHeight"===d?"height":d}function ug(d,k){return td(d).reduce((b,g)=>Object.assign({},b,mi(k,d[g],g,l=>Pd(l.value))),{})}function Bi(d,k){const b=k in xg?"axis":"legend";return"independent"===d.scale[k]?("shared"===d[b][k]&&Gb('Setting the scale to be independent for "'.concat(k,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):d[b][k]||"shared"}function ok(d){return Ti(d,(k,b)=>Math.max(k,b.value))}function Lh(d){return Ti(d,(k,b)=>ma(k,b.value))}
function Ti(d,k){var b=d&&d.condition;if(b=!!b&&(te(b)||le(b)))return qb(d.condition).reduce(k,d.value);if(le(d))return d.value}function Ci(d,k,b){d=k.get("selections");if(null!==d&&void 0!==d&&d.length){var g=Ia(b.field);return d.map(l=>{const A=Ia(T(l)+"_store");return"(!length(data(".concat(A,")) || (").concat(l,"[").concat(g,"] \x26\x26 indexof(").concat(l,"[").concat(g,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function Mh(d,k,b,g){d=d.getSizeSignalRef(k).signal;return{signal:"clamp(".concat(d,
", ").concat(b,", ").concat(g,")")}}function dj(d){var k;if(eg(d)){var {encoding:b}=d,g={};for(const rf of["color",...gm]){var l=J(b[rf]);if(l&&d.getScaleComponent(rf)&&("shape"!==rf||!uc(l)||"geojson"!==l.type)){a:{var A=l=void 0,I=void 0,P=void 0,ta=void 0;var Na=void 0;var wb=d,Fb=rf;let Ie=wb.legend(Fb);const {markDef:dg,encoding:zg,config:Qf}=wb;var dc=Qf.legend;b:{var Oc=wb;var Wc=Fb,cd=Oc.scaleName(Wc);if("trail"===Oc.mark){if("color"===Wc){Oc={stroke:cd};break b}if("size"===Wc){Oc={strokeWidth:cd};
break b}}Oc="color"===Wc?Oc.markDef.filled?{fill:cd}:{stroke:cd}:{[Wc]:cd}}Oc=new Zm({},Oc);gj(wb,Fb,Oc);Wc=void 0!==Ie?!Ie:dc.disable;Oc.set("disable",Wc,void 0!==Ie);if(Wc){l=Oc;break a}Ie=Ie||{};cd=wb.getScaleComponent(Fb).get("type");Wc=J(zg[Fb]);var wd=uc(Wc)?null===(Na=Hb(Wc.timeUnit))||void 0===Na?void 0:Na.unit:void 0;const Fg=Ie.orient||Qf.legend.orient||"right";Na={legend:Ie,channel:Fb,timeUnit:wd,scaleType:cd};({legend:wd}=Na);wd=wd.type;b:{var {channel:Cd,timeUnit:ne,scaleType:of}=Na;
if(la(Cd)){if(Ma(["quarter","month","day"],ne)){Na="symbol";break b}if(of in yb){Na="gradient";break b}}Na="symbol"}Na=ma(wd,Na);var {legendConfig:fe,legendType:mf,orient:Kd,legend:hg}={legend:Ie,legendType:Na,orient:Fg,legendConfig:dc};if(null!==(I=null!==(A=hg.direction)&&void 0!==A?A:fe[mf?"gradientDirection":"symbolDirection"])&&void 0!==I)A=I;else b:{switch(Kd){case "top":case "bottom":A="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:A="gradient"===mf?"horizontal":
void 0;break b}A=void 0}dc={legend:Ie,channel:Fb,model:wb,markDef:dg,encoding:zg,fieldOrDatumDef:Wc,legendConfig:dc,config:Qf,scaleType:cd,orient:Fg,legendType:Na,direction:A};for(const ng of hm)if(!("gradient"===Na&&ng.startsWith("symbol")||"symbol"===Na&&ng.startsWith("gradient"))&&(A=ng in im?im[ng](dc):Ie[ng],void 0!==A)){b:{I=wb.fieldDef(Fb);switch(ng){case "disable":I=void 0!==Ie;break b;case "values":I=!(null===Ie||void 0===Ie||!Ie.values);break b;case "title":if("title"===ng&&A===(null===
I||void 0===I?void 0:I.title)){I=!0;break b}}I=A===(Ie||{})[ng]}(I||void 0===Qf.legend[ng])&&Oc.set(ng,A,I)}dc=null!==(ta=null===(P=Ie)||void 0===P?void 0:P.encoding)&&void 0!==ta?ta:{};P=Oc.get("selections");ta={};Fb={fieldOrDatumDef:Wc,model:wb,channel:Fb,legendCmpt:Oc,legendType:Na};for(const ng of"labels legend title symbols gradient entries".split(" "))A=ug(null!==(k=dc[ng])&&void 0!==k?k:{},wb),A=ng in jm?jm[ng](A,Fb):A,void 0===A||Q(A)||(ta[ng]=Object.assign({},(null===P||void 0===P?0:P.length)&&
uc(Wc)?{name:"".concat(T(Wc.field),"_legend_").concat(ng)}:{},(null===P||void 0===P?0:P.length)?{interactive:!!P}:{},{update:A}));Q(ta)||Oc.set("encode",ta,!(null===(l=Ie)||void 0===l||!l.encoding));l=Oc}g[rf]=l}}k=g}else{{const {legends:rf,resolve:Ie}=d.component;for(b of d.children){dj(b);for(g of td(b.component.legends))Ie.legend[g]=Bi(d.component.resolve,g),"shared"===Ie.legend[g]&&(rf[g]=Di(rf[g],b.component.legends[g]),rf[g]||(Ie.legend[g]="independent",delete rf[g]))}for(l of td(rf))for(wb of d.children)wb.component.legends[l]&&
"shared"===Ie.legend[l]&&delete wb.component.legends[l];k=rf}}return d.component.legends=k}function Di(d,k){if(!d)return k.clone();var b=d.getWithExplicit("orient");const g=k.getWithExplicit("orient");if(!b.explicit||!g.explicit||b.value===g.value){var l=!1;for(const Na of hm)b=Ef(d.getWithExplicit(Na),k.getWithExplicit(Na),Na,"legend",(wb,Fb)=>{switch(Na){case "symbolType":return wb="circle"===Fb.value?Fb:wb,wb;case "title":return N(wb,Fb);case "type":return l=!0,Lf("symbol")}return Rd(wb,Fb,Na,
"legend")}),d.setWithExplicit(Na,b);if(l){var A,I,P,ta;(null===(A=d.implicit)||void 0===A?0:null===(I=A.encode)||void 0===I?0:I.gradient)&&O(d.implicit,["encode","gradient"]);(null===(P=d.explicit)||void 0===P?0:null===(ta=P.encode)||void 0===ta?0:ta.gradient)&&O(d.explicit,["encode","gradient"])}return d}}function Wj(d){const k=d.component.legends,b={};for(const l of td(k)){var g=d.getScaleComponent(l);g=If(g.get("domains"));if(b[g])for(const A of b[g])Di(A,k[l])||b[g].push(k[l]);else b[g]=[k[l].clone()]}return Fi(b).flat().map(l=>
{{var A=d.config,I,P=l.combine();l=Object.assign({},P);const Wc=P.disable;P=P.labelExpr;l=(delete l.disable,delete l.labelExpr,delete l.selections,l);if(Wc)var ta=void 0;else{!1===A.aria&&void 0==l.aria&&(l.aria=!1);if(null===(I=l.encode)||void 0===I?0:I.symbols){A=l.encode.symbols.update;!A.fill||"transparent"===A.fill.value||A.stroke||l.stroke||(A.stroke={value:"transparent"});for(var Na of gm)l[Na]&&delete A[Na]}l.title||delete l.title;if(void 0!==P){var wb,Fb;Na=P;(null===(wb=l.encode)||void 0===
wb?0:null===(Fb=wb.labels)||void 0===Fb?0:Fb.update)&&Cc(l.encode.labels.update.text)&&(Na=U(P,"datum.label",l.encode.labels.update.text.signal));wb=l;Fb={signal:Na};var dc,Oc;wb.encode=null!==(ta=wb.encode)&&void 0!==ta?ta:{};wb.encode.labels=null!==(dc=wb.encode.labels)&&void 0!==dc?dc:{};wb.encode.labels.update=null!==(Oc=wb.encode.labels.update)&&void 0!==Oc?Oc:{};wb.encode.labels.update.text=Fb}ta=l}}return ta}).filter(l=>void 0!==l)}function sh(d){return d.children.reduce((k,b)=>k.concat(b.assembleProjections()),
oj(d))}function oj(d){var k=d.component.projection;if(!k||k.merged)return[];const b=k.combine(),{name:g}=b;if(k.data){const l={signal:"[".concat(k.size.map(A=>A.signal).join(", "),"]")};k=k.data.reduce((A,I)=>{I=Cc(I)?I.signal:"data('".concat(d.lookupDataSource(I),"')");Ma(A,I)||A.push(I);return A},[]);if(0>=k.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:g,size:l,fit:{signal:1<k.length?"[".concat(k.join(", "),"]"):k[0]}},b)]}return[Object.assign({},
{name:g},{translate:{signal:"[width / 2, height / 2]"}},b)]}function nh(d){var k=d.component;if(eg(d))if(d.hasProjection){var b;const A=d.specifiedProjection;var g=!(A&&(null!=A.scale||null!=A.translate));const I=g?[d.getSizeSignalRef("width"),d.getSizeSignalRef("height")]:void 0;if(g){{g=[];const {encoding:P}=d;for(l of[["longitude","latitude"],["longitude2","latitude2"]])(J(P[l[0]])||J(P[l[1]]))&&g.push({signal:d.getName("geojson_".concat(g.length))});d.channelHasField("shape")&&"geojson"===d.typedFieldDef("shape").type&&
g.push({signal:d.getName("geojson_".concat(g.length))});0===g.length&&g.push(d.requestDataName(og.Main));var l=g}}else l=void 0;d=new km(d.projectionName(!0),Object.assign({},null!==(b=d.config.projection)&&void 0!==b?b:{},null!==A&&void 0!==A?A:{}),I,l)}else d=void 0;else d=Ui(d);k.projection=d}function xj(d,k){const b=Aa($m,g=>!Jj.call(d.explicit,g)&&!Jj.call(k.explicit,g)||Jj.call(d.explicit,g)&&Jj.call(k.explicit,g)&&If(d.get(g))===If(k.get(g))?!0:!1);if(If(d.size)===If(k.size)){if(b)return d;
if(If(d.explicit)===If({}))return k;if(If(k.explicit)===If({}))return d}return null}function Ui(d){if(0!==d.children.length){var k;for(var b of d.children)nh(b);b=Aa(d.children,g=>{if(g=g.component.projection){if(k)return(g=xj(k,g))&&(k=g),!!g;k=g}return!0});if(k&&b){b=d.projectionName(!0);const g=new km(b,k.specifiedProjection,k.size,Ve(k.data));for(const l of d.children)if(d=l.component.projection)d.isFit&&g.data.push(...l.component.projection.data),l.renameProjection(d.get("name"),b),d.merged=
!0;return g}}}function Xj(d,k,b,g){if(ad(k,b)){var l,A;d=eg(d)?null!==(l=null!==(A=d.axis(b))&&void 0!==A?A:d.legend(b))&&void 0!==l?l:{}:{};l=pd(k,{expr:"datum"});A=pd(k,{expr:"datum",binSuffix:"end"});return{formulaAs:pd(k,{binSuffix:"range",forAs:!0}),formula:Pe(l,A,d.format,d.formatType,g)}}return{}}function Th(d,k){return"".concat(gd(d),"_").concat(k)}function Uh(d,k,b){var g;b=null!==(g=Mb(b,void 0))&&void 0!==g?g:{};k=Th(b,k);return d.getName("".concat(k,"_bins"))}function Eg(d,k,b){let g;
g="as"in d?Ha(d.as)?[d.as,"".concat(d.as,"_end")]:[d.as[0],d.as[1]]:[pd(d,{forAs:!0}),pd(d,{binSuffix:"end",forAs:!0})];const l=Object.assign({},Mb(k,void 0));k=Th(l,d.field);var A={signal:b.getName("".concat(k,"_bins")),extentSignal:b.getName("".concat(k,"_extent"))};const {signal:I,extentSignal:P}=A;if(Ra(l.extent)){var ta=l.extent;A=ta.selection;ta=Qh(b.getSelectionComponent(T(A),A),ta);delete l.extent}d=Object.assign({},{bin:l,field:d.field,as:[g]},I?{signal:I}:{},P?{extentSignal:P}:{},ta?{span:ta}:
{});return{key:k,binComponent:d}}function Mf(d){return"'"===d[0]&&"'"===d[d.length-1]||'"'===d[0]&&'"'===d[d.length-1]?d.slice(1,-1):d}function cg(d,k){d=ea(d);if("number"===k)return"toNumber(".concat(d,")");if("boolean"===k)return"toBoolean(".concat(d,")");if("string"===k)return"toString(".concat(d,")");if("date"===k)return"toDate(".concat(d,")");if("flatten"===k)return d;if(0===k.indexOf("date:"))return k=Mf(k.slice(5,k.length)),"timeParse(".concat(d,",'").concat(k,"')");if(0===k.indexOf("utc:"))return k=
Mf(k.slice(4,k.length)),"utcParse(".concat(d,",'").concat(k,"')");Gb('Unrecognized parse "'.concat(k,'".'));return null}function Mk(d){const k={};mb(d.filter,b=>{if(me(b)){let l=null;if(Yc(b))l=Bd(b.equal);else if(od(b))l=Bd(b.lte);else if(Uc(b))l=Bd(b.lt);else if(qd(b))l=Bd(b.gt);else if(Id(b))l=Bd(b.gte);else if(Ed(b))l=b.range[0];else if(Wd(b)){var g;l=(null!==(g=b.oneOf)&&void 0!==g?g:b["in"])[0]}l&&(sc(l)?k[b.field]="date":Wa(l)?k[b.field]="number":Ha(l)&&(k[b.field]="string"));b.timeUnit&&(k[b.field]=
"date")}});return k}function ej(d){function k(g){if(ic(g))b[g.field]="date";else{var l;if(l="quantitative"===g.type)l=g.aggregate,l=Ha(l)&&Ma(["min","max"],l);l?b[g.field]="number":1<xa(g.field)?g.field in b||(b[g.field]="flatten"):Te(g)&&K(g.sort)&&1<xa(g.sort.field)&&(g.sort.field in b||(b[g.sort.field]="flatten"))}}const b={};(eg(d)||Eh(d))&&d.forEachFieldDef((g,l)=>{zd(g)?k(g):(l=Ja(l),l=d.fieldDef(l),k(Object.assign({},g,{type:l.type})))});if(eg(d)){const {mark:g,markDef:l,encoding:A}=d;if(re(g)&&
!d.encoding.order){const I=A["horizontal"===l.orient?"y":"x"];!uc(I)||"quantitative"!==I.type||I.field in b||(b[I.field]="number")}}return b}function a(d){return d instanceof qk||d instanceof ql||d instanceof rl}function f(d){return d.stack.stackBy.reduce((k,b)=>{(b=pd(b.fieldDef))&&k.push(b);return k},[])}function t(d){return te(d)&&d.every(k=>Ha(k))&&1<d.length}function q(d){function k(b){if(!(b instanceof Ik)){const g=b.clone();if(g instanceof th){const l="scale_"+g.getSource();g.setSource(l);
d.model.component.data.outputNodes[l]=g}else(g instanceof fj||g instanceof Qj||g instanceof Zk||g instanceof Jk)&&g.addDimensions(d.fields);for(const l of b.children.flatMap(k))l.parent=g;return[g]}return b.children.flatMap(k)}return k}function y(d){if(d instanceof Ik)if(1!==d.numChildren()||d.children[0]instanceof th){var k=d.model.component.data.main;V(k);const b=q(d);d=d.children.map(b).flat();for(const g of d)g.parent=k}else k=d.children[0],(k instanceof fj||k instanceof Qj||k instanceof Zk||
k instanceof Jk)&&k.addDimensions(d.fields),k.swapWithParent(),y(d);else d.children.map(y)}function V(d){if(d instanceof th&&d.type===og.Main&&1===d.numChildren()){const k=d.children[0];k instanceof Ik||(k.swapWithParent(),V(d))}}function qa(d){for(const k of d){for(const b of k.children)if(b.parent!==k)return!1;if(!qa(k.children))return!1}return!0}function ra(d,k){let b=!1;for(const g of k)b=d.optimize(g)||b;return b}function ib(d,k,b){let g=d.sources,l=!1;l=ra(new an,g)||l;l=ra(new bn(k),g)||l;
g=g.filter(A=>0<A.numChildren());l=ra(new cn,g)||l;g=g.filter(A=>0<A.numChildren());b||(l=ra(new dn,g)||l,l=ra(new en(k),g)||l,l=ra(new fn,g)||l,l=ra(new gn,g)||l,l=ra(new hn,g)||l,l=ra(new jn,g)||l,l=ra(new kn,g)||l,l=ra(new ln,g)||l);d.sources=g;return l}function Ab(d){const k=d.component.scales;for(const Na of td(k)){var b=d;var g=Na,l=b.getScaleComponent(g).get("type"),{encoding:A}=b;var I=b.scaleDomain(g);var P=b.typedFieldDef(g),ta=b.config.scale;if("unaggregated"===I){const {valid:wb,reason:Fb}=
He(P,l);wb||(Gb(Fb),I=void 0)}else void 0===I&&ta.useUnaggregatedDomain&&({valid:P}=He(P,l),P&&(I="unaggregated"));I!==b.scaleDomain(g)&&(b.specifiedScales[g]=Object.assign({},b.specifiedScales[g],{domain:I}));b="x"===g&&J(A.x2)?J(A.x)?Ef(oc(l,I,b,"x"),oc(l,I,b,"x2"),"domain","scale",xf):oc(l,I,b,"x2"):"y"===g&&J(A.y2)?J(A.y)?Ef(oc(l,I,b,"y"),oc(l,I,b,"y2"),"domain","scale",xf):oc(l,I,b,"y2"):oc(l,I,b,g);k[Na].setWithExplicit("domains",b);A=void 0;g=d.component.scales[Na];I=d.specifiedScales[Na].domain;
l=null===(A=d.fieldDef(Na))||void 0===A?void 0:A.bin;A=ff(I)&&I;l=ub(l)&&Ra(l.extent)&&l.extent;(A||l)&&g.set("selectionExtent",null!==A&&void 0!==A?A:l,!0);if(d.component.data.isFaceted){for(g=d;!Eh(g)&&g.parent;)g=g.parent;if("shared"===g.component.resolve.scale[Na])for(const wb of b.value)Ic(wb)&&(wb.data="scale_"+wb.data.replace("scale_",""))}}}function Xb(d){for(var k of d.children){var b=k;eg(b)?Ab(b):Xb(b)}b=d.component.scales;for(const l of td(b)){let A;k=null;for(const I of d.children){var g=
I.component.scales[l];g&&(A=void 0===A?g.getWithExplicit("domains"):Ef(A,g.getWithExplicit("domains"),"domains","scale",xf),g=g.get("selectionExtent"),k&&g&&k.selection!==g.selection&&Gb("The same selection must be used to override scale domains in a layered view."),k=g)}b[l].setWithExplicit("domains",A);k&&b[l].set("selectionExtent",k,!0)}}function Hc(d,k,b){return d.map(g=>{g=Qc(g,{timeUnit:b,type:k});return{signal:"{data: ".concat(g,"}")}})}function qc(d,k,b){var g;b=null===(g=Hb(b))||void 0===
g?void 0:g.unit;return"temporal"===k||b?Hc(d,k,b):[d]}function oc(d,k,b,g){var {encoding:l}=b;l=J(l[g]);const {type:A}=l,I=l.timeUnit;if(k&&k.unionWith)return g=oc(d,void 0,b,g),k=qc(k.unionWith,A,I),Yf([...g.value,...k]);if(Cc(k))return Yf([k]);if(k&&"unaggregated"!==k&&!ff(k))return Yf(qc(k,A,I));var P=b.stack;if(P&&g===P.fieldChannel){if("normalize"===P.offset)return Lf([[0,1]]);k=b.requestDataName(og.Main);return Lf([{data:k,field:b.vgField(g,{suffix:"start"})},{data:k,field:b.vgField(g,{suffix:"end"})}])}P=
Yh[g]&&uc(l)?Od(b,g,d):void 0;if(id(l))return g=qc([l.datum],A,I),Lf(g);if("unaggregated"===k)return g=b.requestDataName(og.Main),{field:k}=l,Lf([{data:g,field:pd({field:k,aggregate:"min"})},{data:g,field:pd({field:k,aggregate:"max"})}]);if(Dc(l.bin)){if(d in Qd)return"bin-ordinal"===d?Lf([]):Lf([{data:H(P)?b.requestDataName(og.Main):b.requestDataName(og.Raw),field:b.vgField(g,ad(l,g)?{binSuffix:"range"}:{}),sort:!0!==P&&ub(P)?P:{field:b.vgField(g,{}),op:"min"}}]);({bin:k}=l);if(Dc(k)){const ta=Uh(b,
l.field,k);return Lf([new pi(()=>{const Na=b.getSignalName(ta);return"[".concat(Na,".start, ").concat(Na,".stop]")})])}return Lf([{data:b.requestDataName(og.Main),field:b.vgField(g,{})}])}return l.timeUnit&&Ma(["time","utc"],d)&&Vb(g,l,eg(b)?b.encoding[sa(g)]:void 0,b.stack,b.markDef,b.config)?(k=b.requestDataName(og.Main),Lf([{data:k,field:b.vgField(g)},{data:k,field:b.vgField(g,{suffix:"end"})}])):P?Lf([{data:H(P)?b.requestDataName(og.Main):b.requestDataName(og.Raw),field:b.vgField(g),sort:P}]):
Lf([{data:b.requestDataName(og.Main),field:b.vgField(g)}])}function ed(d,k){const {op:b,field:g,order:l}=d;return Object.assign({},{op:null!==b&&void 0!==b?b:k?"sum":"min"},g?{field:db(g)}:{},l?{order:l}:{})}function Od(d,k,b){if(b in Qd){var g=d.fieldDef(k);b=g.sort;if(S(b))return{op:"min",field:ih(g,k),order:"ascending"};({stack:g}=d);var l=g?[...g.groupbyField?[g.groupbyField]:[],...g.stackBy.map(A=>A.fieldDef.field)]:void 0;if(K(b))return d=g&&!Ma(l,b.field),ed(b,d);if(b&&b.encoding){const {encoding:A,
order:I}=b;d=d.fieldDef(A);const {aggregate:P,field:ta}=d;k=g&&!Ma(l,ta);if(D(P)||G(P))return ed({field:pd(d),order:I},k);if(B(P)||!P)return ed({op:P,field:ta,order:I},k)}else{if("descending"===b)return{op:"min",field:d.vgField(k),order:"descending"};if(Ma(["ascending",void 0],b))return!0}}}function He(d,k){const {aggregate:b,type:g}=d;return b?Ha(b)&&!Sk[b]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(b,'" since it produces values outside the origin domain of the source data.')}:
"quantitative"===g&&"log"===k?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(If(d),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(If(d),").")}}function xf(d,k,b,g){if(d.explicit&&k.explicit){var l=d.value,A=k.value;b="Conflicting ".concat(g.toString(),' property "').concat(b.toString(),'" (').concat(If(l)," and ").concat(If(A),"). Using the union of the two domains.");Gb(b)}return{explicit:d.explicit,value:[...d.value,
...k.value]}}function ve(d){var k=Xa(d.map(l=>Ic(l)?(l=Object.assign({},l),delete l.sort,l):l),Ca),b=Xa(d.map(l=>{if(Ic(l))return l=l.sort,void 0===l||H(l)||("op"in l&&"count"===l.op&&delete l.field,"ascending"===l.order&&delete l.order),l}).filter(l=>void 0!==l),Ca);if(0!==k.length){if(1===k.length){k=d[0];if(Ic(k)&&0<b.length){var g=b[0];1<b.length?(Gb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0):ub(g)&&"field"in g&&k.field===g.field&&(g=g.order?
{order:g.order}:!0);return Object.assign({},k,{sort:g})}return k}b=Xa(b.map(l=>{if(H(l)||!("op"in l)||Ha(l.op)&&l.op in Ek)return l;Gb("Dropping sort property ".concat(If(l),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),Ca);1===b.length?g=b[0]:1<b.length&&(Gb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0);b=Xa(d.map(l=>Ic(l)?l.data:null),l=>l);return 1===b.length&&null!==b[0]?Object.assign({},{data:b[0],
fields:k.map(l=>l.field)},g?{sort:g}:{}):Object.assign({},{fields:k},g?{sort:g}:{})}}function Nf(d){if(Ic(d)&&Ha(d.field))return d.field;var k=te(d)?!1:"fields"in d&&!("data"in d);if(k){let b;for(const g of d.fields)if(Ic(g)&&Ha(g.field))if(!b)b=g.field;else if(b!==g.field)return Gb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),b;Gb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return b}k=te(d)?!1:"fields"in d&&"data"in d;if(k)return Gb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),d=d.fields[0],Ha(d)?d:void 0}function Af(d,k){k=d.component.scales[k].get("domains").map(b=>{Ic(b)&&(b.data=d.lookupDataSource(b.data));return b});return ve(k)}function Tf(d){return pj(d)||tk(d)?d.children.reduce((k,b)=>k.concat(Tf(b)),Wf(d)):Wf(d)}function Wf(d){return td(d.component.scales).reduce((k,
b)=>{var g=d.component.scales[b];if(g.merged)return k;var l=g.combine(),A=Object.assign({},l);g=l.name;const I=l.type,P=l.selectionExtent,ta=l.reverse;A=(delete A.name,delete A.type,delete A.selectionExtent,delete A.domains,delete A.range,delete A.reverse,A);l=l.range;b in xg?xc(l)&&(l={step:{signal:g+"_step"}}):ub(l)&&Ic(l)&&(l=Object.assign({},l,{data:d.lookupDataSource(l.data)}));if(P){var Na=P.selection;Na=d.getSelectionComponent(Na,T(Na));Na={signal:Qh(Na,P)}}b=Af(d,b);k.push(Object.assign({},
{name:g,type:I},b?{domain:b}:{},Na?{domainRaw:Na}:{},{range:l},void 0!==ta?{reverse:ta}:{},A));return k},[])}function jf(d){return"x"===d?"width":"y"===d?"height":void 0}function Uf(d,k){const b=d.fieldDef(k);if(b&&b.bin&&Dc(b.bin)){const g=Uh(d,b.field,b.bin);k=jf(k);const l=d.getName(k);return new pi(()=>{var A=d.getSignalName(g);A="(".concat(A,".stop - ").concat(A,".start) / ").concat(A,".step");return"".concat(d.getSignalName(l)," / (").concat(A,")")})}}function Ff(d,k){const b=k.specifiedScales[d];
var {size:g}=k,l=k.getScaleComponent(d).get("type");for(var A of mn)if(void 0!==b[A]){const ta=Oe(l,A),Na=Bf(d,A);if(ta)if(Na)Gb(Na);else switch(A){case "range":l=b.range;if(te(l)){if(d in xg)return Yf(l.map(wb=>{if("width"===wb||"height"===wb){wb=k.getName(wb);const Fb=k.getSignalName.bind(k);return pi.fromName(Fb,wb)}return wb}))}else if(ub(l))return Yf({data:k.requestDataName(og.Main),field:l.field,sort:{op:"min",field:k.vgField(d)}});return Yf(l);case "scheme":return Yf(Of(b[A]))}else Gb(oe(l,
A,d))}if("x"===d||"y"===d)if(A="x"===d?"width":"height",g=g[A],pb(g)){if(l in Qd)return Yf({step:g.step});Gb(X(A))}const {rangeMin:I,rangeMax:P}=b;d=Jg(d,k);return(void 0!==I||void 0!==P)&&Oe(l,"rangeMin")&&te(d)&&2===d.length?Yf([null!==I&&void 0!==I?I:d[0],null!==P&&void 0!==P?P:d[1]]):Lf(d)}function Of(d){return!Ha(d)&&d.name?Object.assign({},{scheme:d.name},jb(d,["name"])):{scheme:d}}function Jg(d,k){const {size:b,config:g,mark:l,encoding:A}=k;var I=k.getSignalName.bind(k),{type:P}=J(A[d]);const ta=
k.getScaleComponent(d).get("type"),{domain:Na,domainMid:wb}=k.specifiedScales[d];switch(d){case "x":case "y":if(Ma(["point","band"],ta))if("x"===d&&!b.width){if(P=F(g.view,"width"),pb(P))return P}else if("y"===d&&!b.height&&(P=F(g.view,"height"),pb(P)))return P;P=jf(d);P=k.getName(P);return"y"===d&&ta in Zc?[pi.fromName(I,P),0]:[0,pi.fromName(I,P)];case "size":return I=k.component.scales[d].get("zero"),I=Lg(l,I,g),P=mg(l,b,k,g),ta in hc?vg(I,P,Cg(ta,g,Na,d)):[I,P];case "theta":return[0,2*Math.PI];
case "angle":return[0,360];case "radius":return[0,new pi(()=>{const Fb=k.getSignalName("width"),dc=k.getSignalName("height");return"min(".concat(Fb,",").concat(dc,")/2")})];case "strokeWidth":return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===ta?"nominal"===P?"category":"ordinal":void 0!==wb?"diverging":"rect"===l||"geoshape"===l?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[g.scale.minOpacity,
g.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(d));}function Cg(d,k,b,g){switch(d){case "quantile":return k.scale.quantileCount;case "quantize":return k.scale.quantizeCount;case "threshold":if(void 0!==b&&te(b))return b.length+1;Gb("Domain for ".concat(g," is required for threshold scale."));return 3}}function vg(d,k,b){const g=()=>{const l=he(k),A=he(d),I="(".concat(l," - ").concat(A,") / (").concat(b," - 1)");return"sequence(".concat(A,", ").concat(l," + ").concat(I,
", ").concat(I,")")};return Cc(k)?new pi(g):{signal:g()}}function Lg(d,k,b){if(k)return Cc(k)?{signal:"".concat(k.signal," ? 0 : ").concat(Lg(d,!1,b))}:0;switch(d){case "bar":case "tick":return b.scale.minBandSize;case "line":case "trail":case "rule":return b.scale.minStrokeWidth;case "text":return b.scale.minFontSize;case "point":case "square":case "circle":return b.scale.minSize}throw Error(rd("size",d));}function mg(d,k,b,g){b={x:Uf(b,"x"),y:Uf(b,"y")};switch(d){case "bar":case "tick":{if(void 0!==
g.scale.maxBandSize)return g.scale.maxBandSize;const l=Dg(k,b,g.view);return Wa(l)?l-1:new pi(()=>"".concat(l.signal," - 1"))}case "line":case "trail":case "rule":return g.scale.maxStrokeWidth;case "text":return g.scale.maxFontSize;case "point":case "square":case "circle":{if(g.scale.maxSize)return g.scale.maxSize;const l=Dg(k,b,g.view);return Wa(l)?Math.pow(.95*l,2):new pi(()=>"pow(".concat(.95," * ").concat(l.signal,", 2)"))}}throw Error(rd("size",d));}function Dg(d,k,b){const g=pb(d.width)?d.width.step:
m(b,"width"),l=pb(d.height)?d.height.step:m(b,"height");return k.x||k.y?new pi(()=>"min(".concat([k.x?k.x.signal:g,k.y?k.y.signal:l].join(", "),")")):Math.min(g,l)}function Vi(d,k){if(eg(d)){{const I=d.component.scales,{config:P,encoding:ta,markDef:Na,specifiedScales:wb}=d;for(const Fb of td(I)){var b=wb[Fb];const dc=I[Fb];var g=d.getScaleComponent(Fb),l=J(ta[Fb]),A=b[k];const Oc=g.get("type"),Wc=g.get("padding");g=g.get("paddingInner");const cd=Oe(Oc,k),wd=Bf(Fb,k);void 0!==A&&(cd?wd&&Gb(wd):Gb(oe(Oc,
k,Fb)));if(cd&&void 0===wd)if(void 0!==A)switch(A=l.timeUnit,l=l.type,k){case "domainMax":case "domainMin":sc(b[k])||"temporal"===l||A?dc.set(k,{signal:Qc(b[k],{type:l,timeUnit:A})},!0):dc.set(k,b[k],!0);break;default:dc.copyKeyFromObject(k,b)}else b=k in lm?lm[k]({model:d,channel:Fb,fieldOrDatumDef:l,scaleType:Oc,scalePadding:Wc,scalePaddingInner:g,domain:b.domain,markDef:Na,config:P}):P.scale[k],void 0!==b&&dc.set(k,b,!1)}}}else uk(d,k)}function cl(d){if(eg(d)){{const k=d.component.scales;for(const b of Zh){const g=
k[b];if(!g)continue;const l=Ff(b,d);g.setWithExplicit("range",l)}}}else uk(d,"range")}function uk(d,k){const b=d.component.scales;for(var g of d.children)"range"===k?cl(g):Vi(g,k);for(const l of td(b)){let A;for(const I of d.children)if(g=I.component.scales[l])g=g.getWithExplicit(k),A=Ef(A,g,k,"scale",Gh((P,ta)=>{switch(k){case "range":if(P.step&&ta.step)return P.step-ta.step}return 0}));b[l].setWithExplicit(k,A)}}function el(d,k){const b=k.bin;if(Dc(b)){const g=Uh(d,k.field,b);return new pi(()=>
d.getSignalName(g))}if(Sc(b)&&ub(b)&&void 0!==b.step)return{step:b.step}}function nl(d,k,b){var g;switch(k.type){case "nominal":case "ordinal":if(la(d)||"discrete"===Ec(d))return"shape"===d&&"ordinal"===k.type&&Gb(de(d,"ordinal")),"ordinal";if(d in xg){if(Ma(["rect","bar","image","rule"],b))return"band"}else if("arc"===b&&d in Mj)return"band";return void 0!==k.band||Me(k)&&(null===(g=k.axis)||void 0===g?0:g.tickBand)?"band":"point";case "temporal":if(!la(d)){if("discrete"===Ec(d))return Gb(de(d,"temporal")),
"ordinal";if(uc(k)&&k.timeUnit&&Hb(k.timeUnit).utc)return"utc"}return"time";case "quantitative":if(la(d)){if(uc(k)&&Dc(k.bin))return"bin-ordinal"}else if("discrete"===Ec(d))return Gb(de(d,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(k.type,'".'));}function Hk(d){if(eg(d))d.component.scales=zl(d);else{var k=d.component;{const P=d.component.scales={},ta={};var b=d.component.resolve;for(const Na of d.children){Hk(Na);for(const wb of td(Na.component.scales)){var g,
l=b.scale;if(null!==(g=b.scale[wb])&&void 0!==g)var A=g;else{A=wb;var I=d;if(pj(I)||Eh(I))A="shared";else if(tk(I))A=A in xg?"independent":"shared";else throw Error("invalid model type for resolve");}l[wb]=A;if("shared"===b.scale[wb])if(l=ta[wb],A=Na.component.scales[wb].getWithExplicit("type"),l){{I=z[l.value];const Fb=z[A.value];I=I===Fb||"ordinal-position"===I&&"time"===Fb||"ordinal-position"===Fb&&"time"===I}I?ta[wb]=Ef(l,A,"type","scale",nn):(b.scale[wb]="independent",delete ta[wb])}else ta[wb]=
A}}for(const Na of td(ta)){g=d.scaleName(Na,!0);P[Na]=new mm(g,ta[Na]);for(const wb of d.children)if(b=wb.component.scales[Na])wb.renameScale(b.get("name"),g),b.merged=!0}d=P}k.scales=d}}function zl(d){const {encoding:k,mark:b}=d;return Zh.reduce((g,l)=>{var A=J(k[l]);if(A&&b===nm&&"shape"===l&&"geojson"===A.type)return g;let I=A&&A.scale;if(A&&null!==I&&!1!==I){var P;I=null!==(P=I)&&void 0!==P?P:{};var ta=I;P=nl(l,A,b);({type:ta}=ta);if(Yh[l]){if(void 0!==ta)if(Yd(l,ta)){var Na;if(Na=uc(A))Na=ta,
A=A.type,Na=!(Ma(["ordinal","nominal"],A)?void 0===Na||Na in Qd:"temporal"===A?Ma([h.TIME,h.UTC,void 0],Na):"quantitative"===A?Ma([h.LOG,h.POW,h.SQRT,h.SYMLOG,h.QUANTILE,h.QUANTIZE,h.THRESHOLD,h.LINEAR,void 0],Na):1);Na?(A=P,A='FieldDef does not work with "'.concat(ta,'" scale. We are using "').concat(A,'" scale instead.'),Gb(A)):P=ta}else A=ta,ta=P,A='Channel "'.concat(l,'" does not work with "').concat(A,'" scale. We are using "').concat(ta,'" scale instead.'),Gb(A)}else P=null;g[l]=new mm(d.scaleName(l+
"",!0),{value:P,explicit:I.type===P})}return g},{})}function eg(d){return"unit"===(null===d||void 0===d?void 0:d.type)}function Eh(d){return"facet"===(null===d||void 0===d?void 0:d.type)}function tk(d){return"concat"===(null===d||void 0===d?void 0:d.type)}function pj(d){return"layer"===(null===d||void 0===d?void 0:d.type)}function Nk(d){function k(g,l){g instanceof qk&&!(g.isGenerator||"url"in g.data)&&(d.push(l),l={name:null,source:l.name,transform:[]});if(g instanceof uh)if(g.parent instanceof qk&&
!l.source){var A;l.format=Object.assign({},null!==(A=l.format)&&void 0!==A?A:{},{parse:g.assembleFormatParse()});l.transform.push(...g.assembleTransforms(!0))}else l.transform.push(...g.assembleTransforms());if(g instanceof Ik){l.name||(l.name="data_".concat(b++));!l.source||0<l.transform.length?(d.push(l),g.data=l.name):g.data=l.source;for(const I of g.assemble())d.push(I)}else switch((g instanceof ql||g instanceof rl||g instanceof sl||g instanceof Yk||g instanceof $k||g instanceof tl||g instanceof
al||g instanceof fj||g instanceof ul||g instanceof Zk||g instanceof Jk||g instanceof Gl||g instanceof Hl||g instanceof Il||g instanceof Jl||g instanceof Kl||g instanceof Ll||g instanceof rk||g instanceof Ml||g instanceof Nl)&&l.transform.push(g.assemble()),(g instanceof yj||g instanceof zj||g instanceof Kk||g instanceof Qj)&&l.transform.push(...g.assemble()),g instanceof th&&(l.source&&0===l.transform.length?g.setSource(l.source):g.parent instanceof th?g.setSource(l.name):(l.name||(l.name="data_".concat(b++)),
g.setSource(l.name),1===g.numChildren()&&(d.push(l),l={name:null,source:l.name,transform:[]}))),g.numChildren()){case 0:g instanceof th&&(!l.source||0<l.transform.length)&&d.push(l);break;case 1:k(g.children[0],l);break;default:l.name||(l.name="data_".concat(b++));A=l.name;!l.source||0<l.transform.length?d.push(l):A=l.source;for(const I of g.children)k(I,{name:null,source:A,transform:[]})}}let b=0;return k}function dl(d){const k=[],b=Nk(k);for(const g of d.children)b(g,{source:d.name,name:null,transform:[]});
return k}function Bl(d,k){const b=[];var g=Nk(b);let l=0;for(const P of d.sources){P.hasName()||(P.dataName="source_".concat(l++));const ta=P.assemble();g(P,ta)}for(const P of b)0===P.transform.length&&delete P.transform;g=0;for(const P of b.entries()){const [ta,Na]=P;var A;0!==(null!==(A=Na.transform)&&void 0!==A?A:[]).length||Na.source||b.splice(g++,0,b.splice(ta,1)[0])}for(const P of b)for(const ta of null!==(I=P.transform)&&void 0!==I?I:[]){var I;"lookup"===ta.type&&(ta.from=d.outputNodes[ta.from].getSource())}for(const P of b)P.name in
k&&(P.values=k[P.name]);return b}function ml(d,k,b){k="row"===k?"height":"width";return{labels:b,sizeSignal:d.child.component.layoutSize.get(k)?d.child.getSizeSignalRef(k):void 0,axes:[]}}function hi(d,k){var {child:b}=d;if(b.component.axes[k]){const {layoutHeaders:l,resolve:A}=d.component;A.axis[k]=Bi(A,k);if("shared"===A.axis[k]){const I="x"===k?"column":"row",P=l[I];for(const ta of b.component.axes[k]){var g;k=ta.get("orient");k="top"===k||"left"===k||Cc(k)?"header":"footer";P[k]=null!==(g=P[k])&&
void 0!==g?g:[ml(d,I,!1)];(b=Xf(ta,"main",d.config,{header:!0}))&&P[k][0].axes.push(b);ta.mainExtracted=!0}}}}function Ej(d){for(const k of d.children)k.parseLayoutSize()}function Fj(d,k){const b=Sh(k),g=Kb(b),l=d.component.resolve,A=d.component.layoutSize;let I;for(const P of d.children){const ta=P.component.layoutSize.getWithExplicit(b),Na=l.scale[g];if("independent"===Na&&"step"===ta.value){I=void 0;break}if(I){if("independent"===Na&&I.value!==ta.value){I=void 0;break}I=Ef(I,ta,b,"")}else I=ta}if(I){for(const P of d.children)d.renameSignal(P.getName(b),
d.getName(k)),P.component.layoutSize.set(b,"merged",!1);A.setWithExplicit(k,I)}else A.setWithExplicit(k,{explicit:!1,value:void 0})}function ol(d,k){const b=d.config;var g=d.getScaleComponent("width"===k?"x":"y");if(g)return d=g.get("type"),g=g.get("range"),d in Qd?(k=F(b.view,k),xc(g)||pb(k)?"step":k):c(b.view,k);if(d.hasProjection||"arc"===d.mark)return c(b.view,k);k=F(b.view,k);return pb(k)?k.step:k}function hh(d,k,b){return pd(k,Object.assign({},{suffix:"by_".concat(pd(d))},null!==b&&void 0!==
b?b:{}))}function Yj(d,k){for(const P of k){var b,g,l,A;k=P.data;if(d.name&&P.hasName()&&d.name!==P.dataName)continue;const ta=null===(b=d.format)||void 0===b?void 0:b.mesh;var I=null===(g=k.format)||void 0===g?void 0:g.feature;if(ta&&I)continue;const Na=null===(l=d.format)||void 0===l?void 0:l.feature;if(!Na&&!I||Na===I)if(I=null===(A=k.format)||void 0===A?void 0:A.mesh,!ta&&!I||ta===I)if("values"in d&&"values"in k){if(Kj(d.values,k.values))return P}else if("url"in d&&"url"in k){if(d.url===k.url)return P}else if(Hh(d)&&
d.name===P.dataName)return P}return null}function Gj(d,k){if(d.data||!d.parent){if(null===d.data)return d=new qk({values:[]}),k.push(d),d;const b=Yj(d.data,k);if(b)return Zg(d.data)||(b.data.format=Qa({},d.data.format,b.data.format)),!b.hasName()&&d.data.name&&(b.dataName=d.data.name),b;d=new qk(d.data);k.push(d);return d}return d.parent.component.data.facetRoot?d.parent.component.data.facetRoot:d.parent.component.data.main}function Vh(d){var k,b,g,l=Gj(d,d.component.data.sources);const {outputNodes:A,
outputNodeRefCounts:I}=d.component.data,P=d.parent?d.parent.component.data.ancestorParse.clone():new on,ta=d.data;Zg(ta)?("sequence"in ta?l=new rl(l,ta.sequence):"graticule"in ta&&(l=new ql(l,ta.graticule)),P.parseNothing=!0):null===(null===ta||void 0===ta?void 0:null===(k=ta.format)||void 0===k?void 0:k.parse)&&(P.parseNothing=!0);l=null!==(b=uh.makeExplicit(l,d,P))&&void 0!==b?b:l;l=new rk(l);k=d.parent&&pj(d.parent);if((eg(d)||Eh(d))&&k){var Na;l=null!==(Na=yj.makeFromEncoding(l,d))&&void 0!==
Na?Na:l}if(0<d.transforms.length){Na=0;for(const Kd of d.transforms){var wb=b=void 0;if("calculate"in Kd)wb=l=new $k(l,Kd),b="derived";else if("filter"in Kd){var Fb;wb=Mk(Kd);wb=l=null!==(Fb=uh.makeWithAncestors(l,{},wb,P))&&void 0!==Fb?Fb:l;l=new Yk(l,d,Kd.filter)}else if("bin"in Kd)wb=l=yj.makeFromTransform(l,Kd,d),b="number";else if("timeUnit"in Kd)b="date",void 0===P.getWithExplicit(Kd.field).value&&(l=new uh(l,{[Kd.field]:b}),P.set(Kd.field,b,!1)),wb=l=zj.makeFromTransform(l,Kd);else if("aggregate"in
Kd)wb=l=fj.makeFromTransform(l,Kd),b="number",Pi(d)&&(l=new rk(l));else if("lookup"in Kd)wb=l=ul.make(l,d,Kd,Na++),b="derived";else if("window"in Kd)wb=l=new Zk(l,Kd),b="number";else if("joinaggregate"in Kd)wb=l=new Jk(l,Kd),b="number";else if("stack"in Kd)wb=l=Qj.makeFromTransform(l,Kd),b="derived";else if("fold"in Kd)wb=l=new Gl(l,Kd),b="derived";else if("flatten"in Kd)wb=l=new Hl(l,Kd),b="derived";else if("pivot"in Kd)wb=l=new Nl(l,Kd),b="derived";else if("sample"in Kd)l=new Ml(l,Kd);else if("impute"in
Kd)wb=l=Kk.makeFromTransform(l,Kd),b="derived";else if("density"in Kd)wb=l=new Il(l,Kd),b="derived";else if("quantile"in Kd)wb=l=new Kl(l,Kd),b="derived";else if("regression"in Kd)wb=l=new Ll(l,Kd),b="derived";else if("loess"in Kd)wb=l=new Jl(l,Kd),b="derived";else{Gb("Ignoring an invalid transform: ".concat(If(Kd),"."));continue}if(wb&&void 0!==b)for(const hg of null!==(dc=wb.producedFields())&&void 0!==dc?dc:[]){var dc;P.set(hg,b,!1)}}}Fb={};if(eg(d)&&d.component.selection)for(Wc of td(d.component.selection)){dc=
d.component.selection[Wc];for(var Oc of dc.project.items)!Oc.channel&&1<xa(Oc.field)&&(Fb[Oc.field]="flatten")}var Wc=Fb;Oc=ej(d);l=null!==(g=uh.makeWithAncestors(l,{},Object.assign({},Wc,Oc),P))&&void 0!==g?g:l;eg(d)&&(l=al.parseAll(l,d),l=tl.parseAll(l,d));if(eg(d)||Eh(d)){var cd;if(!k){var wd;l=null!==(wd=yj.makeFromEncoding(l,d))&&void 0!==wd?wd:l}l=null!==(cd=zj.makeFromEncoding(l,d))&&void 0!==cd?cd:l;l=$k.parseAllForSortIndex(l,d)}cd=d.getDataName(og.Raw);g=new th(l,cd,og.Raw,I);l=A[cd]=g;
if(eg(d)){var Cd,ne;if(cd=fj.makeFromEncoding(l,d))l=cd,Pi(d)&&(l=new rk(l));l=null!==(Cd=Kk.makeFromEncoding(l,d))&&void 0!==Cd?Cd:l;l=null!==(ne=Qj.makeFromEncoding(l,d))&&void 0!==ne?ne:l}if(eg(d)){var of;l=null!==(of=sl.make(l,d))&&void 0!==of?of:l}ne=d.getDataName(og.Main);Cd=new th(l,ne,og.Main,I);l=A[ne]=Cd;eg(d)&&zh(d,Cd);of=null;if(Eh(d)){var fe;ne=d.getName("facet");{of=l;const {row:Kd,column:hg}=d.facet;if(Kd&&hg){cd=null;for(mf of[Kd,hg])if(K(mf.sort)){const {field:rf,op:Ie="min"}=mf.sort;
of=cd=new Jk(of,{joinaggregate:[{op:Ie,field:rf,as:hh(mf,mf.sort,{forAs:!0})}],groupby:[pd(mf)]})}var mf=cd}else mf=null}l=null!==(fe=mf)&&void 0!==fe?fe:l;of=new Ik(l,d,ne,Cd.getSource());A[ne]=of}return Object.assign({},d.component.data,{outputNodes:A,outputNodeRefCounts:I,raw:g,main:Cd,facetRoot:of,ancestorParse:P})}function Hj(d){return Tg.reduce((k,b)=>{d.component.scales[b]&&(k[b]=[vk(b,d)]);return k},{})}function Wi(d,k){if(d){if(d.length!==k.length)return;const b=d.length;for(let g=0;g<b;g++){const l=
d[g],A=k[g];if(!!l!==!!A)return;if(l&&A){const I=l.getWithExplicit("orient"),P=A.getWithExplicit("orient");if(I.explicit&&P.explicit&&I.value!==P.value)return;d[g]=dk(l,A)}}}else return k.map(b=>b.clone());return d}function dk(d,k){for(const b of om){const g=Ef(d.getWithExplicit(b),k.getWithExplicit(b),b,"axis",(l,A)=>{switch(b){case "title":return N(l,A);case "gridScale":return{explicit:l.explicit,value:ma(l.value,A.value)}}return Rd(l,A,b,"axis")});d.setWithExplicit(b,g)}return d}function fl(d,
k,b,g,l){if("disable"===k)return void 0!==b;b=b||{};switch(k){case "titleAngle":case "labelAngle":return d===(Cc(b.labelAngle)?b.labelAngle:p(b.labelAngle));case "values":return!!b.values;case "encode":return!!b.encoding||!!b.labelAngle;case "title":if(d===zi(g,l))return!0}return d===b[k]}function vk(d,k){var b,g,l,A,I;let P=k.axis(d);const ta=new pm;var Na=J(k.encoding[d]);const {mark:wb,config:Fb}=k;var dc=(null===(b=P)||void 0===b?void 0:b.orient)||(null===(g=Fb["x"===d?"axisX":"axisY"])||void 0===
g?void 0:g.orient)||(null===(l=Fb.axis)||void 0===l?void 0:l.orient)||("x"===d?"bottom":"left");g=k.getScaleComponent(d).get("type");b=Cj(d,g,dc,k.config);l=void 0!==P?!P:bi("disable",Fb.style,null===(A=P)||void 0===A?void 0:A.style,b).configValue;ta.set("disable",l,void 0!==P);if(l)return ta;P=P||{};A=nk(Na,P,d,Fb.style,b);Na={fieldOrDatumDef:Na,axis:P,channel:d,model:k,scaleType:g,orient:dc,labelAngle:A,mark:wb,config:Fb};for(const Wc of om)if(dc=Wc in qm?qm[Wc](Na):il[Wc]?P[Wc]:void 0,A=void 0!==
dc,g=fl(dc,Wc,P,k,d),A&&g)ta.set(Wc,dc,g);else{const {configValue:cd,configFrom:wd}=il[Wc]&&"values"!==Wc?bi(Wc,Fb.style,P.style,b):{};l=void 0!==cd;A&&!l?ta.set(Wc,dc,g):("vgAxisConfig"!==wd||pn.has(Wc)&&l||C(cd)||Cc(cd))&&ta.set(Wc,cd,!1)}const Oc=null!==(I=P.encoding)&&void 0!==I?I:{};I=Qk.reduce((Wc,cd)=>{var wd;if(!ta.hasAxisPart(cd))return Wc;var Cd=ug(null!==(wd=Oc[cd])&&void 0!==wd?wd:{},k);if("labels"===cd){{var ne;const {encoding:of,config:fe}=k;wd=null!==(ne=J(of[d]))&&void 0!==ne?ne:J(of[sa(d)]);
ne=k.axis(d)||{};const {format:mf,formatType:Kd}=ne;Cd=Ac(Kd)?Object.assign({},{text:Je({fieldOrDatumDef:wd,field:"datum.value",format:mf,formatType:Kd,config:fe})},Cd):Cd}}void 0===Cd||Q(Cd)||(Wc[cd]={update:Cd});return Wc},{});Q(I)||ta.set("encode",I,!!P.encoding||void 0!==P.labelAngle);return ta}function wk(d,k,b){switch(d){case Ud:case ii:case Ok:case Hf:case qe:case jd:return}const {x:g,y:l,x2:A,y2:I}=k;switch(d){case Lc:if(uc(g)&&(Sc(g.bin)||uc(l)&&l.aggregate&&!g.aggregate))break;if(uc(l)&&
(Sc(l.bin)||uc(g)&&g.aggregate&&!l.aggregate))return"horizontal";if(I||A){if(b)return b;if(!A&&(uc(g)&&"quantitative"===g.type&&!Dc(g.bin)||se(g)))return"horizontal";if(!I&&(uc(l)&&"quantitative"===l.type&&!Dc(l.bin)||se(l)))break}case Ne:if(!(!A||uc(g)&&Sc(g.bin)||!I||uc(l)&&Sc(l.bin)))return;case Vc:if(I){if(uc(l)&&Sc(l.bin))return"horizontal";break}else if(A)if(uc(g)&&Sc(g.bin))break;else return"horizontal";else if(d===Ne)if(g&&!l)break;else if(l&&!g)return"horizontal";case Gd:case lg:k=fd(g);
var P=fd(l);if(k&&!P)return"tick"!==d?"horizontal":"vertical";if(!k&&P)return"tick"!==d?"vertical":"horizontal";if(k&&P){k="temporal"===g.type;P="temporal"===l.type;if(k&&!P)return"tick"!==d?"vertical":"horizontal";if(!k&&P)return"tick"!==d?"horizontal":"vertical";if(!g.aggregate&&l.aggregate)return"tick"!==d?"vertical":"horizontal";if(g.aggregate&&!l.aggregate)return"tick"!==d?"horizontal":"vertical";if(b)return b}else{if(b)return b;return}}return"vertical"}function Xi(d,k){return Object.assign({},
Pg(d,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),wg("x",d,{defaultPos:"mid"}),wg("y",d,{defaultPos:"mid"}),qg("size",d),qg("angle",d),k?{shape:{value:k}}:qg("shape",d))}function Pk(d,k,b){if(void 0===be("align",d,b))return"center"}function Zj(d,k,b){if(void 0===be("baseline",d,b))return"middle"}function ji(d){var k;const {config:b,markDef:g}=d;var {orient:l}=g;const A="horizontal"===l?"width":"height";d=d.getScaleComponent("horizontal"===l?"x":
"y");l=null!==(k=be("size",g,b,{vgChannel:A}))&&void 0!==k?k:b.tick.bandSize;return void 0!==l?l:(k=d?d.get("range"):void 0)&&xc(k)&&Wa(k.step)?3*k.step/4:3*m(b.view,A)/4}function bk(d){if(Ma([Gd,Vc,pf],d.mark)){var k=pc(d.mark,d.encoding);if(0<k.length)return ak(d,k)}else if(Ma([Lc],d.mark)&&(k=e.some(b=>be(b,d.markDef,d.config)),d.stack&&!d.fieldDef("size")&&k))return rg(d);return fh(d)}function ak(d,k){return[{name:d.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+d.requestDataName(og.Main),
data:d.requestDataName(og.Main),groupby:k}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:fh(d,{fromPrefix:"faceted_path_"})}]}function rg(d){const [k]=fh(d,{fromPrefix:"stack_group_"}),b=d.scaleName(d.stack.fieldChannel),g=ta=>{ta=void 0===ta?{}:ta;return d.vgField(d.stack.fieldChannel,ta)};var l=(ta,Na)=>{Na=[g({prefix:"min",suffix:"start",expr:Na}),g({prefix:"max",suffix:"start",expr:Na}),g({prefix:"min",suffix:"end",expr:Na}),g({prefix:"max",suffix:"end",
expr:Na})];return"".concat(ta,"(").concat(Na.map(wb=>"scale('".concat(b,"',").concat(wb,")")).join(","),")")};let A;"x"===d.stack.fieldChannel?(l=Object.assign({},Ga(k.encode.update,["y","yc","y2","height",...e]),{x:{signal:l("min","datum")},x2:{signal:l("max","datum")},clip:{value:!0}}),A={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},k.encode.update=Object.assign({},jb(k.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(l=Object.assign({},Ga(k.encode.update,["x",
"xc","x2","width"]),{y:{signal:l("min","datum")},y2:{signal:l("max","datum")},clip:{value:!0}}),A={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},k.encode.update=Object.assign({},jb(k.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var I of e){var P=wf(I,d.markDef,d.config);k.encode.update[I]?(l[I]=k.encode.update[I],delete k.encode.update[I]):P&&(l[I]=Pd(P));P&&(k.encode.update[I]={value:0})}I=d.fieldDef(d.stack.groupbyChannel);P=pd(I)?[pd(I)]:[];((null===I||void 0===
I?0:I.bin)||(null===I||void 0===I?0:I.timeUnit))&&P.push(pd(I,{binSuffix:"end"}));l="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((ta,Na)=>{if(k.encode.update[Na])return Object.assign({},ta,{[Na]:k.encode.update[Na]});{const wb=wf(Na,d.markDef,d.config);return void 0!==wb?Object.assign({},ta,{[Na]:Pd(wb)}):ta}},l);l.stroke&&(l.strokeForeground={value:!0},l.strokeOffset={value:0});return[{type:"group",from:{facet:{data:d.requestDataName(og.Main),
name:"stack_group_"+d.requestDataName(og.Main),groupby:P,aggregate:{fields:[g({suffix:"start"}),g({suffix:"start"}),g({suffix:"end"}),g({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:l},marks:[{type:"group",encode:{update:A},marks:[k]}]}]}function xk(d){const {encoding:k,stack:b,mark:g,markDef:l,config:A}=d;var I=k.order;if(!(!te(I)&&le(I)&&ab(I.value)||!I&&ab(be("order",l,A)))){if((te(I)||uc(I))&&!b)return ef(I,{expr:"datum"});if(re(g)){const P="horizontal"===l.orient?"y":"x",ta=
k[P];if(uc(ta)){I=ta.sort;if(te(I))return{field:pd(ta,{prefix:P,suffix:"sort_index",expr:"datum"})};if(K(I))return{field:pd({aggregate:ya(d.encoding)?I.op:void 0,field:I.field},{expr:"datum"})};if(I&&I.encoding)return d=d.fieldDef(I.encoding),{field:pd(d,{expr:"datum"}),order:I.order};if(null!==I)return{field:pd(ta,{binSuffix:d.stack&&d.stack.impute?"mid":void 0,expr:"datum"})}}}}}function fh(d,k){k=void 0===k?{fromPrefix:""}:k;const {mark:b,markDef:g,encoding:l,config:A}=d;var I=g.clip;var P=d.getScaleComponent("x");
var ta=d.getScaleComponent("y");P=P&&P.get("selectionExtent")||ta&&ta.get("selectionExtent")?!0:void 0;ta=(ta=d.component.projection)&&!ta.isFit?!0:void 0;I=ma(I,P,ta);P=Sf(g);ta=l.key;const Na=xk(d);var wb;if(d.component.selection){for(var Fb=wb=td(d.component.selection).length,dc=d.parent;dc&&0===Fb;)Fb=td(dc.component.selection).length,dc=dc.parent;wb=Fb?{interactive:0<wb||!!d.encoding.tooltip}:null}else wb=null;Fb=be("aria",g,A);dc=vl[b].postEncodingTransform?vl[b].postEncodingTransform(d):null;
return[Object.assign({},{name:d.getName("marks"),type:vl[b].vgMark},I?{clip:!0}:{},P?{style:P}:{},ta?{key:ta.field}:{},Na?{sort:Na}:{},wb?wb:{},!1===Fb?{aria:Fb}:{},{from:{data:k.fromPrefix+d.requestDataName(og.Main)},encode:{update:vl[b].encodeEntry(d)}},dc?{transform:dc}:{})]}function ki(d,k,b,g,l){if("facet"in d)return new wl(d,k,b,l);if("layer"in d)return new rm(d,k,b,g,l);if(Y(d))return new sm(d,k,b,g,l);if("vconcat"in d||"hconcat"in d||"concat"in d)return new qn(d,k,b,l);throw Error(Pc(d));
}function tg(d,k,b,g){b=void 0===b?{}:b;const l=d.config?Ob(d.config):void 0;b=[].concat(d.assembleSelectionData([]),Bl(d.component.data,b));const A=d.assembleProjections(),I=d.assembleTitle(),P=d.assembleGroupStyle(),ta=d.assembleGroupEncodeEntry(!0);let Na=d.assembleLayoutSignals();Na=Na.filter(dc=>"width"!==dc.name&&"height"!==dc.name||void 0===dc.value?!0:(k[dc.name]=+dc.value,!1));var wb=Object.assign({},k);const Fb=k.params;wb=(delete wb.params,wb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
d.description?{description:d.description}:{},wb,I?{title:I}:{},P?{style:P}:{},ta?{encode:{update:ta}}:{},{data:b},0<A.length?{projections:A}:{},d.assembleGroup([...Na,...d.assembleSelectionTopLevelSignals([]),...je(Fb)]),l?{config:l}:{},g?{usermeta:g}:{})}const Sg=d=>function(k){return k[d]},Rg=d=>{const k=d.length;return function(b){for(let g=0;g<k;++g)b=b[d[g]];return b}};(function(d,k,b){const g=Wb(d);d=1===g.length?g[0]:d;return ca((b&&b.get||Sa)(g),[d],k||d)})("id");const yk=ca(d=>d,[],"identity");
ca(()=>0,[],"zero");ca(()=>1,[],"one");ca(()=>!0,[],"true");ca(()=>!1,[],"false");var te=Array.isArray;const Jj=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function b(k){var g=isNaN(k)?1:Number(k);return g?Array.prototype.reduce.call(this,function(l,A){return Array.isArray(A)?l.push.apply(l,b.call(A,g-1)):l.push(A),l},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,
"flatMap",{configurable:!0,value:function(k){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var ck=function(k,b){b||(b={});"function"===typeof b&&(b={cmp:b});var g="boolean"===typeof b.cycles?b.cycles:!1,l=b.cmp&&function(I){return function(P){return function(ta,Na){return I({key:ta,value:P[ta]},{key:Na,value:P[Na]})}}}(b.cmp),A=[];return function ta(P){P&&P.toJSON&&"function"===typeof P.toJSON&&(P=P.toJSON());if(void 0!==P){if("number"==typeof P)return isFinite(P)?""+P:"null";
if("object"!==typeof P)return JSON.stringify(P);var Na;if(Array.isArray(P)){var wb="[";for(Na=0;Na<P.length;Na++)Na&&(wb+=","),wb+=ta(P[Na])||"null";return wb+"]"}if(null===P)return"null";if(-1!==A.indexOf(P)){if(g)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Fb=A.push(P)-1,dc=Object.keys(P).sort(l&&l(P));wb="";for(Na=0;Na<dc.length;Na++){var Oc=dc[Na],Wc=ta(P[Oc]);Wc&&(wb&&(wb+=","),wb+=JSON.stringify(Oc)+":"+Wc)}A.splice(Fb,1);return"{"+wb+
"}"}}(k)};const Kj=function l(b,g){if(b===g)return!0;if(b&&g&&"object"==typeof b&&"object"==typeof g){if(b.constructor!==g.constructor)return!1;var A;if(Array.isArray(b)){var I=b.length;if(I!=g.length)return!1;for(A=I;0!==A--;)if(!l(b[A],g[A]))return!1;return!0}if(b.constructor===RegExp)return b.source===g.source&&b.flags===g.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===g.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===g.toString();var P=Object.keys(b);
I=P.length;if(I!==Object.keys(g).length)return!1;for(A=I;0!==A--;)if(!Object.prototype.hasOwnProperty.call(g,P[A]))return!1;for(A=I;0!==A--;)if(I=P[A],!l(b[I],g[I]))return!1;return!0}return b!==b&&g!==g},Ve=function(b,g,l){return l={path:g,exports:{},require:function(A,I){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},b(l,l.exports),l.exports}(function(b){var g=function(){function l(Fb,dc){return null!=dc&&Fb instanceof dc}function A(Fb,dc,Oc,Wc,cd){function wd(fe,
mf){if(null===fe)return null;if(0===mf||"object"!=typeof fe)return fe;if(l(fe,ta))var Kd=new ta;else if(l(fe,Na))Kd=new Na;else if(l(fe,wb))Kd=new wb(function(zg,Qf){fe.then(function(Fg){zg(wd(Fg,mf-1))},function(Fg){Qf(wd(Fg,mf-1))})});else if(A.__isArray(fe))Kd=[];else if(A.__isRegExp(fe))Kd=new RegExp(fe.source,P(fe)),fe.lastIndex&&(Kd.lastIndex=fe.lastIndex);else if(A.__isDate(fe))Kd=new Date(fe.getTime());else{if(of&&n.isBuffer(fe))return Kd=n.allocUnsafe?n.allocUnsafe(fe.length):new n(fe.length),
fe.copy(Kd),Kd;if(l(fe,Error))Kd=Object.create(fe);else if("undefined"==typeof Wc){var hg=Object.getPrototypeOf(fe);Kd=Object.create(hg)}else Kd=Object.create(Wc),hg=Wc}if(dc){var rf=Cd.indexOf(fe);if(-1!=rf)return ne[rf];Cd.push(fe);ne.push(Kd)}l(fe,ta)&&fe.forEach(function(zg,Qf){Qf=wd(Qf,mf-1);zg=wd(zg,mf-1);Kd.set(Qf,zg)});l(fe,Na)&&fe.forEach(function(zg){zg=wd(zg,mf-1);Kd.add(zg)});for(var Ie in fe){var dg;hg&&(dg=Object.getOwnPropertyDescriptor(hg,Ie));dg&&null==dg.set||(Kd[Ie]=wd(fe[Ie],mf-
1))}if(Object.getOwnPropertySymbols)for(rf=Object.getOwnPropertySymbols(fe),Ie=0;Ie<rf.length;Ie++)if(dg=rf[Ie],hg=Object.getOwnPropertyDescriptor(fe,dg),!hg||hg.enumerable||cd)Kd[dg]=wd(fe[dg],mf-1),hg.enumerable||Object.defineProperty(Kd,dg,{enumerable:!1});if(cd)for(rf=Object.getOwnPropertyNames(fe),Ie=0;Ie<rf.length;Ie++)dg=rf[Ie],hg=Object.getOwnPropertyDescriptor(fe,dg),hg&&hg.enumerable||(Kd[dg]=wd(fe[dg],mf-1),Object.defineProperty(Kd,dg,{enumerable:!1}));return Kd}"object"===typeof dc&&(Oc=
dc.depth,Wc=dc.prototype,cd=dc.includeNonEnumerable,dc=dc.circular);var Cd=[],ne=[],of="undefined"!=typeof n;"undefined"==typeof dc&&(dc=!0);"undefined"==typeof Oc&&(Oc=Infinity);return wd(Fb,Oc)}function I(Fb){return Object.prototype.toString.call(Fb)}function P(Fb){var dc="";Fb.global&&(dc+="g");Fb.ignoreCase&&(dc+="i");Fb.multiline&&(dc+="m");return dc}try{var ta=Map}catch(Fb){ta=function(){}}try{var Na=Set}catch(Fb){Na=function(){}}try{var wb=Promise}catch(Fb){wb=function(){}}A.clonePrototype=
function(Fb){if(null===Fb)return null;var dc=function(){};dc.prototype=Fb;return new dc};A.__objToStr=I;A.__isDate=function(Fb){return"object"===typeof Fb&&"[object Date]"===I(Fb)};A.__isArray=function(Fb){return"object"===typeof Fb&&"[object Array]"===I(Fb)};A.__isRegExp=function(Fb){return"object"===typeof Fb&&"[object RegExp]"===I(Fb)};A.__getRegExpFlags=P;return A}();b.exports&&(b.exports=g)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(b=>ck(b)).join(","),")")};const If=
ck,td=Object.keys,Fi=Object.values,dh=Object.entries;let zk=42;const gl={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},
gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Qk=["domain","grid","labels","ticks","title"],Al={grid:"grid",gridCap:"grid",
gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",
labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",
titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},hl={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,
domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,
tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},il=Object.assign({},hl,{style:1,labelExpr:1,encoding:1}),jl=td({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,
axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Cl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ek={count:1,min:1,max:1},ll=["count","valid","missing","distinct"],Ig=["count","sum","distinct","valid","missing"],
Sk=Ya("mean average median q1 q3 min max".split(" ")),qh={theta:1,theta2:1,radius:1,radius2:1},Fh={longitude:1,longitude2:1,latitude:1,latitude2:1},rj=td(Fh),fk=Object.assign({},{x:1,y:1,x2:1,y2:1},qh,Fh,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Tk={row:1,column:1,facet:1},Yg=td(Tk),sj=Object.assign({},fk,Tk),Uk=td(sj);var $e=Object.assign({},sj),oh=(delete $e.order,
delete $e.detail,delete $e.tooltip,$e),gf=Object.assign({},oh);const gh=(delete gf.row,delete gf.column,delete gf.facet,gf),Hg="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var Ug=Object.assign({},fk);const $h=(delete Ug.x,delete Ug.y,delete Ug.x2,delete Ug.y2,delete Ug.latitude,delete Ug.longitude,delete Ug.latitude2,delete Ug.longitude2,delete Ug.theta,delete Ug.theta2,delete Ug.radius,delete Ug.radius2,Ug),gk=td($h),xg={x:1,y:1},Tg=td(xg),Mj={theta:1,radius:1},Rk=td(Mj);var li=Object.assign({},
$h);const ue=(delete li.text,delete li.tooltip,delete li.href,delete li.url,delete li.description,delete li.detail,delete li.key,delete li.order,li),Bk=td(ue),Yh=Object.assign({},xg,Mj,ue),Zh=td(Yh),hk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Nj=Object.assign({},hk);const ik=(delete Nj.geoshape,Nj),$i=function(b,g){let l=b||0;return{level(A){return arguments.length?
(l=+A,this):l},error(){1<=l&&fb(g||"error","ERROR",arguments);return this},warn(){2<=l&&fb(g||"warn","WARN",arguments);return this},info(){3<=l&&fb(g||"log","INFO",arguments);return this},debug(){4<=l&&fb(g||"log","DEBUG",arguments);return this}}}(2);let Zi=$i;const Dk="january february march april may june july august september october november december".split(" "),Ck=Dk.map(b=>b.substr(0,3)),kl="sunday monday tuesday wednesday thursday friday saturday".split(" "),Vk=kl.map(b=>b.substr(0,3)),Ak=
{year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Lk=td(Ak),bl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},yl=td({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,
orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Dl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},e=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft",
"cornerRadiusBottomRight"],h={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},z={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",
band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ba={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Ba="linear log pow sqrt symlog time utc".split(" "),yb=Ya(Ba),Jb=Ya(["linear","log","pow","sqrt","symlog"]),hc=Ya(["quantile","quantize","threshold"]),dd=Ba.concat(["quantile","quantize","threshold","sequential","identity"]),Zc=Ya(dd),Qd=Ya(["ordinal",
"bin-ordinal","point","band"]);var Zd=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Df=(delete Zd.type,delete Zd.domain,delete Zd.range,delete Zd.rangeMax,delete Zd.rangeMin,delete Zd.scheme,Zd),Rf=td(Df),fg={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",
rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Gg=fg.arc,Vc=fg.area,Lc=fg.bar,jd=fg.image,Gd=fg.line,Ud=fg.point,qe=fg.rect,Ne=fg.rule,Hf=fg.text,lg=fg.tick,pf=fg.trail,ii=fg.circle,Ok=fg.square,nm=fg.geoshape,tm=td(fg);Ya(tm);const rn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),am=td({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),
Zl=td({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),sn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Tl={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},um=(b,g)=>{switch(g.fieldTitle){case "plain":return b.field;case "functional":{const {aggregate:l,bin:A,timeUnit:I,field:P}=b;G(l)?b="".concat(P,
" for argmax(").concat(l.argmax,")"):D(l)?b="".concat(P," for argmin(").concat(l.argmin,")"):(b=Hb(I),b=(b=l||(null===b||void 0===b?void 0:b.unit)||(null===b||void 0===b?void 0:b.maxbins)&&"timeunit"||Dc(A)&&"bin")?b.toUpperCase()+"("+P+")":P)}return b;default:return Le(b,g)}};let Wk=um;const pk={compatible:!0};class pl{constructor(b,g){this.name=b;this.run=g}hasMatchingType(b){return Y(b)?(b=b.mark,(Ad(b)?b.type:b)===this.name):!1}}const tn=new pl("boxplot",zc),un=new pl("errorbar",Rc),vn=new pl("errorband",
bd),Wl={};Sd("boxplot",zc,["box","median","outliers","rule","ticks"]);Sd("errorbar",Rc,["ticks","rule"]);Sd("errorband",bd,["band","borders"]);const Fm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],em={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},fm={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Xm=td(em),Ym=td(fm),$l=td({header:1,headerRow:1,headerColumn:1,headerFacet:1}),gm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Am=["background","padding"],Bm=td({align:1,bounds:1,center:1,columns:1,spacing:1}),Cm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},
text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},Aj="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Yl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Xl={blue:Aj[0],orange:Aj[1],red:Aj[2],teal:Aj[3],green:Aj[4],yellow:Aj[5],purple:Aj[6],pink:Aj[7],brown:Aj[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",
gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Dm=[...Zl,...jl,...$l,"background","padding","legend","lineBreak","scale","style","title","view"],Gm=["view",...tm],Em="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Hm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class wn{map(b,g){return"facet"in b?this.mapFacet(b,g):"repeat"in b?this.mapRepeat(b,g):"hconcat"in b?this.mapHConcat(b,g):"vconcat"in b?this.mapVConcat(b,g):"concat"in b?this.mapConcat(b,g):this.mapLayerOrUnit(b,
g)}mapLayerOrUnit(b,g){if("layer"in b)return this.mapLayer(b,g);if(Y(b))return this.mapUnit(b,g);throw Error(Pc(b));}mapLayer(b,g){return Object.assign({},b,{layer:b.layer.map(l=>this.mapLayerOrUnit(l,g))})}mapHConcat(b,g){return Object.assign({},b,{hconcat:b.hconcat.map(l=>this.map(l,g))})}mapVConcat(b,g){return Object.assign({},b,{vconcat:b.vconcat.map(l=>this.map(l,g))})}mapConcat(b,g){var l=Object.assign({},b);b=b.concat;l=(delete l.concat,l);return Object.assign({},l,{concat:b.map(A=>this.map(A,
g))})}mapFacet(b,g){return Object.assign({},b,{spec:this.map(b.spec,g)})}mapRepeat(b,g){return Object.assign({},b,{spec:this.map(b.spec,g)})}}const Km={zero:1,center:1,normalize:1},Im=new Set([Gg,Lc,Vc,Ne,Ud,ii,Ok,Gd,Hf,lg]),Jm=new Set([Lc,Vc,Gg]);class xn{constructor(){kc(this,"name","path-overlay")}hasMatchingType(b,g){if(Y(b)){const {mark:l,encoding:A}=b;b=Ad(l)?l:{type:l};switch(b.type){case "line":case "rule":case "trail":return!!ie(b,g[b.type],A);case "area":return!!ie(b,g[b.type],A)||!!$d(b,
g[b.type])}}return!1}run(b,g,l){const {config:A}=g;var I=Object.assign({},b),P=b.selection;const ta=b.projection;var Na=b.mark;b=b.encoding;I=(delete I.selection,delete I.projection,delete I.mark,delete I.encoding,I);b=nb(b,A);Na=Ad(Na)?Na:{type:Na};const wb=ie(Na,A[Na.type],b),Fb="area"===Na.type&&$d(Na,A[Na.type]);P=[Object.assign({},P?{selection:P}:{},{mark:hd(Object.assign({},"area"===Na.type&&void 0===Na.opacity&&void 0===Na.fillOpacity?{opacity:.7}:{},Na)),encoding:jb(b,["shape"])})];const dc=
vc(Na,b);let Oc=b;if(dc){const {fieldChannel:Wc,offset:cd}=dc;Oc=Object.assign({},b,{[Wc]:Object.assign({},b[Wc],cd?{stack:cd}:{})})}Fb&&P.push(Object.assign({},ta?{projection:ta}:{},{mark:Object.assign({},{type:"line"},Ga(Na,["clip","interpolate","tension","tooltip"]),Fb),encoding:Oc}));wb&&P.push(Object.assign({},ta?{projection:ta}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},Ga(Na,["clip","tooltip"]),wb),encoding:Oc}));return l(Object.assign({},I,{layer:P}),Object.assign({},g,{config:nd(A)}))}}
class yn{constructor(){kc(this,"name","RangeStep")}hasMatchingType(b){if(Y(b)&&b.encoding)for(const l of Tg){const A=b.encoding[l];if(A&&xd(A)){var g;if(null===A||void 0===A?0:null===(g=A.scale)||void 0===g?0:g.rangeStep)return!0}}return!1}run(b){const g={};let l=Object.assign({},b.encoding);for(const Na of Tg){const wb=eb(Na);var A=l[Na];if(A&&xd(A)){var I;if(null===A||void 0===A?0:null===(I=A.scale)||void 0===I?0:I.rangeStep){var P=Object.assign({},A);A=A.scale;P=(delete P.scale,P);var ta=Object.assign({},
A);ta=(delete ta.rangeStep,ta);g[wb]={step:A.rangeStep};Gb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');l=Object.assign({},l,{[Na]:Object.assign({},P,Q(ta)?{}:{scale:ta})})}}}return Object.assign({},g,b,{encoding:l})}}class zn{constructor(){kc(this,"name","RuleForRangedLine")}hasMatchingType(b){if(Y(b)){const {encoding:g,mark:l}=b;if("line"===l)for(const A of Hg)if(b=
Ja(A),b=g[b],g[A]&&(uc(b)&&!Sc(b.bin)||id(b)))return!0}return!1}run(b,g,l){var {encoding:A}=b,I=!!A.x2;A="Line mark is for continuous lines and thus cannot be used with ".concat(I&&A.y2?"x2 and y2":I?"x2":"y2",". We will use the rule mark (line segments) instead.");Gb(A);return l(Object.assign({},b,{mark:"rule"}),g)}}class An extends wn{constructor(...b){super(...b);kc(this,"nonFacetUnitNormalizers",[tn,un,vn,new xn,new zn,new yn])}map(b,g){if(Y(b)){const l=ia(b.encoding,"row"),A=ia(b.encoding,"column"),
I=ia(b.encoding,"facet");if(l||A||I)return this.mapFacetedUnit(b,g)}return super.map(b,g)}mapUnit(b,g){const {parentEncoding:l,parentProjection:A}=g;var I=Vd(b.encoding,g.repeater);b=Object.assign({},b,I?{encoding:I}:{});if(l||A)return this.mapUnitWithParentEncodingOrProjection(b,g);I=this.mapLayerOrUnit.bind(this);for(const P of this.nonFacetUnitNormalizers)if(P.hasMatchingType(b,g.config))return P.run(b,g,I);return b}mapRepeat(b,g){return!te(b.repeat)&&b.repeat.layer?this.mapLayerRepeat(b,g):this.mapNonLayerRepeat(b,
g)}mapLayerRepeat(b,g){var l=Object.assign({},b);const A=b.repeat,I=b.spec;l=(delete l.repeat,delete l.spec,l);const {row:P,column:ta,layer:Na}=A,{repeater:wb={},repeaterPrefix:Fb=""}=g;return P||ta?this.mapRepeat(Object.assign({},b,{repeat:Object.assign({},P?{row:P}:{},ta?{column:ta}:{}),spec:{repeat:{layer:Na},spec:I}}),g):Object.assign({},l,{layer:Na.map(dc=>{var Oc=Object.assign({},wb,{layer:dc});dc=(I.name||"")+Fb+"child__layer_".concat(T(dc));Oc=this.mapLayerOrUnit(I,Object.assign({},g,{repeater:Oc,
repeaterPrefix:dc}));Oc.name=dc;return Oc})})}mapNonLayerRepeat(b,g){var l,A=b,I=Object.assign({},A);const P=A.repeat,ta=A.spec;A=A.data;I=(delete I.repeat,delete I.spec,delete I.data,I);!te(P)&&b.columns&&(b=jb(b,["columns"]),Gb(sd("repeat")));const Na=[],{repeater:wb={},repeaterPrefix:Fb=""}=g,dc=!te(P)&&P.row||[wb?wb.row:null],Oc=!te(P)&&P.column||[wb?wb.column:null];var Wc=te(P)&&P||[wb?wb.repeat:null];for(const wd of Wc)for(const Cd of dc)for(const ne of Oc){var cd={repeat:wd,row:Cd,column:ne,
layer:wb.layer};Wc=(ta.name||"")+Fb+"child__"+(te(P)?"".concat(T(wd)):(P.row?"row_".concat(T(Cd)):"")+(P.column?"column_".concat(T(ne)):""));cd=this.map(ta,Object.assign({},g,{repeater:cd,repeaterPrefix:Wc}));cd.name=Wc;Na.push(jb(cd,["data"]))}b=te(P)?b.columns:P.column?P.column.length:1;return Object.assign({},{data:null!==(l=ta.data)&&void 0!==l?l:A,align:"all"},I,{columns:b,concat:Na})}mapFacet(b,g){const {facet:l}=b;ua(l)&&b.columns&&(b=jb(b,["columns"]),Gb(sd("facet")));return super.mapFacet(b,
g)}mapUnitWithParentEncodingOrProjection(b,g){const {encoding:l,projection:A}=b,{parentEncoding:I,parentProjection:P,config:ta}=g,Na=Xe({parentProjection:P,projection:A});g=ke({parentEncoding:I,encoding:Vd(l,g.repeater)});return this.mapUnit(Object.assign({},b,Na?{projection:Na}:{},g?{encoding:g}:{}),{config:ta})}mapFacetedUnit(b,g){var l=b.encoding,A=Object.assign({},l),I=l.row;const P=l.column;l=l.facet;const ta=(delete A.row,delete A.column,delete A.facet,A);var Na=Object.assign({},b);A=b.mark;
const wb=b.width,Fb=b.projection,dc=b.height,Oc=b.view;b=b.selection;Na=(delete Na.mark,delete Na.width,delete Na.projection,delete Na.height,delete Na.view,delete Na.selection,delete Na.encoding,Na);const {facetMapping:Wc,layout:cd}=this.getFacetMappingAndLayout({row:I,column:P,facet:l},g);I=Vd(ta,g.repeater);return this.mapFacet(Object.assign({},Na,cd,{facet:Wc,spec:Object.assign({},wb?{width:wb}:{},dc?{height:dc}:{},Oc?{view:Oc}:{},Fb?{projection:Fb}:{},{mark:A,encoding:I},b?{selection:b}:{})}),
g)}getFacetMappingAndLayout(b,g){const {row:l,column:A,facet:I}=b;if(l||A){I&&(g=[...l?["row"]:[],...A?["column"]:[]],g="Facet encoding dropped as ".concat(g.join(" and ")," ").concat(1<g.length?"are":"is"," also specified."),Gb(g));g={};var P={};for(var ta of["row","column"]){const dc=b[ta];if(dc){var Na=Object.assign({},dc);Na=(delete Na.align,delete Na.center,delete Na.spacing,delete Na.columns,Na);g[ta]=Na;for(var wb of["align","center","spacing"])if(void 0!==dc[wb]){var Fb;P[wb]=null!==(Fb=P[wb])&&
void 0!==Fb?Fb:{};P[wb][ta]=dc[wb]}}}return{facetMapping:g,layout:P}}P=Object.assign({},I);b=I.align;Fb=I.center;ta=I.spacing;wb=I.columns;P=(delete P.align,delete P.center,delete P.spacing,delete P.columns,P);g=(g=g.repeater)?ua(P)?qf(P,g):md(P,g):P;return{facetMapping:g,layout:Object.assign({},b?{align:b}:{},Fb?{center:Fb}:{},ta?{spacing:ta}:{},wb?{columns:wb}:{})}}mapLayer(b,g){var l=Object.assign({},g),A=g.parentEncoding;g=g.parentProjection;l=(delete l.parentEncoding,delete l.parentProjection,
l);var I=Object.assign({},b);const P=b.encoding;b=b.projection;I=(delete I.encoding,delete I.projection,I);A=Object.assign({},l,{parentEncoding:ke({parentEncoding:A,encoding:P,layer:!0}),parentProjection:Xe({parentProjection:g,projection:b})});return super.mapLayer(I,A)}}const Lm=new An;class Rj{constructor(b,g){b=void 0===b?{}:b;g=void 0===g?{}:g;this.explicit=b;this.implicit=g}clone(){return new Rj(Ve(this.explicit),Ve(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(b){return ma(this.explicit[b],
this.implicit[b])}getWithExplicit(b){return void 0!==this.explicit[b]?{explicit:!0,value:this.explicit[b]}:void 0!==this.implicit[b]?{explicit:!1,value:this.implicit[b]}:{explicit:!1,value:void 0}}setWithExplicit(b,g){void 0!==g.value&&this.set(b,g.value,g.explicit)}set(b,g,l){delete this[l?"implicit":"explicit"][b];this[l?"explicit":"implicit"][b]=g;return this}copyKeyFromSplit(b,g){void 0!==g.explicit[b]?this.set(b,g.explicit[b],!0):void 0!==g.implicit[b]&&this.set(b,g.implicit[b],!1)}copyKeyFromObject(b,
g){void 0!==g[b]&&this.set(b,g[b],!0)}copyAll(b){for(const g of td(b.combine())){const l=b.getWithExplicit(g);this.setWithExplicit(g,l)}}}class on extends Rj{constructor(b,g,l){b=void 0===b?{}:b;g=void 0===g?{}:g;l=void 0===l?!1:l;super(b,g);this.explicit=b;this.implicit=g;this.parseNothing=l}clone(){const b=super.clone();b.parseNothing=this.parseNothing;return b}}let og;(function(b){b[b.Raw=0]="Raw";b[b.Main=1]="Main";b[b.Row=2]="Row";b[b.Column=3]="Column";b[b.Lookup=4]="Lookup"})(og||(og={}));
const Nm=/[[\]{}]/,Mm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let bm,cm;const Om={left:"x",center:"xc",right:"x2"},Pm={top:"y",middle:"yc",bottom:"y2"},Qm=new Set(["aria"]),vm={has:b=>"interval"!==b.type&&b.nearest,parse:(b,g)=>{if(g.events)for(const l of g.events)l.markname=b.getName("voronoi")},marks:(b,g,l)=>{const {x:A,y:I}=g.project.hasChannel;g=b.mark;if(re(g))return Gb('The "nearest" transform is not supported for '.concat(g," marks.")),
l;g={name:b.getName("voronoi"),type:"path",interactive:!0,from:{data:b.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Lj(b,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:A||!I?"datum.datum.x || 0":"0"},y:{expr:I||!A?"datum.datum.y || 0":"0"},size:[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]}]};let P=0,ta=!1;l.forEach((Na,wb)=>{var Fb;Na=null!==(Fb=Na.name)&&void 0!==Fb?
Fb:"";Na===b.component.mark[0].name?P=wb:0<=Na.indexOf("voronoi")&&(ta=!0)});ta||l.splice(P+1,0,g);return l}};class ig{constructor(b,g){this.debugName=g;kc(this,"_children",[]);kc(this,"_parent",null);kc(this,"_hash",void 0);b&&(this.parent=b)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(b){(this._parent=b)&&b.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(b,g){-1<this._children.indexOf(b)?Gb("Attempt to add the same child twice."):
void 0!==g?this._children.splice(g,0,b):this._children.push(b)}removeChild(b){b=this._children.indexOf(b);this._children.splice(b,1);return b}remove(){let b=this._parent.removeChild(this);for(const g of this._children)g._parent=this._parent,this._parent.addChild(g,b++)}insertAsParentOf(b){const g=b.parent;g.removeChild(this);this.parent=g;b.parent=this}swapWithParent(){const b=this._parent,g=b.parent;for(const l of this._children)l.parent=b;this._children=[];b.removeChild(this);b.parent.removeChild(b);
this.parent=g;b.parent=this}}class th extends ig{clone(){const b=new this.constructor;b.debugName="clone_"+this.debugName;b._source=this._source;b._name="clone_"+this._name;b.type=this.type;b.refCounts=this.refCounts;b.refCounts[b._name]=0;return b}constructor(b,g,l,A){super(b,g);this.type=l;this.refCounts=A;kc(this,"_source",void 0);kc(this,"_name",void 0);this._source=this._name=g;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===
this._hash&&(this._hash="Output ".concat(R()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(b){this._source=b}}class zj extends ig{clone(){return new zj(null,Ve(this.formula))}constructor(b,g){super(b);this.formula=g}static makeFromEncoding(b,g){const l=g.reduceFieldDef((A,I,P)=>{const {field:ta,timeUnit:Na}=I,wb=eg(g)?g.encoding[sa(P)]:void 0;P=eg(g)&&Vb(P,I,wb,g.stack,g.markDef,g.config);Na&&(I=pd(I,{forAs:!0}),
A[Ca({as:I,field:ta,timeUnit:Na})]=Object.assign({},{as:I,field:ta,timeUnit:Na},P?{band:!0}:{}));return A},{});return Q(l)?null:new zj(b,l)}static makeFromTransform(b,g){var l=Object.assign({},g);g=Object.assign({},l);l=l.timeUnit;g=(delete g.timeUnit,g);l=Hb(l);g=Object.assign({},g,{timeUnit:l});return new zj(b,{[Ca(g)]:g})}merge(b){this.formula=Object.assign({},this.formula);for(const g in b.formula)if(!this.formula[g]||b.formula[g].band)this.formula[g]=b.formula[g];for(const g of b.children)b.removeChild(g),
g.parent=this;b.remove()}removeFormulas(b){const g={};for(const l of dh(this.formula)){const [A,I]=l;b.has(I.as)||(g[A]=I)}this.formula=g}producedFields(){return new Set(Fi(this.formula).map(b=>b.as))}dependentFields(){return new Set(Fi(this.formula).map(b=>b.field))}hash(){return"TimeUnit ".concat(Ca(this.formula))}assemble(){const b=[];for(const A of Fi(this.formula)){const {field:I,as:P,timeUnit:ta}=A;var g=Hb(ta),l=Object.assign({},g);const Na=g.unit;g=g.utc;l=(delete l.unit,delete l.utc,l);b.push(Object.assign({},
{field:db(I),type:"timeunit"},Na?{units:tc(Na)}:{},g?{timezone:"utc"}:{},l,{as:[P,"".concat(P,"_end")]}))}return b}}class Bn{constructor(...b){kc(this,"hasChannel",void 0);kc(this,"hasField",void 0);kc(this,"timeUnit",void 0);kc(this,"items",void 0);this.items=b;this.hasChannel={};this.hasField={}}}const wm={has:b=>"single"===b.type&&"global"===b.resolve&&b.bind&&"scales"!==b.bind&&!We(b.bind),parse:(b,g,l,A)=>{A.on||delete g.events;A.clear||delete g.clear},topLevelSignals:(b,g,l)=>{const A=g.name;
b=g.project;const I=g.bind,P=g.init&&g.init[0],ta=vm.has(g)?"(item().isVoronoi ? datum.datum : datum)":"datum";b.items.forEach((Na,wb)=>{const Fb=T("".concat(A,"_").concat(Na.field));if(!l.filter(Wc=>Wc.name===Fb).length){var dc,Oc;l.unshift(Object.assign({},{name:Fb},P?{init:ci(P[wb])}:{value:null},{on:g.events?[{events:g.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(ta,"[").concat(Ia(Na.field),"] : null")}]:[],bind:null!==(dc=null!==(Oc=I[Na.field])&&void 0!==Oc?
Oc:I[Na.channel])&&void 0!==dc?dc:I}))}});return l},signals:(b,g,l)=>{const A=g.name;var I=g.project;b=l.filter(ta=>ta.name===A+"_tuple")[0];g=A+"_tuple_fields";I=I.items.map(ta=>T("".concat(A,"_").concat(ta.field)));const P=I.map(ta=>"".concat(ta," !\x3d\x3d null")).join(" \x26\x26 ");I.length&&(b.update="".concat(P," ? {fields: ").concat(g,", values: [").concat(I.join(", "),"]} : null"));delete b.value;delete b.on;return l}},xm={has:b=>"multi"===b.type&&!!b.toggle,signals:(b,g,l)=>l.concat({name:g.name+
"_toggle",value:!1,on:[{events:g.events,update:g.toggle}]}),modifyExpr:(b,g)=>{const l=g.name+"_tuple",A=g.name+"_toggle";return"".concat(A," ? null : ").concat(l,", ")+("global"===g.resolve?"".concat(A," ? null : true, "):"".concat(A," ? null : {unit: ").concat(jg(b),"}, "))+"".concat(A," ? ").concat(l," : null")}},Pj={has:b=>"interval"===b.type&&"global"===b.resolve&&b.bind&&"scales"===b.bind,parse:(b,g)=>{const l=g.scales=[];for(const I of g.project.items){var A=I.channel;if(!Yh[A])continue;const P=
(A=b.getScaleComponent(A))?A.get("type"):void 0;A&&P in Zc?(A.set("selectionExtent",{selection:g.name,field:I.field},!0),l.push(I)):Gb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(b,g,l)=>{const A=g.scales.filter(P=>0===l.filter(ta=>ta.name===P.signals.data).length);if(!b.parent||vh(b)||0===A.length)return l;b=l.filter(P=>P.name===g.name)[0];let I=b.update;if(0<=I.indexOf("vlSelectionResolve"))b.update="{".concat(A.map(P=>"".concat(Ia(P.field),
": ").concat(P.signals.data)).join(", "),"}");else{for(const P of A){const ta="".concat(Ia(P.field),": ").concat(P.signals.data);0>I.indexOf(ta)&&(I="".concat(I.substring(0,I.length-1),", ").concat(ta,"}"))}b.update=I}return l.concat(A.map(P=>({name:P.signals.data})))},signals:(b,g,l)=>{if(b.parent&&!vh(b))for(const A of g.scales)b=l.filter(I=>I.name===A.signals.data)[0],b.push="outer",delete b.value,delete b.update;return l}},dm={has:b=>{const g="global"===b.resolve&&b.bind&&We(b.bind);b=1===b.project.items.length&&
"_vgsid_"!==b.project.items[0].field;g&&!b&&Gb("Legend bindings are only supported for selections over an individual field or encoding channel.");return g&&b},parse:(b,g,l,A)=>{A.on||delete g.events;A.clear||delete g.clear;if(A.on||A.clear)for(const P of g.events){var I;P.filter=qb(null!==(I=P.filter)&&void 0!==I?I:[]);0>P.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&P.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}b=oa(g.bind)?
g.bind.legend:"click";b=Ha(b)?Hi(b,"view"):qb(b);g.bind={legend:{merge:b}}},topLevelSignals:(b,g,l)=>{b=g.name;const A=oa(g.bind)&&g.bind.legend,I=ta=>Na=>{Na=Ve(Na);Na.markname=ta;return Na};for(const ta of g.project.items){if(!ta.hasLegend)continue;var P="".concat(T(ta.field),"_legend");const Na="".concat(b,"_").concat(P);0===l.filter(wb=>wb.name===Na).length&&(P=A.merge.map(I("".concat(P,"_symbols"))).concat(A.merge.map(I("".concat(P,"_labels")))).concat(A.merge.map(I("".concat(P,"_entries")))),
l.unshift(Object.assign({},{name:Na},g.init?{}:{value:null},{on:[{events:P,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:A.merge,update:"!event.item || !datum ? null : ".concat(Na),force:!0}]})))}return l},signals:(b,g,l)=>{const A=g.name;var I=g.project;b=l.find(Na=>Na.name===A+"_tuple");var P=A+"_tuple_fields";I=I.items.filter(Na=>Na.hasLegend).map(Na=>T("".concat(A,"_").concat(T(Na.field),"_legend")));const ta=I.map(Na=>"".concat(Na," !\x3d\x3d null")).join(" \x26\x26 ");
P="".concat(ta," ? {fields: ").concat(P,", values: [").concat(I.join(", "),"]} : null");g.events&&0<I.length?b.on.push({events:I.map(Na=>({signal:Na})),update:P}):0<I.length&&(b.update=P,delete b.value,delete b.on);b=l.find(Na=>Na.name===A+"_toggle");P=oa(g.bind)&&g.bind.legend;b&&(g.events?b.on.push(Object.assign({},b.on[0],{events:P})):b.on[0].events=P);return l}},Rm=[{has:()=>!0,parse:(b,g,l)=>{var A;const I=g.name,P=null!==(A=g.project)&&void 0!==A?A:g.project=new Bn,ta={};A={};const Na=new Set,
wb=(Wc,cd)=>{Wc="visual"===cd?Wc.channel:Wc.field;let wd=T("".concat(I,"_").concat(Wc));for(let Cd=1;Na.has(wd);Cd++)wd=T("".concat(I,"_").concat(Wc,"_").concat(Cd));Na.add(wd);return{[cd]:wd}};if(!l.fields&&!l.encodings){const Wc=b.config.selection[l.type];if(l.init)for(const cd of qb(l.init))for(const wd of td(cd))gh[wd]?(l.encodings||(l.encodings=[])).push(wd):"interval"===l.type?(Gb('Interval selections should be initialized using "x" and/or "y" keys.'),l.encodings=Wc.encodings):(l.fields||(l.fields=
[])).push(wd);else l.encodings=Wc.encodings,l.fields=Wc.fields}for(var Fb of null!==(dc=l.fields)&&void 0!==dc?dc:[]){var dc;dc={type:"E",field:Fb};dc.signals=Object.assign({},wb(dc,"data"));P.items.push(dc);P.hasField[Fb]=dc}for(const Wc of null!==(Oc=l.encodings)&&void 0!==Oc?Oc:[]){var Oc;(Fb=b.fieldDef(Wc))?(Oc=Fb.field,Fb.aggregate?Gb(we(Wc,Fb.aggregate)):Oc?(Fb.timeUnit&&(Oc=b.vgField(Wc),dc={timeUnit:Fb.timeUnit,as:Oc,field:Fb.field},A[Ca(dc)]=dc),ta[Oc]||(dc="E","interval"===g.type?b.getScaleComponent(Wc).get("type")in
Zc&&(dc="R"):Fb.bin&&(dc="R-RE"),Fb={field:Oc,channel:Wc,type:dc},Fb.signals=Object.assign({},wb(Fb,"data"),wb(Fb,"visual")),P.items.push(ta[Oc]=Fb),P.hasField[Oc]=P.hasChannel[Wc]=ta[Oc])):Gb(Dd(Wc))):Gb(Dd(Wc))}l.init&&(b=Wc=>P.items.map(cd=>void 0!==Wc[cd.channel]?Wc[cd.channel]:Wc[cd.field]),"interval"===l.type?g.init=b(l.init):(l=qb(l.init),g.init=l.map(b)));Q(A)||(P.timeUnit=new zj(null,A))},signals:(b,g,l)=>{const A=g.name+"_tuple_fields";return 0<l.filter(I=>I.name===A).length?l:l.concat({name:A,
value:g.project.items.map(I=>{I=Object.assign({},I);I=(delete I.signals,delete I.hasLegend,I);I.field=db(I.field);return I})})}},xm,Pj,dm,{has:b=>"interval"===b.type&&b.translate,signals:(b,g,l)=>{const A=g.name,I=Pj.has(g),P=A+"_translate_anchor",{x:ta,y:Na}=g.project.hasChannel;let wb=Hi(g.translate,"scope");I||(wb=wb.map(Fb=>(Fb.between[0].markname=A+"_brush",Fb)));l.push({name:P,value:{},on:[{events:wb.map(Fb=>Fb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==ta?", extent_x: "+(I?Mi(b,
"x"):"slice(".concat(ta.signals.visual,")")):"")+(void 0!==Na?", extent_y: "+(I?Mi(b,"y"):"slice(".concat(Na.signals.visual,")")):"")+"}"}]},{name:A+"_translate_delta",value:{},on:[{events:wb,update:"{x: ".concat(P,".x - x(unit), y: ").concat(P,".y - y(unit)}")}]});void 0!==ta&&Sj(b,g,ta,"width",l);void 0!==Na&&Sj(b,g,Na,"height",l);return l}},{has:b=>"interval"===b.type&&b.zoom,signals:(b,g,l)=>{const A=g.name,I=Pj.has(g),P=A+"_zoom_delta",{x:ta,y:Na}=g.project.hasChannel,wb=Ia(b.scaleName("x")),
Fb=Ia(b.scaleName("y"));let dc=Hi(g.zoom,"scope");I||(dc=dc.map(Oc=>(Oc.markname=A+"_brush",Oc)));l.push({name:A+"_zoom_anchor",on:[{events:dc,update:I?"{"+[wb?"x: invert(".concat(wb,", x(unit))"):"",Fb?"y: invert(".concat(Fb,", y(unit))"):""].filter(Oc=>!!Oc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:P,on:[{events:dc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==ta&&jj(b,g,ta,"width",l);void 0!==Na&&jj(b,g,Na,"height",l);return l}},wm,vm,{has:b=>void 0!==
b.clear&&!1!==b.clear,parse:(b,g,l)=>{l.clear&&(g.clear=Ha(l.clear)?Hi(l.clear,"scope"):l.clear)},topLevelSignals:(b,g,l)=>{if(wm.has(g))for(const A of g.project.items)b=l.findIndex(I=>I.name===T("".concat(g.name,"_").concat(A.field))),-1!==b&&l[b].on.push({events:g.clear,update:"null"});return l},signals:(b,g,l)=>{function A(I,P){-1!==I&&l[I].on&&l[I].on.push({events:g.clear,update:P})}if("interval"===g.type)for(const I of g.project.items)b=l.findIndex(P=>P.name===I.signals.visual),A(b,"[0, 0]"),
-1===b&&(b=l.findIndex(P=>P.name===I.signals.data),A(b,"null"));else b=l.findIndex(I=>I.name===g.name+"_tuple"),A(b,"null"),xm.has(g)&&(b=l.findIndex(I=>I.name===g.name+"_toggle"),A(b,"false"));return l}}],Sm={single:{signals:pg,modifyExpr:(b,g)=>g.name+"_tuple, "+("global"===g.resolve?"true":"{unit: ".concat(jg(b),"}"))},multi:{signals:pg,modifyExpr:(b,g)=>g.name+"_tuple, "+("global"===g.resolve?"null":"{unit: ".concat(jg(b),"}"))},interval:{signals:(b,g)=>{const l=g.name;var A=l+"_tuple_fields",
I=Pj.has(g);const P=[],ta=[],Na=[];if(g.translate&&!I){const wb="!event.item || event.item.mark.name !\x3d\x3d ".concat(Ia(l+"_brush"));ri(g,(Fb,dc)=>{var Oc;dc=qb(null!==(Oc=dc.between[0].filter)&&void 0!==Oc?Oc:dc.between[0].filter=[]);0>dc.indexOf(wb)&&dc.push(wb);return Fb})}g.project.items.forEach((wb,Fb)=>{const dc=wb.channel;if("x"!==dc&&"y"!==dc)Gb("Interval selections only support x and y encoding channels.");else{Fb=Oi(b,g,wb,g.init?g.init[Fb]:null);var Oc=wb.signals.data;wb=wb.signals.visual;
var Wc=Ia(b.scaleName(dc)),cd=b.getScaleComponent(dc).get("type")in Zc?"+":"";P.push(...Fb);ta.push(Oc);Na.push({scaleName:b.scaleName(dc),expr:"(!isArray(".concat(Oc,") || ")+"(".concat(cd,"invert(").concat(Wc,", ").concat(wb,")[0] \x3d\x3d\x3d ").concat(cd).concat(Oc,"[0] \x26\x26 ")+"".concat(cd,"invert(").concat(Wc,", ").concat(wb,")[1] \x3d\x3d\x3d ").concat(cd).concat(Oc,"[1]))")})}});I||P.push({name:l+"_scale_trigger",value:{},on:[{events:Na.map(wb=>({scale:wb.scaleName})),update:Na.map(wb=>
wb.expr).join(" \x26\x26 ")+" ? ".concat(l+"_scale_trigger"," : {}")}]});I=g.init;A="unit: ".concat(jg(b),", fields: ").concat(A,", values");return P.concat(Object.assign({},{name:l+"_tuple"},I?{init:"{".concat(A,": ").concat(ci(I),"}")}:{},{on:[{events:[{signal:ta.join(" || ")}],update:ta.join(" \x26\x26 ")+" ? {".concat(A,": [").concat(ta,"]} : null")}]}))},modifyExpr:(b,g)=>g.name+"_tuple, "+("global"===g.resolve?"true":"{unit: ".concat(jg(b),"}")),marks:(b,g,l)=>{const A=g.name,{x:I,y:P}=g.project.hasChannel,
ta=I&&I.signals.visual,Na=P&&P.signals.visual;var wb="data(".concat(Ia(g.name+"_store"),")");if(Pj.has(g))return l;const Fb={x:void 0!==I?{signal:"".concat(ta,"[0]")}:{value:0},y:void 0!==P?{signal:"".concat(Na,"[0]")}:{value:0},x2:void 0!==I?{signal:"".concat(ta,"[1]")}:{field:{group:"width"}},y2:void 0!==P?{signal:"".concat(Na,"[1]")}:{field:{group:"height"}}};if("global"===g.resolve)for(var dc of td(Fb))Fb[dc]=[Object.assign({},{test:"".concat(wb,".length \x26\x26 ").concat(wb,"[0].unit \x3d\x3d\x3d ").concat(jg(b))},
Fb[dc]),{value:0}];dc=g.mark;wb=Object.assign({},dc);b=dc.fill;g=dc.fillOpacity;dc=dc.cursor;const Oc=(delete wb.fill,delete wb.fillOpacity,delete wb.cursor,wb);wb=td(Oc).reduce((Wc,cd)=>{Wc[cd]=[{test:[void 0!==I&&"".concat(ta,"[0] !\x3d\x3d ").concat(ta,"[1]"),void 0!==P&&"".concat(Na,"[0] !\x3d\x3d ").concat(Na,"[1]")].filter(wd=>wd).join(" \x26\x26 "),value:Oc[cd]},{value:null}];return Wc},{});return[{name:A+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:b},fillOpacity:{value:g}},
update:Fb}},...l,{name:A+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},dc?{cursor:{value:dc}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Fb,wb)}}]}}};$g.prototype.visit=function(b){let g,l,A;if(b(this))return 1;g=kj(this);l=0;for(A=g.length;l<A;++l)if(g[l].visit(b))return 1};var xe,kd,jh,Vf,Tm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Um=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Vm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Wm={"if":1};class Yk extends ig{clone(){return new Yk(null,
this.model,Ve(this.filter))}constructor(b,g,l){super(b);this.model=g;this.filter=l;kc(this,"expr",void 0);kc(this,"_dependentFields",void 0);this.expr=Ah(this.model,this.filter,this);this._dependentFields=Ri(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const qm={scale:b=>{var {model:g,channel:l}=b;return g.scaleName(l)},format:b=>{var {fieldOrDatumDef:g,config:l,axis:A}=
b;const {format:I,formatType:P}=A;return pe(g,g.type,I,P,l,!0)},formatType:b=>{var {axis:g,fieldOrDatumDef:l,scaleType:A}=b;({formatType:b}=g);return Ke(b,l,A)},grid:b=>{var {fieldOrDatumDef:g,axis:l,scaleType:A}=b;if(uc(g)&&Sc(g.bin))return!1;var I;return null!==(I=l.grid)&&void 0!==I?I:!(A in Qd)&&uc(g)&&!Dc(null===g||void 0===g?void 0:g.bin)},gridScale:b=>{var {model:g,channel:l}=b;b="x"===l?"y":"x";b=g.getScaleComponent(b)?g.scaleName(b):void 0;return b},labelAlign:b=>{var {axis:g,labelAngle:l,
orient:A,channel:I}=b;return g.labelAlign||Rh(l,A,I)},labelAngle:b=>{({labelAngle:b}=b);return b},labelBaseline:b=>{var {axis:g,labelAngle:l,orient:A,channel:I}=b;return g.labelBaseline||yi(l,A,I)},labelFlush:b=>{var {axis:g,fieldOrDatumDef:l,channel:A}=b,I;b=null!==(I=g.labelFlush)&&void 0!==I?I:"x"===A&&Ma(["quantitative","temporal"],l.type)?!0:void 0;return b},labelOverlap:b=>{var {axis:g,fieldOrDatumDef:l,scaleType:A}=b,I;if(null!==(I=g.labelOverlap)&&void 0!==I)b=I;else{b=l.type;I=uc(l)&&!!l.timeUnit;
var P=uc(l)?l.sort:void 0;b=I&&!ub(P)||"nominal"!==b&&"ordinal"!==b?"log"===A||"symlog"===A?"greedy":!0:void 0}return b},orient:b=>{({orient:b}=b);return b},tickCount:b=>{var {channel:g,model:l,axis:A,fieldOrDatumDef:I,scaleType:P}=b,ta;b=(b="x"===g?"width":"y"===g?"height":void 0)?l.getSizeSignalRef(b):void 0;if(null===(ta=A.tickCount)||void 0===ta)a:{var {fieldOrDatumDef:Na,scaleType:wb,size:Fb,values:dc}={fieldOrDatumDef:I,scaleType:P,size:b,values:A.values};if(dc||wb in Qd||"log"===wb)ta=void 0;
else{if(uc(Na)){var Oc;if(Dc(Na.bin)){ta={signal:"ceil(".concat(Fb.signal,"/10)")};break a}if(Na.timeUnit&&Ma(["month","hours","day","quarter"],null===(Oc=Hb(Na.timeUnit))||void 0===Oc?void 0:Oc.unit)){ta=void 0;break a}}ta={signal:"ceil(".concat(Fb.signal,"/40)")}}}return ta},title:b=>{var {axis:g,model:l,channel:A}=b;if(void 0!==g.title)return g.title;b=zi(l,A);if(void 0!==b)return b;b=l.typedFieldDef(A);const I=l.fieldDef("x"===A?"x2":"y2");return gg(b?[Ka(b)]:[],uc(I)?[Ka(I)]:[])},values:b=>{var {axis:g,
fieldOrDatumDef:l}=b;b=g.values;b=te(b)?Kc(l,b):Cc(b)?b:void 0;return b},zindex:b=>{var {axis:g,fieldOrDatumDef:l,mark:A}=b,I;b=null!==(I=g.zindex)&&void 0!==I?I:"rect"===A&&Ue(l)?1:0;return b}};class $k extends ig{clone(){return new $k(null,Ve(this.transform))}constructor(b,g){super(b);this.transform=g;kc(this,"_dependentFields",void 0);this._dependentFields=Ri(this.transform.calculate)}static parseAllForSortIndex(b,g){g.forEachFieldDef((l,A)=>{if(Te(l)&&S(l.sort)){const {field:P,timeUnit:ta}=l;
var I=l.sort;I=I.map((Na,wb)=>"".concat(Qe({field:P,timeUnit:ta,equal:Na})," ? ").concat(wb," : ")).join("")+I.length;b=new $k(b,{calculate:I,as:ih(l,A,{forAs:!0})})}});return b}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(Ca(this.transform))}}const Ol=["row","column"],Fl=["header","footer"],Cn={column:{start:0,end:1},row:{start:1,
end:0}},Dn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,
rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,
fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),hm=td(Dn);class Zm extends Rj{}const jm={symbols:function(b,g){var {fieldOrDatumDef:l,model:A,channel:I,legendCmpt:P,legendType:ta}=g,Na,wb,Fb,dc;if("symbol"===ta){var {markDef:Oc,encoding:Wc,config:cd,mark:wd}=A,Cd=Oc.filled&&"trail"!==wd;g=Object.assign({},ze({},A,rn),Fk(A,{filled:Cd}));var ne=null!==(Na=P.get("symbolOpacity"))&&void 0!==Na?Na:cd.legend.symbolOpacity;Na=null!==(wb=P.get("symbolFillColor"))&&void 0!==wb?wb:cd.legend.symbolFillColor;
wb=null!==(Fb=P.get("symbolStrokeColor"))&&void 0!==Fb?Fb:cd.legend.symbolStrokeColor;Fb=void 0===ne?null!==(dc=ok(Wc.opacity))&&void 0!==dc?dc:Oc.opacity:void 0;if(g.fill)if("fill"===I||Cd&&"color"===I)delete g.fill;else if(g.fill.field)if(Na)delete g.fill;else{var of;g.fill=Pd(null!==(of=cd.legend.symbolBaseFillColor)&&void 0!==of?of:"black");g.fillOpacity=Pd(null!==Fb&&void 0!==Fb?Fb:1)}else if(te(g.fill)){var fe,mf,Kd;if(dc=null!==(fe=null!==(mf=Lh(null!==(Kd=Wc.fill)&&void 0!==Kd?Kd:Wc.color))&&
void 0!==mf?mf:Oc.fill)&&void 0!==fe?fe:Cd&&Oc.color)g.fill=Pd(dc)}g.stroke&&("stroke"===I||!Cd&&"color"===I?delete g.stroke:g.stroke.field||wb?delete g.stroke:te(g.stroke)&&(fe=ma(Lh(Wc.stroke||Wc.color),Oc.stroke,Cd?Oc.color:void 0))&&(g.stroke={value:fe}));"opacity"!==I&&((fe=uc(l)&&Ci(A,P,l))?g.opacity=[Object.assign({},{test:fe},Pd(null!==Fb&&void 0!==Fb?Fb:1)),Pd(cd.legend.unselectedOpacity)]:Fb&&(g.opacity=Pd(Fb)));g=Object.assign({},g,b);return Q(g)?void 0:g}},gradient:function(b,g){var {model:l,
legendType:A,legendCmpt:I}=g,P;if("gradient"===A){var {config:ta,markDef:Na,encoding:wb}=l;g={};var Fb=void 0===(null!==(P=I.get("gradientOpacity"))&&void 0!==P?P:ta.legend.gradientOpacity)?ok(wb.opacity)||Na.opacity:void 0;Fb&&(g.opacity=Pd(Fb));g=Object.assign({},g,b);return Q(g)?void 0:g}},labels:function(b,g){var {fieldOrDatumDef:l,model:A,channel:I,legendCmpt:P}=g;g=A.legend(I)||{};const ta=A.config;var Na=uc(l)?Ci(A,P,l):void 0;Na=Na?[{test:Na,value:1},{value:ta.legend.unselectedOpacity}]:void 0;
const {format:wb,formatType:Fb}=g;g=Ac(Fb)?Je({fieldOrDatumDef:l,field:"datum.value",format:wb,formatType:Fb,config:ta}):void 0;b=Object.assign({},Na?{opacity:Na}:{},g?{text:g}:{},b);return Q(b)?void 0:b},entries:function(b,g){({legendCmpt:g}=g);g=g.get("selections");return(null===g||void 0===g?0:g.length)?Object.assign({},b,{fill:{value:"transparent"}}):b}},im={direction:b=>{({direction:b}=b);return b},format:b=>{var {fieldOrDatumDef:g,legend:l,config:A}=b;const {format:I,formatType:P}=l;return pe(g,
g.type,I,P,A,!1)},formatType:b=>{var {legend:g,fieldOrDatumDef:l,scaleType:A}=b;({formatType:b}=g);return Ke(b,l,A)},gradientLength:b=>{var g,l;const {legend:A,legendConfig:I}=b;if(null!==(g=null!==(l=A.gradientLength)&&void 0!==l?l:I.gradientLength)&&void 0!==g)b=g;else{{var {legendConfig:P,model:ta,direction:Na,orient:wb,scaleType:Fb}=b;const {gradientHorizontalMaxLength:dc,gradientHorizontalMinLength:Oc,gradientVerticalMaxLength:Wc,gradientVerticalMinLength:cd}=P;b=Fb in yb?"horizontal"===Na?"top"===
wb||"bottom"===wb?Mh(ta,"width",Oc,dc):Oc:Mh(ta,"height",cd,Wc):void 0}}return b},labelOverlap:b=>{var {legend:g,legendConfig:l,scaleType:A}=b,I,P;b=null!==(I=null!==(P=g.labelOverlap)&&void 0!==P?P:l.labelOverlap)&&void 0!==I?I:Ma(["quantile","threshold","log","symlog"],A)?"greedy":void 0;return b},symbolType:b=>{var {legend:g,markDef:l,channel:A,encoding:I}=b,P;if(null!==(P=g.symbolType)&&void 0!==P)var ta=P;else a:{b=l.type;P=l.shape;if("shape"!==A&&(P=null!==(ta=Lh(I.shape))&&void 0!==ta?ta:P)){ta=
P;break a}switch(b){case "bar":case "rect":case "image":case "square":ta="square";break a;case "line":case "trail":case "rule":ta="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":ta="circle";break a}ta=void 0}return ta},title:b=>{var {fieldOrDatumDef:g,config:l}=b;return Ze(g,l,{allowDisabling:!0})},type:b=>{var {legendType:g,scaleType:l,channel:A}=b;if(la(A)&&l in yb){if("gradient"===g)return}else if("symbol"===g)return;return g},values:b=>
{var {fieldOrDatumDef:g,legend:l}=b;b=l.values;b=te(b)?Kc(g,b):Cc(b)?b:void 0;return b}},$m="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class km extends Rj{constructor(b,g,l,A){super(Object.assign({},g),{name:b});this.specifiedProjection=g;this.size=l;this.data=A;kc(this,"merged",!1)}get isFit(){return!!this.data}}class yj extends ig{clone(){return new yj(null,Ve(this.bins))}constructor(b,g){super(b);
this.bins=g}static makeFromEncoding(b,g){const l=g.reduceFieldDef((A,I,P)=>{if(zd(I)&&Dc(I.bin)){const {key:ta,binComponent:Na}=Eg(I,I.bin,g);A[ta]=Object.assign({},Na,A[ta],Xj(g,I,P,g.config))}return A},{});return Q(l)?null:new yj(b,l)}static makeFromTransform(b,g,l){const {key:A,binComponent:I}=Eg(g,g.bin,l);return new yj(b,{[A]:I})}merge(b,g){for(const l of td(b.bins))l in this.bins?(g(b.bins[l].signal,this.bins[l].signal),this.bins[l].as=Xa([...this.bins[l].as,...b.bins[l].as],Ca)):this.bins[l]=
b.bins[l];for(const l of b.children)b.removeChild(l),l.parent=this;b.remove()}producedFields(){return new Set(Fi(this.bins).map(b=>b.as).flat(2))}dependentFields(){return new Set(Fi(this.bins).map(b=>b.field))}hash(){return"Bin ".concat(Ca(this.bins))}assemble(){return Fi(this.bins).flatMap(b=>{const g=[],[l,...A]=b.as;var I=b.bin,P=Object.assign({},I);I=I.extent;P=(delete P.extent,P);P=Object.assign({},{type:"bin",field:db(b.field),as:l,signal:b.signal},Ra(I)?{extent:null}:{extent:I},b.span?{span:{signal:"span(".concat(b.span,
")")}}:{},P);!I&&b.extentSignal&&(g.push({type:"extent",field:db(b.field),signal:b.extentSignal}),P.extent={signal:b.extentSignal});g.push(P);for(const ta of A)for(I=0;2>I;I++)g.push({type:"formula",expr:pd({field:l[I]},{expr:"datum"}),as:ta[I]});b.formula&&g.push({type:"formula",expr:b.formula,as:b.formulaAs});return g})}}class fj extends ig{clone(){return new fj(null,new Set(this.dimensions),Ve(this.measures))}constructor(b,g,l){super(b);this.dimensions=g;this.measures=l}get groupBy(){return this.dimensions}static makeFromEncoding(b,
g){let l=!1;g.forEachFieldDef(P=>{P.aggregate&&(l=!0)});const A={},I=new Set;if(!l)return null;g.forEachFieldDef((P,ta)=>{const {aggregate:Na,field:wb}=P;if(Na)if("count"===Na){var Fb;A["*"]=null!==(Fb=A["*"])&&void 0!==Fb?Fb:{};A["*"].count=new Set([pd(P,{forAs:!0})])}else{if(D(Na)||G(Na)){var dc;P=D(Na)?"argmin":"argmax";Fb=Na[P];A[Fb]=null!==(dc=A[Fb])&&void 0!==dc?dc:{};A[Fb][P]=new Set([pd({op:P,field:Fb},{forAs:!0})])}else{var Oc;A[wb]=null!==(Oc=A[wb])&&void 0!==Oc?Oc:{};A[wb][Na]=new Set([pd(P,
{forAs:!0})])}if(Yh[ta]&&"unaggregated"===g.scaleDomain(ta)){var Wc;A[wb]=null!==(Wc=A[wb])&&void 0!==Wc?Wc:{};A[wb].min=new Set([pd({field:wb,aggregate:"min"},{forAs:!0})]);A[wb].max=new Set([pd({field:wb,aggregate:"max"},{forAs:!0})])}}else dc=eg(g)?g.encoding[sa(ta)]:void 0,zd(P)&&eg(g)&&Vb(ta,P,dc,g.stack,g.markDef,g.config)?(I.add(pd(P,{})),I.add(pd(P,{suffix:"end"})),P.bin&&ad(P,ta)&&I.add(pd(P,{binSuffix:"range"}))):ta in Fh?(ta=wa(ta),I.add(g.getName(ta))):I.add(pd(P))});return 0===I.size+
td(A).length?null:new fj(b,I,A)}static makeFromTransform(b,g){const l=new Set,A={};for(const Na of g.aggregate){const {op:wb,field:Fb,as:dc}=Na;if(wb)if("count"===wb){var I;A["*"]=null!==(I=A["*"])&&void 0!==I?I:{};A["*"].count=new Set([dc?dc:pd(Na,{forAs:!0})])}else{var P;A[Fb]=null!==(P=A[Fb])&&void 0!==P?P:{};A[Fb][wb]=new Set([dc?dc:pd(Na,{forAs:!0})])}}for(const Na of null!==(ta=g.groupby)&&void 0!==ta?ta:[]){var ta;l.add(Na)}return 0===l.size+td(A).length?null:new fj(b,l,A)}merge(b){if(hb(this.dimensions,
b.dimensions)){var g=this.measures;b=b.measures;for(const A of td(b)){const I=b[A];for(const P of td(I))if(A in g){var l;g[A][P]=new Set([...null!==(l=g[A][P])&&void 0!==l?l:[],...I[P]])}else g[A]={[P]:I[P]}}return!0}Zi.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(b){b.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...td(this.measures)])}producedFields(){const b=new Set;for(const g of td(this.measures))for(const l of td(this.measures[g])){const A=
this.measures[g][l];0===A.size?b.add("".concat(l,"_").concat(g)):A.forEach(b.add,b)}return b}hash(){return"Aggregate ".concat(Ca({dimensions:this.dimensions,measures:this.measures}))}assemble(){const b=[],g=[],l=[];for(const A of td(this.measures))for(const I of td(this.measures[A]))for(const P of this.measures[A][I])l.push(P),b.push(I),g.push("*"===A?null:db(A));return{type:"aggregate",groupby:[...this.dimensions].map(db),ops:b,fields:g,as:l}}}class Ik extends ig{constructor(b,g,l,A){super(b);this.model=
g;this.name=l;this.data=A;kc(this,"column",void 0);kc(this,"row",void 0);kc(this,"facet",void 0);kc(this,"childModel",void 0);for(const I of Yg)if(b=g.facet[I]){const {bin:P,sort:ta}=b;this[I]=Object.assign({},{name:g.getName("".concat(I,"_domain")),fields:[pd(b),...Dc(P)?[pd(b,{binSuffix:"end"})]:[]]},K(ta)?{sortField:ta}:te(ta)?{sortIndexField:ih(b,I)}:{})}this.childModel=g.child}hash(){let b="Facet";for(const g of Yg)this[g]&&(b+=" ".concat(g.charAt(0),":").concat(Ca(this[g])));return b}get fields(){const b=
[];for(const l of Yg){var g;(null===(g=this[l])||void 0===g?0:g.fields)&&b.push(...this[l].fields)}return b}dependentFields(){const b=new Set(this.fields);for(const g of Yg)this[g]&&(this[g].sortField&&b.add(this[g].sortField.field),this[g].sortIndexField&&b.add(this[g].sortIndexField));return b}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const b={};for(const A of Tg){var g=this.childModel.component.scales[A];if(g&&!g.merged){var l=g.get("type");
g=g.get("range");l in Qd&&xc(g)&&(l=Af(this.childModel,A),(l=Nf(l))?b[A]=l:Gb(Nc(A)))}}return b}assembleRowColumnHeaderData(b,g,l){const A={row:"y",column:"x"}[b],I=[],P=[],ta=[];l&&l[A]&&(g?(I.push("distinct_".concat(l[A])),P.push("max")):(I.push(l[A]),P.push("distinct")),ta.push("distinct_".concat(l[A])));const {sortField:Na,sortIndexField:wb}=this[b];if(Na){const {op:Fb="min",field:dc}=Na;I.push(dc);P.push(Fb);ta.push(pd(Na,{forAs:!0}))}else wb&&(I.push(wb),P.push("max"),ta.push(wb));return{name:this[b].name,
source:null!==g&&void 0!==g?g:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[b].fields},I.length?{fields:I,ops:P,as:ta}:{})]}}assembleFacetHeaderData(b){const {columns:g}=this.model.layout,{layoutHeaders:l}=this.model.component,A=[],I={};for(const dc of Ol){for(const Oc of Fl){var P,ta=null!==(P=l[dc]&&l[dc][Oc])&&void 0!==P?P:[];for(const Wc of ta){var Na;if(0<(null===(Na=Wc.axes)||void 0===Na?void 0:Na.length)){I[dc]=!0;break}}}I[dc]&&(ta='length(data("'.concat(this.facet.name,
'"))'),ta="row"===dc?g?{signal:"ceil(".concat(ta," / ").concat(g,")")}:1:g?{signal:"min(".concat(ta,", ").concat(g,")")}:{signal:ta},A.push({name:"".concat(this.facet.name,"_").concat(dc),transform:[{type:"sequence",start:0,stop:ta}]}))}const {row:wb,column:Fb}=I;(wb||Fb)&&A.unshift(this.assembleRowColumnHeaderData("facet",null,b));return A}assemble(){const b=[];var g=null;const l=this.getChildIndependentFieldsWithStep(),{column:A,row:I,facet:P}=this;if(A&&I&&(l.x||l.y)){var ta,Na;g="cross_".concat(this.column.name,
"_").concat(this.row.name);const wb=[].concat(null!==(ta=l.x)&&void 0!==ta?ta:[],null!==(Na=l.y)&&void 0!==Na?Na:[]);ta=wb.map(()=>"distinct");b.push({name:g,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:wb,ops:ta}]})}for(const wb of["column","row"])this[wb]&&b.push(this.assembleRowColumnHeaderData(wb,g,l));P&&(g=this.assembleFacetHeaderData(l))&&b.push(...g);return b}}class uh extends ig{clone(){return new uh(null,Ve(this._parse))}constructor(b,g){super(b);kc(this,"_parse",
void 0);this._parse=g}hash(){return"Parse ".concat(Ca(this._parse))}static makeExplicit(b,g,l){let A={};g=g.data;!Zg(g)&&g&&g.format&&g.format.parse&&(A=g.format.parse);return this.makeWithAncestors(b,A,{},l)}static makeWithAncestors(b,g,l,A){for(var I of td(l)){const ta=A.getWithExplicit(I);void 0!==ta.value&&(ta.explicit||ta.value===l[I]||"derived"===ta.value||"flatten"===l[I]?delete l[I]:Gb(ge(I,l[I],ta.value)))}for(var P of td(g))I=A.get(P),void 0!==I&&(I===g[P]?delete g[P]:Gb(ge(P,g[P],I)));
g=new Rj(g,l);A.copyAll(g);l={};for(const ta of td(g.combine()))P=g.get(ta),null!==P&&(l[ta]=P);return 0===td(l).length||A.parseNothing?null:new uh(b,l)}get parse(){return this._parse}merge(b){this._parse=Object.assign({},this._parse,b.parse);b.remove()}assembleFormatParse(){const b={};for(const g of td(this._parse)){const l=this._parse[g];1===xa(g)&&(b[g]=l)}return b}producedFields(){return new Set(td(this._parse))}dependentFields(){return new Set(td(this._parse))}assembleTransforms(b){b=void 0===
b?!1:b;return td(this._parse).filter(g=>b?1<xa(g):!0).map(g=>{const l=cg(g,this._parse[g]);return l?{type:"formula",expr:l,as:va(g)}:null}).filter(g=>null!==g)}}class rk extends ig{clone(){return new rk(null)}constructor(b){super(b)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class ql extends ig{clone(){return new ql(null,this.params)}constructor(b,g){super(b);this.params=g}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(Ca(this.params))}assemble(){return Object.assign({},
{type:"graticule"},!0===this.params?{}:this.params)}}class rl extends ig{clone(){return new rl(null,this.params)}constructor(b,g){super(b);this.params=g}dependentFields(){return new Set}producedFields(){var b;return new Set([null!==(b=this.params.as)&&void 0!==b?b:"data"])}hash(){return"Hash ".concat(Ca(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class qk extends ig{constructor(b){var g;super(null);kc(this,"_data",void 0);kc(this,"_name",void 0);kc(this,"_generator",
void 0);b=null!==(g=b)&&void 0!==g?g:{name:"source"};let l;Zg(b)||(l=b.format?Object.assign({},jb(b.format,["parse"])):{});if("values"in b)this._data={values:b.values};else if("url"in b)this._data={url:b.url},l.type||(g=/(?:\.([^.]+))?$/.exec(b.url)[1],Ma(["json","csv","tsv","dsv","topojson"],g)||(g="json"),l.type=g);else if("sphere"in b)this._data={values:[{type:"Sphere"}]};else if(Hh(b)||Zg(b))this._data={};this._generator=Zg(b);b.name&&(this._name=b.name);l&&!Q(l)&&(this._data.format=l)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(b){this._name=
b}set parent(b){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var xl=new WeakMap;class Pl{constructor(){xl.set(this,{writable:!0,value:void 0});wc(this,xl,!1)}setModified(){wc(this,xl,!0)}get modifiedFlag(){var b=xl.get(this);if(!b)throw new TypeError("attempted to get private field on non-instance");b=b.get?
b.get.call(this):b.value;return b}}class sk extends Pl{getNodeDepths(b,g,l){l.set(b,g);for(const A of b.children)this.getNodeDepths(A,g+1,l);return l}optimize(b){b=[...this.getNodeDepths(b,0,new Map).entries()].sort((g,l)=>l[1]-g[1]);for(const g of b)this.run(g[0]);return this.modifiedFlag}}class Ql extends Pl{optimize(b){this.run(b);for(const g of b.children)this.optimize(g);return this.modifiedFlag}}class kn extends Ql{mergeNodes(b,g){const l=g.shift();for(const A of g)b.removeChild(A),A.parent=
l,A.remove()}run(b){const g=b.children.map(A=>A.hash()),l={};for(let A=0;A<g.length;A++)void 0===l[g[A]]?l[g[A]]=[b.children[A]]:l[g[A]].push(b.children[A]);for(const A of td(l))1<l[A].length&&(this.setModified(),this.mergeNodes(b,l[A]))}}class bn extends Ql{constructor(b){super();kc(this,"requiresSelectionId",void 0);this.requiresSelectionId=b&&Pi(b)}run(b){!(b instanceof rk)||this.requiresSelectionId&&(a(b.parent)||b.parent instanceof fj||b.parent instanceof uh)||(this.setModified(),b.remove())}}
class fn extends Pl{optimize(b){this.run(b,new Set);return this.modifiedFlag}run(b,g){let l=new Set;b instanceof zj&&(l=b.producedFields(),cb(l,g)&&(this.setModified(),b.removeFormulas(g),0===b.producedFields.length&&b.remove()));for(const A of b.children)this.run(A,new Set([...g,...l]))}}class an extends Ql{constructor(){super()}run(b){b instanceof th&&!b.isRequired()&&(this.setModified(),b.remove())}}class dn extends sk{run(b){if(!(a(b)||1<b.numChildren()))for(const g of b.children)g instanceof
uh&&(b instanceof uh?(this.setModified(),b.merge(g)):$a(b.producedFields(),g.dependentFields())||(this.setModified(),g.swapWithParent()))}}class gn extends sk{run(b){const g=[...b.children];var l=b.children.filter(I=>I instanceof uh);if(1<b.numChildren()&&1<=l.length){const I={};var A=new Set;for(const P of l){l=P.parse;for(const ta of td(l))ta in I?I[ta]!==l[ta]&&A.add(ta):I[ta]=l[ta]}for(const P of A)delete I[P];if(!Q(I)){this.setModified();A=new uh(b,I);for(const P of g){if(P instanceof uh)for(const ta of td(I))delete P.parse[ta];
b.removeChild(P);P.parent=A;P instanceof uh&&0===td(P.parse).length&&P.remove()}}}}}class cn extends sk{run(b){b instanceof th||0<b.numChildren()||b instanceof Ik||b instanceof qk||(this.setModified(),b.remove())}}class jn extends sk{run(b){b=b.children.filter(l=>l instanceof zj);const g=b.pop();for(const l of b)this.setModified(),g.merge(l)}}class hn extends sk{run(b){var g=b.children.filter(I=>I instanceof fj);const l={};for(var A of g)g=Ca(A.groupBy),g in l||(l[g]=[]),l[g].push(A);for(const I of td(l))if(A=
l[I],1<A.length){g=A.pop();for(const P of A)g.merge(P)&&(b.removeChild(P),P.parent=g,P.remove(),this.setModified())}}}class en extends sk{constructor(b){super();this.model=b}run(b){var g=!(a(b)||b instanceof Yk||b instanceof uh||b instanceof rk);const l=[],A=[];for(const I of b.children)I instanceof yj&&(g&&!$a(b.producedFields(),I.dependentFields())?l.push(I):A.push(I));if(0<l.length){g=l.pop();for(const I of l)g.merge(I,this.model.renameSignal.bind(this.model));this.setModified();b instanceof yj?
b.merge(g,this.model.renameSignal.bind(this.model)):g.swapWithParent()}if(1<A.length){b=A.pop();for(const I of A)b.merge(I,this.model.renameSignal.bind(this.model));this.setModified()}}}class ln extends sk{run(b){var g=[...b.children];if(ja(g,I=>I instanceof th)&&!(1>=b.numChildren())){var l=[];for(const I of g)if(I instanceof th){for(g=I;1===g.numChildren();){const [P]=g.children;if(P instanceof th)g=P;else break}l.push(...g.children);if(A)b.removeChild(I),I.parent=A.parent,A.parent.removeChild(A),
A.parent=g,this.setModified();else var A=g}else l.push(I);if(l.length){this.setModified();for(const I of l)I.parent.removeChild(I),I.parent=A}}}}class Jk extends ig{clone(){return new Jk(null,Ve(this.transform))}constructor(b,g){super(b);this.transform=g}addDimensions(b){this.transform.groupby=Xa(this.transform.groupby.concat(b),g=>g)}dependentFields(){const b=new Set;this.transform.groupby&&this.transform.groupby.forEach(b.add,b);this.transform.joinaggregate.map(g=>g.field).filter(g=>void 0!==g).forEach(b.add,
b);return b}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(b){var g;return null!==(g=b.as)&&void 0!==g?g:pd(b)}hash(){return"JoinAggregateTransform ".concat(Ca(this.transform))}assemble(){const b=[],g=[],l=[];for(var A of this.transform.joinaggregate)g.push(A.op),l.push(this.getDefaultName(A)),b.push(void 0===A.field?null:A.field);A=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:l,ops:g,fields:b},void 0!==A?{groupby:A}:
{})}}class Qj extends ig{clone(){return new Qj(null,Ve(this._stack))}constructor(b,g){super(b);kc(this,"_stack",void 0);this._stack=g}static makeFromTransform(b,g){const {stack:l,groupby:A,as:I,offset:P="zero"}=g;var ta=[];const Na=[];if(void 0!==g.sort)for(const wb of g.sort)ta.push(wb.field),Na.push(ma(wb.order,"ascending"));ta={field:ta,order:Na};g=t(I)?I:Ha(I)?[I,I+"_end"]:[g.stack+"_start",g.stack+"_end"];return new Qj(b,{stackField:l,groupby:A,offset:P,sort:ta,facetby:[],as:g})}static makeFromEncoding(b,
g){var l=g.stack,{encoding:A}=g;if(!l)return null;const {groupbyChannel:I,fieldChannel:P,offset:ta,impute:Na}=l;let wb;I&&(wb=df(A[I]));l=f(g);A=g.encoding.order;A=te(A)||uc(A)?ef(A):l.reduce((Fb,dc)=>{Fb.field.push(dc);Fb.order.push("y"===P?"descending":"ascending");return Fb},{field:[],order:[]});return new Qj(b,{dimensionFieldDef:wb,stackField:g.vgField(P),facetby:[],stackby:l,sort:A,offset:ta,impute:Na,as:[g.vgField(P,{suffix:"start",forAs:!0}),g.vgField(P,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(b){this._stack.facetby.push(...b)}dependentFields(){const b=
new Set;b.add(this._stack.stackField);this.getGroupbyFields().forEach(b.add,b);this._stack.facetby.forEach(b.add,b);this._stack.sort.field.forEach(b.add,b);return b}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(Ca(this._stack))}getGroupbyFields(){const {dimensionFieldDef:b,impute:g,groupby:l}=this._stack;return b?b.bin?g?[pd(b,{binSuffix:"mid"})]:[pd(b,{}),pd(b,{binSuffix:"end"})]:[pd(b)]:null!==l&&void 0!==l?l:[]}assemble(){const b=[],{facetby:g,dimensionFieldDef:l,
stackField:A,stackby:I,sort:P,offset:ta,impute:Na,as:wb}=this._stack;if(Na&&l){const {band:Fb=.5,bin:dc}=l;dc&&b.push({type:"formula",expr:"".concat(Fb,"*")+pd(l,{expr:"datum"})+"+".concat(1-Fb,"*")+pd(l,{expr:"datum",binSuffix:"end"}),as:pd(l,{binSuffix:"mid",forAs:!0})});b.push({type:"impute",field:A,groupby:[...I,...g],key:pd(l,{binSuffix:"mid"}),method:"value",value:0})}b.push({type:"stack",groupby:[...this.getGroupbyFields(),...g],field:A,sort:P,as:wb,offset:ta});return b}}class Zk extends ig{clone(){return new Zk(null,
Ve(this.transform))}constructor(b,g){super(b);this.transform=g}addDimensions(b){this.transform.groupby=Xa(this.transform.groupby.concat(b),g=>g)}dependentFields(){var b,g;const l=new Set;(null!==(b=this.transform.groupby)&&void 0!==b?b:[]).forEach(l.add,l);(null!==(g=this.transform.sort)&&void 0!==g?g:[]).forEach(A=>l.add(A.field));this.transform.window.map(A=>A.field).filter(A=>void 0!==A).forEach(l.add,l);return l}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(b){var g;
return null!==(g=b.as)&&void 0!==g?g:pd(b)}hash(){return"WindowTransform ".concat(Ca(this.transform))}assemble(){const b=[],g=[],l=[],A=[];for(var I of this.transform.window)g.push(I.op),l.push(this.getDefaultName(I)),A.push(void 0===I.param?null:I.param),b.push(void 0===I.field?null:I.field);I=this.transform.frame;const P=this.transform.groupby;if(I&&null===I[0]&&null===I[1]&&g.every(Fb=>B(Fb)))return Object.assign({},{type:"joinaggregate",as:l,ops:g,fields:b},void 0!==P?{groupby:P}:{});const ta=
[],Na=[];if(void 0!==this.transform.sort)for(const Fb of this.transform.sort){var wb;ta.push(Fb.field);Na.push(null!==(wb=Fb.order)&&void 0!==wb?wb:"ascending")}wb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:A,as:l,ops:g,fields:b,sort:{field:ta,order:Na}},void 0!==wb?{ignorePeers:wb}:{},void 0!==P?{groupby:P}:{},void 0!==I?{frame:I}:{})}}class pi{constructor(b){kc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:b})}static fromName(b,g){return new pi(()=>
b(g))}}class mm extends Rj{constructor(b,g){super({},{name:b});kc(this,"merged",!1);this.setWithExplicit("type",g)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:ja(this.get("domains"),b=>te(b)&&2===b.length&&0>=b[0]&&0<=b[1])}}const mn=["range","scheme"],lm={bins:b=>{var {model:g,fieldOrDatumDef:l}=b;return uc(l)?el(g,l):void 0},interpolate:b=>{var {channel:g,fieldOrDatumDef:l}=b;b=l.type;b=Ma(["color","fill","stroke"],g)&&"nominal"!==b?"hcl":void 0;return b},nice:b=>{var {scaleType:g,
channel:l,fieldOrDatumDef:A}=b;var I;b=(null===(I=df(A))||void 0===I?0:I.bin)||Ma([h.TIME,h.UTC],g)?void 0:l in xg?!0:void 0;return b},padding:b=>{var {channel:g,scaleType:l,fieldOrDatumDef:A,markDef:I,config:P}=b;a:{b=P.scale;var ta=P.bar;if(g in xg){if(l in yb){if(void 0!==b.continuousPadding){b=b.continuousPadding;break a}const {type:Na,orient:wb}=I;if("bar"===Na&&(!uc(A)||!A.bin&&!A.timeUnit)&&("vertical"===wb&&"x"===g||"horizontal"===wb&&"y"===g)){b=ta.continuousBandSize;break a}}if(l===h.POINT){b=
b.pointPadding;break a}}b=void 0}return b},paddingInner:b=>{var {scalePadding:g,channel:l,markDef:A,config:I}=b;if(void 0!==g)b=void 0;else if(l in xg){const {bandPaddingInner:P,barBandPaddingInner:ta,rectBandPaddingInner:Na}=I.scale;b=ma(P,"bar"===A.type?ta:Na)}else b=void 0;return b},paddingOuter:b=>{var {scalePadding:g,channel:l,scaleType:A,scalePaddingInner:I,config:P}=b;void 0!==g?b=void 0:l in xg&&A===h.BAND?({bandPaddingOuter:b}=P.scale,b=ma(b,Cc(I)?{signal:"".concat(I.signal,"/2")}:I/2)):
b=void 0;return b},reverse:b=>{var {fieldOrDatumDef:g,scaleType:l,channel:A,config:I}=b;b=uc(g)?g.sort:void 0;var P=I.scale;b="x"===A&&void 0!==P.xReverse?l in Zc&&"descending"===b?Cc(P.xReverse)?{signal:"!".concat(P.xReverse.signal)}:!P.xReverse:P.xReverse:l in Zc&&"descending"===b?!0:void 0;return b},zero:b=>{var {channel:g,fieldOrDatumDef:l,domain:A,markDef:I,scaleType:P}=b;a:if(A&&"unaggregated"!==A&&P in Zc){if(te(A)&&(b=A[A.length-1],0>=A[0]&&0<=b)){b=!0;break a}b=!1}else if("size"!==g||"quantitative"!==
l.type||P in hc)if(uc(l)&&l.bin||!Ma([...Tg,...Rk],g))b=!1;else{const {orient:ta,type:Na}=I;b=Ma(["bar","area","line","trail"],Na)&&("horizontal"===ta&&"y"===g||"vertical"===ta&&"x"===g)?!1:!0}else b=!0;return b}},nn=Gh((b,g)=>ba[b]-ba[g]);class Rl{constructor(){kc(this,"nameMap",void 0);this.nameMap={}}rename(b,g){this.nameMap[b]=g}has(b){return void 0!==this.nameMap[b]}get(b){for(;this.nameMap[b]&&b!==this.nameMap[b];)b=this.nameMap[b];return b}}class Sl{constructor(b,g,l,A,I,P,ta){var Na,wb;this.type=
g;this.parent=l;this.config=I;kc(this,"name",void 0);kc(this,"size",void 0);kc(this,"title",void 0);kc(this,"description",void 0);kc(this,"data",void 0);kc(this,"transforms",void 0);kc(this,"layout",void 0);kc(this,"scaleNameMap",void 0);kc(this,"projectionNameMap",void 0);kc(this,"signalNameMap",void 0);kc(this,"component",void 0);kc(this,"view",void 0);kc(this,"children",[]);kc(this,"correctDataNames",Fb=>{Fb.from&&Fb.from.data&&(Fb.from.data=this.lookupDataSource(Fb.from.data));Fb.from&&Fb.from.facet&&
Fb.from.facet.data&&(Fb.from.facet.data=this.lookupDataSource(Fb.from.facet.data));return Fb});this.parent=l;this.config=I;this.view=cf(ta);this.name=null!==(Na=b.name)&&void 0!==Na?Na:A;this.title=Nd(b.title)?{text:b.title}:b.title?this.initTitle(b.title):void 0;this.scaleNameMap=l?l.scaleNameMap:new Rl;this.projectionNameMap=l?l.projectionNameMap:new Rl;this.signalNameMap=l?l.signalNameMap:new Rl;this.data=b.data;this.description=b.description;this.transforms=rh(null!==(wb=b.transform)&&void 0!==
wb?wb:[]);this.layout="layer"===g||"unit"===g?{}:Ub(b,g,I);this.component={data:{sources:l?l.component.data.sources:[],outputNodes:l?l.component.data.outputNodes:{},outputNodeRefCounts:l?l.component.data.outputNodeRefCounts:{},isFaceted:"facet"in b||l&&l.component.data.isFaceted&&void 0===b.data},layoutSize:new Rj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},P?Ve(P):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(b){const g=
td(b),l={text:Bd(b.text)};for(const A of g)l[A]=Bd(b[A]);return l}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:b}={};Hk(this);eg(this)?Ab(this):Xb(this);for(const g of Rf)Vi(this,g);b||cl(this)}parseProjection(){nh(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){dj(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var b,g;return null!==(b=null===(g=this.view)||void 0===g?void 0:g.style)&&void 0!==b?b:"cell"}}assembleEncodeFromView(b){b=Object.assign({},b);b=(delete b.style,b);const g={};for(const l of td(b)){const A=b[l];void 0!==A&&(g[l]=Pd(A))}return g}assembleGroupEncodeEntry(b){let g=
{};this.view&&(g=this.assembleEncodeFromView(this.view));if(!b&&(this.description&&(g.description=Pd(this.description)),"unit"===this.type||"layer"===this.type)){var l;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(l=g)&&void 0!==l?l:{})}return Q(g)?void 0:g}assembleLayout(){if(this.layout){var b=this.layout,g=Object.assign({},b);b=b.spacing;g=(delete g.spacing,g);var {component:l,config:A}=this;{var I=l.layoutHeaders;const Na={};for(ta of Yg){var P=
I[ta];if(null===P||void 0===P?0:P.facetFieldDef){const {titleAnchor:wb,titleOrient:Fb}=Si(["titleAnchor","titleOrient"],P.facetFieldDef.header,A,ta);P=Ch(ta,Fb);const dc=Cn[P][wb];void 0!==dc&&(Na[P]=dc)}}var ta=Q(Na)?void 0:Na}return Object.assign({},{padding:b},this.assembleDefaultLayout(),g,ta?{titleBand:ta}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:b}=this.component;let g=[];for(const l of Yg)b[l].title&&g.push(Vj(this,l));for(const l of Ol)g=g.concat(Og(this,
l));return g}assembleAxes(){return kh(this.component.axes,this.config)}assembleLegends(){return Wj(this)}assembleProjections(){var b=pj(this)||tk(this)?sh(this):oj(this);return b}assembleTitle(){var b,g=null!==(b=this.title)&&void 0!==b?b:{};b=Object.assign({},g);g=g.encoding;b=(delete b.encoding,b);g=Object.assign({},ud(this.config.title).nonMark,b,g?{encode:{update:g}}:{});if(g.text){if(Ma(["unit","layer"],this.type)){if(Ma(["middle",void 0],g.anchor)){var l;g.frame=null!==(l=g.frame)&&void 0!==
l?l:"group"}}else{var A;g.anchor=null!==(A=g.anchor)&&void 0!==A?A:"start"}return Q(g)?void 0:g}}assembleGroup(b){b=void 0===b?[]:b;const g={};b=b.concat(this.assembleSignals());0<b.length&&(g.signals=b);if(b=this.assembleLayout())g.layout=b;g.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());b=!this.parent||Eh(this.parent)?Tf(this):[];0<b.length&&(g.scales=b);b=this.assembleAxes();0<b.length&&(g.axes=b);b=this.assembleLegends();0<b.length&&(g.legends=b);return g}getName(b){return T((this.name?
this.name+"_":"")+b)}getDataName(b){return this.getName(og[b].toLowerCase())}requestDataName(b){b=this.getDataName(b);const g=this.component.data.outputNodeRefCounts;g[b]=(g[b]||0)+1;return b}getSizeSignalRef(b){if(Eh(this.parent)){var g=Sh(b),l=Kb(g);if((g=this.component.scales[l])&&!g.merged){var A=g.get("type");const I=g.get("range");if(A in Qd&&xc(I)){b=g.get("name");A=Af(this,l);if(A=Nf(A))return l=pd({aggregate:"distinct",field:A},{expr:"datum"}),{signal:Dh(b,g,l)};Gb(Nc(l));return null}}}return{signal:this.signalNameMap.get(this.getName(b))}}lookupDataSource(b){const g=
this.component.data.outputNodes[b];return g?g.getSource():b}getSignalName(b){return this.signalNameMap.get(b)}renameSignal(b,g){this.signalNameMap.rename(b,g)}renameScale(b,g){this.scaleNameMap.rename(b,g)}renameProjection(b,g){this.projectionNameMap.rename(b,g)}scaleName(b,g){if(g)return this.getName(b);if(sj[b]&&Yh[b]&&this.component.scales[b]||this.scaleNameMap.has(this.getName(b)))return this.scaleNameMap.get(this.getName(b))}projectionName(b){if(b)return this.getName("projection");if(this.component.projection&&
!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(b){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const g=this.component.scales[b];return g&&!g.merged?g:this.parent?this.parent.getScaleComponent(b):void 0}getSelectionComponent(b,g){let l=this.component.selection[b];
!l&&this.parent&&(l=this.parent.getSelectionComponent(b,g));if(!l)throw Error('Cannot find a selection named "'.concat(g,'".'));return l}hasAxisOrientSignalRef(){var b,g;return(null===(b=this.component.axes.x)||void 0===b?void 0:b.some(l=>l.hasOrientSignalRef()))||(null===(g=this.component.axes.y)||void 0===g?void 0:g.some(l=>l.hasOrientSignalRef()))}}class ym extends Sl{vgField(b,g){g=void 0===g?{}:g;if(b=this.fieldDef(b))return pd(b,g)}reduceFieldDef(b,g){return Yb(this.getMapping(),(l,A,I)=>(A=
df(A))?b(l,A,I):l,g)}forEachFieldDef(b,g){Eb(this.getMapping(),(l,A)=>{(l=df(l))&&b(l,A)},g)}}class Il extends ig{clone(){return new Il(null,Ve(this.transform))}constructor(b,g){var l,A,I;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(A=b[0])&&void 0!==A?A:"value",null!==(I=b[1])&&void 0!==I?I:"density"]}dependentFields(){var b;return new Set([this.transform.density,...null!==(b=this.transform.groupby)&&void 0!==
b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(Ca(this.transform))}assemble(){var b=this.transform,g=Object.assign({},b);b=b.density;g=(delete g.density,g);return Object.assign({},{type:"kde",field:b},g)}}class sl extends ig{clone(){return new sl(null,Object.assign({},this.filter))}constructor(b,g){super(b);this.filter=g}static make(b,g){const {config:l,mark:A,markDef:I}=g;if("filter"!==be("invalid",I,l))return null;const P=g.reduceFieldDef((ta,
Na,wb)=>{(wb=!!Yh[wb]&&g.getScaleComponent(wb))&&wb.get("type")in Zc&&"count"!==Na.aggregate&&!re(A)&&(ta[Na.field]=Na);return ta},{});return td(P).length?new sl(b,P):null}dependentFields(){return new Set(td(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(Ca(this.filter))}assemble(){const b=td(this.filter).reduce((g,l)=>{l=this.filter[l];const A=pd(l,{expr:"datum"});null!==l&&("temporal"===l.type?g.push("(isDate(".concat(A,") || (isValid(").concat(A,") \x26\x26 isFinite(+").concat(A,
")))")):"quantitative"===l.type&&(g.push("isValid(".concat(A,")")),g.push("isFinite(+".concat(A,")"))));return g},[]);return 0<b.length?{type:"filter",expr:b.join(" \x26\x26 ")}:null}}class Hl extends ig{clone(){return new Hl(this.parent,Ve(this.transform))}constructor(b,g){super(b);this.transform=g;this.transform=Ve(g);const {flatten:l,as:A=[]}=this.transform;this.transform.as=l.map((I,P)=>{var ta;return null!==(ta=A[P])&&void 0!==ta?ta:I})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(Ca(this.transform))}assemble(){const {flatten:b,
as:g}=this.transform;return{type:"flatten",fields:b,as:g}}}class Gl extends ig{clone(){return new Gl(null,Ve(this.transform))}constructor(b,g){var l,A,I;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(A=b[0])&&void 0!==A?A:"key",null!==(I=b[1])&&void 0!==I?I:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(Ca(this.transform))}assemble(){const {fold:b,
as:g}=this.transform;return{type:"fold",fields:b,as:g}}}class al extends ig{clone(){return new al(null,Ve(this.fields),this.geojson,this.signal)}static parseAll(b,g){if(g.component.projection&&!g.component.projection.isFit)return b;let l=0;for(var A of[["longitude","latitude"],["longitude2","latitude2"]]){const I=A.map(P=>{P=J(g.encoding[P]);return uc(P)?P.field:id(P)?{expr:"".concat(P.datum)}:le(P)?{expr:"".concat(P.value)}:void 0});if(I[0]||I[1])b=new al(b,I,null,g.getName("geojson_".concat(l++)))}g.channelHasField("shape")&&
(A=g.typedFieldDef("shape"),"geojson"===A.type&&(b=new al(b,null,A.field,g.getName("geojson_".concat(l++)))));return b}constructor(b,g,l,A){super(b);this.fields=g;this.geojson=l;this.signal=A}dependentFields(){var b;const g=(null!==(b=this.fields)&&void 0!==b?b:[]).filter(Ha);return new Set([...this.geojson?[this.geojson]:[],...g])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(Ca(this.fields))}assemble(){return Object.assign({},{type:"geojson"},
this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class tl extends ig{clone(){return new tl(null,this.projection,Ve(this.fields),Ve(this.as))}constructor(b,g,l,A){super(b);this.projection=g;this.fields=l;this.as=A}static parseAll(b,g){if(!g.projectionName())return b;for(const l of[["longitude","latitude"],["longitude2","latitude2"]]){const A=l.map(P=>{P=J(g.encoding[P]);return uc(P)?P.field:id(P)?{expr:"".concat(P.datum)}:le(P)?{expr:"".concat(P.value)}:
void 0}),I="longitude2"===l[0]?"2":"";if(A[0]||A[1])b=new tl(b,g.projectionName(),A,[g.getName("x"+I),g.getName("y"+I)])}return b}dependentFields(){return new Set(this.fields.filter(Ha))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(Ca(this.fields)," ").concat(Ca(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Kk extends ig{clone(){return new Kk(null,Ve(this.transform))}constructor(b,
g){super(b);this.transform=g}dependentFields(){var b;return new Set([this.transform.impute,this.transform.key,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(b){const {start:g=0,stop:l,step:A}=b;b=[g,l,...A?[A]:[]].join();return{signal:"sequence(".concat(b,")")}}static makeFromTransform(b,g){return new Kk(b,g)}static makeFromEncoding(b,g){const l=g.encoding;var A=l.x;const I=l.y;if(uc(A)&&uc(I)){const P=A.impute?A:I.impute?
I:void 0;if(void 0===P)return;A=A.impute?I:I.impute?A:void 0;const {method:ta,value:Na,frame:wb,keyvals:Fb}=P.impute;g=pc(g.mark,l);return new Kk(b,Object.assign({},{impute:P.field,key:A.field},ta?{method:ta}:{},void 0!==Na?{value:Na}:{},wb?{frame:wb}:{},void 0!==Fb?{keyvals:Fb}:{},g.length?{groupby:g}:{}))}return null}hash(){return"Impute ".concat(Ca(this.transform))}assemble(){const {impute:b,key:g,keyvals:l,method:A,groupby:I,value:P,frame:ta=[null,null]}=this.transform,Na=Object.assign({},{type:"impute",
field:b,key:g},l?{keyvals:void 0!==(null===l||void 0===l?void 0:l.stop)?this.processSequence(l):l}:{},{method:"value"},I?{groupby:I}:{},{value:A&&"value"!==A?null:P});if(A&&"value"!==A){const wb=Object.assign({},{type:"window",as:["imputed_".concat(b,"_value")],ops:[A],fields:[b],frame:ta,ignorePeers:!1},I?{groupby:I}:{}),Fb={type:"formula",expr:"datum.".concat(b," \x3d\x3d\x3d null ? datum.imputed_").concat(b,"_value : datum.").concat(b),as:b};return[Na,wb,Fb]}return[Na]}}class Jl extends ig{clone(){return new Jl(null,
Ve(this.transform))}constructor(b,g){var l,A,I;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(A=b[0])&&void 0!==A?A:g.on,null!==(I=b[1])&&void 0!==I?I:g.loess]}dependentFields(){var b;return new Set([this.transform.loess,this.transform.on,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(Ca(this.transform))}assemble(){var b=
this.transform,g=Object.assign({},b);const l=b.loess;b=b.on;g=(delete g.loess,delete g.on,g);return Object.assign({},{type:"loess",x:b,y:l},g)}}class ul extends ig{clone(){return new ul(null,Ve(this.transform),this.secondary)}constructor(b,g,l){super(b);this.transform=g;this.secondary=l}static make(b,g,l,A){const I=g.component.data.sources,{from:P}=l;var ta=null;if("data"in P)ta=Yj(P.data,I),ta||(ta=new qk(P.data),I.push(ta)),A=g.getName("lookup_".concat(A)),ta=new th(ta,A,og.Lookup,g.component.data.outputNodeRefCounts),
g.component.data.outputNodes[A]=ta;else if("selection"in P&&(A=P.selection,l=Object.assign({},{as:A},l),ta=g.getSelectionComponent(T(A),A).materialized,!ta))throw Error('Cannot define and lookup the "'.concat(A,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new ul(b,l,ta.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?qb(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(Ca({transform:this.transform,
secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var b=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:qb(this.transform.as)}:{});else b=this.transform.as,Ha(b)||(Gb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),b="_lookup"),b={as:[b]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},b,this.transform.default?
{default:this.transform.default}:{})}}class Kl extends ig{clone(){return new Kl(null,Ve(this.transform))}constructor(b,g){var l,A,I;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(A=b[0])&&void 0!==A?A:"prob",null!==(I=b[1])&&void 0!==I?I:"value"]}dependentFields(){var b;return new Set([this.transform.quantile,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(Ca(this.transform))}assemble(){var b=
this.transform,g=Object.assign({},b);b=b.quantile;g=(delete g.quantile,g);return Object.assign({},{type:"quantile",field:b},g)}}class Ll extends ig{clone(){return new Ll(null,Ve(this.transform))}constructor(b,g){var l,A,I;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(A=b[0])&&void 0!==A?A:g.on,null!==(I=b[1])&&void 0!==I?I:g.regression]}dependentFields(){var b;return new Set([this.transform.regression,this.transform.on,
...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(Ca(this.transform))}assemble(){var b=this.transform,g=Object.assign({},b);const l=b.regression;b=b.on;g=(delete g.regression,delete g.on,g);return Object.assign({},{type:"regression",x:b,y:l},g)}}class Nl extends ig{clone(){return new Nl(null,Ve(this.transform))}constructor(b,g){super(b);this.transform=g}addDimensions(b){var g;this.transform.groupby=
Xa((null!==(g=this.transform.groupby)&&void 0!==g?g:[]).concat(b),l=>l)}producedFields(){}dependentFields(){var b;return new Set([this.transform.pivot,this.transform.value,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}hash(){return"PivotTransform ".concat(Ca(this.transform))}assemble(){const {pivot:b,value:g,groupby:l,limit:A,op:I}=this.transform;return Object.assign({},{type:"pivot",field:b,value:g},void 0!==A?{limit:A}:{},void 0!==I?{op:I}:{},void 0!==l?{groupby:l}:{})}}class Ml extends ig{clone(){return new Ml(null,
Ve(this.transform))}constructor(b,g){super(b);this.transform=g}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(Ca(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class wl extends ym{constructor(b,g,l,A){super(b,"facet",g,l,A,b.resolve);kc(this,"facet",void 0);kc(this,"child",void 0);kc(this,"children",void 0);this.child=ki(b.spec,this,this.getName("child"),void 0,A);this.children=[this.child];this.facet=this.initFacet(b.facet)}initFacet(b){if(!ua(b))return{facet:this.initFacetFieldDef(b,
"facet")};var g=td(b);const l={};for(const A of g){if(!Ma(["row","column"],A)){Gb(rd(A,"facet"));break}g=b[A];if(void 0===g.field){Gb($b(g,A));break}l[A]=this.initFacetFieldDef(g,A)}return l}initFacetFieldDef(b,g){var l=Object.assign({},b);b=b.header;l=(delete l.header,l);g=Pb(l,g);b&&(g.header=cf(b));return g}channelHasField(b){return!!this.facet[b]}fieldDef(b){return this.facet[b]}parseData(){this.component.data=Vh(this);this.child.parseData()}parseLayoutSize(){Ej(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const I of Yg){{var b=void 0,g=I;const {facet:P,config:ta,child:Na,component:wb}=this;if(this.channelHasField(g)){const Fb=P[g];var l=lh("title",null,ta,g);l=Ze(Fb,ta,{allowDisabling:!0,includeDefault:void 0===l||!!l});Na.component.layoutHeaders[g].title&&(l=te(l)?l.join(", "):l,l+=" / "+Na.component.layoutHeaders[g].title,Na.component.layoutHeaders[g].title=
null);var A=lh("labelOrient",Fb,ta,g);const dc=null!==(b=Fb.header)&&void 0!==b?b:{};b=ma(dc.labels,ta.header.labels,!0);A=Ma(["bottom","right"],A)?"footer":"header";wb.layoutHeaders[g]={title:l,facetFieldDef:Fb,[A]:"facet"===g?[]:[ml(this,g,b)]}}}}hi(this,"x");hi(this,"y")}assembleSelectionTopLevelSignals(b){return this.child.assembleSelectionTopLevelSignals(b)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(b){return this.child.assembleSelectionData(b)}getHeaderLayoutMixins(){const b=
{};for(const ta of Yg)for(const Na of Fl){const wb=this.component.layoutHeaders[ta];var g=wb[Na],{facetFieldDef:l}=wb;if(l&&(l=lh("titleOrient",l.header,this.config,ta),Ma(["right","bottom"],l))){var A;l=Ch(ta,l);b.titleAnchor=null!==(A=b.titleAnchor)&&void 0!==A?A:{};b.titleAnchor[l]="end"}if(null===g||void 0===g?0:g[0]){g="row"===ta?"height":"width";l="header"===Na?"headerBand":"footerBand";if("facet"!==ta&&!this.child.component.layoutSize.get(g)){var I;b[l]=null!==(I=b[l])&&void 0!==I?I:{};b[l][ta]=
.5}if(wb.title){var P;b.offset=null!==(P=b.offset)&&void 0!==P?P:{};b.offset["row"===ta?"rowTitle":"columnTitle"]=10}}}return b}assembleDefaultLayout(){const {column:b,row:g}=this.facet,l=b?this.columnDistinctSignal():g?1:void 0;let A="all";g||"independent"!==this.component.resolve.scale.x?b||"independent"!==this.component.resolve.scale.y||(A="none"):A="none";return Object.assign({},this.getHeaderLayoutMixins(),l?{columns:l}:{},{bounds:"full",align:A})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof wl)){const b=this.getName("column_domain");return{signal:"length(data('".concat(b,"'))")}}}assembleGroup(b){return this.parent&&this.parent instanceof wl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:pd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(b)):super.assembleGroup(b)}getCardinalityAggregateForChild(){const b=[],g=[],l=[];if(this.child instanceof wl){if(this.child.channelHasField("column")){var A=pd(this.child.facet.column);
b.push(A);g.push("distinct");l.push("distinct_".concat(A))}}else for(A of Tg){var I=this.child.component.scales[A];if(I&&!I.merged){var P=I.get("type");I=I.get("range");P in Qd&&xc(I)&&(P=Af(this.child,A),(P=Nf(P))?(b.push(P),g.push("distinct"),l.push("distinct_".concat(P))):Gb(Nc(A)))}}return{fields:b,ops:g,as:l}}assembleFacet(){const {name:b,data:g}=this.component.data.facetRoot,{row:l,column:A}=this.facet,{fields:I,ops:P,as:ta}=this.getCardinalityAggregateForChild(),Na=[];for(var wb of Yg){var Fb=
this.facet[wb];if(Fb){Na.push(pd(Fb));const {bin:dc,sort:Oc}=Fb;Dc(dc)&&Na.push(pd(Fb,{binSuffix:"end"}));if(K(Oc)){const {field:Wc,op:cd="min"}=Oc;Fb=hh(Fb,Oc);l&&A?(I.push(Fb),P.push("max")):(I.push(Wc),P.push(cd));ta.push(Fb)}else te(Oc)&&(Fb=ih(Fb,wb),I.push(Fb),P.push("max"),ta.push(Fb))}}wb=!!l&&!!A;return Object.assign({},{name:b,data:g,groupby:Na},wb||0<I.length?{aggregate:Object.assign({},wb?{cross:wb}:{},I.length?{fields:I,ops:P,as:ta}:{})}:{})}facetSortFields(b){var {facet:g}=this;return(g=
g[b])?K(g.sort)?[hh(g,g.sort,{expr:"datum"})]:te(g.sort)?[ih(g,b,{expr:"datum"})]:[pd(g,{expr:"datum"})]:[]}facetSortOrder(b){const {facet:g}=this;return(b=g[b])?({sort:b}=b,[(K(b)?b.order:!te(b)&&b)||"ascending"]):[]}assembleLabelTitle(){const {facet:b,config:g}=this;if(b.facet)return zf(b.facet,"facet",g);const l={row:["top","bottom"],column:["left","right"]};for(const I of Ol)if(b[I]){var A;const P=lh("labelOrient",null===(A=b[I])||void 0===A?void 0:A.header,g,I);if(Ma(l[I],P))return zf(b[I],I,
g)}}assembleMarks(){const {child:b}=this,g=dl(this.component.data.facetRoot),l=b.assembleGroupEncodeEntry(!1),A=this.assembleLabelTitle()||b.assembleTitle(),I=b.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},A?{title:A}:{},I?{style:I}:{},{from:{facet:this.assembleFacet()},sort:{field:Yg.map(P=>this.facetSortFields(P)).flat(),order:Yg.map(P=>this.facetSortOrder(P)).flat()}},0<g.length?{data:g}:{},l?{encode:{update:l}}:{},b.assembleGroup(di(this,[])))]}getMapping(){return this.facet}}
class qn extends Sl{constructor(b,g,l,A){var I,P,ta,Na;super(b,"concat",g,l,A,b.resolve);kc(this,"children",void 0);"shared"!==(null===(I=b.resolve)||void 0===I?void 0:null===(P=I.axis)||void 0===P?void 0:P.x)&&"shared"!==(null===(ta=b.resolve)||void 0===ta?void 0:null===(Na=ta.axis)||void 0===Na?void 0:Na.y)||Gb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(b).map((wb,Fb)=>ki(wb,this,this.getName("concat_"+
Fb),void 0,A))}parseData(){this.component.data=Vh(this);for(const b of this.children)b.parseData()}parseSelections(){this.component.selection={};for(const b of this.children){b.parseSelections();for(const g of td(b.component.selection))this.component.selection[g]=b.component.selection[g]}}parseMarkGroup(){for(const b of this.children)b.parseMarkGroup()}parseAxesAndHeaders(){for(const b of this.children)b.parseAxesAndHeaders()}getChildren(b){return"vconcat"in b?b.vconcat:"hconcat"in b?b.hconcat:b.concat}parseLayoutSize(){{Ej(this);
const b=void 0===this.layout.columns?"height":"childHeight";Fj(this,1===this.layout.columns?"width":"childWidth");Fj(this,b)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(b){return this.children.reduce((g,l)=>l.assembleSelectionTopLevelSignals(g),b)}assembleSignals(){this.children.forEach(b=>b.assembleSignals());return[]}assembleLayoutSignals(){const b=mh(this);for(const g of this.children)b.push(...g.assembleLayoutSignals());return b}assembleSelectionData(b){return this.children.reduce((g,
l)=>l.assembleSelectionData(g),b)}assembleMarks(){return this.children.map(b=>{const g=b.assembleTitle(),l=b.assembleGroupStyle(),A=b.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:b.getName("group")},g?{title:g}:{},l?{style:l}:{},A?{encode:{update:A}}:{},b.assembleGroup())})}assembleDefaultLayout(){const b=this.layout.columns;return Object.assign({},null!=b?{columns:b}:{},{bounds:"full",align:"each"})}}const En=Object.assign({},{disable:1,gridScale:1,scale:1},hl,{labelExpr:1,
encode:1}),om=td(En);class pm extends Rj{constructor(b,g,l){b=void 0===b?{}:b;g=void 0===g?{}:g;l=void 0===l?!1:l;super();this.explicit=b;this.implicit=g;this.mainExtracted=l}clone(){return new pm(Ve(this.explicit),Ve(this.implicit),this.mainExtracted)}hasAxisPart(b){if("axis"===b)return!0;if("grid"===b||"title"===b)return!!this.get(b);b=this.get(b);return!(!1===b||null===b)}hasOrientSignalRef(){return Cc(this.explicit.orient)}}const Fn={bottom:"top",top:"bottom",left:"right",right:"left"},pn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
vl={arc:{vgMark:"arc",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),Ih(b,"radius","arc"),Ih(b,"theta","arc"))},area:{vgMark:"area",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Ji("x",b,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===b.markDef.orient}),
Ji("y",b,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===b.markDef.orient}),Ag(b))},bar:{vgMark:"rect",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ih(b,"x","bar"),Ih(b,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:b=>Xi(b,"circle")},geoshape:{vgMark:"shape",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:b=>{var {encoding:g}=b;g=g.shape;return[Object.assign({},{type:"geoshape",projection:b.projectionName()},g&&uc(g)&&"geojson"===g.type?{field:pd(g,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ih(b,"x","image"),Ih(b,"y","image"),tj(b,"url"))},line:{vgMark:"line",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),qg("size",b,{vgChannel:"strokeWidth"}),Ag(b))},point:{vgMark:"symbol",encodeEntry:b=>Xi(b)},rect:{vgMark:"rect",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ih(b,"x","rect"),Ih(b,"y","rect"))},rule:{vgMark:"rule",encodeEntry:b=>{var {markDef:g}=b;g=g.orient;return b.encoding.x||b.encoding.y||b.encoding.latitude||
b.encoding.longitude?Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ji("x",b,{defaultPos:"horizontal"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==g}),Ji("y",b,{defaultPos:"vertical"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==g}),qg("size",b,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:b=>Xi(b,"square")},text:{vgMark:"text",encodeEntry:b=>{const {config:g,encoding:l}=
b;return Object.assign({},Pg(b,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),tj(b),qg("size",b,{vgChannel:"fontSize"}),qg("angle",b),Pf("align",Pk(b.markDef,l,g)),Pf("baseline",Zj(b.markDef,l,g)),wg("radius",b,{defaultPos:null,isMidPoint:!0}),wg("theta",b,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:b=>{const {config:g,markDef:l}=b;var A=l.orient;const I="horizontal"===
A?"width":"height";A="horizontal"===A?"height":"width";return Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),wg("x",b,{defaultPos:"mid",vgChannel:"xc"}),wg("y",b,{defaultPos:"mid",vgChannel:"yc"}),qg("size",b,{defaultValue:ji(b),vgChannel:I}),{[A]:Pd(be("thickness",l,g))})}},trail:{vgMark:"trail",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),qg("size",b),Ag(b))}};class sm extends ym{constructor(b,g,l,A,I){A=void 0===A?{}:A;super(b,"unit",g,l,I,void 0,Cb(b)?b.view:void 0);kc(this,"markDef",void 0);kc(this,"encoding",void 0);kc(this,"specifiedScales",{});kc(this,"stack",void 0);kc(this,"specifiedAxes",{});kc(this,"specifiedLegends",{});kc(this,"specifiedProjection",{});kc(this,"selection",{});kc(this,"children",[]);var P=Ad(b.mark)?Object.assign({},b.mark):{type:b.mark};g=P.type;
if(void 0===P.filled){({graticule:l}={graticule:b.data&&"graticule"in b.data});if(l)l=!1;else{l=wf("filled",P,I);var ta=P.type;l=ma(l,ta!==Ud&&ta!==Gd&&ta!==Ne)}P.filled=l}l=this.encoding=tb(b.encoding||{},g,P.filled,I);P=cf(P);ta=be("orient",P,I);P.orient=wk(P.type,l,ta);void 0!==ta&&ta!==P.orient&&(ta='Specified orient "'.concat(P.orient,'" overridden with "').concat(ta,'".'),Gb(ta));if("bar"===P.type&&P.orient&&(ta=be("cornerRadiusEnd",P,I),void 0!==ta)){const dc="horizontal"===P.orient&&l.x2||
"vertical"===P.orient&&l.y2?["cornerRadius"]:sn[P.orient];for(var Na of dc)P[Na]=ta;void 0!==P.cornerRadiusEnd&&delete P.cornerRadiusEnd}void 0===be("opacity",P,I)&&(Na=Ma([Ud,lg,ii,Ok],P.type)&&!ya(l)?.7:void 0,P.opacity=Na);void 0===be("cursor",P,I)&&(Na=P,I=l.href||Na.href||be("href",Na,I)?"pointer":Na.cursor,P.cursor=I);this.markDef=I=P;A={encoding:l,size:Cb(b)?Object.assign({},A,b.width?{width:b.width}:{},b.height?{height:b.height}:{}):A};var {encoding:wb,size:Fb}=A;for(const dc of Tg)A=eb(dc),
pb(Fb[A])&&fd(wb[dc])&&(delete Fb[A],Gb(X(A)));this.size=Fb;this.stack=vc(g,l);this.specifiedScales=this.initScales(g,l);this.specifiedAxes=this.initAxes(l);this.specifiedLegends=this.initLegends(l);this.specifiedProjection=b.projection;this.selection=b.selection}get hasProjection(){const {encoding:b}=this,g=this.mark===nm,l=b&&rj.some(A=>xd(b[A]));return g||l}scaleDomain(b){return(b=this.specifiedScales[b])?b.domain:void 0}axis(b){return this.specifiedAxes[b]}legend(b){return this.specifiedLegends[b]}initScales(b,
g){return Zh.reduce((l,A)=>{const I=J(g[A]);if(I){var P;l[A]=this.initScale(null!==(P=I.scale)&&void 0!==P?P:{})}return l},{})}initScale(b){const {domain:g,range:l}=b;b=cf(b);te(g)&&(b.domain=g.map(Bd));te(l)&&(b.range=l.map(Bd));return b}initAxes(b){return Tg.reduce((g,l)=>{var A=b[l];if(xd(A)||"x"===l&&xd(b.x2)||"y"===l&&xd(b.y2))A=xd(A)?A.axis:void 0,g[l]=A?this.initAxis(Object.assign({},A)):A;return g},{})}initAxis(b){var g=td(b);const l={};for(const A of g)g=b[A],l[A]=C(g)?Td(g):Bd(g);return l}initLegends(b){return Bk.reduce((g,
l)=>{var A=J(b[l]),I;if(I=A)a:{switch(l){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":I=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":I=!1;break a}I=void 0}I&&(A=A.legend,g[l]=A?cf(A):A);return g},{})}parseData(){this.component.data=Vh(this)}parseLayoutSize(){{const {size:g,component:l}=this;for(const A of Tg){const I=eb(A);if(g[I]){var b=g[I];l.layoutSize.set(I,pb(b)?"step":b,!0)}else b=ol(this,I),l.layoutSize.set(I,
b,!1)}}}parseSelections(){this.component.selection=bh(this,this.selection)}parseMarkGroup(){this.component.mark=bk(this)}parseAxesAndHeaders(){this.component.axes=Hj(this)}assembleSelectionTopLevelSignals(b){return ij(this,b)}assembleSignals(){return[...nj(this),...hj(this,[])]}assembleSelectionData(b){return Bj(this,b)}assembleLayout(){return null}assembleLayoutSignals(){return mh(this)}assembleMarks(){var b;let g=null!==(b=this.component.mark)&&void 0!==b?b:[];this.parent&&pj(this.parent)||(g=qi(this,
g));return g.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(b){return ia(this.encoding,b)}fieldDef(b){return df(this.encoding[b])}typedFieldDef(b){b=this.fieldDef(b);return zd(b)?b:null}}class rm extends Sl{constructor(b,g,l,A,I){super(b,"layer",g,l,I,b.resolve,b.view);kc(this,"children",void 0);const P=Object.assign({},A,b.width?{width:b.width}:{},b.height?{height:b.height}:{});this.children=b.layer.map((ta,Na)=>{if("layer"in ta)return new rm(ta,
this,this.getName("layer_"+Na),P,I);if(Y(ta))return new sm(ta,this,this.getName("layer_"+Na),P,I);throw Error(Pc(ta));})}parseData(){this.component.data=Vh(this);for(const b of this.children)b.parseData()}parseLayoutSize(){Ej(this);Fj(this,"width");Fj(this,"height")}parseSelections(){this.component.selection={};for(const b of this.children){b.parseSelections();for(const g of td(b.component.selection))this.component.selection[g]=b.component.selection[g]}}parseMarkGroup(){for(const b of this.children)b.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:l,
resolve:A}=this.component,I={top:0,bottom:0,right:0,left:0};for(var b of this.children){b.parseAxesAndHeaders();for(const P of td(b.component.axes))A.axis[P]=Bi(this.component.resolve,P),"shared"===A.axis[P]&&(l[P]=Wi(l[P],b.component.axes[P]),l[P]||(A.axis[P]="independent",delete l[P]))}for(const P of Tg){for(const ta of this.children)if(ta.component.axes[P]){if("independent"===A.axis[P]){var g;l[P]=(null!==(g=l[P])&&void 0!==g?g:[]).concat(ta.component.axes[P]);for(const Na of ta.component.axes[P]){const {value:wb,
explicit:Fb}=Na.getWithExplicit("orient");Cc(wb)||(0<I[wb]&&!Fb&&(b=Fn[wb],I[wb]>I[b]&&Na.set("orient",b,!1)),I[wb]++)}}delete ta.component.axes[P]}if("independent"===A.axis[P]&&l[P]&&1<l[P].length)for(const ta of l[P])ta.get("grid")&&!ta.explicit.grid&&(ta.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(b){return this.children.reduce((g,l)=>l.assembleSelectionTopLevelSignals(g),b)}assembleSignals(){return this.children.reduce((b,g)=>b.concat(g.assembleSignals()),nj(this))}assembleLayoutSignals(){return this.children.reduce((b,
g)=>b.concat(g.assembleLayoutSignals()),mh(this))}assembleSelectionData(b){return this.children.reduce((g,l)=>l.assembleSelectionData(g),b)}assembleTitle(){let b=super.assembleTitle();if(b)return b;for(const g of this.children)if(b=g.assembleTitle())return b}assembleLayout(){return null}assembleMarks(){return ei(this,this.children.flatMap(b=>b.assembleMarks()))}assembleLegends(){return this.children.reduce((b,g)=>b.concat(g.assembleLegends()),Wj(this))}}x.accessPathDepth=xa;x.accessPathWithDatum=
ea;x.compile=function(b,g){g=void 0===g?{}:g;g.logger&&(Zi=g.logger);g.fieldTitle&&(Wk=g.fieldTitle);try{const dc=Fa(Qb(g.config,b.config)),Oc=hf(b,dc),Wc=ki(Oc,null,"",void 0,dc);Wc.parse();{var l=Wc.component.data,A=Wc;qa(l.sources);let cd=0,wd=0;for(var I=0;5>I&&ib(l,A,!0);I++)cd++;l.sources.map(y);for(I=0;5>I&&ib(l,A,!1);I++)wd++;qa(l.sources);5===Math.max(cd,wd)&&Gb("Maximum optimization runs(".concat(5,") reached."))}{var P=Oc.autosize;l=dc;A=Wc;const cd=A.component.layoutSize.get("width"),
wd=A.component.layoutSize.get("height");void 0===P?(P={type:"pad"},A.hasAxisOrientSignalRef()&&(P.resize=!0)):Ha(P)&&(P={type:P});var ta;if(ta=cd&&wd){var Na=P.type;ta="fit"===Na||"fit-x"===Na||"fit-y"===Na}if(ta)if("step"===cd&&"step"===wd)Gb($c()),P.type="pad";else if("step"===cd||"step"===wd){Na="step"===cd?"width":"height";Gb($c(Kb(Na)));ta=P;var wb=(Na="width"===Na?"height":"width","fit-".concat(Kb(Na)));ta.type=wb}var Fb=Object.assign({},1===td(P).length&&P.type?"pad"===P.type?{}:{autosize:P.type}:
{autosize:P},Pa(l,!1),Pa(b,!0))}return{spec:tg(Wc,Fb,b.datasets,b.usermeta),normalized:Oc}}finally{g.logger&&(Zi=$i),g.fieldTitle&&(Wk=um)}};x.contains=Ma;x.deepEqual=Kj;x.deleteNestedProperty=O;x.duplicate=Ve;x.entries=dh;x.every=Aa;x.fieldIntersection=$a;x.flatAccessWithDatum=pa;x.getFirstDefined=ma;x.hasIntersection=cb;x.hash=Ca;x.internalField=v;x.isBoolean=H;x.isEmpty=Q;x.isEqual=function(b,g){const l=td(b),A=td(g);if(l.length!==A.length)return!1;for(const I of l)if(b[I]!==g[I])return!1;return!0};
x.isInternalField=w;x.isNullOrFalse=ab;x.isNumeric=r;x.keys=td;x.logicalExpr=na;x.mergeDeep=Qa;x.normalize=hf;x.normalizeAngle=p;x.omit=jb;x.pick=Ga;x.prefixGenerator=ob;x.removePathFromField=va;x.replaceAll=U;x.replacePathInField=db;x.resetIdCounter=function(){zk=42};x.setEqual=hb;x.some=ja;x.stringify=If;x.titleCase=W;x.unique=Xa;x.uniqueId=R;x.vals=Fi;x.varName=T;x.version="4.17.0";Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[67]=function(mc,Rb,Jc,Nb){function n(){throw Error("setTimeout has not been defined");}function x(){throw Error("clearTimeout has not been defined");}function ca(Ia){if(Bb===setTimeout)return setTimeout(Ia,0);if((Bb===n||!Bb)&&setTimeout)return Bb=setTimeout,setTimeout(Ia,0);try{return Bb(Ia,0)}catch(Ya){try{return Bb.call(null,Ia,0)}catch(mb){return Bb.call(this,Ia,0)}}}function Sa(Ia){if(bb===clearTimeout)return clearTimeout(Ia);if((bb===x||!bb)&&clearTimeout)return bb=clearTimeout,
clearTimeout(Ia);try{return bb(Ia)}catch(Ya){try{return bb.call(null,Ia)}catch(mb){return bb.call(this,Ia)}}}function Wb(){sb&&Wa&&(sb=!1,Wa.length?qb=Wa.concat(qb):Ha=-1,qb.length&&fb())}function fb(){if(!sb){var Ia=ca(Wb);sb=!0;for(var Ya=qb.length;Ya;){Wa=qb;for(qb=[];++Ha<Ya;)Wa&&Wa[Ha].run();Ha=-1;Ya=qb.length}Wa=null;sb=!1;Sa(Ia)}}function ub(Ia,Ya){this.fun=Ia;this.array=Ya}function Qb(){}mc=Jc.exports={};try{var Bb="function"===typeof setTimeout?setTimeout:n}catch(Ia){Bb=n}try{var bb="function"===
typeof clearTimeout?clearTimeout:x}catch(Ia){bb=x}var qb=[],sb=!1,Wa,Ha=-1;mc.nextTick=function(Ia){var Ya=Array(arguments.length-1);if(1<arguments.length)for(var mb=1;mb<arguments.length;mb++)Ya[mb-1]=arguments[mb];qb.push(new ub(Ia,Ya));1!==qb.length||sb||ca(fb)};ub.prototype.run=function(){this.fun.apply(null,this.array)};mc.title="browser";mc.browser=!0;mc.env={};mc.argv=[];mc.version="";mc.versions={};mc.on=Qb;mc.addListener=Qb;mc.once=Qb;mc.off=Qb;mc.removeListener=Qb;mc.removeAllListeners=
Qb;mc.emit=Qb;mc.prependListener=Qb;mc.prependOnceListener=Qb;mc.listeners=function(Ia){return[]};mc.binding=function(Ia){throw Error("process.binding is not supported");};mc.cwd=function(){return"/"};mc.chdir=function(Ia){throw Error("process.chdir is not supported");};mc.umask=function(){return 0}};
shadow$provide[68]=function(mc,Rb,Jc,Nb){var n=Rb(67);(function(x,ca){"object"===typeof Nb&&"undefined"!==typeof Jc?Jc.exports=ca(Rb(65),Rb(66)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ca):(x="undefined"!==typeof globalThis?globalThis:x||self,x.vegaEmbed=ca(x.vega,x.vegaLite))})(this,function(x,ca){function Sa(K){if(K&&K.__esModule)return K;var S=Object.create(null);K&&Object.keys(K).forEach(function(ua){if("default"!==ua){var Ka=Object.getOwnPropertyDescriptor(K,ua);Object.defineProperty(S,
ua,Ka.get?Ka:{enumerable:!0,get:function(){return K[ua]}})}});S["default"]=K;return Object.freeze(S)}function Wb(K,S,ua,Ka){function Va(Vb){return Vb instanceof ua?Vb:new ua(function(lc){lc(Vb)})}return new (ua||(ua=Promise))(function(Vb,lc){function Gc(id){try{Fc(Ka.next(id))}catch(fd){lc(fd)}}function uc(id){try{Fc(Ka["throw"](id))}catch(fd){lc(fd)}}function Fc(id){id.done?Vb(id.value):Va(id.value).then(Gc,uc)}Fc((Ka=Ka.apply(K,S||[])).next())})}function fb(K,S){function ua(Fc){return function(id){return Ka([Fc,
id])}}function Ka(Fc){if(Vb)throw new TypeError("Generator is already executing.");for(;Va;)try{if(Vb=1,lc&&(Gc=Fc[0]&2?lc["return"]:Fc[0]?lc["throw"]||((Gc=lc["return"])&&Gc.call(lc),0):lc.next)&&!(Gc=Gc.call(lc,Fc[1])).done)return Gc;if(lc=0,Gc)Fc=[Fc[0]&2,Gc.value];switch(Fc[0]){case 0:case 1:Gc=Fc;break;case 4:return Va.label++,{value:Fc[1],done:!1};case 5:Va.label++;lc=Fc[1];Fc=[0];continue;case 7:Fc=Va.ops.pop();Va.trys.pop();continue;default:if(!(Gc=Va.trys,Gc=0<Gc.length&&Gc[Gc.length-1])&&
(6===Fc[0]||2===Fc[0])){Va=0;continue}if(3===Fc[0]&&(!Gc||Fc[1]>Gc[0]&&Fc[1]<Gc[3]))Va.label=Fc[1];else if(6===Fc[0]&&Va.label<Gc[1])Va.label=Gc[1],Gc=Fc;else if(Gc&&Va.label<Gc[2])Va.label=Gc[2],Va.ops.push(Fc);else{Gc[2]&&Va.ops.pop();Va.trys.pop();continue}}Fc=S.call(K,Va)}catch(id){Fc=[6,id],lc=0}finally{Vb=Gc=0}if(Fc[0]&5)throw Fc[1];return{value:Fc[0]?Fc[1]:void 0,done:!0}}var Va={label:0,sent:function(){if(Gc[0]&1)throw Gc[1];return Gc[1]},trys:[],ops:[]},Vb,lc,Gc,uc;return uc={next:ua(0),
"throw":ua(1),"return":ua(2)},"function"===typeof Symbol&&(uc[Symbol.iterator]=function(){return this}),uc}function ub(K){if(Array.isArray(K)){var S=Array(K.length);for(K=0;K<S.length;K++)S[K]=""+K;return S}if(Object.keys)return Object.keys(K);S=[];for(var ua in K)xa.call(K,ua)&&S.push(ua);return S}function Qb(K){switch(typeof K){case "object":return JSON.parse(JSON.stringify(K));case "undefined":return null;default:return K}}function Bb(K){for(var S=0,ua=K.length,Ka;S<ua;)if(Ka=K.charCodeAt(S),48<=
Ka&&57>=Ka)S++;else return!1;return!0}function bb(K){return-1===K.indexOf("/")&&-1===K.indexOf("~")?K:K.replace(/~/g,"~0").replace(/\//g,"~1")}function qb(K){return K.replace(/~1/g,"/").replace(/~0/g,"~")}function sb(K){if(void 0===K)return!0;if(K)if(Array.isArray(K))for(var S=0,ua=K.length;S<ua;S++){if(sb(K[S]))return!0}else if("object"===typeof K){ua=ub(K);var Ka=ua.length;for(S=0;S<Ka;S++)if(sb(K[ua[S]]))return!0}return!1}function Wa(K,S){K=[K];for(var ua in S){var Ka="object"===typeof S[ua]?JSON.stringify(S[ua],
null,2):S[ua];"undefined"!==typeof Ka&&K.push(ua+": "+Ka)}return K.join("\n")}function Ha(K,S){if(""==S)return K;S={op:"_get",path:S};Ia(K,S);return S.value}function Ia(K,S,ua,Ka,Va,Vb){void 0===ua&&(ua=!1);void 0===Ka&&(Ka=!0);void 0===Va&&(Va=!0);void 0===Vb&&(Vb=0);ua&&("function"==typeof ua?ua(S,0,K,S.path):mb(S,0));if(""===S.path){Va={newDocument:K};if("add"===S.op)return Va.newDocument=S.value,Va;if("replace"===S.op)return Va.newDocument=S.value,Va.removed=K,Va;if("move"===S.op||"copy"===S.op)return Va.newDocument=
Ha(K,S.from),"move"===S.op&&(Va.removed=K),Va;if("test"===S.op){Va.test=Ga(K,S.value);if(!1===Va.test)throw new R("Test operation failed","TEST_OPERATION_FAILED",Vb,S,K);Va.newDocument=K;return Va}if("remove"===S.op)return Va.removed=K,Va.newDocument=null,Va;if("_get"===S.op)return S.value=K,Va;if(ua)throw new R("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Vb,S,K);return Va}Ka||(K=Qb(K));Ka=(S.path||"").split("/");var lc=K,Gc=1,uc=Ka.length,Fc=void 0,
id;for(id="function"==typeof ua?ua:mb;;){var fd=Ka[Gc];if(Va&&"__proto__"==fd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");ua&&void 0===Fc&&(void 0===lc[fd]?Fc=Ka.slice(0,Gc).join("/"):Gc==uc-1&&(Fc=S.path),void 0!==Fc&&id(S,0,K,Fc));Gc++;if(Array.isArray(lc)){if("-"===fd)fd=lc.length;else{if(ua&&!Bb(fd))throw new R("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index",
"OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Vb,S,K);Bb(fd)&&(fd=~~fd)}if(Gc>=uc){if(ua&&"add"===S.op&&fd>lc.length)throw new R("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Vb,S,K);Va=w[S.op].call(S,lc,fd,K);if(!1===Va.test)throw new R("Test operation failed","TEST_OPERATION_FAILED",Vb,S,K);return Va}}else if(fd&&-1!=fd.indexOf("~")&&(fd=qb(fd)),Gc>=uc){Va=v[S.op].call(S,lc,fd,K);if(!1===Va.test)throw new R("Test operation failed","TEST_OPERATION_FAILED",
Vb,S,K);return Va}lc=lc[fd]}}function Ya(K,S,ua,Ka,Va){void 0===Ka&&(Ka=!0);void 0===Va&&(Va=!0);if(ua&&!Array.isArray(S))throw new R("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Ka||(K=Qb(K));Ka=Array(S.length);for(var Vb=0,lc=S.length;Vb<lc;Vb++)Ka[Vb]=Ia(K,S[Vb],ua,!0,Va,Vb),K=Ka[Vb].newDocument;Ka.newDocument=K;return Ka}function mb(K,S,ua,Ka){if("object"!==typeof K||null===K||Array.isArray(K))throw new R("Operation is not an object","OPERATION_NOT_AN_OBJECT",S,K,ua);if(v[K.op]){if("string"!==
typeof K.path)throw new R("Operation `path` property is not a string","OPERATION_PATH_INVALID",S,K,ua);if(0!==K.path.indexOf("/")&&0<K.path.length)throw new R('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",S,K,ua);if("move"!==K.op&&"copy"!==K.op||"string"===typeof K.from)if("add"!==K.op&&"replace"!==K.op&&"test"!==K.op||void 0!==K.value){if(("add"===K.op||"replace"===K.op||"test"===K.op)&&sb(K.value))throw new R("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",S,K,ua);if(ua)if("add"==K.op){var Va=K.path.split("/").length;Ka=Ka.split("/").length;if(Va!==Ka+1&&Va!==Ka)throw new R("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",S,K,ua);}else if("replace"===K.op||"remove"===K.op||"_get"===K.op){if(K.path!==Ka)throw new R("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",S,K,ua);}else if(("move"===K.op||"copy"===K.op)&&(Va=Ea([{op:"_get",path:K.from,
value:void 0}],ua))&&"OPERATION_PATH_UNRESOLVABLE"===Va.name)throw new R("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",S,K,ua);}else throw new R("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",S,K,ua);else throw new R("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",S,K,ua);}else throw new R("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",S,K,ua);}function Ea(K,S,ua){try{if(!Array.isArray(K))throw new R("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(S)Ya(Qb(S),Qb(K),ua||!0);else{ua=ua||mb;for(var Ka=0;Ka<K.length;Ka++)ua(K[Ka],Ka,S,void 0)}}catch(Va){if(Va instanceof R)return Va;throw Va;}}function Ga(K,S){if(K===S)return!0;if(K&&S&&"object"==typeof K&&"object"==typeof S){var ua=Array.isArray(K),Ka=Array.isArray(S);if(ua&&Ka){var Va=K.length;if(Va!=S.length)return!1;for(ua=Va;0!==ua--;)if(!Ga(K[ua],
S[ua]))return!1;return!0}if(ua!=Ka)return!1;Ka=Object.keys(K);Va=Ka.length;if(Va!==Object.keys(S).length)return!1;for(ua=Va;0!==ua--;)if(!S.hasOwnProperty(Ka[ua]))return!1;for(ua=Va;0!==ua--;)if(Va=Ka[ua],!Ga(K[Va],S[Va]))return!1;return!0}return K!==K&&S!==S}function jb(K,S){void 0===S&&(S=!1);var ua=r.get(K.object);Ca(ua.value,K.object,K.patches,"",S);K.patches.length&&Ya(ua.value,K.patches);S=K.patches;0<S.length&&(K.patches=[],K.callback&&K.callback(S));return S}function Ca(K,S,ua,Ka,Va){if(S!==
K){"function"===typeof S.toJSON&&(S=S.toJSON());for(var Vb=ub(S),lc=ub(K),Gc=!1,uc=lc.length-1;0<=uc;uc--){var Fc=lc[uc],id=K[Fc];if(!xa.call(S,Fc)||void 0===S[Fc]&&void 0!==id&&!1===Array.isArray(S))Array.isArray(K)===Array.isArray(S)?(Va&&ua.push({op:"test",path:Ka+"/"+bb(Fc),value:Qb(id)}),ua.push({op:"remove",path:Ka+"/"+bb(Fc)}),Gc=!0):(Va&&ua.push({op:"test",path:Ka,value:K}),ua.push({op:"replace",path:Ka,value:S}));else{var fd=S[Fc];"object"==typeof id&&null!=id&&"object"==typeof fd&&null!=
fd?Ca(id,fd,ua,Ka+"/"+bb(Fc),Va):id!==fd&&(Va&&ua.push({op:"test",path:Ka+"/"+bb(Fc),value:Qb(id)}),ua.push({op:"replace",path:Ka+"/"+bb(Fc),value:Qb(fd)}))}}if(Gc||Vb.length!=lc.length)for(uc=0;uc<Vb.length;uc++)Fc=Vb[uc],xa.call(K,Fc)||void 0===S[Fc]||ua.push({op:"add",path:Ka+"/"+bb(Fc),value:Qb(S[Fc])})}}function ab(K){var S=this;S instanceof ab||(S=new ab);S.tail=null;S.head=null;S.length=0;if(K&&"function"===typeof K.forEach)K.forEach(function(Va){S.push(Va)});else if(0<arguments.length)for(var ua=
0,Ka=arguments.length;ua<Ka;ua++)S.push(arguments[ua]);return S}function Ma(K,S,ua,Ka){if(!(this instanceof Ma))return new Ma(K,S,ua,Ka);this.list=Ka;this.value=K;S?(S.next=this,this.prev=S):this.prev=null;ua?(ua.prev=this,this.next=ua):this.next=null}function ja(K){const [S,ua]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(K).slice(1,3);return{library:S,version:ua}}function Aa(K,S,ua){K.fields=S||[];K.fname=ua;return K}function Qa(K){return 1===K.length?De(K[0]):Jd(K)}function Xa(K){function S(){ua.push(lc+
K.substring(Gc,uc));lc="";Gc=uc+1}const ua=[],Ka=K.length;let Va=null,Vb=0,lc="",Gc,uc,Fc;K+="";for(Gc=uc=0;uc<Ka;++uc)if(Fc=K[uc],"\\"===Fc)lc+=K.substring(Gc,uc),lc+=K.substring(++uc,++uc),Gc=uc;else if(Fc===Va)S(),Va=null,Vb=-1;else if(!Va)if(Gc===Vb&&'"'===Fc)Gc=uc+1,Va=Fc;else if(Gc===Vb&&"'"===Fc)Gc=uc+1,Va=Fc;else if("."===Fc&&!Vb)uc>Gc?S():Gc=uc+1;else if("["===Fc)uc>Gc&&S(),Vb=Gc=uc+1;else if("]"===Fc){if(!Vb)throw Error("Access path missing open bracket: "+K);0<Vb&&S();Vb=0;Gc=uc+1}if(Vb)throw Error("Access path missing closing bracket: "+
K);if(Va)throw Error("Access path missing closing quote: "+K);uc>Gc&&(uc++,S());return ua}function hb(K,S){var ua={},Ka;for(Ka in K)Object.prototype.hasOwnProperty.call(K,Ka)&&0>S.indexOf(Ka)&&(ua[Ka]=K[Ka]);if(null!=K&&"function"===typeof Object.getOwnPropertySymbols){var Va=0;for(Ka=Object.getOwnPropertySymbols(K);Va<Ka.length;Va++)0>S.indexOf(Ka[Va])&&Object.prototype.propertyIsEnumerable.call(K,Ka[Va])&&(ua[Ka[Va]]=K[Ka[Va]])}return ua}function cb(K,S,ua){if(Se(K))return`[${K.map(Va=>S("string"===
typeof Va?Va:JSON.stringify(Va,ob(ua)))).join(", ")}]`;if(K===Object(K)){let Va="";const {title:Vb,image:lc}=K;K=hb(K,["title","image"]);Vb&&(Va+=`<h2>${S(Vb)}</h2>`);lc&&(Va+=`<img src="${S(lc)}">`);var Ka=Object.keys(K);if(0<Ka.length){Va+="\x3ctable\x3e";for(const Gc of Ka)Ka=K[Gc],void 0!==Ka&&(Ka===Object(Ka)&&(Ka=JSON.stringify(Ka,ob(ua))),Va+=`<tr><td class="key">${S(Gc)}:</td><td class="value">${S(Ka)}</td></tr>`);Va+="\x3c/table\x3e"}return Va||"{}"}return S(K)}function ob(K){const S=[];
return function(ua,Ka){if("object"!==typeof Ka||null===Ka)return Ka;ua=S.indexOf(this)+1;S.length=ua;if(S.length>K)return"[Object]";if(0<=S.indexOf(Ka))return"[Circular]";S.push(Ka);return Ka}}function $a(K,S,ua){function Ka(uc){uc.source===Vb&&(Gc=0,K.removeEventListener("message",Ka,!1))}function Va(){0>=Gc||(Vb.postMessage(ua,lc),setTimeout(Va,250),--Gc)}var Vb=K.open(S),lc=(new URL(S)).origin,Gc=40;K.addEventListener("message",Ka,!1);setTimeout(Va,250)}function Q(K){for(var S=[],ua=1;ua<arguments.length;ua++)S[ua-
1]=arguments[ua];for(ua=0;ua<S.length;ua++)for(var Ka=K,Va=S[ua],Vb=0,lc=Object.keys(Va);Vb<lc.length;Vb++){var Gc=lc[Vb];x.writeConfig(Ka,Gc,Va[Gc],!0)}return K}function H(K,S,ua,Ka){S="\x3chtml\x3e\x3chead\x3e"+S+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';ua="\x3c/code\x3e\x3c/pre\x3e"+ua+"\x3c/body\x3e\x3c/html\x3e";var Va=window.open("");Va.document.write(S+K+ua);Va.document.title=Cf[Ka]+" JSON Source"}function T(K,S){var ua;return K.$schema?(K=ja(K.$schema),S&&S!==K.library&&
console.warn("The given visualization spec is written in "+Cf[K.library]+", but mode argument sets "+(null!==(ua=Cf[S])&&void 0!==ua?ua:S)+"."),S=K.library,Ad.satisfies(kf[S],"^"+K.version.slice(1))||console.warn("The input spec uses "+Cf[S]+" "+K.version+", but the current version of "+Cf[S]+" is v"+kf[S]+"."),S):"mark"in K||"encoding"in K||"layer"in K||"hconcat"in K||"vconcat"in K||"facet"in K||"repeat"in K?"vega-lite":"marks"in K||"signals"in K||"scales"in K||"axes"in K?"vega":null!==S&&void 0!==
S?S:"vega"}function na(K,S,ua){var Ka,Va,Vb;void 0===ua&&(ua={});return Wb(this,void 0,void 0,function(){var lc,Gc,uc,Fc,id,fd,se,xd;return fb(this,function(zd){switch(zd.label){case 0:lc=(zd=ua.loader)&&"load"in zd?ua.loader:Xd.loader(ua.loader);if(!x.isString(S))return[3,2];id=(Fc=JSON).parse;return[4,lc.load(S)];case 1:return uc=id.apply(Fc,[zd.sent()]),[3,3];case 2:uc=S,zd.label=3;case 3:return Gc=uc,[4,O(null!==(Ka=Gc.usermeta&&Gc.usermeta.embedOptions)&&void 0!==Ka?Ka:{},lc)];case 4:return fd=
zd.sent(),[4,O(ua,lc)];case 5:return se=zd.sent(),xd=U(U({},Q(se,fd)),{config:x.mergeConfig(null!==(Va=se.config)&&void 0!==Va?Va:{},null!==(Vb=fd.config)&&void 0!==Vb?Vb:{})}),[4,ea(K,Gc,xd,lc)];case 6:return[2,zd.sent()]}})})}function O(K,S){var ua;return Wb(this,void 0,void 0,function(){var Ka,Va,Vb,lc,Gc,uc,Fc,id;return fb(this,function(fd){switch(fd.label){case 0:if(!x.isString(K.config))return[3,2];lc=(Vb=JSON).parse;return[4,S.load(K.config)];case 1:return Va=lc.apply(Vb,[fd.sent()]),[3,3];
case 2:Va=null!==(ua=K.config)&&void 0!==ua?ua:{},fd.label=3;case 3:Ka=Va;if(!x.isString(K.patch))return[3,5];id=(Fc=JSON).parse;return[4,S.load(K.patch)];case 4:return uc=id.apply(Fc,[fd.sent()]),[3,6];case 5:uc=K.patch,fd.label=6;case 6:return Gc=uc,[2,U(U(U({},K),Gc?{patch:Gc}:{}),Ka?{config:Ka}:{})]}})})}function W(K){var S;K=K.getRootNode?K.getRootNode():document;return K instanceof ShadowRoot?{root:K,rootContainer:K}:{root:document,rootContainer:null!==(S=document.head)&&void 0!==S?S:document.body}}
function ea(K,S,ua,Ka){var Va,Vb,lc,Gc,uc,Fc;void 0===ua&&(ua={});return Wb(this,void 0,void 0,function(){function id(){Kc&&document.removeEventListener("click",Kc);kb.finalize()}var fd,se,xd,zd,le,Te,Me,uf,Zf,pd,Ue,Le,Ze,$f,vf,ag,df,J,da,kb,Pb,Mb,ac,ic,Qc,Kc,ad,ud,Nd,Td,Bd,af,Pd,Fe,he,ze,Sf,be;return fb(this,function(wf){switch(wf.label){case 0:fd=ua.theme?x.mergeConfig(Jf[ua.theme],null!==(Va=ua.config)&&void 0!==Va?Va:{}):ua.config;se=x.isBoolean(ua.actions)?ua.actions:Q({},pe,null!==(Vb=ua.actions)&&
void 0!==Vb?Vb:{});xd=U(U({},Ke),ua.i18n);zd=null!==(lc=ua.renderer)&&void 0!==lc?lc:"canvas";le=null!==(Gc=ua.logLevel)&&void 0!==Gc?Gc:Xd.Warn;Te=null!==(uc=ua.downloadFileName)&&void 0!==uc?uc:"visualization";Me="string"===typeof K?document.querySelector(K):K;if(!Me)throw Error(K+" does not exist");!1!==ua.defaultStyle&&(uf=W(Me),Zf=uf.root,pd=uf.rootContainer,Zf.getElementById("vega-embed-style")||(Ue=document.createElement("style"),Ue.id="vega-embed-style",Ue.innerText=void 0===ua.defaultStyle||
!0===ua.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
ua.defaultStyle,pd.appendChild(Ue)));Le=T(S,ua.mode);Ze=tf[Le](S,fd);"vega-lite"===Le&&Ze.$schema&&($f=ja(Ze.$schema),Ad.satisfies(kf.vega,"^"+$f.version.slice(1))||console.warn("The compiled spec uses Vega "+$f.version+", but current version is v"+kf.vega+"."));Me.classList.add("vega-embed");se&&Me.classList.add("has-actions");Me.innerHTML="";vf=Me;se&&(ag=document.createElement("div"),ag.classList.add("chart-wrapper"),Me.appendChild(ag),vf=ag);(df=ua.patch)&&(Ze=df instanceof Function?df(Ze):Ya(Ze,
df,!0,!1).newDocument);ua.formatLocale&&Xd.formatLocale(ua.formatLocale);ua.timeFormatLocale&&Xd.timeFormatLocale(ua.timeFormatLocale);J=ua.ast;da=Xd.parse(Ze,"vega-lite"===Le?{}:fd,{ast:J});kb=new Xd.View(da,U({loader:Ka,logLevel:le,renderer:zd},J?{expr:Xd.expressionInterpreter}:{}));!1!==ua.tooltip&&(Pb=void 0,Pb="function"===typeof ua.tooltip?ua.tooltip:(new Ac(!0===ua.tooltip?{}:ua.tooltip)).call,kb.tooltip(Pb));Mb=ua.hover;void 0===Mb&&(Mb="vega"===Le);Mb&&(ac="boolean"===typeof Mb?{}:Mb,ic=
ac.hoverSet,Qc=ac.updateSet,kb.hover(ic,Qc));ua&&(null!=ua.width&&kb.width(ua.width),null!=ua.height&&kb.height(ua.height),null!=ua.padding&&kb.padding(ua.padding));return[4,kb.initialize(vf,ua.bind).runAsync()];case 1:wf.sent();if(!1!==se){ad=Me;!1!==ua.defaultStyle&&(ud=document.createElement("details"),ud.title=xd.CLICK_TO_VIEW_ACTIONS,Me.append(ud),ad=ud,Nd=document.createElement("summary"),Nd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
ud.append(Nd),Kc=function(Ce){ud.contains(Ce.target)||ud.removeAttribute("open")},document.addEventListener("click",Kc));Td=document.createElement("div");ad.append(Td);Td.classList.add("vega-actions");if(!0===se||!1!==se["export"])for(Bd=function(Ce){if(!0===se||!0===se["export"]||se["export"][Ce]){var Kf=xd[Ce.toUpperCase()+"_ACTION"],ef=document.createElement("a");ef.text=Kf;ef.href="#";ef.target="_blank";ef.download=Te+"."+Ce;ef.addEventListener("mousedown",function(gg){return Wb(this,void 0,void 0,
function(){var M;return fb(this,function(N){switch(N.label){case 0:return gg.preventDefault(),[4,kb.toImageURL(Ce,ua.scaleFactor)];case 1:return this.href=M=N.sent(),[2]}})})});Td.append(ef)}},af=0,Pd=["svg","png"];af<Pd.length;af++)Fe=Pd[af],Bd(Fe);if(!0===se||!1!==se.source)he=document.createElement("a"),he.text=xd.SOURCE_ACTION,he.href="#",he.addEventListener("click",function(Ce){var Kf,ef;H(fa(S),null!==(Kf=ua.sourceHeader)&&void 0!==Kf?Kf:"",null!==(ef=ua.sourceFooter)&&void 0!==ef?ef:"",Le);
Ce.preventDefault()}),Td.append(he);"vega-lite"!==Le||!0!==se&&!1===se.compiled||(ze=document.createElement("a"),ze.text=xd.COMPILED_ACTION,ze.href="#",ze.addEventListener("click",function(Ce){var Kf,ef;H(fa(Ze),null!==(Kf=ua.sourceHeader)&&void 0!==Kf?Kf:"",null!==(ef=ua.sourceFooter)&&void 0!==ef?ef:"","vega");Ce.preventDefault()}),Td.append(ze));if(!0===se||!1!==se.editor)Sf=null!==(Fc=ua.editorUrl)&&void 0!==Fc?Fc:"https://vega.github.io/editor/",be=document.createElement("a"),be.text=xd.EDITOR_ACTION,
be.href="#",be.addEventListener("click",function(Ce){$a(window,Sf,{config:fd,mode:Le,renderer:zd,spec:fa(S)});Ce.preventDefault()}),Td.append(be)}return[2,{view:kb,spec:S,vgSpec:Ze,finalize:id}]}})})}function pa(K,S){var ua;void 0===S&&(S={});return Wb(this,void 0,void 0,function(){var Ka,Va,Vb,lc;return fb(this,function(Gc){switch(Gc.label){case 0:return Ka=document.createElement("div"),Ka.classList.add("vega-embed-wrapper"),Va=document.createElement("div"),Ka.appendChild(Va),Vb=!0===S.actions||
!1===S.actions?S.actions:U({"export":!0,source:!1,compiled:!0,editor:!0},null!==(ua=S.actions)&&void 0!==ua?ua:{}),[4,na(Va,K,U({actions:Vb},null!==S&&void 0!==S?S:{}))];case 1:return lc=Gc.sent(),Ka.value=lc.view,[2,Ka]}})})}var Ua=Sa(x),db=Sa(ca),U=function(){U=Object.assign||function(K){for(var S,ua=1,Ka=arguments.length;ua<Ka;ua++){S=arguments[ua];for(var Va in S)Object.prototype.hasOwnProperty.call(S,Va)&&(K[Va]=S[Va])}return K};return U.apply(this,arguments)},va=function(){var K=function(S,
ua){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ka,Va){Ka.__proto__=Va}||function(Ka,Va){for(var Vb in Va)Va.hasOwnProperty(Vb)&&(Ka[Vb]=Va[Vb])};return K(S,ua)};return function(S,ua){function Ka(){this.constructor=S}K(S,ua);S.prototype=null===ua?Object.create(ua):(Ka.prototype=ua.prototype,new Ka)}}(),xa=Object.prototype.hasOwnProperty,ma=function(K){function S(ua,Ka,Va,Vb,lc){var Gc=this.constructor,uc=K.call(this,Wa(ua,{name:Ka,index:Va,operation:Vb,tree:lc}))||this;uc.name=
Ka;uc.index=Va;uc.operation=Vb;uc.tree=lc;Object.setPrototypeOf(uc,Gc.prototype);uc.message=Wa(ua,{name:Ka,index:Va,operation:Vb,tree:lc});return uc}va(S,K);return S}(Error),R=ma,v={add:function(K,S,ua){K[S]=this.value;return{newDocument:ua}},remove:function(K,S,ua){var Ka=K[S];delete K[S];return{newDocument:ua,removed:Ka}},replace:function(K,S,ua){var Ka=K[S];K[S]=this.value;return{newDocument:ua,removed:Ka}},move:function(K,S,ua){(K=Ha(ua,this.path))&&(K=Qb(K));S=Ia(ua,{op:"remove",path:this.from}).removed;
Ia(ua,{op:"add",path:this.path,value:S});return{newDocument:ua,removed:K}},copy:function(K,S,ua){K=Ha(ua,this.from);Ia(ua,{op:"add",path:this.path,value:Qb(K)});return{newDocument:ua}},test:function(K,S,ua){return{newDocument:ua,test:Ga(K[S],this.value)}},_get:function(K,S,ua){this.value=K[S];return{newDocument:ua}}},w={add:function(K,S,ua){Bb(S)?K.splice(S,0,this.value):K[S]=this.value;return{newDocument:ua,index:S}},remove:function(K,S,ua){K=K.splice(S,1);return{newDocument:ua,removed:K[0]}},replace:function(K,
S,ua){var Ka=K[S];K[S]=this.value;return{newDocument:ua,removed:Ka}},move:v.move,copy:v.copy,test:v.test,_get:v._get},p=Object.freeze({__proto__:null,JsonPatchError:R,deepClone:Qb,getValueByPointer:Ha,applyOperation:Ia,applyPatch:Ya,applyReducer:function(K,S,ua){var Ka=Ia(K,S);if(!1===Ka.test)throw new R("Test operation failed","TEST_OPERATION_FAILED",ua,S,K);return Ka.newDocument},validator:mb,validate:Ea,_areEquals:Ga}),r=new WeakMap,C=function(){return function(K){this.observers=new Map;this.obj=
K}}(),D=function(){return function(K,S){this.callback=K;this.observer=S}}(),G=Object.freeze({__proto__:null,unobserve:function(K,S){S.unobserve()},observe:function(K,S){var ua=r.get(K);if(ua){var Ka=ua.observers.get(S);var Va=Ka&&Ka.observer}else ua=new C(K),r.set(K,ua);if(Va)return Va;Va={};ua.value=Qb(K);if(S){Va.callback=S;Va.next=null;var Vb=function(){jb(Va)},lc=function(){clearTimeout(Va.next);Va.next=setTimeout(Vb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",lc),window.addEventListener("keyup",
lc),window.addEventListener("mousedown",lc),window.addEventListener("keydown",lc),window.addEventListener("change",lc))}Va.patches=[];Va.object=K;Va.unobserve=function(){jb(Va);clearTimeout(Va.next);ua.observers.delete(Va.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",lc),window.removeEventListener("keyup",lc),window.removeEventListener("mousedown",lc),window.removeEventListener("keydown",lc),window.removeEventListener("change",lc))};ua.observers.set(S,new D(S,Va));return Va},
generate:jb,compare:function(K,S,ua){void 0===ua&&(ua=!1);var Ka=[];Ca(K,S,Ka,"",ua);return Ka}});Object.assign({},p,G,{JsonPatchError:ma,deepClone:Qb,escapePathComponent:bb,unescapePathComponent:qb});var B=/("(?:[^\\"]|\\.)*")|[:,]/g,fa=function(K,S){S=S||{};var ua=JSON.stringify([1],void 0,void 0===S.indent?2:S.indent).slice(2,-3);var Ka=""===ua?Infinity:void 0===S.maxLength?80:S.maxLength;var Va=S.replacer;return function Fc(lc,Gc,uc){lc&&"function"===typeof lc.toJSON&&(lc=lc.toJSON());var id=
JSON.stringify(lc,Va);if(void 0===id)return id;uc=Ka-Gc.length-uc;if(id.length<=uc){var fd=id.replace(B,function(Zf,pd){return pd||Zf+" "});if(fd.length<=uc)return fd}null!=Va&&(lc=JSON.parse(id),Va=void 0);if("object"===typeof lc&&null!==lc){var se=Gc+ua;var xd=[];var zd=0;if(Array.isArray(lc)){var le="[";fd="]";for(uc=lc.length;zd<uc;zd++)xd.push(Fc(lc[zd],se,zd===uc-1?0:1)||"null")}else{le="{";fd="}";var Te=Object.keys(lc);for(uc=Te.length;zd<uc;zd++){var Me=Te[zd];var uf=JSON.stringify(Me)+": ";
Me=Fc(lc[Me],se,uf.length+(zd===uc-1?0:1));void 0!==Me&&xd.push(uf+Me)}}if(0<xd.length)return[le,ua+xd.join(",\n"+se),fd].join("\n"+Gc)}return id}(K,"",0)},wa={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},la="object"===typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...K)=>console.error("SEMVER",...K):()=>{},Ta=function(K){var S={exports:{}};return K(S,S.exports),S.exports}(function(K,S){const {MAX_SAFE_COMPONENT_LENGTH:ua}=
wa;S=K.exports={};const Ka=S.re=[],Va=S.src=[],Vb=S.t={};let lc=0;K=(Gc,uc,Fc)=>{const id=lc++;la(id,uc);Vb[Gc]=id;Va[id]=uc;Ka[id]=new RegExp(uc,Fc?"g":void 0)};K("NUMERICIDENTIFIER","0|[1-9]\\d*");K("NUMERICIDENTIFIERLOOSE","[0-9]+");K("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");K("MAINVERSION",`(${Va[Vb.NUMERICIDENTIFIER]})\\.`+`(${Va[Vb.NUMERICIDENTIFIER]})\\.`+`(${Va[Vb.NUMERICIDENTIFIER]})`);K("MAINVERSIONLOOSE",`(${Va[Vb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${Va[Vb.NUMERICIDENTIFIERLOOSE]})\\.`+
`(${Va[Vb.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASEIDENTIFIER",`(?:${Va[Vb.NUMERICIDENTIFIER]}|${Va[Vb.NONNUMERICIDENTIFIER]})`);K("PRERELEASEIDENTIFIERLOOSE",`(?:${Va[Vb.NUMERICIDENTIFIERLOOSE]}|${Va[Vb.NONNUMERICIDENTIFIER]})`);K("PRERELEASE",`(?:-(${Va[Vb.PRERELEASEIDENTIFIER]}(?:\\.${Va[Vb.PRERELEASEIDENTIFIER]})*))`);K("PRERELEASELOOSE",`(?:-?(${Va[Vb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Va[Vb.PRERELEASEIDENTIFIERLOOSE]})*))`);K("BUILDIDENTIFIER","[0-9A-Za-z-]+");K("BUILD",`(?:\\+(${Va[Vb.BUILDIDENTIFIER]}(?:\\.${Va[Vb.BUILDIDENTIFIER]})*))`);
K("FULLPLAIN",`v?${Va[Vb.MAINVERSION]}${Va[Vb.PRERELEASE]}?${Va[Vb.BUILD]}?`);K("FULL",`^${Va[Vb.FULLPLAIN]}$`);K("LOOSEPLAIN",`[v=\\s]*${Va[Vb.MAINVERSIONLOOSE]}${Va[Vb.PRERELEASELOOSE]}?${Va[Vb.BUILD]}?`);K("LOOSE",`^${Va[Vb.LOOSEPLAIN]}$`);K("GTLT","((?:\x3c|\x3e)?\x3d?)");K("XRANGEIDENTIFIERLOOSE",`${Va[Vb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);K("XRANGEIDENTIFIER",`${Va[Vb.NUMERICIDENTIFIER]}|x|X|\\*`);K("XRANGEPLAIN",`[v=\\s]*(${Va[Vb.XRANGEIDENTIFIER]})`+`(?:\\.(${Va[Vb.XRANGEIDENTIFIER]})`+`(?:\\.(${Va[Vb.XRANGEIDENTIFIER]})`+
`(?:${Va[Vb.PRERELEASE]})?${Va[Vb.BUILD]}?`+")?)?");K("XRANGEPLAINLOOSE",`[v=\\s]*(${Va[Vb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Va[Vb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Va[Vb.XRANGEIDENTIFIERLOOSE]})`+`(?:${Va[Vb.PRERELEASELOOSE]})?${Va[Vb.BUILD]}?`+")?)?");K("XRANGE",`^${Va[Vb.GTLT]}\\s*${Va[Vb.XRANGEPLAIN]}$`);K("XRANGELOOSE",`^${Va[Vb.GTLT]}\\s*${Va[Vb.XRANGEPLAINLOOSE]}$`);K("COERCE",`${"(^|[^\\d])(\\d{1,"}${ua}})`+`(?:\\.(\\d{1,${ua}}))?`+`(?:\\.(\\d{1,${ua}}))?`+"(?:$|[^\\d])");K("COERCERTL",
Va[Vb.COERCE],!0);K("LONETILDE","(?:~\x3e?)");K("TILDETRIM",`(\\s*)${Va[Vb.LONETILDE]}\\s+`,!0);S.tildeTrimReplace="$1~";K("TILDE",`^${Va[Vb.LONETILDE]}${Va[Vb.XRANGEPLAIN]}$`);K("TILDELOOSE",`^${Va[Vb.LONETILDE]}${Va[Vb.XRANGEPLAINLOOSE]}$`);K("LONECARET","(?:\\^)");K("CARETTRIM",`(\\s*)${Va[Vb.LONECARET]}\\s+`,!0);S.caretTrimReplace="$1^";K("CARET",`^${Va[Vb.LONECARET]}${Va[Vb.XRANGEPLAIN]}$`);K("CARETLOOSE",`^${Va[Vb.LONECARET]}${Va[Vb.XRANGEPLAINLOOSE]}$`);K("COMPARATORLOOSE",`^${Va[Vb.GTLT]}\\s*(${Va[Vb.LOOSEPLAIN]})$|^$`);
K("COMPARATOR",`^${Va[Vb.GTLT]}\\s*(${Va[Vb.FULLPLAIN]})$|^$`);K("COMPARATORTRIM",`(\\s*)${Va[Vb.GTLT]}\\s*(${Va[Vb.LOOSEPLAIN]}|${Va[Vb.XRANGEPLAIN]})`,!0);S.comparatorTrimReplace="$1$2$3";K("HYPHENRANGE",`^\\s*(${Va[Vb.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${Va[Vb.XRANGEPLAIN]})`+"\\s*$");K("HYPHENRANGELOOSE",`^\\s*(${Va[Vb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${Va[Vb.XRANGEPLAINLOOSE]})`+"\\s*$");K("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");K("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");K("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});
const Ja=["includePrerelease","loose","rtl"];var Z=K=>K?"object"!==typeof K?{loose:!0}:Ja.filter(S=>K[S]).reduce((S,ua)=>{S[ua]=!0;return S},{}):{};const sa=/^[0-9]+$/,eb=(K,S)=>{const ua=sa.test(K),Ka=sa.test(S);ua&&Ka&&(K=+K,S=+S);return K===S?0:ua&&!Ka?-1:Ka&&!ua?1:K<S?-1:1};var xb={compareIdentifiers:eb,rcompareIdentifiers:(K,S)=>eb(S,K)};const {MAX_LENGTH:Kb,MAX_SAFE_INTEGER:ec}=wa,{re:Ec,t:gd}=Ta,{compareIdentifiers:Dc}=xb;class Sc{constructor(K,S){S=Z(S);if(K instanceof Sc){if(K.loose===!!S.loose&&
K.includePrerelease===!!S.includePrerelease)return K;K=K.version}else if("string"!==typeof K)throw new TypeError(`Invalid Version: ${K}`);if(K.length>Kb)throw new TypeError(`version is longer than ${Kb} characters`);la("SemVer",K,S);this.options=S;this.loose=!!S.loose;this.includePrerelease=!!S.includePrerelease;S=K.trim().match(S.loose?Ec[gd.LOOSE]:Ec[gd.FULL]);if(!S)throw new TypeError(`Invalid Version: ${K}`);this.raw=K;this.major=+S[1];this.minor=+S[2];this.patch=+S[3];if(this.major>ec||0>this.major)throw new TypeError("Invalid major version");
if(this.minor>ec||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>ec||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=S[4]?S[4].split(".").map(ua=>{if(/^[0-9]+$/.test(ua)){const Ka=+ua;if(0<=Ka&&Ka<ec)return Ka}return ua}):[];this.build=S[5]?S[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(K){la("SemVer.compare",
this.version,this.options,K);if(!(K instanceof Sc)){if("string"===typeof K&&K===this.version)return 0;K=new Sc(K,this.options)}return K.version===this.version?0:this.compareMain(K)||this.comparePre(K)}compareMain(K){K instanceof Sc||(K=new Sc(K,this.options));return Dc(this.major,K.major)||Dc(this.minor,K.minor)||Dc(this.patch,K.patch)}comparePre(K){K instanceof Sc||(K=new Sc(K,this.options));if(this.prerelease.length&&!K.prerelease.length)return-1;if(!this.prerelease.length&&K.prerelease.length)return 1;
if(!this.prerelease.length&&!K.prerelease.length)return 0;let S=0;do{const ua=this.prerelease[S],Ka=K.prerelease[S];la("prerelease compare",S,ua,Ka);if(void 0===ua&&void 0===Ka)return 0;if(void 0===Ka)return 1;if(void 0===ua)return-1;if(ua!==Ka)return Dc(ua,Ka)}while(++S)}compareBuild(K){K instanceof Sc||(K=new Sc(K,this.options));let S=0;do{const ua=this.build[S],Ka=K.build[S];la("prerelease compare",S,ua,Ka);if(void 0===ua&&void 0===Ka)return 0;if(void 0===Ka)return 1;if(void 0===ua)return-1;if(ua!==
Ka)return Dc(ua,Ka)}while(++S)}inc(K,S){switch(K){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",S);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",S);break;case "prepatch":this.prerelease.length=0;this.inc("patch",S);this.inc("pre",S);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",S);this.inc("pre",S);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=
this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(K=this.prerelease.length;0<=--K;)"number"===typeof this.prerelease[K]&&(this.prerelease[K]++,K=-2);-1===K&&this.prerelease.push(0)}S&&(this.prerelease[0]===S?isNaN(this.prerelease[1])&&(this.prerelease=[S,0]):
this.prerelease=[S,0]);break;default:throw Error(`invalid increment argument: ${K}`);}this.format();this.raw=this.version;return this}}var Ra=Sc;const {MAX_LENGTH:nc}=wa,{re:kc,t:wc}=Ta;var Pc=(K,S)=>{S=Z(S);if(K instanceof Ra)return K;if("string"!==typeof K||K.length>nc||!(S.loose?kc[wc.LOOSE]:kc[wc.FULL]).test(K))return null;try{return new Ra(K,S)}catch(ua){return null}},rc=(K,S,ua)=>(new Ra(K,ua)).compare(new Ra(S,ua)),Xc=(K,S,ua)=>{K=new Ra(K,ua);S=new Ra(S,ua);return K.compare(S)||K.compareBuild(S)},
$c=(K,S,ua)=>0<rc(K,S,ua),Nc=(K,S,ua)=>0>rc(K,S,ua),Dd=(K,S,ua)=>0<=rc(K,S,ua),we=(K,S,ua)=>0>=rc(K,S,ua),ld=(K,S,ua,Ka)=>{switch(S){case "\x3d\x3d\x3d":return"object"===typeof K&&(K=K.version),"object"===typeof ua&&(ua=ua.version),K===ua;case "!\x3d\x3d":return"object"===typeof K&&(K=K.version),"object"===typeof ua&&(ua=ua.version),K!==ua;case "":case "\x3d":case "\x3d\x3d":return 0===rc(K,ua,Ka);case "!\x3d":return 0!==rc(K,ua,Ka);case "\x3e":return 0<rc(K,ua,Ka);case "\x3e\x3d":return 0<=rc(K,
ua,Ka);case "\x3c":return 0>rc(K,ua,Ka);case "\x3c\x3d":return 0>=rc(K,ua,Ka);default:throw new TypeError(`Invalid operator: ${S}`);}};const {re:sd,t:ge}=Ta;var La=function(K){K.prototype[Symbol.iterator]=function*(){for(let S=this.head;S;S=S.next)yield S.value}};ab.Node=Ma;ab.create=ab;ab.prototype.removeNode=function(K){if(K.list!==this)throw Error("removing node which does not belong to this list");var S=K.next,ua=K.prev;S&&(S.prev=ua);ua&&(ua.next=S);K===this.head&&(this.head=S);K===this.tail&&
(this.tail=ua);K.list.length--;K.next=null;K.prev=null;K.list=null;return S};ab.prototype.unshiftNode=function(K){if(K!==this.head){K.list&&K.list.removeNode(K);var S=this.head;K.list=this;if(K.next=S)S.prev=K;this.head=K;this.tail||(this.tail=K);this.length++}};ab.prototype.pushNode=function(K){if(K!==this.tail){K.list&&K.list.removeNode(K);var S=this.tail;K.list=this;if(K.prev=S)S.next=K;this.tail=K;this.head||(this.head=K);this.length++}};ab.prototype.push=function(){for(var K=0,S=arguments.length;K<
S;K++)this.tail=new Ma(arguments[K],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};ab.prototype.unshift=function(){for(var K=0,S=arguments.length;K<S;K++)this.head=new Ma(arguments[K],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};ab.prototype.pop=function(){if(this.tail){var K=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return K}};ab.prototype.shift=function(){if(this.head){var K=
this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return K}};ab.prototype.forEach=function(K,S){S=S||this;for(var ua=this.head,Ka=0;null!==ua;Ka++)K.call(S,ua.value,Ka,this),ua=ua.next};ab.prototype.forEachReverse=function(K,S){S=S||this;for(var ua=this.tail,Ka=this.length-1;null!==ua;Ka--)K.call(S,ua.value,Ka,this),ua=ua.prev};ab.prototype.get=function(K){for(var S=0,ua=this.head;null!==ua&&S<K;S++)ua=ua.next;if(S===K&&null!==ua)return ua.value};ab.prototype.getReverse=
function(K){for(var S=0,ua=this.tail;null!==ua&&S<K;S++)ua=ua.prev;if(S===K&&null!==ua)return ua.value};ab.prototype.map=function(K,S){S=S||this;for(var ua=new ab,Ka=this.head;null!==Ka;)ua.push(K.call(S,Ka.value,this)),Ka=Ka.next;return ua};ab.prototype.mapReverse=function(K,S){S=S||this;for(var ua=new ab,Ka=this.tail;null!==Ka;)ua.push(K.call(S,Ka.value,this)),Ka=Ka.prev;return ua};ab.prototype.reduce=function(K,S){var ua=this.head;if(1<arguments.length)var Ka=S;else if(this.head)ua=this.head.next,
Ka=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Va=0;null!==ua;Va++)Ka=K(Ka,ua.value,Va),ua=ua.next;return Ka};ab.prototype.reduceReverse=function(K,S){var ua=this.tail;if(1<arguments.length)var Ka=S;else if(this.tail)ua=this.tail.prev,Ka=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Va=this.length-1;null!==ua;Va--)Ka=K(Ka,ua.value,Va),ua=ua.prev;return Ka};ab.prototype.toArray=function(){for(var K=
Array(this.length),S=0,ua=this.head;null!==ua;S++)K[S]=ua.value,ua=ua.next;return K};ab.prototype.toArrayReverse=function(){for(var K=Array(this.length),S=0,ua=this.tail;null!==ua;S++)K[S]=ua.value,ua=ua.prev;return K};ab.prototype.slice=function(K,S){S=S||this.length;0>S&&(S+=this.length);K=K||0;0>K&&(K+=this.length);var ua=new ab;if(S<K||0>S)return ua;0>K&&(K=0);S>this.length&&(S=this.length);for(var Ka=0,Va=this.head;null!==Va&&Ka<K;Ka++)Va=Va.next;for(;null!==Va&&Ka<S;Ka++,Va=Va.next)ua.push(Va.value);
return ua};ab.prototype.sliceReverse=function(K,S){S=S||this.length;0>S&&(S+=this.length);K=K||0;0>K&&(K+=this.length);var ua=new ab;if(S<K||0>S)return ua;0>K&&(K=0);S>this.length&&(S=this.length);for(var Ka=this.length,Va=this.tail;null!==Va&&Ka>S;Ka--)Va=Va.prev;for(;null!==Va&&Ka>K;Ka--,Va=Va.prev)ua.push(Va.value);return ua};ab.prototype.splice=function(K,S,...ua){K>this.length&&(K=this.length-1);0>K&&(K=this.length+K);for(var Ka=0,Va=this.head;null!==Va&&Ka<K;Ka++)Va=Va.next;K=[];for(Ka=0;Va&&
Ka<S;Ka++)K.push(Va.value),Va=this.removeNode(Va);null===Va&&(Va=this.tail);Va!==this.head&&Va!==this.tail&&(Va=Va.prev);for(Ka=0;Ka<ua.length;Ka++)S=Va,Va=ua[Ka],S=S===this.head?new Ma(Va,null,S,this):new Ma(Va,S,S.next,this),null===S.next&&(this.tail=S),null===S.prev&&(this.head=S),this.length++,Va=S;return K};ab.prototype.reverse=function(){for(var K=this.head,S=this.tail,ua=K;null!==ua;ua=ua.prev){var Ka=ua.prev;ua.prev=ua.next;ua.next=Ka}this.head=S;this.tail=K;return this};try{La(ab)}catch(K){}const vb=
Symbol("max"),$b=Symbol("length"),rd=Symbol("lengthCalculator"),vd=Symbol("allowStale"),de=Symbol("maxAge"),oe=Symbol("dispose"),X=Symbol("noDisposeOnSet"),za=Symbol("lruList"),gb=Symbol("cache"),Db=Symbol("updateAgeOnGet"),Zb=()=>1;class Gb{constructor(K){"number"===typeof K&&(K={max:K});K||(K={});if(K.max&&("number"!==typeof K.max||0>K.max))throw new TypeError("max must be a non-negative number");this[vb]=K.max||Infinity;const S=K.length||Zb;this[rd]="function"!==typeof S?Zb:S;this[vd]=K.stale||
!1;if(K.maxAge&&"number"!==typeof K.maxAge)throw new TypeError("maxAge must be a number");this[de]=K.maxAge||0;this[oe]=K.dispose;this[X]=K.noDisposeOnSet||!1;this[Db]=K.updateAgeOnGet||!1;this.reset()}set max(K){if("number"!==typeof K||0>K)throw new TypeError("max must be a non-negative number");this[vb]=K||Infinity;Oa(this)}get max(){return this[vb]}set allowStale(K){this[vd]=!!K}get allowStale(){return this[vd]}set maxAge(K){if("number"!==typeof K)throw new TypeError("maxAge must be a non-negative number");
this[de]=K;Oa(this)}get maxAge(){return this[de]}set lengthCalculator(K){"function"!==typeof K&&(K=Zb);K!==this[rd]&&(this[rd]=K,this[$b]=0,this[za].forEach(S=>{S.length=this[rd](S.value,S.key);this[$b]+=S.length}));Oa(this)}get lengthCalculator(){return this[rd]}get length(){return this[$b]}get itemCount(){return this[za].length}rforEach(K,S){S=S||this;for(let ua=this[za].tail;null!==ua;){const Ka=ua.prev;gc(this,K,ua,S);ua=Ka}}forEach(K,S){S=S||this;for(let ua=this[za].head;null!==ua;){const Ka=
ua.next;gc(this,K,ua,S);ua=Ka}}keys(){return this[za].toArray().map(K=>K.key)}values(){return this[za].toArray().map(K=>K.value)}reset(){this[oe]&&this[za]&&this[za].length&&this[za].forEach(K=>this[oe](K.key,K.value));this[gb]=new Map;this[za]=new ab;this[$b]=0}dump(){return this[za].map(K=>jc(this,K)?!1:{k:K.key,v:K.value,e:K.now+(K.maxAge||0)}).toArray().filter(K=>K)}dumpLru(){return this[za]}set(K,S,ua){if((ua=ua||this[de])&&"number"!==typeof ua)throw new TypeError("maxAge must be a number");
const Ka=ua?Date.now():0,Va=this[rd](S,K);if(this[gb].has(K)){if(Va>this[vb])return rb(this,this[gb].get(K)),!1;const Vb=this[gb].get(K).value;if(this[oe]&&!this[X])this[oe](K,Vb.value);Vb.now=Ka;Vb.maxAge=ua;Vb.value=S;this[$b]+=Va-Vb.length;Vb.length=Va;this.get(K);Oa(this);return!0}ua=new Lb(K,S,Va,Ka,ua);if(ua.length>this[vb]){if(this[oe])this[oe](K,S);return!1}this[$b]+=ua.length;this[za].unshift(ua);this[gb].set(K,this[za].head);Oa(this);return!0}has(K){if(!this[gb].has(K))return!1;K=this[gb].get(K).value;
return!jc(this,K)}get(K){return sc(this,K,!0)}peek(K){return sc(this,K,!1)}pop(){const K=this[za].tail;if(!K)return null;rb(this,K);return K.value}del(K){rb(this,this[gb].get(K))}load(K){this.reset();const S=Date.now();for(let Ka=K.length-1;0<=Ka;Ka--){const Va=K[Ka];var ua=Va.e||0;0===ua?this.set(Va.k,Va.v):(ua-=S,0<ua&&this.set(Va.k,Va.v,ua))}}prune(){this[gb].forEach((K,S)=>sc(this,S,!1))}}const sc=(K,S,ua)=>{if(S=K[gb].get(S)){const Ka=S.value;if(jc(K,Ka)){if(rb(K,S),!K[vd])return}else ua&&(K[Db]&&
(S.value.now=Date.now()),K[za].unshiftNode(S));return Ka.value}},jc=(K,S)=>{if(!S||!S.maxAge&&!K[de])return!1;const ua=Date.now()-S.now;return S.maxAge?ua>S.maxAge:K[de]&&ua>K[de]},Oa=K=>{if(K[$b]>K[vb])for(let S=K[za].tail;K[$b]>K[vb]&&null!==S;){const ua=S.prev;rb(K,S);S=ua}},rb=(K,S)=>{if(S){const ua=S.value;if(K[oe])K[oe](ua.key,ua.value);K[$b]-=ua.length;K[gb].delete(ua.key);K[za].removeNode(S)}};class Lb{constructor(K,S,ua,Ka,Va){this.key=K;this.value=S;this.length=ua;this.now=Ka;this.maxAge=
Va||0}}const gc=(K,S,ua,Ka)=>{let Va=ua.value;jc(K,Va)&&(rb(K,ua),K[vd]||(Va=void 0));Va&&S.call(Ka,Va.value,Va.key,K)};class tc{constructor(K,S){S=Z(S);if(K instanceof tc)return K.loose===!!S.loose&&K.includePrerelease===!!S.includePrerelease?K:new tc(K.raw,S);if(K instanceof Re)return this.raw=K.value,this.set=[[K]],this.format(),this;this.options=S;this.loose=!!S.loose;this.includePrerelease=!!S.includePrerelease;this.raw=K;this.set=K.split(/\s*\|\|\s*/).map(ua=>this.parseRange(ua.trim())).filter(ua=>
ua.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${K}`);if(1<this.set.length)if(K=this.set[0],this.set=this.set.filter(ua=>"\x3c0.0.0-0"!==ua[0].value),0===this.set.length)this.set=[K];else if(1<this.set.length)for(const ua of this.set)if(1===ua.length&&""===ua[0].value){this.set=[ua];break}this.format()}format(){return this.range=this.set.map(K=>K.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(K){K=K.trim();const S=`parseRange:${Object.keys(this.options).join(",")}:${K}`;
var ua=Mc.get(S);if(ua)return ua;ua=this.options.loose;K=K.replace(ua?Hb[yc.HYPHENRANGELOOSE]:Hb[yc.HYPHENRANGE],ye(this.options.includePrerelease));la("hyphen replace",K);K=K.replace(Hb[yc.COMPARATORTRIM],Cc);la("comparator trim",K,Hb[yc.COMPARATORTRIM]);K=K.replace(Hb[yc.TILDETRIM],xc);K=K.replace(Hb[yc.CARETTRIM],Ic);K=K.split(/\s+/).join(" ");const Ka=ua?Hb[yc.COMPARATORLOOSE]:Hb[yc.COMPARATOR];K=K.split(" ").map(Vb=>{var lc=Vb;Vb=this.options;la("comp",lc,Vb);lc=Id(lc,Vb);la("caret",lc);lc=od(lc,
Vb);la("tildes",lc);lc=Wd(lc,Vb);la("xrange",lc);la("replaceStars",lc,Vb);lc=lc.trim().replace(Hb[yc.STAR],"");la("stars",lc);return lc}).join(" ").split(/\s+/).map(Vb=>{var lc=this.options;la("replaceGTE0",Vb,lc);return Vb.trim().replace(Hb[lc.includePrerelease?yc.GTE0PRE:yc.GTE0],"")}).filter(this.options.loose?Vb=>!!Vb.match(Ka):()=>!0).map(Vb=>new Re(Vb,this.options));ua=new Map;for(var Va of K){if("\x3c0.0.0-0"===Va.value)return[Va];ua.set(Va.value,Va)}1<ua.size&&ua.has("")&&ua.delete("");Va=
[...ua.values()];Mc.set(S,Va);return Va}intersects(K,S){if(!(K instanceof tc))throw new TypeError("a Range is required");return this.set.some(ua=>Yc(ua,S)&&K.set.some(Ka=>Yc(Ka,S)&&ua.every(Va=>Ka.every(Vb=>Va.intersects(Vb,S)))))}test(K){if(!K)return!1;if("string"===typeof K)try{K=new Ra(K,this.options)}catch(Vb){return!1}for(let Vb=0;Vb<this.set.length;Vb++){a:{var S=this.set[Vb];var ua=K,Ka=this.options;for(var Va=0;Va<S.length;Va++)if(!S[Va].test(ua)){S=!1;break a}if(ua.prerelease.length&&!Ka.includePrerelease){for(Ka=
0;Ka<S.length;Ka++)if(la(S[Ka].semver),S[Ka].semver!==Re.ANY&&0<S[Ka].semver.prerelease.length&&(Va=S[Ka].semver,Va.major===ua.major&&Va.minor===ua.minor&&Va.patch===ua.patch)){S=!0;break a}S=!1}else S=!0}if(S)return!0}return!1}}var Bc=tc;const Mc=new Gb({max:1E3}),{re:Hb,t:yc,comparatorTrimReplace:Cc,tildeTrimReplace:xc,caretTrimReplace:Ic}=Ta,Yc=(K,S)=>{let ua=!0;K=K.slice();let Ka=K.pop();for(;ua&&K.length;)ua=K.every(Va=>Ka.intersects(Va,S)),Ka=K.pop();return ua},Uc=K=>!K||"x"===K.toLowerCase()||
"*"===K,od=(K,S)=>K.trim().split(/\s+/).map(ua=>qd(ua,S)).join(" "),qd=(K,S)=>K.replace(S.loose?Hb[yc.TILDELOOSE]:Hb[yc.TILDE],(ua,Ka,Va,Vb,lc)=>{la("tilde",K,ua,Ka,Va,Vb,lc);Uc(Ka)?ua="":Uc(Va)?ua=`>=${Ka}.0.0 <${+Ka+1}.0.0-0`:Uc(Vb)?ua=`>=${Ka}.${Va}.0 <${Ka}.${+Va+1}.0-0`:lc?(la("replaceTilde pr",lc),ua=`>=${Ka}.${Va}.${Vb}-${lc} <${Ka}.${+Va+1}.0-0`):ua=`>=${Ka}.${Va}.${Vb} <${Ka}.${+Va+1}.0-0`;la("tilde return",ua);return ua}),Id=(K,S)=>K.trim().split(/\s+/).map(ua=>Ed(ua,S)).join(" "),Ed=(K,
S)=>{la("caret",K,S);const ua=S.includePrerelease?"-0":"";return K.replace(S.loose?Hb[yc.CARETLOOSE]:Hb[yc.CARET],(Ka,Va,Vb,lc,Gc)=>{la("caret",K,Ka,Va,Vb,lc,Gc);Uc(Va)?Ka="":Uc(Vb)?Ka=`>=${Va}.0.0${ua} <${+Va+1}.0.0-0`:Uc(lc)?Ka="0"===Va?`>=${Va}.${Vb}.0${ua} <${Va}.${+Vb+1}.0-0`:`>=${Va}.${Vb}.0${ua} <${+Va+1}.0.0-0`:Gc?(la("replaceCaret pr",Gc),Ka="0"===Va?"0"===Vb?`>=${Va}.${Vb}.${lc}-${Gc} <${Va}.${Vb}.${+lc+1}-0`:`>=${Va}.${Vb}.${lc}-${Gc} <${Va}.${+Vb+1}.0-0`:`>=${Va}.${Vb}.${lc}-${Gc} <${+Va+
1}.0.0-0`):(la("no pr"),Ka="0"===Va?"0"===Vb?`>=${Va}.${Vb}.${lc}${ua} <${Va}.${Vb}.${+lc+1}-0`:`>=${Va}.${Vb}.${lc}${ua} <${Va}.${+Vb+1}.0-0`:`>=${Va}.${Vb}.${lc} <${+Va+1}.0.0-0`);la("caret return",Ka);return Ka})},Wd=(K,S)=>{la("replaceXRanges",K,S);return K.split(/\s+/).map(ua=>me(ua,S)).join(" ")},me=(K,S)=>{K=K.trim();return K.replace(S.loose?Hb[yc.XRANGELOOSE]:Hb[yc.XRANGE],(ua,Ka,Va,Vb,lc,Gc)=>{la("xRange",K,ua,Ka,Va,Vb,lc,Gc);const uc=Uc(Va),Fc=uc||Uc(Vb);lc=Fc||Uc(lc);"\x3d"===Ka&&lc&&(Ka=
"");Gc=S.includePrerelease?"-0":"";uc?ua="\x3e"===Ka||"\x3c"===Ka?"\x3c0.0.0-0":"*":Ka&&lc?(Fc&&(Vb=0),lc=0,"\x3e"===Ka?(Ka="\x3e\x3d",Fc?(Va=+Va+1,Vb=0):Vb=+Vb+1,lc=0):"\x3c\x3d"===Ka&&(Ka="\x3c",Fc?Va=+Va+1:Vb=+Vb+1),"\x3c"===Ka&&(Gc="-0"),ua=`${Ka+Va}.${Vb}.${lc}${Gc}`):Fc?ua=`>=${Va}.0.0${Gc} <${+Va+1}.0.0-0`:lc&&(ua=`>=${Va}.${Vb}.0${Gc} <${Va}.${+Vb+1}.0-0`);la("xRange return",ua);return ua})},ye=K=>(S,ua,Ka,Va,Vb,lc,Gc,uc,Fc,id,fd,se,xd)=>{ua=Uc(Ka)?"":Uc(Va)?`>=${Ka}.0.0${K?"-0":""}`:Uc(Vb)?
`>=${Ka}.${Va}.0${K?"-0":""}`:lc?`>=${ua}`:`>=${ua}${K?"-0":""}`;uc=Uc(Fc)?"":Uc(id)?`<${+Fc+1}.0.0-0`:Uc(fd)?`<${Fc}.${+id+1}.0-0`:se?`<=${Fc}.${id}.${fd}-${se}`:K?`<${Fc}.${id}.${+fd+1}-0`:`<=${uc}`;return`${ua} ${uc}`.trim()},Ye=Symbol("SemVer ANY");class Qe{static get ANY(){return Ye}constructor(K,S){S=Z(S);if(K instanceof Qe){if(K.loose===!!S.loose)return K;K=K.value}la("comparator",K,S);this.options=S;this.loose=!!S.loose;this.parse(K);this.value=this.semver===Ye?"":this.operator+this.semver.version;
la("comp",this)}parse(K){const S=K.match(this.options.loose?Fd[ee.COMPARATORLOOSE]:Fd[ee.COMPARATOR]);if(!S)throw new TypeError(`Invalid comparator: ${K}`);this.operator=void 0!==S[1]?S[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=S[2]?new Ra(S[2],this.options.loose):Ye}toString(){return this.value}test(K){la("Comparator.test",K,this.options.loose);if(this.semver===Ye||K===Ye)return!0;if("string"===typeof K)try{K=new Ra(K,this.options)}catch(S){return!1}return ld(K,this.operator,this.semver,
this.options)}intersects(K,S){if(!(K instanceof Qe))throw new TypeError("a Comparator is required");S&&"object"===typeof S||(S={loose:!!S,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Bc(K.value,S)).test(this.value);if(""===K.operator)return""===K.value?!0:(new Bc(this.value,S)).test(K.semver);const ua=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===K.operator||"\x3e"===K.operator),Ka=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===
K.operator||"\x3c"===K.operator),Va=this.semver.version===K.semver.version,Vb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===K.operator||"\x3c\x3d"===K.operator),lc=ld(this.semver,"\x3c",K.semver,S)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===K.operator||"\x3c"===K.operator);K=ld(this.semver,"\x3e",K.semver,S)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===K.operator||"\x3e"===K.operator);return ua||Ka||Va&&Vb||lc||K}}var Re=
Qe;const {re:Fd,t:ee}=Ta;var ff=(K,S,ua)=>{try{S=new Bc(S,ua)}catch(Ka){return!1}return S.test(K)};const {ANY:Oe}=Re;var Bf=(K,S,ua,Ka)=>{K=new Ra(K,Ka);S=new Bc(S,Ka);let Va,Vb,lc,Gc;switch(ua){case "\x3e":Va=$c;ua=we;Vb=Nc;lc="\x3e";Gc="\x3e\x3d";break;case "\x3c":Va=Nc;ua=Dd;Vb=$c;lc="\x3c";Gc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(ff(K,S,Ka))return!1;for(let uc=0;uc<S.set.length;++uc){let Fc=null,id=null;S.set[uc].forEach(fd=>{fd.semver===
Oe&&(fd=new Re("\x3e\x3d0.0.0"));Fc=Fc||fd;id=id||fd;Va(fd.semver,Fc.semver,Ka)?Fc=fd:Vb(fd.semver,id.semver,Ka)&&(id=fd)});if(Fc.operator===lc||Fc.operator===Gc||(!id.operator||id.operator===lc)&&ua(K,id.semver)||id.operator===Gc&&Vb(K,id.semver))return!1}return!0};const {ANY:Yd}=Re,Ae=(K,S,ua)=>{if(K===S)return!0;if(1===K.length&&K[0].semver===Yd)return 1===S.length&&S[0].semver===Yd;const Ka=new Set;let Va,Vb;for(const Fc of K)"\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator?Va=cf(Va,Fc,ua):"\x3c"===
Fc.operator||"\x3c\x3d"===Fc.operator?Vb=re(Vb,Fc,ua):Ka.add(Fc.semver);if(1<Ka.size)return null;let lc;if(Va&&Vb&&(lc=rc(Va.semver,Vb.semver,ua),0<lc||0===lc&&("\x3e\x3d"!==Va.operator||"\x3c\x3d"!==Vb.operator)))return null;for(const Fc of Ka){if(Va&&!ff(Fc,String(Va),ua)||Vb&&!ff(Fc,String(Vb),ua))return null;for(const id of S)if(!ff(Fc,String(id),ua))return!1;return!0}let Gc,uc;for(const Fc of S){uc=uc||"\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator;Gc=Gc||"\x3c"===Fc.operator||"\x3c\x3d"===Fc.operator;
if(Va)if("\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator){if(K=cf(Va,Fc,ua),K===Fc&&K!==Va)return!1}else if("\x3e\x3d"===Va.operator&&!ff(Va.semver,String(Fc),ua))return!1;if(Vb)if("\x3c"===Fc.operator||"\x3c\x3d"===Fc.operator){if(K=re(Vb,Fc,ua),K===Fc&&K!==Vb)return!1}else if("\x3c\x3d"===Vb.operator&&!ff(Vb.semver,String(Fc),ua))return!1;if(!Fc.operator&&(Vb||Va)&&0!==lc)return!1}return Va&&Gc&&!Vb&&0!==lc||Vb&&uc&&!Va&&0!==lc?!1:!0},cf=(K,S,ua)=>{if(!K)return S;ua=rc(K.semver,S.semver,ua);return 0<
ua?K:0>ua?S:"\x3e"===S.operator&&"\x3e\x3d"===K.operator?S:K},re=(K,S,ua)=>{if(!K)return S;ua=rc(K.semver,S.semver,ua);return 0>ua?K:0<ua?S:"\x3c"===S.operator&&"\x3c\x3d"===K.operator?S:K};var Ad={re:Ta.re,src:Ta.src,tokens:Ta.t,SEMVER_SPEC_VERSION:wa.SEMVER_SPEC_VERSION,SemVer:Ra,compareIdentifiers:xb.compareIdentifiers,rcompareIdentifiers:xb.rcompareIdentifiers,parse:Pc,valid:(K,S)=>(K=Pc(K,S))?K.version:null,clean:(K,S)=>(K=Pc(K.trim().replace(/^[=v]+/,""),S))?K.version:null,inc:(K,S,ua,Ka)=>
{"string"===typeof ua&&(Ka=ua,ua=void 0);try{return(new Ra(K,ua)).inc(S,Ka).version}catch(Va){return null}},diff:(K,S)=>{if(0===rc(K,S,void 0))return null;{K=Pc(K);S=Pc(S);var ua=K.prerelease.length||S.prerelease.length;const Ka=ua?"pre":"";ua=ua?"prerelease":"";for(const Va in K)if(("major"===Va||"minor"===Va||"patch"===Va)&&K[Va]!==S[Va])return Ka+Va;return ua}},major:(K,S)=>(new Ra(K,S)).major,minor:(K,S)=>(new Ra(K,S)).minor,patch:(K,S)=>(new Ra(K,S)).patch,prerelease:(K,S)=>(K=Pc(K,S))&&K.prerelease.length?
K.prerelease:null,compare:rc,rcompare:(K,S,ua)=>rc(S,K,ua),compareLoose:(K,S)=>rc(K,S,!0),compareBuild:Xc,sort:(K,S)=>K.sort((ua,Ka)=>Xc(ua,Ka,S)),rsort:(K,S)=>K.sort((ua,Ka)=>Xc(Ka,ua,S)),gt:$c,lt:Nc,eq:(K,S,ua)=>0===rc(K,S,ua),neq:(K,S,ua)=>0!==rc(K,S,ua),gte:Dd,lte:we,cmp:ld,coerce:(K,S)=>{if(K instanceof Ra)return K;"number"===typeof K&&(K=String(K));if("string"!==typeof K)return null;S=S||{};let ua=null;if(S.rtl){let Ka;for(;(Ka=sd[ge.COERCERTL].exec(K))&&(!ua||ua.index+ua[0].length!==K.length);)ua&&
Ka.index+Ka[0].length===ua.index+ua[0].length||(ua=Ka),sd[ge.COERCERTL].lastIndex=Ka.index+Ka[1].length+Ka[2].length;sd[ge.COERCERTL].lastIndex=-1}else ua=K.match(sd[ge.COERCE]);return null===ua?null:Pc(`${ua[2]}.${ua[3]||"0"}.${ua[4]||"0"}`,S)},Comparator:Re,Range:Bc,satisfies:ff,toComparators:(K,S)=>(new Bc(K,S)).set.map(ua=>ua.map(Ka=>Ka.value).join(" ").trim().split(" ")),maxSatisfying:(K,S,ua)=>{let Ka=null,Va=null,Vb=null;try{Vb=new Bc(S,ua)}catch(lc){return null}K.forEach(lc=>{!Vb.test(lc)||
Ka&&-1!==Va.compare(lc)||(Ka=lc,Va=new Ra(Ka,ua))});return Ka},minSatisfying:(K,S,ua)=>{let Ka=null,Va=null,Vb=null;try{Vb=new Bc(S,ua)}catch(lc){return null}K.forEach(lc=>{!Vb.test(lc)||Ka&&1!==Va.compare(lc)||(Ka=lc,Va=new Ra(Ka,ua))});return Ka},minVersion:(K,S)=>{K=new Bc(K,S);S=new Ra("0.0.0");if(K.test(S))return S;S=new Ra("0.0.0-0");if(K.test(S))return S;S=null;for(let ua=0;ua<K.set.length;++ua){let Ka=null;K.set[ua].forEach(Va=>{const Vb=new Ra(Va.semver.version);switch(Va.operator){case "\x3e":0===
Vb.prerelease.length?Vb.patch++:Vb.prerelease.push(0),Vb.raw=Vb.format();case "":case "\x3e\x3d":if(!Ka||0<rc(Vb,Ka,void 0))Ka=Vb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${Va.operator}`);}});!Ka||S&&!(0<rc(S,Ka,void 0))||(S=Ka)}return S&&K.test(S)?S:null},validRange:(K,S)=>{try{return(new Bc(K,S)).range||"*"}catch(ua){return null}},outside:Bf,gtr:(K,S,ua)=>Bf(K,S,"\x3e",ua),ltr:(K,S,ua)=>Bf(K,S,"\x3c",ua),intersects:(K,S,ua)=>{K=new Bc(K,ua);S=new Bc(S,ua);
return K.intersects(S)},simplifyRange:(K,S,ua)=>{var Ka=[],Va=null;let Vb=null;K=K.sort((lc,Gc)=>rc(lc,Gc,ua));for(const lc of K)ff(lc,S,ua)?(Vb=lc,Va||(Va=lc)):(Vb&&Ka.push([Va,Vb]),Va=Vb=null);Va&&Ka.push([Va,null]);Va=[];for(const [lc,Gc]of Ka)lc===Gc?Va.push(lc):Gc||lc!==K[0]?Gc?lc===K[0]?Va.push(`<=${Gc}`):Va.push(`${lc} - ${Gc}`):Va.push(`>=${lc}`):Va.push("*");Ka=Va.join(" || ");return Ka.length<("string"===typeof S.raw?S.raw:String(S)).length?Ka:S},subset:(K,S,ua)=>{if(K===S)return!0;K=new Bc(K,
ua);S=new Bc(S,ua);let Ka=!1;a:for(const Va of K.set){for(const Vb of S.set)if(K=Ae(Va,Vb,ua),Ka=Ka||null!==K,K)continue a;if(Ka)return!1}return!0}};const Ld={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},ae={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Jf=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",
strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",
labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Ld["category-6"],diverging:Ld["fireandice-6"],heatmap:Ld["fire-7"],ordinal:Ld["fire-7"],ramp:Ld["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:ae["six-groups-cat-1"],diverging:ae["diverging-colors"],heatmap:ae["diverging-colors"],ordinal:ae["six-groups-seq"],ramp:ae["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const De=K=>function(S){return S[K]},Jd=K=>{const S=K.length;return function(ua){for(let Ka=0;Ka<S;++Ka)ua=ua[K[Ka]];return ua}};(function(K,S,ua){const Ka=Xa(K);K=1===Ka.length?Ka[0]:K;return Aa((ua&&ua.get||Qa)(Ka),[K],S||K)})("id");Aa(K=>K,[],"identity");Aa(()=>0,[],"zero");Aa(()=>1,[],"one");
Aa(()=>!0,[],"true");Aa(()=>!1,[],"false");var Se=Array.isArray;const Ee={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(K){return String(K).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class Ac{constructor(K){this.options=Object.assign(Object.assign({},Ee),K);K=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const ua=
document.createElement("style");ua.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(K))throw Error("Invalid HTML ID");var S="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
K);ua.innerHTML=S;S=document.head;0<S.childNodes.length?S.insertBefore(ua,S.childNodes[0]):S.appendChild(ua)}this.el=document.getElementById(K);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",K),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(K,S,ua,Ka){if(null==Ka||""===Ka)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=cb(Ka,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);K=this.el.getBoundingClientRect();var Va=this.options.offsetX;ua=this.options.offsetY;Ka=S.clientX+Va;Ka+K.width>window.innerWidth&&(Ka=+S.clientX-Va-K.width);Va=S.clientY+ua;Va+K.height>window.innerHeight&&(Va=+S.clientY-ua-K.height);S={x:Ka,y:Va};var {x:Vb,y:lc}=S;this.el.setAttribute("style",`top: ${lc}px; left: ${Vb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(K,S){return this.substr(!S||0>S?0:+S,K.length)===K});var Be,Xd=Ua,bc=db,Je=
"undefined"!==typeof window?window:void 0;void 0===bc&&(null===(Be=null===Je||void 0===Je?void 0:Je.vl)||void 0===Be?0:Be.compile)&&(bc=Je.vl);var pe={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Ke={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Cf={vega:"Vega","vega-lite":"Vega-Lite"},kf={vega:Xd.version,"vega-lite":bc?bc.version:"not available"},
tf={vega:function(K){return K},"vega-lite":function(K,S){return bc.compile(K,{config:S}).spec}},Pe=function(){for(var K=[],S=0;S<arguments.length;S++)K[S]=arguments[S];if(S=1<K.length){if(S=x.isString(K[0]))S=K[0],S=!(S.startsWith("http://")||S.startsWith("https://")||S.startsWith("//"));S=S||K[0]instanceof HTMLElement||3===K.length}return S?na(K[0],K[1],K[2]):pa(K[0],K[1])};Pe.vegaLite=bc;Pe.vl=bc;Pe.container=pa;Pe.embed=na;Pe.vega=Xd;Pe["default"]=na;Pe.version="6.15.0";return Pe})};
shadow$provide[69]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):x(n.L={})})(this,function(n){function x(c){var m,F;var ha=1;for(F=arguments.length;ha<F;ha++){var Fa=arguments[ha];for(m in Fa)c[m]=Fa[m]}return c}function ca(c,m){var F=Array.prototype.slice;if(c.bind)return c.bind.apply(c,F.call(arguments,1));var ha=F.call(arguments,2);return function(){return c.apply(m,ha.length?ha.concat(F.call(arguments)):
arguments)}}function Sa(c){c._leaflet_id=c._leaflet_id||++Hb;return c._leaflet_id}function Wb(c,m,F){var ha,Fa,Ob;var Tb=function(){ha=!1;Fa&&(Ob.apply(F,Fa),Fa=!1)};return Ob=function(){ha?Fa=arguments:(c.apply(F,arguments),setTimeout(Tb,m),ha=!0)}}function fb(c,m,F){var ha=m[1];m=m[0];var Fa=ha-m;return c===ha&&F?c:((c-m)%Fa+Fa)%Fa+m}function ub(){return!1}function Qb(c,m){m=Math.pow(10,void 0===m?6:m);return Math.round(c*m)/m}function Bb(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function bb(c){return Bb(c).split(/\s+/)}
function qb(c,m){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?Mc(c.options):{});for(var F in m)c.options[F]=m[F];return c.options}function sb(c,m,F){var ha=[],Fa;for(Fa in c)ha.push(encodeURIComponent(F?Fa.toUpperCase():Fa)+"\x3d"+encodeURIComponent(c[Fa]));return(m&&-1!==m.indexOf("?")?"\x26":"?")+ha.join("\x26")}function Wa(c,m){return c.replace(yc,function(F,ha){ha=m[ha];if(void 0===ha)throw Error("No value provided for variable "+F);"function"===typeof ha&&(ha=ha(m));
return ha})}function Ha(c,m){for(var F=0;F<c.length;F++)if(c[F]===m)return F;return-1}function Ia(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}function Ya(c){var m=+new Date,F=Math.max(0,16-(m-xc));xc=m+F;return window.setTimeout(c,F)}function mb(c,m,F){if(F&&Ic===Ya)c.call(m);else return Ic.call(window,ca(c,m))}function Ea(c){c&&Yc.call(window,c)}function Ga(){}function jb(c){if("undefined"!==typeof L&&L&&L.Mixin){c=Cc(c)?c:[c];for(var m=0;m<c.length;m++)c[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",
Error().stack)}}function Ca(c,m,F){this.x=F?Math.round(c):c;this.y=F?Math.round(m):m}function ab(c,m,F){return c instanceof Ca?c:Cc(c)?new Ca(c[0],c[1]):void 0===c||null===c?c:"object"===typeof c&&"x"in c&&"y"in c?new Ca(c.x,c.y):new Ca(c,m,F)}function Ma(c,m){if(c){c=m?[c,m]:c;m=0;for(var F=c.length;m<F;m++)this.extend(c[m])}}function ja(c,m){return!c||c instanceof Ma?c:new Ma(c,m)}function Aa(c,m){if(c){c=m?[c,m]:c;m=0;for(var F=c.length;m<F;m++)this.extend(c[m])}}function Qa(c,m){return c instanceof
Aa?c:new Aa(c,m)}function Xa(c,m,F){if(isNaN(c)||isNaN(m))throw Error("Invalid LatLng object: ("+c+", "+m+")");this.lat=+c;this.lng=+m;void 0!==F&&(this.alt=+F)}function hb(c,m,F){return c instanceof Xa?c:Cc(c)&&"object"!==typeof c[0]?3===c.length?new Xa(c[0],c[1],c[2]):2===c.length?new Xa(c[0],c[1]):null:void 0===c||null===c?c:"object"===typeof c&&"lat"in c?new Xa(c.lat,"lng"in c?c.lng:c.lon,c.alt):void 0===m?null:new Xa(c,m,F)}function cb(c,m,F,ha){Cc(c)?(this._a=c[0],this._b=c[1],this._c=c[2],
this._d=c[3]):(this._a=c,this._b=m,this._c=F,this._d=ha)}function ob(c,m,F,ha){return new cb(c,m,F,ha)}function $a(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Q(c,m){var F="",ha,Fa;var Ob=0;for(ha=c.length;Ob<ha;Ob++){var Tb=c[Ob];var cc=0;for(Fa=Tb.length;cc<Fa;cc++){var vc=Tb[cc];F+=(cc?"L":"M")+vc.x+" "+vc.y}F+=m?S?"z":"x":""}return F||"M0 0"}function H(c){return 0<=navigator.userAgent.toLowerCase().indexOf(c)}function T(c,m,F,ha){"touchstart"===m?O(c,F,ha):"touchmove"===
m?db(c,F,ha):"touchend"===m&&U(c,F,ha);return this}function na(c,m,F){F=c["_leaflet_"+m+F];"touchstart"===m?c.removeEventListener(Va,F,!1):"touchmove"===m?c.removeEventListener(Vb,F,!1):"touchend"===m&&(c.removeEventListener(lc,F,!1),c.removeEventListener(Gc,F,!1));return this}function O(c,m,F){var ha=ca(function(Fa){Fa.MSPOINTER_TYPE_TOUCH&&Fa.pointerType===Fa.MSPOINTER_TYPE_TOUCH&&Xc(Fa);Ua(Fa,m)});c["_leaflet_touchstart"+F]=ha;c.addEventListener(Va,ha,!1);Fc||(document.addEventListener(Va,W,!0),
document.addEventListener(Vb,ea,!0),document.addEventListener(lc,pa,!0),document.addEventListener(Gc,pa,!0),Fc=!0)}function W(c){uc[c.pointerId]=c}function ea(c){uc[c.pointerId]&&(uc[c.pointerId]=c)}function pa(c){delete uc[c.pointerId]}function Ua(c,m){c.touches=[];for(var F in uc)c.touches.push(uc[F]);c.changedTouches=[c];m(c)}function db(c,m,F){var ha=function(Fa){Fa.pointerType===(Fa.MSPOINTER_TYPE_MOUSE||"mouse")&&0===Fa.buttons||Ua(Fa,m)};c["_leaflet_touchmove"+F]=ha;c.addEventListener(Vb,ha,
!1)}function U(c,m,F){var ha=function(Fa){Ua(Fa,m)};c["_leaflet_touchend"+F]=ha;c.addEventListener(lc,ha,!1);c.addEventListener(Gc,ha,!1)}function va(c,m,F){function ha(vc){if(pe){if(!vc.isPrimary||"mouse"===vc.pointerType)return}else if(1<vc.touches.length)return;var hd=Date.now(),nd=hd-(Ob||hd);Tb=vc.touches?vc.touches[0]:vc;cc=0<nd&&250>=nd;Ob=hd}function Fa(vc){if(cc&&!Tb.cancelBubble){if(pe){if("mouse"===vc.pointerType)return;vc={};var hd;for(hd in Tb){var nd=Tb[hd];vc[hd]=nd&&nd.bind?nd.bind(Tb):
nd}Tb=vc}Tb.type="dblclick";Tb.button=0;m(Tb);Ob=null}}var Ob,Tb,cc=!1;c["_leaflet_"+id+F]=ha;c["_leaflet_"+fd+F]=Fa;c["_leaflet_dblclick"+F]=m;c.addEventListener(id,ha,Pe?{passive:!1}:!1);c.addEventListener(fd,Fa,Pe?{passive:!1}:!1);c.addEventListener("dblclick",m,!1);return this}function xa(c,m){var F=c["_leaflet_"+fd+m],ha=c["_leaflet_dblclick"+m];c.removeEventListener(id,c["_leaflet_"+id+m],Pe?{passive:!1}:!1);c.removeEventListener(fd,F,Pe?{passive:!1}:!1);c.removeEventListener("dblclick",ha,
!1);return this}function ma(c){return"string"===typeof c?document.getElementById(c):c}function R(c,m){var F=c.style[m]||c.currentStyle&&c.currentStyle[m];F&&"auto"!==F||!document.defaultView||(F=(c=document.defaultView.getComputedStyle(c,null))?c[m]:null);return"auto"===F?null:F}function v(c,m,F){c=document.createElement(c);c.className=m||"";F&&F.appendChild(c);return c}function w(c){var m=c.parentNode;m&&m.removeChild(c)}function p(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function r(c){var m=
c.parentNode;m&&m.lastChild!==c&&m.appendChild(c)}function C(c){var m=c.parentNode;m&&m.firstChild!==c&&m.insertBefore(c,m.firstChild)}function D(c,m){if(void 0!==c.classList)return c.classList.contains(m);c=wa(c);return 0<c.length&&(new RegExp("(^|\\s)"+m+"(\\s|$)")).test(c)}function G(c,m){if(void 0!==c.classList){m=bb(m);for(var F=0,ha=m.length;F<ha;F++)c.classList.add(m[F])}else D(c,m)||(F=wa(c),fa(c,(F?F+" ":"")+m))}function B(c,m){void 0!==c.classList?c.classList.remove(m):fa(c,Bb((" "+wa(c)+
" ").replace(" "+m+" "," ")))}function fa(c,m){void 0===c.className.baseVal?c.className=m:c.className.baseVal=m}function wa(c){c.correspondingElement&&(c=c.correspondingElement);return void 0===c.className.baseVal?c.className:c.className.baseVal}function la(c,m){if("opacity"in c.style)c.style.opacity=m;else if("filter"in c.style)a:{var F=!1;try{F=c.filters.item("DXImageTransform.Microsoft.Alpha")}catch(ha){if(1===m)break a}m=Math.round(100*m);F?(F.Enabled=100!==m,F.Opacity=m):c.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+
m+")"}}function Ta(c){for(var m=document.documentElement.style,F=0;F<c.length;F++)if(c[F]in m)return c[F];return!1}function Ja(c,m,F){m=m||new Ca(0,0);c.style[se]=(Jd?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(F?" scale("+F+")":"")}function Z(c,m){c._leaflet_pos=m;Ac?Ja(c,m):(c.style.left=m.x+"px",c.style.top=m.y+"px")}function sa(c){return c._leaflet_pos||new Ca(0,0)}function eb(){Dc(window,"dragstart",Xc)}function xb(){Sc(window,"dragstart",Xc)}function Kb(c){for(;-1===
c.tabIndex;)c=c.parentNode;c.style&&(ec(),Zf=c,pd=c.style.outline,c.style.outline="none",Dc(window,"keydown",ec))}function ec(){Zf&&(Zf.style.outline=pd,pd=Zf=void 0,Sc(window,"keydown",ec))}function Ec(c){do c=c.parentNode;while(!(c.offsetWidth&&c.offsetHeight||c===document.body));return c}function gd(c){var m=c.getBoundingClientRect();return{x:m.width/c.offsetWidth||1,y:m.height/c.offsetHeight||1,boundingClientRect:m}}function Dc(c,m,F,ha){if("object"===typeof m)for(var Fa in m)nc(c,Fa,m[Fa],F);
else{m=bb(m);Fa=0;for(var Ob=m.length;Fa<Ob;Fa++)nc(c,m[Fa],F,ha)}return this}function Sc(c,m,F,ha){if("object"===typeof m)for(var Fa in m)kc(c,Fa,m[Fa],F);else if(m){m=bb(m);Fa=0;for(var Ob=m.length;Fa<Ob;Fa++)kc(c,m[Fa],F,ha)}else{for(Ob in c[Le])kc(c,Ob,c[Le][Ob]);delete c[Le]}return this}function Ra(){if(pe)return!(ee||Ld)}function nc(c,m,F,ha){var Fa=m+Sa(F)+(ha?"_"+Sa(ha):"");if(c[Le]&&c[Le][Fa])return this;var Ob=function(cc){return F.call(ha||c,cc||window.event)},Tb=Ob;pe&&0===m.indexOf("touch")?
T(c,m,Ob,Fa):Ke&&"dblclick"===m&&!Ra()?va(c,Ob,Fa):"addEventListener"in c?"touchstart"===m||"touchmove"===m||"wheel"===m||"mousewheel"===m?c.addEventListener(Ze[m]||m,Ob,Pe?{passive:!1}:!1):"mouseenter"===m||"mouseleave"===m?(Ob=function(cc){cc=cc||window.event;sd(c,cc)&&Tb(cc)},c.addEventListener(Ze[m],Ob,!1)):c.addEventListener(m,Tb,!1):"attachEvent"in c&&c.attachEvent("on"+m,Ob);c[Le]=c[Le]||{};c[Le][Fa]=Ob}function kc(c,m,F,ha){F=m+Sa(F)+(ha?"_"+Sa(ha):"");ha=c[Le]&&c[Le][F];if(!ha)return this;
pe&&0===m.indexOf("touch")?na(c,m,F):Ke&&"dblclick"===m&&!Ra()?xa(c,F):"removeEventListener"in c?c.removeEventListener(Ze[m]||m,ha,!1):"detachEvent"in c&&c.detachEvent("on"+m,ha);c[Le][F]=null}function wc(c){c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0;ld(c);return this}function Pc(c){nc(c,"wheel",wc);return this}function rc(c){Dc(c,"mousedown touchstart dblclick",wc);nc(c,"click",we);return this}function Xc(c){c.preventDefault?c.preventDefault():
c.returnValue=!1;return this}function $c(c){Xc(c);wc(c);return this}function Nc(c,m){if(!m)return new Ca(c.clientX,c.clientY);var F=gd(m),ha=F.boundingClientRect;return new Ca((c.clientX-ha.left)/F.x-m.clientLeft,(c.clientY-ha.top)/F.y-m.clientTop)}function Dd(c){return ee?c.wheelDeltaY/2:c.deltaY&&0===c.deltaMode?-c.deltaY/$f:c.deltaY&&1===c.deltaMode?20*-c.deltaY:c.deltaY&&2===c.deltaMode?60*-c.deltaY:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&32765>Math.abs(c.detail)?
20*-c.detail:c.detail?c.detail/-32765*60:0}function we(c){vf[c.type]=!0}function ld(c){var m=vf[c.type];vf[c.type]=!1;return m}function sd(c,m){m=m.relatedTarget;if(!m)return!0;try{for(;m&&m!==c;)m=m.parentNode}catch(F){return!1}return m!==c}function ge(c,m){if(!m||!c.length)return c.slice();m*=m;for(var F=[c[0]],ha=1,Fa=0,Ob=c.length;ha<Ob;ha++){var Tb=c[ha],cc=c[Fa],vc=cc.x-Tb.x;Tb=cc.y-Tb.y;vc*vc+Tb*Tb>m&&(F.push(c[ha]),Fa=ha)}Fa<Ob-1&&F.push(c[Ob-1]);c=F;F=c.length;ha=new ("undefined"!==typeof Uint8Array?
Uint8Array:Array)(F);ha[0]=ha[F-1]=1;vb(c,ha,m,0,F-1);Fa=[];for(m=0;m<F;m++)ha[m]&&Fa.push(c[m]);return Fa}function La(c,m,F){return Math.sqrt(de(c,m,F,!0))}function vb(c,m,F,ha,Fa){var Ob=0,Tb;for(Tb=ha+1;Tb<=Fa-1;Tb++){var cc=de(c[Tb],c[ha],c[Fa],!0);if(cc>Ob){var vc=Tb;Ob=cc}}Ob>F&&(m[vc]=1,vb(c,m,F,ha,vc),vb(c,m,F,vc,Fa))}function $b(c,m,F,ha,Fa){ha=ha?Bd:vd(c,F);var Ob=vd(m,F);for(Bd=Ob;;){if(!(ha|Ob))return[c,m];if(ha&Ob)return!1;var Tb=ha||Ob;var cc=rd(c,m,Tb,F,Fa);var vc=vd(cc,F);Tb===ha?
(c=cc,ha=vc):(m=cc,Ob=vc)}}function rd(c,m,F,ha,Fa){var Ob=m.x-c.x;m=m.y-c.y;var Tb=ha.min;ha=ha.max;if(F&8){var cc=c.x+Ob*(ha.y-c.y)/m;var vc=ha.y}else F&4?(cc=c.x+Ob*(Tb.y-c.y)/m,vc=Tb.y):F&2?(cc=ha.x,vc=c.y+m*(ha.x-c.x)/Ob):F&1&&(cc=Tb.x,vc=c.y+m*(Tb.x-c.x)/Ob);return new Ca(cc,vc,Fa)}function vd(c,m){var F=0;c.x<m.min.x?F|=1:c.x>m.max.x&&(F|=2);c.y<m.min.y?F|=4:c.y>m.max.y&&(F|=8);return F}function de(c,m,F,ha){var Fa=m.x;m=m.y;var Ob=F.x-Fa,Tb=F.y-m,cc=Ob*Ob+Tb*Tb;0<cc&&(cc=((c.x-Fa)*Ob+(c.y-
m)*Tb)/cc,1<cc?(Fa=F.x,m=F.y):0<cc&&(Fa+=Ob*cc,m+=Tb*cc));Ob=c.x-Fa;Tb=c.y-m;return ha?Ob*Ob+Tb*Tb:new Ca(Fa,m)}function oe(c){return!Cc(c[0])||"object"!==typeof c[0][0]&&"undefined"!==typeof c[0][0]}function X(c){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return oe(c)}function za(c,m,F){var ha=[1,4,2,8],Fa,Ob,Tb;var cc=0;for(Tb=c.length;cc<Tb;cc++)c[cc]._code=vd(c[cc],m);for(Ob=0;4>Ob;Ob++){var vc=ha[Ob];var hd=[];cc=0;Tb=c.length;for(Fa=Tb-1;cc<Tb;Fa=cc++){var nd=
c[cc];Fa=c[Fa];nd._code&vc?Fa._code&vc||(Fa=rd(Fa,nd,vc,m,F),Fa._code=vd(Fa,m),hd.push(Fa)):(Fa._code&vc&&(Fa=rd(Fa,nd,vc,m,F),Fa._code=vd(Fa,m),hd.push(Fa)),hd.push(nd))}c=hd}return c}function gb(c,m){var F="Feature"===c.type?c.geometry:c,ha=F?F.coordinates:null,Fa=[],Ob=m&&m.pointToLayer,Tb=m&&m.coordsToLatLng||Zb,cc;if(!ha&&!F)return null;switch(F.type){case "Point":return F=Tb(ha),Db(Ob,c,F,m);case "MultiPoint":var vc=0;for(cc=ha.length;vc<cc;vc++)F=Tb(ha[vc]),Fa.push(Db(Ob,c,F,m));return new ef(Fa);
case "LineString":case "MultiLineString":return c=Gb(ha,"LineString"===F.type?0:1,Tb),new Za(c,m);case "Polygon":case "MultiPolygon":return c=Gb(ha,"Polygon"===F.type?1:2,Tb),new tb(c,m);case "GeometryCollection":vc=0;for(cc=F.geometries.length;vc<cc;vc++)(ha=gb({geometry:F.geometries[vc],type:"Feature",properties:c.properties},m))&&Fa.push(ha);return new ef(Fa);default:throw Error("Invalid GeoJSON object.");}}function Db(c,m,F,ha){return c?c(m,F):new Y(F,ha&&ha.markersInheritOptions&&ha)}function Zb(c){return new Xa(c[1],
c[0],c[2])}function Gb(c,m,F){for(var ha=[],Fa=0,Ob=c.length,Tb;Fa<Ob;Fa++)Tb=m?Gb(c[Fa],m-1,F):(F||Zb)(c[Fa]),ha.push(Tb);return ha}function sc(c,m){m="number"===typeof m?m:6;return void 0!==c.alt?[Qb(c.lng,m),Qb(c.lat,m),Qb(c.alt,m)]:[Qb(c.lng,m),Qb(c.lat,m)]}function jc(c,m,F,ha){for(var Fa=[],Ob=0,Tb=c.length;Ob<Tb;Ob++)Fa.push(m?jc(c[Ob],m-1,F,ha):sc(c[Ob],ha));!m&&F&&Fa.push(Fa[0]);return Fa}function Oa(c,m){return c.feature?x({},c.feature,{geometry:m}):rb(m)}function rb(c){return"Feature"===
c.type||"FeatureCollection"===c.type?c:{type:"Feature",properties:{},geometry:c}}function Lb(c,m){return new nb(c,m)}function gc(c,m){return new Ib(c,m)}function tc(c){return K?new zc(c):null}function Bc(c){return S||ua?new Md(c):null}var Mc=Object.create||function(){function c(){}return function(m){c.prototype=m;return new c}}(),Hb=0,yc=/\{ *([\w_-]+) *\}/g,Cc=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},xc=0,Ic=window.requestAnimationFrame||Ia("RequestAnimationFrame")||
Ya,Yc=window.cancelAnimationFrame||Ia("CancelAnimationFrame")||Ia("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)},Uc={extend:x,create:Mc,bind:ca,lastId:Hb,stamp:Sa,throttle:Wb,wrapNum:fb,falseFn:ub,formatNum:Qb,trim:Bb,splitWords:bb,setOptions:qb,getParamString:sb,template:Wa,isArray:Cc,indexOf:Ha,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",requestFn:Ic,cancelFn:Yc,requestAnimFrame:mb,cancelAnimFrame:Ea};Ga.extend=function(c){var m=function(){this.initialize&&
this.initialize.apply(this,arguments);this.callInitHooks()},F=m.__super__=this.prototype,ha=Mc(F);ha.constructor=m;m.prototype=ha;for(var Fa in this)Object.prototype.hasOwnProperty.call(this,Fa)&&"prototype"!==Fa&&"__super__"!==Fa&&(m[Fa]=this[Fa]);c.statics&&(x(m,c.statics),delete c.statics);c.includes&&(jb(c.includes),x.apply(null,[ha].concat(c.includes)),delete c.includes);ha.options&&(c.options=x(Mc(ha.options),c.options));x(ha,c);ha._initHooks=[];ha.callInitHooks=function(){if(!this._initHooksCalled){F.callInitHooks&&
F.callInitHooks.call(this);this._initHooksCalled=!0;for(var Ob=0,Tb=ha._initHooks.length;Ob<Tb;Ob++)ha._initHooks[Ob].call(this)}};return m};Ga.include=function(c){x(this.prototype,c);return this};Ga.mergeOptions=function(c){x(this.prototype.options,c);return this};Ga.addInitHook=function(c){var m=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof c?c:function(){this[c].apply(this,m)});return this};var od=
{on:function(c,m,F){if("object"===typeof c)for(var ha in c)this._on(ha,c[ha],m);else{c=bb(c);ha=0;for(var Fa=c.length;ha<Fa;ha++)this._on(c[ha],m,F)}return this},off:function(c,m,F){if(c)if("object"===typeof c)for(var ha in c)this._off(ha,c[ha],m);else{c=bb(c);ha=0;for(var Fa=c.length;ha<Fa;ha++)this._off(c[ha],m,F)}else delete this._events;return this},_on:function(c,m,F){this._events=this._events||{};var ha=this._events[c];ha||(ha=[],this._events[c]=ha);F===this&&(F=void 0);c={fn:m,ctx:F};for(var Fa=
0,Ob=ha.length;Fa<Ob;Fa++)if(ha[Fa].fn===m&&ha[Fa].ctx===F)return;ha.push(c)},_off:function(c,m,F){var ha,Fa;if(this._events&&(ha=this._events[c]))if(m){if(F===this&&(F=void 0),ha){var Ob=0;for(Fa=ha.length;Ob<Fa;Ob++){var Tb=ha[Ob];if(Tb.ctx===F&&Tb.fn===m){Tb.fn=ub;this._firingCount&&(this._events[c]=ha=ha.slice());ha.splice(Ob,1);break}}}}else{Ob=0;for(Fa=ha.length;Ob<Fa;Ob++)ha[Ob].fn=ub;delete this._events[c]}},fire:function(c,m,F){if(!this.listens(c,F))return this;m=x({},m,{type:c,target:this,
sourceTarget:m&&m.sourceTarget||this});if(this._events&&(c=this._events[c])){this._firingCount=this._firingCount+1||1;for(var ha=0,Fa=c.length;ha<Fa;ha++){var Ob=c[ha];Ob.fn.call(Ob.ctx||this,m)}this._firingCount--}F&&this._propagateEvent(m);return this},listens:function(c,m){var F=this._events&&this._events[c];if(F&&F.length)return!0;if(m)for(var ha in this._eventParents)if(this._eventParents[ha].listens(c,m))return!0;return!1},once:function(c,m,F){if("object"===typeof c){for(var ha in c)this.once(ha,
c[ha],m);return this}var Fa=ca(function(){this.off(c,m,F).off(c,Fa,F)},this);return this.on(c,m,F).on(c,Fa,F)},addEventParent:function(c){this._eventParents=this._eventParents||{};this._eventParents[Sa(c)]=c;return this},removeEventParent:function(c){this._eventParents&&delete this._eventParents[Sa(c)];return this},_propagateEvent:function(c){for(var m in this._eventParents)this._eventParents[m].fire(c.type,x({layer:c.target,propagatedFrom:c.target},c),!0)}};od.addEventListener=od.on;od.removeEventListener=
od.clearAllEventListeners=od.off;od.addOneTimeEventListener=od.once;od.fireEvent=od.fire;od.hasEventListeners=od.listens;var qd=Ga.extend(od),Id=Math.trunc||function(c){return 0<c?Math.floor(c):Math.ceil(c)};Ca.prototype={clone:function(){return new Ca(this.x,this.y)},add:function(c){return this.clone()._add(ab(c))},_add:function(c){this.x+=c.x;this.y+=c.y;return this},subtract:function(c){return this.clone()._subtract(ab(c))},_subtract:function(c){this.x-=c.x;this.y-=c.y;return this},divideBy:function(c){return this.clone()._divideBy(c)},
_divideBy:function(c){this.x/=c;this.y/=c;return this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){this.x*=c;this.y*=c;return this},scaleBy:function(c){return new Ca(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new Ca(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=Id(this.x);this.y=Id(this.y);return this},distanceTo:function(c){c=ab(c);var m=c.x-this.x;c=c.y-this.y;return Math.sqrt(m*m+c*c)},equals:function(c){c=ab(c);return c.x===this.x&&c.y===this.y},contains:function(c){c=ab(c);return Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=
Math.abs(this.y)},toString:function(){return"Point("+Qb(this.x)+", "+Qb(this.y)+")"}};Ma.prototype={extend:function(c){c=ab(c);this.min||this.max?(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)):(this.min=c.clone(),this.max=c.clone());return this},getCenter:function(c){return new Ca((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return new Ca(this.min.x,this.max.y)},getTopRight:function(){return new Ca(this.max.x,
this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){c="number"===typeof c[0]||c instanceof Ca?ab(c):ja(c);if(c instanceof Ma){var m=c.min;c=c.max}else m=c;return m.x>=this.min.x&&c.x<=this.max.x&&m.y>=this.min.y&&c.y<=this.max.y},intersects:function(c){c=ja(c);var m=this.min,F=this.max,ha=c.min;c=c.max;var Fa=c.y>=m.y&&ha.y<=F.y;return c.x>=m.x&&ha.x<=F.x&&Fa},overlaps:function(c){c=
ja(c);var m=this.min,F=this.max,ha=c.min;c=c.max;var Fa=c.y>m.y&&ha.y<F.y;return c.x>m.x&&ha.x<F.x&&Fa},isValid:function(){return!(!this.min||!this.max)}};Aa.prototype={extend:function(c){var m=this._southWest,F=this._northEast;if(c instanceof Xa)var ha=c;else if(c instanceof Aa){if(ha=c._southWest,c=c._northEast,!ha||!c)return this}else return c?this.extend(hb(c)||Qa(c)):this;m||F?(m.lat=Math.min(ha.lat,m.lat),m.lng=Math.min(ha.lng,m.lng),F.lat=Math.max(c.lat,F.lat),F.lng=Math.max(c.lng,F.lng)):
(this._southWest=new Xa(ha.lat,ha.lng),this._northEast=new Xa(c.lat,c.lng));return this},pad:function(c){var m=this._southWest,F=this._northEast,ha=Math.abs(m.lat-F.lat)*c;c*=Math.abs(m.lng-F.lng);return new Aa(new Xa(m.lat-ha,m.lng-c),new Xa(F.lat+ha,F.lng+c))},getCenter:function(){return new Xa((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Xa(this.getNorth(),
this.getWest())},getSouthEast:function(){return new Xa(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){c="number"===typeof c[0]||c instanceof Xa||"lat"in c?hb(c):Qa(c);var m=this._southWest,F=this._northEast;if(c instanceof Aa){var ha=c.getSouthWest();c=c.getNorthEast()}else ha=c;return ha.lat>=m.lat&&c.lat<=
F.lat&&ha.lng>=m.lng&&c.lng<=F.lng},intersects:function(c){c=Qa(c);var m=this._southWest,F=this._northEast,ha=c.getSouthWest();c=c.getNorthEast();var Fa=c.lng>=m.lng&&ha.lng<=F.lng;return c.lat>=m.lat&&ha.lat<=F.lat&&Fa},overlaps:function(c){c=Qa(c);var m=this._southWest,F=this._northEast,ha=c.getSouthWest();c=c.getNorthEast();var Fa=c.lng>m.lng&&ha.lng<F.lng;return c.lat>m.lat&&ha.lat<F.lat&&Fa},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},
equals:function(c,m){if(!c)return!1;c=Qa(c);return this._southWest.equals(c.getSouthWest(),m)&&this._northEast.equals(c.getNorthEast(),m)},isValid:function(){return!(!this._southWest||!this._northEast)}};Xa.prototype={equals:function(c,m){if(!c)return!1;c=hb(c);return Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng))<=(void 0===m?1E-9:m)},toString:function(c){return"LatLng("+Qb(this.lat,c)+", "+Qb(this.lng,c)+")"},distanceTo:function(c){return Wd.distance(this,hb(c))},wrap:function(){return Wd.wrapLatLng(this)},
toBounds:function(c){c=180*c/40075017;var m=c/Math.cos(Math.PI/180*this.lat);return Qa([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new Xa(this.lat,this.lng,this.alt)}};var Ed={latLngToPoint:function(c,m){c=this.projection.project(c);m=this.scale(m);return this.transformation._transform(c,m)},pointToLatLng:function(c,m){m=this.scale(m);c=this.transformation.untransform(c,m);return this.projection.unproject(c)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},
scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var m=this.projection.bounds,F=this.scale(c);c=this.transformation.transform(m.min,F);m=this.transformation.transform(m.max,F);return new Ma(c,m)},infinite:!1,wrapLatLng:function(c){var m=this.wrapLng?fb(c.lng,this.wrapLng,!0):c.lng,F=this.wrapLat?fb(c.lat,this.wrapLat,!0):c.lat;return new Xa(F,m,c.alt)},wrapLatLngBounds:function(c){var m=c.getCenter(),
F=this.wrapLatLng(m),ha=m.lat-F.lat;m=m.lng-F.lng;if(0===ha&&0===m)return c;F=c.getSouthWest();c=c.getNorthEast();F=new Xa(F.lat-ha,F.lng-m);ha=new Xa(c.lat-ha,c.lng-m);return new Aa(F,ha)}},Wd=x({},Ed,{wrapLng:[-180,180],R:6371E3,distance:function(c,m){var F=Math.PI/180,ha=Math.sin((m.lat-c.lat)*F/2),Fa=Math.sin((m.lng-c.lng)*F/2);c=ha*ha+Math.cos(c.lat*F)*Math.cos(m.lat*F)*Fa*Fa;return 2*this.R*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}}),me={R:6378137,MAX_LATITUDE:85.0511287798,project:function(c){var m=
Math.PI/180,F=this.MAX_LATITUDE;F=Math.sin(Math.max(Math.min(F,c.lat),-F)*m);return new Ca(this.R*c.lng*m,this.R*Math.log((1+F)/(1-F))/2)},unproject:function(c){var m=180/Math.PI;return new Xa((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*m,c.x*m/this.R)},bounds:function(){var c=6378137*Math.PI;return new Ma([-c,-c],[c,c])}()};cb.prototype={transform:function(c,m){return this._transform(c.clone(),m)},_transform:function(c,m){m=m||1;c.x=m*(this._a*c.x+this._b);c.y=m*(this._c*c.y+this._d);return c},
untransform:function(c,m){m=m||1;return new Ca((c.x/m-this._b)/this._a,(c.y/m-this._d)/this._c)}};var ye=x({},Wd,{code:"EPSG:3857",projection:me,transformation:function(){var c=.5/(Math.PI*me.R);return ob(c,.5,-c,.5)}()}),Ye=x({},ye,{code:"EPSG:900913"}),Qe=document.documentElement.style,Re="ActiveXObject"in window,Fd=Re&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),ff=H("webkit"),Oe=H("android"),Bf=H("android 2")||H("android 3"),Yd=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],
10),Ae=Oe&&H("Google")&&537>Yd&&!("AudioNode"in window),cf=!!window.opera,re=!ee&&H("chrome"),Ad=H("gecko")&&!ff&&!cf&&!Re,Ld=!re&&H("safari"),ae=H("phantom"),Jf="OTransition"in Qe,De=0===navigator.platform.indexOf("Win"),Jd=Re&&"transition"in Qe,Se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bf,Ee="MozPerspective"in Qe,Ac=!window.L_DISABLE_3D&&(Jd||Se||Ee)&&!Jf&&!ae,Be="undefined"!==typeof orientation||H("mobile"),Xd=Be&&ff,bc=Be&&Se,Je=!window.PointerEvent&&window.MSPointerEvent,
pe=!(!window.PointerEvent&&!Je),Ke=!window.L_NO_TOUCH&&(pe||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Cf=Be&&cf,kf=Be&&Ad,tf=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Pe=function(){var c=!1;try{var m=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",ub,m);window.removeEventListener("testPassiveEventSupport",ub,m)}catch(F){}return c}(),K=!!document.createElement("canvas").getContext,
S=!(!document.createElementNS||!$a("svg").createSVGRect),ua=!S&&function(){try{var c=document.createElement("div");c.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var m=c.firstChild;m.style.behavior="url(#default#VML)";return m&&"object"===typeof m.adj}catch(F){return!1}}(),Ka={ie:Re,ielt9:Fd,edge:ee,webkit:ff,android:Oe,android23:Bf,androidStock:Ae,opera:cf,chrome:re,gecko:Ad,safari:Ld,phantom:ae,opera12:Jf,win:De,ie3d:Jd,webkit3d:Se,gecko3d:Ee,any3d:Ac,mobile:Be,mobileWebkit:Xd,mobileWebkit3d:bc,msPointer:Je,
pointer:pe,touch:Ke,mobileOpera:Cf,mobileGecko:kf,retina:tf,passiveEvents:Pe,canvas:K,svg:S,vml:ua},Va=Je?"MSPointerDown":"pointerdown",Vb=Je?"MSPointerMove":"pointermove",lc=Je?"MSPointerUp":"pointerup",Gc=Je?"MSPointerCancel":"pointercancel",uc={},Fc=!1,id=Je?"MSPointerDown":pe?"pointerdown":"touchstart",fd=Je?"MSPointerUp":pe?"pointerup":"touchend",se=Ta(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xd=Ta(["webkitTransition","transition","OTransition","MozTransition",
"msTransition"]),zd="webkitTransition"===xd||"OTransition"===xd?xd+"End":"transitionend",le;if("onselectstart"in document){var Te=function(){Dc(window,"selectstart",Xc)};var Me=function(){Sc(window,"selectstart",Xc)}}else{var uf=Ta(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Te=function(){if(uf){var c=document.documentElement.style;le=c[uf];c[uf]="none"}};Me=function(){uf&&(document.documentElement.style[uf]=le,le=void 0)}}var Zf,pd,Ue={TRANSFORM:se,TRANSITION:xd,
TRANSITION_END:zd,get:ma,getStyle:R,create:v,remove:w,empty:p,toFront:r,toBack:C,hasClass:D,addClass:G,removeClass:B,setClass:fa,getClass:wa,setOpacity:la,testProp:Ta,setTransform:Ja,setPosition:Z,getPosition:sa,disableTextSelection:Te,enableTextSelection:Me,disableImageDrag:eb,enableImageDrag:xb,preventOutline:Kb,restoreOutline:ec,getSizedParentNode:Ec,getScale:gd},Le="_leaflet_events",Ze={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},$f=De&&re?2*window.devicePixelRatio:
Ad?window.devicePixelRatio:1,vf={},ag={on:Dc,off:Sc,stopPropagation:wc,disableScrollPropagation:Pc,disableClickPropagation:rc,preventDefault:Xc,stop:$c,getMousePosition:Nc,getWheelDelta:Dd,fakeStop:we,skipped:ld,isExternalTarget:sd,addListener:Dc,removeListener:Sc},df=qd.extend({run:function(c,m,F,ha){this.stop();this._el=c;this._inProgress=!0;this._duration=F||.25;this._easeOutPower=1/Math.max(ha||.5,.2);this._startPos=sa(c);this._offset=m.subtract(this._startPos);this._startTime=+new Date;this.fire("start");
this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=mb(this._animate,this);this._step()},_step:function(c){var m=+new Date-this._startTime,F=1E3*this._duration;m<F?this._runFrame(this._easeOut(m/F),c):(this._runFrame(1),this._complete())},_runFrame:function(c,m){c=this._startPos.add(this._offset.multiplyBy(c));m&&c._round();Z(this._el,c);this.fire("step")},_complete:function(){Ea(this._animId);this._inProgress=!1;this.fire("end")},
_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),J=qd.extend({options:{crs:ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,m){m=qb(this,m);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(c);this._initLayout();this._onResize=
ca(this._onResize,this);this._initEvents();m.maxBounds&&this.setMaxBounds(m.maxBounds);void 0!==m.zoom&&(this._zoom=this._limitZoom(m.zoom));m.center&&void 0!==m.zoom&&this.setView(hb(m.center),m.zoom,{reset:!0});this.callInitHooks();if(this._zoomAnimated=xd&&Ac&&!Cf&&this.options.zoomAnimation)this._createAnimProxy(),Dc(this._proxy,zd,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},setView:function(c,m,F){m=void 0===m?this._zoom:this._limitZoom(m);c=this._limitCenter(hb(c),m,
this.options.maxBounds);F=F||{};this._stop();if(this._loaded&&!F.reset&&!0!==F&&(void 0!==F.animate&&(F.zoom=x({animate:F.animate},F.zoom),F.pan=x({animate:F.animate,duration:F.duration},F.pan)),this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,m,F.zoom):this._tryAnimatedPan(c,F.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(c,m);return this},setZoom:function(c,m){return this._loaded?this.setView(this.getCenter(),c,{zoom:m}):(this._zoom=c,this)},zoomIn:function(c,m){c=
c||(Ac?this.options.zoomDelta:1);return this.setZoom(this._zoom+c,m)},zoomOut:function(c,m){c=c||(Ac?this.options.zoomDelta:1);return this.setZoom(this._zoom-c,m)},setZoomAround:function(c,m,F){var ha=this.getZoomScale(m),Fa=this.getSize().divideBy(2);c=(c instanceof Ca?c:this.latLngToContainerPoint(c)).subtract(Fa).multiplyBy(1-1/ha);Fa=this.containerPointToLatLng(Fa.add(c));return this.setView(Fa,m,{zoom:F})},_getBoundsCenterZoom:function(c,m){m=m||{};c=c.getBounds?c.getBounds():Qa(c);var F=ab(m.paddingTopLeft||
m.padding||[0,0]),ha=ab(m.paddingBottomRight||m.padding||[0,0]),Fa=this.getBoundsZoom(c,!1,F.add(ha));Fa="number"===typeof m.maxZoom?Math.min(m.maxZoom,Fa):Fa;if(Infinity===Fa)return{center:c.getCenter(),zoom:Fa};m=ha.subtract(F).divideBy(2);F=this.project(c.getSouthWest(),Fa);c=this.project(c.getNorthEast(),Fa);return{center:this.unproject(F.add(c).divideBy(2).add(m),Fa),zoom:Fa}},fitBounds:function(c,m){c=Qa(c);if(!c.isValid())throw Error("Bounds are not valid.");c=this._getBoundsCenterZoom(c,m);
return this.setView(c.center,c.zoom,m)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,m){return this.setView(c,this._zoom,{pan:m})},panBy:function(c,m){c=ab(c).round();m=m||{};if(!c.x&&!c.y)return this.fire("moveend");if(!0!==m.animate&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;this._panAnim||(this._panAnim=new df,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},
this));m.noMoveStart||this.fire("movestart");!1!==m.animate?(G(this._mapPane,"leaflet-pan-anim"),c=this._getMapPanePos().subtract(c).round(),this._panAnim.run(this._mapPane,c,m.duration||.25,m.easeLinearity)):(this._rawPanBy(c),this.fire("move").fire("moveend"));return this},flyTo:function(c,m,F){function ha(ke){ke=(Vd*Vd-$d*$d+2.0164*(ke?-1:1)*2.0164*Hd*Hd)/(4.0328*(ke?Vd:$d)*Hd);ke=Math.sqrt(ke*ke+1)-ke;return 1E-9>ke?-18:Math.log(ke)}function Fa(ke){return(Math.exp(ke)+Math.exp(-ke))/2}function Ob(ke){return $d*
(Fa(md)/Fa(md+1.42*ke))}function Tb(ke){var Xe=Fa(md);ke=md+1.42*ke;ke=(Math.exp(ke)-Math.exp(-ke))/2/Fa(ke);return $d*(Xe*ke-(Math.exp(md)-Math.exp(-md))/2)/2.0164}function cc(){var ke=(Date.now()-ce)/qf,Xe=(1-Math.pow(1-ke,1.5))*bf;1>=ke?(this._flyToFrame=mb(cc,this),this._move(this.unproject(vc.add(hd.subtract(vc).multiplyBy(Tb(Xe)/Hd)),ie),this.getScaleZoom($d/Ob(Xe),ie),{flyTo:!0})):this._move(c,m)._moveEnd(!0)}F=F||{};if(!1===F.animate||!Ac)return this.setView(c,m,F);this._stop();var vc=this.project(this.getCenter()),
hd=this.project(c),nd=this.getSize(),ie=this._zoom;c=hb(c);m=void 0===m?ie:m;var $d=Math.max(nd.x,nd.y),Vd=$d*this.getZoomScale(ie,m),Hd=hd.distanceTo(vc)||1,md=ha(0),ce=Date.now(),bf=(ha(1)-md)/1.42,qf=F.duration?1E3*F.duration:800*bf;this._moveStart(!0,F.noMoveStart);cc.call(this);return this},flyToBounds:function(c,m){c=this._getBoundsCenterZoom(c,m);return this.flyTo(c.center,c.zoom,m)},setMaxBounds:function(c){c=Qa(c);if(c.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);
else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=c;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(c){var m=this.options.minZoom;this.options.minZoom=c;return this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var m=this.options.maxZoom;this.options.maxZoom=c;return this._loaded&&m!==c&&(this.fire("zoomlevelschange"),
this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,m){this._enforcingBounds=!0;var F=this.getCenter();c=this._limitCenter(F,this._zoom,Qa(c));F.equals(c)||this.panTo(c,m);this._enforcingBounds=!1;return this},panInside:function(c,m){m=m||{};var F=ab(m.paddingTopLeft||m.padding||[0,0]),ha=ab(m.paddingBottomRight||m.padding||[0,0]),Fa=this.getCenter();Fa=this.project(Fa);c=this.project(c);var Ob=this.getPixelBounds(),Tb=Ob.getSize().divideBy(2);Ob=ja([Ob.min.add(F),
Ob.max.subtract(ha)]);if(!Ob.contains(c)){this._enforcingBounds=!0;var cc=Fa.subtract(c),vc=ab(c.x+cc.x,c.y+cc.y);if(c.x<Ob.min.x||c.x>Ob.max.x)vc.x=Fa.x-cc.x,vc.x=0<cc.x?vc.x+(Tb.x-F.x):vc.x-(Tb.x-ha.x);if(c.y<Ob.min.y||c.y>Ob.max.y)vc.y=Fa.y-cc.y,vc.y=0<cc.y?vc.y+(Tb.y-F.y):vc.y-(Tb.y-ha.y);this.panTo(this.unproject(vc),m);this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=x({animate:!1,pan:!0},!0===c?{animate:!0}:c);var m=this.getSize();this._sizeChanged=
!0;this._lastCenter=null;var F=this.getSize(),ha=m.divideBy(2).round(),Fa=F.divideBy(2).round();ha=ha.subtract(Fa);if(!ha.x&&!ha.y)return this;c.animate&&c.pan?this.panBy(ha):(c.pan&&this._rawPanBy(ha),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ca(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",{oldSize:m,newSize:F})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");
return this._stop()},locate:function(c){c=this._locateOptions=x({timeout:1E4,watch:!1},c);if(!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=ca(this._handleGeolocationResponse,this),F=ca(this._handleGeolocationError,this);c.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,F,c):navigator.geolocation.getCurrentPosition(m,F,c);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&
navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(c){var m=c.code;c=c.message||(1===m?"permission denied":2===m?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:m,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(c){var m=new Xa(c.coords.latitude,c.coords.longitude),F=m.toBounds(2*c.coords.accuracy),
ha=this._locateOptions;if(ha.setView){var Fa=this.getBoundsZoom(F);this.setView(m,ha.maxZoom?Math.min(Fa,ha.maxZoom):Fa)}m={latlng:m,bounds:F,timestamp:c.timestamp};for(var Ob in c.coords)"number"===typeof c.coords[Ob]&&(m[Ob]=c.coords[Ob]);this.fire("locationfound",m)},addHandler:function(c,m){if(!m)return this;m=this[c]=new m(this);this._handlers.push(m);this.options[c]&&m.enable();return this},remove:function(){this._initEvents(!0);this.off("moveend",this._panInsideMaxBounds);if(this._containerId!==
this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(m){this._containerId=this._container._leaflet_id=void 0}void 0!==this._locationWatchId&&this.stopLocate();this._stop();w(this._mapPane);this._clearControlPos&&this._clearControlPos();this._resizeRequest&&(Ea(this._resizeRequest),this._resizeRequest=null);this._clearHandlers();this._loaded&&this.fire("unload");for(var c in this._layers)this._layers[c].remove();
for(c in this._panes)w(this._panes[c]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(c,m){var F="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":"");m=v("div",F,m||this._mapPane);c&&(this._panes[c]=m);return m},getCenter:function(){this._checkIfLoaded();return this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=
this.getPixelBounds(),m=this.unproject(c.getBottomLeft());c=this.unproject(c.getTopRight());return new Aa(m,c)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,m,F){c=Qa(c);F=ab(F||[0,0]);var ha=this.getZoom()||0,Fa=this.getMinZoom(),Ob=this.getMaxZoom(),Tb=c.getNorthWest();c=c.getSouthEast();
F=this.getSize().subtract(F);var cc=ja(this.project(c,ha),this.project(Tb,ha)).getSize();Tb=Ac?this.options.zoomSnap:1;c=F.x/cc.x;F=F.y/cc.y;ha=this.getScaleZoom(m?Math.max(c,F):Math.min(c,F),ha);Tb&&(ha=Tb/100*Math.round(ha/(Tb/100)),ha=m?Math.ceil(ha/Tb)*Tb:Math.floor(ha/Tb)*Tb);return Math.max(Fa,Math.min(Ob,ha))},getSize:function(){if(!this._size||this._sizeChanged)this._size=new Ca(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1;return this._size.clone()},
getPixelBounds:function(c,m){c=this._getTopLeftPoint(c,m);return new Ma(c,c.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(void 0===c?this.getZoom():c)},getPane:function(c){return"string"===typeof c?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,m){var F=this.options.crs;m=void 0===m?this._zoom:
m;return F.scale(c)/F.scale(m)},getScaleZoom:function(c,m){var F=this.options.crs;m=void 0===m?this._zoom:m;c=F.zoom(c*F.scale(m));return isNaN(c)?Infinity:c},project:function(c,m){m=void 0===m?this._zoom:m;return this.options.crs.latLngToPoint(hb(c),m)},unproject:function(c,m){m=void 0===m?this._zoom:m;return this.options.crs.pointToLatLng(ab(c),m)},layerPointToLatLng:function(c){c=ab(c).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(c){return this.project(hb(c))._round()._subtract(this.getPixelOrigin())},
wrapLatLng:function(c){return this.options.crs.wrapLatLng(hb(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(Qa(c))},distance:function(c,m){return this.options.crs.distance(hb(c),hb(m))},containerPointToLayerPoint:function(c){return ab(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return ab(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){c=this.containerPointToLayerPoint(ab(c));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(hb(c)))},
mouseEventToContainerPoint:function(c){return Nc(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){c=this._container=ma(c);if(!c)throw Error("Map container not found.");if(c._leaflet_id)throw Error("Map container is already initialized.");Dc(c,"scroll",this._onScroll,this);this._containerId=Sa(c)},
_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ac;G(c,"leaflet-container"+(Ke?" leaflet-touch":"")+(tf?" leaflet-retina":"")+(Fd?" leaflet-oldie":"")+(Ld?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=R(c,"position");"absolute"!==m&&"relative"!==m&&"fixed"!==m&&(c.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={};this._mapPane=
this.createPane("mapPane",this._container);Z(this._mapPane,new Ca(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(G(c.markerPane,"leaflet-zoom-hide"),G(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,m){Z(this._mapPane,new Ca(0,0));var F=!this._loaded;this._loaded=!0;m=this._limitZoom(m);this.fire("viewprereset");var ha=
this._zoom!==m;this._moveStart(ha,!1)._move(c,m)._moveEnd(ha);this.fire("viewreset");F&&this.fire("load")},_moveStart:function(c,m){c&&this.fire("zoomstart");m||this.fire("movestart");return this},_move:function(c,m,F){void 0===m&&(m=this._zoom);var ha=this._zoom!==m;this._zoom=m;this._lastCenter=c;this._pixelOrigin=this._getNewPixelOrigin(c);(ha||F&&F.pinch)&&this.fire("zoom",F);return this.fire("move",F)},_moveEnd:function(c){c&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){Ea(this._flyToFrame);
this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(c){Z(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(c){this._targets={};this._targets[Sa(this._container)]=this;var m=c?Sc:Dc;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",
this._handleDOMEvent,this);this.options.trackResize&&m(window,"resize",this._onResize,this);Ac&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ea(this._resizeRequest);this._resizeRequest=mb(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&
this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,m){for(var F=[],ha,Fa="mouseout"===m||"mouseover"===m,Ob=c.target||c.srcElement,Tb=!1;Ob;){if((ha=this._targets[Sa(Ob)])&&("click"===m||"preclick"===m)&&!c._simulated&&this._draggableMoved(ha)){Tb=!0;break}if(ha&&ha.listens(m,!0)){if(Fa&&!sd(Ob,c))break;F.push(ha);if(Fa)break}if(Ob===this._container)break;Ob=Ob.parentNode}F.length||Tb||Fa||!sd(Ob,c)||(F=[this]);return F},_handleDOMEvent:function(c){if(this._loaded&&!ld(c)){var m=
c.type;"mousedown"!==m&&"keypress"!==m&&"keyup"!==m&&"keydown"!==m||Kb(c.target||c.srcElement);this._fireDOMEvent(c,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,m,F){if("click"===c.type){var ha=x({},c);ha.type="preclick";this._fireDOMEvent(ha,ha.type,F)}if(!c._stopped&&(F=(F||[]).concat(this._findEventTargets(c,m)),F.length)){var Fa=F[0];"contextmenu"===m&&Fa.listens(m,!0)&&Xc(c);ha={originalEvent:c};if("keypress"!==c.type&&"keydown"!==c.type&&
"keyup"!==c.type){var Ob=Fa.getLatLng&&(!Fa._radius||10>=Fa._radius);ha.containerPoint=Ob?this.latLngToContainerPoint(Fa.getLatLng()):this.mouseEventToContainerPoint(c);ha.layerPoint=this.containerPointToLayerPoint(ha.containerPoint);ha.latlng=Ob?Fa.getLatLng():this.layerPointToLatLng(ha.layerPoint)}for(c=0;c<F.length&&!(F[c].fire(m,ha,!0),ha.originalEvent._stopped||!1===F[c].options.bubblingMouseEvents&&-1!==Ha(this._mouseEvents,m));c++);}},_draggableMoved:function(c){c=c.dragging&&c.dragging.enabled()?
c:this;return c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,m=this._handlers.length;c<m;c++)this._handlers[c].disable()},whenReady:function(c,m){if(this._loaded)c.call(m||this,{target:this});else this.on("load",c,m);return this},_getMapPanePos:function(){return sa(this._mapPane)||new Ca(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,m){return(c&&void 0!==m?this._getNewPixelOrigin(c,
m):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,m){var F=this.getSize()._divideBy(2);return this.project(c,m)._subtract(F)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,m,F){F=this._getNewPixelOrigin(F,m);return this.project(c,m)._subtract(F)},_latLngBoundsToNewLayerBounds:function(c,m,F){F=this._getNewPixelOrigin(F,m);return ja([this.project(c.getSouthWest(),m)._subtract(F),this.project(c.getNorthWest(),m)._subtract(F),this.project(c.getSouthEast(),
m)._subtract(F),this.project(c.getNorthEast(),m)._subtract(F)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,m,F){if(!F)return c;var ha=this.project(c,m),Fa=this.getSize().divideBy(2);Fa=new Ma(ha.subtract(Fa),ha.add(Fa));F=this._getBoundsOffset(Fa,F,m);return F.round().equals([0,0])?c:this.unproject(ha.add(F),m)},_limitOffset:function(c,
m){if(!m)return c;var F=this.getPixelBounds();F=new Ma(F.min.add(c),F.max.add(c));return c.add(this._getBoundsOffset(F,m))},_getBoundsOffset:function(c,m,F){F=ja(this.project(m.getNorthEast(),F),this.project(m.getSouthWest(),F));m=F.min.subtract(c.min);F=F.max.subtract(c.max);c=this._rebound(m.x,-F.x);m=this._rebound(m.y,-F.y);return new Ca(c,m)},_rebound:function(c,m){return 0<c+m?Math.round(c-m)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(m))},_limitZoom:function(c){var m=this.getMinZoom(),
F=this.getMaxZoom(),ha=Ac?this.options.zoomSnap:1;ha&&(c=Math.round(c/ha)*ha);return Math.max(m,Math.min(F,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){B(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(c,m){c=this._getCenterOffset(c)._trunc();if(!0!==(m&&m.animate)&&!this.getSize().contains(c))return!1;this.panBy(c,m);return!0},_createAnimProxy:function(){var c=this._proxy=v("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c);
this.on("zoomanim",function(m){var F=se,ha=this._proxy.style[F];Ja(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1));ha===this._proxy.style[F]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){w(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),m=this.getZoom();Ja(this._proxy,
this.project(c,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(c){this._animatingZoom&&0<=c.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,m,F){if(this._animatingZoom)return!0;F=F||{};if(!this._zoomAnimated||!1===F.animate||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var ha=this.getZoomScale(m);
ha=this._getCenterOffset(c)._divideBy(1-1/ha);if(!0!==F.animate&&!this.getSize().contains(ha))return!1;mb(function(){this._moveStart(!0,!1)._animateZoom(c,m,!0)},this);return!0},_animateZoom:function(c,m,F,ha){this._mapPane&&(F&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=m,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:m,noUpdate:ha}),setTimeout(ca(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&
B(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),mb(function(){this._moveEnd(!0)},this))}}),da=Ga.extend({options:{position:"topright"},initialize:function(c){qb(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var m=this._map;m&&m.removeControl(this);this.options.position=c;m&&m.addControl(this);return this},getContainer:function(){return this._container},addTo:function(c){this.remove();this._map=
c;var m=this._container=this.onAdd(c),F=this.getPosition();c=c._controlCorners[F];G(m,"leaflet-control");-1!==F.indexOf("bottom")?c.insertBefore(m,c.firstChild):c.appendChild(m);this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map)return this;w(this._container);if(this.onRemove)this.onRemove(this._map);this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(c){this._map&&c&&0<c.screenX&&0<c.screenY&&this._map.getContainer().focus()}}),
kb=function(c){return new da(c)};J.include({addControl:function(c){c.addTo(this);return this},removeControl:function(c){c.remove();return this},_initControlPos:function(){function c(ha,Fa){m[ha+Fa]=v("div","leaflet-"+ha+" leaflet-"+Fa,F)}var m=this._controlCorners={},F=this._controlContainer=v("div","leaflet-control-container",this._container);c("top","left");c("top","right");c("bottom","left");c("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)w(this._controlCorners[c]);
w(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var Pb=da.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,m,F,ha){return F<ha?-1:ha<F?1:0}},initialize:function(c,m,F){qb(this,F);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var ha in c)this._addLayer(c[ha],ha);for(ha in m)this._addLayer(m[ha],ha,!0)},onAdd:function(c){this._initLayout();this._update();
this._map=c;c.on("zoomend",this._checkDisabledLayers,this);for(c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){da.prototype.addTo.call(this,c);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,m){this._addLayer(c,m);return this._map?
this._update():this},addOverlay:function(c,m){this._addLayer(c,m,!0);return this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);(c=this._getLayer(Sa(c)))&&this._layers.splice(this._layers.indexOf(c),1);return this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);c<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),
this._section.style.height=c+"px"):B(this._section,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){B(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var c=this._container=v("div","leaflet-control-layers"),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0);rc(c);Pc(c);var F=this._section=v("section","leaflet-control-layers-list");m&&(this._map.on("click",this.collapse,this),Oe||Dc(c,{mouseenter:this.expand,
mouseleave:this.collapse},this));var ha=this._layersLink=v("a","leaflet-control-layers-toggle",c);ha.href="#";ha.title="Layers";Ke?(Dc(ha,"click",$c),Dc(ha,"click",this.expand,this)):Dc(ha,"focus",this.expand,this);m||this.expand();this._baseLayersList=v("div","leaflet-control-layers-base",F);this._separator=v("div","leaflet-control-layers-separator",F);this._overlaysList=v("div","leaflet-control-layers-overlays",F);c.appendChild(F)},_getLayer:function(c){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&
Sa(this._layers[m].layer)===c)return this._layers[m]},_addLayer:function(c,m,F){if(this._map)c.on("add remove",this._onLayerChange,this);this._layers.push({layer:c,name:m,overlay:F});this.options.sortLayers&&this._layers.sort(ca(function(ha,Fa){return this.options.sortFunction(ha.layer,Fa.layer,ha.name,Fa.name)},this));this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;p(this._baseLayersList);
p(this._overlaysList);this._layerControlInputs=[];var c,m=0;for(c=0;c<this._layers.length;c++){var F=this._layers[c];this._addItem(F);var ha=ha||F.overlay;var Fa=Fa||!F.overlay;m+=F.overlay?0:1}this.options.hideSingleBase&&(Fa=Fa&&1<m,this._baseLayersList.style.display=Fa?"":"none");this._separator.style.display=ha&&Fa?"":"none";return this},_onLayerChange:function(c){this._handlingClick||this._update();var m=this._getLayer(Sa(c.target));(c=m.overlay?"add"===c.type?"overlayadd":"overlayremove":"add"===
c.type?"baselayerchange":null)&&this._map.fire(c,m)},_createRadioElement:function(c,m){c='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+c+'"'+(m?' checked\x3d"checked"':"")+"/\x3e";m=document.createElement("div");m.innerHTML=c;return m.firstChild},_addItem:function(c){var m=document.createElement("label"),F=this._map.hasLayer(c.layer);if(c.overlay){var ha=document.createElement("input");ha.type="checkbox";ha.className="leaflet-control-layers-selector";ha.defaultChecked=
F}else ha=this._createRadioElement("leaflet-base-layers_"+Sa(this),F);this._layerControlInputs.push(ha);ha.layerId=Sa(c.layer);Dc(ha,"click",this._onInputClick,this);F=document.createElement("span");F.innerHTML=" "+c.name;var Fa=document.createElement("div");m.appendChild(Fa);Fa.appendChild(ha);Fa.appendChild(F);(c.overlay?this._overlaysList:this._baseLayersList).appendChild(m);this._checkDisabledLayers();return m},_onInputClick:function(){var c=this._layerControlInputs,m=[],F=[];this._handlingClick=
!0;for(var ha=c.length-1;0<=ha;ha--){var Fa=c[ha];var Ob=this._getLayer(Fa.layerId).layer;Fa.checked?m.push(Ob):Fa.checked||F.push(Ob)}for(ha=0;ha<F.length;ha++)this._map.hasLayer(F[ha])&&this._map.removeLayer(F[ha]);for(ha=0;ha<m.length;ha++)this._map.hasLayer(m[ha])||this._map.addLayer(m[ha]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,m,F,ha=this._map.getZoom(),Fa=c.length-1;0<=Fa;Fa--)m=c[Fa],F=this._getLayer(m.layerId).layer,
m.disabled=void 0!==F.options.minZoom&&ha<F.options.minZoom||void 0!==F.options.maxZoom&&ha>F.options.maxZoom},_expandIfNotCollapsed:function(){this._map&&!this.options.collapsed&&this.expand();return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Mb=da.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"\x26#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(c){var m=v("div","leaflet-control-zoom leaflet-bar"),F=this.options;
this._zoomInButton=this._createButton(F.zoomInText,F.zoomInTitle,"leaflet-control-zoom-in",m,this._zoomIn);this._zoomOutButton=this._createButton(F.zoomOutText,F.zoomOutTitle,"leaflet-control-zoom-out",m,this._zoomOut);this._updateDisabled();c.on("zoomend zoomlevelschange",this._updateDisabled,this);return m},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;
this._updateDisabled();return this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,m,F,ha,Fa){F=v("a",F,ha);F.innerHTML=c;F.href="#";F.title=m;F.setAttribute("role","button");F.setAttribute("aria-label",m);rc(F);Dc(F,"click",$c);Dc(F,"click",
Fa,this);Dc(F,"click",this._refocusOnMap,this);return F},_updateDisabled:function(){var c=this._map;B(this._zoomInButton,"leaflet-disabled");B(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMinZoom())&&G(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMaxZoom())&&G(this._zoomInButton,"leaflet-disabled")}});J.mergeOptions({zoomControl:!0});J.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mb,this.addControl(this.zoomControl))});
var ac=da.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var m=v("div","leaflet-control-scale"),F=this.options;this._addScales(F,"leaflet-control-scale-line",m);c.on(F.updateWhenIdle?"moveend":"move",this._update,this);c.whenReady(this._update,this);return m},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,m,F){c.metric&&(this._mScale=v("div",m,F));c.imperial&&(this._iScale=v("div",m,F))},
_update:function(){var c=this._map,m=c.getSize().y/2;c=c.distance(c.containerPointToLatLng([0,m]),c.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(c)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c);this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var m=this._getRoundNum(c);this._updateScale(this._mScale,1E3>m?m+" m":m/1E3+" km",m/c)},_updateImperial:function(c){c*=3.2808399;if(5280<c){c/=5280;var m=this._getRoundNum(c);this._updateScale(this._iScale,
m+" mi",m/c)}else m=this._getRoundNum(c),this._updateScale(this._iScale,m+" ft",m/c)},_updateScale:function(c,m,F){c.style.width=Math.round(this.options.maxWidth*F)+"px";c.innerHTML=m},_getRoundNum:function(c){var m=Math.pow(10,(Math.floor(c)+"").length-1);c/=m;return m*(10<=c?10:5<=c?5:3<=c?3:2<=c?2:1)}}),ic=da.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"https://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},initialize:function(c){qb(this,c);
this._attributions={}},onAdd:function(c){c.attributionControl=this;this._container=v("div","leaflet-control-attribution");rc(this._container);for(var m in c._layers)c._layers[m].getAttribution&&this.addAttribution(c._layers[m].getAttribution());this._update();return this._container},setPrefix:function(c){this.options.prefix=c;this._update();return this},addAttribution:function(c){if(!c)return this;this._attributions[c]||(this._attributions[c]=0);this._attributions[c]++;this._update();return this},
removeAttribution:function(c){if(!c)return this;this._attributions[c]&&(this._attributions[c]--,this._update());return this},_update:function(){if(this._map){var c=[];for(m in this._attributions)this._attributions[m]&&c.push(m);var m=[];this.options.prefix&&m.push(this.options.prefix);c.length&&m.push(c.join(", "));this._container.innerHTML=m.join(" | ")}}});J.mergeOptions({attributionControl:!0});J.addInitHook(function(){this.options.attributionControl&&(new ic).addTo(this)});da.Layers=Pb;da.Zoom=
Mb;da.Scale=ac;da.Attribution=ic;kb.layers=function(c,m,F){return new Pb(c,m,F)};kb.zoom=function(c){return new Mb(c)};kb.scale=function(c){return new ac(c)};kb.attribution=function(c){return new ic(c)};var Qc=Ga.extend({initialize:function(c){this._map=c},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});Qc.addTo=
function(c,m){c.addHandler(m,this);return this};var Kc={Events:od},ad=Ke?"touchstart mousedown":"mousedown",ud={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Nd={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Td=qd.extend({options:{clickTolerance:3},initialize:function(c,m,F,ha){qb(this,ha);this._element=c;this._dragStartTarget=m||c;this._preventOutline=F},enable:function(){this._enabled||(Dc(this._dragStartTarget,
ad,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Td._dragging===this&&this.finishDrag(),Sc(this._dragStartTarget,ad,this._onDown,this),this._moved=this._enabled=!1)},_onDown:function(c){if(!c._simulated&&this._enabled&&(this._moved=!1,!(D(this._element,"leaflet-zoom-anim")||Td._dragging||c.shiftKey||1!==c.which&&1!==c.button&&!c.touches||(Td._dragging=this,this._preventOutline&&Kb(this._element),eb(),Te(),this._moving)))){this.fire("down");var m=c.touches?c.touches[0]:c,
F=Ec(this._element);this._startPoint=new Ca(m.clientX,m.clientY);this._parentScale=gd(F);Dc(document,Nd[c.type],this._onMove,this);Dc(document,ud[c.type],this._onUp,this)}},_onMove:function(c){if(!c._simulated&&this._enabled)if(c.touches&&1<c.touches.length)this._moved=!0;else{var m=c.touches&&1===c.touches.length?c.touches[0]:c;m=(new Ca(m.clientX,m.clientY))._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,
Xc(c),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=sa(this._element).subtract(m),G(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,Ea(this._animRequest),this._lastEvent=c,this._animRequest=mb(this._updatePosition,this,
!0))}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c);Z(this._element,this._newPos);this.fire("drag",c)},_onUp:function(c){!c._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){B(document.body,"leaflet-dragging");this._lastTarget&&(B(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var c in Nd)Sc(document,Nd[c],this._onMove,this),Sc(document,ud[c],this._onUp,this);xb();Me();this._moved&&this._moving&&(Ea(this._animRequest),
this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;Td._dragging=!1}}),Bd,af={simplify:ge,pointToSegmentDistance:La,closestPointOnSegment:function(c,m,F){return de(c,m,F)},clipSegment:$b,_getEdgeIntersection:rd,_getBitCode:vd,_sqClosestPointOnSegment:de,isFlat:oe,_flat:X},Pd={clipPolygon:za},Fe={project:function(c){return new Ca(c.lng,c.lat)},unproject:function(c){return new Xa(c.y,c.x)},bounds:new Ma([-180,-90],[180,90])},he={R:6378137,R_MINOR:6356752.314245179,
bounds:new Ma([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(c){var m=Math.PI/180,F=this.R,ha=c.lat*m,Fa=this.R_MINOR/F;Fa=Math.sqrt(1-Fa*Fa);var Ob=Fa*Math.sin(ha);ha=-F*Math.log(Math.max(Math.tan(Math.PI/4-ha/2)/Math.pow((1-Ob)/(1+Ob),Fa/2),1E-10));return new Ca(c.lng*m*F,ha)},unproject:function(c){var m=180/Math.PI,F=this.R,ha=this.R_MINOR/F;ha=Math.sqrt(1-ha*ha);for(var Fa=Math.exp(-c.y/F),Ob=Math.PI/2-2*Math.atan(Fa),Tb=0,cc=.1;15>Tb&&1E-7<Math.abs(cc);Tb++)cc=
ha*Math.sin(Ob),cc=Math.pow((1-cc)/(1+cc),ha/2),cc=Math.PI/2-2*Math.atan(Fa*cc)-Ob,Ob+=cc;return new Xa(Ob*m,c.x*m/F)}},ze={LonLat:Fe,Mercator:he,SphericalMercator:me},Sf=x({},Wd,{code:"EPSG:3395",projection:he,transformation:function(){var c=.5/(Math.PI*he.R);return ob(c,.5,-c,.5)}()}),be=x({},Wd,{code:"EPSG:4326",projection:Fe,transformation:ob(1/180,1,-1/180,.5)}),wf=x({},Ed,{projection:Fe,transformation:ob(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},
distance:function(c,m){var F=m.lng-c.lng;c=m.lat-c.lat;return Math.sqrt(F*F+c*c)},infinite:!0});Ed.Earth=Wd;Ed.EPSG3395=Sf;Ed.EPSG3857=ye;Ed.EPSG900913=Ye;Ed.EPSG4326=be;Ed.Simple=wf;var Ce=qd.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){c.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){c&&c.removeLayer(this);return this},getPane:function(c){return this._map.getPane(c?this.options[c]||
c:this.options.pane)},addInteractiveTarget:function(c){this._map._targets[Sa(c)]=this;return this},removeInteractiveTarget:function(c){delete this._map._targets[Sa(c)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var m=c.target;if(m.hasLayer(this)){this._map=m;this._zoomAnimated=m._zoomAnimated;if(this.getEvents){var F=this.getEvents();m.on(F,this);this.once("remove",function(){m.off(F,this)},this)}this.onAdd(m);this.getAttribution&&m.attributionControl&&
m.attributionControl.addAttribution(this.getAttribution());this.fire("add");m.fire("layeradd",{layer:this})}}});J.include({addLayer:function(c){if(!c._layerAdd)throw Error("The provided object is not a Layer.");var m=Sa(c);if(this._layers[m])return this;this._layers[m]=c;c._mapToAdd=this;c.beforeAdd&&c.beforeAdd(this);this.whenReady(c._layerAdd,c);return this},removeLayer:function(c){var m=Sa(c);if(!this._layers[m])return this;if(this._loaded)c.onRemove(this);c.getAttribution&&this.attributionControl&&
this.attributionControl.removeAttribution(c.getAttribution());delete this._layers[m];this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove"));c._map=c._mapToAdd=null;return this},hasLayer:function(c){return!!c&&Sa(c)in this._layers},eachLayer:function(c,m){for(var F in this._layers)c.call(m,this._layers[F]);return this},_addLayers:function(c){c=c?Cc(c)?c:[c]:[];for(var m=0,F=c.length;m<F;m++)this.addLayer(c[m])},_addZoomLimit:function(c){if(isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))this._zoomBoundLayers[Sa(c)]=
c,this._updateZoomLevels()},_removeZoomLimit:function(c){c=Sa(c);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var c=Infinity,m=-Infinity,F=this._getZoomSpan(),ha;for(ha in this._zoomBoundLayers){var Fa=this._zoomBoundLayers[ha].options;c=void 0===Fa.minZoom?c:Math.min(c,Fa.minZoom);m=void 0===Fa.maxZoom?m:Math.max(m,Fa.maxZoom)}this._layersMaxZoom=-Infinity===m?void 0:m;this._layersMinZoom=Infinity===c?void 0:c;F!==this._getZoomSpan()&&
this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kf=Ce.extend({initialize:function(c,m){qb(this,m);this._layers={};var F;if(c)for(m=0,F=c.length;m<F;m++)this.addLayer(c[m])},addLayer:function(c){var m=this.getLayerId(c);this._layers[m]=c;this._map&&this._map.addLayer(c);
return this},removeLayer:function(c){c=c in this._layers?c:this.getLayerId(c);this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]);delete this._layers[c];return this},hasLayer:function(c){return c?("number"===typeof c?c:this.getLayerId(c))in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var m=Array.prototype.slice.call(arguments,1),F;for(F in this._layers){var ha=this._layers[F];ha[c]&&ha[c].apply(ha,m)}return this},onAdd:function(c){this.eachLayer(c.addLayer,
c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,m){for(var F in this._layers)c.call(m,this._layers[F]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];this.eachLayer(c.push,c);return c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return Sa(c)}}),ef=Kf.extend({addLayer:function(c){if(this.hasLayer(c))return this;c.addEventParent(this);Kf.prototype.addLayer.call(this,c);return this.fire("layeradd",
{layer:c})},removeLayer:function(c){if(!this.hasLayer(c))return this;c in this._layers&&(c=this._layers[c]);c.removeEventParent(this);Kf.prototype.removeLayer.call(this,c);return this.fire("layerremove",{layer:c})},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new Aa,m;for(m in this._layers){var F=this._layers[m];c.extend(F.getBounds?F.getBounds():
F.getLatLng())}return c}}),gg=Ga.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(c){qb(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,m){var F=this._getIconUrl(c);if(!F){if("icon"===c)throw Error("iconUrl not set in Icon options (see the docs).");return null}m=this._createImg(F,m&&"IMG"===m.tagName?m:null);this._setIconStyles(m,c);return m},_setIconStyles:function(c,
m){var F=this.options,ha=F[m+"Size"];"number"===typeof ha&&(ha=[ha,ha]);ha=ab(ha);var Fa=ab("shadow"===m&&F.shadowAnchor||F.iconAnchor||ha&&ha.divideBy(2,!0));c.className="leaflet-marker-"+m+" "+(F.className||"");Fa&&(c.style.marginLeft=-Fa.x+"px",c.style.marginTop=-Fa.y+"px");ha&&(c.style.width=ha.x+"px",c.style.height=ha.y+"px")},_createImg:function(c,m){m=m||document.createElement("img");m.src=c;return m},_getIconUrl:function(c){return tf&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}}),
M=gg.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){M.imagePath||(M.imagePath=this._detectIconPath());return(this.options.imagePath||M.imagePath)+gg.prototype._getIconUrl.call(this,c)},_detectIconPath:function(){var c=v("div","leaflet-default-icon-path",document.body),m=R(c,"background-image")||R(c,"backgroundImage");
document.body.removeChild(c);return m=null===m||0!==m.indexOf("url")?"":m.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),N=Qc.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Td(c,c,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();G(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,
predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&B(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var m=this._marker,F=m._map,ha=this._marker.options.autoPanSpeed,Fa=this._marker.options.autoPanPadding,Ob=sa(m._icon),Tb=F.getPixelBounds(),cc=F.getPixelOrigin();Fa=ja(Tb.min._subtract(cc).add(Fa),Tb.max._subtract(cc).subtract(Fa));Fa.contains(Ob)||(ha=ab((Math.max(Fa.max.x,
Ob.x)-Fa.max.x)/(Tb.max.x-Fa.max.x)-(Math.min(Fa.min.x,Ob.x)-Fa.min.x)/(Tb.min.x-Fa.min.x),(Math.max(Fa.max.y,Ob.y)-Fa.max.y)/(Tb.max.y-Fa.max.y)-(Math.min(Fa.min.y,Ob.y)-Fa.min.y)/(Tb.min.y-Fa.min.y)).multiplyBy(ha),F.panBy(ha,{animate:!1}),this._draggable._newPos._add(ha),this._draggable._startPos._add(ha),Z(m._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=mb(this._adjustPan.bind(this,c)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup&&
this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(Ea(this._panRequest),this._panRequest=mb(this._adjustPan.bind(this,c)))},_onDrag:function(c){var m=this._marker,F=m._shadow,ha=sa(m._icon),Fa=m._map.layerPointToLatLng(ha);F&&Z(F,ha);m._latlng=Fa;c.latlng=Fa;c.oldLatLng=this._oldLatLng;m.fire("move",c).fire("drag",c)},_onDragEnd:function(c){Ea(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",
c)}}),Y=Ce.extend({options:{icon:new M,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,m){qb(this,m);this._latlng=hb(c)},onAdd:function(c){if(this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation)c.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(c){this.dragging&&
this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var m=this._latlng;this._latlng=hb(c);this.update();return this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(c){this.options.zIndexOffset=
c;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){this.options.icon=c;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),F=c.icon.createIcon(this._icon),
ha=!1;F!==this._icon&&(this._icon&&this._removeIcon(),ha=!0,c.title&&(F.title=c.title),"IMG"===F.tagName&&(F.alt=c.alt||""));G(F,m);c.keyboard&&(F.tabIndex="0");this._icon=F;if(c.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});F=c.icon.createShadow(this._shadow);var Fa=!1;F!==this._shadow&&(this._removeShadow(),Fa=!0);F&&(G(F,m),F.alt="");this._shadow=F;1>c.opacity&&this._updateOpacity();ha&&this.getPane().appendChild(this._icon);this._initInteraction();F&&Fa&&this.getPane(c.shadowPane).appendChild(this._shadow)},
_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});w(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&w(this._shadow);this._shadow=null},_setPos:function(c){this._icon&&Z(this._icon,c);this._shadow&&Z(this._shadow,c);this._zIndex=c.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){c=
this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),N)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable());this.dragging=new N(this);c&&this.dragging.enable()}},setOpacity:function(c){this.options.opacity=c;this._map&&this._updateOpacity();return this},_updateOpacity:function(){var c=this.options.opacity;
this._icon&&la(this._icon,c);this._shadow&&la(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ia=Ce.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,
fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);return this},setStyle:function(c){qb(this,c);this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds());
return this},bringToFront:function(){this._renderer&&this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ya=ia.extend({options:{fill:!0,radius:10},initialize:function(c,m){qb(this,m);this._latlng=hb(c);this._radius=
this.options.radius},setLatLng:function(c){var m=this._latlng;this._latlng=hb(c);this.redraw();return this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){this.options.radius=this._radius=c;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var m=c&&c.radius||this._radius;ia.prototype.setStyle.call(this,c);this.setRadius(m);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);
this._updateBounds()},_updateBounds:function(){var c=this._radius,m=this._radiusY||c,F=this._clickTolerance();c=[c+F,m+F];this._pxBounds=new Ma(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Da=ya.extend({initialize:function(c,
m,F){"number"===typeof m&&(m=x({},F,{radius:m}));qb(this,m);this._latlng=hb(c);if(isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){this._mRadius=c;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new Aa(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:ia.prototype.setStyle,
_project:function(){var c=this._latlng.lng,m=this._latlng.lat,F=this._map,ha=F.options.crs;if(ha.distance===Wd.distance){var Fa=Math.PI/180;ha=this._mRadius/Wd.R/Fa;var Ob=F.project([m+ha,c]),Tb=F.project([m-ha,c]);Tb=Ob.add(Tb).divideBy(2);var cc=F.unproject(Tb).lat;Fa=Math.acos((Math.cos(ha*Fa)-Math.sin(m*Fa)*Math.sin(cc*Fa))/(Math.cos(m*Fa)*Math.cos(cc*Fa)))/Fa;if(isNaN(Fa)||0===Fa)Fa=ha/Math.cos(Math.PI/180*m);this._point=Tb.subtract(F.getPixelOrigin());this._radius=isNaN(Fa)?0:Tb.x-F.project([cc,
c-Fa]).x;this._radiusY=Tb.y-Ob.y}else c=ha.unproject(ha.project(this._latlng).subtract([this._mRadius,0])),this._point=F.latLngToLayerPoint(this._latlng),this._radius=this._point.x-F.latLngToLayerPoint(c).x;this._updateBounds()}}),Za=ia.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,m){qb(this,m);this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){this._setLatLngs(c);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var m=
Infinity,F=null,ha=de,Fa,Ob,Tb=0,cc=this._parts.length;Tb<cc;Tb++)for(var vc=this._parts[Tb],hd=1,nd=vc.length;hd<nd;hd++){Fa=vc[hd-1];Ob=vc[hd];var ie=ha(c,Fa,Ob,!0);ie<m&&(m=ie,F=ha(c,Fa,Ob))}F&&(F.distance=Math.sqrt(m));return F},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,m,F,ha=this._rings[0],Fa=ha.length;if(!Fa)return null;for(m=c=0;c<Fa-1;c++)m+=ha[c].distanceTo(ha[c+1])/2;if(0===m)return this._map.layerPointToLatLng(ha[0]);for(F=c=
0;c<Fa-1;c++){var Ob=ha[c];var Tb=ha[c+1];var cc=Ob.distanceTo(Tb);F+=cc;if(F>m)return c=(F-m)/cc,this._map.layerPointToLatLng([Tb.x-c*(Tb.x-Ob.x),Tb.y-c*(Tb.y-Ob.y)])}},getBounds:function(){return this._bounds},addLatLng:function(c,m){m=m||this._defaultShape();c=hb(c);m.push(c);this._bounds.extend(c);return this.redraw()},_setLatLngs:function(c){this._bounds=new Aa;this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return oe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var m=
[],F=oe(c),ha=0,Fa=c.length;ha<Fa;ha++)F?(m[ha]=hb(c[ha]),this._bounds.extend(m[ha])):m[ha]=this._convertLatLngs(c[ha]);return m},_project:function(){var c=new Ma;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,c);this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance();c=new Ca(c,c);this._pxBounds=new Ma([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)])},_projectLatlngs:function(c,m,F){var ha=
c.length,Fa;if(c[0]instanceof Xa){var Ob=[];for(Fa=0;Fa<ha;Fa++)Ob[Fa]=this._map.latLngToLayerPoint(c[Fa]),F.extend(Ob[Fa]);m.push(Ob)}else for(Fa=0;Fa<ha;Fa++)this._projectLatlngs(c[Fa],m,F)},_clipPoints:function(){var c=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{var m=this._parts,F,ha,Fa,Ob;var Tb=F=0;for(ha=this._rings.length;F<ha;F++){var cc=this._rings[F];var vc=0;for(Fa=cc.length;vc<Fa-1;vc++)if(Ob=
$b(cc[vc],cc[vc+1],c,vc,!0))if(m[Tb]=m[Tb]||[],m[Tb].push(Ob[0]),Ob[1]!==cc[vc+1]||vc===Fa-2)m[Tb].push(Ob[1]),Tb++}}},_simplifyPoints:function(){for(var c=this._parts,m=this.options.smoothFactor,F=0,ha=c.length;F<ha;F++)c[F]=ge(c[F],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,m){var F,ha,Fa=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;
var Ob=0;for(ha=this._parts.length;Ob<ha;Ob++){var Tb=this._parts[Ob];var cc=0;var vc=Tb.length;for(F=vc-1;cc<vc;F=cc++)if((m||0!==cc)&&La(c,Tb[F],Tb[cc])<=Fa)return!0}return!1}});Za._flat=X;var tb=Za.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,m,F,ha,Fa=this._rings[0],Ob=Fa.length;if(!Ob)return null;var Tb=m=F=ha=0;for(c=Ob-1;Tb<Ob;c=Tb++){var cc=
Fa[Tb];c=Fa[c];var vc=cc.y*c.x-c.y*cc.x;F+=(cc.x+c.x)*vc;ha+=(cc.y+c.y)*vc;m+=3*vc}return this._map.layerPointToLatLng(0===m?Fa[0]:[F/m,ha/m])},_convertLatLngs:function(c){c=Za.prototype._convertLatLngs.call(this,c);var m=c.length;2<=m&&c[0]instanceof Xa&&c[0].equals(c[m-1])&&c.pop();return c},_setLatLngs:function(c){Za.prototype._setLatLngs.call(this,c);oe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return oe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=
this._renderer._bounds,m=this.options.weight;m=new Ca(m,m);c=new Ma(c.min.subtract(m),c.max.add(m));this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{m=0;for(var F=this._rings.length,ha;m<F;m++)ha=za(this._rings[m],c,!0),ha.length&&this._parts.push(ha)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var m=!1,F,ha;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;var Fa=0;for(ha=this._parts.length;Fa<
ha;Fa++){var Ob=this._parts[Fa];var Tb=0;var cc=Ob.length;for(F=cc-1;Tb<cc;F=Tb++){var vc=Ob[Tb];F=Ob[F];vc.y>c.y!==F.y>c.y&&c.x<(F.x-vc.x)*(c.y-vc.y)/(F.y-vc.y)+vc.x&&(m=!m)}}return m||Za.prototype._containsPoint.call(this,c,!0)}}),nb=ef.extend({initialize:function(c,m){qb(this,m);this._layers={};c&&this.addData(c)},addData:function(c){var m=Cc(c)?c:c.features,F;if(m){c=0;for(F=m.length;c<F;c++){var ha=m[c];(ha.geometries||ha.geometry||ha.features||ha.coordinates)&&this.addData(ha)}return this}m=
this.options;if(m.filter&&!m.filter(c))return this;F=gb(c,m);if(!F)return this;F.feature=rb(c);F.defaultOptions=F.options;this.resetStyle(F);if(m.onEachFeature)m.onEachFeature(c,F);return this.addLayer(F)},resetStyle:function(c){if(void 0===c)return this.eachLayer(this.resetStyle,this);c.options=x({},c.defaultOptions);this._setLayerStyle(c,this.options.style);return this},setStyle:function(c){return this.eachLayer(function(m){this._setLayerStyle(m,c)},this)},_setLayerStyle:function(c,m){c.setStyle&&
("function"===typeof m&&(m=m(c.feature)),c.setStyle(m))}}),zb={toGeoJSON:function(c){return Oa(this,{type:"Point",coordinates:sc(this.getLatLng(),c)})}};Y.include(zb);Da.include(zb);ya.include(zb);Za.include({toGeoJSON:function(c){var m=!oe(this._latlngs);c=jc(this._latlngs,m?1:0,!1,c);return Oa(this,{type:(m?"Multi":"")+"LineString",coordinates:c})}});tb.include({toGeoJSON:function(c){var m=!oe(this._latlngs),F=m&&!oe(this._latlngs[0]);c=jc(this._latlngs,F?2:m?1:0,!0,c);m||(c=[c]);return Oa(this,
{type:(F?"Multi":"")+"Polygon",coordinates:c})}});Kf.include({toMultiPoint:function(c){var m=[];this.eachLayer(function(F){m.push(F.toGeoJSON(c).geometry.coordinates)});return Oa(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(c){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===m)return this.toMultiPoint(c);var F="GeometryCollection"===m,ha=[];this.eachLayer(function(Fa){Fa.toGeoJSON&&(Fa=Fa.toGeoJSON(c),F?ha.push(Fa.geometry):(Fa=rb(Fa),"FeatureCollection"===
Fa.type?ha.push.apply(ha,Fa.features):ha.push(Fa)))});return F?Oa(this,{geometries:ha,type:"GeometryCollection"}):{type:"FeatureCollection",features:ha}}});var Eb=Ce.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,m,F){this._url=c;this._bounds=Qa(m);qb(this,F)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(G(this._image,"leaflet-interactive"),
this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){w(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){this.options.opacity=c;this._image&&this._updateOpacity();return this},setStyle:function(c){c.opacity&&this.setOpacity(c.opacity);return this},bringToFront:function(){this._map&&r(this._image);return this},bringToBack:function(){this._map&&C(this._image);return this},setUrl:function(c){this._url=
c;this._image&&(this._image.src=c);return this},setBounds:function(c){this._bounds=Qa(c);this._map&&this._reset();return this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c="IMG"===this._url.tagName,m=this._image=c?this._url:v("img");
G(m,"leaflet-image-layer");this._zoomAnimated&&G(m,"leaflet-zoom-animated");this.options.className&&G(m,this.options.className);m.onselectstart=ub;m.onmousemove=ub;m.onload=ca(this.fire,this,"load");m.onerror=ca(this._overlayOnError,this,"error");if(this.options.crossOrigin||""===this.options.crossOrigin)m.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;this.options.zIndex&&this._updateZIndex();c?this._url=m.src:(m.src=this._url,m.alt=this.options.alt)},_animateZoom:function(c){var m=
this._map.getZoomScale(c.zoom);c=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;Ja(this._image,c,m)},_reset:function(){var c=this._image,m=new Ma(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),F=m.getSize();Z(c,m.min);c.style.width=F.x+"px";c.style.height=F.y+"px"},_updateOpacity:function(){la(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==
this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)}}),Yb=Eb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var c="VIDEO"===this._url.tagName,m=this._image=c?this._url:v("video");G(m,"leaflet-image-layer");this._zoomAnimated&&G(m,"leaflet-zoom-animated");this.options.className&&G(m,this.options.className);m.onselectstart=
ub;m.onmousemove=ub;m.onloadeddata=ca(this.fire,this,"load");if(c){c=m.getElementsByTagName("source");for(var F=[],ha=0;ha<c.length;ha++)F.push(c[ha].src);this._url=0<c.length?F:[m.src]}else for(Cc(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,c=0;c<this._url.length;c++)F=v("source"),F.src=this._url[c],
m.appendChild(F)}}),pc=Eb.extend({_initImage:function(){var c=this._image=this._url;G(c,"leaflet-image-layer");this._zoomAnimated&&G(c,"leaflet-zoom-animated");this.options.className&&G(c,this.options.className);c.onselectstart=ub;c.onmousemove=ub}}),u=Ce.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(c,m){qb(this,c);this._source=m},onAdd:function(c){this._zoomAnimated=c._zoomAnimated;this._container||this._initLayout();c._fadeAnimated&&la(this._container,0);clearTimeout(this._removeTimeout);
this.getPane().appendChild(this._container);this.update();c._fadeAnimated&&la(this._container,1);this.bringToFront()},onRemove:function(c){c._fadeAnimated?(la(this._container,0),this._removeTimeout=setTimeout(ca(w,void 0,this._container),200)):w(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(c){this._latlng=hb(c);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(c){this._content=c;this.update();
return this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&r(this._container);
return this},bringToBack:function(){this._map&&C(this._container);return this},_prepareOpen:function(c,m,F){m instanceof Ce||(F=m,m=c);if(m instanceof ef)for(var ha in c._layers){m=c._layers[ha];break}if(!F)if(m.getCenter)F=m.getCenter();else if(m.getLatLng)F=m.getLatLng();else throw Error("Unable to get source layer LatLng.");this._source=m;this.update();return F},_updateContent:function(){if(this._content){var c=this._contentNode,m="function"===typeof this._content?this._content(this._source||this):
this._content;if("string"===typeof m)c.innerHTML=m;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),m=ab(this.options.offset),F=this._getAnchor();this._zoomAnimated?Z(this._container,c.add(F)):m=m.add(c).add(F);c=this._containerBottom=-m.y;m=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=c+"px";this._container.style.left=
m+"px"}},_getAnchor:function(){return[0,0]}}),E=u.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){c.openPopup(this);return this},onAdd:function(c){u.prototype.onAdd.call(this,c);c.fire("popupopen",{popup:this});if(this._source&&(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof ia)))this._source.on("preclick",
wc)},onRemove:function(c){u.prototype.onRemove.call(this,c);c.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ia||this._source.off("preclick",wc))},getEvents:function(){var c=u.prototype.getEvents.call(this);if(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)c.preclick=this._close;this.options.keepInView&&(c.moveend=this._adjustPan);return c},_close:function(){this._map&&this._map.closePopup(this)},
_initLayout:function(){var c=this._container=v("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=v("div","leaflet-popup-content-wrapper",c);this._contentNode=v("div","leaflet-popup-content",m);rc(c);Pc(this._contentNode);Dc(c,"contextmenu",wc);this._tipContainer=v("div","leaflet-popup-tip-container",c);this._tip=v("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&(c=this._closeButton=v("a","leaflet-popup-close-button",c),c.href="#close",
c.innerHTML="\x26#215;",Dc(c,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var c=this._contentNode,m=c.style;m.width="";m.whiteSpace="nowrap";var F=c.offsetWidth;F=Math.min(F,this.options.maxWidth);F=Math.max(F,this.options.minWidth);m.width=F+1+"px";m.whiteSpace="";m.height="";F=c.offsetHeight;var ha=this.options.maxHeight;ha&&F>ha?(m.height=ha+"px",G(c,"leaflet-popup-scrolled")):B(c,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){c=
this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);var m=this._getAnchor();Z(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var c=this._map,m=parseInt(R(this._container,"marginBottom"),10)||0;m=this._container.offsetHeight+m;var F=this._containerWidth,ha=new Ca(this._containerLeft,-m-this._containerBottom);ha._add(sa(this._container));ha=c.layerPointToContainerPoint(ha);var Fa=ab(this.options.autoPanPadding),Ob=ab(this.options.autoPanPaddingTopLeft||
Fa);Fa=ab(this.options.autoPanPaddingBottomRight||Fa);var Tb=c.getSize(),cc=0,vc=0;ha.x+F+Fa.x>Tb.x&&(cc=ha.x+F-Tb.x+Fa.x);0>ha.x-cc-Ob.x&&(cc=ha.x-Ob.x);ha.y+m+Fa.y>Tb.y&&(vc=ha.y+m-Tb.y+Fa.y);0>ha.y-vc-Ob.y&&(vc=ha.y-Ob.y);(cc||vc)&&c.fire("autopanstart").panBy([cc,vc])}},_onCloseButtonClick:function(c){this._close();$c(c)},_getAnchor:function(){return ab(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});J.mergeOptions({closePopupOnClick:!0});J.include({openPopup:function(c,
m,F){c instanceof E||(c=(new E(F)).setContent(c));m&&c.setLatLng(m);if(this.hasLayer(c))return this;this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=c;return this.addLayer(c)},closePopup:function(c){c&&c!==this._popup||(c=this._popup,this._popup=null);c&&this.removeLayer(c);return this}});Ce.include({bindPopup:function(c,m){if(c instanceof E)qb(c,m),this._popup=c,c._source=this;else{if(!this._popup||m)this._popup=new E(m,this);this._popup.setContent(c)}this._popupHandlersAdded||
(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null);return this},openPopup:function(c,m){this._popup&&this._map&&(m=this._popup._prepareOpen(this,c,m),this._map.openPopup(this._popup,m));return this},closePopup:function(){this._popup&&
this._popup._close();return this},togglePopup:function(c){this._popup&&(this._popup._map?this.closePopup():this.openPopup(c));return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){this._popup&&this._popup.setContent(c);return this},getPopup:function(){return this._popup},_openPopup:function(c){var m=c.layer||c.target;this._popup&&this._map&&($c(c),m instanceof ia?this.openPopup(c.layer||c.target,c.latlng):this._map.hasLayer(this._popup)&&this._popup._source===
m?this.closePopup():this.openPopup(m,c.latlng))},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){13===c.originalEvent.keyCode&&this._openPopup(c)}});var aa=u.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(c){u.prototype.onAdd.call(this,c);this.setOpacity(this.options.opacity);c.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(c){u.prototype.onRemove.call(this,
c);c.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var c=u.prototype.getEvents.call(this);Ke&&!this.options.permanent&&(c.preclick=this._close);return c},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=v("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},
_setPosition:function(c){var m=this._map,F=this._container;var ha=m.latLngToContainerPoint(m.getCenter());var Fa=m.layerPointToContainerPoint(c);m=this.options.direction;var Ob=F.offsetWidth;var Tb=F.offsetHeight;var cc=ab(this.options.offset),vc=this._getAnchor();"top"===m?ha=Ob/2:"bottom"===m?(ha=Ob/2,Tb=0):("center"===m?ha=Ob/2:"right"===m?ha=0:"left"===m?ha=Ob:Fa.x<ha.x?(m="right",ha=0):(m="left",ha=Ob+2*(cc.x+vc.x)),Tb/=2);c=c.subtract(ab(ha,Tb,!0)).add(cc).add(vc);B(F,"leaflet-tooltip-right");
B(F,"leaflet-tooltip-left");B(F,"leaflet-tooltip-top");B(F,"leaflet-tooltip-bottom");G(F,"leaflet-tooltip-"+m);Z(F,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c;this._container&&la(this._container,c)},_animateZoom:function(c){c=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(c)},_getAnchor:function(){return ab(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?
this._source._getTooltipAnchor():[0,0])}});J.include({openTooltip:function(c,m,F){c instanceof aa||(c=(new aa(F)).setContent(c));m&&c.setLatLng(m);return this.hasLayer(c)?this:this.addLayer(c)},closeTooltip:function(c){c&&this.removeLayer(c);return this}});Ce.include({bindTooltip:function(c,m){if(c instanceof aa)qb(c,m),this._tooltip=c,c._source=this;else{if(!this._tooltip||m)this._tooltip=new aa(m,this);this._tooltip.setContent(c)}this._initTooltipInteractions();this._tooltip.options.permanent&&
this._map&&this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null);return this},_initTooltipInteractions:function(c){if(c||!this._tooltipHandlersAdded){var m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),
Ke&&(m.click=this._openTooltip));this[c?"off":"on"](m);this._tooltipHandlersAdded=!c}},openTooltip:function(c,m){this._tooltip&&this._map&&(m=this._tooltip._prepareOpen(this,c,m),this._map.openTooltip(this._tooltip,m),this._tooltip.options.interactive&&this._tooltip._container&&(G(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)));return this},closeTooltip:function(){this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&
(B(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)));return this},toggleTooltip:function(c){this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(c));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){this._tooltip&&this._tooltip.setContent(c);return this},getTooltip:function(){return this._tooltip},_openTooltip:function(c){this._tooltip&&this._map&&this.openTooltip(c.layer||c.target,
this._tooltip.options.sticky?c.latlng:void 0)},_moveTooltip:function(c){var m=c.latlng;this._tooltip.options.sticky&&c.originalEvent&&(c=this._map.mouseEventToContainerPoint(c.originalEvent),c=this._map.containerPointToLayerPoint(c),m=this._map.layerPointToLatLng(c));this._tooltip.setLatLng(m)}});var ka=gg.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){c=c&&"DIV"===c.tagName?c:document.createElement("div");var m=this.options;m.html instanceof
Element?(p(c),c.appendChild(m.html)):c.innerHTML=!1!==m.html?m.html:"";m.bgPos&&(m=ab(m.bgPos),c.style.backgroundPosition=-m.x+"px "+-m.y+"px");this._setIconStyles(c,"icon");return c},createShadow:function(){return null}});gg.Default=M;var lb=Ce.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){qb(this,
c)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles();w(this._container);c._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){this._map&&(r(this._container),this._setAutoZIndex(Math.max));return this},bringToBack:function(){this._map&&(C(this._container),this._setAutoZIndex(Math.min));return this},getContainer:function(){return this._container},
setOpacity:function(c){this.options.opacity=c;this._updateOpacity();return this},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){this._map&&(this._removeAllTiles(),this._update());return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};this.options.updateWhenIdle||(this._onMove||(this._onMove=Wb(this._onMoveEnd,this.options.updateInterval,
this)),c.move=this._onMove);this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof Ca?c:new Ca(c,c)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var m=this.getPane().children,F=-c(-Infinity,Infinity),ha=0,Fa=m.length,Ob;ha<Fa;ha++)Ob=
m[ha].style.zIndex,m[ha]!==this._container&&Ob&&(F=c(F,+Ob));isFinite(F)&&(this.options.zIndex=F+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fd){la(this._container,this.options.opacity);var c=+new Date,m=!1,F=!1,ha;for(ha in this._tiles){var Fa=this._tiles[ha];if(Fa.current&&Fa.loaded){var Ob=Math.min(1,(c-Fa.loaded)/200);la(Fa.el,Ob);1>Ob?m=!0:(Fa.active?F=!0:this._onOpaqueTile(Fa),Fa.active=!0)}}F&&!this._noPrune&&this._pruneTiles();m&&(Ea(this._fadeFrame),this._fadeFrame=
mb(this._updateOpacity,this))}},_onOpaqueTile:ub,_initContainer:function(){this._container||(this._container=v("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,m=this.options.maxZoom;if(void 0!==c){for(var F in this._levels)F=Number(F),this._levels[F].el.children.length||F===c?(this._levels[F].el.style.zIndex=m-Math.abs(c-F),this._onUpdateLevel(F)):
(w(this._levels[F].el),this._removeTilesAtZoom(F),this._onRemoveLevel(F),delete this._levels[F]);F=this._levels[c];var ha=this._map;F||(F=this._levels[c]={},F.el=v("div","leaflet-tile-container leaflet-zoom-animated",this._container),F.el.style.zIndex=m,F.origin=ha.project(ha.unproject(ha.getPixelOrigin()),c).round(),F.zoom=c,this._setZoomTransform(F,ha.getCenter(),ha.getZoom()),this._onCreateLevel(F));return this._level=F}},_onUpdateLevel:ub,_onRemoveLevel:ub,_onCreateLevel:ub,_pruneTiles:function(){if(this._map){var c;
var m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom)this._removeAllTiles();else{for(c in this._tiles)m=this._tiles[c],m.retain=m.current;for(c in this._tiles)m=this._tiles[c],m.current&&!m.active&&(m=m.coords,this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2));for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}}},_removeTilesAtZoom:function(c){for(var m in this._tiles)this._tiles[m].coords.z===c&&this._removeTile(m)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},
_invalidateAll:function(){for(var c in this._levels)w(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(c,m,F,ha){c=Math.floor(c/2);m=Math.floor(m/2);--F;var Fa=new Ca(+c,+m);Fa.z=+F;Fa=this._tileCoordsToKey(Fa);if((Fa=this._tiles[Fa])&&Fa.active)return Fa.retain=!0;Fa&&Fa.loaded&&(Fa.retain=!0);return F>ha?this._retainParent(c,m,F,ha):!1},_retainChildren:function(c,m,F,ha){for(var Fa=2*c;Fa<2*c+2;Fa++)for(var Ob=
2*m;Ob<2*m+2;Ob++){var Tb=new Ca(Fa,Ob);Tb.z=F+1;Tb=this._tileCoordsToKey(Tb);(Tb=this._tiles[Tb])&&Tb.active?Tb.retain=!0:(Tb&&Tb.loaded&&(Tb.retain=!0),F+1<ha&&this._retainChildren(Fa,Ob,F+1,ha))}},_resetView:function(c){c=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var m=this.options;return void 0!==m.minNativeZoom&&c<m.minNativeZoom?m.minNativeZoom:void 0!==m.maxNativeZoom&&
m.maxNativeZoom<c?m.maxNativeZoom:c},_setView:function(c,m,F,ha){var Fa=Math.round(m);Fa=void 0!==this.options.maxZoom&&Fa>this.options.maxZoom||void 0!==this.options.minZoom&&Fa<this.options.minZoom?void 0:this._clampZoom(Fa);var Ob=this.options.updateWhenZooming&&Fa!==this._tileZoom;if(!ha||Ob)this._tileZoom=Fa,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Fa&&this._update(c),F||this._pruneTiles(),this._noPrune=!!F;this._setZoomTransforms(c,m)},_setZoomTransforms:function(c,
m){for(var F in this._levels)this._setZoomTransform(this._levels[F],c,m)},_setZoomTransform:function(c,m,F){var ha=this._map.getZoomScale(F,c.zoom);m=c.origin.multiplyBy(ha).subtract(this._map._getNewPixelOrigin(m,F)).round();Ac?Ja(c.el,m,ha):Z(c.el,m)},_resetGrid:function(){var c=this._map,m=c.options.crs,F=this._tileSize=this.getTileSize(),ha=this._tileZoom,Fa=this._map.getPixelWorldBounds(this._tileZoom);Fa&&(this._globalTileRange=this._pxBoundsToTileRange(Fa));this._wrapX=m.wrapLng&&!this.options.noWrap&&
[Math.floor(c.project([0,m.wrapLng[0]],ha).x/F.x),Math.ceil(c.project([0,m.wrapLng[1]],ha).x/F.y)];this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([m.wrapLat[0],0],ha).y/F.x),Math.ceil(c.project([m.wrapLat[1],0],ha).y/F.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(c){var m=this._map,F=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom();F=m.getZoomScale(F,this._tileZoom);c=m.project(c,this._tileZoom).floor();
m=m.getSize().divideBy(2*F);return new Ma(c.subtract(m),c.add(m))},_update:function(c){var m=this._map;if(m){var F=this._clampZoom(m.getZoom());void 0===c&&(c=m.getCenter());if(void 0!==this._tileZoom){m=this._getTiledPixelBounds(c);var ha=this._pxBoundsToTileRange(m),Fa=ha.getCenter();m=[];var Ob=this.options.keepBuffer;Ob=new Ma(ha.getBottomLeft().subtract([Ob,-Ob]),ha.getTopRight().add([Ob,-Ob]));if(!(isFinite(ha.min.x)&&isFinite(ha.min.y)&&isFinite(ha.max.x)&&isFinite(ha.max.y)))throw Error("Attempted to load an infinite number of tiles");
for(var Tb in this._tiles){var cc=this._tiles[Tb].coords;cc.z===this._tileZoom&&Ob.contains(new Ca(cc.x,cc.y))||(this._tiles[Tb].current=!1)}if(1<Math.abs(F-this._tileZoom))this._setView(c,F);else{for(F=ha.min.y;F<=ha.max.y;F++)for(c=ha.min.x;c<=ha.max.x;c++)Tb=new Ca(c,F),Tb.z=this._tileZoom,this._isValidTile(Tb)&&((Ob=this._tiles[this._tileCoordsToKey(Tb)])?Ob.current=!0:m.push(Tb));m.sort(function(vc,hd){return vc.distanceTo(Fa)-hd.distanceTo(Fa)});if(0!==m.length){this._loading||(this._loading=
!0,this.fire("loading"));ha=document.createDocumentFragment();for(c=0;c<m.length;c++)this._addTile(m[c],ha);this._level.el.appendChild(ha)}}}}},_isValidTile:function(c){var m=this._map.options.crs;if(!m.infinite){var F=this._globalTileRange;if(!m.wrapLng&&(c.x<F.min.x||c.x>F.max.x)||!m.wrapLat&&(c.y<F.min.y||c.y>F.max.y))return!1}if(!this.options.bounds)return!0;c=this._tileCoordsToBounds(c);return Qa(this.options.bounds).overlaps(c)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},
_tileCoordsToNwSe:function(c){var m=this._map,F=this.getTileSize(),ha=c.scaleBy(F);F=ha.add(F);ha=m.unproject(ha,c.z);c=m.unproject(F,c.z);return[ha,c]},_tileCoordsToBounds:function(c){c=this._tileCoordsToNwSe(c);c=new Aa(c[0],c[1]);this.options.noWrap||(c=this._map.wrapLatLngBounds(c));return c},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){c=c.split(":");var m=new Ca(+c[0],+c[1]);m.z=+c[2];return m},_removeTile:function(c){var m=this._tiles[c];m&&(w(m.el),
delete this._tiles[c],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){G(c,"leaflet-tile");var m=this.getTileSize();c.style.width=m.x+"px";c.style.height=m.y+"px";c.onselectstart=ub;c.onmousemove=ub;Fd&&1>this.options.opacity&&la(c,this.options.opacity);Oe&&!Bf&&(c.style.WebkitBackfaceVisibility="hidden")},_addTile:function(c,m){var F=this._getTilePos(c),ha=this._tileCoordsToKey(c),Fa=this.createTile(this._wrapCoords(c),ca(this._tileReady,this,c));this._initTile(Fa);
2>this.createTile.length&&mb(ca(this._tileReady,this,c,null,Fa));Z(Fa,F);this._tiles[ha]={el:Fa,coords:c,current:!0};m.appendChild(Fa);this.fire("tileloadstart",{tile:Fa,coords:c})},_tileReady:function(c,m,F){m&&this.fire("tileerror",{error:m,tile:F,coords:c});F=this._tileCoordsToKey(c);if(F=this._tiles[F])F.loaded=+new Date,this._map._fadeAnimated?(la(F.el,0),Ea(this._fadeFrame),this._fadeFrame=mb(this._updateOpacity,this)):(F.active=!0,this._pruneTiles()),m||(G(F.el,"leaflet-tile-loaded"),this.fire("tileload",
{tile:F.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fd||!this._map._fadeAnimated?mb(this._pruneTiles,this):setTimeout(ca(this._pruneTiles,this),250))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var m=new Ca(this._wrapX?fb(c.x,this._wrapX):c.x,this._wrapY?fb(c.y,this._wrapY):c.y);m.z=c.z;return m},_pxBoundsToTileRange:function(c){var m=this.getTileSize();return new Ma(c.min.unscaleBy(m).floor(),c.max.unscaleBy(m).ceil().subtract([1,
1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}}),Ib=lb.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(c,m){this._url=c;m=qb(this,m);m.detectRetina&&tf&&0<m.maxZoom&&(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom++):(m.zoomOffset++,m.maxZoom--),m.minZoom=Math.max(0,m.minZoom));"string"===typeof m.subdomains&&
(m.subdomains=m.subdomains.split(""));if(!Oe)this.on("tileunload",this._onTileRemove)},setUrl:function(c,m){this._url===c&&void 0===m&&(m=!0);this._url=c;m||this.redraw();return this},createTile:function(c,m){var F=document.createElement("img");Dc(F,"load",ca(this._tileOnLoad,this,m,F));Dc(F,"error",ca(this._tileOnError,this,m,F));if(this.options.crossOrigin||""===this.options.crossOrigin)F.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;F.alt="";F.setAttribute("role","presentation");
F.src=this.getTileUrl(c);return F},getTileUrl:function(c){var m={r:tf?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(c=this._globalTileRange.max.y-c.y,this.options.tms&&(m.y=c),m["-y"]=c);return Wa(this._url,x(m,this.options))},_tileOnLoad:function(c,m){Fd?setTimeout(ca(c,this,null,m),0):c(null,m)},_tileOnError:function(c,m,F){var ha=this.options.errorTileUrl;ha&&m.getAttribute("src")!==ha&&(m.src=ha);c(F,m)},_onTileRemove:function(c){c.tile.onload=
null},_getZoomForUrl:function(){var c=this._tileZoom,m=this.options.maxZoom,F=this.options.zoomOffset;this.options.zoomReverse&&(c=m-c);return c+F},_getSubdomain:function(c){return this.options.subdomains[Math.abs(c.x+c.y)%this.options.subdomains.length]},_abortLoading:function(){var c;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom){var m=this._tiles[c].el;m.onload=ub;m.onerror=ub;m.complete||(m.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",w(m),delete this._tiles[c])}},
_removeTile:function(c){var m=this._tiles[c];if(m)return Ae||m.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"),lb.prototype._removeTile.call(this,c)},_tileReady:function(c,m,F){if(this._map&&(!F||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"!==F.getAttribute("src")))return lb.prototype._tileReady.call(this,c,m,F)}}),Sb=Ib.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},
options:{crs:null,uppercase:!1},initialize:function(c,m){this._url=c;c=x({},this.defaultWmsParams);for(var F in m)F in this.options||(c[F]=m[F]);m=qb(this,m);m=m.detectRetina&&tf?2:1;F=this.getTileSize();c.width=F.x*m;c.height=F.y*m;this.wmsParams=c},onAdd:function(c){this._crs=this.options.crs||c.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Ib.prototype.onAdd.call(this,c)},getTileUrl:function(c){var m=this._tileCoordsToNwSe(c),
F=this._crs;F=ja(F.project(m[0]),F.project(m[1]));m=F.min;F=F.max;m=(1.3<=this._wmsVersion&&this._crs===be?[m.y,m.x,F.y,F.x]:[m.x,m.y,F.x,F.y]).join(",");c=Ib.prototype.getTileUrl.call(this,c);return c+sb(this.wmsParams,c,this.options.uppercase)+(this.options.uppercase?"\x26BBOX\x3d":"\x26bbox\x3d")+m},setParams:function(c,m){x(this.wmsParams,c);m||this.redraw();return this}});Ib.WMS=Sb;gc.wms=function(c,m){return new Sb(c,m)};var fc=Ce.extend({options:{padding:.1,tolerance:0},initialize:function(c){qb(this,
c);Sa(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&G(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&(c.zoomanim=this._onAnimZoom);
return c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,m){var F=this._map.getZoomScale(m,this._zoom),ha=sa(this._container),Fa=this._map.getSize().multiplyBy(.5+this.options.padding),Ob=this._map.project(this._center,m);c=this._map.project(c,m).subtract(Ob);ha=Fa.multiplyBy(-F).add(ha).add(Fa).subtract(c);Ac?Ja(this._container,ha,F):Z(this._container,ha)},_reset:function(){this._update();
this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,m=this._map.getSize(),F=this._map.containerPointToLayerPoint(m.multiplyBy(-c)).round();this._bounds=new Ma(F,F.add(m.multiplyBy(1+2*c)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),
zc=fc.extend({getEvents:function(){var c=fc.prototype.getEvents.call(this);c.viewprereset=this._onViewPreReset;return c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fc.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");Dc(c,"mousemove",this._onMouseMove,this);Dc(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this);Dc(c,"mouseout",this._handleMouseOut,this);this._ctx=c.getContext("2d")},
_destroyContainer:function(){Ea(this._redrawRequest);delete this._ctx;w(this._container);Sc(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var c in this._layers){var m=this._layers[c];m._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){fc.prototype._update.call(this);var c=this._bounds,m=this._container,F=c.getSize(),ha=tf?2:1;Z(m,c.min);m.width=ha*F.x;m.height=ha*F.y;m.style.width=
F.x+"px";m.style.height=F.y+"px";tf&&this._ctx.scale(2,2);this._ctx.translate(-c.min.x,-c.min.y);this.fire("update")}},_reset:function(){fc.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c);this._layers[Sa(c)]=c;c=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c);this._drawLast=c;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},
_removePath:function(c){var m=c._order,F=m.next;m=m.prev;F?F.prev=m:this._drawLast=m;m?m.next=F:this._drawFirst=F;delete c._order;delete this._layers[Sa(c)];this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c);c._project();c._update();this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c);this._requestRedraw(c)},_updateDashArray:function(c){if("string"===typeof c.options.dashArray){var m=c.options.dashArray.split(/[, ]+/),F=[],ha;for(ha=0;ha<m.length;ha++){var Fa=
Number(m[ha]);if(isNaN(Fa))return;F.push(Fa)}c.options._dashArray=F}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||mb(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var m=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ma;this._redrawBounds.extend(c._pxBounds.min.subtract([m,m]));this._redrawBounds.extend(c._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=
null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var m=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c=this._redrawBounds;this._ctx.save();if(c){var m=c.getSize();this._ctx.beginPath();
this._ctx.rect(c.min.x,c.min.y,m.x,m.y);this._ctx.clip()}this._drawing=!0;for(var F=this._drawFirst;F;F=F.next)m=F.layer,(!c||m._pxBounds&&m._pxBounds.intersects(c))&&m._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(c,m){if(this._drawing){var F,ha,Fa=c._parts,Ob=Fa.length,Tb=this._ctx;if(Ob){Tb.beginPath();for(F=0;F<Ob;F++){var cc=0;for(ha=Fa[F].length;cc<ha;cc++){var vc=Fa[F][cc];Tb[cc?"lineTo":"moveTo"](vc.x,vc.y)}m&&Tb.closePath()}this._fillStroke(Tb,c)}}},_updateCircle:function(c){if(this._drawing&&
!c._empty()){var m=c._point,F=this._ctx,ha=Math.max(Math.round(c._radius),1),Fa=(Math.max(Math.round(c._radiusY),1)||ha)/ha;1!==Fa&&(F.save(),F.scale(1,Fa));F.beginPath();F.arc(m.x,m.y/Fa,ha,0,2*Math.PI,!1);1!==Fa&&F.restore();this._fillStroke(F,c)}},_fillStroke:function(c,m){var F=m.options;F.fill&&(c.globalAlpha=F.fillOpacity,c.fillStyle=F.fillColor||F.color,c.fill(F.fillRule||"evenodd"));F.stroke&&0!==F.weight&&(c.setLineDash&&c.setLineDash(m.options&&m.options._dashArray||[]),c.globalAlpha=F.opacity,
c.lineWidth=F.weight,c.strokeStyle=F.color,c.lineCap=F.lineCap,c.lineJoin=F.lineJoin,c.stroke())},_onClick:function(c){for(var m=this._map.mouseEventToLayerPoint(c),F,ha,Fa=this._drawFirst;Fa;Fa=Fa.next)F=Fa.layer,F.options.interactive&&F._containsPoint(m)&&("click"!==c.type&&"preclick"===c.type||!this._map._draggableMoved(F))&&(ha=F);ha&&(we(c),this._fireEvent([ha],c))},_onMouseMove:function(c){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var m=this._map.mouseEventToLayerPoint(c);
this._handleMouseHover(c,m)}},_handleMouseOut:function(c){var m=this._hoveredLayer;m&&(B(this._container,"leaflet-interactive"),this._fireEvent([m],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,m){if(!this._mouseHoverThrottled){for(var F,ha,Fa=this._drawFirst;Fa;Fa=Fa.next)F=Fa.layer,F.options.interactive&&F._containsPoint(m)&&(ha=F);ha!==this._hoveredLayer&&(this._handleMouseOut(c),ha&&(G(this._container,"leaflet-interactive"),this._fireEvent([ha],
c,"mouseover"),this._hoveredLayer=ha));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],c);this._mouseHoverThrottled=!0;setTimeout(ca(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,m,F){this._map._fireDOMEvent(m,F||m.type,c)},_bringToFront:function(c){var m=c._order;if(m){var F=m.next,ha=m.prev;F&&((F.prev=ha)?ha.next=F:F&&(this._drawFirst=F),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(c))}},_bringToBack:function(c){var m=
c._order;if(m){var F=m.next,ha=m.prev;ha&&((ha.next=F)?F.prev=ha:ha&&(this._drawLast=ha),m.prev=null,m.next=this._drawFirst,this._drawFirst=this._drawFirst.prev=m,this._requestRedraw(c))}}}),Tc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("\x3clvml:"+c+' class\x3d"lvml"\x3e')}}catch(c){return function(m){return document.createElement("\x3c"+m+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),Rc=
{_initContainer:function(){this._container=v("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fc.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var m=c._container=Tc("shape");G(m,"leaflet-vml-shape "+(this.options.className||""));m.coordsize="1 1";c._path=Tc("path");m.appendChild(c._path);this._updateStyle(c);this._layers[Sa(c)]=c},_addPath:function(c){var m=c._container;this._container.appendChild(m);c.options.interactive&&c.addInteractiveTarget(m)},
_removePath:function(c){var m=c._container;w(m);c.removeInteractiveTarget(m);delete this._layers[Sa(c)]},_updateStyle:function(c){var m=c._stroke,F=c._fill,ha=c.options,Fa=c._container;Fa.stroked=!!ha.stroke;Fa.filled=!!ha.fill;ha.stroke?(m||(m=c._stroke=Tc("stroke")),Fa.appendChild(m),m.weight=ha.weight+"px",m.color=ha.color,m.opacity=ha.opacity,m.dashStyle=ha.dashArray?Cc(ha.dashArray)?ha.dashArray.join(" "):ha.dashArray.replace(/( *, *)/g," "):"",m.endcap=ha.lineCap.replace("butt","flat"),m.joinstyle=
ha.lineJoin):m&&(Fa.removeChild(m),c._stroke=null);ha.fill?(F||(F=c._fill=Tc("fill")),Fa.appendChild(F),F.color=ha.fillColor||ha.color,F.opacity=ha.fillOpacity):F&&(Fa.removeChild(F),c._fill=null)},_updateCircle:function(c){var m=c._point.round(),F=Math.round(c._radius),ha=Math.round(c._radiusY||F);this._setPath(c,c._empty()?"M0 0":"AL "+m.x+","+m.y+" "+F+","+ha+" 0,23592600")},_setPath:function(c,m){c._path.v=m},_bringToFront:function(c){r(c._container)},_bringToBack:function(c){C(c._container)}},
yd=ua?Tc:$a,Md=fc.extend({getEvents:function(){var c=fc.prototype.getEvents.call(this);c.zoomstart=this._onZoomStart;return c},_initContainer:function(){this._container=yd("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=yd("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){w(this._container);Sc(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||
!this._bounds){fc.prototype._update.call(this);var c=this._bounds,m=c.getSize(),F=this._container;this._svgSize&&this._svgSize.equals(m)||(this._svgSize=m,F.setAttribute("width",m.x),F.setAttribute("height",m.y));Z(F,c.min);F.setAttribute("viewBox",[c.min.x,c.min.y,m.x,m.y].join(" "));this.fire("update")}},_initPath:function(c){var m=c._path=yd("path");c.options.className&&G(m,c.options.className);c.options.interactive&&G(m,"leaflet-interactive");this._updateStyle(c);this._layers[Sa(c)]=c},_addPath:function(c){this._rootGroup||
this._initContainer();this._rootGroup.appendChild(c._path);c.addInteractiveTarget(c._path)},_removePath:function(c){w(c._path);c.removeInteractiveTarget(c._path);delete this._layers[Sa(c)]},_updatePath:function(c){c._project();c._update()},_updateStyle:function(c){var m=c._path;c=c.options;m&&(c.stroke?(m.setAttribute("stroke",c.color),m.setAttribute("stroke-opacity",c.opacity),m.setAttribute("stroke-width",c.weight),m.setAttribute("stroke-linecap",c.lineCap),m.setAttribute("stroke-linejoin",c.lineJoin),
c.dashArray?m.setAttribute("stroke-dasharray",c.dashArray):m.removeAttribute("stroke-dasharray"),c.dashOffset?m.setAttribute("stroke-dashoffset",c.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),c.fill?(m.setAttribute("fill",c.fillColor||c.color),m.setAttribute("fill-opacity",c.fillOpacity),m.setAttribute("fill-rule",c.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(c,m){this._setPath(c,Q(c._parts,m))},_updateCircle:function(c){var m=
c._point,F=Math.max(Math.round(c._radius),1),ha="a"+F+","+(Math.max(Math.round(c._radiusY),1)||F)+" 0 1,0 ";m=c._empty()?"M0 0":"M"+(m.x-F)+","+m.y+ha+2*F+",0 "+ha+2*-F+",0 ";this._setPath(c,m)},_setPath:function(c,m){c._path.setAttribute("d",m)},_bringToFront:function(c){r(c._path)},_bringToBack:function(c){C(c._path)}});ua&&Md.include(Rc);J.include({getRenderer:function(c){c=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;c||(c=this._renderer=this._createRenderer());
this.hasLayer(c)||this.addLayer(c);return c},_getPaneRenderer:function(c){if("overlayPane"===c||void 0===c)return!1;var m=this._paneRenderers[c];void 0===m&&(m=this._createRenderer({pane:c}),this._paneRenderers[c]=m);return m},_createRenderer:function(c){return this.options.preferCanvas&&tc(c)||Bc(c)}});var bd=tb.extend({initialize:function(c,m){tb.prototype.initialize.call(this,this._boundsToLatLngs(c),m)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){c=
Qa(c);return[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});Md.create=yd;Md.pointsToPath=Q;nb.geometryToLayer=gb;nb.coordsToLatLng=Zb;nb.coordsToLatLngs=Gb;nb.latLngToCoords=sc;nb.latLngsToCoords=jc;nb.getFeature=Oa;nb.asFeature=rb;J.mergeOptions({boxZoom:!0});var Sd=Qc.extend({initialize:function(c){this._map=c;this._container=c._container;this._pane=c._panes.overlayPane;this._resetStateTimeout=0;c.on("unload",this._destroy,this)},addHooks:function(){Dc(this._container,"mousedown",
this._onMouseDown,this)},removeHooks:function(){Sc(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){w(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||1!==c.which&&1!==c.button)return!1;this._clearDeferredResetState();this._resetState();
Te();eb();this._startPoint=this._map.mouseEventToContainerPoint(c);Dc(document,{contextmenu:$c,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=v("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(c);c=new Ma(this._point,this._startPoint);var m=c.getSize();Z(this._box,c.min);this._box.style.width=
m.x+"px";this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(w(this._box),B(this._container,"leaflet-crosshair"));Me();xb();Sc(document,{contextmenu:$c,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(1===c.which||1===c.button)this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ca(this._resetState,this),0),c=new Aa(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),
this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c}))},_onKeyDown:function(c){27===c.keyCode&&this._finish()}});J.addInitHook("addHandler","boxZoom",Sd);J.mergeOptions({doubleClickZoom:!0});var je=Qc.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var m=this._map,F=m.getZoom(),ha=m.options.zoomDelta;F=c.originalEvent.shiftKey?F-ha:F+ha;"center"===m.options.doubleClickZoom?
m.setZoom(F):m.setZoomAround(c.containerPoint,F)}});J.addInitHook("addHandler","doubleClickZoom",je);J.mergeOptions({dragging:!0,inertia:!Bf,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var We=Qc.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Td(c._mapPane,c._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,
this);c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){B(this._map._container,"leaflet-grab");B(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&
this._draggable._moving},_onDragStart:function(){var c=this._map;c._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Qa(this._map.options.maxBounds);this._offsetLimit=ja(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart");
c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var m=this._lastTime=+new Date,F=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(F);this._times.push(m);this._prunePositions(m)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;1<this._positions.length&&50<c-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2);this._initialWorldOffset=
this._map.latLngToLayerPoint([0,0]).subtract(c).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,m){return c-(c-m)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var c=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;c.x<m.min.x&&(c.x=this._viscousLimit(c.x,m.min.x));c.y<m.min.y&&(c.y=this._viscousLimit(c.y,m.min.y));c.x>m.max.x&&(c.x=this._viscousLimit(c.x,m.max.x));c.y>m.max.y&&(c.y=this._viscousLimit(c.y,
m.max.y));this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,m=Math.round(c/2),F=this._initialWorldOffset,ha=this._draggable._newPos.x,Fa=(ha-m+F)%c+m-F;c=(ha+m+F)%c-m-F;F=Math.abs(Fa+F)<Math.abs(c+F)?Fa:c;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=F},_onDragEnd:function(c){var m=this._map,F=m.options,ha=!F.inertia||2>this._times.length;m.fire("dragend",c);if(ha)m.fire("moveend");else{this._prunePositions(+new Date);
c=this._lastPos.subtract(this._positions[0]);var Fa=F.easeLinearity;ha=c.multiplyBy(Fa/((this._lastTime-this._times[0])/1E3));var Ob=ha.distanceTo([0,0]);c=Math.min(F.inertiaMaxSpeed,Ob);ha=ha.multiplyBy(c/Ob);var Tb=c/(F.inertiaDeceleration*Fa),cc=ha.multiplyBy(-Tb/2).round();cc.x||cc.y?(cc=m._limitOffset(cc,m.options.maxBounds),mb(function(){m.panBy(cc,{duration:Tb,easeLinearity:Fa,noMoveStart:!0,animate:!0})})):m.fire("moveend")}}});J.addInitHook("addHandler","dragging",We);J.mergeOptions({keyboard:!0,
keyboardPanDelta:80});var oa=Qc.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c;this._setPanDelta(c.options.keyboardPanDelta);this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;0>=c.tabIndex&&(c.tabIndex="0");Dc(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();
Sc(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,m=document.documentElement,F=c.scrollTop||m.scrollTop;c=c.scrollLeft||m.scrollLeft;this._map._container.focus();window.scrollTo(c,F)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(c){var m=
this._panKeys={},F=this.keyCodes,ha;var Fa=0;for(ha=F.left.length;Fa<ha;Fa++)m[F.left[Fa]]=[-1*c,0];Fa=0;for(ha=F.right.length;Fa<ha;Fa++)m[F.right[Fa]]=[c,0];Fa=0;for(ha=F.down.length;Fa<ha;Fa++)m[F.down[Fa]]=[0,c];Fa=0;for(ha=F.up.length;Fa<ha;Fa++)m[F.up[Fa]]=[0,-1*c]},_setZoomDelta:function(c){var m=this._zoomKeys={},F=this.keyCodes,ha;var Fa=0;for(ha=F.zoomIn.length;Fa<ha;Fa++)m[F.zoomIn[Fa]]=c;Fa=0;for(ha=F.zoomOut.length;Fa<ha;Fa++)m[F.zoomOut[Fa]]=-c},_addHooks:function(){Dc(document,"keydown",
this._onKeyDown,this)},_removeHooks:function(){Sc(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var m=c.keyCode,F=this._map;if(m in this._panKeys)F._panAnim&&F._panAnim._inProgress||(m=this._panKeys[m],c.shiftKey&&(m=ab(m).multiplyBy(3)),F.panBy(m),F.options.maxBounds&&F.panInsideBounds(F.options.maxBounds));else if(m in this._zoomKeys)F.setZoom(F.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[m]);else if(27===m&&F._popup&&F._popup.options.closeOnEscapeKey)F.closePopup();
else return;$c(c)}}});J.addInitHook("addHandler","keyboard",oa);J.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pa=Qc.extend({addHooks:function(){Dc(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){Sc(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var m=Dd(c),F=this._map.options.wheelDebounceTime;this._delta+=m;this._lastMousePos=this._map.mouseEventToContainerPoint(c);this._startTime||
(this._startTime=+new Date);m=Math.max(F-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(ca(this._performZoom,this),m);$c(c)},_performZoom:function(){var c=this._map,m=c.getZoom(),F=this._map.options.zoomSnap||0;c._stop();var ha=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;F=F?Math.ceil(ha/F)*F:ha;F=c._limitZoom(m+(0<this._delta?F:-F))-m;this._delta=0;this._startTime=null;F&&("center"===c.options.scrollWheelZoom?
c.setZoom(m+F):c.setZoomAround(this._lastMousePos,m+F))}});J.addInitHook("addHandler","scrollWheelZoom",Pa);J.mergeOptions({tap:!0,tapTolerance:15});var pb=Qc.extend({addHooks:function(){Dc(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Sc(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(c.touches)if(Xc(c),this._fireClick=!0,1<c.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var m=c.touches[0];c=m.target;this._startPos=
this._newPos=new Ca(m.clientX,m.clientY);c.tagName&&"a"===c.tagName.toLowerCase()&&G(c,"leaflet-active");this._holdTimeout=setTimeout(ca(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",m))},this),1E3);this._simulateEvent("mousedown",m);Dc(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(c){clearTimeout(this._holdTimeout);Sc(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&c&&c.changedTouches){c=
c.changedTouches[0];var m=c.target;m&&m.tagName&&"a"===m.tagName.toLowerCase()&&B(m,"leaflet-active");this._simulateEvent("mouseup",c);this._isTapValid()&&this._simulateEvent("click",c)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(c){c=c.touches[0];this._newPos=new Ca(c.clientX,c.clientY);this._simulateEvent("mousemove",c)},_simulateEvent:function(c,m){var F=document.createEvent("MouseEvents");F._simulated=!0;m.target._simulatedClick=
!0;F.initMouseEvent(c,!0,!0,window,1,m.screenX,m.screenY,m.clientX,m.clientY,!1,!1,!1,!1,0,null);m.target.dispatchEvent(F)}});!Ke||pe&&!Ld||J.addInitHook("addHandler","tap",pb);J.mergeOptions({touchZoom:Ke&&!Bf,bounceAtZoomLimits:!0});var Cb=Qc.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom");Dc(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){B(this._map._container,"leaflet-touch-zoom");Sc(this._map._container,"touchstart",this._onTouchStart,
this)},_onTouchStart:function(c){var m=this._map;if(c.touches&&2===c.touches.length&&!m._animatingZoom&&!this._zooming){var F=m.mouseEventToContainerPoint(c.touches[0]),ha=m.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=m.getSize()._divideBy(2);this._startLatLng=m.containerPointToLatLng(this._centerPoint);"center"!==m.options.touchZoom&&(this._pinchStartLatLng=m.containerPointToLatLng(F.add(ha)._divideBy(2)));this._startDist=F.distanceTo(ha);this._startZoom=m.getZoom();this._moved=!1;
this._zooming=!0;m._stop();Dc(document,"touchmove",this._onTouchMove,this);Dc(document,"touchend",this._onTouchEnd,this);Xc(c)}},_onTouchMove:function(c){if(c.touches&&2===c.touches.length&&this._zooming){var m=this._map,F=m.mouseEventToContainerPoint(c.touches[0]),ha=m.mouseEventToContainerPoint(c.touches[1]),Fa=F.distanceTo(ha)/this._startDist;this._zoom=m.getScaleZoom(Fa,this._startZoom);!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&1>Fa||this._zoom>m.getMaxZoom()&&1<Fa)&&(this._zoom=
m._limitZoom(this._zoom));if("center"===m.options.touchZoom){if(this._center=this._startLatLng,1===Fa)return}else{F=F._add(ha)._divideBy(2)._subtract(this._centerPoint);if(1===Fa&&0===F.x&&0===F.y)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0);Ea(this._animRequest);m=ca(m._move,m,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=mb(m,this,!0);Xc(c)}},_onTouchEnd:function(){this._moved&&
this._zooming?(this._zooming=!1,Ea(this._animRequest),Sc(document,"touchmove",this._onTouchMove,this),Sc(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});J.addInitHook("addHandler","touchZoom",Cb);J.BoxZoom=Sd;J.DoubleClickZoom=je;J.Drag=We;J.Keyboard=oa;J.ScrollWheelZoom=Pa;J.Tap=pb;J.TouchZoom=
Cb;n.version="1.7.1";n.Control=da;n.control=kb;n.Browser=Ka;n.Evented=qd;n.Mixin=Kc;n.Util=Uc;n.Class=Ga;n.Handler=Qc;n.extend=x;n.bind=ca;n.stamp=Sa;n.setOptions=qb;n.DomEvent=ag;n.DomUtil=Ue;n.PosAnimation=df;n.Draggable=Td;n.LineUtil=af;n.PolyUtil=Pd;n.Point=Ca;n.point=ab;n.Bounds=Ma;n.bounds=ja;n.Transformation=cb;n.transformation=ob;n.Projection=ze;n.LatLng=Xa;n.latLng=hb;n.LatLngBounds=Aa;n.latLngBounds=Qa;n.CRS=Ed;n.GeoJSON=nb;n.geoJSON=Lb;n.geoJson=Lb;n.Layer=Ce;n.LayerGroup=Kf;n.layerGroup=
function(c,m){return new Kf(c,m)};n.FeatureGroup=ef;n.featureGroup=function(c,m){return new ef(c,m)};n.ImageOverlay=Eb;n.imageOverlay=function(c,m,F){return new Eb(c,m,F)};n.VideoOverlay=Yb;n.videoOverlay=function(c,m,F){return new Yb(c,m,F)};n.SVGOverlay=pc;n.svgOverlay=function(c,m,F){return new pc(c,m,F)};n.DivOverlay=u;n.Popup=E;n.popup=function(c,m){return new E(c,m)};n.Tooltip=aa;n.tooltip=function(c,m){return new aa(c,m)};n.Icon=gg;n.icon=function(c){return new gg(c)};n.DivIcon=ka;n.divIcon=
function(c){return new ka(c)};n.Marker=Y;n.marker=function(c,m){return new Y(c,m)};n.TileLayer=Ib;n.tileLayer=gc;n.GridLayer=lb;n.gridLayer=function(c){return new lb(c)};n.SVG=Md;n.svg=Bc;n.Renderer=fc;n.Canvas=zc;n.canvas=tc;n.Path=ia;n.CircleMarker=ya;n.circleMarker=function(c,m){return new ya(c,m)};n.Circle=Da;n.circle=function(c,m,F){return new Da(c,m,F)};n.Polyline=Za;n.polyline=function(c,m){return new Za(c,m)};n.Polygon=tb;n.polygon=function(c,m){return new tb(c,m)};n.Rectangle=bd;n.rectangle=
function(c,m){return new bd(c,m)};n.Map=J;n.map=function(c,m){return new J(c,m)};var Ub=window.L;n.noConflict=function(){window.L=Ub;return this};window.L=n})};
shadow$provide[70]=function(mc,Rb,Jc,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Jc?Jc.exports=x():"function"===typeof define&&define.amd?define(x):(n=n||self,n.CodeMirror=x())})(this,function(){function n(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function x(a){for(var f=a.childNodes.length;0<f;--f)a.removeChild(a.firstChild);return a}function ca(a,f){return x(a).appendChild(f)}function Sa(a,f,t,q){a=document.createElement(a);t&&(a.className=t);q&&(a.style.cssText=q);if("string"==
typeof f)a.appendChild(document.createTextNode(f));else if(f)for(t=0;t<f.length;++t)a.appendChild(f[t]);return a}function Wb(a,f,t,q){a=Sa(a,f,t,q);a.setAttribute("role","presentation");return a}function fb(a,f){3==f.nodeType&&(f=f.parentNode);if(a.contains)return a.contains(f);do if(11==f.nodeType&&(f=f.host),f==a)return!0;while(f=f.parentNode)}function ub(){try{var a=document.activeElement}catch(f){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;
return a}function Qb(a,f){var t=a.className;n(f).test(t)||(a.className+=(t?" ":"")+f)}function Bb(a,f){a=a.split(" ");for(var t=0;t<a.length;t++)a[t]&&!n(a[t]).test(f)&&(f+=" "+a[t]);return f}function bb(a){var f=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,f)}}function qb(a,f,t){f||(f={});for(var q in a)!a.hasOwnProperty(q)||!1===t&&f.hasOwnProperty(q)||(f[q]=a[q]);return f}function sb(a,f,t,q,y){null==f&&(f=a.search(/[^\s\u00a0]/),-1==f&&(f=a.length));q=q||0;for(y=
y||0;;){var V=a.indexOf("\t",q);if(0>V||V>=f)return y+(f-q);y+=V-q;y+=t-y%t;q=V+1}}function Wa(a,f){for(var t=0;t<a.length;++t)if(a[t]==f)return t;return-1}function Ha(a,f,t){for(var q=0,y=0;;){var V=a.indexOf("\t",q);-1==V&&(V=a.length);var qa=V-q;if(V==a.length||y+qa>=f)return q+Math.min(qa,f-y);y+=V-q;y+=t-y%t;q=V+1;if(y>=f)return q}}function Ia(a){for(;mj.length<=a;)mj.push(Ya(mj)+" ");return mj[a]}function Ya(a){return a[a.length-1]}function mb(a,f){for(var t=[],q=0;q<a.length;q++)t[q]=f(a[q],
q);return t}function Ea(a,f,t){for(var q=0,y=t(f);q<a.length&&t(a[q])<=y;)q++;a.splice(q,0,f)}function Ga(){}function jb(a,f){Object.create?a=Object.create(a):(Ga.prototype=a,a=new Ga);f&&qb(f,a);return a}function Ca(a){return/\w/.test(a)||""<a&&(a.toUpperCase()!=a.toLowerCase()||mk.test(a))}function ab(a,f){return f?-1<f.source.indexOf("\\w")&&Ca(a)?!0:f.test(a):Ca(a)}function Ma(a){for(var f in a)if(a.hasOwnProperty(f)&&a[f])return!1;return!0}function ja(a){return 768<=a.charCodeAt(0)&&wj.test(a)}
function Aa(a,f,t){for(;(0>t?0<f:f<a.length)&&ja(a.charAt(f));)f+=t;return f}function Qa(a,f,t){for(var q=f>t?-1:1;;){if(f==t)return f;var y=(f+t)/2;y=0>q?Math.ceil(y):Math.floor(y);if(y==f)return a(y)?f:t;a(y)?t=y:f=y+q}}function Xa(a,f,t,q){if(!a)return q(f,t,"ltr",0);for(var y=!1,V=0;V<a.length;++V){var qa=a[V];if(qa.from<t&&qa.to>f||f==t&&qa.to==f)q(Math.max(qa.from,f),Math.min(qa.to,t),1==qa.level?"rtl":"ltr",V),y=!0}y||q(f,t,"ltr")}function hb(a,f,t){var q;Li=null;for(var y=0;y<a.length;++y){var V=
a[y];if(V.from<f&&V.to>f)return y;V.to==f&&(V.from!=V.to&&"before"==t?q=y:Li=y);V.from==f&&(V.from!=V.to&&"before"!=t?q=y:Li=y)}return null!=q?q:Li}function cb(a,f){var t=a.order;null==t&&(t=a.order=ni(a.text,f));return t}function ob(a,f,t){if(a.removeEventListener)a.removeEventListener(f,t,!1);else if(a.detachEvent)a.detachEvent("on"+f,t);else{var q=(a=a._handlers)&&a[f];q&&(t=Wa(q,t),-1<t&&(a[f]=q.slice(0,t).concat(q.slice(t+1))))}}function $a(a,f){var t=a._handlers&&a._handlers[f]||yh;if(t.length)for(var q=
Array.prototype.slice.call(arguments,2),y=0;y<t.length;++y)t[y].apply(null,q)}function Q(a,f,t){"string"==typeof f&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}});$a(a,t||f.type,a,f);return ea(f)||f.codemirrorIgnore}function H(a){var f=a._handlers&&a._handlers.cursorActivity;if(f){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var t=0;t<f.length;++t)-1==Wa(a,f[t])&&a.push(f[t])}}function T(a,f){return 0<(a._handlers&&a._handlers[f]||yh).length}function na(a){a.prototype.on=
function(f,t){Ge(this,f,t)};a.prototype.off=function(f,t){ob(this,f,t)}}function O(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function W(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function ea(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function pa(a){O(a);W(a)}function Ua(a){var f=a.which;null==f&&(a.button&1?f=1:a.button&2?f=3:a.button&4&&(f=2));Wg&&a.ctrlKey&&1==f&&(f=3);return f}function db(a){if(null==xi){var f=Sa("span","​");ca(a,Sa("span",
[f,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(xi=1>=f.offsetWidth&&2<f.offsetHeight&&!(nf&&8>sf))}a=xi?Sa("span","​"):Sa("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");a.setAttribute("cm-text","");return a}function U(a,f){2<arguments.length&&(f.dependencies=Array.prototype.slice.call(arguments,2));Ah[a]=f}function va(a){if("string"==typeof a&&Bh.hasOwnProperty(a))a=Bh[a];else if(a&&"string"==typeof a.name&&Bh.hasOwnProperty(a.name)){var f=Bh[a.name];"string"==
typeof f&&(f={name:f});a=jb(f,a);a.name=f.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return va("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return va("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function xa(a,f){f=va(f);var t=Ah[f.name];if(!t)return xa(a,"text/plain");a=t(a,f);if(ch.hasOwnProperty(f.name)){t=ch[f.name];for(var q in t)t.hasOwnProperty(q)&&(a.hasOwnProperty(q)&&(a["_"+q]=a[q]),a[q]=t[q])}a.name=f.name;
f.helperType&&(a.helperType=f.helperType);if(f.modeProps)for(var y in f.modeProps)a[y]=f.modeProps[y];return a}function ma(a,f){a=ch.hasOwnProperty(a)?ch[a]:ch[a]={};qb(f,a)}function R(a,f){if(!0===f)return f;if(a.copyState)return a.copyState(f);a={};for(var t in f){var q=f[t];q instanceof Array&&(q=q.concat([]));a[t]=q}return a}function v(a,f){for(var t;a.innerMode;){t=a.innerMode(f);if(!t||t.mode==a)break;f=t.state;a=t.mode}return t||{mode:a,state:f}}function w(a,f,t){return a.startState?a.startState(f,
t):!0}function p(a,f){f-=a.first;if(0>f||f>=a.size)throw Error("There is no line "+(f+a.first)+" in the document.");for(;!a.lines;)for(var t=0;;++t){var q=a.children[t],y=q.chunkSize();if(f<y){a=q;break}f-=y}return a.lines[f]}function r(a,f,t){var q=[],y=f.line;a.iter(f.line,t.line+1,function(V){V=V.text;y==t.line&&(V=V.slice(0,t.ch));y==f.line&&(V=V.slice(f.ch));q.push(V);++y});return q}function C(a,f,t){var q=[];a.iter(f,t,function(y){q.push(y.text)});return q}function D(a,f){if(f-=a.height)for(;a;a=
a.parent)a.height+=f}function G(a){if(null==a.parent)return null;var f=a.parent;a=Wa(f.lines,a);for(var t=f.parent;t;f=t,t=t.parent)for(var q=0;t.children[q]!=f;++q)a+=t.children[q].chunkSize();return a+f.first}function B(a,f){var t=a.first;a:do{for(var q=0;q<a.children.length;++q){var y=a.children[q],V=y.height;if(f<V){a=y;continue a}f-=V;t+=y.chunkSize()}return t}while(!a.lines);for(q=0;q<a.lines.length;++q){y=a.lines[q].height;if(f<y)break;f-=y}return t+q}function fa(a,f){return f>=a.first&&f<
a.first+a.size}function wa(a,f){return String(a.lineNumberFormatter(f+a.firstLineNumber))}function la(a,f,t){void 0===t&&(t=null);if(!(this instanceof la))return new la(a,f,t);this.line=a;this.ch=f;this.sticky=t}function Ta(a,f){return a.line-f.line||a.ch-f.ch}function Ja(a,f){return a.sticky==f.sticky&&0==Ta(a,f)}function Z(a){return la(a.line,a.ch)}function sa(a,f){return 0>Ta(a,f)?f:a}function eb(a,f){return 0>Ta(a,f)?a:f}function xb(a,f){if(f.line<a.first)return la(a.first,0);var t=a.first+a.size-
1;if(f.line>t)return la(t,p(a,t).text.length);a=p(a,f.line).text.length;t=f.ch;f=null==t||t>a?la(f.line,a):0>t?la(f.line,0):f;return f}function Kb(a,f){for(var t=[],q=0;q<f.length;q++)t[q]=xb(a,f[q]);return t}function ec(a,f,t,q){var y=[a.state.modeGen],V={};wc(a,f.text,a.doc.mode,t,function(ib,Ab){return y.push(ib,Ab)},V,q);var qa=t.state;q=function(ib){t.baseTokens=y;var Ab=a.state.overlays[ib],Xb=1,Hc=0;t.state=!0;wc(a,f.text,Ab.mode,t,function(qc,oc){for(var ed=Xb;Hc<qc;){var Od=y[Xb];Od>qc&&
y.splice(Xb,1,qc,y[Xb+1],Od);Xb+=2;Hc=Math.min(qc,Od)}if(oc)if(Ab.opaque)y.splice(ed,Xb-ed,qc,"overlay "+oc),Xb=ed+2;else for(;ed<Xb;ed+=2)qc=y[ed+1],y[ed+1]=(qc?qc+" ":"")+"overlay "+oc},V);t.state=qa;t.baseTokens=null;t.baseTokenPos=1};for(var ra=0;ra<a.state.overlays.length;++ra)q(ra);return{styles:y,classes:V.bgClass||V.textClass?V:null}}function Ec(a,f,t){if(!f.styles||f.styles[0]!=a.state.modeGen){var q=gd(a,G(f)),y=f.text.length>a.options.maxHighlightLength&&R(a.doc.mode,q.state),V=ec(a,f,
q);y&&(q.state=y);f.stateAfter=q.save(!y);f.styles=V.styles;V.classes?f.styleClasses=V.classes:f.styleClasses&&(f.styleClasses=null);t===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return f.styles}function gd(a,f,t){var q=a.doc,y=a.display;if(!q.mode.startState)return new kh(q,!0,f);var V=Pc(a,f,t),qa=V>q.first&&p(q,V-1).stateAfter,ra=qa?kh.fromSaved(q,qa,V):new kh(q,w(q.mode),V);q.iter(V,f,function(ib){Dc(a,ib.text,ra);var Ab=ra.line;ib.stateAfter=
Ab==f-1||0==Ab%5||Ab>=y.viewFrom&&Ab<y.viewTo?ra.save():null;ra.nextLine()});t&&(q.modeFrontier=ra.line);return ra}function Dc(a,f,t,q){var y=a.doc.mode;a=new Xf(f,a.options.tabSize,t);a.start=a.pos=q||0;for(""==f&&Sc(y,t.state);!a.eol();)Ra(y,a,t.state),a.start=a.pos}function Sc(a,f){if(a.blankLine)return a.blankLine(f);if(a.innerMode&&(a=v(a,f),a.mode.blankLine))return a.mode.blankLine(a.state)}function Ra(a,f,t,q){for(var y=0;10>y;y++){q&&(q[0]=v(a,t).mode);var V=a.token(f,t);if(f.pos>f.start)return V}throw Error("Mode "+
a.name+" failed to advance stream.");}function nc(a,f,t,q){var y=a.doc,V=y.mode;f=xb(y,f);var qa=p(y,f.line);t=gd(a,f.line,t);a=new Xf(qa.text,a.options.tabSize,t);var ra;for(q&&(ra=[]);(q||a.pos<f.ch)&&!a.eol();){a.start=a.pos;var ib=Ra(V,a,t.state);q&&ra.push(new Dj(a,ib,R(y.mode,t.state)))}return q?ra:new Dj(a,ib,t.state)}function kc(a,f){if(a)for(;;){var t=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;a=a.slice(0,t.index)+a.slice(t.index+t[0].length);var q=t[1]?"bgClass":"textClass";
null==f[q]?f[q]=t[2]:(new RegExp("(?:^|\\s)"+t[2]+"(?:$|\\s)")).test(f[q])||(f[q]+=" "+t[2])}return a}function wc(a,f,t,q,y,V,qa){var ra=t.flattenSpans;null==ra&&(ra=a.options.flattenSpans);var ib=0,Ab=null,Xb=new Xf(f,a.options.tabSize,q),Hc=a.options.addModeClass&&[null];for(""==f&&kc(Sc(t,q.state),V);!Xb.eol();){if(Xb.pos>a.options.maxHighlightLength){ra=!1;qa&&Dc(a,f,q,Xb.pos);Xb.pos=f.length;var qc=null}else qc=kc(Ra(t,Xb,q.state,Hc),V);if(Hc){var oc=Hc[0].name;oc&&(qc="m-"+(qc?oc+" "+qc:oc))}if(!ra||
Ab!=qc){for(;ib<Xb.start;)ib=Math.min(Xb.start,ib+5E3),y(ib,Ab);Ab=qc}Xb.start=Xb.pos}for(;ib<Xb.pos;)a=Math.min(Xb.pos,ib+5E3),y(a,Ab),ib=a}function Pc(a,f,t){for(var q,y,V=a.doc,qa=t?-1:f-(a.doc.mode.innerMode?1E3:100);f>qa;--f){if(f<=V.first)return V.first;var ra=p(V,f-1),ib=ra.stateAfter;if(ib&&(!t||f+(ib instanceof nj?ib.lookAhead:0)<=V.modeFrontier))return f;ra=sb(ra.text,null,a.options.tabSize);if(null==y||q>ra)y=f-1,q=ra}return y}function rc(a,f){a.modeFrontier=Math.min(a.modeFrontier,f);
if(!(a.highlightFrontier<f-10)){for(var t=a.first,q=f-1;q>t;q--){var y=p(a,q).stateAfter;if(y&&(!(y instanceof nj)||q+y.lookAhead<f)){t=q+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,t)}}function Xc(a,f,t){this.marker=a;this.from=f;this.to=t}function $c(a,f){if(a)for(var t=0;t<a.length;++t){var q=a[t];if(q.marker==f)return q}}function Nc(a,f){if(f.full)return null;var t=fa(a,f.from.line)&&p(a,f.from.line).markedSpans,q=fa(a,f.to.line)&&p(a,f.to.line).markedSpans;if(!t&&!q)return null;
a=f.from.ch;var y=f.to.ch,V=0==Ta(f.from,f.to),qa;if(t)for(var ra=0;ra<t.length;++ra){var ib=t[ra],Ab=ib.marker;if(null==ib.from||(Ab.inclusiveLeft?ib.from<=a:ib.from<a)||!(ib.from!=a||"bookmark"!=Ab.type||V&&ib.marker.insertLeft)){var Xb=null==ib.to||(Ab.inclusiveRight?ib.to>=a:ib.to>a);(qa||(qa=[])).push(new Xc(Ab,ib.from,Xb?null:ib.to))}}t=qa;var Hc;if(q)for(qa=0;qa<q.length;++qa)if(ra=q[qa],ib=ra.marker,null==ra.to||(ib.inclusiveRight?ra.to>=y:ra.to>y)||ra.from==y&&"bookmark"==ib.type&&(!V||ra.marker.insertLeft))Ab=
null==ra.from||(ib.inclusiveLeft?ra.from<=y:ra.from<y),(Hc||(Hc=[])).push(new Xc(ib,Ab?null:ra.from-y,null==ra.to?null:ra.to-y));q=1==f.text.length;y=Ya(f.text).length+(q?a:0);if(t)for(V=0;V<t.length;++V)if(qa=t[V],null==qa.to)(ra=$c(Hc,qa.marker),ra)?q&&(qa.to=null==ra.to?null:ra.to+y):qa.to=a;if(Hc)for(a=0;a<Hc.length;++a)V=Hc[a],null!=V.to&&(V.to+=y),null==V.from?$c(t,V.marker)||(V.from=y,q&&(t||(t=[])).push(V)):(V.from+=y,q&&(t||(t=[])).push(V));t&&(t=Dd(t));Hc&&Hc!=t&&(Hc=Dd(Hc));a=[t];if(!q){f=
f.text.length-2;var qc;if(0<f&&t)for(q=0;q<t.length;++q)null==t[q].to&&(qc||(qc=[])).push(new Xc(t[q].marker,null,null));for(t=0;t<f;++t)a.push(qc);a.push(Hc)}return a}function Dd(a){for(var f=0;f<a.length;++f){var t=a[f];null!=t.from&&t.from==t.to&&!1!==t.marker.clearWhenEmpty&&a.splice(f--,1)}return a.length?a:null}function we(a,f,t){var q=null;a.iter(f.line,t.line+1,function(Xb){if(Xb.markedSpans)for(var Hc=0;Hc<Xb.markedSpans.length;++Hc){var qc=Xb.markedSpans[Hc].marker;!qc.readOnly||q&&-1!=
Wa(q,qc)||(q||(q=[])).push(qc)}});if(!q)return null;a=[{from:f,to:t}];for(f=0;f<q.length;++f){t=q[f];for(var y=t.find(0),V=0;V<a.length;++V){var qa=a[V];if(!(0>Ta(qa.to,y.from)||0<Ta(qa.from,y.to))){var ra=[V,1],ib=Ta(qa.from,y.from),Ab=Ta(qa.to,y.to);(0>ib||!t.inclusiveLeft&&!ib)&&ra.push({from:qa.from,to:y.from});(0<Ab||!t.inclusiveRight&&!Ab)&&ra.push({from:y.to,to:qa.to});a.splice.apply(a,ra);V+=ra.length-3}}}return a}function ld(a){var f=a.markedSpans;if(f){for(var t=0;t<f.length;++t)f[t].marker.detachLine(a);
a.markedSpans=null}}function sd(a,f){if(f){for(var t=0;t<f.length;++t)f[t].marker.attachLine(a);a.markedSpans=f}}function ge(a,f){var t=a.lines.length-f.lines.length;if(0!=t)return t;t=a.find();var q=f.find(),y=Ta(t.from,q.from)||(a.inclusiveLeft?-1:0)-(f.inclusiveLeft?-1:0);return y?-y:(t=Ta(t.to,q.to)||(a.inclusiveRight?1:0)-(f.inclusiveRight?1:0))?t:f.id-a.id}function La(a,f){a=ai&&a.markedSpans;if(a)for(var t,q=0;q<a.length;++q)if(t=a[q],t.marker.collapsed&&null==(f?t.from:t.to)&&(!y||0>ge(y,
t.marker)))var y=t.marker;return y}function vb(a,f,t,q,y){a=p(a,f);if(a=ai&&a.markedSpans)for(f=0;f<a.length;++f){var V=a[f];if(V.marker.collapsed){var qa=V.marker.find(0),ra=Ta(qa.from,t)||(V.marker.inclusiveLeft?-1:0)-(y.inclusiveLeft?-1:0),ib=Ta(qa.to,q)||(V.marker.inclusiveRight?1:0)-(y.inclusiveRight?1:0);if(!(0<=ra&&0>=ib||0>=ra&&0<=ib)&&(0>=ra&&(V.marker.inclusiveRight&&y.inclusiveLeft?0<=Ta(qa.to,t):0<Ta(qa.to,t))||0<=ra&&(V.marker.inclusiveRight&&y.inclusiveLeft?0>=Ta(qa.from,q):0>Ta(qa.from,
q))))return!0}}}function $b(a){for(var f;f=La(a,!0);)a=f.find(-1,!0).line;return a}function rd(a,f){a=p(a,f);var t=$b(a);return a==t?f:G(t)}function vd(a,f){if(f>a.lastLine())return f;var t=p(a,f);if(!de(a,t))return f;for(;a=La(t,!1);)t=a.find(1,!0).line;return G(t)+1}function de(a,f){var t=ai&&f.markedSpans;if(t)for(var q,y=0;y<t.length;++y)if(q=t[y],q.marker.collapsed&&(null==q.from||!q.marker.widgetNode&&0==q.from&&q.marker.inclusiveLeft&&oe(a,f,q)))return!0}function oe(a,f,t){if(null==t.to)return f=
t.marker.find(1,!0),oe(a,f.line,$c(f.line.markedSpans,t.marker));if(t.marker.inclusiveRight&&t.to==f.text.length)return!0;for(var q,y=0;y<f.markedSpans.length;++y)if(q=f.markedSpans[y],q.marker.collapsed&&!q.marker.widgetNode&&q.from==t.to&&(null==q.to||q.to!=t.from)&&(q.marker.inclusiveLeft||t.marker.inclusiveRight)&&oe(a,f,q))return!0}function X(a){a=$b(a);for(var f=0,t=a.parent,q=0;q<t.lines.length;++q){var y=t.lines[q];if(y==a)break;else f+=y.height}for(a=t.parent;a;t=a,a=t.parent)for(q=0;q<a.children.length&&
(y=a.children[q],y!=t);++q)f+=y.height;return f}function za(a){if(0==a.height)return 0;for(var f=a.text.length,t,q=a;t=La(q,!0);)t=t.find(0,!0),q=t.from.line,f+=t.from.ch-t.to.ch;for(q=a;t=La(q,!1);)a=t.find(0,!0),f-=q.text.length-a.from.ch,q=a.to.line,f+=q.text.length-a.to.ch;return f}function gb(a){var f=a.display;a=a.doc;f.maxLine=p(a,a.first);f.maxLineLength=za(f.maxLine);f.maxLineChanged=!0;a.iter(function(t){var q=za(t);q>f.maxLineLength&&(f.maxLineLength=q,f.maxLine=t)})}function Db(a,f){if(!a||
/^\s*$/.test(a))return null;f=f.addModeClass?Uj:nk;return f[a]||(f[a]=a.replace(/\S+/g,"cm-$\x26"))}function Zb(a,f){var t=Wb("span",null,null,yf?"padding-right: .1px":null);t={pre:Wb("pre",[t],"CodeMirror-line"),content:t,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};f.measure={};for(var q=0;q<=(f.rest?f.rest.length:0);q++){var y=q?f.rest[q-1]:f.line,V=void 0;t.pos=0;t.addToken=sc;var qa=a.display.measure;if(null!=Ri)qa=Ri;else{var ra=ca(qa,document.createTextNode("AخA")),
ib=vi(ra,0,1).getBoundingClientRect();ra=vi(ra,1,2).getBoundingClientRect();x(qa);qa=ib&&ib.left!=ib.right?Ri=3>ra.right-ib.right:!1}qa&&(V=cb(y,a.doc.direction))&&(t.addToken=jc(t.addToken,V));t.map=[];var Ab=f!=a.display.externalMeasured&&G(y);a:{var Xb=ra=ib=qa=void 0,Hc=void 0,qc=void 0,oc=void 0;V=t;Ab=Ec(a,y,Ab);var ed=y.markedSpans,Od=y.text,He=0;if(ed)for(var xf=Od.length,ve=0,Nf=1,Af="",Tf=0;;){if(Tf==ve){Hc=Xb=ra=qc="";ib=qa=null;Tf=Infinity;for(var Wf=[],jf=void 0,Uf=0;Uf<ed.length;++Uf){var Ff=
ed[Uf],Of=Ff.marker;if("bookmark"==Of.type&&Ff.from==ve&&Of.widgetNode)Wf.push(Of);else if(Ff.from<=ve&&(null==Ff.to||Ff.to>ve||Of.collapsed&&Ff.to==ve&&Ff.from==ve)){null!=Ff.to&&Ff.to!=ve&&Tf>Ff.to&&(Tf=Ff.to,Xb="");Of.className&&(Hc+=" "+Of.className);Of.css&&(qc=(qc?qc+";":"")+Of.css);Of.startStyle&&Ff.from==ve&&(ra+=" "+Of.startStyle);Of.endStyle&&Ff.to==Tf&&(jf||(jf=[])).push(Of.endStyle,Ff.to);Of.title&&((qa||(qa={})).title=Of.title);if(Of.attributes)for(var Jg in Of.attributes)(qa||(qa={}))[Jg]=
Of.attributes[Jg];Of.collapsed&&(!ib||0>ge(ib.marker,Of))&&(ib=Ff)}else Ff.from>ve&&Tf>Ff.from&&(Tf=Ff.from)}if(jf)for(Uf=0;Uf<jf.length;Uf+=2)jf[Uf+1]==Tf&&(Xb+=" "+jf[Uf]);if(!ib||ib.from==ve)for(jf=0;jf<Wf.length;++jf)Oa(V,0,Wf[jf]);if(ib&&(ib.from||0)==ve){Oa(V,(null==ib.to?xf+1:ib.to)-ve,ib.marker,null==ib.from);if(null==ib.to)break a;ib.to==ve&&(ib=!1)}}if(ve>=xf)break;for(Wf=Math.min(xf,Tf);;){if(Af){jf=ve+Af.length;ib||(Uf=jf>Wf?Af.slice(0,Wf-ve):Af,V.addToken(V,Uf,oc?oc+Hc:Hc,ra,ve+Uf.length==
Tf?Xb:"",qc,qa));if(jf>=Wf){Af=Af.slice(Wf-ve);ve=Wf;break}ve=jf;ra=""}Af=Od.slice(He,He=Ab[Nf++]);oc=Db(Ab[Nf++],V.cm.options)}}else for(qa=1;qa<Ab.length;qa+=2)V.addToken(V,Od.slice(He,He=Ab[qa]),Db(Ab[qa+1],V.cm.options))}y.styleClasses&&(y.styleClasses.bgClass&&(t.bgClass=Bb(y.styleClasses.bgClass,t.bgClass||"")),y.styleClasses.textClass&&(t.textClass=Bb(y.styleClasses.textClass,t.textClass||"")));0==t.map.length&&t.map.push(0,0,t.content.appendChild(db(a.display.measure)));0==q?(f.measure.map=
t.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(t.map),(f.measure.caches||(f.measure.caches=[])).push({}))}yf&&(Jg=t.content.lastChild,/\bcm-tab\b/.test(Jg.className)||Jg.querySelector&&Jg.querySelector(".cm-tab"))&&(t.content.className="cm-tab-wrap-hack");$a(a,"renderLine",a,f.line,t.pre);t.pre.className&&(t.textClass=Bb(t.pre.className,t.textClass||""));return t}function Gb(a){var f=Sa("span","•","cm-invalidchar");f.title="\\u"+a.charCodeAt(0).toString(16);f.setAttribute("aria-label",
f.title);return f}function sc(a,f,t,q,y,V,qa){if(f){if(a.splitSpaces){var ra=a.trailingSpace;if(1<f.length&&!/  /.test(f))ra=f;else{for(var ib="",Ab=0;Ab<f.length;Ab++){var Xb=f.charAt(Ab);" "!=Xb||!ra||Ab!=f.length-1&&32!=f.charCodeAt(Ab+1)||(Xb=" ");ib+=Xb;ra=" "==Xb}ra=ib}}else ra=f;ib=ra;Ab=a.cm.state.specialChars;Xb=!1;if(Ab.test(f)){ra=document.createDocumentFragment();for(var Hc=0;;){Ab.lastIndex=Hc;var qc=Ab.exec(f),oc=qc?qc.index-Hc:f.length-Hc;if(oc){var ed=document.createTextNode(ib.slice(Hc,
Hc+oc));nf&&9>sf?ra.appendChild(Sa("span",[ed])):ra.appendChild(ed);a.map.push(a.pos,a.pos+oc,ed);a.col+=oc;a.pos+=oc}if(!qc)break;Hc+=oc+1;"\t"==qc[0]?(qc=a.cm.options.tabSize,qc-=a.col%qc,oc=ra.appendChild(Sa("span",Ia(qc),"cm-tab")),oc.setAttribute("role","presentation"),oc.setAttribute("cm-text","\t"),a.col+=qc):("\r"==qc[0]||"\n"==qc[0]?(oc=ra.appendChild(Sa("span","\r"==qc[0]?"␍":"␤","cm-invalidchar")),oc.setAttribute("cm-text",qc[0])):(oc=a.cm.options.specialCharPlaceholder(qc[0]),oc.setAttribute("cm-text",
qc[0]),nf&&9>sf?ra.appendChild(Sa("span",[oc])):ra.appendChild(oc)),a.col+=1);a.map.push(a.pos,a.pos+1,oc);a.pos++}}else a.col+=f.length,ra=document.createTextNode(ib),a.map.push(a.pos,a.pos+f.length,ra),nf&&9>sf&&(Xb=!0),a.pos+=f.length;a.trailingSpace=32==ib.charCodeAt(f.length-1);if(t||q||y||Xb||V||qa){f=t||"";q&&(f+=q);y&&(f+=y);q=Sa("span",[ra],f,V);if(qa)for(var Od in qa)qa.hasOwnProperty(Od)&&"style"!=Od&&"class"!=Od&&q.setAttribute(Od,qa[Od]);return a.content.appendChild(q)}a.content.appendChild(ra)}}
function jc(a,f){return function(t,q,y,V,qa,ra,ib){y=y?y+" cm-force-border":"cm-force-border";for(var Ab=t.pos,Xb=Ab+q.length;;){for(var Hc=void 0,qc=0;qc<f.length&&!(Hc=f[qc],Hc.to>Ab&&Hc.from<=Ab);qc++);if(Hc.to>=Xb)return a(t,q,y,V,qa,ra,ib);a(t,q.slice(0,Hc.to-Ab),y,V,null,ra,ib);V=null;q=q.slice(Hc.to-Ab);Ab=Hc.to}}}function Oa(a,f,t,q){var y=!q&&t.widgetNode;y&&a.map.push(a.pos,a.pos+f,y);!q&&a.cm.display.input.needsContentAttribute&&(y||(y=a.content.appendChild(document.createElement("span"))),
y.setAttribute("cm-marker",t.id));y&&(a.cm.display.input.setUneditable(y),a.content.appendChild(y));a.pos+=f;a.trailingSpace=!1}function rb(a,f,t){for(var q=this.line=f,y;q=La(q,!1);)q=q.find(1,!0).line,(y||(y=[])).push(q);this.size=(this.rest=y)?G(Ya(this.rest))-t+1:1;this.node=this.text=null;this.hidden=de(a,f)}function Lb(a,f,t){var q=[],y;for(y=f;y<t;)f=new rb(a.doc,p(a.doc,y),y),y+=f.size,q.push(f);return q}function gc(a,f){if(a=a.ownsGroup)try{var t=a.delayedCallbacks,q=0;do{for(;q<t.length;q++)t[q].call(null);
for(var y=0;y<a.ops.length;y++){var V=a.ops[y];if(V.cursorActivityHandlers)for(;V.cursorActivityCalled<V.cursorActivityHandlers.length;)V.cursorActivityHandlers[V.cursorActivityCalled++].call(null,V.cm)}}while(q<t.length)}finally{yi=null,f(a)}}function tc(a,f){var t=a._handlers&&a._handlers[f]||yh;if(t.length){var q=Array.prototype.slice.call(arguments,2);if(yi)var y=yi.delayedCallbacks;else Rh?y=Rh:(y=Rh=[],setTimeout(Bc,0));for(var V=function(ra){y.push(function(){return t[ra].apply(null,q)})},
qa=0;qa<t.length;++qa)V(qa)}}function Bc(){var a=Rh;Rh=null;for(var f=0;f<a.length;++f)a[f]()}function Mc(a,f,t,q){for(var y=0;y<f.changes.length;y++){var V=f.changes[y];if("text"==V){V=a;var qa=f,ra=qa.text.className,ib=yc(V,qa);qa.text==qa.node&&(qa.node=ib.pre);qa.text.parentNode.replaceChild(ib.pre,qa.text);qa.text=ib.pre;ib.bgClass!=qa.bgClass||ib.textClass!=qa.textClass?(qa.bgClass=ib.bgClass,qa.textClass=ib.textClass,Cc(V,qa)):ra&&(qa.text.className=ra)}else if("gutter"==V)xc(a,f,t,q);else if("class"==
V)Cc(a,f);else if("widget"==V){V=a;qa=f;ra=q;qa.alignable&&(qa.alignable=null);ib=n("CodeMirror-linewidget");for(var Ab=qa.node.firstChild,Xb;Ab;Ab=Xb)Xb=Ab.nextSibling,ib.test(Ab.className)&&qa.node.removeChild(Ab);Yc(V,qa,ra)}}f.changes=null}function Hb(a){a.node==a.text&&(a.node=Sa("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),nf&&8>sf&&(a.node.style.zIndex=2));return a.node}function yc(a,f){var t=a.display.externalMeasured;
return t&&t.line==f.line?(a.display.externalMeasured=null,f.measure=t.measure,t.built):Zb(a,f)}function Cc(a,f){var t=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;t&&(t+=" CodeMirror-linebackground");if(f.background)t?f.background.className=t:(f.background.parentNode.removeChild(f.background),f.background=null);else if(t){var q=Hb(f);f.background=q.insertBefore(Sa("div",null,t),q.firstChild);a.display.input.setUneditable(f.background)}f.line.wrapClass?Hb(f).className=f.line.wrapClass:
f.node!=f.text&&(f.node.className="");f.text.className=(f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass)||""}function xc(a,f,t,q){f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null);f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null);if(f.line.gutterClass){var y=Hb(f);f.gutterBackground=Sa("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(a.options.fixedGutter?q.fixedPos:-q.gutterTotalWidth)+"px; width: "+q.gutterTotalWidth+
"px");a.display.input.setUneditable(f.gutterBackground);y.insertBefore(f.gutterBackground,f.text)}y=f.line.gutterMarkers;if(a.options.lineNumbers||y){var V=Hb(f),qa=f.gutter=Sa("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?q.fixedPos:-q.gutterTotalWidth)+"px");a.display.input.setUneditable(qa);V.insertBefore(qa,f.text);f.line.gutterClass&&(qa.className+=" "+f.line.gutterClass);!a.options.lineNumbers||y&&y["CodeMirror-linenumbers"]||(f.lineNumber=qa.appendChild(Sa("div",wa(a.options,
t),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+q.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(y)for(f=0;f<a.display.gutterSpecs.length;++f)t=a.display.gutterSpecs[f].className,(V=y.hasOwnProperty(t)&&y[t])&&qa.appendChild(Sa("div",[V],"CodeMirror-gutter-elt","left: "+q.gutterLeft[t]+"px; width: "+q.gutterWidth[t]+"px"))}}function Ic(a,f,t,q){var y=yc(a,f);f.text=f.node=y.pre;y.bgClass&&(f.bgClass=y.bgClass);y.textClass&&(f.textClass=y.textClass);
Cc(a,f);xc(a,f,t,q);Yc(a,f,q);return f.node}function Yc(a,f,t){Uc(a,f.line,f,t,!0);if(f.rest)for(var q=0;q<f.rest.length;q++)Uc(a,f.rest[q],f,t,!1)}function Uc(a,f,t,q,y){if(f.widgets){var V=Hb(t),qa=0;for(f=f.widgets;qa<f.length;++qa){var ra=f[qa],ib=Sa("div",[ra.node],"CodeMirror-linewidget"+(ra.className?" "+ra.className:""));ra.handleMouseEvents||ib.setAttribute("cm-ignore-events","true");var Ab=ra,Xb=ib,Hc=q;if(Ab.noHScroll){(t.alignable||(t.alignable=[])).push(Xb);var qc=Hc.wrapperWidth;Xb.style.left=
Hc.fixedPos+"px";Ab.coverGutter||(qc-=Hc.gutterTotalWidth,Xb.style.paddingLeft=Hc.gutterTotalWidth+"px");Xb.style.width=qc+"px"}Ab.coverGutter&&(Xb.style.zIndex=5,Xb.style.position="relative",Ab.noHScroll||(Xb.style.marginLeft=-Hc.gutterTotalWidth+"px"));a.display.input.setUneditable(ib);y&&ra.above?V.insertBefore(ib,t.gutter||t.text):V.appendChild(ib);tc(ra,"redraw")}}}function od(a){if(null!=a.height)return a.height;var f=a.doc.cm;if(!f)return 0;if(!fb(document.body,a.node)){var t="position: relative;";
a.coverGutter&&(t+="margin-left: -"+f.display.gutters.offsetWidth+"px;");a.noHScroll&&(t+="width: "+f.display.wrapper.clientWidth+"px;");ca(f.display.measure,Sa("div",[a.node],null,t))}return a.height=a.node.parentNode.offsetHeight}function qd(a,f){for(f=f.target||f.srcElement;f!=a.wrapper;f=f.parentNode)if(!f||1==f.nodeType&&"true"==f.getAttribute("cm-ignore-events")||f.parentNode==a.sizer&&f!=a.mover)return!0}function Id(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Ed(a){if(a.cachedPaddingH)return a.cachedPaddingH;
var f=ca(a.measure,Sa("pre","x","CodeMirror-line-like"));f=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle;f={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};isNaN(f.left)||isNaN(f.right)||(a.cachedPaddingH=f);return f}function Wd(a){return 50-a.display.nativeBarWidth}function me(a){return a.display.scroller.clientWidth-Wd(a)-a.display.barWidth}function ye(a){return a.display.scroller.clientHeight-Wd(a)-a.display.barHeight}function Ye(a,f,t){if(a.line==f)return{map:a.measure.map,
cache:a.measure.cache};for(var q=0;q<a.rest.length;q++)if(a.rest[q]==f)return{map:a.measure.maps[q],cache:a.measure.caches[q]};for(f=0;f<a.rest.length;f++)if(G(a.rest[f])>t)return{map:a.measure.maps[f],cache:a.measure.caches[f],before:!0}}function Qe(a,f){if(f>=a.display.viewFrom&&f<a.display.viewTo)return a.display.view[K(a,f)];if((a=a.display.externalMeasured)&&f>=a.lineN&&f<a.lineN+a.size)return a}function Re(a,f){var t=G(f),q=Qe(a,t);q&&!q.text?q=null:q&&q.changes&&(Mc(a,q,t,Ke(a)),a.curOp.forceUpdate=
!0);if(!q){var y=$b(f);q=G(y);y=a.display.externalMeasured=new rb(a.doc,y,q);y.lineN=q;q=y.built=Zb(a,y);y.text=q.pre;ca(a.display.lineMeasure,q.pre);q=y}a=Ye(q,f,t);return{line:f,view:q,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Fd(a,f,t,q,y){f.before&&(t=-1);var V=t+(q||"");if(f.cache.hasOwnProperty(V))a=f.cache[V];else{f.rect||(f.rect=f.view.text.getBoundingClientRect());if(!f.hasHeights){var qa=f.view,ra=f.rect,ib=a.options.lineWrapping,Ab=ib&&me(a);if(!qa.measure.heights||
ib&&qa.measure.width!=Ab){var Xb=qa.measure.heights=[];if(ib)for(qa.measure.width=Ab,qa=qa.text.firstChild.getClientRects(),ib=0;ib<qa.length-1;ib++){Ab=qa[ib];var Hc=qa[ib+1];2<Math.abs(Ab.bottom-Hc.bottom)&&Xb.push((Ab.bottom+Hc.top)/2-ra.top)}Xb.push(ra.bottom-ra.top)}f.hasHeights=!0}Xb=q;qa=ee(f.map,t,Xb);q=qa.node;ra=qa.start;ib=qa.end;t=qa.collapse;if(3==q.nodeType){for(var qc=0;4>qc;qc++){for(;ra&&ja(f.line.text.charAt(qa.coverStart+ra));)--ra;for(;qa.coverStart+ib<qa.coverEnd&&ja(f.line.text.charAt(qa.coverStart+
ib));)++ib;if(nf&&9>sf&&0==ra&&ib==qa.coverEnd-qa.coverStart)var oc=q.parentNode.getBoundingClientRect();else{oc=vi(q,ra,ib).getClientRects();ib=zi;if("left"==Xb)for(Ab=0;Ab<oc.length&&(ib=oc[Ab]).left==ib.right;Ab++);else for(Ab=oc.length-1;0<=Ab&&(ib=oc[Ab]).left==ib.right;Ab--);oc=ib}if(oc.left||oc.right||0==ra)break;ib=ra;--ra;t="right"}nf&&11>sf&&((qc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=zh?qc=zh:(Xb=ca(a.display.measure,Sa("span","x")),qc=
Xb.getBoundingClientRect(),Xb=vi(Xb,0,1).getBoundingClientRect(),qc=zh=1<Math.abs(qc.left-Xb.left)),qc=!qc),qc||(qc=screen.logicalXDPI/screen.deviceXDPI,Xb=screen.logicalYDPI/screen.deviceYDPI,oc={left:oc.left*qc,right:oc.right*qc,top:oc.top*Xb,bottom:oc.bottom*Xb}))}else 0<ra&&(t=Xb="right"),oc=a.options.lineWrapping&&1<(qc=q.getClientRects()).length?qc["right"==Xb?qc.length-1:0]:q.getBoundingClientRect();!(nf&&9>sf)||ra||oc&&(oc.left||oc.right)||(oc=(oc=q.parentNode.getClientRects()[0])?{left:oc.left,
right:oc.left+pe(a.display),top:oc.top,bottom:oc.bottom}:zi);q=oc.top-f.rect.top;ra=oc.bottom-f.rect.top;qc=(q+ra)/2;Xb=f.view.measure.heights;for(qa=0;qa<Xb.length-1&&!(qc<Xb[qa]);qa++);t={left:("right"==t?oc.right:oc.left)-f.rect.left,right:("left"==t?oc.left:oc.right)-f.rect.left,top:qa?Xb[qa-1]:0,bottom:Xb[qa]};oc.left||oc.right||(t.bogus=!0);a.options.singleCursorHeightPerLine||(t.rtop=q,t.rbottom=ra);a=t;a.bogus||(f.cache[V]=a)}return{left:a.left,right:a.right,top:y?a.rtop:a.top,bottom:y?a.rbottom:
a.bottom}}function ee(a,f,t){for(var q,y,V,qa,ra,ib,Ab=0;Ab<a.length;Ab+=3){ra=a[Ab];ib=a[Ab+1];if(f<ra)y=0,V=1,qa="left";else if(f<ib)y=f-ra,V=y+1;else if(Ab==a.length-3||f==ib&&a[Ab+3]>f)V=ib-ra,y=V-1,f>=ib&&(qa="right");if(null!=y){q=a[Ab+2];ra==ib&&t==(q.insertLeft?"left":"right")&&(qa=t);if("left"==t&&0==y)for(;Ab&&a[Ab-2]==a[Ab-3]&&a[Ab-1].insertLeft;)q=a[(Ab-=3)+2],qa="left";if("right"==t&&y==ib-ra)for(;Ab<a.length-3&&a[Ab+3]==a[Ab+4]&&!a[Ab+5].insertLeft;)q=a[(Ab+=3)+2],qa="right";break}}return{node:q,
start:y,end:V,collapse:qa,coverStart:ra,coverEnd:ib}}function ff(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var f=0;f<a.rest.length;f++)a.measure.caches[f]={}}function Oe(a){a.display.externalMeasure=null;x(a.display.lineMeasure);for(var f=0;f<a.display.view.length;f++)ff(a.display.view[f])}function Bf(a){Oe(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=
null}function Yd(){return yg&&si?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ae(){return yg&&si?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function cf(a){var f=0;if(a.widgets)for(var t=0;t<a.widgets.length;++t)a.widgets[t].above&&(f+=od(a.widgets[t]));
return f}function re(a,f,t,q,y){y||(y=cf(f),t.top+=y,t.bottom+=y);if("line"==q)return t;q||(q="local");f=X(f);f="local"==q?f+a.display.lineSpace.offsetTop:f-a.display.viewOffset;if("page"==q||"window"==q)a=a.display.lineSpace.getBoundingClientRect(),f+=a.top+("window"==q?0:Ae()),q=a.left+("window"==q?0:Yd()),t.left+=q,t.right+=q;t.top+=f;t.bottom+=f;return t}function Ad(a,f,t){if("div"==t)return f;var q=f.left;f=f.top;"page"==t?(q-=Yd(),f-=Ae()):"local"!=t&&t||(t=a.display.sizer.getBoundingClientRect(),
q+=t.left,f+=t.top);a=a.display.lineSpace.getBoundingClientRect();return{left:q-a.left,top:f-a.top}}function Ld(a,f,t,q,y){q||(q=p(a.doc,f.line));var V=q;f=f.ch;q=Fd(a,Re(a,q),f,y);return re(a,V,q,t)}function ae(a,f,t,q,y,V){function qa(qc,oc){qc=Fd(a,y,qc,oc?"right":"left",V);oc?qc.left=qc.right:qc.right=qc.left;return re(a,q,qc,t)}function ra(qc,oc,ed){return qa(ed?qc-1:qc,1==ib[oc].level!=ed)}q=q||p(a.doc,f.line);y||(y=Re(a,q));var ib=cb(q,a.doc.direction),Ab=f.ch;f=f.sticky;Ab>=q.text.length?
(Ab=q.text.length,f="before"):0>=Ab&&(Ab=0,f="after");if(!ib)return qa("before"==f?Ab-1:Ab,"before"==f);var Xb=hb(ib,Ab,f),Hc=Li;Xb=ra(Ab,Xb,"before"==f);null!=Hc&&(Xb.other=ra(Ab,Hc,"before"!=f));return Xb}function Jf(a,f){var t=0;f=xb(a.doc,f);a.options.lineWrapping||(t=pe(a.display)*f.ch);f=p(a.doc,f.line);a=X(f)+a.display.lineSpace.offsetTop;return{left:t,right:t,top:a,bottom:a+f.height}}function De(a,f,t,q,y){a=la(a,f,t);a.xRel=y;q&&(a.outside=q);return a}function Jd(a,f,t){var q=a.doc;t+=a.display.viewOffset;
if(0>t)return De(q.first,0,null,-1,-1);var y=B(q,t),V=q.first+q.size-1;if(y>V)return De(q.first+q.size-1,p(q,V).text.length,null,1,1);0>f&&(f=0);for(var qa=p(q,y);;){V=Be(a,qa,y,f,t);var ra=void 0;var ib=V.ch+(0<V.xRel||0<V.outside?1:0);if(qa=ai&&qa.markedSpans)for(var Ab=0;Ab<qa.length;++Ab){var Xb=qa[Ab];Xb.marker.collapsed&&(null==Xb.from||Xb.from<ib)&&(null==Xb.to||Xb.to>ib)&&(!ra||0>ge(ra,Xb.marker))&&(ra=Xb.marker)}if(!ra)return V;V=ra.find(1);if(V.line==y)return V;qa=p(q,y=V.line)}}function Se(a,
f,t,q){q-=cf(f);f=f.text.length;var y=Qa(function(V){return Fd(a,t,V-1).bottom<=q},f,0);f=Qa(function(V){return Fd(a,t,V).top>q},y,f);return{begin:y,end:f}}function Ee(a,f,t,q){t||(t=Re(a,f));q=re(a,f,Fd(a,t,q),"line").top;return Se(a,f,t,q)}function Ac(a,f,t,q){return a.bottom<=t?!1:a.top>t?!0:(q?a.left:a.right)>f}function Be(a,f,t,q,y){y-=X(f);var V=Re(a,f),qa=cf(f),ra=0,ib=f.text.length,Ab=!0,Xb=cb(f,a.doc.direction);Xb&&(Xb=(a.options.lineWrapping?bc:Xd)(a,f,t,V,Xb,q,y),ra=(Ab=1!=Xb.level)?Xb.from:
Xb.to-1,ib=Ab?Xb.to:Xb.from-1);var Hc=null,qc=null;Xb=Qa(function(ed){var Od=Fd(a,V,ed);Od.top+=qa;Od.bottom+=qa;if(!Ac(Od,q,y,!1))return!1;Od.top<=y&&Od.left<=q&&(Hc=ed,qc=Od);return!0},ra,ib);var oc=!1;qc?(ra=q-qc.left<qc.right-q,Ab=ra==Ab,Xb=Hc+(Ab?0:1),Ab=Ab?"after":"before",ra=ra?qc.left:qc.right):(Ab||Xb!=ib&&Xb!=ra||Xb++,Ab=0==Xb?"after":Xb==f.text.length?"before":Fd(a,V,Xb-(Ab?1:0)).bottom+qa<=y==Ab?"after":"before",oc=ae(a,la(t,Xb,Ab),"line",f,V),ra=oc.left,oc=y<oc.top?-1:y>=oc.bottom?1:
0);Xb=Aa(f.text,Xb,1);return De(t,Xb,Ab,oc,q-ra)}function Xd(a,f,t,q,y,V,qa){var ra=Qa(function(Xb){Xb=y[Xb];var Hc=1!=Xb.level;return Ac(ae(a,la(t,Hc?Xb.to:Xb.from,Hc?"before":"after"),"line",f,q),V,qa,!0)},0,y.length-1),ib=y[ra];if(0<ra){var Ab=1!=ib.level;Ab=ae(a,la(t,Ab?ib.from:ib.to,Ab?"after":"before"),"line",f,q);Ac(Ab,V,qa,!0)&&Ab.top>qa&&(ib=y[ra-1])}return ib}function bc(a,f,t,q,y,V,qa){qa=Se(a,f,q,qa);t=qa.begin;qa=qa.end;/\s/.test(f.text.charAt(qa-1))&&qa--;for(var ra=f=null,ib=0;ib<y.length;ib++){var Ab=
y[ib];if(!(Ab.from>=qa||Ab.to<=t)){var Xb=Fd(a,q,1!=Ab.level?Math.min(qa,Ab.to)-1:Math.max(t,Ab.from)).right;Xb=Xb<V?V-Xb+1E9:Xb-V;if(!f||ra>Xb)f=Ab,ra=Xb}}f||(f=y[y.length-1]);f.from<t&&(f={from:t,to:f.to,level:f.level});f.to>qa&&(f={from:f.from,to:qa,level:f.level});return f}function Je(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==ih){ih=Sa("pre",null,"CodeMirror-line-like");for(var f=0;49>f;++f)ih.appendChild(document.createTextNode("x")),ih.appendChild(Sa("br"));ih.appendChild(document.createTextNode("x"))}ca(a.measure,
ih);f=ih.offsetHeight/50;3<f&&(a.cachedTextHeight=f);x(a.measure);return f||1}function pe(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var f=Sa("span","xxxxxxxxxx"),t=Sa("pre",[f],"CodeMirror-line-like");ca(a.measure,t);f=f.getBoundingClientRect();f=(f.right-f.left)/10;2<f&&(a.cachedCharWidth=f);return f||10}function Ke(a){for(var f=a.display,t={},q={},y=f.gutters.clientLeft,V=f.gutters.firstChild,qa=0;V;V=V.nextSibling,++qa){var ra=a.display.gutterSpecs[qa].className;t[ra]=V.offsetLeft+
V.clientLeft+y;q[ra]=V.clientWidth}return{fixedPos:Cf(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:t,gutterWidth:q,wrapperWidth:f.wrapper.clientWidth}}function Cf(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function kf(a){var f=Je(a.display),t=a.options.lineWrapping,q=t&&Math.max(5,a.display.scroller.clientWidth/pe(a.display)-3);return function(y){if(de(a.doc,y))return 0;var V=0;if(y.widgets)for(var qa=0;qa<y.widgets.length;qa++)y.widgets[qa].height&&
(V+=y.widgets[qa].height);return t?V+(Math.ceil(y.text.length/q)||1)*f:V+f}}function tf(a){var f=a.doc,t=kf(a);f.iter(function(q){var y=t(q);y!=q.height&&D(q,y)})}function Pe(a,f,t,q){var y=a.display;if(!t&&"true"==(f.target||f.srcElement).getAttribute("cm-not-content"))return null;t=y.lineSpace.getBoundingClientRect();try{var V=f.clientX-t.left;var qa=f.clientY-t.top}catch(ib){return null}f=Jd(a,V,qa);var ra;q&&0<f.xRel&&(ra=p(a.doc,f.line).text).length==f.ch&&(q=sb(ra,ra.length,a.options.tabSize)-
ra.length,f=la(f.line,Math.max(0,Math.round((V-Ed(a.display).left)/pe(a.display))-q)));return f}function K(a,f){if(f>=a.display.viewTo)return null;f-=a.display.viewFrom;if(0>f)return null;a=a.display.view;for(var t=0;t<a.length;t++)if(f-=a[t].size,0>f)return t}function S(a,f,t,q){null==f&&(f=a.doc.first);null==t&&(t=a.doc.first+a.doc.size);q||(q=0);var y=a.display;q&&t<y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>f)&&(y.updateLineNumbers=f);a.curOp.viewChanged=!0;if(f>=y.viewTo)ai&&rd(a.doc,
f)<y.viewTo&&Ka(a);else if(t<=y.viewFrom)ai&&vd(a.doc,t+q)>y.viewFrom?Ka(a):(y.viewFrom+=q,y.viewTo+=q);else if(f<=y.viewFrom&&t>=y.viewTo)Ka(a);else if(f<=y.viewFrom){var V=Va(a,t,t+q,1);V?(y.view=y.view.slice(V.index),y.viewFrom=V.lineN,y.viewTo+=q):Ka(a)}else if(t>=y.viewTo)(V=Va(a,f,f,-1))?(y.view=y.view.slice(0,V.index),y.viewTo=V.lineN):Ka(a);else{V=Va(a,f,f,-1);var qa=Va(a,t,t+q,1);V&&qa?(y.view=y.view.slice(0,V.index).concat(Lb(a,V.lineN,qa.lineN)).concat(y.view.slice(qa.index)),y.viewTo+=
q):Ka(a)}if(a=y.externalMeasured)t<a.lineN?a.lineN+=q:f<a.lineN+a.size&&(y.externalMeasured=null)}function ua(a,f,t){a.curOp.viewChanged=!0;var q=a.display,y=a.display.externalMeasured;y&&f>=y.lineN&&f<y.lineN+y.size&&(q.externalMeasured=null);f<q.viewFrom||f>=q.viewTo||(a=q.view[K(a,f)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==Wa(a,t)&&a.push(t)))}function Ka(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Va(a,f,t,q){var y=K(a,f),V=a.display.view;
if(!ai||t==a.doc.first+a.doc.size)return{index:y,lineN:t};for(var qa=a.display.viewFrom,ra=0;ra<y;ra++)qa+=V[ra].size;if(qa!=f){if(0<q){if(y==V.length-1)return null;f=qa+V[y].size-f;y++}else f=qa-f;t+=f}for(;rd(a.doc,t)!=t;){if(y==(0>q?0:V.length-1))return null;t+=q*V[y-(0>q?1:0)].size;y+=q}return{index:y,lineN:t}}function Vb(a){a=a.display.view;for(var f=0,t=0;t<a.length;t++){var q=a[t];q.hidden||q.node&&!q.changes||++f}return f}function lc(a){a.display.input.showSelection(a.display.input.prepareSelection())}
function Gc(a,f){void 0===f&&(f=!0);for(var t=a.doc,q={},y=q.cursors=document.createDocumentFragment(),V=q.selection=document.createDocumentFragment(),qa=0;qa<t.sel.ranges.length;qa++)if(f||qa!=t.sel.primIndex){var ra=t.sel.ranges[qa];if(!(ra.from().line>=a.display.viewTo||ra.to().line<a.display.viewFrom)){var ib=ra.empty();(ib||a.options.showCursorWhenSelecting)&&uc(a,ra.head,y);ib||id(a,ra,V)}}return q}function uc(a,f,t){f=ae(a,f,"div",null,null,!a.options.singleCursorHeightPerLine);var q=t.appendChild(Sa("div",
" ","CodeMirror-cursor"));q.style.left=f.left+"px";q.style.top=f.top+"px";q.style.height=Math.max(0,f.bottom-f.top)*a.options.cursorHeight+"px";f.other&&(a=t.appendChild(Sa("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=f.other.left+"px",a.style.top=f.other.top+"px",a.style.height=.85*(f.other.bottom-f.other.top)+"px")}function Fc(a,f){return a.top-f.top||a.left-f.left}function id(a,f,t){function q(oc,ed,Od,He){0>ed&&(ed=0);ed=Math.round(ed);He=Math.round(He);
ra.appendChild(Sa("div",null,"CodeMirror-selected","position: absolute; left: "+oc+"px;\n                             top: "+ed+"px; width: "+(null==Od?Xb-oc:Od)+"px;\n                             height: "+(He-ed)+"px"))}function y(oc,ed,Od){function He(jf,Uf){return Ld(a,la(oc,jf),"div",ve,Uf)}function xf(jf,Uf,Ff){jf=Ee(a,ve,null,jf);Uf="ltr"==Uf==("after"==Ff)?"left":"right";Ff="after"==Ff?jf.begin:jf.end-(/\s/.test(ve.text.charAt(jf.end-1))?2:1);return He(Ff,Uf)[Uf]}var ve=p(qa,oc),Nf=ve.text.length,
Af,Tf,Wf=cb(ve,qa.direction);Xa(Wf,ed||0,null==Od?Nf:Od,function(jf,Uf,Ff,Of){var Jg="ltr"==Ff,Cg=He(jf,Jg?"left":"right"),vg=He(Uf-1,Jg?"right":"left"),Lg=null==ed&&0==jf,mg=null==Od&&Uf==Nf,Dg=0==Of;Of=!Wf||Of==Wf.length-1;3>=vg.top-Cg.top?(Uf=(Hc?Lg:mg)&&Dg?Ab:(Jg?Cg:vg).left,q(Uf,Cg.top,((Hc?mg:Lg)&&Of?Xb:(Jg?vg:Cg).right)-Uf,Cg.bottom)):(Jg?(Jg=Hc&&Lg&&Dg?Ab:Cg.left,Lg=Hc?Xb:xf(jf,Ff,"before"),jf=Hc?Ab:xf(Uf,Ff,"after"),mg=Hc&&mg&&Of?Xb:vg.right):(Jg=Hc?xf(jf,Ff,"before"):Ab,Lg=!Hc&&Lg&&Dg?Xb:
Cg.right,jf=!Hc&&mg&&Of?Ab:vg.left,mg=Hc?xf(Uf,Ff,"after"):Xb),q(Jg,Cg.top,Lg-Jg,Cg.bottom),Cg.bottom<vg.top&&q(Ab,Cg.bottom,null,vg.top),q(jf,vg.top,mg-jf,vg.bottom));if(!Af||0>Fc(Cg,Af))Af=Cg;0>Fc(vg,Af)&&(Af=vg);if(!Tf||0>Fc(Cg,Tf))Tf=Cg;0>Fc(vg,Tf)&&(Tf=vg)});return{start:Af,end:Tf}}var V=a.display,qa=a.doc,ra=document.createDocumentFragment(),ib=Ed(a.display),Ab=ib.left,Xb=Math.max(V.sizerWidth,me(a)-V.sizer.offsetLeft)-ib.right,Hc="ltr"==qa.direction;V=f.from();f=f.to();if(V.line==f.line)y(V.line,
V.ch,f.ch);else{var qc=p(qa,V.line);ib=p(qa,f.line);ib=$b(qc)==$b(ib);V=y(V.line,V.ch,ib?qc.text.length+1:null).end;f=y(f.line,ib?0:null,f.ch).start;ib&&(V.top<f.top-2?(q(V.right,V.top,null,V.bottom),q(Ab,f.top,f.left,f.bottom)):q(V.right,V.top,f.left-V.right,V.bottom));V.bottom<f.top&&q(Ab,V.bottom,null,f.top)}t.appendChild(ra)}function fd(a){if(a.state.focused){var f=a.display;clearInterval(f.blinker);var t=!0;f.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?f.blinker=setInterval(function(){a.hasFocus()||
le(a);f.cursorDiv.style.visibility=(t=!t)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(f.cursorDiv.style.visibility="hidden")}}function se(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||zd(a))}function xd(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&le(a))},100)}function zd(a,f){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&
(a.state.focused||($a(a,"focus",a,f),a.state.focused=!0,Qb(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),yf&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),fd(a))}function le(a,f){a.state.delayingBlurEvent||(a.state.focused&&($a(a,"blur",a,f),a.state.focused=!1,Xg(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=
!1)},150))}function Te(a){for(var f=a.display,t=f.lineDiv.offsetTop,q=0;q<f.view.length;q++){var y=f.view[q],V=a.options.lineWrapping,qa=0;if(!y.hidden){if(nf&&8>sf){V=y.node.offsetTop+y.node.offsetHeight;var ra=V-t;t=V}else{var ib=y.node.getBoundingClientRect();ra=ib.bottom-ib.top;!V&&y.text.firstChild&&(qa=y.text.firstChild.getBoundingClientRect().right-ib.left-1)}V=y.line.height-ra;if(.005<V||-.005>V)if(D(y.line,ra),Me(y.line),y.rest)for(ra=0;ra<y.rest.length;ra++)Me(y.rest[ra]);qa>a.display.sizerWidth&&
(qa=Math.ceil(qa/pe(a.display)),qa>a.display.maxLineLength&&(a.display.maxLineLength=qa,a.display.maxLine=y.line,a.display.maxLineChanged=!0))}}}function Me(a){if(a.widgets)for(var f=0;f<a.widgets.length;++f){var t=a.widgets[f],q=t.node.parentNode;q&&(t.height=q.offsetHeight)}}function uf(a,f,t){var q=t&&null!=t.top?Math.max(0,t.top):a.scroller.scrollTop;q=Math.floor(q-a.lineSpace.offsetTop);var y=t&&null!=t.bottom?t.bottom:q+a.wrapper.clientHeight;q=B(f,q);y=B(f,y);if(t&&t.ensure){var V=t.ensure.from.line;
t=t.ensure.to.line;V<q?(q=V,y=B(f,X(p(f,V))+a.wrapper.clientHeight)):Math.min(t,f.lastLine())>=y&&(q=B(f,X(p(f,t))-a.wrapper.clientHeight),y=t)}return{from:q,to:Math.max(y,q+1)}}function Zf(a,f){var t=a.display,q=Je(a.display);0>f.top&&(f.top=0);var y=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:t.scroller.scrollTop,V=ye(a),qa={};f.bottom-f.top>V&&(f.bottom=f.top+V);var ra=a.doc.height+Id(t),ib=f.top<q;q=f.bottom>ra-q;f.top<y?qa.scrollTop=ib?0:f.top:f.bottom>y+V&&(V=Math.min(f.top,(q?ra:f.bottom)-
V),V!=y&&(qa.scrollTop=V));y=a.options.fixedGutter?0:t.gutters.offsetWidth;V=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:t.scroller.scrollLeft-y;a=me(a)-t.gutters.offsetWidth;if(t=f.right-f.left>a)f.right=f.left+a;10>f.left?qa.scrollLeft=0:f.left<V?qa.scrollLeft=Math.max(0,f.left+y-(t?0:10)):f.right>a+V-3&&(qa.scrollLeft=f.right+(t?0:10)-a);return qa}function pd(a,f){null!=f&&(Ze(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+f)}function Ue(a){Ze(a);var f=
a.getCursor();a.curOp.scrollToPos={from:f,to:f,margin:a.options.cursorScrollMargin}}function Le(a,f,t){null==f&&null==t||Ze(a);null!=f&&(a.curOp.scrollLeft=f);null!=t&&(a.curOp.scrollTop=t)}function Ze(a){var f=a.curOp.scrollToPos;if(f){a.curOp.scrollToPos=null;var t=Jf(a,f.from),q=Jf(a,f.to);$f(a,t,q,f.margin)}}function $f(a,f,t,q){f=Zf(a,{left:Math.min(f.left,t.left),top:Math.min(f.top,t.top)-q,right:Math.max(f.right,t.right),bottom:Math.max(f.bottom,t.bottom)+q});Le(a,f.scrollLeft,f.scrollTop)}
function vf(a,f){2>Math.abs(a.doc.scrollTop-f)||(jg||af(a,{top:f}),ag(a,f,!0),jg&&af(a),ud(a,100))}function ag(a,f,t){f=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,f));if(a.display.scroller.scrollTop!=f||t)a.doc.scrollTop=f,a.display.scrollbars.setScrollTop(f),a.display.scroller.scrollTop!=f&&(a.display.scroller.scrollTop=f)}function df(a,f,t,q){f=Math.max(0,Math.min(f,a.display.scroller.scrollWidth-a.display.scroller.clientWidth));(t?f==a.doc.scrollLeft:2>
Math.abs(a.doc.scrollLeft-f))&&!q||(a.doc.scrollLeft=f,ze(a),a.display.scroller.scrollLeft!=f&&(a.display.scroller.scrollLeft=f),a.display.scrollbars.setScrollLeft(f))}function J(a){var f=a.display,t=f.gutters.offsetWidth,q=Math.round(a.doc.height+Id(a.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:a.options.fixedGutter?t:0,docHeight:q,scrollHeight:q+
Wd(a)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:t}}function da(a,f){f||(f=J(a));var t=a.display.barWidth,q=a.display.barHeight;kb(a,f);for(f=0;4>f&&t!=a.display.barWidth||q!=a.display.barHeight;f++)t!=a.display.barWidth&&a.options.lineWrapping&&Te(a),kb(a,J(a)),t=a.display.barWidth,q=a.display.barHeight}function kb(a,f){var t=a.display,q=t.scrollbars.update(f);t.sizer.style.paddingRight=(t.barWidth=q.right)+"px";t.sizer.style.paddingBottom=(t.barHeight=q.bottom)+"px";t.heightForcer.style.borderBottom=
q.bottom+"px solid transparent";q.right&&q.bottom?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=q.bottom+"px",t.scrollbarFiller.style.width=q.right+"px"):t.scrollbarFiller.style.display="";q.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=q.bottom+"px",t.gutterFiller.style.width=f.gutterWidth+"px"):t.gutterFiller.style.display=""}function Pb(a){a.display.scrollbars&&(a.display.scrollbars.clear(),
a.display.scrollbars.addClass&&Xg(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new Si[a.options.scrollbarStyle](function(f){a.display.wrapper.insertBefore(f,a.display.scrollbarFiller);Ge(f,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)});f.setAttribute("cm-not-content","true")},function(f,t){"horizontal"==t?df(a,f):vf(a,f)},a);a.display.scrollbars.addClass&&Qb(a.display.wrapper,a.display.scrollbars.addClass)}function Mb(a){a.curOp=
{cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vj};a=a.curOp;yi?yi.ops.push(a):a.ownsGroup=yi={ops:[a],delayedCallbacks:[]}}function ac(a){(a=a.curOp)&&gc(a,function(f){for(var t=0;t<f.ops.length;t++)f.ops[t].cm.curOp=null;f=f.ops;for(t=0;t<f.length;t++){var q=f[t],y=q.cm,V=y.display,qa=y.display;
!qa.scrollbarsClipped&&qa.scroller.offsetWidth&&(qa.nativeBarWidth=qa.scroller.offsetWidth-qa.scroller.clientWidth,qa.heightForcer.style.height=Wd(y)+"px",qa.sizer.style.marginBottom=-qa.nativeBarWidth+"px",qa.sizer.style.borderRightWidth=Wd(y)+"px",qa.scrollbarsClipped=!0);q.updateMaxLine&&gb(y);q.mustUpdate=q.viewChanged||q.forceUpdate||null!=q.scrollTop||q.scrollToPos&&(q.scrollToPos.from.line<V.viewFrom||q.scrollToPos.to.line>=V.viewTo)||V.maxLineChanged&&y.options.lineWrapping;q.update=q.mustUpdate&&
new Ai(y,q.mustUpdate&&{top:q.scrollTop,ensure:q.scrollToPos},q.forceUpdate)}for(t=0;t<f.length;t++)q=f[t],q.updatedDisplay=q.mustUpdate&&Td(q.cm,q.update);for(t=0;t<f.length;t++)if(q=f[t],y=q.cm,V=y.display,q.updatedDisplay&&Te(y),q.barMeasure=J(y),V.maxLineChanged&&!y.options.lineWrapping&&(qa=V.maxLine.text.length,qa=Fd(y,Re(y,V.maxLine),qa,void 0),q.adjustWidthTo=qa.left+3,y.display.sizerWidth=q.adjustWidthTo,q.barMeasure.scrollWidth=Math.max(V.scroller.clientWidth,V.sizer.offsetLeft+q.adjustWidthTo+
Wd(y)+y.display.barWidth),q.maxScrollLeft=Math.max(0,V.sizer.offsetLeft+q.adjustWidthTo-me(y))),q.updatedDisplay||q.selectionChanged)q.preparedSelection=V.input.prepareSelection();for(t=0;t<f.length;t++)q=f[t],y=q.cm,null!=q.adjustWidthTo&&(y.display.sizer.style.minWidth=q.adjustWidthTo+"px",q.maxScrollLeft<y.doc.scrollLeft&&df(y,Math.min(y.display.scroller.scrollLeft,q.maxScrollLeft),!0),y.display.maxLineChanged=!1),V=q.focus&&q.focus==ub(),q.preparedSelection&&y.display.input.showSelection(q.preparedSelection,
V),(q.updatedDisplay||q.startHeight!=y.doc.height)&&da(y,q.barMeasure),q.updatedDisplay&&he(y,q.barMeasure),q.selectionChanged&&fd(y),y.state.focused&&q.updateInput&&y.display.input.reset(q.typing),V&&se(q.cm);for(t=0;t<f.length;t++){var ra=void 0;q=f[t];y=q.cm;V=y.display;qa=y.doc;q.updatedDisplay&&Bd(y,q.update);null==V.wheelStartX||null==q.scrollTop&&null==q.scrollLeft&&!q.scrollToPos||(V.wheelStartX=V.wheelStartY=null);null!=q.scrollTop&&ag(y,q.scrollTop,q.forceScroll);null!=q.scrollLeft&&df(y,
q.scrollLeft,!0,!0);if(q.scrollToPos){var ib=xb(qa,q.scrollToPos.from);var Ab=xb(qa,q.scrollToPos.to);var Xb=q.scrollToPos.margin;null==Xb&&(Xb=0);y.options.lineWrapping||ib!=Ab||(ib=ib.ch?la(ib.line,"before"==ib.sticky?ib.ch-1:ib.ch,"after"):ib,Ab="before"==ib.sticky?la(ib.line,ib.ch+1,"before"):ib);for(var Hc=0;5>Hc;Hc++){var qc=!1;ra=ae(y,ib);var oc=Ab&&Ab!=ib?ae(y,Ab):ra;ra={left:Math.min(ra.left,oc.left),top:Math.min(ra.top,oc.top)-Xb,right:Math.max(ra.left,oc.left),bottom:Math.max(ra.bottom,
oc.bottom)+Xb};oc=Zf(y,ra);var ed=y.doc.scrollTop,Od=y.doc.scrollLeft;null!=oc.scrollTop&&(vf(y,oc.scrollTop),1<Math.abs(y.doc.scrollTop-ed)&&(qc=!0));null!=oc.scrollLeft&&(df(y,oc.scrollLeft),1<Math.abs(y.doc.scrollLeft-Od)&&(qc=!0));if(!qc)break}Ab=ra;Q(y,"scrollCursorIntoView")||(Xb=y.display,Hc=Xb.sizer.getBoundingClientRect(),ib=null,0>Ab.top+Hc.top?ib=!0:Ab.bottom+Hc.top>(window.innerHeight||document.documentElement.clientHeight)&&(ib=!1),null==ib||fi||(Ab=Sa("div","​",null,"position: absolute;\n                         top: "+
(Ab.top-Xb.viewOffset-y.display.lineSpace.offsetTop)+"px;\n                         height: "+(Ab.bottom-Ab.top+Wd(y)+Xb.barHeight)+"px;\n                         left: "+Ab.left+"px; width: "+Math.max(2,Ab.right-Ab.left)+"px;"),y.display.lineSpace.appendChild(Ab),Ab.scrollIntoView(ib),y.display.lineSpace.removeChild(Ab)))}Ab=q.maybeHiddenMarkers;ib=q.maybeUnhiddenMarkers;if(Ab)for(Xb=0;Xb<Ab.length;++Xb)Ab[Xb].lines.length||$a(Ab[Xb],"hide");if(ib)for(Ab=0;Ab<ib.length;++Ab)ib[Ab].lines.length&&
$a(ib[Ab],"unhide");V.wrapper.offsetHeight&&(qa.scrollTop=y.display.scroller.scrollTop);q.changeObjs&&$a(y,"changes",y,q.changeObjs);q.update&&q.update.finish()}})}function ic(a,f){if(a.curOp)return f();Mb(a);try{return f()}finally{ac(a)}}function Qc(a,f){return function(){if(a.curOp)return f.apply(a,arguments);Mb(a);try{return f.apply(a,arguments)}finally{ac(a)}}}function Kc(a){return function(){if(this.curOp)return a.apply(this,arguments);Mb(this);try{return a.apply(this,arguments)}finally{ac(this)}}}
function ad(a){return function(){var f=this.cm;if(!f||f.curOp)return a.apply(this,arguments);Mb(f);try{return a.apply(this,arguments)}finally{ac(f)}}}function ud(a,f){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(f,bb(Nd,a))}function Nd(a){var f=a.doc;if(!(f.highlightFrontier>=a.display.viewTo)){var t=+new Date+a.options.workTime,q=gd(a,f.highlightFrontier),y=[];f.iter(q.line,Math.min(f.first+f.size,a.display.viewTo+500),function(V){if(q.line>=a.display.viewFrom){var qa=V.styles,
ra=V.text.length>a.options.maxHighlightLength?R(f.mode,q.state):null,ib=ec(a,V,q,!0);ra&&(q.state=ra);V.styles=ib.styles;ra=V.styleClasses;(ib=ib.classes)?V.styleClasses=ib:ra&&(V.styleClasses=null);ib=!qa||qa.length!=V.styles.length||ra!=ib&&(!ra||!ib||ra.bgClass!=ib.bgClass||ra.textClass!=ib.textClass);for(ra=0;!ib&&ra<qa.length;++ra)ib=qa[ra]!=V.styles[ra];ib&&y.push(q.line);V.stateAfter=q.save()}else V.text.length<=a.options.maxHighlightLength&&Dc(a,V.text,q),V.stateAfter=0==q.line%5?q.save():
null;q.nextLine();if(+new Date>t)return ud(a,a.options.workDelay),!0});f.highlightFrontier=q.line;f.modeFrontier=Math.max(f.modeFrontier,q.line);y.length&&ic(a,function(){for(var V=0;V<y.length;V++)ua(a,y[V],"text")})}}function Td(a,f){var t=a.display,q=a.doc;if(f.editorIsHidden)return Ka(a),!1;if(!f.force&&f.visible.from>=t.viewFrom&&f.visible.to<=t.viewTo&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo)&&t.renderedView==t.view&&0==Vb(a))return!1;Sf(a)&&(Ka(a),f.dims=Ke(a));var y=q.first+
q.size,V=Math.max(f.visible.from-a.options.viewportMargin,q.first),qa=Math.min(y,f.visible.to+a.options.viewportMargin);t.viewFrom<V&&20>V-t.viewFrom&&(V=Math.max(q.first,t.viewFrom));t.viewTo>qa&&20>t.viewTo-qa&&(qa=Math.min(y,t.viewTo));ai&&(V=rd(a.doc,V),qa=vd(a.doc,qa));q=V!=t.viewFrom||qa!=t.viewTo||t.lastWrapHeight!=f.wrapperHeight||t.lastWrapWidth!=f.wrapperWidth;y=a.display;0==y.view.length||V>=y.viewTo||qa<=y.viewFrom?(y.view=Lb(a,V,qa),y.viewFrom=V):(y.viewFrom>V?y.view=Lb(a,V,y.viewFrom).concat(y.view):
y.viewFrom<V&&(y.view=y.view.slice(K(a,V))),y.viewFrom=V,y.viewTo<qa?y.view=y.view.concat(Lb(a,y.viewTo,qa)):y.viewTo>qa&&(y.view=y.view.slice(0,K(a,qa))));y.viewTo=qa;t.viewOffset=X(p(a.doc,t.viewFrom));a.display.mover.style.top=t.viewOffset+"px";qa=Vb(a);if(!q&&0==qa&&!f.force&&t.renderedView==t.view&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo))return!1;a.hasFocus()?V=null:(V=ub())&&fb(a.display.lineDiv,V)?(V={activeElt:V},window.getSelection&&(y=window.getSelection(),y.anchorNode&&
y.extend&&fb(a.display.lineDiv,y.anchorNode)&&(V.anchorNode=y.anchorNode,V.anchorOffset=y.anchorOffset,V.focusNode=y.focusNode,V.focusOffset=y.focusOffset))):V=null;4<qa&&(t.lineDiv.style.display="none");Pd(a,t.updateLineNumbers,f.dims);4<qa&&(t.lineDiv.style.display="");t.renderedView=t.view;(qa=V)&&qa.activeElt&&qa.activeElt!=ub()&&(qa.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(qa.activeElt.nodeName)&&qa.anchorNode&&fb(document.body,qa.anchorNode)&&fb(document.body,qa.focusNode)&&(V=window.getSelection(),
y=document.createRange(),y.setEnd(qa.anchorNode,qa.anchorOffset),y.collapse(!1),V.removeAllRanges(),V.addRange(y),V.extend(qa.focusNode,qa.focusOffset)));x(t.cursorDiv);x(t.selectionDiv);t.gutters.style.height=t.sizer.style.minHeight=0;q&&(t.lastWrapHeight=f.wrapperHeight,t.lastWrapWidth=f.wrapperWidth,ud(a,400));t.updateLineNumbers=null;return!0}function Bd(a,f){for(var t=f.viewport,q=!0;;q=!1){if(q&&a.options.lineWrapping&&f.oldDisplayWidth!=me(a))q&&(f.visible=uf(a.display,a.doc,t));else if(t&&
null!=t.top&&(t={top:Math.min(a.doc.height+Id(a.display)-ye(a),t.top)}),f.visible=uf(a.display,a.doc,t),f.visible.from>=a.display.viewFrom&&f.visible.to<=a.display.viewTo)break;if(!Td(a,f))break;Te(a);q=J(a);lc(a);da(a,q);he(a,q);f.force=!1}f.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)f.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}
function af(a,f){f=new Ai(a,f);if(Td(a,f)){Te(a);Bd(a,f);var t=J(a);lc(a);da(a,t);he(a,t);f.finish()}}function Pd(a,f,t){function q(qc){var oc=qc.nextSibling;yf&&Wg&&a.display.currentWheelTarget==qc?qc.style.display="none":qc.parentNode.removeChild(qc);return oc}var y=a.display,V=a.options.lineNumbers,qa=y.lineDiv,ra=qa.firstChild,ib=y.view;y=y.viewFrom;for(var Ab=0;Ab<ib.length;Ab++){var Xb=ib[Ab];if(!Xb.hidden)if(Xb.node&&Xb.node.parentNode==qa){for(;ra!=Xb.node;)ra=q(ra);ra=V&&null!=f&&f<=y&&Xb.lineNumber;
Xb.changes&&(-1<Wa(Xb.changes,"gutter")&&(ra=!1),Mc(a,Xb,y,t));ra&&(x(Xb.lineNumber),Xb.lineNumber.appendChild(document.createTextNode(wa(a.options,y))));ra=Xb.node.nextSibling}else{var Hc=Ic(a,Xb,y,t);qa.insertBefore(Hc,ra)}y+=Xb.size}for(;ra;)ra=q(ra)}function Fe(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px"}function he(a,f){a.display.sizer.style.minHeight=f.docHeight+"px";a.display.heightForcer.style.top=f.docHeight+"px";a.display.gutters.style.height=f.docHeight+a.display.barHeight+Wd(a)+
"px"}function ze(a){var f=a.display,t=f.view;if(f.alignWidgets||f.gutters.firstChild&&a.options.fixedGutter){for(var q=Cf(f)-f.scroller.scrollLeft+a.doc.scrollLeft,y=f.gutters.offsetWidth,V=q+"px",qa=0;qa<t.length;qa++)if(!t[qa].hidden){a.options.fixedGutter&&(t[qa].gutter&&(t[qa].gutter.style.left=V),t[qa].gutterBackground&&(t[qa].gutterBackground.style.left=V));var ra=t[qa].alignable;if(ra)for(var ib=0;ib<ra.length;ib++)ra[ib].style.left=V}a.options.fixedGutter&&(f.gutters.style.left=q+y+"px")}}
function Sf(a){if(!a.options.lineNumbers)return!1;var f=a.doc;f=wa(a.options,f.first+f.size-1);var t=a.display;if(f.length!=t.lineNumChars){var q=t.measure.appendChild(Sa("div",[Sa("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=q.firstChild.offsetWidth;q=q.offsetWidth-y;t.lineGutter.style.width="";t.lineNumInnerWidth=Math.max(y,t.lineGutter.offsetWidth-q)+1;t.lineNumWidth=t.lineNumInnerWidth+q;t.lineNumChars=t.lineNumInnerWidth?f.length:-1;t.lineGutter.style.width=t.lineNumWidth+"px";
Fe(a.display);return!0}return!1}function be(a,f){for(var t=[],q=!1,y=0;y<a.length;y++){var V=a[y],qa=null;"string"!=typeof V&&(qa=V.style,V=V.className);if("CodeMirror-linenumbers"==V)if(f)q=!0;else continue;t.push({className:V,style:qa})}f&&!q&&t.push({className:"CodeMirror-linenumbers",style:null});return t}function wf(a){var f=a.gutters,t=a.gutterSpecs;x(f);a.lineGutter=null;for(var q=0;q<t.length;++q){var y=t[q],V=y.className;y=y.style;var qa=f.appendChild(Sa("div",null,"CodeMirror-gutter "+V));
y&&(qa.style.cssText=y);"CodeMirror-linenumbers"==V&&(a.lineGutter=qa,qa.style.width=(a.lineNumWidth||1)+"px")}f.style.display=t.length?"":"none";Fe(a)}function Ce(a){wf(a.display);S(a);ze(a)}function Kf(a,f,t,q){this.input=t;this.scrollbarFiller=Sa("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=Sa("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=Wb("div",null,"CodeMirror-code");
this.selectionDiv=Sa("div",null,null,"position: relative; z-index: 1");this.cursorDiv=Sa("div",null,"CodeMirror-cursors");this.measure=Sa("div",null,"CodeMirror-measure");this.lineMeasure=Sa("div",null,"CodeMirror-measure");this.lineSpace=Wb("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var y=Wb("div",[this.lineSpace],"CodeMirror-lines");this.mover=Sa("div",[y],null,"position: relative");this.sizer=Sa("div",[this.mover],
"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=Sa("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=Sa("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=Sa("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=Sa("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");nf&&8>sf&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);yf||jg&&
Oh||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=f.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=
this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=be(q.gutters,q.lineNumbers);wf(this);t.init(this)}function ef(a){var f=a.wheelDeltaX,t=a.wheelDeltaY;null==f&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(f=a.detail);null==t&&a.detail&&a.axis==a.VERTICAL_AXIS?t=a.detail:null==t&&(t=a.wheelDelta);return{x:f,y:t}}function gg(a){a=
ef(a);a.x*=Og;a.y*=Og;return a}function M(a,f){var t=ef(f),q=t.x;t=t.y;var y=a.display,V=y.scroller,qa=V.scrollWidth>V.clientWidth,ra=V.scrollHeight>V.clientHeight;if(q&&qa||t&&ra){if(t&&Wg&&yf){qa=f.target;var ib=y.view;a:for(;qa!=V;qa=qa.parentNode)for(var Ab=0;Ab<ib.length;Ab++)if(ib[Ab].node==qa){a.display.currentWheelTarget=qa;break a}}!q||jg||Kg||null==Og?(t&&null!=Og&&(f=t*Og,ra=a.doc.scrollTop,qa=ra+y.wrapper.clientHeight,0>f?ra=Math.max(0,ra+f-50):qa=Math.min(a.doc.height,qa+f+50),af(a,{top:ra,
bottom:qa})),20>Gi&&(null==y.wheelStartX?(y.wheelStartX=V.scrollLeft,y.wheelStartY=V.scrollTop,y.wheelDX=q,y.wheelDY=t,setTimeout(function(){if(null!=y.wheelStartX){var Xb=V.scrollLeft-y.wheelStartX,Hc=V.scrollTop-y.wheelStartY;Xb=Hc&&y.wheelDY&&Hc/y.wheelDY||Xb&&y.wheelDX&&Xb/y.wheelDX;y.wheelStartX=y.wheelStartY=null;Xb&&(Og=(Og*Gi+Xb)/(Gi+1),++Gi)}},200)):(y.wheelDX+=q,y.wheelDY+=t))):(t&&ra&&vf(a,Math.max(0,V.scrollTop+t*Og)),df(a,Math.max(0,V.scrollLeft+q*Og)),(!t||t&&ra)&&O(f),y.wheelStartX=
null)}}function N(a,f,t){a=a&&a.options.selectionsMayTouch;t=f[t];f.sort(function(ib,Ab){return Ta(ib.from(),Ab.from())});t=Wa(f,t);for(var q=1;q<f.length;q++){var y=f[q],V=f[q-1],qa=Ta(V.to(),y.from());if(a&&!y.empty()?0<qa:0<=qa){qa=eb(V.from(),y.from());var ra=sa(V.to(),y.to());y=V.empty()?y.from()==y.head:V.from()==V.head;q<=t&&--t;f.splice(--q,2,new zf(y?ra:qa,y?qa:ra))}}return new Ng(f,t)}function Y(a,f){return new Ng([new zf(a,f||a)],0)}function ia(a){return a.text?la(a.from.line+a.text.length-
1,Ya(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function ya(a,f){if(0>Ta(a,f.from))return a;if(0>=Ta(a,f.to))return ia(f);var t=a.line+f.text.length-(f.to.line-f.from.line)-1,q=a.ch;a.line==f.to.line&&(q+=ia(f).ch-f.to.ch);return la(t,q)}function Da(a,f){for(var t=[],q=0;q<a.sel.ranges.length;q++){var y=a.sel.ranges[q];t.push(new zf(ya(y.anchor,f),ya(y.head,f)))}return N(a.cm,t,a.sel.primIndex)}function Za(a,f,t){return a.line==f.line?la(t.line,a.ch-f.ch+t.ch):la(t.line+(a.line-f.line),a.ch)}
function tb(a){a.doc.mode=xa(a.options,a.doc.modeOption);nb(a)}function nb(a){a.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null);f.styles&&(f.styles=null)});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;ud(a,100);a.state.modeGen++;a.curOp&&S(a)}function zb(a,f){return 0==f.from.ch&&0==f.to.ch&&""==Ya(f.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Eb(a,f,t,q){function y(ed,Od,He){ed.text=Od;ed.stateAfter&&(ed.stateAfter=null);ed.styles&&(ed.styles=null);null!=ed.order&&
(ed.order=null);ld(ed);sd(ed,He);Od=q?q(ed):1;Od!=ed.height&&D(ed,Od);tc(ed,"change",ed,f)}function V(ed,Od){for(var He=[];ed<Od;++ed)He.push(new bi(ib[ed],t?t[ed]:null,q));return He}var qa=f.from,ra=f.to,ib=f.text,Ab=p(a,qa.line),Xb=p(a,ra.line),Hc=Ya(ib),qc=t?t[ib.length-1]:null,oc=ra.line-qa.line;f.full?(a.insert(0,V(0,ib.length)),a.remove(ib.length,a.size-ib.length)):zb(a,f)?(ra=V(0,ib.length-1),y(Xb,Xb.text,qc),oc&&a.remove(qa.line,oc),ra.length&&a.insert(qa.line,ra)):Ab==Xb?1==ib.length?y(Ab,
Ab.text.slice(0,qa.ch)+Hc+Ab.text.slice(ra.ch),qc):(oc=V(1,ib.length-1),oc.push(new bi(Hc+Ab.text.slice(ra.ch),qc,q)),y(Ab,Ab.text.slice(0,qa.ch)+ib[0],t?t[0]:null),a.insert(qa.line+1,oc)):1==ib.length?(y(Ab,Ab.text.slice(0,qa.ch)+ib[0]+Xb.text.slice(ra.ch),t?t[0]:null),a.remove(qa.line+1,oc)):(y(Ab,Ab.text.slice(0,qa.ch)+ib[0],t?t[0]:null),y(Xb,Hc+Xb.text.slice(ra.ch),qc),qc=V(1,ib.length-1),1<oc&&a.remove(qa.line+1,oc-1),a.insert(qa.line+1,qc));tc(a,"change",a,f)}function Yb(a,f,t){function q(y,
V,qa){if(y.linked)for(var ra=0;ra<y.linked.length;++ra){var ib=y.linked[ra];if(ib.doc!=V){var Ab=qa&&ib.sharedHist;if(!t||Ab)f(ib.doc,Ab),q(ib.doc,y,Ab)}}}q(a,null,!0)}function pc(a,f){if(f.cm)throw Error("This document is already in use.");a.doc=f;f.cm=a;tf(a);tb(a);u(a);a.options.lineWrapping||gb(a);a.options.mode=f.modeOption;S(a)}function u(a){("rtl"==a.doc.direction?Qb:Xg)(a.display.lineDiv,"CodeMirror-rtl")}function E(a){ic(a,function(){u(a);S(a)})}function aa(a){this.done=[];this.undone=[];
this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function ka(a,f){var t={from:Z(f.from),to:ia(f),text:r(a,f.from,f.to)};fc(a,t,f.from.line,f.to.line+1);Yb(a,function(q){return fc(q,t,f.from.line,f.to.line+1)},!0);return t}function lb(a){for(;a.length;)if(Ya(a).ranges)a.pop();else break}function Ib(a,f,t,q){var y=a.history;y.undone.length=0;var V=+new Date,qa;if(qa=y.lastOp==q||y.lastOrigin==
f.origin&&f.origin&&("+"==f.origin.charAt(0)&&y.lastModTime>V-(a.cm?a.cm.options.historyEventDelay:500)||"*"==f.origin.charAt(0))){if(y.lastOp==q){lb(y.done);var ra=Ya(y.done)}else y.done.length&&!Ya(y.done).ranges?ra=Ya(y.done):1<y.done.length&&!y.done[y.done.length-2].ranges?(y.done.pop(),ra=Ya(y.done)):ra=void 0;qa=ra}if(qa){var ib=Ya(ra.changes);0==Ta(f.from,f.to)&&0==Ta(f.from,ib.to)?ib.to=ia(f):ra.changes.push(ka(a,f))}else for((ra=Ya(y.done))&&ra.ranges||Sb(a.sel,y.done),ra={changes:[ka(a,
f)],generation:y.generation},y.done.push(ra);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift();y.done.push(t);y.generation=++y.maxGeneration;y.lastModTime=y.lastSelTime=V;y.lastOp=y.lastSelOp=q;y.lastOrigin=y.lastSelOrigin=f.origin;ib||$a(a,"historyAdded")}function Sb(a,f){var t=Ya(f);t&&t.ranges&&t.equals(a)||f.push(a)}function fc(a,f,t,q){var y=f["spans_"+a.id],V=0;a.iter(Math.max(a.first,t),Math.min(a.first+a.size,q),function(qa){qa.markedSpans&&((y||(y=f["spans_"+a.id]=
{}))[V]=qa.markedSpans);++V})}function zc(a){if(!a)return null;for(var f,t=0;t<a.length;++t)a[t].marker.explicitlyCleared?f||(f=a.slice(0,t)):f&&f.push(a[t]);return f?f.length?f:null:a}function Tc(a,f){var t;if(t=f["spans_"+a.id]){for(var q=[],y=0;y<f.text.length;++y)q.push(zc(t[y]));t=q}else t=null;a=Nc(a,f);if(!t)return a;if(!a)return t;for(f=0;f<t.length;++f)if(q=t[f],y=a[f],q&&y){var V=0;a:for(;V<y.length;++V){for(var qa=y[V],ra=0;ra<q.length;++ra)if(q[ra].marker==qa.marker)continue a;q.push(qa)}}else y&&
(t[f]=y);return t}function Rc(a,f,t){for(var q=[],y=0;y<a.length;++y){var V=a[y];if(V.ranges)q.push(t?Ng.prototype.deepCopy.call(V):V);else{V=V.changes;var qa=[];q.push({changes:qa});for(var ra=0;ra<V.length;++ra){var ib=V[ra],Ab;qa.push({from:ib.from,to:ib.to,text:ib.text});if(f)for(var Xb in ib)(Ab=Xb.match(/^spans_(\d+)$/))&&-1<Wa(f,Number(Ab[1]))&&(Ya(qa)[Xb]=ib[Xb],delete ib[Xb])}}}return q}function yd(a,f,t,q){return q?(a=a.anchor,t&&(q=0>Ta(f,a),q!=0>Ta(t,a)?(a=f,f=t):q!=0>Ta(f,t)&&(f=t)),
new zf(a,f)):new zf(t||f,f)}function Md(a,f,t,q,y){null==y&&(y=a.cm&&(a.cm.display.shift||a.extend));oa(a,new Ng([yd(a.sel.primary(),f,t,y)],0),q)}function bd(a,f,t){for(var q=[],y=a.cm&&(a.cm.display.shift||a.extend),V=0;V<a.sel.ranges.length;V++)q[V]=yd(a.sel.ranges[V],f[V],null,y);f=N(a.cm,q,a.sel.primIndex);oa(a,f,t)}function Sd(a,f,t,q){var y=a.sel.ranges.slice(0);y[f]=t;oa(a,N(a.cm,y,a.sel.primIndex),q)}function je(a,f,t){t={ranges:f.ranges,update:function(q){this.ranges=[];for(var y=0;y<q.length;y++)this.ranges[y]=
new zf(xb(a,q[y].anchor),xb(a,q[y].head))},origin:t&&t.origin};$a(a,"beforeSelectionChange",a,t);a.cm&&$a(a.cm,"beforeSelectionChange",a.cm,t);return t.ranges!=f.ranges?N(a.cm,t.ranges,t.ranges.length-1):f}function We(a,f,t){var q=a.history.done,y=Ya(q);y&&y.ranges?(q[q.length-1]=f,Pa(a,f,t)):oa(a,f,t)}function oa(a,f,t){Pa(a,f,t);f=a.sel;var q=a.cm?a.cm.curOp.id:NaN,y=a.history,V=t&&t.origin,qa;if(!(qa=q==y.lastSelOp)&&(qa=V&&y.lastSelOrigin==V)&&!(qa=y.lastModTime==y.lastSelTime&&y.lastOrigin==
V)){qa=Ya(y.done);var ra=V.charAt(0);qa="*"==ra||"+"==ra&&qa.ranges.length==f.ranges.length&&qa.somethingSelected()==f.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}qa?y.done[y.done.length-1]=f:Sb(f,y.done);y.lastSelTime=+new Date;y.lastSelOrigin=V;y.lastSelOp=q;t&&!1!==t.clearRedo&&lb(y.undone)}function Pa(a,f,t){if(T(a,"beforeSelectionChange")||a.cm&&T(a.cm,"beforeSelectionChange"))f=je(a,f,t);var q=t&&t.bias||(0>Ta(f.primary().head,a.sel.primary().head)?
-1:1);pb(a,Ub(a,f,q,!0));t&&!1===t.scroll||!a.cm||Ue(a.cm)}function pb(a,f){f.equals(a.sel)||(a.sel=f,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,H(a.cm)),tc(a,"cursorActivity",a))}function Cb(a){pb(a,Ub(a,a.sel,null,!1))}function Ub(a,f,t,q){for(var y,V=0;V<f.ranges.length;V++){var qa=f.ranges[V],ra=f.ranges.length==a.sel.ranges.length&&a.sel.ranges[V],ib=m(a,qa.anchor,ra&&ra.anchor,t,q);ra=m(a,qa.head,ra&&ra.head,t,q);if(y||ib!=qa.anchor||ra!=qa.head)y||(y=f.ranges.slice(0,V)),
y[V]=new zf(ib,ra)}return y?N(a.cm,y,f.primIndex):f}function c(a,f,t,q,y){var V=p(a,f.line);if(V.markedSpans)for(var qa=0;qa<V.markedSpans.length;++qa){var ra=V.markedSpans[qa],ib=ra.marker,Ab="selectLeft"in ib?!ib.selectLeft:ib.inclusiveLeft,Xb="selectRight"in ib?!ib.selectRight:ib.inclusiveRight;if((null==ra.from||(Ab?ra.from<=f.ch:ra.from<f.ch))&&(null==ra.to||(Xb?ra.to>=f.ch:ra.to>f.ch))){if(y&&($a(ib,"beforeCursorEnter"),ib.explicitlyCleared))if(V.markedSpans){--qa;continue}else break;if(ib.atomic){if(t){qa=
ib.find(0>q?1:-1);ra=void 0;if(0>q?Xb:Ab)qa=F(a,qa,-q,qa&&qa.line==f.line?V:null);if(qa&&qa.line==f.line&&(ra=Ta(qa,t))&&(0>q?0>ra:0<ra))return c(a,qa,f,q,y)}t=ib.find(0>q?-1:1);if(0>q?Ab:Xb)t=F(a,t,q,t.line==f.line?V:null);return t?c(a,t,f,q,y):null}}}return f}function m(a,f,t,q,y){q=q||1;f=c(a,f,t,q,y)||!y&&c(a,f,t,q,!0)||c(a,f,t,-q,y)||!y&&c(a,f,t,-q,!0);return f?f:(a.cantEdit=!0,la(a.first,0))}function F(a,f,t,q){return 0>t&&0==f.ch?f.line>a.first?xb(a,la(f.line-1)):null:0<t&&f.ch==(q||p(a,f.line)).text.length?
f.line<a.first+a.size-1?la(f.line+1,0):null:new la(f.line,f.ch+t)}function ha(a){a.setSelection(la(a.firstLine(),0),la(a.lastLine()),bg)}function Fa(a,f,t){var q={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return q.canceled=!0}};t&&(q.update=function(y,V,qa,ra){y&&(q.from=xb(a,y));V&&(q.to=xb(a,V));qa&&(q.text=qa);void 0!==ra&&(q.origin=ra)});$a(a,"beforeChange",a,q);a.cm&&$a(a.cm,"beforeChange",a.cm,q);return q.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:q.from,
to:q.to,text:q.text,origin:q.origin}}function Ob(a,f,t){if(a.cm){if(!a.cm.curOp)return Qc(a.cm,Ob)(a,f,t);if(a.cm.state.suppressEdits)return}if(T(a,"beforeChange")||a.cm&&T(a.cm,"beforeChange"))if(f=Fa(a,f,!0),!f)return;if(t=Cj&&!t&&we(a,f.from,f.to))for(var q=t.length-1;0<=q;--q)Tb(a,{from:t[q].from,to:t[q].to,text:q?[""]:f.text,origin:f.origin});else Tb(a,f)}function Tb(a,f){if(1!=f.text.length||""!=f.text[0]||0!=Ta(f.from,f.to)){var t=Da(a,f);Ib(a,f,t,a.cm?a.cm.curOp.id:NaN);hd(a,f,t,Nc(a,f));
var q=[];Yb(a,function(y,V){V||-1!=Wa(q,y.history)||(Hd(y.history,f),q.push(y.history));hd(y,f,null,Nc(y,f))})}}function cc(a,f,t){var q=a.cm&&a.cm.state.suppressEdits;if(!q||t){for(var y=a.history,V,qa=a.sel,ra="undo"==f?y.done:y.undone,ib="undo"==f?y.undone:y.done,Ab=0;Ab<ra.length&&(V=ra[Ab],t?!V.ranges||V.equals(a.sel):V.ranges);Ab++);if(Ab!=ra.length){for(y.lastOrigin=y.lastSelOrigin=null;;)if(V=ra.pop(),V.ranges){Sb(V,ib);if(t&&!V.equals(a.sel)){oa(a,V,{clearRedo:!1});return}qa=V}else{if(q){ra.push(V);
return}break}var Xb=[];Sb(qa,ib);ib.push({changes:Xb,generation:y.generation});y.generation=V.generation||++y.maxGeneration;var Hc=T(a,"beforeChange")||a.cm&&T(a.cm,"beforeChange");t=function(qc){var oc=V.changes[qc];oc.origin=f;if(Hc&&!Fa(a,oc,!1))return ra.length=0,{};Xb.push(ka(a,oc));var ed=qc?Da(a,oc):Ya(ra);hd(a,oc,ed,Tc(a,oc));!qc&&a.cm&&a.cm.scrollIntoView({from:oc.from,to:ia(oc)});var Od=[];Yb(a,function(He,xf){xf||-1!=Wa(Od,He.history)||(Hd(He.history,oc),Od.push(He.history));hd(He,oc,null,
Tc(He,oc))})};for(q=V.changes.length-1;0<=q;--q)if(y=t(q))return y.v}}}function vc(a,f){if(0!=f&&(a.first+=f,a.sel=new Ng(mb(a.sel.ranges,function(y){return new zf(la(y.anchor.line+f,y.anchor.ch),la(y.head.line+f,y.head.ch))}),a.sel.primIndex),a.cm)){S(a.cm,a.first,a.first-f,f);for(var t=a.cm.display,q=t.viewFrom;q<t.viewTo;q++)ua(a.cm,q,"gutter")}}function hd(a,f,t,q){if(a.cm&&!a.cm.curOp)return Qc(a.cm,hd)(a,f,t,q);if(f.to.line<a.first)vc(a,f.text.length-1-(f.to.line-f.from.line));else if(!(f.from.line>
a.lastLine())){if(f.from.line<a.first){var y=f.text.length-1-(a.first-f.from.line);vc(a,y);f={from:la(a.first,0),to:la(f.to.line+y,f.to.ch),text:[Ya(f.text)],origin:f.origin}}y=a.lastLine();f.to.line>y&&(f={from:f.from,to:la(y,p(a,y).text.length),text:[f.text[0]],origin:f.origin});f.removed=r(a,f.from,f.to);t||(t=Da(a,f));a.cm?nd(a.cm,f,q):Eb(a,f,q);Pa(a,t,bg);a.cantEdit&&m(a,la(a.firstLine(),0))&&(a.cantEdit=!1)}}function nd(a,f,t){var q=a.doc,y=a.display,V=f.from,qa=f.to,ra=!1,ib=V.line;a.options.lineWrapping||
(ib=G($b(p(q,V.line))),q.iter(ib,qa.line+1,function(Ab){if(Ab==y.maxLine)return ra=!0}));-1<q.sel.contains(f.from,f.to)&&H(a);Eb(q,f,t,kf(a));a.options.lineWrapping||(q.iter(ib,V.line+f.text.length,function(Ab){var Xb=za(Ab);Xb>y.maxLineLength&&(y.maxLine=Ab,y.maxLineLength=Xb,y.maxLineChanged=!0,ra=!1)}),ra&&(a.curOp.updateMaxLine=!0));rc(q,V.line);ud(a,400);t=f.text.length-(qa.line-V.line)-1;f.full?S(a):V.line!=qa.line||1!=f.text.length||zb(a.doc,f)?S(a,V.line,qa.line+1,t):ua(a,V.line,"text");t=
T(a,"changes");if((q=T(a,"change"))||t)f={from:V,to:qa,text:f.text,removed:f.removed,origin:f.origin},q&&tc(a,"change",a,f),t&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(f);a.display.selForContextMenu=null}function ie(a,f,t,q,y){q||(q=t);0>Ta(q,t)&&(q=[q,t],t=q[0],q=q[1]);"string"==typeof f&&(f=a.splitLines(f));Ob(a,{from:t,to:q,text:f,origin:y})}function $d(a,f,t,q){t<a.line?a.line+=q:f<a.line&&(a.line=f,a.ch=0)}function Vd(a,f,t,q){for(var y=0;y<a.length;++y){var V=a[y],qa=!0;if(V.ranges)for(V.copied||
(V=a[y]=V.deepCopy(),V.copied=!0),qa=0;qa<V.ranges.length;qa++)$d(V.ranges[qa].anchor,f,t,q),$d(V.ranges[qa].head,f,t,q);else{for(var ra=0;ra<V.changes.length;++ra){var ib=V.changes[ra];if(t<ib.from.line)ib.from=la(ib.from.line+q,ib.from.ch),ib.to=la(ib.to.line+q,ib.to.ch);else if(f<=ib.to.line){qa=!1;break}}qa||(a.splice(0,y+1),y=0)}}}function Hd(a,f){var t=f.from.line,q=f.to.line;f=f.text.length-(q-t)-1;Vd(a.done,t,q,f);Vd(a.undone,t,q,f)}function md(a,f,t,q){var y=f,V=f;"number"==typeof f?V=p(a,
Math.max(a.first,Math.min(f,a.first+a.size-1))):y=G(f);if(null==y)return null;q(V,y)&&a.cm&&ua(a.cm,y,t);return V}function ce(a){this.lines=a;this.parent=null;for(var f=0,t=0;t<a.length;++t)a[t].parent=this,f+=a[t].height;this.height=f}function bf(a){this.children=a;for(var f=0,t=0,q=0;q<a.length;++q){var y=a[q];f+=y.chunkSize();t+=y.height;y.parent=this}this.size=f;this.height=t;this.parent=null}function qf(a,f,t,q){var y=new oi(a,t,q),V=a.cm;V&&y.noHScroll&&(V.display.alignWidgets=!0);md(a,f,"widget",
function(qa){var ra=qa.widgets||(qa.widgets=[]);null==y.insertAt?ra.push(y):ra.splice(Math.min(ra.length,Math.max(0,y.insertAt)),0,y);y.line=qa;V&&!de(a,qa)&&(ra=X(qa)<a.scrollTop,D(qa,qa.height+od(y)),ra&&pd(V,y.height),V.curOp.forceUpdate=!0);return!0});V&&tc(V,"lineWidgetAdded",V,y,"number"==typeof f?f:G(f));return y}function ke(a,f,t,q,y){if(q&&q.shared)return Xe(a,f,t,q,y);if(a.cm&&!a.cm.curOp)return Qc(a.cm,ke)(a,f,t,q,y);var V=new Qg(a,y);y=Ta(f,t);q&&qb(q,V,!1);if(0<y||0==y&&!1!==V.clearWhenEmpty)return V;
V.replacedWith&&(V.collapsed=!0,V.widgetNode=Wb("span",[V.replacedWith],"CodeMirror-widget"),q.handleMouseEvents||V.widgetNode.setAttribute("cm-ignore-events","true"),q.insertLeft&&(V.widgetNode.insertLeft=!0));if(V.collapsed){if(vb(a,f.line,f,t,V)||f.line!=t.line&&vb(a,t.line,f,t,V))throw Error("Inserting collapsed marker partially overlapping an existing one");ai=!0}V.addToHistory&&Ib(a,{from:f,to:t,origin:"markText"},a.sel,NaN);var qa=f.line,ra=a.cm,ib;a.iter(qa,t.line+1,function(Ab){ra&&V.collapsed&&
!ra.options.lineWrapping&&$b(Ab)==ra.display.maxLine&&(ib=!0);V.collapsed&&qa!=f.line&&D(Ab,0);var Xb=new Xc(V,qa==f.line?f.ch:null,qa==t.line?t.ch:null);Ab.markedSpans=Ab.markedSpans?Ab.markedSpans.concat([Xb]):[Xb];Xb.marker.attachLine(Ab);++qa});V.collapsed&&a.iter(f.line,t.line+1,function(Ab){de(a,Ab)&&D(Ab,0)});V.clearOnEnter&&Ge(V,"beforeCursorEnter",function(){return V.clear()});V.readOnly&&(Cj=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());V.collapsed&&(V.id=++mh,V.atomic=
!0);if(ra){ib&&(ra.curOp.updateMaxLine=!0);if(V.collapsed)S(ra,f.line,t.line+1);else if(V.className||V.startStyle||V.endStyle||V.css||V.attributes||V.title)for(q=f.line;q<=t.line;q++)ua(ra,q,"text");V.atomic&&Cb(ra.doc);tc(ra,"markerAdded",ra,V)}return V}function Xe(a,f,t,q,y){q=qb(q);q.shared=!1;var V=[ke(a,f,t,q,y)],qa=V[0],ra=q.widgetNode;Yb(a,function(ib){ra&&(q.widgetNode=ra.cloneNode(!0));V.push(ke(ib,xb(ib,f),xb(ib,t),q,y));for(var Ab=0;Ab<ib.linked.length;++Ab)if(ib.linked[Ab].isParent)return;
qa=Ya(V)});return new Dh(V,qa)}function hf(a){return a.findMarks(la(a.first,0),a.clipPos(la(a.lastLine())),function(f){return f.parent})}function kg(a){for(var f=function(q){q=a[q];var y=[q.primary.doc];Yb(q.primary.doc,function(ra){return y.push(ra)});for(var V=0;V<q.markers.length;V++){var qa=q.markers[V];-1==Wa(y,qa.doc)&&(qa.parent=null,q.markers.splice(V--,1))}},t=0;t<a.length;t++)f(t)}function Yf(a){var f=this;Lf(f);if(!Q(f,a)&&!qd(f.display,a)){O(a);nf&&(Bi=+new Date);var t=Pe(f,a,!0),q=a.dataTransfer.files;
if(t&&!f.isReadOnly())if(q&&q.length&&window.FileReader&&window.File)for(var y=q.length,V=Array(y),qa=0,ra=function(){++qa==y&&Qc(f,function(){t=xb(f.doc,t);var Xb={from:t,to:t,text:f.doc.splitLines(V.filter(function(Hc){return null!=Hc}).join(f.doc.lineSeparator())),origin:"paste"};Ob(f.doc,Xb);We(f.doc,Y(xb(f.doc,t),xb(f.doc,ia(Xb))))})()},ib=function(Xb,Hc){if(f.options.allowDropFileTypes&&-1==Wa(f.options.allowDropFileTypes,Xb.type))ra();else{var qc=new FileReader;qc.onerror=function(){return ra()};
qc.onload=function(){var oc=qc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(oc)||(V[Hc]=oc);ra()};qc.readAsText(Xb)}},Ab=0;Ab<q.length;Ab++)ib(q[Ab],Ab);else if(f.state.draggingText&&-1<f.doc.sel.contains(t))f.state.draggingText(a),setTimeout(function(){return f.display.input.focus()},20);else try{if(ib=a.dataTransfer.getData("Text")){f.state.draggingText&&!f.state.draggingText.copy&&(Ab=f.listSelections());Pa(f.doc,Y(t,t));if(Ab)for(q=0;q<Ab.length;++q)ie(f.doc,"",Ab[q].anchor,Ab[q].head,"drag");f.replaceSelection(ib,
"around","paste");f.display.input.focus()}}catch(Xb){}}}function Lf(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Gh(a){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),t=[],q=0;q<f.length;q++){var y=f[q].CodeMirror;y&&t.push(y)}t.length&&t[0].operation(function(){for(var V=0;V<t.length;V++)a(t[V])})}}function Rd(){var a;Ge(window,"resize",function(){null==a&&(a=setTimeout(function(){a=
null;Gh(Ef)},100))});Ge(window,"blur",function(){return Gh(le)})}function Ef(a){var f=a.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null;f.scrollbarsClipped=!1;a.setSize()}function Hh(a){var f=a.split(/-(?!$)/);a=f[f.length-1];for(var t,q,y,V,qa=0;qa<f.length-1;qa++){var ra=f[qa];if(/^(cmd|meta|m)$/i.test(ra))V=!0;else if(/^a(lt)?$/i.test(ra))t=!0;else if(/^(c|ctrl|control)$/i.test(ra))q=!0;else if(/^s(hift)?$/i.test(ra))y=!0;else throw Error("Unrecognized modifier name: "+ra);}t&&
(a="Alt-"+a);q&&(a="Ctrl-"+a);V&&(a="Cmd-"+a);y&&(a="Shift-"+a);return a}function Zg(a){var f={},t;for(t in a)if(a.hasOwnProperty(t)){var q=a[t];if(!/^(name|fallthrough|(de|at)tach)$/.test(t)){if("..."!=q)for(var y=mb(t.split(" "),Hh),V=0;V<y.length;V++){if(V==y.length-1){var qa=y.join(" ");var ra=q}else qa=y.slice(0,V+1).join(" "),ra="...";var ib=f[qa];if(!ib)f[qa]=ra;else if(ib!=ra)throw Error("Inconsistent bindings for "+qa);}delete a[t]}}for(var Ab in f)a[Ab]=f[Ab];return a}function rh(a,f,t,
q){f=bj(f);var y=f.call?f.call(a,q):f[a];if(!1===y)return"nothing";if("..."===y)return"multi";if(null!=y&&t(y))return"handled";if(f.fallthrough){if("[object Array]"!=Object.prototype.toString.call(f.fallthrough))return rh(a,f.fallthrough,t,q);for(y=0;y<f.fallthrough.length;y++){var V=rh(a,f.fallthrough[y],t,q);if(V)return V}}}function Hi(a){a="string"==typeof a?a:Lh[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function Ii(a,f,t){var q=a;f.altKey&&"Alt"!=q&&(a="Alt-"+a);(Qi?f.metaKey:
f.ctrlKey)&&"Ctrl"!=q&&(a="Ctrl-"+a);(Qi?f.ctrlKey:f.metaKey)&&"Mod"!=q&&(a="Cmd-"+a);!t&&f.shiftKey&&"Shift"!=q&&(a="Shift-"+a);return a}function Xh(a,f){if(Kg&&34==a.keyCode&&a["char"])return!1;var t=Lh[a.keyCode];if(null==t||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(t=a.code);return Ii(t,a,f)}function bj(a){return"string"==typeof a?dj[a]:a}function Yi(a,f){for(var t=a.doc.sel.ranges,q=[],y=0;y<t.length;y++){for(var V=f(t[y]);q.length&&0>=Ta(V.from,Ya(q).to);){var qa=q.pop();if(0>Ta(qa.from,
V.from)){V.from=qa.from;break}}q.push(V)}ic(a,function(){for(var ra=q.length-1;0<=ra;ra--)ie(a.doc,"",q[ra].from,q[ra].to,"+delete");Ue(a)})}function mi(a,f,t){f=Aa(a.text,f+t,t);return 0>f||f>a.text.length?null:f}function tj(a,f,t){a=mi(a,f.ch,t);return null==a?null:new la(f.line,a,0>t?"after":"before")}function Mg(a,f,t,q,y){if(a&&("rtl"==f.doc.direction&&(y=-y),a=cb(t,f.doc.direction))){a=0>y?Ya(a):a[0];var V=0>y==(1==a.level)?"after":"before";if(0<a.level||"rtl"==f.doc.direction){var qa=Re(f,
t);var ra=0>y?t.text.length-1:0;var ib=Fd(f,qa,ra).top;ra=Qa(function(Ab){return Fd(f,qa,Ab).top==ib},0>y==(1==a.level)?a.from:a.to-1,ra);"before"==V&&(ra=mi(t,ra,1))}else ra=0>y?a.to:a.from;return new la(q,ra,V)}return new la(q,0>y?t.text.length:0,0>y?"before":"after")}function Lj(a,f,t,q){var y=cb(f,a.doc.direction);if(!y)return tj(f,t,q);t.ch>=f.text.length?(t.ch=f.text.length,t.sticky="before"):0>=t.ch&&(t.ch=0,t.sticky="after");var V=hb(y,t.ch,t.sticky),qa=y[V];if("ltr"==a.doc.direction&&0==
qa.level%2&&(0<q?qa.to>t.ch:qa.from<t.ch))return tj(f,t,q);var ra=function(oc,ed){return mi(f,oc instanceof la?oc.ch:oc,ed)},ib,Ab=function(oc){if(!a.options.lineWrapping)return{begin:0,end:f.text.length};ib=ib||Re(a,f);return Ee(a,f,ib,oc)},Xb=Ab("before"==t.sticky?ra(t,-1):t.ch);if("rtl"==a.doc.direction||1==qa.level){var Hc=1==qa.level==0>q,qc=ra(t,Hc?1:-1);if(null!=qc&&(Hc?qc<=qa.to&&qc<=Xb.end:qc>=qa.from&&qc>=Xb.begin))return new la(t.line,qc,Hc?"before":"after")}qa=function(oc,ed,Od){for(var He=
function(Af,Tf){return Tf?new la(t.line,ra(Af,1),"before"):new la(t.line,Af,"after")};0<=oc&&oc<y.length;oc+=ed){var xf=y[oc],ve=0<ed==(1!=xf.level),Nf=ve?Od.begin:ra(Od.end,-1);if(xf.from<=Nf&&Nf<xf.to)return He(Nf,ve);Nf=ve?xf.from:ra(xf.to,-1);if(Od.begin<=Nf&&Nf<Od.end)return He(Nf,ve)}};if(V=qa(V+q,q,Xb))return V;Xb=0<q?Xb.end:ra(Xb.begin,-1);return null==Xb||0<q&&Xb==f.text.length||!(V=qa(0<q?0:y.length-1,q,Ab(Xb)))?null:V}function jk(a,f){var t=p(a.doc,f),q=$b(t);q!=t&&(f=G(q));return Mg(!0,
a,q,f,1)}function Wh(a,f){var t=jk(a,f.line),q=p(a.doc,t.line);a=cb(q,a.doc.direction);return a&&0!=a[0].level?t:(q=Math.max(t.ch,q.text.search(/\S/)),la(t.line,f.line==t.line&&f.ch<=q&&f.ch?0:q,t.sticky))}function Ei(a,f,t){if("string"==typeof f&&(f=Di[f],!f))return!1;a.display.input.ensurePolled();var q=a.display.shift,y=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),t&&(a.display.shift=!1),y=f(a)!=Kh}finally{a.display.shift=q,a.state.suppressEdits=!1}return y}function eh(a,f,t,q){var y=a.state.keySeq;
if(y){if(Hi(f))return"handled";/'$/.test(f)?a.state.keySeq=null:Wj.set(50,function(){a.state.keySeq==y&&(a.state.keySeq=null,a.display.input.reset())});if(Ij(a,y+" "+f,t,q))return!0}return Ij(a,f,t,q)}function Ij(a,f,t,q){a:{for(var y=0;y<a.state.keyMaps.length;y++){var V=rh(f,a.state.keyMaps[y],q,a);if(V){q=V;break a}}q=a.options.extraKeys&&rh(f,a.options.extraKeys,q,a)||rh(f,a.options.keyMap,q,a)}"multi"==q&&(a.state.keySeq=f);"handled"==q&&tc(a,"keyHandled",a,f,t);if("handled"==q||"multi"==q)O(t),
fd(a);return!!q}function qg(a,f){var t=Xh(f,!0);return t?f.shiftKey&&!a.state.keySeq?eh(a,"Shift-"+t,f,function(q){return Ei(a,q,!0)})||eh(a,t,f,function(q){if("string"==typeof q?/^go[A-Z]/.test(q):q.motion)return Ei(a,q)}):eh(a,t,f,function(q){return Ei(a,q)}):!1}function Fk(a,f,t){return eh(a,"'"+t+"'",f,function(q){return Ei(a,q,!0)})}function ek(a){if(!a.target||a.target==this.display.input.getField())if(this.curOp.focus=ub(),!Q(this,a)){nf&&11>sf&&27==a.keyCode&&(a.returnValue=!1);var f=a.keyCode;
this.display.shift=16==f||a.shiftKey;var t=qg(this,a);Kg&&(sh=t?f:null,!t&&88==f&&!Qh&&(Wg?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));jg&&!Wg&&!t&&46==f&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=f||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||ph(this)}}function ph(a){function f(q){18!=q.keyCode&&q.altKey||(Xg(t,"CodeMirror-crosshair"),ob(document,"keyup",f),ob(document,"mouseover",f))}var t=a.display.lineDiv;Qb(t,"CodeMirror-crosshair");
Ge(document,"keyup",f);Ge(document,"mouseover",f)}function wg(a){16==a.keyCode&&(this.doc.sel.shift=!1);Q(this,a)}function aj(a){if(!(a.target&&a.target!=this.display.input.getField()||qd(this.display,a)||Q(this,a)||a.ctrlKey&&!a.altKey||Wg&&a.metaKey)){var f=a.keyCode,t=a.charCode;if(Kg&&f==sh)sh=null,O(a);else if(!Kg||a.which&&!(10>a.which)||!qg(this,a))if(f=String.fromCharCode(null==t?f:t),"\b"!=f&&!Fk(this,a,f))this.display.input.onKeyPress(a)}}function uj(a,f){var t=+new Date;if(xj&&xj.compare(t,
a,f))return nh=xj=null,"triple";if(nh&&nh.compare(t,a,f))return xj=new oj(t,a,f),nh=null,"double";nh=new oj(t,a,f);xj=null;return"single"}function Ji(a){var f=this.display;if(!(Q(this,a)||f.activeTouch&&f.input.supportsTouch()))if(f.input.ensurePolled(),f.shift=a.shiftKey,qd(f,a))yf||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100));else if(!vj(this,a,"gutterClick",!0)){var t=Pe(this,a),q=Ua(a),y=t?uj(t,q):"single";window.focus();1==q&&this.state.selectingText&&
this.state.selectingText(a);if(!t||!kk(this,q,t,y,a))if(1==q)t?cj(this,t,y,a):(a.target||a.srcElement)==f.scroller&&O(a);else if(2==q)t&&Md(this.doc,t),setTimeout(function(){return f.input.focus()},20);else if(3==q)if(ti)this.display.input.onContextMenu(a);else xd(this)}}function kk(a,f,t,q,y){var V="Click";"double"==q?V="Double"+V:"triple"==q&&(V="Triple"+V);return eh(a,Ii((1==f?"Left":2==f?"Middle":"Right")+V,y),y,function(qa){"string"==typeof qa&&(qa=Di[qa]);if(!qa)return!1;var ra=!1;try{a.isReadOnly()&&
(a.state.suppressEdits=!0),ra=qa(a,t)!=Kh}finally{a.state.suppressEdits=!1}return ra})}function cj(a,f,t,q){nf?setTimeout(bb(se,a),0):a.curOp.focus=ub();var y=a.getOption("configureMouse");y=y?y(a,t,q):{};null==y.unit&&(y.unit=(Tj?q.shiftKey&&q.metaKey:q.altKey)?"rectangle":"single"==t?"char":"double"==t?"word":"line");if(null==y.extend||a.doc.extend)y.extend=a.doc.extend||q.shiftKey;null==y.addNew&&(y.addNew=Wg?q.metaKey:q.ctrlKey);null==y.moveOnDrag&&(y.moveOnDrag=!(Wg?q.altKey:q.ctrlKey));var V=
a.doc.sel,qa;a.options.dragDrop&&wi&&!a.isReadOnly()&&"single"==t&&-1<(qa=V.contains(f))&&(0>Ta((qa=V.ranges[qa]).from(),f)||0<f.xRel)&&(0<Ta(qa.to(),f)||0>f.xRel)?Ih(a,q,f,y):Gk(a,q,f,y)}function Ih(a,f,t,q){var y=a.display,V=!1,qa=Qc(a,function(Ab){yf&&(y.scroller.draggable=!1);a.state.draggingText=!1;a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:xd(a));ob(y.wrapper.ownerDocument,"mouseup",qa);ob(y.wrapper.ownerDocument,"mousemove",ra);ob(y.scroller,"dragstart",ib);ob(y.scroller,
"drop",qa);V||(O(Ab),q.addNew||Md(a.doc,t,null,null,q.extend),yf&&!sg||nf&&9==sf?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0});y.input.focus()},20):y.input.focus())}),ra=function(Ab){V=V||10<=Math.abs(f.clientX-Ab.clientX)+Math.abs(f.clientY-Ab.clientY)},ib=function(){return V=!0};yf&&(y.scroller.draggable=!0);a.state.draggingText=qa;qa.copy=!q.moveOnDrag;Ge(y.wrapper.ownerDocument,"mouseup",qa);Ge(y.wrapper.ownerDocument,"mousemove",ra);Ge(y.scroller,"dragstart",ib);
Ge(y.scroller,"drop",qa);a.state.delayingBlurEvent=!0;setTimeout(function(){return y.input.focus()},20);y.scroller.dragDrop&&y.scroller.dragDrop()}function Jh(a,f,t){if("char"==t)return new zf(f,f);if("word"==t)return a.findWordAt(f);if("line"==t)return new zf(la(f.line,0),xb(a.doc,la(f.line+1,0)));a=t(a,f);return new zf(a.from,a.to)}function Gk(a,f,t,q){function y(ve){if(0!=Ta(oc,ve))if(oc=ve,"rectangle"==q.unit){var Nf=[],Af=a.options.tabSize,Tf=sb(p(ib,t.line).text,t.ch,Af),Wf=sb(p(ib,ve.line).text,
ve.ch,Af),jf=Math.min(Tf,Wf);Tf=Math.max(Tf,Wf);Wf=Math.min(t.line,ve.line);for(var Uf=Math.min(a.lastLine(),Math.max(t.line,ve.line));Wf<=Uf;Wf++){var Ff=p(ib,Wf).text,Of=Ha(Ff,jf,Af);jf==Tf?Nf.push(new zf(la(Wf,Of),la(Wf,Of))):Ff.length>Of&&Nf.push(new zf(la(Wf,Of),la(Wf,Ha(Ff,Tf,Af))))}Nf.length||Nf.push(new zf(t,t));oa(ib,N(a,Ab.ranges.slice(0,Hc).concat(Nf),Hc),{origin:"*mouse",scroll:!1});a.scrollIntoView(ve)}else Nf=qc,jf=Jh(a,ve,q.unit),ve=Nf.anchor,0<Ta(jf.anchor,ve)?(Af=jf.head,ve=eb(Nf.from(),
jf.anchor)):(Af=jf.anchor,ve=sa(Nf.to(),jf.head)),Nf=Ab.ranges.slice(0),Nf[Hc]=Pg(a,new zf(xb(ib,ve),Af)),oa(ib,N(a,Nf,Hc),Gf)}function V(ve){var Nf=++Od,Af=Pe(a,ve,!0,"rectangle"==q.unit);if(Af)if(0!=Ta(Af,oc)){a.curOp.focus=ub();y(Af);var Tf=uf(ra,ib);(Af.line>=Tf.to||Af.line<Tf.from)&&setTimeout(Qc(a,function(){Od==Nf&&V(ve)}),150)}else{var Wf=ve.clientY<ed.top?-20:ve.clientY>ed.bottom?20:0;Wf&&setTimeout(Qc(a,function(){Od==Nf&&(ra.scroller.scrollTop+=Wf,V(ve))}),50)}}function qa(ve){a.state.selectingText=
!1;Od=Infinity;ve&&(O(ve),ra.input.focus());ob(ra.wrapper.ownerDocument,"mousemove",He);ob(ra.wrapper.ownerDocument,"mouseup",xf);ib.history.lastSelOrigin=null}nf&&xd(a);var ra=a.display,ib=a.doc;O(f);var Ab=ib.sel,Xb=Ab.ranges;if(q.addNew&&!q.extend){var Hc=ib.sel.contains(t);var qc=-1<Hc?Xb[Hc]:new zf(t,t)}else qc=ib.sel.primary(),Hc=ib.sel.primIndex;"rectangle"==q.unit?(q.addNew||(qc=new zf(t,t)),t=Pe(a,f,!0,!0),Hc=-1):(f=Jh(a,t,q.unit),qc=q.extend?yd(qc,f.anchor,f.head,q.extend):f);q.addNew?-1==
Hc?(Hc=Xb.length,oa(ib,N(a,Xb.concat([qc]),Hc),{scroll:!1,origin:"*mouse"})):1<Xb.length&&Xb[Hc].empty()&&"char"==q.unit&&!q.extend?(oa(ib,N(a,Xb.slice(0,Hc).concat(Xb.slice(Hc+1)),0),{scroll:!1,origin:"*mouse"}),Ab=ib.sel):Sd(ib,Hc,qc,Gf):(Hc=0,oa(ib,new Ng([qc],0),Gf),Ab=ib.sel);var oc=t,ed=ra.wrapper.getBoundingClientRect(),Od=0,He=Qc(a,function(ve){0!==ve.buttons&&Ua(ve)?V(ve):qa(ve)}),xf=Qc(a,qa);a.state.selectingText=xf;Ge(ra.wrapper.ownerDocument,"mousemove",He);Ge(ra.wrapper.ownerDocument,
"mouseup",xf)}function Pg(a,f){var t=f.anchor,q=f.head,y=p(a.doc,t.line);if(0==Ta(t,q)&&t.sticky==q.sticky)return f;y=cb(y);if(!y)return f;var V=hb(y,t.ch,t.sticky),qa=y[V];if(qa.from!=t.ch&&qa.to!=t.ch)return f;var ra=V+(qa.from==t.ch==(1!=qa.level)?0:1);if(0==ra||ra==y.length)return f;q.line!=t.line?a=0<(q.line-t.line)*("ltr"==a.doc.direction?1:-1):(a=hb(y,q.ch,q.sticky),V=a-V||(q.ch-t.ch)*(1==qa.level?-1:1),a=a==ra-1||a==ra?0>V:0<V);y=y[ra+(a?-1:0)];y=(ra=a==(1==y.level))?y.from:y.to;ra=ra?"after":
"before";return t.ch==y&&t.sticky==ra?f:new zf(new la(t.line,y,ra),q)}function vj(a,f,t,q){if(f.touches){var y=f.touches[0].clientX;var V=f.touches[0].clientY}else try{y=f.clientX,V=f.clientY}catch(ib){return!1}if(y>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;q&&O(f);q=a.display;var qa=q.lineDiv.getBoundingClientRect();if(V>qa.bottom||!T(a,t))return ea(f);V-=qa.top-q.viewOffset;for(qa=0;qa<a.display.gutterSpecs.length;++qa){var ra=q.gutters.childNodes[qa];if(ra&&ra.getBoundingClientRect().right>=
y)return y=B(a.doc,V),$a(a,t,a,y,a.display.gutterSpecs[qa].className,f),ea(f)}}function lk(a,f){var t;(t=qd(a.display,f))||(t=T(a,"gutterContextMenu")?vj(a,f,"gutterContextMenu",!1):!1);if(!t&&!Q(a,f,"contextmenu")&&!ti)a.display.input.onContextMenu(f)}function lj(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Bf(a)}function Ag(a,f,t){!f!=!(t&&t!=Ui)&&(t=a.display.dragFunctions,f=f?Ge:ob,f(a.display.scroller,"dragstart",
t.start),f(a.display.scroller,"dragenter",t.enter),f(a.display.scroller,"dragover",t.over),f(a.display.scroller,"dragleave",t.leave),f(a.display.scroller,"drop",t.drop))}function Bg(a){a.options.lineWrapping?(Qb(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(Xg(a.display.wrapper,"CodeMirror-wrap"),gb(a));tf(a);S(a);Bf(a);setTimeout(function(){return da(a)},100)}function Pf(a,f){var t=this;if(!(this instanceof Pf))return new Pf(a,f);this.options=
f=f?qb(f):{};qb(Xj,f,!1);var q=f.value;"string"==typeof q?q=new ug(q,f.mode,null,f.lineSeparator,f.direction):f.mode&&(q.modeOption=f.mode);this.doc=q;var y=new Pf.inputStyles[f.inputStyle](this);a=this.display=new Kf(a,q,y,f);a.wrapper.CodeMirror=this;lj(this);f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Pb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,
highlight:new lf,keySeq:null,specialChars:null};f.autofocus&&!Oh&&a.input.focus();nf&&11>sf&&setTimeout(function(){return t.display.input.reset(!0)},20);Mi(this);ok||(Rd(),ok=!0);Mb(this);this.curOp.forceUpdate=!0;pc(this,q);f.autofocus&&!Oh||this.hasFocus()?setTimeout(function(){t.hasFocus()&&!t.state.focused&&zd(t)},20):le(this);for(var V in Th)if(Th.hasOwnProperty(V))Th[V](this,f[V],Ui);Sf(this);f.finishInit&&f.finishInit(this);for(q=0;q<Uh.length;++q)Uh[q](this);ac(this);yf&&f.lineWrapping&&"optimizelegibility"==
getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function Mi(a){function f(){q.activeTouch&&(y=setTimeout(function(){return q.activeTouch=null},1E3),V=q.activeTouch,V.end=+new Date)}function t(ra,ib){if(null==ib.left)return!0;var Ab=ib.left-ra.left;ra=ib.top-ra.top;return 400<Ab*Ab+ra*ra}var q=a.display;Ge(q.scroller,"mousedown",Qc(a,Ji));nf&&11>sf?Ge(q.scroller,"dblclick",Qc(a,function(ra){if(!Q(a,ra)){var ib=Pe(a,ra);!ib||vj(a,ra,"gutterClick",!0)||qd(a.display,
ra)||(O(ra),ra=a.findWordAt(ib),Md(a.doc,ra.anchor,ra.head))}})):Ge(q.scroller,"dblclick",function(ra){return Q(a,ra)||O(ra)});Ge(q.scroller,"contextmenu",function(ra){return lk(a,ra)});Ge(q.input.getField(),"contextmenu",function(ra){q.scroller.contains(ra.target)||lk(a,ra)});var y,V={end:0};Ge(q.scroller,"touchstart",function(ra){var ib;if(ib=!Q(a,ra))1!=ra.touches.length?ib=!1:(ib=ra.touches[0],ib=1>=ib.radiusX&&1>=ib.radiusY),ib=!ib;ib&&!vj(a,ra,"gutterClick",!0)&&(q.input.ensurePolled(),clearTimeout(y),
ib=+new Date,q.activeTouch={start:ib,moved:!1,prev:300>=ib-V.end?V:null},1==ra.touches.length&&(q.activeTouch.left=ra.touches[0].pageX,q.activeTouch.top=ra.touches[0].pageY))});Ge(q.scroller,"touchmove",function(){q.activeTouch&&(q.activeTouch.moved=!0)});Ge(q.scroller,"touchend",function(ra){var ib=q.activeTouch;if(ib&&!qd(q,ra)&&null!=ib.left&&!ib.moved&&300>new Date-ib.start){var Ab=a.coordsChar(q.activeTouch,"page");ib=!ib.prev||t(ib,ib.prev)?new zf(Ab,Ab):!ib.prev.prev||t(ib,ib.prev.prev)?a.findWordAt(Ab):
new zf(la(Ab.line,0),xb(a.doc,la(Ab.line+1,0)));a.setSelection(ib.anchor,ib.head);a.focus();O(ra)}f()});Ge(q.scroller,"touchcancel",f);Ge(q.scroller,"scroll",function(){q.scroller.clientHeight&&(vf(a,q.scroller.scrollTop),df(a,q.scroller.scrollLeft,!0),$a(a,"scroll",a))});Ge(q.scroller,"mousewheel",function(ra){return M(a,ra)});Ge(q.scroller,"DOMMouseScroll",function(ra){return M(a,ra)});Ge(q.wrapper,"scroll",function(){return q.wrapper.scrollTop=q.wrapper.scrollLeft=0});q.dragFunctions={enter:function(ra){Q(a,
ra)||pa(ra)},over:function(ra){if(!Q(a,ra)){var ib=Pe(a,ra);if(ib){var Ab=document.createDocumentFragment();uc(a,ib,Ab);a.display.dragCursor||(a.display.dragCursor=Sa("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));ca(a.display.dragCursor,Ab)}pa(ra)}},start:function(ra){if(nf&&(!a.state.draggingText||100>+new Date-Bi))pa(ra);else if(!Q(a,ra)&&!qd(a.display,ra)&&(ra.dataTransfer.setData("Text",a.getSelection()),ra.dataTransfer.effectAllowed=
"copyMove",ra.dataTransfer.setDragImage&&!sg)){var ib=Sa("img",null,null,"position: fixed; left: 0; top: 0;");ib.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Kg&&(ib.width=ib.height=1,a.display.wrapper.appendChild(ib),ib._top=ib.offsetTop);ra.dataTransfer.setDragImage(ib,0,0);Kg&&ib.parentNode.removeChild(ib)}},drop:Qc(a,Yf),leave:function(ra){Q(a,ra)||Lf(a)}};var qa=q.input.getField();Ge(qa,"keyup",function(ra){return wg.call(a,ra)});Ge(qa,"keydown",Qc(a,
ek));Ge(qa,"keypress",Qc(a,aj));Ge(qa,"focus",function(ra){return zd(a,ra)});Ge(qa,"blur",function(ra){return le(a,ra)})}function vh(a,f,t,q){var y=a.doc,V;null==t&&(t="add");"smart"==t&&(y.mode.indent?V=gd(a,f).state:t="prev");var qa=a.options.tabSize,ra=p(y,f),ib=sb(ra.text,null,qa);ra.stateAfter&&(ra.stateAfter=null);var Ab=ra.text.match(/^\s*/)[0];if(!q&&!/\S/.test(ra.text)){var Xb=0;t="not"}else if("smart"==t&&(Xb=y.mode.indent(V,ra.text.slice(Ab.length),ra.text),Xb==Kh||150<Xb)){if(!q)return;
t="prev"}"prev"==t?Xb=f>y.first?sb(p(y,f-1).text,null,qa):0:"add"==t?Xb=ib+a.options.indentUnit:"subtract"==t?Xb=ib-a.options.indentUnit:"number"==typeof t&&(Xb=ib+t);Xb=Math.max(0,Xb);t="";q=0;if(a.options.indentWithTabs)for(a=Math.floor(Xb/qa);a;--a)q+=qa,t+="\t";q<Xb&&(t+=Ia(Xb-q));if(t!=Ab)return ie(y,t,la(f,0),la(f,Ab.length),"+input"),ra.stateAfter=null,!0;for(qa=0;qa<y.sel.ranges.length;qa++)if(ra=y.sel.ranges[qa],ra.head.line==f&&ra.head.ch<Ab.length){f=la(f,Ab.length);Sd(y,qa,new zf(f,f));
break}}function gj(a,f,t,q,y){var V=a.doc;a.display.shift=!1;q||(q=V.sel);var qa=+new Date-200,ra="paste"==y||a.state.pasteIncoming>qa,ib=bh(f),Ab=null;if(ra&&1<q.ranges.length)if(Eg&&Eg.text.join("\n")==f){if(0==q.ranges.length%Eg.text.length){Ab=[];for(var Xb=0;Xb<Eg.text.length;Xb++)Ab.push(V.splitLines(Eg.text[Xb]))}}else ib.length==q.ranges.length&&a.options.pasteLinesPerSelection&&(Ab=mb(ib,function(Od){return[Od]}));Xb=a.curOp.updateInput;for(var Hc=q.ranges.length-1;0<=Hc;Hc--){var qc=q.ranges[Hc],
oc=qc.from(),ed=qc.to();qc.empty()&&(t&&0<t?oc=la(oc.line,oc.ch-t):a.state.overwrite&&!ra?ed=la(ed.line,Math.min(p(V,ed.line).text.length,ed.ch+Ya(ib).length)):ra&&Eg&&Eg.lineWise&&Eg.text.join("\n")==ib.join("\n")&&(oc=ed=la(oc.line,0)));qc={from:oc,to:ed,text:Ab?Ab[Hc%Ab.length]:ib,origin:y||(ra?"paste":a.state.cutIncoming>qa?"cut":"+input")};Ob(a.doc,qc);tc(a,"inputRead",a,qc)}f&&!ra&&jj(a,f);Ue(a);2>a.curOp.updateInput&&(a.curOp.updateInput=Xb);a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=
-1}function Sj(a,f){var t=a.clipboardData&&a.clipboardData.getData("Text");if(t)return a.preventDefault(),f.isReadOnly()||f.options.disableInput||ic(f,function(){return gj(f,t,0,null,"paste")}),!0}function jj(a,f){if(a.options.electricChars&&a.options.smartIndent)for(var t=a.doc.sel,q=t.ranges.length-1;0<=q;q--){var y=t.ranges[q];if(!(100<y.head.ch||q&&t.ranges[q-1].head.line==y.head.line)){var V=a.getModeAt(y.head),qa=!1;if(V.electricChars)for(var ra=0;ra<V.electricChars.length;ra++){if(-1<f.indexOf(V.electricChars.charAt(ra))){qa=
vh(a,y.head.line,"smart");break}}else V.electricInput&&V.electricInput.test(p(a.doc,y.head.line).text.slice(0,y.head.ch))&&(qa=vh(a,y.head.line,"smart"));qa&&tc(a,"electricInput",a,y.head.line)}}}function Ni(a){for(var f=[],t=[],q=0;q<a.doc.sel.ranges.length;q++){var y=a.doc.sel.ranges[q].head.line;y={anchor:la(y,0),head:la(y+1,0)};t.push(y);f.push(a.getRange(y.anchor,y.head))}return{text:f,ranges:t}}function ci(a,f,t,q){a.setAttribute("autocorrect",t?"":"off");a.setAttribute("autocapitalize",q?"":
"off");a.setAttribute("spellcheck",!!f)}function hj(){var a=Sa("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),f=Sa("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");yf?a.style.width="1000px":a.setAttribute("wrap","off");ah&&(a.style.border="1px solid black");ci(a);return f}function di(a,f,t,q,y){function V(Od){if("codepoint"==q){var He=ib.text.charCodeAt(f.ch+(0<q?0:-1));He=isNaN(He)?null:new la(f.line,Math.max(0,
Math.min(ib.text.length,f.ch+t*((0<t?55296<=He&&56320>He:56320<=He&&57343>He)?2:1))),-t)}else He=y?Lj(a.cm,ib,f,t):tj(ib,f,t);if(null==He){if(Od=!Od)Od=f.line+Ab,Od<a.first||Od>=a.first+a.size?Od=!1:(f=new la(Od,f.ch,f.sticky),Od=ib=p(a,Od));if(Od)f=Mg(y,a.cm,ib,f.line,Ab);else return!1}else f=He;return!0}var qa=f,ra=t,ib=p(a,f.line),Ab=y&&"rtl"==a.direction?-t:t;if("char"==q||"codepoint"==q)V();else if("column"==q)V(!0);else if("word"==q||"group"==q)for(var Xb=null,Hc="group"==q,qc=a.cm&&a.cm.getHelper(f,
"wordChars"),oc=!0;!(0>t)||V(!oc);oc=!1){var ed=ib.text.charAt(f.ch)||"\n";ed=ab(ed,qc)?"w":Hc&&"\n"==ed?"n":!Hc||/\s/.test(ed)?null:"p";!Hc||oc||ed||(ed="s");if(Xb&&Xb!=ed){0>t&&(t=1,V(),f.sticky="after");break}ed&&(Xb=ed);if(0<t&&!V(!oc))break}ra=m(a,f,qa,ra,!0);Ja(qa,ra)&&(ra.hitSide=!0);return ra}function ij(a,f,t,q){var y=a.doc,V=f.left;if("page"==q){var qa=Math.max(Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Je(a.display),3);qa=(0<t?
f.bottom:f.top)+t*qa}else"line"==q&&(qa=0<t?f.bottom+3:f.top-3);for(;;){f=Jd(a,V,qa);if(!f.outside)break;if(0>t?0>=qa:qa>=y.height){f.hitSide=!0;break}qa+=5*t}return f}function Bj(a,f){var t=Qe(a,f.line);if(!t||t.hidden)return null;var q=p(a.doc,f.line);t=Ye(t,q,f.line);a=cb(q,a.doc.direction);q="left";a&&(q=hb(a,f.ch)%2?"right":"left");f=ee(t.map,f.ch,q);f.offset="right"==f.collapse?f.end:f.start;return f}function qi(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;
return!1}function ei(a,f){f&&(a.bad=!0);return a}function xh(a,f,t,q,y){function V(oc){return function(ed){return ed.id==oc}}function qa(){Xb&&(Ab+=Hc,qc&&(Ab+=Hc),Xb=qc=!1)}function ra(oc){oc&&(qa(),Ab+=oc)}function ib(oc){if(1==oc.nodeType){var ed=oc.getAttribute("cm-text");if(ed)ra(ed);else{ed=oc.getAttribute("cm-marker");var Od;if(ed)oc=a.findMarks(la(q,0),la(y+1,0),V(+ed)),oc.length&&(Od=oc[0].find(0))&&ra(r(a.doc,Od.from,Od.to).join(Hc));else if("false"!=oc.getAttribute("contenteditable")&&
(Od=/^(pre|div|p|li|table|br)$/i.test(oc.nodeName),/^br$/i.test(oc.nodeName)||0!=oc.textContent.length)){Od&&qa();for(ed=0;ed<oc.childNodes.length;ed++)ib(oc.childNodes[ed]);/^(pre|p)$/i.test(oc.nodeName)&&(qc=!0);Od&&(Xb=!0)}}}else 3==oc.nodeType&&ra(oc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Ab="",Xb=!1,Hc=a.doc.lineSeparator(),qc=!1;;){ib(f);if(f==t)break;f=f.nextSibling;qc=!1}return Ab}function Oi(a,f,t){if(f==a.display.lineDiv){var q=a.display.lineDiv.childNodes[t];if(!q)return ei(a.clipPos(la(a.display.viewTo-
1)),!0);f=null;t=0}else for(q=f;;q=q.parentNode){if(!q||q==a.display.lineDiv)return null;if(q.parentNode&&q.parentNode==a.display.lineDiv)break}for(var y=0;y<a.display.view.length;y++){var V=a.display.view[y];if(V.node==q)return ri(V,f,t)}}function ri(a,f,t){function q(Xb,Hc,qc){for(var oc=-1;oc<(Ab?Ab.length:0);oc++)for(var ed=0>oc?ib.map:Ab[oc],Od=0;Od<ed.length;Od+=3){var He=ed[Od+2];if(He==Xb||He==Hc){Hc=G(0>oc?a.line:a.rest[oc]);oc=ed[Od]+qc;if(0>qc||He!=Xb)oc=ed[Od+(qc?1:0)];return la(Hc,oc)}}}
var y=a.text.firstChild,V=!1;if(!f||!fb(y,f))return ei(la(G(a.line),0),!0);if(f==y&&(V=!0,f=y.childNodes[t],t=0,!f))return t=a.rest?Ya(a.rest):a.line,ei(la(G(t),t.text.length),V);var qa=3==f.nodeType?f:null,ra=f;qa||1!=f.childNodes.length||3!=f.firstChild.nodeType||(qa=f.firstChild,t&&(t=qa.nodeValue.length));for(;ra.parentNode!=y;)ra=ra.parentNode;var ib=a.measure,Ab=ib.maps;if(f=q(qa,ra,t))return ei(f,V);y=ra.nextSibling;for(qa=qa?qa.nodeValue.length-t:0;y;y=y.nextSibling){if(f=q(y,y.firstChild,
0))return ei(la(f.line,f.ch-qa),V);qa+=y.textContent.length}for(ra=ra.previousSibling;ra;ra=ra.previousSibling){if(f=q(ra,ra.firstChild,-1))return ei(la(f.line,f.ch+t),V);t+=ra.textContent.length}}var pg=navigator.userAgent,Nh=navigator.platform,jg=/gecko\/\d/i.test(pg),Pi=/MSIE \d/.test(pg),$g=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pg),kj=/Edge\/(\d+)/.exec(pg),nf=Pi||$g||kj,sf=nf&&(Pi?document.documentMode||6:+(kj||$g)[1]),yf=!kj&&/WebKit\//.test(pg),Ki=yf&&/Qt\/\d+\.\d+/.test(pg),yg=!kj&&
/Chrome\//.test(pg),Kg=/Opera\//.test(pg),sg=/Apple Computer/.test(navigator.vendor),qj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(pg),fi=/PhantomJS/.test(pg),ah=sg&&(/Mobile\/\w+/.test(pg)||2<navigator.maxTouchPoints),si=/Android/.test(pg),Oh=ah||si||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(pg),Wg=ah||/Mac/.test(Nh),Tj=/\bCrOS\b/.test(pg),Vg=/win/i.test(Nh),wh=Kg&&pg.match(/Version\/(\d*\.\d*)/);wh&&(wh=Number(wh[1]));wh&&15<=wh&&(Kg=!1,yf=!0);var Qi=Wg&&(Ki||Kg&&(null==wh||12.11>wh)),ti=
jg||nf&&9<=sf,Xg=function(a,f){var t=a.className;if(f=n(f).exec(t)){var q=t.slice(f.index+f[0].length);a.className=t.slice(0,f.index)+(q?f[1]+q:"")}};var vi=document.createRange?function(a,f,t,q){var y=document.createRange();y.setEnd(q||a,t);y.setStart(a,f);return y}:function(a,f,t){var q=document.body.createTextRange();try{q.moveToElementText(a.parentNode)}catch(y){return q}q.collapse(!0);q.moveEnd("character",t);q.moveStart("character",f);return q};var ui=function(a){a.select()};ah?ui=function(a){a.selectionStart=
0;a.selectionEnd=a.value.length}:nf&&(ui=function(a){try{a.select()}catch(f){}});var lf=function(){this.f=this.id=null;this.time=0;this.handler=bb(this.onTimeout,this)};lf.prototype.onTimeout=function(a){a.id=0;a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)};lf.prototype.set=function(a,f){this.f=f;f=+new Date+a;if(!this.id||f<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=f};var Kh={toString:function(){return"CodeMirror.Pass"}},bg={scroll:!1},Gf={origin:"*mouse"},
gi={origin:"+move"},mj=[""],mk=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,wj=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Li=null,ni=function(){function a(ra){return 247>=ra?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ra):1424<=ra&&1524>=ra?"R":1536<=ra&&1785>=ra?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ra-
1536):1774<=ra&&2220>=ra?"r":8192<=ra&&8203>=ra?"w":8204==ra?"b":"L"}function f(ra,ib,Ab){this.level=ra;this.from=ib;this.to=Ab}var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,q=/[stwN]/,y=/[LRr]/,V=/[Lb1n]/,qa=/[1n]/;return function(ra,ib){var Ab="ltr"==ib?"L":"R";if(0==ra.length||"ltr"==ib&&!t.test(ra))return!1;for(var Xb=ra.length,Hc=[],qc=0;qc<Xb;++qc)Hc.push(a(ra.charCodeAt(qc)));qc=0;for(var oc=Ab;qc<Xb;++qc){var ed=Hc[qc];"m"==ed?Hc[qc]=oc:oc=ed}qc=0;for(oc=Ab;qc<Xb;++qc)ed=Hc[qc],"1"==ed&&
"r"==oc?Hc[qc]="n":y.test(ed)&&(oc=ed,"r"==ed&&(Hc[qc]="R"));qc=1;for(oc=Hc[0];qc<Xb-1;++qc)ed=Hc[qc],"+"==ed&&"1"==oc&&"1"==Hc[qc+1]?Hc[qc]="1":","!=ed||oc!=Hc[qc+1]||"1"!=oc&&"n"!=oc||(Hc[qc]=oc),oc=ed;for(qc=0;qc<Xb;++qc)if(oc=Hc[qc],","==oc)Hc[qc]="N";else if("%"==oc){for(oc=qc+1;oc<Xb&&"%"==Hc[oc];++oc);for(ed=qc&&"!"==Hc[qc-1]||oc<Xb&&"1"==Hc[oc]?"1":"N";qc<oc;++qc)Hc[qc]=ed;qc=oc-1}qc=0;for(oc=Ab;qc<Xb;++qc)ed=Hc[qc],"L"==oc&&"1"==ed?Hc[qc]="L":y.test(ed)&&(oc=ed);for(oc=0;oc<Xb;++oc)if(q.test(Hc[oc])){for(qc=
oc+1;qc<Xb&&q.test(Hc[qc]);++qc);ed="L"==(oc?Hc[oc-1]:Ab);for(ed=ed==("L"==(qc<Xb?Hc[qc]:Ab))?ed?"L":"R":Ab;oc<qc;++oc)Hc[oc]=ed;oc=qc-1}Ab=[];var Od;for(qc=0;qc<Xb;)if(V.test(Hc[qc])){oc=qc;for(++qc;qc<Xb&&V.test(Hc[qc]);++qc);Ab.push(new f(0,oc,qc))}else{var He=qc;oc=Ab.length;ed="rtl"==ib?1:0;for(++qc;qc<Xb&&"L"!=Hc[qc];++qc);for(var xf=He;xf<qc;)if(qa.test(Hc[xf])){He<xf&&(Ab.splice(oc,0,new f(1,He,xf)),oc+=ed);He=xf;for(++xf;xf<qc&&qa.test(Hc[xf]);++xf);Ab.splice(oc,0,new f(2,He,xf));oc+=ed;
He=xf}else++xf;He<qc&&Ab.splice(oc,0,new f(1,He,qc))}"ltr"==ib&&(1==Ab[0].level&&(Od=ra.match(/^\s+/))&&(Ab[0].from=Od[0].length,Ab.unshift(new f(0,0,Od[0].length))),1==Ya(Ab).level&&(Od=ra.match(/\s+$/))&&(Ya(Ab).to-=Od[0].length,Ab.push(new f(0,Xb-Od[0].length,Xb))));return"rtl"==ib?Ab.reverse():Ab}}(),yh=[],Ge=function(a,f,t){a.addEventListener?a.addEventListener(f,t,!1):a.attachEvent?a.attachEvent("on"+f,t):(a=a._handlers||(a._handlers={}),a[f]=(a[f]||yh).concat(t))},wi=function(){if(nf&&9>sf)return!1;
var a=Sa("div");return"draggable"in a||"dragDrop"in a}(),xi,Ri,bh=3!="\n\nb".split(/\n/).length?function(a){for(var f=0,t=[],q=a.length;f<=q;){var y=a.indexOf("\n",f);-1==y&&(y=a.length);var V=a.slice(f,"\r"==a.charAt(y-1)?y-1:y),qa=V.indexOf("\r");-1!=qa?(t.push(V.slice(0,qa)),f+=qa+1):(t.push(V),f=y+1)}return t}:function(a){return a.split(/\r\n?|\n/)},Ph=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(f){return!1}}:function(a){try{var f=a.ownerDocument.selection.createRange()}catch(t){}return f&&
f.parentElement()==a?0!=f.compareEndPoints("StartToEnd",f):!1},Qh=function(){var a=Sa("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),zh=null,Ah={},Bh={},ch={},Xf=function(a,f,t){this.pos=this.start=0;this.string=a;this.tabSize=f||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=t};Xf.prototype.eol=function(){return this.pos>=this.string.length};Xf.prototype.sol=function(){return this.pos==this.lineStart};Xf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};Xf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Xf.prototype.eat=function(a){var f=this.string.charAt(this.pos);if("string"==typeof a?f==a:f&&(a.test?a.test(f):a(f)))return++this.pos,f};Xf.prototype.eatWhile=function(a){for(var f=this.pos;this.eat(a););return this.pos>f};Xf.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
a};Xf.prototype.skipToEnd=function(){this.pos=this.string.length};Xf.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};Xf.prototype.backUp=function(a){this.pos-=a};Xf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=sb(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?sb(this.string,this.lineStart,this.tabSize):0)};Xf.prototype.indentation=
function(){return sb(this.string,null,this.tabSize)-(this.lineStart?sb(this.string,this.lineStart,this.tabSize):0)};Xf.prototype.match=function(a,f,t){if("string"==typeof a){var q=function(V){return t?V.toLowerCase():V},y=this.string.substr(this.pos,a.length);if(q(y)==q(a))return!1!==f&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==f&&(this.pos+=a[0].length);return a}};Xf.prototype.current=function(){return this.string.slice(this.start,this.pos)};
Xf.prototype.hideFirstChars=function(a,f){this.lineStart+=a;try{return f()}finally{this.lineStart-=a}};Xf.prototype.lookAhead=function(a){var f=this.lineOracle;return f&&f.lookAhead(a)};Xf.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var nj=function(a,f){this.state=a;this.lookAhead=f},kh=function(a,f,t,q){this.state=f;this.doc=a;this.line=t;this.maxLookAhead=q||0;this.baseTokens=null;this.baseTokenPos=1};kh.prototype.lookAhead=function(a){var f=this.doc.getLine(this.line+
a);null!=f&&a>this.maxLookAhead&&(this.maxLookAhead=a);return f};kh.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};kh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};kh.fromSaved=function(a,f,t){return f instanceof nj?new kh(a,R(a.mode,f.state),t,f.lookAhead):
new kh(a,R(a.mode,f),t)};kh.prototype.save=function(a){a=!1!==a?R(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new nj(a,this.maxLookAhead):a};var Dj=function(a,f,t){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=f||null;this.state=t},Cj=!1,ai=!1,bi=function(a,f,t){this.text=a;sd(this,f);this.height=t?t(this):1};bi.prototype.lineNo=function(){return G(this)};na(bi);var nk={},Uj={},yi=null,Rh=null,zi={left:0,right:0,top:0,bottom:0},ih,Ch=function(a,f,t){this.cm=
t;var q=this.vert=Sa("div",[Sa("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=Sa("div",[Sa("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");q.tabIndex=y.tabIndex=-1;a(q);a(y);Ge(q,"scroll",function(){q.clientHeight&&f(q.scrollTop,"vertical")});Ge(y,"scroll",function(){y.clientWidth&&f(y.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;nf&&8>sf&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ch.prototype.update=function(a){var f=
a.scrollWidth>a.clientWidth+1,t=a.scrollHeight>a.clientHeight+1,q=a.nativeBarWidth;t?(this.vert.style.display="block",this.vert.style.bottom=f?q+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(f?q:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");f?(this.horiz.style.display="block",this.horiz.style.right=t?q+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+
(a.viewWidth-a.barLeft-(t?q:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==q&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:t?q:0,bottom:f?q:0}};Ch.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Ch.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&
this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Ch.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Wg&&!qj?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new lf;this.disableVert=new lf};Ch.prototype.enableZeroWidthBar=function(a,f,t){function q(){var y=a.getBoundingClientRect();("vert"==t?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1))!=
a?a.style.pointerEvents="none":f.set(1E3,q)}a.style.pointerEvents="auto";f.set(1E3,q)};Ch.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var lh=function(){};lh.prototype.update=function(){return{bottom:0,right:0}};lh.prototype.setScrollLeft=function(){};lh.prototype.setScrollTop=function(){};lh.prototype.clear=function(){};var Si={"native":Ch,"null":lh},Vj=0,Ai=function(a,f,t){var q=a.display;this.viewport=f;this.visible=uf(q,a.doc,f);this.editorIsHidden=
!q.wrapper.offsetWidth;this.wrapperHeight=q.wrapper.clientHeight;this.wrapperWidth=q.wrapper.clientWidth;this.oldDisplayWidth=me(a);this.force=t;this.dims=Ke(a);this.events=[]};Ai.prototype.signal=function(a,f){T(a,f)&&this.events.push(arguments)};Ai.prototype.finish=function(){for(var a=0;a<this.events.length;a++)$a.apply(null,this.events[a])};var Gi=0,Og=null;nf?Og=-.53:jg?Og=15:yg?Og=-.7:sg&&(Og=-1/3);var Ng=function(a,f){this.ranges=a;this.primIndex=f};Ng.prototype.primary=function(){return this.ranges[this.primIndex]};
Ng.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var t=this.ranges[f],q=a.ranges[f];if(!Ja(t.anchor,q.anchor)||!Ja(t.head,q.head))return!1}return!0};Ng.prototype.deepCopy=function(){for(var a=[],f=0;f<this.ranges.length;f++)a[f]=new zf(Z(this.ranges[f].anchor),Z(this.ranges[f].head));return new Ng(a,this.primIndex)};Ng.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;
return!1};Ng.prototype.contains=function(a,f){f||(f=a);for(var t=0;t<this.ranges.length;t++){var q=this.ranges[t];if(0<=Ta(f,q.from())&&0>=Ta(a,q.to()))return t}return-1};var zf=function(a,f){this.anchor=a;this.head=f};zf.prototype.from=function(){return eb(this.anchor,this.head)};zf.prototype.to=function(){return sa(this.anchor,this.head)};zf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};ce.prototype={chunkSize:function(){return this.lines.length},
removeInner:function(a,f){for(var t=a,q=a+f;t<q;++t){var y=this.lines[t];this.height-=y.height;var V=y;V.parent=null;ld(V);tc(y,"delete")}this.lines.splice(a,f)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,f,t){this.height+=t;this.lines=this.lines.slice(0,a).concat(f).concat(this.lines.slice(a));for(a=0;a<f.length;++a)f[a].parent=this},iterN:function(a,f,t){for(f=a+f;a<f;++a)if(t(this.lines[a]))return!0}};bf.prototype={chunkSize:function(){return this.size},removeInner:function(a,
f){this.size-=f;for(var t=0;t<this.children.length;++t){var q=this.children[t],y=q.chunkSize();if(a<y){var V=Math.min(f,y-a),qa=q.height;q.removeInner(a,V);this.height-=qa-q.height;y==V&&(this.children.splice(t--,1),q.parent=null);if(0==(f-=V))break;a=0}else a-=y}25>this.size-f&&(1<this.children.length||!(this.children[0]instanceof ce))&&(a=[],this.collapse(a),this.children=[new ce(a)],this.children[0].parent=this)},collapse:function(a){for(var f=0;f<this.children.length;++f)this.children[f].collapse(a)},
insertInner:function(a,f,t){this.size+=f.length;this.height+=t;for(var q=0;q<this.children.length;++q){var y=this.children[q],V=y.chunkSize();if(a<=V){y.insertInner(a,f,t);if(y.lines&&50<y.lines.length){for(f=a=y.lines.length%25+25;f<y.lines.length;)t=new ce(y.lines.slice(f,f+=25)),y.height-=t.height,this.children.splice(++q,0,t),t.parent=this;y.lines=y.lines.slice(0,a);this.maybeSpill()}break}a-=V}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var f=a.children.splice(a.children.length-
5,5);f=new bf(f);if(a.parent){a.size-=f.size;a.height-=f.height;var t=Wa(a.parent.children,a);a.parent.children.splice(t+1,0,f)}else t=new bf(a.children),t.parent=a,a.children=[t,f],a=t;f.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,f,t){for(var q=0;q<this.children.length;++q){var y=this.children[q],V=y.chunkSize();if(a<V){V=Math.min(f,V-a);if(y.iterN(a,V,t))return!0;if(0==(f-=V))break;a=0}else a-=V}}};var oi=function(a,f,t){if(t)for(var q in t)t.hasOwnProperty(q)&&
(this[q]=t[q]);this.doc=a;this.node=f};oi.prototype.clear=function(){var a=this.doc.cm,f=this.line.widgets,t=this.line,q=G(t);if(null!=q&&f){for(var y=0;y<f.length;++y)f[y]==this&&f.splice(y--,1);f.length||(t.widgets=null);var V=od(this);D(t,Math.max(0,t.height-V));a&&(ic(a,function(){var qa=-V;X(t)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&pd(a,qa);ua(a,q,"widget")}),tc(a,"lineWidgetCleared",a,this,q))}};oi.prototype.changed=function(){var a=this,f=this.height,t=this.doc.cm,q=this.line;this.height=
null;var y=od(this)-f;y&&(de(this.doc,q)||D(q,q.height+y),t&&ic(t,function(){t.curOp.forceUpdate=!0;X(q)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&pd(t,y);tc(t,"lineWidgetChanged",t,a,G(q))}))};na(oi);var mh=0,Qg=function(a,f){this.lines=[];this.type=f;this.doc=a;this.id=++mh};Qg.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,f=a&&!a.curOp;f&&Mb(a);if(T(this,"clear")){var t=this.find();t&&tc(this,"clear",t.from,t.to)}for(var q=t=null,y=0;y<this.lines.length;++y){var V=
this.lines[y],qa=$c(V.markedSpans,this);a&&!this.collapsed?ua(a,G(V),"text"):a&&(null!=qa.to&&(q=G(V)),null!=qa.from&&(t=G(V)));for(var ra=V,ib=void 0,Ab=V.markedSpans,Xb=qa,Hc=0;Hc<Ab.length;++Hc)Ab[Hc]!=Xb&&(ib||(ib=[])).push(Ab[Hc]);ra.markedSpans=ib;null==qa.from&&this.collapsed&&!de(this.doc,V)&&a&&D(V,Je(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(y=0;y<this.lines.length;++y)V=$b(this.lines[y]),qa=za(V),qa>a.display.maxLineLength&&(a.display.maxLine=V,a.display.maxLineLength=
qa,a.display.maxLineChanged=!0);null!=t&&a&&this.collapsed&&S(a,t,q+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Cb(a.doc));a&&tc(a,"markerCleared",a,this,t,q);f&&ac(a);this.parent&&this.parent.clear()}};Qg.prototype.find=function(a,f){null==a&&"bookmark"==this.type&&(a=1);for(var t,q,y=0;y<this.lines.length;++y){var V=this.lines[y],qa=$c(V.markedSpans,this);if(null!=qa.from&&(t=la(f?V:G(V),qa.from),-1==a))return t;if(null!=qa.to&&(q=la(f?
V:G(V),qa.to),1==a))return q}return t&&{from:t,to:q}};Qg.prototype.changed=function(){var a=this,f=this.find(-1,!0),t=this,q=this.doc.cm;f&&q&&ic(q,function(){var y=f.line,V=G(f.line);if(V=Qe(q,V))ff(V),q.curOp.selectionChanged=q.curOp.forceUpdate=!0;q.curOp.updateMaxLine=!0;de(t.doc,y)||null==t.height||(V=t.height,t.height=null,(V=od(t)-V)&&D(y,y.height+V));tc(q,"markerChanged",q,a)})};Qg.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;f.maybeHiddenMarkers&&
-1!=Wa(f.maybeHiddenMarkers,this)||(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Qg.prototype.detachLine=function(a){this.lines.splice(Wa(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};na(Qg);var Dh=function(a,f){this.markers=a;this.primary=f;for(f=0;f<a.length;++f)a[f].parent=this};Dh.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=
0;a<this.markers.length;++a)this.markers[a].clear();tc(this,"clear")}};Dh.prototype.find=function(a,f){return this.primary.find(a,f)};na(Dh);var Sh=0,ug=function(a,f,t,q,y){if(!(this instanceof ug))return new ug(a,f,t,q,y);null==t&&(t=0);bf.call(this,[new ce([new bi("",null)])]);this.first=t;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=t;t=la(t,0);this.sel=Y(t);this.history=new aa(null);this.id=++Sh;this.modeOption=f;this.lineSep=
q;this.direction="rtl"==y?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));Eb(this,{from:t,to:t,text:a});oa(this,Y(t),bg)};ug.prototype=jb(bf.prototype,{constructor:ug,iter:function(a,f,t){t?this.iterN(a-this.first,f-a,t):this.iterN(this.first,this.first+this.size,a)},insert:function(a,f){for(var t=0,q=0;q<f.length;++q)t+=f[q].height;this.insertInner(a-this.first,f,t)},remove:function(a,f){this.removeInner(a-this.first,f)},getValue:function(a){var f=C(this,this.first,this.first+
this.size);return!1===a?f:f.join(a||this.lineSeparator())},setValue:ad(function(a){var f=la(this.first,0),t=this.first+this.size-1;Ob(this,{from:f,to:la(t,p(this,t).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&Le(this.cm,0,0);oa(this,Y(f),bg)}),replaceRange:function(a,f,t,q){f=xb(this,f);t=t?xb(this,t):f;ie(this,a,f,t,q)},getRange:function(a,f,t){a=r(this,xb(this,a),xb(this,f));return!1===t?a:a.join(t||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&
a.text},getLineHandle:function(a){if(fa(this,a))return p(this,a)},getLineNumber:function(a){return G(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=p(this,a));return $b(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return xb(this,a)},getCursor:function(a){var f=this.sel.primary();return null==a||"head"==a?f.head:"anchor"==a?f.anchor:"end"==a||"to"==a||!1===a?f.to():f.from()},
listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ad(function(a,f,t){a=xb(this,"number"==typeof a?la(a,f||0):a);oa(this,Y(a,null),t)}),setSelection:ad(function(a,f,t){var q=xb(this,a);a=xb(this,f||a);oa(this,Y(q,a),t)}),extendSelection:ad(function(a,f,t){Md(this,xb(this,a),f&&xb(this,f),t)}),extendSelections:ad(function(a,f){bd(this,Kb(this,a),f)}),extendSelectionsBy:ad(function(a,f){a=mb(this.sel.ranges,a);bd(this,Kb(this,
a),f)}),setSelections:ad(function(a,f,t){if(a.length){for(var q=[],y=0;y<a.length;y++)q[y]=new zf(xb(this,a[y].anchor),xb(this,a[y].head));null==f&&(f=Math.min(a.length-1,this.sel.primIndex));oa(this,N(this.cm,q,f),t)}}),addSelection:ad(function(a,f,t){var q=this.sel.ranges.slice(0);q.push(new zf(xb(this,a),xb(this,f||a)));oa(this,N(this.cm,q,q.length-1),t)}),getSelection:function(a){for(var f=this.sel.ranges,t,q=0;q<f.length;q++){var y=r(this,f[q].from(),f[q].to());t=t?t.concat(y):y}return!1===a?
t:t.join(a||this.lineSeparator())},getSelections:function(a){for(var f=[],t=this.sel.ranges,q=0;q<t.length;q++){var y=r(this,t[q].from(),t[q].to());!1!==a&&(y=y.join(a||this.lineSeparator()));f[q]=y}return f},replaceSelection:function(a,f,t){for(var q=[],y=0;y<this.sel.ranges.length;y++)q[y]=a;this.replaceSelections(q,f,t||"+input")},replaceSelections:ad(function(a,f,t){for(var q=[],y=this.sel,V=0;V<y.ranges.length;V++){var qa=y.ranges[V];q[V]={from:qa.from(),to:qa.to(),text:this.splitLines(a[V]),
origin:t}}if(a=f&&"end"!=f){a=[];y=t=la(this.first,0);for(V=0;V<q.length;V++){var ra=q[V];qa=Za(ra.from,t,y);var ib=Za(ia(ra),t,y);t=ra.to;y=ib;"around"==f?(ra=this.sel.ranges[V],ra=0>Ta(ra.head,ra.anchor),a[V]=new zf(ra?ib:qa,ra?qa:ib)):a[V]=new zf(qa,qa)}a=new Ng(a,this.sel.primIndex)}f=a;for(a=q.length-1;0<=a;a--)Ob(this,q[a]);f?We(this,f):this.cm&&Ue(this.cm)}),undo:ad(function(){cc(this,"undo")}),redo:ad(function(){cc(this,"redo")}),undoSelection:ad(function(){cc(this,"undo",!0)}),redoSelection:ad(function(){cc(this,
"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,f=0,t=0,q=0;q<a.done.length;q++)a.done[q].ranges||++f;for(q=0;q<a.undone.length;q++)a.undone[q].ranges||++t;return{undo:f,redo:t}},clearHistory:function(){var a=this;this.history=new aa(this.history.maxGeneration);Yb(this,function(f){return f.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&
(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Rc(this.history.done),undone:Rc(this.history.undone)}},setHistory:function(a){var f=this.history=new aa(this.history.maxGeneration);f.done=Rc(a.done.slice(0),null,!0);f.undone=Rc(a.undone.slice(0),null,!0)},setGutterMarker:ad(function(a,f,t){return md(this,a,"gutter",function(q){var y=
q.gutterMarkers||(q.gutterMarkers={});y[f]=t;!t&&Ma(y)&&(q.gutterMarkers=null);return!0})}),clearGutter:ad(function(a){var f=this;this.iter(function(t){t.gutterMarkers&&t.gutterMarkers[a]&&md(f,t,"gutter",function(){t.gutterMarkers[a]=null;Ma(t.gutterMarkers)&&(t.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!fa(this,a))return null;var f=a;a=p(this,a);if(!a)return null}else if(f=G(a),null==f)return null;return{line:f,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,
textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:ad(function(a,f,t){return md(this,a,"gutter"==f?"gutter":"class",function(q){var y="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":"wrapClass";if(q[y]){if(n(t).test(q[y]))return!1;q[y]+=" "+t}else q[y]=t;return!0})}),removeLineClass:ad(function(a,f,t){return md(this,a,"gutter"==f?"gutter":"class",function(q){var y="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":
"wrapClass",V=q[y];if(V)if(null==t)q[y]=null;else{var qa=V.match(n(t));if(!qa)return!1;var ra=qa.index+qa[0].length;q[y]=V.slice(0,qa.index)+(qa.index&&ra!=V.length?" ":"")+V.slice(ra)||null}else return!1;return!0})}),addLineWidget:ad(function(a,f,t){return qf(this,a,f,t)}),removeLineWidget:function(a){a.clear()},markText:function(a,f,t){return ke(this,xb(this,a),xb(this,f),t,t&&t.type||"range")},setBookmark:function(a,f){f={replacedWith:f&&(null==f.nodeType?f.widget:f),insertLeft:f&&f.insertLeft,
clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};a=xb(this,a);return ke(this,a,a,f,"bookmark")},findMarksAt:function(a){a=xb(this,a);var f=[],t=p(this,a.line).markedSpans;if(t)for(var q=0;q<t.length;++q){var y=t[q];(null==y.from||y.from<=a.ch)&&(null==y.to||y.to>=a.ch)&&f.push(y.marker.parent||y.marker)}return f},findMarks:function(a,f,t){a=xb(this,a);f=xb(this,f);var q=[],y=a.line;this.iter(a.line,f.line+1,function(V){if(V=V.markedSpans)for(var qa=0;qa<V.length;qa++){var ra=
V[qa];null!=ra.to&&y==a.line&&a.ch>=ra.to||null==ra.from&&y!=a.line||null!=ra.from&&y==f.line&&ra.from>=f.ch||t&&!t(ra.marker)||q.push(ra.marker.parent||ra.marker)}++y});return q},getAllMarks:function(){var a=[];this.iter(function(f){if(f=f.markedSpans)for(var t=0;t<f.length;++t)null!=f[t].from&&a.push(f[t].marker)});return a},posFromIndex:function(a){var f,t=this.first,q=this.lineSeparator().length;this.iter(function(y){y=y.text.length+q;if(y>a)return f=a,!0;a-=y;++t});return xb(this,la(t,f))},indexFromPos:function(a){a=
xb(this,a);var f=a.ch;if(a.line<this.first||0>a.ch)return 0;var t=this.lineSeparator().length;this.iter(this.first,a.line,function(q){f+=q.text.length+t});return f},copy:function(a){var f=new ug(C(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);f.scrollTop=this.scrollTop;f.scrollLeft=this.scrollLeft;f.sel=this.sel;f.extend=!1;a&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory()));return f},linkedDoc:function(a){a||(a={});var f=
this.first,t=this.first+this.size;null!=a.from&&a.from>f&&(f=a.from);null!=a.to&&a.to<t&&(t=a.to);f=new ug(C(this,f,t),a.mode||this.modeOption,f,this.lineSep,this.direction);a.sharedHist&&(f.history=this.history);(this.linked||(this.linked=[])).push({doc:f,sharedHist:a.sharedHist});f.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=hf(this);for(t=0;t<a.length;t++){var q=a[t],y=q.find(),V=f.clipPos(y.from);y=f.clipPos(y.to);Ta(V,y)&&(V=ke(f,V,y,q.primary,q.primary.type),q.markers.push(V),
V.parent=q)}return f},unlinkDoc:function(a){a instanceof Pf&&(a=a.doc);if(this.linked)for(var f=0;f<this.linked.length;++f)if(this.linked[f].doc==a){this.linked.splice(f,1);a.unlinkDoc(this);kg(hf(this));break}if(a.history==this.history){var t=[a.id];Yb(a,function(q){return t.push(q.id)},!0);a.history=new aa(null);a.history.done=Rc(this.history.done,t);a.history.undone=Rc(this.history.undone,t)}},iterLinkedDocs:function(a){Yb(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},
splitLines:function(a){return this.lineSep?a.split(this.lineSep):bh(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ad(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(f){return f.order=null}),this.cm&&E(this.cm))})});ug.prototype.eachLine=ug.prototype.iter;for(var Bi=0,ok=!1,Lh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",
37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ti=0;10>Ti;Ti++)Lh[Ti+48]=Lh[Ti+96]=String(Ti);for(var Ci=65;90>=Ci;Ci++)Lh[Ci]=
String.fromCharCode(Ci);for(var Mh=1;12>=Mh;Mh++)Lh[Mh+111]=Lh[Mh+63235]="F"+Mh;var dj={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo",
"Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection",
"Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft",
"Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};dj["default"]=Wg?dj.macDefault:dj.pcDefault;var Di={selectAll:ha,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),bg)},killLine:function(a){return Yi(a,function(f){if(f.empty()){var t=p(a.doc,f.head.line).text.length;return f.head.ch==t&&f.head.line<a.lastLine()?{from:f.head,to:la(f.head.line+
1,0)}:{from:f.head,to:la(f.head.line,t)}}return{from:f.from(),to:f.to()}})},deleteLine:function(a){return Yi(a,function(f){return{from:la(f.from().line,0),to:xb(a.doc,la(f.to().line+1,0))}})},delLineLeft:function(a){return Yi(a,function(f){return{from:la(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(a){return Yi(a,function(f){var t=a.charCoords(f.head,"div").top+5;return{from:a.coordsChar({left:0,top:t},"div"),to:f.from()}})},delWrappedLineRight:function(a){return Yi(a,function(f){var t=
a.charCoords(f.head,"div").top+5;t=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:t},"div");return{from:f.from(),to:t}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(la(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(la(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(f){return jk(a,
f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(f){return Wh(a,f.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(f){f=f.head.line;var t=p(a.doc,f);var q=t;for(var y;y=La(q,!1);)q=y.find(1,!0).line;q!=t&&(f=G(q));return Mg(!0,a,t,f,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(f){f=a.cursorCoords(f.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+
100,top:f},"div")},gi)},goLineLeft:function(a){return a.extendSelectionsBy(function(f){f=a.cursorCoords(f.head,"div").top+5;return a.coordsChar({left:0,top:f},"div")},gi)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(f){var t=a.cursorCoords(f.head,"div").top+5;t=a.coordsChar({left:0,top:t},"div");return t.ch<a.getLine(t.line).search(/\S/)?Wh(a,f.head):t},gi)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,
"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,
"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},
insertSoftTab:function(a){for(var f=[],t=a.listSelections(),q=a.options.tabSize,y=0;y<t.length;y++){var V=t[y].from();V=sb(a.getLine(V.line),V.ch,q);f.push(Ia(q-V%q))}a.replaceSelections(f)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return ic(a,function(){for(var f=a.listSelections(),t=[],q=0;q<f.length;q++)if(f[q].empty()){var y=f[q].head,V=p(a.doc,y.line).text;if(V)if(y.ch==V.length&&(y=new la(y.line,y.ch-1)),0<y.ch)y=
new la(y.line,y.ch+1),a.replaceRange(V.charAt(y.ch-1)+V.charAt(y.ch-2),la(y.line,y.ch-2),y,"+transpose");else if(y.line>a.doc.first){var qa=p(a.doc,y.line-1).text;qa&&(y=new la(y.line,1),a.replaceRange(V.charAt(0)+a.doc.lineSeparator()+qa.charAt(qa.length-1),la(y.line-1,qa.length-1),y,"+transpose"))}t.push(new zf(y,y))}a.setSelections(t)})},newlineAndIndent:function(a){return ic(a,function(){for(var f=a.listSelections(),t=f.length-1;0<=t;t--)a.replaceRange(a.doc.lineSeparator(),f[t].anchor,f[t].head,
"+input");f=a.listSelections();for(t=0;t<f.length;t++)a.indentLine(f[t].from().line,null,!0);Ue(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},Wj=new lf,sh=null,oj=function(a,f,t){this.time=a;this.pos=f;this.button=t};oj.prototype.compare=function(a,f,t){return this.time+400>a&&0==Ta(f,this.pos)&&t==this.button};var nh,xj,Ui={toString:function(){return"CodeMirror.Init"}},Xj={},Th={};Pf.defaults=Xj;Pf.optionHandlers=Th;var Uh=
[];Pf.defineInitHook=function(a){return Uh.push(a)};var Eg=null,Mf=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new lf;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};Mf.prototype.init=function(a){function f(ra){for(ra=ra.target;ra;ra=ra.parentNode){if(ra==qa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ra.className))break}return!1}function t(ra){if(f(ra)&&!Q(V,ra)){if(V.somethingSelected())Eg={lineWise:!1,
text:V.getSelections()},"cut"==ra.type&&V.replaceSelection("",null,"cut");else if(V.options.lineWiseCopyCut){var ib=Ni(V);Eg={lineWise:!0,text:ib.text};"cut"==ra.type&&V.operation(function(){V.setSelections(ib.ranges,0,bg);V.replaceSelection("",null,"cut")})}else return;if(ra.clipboardData){ra.clipboardData.clearData();var Ab=Eg.text.join("\n");ra.clipboardData.setData("Text",Ab);if(ra.clipboardData.getData("Text")==Ab){ra.preventDefault();return}}var Xb=hj();ra=Xb.firstChild;V.display.lineSpace.insertBefore(Xb,
V.display.lineSpace.firstChild);ra.value=Eg.text.join("\n");var Hc=document.activeElement;ui(ra);setTimeout(function(){V.display.lineSpace.removeChild(Xb);Hc.focus();Hc==qa&&y.showPrimarySelection()},50)}}var q=this,y=this,V=y.cm,qa=y.div=a.lineDiv;ci(qa,V.options.spellcheck,V.options.autocorrect,V.options.autocapitalize);Ge(qa,"paste",function(ra){!f(ra)||Q(V,ra)||Sj(ra,V)||11>=sf&&setTimeout(Qc(V,function(){return q.updateFromDOM()}),20)});Ge(qa,"compositionstart",function(ra){q.composing={data:ra.data,
done:!1}});Ge(qa,"compositionupdate",function(ra){q.composing||(q.composing={data:ra.data,done:!1})});Ge(qa,"compositionend",function(ra){q.composing&&(ra.data!=q.composing.data&&q.readFromDOMSoon(),q.composing.done=!0)});Ge(qa,"touchstart",function(){return y.forceCompositionEnd()});Ge(qa,"input",function(){q.composing||q.readFromDOMSoon()});Ge(qa,"copy",t);Ge(qa,"cut",t)};Mf.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")};
Mf.prototype.prepareSelection=function(){var a=Gc(this.cm,!1);a.focus=document.activeElement==this.div;return a};Mf.prototype.showSelection=function(a,f){a&&this.cm.display.view.length&&((a.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(a))};Mf.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};Mf.prototype.showPrimarySelection=function(){var a=this.getSelection(),f=this.cm,t=f.doc.sel.primary(),q=t.from();t=t.to();if(f.display.viewTo==
f.display.viewFrom||q.line>=f.display.viewTo||t.line<f.display.viewFrom)a.removeAllRanges();else{var y=Oi(f,a.anchorNode,a.anchorOffset),V=Oi(f,a.focusNode,a.focusOffset);if(!y||y.bad||!V||V.bad||0!=Ta(eb(y,V),q)||0!=Ta(sa(y,V),t))if(y=f.display.view,q=q.line>=f.display.viewFrom&&Bj(f,q)||{node:y[0].measure.map[2],offset:0},t=t.line<f.display.viewTo&&Bj(f,t),t||(t=y[y.length-1].measure,t=t.maps?t.maps[t.maps.length-1]:t.map,t={node:t[t.length-1],offset:t[t.length-2]-t[t.length-3]}),q&&t){y=a.rangeCount&&
a.getRangeAt(0);try{var qa=vi(q.node,q.offset,t.offset,t.node)}catch(ra){}qa&&(!jg&&f.state.focused?(a.collapse(q.node,q.offset),qa.collapsed||(a.removeAllRanges(),a.addRange(qa))):(a.removeAllRanges(),a.addRange(qa)),y&&null==a.anchorNode?a.addRange(y):jg&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};Mf.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=
!0})},20)};Mf.prototype.showMultipleSelections=function(a){ca(this.cm.display.cursorDiv,a.cursors);ca(this.cm.display.selectionDiv,a.selection)};Mf.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};Mf.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return fb(this.div,
a)};Mf.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};Mf.prototype.blur=function(){this.div.blur()};Mf.prototype.getField=function(){return this.div};Mf.prototype.supportsTouch=function(){return!0};Mf.prototype.receivedFocus=function(){function a(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,a))}var f=this;this.selectionInEditor()?
this.pollSelection():ic(this.cm,function(){return f.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};Mf.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};Mf.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),f=this.cm;if(si&&
yg&&this.cm.display.gutterSpecs.length&&qi(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var t=Oi(f,a.anchorNode,a.anchorOffset),q=Oi(f,a.focusNode,a.focusOffset);t&&q&&ic(f,function(){oa(f.doc,Y(t,q),bg);if(t.bad||q.bad)f.curOp.selectionChanged=!0})}}};Mf.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=
this.cm,f=a.display,t=a.doc.sel.primary(),q=t.from(),y=t.to();0==q.ch&&q.line>a.firstLine()&&(q=la(q.line-1,p(a.doc,q.line-1).length));y.ch==p(a.doc,y.line).text.length&&y.line<a.lastLine()&&(y=la(y.line+1,0));if(q.line<f.viewFrom||y.line>f.viewTo-1)return!1;var V;q.line==f.viewFrom||0==(V=K(a,q.line))?(t=G(f.view[0].line),V=f.view[0].node):(t=G(f.view[V].line),V=f.view[V-1].node.nextSibling);var qa=K(a,y.line);qa==f.view.length-1?(y=f.viewTo-1,f=f.lineDiv.lastChild):(y=G(f.view[qa+1].line)-1,f=f.view[qa+
1].node.previousSibling);if(!V)return!1;f=a.doc.splitLines(xh(a,V,f,t,y));for(V=r(a.doc,la(t,0),la(y,p(a.doc,y).text.length));1<f.length&&1<V.length;)if(Ya(f)==Ya(V))f.pop(),V.pop(),y--;else if(f[0]==V[0])f.shift(),V.shift(),t++;else break;var ra=0;qa=0;for(var ib=f[0],Ab=V[0],Xb=Math.min(ib.length,Ab.length);ra<Xb&&ib.charCodeAt(ra)==Ab.charCodeAt(ra);)++ra;ib=Ya(f);Ab=Ya(V);for(Xb=Math.min(ib.length-(1==f.length?ra:0),Ab.length-(1==V.length?ra:0));qa<Xb&&ib.charCodeAt(ib.length-qa-1)==Ab.charCodeAt(Ab.length-
qa-1);)++qa;if(1==f.length&&1==V.length&&t==q.line)for(;ra&&ra>q.ch&&ib.charCodeAt(ib.length-qa-1)==Ab.charCodeAt(Ab.length-qa-1);)ra--,qa++;f[f.length-1]=ib.slice(0,ib.length-qa).replace(/^\u200b+/,"");f[0]=f[0].slice(ra).replace(/\u200b+$/,"");q=la(t,ra);t=la(y,V.length?Ya(V).length-qa:0);if(1<f.length||f[0]||Ta(q,t))return ie(a.doc,f,q,t,"+input"),!0};Mf.prototype.ensurePolled=function(){this.forceCompositionEnd()};Mf.prototype.reset=function(){this.forceCompositionEnd()};Mf.prototype.forceCompositionEnd=
function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};Mf.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};Mf.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||ic(this.cm,function(){return S(a.cm)})};
Mf.prototype.setUneditable=function(a){a.contentEditable="false"};Mf.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Qc(this.cm,gj)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};Mf.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};Mf.prototype.onContextMenu=function(){};Mf.prototype.resetPosition=function(){};Mf.prototype.needsContentAttribute=!0;var cg=function(a){this.cm=a;this.prevInput=
"";this.pollingFast=!1;this.polling=new lf;this.hasSelection=!1;this.composing=null};cg.prototype.init=function(a){function f(qa){if(!Q(y,qa)){if(y.somethingSelected())Eg={lineWise:!1,text:y.getSelections()};else if(y.options.lineWiseCopyCut){var ra=Ni(y);Eg={lineWise:!0,text:ra.text};"cut"==qa.type?y.setSelections(ra.ranges,null,bg):(q.prevInput="",V.value=ra.text.join("\n"),ui(V))}else return;"cut"==qa.type&&(y.state.cutIncoming=+new Date)}}var t=this,q=this,y=this.cm;this.createField(a);var V=
this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild);ah&&(V.style.width="0px");Ge(V,"input",function(){nf&&9<=sf&&t.hasSelection&&(t.hasSelection=null);q.poll()});Ge(V,"paste",function(qa){Q(y,qa)||Sj(qa,y)||(y.state.pasteIncoming=+new Date,q.fastPoll())});Ge(V,"cut",f);Ge(V,"copy",f);Ge(a.scroller,"paste",function(qa){if(!qd(a,qa)&&!Q(y,qa))if(V.dispatchEvent){var ra=new Event("paste");ra.clipboardData=qa.clipboardData;V.dispatchEvent(ra)}else y.state.pasteIncoming=+new Date,q.focus()});
Ge(a.lineSpace,"selectstart",function(qa){qd(a,qa)||O(qa)});Ge(V,"compositionstart",function(){var qa=y.getCursor("from");q.composing&&q.composing.range.clear();q.composing={start:qa,range:y.markText(qa,y.getCursor("to"),{className:"CodeMirror-composing"})}});Ge(V,"compositionend",function(){q.composing&&(q.poll(),q.composing.range.clear(),q.composing=null)})};cg.prototype.createField=function(a){this.wrapper=hj();this.textarea=this.wrapper.firstChild};cg.prototype.screenReaderLabelChanged=function(a){a?
this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")};cg.prototype.prepareSelection=function(){var a=this.cm,f=a.display,t=a.doc,q=Gc(a);if(a.options.moveInputWithCursor){a=ae(a,t.sel.primary().head,"div");t=f.wrapper.getBoundingClientRect();var y=f.lineDiv.getBoundingClientRect();q.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,a.top+y.top-t.top));q.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,a.left+y.left-t.left))}return q};cg.prototype.showSelection=
function(a){var f=this.cm.display;ca(f.cursorDiv,a.cursors);ca(f.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};cg.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var f=this.cm;f.somethingSelected()?(this.prevInput="",a=f.getSelection(),this.textarea.value=a,f.state.focused&&ui(this.textarea),nf&&9<=sf&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",nf&&9<=sf&&(this.hasSelection=null))}};
cg.prototype.getField=function(){return this.textarea};cg.prototype.supportsTouch=function(){return!1};cg.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Oh||ub()!=this.textarea))try{this.textarea.focus()}catch(a){}};cg.prototype.blur=function(){this.textarea.blur()};cg.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};cg.prototype.receivedFocus=function(){this.slowPoll()};cg.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,
function(){a.poll();a.cm.state.focused&&a.slowPoll()})};cg.prototype.fastPoll=function(){function a(){t.poll()||f?(t.pollingFast=!1,t.slowPoll()):(f=!0,t.polling.set(60,a))}var f=!1,t=this;t.pollingFast=!0;t.polling.set(20,a)};cg.prototype.poll=function(){var a=this,f=this.cm,t=this.textarea,q=this.prevInput;if(this.contextMenuPending||!f.state.focused||Ph(t)&&!q&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var y=t.value;if(y==q&&!f.somethingSelected())return!1;
if(nf&&9<=sf&&this.hasSelection===y||Wg&&/[\uf700-\uf7ff]/.test(y))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var V=y.charCodeAt(0);8203!=V||q||(q="​");if(8666==V)return this.reset(),this.cm.execCommand("undo")}var qa=0;for(V=Math.min(q.length,y.length);qa<V&&q.charCodeAt(qa)==y.charCodeAt(qa);)++qa;ic(f,function(){gj(f,y.slice(qa),q.length-qa,null,a.composing?"*compose":null);1E3<y.length||-1<y.indexOf("\n")?t.value=a.prevInput="":a.prevInput=y;a.composing&&(a.composing.range.clear(),
a.composing.range=f.markText(a.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};cg.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};cg.prototype.onKeyPress=function(){nf&&9<=sf&&(this.hasSelection=null);this.fastPoll()};cg.prototype.onContextMenu=function(a){function f(){if(null!=qa.selectionStart){var oc=y.somethingSelected(),ed="​"+(oc?qa.value:"");qa.value="⇚";qa.value=ed;q.prevInput=oc?"":"​";qa.selectionStart=1;qa.selectionEnd=
ed.length;V.selForContextMenu=y.doc.sel}}function t(){if(q.contextMenuPending==t&&(q.contextMenuPending=!1,q.wrapper.style.cssText=Xb,qa.style.cssText=Ab,nf&&9>sf&&V.scrollbars.setScrollTop(V.scroller.scrollTop=ib),null!=qa.selectionStart)){(!nf||nf&&9>sf)&&f();var oc=0,ed=function(){V.selForContextMenu==y.doc.sel&&0==qa.selectionStart&&0<qa.selectionEnd&&"​"==q.prevInput?Qc(y,ha)(y):10>oc++?V.detectingSelectAll=setTimeout(ed,500):(V.selForContextMenu=null,V.input.reset())};V.detectingSelectAll=setTimeout(ed,
200)}}var q=this,y=q.cm,V=y.display,qa=q.textarea;q.contextMenuPending&&q.contextMenuPending();var ra=Pe(y,a),ib=V.scroller.scrollTop;if(ra&&!Kg){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(ra)&&Qc(y,oa)(y.doc,Y(ra),bg);var Ab=qa.style.cssText,Xb=q.wrapper.style.cssText;ra=q.wrapper.offsetParent.getBoundingClientRect();q.wrapper.style.cssText="position: static";qa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-ra.top-5)+"px; left: "+(a.clientX-
ra.left-5)+"px;\n      z-index: 1000; background: "+(nf?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(yf)var Hc=window.scrollY;V.input.focus();yf&&window.scrollTo(null,Hc);V.input.reset();y.somethingSelected()||(qa.value=q.prevInput=" ");q.contextMenuPending=t;V.selForContextMenu=y.doc.sel;clearTimeout(V.detectingSelectAll);nf&&9<=sf&&f();if(ti){pa(a);var qc=function(){ob(window,"mouseup",
qc);setTimeout(t,20)};Ge(window,"mouseup",qc)}else setTimeout(t,50)}};cg.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a;this.textarea.readOnly=!!a};cg.prototype.setUneditable=function(){};cg.prototype.needsContentAttribute=!1;(function(a){function f(q,y,V,qa){a.defaults[q]=y;V&&(t[q]=qa?function(ra,ib,Ab){Ab!=Ui&&V(ra,ib,Ab)}:V)}var t=a.optionHandlers;a.defineOption=f;a.Init=Ui;f("value","",function(q,y){return q.setValue(y)},!0);f("mode",null,function(q,
y){q.doc.modeOption=y;tb(q)},!0);f("indentUnit",2,tb,!0);f("indentWithTabs",!1);f("smartIndent",!0);f("tabSize",4,function(q){nb(q);Bf(q);S(q)},!0);f("lineSeparator",null,function(q,y){if(q.doc.lineSep=y){var V=[],qa=q.doc.first;q.doc.iter(function(ib){for(var Ab=0;;){var Xb=ib.text.indexOf(y,Ab);if(-1==Xb)break;Ab=Xb+y.length;V.push(la(qa,Xb))}qa++});for(var ra=V.length-1;0<=ra;ra--)ie(q.doc,y,V[ra],la(V[ra].line,V[ra].ch+y.length))}});f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,
function(q,y,V){q.state.specialChars=new RegExp(y.source+(y.test("\t")?"":"|\t"),"g");V!=Ui&&q.refresh()});f("specialCharPlaceholder",Gb,function(q){return q.refresh()},!0);f("electricChars",!0);f("inputStyle",Oh?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);f("spellcheck",!1,function(q,y){return q.getInputField().spellcheck=y},!0);f("autocorrect",!1,function(q,y){return q.getInputField().autocorrect=y},!0);f("autocapitalize",
!1,function(q,y){return q.getInputField().autocapitalize=y},!0);f("rtlMoveVisually",!Vg);f("wholeLineUpdateBefore",!0);f("theme","default",function(q){lj(q);Ce(q)},!0);f("keyMap","default",function(q,y,V){y=bj(y);(V=V!=Ui&&bj(V))&&V.detach&&V.detach(q,y);y.attach&&y.attach(q,V||null)});f("extraKeys",null);f("configureMouse",null);f("lineWrapping",!1,Bg,!0);f("gutters",[],function(q,y){q.display.gutterSpecs=be(y,q.options.lineNumbers);Ce(q)},!0);f("fixedGutter",!0,function(q,y){q.display.gutters.style.left=
y?Cf(q.display)+"px":"0";q.refresh()},!0);f("coverGutterNextToScrollbar",!1,function(q){return da(q)},!0);f("scrollbarStyle","native",function(q){Pb(q);da(q);q.display.scrollbars.setScrollTop(q.doc.scrollTop);q.display.scrollbars.setScrollLeft(q.doc.scrollLeft)},!0);f("lineNumbers",!1,function(q,y){q.display.gutterSpecs=be(q.options.gutters,y);Ce(q)},!0);f("firstLineNumber",1,Ce,!0);f("lineNumberFormatter",function(q){return q},Ce,!0);f("showCursorWhenSelecting",!1,lc,!0);f("resetSelectionOnContextMenu",
!0);f("lineWiseCopyCut",!0);f("pasteLinesPerSelection",!0);f("selectionsMayTouch",!1);f("readOnly",!1,function(q,y){"nocursor"==y&&(le(q),q.display.input.blur());q.display.input.readOnlyChanged(y)});f("screenReaderLabel",null,function(q,y){q.display.input.screenReaderLabelChanged(""===y?null:y)});f("disableInput",!1,function(q,y){y||q.display.input.reset()},!0);f("dragDrop",!0,Ag);f("allowDropFileTypes",null);f("cursorBlinkRate",530);f("cursorScrollMargin",0);f("cursorHeight",1,lc,!0);f("singleCursorHeightPerLine",
!0,lc,!0);f("workTime",100);f("workDelay",100);f("flattenSpans",!0,nb,!0);f("addModeClass",!1,nb,!0);f("pollInterval",100);f("undoDepth",200,function(q,y){return q.doc.history.undoDepth=y});f("historyEventDelay",1250);f("viewportMargin",10,function(q){return q.refresh()},!0);f("maxHighlightLength",1E4,nb,!0);f("moveInputWithCursor",!0,function(q,y){y||q.display.input.resetPosition()});f("tabindex",null,function(q,y){return q.display.input.getField().tabIndex=y||""});f("autofocus",null);f("direction",
"ltr",function(q,y){return q.doc.setDirection(y)},!0);f("phrases",null)})(Pf);(function(a){var f=a.optionHandlers,t=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(q,y){var V=this.options,qa=V[q];if(V[q]!=y||"mode"==q)V[q]=y,f.hasOwnProperty(q)&&Qc(this,f[q])(this,y,qa),$a(this,"optionChange",this,q)},getOption:function(q){return this.options[q]},getDoc:function(){return this.doc},addKeyMap:function(q,y){this.state.keyMaps[y?"push":
"unshift"](bj(q))},removeKeyMap:function(q){for(var y=this.state.keyMaps,V=0;V<y.length;++V)if(y[V]==q||y[V].name==q)return y.splice(V,1),!0},addOverlay:Kc(function(q,y){var V=q.token?q:a.getMode(this.options,q);if(V.startState)throw Error("Overlays may not be stateful.");Ea(this.state.overlays,{mode:V,modeSpec:q,opaque:y&&y.opaque,priority:y&&y.priority||0},function(qa){return qa.priority});this.state.modeGen++;S(this)}),removeOverlay:Kc(function(q){for(var y=this.state.overlays,V=0;V<y.length;++V){var qa=
y[V].modeSpec;if(qa==q||"string"==typeof q&&qa.name==q){y.splice(V,1);this.state.modeGen++;S(this);break}}}),indentLine:Kc(function(q,y,V){"string"!=typeof y&&"number"!=typeof y&&(y=null==y?this.options.smartIndent?"smart":"prev":y?"add":"subtract");fa(this.doc,q)&&vh(this,q,y,V)}),indentSelection:Kc(function(q){for(var y=this.doc.sel.ranges,V=-1,qa=0;qa<y.length;qa++){var ra=y[qa];if(ra.empty())ra.head.line>V&&(vh(this,ra.head.line,q,!0),V=ra.head.line,qa==this.doc.sel.primIndex&&Ue(this));else{var ib=
ra.from();ra=ra.to();var Ab=Math.max(V,ib.line);V=Math.min(this.lastLine(),ra.line-(ra.ch?0:1))+1;for(ra=Ab;ra<V;++ra)vh(this,ra,q);ra=this.doc.sel.ranges;0==ib.ch&&y.length==ra.length&&0<ra[qa].from().ch&&Sd(this.doc,qa,new zf(ib,ra[qa].to()),bg)}}}),getTokenAt:function(q,y){return nc(this,q,y)},getLineTokens:function(q,y){return nc(this,la(q),y,!0)},getTokenTypeAt:function(q){q=xb(this.doc,q);var y=Ec(this,p(this.doc,q.line)),V=0,qa=(y.length-1)/2;q=q.ch;if(0==q)y=y[2];else for(;;){var ra=V+qa>>
1;if((ra?y[2*ra-1]:0)>=q)qa=ra;else if(y[2*ra+1]<q)V=ra+1;else{y=y[2*ra+2];break}}V=y?y.indexOf("overlay "):-1;return 0>V?y:0==V?null:y.slice(0,V-1)},getModeAt:function(q){var y=this.doc.mode;return y.innerMode?a.innerMode(y,this.getTokenAt(q).state).mode:y},getHelper:function(q,y){return this.getHelpers(q,y)[0]},getHelpers:function(q,y){var V=[];if(!t.hasOwnProperty(y))return V;var qa=t[y];q=this.getModeAt(q);if("string"==typeof q[y])qa[q[y]]&&V.push(qa[q[y]]);else if(q[y])for(var ra=0;ra<q[y].length;ra++){var ib=
qa[q[y][ra]];ib&&V.push(ib)}else q.helperType&&qa[q.helperType]?V.push(qa[q.helperType]):qa[q.name]&&V.push(qa[q.name]);for(y=0;y<qa._global.length;y++)ra=qa._global[y],ra.pred(q,this)&&-1==Wa(V,ra.val)&&V.push(ra.val);return V},getStateAfter:function(q,y){var V=this.doc;q=Math.max(V.first,Math.min(null==q?V.first+V.size-1:q,V.first+V.size-1));return gd(this,q+1,y).state},cursorCoords:function(q,y){var V=this.doc.sel.primary();q=null==q?V.head:"object"==typeof q?xb(this.doc,q):q?V.from():V.to();return ae(this,
q,y||"page")},charCoords:function(q,y){return Ld(this,xb(this.doc,q),y||"page")},coordsChar:function(q,y){q=Ad(this,q,y||"page");return Jd(this,q.left,q.top)},lineAtHeight:function(q,y){q=Ad(this,{top:q,left:0},y||"page").top;return B(this.doc,q+this.display.viewOffset)},heightAtLine:function(q,y,V){var qa=!1;if("number"==typeof q){var ra=this.doc.first+this.doc.size-1;q<this.doc.first?q=this.doc.first:q>ra&&(q=ra,qa=!0);q=p(this.doc,q)}return re(this,q,{top:0,left:0},y||"page",V||qa).top+(qa?this.doc.height-
X(q):0)},defaultTextHeight:function(){return Je(this.display)},defaultCharWidth:function(){return pe(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(q,y,V,qa,ra){var ib=this.display;q=ae(this,xb(this.doc,q));var Ab=q.bottom,Xb=q.left;y.style.position="absolute";y.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(y);ib.sizer.appendChild(y);if("over"==qa)Ab=q.top;else if("above"==qa||"near"==qa){var Hc=Math.max(ib.wrapper.clientHeight,
this.doc.height),qc=Math.max(ib.sizer.clientWidth,ib.lineSpace.clientWidth);("above"==qa||q.bottom+y.offsetHeight>Hc)&&q.top>y.offsetHeight?Ab=q.top-y.offsetHeight:q.bottom+y.offsetHeight<=Hc&&(Ab=q.bottom);Xb+y.offsetWidth>qc&&(Xb=qc-y.offsetWidth)}y.style.top=Ab+"px";y.style.left=y.style.right="";"right"==ra?(Xb=ib.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):("left"==ra?Xb=0:"middle"==ra&&(Xb=(ib.sizer.clientWidth-y.offsetWidth)/2),y.style.left=Xb+"px");V&&(q=Zf(this,{left:Xb,top:Ab,right:Xb+
y.offsetWidth,bottom:Ab+y.offsetHeight}),null!=q.scrollTop&&vf(this,q.scrollTop),null!=q.scrollLeft&&df(this,q.scrollLeft))},triggerOnKeyDown:Kc(ek),triggerOnKeyPress:Kc(aj),triggerOnKeyUp:wg,triggerOnMouseDown:Kc(Ji),execCommand:function(q){if(Di.hasOwnProperty(q))return Di[q].call(null,this)},triggerElectric:Kc(function(q){jj(this,q)}),findPosH:function(q,y,V,qa){var ra=1;0>y&&(ra=-1,y=-y);q=xb(this.doc,q);for(var ib=0;ib<y&&(q=di(this.doc,q,ra,V,qa),!q.hitSide);++ib);return q},moveH:Kc(function(q,
y){var V=this;this.extendSelectionsBy(function(qa){return V.display.shift||V.doc.extend||qa.empty()?di(V.doc,qa.head,q,y,V.options.rtlMoveVisually):0>q?qa.from():qa.to()},gi)}),deleteH:Kc(function(q,y){var V=this.doc;this.doc.sel.somethingSelected()?V.replaceSelection("",null,"+delete"):Yi(this,function(qa){var ra=di(V,qa.head,q,y,!1);return 0>q?{from:ra,to:qa.head}:{from:qa.head,to:ra}})}),findPosV:function(q,y,V,qa){var ra=1;0>y&&(ra=-1,y=-y);var ib=xb(this.doc,q);for(q=0;q<y&&(ib=ae(this,ib,"div"),
null==qa?qa=ib.left:ib.left=qa,ib=ij(this,ib,ra,V),!ib.hitSide);++q);return ib},moveV:Kc(function(q,y){var V=this,qa=this.doc,ra=[],ib=!this.display.shift&&!qa.extend&&qa.sel.somethingSelected();qa.extendSelectionsBy(function(Xb){if(ib)return 0>q?Xb.from():Xb.to();var Hc=ae(V,Xb.head,"div");null!=Xb.goalColumn&&(Hc.left=Xb.goalColumn);ra.push(Hc.left);var qc=ij(V,Hc,q,y);"page"==y&&Xb==qa.sel.primary()&&pd(V,Ld(V,qc,"div").top-Hc.top);return qc},gi);if(ra.length)for(var Ab=0;Ab<qa.sel.ranges.length;Ab++)qa.sel.ranges[Ab].goalColumn=
ra[Ab]}),findWordAt:function(q){var y=p(this.doc,q.line).text,V=q.ch,qa=q.ch;if(y){var ra=this.getHelper(q,"wordChars");"before"!=q.sticky&&qa!=y.length||!V?++qa:--V;var ib=y.charAt(V);for(ib=ab(ib,ra)?function(Ab){return ab(Ab,ra)}:/\s/.test(ib)?function(Ab){return/\s/.test(Ab)}:function(Ab){return!/\s/.test(Ab)&&!ab(Ab)};0<V&&ib(y.charAt(V-1));)--V;for(;qa<y.length&&ib(y.charAt(qa));)++qa}return new zf(la(q.line,V),la(q.line,qa))},toggleOverwrite:function(q){if(null==q||q!=this.state.overwrite)(this.state.overwrite=
!this.state.overwrite)?Qb(this.display.cursorDiv,"CodeMirror-overwrite"):Xg(this.display.cursorDiv,"CodeMirror-overwrite"),$a(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==ub()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Kc(function(q,y){Le(this,q,y)}),getScrollInfo:function(){var q=this.display.scroller;return{left:q.scrollLeft,top:q.scrollTop,height:q.scrollHeight-Wd(this)-this.display.barHeight,
width:q.scrollWidth-Wd(this)-this.display.barWidth,clientHeight:ye(this),clientWidth:me(this)}},scrollIntoView:Kc(function(q,y){null==q?(q={from:this.doc.sel.primary().head,to:null},null==y&&(y=this.options.cursorScrollMargin)):"number"==typeof q?q={from:la(q,0),to:null}:null==q.from&&(q={from:q,to:null});q.to||(q.to=q.from);q.margin=y||0;null!=q.from.line?(Ze(this),this.curOp.scrollToPos=q):$f(this,q.from,q.to,q.margin)}),setSize:Kc(function(q,y){var V=this,qa=function(ib){return"number"==typeof ib||
/^\d+$/.test(String(ib))?ib+"px":ib};null!=q&&(this.display.wrapper.style.width=qa(q));null!=y&&(this.display.wrapper.style.height=qa(y));this.options.lineWrapping&&Oe(this);var ra=this.display.viewFrom;this.doc.iter(ra,this.display.viewTo,function(ib){if(ib.widgets)for(var Ab=0;Ab<ib.widgets.length;Ab++)if(ib.widgets[Ab].noHScroll){ua(V,ra,"widget");break}++ra});this.curOp.forceUpdate=!0;$a(this,"refresh",this)}),operation:function(q){return ic(this,q)},startOperation:function(){return Mb(this)},
endOperation:function(){return ac(this)},refresh:Kc(function(){var q=this.display.cachedTextHeight;S(this);this.curOp.forceUpdate=!0;Bf(this);Le(this,this.doc.scrollLeft,this.doc.scrollTop);Fe(this.display);(null==q||.5<Math.abs(q-Je(this.display))||this.options.lineWrapping)&&tf(this);$a(this,"refresh",this)}),swapDoc:Kc(function(q){var y=this.doc;y.cm=null;this.state.selectingText&&this.state.selectingText();pc(this,q);Bf(this);this.display.input.reset();Le(this,q.scrollLeft,q.scrollTop);this.curOp.forceScroll=
!0;tc(this,"swapDoc",this,y);return y}),phrase:function(q){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,q)?y[q]:q},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};na(a);a.registerHelper=function(q,y,V){t.hasOwnProperty(q)||(t[q]=a[q]={_global:[]});t[q][y]=V};a.registerGlobalHelper=
function(q,y,V,qa){a.registerHelper(q,y,qa);t[q]._global.push({pred:V,val:qa})}})(Pf);var Mk="iter insert remove copy getEditor constructor".split(" "),ej;for(ej in ug.prototype)ug.prototype.hasOwnProperty(ej)&&0>Wa(Mk,ej)&&(Pf.prototype[ej]=function(a){return function(){return a.apply(this.doc,arguments)}}(ug.prototype[ej]));na(ug);Pf.inputStyles={textarea:cg,contenteditable:Mf};Pf.defineMode=function(a){Pf.defaults.mode||"null"==a||(Pf.defaults.mode=a);U.apply(this,arguments)};Pf.defineMIME=function(a,
f){Bh[a]=f};Pf.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});Pf.defineMIME("text/plain","null");Pf.defineExtension=function(a,f){Pf.prototype[a]=f};Pf.defineDocExtension=function(a,f){ug.prototype[a]=f};Pf.fromTextArea=function(a,f){function t(){a.value=ra.getValue()}f=f?qb(f):{};f.value=a.value;!f.tabindex&&a.tabIndex&&(f.tabindex=a.tabIndex);!f.placeholder&&a.placeholder&&(f.placeholder=a.placeholder);if(null==f.autofocus){var q=ub();f.autofocus=q==a||null!=a.getAttribute("autofocus")&&
q==document.body}if(a.form&&(Ge(a.form,"submit",t),!f.leaveSubmitMethodAlone)){var y=a.form;var V=y.submit;try{var qa=y.submit=function(){t();y.submit=V;y.submit();y.submit=qa}}catch(ib){}}f.finishInit=function(ib){ib.save=t;ib.getTextArea=function(){return a};ib.toTextArea=function(){ib.toTextArea=isNaN;t();a.parentNode.removeChild(ib.getWrapperElement());a.style.display="";a.form&&(ob(a.form,"submit",t),f.leaveSubmitMethodAlone||"function"!=typeof a.form.submit||(a.form.submit=V))}};a.style.display=
"none";var ra=Pf(function(ib){return a.parentNode.insertBefore(ib,a.nextSibling)},f);return ra};(function(a){a.off=ob;a.on=Ge;a.wheelEventPixels=gg;a.Doc=ug;a.splitLines=bh;a.countColumn=sb;a.findColumn=Ha;a.isWordChar=Ca;a.Pass=Kh;a.signal=$a;a.Line=bi;a.changeEnd=ia;a.scrollbarModel=Si;a.Pos=la;a.cmpPos=Ta;a.modes=Ah;a.mimeModes=Bh;a.resolveMode=va;a.getMode=xa;a.modeExtensions=ch;a.extendMode=ma;a.copyState=R;a.startState=w;a.innerMode=v;a.commands=Di;a.keyMap=dj;a.keyName=Xh;a.isModifierKey=Hi;
a.lookupKey=rh;a.normalizeKeyMap=Zg;a.StringStream=Xf;a.SharedTextMarker=Dh;a.TextMarker=Qg;a.LineWidget=oi;a.e_preventDefault=O;a.e_stopPropagation=W;a.e_stop=pa;a.addClass=Qb;a.contains=fb;a.rmClass=Xg;a.keyNames=Lh})(Pf);Pf.version="5.59.1";return Pf})};
shadow$provide[71]=function(mc,Rb,Jc,Nb){(function(n){"object"===typeof Nb&&"object"===typeof Jc?n(Rb(70)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){n.defineMode("clojure",function(x){function ca(Ga,jb){if(Ga.eatSpace()||Ga.eat(","))return["space",null];if(Ga.match(Ya))return[null,"number"];if(Ga.match(mb))return[null,"string-2"];if(Ga.eat(/^"/))return(jb.tokenize=Sa)(Ga,jb);if(Ga.eat(/^[(\[{]/))return["open","bracket"];if(Ga.eat(/^[)\]}]/))return["close",
"bracket"];if(Ga.eat(/^;/))return Ga.skipToEnd(),["space","comment"];if(Ga.eat(/^[#'@^`~]/))return[null,"meta"];var Ca=Ga.match(Ea);Ca=Ca&&Ca[0];return Ca?"comment"===Ca&&"("===jb.lastToken?(jb.tokenize=Wb)(Ga,jb):ub(Ca,qb)||":"===Ca.charAt(0)?["symbol","atom"]:ub(Ca,sb)||ub(Ca,Wa)?["symbol","keyword"]:"("===jb.lastToken?["symbol","builtin"]:["symbol","variable"]:(Ga.next(),Ga.eatWhile(function(ab){return!ub(ab,Ia)}),[null,"error"])}function Sa(Ga,jb){for(var Ca=!1,ab;ab=Ga.next();){if('"'===ab&&
!Ca){jb.tokenize=ca;break}Ca=!Ca&&"\\"===ab}return[null,"string"]}function Wb(Ga,jb){for(var Ca=1,ab;ab=Ga.next();)if(")"===ab&&Ca--,"("===ab&&Ca++,0===Ca){Ga.backUp(1);jb.tokenize=ca;break}return["space","comment"]}function fb(Ga){for(var jb={},Ca=0;Ca<Ga.length;++Ca)jb[Ga[Ca]]=!0;return jb}function ub(Ga,jb){if(jb instanceof RegExp)return jb.test(Ga);if(jb instanceof Object)return jb.propertyIsEnumerable(Ga)}var Qb=["false","nil","true"],Bb=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),
bb="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
n.registerHelper("hintWords","clojure",[].concat(Qb,Bb,bb));var qb=fb(Qb),sb=fb(Bb),Wa=fb(bb),Ha=fb("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
Ia=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,Ya=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,mb=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,Ea=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:ca}},token:function(Ga,jb){Ga.sol()&&"number"!==typeof jb.ctx.indentTo&&(jb.ctx.indentTo=jb.ctx.start+1);var Ca=jb.tokenize(Ga,jb),ab=Ca[0];Ca=Ca[1];var Ma=Ga.current();"space"!==ab&&("("===jb.lastToken&&null===jb.ctx.indentTo?"symbol"===ab&&ub(Ma,Ha)?jb.ctx.indentTo=jb.ctx.start+x.indentUnit:jb.ctx.indentTo="next":"next"===jb.ctx.indentTo&&(jb.ctx.indentTo=Ga.column()),jb.lastToken=Ma);"open"===ab?jb.ctx=
{prev:jb.ctx,start:Ga.column(),indentTo:null}:"close"===ab&&(jb.ctx=jb.ctx.prev||jb.ctx);return Ca},indent:function(Ga){var jb=Ga.ctx.indentTo;return"number"===typeof jb?jb:Ga.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});n.defineMIME("text/x-clojure","clojure");n.defineMIME("text/x-clojurescript","clojure");n.defineMIME("application/edn","clojure")})};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",fa="datascript.db",ha="datascript.pull-api",ia="literate.app",ja="taoensso.sente",g,la=la||{},ma=this||self;function na(){}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==pa(a)}function ra(a){var b=pa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function sa(a){return"function"==pa(a)}function ta(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ya(a){return a[za]||(a[za]=++Aa)}var za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0;function Da(a,b,c){return a.call.apply(a.bind,arguments)}
function Ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Fa(a,b,c){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ea;return Fa.apply(null,arguments)}var Ga=Date.now||function(){return+new Date};
function Ha(a,b){a=a.split(".");var c=ma;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function Ia(a,b){function c(){}c.prototype=b.prototype;a.qd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ja(a){Ja[" "](a);return a}Ja[" "]=na;function Ka(a,b){var c=La;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function Ma(a){let b=!1,c;return function(){b||(c=a(),b=!0);return c}};var Na=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Sa=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ta(a){a:{var b=Va;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Wa(a){if(!qa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Xa(a,b){b=Na(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Ya(a){return Array.prototype.concat.apply([],arguments)}function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b){a.sort(b||ab)}function bb(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ab;$a(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function ab(a,b){return a>b?1:a<b?-1:0}function cb(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function db(a){this.ti=a}db.prototype.toString=function(){return this.ti};var eb=new db("IFRAME"),fb=new db("SCRIPT");function gb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function hb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ib(a,b,c){return null!==a&&b in a?a[b]:c}function jb(a,b,c){a[b]=c}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function lb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<kb.length;f++)c=kb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function mb(a,b){this.si=a===nb&&b||"";this.Xg=ob}var ob={},nb={},pb=new mb(nb,"");function qb(){}qb.prototype.nd=function(){return this};(new qb).nd("");function rb(a,b){this.li=a===sb&&b||"";this.Yg=tb}var tb={},sb={};function ub(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function vb(a){return/^[\s\xa0]*$/.test(a)}var wb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function xb(a){return-1!=zb.toLowerCase().indexOf(a.toLowerCase())}function Ab(a,b){return a<b?-1:a>b?1:0};function Bb(){}Bb.prototype.nd=function(){return this};(new Bb).nd("");function Cb(){}Cb.prototype.nd=function(){return this};(new Cb).nd("");var zb;a:{var Db=ma.navigator;if(Db){var Eb=Db.userAgent;if(Eb){zb=Eb;break a}}zb=""}function Fb(a){return-1!=zb.indexOf(a)};function Gb(){this.Jg="";this.Wg=Hb}function Ib(){var a=Jb;if(a instanceof Gb&&a.constructor===Gb&&a.Wg===Hb)return a.Jg;pa(a);return"type_error:SafeHtml"}var Hb={};Gb.prototype.nd=function(a){this.Jg=a;return this};(new Gb).nd("\x3c!DOCTYPE html\x3e");var Jb=(new Gb).nd("");(new Gb).nd("\x3cbr\x3e");function Kb(a){var b=new rb(sb,pb instanceof mb&&pb.constructor===mb&&pb.Xg===ob?pb.si:"type_error:Const");b instanceof rb&&b.constructor===rb&&b.Yg===tb?b=b.li:(pa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Lb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"�">=a}var Mb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Nb(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};function Ob(a){if(a.jb&&"function"==typeof a.jb)a=a.jb();else if(ra(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Pb(a){if(a.Yb&&"function"==typeof a.Yb)return a.Yb();if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gb(a)}
function Qb(a){if(a.Lc&&"function"==typeof a.Lc)return a.Lc();if(!a.Yb||"function"!=typeof a.Yb){if(ra(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return hb(a)}}function Rb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ra(a)||"string"===typeof a)Pa(a,b,c);else for(var d=Qb(a),e=Pb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Sb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ra(a)||"string"===typeof a)return Sa(a,b,void 0);for(var c=Qb(a),d=Pb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Tb(a,b){this.ob={};this.nb=[];this.$a=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Tb.prototype;g.jb=function(){return this.$a};g.Yb=function(){Ub(this);for(var a=[],b=0;b<this.nb.length;b++)a.push(this.ob[this.nb[b]]);return a};g.Lc=function(){Ub(this);return this.nb.concat()};g.Gd=function(a){return Vb(this.ob,a)};
g.te=function(a){for(var b=0;b<this.nb.length;b++){var c=this.nb[b];if(Vb(this.ob,c)&&this.ob[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.$a!=a.jb())return!1;b=b||Wb;Ub(this);for(var c,d=0;c=this.nb[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Wb(a,b){return a===b}g.isEmpty=function(){return 0==this.$a};g.clear=function(){this.ob={};this.$a=this.nb.length=0};
g.remove=function(a){return Vb(this.ob,a)?(delete this.ob[a],this.$a--,this.nb.length>2*this.$a&&Ub(this),!0):!1};function Ub(a){if(a.$a!=a.nb.length){for(var b=0,c=0;b<a.nb.length;){var d=a.nb[b];Vb(a.ob,d)&&(a.nb[c++]=d);b++}a.nb.length=c}if(a.$a!=a.nb.length){var e={};for(c=b=0;b<a.nb.length;)d=a.nb[b],Vb(e,d)||(a.nb[c++]=d,e[d]=1),b++;a.nb.length=c}}g.get=function(a,b){return Vb(this.ob,a)?this.ob[a]:b};g.set=function(a,b){Vb(this.ob,a)||(this.$a++,this.nb.push(a));this.ob[a]=b};
g.addAll=function(a){if(a instanceof Tb)for(var b=a.Lc(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.Lc(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Tb(this)};g.transpose=function(){for(var a=new Tb,b=0;b<this.nb.length;b++){var c=this.nb[b];a.set(this.ob[c],c)}return a};function Vb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Yb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function $b(a,b){this.$a=this.mb=null;this.zc=a||null;this.Bh=!!b}function bc(a){a.mb||(a.mb=new Tb,a.$a=0,a.zc&&Zb(a.zc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=$b.prototype;g.jb=function(){bc(this);return this.$a};g.add=function(a,b){bc(this);this.zc=null;a=cc(this,a);var c=this.mb.get(a);c||this.mb.set(a,c=[]);c.push(b);this.$a+=1;return this};
g.remove=function(a){bc(this);a=cc(this,a);return this.mb.Gd(a)?(this.zc=null,this.$a-=this.mb.get(a).length,this.mb.remove(a)):!1};g.clear=function(){this.mb=this.zc=null;this.$a=0};g.isEmpty=function(){bc(this);return 0==this.$a};g.Gd=function(a){bc(this);a=cc(this,a);return this.mb.Gd(a)};g.te=function(a){var b=this.Yb();return 0<=Na(b,a)};g.forEach=function(a,b){bc(this);this.mb.forEach(function(c,d){Pa(c,function(e){a.call(b,e,d,this)},this)},this)};
g.Lc=function(){bc(this);for(var a=this.mb.Yb(),b=this.mb.Lc(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.Yb=function(a){bc(this);var b=[];if("string"===typeof a)this.Gd(a)&&(b=Ya(b,this.mb.get(cc(this,a))));else{a=this.mb.Yb();for(var c=0;c<a.length;c++)b=Ya(b,a[c])}return b};g.set=function(a,b){bc(this);this.zc=null;a=cc(this,a);this.Gd(a)&&(this.$a-=this.mb.get(a).length);this.mb.set(a,[b]);this.$a+=1;return this};
g.get=function(a,b){if(!a)return b;a=this.Yb(a);return 0<a.length?String(a[0]):b};g.toString=function(){if(this.zc)return this.zc;if(!this.mb)return"";for(var a=[],b=this.mb.Lc(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Yb(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.zc=a.join("\x26")};g.clone=function(){var a=new $b;a.zc=this.zc;this.mb&&(a.mb=this.mb.clone(),a.$a=this.$a);return a};
function cc(a,b){b=String(b);a.Bh&&(b=b.toLowerCase());return b}g.extend=function(a){for(var b=0;b<arguments.length;b++)Rb(arguments[b],function(c,d){this.add(d,c)},this)};function dc(a,b){null!=a&&this.append.apply(this,arguments)}g=dc.prototype;g.ud="";g.set=function(a){this.ud=""+a};g.append=function(a,b,c){this.ud+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.ud+=arguments[d];return this};g.clear=function(){this.ud=""};g.getLength=function(){return this.ud.length};g.toString=function(){return this.ud};var fc={},gc={},hc,l={},ic=null,jc=null,kc=!0,lc=!0,mc=null,nc=null;function oc(){return new p(null,5,[pc,!0,qc,lc,rc,!1,sc,!1,tc,mc],null)}function uc(){kc=!1;jc=function(){return console.log.apply(console,Za(arguments))}}function q(a){return null!=a&&!1!==a}function vc(a){return null==a}function wc(a){return a instanceof Array}function xc(a){return"number"===typeof a}function yc(a){return null==a?!0:!1===a?!0:!1}function zc(a){return null!=a}
function Ac(a,b){return a[pa(null==b?null:b)]?!0:a._?!0:!1}function Bc(a){return null==a?null:a.constructor}function Cc(a,b){var c=Bc(b);c=q(q(c)?c.Mb:c)?c.wb:pa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Dc(a){var b=a.wb;return q(b)?b:t.B(a)}
var Ec="undefined"!==typeof Symbol&&"function"===pa(Symbol)?Symbol.iterator:"@@iterator",Fc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Gc=null;
function Hc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ic(a){function b(d,e){d.push(e);return d}var c=[];return v.C?v.C(b,c,a):v.call(null,b,c,a)}function Jc(a){return"symbol"===pa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Kc(){}function Lc(){}function Mc(){}
function Nc(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=Nc[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ICounted.-count",a);}return a}function Oc(){}function Pc(a){if(null!=a&&null!=a.Ka)a=a.Ka(a);else{var b=Pc[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Pc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IEmptyableCollection.-empty",a);}return a}function Qc(){}
function Rc(a,b){if(null!=a&&null!=a.ja)a=a.ja(a,b);else{var c=Rc[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Rc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ICollection.-conj",a);}return a}function Sc(){}
var Tc=function(){function a(d,e,f){var h=x[pa(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Cc("IIndexed.-nth",d);}function b(d,e){var f=x[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.j(arguments[0],arguments[1]);case 3:return x.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};x.j=function(a,b){return null!=a&&null!=a.xa?a.xa(a,b):Tc(a,b)};x.C=function(a,b,c){return null!=a&&null!=a.Sa?a.Sa(a,b,c):Tc(a,b,c)};x.$=3;function Uc(){}
function Vc(a){if(null!=a&&null!=a.Va)a=a.Va(a);else{var b=Vc[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Vc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ISeq.-first",a);}return a}function Wc(a){if(null!=a&&null!=a.eb)a=a.eb(a);else{var b=Wc[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ISeq.-rest",a);}return a}function Xc(){}
function Zc(a){if(null!=a&&null!=a.Oa)a=a.Oa(a);else{var b=Zc[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Zc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INext.-next",a);}return a}function $c(){}
var bd=function(){function a(d,e,f){var h=ad[pa(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=ad._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Cc("ILookup.-lookup",d);}function b(d,e){var f=ad[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=ad._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),ad=function ad(a){switch(arguments.length){case 2:return ad.j(arguments[0],arguments[1]);case 3:return ad.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ad.j=function(a,b){return null!=a&&null!=a.ka?a.ka(a,b):bd(a,b)};ad.C=function(a,b,c){return null!=a&&null!=a.P?a.P(a,b,c):bd(a,b,c)};ad.$=3;
function cd(a,b,c){if(null!=a&&null!=a.ba)a=a.ba(a,b,c);else{var d=cd[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=cd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IAssociative.-assoc",a);}return a}function dd(a,b){if(null!=a&&null!=a.cd)a=a.cd(a,b);else{var c=dd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IFind.-find",a);}return a}function ed(){}
function fd(a,b){if(null!=a&&null!=a.wa)a=a.wa(a,b);else{var c=fd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=fd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IMap.-dissoc",a);}return a}function gd(a){if(null!=a&&null!=a.rf)a=a.key;else{var b=gd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=gd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IMapEntry.-key",a);}return a}
function hd(a){if(null!=a&&null!=a.sf)a=a.val;else{var b=hd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=hd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IMapEntry.-val",a);}return a}function id(){}function jd(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=jd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISet.-disjoin",a);}return a}
function kd(a){if(null!=a&&null!=a.dd)a=a.dd(a);else{var b=kd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=kd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IStack.-peek",a);}return a}function ld(a){if(null!=a&&null!=a.ed)a=a.ed(a);else{var b=ld[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ld._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IStack.-pop",a);}return a}function md(){}
function nd(a,b,c){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c);else{var d=nd[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=nd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IVector.-assoc-n",a);}return a}function od(){}function y(a){if(null!=a&&null!=a.ub)a=a.ub(a);else{var b=y[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=y._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDeref.-deref",a);}return a}function pd(){}
function qd(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=qd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=qd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IMeta.-meta",a);}return a}function rd(a,b){if(null!=a&&null!=a.ea)a=a.ea(a,b);else{var c=rd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=rd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWithMeta.-with-meta",a);}return a}function sd(){}
var ud=function(){function a(d,e,f){var h=td[pa(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=td._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Cc("IReduce.-reduce",d);}function b(d,e){var f=td[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=td._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),td=function td(a){switch(arguments.length){case 2:return td.j(arguments[0],arguments[1]);case 3:return td.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};td.j=function(a,b){return null!=a&&null!=a.Ta?a.Ta(a,b):ud(a,b)};td.C=function(a,b,c){return null!=a&&null!=a.Ua?a.Ua(a,b,c):ud(a,b,c)};td.$=3;function vd(){}
function wd(a,b,c){if(null!=a&&null!=a.ua)a=a.ua(a,b,c);else{var d=wd[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=wd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IKVReduce.-kv-reduce",a);}return a}function xd(a,b){if(null!=a&&null!=a.aa)a=a.aa(a,b);else{var c=xd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEquiv.-equiv",a);}return a}
function yd(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=yd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=yd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IHash.-hash",a);}return a}function zd(){}function Dd(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=Dd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ISeqable.-seq",a);}return a}function Ed(){}function Fd(){}function Gd(){}
function Hd(){}function Id(a){if(null!=a&&null!=a.vc)a=a.vc(a);else{var b=Id[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Id._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IReversible.-rseq",a);}return a}function Jd(a,b){if(null!=a&&null!=a.xd)a=a.xd(a,b);else{var c=Jd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWriter.-write",a);}return a}
function Kd(a){if(null!=a&&null!=a.Tc)a=a.Tc(a);else{var b=Kd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Kd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IWriter.-flush",a);}return a}function Ld(){}function Md(a,b,c){if(null!=a&&null!=a.fa)a=a.fa(a,b,c);else{var d=Md[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Md._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IPrintWithWriter.-pr-writer",a);}return a}function Nd(){}
function Od(a){if(null!=a&&null!=a.Pe)a=a.Pe(a);else{var b=Od[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Od._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IPending.-realized?",a);}return a}function Qd(a,b){var c=Rd;if(null!=a&&null!=a.pg)a.pg(a,c,b);else{var d=Qd[pa(null==a?null:a)];if(null!=d)d.C?d.C(a,c,b):d.call(null,a,c,b);else if(d=Qd._,null!=d)d.C?d.C(a,c,b):d.call(null,a,c,b);else throw Cc("IWatchable.-add-watch",a);}}
function Sd(a){var b=Rd;if(null!=a&&null!=a.qg)a.qg(a,b);else{var c=Sd[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWatchable.-remove-watch",a);}}function Td(a){if(null!=a&&null!=a.vd)a=a.vd(a);else{var b=Td[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Td._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IEditableCollection.-as-transient",a);}return a}
function Ud(a,b){if(null!=a&&null!=a.wd)a=a.wd(a,b);else{var c=Ud[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ud._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientCollection.-conj!",a);}return a}function Vd(a){if(null!=a&&null!=a.Ed)a=a.Ed(a);else{var b=Vd[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Vd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ITransientCollection.-persistent!",a);}return a}
function Wd(a,b,c){if(null!=a&&null!=a.Rd)a=a.Rd(a,b,c);else{var d=Wd[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Wd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("ITransientAssociative.-assoc!",a);}return a}function Xd(a,b){if(null!=a&&null!=a.vf)a=a.vf(a,b);else{var c=Xd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Xd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientMap.-dissoc!",a);}return a}
function Yd(){}function Zd(a,b){if(null!=a&&null!=a.Sc)a=a.Sc(a,b);else{var c=Zd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Zd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IComparable.-compare",a);}return a}function $d(a){if(null!=a&&null!=a.ee)a=a.ee(a);else{var b=$d[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=$d._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChunk.-drop-first",a);}return a}
function ae(a){if(null!=a&&null!=a.ge)a=a.ge(a);else{var b=ae[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ae._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-first",a);}return a}function be(a){if(null!=a&&null!=a.Dd)a=a.Dd(a);else{var b=be[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=be._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-rest",a);}return a}
function ce(a){if(null!=a&&null!=a.ke)a=a.ke(a);else{var b=ce[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ce._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INamed.-name",a);}return a}function de(a){if(null!=a&&null!=a.le)a=a.le(a);else{var b=de[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=de._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INamed.-namespace",a);}return a}
function ee(a,b){if(null!=a&&null!=a.jh)a=a.jh(a,b);else{var c=ee[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ee._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IReset.-reset!",a);}return a}
var ge=function(){function a(f,h,k,m,n){var r=fe[pa(null==f?null:f)];if(null!=r)return r.la?r.la(f,h,k,m,n):r.call(null,f,h,k,m,n);r=fe._;if(null!=r)return r.la?r.la(f,h,k,m,n):r.call(null,f,h,k,m,n);throw Cc("ISwap.-swap!",f);}function b(f,h,k,m){var n=fe[pa(null==f?null:f)];if(null!=n)return n.O?n.O(f,h,k,m):n.call(null,f,h,k,m);n=fe._;if(null!=n)return n.O?n.O(f,h,k,m):n.call(null,f,h,k,m);throw Cc("ISwap.-swap!",f);}function c(f,h,k){var m=fe[pa(null==f?null:f)];if(null!=m)return m.C?m.C(f,h,
k):m.call(null,f,h,k);m=fe._;if(null!=m)return m.C?m.C(f,h,k):m.call(null,f,h,k);throw Cc("ISwap.-swap!",f);}function d(f,h){var k=fe[pa(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=fe._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw Cc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.j=d;e.C=c;e.O=b;e.la=a;return e}(),fe=function fe(a){switch(arguments.length){case 2:return fe.j(arguments[0],arguments[1]);case 3:return fe.C(arguments[0],arguments[1],arguments[2]);case 4:return fe.O(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fe.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};fe.j=function(a,b){return null!=a&&null!=a.lh?a.lh(a,b):ge(a,b)};
fe.C=function(a,b,c){return null!=a&&null!=a.mh?a.mh(a,b,c):ge(a,b,c)};fe.O=function(a,b,c,d){return null!=a&&null!=a.nh?a.nh(a,b,c,d):ge(a,b,c,d)};fe.la=function(a,b,c,d,e){return null!=a&&null!=a.oh?a.oh(a,b,c,d,e):ge(a,b,c,d,e)};fe.$=5;function he(a,b){if(null!=a&&null!=a.Jc)a=a.Jc(a,b);else{var c=he[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=he._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IVolatile.-vreset!",a);}return a}function ie(){}
function je(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=je[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=je._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IIterable.-iterator",a);}return a}function ke(a){this.ri=a;this.J=1073741824;this.T=0}ke.prototype.xd=function(a,b){return this.ri.append(b)};ke.prototype.Tc=function(){return null};function le(a){var b=new dc,c=new ke(b);a.fa(null,c,oc());c.Tc(null);return t.B(b)}
var me="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function ne(a){a=me(a|0,-862048943);return me(a<<15|a>>>-15,461845907)}function oe(a,b){a=(a|0)^(b|0);return me(a<<13|a>>>-13,5)+-430675100|0}function pe(a,b){a=(a|0)^b;a=me(a^a>>>16,-2048144789);a=me(a^a>>>13,-1028477387);return a^a>>>16}var qe={},re=0;
function se(a){255<re&&(qe={},re=0);if(null==a)return 0;var b=qe[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=me(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;qe[a]=b;re+=1;a=b}return a}
function ve(a){if(null!=a&&(a.J&4194304||l===a.gh))return a.ia(null)^0;if("number"===typeof a){if(q(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=se(a),a=0===a?a:pe(oe(0,ne(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:yd(a)^0,a}function we(a){return a instanceof z}
function xe(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=oe(d,ne(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=pe(1===(b.length&1)?c^ne(b.charCodeAt(b.length-1)):c,me(2,b.length));a=se(a.Qb);return b^a+2654435769+(b<<6)+(b>>2)}function ye(a,b){if(a.$c===b.$c)return 0;if(q(yc(a.Qb)?b.Qb:!1))return-1;if(q(a.Qb)){if(yc(b.Qb))return 1;var c=ab(a.Qb,b.Qb);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}
function z(a,b,c,d,e){this.Qb=a;this.name=b;this.$c=c;this._hash=d;this.sc=e;this.J=2154168321;this.T=4096}g=z.prototype;g.toString=function(){return this.$c};g.equiv=function(a){return this.aa(null,a)};g.aa=function(a,b){return b instanceof z?this.$c===b.$c:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return B.j?B.j(a,this):B.call(null,a,this)};g.j=function(a,b){return B.C?B.C(a,this,b):B.call(null,a,this,b)};g.da=function(){return this.sc};g.ea=function(a,b){return new z(this.Qb,this.name,this.$c,this._hash,b)};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)};g.ke=function(){return this.name};g.le=function(){return this.Qb};g.fa=function(a,b){return Jd(b,this.$c)};
var ze=function ze(a){switch(arguments.length){case 1:return ze.B(arguments[0]);case 2:return ze.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ze.B=function(a){for(;;){if(a instanceof z)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?ze.j(null,a):ze.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Ae)return a.Od;if(a instanceof C)a=a.ma;else throw Error("no conversion to symbol");}};
ze.j=function(a,b){var c=null!=a?[t.B(a),"/",t.B(b)].join(""):b;return new z(a,b,c,null,null)};ze.$=2;function Ae(a,b,c){this.val=a;this.Od=b;this.sc=c;this.J=6717441;this.T=0}g=Ae.prototype;g.toString=function(){return["#'",t.B(this.Od)].join("")};g.ub=function(){return this.val.N?this.val.N():this.val.call(null)};g.da=function(){return this.sc};g.ea=function(a,b){return new Ae(this.val,this.Od,b)};g.aa=function(a,b){return b instanceof Ae?(a=this.Od,b=b.Od,D.j?D.j(a,b):D.call(null,a,b)):!1};
g.ia=function(){return xe(this.Od)};g.hg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.O(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.he(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.N=function(){var a=this.val.N?this.val.N():this.val.call(null);return a.N?a.N():a.call(null)};g.B=function(a){var b=this.val.N?this.val.N():this.val.call(null);return b.B?b.B(a):b.call(null,a)};
g.j=function(a,b){var c=this.val.N?this.val.N():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};g.C=function(a,b,c){var d=this.val.N?this.val.N():this.val.call(null);return d.C?d.C(a,b,c):d.call(null,a,b,c)};g.O=function(a,b,c,d){var e=this.val.N?this.val.N():this.val.call(null);return e.O?e.O(a,b,c,d):e.call(null,a,b,c,d)};g.la=function(a,b,c,d,e){var f=this.val.N?this.val.N():this.val.call(null);return f.la?f.la(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Za=function(a,b,c,d,e,f){var h=this.val.N?this.val.N():this.val.call(null);return h.Za?h.Za(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Kb=function(a,b,c,d,e,f,h){var k=this.val.N?this.val.N():this.val.call(null);return k.Kb?k.Kb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.vb=function(a,b,c,d,e,f,h,k){var m=this.val.N?this.val.N():this.val.call(null);return m.vb?m.vb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Lb=function(a,b,c,d,e,f,h,k,m){var n=this.val.N?this.val.N():this.val.call(null);return n.Lb?n.Lb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.zb=function(a,b,c,d,e,f,h,k,m,n){var r=this.val.N?this.val.N():this.val.call(null);return r.zb?r.zb(a,b,c,d,e,f,h,k,m,n):r.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.val.N?this.val.N():this.val.call(null);return u.Ab?u.Ab(a,b,c,d,e,f,h,k,m,n,r):u.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.val.N?this.val.N():this.val.call(null);return w.Bb?w.Bb(a,b,c,d,e,f,h,k,m,n,r,u):w.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.val.N?this.val.N():this.val.call(null);return A.Cb?A.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.val.N?this.val.N():this.val.call(null);return G.Db?G.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.val.N?this.val.N():this.val.call(null);return I.Eb?I.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.val.N?this.val.N():this.val.call(null);return F.Fb?F.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.val.N?this.val.N():this.val.call(null);return N.Gb?N.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.val.N?this.val.N():this.val.call(null);return O.Hb?O.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.val.N?this.val.N():this.val.call(null);return U.Ib?U.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Jb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.val.N?this.val.N():this.val.call(null);return ea.Jb?ea.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.he=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=this.val.N?this.val.N():this.val.call(null);return Be.qf?Be.qf(va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};
function Ce(a){return null!=a?a.T&131072||l===a.zi?!0:a.T?!1:Ac(ie,a):Ac(ie,a)}function E(a){if(null==a)return null;if(null!=a&&(a.J&8388608||l===a.tf))return a.ga(null);if(wc(a)||"string"===typeof a)return 0===a.length?null:new De(a,0,null);if(null!=a&&null!=a[Ec])return a=ib(a,Ec).call(a),Ee.B?Ee.B(a):Ee.call(null,a);if(Ac(zd,a))return Dd(a);throw Error([t.B(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.J&64||l===a.va))return a.Va(null);a=E(a);return null==a?null:Vc(a)}function Fe(a){return null!=a?null!=a&&(a.J&64||l===a.va)?a.eb(null):(a=E(a))?a.eb(null):Ge:Ge}function J(a){return null==a?null:null!=a&&(a.J&128||l===a.me)?a.Oa(null):E(Fe(a))}
var D=function D(a){switch(arguments.length){case 1:return D.B(arguments[0]);case 2:return D.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return D.F(arguments[0],arguments[1],c)}};D.B=function(){return!0};D.j=function(a,b){return null==a?null==b:a===b||xd(a,b)};D.F=function(a,b,c){for(;;)if(D.j(a,b))if(J(c))a=b,b=H(c),c=J(c);else return D.j(b,H(c));else return!1};
D.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};D.$=2;function He(a){this.s=a}He.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ie(a){return new He(E(a))}function Je(a,b){this.value=a;this.iter=b;this.lf=null;this.J=8388672;this.T=0}Je.prototype.ga=function(){return this};Je.prototype.Va=function(){return this.value};
Je.prototype.eb=function(){null==this.lf&&(this.lf=Ee.B?Ee.B(this.iter):Ee.call(null,this.iter));return this.lf};function Ee(a){var b=a.next();return q(b.done)?null:new Je(b.value,a)}function Ke(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=me(31,c)+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Le=pe(oe(0,ne(1)),0);function Me(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Ne=pe(oe(0,ne(0)),0);Mc["null"]=!0;Nc["null"]=function(){return 0};
Date.prototype.aa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.bd=l;Date.prototype.Sc=function(a,b){if(b instanceof Date)return ab(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};xd.number=function(a,b){return a===b};Kc["function"]=!0;pd["function"]=!0;qd["function"]=function(){return null};yd._=function(a){return ya(a)};function Oe(a){return a+1}function Pe(a){this.val=a;this.J=32768;this.T=0}
Pe.prototype.ub=function(){return this.val};function Qe(a){return new Pe(a)}function Re(a){return a instanceof Pe}function Se(a){return Re(a)?Te.B?Te.B(a):Te.call(null,a):a}function Te(a){return y(a)}function Ue(a,b){var c=a.ha(null);if(0===c)return b.N?b.N():b.call(null);for(var d=a.xa(null,0),e=1;;)if(e<c){var f=a.xa(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}
function Ve(a,b,c){var d=a.ha(null),e=c;for(c=0;;)if(c<d){var f=a.xa(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}function We(a,b){var c=a.length;if(0===a.length)return b.N?b.N():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}function Xe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}
function Ye(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Re(c))return y(c);d+=1}else return c}function Ze(a){return null!=a?a.J&2||l===a.ig?!0:a.J?!1:Ac(Mc,a):Ac(Mc,a)}function $e(a){return null!=a?a.J&16||l===a.mg?!0:a.J?!1:Ac(Sc,a):Ac(Sc,a)}function af(a,b,c){var d=K.B?K.B(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.j(bf?bf(a,c):cf.call(null,a,c),b))return c;c+=1}else return-1}
function df(a,b,c){var d=K.B?K.B(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.j(bf?bf(a,c):cf.call(null,a,c),b))return c;--c}else return-1}function ef(a,b){this.K=a;this.i=b}ef.prototype.ab=function(){return this.i<this.K.length};ef.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function De(a,b,c){this.K=a;this.i=b;this.meta=c;this.J=166592766;this.T=139264}g=De.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.B?K.B(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.xa=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.Sa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.na=function(){return new ef(this.K,this.i)};g.da=function(){return this.meta};g.Oa=function(){return this.i+1<this.K.length?new De(this.K,this.i+1,null):null};g.ha=function(){var a=this.K.length-this.i;return 0>a?0:a};g.vc=function(){var a=this.ha(null);return 0<a?new ff(this,a-1,null):null};g.ia=function(){return Ke(this)};g.aa=function(a,b){return gf.j?gf.j(this,b):gf.call(null,this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return Ye(this.K,b,this.K[this.i],this.i+1)};
g.Ua=function(a,b,c){return Ye(this.K,b,c,this.i)};g.Va=function(){return this.K[this.i]};g.eb=function(){return this.i+1<this.K.length?new De(this.K,this.i+1,null):Ge};g.ga=function(){return this.i<this.K.length?this:null};g.ea=function(a,b){return b===this.meta?this:new De(this.K,this.i,b)};g.ja=function(a,b){return hf.j?hf.j(b,this):hf.call(null,b,this)};De.prototype[Ec]=function(){return Ie(this)};function M(a){return 0<a.length?new De(a,0,null):null}
function ff(a,b,c){this.ci=a;this.i=b;this.meta=c;this.J=32374990;this.T=8192}g=ff.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.B?K.B(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return 0<this.i?new ff(this.ci,this.i-1,null):null};g.ha=function(){return this.i+1};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf.j?gf.j(this,b):gf.call(null,this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf?jf(b,this):kf.call(null,b,this)};g.Ua=function(a,b,c){return lf?lf(b,c,this):kf.call(null,b,c,this)};g.Va=function(){return x(this.ci,this.i)};g.eb=function(){return 0<this.i?new ff(this.ci,this.i-1,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new ff(this.ci,this.i,b)};g.ja=function(a,b){return hf.j?hf.j(b,this):hf.call(null,b,this)};
ff.prototype[Ec]=function(){return Ie(this)};function mf(a){return H(J(a))}function nf(a){return H(H(a))}function of(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}xd._=function(a,b){return a===b};
var pf=function pf(a){switch(arguments.length){case 0:return pf.N();case 1:return pf.B(arguments[0]);case 2:return pf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return pf.F(arguments[0],arguments[1],c)}};pf.N=function(){return qf};pf.B=function(a){return a};pf.j=function(a,b){return null!=a?Rc(a,b):new rf(null,b,null,1,null)};
pf.F=function(a,b,c){for(;;)if(q(c))a=pf.j(a,b),b=H(c),c=J(c);else return pf.j(a,b)};pf.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};pf.$=2;function sf(a){return null==a?null:null!=a&&(a.J&4||l===a.lg)?a.Ka(null):(null!=a?a.J&4||l===a.lg||(a.J?0:Ac(Oc,a)):Ac(Oc,a))?Pc(a):null}
function K(a){if(null!=a)if(null!=a&&(a.J&2||l===a.ig))a=a.ha(null);else if(wc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.J&8388608||l===a.tf))a:{a=E(a);for(var b=0;;){if(Ze(a)){a=b+Nc(a);break a}a=J(a);b+=1}}else a=Nc(a);else a=0;return a}function tf(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?H(a):c;if($e(a))return x(a,b,c);if(E(a))a=J(a),--b;else return c}}
function cf(a){switch(arguments.length){case 2:return bf(arguments[0],arguments[1]);case 3:return P(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function bf(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.J&16||l===a.mg))return a.xa(null,b);if(wc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.J&64||l===a.va)||null!=a&&(a.J&16777216||l===a.og)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=H(a);break a}throw Error("Index out of bounds");}if($e(a)){a=x(a,b);break a}if(E(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(Ac(Sc,a))return x(a,b);throw Error(["nth not supported on this type ",t.B(Dc(Bc(a)))].join(""));}
function P(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.J&16||l===a.mg))return a.Sa(null,b,c);if(wc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.J&64||l===a.va)||null!=a&&(a.J&16777216||l===a.og))return 0>b?c:tf(a,b,c);if(Ac(Sc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.B(Dc(Bc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.j(arguments[0],arguments[1]);case 3:return B.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};B.j=function(a,b){return null==a?null:null!=a&&(a.J&256||l===a.hh)?a.ka(null,b):wc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Ac($c,a)?ad(a,b):null};
B.C=function(a,b,c){return null!=a?null!=a&&(a.J&256||l===a.hh)?a.P(null,b,c):wc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Ac($c,a)?ad(a,b,c):c:c};B.$=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Q.F(arguments[0],arguments[1],arguments[2],c)}};
Q.C=function(a,b,c){return null!=a&&(a.J&512||l===a.ui)?a.ba(null,b,c):null!=a?cd(a,b,c):uf([b,c])};Q.F=function(a,b,c,d){for(;;)if(a=Q.C(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};Q.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.F(b,a,c,d)};Q.$=3;
var R=function R(a){switch(arguments.length){case 1:return R.B(arguments[0]);case 2:return R.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return R.F(arguments[0],arguments[1],c)}};R.B=function(a){return a};R.j=function(a,b){return null==a?null:fd(a,b)};R.F=function(a,b,c){for(;;){if(null==a)return null;a=R.j(a,b);if(q(c))b=H(c),c=J(c);else return a}};
R.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};R.$=2;function vf(a){var b=sa(a);return b?b:null!=a?l===a.hg?!0:a.yd?!1:Ac(Kc,a):Ac(Kc,a)}function wf(a,b){this.oa=a;this.meta=b;this.J=393217;this.T=0}g=wf.prototype;g.da=function(){return this.meta};g.ea=function(a,b){return new wf(this.oa,b)};g.hg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.O(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.he(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.N=function(){return this.oa.N?this.oa.N():this.oa.call(null)};g.B=function(a){return this.oa.B?this.oa.B(a):this.oa.call(null,a)};g.j=function(a,b){return this.oa.j?this.oa.j(a,b):this.oa.call(null,a,b)};g.C=function(a,b,c){return this.oa.C?this.oa.C(a,b,c):this.oa.call(null,a,b,c)};
g.O=function(a,b,c,d){return this.oa.O?this.oa.O(a,b,c,d):this.oa.call(null,a,b,c,d)};g.la=function(a,b,c,d,e){return this.oa.la?this.oa.la(a,b,c,d,e):this.oa.call(null,a,b,c,d,e)};g.Za=function(a,b,c,d,e,f){return this.oa.Za?this.oa.Za(a,b,c,d,e,f):this.oa.call(null,a,b,c,d,e,f)};g.Kb=function(a,b,c,d,e,f,h){return this.oa.Kb?this.oa.Kb(a,b,c,d,e,f,h):this.oa.call(null,a,b,c,d,e,f,h)};g.vb=function(a,b,c,d,e,f,h,k){return this.oa.vb?this.oa.vb(a,b,c,d,e,f,h,k):this.oa.call(null,a,b,c,d,e,f,h,k)};
g.Lb=function(a,b,c,d,e,f,h,k,m){return this.oa.Lb?this.oa.Lb(a,b,c,d,e,f,h,k,m):this.oa.call(null,a,b,c,d,e,f,h,k,m)};g.zb=function(a,b,c,d,e,f,h,k,m,n){return this.oa.zb?this.oa.zb(a,b,c,d,e,f,h,k,m,n):this.oa.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,r){return this.oa.Ab?this.oa.Ab(a,b,c,d,e,f,h,k,m,n,r):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,u){return this.oa.Bb?this.oa.Bb(a,b,c,d,e,f,h,k,m,n,r,u):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){return this.oa.Cb?this.oa.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};g.Db=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){return this.oa.Db?this.oa.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){return this.oa.Eb?this.oa.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){return this.oa.Fb?this.oa.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){return this.oa.Gb?this.oa.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){return this.oa.Hb?this.oa.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){return this.oa.Ib?this.oa.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Jb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){return this.oa.Jb?this.oa.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.oa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.he=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){return Be.qf?Be.qf(this.oa,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,this.oa,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};function xf(a,b){return sa(a)?new wf(a,b):null==a?null:rd(a,b)}
function yf(a){return null!=a&&(null!=a?a.J&131072||l===a.je||(a.J?0:Ac(pd,a)):Ac(pd,a))?qd(a):null}var Af=function Af(a){switch(arguments.length){case 1:return Af.B(arguments[0]);case 2:return Af.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Af.F(arguments[0],arguments[1],c)}};Af.B=function(a){return a};Af.j=function(a,b){return null==a?null:jd(a,b)};
Af.F=function(a,b,c){for(;;){if(null==a)return null;a=Af.j(a,b);if(q(c))b=H(c),c=J(c);else return a}};Af.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};Af.$=2;function Bf(a){return null==a||yc(E(a))}function Cf(a){return null==a?!1:null!=a?a.J&8||l===a.wi?!0:a.J?!1:Ac(Qc,a):Ac(Qc,a)}function Df(a){return null==a?!1:null!=a?a.J&4096||l===a.Gi?!0:a.J?!1:Ac(id,a):Ac(id,a)}function Ef(a){return null!=a?a.J&16777216||l===a.og?!0:a.J?!1:Ac(Ed,a):Ac(Ed,a)}
function Ff(a){return null==a?!1:null!=a?a.J&1024||l===a.Ci?!0:a.J?!1:Ac(ed,a):Ac(ed,a)}function Gf(a){return null!=a?a.J&67108864||l===a.Fi?!0:a.J?!1:Ac(Gd,a):Ac(Gd,a)}function Hf(a){return null!=a?a.J&16384||l===a.Hi?!0:a.J?!1:Ac(md,a):Ac(md,a)}function If(a){return null!=a?a.T&512||l===a.vi?!0:!1:!1}function Jf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Kf={};function Lf(a){return null==a?!1:null!=a?a.J&64||l===a.va?!0:a.J?!1:Ac(Uc,a):Ac(Uc,a)}
function Mf(a){return null==a?!1:!1===a?!1:!0}function Nf(a){var b=vf(a);return b?b:null!=a?a.J&1||l===a.yi?!0:a.J?!1:Ac(Lc,a):Ac(Lc,a)}function Of(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Pf(a,b){return B.C(a,b,Kf)===Kf?!1:!0}
var Qf=function Qf(a){switch(arguments.length){case 1:return Qf.B(arguments[0]);case 2:return Qf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Qf.F(arguments[0],arguments[1],c)}};Qf.B=function(){return!0};Qf.j=function(a,b){return!D.j(a,b)};Qf.F=function(a,b,c){if(D.j(a,b))return!1;a=Rf([a,b]);for(b=c;;){var d=H(b);c=J(b);if(q(b)){if(Pf(a,d))return!1;a=pf.j(a,d);b=c}else return!0}};
Qf.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};Qf.$=2;function Sf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ab(a,b);throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));}if(null!=a?a.T&2048||l===a.bd||(a.T?0:Ac(Yd,a)):Ac(Yd,a))return Zd(a,b);if("string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b))throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));return ab(a,b)}
function Tf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Sf(bf(a,d),bf(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Uf(a){return D.j(a,Sf)?Sf:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:q(d)?-1:q(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Vf(a,b){return E(b)?(b=Wf.B?Wf.B(b):Wf.call(null,b),bb(b,Uf(a)),E(b)):Ge}
function kf(a){switch(arguments.length){case 2:return jf(arguments[0],arguments[1]);case 3:return lf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function jf(a,b){var c=E(b);return c?(b=H(c),c=J(c),v.C?v.C(a,b,c):v.call(null,a,b,c)):a.N?a.N():a.call(null)}function lf(a,b,c){for(c=E(c);;)if(c){var d=H(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Re(b))return y(b);c=J(c)}else return b}
function Xf(a){a=Wf.B?Wf.B(a):Wf.call(null,a);cb(a);return Yf.B?Yf.B(a):Yf.call(null,a)}function ag(a,b){a=je(a);if(q(a.ab()))for(var c=a.next();;)if(a.ab()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c;else return b.N?b.N():b.call(null)}function bg(a,b,c){for(a=je(a);;)if(a.ab()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c}
var v=function v(a){switch(arguments.length){case 2:return v.j(arguments[0],arguments[1]);case 3:return v.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};v.j=function(a,b){return null!=b&&(b.J&524288||l===b.ih)?b.Ta(null,a):wc(b)?We(b,a):"string"===typeof b?We(b,a):Ac(sd,b)?td(b,a):Ce(b)?ag(b,a):jf(a,b)};
v.C=function(a,b,c){return null!=c&&(c.J&524288||l===c.ih)?c.Ua(null,a,b):wc(c)?Xe(c,a,b):"string"===typeof c?Xe(c,a,b):Ac(sd,c)?td(c,a,b):Ce(c)?bg(c,a,b):lf(a,b,c)};v.$=3;function cg(a,b,c){return null!=c?wd(c,a,b):b}function dg(a){return a}
function eg(a,b){return function(){function c(h,k){return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return a.N?a.N():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.N=e;f.B=d;f.j=c;return f}()}function fg(a,b,c){return gg(a,b,b.N?b.N():b.call(null),c)}
function gg(a,b,c,d){a=a.B?a.B(b):a.call(null,b);c=v.C(a,c,d);return a.B?a.B(c):a.call(null,c)}var hg=function hg(a){switch(arguments.length){case 0:return hg.N();case 1:return hg.B(arguments[0]);case 2:return hg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return hg.F(arguments[0],arguments[1],c)}};hg.N=function(){return 0};hg.B=function(a){return a};hg.j=function(a,b){return a+b};
hg.F=function(a,b,c){return v.C(hg,a+b,c)};hg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};hg.$=2;var ig=function ig(a){switch(arguments.length){case 1:return ig.B(arguments[0]);case 2:return ig.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return ig.F(arguments[0],arguments[1],c)}};ig.B=function(a){return-a};ig.j=function(a,b){return a-b};
ig.F=function(a,b,c){return v.C(ig,a-b,c)};ig.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};ig.$=2;var jg=function jg(a){switch(arguments.length){case 0:return jg.N();case 1:return jg.B(arguments[0]);case 2:return jg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return jg.F(arguments[0],arguments[1],c)}};jg.N=function(){return 1};jg.B=function(a){return a};
jg.j=function(a,b){return a*b};jg.F=function(a,b,c){return v.C(jg,a*b,c)};jg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};jg.$=2;var kg=function kg(a){switch(arguments.length){case 1:return kg.B(arguments[0]);case 2:return kg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return kg.F(arguments[0],arguments[1],c)}};kg.B=function(a){return 1/a};kg.j=function(a,b){return a/b};
kg.F=function(a,b,c){return v.C(kg,a/b,c)};kg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};kg.$=2;var lg=function lg(a){switch(arguments.length){case 1:return lg.B(arguments[0]);case 2:return lg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return lg.F(arguments[0],arguments[1],c)}};lg.B=function(){return!0};lg.j=function(a,b){return a<b};
lg.F=function(a,b,c){for(;;)if(a<b)if(J(c))a=b,b=H(c),c=J(c);else return b<H(c);else return!1};lg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};lg.$=2;var mg=function mg(a){switch(arguments.length){case 1:return mg.B(arguments[0]);case 2:return mg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return mg.F(arguments[0],arguments[1],c)}};mg.B=function(){return!0};
mg.j=function(a,b){return a<=b};mg.F=function(a,b,c){for(;;)if(a<=b)if(J(c))a=b,b=H(c),c=J(c);else return b<=H(c);else return!1};mg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};mg.$=2;var ng=function ng(a){switch(arguments.length){case 1:return ng.B(arguments[0]);case 2:return ng.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return ng.F(arguments[0],arguments[1],c)}};ng.B=function(){return!0};
ng.j=function(a,b){return a>b};ng.F=function(a,b,c){for(;;)if(a>b)if(J(c))a=b,b=H(c),c=J(c);else return b>H(c);else return!1};ng.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};ng.$=2;var og=function og(a){switch(arguments.length){case 1:return og.B(arguments[0]);case 2:return og.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return og.F(arguments[0],arguments[1],c)}};og.B=function(){return!0};
og.j=function(a,b){return a>=b};og.F=function(a,b,c){for(;;)if(a>=b)if(J(c))a=b,b=H(c),c=J(c);else return b>=H(c);else return!1};og.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};og.$=2;var pg=function pg(a){switch(arguments.length){case 1:return pg.B(arguments[0]);case 2:return pg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return pg.F(arguments[0],arguments[1],c)}};pg.B=function(a){return a};
pg.j=function(a,b){return a>b?a:b};pg.F=function(a,b,c){return v.C(pg,a>b?a:b,c)};pg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};pg.$=2;var qg=function qg(a){switch(arguments.length){case 1:return qg.B(arguments[0]);case 2:return qg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return qg.F(arguments[0],arguments[1],c)}};qg.B=function(a){return a};
qg.j=function(a,b){return a<b?a:b};qg.F=function(a,b,c){return v.C(qg,a<b?a:b,c)};qg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};qg.$=2;function rg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function sg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function tg(a,b){return(a%b+b)%b}function ug(a,b){return sg((a-a%b)/b)}function vg(a,b){return a-b*ug(a,b)}
function wg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var xg=function xg(a){switch(arguments.length){case 1:return xg.B(arguments[0]);case 2:return xg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return xg.F(arguments[0],arguments[1],c)}};xg.B=function(){return!0};xg.j=function(a,b){return xd(a,b)};
xg.F=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};xg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};xg.$=2;var t=function t(a){switch(arguments.length){case 0:return t.N();case 1:return t.B(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(1),0,null);return t.F(arguments[0],c)}};t.N=function(){return""};t.B=function(a){return null==a?"":[a].join("")};
t.F=function(a,b){for(a=new dc(t.B(a));;)if(q(b))a=a.append(t.B(H(b))),b=J(b);else return a.toString()};t.ca=function(a){var b=H(a);a=J(a);return this.F(b,a)};t.$=1;var yg=function yg(a){switch(arguments.length){case 2:return yg.j(arguments[0],arguments[1]);case 3:return yg.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};yg.j=function(a,b){return a.substring(b)};yg.C=function(a,b,c){return a.substring(b,c)};yg.$=3;
function gf(a,b){if(Ef(b))if(Ze(a)&&Ze(b)&&K(a)!==K(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.j(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Mf(a)}function rf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.I=e;this.J=65937646;this.T=8192}g=rf.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return 1===this.count?null:this.rest};g.ha=function(){return this.count};g.dd=function(){return this.first};g.ed=function(){return this.eb(null)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(Ge,this.meta)};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.first};g.eb=function(){return 1===this.count?Ge:this.rest};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new rf(b,this.first,this.rest,this.count,this.I)};g.ja=function(a,b){return new rf(this.meta,b,this,this.count+1,null)};
function zg(a){return null!=a?a.J&33554432||l===a.Bi?!0:a.J?!1:Ac(Fd,a):Ac(Fd,a)}rf.prototype[Ec]=function(){return Ie(this)};function Ag(a){this.meta=a;this.J=65937614;this.T=8192}g=Ag.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return null};g.ha=function(){return 0};g.dd=function(){return null};g.ed=function(){throw Error("Can't pop empty list");};g.ia=function(){return Le};
g.aa=function(a,b){return zg(b)||Ef(b)?null==E(b):!1};g.Ka=function(){return this};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return null};g.eb=function(){return Ge};g.ga=function(){return null};g.ea=function(a,b){return b===this.meta?this:new Ag(b)};g.ja=function(a,b){return new rf(this.meta,b,null,1,null)};var Ge=new Ag(null);Ag.prototype[Ec]=function(){return Ie(this)};
function Bg(a){return(null!=a?a.J&134217728||l===a.kh||(a.J?0:Ac(Hd,a)):Ac(Hd,a))?(a=Id(a))?a:Ge:v.C(pf,Ge,a)}var Cg=function Cg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Cg.F(c)};Cg.F=function(a){if(a instanceof De&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Vc(a)),a=Zc(a);else break a;a=b.length;for(var c=Ge;;)if(0<a){var d=a-1;c=Rc(c,b[a-1]);a=d}else return c};Cg.$=0;Cg.ca=function(a){return this.F(E(a))};
function Dg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.I=d;this.J=65929452;this.T=8192}g=Dg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return null==this.rest?null:E(this.rest)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};
g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.first};g.eb=function(){return null==this.rest?Ge:this.rest};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Dg(b,this.first,this.rest,this.I)};g.ja=function(a,b){return new Dg(null,b,this,null)};Dg.prototype[Ec]=function(){return Ie(this)};
function hf(a,b){return null==b?new rf(null,a,null,1,null):null!=b&&(b.J&64||l===b.va)?new Dg(null,a,b,null):new Dg(null,a,E(b),null)}function Eg(a,b){if(a.ma===b.ma)return 0;if(q(yc(a.Qb)?b.Qb:!1))return-1;if(q(a.Qb)){if(yc(b.Qb))return 1;var c=ab(a.Qb,b.Qb);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}function C(a,b,c,d){this.Qb=a;this.name=b;this.ma=c;this._hash=d;this.J=2153775105;this.T=4096}g=C.prototype;g.toString=function(){return[":",t.B(this.ma)].join("")};
g.equiv=function(a){return this.aa(null,a)};g.aa=function(a,b){return b instanceof C?this.ma===b.ma:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return B.j(a,this)};g.j=function(a,b){return B.C(a,this,b)};
g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)+2654435769|0};g.ke=function(){return this.name};g.le=function(){return this.Qb};g.fa=function(a,b){return Jd(b,[":",t.B(this.ma)].join(""))};function S(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.ma===b.ma:!1}function Fg(a){if(null!=a&&(a.T&4096||l===a.ng))return a.le(null);throw Error(["Doesn't support namespace: ",t.B(a)].join(""));}function Gg(a){return a instanceof C||a instanceof z}
var Hg=function Hg(a){switch(arguments.length){case 1:return Hg.B(arguments[0]);case 2:return Hg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Hg.B=function(a){if(a instanceof C)return a;if(a instanceof z)return new C(Fg(a),Ig.B?Ig.B(a):Ig.call(null,a),a.$c,null);if(D.j("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
Hg.j=function(a,b){a=a instanceof C?Ig.B?Ig.B(a):Ig.call(null,a):a instanceof z?Ig.B?Ig.B(a):Ig.call(null,a):a;b=b instanceof C?Ig.B?Ig.B(b):Ig.call(null,b):b instanceof z?Ig.B?Ig.B(b):Ig.call(null,b):b;return new C(a,b,[q(a)?[t.B(a),"/"].join(""):null,t.B(b)].join(""),null)};Hg.$=2;function Jg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.I=d;this.J=32374988;this.T=1}g=Jg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
function Kg(a){null!=a.fn&&(a.s=a.fn.N?a.fn.N():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){this.ga(null);return null==this.s?null:J(this.s)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};
g.Ka=function(){return rd(Ge,this.meta)};g.Pe=function(){return yc(this.fn)};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){this.ga(null);return null==this.s?null:H(this.s)};g.eb=function(){this.ga(null);return null!=this.s?Fe(this.s):Ge};g.ga=function(){Kg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Jg)a=Kg(a);else return this.s=a,E(this.s)};
g.ea=function(a,b){var c=this;return b===this.meta?c:new Jg(b,function(){return c.ga(null)},null,this.I)};g.ja=function(a,b){return hf(b,this)};Jg.prototype[Ec]=function(){return Ie(this)};function Lg(a){this.Da=a;this.end=0;this.J=2;this.T=0}Lg.prototype.add=function(a){this.Da[this.end]=a;return this.end+=1};Lg.prototype.ac=function(){var a=new Mg(this.Da,0,this.end);this.Da=null;return a};Lg.prototype.ha=function(){return this.end};function Ng(a){return new Lg(Array(a))}
function Mg(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=Mg.prototype;g.ha=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Sa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.ee=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Mg(this.K,this.off+1,this.end)};g.Ta=function(a,b){return Ye(this.K,b,this.K[this.off],this.off+1)};g.Ua=function(a,b,c){return Ye(this.K,b,c,this.off)};
function Pg(a,b,c,d){this.ac=a;this.Pc=b;this.meta=c;this.I=d;this.J=31850732;this.T=1536}g=Pg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return 1<Nc(this.ac)?new Pg($d(this.ac),this.Pc,null,null):null==this.Pc?null:Dd(this.Pc)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Va=function(){return x(this.ac,0)};g.eb=function(){return 1<Nc(this.ac)?new Pg($d(this.ac),this.Pc,null,null):null==this.Pc?Ge:this.Pc};g.ga=function(){return this};g.ge=function(){return this.ac};g.Dd=function(){return null==this.Pc?Ge:this.Pc};g.ea=function(a,b){return b===this.meta?this:new Pg(this.ac,this.Pc,b,this.I)};g.ja=function(a,b){return hf(b,this)};g.fe=function(){return null==this.Pc?null:this.Pc};Pg.prototype[Ec]=function(){return Ie(this)};
function Qg(a,b){return 0===Nc(a)?b:new Pg(a,b,null,null)}function Rg(a,b){a.add(b)}function Sg(a){return a.ac()}function Wf(a){var b=[];for(a=E(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function Tg(a,b){if(Ze(b))return K(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var Ug=function Ug(a){if(null==a)return null;var c=J(a);return null==c?E(H(a)):hf(H(a),Ug.B?Ug.B(c):Ug.call(null,c))},T=function T(a){switch(arguments.length){case 0:return T.N();case 1:return T.B(arguments[0]);case 2:return T.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return T.F(arguments[0],arguments[1],c)}};T.N=function(){return new Jg(null,function(){return null},null,null)};
T.B=function(a){return new Jg(null,function(){return a},null,null)};T.j=function(a,b){return new Jg(null,function(){var c=E(a);return c?If(c)?Qg(ae(c),T.j(be(c),b)):hf(H(c),T.j(Fe(c),b)):b},null,null)};T.F=function(a,b,c){return function h(e,f){return new Jg(null,function(){var k=E(e);return k?If(k)?Qg(ae(k),h(be(k),f)):hf(H(k),h(Fe(k),f)):q(f)?h(H(f),J(f)):null},null,null)}(T.j(a,b),c)};T.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};T.$=2;
function Vg(a,b,c){return hf(a,hf(b,c))}function Wg(a){return Td(a)}function Xg(a){return Vd(a)}var Zg=function Zg(a){switch(arguments.length){case 0:return Zg.N();case 1:return Zg.B(arguments[0]);case 2:return Zg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Zg.F(arguments[0],arguments[1],c)}};Zg.N=function(){return Td(qf)};Zg.B=function(a){return a};Zg.j=function(a,b){return Ud(a,b)};
Zg.F=function(a,b,c){for(;;)if(a=Ud(a,b),q(c))b=H(c),c=J(c);else return a};Zg.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};Zg.$=2;var $g=function $g(a){switch(arguments.length){case 3:return $g.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return $g.F(arguments[0],arguments[1],arguments[2],c)}};$g.C=function(a,b,c){return Wd(a,b,c)};
$g.F=function(a,b,c,d){for(;;)if(a=Wd(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};$g.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.F(b,a,c,d)};$g.$=3;
function ah(a,b,c){var d=E(c);if(0===b)return a.N?a.N():a.call(null);c=Vc(d);var e=Wc(d);if(1===b)return a.B?a.B(c):a.call(null,c);d=Vc(e);var f=Wc(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Vc(f);var h=Wc(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=Vc(h);var k=Wc(h);if(4===b)return a.O?a.O(c,d,e,f):a.call(null,c,d,e,f);h=Vc(k);var m=Wc(k);if(5===b)return a.la?a.la(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Vc(m);var n=Wc(m);if(6===b)return a.Za?a.Za(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=Vc(n);var r=Wc(n);if(7===b)return a.Kb?a.Kb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Vc(r);var u=Wc(r);if(8===b)return a.vb?a.vb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);r=Vc(u);var w=Wc(u);if(9===b)return a.Lb?a.Lb(c,d,e,f,h,k,m,n,r):a.call(null,c,d,e,f,h,k,m,n,r);u=Vc(w);var A=Wc(w);if(10===b)return a.zb?a.zb(c,d,e,f,h,k,m,n,r,u):a.call(null,c,d,e,f,h,k,m,n,r,u);w=Vc(A);var G=Wc(A);if(11===b)return a.Ab?a.Ab(c,d,e,f,h,k,m,n,r,u,w):a.call(null,c,d,e,f,h,k,m,n,r,u,w);A=Vc(G);var I=Wc(G);
if(12===b)return a.Bb?a.Bb(c,d,e,f,h,k,m,n,r,u,w,A):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A);G=Vc(I);var F=Wc(I);if(13===b)return a.Cb?a.Cb(c,d,e,f,h,k,m,n,r,u,w,A,G):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G);I=Vc(F);var N=Wc(F);if(14===b)return a.Db?a.Db(c,d,e,f,h,k,m,n,r,u,w,A,G,I):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=Wc(N);if(15===b)return a.Eb?a.Eb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=Wc(O);if(16===b)return a.Fb?a.Fb(c,d,e,f,h,k,m,
n,r,u,w,A,G,I,F,N):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=Wc(U);if(17===b)return a.Gb?a.Gb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=Wc(ea);if(18===b)return a.Hb?a.Hb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=Wc(va);if(19===b)return a.Ib?a.Ib(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);var wa=Vc(va);Wc(va);if(20===b)return a.Jb?
a.Jb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa);throw Error("Only up to 20 arguments supported on functions");}function bh(a){return null!=a&&(a.J&128||l===a.me)?a.Oa(null):E(Fe(a))}function ch(a,b,c){return null==c?a.B?a.B(b):a.call(a,b):dh(a,b,Vc(c),bh(c))}function dh(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):eh(a,b,c,Vc(d),bh(d))}function eh(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):fh(a,b,c,d,Vc(e),bh(e))}
function fh(a,b,c,d,e,f){if(null==f)return a.O?a.O(b,c,d,e):a.call(a,b,c,d,e);var h=Vc(f),k=J(f);if(null==k)return a.la?a.la(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Vc(k);var m=J(k);if(null==m)return a.Za?a.Za(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Vc(m);var n=J(m);if(null==n)return a.Kb?a.Kb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Vc(n);var r=J(n);if(null==r)return a.vb?a.vb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Vc(r);var u=J(r);if(null==u)return a.Lb?a.Lb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);r=Vc(u);var w=J(u);if(null==w)return a.zb?a.zb(b,c,d,e,h,f,k,m,n,r):a.call(a,b,c,d,e,h,f,k,m,n,r);u=Vc(w);var A=J(w);if(null==A)return a.Ab?a.Ab(b,c,d,e,h,f,k,m,n,r,u):a.call(a,b,c,d,e,h,f,k,m,n,r,u);w=Vc(A);var G=J(A);if(null==G)return a.Bb?a.Bb(b,c,d,e,h,f,k,m,n,r,u,w):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w);A=Vc(G);var I=J(G);if(null==I)return a.Cb?a.Cb(b,c,d,e,h,f,k,m,n,r,u,w,A):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A);G=Vc(I);var F=J(I);if(null==F)return a.Db?a.Db(b,c,d,e,h,f,k,m,n,r,u,w,A,G):a.call(a,
b,c,d,e,h,f,k,m,n,r,u,w,A,G);I=Vc(F);var N=J(F);if(null==N)return a.Eb?a.Eb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=J(N);if(null==O)return a.Fb?a.Fb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=J(O);if(null==U)return a.Gb?a.Gb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=J(U);if(null==ea)return a.Hb?a.Hb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O):a.call(a,b,c,d,e,h,f,
k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=J(ea);if(null==va)return a.Ib?a.Ib(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=J(va);if(null==va)return a.Jb?a.Jb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea];for(c=va;;)if(c)b.push(Vc(c)),c=J(c);else break;return a.apply(a,b)}
function Be(a){switch(arguments.length){case 2:return gh(arguments[0],arguments[1]);case 3:return hh(arguments[0],arguments[1],arguments[2]);case 4:return ih(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return jh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new De(b.slice(5),0,null);return kh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function gh(a,b){if(a.ca){var c=a.$,d=Tg(c+1,b);return d<=c?ah(a,d,b):a.ca(b)}b=E(b);return null==b?a.N?a.N():a.call(a):ch(a,Vc(b),bh(b))}function hh(a,b,c){if(a.ca){b=hf(b,c);var d=a.$;c=Tg(d,c)+1;return c<=d?ah(a,c,b):a.ca(b)}return ch(a,b,E(c))}function ih(a,b,c,d){return a.ca?(b=Vg(b,c,d),c=a.$,d=2+Tg(c-1,d),d<=c?ah(a,d,b):a.ca(b)):dh(a,b,c,E(d))}function jh(a,b,c,d,e){return a.ca?(b=hf(b,hf(c,hf(d,e))),c=a.$,e=3+Tg(c-2,e),e<=c?ah(a,e,b):a.ca(b)):eh(a,b,c,d,E(e))}
function kh(a,b,c,d,e,f){return a.ca?(f=Ug(f),b=hf(b,hf(c,hf(d,hf(e,f)))),c=a.$,f=4+Tg(c-3,f),f<=c?ah(a,f,b):a.ca(b)):fh(a,b,c,d,e,Ug(f))}var lh=function lh(a){switch(arguments.length){case 1:return lh.B(arguments[0]);case 2:return lh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return lh.F(arguments[0],arguments[1],c)}};lh.B=function(){return!1};lh.j=function(a,b){return!D.j(a,b)};
lh.F=function(a,b,c){return yc(ih(D,a,b,c))};lh.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};lh.$=2;function mh(a){return E(a)?a:null}
function nh(){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof hc)hc=function(a){this.Jh=a;this.J=393216;this.T=0},hc.prototype.ea=function(a,b){return new hc(b)},hc.prototype.da=function(){return this.Jh},hc.prototype.ab=function(){return!1},hc.prototype.next=function(){return Error("No such element")},hc.prototype.remove=function(){return Error("Unsupported operation")},hc.Mb=!0,hc.wb="cljs.core/t_cljs$core19705",hc.Wb=function(a){return Jd(a,"cljs.core/t_cljs$core19705")};
return new hc(V)}var oh={},ph={};function qh(a){this.be=oh;this._next=a}qh.prototype.ab=function(){this.be===oh?(this.be=ph,this._next=E(this._next)):this.be===this._next&&(this._next=J(this.be));return null!=this._next};qh.prototype.next=function(){if(this.ab())return this.be=this._next,H(this._next);throw Error("No such element");};qh.prototype.remove=function(){return Error("Unsupported operation")};
function rh(a,b){for(;;){if(null==E(b))return!0;var c=H(b);c=a.B?a.B(c):a.call(null,c);if(q(c))b=J(b);else return!1}}function sh(a,b){for(;;)if(b=E(b)){var c=H(b);c=a.B?a.B(c):a.call(null,c);if(q(c))return c;b=J(b)}else return null}function th(a){if(Of(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.B(a)].join(""));}
function uh(a){return function(){function b(h,k){return yc(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return yc(a.B?a.B(h):a.call(null,h))}function d(){return yc(a.N?a.N():a.call(null))}var e=null,f=function(){function h(m,n,r){var u=null;if(2<arguments.length){u=0;for(var w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new De(w,0,null)}return k.call(this,m,n,u)}function k(m,n,r){return yc(ih(a,m,n,r))}h.$=2;h.ca=function(m){var n=H(m);m=J(m);var r=H(m);m=Fe(m);return k(n,r,m)};
h.F=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var r=Array(arguments.length-2);n<r.length;)r[n]=arguments[n+2],++n;n=new De(r,0,null)}return f.F(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.$=2;e.ca=f.ca;e.N=d;e.B=c;e.j=b;e.F=f.F;return e}()}
function vh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.$=0;b.ca=function(c){E(c);return a};b.F=function(){return a};return b}()}
var wh=function wh(a){switch(arguments.length){case 0:return wh.N();case 1:return wh.B(arguments[0]);case 2:return wh.j(arguments[0],arguments[1]);case 3:return wh.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return wh.F(arguments[0],arguments[1],arguments[2],c)}};wh.N=function(){return dg};wh.B=function(a){return a};
wh.j=function(a,b){return function(){function c(m,n,r){m=b.C?b.C(m,n,r):b.call(null,m,n,r);return a.B?a.B(m):a.call(null,m)}function d(m,n){m=b.j?b.j(m,n):b.call(null,m,n);return a.B?a.B(m):a.call(null,m)}function e(m){m=b.B?b.B(m):b.call(null,m);return a.B?a.B(m):a.call(null,m)}function f(){var m=b.N?b.N():b.call(null);return a.B?a.B(m):a.call(null,m)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+
3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){r=jh(b,r,u,w,A);return a.B?a.B(r):a.call(null,r)}m.$=3;m.ca=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.F=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=
arguments[w+3],++w;w=new De(A,0,null)}return k.F(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.$=3;h.ca=k.ca;h.N=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()};
wh.C=function(a,b,c){return function(){function d(n,r,u){n=c.C?c.C(n,r,u):c.call(null,n,r,u);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function e(n,r){n=c.j?c.j(n,r):c.call(null,n,r);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function f(n){n=c.B?c.B(n):c.call(null,n);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function h(){var n=c.N?c.N():c.call(null);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}var k=null,m=function(){function n(u,
w,A,G){var I=null;if(3<arguments.length){I=0;for(var F=Array(arguments.length-3);I<F.length;)F[I]=arguments[I+3],++I;I=new De(F,0,null)}return r.call(this,u,w,A,I)}function r(u,w,A,G){u=jh(c,u,w,A,G);u=b.B?b.B(u):b.call(null,u);return a.B?a.B(u):a.call(null,u)}n.$=3;n.ca=function(u){var w=H(u);u=J(u);var A=H(u);u=J(u);var G=H(u);u=Fe(u);return r(w,A,G,u)};n.F=r;return n}();k=function(n,r,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,r);case 3:return d.call(this,n,r,u);default:var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.F(n,r,u,A)}throw Error("Invalid arity: "+arguments.length);};k.$=3;k.ca=m.ca;k.N=h;k.B=f;k.j=e;k.C=d;k.F=m.F;return k}()};
wh.F=function(a,b,c,d){var e=Bg(hf(a,hf(b,hf(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=gh(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.B?n.B(k):n.call(null,k);m=J(m)}else return k}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.F=h;return f}()};wh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.F(b,a,c,d)};
wh.$=3;
function xh(a,b){return function(){function c(m,n,r){return a.O?a.O(b,m,n,r):a.call(null,b,m,n,r)}function d(m,n){return a.C?a.C(b,m,n):a.call(null,b,m,n)}function e(m){return a.j?a.j(b,m):a.call(null,b,m)}function f(){return a.B?a.B(b):a.call(null,b)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return kh(a,b,r,u,w,M([A]))}m.$=
3;m.ca=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.F=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.F(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.$=3;h.ca=k.ca;h.N=
f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()}
function yh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.C?a.C(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.j?a.j(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.B?a.B(k):a.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){return jh(a,null==n?b:n,r,u,w)}k.$=3;k.ca=function(n){var r=
H(n);n=J(n);var u=H(n);n=J(n);var w=H(n);n=Fe(n);return m(r,u,w,n)};k.F=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.$=3;f.ca=h.ca;f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
function zh(a){return function(b){return function(){function c(h,k){k=a.B?a.B(k):a.call(null,k);return null==k?h:b.j?b.j(h,k):b.call(null,h,k)}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return b.N?b.N():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.N=e;f.B=d;f.j=c;return f}()}}
function Ah(a,b){return new Jg(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=Ng(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.B?a.B(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Qg(Sg(f),Ah(a,be(c)))}e=function(){var m=H(c);return a.B?a.B(m):a.call(null,m)}();return null==e?Ah(a,Fe(c)):hf(e,Ah(a,Fe(c)))}return null},null,null)}function Bh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.$d=null;this.T=16386;this.J=6455296}g=Bh.prototype;
g.equiv=function(a){return this.aa(null,a)};g.aa=function(a,b){return this===b};g.ub=function(){return this.state};g.da=function(){return this.meta};g.pg=function(a,b,c){this.$d=Q.C(this.$d,b,c);return this};g.qg=function(a,b){return this.$d=R.j(this.$d,b)};g.ia=function(){return ya(this)};function Ch(a){return new Bh(a,null,null)}
function Dh(a,b){if(a instanceof Bh){var c=a.validator;if(null!=c&&!q(c.B?c.B(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.$d)a:for(var d=E(a.$d),e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h),m=P(k,0,null);k=P(k,1,null);k.O?k.O(m,a,c,b):k.call(null,m,a,c,b);h+=1}else if(d=E(d))If(d)?(e=ae(d),d=be(d),m=e,f=K(e),e=m):(e=H(d),m=P(e,0,null),k=P(e,1,null),k.O?k.O(m,a,c,b):k.call(null,m,a,c,b),d=J(d),e=null,f=0),h=0;else break a;return b}return ee(a,
b)}var Eh=function Eh(a){switch(arguments.length){case 2:return Eh.j(arguments[0],arguments[1]);case 3:return Eh.C(arguments[0],arguments[1],arguments[2]);case 4:return Eh.O(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Eh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Eh.j=function(a,b){if(a instanceof Bh){var c=a.state;b=b.B?b.B(c):b.call(null,c);a=Dh(a,b)}else a=fe(a,b);return a};Eh.C=function(a,b,c){if(a instanceof Bh){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=Dh(a,b)}else a=fe(a,b,c);return a};Eh.O=function(a,b,c,d){if(a instanceof Bh){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=Dh(a,b)}else a=fe(a,b,c,d);return a};Eh.F=function(a,b,c,d,e){return a instanceof Bh?Dh(a,jh(b,a.state,c,d,e)):fe(a,b,c,d,e)};
Eh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.F(b,a,c,d,e)};Eh.$=4;function Fh(a){return D.j(a.ub(null),!1)?(Dh(a,!0),!0):!1}function Gh(a){this.state=a;this.J=32768;this.T=0}Gh.prototype.Jc=function(a,b){return this.state=b};Gh.prototype.ub=function(){return this.state};function Hh(a){return new Gh(a)}
function Ih(){var a=Jh,b=Kh;return function(){function c(k,m,n){var r=a.B?a.B(k):a.call(null,k);if(q(r))return r;r=a.B?a.B(m):a.call(null,m);if(q(r))return r;r=a.B?a.B(n):a.call(null,n);if(q(r))return r;k=b.B?b.B(k):b.call(null,k);if(q(k))return k;m=b.B?b.B(m):b.call(null,m);return q(m)?m:b.B?b.B(n):b.call(null,n)}function d(k,m){var n=a.B?a.B(k):a.call(null,k);if(q(n))return n;n=a.B?a.B(m):a.call(null,m);if(q(n))return n;k=b.B?b.B(k):b.call(null,k);return q(k)?k:b.B?b.B(m):b.call(null,m)}function e(k){var m=
a.B?a.B(k):a.call(null,k);return q(m)?m:b.B?b.B(k):b.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){n=f.C(n,r,u);return q(n)?n:sh(function(A){var G=a.B?a.B(A):a.call(null,A);return q(G)?G:b.B?b.B(A):b.call(null,A)},w)}k.$=3;k.ca=function(n){var r=H(n);n=J(n);var u=H(n);n=J(n);var w=H(n);n=Fe(n);return m(r,u,w,n)};
k.F=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.$=3;f.ca=h.ca;f.N=function(){return null};f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
var Lh=function Lh(a){switch(arguments.length){case 1:return Lh.B(arguments[0]);case 2:return Lh.j(arguments[0],arguments[1]);case 3:return Lh.C(arguments[0],arguments[1],arguments[2]);case 4:return Lh.O(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Lh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Lh.B=function(a){return function(b){return function(){function c(k,m){m=a.B?a.B(m):a.call(null,m);return b.j?b.j(k,m):b.call(null,k,m)}function d(k){return b.B?b.B(k):b.call(null,k)}function e(){return b.N?b.N():b.call(null)}var f=null,h=function(){function k(n,r,u){var w=null;if(2<arguments.length){w=0;for(var A=Array(arguments.length-2);w<A.length;)A[w]=arguments[w+2],++w;w=new De(A,0,null)}return m.call(this,n,r,w)}function m(n,r,u){r=hh(a,r,u);return b.j?b.j(n,r):b.call(null,n,r)}k.$=2;k.ca=function(n){var r=
H(n);n=J(n);var u=H(n);n=Fe(n);return m(r,u,n)};k.F=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new De(u,0,null)}return h.F(k,m,r)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ca=h.ca;f.N=e;f.B=d;f.j=c;f.F=h.F;return f}()}};
Lh.j=function(a,b){return new Jg(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=Ng(e),h=0;;)if(h<e)Rg(f,function(){var k=x(d,h);return a.B?a.B(k):a.call(null,k)}()),h+=1;else break;return Qg(Sg(f),Lh.j(a,be(c)))}return hf(function(){var k=H(c);return a.B?a.B(k):a.call(null,k)}(),Lh.j(a,Fe(c)))}return null},null,null)};
Lh.C=function(a,b,c){return new Jg(null,function(){var d=E(b),e=E(c);if(d&&e){var f=H(d);var h=H(e);f=a.j?a.j(f,h):a.call(null,f,h);d=hf(f,Lh.C(a,Fe(d),Fe(e)))}else d=null;return d},null,null)};Lh.O=function(a,b,c,d){return new Jg(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.C?a.C(k,m,n):a.call(null,k,m,n);e=hf(k,Lh.O(a,Fe(e),Fe(f),Fe(h)))}else e=null;return e},null,null)};
Lh.F=function(a,b,c,d,e){return Lh.j(function(f){return gh(a,f)},function k(h){return new Jg(null,function(){var m=Lh.j(E,h);return rh(dg,m)?hf(Lh.j(H,m),k(Lh.j(Fe,m))):null},null,null)}(pf.F(e,d,M([c,b]))))};Lh.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.F(b,a,c,d,e)};Lh.$=4;
var Mh=function Mh(a){switch(arguments.length){case 1:return Mh.B(arguments[0]);case 2:return Mh.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};
Mh.B=function(a){return function(b){var c=Hh(a);return function(){function d(k,m){var n=y(c),r=c.Jc(null,c.ub(null)-1);k=0<n?b.j?b.j(k,m):b.call(null,k,m):k;return 0<r?k:Re(k)?k:Qe(k)}function e(k){return b.B?b.B(k):b.call(null,k)}function f(){return b.N?b.N():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.N=f;h.B=e;h.j=d;return h}()}};
Mh.j=function(a,b){return new Jg(null,function(){if(0<a){var c=E(b);return c?hf(H(c),Mh.j(a-1,Fe(c))):null}return null},null,null)};Mh.$=2;function Nh(a,b){return new Jg(null,function(){a:for(var c=a,d=b;;)if(d=E(d),0<c&&d)--c,d=Fe(d);else break a;return d},null,null)}function Oh(a,b){return Lh.C(function(c){return c},b,Nh(a,b))}
function Ph(a,b){return new Jg(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=H(d),e=c.B?c.B(e):c.call(null,e);if(q(e))d=Fe(d);else break a}return d},null,null)}function Qh(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.I=null;this.J=32374988;this.T=1}g=Qh.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){return null==this.next?1<this.count?this.next=new Qh(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Pe=function(){return!1};g.Ta=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(Re(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};
g.Ua=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(Re(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};g.Va=function(){return this.val};g.eb=function(){return null==this.next?1<this.count?this.next=new Qh(null,this.count-1,this.val,null):-1===this.count?this:Ge:this.next};g.ga=function(){return this};
g.ea=function(a,b){return b===this.meta?this:new Qh(b,this.count,this.val,this.next)};g.ja=function(a,b){return hf(b,this)};function Rh(a){return new Qh(null,-1,a,null)}function Sh(a,b){return 0<a?new Qh(null,a,b,null):Ge}function Th(a){return new Jg(null,function(){return hf(a.N?a.N():a.call(null),Th(a))},null,null)}function Uh(a,b){return Mh.j(a,Th(b))}
var Vh=function Vh(a){switch(arguments.length){case 0:return Vh.N();case 1:return Vh.B(arguments[0]);case 2:return Vh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Vh.F(arguments[0],arguments[1],c)}};Vh.N=function(){return Ge};Vh.B=function(a){return new Jg(null,function(){return a},null,null)};
Vh.j=function(a,b){return new Jg(null,function(){var c=E(a),d=E(b);return c&&d?hf(H(c),hf(H(d),Vh.j(Fe(c),Fe(d)))):null},null,null)};Vh.F=function(a,b,c){return new Jg(null,function(){var d=Lh.j(E,pf.F(c,b,M([a])));return rh(dg,d)?T.j(Lh.j(H,d),gh(Vh,Lh.j(Fe,d))):null},null,null)};Vh.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};Vh.$=2;
function Wh(){return function(a){var b=Hh(!1);return function(){function c(h,k){if(q(y(b)))return h=a.j?a.j(h," "):a.call(null,h," "),Re(h)?h:a.j?a.j(h,k):a.call(null,h,k);he(b,!0);return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.N?a.N():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.N=
e;f.B=d;f.j=c;return f}()}}function Xh(a,b){return gh(T,hh(Lh,a,b))}
function Yh(a){return function(b){return function(){function c(h,k){return q(a.B?a.B(k):a.call(null,k))?b.j?b.j(h,k):b.call(null,h,k):h}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return b.N?b.N():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.N=e;f.B=d;f.j=c;return f}()}}
function Zh(a,b){return new Jg(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=Ng(e),h=0;;)if(h<e){var k=x(d,h);k=a.B?a.B(k):a.call(null,k);q(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Qg(Sg(f),Zh(a,be(c)))}d=H(c);c=Fe(c);return q(a.B?a.B(d):a.call(null,d))?hf(d,Zh(a,c)):Zh(a,c)}return null},null,null)}function $h(a,b){return Zh(uh(a),b)}
var ai=function ai(a){switch(arguments.length){case 0:return ai.N();case 1:return ai.B(arguments[0]);case 2:return ai.j(arguments[0],arguments[1]);case 3:return ai.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ai.N=function(){return qf};ai.B=function(a){return a};ai.j=function(a,b){return null!=a?null!=a&&(a.T&4||l===a.kg)?rd(Vd(v.C(Ud,Td(a),b)),yf(a)):v.C(Rc,a,b):v.C(pf,a,b)};
ai.C=function(a,b,c){return null!=a&&(a.T&4||l===a.kg)?rd(Vd(gg(b,Zg,Td(a),c)),yf(a)):gg(b,pf,a,c)};ai.$=3;
var bi=function bi(a){switch(arguments.length){case 2:return bi.j(arguments[0],arguments[1]);case 3:return bi.C(arguments[0],arguments[1],arguments[2]);case 4:return bi.O(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return bi.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
bi.j=function(a,b){return Vd(v.C(function(c,d){return Zg.j(c,a.B?a.B(d):a.call(null,d))},Td(qf),b))};bi.C=function(a,b,c){return ai.j(qf,Lh.C(a,b,c))};bi.O=function(a,b,c,d){return ai.j(qf,Lh.O(a,b,c,d))};bi.F=function(a,b,c,d,e){return ai.j(qf,kh(Lh,a,b,c,d,M([e])))};bi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.F(b,a,c,d,e)};bi.$=4;function ci(a,b){return Vd(v.C(function(c,d){return q(a.B?a.B(d):a.call(null,d))?Zg.j(c,d):c},Td(qf),b))}
function di(a,b,c){return new Jg(null,function(){var d=E(c);if(d){var e=Mh.j(a,d);return a===K(e)?hf(e,di(a,b,Nh(b,d))):null}return null},null,null)}function ei(a,b){return v.C(B,a,b)}function fi(a,b,c){var d=Kf;for(b=E(b);;)if(null!=b){a=B.C(a,H(b),d);if(d===a)return c;b=J(b)}else return a}
var gi=function gi(a,b,c){b=E(b);var e=H(b),f=J(b);return f?Q.C(a,e,function(){var h=B.j(a,e);return gi.C?gi.C(h,f,c):gi.call(null,h,f,c)}()):Q.C(a,e,c)},hi=function hi(a){switch(arguments.length){case 3:return hi.C(arguments[0],arguments[1],arguments[2]);case 4:return hi.O(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return hi.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return hi.Za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return hi.F(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};hi.C=function(a,b,c){b=E(b);var d=H(b);return(b=J(b))?Q.C(a,d,hi.C(B.j(a,d),b,c)):Q.C(a,d,function(){var e=B.j(a,d);return c.B?c.B(e):c.call(null,e)}())};
hi.O=function(a,b,c,d){b=E(b);var e=H(b);return(b=J(b))?Q.C(a,e,hi.O(B.j(a,e),b,c,d)):Q.C(a,e,function(){var f=B.j(a,e);return c.j?c.j(f,d):c.call(null,f,d)}())};hi.la=function(a,b,c,d,e){b=E(b);var f=H(b);return(b=J(b))?Q.C(a,f,hi.la(B.j(a,f),b,c,d,e)):Q.C(a,f,function(){var h=B.j(a,f);return c.C?c.C(h,d,e):c.call(null,h,d,e)}())};
hi.Za=function(a,b,c,d,e,f){b=E(b);var h=H(b);return(b=J(b))?Q.C(a,h,hi.Za(B.j(a,h),b,c,d,e,f)):Q.C(a,h,function(){var k=B.j(a,h);return c.O?c.O(k,d,e,f):c.call(null,k,d,e,f)}())};hi.F=function(a,b,c,d,e,f,h){var k=E(b);b=H(k);return(k=J(k))?Q.C(a,b,kh(hi,B.j(a,b),k,c,d,M([e,f,h]))):Q.C(a,b,kh(c,B.j(a,b),d,e,f,M([h])))};hi.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.F(b,a,c,d,e,f,h)};hi.$=6;
var ii=function ii(a){switch(arguments.length){case 3:return ii.C(arguments[0],arguments[1],arguments[2]);case 4:return ii.O(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ii.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ii.Za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return ii.F(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ii.C=function(a,b,c){return Q.C(a,b,function(){var d=B.j(a,b);return c.B?c.B(d):c.call(null,d)}())};ii.O=function(a,b,c,d){return Q.C(a,b,function(){var e=B.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};ii.la=function(a,b,c,d,e){return Q.C(a,b,function(){var f=B.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};ii.Za=function(a,b,c,d,e,f){return Q.C(a,b,function(){var h=B.j(a,b);return c.O?c.O(h,d,e,f):c.call(null,h,d,e,f)}())};
ii.F=function(a,b,c,d,e,f,h){return Q.C(a,b,kh(c,B.j(a,b),d,e,f,M([h])))};ii.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.F(b,a,c,d,e,f,h)};ii.$=6;function ji(a,b){this.Na=a;this.K=b}function ki(a){return new ji(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function li(a){return new ji(a.Na,Hc(a.K))}function mi(a){a=a.Y;return 32>a?0:a-1>>>5<<5}function ni(a,b,c){for(;;){if(0===b)return c;var d=ki(a);d.K[0]=c;c=d;b-=5}}var oi=function oi(a,b,c,d){var f=li(c),h=a.Y-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=oi.O?oi.O(a,b,c,d):oi.call(null,a,b,c,d)):a=ni(null,b-5,d),f.K[h]=a);return f};function pi(a,b){throw Error(["No item ",t.B(a)," in vector of length ",t.B(b)].join(""));}
function qi(a,b){if(b>=mi(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function ri(a,b){return 0<=b&&b<a.Y?qi(a,b):pi(b,a.Y)}
var si=function si(a,b,c,d,e){var h=li(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=si.la?si.la(a,b,c,d,e):si.call(null,a,b,c,d,e);h.K[k]=a}return h},ti=function ti(a,b,c){var e=a.Y-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=ti.C?ti.C(a,b,f):ti.call(null,a,b,f);if(null==a&&0===e)return null;c=li(c);c.K[e]=a;return c}if(0===e)return null;c=li(c);c.K[e]=null;return c};function ui(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
ui.prototype.ab=function(){return this.i<this.end};ui.prototype.next=function(){32===this.i-this.base&&(this.K=qi(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function vi(a,b,c){return new ui(b,b-b%32,b<K(a)?qi(a,b):null,a,b,c)}function wi(a,b,c,d){return c<d?xi(a,b,bf(a,c),c+1,d):b.N?b.N():b.call(null)}
function xi(a,b,c,d,e){var f=c;c=d;for(d=qi(a,d);;)if(c<e){var h=c&31;d=0===h?qi(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Re(f))return y(f);c+=1}else return f}function W(a,b,c,d,e,f){this.meta=a;this.Y=b;this.shift=c;this.root=d;this.tail=e;this.I=f;this.J=167666463;this.T=139268}g=W.prototype;g.cd=function(a,b){return 0<=b&&b<this.Y?new X(b,qi(this,b)[b&31]):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return"number"===typeof b?this.Sa(null,b,c):c};
g.ua=function(a,b,c){a=0;for(var d=c;;)if(a<this.Y){var e=qi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.pf=l;g.xa=function(a,b){return ri(this,b)[b&31]};g.Sa=function(a,b,c){return 0<=b&&b<this.Y?qi(this,b)[b&31]:c};
g.Ic=function(a,b,c){if(0<=b&&b<this.Y)return mi(this)<=b?(a=Hc(this.tail),a[b&31]=c,new W(this.meta,this.Y,this.shift,this.root,a,null)):new W(this.meta,this.Y,this.shift,si(this,this.shift,this.root,b,c),this.tail,null);if(b===this.Y)return this.ja(null,c);throw Error(["Index ",t.B(b)," out of bounds  [0,",t.B(this.Y),"]"].join(""));};g.na=function(){return vi(this,0,this.Y)};g.da=function(){return this.meta};g.ha=function(){return this.Y};
g.dd=function(){return 0<this.Y?this.xa(null,this.Y-1):null};g.ed=function(){if(0===this.Y)throw Error("Can't pop empty vector");if(1===this.Y)return rd(qf,this.meta);if(1<this.Y-mi(this))return new W(this.meta,this.Y-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=qi(this,this.Y-2),b=ti(this,this.shift,this.root);b=null==b?Y:b;var c=this.Y-1;return 5<this.shift&&null==b.K[1]?new W(this.meta,c,this.shift-5,b.K[0],a,null):new W(this.meta,c,this.shift,b,a,null)};
g.vc=function(){return 0<this.Y?new ff(this,this.Y-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){if(b instanceof W)if(this.Y===K(b))for(a=this.na(null),b=b.na(null);;)if(a.ab()){var c=a.next(),d=b.next();if(!D.j(c,d))return!1}else return!0;else return!1;else return gf(this,b)};g.vd=function(){return new yi(this.Y,this.shift,zi.B?zi.B(this.root):zi.call(null,this.root),Ai.B?Ai.B(this.tail):Ai.call(null,this.tail))};g.Ka=function(){return rd(qf,this.meta)};
g.Ta=function(a,b){return wi(this,b,0,this.Y)};g.Ua=function(a,b,c){a=0;for(var d=c;;)if(a<this.Y){var e=qi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.ba=function(a,b,c){if("number"===typeof b)return this.Ic(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ga=function(){if(0===this.Y)return null;if(32>=this.Y)return new De(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return Bi?Bi(this,a,0,0):Ci.call(null,this,a,0,0)};g.ea=function(a,b){return b===this.meta?this:new W(b,this.Y,this.shift,this.root,this.tail,this.I)};
g.ja=function(a,b){if(32>this.Y-mi(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new W(this.meta,this.Y+1,this.shift,this.root,c,null)}a=(c=this.Y>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=ki(null),c.K[0]=this.root,d=ni(null,this.shift,new ji(null,this.tail)),c.K[1]=d):c=oi(this,this.shift,this.root,new ji(null,this.tail));return new W(this.meta,this.Y+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Sa(null,a,b)};
var Y=new ji(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),qf=new W(null,0,5,Y,[],Le);function Di(a,b){var c=a.length;a=b?a:Hc(a);if(32>c)return new W(null,c,5,Y,a,null);var d=a.slice(0,32);b=32;for(var e=(new W(null,32,5,Y,d,null)).vd(null);;)if(b<c)d=b+1,e=Zg.j(e,a[b]),b=d;else return Vd(e)}W.prototype[Ec]=function(){return Ie(this)};
function Yf(a){return q(Ei.B?Ei.B(a):Ei.call(null,a))?new W(null,2,5,Y,[Fi.B?Fi.B(a):Fi.call(null,a),Gi.B?Gi.B(a):Gi.call(null,a)],null):Hf(a)?xf(a,null):wc(a)?Di(a,!0):Vd(v.C(Ud,Td(qf),a))}var Hi=function Hi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Hi.F(c)};Hi.F=function(a){return a instanceof De&&0===a.i?Di(a.K,!wc(a.K)):Yf(a)};Hi.$=0;Hi.ca=function(a){return this.F(E(a))};
function Ii(a,b,c,d,e){this.mc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.I=null;this.J=32375020;this.T=1536}g=Ii.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){if(this.off+1<this.node.length){var a=this.mc;var b=this.node,c=this.i,d=this.off+1;a=Bi?Bi(a,b,c,d):Ci.call(null,a,b,c,d);return null==a?null:a}return this.fe()};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return wi(this.mc,b,this.i+this.off,K(this.mc))};g.Ua=function(a,b,c){return xi(this.mc,b,c,this.i+this.off,K(this.mc))};g.Va=function(){return this.node[this.off]};g.eb=function(){if(this.off+1<this.node.length){var a=this.mc;var b=this.node,c=this.i,d=this.off+1;a=Bi?Bi(a,b,c,d):Ci.call(null,a,b,c,d);return null==a?Ge:a}return this.Dd(null)};g.ga=function(){return this};
g.ge=function(){var a=this.node;return new Mg(a,this.off,a.length)};g.Dd=function(){var a=this.i+this.node.length;if(a<Nc(this.mc)){var b=this.mc,c=qi(this.mc,a);return Bi?Bi(b,c,a,0):Ci.call(null,b,c,a,0)}return Ge};g.ea=function(a,b){return b===this.meta?this:Ji?Ji(this.mc,this.node,this.i,this.off,b):Ci.call(null,this.mc,this.node,this.i,this.off,b)};g.ja=function(a,b){return hf(b,this)};
g.fe=function(){var a=this.i+this.node.length;if(a<Nc(this.mc)){var b=this.mc,c=qi(this.mc,a);return Bi?Bi(b,c,a,0):Ci.call(null,b,c,a,0)}return null};Ii.prototype[Ec]=function(){return Ie(this)};
function Ci(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ii(b,ri(b,c),c,d,null);case 4:return Bi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ji(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function Bi(a,b,c,d){return new Ii(a,b,c,d,null)}function Ji(a,b,c,d,e){return new Ii(a,b,c,d,e)}
function Ki(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.I=e;this.J=167666463;this.T=139264}g=Ki.prototype;g.cd=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new X(b,ad(this.v,a)):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return"number"===typeof b?this.Sa(null,b,c):c};
g.ua=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=1;a+=1}else return c};g.xa=function(a,b){return 0>b||this.end<=this.start+b?pi(b,this.end-this.start):x(this.v,this.start+b)};g.Sa=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Ic=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.B(b)," out of bounds [0,",t.B(this.ha(null)),"]"].join(""));b=this.meta;c=Q.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Li.la?Li.la(b,c,d,a,null):Li.call(null,b,c,d,a,null)};g.na=function(){return null!=this.v&&l===this.v.pf?vi(this.v,this.start,this.end):new qh(this)};g.da=function(){return this.meta};g.ha=function(){return this.end-this.start};
g.dd=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.ed=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Li.la?Li.la(a,b,c,d,null):Li.call(null,a,b,c,d,null)};g.vc=function(){return this.start!==this.end?new ff(this,this.end-this.start-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(qf,this.meta)};
g.Ta=function(a,b){return null!=this.v&&l===this.v.pf?wi(this.v,b,this.start,this.end):Ue(this,b)};g.Ua=function(a,b,c){return null!=this.v&&l===this.v.pf?xi(this.v,b,c,this.start,this.end):Ve(this,b,c)};g.ba=function(a,b,c){if("number"===typeof b)return this.Ic(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ga=function(){var a=this;return function d(c){return c===a.end?null:hf(x(a.v,c),new Jg(null,function(){return d(c+1)},null,null))}(a.start)};
g.ea=function(a,b){return b===this.meta?this:Li.la?Li.la(b,this.v,this.start,this.end,this.I):Li.call(null,b,this.v,this.start,this.end,this.I)};g.ja=function(a,b){a=this.meta;b=nd(this.v,this.end,b);var c=this.start,d=this.end+1;return Li.la?Li.la(a,b,c,d,null):Li.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Sa(null,a,b)};Ki.prototype[Ec]=function(){return Ie(this)};function Li(a,b,c,d,e){for(;;)if(b instanceof Ki)c=b.start+c,d=b.start+d,b=b.v;else{if(!Hf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new Ki(a,b,c,d,e)}}function Mi(a,b,c){return Li(null,a,b|0,c|0,null)}
function Ni(a,b){return a===b.Na?b:new ji(a,Hc(b.K))}function zi(a){return new ji({},Hc(a.K))}function Ai(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Jf(a,0,b,0,a.length);return b}var Oi=function Oi(a,b,c,d){c=Ni(a.root.Na,c);var f=a.Y-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=Oi.O?Oi.O(a,b,h,d):Oi.call(null,a,b,h,d)):a=ni(a.root.Na,b-5,d)}c.K[f]=a;return c};
function yi(a,b,c,d){this.Y=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.J=275}g=yi.prototype;
g.wd=function(a,b){if(this.root.Na){if(32>this.Y-mi(this))this.tail[this.Y&31]=b;else{a=new ji(this.root.Na,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.Y>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=ni(this.root.Na,this.shift,a),this.root=new ji(this.root.Na,b),this.shift=c):this.root=Oi(this,this.shift,this.root,a)}this.Y+=1;return this}throw Error("conj! after persistent!");};g.Ed=function(){if(this.root.Na){this.root.Na=null;var a=this.Y-mi(this),b=Array(a);Jf(this.tail,0,b,0,a);return new W(null,this.Y,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Rd=function(a,b,c){if("number"===typeof b)return Pi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Pi(a,b,c){if(a.root.Na){if(0<=b&&b<a.Y){if(mi(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Ni(a.root.Na,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.Y)return a.wd(null,c);throw Error(["Index ",t.B(b)," out of bounds for TransientVector of length",t.B(a.Y)].join(""));}throw Error("assoc! after persistent!");}g.ha=function(){if(this.root.Na)return this.Y;throw Error("count after persistent!");};
g.xa=function(a,b){if(this.root.Na)return ri(this,b)[b&31];throw Error("nth after persistent!");};g.Sa=function(a,b,c){return 0<=b&&b<this.Y?this.xa(null,b):c};g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){if(this.root.Na)return"number"===typeof b?this.Sa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ka(null,a)};g.j=function(a,b){return this.P(null,a,b)};function Qi(a,b){this.Td=a;this.He=b}Qi.prototype.ab=function(){var a=null!=this.Td&&E(this.Td);return a?a:null!=this.He?this.He.ab():!1};
Qi.prototype.next=function(){if(null!=this.Td){var a=H(this.Td);this.Td=J(this.Td);return a}if(null!=this.He&&this.He.ab())return this.He.next();throw Error("No such element");};Qi.prototype.remove=function(){return Error("Unsupported operation")};function Ri(a,b,c,d){this.meta=a;this.Xb=b;this.lc=c;this.I=d;this.J=31850700;this.T=0}g=Ri.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){var a=J(this.Xb);return a?new Ri(this.meta,a,this.lc,null):null!=this.lc?new Ri(this.meta,this.lc,null,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(Ge,this.meta)};g.Va=function(){return H(this.Xb)};g.eb=function(){var a=J(this.Xb);return a?new Ri(this.meta,a,this.lc,null):null==this.lc?this.Ka(null):new Ri(this.meta,this.lc,null,null)};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Ri(b,this.Xb,this.lc,this.I)};g.ja=function(a,b){return hf(b,this)};Ri.prototype[Ec]=function(){return Ie(this)};
function Si(a,b,c,d,e){this.meta=a;this.count=b;this.Xb=c;this.lc=d;this.I=e;this.T=139264;this.J=31858766}g=Si.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count.B?this.count.B(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.na=function(){return new Qi(this.Xb,je(this.lc))};g.da=function(){return this.meta};g.ha=function(){return this.count};g.dd=function(){return H(this.Xb)};
g.ed=function(){if(q(this.Xb)){var a=J(this.Xb);return a?new Si(this.meta,this.count-1,a,this.lc,null):new Si(this.meta,this.count-1,E(this.lc),qf,null)}return this};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return rd(Ti,this.meta)};g.Va=function(){return H(this.Xb)};g.eb=function(){return Fe(E(this))};g.ga=function(){var a=E(this.lc),b=this.Xb;return q(q(b)?b:a)?new Ri(null,this.Xb,E(a),null):null};
g.ea=function(a,b){return b===this.meta?this:new Si(b,this.count,this.Xb,this.lc,this.I)};g.ja=function(a,b){q(this.Xb)?(a=this.lc,b=new Si(this.meta,this.count+1,this.Xb,pf.j(q(a)?a:qf,b),null)):b=new Si(this.meta,this.count+1,pf.j(this.Xb,b),qf,null);return b};var Ti=new Si(null,0,null,qf,Le);Si.prototype[Ec]=function(){return Ie(this)};function Ui(){this.J=2097152;this.T=0}Ui.prototype.equiv=function(a){return this.aa(null,a)};Ui.prototype.aa=function(){return!1};var Vi=new Ui;
function Wi(a,b){return Mf(Ff(b)&&!Gf(b)?K(a)===K(b)?(null!=a?a.J&1048576||l===a.Ai||(a.J?0:Ac(vd,a)):Ac(vd,a))?cg(function(c,d,e){return D.j(B.C(b,d,Vi),e)?!0:Qe(!1)},!0,a):rh(function(c){return D.j(B.C(b,H(c),Vi),mf(c))},a):null:null)}function Xi(a,b,c,d){this.i=0;this.mi=a;this.dg=b;this.fields=c;this.zg=d}Xi.prototype.ab=function(){var a=this.i<this.dg;return a?a:this.zg.ab()};Xi.prototype.next=function(){if(this.i<this.dg){var a=bf(this.fields,this.i);this.i+=1;return new X(a,ad(this.mi,a))}return this.zg.next()};
Xi.prototype.remove=function(){return Error("Unsupported operation")};function Yi(a){this.s=a}Yi.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=P(a,0,null);a=P(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Zi(a){this.s=a}Zi.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function $i(a,b){if(b instanceof C)a:{var c=a.length;b=b.ma;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].ma){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof z)a:for(c=a.length,b=b.$c,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof z&&b===a[d].$c){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(D.j(b,a[d])){a=d;break a}d+=2}return a}function X(a,b){this.key=a;this.val=b;this.I=null;this.J=166619935;this.T=0}g=X.prototype;g.cd=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ka=function(a,b){return this.Sa(null,b,null)};g.P=function(a,b,c){return this.Sa(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Sa=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Ic=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Ic(null,b,c)};g.da=function(){return null};g.ha=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.dd=function(){return this.val};g.ed=function(){return new W(null,1,5,Y,[this.key],null)};g.vc=function(){return new De([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return null};g.Ta=function(a,b){return Ue(this,b)};g.Ua=function(a,b,c){return Ve(this,b,c)};g.ba=function(a,b,c){return Q.C(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ga=function(){return new De([this.key,this.val],0,null)};g.ea=function(a,b){return xf(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ja=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Sa(null,a,b)};function Ei(a){return null!=a?a.J&2048||l===a.Di?!0:!1:!1}function aj(a,b,c){this.K=a;this.i=b;this.sc=c;this.J=32374990;this.T=0}g=aj.prototype;
g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.sc};g.Oa=function(){return this.i<this.K.length-2?new aj(this.K,this.i+2,null):null};g.ha=function(){return(this.K.length-this.i)/2};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return new X(this.K[this.i],this.K[this.i+1])};g.eb=function(){return this.i<this.K.length-2?new aj(this.K,this.i+2,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.sc?this:new aj(this.K,this.i,b)};g.ja=function(a,b){return hf(b,this)};aj.prototype[Ec]=function(){return Ie(this)};
function bj(a,b){this.K=a;this.i=0;this.Y=b}bj.prototype.ab=function(){return this.i<this.Y};bj.prototype.next=function(){var a=new X(this.K[this.i],this.K[this.i+1]);this.i+=2;return a};function p(a,b,c,d){this.meta=a;this.Y=b;this.K=c;this.I=d;this.J=16647951;this.T=139268}g=p.prototype;g.cd=function(a,b){a=$i(this.K,b);return-1===a?null:new X(this.K[a],this.K[a+1])};g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.keys=function(){return Ie(cj.B?cj.B(this):cj.call(null,this))};g.entries=function(){return new Yi(E(E(this)))};g.values=function(){return Ie(dj.B?dj.B(this):dj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.P(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){a=$i(this.K,b);return-1===a?c:this.K[a+1]};
g.ua=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=2}else return c};g.na=function(){return new bj(this.K,2*this.Y)};g.da=function(){return this.meta};g.ha=function(){return this.Y};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Me(this)};
g.aa=function(a,b){if(Ff(b)&&!Gf(b))if(a=this.K.length,this.Y===b.ha(null))for(var c=0;;)if(c<a){var d=b.P(null,this.K[c],Kf);if(d!==Kf)if(D.j(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.vd=function(){return new ej(this.K.length,Hc(this.K))};g.Ka=function(){return rd(V,this.meta)};g.Ta=function(a,b){return ag(this,b)};g.Ua=function(a,b,c){return bg(this,b,c)};
g.wa=function(a,b){if(0<=$i(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Ka(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new p(this.meta,this.Y-1,c,null);D.j(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.ba=function(a,b,c){a=$i(this.K,b);if(-1===a){if(this.Y<fj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new p(this.meta,this.Y+1,e,null)}return rd(cd(ai.j(gj,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=Hc(this.K);b[a+1]=c;return new p(this.meta,this.Y,b,null)};g.ga=function(){var a=this.K;return 0<=a.length-2?new aj(a,0,null):null};g.ea=function(a,b){return b===this.meta?this:new p(b,this.Y,this.K,this.I)};
g.ja=function(a,b){if(Hf(b))return this.ba(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.B=function(a){return this.ka(null,a)};g.j=function(a,b){return this.P(null,a,b)};var V=new p(null,0,[],Ne),fj=8;function uf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=$i(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new p(null,b.length/2,b,null)}p.prototype[Ec]=function(){return Ie(this)};function ej(a,b){this.Hd={};this.Oc=a;this.K=b;this.J=259;this.T=56}g=ej.prototype;
g.ha=function(){if(this.Hd)return ug(this.Oc,2);throw Error("count after persistent!");};g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){if(this.Hd)return a=$i(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.wd=function(a,b){if(this.Hd){if(Ei(b))return this.Rd(null,Fi.B?Fi.B(b):Fi.call(null,b),Gi.B?Gi.B(b):Gi.call(null,b));if(Hf(b))return this.Rd(null,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));a=E(b);for(b=this;;){var c=H(a);if(q(c))a=J(a),b=Wd(b,Fi.B?Fi.B(c):Fi.call(null,c),Gi.B?Gi.B(c):Gi.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Ed=function(){if(this.Hd)return this.Hd=!1,new p(null,ug(this.Oc,2),this.K,null);throw Error("persistent! called twice");};
g.Rd=function(a,b,c){if(this.Hd){a=$i(this.K,b);if(-1===a)return this.Oc+2<=2*fj?(this.Oc+=2,this.K.push(b),this.K.push(c),this):$g.C(hj.j?hj.j(this.Oc,this.K):hj.call(null,this.Oc,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.vf=function(a,b){if(this.Hd)return a=$i(this.K,b),0<=a&&(this.K[a]=this.K[this.Oc-2],this.K[a+1]=this.K[this.Oc-1],a=this.K,a.pop(),a.pop(),this.Oc-=2),this;throw Error("dissoc! after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.P(null,a,null)};g.j=function(a,b){return this.P(null,a,b)};function hj(a,b){for(var c=Td(gj),d=0;;)if(d<a)c=$g.C(c,b[d],b[d+1]),d+=2;else return c}function ij(){this.val=!1}
function jj(a,b){return a===b?!0:S(a,b)?!0:D.j(a,b)}function kj(a,b,c){a=Hc(a);a[b]=c;return a}function lj(a,b){var c=Array(a.length-2);Jf(a,0,c,0,2*b);Jf(a,2*(b+1),c,2*b,c.length-2*b);return c}function pj(a,b,c,d){a=a.kd(b);a.K[c]=d;return a}function qj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Md(b,f):f;if(Re(c))return c;e+=2;f=c}else return f}function rj(a){this.K=a;this.i=0;this.Qc=this.Fe=null}
rj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.Fe=new X(b,c):null!=c?(b=je(c),b=b.ab()?this.Qc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};rj.prototype.ab=function(){var a=null!=this.Fe;return a?a:(a=null!=this.Qc)?a:this.advance()};
rj.prototype.next=function(){if(null!=this.Fe){var a=this.Fe;this.Fe=null;return a}if(null!=this.Qc)return a=this.Qc.next(),this.Qc.ab()||(this.Qc=null),a;if(this.advance())return this.next();throw Error("No such element");};rj.prototype.remove=function(){return Error("Unsupported operation")};function sj(a,b,c){this.Na=a;this.bitmap=b;this.K=c;this.T=131072;this.J=0}g=sj.prototype;
g.kd=function(a){if(a===this.Na)return this;var b=wg(this.bitmap),c=Array(0>b?4:2*(b+1));Jf(this.K,0,c,0,2*b);return new sj(a,this.bitmap,c)};g.De=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=wg(this.bitmap&f-1),k=this.K[2*h],m=this.K[2*h+1];return null==k?(b=m.De(a,b+5,c,d,e),b===m?this:null!=b?pj(this,a,2*h+1,b):this.bitmap===f?null:tj(this,a,f,h)):jj(d,k)?(e.val=!0,tj(this,a,f,h)):this};
function tj(a,b,c,d){if(a.bitmap===c)return null;a=a.kd(b);b=a.K;var e=b.length;a.bitmap^=c;Jf(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.Be=function(){return uj?uj(this.K):vj.call(null,this.K)};g.Md=function(a,b){return qj(this.K,a,b)};g.Ld=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=wg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Ld(a+5,b,c,d):jj(c,e)?f:d};
g.Nc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=wg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=wg(this.bitmap);if(2*m<this.K.length){a=this.kd(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=wj.Nc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?wj.Nc(a,b+5,ve(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new xj(a,m+1,k)}b=Array(2*(m+4));Jf(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Jf(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.kd(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Nc(a,b+5,c,d,e,f),m===h?this:pj(this,a,2*k+1,m);if(jj(d,m))return e===h?this:pj(this,a,2*k+1,e);f.val=!0;f=b+5;d=yj?yj(a,f,m,h,c,d,e):zj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.kd(a);a.K[e]=null;a.K[k]=d;return a};
g.Mc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=wg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=wg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=wj.Mc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?wj.Mc(a+5,ve(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new xj(null,k+1,h)}a=Array(2*
(k+1));Jf(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Jf(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new sj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Mc(a+5,b,c,d,e),k===f?this:new sj(null,this.bitmap,kj(this.K,2*h+1,k));if(jj(c,m))return d===f?this:new sj(null,this.bitmap,kj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=Aj?Aj(a,m,f,b,c,d):zj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Hc(k);d[c]=null;d[h]=a;return new sj(null,e,d)};
g.Ae=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=wg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Ae(a+5,b,c,d):jj(c,e)?new X(e,f):d};
g.Ce=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=wg(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.Ce(a+5,b,c),a===h?this:null!=a?new sj(null,this.bitmap,kj(this.K,2*e+1,a)):this.bitmap===d?null:new sj(null,this.bitmap^d,lj(this.K,e))):jj(c,f)?new sj(null,this.bitmap^d,lj(this.K,e)):this};g.na=function(){return new rj(this.K)};var wj=new sj(null,0,[]);
function Bj(a,b,c){var d=a.K,e=d.length;a=Array(2*(a.Y-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new sj(b,k,a)}function Cj(a){this.K=a;this.i=0;this.Qc=null}Cj.prototype.ab=function(){for(var a=this.K.length;;){if(null!=this.Qc&&this.Qc.ab())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Qc=je(b))}else return!1}};Cj.prototype.next=function(){if(this.ab())return this.Qc.next();throw Error("No such element");};
Cj.prototype.remove=function(){return Error("Unsupported operation")};function xj(a,b,c){this.Na=a;this.Y=b;this.K=c;this.T=131072;this.J=0}g=xj.prototype;g.kd=function(a){return a===this.Na?this:new xj(a,this.Y,Hc(this.K))};g.De=function(a,b,c,d,e){var f=c>>>b&31,h=this.K[f];if(null==h)return this;b=h.De(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.Y)return Bj(this,a,f);a=pj(this,a,f,b);--a.Y;return a}return pj(this,a,f,b)};g.Be=function(){return Dj?Dj(this.K):Ej.call(null,this.K)};
g.Md=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Md(a,b);if(Re(b))return b;d+=1}else d+=1}else return b};g.Ld=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Ld(a+5,b,c,d):d};g.Nc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=pj(this,a,h,wj.Nc(a,b+5,c,d,e,f)),a.Y+=1,a;b=k.Nc(a,b+5,c,d,e,f);return b===k?this:pj(this,a,h,b)};
g.Mc=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new xj(null,this.Y+1,kj(this.K,f,wj.Mc(a+5,b,c,d,e)));a=h.Mc(a+5,b,c,d,e);return a===h?this:new xj(null,this.Y,kj(this.K,f,a))};g.Ae=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Ae(a+5,b,c,d):d};g.Ce=function(a,b,c){var d=b>>>a&31,e=this.K[d];return null!=e?(a=e.Ce(a+5,b,c),a===e?this:null==a?8>=this.Y?Bj(this,null,d):new xj(null,this.Y-1,kj(this.K,d,a)):new xj(null,this.Y,kj(this.K,d,a))):this};g.na=function(){return new Cj(this.K)};
function Fj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(jj(c,a[d]))return d;d+=2}else return-1}function Gj(a,b,c,d){this.Na=a;this.fd=b;this.Y=c;this.K=d;this.T=131072;this.J=0}g=Gj.prototype;g.kd=function(a){if(a===this.Na)return this;var b=Array(2*(this.Y+1));Jf(this.K,0,b,0,2*this.Y);return new Gj(a,this.fd,this.Y,b)};
g.De=function(a,b,c,d,e){b=Fj(this.K,this.Y,d);if(-1===b)return this;e.val=!0;if(1===this.Y)return null;a=this.kd(a);e=a.K;e[b]=e[2*this.Y-2];e[b+1]=e[2*this.Y-1];e[2*this.Y-1]=null;e[2*this.Y-2]=null;--a.Y;return a};g.Be=function(){return uj?uj(this.K):vj.call(null,this.K)};g.Md=function(a,b){return qj(this.K,a,b)};g.Ld=function(a,b,c,d){a=Fj(this.K,this.Y,c);return 0>a?d:jj(c,this.K[a])?this.K[a+1]:d};
g.Nc=function(a,b,c,d,e,f){if(c===this.fd){b=Fj(this.K,this.Y,d);if(-1===b){if(this.K.length>2*this.Y)return b=2*this.Y,c=2*this.Y+1,a=this.kd(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.Y+=1,a;c=this.K.length;b=Array(c+2);Jf(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.Y+1;a===this.Na?(this.K=b,this.Y=d,a=this):a=new Gj(this.Na,this.fd,d,b);return a}return this.K[b+1]===e?this:pj(this,a,b+1,e)}return(new sj(a,1<<(this.fd>>>b&31),[null,this,null,null])).Nc(a,b,c,d,e,f)};
g.Mc=function(a,b,c,d,e){return b===this.fd?(a=Fj(this.K,this.Y,c),-1===a?(a=2*this.Y,b=Array(a+2),Jf(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Gj(null,this.fd,this.Y+1,b)):D.j(this.K[a+1],d)?this:new Gj(null,this.fd,this.Y,kj(this.K,a+1,d))):(new sj(null,1<<(this.fd>>>a&31),[null,this])).Mc(a,b,c,d,e)};g.Ae=function(a,b,c,d){a=Fj(this.K,this.Y,c);return 0>a?d:jj(c,this.K[a])?new X(this.K[a],this.K[a+1]):d};
g.Ce=function(a,b,c){a=Fj(this.K,this.Y,c);return-1===a?this:1===this.Y?null:new Gj(null,this.fd,this.Y-1,lj(this.K,ug(a,2)))};g.na=function(){return new rj(this.K)};function zj(a){switch(arguments.length){case 6:return Aj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return yj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function Aj(a,b,c,d,e,f){var h=ve(b);if(h===d)return new Gj(null,h,2,[b,c,e,f]);var k=new ij;return wj.Mc(a,h,b,c,k).Mc(a,d,e,f,k)}function yj(a,b,c,d,e,f,h){var k=ve(c);if(k===e)return new Gj(null,k,2,[c,d,f,h]);var m=new ij;return wj.Nc(a,b,k,c,d,m).Nc(a,b,e,f,h,m)}function Hj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=Hj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ij?Ij(a,b,null):vj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return Ij?Ij(a,b,c):vj.call(null,a,b,c)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return null==this.s?new X(this.nodes[this.i],this.nodes[this.i+1]):H(this.s)};
g.eb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ij?Ij(c,d,null):vj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return Ij?Ij(c,d,e):vj.call(null,c,d,e)}();return null!=b?b:Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Hj(b,this.nodes,this.i,this.s,this.I)};g.ja=function(a,b){return hf(b,this)};Hj.prototype[Ec]=function(){return Ie(this)};
function vj(a){switch(arguments.length){case 1:return uj(arguments[0]);case 3:return Ij(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function uj(a){return Ij(a,0,null)}function Ij(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Hj(null,a,b,null,null);var d=a[b+1];if(q(d)&&(d=d.Be(),q(d)))return new Hj(null,a,b+2,d,null);b+=2}else return null;else return new Hj(null,a,b,c,null)}
function Jj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=Jj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){var a=this.nodes,b=this.i,c=J(this.s);return Kj?Kj(a,b,c):Ej.call(null,a,b,c)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return H(this.s)};g.eb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=Kj?Kj(a,b,c):Ej.call(null,a,b,c);return null!=a?a:Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.meta?this:new Jj(b,this.nodes,this.i,this.s,this.I)};g.ja=function(a,b){return hf(b,this)};Jj.prototype[Ec]=function(){return Ie(this)};
function Ej(a){switch(arguments.length){case 1:return Dj(arguments[0]);case 3:return Kj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function Dj(a){return Kj(a,0,null)}function Kj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(q(d)&&(d=d.Be(),q(d)))return new Jj(null,a,b+1,d,null);b+=1}else return null;else return new Jj(null,a,b,c,null)}function Lj(a,b){this.sb=a;this.Og=b;this.seen=!1}
Lj.prototype.ab=function(){return!this.seen||this.Og.ab()};Lj.prototype.next=function(){if(this.seen)return this.Og.next();this.seen=!0;return new X(null,this.sb)};Lj.prototype.remove=function(){return Error("Unsupported operation")};function Mj(a,b,c,d,e,f){this.meta=a;this.Y=b;this.root=c;this.rb=d;this.sb=e;this.I=f;this.J=16123663;this.T=139268}g=Mj.prototype;g.cd=function(a,b){return null==b?this.rb?new X(null,this.sb):null:null==this.root?null:this.root.Ae(0,ve(b),b,null)};g.toString=function(){return le(this)};
g.equiv=function(a){return this.aa(null,a)};g.keys=function(){return Ie(cj.B?cj.B(this):cj.call(null,this))};g.entries=function(){return new Yi(E(E(this)))};g.values=function(){return Ie(dj.B?dj.B(this):dj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.P(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return null==b?this.rb?this.sb:c:null==this.root?c:this.root.Ld(0,ve(b),b,c)};
g.ua=function(a,b,c){a=this.rb?b.C?b.C(c,null,this.sb):b.call(null,c,null,this.sb):c;return Re(a)?y(a):null!=this.root?Se(this.root.Md(b,a)):a};g.na=function(){var a=this.root?je(this.root):nh();return this.rb?new Lj(this.sb,a):a};g.da=function(){return this.meta};g.ha=function(){return this.Y};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Me(this)};g.aa=function(a,b){return Wi(this,b)};g.vd=function(){return new Nj(this.root,this.Y,this.rb,this.sb)};g.Ka=function(){return rd(gj,this.meta)};
g.wa=function(a,b){if(null==b)return this.rb?new Mj(this.meta,this.Y-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Ce(0,ve(b),b);return a===this.root?this:new Mj(this.meta,this.Y-1,a,this.rb,this.sb,null)};
g.ba=function(a,b,c){if(null==b)return this.rb&&c===this.sb?this:new Mj(this.meta,this.rb?this.Y:this.Y+1,this.root,!0,c,null);a=new ij;b=(null==this.root?wj:this.root).Mc(0,ve(b),b,c,a);return b===this.root?this:new Mj(this.meta,a.val?this.Y+1:this.Y,b,this.rb,this.sb,null)};g.ga=function(){if(0<this.Y){var a=null!=this.root?this.root.Be():null;return this.rb?hf(new X(null,this.sb),a):a}return null};g.ea=function(a,b){return b===this.meta?this:new Mj(b,this.Y,this.root,this.rb,this.sb,this.I)};
g.ja=function(a,b){if(Hf(b))return this.ba(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.B=function(a){return this.ka(null,a)};g.j=function(a,b){return this.P(null,a,b)};var gj=new Mj(null,0,null,!1,null,Ne);function Oj(a,b){for(var c=a.length,d=0,e=Td(gj);;)if(d<c){var f=d+1;e=Wd(e,a[d],b[d]);d=f}else return Vd(e)}Mj.prototype[Ec]=function(){return Ie(this)};function Nj(a,b,c,d){this.Na={};this.root=a;this.count=b;this.rb=c;this.sb=d;this.J=259;this.T=56}
function Pj(a,b,c){if(a.Na){if(null==b)a.sb!==c&&(a.sb=c),a.rb||(a.count+=1,a.rb=!0);else{var d=new ij;b=(null==a.root?wj:a.root).Nc(a.Na,0,ve(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Nj.prototype;g.ha=function(){if(this.Na)return this.count;throw Error("count after persistent!");};g.ka=function(a,b){return null==b?this.rb?this.sb:null:null==this.root?null:this.root.Ld(0,ve(b),b)};
g.P=function(a,b,c){return null==b?this.rb?this.sb:c:null==this.root?c:this.root.Ld(0,ve(b),b,c)};g.wd=function(a,b){a:if(this.Na)if(Ei(b))a=Pj(this,Fi.B?Fi.B(b):Fi.call(null,b),Gi.B?Gi.B(b):Gi.call(null,b));else if(Hf(b))a=Pj(this,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));else for(a=E(b),b=this;;){var c=H(a);if(q(c))a=J(a),b=Pj(b,Fi.B?Fi.B(c):Fi.call(null,c),Gi.B?Gi.B(c):Gi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Ed=function(){if(this.Na){this.Na=null;var a=new Mj(null,this.count,this.root,this.rb,this.sb,null)}else throw Error("persistent! called twice");return a};g.Rd=function(a,b,c){return Pj(this,b,c)};g.vf=function(a,b){if(this.Na)null==b?this.rb&&(this.rb=!1,this.sb=null,--this.count):null!=this.root&&(a=new ij,b=this.root.De(this.Na,0,ve(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ka(null,a)};g.j=function(a,b){return this.P(null,a,b)};function Qj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=pf.j(d,a),a=b;else return d}
function Rj(a,b,c,d,e){this.meta=a;this.stack=b;this.Cd=c;this.Y=d;this.I=e;this.J=32374990;this.T=0}g=Rj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.meta};g.Oa=function(){var a=H(this.stack);a=Qj(this.Cd?a.right:a.left,J(this.stack),this.Cd);return null==a?null:new Rj(null,a,this.Cd,this.Y-1,null)};
g.ha=function(){return 0>this.Y?K(J(this))+1:this.Y};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){var a=this.stack;return null==a?null:kd(a)};g.eb=function(){var a=H(this.stack);a=Qj(this.Cd?a.right:a.left,J(this.stack),this.Cd);return null!=a?new Rj(null,a,this.Cd,this.Y-1,null):Ge};g.ga=function(){return this};
g.ea=function(a,b){return b===this.meta?this:new Rj(b,this.stack,this.Cd,this.Y,this.I)};g.ja=function(a,b){return hf(b,this)};Rj.prototype[Ec]=function(){return Ie(this)};function Sj(a,b,c){return new Rj(null,Qj(a,null,b),b,c,null)}
function Tj(a,b,c,d){return c instanceof Uj?c.left instanceof Uj?new Uj(c.key,c.val,c.left.ad(),new Vj(a,b,c.right,d)):c.right instanceof Uj?new Uj(c.right.key,c.right.val,new Vj(c.key,c.val,c.left,c.right.left),new Vj(a,b,c.right.right,d)):new Vj(a,b,c,d):new Vj(a,b,c,d)}
function Wj(a,b,c,d){return d instanceof Uj?d.right instanceof Uj?new Uj(d.key,d.val,new Vj(a,b,c,d.left),d.right.ad()):d.left instanceof Uj?new Uj(d.left.key,d.left.val,new Vj(a,b,c,d.left.left),new Vj(d.key,d.val,d.left.right,d.right)):new Vj(a,b,c,d):new Vj(a,b,c,d)}
function Xj(a,b,c,d){if(c instanceof Uj)return new Uj(a,b,c.ad(),d);if(d instanceof Vj)return Wj(a,b,c,d.Ge());if(d instanceof Uj&&d.left instanceof Vj)return new Uj(d.left.key,d.left.val,new Vj(a,b,c,d.left.left),Wj(d.key,d.val,d.left.right,d.right.Ge()));throw Error("red-black tree invariant violation");}
function Yj(a,b,c,d){if(d instanceof Uj)return new Uj(a,b,c,d.ad());if(c instanceof Vj)return Tj(a,b,c.Ge(),d);if(c instanceof Uj&&c.right instanceof Vj)return new Uj(c.right.key,c.right.val,Tj(c.key,c.val,c.left.Ge(),c.right.left),new Vj(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Zj=function Zj(a,b,c){var e=null!=a.left?function(){var k=a.left;return Zj.C?Zj.C(k,b,c):Zj.call(null,k,b,c)}():c;if(Re(e))return e;var f=function(){var k=a.key,m=a.val;return b.C?b.C(e,k,m):b.call(null,e,k,m)}();if(Re(f))return f;if(null!=a.right){var h=a.right;return Zj.C?Zj.C(h,b,f):Zj.call(null,h,b,f)}return f};function Vj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=Vj.prototype;
g.cd=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();g.Zf=function(a){return a.cg(this)};g.Ge=function(){return new Uj(this.key,this.val,this.left,this.right)};g.ad=function(){return this};g.Yf=function(a){return a.ag(this)};g.replace=function(a,b,c,d){return new Vj(a,b,c,d)};
g.ag=function(a){return new Vj(a.key,a.val,this,a.right)};g.cg=function(a){return new Vj(a.key,a.val,a.left,this)};g.Md=function(a,b){return Zj(this,a,b)};g.ka=function(a,b){return this.Sa(null,b,null)};g.P=function(a,b,c){return this.Sa(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Sa=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Ic=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Ic(null,b,c)};
g.da=function(){return null};g.ha=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.dd=function(){return this.val};g.ed=function(){return new W(null,1,5,Y,[this.key],null)};g.vc=function(){return new De([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return null};g.Ta=function(a,b){return Ue(this,b)};g.Ua=function(a,b,c){return Ve(this,b,c)};
g.ba=function(a,b,c){return Q.C(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ga=function(){return new De([this.key,this.val],0,null)};g.ea=function(a,b){return rd(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ja=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Sa(null,a,b)};Vj.prototype[Ec]=function(){return Ie(this)};function Uj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=Uj.prototype;g.cd=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();g.Zf=function(a){return new Uj(this.key,this.val,this.left,a)};g.Ge=function(){throw Error("red-black tree invariant violation");};g.ad=function(){return new Vj(this.key,this.val,this.left,this.right)};
g.Yf=function(a){return new Uj(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new Uj(a,b,c,d)};g.ag=function(a){return this.left instanceof Uj?new Uj(this.key,this.val,this.left.ad(),new Vj(a.key,a.val,this.right,a.right)):this.right instanceof Uj?new Uj(this.right.key,this.right.val,new Vj(this.key,this.val,this.left,this.right.left),new Vj(a.key,a.val,this.right.right,a.right)):new Vj(a.key,a.val,this,a.right)};
g.cg=function(a){return this.right instanceof Uj?new Uj(this.key,this.val,new Vj(a.key,a.val,a.left,this.left),this.right.ad()):this.left instanceof Uj?new Uj(this.left.key,this.left.val,new Vj(a.key,a.val,a.left,this.left.left),new Vj(this.key,this.val,this.left.right,this.right)):new Vj(a.key,a.val,a.left,this)};g.Md=function(a,b){return Zj(this,a,b)};g.ka=function(a,b){return this.Sa(null,b,null)};g.P=function(a,b,c){return this.Sa(null,b,c)};
g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Sa=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Ic=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Ic(null,b,c)};g.da=function(){return null};g.ha=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.dd=function(){return this.val};g.ed=function(){return new W(null,1,5,Y,[this.key],null)};
g.vc=function(){return new De([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return null};g.Ta=function(a,b){return Ue(this,b)};g.Ua=function(a,b,c){return Ve(this,b,c)};g.ba=function(a,b,c){return Q.C(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.ga=function(){return new De([this.key,this.val],0,null)};g.ea=function(a,b){return rd(new W(null,2,5,Y,[this.key,this.val],null),b)};
g.ja=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Sa(null,a,b)};Uj.prototype[Ec]=function(){return Ie(this)};
var ak=function ak(a,b,c,d,e){if(null==b)return new Uj(c,d,null,null);var h=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return ak.la?ak.la(a,k,c,d,e):ak.call(null,a,k,c,d,e)}(),null!=h?b.Yf(h):null;h=function(){var k=b.right;return ak.la?ak.la(a,k,c,d,e):ak.call(null,a,k,c,d,e)}();return null!=h?b.Zf(h):null},bk=function bk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Uj){if(b instanceof Uj){var d=
function(){var e=a.right,f=b.left;return bk.j?bk.j(e,f):bk.call(null,e,f)}();return d instanceof Uj?new Uj(d.key,d.val,new Uj(a.key,a.val,a.left,d.left),new Uj(b.key,b.val,d.right,b.right)):new Uj(a.key,a.val,a.left,new Uj(b.key,b.val,d,b.right))}return new Uj(a.key,a.val,a.left,function(){var e=a.right;return bk.j?bk.j(e,b):bk.call(null,e,b)}())}if(b instanceof Uj)return new Uj(b.key,b.val,function(){var e=b.left;return bk.j?bk.j(a,e):bk.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return bk.j?bk.j(e,f):bk.call(null,e,f)}();return d instanceof Uj?new Uj(d.key,d.val,new Vj(a.key,a.val,a.left,d.left),new Vj(b.key,b.val,d.right,b.right)):Xj(a.key,a.val,a.left,new Vj(b.key,b.val,d,b.right))},ck=function ck(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.j?a.j(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,bk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return ck.O?ck.O(a,h,c,d):ck.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof Vj?Xj(b.key,b.val,
f,b.right):new Uj(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return ck.O?ck.O(a,h,c,d):ck.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Vj?Yj(b.key,b.val,b.left,f):new Uj(b.key,b.val,b.left,f):null}return null},dk=function dk(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return dk.O?dk.O(a,k,c,d):dk.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return dk.O?dk.O(a,k,c,d):dk.call(null,a,k,c,d)}())};function ek(a,b,c,d,e){this.wc=a;this.tree=b;this.Y=c;this.meta=d;this.I=e;this.J=418776847;this.T=8192}g=ek.prototype;g.cd=function(a,b){return fk(this,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.P(null,a,b)};g.entries=function(){return new Yi(E(E(this)))};g.toString=function(){return le(this)};g.keys=function(){return Ie(cj.B?cj.B(this):cj.call(null,this))};
g.values=function(){return Ie(dj.B?dj.B(this):dj.call(null,this))};g.equiv=function(a){return this.aa(null,a)};function fk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.wc.j?a.wc.j(b,d):a.wc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Pf(this,a)};g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){a=fk(this,b);return null!=a?a.val:c};g.ua=function(a,b,c){return null!=this.tree?Se(Zj(this.tree,b,c)):c};g.da=function(){return this.meta};
g.ha=function(){return this.Y};g.vc=function(){return 0<this.Y?Sj(this.tree,!1,this.Y):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Me(this)};g.aa=function(a,b){return Wi(this,b)};g.Ka=function(){return new ek(this.wc,null,0,this.meta,0)};g.wa=function(a,b){a=[null];b=ck(this.wc,this.tree,b,a);return null==b?null==bf(a,0)?this:new ek(this.wc,null,0,this.meta,null):new ek(this.wc,b.ad(),this.Y-1,this.meta,null)};
g.ba=function(a,b,c){a=[null];var d=ak(this.wc,this.tree,b,c,a);return null==d?(a=bf(a,0),D.j(c,a.val)?this:new ek(this.wc,dk(this.wc,this.tree,b,c),this.Y,this.meta,null)):new ek(this.wc,d.ad(),this.Y+1,this.meta,null)};g.ga=function(){return 0<this.Y?Sj(this.tree,!0,this.Y):null};g.ea=function(a,b){return b===this.meta?this:new ek(this.wc,this.tree,this.Y,b,this.I)};
g.ja=function(a,b){if(Hf(b))return this.ba(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.B=function(a){return this.ka(null,a)};g.j=function(a,b){return this.P(null,a,b)};var gk=new ek(Sf,null,0,null,Ne);ek.prototype[Ec]=function(){return Ie(this)};var hk=function hk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return hk.F(c)};hk.F=function(a){a=E(a);for(var b=Td(gj);;)if(a){var c=J(J(a));b=$g.C(b,H(a),mf(a));a=c}else return Vd(b)};hk.$=0;hk.ca=function(a){return this.F(E(a))};
var ik=function ik(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return ik.F(c)};ik.F=function(a){a=a instanceof De&&0===a.i?a.K:Ic(a);return uf(a)};ik.$=0;ik.ca=function(a){return this.F(E(a))};function jk(a,b){this.Ja=a;this.sc=b;this.J=32374988;this.T=0}g=jk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.sc};g.Oa=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.me||(this.Ja.J?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null==a?null:new jk(a,null)};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.Ja.Va(null).key};g.eb=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.me||(this.Ja.J?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null!=a?new jk(a,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.sc?this:new jk(this.Ja,b)};g.ja=function(a,b){return hf(b,this)};
jk.prototype[Ec]=function(){return Ie(this)};function cj(a){return(a=E(a))?new jk(a,null):null}function Fi(a){return gd(a)}function kk(a,b){this.Ja=a;this.sc=b;this.J=32374988;this.T=0}g=kk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();g.da=function(){return this.sc};g.Oa=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.me||(this.Ja.J?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null==a?null:new kk(a,null)};g.ia=function(){return Ke(this)};
g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return jf(b,this)};g.Ua=function(a,b,c){return lf(b,c,this)};g.Va=function(){return this.Ja.Va(null).val};g.eb=function(){var a=(null!=this.Ja?this.Ja.J&128||l===this.Ja.me||(this.Ja.J?0:Ac(Xc,this.Ja)):Ac(Xc,this.Ja))?this.Ja.Oa(null):J(this.Ja);return null!=a?new kk(a,null):Ge};g.ga=function(){return this};g.ea=function(a,b){return b===this.sc?this:new kk(this.Ja,b)};g.ja=function(a,b){return hf(b,this)};
kk.prototype[Ec]=function(){return Ie(this)};function dj(a){return(a=E(a))?new kk(a,null):null}function Gi(a){return hd(a)}var lk=function lk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return lk.F(c)};lk.F=function(a){return q(sh(dg,a))?v.j(function(b,c){return pf.j(q(b)?b:V,c)},a):null};lk.$=0;lk.ca=function(a){return this.F(E(a))};
var mk=function mk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return mk.F(arguments[0],c)};mk.F=function(a,b){if(q(sh(dg,b))){var c=function(d,e){var f=gd(e),h=hd(e);return Pf(d,f)?Q.C(d,f,function(){var k=B.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):Q.C(d,f,h)};return v.j(function(d,e){return v.C(c,q(d)?d:V,E(e))},b)}return null};mk.$=1;mk.ca=function(a){var b=H(a);a=J(a);return this.F(b,a)};
function nk(a,b){var c=V;for(b=E(b);;)if(b){var d=H(b),e=B.C(a,d,ok);c=lh.j(e,ok)?Q.C(c,d,e):c;b=J(b)}else return rd(c,yf(a))}function pk(a){this.iter=a}pk.prototype.ab=function(){return this.iter.ab()};pk.prototype.next=function(){if(this.iter.ab())return this.iter.next().key;throw Error("No such element");};pk.prototype.remove=function(){return Error("Unsupported operation")};function qk(a,b,c){this.meta=a;this.md=b;this.I=c;this.J=15077647;this.T=139268}g=qk.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.aa(null,a)};g.keys=function(){return Ie(E(this))};g.entries=function(){return new Zi(E(E(this)))};g.values=function(){return Ie(E(this))};g.has=function(a){return Pf(this,a)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){a=dd(this.md,b);return q(a)?gd(a):c};g.na=function(){return new pk(je(this.md))};g.da=function(){return this.meta};g.ha=function(){return Nc(this.md)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Me(this)};g.aa=function(a,b){if(Df(b))if(K(this)===K(b))try{return cg(function(c,d){return(c=Pf(b,d))?c:Qe(!1)},!0,this.md)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.vd=function(){return new rk(Td(this.md))};
g.Ka=function(){return rd(sk,this.meta)};g.uf=function(a,b){return new qk(this.meta,fd(this.md,b),null)};g.ga=function(){return cj(this.md)};g.ea=function(a,b){return b===this.meta?this:new qk(b,this.md,this.I)};g.ja=function(a,b){return new qk(this.meta,Q.C(this.md,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ka(null,a)};g.j=function(a,b){return this.P(null,a,b)};var sk=new qk(null,V,Ne);function Rf(a){for(var b=a.length,c=Td(sk),d=0;;)if(d<b)Ud(c,a[d]),d+=1;else break;return Vd(c)}qk.prototype[Ec]=function(){return Ie(this)};function rk(a){this.Pd=a;this.T=136;this.J=259}g=rk.prototype;g.wd=function(a,b){this.Pd=$g.C(this.Pd,b,null);return this};g.Ed=function(){return new qk(null,Vd(this.Pd),null)};
g.ha=function(){return K(this.Pd)};g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return ad(this.Pd,b,Kf)===Kf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return ad(this.Pd,a,Kf)===Kf?null:a};
g.j=function(a,b){return ad(this.Pd,a,Kf)===Kf?b:a};function tk(a){if(Df(a))return xf(a,null);a=E(a);if(null==a)return sk;if(a instanceof De&&0===a.i)return Rf(a.K);for(var b=Td(sk);;)if(null!=a){var c=J(a);b=Ud(b,Vc(a));a=c}else return Vd(b)}function uk(a){return function e(c,d){return new Jg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=P(k,0,null);if(k=E(k))if(Pf(f,h))h=Fe(k);else{f=hf(h,e(Fe(k),pf.j(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,sk)}
function vk(a){for(var b=qf;;)if(J(a))b=pf.j(b,H(a)),a=J(a);else return E(b)}function Ig(a){if(null!=a&&(a.T&4096||l===a.ng))return a.ke(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.B(a)].join(""));}function wk(a,b){var c=Td(V);a=E(a);for(b=E(b);;)if(a&&b)c=$g.C(c,H(a),H(b)),a=J(a),b=J(b);else return Vd(c)}
var xk=function xk(a){switch(arguments.length){case 2:return xk.j(arguments[0],arguments[1]);case 3:return xk.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return xk.F(arguments[0],arguments[1],arguments[2],c)}};xk.j=function(a,b){return b};xk.C=function(a,b,c){return(a.B?a.B(b):a.call(null,b))>(a.B?a.B(c):a.call(null,c))?b:c};
xk.F=function(a,b,c,d){return v.C(function(e,f){return xk.C(a,e,f)},xk.C(a,b,c),d)};xk.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.F(b,a,c,d)};xk.$=3;function yk(){this.K=[]}g=yk.prototype;g.add=function(a){return this.K.push(a)};g.size=function(){return this.K.length};g.clear=function(){return this.K=[]};g.isEmpty=function(){return 0===this.K.length};g.toArray=function(){return this.K};
function zk(){return function(a){var b=new yk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Yf(b.toArray()),b.clear(),a.j?a.j(h,k):a.call(null,h,k)):h}function d(h){if(!q(b.isEmpty())){var k=Yf(b.toArray());b.clear();h=Se(a.j?a.j(h,k):a.call(null,h,k))}return a.B?a.B(h):a.call(null,h)}function e(){return a.N?a.N():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.N=e;f.B=d;f.j=c;return f}()}}function Bk(a,b){return new Jg(null,function(){var c=E(b);if(c){var d=H(c);d=a.B?a.B(d):a.call(null,d);c=q(d)?hf(H(c),Bk(a,Fe(c))):null}else c=null;return c},null,null)}function Ck(a,b,c){this.start=a;this.step=b;this.count=c;this.J=82;this.T=0}g=Ck.prototype;g.ha=function(){return this.count};g.Va=function(){return this.start};g.xa=function(a,b){return this.start+b*this.step};
g.Sa=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.ee=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Ck(this.start+this.step,this.step,this.count-1)};function Dk(a,b,c){this.i=a;this.end=b;this.step=c}Dk.prototype.ab=function(){return 0<this.step?this.i<this.end:this.i>this.end};Dk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Ek(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.ac=e;this.Oe=f;this.I=h;this.J=32375006;this.T=140800}g=Ek.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.aa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return df(this,c,d)};return b}();function Fk(a){if(null==a.ac){var b=a.ha(null);32<b?(a.Oe=new Ek(null,a.start+32*a.step,a.end,a.step,null,null,null),a.ac=new Ck(a.start,a.step,32)):a.ac=new Ck(a.start,a.step,b)}}
g.xa=function(a,b){if(0<=b&&b<this.ha(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Sa=function(a,b,c){return 0<=b&&b<this.ha(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.na=function(){return new Dk(this.start,this.end,this.step)};g.da=function(){return this.meta};
g.Oa=function(){return 0<this.step?this.start+this.step<this.end?new Ek(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Ek(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ha=function(){return Math.ceil((this.end-this.start)/this.step)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.aa=function(a,b){return gf(this,b)};g.Ka=function(){return Ge};g.Ta=function(a,b){return Ue(this,b)};
g.Ua=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Re(c))return y(c);a+=this.step}else return c};g.Va=function(){return this.start};g.eb=function(){var a=this.Oa(null);return null==a?Ge:a};g.ga=function(){return this};g.ge=function(){Fk(this);return this.ac};g.Dd=function(){Fk(this);return null==this.Oe?Ge:this.Oe};g.ea=function(a,b){return b===this.meta?this:new Ek(b,this.start,this.end,this.step,this.ac,this.Oe,this.I)};
g.ja=function(a,b){return hf(b,this)};g.fe=function(){return E(this.Dd(null))};Ek.prototype[Ec]=function(){return Ie(this)};var Gk=function Gk(a){switch(arguments.length){case 0:return Gk.N();case 1:return Gk.B(arguments[0]);case 2:return Gk.j(arguments[0],arguments[1]);case 3:return Gk.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Gk.N=function(){return Gk.C(0,Number.MAX_VALUE,1)};Gk.B=function(a){return Gk.C(0,a,1)};
Gk.j=function(a,b){return Gk.C(a,b,1)};Gk.C=function(a,b,c){return 0<c?b<=a?Ge:new Ek(null,a,b,c,null,null,null):0>c?b>=a?Ge:new Ek(null,a,b,c,null,null,null):b===a?Ge:Rh(a)};Gk.$=3;function Hk(a,b){return new Jg(null,function(){var c=E(b);return c?hf(H(c),Hk(a,Nh(a,c))):null},null,null)}function Ik(a,b){return new W(null,2,5,Y,[Bk(a,b),Ph(a,b)],null)}
function Jk(a,b){return new Jg(null,function(){var c=E(b);if(c){var d=H(c),e=a.B?a.B(d):a.call(null,d),f=hf(d,Bk(function(h){return D.j(e,a.B?a.B(h):a.call(null,h))},J(c)));return hf(f,Jk(a,new Jg(null,function(){return Nh(K(f),c)},null,null)))}return null},null,null)}function Kk(a){return Vd(v.C(function(b,c){return $g.C(b,c,B.C(b,c,0)+1)},Td(V),a))}
function Lk(a,b){return function(){function c(m,n,r){return new W(null,2,5,Y,[a.C?a.C(m,n,r):a.call(null,m,n,r),b.C?b.C(m,n,r):b.call(null,m,n,r)],null)}function d(m,n){return new W(null,2,5,Y,[a.j?a.j(m,n):a.call(null,m,n),b.j?b.j(m,n):b.call(null,m,n)],null)}function e(m){return new W(null,2,5,Y,[a.B?a.B(m):a.call(null,m),b.B?b.B(m):b.call(null,m)],null)}function f(){return new W(null,2,5,Y,[a.N?a.N():a.call(null),b.N?b.N():b.call(null)],null)}var h=null,k=function(){function m(r,u,w,A){var G=null;
if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return new W(null,2,5,Y,[jh(a,r,u,w,A),jh(b,r,u,w,A)],null)}m.$=3;m.ca=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.F=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.F(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.$=3;h.ca=k.ca;h.N=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()}function Mk(a){a:for(var b=a;;)if(b=E(b))b=J(b);else break a;return a}
function Nk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.j(a[0],b)?1===a.length?a[0]:Yf(a):null;throw new TypeError("re-matches must match against a string.");}function Ok(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Yf(a);throw new TypeError("re-find must match against a string.");}
var Pk=function Pk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Yf(d);return hf(f,new Jg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=yg.j(b,h),Pk.j?Pk.j(a,h):Pk.call(null,a,h)):null},null,null))};function Qk(a,b){if("string"===typeof b)return Pk(a,b);throw new TypeError("re-seq must match against a string.");}
function Rk(a){if(a instanceof RegExp)return a;var b=Ok(/^\(\?([idmsux]*)\)/,a),c=P(b,0,null);b=P(b,1,null);a=yg.j(a,null==c?0:c.length);return new RegExp(a,q(b)?b:"")}
function Z(a,b,c,d,e,f,h){var k=nc;nc=null==nc?null:nc-1;try{if(null!=nc&&0>nc)return Jd(a,"#");Jd(a,c);if(0===tc.B(f))E(h)&&Jd(a,function(){var A=Sk.B(f);return q(A)?A:"..."}());else{if(E(h)){var m=H(h);b.C?b.C(m,a,f):b.call(null,m,a,f)}for(var n=J(h),r=tc.B(f)-1;;)if(!n||null!=r&&0===r){E(n)&&0===r&&(Jd(a,d),Jd(a,function(){var A=Sk.B(f);return q(A)?A:"..."}()));break}else{Jd(a,d);var u=H(n);c=a;h=f;b.C?b.C(u,c,h):b.call(null,u,c,h);var w=J(n);c=r-1;n=w;r=c}}return Jd(a,e)}finally{nc=k}}
function Tk(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Jd(a,f);e+=1}else if(b=E(b))c=b,If(c)?(b=ae(c),d=be(c),c=b,f=K(b),b=d,d=f):(f=H(c),Jd(a,f),b=J(c),c=null,d=0),e=0;else return null}function Uk(a){if(null==jc)throw Error("No *print-fn* fn set for evaluation environment");jc.call(null,a);return null}var Vk={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Wk(a){return['"',t.B(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Vk[b]})),'"'].join("")}function Xk(a,b){return Mf(B.j(a,rc))?null!=b&&(b.J&131072||l===b.je)?null!=yf(b):!1:!1}
function Yk(a,b,c){if(null==a)return Jd(b,"nil");if(Xk(c,a)){Jd(b,"^");var d=yf(a);Zk.C?Zk.C(d,b,c):Zk.call(null,d,b,c);Jd(b," ")}if(a.Mb)return a.Wb(b);if(null!=a?a.J&2147483648||l===a.La||(a.J?0:Ac(Ld,a)):Ac(Ld,a))return Md(a,b,c);if(!0===a||!1===a)return Jd(b,t.B(a));if("number"===typeof a)return Jd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.B(a));if(null!=a&&a.constructor===Object)return Jd(b,"#js "),d=Lh.j(function(f){return new X(null!=Nk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Hg.B(f):f,a[f])},hb(a)),$k.O?$k.O(d,Zk,b,c):$k.call(null,d,Zk,b,c);if(wc(a))return Z(b,Zk,"#js ["," ","]",c,a);if("string"==typeof a)return q(qc.B(c))?Jd(b,Wk(a)):Jd(b,a);if(sa(a)){var e=a.name;c=q(function(){var f=null==e;return f?f:vb(e)}())?"Function":e;return Tk(b,M(["#object[",c,q(!1)?[' "',t.B(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.B(f);;)if(f.length<h)f=["0",f].join("");else return f},Tk(b,M(['#inst "',t.B(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Tk(b,M(['#"',a.source,'"']));if(Jc(a))return Tk(b,M(["#object[",a.toString(),"]"]));if(q(function(){var f=null==a?null:a.constructor;return null==f?null:f.wb}()))return Tk(b,M(["#object[",a.constructor.wb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=q(function(){var f=
null==e;return f?f:vb(e)}())?"Object":e;return null==a.constructor?Tk(b,M(["#object[",c,"]"])):Tk(b,M(["#object[",c," ",t.B(a),"]"]))}function Zk(a,b,c){var d=al.B(c);return q(d)?(c=Q.C(c,bl,Yk),d.C?d.C(a,b,c):d.call(null,a,b,c)):Yk(a,b,c)}
function cl(a,b){var c=new dc,d=new ke(c);a:{Zk(H(a),d,b);a=E(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);Jd(d," ");Zk(k,d,b);h+=1}else if(a=E(a))e=a,If(e)?(a=ae(e),f=be(e),e=a,k=K(a),a=f,f=k):(k=H(e),Jd(d," "),Zk(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.Tc(null);return c}function dl(a,b){return Bf(a)?"":t.B(cl(a,b))}function el(a,b){if(Bf(a))return"\n";a=cl(a,b);a.append("\n");return t.B(a)}
var fl=function fl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return fl.F(c)};fl.F=function(a){return dl(a,oc())};fl.$=0;fl.ca=function(a){return this.F(E(a))};var gl=function gl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return gl.F(c)};gl.F=function(a){return el(a,oc())};gl.$=0;gl.ca=function(a){return this.F(E(a))};
var hl=function hl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return hl.F(c)};hl.F=function(a){return dl(a,Q.C(oc(),qc,!1))};hl.$=0;hl.ca=function(a){return this.F(E(a))};var il=function il(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return il.F(c)};il.F=function(a){return el(a,Q.C(oc(),qc,!1))};il.$=0;il.ca=function(a){return this.F(E(a))};
function jl(a){Uk(dl(a,oc()));q(kc)&&(a=oc(),Uk("\n"),B.j(a,pc))}function kl(a){return a instanceof z?ze.j(null,Ig(a)):Hg.j(null,Ig(a))}
function ll(a){if(q(!1)){var b=E(a),c=E(b),d=H(c);J(c);P(d,0,null);P(d,1,null);c=sf(a);for(a=null;;){d=a;b=E(b);a=H(b);var e=J(b),f=a;a=P(f,0,null);b=P(f,1,null);if(q(f))if(a instanceof C||a instanceof z)if(q(d))if(D.j(d,Fg(a)))c=Q.C(c,kl(a),b),a=d,b=e;else return null;else if(d=Fg(a),q(d))c=Q.C(c,kl(a),b),a=d,b=e;else return null;else return null;else return new W(null,2,5,Y,[d,c],null)}}else return null}
function ml(a,b,c,d,e){return Z(d,function(f,h,k){var m=gd(f);c.C?c.C(m,h,k):c.call(null,m,h,k);Jd(h," ");f=hd(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[t.B(a),"{"].join(""),", ","}",e,E(b))}function $k(a,b,c,d){var e=Ff(a)?ll(a):null,f=P(e,0,null);e=P(e,1,null);return q(f)?ml(["#:",t.B(f)].join(""),e,b,c,d):ml(null,a,b,c,d)}Gh.prototype.La=l;Gh.prototype.fa=function(a,b,c){Jd(b,"#object[cljs.core.Volatile ");Zk(new p(null,1,[nl,this.state],null),b,c);return Jd(b,"]")};Ae.prototype.La=l;
Ae.prototype.fa=function(a,b,c){Jd(b,"#'");return Zk(this.Od,b,c)};De.prototype.La=l;De.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Jg.prototype.La=l;Jg.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};X.prototype.La=l;X.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};Rj.prototype.La=l;Rj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Hj.prototype.La=l;Hj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};
Vj.prototype.La=l;Vj.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};aj.prototype.La=l;aj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Je.prototype.La=l;Je.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Ii.prototype.La=l;Ii.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Dg.prototype.La=l;Dg.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};ff.prototype.La=l;
ff.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Mj.prototype.La=l;Mj.prototype.fa=function(a,b,c){return $k(this,Zk,b,c)};Jj.prototype.La=l;Jj.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Ki.prototype.La=l;Ki.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};ek.prototype.La=l;ek.prototype.fa=function(a,b,c){return $k(this,Zk,b,c)};qk.prototype.La=l;qk.prototype.fa=function(a,b,c){return Z(b,Zk,"#{"," ","}",c,this)};Pg.prototype.La=l;
Pg.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Bh.prototype.La=l;Bh.prototype.fa=function(a,b,c){Jd(b,"#object[cljs.core.Atom ");Zk(new p(null,1,[nl,this.state],null),b,c);return Jd(b,"]")};kk.prototype.La=l;kk.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Uj.prototype.La=l;Uj.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};Qh.prototype.La=l;Qh.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};W.prototype.La=l;
W.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};Ri.prototype.La=l;Ri.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};Ag.prototype.La=l;Ag.prototype.fa=function(a,b){return Jd(b,"()")};Si.prototype.La=l;Si.prototype.fa=function(a,b,c){return Z(b,Zk,"#queue ["," ","]",c,E(this))};p.prototype.La=l;p.prototype.fa=function(a,b,c){return $k(this,Zk,b,c)};Ek.prototype.La=l;Ek.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};jk.prototype.La=l;
jk.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};rf.prototype.La=l;rf.prototype.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,this)};z.prototype.bd=l;z.prototype.Sc=function(a,b){if(b instanceof z)return ye(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};C.prototype.bd=l;C.prototype.Sc=function(a,b){if(b instanceof C)return Eg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Ki.prototype.bd=l;
Ki.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};W.prototype.bd=l;W.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};X.prototype.bd=l;X.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Vj.prototype.bd=l;
Vj.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Uj.prototype.bd=l;Uj.prototype.Sc=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};function ol(a,b){Qd(a,b)}function pl(a){this.f=a;this.value=null;this.J=2147516416;this.T=1}pl.prototype.ub=function(){q(this.f)&&(this.value=this.f.N?this.f.N():this.f.call(null),this.f=null);return this.value};pl.prototype.Pe=function(){return yc(this.f)};
pl.prototype.fa=function(a,b,c){Jd(b,"#object[cljs.core.Delay ");Zk(new p(null,2,[ql,null==this.f?rl:sl,nl,this.value],null),b,c);return Jd(b,"]")};function tl(a){return a instanceof pl?y(a):a}function ul(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return Re(b)?Qe(b):b}}
function vl(a){var b=ul(a);return function(){function c(h,k){return v.C(b,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.N?a.N():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.N=e;f.B=d;f.j=c;return f}()}function wl(){}
function xl(a){if(null!=a&&null!=a.fh)a=a.fh(a);else{var b=xl[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=xl._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IEncodeJS.-clj-\x3ejs",a);}return a}function yl(a,b){return(null!=a?l===a.eh||(a.yd?0:Ac(wl,a)):Ac(wl,a))?xl(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof z?b.B?b.B(a):b.call(null,a):fl.F(M([a]))}
var zl=function zl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return zl.F(arguments[0],c)};
zl.F=function(a,b){b=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;var c=B.C(b,Al,Ig),d=function h(f){if(null==f)return null;if(null!=f?l===f.eh||(f.yd?0:Ac(wl,f)):Ac(wl,f))return xl(f);if(f instanceof C)return c.B?c.B(f):c.call(null,f);if(f instanceof z)return t.B(f);if(Ff(f)){var k={};f=E(f);for(var m=null,n=0,r=0;;)if(r<n){var u=m.xa(null,r),w=P(u,0,null);u=P(u,1,null);w=yl(w,d);u=h(u);k[w]=u;r+=1}else if(f=E(f))If(f)?(n=ae(f),f=be(f),m=n,n=K(n)):(n=H(f),m=P(n,0,null),n=P(n,1,null),m=yl(m,d),n=h(n),k[m]=
n,f=J(f),m=null,n=0),r=0;else break;return k}if(Cf(f)){k=[];f=E(Lh.j(h,f));m=null;for(r=n=0;;)if(r<n)w=m.xa(null,r),k.push(w),r+=1;else if(f=E(f))m=f,If(m)?(f=ae(m),r=be(m),m=f,n=K(f),f=r):(f=H(m),k.push(f),f=J(m),m=null,n=0),r=0;else break;return k}return f};return d(a)};zl.$=1;zl.ca=function(a){var b=H(a);a=J(a);return this.F(b,a)};function Bl(){}
function Cl(a,b){if(null!=a&&null!=a.dh)a=a.dh(a,b);else{var c=Cl[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Cl._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Dl(a){var b=M([El,!1]),c=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;c=B.j(c,El);var d=q(c)?Hg:t;return function h(f){return(null!=f?l===f.xi||(f.yd?0:Ac(Bl,f)):Ac(Bl,f))?Cl(f,gh(ik,b)):Lf(f)?Mk(Lh.j(h,f)):Ei(f)?new X(h(gd(f)),h(hd(f))):Cf(f)?ai.C(sf(f),Lh.B(h),f):wc(f)?Vd(v.C(function(k,m){return Zg.j(k,h(m))},Td(qf),f)):Bc(f)===Object?Vd(v.C(function(k,m){return $g.C(k,d.B?d.B(m):d.call(null,m),h(ib(f,m)))},Td(V),hb(f))):f}(a)}
function Fl(a){var b=Ch(V);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){var f=B.C(y(b),e,Kf);return f===Kf?(f=gh(a,e),Eh.O(b,Q,e,f),f):f}c.$=0;c.ca=function(e){e=E(e);return d(e)};c.F=d;return c}()}
var Gl=function Gl(a){switch(arguments.length){case 0:return Gl.N();case 1:return Gl.B(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Gl.N=function(){return Gl.B(1)};Gl.B=function(a){return Math.random()*a};Gl.$=1;function Hl(a){return Math.floor(Math.random()*a)}function Il(a,b){return Vd(v.C(function(c,d){var e=a.B?a.B(d):a.call(null,d);return $g.C(c,e,pf.j(B.C(c,e,qf),d))},Td(V),b))}var Jl=null;
function Kl(){null==Jl&&(Jl=Ch(new p(null,3,[Ll,V,Ml,V,Nl,V],null)));return Jl}function Ol(a,b,c){var d=D.j(b,c);if(d)return d;d=Nl.B(a);d=d.B?d.B(b):d.call(null,b);if(d=Pf(d,c))return d;if(Hf(c))if(Hf(b))if(K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=Ol(a,b.B?b.B(e):b.call(null,e),c.B?c.B(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function Pl(a){var b=y(Kl());return mh(B.j(Ll.B(b),a))}
function Ql(a,b,c,d){Eh.j(a,function(){return y(b)});Eh.j(c,function(){return y(d)})}
var Rl=function Rl(a,b,c){var e=function(){var f=y(c);return f.B?f.B(a):f.call(null,a)}();e=q(q(e)?e.B?e.B(b):e.call(null,b):e)?!0:null;if(q(e))return e;e=function(){for(var f=Pl(b);;)if(0<K(f)){var h=H(f);Rl.C?Rl.C(a,h,c):Rl.call(null,a,h,c);f=Fe(f)}else return null}();if(q(e))return e;e=function(){for(var f=Pl(a);;)if(0<K(f)){var h=H(f);Rl.C?Rl.C(h,b,c):Rl.call(null,h,b,c);f=Fe(f)}else return null}();return q(e)?e:!1};function Sl(a,b,c,d){c=Rl(a,b,c);return q(c)?c:Ol(d,a,b)}
var Tl=function Tl(a,b,c,d,e,f,h,k){var n=v.C(function(u,w){var A=P(w,0,null);P(w,1,null);if(Ol(y(c),b,A)){u=null==u||Sl(A,H(u),e,y(c))?w:u;if(!Sl(H(u),A,e,y(c)))throw Error(["Multiple methods in multimethod '",t.B(a),"' match dispatch value: ",t.B(b)," -\x3e ",t.B(A)," and ",t.B(H(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),r=function(){if(null==n){var u=y(d);u=u.B?u.B(k):u.call(null,k)}else u=!1;return q(u)?new W(null,2,5,Y,[k,u],null):n}();if(q(r)){if(D.j(y(h),y(c)))return Eh.O(f,
Q,b,mf(r)),mf(r);Ql(f,d,h,c);return Tl.vb?Tl.vb(a,b,c,d,e,f,h,k):Tl.call(null,a,b,c,d,e,f,h,k)}return null};function Ul(a,b,c){if(null!=a&&null!=a.ib)a.ib(a,b,c);else{var d=Ul[pa(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Ul._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IMultiFn.-add-method",a);}}function Vl(a,b){throw Error(["No method in multimethod '",t.B(a),"' for dispatch value: ",t.B(b)].join(""));}
function Wl(a,b,c,d,e,f,h){var k=Xl;this.name=a;this.qa=b;this.wh=k;this.hierarchy=c;this.df=d;this.ki=e;this.cf=f;this.Le=h;this.J=4194305;this.T=4352}g=Wl.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.O(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.la(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Kb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Lb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Fb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Hb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.he(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.N=function(){var a=this.qa.N?this.qa.N():this.qa.call(null),b=Yl(this,a);q(b)||Vl(this.name,a);return b.N?b.N():b.call(null)};g.B=function(a){var b=this.qa.B?this.qa.B(a):this.qa.call(null,a),c=Yl(this,b);q(c)||Vl(this.name,b);return c.B?c.B(a):c.call(null,a)};
g.j=function(a,b){var c=this.qa.j?this.qa.j(a,b):this.qa.call(null,a,b),d=Yl(this,c);q(d)||Vl(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};g.C=function(a,b,c){var d=this.qa.C?this.qa.C(a,b,c):this.qa.call(null,a,b,c),e=Yl(this,d);q(e)||Vl(this.name,d);return e.C?e.C(a,b,c):e.call(null,a,b,c)};g.O=function(a,b,c,d){var e=this.qa.O?this.qa.O(a,b,c,d):this.qa.call(null,a,b,c,d),f=Yl(this,e);q(f)||Vl(this.name,e);return f.O?f.O(a,b,c,d):f.call(null,a,b,c,d)};
g.la=function(a,b,c,d,e){var f=this.qa.la?this.qa.la(a,b,c,d,e):this.qa.call(null,a,b,c,d,e),h=Yl(this,f);q(h)||Vl(this.name,f);return h.la?h.la(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Za=function(a,b,c,d,e,f){var h=this.qa.Za?this.qa.Za(a,b,c,d,e,f):this.qa.call(null,a,b,c,d,e,f),k=Yl(this,h);q(k)||Vl(this.name,h);return k.Za?k.Za(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Kb=function(a,b,c,d,e,f,h){var k=this.qa.Kb?this.qa.Kb(a,b,c,d,e,f,h):this.qa.call(null,a,b,c,d,e,f,h),m=Yl(this,k);q(m)||Vl(this.name,k);return m.Kb?m.Kb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.vb=function(a,b,c,d,e,f,h,k){var m=this.qa.vb?this.qa.vb(a,b,c,d,e,f,h,k):this.qa.call(null,a,b,c,d,e,f,h,k),n=Yl(this,m);q(n)||Vl(this.name,m);return n.vb?n.vb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Lb=function(a,b,c,d,e,f,h,k,m){var n=this.qa.Lb?this.qa.Lb(a,b,c,d,e,f,h,k,m):this.qa.call(null,a,b,c,d,e,f,h,k,m),r=Yl(this,n);q(r)||Vl(this.name,n);return r.Lb?r.Lb(a,b,c,d,e,f,h,k,m):r.call(null,a,b,c,d,e,f,h,k,m)};g.zb=function(a,b,c,d,e,f,h,k,m,n){var r=this.qa.zb?this.qa.zb(a,b,c,d,e,f,h,k,m,n):this.qa.call(null,a,b,c,d,e,f,h,k,m,n),u=Yl(this,r);q(u)||Vl(this.name,r);return u.zb?u.zb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.qa.Ab?this.qa.Ab(a,b,c,d,e,f,h,k,m,n,r):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r),w=Yl(this,u);q(w)||Vl(this.name,u);return w.Ab?w.Ab(a,b,c,d,e,f,h,k,m,n,r):w.call(null,a,b,c,d,e,f,h,k,m,n,r)};g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.qa.Bb?this.qa.Bb(a,b,c,d,e,f,h,k,m,n,r,u):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u),A=Yl(this,w);q(A)||Vl(this.name,w);return A.Bb?A.Bb(a,b,c,d,e,f,h,k,m,n,r,u):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.qa.Cb?this.qa.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w),G=Yl(this,A);q(G)||Vl(this.name,A);return G.Cb?G.Cb(a,b,c,d,e,f,h,k,m,n,r,u,w):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.qa.Db?this.qa.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A),I=Yl(this,G);q(I)||Vl(this.name,G);return I.Db?I.Db(a,b,c,d,e,f,h,k,m,n,r,u,w,A):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.qa.Eb?this.qa.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G),F=Yl(this,I);q(F)||Vl(this.name,I);return F.Eb?F.Eb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.qa.Fb?this.qa.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I),N=Yl(this,F);q(N)||Vl(this.name,F);return N.Fb?N.Fb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.qa.Gb?this.qa.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F),O=Yl(this,N);q(O)||Vl(this.name,N);return O.Gb?O.Gb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.qa.Hb?this.qa.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N),U=Yl(this,O);q(U)||Vl(this.name,O);return U.Hb?U.Hb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};
g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.qa.Ib?this.qa.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O),ea=Yl(this,U);q(ea)||Vl(this.name,U);return ea.Ib?ea.Ib(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Jb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.qa.Jb?this.qa.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U),va=Yl(this,ea);q(va)||Vl(this.name,ea);return va.Jb?va.Jb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):va.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};
g.he=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=kh(this.qa,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea])),wa=Yl(this,va);q(wa)||Vl(this.name,va);return kh(wa,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea]))};g.ib=function(a,b,c){Eh.O(this.df,Q,b,c);Ql(this.cf,this.df,this.Le,this.hierarchy);return this};
function Yl(a,b){D.j(y(a.Le),y(a.hierarchy))||Ql(a.cf,a.df,a.Le,a.hierarchy);var c=y(a.cf);c=c.B?c.B(b):c.call(null,b);return q(c)?c:Tl(a.name,b,a.hierarchy,a.df,a.ki,a.cf,a.Le,a.wh)}g.ke=function(){return ce(this.name)};g.le=function(){return de(this.name)};g.ia=function(){return ya(this)};function am(a){this.Qd=a;this.I=null;this.J=2153775104;this.T=2048}g=am.prototype;g.toString=function(){return this.Qd};g.equiv=function(a){return this.aa(null,a)};
g.aa=function(a,b){return b instanceof am&&this.Qd===b.Qd};g.fa=function(a,b){return Jd(b,['#uuid "',t.B(this.Qd),'"'].join(""))};g.ia=function(){null==this.I&&(this.I=ve(this.Qd));return this.I};g.Sc=function(a,b){return ab(this.Qd,b.Qd)};
function bm(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return new am([t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("").toLowerCase())}
function cm(a,b,c){var d=Error(a);this.message=a;this.data=b;this.gg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}cm.prototype.__proto__=Error.prototype;cm.prototype.La=l;
cm.prototype.fa=function(a,b,c){Jd(b,"#error {:message ");Zk(this.message,b,c);q(this.data)&&(Jd(b,", :data "),Zk(this.data,b,c));q(this.gg)&&(Jd(b,", :cause "),Zk(this.gg,b,c));return Jd(b,"}")};cm.prototype.toString=function(){return le(this)};function dm(a,b){return new cm(a,b,null)}
function em(){q(Gc)||(Gc=function(){for(var a=Vf(function(e,f){return f.length-e.length},hb(Fc)),b="";;)if(E(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.B(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Gc}
function fm(a){var b=t.B(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(em(),"g");b=q(ub(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(q(f))f=P(f,0,null),d=[d,t.B(b.substring(e,c.lastIndex-f.length)),t.B("$"===f?"/":ib(Fc,f))].join(""),e=c.lastIndex;else{c=[d,t.B(b.substring(e,b.length))].join("");break a}}}a=a instanceof z?ze:t;return a.B?a.B(c):a.call(null,c)}"undefined"!==typeof console&&uc();uc();var gm=new C(null,"ns","ns",441598760),hm=new C(null,"expected","expected",1583670997),im=new C(null,"components","components",-1073188942),jm=new C(null,"data-error","data-error",-1058016301),km=new C(null,"apparent-success","apparent-success",242592222),lm=new z(null,aa,aa,770546058,null),mm=new C("chsk","error","chsk/error",-984175439),nm=new C(null,"p2","p2",905500641),om=new z(null,"defrecord*","defrecord*",-1936366207,null),pm=new C(null,"p1","p1",-936759954),qm=new C(null,"level","level",1290497552),
rm=new C("db","current-tx","db/current-tx",1600722132),sm=new C(null,"type-tag","type-tag",-1873863267),tm=new C(null,"?err_","?err_",789480858),um=new C(null,"ms","ms",-1152709733),vm=new C(null,"middleware-fn","middleware-fn",-61585752),wm=new C("widget","zoom","widget/zoom",1173909758),xm=new C(null,"class-properties","class-properties",1351279702),ym=new C(null,"readers","readers",-2118263030),zm=new C(null,"line","line",212345235),Am=new z(null,"!\x3d","!\x3d",-201205829,null),Bm=new C("db",
"unique","db/unique",329396388),Cm=new C("db","isComponent","db/isComponent",423352398),Dm=new C(fa,"flush-tuples","datascript.db/flush-tuples",-797350002),Em=new z(null,"ns*","ns*",1840949383,null),Fm=new C(null,"lp-timeout","lp-timeout",1149461302),Gm=new C(null,"start-block-t","start-block-t",-373430594),Hm=new C(null,"limit","limit",-1355822363),Im=new C(null,"per-line-prefix","per-line-prefix",846941813),Jm=new C(null,"form-str","form-str",871608859),Km=new C("db.type","tuple","db.type/tuple",
938234914),Lm=new C("lookup-ref","unique","lookup-ref/unique",-960647710),Mm=new C(fa,"value-tempids","datascript.db/value-tempids",244806162),Nm=new z(da,"ends-with?","clojure.string/ends-with?",-745964149,null),Om=new C(null,"headers","headers",-835030129),Pm=new C(null,"string","string",-1989541586),Qm=new C(null,"avet","avet",1383857032),Rm=new C(null,"data","data",-232669377),Sm=new C(null,"factor","factor",-2103172748),Tm=new z(null,"identity","identity",-1007039734,null),Um=new z(null,"max",
"max",1701898075,null),Vm=new C(null,"did-update","did-update",-2143702256),Wm=new C(null,"end-line","end-line",1837326455),Xm=new z(null,"fn*","fn*",-752876845,null),Ym=new C(null,"ks","ks",1900203942),Zm=new C(ca,"amp","cljs.spec.alpha/amp",831147508),$m=new C("transact","syntax","transact/syntax",-299207078),an=new C(null,"abort","abort",521193198),bn=new C(null,"allow","allow",-1857325745),cn=new C(null,"source","source",-433931539),dn=new C(null,"done-nl","done-nl",-381024340),en=new C(null,
"private","private",-558947994),fn=new C(null,"bindings","bindings",1271397192),gn=new C(ca,"alt","cljs.spec.alpha/alt",523685437),hn=new C(null,"?status","?status",938730360),jn=new z(aa,"fn","cljs.core/fn",-1065745098,null),kn=new z(null,"median","median",-2084869638,null),ql=new C(null,"status","status",-1997798413),ln=new C(null,"version","version",425292698),mn=new C(null,"circle","circle",1903212362),nn=new C(null,"htmlFor","htmlFor",-1050291720),Ml=new C(null,"descendants","descendants",1824886031),
on=new C(null,"report","report",1394055010),pn=new C(null,"strs","strs",1175537277),qn=new C(null,"start","start",-355208981),rn=new C(null,"days","days",-1394072564),sn=new C(null,"ns-whitelist","ns-whitelist",-1717299774),tn=new z(null,"identical?","identical?",-745864205,null),un=new z(null,"complement","complement",-913606051,null),vn=new z(aa,"deref","cljs.core/deref",1901963335,null),wn=new C("transact","cas","transact/cas",816687170),xn=new C(null,"recur","recur",-437573268),yn=new C(ca,"nil",
"cljs.spec.alpha/nil",1733813950),zn=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),An=new C("db.fn","cas","db.fn/cas",-379352172),Bn=new C(null,"deny-spec","deny-spec",-1074984268),Cn=new C(null,"port","port",1534937262),Dn=new C("chsk","timeout","chsk/timeout",-319776489),En=new C(null,"*?data*","*?data*",1047537922),Fn=new C(null,"child-context","child-context",-1375270295),Gn=new C(null,"http","http",382524695),Hn=new C(null,"mandatory","mandatory",542802336),In=new z(null,"resolve-datom",
"resolve-datom",-294110827,null),Jn=new C(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Kn=new C(null,"udt","udt",2011712751),Ln=new C(null,"length","length",588987862),Mn=new C(null,"end-column","end-column",1425389514),Nn=new C(null,"appender-id","appender-id",-1917983538),On=new z(null,"with-open","with-open",172119667,null),Pn=new C(null,"timeout-ms","timeout-ms",754221406),Qn=new C(null,"ps","ps",292358046),Rd=new C("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),Rn=
new C(null,"opts","opts",155075701),Sn=new z(null,"list","list",-1889078086,null),Tn=new C(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),Un=new C(null,"not-delivered","not-delivered",1599158697),Vn=new z(null,"if-not","if-not",-265415609,null),Wn=new C(ia,"M","literate.app/M",893000259),Xn=new C(null,"blacklist","blacklist",1248093170),Yn=new C(ha,"expand-rev","datascript.pull-api/expand-rev",2143627459),Zn=new C(null,"state","state",-1988618099),$n=new C(null,"base-args","base-args",
-1268706822),ao=new C(null,"db-before","db-before",-553691536),bo=new z(null,"\x3d\x3d","\x3d\x3d",-234118149,null),co=new z(aa,"unquote","cljs.core/unquote",1013085760,null),eo=new C(null,"return-map","return-map",1620104901),ok=new C(aa,"not-found","cljs.core/not-found",-1572889185),fo=new C(null,"eids","eids",1546550700),go=new z(null,"compare","compare",1109853757,null),ho=new C(null,"vargs_","vargs_",552132148),io=new C(null,"server","server",1499190120),jo=new C(null,"expand-rev","expand-rev",
1249112650),ko=new C(null,"def","def",-1043430536),lo=new z(null,"dotimes","dotimes",-818708397,null),mo=new C(null,"raw-console?","raw-console?",-2061489061),no=new C(null,"conform-keys","conform-keys",-1800041814),to=new C("widget.type","vega-lite","widget.type/vega-lite",1594251738),uo=new C(null,"exception","exception",-335277064),vo=new C("rum","react-component","rum/react-component",-1879897248),wo=new C(null,"op","op",-1882987955),xo=new z(null,"finally","finally",-1065347064,null),yo=new z(null,
"str","str",-1564826950,null),zo=new z(null,"/","/",-1371932971,null),Ao=new z(null,"stddev","stddev",775056588,null),Bo=new C(null,"buffering","buffering",-876713613),Co=new z(aa,"string?","cljs.core/string?",-2072921719,null),Do=new C("ajax","bad-response-type","ajax/bad-response-type",789441015),Eo=new C("db","tupleAttrs","db/tupleAttrs",250080092),Fo=new C(null,"clean?","clean?",-1675631009),Go=new C(null,"tx-meta","tx-meta",1159283194),Ho=new C(null,"prefix-clauses","prefix-clauses",1294180028),
Io=new C(null,"illegal-argument","illegal-argument",-1845493170),Jo=new C("mem","all","mem/all",892075139),Ko=new C(null,"opt-un","opt-un",883442496),Lo=new C(null,"first-open?","first-open?",396686530),Mo=new C("chsk","ws-ping","chsk/ws-ping",191675304),No=new C(null,"rule","rule",729973257),Oo=new C("debug","timeout","debug/timeout",309499949),Po=new C("schema","validation","schema/validation",1178447161),Qo=new C(null,"right-margin","right-margin",-810413306),Ro=new C(null,"wildcard?","wildcard?",
-686044101),So=new z(null,"pos?","pos?",-244377722,null),To=new C("query","inputs","query/inputs",1042810394),Uo=new C(null,"wrong-id-type","wrong-id-type",-1213601689),Vo=new C(null,"exponentchar","exponentchar",1986664222),Wo=new C(null,"attribute","attribute",-2074029119),Xo=new z(null,"default","default",-347290801,null),Yo=new z(da,"includes?","clojure.string/includes?",-1842146260,null),Zo=new C(null,"tx","tx",466630418),$o=new C("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),
ap=new z(null,"locking","locking",1542862874,null),bp=new C(null,"uid","uid",-1447769400),cp=new C(null,"directive","directive",793559132),dp=new z(null,"subs","subs",1453849536,null),ep=new C(null,"seq","seq",-1817803783),fp=new C(null,"qname","qname",-1983612179),gp=new C(null,"where","where",-2044795965),hp=new z(null,"pr-str","pr-str",-2066912145,null),ip=new C(null,"set","set",304602554),jp=new C(null,"flush?","flush?",-108887231),kp=new z(null,"or-join","or-join",591375469,null),lp=new C(null,
"handshake?","handshake?",-423743093),mp=new C(ca,"name","cljs.spec.alpha/name",205233570),np=new z(null,"sum","sum",1777518341,null),op=new z(null,"some?","some?",234752293,null),pp=new z(null,"min","min",2085523049,null),qp=new C(null,"handshake","handshake",68079331),rp=new C(null,"error","error",-978969032),sp=new C(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),tp=new C(null,"base","base",185279322),up=new C(null,"actual","actual",107306363),vp=new C(null,"event","event",301435442),
wp=new C("widget.type","leaflet","widget.type/leaflet",-1837279356),xp=new C(null,"noop","noop",-673731258),yp=new C(null,"trailing-white-space","trailing-white-space",1496006996),zp=new z(null,"letfn*","letfn*",-110097810,null),Ap=new C(null,"handshake-data","handshake-data",-278378864),Bp=new C(null,"prefix","prefix",-265908465),Cp=new C("parser","binding","parser/binding",-346395752),Dp=new z(null,"$","$",-1580747756,null),Ep=new C("query","binding","query/binding",698240489),Fp=new C(null,"right-params",
"right-params",-1790676237),Gp=new C(null,"start-pos","start-pos",668789086),Al=new C(null,"keyword-fn","keyword-fn",-64566675),Hp=new C(null,"first","first",-644103046),Ip=new z(null,"let*","let*",1920721458,null),Jp=new C("widget.type","hiccup","widget.type/hiccup",48060386),Kp=new C(null,"for","for",-1323786319),Lp=new C(null,"pathname","pathname",-1420497528),Mp=new z(null,"limit","limit",284709164,null),Np=new C("widget","children","widget/children",485181574),Op=new C("db.fn","retractEntity",
"db.fn/retractEntity",-1423535441),Pp=new z(null,"re-seq","re-seq",-2105554076,null),Qp=new z(null,"when-first","when-first",821699168,null),Rp=new C(null,"ns-blacklist","ns-blacklist",1957763142),Sp=new C(null,"?err","?err",549653299),Tp=new C(null,"depth","depth",1768663640),Up=new C(null,"multi?","multi?",-749311069),Vp=new C(null,"onmessage-fn","onmessage-fn",1633804172),Wp=new C(null,"?error","?error",1070752222),Xp=new C(null,"href","href",-793805698),Yp=new z(null,"recur","recur",1202958259,
null),Zp=new C("widget.type","markdown","widget.type/markdown",177221797),$p=new z(null,"variance","variance",-1522424942,null),aq=new C(null,"type","type",1174270348),cq=new C(null,"none","none",1333468478),dq=new z(null,"_","_",-1201019570,null),eq=new C(null,"style","style",-496642736),fq=new C(null,"impl_","impl_",1218818179),gq=new C("parser","rule-var","parser/rule-var",-1584354459),hq=new C(null,"reader-error","reader-error",1610253121),iq=new z(null,"v","v",1661996586,null),jq=new C(ca,"op",
"cljs.spec.alpha/op",-1269055252),kq=new z(null,"m","m",-1021758608,null),lq=new z(null,"k","k",-505765866,null),mq=new C(null,"ws","ws",86841443),nq=new C(null,"span","span",1394872991),oq=new C("widget","code","widget/code",-845791534),pq=new C(null,"async?","async?",1523057758),qq=new C("entity-id","missing","entity-id/missing",1234588374),rq=new z(null,"count","count",-514511684,null),sq=new C(null,"no-stacktrace?","no-stacktrace?",1701072694),tq=new C(null,"code","code",1586293142),uq=new C("widget",
"geojson","widget/geojson",-434759602),vq=new C(null,"keys","keys",1068423698),wq=new C(null,"qfind","qfind",1529332972),xq=new C(null,"intra-block-nl","intra-block-nl",1808826875),yq=new C("parser","rule-vars","parser/rule-vars",-1493174969),zq=new C(null,"gen-max","gen-max",-793680445),rc=new C(null,"meta","meta",1499536964),Aq=new z(null,"not-join","not-join",-645515756,null),Bq=new C(null,"deny","deny",1589338523),Cq=new C(null,"wrap-render","wrap-render",1782000986),Dq=new C("widget.type","html",
"widget.type/html",-2034153477),Eq=new C(null,"subpattern","subpattern",45002743),Fq=new C(null,"datoms","datoms",-290874434),Gq=new C(null,"search","search",1564939822),Hq=new C("literate","widget","literate/widget",-1743430817),Iq=new C(null,"right","right",-452581833),Qq=new z(null,"println-str","println-str",-2049216703,null),Sq=new C(null,"host","host",-1558485167),Tq=new C(null,"err","err",-2089457205),Uq=new z(null,"when","when",1064114221,null),Vq=new z(ca,"coll-of","cljs.spec.alpha/coll-of",
1019430407,null),Wq=new z(aa,"set?","cljs.core/set?",-1176684971,null),Xq=new C(null,"logical-blocks","logical-blocks",-1466339776),Yq=new C(null,"\x3cserver","\x3cserver",-2135373537),Zq=new z(null,"quot","quot",-1125214196,null),$q=new C(null,"colinc","colinc",-584873385),ar=new C(null,"auto","auto",-566279492),br=new C(null,"find","find",496279456),cr=new z(null,"\x3e\x3d","\x3e\x3d",1016916022,null),dr=new C(null,"fatal","fatal",1874419888),er=new C(null,"logical-block","logical-block",-581022564),
fr=new C(null,"rate-limit","rate-limit",1748082022),gr=new z(null,"nil?","nil?",1612038930,null),hr=new C(null,"namespaced-keyword","namespaced-keyword",131372895),ir=new C(null,"your-version","your-version",-351781765),jr=new z(null,"or","or",1876275696,null),kr=new C(null,"col","col",-1959363084),lr=new C("db","fn","db/fn",-1175261470),mr=new C(null,"?ns-str","?ns-str",2012733966),nr=new C("entity-id","syntax","entity-id/syntax",1921317045),or=new C(null,"current","current",-1088038603),pr=new C(null,
"writing","writing",-1486865108),qr=new C(null,"ch-recv","ch-recv",-990916861),rr=new C(null,"start-col","start-col",668080143),sr=new C(null,"into","into",-150836029),tr=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),ur=new z(null,"set!","set!",250714521,null),vr=new C(null,"uri-str","uri-str",304128675),wr=new C(null,"parent","parent",-878878779),xr=new C(null,"instance-handle_","instance-handle_",-1923384457),yr=new C(null,"new","new",-2085437848),zr=new C("query","where","query/where",
-1935159429),Ar=new C("db","retract","db/retract",-1549825231),Br=new C(null,"free","free",801364328),Cr=new z(null,"missing?","missing?",-1710383910,null),Dr=new z(aa,"map?","cljs.core/map?",-1390345523,null),Er=new C(null,"seen","seen",-518999789),Fr=new C(null,"instant","instant",655498374),Gr=new z(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Hr=new z(null,"\x26","\x26",-2144855648,null),Ir=new C(null,"ex-kind","ex-kind",1581199296),Jr=new C(null,"internal","internal",-854870097),Kr=new C(null,
"right-bracket","right-bracket",951856080),Lr=new C(null,"last-ws-error","last-ws-error",-820288502),Mr=new C(null,"req-id","req-id",-471642231),Nr=new C(null,"schema","schema",-1582001791),Or=new C(null,"tx-data","tx-data",934159761),Pr=new C(null,"amp","amp",271690571),Qr=new C("db.unique","value","db.unique/value",276903088),Rr=new C(null,"csrf-token","csrf-token",-1872302856),Sr=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),Tr=new C(null,"will-update","will-update",328062998),Ur=new C("chsk",
"state","chsk/state",-1991397620),Vr=new z(null,"-Inf","-Inf",-2123243689,null),Wr=new C("db","id","db/id",-1388397098),Xr=new C(null,"vars","vars",-2046957217),Yr=new C(null,"any","any",1705907423),Zr=new C(null,"client-uuid","client-uuid",-1717531965),$r=new C(null,"will-unmount","will-unmount",-808051550),as=new z(null,"name","name",-810760592,null),bs=new C(null,"operation","operation",-1267664310),cs=new C(null,"after-render","after-render",1997533433),Xl=new C(null,"default","default",-1987822328),
ds=new C(null,"secs","secs",1532330091),es=new z("clojure.core","deref","clojure.core/deref",188719157,null),fs=new C(null,"padchar","padchar",2018584530),gs=new C(null,"unexpected","unexpected",-1137752424),hs=new C(null,"elidable?","elidable?",248362249),is=new C(null,"cache?","cache?",-1601953949),tc=new C(null,"print-length","print-length",1931866356),js=new C(null,"nil","nil",99600501),ks=new z(null,"odd?","odd?",-1458588199,null),ls=new C(null,"*","*",-1294732318),ms=new C(null,"json","json",
1279968570),ns=new C(null,"allow-spec","allow-spec",448749872),os=new C("db","retractEntity","db/retractEntity",-1452737935),ps=new C(null,"no-op","no-op",-93046065),qs=new z(null,"zero?","zero?",325758897,null),rs=new C(null,"buffer-block","buffer-block",-10937307),ss=new C(null,"reader-exception","reader-exception",-1938323098),ts=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),us=new C(null,"recursion","recursion",-749738765),vs=new z(null,"-","-",-471816912,null),ws=new C(null,
"req-un","req-un",1074571008),xs=new z(null,"keyword","keyword",-1843046022,null),ys=new C(null,"forms","forms",2045992350),zs=new C("db","attrTuples","db/attrTuples",860541631),As=new C(null,"cur","cur",1153190599),Bs=new C(null,"init","init",-1875481434),Cs=new C(null,"branches","branches",-1240337268),Ds=new z(null,"def","def",597100991,null),Es=new z(null,"dec","dec",-766002333,null),Fs=new C(fa,"internal","datascript.db/internal",-249301114),Gs=new z(null,"rand","rand",-1745930995,null),Hs=new C("rum",
"class","rum/class",-2030775258),El=new C(null,"keywordize-keys","keywordize-keys",1310784252),Is=new C("widget","type","widget/type",-1894308144),Js=new C(null,"pos","pos",-864607220),Ks=new C(ca,"v","cljs.spec.alpha/v",552625740),Ls=new C("transact","upsert","transact/upsert",412688078),Ms=new C(ca,"k","cljs.spec.alpha/k",-1602615178),Ns=new C(null,"kvps","kvps",65308317),Os=new C(null,"info","info",-317069002),Ps=new C(null,"output-fn","output-fn",1600951539),Qs=new z(null,"set","set",1945134081,
null),Rs=new C(null,"commainterval","commainterval",-1980061083),Ss=new C("mem","del","mem/del",574870667),Ts=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Us=new C(null,"elements","elements",657646735),Vs=new C(null,"send-buffers","send-buffers",-1788003787),Ws=new C(null,"total","total",1916810418),Xs=new C(null,"separator","separator",-1628749125),Ys=new z("datascript","Datom","datascript/Datom",-901340080,null),Zs=new z(null,"defonce","defonce",-1681484013,null),$s=new C(null,
"?content","?content",1697782054),at=new z(null,"%","%",-950237169,null),bt=new C(null,"form","form",-1624062471),ct=new C(null,"pretty-writer","pretty-writer",-1222834267),dt=new z(null,"..","..",-300507420,null),et=new C(fa,"tx-redundant","datascript.db/tx-redundant",-1117921977),ft=new C(null,"length-computable?","length-computable?",1915473276),gt=new z(null,"not\x3d","not\x3d",1466536204,null),ht=new C(null,"validator","validator",-1966190681),it=new C(null,"pretty","pretty",-1916372486),jt=
new C(null,"unnamespaced-id","unnamespaced-id",1976189772),kt=new C(null,"buffer-level","buffer-level",928864731),lt=new z(null,"range","range",-1014743483,null),mt=new z(da,"blank?","clojure.string/blank?",1772874244,null),nt=new C("rl","all","rl/all",892118056),ot=new C(null,"ever-opened?","ever-opened?",1128459732),pt=new C(null,"fragment","fragment",826775688),sl=new C(null,"pending","pending",-220036727),qt=new C(ca,"invalid","cljs.spec.alpha/invalid",-1220295119),rt=new C(ca,"pcat","cljs.spec.alpha/pcat",
26406623),qc=new C(null,"readably","readably",1129599760),st=new C(null,"chsk","chsk",-863703081),tt=new C(null,"file","file",-1269645878),ut=new C(null,"error-handler","error-handler",-484945776),vt=new C(null,"rschema","rschema",-1196134054),wt=new C(null,"progress-fn","progress-fn",-1146547855),xt=new C(null,"fill","fill",883462889),yt=new C("widget","center","widget/center",9752908),zt=new C("widget","html","widget/html",-1786567845),At=new C(null,"client-id","client-id",-464622140),Bt=new C(null,
"attrs","attrs",-2090668713),Ct=new C(ha,"recursion","datascript.pull-api/recursion",-1897884534),Dt=new C(null,"months","months",-45571637),Et=new C(null,"radix","radix",857016463),Ft=new C(null,"send-fn","send-fn",351002041),Gt=new C("parser","with","parser/with",-386255821),Ht=new C(null,"text","text",-1790561697),It=new C(null,"distinct","distinct",-1788879121),Jt=new C(null,"ns-str","ns-str",-2062616499),Kt=new z(null,"uuid","uuid",-504564192,null),Lt=new C(null,"udt-last-comms_","udt-last-comms_",
-145799639),Mt=new C(null,"entity-id","entity-id",1485898093),Nt=new C(null,"wildcard","wildcard",-622473020),Ot=new z(null,"queue","queue",-1198599890,null),Pt=new C(null,"block","block",664686210),St=new C(null,"else","else",-1508377146),Ut=new C(null,"variable","variable",-281346492),Vt=new z(null,"case*","case*",-1938255072,null),Wt=new C(null,"params","params",710516235),Nl=new C(null,"ancestors","ancestors",-776045424),Xt=new C(null,"tuples","tuples",-676032639),Yt=new C(null,"listeners","listeners",
394544445),Zt=new C(null,"retry-count_","retry-count_",20238093),$t=new C("db","cardinality","db/cardinality",-104975659),au=new z(null,"struct-map","struct-map",-1387540878,null),bu=new C(null,"hostname","hostname",2105669933),cu=new C(null,"rest","rest",-1241696419),du=new C(null,"min-remaining","min-remaining",962687677),eu=new C(null,"?data","?data",-9471433),fu=new C(null,"offset","offset",296498311),gu=new C(null,"var","var",-769682797),hu=new C(null,"commachar","commachar",652859327),iu=new C(null,
"error-level?","error-level?",778415885),ju=new C(null,"content","content",15833224),ku=new C(null,"ring-req","ring-req",-747861961),lu=new C(null,"loaded","loaded",-1246482293),mu=new z(null,"re-find","re-find",1143444147,null),nl=new C(null,"val","val",128701612),nu=new z(aa,"zipmap","cljs.core/zipmap",-1902130674,null),ou=new z(null,"-\x3e","-\x3e",-2139605430,null),pu=new C(null,"db-after","db-after",-571884666),qu=new C(null,"entity","entity",-450970276),ru=new C(null,"timeout","timeout",-318625318),
su=new C(null,"arglists","arglists",1661989754),tu=new z(null,"js*","js*",-1134233646,null),uu=new C(null,"end-pos","end-pos",-1643883926),vu=new C(null,"min-version","min-version",-1697197126),wu=new C(null,"pred-forms","pred-forms",172611832),xu=new C(null,"hours","hours",58380855),yu=new C(null,"trace-evs?","trace-evs?",1502453512),zu=new z(null,"catch","catch",-1616370245,null),Au=new z(null,"tuple","tuple",1167864243,null),Bu=new z(null,"count-distinct","count-distinct",-1566572514,null),Cu=
new C(null,"get","get",1683182755),Du=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Eu=new C(null,"kind","kind",-717265803),Fu=new C(null,"method","method",55703592),Gu=new C(null,"val-type","val-type",-279850094),Hu=new z(null,"defn","defn",-126010802,null),Iu=new C(null,"specs","specs",1426570741),Ju=new z(null,"struct","struct",325972931,null),Ku=new C("db.fn","call","db.fn/call",-151594418),Lu=new C("widget.type","code","widget.type/code",-673996494),Mu=new C(null,"gfn","gfn",
791517474),Nu=new C(null,"years","years",-1298579689),Ou=new C(null,"namespaced-map","namespaced-map",1235665380),Pu=new z(null,"prn-str","prn-str",-145225943,null),Qu=new C(ca,"accept","cljs.spec.alpha/accept",370988198),Ru=new z(null,"...","...",-1926939749,null),Su=new C("widget","style","widget/style",963211268),Tu=new C(null,"onerror-fn","onerror-fn",1069372505),Uu=new C(null,"xhr","xhr",-177710851),Vu=new C(null,"eavt","eavt",-666437073),Wu=new C(null,"mins","mins",467369676),Xu=new C(null,
"tag","tag",-1290361223),Yu=new C(null,"hostname_","hostname_",-2091647379),Zu=new C(null,"linear","linear",872268697),$u=new z(null,"new","new",-444906321,null),av=new C("db","cas","db/cas",-451542322),bv=new C(null,"other","other",995793544),cv=new z(null,"\x3e","\x3e",1085014381,null),dv=new C(null,"?msg-fmt","?msg-fmt",-852453891),ev=new C(null,"sections","sections",-886710106),fv=new C(null,"lines","lines",-700165781),gv=new z(null,"do","do",1686842252,null),hv=new C(null,"colon","colon",-965200945),
iv=new C("literate","widgets","literate/widgets",1235755088),jv=new C(null,"edn","edn",1317840885),kv=new C(null,"keys-pred","keys-pred",858984739),lv=new C(null,"?line","?line",-631853385),mv=new C(null,"test","test",577538877),nv=new z(null,"\x3d","\x3d",-1501502141,null),ov=new C(null,"minpad","minpad",323570901),pv=new z("datascript","DB","datascript/DB",-487332776,null),al=new C(null,"alt-impl","alt-impl",670969595),qv=new z(null,"not-empty","not-empty",2029453590,null),rv=new C(null,"conflict",
"conflict",1978796605),sv=new C(null,"datom","datom",-371556090),tv=new z(ca,"keys","cljs.spec.alpha/keys",1109346032,null),uv=new C(null,"given","given",716253602),vv=new C(null,"did-remount","did-remount",1362550500),wv=new z(null,"db","db",-1661185010,null),xv=new z(null,"with-local-vars","with-local-vars",837642072,null),yv=new C(null,"did-catch","did-catch",2139522313),zv=new z(null,"aggregate","aggregate",-1142967327,null),Av=new C(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),
Bv=new z(null,"and","and",668631710,null),Cv=new z(null,"try","try",-1273693247,null),Dv=new C(null,"location","location",1815599388),Ev=new C(null,"xml","xml",-1170142052),Fv=new z(null,"throw","throw",595905694,null),Gv=new C(null,"before-render","before-render",71256781),Hv=new z(null,"array-map","array-map",1555038968,null),Iv=new C(null,"?reply-fn","?reply-fn",-1479510592),Jv=new z(null,"let","let",358118826,null),pc=new C(null,"flush-on-newline","flush-on-newline",-151457939),Kv=new z(null,
"print-str","print-str",-699700354,null),Lv=new C(null,"opt-specs","opt-specs",-384905450),Mv=new z(null,"meta","meta",-1154898805,null),Nv=new C(null,"wrong-length","wrong-length",1367572281),Ov=new C(null,"rules","rules",1198912366),Pv=new C(null,"rels","rels",1770187185),Qv=new C(null,"pred-exprs","pred-exprs",1792271395),Rv=new z(null,"if","if",1181717262,null),Sv=new z(null,"get-some","get-some",409442058,null),Tv=new C("rum","args","rum/args",1315791754),Uv=new C(null,"binding","binding",539932593),
Vv=new C(null,"character","character",380652989),Wv=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),Xv=new C(null,"eid","eid",559519930),Yv=new C(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),Zv=new z(null,"hash-map","hash-map",-439030950,null),$v=new z(null,"loop*","loop*",615029416,null),aw=new C(null,"min-count","min-count",1594709013),bw=new C(null,"last","last",1105735132),cw=new z(null,"quote","quote",1377916282,null),dw=new z(aa,"vector?","cljs.core/vector?",-1550392028,null),ew=new z(aa,
"lift-ns","cljs.core/lift-ns",463499081,null),fw=new C(null,"k","k",-2146297393),gw=new C(null,"hierarchy","hierarchy",-1053470341),hw=new C(null,"qreturn-map","qreturn-map",1841215994),iw=new C(null,"e","e",1381269198),jw=new C(null,"f","f",-1597136552),kw=new C(null,"trace","trace",-1082747415),lw=new C(null,"d","d",1972142424),mw=new C(null,"a","a",-2123407586),nw=new C("rl","reset","rl/reset",-800926172),ow=new z(null,"pull","pull",779986722,null),pw=new C(null,"ajax-cb","ajax-cb",-807060321),
qw=new z(da,"starts-with?","clojure.string/starts-with?",656256322,null),rw=new C(null,"w","w",354169001),sw=new z(null,"fn","fn",465265323,null),tw=new C(null,"v","v",21465059),uw=new C(ia,"geojson-layer","literate.app/geojson-layer",-1636567316),vw=new C(null,"last-close","last-close",-2054255782),ww=new C(null,"strable","strable",1877668047),xw=new C(null,"p","p",151049309),yw=new C(null,"n","n",562130025),zw=new C(ia,"tile-layer","literate.app/tile-layer",-1851953253),Aw=new C(null,"func","func",
-238706040),Bw=new C(null,"symbol","symbol",-1038572696),Cw=new C(null,"got","got",-1674745710),Dw=new z(aa,"contains?","cljs.core/contains?",-976526835,null),Ew=new C(null,"indent-t","indent-t",528318969),Fw=new z(null,"lift-ns","lift-ns",602311926,null),Gw=new C(null,"middleware","middleware",1462115504),Hw=new C(null,"value","value",305978217),Iw=new C(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),bl=new C(null,"fallback-impl","fallback-impl",-1501286995),Jw=new C(null,"sources","sources",-321166424),
Kw=new C(null,"enabled?","enabled?",-1376075057),Lw=new z(null,"ns","ns",2082130287,null),Mw=new C(null,"req","req",-326448303),Nw=new C(null,"height","height",1025178622),Ow=new C(null,"ret","ret",-468222814),Pw=new C("parser","rule","parser/rule",-464044566),Qw=new C(null,"done","done",-889844188),Rw=new C(null,"chs","chs",376886120),Sw=new C(null,"both","both",-393648840),Tw=new C(null,"debug","debug",-1608172596),Uw=new C(null,"vector","vector",1902966158),Vw=new C(null,"req-specs","req-specs",
553962313),Ww=new C(null,"end","end",-268185958),Xw=new C(null,"wrong-type","wrong-type",929556915),Yw=new C(null,"connected-uids","connected-uids",1454332231),Zw=new z(null,"distinct","distinct",-148347594,null),$w=new z(null,"get-else","get-else",1312024065,null),ax=new C(null,"className","className",-1983287057),bx=new C(null,"buffer-blob","buffer-blob",-1830112173),cx=new C(null,"allows-separator","allows-separator",-818967742),dx=new z("clojure.core","unquote","clojure.core/unquote",843087510,
null),ex=new C(null,"appenders","appenders",1245583998),fx=new C(null,"colon-up-arrow","colon-up-arrow",244853007),gx=new z(null,"*","*",345799209,null),hx=new C("rl","peek","rl/peek",-291391771),ix=new C(null,"flags","flags",1775418075),jx=new C(null,"eof","eof",-489063237),kx=new z(null,"-differ?","-differ?",1465687357,null),lx=new C(null,"ws-kalive-ms","ws-kalive-ms",1442179968),mx=new z(null,"js","js",-886355190,null),nx=new C(null,"relative-to","relative-to",-470100051),ox=new z(null,"doseq",
"doseq",221164135,null),px=new C("widget","parent","widget/parent",-1665940103),qx=new z(null,"avg","avg",1837937727,null),rx=new z(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),sx=new z(null,"not","not",1044554643,null),tx=new z(aa,"list?","cljs.core/list?",-684796618,null),ux=new C(null,"max-eid","max-eid",2134868075),vx=new C(null,"expand-kvps","expand-kvps",44141154),wx=new C(null,"unknown","unknown",-935977881),Sk=new C(null,"more-marker","more-marker",-14717935),xx=new z(null,
"p1__22749#","p1__22749#",-979510841,null),yx=new C(null,"index-access","index-access",-1548960265),zx=new C(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Ax=new C("parser","where","parser/where",-966053850),Bx=new C(null,"aevt","aevt",-585148059),Cx=new C(null,"used-args","used-args",23596256),Dx=new C(null,"nl-t","nl-t",-1608382114),Ex=new C(null,"symbols","symbols",1211743),Fx=new z(null,"var","var",870848730,null),Gx=new C(null,"qualifier","qualifier",125841738),Hx=new C(null,"attr","attr",-604132353),
Ix=new C(null,"doc","doc",1913296891),Jx=new C("chsk","bad-package","chsk/bad-package",501893679),Kx=new C(null,"cbs-waiting_","cbs-waiting_",-1519029061),rl=new C(null,"ready","ready",1086465795),Lx=new z(null,"neg?","neg?",-1902175577,null),Mx=new C(null,"hash_","hash_",-827203612),Nx=new C(null,"http-error","http-error",-1040049553),Ox=new C("db.cardinality","one","db.cardinality/one",1428352190),Px=new z(null,"untuple","untuple",-606149900,null),Qx=new C("parser","query","parser/query",1877320671),
Rx=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),Sx=new C(null,"added","added",2057651688),Tx=new C(null,"?file","?file",1533429675),Ux=new z(null,"mod","mod",1510044207,null),Vx=new C(null,"qin","qin",1372651151),Wx=new z(null,"cond","cond",1606708055,null),Xx=new z(null,"\x3c","\x3c",993667236,null),Yx=new C(null,"map","map",1371690461),Zx=new C(null,"open?","open?",1238443125),$x=new C(null,"element","element",1974019749),ay=new C(null,"char-format","char-format",-1016499218),by=new z(null,
"type","type",-1480165421,null),cy=new C("parser","pull","parser/pull",-2147427204),dy=new C(null,"mode","mode",654403691),ey=new C(null,"max-columns","max-columns",1742323262),fy=new C(null,"will-mount","will-mount",-434633071),gy=new C(null,"max","max",61366548),hy=new C(null,"pending-guards","pending-guards",-1255527308),iy=new C(null,"last-ws-close","last-ws-close",-798104932),jy=new z(null,"when-let","when-let",-1383043480,null),ky=new C("db","index","db/index",-1531680669),ly=new C(null,"url",
"url",276297046),my=new C(null,"rattr","rattr",-1122345563),ny=new C(null,"qwhere","qwhere",-1645067378),oy=new C(null,"count","count",2139924085),py=new C(null,"clauses","clauses",1454841241),qy=new z(null,"empty?","empty?",76408555,null),ry=new z(null,"re-matches","re-matches",-1865705768,null),sy=new C(null,"static-properties","static-properties",-577838503),ty=new C(null,"ever-opened?_","ever-opened?_",1641338913),uy=new C(null,"miser-width","miser-width",-1310049437),vy=new C(null,"expand","expand",
595248157),wy=new z(null,"p1__22750#","p1__22750#",1875457744,null),xy=new z(null,"binding","binding",-2114503176,null),yy=new z(null,"ground","ground",-1460862835,null),zy=new C(null,"state_","state_",957667102),Ay=new C("rum","component-stack","rum/component-stack",2037541138),By=new C(null,"index","index",-1531685915),Cy=new C(null,"class","class",-2030961996),Dy=new C(null,"packer","packer",66077544),Jy=new C("db.unique","identity","db.unique/identity",1675950722),Ky=new C(null,"success?","success?",
-122854052),Ly=new C(fa,"queued-tuples","datascript.db/queued-tuples",-762852029),My=new z(null,".",".",1975675962,null),Ny=new C(null,"at","at",1476951349),Oy=new C("transact","unique","transact/unique",-940992320),Py=new C(null,"splice","splice",449588165),Qy=new C(null,"dispatch","dispatch",1319337009),Ry=new z(null,"inst","inst",-2008473268,null),Sy=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),Ty=new z(null,"sample","sample",1719555128,null),Uy=new C("widget","markdown","widget/markdown",
-145862203),Vy=new C(null,"max-tx","max-tx",1119558339),Wy=new C("lookup-ref","syntax","lookup-ref/syntax",-317304012),Xy=new C(null,"as","as",1148689641),Yy=new C(null,"?meta","?meta",-793560773),Zy=new C(null,"name","name",1843675177),$y=new C(null,"syms","syms",-1575891762),az=new C(null,"vargs","vargs",-966597273),bz=new C("chsk","bad-event","chsk/bad-event",-565206930),cz=new C("db.type","ref","db.type/ref",-1728373079),dz=new C(null,"queue","queue",1455835879),ez=new C(null,"stacktrace-fonts",
"stacktrace-fonts",830799382),fz=new C(null,"warn","warn",-436710552),gz=new z(null,"loop","loop",1244978678,null),hz=new C("parser","find","parser/find",-801023103),iz=new C(null,"appender","appender",1267426510),jz=new C(null,"selector","selector",762528866),kz=new C(null,"key-fn","key-fn",-636154479),lz=new C(null,"parameter-from-args","parameter-from-args",-758446196),mz=new C(null,"miser","miser",-556060186),nz=new C("mem","fresh","mem/fresh",-1179989133),oz=new C(null,"ajax","ajax",814345549),
pz=new z(null,"inc","inc",324505433,null),qz=new C(null,"rule-vars","rule-vars",1665972520),rz=new C(null,"backoff-ms-fn","backoff-ms-fn",772895955),sz=new C(null,"context","context",-830191113),tz=new C(null,"chsk-url-fn","chsk-url-fn",1968894294),uz=new C(null,"colnum","colnum",2023796854),vz=new C(null,"raw-resp","raw-resp",-1924342506),wz=new C(null,"section","section",-300141526),xz=new C(null,"bracket-info","bracket-info",-1600092774),yz=new z(null,"even?","even?",-1827825394,null),zz=new z(null,
"Inf","Inf",647172781,null),Az=new z(aa,"map","cljs.core/map",-338988913,null),Bz=new C(null,"did-mount","did-mount",918232960),sc=new C(null,"dup","dup",556298533),Cz=new C(null,"prefix-context","prefix-context",-1269613591),Dz=new C(null,"init-db","init-db",1595181278),Ez=new C(null,"should-update","should-update",-1292781795),Fz=new C(null,"timestamp_","timestamp_",-954533417),Gz=new C("ajax","resp-as-text","ajax/resp-as-text",141416819),Hz=new C(null,"socket_","socket_",-361048908),Iz=new C(ca,
"rep","cljs.spec.alpha/rep",1483217317),Jz=new C(null,"fn","fn",-1175266204),Kz=new C(null,"args","args",1315556576),Lz=new C(null,"suffix","suffix",367373057),Mz=new C(null,"old","old",-1825222690),Nz=new C(null,"qwith","qwith",-45809392),Oz=new z(null,"defn-","defn-",1097765044,null),Pz=new C(null,"pattern","pattern",242135423),Qz=new C(null,"div.p-2","div.p-2",-325121057),Rz=new C(null,"required","required",1807647006),Sz=new C(null,"priority","priority",1431093715),Tz=new C(null,"buffer","buffer",
617295198),Uz=new C(null,"inherit","inherit",-1840815422),Vz=new C(null,"msg_","msg_",-1925147E3),Wz=new C(null,"opt-keys","opt-keys",1262688261),Xz=new z(null,"when-not","when-not",-1223136340,null),Yz=new C(null,"ev","ev",-406827324),Zz=new C(null,"console","console",1228072057),$z=new C("parser","in","parser/in",1617442048),aA=new C(null,"hash","hash",-13781596),bA=new z(null,"namespace","namespace",1263021155,null),cA=new C(null,"?content-type","?content-type",-2129759049),dA=new C(null,"post",
"post",269697687),eA=new C(null,"simple-auto-threading?","simple-auto-threading?",1950754184),fA=new C(null,"arg3","arg3",-1486822496),gA=new C(null,"min-level","min-level",1634684919),hA=new C(null,"arg1","arg1",951899358),iA=new C("db","valueType","db/valueType",1827971944),jA=new C(null,"arg2","arg2",1729550917),kA=new C(null,"list","list",765357683),lA=new C("db","ident","db/ident",-737096),mA=new C(null,"dt","dt",-368444759),nA=new C(null,"min","min",444991522),oA=new C("literate","!transact",
"literate/!transact",758397308),pA=new z(null,"re-pattern","re-pattern",1047705161,null),qA=new C(null,"column","column",2078222095),rA=new C(null,"key","key",-1516042587),sA=new z(null,"rand-int","rand-int",-495012157,null),tA=new C("chsk","recv","chsk/recv",561097091),uA=new C(null,"up-arrow","up-arrow",1705310333),vA=new z(null,"contains?","contains?",-1676812576,null),wA=new z(null,"true?","true?",-1600332395,null),xA=new C(null,"?ratio","?ratio",-1275760831),yA=new z(null,"+","+",-740910886,
null),zA=new C(null,"generator-fn","generator-fn",811851656),AA=new C(null,"req-keys","req-keys",514319221),BA=new C(null,"logical-block-callback","logical-block-callback",1612691194),CA=new C(null,"resp-type","resp-type",1050675962),DA=new C("db.cardinality","many","db.cardinality/many",772806234),EA=new C(null,"weeks","weeks",1844596125),FA=new C(null,"overflowchar","overflowchar",-1620088106),GA=new C(null,"with","with",-1536296876),HA=new C(null,"cb","cb",589947841),IA=new C("swap","dissoc","swap/dissoc",
-605373782),JA=new C(null,"ppstr","ppstr",1557495252),Ll=new C(null,"parents","parents",-2027538891),KA=new C("chsk","handshake","chsk/handshake",64910686),LA=new C(null,"with-credentials?","with-credentials?",-1773202222),MA=new C(null,"mincol","mincol",1230695445),NA=new C(null,"protocol","protocol",652470118),OA=new C(null,"curr-xhr_","curr-xhr_",-1318773696),PA=new z(null,"if-let","if-let",1803593690,null),QA=new C(null,"*assert*","*assert*",-160895053),RA=new C("chsk","dummy-cb-200","chsk/dummy-cb-200",
-1663130337),SA=new z(null,"condp","condp",1054325175,null),TA=new z(null,"rem","rem",664046770,null),UA=new C("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),VA=new C(null,"deref","deref",-145586795),WA=new C(null,"in","in",-1531184865),XA=new C(ca,"unknown","cljs.spec.alpha/unknown",651034818),YA=new C(null,"max-iterations","max-iterations",2021275563),ZA=new C(null,"output_","output_",-36797880),$A=new C(null,"opt","opt",-794706369),aB=new C(null,"reason","reason",-2070751759),bB=
new C(null,"assertion","assertion",-1645134882),cB=new C(null,"config","config",994861415),dB=new C(null,"id","id",-1388402092),eB=new z(null,"?e","?e",-1194391683,null),fB=new C(null,"onclose-fn","onclose-fn",-1388163785),gB=new C(null,"stream","stream",1534941648),hB=new C(null,"results","results",-1134170113),iB=new z(null,"false?","false?",-1522377573,null),jB=new C("widget","uuid","widget/uuid",-585315811),kB=new z(null,"deftype*","deftype*",962659890,null),lB=new C(null,"rep+","rep+",-281382396),
mB=new C(null,"ajax-opts","ajax-opts",-518239109),nB=new z(null,"NaN","NaN",666918153,null),oB=new C(null,"indent","indent",-148200125),pB=new C("chsk","closed","chsk/closed",-922855264),qB=new C(null,"msecs","msecs",1711980553),rB=new z(null,"defmacro","defmacro",2054157304,null),sB=new C("db","add","db/add",235286841),tB=new z(null,"vector","vector",-751469611,null),uB=new C(null,"recv-buf-or-n","recv-buf-or-n",1363950355),vB=new C(null,"porrl","porrl",-1693905102),wB=new C(ca,"conform-all","cljs.spec.alpha/conform-all",
45201917),xB=new C(null,"else-params","else-params",-832171646),yB=new C(null,"keyword","keyword",811389747),zB=new C(null,"whitelist","whitelist",-979294437),AB=new C(null,"end-block-t","end-block-t",1544648735),BB=new C(null,"tempids","tempids",1767509089),CB=new C(null,"errors","errors",-908790718),DB=new C(null,"max-count","max-count",1539185305);function EB(a,b,c){if(zg(c)){var d=gh(Cg,Lh.j(a,c));return b.B?b.B(d):b.call(null,d)}return Ei(c)?(d=new X(function(){var e=gd(c);return a.B?a.B(e):a.call(null,e)}(),function(){var e=hd(c);return a.B?a.B(e):a.call(null,e)}()),b.B?b.B(d):b.call(null,d)):Lf(c)?(d=Mk(Lh.j(a,c)),b.B?b.B(d):b.call(null,d)):Gf(c)?(d=v.C(function(e,f){return pf.j(e,a.B?a.B(f):a.call(null,f))},c,c),b.B?b.B(d):b.call(null,d)):Cf(c)?(d=ai.j(sf(c),Lh.j(a,c)),b.B?b.B(d):b.call(null,d)):b.B?b.B(c):b.call(null,c)}
var FB=function FB(a,b){return EB(xh(FB,a),a,b)};var GB={};function HB(a,b,c){var d=RegExp,e=b.source,f=q(b.ignoreCase)?"gi":"g";f=q(b.multiline)?[f,"m"].join(""):f;b=q(b.Ki)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function IB(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=Oh(2,d);if(D.j(K(d),1))return d=H(d),a.B?a.B(d):a.call(null,d);d=Yf(d);return a.B?a.B(d):a.call(null,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.F=c;return b}()}
function JB(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?HB(a,b,c):HB(a,b,IB(c));throw["Invalid match arg: ",t.B(b)].join("");}function KB(a){var b=new dc;for(a=E(a);;)if(null!=a)b=b.append(t.B(H(a))),a=J(a);else return b.toString()}
function LB(a,b){var c=new dc;for(b=E(b);;)if(null!=b)c.append(t.B(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}function MB(a){return Nb(a)}function NB(a,b){if(0>=b||b>=2+K(a))return pf.j(Yf(hf("",Lh.j(t,E(a)))),"");if(q(xg.j?xg.j(1,b):xg.call(null,1,b)))return new W(null,1,5,Y,[a],null);if(q(xg.j?xg.j(2,b):xg.call(null,2,b)))return new W(null,2,5,Y,["",a],null);b-=2;return pf.j(Yf(hf("",Mi(Yf(Lh.j(t,E(a))),0,b))),yg.j(a,b))}function OB(a,b){return PB(a,b,0)}
function PB(a,b,c){if("/(?:)/"===t.B(b))b=NB(a,c);else if(1>c)b=Yf(t.B(a).split(b));else a:for(var d=c,e=qf;;){if(1===d){b=pf.j(e,a);break a}var f=Ok(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=pf.j(e,a.substring(0,h));a=f}else{b=pf.j(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:kd(c)))c=null==c?null:ld(c);else break a;else c=b;return c}function QB(a){return vb(null==a?"":String(a))};var RB={},SB,TB,UB,VB;function WB(a,b){if(null!=a&&null!=a.pe)a=a.pe(a,b);else{var c=WB[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=WB._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.conform*",a);}return a}function XB(a,b){if(null!=a&&null!=a.qe)a=a.qe(a,b);else{var c=XB[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=XB._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.with-gen*",a);}return a}var YB=Ch(V);
function ZB(a){if(Gg(a)){var b=y(YB);a=B.j(b,a);if(Gg(a))a:for(;;)if(Gg(a))a=B.j(b,a);else{b=a;break a}else b=a;return b}return a}function $B(a){if(Gg(a)){var b=ZB(a);if(q(b))return b;throw Error(["Unable to resolve spec: ",t.B(a)].join(""));}return a}function aC(a){return null!=a&&l===a.Se?a:null}function bC(a){var b=jq.B(a);return q(b)?a:b}function cC(a,b){return Gg(a)?a:q(bC(a))?Q.C(a,mp,b):null!=a&&(a.J&131072||l===a.je)?xf(a,Q.C(yf(a),mp,b)):null}
function dC(a){return Gg(a)?a:q(bC(a))?mp.B(a):null!=a&&(a.J&131072||l===a.je)?mp.B(yf(a)):null}function eC(a){var b=function(){var c=Gg(a)?ZB(a):!1;if(q(c))return c;c=aC(a);if(q(c))return c;c=bC(a);return q(c)?c:null}();return q(bC(b))?cC(fC(b,null),dC(b)):b}function gC(a){var b=eC(a);if(q(b))return b;if(Gg(a))throw Error(["Unable to resolve spec: ",t.B(a)].join(""));return null}
function hC(a){if(QB(a))return null;a=Lh.j(fm,OB(a,"$"));if(2<=K(a)&&rh(function(c){return!QB(c)},a)){var b=Lk(vk,of)(a);a=P(b,0,null);b=P(b,1,null);return ze.B([LB(".",a),"/",t.B(b)].join(""))}return null}
var jC=function(){function a(d,e){var f=iC[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=iC._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("Specize.specize*",d);}function b(d){var e=iC[pa(null==d?null:d)];if(null!=e)return e.B?e.B(d):e.call(null,d);e=iC._;if(null!=e)return e.B?e.B(d):e.call(null,d);throw Cc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.j=a;return c}(),iC=function iC(a){switch(arguments.length){case 1:return iC.B(arguments[0]);case 2:return iC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};iC.B=function(a){return null!=a&&null!=a.zd?a.zd(a):jC(a)};iC.j=function(a,b){return null!=a&&null!=a.Ad?a.Ad(a,b):jC(a,b)};iC.$=2;C.prototype.zd=function(){return iC($B(this))};C.prototype.Ad=function(){return iC($B(this))};z.prototype.zd=function(){return iC($B(this))};
z.prototype.Ad=function(){return iC($B(this))};qk.prototype.zd=function(){return kC(this,this,null,null,null)};qk.prototype.Ad=function(a,b){return kC(b,this,null,null,null)};
iC._=function(){function a(c){var d=vf(c)?hC(c.name):!1;return q(d)?kC(d,c,null,null,null):kC(XA,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return kC(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return kC(d,c,null,null,null)};return b}();
var lC=function lC(a){switch(arguments.length){case 1:return lC.B(arguments[0]);case 2:return lC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};lC.B=function(a){var b=aC(a);return q(b)?b:iC(a)};lC.j=function(a,b){var c=aC(a);return q(c)?c:iC(a,b)};lC.$=2;function mC(a,b){a=ZB(a);return q(bC(a))?Q.C(a,Rx,b):XB(lC.B(a),b)}
function nC(a,b,c){if(null==c)Eh.C(YB,R,a);else{var d=aC(c);q(d)||(d=bC(c),d=q(d)?d:B.j(y(YB),c));b=q(d)?c:kC(b,c,null,null,null);Eh.O(YB,Q,a,cC(b,a))}}function oC(a,b,c){if(q(a)){var d=gC(a);if(q(d))return WB(lC.B(d),b);if(Nf(a))return q(null)?a.B?a.B(b):a.call(null,b):q(a.B?a.B(b):a.call(null,b))?b:qt;throw Error([fl.F(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function pC(a,b){a=lC.B(a);return!S(qt,WB(a,b))}
function kC(a,b,c,d,e){if(q(aC(b)))return q(c)?mC(b,c):b;if(q(bC(b)))return fC(b,c);if(Gg(b))return a=gC(b),q(c)?mC(a,c):a;if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof TB)TB=function(f,h,k,m,n,r){this.form=f;this.pred=h;this.Jd=k;this.zf=m;this.Tg=n;this.Mh=r;this.J=393216;this.T=0},TB.prototype.ea=function(f,h){return new TB(this.form,this.pred,this.Jd,this.zf,this.Tg,h)},TB.prototype.da=function(){return this.Mh},TB.prototype.zd=function(){return this},
TB.prototype.Ad=function(){return this},TB.prototype.Se=l,TB.prototype.pe=function(f,h){f=this.pred.B?this.pred.B(h):this.pred.call(null,h);return q(this.zf)?f:q(f)?h:qt},TB.prototype.qe=function(f,h){return kC(this.form,this.pred,h,this.zf,this.Tg)},TB.Mb=!0,TB.wb="cljs.spec.alpha/t_cljs$spec$alpha21764",TB.Wb=function(f){return Jd(f,"cljs.spec.alpha/t_cljs$spec$alpha21764")};return new TB(a,b,c,d,e,V)}
function qC(a,b,c){var d=E(b);H(d);J(d);d=E(c);H(d);J(d);for(d=c;;){c=a;b=E(b);a=H(b);b=J(b);var e=E(d);d=H(e);e=J(e);var f=d;d=e;if(q(a)){c=oC(a,c,f);if(S(qt,c))return qt;a=c}else return c}}var rC=new p(null,4,[dw,qf,Wq,sk,tx,Ge,Dr,V],null);
function sC(a,b,c,d){function e(wa,xa,Ra,ka){return pf.j(wa,ka)}var f=null!=c&&(c.J&64||l===c.va)?gh(hk,c):c,h=B.j(f,DB),k=B.j(f,zn),m=B.C(f,zq,20),n=B.j(f,Sr),r=B.j(f,no),u=B.j(f,Sy),w=B.j(f,It),A=B.j(f,Wv),G=B.j(f,oy),I=B.j(f,aw),F=B.j(f,Eu),N=B.j(f,wB),O=B.j(f,sr),U=q(O)?sf(O):B.j(rC,k),ea=new pl(function(){return lC.B(b)}),va=function(){return q(A)?A:function(wa){return wa}}();if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof UB)UB=function(wa,
xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq){this.form=wa;this.Ih=xa;this.bh=Ra;this.Jd=ka;this.zh=oa;this.pred=Ca;this.Te=ua;this.Hh=Ba;this.th=Ua;this.Eh=ac;this.$g=yb;this.Ne=ec;this.xh=Xb;this.distinct=Pd;this.spec=Zf;this.Dh=zf;this.yh=Og;this.count=Yc;this.Zh=Ad;this.pc=te;this.kind=$f;this.sg=Bd;this.hi=ue;this.sh=Cd;this.Oh=bq;this.J=393216;this.T=0},UB.prototype.ea=function(wa,xa){return new UB(this.form,this.Ih,this.bh,this.Jd,this.zh,this.pred,this.Te,this.Hh,
this.th,this.Eh,this.$g,this.Ne,this.xh,this.distinct,this.spec,this.Dh,this.yh,this.count,this.Zh,this.pc,this.kind,this.sg,this.hi,this.sh,xa)},UB.prototype.da=function(){return this.Oh},UB.prototype.zd=function(){return this},UB.prototype.Ad=function(){return this},UB.prototype.Se=l,UB.prototype.pe=function(wa,xa){wa=y(this.spec);if(yc(this.Te.B?this.Te.B(xa):this.Te.call(null,xa)))return qt;if(q(this.sg)){var Ra=this.Ne.B?this.Ne.B(xa):this.Ne.call(null,xa),ka=P(Ra,0,null),oa=P(Ra,1,null);Ra=
P(Ra,2,null);var Ca=ka.B?ka.B(xa):ka.call(null,xa);ka=0;var ua=E(xa);xa=E(ua);H(xa);J(xa);for(xa=Ca;;){var Ba=ua;Ca=E(Ba);ua=H(Ca);Ca=J(Ca);if(Ba){Ba=WB(wa,ua);if(S(qt,Ba))return qt;xa=oa.O?oa.O(xa,ka,ua,Ba):oa.call(null,xa,ka,ua,Ba);ka+=1;ua=Ca}else return Ra.B?Ra.B(xa):Ra.call(null,xa)}}else if($e(xa))for(oa=sg(K(xa)/101),oa=1>oa?1:oa,ka=0;;){if(ka>=K(xa))return xa;if(pC(wa,bf(xa,ka)))ka+=oa;else return qt}else for(ka=0,oa=E(xa),Ra=E(oa),H(Ra),J(Ra);;){ua=E(oa);Ra=H(ua);Ca=J(ua);ua=Ra;Ba=oa;if(null==
Ba||D.j(ka,101))return xa;if(pC(wa,ua))oa=Ca,ka+=1;else return qt}},UB.prototype.qe=function(wa,xa){return sC(this.form,this.pred,this.pc,xa)},UB.Mb=!0,UB.wb="cljs.spec.alpha/t_cljs$spec$alpha22111",UB.Wb=function(wa){return Jd(wa,"cljs.spec.alpha/t_cljs$spec$alpha22111")};return new UB(a,h,function(wa){return pC(y(ea),wa)},d,m,b,n,f,r,k,e,function(wa){return Hf(wa)&&(yc(O)||Hf(O))?new W(null,3,5,Y,[dg,function(xa,Ra,ka,oa){return ka===oa?xa:Q.C(xa,Ra,oa)},dg],null):q(Ff(wa)?function(){var xa=q(F)?
yc(O):F;return q(xa)?xa:Ff(O)}():!1)?new W(null,3,5,Y,[q(r)?sf:dg,function(xa,Ra,ka,oa){return ka===oa&&yc(r)?xa:Q.C(xa,bf(q(r)?oa:ka,0),bf(oa,1))},dg],null):zg(O)||Lf(O)||yc(O)&&(zg(wa)||Lf(wa))?new W(null,3,5,Y,[sf,e,Bg],null):new W(null,3,5,Y,[function(xa){return sf(q(O)?O:xa)},e,dg],null)},u,w,ea,va,U,G,I,f,F,N,c,O,V)}function tC(a){return new p(null,2,[jq,Qu,Ow,a],null)}function uC(a){a=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;a=B.j(a,jq);return D.j(Qu,a)}
var vC=function vC(a){var c=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,d=B.j(c,Qn);a=E(d);var e=H(a);a=J(a);var f=B.j(c,Ym),h=E(f),k=H(h);h=J(h);var m=B.j(c,ys),n=E(m);H(n);n=J(n);var r=B.j(c,Ow);c=B.j(c,lB);return rh(dg,d)?uC(e)?(d=Ow.B(e),d=pf.j(r,q(f)?uf([k,d]):d),a?(a=new p(null,4,[Qn,a,Ym,h,ys,n,Ow,d],null),vC.B?vC.B(a):vC.call(null,a)):tC(d)):new p(null,6,[jq,rt,Qn,d,Ow,r,Ym,f,ys,m,lB,c],null):null};
function wC(a,b,c,d,e){return q(a)?(d=new p(null,5,[jq,Iz,nm,b,Py,d,ys,e,dB,bm()],null),uC(a)?Q.F(d,pm,b,M([Ow,pf.j(c,Ow.B(a))])):Q.F(d,pm,a,M([Ow,c]))):null}
function xC(a,b,c,d){return q(q(b)?b:c)?(a=Zh(function(e){e=H(e);return d.B?d.B(e):d.call(null,e)},Lh.O(Hi,a,function(){var e=E(b);return e?e:Rh(null)}(),function(){var e=E(c);return e?e:Rh(null)}())),new W(null,3,5,Y,[E(Lh.j(H,a)),q(b)?E(Lh.j(mf,a)):null,q(c)?E(Lh.j(function(e){return bf(e,2)},a)):null],null)):new W(null,3,5,Y,[E(Zh(d,a)),b,c],null)}
function yC(a,b,c){var d=xC(a,b,c,dg);c=P(d,0,null);b=E(c);a=H(b);var e=J(b),f=P(d,1,null);b=P(f,0,null);d=P(d,2,null);return q(c)?(c=new p(null,4,[jq,gn,Qn,c,Ym,f,ys,d],null),null==e?q(b)&&(uC(a)?(a=Ow.B(a),a=tC(new X(b,a))):a=c):a=c,a):null}function zC(a,b){return q(q(a)?b:a)?yC(M([a,b]),null,null):q(a)?a:b}
var AC=function AC(a){a=$B(a);var c=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,d=B.j(c,jq),e=B.j(c,Qn);a=B.j(c,pm);var f=B.j(c,nm);c=B.j(c,ys);if(D.j(Qu,d))return!0;if(D.j(null,d))return null;if(D.j(Zm,d))return d=AC.B?AC.B(a):AC.call(null,a),q(d)?(a=qC(BC(a),e,J(c)),!S(qt,a)):d;if(D.j(Iz,d))return(e=a===f)?e:AC.B?AC.B(a):AC.call(null,a);if(D.j(rt,d))return rh(AC,e);if(D.j(gn,d))return sh(AC,e);throw Error(["No matching clause: ",t.B(d)].join(""));},BC=function BC(a){a=$B(a);var c=null!=a&&(a.J&64||l===
a.va)?gh(hk,a):a;a=B.j(c,Qn);var d=E(a),e=H(d);J(d);var f=B.j(c,Ym),h=P(f,0,null),k=B.j(c,jq);d=B.j(c,pm);var m=B.j(c,Ow);c=B.j(c,ys);if(D.j(Qu,k))return m;if(D.j(null,k))return null;if(D.j(Zm,k))return e=BC.B?BC.B(d):BC.call(null,d),(f=D.j(e,yn))?d=f:(d=jq.B($B(d)),f=new qk(null,new p(null,2,[Iz,null,rt,null],null),null),d=f.B?f.B(d):f.call(null,d),d=q(d)?Bf(e):d,d=q(d)?d:null),q(d)?yn:qC(e,a,c);if(D.j(Iz,k))return CC(d,m,h);if(D.j(rt,k))return CC(e,m,h);if(D.j(gn,k))return c=xC(a,f,c,AC),a=P(c,
0,null),a=P(a,0,null),c=P(c,1,null),c=P(c,0,null),a=null==a?yn:BC.B?BC.B(a):BC.call(null,a),q(c)?new X(c,a):a;throw Error(["No matching clause: ",t.B(k)].join(""));};
function CC(a,b,c){a=$B(a);var d=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,e=B.j(d,jq);B.j(d,Qn);a=B.j(d,Py);if(D.j(null,e))return b;if(D.j(gn,e)||D.j(Qu,e)||D.j(Zm,e))return a=BC(d),D.j(a,yn)?b:pf.j(b,q(c)?uf([c,a]):a);if(D.j(Iz,e)||D.j(rt,e))return d=BC(d),Bf(d)||(c=q(c)?uf([c,d]):d,a=q(a)?ai:pf,b=a.j?a.j(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.B(e)].join(""));}
var DC=function DC(a,b){a=$B(a);var d=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,e=B.j(d,ys),f=B.j(d,nm);a=B.j(d,Qn);var h=E(a),k=H(h),m=J(h),n=B.j(d,Ow);h=B.j(d,jq);var r=B.j(d,Py),u=B.j(d,Ym),w=E(u),A=H(w),G=J(w);w=B.j(d,Pr);var I=B.j(d,pm);if(q(d)){if(D.j(Qu,h))return null;if(D.j(null,h))return a=oC(d,b,d),S(qt,a)?null:tC(a);if(D.j(Zm,h))return d=DC.j?DC.j(I,b):DC.call(null,I,b),q(d)?D.j(Qu,jq.B(d))?(a=qC(BC(d),a,J(e)),S(qt,a)?null:tC(a)):new p(null,5,[jq,Zm,pm,d,Pr,w,Qn,a,ys,e],null):null;if(D.j(rt,
h))return zC(vC(new p(null,4,[Qn,hf(DC.j?DC.j(k,b):DC.call(null,k,b),m),Ym,u,ys,e,Ow,n],null)),q(AC(k))?function(){var F=vC(new p(null,4,[Qn,m,Ym,G,ys,J(e),Ow,CC(k,n,A)],null));return DC.j?DC.j(F,b):DC.call(null,F,b)}():null);if(D.j(gn,h))return yC(Lh.j(function(F){return DC.j?DC.j(F,b):DC.call(null,F,b)},a),u,e);if(D.j(Iz,h))return zC(wC(DC.j?DC.j(I,b):DC.call(null,I,b),f,n,r,e),q(AC(I))?function(){var F=wC(f,f,CC(I,n,null),r,e);return DC.j?DC.j(F,b):DC.call(null,F,b)}():null);throw Error(["No matching clause: ",
t.B(h)].join(""));}return null};function EC(a,b){for(;;){var c=E(b),d=H(c);c=J(c);if(Bf(b))return q(AC(a))?(a=BC(a),D.j(a,yn)?null:a):qt;a=DC(a,d);if(q(a))b=c;else return qt}}
var fC=function fC(a,b){if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof VB)VB=function(d,e,f){this.re=d;this.Jd=e;this.Ph=f;this.J=393216;this.T=0},VB.prototype.ea=function(d,e){return new VB(this.re,this.Jd,e)},VB.prototype.da=function(){return this.Ph},VB.prototype.zd=function(){return this},VB.prototype.Ad=function(){return this},VB.prototype.Se=l,VB.prototype.pe=function(d,e){return null==e||Ef(e)?EC(this.re,E(e)):qt},VB.prototype.qe=function(d,
e){return fC.j?fC.j(this.re,e):fC.call(null,this.re,e)},VB.Mb=!0,VB.wb="cljs.spec.alpha/t_cljs$spec$alpha22689",VB.Wb=function(d){return Jd(d,"cljs.spec.alpha/t_cljs$spec$alpha22689")};return new VB(a,b,V)};
nC(Du,Cg(rx,Cg(Xm,new W(null,1,5,Y,[xx],null),Cg(nu,Cg(Az,Ms,xx),Cg(Az,Ks,xx))),Cg(Xm,new W(null,1,5,Y,[wy],null),Cg(Az,Cg(jn,new W(null,1,5,Y,[new W(null,2,5,Y,[lq,iq],null)],null),new p(null,2,[Ms,lq,Ks,iq],null)),wy))),kC(Cg(rx,Cg(jn,new W(null,1,5,Y,[at],null),Cg(nu,Cg(Az,Ms,at),Cg(Az,Ks,at))),Cg(jn,new W(null,1,5,Y,[at],null),Cg(Az,Cg(jn,new W(null,1,5,Y,[new W(null,2,5,Y,[lq,iq],null)],null),new p(null,2,[Ms,lq,Ks,iq],null)),at))),function(a){return wk(Lh.j(Ms,a),Lh.j(Ks,a))},null,!0,function(a){return Lh.j(function(b){var c=
P(b,0,null);b=P(b,1,null);return new p(null,2,[Ms,c,Ks,b],null)},a)}));var FC={},GC,HC,IC,JC,KC,LC,MC=function MC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return MC.F(c)};MC.F=function(a){return Jd(ic,gh(hl,a))};MC.$=0;MC.ca=function(a){return this.F(E(a))};var NC=function NC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return NC.F(c)};NC.F=function(a){return Jd(ic,gh(fl,a))};NC.$=0;NC.ca=function(a){return this.F(E(a))};
function OC(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;gh(NC,b);Jd(ic,"\n")}function PC(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function QC(a,b,c){var d=c;for(c=qf;;){if(Bf(d))return new W(null,2,5,Y,[c,b],null);var e=H(d);d=J(d);e=gh(a,new W(null,2,5,Y,[e,b],null));b=P(e,0,null);e=P(e,1,null);c=pf.j(c,b);b=e}}function RC(a,b){var c=b;for(b=qf;;){var d=gh(a,new W(null,1,5,Y,[c],null));c=P(d,0,null);d=P(d,1,null);if(yc(c))return new W(null,2,5,Y,[b,d],null);b=pf.j(b,c);c=d}}
function SC(a){return new W(null,2,5,Y,[ai.j(V,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);var u=P(n,0,null);P(n,1,null);k.add(new W(null,2,5,Y,[r,u],null));m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);h=P(f,0,null);P(f,1,null);return hf(new W(null,2,5,Y,[k,h],null),d(Fe(e)))}return null}},null,null)}(a)}()),
ai.j(V,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);P(n,0,null);n=P(n,1,null);k.add(new W(null,2,5,Y,[r,n],null));m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);P(f,0,null);f=P(f,1,null);return hf(new W(null,2,5,Y,[k,f],null),d(Fe(e)))}return null}},null,null)}(a)}())],null)}
function TC(a,b){return ai.j(V,function(){return function e(d){return new Jg(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=Ng(k);a:for(var n=0;;)if(n<k){var r=x(h,n),u=P(r,0,null);r=P(r,1,null);m.add(new W(null,2,5,Y,[u,new W(null,2,5,Y,[r,b],null)],null));n+=1}else{h=!0;break a}return h?Qg(Sg(m),e(be(f))):Qg(Sg(m),null)}h=H(f);m=P(h,0,null);h=P(h,1,null);return hf(new W(null,2,5,Y,[m,new W(null,2,5,Y,[h,b],null)],null),e(Fe(f)))}return null}},null,null)}(a)}())}
function UC(){var a=ic;if(null!=a&&null!=a.yf)a.yf(a);else{var b=UC[pa(null==a?null:a)];if(null!=b)b.B?b.B(a):b.call(null,a);else if(b=UC._,null!=b)b.B?b.B(a):b.call(null,a);else throw Cc("IPrettyFlush.-ppflush",a);}}function VC(a,b){a=y(y(a));return b.B?b.B(a):b.call(null,a)}function WC(a,b,c){Eh.O(y(a),Q,b,c)}function XC(a,b){D.j(b,"\n")?(WC(a,As,0),WC(a,zm,VC(a,zm)+1)):WC(a,As,VC(a,As)+1);return Jd(VC(a,tp),b)}
function YC(a,b){var c=Ch(new p(null,4,[gy,b,As,0,zm,0,tp,a],null));if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof GC)GC=function(d,e,f,h){this.Xa=d;this.Hf=e;this.fields=f;this.Kh=h;this.J=1074167808;this.T=0},GC.prototype.ea=function(d,e){return new GC(this.Xa,this.Hf,this.fields,e)},GC.prototype.da=function(){return this.Kh},GC.prototype.ub=function(){return this.fields},GC.prototype.Tc=function(){return Kd(this.Xa)},GC.prototype.xd=function(d,e){d=Bc(e);if(q(D.j?D.j(String,
d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?WC(this,As,VC(this,As)+K(e)):(WC(this,As,K(e)-d-1),WC(this,zm,VC(this,zm)+K(Zh(function(f){return D.j(f,"\n")},e)))),Jd(VC(this,tp),e);if(q(D.j?D.j(Number,d):D.call(null,Number,d)))return XC(this,e);throw Error(["No matching clause: ",t.B(d)].join(""));},GC.Mb=!0,GC.wb="cljs.pprint/t_cljs$pprint21038",GC.Wb=function(d){return Jd(d,"cljs.pprint/t_cljs$pprint21038")};return new GC(a,b,c,V)}
function ZC(a,b,c,d,e,f,h,k,m,n,r,u,w){this.parent=a;this.Sb=b;this.yb=c;this.indent=d;this.Nb=e;this.Ob=f;this.prefix=h;this.Rb=k;this.suffix=m;this.Pb=n;this.G=r;this.D=u;this.I=w;this.J=2230716170;this.T=139264}g=ZC.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "parent":return this.parent;case "section":return this.Sb;case "start-col":return this.yb;case "indent":return this.indent;case "done-nl":return this.Nb;case "intra-block-nl":return this.Ob;case "prefix":return this.prefix;case "per-line-prefix":return this.Rb;case "suffix":return this.suffix;case "logical-block-callback":return this.Pb;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,T.j(new W(null,10,5,Y,[new W(null,2,5,Y,[wr,this.parent],null),new W(null,2,5,Y,[wz,this.Sb],null),new W(null,2,5,Y,[rr,this.yb],null),new W(null,2,5,Y,[oB,this.indent],null),new W(null,2,5,Y,[dn,this.Nb],null),new W(null,2,5,Y,[xq,this.Ob],null),new W(null,2,5,Y,[Bp,this.prefix],null),new W(null,2,5,Y,[Im,this.Rb],null),new W(null,2,5,Y,[Lz,this.suffix],null),new W(null,2,5,Y,[BA,this.Pb],
null)],null),this.D))};g.na=function(){return new Xi(this,10,new W(null,10,5,Y,[wr,wz,rr,oB,dn,xq,Bp,Im,Lz,BA],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 10+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1977012399^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.parent,b.parent)&&D.j(this.Sb,b.Sb)&&D.j(this.yb,b.yb)&&D.j(this.indent,b.indent)&&D.j(this.Nb,b.Nb)&&D.j(this.Ob,b.Ob)&&D.j(this.prefix,b.prefix)&&D.j(this.Rb,b.Rb)&&D.j(this.suffix,b.suffix)&&D.j(this.Pb,b.Pb)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,10,[Lz,null,oB,null,wr,null,wz,null,dn,null,rr,null,Bp,null,Im,null,BA,null,xq,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(wr,b):S.call(null,wr,b))?new ZC(c,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(wz,b):S.call(null,wz,b))?new ZC(this.parent,c,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(rr,b):S.call(null,rr,b))?new ZC(this.parent,this.Sb,c,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(oB,b):S.call(null,
oB,b))?new ZC(this.parent,this.Sb,this.yb,c,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(dn,b):S.call(null,dn,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,c,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(xq,b):S.call(null,xq,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,c,this.prefix,this.Rb,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(Bp,b):S.call(null,Bp,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,
this.Nb,this.Ob,c,this.Rb,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(Im,b):S.call(null,Im,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,c,this.suffix,this.Pb,this.G,this.D,null):q(S.j?S.j(Lz,b):S.call(null,Lz,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,c,this.Pb,this.G,this.D,null):q(S.j?S.j(BA,b):S.call(null,BA,b))?new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,c,this.G,
this.D,null):new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,10,5,Y,[new X(wr,this.parent),new X(wz,this.Sb),new X(rr,this.yb),new X(oB,this.indent),new X(dn,this.Nb),new X(xq,this.Ob),new X(Bp,this.prefix),new X(Im,this.Rb),new X(Lz,this.suffix),new X(BA,this.Pb)],null),this.D))};
g.ea=function(a,b){return new ZC(this.parent,this.Sb,this.yb,this.indent,this.Nb,this.Ob,this.prefix,this.Rb,this.suffix,this.Pb,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function $C(a,b){for(b=wr.B(b);;){if(null==b)return!1;if(a===b)return!0;b=wr.B(b)}}function aD(a,b,c,d,e,f,h,k){this.ta=a;this.data=b;this.Cc=c;this.sa=d;this.ra=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=aD.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "data":return this.data;case "trailing-white-space":return this.Cc;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[Rm,this.data],null),new W(null,2,5,Y,[yp,this.Cc],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[uu,this.ra],null)],null),this.D))};g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[sm,Rm,yp,Gp,uu],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 5+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1809113693^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.data,b.data)&&D.j(this.Cc,b.Cc)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[uu,null,yp,null,sm,null,Gp,null,Rm,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new aD(this.ta,this.data,this.Cc,this.sa,this.ra,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(sm,b):S.call(null,sm,b))?new aD(c,this.data,this.Cc,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(Rm,b):S.call(null,Rm,b))?new aD(this.ta,c,this.Cc,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(yp,b):S.call(null,yp,b))?new aD(this.ta,this.data,c,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(Gp,b):S.call(null,Gp,b))?new aD(this.ta,this.data,this.Cc,c,this.ra,this.G,this.D,null):q(S.j?S.j(uu,b):S.call(null,uu,b))?new aD(this.ta,this.data,this.Cc,this.sa,c,this.G,
this.D,null):new aD(this.ta,this.data,this.Cc,this.sa,this.ra,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,5,5,Y,[new X(sm,this.ta),new X(Rm,this.data),new X(yp,this.Cc),new X(Gp,this.sa),new X(uu,this.ra)],null),this.D))};g.ea=function(a,b){return new aD(this.ta,this.data,this.Cc,this.sa,this.ra,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function bD(a,b,c,d,e,f,h,k){this.ta=a;this.type=b;this.za=c;this.sa=d;this.ra=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=bD.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "type":return this.type;case "logical-block":return this.za;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[aq,this.type],null),new W(null,2,5,Y,[er,this.za],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[uu,this.ra],null)],null),this.D))};
g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[sm,aq,er,Gp,uu],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 5+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1640656800^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.type,b.type)&&D.j(this.za,b.za)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[uu,null,aq,null,er,null,sm,null,Gp,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new bD(this.ta,this.type,this.za,this.sa,this.ra,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(sm,b):S.call(null,sm,b))?new bD(c,this.type,this.za,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(aq,b):S.call(null,aq,b))?new bD(this.ta,c,this.za,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(er,b):S.call(null,er,b))?new bD(this.ta,this.type,c,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(Gp,b):S.call(null,Gp,b))?new bD(this.ta,this.type,this.za,c,this.ra,this.G,this.D,null):q(S.j?S.j(uu,b):S.call(null,uu,b))?new bD(this.ta,this.type,this.za,this.sa,c,this.G,
this.D,null):new bD(this.ta,this.type,this.za,this.sa,this.ra,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,5,5,Y,[new X(sm,this.ta),new X(aq,this.type),new X(er,this.za),new X(Gp,this.sa),new X(uu,this.ra)],null),this.D))};g.ea=function(a,b){return new bD(this.ta,this.type,this.za,this.sa,this.ra,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function cD(a,b,c,d,e,f,h){this.ta=a;this.za=b;this.sa=c;this.ra=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=cD.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "logical-block":return this.za;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,T.j(new W(null,4,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[er,this.za],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[uu,this.ra],null)],null),this.D))};
g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[sm,er,Gp,uu],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 4+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-414877272^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.za,b.za)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[uu,null,er,null,sm,null,Gp,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new cD(this.ta,this.za,this.sa,this.ra,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(sm,b):S.call(null,sm,b))?new cD(c,this.za,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(er,b):S.call(null,er,b))?new cD(this.ta,c,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(Gp,b):S.call(null,Gp,b))?new cD(this.ta,this.za,c,this.ra,this.G,this.D,null):q(S.j?S.j(uu,b):S.call(null,uu,b))?new cD(this.ta,this.za,this.sa,c,this.G,this.D,null):new cD(this.ta,this.za,this.sa,this.ra,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,4,5,Y,[new X(sm,this.ta),new X(er,this.za),new X(Gp,this.sa),new X(uu,this.ra)],null),this.D))};g.ea=function(a,b){return new cD(this.ta,this.za,this.sa,this.ra,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function dD(a,b,c,d,e,f,h){this.ta=a;this.za=b;this.sa=c;this.ra=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=dD.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "logical-block":return this.za;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,T.j(new W(null,4,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[er,this.za],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[uu,this.ra],null)],null),this.D))};g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[sm,er,Gp,uu],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 4+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1365867980^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.za,b.za)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[uu,null,er,null,sm,null,Gp,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new dD(this.ta,this.za,this.sa,this.ra,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(sm,b):S.call(null,sm,b))?new dD(c,this.za,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(er,b):S.call(null,er,b))?new dD(this.ta,c,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(Gp,b):S.call(null,Gp,b))?new dD(this.ta,this.za,c,this.ra,this.G,this.D,null):q(S.j?S.j(uu,b):S.call(null,uu,b))?new dD(this.ta,this.za,this.sa,c,this.G,this.D,null):new dD(this.ta,this.za,this.sa,this.ra,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,4,5,Y,[new X(sm,this.ta),new X(er,this.za),new X(Gp,this.sa),new X(uu,this.ra)],null),this.D))};g.ea=function(a,b){return new dD(this.ta,this.za,this.sa,this.ra,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function eD(a,b,c,d,e,f,h,k,m){this.ta=a;this.za=b;this.qc=c;this.offset=d;this.sa=e;this.ra=f;this.G=h;this.D=k;this.I=m;this.J=2230716170;this.T=139264}g=eD.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "type-tag":return this.ta;case "logical-block":return this.za;case "relative-to":return this.qc;case "offset":return this.offset;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,T.j(new W(null,6,5,Y,[new W(null,2,5,Y,[sm,this.ta],null),new W(null,2,5,Y,[er,this.za],null),new W(null,2,5,Y,[nx,this.qc],null),new W(null,2,5,Y,[fu,this.offset],null),new W(null,2,5,Y,[Gp,this.sa],null),new W(null,2,5,Y,[uu,this.ra],null)],null),this.D))};g.na=function(){return new Xi(this,6,new W(null,6,5,Y,[sm,er,nx,fu,Gp,uu],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};
g.ha=function(){return 6+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1602780238^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.za,b.za)&&D.j(this.qc,b.qc)&&D.j(this.offset,b.offset)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,6,[fu,null,uu,null,nx,null,er,null,sm,null,Gp,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new eD(this.ta,this.za,this.qc,this.offset,this.sa,this.ra,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(sm,b):S.call(null,sm,b))?new eD(c,this.za,this.qc,this.offset,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(er,b):S.call(null,er,b))?new eD(this.ta,c,this.qc,this.offset,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(nx,b):S.call(null,nx,b))?new eD(this.ta,this.za,c,this.offset,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(fu,b):S.call(null,fu,b))?new eD(this.ta,this.za,this.qc,c,this.sa,this.ra,this.G,this.D,null):q(S.j?S.j(Gp,b):S.call(null,Gp,b))?new eD(this.ta,
this.za,this.qc,this.offset,c,this.ra,this.G,this.D,null):q(S.j?S.j(uu,b):S.call(null,uu,b))?new eD(this.ta,this.za,this.qc,this.offset,this.sa,c,this.G,this.D,null):new eD(this.ta,this.za,this.qc,this.offset,this.sa,this.ra,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,6,5,Y,[new X(sm,this.ta),new X(er,this.za),new X(nx,this.qc),new X(fu,this.offset),new X(Gp,this.sa),new X(uu,this.ra)],null),this.D))};
g.ea=function(a,b){return new eD(this.ta,this.za,this.qc,this.offset,this.sa,this.ra,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};var fD=function(){var a=Ch(V),b=Ch(V),c=Ch(V),d=Ch(V),e=B.C(V,gw,Kl.N?Kl.N():Kl.call(null));return new Wl(ze.j(ba,"write-token"),function(f,h){return sm.B(h)},e,a,b,c,d)}();
fD.ib(null,Gm,function(a,b){var c=BA.B(y(y(a)));q(c)&&(c.B?c.B(qn):c.call(null,qn));b=er.B(b);c=Bp.B(b);q(c)&&Jd(tp.B(y(y(a))),c);a=VC(tp.B(y(y(a))),As);Dh(rr.B(b),a);return Dh(oB.B(b),a)});fD.ib(null,AB,function(a,b){var c=BA.B(y(y(a)));q(c)&&(c.B?c.B(Ww):c.call(null,Ww));b=Lz.B(er.B(b));return q(b)?Jd(tp.B(y(y(a))),b):null});
fD.ib(null,Ew,function(a,b){var c=er.B(b),d=oB.B(c),e=fu.B(b);b=nx.B(b);if(q(D.j?D.j(Pt,b):D.call(null,Pt,b)))a=y(rr.B(c));else if(q(D.j?D.j(or,b):D.call(null,or,b)))a=VC(tp.B(y(y(a))),As);else throw Error(["No matching clause: ",t.B(b)].join(""));return Dh(d,e+a)});fD.ib(null,bx,function(a,b){return Jd(tp.B(y(y(a))),Rm.B(b))});
fD.ib(null,Dx,function(a,b){var c=(c=D.j(aq.B(b),Hn))?c:D.j(aq.B(b),xt)?!1:y(dn.B(er.B(b)));q(c)?gD.j?gD.j(a,b):gD.call(null,a,b):(b=yp.B(y(y(a))),q(b)&&Jd(tp.B(y(y(a))),b));return Eh.O(y(a),Q,yp,null)});
function hD(a,b,c){b=E(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);if(!D.j(sm.B(h),Dx)){var k=yp.B(y(y(a)));q(k)&&Jd(tp.B(y(y(a))),k)}fD.j(a,h);Eh.O(y(a),Q,yp,yp.B(h));h=yp.B(y(y(a)));q(q(c)?h:c)&&(Jd(tp.B(y(y(a))),h),Eh.O(y(a),Q,yp,null));f+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),h=d,e=K(d),d=h):(h=H(b),D.j(sm.B(h),Dx)||(d=yp.B(y(y(a))),q(d)&&Jd(tp.B(y(y(a))),d)),fD.j(a,h),Eh.O(y(a),Q,yp,yp.B(h)),h=yp.B(y(y(a))),q(q(c)?h:c)&&(Jd(tp.B(y(y(a))),h),Eh.O(y(a),Q,yp,null)),b=J(b),d=null,e=
0),f=0;else break}function iD(a,b){var c=VC(tp.B(y(y(a))),gy),d;(d=null==c)||(a=VC(tp.B(y(y(a))),As),b=(b=E(b))?uu.B(of(b))-Gp.B(H(b)):0,d=a+b<c);return d}function jD(a,b,c){b=y(dn.B(b));return q(b)?b:!iD(a,c)}function kD(a,b,c){var d=uy.B(y(y(a))),e=VC(tp.B(y(y(a))),gy);return q(d)?q(e)?y(rr.B(b))>=e-d?jD(a,b,c):!1:e:d}var lD=function(){var a=Ch(V),b=Ch(V),c=Ch(V),d=Ch(V),e=B.C(V,gw,Kl.N?Kl.N():Kl.call(null));return new Wl(ze.j(ba,"emit-nl?"),function(f){return aq.B(f)},e,a,b,c,d)}();
lD.ib(null,Zu,function(a,b,c){a=er.B(a);return jD(b,a,c)});lD.ib(null,mz,function(a,b,c){a=er.B(a);return kD(b,a,c)});lD.ib(null,xt,function(a,b,c,d){a=er.B(a);var e=y(xq.B(a));return q(e)?e:(d=!iD(b,d))?d:kD(b,a,c)});lD.ib(null,Hn,function(){return!0});function mD(a){var b=H(a),c=er.B(b);b=E(Bk(function(d){return!(D.j(sm.B(d),Dx)&&$C(er.B(d),c))},J(a)));return new W(null,2,5,Y,[b,E(Nh(K(b)+1,a))],null)}
function nD(a){var b=H(a),c=er.B(b);return E(Bk(function(d){var e=er.B(d);return!(D.j(sm.B(d),Dx)&&(D.j(e,c)||$C(e,c)))},J(a)))}function gD(a,b){Jd(tp.B(y(y(a))),"\n");Eh.O(y(a),Q,yp,null);b=er.B(b);var c=Im.B(b);q(c)&&Jd(tp.B(y(y(a))),c);c=gh(t,Sh(y(oB.B(b))-K(c)," "));Jd(tp.B(y(y(a))),c);a:for(Dh(xq.B(b),!0),Dh(dn.B(b),!0),a=wr.B(b);;)if(q(a))Dh(dn.B(a),!0),Dh(xq.B(a),!0),a=wr.B(a);else break a;return null}
function oD(a){var b=E(Bk(function(c){return!D.j(sm.B(c),Dx)},a));return new W(null,2,5,Y,[b,E(Nh(K(b),a))],null)}var pD=function pD(a,b){var d=oD(b);b=P(d,0,null);var e=P(d,1,null);q(b)&&hD(a,b,!1);if(q(e)){d=mD(e);b=P(d,0,null);d=P(d,1,null);var f=H(e),h=lD.O(f,a,b,nD(e));q(h)&&(gD(a,f),e=J(e));iD(a,e)?a=e:(e=pD.j?pD.j(a,b):pD.call(null,a,b),D.j(e,b)?(hD(a,b,!1),a=d):a=ai.j(qf,T.j(e,d)));return a}return null};
function qD(a){for(var b=Tz.B(y(y(a)));;){Eh.O(y(a),Q,Tz,ai.j(qf,b));if(iD(a,b))return null;var c=pD(a,b);if(b!==c)b=c;else return null}}function rD(a,b){Eh.O(y(a),Q,Tz,pf.j(Tz.B(y(y(a))),b));return iD(a,Tz.B(y(y(a))))?null:qD(a)}function sD(a){var b=yp.B(y(y(a)));return q(b)?(Jd(tp.B(y(y(a))),b),Eh.O(y(a),Q,yp,null)):null}
function tD(a,b){var c=PB(b,"\n",-1);if(D.j(K(c),1))return b;b=Im.B(H(Xq.B(y(y(a)))));var d=H(c);if(D.j(Bo,dy.B(y(y(a))))){var e=Js.B(y(y(a))),f=e+K(d);Eh.O(y(a),Q,Js,f);rD(a,new aD(bx,d,null,e,f,null,null,null));qD(a);d=Tz.B(y(y(a)));q(d)&&(hD(a,d,!0),Eh.O(y(a),Q,Tz,qf))}else sD(a),Jd(tp.B(y(y(a))),d);Jd(tp.B(y(y(a))),"\n");d=E(J(vk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.xa(null,h);Jd(tp.B(y(y(a))),k);Jd(tp.B(y(y(a))),"\n");q(b)&&Jd(tp.B(y(y(a))),b);h+=1}else if(d=E(d))e=d,If(e)?(d=ae(e),h=
be(e),e=d,f=K(d),d=h):(d=H(e),Jd(tp.B(y(y(a))),d),Jd(tp.B(y(y(a))),"\n"),q(b)&&Jd(tp.B(y(y(a))),b),d=J(e),e=null,f=0),h=0;else break;Eh.O(y(a),Q,Bo,pr);return of(c)}
function uD(a){var b=vD,c=wD,d=new ZC(null,null,Ch(0),Ch(0),Ch(!1),Ch(!1),null,null,null,null,null,null,null),e=Ch(Oj([Xq,uy,rs,ct,ev,dy,Js,yp,tp,kt,Tz],[d,c,d,!0,null,pr,0,null,YC(a,b),1,qf]));if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof HC)HC=function(f,h,k,m,n,r){this.Xa=f;this.Hf=h;this.$h=k;this.Fh=m;this.fields=n;this.Nh=r;this.J=1074167808;this.T=0},HC.prototype.ea=function(f,h){return new HC(this.Xa,this.Hf,this.$h,this.Fh,this.fields,h)},HC.prototype.da=function(){return this.Nh},
HC.prototype.ub=function(){return this.fields},HC.prototype.xd=function(f,h){f=Bc(h);if(q(D.j?D.j(String,f):D.call(null,String,f))){var k=tD(this,h);h=k.replace(/\s+$/,"");f=yg.j(k,h.length);var m=dy.B(y(y(this)));if(D.j(m,pr))return sD(this),Jd(tp.B(y(y(this))),h),Eh.O(y(this),Q,yp,f);m=Js.B(y(y(this)));k=m+K(k);Eh.O(y(this),Q,Js,k);return rD(this,new aD(bx,h,f,m,k,null,null,null))}if(q(D.j?D.j(Number,f):D.call(null,Number,f)))return D.j(dy.B(y(y(this))),pr)?(sD(this),h=Jd(tp.B(y(y(this))),h)):D.j(h,
"\n")?h=tD(this,"\n"):(f=Js.B(y(y(this))),k=f+1,Eh.O(y(this),Q,Js,k),h=rg(h),h=rD(this,new aD(bx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.B(f)].join(""));},HC.prototype.Tc=function(){this.yf(null);return Kd(tp.B(y(y(this))))},HC.prototype.yf=function(){return D.j(dy.B(y(y(this))),Bo)?(hD(this,Tz.B(y(y(this))),!0),Eh.O(y(this),Q,Tz,qf)):sD(this)},HC.Mb=!0,HC.wb="cljs.pprint/t_cljs$pprint21832",HC.Wb=function(f){return Jd(f,"cljs.pprint/t_cljs$pprint21832")};return new HC(a,
b,c,d,e,V)}function xD(a,b){var c=ic;b=new ZC(Xq.B(y(y(c))),null,Ch(0),Ch(0),Ch(!1),Ch(!1),a,null,b,null,null,null,null);Eh.O(y(c),Q,Xq,b);if(D.j(dy.B(y(y(c))),pr)){sD(c);var d=BA.B(y(y(c)));q(d)&&(d.B?d.B(qn):d.call(null,qn));q(a)&&Jd(tp.B(y(y(c))),a);c=VC(tp.B(y(y(c))),As);Dh(b.yb,c);Dh(b.indent,c)}else d=Js.B(y(y(c))),a=d+(q(a)?K(a):0),Eh.O(y(c),Q,Js,a),rD(c,new cD(Gm,b,d,a,null,null,null))}
function yD(){var a=ic,b=Xq.B(y(y(a))),c=Lz.B(b);if(D.j(dy.B(y(y(a))),pr)){sD(a);q(c)&&Jd(tp.B(y(y(a))),c);var d=BA.B(y(y(a)));q(d)&&(d.B?d.B(Ww):d.call(null,Ww))}else d=Js.B(y(y(a))),c=d+(q(c)?K(c):0),Eh.O(y(a),Q,Js,c),rD(a,new dD(AB,b,d,c,null,null,null));Eh.O(y(a),Q,Xq,wr.B(b))}var zD=!0,AD=null,vD=72,wD=40,BD=null,CD=null,DD=null,ED=null,FD=10,GD=0,HD=null;function ID(a){return(null!=a?a.J&32768||l===a.jg||(a.J?0:Ac(od,a)):Ac(od,a))?ct.B(y(y(a))):!1}
function JD(a){var b=HD;q(b)&&(b=mc,b=q(b)?HD>=mc:b);yc(zD)?NC.call(null,a):q(b)?Jd(ic,"..."):(q(HD)&&(HD+=1),AD.call(null,a));return b}var KD=function KD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return KD.F(arguments[0],c)};
KD.F=function(a,b){var c=lk.F(M([new p(null,1,[gB,!0],null),gh(hk,b)]));b=FD;var d=CD,e=mc,f=nc,h=BD,k=wD,m=AD,n=zD,r=ED,u=lc,w=vD,A=DD,G=tp.j(c,FD),I=mn.j(c,CD),F=Ln.j(c,mc),N=qm.j(c,nc),O=fv.j(c,BD),U=uy.j(c,wD),ea=Qy.j(c,AD),va=it.j(c,zD),wa=Et.j(c,ED),xa=qc.j(c,lc),Ra=Qo.j(c,vD),ka=tr.j(c,DD);FD=G;CD=I;mc=F;nc=N;BD=O;wD=U;AD=ea;zD=va;ED=wa;lc=xa;vD=Ra;DD=ka;try{var oa=new dc,Ca=Pf(c,gB)?gB.B(c):!0,ua=!0===Ca||null==Ca?new ke(oa):Ca;if(q(zD)){var Ba=yc(ID(ua));c=ic;ic=Ba?uD(ua):ua;try{JD(a),UC()}finally{ic=
c}}else{Ba=ic;ic=ua;try{NC.call(null,a)}finally{ic=Ba}}!0===Ca&&Uk(t.B(oa));return null==Ca?t.B(oa):null}finally{DD=A,vD=w,lc=u,ED=r,zD=n,AD=m,wD=k,BD=h,nc=f,mc=e,CD=d,FD=b}};KD.$=1;KD.ca=function(a){var b=H(a);a=J(a);return this.F(b,a)};
function LD(){var a=new W(null,6,5,Y,[br,new W(null,2,5,Y,[Cg(ow,eB,new W(null,1,5,Y,[ls],null)),Ru],null),WA,Dp,gp,new W(null,2,5,Y,[eB,jB],null)],null);var b=y(MD);a=ND.j?ND.j(a,b):ND.call(null,a,b);b=new dc;var c=ic;ic=new ke(b);try{var d=ic,e=yc(ID(d)),f=ic;ic=e?uD(d):d;try{e=zD;zD=!0;try{JD(a)}finally{zD=e}D.j(0,VC(ic,As))||Jd(ic,"\n");UC()}finally{ic=f}Uk(t.B(b))}finally{ic=c}}
function OD(a,b){if(yc(b.B?b.B(a):b.call(null,a)))throw Error(["Bad argument: ",t.B(a),". It must be one of ",t.B(b)].join(""));}function PD(){var a=nc;return q(a)?GD>=nc:a}function QD(a){OD(a,new qk(null,new p(null,4,[Hn,null,mz,null,xt,null,Zu,null],null),null));var b=ic;Eh.O(y(b),Q,dy,Bo);var c=Js.B(y(y(b))),d=Xq.B(y(y(b)));rD(b,new bD(Dx,a,d,c,c,null,null,null))}
function RD(a,b){OD(a,new qk(null,new p(null,2,[Pt,null,or,null],null),null));var c=ic,d=Xq.B(y(y(c)));if(D.j(dy.B(y(y(c))),pr)){sD(c);var e=oB.B(d);if(q(D.j?D.j(Pt,a):D.call(null,Pt,a)))a=y(rr.B(d));else if(q(D.j?D.j(or,a):D.call(null,or,a)))a=VC(tp.B(y(y(c))),As);else throw Error(["No matching clause: ",t.B(a)].join(""));Dh(e,b+a)}else e=Js.B(y(y(c))),rD(c,new eD(Ew,d,a,b,e,e,null,null,null))}
function SD(a,b,c){b="string"===typeof b?TD(b):b;c=UD(c);a:{var d=new dc,e=yc(a)||!0===a?new ke(d):a,f=VD(b)&&yc(ID(e))?q(ID(e))?e:uD(e):e,h=ic;ic=f;try{try{WD(b,c)}finally{e!==f&&Kd(f)}var k=yc(a)?t.B(d):!0===a?Uk(t.B(d)):null;break a}finally{ic=h}k=void 0}return k}var XD=null;function YD(a,b){a=[t.B(a),"\n",t.B(XD),"\n",t.B(gh(t,Sh(b," "))),"^\n"].join("");throw Error(a);}function ZD(a,b,c,d,e,f){this.Zc=a;this.rest=b;this.pos=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=ZD.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "seq":return this.Zc;case "rest":return this.rest;case "pos":return this.pos;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[ep,this.Zc],null),new W(null,2,5,Y,[cu,this.rest],null),new W(null,2,5,Y,[Js,this.pos],null)],null),this.D))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[ep,cu,Js],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 3+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-402038447^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Zc,b.Zc)&&D.j(this.rest,b.rest)&&D.j(this.pos,b.pos)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Js,null,ep,null,cu,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new ZD(this.Zc,this.rest,this.pos,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(ep,b):S.call(null,ep,b))?new ZD(c,this.rest,this.pos,this.G,this.D,null):q(S.j?S.j(cu,b):S.call(null,cu,b))?new ZD(this.Zc,c,this.pos,this.G,this.D,null):q(S.j?S.j(Js,b):S.call(null,Js,b))?new ZD(this.Zc,this.rest,c,this.G,this.D,null):new ZD(this.Zc,this.rest,this.pos,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,3,5,Y,[new X(ep,this.Zc),new X(cu,this.rest),new X(Js,this.pos)],null),this.D))};
g.ea=function(a,b){return new ZD(this.Zc,this.rest,this.pos,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function UD(a){a=E(a);return new ZD(a,a,0,null,null,null)}function $D(a){var b=cu.B(a);if(q(b))return new W(null,2,5,Y,[H(b),new ZD(ep.B(a),J(b),Js.B(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function aE(a){var b=$D(a);a=P(b,0,null);b=P(b,1,null);a="string"===typeof a?TD(a):a;return new W(null,2,5,Y,[a,b],null)}function bE(a,b){return b>=Js.B(a)?(b=Js.B(a)-b,cE.j?cE.j(a,b):cE.call(null,a,b)):new ZD(ep.B(a),Nh(b,ep.B(a)),b,null,null,null)}function cE(a,b){var c=Js.B(a)+b;return 0>b?bE(a,c):new ZD(ep.B(a),Nh(b,cu.B(a)),c,null,null,null)}function dE(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=dE.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,T.j(new W(null,4,5,Y,[new W(null,2,5,Y,[Aw,this.func],null),new W(null,2,5,Y,[ko,this.def],null),new W(null,2,5,Y,[Wt,this.params],null),new W(null,2,5,Y,[fu,this.offset],null)],null),this.D))};g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[Aw,ko,Wt,fu],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 4+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-829256337^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.func,b.func)&&D.j(this.def,b.def)&&D.j(this.params,b.params)&&D.j(this.offset,b.offset)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[fu,null,Aw,null,Wt,null,ko,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new dE(this.func,this.def,this.params,this.offset,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Aw,b):S.call(null,Aw,b))?new dE(c,this.def,this.params,this.offset,this.G,this.D,null):q(S.j?S.j(ko,b):S.call(null,ko,b))?new dE(this.func,c,this.params,this.offset,this.G,this.D,null):q(S.j?S.j(Wt,b):S.call(null,Wt,b))?new dE(this.func,this.def,c,this.offset,this.G,this.D,null):q(S.j?S.j(fu,b):S.call(null,fu,b))?new dE(this.func,this.def,this.params,c,this.G,this.D,null):new dE(this.func,this.def,this.params,this.offset,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,4,5,Y,[new X(Aw,this.func),new X(ko,this.def),new X(Wt,this.params),new X(fu,this.offset)],null),this.D))};g.ea=function(a,b){return new dE(this.func,this.def,this.params,this.offset,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function eE(a,b){var c=P(a,0,null);a=P(a,1,null);var d=P(a,0,null);a=P(a,1,null);d=Pf(new qk(null,new p(null,2,[hv,null,Ny,null],null),null),c)?new W(null,2,5,Y,[d,b],null):D.j(d,lz)?$D(b):D.j(d,ts)?new W(null,2,5,Y,[K(cu.B(b)),b],null):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);return new W(null,2,5,Y,[new W(null,2,5,Y,[c,new W(null,2,5,Y,[b,a],null)],null),d],null)}function fE(a,b){b=QC(eE,b,a);a=P(b,0,null);b=P(b,1,null);return new W(null,2,5,Y,[ai.j(V,a),b],null)}
var gE=new p(null,3,[2,"#b",8,"#o",16,"#x"],null);function hE(a){return Of(a)?D.j(FD,10)?[t.B(a),q(ED)?".":null].join(""):[t.B(q(ED)?function(){var b=B.j(gE,FD);return q(b)?b:["#",t.B(FD),"r"].join("")}():null),t.B(iE(FD,a))].join(""):null}
function jE(a,b,c){c=$D(c);var d=P(c,0,null);c=P(c,1,null);var e=hE(d);a=q(e)?e:a.B?a.B(d):a.call(null,d);d=a.length;e=d+ov.B(b);e=e>=MA.B(b)?e:e+(ug(MA.B(b)-e-1,$q.B(b))+1)*$q.B(b);d=gh(t,Sh(e-d,fs.B(b)));q(Ny.B(b))?MC.F(M([[t.B(d),t.B(a)].join("")])):MC.F(M([[t.B(a),t.B(d)].join("")]));return c}function kE(a,b){return Bg(H(RC(function(c){return 0<c?new W(null,2,5,Y,[vg(c,a),ug(c,a)],null):new W(null,2,5,Y,[null,null],null)},b)))}
function iE(a,b){return 0===b?"0":gh(t,Lh.j(function(c){return 10>c?rg(PC("0")+c):rg(PC("a")+(c-10))},kE(a,b)))}function lE(a,b){return Bg(H(RC(function(c){return new W(null,2,5,Y,[E(Bg(Mh.j(a,c))),E(Nh(a,c))],null)},Bg(b))))}
function mE(a,b,c){c=$D(c);var d=P(c,0,null);c=P(c,1,null);if(Of(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.j(d,Math.floor(d))){var e=0>d,f=iE(a,e?-d:d);a=q(hv.B(b))?function(){var h=Lh.j(function(m){return gh(t,m)},lE(Rs.B(b),f)),k=Sh(K(h),hu.B(b));return gh(t,J(Vh.j(k,h)))}():f;a=e?["-",t.B(a)].join(""):q(Ny.B(b))?["+",t.B(a)].join(""):a;a=a.length<MA.B(b)?[t.B(gh(t,Sh(MA.B(b)-a.length,fs.B(b)))),t.B(a)].join(""):a;MC.F(M([a]))}else jE(hl,new p(null,5,[MA,
MA.B(b),$q,1,ov,0,fs,fs.B(b),Ny,!0],null),UD(new W(null,1,5,Y,[d],null)));return c}
var nE=new W(null,20,5,Y,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),oE=new W(null,20,5,Y,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),pE=new W(null,10,5,Y,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),qE=new W(null,10,5,Y,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),rE=new W(null,22,5,Y," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function sE(a){var b=ug(a,100),c=vg(a,100);return[0<b?[t.B(bf(nE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?bf(nE,c):function(){var d=ug(c,10),e=vg(c,10);return[t.B(0<d?bf(pE,d):null),0<d&&0<e?"-":null,t.B(0<e?bf(nE,e):null)].join("")}():null)].join("")}
function tE(a,b){var c=K(a),d=qf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.B(gh(t,Nh(1,Vh.j(Rh(", "),d)))),Bf(e)||Bf(d)?null:", ",t.B(e),!Bf(e)&&0<c+b?[" ",t.B(bf(rE,c+b))].join(""):null].join("");d=Bf(e)?d:pf.j(d,[t.B(e)," ",t.B(bf(rE,c+b))].join(""));--c;e=H(a);a=J(a)}}
function uE(a){var b=ug(a,100),c=vg(a,100);return[0<b?[t.B(bf(nE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?bf(oE,c):function(){var d=ug(c,10),e=vg(c,10);return 0<d&&!(0<e)?bf(qE,d):[t.B(0<d?bf(pE,d):null),0<d&&0<e?"-":null,t.B(0<e?bf(oE,e):null)].join("")}():0<b?"th":null)].join("")}
var vE=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IIII V VI VII VIII VIIII".split(" "),null),new W(null,9,5,Y,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new W(null,9,5,Y,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new W(null,3,5,Y,["M","MM","MMM"],null)],null),wE=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IV V VI VII VIII IX".split(" "),null),new W(null,9,5,Y,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new W(null,9,5,Y,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new W(null,
3,5,Y,["M","MM","MMM"],null)],null);function xE(a,b){b=$D(b);var c=P(b,0,null);b=P(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=kE(10,c);c=qf;for(var e=K(d)-1;;)if(Bf(d)){MC.F(M([gh(t,c)]));break}else{var f=H(d);c=D.j(0,f)?c:pf.j(c,bf(bf(a,e),f-1));--e;d=J(d)}}else mE(10,new p(null,5,[MA,0,fs," ",hu,",",Rs,3,hv,!0],null),UD(new W(null,1,5,Y,[c],null)));return b}var yE=new p(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function zE(a,b){a=$D(b);b=P(a,0,null);a=P(a,1,null);var c=PC(b);b=c&127;c&=128;var d=B.j(yE,b);0<c&&MC.F(M(["Meta-"]));MC.F(M([q(d)?d:32>b?["Control-",t.B(rg(b+64))].join(""):D.j(b,127)?"Control-?":rg(b)]));return a}
function AE(a,b){var c=$D(b);b=P(c,0,null);c=P(c,1,null);a=ay.B(a);if(q(D.j?D.j("o",a):D.call(null,"o",a)))SD(!0,"\\o~3, '0o",M([PC(b)]));else if(q(D.j?D.j("u",a):D.call(null,"u",a)))SD(!0,"\\u~4, '0x",M([PC(b)]));else if(q(D.j?D.j(null,a):D.call(null,null,a)))Jd(ic,q(D.j?D.j("\b",b):D.call(null,"\b",b))?"\\backspace":q(D.j?D.j(" ",b):D.call(null," ",b))?"\\space":q(D.j?D.j("\t",b):D.call(null,"\t",b))?"\\tab":q(D.j?D.j("\n",b):D.call(null,"\n",b))?"\\newline":q(D.j?D.j("\f",b):D.call(null,"\f",b))?
"\\formfeed":q(D.j?D.j("\r",b):D.call(null,"\r",b))?"\\return":q(D.j?D.j('"',b):D.call(null,'"',b))?'\\"':q(D.j?D.j("\\",b):D.call(null,"\\",b))?"\\\\":["\\",t.B(b)].join(""));else throw Error(["No matching clause: ",t.B(a)].join(""));return c}function BE(a,b){b=$D(b);a=P(b,0,null);b=P(b,1,null);MC.F(M([a]));return b}function CE(a){a=H(a);return D.j(uA,a)||D.j(fx,a)}
function DE(a,b,c){return mf(QC(function(d,e){if(CE(e))return new W(null,2,5,Y,[null,e],null);e=fE(Wt.B(d),e);var f=P(e,0,null);e=P(e,1,null);var h=SC(f);f=P(h,0,null);h=P(h,1,null);f=Q.C(f,$n,c);return new W(null,2,5,Y,[null,gh(Aw.B(d),new W(null,3,5,Y,[f,e,h],null))],null)},b,a))}
function EE(a){a=t.B(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new W(null,2,5,Y,[a,t.B(a.length-1)],null):new W(null,2,5,Y,[[yg.C(a,0,c),yg.j(a,c+1)].join(""),t.B(c-1)],null):0>c?new W(null,2,5,Y,[yg.C(a,0,b),yg.j(a,b+1)],null):new W(null,2,5,Y,[[yg.C(a,0,1),yg.C(a,2,b)].join(""),yg.j(a,b+1)],null);b=P(a,0,null);a=P(a,1,null);a:if(c=K(b),0<c&&D.j(bf(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.j(bf(b,c),"0"))--c;else{b=yg.C(b,0,c+1);break a}}a:{c=b;var d=K(c);if(0<d&&
D.j(bf(c,0),"0"))for(var e=0;;){if(D.j(e,d)||!D.j(bf(c,e),"0")){c=yg.j(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&D.j(bf(a,0),"+")?yg.j(a,1):a;return Bf(c)?new W(null,2,5,Y,["0",0],null):new W(null,2,5,Y,[c,parseInt(a,10)-b],null)}
function FE(a,b,c,d){if(q(q(c)?c:d)){var e=K(a);d=q(d)?2>d?2:d:0;q(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.j(c,0)?new W(null,4,5,Y,[["0",t.B(a)].join(""),b+1,1,e+1],null):new W(null,4,5,Y,[a,b,c,e],null);c=P(f,0,null);e=P(f,1,null);d=P(f,2,null);f=P(f,3,null);if(q(d)){if(0>d)return new W(null,3,5,Y,["0",0,!1],null);if(f>d){b=bf(c,d);a=yg.C(c,0,d);if(PC(b)>=PC("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=hh(t,"1",Sh(b+1,"0"));break a}if(D.j("9",a.charAt(c)))--c;else{b=ih(t,yg.C(a,0,c),rg(PC(a.charAt(c))+
1),Sh(b-c,"0"));break a}}a=K(b)>a.length;return new W(null,3,5,Y,[a?yg.C(b,0,K(b)-1):b,e,a],null)}return new W(null,3,5,Y,[a,e,!1],null)}}}return new W(null,3,5,Y,[a,b,!1],null)}function GE(a,b,c){var d=0>b?new W(null,2,5,Y,[[t.B(gh(t,Sh(-b-1,"0"))),t.B(a)].join(""),-1],null):new W(null,2,5,Y,[a,b],null);a=P(d,0,null);var e=P(d,1,null);d=K(a);c=q(c)?e+c+1:e+1;c=d<c?[t.B(a),t.B(gh(t,Sh(c-d,"0")))].join(""):a;0>b?b=[".",t.B(c)].join(""):(b+=1,b=[yg.C(c,0,b),".",yg.j(c,b)].join(""));return b}
function HE(a,b){return 0>b?[".",t.B(a)].join(""):[yg.C(a,0,b),".",yg.j(a,b)].join("")}
function IE(a,b){var c=rw.B(a),d=lw.B(a);b=$D(b);var e=P(b,0,null);b=P(b,1,null);var f=0>e?new W(null,2,5,Y,["-",-e],null):new W(null,2,5,Y,["+",e],null),h=P(f,0,null);f=P(f,1,null);f=EE(f);var k=P(f,0,null),m=P(f,1,null)+fw.B(a);f=Ny.B(a);e=q(f)?f:0>e;f=yc(d)&&K(k)-1<=m;var n=FE(k,m,d,q(c)?c-(q(e)?1:0):null);k=P(n,0,null);m=P(n,1,null);n=P(n,2,null);k=GE(k,q(n)?m+1:m,d);d=q(q(c)?q(d)?1<=d&&D.j(k.charAt(0),"0")&&D.j(k.charAt(1),".")&&k.length>c-(q(e)?1:0):d:c)?yg.j(k,1):k;m=D.j(H(d),".");q(c)?(k=
d.length,k=q(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,q(k>c?FA.B(a):!1)?MC.F(M([gh(t,Sh(c,FA.B(a)))])):MC.F(M([[t.B(gh(t,Sh(c-k,fs.B(a)))),t.B(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):MC.F(M([[t.B(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function JE(a,b){b=$D(b);var c=P(b,0,null);b=P(b,1,null);var d=EE(0>c?-c:c);P(d,0,null);for(P(d,1,null);;){var e=P(d,0,null),f=P(d,1,null),h=rw.B(a),k=lw.B(a),m=iw.B(a),n=fw.B(a),r=function(){var F=Vo.B(a);return q(F)?F:"E"}();d=function(){var F=Ny.B(a);return q(F)?F:0>c}();var u=0>=n,w=f-(n-1),A=t.B(Math.abs(w));r=[t.B(r),0>w?"-":"+",t.B(q(m)?gh(t,Sh(m-A.length,"0")):null),A].join("");var G=r.length;w=K(e);e=[t.B(gh(t,Sh(-n,"0"))),t.B(e),t.B(q(k)?gh(t,Sh(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=q(h)?h-G:null;e=FE(e,0,D.j(n,0)?k-1:0<n?k:0>n?k-1:null,q(w)?w-(q(d)?1:0):null);w=P(e,0,null);P(e,1,null);A=P(e,2,null);e=HE(w,n);k=D.j(n,K(w))&&null==k;if(yc(A)){if(q(h)){f=e.length+G;f=q(d)?f+1:f;var I=(u=u&&!D.j(f,h))?f+1:f;f=k&&I<h;q(function(){var F=I>h;F||(F=m,F=q(F)?G-2>m:F);return q(F)?FA.B(a):F}())?MC.F(M([gh(t,Sh(h,FA.B(a)))])):MC.F(M([[t.B(gh(t,Sh(h-I-(f?1:0),fs.B(a)))),q(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,r].join("")]))}else MC.F(M([[q(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,r].join("")]));break}else d=new W(null,2,5,Y,[w,f+1],null)}return b}function KE(a,b,c){var d=$D(b),e=P(d,0,null);P(d,1,null);d=EE(0>e?-e:e);var f=P(d,0,null);d=P(d,1,null);var h=rw.B(a),k=lw.B(a),m=iw.B(a);d=D.j(e,0)?0:d+1;e=q(m)?m+2:4;h=q(h)?h-e:null;q(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=IE(new p(null,6,[rw,h,lw,d,fw,0,FA,FA.B(a),fs,fs.B(a),Ny,Ny.B(a)],null),b,c),MC.F(M([gh(t,Sh(e," "))])),a):JE(a,b,c)}
function LE(a,b){b=$D(b);var c=P(b,0,null);b=P(b,1,null);var d=EE(Math.abs(c)),e=P(d,0,null),f=P(d,1,null),h=lw.B(a),k=yw.B(a);d=rw.B(a);var m=function(){var r=Ny.B(a);return q(r)?r:0>c}(),n=FE(e,f,h,null);e=P(n,0,null);f=P(n,1,null);n=P(n,2,null);h=GE(e,q(n)?f+1:f,h);k=[t.B(gh(t,Sh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(q(m)?1:0);MC.F(M([[q(function(){var r=hv.B(a);return q(r)?m:r}())?0>c?"-":"+":null,t.B(gh(t,Sh(d-h,fs.B(a)))),q(yc(hv.B(a))?m:!1)?0>c?"-":"+":null,k].join("")]));return b}
function ME(a,b){var c=jz.B(a);c=q(c)?new W(null,2,5,Y,[c,b],null):$D(b);b=P(c,0,null);c=P(c,1,null);var d=py.B(a);b=0>b||b>=K(d)?H(St.B(a)):bf(d,b);return q(b)?DE(b,c,$n.B(a)):c}function NE(a,b){var c=$D(b);b=P(c,0,null);c=P(c,1,null);var d=py.B(a);b=q(b)?mf(d):H(d);return q(b)?DE(b,c,$n.B(a)):c}function OE(a,b){var c=$D(b),d=P(c,0,null);c=P(c,1,null);var e=py.B(a);e=q(d)?H(e):null;return q(d)?q(e)?DE(e,b,$n.B(a)):b:c}
function PE(a,b){var c=YA.B(a),d=H(py.B(a));d=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=$D(d);var e=P(d,0,null);d=P(d,1,null);var f=0;e=UD(e);for(var h=-1;;){if(yc(c)&&D.j(Js.B(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=Bf(cu.B(e))&&(yc(hv.B(Fp.B(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=DE(b,e,$n.B(a));if(D.j(uA,H(h)))return d;f+=1;var k=Js.B(e);e=h;h=k}}
function QE(a,b){var c=YA.B(a),d=H(py.B(a));d=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=$D(d);var e=P(d,0,null);d=P(d,1,null);for(var f=0;;){var h=Bf(e)&&(yc(hv.B(Fp.B(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=DE(b,UD(H(e)),UD(J(e)));if(D.j(fx,H(h)))return d;f+=1;e=J(e)}}
function RE(a,b){var c=YA.B(a),d=H(py.B(a)),e=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(e,0,null);d=0;e=P(e,1,null);for(var f=-1;;){if(yc(c)&&D.j(Js.B(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=Bf(cu.B(e))&&(yc(hv.B(Fp.B(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=DE(b,e,$n.B(a));if(D.j(uA,H(f)))return mf(f);d+=1;var h=Js.B(e);e=f;f=h}}
function SE(a,b){var c=YA.B(a),d=H(py.B(a)),e=Bf(d)?aE(b):new W(null,2,5,Y,[d,b],null);b=P(e,0,null);d=0;for(e=P(e,1,null);;){var f=Bf(cu.B(e))&&(yc(hv.B(Fp.B(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=cu.B(e);f=q(f)?new W(null,2,5,Y,[H(f),new ZD(ep.B(e),J(f),Js.B(e)+1,null,null,null)],null):new W(null,2,5,Y,[null,e],null);e=P(f,0,null);f=P(f,1,null);e=DE(b,UD(e),f);if(D.j(fx,H(e)))return f;e=f;d+=1}}
function TE(a,b){if(q(hv.B(Fp.B(a)))){var c=py.B(a),d=K(c),e=1<d?Pm.B(Wt.B(H(H(c)))):q(hv.B(a))?"(":null,f=bf(c,1<d?1:0);c=2<d?Pm.B(Wt.B(H(bf(c,2)))):q(hv.B(a))?")":null;d=$D(b);b=P(d,0,null);d=P(d,1,null);if(q(PD()))Jd(ic,"#");else{var h=GD,k=HD;GD+=1;HD=0;try{xD(e,c),DE(f,UD(b),$n.B(a)),yD()}finally{HD=k,GD=h}}a=d}else a=UE(a,b);return a}
function VE(a,b,c){for(var d=qf;;){if(Bf(a))return new W(null,2,5,Y,[d,b],null);var e=H(a);a:{var f=new dc,h=ic;ic=new ke(f);try{var k=new W(null,2,5,Y,[DE(e,b,c),t.B(f)],null);break a}finally{ic=h}k=void 0}b=P(k,0,null);e=P(k,1,null);if(D.j(uA,H(b)))return new W(null,2,5,Y,[d,mf(b)],null);a=J(a);d=pf.j(d,e)}}
function UE(a,b){var c=function(){var O=St.B(a);return q(O)?VE(O,b,$n.B(a)):null}(),d=P(c,0,null);d=P(d,0,null);c=P(c,1,null);var e=q(c)?c:b;c=function(){var O=xB.B(a);return q(O)?fE(O,e):null}();var f=P(c,0,null);c=P(c,1,null);var h=q(c)?c:e;c=function(){var O=H(du.B(f));return q(O)?O:0}();var k=function(){var O=H(ey.B(f));return q(O)?O:VC(ic,gy)}(),m=py.B(a);h=VE(m,h,$n.B(a));var n=P(h,0,null);h=P(h,1,null);var r=function(){var O=K(n)-1+(q(hv.B(a))?1:0)+(q(Ny.B(a))?1:0);return 1>O?1:O}();m=v.j(hg,
Lh.j(K,n));var u=MA.B(a),w=ov.B(a),A=$q.B(a),G=m+r*w;u=G<=u?u:u+A*(1+ug(G-u-1,A));var I=u-m;m=function(){var O=ug(I,r);return w>O?w:O}();A=I-m*r;m=gh(t,Sh(m,fs.B(a)));q(q(d)?VC(tp.B(y(y(ic))),As)+c+u>k:d)&&MC.F(M([d]));c=A;for(var F=n,N=function(){var O=hv.B(a);return q(O)?O:D.j(K(F),1)&&yc(Ny.B(a))}();;)if(E(F))MC.F(M([[t.B(yc(N)?H(F):null),t.B(q(function(){var O=N;return q(O)?O:(O=J(F))?O:Ny.B(a)}())?m:null),t.B(0<c?fs.B(a):null)].join("")])),--c,F=d=q(N)?F:J(F),N=!1;else break;return h}
function WE(a){if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof IC)IC=function(b,c){this.Xa=b;this.Qh=c;this.J=1074135040;this.T=0},IC.prototype.ea=function(b,c){return new IC(this.Xa,c)},IC.prototype.da=function(){return this.Qh},IC.prototype.Tc=function(){return Kd(this.Xa)},IC.prototype.xd=function(b,c){b=Bc(c);if(q(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.Xa,c.toLowerCase());if(q(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.Xa,rg(c).toLowerCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},IC.Mb=!0,IC.wb="cljs.pprint/t_cljs$pprint22857",IC.Wb=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint22857")};return new IC(a,V)}
function XE(a){if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof JC)JC=function(b,c){this.Xa=b;this.Rh=c;this.J=1074135040;this.T=0},JC.prototype.ea=function(b,c){return new JC(this.Xa,c)},JC.prototype.da=function(){return this.Rh},JC.prototype.Tc=function(){return Kd(this.Xa)},JC.prototype.xd=function(b,c){b=Bc(c);if(q(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.Xa,c.toUpperCase());if(q(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.Xa,rg(c).toUpperCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},JC.Mb=!0,JC.wb="cljs.pprint/t_cljs$pprint22866",JC.Wb=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint22866")};return new JC(a,V)}
function YE(a,b){var c=H(a);a=q(q(b)?q(c)?Lb(c):c:b)?[c.toUpperCase(),yg.j(a,1)].join(""):a;return gh(t,H(RC(function(d){if(Bf(d))return new W(null,2,5,Y,[null,null],null);var e=/\W\w/g.exec(d);e=q(e)?e.index+1:e;return q(e)?new W(null,2,5,Y,[[yg.C(d,0,e),bf(d,e).toUpperCase()].join(""),yg.j(d,e+1)],null):new W(null,2,5,Y,[d,null],null)},a)))}
function ZE(a){var b=Ch(!0);if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof KC)KC=function(c,d,e){this.Xa=c;this.Ee=d;this.Sh=e;this.J=1074135040;this.T=0},KC.prototype.ea=function(c,d){return new KC(this.Xa,this.Ee,d)},KC.prototype.da=function(){return this.Sh},KC.prototype.Tc=function(){return Kd(this.Xa)},KC.prototype.xd=function(c,d){c=Bc(d);if(q(D.j?D.j(String,c):D.call(null,String,c)))return Jd(this.Xa,YE(d.toLowerCase(),y(this.Ee))),0<d.length?Dh(this.Ee,vb(bf(d,K(d)-
1))):null;if(q(D.j?D.j(Number,c):D.call(null,Number,c)))return d=rg(d),c=q(y(this.Ee))?d.toUpperCase():d,Jd(this.Xa,c),Dh(this.Ee,vb(d));throw Error(["No matching clause: ",t.B(c)].join(""));},KC.Mb=!0,KC.wb="cljs.pprint/t_cljs$pprint22885",KC.Wb=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint22885")};return new KC(a,b,V)}
function $E(a){var b=Ch(!1);if("undefined"===typeof fc||"undefined"===typeof FC||"undefined"===typeof LC)LC=function(c,d,e){this.Xa=c;this.ce=d;this.Th=e;this.J=1074135040;this.T=0},LC.prototype.ea=function(c,d){return new LC(this.Xa,this.ce,d)},LC.prototype.da=function(){return this.Th},LC.prototype.Tc=function(){return Kd(this.Xa)},LC.prototype.xd=function(c,d){c=Bc(d);if(q(D.j?D.j(String,c):D.call(null,String,c)))return d=d.toLowerCase(),yc(y(this.ce))?(c=/\S/g.exec(d),c=q(c)?c.index:c,q(c)?(Jd(this.Xa,
[yg.C(d,0,c),bf(d,c).toUpperCase(),yg.j(d,c+1).toLowerCase()].join("")),Dh(this.ce,!0)):Jd(this.Xa,d)):Jd(this.Xa,d.toLowerCase());if(q(D.j?D.j(Number,c):D.call(null,Number,c)))return d=rg(d),q(yc(y(this.ce))?Lb(d):!1)?(Dh(this.ce,!0),Jd(this.Xa,d.toUpperCase())):Jd(this.Xa,d.toLowerCase());throw Error(["No matching clause: ",t.B(c)].join(""));},LC.Mb=!0,LC.wb="cljs.pprint/t_cljs$pprint22906",LC.Wb=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint22906")};return new LC(a,b,V)}
function aF(a,b){var c=q(hv.B(a))?or:Pt;RD(c,yw.B(a));return b}function bF(a,b){a=q(hv.B(a))?q(Ny.B(a))?Hn:xt:q(Ny.B(a))?mz:Zu;QD(a);return b}
var cF=Oj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new p(null,5,[cp,"A",Wt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),$q,new W(null,2,5,Y,[1,Number],null),ov,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return function(a,b){return jE(hl,a,b)}}],null),new p(null,5,[cp,"S",Wt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),$q,new W(null,2,5,Y,[1,Number],
null),ov,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return function(a,b){return jE(fl,a,b)}}],null),new p(null,5,[cp,"D",Wt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null),hu,new W(null,2,5,Y,[",",String],null),Rs,new W(null,2,5,Y,[3,Number],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return function(a,
b){return mE(10,a,b)}}],null),new p(null,5,[cp,"B",Wt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null),hu,new W(null,2,5,Y,[",",String],null),Rs,new W(null,2,5,Y,[3,Number],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return function(a,b){return mE(2,a,b)}}],null),new p(null,5,[cp,"O",Wt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null),hu,new W(null,2,5,Y,[",",String],
null),Rs,new W(null,2,5,Y,[3,Number],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return function(a,b){return mE(8,a,b)}}],null),new p(null,5,[cp,"X",Wt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null),hu,new W(null,2,5,Y,[",",String],null),Rs,new W(null,2,5,Y,[3,Number],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return function(a,b){return mE(16,a,b)}}],
null),new p(null,5,[cp,"R",Wt,new p(null,5,[tp,new W(null,2,5,Y,[null,Number],null),MA,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null),hu,new W(null,2,5,Y,[",",String],null),Rs,new W(null,2,5,Y,[3,Number],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(a){return q(H(tp.B(a)))?function(b,c){return mE(tp.B(b),b,c)}:q(function(){var b=Ny.B(a);return q(b)?hv.B(a):b}())?function(b,c){return xE(vE,c)}:q(Ny.B(a))?function(b,c){return xE(wE,
c)}:q(hv.B(a))?function(b,c){b=$D(c);c=P(b,0,null);b=P(b,1,null);if(D.j(0,c))MC.F(M(["zeroth"]));else{var d=kE(1E3,0>c?-c:c);if(K(d)<=K(rE)){var e=Lh.j(sE,Oh(1,d));e=tE(e,1);d=uE(of(d));MC.F(M([[0>c?"minus ":null,Bf(e)||Bf(d)?Bf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else mE(10,new p(null,5,[MA,0,fs," ",hu,",",Rs,3,hv,!0],null),UD(new W(null,1,5,Y,[c],null))),d=vg(c,100),c=11<d||19>d,d=vg(d,10),MC.F(M([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=$D(c);
b=P(c,0,null);c=P(c,1,null);if(D.j(0,b))MC.F(M(["zero"]));else{var d=kE(1E3,0>b?-b:b);K(d)<=K(rE)?(d=Lh.j(sE,d),d=tE(d,0),MC.F(M([[0>b?"minus ":null,d].join("")]))):mE(10,new p(null,5,[MA,0,fs," ",hu,",",Rs,3,hv,!0],null),UD(new W(null,1,5,Y,[b],null)))}return c}}],null),new p(null,5,[cp,"P",Wt,V,ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return function(a,b){b=q(hv.B(a))?cE(b,-1):b;a=q(Ny.B(a))?new W(null,2,5,Y,["y","ies"],null):new W(null,2,5,Y,["","s"],
null);var c=$D(b);b=P(c,0,null);c=P(c,1,null);MC.F(M([D.j(b,1)?H(a):mf(a)]));return c}}],null),new p(null,5,[cp,"C",Wt,new p(null,1,[ay,new W(null,2,5,Y,[null,String],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(a){return q(hv.B(a))?zE:q(Ny.B(a))?AE:BE}],null),new p(null,5,[cp,"F",Wt,new p(null,5,[rw,new W(null,2,5,Y,[null,Number],null),lw,new W(null,2,5,Y,[null,Number],null),fw,new W(null,2,5,Y,[0,Number],null),FA,new W(null,2,5,Y,[null,String],
null),fs,new W(null,2,5,Y,[" ",String],null)],null),ix,new qk(null,new p(null,1,[Ny,null],null),null),xz,V,zA,function(){return IE}],null),new p(null,5,[cp,"E",Wt,new p(null,7,[rw,new W(null,2,5,Y,[null,Number],null),lw,new W(null,2,5,Y,[null,Number],null),iw,new W(null,2,5,Y,[null,Number],null),fw,new W(null,2,5,Y,[1,Number],null),FA,new W(null,2,5,Y,[null,String],null),fs,new W(null,2,5,Y,[" ",String],null),Vo,new W(null,2,5,Y,[null,String],null)],null),ix,new qk(null,new p(null,1,[Ny,null],null),
null),xz,V,zA,function(){return JE}],null),new p(null,5,[cp,"G",Wt,new p(null,7,[rw,new W(null,2,5,Y,[null,Number],null),lw,new W(null,2,5,Y,[null,Number],null),iw,new W(null,2,5,Y,[null,Number],null),fw,new W(null,2,5,Y,[1,Number],null),FA,new W(null,2,5,Y,[null,String],null),fs,new W(null,2,5,Y,[" ",String],null),Vo,new W(null,2,5,Y,[null,String],null)],null),ix,new qk(null,new p(null,1,[Ny,null],null),null),xz,V,zA,function(){return KE}],null),new p(null,5,[cp,"$",Wt,new p(null,4,[lw,new W(null,
2,5,Y,[2,Number],null),yw,new W(null,2,5,Y,[1,Number],null),rw,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null)],null),ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return LE}],null),new p(null,5,[cp,"%",Wt,new p(null,1,[oy,new W(null,2,5,Y,[1,Number],null)],null),ix,sk,xz,V,zA,function(){return function(a,b){a=oy.B(a);for(var c=0;;)if(c<a)OC(),c+=1;else break;return b}}],null),new p(null,5,[cp,"\x26",Wt,new p(null,1,[oy,new W(null,2,
5,Y,[1,Number],null)],null),ix,new qk(null,new p(null,1,[it,null],null),null),xz,V,zA,function(){return function(a,b){a=oy.B(a);0<a&&((null!=ic?ic.J&32768||l===ic.jg||(ic.J?0:Ac(od,ic)):Ac(od,ic))?D.j(0,VC(tp.B(y(y(ic))),As))||OC():OC());--a;for(var c=0;;)if(c<a)OC(),c+=1;else break;return b}}],null),new p(null,5,[cp,"|",Wt,new p(null,1,[oy,new W(null,2,5,Y,[1,Number],null)],null),ix,sk,xz,V,zA,function(){return function(a,b){a=oy.B(a);for(var c=0;;)if(c<a)MC.F(M(["\f"])),c+=1;else break;return b}}],
null),new p(null,5,[cp,"~",Wt,new p(null,1,[yw,new W(null,2,5,Y,[1,Number],null)],null),ix,sk,xz,V,zA,function(){return function(a,b){a=yw.B(a);MC.F(M([gh(t,Sh(a,"~"))]));return b}}],null),new p(null,5,[cp,"\n",Wt,V,ix,new qk(null,new p(null,2,[hv,null,Ny,null],null),null),xz,V,zA,function(){return function(a,b){q(Ny.B(a))&&OC();return b}}],null),new p(null,5,[cp,"T",Wt,new p(null,2,[uz,new W(null,2,5,Y,[1,Number],null),$q,new W(null,2,5,Y,[1,Number],null)],null),ix,new qk(null,new p(null,2,[Ny,null,
it,null],null),null),xz,V,zA,function(a){return q(Ny.B(a))?function(b,c){var d=uz.B(b);b=$q.B(b);var e=d+VC(tp.B(y(y(ic))),As);e=0<b?vg(e,b):0;d+=D.j(0,e)?0:b-e;MC.F(M([gh(t,Sh(d," "))]));return c}:function(b,c){var d=uz.B(b);b=$q.B(b);var e=VC(tp.B(y(y(ic))),As);d=e<d?d-e:D.j(b,0)?0:b-vg(e-d,b);MC.F(M([gh(t,Sh(d," "))]));return c}}],null),new p(null,5,[cp,"*",Wt,new p(null,1,[yw,new W(null,2,5,Y,[1,Number],null)],null),ix,new qk(null,new p(null,2,[hv,null,Ny,null],null),null),xz,V,zA,function(){return function(a,
b){var c=yw.B(a);return q(Ny.B(a))?bE(b,c):cE(b,q(hv.B(a))?-c:c)}}],null),new p(null,5,[cp,"?",Wt,V,ix,new qk(null,new p(null,1,[Ny,null],null),null),xz,V,zA,function(a){return q(Ny.B(a))?function(b,c){var d=aE(c);c=P(d,0,null);d=P(d,1,null);return DE(c,d,$n.B(b))}:function(b,c){var d=aE(c);c=P(d,0,null);d=P(d,1,null);var e=$D(d);d=P(e,0,null);e=P(e,1,null);d=UD(d);DE(c,d,$n.B(b));return e}}],null),new p(null,5,[cp,"(",Wt,V,ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,new p(null,
3,[Iq,")",cx,null,St,null],null),zA,function(a){var b=q(function(){var c=Ny.B(a);return q(c)?hv.B(a):c}())?XE:q(hv.B(a))?ZE:q(Ny.B(a))?$E:WE;return function(c,d){a:{var e=H(py.B(c)),f=ic;ic=b.B?b.B(ic):b.call(null,ic);try{var h=DE(e,d,$n.B(c));break a}finally{ic=f}h=void 0}return h}}],null),new p(null,5,[cp,")",Wt,V,ix,sk,xz,V,zA,function(){return null}],null),new p(null,5,[cp,"[",Wt,new p(null,1,[jz,new W(null,2,5,Y,[null,Number],null)],null),ix,new qk(null,new p(null,2,[hv,null,Ny,null],null),null),
xz,new p(null,3,[Iq,"]",cx,!0,St,bw],null),zA,function(a){return q(hv.B(a))?NE:q(Ny.B(a))?OE:ME}],null),new p(null,5,[cp,";",Wt,new p(null,2,[du,new W(null,2,5,Y,[null,Number],null),ey,new W(null,2,5,Y,[null,Number],null)],null),ix,new qk(null,new p(null,1,[hv,null],null),null),xz,new p(null,1,[Xs,!0],null),zA,function(){return null}],null),new p(null,5,[cp,"]",Wt,V,ix,sk,xz,V,zA,function(){return null}],null),new p(null,5,[cp,"{",Wt,new p(null,1,[YA,new W(null,2,5,Y,[null,Number],null)],null),ix,
new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,new p(null,2,[Iq,"}",cx,!1],null),zA,function(a){var b=Ny.B(a);b=q(b)?hv.B(a):b;return q(b)?SE:q(hv.B(a))?QE:q(Ny.B(a))?RE:PE}],null),new p(null,5,[cp,"}",Wt,V,ix,new qk(null,new p(null,1,[hv,null],null),null),xz,V,zA,function(){return null}],null),new p(null,5,[cp,"\x3c",Wt,new p(null,4,[MA,new W(null,2,5,Y,[0,Number],null),$q,new W(null,2,5,Y,[1,Number],null),ov,new W(null,2,5,Y,[0,Number],null),fs,new W(null,2,5,Y,[" ",String],null)],
null),ix,new qk(null,new p(null,4,[hv,null,Ny,null,Sw,null,it,null],null),null),xz,new p(null,3,[Iq,"\x3e",cx,!0,St,Hp],null),zA,function(){return TE}],null),new p(null,5,[cp,"\x3e",Wt,V,ix,new qk(null,new p(null,1,[hv,null],null),null),xz,V,zA,function(){return null}],null),new p(null,5,[cp,"^",Wt,new p(null,3,[hA,new W(null,2,5,Y,[null,Number],null),jA,new W(null,2,5,Y,[null,Number],null),fA,new W(null,2,5,Y,[null,Number],null)],null),ix,new qk(null,new p(null,1,[hv,null],null),null),xz,V,zA,function(){return function(a,
b){var c=hA.B(a),d=jA.B(a),e=fA.B(a),f=q(hv.B(a))?fx:uA;return q(q(c)?q(d)?e:d:c)?c<=d&&d<=e?new W(null,2,5,Y,[f,b],null):b:q(q(c)?d:c)?D.j(c,d)?new W(null,2,5,Y,[f,b],null):b:q(c)?D.j(c,0)?new W(null,2,5,Y,[f,b],null):b:(q(hv.B(a))?Bf(cu.B($n.B(a))):Bf(cu.B(b)))?new W(null,2,5,Y,[f,b],null):b}}],null),new p(null,5,[cp,"W",Wt,V,ix,new qk(null,new p(null,4,[hv,null,Ny,null,Sw,null,it,null],null),null),xz,V,zA,function(a){if(q(function(){var c=Ny.B(a);return q(c)?c:hv.B(a)}())){var b=T.j(q(Ny.B(a))?
new W(null,4,5,Y,[qm,null,Ln,null],null):qf,q(hv.B(a))?new W(null,2,5,Y,[it,!0],null):qf);return function(c,d){d=$D(d);c=P(d,0,null);d=P(d,1,null);return q(hh(KD,c,b))?new W(null,2,5,Y,[uA,d],null):d}}return function(c,d){d=$D(d);c=P(d,0,null);d=P(d,1,null);return q(JD(c))?new W(null,2,5,Y,[uA,d],null):d}}],null),new p(null,5,[cp,"_",Wt,V,ix,new qk(null,new p(null,3,[hv,null,Ny,null,Sw,null],null),null),xz,V,zA,function(){return bF}],null),new p(null,5,[cp,"I",Wt,new p(null,1,[yw,new W(null,2,5,Y,
[0,Number],null)],null),ix,new qk(null,new p(null,1,[hv,null],null),null),xz,V,zA,function(){return aF}],null)]),dF=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,eF=new qk(null,new p(null,2,[ts,null,lz,null],null),null);
function fF(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);a=new RegExp(dF.source,"g");var e=a.exec(b);return q(e)?(d=H(e),b=yg.j(b,a.lastIndex),a=c+a.lastIndex,D.j(",",bf(b,0))?new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[yg.j(b,1),a+1,!0],null)],null):new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[b,a,!1],null)],null)):q(d)?YD("Badly formed parameters in format directive",c):new W(null,2,5,Y,[null,new W(null,2,5,Y,[b,c],null)],null)}
function gF(a){var b=P(a,0,null);a=P(a,1,null);return new W(null,2,5,Y,[D.j(b.length,0)?null:D.j(b.length,1)&&Pf(new qk(null,new p(null,2,["V",null,"v",null],null),null),bf(b,0))?lz:D.j(b.length,1)&&D.j("#",bf(b,0))?ts:D.j(b.length,2)&&D.j("'",bf(b,0))?bf(b,1):parseInt(b,10),a],null)}var hF=new p(null,2,[":",hv,"@",Ny],null);
function iF(a,b){return RC(function(c){var d=P(c,0,null),e=P(c,1,null);c=P(c,2,null);if(Bf(d))return new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null);var f=B.j(hF,H(d));return q(f)?Pf(c,f)?YD(['Flag "',t.B(H(d)),'" appears more than once in a directive'].join(""),e):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[yg.j(d,1),e+1,Q.C(c,f,new W(null,2,5,Y,[!0,e],null))],null)],null):new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null)},new W(null,3,5,Y,[a,b,V],null))}
function jF(a,b){var c=ix.B(a);q(yc(Ny.B(c))?Ny.B(b):!1)&&YD(['"@" is an illegal flag for format directive "',t.B(cp.B(a)),'"'].join(""),bf(Ny.B(b),1));q(yc(hv.B(c))?hv.B(b):!1)&&YD(['":" is an illegal flag for format directive "',t.B(cp.B(a)),'"'].join(""),bf(hv.B(b),1));q(yc(Sw.B(c))?function(){var d=Ny.B(b);return q(d)?hv.B(b):d}():!1)&&YD(['Cannot combine "@" and ":" flags for format directive "',t.B(cp.B(a)),'"'].join(""),function(){var d=bf(hv.B(b),1),e=bf(Ny.B(b),1);return d<e?d:e}())}
function kF(a,b,c,d){jF(a,c);K(b)>K(Wt.B(a))&&YD(SD(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([cp.B(a),K(b),K(Wt.B(a))])),mf(H(b)));Mk(Lh.C(function(e,f){var h=H(e);return null==h||Pf(eF,h)||D.j(mf(mf(f)),Bc(h))?null:YD(["Parameter ",Ig(H(f)),' has bad type in directive "',t.B(cp.B(a)),'": ',t.B(Bc(h))].join(""),mf(e))},b,Wt.B(a)));return lk.F(M([ai.j(V,Bg(function(){return function h(f){return new Jg(null,function(){for(;;){var k=
E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=P(w,0,null);w=P(w,1,null);w=P(w,0,null);r.add(new W(null,2,5,Y,[A,new W(null,2,5,Y,[w,d],null)],null));u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}m=H(k);r=P(m,0,null);m=P(m,1,null);m=P(m,0,null);return hf(new W(null,2,5,Y,[r,new W(null,2,5,Y,[m,d],null)],null),h(Fe(k)))}return null}},null,null)}(Wt.B(a))}())),v.C(function(e,f){return hh(Q,e,f)},V,Zh(function(e){return H(bf(e,1))},wk(cj(Wt.B(a)),
b))),c]))}
function lF(a,b){b=RC(fF,new W(null,3,5,Y,[a,b,!1],null));a=P(b,0,null);var c=P(b,1,null);b=P(c,0,null);c=P(c,1,null);b=iF(b,c);P(b,0,null);b=P(b,1,null);var d=P(b,0,null),e=P(b,1,null);b=P(b,2,null);c=H(d);var f=B.j(cF,c.toUpperCase()),h=q(f)?kF(f,Lh.j(gF,a),b,e):null;yc(c)&&YD("Format string ended in the middle of a directive",e);yc(f)&&YD(['Directive "',t.B(c),'" is undefined'].join(""),e);return new W(null,2,5,Y,[new dE(function(){var k=zA.B(f);return k.j?k.j(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=yg.j(d,1),m=e+1;if(D.j("\n",cp.B(f))&&yc(hv.B(h)))a:{var n=new W(null,2,5,Y,[" ","\t"],null);n=Cf(n)?tk(n):Rf([n]);for(var r=0;;){var u;(u=D.j(r,K(k)))||(u=bf(k,r),u=n.B?n.B(u):n.call(null,u),u=yc(u));if(u){n=r;break a}r+=1}}else n=0;k=yg.j(k,n);return new W(null,2,5,Y,[k,m+n],null)}()],null)}function mF(a,b){return new dE(function(c,d){MC.F(M([a]));return d},null,new p(null,1,[Pm,a],null),b,null,null,null)}
function nF(a,b){var c=oF(xz.B(ko.B(a)),fu.B(a),b);b=P(c,0,null);c=P(c,1,null);return new W(null,2,5,Y,[new dE(Aw.B(a),ko.B(a),lk.F(M([Wt.B(a),TC(b,fu.B(a))])),fu.B(a),null,null,null),c],null)}
function pF(a,b,c){return RC(function(d){if(Bf(d))return YD("No closing bracket found.",b);var e=H(d);d=J(d);if(q(Iq.B(xz.B(ko.B(e)))))e=nF(e,d);else if(D.j(Iq.B(a),cp.B(ko.B(e))))e=new W(null,2,5,Y,[null,new W(null,4,5,Y,[Kr,Wt.B(e),null,d],null)],null);else{var f=Xs.B(xz.B(ko.B(e)));f=q(f)?hv.B(Wt.B(e)):f;e=q(f)?new W(null,2,5,Y,[null,new W(null,4,5,Y,[St,null,Wt.B(e),d],null)],null):q(Xs.B(xz.B(ko.B(e))))?new W(null,2,5,Y,[null,new W(null,4,5,Y,[Xs,null,null,d],null)],null):new W(null,2,5,Y,[e,
d],null)}return e},c)}
function oF(a,b,c){return mf(RC(function(d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);var h=pF(a,b,d);d=P(h,0,null);var k=P(h,1,null);h=P(k,0,null);var m=P(k,1,null),n=P(k,2,null);k=P(k,3,null);return D.j(h,Kr)?new W(null,2,5,Y,[null,new W(null,2,5,Y,[mk.F(T,M([e,uf([q(f)?St:py,new W(null,1,5,Y,[d],null),Fp,m])])),k],null)],null):D.j(h,St)?q(St.B(e))?YD('Two else clauses ("~:;") inside bracket construction.',b):yc(St.B(a))?YD('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.j(Hp,St.B(a))&&E(py.B(e))?YD('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.j(Hp,St.B(a))?new W(null,2,5,Y,[!0,new W(null,3,5,Y,[mk.F(T,M([e,new p(null,2,[St,new W(null,1,5,Y,[d],null),xB,n],null)])),!1,k],null)],null):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[mk.F(T,M([e,new p(null,1,[py,new W(null,1,5,Y,[d],null)],null)])),!0,k],null)],null):D.j(h,Xs)?q(f)?YD('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):yc(cx.B(a))?
YD('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[mk.F(T,M([e,new p(null,1,[py,new W(null,1,5,Y,[d],null)],null)])),!1,k],null)],null):null},new W(null,3,5,Y,[new p(null,1,[py,qf],null),!1,c],null)))}function qF(a){return H(RC(function(b){var c=H(b);b=J(b);var d=xz.B(ko.B(c));return q(Iq.B(d))?nF(c,b):new W(null,2,5,Y,[c,b],null)},a))}
function TD(a){var b=XD;XD=a;try{return qF(H(RC(function(c){var d=P(c,0,null);c=P(c,1,null);if(Bf(d))return new W(null,2,5,Y,[null,d],null);var e=d.indexOf("~");return 0>e?new W(null,2,5,Y,[mF(d,c),new W(null,2,5,Y,["",c+d.length],null)],null):0===e?lF(yg.j(d,1),c+1):new W(null,2,5,Y,[mF(yg.C(d,0,e),c),new W(null,2,5,Y,[yg.j(d,e),e+c],null)],null)},new W(null,2,5,Y,[a,0],null))))}finally{XD=b}}
var VD=function VD(a){for(;;){if(Bf(a))return!1;var c=it.B(ix.B(ko.B(H(a))));q(c)||(c=sh(VD,H(py.B(Wt.B(H(a))))),c=q(c)?c:sh(VD,H(St.B(Wt.B(H(a))))));if(q(c))return!0;a=J(a)}};function WD(a,b){QC(function(c,d){if(CE(d))return new W(null,2,5,Y,[null,d],null);d=fE(Wt.B(c),d);var e=P(d,0,null);d=P(d,1,null);var f=SC(e);e=P(f,0,null);f=P(f,1,null);e=Q.C(e,$n,d);return new W(null,2,5,Y,[null,gh(Aw.B(c),new W(null,3,5,Y,[e,d,f],null))],null)},b,a);return null}
var rF=Fl(TD),sF=new p(null,6,[cw,"'",Fx,"#'",es,"@",dx,"~",vn,"@",co,"~"],null);function tF(a){var b=H(a);b=sF.B?sF.B(b):sF.call(null,b);return q(q(b)?D.j(2,K(a)):b)?(Jd(ic,b),JD(mf(a)),!0):null}function uF(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("[","]");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(JD(H(e)),J(e))){Jd(ic," ");QD(Zu);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null}
(function(){var a=rF("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.F=c;return b}()})();
function vF(a){var b=Gf(a)?null:function(){var m=new Ae(function(){return ll},ew,Oj([en,gm,Zy,tt,Mn,qA,zm,Wm,su,Ix,mv],[!0,lm,Fw,"cljs/core.cljs",15,1,10307,10307,Cg(new W(null,1,5,Y,[kq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",q(ll)?ll.Ii:null]));return m.B?m.B(a):m.call(null,a)}(),c=P(b,0,null);b=P(b,1,null);var d=q(b)?b:a,e=q(c)?["#:",t.B(c),"{"].join(""):"{";if(q(PD()))Jd(ic,"#");else{c=GD;b=HD;GD+=1;HD=0;try{xD(e,"}");e=0;for(var f=E(d);;){if(yc(mc)||e<mc){if(f){if(q(PD()))Jd(ic,
"#");else{d=GD;var h=HD;GD+=1;HD=0;try{xD(null,null),JD(nf(f)),Jd(ic," "),QD(Zu),HD=0,JD(H(J(H(f)))),yD()}finally{HD=h,GD=d}}if(J(f)){Jd(ic,", ");QD(Zu);d=e+1;var k=J(f);e=d;f=k;continue}}}else Jd(ic,"...");break}yD()}finally{HD=b,GD=c}}return null}function wF(a){return Jd(ic,fl.F(M([a])))}
var xF=function(){var a=rF("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.F=c;return b}()}(),yF=new p(null,2,["core$future_call","Future","core$promise","Promise"],null);
function zF(a){var b=Ok(/^[^$]+\$[^$]+/,a);b=q(b)?yF.B?yF.B(b):yF.call(null,b):null;return q(b)?b:a}var AF=function(){var a=rF("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.F=c;return b}()}();
function BF(a){return a instanceof Si?dz:(null!=a?a.J&32768||l===a.jg||(a.J?0:Ac(od,a)):Ac(od,a))?VA:a instanceof z?Bw:Lf(a)?kA:Ff(a)?Yx:Hf(a)?Uw:Df(a)?ip:null==a?null:Xl}var CF,DF=Ch(V),EF=Ch(V),FF=Ch(V),GF=Ch(V),HF=B.C(V,gw,Kl.N?Kl.N():Kl.call(null));CF=new Wl(ze.j(ba,"simple-dispatch"),BF,HF,DF,EF,FF,GF);
Ul(CF,kA,function(a){if(yc(tF(a)))if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",")");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(JD(H(e)),J(e))){Jd(ic," ");QD(Zu);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null});Ul(CF,Uw,uF);Ul(CF,Yx,vF);Ul(CF,ip,xF);Ul(CF,null,function(){return Jd(ic,fl.F(M([null])))});Ul(CF,Xl,wF);AD=CF;function IF(a){return Hf(a)?new W(null,2,5,Y,["[","]"],null):new W(null,2,5,Y,["(",")"],null)}
function JF(a){if(Ef(a)){var b=IF(a),c=P(b,0,null),d=P(b,1,null),e=E(a),f=H(e),h=J(e);if(q(PD()))Jd(ic,"#");else{var k=GD,m=HD,n=GD+1;GD=n;HD=0;try{xD(c,d);(function(){var wa=rF("~w~:i");return function(){function xa(ka){var oa=null;if(0<arguments.length){oa=0;for(var Ca=Array(arguments.length-0);oa<Ca.length;)Ca[oa]=arguments[oa+0],++oa;oa=new De(Ca,0,null)}return Ra.call(this,oa)}function Ra(ka){ka=UD(ka);return WD(wa,ka)}xa.$=0;xa.ca=function(ka){ka=E(ka);return Ra(ka)};xa.F=Ra;return xa}()})()(f);
for(var r=h;;)if(E(r)){(function(){var wa=rF(" ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.F=Ca;return oa}()}(r," ",wa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(r);if(Ef(u)){var w=IF(u),A=P(w,0,null),G=P(w,1,null);if(q(PD()))Jd(ic,
"#");else{var I=GD,F=HD,N=GD+1;GD=N;HD=0;try{xD(A,G);if(D.j(K(u),3)&&mf(u)instanceof C){var O=u,U=P(O,0,null),ea=P(O,1,null),va=P(O,2,null);(function(){var wa=rF("~w ~w ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.F=Ca;return oa}()}(r,
"~w ~w ",wa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);Ef(va)?function(){var wa=Hf(va)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",xa="string"===typeof wa?rF(wa):wa;return function(Ra,ka,oa){return function(){function Ca(Ba){var Ua=null;if(0<arguments.length){Ua=0;for(var ac=Array(arguments.length-0);Ua<ac.length;)ac[Ua]=arguments[Ua+0],++Ua;Ua=new De(ac,0,null)}return ua.call(this,Ua)}function ua(Ba){Ba=UD(Ba);return WD(oa,Ba)}Ca.$=0;Ca.ca=function(Ba){Ba=
E(Ba);return ua(Ba)};Ca.F=ua;return Ca}()}(r,wa,xa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(va):JD(va)}else gh(function(){var wa=rF("~w ~:i~@{~w~^ ~:_~}");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.F=Ca;return oa}()}(r,
"~w ~:i~@{~w~^ ~:_~}",wa,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);yD()}finally{HD=F,GD=I}}J(r)&&function(){var wa=rF("~_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.F=Ca;return oa}()}(r,"~_",wa,w,A,G,u,k,m,n,0,b,c,d,
a,e,f,h,f,h)}()()}else JD(u),J(r)&&function(){var wa=rF("~:_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=UD(ua);return WD(ka,ua)}oa.$=0;oa.ca=function(ua){ua=E(ua);return Ca(ua)};oa.F=Ca;return oa}()}(r,"~:_",wa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();r=J(r)}else break;yD()}finally{HD=m,GD=k}}}else JD(a)}
var KF=function(){var a=rF("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.F=c;return b}()}();
function LF(a,b){E(a)&&(q(b)?function(){var c=rF(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=UD(f);return WD(c,f)}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.F=e;return d}()}()():function(){var c=rF(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=UD(f);return WD(c,f)}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.F=e;return d}()}()(),function(){var c=rF("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=UD(f);return WD(c,f)}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.F=e;return d}()}()(a))}
function MF(a){E(a)&&function(){var b=rF(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){e=UD(e);return WD(b,e)}c.$=0;c.ca=function(e){e=E(e);return d(e)};c.F=d;return c}()}()(a)}
function NF(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new W(null,2,5,Y,[H(c),J(c)],null):new W(null,2,5,Y,[null,c],null);c=P(d,0,null);d=P(d,1,null);var e=Ff(H(d))?new W(null,2,5,Y,[H(d),J(d)],null):new W(null,2,5,Y,[null,d],null);d=P(e,0,null);e=P(e,1,null);if(q(PD()))Jd(ic,"#");else{var f=GD,h=HD;GD+=1;HD=0;try{xD("(",")"),function(){var k=rF("~w ~1I~@_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-
0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);return n(r)};m.F=n;return m}()}()(a,b),q(c)&&function(){var k=rF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);return n(r)};m.F=n;return m}()}()(c),
q(d)&&function(){var k=rF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);return n(r)};m.F=n;return m}()}()(d),Hf(H(e))?LF(e,q(c)?c:d):MF(e),yD()}finally{HD=h,GD=f}}return null}return OF(a)}
function PF(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("[","]");for(var d=0;;){if(yc(mc)||d<mc){if(E(a)){if(q(PD()))Jd(ic,"#");else{var e=GD,f=HD;GD+=1;HD=0;try{xD(null,null),JD(H(a)),J(a)&&(Jd(ic," "),QD(mz),JD(mf(a))),yD()}finally{HD=f,GD=e}}if(J(Fe(a))){Jd(ic," ");QD(Zu);e=d+1;var h=J(Fe(a));d=e;a=h;continue}}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}}
function QF(a){var b=H(a);if(q(PD()))Jd(ic,"#");else{var c=GD,d=HD;GD+=1;HD=0;try{xD("(",")"),J(a)&&Hf(mf(a))?(function(){var e=rF("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=UD(k);return WD(e,k)}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.F=h;return f}()}()(b),PF(mf(a)),function(){var e=rF(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=UD(k);return WD(e,k)}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.F=h;return f}()}()(J(Fe(a)))):OF(a),yD()}finally{HD=d,GD=c}}return null}
var RF=function(){var a=rF("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=UD(d);return WD(a,d)}b.$=0;b.ca=function(d){d=E(d);return c(d)};b.F=c;return b}()}(),SF=V;
function OF(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",")");RD(Pt,1);for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(JD(H(e)),J(e))){Jd(ic," ");QD(Zu);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null}
var TF=function(a){return ai.j(V,Xh(dg,M([function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new W(null,2,5,Y,[n,new W(null,2,5,Y,[ze.B(Ig(H(n))),mf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=H(e);return hf(new W(null,2,5,Y,[k,new W(null,2,5,Y,[ze.B(Ig(H(k))),mf(k)],null)],null),d(Fe(e)))}return null}},null,null)}(a)}()])))}(function(a){return ai.j(V,
Lh.j(function(b){var c=P(b,0,null),d=P(b,1,null);var e=Fg(c);e=q(e)?e:Pf(new qk(null,new p(null,24,[Hr,"null",Vt,"null",om,"null",Cv,"null",Em,"null",xo,"null",$v,"null",gv,"null",zp,"null",Rv,"null",$u,"null",Lw,"null",kB,"null",Ip,"null",tu,"null",Xm,"null",Yp,"null",ur,"null",My,"null",Fx,"null",cw,"null",zu,"null",Fv,"null",Ds,"null"],null),null),c);return yc(e)?new W(null,2,5,Y,[ze.j("clojure.core",Ig(c)),d],null):b},a))}(Oj([My,Xm,Qp,Rv,SA,dt,rB,Hu,gz,Ju,ox,Vn,Xz,Ds,Uq,On,xv,Zs,jy,Lw,lo,Wx,
Jv,sw,Oz,ap,ou,PA,xy,au],[KF,function(a){var b=mf(a),c=H(Fe(Fe(a)));if(Hf(b)){a=SF;SF=D.j(1,K(b))?uf([H(b),"%"]):ai.j(V,Lh.C(function(d,e){return new W(null,2,5,Y,[d,["%",t.B(e)].join("")],null)},b,Gk.j(1,K(b)+1)));try{return function(){var d=rF("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new De(m,0,null)}return f.call(this,k)}function f(h){h=UD(h);return WD(d,h)}e.$=
0;e.ca=function(h){h=E(h);return f(h)};e.F=f;return e}()}()(c)}finally{SF=a}}else return OF(a)},QF,RF,function(a){if(3<K(a)){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",")");RD(Pt,1);gh(function(){var k=rF("~w ~@_~w ~@_~w ~_");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=UD(r);return WD(k,r)}m.$=0;m.ca=function(r){r=E(r);return n(r)};
m.F=n;return m}()}(),a);for(var d=0,e=E(Nh(3,a));;){if(yc(mc)||d<mc){if(e){if(q(PD()))Jd(ic,"#");else{a=GD;var f=HD;GD+=1;HD=0;try{xD(null,null),JD(H(e)),J(e)&&(Jd(ic," "),QD(mz),JD(mf(e))),yD()}finally{HD=f,GD=a}}if(J(Fe(e))){Jd(ic," ");QD(Zu);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}yD()}finally{HD=c,GD=b}}return null}return OF(a)},KF,NF,NF,QF,KF,QF,RF,RF,KF,RF,QF,QF,KF,QF,function(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new W(null,
2,5,Y,[H(c),J(c)],null):new W(null,2,5,Y,[null,c],null);c=P(d,0,null);d=P(d,1,null);d=Ff(H(d))?new W(null,2,5,Y,[H(d),J(d)],null):new W(null,2,5,Y,[null,d],null);var e=P(d,0,null),f=P(d,1,null);if(q(PD()))Jd(ic,"#");else{d=GD;var h=HD;GD+=1;HD=0;try{xD("(",")");(function(){var m=rF("~w ~1I~@_~w");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=UD(u);
return WD(m,u)}n.$=0;n.ca=function(u){u=E(u);return r(u)};n.F=r;return n}()})()(a,b);q(q(c)?c:q(e)?e:E(f))&&function(){var m=rF("~@:_");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=UD(u);return WD(m,u)}n.$=0;n.ca=function(u){u=E(u);return r(u)};n.F=r;return n}()}()();q(c)&&SD(!0,'"~a"~:[~;~:@_~]',M([c,q(e)?e:E(f)]));q(e)&&function(){var m=rF("~w~:[~;~:@_~]");
return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=UD(u);return WD(m,u)}n.$=0;n.ca=function(u){u=E(u);return r(u)};n.F=r;return n}()}()(e,E(f));for(a=f;;){JF(H(a));var k=J(a);if(k)b=k,QD(Zu),a=b;else break}yD()}finally{HD=h,GD=d}}return null}return JD(a)},QF,function(a){if(q(PD()))Jd(ic,"#");else{var b=GD,c=HD;GD+=1;HD=0;try{xD("(",")");RD(Pt,1);JD(H(a));
if(J(a)){Jd(ic," ");QD(Zu);for(var d=0,e=J(a);;){if(yc(mc)||d<mc){if(e){if(q(PD()))Jd(ic,"#");else{a=GD;var f=HD;GD+=1;HD=0;try{xD(null,null),JD(H(e)),J(e)&&(Jd(ic," "),QD(mz),JD(mf(e))),yD()}finally{HD=f,GD=a}}if(J(Fe(e))){Jd(ic," ");QD(Zu);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}}yD()}finally{HD=c,GD=b}}return null},QF,NF,NF,KF,KF,QF,QF,KF]))),UF,VF=Ch(V),WF=Ch(V),XF=Ch(V),YF=Ch(V),ZF=B.C(V,gw,Kl.N?Kl.N():Kl.call(null));UF=new Wl(ze.j(ba,"code-dispatch"),BF,ZF,VF,WF,XF,YF);
Ul(UF,kA,function(a){if(yc(tF(a))){var b=TF.call(null,H(a));return q(b)?b.B?b.B(a):b.call(null,a):OF(a)}return null});Ul(UF,Bw,function(a){var b=a.B?a.B(SF):a.call(null,SF);return q(b)?MC.F(M([b])):q(DD)?MC.F(M([Ig(a)])):NC.call(null,a)});Ul(UF,Uw,uF);Ul(UF,Yx,vF);Ul(UF,ip,xF);Ul(UF,dz,AF);
Ul(UF,VA,function(a){var b=["#\x3c",t.B(zF(Bc(a).name)),"@",t.B(ya(a)),": "].join("");if(q(PD()))Jd(ic,"#");else{var c=GD,d=HD;GD+=1;HD=0;try{xD(b,"\x3e"),RD(Pt,-(b.length-2)),QD(Zu),JD((null!=a?a.T&1||l===a.Ei||(a.T?0:Ac(Nd,a)):Ac(Nd,a))&&!Od(a)?Un:y(a)),yD()}finally{HD=d,GD=c}}return null});Ul(UF,null,NC);Ul(UF,Xl,wF);AD=CF;var $F=/[\s]/;function aG(a){return null==a?null:","===a?!0:$F.test(a)}function bG(a){return null==a?null:!/[^0-9]/.test(a)}
function cG(a,b){return function e(d){return new Jg(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=Ng(k);return function(){for(var r=0;;)if(r<k){var u=x(h,r),w=m;if(u instanceof z||u instanceof C){var A=Lk(Fg,Ig)(u),G=P(A,0,null);A=P(A,1,null);var I=u instanceof z?ze:Hg;u=null==G?I.j?I.j(a,A):I.call(null,a,A):D.j("_",G)?I.B?I.B(A):I.call(null,A):u}w.add(u);r+=1}else return!0}()?Qg(Sg(m),e(be(f))):Qg(Sg(m),null)}var n=H(f);return hf(n instanceof z||n instanceof C?function(){var r=
Lk(Fg,Ig)(n),u=P(r,0,null);r=P(r,1,null);var w=n instanceof z?ze:Hg;return null==u?w.j?w.j(a,r):w.call(null,a,r):D.j("_",u)?w.B?w.B(r):w.call(null,r):n}():n,e(Fe(f)))}return null}},null,null)}(b)}function dG(a,b){a=parseInt(a,b);return q(isNaN(a))?-1:a};function eG(a){if(null!=a&&null!=a.Fd)a=a.Fd(a);else{var b=eG[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=eG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Reader.read-char",a);}return a}function fG(a){if(null!=a&&null!=a.se)a=a.se(a);else{var b=fG[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=fG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Reader.peek-char",a);}return a}
function gG(a,b){if(null!=a&&null!=a.rg)a.rg(a,b);else{var c=gG[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=gG._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPushbackReader.unread",a);}}function hG(a){if(null!=a&&null!=a.rh)a=a.rh(a);else{var b=hG[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=hG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IndexingReader.get-line-number",a);}return a}
function iG(a){if(null!=a&&null!=a.ph)a=a.ph(a);else{var b=iG[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=iG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IndexingReader.get-column-number",a);}return a}function jG(a){if(null!=a&&null!=a.qh)a=a.qh(a);else{var b=jG[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IndexingReader.get-file-name",a);}return a}
function kG(a,b){this.s=a;this.Pg=b;this.Xd=0}kG.prototype.Fd=function(){if(this.Pg>this.Xd){var a=this.s.charAt(this.Xd);this.Xd+=1;return a}return null};kG.prototype.se=function(){return this.Pg>this.Xd?this.s.charAt(this.Xd):null};function lG(a,b){this.Lg=a;this.Da=b;this.Hc=this.nf=1}lG.prototype.Fd=function(){var a=this.Hc<this.nf?this.Da[this.Hc]:this.Lg.Fd(null);this.Hc<this.nf&&(this.Hc+=1);return null==a?null:rg(a)};
lG.prototype.se=function(){var a=this.Hc<this.nf?this.Da[this.Hc]:this.Lg.se(null);return null==a?null:rg(a)};lG.prototype.rg=function(a,b){if(q(b)){if(0===this.Hc)throw Error("Pushback buffer is full");--this.Hc;return this.Da[this.Hc]=b}return null};function mG(a){return null!=a?l===a.Ji?!0:!1:!1};function nG(a,b,c,d){var e=K(b);a=q(a)?0:10<e?10:e;b=Lh.j(xh(oG,!0),Mh.j(a,b));b=gh(t,Nh(1,Vh.j(Rh(" "),b)));e=a<e?"...":null;return[t.B(c),t.B(b),e,t.B(d)].join("")}var oG,pG=Ch(V),qG=Ch(V),rG=Ch(V),sG=Ch(V),tG=B.C(V,gw,Kl.N?Kl.N():Kl.call(null));
oG=new Wl(ze.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?js:"string"===typeof b?Pm:b instanceof C?ww:"number"===typeof b?ww:b instanceof z?ww:Hf(b)?Uw:zg(b)?kA:Ff(b)?Yx:Df(b)?ip:D.j(b,!0)?ww:D.j(b,!1)?ww:Bc(b)},tG,pG,qG,rG,sG);oG.ib(null,Pm,function(a,b){a=q(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.B(b.substring(0,a<d?a:d)),c].join("")});oG.ib(null,ww,function(a,b){return t.B(b)});oG.ib(null,De,function(){return"\x3cindexed seq\x3e"});
oG.ib(null,aj,function(){return"\x3cmap seq\x3e"});oG.ib(null,Hj,function(){return"\x3cmap seq\x3e"});oG.ib(null,Dg,function(){return"\x3ccons\x3e"});oG.ib(null,Jg,function(){return"\x3clazy seq\x3e"});oG.ib(null,js,function(){return"nil"});oG.ib(null,kA,function(a,b){return nG(a,b,"(",")")});oG.ib(null,Yx,function(a,b){var c=K(b),d=q(a)?0:c;b=gh(T,Mh.j(d,b));return nG(a,b,"{",c>d?"...}":"}")});oG.ib(null,ip,function(a,b){return nG(a,b,"#{","}")});oG.ib(null,Uw,function(a,b){return nG(a,b,"[","]")});
oG.ib(null,Xl,function(a,b){return fl.F(M([Bc(b)]))});function uG(a,b,c){b=new p(null,2,[aq,ss,Ir,b],null);a=mG(a)?Q.F(b,tt,jG(a),M([zm,hG(a),kr,iG(a)])):b;var d=tt.B(a);b=zm.B(a);var e=kr.B(a);d=q(d)?[t.B(d)," "].join(""):null;b=q(b)?["[line ",t.B(b),", col ",t.B(e),"]"].join(""):null;c=jh(t,d,b,q(q(d)?d:b)?" ":null,c);throw dm(c,a);}function vG(a,b){return uG(a,hq,M([gh(t,b)]))}function wG(a,b){return uG(a,Io,M([gh(t,b)]))}function xG(a,b){return uG(a,jx,M([gh(t,b)]))}
function yG(a,b,c,d){vG(a,M(["The map literal starting with ",oG.j(!1,H(d)),q(b)?[" on line ",t.B(b)," column ",t.B(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function zG(a,b,c){return vG(a,M(["Invalid ",Ig(b),": ",c,"."]))}function AG(a,b,c){return vG(a,M(["Invalid character: ",c," found while reading ",Ig(b),"."]))}
function BG(a,b){a:{var c=Pm instanceof C?Pm.ma:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.B(c)].join(""));}}return xG(a,M(["Unexpected EOF reading ",Ig(Pm)," starting ",hh(t,c,b),"."]))}function CG(a,b){return wG(a,M(["Invalid digit ",b," in unicode character."]))}function DG(a){return vG(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function EG(a,b){b=function(c){return function f(e){return new Jg(null,function(){for(var h=e;;)if(h=E(h)){if(If(h)){var k=ae(h),m=K(k),n=Ng(m);a:for(var r=0;;)if(r<m){var u=x(k,r),w=P(u,0,null);1<P(u,1,null)&&n.add(w);r+=1}else{k=!0;break a}return k?Qg(Sg(n),f(be(h))):Qg(Sg(n),null)}n=H(h);k=P(n,0,null);if(1<P(n,1,null))return hf(k,f(Fe(h)));h=Fe(h)}else return null},null,null)}(Kk(c))}(b);return jh(t,a,1<K(b)?"s":null,": ",Nh(1,Vh.j(Rh(", "),b)))}
function FG(a,b,c){vG(a,M([EG([Nb(Ig(b))," literal contains duplicate key"].join(""),c)]))};function GG(a){for(var b=a.Fd(null);;)if(aG.B?aG.B(b):aG.call(null,b))b=a.Fd(null);else return b}var HG=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,IG=/([-+]?[0-9]+)\/([0-9]+)/,JG=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function KG(a,b){a=Ok(a,b);return P(a,0,null)===b}
function LG(a){if(KG(HG,a)){var b=Yf(Ok(HG,a));if(null!=(b.B?b.B(2):b.call(null,2)))a=0;else{a="-"===(b.B?b.B(1):b.call(null,1));b=null!=(b.B?b.B(3):b.call(null,3))?new W(null,2,5,Y,[b.B?b.B(3):b.call(null,3),10],null):null!=(b.B?b.B(4):b.call(null,4))?new W(null,2,5,Y,[b.B?b.B(4):b.call(null,4),16],null):null!=(b.B?b.B(5):b.call(null,5))?new W(null,2,5,Y,[b.B?b.B(5):b.call(null,5),8],null):null!=(b.B?b.B(7):b.call(null,7))?new W(null,2,5,Y,[b.B?b.B(7):b.call(null,7),parseInt(b.B?b.B(6):b.call(null,
6))],null):new W(null,2,5,Y,[null,null],null);var c=b.B?b.B(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.B?b.B(1):b.call(null,1)),a=a?-1*b:b,a=q(isNaN(a))?null:a)}}else KG(JG,a)?(b=Yf(Ok(JG,a)),a=null!=(b.B?b.B(4):b.call(null,4))?parseFloat(b.B?b.B(1):b.call(null,1)):parseFloat(a)):KG(IG,a)?(b=Yf(Ok(IG,a)),a=b.B?b.B(1):b.call(null,1),b=b.B?b.B(2):b.call(null,2),a=q(Ok(/^\+/,a))?yg.j(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function MG(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?yg.C(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=yg.j(a,b);return bG(bf(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new W(null,2,5,Y,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new W(null,2,5,Y,[null,a],null):null}
var SG=function SG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return SG.F(arguments[0],c)};SG.F=function(a){for(;;){var b=a.Fd(null);if("\n"===b||"\n"===b||null==b)break}return a};SG.$=1;SG.ca=function(a){var b=H(a);a=J(a);return this.F(b,a)};
function TG(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new De(f,0,null)}return b.call(this,c,e)}function b(c){return vG(c,M(["Unreadable form"]))}a.$=1;a.ca=function(c){var d=H(c);c=Fe(c);return b(d,c)};a.F=b;return a}()};new dc;function UG(a){return"#"!==a?"'"!==a?":"!==a?VG.B?VG.B(a):VG.call(null,a):!1:!1:!1}function WG(a){return"@"===a||"`"===a||"~"===a}function XG(a,b,c,d){if(yc(c))return xG(a,M(["Unexpected EOF while reading start of ",Ig(b),"."]));if(q(q(d)?WG(c):d))return AG(a,b,c);d=new dc;for(gG(a,c);;){if(aG(c)||UG(c)||null==c)return t.B(d);if(WG(c))return AG(a,b,c);d.append(eG(a));c=fG(a)}}
function YG(a,b,c){b=eG(a);if(q(b)){var d=ZG.B?ZG.B(b):ZG.call(null,b);if(q(d))return d.C?d.C(a,b,c):d.call(null,a,b,c);gG(a,b);return $G.C?$G.C(a,b,c):$G.call(null,a,b,c)}return xG(a,M(["Unexpected EOF while reading dispatch character."]))}function aH(a,b){return vG(a,M(["Unmatched delimiter ",b,"."]))}
function bH(a,b,c){b=1+b;if(K(a)!==b)throw wG(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=dG(bf(a,d),c);if(-1===f)return c=bf(a,d),wG(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function cH(a,b,c,d,e){for(var f=1,h=dG(b,c);;){if(-1===h)return CG(a,b);if(f!==d){var k=fG(a);var m=aG(k);m||(m=VG.B?VG.B(k):VG.call(null,k),m=q(m)?m:null==k);if(q(m))return q(e)?wG(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=dG(k,c);eG(a);if(-1===m)return CG(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function dH(a){var b=eG(a);if(null!=b){b=UG(b)||WG(b)||aG(b)?t.B(b):XG(a,Vv,b,!1);var c=b.length;if(1===c)return bf(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(q(0==b.lastIndexOf("u",0)))return b=bH(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=vG(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(q(0==b.lastIndexOf("o",0))){--c;if(3<c)return vG(a,M(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=bH(b,c,8);return 255<(b|0)?DG(a):b}return vG(a,M(["Unsupported character: ",b,"."]))}return xG(a,M(["Unexpected EOF while reading character."]))}function eH(a){return mG(a)?new W(null,2,5,Y,[hG(a),(iG(a)|0)-1|0],null):null}
function fH(a,b,c,d){var e=eH(c),f=P(e,0,null);e=P(e,1,null);b=null==b?null:rg(b);for(var h=Td(qf);;){var k=GG(c);if(!q(k)){var m=a,n=f,r=e,u=K(h);xG(c,M(["Unexpected EOF while reading ",q(u)?["item ",t.B(u)," of "].join(""):null,Ig(m),q(n)?[", starting at line ",t.B(n)," and column ",t.B(r)].join(""):null,"."]))}if(D.j(b,null==k?null:rg(k)))return Vd(h);m=VG.B?VG.B(k):VG.call(null,k);q(m)?(k=m.C?m.C(c,k,d):m.call(null,c,k,d),h=k!==c?Zg.j(h,k):h):(gG(c,k),k=gH?gH(c,!0,null,d):hH.call(null,c,!0,null,
d),h=k!==c?Zg.j(h,k):h)}}function iH(a,b,c){a=fH(kA,")",a,c);return Bf(a)?Ge:gh(Cg,a)}function jH(a,b,c){return fH(Uw,"]",a,c)}function kH(a,b,c){var d=eH(a);b=P(d,0,null);d=P(d,1,null);c=fH(Yx,"}",a,c);var e=K(c),f=Hk(2,c),h=tk(f);!th(e)&&yG(a,b,d,c);D.j(K(h),K(f))||FG(a,Yx,f);if(e<=2*fj)a=Wf(c),a=new p(null,a.length/2,a,null);else a:for(a=Wf(c),b=a.length,d=0,e=Td(gj);;)if(d<b)c=d+2,e=Wd(e,a[d],a[d+1]),d=c;else{a=Vd(e);break a}return a}
function lH(a,b){for(var c=function(){var h=new dc;h.append(b);return h}(),d=eG(a);;){if(q(function(){var h=aG(d);if(h)return h;h=VG.B?VG.B(d):VG.call(null,d);return q(h)?h:null==d}())){var e=t.B(c);gG(a,d);var f=LG(e);return q(f)?f:vG(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=eG(a);c=e;d=f}}
function mH(a){var b=eG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=eG(a),-1===parseInt(b|0,16)?vG(a,M(["Invalid unicode escape: \\u",b,"."])):cH(a,b,16,4,!0);default:return bG(b)?(b=cH(a,b,8,3,!1),255<(b|0)?DG(a):b):vG(a,M(["Unsupported escape character: \\",b,"."]))}}
function nH(a){for(var b=new dc,c=eG(a);;){var d=c;if(D.j(null,d))return BG(a,M(['"',b]));if(D.j("\\",d)){d=function(){var f=b;f.append(mH(a));return f}();var e=eG(a);b=d;c=e}else{if(D.j('"',d))return t.B(b);d=function(){var f=b;f.append(c);return f}();e=eG(a);b=d;c=e}}}
function oH(a,b){b=XG(a,Bw,b,!0);if(q(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return zo;default:var c=MG(b);c=q(c)?ze.j(c.B?c.B(0):c.call(null,0),c.B?c.B(1):c.call(null,1)):null;return q(c)?c:zG(a,Bw,b)}else return null}
function pH(a){var b=eG(a);if(aG(b))return vG(a,M(["A single colon is not a valid keyword."]));b=XG(a,yB,b,!0);var c=MG(b);if(q(q(c)?-1===b.indexOf("::"):c)){var d=c.B?c.B(0):c.call(null,0);c=c.B?c.B(1):c.call(null,1);return":"===bf(b,0)?zG(a,yB,b):Hg.j(d,c)}return zG(a,yB,b)}
function qH(a,b,c){b=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);b=b instanceof C?uf([b,!0]):b instanceof z?new p(null,1,[Xu,b],null):"string"===typeof b?new p(null,1,[Xu,b],null):b;Ff(b)||vG(a,M(["Metadata cannot be ",oG.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);return null!=c&&(c.J&131072||l===c.je)?xf(c,lk.F(M([yf(c),b]))):vG(a,M(["Metadata can not be applied to ",oG.j(!1,c),". ","Metadata can only be applied to IMetas."]))}
function rH(a,b,c){b=fH(ip,"}",a,c);c=tk(b);D.j(K(b),K(c))||FG(a,ip,b);return c}function sH(a){gH?gH(a,!0,null,!0):hH.call(null,a,!0,null,!0);return a}
function tH(a,b,c){b=eG(a);b=XG(a,Ou,b,!0);var d=null==b?null:MG(b);if(null==d)var e=null;else e=P(d,0,null),d=P(d,1,null),e=q(e)?null:d;return q(e)?"{"===GG(a)?(c=fH(Ou,"}",a,c),!th(K(c))&&yG(a,null,null,c),b=cG(t.B(e),Hk(2,c)),c=Hk(2,Fe(c)),D.j(K(tk(b)),K(b))||FG(a,Ou,b),wk(b,c)):vG(a,M(["Namespaced map with namespace ",b," does not specify a map."])):vG(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function uH(a,b,c){b=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);return D.j(nB,b)?Number.NaN:D.j(Vr,b)?Number.NEGATIVE_INFINITY:D.j(zz,b)?Number.POSITIVE_INFINITY:vG(a,M([["Invalid token: ##",t.B(b)].join("")]))}function VG(a){switch(a){case '"':return nH;case ":":return pH;case ";":return SG;case "^":return qH;case "(":return iH;case ")":return aH;case "[":return jH;case "]":return aH;case "{":return kH;case "}":return aH;case "\\":return dH;case "#":return YG;default:return null}}
function ZG(a){switch(a){case "^":return qH;case "{":return rH;case "\x3c":return TG();case "!":return SG;case "_":return sH;case ":":return tH;case "#":return uH;default:return null}}
function $G(a,b,c){b=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);var d=gH?gH(a,!0,null,c):hH.call(null,a,!0,null,c);b instanceof z||vG(a,M(["Invalid reader tag: ",oG.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.j(ym.B(c),b);e=q(e)?e:V.B?V.B(b):V.call(null,b);if(q(e))return e.B?e.B(d):e.call(null,d);c=Xl.B(c);return q(c)?c.j?c.j(b,d):c.call(null,b,d):vG(a,M(["No reader function for tag ",oG.j(!1,b),"."]))}
function hH(a){switch(arguments.length){case 1:return vH(V,arguments[0]);case 2:return vH(arguments[0],arguments[1]);case 4:return gH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function vH(a,b){a=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;var c=B.j(a,jx),d=!Pf(a,jx);return gH(b,d,c,a)}
function gH(a,b,c,d){try{for(;;){var e=eG(a);if(!aG(e)){if(null==e){if(q(b)){b=a;var f=q(null)?xG(b,M(["EOF while reading, starting at line ",null,"."])):xG(b,M(["EOF while reading."]))}else f=c;return f}if(bG(e)||("+"===e||"-"===e)&&bG(a.se(null)))return lH(a,e);var h=VG(e);if(q(h)){var k=h.C?h.C(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return oH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof cm){b=f instanceof cm?f.data:null;if(D.j(ss,aq.B(b)))throw f;a=lk.F(M([new p(null,1,
[aq,ss],null),b,mG(a)?new p(null,3,[zm,hG(a),qA,iG(a),tt,jG(a)],null):null]));throw new cm(f.message,a,f);}a=lk.F(M([new p(null,1,[aq,ss],null),mG(a)?new p(null,3,[zm,hG(a),qA,iG(a),tt,jG(a)],null):null]));throw new cm(f.message,a,f);}throw m;}}function wH(a,b){if(q(q(b)?lh.j(b,""):b)){b=new kG(b,K(b));a:{var c=Array(1);if(Lf(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=vH(a,new lG(b,c))}else a=null;return a};var xH=function(){var a=new W(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new W(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.j(q(d)?b:a,c)}}(),yH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function zH(a){a=parseInt(a,10);return yc(isNaN(a))?a:null}
function AH(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.B(d)," Failed:  ",t.B(a),"\x3c\x3d",t.B(b),"\x3c\x3d",t.B(c)].join(""));return b}
function BH(a){var b=Nk(yH,a);P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null),m=P(b,7,null),n=P(b,8,null),r=P(b,9,null),u=P(b,10,null);if(yc(b))throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));a=zH(c);b=function(){var F=zH(d);return q(F)?F:1}();c=function(){var F=zH(e);return q(F)?F:1}();var w=function(){var F=zH(f);return q(F)?F:0}(),A=function(){var F=zH(h);return q(F)?F:0}(),G=function(){var F=zH(k);return q(F)?F:0}(),I=function(){a:if(D.j(3,
K(m)))var F=m;else if(3<K(m))F=yg.C(m,0,3);else for(F=new dc(m);;)if(3>F.getLength())F=F.append("0");else{F=F.toString();break a}F=zH(F);return q(F)?F:0}();n=(D.j(n,"-")?-1:1)*(60*function(){var F=zH(r);return q(F)?F:0}()+function(){var F=zH(u);return q(F)?F:0}());return new W(null,8,5,Y,[a,AH(1,b,12,"timestamp month field must be in range 1..12"),AH(1,c,xH(b,0===tg(a,4)&&(0!==tg(a,100)||0===tg(a,400))),"timestamp day field must be in range 1..last day in month"),AH(0,w,23,"timestamp hour field must be in range 0..23"),
AH(0,A,59,"timestamp minute field must be in range 0..59"),AH(0,G,D.j(A,59)?60:59,"timestamp second field must be in range 0..60"),AH(0,I,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var CH=Ch(null),DH=Ch(lk.F(M([new p(null,4,[Ry,function(a){if("string"===typeof a){var b=BH(a);if(q(b)){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null);b=P(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Kt,function(a){if("string"===typeof a)return new am(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},Ot,function(a){if(Hf(a))return ai.j(Ti,a);throw Error("Queue literal expects a vector for its elements.");},mx,function(a){if(Hf(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);b.push(f);e+=1}else if(a=E(a))c=a,If(c)?(a=ae(c),e=be(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(Ff(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.xa(null,e);f=P(h,0,null);h=P(h,1,null);f=Ig(f);b[f]=h;e+=1}else if(a=E(a))If(a)?(d=ae(a),a=be(a),c=d,d=K(d)):
(d=H(a),c=P(d,0,null),d=P(d,1,null),c=Ig(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),V])));function EH(a,b){var c=hh(xk,a,b);return hf(c,$h(function(d){return c===d},b))}function FH(a,b){return K(a)<K(b)?v.C(pf,b,a):v.C(pf,a,b)}var GH=function GH(a){switch(arguments.length){case 1:return GH.B(arguments[0]);case 2:return GH.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return GH.F(arguments[0],arguments[1],c)}};GH.B=function(a){return a};
GH.j=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return v.C(function(d,e){return function(f,h){return Pf(e,h)?f:Af.j(f,h)}}(a,b),a,a)};GH.F=function(a,b,c){a=EH(function(d){return-K(d)},pf.F(c,b,M([a])));return v.C(GH,H(a),Fe(a))};GH.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};GH.$=2;
var HH=function HH(a){switch(arguments.length){case 1:return HH.B(arguments[0]);case 2:return HH.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return HH.F(arguments[0],arguments[1],c)}};HH.B=function(a){return a};HH.j=function(a,b){return K(a)<K(b)?v.C(function(c,d){return Pf(b,d)?Af.j(c,d):c},a,a):v.C(Af,a,b)};HH.F=function(a,b,c){return v.C(HH,a,pf.j(c,b))};
HH.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};HH.$=2;function IH(a){var b=new p(null,2,[Cy,ax,Kp,nn],null);return v.C(function(c,d){var e=P(d,0,null);d=P(d,1,null);return Pf(a,e)?Q.C(c,d,B.j(a,e)):c},hh(R,a,cj(b)),b)}function JH(a,b){return K(a)<=K(b)&&rh(function(c){return Pf(b,c)},a)}function KH(a,b){return K(a)>=K(b)&&rh(function(c){return Pf(a,c)},b)};function LH(a){return v.C(function(b,c){b.push(c);return b},[],a)}function MH(a){return a instanceof Array};var NH=H(Zh(function(a){return 0!=(32&1<<a)},Gk.C(31,-1,-1)))+1,OH=(1<<NH)-1;function PH(a,b,c,d){for(var e=0,f=sg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.j?a.j(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function QH(a,b,c,d){for(var e=0,f=sg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.j?a.j(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function RH(a,b,c){var d=b.length,e=PH(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.j?a.j(b,c):a.call(null,b,c));return d?e:-1}
function SH(a,b,c){var d=b.length;a=PH(a,b,d-1,c);return a===d?-1:a}function TH(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var r=0;;)if(r<d)n[r+0]=a[r+b],r+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function UH(a,b,c,d){return TH(a,0,a.length,b,c,d)}
function VH(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function WH(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.j?a.j(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function XH(a,b){return q(a)?q(b)?[a,b]:[a]:[b]}function YH(a,b,c){return q(a)?q(b)?q(c)?[a,b,c]:[a,b]:q(c)?[a,c]:[a]:q(b)?q(c)?[b,c]:[b]:[c]}
function ZH(a){if(null!=a&&null!=a.Kf)a=a.Kf(a);else{var b=ZH[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ZH._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INode.node-lim-key",a);}return a}function $H(a){if(null!=a&&null!=a.Fg)a=a.keys.length;else{var b=$H[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=$H._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INode.node-len",a);}return a}
function aI(a,b){if(null!=a&&null!=a.Mf)a=a.Mf(a,b);else{var c=aI[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=aI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge",a);}return a}function bI(a,b){if(null!=a&&null!=a.Nf)a=a.Nf(a,b);else{var c=bI[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=bI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge-n-split",a);}return a}
function cI(a,b,c){if(null!=a&&null!=a.Lf)a=a.Lf(a,b,c);else{var d=cI[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=cI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-lookup",a);}return a}function dI(a,b,c){if(null!=a&&null!=a.If)a=a.If(a,b,c);else{var d=dI[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=dI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-conj",a);}return a}
function eI(a,b,c,d,e,f){if(null!=a&&null!=a.Jf)a=a.Jf(a,b,c,d,e,f);else{var h=eI[pa(null==a?null:a)];if(null!=h)a=h.Za?h.Za(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=eI._,null!=h)a=h.Za?h.Za(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Cc("INode.node-disj",a);}return a}
function fI(a,b,c,d){if(q(b))return[a];if(16<$H(a))return YH(c,a,d);if(q(q(c)?16>=$H(c):c))return XH(aI(c,a),d);if(q(q(d)?16>=$H(d):d))return XH(c,aI(a,d));if(q(q(c)?null==d||$H(c)<$H(d):c))return a=bI(c,a),YH(a[0],a[1],d);a=bI(a,d);return YH(c,a[0],a[1])}function gI(a,b){this.keys=a;this.kb=b}g=gI.prototype;g.Kf=function(){var a=this.keys;return a[a.length-1]};g.Fg=function(){return this.keys.length};g.Mf=function(a,b){return new gI(this.keys.concat(b.keys),this.kb.concat(b.kb))};
g.Nf=function(a,b){a=VH(this.keys,b.keys);b=VH(this.kb,b.kb);return XH(new gI(a[0],b[0]),new gI(a[1],b[1]))};g.Lf=function(a,b,c){a=SH(b,this.keys,c);return-1===a?null:cI(this.kb[a],b,c)};g.If=function(a,b,c){a=PH(b,this.keys,this.keys.length-2,c);c=dI(this.kb[a],b,c);if(q(c)){var d=this.keys,e=a+1,f=c.map(ZH);b=WH(b,d,a,e,f,f.length)?d:UH(d,a,e,f);a=UH(this.kb,a,a+1,c);if(32>=a.length)return[new gI(b,a)];c=a.length>>>1;return[new gI(b.slice(0,c),a.slice(0,c)),new gI(b.slice(c),a.slice(c))]}return null};
g.Jf=function(a,b,c,d,e,f){var h=SH(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.kb[h-1]:null;var k=h+1<this.kb.length?this.kb[h+1]:null;c=eI(this.kb[h],b,c,!1,a,k);if(q(c)){a=q(a)?h-1:h;h=q(k)?2+h:1+h;k=this.keys;var m=c.map(ZH);b=WH(b,k,a,h,m,m.length)?k:UH(k,a,h,m);c=UH(this.kb,a,h,c);return fI(new gI(b,c),d,e,f)}return null};function hI(a){this.keys=a}g=hI.prototype;g.Kf=function(){var a=this.keys;return a[a.length-1]};g.Fg=function(){return this.keys.length};g.Mf=function(a,b){return new hI(this.keys.concat(b.keys))};
g.Nf=function(a,b){a=VH(this.keys,b.keys);return XH(new hI(a[0]),new hI(a[1]))};g.Lf=function(a,b,c){a=RH(b,this.keys,c);return-1===a?null:this.keys[a]};g.If=function(a,b,c){a=PH(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.j?b.j(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new hI(this.keys.slice(0,b)),new hI(TH(this.keys,b,d,a,a,[c]))]:[new hI(TH(this.keys,0,b,a,a,[c])),new hI(this.keys.slice(b,d))]):[new hI(UH(this.keys,a,a,[c]))]};
g.Jf=function(a,b,c,d,e,f){a=RH(b,this.keys,c);if(-1===a)return null;a=UH(this.keys,a,a+1,[]);return fI(new hI(a),d,e,f)};function iI(a,b,c,d,e,f){this.root=a;this.shift=b;this.Y=c;this.nc=d;this.meta=e;this._hash=f;this.J=2297303311;this.T=8332}g=iI.prototype;g.toString=function(){return le(this)};g.ka=function(a,b){return cI(this.root,this.nc,b)};g.P=function(a,b,c){a=cI(this.root,this.nc,b);return q(a)?a:c};g.fa=function(a,b,c){return Z(b,Zk,"#{"," ","}",c,E(this))};g.da=function(){return this.meta};
g.ha=function(){return this.Y};g.vc=function(){return Id(jI.B?jI.B(this):jI.call(null,this))};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Me(this)};g.aa=function(a,b){var c=this;return Df(b)&&this.Y===K(b)&&rh(function(d){return Pf(c,d)},b)};g.vd=function(){return this};g.Ka=function(){return new iI(new hI([]),0,0,this.nc,this.meta,null)};g.uf=function(a,b){return kI.C?kI.C(this,b,this.nc):kI.call(null,this,b,this.nc)};
g.Ta=function(a,b){a=jI.B?jI.B(this):jI.call(null,this);return q(a)?td(a,b):b.N?b.N():b.call(null)};g.Ua=function(a,b,c){a=jI.B?jI.B(this):jI.call(null,this);return q(a)?td(a,b,c):c};g.wd=function(a,b){return lI.C?lI.C(this,b,this.nc):lI.call(null,this,b,this.nc)};g.Ed=function(){return this};g.ga=function(){return jI.B?jI.B(this):jI.call(null,this)};g.ea=function(a,b){return new iI(this.root,this.shift,this.Y,this.nc,b,this._hash)};
g.ja=function(a,b){return lI.C?lI.C(this,b,this.nc):lI.call(null,this,b,this.nc)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ka(null,a)};g.j=function(a,b){return this.P(null,a,b)};
function mI(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.kb[OH&b>>>c],c-=NH;else return a.keys}function nI(a,b,c,d){return new iI(b,c,d,a.nc,a.meta,null)}var oI=function oI(a,b,c){var e=OH&b>>>c;if(0<c){var f=a.kb[e],h=c-NH;b=oI.C?oI.C(f,b,h):oI.call(null,f,b,h);return-1===b?e+1<a.kb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function pI(a,b){return oI(a.root,b,a.shift)}
function qI(a,b){for(var c=0;;)if(0<b)c|=a.kb.length-1<<b,b-=NH,a=a.kb,a=a[a.length-1];else return c|a.keys.length-1<<0}var rI=function rI(a,b,c){var e=OH&b>>>c;if(0<c){var f=c-NH,h=a.kb[e];b=rI.C?rI.C(h,b,f):rI.call(null,h,b,f);return-1===b?0<=e-1?(--e,qI(a.kb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function sI(a,b){return rI(a.root,b,a.shift)}function jI(a){if(0<$H(a.root)){var b=qI(a.root,a.shift)+1;return tI.C?tI.C(a,0,b):tI.call(null,a,0,b)}return null}
function uI(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=uI.prototype;g.ha=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Sa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.ee=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Mg(this.K,this.off+1,this.end)};g.Ta=function(a,b){return this.off===this.end?b.N?b.N():b.call(null):td(this.ee(null),b,this.K[this.off])};
g.Ua=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c);a+=1}else return c};function vI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.T=1536}g=vI.prototype;g.toString=function(){return le(this)};g.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,E(this))};
g.Oa=function(){if(q(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new vI(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=pI(this.set,this.left);return lh.j(-1,a)&&a<this.right?this.bf(a,this.right):null}return null};g.vc=function(){if(q(this.keys)){var a=this.set,b=sI(this.set,this.left),c=sI(this.set,this.right);return wI.C?wI.C(a,b,c):wI.call(null,a,b,c)}return null};g.aa=function(a,b){return gf(this,b)};
g.Ta=function(a,b){if(null==this.keys)return b.N?b.N():b.call(null);a=this.Va(null);var c=this.Oa(null);return null==c?a:td(c,b,a)};g.Ua=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.j?b.j(c,f):b.call(null,c,f);if(Re(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=pI(this.set,a),-1!==a&&a<this.right)d=mI(this.set,a),e=OH&a>>>0;else return c}};g.Va=function(){return q(this.keys)?this.keys[this.idx]:null};
g.eb=function(){var a=this.Oa(null);return q(a)?a:Ge};g.ga=function(){return q(this.keys)?this:null};g.ge=function(){var a=D.j(this.left|OH,this.right|OH)?this.right&OH:this.keys.length;return new uI(this.keys,this.idx,a)};g.Dd=function(){var a=this.fe();return q(a)?a:Ge};g.bf=function(a,b){return new vI(this.set,a,b,mI(this.set,a),OH&a>>>0)};g.fe=function(){var a=pI(this.set,this.left+(this.keys.length-this.idx-1));return lh.j(-1,a)&&a<this.right?this.bf(a,this.right):null};
function tI(a,b,c){return new vI(a,b,c,mI(a,b),OH&b>>>0)}function xI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.T=0}g=xI.prototype;g.toString=function(){return le(this)};g.fa=function(a,b,c){return Z(b,Zk,"("," ",")",c,E(this))};
g.Oa=function(){if(q(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new xI(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=sI(this.set,this.right);return lh.j(-1,a)&&a>this.left?this.bf(this.left,a):null}return null};g.vc=function(){if(q(this.keys)){var a=-1===this.left?0:pI(this.set,this.left),b=pI(this.set,this.right);return tI(this.set,a,-1===b?this.right+1:b)}return null};g.aa=function(a,b){return gf(this,b)};
g.Va=function(){return q(this.keys)?this.keys[this.idx]:null};g.eb=function(){var a=this.Oa(null);return q(a)?a:Ge};g.ga=function(){return q(this.keys)?this:null};g.bf=function(a,b){return new xI(this.set,a,b,mI(this.set,b),OH&b>>>0)};function wI(a,b,c){return new xI(a,b,c,mI(a,c),OH&c>>>0)}
function yI(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=$H(e);if(0===h){var m=e.keys;m=PH(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=PH(d,m,k-2,b);f|=m<<h;h-=NH;e=e.kb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=$H(e);if(0===h){k=e.keys;m=QH(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=QH(d,k,m-2,c);f|=m<<h;h-=NH;e=e.kb[m]}return c>b?new vI(a,b,c,mI(a,b),OH&b>>>0):null}
function zI(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.B?a.B(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function AI(a){var b=a.length,c=Td(qf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Zg.j(c,a.slice(d));break}else 40<=e?(Zg.j(c,a.slice(d,d+24)),d+=24):(e>>>=1,Zg.j(c,a.slice(d,d+e)),d+=e)}return Wf(Vd(c))}function lI(a,b,c){b=dI(a.root,c,b);return null==b?a:1===b.length?nI(a,b[0],a.shift,a.Y+1):nI(a,new gI(b.map(ZH),b),a.shift+NH,a.Y+1)}
function kI(a,b,c){b=eI(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof gI&&1===b.kb.length?nI(a,b.kb[0],a.shift-NH,a.Y-1):nI(a,b,a.shift,a.Y-1)}function BI(a,b,c){return yI(a,b,c,a.nc)}function CI(a){var b=DI.O(536870911,null,null,2147483647),c=DI.O(0,null,null,536870912);a=yI(a,c,b,a.nc);return null==a?null:Id(a)}
function EI(a,b){for(var c=zI(function(h){return new hI(h)},AI(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new iI(new hI([]),0,0,a,null,null);case 1:return new iI(H(d),e,b.length,a,null,null);default:d=zI(function(){return function(h){return new gI(h.map(ZH),h)}}(d,e,f,c),AI(d)),e+=NH}}}function FI(a){return new iI(new hI([]),0,0,a,null,null)};var GI=Error;function HI(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.J&8388608||l===a.tf?!0:a.J?!1:Ac(zd,a):Ac(zd,a))?b:wc(a)||"string"===typeof a),b=b||MH(a);return b}var II=yh(pf,qf),JI=yh(pf,sk);function KI(a,b,c){return H(v.C(function(d,e){var f=P(d,0,null);d=P(d,1,null);e=a.C?a.C(f,e,d):a.call(null,f,e,d);return Re(e)?Qe(new W(null,2,5,Y,[e,d],null)):new W(null,2,5,Y,[e,d+1],null)},new W(null,2,5,Y,[b,0],null),c))}function LI(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function MI(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=MI[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=MI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDatom.datom-tx",a);}return a}function NI(a){if(null!=a&&null!=a.ec)a=a.ec(a);else{var b=NI[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=NI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDatom.datom-added",a);}return a}
function OI(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.hf=d;this._hash=e;this.J=2162164496;this.T=0}g=OI.prototype;g.Ma=function(){return 0<this.hf?this.hf:-this.hf};g.ec=function(){return 0<this.hf};g.ia=function(){return 0===this._hash?this._hash=PI.B?PI.B(this):PI.call(null,this):this._hash};g.aa=function(a,b){return b instanceof OI?QI.j?QI.j(this,b):QI.call(null,this,b):!1};g.ga=function(){return RI.B?RI.B(this):RI.call(null,this)};
g.ka=function(a,b){return SI.C?SI.C(this,b,null):SI.call(null,this,b,null)};g.P=function(a,b,c){return SI.C?SI.C(this,b,c):SI.call(null,this,b,c)};g.xa=function(a,b){return TI?TI(this,b):UI.call(null,this,b)};g.Sa=function(a,b,c){return VI?VI(this,b,c):UI.call(null,this,b,c)};g.ba=function(a,b,c){return WI.C?WI.C(this,b,c):WI.call(null,this,b,c)};g.fa=function(a,b,c){return Z(b,Zk,"#datascript/Datom ["," ","]",c,new W(null,5,5,Y,[this.e,this.a,this.v,this.Ma(null),this.ec(null)],null))};
Ha("datascript.db.Datom",OI);var DI=function DI(a){switch(arguments.length){case 3:return DI.C(arguments[0],arguments[1],arguments[2]);case 4:return DI.O(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return DI.la(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};DI.C=function(a,b,c){return new OI(a,b,c,536870912,0)};DI.O=function(a,b,c,d){return new OI(a,b,c,d,0)};
DI.la=function(a,b,c,d,e){return new OI(a,b,c,q(e)?d:-d,0)};DI.$=5;function XI(a){return a instanceof OI}function PI(a){return LI(LI(ve(a.e),ve(a.a)),ve(a.v))}function QI(a,b){return a.e===b.e&&D.j(a.a,b.a)&&D.j(a.v,b.v)}function RI(a){return new rf(null,a.e,new rf(null,a.a,new rf(null,a.v,new rf(null,a.Ma(null),new rf(null,a.ec(null),null,1,null),2,null),3,null),4,null),5,null)}
function SI(a,b,c){return D.j(tw,b)?a.v:D.j("e",b)?a.e:D.j(Sx,b)?a.ec(null):D.j("v",b)?a.v:D.j(iw,b)?a.e:D.j("a",b)?a.a:D.j(Zo,b)?a.Ma(null):D.j("added",b)?a.ec(null):D.j("tx",b)?a.Ma(null):D.j(mw,b)?a.a:c}function UI(a){switch(arguments.length){case 2:return TI(arguments[0],arguments[1]);case 3:return VI(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function TI(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ma(null);case 4:return a.ec(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.B(b)].join(""));}}function VI(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ma(null);case 4:return a.ec(null);default:return c}}
function WI(a,b,c){switch(b instanceof C?b.ma:null){case "e":return DI.la(c,a.a,a.v,a.Ma(null),a.ec(null));case "a":return DI.la(a.e,c,a.v,a.Ma(null),a.ec(null));case "v":return DI.la(a.e,a.a,c,a.Ma(null),a.ec(null));case "tx":return DI.la(a.e,a.a,a.v,c,a.ec(null));case "added":return DI.la(a.e,a.a,a.v,a.Ma(null),c);default:throw new GI(["invalid key for #datascript/Datom: ",t.B(b)].join(""));}}function YI(a,b){return null==a?0:null==b?0:Sf(a,b)}
function ZI(a,b){return D.j(a,b)?0:(null!=a?a.T&2048||l===a.bd||(a.T?0:Ac(Yd,a)):Ac(Yd,a))?Zd(a,b):"string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b)?ve(a)-ve(b):ab(a,b)}function $I(a,b){return null==a?0:null==b?0:ZI(a,b)}function aJ(a,b){var c=a.e-b.e;return 0===c?(c=YI(a.a,b.a),0===c?(c=$I(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function bJ(a,b){var c=YI(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=$I(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}
function cJ(a,b){var c=YI(a.a,b.a);return 0===c?(c=$I(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function dJ(a,b){return a instanceof C?Zd(a,b):ab(a,b)}function eJ(a,b){var c=a.e-b.e;return 0===c?(c=dJ(a.a,b.a),0===c?(c=ZI(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function fJ(a,b){var c=dJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=ZI(a.v,b.v),0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}
function gJ(a,b){var c=dJ(a.a,b.a);return 0===c?(c=ZI(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ma(null)-b.Ma(null),0===a?0:a):c):c):c}function hJ(){}function iJ(a,b){if(null!=a&&null!=a.wg)a=a.wg(a,b);else{var c=iJ[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=iJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISearch.-search",a);}return a}function jJ(a,b){return H(iJ(a,b))}
function kJ(a,b,c){if(null!=a&&null!=a.vg)a=a.vg(a,b,c);else{var d=kJ[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=kJ._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IIndexAccess.-datoms",a);}return a}function lJ(){}function mJ(a){if(null!=a&&null!=a.uh)a=a.xb;else{var b=mJ[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=mJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDB.-schema",a);}return a}
function nJ(a,b){if(null!=a&&null!=a.ug)a=a.ug(a,b);else{var c=nJ[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=nJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IDB.-attrs-by",a);}return a}function oJ(a,b,c,d,e,f,h,k,m,n,r){this.xb=a;this.qb=b;this.Tb=c;this.Ub=d;this.bc=e;this.cc=f;this.$b=h;this.hash=k;this.G=m;this.D=n;this.I=r;this.J=2230716170;this.T=139264}g=oJ.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "schema":return this.xb;case "eavt":return this.qb;case "aevt":return this.Tb;case "avet":return this.Ub;case "max-eid":return this.bc;case "max-tx":return this.cc;case "rschema":return this.$b;case "hash":return this.hash;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,T.j(new W(null,8,5,Y,[new W(null,2,5,Y,[Nr,this.xb],null),new W(null,2,5,Y,[Vu,this.qb],null),new W(null,2,5,Y,[Bx,this.Tb],null),new W(null,2,5,Y,[Qm,this.Ub],null),new W(null,2,5,Y,[ux,this.bc],null),new W(null,2,5,Y,[Vy,this.cc],null),new W(null,2,5,Y,[vt,this.$b],null),new W(null,2,5,Y,[aA,this.hash],null)],null),this.D))};
g.na=function(){return new Xi(this,8,new W(null,8,5,Y,[Nr,Vu,Bx,Qm,ux,Vy,vt,aA],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 8+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1515640948^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.xb,b.xb)&&D.j(this.qb,b.qb)&&D.j(this.Tb,b.Tb)&&D.j(this.Ub,b.Ub)&&D.j(this.bc,b.bc)&&D.j(this.cc,b.cc)&&D.j(this.$b,b.$b)&&D.j(this.hash,b.hash)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,8,[Nr,null,Vy,null,aA,null,Bx,null,Qm,null,ux,null,Vu,null,vt,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Nr,b):S.call(null,Nr,b))?new oJ(c,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.G,this.D,null):q(S.j?S.j(Vu,b):S.call(null,Vu,b))?new oJ(this.xb,c,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.G,this.D,null):q(S.j?S.j(Bx,b):S.call(null,Bx,b))?new oJ(this.xb,this.qb,c,this.Ub,this.bc,this.cc,this.$b,this.hash,this.G,this.D,null):q(S.j?S.j(Qm,b):S.call(null,Qm,b))?new oJ(this.xb,this.qb,this.Tb,c,this.bc,this.cc,this.$b,this.hash,this.G,
this.D,null):q(S.j?S.j(ux,b):S.call(null,ux,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,c,this.cc,this.$b,this.hash,this.G,this.D,null):q(S.j?S.j(Vy,b):S.call(null,Vy,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,c,this.$b,this.hash,this.G,this.D,null):q(S.j?S.j(vt,b):S.call(null,vt,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,c,this.hash,this.G,this.D,null):q(S.j?S.j(aA,b):S.call(null,aA,b))?new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,c,this.G,this.D,null):new oJ(this.xb,
this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,8,5,Y,[new X(Nr,this.xb),new X(Vu,this.qb),new X(Bx,this.Tb),new X(Qm,this.Ub),new X(ux,this.bc),new X(Vy,this.cc),new X(vt,this.$b),new X(aA,this.hash)],null),this.D))};g.ea=function(a,b){return new oJ(this.xb,this.qb,this.Tb,this.Ub,this.bc,this.cc,this.$b,this.hash,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function pJ(a){var b=R.F(a,Nr,M([Vu,Bx,Qm,ux,Vy,vt,aA]));b=Gf(a)?ai.j(V,b):b;return new oJ(Nr.B(a),Vu.B(a),Bx.B(a),Qm.B(a),ux.B(a),Vy.B(a),vt.B(a),aA.B(a),null,mh(b),null)}g.La=l;g.fa=function(a,b,c){return qJ.C?qJ.C(this,b,c):qJ.call(null,this,b,c)};g.ig=l;g.ha=function(){return K(this.qb)};g.kh=l;g.vc=function(){return Id(this.qb)};g.gh=l;g.ia=function(){return rJ.B?rJ.B(this):rJ.call(null,this)};g.aa=function(a,b){return sJ.j?sJ.j(this,b):sJ.call(null,this,b)};g.kg=l;
g.vd=function(){return ii.C(ii.C(ii.C(this,Vu,Wg),Bx,Wg),Qm,Wg)};g.lg=l;g.Ka=function(){var a=this.xb;a=tJ?tJ(a):uJ.call(null,a);return xf(a,yf(this))};g.wd=function(){throw dm("datascript.DB/conj! is not supported",V);};g.Ed=function(){return ii.C(ii.C(ii.C(this,Vu,Xg),Bx,Xg),Qm,Xg)};g.tf=l;g.ga=function(){return Dd(this.qb)};
g.vg=function(a,b,c){if(D.j(b,Qm)&&(a=H(c),null!=a&&!q(vJ.j?vJ.j(this,a):vJ.call(null,this,a))))throw dm(["Attribute ",fl.F(M([a]))," should be marked as :db/index true"].join(""),new p(null,3,[rp,yx,By,Qm,im,c],null));return BI(B.j(this,b),wJ.la?wJ.la(this,b,c,0,536870912):wJ.call(null,this,b,c,0,536870912),wJ.la?wJ.la(this,b,c,2147483647,2147483647):wJ.call(null,this,b,c,2147483647,2147483647))};g.tg=l;g.uh=function(){return this.xb};g.ug=function(a,b){a=this.$b;return a.B?a.B(b):a.call(null,b)};
g.vh=l;
g.wg=function(a,b){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null);b=this.qb;var f=this.Tb,h=this.Ub;Pf(nJ(this,DA),c);return q(a)?q(c)?null!=d?q(e)?BI(b,DI.O(a,c,d,e),DI.O(a,c,d,e)):BI(b,DI.O(a,c,d,536870912),DI.O(a,c,d,2147483647)):q(e)?Zh(function(k){return D.j(e,k.Ma(null))},BI(b,DI.O(a,c,null,536870912),DI.O(a,c,null,2147483647))):BI(b,DI.O(a,c,null,536870912),DI.O(a,c,null,2147483647)):null!=d?q(e)?Zh(function(k){return D.j(d,k.v)&&D.j(e,k.Ma(null))},BI(b,DI.O(a,null,null,536870912),
DI.O(a,null,null,2147483647))):Zh(function(k){return D.j(d,k.v)},BI(b,DI.O(a,null,null,536870912),DI.O(a,null,null,2147483647))):q(e)?Zh(function(k){return D.j(e,k.Ma(null))},BI(b,DI.O(a,null,null,536870912),DI.O(a,null,null,2147483647))):BI(b,DI.O(a,null,null,536870912),DI.O(a,null,null,2147483647)):q(c)?null!=d?q(e)?q(vJ.j?vJ.j(this,c):vJ.call(null,this,c))?Zh(function(k){return D.j(e,k.Ma(null))},BI(h,DI.O(0,c,d,536870912),DI.O(2147483647,c,d,2147483647))):Zh(function(k){return D.j(d,k.v)&&D.j(e,
k.Ma(null))},BI(f,DI.O(0,c,null,536870912),DI.O(2147483647,c,null,2147483647))):q(vJ.j?vJ.j(this,c):vJ.call(null,this,c))?BI(h,DI.O(0,c,d,536870912),DI.O(2147483647,c,d,2147483647)):Zh(function(k){return D.j(d,k.v)},BI(f,DI.O(0,c,null,536870912),DI.O(2147483647,c,null,2147483647))):q(e)?Zh(function(k){return D.j(e,k.Ma(null))},BI(f,DI.O(0,c,null,536870912),DI.O(2147483647,c,null,2147483647))):BI(f,DI.O(0,c,null,536870912),DI.O(2147483647,c,null,2147483647)):null!=d?q(e)?Zh(function(k){return D.j(d,
k.v)&&D.j(e,k.Ma(null))},b):Zh(function(k){return D.j(d,k.v)},b):q(e)?Zh(function(k){return D.j(e,k.Ma(null))},b):b};
function xJ(a,b){switch(b instanceof C?b.ma:null){case "db.unique/identity":return new W(null,3,5,Y,[Bm,Jy,ky],null);case "db.unique/value":return new W(null,3,5,Y,[Bm,Qr,ky],null);case "db.cardinality/many":return new W(null,1,5,Y,[DA],null);case "db.type/ref":return new W(null,2,5,Y,[cz,ky],null);default:return D.j(Cm,a)&&!0===b?new W(null,1,5,Y,[Cm],null):D.j(ky,a)&&!0===b?new W(null,1,5,Y,[ky],null):D.j(Eo,a)?new W(null,2,5,Y,[Km,ky],null):qf}}
function yJ(a,b){return v.C(function(c,d){return KI(function(e,f,h){return ii.la(e,f,Q,d,h)},c,Eo.B(d.B?d.B(a):d.call(null,a)))},V,Km.B(b))}function zJ(a){var b=cg(function(c,d,e){return cg(function(f,h,k){return v.C(function(m,n){return ii.O(m,n,JI,d)},f,xJ(h,k))},c,e)},V,a);return Q.C(b,zs,yJ(a,b))}function AJ(a,b,c,d){if(null!=c&&!Pf(d,c))throw dm(["Bad attribute specification for ",fl.F(M([uf([a,uf([b,c])])])),", expected one of ",t.B(d)].join(""),new p(null,4,[rp,Po,Wo,a,rA,b,Hw,c],null));}
function BJ(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null),k=P(f,1,null),m=Cm.j(k,!1);AJ(h,Cm,Cm.B(k),new qk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=m;return q(F)?lh.j(iA.B(k),cz):F}()))throw dm(["Bad attribute specification for ",fl.F(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[rp,Po,Wo,h,rA,Cm],null));AJ(h,Bm,Bm.B(k),new qk(null,new p(null,2,[Jy,null,Qr,null],null),null));AJ(h,
iA,iA.B(k),new qk(null,new p(null,1,[cz,null],null),null));AJ(h,$t,$t.B(k),new qk(null,new p(null,2,[DA,null,Ox,null],null),null));if(Pf(k,Eo)){f=new p(null,3,[rp,Po,Wo,h,rA,Eo],null);if(D.j(DA,$t.B(k)))throw dm([fl.F(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Eo.B(k);if(!Ef(n))throw dm([fl.F(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",fl.F(M([n]))].join(""),f);if(Bf(n))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t be empty"].join(""),f);n=E(n);
for(var r=null,u=0,w=0;;)if(w<u){var A=r.xa(null,w),G=Q.C(f,Hw,A);if(Pf(B.j(a,A),Eo))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",fl.F(M([A]))].join(""),G);if(D.j(DA,$t.B(B.j(a,A))))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",fl.F(M([A]))].join(""),G);w+=1}else if(n=E(n)){if(If(n))u=ae(n),n=be(n),r=u,u=K(u);else{r=H(n);u=Q.C(f,Hw,r);if(Pf(B.j(a,r),Eo))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",
fl.F(M([r]))].join(""),u);if(D.j(DA,$t.B(B.j(a,r))))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",fl.F(M([r]))].join(""),u);n=J(n);r=null;u=0}w=0}else break}e+=1}else if(h=E(b)){b=h;if(If(b))c=ae(b),b=be(b),h=c,d=K(c),c=h;else{c=H(b);h=P(c,0,null);k=P(c,1,null);var I=Cm.j(k,!1);AJ(h,Cm,Cm.B(k),new qk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=I;return q(F)?lh.j(iA.B(k),cz):F}()))throw dm(["Bad attribute specification for ",fl.F(M([h])),
": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[rp,Po,Wo,h,rA,Cm],null));AJ(h,Bm,Bm.B(k),new qk(null,new p(null,2,[Jy,null,Qr,null],null),null));AJ(h,iA,iA.B(k),new qk(null,new p(null,1,[cz,null],null),null));AJ(h,$t,$t.B(k),new qk(null,new p(null,2,[DA,null,Ox,null],null),null));if(Pf(k,Eo)){c=new p(null,3,[rp,Po,Wo,h,rA,Eo],null);if(D.j(DA,$t.B(k)))throw dm([fl.F(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Eo.B(k);if(!Ef(d))throw dm([fl.F(M([h])),
" :db/tupleAttrs must be a sequential collection, got: ",fl.F(M([d]))].join(""),c);if(Bf(d))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t be empty"].join(""),c);d=E(d);e=null;for(n=f=0;;)if(n<f){r=e.xa(null,n);u=Q.C(c,Hw,r);if(Pf(B.j(a,r),Eo))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",fl.F(M([r]))].join(""),u);if(D.j(DA,$t.B(B.j(a,r))))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",fl.F(M([r]))].join(""),u);n+=1}else if(d=
E(d)){if(If(d))f=ae(d),d=be(d),e=f,f=K(f);else{e=H(d);f=Q.C(c,Hw,e);if(Pf(B.j(a,e),Eo))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",fl.F(M([e]))].join(""),f);if(D.j(DA,$t.B(B.j(a,e))))throw dm([fl.F(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",fl.F(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else break}
function uJ(a){switch(arguments.length){case 0:return tJ(null);case 1:return tJ(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function tJ(a){BJ(a);return pJ(new p(null,8,[Nr,a,vt,zJ(lk.F(M([new p(null,1,[lA,new p(null,1,[Bm,Jy],null)],null),a]))),Vu,FI(aJ),Bx,FI(bJ),Qm,FI(cJ),ux,0,Vy,536870912,aA,Ch(0)],null))}function CJ(a){a=iw.B(H(CI(a)));return q(a)?a:0}
function DJ(a,b){var c=H(Ph(XI,a));if(null!=c)throw dm(["init-db expects list of Datoms, got ",fl.F(M([Bc(c)]))].join(""),new p(null,1,[rp,Dz],null));BJ(b);c=zJ(lk.F(M([new p(null,1,[lA,new p(null,1,[Bm,Jy],null)],null),b])));var d=ky.B(c),e=MH(a)?a:LH(a);e.sort(eJ);var f=EI(aJ,e);e.sort(fJ);e=EI(bJ,e);a=Wf(Zh(function(m){return Pf(d,m.a)},a));a.sort(gJ);a=EI(cJ,a);var h=CJ(f),k=gg(Lh.B(function(m){return m.Ma(null)}),pg,536870912,f);return pJ(new p(null,8,[Nr,b,vt,c,Vu,f,Bx,e,Qm,a,ux,h,Vy,k,aA,Ch(0)],
null))}function rJ(a){var b=y(a.hash);return 0===b?Dh(a.hash,LI(ve(a.xb),ve(a.qb))):b}function sJ(a,b){var c;if(c=(b instanceof oJ||!1)&&D.j(mJ(a),mJ(b)))a:for(a=kJ(a,Vu,qf),c=kJ(b,Vu,qf),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(D.j(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function qJ(a,b,c){Jd(b,"#datascript/DB {");Jd(b,":schema ");Zk(mJ(a),b,c);Jd(b,", :datoms ");Z(b,function(d,e,f){return Z(e,Zk,"["," ","]",f,new W(null,4,5,Y,[d.e,d.a,d.v,MI(d)],null))},"["," ","]",c,kJ(a,Vu,qf));return Jd(b,"}")}
function EJ(a,b,c,d,e,f,h){if(q(c)){var k=new rf(null,In,new rf(null,wv,new rf(null,b,new rf(null,c,new rf(null,d,new rf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);FJ.j?FJ.j(c,k):FJ.call(null,c,k)}return DI.O(function(){var m=GJ.j?GJ.j(a,b):GJ.call(null,a,b);return q(m)?m:f}(),c,q(null!=d?HJ.j?HJ.j(a,c):HJ.call(null,a,c):!1)?IJ.j?IJ.j(a,d):IJ.call(null,a,d):d,function(){var m=GJ.j?GJ.j(a,e):GJ.call(null,a,e);return q(m)?m:h}())}
function wJ(a,b,c,d,e){var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);b=b instanceof C?b.ma:null;switch(b){case "eavt":return EJ(a,f,h,k,c,d,e);case "aevt":return EJ(a,h,f,k,c,d,e);case "avet":return EJ(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.B(b)].join(""));}}function JJ(a,b,c,d,e,f,h,k){this.yc=a;this.xc=b;this.Dc=c;this.Bc=d;this.Ec=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=JJ.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "db-before":return this.yc;case "db-after":return this.xc;case "tx-data":return this.Dc;case "tempids":return this.Bc;case "tx-meta":return this.Ec;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[ao,this.yc],null),new W(null,2,5,Y,[pu,this.xc],null),new W(null,2,5,Y,[Or,this.Dc],null),new W(null,2,5,Y,[BB,this.Bc],null),new W(null,2,5,Y,[Go,this.Ec],null)],null),this.D))};g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[ao,pu,Or,BB,Go],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 5+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2022644885^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.yc,b.yc)&&D.j(this.xc,b.xc)&&D.j(this.Dc,b.Dc)&&D.j(this.Bc,b.Bc)&&D.j(this.Ec,b.Ec)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[BB,null,pu,null,ao,null,Or,null,Go,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new JJ(this.yc,this.xc,this.Dc,this.Bc,this.Ec,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(ao,b):S.call(null,ao,b))?new JJ(c,this.xc,this.Dc,this.Bc,this.Ec,this.G,this.D,null):q(S.j?S.j(pu,b):S.call(null,pu,b))?new JJ(this.yc,c,this.Dc,this.Bc,this.Ec,this.G,this.D,null):q(S.j?S.j(Or,b):S.call(null,Or,b))?new JJ(this.yc,this.xc,c,this.Bc,this.Ec,this.G,this.D,null):q(S.j?S.j(BB,b):S.call(null,BB,b))?new JJ(this.yc,this.xc,this.Dc,c,this.Ec,this.G,this.D,null):q(S.j?S.j(Go,b):S.call(null,Go,b))?new JJ(this.yc,this.xc,this.Dc,this.Bc,c,this.G,this.D,
null):new JJ(this.yc,this.xc,this.Dc,this.Bc,this.Ec,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,5,5,Y,[new X(ao,this.yc),new X(pu,this.xc),new X(Or,this.Dc),new X(BB,this.Bc),new X(Go,this.Ec)],null),this.D))};g.ea=function(a,b){return new JJ(this.yc,this.xc,this.Dc,this.Bc,this.Ec,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function KJ(a,b,c){return Pf(nJ(a,c),b)}function HJ(a,b){return KJ(a,b,cz)}
function vJ(a,b){return KJ(a,b,ky)}
function LJ(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw dm(["Highest supported entity id is ",fl.F(M([2147483647])),", got ",fl.F(M([b]))].join(""),new p(null,2,[rp,Mt,Hw,b],null));return b}if(Ef(b)){var c=b,d=P(c,0,null);c=P(c,1,null);if(lh.j(K(b),2))throw dm(["Lookup ref should contain 2 elements: ",fl.F(M([b]))].join(""),new p(null,2,[rp,Wy,Mt,b],null));if(KJ(a,d,Bm))return null==c?null:iw.B(H(kJ(a,Qm,b)));throw dm(["Lookup ref attribute should be marked as :db/unique: ",fl.F(M([b]))].join(""),
new p(null,2,[rp,Lm,Mt,b],null));}if(wc(b))b=M(b);else{if(b instanceof C)return iw.B(H(kJ(a,Qm,new W(null,2,5,Y,[lA,b],null))));throw dm(["Expected number or lookup ref for entity id, got ",fl.F(M([b]))].join(""),new p(null,2,[rp,nr,Mt,b],null));}}}function IJ(a,b){a=LJ(a,b);if(q(a))return a;throw dm(["Nothing found for entity id ",fl.F(M([b]))].join(""),new p(null,2,[rp,qq,Mt,b],null));}function GJ(a,b){return q(b)?IJ(a,b):null}
function FJ(a,b){if(a instanceof C||"string"===typeof a)return null;throw dm(["Bad entity attribute ",fl.F(M([a]))," at ",fl.F(M([b])),", expected keyword or string"].join(""),new p(null,3,[rp,$m,Wo,a,sz,b],null));}function MJ(a,b){if(null==a)throw dm(["Cannot store nil as a value at ",fl.F(M([b]))].join(""),new p(null,3,[rp,$m,Hw,a,sz,b],null));return null}function NJ(a){return ei(a,new W(null,2,5,Y,[ao,Vy],null))+1}
function OJ(a){return D.j(a,rm)||D.j(a,":db/current-tx")||D.j(a,"datomic.tx")||D.j(a,"datascript.tx")}function PJ(a){return"number"===typeof a&&0>a||"string"===typeof a}function QJ(a,b){return b>ux.B(a)&&536870912>b?Q.C(a,ux,b):a}function RJ(a,b,c){var d=OJ(b)?ii.la(a,BB,Q,b,c):a;d=PJ(b)?ii.la(d,BB,Q,b,c):d;if(b=!PJ(b))a=pu.B(a),b=c>ux.B(a)&&536870912>c;a=b?ii.la(d,BB,Q,c,c):d;return ii.O(a,pu,QJ,c)}
function SJ(a,b){var c=b.ec(null);c=q(c)?KJ(a,b.a,Bm):c;if(q(c)&&(c=mh(kJ(a,Qm,new W(null,2,5,Y,[b.a,b.v],null))),null!=c))throw dm(["Cannot add ",fl.F(M([b]))," because of unique constraint: ",fl.F(M([c]))].join(""),new p(null,3,[rp,Oy,Wo,b.a,sv,b],null));c=vJ(a,b.a);if(q(b.ec(null)))return a=ii.la(a,Vu,lI,b,eJ),a=ii.la(a,Bx,lI,b,fJ),c=c?ii.la(a,Qm,lI,b,gJ):a,b=QJ(c,b.e),Q.C(b,aA,Ch(0));b=jJ(a,new W(null,3,5,Y,[b.e,b.a,b.v],null));if(null==b)return a;a=ii.la(a,Vu,kI,b,eJ);a=ii.la(a,Bx,kI,b,fJ);b=
c?ii.la(a,Qm,kI,b,gJ):a;return Q.C(b,aA,Ch(0))}function TJ(a,b,c,d,e){return cg(function(f,h,k){var m=B.j(f,h);q(m)||(m=tw.B(H(kJ(c,Vu,new W(null,2,5,Y,[d,h],null)))),m=q(m)?m:Yf(Sh(K(Eo.B(B.j(mJ(c),h))),null)));k=Q.C(m,k,e);return Q.C(f,h,k)},a,b)}function UJ(a,b){var c=pu.B(a),d=mw.B(b);a=ii.O(Q.C(a,pu,SJ(c,b)),Or,pf,b);if(KJ(c,d,zs)){var e=iw.B(b);b=q(NI(b))?tw.B(b):null;var f=B.j(Ly.B(a),e);f=q(f)?f:V;d=B.j(nJ(c,zs),d);c=TJ(f,d,c,e,b);return ii.la(a,Ly,Q,e,c)}return a}
function VJ(a){if(a instanceof C)return D.j("_",bf(Ig(a),0));if("string"===typeof a)return Mf(Nk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw dm(["Bad attribute type: ",fl.F(M([a])),", expected keyword or string"].join(""),new p(null,2,[rp,$m,Wo,a],null));}
function WJ(a){if(a instanceof C)return VJ(a)?Hg.j(Fg(a),yg.j(Ig(a),1)):Hg.j(Fg(a),["_",Ig(a)].join(""));if("string"===typeof a){var b=Nk(/(?:([^\/]+)\/)?([^\/]+)/,a);P(b,0,null);a=P(b,1,null);b=P(b,2,null);return D.j("_",bf(b,0))?q(a)?[t.B(a),"/",yg.j(b,1)].join(""):yg.j(b,1):q(a)?[t.B(a),"/_",t.B(b)].join(""):["_",t.B(b)].join("")}throw dm(["Bad attribute type: ",fl.F(M([a])),", expected keyword or string"].join(""),new p(null,2,[rp,$m,Wo,a],null));}
function XJ(a,b){function c(f,h){return v.C(function(k,m){var n=d(f,m);return null==n?ii.O(k,0,pf,m):ii.la(k,1,Q,m,n)},new W(null,2,5,Y,[qf,V],null),h)}function d(f,h){return iw.B(H(kJ(a,Qm,new W(null,2,5,Y,[f,h],null))))}var e=mh(nJ(a,Jy));return null==e?new W(null,2,5,Y,[b,null],null):cg(function(f,h,k){var m=P(f,0,null);f=P(f,1,null);if(Pf(e,h)){if(KJ(a,h,DA)&&(MH(k)||Cf(k)&&!Ff(k))){var n=c(h,k);k=P(n,0,null);n=P(n,1,null);return new W(null,2,5,Y,[Bf(k)?m:Q.C(m,h,k),Bf(n)?f:Q.C(f,h,n)],null)}n=
d(h,k);return null==n?new W(null,2,5,Y,[Q.C(m,h,k),f],null):new W(null,2,5,Y,[m,Q.C(f,h,uf([k,n]))],null)}return new W(null,2,5,Y,[Q.C(m,h,k),f],null)},new W(null,2,5,Y,[V,V],null),b)}
function YJ(a,b){var c=cg(function(h,k,m){return cg(function(n,r,u){return Q.C(n,u,new W(null,2,5,Y,[k,r],null))},h,m)},V,b);if(2<=K(c)){b=H(c);a=P(b,0,null);var d=P(b,1,null);b=P(d,0,null);d=P(d,1,null);var e=mf(c);c=P(e,0,null);var f=P(e,1,null);e=P(f,0,null);f=P(f,1,null);throw dm(["Conflicting upserts: ",fl.F(M([new W(null,2,5,Y,[b,d],null)]))," resolves to ",fl.F(M([a])),", but ",fl.F(M([new W(null,2,5,Y,[e,f],null)]))," resolves to ",fl.F(M([c]))].join(""),new p(null,3,[rp,Ls,bB,new W(null,
3,5,Y,[a,b,d],null),rv,new W(null,3,5,Y,[c,e,f],null)],null));}d=H(c);b=P(d,0,null);c=P(d,1,null);d=P(c,0,null);c=P(c,1,null);a=Wr.B(a);if(null!=b&&null!=a&&!PJ(a)&&lh.j(b,a))throw dm(["Conflicting upsert: ",fl.F(M([new W(null,2,5,Y,[d,c],null)]))," resolves to ",fl.F(M([b])),", but entity already has :db/id ",fl.F(M([a]))].join(""),new p(null,3,[rp,Ls,bB,new W(null,3,5,Y,[b,d,c],null),rv,new p(null,1,[Wr,a],null)],null));return b}
function ZJ(a,b,c){return VJ(b)||KJ(a,b,DA)?MH(c)||Cf(c)&&!Ff(c)?D.j(K(c),2)&&KJ(a,H(c),Jy)?new W(null,1,5,Y,[c],null):c:new W(null,1,5,Y,[c],null):new W(null,1,5,Y,[c],null)}
function $J(a,b){var c=Wr.B(b);return function f(e){return new Jg(null,function(){for(var h=e;;){var k=E(h);if(k){var m=k,n=H(m),r=P(n,0,null),u=P(n,1,null);if(lh.j(r,Wr)){var w=FJ(r,uf([Wr,c,r,u])),A=VJ(r),G=A?WJ(r):r;if(A&&!HJ(a,G))throw dm(["Bad attribute ",fl.F(M([r])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new p(null,3,[rp,$m,Wo,r,sz,uf([Wr,c,r,u])],null));if(k=E(function(I,F,N,O,U,ea,va,wa,xa,Ra,ka){return function ua(Ca){return new Jg(null,function(Ba,
Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc){return function(){for(;;){var Ad=E(Ca);if(Ad){if(If(Ad)){var te=ae(Ad),$f=K(te),Bd=Ng($f);a:for(var ue=0;;)if(ue<$f){var Cd=x(te,ue);Cd=HJ(a,yb)&&Ff(Cd)?Q.C(Cd,WJ(Pd),Yc):ac?new W(null,4,5,Y,[sB,Cd,yb,Yc],null):new W(null,4,5,Y,[sB,Yc,yb,Cd],null);Bd.add(Cd);ue+=1}else{te=!0;break a}return te?Qg(Sg(Bd),ua(be(Ad))):Qg(Sg(Bd),null)}Bd=H(Ad);return hf(HJ(a,yb)&&Ff(Bd)?Q.C(Bd,WJ(Pd),Yc):ac?new W(null,4,5,Y,[sB,Bd,yb,Yc],null):new W(null,4,5,Y,[sB,Yc,yb,Bd],null),ua(Fe(Ad)))}return null}}}(I,
F,N,O,U,ea,va,wa,xa,Ra,ka),null,null)}}(h,w,A,G,null,n,r,u,m,k,c)(ZJ(a,r,u))))return T.j(k,f(Fe(h)))}h=Fe(h)}else return null}},null,null)}(b)}function aK(a,b){P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null);FJ(d,b);MJ(e,b);b=q(f)?f:NJ(a);f=pu.B(a);c=IJ(f,c);e=HJ(f,d)?IJ(f,e):e;var h=DI.O(c,d,e,b);f=KJ(f,d,DA)?jJ(f,new W(null,3,5,Y,[c,d,e],null)):jJ(f,new W(null,2,5,Y,[c,d],null));return null==f?UJ(a,h):D.j(f.v,e)?ii.O(a,et,II,h):UJ(UJ(a,DI.la(c,d,f.v,b,!1)),h)}
function bK(a,b){var c=NJ(a);return UJ(a,DI.la(b.e,b.a,b.v,c,!1))}function cK(a,b){return ai.C(sk,wh.j(Yh(function(c){return KJ(a,c.a,Cm)}),Lh.B(function(c){return new W(null,2,5,Y,[Op,c.v],null)})),b)}function dK(a,b,c,d,e){if(Pf(BB.B(a),d))throw dm(["Conflicting upsert: ",fl.F(M([d]))," resolves both to ",fl.F(M([e]))," and ",fl.F(M([ei(a,new W(null,2,5,Y,[BB,d],null))]))].join(""),new p(null,1,[rp,Ls],null));b=Q.C(BB.B(b),d,e);a=Q.C(a,BB,b);return eK.j?eK.j(a,c):eK.call(null,a,c)}
var fK=new qk(null,new p(null,8,[Ku,null,av,null,Op,null,os,null,Ar,null,Ts,null,An,null,sB,null],null),null);function gK(a){var b=pu.B(a);mJ(b);nJ(b,zs);return cg(function(c,d,e){return cg(function(f,h,k){k=rh(vc,k)?null:k;var m=tw.B(H(kJ(b,Vu,new W(null,2,5,Y,[d,h],null))));return D.j(k,m)?f:null==k?pf.j(f,xf(new W(null,4,5,Y,[Ar,d,h,m],null),new p(null,1,[Fs,!0],null))):pf.j(f,xf(new W(null,4,5,Y,[sB,d,h,k],null),new p(null,1,[Fs,!0],null)))},c,e)},qf,Ly.B(a))}
function hK(a){var b=Mm.B(a);b=v.C(function(c,d){return q(NI(d))?R.j(c,iw.B(d)):c},b,T.j(Or.B(a),et.B(a)));if(Bf(b))return R.F(a,Mm,M([et]));throw dm(["Tempids used only as value in transaction: ",fl.F(M([Vf(Sf,dj(b))]))].join(""),new p(null,2,[rp,$m,BB,b],null));}
function eK(a,b){if(null!=b&&!Ef(b))throw dm(["Bad transaction data ",fl.F(M([b])),", expected sequential collection"].join(""),new p(null,2,[rp,$m,Or,b],null));for(var c=!Bf(nJ(pu.B(a),Km)),d=c?Vh.j(b,Rh(Dm)):b,e=a,f=d;;){if(Bf(f))return ii.la(ii.la(hK(e),BB,Q,rm,NJ(e)),pu,ii,Vy,Oe);var h=f,k=E(h),m=H(k),n=J(k),r=m,u=n;if(null==r)f=u;else if(D.j(Dm,r))if(Pf(e,Ly)){var w=R.j(e,Ly);u=T.j(gK(e),u);e=w;f=u}else f=u;else{var A=pu.B(e),G=BB.B(e);if(Ff(r)){var I=Wr.B(r);if(OJ(I))w=NJ(e),e=RJ(e,I,w),f=u=
hf(Q.C(r,Wr,w),u);else if(Ef(I))w=IJ(A,I),f=u=hf(Q.C(r,Wr,w),u);else{var F=XJ(A,r);w=P(F,0,null);F=P(F,1,null);var N=YJ(w,F);if(null!=N){if(PJ(I)&&Pf(G,I)&&lh.j(N,B.j(G,I)))return dK(a,e,b,I,N);e=RJ(e,I,N);f=u=T.j($J(A,Q.C(w,Wr,N)),u)}else if("number"===typeof I||null==I||"string"===typeof I)w=null==I?ux.B(A)+1:PJ(I)?function(){var Xb=B.j(G,I);return q(Xb)?Xb:ux.B(A)+1}():I,r=Q.C(r,Wr,w),e=RJ(e,I,w),f=u=T.j($J(A,r),u);else throw dm(["Expected number, string or lookup ref for :db/id, got ",fl.F(M([I]))].join(""),
new p(null,2,[rp,nr,qu,r],null));}}else if(Ef(r)){var O=r;F=P(O,0,null);var U=P(O,1,null);w=P(O,2,null);var ea=P(O,3,null);if(D.j(F,Ku)){w=E(r);r=H(w);w=J(w);var va=r;r=H(w);w=J(w);f=u=T.j(hh(r,A,w),u)}else if(F instanceof C&&yc(fK.B?fK.B(F):fK.call(null,F))){va=LJ(A,F);if(null==va)throw dm(["Can’t find entity for transaction fn ",fl.F(M([F]))].join(""),new p(null,3,[rp,$m,bs,Ku,Or,r],null));U=tw.B(jJ(A,new W(null,2,5,Y,[va,lr],null)));w=J(r);if(vf(U))f=u=T.j(hh(U,A,w),u);else throw dm(["Entity ",
fl.F(M([F]))," expected to have :db/fn attribute with fn? value"].join(""),new p(null,3,[rp,$m,bs,Ku,Or,r],null));}else{if(PJ(U)&&lh.j(F,sB))throw dm(["Can't use tempid in '",fl.F(M([r])),"'. Tempids are allowed in :db/add only"].join(""),new p(null,2,[rp,$m,wo,r],null));if(D.j(F,An)||D.j(F,av)){var wa=r;va=P(wa,0,null);var xa=P(wa,1,null),Ra=P(wa,2,null),ka=P(wa,3,null),oa=P(wa,4,null),Ca=IJ(A,xa),ua=FJ(Ra,r),Ba=HJ(A,Ra)?IJ(A,ka):ka,Ua=HJ(A,Ra)?IJ(A,oa):oa,ac=MJ(Ua,r),yb=Yf(iJ(A,new W(null,2,5,Y,
[Ca,Ra],null)));if(KJ(A,Ra,DA))if(q(sh(function(Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue){return function(Cd){return D.j(Cd.v,ue)}}(e,f,wa,va,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),yb)))e=aK(e,new W(null,4,5,Y,[sB,Ca,Ra,Ua],null)),f=u;else throw dm([":db.fn/cas failed on datom [",fl.F(M([Ca]))," ",fl.F(M([Ra]))," ",fl.F(M([Lh.j(tw,yb)])),"], expected ",fl.F(M([Ba]))].join(""),new p(null,4,[rp,wn,Mz,yb,hm,Ba,yr,Ua],null));else if(F=tw.B(H(yb)),D.j(F,Ba))e=aK(e,new W(null,4,5,Y,[sB,
Ca,Ra,Ua],null)),f=u;else throw dm([":db.fn/cas failed on datom [",fl.F(M([Ca]))," ",fl.F(M([Ra]))," ",fl.F(M([F])),"], expected ",fl.F(M([Ba]))].join(""),new p(null,4,[rp,wn,Mz,H(yb),hm,Ba,yr,Ua],null));}else if(OJ(U))r=RJ(e,U,NJ(e)),u=hf(new W(null,4,5,Y,[F,NJ(e),w,ea],null),u),e=r,f=u;else if(HJ(A,w)&&OJ(ea))r=RJ(e,ea,NJ(e)),u=hf(new W(null,4,5,Y,[F,U,w,NJ(e)],null),u),e=r,f=u;else if(HJ(A,w)&&PJ(ea))va=B.j(G,ea),null==va?(r=ux.B(A)+1,e=ii.la(RJ(e,ea,r),Mm,Q,r,ea),f=u=f):(r=va,e=ii.la(e,Mm,Q,r,
ea),f=u=hf(new W(null,4,5,Y,[F,U,w,r],null),u));else if(PJ(U)){N=KJ(A,w,Jy)?iw.B(H(kJ(A,Qm,new W(null,2,5,Y,[w,ea],null)))):null;var ec=B.j(G,U);if(q(function(){var Xb=N;return q(Xb)?(Xb=ec,q(Xb)?lh.j(N,ec):Xb):Xb}()))return dK(a,e,b,U,N);r=function(){var Xb=N;if(q(Xb))return Xb;Xb=ec;return q(Xb)?Xb:ux.B(A)+1}();e=RJ(e,U,r);f=u=hf(new W(null,4,5,Y,[F,r,w,ea],null),u)}else{if(yc(Fs.B(yf(r)))&&KJ(A,w,Km))throw dm(["Can’t modify tuple attrs directly: ",fl.F(M([r]))].join(""),new p(null,2,[rp,$m,Or,
r],null));if(D.j(F,sB))e=aK(e,r),f=u;else if(D.j(F,Ar)&&null!=ea)va=LJ(A,U),null==va?f=u:(xa=va,F=HJ(A,w)?IJ(A,ea):ea,FJ(w,r),MJ(F,r),w=jJ(A,new W(null,3,5,Y,[xa,w,F],null)),null==w?f=u:(e=bK(e,w),f=u));else if(D.j(F,Ts)||D.j(F,Ar))va=LJ(A,U),null==va?f=u:(xa=va,va=FJ(w,r),yb=Yf(iJ(A,new W(null,2,5,Y,[xa,w],null))),e=v.C(bK,e,yb),f=u=T.j(cK(A,yb),u));else if(D.j(F,Op)||D.j(F,os))va=LJ(A,U),null==va?f=u:(xa=va,yb=Yf(iJ(A,new W(null,1,5,Y,[xa],null))),w=Yf(Xh(function(Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,
ue){return function(Cd){return iJ(ue,new W(null,3,5,Y,[null,Cd,zf],null))}}(e,f,yb,xa,va,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),M([nJ(A,cz)]))),e=v.C(bK,e,T.j(yb,w)),f=u=T.j(cK(A,yb),u));else throw dm(["Unknown operation at ",fl.F(M([r])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new p(null,3,[rp,$m,bs,F,Or,r],null));}}}else if(XI(r))F=r,U=P(F,0,null),w=P(F,1,null),ea=P(F,2,null),r=P(F,3,null),F=P(F,4,null),q(F)?(e=aK(e,new W(null,5,5,Y,[sB,U,w,ea,r],null)),f=u):f=u=hf(new W(null,4,5,Y,[Ar,U,w,ea],null),u);else throw dm(["Bad entity type at ",fl.F(M([r])),", expected map or vector"].join(""),new p(null,2,[rp,$m,Or,r],null));}}};function iK(a,b,c,d,e){this.sd=a;this.tb=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=iK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "wildcard?":return this.sd;case "attrs":return this.tb;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Ro,this.sd],null),new W(null,2,5,Y,[Bt,this.tb],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Ro,Bt],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=90253489^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sd,b.sd)&&D.j(this.tb,b.tb)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Bt,null,Ro,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new iK(this.sd,this.tb,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Ro,b):S.call(null,Ro,b))?new iK(c,this.tb,this.G,this.D,null):q(S.j?S.j(Bt,b):S.call(null,Bt,b))?new iK(this.sd,c,this.G,this.D,null):new iK(this.sd,this.tb,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Ro,this.sd),new X(Bt,this.tb)],null),this.D))};g.ea=function(a,b){return new iK(this.sd,this.tb,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function jK(a){if(null!=a&&null!=a.gd)a=a.gd(a);else{var b=jK[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IPullSpecComponent.-as-spec",a);}return a}function kK(a,b,c,d){this.attr=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=kK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Hx,this.attr],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Hx],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-838771693^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.D,b.D)};g.gd=function(){return new W(null,2,5,Y,[this.attr,new p(null,1,[Hx,this.attr],null)],null)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Hx,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new kK(this.attr,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Hx,b):S.call(null,Hx,b))?new kK(c,this.G,this.D,null):new kK(this.attr,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Hx,this.attr)],null),this.D))};g.ea=function(a,b){return new kK(this.attr,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function lK(a,b,c,d,e){this.attr=a;this.Xc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=lK.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "rattr":return this.Xc;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Hx,this.attr],null),new W(null,2,5,Y,[my,this.Xc],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Hx,my],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=158820207^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Xc,b.Xc)&&D.j(this.D,b.D)};g.gd=function(){return new W(null,2,5,Y,[this.Xc,new p(null,1,[Hx,this.attr],null)],null)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[my,null,Hx,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new lK(this.attr,this.Xc,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Hx,b):S.call(null,Hx,b))?new lK(c,this.Xc,this.G,this.D,null):q(S.j?S.j(my,b):S.call(null,my,b))?new lK(this.attr,c,this.G,this.D,null):new lK(this.attr,this.Xc,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Hx,this.attr),new X(my,this.Xc)],null),this.D))};g.ea=function(a,b){return new lK(this.attr,this.Xc,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function mK(a,b,c,d,e){this.attr=a;this.limit=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=mK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Hx,this.attr],null),new W(null,2,5,Y,[Hm,this.limit],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Hx,Hm],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=2109320956^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.limit,b.limit)&&D.j(this.D,b.D)};g.gd=function(){return gi(jK(this.attr),new W(null,2,5,Y,[1,Hm],null),this.limit)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Hm,null,Hx,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new mK(this.attr,this.limit,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Hx,b):S.call(null,Hx,b))?new mK(c,this.limit,this.G,this.D,null):q(S.j?S.j(Hm,b):S.call(null,Hm,b))?new mK(this.attr,c,this.G,this.D,null):new mK(this.attr,this.limit,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Hx,this.attr),new X(Hm,this.limit)],null),this.D))};g.ea=function(a,b){return new mK(this.attr,this.limit,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function nK(a,b,c,d,e){this.attr=a;this.value=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=nK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "value":return this.value;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Hx,this.attr],null),new W(null,2,5,Y,[Hw,this.value],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Hx,Hw],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1499761615^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.value,b.value)&&D.j(this.D,b.D)};g.gd=function(){return gi(jK(this.attr),new W(null,2,5,Y,[1,Xl],null),this.value)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Hw,null,Hx,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new nK(this.attr,this.value,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Hx,b):S.call(null,Hx,b))?new nK(c,this.value,this.G,this.D,null):q(S.j?S.j(Hw,b):S.call(null,Hw,b))?new nK(this.attr,c,this.G,this.D,null):new nK(this.attr,this.value,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Hx,this.attr),new X(Hw,this.value)],null),this.D))};g.ea=function(a,b){return new nK(this.attr,this.value,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function oK(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=oK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return B.C(this.D,b,c)};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,T.j(qf,this.D))};
g.na=function(){return new Xi(this,0,qf,q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 0+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-163917799^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(sk,b)?R.j(rd(ai.j(V,this),this.G),b):new oK(this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return new oK(this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(qf,this.D))};
g.ea=function(a,b){return new oK(b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function pK(a,b,c,d){this.limit=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=pK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "limit":return this.limit;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Hm,this.limit],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Hm],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1552688154^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.limit,b.limit)&&D.j(this.D,b.D)};g.gd=function(){return new W(null,2,5,Y,[us,this.limit],null)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Hm,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new pK(this.limit,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Hm,b):S.call(null,Hm,b))?new pK(c,this.G,this.D,null):new pK(this.limit,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Hm,this.limit)],null),this.D))};g.ea=function(a,b){return new pK(this.limit,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function qK(a,b,c,d,e){this.attr=a;this.Wc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=qK.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "porrl":return this.Wc;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Hx,this.attr],null),new W(null,2,5,Y,[vB,this.Wc],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Hx,vB],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=152088668^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Wc,b.Wc)&&D.j(this.D,b.D)};g.gd=function(){return ii.O(jK(this.attr),1,pf,jK(this.Wc))};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[vB,null,Hx,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new qK(this.attr,this.Wc,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Hx,b):S.call(null,Hx,b))?new qK(c,this.Wc,this.G,this.D,null):q(S.j?S.j(vB,b):S.call(null,vB,b))?new qK(this.attr,c,this.G,this.D,null):new qK(this.attr,this.Wc,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Hx,this.attr),new X(vB,this.Wc)],null),this.D))};g.ea=function(a,b){return new qK(this.attr,this.Wc,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function rK(a,b,c,d,e){this.attr=a;this.pc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=rK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "attr":return this.attr;case "opts":return this.pc;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Hx,this.attr],null),new W(null,2,5,Y,[Rn,this.pc],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Hx,Rn],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-429987476^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.pc,b.pc)&&D.j(this.D,b.D)};g.gd=function(){return ii.O(jK(this.attr),1,lk,this.pc)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Rn,null,Hx,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new rK(this.attr,this.pc,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Hx,b):S.call(null,Hx,b))?new rK(c,this.pc,this.G,this.D,null):q(S.j?S.j(Rn,b):S.call(null,Rn,b))?new rK(this.attr,c,this.G,this.D,null):new rK(this.attr,this.pc,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Hx,this.attr),new X(Rn,this.pc)],null),this.D))};g.ea=function(a,b){return new rK(this.attr,this.pc,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function sK(a,b){return b instanceof oK?Q.C(a,Ro,!0):ii.O(a,Bt,Zg,jK(b))}function tK(a,b,c,d){this.pd=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=tK.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "specs":return this.pd;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Iu,this.pd],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Iu],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-795554044^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.pd,b.pd)&&D.j(this.D,b.D)};g.gd=function(){var a=new iK(!1,Td(V),null,null,null);a=v.C(sK,a,this.pd);return new W(null,2,5,Y,[Eq,ii.C(a,Bt,Xg)],null)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Iu,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new tK(this.pd,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Iu,b):S.call(null,Iu,b))?new tK(c,this.G,this.D,null):new tK(this.pd,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Iu,this.pd)],null),this.D))};g.ea=function(a,b){return new tK(this.pd,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};var uK=new qk(null,new p(null,3,[ls,null,"*",null,gx,null],null),null);
function vK(a){return a instanceof C||"string"===typeof a?VJ(a)?new lK(WJ(a),a,null,null,null):new kK(a,null,null,null):null}var wK=new qk(null,new p(null,2,["...",null,Ru,null],null),null);function xK(a){return Ef(a)&&D.j(3,K(a))}var yK=new qk(null,new p(null,3,[Mp,null,Hm,null,"limit",null],null),null);
function zK(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);if(q(yK.B?yK.B(b):yK.call(null,b))){b=null==d||"number"===typeof d&&0<d?vK(c):!1;if(q(b))return new mK(b,d,null,null,null);throw dm('Expected ["limit" attr-name (positive-number | nil)]',new p(null,2,[rp,cy,pt,a],null));}return null}var AK=new qk(null,new p(null,3,[Xo,null,Xl,null,"default",null],null),null);
function BK(a){if(Ef(a)){a=E(a);var b=H(a);a=J(a);b=vK(b);if(null==b)a=null;else{var c;if(c=th(K(a)))c=rh(new qk(null,new p(null,3,[Hm,null,Xl,null,Xy,null],null),null),Lh.j(H,di(2,2,a)));a=c?new rK(b,gh(ik,a),null,null,null):null}return a}return null}
function CK(a){var b=P(a,0,null),c=P(a,1,null);a=function(){var e=vK(b);if(q(e))return e;e=BK(b);return q(e)?e:xK(b)?zK(b):null}();if(q(a)){var d=function(){var e=q(wK.B?wK.B(c):wK.call(null,c))?new pK(null,null,null,null):"number"===typeof c&&0<c?new pK(c,null,null,null):null;return q(e)?e:DK.B?DK.B(c):DK.call(null,c)}();if(q(d))return new qK(a,d,null,null,null);throw dm("Expected (pattern | recursion-limit)",new p(null,2,[rp,cy,pt,new W(null,2,5,Y,[b,c],null)],null));}throw dm("Expected (attr-name | limit-expr)",
new p(null,2,[rp,cy,pt,new W(null,2,5,Y,[b,c],null)],null));}
function EK(a){var b=vK(a);if(q(b))return b;b=q(uK.B?uK.B(a):uK.call(null,a))?new oK(null,null,null):null;if(q(b))return b;b=Ff(a)?CK(H(a)):null;if(q(b))return b;b=BK(a);if(q(b))return b;if(xK(a)){if(b=zK(a),!q(b))b:{var c=P(a,0,null),d=P(a,1,null);b=P(a,2,null);if(q(AK.B?AK.B(c):AK.call(null,c))){c=vK(d);if(q(c)){b=new nK(c,b,null,null,null);break b}throw dm('Expected ["default" attr-name any-value]',new p(null,2,[rp,cy,pt,a],null));}b=null}}else b=null;if(q(b))return b;throw dm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new p(null,2,[rp,cy,pt,a],null));}function FK(a){return Ff(a)?Yx:q(uK.B?uK.B(a):uK.call(null,a))?Nt:bv}function GK(a){return ai.C(qf,Lh.B(function(b){return pf.j(V,b)}),a)}function HK(a){a=Il(FK,a);var b=q(mh(B.j(a,Nt)))?new W(null,1,5,Y,[gx],null):qf;return ai.C(ai.j(b,B.j(a,bv)),wh.j(Lh.B(GK),vl),B.j(a,Yx))}function DK(a){return Ef(a)?new tK(ai.C(qf,Lh.B(EK),HK(a)),null,null,null):null}
function IK(a){var b=null==a?null:DK(a);b=null==b?null:mf(jK(b));if(q(b))return b;throw dm("Cannot parse pull pattern, expected: [attr-spec+]",new p(null,2,[rp,cy,pt,a],null));};function JK(a,b){return v.C(Zg,a,b)}function KK(a,b,c){return Oj([Up,fo,Zn,us,Iu,Ro,Ns,Pz,hB],[c,b,Pz,new p(null,2,[Tp,V,Er,sk],null),E(Bt.B(a)),Ro.B(a),Td(V),a,Td(qf)])}function LK(a,b,c,d){return Q.C(KK(a,b,c),Hx,d)}function MK(a,b,c){var d=Pz.B(a);return Q.F(a,fo,b,M([Iu,E(Bt.B(d)),Ro,Ro.B(d),Ns,Td(V),hB,function(){var e=hB.B(a);return E(c)?Zg.j(e,c):e}()]))}
function NK(a,b,c){var d=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,e=B.j(d,Tp);d=B.j(d,Er);return Q.F(a,Tp,ii.C(e,b,yh(Oe,0)),M([Er,pf.j(d,c)]))}function OK(a,b,c){return Pf(fi(a,new W(null,2,5,Y,[us,Er],null),sk),c)?pf.j(b,ii.O(a,hB,Zg,new p(null,1,[Wr,c],null))):null}function PK(a,b){b=Ns.B(b);b=null==b?null:Vd(b);return null==b?null:B.j(b,a)}function QK(a,b){var c=Hx.B(a);c=NK(us.B(a),c,b);return Q.C(LK(Pz.B(a),new W(null,1,5,Y,[b],null),!1,Ct),us,c)}
function RK(a){a=E(a);var b=H(a);a=J(a);var c=E(fo.B(b));if(c){b=MK(b,Fe(c),PK(Ct,b));c=H(c);var d=OK(b,a,c);return q(d)?d:pf.F(a,b,M([QK(b,c)]))}c=PK(Ct,b);d=hB.B(b);c=E(c)?Zg.j(d,c):d;return pf.j(a,Q.F(b,Zn,Qw,M([hB,c])))}function SK(a,b,c,d,e){var f=null!=d&&(d.J&64||l===d.va)?gh(hk,d):d,h=B.j(f,us);f=B.j(f,Pz);var k=B.C(B.j(h,Tp),a,0);return D.j(us.B(B.j(Bt.B(f),a)),k)?pf.j(e,d):RK(pf.F(e,d,M([new p(null,7,[Zn,us,Pz,f,Hx,a,Up,b,fo,c,us,h,hB,Td(qf)],null)])))}var TK=new iK(!0,V,null,null,null);
function UK(a,b,c,d,e){a=NK(us.B(a),c,b);return Q.C(LK(TK,e,d,c),us,a)}
function VK(a,b,c,d,e,f,h,k){var m=E(k);k=H(m);m=J(m);var n=B.C(h,Hm,1E3),r=function(){var F=Xy.B(h);return q(F)?F:b}(),u=mh(q(n)?ai.C(qf,Mh.B(n),f):f);if(q(u)){var w=HJ(a,c);f=w&&KJ(a,c,Cm);a=q(e)?KJ(a,c,DA):!f;var A=q(e)?function(F){return F.v}:function(F){return F.e};if(Pf(h,Eq))return pf.F(m,k,M([LK(Eq.B(h),bi.j(A,u),a,r)]));if(Pf(h,us))return SK(r,a,bi.j(A,u),k,m);if(q(f?e:!1))return pf.F(m,k,M([UK(k,d,r,a,bi.j(A,u))]));var G=function(){return w?wh.j(function(F){return Oj([Wr],[F])},A):A}(),
I=!a;return pf.j(m,ii.la(k,Ns,$g,r,function(){var F=ai.C(qf,Lh.B(G),u);return I?H(F):F}()))}return pf.j(m,Pf(h,Xl)?ii.la(k,Ns,$g,r,Xl.B(h)):k)}var WK=Yh(function(a){var b=P(a,0,null);a=P(a,1,null);return lh.j(b,Hx.B(a))});function XK(a,b,c){return LK(Q.F(Pz.B(a),Bt,c,M([Ro,!1])),new W(null,1,5,Y,[b],null),!1,Yn)}function YK(a,b){return pf.j(Fe(a),ii.O(H(a),Ns,JK,Vd(b)))}function ZK(a){var b=E(a);a=H(b);b=J(b);var c=vx.B(a);a=PK(Yn,a);return YK(b,JK(c,q(a)?a:V))}
function $K(a,b){var c=E(b);b=H(c);c=J(c);var d=E(Fq.B(b));if(d){var e=H(d);d=P(e,0,null);e=P(e,1,null);var f=B.C(ei(b,new W(null,2,5,Y,[Pz,Bt],null)),d,V);return VK(a,d,d,Xv.B(b),!0,e,f,pf.j(c,ii.C(b,Fq,Fe)))}a=mh(ai.C(V,WK,ei(b,new W(null,2,5,Y,[Pz,Bt],null))));return q(a)?(b=Q.F(b,Zn,jo,M([vx,Ns.B(b),Ns,Td(V)])),pf.F(c,b,M([XK(b,Xv.B(b),a)]))):YK(c,Ns.B(b))}
function aL(a,b,c,d,e){var f=Il(function(m){return m.a},kJ(a,Vu,new W(null,1,5,Y,[d],null))),h=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b,k=B.j(h,Hx);h=B.j(h,us);k=null!=k?NK(h,k,d):h;return $K(a,pf.F(c,b,M([new p(null,6,[Zn,vy,Ns,Td(new p(null,1,[Wr,d],null)),Xv,d,Pz,e,Fq,E(f),us,k],null)])))}
function bL(a,b){for(;;){var c=E(b);b=H(c);var d=J(c);c=b;if(b=E(fo.B(c))){if(q(Ro.B(c))){b=Q.F(c,Iu,qf,M([Xv,H(b),Ro,!1]));c=d;var e=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;d=B.j(e,Xv);e=B.j(e,Pz);var f=OK(b,c,d);return q(f)?f:aL(a,b,c,d,e)}if(e=E(Iu.B(c))){f=e;e=H(f);Pz.B(c);c=pf.j(d,Q.C(c,Iu,Fe(f)));b=H(b);d=P(e,0,null);e=P(e,1,null);if(D.j(Wr,d))a=q(mh(kJ(a,Vu,new W(null,1,5,Y,[b],null))))?pf.j(Fe(c),ii.la(H(c),Ns,$g,Wr,b)):c;else{f=Hx.B(e);var h=D.j(d,f),k=h?kJ(a,Vu,new W(null,2,5,Y,[b,f],null)):
kJ(a,Qm,new W(null,2,5,Y,[f,b],null));a=VK(a,d,f,b,h,k,e,c)}return a}b=pf.j(d,MK(c,Fe(b),mh(Vd(Ns.B(c)))))}else return pf.j(d,Q.C(c,Zn,Qw))}}
function cL(a,b){for(;;){var c=Zn.B(H(b));c=c instanceof C?c.ma:null;switch(c){case "expand":c=a;b=$K(a,b);a=c;continue;case "expand-rev":b=ZK(b);continue;case "pattern":c=a;b=bL(a,b);a=c;continue;case "recursion":b=RK(b);continue;case "done":c=E(b);b=H(c);c=J(c);var d=b,e=c,f=function(){var h=Vd(hB.B(d));return yc(Up.B(d))?H(h):h}();if(E(e)){b=pf.j(Fe(e),function(){var h=H(e);return q(f)?ii.la(h,Ns,$g,Hx.B(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.B(c)].join(""));
}}}function dL(a,b,c){c=ai.C(qf,Lh.B(function(d){return IJ(a,d)}),c);return cL(a,new rf(null,KK(b,c,!1),null,1,null))};function eL(a,b,c,d,e){this.Ud=a;this.Bg=b;this.Eg=c;this.Ag=d;this.limit=e;this.J=2147484416;this.T=0}eL.prototype.ba=function(a,b,c){return fL.C?fL.C(this,b,c):fL.call(null,this,b,c)};eL.prototype.ka=function(a,b){return ad(this.Ud,b,null)};eL.prototype.P=function(a,b,c){return ad(this.Ud,b,c)};eL.prototype.fa=function(a,b,c){return Md(this.Ud,b,c)};function gL(a,b,c,d,e){return new eL(a,b,c,d,e)}
function fL(a,b,c){var d=a.Ud,e=a.Bg,f=a.Eg,h=a.Ag;a=a.limit;var k=f.j?f.j(b,null):f.call(null,b,null);if(q(k))return gL(d,Q.C(R.j(e,k),h,b),Q.C(f,b,h),h+1,a);b=gL(Q.C(d,b,c),Q.C(e,h,b),Q.C(f,b,h),h+1,a);return hL.B?hL.B(b):hL.call(null,b)}function hL(a){if(K(a.Ud)>a.limit){var b=a.Ud,c=a.Bg,d=a.Eg,e=a.Ag;a=a.limit;var f=H(c),h=P(f,0,null);f=P(f,1,null);return gL(R.j(b,f),R.j(c,h),R.j(d,f),e,a)}return a};function iL(a,b){b="number"===typeof b||Ef(b)||b instanceof C?LJ(a,b):null;if(q(b)){var c=Hh(!1),d=Hh(V);return jL.O?jL.O(a,b,c,d):jL.call(null,a,b,c,d)}return null}function kL(a,b,c){return KJ(a,b,DA)?HJ(a,b)?v.C(function(d,e){return pf.j(d,iL(a,tw.B(e)))},sk,c):v.C(function(d,e){return pf.j(d,tw.B(e))},sk,c):HJ(a,b)?iL(a,tw.B(H(c))):tw.B(H(c))}
function lL(a,b,c,d){b=mh(iJ(a,new W(null,3,5,Y,[null,c,b],null)));return q(b)?KJ(a,c,Cm)?iL(a,iw.B(H(b))):v.C(function(e,f){return pf.j(e,iL(a,iw.B(f)))},sk,b):d}function mL(a){return q(a)?Wf(a):null}
function nL(a){oL.B?oL.B(a):oL.call(null,a);return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);r=KJ(a.db,r,DA)?new W(null,2,5,Y,[r,mL(n)],null):new W(null,2,5,Y,[r,n],null);k.add(r);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);return hf(KJ(a.db,k,DA)?new W(null,2,5,Y,[k,mL(f)],null):new W(null,2,5,Y,[k,f],null),d(Fe(e)))}return null}},
null,null)}(y(a.cache))}function pL(a,b,c,d){this.db=a;this.Uc=b;this.Uf=c;this.cache=d;this.J=2162164483;this.T=0}g=pL.prototype;g.entry_set=function(){return Wf(Lh.j(Wf,nL(this)))};
g.forEach=function(){function a(d,e){for(var f=E(nL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.xa(null,m),r=P(n,0,null);n=P(n,1,null);d.call(e,n,r,this);m+=1}else if(f=E(f))If(f)?(h=ae(f),f=be(f),r=h,k=K(h),h=r):(h=H(f),r=P(h,0,null),n=P(h,1,null),d.call(e,n,r,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=E(nL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=P(m,0,null);m=P(m,1,null);d.C?d.C(m,n,this):d.call(null,m,n,this);k+=1}else if(e=E(e))If(e)?(f=ae(e),e=be(e),n=f,h=
K(f),f=n):(f=H(e),n=P(f,0,null),m=P(f,1,null),d.C?d.C(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.j=a;return c}();g.get=function(a){if(D.j(a,":db/id"))return this.Uc;if(VJ(a))return mL(lL(this.db,this.Uc,WJ(a),null));var b=qL?qL(this,a):rL.call(null,this,a);return KJ(this.db,a,DA)?mL(b):b};g.key_set=function(){return Wf(cj(this))};
g.entries=function(){return new Yi(E(nL(this)))};g.value_set=function(){return Wf(Lh.j(mf,nL(this)))};g.toString=function(){return le(this)};g.keys=function(){return Ie(cj(this))};g.values=function(){return Ie(Lh.j(mf,nL(this)))};g.equiv=function(a){return sL.j?sL.j(this,a):sL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ka=function(a,b){return tL?tL(this,b,null):rL.call(null,this,b,null)};g.P=function(a,b,c){return tL?tL(this,b,c):rL.call(null,this,b,c)};
g.fa=function(a,b,c){return Md(Q.C(y(this.cache),Wr,this.Uc),b,c)};g.ha=function(){oL.B?oL.B(this):oL.call(null,this);return K(y(this.cache))};g.ia=function(){return ve(this.Uc)};g.aa=function(a,b){return sL.j?sL.j(this,b):sL.call(null,this,b)};g.ga=function(){oL.B?oL.B(this):oL.call(null,this);return E(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return qL?qL(this,a):rL.call(null,this,a)};g.j=function(a,b){return tL?tL(this,a,b):rL.call(null,this,a,b)};function jL(a,b,c,d){return new pL(a,b,c,d)}
function sL(a,b){return b instanceof pL&&D.j(a.Uc,b.Uc)}function rL(a){switch(arguments.length){case 2:return qL(arguments[0],arguments[1]);case 3:return tL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function qL(a,b){return tL(a,b,null)}
function tL(a,b,c){if(D.j(b,Wr))return a.Uc;if(VJ(b))return lL(a.db,a.Uc,WJ(b),c);var d=y(a.cache);d=d.B?d.B(b):d.call(null,b);if(null==d){if(q(y(a.Uf)))return c;d=mh(iJ(a.db,new W(null,2,5,Y,[a.Uc,b],null)));if(null==d)return c;c=kL(a.db,b,d);b=Q.C(y(a.cache),b,c);he(a.cache,b);return c}return d}function uL(a,b){return cg(function(c,d,e){return Q.C(c,d,KJ(a,d,Cm)?KJ(a,d,DA)?tk(Lh.j(oL,e)):oL.B?oL.B(e):oL.call(null,e):e)},V,b)}
function vL(a,b){return v.C(function(c,d){var e=mw.B(H(d));return Q.C(c,e,kL(a,e,d))},V,Jk(mw,b))}function oL(a){if(!q(y(a.Uf))){var b=mh(iJ(a.db,new W(null,1,5,Y,[a.Uc],null)));q(b)&&(b=uL(a.db,vL(a.db,b)),he(a.cache,b),he(a.Uf,!0))}return a}Ha("datascript.impl.entity.Entity",pL);function wL(){}function xL(a,b,c){if(null!=a&&null!=a.Qa)a=a.Qa(a,b,c);else{var d=xL[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=xL._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("ITraversable.-collect",a);}return a}
function yL(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=yL[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=yL._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITraversable.-collect-vars",a);}return a}function zL(a,b){return Ef(a)&&D.j(K(a),b)}function AL(a,b){return Ef(b)?v.C(function(c,d){d=a.B?a.B(d):a.call(null,d);return q(d)?pf.j(c,d):Qe(null)},qf,b):null}function BL(a,b){return CL(a,b,qf)}
function CL(a,b,c){return q(a.B?a.B(b):a.call(null,b))?pf.j(c,b):(null!=b?l===b.Pa||(b.yd?0:Ac(wL,b)):Ac(wL,b))?xL(b,a,c):HI(b)?v.C(function(d,e){return CL(a,e,d)},c,b):c}function DL(a){var b=Bf(a);return b?b:gh(Qf,a)}function EL(a,b){return xf(a,new p(null,1,[cn,b],null))}function FL(a){var b=cn.B(yf(a));return q(b)?b:a}function GL(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=GL.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){return B.C(this.D,b,c)};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,T.j(qf,this.D))};g.na=function(){return new Xi(this,0,qf,q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 0+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-528488587^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(sk,b)?R.j(rd(ai.j(V,this),this.G),b):new GL(this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return new GL(this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(qf,this.D))};g.ea=function(a,b){return new GL(b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};function HL(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=HL.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Bw,this.symbol],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Bw],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=736891289^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Bw,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new HL(this.symbol,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(Bw,b):S.call(null,Bw,b))?new HL(c,this.G,this.D,null):new HL(this.symbol,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Bw,this.symbol)],null),this.D))};
g.ea=function(a,b){return new HL(this.symbol,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbol,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.symbol):IL.call(null,b,this.symbol)};function JL(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=JL.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Bw,this.symbol],null)],null),this.D))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Bw],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1648766309^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Bw,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new JL(this.symbol,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(Bw,b):S.call(null,Bw,b))?new JL(c,this.G,this.D,null):new JL(this.symbol,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Bw,this.symbol)],null),this.D))};g.ea=function(a,b){return new JL(this.symbol,b,this.D,this.I)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbol,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.symbol):IL.call(null,b,this.symbol)};function KL(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=KL.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return B.C(this.D,b,c)};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,T.j(qf,this.D))};g.na=function(){return new Xi(this,0,qf,q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 0+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-350962559^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(sk,b)?R.j(rd(ai.j(V,this),this.G),b):new KL(this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return new KL(this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(qf,this.D))};g.ea=function(a,b){return new KL(b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};
function LL(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=LL.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return B.C(this.D,b,c)};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,T.j(qf,this.D))};
g.na=function(){return new Xi(this,0,qf,q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 0+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1504050517^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(sk,b)?R.j(rd(ai.j(V,this),this.G),b):new LL(this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return new LL(this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(qf,this.D))};
g.ea=function(a,b){return new LL(b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};function ML(a,b,c,d){this.value=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=ML.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "value":return this.value;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Hw,this.value],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Hw],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-812884714^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.value,b.value)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Hw,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new ML(this.value,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(Hw,b):S.call(null,Hw,b))?new ML(c,this.G,this.D,null):new ML(this.value,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Hw,this.value)],null),this.D))};g.ea=function(a,b){return new ML(this.value,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.value,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.value):IL.call(null,b,this.value)};function NL(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=NL.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Bw,this.symbol],null)],null),this.D))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Bw],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1509921913^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Bw,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new NL(this.symbol,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(Bw,b):S.call(null,Bw,b))?new NL(c,this.G,this.D,null):new NL(this.symbol,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Bw,this.symbol)],null),this.D))};g.ea=function(a,b){return new NL(this.symbol,b,this.D,this.I)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbol,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.symbol):IL.call(null,b,this.symbol)};function OL(a){return a instanceof z&&D.j(H(Ig(a)),"?")?new HL(a,null,null,null):null}function PL(a){var b=OL(a);if(q(b))return b;throw dm(["Cannot parse var, expected symbol starting with ?, got: ",fl.F(M([a]))].join(""),new p(null,2,[rp,gq,bt,a],null));}
function QL(a){return a instanceof z&&D.j(H(Ig(a)),"$")?new JL(a,null,null,null):null}function RL(a){return a instanceof z?null:new ML(a,null,null,null)}function SL(a){return a instanceof z&&yc(OL(a))&&yc(QL(a))&&yc(D.j(at,a)?new LL(null,null,null):null)&&yc(D.j(dq,a)?new GL(null,null,null):null)?new NL(a,null,null,null):null}function TL(a){return q(SL(a))?new HL(a,null,null,null):null}function UL(a){var b=OL(a);if(q(b))return b;b=RL(a);return q(b)?b:QL(a)}
function VL(a,b,c,d,e){this.required=a;this.Kc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=VL.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "required":return this.required;case "free":return this.Kc;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Rz,this.required],null),new W(null,2,5,Y,[Br,this.Kc],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Rz,Br],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=892963297^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.required,b.required)&&D.j(this.Kc,b.Kc)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Br,null,Rz,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new VL(this.required,this.Kc,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Rz,b):S.call(null,Rz,b))?new VL(c,this.Kc,this.G,this.D,null):q(S.j?S.j(Br,b):S.call(null,Br,b))?new VL(this.required,c,this.G,this.D,null):new VL(this.required,this.Kc,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Rz,this.required),new X(Br,this.Kc)],null),this.D))};g.ea=function(a,b){return new VL(this.required,this.Kc,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.Kc,CL(b,this.required,c))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.required):IL.call(null,b,this.required);b=this.Kc;return IL.j?IL.j(a,b):IL.call(null,a,b)};
function WL(a){if(Ef(a)){var b=Ef(H(a))?new W(null,2,5,Y,[H(a),J(a)],null):new W(null,2,5,Y,[null,a],null),c=P(b,0,null);b=P(b,1,null);c=AL(PL,c);b=AL(PL,b);if(Bf(c)&&Bf(b))throw dm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new p(null,2,[rp,yq,bt,a],null));if(!q(DL(T.j(c,b))))throw dm("Rule variables should be distinct",new p(null,2,[rp,yq,bt,a],null));return new VL(c,b,null,null,null)}throw dm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new p(null,2,[rp,yq,bt,a],null));}function XL(a){return T.B(q(Rz.B(a))?function(){bi.j(Bw,Rz.B(a));return bi.j(Bw,Br.B(a))}():null)}function YL(a){return new W(null,2,5,Y,[K(Rz.B(a)),K(Br.B(a))],null)}function ZL(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=ZL.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){return B.C(this.D,b,c)};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,T.j(qf,this.D))};g.na=function(){return new Xi(this,0,qf,q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 0+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-890522983^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(sk,b)?R.j(rd(ai.j(V,this),this.G),b):new ZL(this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return new ZL(this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(qf,this.D))};g.ea=function(a,b){return new ZL(b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return c};g.Ra=function(a,b){return b};
function $L(a,b,c,d){this.Wa=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=$L.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "variable":return this.Wa;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Ut,this.Wa],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Ut],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1522792445^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Wa,b.Wa)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Ut,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new $L(this.Wa,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(Ut,b):S.call(null,Ut,b))?new $L(c,this.G,this.D,null):new $L(this.Wa,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Ut,this.Wa)],null),this.D))};
g.ea=function(a,b){return new $L(this.Wa,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Wa,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.Wa):IL.call(null,b,this.Wa)};function aM(a,b,c,d){this.bindings=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=aM.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "bindings":return this.bindings;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[fn,this.bindings],null)],null),this.D))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[fn],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1637239347^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.bindings,b.bindings)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[fn,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new aM(this.bindings,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(fn,b):S.call(null,fn,b))?new aM(c,this.G,this.D,null):new aM(this.bindings,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(fn,this.bindings)],null),this.D))};g.ea=function(a,b){return new aM(this.bindings,b,this.D,this.I)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.bindings,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.bindings):IL.call(null,b,this.bindings)};function bM(a,b,c,d){this.binding=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=bM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "binding":return this.binding;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Uv,this.binding],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Uv],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1930368089^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.binding,b.binding)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Uv,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new bM(this.binding,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(Uv,b):S.call(null,Uv,b))?new bM(c,this.G,this.D,null):new bM(this.binding,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Uv,this.binding)],null),this.D))};g.ea=function(a,b){return new bM(this.binding,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.binding,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.binding):IL.call(null,b,this.binding)};function cM(a){return D.j(dq,a)?EL(new ZL(null,null,null),a):null}
function dM(a){var b=cM(a);return q(b)?b:eM.B?eM.B(a):eM.call(null,a)}function fM(a){var b=AL(dM,a);if(q(b)){if(Bf(b))throw dm("Tuple binding cannot be empty",new p(null,2,[rp,Cp,bt,a],null));return EL(new aM(b,null,null,null),a)}return null}
function eM(a){a:{if(zL(a,2)&&D.j(mf(a),Ru)){var b=H(a);b=eM.B?eM.B(b):eM.call(null,b);if(q(b)){b=EL(new bM(b,null,null,null),a);break a}throw dm("Cannot parse collection binding",new p(null,2,[rp,Cp,bt,a],null));}b=null}if(q(b))return b;b=zL(a,1)&&Ef(H(a))?EL(new bM(fM(H(a)),null,null,null),a):null;if(q(b))return b;b=fM(a);if(q(b))return b;b=cM(a);if(q(b))return b;b=OL(a);b=q(b)?EL(new $L(b,null,null,null),a):null;if(q(b))return b;throw dm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new p(null,2,[rp,Cp,bt,a],null));}function gM(a){if(null!=a&&null!=a.Ue)a=a.Ue(a);else{var b=gM[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=gM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IFindVars.-find-vars",a);}return a}HL.prototype.Ue=function(){return new W(null,1,5,Y,[this.symbol],null)};function hM(a,b,c,d,e){this.fn=a;this.ya=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=hM.prototype;g.Ue=function(){return gM(of(this.ya))};
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "fn":return this.fn;case "args":return this.ya;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Jz,this.fn],null),new W(null,2,5,Y,[Kz,this.ya],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Jz,Kz],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-91097383^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.ya,b.ya)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Kz,null,Jz,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new hM(this.fn,this.ya,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Jz,b):S.call(null,Jz,b))?new hM(c,this.ya,this.G,this.D,null):q(S.j?S.j(Kz,b):S.call(null,Kz,b))?new hM(this.fn,c,this.G,this.D,null):new hM(this.fn,this.ya,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Jz,this.fn),new X(Kz,this.ya)],null),this.D))};g.ea=function(a,b){return new hM(this.fn,this.ya,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.ya,CL(b,this.fn,c))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.fn):IL.call(null,b,this.fn);b=this.ya;return IL.j?IL.j(a,b):IL.call(null,a,b)};function iM(a,b,c,d,e,f){this.source=a;this.Wa=b;this.pattern=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=iM.prototype;g.Ue=function(){return gM(this.Wa)};g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "variable":return this.Wa;case "pattern":return this.pattern;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Ut,this.Wa],null),new W(null,2,5,Y,[Pz,this.pattern],null)],null),this.D))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,Ut,Pz],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 3+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2108867663^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.Wa,b.Wa)&&D.j(this.pattern,b.pattern)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Ut,null,cn,null,Pz,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new iM(this.source,this.Wa,this.pattern,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(cn,b):S.call(null,cn,b))?new iM(c,this.Wa,this.pattern,this.G,this.D,null):q(S.j?S.j(Ut,b):S.call(null,Ut,b))?new iM(this.source,c,this.pattern,this.G,this.D,null):q(S.j?S.j(Pz,b):S.call(null,Pz,b))?new iM(this.source,this.Wa,c,this.G,this.D,null):new iM(this.source,this.Wa,this.pattern,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,3,5,Y,[new X(cn,this.source),new X(Ut,this.Wa),new X(Pz,this.pattern)],null),this.D))};
g.ea=function(a,b){return new iM(this.source,this.Wa,this.pattern,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.pattern,CL(b,this.Wa,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.source):IL.call(null,b,this.source);b=this.Wa;a=IL.j?IL.j(a,b):IL.call(null,a,b);b=this.pattern;return IL.j?IL.j(a,b):IL.call(null,a,b)};
function jM(a){if(null!=a&&null!=a.ue)a=a.ue(a);else{var b=jM[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IFindElements.find-elements",a);}return a}function kM(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=kM.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "elements":return this.elements;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Us,this.elements],null)],null),this.D))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Us],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=744809563^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Us,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new kM(this.elements,this.G,mh(R.j(this.D,b)),null)};g.ue=function(){return this.elements};g.ba=function(a,b,c){return q(S.j?S.j(Us,b):S.call(null,Us,b))?new kM(c,this.G,this.D,null):new kM(this.elements,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Us,this.elements)],null),this.D))};g.ea=function(a,b){return new kM(this.elements,b,this.D,this.I)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.elements,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.elements):IL.call(null,b,this.elements)};function lM(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=lM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "element":return this.element;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[$x,this.element],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[$x],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=124241361^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[$x,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new lM(this.element,this.G,mh(R.j(this.D,b)),null)};g.ue=function(){return new W(null,1,5,Y,[this.element],null)};
g.ba=function(a,b,c){return q(S.j?S.j($x,b):S.call(null,$x,b))?new lM(c,this.G,this.D,null):new lM(this.element,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X($x,this.element)],null),this.D))};g.ea=function(a,b){return new lM(this.element,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.element,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.element):IL.call(null,b,this.element)};
function mM(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=mM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "element":return this.element;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[$x,this.element],null)],null),this.D))};g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[$x],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-661542332^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[$x,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new mM(this.element,this.G,mh(R.j(this.D,b)),null)};g.ue=function(){return new W(null,1,5,Y,[this.element],null)};g.ba=function(a,b,c){return q(S.j?S.j($x,b):S.call(null,$x,b))?new mM(c,this.G,this.D,null):new mM(this.element,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X($x,this.element)],null),this.D))};g.ea=function(a,b){return new mM(this.element,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.element,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.element):IL.call(null,b,this.element)};function nM(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=nM.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "elements":return this.elements;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[Us,this.elements],null)],null),this.D))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[Us],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=681530371^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[Us,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new nM(this.elements,this.G,mh(R.j(this.D,b)),null)};g.ue=function(){return this.elements};g.ba=function(a,b,c){return q(S.j?S.j(Us,b):S.call(null,Us,b))?new nM(c,this.G,this.D,null):new nM(this.elements,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(Us,this.elements)],null),this.D))};g.ea=function(a,b){return new nM(this.elements,b,this.D,this.I)};
g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.elements,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.elements):IL.call(null,b,this.elements)};function oM(a){return a instanceof hM}function pM(a){return a instanceof iM}
function qM(a){var b=OL(a);if(q(b))return b;a:{if(Ef(a)&&D.j(H(a),ow)){if(3<=K(a)&&4>=K(a)){var c=(b=D.j(K(a),4))?bf(a,1):Dp;b=b?J(J(a)):J(a);var d=P(b,0,null);b=P(b,1,null);c=QL(c);d=OL(d);var e=OL(b);q(e)?b=e:(e=TL(b),b=q(e)?e:RL(b));if(q(q(c)?q(d)?b:d:c)){b=new iM(c,d,b,null,null,null);break a}}throw dm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new p(null,2,[rp,hz,pt,a],null));}b=null}if(q(b))return b;a:{if(Ef(a)&&D.j(H(a),zv)){if(3<=
K(a)&&(b=E(a),H(b),c=J(b),b=H(c),c=J(c),b=OL(b),c=AL(UL,c),q(q(b)?c:b))){b=new hM(b,c,null,null,null);break a}throw dm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new p(null,2,[rp,hz,pt,a],null));}b=null}q(b)?a=b:Ef(a)&&2<=K(a)?(b=E(a),a=H(b),b=J(b),a=SL(a),b=AL(UL,b),a=q(q(a)?b:a)?new hM(a,b,null,null,null):null):a=null;return a}
function rM(a){var b=AL(qM,a);b=null==b?null:new kM(b,null,null,null);if(q(b))return b;a:{if(Ef(a)&&D.j(K(a),1)&&(b=H(a),Ef(b)&&D.j(K(b),2)&&D.j(mf(b),Ru))){b=qM(H(b));b=null==b?null:new lM(b,null,null,null);break a}b=null}if(q(b))return b;Ef(a)&&D.j(K(a),2)&&D.j(mf(a),My)?(b=qM(H(a)),b=null==b?null:new mM(b,null,null,null)):b=null;if(q(b))return b;Ef(a)&&D.j(K(a),1)?(b=H(a),b=AL(qM,b),b=null==b?null:new nM(b,null,null,null)):b=null;if(q(b))return b;throw dm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new p(null,2,[rp,hz,pt,a],null));}function sM(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=sM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[aq,this.type],null),new W(null,2,5,Y,[Ex,this.symbols],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[aq,Ex],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2025547471^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.type,b.type)&&D.j(this.symbols,b.symbols)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[aq,null,Ex,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new sM(this.type,this.symbols,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(aq,b):S.call(null,aq,b))?new sM(c,this.symbols,this.G,this.D,null):q(S.j?S.j(Ex,b):S.call(null,Ex,b))?new sM(this.type,c,this.G,this.D,null):new sM(this.type,this.symbols,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(aq,this.type),new X(Ex,this.symbols)],null),this.D))};g.ea=function(a,b){return new sM(this.type,this.symbols,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.symbols,CL(b,this.type,c))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.type):IL.call(null,b,this.type);b=this.symbols;return IL.j?IL.j(a,b):IL.call(null,a,b)};function tM(a,b){if(!Bf(b)&&rh(we,b))switch(a instanceof C?a.ma:null){case "keys":return new sM(a,bi.j(Hg,b),null,null,null);case "syms":return new sM(a,Yf(b),null,null,null);case "strs":return new sM(a,bi.j(t,b),null,null,null);default:return null}else return null}
function uM(a){var b=QL(a);q(b)||(b=D.j(at,a)?new LL(null,null,null):null,b=q(b)?b:TL(a));return q(b)?EL(new $L(b,null,null,null),a):eM(a)}function vM(a){var b=AL(uM,a);if(q(b))return b;throw dm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new p(null,2,[rp,$z,bt,a],null));}function wM(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=wM.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Pz,this.pattern],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[cn,Pz],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=575220587^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.pattern,b.pattern)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[cn,null,Pz,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new wM(this.source,this.pattern,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(cn,b):S.call(null,cn,b))?new wM(c,this.pattern,this.G,this.D,null):q(S.j?S.j(Pz,b):S.call(null,Pz,b))?new wM(this.source,c,this.G,this.D,null):new wM(this.source,this.pattern,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(cn,this.source),new X(Pz,this.pattern)],null),this.D))};g.ea=function(a,b){return new wM(this.source,this.pattern,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.pattern,CL(b,this.source,c))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.source):IL.call(null,b,this.source);b=this.pattern;return IL.j?IL.j(a,b):IL.call(null,a,b)};function xM(a,b,c,d,e){this.fn=a;this.ya=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=xM.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "fn":return this.fn;case "args":return this.ya;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Jz,this.fn],null),new W(null,2,5,Y,[Kz,this.ya],null)],null),this.D))};
g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Jz,Kz],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1523376880^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.ya,b.ya)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Kz,null,Jz,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new xM(this.fn,this.ya,this.G,mh(R.j(this.D,b)),null)};g.ba=function(a,b,c){return q(S.j?S.j(Jz,b):S.call(null,Jz,b))?new xM(c,this.ya,this.G,this.D,null):q(S.j?S.j(Kz,b):S.call(null,Kz,b))?new xM(this.fn,c,this.G,this.D,null):new xM(this.fn,this.ya,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Jz,this.fn),new X(Kz,this.ya)],null),this.D))};
g.ea=function(a,b){return new xM(this.fn,this.ya,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.ya,CL(b,this.fn,c))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.fn):IL.call(null,b,this.fn);b=this.ya;return IL.j?IL.j(a,b):IL.call(null,a,b)};function yM(a,b,c,d,e,f){this.fn=a;this.ya=b;this.binding=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=yM.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "fn":return this.fn;case "args":return this.ya;case "binding":return this.binding;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Jz,this.fn],null),new W(null,2,5,Y,[Kz,this.ya],null),new W(null,2,5,Y,[Uv,this.binding],null)],null),this.D))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[Jz,Kz,Uv],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 3+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=589494199^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.ya,b.ya)&&D.j(this.binding,b.binding)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Kz,null,Jz,null,Uv,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new yM(this.fn,this.ya,this.binding,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Jz,b):S.call(null,Jz,b))?new yM(c,this.ya,this.binding,this.G,this.D,null):q(S.j?S.j(Kz,b):S.call(null,Kz,b))?new yM(this.fn,c,this.binding,this.G,this.D,null):q(S.j?S.j(Uv,b):S.call(null,Uv,b))?new yM(this.fn,this.ya,c,this.G,this.D,null):new yM(this.fn,this.ya,this.binding,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,3,5,Y,[new X(Jz,this.fn),new X(Kz,this.ya),new X(Uv,this.binding)],null),this.D))};
g.ea=function(a,b){return new yM(this.fn,this.ya,this.binding,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.binding,CL(b,this.ya,CL(b,this.fn,c)))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.fn):IL.call(null,b,this.fn);b=this.ya;a=IL.j?IL.j(a,b):IL.call(null,a,b);b=this.binding;return IL.j?IL.j(a,b):IL.call(null,a,b)};
function zM(a,b,c,d,e,f){this.source=a;this.name=b;this.ya=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=zM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "name":return this.name;case "args":return this.ya;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Zy,this.name],null),new W(null,2,5,Y,[Kz,this.ya],null)],null),this.D))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,Zy,Kz],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 3+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-444662011^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.name,b.name)&&D.j(this.ya,b.ya)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Kz,null,Zy,null,cn,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new zM(this.source,this.name,this.ya,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(cn,b):S.call(null,cn,b))?new zM(c,this.name,this.ya,this.G,this.D,null):q(S.j?S.j(Zy,b):S.call(null,Zy,b))?new zM(this.source,c,this.ya,this.G,this.D,null):q(S.j?S.j(Kz,b):S.call(null,Kz,b))?new zM(this.source,this.name,c,this.G,this.D,null):new zM(this.source,this.name,this.ya,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,3,5,Y,[new X(cn,this.source),new X(Zy,this.name),new X(Kz,this.ya)],null),this.D))};
g.ea=function(a,b){return new zM(this.source,this.name,this.ya,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.ya,CL(b,this.name,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.source):IL.call(null,b,this.source);b=this.name;a=IL.j?IL.j(a,b):IL.call(null,a,b);b=this.ya;return IL.j?IL.j(a,b):IL.call(null,a,b)};
function AM(a,b,c,d,e,f){this.source=a;this.gb=b;this.Aa=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=AM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "vars":return this.gb;case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[Xr,this.gb],null),new W(null,2,5,Y,[py,this.Aa],null)],null),this.D))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,Xr,py],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 3+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1394671061^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.gb,b.gb)&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[cn,null,py,null,Xr,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new AM(this.source,this.gb,this.Aa,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(cn,b):S.call(null,cn,b))?new AM(c,this.gb,this.Aa,this.G,this.D,null):q(S.j?S.j(Xr,b):S.call(null,Xr,b))?new AM(this.source,c,this.Aa,this.G,this.D,null):q(S.j?S.j(py,b):S.call(null,py,b))?new AM(this.source,this.gb,c,this.G,this.D,null):new AM(this.source,this.gb,this.Aa,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,3,5,Y,[new X(cn,this.source),new X(Xr,this.gb),new X(py,this.Aa)],null),this.D))};
g.ea=function(a,b){return new AM(this.source,this.gb,this.Aa,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Aa,CL(b,this.gb,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.source):IL.call(null,b,this.source);b=this.gb;a=IL.j?IL.j(a,b):IL.call(null,a,b);b=this.Aa;return IL.j?IL.j(a,b):IL.call(null,a,b)};
function BM(a,b,c,d,e,f){this.source=a;this.rc=b;this.Aa=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=BM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "source":return this.source;case "rule-vars":return this.rc;case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[cn,this.source],null),new W(null,2,5,Y,[qz,this.rc],null),new W(null,2,5,Y,[py,this.Aa],null)],null),this.D))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[cn,qz,py],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 3+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1461934571^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.rc,b.rc)&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[qz,null,cn,null,py,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new BM(this.source,this.rc,this.Aa,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(cn,b):S.call(null,cn,b))?new BM(c,this.rc,this.Aa,this.G,this.D,null):q(S.j?S.j(qz,b):S.call(null,qz,b))?new BM(this.source,c,this.Aa,this.G,this.D,null):q(S.j?S.j(py,b):S.call(null,py,b))?new BM(this.source,this.rc,c,this.G,this.D,null):new BM(this.source,this.rc,this.Aa,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,3,5,Y,[new X(cn,this.source),new X(qz,this.rc),new X(py,this.Aa)],null),this.D))};
g.ea=function(a,b){return new BM(this.source,this.rc,this.Aa,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Aa,CL(b,this.rc,CL(b,this.source,c)))};g.Ra=function(a,b){a=IL.j?IL.j(b,this.source):IL.call(null,b,this.source);b=this.rc;a=IL.j?IL.j(a,b):IL.call(null,a,b);b=this.Aa;return IL.j?IL.j(a,b):IL.call(null,a,b)};function CM(a,b,c,d){this.Aa=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}
g=CM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,T.j(new W(null,1,5,Y,[new W(null,2,5,Y,[py,this.Aa],null)],null),this.D))};
g.na=function(){return new Xi(this,1,new W(null,1,5,Y,[py],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 1+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-131856804^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,1,[py,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new CM(this.Aa,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(py,b):S.call(null,py,b))?new CM(c,this.G,this.D,null):new CM(this.Aa,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,1,5,Y,[new X(py,this.Aa)],null),this.D))};g.ea=function(a,b){return new CM(this.Aa,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;g.Qa=function(a,b,c){return CL(b,this.Aa,c)};g.Ra=function(a,b){return IL.j?IL.j(b,this.Aa):IL.call(null,b,this.Aa)};
function DM(a){var b=D.j(dq,a)?new GL(null,null,null):null;if(q(b))return b;b=OL(a);return q(b)?b:RL(a)}function EM(a){if(Ef(a)){var b=QL(H(a));return q(b)?new W(null,2,5,Y,[b,J(a)],null):new W(null,2,5,Y,[new KL(null,null,null),a],null)}return null}function FM(a){if(Ef(a)){var b=E(a);a=H(b);b=J(b);b=null==b?qf:b;var c=SL(a);a=q(c)?c:OL(a);b=AL(UL,b);return q(q(a)?b:a)?new W(null,2,5,Y,[a,b],null):null}return null}
var IL=function IL(a,b){return b instanceof HL?pf.j(a,b):b instanceof AM?ai.j(a,b.gb):b instanceof BM?(b=b.rc,IL.j?IL.j(a,b):IL.call(null,a,b)):(null!=b?l===b.Pa||(b.yd?0:Ac(wL,b)):Ac(wL,b))?yL(b,a):Ef(b)?v.C(IL,a,b):a};function GM(a,b,c){if(Bf(a)&&Bf(b))throw dm("Join variables should not be empty",new p(null,2,[rp,Ax,bt,c],null));}function HM(a,b){GM(null,Xr.B(a),b);return a}
function IM(a,b){var c=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;c=B.j(c,qz);var d=null!=c&&(c.J&64||l===c.va)?gh(hk,c):c;c=B.j(d,Rz);d=B.j(d,Br);GM(c,d,b);return a}function Jh(a){if(Ef(a)&&D.j(Bv,H(a))){var b=J(a);b=JM.B?JM.B(b):JM.call(null,b);if(q(mh(b)))return new CM(b,null,null,null);throw dm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new p(null,2,[rp,Ax,bt,a],null));}return null}
function Kh(a){a:{var b=EM(a);if(q(b)){var c=P(b,0,null);b=P(b,1,null);var d=E(b);b=H(d);d=J(d);if(D.j(sx,b)){b=JM.B?JM.B(d):JM.call(null,d);if(q(b)){c=HM(EL(new AM(c,Yf(uk(IL(qf,b))),b,null,null,null),a),a);break a}throw dm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new p(null,2,[rp,Ax,bt,a],null));}}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)){c=P(b,0,null);b=P(b,1,null);d=E(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(D.j(Aq,b)){b=AL(OL,d);d=JM.B?JM.B(e):JM.call(null,e);if(q(q(b)?
d:b)){c=HM(EL(new AM(c,b,d,null,null,null),a),a);break a}throw dm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new p(null,2,[rp,Ax,bt,a],null));}}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),d=J(d),D.j(jr,b))){b=AL(Ih(),d);if(q(b)){c=IM(EL(new BM(c,new VL(null,Yf(uk(IL(qf,b))),null,null,null),b,null,null,null),a),a);break a}throw dm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new p(null,2,[rp,Ax,
bt,a],null));}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),e=J(d),d=H(e),e=J(e),D.j(kp,b))){b=WL(d);d=AL(Ih(),e);if(q(q(b)?d:b)){c=IM(EL(new BM(c,b,d,null,null,null),a),a);break a}throw dm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new p(null,2,[rp,Ax,bt,a],null));}c=null}if(q(c))return c;a:{if(zL(a,1)&&(b=FM(H(a)),q(b))){c=P(b,0,null);b=P(b,1,null);c=EL(new xM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;
a:{if(zL(a,2)&&(b=P(a,0,null),c=P(a,1,null),d=FM(b),q(d))){b=P(d,0,null);d=P(d,1,null);c=eM(c);c=q(c)?EL(new yM(b,d,c,null,null,null),a):null;break a}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=E(b),d=H(b),b=J(b),d=SL(d),e=AL(DM,b),q(d))){if(Bf(b))throw dm("rule-expr requires at least one argument",new p(null,2,[rp,Ax,bt,a],null));if(null==e)throw dm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new p(null,2,[rp,Ax,bt,a],null));c=new zM(c,
d,e,null,null,null);break a}c=null}if(q(c))return c;a:{b=EM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=AL(DM,b),q(b))){if(Bf(b))throw dm("Pattern could not be empty",new p(null,2,[rp,Ax,bt,a],null));c=EL(new wM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;throw dm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new p(null,2,[rp,Ax,bt,a],null));}function JM(a){return AL(Kh,a)}
function KM(a){var b=JM(a);if(q(b))return b;throw dm("Cannot parse :where clause, expected [clause+]",new p(null,2,[rp,Ax,bt,a],null));}function LM(a,b,c,d,e){this.gb=a;this.Aa=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=LM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "vars":return this.gb;case "clauses":return this.Aa;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Xr,this.gb],null),new W(null,2,5,Y,[py,this.Aa],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Xr,py],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};
g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1024755006^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.gb,b.gb)&&D.j(this.Aa,b.Aa)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[py,null,Xr,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new LM(this.gb,this.Aa,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Xr,b):S.call(null,Xr,b))?new LM(c,this.Aa,this.G,this.D,null):q(S.j?S.j(py,b):S.call(null,py,b))?new LM(this.gb,c,this.G,this.D,null):new LM(this.gb,this.Aa,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Xr,this.gb),new X(py,this.Aa)],null),this.D))};g.ea=function(a,b){return new LM(this.gb,this.Aa,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.Aa,CL(b,this.gb,c))};g.Ra=function(a,b){return IL(IL(b,this.gb),this.Aa)};function MM(a,b,c,d,e){this.name=a;this.Gc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=MM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "name":return this.name;case "branches":return this.Gc;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Zy,this.name],null),new W(null,2,5,Y,[Cs,this.Gc],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Zy,Cs],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};
g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-900273052^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.name,b.name)&&D.j(this.Gc,b.Gc)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Zy,null,Cs,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new MM(this.name,this.Gc,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Zy,b):S.call(null,Zy,b))?new MM(c,this.Gc,this.G,this.D,null):q(S.j?S.j(Cs,b):S.call(null,Cs,b))?new MM(this.name,c,this.G,this.D,null):new MM(this.name,this.Gc,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Zy,this.name),new X(Cs,this.Gc)],null),this.D))};g.ea=function(a,b){return new MM(this.name,this.Gc,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.Gc,CL(b,this.name,c))};g.Ra=function(a,b){return IL(IL(b,this.name),this.Gc)};
function NM(a){if(Ef(a)){var b=E(a),c=H(b),d=J(b);if(Ef(c)){b=E(c);var e=H(b);c=J(b);b=function(){var h=SL(e);if(q(h))return h;throw dm("Cannot parse rule name, expected plain-symbol",new p(null,2,[rp,Pw,bt,a],null));}();c=WL(c);var f=function(){var h=mh(JM(d));if(q(h))return h;throw dm("Rule branch should have clauses",new p(null,2,[rp,Pw,bt,a],null));}();return new p(null,3,[Zy,b,Xr,c,py,f],null)}throw dm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",fl.F(M([c]))].join(""),new p(null,
2,[rp,Pw,bt,a],null));}throw dm("Cannot parse rule, expected [rule-head clause+]",new p(null,2,[rp,Pw,bt,a],null));}
function OM(a,b){var c=Xr.B(H(b)),d=YL(c);b=E(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);k=Xr.B(k);if(lh.j(d,YL(k)))throw dm(["Arity mismatch for rule '",fl.F(M([Bw.B(a)])),"': ",fl.F(M([XL(c)]))," vs. ",fl.F(M([XL(k)]))].join(""),new p(null,2,[rp,Pw,No,a],null));h+=1}else if(b=E(b)){if(If(b))f=ae(b),b=be(b),e=f,f=K(f);else{k=H(b);e=Xr.B(k);if(lh.j(d,YL(e)))throw dm(["Arity mismatch for rule '",fl.F(M([Bw.B(a)])),"': ",fl.F(M([XL(c)]))," vs. ",fl.F(M([XL(e)]))].join(""),new p(null,
2,[rp,Pw,No,a],null));b=J(b);e=null;f=0}h=0}else break}
function PM(a){Yf(function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(If(f)){var h=ae(f),k=K(h),m=Ng(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);A=bi.j(function(){return function(F){return new LM(Xr.B(F),py.B(F),null,null,null)}}(w,A,G,I,h,k,m,f,e),I);I=m;OM(G,A);I.add(new MM(G,A,null,null,null));w+=1}else return!0}()?Qg(Sg(m),d(be(f))):Qg(Sg(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);n=bi.j(function(){return function(w){return new LM(Xr.B(w),
py.B(w),null,null,null)}}(n,r,u,f,e),u);OM(r,n);return hf(new MM(r,n,null,null,null),d(Fe(f)))}return null}},null,null)}(Il(Zy,AL(NM,a)))}())}function QM(a,b,c,d,e,f,h,k){this.fc=a;this.kc=b;this.ic=c;this.hc=d;this.jc=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=QM.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "qfind":return this.fc;case "qwith":return this.kc;case "qreturn-map":return this.ic;case "qin":return this.hc;case "qwhere":return this.jc;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,T.j(new W(null,5,5,Y,[new W(null,2,5,Y,[wq,this.fc],null),new W(null,2,5,Y,[Nz,this.kc],null),new W(null,2,5,Y,[hw,this.ic],null),new W(null,2,5,Y,[Vx,this.hc],null),new W(null,2,5,Y,[ny,this.jc],null)],null),this.D))};g.na=function(){return new Xi(this,5,new W(null,5,5,Y,[wq,Nz,hw,Vx,ny],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 5+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=181307977^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fc,b.fc)&&D.j(this.kc,b.kc)&&D.j(this.ic,b.ic)&&D.j(this.hc,b.hc)&&D.j(this.jc,b.jc)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,5,[wq,null,ny,null,Vx,null,Nz,null,hw,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new QM(this.fc,this.kc,this.ic,this.hc,this.jc,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(wq,b):S.call(null,wq,b))?new QM(c,this.kc,this.ic,this.hc,this.jc,this.G,this.D,null):q(S.j?S.j(Nz,b):S.call(null,Nz,b))?new QM(this.fc,c,this.ic,this.hc,this.jc,this.G,this.D,null):q(S.j?S.j(hw,b):S.call(null,hw,b))?new QM(this.fc,this.kc,c,this.hc,this.jc,this.G,this.D,null):q(S.j?S.j(Vx,b):S.call(null,Vx,b))?new QM(this.fc,this.kc,this.ic,c,this.jc,this.G,this.D,null):q(S.j?S.j(ny,b):S.call(null,ny,b))?new QM(this.fc,this.kc,this.ic,this.hc,c,this.G,this.D,
null):new QM(this.fc,this.kc,this.ic,this.hc,this.jc,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,5,5,Y,[new X(wq,this.fc),new X(Nz,this.kc),new X(hw,this.ic),new X(Vx,this.hc),new X(ny,this.jc)],null),this.D))};g.ea=function(a,b){return new QM(this.fc,this.kc,this.ic,this.hc,this.jc,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Pa=l;
g.Qa=function(a,b,c){return CL(b,this.jc,CL(b,this.hc,CL(b,this.ic,CL(b,this.kc,CL(b,this.fc,c)))))};g.Ra=function(a,b){return IL(IL(IL(IL(IL(b,this.fc),this.kc),this.ic),this.hc),this.jc)};function RM(a){var b=R.F(a,wq,M([Nz,hw,Vx,ny]));b=Gf(a)?ai.j(V,b):b;return new QM(wq.B(a),Nz.B(a),hw.B(a),Vx.B(a),ny.B(a),null,mh(b),null)}function SM(a){for(var b=V,c=null;;){var d=H(a);if(q(d))d instanceof C?(c=d,a=J(a)):(b=hi.O(b,new W(null,1,5,Y,[c],null),yh(pf,qf),d),a=J(a));else return b}}
function TM(a){var b=cn.B(a);return a instanceof wM?b:null!=b?b instanceof KL?null:b:null}
function UM(a,b,c){var d=tk(IL(qf,wq.B(a))),e=tk(Nz.B(a)),f=tk(IL(qf,Vx.B(a))),h=tk(IL(qf,ny.B(a)));f=HH.j(FH(d,e),FH(h,f));d=GH.j(d,e);if(!Bf(f))throw dm(["Query for unknown vars: ",fl.F(M([bi.j(Bw,f)]))].join(""),new p(null,3,[rp,Qx,Xr,f,bt,b],null));if(!Bf(d))throw dm([":find and :with should not use same variables: ",fl.F(M([bi.j(Bw,d)]))].join(""),new p(null,3,[rp,Qx,Xr,d,bt,b],null));d=hw.B(a);if(null!=d){if(wq.B(a)instanceof mM)throw dm([fl.F(M([aq.B(d)]))," does not work with single-scalar :find"].join(""),
new p(null,2,[rp,Qx,bt,b],null));if(wq.B(a)instanceof lM)throw dm([fl.F(M([aq.B(d)]))," does not work with collection :find"].join(""),new p(null,2,[rp,Qx,bt,b],null));}d=Ex.B(hw.B(a));if(null!=d&&(e=jM(wq.B(a)),!D.j(K(d),K(e))))throw dm(["Count of ",fl.F(M([aq.B(hw.B(a))]))," must match count of :find"].join(""),new p(null,4,[rp,Qx,eo,hf(aq.B(hw.B(a)),d),br,e,bt,b],null));if(1<K(Zh(zc,new W(null,3,5,Y,[vq.B(c),$y.B(c),pn.B(c)],null))))throw dm("Only one of :keys/:syms/:strs must be present",new p(null,
2,[rp,Qx,bt,b],null));var k=IL(qf,Vx.B(a)),m=BL(function(r){return r instanceof JL},Vx.B(a)),n=BL(function(r){return r instanceof LL},Vx.B(a));if(!q(function(){var r=DL(k);return q(r)?(r=DL(m),q(r)?DL(n):r):r}()))throw dm("Vars used in :in should be distinct",new p(null,2,[rp,Qx,bt,b],null));c=IL(qf,Nz.B(a));if(!q(DL(c)))throw dm("Vars used in :with should be distinct",new p(null,2,[rp,Qx,bt,b],null));c=CL(function(r){return r instanceof JL},Vx.B(a),sk);d=CL(function(r){return r instanceof JL},ny.B(a),
sk);c=HH.j(d,c);if(!Bf(c))throw dm(["Where uses unknown source vars: ",fl.F(M([bi.j(Bw,c)]))].join(""),new p(null,3,[rp,Qx,Xr,c,bt,b],null));c=BL(function(r){return r instanceof zM},ny.B(a));a=BL(function(r){return r instanceof LL},Vx.B(a));if(!Bf(c)&&Bf(a))throw dm("Missing rules var '%' in :in",new p(null,2,[rp,Qx,bt,b],null));}
function VM(a){if(Ff(a))var b=a;else if(Ef(a))b=SM(a);else throw dm("Query should be a vector or a map",new p(null,2,[rp,Qx,bt,a],null));var c=b,d=KM(gp.j(c,qf));b=RM(new p(null,5,[wq,rM(br.B(c)),Nz,function(){var e=GA.B(c);if(q(e)){var f=AL(OL,e);if(q(f))e=f;else throw dm("Cannot parse :with clause, expected [ variable+ ]",new p(null,2,[rp,Gt,bt,e],null));}else e=null;return e}(),hw,function(){var e=tM(vq,vq.B(c));if(q(e))return e;e=tM($y,$y.B(c));return q(e)?e:tM(pn,pn.B(c))}(),Vx,vM(function(){var e=
WA.B(c);return q(e)?e:Bf(BL(TM,d))?qf:new W(null,1,5,Y,[Dp],null)}()),ny,d],null));UM(b,a,c);return b};function WM(a,b,c,d,e,f){this.Yc=a;this.sources=b;this.rules=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=WM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "rels":return this.Yc;case "sources":return this.sources;case "rules":return this.rules;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,T.j(new W(null,3,5,Y,[new W(null,2,5,Y,[Pv,this.Yc],null),new W(null,2,5,Y,[Jw,this.sources],null),new W(null,2,5,Y,[Ov,this.rules],null)],null),this.D))};g.na=function(){return new Xi(this,3,new W(null,3,5,Y,[Pv,Jw,Ov],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 3+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1014232958^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Yc,b.Yc)&&D.j(this.sources,b.sources)&&D.j(this.rules,b.rules)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,3,[Jw,null,Ov,null,Pv,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new WM(this.Yc,this.sources,this.rules,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Pv,b):S.call(null,Pv,b))?new WM(c,this.sources,this.rules,this.G,this.D,null):q(S.j?S.j(Jw,b):S.call(null,Jw,b))?new WM(this.Yc,c,this.rules,this.G,this.D,null):q(S.j?S.j(Ov,b):S.call(null,Ov,b))?new WM(this.Yc,this.sources,c,this.G,this.D,null):new WM(this.Yc,this.sources,this.rules,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,3,5,Y,[new X(Pv,this.Yc),new X(Jw,this.sources),new X(Ov,this.rules)],null),this.D))};
g.ea=function(a,b){return new WM(this.Yc,this.sources,this.rules,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function XM(a,b,c,d,e){this.tb=a;this.rd=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=XM.prototype;g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "attrs":return this.tb;case "tuples":return this.rd;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,T.j(new W(null,2,5,Y,[new W(null,2,5,Y,[Bt,this.tb],null),new W(null,2,5,Y,[Xt,this.rd],null)],null),this.D))};g.na=function(){return new Xi(this,2,new W(null,2,5,Y,[Bt,Xt],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};
g.ha=function(){return 2+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1107093117^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.tb,b.tb)&&D.j(this.rd,b.rd)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,2,[Xt,null,Bt,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new XM(this.tb,this.rd,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Bt,b):S.call(null,Bt,b))?new XM(c,this.rd,this.G,this.D,null):q(S.j?S.j(Xt,b):S.call(null,Xt,b))?new XM(this.tb,c,this.G,this.D,null):new XM(this.tb,this.rd,this.G,Q.C(this.D,b,c),null)};g.ga=function(){return E(T.j(new W(null,2,5,Y,[new X(Bt,this.tb),new X(Xt,this.rd)],null),this.D))};g.ea=function(a,b){return new XM(this.tb,this.rd,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function YM(a,b){return GH.j(tk(cj(a)),tk(cj(b)))}function ZM(a,b){return D.j(K(a),K(b))&&rh(function(c){return Pf(b,c)},cj(a))&&rh(function(c){return Pf(b,c)},cj(a))}
var $M=function $M(a,b){return D.j(dq,a)?!0:D.j(new W(null,1,5,Y,[gx],null),a)?Ef(b):a instanceof z?D.j(b,a):Ef(a)?D.j(of(a),gx)?Ef(b)&&rh(function(d){var e=P(d,0,null);d=P(d,1,null);return $M.j?$M.j(e,d):$M.call(null,e,d)},Lh.C(Hi,vk(a),b)):Ef(b)&&D.j(K(b),K(a))&&rh(function(d){var e=P(d,0,null);d=P(d,1,null);return $M.j?$M.j(e,d):$M.call(null,e,d)},Lh.C(Hi,a,b)):a.B?a.B(b):a.call(null,b)};function aN(a){return a instanceof z&&D.j("$",H(Ig(a)))}
function bN(a){return a instanceof z&&D.j("?",H(Ig(a)))}function cN(a){return a instanceof C||"string"===typeof a}function dN(a){return $M(new W(null,2,5,Y,[cN,dq],null),a)}function eN(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var fN=function fN(a,b){var d=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,e=B.j(d,Bt);d=B.j(d,Xt);var f=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b,h=B.j(f,Bt);f=B.j(f,Xt);if(D.j(e,h))return new XM(e,ai.j(Yf(d),f),null,null,null);if(ZM(e,h)){if(rh(xc,dj(e))){var k=Yf(function(){return function w(u){return new Jg(null,function(){for(;;){var A=E(u);if(A){if(If(A)){var G=ae(A),I=K(G),F=Ng(I);a:for(var N=0;;)if(N<I){var O=x(G,N),U=P(O,0,null);O=P(O,1,null);U=new W(null,2,5,Y,[O,e.B?e.B(U):e.call(null,U)],null);
F.add(U);N+=1}else{G=!0;break a}return G?Qg(Sg(F),w(be(A))):Qg(Sg(F),null)}G=H(A);F=P(G,0,null);G=P(G,1,null);return hf(new W(null,2,5,Y,[G,e.B?e.B(F):e.call(null,F)],null),w(Fe(A)))}return null}},null,null)}(h)}()),m=v.j(pg,dj(e))+1;b=Vd(v.C(function(r,u){for(var w=Array(m),A=E(k),G=null,I=0,F=0;;)if(F<I){var N=G.xa(null,F),O=P(N,0,null);N=P(N,1,null);w[N]=u[O];F+=1}else if(A=E(A))If(A)?(I=ae(A),A=be(A),G=I,I=K(I)):(I=H(A),G=P(I,0,null),I=P(I,1,null),w[I]=u[G],A=J(A),G=null,I=0),F=0;else break;return Zg.j(r,
w)},Td(Yf(d)),f));return new XM(e,b,null,null,null)}var n=wk(cj(lk.F(M([e,h]))),Gk.N());d=function(){var r=new XM(n,qf,null,null,null);return fN.j?fN.j(r,a):fN.call(null,r,a)}();return fN.j?fN.j(d,b):fN.call(null,d,b)}throw dm(["Can’t sum relations with different attrs: ",fl.F(M([e]))," and ",fl.F(M([h]))].join(""),new p(null,1,[rp,zr],null));},gN=function gN(a){switch(arguments.length){case 0:return gN.N();case 2:return gN.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));
}};gN.N=function(){return new XM(V,new W(null,1,5,Y,[[]],null),null,null,null)};gN.j=function(a,b){var c=cj(Bt.B(a)),d=cj(Bt.B(b)),e=Wf(Lh.j(Bt.B(a),c)),f=Wf(Lh.j(Bt.B(b),d));return new XM(wk(T.j(c,d),Gk.N()),Vd(v.C(function(h,k){return v.C(function(m,n){return Zg.j(m,eN(k,e,n,f))},h,Xt.B(b))},Td(qf),Xt.B(a))),null,null,null)};gN.$=2;var hN=function hN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return hN.F(c)};
hN.F=function(a){var b=K(a);return lh.j(Mh.j(b/2,a),Nh(b/2,a))};hN.$=0;hN.ca=function(a){return this.F(E(a))};var iN=function iN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new De(c.slice(2),0,null):null;return iN.F(arguments[0],arguments[1],c)};iN.F=function(a,b,c){return v.C(function(d,e){d=H(iJ(a,new W(null,2,5,Y,[b,e],null)));return null==d?null:Qe(new W(null,2,5,Y,[mw.B(d),tw.B(d)],null))},null,c)};iN.$=2;
iN.ca=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.F(b,a,c)};var jN=function jN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return jN.F(c)};jN.F=function(a){return v.C(function(b,c){return q(c)?c:Qe(c)},!0,a)};jN.$=0;jN.ca=function(a){return this.F(E(a))};var kN=function kN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return kN.F(c)};
kN.F=function(a){return v.C(function(b,c){return q(c)?Qe(c):c},null,a)};kN.$=0;kN.ca=function(a){return this.F(E(a))};
var lN=Oj([wA,Bv,ks,$w,cr,Kv,cv,rq,Sv,gr,Px,pz,zo,Zq,iB,sx,Tm,kx,Au,Pp,Gr,qw,nv,pp,yA,as,Cr,yy,sA,un,bo,Zv,go,lt,Um,qy,gx,hp,Qq,Mv,qs,Am,Pu,Es,pA,tB,gt,yo,Xx,bA,xs,vs,op,So,Gs,ry,Sn,vA,Nm,dp,Ux,Yo,Hv,TA,yz,by,Lx,mt,qv,jr,tn,Qs,mu],[function(a){return!0===a},jN,function(a){return!th(a)},function(a,b,c,d){if(null==d)throw dm("get-else: nil default value is not supported",new p(null,1,[rp,zr],null));a=H(iJ(a,new W(null,2,5,Y,[b,c],null)));return null==a?d:tw.B(a)},og,hl,ng,K,iN,vc,dg,Oe,kg,ug,function(a){return!1===
a},yc,dg,hN,Hi,Qk,mg,function(a,b){return 0==a.lastIndexOf(b,0)},D,qg,hg,Ig,function(a,b,c){return null==B.j(iL(a,b),c)},dg,Hl,uh,xg,hk,Sf,Gk,pg,Bf,jg,fl,il,yf,function(a){return 0===a},lh,gl,function(a){return a-1},Rk,Hi,lh,t,lg,Fg,Hg,ig,zc,function(a){return 0<a},Gl,Nk,Cg,Pf,function(a,b){return ub(a,b)},yg,tg,function(a,b){return-1!=a.indexOf(b)},ik,vg,th,Bc,function(a){return 0>a},QB,mh,kN,function(a,b){return a===b},tk,Ok]),mN=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Jg(null,
function(){for(;;){var m=E(h);if(m){if(If(m)){var n=ae(m),r=K(n),u=Ng(r);a:for(var w=0;;)if(w<r){var A=x(n,w)-e;u.add(A*A);w+=1}else{n=!0;break a}return n?Qg(Sg(u),k(be(m))):Qg(Sg(u),null)}u=H(m)-e;return hf(u*u,k(Fe(m)))}return null}},null,null)}(d)}())/K(d)}function b(d){return c(d)/K(d)}function c(d){return v.C(hg,0,d)}return Oj([$p,rq,kn,np,pp,Um,Bu,Zw,qx,Ao,Gs,Ty],[a,K,function(d){var e=Vf(Sf,d);d=K(d);var f=d>>1,h=bf(e,f);return th(d)?(h+bf(e,f-1))/2:h},c,function(){function d(h,k){return Yf(v.C(function(m,
n){return K(m)<h?Vf(Sf,pf.j(m,n)):0>Sf(n,of(m))?Vf(Sf,pf.j(vk(m),n)):m},qf,k))}function e(h){return v.C(function(k,m){return 0>Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(){function d(h,k){return Yf(v.C(function(m,n){return K(m)<h?Vf(Sf,pf.j(m,n)):0<Sf(n,H(m))?Vf(Sf,pf.j(J(m),n)):m},qf,k))}function e(h){return v.C(function(k,
m){return 0<Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(d){return K(uk(d))},tk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return Yf(Uh(f,function(){return bf(h,Hl(K(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return bf(f,Hl(K(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.B=function(f){return bf(f,Hl(K(f)))};e.j=d;return e}(),function(d,e){return Yf(Mh.j(d,Xf(e)))}])}();function nN(a){a="string"===typeof a?wH(new p(null,3,[ym,y(DH),Xl,y(CH),jx,null],null),a):a;PM(a);return Il(nf,a)}function oN(a){a=Lh.j(Bw,Yf(uk(IL(qf,a))));return new XM(wk(a,Gk.N()),qf,null,null,null)}
function pN(a,b){if(null!=a&&null!=a.ve)a=a.ve(a,b);else{var c=pN[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=pN._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IBinding.in-\x3erel",a);}return a}ZL.prototype.ve=function(){return gN.N()};$L.prototype.ve=function(a,b){return new XM(uf([ei(this,new W(null,2,5,Y,[Ut,Bw],null)),0]),new W(null,1,5,Y,[Ic(new W(null,1,5,Y,[b],null))],null),null,null,null)};
bM.prototype.ve=function(a,b){var c=this;if(HI(b))return Bf(b)?oN(c):v.j(fN,Lh.j(function(d){return pN(c.binding,d)},b));throw dm(["Cannot bind value ",fl.F(M([b]))," to collection ",fl.F(M([FL(c)]))].join(""),new p(null,3,[rp,Ep,Hw,b,Uv,FL(c)],null));};
aM.prototype.ve=function(a,b){if(HI(b)){if(K(b)<K(this.bindings))throw dm(["Not enough elements in a collection ",fl.F(M([b]))," to bind tuple ",fl.F(M([FL(this)]))].join(""),new p(null,3,[rp,Ep,Hw,b,Uv,FL(this)],null));return v.j(gN,Lh.C(function(c,d){return pN(c,d)},this.bindings,b))}throw dm(["Cannot bind value ",fl.F(M([b]))," to tuple ",fl.F(M([FL(this)]))].join(""),new p(null,3,[rp,Ep,Hw,b,Uv,FL(this)],null));};
function qN(a,b){var c=P(b,0,null);b=P(b,1,null);return c instanceof $L&&c.Wa instanceof JL?ii.la(a,Jw,Q,ei(c,new W(null,2,5,Y,[Ut,Bw],null)),b):c instanceof $L&&c.Wa instanceof LL?Q.C(a,Ov,nN(b)):ii.O(a,Pv,pf,pN(c,b))}
function rN(a,b,c){var d=K(b),e=K(c);if(d<e)throw dm(["Extra inputs passed, expected: ",fl.F(M([bi.j(function(f){return cn.B(yf(f))},b)])),", got: ",fl.F(M([e]))].join(""),new p(null,3,[rp,To,hm,b,Cw,c],null));if(d>e)throw dm(["Too few inputs passed, expected: ",fl.F(M([bi.j(function(f){return cn.B(yf(f))},b)])),", got: ",fl.F(M([e]))].join(""),new p(null,3,[rp,To,hm,b,Cw,c],null));return v.C(qN,a,wk(b,c))}var sN=null,tN=null;
function uN(a,b){var c=a.B?a.B(b):a.call(null,b);return Pf(sN,b)?function(d){d=d[c];return"number"===typeof d?d:Ef(d)?LJ(tN,d):MH(d)?LJ(tN,d):d}:function(d){return d[c]}}function vN(a){if(1===K(a))return H(a);var b=Wf(a);return function(c){return E(b.map(function(d){return d.B?d.B(c):d.call(null,c)}))}}function wN(a,b){for(var c=Td(V);;){var d=H(b);if(null==d)return Vd(c);var e=a.B?a.B(d):a.call(null,d);b=J(b);c=$g.C(c,e,pf.j(B.C(c,e,Ge),d))}}
function xN(a,b){var c=Xt.B(a),d=Xt.B(b),e=Bt.B(a),f=Bt.B(b);a=Yf(YM(Bt.B(a),Bt.B(b)));var h=Lh.j(function(w){return uN(e,w)},a),k=Lh.j(function(w){return uN(f,w)},a);a=cj(e);b=Yf(HH.j(tk(cj(f)),tk(cj(e))));var m=Wf(Lh.j(e,a)),n=Wf(Lh.j(f,b));h=vN(h);var r=wN(h,c),u=vN(k);c=Vd(v.C(function(w,A){var G=u.B?u.B(A):u.call(null,A);G=B.j(r,G);return null==G?w:v.C(function(I,F){return Zg.j(I,eN(F,m,A,n))},w,G)},Td(qf),d));return new XM(wk(T.j(a,b),Gk.N()),c,null,null,null)}
function yN(a,b){var c=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,d=B.j(c,Bt);c=B.j(c,Xt);b=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;var e=B.j(b,Bt);b=B.j(b,Xt);var f=YM(d,e),h=Lh.j(function(n){return uN(e,n)},f);h=vN(h);var k=wN(h,b);b=Lh.j(function(n){return uN(d,n)},f);var m=vN(b);return Q.C(a,Xt,ci(function(n){n=m.B?m.B(n):m.call(null,n);return null==(k.B?k.B(n):k.call(null,n))},c))}
function zN(a,b){var c=bi.j(function(d){return d instanceof z?null:d},b);a=iJ(a,c);b=ai.j(V,Zh(function(d){var e=P(d,0,null);P(d,1,null);return bN(e)},Lh.C(Hi,b,new W(null,4,5,Y,["e","a","v","tx"],null))));return new XM(b,a,null,null,null)}
function AN(a,b){a=Zh(function(d){a:for(var e=b;;){var f=d;if(q(q(f)?e:f)){f=H(d);var h=H(e);if(h instanceof z||D.j(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=ai.j(V,Zh(function(d){var e=P(d,0,null);P(d,1,null);return bN(e)},Lh.C(Hi,b,Gk.N())));return new XM(c,bi.j(Wf,a),null,null,null)}function BN(a,b){return(null!=a?l===a.vh||(a.yd?0:Ac(hJ,a)):Ac(hJ,a))?zN(a,b):AN(a,b)}
function CN(a,b){for(var c=qf;;){var d=H(a);if(null==d)return pf.j(c,b);q(mh(YM(Bt.B(b),Bt.B(d))))?(a=J(a),b=xN(d,b)):(a=J(a),c=pf.j(c,d))}}function DN(a,b){return sh(function(c){return Pf(Bt.B(c),b)?c:null},Pv.B(a))}function EN(a,b){var c=DN(a,b);if(null==c)return null;a=H(Xt.B(c));null==a?b=null:(c=Bt.B(c),b=c.B?c.B(b):c.call(null,b),b=a[b]);return b}function FN(a,b){return sh(function(c){return Pf(Bt.B(a),c)},b)}
function GN(a,b){var c=Zh(function(e){return FN(e,b)},Pv.B(a)),d=v.j(gN,c);return new W(null,2,5,Y,[ii.C(a,Pv,function(e){return $h(tk(c),e)}),d],null)}
function HN(a,b,c,d){a=Jw.B(a);b=Bt.B(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=bf(d,k);if(m instanceof z){var n=B.j(a,m);null==n?h[k]=B.j(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Hi?function(r){for(var u=f.slice(0),w=0;;)if(w<e){var A=h[w];null!=A&&(u[w]=r[A]);w+=1}else break;return gh(c,u)}:function(r){for(var u=0;;)if(u<e){var w=h[u];null!=w&&(f[u]=r[w]);u+=1}else break;return gh(c,f)}}
function IN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c),f=function(){var m=B.j(lN,d);if(q(m))return m;m=EN(a,d);if(q(m))return m;if(q(null))return null;if(null==DN(a,d))throw dm(["Unknown predicate '",fl.F(M([d]))," in ",fl.F(M([b]))].join(""),new p(null,3,[rp,zr,bt,b,gu,d],null));return null}();c=GN(a,Zh(we,e));var h=P(c,0,null),k=P(c,1,null);c=q(f)?function(){var m=HN(h,k,f,e);return ii.C(k,Xt,function(n){return Zh(m,n)})}():Q.C(k,Xt,qf);return ii.O(h,Pv,pf,c)}
function JN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c);c=P(b,1,null);var f=eM(c),h=function(){var n=B.j(lN,d);if(q(n))return n;n=EN(a,d);if(q(n))return n;if(q(null))return null;if(null==DN(a,d))throw dm(["Unknown function '",fl.F(M([d]))," in ",fl.F(M([b]))].join(""),new p(null,3,[rp,zr,bt,b,gu,d],null));return null}();c=GN(a,Zh(we,e));var k=P(c,0,null),m=P(c,1,null);c=q(h)?function(){var n=HN(k,m,h,e),r=function(){return function A(w){return new Jg(null,function(){for(var G=w;;)if(G=E(G)){if(If(G)){var I=
ae(G),F=K(I),N=Ng(F);a:for(var O=0;;)if(O<F){var U=x(I,O),ea=n(U);null!=ea&&(U=gN.j(new XM(Bt.B(m),new W(null,1,5,Y,[U],null),null,null,null),pN(f,ea)),N.add(U));O+=1}else{I=!0;break a}return I?Qg(Sg(N),A(be(G))):Qg(Sg(N),null)}N=H(G);I=n(N);if(null!=I)return hf(gN.j(new XM(Bt.B(m),new W(null,1,5,Y,[N],null),null,null,null),pN(f,I)),A(Fe(G)));G=Fe(G)}else return null},null,null)}(Xt.B(m))}();return Bf(r)?gN.j(m,oN(f)):v.j(fN,r)}():gN.j(Q.C(m,Xt,qf),oN(f));return ii.O(k,Pv,CN,c)}
function KN(a,b){if(Ef(b)){var c=aN(H(b))?mf(b):H(b);if(c instanceof z){if(bN(c)||Pf(new qk(null,new p(null,6,[Bv,null,sx,null,Aq,null,kp,null,jr,null,dq,null],null),null),c))return!1;if(Pf(Ov.B(a),c))return!0;throw dm(["Unknown rule '",fl.F(M([c]))," in ",fl.F(M([b]))].join(""),new p(null,2,[rp,zr,bt,b],null));}}return!1}var LN=Ch(0);
function MN(a,b){var c=E(a),d=H(c),e=J(c),f=Eh.j(LN,Oe),h=B.j(Ov.B(b),d);return function n(m){return new Jg(null,function(){for(;;){var r=E(m);if(r){var u=r;if(If(u)){var w=ae(u),A=K(w),G=Ng(A);return function(){for(var ua=0;;)if(ua<A){var Ba=x(w,ua),Ua=Ba,ac=E(Ua),yb=H(ac),ec=J(ac),Xb=yb,Pd=E(Xb),Zf=H(Pd),zf=J(Pd),Og=Zf,Yc=zf,Ad=ec,te=wk(Yc,e);Rg(G,FB(function($f,Bd,ue,Cd,bq,Jq,oo,Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq,nj,Oq,Pq,ro,Qt,Zl,oj,Ak,Rt,$l){return function(Yg){if(bN(Yg)){var Gy=qo.B?qo.B(Yg):qo.call(null,
Yg);return null==Gy?ze.B([Ig(Yg),"__auto__",t.B($l)].join("")):Gy}return Yg}}(ua,Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,Ba,w,A,G,u,r,a,c,d,e,d,e,f,h),Ad));ua+=1}else return!0}()?Qg(Sg(G),n(be(u))):Qg(Sg(G),null)}var I=H(u),F=I,N=E(F),O=H(N),U=J(N),ea=O,va=E(ea),wa=H(va),xa=J(va),Ra=wa,ka=xa,oa=U,Ca=wk(ka,e);return hf(FB(function(ua,Ba,Ua,ac,yb,ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq,Jq,oo,Kq){return function(mj){if(bN(mj)){var po=Yc.B?Yc.B(mj):Yc.call(null,mj);return null==po?ze.B([Ig(mj),"__auto__",
t.B(Kq)].join("")):po}return mj}}(F,N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,I,u,r,a,c,d,e,d,e,f,h),oa),n(Fe(u)))}return null}},null,null)}(h)}function NN(a,b){a=$h(function(c){var d=P(c,0,null);c=P(c,1,null);return D.j(d,c)},Lh.C(Hi,a,b));return new W(null,2,5,Y,[Lh.j(H,a),Lh.j(mf,a)],null)}
function ON(a,b){a=E(a);var c=H(a),d=J(a);return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=NN(d,w);w=P(A,0,null);A=P(A,1,null);w=new W(null,1,5,Y,[T.F(new W(null,1,5,Y,[kx],null),w,M([A]))],null);r.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}r=H(k);m=NN(d,r);r=P(m,0,null);m=P(m,1,null);return hf(new W(null,1,5,Y,[T.F(new W(null,1,5,Y,[kx],null),r,M([m]))],null),h(Fe(k)))}return null}},
null,null)}(B.j(b,c))}function PN(a){var b=Ch(qf);FB(function(c){q(bN.B?bN.B(c):bN.call(null,c))&&Eh.C(b,pf,c);return c},a);return y(b)}function QN(a,b){function c(e){e=P(e,0,null);e=E(e);H(e);e=J(e);return rh(d,e)}var d=tk(PN(a));return new W(null,2,5,Y,[Zh(c,b),$h(c,b)],null)}
function RN(a,b){function c(ec){return sh(function(Xb){return Bf(Xt.B(Xb))},Pv.B(ec))}function d(ec,Xb){return v.C(SN,ec,Xb)}for(var e=Zh(bN,b),f=wk(e,Gk.N()),h=new rf(null,new p(null,5,[Ho,qf,Cz,a,py,new W(null,1,5,Y,[b],null),Cx,V,hy,V],null),null,1,null),k=new XM(f,qf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,r=Ik(function(){return function(ec){return!KN(a,ec)}}(h,k,n,m,e,f,d,c),py.B(n)),u=P(r,0,null),w=P(r,1,null),A=E(w),G=H(A),I=J(A),F=G,N=I;if(null==F){b=d(Cz.B(n),u);b=TN?TN(b,
e):UN.call(null,b,e);var O=new XM(f,b,null,null,null);b=J(h);O=fN(k,O);h=b;k=O}else{var U=F,ea=E(U),va=H(ea),wa=J(ea),xa=va,Ra=wa,ka=ON(F,Cx.B(n)),oa=QN(T.j(Ho.B(n),u),T.j(ka,hy.B(n))),Ca=P(oa,0,null),ua=P(oa,1,null);if(q(sh(function(){return function(ec){return D.j(ec,new W(null,1,5,Y,[Cg(kx)],null))}}(h,k,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c),Ca)))b=J(h),O=k,h=b,k=O;else{var Ba=T.j(u,Ca),Ua=d(Cz.B(n),Ba);if(q(c(Ua)))b=J(h),O=k,h=b,k=O;else{var ac=Q.C(Cx.B(n),xa,pf.j(B.C(Cx.B(n),
xa,qf),Ra)),yb=MN(F,a);b=T.j(function(){return function(ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq,Jq,oo,Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq,nj,Oq,Pq,ro,Qt){return function Ak(oj){return new Jg(null,function(Rt,$l,Yg,Gy,NG,OG,iV,jV,kV,lV,mV,nV,oV,pV,qV,PG,rV,sV,tV,uV,vV,wV,xV,QG){return function(){for(;;){var so=E(oj);if(so){if(If(so)){var Tt=ae(so),RG=K(Tt),Rq=Ng(RG);a:for(var Hy=0;;)if(Hy<RG){var Iy=x(Tt,Hy);Iy=new p(null,5,[Ho,NG,Cz,OG,py,ai.C(qf,vl,M([Iy,QG])),Cx,Yg,hy,PG],null);Rq.add(Iy);Hy+=1}else{Tt=
!0;break a}return Tt?Qg(Sg(Rq),Ak(be(so))):Qg(Sg(Rq),null)}Rq=H(so);return hf(new p(null,5,[Ho,NG,Cz,OG,py,ai.C(qf,vl,M([Rq,QG])),Cx,Yg,hy,PG],null),Ak(Fe(so)))}return null}}}(ec,Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd,bq,Jq,oo,Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq,nj,Oq,Pq,ro,Qt),null,null)}}(h,k,ac,yb,Ba,Ua,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c)(yb)}(),J(h));O=k;h=b;k=O}}}}}
function VN(a,b){if(null!=a?l===a.tg||(a.yd?0:Ac(lJ,a)):Ac(lJ,a)){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null),f=P(b,3,null);return Mi(new W(null,4,5,Y,[q(function(){var h=dN(c);return q(h)?h:cN(c)}())?IJ(a,c):c,d,q(function(){if(q(e)){if(cN(d)&&HJ(a,d)){var h=dN(e);return q(h)?h:cN(e)}return!1}return e}())?IJ(a,e):e,q(dN(f))?IJ(a,f):f],null),0,K(b))}return b}
function WN(a,b){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null);b=P(b,3,null);c=bN(c)?pf.j(sk,c):sk;c=bN(b)?pf.j(c,b):c;return bN(e)&&!bN(d)&&HJ(a,d)?pf.j(c,e):c}function XN(a,b){return Q.C(a,Pv,Ah(function(c){var d=mh(nk(Bt.B(c),b));return null==d?null:Q.C(c,Bt,d)},Pv.B(a)))}function YN(a){return ai.j(sk,Xh(function(b){return cj(Bt.B(b))},M([Pv.B(a)])))}
function ZN(a,b,c){if(JH(b,a))return null;a=HH.j(tk(b),a);throw dm(["Insufficient bindings: ",fl.F(M([a]))," not bound in ",fl.F(M([c]))].join(""),new p(null,3,[rp,zr,bt,c,Xr,a],null));}function $N(a,b,c){b=bi.j(function(d){return HH.j(tk(PN(d)),a)},b);if(q(gh(D,b)))return null;throw dm(["All clauses in 'or' must use same set of free vars, had ",fl.F(M([b]))," in ",fl.F(M([c]))].join(""),new p(null,3,[rp,zr,bt,c,Xr,b],null));}
function aO(a,b,c){for(var d=tk($h(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.xa(null,k);var m=mh(HH.j(d,tk(PN(c))));if(null!=m)throw e=m,jl(M([c,a,b,d])),dm(["All clauses in 'or' must use same set of free vars, had ",fl.F(M([e]))," not bound in ",fl.F(M([c]))].join(""),new p(null,3,[rp,zr,bt,c,Xr,e],null));k+=1}else if(c=E(e)){e=c;if(If(e))f=ae(e),e=be(e),c=f,h=K(f),f=c;else{c=H(e);f=mh(HH.j(d,tk(PN(c))));if(null!=f)throw e=f,jl(M([c,a,b,d])),dm(["All clauses in 'or' must use same set of free vars, had ",
fl.F(M([e]))," not bound in ",fl.F(M([c]))].join(""),new p(null,3,[rp,zr,bt,c,Xr,e],null));e=J(e);f=null;h=0}k=0}else return null}var SN=function SN(a){switch(arguments.length){case 2:return SN.j(arguments[0],arguments[1]);case 3:return SN.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};SN.j=function(a,b){return SN.C(a,b,b)};
SN.C=function(a,b,c){for(;;){var d=$M,e=b;if(q(function(){var O=new W(null,1,5,Y,[new W(null,2,5,Y,[we,gx],null)],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return ZN(YN(a),Zh(bN,J(H(b))),b),IN(a,b);if(q(function(){var O=new W(null,2,5,Y,[new W(null,2,5,Y,[we,gx],null),dq],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return ZN(YN(a),Zh(bN,J(H(b))),b),JN(a,b);if(q(function(){var O=new W(null,2,5,Y,[aN,gx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var f=E(b);c=H(f);f=J(f);var h=
tN;tN=B.j(Jw.B(a),c);try{return SN.C(a,f,b)}finally{tN=h}}else{if(q(function(){var O=new W(null,2,5,Y,[jr,gx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var k=b,m=E(k),n=H(m),r=J(m);f=n;h=r;var u=$N(YN(a),h,b),w=Lh.j(function(O){return function(U){return bO.j?bO.j(O,U):bO.call(null,O,U)}}(a,b,c,k,m,n,r,f,h,u,d,e),h);b=Lh.j(function(){return function(O){return v.j(xN,Pv.B(O))}}(a,b,c,k,m,n,r,f,h,u,w,d,e),w);return Q.C(H(w),Pv,new W(null,1,5,Y,[v.j(fN,b)],null))}if(q(function(){var O=new W(null,
3,5,Y,[kp,new W(null,2,5,Y,[new W(null,1,5,Y,[gx],null),gx],null),gx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){h=E(b);f=H(h);h=J(h);k=H(h);f=J(h);k=E(k);h=H(k);k=J(k);u=h;h=f;f=YN(a);ZN(f,u,c);aO(f,k,h);c=Vg(kp,T.j(u,k),h);f=b;b=c;c=f;continue}else{if(q(function(){var O=new W(null,3,5,Y,[kp,new W(null,1,5,Y,[gx],null),gx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){n=b;r=E(n);var A=H(r),G=J(r);f=A;var I=H(G),F=J(G);k=I;h=F;var N=tk(k);u=aO(YN(a),N,h);m=XN(a,N);w=Lh.j(function(O,
U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb){return function(ec){return XN(bO.j?bO.j(yb,ec):bO.call(null,yb,ec),Ua)}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,d,e),h);b=Lh.j(function(){return function(O){return v.j(xN,Pv.B(O))}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,w,d,e),w);b=v.j(fN,b);return ii.O(a,Pv,CN,b)}if(q(function(){var O=new W(null,2,5,Y,[Bv,gx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return c=E(b),b=H(c),c=J(c),f=b,b=c,v.C(bO,a,b);if(q(function(){var O=new W(null,2,5,Y,[sx,gx],null),U=e;return d.j?
d.j(O,U):d.call(null,O,U)}())){f=E(b);b=H(f);h=J(f);f=b;b=h;f=YN(a);h=tk(PN(b));if(Bf(GH.j(f,h)))throw dm(["Insufficient bindings: none of ",fl.F(M([h]))," is bound in ",fl.F(M([c]))].join(""),new p(null,2,[rp,zr,bt,c],null));u=null;a=Q.C(a,Pv,new W(null,1,5,Y,[v.j(xN,Pv.B(a))],null));b=v.C(bO,a,b);b=yN(H(Pv.B(a)),v.j(xN,Pv.B(b)));return Q.C(a,Pv,new W(null,1,5,Y,[b],null))}if(q(function(){var O=new W(null,3,5,Y,[Aq,new W(null,1,5,Y,[gx],null),gx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return b=
E(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=YN(a),u=ZN(f,k,c),a=Q.C(a,Pv,new W(null,1,5,Y,[v.j(xN,Pv.B(a))],null)),m=XN(a,k),b=XN(v.C(bO,m,b),k),b=yN(H(Pv.B(a)),v.j(xN,Pv.B(b))),Q.C(a,Pv,new W(null,1,5,Y,[b],null));if(q(function(){var O=new W(null,1,5,Y,[gx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){c=tN;b=VN(c,b);f=BN(c,b);h=sN;sN=(null!=c?l===c.tg||(c.yd?0:Ac(lJ,c)):Ac(lJ,c))?WN(c,b):sN;try{return ii.O(a,Pv,CN,f)}finally{sN=h}}else throw Error(["No matching clause: ",t.B(e)].join(""));}}break}};
SN.$=3;var bO=function bO(a,b){if(KN(a,b))if(aN(H(b))){var d=tN;tN=B.j(Jw.B(a),H(b));try{var e=J(b);return bO.j?bO.j(a,e):bO.call(null,a,e)}finally{tN=d}}else return ii.O(a,Pv,CN,RN(a,b));else return SN.j(a,b)};function cO(a,b){var c=tN;tN=B.j(Jw.B(a),Dp);try{return v.C(bO,a,b)}finally{tN=c}}
function UN(a){switch(arguments.length){case 2:return TN(arguments[0],arguments[1]);case 3:return dO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function TN(a,b){a=Pv.B(a);return dO(new W(null,1,5,Y,[Array(K(b))],null),a,b)}
function dO(a,b,c){for(;;){var d=H(b);if(null==d)return a;var e=d,f=nk(Bt.B(e),c);if(Bf(f)){var h=a,k=J(b),m=c;a=h;b=k;c=m}else{var n=Wf(Lh.j(function(u,w,A,G){return function(I){return B.j(G,I)}}(a,b,c,f,e,d),c)),r=K(c);h=function(){return function(u,w,A,G,I,F,N,O){return function va(ea){return new Jg(null,function(wa,xa,Ra,ka,oa,Ca,ua,Ba){return function(){for(var Ua=ea;;){var ac=E(Ua);if(ac){var yb=ac,ec=H(yb);if(ac=E(function(Xb,Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd){return function oo(Jq){return new Jg(null,
function(Kq,mj,po,Ey,Lq,qo,Fy,Mq,Nq){return function(){for(;;){var nj=E(Jq);if(nj){if(If(nj)){var Oq=ae(nj),Pq=K(Oq),ro=Ng(Pq);return function(){for(var Zl=0;;)if(Zl<Pq){for(var oj=x(Oq,Zl),Ak=ro,Rt=Hc(Lq),$l=0;;)if($l<Nq){var Yg=Mq[$l];null!=Yg&&(Rt[$l]=oj[Yg]);$l+=1}else break;Ak.add(Rt);Zl+=1}else return!0}()?Qg(Sg(ro),oo(be(nj))):Qg(Sg(ro),null)}var Qt=H(nj);return hf(function(){for(var Zl=Hc(Lq),oj=0;;)if(oj<Nq){var Ak=Mq[oj];null!=Ak&&(Zl[oj]=Qt[Ak]);oj+=1}else break;return Zl}(),oo(Fe(nj)))}return null}}}(Xb,
Pd,Zf,zf,Og,Yc,Ad,te,$f,Bd,ue,Cd),null,null)}}(Ua,wa,xa,Ra,ec,yb,ac,ka,oa,Ca,ua,Ba)(Xt.B(ua))))return T.j(ac,va(Fe(Ua)));Ua=Fe(Ua)}else return null}}}(u,w,A,G,I,F,N,O),null,null)}}(a,b,c,n,r,f,e,d)(a)}();k=J(b);m=c;a=h;b=k;c=m}}}function eO(a,b){return tk(Lh.j(Yf,TN(a,b)))}
function fO(a,b){if(null!=a&&null!=a.we)a=a.we(a,b);else{var c=fO[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=fO._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IContextResolve.-context-resolve",a);}return a}HL.prototype.we=function(a,b){return EN(b,this.symbol)};JL.prototype.we=function(a,b){return ei(b,new W(null,2,5,Y,[Jw,this.symbol],null))};NL.prototype.we=function(){var a=B.j(mN,this.symbol);return q(a)?a:null};ML.prototype.we=function(){return this.value};
function gO(a,b,c){return bi.O(function(d,e,f){if(oM(d)){e=fO(Jz.B(d),b);d=Lh.j(function(k){return fO(k,b)},vk(Kz.B(d)));var h=Lh.j(function(k){return bf(k,f)},c);return gh(e,T.j(d,new W(null,1,5,Y,[h],null)))}return e},a,H(c),Gk.N())}function hO(a){var b=uh(oM);return $h(vc,Lh.C(function(c,d){return q(b.B?b.B(c):b.call(null,c))?d:null},a,Gk.N()))}
function iO(a,b,c){var d=hO(a);return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u);P(w,0,null);w=P(w,1,null);w=gO(a,b,w);r.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}r=H(k);P(r,0,null);r=P(r,1,null);return hf(gO(a,b,r),h(Fe(k)))}return null}},null,null)}(Il(function(f){return Lh.j(function(h){return bf(f,h)},d)},c))}
function jO(a,b){return v.C(function(c,d){return pf.j(c,a.B?a.B(d):a.call(null,d))},sf(b),b)}function kO(a,b){var c=Ex.B(a),d=Gk.j(0,K(c));return jO(function(e){return v.C(function(f,h){return Q.C(f,bf(c,h),bf(e,h))},V,d)},b)}function lO(a,b,c){if(null!=a&&null!=a.xe)a=a.xe(a,b,c);else{var d=lO[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=lO._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IPostProcess.-post-process",a);}return a}
kM.prototype.xe=function(a,b,c){return null==b?c:kO(b,c)};lM.prototype.xe=function(a,b,c){return ai.C(qf,Lh.B(H),c)};mM.prototype.xe=function(a,b,c){return nf(c)};nM.prototype.xe=function(a,b,c){return null!=b?H(kO(b,new W(null,1,5,Y,[H(c)],null))):H(c)};
function mO(a,b,c){var d=function(){return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u);w=pM(w)?new W(null,2,5,Y,[fO(cn.B(w),b),IK(fO(Pz.B(w),b))],null):null;r.add(w);u+=1}else{m=!0;break a}return m?Qg(Sg(r),h(be(k))):Qg(Sg(r),null)}r=H(k);return hf(pM(r)?new W(null,2,5,Y,[fO(cn.B(r),b),IK(fO(Pz.B(r),b))],null):null,h(Fe(k)))}return null}},null,null)}(a)}();return function h(f){return new Jg(null,function(){for(;;){var k=
E(f);if(k){var m=k;if(If(m)){var n=ae(m),r=K(n),u=Ng(r);return function(){for(var A=0;;)if(A<r){var G=x(n,A);Rg(u,bi.C(function(){return function(I,F){if(q(I)){var N=P(I,0,null);I=P(I,1,null);return dL(N,I,new W(null,1,5,Y,[F],null))}return F}}(A,G,n,r,u,m,k,d),d,G));A+=1}else return!0}()?Qg(Sg(u),h(be(m))):Qg(Sg(u),null)}var w=H(m);return hf(bi.C(function(){return function(A,G){if(q(A)){var I=P(A,0,null);A=P(A,1,null);return dL(I,A,new W(null,1,5,Y,[G],null))}return G}}(w,m,k,d),d,w),h(Fe(m)))}return null}},
null,null)}(c)}var nO=Hh(gL(V,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;a:for(b=E(b),d=gk;;)if(b)c=J(J(b)),d=Q.C(d,H(b),mf(b)),b=c;else break a;return d}(),V,0,100));function oO(a){var b=B.C(y(nO),a,null);return null==b?(b=VM(a),nO.Jc(null,Q.C(nO.ub(null),a,b)),b):b}
function ND(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return pO(arguments[0],b)}function pO(a,b){var c=oO(a),d=wq.B(c),e=jM(d),f=Xh(gM,M([jM(d)])),h=K(e),k=Nz.B(c);f=T.j(f,Lh.j(Bw,k));a=Ef(a)?SM(a):a;k=gp.B(a);b=rN(new WM(qf,V,V,null,null,null),Vx.B(c),b);f=eO(cO(b,k),f);f=q(GA.B(a))?bi.j(function(m){return Yf(Mi(m,0,h))},f):f;f=q(sh(oM,e))?iO(e,b,f):f;e=q(sh(pM,e))?mO(e,b,f):f;return lO(d,hw.B(c),e)};function qO(a,b){var c=Ch(null);Eh.j(a,function(d){var e=eK;d=new p(null,5,[ao,d,pu,d,Or,qf,BB,V,Go,null],null);var f=R.F(d,ao,M([pu,Or,BB,Go]));f=Gf(d)?ai.j(V,f):f;d=new JJ(ao.B(d),pu.B(d),Or.B(d),BB.B(d),Go.B(d),null,mh(f),null);e=e(d,b);Dh(c,e);return pu.B(e)});return y(c)}
function rO(a){var b=MD;a=qO(b,a);b=Yt.B(yf(b));b=null==b?null:y(b);b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);P(f,0,null);f=P(f,1,null);f.B?f.B(a):f.call(null,a);e+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),c=d,d=K(d)):(c=H(b),P(c,0,null),c=P(c,1,null),c.B?c.B(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}function sO(a){var b=MD,c=Gl.N();Eh.O(Yt.B(yf(b)),Q,c,a)}
for(var tO=E(new p(null,2,[Ys,function(a){return gh(DI,a)},pv,function(a){var b=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;a=B.j(b,Nr);b=B.j(b,Fq);return DJ(Lh.j(function(c){var d=P(c,0,null),e=P(c,1,null),f=P(c,2,null);c=P(c,3,null);return DI.O(d,e,f,c)},b),a)}],null)),uO=null,vO=0,wO=0;;)if(wO<vO){var xO=uO.xa(null,wO),yO=P(xO,0,null),zO=P(xO,1,null),AO=yO,BO=zO;B.j(y(DH),AO);Eh.O(DH,Q,AO,BO);wO+=1}else{var CO=E(tO);if(CO){var DO=CO;if(If(DO)){var EO=ae(DO),FO=be(DO),GO=EO,HO=K(EO);tO=FO;uO=GO;vO=HO}else{var IO=
H(DO),JO=P(IO,0,null),KO=P(IO,1,null),LO=JO,MO=KO;B.j(y(DH),LO);Eh.O(DH,Q,LO,MO);tO=J(DO);uO=null;vO=0}wO=0}else break};var MD,NO=new p(null,3,[jB,new p(null,1,[Bm,Jy],null),px,new p(null,2,[iA,cz,$t,Ox],null),Np,new p(null,2,[iA,cz,$t,DA],null)],null),OO=tJ?tJ(NO):uJ.call(null,NO),PO=M([rc,new p(null,1,[Yt,Ch(V)],null)]),QO=null!=PO&&(PO.J&64||l===PO.va)?gh(hk,PO):PO,RO=B.j(QO,rc),SO=B.j(QO,ht);MD=new Bh(OO,RO,SO);function TO(a){return rO(new W(null,1,5,Y,[new W(null,2,5,Y,[Op,a],null)],null))}
function UO(){var a=new W(null,7,5,Y,[br,new W(null,2,5,Y,[Cg(ow,eB,new W(null,2,5,Y,[ls,new p(null,1,[Np,new W(null,1,5,Y,[gx],null)],null)],null)),Ru],null),WA,Dp,gp,new W(null,2,5,Y,[eB,jB],null),new W(null,1,5,Y,[Cg(Cr,Dp,eB,px)],null)],null),b=y(MD);return ND.j?ND.j(a,b):ND.call(null,a,b)};nC(jB,Co,function(a){return"string"==typeof a});nC(Is,new qk(null,new p(null,6,[Jp,"null",wp,"null",Zp,"null",Lu,"null",to,"null",Dq,"null"],null),null),new qk(null,new p(null,6,[Jp,null,wp,null,Zp,null,Lu,null,to,null,Dq,null],null),null));
nC(Hq,Cg(tv,Mw,new W(null,2,5,Y,[jB,Is],null)),function VO(a){var c=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,d=B.j(c,$A),e=B.j(c,ws),f=B.j(c,Ko),h=B.j(c,Mu),k=B.j(c,Qv),m=B.j(c,kv),n=B.j(c,Wz),r=B.j(c,Vw),u=B.j(c,Mw),w=B.j(c,AA),A=B.j(c,Lv),G=B.j(c,wu),I=wk(T.j(w,n),T.j(r,A)),F=bm();if("undefined"===typeof fc||"undefined"===typeof GB||"undefined"===typeof RB||"undefined"===typeof SB)SB=function(N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Pd){this.Ze=N;this.bi=O;this.pi=U;this.fi=ea;this.Jd=va;
this.ii=wa;this.$e=xa;this.$f=Ra;this.di=ka;this.oi=oa;this.req=Ca;this.id=ua;this.Gh=Ba;this.ni=Ua;this.ei=ac;this.Ch=yb;this.ji=ec;this.gi=Xb;this.Lh=Pd;this.J=393216;this.T=0},SB.prototype.ea=function(N,O){return new SB(this.Ze,this.bi,this.pi,this.fi,this.Jd,this.ii,this.$e,this.$f,this.di,this.oi,this.req,this.id,this.Gh,this.ni,this.ei,this.Ch,this.ji,this.gi,O)},SB.prototype.da=function(){return this.Lh},SB.prototype.zd=function(){return this},SB.prototype.Ad=function(){return this},SB.prototype.Se=
l,SB.prototype.pe=function(N,O){if(q(this.$e.B?this.$e.B(O):this.$e.call(null,O))){N=y(YB);var U=E(O),ea=H(U);J(U);P(ea,0,null);P(ea,1,null);for(ea=U=O;;){O=U;var va=ea;ea=E(va);U=H(ea);var wa=J(ea);ea=U;U=P(ea,0,null);ea=P(ea,1,null);if(q(va))if(va=this.Ze.B?this.Ze.B(U):this.Ze.call(null,U),va=B.j(N,va),q(va)){var xa=ea;va=WB(lC.B(va),xa);if(S(qt,va))return qt;O=va===ea?O:Q.C(O,U,va);ea=wa;U=O}else ea=wa,U=O;else return O}}else return qt},SB.prototype.qe=function(N,O){N=Q.C(this.$f,Mu,O);return VO.B?
VO.B(N):VO.call(null,N)},SB.Mb=!0,SB.wb="cljs.spec.alpha/t_cljs$spec$alpha21599",SB.Wb=function(N){return Jd(N,"cljs.spec.alpha/t_cljs$spec$alpha21599")};return new SB(function(N){var O=I.B?I.B(N):I.call(null,N);return q(O)?O:N},d,e,f,h,k,m,c,n,r,u,F,c,w,A,I,G,a,V)}(Oj([ws,Ko,Mu,Qv,kv,Wz,Vw,Mw,AA,Lv,wu,$A],[null,null,null,new W(null,3,5,Y,[function(a){return Ff(a)},function(a){return Pf(a,jB)},function(a){return Pf(a,Is)}],null),function(a){return Ff(a)&&Pf(a,jB)&&Pf(a,Is)},qf,new W(null,2,5,Y,[jB,
Is],null),new W(null,2,5,Y,[jB,Is],null),new W(null,2,5,Y,[jB,Is],null),qf,new W(null,3,5,Y,[Cg(jn,new W(null,1,5,Y,[at],null),Cg(Dr,at)),Cg(jn,new W(null,1,5,Y,[at],null),Cg(Dw,at,jB)),Cg(jn,new W(null,1,5,Y,[at],null),Cg(Dw,at,Is))],null),null])));nC(iv,Cg(Vq,Hq),sC(Hq,Hq,new p(null,4,[zn,null,Sr,function(a){return Cf(a)},wB,!0,Sy,Cg(Vq,Hq)],null),null));var WO={},XO,YO,ZO,$O={};function aP(a,b){if(null!=a&&null!=a.xf)a=a.xf(a,b);else{var c=aP[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=aP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ReadPort.take!",a);}return a}function bP(a,b,c){if(null!=a&&null!=a.Re)a=a.Re(a,b,c);else{var d=bP[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=bP._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("WritePort.put!",a);}return a}
function cP(a){if(null!=a&&null!=a.ne)a=a.ne(a);else{var b=cP[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=cP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Channel.close!",a);}return a}function dP(a){if(null!=a&&null!=a.dc)a=a.dc(a);else{var b=dP[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=dP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Handler.active?",a);}return a}
function eP(a){if(null!=a&&null!=a.Vb)a=a.Vb(a);else{var b=eP[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=eP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Handler.commit",a);}return a}function fP(a,b){if(null!=a&&null!=a.wf)a=a.wf(a,b);else{var c=fP[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=fP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Buffer.add!*",a);}return a}
var gP=function gP(a){switch(arguments.length){case 1:return gP.B(arguments[0]);case 2:return gP.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};gP.B=function(a){return a};gP.j=function(a,b){return fP(a,b)};gP.$=2;function hP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function iP(a){this.length=this.tail=this.head=0;this.K=a}g=iP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.K[this.tail];this.K[this.tail]=null;this.tail=(this.tail+1)%this.K.length;--this.length;return a};g.unshift=function(a){this.K[this.head]=a;this.head=(this.head+1)%this.K.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.K.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.K.length);return this.tail<this.head?(hP(this.K,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.K=a):this.tail>this.head?(hP(this.K,this.tail,a,0,this.K.length-this.tail),hP(this.K,0,a,this.K.length-this.tail,this.head),this.tail=0,this.head=this.length,this.K=a):this.tail===this.head?(this.head=this.tail=0,this.K=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.B?a.B(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function jP(a){return new iP(Array(a))}function kP(a,b){this.Da=a;this.n=b;this.J=2;this.T=0}kP.prototype.Qe=function(){return this.Da.length>=this.n};kP.prototype.wf=function(a,b){this.Da.unbounded_unshift(b);return this};kP.prototype.ha=function(){return this.Da.length};function lP(a,b){this.Da=a;this.n=b;this.J=2;this.T=0}lP.prototype.Qe=function(){return!1};
lP.prototype.wf=function(a,b){this.Da.length===this.n&&this.Da.pop();this.Da.unshift(b);return this};lP.prototype.ha=function(){return this.Da.length};function mP(a){return new lP(jP(a),a)};function nP(){return Fb("iPhone")&&!Fb("iPod")&&!Fb("iPad")};var oP=Fb("Opera"),pP=Fb("Trident")||Fb("MSIE"),qP=Fb("Edge"),rP=Fb("Gecko")&&!(xb("WebKit")&&!Fb("Edge"))&&!(Fb("Trident")||Fb("MSIE"))&&!Fb("Edge"),sP=xb("WebKit")&&!Fb("Edge");sP&&Fb("Mobile");Fb("Macintosh");Fb("Windows");Fb("Linux")||Fb("CrOS");var tP=ma.navigator||null;tP&&(tP.appVersion||"").indexOf("X11");Fb("Android");nP();Fb("iPad");Fb("iPod");nP()||Fb("iPad")||Fb("iPod");xb("KaiOS");xb("GAFP");function uP(){var a=ma.document;return a?a.documentMode:void 0}var vP;
a:{var wP="",xP=function(){var a=zb;if(rP)return/rv:([^\);]+)(\)|;)/.exec(a);if(qP)return/Edge\/([\d\.]+)/.exec(a);if(pP)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(sP)return/WebKit\/(\S+)/.exec(a);if(oP)return/(?:Version)[ \/]?(\S+)/.exec(a)}();xP&&(wP=xP?xP[1]:"");if(pP){var yP=uP();if(null!=yP&&yP>parseFloat(wP)){vP=String(yP);break a}}vP=wP}var La={};
function zP(a){return Ka(a,function(){{var b=0;const e=wb(String(vP)).split("."),f=wb(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Ab(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Ab(0==c[2].length,0==d[2].length)||Ab(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var AP;
AP=ma.document&&pP?uP():void 0;!rP&&!pP||pP&&9<=Number(AP)||rP&&zP("1.9.1");pP&&zP("9");function BP(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var CP;
function DP(){var a=ma.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Fb("Presto")&&(a=function(){var e=BP(eb);e.style.display="none";Kb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Ib());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Fa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Fb("Trident")&&!Fb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.de;c.de=null;e()}};return function(e){d.next={de:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in BP(fb)?function(e){var f=BP(fb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ma.setTimeout(e,0)}};var EP=jP(32),FP=!1,GP=!1;function HP(){FP=!0;GP=!1;for(var a=0;;){var b=EP.pop();if(null!=b&&(b.N?b.N():b.call(null),1024>a)){a+=1;continue}break}FP=!1;return 0<EP.length?IP.N?IP.N():IP.call(null):null}function IP(){if(GP&&FP)return null;GP=!0;!sa(ma.setImmediate)||ma.Window&&ma.Window.prototype&&!Fb("Edge")&&ma.Window.prototype.setImmediate==ma.setImmediate?(CP||(CP=DP()),CP(HP)):ma.setImmediate(HP)}function JP(a){EP.unbounded_unshift(a);IP()}function KP(a,b){setTimeout(a,b)};var LP={},MP;
function NP(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof $O||"undefined"===typeof LP||"undefined"===typeof MP)MP=function(b,c){this.val=b;this.Uh=c;this.J=425984;this.T=0},MP.prototype.ea=function(b,c){return new MP(this.val,c)},MP.prototype.da=function(){return this.Uh},MP.prototype.ub=function(){return this.val},MP.Mb=!0,MP.wb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels27729",MP.Wb=function(b){return Jd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels27729")};return new MP(a,
V)}function OP(a,b){this.handler=a;this.val=b}function PP(a){return dP(a.handler)}function QP(a,b,c,d){this.Yd=a;this.We=0;this.od=b;this.Ve=0;this.Da=c;this.closed=!1;this.tc=d}function RP(a){for(;;){var b=a.od.pop();if(null!=b){var c=b.handler,d=b.val;if(c.dc(null)){var e=c.Vb(null);JP(function(f){return function(){return f.B?f.B(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.od.cleanup(vh(!1));a.ne(null)}
QP.prototype.Re=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.dc(null))return NP(!f);if(q(function(){var u=d.Da;return q(u)?yc(d.Da.Qe()):u}())){c.Vb(null);var h=Re(d.tc.j?d.tc.j(d.Da,b):d.tc.call(null,d.Da,b));c=function(){for(var u=qf;;)if(0<d.Yd.length&&0<K(d.Da)){var w=d.Yd.pop();if(w.dc(null)){var A=w.Vb(null),G=d.Da.Da.pop();u=pf.j(u,function(I,F,N){return function(){return F.B?F.B(N):F.call(null,N)}}(u,A,G,w,h,f,e))}}else return u}();h&&RP(e);if(E(c)){c=E(c);a=null;for(var k=0,m=0;;)if(m<
k){var n=a.xa(null,m);JP(n);m+=1}else if(c=E(c))a=c,If(a)?(c=ae(a),m=be(a),a=c,k=K(c),c=m):(c=H(a),JP(c),c=J(a),a=null,k=0),m=0;else break}return NP(!0)}a=function(){for(;;){var u=d.Yd.pop();if(q(u)){if(q(u.dc(null)))return u}else return null}}();if(q(a)){var r=a.Vb(null);c.Vb(null);JP(function(){return r.B?r.B(b):r.call(null,b)});return NP(!0)}64<d.Ve?(d.Ve=0,d.od.cleanup(PP)):d.Ve+=1;q(c.oe())&&d.od.unbounded_unshift(new OP(c,b));return null};
QP.prototype.xf=function(a,b){var c=this;if(b.dc(null)){if(null!=c.Da&&0<K(c.Da)){a=b.Vb(null);if(q(a)){var d=c.Da.Da.pop(),e=yc(c.Da.Qe())&&0<c.od.length?function(){for(var I=qf;;){var F=c.od.pop(),N=F.handler;F=F.val;N=N.dc(null)?N.Vb(null):!1;I=q(N)?pf.j(I,N):I;F=q(N)?Re(c.tc.j?c.tc.j(c.Da,F):c.tc.call(null,c.Da,F)):null;if(!(yc(F)&&yc(c.Da.Qe())&&0<c.od.length))return new W(null,2,5,Y,[F,I],null)}}():null,f=P(e,0,null),h=P(e,1,null);q(f)&&RP(this);for(var k=E(h),m=null,n=0,r=0;;)if(r<n){var u=
m.xa(null,r);JP(function(I,F,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,r,u,d,e,f,h,a,a,this));r+=1}else{var w=E(k);if(w){u=w;if(If(u))k=ae(u),r=be(u),m=k,n=K(k),k=r;else{var A=H(u);JP(function(I,F,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,r,A,u,w,d,e,f,h,a,a,this));k=J(u);m=null;n=0}r=0}else break}return NP(d)}return null}a=function(){for(;;){var I=c.od.pop();if(q(I)){if(dP(I.handler))return I}else return null}}();if(q(a)){var G=eP(a.handler);b.Vb(null);
JP(function(){return G.B?G.B(!0):G.call(null,!0)});return NP(a.val)}if(q(c.closed))return q(c.Da)&&(c.tc.B?c.tc.B(c.Da):c.tc.call(null,c.Da)),q(function(){var I=b.dc(null);return q(I)?b.Vb(null):I}())?(a=function(){var I=c.Da;return q(I)?0<K(c.Da):I}(),d=q(a)?c.Da.Da.pop():null,NP(d)):null;64<c.We?(c.We=0,c.Yd.cleanup(dP)):c.We+=1;q(b.oe())&&c.Yd.unbounded_unshift(b)}return null};
QP.prototype.ne=function(){var a=this;if(!a.closed)for(a.closed=!0,q(function(){var e=a.Da;return q(e)?0===a.od.length:e}())&&(a.tc.B?a.tc.B(a.Da):a.tc.call(null,a.Da));;){var b=a.Yd.pop();if(null!=b){if(b.dc(null)){var c=b.Vb(null),d=q(function(){var e=a.Da;return q(e)?0<K(a.Da):e}())?a.Da.Da.pop():null;JP(function(e,f){return function(){return e.B?e.B(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function SP(a){console.log(a);return null}
function TP(a,b){var c=q(null)?null:SP;b=c.B?c.B(b):c.call(null,b);return null==b?a:gP.j(a,b)}
function UP(a,b){return new QP(jP(32),jP(32),a,function(){var c=q(b)?b.B?b.B(gP):b.call(null,gP):gP;return function(){function d(h,k){try{return c.j?c.j(h,k):c.call(null,h,k)}catch(m){return TP(h,m)}}function e(h){try{return c.B?c.B(h):c.call(null,h)}catch(k){return TP(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}()}())};function VP(a,b,c){this.key=a;this.val=b;this.forward=c;this.J=2155872256;this.T=0}VP.prototype.ga=function(){return new rf(null,this.key,new rf(null,this.val,null,1,null),2,null)};VP.prototype.fa=function(a,b,c){return Z(b,Zk,"["," ","]",c,this)};function WP(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new VP(a,b,c)}
function XP(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(q(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function YP(){this.header=WP(null,null,0);this.level=0;this.J=2155872256;this.T=0}g=YP.prototype;
g.put=function(a,b){var c=Array(15),d=XP(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=WP(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=XP(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return D.j(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};
g.ga=function(){return function c(b){return new Jg(null,function(){return null==b?null:hf(new W(null,2,5,Y,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"{",", ","}",c,this)};var ZP=new YP;function $P(a){var b=(new Date).valueOf()+a,c=ZP.ceilingEntry(b);c=q(q(c)?c.key<b+10:c)?c.val:null;if(q(c))return c;var d=UP(null,null);ZP.put(b,d);KP(function(){ZP.remove(b);return cP(d)},a);return d};var aQ={},bQ;
function cQ(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof $O||"undefined"===typeof aQ||"undefined"===typeof bQ)bQ=function(b,c){this.f=b;this.Vh=c;this.J=393216;this.T=0},bQ.prototype.ea=function(b,c){return new bQ(this.f,c)},bQ.prototype.da=function(){return this.Vh},bQ.prototype.dc=function(){return!0},bQ.prototype.oe=function(){return!0},bQ.prototype.Vb=function(){return this.f},bQ.Mb=!0,bQ.wb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29652",bQ.Wb=
function(b){return Jd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29652")};return new bQ(a,V)}function dQ(a){try{var b=a[0];return b.B?b.B(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].ne(null),b;throw c;}}function eQ(a,b,c){c=c.xf(null,cQ(function(d){a[2]=d;a[1]=b;return dQ(a)}));return q(c)?(a[2]=y(c),a[1]=b,xn):null}function fQ(a,b,c){b=b.Re(null,c,cQ(function(d){a[2]=d;a[1]=11;return dQ(a)}));return q(b)?(a[2]=y(b),a[1]=11,xn):null}
function gQ(a,b){a=a[6];null!=b&&a.Re(null,b,cQ(function(){return null}));a.ne(null);return a};function hQ(a,b){return iQ(a,b)}function iQ(a,b){a=D.j(a,0)?null:a;return UP("number"===typeof a?new kP(jP(a),a):a,b)}
var jQ=function(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof XO)XO=function(b,c,d){this.f=b;this.eg=c;this.Wh=d;this.J=393216;this.T=0},XO.prototype.ea=function(b,c){return new XO(this.f,this.eg,c)},XO.prototype.da=function(){return this.Wh},XO.prototype.dc=function(){return!0},XO.prototype.oe=function(){return this.eg},XO.prototype.Vb=function(){return this.f},XO.Mb=!0,XO.wb="cljs.core.async/t_cljs$core$async29900",XO.Wb=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async29900")};return new XO(a,!0,V)}(function(){return null});function kQ(a,b){a=bP(a,b,jQ);return q(a)?y(a):!0}function lQ(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;cb(b);return b}
function mQ(){var a=Ch(!0);if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof YO)YO=function(b,c){this.Id=b;this.Xh=c;this.J=393216;this.T=0},YO.prototype.ea=function(b,c){return new YO(this.Id,c)},YO.prototype.da=function(){return this.Xh},YO.prototype.dc=function(){return y(this.Id)},YO.prototype.oe=function(){return!0},YO.prototype.Vb=function(){Dh(this.Id,null);return!0},YO.Mb=!0,YO.wb="cljs.core.async/t_cljs$core$async30011",YO.Wb=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async30011")};return new YO(a,V)}
function nQ(a,b){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof WO||"undefined"===typeof ZO)ZO=function(c,d,e){this.Id=c;this.de=d;this.Yh=e;this.J=393216;this.T=0},ZO.prototype.ea=function(c,d){return new ZO(this.Id,this.de,d)},ZO.prototype.da=function(){return this.Yh},ZO.prototype.dc=function(){return dP(this.Id)},ZO.prototype.oe=function(){return!0},ZO.prototype.Vb=function(){eP(this.Id);return this.de},ZO.Mb=!0,ZO.wb="cljs.core.async/t_cljs$core$async30032",ZO.Wb=function(c){return Jd(c,
"cljs.core.async/t_cljs$core$async30032")};return new ZO(a,b,V)}
function oQ(a,b,c){var d=mQ(),e=K(b),f=lQ(e),h=Sz.B(c),k=function(){for(var m=0;;)if(m<e){var n=q(h)?m:f[m],r=bf(b,n),u=Hf(r)?r.B?r.B(0):r.call(null,0):null,w=q(u)?function(){var A=r.B?r.B(1):r.call(null,1);return bP(u,A,nQ(d,function(G,I,F,N,O){return function(U){U=new W(null,2,5,Y,[U,O],null);return a.B?a.B(U):a.call(null,U)}}(m,A,n,r,u,d,e,f,h)))}():aP(r,nQ(d,function(A,G,I){return function(F){F=new W(null,2,5,Y,[F,I],null);return a.B?a.B(F):a.call(null,F)}}(m,n,r,u,d,e,f,h)));if(q(w))return NP(new W(null,
2,5,Y,[y(w),function(){var A=u;return q(A)?A:r}()],null));m+=1}else return null}();return q(k)?k:Pf(c,Xl)?(k=function(){var m=d.dc(null);return q(m)?d.Vb(null):m}(),q(k)?NP(new W(null,2,5,Y,[Xl.B(c),Xl],null)):null):null}
function pQ(a,b){var c=iQ(1,null);JP(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,xn):1===k?(h[2]=null,h[1]=2,xn):4===k?(k=h[2],h[7]=k,h[1]=q(null==k)?5:6,xn):13===k?(h[2]=null,h[1]=14,xn):6===k?(k=h[7],fQ(h,b,k)):3===k?gQ(h,h[2]):12===k?(h[2]=null,h[1]=2,xn):2===k?eQ(h,4,a):11===k?(h[1]=q(h[2])?12:13,xn):9===k?(h[2]=null,h[1]=10,xn):5===k?(h[1]=q(!0)?8:9,xn):14===k||10===k?(h[2]=h[2],h[1]=7,xn):8===k?(k=cP(b),h[2]=k,h[1]=10,xn):null}return function(){function h(n){for(;;){a:try{for(;;){var r=
f(n);if(!S(r,xn)){var u=r;break a}}}catch(w){u=w;n[2]=u;if(E(n[4]))n[1]=H(n[4]);else throw u;u=xn}if(!S(u,xn))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.N=k;m.B=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return dQ(e)})}
function qQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new De(b.slice(3),0,null):null;return rQ(arguments[0],arguments[1],arguments[2],b)}function rQ(a,b,c,d){d=null!=d&&(d.J&64||l===d.va)?gh(hk,d):d;a[1]=b;b=oQ(function(e){a[2]=e;return dQ(a)},c,d);return q(b)?(a[2]=y(b),xn):null}
function sQ(a,b){var c=iQ(b,null),d=iQ(1,null);JP(function(){var e=function(){function h(k){var m=k[1];if(7===m){m=k[7];m=k[2];var n=P(m,0,null),r=P(m,1,null);k[9]=r;k[7]=n;k[8]=m;k[1]=q(null==n)?8:9;return xn}return 1===m?(m=Yf(a),k[10]=m,k[2]=null,k[1]=2,xn):4===m?(m=k[10],qQ(k,7,m)):6===m?(k[2]=k[2],k[1]=3,xn):3===m?gQ(k,k[2]):2===m?(m=k[10],m=0<K(m),k[1]=q(m)?4:5,xn):11===m?(m=k[10],k[11]=k[2],k[10]=m,k[2]=null,k[1]=2,xn):9===m?(m=k[7],fQ(k,c,m)):5===m?(m=cP(c),k[2]=m,k[1]=6,xn):10===m?(k[2]=
k[2],k[1]=6,xn):8===m?(r=k[9],m=k[7],m=k[10],m=ci(function(){var u=r;return function(w){return lh.j(u,w)}}(),m),k[10]=m,k[2]=null,k[1]=2,xn):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!S(u,xn)){var w=u;break a}}}catch(A){w=A;r[2]=w;if(E(r[4]))r[1]=H(r[4]);else throw w;w=xn}if(!S(w,xn))return w}}function m(){var r=[null,null,null,null,null,null,null,null,null,null,null,null];r[0]=n;r[1]=1;return r}var n=null;n=function(r){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};n.N=m;n.B=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return dQ(f)});return c};function tQ(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,r,u){if("%"==n)return"%";var w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return tQ.hd[n].apply(null,arguments)})}tQ.hd={};
tQ.hd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Mb(" ",Number(c)-a.length):Mb(" ",Number(c)-a.length)+a};
tQ.hd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Mb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Mb(b,a)+d);return d};tQ.hd.d=function(a,b,c,d,e,f,h,k){return tQ.hd.f(parseInt(a,10),b,c,d,0,f,h,k)};
tQ.hd.i=tQ.hd.d;tQ.hd.u=tQ.hd.d;var uQ=!pP||9<=Number(AP),vQ=pP&&!zP("9");!sP||zP("528");rP&&zP("1.9b")||pP&&zP("8")||oP&&zP("9.5")||sP&&zP("528");rP&&!zP("8")||pP&&zP("9");var wQ=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",na,b),ma.removeEventListener("test",na,b)}catch(c){}return a}();function xQ(){0!=yQ&&(zQ[ya(this)]=this);this.Sd=this.Sd;this.Wd=this.Wd}var yQ=0,zQ={};xQ.prototype.Sd=!1;xQ.prototype.yg=function(){if(!this.Sd&&(this.Sd=!0,this.jd(),0!=yQ)){var a=ya(this);if(0!=yQ&&this.Wd&&0<this.Wd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete zQ[a]}};xQ.prototype.jd=function(){if(this.Wd)for(;this.Wd.length;)this.Wd.shift()()};function AQ(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Nd=!1;this.Ng=!0}AQ.prototype.stopPropagation=function(){this.Nd=!0};AQ.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ng=!1};function BQ(a,b){AQ.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.ze=null;a&&this.init(a,b)}Ia(BQ,AQ);var CQ={2:"touch",3:"pen",4:"mouse"};
BQ.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(rP){a:{try{Ja(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=sP||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=sP||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:CQ[a.pointerType]||"";this.state=a.state;this.ze=a;a.defaultPrevented&&this.preventDefault()};BQ.prototype.stopPropagation=function(){BQ.qd.stopPropagation.call(this);this.ze.stopPropagation?this.ze.stopPropagation():this.ze.cancelBubble=!0};
BQ.prototype.preventDefault=function(){BQ.qd.preventDefault.call(this);var a=this.ze;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vQ)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var DQ="closure_listenable_"+(1E6*Math.random()|0),EQ=0;function FQ(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++EQ;this.removed=this.Me=!1}function GQ(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function HQ(a){this.src=a;this.listeners={};this.Je=0}HQ.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Je++);var h=IQ(a,b,d,e);-1<h?(b=a[h],c||(b.Me=!1)):(b=new FQ(b,this.src,f,!!d,e),b.Me=c,a.push(b));return b};
HQ.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=IQ(e,b,c,d);return-1<b?(GQ(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Je--),!0):!1};function JQ(a,b){var c=b.type;c in a.listeners&&Xa(a.listeners[c],b)&&(GQ(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Je--))}
HQ.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,GQ(d[e]);delete this.listeners[c];this.Je--}return b};HQ.prototype.Cf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=IQ(a,b,c,d));return-1<e?a[e]:null};function IQ(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var KQ="closure_lm_"+(1E6*Math.random()|0),LQ={},MQ=0;function NQ(a,b,c,d,e){if(d&&d.once)return OQ(a,b,c,d,e);if(qa(b)){for(var f=0;f<b.length;f++)NQ(a,b[f],c,d,e);return null}c=PQ(c);return a&&a[DQ]?a.ld.add(String(b),c,!1,ta(d)?!!d.capture:!!d,e):QQ(a,b,c,!1,d,e)}
function QQ(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ta(e)?!!e.capture:!!e,k=RQ(a);k||(a[KQ]=k=new HQ(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=SQ();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)wQ||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(TQ(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");MQ++;return c}
function SQ(){var a=UQ,b=uQ?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function OQ(a,b,c,d,e){if(qa(b)){for(var f=0;f<b.length;f++)OQ(a,b[f],c,d,e);return null}c=PQ(c);return a&&a[DQ]?a.ld.add(String(b),c,!0,ta(d)?!!d.capture:!!d,e):QQ(a,b,c,!0,d,e)}
function VQ(a,b,c,d,e){if(qa(b))for(var f=0;f<b.length;f++)VQ(a,b[f],c,d,e);else d=ta(d)?!!d.capture:!!d,c=PQ(c),a&&a[DQ]?a.ld.remove(String(b),c,d,e):a&&(a=RQ(a))&&(b=a.Cf(b,c,d,e))&&WQ(b)}
function WQ(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[DQ])JQ(b.ld,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(TQ(c),d):b.addListener&&b.removeListener&&b.removeListener(d);MQ--;(c=RQ(b))?(JQ(c,a),0==c.Je&&(c.src=null,b[KQ]=null)):GQ(a)}}}function TQ(a){return a in LQ?LQ[a]:LQ[a]="on"+a}
function XQ(a,b,c,d){var e=!0;if(a=RQ(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=YQ(f,d),e=e&&!1!==f)}return e}function YQ(a,b){var c=a.listener,d=a.handler||a.src;a.Me&&WQ(a);return c.call(d,b)}
function UQ(a,b){if(a.removed)return!0;if(!uQ){if(!b)a:{b=["window","event"];for(var c=ma,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new BQ(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Nd&&0<=e;e--){b.currentTarget=d[e];var f=XQ(d[e],a,!0,b);c=c&&f}for(e=0;!b.Nd&&e<d.length;e++)b.currentTarget=
d[e],f=XQ(d[e],a,!1,b),c=c&&f}return c}return YQ(a,new BQ(b,this))}function RQ(a){a=a[KQ];return a instanceof HQ?a:null}var ZQ="__closure_events_fn_"+(1E9*Math.random()>>>0);function PQ(a){if(sa(a))return a;a[ZQ]||(a[ZQ]=function(b){return a.handleEvent(b)});return a[ZQ]};function $Q(){xQ.call(this);this.ld=new HQ(this);this.Zg=this;this.Rf=null}Ia($Q,xQ);$Q.prototype[DQ]=!0;g=$Q.prototype;g.addEventListener=function(a,b,c,d){NQ(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){VQ(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.Rf;if(c)for(b=[];c;c=c.Rf)b.push(c);c=this.Zg;var d=a.type||a;if("string"===typeof a)a=new AQ(a,c);else if(a instanceof AQ)a.target=a.target||c;else{var e=a;a=new AQ(d,c);lb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Nd&&0<=f;f--){var h=a.currentTarget=b[f];e=aR(h,d,!0,a)&&e}a.Nd||(h=a.currentTarget=c,e=aR(h,d,!0,a)&&e,a.Nd||(e=aR(h,d,!1,a)&&e));if(b)for(f=0;!a.Nd&&f<b.length;f++)h=a.currentTarget=b[f],e=aR(h,d,!1,a)&&e;return e};
g.jd=function(){$Q.qd.jd.call(this);this.removeAllListeners();this.Rf=null};g.removeAllListeners=function(a){return this.ld?this.ld.removeAll(a):0};function aR(a,b,c,d){b=a.ld.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.Me&&JQ(a.ld,h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.Ng}g.Cf=function(a,b,c,d){return this.ld.Cf(String(a),b,c,d)};function bR(a,b,c){if(sa(a))c&&(a=Fa(a,c));else if(a&&"function"==typeof a.handleEvent)a=Fa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ma.setTimeout(a,b||0)};function cR(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function dR(){}dR.prototype.fg=null;function eR(a){var b;(b=a.fg)||(b={},fR(a)&&(b[0]=!0,b[1]=!0),b=a.fg=b);return b};var gR;function hR(){}Ia(hR,dR);function iR(a){return(a=fR(a))?new ActiveXObject(a):new XMLHttpRequest}function fR(a){if(!a.Cg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Cg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Cg}gR=new hR;function jR(a){$Q.call(this);this.headers=new Tb;this.kf=a||null;this.td=!1;this.jf=this.Ha=null;this.Gf="";this.Vd=0;this.Kd=this.Ef=this.Ye=this.Bf=!1;this.gf=0;this.ff=null;this.Mg=kR;this.Wf=this.Kg=this.ae=!1}Ia(jR,$Q);var kR="",lR=/^https?$/i,mR=["POST","PUT"];g=jR.prototype;
g.send=function(a,b,c,d){if(this.Ha)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Gf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Gf=a;this.Vd=0;this.Bf=!1;this.td=!0;this.Ha=this.kf?iR(this.kf):iR(gR);this.jf=this.kf?eR(this.kf):eR(gR);this.Ha.onreadystatechange=Fa(this.Ig,this);this.Kg&&"onprogress"in this.Ha&&(this.Ha.onprogress=Fa(function(f){this.Hg(f,!0)},this),this.Ha.upload&&(this.Ha.upload.onprogress=Fa(this.Hg,this)));try{this.Ef=!0,this.Ha.open(b,String(a),
!0),this.Ef=!1}catch(f){nR(this);return}a=c||"";var e=this.headers.clone();d&&Rb(d,function(f,h){e.set(h,f)});d=Ta(e.Lc());c=ma.FormData&&a instanceof ma.FormData;!(0<=Na(mR,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Ha.setRequestHeader(h,f)},this);this.Mg&&(this.Ha.responseType=this.Mg);"withCredentials"in this.Ha&&this.Ha.withCredentials!==this.ae&&(this.Ha.withCredentials=this.ae);try{oR(this),0<this.gf&&((this.Wf=pR(this.Ha))?
(this.Ha.timeout=this.gf,this.Ha.ontimeout=Fa(this.Sg,this)):this.ff=bR(this.Sg,this.gf,this)),this.Ye=!0,this.Ha.send(a),this.Ye=!1}catch(f){nR(this)}};function pR(a){return pP&&zP(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Va(a){return"content-type"==a.toLowerCase()}g.Sg=function(){"undefined"!=typeof la&&this.Ha&&(this.Vd=8,this.dispatchEvent("timeout"),this.abort(8))};function nR(a){a.td=!1;a.Ha&&(a.Kd=!0,a.Ha.abort(),a.Kd=!1);a.Vd=5;qR(a);rR(a)}
function qR(a){a.Bf||(a.Bf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Ha&&this.td&&(this.td=!1,this.Kd=!0,this.Ha.abort(),this.Kd=!1,this.Vd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rR(this))};g.jd=function(){this.Ha&&(this.td&&(this.td=!1,this.Kd=!0,this.Ha.abort(),this.Kd=!1),rR(this,!0));jR.qd.jd.call(this)};g.Ig=function(){this.Sd||(this.Ef||this.Ye||this.Kd?sR(this):this.ai())};g.ai=function(){sR(this)};
function sR(a){if(a.td&&"undefined"!=typeof la&&(!a.jf[1]||4!=tR(a)||2!=uR(a)))if(a.Ye&&4==tR(a))bR(a.Ig,0,a);else if(a.dispatchEvent("readystatechange"),4==tR(a)){a.td=!1;try{vR(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Vd=6,qR(a))}finally{rR(a)}}}g.Hg=function(a,b){this.dispatchEvent(wR(a,"progress"));this.dispatchEvent(wR(a,b?"downloadprogress":"uploadprogress"))};function wR(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function rR(a,b){if(a.Ha){oR(a);var c=a.Ha,d=a.jf[0]?na:null;a.Ha=null;a.jf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function oR(a){a.Ha&&a.Wf&&(a.Ha.ontimeout=null);a.ff&&(ma.clearTimeout(a.ff),a.ff=null)}
function vR(a){var b=uR(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Gf).match(Yb)[1]||null,!a&&ma.self&&ma.self.location&&(a=ma.self.location.protocol,a=a.substr(0,a.length-1)),b=!lR.test(a?a.toLowerCase():"");c=b}return c}function tR(a){return a.Ha?a.Ha.readyState:0}function uR(a){try{return 2<tR(a)?a.Ha.status:-1}catch(b){return-1}}
function xR(a){try{return a.Ha?a.Ha.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Ha&&4==tR(this))return a=this.Ha.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Ha&&4==tR(this)?this.Ha.getAllResponseHeaders()||"":""};function yR(){this.Ac=[];this.Rc=[]}function zR(a){0==a.Ac.length&&(a.Ac=a.Rc,a.Ac.reverse(),a.Rc=[])}g=yR.prototype;g.enqueue=function(a){this.Rc.push(a)};g.ye=function(){zR(this);return this.Ac.pop()};g.peek=function(){zR(this);var a=this.Ac;return a[a.length-1]};g.jb=function(){return this.Ac.length+this.Rc.length};g.isEmpty=function(){return 0==this.Ac.length&&0==this.Rc.length};g.clear=function(){this.Ac=[];this.Rc=[]};g.contains=function(a){return 0<=Na(this.Ac,a)||0<=Na(this.Rc,a)};
g.remove=function(a){var b=this.Ac;var c=Oa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Xa(this.Rc,a)};g.Yb=function(){for(var a=[],b=this.Ac.length-1;0<=b;--b)a.push(this.Ac[b]);var c=this.Rc.length;for(b=0;b<c;++b)a.push(this.Rc[b]);return a};function AR(a){this.ob=new Tb;a&&this.addAll(a)}function BR(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ya(a):b.substr(0,1)+a}g=AR.prototype;g.jb=function(){return this.ob.jb()};g.add=function(a){this.ob.set(BR(a),a)};g.addAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.ob.remove(BR(a))};g.clear=function(){this.ob.clear()};g.isEmpty=function(){return this.ob.isEmpty()};
g.contains=function(a){return this.ob.Gd(BR(a))};g.intersection=function(a){var b=new AR;a=Pb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.Yb=function(){return this.ob.Yb()};g.clone=function(){return new AR(this)};g.equals=function(a){return this.jb()==Ob(a)&&CR(this,a)};
function CR(a,b){var c=Ob(b);if(a.jb()>c)return!1;!(b instanceof AR)&&5<c&&(b=new AR(b));return Sb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.te&&"function"==typeof e.te)d=e.te(d);else if(ra(e)||"string"===typeof e)d=0<=Na(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function DR(a,b){xQ.call(this);this.Gg=a||0;this.af=b||10;if(this.Gg>this.af)throw Error(ER);this.Vc=new yR;this.Bd=new AR;this.delay=0;this.Ff=null;this.Ke()}Ia(DR,xQ);var ER="[goog.structs.Pool] Min can not be greater than max";g=DR.prototype;g.Xe=function(){var a=Ga();if(!(null!=this.Ff&&a-this.Ff<this.delay)){for(var b;0<this.Vc.jb()&&(b=this.Vc.ye(),!this.Qf(b));)this.Ke();!b&&this.jb()<this.af&&(b=this.Af());b&&(this.Ff=a,this.Bd.add(b));return b}};
function FR(a,b){return a.Bd.remove(b)?(a.mf(b),!0):!1}g.mf=function(a){this.Bd.remove(a);this.Qf(a)&&this.jb()<this.af?this.Vc.enqueue(a):GR(a)};g.Ke=function(){for(var a=this.Vc;this.jb()<this.Gg;)a.enqueue(this.Af());for(;this.jb()>this.af&&0<this.Vc.jb();)GR(a.ye())};g.Af=function(){return{}};function GR(a){if("function"==typeof a.yg)a.yg();else for(var b in a)a[b]=null}g.Qf=function(a){return"function"==typeof a.ah?a.ah():!0};g.contains=function(a){return this.Vc.contains(a)||this.Bd.contains(a)};
g.jb=function(){return this.Vc.jb()+this.Bd.jb()};g.isEmpty=function(){return this.Vc.isEmpty()&&this.Bd.isEmpty()};g.jd=function(){DR.qd.jd.call(this);if(0<this.Bd.jb())throw Error("[goog.structs.Pool] Objects not released");delete this.Bd;for(var a=this.Vc;!a.isEmpty();)GR(a.ye());delete this.Vc};function HR(a,b){this.Dg=a;this.Ug=b}HR.prototype.getKey=function(){return this.Dg};HR.prototype.getValue=function(){return this.Ug};HR.prototype.clone=function(){return new HR(this.Dg,this.Ug)};function IR(a){this.oc=[];if(a)a:{if(a instanceof IR){var b=a.Lc();a=a.Yb();if(0>=this.jb()){for(var c=this.oc,d=0;d<b.length;d++)c.push(new HR(b[d],a[d]));break a}}else b=hb(a),a=gb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=IR.prototype;g.insert=function(a,b){var c=this.oc;c.push(new HR(a,b));a=c.length-1;b=this.oc;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.oc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Wa(a);else{a[0]=a.pop();a=0;b=this.oc;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.oc;if(0!=a.length)return a[0].getValue()};g.Yb=function(){for(var a=this.oc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
g.Lc=function(){for(var a=this.oc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.te=function(a){return Qa(this.oc,function(b){return b.getValue()==a})};g.Gd=function(a){return Qa(this.oc,function(b){return b.getKey()==a})};g.clone=function(){return new IR(this)};g.jb=function(){return this.oc.length};g.isEmpty=function(){return 0==this.oc.length};g.clear=function(){Wa(this.oc)};function JR(){IR.call(this)}Ia(JR,IR);JR.prototype.enqueue=function(a,b){this.insert(a,b)};JR.prototype.ye=function(){return this.remove()};function KR(a,b){this.xg=void 0;this.Sf=new JR;DR.call(this,a,b)}Ia(KR,DR);g=KR.prototype;g.Xe=function(){var a=KR.qd.Xe.call(this);a&&this.delay&&(this.xg=ma.setTimeout(Fa(this.Df,this),this.delay));return a};g.Df=function(){for(var a=this.Sf;0<a.jb();){var b=this.Xe();if(b)a.ye().apply(this,[b]);else break}};g.mf=function(a){KR.qd.mf.call(this,a);this.Df()};g.Ke=function(){KR.qd.Ke.call(this);this.Df()};g.jd=function(){KR.qd.jd.call(this);ma.clearTimeout(this.xg);this.Sf.clear();this.Sf=null};function LR(a,b,c,d){this.Ah=a;this.ae=!!d;KR.call(this,b,c)}Ia(LR,KR);LR.prototype.Af=function(){var a=new jR,b=this.Ah;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.ae&&(a.ae=!0);return a};LR.prototype.Qf=function(a){return!a.Sd&&!a.Ha};function MR(a){a=y(a);throw dm(y(Vz.B(a)),R.j(a,Vz));}var NR={};
function OR(a,b,c,d){if(q(MR)){var e=new pl(function(){var f=new Date,h=q(a)?a:"?",k=t.B(b),m=null==c?"\x3ctruss/nil\x3e":fl.F(M([c])),n=NR===d?null:d,r=new pl(function(){var w=q(n)?t.B(n):null;var A=["Invariant violation in `",t.B(ja),":",t.B(h),"`. Test form `",t.B(k),"` failed against input val `",t.B(m),"`."].join("");return yc(n)?A:[A," An error was thrown while evaluating test form: [",w,"]."].join("")}),u=function(){if(q(null))try{return null.N?null.N():null.call(null)}catch(w){if(w instanceof
Error)return new p(null,1,[jm,w],null);throw w;}else return null}();return Oj([En,Vz,hs,mA,nl,Jt,Gu,Sp,QA,eu,lv,Jm],[null,r,null,f,c,ja,Bc(c),n,!0,u,a,k])});return MR.B?MR.B(e):MR.call(null,e)}return null};var PR=new W(null,3,5,Y,[3,1,0],null);function QR(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.C(null,ym,$o),c=B.C(null,Xl,$o);q(S.j?S.j(b,$o):S.call(null,b,$o))&&(b=y(DH),b=RR.j?RR.j(ze,b):RR.call(null,ze,b));c=q(S.j?S.j(c,$o):S.call(null,c,$o))?y(CH):c;c=Q.F(null,ym,b,M([Xl,c]));return wH(c,a)}throw dm("`read-edn` attempt against non-nil, non-string arg",new p(null,2,[uv,a,aq,Bc(a)],null));}
function SR(a){if(null!=a&&(a.T&4096||l===a.ng)){var b=Ig(a);a=Fg(a);return q(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function TR(a){return"string"===typeof a?D.j(a,"")?null:a:null}function UR(a){return"number"===typeof a?sg(a):"string"===typeof a?(a=parseInt(a,10),q(isNaN(a))?null:a):null}function VR(a){var b=SR(a);if(!q(b))throw dm(["`as-",Ig(fp),"` failed against: `",fl.F(M([a])),"`"].join(""),new p(null,2,[uv,a,aq,Bc(a)],null));return b}
function WR(a,b,c){return gg(zk(),eg(function(d,e){var f=P(e,0,null);e=P(e,1,null);return a.C?a.C(d,f,e):a.call(null,d,f,e)},dg),b,c)}function YR(a,b){return v.C(function(c,d){c=a.B?a.B(d):a.call(null,d);return q(c)?Qe(c):null},null,b)}
function ZR(){var a=Hh(-1);return function(){function b(e){return a.Jc(null,a.ub(null)+e)}function c(){return a.Jc(null,a.ub(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.N=c;d.B=b;return d}()}
var $R=function $R(a){switch(arguments.length){case 1:return $R.B(arguments[0]);case 2:return $R.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};$R.B=function(a){return $R.j(a,null)};$R.j=function(a,b){var c=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b,d=B.j(c,nA);b=B.j(c,gy);c=B.C(c,Sm,1E3);a=Math.pow(2,36<a?36:a);a=sg(.5*(a+Gl.B(a))*c);d=sg(q(d)?a<d?d:a:a);return sg(q(b)?d>b?b:d:d)};$R.$=2;D.j("default","nodejs");
var aS="undefined"!==typeof window?window:null;function bS(a){a=PB(t.B(a),/-/,2);var b=P(a,0,null);a=P(a,1,null);b=Qk(/\d+/,b);b=q(b)?bi.j(UR,b):null;return new p(null,2,[ln,b,Gx,q(a)?a.toLowerCase():null],null)}
function cS(a){var b=P(PR,0,null),c=P(PR,1,null),d=P(PR,2,null),e=Hf(a)?a:ln.B(bS(a));a=P(e,0,null);var f=P(e,1,null);e=P(e,2,null);e=bi.j(function(h){return q(h)?h:0},new W(null,3,5,Y,[a,f,e],null));a=P(e,0,null);f=P(e,1,null);e=P(e,2,null);if(!(b>a||D.j(b,a)&&(c>f||D.j(c,f)&&d>=e)))throw dm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new p(null,2,[vu,LB(".",new W(null,3,5,Y,[a,f,e],null)),ir,LB(".",new W(null,3,5,Y,[b,
c,d],null))],null));}function dS(a,b){return ib(a,Ig(b),null)}function eS(a,b){return null==b?null==a?V:a:Q.C(a,"x-requested-with",b)}var fS=function fS(a){switch(arguments.length){case 3:return fS.C(arguments[0],arguments[1],arguments[2]);case 2:return fS.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return fS.F(arguments[0],arguments[1],arguments[2],c)}};
fS.C=function(a,b,c){return Pf(a,b)?a:Q.C(a,b,c)};fS.F=function(a,b,c,d){return WR(fS,fS.C(a,b,c),d)};fS.ca=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.F(b,a,c,d)};fS.j=function(a,b){return cg(function(c,d,e){return Pf(c,d)?c:Q.C(c,d,e)},null==a?V:a,b)};fS.$=3;
var gS=function gS(a){switch(arguments.length){case 2:return gS.j(arguments[0],arguments[1]);case 3:return gS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};gS.j=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?qf:Mi(a,b,c)};gS.C=function(a,b,c){b=0>b?0:b;var d=sg(K(a));c=c>d?d:c;return b>=c?qf:Mi(a,b,c)};gS.$=3;
var hS=function hS(a){switch(arguments.length){case 2:return hS.j(arguments[0],arguments[1]);case 3:return hS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};hS.j=function(a,b){var c=K(a);return 0>b?(b+=c,Mi(a,0>b?0:b,c)):b>=c?qf:Mi(a,b,c)};hS.C=function(a,b,c){if(0>=c)return qf;var d=sg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Mi(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?qf:Mi(a,b,d)};hS.$=3;
function iS(a,b){for(var c=qf;;){var d=E(b);b=H(d);if(d=J(d))c=pf.j(c,b),b=d;else return a.j?a.j(c,b):a.call(null,c,b)}}function RR(a,b){b=cg(function(c,d,e){return $g.C(c,a.B?a.B(d):a.call(null,d),e)},Wg.B?Wg.B(V):Wg.call(null,V),b);return Xg.B?Xg.B(b):Xg.call(null,b)}function jS(a,b){b=tk(cj(b));a=Df(a)?a:tk(a);return KH(b,a)}
function kS(a,b,c,d){var e=E(b);if(e){b=bf(b,0);if(e=J(e))return Q.C(a,b,kS(B.j(a,b),e,c,d));if(q(S.j?S.j(d,IA):S.call(null,d,IA)))return R.j(a,b);c=B.C(a,b,c);d=d.B?d.B(c):d.call(null,c);return q(S.j?S.j(d,IA):S.call(null,d,IA))?R.j(a,b):Q.C(a,b,d)}return d.B?d.B(a):d.call(null,a)}function lS(a,b,c){return kS(a,b,null,function(d){return R.j(d,c)})}var mS={};
function nS(a,b){return v.C(function(c,d){return null==d?c:cg(function m(f,h,k){var n=B.C(f,h,mS);if(n===mS)return Q.C(f,h,k);if(q(S.j?S.j(k,IA):S.call(null,k,IA)))return R.j(f,h);if(q(q(!1)?Ff(k)&&Ff(n):!1))return Q.C(f,h,cg(m,n,k));k=a.j?a.j(n,k):a.call(null,n,k);return q(S.j?S.j(k,IA):S.call(null,k,IA))?R.j(f,h):Q.C(f,h,k)},q(c)?c:V,d)},null,b)}function oS(a){return nS(function(b,c){return c},a)}function pS(a,b){this.Pf=a;this.Tf=b}
function qS(a,b,c){for(;;){var d=y(b);c=c.B?c.B(d):c.call(null,d);var e=c instanceof pS,f=e?c.Pf:c;Dh(b,f);return e?c.Tf:a.j?a.j(d,f):a.call(null,d,f)}}
function rS(a,b,c,d){if(q(S.j?S.j(d,IA):S.call(null,d,IA)))for(;;){var e=y(b);d=R.j(e,c);Dh(b,d);b=B.C(e,c,null);c=IA;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){e=y(b);var f=B.C(e,c,null),h=d.B?d.B(f):d.call(null,f),k=h instanceof pS,m=k?h.Pf:h;d=q(S.j?S.j(m,IA):S.call(null,m,IA))?R.j(e,c):Q.C(e,c,m);Dh(b,d);return k?h.Tf:a.j?a.j(f,m):a.call(null,f,m)}}
function sS(a,b,c){var d=tS,e=E(b);if(e)if(J(e))if(q(S.j?S.j(c,IA):S.call(null,c,IA)))for(;;){var f=y(a);e=iS(function(n){return function(r,u){return lS(n,r,u)}}(f,e,e),b);Dh(a,e);a=fi(f,b,null);b=IA;return d.j?d.j(a,b):d.call(null,a,b)}else for(;;){f=y(a);var h=fi(f,b,null);c=c.B?c.B(h):c.call(null,h);var k=c instanceof pS,m=k?c.Pf:c;e=q(S.j?S.j(m,IA):S.call(null,m,IA))?iS(function(n){return function(r,u){return lS(n,r,u)}}(f,h,c,k,m,e,e),b):gi(f,b,m);Dh(a,e);return k?c.Tf:d.j?d.j(h,m):d.call(null,
h,m)}else return rS(d,a,bf(b,0),c);else return qS(d,a,c)}function tS(a,b){return b}function uS(a,b){return qS(tS,a,b)}function vS(a,b,c){return sS(a,b,c)}function wS(a){return a}
function xS(a,b,c){a:{var d=E(b);if(d)if(J(d))for(;;){d=y(a);var e=gi(d,b,c);Dh(a,e);a=fi(d,b,null);wS.j?wS.j(a,c):wS.call(null,a,c);break a}else b:for(b=bf(b,0);;){d=y(a);e=Q.C(d,b,c);Dh(a,e);a=B.C(d,b,null);wS.j?wS.j(a,c):wS.call(null,a,c);break b}else b:for(;;){b=y(a);Dh(a,c);wS.j?wS.j(b,c):wS.call(null,b,c);break b}}}function yS(){return(new Date).getTime()}
(function(){var a=dS(aS,"performance");if(q(a)){var b=function(){var c=dS(a,"now");if(q(c))return c;c=dS(a,"mozNow");if(q(c))return c;c=dS(a,"msNow");if(q(c))return c;c=dS(a,"oNow");return q(c)?c:dS(a,"webkitNow")}();return q(b)?function(){return 1E6*sg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function zS(a){var b=Hh(V),c={};return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){var h=H(f);if(q(S.j?S.j(h,Ss):S.call(null,h,Ss)))return f=J(f),h=H(f),q(S.j?S.j(h,Jo):S.call(null,h,Jo))?he(b,V):b.Jc(null,R.j(b.ub(null),f)),null;if(q(S.j?S.j(h,nz):S.call(null,h,nz)))return f=J(f),h=gh(a,f),b.Jc(null,Q.C(b.ub(null),f,h)),h;h=B.C(y(b),f,c);return h===c?(h=
gh(a,f),b.Jc(null,Q.C(b.ub(null),f,h)),h):h}d.$=0;d.ca=function(f){f=E(f);return e(f)};d.F=e;return d}()}function AS(a,b){this.n=a;this.Of=b}function BS(a,b){this.n=a;this.Vf=b}function CS(a,b,c){this.m=a;this.Vg=b;this.Xf=c}
function DS(a){if(Ff(a))return cg(function(c,d,e){var f=P(e,0,null);e=P(e,1,null);return Q.C(c,d,new AS(f,e))},V,a);if(Hf(a)){var b=Hh(-1);return v.C(function(c,d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);return Q.C(c,q(d)?d:b.Jc(null,b.ub(null)+1),new AS(e,f))},V,a)}throw dm("No matching `encore/cond!` clause",V);}
function ES(a){function b(f,h){var k=(new Date).getTime();yc(h)&&6.25E-5>=Math.random()&&(Dh(c,null),Eh.j(d,function(u){return Vd(cg(function(w,A,G){G=cg(function(I,F,N){var O=B.j(e,F);return q(O)?k>=N.Vf+O.Of?R.j(I,F):I:R.j(I,F)},G,G);return Bf(G)?Xd(w,A):$g.C(w,A,G)},Td(q(u)?u:V),u))}));for(;;){var m=y(d),n=B.j(m,f),r=null==n?null:cg(function(u,w,A,G,I,F){return function(N,O,U){var ea=B.j(F,O);if(q(ea)){if(U.n<ea.n)return N;U=U.Vf+ea.Of-A;return 0>=U?N:null==N?new CS(uf([O,U]),O,U):U>N.Xf?new CS(Q.C(N.m,
O,U),O,U):new CS(Q.C(N.m,O,U),N.Vg,N.Xf)}return N}}(m,n,k,c,d,e),null,n);if(q(q(h)?h:r))return h=r,q(h)?(f=h,new W(null,3,5,Y,[f.Vg,f.Xf,f.m],null)):null;h=y(c);q(h)||(n=cg(function(u,w,A,G,I){return function(F,N,O){return Q.C(F,N,function(){var U=B.j(A,N);if(q(U)){var ea=U.Vf;return I>=ea+O.Of?new BS(1,I):new BS(U.n+1,ea)}return new BS(1,I)}())}}(h,m,n,r,k,c,d,e),n,e),Dh(d,Q.C(m,f,n)));return null}}if(Bf(a))return new W(null,2,5,Y,[null,vh(null)],null);var c=Ch(null),d=Ch(null),e=DS(a);return new W(null,
2,5,Y,[d,function(){function f(n,r){if(q(S.j?S.j(n,nw):S.call(null,n,nw)))return q(S.j?S.j(r,nt):S.call(null,r,nt))?Dh(d,null):Eh.C(d,R,r),null;if(q(S.j?S.j(n,hx):S.call(null,n,hx)))return b(r,!0);throw dm("Unrecognized rate limiter command",new p(null,2,[uv,n,Mr,r],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,r){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,r)}throw Error("Invalid arity: "+
arguments.length);};m.N=k;m.B=h;m.j=f;return m}()],null)}
var FS=function(){function a(d){return new dc(d)}function b(){return new dc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.N=b;c.B=a;return c}(),GS=function(){function a(e,f){e=e instanceof dc?e:FS.B(t.B(e));f=t.B(f);return e.append(f)}function b(e){return e instanceof dc?e:FS.B(t.B(e))}function c(){return FS.N()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.N=c;d.B=b;d.j=a;return d}();function HS(a,b){if(q(q(" ")?lh.j(" ",""):" ")){var c=Wh(),d=eg(GS,t);return q(a)?fg(wh.j(a,c),d,b):fg(c,d,b)}return q(a)?fg(a,eg(GS,t),b):t.B(v.j(GS,b))}
var IS=function IS(a){switch(arguments.length){case 2:return IS.j(arguments[0],arguments[1]);case 3:return IS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};IS.j=function(a,b){return a.substring(b)};IS.C=function(a,b,c){return b>=c?"":a.substring(b,c)};IS.$=3;
var JS=function JS(a){switch(arguments.length){case 2:return JS.j(arguments[0],arguments[1]);case 3:return JS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};JS.j=function(a,b){return TR(a.substr(b))};JS.C=function(a,b,c){return TR(a.substr(b,c))};JS.$=3;function KS(a){return void 0===a||null==a?"nil":a}
function LS(a){if(QB("/"))return t.B(v.C(GS,"",a));var b=Hh(!1),c=Hh(!0);return t.B(v.C(function(d,e){e=t.B(e);var f=D.j(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?lh.j(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);he(b,k);q(n)&&he(c,f);if(q(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||q(q(n)?n:f)||d.append("/");return d.append(e)},FS.N(),a))}
function MS(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return[t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("")}bi.j(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var NS=function NS(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return NS.F(c)};NS.F=function(a){var b=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;a=B.j(b,um);var c=B.j(b,EA),d=B.j(b,qB),e=B.j(b,Dt),f=B.j(b,ds),h=B.j(b,Wu),k=B.j(b,rn),m=B.j(b,xu);b=B.j(b,Nu);return Math.round((q(b)?31536E6*b:0)+(q(e)?2551392E3*e:0)+(q(c)?6048E5*c:0)+(q(k)?864E5*k:0)+(q(m)?36E5*m:0)+(q(h)?6E4*h:0)+(q(f)?1E3*f:0)+(q(d)?d:0)+(q(a)?a:0))};
NS.$=0;NS.ca=function(a){return this.F(E(a))};wh.j(function(a){return ug(sg(a),1E3)},NS);var OS=new pl(function(){return new LR});function PS(){var a=y(OS).Xe();return void 0===a?null:a}
var QS="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},RS="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},SS=function(){function a(c,d){if(q(QS(d)))return new W(null,2,5,Y,[c,d],null);if(q("undefined"!==typeof FormData?YR(RS,dj(d)):!1)){var e=new FormData;d=E(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=P(m,0,null);m=P(m,1,null);e.append(Ig(n),m);k+=1}else if(d=E(d))If(d)?(h=ae(d),d=be(d),f=h,h=K(h)):
(h=H(d),f=P(h,0,null),h=P(h,1,null),e.append(Ig(f),h),d=J(d),f=null,h=0),k=0;else break;return new W(null,2,5,Y,[c,e],null)}return new W(null,2,5,Y,[c,b(d)],null)}var b=function(){function c(f,h){h=e.B(h);f=QB(h)?f:[t.B(f),"?",t.B(h)].join("");return new W(null,2,5,Y,[f,null],null)}function d(f){if(E(f)){var h=zl(f);f=Qb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new $b(null,void 0);h=Pb(h);for(var m=0;m<f.length;m++){var n=f[m],r=h[m];if(qa(r)){var u=k;u.remove(n);0<r.length&&
(u.zc=null,u.mb.set(cc(u,n),Za(r)),u.$a+=r.length)}else k.add(n,r)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.B=d;e.j=c;return e}();return function(c,d,e){d=d instanceof C?d.ma:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.B(d)].join(""));}}}();
function TS(a,b,c){var d=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b,e=B.C(d,Fu,Cu);b=B.j(d,Wt);var f=B.j(d,Om),h=B.C(d,Pn,1E4),k=B.C(d,CA,ar),m=B.j(d,LA),n=PS();if(q(n))try{var r=function(){var N=ru.B(d);return q(N)?N:h}(),u=function(){var N=e instanceof C?e.ma:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.B(N)].join(""));}}(),w=SS(a,e,b),A=P(w,0,null),G=P(w,1,null),I=function(){var N=RR(function(O){return Ig(O).toLowerCase()},
f);N=eS(N,B.C(N,"x-requested-with","XMLHTTPRequest"));return zl(N)}(),F=function(){var N=wt.B(d);return q(N)?(n.Kg=!0,NQ(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,va=O.total,wa=q(q(U)?lh.j(va,0):U)?ea/va:null;O=new p(null,5,[xA,wa,ft,U,lu,ea,Ws,va,Yz,O],null);return N.B?N.B(O):N.call(null,O)})):null}();OQ(n,"ready",function(){return FR(y(OS),n)});OQ(n,"complete",function(N){var O=vR(n),U=uR(n),ea=lh.j(U,-1)?function(){var xa=n.getResponseHeader("content-type"),Ra=function(){if(lh.j(k,
ar))var ka=k;else null==xa?ka=Ht:(ka=t.B(xa).toLowerCase(),ka=lh.j(-1,ka.indexOf("/edn"))?jv:lh.j(-1,ka.indexOf("/json"))?ms:lh.j(-1,ka.indexOf("/xml"))?Ev:Ht);try{var oa=ka instanceof C?ka.ma:null;switch(oa){case "edn":return QR(xR(n));case "json":if(n.Ha){b:{var Ca=n.Ha.responseText;if(ma.JSON)try{var ua=ma.JSON.parse(Ca);break b}catch(ac){}ua=cR(Ca)}var Ba=ua}else Ba=void 0;return Ba;case "xml":try{var Ua=n.Ha?n.Ha.responseXML:null}catch(ac){Ua=null}return Ua;case "text":return xR(n);default:throw Error(["No matching clause: ",
t.B(oa)].join(""));}}catch(ac){return new p(null,2,[Do,ka,Gz,xR(n)],null)}}();return new W(null,3,5,Y,[U,xa,Ra],null)}():null,va=P(ea,0,null),wa=P(ea,1,null);ea=P(ea,2,null);q(F)&&WQ(F);N=new p(null,7,[vz,N,Uu,n,Ky,O,hn,va,cA,wa,$s,ea,Wp,q(O)?null:q(va)?va:B.C(uf([0,null,5,uo,6,Nx,7,an,8,ru]),n.Vd,wx)],null);return c.B?c.B(N):c.call(null,N)});n.gf=Math.max(0,q(r)?r:0);q(m)&&(n.ae=!0);n.send(A,u,G,I);return n}catch(N){return a=N,FR(y(OS),n),a=new p(null,1,[Wp,a],null),c.B?c.B(a):c.call(null,a),null}else return a=
new p(null,1,[Wp,sp],null),c.B?c.B(a):c.call(null,a),null}function US(a){return q(a)?JB(encodeURIComponent(t.B(a),a),"*","%2A"):null}function VS(a,b){P(b,0,null);return q(a)?decodeURIComponent(t.B(a)):null}
function WS(a){function b(c,d){return[US(VR(c)),"\x3d",US(function(){var e=SR(d);return q(e)?e:t.B(d)}())].join("")}return Bf(a)?"":LB("\x26",function(){return function e(d){return new Jg(null,function(){for(var f=d;;)if(f=E(f)){if(If(f)){var h=ae(f),k=K(h),m=Ng(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);null!=I&&Rg(m,Ef(I)?LB("\x26",bi.j(xh(b,G),function(){var F=E(I);return F?F:new W(null,1,5,Y,[""],null)}())):b(G,I));w+=1}else return!0}()?Qg(Sg(m),e(be(f))):
Qg(Sg(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);if(null!=u)return hf(Ef(u)?LB("\x26",bi.j(xh(b,r),function(){var w=E(u);return w?w:new W(null,1,5,Y,[""],null)}())):b(r,u),e(Fe(f)));f=Fe(f)}else return null},null,null)}(a)}())}function XS(a,b,c){return Q.C(a,b,function(){var d=B.j(a,b);return q(d)?Hf(d)?pf.j(d,c):new W(null,2,5,Y,[d,c],null):c}())}
function YS(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return ZS(arguments[0],b)}function ZS(a,b){var c=P(b,0,null),d=P(b,1,null);if(QB(a)||!lh.j(-1,a.indexOf("\x3d")))return V;a=0===a.indexOf("?")?yg.j(a,1):a;a=v.C(function(e,f){var h=PB(f,/=/,2);return q(h)?(f=P(h,0,null),h=P(h,1,null),XS(e,VS(f,M([d])),VS(h,M([d])))):e},V,OB(a,/&/));return q(c)?RR(Hg,a):a}
function $S(a,b){var c=PB(t.B(a),/\?/,2);a=P(c,0,null);c=P(c,1,null);b=oS(M([q(c)?RR(Hg,YS(c)):null,RR(Hg,b)]));b=WS(b);b="string"===typeof b?QB(b)?null:b:null;return q(b)?[t.B(a),"?",b].join(""):a}function aT(){return!0}function bT(){return!1}function cT(a){return lh.j(-1,a.indexOf("*"))?Rk(JB(JB(["^",t.B(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function dT(a,b){for(;;){if(q(function(){var n=new qk(null,new p(null,2,["*",null,Yr,null],null),null);return n.B?n.B(a):n.call(null,a)}()))return aT;if(q(function(){var n=Rf([qf,sk,cq]);return n.B?n.B(a):n.call(null,a)}()))return bT;if(a instanceof RegExp)return function(n){return function(r){return Ok(n,r)}}(a,b,aT,bT,cT);if("string"===typeof a){var c=cT(a);if(q(c)){var d=b;a=c;b=d}else return function(n){return function(r){return D.j(r,n)}}(a,b,c,aT,bT,cT)}else if(Hf(a)||Df(a)){if(q(function(){var n=
tk(a);return n.B?n.B("*"):n.call(null,"*")}()))return aT;if(D.j(K(a),1))c=H(a),d=b,a=c,b=d;else{var e=v.C(function(n,r,u,w,A){return function(G,I){var F=P(G,0,null);G=P(G,1,null);var N=I instanceof RegExp?I:A(I);return q(N)?new W(null,2,5,Y,[F,pf.j(G,N)],null):new W(null,2,5,Y,[pf.j(F,I),G],null)}}(a,b,aT,bT,cT),new W(null,2,5,Y,[sk,qf],null),a),f=P(e,0,null),h=P(e,1,null),k=mh(f),m=function(){var n=mh(h);return q(n)?(n=function(r,u,w,A,G,I,F,N,O,U,ea){return function(va){return YR(function(){return function(wa){return Ok(wa,
va)}}(r,u,w,A,G,I,F,N,O,U,ea),w)}}(a,b,n,n,e,f,h,k,aT,bT,cT),q(b)?Fl(n):n):null}();if(q(function(){var n=k;return q(n)?m:n}()))return function(n,r,u,w,A,G,I){return function(F){var N=G.B?G.B(F):G.call(null,F);return q(N)?N:I.B?I.B(F):I.call(null,F)}}(a,b,e,f,h,k,m,aT,bT,cT);if(q(k))return k;if(q(m))return m;throw dm("No matching `encore/cond!` clause",V);}}else throw dm("Unexpected compile spec type",new p(null,2,[uv,a,aq,Bc(a)],null));}}
function eT(a){for(;;){if(Ff(a)){var b=B.j(a,is),c=function(){var h=B.j(a,bn);return q(h)?h:B.j(a,zB)}(),d=function(){var h=B.j(a,Bq);return q(h)?h:B.j(a,Xn)}(),e=function(){var h=c;return q(h)?dT(h,b):null}(),f=function(){var h=d;return q(h)?dT(h,b):null}();if(D.j(f,aT)||D.j(e,bT))return bT;if(q(function(){var h=e;return q(h)?f:h}()))return function(h,k,m,n,r,u){return function(w){w=t.B(w);return q(r.B?r.B(w):r.call(null,w))?q(u.B?u.B(w):u.call(null,w))?!1:!0:!1}}(a,b,c,d,e,f,aT,bT,cT,dT);if(q(e))return D.j(e,
aT)?aT:function(h,k,m,n,r){return function(u){u=t.B(u);u=r.B?r.B(u):r.call(null,u);return q(u)?!0:!1}}(a,b,c,d,e,f,aT,bT,cT,dT);if(q(f))return D.j(f,bT)?aT:function(h,k,m,n,r,u){return function(w){w=t.B(w);w=u.B?u.B(w):u.call(null,w);return q(w)?!0:!1}}(a,b,c,d,e,f,aT,bT,cT,dT);throw dm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new p(null,2,[ns,c,Bn,d],null));}a=new p(null,2,[bn,a,Bq,null],null)}}wh.j(mh,gS);wh.j(mh,hS);wh.j(TR,IS);wh.j(TR,JS);
function fT(a){return Pf(Rf([null,qf,sk]),a)}var gT=function gT(a){switch(arguments.length){case 1:return gT.B(arguments[0]);case 2:return gT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};gT.B=function(a){return gT.j(a,null)};gT.j=function(a,b){return fT(a)&&fT(b)?function(){return!0}:eT(new p(null,2,[bn,a,Bq,b],null))};gT.$=2;function hT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;return iT(b)}
function iT(a){P(a,0,null);return new p(null,6,[Kw,!0,pq,!1,gA,null,fr,null,Ps,Uz,Jz,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof C?c.ma:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.B(e)].join(""));}}();return q(d)?
d:console.log}return function(c){var d=b(qm.B(c));if(q(d)){if(q(function(){var h=mo.B(c);return q(h)?h:ei(c,new W(null,2,5,Y,[Yy,mo],null))}())){var e=function(){var h=Q.F(c,Vz,"",M([Sp,null])),k=Ps.B(c);return k.B?k.B(h):k.call(null,h)}(),f=function(){var h=az.B(c),k=Sp.B(c);return q(k)?hf(e,hf(k,h)):hf(e,h)}();return d.apply(console,Ic(f))}return d.call(console,tl(ZA.B(c)))}return null}}():function(){return null}],null)};Hf(PR)?cS(new W(null,3,5,Y,[2,87,0],null)):cS(2.87);var jT=function jT(a){switch(arguments.length){case 1:return jT.B(arguments[0]);case 2:return jT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};jT.B=function(a){return jT.j(null,a)};
jT.j=function(a,b){var c=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,d=B.j(c,sq);B.j(c,ez);var e=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;b=B.j(e,qm);c=B.j(e,Sp);var f=B.j(e,Vz),h=B.j(e,mr),k=B.j(e,Tx);B.j(e,Yu);B.j(e,Fz);e=B.j(e,lv);return[Ig(b).toUpperCase()," [",t.B(q(h)?h:q(k)?k:"?"),":",t.B(q(e)?e:"?"),"] - ",t.B(tl(f)),q(d)?null:q(c)?["\n",t.B(kT?kT(c,a):lT.call(null,c,a))].join(""):null].join("")};jT.$=2;
var mT=new p(null,6,[qm,Tw,sn,qf,Rp,qf,Gw,qf,Ps,jT,ex,new p(null,1,[Zz,hT.B?hT.B(V):hT.call(null,V)],null)],null),nT=tk(new W(null,7,5,Y,[kw,Tw,Os,fz,rp,dr,on],null)),oT=wk(new W(null,7,5,Y,[kw,Tw,Os,fz,rp,dr,on],null),J(Gk.N()));function pT(a){var b=nT.B?nT.B(a):nT.call(null,a);if(q(b))return b;throw dm("Invalid Timbre logging level",new p(null,1,[uv,a],null));}
function qT(a,b){return function(){var c=pT(a);return oT.B?oT.B(c):oT.call(null,c)}()>=function(){var c=pT(b);return oT.B?oT.B(c):oT.call(null,c)}()}var rT=zS(gT),sT=zS(function(a,b,c){a=rT(a,b);return a.B?a.B(c):a.call(null,c)});function tT(a){var b=B.C(mT,qm,on);return qT(a,b)&&Mf(sT(B.j(mT,sn),B.j(mT,Rp),ja))&&!0}function uT(a){return HS(Lh.B(function(b){b=KS(b);return Gf(b)?fl.F(M([b])):b}),a)}var vT=zS(function(a,b){a=ES(b);P(a,0,null);return P(a,1,null)});
function wT(a){return 1<K(a)?Mi(a,1,K(a)):qf}function xT(a){var b=S.j?S.j(ar,ar):S.call(null,ar,ar),c=S.j?S.j(jw,jw):S.call(null,jw,jw),d=P(a,0,null);if(q(q(b)?d instanceof Error:b)){b=d;d=null;var e=wT(a);a=q(c)?P(e,0,null):null;c=q(c)?wT(e):e;return new W(null,4,5,Y,[b,d,a,c],null)}d=q(Ff(d)?rc.B(yf(d)):!1)?d:null;e=Tq.B(d);b=q(e)?e:q(b)?null:ar;d=R.j(d,Tq);e=q(d)?wT(a):a;a=q(c)?P(e,0,null):null;c=q(c)?wT(e):e;return new W(null,4,5,Y,[b,d,a,c],null)}
function yT(a,b,c,d){if(tT(a)){var e=new Date;c=y(c);c=xT(c);var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);e=pf.j(q(null)?null:V,Oj([Fr,cB,az,Tx,iu,mr,qm,Sp,sz,lv,tm,Yy,dv],[e,mT,c,null,function(){var u=new qk(null,new p(null,2,[dr,null,rp,null],null),null);return u.B?u.B(a):u.call(null,a)}(),ja,a,f,null,b,new pl(function(){return f}),h,k]));e=v.C(function(u,w){u=w.B?w.B(u):w.call(null,u);return null==u?Qe(null):u},e,Gw.B(mT));if(q(e)){c=null!=e&&(e.J&64||l===e.va)?gh(hk,e):e;var m=
B.j(c,az);e=Q.C(e,ho,new pl(function(){return m}));var n=fS.F(e,Vz,new pl(function(){if(D.j(null,jw))return"";if(D.j(xw,jw))return uT(m);if(D.j(jw,jw)){if("string"!==typeof k)throw dm("Timbre format-style logging call without a format pattern (string)",new p(null,2,[qm,a,Dv,[t.B(q(ja)?ja:q(null)?null:"?"),":",t.B(q(b)?b:"?")].join("")],null));var u=q(k)?k:"",w=bi.j(KS,m);return hh(tQ,u,w)}throw Error(["No matching clause: ",t.B(jw)].join(""));}),M([Mx,new pl(function(){return ve(new W(null,3,5,Y,
[d,k,B.C(h,aA,m)],null))})])),r=zS(B.C(mT,Ps,jT));cg(function(u,w,A){if(q(function(){var O=Kw.B(A);q(O)&&(O=gA.B(A),O=qT(a,q(O)?O:kw));return O}())&&q(sT(sn.B(A),Rp.B(A),ja))){var G=fr.B(A);if(function(){var O=Bf(G);if(O)return O;O=vT(w,G);var U=tl(Mx.B(n));O=O.B?O.B(U):O.call(null,U);return yc(O)}()){var I=null!=A&&(A.J&64||l===A.va)?gh(hk,A):A;u=B.j(I,Jz);B.j(I,pq);var F=function(){var O=Ps.B(A);var U=(U=null==O)?U:S.j?S.j(O,Uz):S.call(null,O,Uz);return q(U)?r:O}(),N=pf.j(n,new p(null,4,[Nn,w,iz,
A,Ps,F,ZA,new pl(function(){return F.B?F.B(n):F.call(null,n)})],null));I=function(){var O=vm.B(A);return q(O)?O.B?O.B(N):O.call(null,N):N}();return q(I)?u.B?u.B(I):u.call(null,I):null}}return null},null,ex.B(mT))}}return null}function lT(a){switch(arguments.length){case 1:return kT(arguments[0],null);case 2:return kT(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function kT(a){return t.B(a)};function zT(a,b){if(null!=a&&null!=a.Qg)a=a.Qg(a,b);else{var c=zT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=zT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.pack",a);}return a}function AT(a,b){if(null!=a&&null!=a.Rg)a=a.Rg(a,b);else{var c=AT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=AT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.unpack",a);}return a};Hf(PR)?cS(new W(null,3,5,Y,[2,105,0],null)):cS(2.105);var BT=D.j("default","nodejs"),CT=Ch(!1);function DT(a,b){return new p(null,2,[hm,a,up,new p(null,2,[aq,Bc(b),Hw,b],null)],null)}
function ET(a){if(Hf(a)){var b=K(a);var c=new qk(null,new p(null,2,[1,null,2,null],null),null);b=c.B?c.B(b):c.call(null,b);if(yc(b))return new p(null,1,[Nv,DT(new qk(null,new p(null,2,[1,null,2,null],null),null),a)],null);b=P(a,0,null);P(a,1,null);return b instanceof C?yc(Fg(b))?new p(null,1,[jt,DT(hr,b)],null):null:new p(null,1,[Uo,DT(yB,b)],null)}return new p(null,1,[Xw,DT(Uw,a)],null)}function FT(a){var b=ET(a);if(q(b))throw dm("Invalid event",new p(null,2,[uv,a,CB,b],null));}
function GT(a,b){var c=0===b.indexOf("+"),d=yg.j(b,1),e=function(){try{return AT(a,d)}catch(m){var k=m;yT(Tw,215,new pl(function(){return new W(null,3,5,Y,["Bad package: %s (%s)",d,k],null)}),920802069);return new W(null,2,5,Y,[Jx,d],null)}}();c=c?e:new W(null,2,5,Y,[e,null],null);var f=P(c,0,null);c=P(c,1,null);var h=D.j(0,c)?pw:c;yT(kw,221,new pl(function(){return new W(null,3,5,Y,["Unpacking: %s -\x3e %s",b,new W(null,2,5,Y,[f,h],null)],null)}),-1422051735);return new W(null,2,5,Y,[f,h],null)}
function HT(a,b,c){c=D.j(c,pw)?0:c;var d=q(c)?new W(null,2,5,Y,[b,c],null):new W(null,1,5,Y,[b],null),e=["+",t.B(zT(a,d))].join("");yT(kw,237,new pl(function(){return new W(null,3,5,Y,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-887230912);return e}function IT(){}IT.prototype.Qg=function(a,b){a:{a=nc;var c=mc;mc=nc=null;try{var d=fl.F(M([b]));break a}finally{mc=c,nc=a}d=void 0}return d};IT.prototype.Rg=function(a,b){return QR(b)};var JT=new IT;function KT(a){return D.j(a,jv)?JT:a}ZR.N&&ZR.N();
function LT(a){if(null!=a&&null!=a.Zd)a=a.Zd(a);else{var b=LT[pa(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=LT._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChSocket.-chsk-connect!",a);}return a}function MT(a,b){if(null!=a&&null!=a.ef)a=a.ef(a,b);else{var c=MT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=MT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IChSocket.-chsk-disconnect!",a);}return a}
function NT(a,b,c){if(null!=a&&null!=a.Ie)a=a.Ie(a,b,c);else{var d=NT[pa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=NT._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IChSocket.-chsk-send!",a);}return a}
var OT=function OT(a){switch(arguments.length){case 2:return OT.j(arguments[0],arguments[1]);case 4:return OT.O(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return OT.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};OT.j=function(a,b){return OT.C(a,b,V)};OT.O=function(a,b,c,d){return OT.C(a,b,new p(null,2,[Pn,c,HA,d],null))};
OT.C=function(a,b,c){yT(kw,877,new pl(function(){return new W(null,3,5,Y,["Chsk send: (%s) %s",Q.C(c,HA,Mf(HA.B(c))),b],null)}),-1603232713);return NT(a,b,c)};OT.$=4;function PT(a){yT(fz,881,new pl(function(){return new W(null,1,5,Y,["Chsk send against closed chsk."],null)}),1555808207);q(a)&&(a.B?a.B(pB):a.call(null,pB));return!1}function QT(a,b){return q(b)?vS(a,new W(null,1,5,Y,[b],null),function(c){return new pS(IA,c)}):null}
function RT(a,b){var c=uS(zy.B(a),function(e){var f=b.B?b.B(e):b.call(null,e);f=q(Lo.B(e))?Q.C(f,Lo,!1):f;f=q(Zx.B(f))?R.j(f,Av):f;return new pS(f,new W(null,2,5,Y,[e,f],null))}),d=P(c,0,null);c=P(c,1,null);return lh.j(d,c)?(d=new W(null,2,5,Y,[d,c],null),kQ(ei(a,new W(null,2,5,Y,[Rw,Zn],null)),new W(null,2,5,Y,[Ur,d],null)),d):null}function ST(a,b){var c=Zx.B(a);c=q(c)?c:lh.j(b,gs);return q(c)?Q.F(R.j(a,Av),Zx,!1,M([vw,new p(null,2,[Kn,yS(),aB,b],null)])):a}
function TT(a,b){if(null==a||Nf(a))return a;FT(b);var c=P(b,0,null);P(b,1,null);return function(d){return kQ(a,new W(null,2,5,Y,[Hg.B([VR(c),".cb"].join("")),d],null))}}
function UT(a,b){yT(kw,955,new pl(function(){return new W(null,2,5,Y,["receive-buffered-evs!: %s",b],null)}),-2142145697);for(var c=E(b),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);FT(h);P(h,0,null);kQ(Yq.B(a),h);f+=1}else if(c=E(c))d=c,If(d)?(c=ae(d),e=be(d),d=c,h=K(c),c=e,e=h):(h=H(d),FT(h),P(h,0,null),kQ(Yq.B(a),h),c=J(d),d=null,e=0),f=0;else return null}function VT(a){return Hf(a)?(a=P(a,0,null),D.j(a,KA)):!1}
function WT(a,b,c){yT(kw,970,new pl(function(){return new W(null,3,5,Y,["receive-handshake! (%s): %s",a,c],null)}),254856259);P(c,0,null);var d=P(c,1,null),e=P(d,0,null);P(d,1,null);var f=P(d,2,null),h=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;d=B.j(h,Rw);h=B.j(h,ty);h=Fh(h);var k=new p(null,6,[aq,a,Zx,!0,ot,!0,bp,e,Ap,f,Lo,h],null);e=new W(null,2,5,Y,[KA,new W(null,4,5,Y,[e,null,f,h],null)],null);FT(e);RT(b,function(m){return lk.F(M([m,k]))});kQ(Jr.B(d),e)}
var XT=function(){var a="undefined"!==typeof require?require:vh(ps);return new pl(function(){if(BT&&"undefined"!==typeof require)try{var b=[t.B("web"),"socket"].join("");return a.B?a.B(b):a.call(null,b)}catch(c){return null}else return null})}();
function YT(a){a=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;B.j(a,Tu);B.j(a,Vp);B.j(a,fB);B.j(a,vr);B.j(a,Om);var b=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;a=B.j(b,Tu);var c=B.j(b,Vp),d=B.j(b,fB),e=B.j(b,vr);B.j(b,Om);b=dS(ma,"WebSocket");q(b)||(b=dS(ma,"MozWebSocket"),b=q(b)?b:dS(y(XT),"w3cwebsocket"));q(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function ZT(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){this.Ga=a;this.Fa=b;this.params=c;this.headers=d;this.Ea=e;this.url=f;this.lb=h;this.pa=k;this.Ba=m;this.fb=n;this.Ia=r;this.Ca=u;this.Ya=w;this.bb=A;this.cb=G;this.G=I;this.D=F;this.I=N;this.J=2230716170;this.T=139264}g=ZT.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "client-id":return this.Ga;case "chs":return this.Fa;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Ea;case "url":return this.url;case "ws-kalive-ms":return this.lb;case "state_":return this.pa;case "instance-handle_":return this.Ba;case "retry-count_":return this.fb;case "ever-opened?_":return this.Ia;case "backoff-ms-fn":return this.Ca;case "cbs-waiting_":return this.Ya;case "socket_":return this.bb;
case "udt-last-comms_":return this.cb;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,T.j(new W(null,15,5,Y,[new W(null,2,5,Y,[At,this.Ga],null),new W(null,2,5,Y,[Rw,this.Fa],null),new W(null,2,5,Y,[Wt,this.params],null),new W(null,2,5,Y,[Om,this.headers],null),new W(null,2,5,Y,[Dy,this.Ea],null),new W(null,2,5,Y,[ly,this.url],null),new W(null,2,5,Y,[lx,this.lb],null),new W(null,2,5,Y,[zy,this.pa],null),new W(null,2,5,Y,[xr,this.Ba],null),new W(null,2,5,Y,[Zt,this.fb],
null),new W(null,2,5,Y,[ty,this.Ia],null),new W(null,2,5,Y,[rz,this.Ca],null),new W(null,2,5,Y,[Kx,this.Ya],null),new W(null,2,5,Y,[Hz,this.bb],null),new W(null,2,5,Y,[Lt,this.cb],null)],null),this.D))};g.na=function(){return new Xi(this,15,new W(null,15,5,Y,[At,Rw,Wt,Om,Dy,ly,lx,zy,xr,Zt,ty,rz,Kx,Hz,Lt],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 15+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1998688700^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.params,b.params)&&D.j(this.headers,b.headers)&&D.j(this.Ea,b.Ea)&&D.j(this.url,b.url)&&D.j(this.lb,b.lb)&&D.j(this.pa,b.pa)&&D.j(this.Ba,b.Ba)&&D.j(this.fb,b.fb)&&D.j(this.Ia,b.Ia)&&D.j(this.Ca,b.Ca)&&D.j(this.Ya,b.Ya)&&D.j(this.bb,b.bb)&&D.j(this.cb,b.cb)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,15,[lx,null,ty,null,At,null,Dy,null,Rw,null,Lt,null,Wt,null,Zt,null,Om,null,rz,null,Hz,null,ly,null,xr,null,Kx,null,zy,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(At,b):S.call(null,At,b))?new ZT(c,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(Rw,b):S.call(null,Rw,b))?new ZT(this.Ga,c,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(Wt,b):S.call(null,Wt,b))?new ZT(this.Ga,this.Fa,c,this.headers,this.Ea,this.url,this.lb,this.pa,
this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(Om,b):S.call(null,Om,b))?new ZT(this.Ga,this.Fa,this.params,c,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(Dy,b):S.call(null,Dy,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,c,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(ly,b):S.call(null,ly,b))?new ZT(this.Ga,this.Fa,
this.params,this.headers,this.Ea,c,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(lx,b):S.call(null,lx,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,c,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(zy,b):S.call(null,zy,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,c,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?
S.j(xr,b):S.call(null,xr,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,c,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(Zt,b):S.call(null,Zt,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,c,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(ty,b):S.call(null,ty,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,c,this.Ca,
this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(rz,b):S.call(null,rz,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,c,this.Ya,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(Kx,b):S.call(null,Kx,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,c,this.bb,this.cb,this.G,this.D,null):q(S.j?S.j(Hz,b):S.call(null,Hz,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,
this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,c,this.cb,this.G,this.D,null):q(S.j?S.j(Lt,b):S.call(null,Lt,b))?new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,c,this.G,this.D,null):new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,15,5,Y,[new X(At,this.Ga),new X(Rw,this.Fa),new X(Wt,this.params),new X(Om,this.headers),new X(Dy,this.Ea),new X(ly,this.url),new X(lx,this.lb),new X(zy,this.pa),new X(xr,this.Ba),new X(Zt,this.fb),new X(ty,this.Ia),new X(rz,this.Ca),new X(Kx,this.Ya),new X(Hz,this.bb),new X(Lt,this.cb)],null),this.D))};
g.ea=function(a,b){return new ZT(this.Ga,this.Fa,this.params,this.headers,this.Ea,this.url,this.lb,this.pa,this.Ba,this.fb,this.Ia,this.Ca,this.Ya,this.bb,this.cb,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.ef=function(a,b){Dh(this.Ba,null);RT(this,function(c){return ST(c,b)});a=y(this.bb);return q(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.Ie=function(a,b,c){var d=this;a=null!=c&&(c.J&64||l===c.va)?gh(hk,c):c;var e=B.j(a,Pn);c=B.j(a,HA);B.j(a,jp);FT(b);var f=TT(c,b);if(yc(Zx.B(y(d.pa))))return PT(f);var h=q(f)?JS.C(MS(),0,6):null;b=HT(d.Ea,b,h);if(q(h)&&(xS(d.Ya,new W(null,1,5,Y,[h],null),f),q(e))){var k=iQ(1,null);JP(function(){var n=function(){function u(w){var A=w[1];if(1===A)return A=$P(e),eQ(w,2,A);if(2===A){A=w[2];var G=QT(d.Ya,h);w[8]=A;w[7]=G;w[1]=q(G)?3:4;return xn}return 3===A?(A=w[7],A=A.B?A.B(Dn):A.call(null,Dn),w[2]=
A,w[1]=5,xn):4===A?(w[2]=null,w[1]=5,xn):5===A?gQ(w,w[2]):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!S(F,xn)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=xn}if(!S(N,xn))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);};G.N=A;G.B=w;return G}()}(),
r=function(){var u=n();u[6]=k;return u}();return dQ(r)})}try{return y(d.bb).send(b),Dh(d.cb,yS()),km}catch(n){var m=n;yT(rp,1128,new pl(function(){return new W(null,2,5,Y,[m,"Chsk send error"],null)}),-900850522);q(h)&&(b=function(){var r=QT(d.Ya,h);return q(r)?r:f}(),b.B?b.B(mm):b.call(null,mm));return!1}};
g.Zd=function(){function a(){return D.j(y(b.Ba),d)}var b=this,c=this,d=Dh(b.Ba,MS()),e=b.lb;if(q(e)){var f=iQ(1,null);JP(function(){var h=function(){function m(n){var r=n[1];if(7===r)return n[2]=n[2],n[1]=3,xn;if(1===r)return n[2]=null,n[1]=2,xn;if(4===r){r=n[2];var u=a();n[7]=r;n[1]=u?5:6;return xn}return 6===r?(n[2]=null,n[1]=7,xn):3===r?gQ(n,n[2]):2===r?(r=y(b.cb),u=$P(e),n[8]=r,eQ(n,4,u)):9===r?(n[2]=null,n[1]=10,xn):5===r?(r=n[8],u=y(b.cb),r=D.j(r,u),n[1]=r?8:9,xn):10===r?(n[9]=n[2],n[2]=null,
n[1]=2,xn):8===r?(r=new W(null,1,5,Y,[Mo],null),u=Oj([jp],[!0]),r=c.Ie(null,r,u),n[2]=r,n[1]=10,xn):null}return function(){function n(w){for(;;){a:try{for(;;){var A=m(w);if(!S(A,xn)){var G=A;break a}}}catch(I){G=I;w[2]=G;if(E(w[4]))w[1]=H(w[4]);else throw G;G=xn}if(!S(G,xn))return G}}function r(){var w=[null,null,null,null,null,null,null,null,null,null];w[0]=u;w[1]=1;return w}var u=null;u=function(w){switch(arguments.length){case 0:return r.call(this);case 1:return n.call(this,w)}throw Error("Invalid arity: "+
arguments.length);};u.N=r;u.B=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return dQ(k)})}Dh(b.fb,0);(function k(){if(a()){var m=function(){if(a()){var G=Eh.j(b.fb,Oe),I=b.Ca.B?b.Ca.B(G):b.Ca.call(null,G),F=yS()+I;yT(fz,1147,new pl(function(){return new W(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",G,I],null)}),-719872117);ma.setTimeout(k,I);return RT(c,function(N){return Q.C(N,Av,F)})}return null},n=function(G){yT(rp,1160,new pl(function(){var I=Y;try{var F=
Dl(G)}catch(N){F=G}return new W(null,2,5,I,["WebSocket error: %s",F],null)}),-1919416609);return RT(c,function(I){return Q.C(I,Lr,new p(null,2,[Kn,yS(),Yz,G],null))})},r=function(G){G=dS(G,"data");G=GT(b.Ea,G);var I=P(G,0,null);G=P(G,1,null);Dh(b.cb,yS());if(VT(I)){WT(mq,c,I);Dh(b.fb,0);var F=qp}else F=null;if(q(F))return F;D.j(I,Mo)?(kQ(Yq.B(b.Fa),new W(null,1,5,Y,[Mo],null)),F=xp):F=null;return q(F)?F:q(G)?(G=QT(b.Ya,G),q(G)?G.B?G.B(I):G.call(null,I):yT(fz,1204,new pl(function(){return new W(null,
2,5,Y,["Cb reply w/o local cb-fn: %s",I],null)}),-12205560)):UT(b.Fa,I)},u=function(G){var I=new p(null,5,[Kn,yS(),Yz,G,Fo,dS(G,"wasClean"),tq,dS(G,"code"),aB,dS(G,"reason")],null);if(q(Fo.B(I)))return yT(Tw,1230,new pl(function(){return new W(null,1,5,Y,["Clean WebSocket close, will not attempt reconnect"],null)}),-1134897506),RT(c,function(F){return Q.C(F,iy,I)});RT(c,function(F){return Q.C(ST(F,gs),iy,I)});return m()},w=function(){try{return YT(new p(null,5,[Tu,n,Vp,r,fB,u,Om,b.headers,vr,$S(b.url,
lk.F(M([b.params,new p(null,2,[At,b.Ga,Rr,Rr.B(y(b.pa))],null)])))],null))}catch(I){var G=I;yT(rp,1253,new pl(function(){return new W(null,2,5,Y,[G,"WebSocket error"],null)}),-835177184);return null}}();if(yc(w))return m();var A=y(b.bb);q(A)&&A.close();return Dh(b.bb,w)}return null})();return c};
function $T(a,b){a=lk.F(M([new p(null,7,[zy,Ch(new p(null,4,[aq,mq,Zx,!1,ot,!1,Rr,b],null)),xr,Ch(null),Zt,Ch(0),ty,Ch(!1),Kx,Ch(V),Hz,Ch(null),Lt,Ch(null)],null),a]));b=R.F(a,At,M([Rw,Wt,Om,Dy,ly,lx,zy,xr,Zt,ty,rz,Kx,Hz,Lt]));b=Gf(a)?ai.j(V,b):b;return new ZT(At.B(a),Rw.B(a),Wt.B(a),Om.B(a),Dy.B(a),ly.B(a),lx.B(a),zy.B(a),xr.B(a),Zt.B(a),ty.B(a),rz.B(a),Kx.B(a),Hz.B(a),Lt.B(a),null,mh(b),null)}var aU=NS.F(M([ds,60]));
function bU(a,b,c,d,e,f,h,k,m,n,r,u,w,A){this.Ga=a;this.Fa=b;this.params=c;this.Ea=d;this.url=e;this.pa=f;this.Ba=h;this.Ia=k;this.Ca=m;this.hb=n;this.pb=r;this.G=u;this.D=w;this.I=A;this.J=2230716170;this.T=139264}g=bU.prototype;g.ka=function(a,b){return this.P(null,b,null)};
g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "client-id":return this.Ga;case "chs":return this.Fa;case "params":return this.params;case "packer":return this.Ea;case "url":return this.url;case "state_":return this.pa;case "instance-handle_":return this.Ba;case "ever-opened?_":return this.Ia;case "backoff-ms-fn":return this.Ca;case "ajax-opts":return this.hb;case "curr-xhr_":return this.pb;default:return B.C(this.D,b,c)}};
g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,T.j(new W(null,11,5,Y,[new W(null,2,5,Y,[At,this.Ga],null),new W(null,2,5,Y,[Rw,this.Fa],null),new W(null,2,5,Y,[Wt,this.params],null),new W(null,2,5,Y,[Dy,this.Ea],null),new W(null,2,5,Y,[ly,this.url],null),new W(null,2,5,Y,[zy,this.pa],null),new W(null,2,5,Y,[xr,this.Ba],null),new W(null,2,5,Y,[ty,this.Ia],null),new W(null,2,5,Y,[rz,this.Ca],null),new W(null,2,5,Y,[mB,this.hb],null),
new W(null,2,5,Y,[OA,this.pb],null)],null),this.D))};g.na=function(){return new Xi(this,11,new W(null,11,5,Y,[At,Rw,Wt,Dy,ly,zy,xr,ty,rz,mB,OA],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 11+K(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-266770752^Me(this)};
g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.params,b.params)&&D.j(this.Ea,b.Ea)&&D.j(this.url,b.url)&&D.j(this.pa,b.pa)&&D.j(this.Ba,b.Ba)&&D.j(this.Ia,b.Ia)&&D.j(this.Ca,b.Ca)&&D.j(this.hb,b.hb)&&D.j(this.pb,b.pb)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Pf(new qk(null,new p(null,11,[OA,null,ty,null,At,null,Dy,null,Rw,null,Wt,null,rz,null,ly,null,xr,null,mB,null,zy,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(At,b):S.call(null,At,b))?new bU(c,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(Rw,b):S.call(null,Rw,b))?new bU(this.Ga,c,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(Wt,b):S.call(null,Wt,b))?new bU(this.Ga,this.Fa,c,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(Dy,b):S.call(null,Dy,
b))?new bU(this.Ga,this.Fa,this.params,c,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(ly,b):S.call(null,ly,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,c,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(zy,b):S.call(null,zy,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,c,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(xr,b):S.call(null,xr,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,
this.pa,c,this.Ia,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(ty,b):S.call(null,ty,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,c,this.Ca,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(rz,b):S.call(null,rz,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,c,this.hb,this.pb,this.G,this.D,null):q(S.j?S.j(mB,b):S.call(null,mB,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,c,this.pb,this.G,this.D,
null):q(S.j?S.j(OA,b):S.call(null,OA,b))?new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,c,this.G,this.D,null):new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,11,5,Y,[new X(At,this.Ga),new X(Rw,this.Fa),new X(Wt,this.params),new X(Dy,this.Ea),new X(ly,this.url),new X(zy,this.pa),new X(xr,this.Ba),new X(ty,this.Ia),new X(rz,this.Ca),new X(mB,this.hb),new X(OA,this.pb)],null),this.D))};g.ea=function(a,b){return new bU(this.Ga,this.Fa,this.params,this.Ea,this.url,this.pa,this.Ba,this.Ia,this.Ca,this.hb,this.pb,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.ef=function(a,b){Dh(this.Ba,null);RT(this,function(c){return ST(c,b)});a=y(this.pb);return q(a)?a.abort():null};
g.Ie=function(a,b,c){function d(n){var r=null!=n&&(n.J&64||l===n.va)?gh(hk,n):n;n=B.j(r,Wp);r=B.j(r,$s);if(q(n)){if(D.j(n,ru))return q(k)?k.B?k.B(Dn):k.call(null,Dn):null;RT(f,function(w){return ST(w,gs)});return q(k)?k.B?k.B(mm):k.call(null,mm):null}n=GT(e.Ea,r);var u=P(n,0,null);P(n,1,null);q(k)?k.B?k.B(u):k.call(null,u):lh.j(u,RA)&&yT(fz,1377,new pl(function(){return new W(null,2,5,Y,["Cb reply w/o local cb-fn: %s",u],null)}),748061103);return RT(f,function(w){return Q.C(w,Zx,!0)})}var e=this,
f=this;a=null!=c&&(c.J&64||l===c.va)?gh(hk,c):c;var h=B.j(a,Pn);c=B.j(a,HA);B.j(a,jp);FT(b);var k=TT(c,b);if(yc(Zx.B(y(e.pa))))return PT(k);var m=Rr.B(y(e.pa));a=e.url;c=lk.F(M([e.hb,new p(null,5,[Fu,dA,Pn,function(){if(q(h))return h;var n=Pn.B(e.hb);return q(n)?n:aU}(),CA,Ht,Om,lk.F(M([Om.B(e.hb),new p(null,1,[zx,m],null)])),Wt,function(){var n=HT(e.Ea,b,q(k)?pw:null);return lk.F(M([e.params,new p(null,4,[Kn,yS(),Rr,m,At,e.Ga,JA,n],null)]))}()],null)]));TS.C?TS.C(a,c,d):TS.call(null,a,c,d);return km};
g.Zd=function(){var a=this,b=this,c=Dh(a.Ba,MS());(function f(e){yT(kw,1387,new pl(function(){return new W(null,1,5,Y,["async-poll-for-update!"],null)}),-1840197125);if(D.j(y(a.Ba),c)){var h=function(){if(D.j(y(a.Ba),c)){var k=e+1,m=a.Ca.B?a.Ca.B(k):a.Ca.call(null,k),n=yS()+m;yT(fz,1395,new pl(function(){return new W(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),-1032693252);ma.setTimeout(function(){return f(k)},m);return RT(b,function(r){return Q.C(r,Av,n)})}return null};
return Dh(a.pb,function(){function k(r){var u=null!=r&&(r.J&64||l===r.va)?gh(hk,r):r;r=B.j(u,Wp);u=B.j(u,$s);if(q(r)){if(D.j(r,ru))return f(0);RT(b,function(w){return ST(w,gs)});return h()}r=GT(a.Ea,u);r=P(r,0,null);(u=VT(r))&&WT(oz,b,r);RT(b,function(w){return Q.C(w,Zx,!0)});f(0);if(u)return null;D.j(r,Dn)?(q(y(CT))&&UT(a.Fa,new W(null,1,5,Y,[new W(null,1,5,Y,[Oo],null)],null)),u=xp):u=null;return q(u)?u:UT(a.Fa,r)}var m=a.url,n=lk.F(M([a.hb,new p(null,5,[Fu,Cu,Pn,function(){var r=Pn.B(a.hb);return q(r)?
r:aU}(),CA,Ht,Wt,lk.F(M([a.params,new p(null,2,[Kn,yS(),At,a.Ga],null),q(Zx.B(y(a.pa)))?null:new p(null,1,[lp,!0],null)])),Om,lk.F(M([Om.B(a.hb),new p(null,1,[zx,Rr.B(y(a.pa))],null)]))],null)]));return TS.C?TS.C(m,n,k):TS.call(null,m,n,k)}())}return null})(0);return b};
function cU(a,b){a=lk.F(M([new p(null,4,[zy,Ch(new p(null,4,[aq,oz,Zx,!1,ot,!1,Rr,b],null)),xr,Ch(null),ty,Ch(!1),OA,Ch(null)],null),a]));b=R.F(a,At,M([Rw,Wt,Dy,ly,zy,xr,ty,rz,mB,OA]));b=Gf(a)?ai.j(V,b):b;return new bU(At.B(a),Rw.B(a),Wt.B(a),Dy.B(a),ly.B(a),zy.B(a),xr.B(a),ty.B(a),rz.B(a),mB.B(a),OA.B(a),null,mh(b),null)}function dU(a,b,c,d,e,f,h){this.Fc=a;this.uc=b;this.pa=c;this.Zb=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=dU.prototype;
g.ka=function(a,b){return this.P(null,b,null)};g.P=function(a,b,c){switch(b instanceof C?b.ma:null){case "ws-chsk-opts":return this.Fc;case "ajax-chsk-opts":return this.uc;case "state_":return this.pa;case "impl_":return this.Zb;default:return B.C(this.D,b,c)}};g.ua=function(a,b,c){return v.C(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.fa=function(a,b,c){return Z(b,function(d){return Z(b,Zk,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,T.j(new W(null,4,5,Y,[new W(null,2,5,Y,[Iw,this.Fc],null),new W(null,2,5,Y,[Jn,this.uc],null),new W(null,2,5,Y,[zy,this.pa],null),new W(null,2,5,Y,[fq,this.Zb],null)],null),this.D))};g.na=function(){return new Xi(this,4,new W(null,4,5,Y,[Iw,Jn,zy,fq],null),q(this.D)?je(this.D):nh())};g.da=function(){return this.G};g.ha=function(){return 4+K(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1193508708^Me(this)};g.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Fc,b.Fc)&&D.j(this.uc,b.uc)&&D.j(this.pa,b.pa)&&D.j(this.Zb,b.Zb)&&D.j(this.D,b.D)};g.wa=function(a,b){return Pf(new qk(null,new p(null,4,[fq,null,Iw,null,zy,null,Jn,null],null),null),b)?R.j(rd(ai.j(V,this),this.G),b):new dU(this.Fc,this.uc,this.pa,this.Zb,this.G,mh(R.j(this.D,b)),null)};
g.ba=function(a,b,c){return q(S.j?S.j(Iw,b):S.call(null,Iw,b))?new dU(c,this.uc,this.pa,this.Zb,this.G,this.D,null):q(S.j?S.j(Jn,b):S.call(null,Jn,b))?new dU(this.Fc,c,this.pa,this.Zb,this.G,this.D,null):q(S.j?S.j(zy,b):S.call(null,zy,b))?new dU(this.Fc,this.uc,c,this.Zb,this.G,this.D,null):q(S.j?S.j(fq,b):S.call(null,fq,b))?new dU(this.Fc,this.uc,this.pa,c,this.G,this.D,null):new dU(this.Fc,this.uc,this.pa,this.Zb,this.G,Q.C(this.D,b,c),null)};
g.ga=function(){return E(T.j(new W(null,4,5,Y,[new X(Iw,this.Fc),new X(Jn,this.uc),new X(zy,this.pa),new X(fq,this.Zb)],null),this.D))};g.ea=function(a,b){return new dU(this.Fc,this.uc,this.pa,this.Zb,b,this.D,this.I)};g.ja=function(a,b){return Hf(b)?this.ba(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.ef=function(a,b){a=y(this.Zb);return q(a)?MT(a,b):null};g.Ie=function(a,b,c){a=y(this.Zb);if(q(a))return NT(a,b,c);c=null!=c&&(c.J&64||l===c.va)?gh(hk,c):c;c=B.j(c,HA);b=TT(c,b);return PT(b)};
g.Zd=function(){function a(){var f=Ch(!1);ol(c.pa,function(h,k,m,n){h=y(c.Zb);if(q(h)&&(k=ty.B(h),q(k))){if(q(y(k)))return null;if(q(Lr.B(n))&&Fh(f))return yT(fz,1528,new pl(function(){return new W(null,1,5,Y,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),-1252973013),MT(h,Tn),Dh(c.Zb,b())}return null});return $T(e,Rr.B(y(c.pa))).Zd(null)}function b(){Sd(c.pa);return cU(d,Rr.B(y(c.pa))).Zd(null)}var c=this,d=Q.C(c.uc,zy,c.pa),e=Q.C(c.Fc,zy,c.pa);Dh(c.Zb,function(){var f=a();return q(f)?
f:b()}());return this};function eU(a,b,c,d){var e=function(){switch(a instanceof C?a.ma:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof C?d.ma:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.B(e)].join(""));}default:throw Error(["No matching clause: ",t.B(h)].join(""));}}();return[t.B(f),"//",LS(M([b,c]))].join("")}
function fU(a,b,c){function d(n){return n.N?n.N():n.call(null)}var e=yc(io);c=null!=c&&(c.J&64||l===c.va)?gh(hk,c):c;var f=B.j(c,yu),h=B.j(c,ut);B.j(c,eA);var k=iQ(null,null),m=iQ(1,null);JP(function(){var n=function(){function u(w){var A=w[1];if(7===A)return w[2]=w[2],w[1]=3,xn;if(1===A)return w[2]=null,w[1]=2,xn;if(4===A){A=w[7];A=w[2];var G=P(A,0,null),I=P(A,1,null),F=D.j(I,k)||null==G;w[7]=G;w[8]=F;w[9]=A;w[10]=I;w[1]=q(F)?5:6;return xn}if(15===A)return A=w[7],w[2]=A,w[1]=16,xn;if(13===A)return w[2]=
w[2],w[1]=10,xn;if(6===A)return A=w[7],w[1]=yc(null==A)?8:9,xn;if(3===A)return gQ(w,w[2]);if(12===A)return w[2]=!1,w[1]=13,xn;if(2===A)return qQ(w,4,new W(null,2,5,Y,[a,k],null));if(11===A)return w[2]=!0,w[1]=13,xn;if(9===A)return w[2]=!1,w[1]=10,xn;if(5===A)return w[2]=null,w[1]=7,xn;if(14===A)return A=w[7],A=gh(hk,A),w[2]=A,w[1]=16,xn;if(16===A){A=w[7];var N=w[2],O=B.j(N,vp);A=d(function(){return function(){try{q(f)&&yT(kw,1727,new pl(function(){return new W(null,2,5,Y,["Pre-handler event: %s",
O],null)}),2094128803);var U=q(e)?function(){try{if(Ff(N)&&jS(new qk(null,new p(null,11,[Iv,null,qr,null,At,null,Yw,null,bp,null,vp,null,dB,null,Vs,null,ku,null,eu,null,Ft,null],null),null),N)){var wa=null!=N&&(N.J&64||l===N.va)?gh(hk,N):N,xa=B.j(wa,qr),Ra=B.j(wa,Ft),ka=B.j(wa,Yw),oa=B.j(wa,Vs),Ca=B.j(wa,ku),ua=B.j(wa,At),Ba=B.j(wa,vp),Ua=B.j(wa,Iv);var ac=xa instanceof QP&&Nf(Ra)&&ka instanceof Bh&&oa instanceof Bh&&Ff(Ca)&&"string"===typeof ua&&!QB(ua)&&null==ET(Ba)&&(null==Ua||Nf(Ua))}else ac=
!1;var yb=ac?null:NR}catch(ec){if(ec instanceof Error)yb=ec;else throw ec;}return null==yb?N:OR(1730,"(server-event-msg? event-msg)",N,yb)}():function(){try{if(Ff(N)&&jS(new qk(null,new p(null,6,[qr,null,Zn,null,vp,null,dB,null,eu,null,Ft,null],null),null),N)){var wa=null!=N&&(N.J&64||l===N.va)?gh(hk,N):N,xa=B.j(wa,qr),Ra=B.j(wa,Ft),ka=B.j(wa,Zn),oa=B.j(wa,vp);var Ca=xa instanceof QP&&Nf(Ra)&&ka instanceof Bh&&null==ET(oa)}else Ca=!1;var ua=Ca?null:NR}catch(Ba){if(Ba instanceof Error)ua=Ba;else throw Ba;
}return null==ua?N:OR(1731,"(client-event-msg? event-msg)",N,ua)}();return b.B?b.B(U):b.call(null,U)}catch(wa){var ea=wa;try{return q(h)?h.j?h.j(ea,N):h.call(null,ea,N):yT(rp,1736,new pl(function(){return new W(null,3,5,Y,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),-1974870097)}catch(xa){var va=xa;return yT(rp,1737,new pl(function(){return new W(null,3,5,Y,[va,"Chsk router `error-handler` error: %s",O],null)}),-44139203)}}}}());w[11]=A;w[2]=null;w[1]=2;return xn}return 10===A?(w[1]=
q(w[2])?14:15,xn):8===A?(A=w[7],G=l===A.va,w[1]=q(A.J&64||G)?11:12,xn):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!S(F,xn)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=xn}if(!S(N,xn))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);
};G.N=A;G.B=w;return G}()}(),r=function(){var u=n();u[6]=m;return u}();return dQ(r)});return function(){return cP(k)}}function gU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new De(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=P(d,0,null);d=null!=d&&(d.J&64||l===d.va)?gh(hk,d):d;B.j(d,yu);B.j(d,ut);return fU(b,c,d)};var hU={},iU={},jU=[];function kU(a,b){var c=iU[a];if(void 0!==c)return c;try{jU.push(a);var d=hU[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};hU[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ma,kU,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{jU.pop()}return d.exports}kU.cache={};kU.resolve=function(a){return a};var lU=kU(5,{});Ha("React",lU);var mU=kU(14,{});lU.DOM=mU;Ha("ReactDOM",mU);var nU=Hh(V);function oU(a){if(a instanceof C||"string"===typeof a||a instanceof z){var b=B.j(y(nU),a);if(q(b))return b;if("string"===typeof a)b=a;else{b=Ig(a).split("-");var c=E(b);b=H(c);c=J(c);b=Bf(c)||D.j("aria",b)||D.j("data",b)?a:Hg.B(KB(pf.j(Lh.j(MB,c),b)))}nU.Jc(null,Q.C(nU.ub(null),a,b));return b}return a}var pU=function pU(a){return Ff(a)?(a=Vd(cg(function(c,d,e){return $g.C(c,oU(d),e)},Td(V),a)),Ff(eq.B(a))?ii.C(a,eq,pU):a):a};function qU(a){return Hf(a)&&P(a,0,null)instanceof C};function rU(a){return"string"===typeof a?a:a instanceof C?Ig(a):a}function sU(a){return zg(a)&&H(a)instanceof C}function tU(a){return null==a?null:sU(a)?new W(null,1,5,Y,[a],null):zg(a)?H(a)instanceof z?new W(null,1,5,Y,[a],null):Lh.j(rU,a):a instanceof z?new W(null,1,5,Y,[a],null):"string"===typeof a?new W(null,1,5,Y,[a],null):a instanceof C?new W(null,1,5,Y,[rU(a)],null):(Df(a)||Ef(a))&&rh(function(b){return b instanceof C||"string"===typeof b},a)?bi.j(rU,a):Df(a)||Ef(a)?bi.j(rU,a):a}
function uU(a){return q(Cy.B(a))?ii.C(a,Cy,tU):a}function vU(a){return q(a)?JB(a,/^[.#]/,""):null}
function wU(a){var b=Qk(/[#.]?[^#.]+/,Ig(a));if(Bf(b))throw dm(["Can't match CSS tag: ",t.B(a)].join(""),new p(null,1,[Xu,a],null));b=Pf(new qk(null,new p(null,2,["#",null,".",null],null),null),nf(b))?new W(null,2,5,Y,["div",b],null):new W(null,2,5,Y,[H(b),Fe(b)],null);a=P(b,0,null);b=P(b,1,null);return new W(null,3,5,Y,[a,vU(sh(function(c){return D.j("#",H(c))?c:null},b)),ai.C(qf,zh(function(c){return D.j(".",H(c))?vU(c):null}),b)],null)}
var xU=function xU(a){null==a?a=Ge:"string"===typeof a?a=new rf(null,a,null,1,null):qU(a)?a=new rf(null,a,null,1,null):zg(a)&&H(a)instanceof z?a=new rf(null,a,null,1,null):zg(a)||(Ef(a)&&D.j(K(a),1)&&Ef(H(a))&&"string"!==typeof H(a)&&!qU(H(a))?(a=H(a),a=xU.B?xU.B(a):xU.call(null,a)):a=Ef(a)?a:new rf(null,a,null,1,null));return $h(vc,a)};function yU(a){return v.C(function(b,c){b.push(zU.B?zU.B(c):zU.call(null,c));return b},[],a)}
function zU(a){if(Hf(a))if(qU(a)){a=E(a);var b=H(a);a=J(a);if(!(b instanceof C||b instanceof z||"string"===typeof b))throw dm([t.B(b)," is not a valid element name."].join(""),new p(null,2,[Xu,b,ju,a],null));var c=wU(b);b=P(c,0,null);var d=P(c,1,null);c=P(c,2,null);d=Bf(d)?V:Q.C(V,dB,d);c=Bf(c)?d:Q.C(d,Cy,c);var e=H(a);Ff(e)?(d=Y,e=Lh.j(uU,M([c,e])),c=Xh(Cy,M([e])),E(e)?(e=v.C(ai,V,e),c=Bf(c)?e:Q.C(e,Cy,Yf(c))):c=null,a=new W(null,3,5,d,[b,c,xU(J(a))],null)):a=new W(null,3,5,Y,[b,uU(c),xU(a)],null);
b=a;a=P(b,0,null);d=P(b,1,null);b=P(b,2,null);d=zl(IH(pU(d)));q(d)?(c=d.className,c=wc(c)?LB(" ",c):c,QB(c)?delete d.className:d.className=c):d=null;b=yU(b);a=React.createElement.apply(null,[a,d].concat(b))}else a=yU(a);else a=Lf(a)?yU(a):a;return a};function AU(a,b,c){return c?React.createElement.apply(null,[a,b].concat(c)):React.createElement(a,b)};function BU(a,b){return ai.C(qf,zh(function(c){return B.j(c,a)}),b)}function CU(a,b){return ai.C(qf,wh.j(Lh.B(function(c){return Ah(function(d){return B.j(c,d)},a)}),vl),b)}function DU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new De(b.slice(2),0,null):null;return EU(arguments[0],arguments[1],b)}function EU(a,b,c){return v.C(function(d,e){return hh(e,d,c)},a,b)};function FU(a){return ib(a.state,":rum/state")}function GU(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=P(f,0,null);f=P(f,1,null);null!=f&&(h=Ig(h),f=zl(f),a[h]=f);e+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),c=d,d=K(d)):(c=H(b),h=P(c,0,null),f=P(c,1,null),null!=f&&(c=Ig(h),d=zl(f),a[c]=d),b=J(b),c=null,d=0),e=0;else break}
function HU(a,b,c){function d(F){this.state={":rum/state":Hh(EU(Q.C(ib(F,":rum/initial-state"),vo,this),e,M([F])))};return React.Component.call(this,F)}tk(Xh(cj,M([b])));var e=BU(Bs,b),f=CU(new W(null,2,5,Y,[fy,Gv],null),b),h=BU(Cq,b),k=v.C(function(F,N){return N.B?N.B(F):N.call(null,F)},a,h),m=CU(new W(null,2,5,Y,[Bz,cs],null),b),n=BU(vv,b),r=BU(Ez,b),u=CU(new W(null,2,5,Y,[Tr,Gv],null),b),w=CU(new W(null,2,5,Y,[Vm,cs],null),b),A=BU(yv,b),G=BU($r,b),I=BU(Fn,b);a=v.j(lk,BU(xm,b));b=v.j(lk,BU(sy,b));
Ia(d,React.Component);h=ib(d,"prototype");Bf(f)||jb(h,"componentWillMount",function(){return he(FU(this),DU(y(FU(this)),f))});Bf(m)||jb(h,"componentDidMount",function(){return he(FU(this),DU(y(FU(this)),m))});jb(h,"componentWillReceiveProps",function(F){var N=y(FU(this));F=lk.F(M([N,ib(F,":rum/initial-state")]));F=v.C(function(O,U){return U.j?U.j(N,O):U.call(null,N,O)},F,n);return this.setState({":rum/state":Hh(F)})});Bf(r)||jb(h,"shouldComponentUpdate",function(F,N){var O=y(FU(this)),U=y(ib(N,":rum/state"));
F=sh(function(ea){return ea.j?ea.j(O,U):ea.call(null,O,U)},r);return q(F)?F:!1});Bf(u)||jb(h,"componentWillUpdate",function(F,N){F=ib(N,":rum/state");return he(F,DU(y(F),u))});jb(h,"render",function(){var F=FU(this),N=y(F);var O=k.B?k.B(N):k.call(null,N);N=P(O,0,null);O=P(O,1,null);he(F,O);return N});Bf(w)||jb(h,"componentDidUpdate",function(){return he(FU(this),DU(y(FU(this)),w))});Bf(A)||jb(h,"componentDidCatch",function(F,N){he(FU(this),EU(y(FU(this)),A,M([F,new p(null,1,[Ay,ib(N,"componentStack")],
null)])));return this.forceUpdate()});jb(h,"componentWillUnmount",function(){Bf(G)||he(FU(this),DU(y(FU(this)),G));this[":rum/unmounted?"]=!0});Bf(I)||jb(h,"getChildContext",function(){var F=y(FU(this));return zl(gg(Lh.B(function(N){return N.B?N.B(F):N.call(null,F)}),lk,V,I))});GU(h,a);d.displayName=c;GU(d,b);return d}function IU(a){function b(){var c=a.N?a.N():a.call(null);return c.apply(c,arguments)}b.je=l;b.da=function(){return yf(a.N?a.N():a.call(null))};return b}
function JU(a,b,c){var d=KU;return IU(Ma(function(){return d.C?d.C(a,b,c):d.call(null,a,b,c)}))}
function LU(a,b,c){var d=HU(a,b,c),e=H(BU(kz,b));return xf(null!=e?function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k={":rum/initial-state":new p(null,1,[Tv,k],null),key:gh(e,k)};return React.createElement(d,k)}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.F=h;return f}():function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-
0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/initial-state":new p(null,1,[Tv,k],null)})}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.F=h;return f}(),new p(null,1,[Hs,d],null))}function MU(a,b){return D.j(a[":rum/args"],b[":rum/args"])}function NU(a){var b=React.memo;return null==b?a:b.j?b.j(a,MU):b.call(null,a,MU)}
function KU(a,b,c){if(D.j(b,new W(null,1,5,Y,[OU],null))){var d=function(f){return gh(a,f[":rum/args"])};d.displayName=c;var e=NU(d);b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(e,{":rum/args":k})}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.F=h;return f}();return xf(b,new p(null,1,[Hs,e],null))}return Bf(b)?(d=function(f){return gh(a,
f[":rum/args"])},d.displayName=c,b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/args":k})}f.$=0;f.ca=function(k){k=E(k);return h(k)};f.F=h;return f}(),xf(b,new p(null,1,[Hs,d],null))):LU(function(f){return new W(null,2,5,Y,[gh(a,Tv.B(f)),f],null)},b,c)}
function PU(){var a=QU();ReactDOM.render(a,document.getElementById("app"));return null}var OU=new p(null,1,[Ez,function(a,b){return lh.j(Tv.B(a),Tv.B(b))}],null);var RU=kU(15,{});var SU=kU(68,{});var TU=kU(69,{});var UU=kU(70,{});kU(71,{});var VU=function(a,b,c){var d=P(c,0,null),e=null!=d&&(d.J&64||l===d.va)?gh(hk,d):d,f=B.j(e,mB),h=B.C(e,lx,NS.F(M([ds,20]))),k=B.C(e,At,function(){var ka=Zr.B(e);return q(ka)?ka:MS()}()),m=B.j(e,NA),n=B.C(e,Dy,jv),r=B.j(e,Wt),u=B.C(e,aq,ar),w=B.j(e,Cn),A=B.j(e,Om),G=B.j(e,Sq);d=B.C(e,uB,mP(2048));var I=B.C(e,rz,$R),F=B.C(e,Yv,!0);null!=P(c,1,null)&&yT(fz,1594,new pl(function(){return new W(null,1,5,Y,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),1346714856);Pf(e,
Fm)&&yT(fz,1595,new pl(function(){return new W(null,1,5,Y,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),1012610012);("string"!==typeof b||QB(b))&&yT(fz,1598,new pl(function(){return new W(null,1,5,Y,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),1795657187);var N=KT(n);n=function(){if(q(aS)){var ka=aS.location;var oa=q(ka)?new p(null,7,[Xp,ka.href,NA,ka.protocol,bu,ka.hostname,Sq,ka.host,Lp,ka.pathname,
Gq,ka.search,aA,ka.hash],null):null}else oa=null;ka=q(a)?a:Lp.B(oa);var Ca=tz.B(e);if(q(Ca))return new W(null,2,5,Y,[Ca.C?Ca.C(ka,oa,mq):Ca.call(null,ka,oa,mq),Ca.C?Ca.C(ka,oa,oz):Ca.call(null,ka,oa,oz)],null);q(m)?Ca=m:(Ca=NA.B(oa),Ca=q(Ca)?Ca:Gn);oa=q(G)?q(w)?[t.B(G),":",t.B(w)].join(""):G:q(w)?[t.B(bu.B(oa)),":",t.B(w)].join(""):Sq.B(oa);return new W(null,2,5,Y,[eU(Ca,oa,ka,mq),eU(Ca,oa,ka,oz)],null)}();c=P(n,0,null);var O=P(n,1,null);n=new p(null,3,[Jr,iQ(mP(128),null),Zn,iQ(mP(10),null),Yq,function(){var ka=
mP(512);return q(F)?hQ(ka,Lh.B(function(oa){return new W(null,2,5,Y,[tA,oa],null)})):iQ(ka,null)}()],null);h=new p(null,6,[At,k,Rw,n,Wt,r,Om,A,Dy,N,lx,h],null);var U=lk.F(M([h,new p(null,2,[ly,c,rz,I],null)])),ea=lk.F(M([h,new p(null,3,[ly,O,mB,f,rz,I],null)])),va=new p(null,2,[Iw,U,Jn,ea],null);f=LT(function(){var ka=u instanceof C?u.ma:null;switch(ka){case "ws":return $T(U,b);case "ajax":return cU(ea,b);case "auto":ka=lk.F(M([new p(null,2,[zy,Ch(new p(null,4,[aq,ar,Zx,!1,ot,!1,Rr,b],null)),fq,Ch(null)],
null),va]));var oa=R.F(ka,Iw,M([Jn,zy,fq]));oa=Gf(ka)?ai.j(V,oa):oa;return new dU(Iw.B(ka),Jn.B(ka),zy.B(ka),fq.B(ka),null,mh(oa),null);default:throw Error(["No matching clause: ",t.B(ka)].join(""));}}());if(q(f)){var wa=zy.B(f),xa=Jr.B(n),Ra=xh(OT,f);d=sQ(new W(null,3,5,Y,[Jr.B(n),Zn.B(n),Yq.B(n)],null),d);I=hQ(1,Lh.B(function(ka){var oa=ET(ka);ka=q(oa)?new W(null,2,5,Y,[bz,ka],null):ka;oa=P(ka,0,null);var Ca=P(ka,1,null);return new p(null,6,[qr,xa,Ft,Ra,Zn,wa,vp,ka,dB,oa,eu,Ca],null)}));pQ(d,I);
return new p(null,4,[st,f,qr,I,Ft,Ra,Zn,zy.B(f)],null)}return yT(fz,1700,new pl(function(){return new W(null,1,5,Y,["Failed to create channel socket"],null)}),754537918)}("/chsk",null,M([new p(null,1,[aq,ar],null)])),WU=null!=VU&&(VU.J&64||l===VU.va)?gh(hk,VU):VU;B.j(WU,st);var XU=B.j(WU,qr);B.j(WU,Ft);B.j(WU,Zn);
var YU=Ch(function(){return null}),ZU=JU(function(){return AU("div",{className:"flex-1"},null)},new W(null,1,5,Y,[new p(null,1,[Bz,function(a){var b=H(Tv.B(a));b=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;b=B.j(b,oq);UU(ReactDOM.findDOMNode(vo.B(a)),{value:b,mode:"clojure",lineNumbers:!1});return a}],null)],null),"literate.app/Code"),$U=JU(function(){return AU("div",null,null)},new W(null,1,5,Y,[new p(null,1,[Bz,function(a){var b=H(Tv.B(a));b=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;b=B.j(b,UA);SU(ReactDOM.findDOMNode(vo.B(a)),
zl(b));return a}],null)],null),"literate.app/VegaLite"),aV=JU(function(a){return AU("div",{dangerouslySetInnerHTML:{__html:RU(Uy.B(a))},className:"flex-1 bg-white px-3 py-1 font-thin"},[])},null,"literate.app/Markdown"),bV=JU(function(a){return AU("div",{dangerouslySetInnerHTML:{__html:zt.B(a)},className:"flex-1"},[])},null,"literate.app/Html"),cV=JU(function(a){a=ei(a,new W(null,2,5,Y,[Su,Nw],null));return AU("div",{style:{height:q(a)?a:"320px"},className:"flex-1"},[])},new W(null,1,5,Y,[new p(null,
2,[Bz,function(a){var b=Tv.B(a);b=P(b,0,null);b=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;var c=B.j(b,yt),d=B.j(b,wm);b=B.j(b,uq);c=TU.map(ReactDOM.findDOMNode(vo.B(a))).setView(zl(c),d);d=TU.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'\x26copy; \x3ca href\x3d"https://www.openstreetmap.org/copyright"\x3eOpenStreetMap\x3c/a\x3e contributors'});b=q(b)?TU.geoJSON(zl(b)):null;d.addTo(c);q(b)&&b.addTo(c);return Q.F(a,Wn,c,M([zw,d,uw,b]))},Vm,function(a){var b=null!=a&&(a.J&
64||l===a.va)?gh(hk,a):a,c=B.j(b,Wn),d=B.j(b,uw);b=B.j(b,Tv);b=H(b);b=null!=b&&(b.J&64||l===b.va)?gh(hk,b):b;B.j(b,yt);B.j(b,wm);b=B.j(b,uq);b=q(b)?TU.geoJSON(zl(b)):null;q(d)&&c.removeLayer(d);q(b)&&b.addTo(c);return Q.C(a,uw,b)}],null)],null),"literate.app/Leaflet"),eV=JU(function(a){return AU("div",{className:"flex flex-1 space-x-2"},[Ic(function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,
m);n=AU("div",{key:jB.B(n),className:"flex-1"},[zU(dV.B?dV.B(n):dV.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=H(e);return hf(AU("div",{key:jB.B(k),className:"flex-1"},[zU(dV.B?dV.B(k):dV.call(null,k))]),d(Fe(e)))}return null}},null,null)}(Np.B(a))}())])},null,"literate.app/Row"),fV=JU(function(a){return AU("div",{className:"flex flex-col flex-1 space-y-2"},[Ic(function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=
ae(e),h=K(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=AU("div",{key:jB.B(n),className:"flex-1"},[zU(dV.B?dV.B(n):dV.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?Qg(Sg(k),d(be(e))):Qg(Sg(k),null)}k=H(e);return hf(AU("div",{key:jB.B(k),className:"flex-1"},[zU(dV.B?dV.B(k):dV.call(null,k))]),d(Fe(e)))}return null}},null,null)}(Np.B(a))}())])},null,"literate.app/Column"),dV=JU(function(a){var b=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a,c=B.j(b,jB),d=B.j(b,Is);b=function(){switch(d instanceof
C?d.ma:null){case "widget.type/row":return eV(a);case "widget.type/column":return fV(a);case "widget.type/vega-lite":return $U(a);case "widget.type/code":return ZU(a);case "widget.type/markdown":return aV(a);case "widget.type/hiccup":return bV(a);case "widget.type/html":return bV(a);case "widget.type/leaflet":return cV(a);default:return new W(null,2,5,Y,[Qz,new W(null,3,5,Y,[nq,"Unknown Widget type ",new W(null,2,5,Y,[tq,t.B(d)],null)],null)],null)}}();return React.cloneElement(b,{key:c},null)},null,
"literate.app/Widget"),QU=JU(function(){return AU("div",{className:"flex flex-col"},[AU("span",{style:{fontFamily:"Cinzel"},className:"text-lg text-gray-700 py-6"},["Literate"]),Ic(function(){return function c(b){return new Jg(null,function(){for(;;){var d=E(b);if(d){var e=d;if(If(e)){var f=ae(e),h=K(f),k=Ng(h);return function(){for(var w=0;;)if(w<h){var A=x(f,w),G=null!=A&&(A.J&64||l===A.va)?gh(hk,A):A,I=G,F=B.j(G,Wr);Rg(k,AU("div",{key:F,className:"flex mb-6 shadow"},[AU("div",{className:"bg-gray-200 px-2 py-1"},
[AU("div",{onClick:function(N,O,U,ea,va){return function(){return TO(va)}}(w,A,G,I,F,f,h,k,e,d),className:"rounded-full hover:bg-gray-400 h-5 w-5 flex items-center justify-center"},[AU("i",{className:"zmdi zmdi-close text-gray-600"},null)])]),dV(I)]));w+=1}else return!0}()?Qg(Sg(k),c(be(e))):Qg(Sg(k),null)}var m=H(e),n=null!=m&&(m.J&64||l===m.va)?gh(hk,m):m,r=n,u=B.j(n,Wr);return hf(AU("div",{key:u,className:"flex mb-6 shadow"},[AU("div",{className:"bg-gray-200 px-2 py-1"},[AU("div",{onClick:function(w,
A,G,I){return function(){return TO(I)}}(m,n,r,u,e,d),className:"rounded-full hover:bg-gray-400 h-5 w-5 flex items-center justify-center"},[AU("i",{className:"zmdi zmdi-close text-gray-600"},null)])]),dV(r)]),c(Fe(e)))}return null}},null,null)}(UO())}()),AU("div",{className:"fixed bottom-0 right-0 mr-4 mb-4"},[AU("div",{onClick:function(){return rO(new W(null,1,5,Y,[new p(null,3,[jB,t.B(bm()),Is,Lu,oq,function(){var a=new dc,b=kc,c=jc;kc=!0;jc=function(d){return a.append(d)};try{LD()}finally{jc=c,
kc=b}return t.B(a)}()],null)],null))},className:"rounded-full h-8 w-8 flex items-center justify-center text-2xl hover:bg-green-200"},[AU("i",{className:"zmdi zmdi-bug text-green-500"},null)])])])},null,"literate.app/App");function gV(a){a=null!=a&&(a.J&64||l===a.va)?gh(hk,a):a;var b=B.j(a,eu),c=P(b,0,null);b=P(b,1,null);console.group("Sente");console.log(nk(a,new W(null,2,5,Y,[dB,eu],null)));console.groupEnd();return D.j(oA,c)?rO(b):null}
function hV(){Dh(YU,gU(XU,gV));sO(function(){console.log("Will re-render...");return PU()});return PU()}Ha("literate.app.init",hV);try{hV()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);